(self.mvWrapperJsonp=self.mvWrapperJsonp||[]).push([[9598],{525:(e,t,i)=>{"use strict";i.d(t,{DV:()=>r,oH:()=>o});var s=i(7139),n=i(1917),a=i(9011);const r=({s2sSrc:e,s2sStagingSrc:t},{name:i})=>new RegExp("(.*)s2sStagingEnv-t$").test(i)?t:e,o=(e=window.$mediavine.web.model.s2sBetas||[])=>{const t=(0,a.Ph)("s2sVersion");if(t)return{group:"t",version:t,name:t};if(window.$mediavine.web.s2sBetaSelection)return window.$mediavine.web.s2sBetaSelection;const i=d(e),r=new s.K(i).activate(n.l.s2sBeta)||"production",o=Math.random()>.5?"t":"c",c={group:o,version:r,name:"production"===r?"production":`${r}-${o}`};return window.$mediavine.web.s2sBetaSelection=c,c},d=e=>{const t=e.map((e=>({flag:n.l.s2sBeta,percent:parseFloat(e.trafficPercentage),value:e.version})));return t.push({default:!0,value:"production",flag:n.l.s2sBeta}),t}},4157:(e,t,i)=>{"use strict";i.r(t),i.d(t,{S2SAdapter:()=>K});var s,n=i(6736),a=i(5990),r=i(719),o=i(3427);!function(e){e.https="https:",e.http="http:"}(s||(s={}));var d=i(525),c=i(9628),l=i(290),p=i(9011);const u=(0,p.DY)("test","nativeTestAd"),v=(0,p.DY)("test","nativeTestVideoAd"),m={};const g=(e,t)=>{const i=e.bidId;return{id:i,mediaType:c.D.native,bidder:"rubicon",seatbid:[{bid:[{id:"12345",impid:i,price:10.5,unadjustedPrice:10.5,nurl:"http://placehold.it/1x1?nurl",adm:t,h:1,w:1,exp:300,crid:"12345",cid:"12345"}]}]}},h={id:7,video:{vasttag:'\n<VAST version="4.0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.iab.com/VAST">\n  <Ad id="20001" sequence="1" conditionalAd="false">\n    <InLine>\n      <AdSystem version="4.0">iabtechlab</AdSystem>\n      <Error>http://example.com/error</Error>\n      <Impression id="Impression-ID">http://example.com/track/impression</Impression>\n      <Pricing model="cpm" currency="USD">\n        <![CDATA[ 25.00 ]]>\n      </Pricing>\n      <AdTitle>Inline Simple Ad</AdTitle>\n      <AdVerifications></AdVerifications>\n      <Advertiser>IAB Sample Company</Advertiser>\n      <Category authority="http://www.iabtechlab.com/categoryauthority">AD CONTENT description category</Category>\n      <Creatives>\n        <Creative id="5480" sequence="1" adId="2447226">\n          <UniversalAdId idRegistry="Ad-ID" idValue="8465">8465</UniversalAdId>\n          <Linear>\n            <TrackingEvents>\n              <Tracking event="start">http://example.com/tracking/start</Tracking>\n              <Tracking event="firstQuartile">http://example.com/tracking/firstQuartile</Tracking>\n              <Tracking event="midpoint">http://example.com/tracking/midpoint</Tracking>\n              <Tracking event="thirdQuartile">http://example.com/tracking/thirdQuartile</Tracking>\n              <Tracking event="complete">http://example.com/tracking/complete</Tracking>\n              <Tracking event="progress" offset="00:00:10">http://example.com/tracking/progress-10</Tracking>\n            </TrackingEvents>\n            <Duration>00:00:16</Duration>\n            <MediaFiles>\n              <MediaFile id="5241" delivery="progressive" type="video/mp4" bitrate="2000" width="1280" height="720" minBitrate="1500" maxBitrate="2500" scalable="1" maintainAspectRatio="1" codec="H.264">\n                <![CDATA[https://iab-publicfiles.s3.amazonaws.com/vast/VAST-4.0-Short-Intro.mp4]]>\n              </MediaFile>\n              <MediaFile id="5244" delivery="progressive" type="video/mp4" bitrate="1000" width="854" height="480" minBitrate="700" maxBitrate="1500" scalable="1" maintainAspectRatio="1" codec="H.264">\n                <![CDATA[https://iab-publicfiles.s3.amazonaws.com/vast/VAST-4.0-Short-Intro-mid-resolution.mp4]]>\n              </MediaFile>\n              <MediaFile id="5246" delivery="progressive" type="video/mp4" bitrate="600" width="640" height="360" minBitrate="500" maxBitrate="700" scalable="1" maintainAspectRatio="1" codec="H.264">\n                <![CDATA[https://iab-publicfiles.s3.amazonaws.com/vast/VAST-4.0-Short-Intro-low-resolution.mp4]]>\n              </MediaFile>\n            </MediaFiles>\n            <VideoClicks>\n              <ClickThrough id="blog">\n                <![CDATA[https://iabtechlab.com]]>\n              </ClickThrough>\n            </VideoClicks>\n          </Linear>\n        </Creative>\n      </Creatives>\n    </InLine>\n  </Ad>\n</VAST>\n'}},w=(e=[])=>({assets:[...e,{id:4,data:{value:"Mediavine"}},{id:1,title:{text:"Mediavine Test Native"}},{id:5,data:{value:"You are seeing a test native advertisement. It is being displayed because we've detected the query param test set to `nativeTestAd`. I hope this ad finds you well!"}},{id:22,data:{value:"Call To Action"}}],link:{url:"https://mediavine.com",clicktrackers:["https://placehold.it/1x1?clicktracker"]},eventtrackers:[{method:1,event:1,url:"https://placehold.it/1x1?ImpressionTrackerPixel"},{method:2,event:1,url:"https://placehold.it/1x1?ImpressionTrackerScript"},{method:1,event:2,url:"https://placehold.it/1x1?ViewTrackerPixel"},{method:2,event:2,url:"https://placehold.it/1x1?ViewTrackerScript"}],imptrackers:["https://placehold.it/1x1?imptracker"],jstracker:"<script src='https://placehold.it/1x1?jstracker' type='application/javascript'><\/script>"}),b=Object.assign({},w([h])),I=Object.assign({},w([{id:2,img:{url:"https://picsum.photos/300/225",w:300,h:225,ext:{appnexus:{prevent_crop:0}}}}]));var T=i(2897);const E=e=>{var t;const i={};if(e.hasOwnProperty("adm")){let s={};if("string"==typeof e.adm)try{s={native:JSON.parse(e.adm)}}catch(e){((...e)=>{o.ZP.custom("s2s",...e)})("cannot parse native response")}else"object"==typeof e.adm&&(s={native:e.adm});if(e.admobject&&(s=e.admobject),s.native.native&&(s.native=s.native.native),e.adm_native&&(s.native=e.adm_native),s&&s.native&&s.native.assets&&s.native.assets.length>0){for(let e=0,t=s.native.assets.length;e<t;e++)switch(s.native.assets[e].id){case f.TITLE.ID:i.title=s.native.assets[e].title&&s.native.assets[e].title.text;break;case f.IMAGE.ID:i.image={url:s.native.assets[e].img&&s.native.assets[e].img.url,height:s.native.assets[e].img&&s.native.assets[e].img.h,width:s.native.assets[e].img&&s.native.assets[e].img.w};break;case f.ICON.ID:i.icon={url:s.native.assets[e].img&&s.native.assets[e].img.url,height:s.native.assets[e].img&&s.native.assets[e].img.h,width:s.native.assets[e].img&&s.native.assets[e].img.w};break;case f.VIDEO.ID:i.video={vastXml:s.native.assets[e].video&&s.native.assets[e].video.vasttag};break;case f.SPONSOREDBY.ID:case f.BODY.ID:case f.LIKES.ID:case f.DOWNLOADS.ID:case f.PRICE:case f.SALEPRICE.ID:case f.PHONE.ID:case f.ADDRESS.ID:case f.DESC2.ID:case f.CTA.ID:case f.RATING.ID:case f.DISPLAYURL.ID:i[k[s.native.assets[e].id]]=s.native.assets[e].data&&s.native.assets[e].data.value}i.clickUrl=s.native.link&&s.native.link.url,i.clickTrackers=s.native.link&&s.native.link.clicktrackers||[],i.impressionTrackers=(s.native.imptrackers||[]).map((t=>D(t,e.price))),i.eventTrackers=s.native.eventtrackers||[],(i.eventTrackers||[]).forEach((t=>{t.url=D(t.url,e.price)})),i.jstracker=D(s.native.jstracker,e.price)||"",e.nurl&&(null===(t=i.impressionTrackers)||void 0===t||t.push(D(e.nurl,e.price)))}}return i},D=(e,t)=>e&&e.replace(/\$\{AUCTION_PRICE\}/g,String(t)),f={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},k={},A={};var S;function y(e){var t;const i=window.pbjs.getUserIdsAsEids()||[],s=window.pbjs.getUserIds()||[];window.$mediavine.uid2&&i.unshift(new P(window.$mediavine.uid2)),s.bsw_id&&i.push(new x(s.bsw_id)),s.flocId&&i.push(new C(s.flocId));for(const s of i)e&&"pubcid.org"===s.source&&(null===(t=s.uids)||void 0===t?void 0:t.length)&&(s.uids[0].id=e),window.$mediavine.id5Id&&"id5-sync.com"===s.source&&s.uids.length&&(s.uids[0].id=window.$mediavine.id5Id,s.uids[0].ext={linkType:2});return i}T._each(f,(e=>{k[e.ID]=e.KEY})),T._each(f,(e=>{A[e.KEY]=e})),function(e){e[e.browserBased=1]="browserBased",e[e.inAppID=2]="inAppID",e[e.personBased=3]="personBased"}(S||(S={}));class Y{}class C extends Y{constructor(e){super(),this.source="chrome.com",this.uids=[{id:e.id,atype:S.browserBased,ext:{ver:e.version}}]}}class P extends Y{constructor(e){super(),this.source="uidapi.com",this.uids=[{id:e,atype:S.personBased,ext:{rtiPartner:"UID2"}}]}}class x extends Y{constructor(e){super(),this.source="bidswitch.net",this.uids=[Object.assign({atype:S.browserBased},e)]}}var O=i(4266);var _=i(9666);const B={};function R(e){e.forEach((e=>{if(e.adUnitCode){const t=B[e.adUnitCode]||function(e){let t=e.replace($,"");-1===t.indexOf("adhesion")&&(t=t.replace("desktop","btf"));return t}(e.adUnitCode);B[e.adUnitCode]=t;const i=_.Z.getSlotById(t);e.refreshCount=null==i?void 0:i.refreshes,e.adunitPath=null==i?void 0:i.adUnitPath}}))}const $=new RegExp(/_outstream_desktop|_outstream_mobile|_ibv_desktop|_ibv_mobile/);const V=(...e)=>o.ZP.custom("s2s",...e);class K{constructor(){this.supportedMediaTypes=[c.D.banner,c.D.video,c.D.native],this.code=n.tO.S2S}get bidRequestUrl(){if(K.bidReqUrl)return K.bidReqUrl;const e=(0,d.oH)(),t=(0,d.DV)(window.$mediavine.web.model,e);window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("s2sVersion",e.name)}));const i=`${t}/bidRequest/?s2sVersion=${e.name}`;return K.bidReqUrl=i,i}get additionalConsent(){if(K.acVendors.length)return K.acVendors;const e=localStorage.getItem("addtlConsent");if(!e)return;const t=e.split("~")[1];return K.acVendors=t.split("."),K.acVendors}get token(){const e=new r.V({name:"mv_tokens"});try{return e.value||{mv_uuid:void 0,version:void 0}}catch(e){return{mv_uuid:void 0,version:void 0}}}buildRequests(e,t){var i,n;!function(){var e;null===(e=window.$mediavine.newrelic)||void 0===e||e.addPageAction("xidCheck",{hasXid:"1"===window.$mediavine.xid,os:O.AS.os,osv:O.AS.osversion,deviceType:O.AS.deviceType,browser:O.AS.browser,wrapperVersion:window.$mediavine.web.model.versionGroup.version,wrapperGroup:window.$mediavine.web.model.versionGroup.name})}(),R(t.bids);const a={uuid:this.token.mv_uuid||"",uuidVersion:this.token.version,hash:null===(n=null===(i=window.$mediavine)||void 0===i?void 0:i.web)||void 0===n?void 0:n.hash,device:{os:O.AS.os,osv:O.AS.osversion,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,ua:navigator.userAgent,language:navigator.language},referrer:document.referrer,slug:window.$mediavine.web.model.slug,categories:window.$mediavine.web.model.categories,topLevelCategory:window.$mediavine.web.model.topLevelCategory,secure:document.location.protocol===s.https?"1":"0",eids:y(this.token.mv_uuid),liftTestBidder:U(),ifa:window.$mediavine.idfa||void 0,additionalConsent:this.additionalConsent,keywords:L(),requestModel:window.$mediavine.web.model.requestModel};!function(e){const t=e.find((e=>e.isNative));if(!t||!u&&!v||!t.bidId)return;let i=I;v&&(i=b),m[t.bidId]=g(t,JSON.stringify(i))}(e);const r=Object.assign(Object.assign({},a),t);return V("request data",r),{data:r,url:this.bidRequestUrl,method:"POST"}}interpretResponse({body:e},t){const i=[];return function(e,t){const{data:i}=t,s=i.bids.find((e=>e.isNative));if(!u&&!v||!s)return;const n=m[s.bidId];n&&e.push(n)}(e,t),e.forEach((e=>{e.seatbid.forEach((t=>{t.bid.forEach((t=>{try{const s={};if(!t.adm)return;if(s.s2sBidder=e.bidder,s.requestId=t.impid,s.ad=t.adm,s.creativeId=t.crid,s.campaignId=t.cid,s.cpm=t.price,s.unadjustedCpm=t.unadjustedPrice||t.price,s.height=t.h,s.width=t.w,s.currency="USD",s.ttl=t.exp,s.netRevenue=!0,s.nurl=t.nurl,s.mediaType=e.mediaType,e.mediaType===c.D.video&&("<"===t.adm.trim()[0]?s.vastXml=t.adm:s.vastUrl=t.adm),e.mediaType===c.D.native){s.mediaType="native";try{s.native=E(t)}catch(e){V(e)}}i.push(s)}catch(t){V("Error building response",t,e)}}))}))})),i}getUserSyncs(e,t){}isBidRequestValid(){return!0}onBidWon(){}onSetTargeting(){}onTimeout(){}}K.acVendors=[];const N=new K;function U(){const e=l.Rw.new(window.$mediavine.web.model);if(e.bidder&&e.mediaType&&e.isS2S()){const t={video:e.isVideo(),banner:e.isDisplay(),outstream:e.isOutstream(),ibv:e.isOutstream()};return{bidder:e.bidder,mediaType:t}}}function L(){const{sales_kw:e,sales_cat:t,sales_evts:i}=window.$mediavine.web.keywords||{};return{sales_kw:null==e?void 0:e.split(","),sales_cat:null==t?void 0:t.split(","),sales_evts:null==i?void 0:i.split(",")}}(0,a.dX)(N)},7703:(e,t,i)=>{"use strict";i.r(t),i.d(t,{storage:()=>c,bidswitchSubmodule:()=>l});var s=i(2897),n=(i(2799),i(6283)),a=i(6064),r=i(9141);const o="bidswitchId",d="1st_bsw_uid",c=(0,a.df)(),l={name:o,decode(e={}){const{userId:t,...i}=e;return{bsw_id:{id:t,ext:i}}},getId(e,t){const i=e&&e.params||{},n=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,a=n?t.consentString:"",o=r.nX.getConsentData();if(n&&(!a||""===a))return void s.logInfo("Consent string is required to call envelope API.");const l=function(){let e=c.localStorageIsEnabled?c.getDataFromLocalStorage(d):null;e||(e=c.cookiesAreEnabled?c.getCookie(d):null);return e||""}(),p=`https://${i.devMode?"dev.verona.iponweb.net":"grid.bidswitch.net"}/syncme?1st_party_uid=${l}&gdpr=${n}&gdpr_consent=${a}&us_privacy=${o}`;let u;return u=function(e){!function(e,t){let i="object"==typeof t&&null!==t?t:{success:function(){},error:function(e){}};"function"==typeof t&&(i.success=t);const s="bsw_cb_"+Math.random().toString(32).slice(2);window[s]=function(e){delete window[s],i.success(e)};const n=document.createElement("script"),a=()=>{delete window[s],n.parentNode&&n.parentNode.removeChild(n)};n.setAttribute("type","text/javascript"),n.src=e+"&cb="+s,n.onload=()=>{setTimeout(a,100)},n.onerror=e=>{a(),i.error(e&&(e.message||e.error)&&new Error(e.message||e.error)||new Error("Unknown script error"))};const r=(document.getElementsByTagName("head")||[])[0];r?r.appendChild(n):i.error(new Error("There is no head tag"))}(p,{success:t=>{let i;if(t)try{i="string"==typeof t?JSON.parse(t):t}catch(e){s.logError(e)}const{userId:n,fpId:a}=i||{};a&&function(e){e&&(c.localStorageIsEnabled?c.setDataInLocalStorage(d,e):c.cookiesAreEnabled&&c.setCookie(d,e))}(a),e({userId:n,fpId:a})},error:t=>{s.logError("bidswitchId: bswId fetch encountered an error",t),e()}})},{callback:u}}};(0,n.Bx)("userId",l)}}]);
//# sourceMappingURL=99db52bdd134541587b5.min.js.map