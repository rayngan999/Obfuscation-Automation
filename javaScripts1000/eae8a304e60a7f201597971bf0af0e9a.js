!function(){function m(a){var c=this.constructor;return this.then(function(e){return c.resolve(a()).then(function(){return e})},function(e){return c.resolve(a()).then(function(){return c.reject(e)})})}function g(a){return !(!a||"undefined"==typeof a.length)}function v(){}function d(a){if(!(this instanceof d)){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof a){throw new TypeError("not a function")}this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],p(a,this)}function b(a,c){for(;3===a._state;){a=a._value}0!==a._state?(a._handled=!0,d._immediateFn(function(){var e=1===a._state?c.onFulfilled:c.onRejected;if(null!==e){var i;try{i=e(a._value)}catch(f){return void k(c.promise,f)}j(c.promise,i)}else{(1===a._state?j:k)(c.promise,a._value)}})):a._deferreds.push(c)}function j(f,i){try{if(i===f){throw new TypeError("A promise cannot be resolved with itself.")}if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if(i instanceof d){return f._state=3,f._value=i,void s(f)}if("function"==typeof a){return void p(function(l,o){return function(){l.apply(o,arguments)}}(a,i),f)}}f._state=1,f._value=i,s(f)}catch(c){k(f,c)}}function k(a,c){a._state=2,a._value=c,s(a)}function s(c){2===c._state&&0===c._deferreds.length&&d._immediateFn(function(){c._handled||d._unhandledRejectionFn(c._value)});for(var f=0,a=c._deferreds.length;a>f;f++){b(c,c._deferreds[f])}c._deferreds=null}function p(c,i){var a=!1;try{c(function(l){a||(a=!0,j(i,l))},function(l){a||(a=!0,k(i,l))})}catch(f){if(a){return}a=!0,k(i,f)}}var q=setTimeout;d.prototype["catch"]=function(a){return this.then(null,a)},d.prototype.then=function(a,f){var c=new this.constructor(v);return b(this,new function(l,o,i){this.onFulfilled="function"==typeof l?l:null,this.onRejected="function"==typeof o?o:null,this.promise=i}(a,f,c)),c},d.prototype["finally"]=m,d.all=function(a){return new d(function(l,x){function n(i,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var f=r.then;if("function"==typeof f){return void f.call(r,function(t){n(i,t)},x)}}e[i]=r,0==--w&&l(e)}catch(o){x(o)}}if(!g(a)){return x(new TypeError("Promise.all accepts an array"))}var e=Array.prototype.slice.call(a);if(0===e.length){return l([])}for(var w=e.length,c=0;e.length>c;c++){n(c,e[c])}})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(c){c(a)})},d.reject=function(a){return new d(function(e,c){c(a)})},d.race=function(a){return new d(function(e,l){if(!g(a)){return l(new TypeError("Promise.race accepts an array"))}for(var c=0,n=a.length;n>c;c++){d.resolve(a[c]).then(e,l)}})},d._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){q(a,0)},d._unhandledRejectionFn=function(a){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};var h=function(){if("undefined"!=typeof self){return self}if("undefined"!=typeof window){return window}if("undefined"!=typeof global){return global}throw Error("unable to locate global object")}();"Promise" in h?h.Promise.prototype["finally"]||(h.Promise.prototype["finally"]=m):h.Promise=d}();(function(c,b){function a(J,h){var N=false;var k;var w;var v;var O={};var d={};function K(Q,S,P){w=g(Q);var R=new Promise(function(U){var T=h.getElementById("_bc_cookie_jar");if(!T){T=h.createElement("iframe");T.id="_bc_cookie_jar";T.src=Q;T.style.cssText="width:0;height:0;border:none";T.setAttribute("frameborder","0");T.setAttribute("scrolling","no");T.onload=function(){U(T)};h.body.appendChild(T)}else{U(T)}});R.then(function(T){k=T.contentWindow;l(J,"message",S);H().then(function(U){if(!U){if(E()&&(I(h.location.search)||s())){M(P)}else{console.warn("Third party cookies are blocked. Falling back to first-party cookies, cross domain functionality may not work.");P(false)}}else{P(true)}})});return R}function M(P){x().then(function(Q){if(Q){P(true)}else{m(function(){P(true)})}})}function x(){return v.then(function(){if(k){var P=Math.random();k.postMessage(JSON.stringify({id:P,method:"requestStorageAccess"}),w);return new Promise(function(Q){O[P]=function(R){delete O[P];Q(R)}})}else{return Promise.reject("Iframe is not loaded")}})}function q(){return v.then(function(){if(k){var P=Math.random();k.postMessage(JSON.stringify({id:P,method:"hasStorageAccess"}),w);return new Promise(function(Q){O[P]=function(R){delete O[P];Q(R)}})}else{return Promise.reject("Iframe is not loaded")}})}function H(){return F("_bc_tpc_check","OK").then(function(){return u("_bc_tpc_check").then(function(P){return F("_bc_tpc_check","").then(function(){return P==="OK"})})})}function e(){var P=J.navigator.userAgent.toLowerCase();if(P.indexOf("safari")!==-1){return P.indexOf("chrome")===-1}return false}function E(){return e()}function g(P){var R=P.split("/");var S=R[0];var Q=R[2];return S+"//"+Q}function p(P){if(P.source!==k){return}var Q=P.data&&JSON.parse(P.data);if(Q&&Q.eventType==="cookie"){O[Q.id](Q.cookieValue)}}function B(){var R=J._bcvma||[];for(var P=0;P<R.length||0;P++){var S=R[P]||[];var Q=S[0];if(Q==="setParameter"){if(S[1]==="IframeUrl"){return S[2]}}}return null}function L(){if(y()){return new Promise(function(P){v=K(A,p,P)}).then(function(P){N=P})}else{v=Promise.resolve()}return Promise.resolve()}function l(S,T,R){var P="on"+T;var Q=S[P];if(S.addEventListener){S.addEventListener(T,R,false)}else{if(S.attachEvent){S.attachEvent(P,R)}else{S[P]=function(U){R(U);return Q(U)}}}}function u(P){var Q=Math.random();k.postMessage(JSON.stringify({id:Q,method:"getCookie",cookieName:P}),w);return new Promise(function(R){O[Q]=function(S){delete O[Q];R(S)}})}function F(Q,R,P){var S=Math.random();k.postMessage(JSON.stringify({id:S,method:"setCookie",cookieName:Q,cookieValue:R,cookieExpiry:P}),w);return new Promise(function(T){O[S]=function(U){delete O[S];T(U)}})}function t(){return new J.Date().getTime()}function r(S,Q,P){var T,R=S.indexOf(Q+"=");if(R!==-1){R+=Q.length+1;T=S.indexOf(P,R);return S.substring(R,T===-1?S.length:T)}}function G(P){if("undefined"!==typeof d&&"undefined"!==typeof d[P]){return d[P]}return r(h.cookie,P,";")}function D(P,V,R,S){var Q=R&&new Date(t()+R);if(!S){S=J._bcvm&&J._bcvm.domain}if(!S){var W=h.location.host;var U=W.indexOf(".");W=U===W.lastIndexOf(".")?"."+W:W.substring(U);var T=W.indexOf(":");if(T!==-1){W=W.substring(0,T)}S=W}var X=J._bcvm&&J._bcvm.path||"/";return P+"="+V+(R?";expires="+Q.toUTCString():"")+";domain="+S+";path="+X}function i(Q,S,P,R){h.cookie=D(Q,S,P,R)}function n(P){if("undefined"!==typeof d&&"undefined"!==typeof d[P]){return Promise.resolve(d[P])}return j.then(function(){if(N){return u(P)["catch"](function(){return G(P)})}else{return Promise.resolve(G(P))}})}function o(Q,S,P,R){d[Q]=S;return j.then(function(){if(N){return F(Q,S,P)["catch"](function(){return i(Q,S,P,R)})}else{return new Promise(function(T){i(Q,S,P,R);T()})}}).then(function(T){delete d[Q];return T})}function m(P){setTimeout(function(){H().then(function(Q){if(Q){P()}else{m(P)}})},200)}function C(){return N}function y(){return !!A}function f(){if(!C()&&E()){return x().then(function(P){if(P){return Promise.all([q(),H()]).then(function(Q){N=Q[0]&&Q[1]})}else{N=false}})}return Promise.resolve()}function I(P){return P.indexOf("bcContinueChat=1")!==-1}function s(){return G("_bcContinueChat")==="true"}function z(P){return i("_bcContinueChat",!!P)}var A=B();var j=L();J._bcvmc={getCookie:G,getCookieAsync:n,setCookie:o,isIframeEnabled:C,requestStorageAccess:x,hasStorageAccess:q,isCrossDomainEnabled:y,hasContinueChatParam:I,hasContinueChatCookie:s,saveContinueChatCookie:z,switchToCrossDomain:f};return j}a(c,b)}(window,document));(function(e,d){var b=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var g=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return g>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(h){}return false}());function c(k){k.bc=k.bc||{};k.bc.featureDetection=k.bc.featureDetection||n();return k.bc.featureDetection;function n(){return{hasLocalStorageSupport:h,hasJsonSupport:i,hasCorsXhrSupport:j,hasConsoleSupport:l,features:q()}}function q(){return{localStorage:g(),json:m(),corsXhr:o(),console:p()}}function o(){return !!k.XMLHttpRequest&&(new k.XMLHttpRequest().withCredentials!==undefined)}function m(){return !!k.JSON&&!!k.JSON.parse&&!!k.JSON.stringify}function g(){try{var t=k.localStorage;var r="__storage_test__";t.setItem(r,r);t.getItem(r);t.removeItem(r);return true}catch(s){return false}}function p(){return !!k.console&&!!k.console.error&&!!k.console.log}function h(){return this.features.localStorage}function i(){return this.features.json}function j(){return this.features.corsXhr}function l(){return this.features.console}}function f(n,g){n.bc=n.bc||{};n.bc.visitorTracking=n.bc.visitorTracking||s();return j();function j(){return n.bc.visitorTracking}function s(){return{sync:r,getToken:v,storeToken:k,featureDetection:new c(n),synced:false,isSyncing:false,token:null}}function r(x){x=x||function(){};var z=j().getToken();if(j().synced){x(z)}else{if(j().isSyncing){var y=function(){var A=v();x(A)};u(y)}else{p(z,x)}}}function v(){if(j().token){return j().token}if(j().featureDetection.hasLocalStorageSupport()&&j().featureDetection.hasJsonSupport()){return i(n.localStorage.getItem("bc.visitor_token"))}return null}function k(x){j().token=x;if(j().featureDetection.hasLocalStorageSupport()&&j().featureDetection.hasJsonSupport()){n.localStorage.setItem("bc.visitor_token",o(x))}}function q(A,y,x){A=A||function(){return true};y=y||50;x=x||function(){};var z=function(){if(A()){x()}else{setTimeout(z,y)}};z()}function u(x){var y=function(){return !j().isSyncing};q(y,200,x)}function p(A,x){if(!(j().featureDetection.hasCorsXhrSupport()&&j().featureDetection.hasJsonSupport())){w(v(),x);return}j().isSyncing=true;var y=A?g+"?visitorToken="+A:g;var z=new n.XMLHttpRequest();z.withCredentials=true;z.open("get",y,true);z.timeout=5000;z.ontimeout=function(){m(z,x)};z.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){var B=l(this.responseText);w(B,x)}else{m(z,x)}}};z.send(null)}function w(y,x){j().isSyncing=false;j().synced=true;x(y)}function m(y,x){j().isSyncing=false;j().synced=false;t("visitorToken syncing failed: ",y);x(v())}function t(){if(j().featureDetection.hasConsoleSupport()){console.error.apply(console,arguments)}}function i(y){var x;try{x=n.JSON.parse(y||null)||{}}catch(z){x={}}return x.token||null}function l(y){var x=h(y);k(x);return x}function h(x){return n.JSON.parse(x).visitorToken}function o(x){return n.JSON.stringify({token:x})}}function a(n,M,h,C){var k="_bc-curl";var L="_bc-show-floating-button_";var H=300000;var x=u(h);var G="nanorep";var E="agent";function J(){return o().then(function(N){var O=s()||N;if(n._bcvmw.cancelWidgetStart){return false}if(O){return n._bcvmw.chatWindow(O,O.id).then(function(){return true})}return false})}var t;function s(){var N=n.sessionStorage&&n.sessionStorage.getItem(k);return N?w(N):null}function K(){return !!(s()||A())}function g(){return o().then(function(N){return !!(s()||N)})}function B(){if(n._bcvmc.isCrossDomainEnabled()){return n._bcvmc.switchToCrossDomain()}else{return Promise.resolve()}}function o(){return n._bcvmc.getCookieAsync("_bc-curl").then(w).then(function(N){t=N;return N})}function A(){return w(n._bcvmc.getCookie("_bc-curl"))}function j(N){if(!N){return Promise.resolve(false)}var O=L+N;return n._bcvmc.getCookieAsync(O).then(function(P){return P==="true"})}function D(O,N){if(!N||!n||!n._bcvmc||!n._bcvmc.setCookie){return}n._bcvmc.setCookie(L+N,O,H)}function u(O){var N=O.indexOf("-")===0?O.substring(O.indexOf(".")):O;return new RegExp(N.replace(/\./g,"\\.")+"$")}function v(N){var O=document.createElement("a");O.href=N;return x.test(O.hostname)}var q=(function(){var N=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return N&&parseInt(N[2],10)>=47}());function m(N){n._bcvmw.cancelWidgetStart=N}n._bcvmw={chatWindow:function(O,P,N){if(n._bcvmw.cancelWidgetStart&&!O.bt_override){return Promise.resolve()}return B().then(function(){return n._bcvmw.hasActiveChatAsync().then(function(V){var X=O.launchType===G?G:E;if(!n._bcvmw.previousChatType){n._bcvmw.previousChatType=X}if(V&&O.bt_override){if(n._bcvmw.previousChatType&&n._bcvmw.previousChatType!==X){if(X===G){n._bcvmw.closeAgent=true}if(X===E){n._bcvmw.closeNanorep=true}}}if(!P&&V&&!O.bt_override){return J().then(function(){return Promise.resolve()})}m(true);var ae=n.pageViewer;var Q;var ac=null;var W=n.hideBox||n.bt_hideAnimationImpl;var aa=O.video&&b&&q&&!/^https:/.test(n.location.protocol);var R=aa||/(android 2|android 3)/i.test(navigator.userAgent)||/iemobile\/9/i.test(navigator.userAgent)||/(msie 7)/i.test(navigator.userAgent)||/(msie 8|msie 9)/i.test(navigator.userAgent)&&document.compatMode!=="CSS1Compat";var ad=/(msie 6|opera mini|opera mobi.*presto)/i.test(navigator.userAgent);var Y=ae&&ae.getParameter("OverrideLayer",O)==="true";var S=R||ad||ae&&ae.getParameter("OverridePopup",O)==="true";if(!N&&!P){N=ae&&ae.getParameter("SecureParameters",O)}if(typeof N==="function"){N=N(function(af){m(false);n._bcvmw.chatWindow(O,P,af)},"chat");if(!N){return}}if(n._bcvmw.customChatWindow){var ab={button:O.bdid,queueToken:O.token,url:M.location.href,customUrl:ae&&ae.getWindowParameter("CustomUrl",O),secure:N,visitor:ae&&ae.getVisitorID(),forcePopup:!O.embed&&!Y||S,width:(ae.getWindowParameter("ChatWidth",O)||O.width||"640"),height:(ae.getWindowParameter("ChatHeight",O)||O.height||"480"),language:ae&&ae.getWindowParameter("Language",O)};var T={reference:ae&&ae.getWindowParameter("VisitRef",O),information:ae&&ae.getWindowParameter("VisitInfo",O),name:O.name||(ae&&ae.getWindowParameter("VisitName",O)),phone:ae&&ae.getWindowParameter("VisitPhone",O),email:O.email||(ae&&ae.getWindowParameter("VisitEmail",O)),initial_question:O.initialQuestion||(ae&&ae.getWindowParameter("InitialQuestion",O))};var Z=n._bcvmw.customChatWindow(ab,T);if(typeof Z==="undefined"||Z){m(false);return}}function U(){if(!O.invite&&W){W(2)}function af(){if(O.url&&!O.invite){Q=O.url;return Promise.resolve()}else{var ah=ae.getParameter("WebsiteDefID",O)||ae.getParameter("WebsiteID",O);Q=O.url||"https://livechat"+n._bcvm.host+"/bc."+O.type+"?resize=true"+(O.bdid?"&cbdid="+O.bdid:(O.cwdid?"&cwdid="+O.cwdid:""))+(ah?"&wdid="+ah:"")+"&url="+(n.encodeURIComponent||n.escape)(M.location.href);Q+=(O.token?"&queueToken="+O.token:"");var ag=ae.getParameter("PinvitationID",O);if(ag){Q+="&pinid="+ag}var al={Language:"lc",Difficulty:"Difficulty",Urgency:"Urgency",CustomUrl:"curl",WindowParameters:null};for(var aj in al){var ak=al[aj];var ai=ae.getParameter(aj,O);if(ai){Q+="&"+(ak?ak+"=":"")+ai}}Q+=(O.rdid?"&rdid="+O.rdid:"")+(O.roid?"&roid="+O.roid:"");Q+=(O.group?"&group="+O.group:"");if(ae&&ae.link){return ae.link(Q,true).then(function(am){Q=am})}else{return Promise.resolve()}}}return af().then(function(){if(N){ac=ac||{localsecured:[],secured:[],hash:[]};ac.secured.push(N)}if(O.secured||O.localsecured){ac=ac||{localsecured:[],secured:[],hash:[]};if(O.secured){ac.secured.push(O.secured)}if(O.hash){ac.hash.push(O.hash)}if(O.localsecured){ac.localsecured.push(O.localsecured)}}ac=ac||{};var ah=Q.indexOf("?");var am=ah===-1?[]:Q.substring(ah+1).split("&");for(var ak=0;ak<am.length;ak++){var al=am[ak];var ai=al.indexOf("=");var ap=decodeURIComponent(ai===-1?al:al.substring(0,ai));var an=decodeURIComponent(ai===-1?"":al.substring(ai+1));ac[ap]=ac[ap]||[];ac[ap].push(an)}Q=ah===-1?Q:Q.substring(0,ah);var ao=function(aw,aq){Q=aw?Q.replace(/bc\.chat/,"mobilechat/visitor.jsp")+(ad?"&pt=9":""):Q;if(aq){Q=aw?Q.replace(/bc\.chat/,"mobilechat/visitor.jsp")+(ad?"&pt=9":""):Q;if(n.bcConfig&&n.bcConfig.cid&&!(/&cid=/.test(Q))){Q=Q+"&cid="+n.bcConfig.cid}}var at=ac?"about:blank":Q;var az="popup_"+(O.type||"unknown")+(O.bdid||"")+"_"+(O.cwdid||"");if(/OS X.*CriOS.*Mobile/i.test(navigator.userAgent)&&O.invite){n.open(at,az)}else{n.open(at,az,(O.open||(ae&&ae.getParameter("OpenParameters",O))||"toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1")+",width="+((ae&&ae.getParameter("ChatWidth",O))||O.width||"640")+",height="+((ae&&ae.getParameter("ChatHeight",O))||O.height||"480"))}if(ac){var ar=M.createElement("form");ar.target=az;ar.method="post";ar.action=Q;for(var av in ac){for(var au=0;au<ac[av].length;au++){var ay=M.createElement("input");ay.type="hidden";ay.name=av;ay.value=ac[av][au];ar.appendChild(ay)}}var ax=function(){try{M.body.appendChild(ar)}catch(aB){try{M.body.insertBefore(ar,M.body.firstChild)}catch(aA){setTimeout(ax,1000);return}}ar.submit()};ax()}m(false)};function ag(aq){ao(aq,true)}function aj(){var aq=!!O.showFloatingButtonsAfterChatStart;if(aq){D(aq,O.cwdid);return Promise.resolve(aq)}else{return j(O.cwdid)}}C.sync(function(){});return aj().then(function(at){if(O.launchType==="nanorep"){n.bcConfig=n.bcConfig||{};n.bcConfig.showFloatingButtonsAfterChatStart=at;var ar=ae&&(ae.getParameter("WebsiteDefID",O)||ae.getParameter("WebsiteID",O));var av=O.url&&O.invite?O.url.replace(/bc.chat/,"bot/launcher.jsp"):O.url;F(av,P,O.cwdid,ar,O.bdid,ac);if(n._bcvmc.isCrossDomainEnabled()){return n._bcvmc.hasStorageAccess().then(function(ay){if(ay&&n._bcvm.pageViewer.hasContinueChatHandler()){n._bcvmc.saveContinueChatCookie(true)}})}}else{if(!O.embed&&!Y||S){ao(O.embed||Y)}else{var ax=P||(Math.floor(Math.random()*1000000000)+""+Math.floor(Math.random()*1000000000));var aq=Q.replace(/bc\.chat.*/,"").replace(/mobilechat.*/,"")+"mobilechat/launcher.jsp?v="+(O.version||"1")+(O.cwdid?"&cwdid="+O.cwdid:"")+"&cid="+ax;var au=O.url&&!O.invite?Q:Q.replace(/bc.chat/,"mobilechat/visitor.jsp");n.bcConfig=n.bcConfig||{};n.bcConfig.frame=true;n.bcConfig.aid=Q.match(/\/aid\/([0-9]+)\//)[1];n.bcConfig.cid=P;n.bcConfig.cwdid=O.cwdid||"";n.bcConfig.obj={url:au,hostUrl:M.location.href,post:ac};n.bcConfig.loader=aq.replace(/launcher.jsp.*/,"loader.jsp");n.bcConfig.launchPopup=ao;n.bcConfig.launchPopupFromLayered=ag;n.bcConfig.minimizeOnStart=O.minimizeOnStart;n.bcConfig.showOnNextOperatorMessage=O.showOnNextOperatorMessage;n.bcConfig.autoCloseOnNoOperators=O.autoCloseOnNoOperators;n.bcConfig.showFloatingButtonsAfterChatStart=at;var aw=M.createElement("script");aw.type="text/javascript";aw.src=aq;M.getElementsByTagName("head")[0].appendChild(aw)}}return Promise.resolve()})})}if(!P){J().then(function(af){if(!af){return U()}})}else{return U()}})})},closeChat:function(){},hasActiveChatAsync:g,hasActiveChat:K};var r=M.location.href;var i=r.indexOf("#reboot-cid=");if(i!==-1){var z=(n.decodeURIComponent||n.unescape)(r.substring(i+12)).split(":");if(z.length>1){var p=null;if(z.length>7){p=z[7]}n.setTimeout(function(){n._bcvmw.chatWindow({cwdid:z[1],version:1,embed:true,type:"chat",launchType:p},z[0])},1000)}M.location.href=r.replace(/#.*/,"#");return}r=M.location.href;i=r.indexOf("#bc-curl=");if(i!==-1){var y=(n.decodeURIComponent||n.unescape)(r.substring(i+9));var l=w(y);if(l){n.setTimeout(function(){n._bcvmc.setCookie(k,y);M.location.href=r.replace(/#.*/,"#");J()},1000);return}else{console.error("Invalid Chat URL")}}J();function w(P){var Q=P?P.split(":"):[];if(Q.length>2){var O=Q[0];var V=Q[1];var N=(n.decodeURIComponent||n.unescape)(Q[2]);var S=Q[3];var R=Q[4];var U=Q[5];var T=Q.length>7?Q[7]:null;if(v(N)){return{id:O,url:N,cwdid:V,minimized:S,unreadMessageCount:R,version:U,embed:true,launchType:T}}else{console.error("Invalid Chat URL: "+N)}}return null}function I(){var N=Math.floor(Math.random()*9223372037);return((N===0)?"":N)+""+Math.floor(Math.random()*((N===9223372036)?854775808:1000000000))}function F(N,R,V,P,S,U){n.bcConfig=n.bcConfig||{};n.bcConfig.post=U;n.bcConfig.cid=R;var O=I();var T=N||("https://livechat"+n._bcvm.host+"/bot/launcher.jsp?"+(R?"cid="+R:"id="+O)+(V?"&cwdid="+V:"")+(P?"&wdid="+P:"")+(S?"&cbdid="+S:"")+"&url="+(n.encodeURIComponent||n.escape)(M.location.href));var Q=M.createElement("script");Q.type="text/javascript";Q.src=T;M.getElementsByTagName("head")[0].appendChild(Q)}}a(e,d,".boldchat.com",new f(e,"https://visitor-services.boldchat.com/visitor-token-service/visitor-token"))}(window,document));window._bcvmf={divs:[],windows:{},floatButton:function(d){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(d.bdid)}if(!d.img){return}if(d.hideUnsupported){var m=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(x){}return false}());if(!m){return}}var Z=window,j=document,H=j.body,ae=j.documentElement,P=Math.random()+"",ad=function(){return new Date().getTime()},S=d.x,R=d.y,q=d.dl,h=d.dt,o=d.px,l=d.py,M=d.fix,V=1000000000,N=1000000000,ag,I,n,an,s,E,D,i,Y=j.getElementById("bcvml"),Q=1,g=0,B=navigator.userAgent.match(/(iPad|iPhone|iPod)/g),af=/(iphone|ipod|ipad).* os 8_/i.test(navigator.userAgent),t=/Silk/.test(navigator.userAgent),al=/Android/.test(navigator.userAgent)||t,ab=/IEMobile/.test(navigator.userAgent),e=/mobile.*firefox/i.test(navigator.userAgent)||/tablet.*firefox/i.test(navigator.userAgent),U=/Android 4.*WebKit.*Version\/4.0/.test(navigator.userAgent),W=(document.compatMode=="CSS1Compat"&&!B&&!al&&!ab)||e,ac=d.si!=null&&d.si>=0,am=false,ak=function(){return Math.max(n.width,n.offsetWidth||0,n.naturalWidth||0)},K=function(){return Math.max(n.height,n.offsetHeight||0,n.naturalHeight||0)},aa=function(){return aj(((q?o:100-o)/100*(A()-Math.min(V,ak())*Q)+(q?S:-S))+(!M||W?0:window.scrollX||window.pageXOffset))},X=function(){if(b()){return v()}else{return c((h?l:100-l)/100*(O()-Math.min(N,K())*Q)+(h?R:-R)+(!M||W?0:window.scrollY||window.pageYOffset))}},v=function(){return l/100*(O())+R},aj=function(x){var a=x;if(a>document.body.scrollWidth-Math.min(V,ak())*Q){if(a>A()-Math.min(V,ak())*Q){a=document.body.scrollWidth-Math.min(V,ak())*Q}}return a},c=function(x){var a=x;if(a>document.body.scrollHeight-Math.min(N,K())*Q){if(a>O()-Math.min(N,K())*Q){a=document.body.scrollHeight-Math.min(N,K())*Q}}return a};function O(){return((B||al||e)?window.innerHeight:((W^!M)&&ae.clientHeight||H&&H.clientHeight)*Q)}function A(){return((B||al||e)?window.innerWidth:((W^!M)&&ae.clientWidth||H&&H.clientWidth)*Q)}var T=function(){if(B||al){G()}I.style.width=ak()+"px";I.style.height=K()+"px";if(!ac){ag.style.width=ak()+"px";ag.style.height=K()+"px"}E=aa();D=X();ag.style.left=E+"px";if(b()){ag.style.bottom=D+"px"}else{ag.style.top=D+"px"}if(ac){s(true)}};function G(){if(B||al){if(ai()){Q=window.innerWidth/Math.max(screen.width,screen.height)}else{Q=window.innerWidth/Math.min(screen.width,screen.height)}}if(g!==Q){var a="top";if(b()){a="bottom"}ag.style.transform="scale("+Q+")";ag.style.transformOrigin=a+" left";ag.style.webkitTransform="scale("+Q+")";ag.style.webkitTransformOrigin=a+" left";W=(document.compatMode=="CSS1Compat"&&(!B&&!al||window.innerWidth==document.body.scrollWidth)&&!ab)||e;k()}g=Q}function ai(){if(B&&typeof window.orientation!=="undefined"){return(Math.abs(window.orientation)===90)}else{if(document.documentElement&&document.documentElement.clientWidth){return(document.documentElement.clientWidth>document.documentElement.clientHeight)}else{return(window.innerWidth>window.innerHeight)}}}function b(){return W&&M&&!h&&e}function k(){ag.style.position=W&&M?"fixed":"absolute"}ag=j.createElement("div");I=j.createElement("div");n=new Image();an=j.createElement("a");ag.setAttribute("class","bcFloat");ag.style.display="none";I.style.position="absolute";an.setAttribute("href","#");an.onclick=function(){Z._bcvmw.chatWindow(d);return false};if(ac){var w=d.sl,r=d.st,C=0,J=0,L,z=d.si,p=100,u=function(a){return 1-Math.E*Math.exp(-1/(1-a*a))};V=w;N=r;s=function(aq){if(am){return}am=true;var a=V,ao=N,y=Math.min(1,(ad()-J)/z),x=C?ak():w||ak(),ap=C?K():r||K();if(C){y=1-y}y=u(y);V=y*Math.min(ak(),w||ak())+(1-y)*ak();N=y*Math.min(K(),r||K())+(1-y)*K();ag.style.width=V+"px";ag.style.height=N+"px";if(q){I.style.marginLeft=(V-ak())+"px"}if(h){I.style.marginTop=(N-K())+"px"}else{if(b()){I.style.marginBottom=(N-K())+"px"}}if(V!=x||N!=ap){if(L){clearTimeout(L)}L=setTimeout(s,p)}E+=a-V;if(!b()){D+=ao-N}if(V!=a&&!q){ag.style.left=E+"px"}if(N!=ao&&!h){if(b()){ag.style.bottom=D+"px"}else{ag.style.top=D+"px"}}am=false};I.onmouseover=function(){J=ad()-z*(1-Math.min(1,(ad()-J)/z));C=1;if(L){clearTimeout(L)}L=setTimeout(s,p)};I.onmouseout=function(){J=ad()-z*(1-Math.min(1,(ad()-J)/z));C=0;if(L){clearTimeout(L)}L=setTimeout(s,p)}}ag.appendChild(I);I.appendChild(an);an.appendChild(n);_bcvmf.divs.push(ag);n.setAttribute("id",P);n.setAttribute("border",0);n.setAttribute("alt",d.altText);n.onload=function(){ag.style.textAlign="left";ag.style.zIndex=3141591;ag.style.overflow="hidden";k();T();ag.style.display="block";_bcvmf.updateFloatVisibility()};n.src=d.img;if(B||al){ag.style.transition="all 0.2s linear";ag.style.WebkitTransition="all 0.2s linear"}function f(){try{j.body.appendChild(ag)}catch(a){try{j.body.insertBefore(ag,j.body.firstChild)}catch(a){setTimeout(f,1000);return}}H=j.body;T()}f();_bcvm.addEvent(Z,"resize",T);if(B||(al&&!U)){function ah(){var a=!W||!M;if(a){ag.style.position="fixed"}T();setTimeout(function(){if(a){k()}T()},500)}_bcvm.addEvent(Z,"orientationchange",ah)}function F(){setTimeout(function(){T()},500)}_bcvm.addEvent(Z,"touchend",F);_bcvm.addEvent(Z,"scroll",T);if(Z.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:[ag],id:P,bdid:d.bdid,type:d.type,roid:d.roid,rdid:d.rdid,obj:d},true)}if(window.pageViewer.addExperimentButton){window.pageViewer.addExperimentButton({id:d.id,type:d.type},d.originalButtonId)}},updateFloatVisibility:function(a,d){var c=false;if(a){_bcvmf.windows[a]=d}for(var b in _bcvmf.windows){if(!_bcvmf.windows[b]){c=true;break}}for(var b=0;b<_bcvmf.divs.length;b++){_bcvmf.divs[b].style.display=c?"none":"block"}}};window._bcvmb={button:function(e){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(e.id||e.bdid)}if(!e.img){return}if(e.hideUnsupported){var n=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(i){}return false}());if(!n){return}}var g=window,m=document,b,h=!e.id?_bcvm.select(e.element):[m.getElementById(e.id)],c=Math.random()+"",f,l,o=function(){g._bcvmw.chatWindow(e);return false},k=[],j=[];for(var d=0;d<h.length;d++){b=h[d];if(!b){continue}l=m.createElement("a");b.className=(b.className+" "||"")+"bcStatic";l.setAttribute("href","#");l.onclick=o;if(!e.html){f=new Image();f.setAttribute("border",0);f.setAttribute("alt",e.altText);f.src=e.img}else{f=m.createElement("div");f.innerHTML=!e.img?"":e[e.img]}k.push(f);l.appendChild(f);j.push(l);b.appendChild(l)}if(g.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:j,id:c,eid:e.id,tbid:e.html?e.bdid:null,html:e.html,available:e.available,unavailable:e.unavailable,elements:k,bdid:e.bdid,type:e.type,roid:e.roid,rdid:e.rdid,obj:e},true)}if(window.pageViewer.addExperimentButton){window.pageViewer.addExperimentButton({id:e.id,type:e.type},e.originalButtonId)}}};window._bcvmt={text:function(d){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(d.id)}if(d.hideUnsupported){var k=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(l){}return false}());if(!k){return}}if(!d.available){return}var g=window,j=document,b=j.getElementById(d.id),c=Math.random()+"",i,h=j.createElement("div"),f=g._bcvm.textButtons[d.id],e=f&&f[d.available];i=j.createElement("a");b.setAttribute("class","bcText");i.setAttribute("href","#");i.onclick=function(){g._bcvmw.chatWindow(d);return false};h.setAttribute("id",c);h.innerHTML=e;i.appendChild(h);b.appendChild(i);if(g.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:[i],id:c,available:f&&f.available,unavailable:f&&f.unavailable,tbid:d.id,type:d.type,roid:d.roid,rdid:d.rdid,obj:d},true)}}};(function(){function b(h){if(!doc.getElementsByTagName){return[]}h=h.replace(/\s*([^\w])\s*/g,"$1");var B=[],n=h.split(","),x,J,g,H,m;var n=h.split(",");var w=function(P,o){if(!o){o="*"}x=[];for(var N=0,l=P.length;m=P[N],N<l;N++){var j;if(o=="*"){j=m.all?m.all:m.getElementsByTagName("*")}else{j=m.getElementsByTagName(o)}for(var i=0,O=j.length;i<O;i++){x.push(j[i])}}};COMMA:for(var K=0,t=n.length;J=n[K],K<t;K++){var k=[doc],y=J.split(" ");SPACE:for(var I=0,s=y.length;g=y[I],I<s;I++){var r=g.indexOf("["),p=g.indexOf("]"),q=g.indexOf("#");if(q+1&&!(q>r&&q<p)){var C=g.split("#"),M=C[0],z=C[1],v=doc.getElementById(z);if(!v||(M&&v.nodeName.toLowerCase()!=M)){continue COMMA}k=[v];continue SPACE}q=g.indexOf(".");if(q+1&&!(q>r&&q<p)){var C=g.split("."),M=C[0],G=C[1];w(k,M);k=[];for(var F=0,L=x.length;H=x[F],F<L;F++){if(H.className&&H.className.match(new RegExp("(^|s)"+G+"(s|$)"))){k.push(H)}}continue SPACE}if(g.indexOf("[")+1){if(g.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?['"]?([^\]'"]*)['"]?\]$/)){var M=RegExp.$1,E=RegExp.$2,u=RegExp.$3,D=RegExp.$4}w(k,M);k=[];for(var F=0,L=x.length;H=x[F],F<L;F++){if(u=="="&&H.getAttribute(E)!=D){continue}if(u=="~"&&!H.getAttribute(E).match(new RegExp("(^|\\s)"+D+"(\\s|$)"))){continue}if(u=="|"&&!H.getAttribute(E).match(new RegExp("^"+D+"-?"))){continue}if(u=="^"&&H.getAttribute(E).indexOf(D)!=0){continue}if(u=="$"&&H.getAttribute(E).lastIndexOf(D)!=(H.getAttribute(E).length-D.length)){continue}if(u=="*"&&!(H.getAttribute(E).indexOf(D)+1)){continue}else{if(!H.getAttribute(E)){continue}}k.push(H)}continue SPACE}w(k,g);k=x}for(var A=0,L=k.length;A<L;A++){B.push(k[A])}}return B}function d(){var i={};return{get:g,set:j,getAll:h};function g(k){return i[k]}function j(k,l){i[k]=l}function h(k){if(typeof k!=="function"){k=d.FORMATTERS.URL_ENCODE}return k(i)}}(function(){d.FORMATTERS={URL_ENCODE:g(""),PREFIXED_URL_ENCODE:g};function g(i){return function h(n){var m=[];for(var k in n){if(n.hasOwnProperty(k)){var j=encodeURIComponent(i+k);var l=n[k];if(l){m.push(j+"="+encodeURIComponent(l))}else{m.push(j)}}}return m.join("&")}}}());function e(q,P,X,Q,Y,B,A,S,D,z,W,G,R,F,H,w,i,v,L,T,l){P.bcLoaded=true;var o=X+"/aid/";var V=new d();var h=C();var j="_bc-curl";var N={NoAction:1,InitiateChat:2,InitiateCall:3,InviteChat:4,InviteCall:5,GetCoBrowseData:6,StartCoBrowse:7};var g={NoError:1,VisitorMonitorDisabled:2,InactivePageView:3,DelayedChatInvitation:4,DelayedCallInvitation:5};var U={ChatInvitationTemplateVariants:29,CallInvitationTemplateVariants:51};function x(){return new P.Date().getTime()}function u(ac,aa,Z){var ad,ab=ac.indexOf(aa+"=");if(ab!==-1){ab+=aa.length+1;ad=ac.indexOf(Z,ab);return ac.substring(ab,ad===-1?ac.length:ad)}}function J(Z){return u(q.location.href,Z,"&")}function M(aa){var ab={};for(var Z in aa){ab[Z]=aa[Z]}return ab}function t(ac,ad,ab){var Z="on"+ad;var aa=ac[Z];if(ac.addEventListener){ac.addEventListener(ad,ab,false)}else{if(ac.attachEvent){ac.attachEvent(Z,ab)}else{ac[Z]=function(ae){ab(ae);return aa(ae)}}}}function r(ab){var Z=q.getElementsByTagName("head")[0]||q.body;var aa=q.createElement("script");aa.id="bcvm_script_"+new Date().getTime();aa.async=true;aa.type="text/javascript";aa.src=ab;Z.appendChild(aa);if(/\/(bc.vm|bc.pv|bc.evi|bc.page.view.invitation.result)/i.test(ab)){setTimeout(function(){Z.removeChild(aa)},30000)}}function m(aa){var Z="";O(aa,function(ab,ac){Z+="&"+ab+"="+encodeURIComponent(ac)});return Z.substring(1)}function O(ac,Z){for(var ab in ac){var aa=ac[ab];if(aa&&aa.length){s(ab,aa,Z)}}}function s(ab,aa,Z){for(var ac=0,ad=aa.length;ac<ad;ac++){Z(ab,aa[ac])}}function I(aa,Z,ac,af){if(ai()){ag()}else{aj()}function ab(al){if(ac&&typeof ac==="function"){ac(al)}}function ad(al){if(af&&typeof af==="function"){af(al)}}function ai(){return P.XMLHttpRequest&&(new P.XMLHttpRequest().withCredentials)!==undefined}function ag(){var al=new P.XMLHttpRequest();al.open("POST",aa,true);al.setRequestHeader("Content-type","application/x-www-form-urlencoded");al.withCredentials=true;al.onload=function(){if(this.readyState===4&&this.status===200){ab(al.responseText)}else{ad(al.responseText)}};al.onerror=function(){ad()};al.send(m(Z))}function aj(){var al=ah();var am=ak(al.name,Z);al.onload=function(){ab();q.body.removeChild(am);q.body.removeChild(al)};al.onerror=function(){ad()};am.submit()}function ah(){var al=q.createElement("iframe");var am="bcvm_iframe_"+Math.random()+"_"+new Date().getTime();al.name=am;al.style.cssText="width: 0px; height: 0px;";q.body.appendChild(al);return al}function ak(am,an){var al=q.createElement("form");al.target=am;al.method="post";al.action=aa;O(an,function(ao,ap){ae(al,ao,ap)});q.body.appendChild(al);return al}function ae(an,am,ao){var al=q.createElement("input");al.type="hidden";al.name=am;al.value=ao;an.appendChild(al)}}function n(Z,aa){return new Promise(function(ac,ab){var ad=new P.XMLHttpRequest();ad.withCredentials=true;ad.open("get",Z+"?"+m(aa),true);ad.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){ac(this.responseText)}else{ab()}}};ad.send()})}function E(){return P._bcvmc.isIframeEnabled()}function K(aA){var bO=1000;var aM={VisitRef:"vr",VisitInfo:"vi",VisitName:"vn",VisitPhone:"vp",VisitEmail:"ve"};var bh={WindowParameters:"&",OpenParameters:","};var bq={OpenParameters:"op",InvitationID:"idid",InvitationDefID:"idid",WindowScheme:"cp",CharSet:".cs",CustomUrl:"curl",ChatWidth:"cwidth",ChatHeight:"cheight",CallWidth:"pwidth",CallHeight:"pheight",ChatWindowID:"cwdid",ChatWindowDefID:"cwdid",CallWindowDefID:"pwdid",Language:"lc",Difficulty:"Difficulty",Urgency:"Urgency"};var Z={ConversionCodeID:"ccid",ConversionAmount:"ca",ConversionRef:"cr",ConversionInfo:"ci",ConversionOrder:"co",ConversionPurchased:"cp"};var aF=setTimeout;var ab=clearTimeout;var bH=new Image();if(Q){var ay=[]}var aD=0;var by=function(){return w(aD,bj)};var bk=q.location.protocol;var bo="https://";var a3="https:"===bk?"https":"http";var a9=(bk==="https:"||bk==="http:")&&Y;var aJ;var b3;var bj=false;var ai;var a8=false;if(B){var bY={};var bm={};var az="";var aw="";var bf=""}var bd;var a7;var bX;var ap;var a4;var bM="";var bg;var bT;var bS="SecureParameters";var aG=!B?{WindowScheme:bo,ChatWidth:640,ChatHeight:480,CallWidth:480,CallHeight:360}:{};var aC={};var bZ=[a1];var aK=true;var aa={id:"pageView"};var bF=null;var ac=null;var bR=new f(P,v);var a6=new a(P);var aP=false;var a2;function at(b4){P._bcvm.domain=b4}function aj(b4){P._bcvm.path=b4}function a0(b5,b4,b6){ai=b6;bM=be("wdid",bW("WebsiteDefID")||bW("WebsiteID"))+be("pvid",ai);bJ(b5,b4).then(function(){aK=true;ae()})}function bJ(b5,b4){bX=bW("WebsiteDefID")||bW("WebsiteID")||aA;ap=S+bX;a4=D+bX;if(a9){return Promise.all([P._bcvmc.getCookieAsync(ap),P._bcvmc.getCookieAsync(a4)]).then(function(b7){bd=b4||b7[0]||J(ap)||bd;a7=b5||b7[1]||J(a4)||a7;var b6=P._bcvmc.getCookie(a4);if(bd){P._bcvmc.setCookie(ap,bd)}if(a7){P._bcvmc.setCookie(a4,a7,z*86400000)}if(!a7&&b6){P._bcvmc.setCookie(a4,b6,z*86400000)}})}else{bd=b4||J(ap)||bd;a7=b5||J(a4)||a7;return Promise.resolve()}}function a1(b5,b4){var b6=b5.indexOf("#");return b5.substring(0,b6==-1?b5.length:b6)+(b5.indexOf("?")==-1?"?":"")+(a9?be(D,"true"):"")+be(ap,(x()+(p.serverTimeOffset||0))+"S"+bd)+be(a4,(x()+(p.serverTimeOffset||0))+"S"+a7)+(b4?"":be("curl",aG.CustomUrl)+"&"+br())+(b6==-1?"":b5.substring(b6))}function am(b5,b4){return bJ().then(function(){for(var b6=0;b6<bZ.length;b6++){b5=bZ[b6](b5,b4)}return b5})}function bB(b4){bZ.push(b4)}function aO(b4){for(var b5=0;b5<bZ.length;b5++){if(bZ[b5]==b4){bZ.splice(b5,1)}}}function ba(){return ai}function ad(b4){aA=b4;P._bcvm.host=o+aA}function bQ(b5,b9){if(!b5){return{}}var b8=b5.split(b9),b4,b7,b6={};for(b4=0;b4<b8.length;b4++){b7=b8[b4].indexOf("=");b6[b7==-1?b8[b4]:b8[b4].substring(0,b7)]=b7==-1?null:b8[b4].substring(b7+1)}return b6}function aU(b8,b6,ca){if(!ca){return b6||b8}var b4=bQ(b8,ca),b5=bQ(b6,ca),b9="";for(var b7 in b5){if(!b4[b7]||b5[b7]){b4[b7]=b5[b7]}}for(var b7 in b4){if(b9!=""){b9+=ca}b9+=b7+(b4[b7]==null?"":"="+b4[b7])}return b9}function bG(b6,b4,b5){aG[b6]=b5?b4:aU(aG[b6],b4,bh[b6])}function bW(b6,b5){var b4=(b5?b5[b6]:null)||(b5&&b5.id&&aC[b5.id]?aC[b5.id]["parameters"][b6]:null)||aG[b6]||"";return b4}function bP(b4){return V.get(b4)}function a5(b4,b5){V.set(b4,b5);bR.sync(function(){bb()})}function aQ(){return V.getAll(d.FORMATTERS.PREFIXED_URL_ENCODE("extendedInfo_"))}function bb(){if(!ac){ac=setTimeout(function(){ac=null;bu()},bO)}}function bu(b5){if(!ai){bb();return}var b4=null;if(!b5){b5=bW(bS,aa)}if(typeof b5=="function"){b5=b5(function(b6){bu(b6)},"visit");if(!b5){return}}P._bcvmc.getCookieAsync("bc_pv_end").then(function(b7){var b6=ai||(Y&&b7);bg=q.location.href;bT=q.referrer;if(bg.indexOf(i)!=-1){b4=true}bM=af();am(bo+R+o+aA+"/bc.evi?script=true&"+ar(b4,b6,bg,bT,b5,bM)).then(function(b8){p.loadScript(b8)})})}function bC(ca,b6){var b5={};var b9=bW("WindowParameters",b6);if(b9&&b9.length){var b8=b9.split(bh.WindowParameters);for(var b4=0;b4<b8.length;b4++){var b7=b8[b4].split("=");b5[b7[0]&&decodeURIComponent(b7[0])]=b7[1]&&decodeURIComponent(b7[1])}}return bW(ca,b6)||b5[ca]||b5[aM[ca]]||b5[bq[ca]]}function bi(b4){return encodeURIComponent(decodeURIComponent(b4))}function br(){var b6="";var b5=bQ(aG.WindowParameters,bh.WindowParameters);for(var b4 in b5){b6+=bi(b4)+(b5[b4]?"="+bi(b5[b4]):"")+bh.WindowParameters}return b6.substring(0,b6.length-1)}function be(b6,b4,b5){return b4&&b4!=""?(b5?"?":"&")+b6+"="+(encodeURIComponent||escape)(typeof b4=="function"?b4():b4):""}function bU(b6,b5){var b4="";for(var b7 in b6){b4+=be(b6[b7],bW(b7,b5))}return b4}function bl(){if(Y){P._bcvmc.setCookie("bc_pv_end",ai,30000)}}function aL(){bj=false;var b4=by()-(x()-b3-aD);if(aJ){ab(aJ);aJ=null;if(b4>0){aJ=aF(bx,b4)}else{aR()}}}function aq(){bj=true}if(A){function ag(b5,b4){aD=0;p.loadScript("https://"+W+o+aA+"/bc.inv/ci.js?"+(B?"resize=true&":"")+"std="+(q.compatMode=="CSS1Compat")+"&ftid="+b5+"&visit="+b4+bM+bU(bq,aa)+"&"+x())}var b2=false;function av(){if(!b2){b2=true;aD=-99999999;p.loadScript(bo+R+o+aA+"/bc.cobrowse/setup.js?wait=250"+bM);p.loadScript(bo+R+o+aA+"/visitor/cobrowse/script.jsp")}else{if(typeof _bccb!="undefined"){_bccb.initialize(ai)}}}function aZ(b4){if(b4==N.InviteChat){ag(U.ChatInvitationTemplateVariants,"true")}else{if(b4==N.InviteCall){ag(U.CallInvitationTemplateVariants,"true")}else{if(b4==N.GetCoBrowseData){_bccb.receive()}else{if(b4==N.StartCoBrowse){av()}}}}}}if(B){function aT(b8,b5,b9,b7){var b4=bY[b8]&&bY[b8].elements||[q.getElementById(b8)],ca,cb=!b5?"":bY[b8]&&bY[b8][b5];if(bY[b8]&&bY[b8].obj){bY[b8].obj.token=b7}for(var b6=0;b6<b4.length;b6++){ca=b4[b6];if(b9&&ca&&ca.innerHTML!=cb){ca.innerHTML=cb}else{if(!b9&&ca&&ca.src!=b5){ca.src=b5}}}}function bV(b7){var b6=bm[b7];if(b6){var b4=b6.parents;for(var b5=0;b4&&b5<b4.length;b5++){if(b4[b5].parentNode){b4[b5].parentNode.removeChild(b4[b5])}}delete bY[b6.id];delete bm[b7]}}function aS(b4){var b5=b4.id;return be("bdid",b5)+be(b5+"_html",b4.html)+be(b5+"_roid",b4.roid)+be(b5+"_rdid",b4.rdid)+be(b5+(b4.tbid?"_tbid":b4.type=="call"?"_pbdid":"_cbdid"),b4.tbid||b4.bdid)}function aY(b5,b4){if(b4){bY[b5.id]=b5;bm[b5.eid||b5.bdid||b5.tbid]=b5}else{az+=aS(b5)}}function bK(b5){var b4=(b5.type=="call"?"&fpbdid=":"&fcbdid=")+b5.id;bf=aV(b5,b4);bE(b5.id,aG,b4)}function bD(b4,b5){if(!aC[b4.id]&&aC[b5]){aC[b4.id]=aC[b5]}}function bt(b5){var b4=(b5.type=="call"?"&spbdid=":"&scbdid=")+b5.bdid+","+b5.id;bf=aV(b5,b4);bE(b5.id,aG,b4)}function aX(b5){var b4=(b5.type=="call"?"&tpwdid=":"&tcwdid=")+b5.id+","+(b5.window||"")+","+(b5.department||"")+","+(b5.operator||"");bf=aV(b5,b4);bE(b5.id,aG,b4);p.textButtons[b5.id]=b5}}function bs(){var b5=bH.width&7;var b4=bH.height;aB(b4,b5)}function aB(b5,b4){if(b4==g.VisitorMonitorDisabled){ab(aJ);aJ=null}if(b4==g.InactivePageView){aW(bg,"")}if(A){if(b4==g.DelayedChatInvitation||b4==g.DelayedCallInvitation){if(bF){ab(bF)}bF=aF(function(){bF=null;var b6=b4==g.DelayedChatInvitation?U.ChatInvitationTemplateVariants:U.CallInvitationTemplateVariants;ag(b6,"false")},(b5-1)*1000+1)}if(b4==1){aZ(b5&15)}}}function bx(){aR()}function ao(b4){if(!b4){aJ=aF(bx,by())}}function aR(b5){if(!ai){aW();return}aD=x()-b3;if(B){var b4="";for(var b6 in bY){b4+=aS(bY[b6])}}am(bc(G)+aA+"/bc.vm?blur="+bj+"&poll="+(5000+2*by())+bM+(B?b4+az:"")+"&"+x()+"&tabIdentifier="+h+"&clientScheme="+a3).then(function(b7){if(B){if(b4||az){p.loadScript(b7.replace("?","?script=true&"))}else{bH.src=b7}}else{bH.src=b7}ao(b5)})}function bc(b4){return H?H+"/aid/":bo+b4+o}function aI(b4,b5){aW(null,null,b4,b5)}function bv(){if(B){if(bf!=aw){aW(null,null,null,null,true)}}if(Q){if(aK){var b5=P._bcct||[];P._bcct=[];for(var b4=0;b4<b5.length;b4++){al(b5[b4])}}}aH()}function b1(){if(P._bcvmc.isCrossDomainEnabled()){return P._bcvmc.hasStorageAccess().then(function(b5){var b4=P._bcvmc.hasContinueChatCookie();var b6=P._bcvmc.hasContinueChatParam(q.location.search);return !b5&&bI()&&(b6||b4)})}else{return Promise.resolve(false)}}function ae(){var b8=P._bcvma||[];var b6=[];P._bcvma=[];for(var b5=0;b5<b8.length||0;b5++){var b9=b8[b5];var b7=(b9||[])[0];if(b7==="pageViewed"){aC[aa.id]={parameters:M(aG)};b6.push(b9)}else{var b4=k[b7];if(b4){b4(b9[1],b9[2])}}}if(b6.length){if(!l){k.pageViewed()}else{for(b5=0;b5<b6.length;b5++){b9=b6[b5];k.pageViewed(b9[1],b9[2])}}}bv();if(a2){b1().then(function(ca){if(ca){a2(P._bcvmc.requestStorageAccess)}})}}if(Q){function bA(b4){P._bcct=P._bcct||[];P._bcct.push(b4)}function al(b7,b9,b6){if(b9&&b7[bS]){return true}for(var b8 in Z){bG(b8,null,true)}for(var b8 in b7){if(b7[b8]&&b7[b8]!=""){bG(b8,b7[b8])}}if(!b6){b6=bW(bS)}if(typeof b6=="function"){b6=b6(function(ca){al(b7,b9,ca)},"conversion");if(!b6){return}}if(!b9){var b5=new Image();var b4=bR.getToken()||"";am(bo+R+o+aA+"/bc.vci?"+(!Y?"cookie=false&":"")+x()+(bM||be("wdid",bW("WebsiteDefID")||bW("WebsiteID")))+bU(aM)+bU(Z)+be("secured",b6)+be("visitorToken",b4)).then(function(ca){b5.src=ca;ay.push(b5)})}}}function bL(){var b6=screen;var b7=P.devicePixelRatio||(b6.deviceXDPI||1)/(b6.logicalXDPI||1);var b4=b7;var ca=q.createElement("div");var b5="height: 1in; left: -100%; position: absolute; top: -100%; width: 10%;";ca.setAttribute("style",b5);try{q.body.appendChild(ca)}catch(b9){try{q.body.insertBefore(ca,q.body.firstChild)}catch(b9){}}if(Math.abs(b6.width/ca.offsetWidth/10-b4)/b4<0.2){b4=1}var b8=(b6&&b6.width&&b6.height?"&swidth="+(b6.width*b4)+"&sheight="+(b6.height*b4):"")+(ca&&ca.offsetWidth?"&sdpi="+(96*b7):"");try{q.body.removeChild(ca)}catch(b9){}return b8}function aW(b8,b9,b5,b7,b4,b6){if(!aA){ao(b4);return}if(!b6){b6=bW(bS,aa)}if(typeof b6=="function"){b6=b6(function(ca){aW(b8,b9,b5,b7,b4,ca)},"visit");if(!b6){return}}if(B){aw=bf}P._bcvmc.getCookieAsync("bc_pv_end").then(function(ce){var cf=[];var cd=ai||(Y&&ce);if(!b5&&!b4){aK=false;cf=P._bcct||[];P._bcct=cf}if(Y){if(cd){P._bcvmc.setCookie("bc_pv_end","",0)}}bg=b8||q.location.href;bT=b9||q.referrer;if(bg.indexOf(i)!=-1){b4=true}aD=0;b3=x();if(aJ&&!b4){ab(aJ)}if(Q){var ca=cf[0]&&al(cf[0],true);if(cf[0]&&!ca){P._bcct=cf.splice(1)}}bH.onload=bs;if(!b5&&!b4){ai=null}var cg=bM=af();var cb=bR.getToken()||"";var cc=function(ch){am(bc(R)+aA+"/bc.pv?script=true&securevm=true&"+aE(b4,b5,b7,cd,bg,bT,b6,cg,ca,ch,a3)).then(function(ci){if(B){p.loadScript(ci+(b5?"":"&hasbutton="+a8+bf))}else{p.loadScript(ci)}})};if(T){bR.sync(cc)}else{cc(cb)}ao(b4)})}function af(){return be("wdid",bW("WebsiteDefID",aa)||bW("WebsiteID",aa))+be("pvid",ai)}function aE(b9,b6,cb,cd,b5,b4,b8,b7,ca,cf,cc){var ce="";ce+=!Y?"cookie=false":"";ce+="&blur="+bj;ce+="&vm="+!b9;ce+=be("poll",5000+2*by());ce+=bL();if(b6){ce+=be("reinvite",b6);ce+=be("adi",cb)}else{ce+=be("vpvid",J("vpvid"));ce+=be("pve",cd);ce+=be("url",b5);ce+=be("referrer",b4);ce+=bU(aM,aa)}ce+=be("secured",b8);ce+=b7;ce+=bU(bq,aa);ce+=Q?(ca?"":bU(Z)):"";ce+="&"+x();ce+=be("visitorToken",cf);ce+="&tabIdentifier="+h;if(cc){ce+="&clientScheme="+cc}return ce}function ar(b5,b8,b4,b9,b6,ca){var b7=aE(b5,false,null,b8,b4,b9,b6,ca,null);b7+="&"+aQ();return b7}function ak(b4){if(P._bcvmw){P._bcvmw.customChatWindow=b4}}function aN(){return a7}function aV(b5,b4){var b6=ax(b5.id);return b6+b4}function ax(b5){var b6=bf;if(aC[b5]){var b7=aC[b5].query;var b4=new RegExp(b7+"(?=&|$)");b6=b6.replace(b4,"")}return b6}function bE(b5,b6,b4){aC[b5]={parameters:M(b6),id:b5,query:b4}}function aH(){if(aP){return}if(!aA){return}var b4=bo+R+o+aA+L;a6.setupExtendedVisitorInfo(b4);aP=true}function bN(b5,b4,b6){setTimeout(function(){var b7=bo+R+o+aA+"/bc.page.view.invitation.result?taskId="+b5+"&polls="+b6;p.loadScript(b7)},b4)}function au(b4){b0().then(function(b5){if(!b5){throw new Error("Missing ChatID")}am(bo+F+o+aA+"/bot/visitor.jsp?cid="+b5).then(function(b8){var b7={};for(var b6 in b4){if(b4.hasOwnProperty(b6)){b7["customField_"+b6]=[b4[b6]]}}p.makeCorsPostRequest(b8,b7)})})}function b0(){return bn().then(function(b4){if(!b4){return null}var b5=b4.split(":");return b5.length>1?b5[0]:null})}function bn(){return an(j)}function an(b4){var b5=bw(b4);if(!!b5){return Promise.resolve(b5)}else{return P._bcvmc.getCookieAsync(b4)}}function bw(b4){try{return P.sessionStorage&&P.sessionStorage.getItem(b4)}catch(b5){return null}}function bp(){bf=""}function bz(b4){a2=b4}function ah(){return !!a2}function bI(){var b4=P.navigator.userAgent.toLowerCase();if(b4.indexOf("safari")!==-1){return b4.indexOf("chrome")===-1}return false}p.addEvent(P,"beforeunload",bl);p.addEvent(P,"focus",aL);p.addEvent(P,"blur",aq);p.pageViewer={set:a0,setVisitorToken:bR.storeToken,doExperiments:ba,setAccountID:ad,setDomain:at,setPath:aj,pageViewed:aW,load:ae,reinvite:aI,check:aB,getParameter:bW,setParameter:bG,getWindowParameter:bC,getWindowParameters:br,getExtendedVisitorInfo:bP,setExtendedVisitorInfo:a5,setCustomChatWindow:ak,getVisitorID:aN,scheduleInvitationResultCheck:bN,updateParameters:au,resetStaticQuery:bp,registerContinueChatHandler:bz,hasContinueChatHandler:ah};if(B){p.pageViewer.addFloat=bK;p.pageViewer.addStatic=bt;p.pageViewer.addText=aX;p.pageViewer.addButton=aY;p.pageViewer.removeButton=bV;p.pageViewer.update=aT;p.pageViewer.addExperimentButton=bD}if(Q){p.pageViewer.addConversion=bA;p.pageViewer.conversion=al;p.pageViewer.link=am;p.pageViewer.removeLink=aO;p.pageViewer.addLink=bB}return p.pageViewer}function y(Z){p.serverTimeOffset=Z-x()}function C(){var Z=Math.floor(Math.random()*9223372037);return((Z===0)?"":Z)+""+Math.floor(Math.random()*((Z===9223372036)?854775808:1000000000))}var p=P._bcvm||{textButtons:{},setTime:y,getCookie:P._bcvmc.getCookie,getCookieAsync:P._bcvmc.getCookieAsync,setCookie:P._bcvmc.setCookie,requestStorageAccess:P._bcvmc.requestStorageAccess,addEvent:t,loadScript:r,makeCorsPostRequest:I,makeGetRequest:n,getPageViewer:K,select:b,isIframeEnabled:E};P._bcvm=p;var k=P.pageViewer||P._bcvm.getPageViewer();P.pageViewer=k;P.pageViewer.load();P._bcvm.tabIdentifier=h}function c(k){k.bc=k.bc||{};k.bc.featureDetection=k.bc.featureDetection||n();return k.bc.featureDetection;function n(){return{hasLocalStorageSupport:h,hasJsonSupport:i,hasCorsXhrSupport:j,hasConsoleSupport:l,features:q()}}function q(){return{localStorage:g(),json:m(),corsXhr:o(),console:p()}}function o(){return !!k.XMLHttpRequest&&(new k.XMLHttpRequest().withCredentials!==undefined)}function m(){return !!k.JSON&&!!k.JSON.parse&&!!k.JSON.stringify}function g(){try{var t=k.localStorage;var r="__storage_test__";t.setItem(r,r);t.getItem(r);t.removeItem(r);return true}catch(s){return false}}function p(){return !!k.console&&!!k.console.error&&!!k.console.log}function h(){return this.features.localStorage}function i(){return this.features.json}function j(){return this.features.corsXhr}function l(){return this.features.console}}function f(n,g){n.bc=n.bc||{};n.bc.visitorTracking=n.bc.visitorTracking||s();return j();function j(){return n.bc.visitorTracking}function s(){return{sync:r,getToken:v,storeToken:k,featureDetection:new c(n),synced:false,isSyncing:false,token:null}}function r(x){x=x||function(){};var z=j().getToken();if(j().synced){x(z)}else{if(j().isSyncing){var y=function(){var A=v();x(A)};u(y)}else{p(z,x)}}}function v(){if(j().token){return j().token}if(j().featureDetection.hasLocalStorageSupport()&&j().featureDetection.hasJsonSupport()){return i(n.localStorage.getItem("bc.visitor_token"))}return null}function k(x){j().token=x;if(j().featureDetection.hasLocalStorageSupport()&&j().featureDetection.hasJsonSupport()){n.localStorage.setItem("bc.visitor_token",o(x))}}function q(A,y,x){A=A||function(){return true};y=y||50;x=x||function(){};var z=function(){if(A()){x()}else{setTimeout(z,y)}};z()}function u(x){var y=function(){return !j().isSyncing};q(y,200,x)}function p(A,x){if(!(j().featureDetection.hasCorsXhrSupport()&&j().featureDetection.hasJsonSupport())){w(v(),x);return}j().isSyncing=true;var y=A?g+"?visitorToken="+A:g;var z=new n.XMLHttpRequest();z.withCredentials=true;z.open("get",y,true);z.timeout=5000;z.ontimeout=function(){m(z,x)};z.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){var B=l(this.responseText);w(B,x)}else{m(z,x)}}};z.send(null)}function w(y,x){j().isSyncing=false;j().synced=true;x(y)}function m(y,x){j().isSyncing=false;j().synced=false;t("visitorToken syncing failed: ",y);x(v())}function t(){if(j().featureDetection.hasConsoleSupport()){console.error.apply(console,arguments)}}function i(y){var x;try{x=n.JSON.parse(y||null)||{}}catch(z){x={}}return x.token||null}function l(y){var x=h(y);k(x);return x}function h(x){return n.JSON.parse(x).visitorToken}function o(x){return n.JSON.stringify({token:x})}}function a(s){var l=false;var k=5000;var i="Clicked";var r="Displayed";var C={elementActivities:[],globalActivities:[]};var j={};var t=C;var q=s.MutationObserver||s.WebKitMutationObserver||s.MozMutationObserver;return{setupExtendedVisitorInfo:x,selectElement:v,sendExtendedVisitorInfo:m};function x(H){if(l){return}var G=new c(s);if(!G.hasCorsXhrSupport()){console.log("Could not set up extended visitor info as XML HTTP request is not supported");return}if(!G.hasJsonSupport()){console.log("Could not set up extended visitor info as JSON is not supported")}var I=new s.XMLHttpRequest();I.open("get",H,true);I.onreadystatechange=z;I.send();l=true}function z(){if(this.readyState===4){if(this.status===200){t=s.JSON.parse(this.responseText)||C;F()}else{console.log("Server responded with status "+this.status+" while getting external signals")}}}function F(){if(!t.elementActivities){return}for(var G=0;G<t.elementActivities.length;G++){var H=t.elementActivities[G];var I=o(H);if(!I){y(H,k)}}}function o(H){H.ref=v(H.selector);if(!H.ref){return false}switch(H.event){case"onclick":H.ref.addEventListener("click",function(I){E(H.id,I)});return true;case"value":case"onchange":H.ref.addEventListener("change",function(I){p(H.id,I)});return true;case"text":if(!q){return true}var G=new q(function(I){D(H.id,I)});G.observe(H.ref,g());return true;case"displayed":if(!q){return true}j[H.id]={display:n(H.ref).display,hasOffsetParent:!!H.ref.offsetParent};var G=new q(function(I){u(H.id,I)});A(G,H.ref,B());return true;default:console.log("Could not set up element activity for event "+H.event)}return true}function v(G){if(!s){return null}return s.document.querySelector(G)}function y(I,H){setTimeout(G,H);function G(){var J=o(I);if(!J){y(I,H*2)}}}function E(I,H){if(!H){return}var G=w(I,H.target,false);if(G){m(G.id,i)}}function p(J,H){if(!H){return}var I=H.target;var G=w(J,I,false);if(G){m(G.id,I.value)}}function D(M,H){if(!H||!H.length){return}for(var J=0;J<H.length;J++){var K;var I=H[J];var L=I.target;var G=w(M,L,false);if(!G){continue}switch(I.type){case"characterData":K=L.textContent;break;case"childList":K=L.innerText;break;default:continue}if(K){m(G.id,K)}}}function u(N,I){if(!I||!I.length){return}for(var K=0;K<I.length;K++){var J=I[K];var M=J.target;if(J.type!=="attributes"&&J.type!=="style"){continue}var G=w(N,M,true);if(!G){continue}var L=n(M);var H=j[N];j[N]={display:L.display,hasOffsetParent:!!M.offsetParent};if((L.display!=="none"&&H.display!==L.display)||M.offsetParent&&!H.hasOffsetParent){m(G.id,r)}}}function w(K,J,G){if(!t.elementActivities){return null}for(var H=0;H<t.elementActivities.length;H++){var I=t.elementActivities[H];if(K!==I.id){continue}if(J===I.ref||(G&&h(J,I.ref))){return I}}return null}function h(H,G){if(!G){return false}if(H===G){return true}return h(H,G.parentElement)}function n(G){return s.getComputedStyle?s.getComputedStyle(G):G.style}function m(G,H){if(!s.pageViewer||!s.pageViewer.setExtendedVisitorInfo){return}s.pageViewer.setExtendedVisitorInfo(G,H)}function A(G,I,H){if(!I){return}G.observe(I,H);A(G,I.parentElement,H)}function g(){return{characterData:true,childList:true}}function B(){return{attributes:true,attributeFilter:["style","class"]}}}new e(document,window,".boldchat.com",true,true,true,true,"_bcvm_vid_","_bcvm_vrid_",365,"ci","vmp","vms","livechat","",function(g,h){return(h?2:1)*(g>=60000?(g>=600000?(g>=3600000?(g>=14400000?(g>=43200000?300:180):120):60):30):(g>=10000?(g>=30000?30:30):30))*1000},"bc_ignore_vm","https://visitor-services.boldchat.com/visitor-token-service/visitor-token","/api/v1/extendedvisitorinfo/setup",true,false)})();