/*! For license information please see 24.js.LICENSE.txt */
(window.webpackJsonppayroll_employee_portal_ui=window.webpackJsonppayroll_employee_portal_ui||[]).push([[24],{159:function(e,t,n){!function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function r(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||i[0]<o[1]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}var i={injectQualtricsScript:function(e,t,n){var r=document.createElement("script");r.src=function(e){return"https://zn"+e.substring(3).toLowerCase()+"-intuit.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID="+e+"&t="+(new Date).getTime()}(e),t&&(r.onload=t),n&&(r.onerror=n),document.head.appendChild(r)},loadAndRunQualtricsSiteIntercept:function(){window.QSI&&window.QSI.API&&window.QSI.API.load().then(window.QSI.API.run())},loadQualtricsSiteIntercept:function(){window.QSI&&window.QSI.API&&window.QSI.API.load()},runQualtricsSiteIntercept:function(){window.QSI&&window.QSI.API&&window.QSI.API.run()},surveyPopoverRemoved:function(e){return!!(window.QSI&&window.QSI.reg&&window.QSI.reg[e]&&window.QSI.reg[e].removed)},unloadQualtricsSiteIntercept:function(){window.QSI&&window.QSI.API&&window.QSI.API.unload()},userHasSeenTheSurvey:function(e){if(window.QSI&&window.QSI.EmbeddedData)return!(!window.QSI.EmbeddedData.getCookieVal(e)||"true"!==window.QSI.EmbeddedData.getCookieVal(e))},visitorQualifies:function(e){return!!(window.QSI&&window.QSI.reg&&window.QSI.reg[e])&&"resolved"===window.QSI.reg[e].willShow.state()}};function o(e){if(e&&e.appContext)return e.appContext.getUserAuthInfo().authId}function a(e){if(e&&e.appContext){var t=e.appContext.getRealmInfo();return t&&null!==t?t.realmId:void 0}}var u={getSurveyData:function(e){if(!e)return{};var n=e.realmId||a(e.sandbox),r=e.authId||o(e.sandbox),i=function(e){if(e&&e.appContext&&e.appContext.getUserAuthInfo())return e.appContext.getUserAuthInfo().federationId}(e.sandbox),u=function(e){return e&&e.appContext&&e.appContext.getLocalizationInfo()?e.appContext.getLocalizationInfo().locale:"en-us"}(e.sandbox);return t({realmId:n,authId:r,federationId:i,locale:u},function(e){var t=e.split("-");return{language:t[0],region:t[1]}}(u))},getEnvironment:function(e){if(e&&e.appContext)return e.appContext.getEnvironment()},getAppName:function(e){if(e&&e.appContext)return e.appContext.getAppInfo().appName},getAuthId:o,getAgentId:function(e){if(e&&e.appContext)return e.appContext.getUserAuthInfo().agentId},getRealmId:a,getLogger:function(e){if(e&&e.appContext)return e.logger}},s={geturl:"https://triggerservice-e2e.api.intuit.com/v1/getSurveyFlag",apikey:"preprdakyresByE7BljFbdBrufBCMGiF7HjeptLm",apikey_version:"1.0"},c={geturl:"https://triggerservice.api.intuit.com/v1/getSurveyFlag",apikey:"prdakyres95uRODDJNzQY7w2CkZUC8FkPeV9k5Zg"};function l(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,u,l,d,v,p;return r(this,(function(r){switch(r.label){case 0:return n=e.eventName,i=e.serviceName,o=e.eventData,a=e.authId,u=e.tid,l=e.realmId,d=e.bearerToken,v=function(e){var t=s,n=t;return"prod"===e&&(n=Object.assign(t,c)),n}(e.env),p={eventName:n,serviceName:i,eventData:o,eventMetaData:{authId:a,createdDate:""+new Date,intuitTid:u}},l&&(p.eventMetaData.realmId=l),[4,fetch(v.geturl,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","cache-control":"no-cache",Authorization:d||"Intuit_APIKey intuit_apikey="+v.apikey+", intuit_apikey_version="+v.apikey_version,intuit_tid:u},body:JSON.stringify(p)}).then((function(e){var n;if(e.ok)return e.json();null===(n=t)||void 0===n||n.error("survey-libs: Failure in getSurveyFlag: Status "+e.status,{response:e,requestData:p})})).catch((function(e){var n;null===(n=t)||void 0===n||n.error("survey-libs: Error while fetching survey data from Survey Orchestration Service",{error:e,requestData:p})}))];case 1:return[2,r.sent()]}}))}))}var d=(v.prototype.launchSurvey=function(){var e=t(t(t({},u.getSurveyData(this.config)),this.metadata),{tid:this.tid});window.surveyData=e,i.injectQualtricsScript(this.surveyId,this.handleSurveyScriptLoad,this.handleSurveyScriptError)},v.prototype.showSurvey=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,function(e,t){var i,o,a,u;return n(this,void 0,void 0,(function(){var n,s;return r(this,(function(r){switch(r.label){case 0:return n=!1,[4,l(e,t)];case 1:return s=r.sent(),(null===(i=s)||void 0===i?void 0:i.error)?null===(o=t)||void 0===o||o.error("survey-libs: Error in Survey Orchestration Service response: Status "+s.status,{response:s,requestData:e}):(null===(a=s)||void 0===a?void 0:a.showSurvey)&&(n=s.showSurvey&&(null===(u=s)||void 0===u?void 0:u.surveyName)===e.surveyName),[2,!!n]}}))}))}(this.sosRequestData,this.logger)];case 1:return[2,e.sent()]}}))}))},v);function v(e,t){var n=this;void 0===t&&(t={}),this.handleSurveyScriptLoad=function(e){var t;n.config.handleOnLoad(e),null===(t=n.logger)||void 0===t||t.info("survey-libs: Successful Qualtrics call to launch the Survey: ",{surveyId:n.surveyId,surveyName:n.surveyName})},this.handleSurveyScriptError=function(e){var t;n.config.handleOnError(e),null===(t=n.logger)||void 0===t||t.error("survey-libs: Error while calling Qualtrics to launch the Survey: ",{surveyId:n.surveyId,surveyName:n.surveyName})},this.config=e,this.metadata=t,this.env=e.env||u.getEnvironment(e.sandbox),this.logger=u.getLogger(e.sandbox),this.surveyId=e.surveyId,this.surveyName=e.surveyName,this.tid=e.tid||function(){var e=new Date,t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).getTime(),n=Date.now()-t,r=Math.floor(Math.random()*Date.now()/1e4),i=parseInt(""+r+n,10);return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)}))}();var r=e.agentId||u.getAgentId(e.sandbox);this.sosRequestData={env:this.env,eventName:e.eventName,serviceName:e.serviceName,surveyName:this.surveyName,authId:e.authId||u.getAuthId(e.sandbox),realmId:e.realmId||u.getRealmId(e.sandbox),tid:this.tid,eventData:e.eventData||{userId:r},bearerToken:e.bearerToken}}var p=i;e.SurveyAPI=d,e.qualtrics=p,Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);
//# sourceMappingURL=24.js.map