(self.AMP=self.AMP||[]).push({n:"amp-gwd-animation",ev:"0.1",l:true,v:"2107240354000",m:0,f:function(AMP,_){"use strict";var g,h="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function m(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}m(this);"function"===typeof Symbol&&Symbol("x");var n;if("function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var p;a:{var q={a:!0},r={};try{r.__proto__=q;p=r.a;break a}catch(a){}p=!1}n=p?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var t=n;function u(a){return a?Array.prototype.slice.call(a):[]}var v=Object.prototype.hasOwnProperty;
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */var w=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function x(a,b,c,d,e){return e?e:b?"ï¿½":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a}var y;var z=self.AMP_CONFIG||{},A=("string"==typeof z.cdnProxyRegex?new RegExp(z.cdnProxyRegex):z.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function B(a){if(self.document&&self.document.head&&(!self.location||!A.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}z.cdnUrl||B("runtime-host");z.geoApiUrl||B("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var C=self.__AMP_LOG;function D(){if(!C.user)throw Error("failed to call initLogConstructor");return C.user}function E(a,b){return D().assert(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function F(a,b,c){if(b(a))c();else{var d=a.ownerDocument.defaultView;if(d.MutationObserver){var e=new d.MutationObserver((function(){b(a)&&(e.disconnect(),c())}));e.observe(a,{childList:!0})}else var f=d.setInterval((function(){b(a)&&(d.clearInterval(f),c())}),5)}}var G=["animationend","webkitAnimationEnd"];function H(a){var b=this;this.I=a;this.o=a.win;this.h=this.o.document;this.A=this.G.bind(this);a.whenReady().then((function(){var c=b.h.body;F(c,(function(){return!!c.querySelector("."+"gwd-page-wrapper".replace(w,x))}),b.F.bind(b))}))}g=H.prototype;g.F=function(){for(var a=0;a<G.length;a++)this.h.body.addEventListener(G[a],this.A,!0);this.setCurrentPage(0)};g.setEnabled=function(a){this.h.body.classList.toggle("i-amphtml-gwd-animation-disabled",!a)};g.setCurrentPage=function(a){var b=this.h.body.querySelectorAll("."+"gwd-page-wrapper".replace(w,x));if(0==b.length)D().warn("GWD","Could not set current page. No pages were found in the document.");else{var c="."+"gwd-page-wrapper".replace(w,x)+"."+"gwd-play-animation".replace(w,x);var d=this.h.body;if(void 0!==y)var e=y;else{try{var f=d.ownerDocument,k=f.createElement("div"),l=f.createElement("div");k.appendChild(l);e=k.querySelector(":scope div")===l}catch(X){e=!1}e=y=e}e?d=d.querySelector(c.replace(/^|,/g,"$&:scope ")):(d.classList.add("i-amphtml-scoped"),e=c.replace(/^|,/g,"$&.i-amphtml-scoped "),e=d.querySelectorAll(e),d.classList.remove("i-amphtml-scoped"),d=void 0===e[0]?null:e[0]);var I=d;I&&K(I);var J=b[a];J?J.classList.add("gwd-play-animation"):D().error("GWD","Could not find page with index "+a+".")}};function K(a){a.classList.remove("gwd-play-animation");[a].concat(u(a.querySelectorAll("*"))).forEach((function(b){b.classList.remove("gwd-pause-animation");if(b.hasAttribute("data-gwd-label-animation")){var c=b.getAttribute("data-gwd-label-animation");b.classList.remove(c);b.removeAttribute("data-gwd-label-animation")}delete b.__AMP_GWD_GOTO_COUNTERS__}))}g.play=function(a){(a=this.getReceiver(a))&&a.classList.remove("gwd-pause-animation")};g.pause=function(a){(a=this.getReceiver(a))&&a.classList.add("gwd-pause-animation")};g.togglePlay=function(a){(a=this.getReceiver(a))&&a.classList.toggle("gwd-pause-animation")};g.gotoAndPlay=function(a,b){(a=this.getReceiver(a))&&L(a,b)};g.gotoAndPause=function(a,b){var c=this,d=this.getReceiver(a);d&&(L(d,b),this.o.setTimeout((function(){c.pause(a)}),40))};g.gotoAndPlayNTimes=function(a,b,c,d){if(0>=c)D().error("GWD","Invalid maxCount parameter: "+c);else if(d){if(a=this.getReceiver(a)){var e=d+"_"+b,f=a.__AMP_GWD_GOTO_COUNTERS__&&v.call(a.__AMP_GWD_GOTO_COUNTERS__,e)?a.__AMP_GWD_GOTO_COUNTERS__[e]:0;f<c&&(L(a,b),a.__AMP_GWD_GOTO_COUNTERS__||(a.__AMP_GWD_GOTO_COUNTERS__={}),v.call(a.__AMP_GWD_GOTO_COUNTERS__,e)||(a.__AMP_GWD_GOTO_COUNTERS__[e]=0),a.__AMP_GWD_GOTO_COUNTERS__[e]=f+1)}}else D().error("GWD","Event name required but not specified.")};g.getReceiver=function(a){if("document.body"==a)return this.h.body;var b=this.h.getElementById(a);if(b&&b.classList)return b;D().error("GWD","Could not get receiver with id "+a+".");return null};function L(a,b){a.classList.remove("gwd-pause-animation");var c=a.getAttribute("data-gwd-label-animation");c&&(a.classList.remove(c),a.removeAttribute("data-gwd-label-animation"));c==b&&(self.__AMP_GWD_TEMP=a.offsetWidth,delete self.__AMP_GWD_TEMP);a.classList.add(b);a.setAttribute("data-gwd-label-animation",b)}g.G=function(a){var b=a.target.getAttribute("data-event-name");if(b){a={eventName:b,sourceEvent:a};var c=this.o,d={detail:a};Object.assign(d,void 0);"function"==typeof c.CustomEvent?a=new c.CustomEvent("gwd.timelineEvent",d):(c=c.document.createEvent("CustomEvent"),c.initCustomEvent("gwd.timelineEvent",!!d.bubbles,!!d.cancelable,a),a=c);this.h.dispatchEvent(a)}};g.dispose=function(){for(var a=0;a<G.length;a++)this.h.body.removeEventListener(G[a],this.A,!0)};function M(a,b){a=N(a);a=N(a);a=a.isSingleDoc()?a.win:a;return O(a,b)?P(a,b):null}function N(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=P(b,"ampdoc").getAmpDoc(a)}return a}function P(a,b){O(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function O(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}new Set(["c","v","a","ad"]);var Q={play:["args.id"],pause:["args.id"],togglePlay:["args.id"],gotoAndPlay:["args.id","args.label"],gotoAndPause:["args.id","args.label"],gotoAndPlayNTimes:["args.id","args.label","args.N","event.detail.eventName"],setCurrentPage:["args.index"]};function R(a){a=AMP.BaseElement.call(this,a)||this;a.C="";a.j=null;a.B=a.H.bind(a);return a}var S=AMP.BaseElement;R.prototype=h(S.prototype);R.prototype.constructor=R;if(t)t(R,S);else for(var T in S)if("prototype"!=T)if(Object.defineProperties){var U=Object.getOwnPropertyDescriptor(S,T);U&&Object.defineProperty(R,T,U)}else R[T]=S[T];R.J=S.prototype;R.prototype.buildCallback=function(){this.C=this.element.getAttribute("timeline-event-prefix")||"";a:{var a=this.element,b=this.getAmpDoc().win;a=(a.ownerDocument||a).defaultView;b=b||a.__AMP_TOP||(a.__AMP_TOP=a);if(a&&a!=b&&(a.__AMP_TOP||(a.__AMP_TOP=a))==b)try{var c=a.frameElement;break a}catch(l){}c=null}var d=c;d&&(this.j=d.__AMP_EMBED__);V(this).addEventListener("gwd.timelineEvent",this.B,!0);var e=V(this).getElementById("pagedeck");if(e){E(this.element.id,"The amp-gwd-animation element must have an id.");c=this.element;b=this.element.id+".setCurrentPage(index=event.index)";a=e.getAttribute("on")||"";var f=a.indexOf("slideChange:");-1!=f?(f+=12,a=a.substr(0,f)+b+","+a.substr(f)):(a&&(a+=";"),a+="slideChange:"+b);M(c,"action").setActions(e,a)}c=this.D.bind(this);for(var k in Q)this.registerAction(k,c)};function V(a){return a.j?a.j.win.document:a.getAmpDoc().getRootNode()}R.prototype.D=function(a){var b="setCurrentPage"==a.method?(b=V(this).getElementById("pagedeck"))&&a.source==b:!0;b&&W(this,a)};function W(a,b){a=E(M(a.element,"gwd"),"Cannot execute action because the GWD service is not registered.");var c=Q[b.method].map((function(d){for(var e=d.split("."),f=b,k=0;k<e.length;k++){var l=e[k];if(l&&f&&void 0!==f[l])f=f[l];else{f=void 0;break}}return f}));a[b.method].apply(a,c)}R.prototype.H=function(a){M(this.element,"action").trigger(this.element,""+this.C+a.detail.eventName,a,3)};R.prototype.detachedCallback=function(){V(this).removeEventListener("gwd.timelineEvent",this.B,!0);return!0};(function(a){a.registerServiceForDoc("gwd",H);a.registerElement("amp-gwd-animation",R,".i-amphtml-gwd-animation-disabled [class*=-animation],.i-amphtml-gwd-animation-disabled [class*=gwdanimation]{animation:none!important}\n/*# sourceURL=/extensions/amp-gwd-animation/0.1/amp-gwd-animation.css*/")})(self.AMP)}});//# sourceMappingURL=amp-gwd-animation-0.1.js.map