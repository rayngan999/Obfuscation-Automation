!function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("ParamsVocUser",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(){function a(){return"ParamsVocuser"}function b(a){var b="pro";return"string"!==a&&a&&(e=a),b}var c="4.0.0",d=a(),e="pro",f={subDomainSettings:{areapersonal:{bannedScreenSets:["Profile-web-rediseno"],service:"escaparate"},"areapersonal-predes":{bannedScreenSets:["Profile-web-rediseno"],service:"escaparate"},"areapersonal-des":{bannedScreenSets:["Profile-web-rediseno"],service:"escaparate"},oferplan:{wrapperVersion:"v1"},guapabox:{wrapperVersion:"v1"},esquelas:{service:"esquelas"},escaparate:{wrapperVersion:"v3"},"":{wrapperVersion:"v4"},".":{wrapperVersion:"v4"},"desnlocal-vocuser":{wrapperVersion:"v4_local"}},rutaCargaJavascriptsPorSubdominio:{esquelas:{rutaCargaJavascripts:"//cabeceras.vocento.com"},"desnlocal-vocuser":{rutaCargaJavascripts:window.location.host+"/js/pro/ppll/"}},vocGroup:{ppll:["ideal","elcorreo","diariovasco","hoy","elcomercio","laverdad","eldiariomontanes","diariosur","lasprovincias","elnortedecastilla","degustalarioja","larioja","lomejordelvinoderioja","guiasaludrioja","conecta2aeuropa","leonoticias","elbierzonoticias","bierzonoticias","fallasvalencia","surinenglish","sur","burgosconecta","canarias7","mujerhoy"],abc:["abc","abcdesevilla","hoycinema","laguiatv","lavozdigital"],finanzas:["finanzas","escueladeinversion"]},media:{ideal:{granada:{apiKey:"3_Cjw59Yc63GfOrOJcTGjX5tR2wJWdo5Tn5ONPGJ3z9kvQw9UtsQL1YdWpDMCQK7PS",apiKeyParent:"3_AQc4MslDdglWS3eqtYOYN8Pk6GjOOUUzGSeonvGm2GEqF7pvz3OSJGfIBPfc2THK",group:"ideal",service:"pl_ideal_granada",service_movil:"ideal_movil_granada",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0},jaen:{apiKey:"3_Cjw59Yc63GfOrOJcTGjX5tR2wJWdo5Tn5ONPGJ3z9kvQw9UtsQL1YdWpDMCQK7PS",apiKeyParent:"3_AQc4MslDdglWS3eqtYOYN8Pk6GjOOUUzGSeonvGm2GEqF7pvz3OSJGfIBPfc2THK",group:"ideal",service:"pl_ideal_jaen",service_movil:"ideal_movil_jaen",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0},almeria:{apiKey:"3_Cjw59Yc63GfOrOJcTGjX5tR2wJWdo5Tn5ONPGJ3z9kvQw9UtsQL1YdWpDMCQK7PS",apiKeyParent:"3_AQc4MslDdglWS3eqtYOYN8Pk6GjOOUUzGSeonvGm2GEqF7pvz3OSJGfIBPfc2THK",group:"ideal",service:"pl_ideal_almeria",service_movil:"ideal_movil_almeria",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0},ecommerce:{apiKey:"3_0V767wJgxDTFrHLsQ1JxVmvpiopv1MoIF987_kw9VzBWgvhvpCSwIt4uiuwEjH5J"}},elcorreo:{alava:{apiKey:"3_WykUaY30a-fAUlSelef09sP0hZh500oxMaCrhNeX9ELWSUD7aV25zI4xpYF45_by",apiKeyParent:"3_lB903AF6DkKzio0V16Vhkhm7MbWZVZPwdmGdGwux18B-0bNtM3ZhDz_sq_AkiXmm",group:"correo",service:"pl_elcorreo_alava",service_movil:"elcorreo_alava_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0},bizkaia:{apiKey:"3_WykUaY30a-fAUlSelef09sP0hZh500oxMaCrhNeX9ELWSUD7aV25zI4xpYF45_by",apiKeyParent:"3_lB903AF6DkKzio0V16Vhkhm7MbWZVZPwdmGdGwux18B-0bNtM3ZhDz_sq_AkiXmm",group:"correo",service:"pl_elcorreo_vizcaya",service_movil:"elcorreo_vizcaya_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0},ecommerce:{apiKey:"3_1ncH_GJPf4qUk5ua-dKezYNos4JtD_7KjSoXnINAk9m4pn9UKUjMRqFGBrw8EAs_"}},diariovasco:{apiKey:"3_QaHoUGBbELVa8BfxAEydhD7nVUolyLTTOqV6akHNpIoL9O9X4ABSyP-Z06mLBiQR",apiKeyParent:"3_ZtvXv__qzslMWF3ivqkPiYsr4z2Fzl39lc9o6zl6hSop5dEOkCuAkWHvDTey_yLy",group:"diariovasco",service:"dvasco",service_movil:"diariovasco_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_UVW7WUJ8bB99cmNWFvuneyPiGHaSmOksFwR_ChbJFsECP9JXNuBM9tEDCZTI1_8m"}},hoy:{apiKey:"3_VgrWUS4qgvG6gkSnnrdyM-6DYp8VylYkVjSyADxfx3Sga-q4QfF4JxkIodfNi_gI",apiKeyParent:"3_13Ep2OBOrXLH7bH3t3yBqkV60i18La7hFDsNcLPhk3IRAgw1os8CmNsZ7x3AJBOR",group:"hoy",service:"hoy",service_movil:"hoy_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_ne5f3GGsEM5MLGYoMRu6JquY08iM2_0AjsEMbayIa-bbTgt0YcWiPcLqIVUXoOTi"}},elcomercio:{apiKey:"3_0QdPauf2a8Ou19YmcxdlZ2hdXQiX1Wa1dRRnaw02SleWQQX7SXrVjehVsg-ghgFA",apiKeyParent:"3_WScpG7u-MHdNlFT2wJZsQgrvR5EPlfc0oT5q2KlQ7NzZ5TYttEHAuNK0QU_zAiVY",group:"elcomercio",service:"pl_elcomercio",service_movil:"elcomercio_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_Rha1IMsvNJ57WTwHVTuyxmmpHQl5c0TQ1cSemWeXRJAJ0XgmjnIQl3kHBalLtaKk"}},laverdad:{apiKey:"3_JxeM_8BJdBPY7h1W6PyG-I0IFafStjad1WOsuMVEkKb9UYWlRpW57xsSZXRtX32f",apiKeyParent:"3_Yh6dBVklI7KZXSMP4zeikfwg3LH1UhRBNCQKjMywlSHt3cmnOLckWgcpkcqQuF-3",group:"laverdad",service:"pl_laverdad",service_movil:"pl_laverdad",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_Gq5BLlpRHKwbbQhUg0sByMj1H87qHOj7_uCk3zDYwy1jtKt3nzgVZt4jcA_m5WIf"}},eldiariomontanes:{apiKey:"3_juiclKGP0NKmLWPb306xyJfUlWb-LRj7vbnxWeClh9bD46Qp4cG_qxiiTJO-6bi7",apiKeyParent:"3_5Zp7U8vXpm3XN93_2Veo7nJReb0LvjASm9SDJWZeNPOwo3bv_DUTKU_i7LFdGnS-",group:"diariomontanes",service:"pl_diariomontanes",service_movil:"diariomontanes_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_ZR-1jMt6aOi64Xf3me3BZiT-gJvTrtWQxkxJk-ZR0CXG1afL5xvyX0rest-1zjQB"}},diariosur:{apiKey:"3_KAbJZyJr43wHFbphJZHJcv2ilmN8TjBU3t62cNqFf513MFNp26XA2D7FUCzYUC4M",apiKeyParent:"3_KNiC_ln7FEb9Y8BYzFc6SrQqbr2IYSKOPpdHx_sBl8xX53nHAzzicuOBAUTUWcnf",group:"sur",service:"pl_diariosur",service_movil:"sur_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_5WDBK2YqAyp0R5MEm-o-q-Tepzj92DdP3RBDsnPUBKp1SPW9Yf-Pss6WT_cl_pgx"}},sur:{apiKey:"3_KAbJZyJr43wHFbphJZHJcv2ilmN8TjBU3t62cNqFf513MFNp26XA2D7FUCzYUC4M",apiKeyParent:"3_KNiC_ln7FEb9Y8BYzFc6SrQqbr2IYSKOPpdHx_sBl8xX53nHAzzicuOBAUTUWcnf",group:"sur",service:"pl_diariosur",service_movil:"sur_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_5WDBK2YqAyp0R5MEm-o-q-Tepzj92DdP3RBDsnPUBKp1SPW9Yf-Pss6WT_cl_pgx"}},surinenglish:{apiKey:"3_SrvzIDW8wadlgiyFOKYo41lBNgs_OJ-7bIBGrBMolK-WjK5qDA5VXo0hXKuxM-aT",apiKeyParent:"3_KNiC_ln7FEb9Y8BYzFc6SrQqbr2IYSKOPpdHx_sBl8xX53nHAzzicuOBAUTUWcnf",group:"sur",service:"canal_inenglish",service_movil:"sur_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_5WDBK2YqAyp0R5MEm-o-q-Tepzj92DdP3RBDsnPUBKp1SPW9Yf-Pss6WT_cl_pgx"}},lasprovincias:{apiKey:"3_jOuM3w9w_Wju_g3IdlLzK01MvpxZfaIRq-J-Hq48Y_6ByyDMMUO24WUitkKTVjvl",apiKeyParent:"3_vDS2JppLSsbctsxNC6TPcDveKwP6kdNEhK9AIMlNtDc5tLFlTa4neCBBvBFrtKhI",group:"lasprovincias",service:"lasprovincias",service_movil:"lasprovincias_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_yQ3RgcTcodJwTETwmmSy1aCVY06dtkdnz2BoUcsBc5DQO0E97bUzomqx1mUcipa2"}},elnortedecastilla:{apiKey:"3_BcqWM9vU7n3jgz-NeV4SRxxUglU4shbYsNl5e1RWHYG8Vwr0nvhzA7SXwdwhbutw",apiKeyParent:"3_truC9aMx8j1EU3tb1MmVL-bM5Artd8dpP_23qpUUJ4XNHIgONu82jRjGp1jJYBCh",group:"nortedecastilla",service:"pl_nortecastilla",service_movil:"nortedecastilla_mv",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_UQTGzFVkYyyn1fVOlM0z_jljH3ZwcTV_VuI2nNIGpjiF8IqztvE40XFHNxnKlCV7"}},degustalarioja:{apiKey:"3_PKWymclA6wfZmx7Zc4Gxd2v32YVCR1g4Rj26BMJTUFXxwvmKGsvkd55EiTery0Jk",apiKeyParent:"3_A5YOT0CbdGYMyZzbvii5YyyzuiqRBo7nlsLeYl6cKDDAbitkO-nZPHyHKZWCnM7U",group:"larioja",service:"pl_larioja",service_movil:"larioja_movildegustalarioja",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_q53ya4m5Aozm37QyIrTsiGUX5fcnzGZaBz8TprFxSi2fcH6DrLDmAkCOs1K0PkDj"}},larioja:{apiKey:"3_PKWymclA6wfZmx7Zc4Gxd2v32YVCR1g4Rj26BMJTUFXxwvmKGsvkd55EiTery0Jk",apiKeyParent:"3_A5YOT0CbdGYMyZzbvii5YyyzuiqRBo7nlsLeYl6cKDDAbitkO-nZPHyHKZWCnM7U",group:"larioja",service:"pl_larioja",service_movil:"larioja_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_q53ya4m5Aozm37QyIrTsiGUX5fcnzGZaBz8TprFxSi2fcH6DrLDmAkCOs1K0PkDj"}},lomejordelvinoderioja:{apiKey:"3_y0x5v7LTSBVfeHY4CyrYQdWPiEjY7vFVlfWCzzdt-Ui4nScjFgVCL11tfn8uomp2",apiKeyParent:"3_A5YOT0CbdGYMyZzbvii5YyyzuiqRBo7nlsLeYl6cKDDAbitkO-nZPHyHKZWCnM7U",group:"larioja",service:"pl_larioja",service_movil:"larioja_movillomejordelvinoderioja",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_q53ya4m5Aozm37QyIrTsiGUX5fcnzGZaBz8TprFxSi2fcH6DrLDmAkCOs1K0PkDj"}},guiasaludrioja:{apiKey:"3_PKWymclA6wfZmx7Zc4Gxd2v32YVCR1g4Rj26BMJTUFXxwvmKGsvkd55EiTery0Jk",apiKeyParent:"3_A5YOT0CbdGYMyZzbvii5YyyzuiqRBo7nlsLeYl6cKDDAbitkO-nZPHyHKZWCnM7U",group:"larioja",service:"pl_larioja",service_movil:"larioja_movilguiasaludrioja",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!0,enableGigyaITP:!0,ecommerce:{apiKey:"3_q53ya4m5Aozm37QyIrTsiGUX5fcnzGZaBz8TprFxSi2fcH6DrLDmAkCOs1K0PkDj"}},conecta2aeuropa:{apiKey:"3_XVb367DLr3P0qVNoSxAWSRZV6w1C_VZX6jFW3Rbh_lqNKuGhvQd_vfboFakcWeQU",apiKeyParent:"3_A5YOT0CbdGYMyZzbvii5YyyzuiqRBo7nlsLeYl6cKDDAbitkO-nZPHyHKZWCnM7U",group:"larioja",service:"pl_larioja",service_movil:"larioja_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1,enableGigyaITP:!1},leonoticias:{apiKey:"3_9HjO7YkQTe_jgAzT6nVJqAEkNhsvpU4Lr5NTHoiyos3yk2YFhLWTah0Js_AuSIKU",apiKeyParent:"3_7xO-JvYaUZdic-qD05kWm1VgugvHabcVSX0EnIttz2GVPkPUPdYpFecfSPhfNFhV",group:"leonoticias",service:"pl_leonoticias",service_movil:"leonoticias_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1,enableGigyaITP:!0},elbierzonoticias:{apiKey:"3_HFAe6SNh4yztoASLhAWgHr9A-HGMuCwcVB7hXfh-ROhSKuSj1UvJ2Z-rPM1GU4et",apiKeyParent:"3_7xO-JvYaUZdic-qD05kWm1VgugvHabcVSX0EnIttz2GVPkPUPdYpFecfSPhfNFhV",group:"leonoticias",service:"pl_leonoticias",service_movil:"leonoticias_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1,enableGigyaITP:!0},bierzonoticias:{apiKey:"3_HFAe6SNh4yztoASLhAWgHr9A-HGMuCwcVB7hXfh-ROhSKuSj1UvJ2Z-rPM1GU4et",apiKeyParent:"3_7xO-JvYaUZdic-qD05kWm1VgugvHabcVSX0EnIttz2GVPkPUPdYpFecfSPhfNFhV",group:"leonoticias",service:"pl_leonoticias",service_movil:"leonoticias_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1,enableGigyaITP:!0},burgosconecta:{apiKey:"3_y_Mf4yVPR1Fv7ePd5eqOhcguuGRlFaW1TVziuz0YQqDGxg16VE90rK1WY4nS-BHf",apiKeyParent:"3_r5agYAxW54K9eHLt-hheUuxLMRch_22sRehnEp7IOVCnBuOL8SF0w3mtTHOPbVjN",group:"burgosconecta",service:"pl_burgosconecta",service_movil:"burgosconecta_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1,enableGigyaITP:!0},canarias7:{apiKey:"3_Ai2S3kFwtRLFarcSjFm2PoFzo2pJJ-oGOVhFjky4WIw7NE0-v3ou-b-I_autTm2O",apiKeyParent:"3_cyoEa-N9KdaxV55xDutV1VValP3NMCRsIoVkrzd2vprKHWZgcMrujT6DSqH725fO",group:"canarias7",service:"canarias7",service_movil:"canarias7_movil",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1,enableGigyaITP:!0},mujerhoy:{apiKey:"3_kPQN-G04697kF9JeISq1p3xIm_MhlnvsekTzYF0XEqQ-_9TXgetC1_855be77WoG",apiKeyParent:"3_DHbsKxS5bnnRwFicsiT0V4iQZynmatLJR40No3hLMqw08ydeTc8mu8xgn0DloaX9",group:"hoymujer",service:"hoymujer",service_movil:"hoymujer",wrapperVersion:"v4",cnameEnabled:!0,hasEcommerce:!1,enableGigyaITP:!0}},vocUserJs:{core:{"vocento-vocuser-combined-core":"vocento-vocuser-combined-core.js"},ppll:{},abc:{},site:{"vocento-vocuser-combined-siteflow":"vocento-vocuser-combined-siteflow.js"},v4:{},marketingAction:{VOCUSER_COREMARKETINGFLOW:"vocento.coreMarketingFlow.min.js"}}};return{version:function(){return c},getParamsVocUser:function(){return f},setEnvironment:b,className:function(){return d}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.ParamsVocuser=a),a}),function(a,b){"use strict";"undefined"!=typeof vocento&&vocento&&"undefined"!=typeof vocento.vocuser&&vocento.vocuser&&"undefined"!=typeof vocento.vocuser.VERSION&&"v3"!==vocento.vocuser.VERSION?"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("ParamsOptionsVocUser",b):"object"==typeof exports?module.exports=b():a.returnExports=b():a.returnExports=b()}(this,function(){"use strict";function a(a){function b(){return"GigyaOptions"}function c(a){var b=g;return"undefined"!=typeof a&&a&&"undefined"!=typeof g[a]&&g[a]&&(b=g[a]),b}function d(b,c){var d=g;if("undefined"!=typeof b&&b&&"undefined"!=typeof c&&c){if("undefined"==typeof g[b]||!g[b])return!1;var e=g[b];if("undefined"!=typeof g[b][c]&&g[b][c]){var f=g[b][c],i={},j="";for(j in e)"undefined"==typeof h[j]&&(i[j]=e[j]);i=a.extend(!0,i,f),d=i}else d=e}return d}var e="4.0.0",f=b(),g={local:{debug:!0,hasPaywall:!0,hasEcommerce:!0,hasActivatedBannedFakeEmails:!1,serviceCallEkosTechnicalSynchronized:!0,menuOnPlus:{hasClubDelSuscriptor:!0,hasApps:!0,hasBeneficios:!0,hasMiClub:!1,hasMisDispositivos:!0,misDispositivos:"Mis dispositivos"},abc:{enableCNAME:!0},finanzas:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},xlsemanal:{newsletterActualidadXLSemanal:"actualidad_XLSemanal_0225",hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},eslang:{newsletterActualidadEslang:"eslang_test_0009",hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},madridfusion:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},pidentradas:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},canarias7:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},elcorreo:{},diariovasco:{},mujerhoy:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1}},dev:{debug:!0,hasPaywall:!0,hasEcommerce:!0,hasActivatedBannedFakeEmails:!1,serviceCallEkosTechnicalSynchronized:!0,menuOnPlus:{hasClubDelSuscriptor:!0,hasApps:!0,hasBeneficios:!0,hasMiClub:!1,hasMisDispositivos:!0,misDispositivos:"Mis dispositivos"},abc:{enableCNAME:!0},finanzas:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},xlsemanal:{newsletterActualidadXLSemanal:"actualidad_XLSemanal_0225",hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},eslang:{newsletterActualidadEslang:"eslang_test_0009",hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},madridfusion:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},pidentradas:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},canarias7:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},elcorreo:{},diariovasco:{},mujerhoy:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1}},pre:{debug:!0,hasPaywall:!0,hasEcommerce:!0,hasActivatedBannedFakeEmails:!1,serviceCallEkosTechnicalSynchronized:!0,menuOnPlus:{hasClubDelSuscriptor:!0,hasApps:!0,hasBeneficios:!0,hasMiClub:!1,hasMisDispositivos:!0,misDispositivos:"Mis dispositivos"},abc:{enableCNAME:!0,hasPaywall:!0,hasEcommerce:!0,serviceCallEkosTechnicalSynchronized:!0},lavozdigital:{hasPaywall:!0,hasEcommerce:!0,serviceCallEkosTechnicalSynchronized:!0},finanzas:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},xlsemanal:{newsletterActualidadXLSemanal:"actualidad_XLSemanal_0225",hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},eslang:{newsletterActualidadEslang:"eslang_test_0009",hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},madridfusion:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},pidentradas:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},elcorreo:{},diariovasco:{},canarias7:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1},mujerhoy:{hasPaywall:!1,hasEcommerce:!1,serviceCallEkosTechnicalSynchronized:!1}},pre2:{debug:!0,hasPaywall:!0,hasEcommerce:!0,hasActivatedBannedFakeEmails:!1,serviceCallEkosTechnicalSynchronized:!0},new2:{debug:!0,hasActivatedBannedFakeEmails:!1,abc:{enableCNAME:!0,hasPaywall:!0,hasEcommerce:!0,serviceCallEkosTechnicalSynchronized:!0},lavozdigital:{enableCNAME:!0,hasPaywall:!0,hasEcommerce:!0,serviceCallEkosTechnicalSynchronized:!0}},"new":{debug:!0,abc:{enableCNAME:!0,hasPaywall:!0,hasEcommerce:!0,serviceCallEkosTechnicalSynchronized:!0},lavozdigital:{enableCNAME:!0,hasPaywall:!0,hasEcommerce:!0,serviceCallEkosTechnicalSynchronized:!0},larioja:{serviceCallEkosTechnicalSynchronized:!0},elnortedecastilla:{serviceCallEkosTechnicalSynchronized:!0},elcorreo:{serviceCallEkosTechnicalSynchronized:!0},diariovasco:{serviceCallEkosTechnicalSynchronized:!0},eldiariomontanes:{serviceCallEkosTechnicalSynchronized:!0},laverdad:{serviceCallEkosTechnicalSynchronized:!0},ideal:{serviceCallEkosTechnicalSynchronized:!0},diariosur:{serviceCallEkosTechnicalSynchronized:!0},elcomercio:{serviceCallEkosTechnicalSynchronized:!0},lasprovincias:{hasPaywall:!0,hasEcommerce:!0,serviceCallEkosTechnicalSynchronized:!0},hoy:{serviceCallEkosTechnicalSynchronized:!0}},tienda2:{debug:!0,hasPaywall:!0,hasEcommerce:!0,hasActivatedBannedFakeEmails:!1,serviceCallEkosTechnicalSynchronized:!0},pro:{debug:!1,hasActivatedBannedFakeEmails:!0,abc:{enableCNAME:!0,hasPaywall:!0,hasEcommerce:!0,serviceCallEkosTechnicalSynchronized:!0},lavozdigital:{hasPaywall:!0,hasEcommerce:!1},finanzas:{hasPaywall:!1,hasEcommerce:!1},xlsemanal:{newsletterActualidadXLSemanal:"actualidad_XLSemanal_0207",hasPaywall:!1,hasEcommerce:!1},eslang:{newsletterActualidadEslang:"eslang_0108",hasPaywall:!1,hasEcommerce:!1},madridfusion:{hasPaywall:!1,hasEcommerce:!1},pidentradas:{hasPaywall:!1,hasEcommerce:!1},larioja:{serviceCallEkosTechnicalSynchronized:!0},elnortedecastilla:{serviceCallEkosTechnicalSynchronized:!0},diariosur:{serviceCallEkosTechnicalSynchronized:!0},hoy:{serviceCallEkosTechnicalSynchronized:!0},laverdad:{serviceCallEkosTechnicalSynchronized:!0},ideal:{serviceCallEkosTechnicalSynchronized:!0},elcomercio:{serviceCallEkosTechnicalSynchronized:!0},eldiariomontanes:{serviceCallEkosTechnicalSynchronized:!0},elcorreo:{serviceCallEkosTechnicalSynchronized:!0},diariovasco:{serviceCallEkosTechnicalSynchronized:!0},lasprovincias:{serviceCallEkosTechnicalSynchronized:!0},mujerhoy:{hasPaywall:!1,hasEcommerce:!1}}};g.des=g.dev;var h={abc:"abc.es",sur:"diariosur.es",diariosur:"diariosur.es",diariovasco:"diariovasco.com",elcomercio:"elcomercio.es",correo:"elcorreo.com",elcorreo:"elcorreo.com",diariomontanes:"eldiariomontanes.es",eldiariomontanes:"eldiariomontanes.es",nortedecastilla:"elnortedecastilla.es",elnortedecastilla:"elnortedecastilla.es",finanzas:"finanzas.com",hoy:"hoy.es",ideal:"ideal.es",larioja:"larioja.com",lasprovincias:"lasprovincias.es",laverdad:"laverdad.es",lavoz:"lavozdigital.es",lavozdigital:"lavozdigital.es",hoymujer:"mujerhoy.com",mujerhoy:"mujerhoy.com",leonoticias:"leonoticias.com",surinenglish:"surinenglish.com",eslang:"eslang.es",xlsemanal:"xlsemanal.com",codeanyapp:"diariovasco.com",burgosconecta:"burgosconecta.es",madridfusion:"madridfusion.net",pidentradas:"pidentradas.com",canarias7:"canarias7.es"};return{version:function(){return e},getOptions:c,getOptionsAndDomainOptions:d,className:function(){return f}}}return"undefined"!=typeof vocento&&vocento&&"undefined"!=typeof vocento.vocuser&&vocento.vocuser&&"undefined"!=typeof vocento.vocuser.VERSION&&"v3"!==vocento.vocuser.VERSION||(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.GigyaOptions=a),a}),function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("ParamsCdn",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(){function a(){return"ParamsCdn"}var b="4.0.0",c=a(),d={transparent:{subDomain:{des:"des-cabeceras",dev:"des-cabeceras",pre:"pre-cabeceras",pro:"cabeceras"},tldDomain:{ppll:{des:"vocento.com",dev:"vocento.com",pre:"vocento.com",pro:"vocento.com"},abc:{des:"abc.es",dev:"abc.es",pre:"abc.es",pro:"abc.es"},finanzas:{des:"finanzas.com",dev:"finanzas.com",pre:"finanzas.com",pro:"finanzas.com"},mujerhoy:{des:"mujerhoy.com",dev:"mujerhoy.com",pre:"mujerhoy.com",pro:"mujerhoy.com"},eslang:{des:"eslang.es",dev:"eslang.es",pre:"eslang.es",pro:"eslang.es"},xlsemanal:{des:"xlsemanal.com",dev:"xlsemanal.com",pre:"xlsemanal.com",pro:"xlsemanal.com"},madridfusion:{des:"madridfusion.net",dev:"madridfusion.net",pre:"madridfusion.net",pro:"madridfusion.net"},pidentradas:{des:"pidentradas.com",dev:"pidentradas.com",pre:"pidentradas.com",pro:"pidentradas.com"}}},akamai:{subDomain:{des:"nets-despre",dev:"nets-despre",pre:"nets-despre",pro:"nets"},tldDomain:{ppll:{des:"vocento.com",dev:"vocento.com",pre:"vocento.com",pro:"vocento.com"},abc:{des:"vocento.com",dev:"vocento.com",pre:"vocento.com",pro:"vocento.com"}}}},e={akamai:{dev:{des:"/despre/social-login/dev/",dev:"/despre/social-login/dev/",pre:"/despre/social-login/dev/",pro:"/despre/social-login/dev/"},des:{des:"/despre/social-login/dev/",dev:"/despre/social-login/dev/",pre:"/despre/social-login/dev/",pro:"/despre/social-login/dev/"},desn:{des:"/despre/social-login/dev/",dev:"/despre/social-login/dev/",pre:"/despre/social-login/dev/",pro:"/despre/social-login/dev/"},integracion2010:{des:"/despre/social-login/pre/",dev:"/despre/social-login/pre/",pre:"/despre/social-login/pre/",pro:"/despre/social-login/pre/"},"desnlocal-vocuser":{des:"/despre/social-login/dev/",dev:"/despre/social-login/dev/",pre:"/despre/social-login/pre/",pro:"/social-login/"},pre:{des:"/despre/social-login/pre/",dev:"/despre/social-login/pre/",pre:"/despre/social-login/pre/",pro:"/despre/social-login/pre/"},pren:{des:"/despre/social-login/pre/",dev:"/despre/social-login/pre/",pre:"/despre/social-login/pre/",pro:"/despre/social-login/pre/"},www:{des:"/social-login/",dev:"/social-login/",pre:"/social-login/",pro:"/social-login/"},"new":{des:"/social-login/",dev:"/social-login/",pre:"/social-login/",pro:"/social-login/"},"":{des:"/social-login/",dev:"/social-login/",pre:"/social-login/",pro:"/social-login/"},".":{des:"/social-login/",dev:"/social-login/",pre:"/social-login/",pro:"/social-login/"}}};return{version:function(){return b},getParamsCdnUrl:function(){return d},getParamsCdnPathVocUser:function(){return e},className:function(){return c}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.ParamsCdn=a),a}),function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("ConfigManager",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";return function(){function a(){return"ConfigManager"}function b(a){var b="dev";return"string"!==a&&a&&(k=a,b=!0),b}function c(){var a="dev";return a=k}function d(a){var b=!1;return"undefined"!=typeof a&&a&&(b=n[a].subDomain[k]),b}function e(a){var b=!1,c=l.group;return"undefined"!=typeof a&&a&&(b=n[a].tldDomain[c][k]),b}function f(a,b){var c=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof o[a][b]&&(c=o[a][b][k]),c}function g(){var a="";return"undefined"!==l&&l&&"undefined"!=typeof l.editions&&l.editions&&"undefined"!=typeof l.editions.current&&l.editions.current&&(a=l.editions.current),a}function h(a,b,c,d){var e=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&"undefined"!=typeof d&&d&&(l=a,m=b,n=c,o=d,e=!0),e}var i="4.0.0",j=a(),k="dev",l={},m={},n={},o={};return{version:function(){return i},init:h,getParamsVocento:function(){return l},getParamsVocentoCurrentEdition:g,getParamsVocUser:function(){return m},getParamsCdn:function(){return n},getCdnSubDomain:d,getCdnTldDomainForGroup:e,getCdnPathVocUser:f,setEnvironment:b,getEnvironment:c,className:function(){return j}}}}),function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("LoadGigya",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a,b,c){function d(){return"LoadGigya"}function e(a,b){var c=!1,d="info",e=2;if("undefined"!=typeof Pa&&Pa&&"pro"!==Pa&&"prod"!==Pa&&("undefined"!=typeof b&&b&&(d=b),"undefined"!=typeof console&&console&&"undefined"!=typeof console.log&&console.log)){var f="purple",g="";g="undefined"!=typeof a&&a&&(a.length||"object"==typeof a)?JSON.stringify(a,null,4):a,"info"!==d&&"log"!==d||2!==e||(f="purple",console.log("%c---- Log - VocUser: "+g,"color:"+f+";")),"warn"!==d||1!==e&&2!==e||(f="blue",console.warn("%c---- Log - VocUser: "+g,"color:"+f+";")),"error"!==d||0!==e&&1!==e&&2!==e||(f="red",console.error("%c---- Log - VocUser: "+g)),c=!0}return c}function f(){var a=!1;return"undefined"!=typeof Ga&&Ga&&(c.simpleStorage=Ga),"undefined"!=typeof Ia&&Ia&&(c.DOMPurify=Ia),"undefined"!=typeof Da&&Da&&(c.configManager=Da),"undefined"!=typeof Ja&&Ja&&(c.AppWebview=Ja,qb=Ca.extend(!0,qb,Ja.getOptions())),a=!0}function g(){var a="https";return"http:"===window.location.protocol&&(a="http"),a}function h(a){var b=window.location.hostname,c=a;"undefined"!=typeof c&&c&&"/"!==c&&(b=c);var d="",e="",f="";if("undefined"!=typeof b&&b&&"/"!==b&&(e=b.split(".")),e.length<=0&&(f=b),e.length>0&&e.length<3&&(f=e[0]),e.length>2){var g=b.replace("http://","");g=g.replace("https://",""),g=g.replace("://",""),g=g.replace("//","");var h=g.split("/");if(h.length<=1&&(f=e[1]),h.length>=2){var i=h[0].split(".");i.length<=0&&(f=h[0]),i.length>0&&i.length<3&&(f=e[0]),i.length>2&&(f=i[1])}}return d=f}function i(){var a=!1,b=ga(ib);if("undefined"!=typeof b&&b)try{a=decodeURIComponent(b)}catch(c){e("Error en getNfrylCookie() al decodificar la cookie: "+c,"error"),b=ga(ib),"undefined"!=typeof b&&b&&(a=decodeURIComponent(b))}return"undefined"!=typeof a&&a||(a=window.location.href),decodeURIComponent(a)}function j(a){var b=!1;if("undefined"==typeof a||!a)return b;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(-1!==window.location.pathname.indexOf(d))return b=!0}return b}function k(){var a=!1,b=ob;return a=b,!0===mb&&(a=m(i()),!1===a&&(a=b)),"desnlocal-vocuser"===b&&(a=b),a}function l(){var a={},b=window.location.hostname,c=new RegExp("([a-z-0-9]{2,63}).([a-z.]{2,5})$"),d=c.exec(b);return a.domain=d[1],a.type=d[2],a.subdomain=b.replace(a.domain+"."+a.type,"").slice(0,-1),a=a.subdomain}function m(a){var b=!1;if("undefined"!=typeof a&&a){var c=a.split("/");if(c.length>=3){var d=c[2];if("undefined"!=typeof d&&d){var e=d.split(".");b=e[0]}}}return b}function n(){var a=!1;return a=Ra.media}function o(){var a="undefined"!=typeof gigya&&gigya&&"undefined"!=typeof gigya.partnerSettings&&gigya.partnerSettings&&"undefined"!=typeof gigya.partnerSettings.customAPIDomainPrefix&&gigya.partnerSettings.customAPIDomainPrefix?gigya.partnerSettings.customAPIDomainPrefix:null;return a}function p(){var a="undefined"!=typeof gigya&&gigya&&"undefined"!=typeof gigya.partnerSettings&&gigya.partnerSettings&&"undefined"!=typeof gigya.partnerSettings.plugins&&gigya.partnerSettings.plugins&&"undefined"!=typeof gigya.partnerSettings.plugins.apiDomain&&gigya.partnerSettings.plugins.apiDomain?gigya.partnerSettings.plugins.apiDomain:null;return a}function q(){var a="undefined"!=typeof gigya&&gigya&&"undefined"!=typeof gigya.partnerSettings&&gigya.partnerSettings&&"undefined"!=typeof gigya.partnerSettings.globalConf&&gigya.partnerSettings.globalConf&&"undefined"!=typeof gigya.partnerSettings.globalConf.enableSSOToken&&gigya.partnerSettings.globalConf.enableSSOToken?gigya.partnerSettings.globalConf.enableSSOToken:null;return a}function r(){var a="undefined"!=typeof gigya&&gigya&&"undefined"!=typeof gigya.thisScript&&gigya.thisScript&&"undefined"!=typeof gigya.thisScript.globalConf&&gigya.thisScript.globalConf&&"undefined"!=typeof gigya.thisScript.globalConf.enableSSOToken&&gigya.thisScript.globalConf.enableSSOToken?gigya.thisScript.globalConf.enableSSOToken:null;return a}function s(){var a="undefined"!=typeof gigya&&gigya&&"undefined"!=typeof gigya.partnerSettings&&gigya.partnerSettings&&"undefined"!=typeof gigya.partnerSettings.globalConf&&gigya.partnerSettings.globalConf&&"undefined"!=typeof gigya.partnerSettings.globalConf.storageDomainOverride&&gigya.partnerSettings.globalConf.storageDomainOverride?gigya.partnerSettings.globalConf.storageDomainOverride:null;return a}function t(){var a="undefined"!=typeof gigya&&gigya&&"undefined"!=typeof gigya.thisScript&&gigya.thisScript&&"undefined"!=typeof gigya.thisScript.globalConf&&gigya.thisScript.globalConf&&"undefined"!=typeof gigya.thisScript.globalConf.storageDomainOverride&&gigya.thisScript.globalConf.storageDomainOverride?gigya.thisScript.globalConf.storageDomainOverride:null;return a}function u(a){if("undefined"==typeof Pa||!Pa||Pa.indexOf("pro")>-1)return!1;var b={"URL     - protocol":jb,"Vocento - group":_a,"Vocento - site":Ua,"Vocento - environment - vocento.site.env":"undefined"!=typeof vocento&&vocento&&"undefined"!=typeof vocento.site&&vocento.site&&"undefined"!=typeof vocento.site.env&&vocento.site.env?vocento.site.env:"","--------------":"---------------: ","VocUser - service":ab,"VocUser - frameworkMainVersion | frameworkBuildDate":db+" | "+kb.substring(3),"VocUser - frameworkBuildVersion":a,"VocUser - configEnvironment":Pa,"VocUser - EKOS BUS2.0 enabled: ":"undefined"!=typeof qb.serviceCallEkosTechnicalSynchronized&&qb.serviceCallEkosTechnicalSynchronized?qb.serviceCallEkosTechnicalSynchronized:"","---------------":"---------------: ","Gigya   - apiKeyActive":Xa,"Gigya   - apiKeySite":Ya,"Gigya   - apiKeyParent":Za,"Gigya   - gigyaParentGroup":$a,"Gigya   - CNAME prefix - gigya.partnerSettings.customAPIDomainPrefix":o(),"Gigya   - CNAME ApiDomain - gigya.partnerSettings.plugins.apiDomain":p(),"Gigya   - Thirparty Cookies Gigya redirectOnLogin: gigya.partnerSettings.globalConf.enableSSOToken":q(),"Gigya   - Thirparty Cookies Gigya redirectOnLogin: gigya.thisScript.globalConf.enableSSOToken":r(),"Gigya   - ITP - gigya.partnerSettings.globalConf.storageDomainOverride":s(),"Gigya   - ITP - gigya.thisScript.globalConf.storageDomainOverride":t()};return"undefined"!=typeof console.table&&console.table?console.table(b):console.log(b),b}function v(a,b){if("undefined"==typeof Pa||!Pa||Pa.indexOf("pro")>-1)return!1;if("undefined"==typeof a||!a||"undefined"==typeof b||!b)return!1;var c=document.getElementById(b);if("undefined"==typeof c||!c)return!1;var d={"URL     - href - return to origin":window.location.href};d=Ca.extend(!0,d,a),delete d["Vocento - group"],delete d["Vocento - environment - vocento.site.env"],delete d["VocUser - service"],delete d["VocUser - frameworkMainVersion"],delete d["VocUser - frameworkBuildVersion"],delete d["VocUser - frameworkBuildDate"],delete d["VocUser - configEnvironment"],delete d["---------------"];var e='<table border="1" cellpadding="3" id="printTable" style="text-align: left; color: gray"><tbody>';for(var f in d)d.hasOwnProperty(f)&&(e+="<tr><th>"+f+"</th><td>"+d[f]+"</td></tr>");c.innerHTML=e+"</tbody></table>"}function w(){var a=window.location.hostname,b="service",c=G(a);qb.systemName="vocuserFWJS","undefined"!=typeof voc_pl&&voc_pl&&(c=c||H(voc_pl)),!0===c&&(qb.quickRegistration=!0,b="service_movil");var d="app",e=window.location.href.indexOf("screenset="+d)>-1||window.location.href.indexOf("device="+d)>-1?d:"web",f=window.location.href.indexOf("screenset="+d)>-1||window.location.href.indexOf("device="+d)>-1?d:"mobile";qb.screenSetTypeToShow=e,qb.screenSetTypeToShowMobile=f,"undefined"!=typeof Ja&&Ja&&(Ja.setScreenSetTypeToShow(qb),Ja.setSystemName(qb)),_a=C(Ua),bb=Da.getParamsVocentoCurrentEdition(),"undefined"!=typeof bb&&bb&&"undefined"!=typeof Sa.media[Ua][bb]&&Sa.media[Ua][bb]&&"undefined"!=typeof Sa.media[Ua][bb].apiKey&&Sa.media[Ua][bb].apiKey?(Ya=Sa.media[Ua][bb].apiKey,Za=Sa.media[Ua][bb].apiKeyParent,$a=Sa.media[Ua][bb].group,ab=Sa.media[Ua][bb][b],eb=Sa.media[Ua][bb].wrapperVersion,fb=Sa.media[Ua][bb].cnameEnabled,rb=Sa.media[Ua][bb].hasEcommerce,gb=Sa.media[Ua][bb].enableGigyaITP):(Ya=Sa.media[Ua].apiKey,
Za=Sa.media[Ua].apiKeyParent,$a=Sa.media[Ua].group,ab=Sa.media[Ua][b],eb=Sa.media[Ua].wrapperVersion,fb=Sa.media[Ua].cnameEnabled,rb=Sa.media[Ua].hasEcommerce,gb=Sa.media[Ua].enableGigyaITP),qb.enableGigyaITP=gb,!0===gb&&(hb="master-","undefined"!=typeof Pa&&Pa&&("local"===Pa||"dev"===Pa||"des"===Pa||"pre"===Pa)&&(hb="dev-"),qb.cnamePrefix=hb),"undefined"!=typeof eb&&(db=eb?eb:db),"undefined"!=typeof Ea&&Ea&&(ab=Ea),qb.env=Da.getEnvironment(),Xa=Ya,!0===x()&&(Xa=Za),!0===y()&&"undefined"!=typeof Sa.media[Ua].ecommerce&&Sa.media[Ua].ecommerce&&"undefined"!=typeof Sa.media[Ua].ecommerce.apiKey&&Sa.media[Ua].ecommerce.apiKey&&(Xa=Sa.media[Ua].ecommerce.apiKey);var g="";!0===z()&&(g=A(),g&&(Xa=g));var h=F(pb);if("undefined"==typeof h||!h){var i=pb.split("-"),j="";"undefined"!=typeof i[0]&&i[0]&&(j=i[0].indexOf("des")>-1?"des-":j,j=i[0].indexOf("dev")>-1?"des-":j,j=i[0].indexOf("pre")>-1?"pre-":j,j=i[0].indexOf("new")>-1?"new-":j,j=i[0].indexOf("tienda")>-1?"tienda-":j);var k="undefined"!=typeof i[1]&&i[1]?i[1]:"",l=j+k;h=F(l)}if("undefined"!=typeof pb&&pb&&"undefined"!=typeof h&&h){"undefined"!=typeof h.wrapperVersion&&h.wrapperVersion&&(db=h.wrapperVersion),"undefined"!=typeof h.apiKey&&h.apiKey&&(Ya=h.apiKey),Xa=Ya,"undefined"!=typeof h.apiKeyParent&&h.apiKeyParent&&(Za=h.apiKeyParent),!0===x()&&(Xa=Za),!0===y()&&"undefined"!=typeof Sa.media[Ua].ecommerce&&Sa.media[Ua].ecommerce&&"undefined"!=typeof Sa.media[Ua].ecommerce.apiKey&&Sa.media[Ua].ecommerce.apiKey&&(Xa=Sa.media[Ua].ecommerce.apiKey),!0===z()&&(g=A(),g&&(Xa=g));var m=ab;if("undefined"!=typeof h.service&&h.service&&(ab=h.service),!1===rb&&("ppll"===_a?(ab=m,delete h.service):"undefined"!=typeof h.service&&h.service&&(ab=h.service)),/^areapersonal/.test(pb)){var n=window.location.href;n.indexOf("trial/success")>-1&&(h.service="trial",ab="trial"),n.indexOf("servicios/newsletters")>-1&&(h.service="NL_escaparate",ab="NL_escaparate")}qb=Ca.extend(!0,qb,h)}return"undefined"==typeof fb&&(fb=!1),"undefined"!=typeof qb&&qb&&"undefined"!=typeof qb.cnameEnabled&&(fb=qb.cnameEnabled),cb=Da.getCdnPathVocUser("akamai",Ra.subdomain),B(Sa),this}function x(){var a=!1;return!0===gb&&mb&&Za&&!nb&&(a=!0),a}function y(){var a=!1,b=qa("extensionType"),c=window.location.pathname;return"undefined"!=typeof b&&"ecommerce"===b&&lb.page.registerPage===c&&(a=!0),a}function z(){var a=!1,b=l();return mb||-1===b.indexOf("sevilla")||-1===window.location.href.indexOf("orgullodenervion")&&-1===window.location.href.indexOf("alfinaldelapalmera")||"undefined"==typeof Pa||!Pa||"pro"!==Pa||(a=!0),a}function A(){var a=!1,b=window.location.href,c={orgullodenervion:"3_nd4KlCzFeb1GmW3z6U2f_aZtpI4oUM7K9dlOAELlqqwCIe5BIfsPPkQAhE0ryjSO",alfinaldelapalmera:"3_pQEk_0dG35j9wwIMB-dPNMG5Gmox8huI8Phs_00lUZWNNH5Sx89L7baocOKJNkKc"};return Ca.each(c,function(c,d){-1!==b.indexOf(c)&&(a=d)}),a}function B(a){window.__gigyaConf=a.vocUserCustomValidation}function C(a){var b=!1,c="ppll";if("undefined"!=typeof a&&a&&"undefined"!=typeof Sa&&Sa&&"undefined"!=typeof Sa.vocGroup&&Sa.vocGroup){var d=0,e=!1;for(var f in Sa.vocGroup)if(Sa.vocGroup.hasOwnProperty(f)&&Sa.vocGroup[f].length){d=0,e=!1;do a===Sa.vocGroup[f][d]&&(e=!0),d+=1;while(d<Sa.vocGroup[f].length&&e===!1);!0===e&&(c=f)}}return b=c}function D(a){var b=!1,c=[];return"undefined"!=typeof a&&a&&"undefined"!=typeof Sa&&Sa&&"undefined"!=typeof Sa.vocUserJs&&Sa.vocUserJs&&"undefined"!=typeof Sa.vocUserJs[a]&&Sa.vocUserJs[a]&&(c=Sa.vocUserJs[a]),b=c}function E(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof Sa.media[a]&&Sa.media[a]&&(b=Sa.media[a]),b}function F(a){var b=!1,c="",d="";return"undefined"!=typeof a&&a&&("undefined"!=typeof Sa.subDomainSettings[a]&&Sa.subDomainSettings[a]&&(c=Sa.subDomainSettings[a]),d=E(a),"undefined"!=typeof c&&c?b=Ca.extend(d,c):"undefined"!=typeof d&&d&&(b=d)),b}function G(a){var b=!1;return"undefined"!=typeof a&&a&&(a.indexOf(".m.")>-1||a.indexOf("m.")>-1&&"m"===a.charAt(0)&&"."===a.charAt(1)||a.indexOf("m-origin")>-1)&&(b=!0),b}function H(a){var b=!1;return"undefined"!=typeof a&&a&&"m"===a.toLowerCase()&&(b=!0),b}function I(){var a="",b=navigator.userAgent,c="",d=b.match(/(opera|edge|chrome|safari|firefox|msie|mobile|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(d[1]))c=/\brv[ :]+(\d+)/g.exec(b)||[],a="IE "+(c[1]||"");else{if("Chrome"===d[1]){if(c=b.match(/\bOPR\/(\d+)/),"undefined"!=typeof c&&c)return"Opera"+("undefined"!=typeof c[1]?" "+c[1]:"");if(c=b.match(/\bEdge\/(\d+)/),"undefined"!=typeof c&&c)return"Edge"+("undefined"!=typeof c[1]?" "+c[1]:"")}d=d[2]?[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(c=b.match(/version\/(\d+)/i))&&d.splice(1,1,c[1]),a=d.join(" ")}return a}function J(){var a=!1,b=null,c=!0===mb?i():"",d=h(c),e=K();return"undefined"!=typeof Vocento&&Vocento&&"undefined"!=typeof Vocento.GigyaOptions&&Vocento.GigyaOptions?(b=new Vocento.GigyaOptions(Ca),b="undefined"!=typeof e&&e&&!1!==b.getOptionsAndDomainOptions(e,d)?b.getOptionsAndDomainOptions(e,d):b.getOptionsAndDomainOptions(Pa,d)):"undefined"!=typeof Ta&&Ta&&(b="undefined"!=typeof e&&e&&!1!==Ta.getOptionsAndDomainOptions(e,d)?Ta.getOptionsAndDomainOptions(e,d):Ta.getOptionsAndDomainOptions(Pa,d)),"undefined"!=typeof b&&b&&(qb=Ca.extend(!0,qb,b),a=!0),a}function K(){var a=pb.split("-"),b="";return"undefined"!=typeof a[0]&&a[0]&&(b=(a[0].indexOf("des")>-1||a[0].indexOf("dev")>-1||a[0].indexOf("pre")>-1||a[0].indexOf("new")>-1||a[0].indexOf("tienda")>-1)&&"des"!==a[0]&&"dev"!==a[0]&&"pre"!==a[0]?a[0]:b),b}function L(){var a=jb+"://cdn.gigya-ext.com/screenset-validation.min.js";return a}function M(){var a=!1,b={autoLogin:!1,signIDs:!0,connectWithoutLoginBehavior:"alwaysLogin",newUsersPendingRegistration:!0,forceAuthentication:!1,dateFormat:"%d/%M/%yyyy",lang:"es",sessionExpiration:31536e3};if("undefined"!=typeof Ja&&Ja&&Ja.setGigyaJSParams(b),navigator.userAgent.indexOf("VocDeviceAppIos")<0&&(b.disabledProviders="apple"),!0===fb){var c=!0;c&&(b.enableSSOToken=!0);var d=ta(),e=d.split("."),f="."+d;"undefined"!=typeof e[0]&&e[0]&&(f="."+N(e[0])),gb&&(b.storageDomainOverride=hb+"gigya"+f)}return a=JSON.stringify(b)}function N(a){if("undefined"==typeof a||!a)return ta();var b={abc:"abc.es",burgosconecta:"burgosconecta.es",diariosur:"diariosur.es",sur:"diariosur.es",surinenglish:"diariosur.es",diariovasco:"diariovasco.com",bicibizi:"diariovasco.com",eslang:"eslang.es",correo:"elcorreo.com",elcorreo:"elcorreo.com",elcomercio:"elcomercio.es",diariomontanes:"eldiariomontanes.es",eldiariomontanes:"eldiariomontanes.es",nortedecastilla:"elnortedecastilla.es",elnortedecastilla:"elnortedecastilla.es",finanzas:"finanzas.com",hoy:"hoy.es",ideal:"ideal.es",larioja:"larioja.com",lomejordelvinoderioja:"larioja.com",degustalarioja:"larioja.com",guiasaludrioja:"larioja.com",lasprovincias:"lasprovincias.es",laverdad:"laverdad.es",lavoz:"lavozdigital.es",lavozdigital:"lavozdigital.es",leonoticias:"leonoticias.com",elbierzonoticias:"leonoticias.com",madridfusion:"madridfusion.net",hoymujer:"mujerhoy.com",mujerhoy:"mujerhoy.com",guapabox:"mujerhoy.com","pidecita.com":"pidecita.com",pidentradas:"pidentradas.com",xlsemanal:"xlsemanal.com",canarias7:"canarias7.es"},c=b.hasOwnProperty(a)?b[a]:ta();return c}function O(){var a=!1,b="cdn";"https"===jb&&(b="cdns");var c=jb+"://"+b+".gigya.com/js/socialize.js"+kb+"&apiKey="+Xa;return!0===fb&&(c=jb+"://"+b+".gigya.com/js/gigya.js?apiKey="+Xa),a=c}function P(a){var b=!1;if("undefined"!==a&&a){var c="",d=!1;if("undefined"!=typeof ob&&ob&&"undefined"!=typeof Sa.rutaCargaJavascriptsPorSubdominio[ob]&&Sa.rutaCargaJavascriptsPorSubdominio[ob]&&"undefined"!=typeof Sa.rutaCargaJavascriptsPorSubdominio[ob].rutaCargaJavascripts&&Sa.rutaCargaJavascriptsPorSubdominio[ob].rutaCargaJavascripts&&(d=!0),"local"===Pa&&(d=!0,ob="desnlocal-vocuser"),!0===d)c=jb+"://"+Sa.rutaCargaJavascriptsPorSubdominio[ob].rutaCargaJavascripts,"local"===Pa&&(c=c+a+"/"+Ua+"/");else{var e=Da.getCdnTldDomainForGroup("transparent");c=jb+"://"+Da.getCdnSubDomain("transparent")+"."+e,!0===d&&(c=c.substring(0,c.length-1));var f="/vocuser/"+db+"/resources/js/"+a+"/"+Ua+"/";c+=f}b=c}return b}function Q(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d={},e="";for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);for(e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);c=d}return c}function R(a,b,c){var d=!1,e={};if("undefined"!=typeof a&&a&&"undefined"!==b&&b){var f="";for(f in a)a.hasOwnProperty(f)&&(e[f]=b+a[f]+c)}return d=e}function S(a,b){var c=!1;if("undefined"!=typeof a&&a){var d="undefined"!=typeof b&&b?b:3e3,e=null,f=new za(function(a,b){e=setTimeout(function(){clearTimeout(e),b("Timed out in "+d+" ms.")},d)}),g=za.race([a,f]);g.then(function(a){clearTimeout(e)})["catch"](function(a){clearTimeout(e)}),c=g}return c}function T(a,b,c,d,e,f,g,h,i,j,k){"undefined"!=typeof Fa&&Fa&&(Oa.onError=Ka),Va={VOCUSER_USERUTILS:a,VOCUSER_CORE:b,VOCUSER_BASEFLOW:c,VOCUSER_GROUPFLOW:d,VOCUSER_SITEFLOW:e,VOCUSER_TAGMANAGERFLOW:f,VOCUSER_AUTOSUBSCRIBEFLOW:g,VOCUSER_NEWSLETTERSFLOW:h,VOCUSER_NFRYLFLOW:i,VOCUSER_ADDITIONALDATAFLOW:j},"undefined"!=typeof k&&k&&(Va.VOCUSER_COREMARKETINGFLOW=k),"undefined"!=typeof za&&za&&za.length||V(),Wa.resolve()}function U(){if(!0===Ma)return!0;Ma=!0;var a=qa("extensionFlowUrl");return"undefined"!=typeof a&&a?setTimeout(function(){va()},1e3):va(),!0}function V(){Ca.when(La).done(function(a){$(),U()})}function W(){Y(Z,!0,La,14);var a=new za(function(a,b){Ca.when(La).done(function(b){a()})}),b=S(a,15e3),c=function(){$()},d=function(a){console.warn("Gigya not ready in 15000 seconds."),$()};return b.then(c,d),b}function X(){La.resolve()}function Y(a,b,c,d){if("function"==typeof a&&"undefined"!=typeof b&&"undefined"!=typeof c&&c){if(b===a())return void c.resolve();if("resolved"!==c.state())var e=1,f="undefined"!=typeof d&&d?d:19,g=setInterval(function(){f>=e?(b===a()&&(c.resolve(),g&&clearInterval(g)),"resolved"===c.state()&&g&&clearInterval(g),e++):g&&clearInterval(g)},1e3)}}function Z(){return"undefined"!=typeof gigya&&gigya?gigya.isReady:!1}function $(){wa("gigyaready",window.gigya,Fa)}function _(a){var b={};return"undefined"!==a&&a&&"undefined"!=typeof a["vocento-vocuser-combined-core"]&&a["vocento-vocuser-combined-core"]&&(b[a["vocento-vocuser-combined-core"]]=["UserUtils","vocuser","BaseFlow","GroupFlow","TagManagerFlow","AutoSubscribeFlow","NewslettersFlow","NfrylFlow","AdditionalDataFlow"]),"undefined"!==a&&a&&"undefined"!=typeof a["vocento-vocuser-combined-siteflow"]&&a["vocento-vocuser-combined-siteflow"]&&(b[a["vocento-vocuser-combined-siteflow"]]=["SiteFlow"]),b}function aa(a){var b="",c=Da.getEnvironment();return"undefined"!=typeof Fa&&Fa&&(b=["UserUtils","vocuser","BaseFlow","GroupFlow","SiteFlow","TagManagerFlow","AutoSubscribeFlow","NewslettersFlow","NfrylFlow","AdditionalDataFlow"],"undefined"!=typeof a.VOCUSER_COREMARKETINGFLOW&&a.VOCUSER_COREMARKETINGFLOW&&b.push("vocento.coreMarketingFlow")),"undefined"!=typeof c&&c&&"pro"!==c&&"prod"!==c&&("undefined"!=typeof Fa&&Fa?(b=[a.VOCUSER_USERUTILS,a.VOCUSER_CORE,a.VOCUSER_BASEFLOW,a.VOCUSER_GROUPFLOW,a.VOCUSER_SITEFLOW,a.VOCUSER_TAGMANAGERFLOW,a.VOCUSER_AUTOSUBSCRIBEFLOW,a.VOCUSER_NEWSLETTERSFLOW,a.VOCUSER_NFRYLFLOW,a.VOCUSER_ADDITIONALDATAFLOW],"undefined"!=typeof a.VOCUSER_COREMARKETINGFLOW&&a.VOCUSER_COREMARKETINGFLOW&&b.push(a.VOCUSER_COREMARKETINGFLOW)):b=["VOCUSER_USERUTILS","VOCUSER_CORE","VOCUSER_BASEFLOW","VOCUSER_GROUPFLOW","VOCUSER_SITEFLOW","VOCUSER_TAGMANAGERFLOW","VOCUSER_AUTOSUBSCRIBEFLOW","VOCUSER_NEWSLETTERSFLOW","VOCUSER_NFRYLFLOW","VOCUSER_ADDITIONALDATAFLOW"]),b}function ba(a,b){var c=!1,d=!1,e="",f="";a+="core/";var g=D("core"),h=a,i=R(g,h,kb);g=D(b),h=a+b+"/";var j=R(g,h,kb);g=D("site"),h=a+b+"/"+Ua+"/";var k=R(g,h,kb);g=D("v4"),h=a;var l=R(g,h,kb),m=qa("extensionFlowUrl");("undefined"!=typeof gigyaUXFlows&&gigyaUXFlows&&gigyaUXFlows.length>0||"undefined"!=typeof m&&m)&&(b=C(Ua),a=P(b),f=D("marketingAction"),e=a+"extensions/concurso/",d=!0);var n=d?R(f,e,kb):null,o=Q(i,j),p=Q(o,k),q=Q(p,l),r=Q(q,n);if("undefined"!=typeof Fa&&Fa){var s=d?r:q,t=_(s),u=Oa.config({waitSeconds:0,bundles:t}),v=aa(s);u(v,T)}return c=!0}function ca(a,b,c,d){var e=!1;if("undefined"!=typeof a&&a){var f="undefined"!=typeof c?c:!0,g=document.createElement("script");g.type="text/javascript",g.src=a,g.async=f,"undefined"!=typeof b&&b&&(g.text=b),document.getElementsByTagName("head")[0].appendChild(g),"undefined"!=typeof za&&za&&za.length?e=new za(function(b,c){g.onload=function(){b(a),"undefined"!=typeof d&&"function"==typeof d&&d()},g.onreadystatechange=function(){(g.readyState||"loaded"===g.readyState||"complete"===g.readyState)&&b(a)}}):(g.onload=function(){"undefined"!=typeof d&&"function"==typeof d&&d()},g.onreadystatechange=function(){(g.readyState||"loaded"===g.readyState||"complete"===g.readyState)&&"undefined"!=typeof d&&"function"==typeof d&&d()})}return e}function da(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a.vocuser&&a.vocuser&&(b=!0),b}function ea(){var a=window.Promise?window.Promise:window.RSVP?window.RSVP.Promise:window.ES6Promise?window.ES6Promise:null;return"undefined"!=typeof a&&a||e("VocUser::initPromiseNamespace => ERROR obteniendo el namespace de JS de Promise.","error"),a}function fa(){if(!0===mb){var a=qa("extensionFlowUrl");if("undefined"!=typeof a&&a){var b=a+kb;ca(b,"",!1)}}else sa("extensionFlowUrl","",!0),sa("lastAction","",!0)}function ga(a,b){var c=null;if("undefined"==typeof a||!a||document.cookie.length<=0)return c;var d=document.cookie.indexOf(a+"=");if(-1===d)return c;d=d+a.length+1;var e=document.cookie.indexOf(";",d);-1===e&&(e=document.cookie.length);try{c="undefined"!=typeof b&&!1===b?document.cookie.substring(d,e):decodeURIComponent(document.cookie.substring(d,e))}catch(f){c=null}return c}function ha(b){fa(),"undefined"!=typeof b&&b&&(qb=Ca.extend(!0,qb,b)),J(),"undefined"!=typeof Fa&&Fa&&(Ka=Oa.onError,Oa.onError=function(a){});var c=O(),d="",e=(L(),""),f=M(),g={};g.text=f,window.onGigyaServiceReady=X,"undefined"!=typeof Fa&&Fa?d=Fa.load(c,g):(d=ca(c,f,!0),window.vocUserGigyaReady=e),d.then(function(b){var c=null;"undefined"!=typeof za&&za&&za.length&&(c=W());var d=Da.getEnvironment();if("pro"===d||"prod"===d||!0===da(a)){T(a.UserUtils,a.vocuser,a.BaseFlow,a.GroupFlow,a.SiteFlow,a.TagManagerFlow,a.AutoSubscribeFlow,a.NewslettersFlow,a.NfrylFlow,a.AdditionalDataFlow,a["vocento.coreMarketingFlow"]);var e=function(){U()},f=function(a){U()};c.then(e,f)}else{var g=C(Ua),h=P(g);ba(h,g);var i=function(){Ca.when(Wa).done(function(a){U()})},j=function(a){Ca.when(Wa).done(function(a){U()})};c.then(i,j)}})["catch"](function(a){var b="undefined"!=typeof Fa&&Fa?"voontoApp loaded":"voontoApp not loaded",c="";try{c="string"==typeof a&&a?a:"object"==typeof a&&a?JSON.stringify(a):""}catch(d){}try{c=c+" | "+JSON.stringify(a,["message","arguments","type","name","stack"])}catch(d){}Na({additionalInformation:b,vocUserJsVersion:"v4.84.5",eventNameFired:"gigyaReady",firedEventGigyaReady:!1,errorMessage:c})})}function ia(a){return Xa=a,this}function ja(){return Xa}function ka(a){return $a=a,this}function la(){return $a}function ma(a){return ab=a,ua(ab),this}function na(){return ab}function oa(){return db}function pa(a){var b=!1,c="";if("undefined"!==a&&a)try{c=JSON.parse(a.cookie),b=c}catch(d){try{a.cookie=decodeURIComponent(a.cookie),c=JSON.parse(a.cookie),b=c}catch(d){}}return b}function qa(a){var b=!1,c=ga("vocuser_information",!1),d="",e="";if("undefined"!=typeof c&&c){try{b=decodeURIComponent(c),d=decodeURIComponent(c)}catch(f){d=""}b="undefined"!=typeof d&&d&&""!==d?d:b;var g={cookie:b};e=pa(g)}return"undefined"==typeof e||"undefined"==typeof a?e:"undefined"!=typeof e[a]&&e[a]?e[a]:null}function ra(a,b,c,d){var e=!1;return!0===d?(Ca.cookie(a,b,c),e=!0):(null===ga(a)||"undefined"==typeof ga(a))&&(Ca.cookie(a,b,c),e=!0),e}function sa(a,b,c,d){var e=!1,f=qa();if("undefined"!=typeof c&&c){"undefined"!=typeof f&&f||(f={}),f[c]=d;var g=JSON.stringify(f);(Aa.indexOf("Safari")>-1||Aa.indexOf("Mobile")>-1||Aa.indexOf("-?")>-1)&&(g=encodeURIComponent(f));var h={domain:a,path:"/",expires:b},i=!0;e=ra("vocuser_information",g,h,i)}return e}function ta(){var a=document.domain.split(".");return a.length>=2&&(a=a[a.length-2]+"."+a[a.length-1]),a}function ua(a){var b=!1;if("undefined"!=typeof a&&a){var c=ta(),d=365;sa("."+c,d,"lastService",a),b=!0}return b}function va(){f(c);var a=new Va.VOCUSER_USERUTILS(Ca,qb),d={};d=new Va.VOCUSER_CORE(Ca,$a,ab,qb,a,Fa,Ua,c,Ha);var e=new Va.VOCUSER_BASEFLOW(Ca,a);d.registerFlow(e);var g=new Va.VOCUSER_GROUPFLOW(Ca,a,c);d.registerFlow(g);var h=new Va.VOCUSER_SITEFLOW(Ca,a);if(d.registerFlow(h),"undefined"!=typeof Va.VOCUSER_TAGMANAGERFLOW){var i=new Va.VOCUSER_TAGMANAGERFLOW(Ca,a);d.registerFlow(i)}if("undefined"!=typeof Va.VOCUSER_AUTOSUBSCRIBEFLOW){var j=new Va.VOCUSER_AUTOSUBSCRIBEFLOW(Ca,a);d.registerFlow(j)}if("undefined"!=typeof Va.VOCUSER_NEWSLETTERSFLOW){var k=new Va.VOCUSER_NEWSLETTERSFLOW(Ca,a);d.registerFlow(k)}if("undefined"!=typeof Va.VOCUSER_NFRYLFLOW){var l=new Va.VOCUSER_NFRYLFLOW(Ca,a);d.registerFlow(l)}if("undefined"!=typeof Va.VOCUSER_ADDITIONALDATAFLOW){var m=new Va.VOCUSER_ADDITIONALDATAFLOW(Ca,a);d.registerFlow(m)}if("undefined"!=typeof Va.VOCUSER_COREMARKETINGFLOW){var n=new Va.VOCUSER_COREMARKETINGFLOW(Ca,a);d.registerFlow(n)}if("undefined"!=typeof gigyaUXFlows&&gigyaUXFlows&&gigyaUXFlows.length>0){for(var o=0;o<gigyaUXFlows.length;o++)if("undefined"!=typeof gigyaUXFlows[o].version)d.registerFlow(gigyaUXFlows[o]);else{var p=new gigyaUXFlows[o](Ca,a);d.registerFlow(p)}gigyaUXFlows=null}d.init(b),"undefined"!=typeof Fa&&Fa?wa("ready",d,Fa):window.gigyaUX=d;var q=u(d.version());v(q,"vocuser-debug-site-info")}function wa(a,b,c){var d=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&(c.promised("vocuser:"+a,b),d=!0),d}var xa="4.0.0",ya=d(),za=ea(),Aa="undefined"!=typeof I?I():"",Ba={};Ba.dateInitialLoad=+new Date;var Ca=a.jQuery,Da=a.ConfigManager,Ea=a.customService,Fa=a.voontoApp,Ga=a.simpleStorage,Ha=a.internalDependencies,Ia=a.DOMPurify,Ja=a.AppWebview,Ka="",La=Ca.Deferred(),Ma=!1,Na="undefined"!=typeof b&&b&&"undefined"!=typeof b.sendDataToNewRelic&&b.sendDataToNewRelic?b.sendDataToNewRelic:function(){},Oa=b.requireFunction,Pa=(b.defineFunction,Da.getEnvironment()),Qa={};Qa.getMainDomain=function(){var a=document.domain.split(".");return a.length>=2&&(a=a[a.length-2]+"."+a[a.length-1]),a};var Ra=Da.getParamsVocento(),Sa=Da.getParamsVocUser(),Ta=a.ParamsOptionsVocUser,Ua=(Da.getParamsCdn(),n()),Va={},Wa=Ca.Deferred(),Xa=null,Ya=null,Za=null,$a=null,_a=null,ab=null,bb=null,cb=null,db="v1",eb="v1",fb=!1,gb=!1,hb="",ib="vocuser_nfryl_volver_al_origen",jb=g(),kb="?v=202107211123",lb={page:{loginPage:"/login/login.html",loginAdditionalDataPage:"/login/datos-adicionales.html",registerPage:"/registro/formulario.html",registerConfirmedPage:"/registro/confirmacion.html",resendMailPage:"/registro/reenviar-mail.html",mailSendedPage:"/registro/mail-enviado.html",validateMailPage:"/registro/validacion-mail.html",recoveryPage:"/clave/recuperar.html",sendedMailPage:"/clave/mail-enviado.html",changePasswdPage:"/clave/cambiar.html",passwdchangedPage:"/clave/cambiada.html",setPasswdURL:"/clave/asignar.html",passwdSetedURL:"/clave/asignada.html",profilePage:"/perfil/perfil.html",interestPage:"/perfil/intereses.html",changePasswdProfilePage:"/perfil/cambiar-clave.html",profileUpdatedPage:"/perfil/actualizado.html"},pageLogged:{loginAdditionalDataPage:"/login/datos-adicionales.html",passwdSetedURL:"/clave/asignada.html",profilePage:"/perfil/perfil.html",interestPage:"/perfil/intereses.html",changePasswdProfilePage:"/perfil/cambiar-clave.html",profileUpdatedPage:"/perfil/actualizado.html"}},mb=j(lb.page),nb=j(lb.pageLogged),ob=l(),pb=k(),qb={},rb=!1;return w(),{version:function(){return xa},init:ha,setApikey:ia,getApikey:ja,setGroup:ka,getGroup:la,setService:ma,getService:na,getVersionJavascripts:oa,className:function(){return ya}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.LoadGigya=a),a}),function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("UserUtils",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";return function UserUtils($,gigyaOptions){function getClassName(){return"UserUtils"}function initRow(){var a=function(){};return a="undefined"!=typeof Row&&Row?Row:Vocento.Row}function initCustomValidation(){var a=function(){};return a="undefined"!=typeof customValidation&&customValidation?customValidation:Vocento.customValidation}function initInsertCustomFields(){var a=function(){};return a="undefined"!=typeof insertCustomFields&&insertCustomFields?insertCustomFields:Vocento.insertCustomFields}function initUserUtils(){"undefined"!=typeof vocento&&vocento&&"undefined"!=typeof vocento.vocuser&&vocento.vocuser&&"undefined"!=typeof vocento.vocuser.VERSION&&vocento.vocuser.VERSION&&"v4"===vocento.vocuser.VERSION?(objectRow=initRow(),objectCustomValidation=initCustomValidation(),objectInsertCustomFields=initInsertCustomFields(),objectCustomValidation=new objectCustomValidation,objectInsertCustomFields=new objectInsertCustomFields):(objectRow=null,objectCustomValidation=null,objectInsertCustomFields=null)}function log(a,b){var c=!1,d="info",e=1;if("undefined"!=typeof b&&b&&(d=b),"undefined"!=typeof console&&console){var f="purple",g="";g="undefined"!=typeof a&&a&&(a.length||"object"==typeof a)?JSON.stringify(a,null,4):a,"info"!==d&&"log"!==d||2!==e||(f="purple",console.log("%c---- Log - VocUser: "+g,"color:"+f+";")),"warn"!==d||1!==e&&2!==e||(f="blue",console.warn("%c---- Log - VocUser: "+g,"color:"+f+";")),"error"!==d||0!==e&&1!==e&&2!==e||(f="red",console.error("%c---- Log - VocUser: "+g)),c=!0}return c}function UnicodeToChar(a){var b=!1;if("undefined"!=typeof a&&a&&1===a.length)switch(a){case"a":b=String.fromCharCode(225);break;case"e":b=String.fromCharCode(233);break;case"i":b=String.fromCharCode(237);break;case"o":b=String.fromCharCode(243);break;case"u":b=String.fromCharCode(250);break;case"n":b=String.fromCharCode(241);break;case"A":b=String.fromCharCode(193);break;case"E":b=String.fromCharCode(201);break;case"I":b=String.fromCharCode(205);break;case"O":b=String.fromCharCode(211);break;case"U":b=String.fromCharCode(218);break;case"N":b=String.fromCharCode(209)}return b}function Row(fields,asColumns){function setOptions(a){return options=a,this}function setData(a){return data=a,this}function setProfile(a){return profile=a,this}function getIdForInput(a){var b="";if("undefined"!=typeof a.attr.name&&a.attr.name&&"undefined"!=typeof a.attr.screen&&a.attr.screen){var c=a.attr.screen.substring(5);b=a.attr.name+c}return b}function getFieldHTML(obj){var html="",value="";try{value="undefined"!=typeof eval(obj.attr.value)?eval(obj.attr.value):"undefined"!=typeof obj.attr.onNewValue?obj.attr.onNewValue:""}catch(err){value="undefined"!=typeof obj.attr.onNewValue?obj.attr.onNewValue:""}var fieldStyle="";"undefined"!=typeof obj.attr.style&&obj.attr.style&&(fieldStyle=obj.attr.style);var type="",id="",cls="",req="",name="",selected="",extraId="",selectClass="",textboxId=!1;switch("undefined"==typeof obj.attr.type||"textbox"!==obj.attr.type&&"password"!==obj.attr.type||(textboxId=getIdForInput(obj)),obj.attr.type){case"text":req=obj.required?'<span class="required" data-bound-to="'+obj.attr.name+'">*</label>':"",type=obj.attr.type?' type="'+obj.attr.type+'"':"",id=obj.attr.id?' id="'+obj.attr.id+'"':"",name="",name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",cls=obj.attr.cssClass?' class="gigya-input-text '+obj.attr.cssClass+'"':' class="gigya-input-text"';var placeholder=obj.attr.placeholder?' placeholder="'+obj.attr.placeholder+'"':"";if(value=value?' value="'+value+'"':"",html='<div class="gigya-composite-control gigya-composite-control-textbox" style="display: block; '+fieldStyle+'">',$.trim(obj.displayText)){var textStyle="";"undefined"!=typeof fieldStyle&&fieldStyle&&(textStyle='style="'+fieldStyle+'"'),html+=gigyaOptions.userIsInAppWebviewFlow?'<label class="gigya-label form-control-placeholder--app">'+obj.displayText+":"+req+"</label>":'<label class="gigya-label">'+obj.displayText+":"+req+"</label>",html+='<label class="gigya-label">'+obj.displayText+":"+req+"</label>"}html+="<input"+type+id+cls+name+placeholder+value+'><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div>';break;case"password":req=obj.required?' data-required="true" ':" ",extraId=""!==textboxId?' id="'+textboxId+'"':"",placeholder=obj.required?obj.displayText+" *":obj.displayText,html='<div class="gigya-layout-cell form-group"><div class="gigya-composite-control gigya-composite-control-password"><input type="'+obj.attr.type+'" '+extraId+' class="gigya-input-password form-control" data-display-name="'+obj.displayText+'" name="'+obj.attr.name+'" tabindex="0" show-valid-checkmark="true" '+req+'><label for="'+textboxId+'" class="form-control-placeholder">'+placeholder+'</label><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div></div>';break;case"hidden":type=obj.attr.type?' type="'+obj.attr.type+'"':"",id=obj.attr.id?' id="'+obj.attr.id+'"':"",name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",value=value?' value="'+value+'"':"",html="<input"+type+id+name+value+">";break;case"checkbox":req=obj.required?'<label class="required" data-bound-to="'+obj.attr.name+'">*</label>':"",type=obj.attr.type?' type="'+obj.attr.type+'"':"",id=obj.attr.id?' id="'+obj.attr.id+'"':"",extraId=obj.attr.extraId?' id="'+obj.attr.extraId+'"':"",name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",cls=obj.attr.cssClass?' class="gigya-input-checkbox '+obj.attr.cssClass+'"':' class="gigya-input-checkbox"',value="true"===value||value===!0?' checked="checked"':"";var checkBoxStyle="";"undefined"!=typeof fieldStyle&&fieldStyle&&(checkBoxStyle='style="'+fieldStyle+'"'),html='<div class="gigya-composite-control gigya-composite-control-checkbox"><label class="gigya-label vocuser-custominputwrap" '+extraId+"><input"+type+id+cls+name+value+'><span class="vocuser-custominput-checkbox"></span><span class="gigya-label-checkbox vocuser-custominput-text" '+checkBoxStyle+">"+obj.displayText+"</span>"+req+'</label><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div>';break;case"hiddenCheckbox":req=obj.required?'<label class="required" data-bound-to="'+obj.attr.name+'">*</label>':"",type=obj.attr.type?' type="checkbox"':"",id=obj.attr.id?' id="'+obj.attr.id+'"':"",extraId=obj.attr.extraId?' id="'+obj.attr.extraId+'"':"",name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",cls=obj.attr.cssClass?' class="gigya-input-checkbox '+obj.attr.cssClass+'"':' class="gigya-input-checkbox"',value="true"===value||value===!0?' checked="checked"':"";var checkBoxStyle="";"undefined"!=typeof fieldStyle&&fieldStyle&&(checkBoxStyle='style="'+fieldStyle+'"'),html='<div class="gigya-composite-control gigya-composite-control-checkbox" style="visibility:hidden; position:absolute"><label class="gigya-label vocuser-custominputwrap" '+extraId+"><input"+type+id+cls+name+value+'><span class="vocuser-custominput-checkbox"></span><span class="gigya-label-checkbox vocuser-custominput-text" '+checkBoxStyle+">"+obj.displayText+"</span>"+req+'</label><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div>';break;case"label":var labelStyle="",labelClass="",displayText=obj.required?obj.displayText+" *":obj.displayText;if("undefined"!=typeof fieldStyle&&fieldStyle&&(labelStyle='style="'+fieldStyle+'"'),obj.attr.isPElement){html="<p>"+displayText+"</p>";break}obj.attr.labelClass&&""!==obj.attr.labelClass&&(labelClass=' class="txt-select-age"'),html='<div class="gigya-composite-control gigya-composite-control-label" '+labelStyle+">",html+=labelClass&&""!==labelClass?"<label"+labelClass+">"+displayText+"</label>":"<label>"+displayText+"</label>",html+="</div>";break;case"textbox":name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",req=obj.required?' data-required="true" ':" ",extraId=""!==textboxId?' id="'+textboxId+'"':"",placeholder=obj.required?obj.displayText+" *":obj.displayText,html=gigyaOptions.userIsInAppWebviewFlow?'<div class="gigya-composite-control gigya-composite-control-textbox form-group"><input type="text" class="gigya-input-text form-control" data-display-name="'+obj.displayText+'" '+name+" "+req+" "+extraId+'"><label for="'+textboxId+'" class="form-control-placeholder form-control-placeholder--app">'+placeholder+'</label><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div></div>':'<div class="gigya-composite-control gigya-composite-control-textbox form-group"><input type="text" class="gigya-input-text form-control" data-display-name="'+obj.displayText+'" '+name+" "+req+" "+extraId+'"><label for="'+textboxId+'" class="form-control-placeholder">'+placeholder+'</label><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div></div>';break;case"textboxPrf":if(gigyaOptions.userIsInAppWebviewFlow){req=obj.required?' data-required="true" ':" ",html='<label> class="form-control-placeholder--app"'+obj.displayText+'</label><input class="gigya-input-text" name="'+obj.attr.name+'" data-display-name="" type="text" placeholder="'+obj.displayText+'" '+req+'><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span>';break}req=obj.required?' data-required="true" ':" ",html="<label>"+obj.displayText+'</label><input class="gigya-input-text" name="'+obj.attr.name+'" data-display-name="" type="text" placeholder="'+obj.displayText+'" '+req+'><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span>';break;case"select":name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",req=obj.required?' data-required="true" ':" ",cls=obj.attr.cssClass?"gigya-composite-control gigya-composite-control-textbox "+obj.attr.cssClass:"gigya-composite-control gigya-composite-control-dropdown form-group",html='<div class="'+cls+'">',selectClass=fieldStyle?"gigya-input-text form-control "+fieldStyle:"gigya-input-text form-control",html+='<select data-gigya-placeholder="'+obj.attr.placeholder+' " class="'+selectClass+'" data-display-name="'+obj.attr.placeholder+'" '+name+" "+req+">",$.each(obj.attr.options,function(a,b){a===obj.attr.value?(selected='data-gigya-placeholder="'+obj.attr.placeholder+'" disabled selected="selected" ',a=obj.required?a+" *":a):selected="",html+='<option value="'+b+'" '+selected+">"+a+"</option>"}),html+="</select>",html+='<span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></div>';break;case"profileSelect":name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",req=obj.required?' data-required="true" ':" ";var profileSpan='<span class="tercio">';html=profileSpan+'<select data-gigya-placeholder="'+obj.attr.placeholder+'" data-display-name="'+obj.attr.placeholder+'" '+name+" "+req+">",$.each(obj.attr.options,function(a,b){a===obj.attr.value?(selected='data-gigya-placeholder="'+obj.attr.placeholder+'" disabled selected="selected" ',a=obj.required?a+" *":a):selected="",html+='<option value="'+b+'" '+selected+">"+a+"</option>"}),html+="</select>",html+='<span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></span>';
break;case"profileTextbox":name=obj.inSchema?obj.attr.name?' name="'+obj.attr.name+'" data-gigya-name="'+obj.attr.name+'"':"":obj.attr.name?' vocento-name="'+obj.attr.name+'"':"",req=obj.required?' data-required="true" ':" ",profileSpan='<span class="tercio">',html=profileSpan+'<input type="text" data-gigya-placeholder="'+obj.displayText+'" class="gigya-input-text" data-display-name="'+obj.displayText+'" '+name+" "+req+'  placeholder="'+obj.displayText+'  *"><span class="gigya-error-msg" data-bound-to="'+obj.attr.name+'"></span></span>';break;case"date":req=obj.required?' data-required="true" ':" ",selectClass=fieldStyle?"gigya-input-text form-control "+fieldStyle:"gigya-input-text form-control",html='<select data-gigya-placeholder="'+obj.attr.placeholder+' " class="'+selectClass+'" data-display-name="'+obj.attr.placeholder+'" name="'+obj.attr.name+'" ',html+='data-gigya-name="'+obj.attr.name+'" '+req+">",$.each(obj.attr.options,function(a,b){a===obj.attr.value?(selected='data-gigya-placeholder="'+obj.attr.placeholder+'" disabled selected="selected" ',a=obj.required?a+" *":a):selected="",html+='<option value="'+b+'" '+selected+">"+a+"</option>"}),html+="</select>"}return html}function getColumnHTML(a){var b="";return $.each(a,function(a,c){var d=c.columnId?' id="'+c.columnId+'"':"",e=c.columnClass?' class="gigya-layout-cell '+c.columnClass+'"':' class="gigya-layout-cell"',f=c.columnStyle?' style="'+c.columnStyle+'"':"";b+="<div"+d+e+f+">"+getFieldHTML(c)+"</div>"}),b+='<div class="gigya-clear"></div>'}function getHTML(){if(asColumns)return getColumnHTML(fields);var a="";return $.each(fields,function(b,c){a+=getFieldHTML(c)}),a}function getRowFields(){var a=!1,b=[];return $.each(fields,function(a,c){b[b.length]=c.attr.name}),"undefined"!=typeof b&&b&&b.length&&(a=b),a}function changeDisplayText(a){return fields.field.displayText&&a&&(fields.field.displayText=a),this}function modifyAttr(a,b){return fields.field.attr.hasOwnProperty(a)&&b&&(fields.field.attr[a]=b),this}function modifyRequired(a){return fields.field.required&&"boolean"==typeof a&&(fields.field.required=a),this}var options={},data={},profile={},default_obj={inSchema:!0,displayText:"",required:!1,attr:{type:"",name:"",id:"",extraId:"",isPElement:"",cssClass:"",placeholder:"",value:"",onNewValue:"",screen:""}};return"undefined"!=typeof fields&&fields&&"undefined"!=typeof fields.field&&fields.field&&(fields.field=$.extend(!0,{},default_obj,fields.field)),{html:function(){return getHTML()},getRowFields:function(){return getRowFields()},setOptions:setOptions,setData:setData,setProfile:setProfile,changeDisplayText:changeDisplayText,modifyAttr:modifyAttr,modifyRequired:modifyRequired}}function insertCustomFields(){function a(a){return k=a,this}function b(a){return l=a,this}function c(a,b){var c="";switch(b){case"registrationEnterpriseRss":case"registrationEnterprisePositionRss":case"city":case"province":case"cardGold":case"occupation":case"education":case"cardPlatinum":case"gender":case"maritalStatus":case"children":c=a;break;default:c='<div class="gigya-layout-row" data-vocento-row-key="'+b+'">'+a+"</div>"}return c}function d(a){var b=!1;return"undefined"!=typeof a&&a&&a.length&&(b=!0),b}function e(a){var b=!1;return"undefined"!=typeof a&&a&&(b=!0),b}function f(a,b){$.each(l.fieldsGroup[b.group],function(f,g){var h=!1,i=!1,j=l.fields[g];j.setOptions(k),j.modifyAttr("screen",a);var m=c(j.html(),g),n="",o="",p="";if(e(b.elementId)&&!1===i&&(o=b.elementId,p="#"+o,n=$("#"+a).find("div"+p),d(n)===!1&&(n=$(p)),d(n)?(n.append(m),n.find("input[placeholder]:visible").placeholder(),i=!0):(p="#"+o,n=$("#"+a).find("div"+p),d(n)===!1?n=$(p):(p='div [name="'+o+'"]',n=$(p)),d(n)&&(n.append(m),i=!0))),(e(b.beforeField)||e(b.afterField))&&!1===i){if(o=e(b.beforeField)?b.beforeField:b.afterField,p=' form div [name="'+o+'"]',n=$("div#"+a+p).parents(".gigya-layout-row:first"),d(n))h=!0;else if(p="div#"+a+' form [name="'+o+'"]',n=$(p),d(n)===!1&&(n=$(p)),d(n)){var q="";if("gigya-complete-registration-screen"===a)q=n.closest('div[class^="gigya-composite-control gigya-composite-control-"]'),d(q)&&(h=!0,n=q);else if(q=n.parents(".gigya-layout-row:first"),d(q))h=!0,n=q;else{var r=n.parents(".gigya-layout-cell:first");d(r)?(h=!0,n=r):h=!0}}!0===h&&(e(b.beforeField)?n.before(m):n.after(m),i=!0)}e(b.lastRow)&&!0===b.lastRow&&!1===i&&(o=b.lastRow,p=" .gigya-layout-row:last",n=$("#"+a+p),d(n)===!1&&(n=$(p)),d(n)?(n.after(m),i=!0):(p=" div.gigya-layout-row:last",n=$("form."+a+p),d(n)===!1&&(n=$(p)),d(n)&&(n.append(m),i=!0)))})}function g(a){if("undefined"!=typeof l&&l&&"undefined"!=typeof l.screens&&l.screens&&"undefined"!=typeof a&&a&&"undefined"!=typeof l.screens[a])for(var b in l.screens[a])if(l.screens[a].hasOwnProperty(b)){var c=l.screens[a][b];f(a,c)}return this}function h(){return $("div[data-vocento-row-key]").remove(),this}function i(){return $("form:visible [vocento-name]")}function j(a){$.each(a,function(a,b){var c=$('form:visible [vocento-name="'+a+'"]');c.is("input:checkbox")&&c.attr("checked",b),c.val(b)})}var k={},l={fields:{},fieldsGroup:{},externalFieldsSection:{},screens:{}};return{setOptions:a,setManifest:b,getHTML:g,removeHTML:h,getExternalFieldsNames:i,setExternalFields:j}}function translateError(a){var b="";switch(a.errorCode){default:b=a.errorMessage}return b}function customValidation(){function a(a){return G=a,this}function b(a){return H=a,this}function c(a){return I=a,this}function d(a){return J=$.extend(!0,J,a),this}function e(a){return"undefined"!=typeof UnicodeToChar&&UnicodeToChar?UnicodeToChar(a):Vocento.UnicodeToChar(a)}function f(a){var b=!0,c=null;if("undefined"!=typeof a)try{c=grecaptcha.getResponse(a)}catch(d){c=$("#g-recaptcha-response").val()}if("undefined"!=typeof c&&c){var e=G.authServer+"/validate/captcha?captchaResponse="+c;try{var f=new XMLHttpRequest;if("withCredentials"in f?f.open("GET",e,!1):"undefined"!=typeof XDomainRequest?(f=new XDomainRequest,f.open("GET",e,!1)):f=null,!f)return;f.send(null),'{"success":true}'===JSON.parse(f.responseText)&&(b=!0)}catch(g){}}return b}function g(a,b){var c=!0;return"string"==typeof a&&(a="form."+a+":visible"),$(a).find('input:visible[name], input:visible[vocento-name], select:visible[name], select:visible[vocento-name], textarea:visible[name], textarea:visible[vocento-name], input[type="checkbox"]').each(function(a,b){c=h($(b))&&c}),"undefined"!=typeof b&&!0===c&&!0!==f(b)?(c=!1,"undefined"!=typeof b&&grecaptcha.reset(b),$("#vocento-error-captcha-msg").show(),$("#vocento-error-captcha-msg").html("<p>El valor del captcha es incorrecto</p>"),$("#vocento-error-captcha-msg").addClass("gigya-error-msg gigya-error-msg-active"),c):c}function h(a){var b=!0,c="undefined"!=typeof $(a).attr("name")&&$(a).attr("name")?$(a).attr("name"):$(a).attr("vocento-name");return"undefined"!=typeof c&&"function"==typeof J[c]&&(b=J[c]($(a),$('[data-bound-to="'+c+'"].gigya-error-msg'))),"undefined"!=typeof c&&"object"==typeof J[c]&&(b=J[c].validationName($(a),$('[data-bound-to="'+c+'"].gigya-error-msg'),J[c].validationParams)),"undefined"!=typeof $(a).attr("vocento-name")&&void 0===J[c]&&("undefined"!=typeof $.trim($(a).val())&&$.trim($(a).val())?$(a).addClass("vocuser-valid"):$(a).removeClass("vocuser-valid")),b}function i(a,b,c){if("undefined"!=typeof a&&a){var d=$(a),e="";if("undefined"!=typeof d&&d&&d.length){e=d.attr("data-display-name")||"",c=c||"El campo %name% no es v&aacute;lido";var f=d.parents("form:visible").find("input[type=submit]");if("undefined"==typeof f.data("originalValue")&&f.data("originalValue",f.val()),f.val("Corrige los errores"),"undefined"!=typeof d.offset&&d.offset()&&"undefined"!=typeof d.offset().top){var g=$("#header"),h=0;"undefined"!=typeof g.offset&&g.offset()&&"undefined"!=typeof g.offset().top&&(h=g.offset().top),$("html, body").animate({scrollTop:d.offset().top-h-1},200)}"undefined"!=typeof d.attr("vocento-name")&&d.removeClass("vocuser-valid"),d.addClass("gigya-error")}"undefined"!=typeof b&&b&&($(b).addClass("gigya-error-msg gigya-error-msg-active"),$(b).html(c.replace("%name%",e)),$(b).show())}return!1}function j(a,b){$(a).removeClass("gigya-error"),$(a).removeClass("gigya-error-msg gigya-error-msg-active"),"undefined"!=typeof $(a).attr("vocento-name")&&$(a).addClass("vocuser-valid"),$(b).html("").hide();var c=$(a).parents("form").find("input[type=submit]"),d=c.data("originalValue");return"undefined"!=typeof d&&d&&c.val(c.data("originalValue")),!0}function k(a){var b="",c="",d="",e="https://cdns3.gigya.com/gs/i/HTMLLogin/facebook_25.png",f="https://cdns3.gigya.com/gs/i/HTMLLogin/googleplus_25.png";switch(a.result.accountStatusCode){case 200005:case 200009:case 200011:var g=window.location.protocol+"//"+window.location.host+G.route.loginURL,h=window.location.protocol+"//"+window.location.host+G.route.recoveryURL,j='<a href="'+g+'"> Iniciar sesi&oacute;n </a>',k='<a href="'+h+'">recordar tu contrase&ntilde;a </a>';b="El correo electr&oacute;nico ya existe, <br />  Te ayudamos a "+k+" o "+j;break;case 200006:var l="<a href='#' id='validationLink'> validar ahora </a>";b="Esta cuenta est&aacute; pendiente de validaci&oacute;n. <br /> Para disfrutar de los beneficios de registrado puedes "+l;break;case 200007:var m=a.result.accounts[0].providers;c="<a href='#' class='gigya-facebook-set-password-link'> establecer una contrase&ntilde;a a tu cuenta </a>",d="<a href='#' class='gigya-facebook-login-link'> iniciar sesi&oacute;n con Facebook </a>",b="Ya est&aacute;s registrado con Facebook. <br /> Puedes "+d+" o "+c,m.indexOf("facebook")<0&&(c="<a href='#' class='gigya-google-set-password-link'> establecer una contrase&ntilde;a a tu cuenta </a>",d="<a href='#' class='gigya-google-login-link'> iniciar sesi&oacute;n con Google </a>",b="Ya est&aacute;s registrado con Google. <br /> Puedes "+d+" o "+c);break;case 200010:c="<a href='#' class='gigya-facebook-set-password-link'> establecer una contrase&ntilde;a a tu cuenta </a>",d="<img class='gigya-facebook-login-link' src="+e+" style='float:left;'> <img class='gigya-google-login-link' src="+f+" style='float:left;'>",b="Ya est&aacute;s registrado con Facebook y Google.<br/>Inicia sesi&oacute;n con una de tus cuentas: <br/>"+d+"<br/><br/> o "+c}return b.length>0?(i($('form:visible input[data-gigya-name="email"]'),'#gigya-register-screen span[data-bound-to="email"]',b),!0):!1}function l(a,b){return"checkbox"===$(a).attr("type")?$(a).is(":checked")?j(a,b):i(a,b,"El campo %name% es obligatorio"):"undefined"!=typeof $.trim($(a).val())&&$.trim($(a).val())?j(a,b):i(a,b,"El campo %name% es obligatorio")}function m(a,b,c,d,e){var f="undefined"!=typeof e?e:"El campo %name% no es correcto",g=/^\d{5}$/,h=c;"string"==typeof c&&(c=new RegExp(c));var k=$(a).val();return"undefined"!=typeof d&&d&&(k=d),"undefined"!=typeof k.match(c)&&k.match(c)?j(a,b):h.toString()===g.toString()?i(a,b,f):i(a,b,f)}function n(a){var b=["ESPA"+e("N")+"A","ESPANYA","SPAIN","ESP","ES"],c=$(a).parents("form:visible"),d=$(c).find('[name="profile.country"]').val();if("undefined"==typeof d)return!1;var f=b.indexOf(d.toUpperCase());return-1===f?!1:!0}function o(a){return""!==$.trim($(a).val())}function p(a,b){var c="El campo %name% no es correcto, debes introducir 5 d"+e("i")+"gitos";return n(a)?l(a,b)&&m(a,b,/^\d{5}$/,!1,c):l(a,b)}function q(a,b){var c=a.val(),d=a.parents("form:visible"),e=$(d).find('[name="profile.birthMonth"]').val(),f=$(d).find('[name="profile.birthDay"]').val();if(!f||!e||!c)return i(a,b,"La fecha de nacimiento es obligatoria");var g=new Date(c,e-1,f);return g&&g.getFullYear()!==Number(c)||g.getMonth()!==Number(e)-1||g.getDate()!==Number(f)?i(a,b,"La fecha no es v&aacute;lida"):j(a,b)}function r(a,b){return n(a)&&o(a)?m(a,b,/^(8|9)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):j(a,b)}function s(a,b){return o(a)?m(a,b,/^(6|7|8|9)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):j(a,b)}function t(a,b){return n(a)&&o(a)?m(a,b,/^(6|7)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):j(a,b)}function u(a,b){return o(a)?m(a,b,/^(6|7)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):j(a,b)}function v(a,b){return o(a)?m(a,b,/^(6|7|8|9)[\d]{8}$/,$(a).val().replace(/(\(|\)|-| )/g,"")):i(a,b)}function w(a,b){var c=function(){var a="TRWAGMYFPDXBNJZSQVHLCKET",b="^\\d{8}[a-zA-Z]{1}$",c="^[a-zA-Z]{1}\\d{7}[a-jA-J0-9]{1}$",d=function(a){return g(a)?!0:f(a)?!0:e(a)?!0:!1},e=function(c){if(8!==c.length&&9!==c.length)return!1;8===c.length&&(c="0"+c);var d=new RegExp(b);if(!c.match(d))return!1;var e=c.substring(0,c.length-1),f=a.charAt(e%23);return f===c.charAt(c.length-1).toUpperCase()},f=function(a){if(10!==a.length&&9!==a.length)return!1;if("X"!==a.charAt(0).toUpperCase()&&"Y"!==a.charAt(0).toUpperCase()&&"Z"!==a.charAt(0).toUpperCase())return!1;var b="0";return"Y"===a.charAt(0).toUpperCase()&&(b="1"),e(9===a.length?b+a.substring(1,a.length):a.substring(1,a.length))},g=function(a){var b,d=new Array(0,2,4,6,8,1,3,5,7,9),e=a.toUpperCase(),f=0,g=new RegExp(c);if(!e.match(g))return!1;if(!/^[ABCDEFGHJKLMNPRQSUVW]/.test(e))return!1;for(var h=2;6>=h;h+=2)f+=d[parseInt(a.substr(h-1,1))],f+=parseInt(a.substr(h,1));return f+=d[parseInt(a.substr(7,1))],f=10-f%10,10===f&&(f=0),b=a.toUpperCase().charAt(8),b===f||1===f&&"A"===b||2===f&&"B"===b||3===f&&"C"===b||4===f&&"D"===b||5===f&&"E"===b||6===f&&"F"===b||7===f&&"G"===b||8===f&&"H"===b||9===f&&"I"===b||0===f&&"J"===b};return{checkAll:d}}();return o(a)&&!c.checkAll($(a).val())?i(a,b):j(a,b)}function x(a,b){var c=function(){var a="TRWAGMYFPDXBNJZSQVHLCKET",b="^\\d{8}[a-zA-Z]{1}$",c="^[a-zA-Z]{1}\\d{7}[a-jA-J0-9]{1}$",d=function(a){return g(a)?!0:f(a)?!0:e(a)?!0:!1},e=function(c){if(8!==c.length&&9!==c.length)return!1;8===c.length&&(c="0"+c);var d=new RegExp(b);if(!c.match(d))return!1;var e=c.substring(0,c.length-1),f=a.charAt(e%23);return f===c.charAt(c.length-1).toUpperCase()},f=function(a){if(10!==a.length&&9!==a.length)return!1;if("X"!==a.charAt(0).toUpperCase()&&"Y"!==a.charAt(0).toUpperCase()&&"Z"!==a.charAt(0).toUpperCase())return!1;var b="0";return"Y"===a.charAt(0).toUpperCase()&&(b="1"),e(9===a.length?b+a.substring(1,a.length):a.substring(1,a.length))},g=function(a){var b,d=new Array(0,2,4,6,8,1,3,5,7,9),e=a.toUpperCase(),f=0,g=new RegExp(c);if(!e.match(g))return!1;if(!/^[ABCDEFGHJKLMNPRQSUVW]/.test(e))return!1;for(var h=2;6>=h;h+=2)f+=d[parseInt(a.substr(h-1,1))],f+=parseInt(a.substr(h,1));return f+=d[parseInt(a.substr(7,1))],f=10-f%10,10===f&&(f=0),b=a.toUpperCase().charAt(8),b===f||1===f&&"A"===b||2===f&&"B"===b||3===f&&"C"===b||4===f&&"D"===b||5===f&&"E"===b||6===f&&"F"===b||7===f&&"G"===b||8===f&&"H"===b||9===f&&"I"===b||0===f&&"J"===b};return{checkAll:d}}();return n(a)&&o(a)&&!c.checkAll($(a).val())?i(a,b):j(a,b)}function y(a,b){var c="El campo %name% no es correcto, debes introducir 16 d"+e("i")+"gitos";return o(a)?l(a,b)&&m(a,b,/^\d{16}$/,!1,c):j(a,b)}function z(a,b){return o(a)?m(a,b,/^[0-9]+$/,$(a).val().replace(/(\(|\)|-| )/g,""),"El campo %name% no es correcto, debes introducir solamente d"+e("i")+"gitos"):j(a,b)}function A(a,b){return o(a)?m(a,b,/^[0-9]+$/,$(a).val().replace(/(\(|\)|-| )/g,""),"El campo %name% no es correcto, debes introducir solamente d"+e("i")+"gitos"):i(a,b,"El campo %name% es obligatorio")}function B(a,b,c){if(o(a)&&"undefined"!=typeof c&&c){var d="^.{1,"+c+"}$";return m(a,b,d,!1,"El campo %name% no es correcto, debes introducir como m"+e("a")+"ximo "+c+" caracteres")}return j(a,b)}function C(a,b,c){if(!o(a))return i(a,b,"El campo %name% es obligatorio");if("undefined"!=typeof c&&c){var d="^.{1,"+c+"}$";return m(a,b,d,!1,"El campo %name% no es correcto, debes introducir como m"+e("a")+"ximo "+c+" caracteres")}}function D(a,b,c){if(o(a)&&"undefined"!=typeof c&&c){var d="^.{"+c+",}$";return m(a,b,d,!1,"El campo %name% no es correcto, debes introducir como m"+e("i")+"nimo "+c+" caracteres")}return j(a,b)}function E(a,b,c){if(!o(a))return i(a,b,"El campo %name% es obligatorio");if("undefined"!=typeof c&&c){var d="^.{"+c+",}$";return m(a,b,d,!1,"El campo %name% no es correcto, debes introducir como m"+e("i")+"nimo "+c+" caracteres")}}function F(a,b){if(!o(a))return i(a,b,"El campo %name% es obligatorio");var c="^(?=(.{1,64}@.{1,255}))([!#$%&'*+\\-\\/=?\\^_`{|}~a-zA-Z0-9}]{1,64}(\\.[!#$%&'*+\\-\\/=?\\^_`{|}~a-zA-Z0-9]{0,}){0,})@(?!ono\\.com)((\\[(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}\\])|([a-zA-Z0-9-]{1,63}(\\.[a-zA-Z0-9-]{2,63}){1,}))$";return m(a,b,c,!1,"El campo %name% no tiene el formato correcto")}var G={},H={},I={},J={};return{setOptions:a,setUser:b,setAccount:c,setFields:d,validateForm:g,validateField:h,showEmailErrorForRegistration:k,addField:function(a,b){J[a]=b},showError:function(a,b,c){i(a,b,c)},hideError:function(a,b){j(a,b)},_validateCaptcha:f,_requiredField:l,_regexField:m,_isSpain:n,_hasValue:o,_isZip:p,_isBirthDate:q,_isSpanishPhone:r,_isSpanishMobilePhone:t,_isValidMobilePhone:u,_isValidSpanishPhoneRequired:v,_isSpanishNIF:x,_isValidNIF:w,_isValidPhone:s,_isNumber:z,_isNumberRequired:A,_maxLength:B,_maxLengthRequired:C,_minLengthRequired:E,_minLength:D,_isCard:y,_isValidEmailFormatRequired:F}}function safeInvoke(a,b){if(a)return a(b);var c='safeInvoke => Mtodo: "'+a+'" no encontrado. Parmetros: "'+b+'"';return"undefined"!=typeof options&&options&&"undefined"!=typeof options.debug&&options.debug,c}function getContext(){var a=new Date,b=Math.floor(a.getTime()/1e3);return{url:window.location.href,timestamp:b}}function reload(){document.location.reload()}function getMainDomain(){var a=document.domain.split(".");return a.length>=2&&(a=a[a.length-2]+"."+a[a.length-1]),a}function webBrowserDetector(){var a="",b=navigator.userAgent,c="",d=b.match(/(opera|edge|chrome|safari|firefox|msie|mobile|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(d[1]))c=/\brv[ :]+(\d+)/g.exec(b)||[],a="IE "+(c[1]||"");else{if("Chrome"===d[1]){if(c=b.match(/\bOPR\/(\d+)/),"undefined"!=typeof c&&c)return"Opera"+("undefined"!=typeof c[1]?" "+c[1]:"");if(c=b.match(/\bEdge\/(\d+)/),"undefined"!=typeof c&&c)return"Edge"+("undefined"!=typeof c[1]?" "+c[1]:"")}d=d[2]?[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(c=b.match(/version\/(\d+)/i))&&d.splice(1,1,c[1]),a=d.join(" ")}return a}function decodeHTMLEntities(a){if("undefined"==typeof a||!a)return"";var b={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};try{return a.replace(/&([^;]+);/gm,function(a,c){var d="undefined"!=typeof b[c]&&b[c]?b[c]:a;return d})}catch(c){return""}}function emailDomainBanned(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d=b+"/api/v1/emailDomainBanned";try{$.ajax({url:d+"?callback=?",data:{email:a},type:"get",contentType:"application/json",dataType:"jsonp",async:!1,success:function(a){"undefined"!=typeof a&&a&&!0===a.result&&(c=!0)},error:function(a,b,d){c=!1}})}catch(e){}}return c}var version="4.0.0",className=getClassName(),objectRow=function(){},objectCustomValidation=function(){},objectInsertCustomFields=function(){};return initUserUtils(),function(a){function b(a,b){for(var c=a.split("."),d=b.split("."),e=0;e<c.length;++e){var f=parseInt(c[e]),g=parseInt(d[e]);if(d.length===e)return-1;if(f!==g)return f>g?-1:1}return c.length!==d.length?1:0}var c=a().jquery;b("1.7",c)<0&&(a.fn.on||(a.fn.on=function(b,c,d,e){if(null===d&&null===e?(e=c,d=c=void 0):null===e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=function(){return!1};else if(!e)return this;return a(this).bind(b,d,e)}))}($),function(a){var b="placeholder"in document.createElement("input"),c=window.opera&&parseFloat(window.opera.version())<10.5;a.fn.placeholder=function(d){var e=a.extend({},a.fn.placeholder.defaults,d),f=e.placeholderCSS.left;return b?this:this.each(function(){var b=a(this),d=a.trim(b.val()),g=b.width(),h=b.height(),i=this.id?this.id:"placeholder"+Math.floor(1123456789*Math.random()),j=b.attr("placeholder"),k=a("<label for="+i+">"+j+"</label>");e.placeholderCSS.width=g,e.placeholderCSS.height=h,e.placeholderCSS.color=e.placeholderCSS.color,e.placeholderCSS.left=!c||"email"!==this.type&&"url"!==this.type?f:"11%",k.css(e.placeholderCSS),b.wrap(e.inputWrapper),b.attr("id",i).after(k),d&&k.hide(),b.focus(function(){a.trim(b.val())||k.hide()}),b.blur(function(){a.trim(b.val())||k.show()})})},a.fn.placeholder.defaults={inputWrapper:'<span class="placeholder_emulate" style="position:relative; display:block;"></span>',placeholderCSS:{color:"#aaaaaa",position:"absolute",left:"5px",top:"3px","overflow-x":"hidden",display:"block"}}}($),{version:function(){return version},initUserUtils:initUserUtils,log:log,UnicodeToChar:UnicodeToChar,translateError:translateError,safeInvoke:safeInvoke,getContext:getContext,reload:reload,getMainDomain:getMainDomain,webBrowserDetector:webBrowserDetector,decodeHTMLEntities:decodeHTMLEntities,emailDomainBanned:emailDomainBanned,Row:objectRow,customValidation:objectCustomValidation,insertCustomFields:objectInsertCustomFields,className:function(){return className}}}}),function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("vocuser",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function vocuser($,ssoGroup,service,externalOptions,userUtils,voontoApp,currentMedia,dependencyContainer,internalDependencies,externalFunctions){function getClassName(){return"vocuser"}function initSubDomainEnvFront(a){var b="www";if("undefined"==typeof a||!a)return b;var c=window.location.host;if("pro"===a&&(b="secure"),"pre"===a&&(b="pre-secure"),"des"===a&&(b="des-secure"),/^www-/.test(c)&&(b="secure"),/^new-/.test(c)&&(b="secure"),/^pre-/.test(c)&&(b="pre-secure"),/^des-/.test(c)&&(b="des-secure"),"local"===a){var d=c.split(".");b=d[0]}return b}function initCurrentEnv(){var a="pro",b="undefined"!=typeof configManager&&configManager?configManager.getEnvironment():"";return(/^des/.test(window.location.host)||/^integracion/.test(window.location.host)||/^areapersonal-des/.test(window.location.host)||/^areapersonalm-des/.test(window.location.host)||/^docker/.test(window.location.host))&&(a="des"),(/^pre/.test(window.location.host)||/^areapersonal-pre/.test(window.location.host)||/^areapersonalm-pre/.test(window.location.host))&&(a="pre"),(/^pro/.test(window.location.host)||/^secure/.test(window.location.host)||/^new/.test(window.location.host)||/^www/.test(window.location.host))&&(a="pro"),(/^local/.test(window.location.host)||/^userplayground-miguelromero2000/.test(window.location.host)||/^desnlocal/.test(window.location.host)||/^deshared/.test(window.location.host)||/^desn-user/.test(window.location.host)||/^des-vocuser/.test(window.location.host))&&(a="local"),"local"===b&&(a="local"),"pro"===b&&(a="pro"),a}function initUserUtils(a){var b="undefined"!=typeof a&&a?a:Vocento;return b}function initSimpleStorage(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a.simpleStorage&&a.simpleStorage?b=a.simpleStorage:"undefined"!=typeof simpleStorage&&simpleStorage&&(b=simpleStorage),b}function initDependency(a,b){var c=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a[b]&&a[b]&&(c=a[b]),c}function getSimpleStorageDependency(){var a={};return"undefined"!=typeof simpleStorageDependency&&simpleStorageDependency?a=simpleStorageDependency:(a.get=function(){log("initSimpleStorage => get() => No se ha podido cargar la librera simpleStorage","warn")},a.set=function(){log("initSimpleStorage => set() => No se ha podido cargar la librera simpleStorage","warn")},a.deleteKey=function(){log("initSimpleStorage => deleteKey() => No se ha podido cargar la librera simpleStorage","warn")}),a}function promiseWithTimeout(a,b){if("undefined"==typeof a||!a){var c=new promiseNamespace(function(a,b){return b("promiseWithTimeout: bad parameter, promise not passed as first argument.")});return c}var d="undefined"!=typeof b&&b?b:3e3,e=null,f=new promiseNamespace(function(a,b){e=setTimeout(function(){return clearTimeout(e),b("Timed out in "+d+" ms.")},d)}),g=promiseNamespace.race([a,f]);return g.then(function(a){clearTimeout(e)}),g}function initPromiseNamespace(){var a=window.Promise?window.Promise:window.RSVP?window.RSVP.Promise:window.ES6Promise?window.ES6Promise:function(a){};return"undefined"!=typeof a&&a||log("VocUser::initPromiseNamespace => ERROR obteniendo el namespace de JS de Promise.","error"),a}function initReactFramework(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a.R&&a.R&&(b=a.R),"undefined"!=typeof b&&b&&"function"!=typeof b||"undefined"!=typeof React&&React&&(b=React),"undefined"!=typeof b&&b&&"function"!=typeof b||(b=Voonto.require("react").then(function(a){b=a})),b}function initReactDOMFramework(a){var b=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof a.RDOM&&a.RDOM&&(b=a.RDOM),"undefined"!=typeof b&&b&&"function"!=typeof b||"undefined"!=typeof ReactDOM&&ReactDOM&&(b=ReactDOM),b}function reactLoaded(){var a=!1;return"undefined"!=typeof reactFw&&reactFw&&"undefined"!=typeof reactDOM&&reactDOM&&(a=!0),a}function setInitialParams(a){return"undefined"!=typeof a&&a?a:{}}function getOptions(){var a=window.location.protocol,b="",c="",d="",e="www",f="",g="",h="pro",i=a+"//postalcodes.vocento.com/pcodes/v1/get",j="undefined"!=typeof configManager&&configManager?configManager.getEnvironment():"",k="voccore.";checkUserFlowUrlsContains("sevilla",window.location.href)&&(k="voccore-sevilla.");domains[ssoGroup].split(".");b="https://auth."+domains[ssoGroup];var l="",m="";g="https://"+l+m+k,f=g+domains[ssoGroup],(/^des/.test(window.location.host)||/^integracion/.test(window.location.host)||/^areapersonal-des/.test(window.location.host)||/^areapersonalm-des/.test(window.location.host)||/^docker/.test(window.location.host)||/^userplayground-miguelromero2000/.test(window.location.host))&&"pro"!==j&&(b=a+"//pre-auth."+domains[ssoGroup],c="des-",d="des-",l="des",m="-","https:"===window.location.protocol&&(b=a+"//pre-auth."+domains[ssoGroup]),k="voccore-",checkUserFlowUrlsContains("sevilla",window.location.href)&&(k="voccore-sevilla."),k="voccore.",checkUserFlowUrlsContains("sevilla",window.location.href)&&(k="voccore-sevilla."),g="https://"+l+m+k,f=g+domains[ssoGroup]),(/^pre/.test(window.location.host)||/^areapersonal-pre/.test(window.location.host)||/^areapersonalm-pre/.test(window.location.host))&&"pro"!==j&&(b=a+"//pre-auth."+domains[ssoGroup],c="pre-",d="pre-",l="pre",m="-","https:"===window.location.protocol&&(b=a+"//pre-auth."+domains[ssoGroup]),k="voccore-",checkUserFlowUrlsContains("sevilla",window.location.href)&&(k="voccore-sevilla."),k="voccore.",checkUserFlowUrlsContains("sevilla",window.location.href)&&(k="voccore-sevilla."),g="https://"+l+m+k,f=g+domains[ssoGroup]),(/^local/.test(window.location.host)||/^desnlocal/.test(window.location.host)||/^deshared/.test(window.location.host)||/^desn-user/.test(window.location.host)||/^des-vocuser/.test(window.location.host))&&"pro"!==j&&(b=a+"//pre-auth."+domains[ssoGroup],c="des-",d="des-",l="pre",m="-","https:"===window.location.protocol&&(b=a+"//pre-auth."+domains[ssoGroup]),k="voccore.",checkUserFlowUrlsContains("sevilla",window.location.href)&&(k="voccore-sevilla."),g="https://"+l+m+k,f=g+domains[ssoGroup]),h=initCurrentEnv(),e=initSubDomainEnvFront(h);var n="/personalizacion/perfil/perfil.html",o="/personalizacion/perfil/intereses.html",p="/personalizacion/perfil/cambiar-clave.html",q="/personalizacion/perfil/actualizado.html";return-1===window.location.host.indexOf("abc")&&-1===window.location.host.indexOf("lavozdigital")&&(n="/perfil/perfil.html",o="/perfil/intereses.html",p="/perfil/cambiar-clave.html",q="/perfil/actualizado.html"),{currentRoute:!1,cid:ssoGroup,ssoGroup:ssoGroup,service:service,authServer:b,envVoccore:d,envFront:e,authServerVocCore:f,authServerVocCoreSubDomain:g,currentEnvironment:h,debug:!1,hasPaywall:!1,hasEcommerce:!1,hasGlobalSSO:!1,autoVerifyUser:!1,loginOnVerify:!1,reloadOnLogin:!0,reloadOnLogout:!0,captcha:{isVisible:!1,loginAttemps:2},domains:domains,enableCNAME:!1,addPictureInLoginScreen:!1,addSubmenuOptionMusiK:!1,addSubmenuOptionLaButaca:!1,addSubmenuOptionDinero:!1,addSubmenuOptionTerritorio:!1,addSubmenuOptionEvasion:!1,forceProvidersLogout:!1,enabledProviders:"facebook,google",requiredCapabilities:"login",loggedInSelector:".gigya-logged-in",loggedOutSelector:".gigya-logged-out",loginLinkSelector:".gigya-login-link",registrationLinkSelector:".gigya-registration-link",recoveryLinkSelector:".gigya-recovery-link",backLinkSelector:".gigya-back-link",profileLinkSelector:".gigya-profile-link",profileAreaPersonalLinkSelector:".vocuser-profile-areapersonal-link",profileInterestsLinkSelector:".gigya-profile-interests-link",profileChangePasswdLinkSelector:".gigya-profile-change-passwd-link",loginAdditionalDataLinkSelector:".gigya-additional-data-link",logoutLinkSelector:".gigya-logout-link",rrssLinkSelector:{facebookLogin:".gigya-facebook-login-link",googleLogin:".gigya-google-login-link",setNewPasswordFacebook:".gigya-facebook-set-password-link",setNewPasswordGoogle:".gigya-google-set-password-link",dismissRrssNotCompletedAccount:".gigya-continue-site-registration-link",finishRrssRegistration:".gigya-finish-rrss-registration-link"},appWebview:{close:".gigya-close-appwebview",facebookClose:".gigya-close-appwebview-facebook",googleClose:".gigya-close-appwebview-google",appleClose:".gigya-close-appwebview-apple"},cookiePolicyLinkSelector:"a[name='cookies']",idDivHtmlCustomBenefits:"collapseExample",addConnectionsID:"gigya-add-connections",userThumbnailSelector:".gigya-user-thumbnail",userFirstNameSelector:".gigya-user-first-name",userLastNameSelector:".gigya-user-last-name",userEmailSelector:".gigya-user-email",url_creacion_mongo:"https://"+c+"voccore."+domains[ssoGroup]+"/v1/datastore/new",url_busqueda_mongo:"https://"+c+"voccore."+domains[ssoGroup]+"/v1/datastore/find",url_edicion_mongo:"https://"+c+"voccore."+domains[ssoGroup]+"/v1/datastore/edit",customerContact:{pro:"https://areapersonal."+domains[ssoGroup]+"/customer/contact/post/",pre:"https://areapersonal-predes."+domains[ssoGroup]+"/customer/contact/post/"},sectionsWithExternalFields:[],emailRegex:/^(?=(.{1,64}@.{1,255}))([!#$%&'*+\-\/=?\^_`{|}~a-zA-Z0-9}]{1,64}(\.[!#$%&'*+\-\/=?\^_`{|}~a-zA-Z0-9]{0,}){0,})@((\[(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}\])|([a-zA-Z0-9-]{1,63}(\.[a-zA-Z0-9-]{2,63}){1,}))$/,rtimAdditionalData:{"user-agent":navigator.userAgent,vhost:location.hostname,url:location.href,userType:"anonimo",referrer:location.origin,title:document.title,article_url:location.href,ev_ss:"",ev_sid:"",ev_did:""},evolokUrlForRtimData:{pro:"https://voc.evolok.net/acd/api/3.0/authorize/json?",pre:"https://voc.uat.evolok.net/acd/api/3.0/authorize/json?"},shoppingCartHTML:{productNameSelector:".vocuser-product-name",priceSelector:".vocuser-product-price",discountSelector:".vocuser-product-discount",totalSelector:".vocuser-product-total"},screenSetTypeToShow:screenSetTypeToShow,screenSetTypeToShowMobile:screenSetTypeToShowMobile,screenSet:{web:{auth:"",profile:""},mobile:{auth:"",profile:""},app:{auth:"",profile:""},appwebview:{auth:"",profile:""}},screenName:{login:"gigya-login-screen",registration:"gigya-register-screen",formulario:"gigya-register-screen",profile:"gigya-update-profile-screen",completeRegistration:"gigya-complete-registration-screen",completo:"gigya-complete-registration-screen",interests:"gigya-update-profile-screen-3",change:"gigya-change-password-screen",updated:"gigya-update-thanks-screen",setear:"gigya-set-password-screen",seteada:"gigya-set-password-success-screen"},parentDivClass:"",hasMenuOptionNewsletters:!1,hasMenuOptionFAQ:!0,setUserNewslettersByFieldAdsMedia:!1,saveGigyaCommunications:!1,updateSelligentCommunications:!1,saveGigyaCustomerServices:!0,progressiveProfile:!1,saveGigyaCustomerServiceFromComments:!1,serviceId:"100",device:"Sin especificar",platform:"Sin especificar",serviceReference:"",backURL:"/",page:{loginPage:"/login/login.html",loginAdditionalDataPage:"/login/datos-adicionales.html",
registerPage:"/registro/formulario.html",registerConfirmedPage:"/registro/confirmacion.html",resendMailPage:"/registro/reenviar-mail.html",mailSendedPage:"/registro/mail-enviado.html",validateMailPage:"/registro/validacion-mail.html",recoveryPage:"/clave/recuperar.html",sendedMailPage:"/clave/mail-enviado.html",changePasswdPage:"/clave/cambiar.html",passwdchangedPage:"/clave/cambiada.html",setPasswdPage:"/clave/asignar.html",passwdSetedPage:"/clave/asignada.html",profilePage:"/perfil/perfil.html",interestPage:"/perfil/intereses.html",changePasswdProfilePage:"/perfil/cambiar-clave.html",profileUpdatedPage:"/perfil/actualizado.html"},pageLogged:{loginAdditionalDataPage:"/login/datos-adicionales.html",passwdSetedURL:"/clave/asignada.html",profilePage:"/perfil/perfil.html",interestPage:"/perfil/intereses.html",changePasswdProfilePage:"/perfil/cambiar-clave.html",profileUpdatedPage:"/perfil/actualizado.html"},route:{loginURL:"/login/login.html",loginAdditionalDataURL:"/login/datos-adicionales.html",registerURL:"/registro/formulario.html",registerConfirmedURL:"/registro/confirmacion.html",resendMailURL:"/registro/reenviar-mail.html",mailSendedURL:"/registro/mail-enviado.html",validateMailURL:"/registro/validacion-mail.html",recoveryURL:"/clave/recuperar.html",sendedMailURL:"/clave/mail-enviado.html",changePasswdURL:"/clave/cambiar.html",passwdchangedURL:"/clave/cambiada.html",setPasswdURL:"/clave/asignar.html",passwdSetedURL:"/clave/asignada.html",profileURL:n,interestURL:o,changePasswdProfileURL:p,profileUpdatedURL:q,personalAreaSuscriptionSectionURL:"/suscripcion/",personalAreaCheckoutSectionURL:"/checkout/"},popUpMode:!1,popUpModeProfile:!1,enableRedirect:!0,htmlBenefits:'<ul class="vocuser-listchecks"><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Podr&aacute;s participar en concursos, sorteos y promociones</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Disfrutar&aacute;s de ofertas exclusivas</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Estar&aacute;s siempre actualizado con las &uacute;ltimas noticias</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Recibir&aacute;s nuestras newsletters con contenido exclusivo en tu email</span></li><li><span class="vocuser-iconsfonts-check"></span><span class="vocuser-listchecks-txt">Podr&aacute;s comentar las noticias y compartirlas</span></li></ul>',autosubscribeConfig:{},webComponents:!1,showAdditionalDataPage:!1,showGoldenRecords:!1,showAdsMedia:!1,showAdsGroup:!1,showAdsThirdparty:!1,goldenRecordsFields:[],additionalDataCustomText:{title:"",description:"",footer:""},interestsGroups:{},newslettersGroup:{},userIsInFlow:!1,userIsInFLowScreenSession:!1,userIsInAppWebviewFlow:userIsInAppWebviewFlowAux,vocServicesPath:vocServicesPath,serviceCallToMediaDataTransfer:!1,hasMenuOptionsForAreaPersonal:!0,urlPostalCode:i,showAdditionalDataPageWithExtraRequirements:!1,redirectedFromQualifio:!1,allowEditGoldenRecords:!1,allowEditAdditionalUserInfo:!1,editableFields:["profile.lastName","data.secondLastName","data.nif","data.phone","data.phoneMobile","data.industry"],mustToShowZipInNotEditorialFlow:!0,editorialRegistrationAccessFields:["passwordRetype"],editorialRegistrationPersonalDataFields:["zip"],extensionType:"",cleanFormFields:{}}}function updateAccountData(a){var b={};if("undefined"!=typeof a&&a){"undefined"!=typeof account.data&&account.data||(account.data={});for(var c in a)a.hasOwnProperty(c)&&(account.data[c]=a[c]);b=account.data}return b}function checkBackUrlCookieContains(a){var b=!1;if("undefined"!=typeof a&&a){var c=getNfrylCookie();"undefined"!=typeof c&&c&&c.indexOf(a)>-1&&(b=!0)}return b}function checkUserFlowUrlsContains(a,b){var c=!1;return"undefined"!=typeof a&&a&&("undefined"!=typeof b&&b&&b.indexOf(a)>-1&&(c=!0),!1===c&&(c=checkBackUrlCookieContains(a))),c}function registerFlow(a){if("undefined"!=typeof a&&a)if("undefined"!=typeof a.className){var b=a.className(),c=getAllFlowsNames(flows);isStringInArray(b,c)?log("La clase "+b+" ya est registrada","warn"):flows.push(a)}else flows.push(a);return this}function getAllFlowsNames(a){for(var b=[],c=0;c<a.length;c++)"undefined"!=typeof a&&a&&"undefined"!=typeof a[c].className()&&b.push(a[c].className());return b}function isStringInArray(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b)for(var d=0;d<b.length;d++)b[d]===a&&(c=!0);return c}function initOptions(){var a=0;for(a=0;a<flows.length;a++)options=$.extend(!0,options,flows[a].getOptions());options=$.extend(!0,options,externalOptions)}function initProtectedFunctions(){for(var a=0;a<flows.length;a++)"undefined"!=typeof flows[a].getProtectedFunctions&&(protectedFunctions=$.extend(!0,protectedFunctions,flows[a].getProtectedFunctions()));"undefined"!=typeof externalFunctions&&externalFunctions&&(protectedFunctions=$.extend(!0,protectedFunctions,externalFunctions))}function initCustomValidationPlugin(){var a=!1;if(userUtils.customValidation.setOptions){userUtils.customValidation.setOptions(options);for(var b=0;b<flows.length;b++)"undefined"!=typeof flows[b].getCustomValidationFields&&userUtils.customValidation.setFields(flows[b].getCustomValidationFields());a=!0}return a}function initFlows(){for(var a=!1,b=0;b<flows.length;b++)flows[b].setOptions(options),flows[b].setProtectedFunctions(protectedFunctions);return a=!0}function executeFlows(){for(var a=!1,b=0;b<flows.length;b++)flows[b].execute();return a}function openScreenByRoute(){for(var a in options.page){var b=options.page[a];-1!==window.location.pathname.indexOf(b)&&(options.currentRoute=!0,callToShowScreenFunction(a))}}function callToShowScreenFunction(a){var b=!1;switch(a){case"changePasswdPage":b=getQueryVariable("errorCode"),"undefined"!=typeof b&&b?"400006"===b.substring(0,6)&&showScreen(options.screenName.expiredPwdToken):showScreen(options.screenName.resetear);break;case"changePasswdProfilePage":showScreen(options.screenName.cambiar,options.screenSet[options.screenSetTypeToShow].profile,options.screenSet[options.screenSetTypeToShowMobile].profile);break;case"interestPage":showScreen(options.screenName.intereses,options.screenSet[options.screenSetTypeToShow].profile,options.screenSet[options.screenSetTypeToShowMobile].profile);break;case"loginAdditionalDataPage":showAditionalDataScreen();break;case"loginPage":showScreen(options.screenName.login);break;case"mailSendedPage":showScreen(options.screenName.reenviado);break;case"passwdchangedPage":showScreen(options.screenName.cambiado);break;case"setPasswdPage":showScreen(options.screenName.setear);break;case"passwdSetedPage":showScreen(options.screenName.seteada);break;case"profilePage":showScreen(options.screenName.perfil,options.screenSet[options.screenSetTypeToShow].profile,options.screenSet[options.screenSetTypeToShowMobile].profile);break;case"profileUpdatedPage":showScreen(options.screenName.actualizado,options.screenSet[options.screenSetTypeToShow].profile,options.screenSet[options.screenSetTypeToShowMobile].profile);break;case"recoveryPage":showScreen(options.screenName.recuperar);break;case"registerConfirmedPage":showScreen(options.screenName.confirmacion);break;case"registerPage":showScreen(options.screenName.formulario);break;case"resendMailPage":showScreen(options.screenName.reenviar);break;case"sendedMailPage":showScreen(options.screenName.enviado);break;case"validateMailPage":b=getQueryVariable("errorCode"),"undefined"!=typeof b&&b?("0"===b&&showScreen(options.screenName.validacion),"403002"===b.substring(0,6)&&showScreen(options.screenName.expirado),"404000"===b.substring(0,6)&&showScreen(options.screenName.unexist),"400010"===b.substring(0,6)&&showScreen(options.screenName.reserved)):showScreen(options.screenName.validacion),"206005"===b.substring(0,6)&&showScreen(options.screenName.autologin)}}function getQueryVariable(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(decodeURIComponent(e[0])===a){var f=decodeURIComponent(e[1]);return f="string"!==f&&f&&"undefined"===f?null:f}}}function cleanInput(a){return DOMPurify.sanitize(a,configDOMPurify)}function addProtectedFunctionsToUnitTesting(){var a=!1;if("undefined"!=typeof objectUnitTesting&&objectUnitTesting){for(var b in protectedFunctions)protectedFunctions.hasOwnProperty(b)&&"undefined"!=typeof protectedFunctions[b]&&(objectUnitTesting[b]=protectedFunctions[b]);a=!0}return a}function addPublicFunctionsToUnitTesting(){var a=!1;if("undefined"!=typeof objectUnitTesting&&objectUnitTesting){for(var b in publicFunctions)publicFunctions.hasOwnProperty(b)&&"undefined"!=typeof publicFunctions[b]&&(objectUnitTesting[b]=publicFunctions[b]);a=!0}return a}function deleteUnitTesting(a){var b=!1;return("undefined"==typeof a||!a||"desn"!==a&&"des"!==a&&"desnlocal"!==a&&"local"!==a&&"desnlocal-vocuser"!==a)&&("undefined"!=typeof objectUnitTesting&&(objectUnitTesting=null),"undefined"!=typeof gigyaUX&&gigyaUX&&"undefined"!=typeof gigyaUX.objectUnitTesting&&gigyaUX.objectUnitTesting&&(gigyaUX.objectUnitTesting=null),b=!0),b}function mockupSetMenuStructure(){var a=!1,b=$(".voc-header-right.voc-affix-hidden");if(("undefined"==typeof b||!b||b.length<=0)&&(b=$(".voc-header-right")),("undefined"==typeof b||!b||b.length<=0)&&(b=$("#voc-header-right")),"undefined"!=typeof b&&b&&b.length){var c=$("div [data-voc-vocuser-menu]");("undefined"==typeof c||!c||c.length<=0)&&(b.html(""),b.append("<div data-voc-vocuser-button-onplus></div><div data-voc-vocuser-menu></div>")),a=!0}return a}function addCustomFieldsInScreen(a,b){if("undefined"!=typeof b&&b||(b=options),userUtils.insertCustomFields.setOptions(b),"undefined"!=typeof a||a)for(var c=0;c<flows.length;c++)userUtils.insertCustomFields.setManifest(flows[c].getInsertCustomField()),userUtils.insertCustomFields.getHTML(a)}function enableAdditionalData(a){var b=!0;return enableAdditionalDataPage=a?!0:!1,b}function isActivatedAdditionalData(){return enableAdditionalDataPage}function getEventAdditionalData(){return eventAdditionalData}function showAditionalDataScreen(){if(isActivatedAdditionalData()){var a=getEventAdditionalData();$.when(a).done(function(a){showScreen(options.screenName.additionalData)})}}function removeInterestsFromManifest(a){if(a.fieldsGroup.hasOwnProperty("interestsFields")){var b=a.fieldsGroup.interestsFields;$.each(b,function(b,c){a.fields.hasOwnProperty(c)&&delete a.fields[c]}),delete a.fieldsGroup.interestsFields}}function removeBirthDateFromManifest(a){if(a.fieldsGroup.hasOwnProperty("additionalBirthDateFields")){var b=a.fieldsGroup.additionalBirthDateFields;$.each(b,function(b,c){a.fields.hasOwnProperty(c)&&delete a.fields[c]}),delete a.fieldsGroup.additionalBirthDateFields}}function customizeBirthDateInManifest(a,b){if(b.fieldsGroup.hasOwnProperty("additionalBirthDateFields")&&(b.fields.hasOwnProperty("labelBirthDate")&&(b.fields.labelBirthDate.changeDisplayText(options.showBirthDateFields.label),b.fields.labelBirthDate.modifyRequired(options.showBirthDateFields.required)),b.fields.hasOwnProperty("birthDay")&&b.fields.birthDay.modifyRequired(options.showBirthDateFields.required),b.fields.hasOwnProperty("birthMonth")&&b.fields.birthMonth.modifyRequired(options.showBirthDateFields.required),b.fields.hasOwnProperty("birthYear")&&b.fields.birthYear.modifyRequired(options.showBirthDateFields.required),"short"===options.showBirthDateFields.type&&(removeFieldsFromGroupsManifest(b,"additionalBirthDateFields","birthDay"),delete b.fields.birthDay),options.screenName.additionalData===a&&b.fieldsGroup.additionalBirthDateFields.reverse(),2===Object.keys(options.showBirthDateFields.position).length&&"string"==typeof options.showBirthDateFields.position.field&&"string"==typeof options.showBirthDateFields.position.place)){if("profile.country"===options.showBirthDateFields.position.field&&"afterField"===options.showBirthDateFields.position.place)return;if("beforeField"===options.showBirthDateFields.position.place&&options.screenName.additionalData!==a&&b.fieldsGroup.additionalBirthDateFields.reverse(),b.screens.hasOwnProperty(a)&&options.screenName.additionalData!==a){var c=b.screens[a],d=options.showBirthDateFields.position.place;$.each(c,function(c,e){if("additionalBirthDateFields"===e.group){delete b.screens[a][c];var f={};f.group="additionalBirthDateFields",f[d]=options.showBirthDateFields.position.field,b.screens[a].push(f)}})}}}function injectFieldsInRegisterScreen(a,b){var c=getManifestOfScreenNameFromFlows(a);"undefined"!=typeof b.extensionType&&"ecommerce"===b.extensionType&&(c=customizeRegisterFieldsForEcommerce(c)),"undefined"!=typeof b.userIsInAppWebviewFlow&&b.userIsInAppWebviewFlow&&(c=customizeRegisterFieldsForAppWebview(c)),isActivatedAdditionalData()&&getInterestsActivationStatus()?c=customizeInterestsFieldsInManifest(c):removeInterestsFromManifest(c),isActivatedAdditionalData()&&getsNewslettersActivationStatus()&&(c=addNewslettersManifestInManifest(a,c)),b.showBirthDateFields.enabled?customizeBirthDateInManifest(a,c):removeBirthDateFromManifest(c),addCustomManifestInScreen(a,b,c)}function injectFieldsInCompleteRegistationScreen(a){var b=getManifestOfScreenNameFromFlows(a.screenName.completo);"undefined"!=typeof a.extensionType&&"ecommerce"===a.extensionType&&(b=customizeCompletRegisterFieldsForEcommerce(b)),isActivatedAdditionalData()&&getInterestsActivationStatus()?b=customizeInterestsFieldsInManifest(b):removeInterestsFromManifest(b),isActivatedAdditionalData()&&getsNewslettersActivationStatus()&&(b=addNewslettersManifestInManifest(a.screenName.completo,b)),a.showBirthDateFields.enabled?customizeBirthDateInManifest(a.screenName.completo,b):removeBirthDateFromManifest(b),addCustomManifestInScreen(a.screenName.completo,a,b)}function addNewslettersManifestInManifest(a,b){var c=b,d=createNewslettersManifestFromCustomizeOptions();return d&&Object.keys(d).length>0&&($.each(d.fields,function(a,b){c.fields[a]=b}),d.fieldsGroup.hasOwnProperty("newslettersDataGroupFields")&&d.fieldsGroup.newslettersDataGroupFields.length>0&&(c.fieldsGroup.newslettersDataGroupFields=d.fieldsGroup.newslettersDataGroupFields),a&&""!==a&&d.screens.hasOwnProperty(a)&&(c.screens.hasOwnProperty(a)||(c.screens[a]=[]),c.screens[a].push(d.screens[a][0]))),c}function injectFieldsinScreensByScreenNameExceptAdditionalDataScreen(a){"undefined"!=typeof a&&a&&(a!==options.screenName.additionalData&&a!==options.screenName.formulario&&addCustomFieldsInScreen(a,options),a===options.screenName.formulario&&injectFieldsInRegisterScreen(a,options),(a===options.screenName.login||a===options.screenName.formulario)&&injectFieldsInCompleteRegistationScreen(options))}function objectHasProperties(a,b){for(var c=a,d=b.split("."),e=0;e<d.length;e++){if(!c.hasOwnProperty(d[e]))return!1;c=c[d[e]]}return!0}function getValueFromObjectProperties(a,b){for(var c=a,d=b.split("."),e=0;e<d.length;e++){if(!c.hasOwnProperty(d[e]))return!1;c=c[d[e]]}return"false"===c&&(c=!1),c}function fieldNameHasToBeRemovedFromManifest(a,b,c){var d=!1,e="";return a.fields.hasOwnProperty(c)&&(e=a.fields[c].getRowFields()[0],""!==e&&fieldHasToBeRemovedFromManifest(b,e)&&(d=!0)),d}function removeFieldsFromFieldsManifest(a,b,c){var d=!1,e="";return b.fields.hasOwnProperty(c)&&(e=b.fields[c].getRowFields()[0],""!==e&&fieldHasToBeRemovedFromManifest(a,e)&&(delete b.fields[c],d=!0)),d}function removeNewsletterFieldFromFieldsManifest(a,b){var c=!1,d="";return a.fields.hasOwnProperty(b)&&(d=a.fields[b].getRowFields()[0].replace("newsletter-",""),""!==d&&newslettersHasSuscription(d)&&(delete a.fields[b],c=!0)),c}function removeHiddenCountryFromHtml(){var a=$("#gigya-login-additional-data-screen").find("div#hiddenCountry");"undefined"!=typeof a&&a&&a.remove()}function removeFieldsFromGroupsManifest(a,b,c){var d=!1,e=a.fieldsGroup[b].indexOf(c);return e>=0&&a.fieldsGroup[b].splice(e,1),d}function getAdditionalManifest(){return 0===Object.keys(additionalManifest).length&&(additionalManifest=getAdditionalManifestFromFlows()),additionalManifest}function getInterestsCustomFieldsForCustomize(){return customInterestsFields}function getNewslettersCustomFieldsForCustomize(){return customNewsLettersFields}function getUserNewslettersList(){return userNewslettersList}function setUserNewslettersList(a){userNewslettersList=a}function getNewslettersListFromResponse(a){var b=[];return"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.newsletter&&a.data.newsletter&&a.data.newsletter.length>0&&(b=a.data.newsletter),b}function loadNewslettersListFromResponse(a){var b=!0;if(isActivatedAdditionalData()&&getsNewslettersActivationStatus()){var c=getNewslettersListFromResponse(a);setUserNewslettersList(c)}return b}function newsletterFieldNameHasToBeRemovedFromManifest(a,b){var c=!1,d="";return a.fields.hasOwnProperty(b)&&(d=a.fields[b].getRowFields()[0].replace("newsletter-",""),""!==d&&userHasSuscriptionToNewsletterCode(d)&&(c=!0)),c}function userHasSuscriptionToNewsletterCode(a){var b=!1;return a&&""!==a&&newslettersHasSuscription(a)&&(b=!0),b}function newslettersHasSuscription(a){var b=!1,c=getUserNewslettersList();return $.each(c,function(c,d){return d.ID===a&&"subscribe"===d.status?b=!0:void 0}),b}function prepareDataForAdditionalFilledMark(a,b,c){var d="undefined"!=typeof b?b:options.serviceReference,e="undefined"!=typeof c?c:options.serviceId,f="undefined"!=typeof a.data&&a.data?a.data:{};if("undefined"!=typeof d&&d){var g={};"undefined"!=typeof f&&f&&"undefined"!=typeof f.additionalDataFilled&&f.additionalDataFilled&&f.additionalDataFilled.length>0&&(g=f.additionalDataFilled),f.additionalDataFilled=protectedFunctions.setAdditionalDataStructure(g,d,e)}return f}function processInterestsOptions(a){var b=0,c="text",d="Selecciona los temas que te interesen:",e={controlTexts:{counterTexts:0,texts:[]},texts:[],interestsFields:[]};return a&&Object.keys(a).length>0?($.each(a,function(a,f){b>=1&&(c="text"+b,e.controlTexts.texts.push(c)),f.displayText&&""!==f.displayText?e.texts[c]=f.displayText:e.texts[c]=d,e.controlTexts.counterTexts++,f.interestsFields&&f.interestsFields.length>0&&(f.interestsFields.unshift(c),e.interestsFields.length>0&&(e.interestsFields=e.interestsFields.concat(f.interestsFields)),0===e.interestsFields.length&&(e.interestsFields=f.interestsFields)),b++}),void(customInterestsFields=e)):{}}function processNewslettersOptions(a){var b="Suscr&iacute;bete a nuestras newsletters:",c={displayText:"",newsletters:{}};a.hasOwnProperty("displayText")&&a.displayText&&""!==a.displayText?c.displayText=a.displayText:c.displayText=b,a&&a.hasOwnProperty("newsletters")&&Object.keys(a.newsletters).length>0&&$.each(a.newsletters,function(a,b){b.newsletterCode&&""!==b.newsletterCode&&b.newsletterLabel&&""!==b.newsletterLabel&&(c.newsletters[b.newsletterCode]=b.newsletterLabel)}),customNewsLettersFields=c}function modifyAndAddInterestsFieldsLabelInManifest(a,b){var c=a,d="";return c&&"object"==typeof c&&b.controlTexts.counterTexts>0&&(b.texts.hasOwnProperty("text")&&(d=b.texts.text,c.fields.text.changeDisplayText(d),c.fields.text.modifyAttr("isPElement",!0)),b.controlTexts.counterTexts>1&&b.controlTexts.texts.length>0&&$.each(b.controlTexts.texts,function(a,e){if(b.texts.hasOwnProperty(e)){d=b.texts[e];var f={};f.field={displayText:d,attr:{type:"label"}},c.fields[e]=new userUtils.Row(f),c.fields[e].modifyAttr("isPElement",!0)}})),c}function changeInterestsGroupsFieldInManifest(a,b){var c=a,d=[];return c&&"object"==typeof c&&b.controlTexts.counterTexts>0&&b.interestsFields.length>0&&(d=b.interestsFields,$.each(d,function(a,d){c.fields.hasOwnProperty(d)||b.interestsFields.splice(a,1)}),$.each(c.fieldsGroup,function(a,d){a.indexOf("interests")>=0&&($.each(b.interestsFields,function(a,b){c.fields.hasOwnProperty(b)&&c.fields[b].modifyAttr("extraId","check-column-interests")}),c.fieldsGroup[a]=b.interestsFields)})),c}function customizeInterestsFieldsInManifest(a){var b=a;if(isActivatedAdditionalData()&&getInterestsActivationStatus()){var c=getInterestsCustomFieldsForCustomize();b=modifyAndAddInterestsFieldsLabelInManifest(b,c),b=changeInterestsGroupsFieldInManifest(a,c)}return b}function customizeRegisterFieldsForEcommerce(a){if("undefined"==typeof a||!a)return{};"undefined"!=typeof options.mustToShowZipInNotEditorialFlow&&!0===options.mustToShowZipInNotEditorialFlow&&(options.editorialRegistrationPersonalDataFields=options.editorialRegistrationPersonalDataFields.filter(function(a){return"zip"!==a}));var b=a;return $.each(options.editorialRegistrationAccessFields,function(a,c){removeFieldsFromGroupsManifest(b,"registrationAccessVisibleFields",c)}),$.each(options.editorialRegistrationPersonalDataFields,function(a,c){removeFieldsFromGroupsManifest(b,"registrationPersonalDataVisibleFields",c)}),b}function customizeCompletRegisterFieldsForEcommerce(a){if("undefined"==typeof a||!a)return{};"undefined"!=typeof options.mustToShowZipInNotEditorialFlow&&!0===options.mustToShowZipInNotEditorialFlow&&(options.editorialRegistrationPersonalDataFields=options.editorialRegistrationPersonalDataFields.filter(function(a){return"zip"!==a}));var b=a;return $.each(options.editorialRegistrationPersonalDataFields,function(a,c){removeFieldsFromGroupsManifest(b,"registrationPersonalDataVisibleFields",c)}),b}function customizeRegisterFieldsForAppWebview(a){if("undefined"==typeof a||!a)return{};var b=a;return $.each(options.editorialRegistrationAccessFields,function(a,c){removeFieldsFromGroupsManifest(b,"registrationAccessVisibleFields",c)}),b}function createNewslettersManifestFromCustomizeOptions(){var a={},b={displayText:"Suscr&iacute;bete a nuestras newsletters",attr:{type:"label",isPElement:!0}},c={displayText:"",inSchema:!1,attr:{type:"checkbox",name:"",value:"false",extraId:"check-column-newsletters"}},d=[],e={},f={},g={},h={"gigya-register-screen":[{group:"newslettersDataGroupFields",elementId:"vocento-vocuser-newsletters-fields"}],"gigya-complete-registration-screen":[{group:"newslettersDataGroupFields",elementId:"vocento-vocuser-newsletters-fields"}],"gigya-login-additional-data-screen":[{group:"newslettersDataGroupFields",elementId:"vocento-vocuser-newsletters-fields"}]},i=getNewslettersCustomFieldsForCustomize(),j="newsletterField";if(i.displayText&&""!==i.displayText){var k="Label";b.displayText=i.displayText,f={},f.field=b,e[j+k]=new userUtils.Row(f)}if(!(i.newsletters&&Object.keys(i.newsletters).length>0))return a;var l=1;return $.each(i.newsletters,function(a,b){c.attr.name="newsletter-"+a,c.displayText=b,f={},f.field=c,e[j+l]=new userUtils.Row(f),l++}),f={},Object.keys(e).length>0&&$.each(e,function(a,b){f[a]=b,d.push(a)}),d.length>0&&(g.newslettersDataGroupFields=d),a.fields=f,a.fieldsGroup=g,a.screens=h,a}function calculateGroupsActivation(a,b){var c=[],d={},e=["hiddenCity","hiddenProvince","hiddenMunicipality"];return activatedByOptions(),additionalDataActivatedBy&&""!==additionalDataActivatedBy&&(c=additionalDataActivatedBy.split(",")),""===additionalDataActivatedBy?!1:($.each(b.fieldsGroup,function(f,g){var h={};if(f.indexOf("interests")>=0)return void(d[f]=!0);if(f.indexOf("golden")>=0)return h[f]=[],$.each(g,function(c,d){"firstName"!==d||options.allowEditGoldenRecords||fieldNameHasToBeRemovedFromManifest(b,a,d)&&h[f].push(d),"zip"!==d||options.allowEditGoldenRecords||fieldNameHasToBeRemovedFromManifest(b,a,d)&&(h[f].push(d),$.each(e,function(a,b){h[f].push(b)})),"zip"!==d&&"firstName"!==d}),void(h[f].length>=0&&(d[f]=b.fieldsGroup[f].length-h[f].length));if(f.indexOf("communication")>=0)return h[f]=[],$.each(g,function(d,e){"adsMedia"===e&&(fieldNameHasToBeRemovedFromManifest(b,a,e)||c.indexOf("adsMedia")<0)&&h[f].push(e),"adsGroupVisible"===e&&(fieldNameHasToBeRemovedFromManifest(b,a,e)||c.indexOf("adsGroupVisible")<0)&&h[f].push(e),"adsThirdparty"===e&&(fieldNameHasToBeRemovedFromManifest(b,a,e)||c.indexOf("adsThirdparty")<0)&&h[f].push(e),"adsGroupVisible"!==e&&"adsThirdparty"!==e&&"adsMedia"!==e}),void(h[f].length>=0&&(d[f]=b.fieldsGroup[f].length-h[f].length));if(f.indexOf("additional")>=0)return h[f]=[],$.each(g,function(c,d){options.allowEditAdditionalUserInfo&&validateIfEditableField(b,d)||fieldNameHasToBeRemovedFromManifest(b,a,d)&&h[f].push(d)}),"undefined"!=typeof h.additionalBirthDateFields&&3===h.additionalBirthDateFields.length&&h.additionalBirthDateFields.push("labelBirthDate"),void(h[f].length>=0&&(d[f]=b.fieldsGroup[f].length-h[f].length));if(f.indexOf("newsletters")>=0){h[f]=[],$.each(g,function(a,c){"newsletterFieldLabel"!==c&&newsletterFieldNameHasToBeRemovedFromManifest(b,c)&&h[f].push(c)});var i=$(b.fieldsGroup[f]).not(h[f]).get();return i&&1===i.length&&"newsletterFieldLabel"===i[0]&&h[f].push("newsletterFieldLabel"),void(h[f].length>=0&&(d[f]=b.fieldsGroup[f].length-h[f].length))}f.indexOf("extra")>=0&&(d[f]=!0)}),d)}function mustToShowAdditionalDataPage(a,b,c){var d="undefined"!=typeof b?b:options.serviceReference,e="undefined"!=typeof c?c:options.serviceId,f=!1;if(checkAdditionalDataFilled(a,d,e))return f;var g={},h=0,i=!1,j=protectedFunctions.getAdditionalManifest();return loadNewslettersListFromResponse(a),g=calculateGroupsActivation(a,j),$.each(g,function(a,b){a.indexOf("additional")>=0&&(h+=b),a.indexOf("communication")>=0&&(h+=b),a.indexOf("golden")>=0&&(h=b),a.indexOf("interests")>=0&&(i=b),a.indexOf("newslettersDataGroupFields")>=0&&(h+=b),a.indexOf("extra")>=0&&(h+=b)}),0===h&&(f="marca"),(h>0||i)&&(f=!0),f}function removeFilledFieldsFromManifest(a,b){var c={},d=[],e=b,f=["hiddenCity","hiddenProvince","hiddenMunicipality"];return activatedByOptions(),additionalDataActivatedBy&&""!==additionalDataActivatedBy&&(d=additionalDataActivatedBy.split(",")),""===additionalDataActivatedBy?!1:($.each(e.fieldsGroup,function(b,g){return c[b]=[],b.indexOf("golden")>=0?($.each(g,function(d,g){"firstName"!==g||options.allowEditGoldenRecords||fieldNameHasToBeRemovedFromManifest(e,a,g)&&(c[b].push(g),removeFieldsFromFieldsManifest(a,e,g)),"zip"!==g||options.allowEditGoldenRecords||fieldNameHasToBeRemovedFromManifest(e,a,g)&&(c[b].push(g),removeFieldsFromFieldsManifest(a,e,g),$.each(f,function(d,f){c[b].push(f),removeFieldsFromFieldsManifest(a,e,f)}),removeHiddenCountryFromHtml()),"zip"!==g&&"firstName"!==g}),c[b].length>0&&!options.allowEditGoldenRecords&&$.each(c[b],function(a,c){removeFieldsFromGroupsManifest(e,b,c)}),void(0===e.fieldsGroup[b].length&&delete e.fieldsGroup[b])):(d.indexOf("golden")<0&&removeHiddenCountryFromHtml(),b.indexOf("communication")>=0?($.each(g,function(f,g){"adsMedia"===g&&(fieldNameHasToBeRemovedFromManifest(e,a,g)||d.indexOf("adsMedia")<0)&&(c[b].push(g),removeFieldsFromFieldsManifest(a,e,g)),"adsGroupVisible"===g&&(fieldNameHasToBeRemovedFromManifest(e,a,g)||d.indexOf("adsGroupVisible")<0)&&(c[b].push(g),removeFieldsFromFieldsManifest(a,e,g)),"adsThirdparty"===g&&(fieldNameHasToBeRemovedFromManifest(e,a,g)||d.indexOf("adsThirdparty")<0)&&(c[b].push(g),removeFieldsFromFieldsManifest(a,e,g)),"adsGroupVisible"!==g&&"adsThirdparty"!==g&&"adsMedia"!==g}),c[b].length>0&&$.each(c[b],function(a,c){removeFieldsFromGroupsManifest(e,b,c)}),void(0===e.fieldsGroup[b].length&&delete e.fieldsGroup[b])):b.indexOf("additional")>=0?($.each(g,function(d,f){options.allowEditAdditionalUserInfo&&validateIfEditableField(e,f)||fieldNameHasToBeRemovedFromManifest(e,a,f)&&(c[b].push(f),removeFieldsFromFieldsManifest(a,e,f))}),c[b].length>0&&$.each(c[b],function(a,c){removeFieldsFromGroupsManifest(e,b,c)}),0===e.fieldsGroup[b].length&&delete e.fieldsGroup[b],void("undefined"!=typeof e.fieldsGroup.additionalBirthDateFields&&1===e.fieldsGroup.additionalBirthDateFields.length&&"labelBirthDate"===e.fieldsGroup.additionalBirthDateFields[0]&&delete e.fieldsGroup.additionalBirthDateFields)):b.indexOf("newsletters")>=0?($.each(g,function(a,d){"newsletterFieldLabel"!==d&&newsletterFieldNameHasToBeRemovedFromManifest(e,d)&&(c[b].push(d),removeNewsletterFieldFromFieldsManifest(e,d))}),c[b].length>0&&$.each(c[b],function(a,c){removeFieldsFromGroupsManifest(e,b,c)}),1===e.fieldsGroup[b].length&&"newsletterFieldLabel"===e.fieldsGroup[b][0]&&(removeNewsletterFieldFromFieldsManifest(e,"newsletterFieldLabel"),removeFieldsFromGroupsManifest(e,b,"newsletterFieldLabel")),void(0===e.fieldsGroup[b].length&&delete e.fieldsGroup[b])):void 0)}),e)}function activatedByOptions(){var a="";options.showAdditionalDataPage&&(a+="additional,"),options.showGoldenRecords&&(a+="golden,"),(options.showAdsMedia||options.showAdsGroup||options.showAdsThirdparty)&&(a+="communication,",options.showAdsMedia&&(a+="adsMedia,"),options.showAdsGroup&&(a+="adsGroupVisible,"),options.showAdsThirdparty&&(a+="adsThirdparty,")),getInterestsActivationStatus()&&(a+="interests,"),getsNewslettersActivationStatus()&&(a+="newsletters,"),getSectionsWithExternalFields().length>0&&(a+="extra,"),a=a.replace(/\,$/,""),additionalDataActivatedBy=a}function getAdditionalManifestFromFlows(){var a=0,b="gigya-login-additional-data-screen",c={},d={},e={},f={},g=[],h=[],i=[];for(activatedByOptions(),additionalDataActivatedBy&&""!==additionalDataActivatedBy&&(i=additionalDataActivatedBy.split(",")),a=0;a<flows.length;a++)if(flows[a].getInsertCustomField().hasOwnProperty("screens")&&flows[a].getInsertCustomField().screens.hasOwnProperty(b)&&flows[a].getInsertCustomField().screens[b].length>0){var j=flows[a].getInsertCustomField().screens[b];$.each(j,function(f,j){var k=j.group;$.each(i,function(f,i){"adsGroupVisible"!==i&&"adsThirdparty"!==i&&"adsMedia"!==i&&(k.toLowerCase().indexOf(i.toLowerCase())>=0&&"additionalBirthDateFields"!==k||"additionalBirthDateFields"===k&&options.showBirthDateFields.enabled&&0===f)&&(h.push(j),flows[a].getInsertCustomField().hasOwnProperty("fieldsGroup")&&flows[a].getInsertCustomField().fieldsGroup.hasOwnProperty(k)&&flows[a].getInsertCustomField().fieldsGroup[k].length>0&&(d[k]=flows[a].getInsertCustomField().fieldsGroup[k],g=flows[a].getInsertCustomField().fieldsGroup[k],$.each(g,function(b,d){flows[a].getInsertCustomField().fields.hasOwnProperty(d)&&(c[d]=flows[a].getInsertCustomField().fields[d])})),e[b]=h)})})}return f.fields=c,f.fieldsGroup=d,f.screens=e,isActivatedAdditionalData()&&getsNewslettersActivationStatus()&&(f=addNewslettersManifestInManifest(b,f)),f}function getManifestOfScreenNameFromFlows(a){var b=0,c="undefined"!=typeof a?a:"",d={},e={},f={},g={},h=[],i=[];for(b=0;b<flows.length;b++)if(c&&""!==c&&flows[b].getInsertCustomField().hasOwnProperty("screens")&&flows[b].getInsertCustomField().screens.hasOwnProperty(c)&&flows[b].getInsertCustomField().screens[c].length>0){var j=flows[b].getInsertCustomField().screens[c];$.each(j,function(a,g){var j=g.group;i.push(g),flows[b].getInsertCustomField().hasOwnProperty("fieldsGroup")&&flows[b].getInsertCustomField().fieldsGroup.hasOwnProperty(j)&&flows[b].getInsertCustomField().fieldsGroup[j].length>0&&(e[j]=flows[b].getInsertCustomField().fieldsGroup[j],h=flows[b].getInsertCustomField().fieldsGroup[j],$.each(h,function(a,c){flows[b].getInsertCustomField().fields.hasOwnProperty(c)&&(d[c]=flows[b].getInsertCustomField().fields[c])})),f[c]=i})}return g.fields=d,g.fieldsGroup=e,g.screens=f,g}function fieldHasToBeRemovedFromManifest(a,b){var c=!1;return"undefined"!=typeof a&&a&&"object"==typeof a&&b&&""!==b&&objectHasProperties(a,b)&&""!==getValueFromObjectProperties(a,b)&&getValueFromObjectProperties(a,b)&&(c=!0),c}function addCustomFieldsInAdditionalDataScreen(a,b,c){"undefined"!=typeof b&&b||(b=options),userUtils.insertCustomFields.setOptions(b),("undefined"!=typeof a||a)&&(userUtils.insertCustomFields.setManifest(c),userUtils.insertCustomFields.getHTML(a),eventAdditionalData.resolve())}function addCustomManifestInScreen(a,b,c){"undefined"!=typeof b&&b||(b=options),userUtils.insertCustomFields.setOptions(b),("undefined"!=typeof a||a)&&(userUtils.insertCustomFields.setManifest(c),userUtils.insertCustomFields.getHTML(a))}function activateInterestsFields(){showInterestsFields=!0}function getInterestsActivationStatus(){
return showInterestsFields}function activateNewslettersFields(){showNewslettersFields=!0}function getsNewslettersActivationStatus(){return showNewslettersFields}function activateAdditionalData(){options.showAdditionalDataPageWithExtraRequirements&&(options.showGoldenRecords=!0),options.interestsGroups&&Object.keys(options.interestsGroups).length>0&&(activateInterestsFields(),processInterestsOptions(options.interestsGroups)),options.newslettersGroup&&options.newslettersGroup.hasOwnProperty("newsletters")&&Object.keys(options.newslettersGroup.newsletters).length>0&&(activateNewslettersFields(),processNewslettersOptions(options.newslettersGroup));var a=options.showGoldenRecords||options.showAdditionalDataPage||options.showAdsMedia||options.showAdsGroup||options.showAdsThirdparty||getInterestsActivationStatus()||getsNewslettersActivationStatus()||options.sectionsWithExternalFields.length>0;enableAdditionalData(a)}function getNewslettersCookie(){var a=!1,b=$.cookie(NEWSLETTERS_COOKIE_NAME);if("undefined"!=typeof b&&b)try{a=decodeURIComponent(b)}catch(c){if(log("Error en getNewslettersCookie() al decodificar la cookie: "+c,"error"),b=$.cookie(NEWSLETTERS_COOKIE_NAME),"undefined"!=typeof b&&b)try{a=decodeURIComponent(b)}catch(c){log("Error en getNewslettersCookie() al decodificar la cookie: "+c,"error")}}if("undefined"==typeof a||!a)return!1;try{a=decodeURIComponent(b)}catch(c){log("Error en getNewslettersCookie() al decodificar la cookie: "+c,"error")}return a}function getDataFromNewsLettersCookie(a,b){var c="undefined"!=typeof a&&a?a:!1,d="undefined"!=typeof b&&b?b:!1,e="",f="",g=[],h=!1,i=getNewslettersCookie();if(!1===i)return i;if(h=i.split("|"),"object"==typeof h&&h[0]&&h[1]){if(f=h[0].replace("UID=",""),e=h[1].replace("newsletters=","").split("*"),""===f&&""===e)return!1;if(""===f&&!1===c&&!1===d)return e;if(""===f&&!1===c&&d)return h[1].replace("newsletters=","");if("object"==typeof e&&""!==f&&c&&!1===d)return g.UID=f,g.newsletters=e,g;if("object"==typeof e&&!1!==f&&c&&"UIDOnly"===d)return f;if("object"==typeof e&&""!==f&&c&&d)return h[0].replace("UID=","")+"|"+h[1].replace("newsletters=","")}else if(!1===h)return h;return"object"==typeof e?e:""===e||!1===e?!1:void 0}function getNlsFreeZone(){var a=[],b=getDataFromNewsLettersCookie();if("object"==typeof b&&b&&b.length>0)for(var c=0;c<b.length;c++)a.push(b[c]);return a}function saveNlsOnLogin(a,b,c,d){var e="false";if("undefined"!=typeof b&&b||(b=getCookieVocUid("uidSignature")),"undefined"!=typeof c&&c||(c=getCookieVocUid("signatureTimestamp")),"undefined"!=typeof a&&a&&"undefined"!=typeof d&&d){var f={UID:a,UIDSignature:b,signatureTimestamp:c,registrationToken:e,NL_ID:d};return $.ajax({url:options.authServerVocCore+"/vocuser/v1/user/newsletters/subscribe/freezone",type:"POST",dataType:"json",data:f,async:!0,success:handleSuccessSaveNlsOnLogin}),!0}return!1}function handleSuccessSaveNlsOnLogin(a){}function saveNlsOnRegister(a,b,c){var d=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c){var e={UID:a,registrationToken:b,NL_ID:c};$.ajax({url:options.authServerVocCore+"/vocuser/v1/user/newsletters/subscribe/freezone",type:"POST",dataType:"json",data:e,success:handleSuccessSaveNlsOnRegister}),d=!0}return d}function handleSuccessSaveNlsOnRegister(a){}function updateUserNL(a,b,c,d){var e=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&"undefined"!=typeof d&&d){var f={UID:a,UIDSignature:b,signatureTimestamp:c,newObject:d};$.ajax({url:options.authServerVocCore+"/vocuser/v1/user/newsletters/subscribe",type:"POST",dataType:"json",data:f,async:!0,success:handleSuccessupdateUserNL}),e=!0}return e}function handleSuccessupdateUserNL(a){}function createStringResponseForCookie(a,b){var c="undefined"!=typeof a&&a?a:!1,d="undefined"!=typeof b&&b?b:!1,e="UID=",f="newsletters=";return c&&(e+=c),d&&(f+=d),e+"|"+f}function setNewslettersChecksBox(a){var b=!1;return"undefined"!=typeof a&&a&&(newslettersChecksBox.push(a),b=!0),b}function getNewslettersChecksBox(){return newslettersChecksBox}function printFrameworkOptions(){log(options,"info"),!1===options.hasPaywall&&log("---- Log - VocUser: No se realizarn llamadas a Evolok. El medio no tiene paywall; hasPaywall = false","warn"),!1===options.hasEcommerce&&log("---- Log - VocUser: No se realizarn llamadas a servicios de Ecommerce. (busSynchronize, userProducts - MDM, Evolok). El medio no tiene Ecommerce; hasEcommerce = false","warn")}function activateAdditionaleDataPageWithExtraRequirements(a,b){a===options.screenName.additionalData&&"undefined"!=typeof b&&b&&activateGoldenRecordsAndAdditionalDataPage()}function activateGoldenRecordsAndAdditionalDataPage(){options.showGoldenRecords=!0,enableAdditionalData(!0)}function validateIfEditableField(a,b){var c=!1,d="";return"undefined"!=typeof a&&"object"==typeof a&&"undefined"!=typeof b&&"string"==typeof b&&a.fields.hasOwnProperty(b)&&(d=a.fields[b].getRowFields()[0]),"undefined"!=typeof options.editableFields&&"object"==typeof options.editableFields&&options.editableFields&&options.editableFields.length>0&&""!==d&&"undefined"!==d&&options.editableFields.indexOf(d)>=0&&(c=!0),c}function initExtraDataOnChange(){$.each(options.sectionsWithExternalFields,function(a,b){var c=$("form:visible [vocento-name="+b+"]");$(c).on("change",function(){userUtils.customValidation.validateField(c)})})}function disableAdobeDtmYoutubeTimerHook(){options.userIsInFlow&&"undefined"!=typeof s_YTO&&s_YTO&&"undefined"!=typeof s_YTO.ut&&s_YTO.ut&&clearTimeout(s_YTO.ut)}function jsErrorsFromInitialParams(){getJsErrors="undefined"!=typeof initialParams&&initialParams&&"undefined"!=typeof initialParams.getJsErrors&&initialParams.getJsErrors?initialParams.getJsErrors:function(){}}function sendDataToNewRelicFromInitialParams(){var a="undefined"!=typeof initialParams&&initialParams&&"undefined"!=typeof initialParams.sendDataToNewRelic&&initialParams.sendDataToNewRelic?initialParams.sendDataToNewRelic:function(){};sendDataToNewRelic=function(b){var c="undefined"!=typeof b&&b?b:{};c=$.extend(c,{user:user,account:account,userType:getUserType(),userIsAuthenticated:authenticated,ssoGroup:ssoGroup}),a(c)}}function socializeOnLogin(a){if(authenticated=!1,"undefined"!=typeof a&&a&&"undefined"!=typeof a.UID&&a.UID&&(authenticated=!0),user=a.user,createCookies(user),getJWT(),authenticated&&(firePromiseUserLogged(),options.userIsInAppWebviewFlow)){var b=user,c={eventName:"userlogged",eventData:b};logout(),AppWebview.postMessageToWebkit(c,window.location.href)}options.reloadOnLogin||(fireEvent("socialize"+eventSeparator+"onLogin",a),getUserInfo({})),eventSocializeOnLogin.resolve(a)}function socializeOnLoginItp(a){if(authenticated=!1,"undefined"!=typeof a&&a&&"undefined"!=typeof a.UID&&a.UID&&(authenticated=!0),user=a.user,createCookies(user),getJWT(),authenticated&&options.userIsInAppWebviewFlow){var b=JSON.stringify({name:"userLogged",data:user});AppWebview.postMessageToWebkit(b,window.location.href)}options.reloadOnLogin||fireEvent("socialize"+eventSeparator+"onLogin",a),eventSocializeOnLogin.resolve(a)}function accountsOnLoginItp(a){account=a,firedEventGigyaAccountsOnLogin=!0,authenticated=!1,"undefined"!=typeof user&&user||(user=a),"undefined"!=typeof a&&a&&"undefined"!=typeof a.UID&&a.UID?(authenticated=!0,actionsAfterLastLoginIsSet(a)):sendDataToNewRelic({eventNameFired:"accountsOnLogin",additionalInformation:"accounts.onLogin fired by Gigya. Detected no user data.",errorMessage:"accounts.onLogin fired by Gigya. Detected no user data. Possible error: "+a.errorMessage}),fireEvent("accounts"+eventSeparator+"onLogin",a),eventAccountsOnLogin.resolve(a)}function accountsOnLogin(a){account=a,firedEventGigyaAccountsOnLogin=!0,authenticated=!1,"undefined"!=typeof user&&user||(user=a),"undefined"!=typeof a&&a&&"undefined"!=typeof a.UID&&a.UID?(authenticated=!0,actionsAfterLogin(a)):sendDataToNewRelic({eventNameFired:"accountsOnLogin",additionalInformation:"accounts.onLogin fired by Gigya. Detected no user data.",errorMessage:"accounts.onLogin fired by Gigya. Detected no user data. Possible error: "+a.errorMessage}),fireEvent("accounts"+eventSeparator+"onLogin",a),eventAccountsOnLogin.resolve(a)}function reloadUserFrameworkConfigOnFlowLoaded(){"undefined"!=typeof voontoApp&&voontoApp&&voontoApp.when("vocuser:user-flow-loaded").then(function(a){const b=a.data;options=$.extend(!0,options,b.getOptions()),protectedFunctions=$.extend(!0,protectedFunctions,b.getProtectedFunctions()),flows[flows.length]=b,initFlows(),b.execute()})}function redirectItpOnFlowLoad(a,b){if(options.userIsInFlow&&(a===options.screenName.login||a===options.screenName.registration)){var c="undefined"!=typeof options.enableGigyaITP?options.enableGigyaITP:!1;if(c){var d=getQueryVariable("gig_ssoToken");"undefined"!=typeof d&&d||redirectToGigyaCentralLoginPage(b),gigya.hasSession().then(function(a){a&&gigyaITPSsoContinue()})}}}function redirectItpToRegisterWithToken(a){var b="undefined"!=typeof options.enableGigyaITP?options.enableGigyaITP:!1;if(b){var c=getQueryVariable("gig_ssoToken");if("undefined"!=typeof c&&c){var d=window.location.href;redirectToUrlWithGigyaToken(d,a)}else redirectToGigyaCentralLoginPage(a);gigya.hasSession().then(function(a){a&&gigyaITPSsoContinue()})}}function redirectItpToCurrentPageWithToken(a){var b="undefined"!=typeof options.enableGigyaITP?options.enableGigyaITP:!1;b&&options.userIsInFlow&&redirectToGigyaCentralLoginPage(a)}function init(a){initialParams=setInitialParams(a),jsErrorsFromInitialParams(),sendDataToNewRelicFromInitialParams(),options=getOptions(),options.userIsInFlow=userIsInFlowScreen(),options.userIsInFLowScreenSession=userIsInFlowScreenSession(),!0===options.userIsInFlow&&(service=getLastServiceFromVocUserInformationCookie(),options.service=service),options.userIsInFlow||clearFieldReturnUrlInCookieVocUser(),createJWTToken(),updateLastestBackUrl(getNfrylCookie()),options.extensionType=getCookieVocUserInformation("extensionType"),setOptionIfRedirectedFromQualifio(),initAreaPersonalPageRouting(),initOptions(),options.envFront=initSubDomainEnvFront(options.currentEnvironment),initProtectedFunctions();var b=getCurrentScreenName();redirectItpOnFlowLoad(b),activateAdditionalData(),openScreenByRoute(),initFlows(),initCustomValidationPlugin();var c=$("div#"+options.idDivHtmlCustomBenefits);"undefined"!=typeof c&&c.append(options.htmlBenefits),!1===options.userIsInFlow&&(deleteFieldInCookieVocuser("extensionFlowUrl"),deleteFieldInCookieVocuser("logoUrl"),deleteFieldInCookieVocuser("logoFooter"),deleteFieldInCookieVocuser("extensionType"),deleteFieldInCookieVocuser("productId"),deleteFieldInCookieVocuser("cart"),deleteFieldInCookieVocuser("analytics"),deleteFieldInCookieVocuser("rtim"),updateFieldInCookieVocUser("lastAction","",!0)),saveLastServiceInCookieVocUser(options.service,!1),log=options.debug&&userUtils.log?userUtils.log:function(){},firePromiseGetUserTypeOnEvents(),listenerProductsOnReadyForAnalytic();var d=$("#vocento-vocuser-screen-container");if("undefined"!=typeof d&&d&&d.length&&isAppWebView()&&(d.addClass("voc-user-app"),window.location.href.indexOf("appwebviewtoken")>-1&&listenAppsSessionToken()),executeFlows(),reloadUserFrameworkConfigOnFlowLoaded(),processesOutsideUserFlows(),printFrameworkOptions(),userDataReady(),registerUI(),options.userIsInFlow&&redirectToBackUrlOnLogin(),gigya.socialize.addEventHandlers({onLogin:function(a){socializeOnLogin(a)},onLogout:function(a){return userClickedLogout===!1?void sendDataToNewRelic({eventNameFired:"socializeOnLogoutByGigya",firedEventLogout:!0,additionalInformation:"socialize.logout fired by Gigya. Detected no user signature token.",errorMessage:"socialize.logout fired by Gigya. Detected no user signature token."}):(sendDataToNewRelic({eventNameFired:"socializeOnLogout",firedEventLogout:!0,additionalInformation:"socialize.logout OK fired by user action.",errorMessage:"socialize.logout fired by user action."}),removeCookies(),removeSimpleStorage(),clearFieldReturnUrlInCookieVocUser(),void(options.reloadOnLogout||(fireEvent("socialize"+eventSeparator+"onLogout",a),user=null,registerUI())))}}),gigya.accounts.addEventHandlers({onLogin:function(a){accountsOnLogin(a)},onLogout:function(a){return userClickedLogout===!1?void sendDataToNewRelic({eventNameFired:"accountsOnLogoutByGigya",firedEventLogout:!0,additionalInformation:"accounts.logout fired by Gigya. Detected no user signature token.",errorMessage:"accounts.logout fired by Gigya. Detected no user signature token."}):(sendDataToNewRelic({eventNameFired:"accountsOnLogout",firedEventLogout:!0,additionalInformation:"accounts.logout OK fired by user action.",errorMessage:"accounts.logout fired by user action."}),removeCookies(),removeSimpleStorage(),clearFieldReturnUrlInCookieVocUser(),void(options.reloadOnLogout?userUtils.reload():(fireEvent("accounts"+eventSeparator+"onLogout",a),account=null)))}}),getUserInfo({}),getAccountInfo({}),$.when(eventServiceAdd,eventCheckService,eventSetAccountInfoCallback).done(function(a,b,c){fireEvent("accounts"+eventSeparator+"addServiceCompleted",c)}),addGigyaEventMap(),userUtils.insertCustomFields.removeHTML(),activateAdditionaleDataPageWithExtraRequirements(b,options.showAdditionalDataPageWithExtraRequirements),isActivatedAdditionalData()&&(additionalManifest=getAdditionalManifest()),b!==options.screenName.additionalData&&injectFieldsinScreensByScreenNameExceptAdditionalDataScreen(b),b===options.screenName.additionalData&&isActivatedAdditionalData()&&$.when(eventGetAccountInfo).done(function(a){loadNewslettersListFromResponse(a),options.showBirthDateFields.enabled?customizeBirthDateInManifest(options.screenName.additionalData,additionalManifest):removeBirthDateFromManifest(additionalManifest),additionalManifest=removeFilledFieldsFromManifest(a,additionalManifest),additionalManifest=customizeInterestsFieldsInManifest(additionalManifest),addCustomFieldsInAdditionalDataScreen(b,options,additionalManifest)}),"http:"===window.location.protocol&&"pro"!==options.currentEnvironment)return window.location.href.indexOf("desnlocal-vocuser")>-1&&alert("ERROR: Pgina de desarrollo cargada con http, por favor cambie a httpS."),void console.error("ERROR: Pgina de desarrollo cargada con http, por favor cambie a httpS.");if(options.userIsInFlow&&b===options.screenName.login){var e=getDomainTld(window.location.href);if(("larioja.com"===e||"leonoticias.com"===e)&&"undefined"!=typeof document.referrer&&document.referrer&&""!==document.referrer&&"/"!==document.referrer){var f=getDomainTld(document.referrer);e!==f&&(createCookieForNfryl(document.referrer),updateLastestBackUrl(document.referrer))}}return disableAdobeDtmYoutubeTimerHook(),deleteUnitTesting(options.envFront),addProtectedFunctionsToUnitTesting(),addPublicFunctionsToUnitTesting(),totalStartingTime=+new Date,this}function getVoontoApp(){return voontoApp}function voontoPromised(a,b,c){var d=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&(c.promised(eventProjectNamespace+eventSeparator+a,b),window.vocento="undefined"!=typeof vocento?window.vocento:{},window.vocento[eventProjectNamespace]="undefined"!=typeof vocento[eventProjectNamespace]?window.vocento[eventProjectNamespace]:{},window.vocento[eventProjectNamespace][a]="undefined"!=typeof vocento[eventProjectNamespace][a]?window.vocento[eventProjectNamespace][a]:b,d=!0),d}function addGigyaEventMap(){var a=!1,b=[],c={events:"beforeRequest",method:globalHookEventMapGigya,args:[function(a){return a}]};b.push(c),c={events:"onRefreshExternalComponentsEvent",method:globalHookEventMapGigya,args:[function(a){return a}]},b.push(c),c={events:"afterResponse",method:globalHookEventMapGigya,args:[function(a){return a}]},b.push(c);var d={eventMap:b};return"undefined"!=typeof gigya.defaultEventMaps&&gigya.defaultEventMaps||(gigya.defaultEventMaps=[]),gigya.defaultEventMaps.push(d),a=!0}function setNewCommunicationsStructure(obj){var result=!1;if("undefined"!=typeof obj&&obj&&"undefined"!=typeof obj.params&&obj.params&&"undefined"!=typeof obj.params.data&&obj.params.data){var communicationsArray=[],date=(new Date).toISOString();obj.params.data.hasOwnProperty("adsGroup")&&communicationsArray.push({ID:"adsGroup",status:obj.params.data.adsGroup,updateDate:date}),obj.params.data.hasOwnProperty("adsThirdparty")&&communicationsArray.push({ID:"adsThirdparty",status:obj.params.data.adsThirdparty,updateDate:date}),obj.params.data.hasOwnProperty("adsMedia")&&obj.params.data.adsMedia.hasOwnProperty(obj.params.cid)&&communicationsArray.push({ID:"adsMedia",status:eval("obj.params.data.adsMedia."+obj.params.cid),updateDate:date}),communicationsArray.length>=1&&(result=communicationsArray)}return result}function setNewCustomerServicesStructure(a){var b=!1,c=[],d=(new Date).toISOString();return b=getCustomerServiceFromCookieAndUpdateOptions(),c.push({ID:options.serviceId,firstService:!0,siteID:options.siteId,createdDate:d,platform:options.platform,device:options.device,serviceReference:options.serviceReference}),c.length>=1&&(b=c),b}function setAdditionalDataStructure(a,b,c){a="undefined"!=typeof a?a:{};var d=!1,e=(new Date).toISOString(),f=[],g={};return g.serviceID="undefined"!=typeof c&&c?c:options.serviceId,g.serviceReference="undefined"!=typeof b&&b?b:options.serviceReference,g.createdAt=e,a.length>0&&(f=a),f.push(g),f.length>=1&&(d=f),d}function globalHookEventMapGigya(a){var b=$("#gigya-complete-registration-screen:visible"),c=$("#gigya-update-profile-screen:visible");if("beforeRequest"===a.eventName||"afterResponse"!==a.eventName||"socialize.notifyLogin"===a.methodName){if("accounts.register"===a.methodName||"accounts.setAccountInfo"===a.methodName&&("undefined"!=typeof b&&b&&b.length>0||"undefined"!=typeof c&&c&&c.length>0)){if(options.saveGigyaCommunications){var d=setNewCommunicationsStructure(a);!1!==d&&("undefined"!=typeof a.params.data&&a.params.data||(a.params.data={}),a.params.data.communications=d)}"undefined"!=typeof options.cleanFormFields&&Object.keys(options.cleanFormFields).length>0&&$.each(options.cleanFormFields,function(b,c){var d=b.split(".");if(1===d.length&&(a.params[b]=c),2===d.length&&("data"===d[0]||"profile"===d[0])){var e=d[0],f=d[1];a.params[e][f]=c}})}if(("accounts.register"===a.methodName||"accounts.setAccountInfo"===a.methodName&&"undefined"!=typeof b&&b&&b.length>0)&&options.saveGigyaCustomerServices){var e=setNewCustomerServicesStructure(a);!1!==e&&("undefined"!=typeof a.params.data&&a.params.data||(a.params.data={}),a.params.data.customerService=e)}if("accounts.register"===a.methodName||"accounts.setAccountInfo"===a.methodName&&"undefined"!=typeof b&&b&&b.length>0){if(isActivatedAdditionalData()&&!isActivateTestMode()){var f=setAdditionalDataStructure();!1!==f&&("undefined"!=typeof a.params.data&&a.params.data||(a.params.data={}),a.params.data.additionalDataFilled=f)}"undefined"!=typeof a.params.email&&a.params.email&&(a.params.email=a.params.email.toLowerCase())}"afterResponse"===a.eventName&&"socialize.notifyLogin"===a.methodName&&"undefined"!=typeof gigyaResponse&&gigyaResponse&&(socializeOnLogin(gigyaResponse),accountsOnLogin(gigyaResponse))}}function isActivateTestMode(){var a=getNfrylCookie(),b={};return a.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,c,d){b[c]=d}),!0===protectedFunctions.isVarNotNull(b)&&"undefined"!=typeof b.test_mode&&"1"===b.test_mode?!0:!1}function sendCustomerService(a,b){var c=!1;if("undefined"!=typeof a&&a){var d=getNfrylCookie();"undefined"!=typeof d&&d&&"/"!==d||(d=window.location.href),"undefined"!=typeof d&&d&&"/"===d[d.length-1]&&(d=d.substring(0,d.length-1));var e=getCookieVocUid("uid"),f=getCookieVocUid("uidSignature"),g=getCookieVocUid("signatureTimestamp"),h=getCookieVocUserInformation("regToken"),i="";"undefined"!=typeof b&&b&&(i=b);var j={UID:e,UIDSignature:f,signatureTimestamp:g,url:d,serviceId:a,customerServiceAdditionalInformation:i};"undefined"!=typeof h&&h&&(j.regToken=h);var k=options.authServerVocCore+"/vocuser/v1/user/customer-service/subscribe-by-id";try{c=$.ajax({url:k,type:"POST",data:j,async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(l){}}return c}function saveRegTokenOnRegister(a,b){var c=!1;return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&(options.screenName.formulario===b||options.screenName.completo===b)&&(c=updateFieldInCookieVocUser("regToken",a,!0)),c}function saveLastActionInVocUserCookie(a){var b=!1;return"undefined"!=typeof a&&a&&(b=updateFieldInCookieVocUser("lastAction",a,!0)),b}function saveExtensionFlowUrlInVocUserCookie(a){var b=!1;return"undefined"!=typeof a&&a&&(b=updateFieldInCookieVocUser("extensionFlowUrl",a,!0)),b}function createJWTToken(){return $.when(eventGetUserInfo).done(function(a){return!authenticated||existsCookieTokenJWT()?(eventTokenJWTCreated.resolve(),!1):void getJWT()}),!1}function checkLegalTerms(a){var b=(a.profile,a.data);return"undefined"!=typeof b&&b&&("undefined"==typeof b.legaltermsLastUpdate||b.legaltermsLastUpdate<options.legaltermsLastUpdate),this}function isFirstLogin(a){var b=!1,c=getGigyaResponse(a);if("undefined"!=typeof c&&c&&"undefined"!=typeof c.data&&c.data){var d=c.data;("undefined"==typeof d.initLoginComplete||!1===d.initLoginComplete)&&(b=!0)}else"undefined"!=typeof account&&account&&"undefined"!=typeof account.data&&account.data&&("undefined"==typeof account.data.initLoginComplete||!1===account.data.initLoginComplete)&&(b=!0);return b}function userCreatedWithinTenMinutes(a){var b=!1,c=getGigyaResponse(a);if("undefined"!=typeof c&&c&&"undefined"!=typeof c.createdTimestamp&&c.createdTimestamp){Date.now||(Date.now=function(){return(new Date).getTime()});var d=Math.floor(Date.now()/1e3),e=d-c.createdTimestamp/1e3;b=e>600?!1:!0}return b}function checkFirstLogin(a){return!0===isFirstLogin(a)&&fireEvent("user"+eventSeparator+"firstLogin",a),this}function setLastLogin(a){var b=getContext(),c={};c.lastLogin={url:options.backURL,timestamp:b.timestamp};var d=setAccountInfo({data:c,callback:a.callback});return d}function setCurrentService(a){var b=!1;return"undefined"!=typeof a&&a&&(service=a,options.service=a,b=saveLastServiceInCookieVocUser(a,!0)),b}function getCurrentService(){return service}function getAuthServer(){return options.authServer}function saveServiceAndServices(a,b){var c=!1;if("undefined"!=typeof a&&a||(a={}),"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d=!1;if("undefined"==typeof a[options.ssoGroup]||!1===a[options.ssoGroup])a[options.ssoGroup]=b,d=!0;else{for(var e=a[options.ssoGroup].split(","),f=!1,g=0;g<e.length;g++)b.toLowerCase()===e[g].toLowerCase()&&(f=!0);!1===f&&(a[ssoGroup]+=","+b,d=!0)}if(d){var h={};h.services=a;var i={data:h},j=setAccountInfo(i),k=function(a){return!0},l=function(a){return!0};j.then(k,l)}}return c}function checkService(a){var b=a.data,c=!1,d=getLastServiceFromVocUserInformationCookie(),e="undefined"!=typeof b&&b&&"undefined"!=typeof b.services&&b.services?b.services:{};if(c=saveServiceAndServices(e,d)){var f={e:a,account:account};eventCheckService.resolve(f)}return this}function checkNickname(a){var b=a.profile;a.data;if("undefined"!=typeof b&&b&&"undefined"!=typeof b.nickname&&b.nickname){var c=!1;if("undefined"!=typeof simpleStorageDependency&&simpleStorageDependency&&(c=simpleStorageDependency.get("verifyUniqueNicknameFlushed"),"undefined"==typeof c||!0!==c)){var d=options.authServer+"/verify_unique_nickname.html?UID="+a.UID+"&nickname="+encodeURIComponent(b.nickname)+"&callback=?";$.getJSON(d,function(b){simpleStorageDependency.set("verifyUniqueNicknameFlushed",!0,{TTL:3e5}),b.isValid||fireEvent("user"+eventSeparator+"duplicateNickname",a)})}}else fireEvent("user"+eventSeparator+"noNickname",a)}function safeEncodeUserSignature(a,b,c){var d=!1;if("undefined"!=typeof a&&"undefined"!=typeof b&&"undefined"!=typeof c){var e=encodeURIComponent(a),f=encodeURIComponent(b),g=encodeURIComponent(c);d="UID="+e+"&UIDSignature="+f+"&signatureTimestamp="+g}return d}function verifyUser(a){var b=$.ajax({url:options.authServer+"/api/v1/verifiedRegistration?callback=?",data:{UID:a.response.UID,UIDSignature:a.response.UIDSignature,signatureTimestamp:a.response.signatureTimestamp},type:"GET",dataType:"jsonp",success:function(b){b.success&&options.loginOnVerify&&notifyLoginUser(a)},error:function(a,b,c){log("verifyUser => ERROR xhr","error")}});return b}function notifyLoginUser(a){var b=$.ajax({url:options.authServer+"/api/notifylogin",data:{email:a.response.profile.email,UID:a.response.UID,UIDSignature:a.response.UIDSignature,signatureTimestamp:a.response.signatureTimestamp},type:"POST",dataType:"json",success:function(a){if(log("notifyLoginUser => Login notificado a Gigya","info"),"undefined"!=typeof options.extensionType&&options.extensionType&&"ecommerce"===options.extensionType){createSessionCookie(a);var b=getExtensionCustomReturnUrl(),c="undefined"!=typeof options.exitoRegistroEcommerce&&options.exitoRegistroEcommerce?options.exitoRegistroEcommerce:"",d=b.indexOf("#")>=0?"&":"#";redirectToUrl(b+d+c,1e3)}else if(isAppWebView());else userUtils.reload()},error:function(a,b,c){log("notifyLoginUser => ERROR xhr","error")}});return b}function isAppWebView(){var a=!1;return(navigator.userAgent.indexOf("VocDeviceApp")>-1||window.location.href.indexOf("device=app")>-1||window.location.href.indexOf("screenset=appwebview")>-1)&&(a=!0),a}function createSessionCookie(a){var b={},c="undefined"!=typeof a.data&&a.data?a.data:"";if(c&&(b=JSON.parse(c)),"undefined"!=typeof b&&Object.keys(b).length>0&&"undefined"!=typeof b.statusCode&&b.statusCode&&200===b.statusCode){var d="undefined"!=typeof b.cookieDomain&&b.cookieDomain?"."+b.cookieDomain:"."+userUtils.getMainDomain(),e=365;if("undefined"!=typeof b.cookieValue&&b.cookieValue&&"undefined"!=typeof b.cookieName&&b.cookieName){var f=b.cookieValue,g=b.cookieName,h={domain:d,path:"/",expires:e};createCookie(g,f,h,!0)}}}function getExtensionCustomReturnUrl(){var a=options.backURL;return"undefined"!=typeof options.extensionCustomReturnUrl&&options.extensionCustomReturnUrl&&(a=options.extensionCustomReturnUrl),a}function getCustomerService(a){var b={ID:null,createdDate:null,firstService:!1};if("undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data)if("undefined"!=typeof a.data.customerService&&a.data.customerService&&a.data.customerService.length){var c=a.data.customerService.length,d=0;do"undefined"!=typeof a.data.customerService[d].firstService&&a.data.customerService[d].firstService&&(b.ID=a.data.customerService[d].ID,b.createdDate=a.data.customerService[d].createdDate,b.firstService=a.data.customerService[d].firstService),d+=1;while(c>d&&!1===b.firstService)}else log("getCustomerService => Atencin, el usuario no tiene customerService.","warn");return b}function initializeCookieVocUid(a,b,c){var d=!1,e="",f=gigya.partnerSettings.ssoKey,g="",h="",i="",j="",k="",l="",m="",n="",o="",p="",q="";if("undefined"!=typeof account&&account){g=account.UID,h=account.UIDSignature,i=account.signatureTimestamp,"undefined"!=typeof account.data&&account.data&&"undefined"!=typeof account.data.registration&&account.data.registration&&"undefined"!=typeof account.data.registration.service&&account.data.registration.service&&(o=account.data.registration.service);var r=getCustomerService(account),s=r.createdDate?new Date(r.createdDate):"";if(r.ID&&s){var t=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,u=s.getDate()<10?"0"+s.getDate():s.getDate();p=r.ID,q=s.getFullYear()+"-"+t+"-"+u}}if("undefined"!=typeof user&&user&&(g=user.UID,h=user.UIDSignature,i=user.signatureTimestamp,j=user.age,k=user.zip,l=user.gender,m=user.firstName,n=user.lastName),"undefined"!=typeof account&&account&&"undefined"!=typeof user&&user){var v='{"uid":"'+g+'","uidSignature":"'+h+'","signatureTimestamp":"'+i+'","ssoApiKey":"'+f+'","age":"'+j+'","zip":"'+k+'","gender":"'+l+'","firstName":"'+userUtils.decodeHTMLEntities(m)+'","lastName":"'+userUtils.decodeHTMLEntities(n)+'","dataRegistrationService":"'+userUtils.decodeHTMLEntities(o)+'","customerService":"'+p+'","customerServiceDate":"'+q+'","env":"'+options.currentEnvironment+'"}';e=v.replace(";",".");var w=JSON.parse(e),x=getCookieVocUid();if("undefined"!=typeof x&&x){"undefined"!=typeof x.descProducto&&x.descProducto&&(x.descProducto=x.descProducto.replace("%",""));var y=c?$.extend({},x,w,!0):$.extend({},w,x,!0);e=JSON.stringify(y)}(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(e=encodeURIComponent(e));var z={domain:a,path:"/",expires:b};d=createCookie(UID_COOKIE_NAME,e,z,c),firedEventVocUserCookieVocUidUpdated=!0}return d}function createCookieVocUser(a,b,c,d){var e="",f=service;"undefined"!=typeof d.lastService&&(f=d.lastService);var g='{    "lastService": "'+f+'" }';e=g,(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(e=encodeURIComponent(g));var h={domain:a,path:"/",expires:b};createCookie(VOCUSER_COOKIE_NAME,e,h,c)}function decodeJsonCookieToObject(a){var b=!1,c="";if("undefined"!==a&&a&&a)try{c=JSON.parse(a.cookie),b=c}catch(d){try{a.cookie=decodeURIComponent(a.cookie),c=JSON.parse(a.cookie),b=c}catch(d){}}return b}function getLastServiceFromVocUserInformationCookie(){var a=!1;return a=getCookieVocUserInformation("lastService"),"undefined"!=typeof a&&a||(a=service),a}function getCookieVocUserInformation(a){var b=!1,c=getCookiePureJS(VOCUSER_COOKIE_NAME,!1),d="",e="";if("undefined"!=typeof c&&c){try{b=decodeURIComponent(c),d=decodeURIComponent(c)}catch(f){d=""}b="undefined"!=typeof d&&d&&""!==d?d:b;var g={cookie:b};e=decodeJsonCookieToObject(g)}return"undefined"==typeof e||"undefined"==typeof a?e:"undefined"!=typeof e[a]&&e[a]?e[a]:null}function getCookieVocUid(a){$.cookie.raw=!0;var b=$.cookie(UID_COOKIE_NAME),c="";if("undefined"!=typeof b&&b){(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(b=decodeURIComponent(b));var d={cookie:b};c=decodeJsonCookieToObject(d),!1===c&&(c=decodeJsonCookieToObject(d))}return"undefined"==typeof c||"undefined"==typeof a?c:c[a]}function saveLastServiceInCookieVocUser(a,b){var c=!1,d="";return d="undefined"!=typeof a&&a?a:service,c="undefined"==typeof b||!1===b?updateFieldInCookieVocUser("lastService",d,!options.userIsInFlow):updateFieldInCookieVocUser("lastService",d,b)}function updateFieldInCookieVocUser(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e={};e=getCookieVocUserInformation(),"undefined"!=typeof e&&e||(e={}),"undefined"==typeof b&&(b=""),e[a]=b;var f=JSON.stringify(e),g=userUtils.getMainDomain(),h=365;(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(f=encodeURIComponent(f));var i={domain:g,path:"/",expires:h};d=createCookie(VOCUSER_COOKIE_NAME,f,i,c)}return d}function deleteFieldInCookieVocuser(a){var b=!1;if("undefined"!=typeof a&&a){var c={};c=getCookieVocUserInformation(),"undefined"!=typeof c&&c||(c={}),c.hasOwnProperty(a)&&delete c[a];var d=JSON.stringify(c),e=userUtils.getMainDomain(),f=365;(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(d=encodeURIComponent(d));var g={domain:e,path:"/",expires:f};b=createCookie(VOCUSER_COOKIE_NAME,d,g,!0)}return b}function updateFieldInCookieVocUid(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e={};if(e=getCookieVocUid(),"undefined"!=typeof e&&e||(e={}),"undefined"==typeof b&&(b=""),"string"==typeof b&&(b=b.replace(";",".")),e[a]=b,""===b&&"dataServicesSsoGroup"===a&&delete e[a],"undefined"==typeof e||!e||"object"==typeof e&&Object.keys(e).length<=0)return;var f=JSON.stringify(e),g=userUtils.getMainDomain(),h=365;(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(f=encodeURIComponent(f));var i={domain:g,path:"/",expires:h};d=createCookie(UID_COOKIE_NAME,f,i,c)}return d}function updateReturnUrlInVocUserCookie(a){var b=!1;if("undefined"!=typeof a&&a){var c=!0;b=updateFieldInCookieVocUser("returnUrl",a,c)}return b}function updateReturnUrlTimeoutInVocUserCookie(a){var b=!1;if("undefined"!=typeof a&&a){var c=!0;b=updateFieldInCookieVocUser("returnUrlTimeout",a,c);
}return b}function getResendEmailCookie(){var a=$.cookie(RESEND_EMAIL_COOKIE_NAME),b="";if("undefined"!=typeof a&&a){(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(a=decodeURIComponent(a));var c={cookie:a};return b=decodeJsonCookieToObject(c),!1===b&&(b=decodeJsonCookieToObject(c)),b}}function hasToResendEmailCookieFound(){var a=!1,b=getResendEmailCookie();return"undefined"!=typeof b&&""!==b&&b.hasOwnProperty("userMail")&&""!==b.userMail&&b.hasOwnProperty("regToken")&&""!==b.regToken&&b.hasOwnProperty("sended")&&("false"===b.sended||b.sended===!1)&&(a=b),a}function hasToRemoveCookieResend(){var a=!1,b=getResendEmailCookie();return"undefined"!=typeof b&&""!==b&&b.hasOwnProperty("userMail")&&""!==b.userMail&&b.hasOwnProperty("regToken")&&""!==b.regToken&&b.hasOwnProperty("sended")&&("true"===b.sended||b.sended===!0)&&(a=!0),a}function removeResendMailVerficationCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(RESEND_EMAIL_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(RESEND_EMAIL_COOKIE_NAME,null,{domain:a,path:"/"})}function updateFieldInCookieResend(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e={};if(e=getResendEmailCookie(),"undefined"==typeof e||!e||""===e)return d;if("undefined"==typeof b&&(b=""),!e.hasOwnProperty(a)||""===e[a])return d;e[a]=b;var f=JSON.stringify(e),g="."+userUtils.getMainDomain(),h=1;(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(f=encodeURIComponent(f));var i={domain:g,path:"/",expires:h};createCookie(RESEND_EMAIL_COOKIE_NAME,f,i,c)}return d}function updateSendedInResendCookie(){var a=!1;return a=updateFieldInCookieResend("sended","true",!0)}function userIsInFlowScreen(){var a=!1;for(var b in options.page)if(options.page.hasOwnProperty(b)){var c=options.page[b];if(-1!==window.location.pathname.indexOf(c))return a=!0}return a}function userIsInFlowScreenSession(){var a=!1;for(var b in options.pageLogged)if(options.pageLogged.hasOwnProperty(b)){var c=options.pageLogged[b];if(-1!==window.location.pathname.indexOf(c))return a=!0}return a}function getCurrentScreenName(){var a=!1,b="",c=!1;return b=options.page.loginPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.login),b=options.page.loginAdditionalDataPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.additionalData),b=options.page.registerPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.formulario),b=options.page.registerConfirmedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.confirmacion),b=options.page.resendMailPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.reenviar),b=options.page.mailSendedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.reenviado),b=options.page.validateMailPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.validacion),b=options.page.recoveryPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.recuperar),b=options.page.sendedMailPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.enviado),b=options.page.changePasswdPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.resetear),b=options.page.passwdchangedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.actualizado),b=options.page.setPasswdPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.setear),b=options.page.passwdSetedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.seteada),b=options.page.profilePage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.perfil),b=options.page.interestPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.intereses),b=options.page.changePasswdProfilePage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.cambiar),b=options.page.profileUpdatedPage,c=new RegExp(b+"$").test(window.location.pathname),!0===c&&(a=options.screenName.actualizado),a}function getJWTToken(a){var b=userUtils.getMainDomain(),c="https://user-auth."+b+"/auth/token";if("pro"!==options.currentEnvironment&&(c="https://pre-user-auth."+b+"/auth/token"),"undefined"!=typeof a.UID&&a.UID){var d={uid:a.UID,fields:["firstName","lastName","nickname","email","UID","photoURL"]};return $.ajax({url:c,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(d),xhrFields:{withCredentials:!0},success:function(a){eventTokenJWTCreated.resolve()},fail:function(a){eventTokenJWTCreated.resolve()}})}}function createCookies(a){log("createCookies => Creando cookies","info");var b="."+userUtils.getMainDomain();"undefined"!=typeof a&&a&&"undefined"==typeof a.bio&&(a.bio="");var c=365;$.cookie.raw=!0,$.cookie(QUEID_COOKIE_NAME,"1",{path:"/",expires:c}),!0===options.hasPaywall&&createCookieEvolok(),initializeCookieVocUid(b,c,!0),fireEvent("user"+eventSeparator+"createCookie")}function createCookieAutoNewsletters(a){var b="."+userUtils.getMainDomain(),c=1,d=encodeURIComponent(a),e={domain:b,path:"/",expires:c};createCookie(AUTO_NEWSLETTERS_COOKIE_NAME,d,e,!0)}function getCookieAutoNewsletters(){var a=!1,b=$.cookie(AUTO_NEWSLETTERS_COOKIE_NAME);if("undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){if(log("Error en getCookieAutoNewsletters() al decodificar la cookie: "+c,"error"),b=$.cookie(AUTO_NEWSLETTERS_COOKIE_NAME),"undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){log("Error en getCookieAutoNewsletters() al decodificar la cookie: "+c,"error")}}if(b)try{a=decodeURIComponent(b)}catch(c){log("Error en getCookieAutoNewsletters() al decodificar la cookie: "+c,"error")}else a=b;return a}function removeAutoNewslettersCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(AUTO_NEWSLETTERS_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(AUTO_NEWSLETTERS_COOKIE_NAME,null,{domain:a,path:"/"})}function createCookieVocUserTemporal(a){var b="."+userUtils.getMainDomain(),c=1,d=encodeURIComponent(a),e={domain:b,path:"/",expires:c};createCookie(VOCUSER_THANKYOU_COOKIE_NAME,d,e,!0)}function getCookieVocUserTemporal(){var a=!1,b=$.cookie(VOCUSER_THANKYOU_COOKIE_NAME);if("undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){if(log("Error en getCookieVocUserTemporal() al decodificar la cookie: "+c,"error"),b=$.cookie(VOCUSER_THANKYOU_COOKIE_NAME),"undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){log("Error en getCookieVocUserTemporal() al decodificar la cookie: "+c,"error")}}if(b)try{a=decodeURIComponent(b)}catch(c){log("Error en getCookieVocUserTemporal() al decodificar la cookie: "+c,"error")}else a=b;return a}function removeCookieVocUserTemporal(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(VOCUSER_THANKYOU_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(VOCUSER_THANKYOU_COOKIE_NAME,null,{domain:a,path:"/"})}function getNfrylCookie(){var a=!1,b=$.cookie(NFRYL_COOKIE_NAME);if("undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){if(log("Error en getNfrylCookie() al decodificar la cookie: "+c,"error"),b=$.cookie(NFRYL_COOKIE_NAME),"undefined"!=typeof b&&b)try{b=decodeURIComponent(b)}catch(c){log("Error en getNfrylCookie() al decodificar la cookie: "+c,"error")}}"undefined"!=typeof b&&b||(b=window.location.href),"undefined"!=typeof b&&b&&"/"===b&&(b="https://www."+getDomainTld(window.location.href));try{a=decodeURIComponent(b)}catch(c){log("Error en getNfrylCookie() al decodificar la cookie: "+c,"error")}return a}function cookieNewPasswordExists(){var a=!1;return"undefined"!=typeof $.cookie(VOCUSER_NEW_PASSWORD_NAME)&&null!==$.cookie(VOCUSER_NEW_PASSWORD_NAME)&&(a=!0),a}function removeNfrylCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(NFRYL_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(NFRYL_COOKIE_NAME,null,{domain:a,path:"/"})}function removeNewslettersCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(NEWSLETTERS_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(NEWSLETTERS_COOKIE_NAME,null,{domain:a,path:"/"})}function removeNewPasswordCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(VOCUSER_NEW_PASSWORD_NAME,{domain:a,path:"/"}):$.cookie(VOCUSER_NEW_PASSWORD_NAME,null,{domain:a,path:"/"})}function removeVocUserInformationCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(VOCUSER_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(VOCUSER_COOKIE_NAME,null,{domain:a,path:"/"})}function createCookieForNfryl(a){var b="."+userUtils.getMainDomain(),c=1,d=encodeURIComponent(a),e={domain:b,path:"/",expires:c};"https:"===window.location.protocol&&(e.secure="secure"),createCookie(NFRYL_COOKIE_NAME,d,e,!0)}function createCookieForNewPassword(){var a="."+userUtils.getMainDomain(),b=1,c=encodeURIComponent(!0),d={domain:a,path:"/",expires:b};createCookie(VOCUSER_NEW_PASSWORD_NAME,c,d,!0)}function createCookieEvolok(){var a="."+userUtils.getMainDomain(),b=360,c={domain:a,path:"/",expires:b},d=EVK_COOKIE_NAME+gigya.partnerSettings.ssoKey,e=!1,f=getUserInfoFromAccountOrUser(),g="";if(null===$.cookie(d)||"undefined"==typeof $.cookie(d))g='"'+f.UID+"|"+f.UIDSignature+"|"+f.signatureTimestamp+'"',createCookie(d,g,c,e);else{g=$.cookie(d);var h={path:"/"};if(deleteCookie(d,h),e=!0,"undefined"!=typeof g&&g){"%"===g[0]&&(g=decodeURIComponent(g),sendDataToNewRelic({eventNameFired:"evkFixed"})),"%"===g[0]&&(g=decodeURIComponent(g),sendDataToNewRelic({eventNameFired:"evkFixed"})),'"'!==g[0]&&(g='"'+g+'"',sendDataToNewRelic({eventNameFired:"evkFixed"}));var i=g.replace(/"/g,"");"|"===i[0]&&(g='"'+f.UID+"|"+f.UIDSignature+"|"+f.signatureTimestamp+'"',sendDataToNewRelic({eventNameFired:"evkFixed"}))}createCookie(d,g,c,e)}}function createCookieTokenJWT(a){var b="."+userUtils.getMainDomain(),c=360,d={domain:b,path:"/",expires:c},e=a;createCookie(JWT_COOKIE,e,d,!1),eventTokenJWTCreated.resolve()}function existsCookieTokenJWT(){var a=$.cookie(JWT_COOKIE);return"undefined"==typeof a||null===a?!1:!0}function processesOutsideUserFlows(){if(!1===options.currentRoute){createCookieForNfryl(window.location.href),updateLastestBackUrl(getNfrylCookie());var a=protectedFunctions.getCookieVocUserInformation("customerService");(""!==a||"undefined"!=typeof a)&&protectedFunctions.updateFieldInCookieVocUser("customerService","",!0),deleteCookie("registro",{path:"/"}),updateFieldInCookieVocUid("dataServicesSsoGroup","",!1)}}function getFromQualifioCookie(){var a=!1,b=$.cookie(FROM_QUALIFIO_COOKIE_NAME);if("undefined"!=typeof b&&b)try{a=decodeURIComponent(b)}catch(c){log("Error en getNfrylCookie() al decodificar la cookie: "+c,"error"),b=$.cookie(FROM_QUALIFIO_COOKIE_NAME),"undefined"!=typeof b&&b&&(a=decodeURIComponent(b))}return"undefined"!=typeof a&&a||(a=window.location.href),decodeURIComponent(a)}function cookieFromQualifioNoExists(){var a=!1;return("undefined"==typeof $.cookie(FROM_QUALIFIO_COOKIE_NAME)||null===$.cookie(FROM_QUALIFIO_COOKIE_NAME))&&(a=!0),a}function setOptionIfRedirectedFromQualifio(){cookieFromQualifioNoExists()||"true"!==getFromQualifioCookie()||(options.redirectedFromQualifio=!0)}function createCookie(a,b,c,d){var e=!1;return!0===d?($.cookie(a,b,c),e=!0):(null===$.cookie(a)||"undefined"==typeof $.cookie(a))&&($.cookie(a,b,c),e=!0),e}function deleteCookie(a,b){log("deleteCookie => Eliminando cookie","info"),"undefined"!=typeof $.removeCookie?$.removeCookie(a,b):$.cookie(a,null,b)}function removeCookies(){log("removeCookies => Eliminando cookies","info");var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?($.removeCookie(QUEID_COOKIE_NAME,{path:"/"}),$.removeCookie(UID_COOKIE_NAME,{domain:a,path:"/"}),$.removeCookie(EVK_COOKIE_NAME+gigya.partnerSettings.ssoKey,{path:"/"}),$.removeCookie(EVK_COOKIE_NAME+gigya.partnerSettings.ssoKey,{domain:a,path:"/"}),$.removeCookie(JWT_COOKIE,{domain:a,path:"/"})):($.cookie(QUEID_COOKIE_NAME,null,{path:"/"}),$.cookie(UID_COOKIE_NAME,null,{domain:a,path:"/"}),$.cookie(EVK_COOKIE_NAME+gigya.partnerSettings.ssoKey,null,{path:"/"}),$.cookie(EVK_COOKIE_NAME+gigya.partnerSettings.ssoKey,null,{domain:a,path:"/"}),$.cookie(JWT_COOKIE,{domain:a,path:"/"})),removeEcommerceCookies(),fireEvent("user"+eventSeparator+"deleteCookie"),cookiesRemoved=!0}function removeFromQualifioCookie(){var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?$.removeCookie(FROM_QUALIFIO_COOKIE_NAME,{domain:a,path:"/"}):$.cookie(FROM_QUALIFIO_COOKIE_NAME,null,{domain:a,path:"/"})}function clearFieldReturnUrlInCookieVocUser(){var a=!1,b=!0;return a=updateFieldInCookieVocUser("returnUrl","",b)}function fireEvent(a,b){if("string"!==a&&a){var c=getEventNamespaceForBody(),d=a.replace(":","."),e=c+d,f=$.Event(e);f.gigya_event=b,$("body").trigger(f),log("fireEvent => Evento disparado:"+e,"info"),log(b,"info"),"undefined"!=typeof voontoApp&&voontoApp&&(c=getEventNamespaceForVoonto(),d=a.replace(".",":"),e=c+d,f=$.Event(e),f.gigya_event=b,$("body").trigger(f),log("fireEvent => Evento disparado:"+e,"info"),log(b,"info"))}else log("fireEvent => Evento NO disparado, no se ha especificado el nombre del evento","warn")}function getUserInfoActionsUserNotLogged(a){"undefined"!=typeof a&&a&&"undefined"!=typeof a.errorCode&&a.errorCode&&(compareGigyaErrorCode(a.errorCode,"500026")||compareGigyaErrorCode(a.errorCode,"400106")||compareGigyaErrorCode(a.errorCode,"403048"))?log("getUserInfo => Usuario no autenticado. BUG GIGYA. ERROR de red o APIRate Limit: ( "+a.errorCode+"): "+a.errorMessage,"error"):(removeCookies(),removeSimpleStorage(!1),options.userIsInFlow||clearFieldReturnUrlInCookieVocUser())}function getUserInfoOnDataReady(a){log("getUserInfo => Usuario autenticado","info"),user=a.user,createCookies(user),fireEvent("user"+eventSeparator+"onDataReady",a)}function getUserInfo(a){a.includeAllIdentities=a.includeAllIdentities?a.includeAllIdentities:!0,a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){if(authenticated=!1,authenticated=a.user.UID&&""!==a.user.UID)getUserInfoOnDataReady(a);else{log("getUserInfo => Usuario no autenticado. ERROR ( "+a.errorCode+"): "+a.errorMessage,"info"),executeNotifyLoginByConditions(),executeActionsUserNotLoggedByCookieEnvironment(a),firedEventSocializeOnDataNoReady=!0;var b="string"===a.errorMessage&&a.errorMessage?"errorMessage: "+a.errorMessage:"";b="undefined"!=typeof a.errorCode?b+" ; errorCode: "+a.errorCode:b,b="undefined"!=typeof a.errorDetails?b+" ; errorDetails: "+a.errorDetails:b,sendDataToNewRelic({eventNameFired:"socializeOnDataNoReady",firedEventSocializeOnDataNoReady:firedEventSocializeOnDataNoReady,errorMessage:b,callId:""}),user=null,account=null,fireEvent("user"+eventSeparator+"onDataNoReady",a)}setEmailVerifiedMessage(authenticated),registerUI(),eventGetUserInfo.resolve(a)}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.socialize.getUserInfo(e),!1}function checkFirstComment(a){if(isFirstComment=!0,"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.customerService&&a.data.customerService.length>0)for(var b=0,c=a.data.customerService.length;c>b;b++)if("110"===a.data.customerService[b].ID){isFirstComment=!1;break}}function checkAdditionalDataFilled(a,b,c){var d=!1,e=0,f=0;if("undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.additionalDataFilled&&a.data.additionalDataFilled&&Object.keys(a.data.additionalDataFilled).length>0){for(e=0,f=a.data.additionalDataFilled.length;f>e;e++)if(a.data.additionalDataFilled[e].serviceReference===b&&a.data.additionalDataFilled[e].serviceID===c){d=!0;break}}else if("undefined"!=typeof account&&account&&"undefined"!=typeof account.data&&account.data&&"undefined"!=typeof account.data.additionalDataFilled&&account.data.additionalDataFilled&&Object.keys(account.data.additionalDataFilled).length>0)for(e=0,f=account.data.additionalDataFilled.length;f>e;e++)if(account.data.additionalDataFilled[e].serviceReference===b&&account.data.additionalDataFilled[e].serviceID===c){d=!0;break}return d}function getAccountInfo(a){return new promiseNamespace(function(b,c){a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext(),a.extraProfileFields=a.extraProfileFields?a.extraProfileFields:"nickname, firstName, lastName, birthDay, birthMonth, birthYear, address, zip, city, country, gender, work, professionalHeadline";var d={callback:a.callback},e={callback:function(a){if(authenticated=!1,"undefined"!=typeof a&&a&&"undefined"!=typeof a.UID&&a.UID&&(authenticated=!0),authenticated){log("getAccountInfo => Usuario autenticado","info"),account=a,checkFirstComment(a),!0===isFirstLogin(a)&&removeSimpleStorage();var c="."+userUtils.getMainDomain(),d=365;initializeCookieVocUid(c,d,!0),!0===options.hasPaywall&&!0===options.hasEcommerce&&checkPaywallId(a,sincronizarLlamadasEcommercePaywall),!0===options.hasPaywall&&!1===options.hasEcommerce&&checkPaywallId(a),checkService(a),checkLegalTerms(a),checkNickname(a),checkFirstLogin(a),fireEvent("accounts"+eventSeparator+"onDataReady",a);var e=a,f={responseAccountsOnDataReady:e};return voontoPromised("accountsondataready",f,voontoApp),eventGetAccountInfo.resolve(a),b(a)}log("getAccountInfo => Usuario no autenticado. ERROR ( "+a.errorCode+"): "+a.errorMessage,"info"),user=null,account=null,fireEvent("accounts"+eventSeparator+"onDataNoReady",a),compareGigyaErrorCode(a.errorCode,0)&&log("getAccountInfo => Usuario no autenticado. BUG GIGYA. ERROR ( "+a.errorCode+"): "+a.errorMessage,"error"),firedEventAccountsOnDataNoReady=!0;var g="string"===a.errorMessage&&a.errorMessage?"errorMessage: "+a.errorMessage:"";return g="undefined"!=typeof a.errorCode?g+" ; errorCode: "+a.errorCode:g,g="undefined"!=typeof a.errorDetails?g+" ; errorDetails: "+a.errorDetails:g,sendDataToNewRelic({eventNameFired:"accountsOnDataNoReady",firedEventAccountsOnDataNoReady:firedEventAccountsOnDataNoReady,errorMessage:g,callId:""}),eventGetAccountInfo.resolve(a),b(a)}},f={callback:function(a){e.callback(a),safeInvoke(d.callback,a)}},g=$.extend(a,f);return gigya.accounts.getAccountInfo(g),!1})}function setAccountInfo(a){return new promiseNamespace(function(b,c){a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var d={callback:a.callback},e={callback:function(a){var d="string"!==a.callId?a.callId:"",e={e:a,account:account};if(compareGigyaErrorCode(a.errorCode,0))return log("setAccountInfo => Datos de cuenta de usuario enviados","info"),sendDataToNewRelic({eventNameFired:"setAccountInfoSuccess",callId:d}),eventSetAccountInfoCallback.resolve(e),fireEvent("accounts"+eventSeparator+"setAccountInfo",e),b(a);log("setAccountInfo => ERROR ( "+a.errorCode+"): "+a.errorMessage,"error");var f="";if("undefined"!=typeof a.validationErrors&&a.validationErrors&&"undefined"!=typeof a.validationErrors[0]&&a.validationErrors[0]&&"undefined"!=typeof a.validationErrors[0].fieldName&&a.validationErrors[0].fieldName&&"undefined"!=typeof a.validationErrors[0].message&&a.validationErrors[0].message){var g=a.validationErrors[0].fieldName;f="setAccountInfo => Error al guardar campo: "+g+"; "+a.validationErrors[0].message;var h="";-1!==g.indexOf("data")?(g=g.replace("data.",""),h=a.requestParams.data[g]):h=a.requestParams[g],f=f+"; Intentado escribir el valor: "+h,log(f,"error")}var i="string"===a.errorMessage&&a.errorMessage?"errorMessage: "+a.errorMessage:"";i="undefined"!=typeof a.errorCode?i+" ; errorCode: "+a.errorCode:i,i="undefined"!=typeof a.errorDetails?i+" ; errorDetails: "+a.errorDetails:i;var j="string"!==a.errorMessage?a.errorMessage:0;return sendDataToNewRelic({eventNameFired:"setAccountInfoError",errorMessage:i,errorCode:j,callId:d,additionalInformation:f}),eventSetAccountInfoCallback.resolve(e),fireEvent("accounts"+eventSeparator+"setAccountInfo",e),c(a)}},f={callback:function(a){e.callback(a),safeInvoke(d.callback,a)}},g=$.extend(a,f);gigya.accounts.setAccountInfo(g)})}function executeNotifyLoginByConditions(){if("http:"!==window.location.protocol&&(!options.userIsInFlow||options.userIsInFLowScreenSession)){var a="undefined"!=typeof options.enableGigyaITP?options.enableGigyaITP:!1,b=!0===a?5:2,c=getCookieVocUserInformation("notifyLoginCount");if("undefined"!=typeof c&&c&&c>=b)return void getUserInfoActionsUserNotLogged();var d=getCookieVocUid("env");if(d===options.currentEnvironment||"des"===d&&"pre"===options.currentEnvironment||"pre"===d&&"des"===options.currentEnvironment){handleNotifyLoginResponse()}}}function executeActionsUserNotLoggedByCookieEnvironment(a){var b=getCookieVocUid("env");if(b===options.currentEnvironment||"des"===b&&"pre"===options.currentEnvironment||"pre"===b&&"des"===options.currentEnvironment||"undefined"==typeof b||!b){var c=getCookieVocUid("uid");"undefined"!=typeof c&&c||getUserInfoActionsUserNotLogged(a)}}function addLoginReloadCountToVocUserInformationCookie(a){var b="undefined"!=typeof a&&a?a:1,c=getCookieVocUserInformation("loginReloadCount");return c="undefined"!=typeof c&&c?c+b:1,updateFieldInCookieVocUser("loginReloadCount",c,!0),c}function addNotifyLoginCountToVocUserInformationCookie(a){var b="undefined"!=typeof a&&a?a:1,c=getCookieVocUserInformation("notifyLoginCount");return c="undefined"!=typeof c&&c?c+b:1,updateFieldInCookieVocUser("notifyLoginCount",c,!0),c}function updateNotifyLoginFiredFlagToVocUserInformationCookie(a){return updateFieldInCookieVocUser("firedEventNotifyLogin",a,!0)}function handleNotifyLoginResponse(){var a={};if(a.siteUID=getCookieVocUid("uid"),a.UIDSig=getCookieVocUid("uidSignature"),a.UIDTimestamp=getCookieVocUid("signatureTimestamp"),"undefined"==typeof a.siteUID||!a.siteUID||"undefined"==typeof a.UIDSig||!a.UIDSig||"undefined"==typeof a.UIDTimestamp||!a.UIDTimestamp)return void updateNotifyLoginFiredFlagToVocUserInformationCookie(!1);var b=notifyLoginITP(a),c=function(a){function b(a){var b=!1;compareGigyaErrorCode(a.errorCode,0)&&(b=!0)}gigyaResponse=a,options.reloadOnLogin=!1,updateNotifyLoginFiredFlagToVocUserInformationCookie(!0),addNotifyLoginCountToVocUserInformationCookie(1),gigya.socialize.refreshUI({callback:b})},d=function(a){getUserInfoActionsUserNotLogged(a),updateNotifyLoginFiredFlagToVocUserInformationCookie(!1),addNotifyLoginCountToVocUserInformationCookie(1)};return b.then(c,d),b}function notifyLoginITP(a){return new promiseNamespace(function(b,c){return a.UID="undefined"!=typeof a.siteUID&&a.siteUID?a.siteUID:"",a.UIDSignature="undefined"!=typeof a.UIDSig&&a.UIDSig?a.UIDSig:"",a.signatureTimestamp="undefined"!=typeof a.UIDTimestamp&&a.UIDTimestamp?a.UIDTimestamp:"","undefined"!=typeof a.UID&&a.UID&&"undefined"!=typeof a.UIDSignature&&a.UIDSignature&&"undefined"!=typeof a.signatureTimestamp&&a.signatureTimestamp?($.ajax({url:options.authServer+"/api/notifyloginitp",data:{email:a.email,UID:a.UID,UIDSignature:a.UIDSignature,signatureTimestamp:a.signatureTimestamp},type:"POST",async:!0,dataType:"json",xhrFields:{withCredentials:!0},success:function(a){return log("notifyLogin => Usuario autenticado","info"),sendDataToNewRelic({eventNameFired:"socializeNotifyLoginSuccess",errorMessage:""}),b(a)},error:function(a,b,d){return log("notifyLogin => Usuario no autenticado. ERROR ( "),user=null,account=null,sendDataToNewRelic({eventNameFired:"socializeNotifyLoginError",errorMessage:""}),c(a)}}),void sendDataToNewRelic({eventNameFired:"socializeNotifyLogin"})):c()})}function notifyLogin(a){return new promiseNamespace(function(b,c){return a.cid="undefined"!=typeof a.cid&&a.cid?a.cid:options.cid,a.context="undefined"!=typeof a.context&&a.context?a.context:getContext(),a.siteUID="undefined"!=typeof a.siteUID&&a.siteUID?a.siteUID:"",a.UIDSig="undefined"!=typeof a.UIDSig&&a.UIDSig?a.UIDSig:"",a.UIDTimestamp="undefined"!=typeof a.UIDTimestamp&&a.UIDTimestamp?a.UIDTimestamp:"","undefined"!=typeof a.siteUID&&a.siteUID&&"undefined"!=typeof a.UIDSig&&a.UIDSig&&"undefined"!=typeof a.UIDTimestamp&&a.UIDTimestamp||"undefined"!=typeof a.providerSessions?(a.callback=function(a){var d=!1,e="undefined"!=typeof a.callId&&a.callId?a.callId:"",f="string"===a.errorMessage&&a.errorMessage?"errorMessage: "+a.errorMessage:"";return f="undefined"!=typeof a.errorCode?f+" ; errorCode: "+a.errorCode:f,f="undefined"!=typeof a.errorDetails?f+" ; errorDetails: "+a.errorDetails:f,compareGigyaErrorCode(a.errorCode,0)?"undefined"!=typeof a&&a&&"undefined"!=typeof a.UID&&a.UID&&(authenticated=!0,d=!0):d=!1,d?(log("notifyLogin => Usuario autenticado","info"),sendDataToNewRelic({eventNameFired:"socializeNotifyLoginSuccess",errorMessage:f,callId:e}),b(a)):(log("notifyLogin => Usuario no autenticado. ERROR ( "+a.errorCode+"): "+a.errorMessage,"info"),user=null,account=null,compareGigyaErrorCode(a.errorCode,0)&&log("notifyLogin => Usuario no autenticado. BUG GIGYA. ERROR ( "+a.errorCode+"): "+a.errorMessage,"error"),sendDataToNewRelic({eventNameFired:"socializeNotifyLoginError",errorMessage:f,callId:e}),c(a))},gigya.socialize.notifyLogin(a),void sendDataToNewRelic({eventNameFired:"socializeNotifyLogin"})):c()})}function notifySocialLogin(a){return new promiseNamespace(function(b,c){return a.UID="undefined"!=typeof a.siteUID&&a.siteUID?a.siteUID:"",a.UIDSignature="undefined"!=typeof a.UIDSig&&a.UIDSig?a.UIDSig:"",a.signatureTimestamp="undefined"!=typeof a.UIDTimestamp&&a.UIDTimestamp?a.UIDTimestamp:"","undefined"!=typeof a.siteUID&&a.siteUID&&"undefined"!=typeof a.UIDSig&&a.UIDSig&&"undefined"!=typeof a.UIDTimestamp&&a.UIDTimestamp||"undefined"!=typeof a.providerSessions?($.ajax({url:options.authServer+"/api/notifysociallogin",data:{providerSessions:a.providerSessions},type:"POST",async:!0,dataType:"json",xhrFields:{withCredentials:!0},success:function(a){return 200===a.statusCode?b(a):c(a)},error:function(a,b,d){return log("notifyLogin => ERROR ( "),user=null,account=null,sendDataToNewRelic({eventNameFired:"socializeNotifySocialLoginError",errorMessage:""}),c(a)}}),void sendDataToNewRelic({eventNameFired:"socializeNotifySocialLogin"})):c()})}function logoutWithoutActions(a){a=a?a:{},a.forceProvidersLogout=a.forceProvidersLogout?a.forceProvidersLogout:options.forceProvidersLogout,a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext(),options.reloadOnLogout="undefined"!=typeof a.reloadOnLogout?a.reloadOnLogout:options.reloadOnLogout,userClickedLogout=!0;var b={callback:a.callback},c={callback:function(a){log("logout => logout correcto","info"),authenticated=!1,user=null,registerUI()}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return sendDataToNewRelic({eventNameFired:"logout",firedEventLogout:!0,callId:"",additionalInformation:"logoutWithoutActions"}),gigya.accounts.logout(e),!1}function logout(a){a=a?a:{},a.forceProvidersLogout=a.forceProvidersLogout?a.forceProvidersLogout:options.forceProvidersLogout,a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext(),options.reloadOnLogout="undefined"!=typeof a.reloadOnLogout?a.reloadOnLogout:options.reloadOnLogout,userClickedLogout=!0;var b={callback:a.callback},c={callback:function(a){log("logout => logout correcto","info"),authenticated=!1,user=null,registerUI()}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return removeCookies(),sendDataToNewRelic({eventNameFired:"logout",firedEventLogout:!0,callId:""}),removeNfrylCookie(),removeNewslettersCookie(),removeVocUserInformationCookie(),removeSimpleStorage(),removeResendMailVerficationCookie(),removeFromQualifioCookie(),gigya.accounts.logout(e),!1}function resetPassword(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("resetPassword => reset password correcto","info"),authenticated=!1,user=null,registerUI()}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return cookieNewPasswordExists()||(removeCookies(),removeSimpleStorage(!1),clearFieldReturnUrlInCookieVocUser()),gigya.accounts.resetPassword(e),!1}function finalizeRegistration(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("finalizeRegistration => correcto","info");var b="undefined"==typeof options.extensionType||"ecommerce"!==options.extensionType&&"upgrade"!==options.extensionType?protectedFunctions.getNfrylCookie():protectedFunctions.getExtensionCustomReturnUrl();updateLastestBackUrl(b),redirectOnCallVocUserService(options.backURL,0)}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.finalizeRegistration(e),!1}function switchScreen(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("accounts.switchScreen =>  Cambio Screen correcto","info")}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.switchScreen(e),!1}function hideScreenSet(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("accounts.hideScreenSet =>  Ocultar Screen correcto","info")}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.hideScreenSet(e),!1}function resendVerificationCode(a){a=a?a:{},a.forceProvidersLogout=a.forceProvidersLogout?a.forceProvidersLogout:options.forceProvidersLogout,a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("accounts.resendVerificationCode => resendVerificationCode correcto","info")}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.resendVerificationCode(e),!1}function vocuserLogin(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){log("accounts.LinkingLogin => LinkingLogin correcto","info")}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.login(e),!1}function getJWT(a){a=a?a:{},a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext(),a.fields="firstName,lastName,nickname,email,UID,photoURL";var b={callback:a.callback},c={callback:function(a){"undefined"!=typeof a&&"undefined"!=typeof a.id_token&&a.id_token.length>0&&createCookieTokenJWT(a.id_token),log("accounts.getJWT => Obtenido token de autenticacin correctamente","info")}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.getJWT(e),!1}function removeSimpleStorage(a){var b="undefined"==typeof a?!0:a,c=account;"undefined"!=typeof c&&c||(c=user),"undefined"!=typeof simpleStorageDependency&&simpleStorageDependency&&("undefined"!=typeof c&&c&&"undefined"!=typeof c.UID&&c.UID&&(simpleStorageDependency.set("products."+c.UID,""),simpleStorageDependency.set("trials."+c.UID,""),simpleStorageDependency.deleteKey("products."+c.UID),simpleStorageDependency.deleteKey("trials."+c.UID)),simpleStorageDependency.set("busSynchronizeFlushed",""),simpleStorageDependency.set("busSynchronizeFirstCall",""),simpleStorageDependency.set("listRegisteredFlushed",""),simpleStorageDependency.set("verifyUniqueNicknameFlushed",""),simpleStorageDependency.set("user.regToken",""),simpleStorageDependency.deleteKey("busSynchronizeFlushed"),simpleStorageDependency.deleteKey("busSynchronizeFirstCall",""),simpleStorageDependency.deleteKey("listRegisteredFlushed"),simpleStorageDependency.deleteKey("verifyUniqueNicknameFlushed"),simpleStorageDependency.deleteKey("user.regToken"),
b&&(simpleStorageDependency.set("user.email",""),simpleStorageDependency.set("profile.loginID",""),simpleStorageDependency.deleteKey("user.email"),simpleStorageDependency.deleteKey("profile.loginID")))}function socialLogin(a){log("socialLogin => ("+a.provider+") llamado ...","info"),a.provider=a.provider?a.provider:"no provider",a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={callback:a.callback},c={callback:function(a){setTimeout(function(){for(var b=0;b<flows.length;b++)safeInvoke(flows[b].screenSetHandlers.onSocialLoginHandler,a)},250)}},d={callback:function(a){c.callback(a),safeInvoke(b.callback,a)}},e=$.extend(a,d);return gigya.accounts.socialLogin(e),!1}function screenSetIsBanned(a){var b=!1;if("undefined"!=typeof a&&a&&"undefined"!==options.bannedScreenSets&&options.bannedScreenSets&&options.bannedScreenSets.length){var c=options.bannedScreenSets.length,d=0;do a===options.bannedScreenSets[d]&&(b=!0),d+=1;while(c>d&&!1===b)}return b}function onScreenSubmitScrollToFirstError(){var a=$(".gigya-input-submit");a.click(function(){setTimeout(function(){var a=$('[class*="gigya-error-code"]:first');if("undefined"!=typeof a&&a&&a.length){var b=0,c=a.offset().top,d=$("#header"),e=0;"undefined"!=typeof d.offset&&d.offset()&&"undefined"!=typeof d.offset().top&&(e=d.offset().top),b=c-e-1;var f=$('[class*="gigya-error-code"]:first').prevAll("input");if(("undefined"==typeof f||!f||f.length<=0)&&(f=$('[class*="gigya-error-code"]:first').prevAll().find("input")),"undefined"!=typeof f&&f&&f.length){var g=f.offset().top;b=g-e-1}$("html, body").animate({scrollTop:b},200);var h=$("form:visible input[type=submit]");"undefined"!=typeof h&&h&&h.length&&h.val("Corrige los errores")}},100)})}function setButtonMessage(a,b,c,d){a="undefined"!=typeof a?a:!1,b="undefined"!=typeof b?b:!1,c="undefined"!=typeof c?c:!0,d="undefined"!=typeof d?d:!1;var e="";if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var f=protectedFunctions.findFieldInScreen(a,b);f&&(e=f.parents("form:visible").find("input[type=submit]"))}else a||b||(e=$("form:visible input[type=submit]"));if("undefined"!=typeof e&&e&&""!==e)if(c)e.val("Corrige los errores");else if(!c){var g="Cambiar Contrase"+userUtils.UnicodeToChar("n")+"a";d&&(g=d),e.val(g)}}function hideError(a,b){$(a).removeClass("gigya-error"),$(a).removeClass("gigya-error-msg gigya-error-msg-active"),$(b).html("").hide()}function onScreenSubmitChangeSubmitButtonText(a){setTimeout(function(){var b=$('[class*="gigya-error-code"]');if(0===b.length)switch(a.screen){case options.screenName.login:setButtonMessage(!1,!1,!1,"Inicia sesi"+userUtils.UnicodeToChar("o")+"n");break;case options.screenName.formulario:setButtonMessage(!1,!1,!1,"Registrarme");break;case options.screenName.additionalData:$("form:visible").find(".gigya-error").removeClass("gigya-error"),setButtonMessage(!1,!1,!1,"Completar informaci"+userUtils.UnicodeToChar("o")+"n")}b.length>0&&setButtonMessage(),a.screen!==options.screenName.cambiar||a.isValid?a.screen===options.screenName.cambiar&&a.isValid&&setButtonMessage(a.field,a,!1):setButtonMessage(a.field,a),a.screen===options.screenName.reenviar&&a.isValid&&(hideError("#"+a.screen+' input[name="email"]',"#"+a.screen+' span[data-bound-to="email"]'),setButtonMessage(a.field,a,!1,"Reenviar email"))},100)}function showAllErrorsOnFieldTab(){setTimeout(function(){var a=$('[class*="gigya-error-code"]');"undefined"!=typeof a&&a&&a.length&&a.show()},100)}function validateZipNumberAndGetData(a){var b=!1;return"undefined"!=typeof a&&a&&(b=$.ajax({url:options.urlPostalCode,data:{filters:"ge_codpostal:"+a,output:"ge_municipio,ge_provincia,ge_localidad"},contentType:"application/json",dataType:"jsonp",success:function(a){},error:function(a){}})),b}function addDataValidation(a){"undefined"!=typeof a&&a&&(dataValidationZipObject=a)}function dataValidation(){return dataValidationZipObject}function showScreenSet(a){log("showScreenSet => ("+a.startScreen+") llamado ...","info"),a.cid=a.cid?a.cid:options.cid,a.context=a.context?a.context:getContext();var b={onError:a.onError,onBeforeScreenLoad:a.onBeforeScreenLoad,onAfterScreenLoad:a.onAfterScreenLoad,onFieldChanged:a.onFieldChanged,onBeforeSubmit:a.onBeforeSubmit,onAfterSubmit:a.onAfterSubmit,onHide:a.onHide,onBeforeValidation:a.onBeforeValidation},c={onError:function(a){var b="errorCode: "+a.response.errorCode+" errorMessage: "+a.response.errorMessage;sendDataToNewRelic({eventNameFired:"onError",additionalInformation:"onError, gigyaScreen: "+a.screen,errorMessage:b}),"undefined"!=typeof a.screen&&$("form."+a.form+":visible #vocento-error-msg").html(translateError(a));for(var c=0;c<flows.length;c++)safeInvoke(flows[c].screenSetHandlers.onErrorHandler,a);fireEvent("showScreenSet"+eventSeparator+"onError",a)},onBeforeScreenLoad:function(a){!0===options.captcha.isVisible&&($(".pls-container").remove(),captcha=void 0,$("#g-recaptcha").hide(),$("#g-recaptcha-login").hide(),loginAttemps=0);for(var b=0;b<flows.length;b++)if(safeInvoke(flows[b].screenSetHandlers.onBeforeScreenLoadHandler,a)===!1)return fireEvent("showScreenSet"+eventSeparator+"onBeforeScreenLoad",a),!1;fireEvent("showScreenSet"+eventSeparator+"onBeforeScreenLoad",a)},onAfterScreenLoad:function(a){if(options.userIsInAppWebviewFlow){var b={eventName:"userdataready",eventData:"userdataready"};AppWebview.postMessageToWebkit(b,window.location.href),(options.screenName.formulario===a.currentScreen||options.screenName.login===a.currentScreen)&&AppWebview.insertSocialNetworkWidget(a.currentScreen)}(options.screenName.formulario===a.currentScreen||options.screenName.login===a.currentScreen||options.screenName.additionalData===a.currentScreen)&&removeNewPasswordCookie(),!0===options.captcha.isVisible&&("gigya-register-screen"===a.currentScreen||"gigya-quick-register-screen"===a.currentScreen)&&($("#g-recaptcha").show(),captcha=grecaptcha.render("g-recaptcha",{sitekey:"6LdmZgYTAAAAADQC06sXwn22WX7n0s4Nc1cuj-v7",callback:captchaVerifyCallback}));var c=$("input[placeholder]:visible");"undefined"!=typeof c&&c&&"undefined"!=typeof c.placeholder&&c.placeholder&&$("input[placeholder]:visible").placeholder(),(options.screenName.additionalData===a.currentScreen||options.screenName.formulario===a.currentScreen||options.screenName.completo===a.currentScreen)&&options.sectionsWithExternalFields.length>0&&initExtraDataOnChange();for(var d=0;d<flows.length;d++){flows[d].getInsertCustomField().externalFieldsSection;safeInvoke(flows[d].screenSetHandlers.onAfterScreenLoadHandler,a)}fireEvent("showScreenSet"+eventSeparator+"onAfterScreenLoad",a),a.currentScreen===options.screenName.autologin&&eventLastActionBeforeRedirect.resolve()},onFieldChanged:function(a){for(var b=0;b<flows.length;b++)safeInvoke(flows[b].screenSetHandlers.onFieldChangedHandler,a);fireEvent("showScreenSet"+eventSeparator+"onFieldChanged",a)},onBeforeValidation:function(a){if(options.sectionsWithExternalFields.length>0&&$.each(options.sectionsWithExternalFields,function(a,b){var c=$("form:visible [vocento-name="+b+"]");userUtils.customValidation.validateField(c)}),"gigya-register-screen"===a.screen&&"undefined"!==a.formData.email&&a.formData.email){var b=validateEmailForRegistration(a);b.then(function(b){if("undefined"!=typeof b&&"undefined"!=typeof b.statusCode&&200===b.statusCode){var c=userUtils.customValidation.showEmailErrorForRegistration(b);c&&(scrollScreenToElementPosition("email",a),simpleStorageDependency.set("user.email",a.formData.email,{TTL:3e5}))}})}for(var c=0;c<flows.length;c++)safeInvoke(flows[c].screenSetHandlers.onBeforeValidationHandler,a);fireEvent("showScreenSet"+eventSeparator+"onBeforeValidation",a)},onBeforeSubmit:function(a){var b=$("form."+a.form+":visible input[type=submit]");if("undefined"==typeof b.data("originalValue")&&b.data("originalValue",b.val()),b.val("Validando datos"),a.form&&(userUtils.customValidation.setUser(user),userUtils.customValidation.setAccount(account),log("screenSetHandlers => Validando formulario "+a.screen+" -> "+a.form,"info"),userUtils.customValidation.validateForm(a.form,captcha)===!1))return fireEvent("showScreenSet"+eventSeparator+"onBeforeSubmit",a),!1;setSeccionesDeCamposExternos();for(var c=0;c<flows.length;c++)if(safeInvoke(flows[c].screenSetHandlers.onBeforeSubmitHandler,a)===!1)return fireEvent("showScreenSet"+eventSeparator+"onBeforeSubmit",a),!1;sendDataToNewRelic({eventNameFired:"onBeforeSubmit",firedEventOnBeforeSubmit:!0,additionalInformation:"gigyaScreen: "+a.screen,callId:""}),fireEvent("showScreenSet"+eventSeparator+"onBeforeSubmit",a)},onAfterSubmit:function(a){if(sendLoginEventToNewRelicOnGigyaResponse(a.response),compareGigyaErrorCode(a.response.errorCode,"500026")){var b="errorCode: "+a.response.errorCode+" errorMessage: "+a.response.errorMessage;return void sendDataToNewRelic({eventNameFired:"networkError",additionalInformation:"onAfterSubmit, gigyaScreen: "+a.screen,errorMessage:b})}if((compareGigyaErrorCode(a.response.errorCode,"206002")||compareGigyaErrorCode(a.response.errorCode,0))&&(options.screenName.additionalData===a.screen||options.screenName.formulario===a.screen||options.screenName.completo===a.screen)&&options.sectionsWithExternalFields.length>0&&options.sectionsWithExternalFields[0].fields.length>0){var c=options.sectionsWithExternalFields[0].fields,d=getUidUsuarioGigya(a),e=a.response.UIDSignature,f=a.response.signatureTimestamp,g=a.response.profile.email;createNewExtraUserData(d,e,f,g,c,options.serviceReference)}if(compareGigyaErrorCode(a.response.errorCode,0)&&("gigya-login-screen"===a.screen||"undefined"!=typeof a.form&&a.form&&"div.gigya-social-login"===a.form)&&(getCustomerServiceFromCookieAndUpdateOptions()&&sendCustomerService(options.serviceId,options.serviceReference),removeSimpleStorage()),!0===options.captcha.isVisible&&("gigya-login-screen"===a.screen&&"FAIL"===a.response.status?(loginAttemps+=1,loginAttemps>=options.captcha.loginAttemps&&("undefined"==typeof captcha?($("#g-recaptcha-login").show(),captcha=grecaptcha.render("g-recaptcha-login",{sitekey:"6LdmZgYTAAAAADQC06sXwn22WX7n0s4Nc1cuj-v7",callback:captchaVerifyCallback})):(browser.toLowerCase().indexOf("firefox")>-1?resetCaptchaFirefox("g-recaptcha-login"):grecaptcha.reset(captcha),$("#vocento-error-captcha-msg").hide()))):"gigya-register-screen"!==a.screen&&"gigya-quick-register-screen"!==a.screen||"FAIL"!==a.response.status||(browser.toLowerCase().indexOf("firefox")>-1?resetCaptchaFirefox("g-recaptcha"):grecaptcha.reset(captcha),$("#vocento-error-captcha-msg").hide())),a.screen===options.screenName.registration&&options.autoVerifyUser&&(compareGigyaErrorCode(a.response.errorCode,"206002")||compareGigyaErrorCode(a.response.errorCode,"0"))){var h=verifyUserByUid(a.response.UID);h.done(function(b){if(options.loginOnVerify)if("undefined"!=typeof options.userIsInAppWebviewFlow&&options.userIsInAppWebviewFlow){if(showLoadingSpinner(),"undefined"==typeof a||!a||"undefined"==typeof a.response||!a.response)return;var c={};c.siteUID=a.response.UID,c.UIDSig=a.response.UIDSignature,c.UIDTimestamp=a.response.signatureTimestamp,c.email=a.response.profile.email,notifyLoginAppWebView(c)}else{var d=notifyLoginUser(a);d.then(function(a){var b={},c={};c.eventData={};try{var d=JSON.parse(a.data);b.UID=d.UID,b.UIDSignature=d.UIDSignature,b.signatureTimestamp=d.signatureTimestamp,c.eventData.UID=d.UID,c.eventData.UIDSignature=d.UIDSignature,c.eventData.signatureTimestamp=d.signatureTimestamp}catch(e){}firePromiseUserLogged(c),eventLastActionBeforeRedirect.resolve()})}}).fail(function(b){options.loginOnVerify&&(notifyLoginUser(a),eventLastActionBeforeRedirect.resolve())})}for(var i=0;i<flows.length;i++)safeInvoke(flows[i].screenSetHandlers.onAfterSubmitHandler,a);if(!0===options.updateSelligentCommunications&&""===options.envVoccore&&("gigya-register-screen"===a.screen||"gigya-complete-registration-screen"===a.screen)&&(compareGigyaErrorCode(a.response.errorCode,"206002")||compareGigyaErrorCode(a.response.errorCode,0))){var j=options.authServerVocCore+"/vocuser/v1/user/communication/selligent/add",k={UID:a.response.UID,data:{communications:a.response.data.communications}};try{$.ajax({url:j,type:"POST",data:JSON.stringify(k),async:!0,dataType:"json",success:function(a){log("updateSelligentCommunications => comunicaciones grabadas correctamente.","info")},error:function(a){log("updateSelligentCommunications => error al grabar las comunicaciones.","error")}})}catch(l){}}fireEvent("showScreenSet"+eventSeparator+"onAfterSubmit",a),a.screen===options.screenName.registration&&options.autoVerifyUser&&options.loginOnVerify||eventLastActionBeforeRedirect.resolve()},onHide:function(a){(options.popUpMode||options.popUpModeProfile)&&userUtils.insertCustomFields.removeHTML();for(var b=0;b<flows.length;b++)safeInvoke(flows[b].screenSetHandlers.onHideHandler,a);protectedFunctions.removeParentDiv("gigya-screen-dialog","",options.parentDivClass),fireEvent("showScreenSet"+eventSeparator+"onHide",a)}},d={onError:function(a){c.onError(a),safeInvoke(b.onError,a)},onBeforeScreenLoad:function(a){return c.onBeforeScreenLoad(a)===!1||safeInvoke(b.onBeforeScreenLoad,a)===!1?!1:void 0},onAfterScreenLoad:function(a){c.onAfterScreenLoad(a),safeInvoke(b.onAfterScreenLoad,a)},onFieldChanged:function(a){c.onFieldChanged(a),safeInvoke(b.onFieldChanged,a)},onBeforeSubmit:function(a){return c.onBeforeSubmit(a)===!1||safeInvoke(b.onBeforeSubmit,a)===!1?!1:void 0},onBeforeValidation:function(a){c.onBeforeValidation(a),safeInvoke(b.onBeforeValidation,a)},onAfterSubmit:function(a){c.onAfterSubmit(a),safeInvoke(b.onAfterSubmit,a)},onHide:function(a){c.onHide(a),safeInvoke(b.onHide,a)}},e=screenSetIsBanned(a.screenSet);if("undefined"==typeof e||e!==!0){var f=$.extend(a,d);gigya.accounts.showScreenSet(f)}return!1}function showScreen(a,b,c){var d=options.screenSet[options.screenSetTypeToShow].auth,e=options.screenSet[options.screenSetTypeToShowMobile].auth;"undefined"!=typeof b&&b&&(d=b),"undefined"!=typeof c&&c&&(e=c);var f=$("#vocento-vocuser-screen-container");return"undefined"!=typeof f&&f&&f.length&&isAppWebView()&&f.addClass("voc-user-app"),showScreenSet({screenSet:d,mobileScreenSet:e,startScreen:a,containerID:options.containerID}),!1}function getNewslettersFieldsChecked(){var a=!1,b=$('form:visible [vocento-name^="newsletter-"]').get(),c="";return b.length>0&&$.each(b,function(b,d){var e=$(d);e&&e.is(":checked")&&(c=e.attr("vocento-name").replace("newsletter-",""),c&&""!==c&&(setNewslettersChecksBox(c),a=!0))}),a}function getNLfromGUI(){var a=[],b=$('form:visible [vocento-name^="newsletter-"]').get();return b.length>0&&$.each(b,function(b,c){var d=$(c);if(d&&d.length>0){var e=d.attr("vocento-name").replace("newsletter-","");d.is(":checked")?a.push({NL_ID:e,state:"subscribe"}):a.push({NL_ID:e,state:"unsubscribe"})}}),a}function getSectionsWithExternalFields(){return options.sectionsWithExternalFields}function setSeccionesDeCamposExternos(){options.sectionsWithExternalFields=[];for(var a=0;a<flows.length;a++){var b=flows[a].getInsertCustomField().externalFieldsSection;if("undefined"!=typeof b)for(var c in b){for(var d=b[c],e={name:c,fields:[]},f=0;f<d.length;f++){var g={field:d[f],value:$("form:visible [vocento-name="+d[f]+"]").val()};g.value&&"undefined"!=typeof g.value&&e.fields.push(g)}options.sectionsWithExternalFields.push(e)}}}function getUidUsuarioGigya(a){var b=null;return"undefined"!=typeof a.response.UID?b=a.response.UID:user&&"undefined"!=typeof user.UID&&(b=user.UID),b}function serviceCall(a,b){var c="undefined"!=typeof b&&b?b:{},d="undefined"!=typeof c.timeout&&c.timeout?c.timeout:3e3,e=new promiseNamespace(function(b,e){var f="undefined"!=typeof c.url&&c.url?c.url:"",g="undefined"!=typeof c.type&&c.type?c.type:"POST",h="undefined"!=typeof c.async?c.async:!0,i="undefined"!=typeof c.dataType?c.dataType:"json",j="undefined"!=typeof c.acceptHeader?c.acceptHeader:"application/json,text/javascript,text/plain,*/*",k="undefined"!=typeof c.contentType?c.contentType:"application/json;charset=utf-8",l="undefined"!=typeof c.withCredentials?c.withCredentials:!1,m="undefined"!=typeof c.headerAuth?c.headerAuth:"",n="undefined"!=typeof c.preventRedirect?c.preventRedirect:"";if("undefined"==typeof f||!f)return e(new TypeError("serviceCall: bad parameter value: url"));var o=new XMLHttpRequest;o.onerror=e,o.onreadystatechange=function(){var a;if(4===o.readyState){if(a=o.status,200===a){var c="undefined"!=typeof o.response&&o.response?o.response:{};return"object"==typeof c&&"undefined"!=typeof o.responseURL&&o.responseURL&&(c.responseURL=o.responseURL),"object"!=typeof c||"undefined"==typeof o.responseType||""!==o.responseType&&"text"!==o.responseType||"undefined"!=typeof o.responseText&&o.responseText&&(c.responseText=o.responseText),b(c)}return log("The request for "+f+" returned status code: "+a,"warn"),e()}},o.ontimeout=function(){return log("The request for "+f+" timed out more than: "+d+" seconds","warn"),e()},o.open(g,f,h),"undefined"!=typeof l&&null!==l&&(o.withCredentials=l),!0===h&&(o.timeout=d,"undefined"!=typeof k&&k&&o.setRequestHeader("Content-Type",k),"undefined"!=typeof i&&i&&(o.responseType=i,"json"===i&&o.setRequestHeader("Accept","application/json,text/javascript,text/plain,*/*"),"text"===i&&o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9")),"undefined"!=typeof j&&j&&o.setRequestHeader("Accept",j)),m&&o.setRequestHeader("Authorization",m);try{n&&o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(a)}catch(p){return log("The request for "+f+" returned error: "+p,"error"),b()}}),f=promiseWithTimeout(e,d);return f}function getAuthServerSubDomainByProject(a){var b="";return"undefined"!=typeof a&&a&&"undefined"!=typeof a&&a&&"undefined"!=typeof vocServicesSubdomain[a]&&vocServicesSubdomain[a]&&(b=vocServicesSubdomain[a]),b}function getAuthServerEnvironmentPrefixByProject(a){var b="";return"undefined"!=typeof a&&a&&"undefined"!=typeof vocServicesEnvironmentPrefix[a]&&vocServicesEnvironmentPrefix[a]&&"undefined"!=typeof vocServicesEnvironmentPrefix[a][options.currentEnvironment]&&vocServicesEnvironmentPrefix[a][options.currentEnvironment]&&(b=vocServicesEnvironmentPrefix[a][options.currentEnvironment]),b}function getHeaderAuthByProjectEnvironmentMedium(a,b){var c="";return"undefined"!=typeof a&&a&&"undefined"!=typeof b&&b?("undefined"!=typeof vocServicesHeaderAuth[a]&&vocServicesHeaderAuth[a]&&"undefined"!=typeof vocServicesHeaderAuth[a][options.currentEnvironment]&&vocServicesHeaderAuth[a][options.currentEnvironment]&&"undefined"!=typeof vocServicesHeaderAuth[a][options.currentEnvironment][b]&&vocServicesHeaderAuth[a][options.currentEnvironment][b]&&(c=vocServicesHeaderAuth[a][options.currentEnvironment][b]),c):c}function getAuthServerSeparatorByProject(a){var b="";return"undefined"!=typeof a&&a&&"undefined"!=typeof vocServicesPrefix[a][options.currentEnvironment]&&vocServicesPrefix[a][options.currentEnvironment]&&(b=vocServicesPrefix[a][options.currentEnvironment]),b}function buildAuthServerUrl(a){var b="";if("undefined"!=typeof a&&a&&"undefined"!=typeof a.serviceProject&&a.serviceProject&&"undefined"!=typeof a.servicePath&&a.servicePath){var c=getAuthServerEnvironmentPrefixByProject(a.serviceProject),d=getAuthServerSubDomainByProject(a.serviceProject),e=getAuthServerSeparatorByProject(a.serviceProject),f="";if("undefined"!=typeof a.authServer&&a.authServer){var g=a.authServer.split("/");f=getDomainTld(g.length>1&&"undefined"!=typeof g[2]&&g[2]?g[2]:a.authServer)}else f=getDomainTld(window.location.href);"undefined"!=typeof a.domainTld&&a.domainTld&&f&&(f=a.domainTld),b="https://"+c+e+d+"."+f+a.servicePath}return b}function callVocUserService(a,b){var c="undefined"!=typeof b&&b?b:{},d="undefined"!=typeof c.servicePath&&c.servicePath?c.servicePath:"";if(c.authServer="undefined"!=typeof c.authServer&&c.authServer?c.authServer:"","undefined"==typeof d||!d){var e=new promiseNamespace(function(a,b){return b(new TypeError("callVocUserService: bad parameter value: servicePath"))});return e}c.url=buildAuthServerUrl(c);var f=serviceCall(a,c);return f}function callServiceMediaDataTransfer(a,b){if("undefined"==typeof a||!a){var c=new promiseNamespace(function(a,b){return b(new TypeError("callServiceMediaDataTransfer: bad parameter value: data"))});return c}a=JSON.stringify(a);var d="undefined"!=typeof b&&b?b:{},e="POST",f={type:e,async:!0,dataType:"json",withCredentials:!0};f.serviceProject="media-data-transfer-service",f.serviceName="data-transfer",f.servicePath=options.vocServicesPath[f.serviceProject][f.serviceName][e],f=$.extend(!0,f,d);var g=callVocUserService(a,f);return g}function getUserEmail(){return"undefined"!=typeof account&&account&&"undefined"!=typeof account.profile&&account.profile&&"undefined"!=typeof account.profile.email&&account.profile.email?account.profile.email:"undefined"!=typeof user&&user&&"undefined"!=typeof user.email&&user.email?user.email:""}function buildUrlParamsForServiceEkosTechnicalSynchronized(){var a=getUserEmail(),b=""!==a?"&email="+a:"",c=getUserSignature(account,!1),d="?gigyaUUID="+c.UID+"&uidSignature="+encodeURIComponent(c.UIDSignature)+"&signatureTimestamp="+c.signatureTimestamp+b+"&evolokId="+c.evolokId;return d}function callServiceEkosTechnicalSynchronized(a,b){if("undefined"==typeof a||!a){var c=new promiseNamespace(function(a,b){return b(new TypeError("callServiceEkosTechnicalSynchronized: bad parameter value: data"))});return c}a=JSON.stringify(a);var d="undefined"!=typeof b&&b?b:{},e="GET",f={type:e,async:!0,dataType:"json",withCredentials:!1},g=getDomainForSsoGroup(options.ssoGroup);return f.urlParams=buildUrlParamsForServiceEkosTechnicalSynchronized(),f.authServer="vocento.com",f.domainTld="",f.serviceProject="ekos-technical-synchronized",f.serviceName="ekos-technical-synchronized-product",f.servicePath=options.vocServicesPath[f.serviceProject][f.serviceName][e],f.servicePath+=f.urlParams,f.timeout=15e3,f.headerAuth="Bearer "+getHeaderAuthByProjectEnvironmentMedium(f.serviceProject,g),f=$.extend(!0,f,d),callVocUserService(a,f)}function sendRequestToServiceEkosTechnicalSynchronized(a){if("undefined"==typeof options.serviceCallEkosTechnicalSynchronized||!options.serviceCallEkosTechnicalSynchronized){var b=new promiseNamespace(function(a,b){return b(new Error("sendRequestToServiceEkosTechnicalSynchronized: parameter not enabled: options.serviceCallEkosTechnicalSynchronized"))});return b}var c={},d=callServiceEkosTechnicalSynchronized(c,a);return d}function handleResponseServiceEkosTechnicalSynchronized(a){if("undefined"!=typeof a&&a){var b=function(a){userTypeEkos=assignUserTypeFromEkosResponse(a);var b=transformProductsToBus1Format(a);handleSynchronizeProductsSuccess(b,"")},c=function(a){handleSynchronizeProductsError(a,"","Error en la llamada ajax a BUS2.0 ServiceEkosTechnicalSynchronized")};a.then(b,c)}}function assignUserTypeFromEkosResponse(a){return"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.userType&&a.data.userType?a.data.userType.toLowerCase():""}function transformProductsToBus1Format(a){if("undefined"==typeof a||!a||"undefined"==typeof a.data||!a.data||"undefined"==typeof a.data.products||!a.data.products)return{};var b={};return b.data=a.data.products,b}function getAllCookiesOriginalContent(){var a=!1,b={};b.cookies=[];var c="",d="";return c=getCookieOriginalContent(QUEID_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:QUEID_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(UID_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:UID_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(EDITION_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:EDITION_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(NFRYL_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:NFRYL_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(NEWSLETTERS_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:NEWSLETTERS_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(VOCUSER_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:VOCUSER_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(VOCUSER_THANKYOU_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:VOCUSER_THANKYOU_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(AUTO_NEWSLETTERS_COOKIE_NAME),d="undefined"!=typeof c&&c?b.cookies.push({name:AUTO_NEWSLETTERS_COOKIE_NAME,value:c}):void 0,c=getCookieOriginalContent(EVK_COOKIE_NAME+gigya.partnerSettings.ssoKey),d="undefined"!=typeof c&&c?b.cookies.push({name:EVK_COOKIE_NAME+gigya.partnerSettings.ssoKey,value:c}):void 0,b.cookies=getEcommerceCookiesOriginalContent(b.cookies),a=b}function sendRequestToServiceMediaDataTransfer(a){if("undefined"==typeof a||!a){new promiseNamespace(function(a,b){return b(new TypeError("sendRequestToServiceMediaDataTransfer: bad parameter value: parameters"))})}if(!options.serviceCallToMediaDataTransfer){new promiseNamespace(function(a,b){return b(new Error("sendRequestToServiceMediaDataTransfer: parameter not enabled: options.serviceCallToMediaDataTransfer"))})}var b=getAllCookiesOriginalContent(),c=callServiceMediaDataTransfer(b,a);return c}function handleRedirectOnResponseCallToVocUserService(a,b,c){if("undefined"!=typeof a&&a){var d=function(){redirectToUrl(b,c)},e=function(){d()},f=function(a){d()};a.then(e,f)}}function redirectOnCallVocUserService(a,b){var c=!1,d=0;if("undefined"==typeof a||!a)return c;if("/"!==a){var e=!1,f=window.location.href.split("/");f=getDomainTld(f[2]);var g=a.split("/");if(g=getDomainTld(g.length>1&&"undefined"!=typeof g[2]&&g[2]?g[2]:g),f!==g){d="undefined"!=typeof b&&b&&0!==b?d:400;var h={};h.authServer=a,e=sendRequestToServiceMediaDataTransfer(h)}"object"!=typeof e?c=redirectToUrl(a,d):handleRedirectOnResponseCallToVocUserService(e,a,d)}else c=redirectToUrl(a,d);return c}function getRootUrl(){var a="https:",b=window.location.host,c=options.domains[options.ssoGroup];return 0===window.location.pathname.indexOf("/app_dev.php/")?a+"//"+b+"/app_dev.php":0===window.location.pathname.indexOf("/app.php/")?a+"//"+b+"/app.php":b.indexOf("srv.vocento.in")>-1?a+"//"+b:a+"//"+options.envFront+"."+c}function getUrlRegisterConfirmationScreen(){return getRootUrl()+options.route.registerConfirmedURL}function getUrlRegisterPendingConfirmationScreen(){return getRootUrl()+options.route.resendMailURL}function getUrlPasswdSendScreen(){return getRootUrl()+options.route.sendedMailURL}function getUrlPasswordChangedScreen(){return getRootUrl()+options.route.passwdchangedURL}function getUrlExpiredPasswordTokenScreen(){return getRootUrl()+options.route.changePasswdURL+"?errorCode=400006"}function getUrlSetPassword(){return getRootUrl()+options.route.setPasswdURL}function getUrlPasswordSeted(){return getRootUrl()+options.route.passwdSetedURL}function getUrlProfileScreen(){return getRootUrl()+options.route.profileURL}function getUrlInterestsScreen(){return getRootUrl()+options.route.interestURL}function getUrlAdditionalDataScreen(){return getRootUrl()+options.route.loginAdditionalDataURL}function showLoginPage(a){var b="";isAppWebView()&&(b="undefined"!=typeof a&&a?"&device=appwebview":"?device=appwebview",a+=b);var c=getRootUrl()+options.route.loginURL+a;redirectOnCallVocUserService(c)}function showLoginAdditionalDataPage(){var a="",b="";isAppWebView()&&(a="undefined"!=typeof b&&b?"&device=appwebview":"?device=appwebview",b+=a);var c=getRootUrl()+options.route.loginAdditionalDataURL+b;redirectOnCallVocUserService(c)}function showRegisterPage(a){var b="";isAppWebView()&&(b="undefined"!=typeof a&&a?"&device=appwebview":"?device=appwebview",a+=b);var c=getRootUrl()+options.route.registerURL+a;redirectOnCallVocUserService(c)}function showRecoveryPage(a){"undefined"==typeof a&&(a="");var b="";isAppWebView()&&(b="undefined"!=typeof a&&a?"&device=appwebview":"?device=appwebview",a+=b);var c=getRootUrl()+options.route.recoveryURL+a;redirectOnCallVocUserService(c)}function showProfilePage(a){var b="";isAppWebView()&&(b="undefined"!=typeof a&&a?"&device=appwebview":"?device=appwebview",a+=b);var c=getRootUrl()+options.route.profileURL+a;redirectOnCallVocUserService(c)}function showInterestsPage(){var a="",b="";isAppWebView()&&(a="undefined"!=typeof b&&b?"&device=appwebview":"?device=appwebview",b+=a);var c=getRootUrl()+options.route.interestURL+b;redirectOnCallVocUserService(c)}function showProfileUpdatedPage(){var a="",b="";isAppWebView()&&(a="undefined"!=typeof b&&b?"&device=appwebview":"?device=appwebview",b+=a);var c=getRootUrl()+options.route.profileUpdatedURL+b;redirectOnCallVocUserService(c)}function showChangePasswdProfilePage(){var a="",b="";isAppWebView()&&(a="undefined"!=typeof b&&b?"&device=appwebview":"?device=appwebview",b+=a);var c=getRootUrl()+options.route.changePasswdProfileURL+b;redirectOnCallVocUserService(c)}function redirectToProfileAreaPersonal(){var a=urlAreaPersonal+"/gestion/mi-cuenta.html";redirectOnCallVocUserService(a)}function showBackPageForBackLink(){var a="undefined"==typeof options.extensionType||"ecommerce"!==options.extensionType&&"upgrade"!==options.extensionType?protectedFunctions.getNfrylCookie():protectedFunctions.getExtensionCustomReturnUrl();if(updateLastestBackUrl(a),"undefined"!=typeof options.backURL&&options.backURL){removeNfrylCookie(),removeFromQualifioCookie(),removeNewPasswordCookie();var b=options.backURL;redirectOnCallVocUserService(b)}}function selectPopUpMode(a){var b=options.popUpMode;return"undefined"!=typeof a&&(b=a),b}function showLogin(a,b,c,d){var e="";"undefined"!=typeof a&&"object"==typeof a&&"undefined"!=typeof a.urlParams?e=a.urlParams:(d=c,c=b,b=a);var f=selectPopUpMode(c),g=options.screenName.login;if("undefined"!=typeof d&&d&&(g=d),"undefined"==typeof f||!0===f)"string"!=typeof b&&(b=""),showScreenSet({screenSet:options.screenSet[options.screenSetTypeToShow].auth,mobileScreenSet:options.screenSet[options.screenSetTypeToShowMobile].auth,startScreen:g,containerID:b});else{var h="undefined"!=typeof options.enableGigyaITP?options.enableGigyaITP:!1;if(h){var i=getQueryVariable("gig_ssoToken"),j=getCurrentScreenName();if(options.userIsInFlow&&j===options.screenName.registration)if("undefined"!=typeof i&&i){var k="?gig_ssoToken="+i;showLoginPage(k)}else redirectToGigyaCentralLoginPage("fromLoginClick");else redirectToGigyaCentralLoginPage("fromLoginClick")}else showLoginPage(e)}return!1}function showRegistration(a,b,c,d){var e="";"undefined"!=typeof a&&"object"==typeof a&&"undefined"!=typeof a.urlParams?e=a.urlParams:(d=c,c=b,b=a);var f=selectPopUpMode(c),g=options.screenName.registration;if("undefined"!=typeof d&&d&&(g=d),"undefined"==typeof f||!0===f)"string"!=typeof b&&(b=""),showScreenSet({screenSet:options.screenSet[options.screenSetTypeToShow].auth,mobileScreenSet:options.screenSet[options.screenSetTypeToShowMobile].auth,startScreen:g,containerID:b});else{var h="undefined"!=typeof options.enableGigyaITP?options.enableGigyaITP:!1;h?redirectItpToRegisterWithToken("fromRegisterClick"):showRegisterPage(e)}return!1}function showProfile(a,b,c,d){var e="";"undefined"!=typeof a&&"object"==typeof a&&"undefined"!=typeof a.urlParams?e=a.urlParams:(d=c,c=b,b=a);var f=selectPopUpMode(c),g=options.screenName.profile;return"undefined"!=typeof d&&d&&(g=d),"undefined"==typeof f||!0===f?("string"!=typeof b&&(b=""),showScreenSet({screenSet:options.screenSet[options.screenSetTypeToShow].profile,mobileScreenSet:options.screenSet[options.screenSetTypeToShowMobile].profile,startScreen:g,containerID:b})):showProfilePage(e),!1}function showInterests(a,b,c){var d=selectPopUpMode(b),e=options.screenName.interests;return"undefined"!=typeof c&&c&&(e=c),"undefined"==typeof d||!0===d?("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet[options.screenSetTypeToShow].profile,mobileScreenSet:options.screenSet[options.screenSetTypeToShowMobile].profile,startScreen:e,containerID:a})):showInterestsPage(),!1}function showChangePasswdProfile(a,b,c){
var d=selectPopUpMode(b),e=options.screenName.change;return"undefined"!=typeof c&&c&&(e=c),"undefined"==typeof d||!0===d?("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet[options.screenSetTypeToShow].profile,mobileScreenSet:options.screenSet[options.screenSetTypeToShowMobile].profile,startScreen:e,containerID:a})):showChangePasswdProfilePage(),!1}function showProfileUpdated(a,b,c){var d=selectPopUpMode(b),e=options.screenName.updated;return"undefined"!=typeof c&&c&&(e=c),"undefined"!=typeof d&&!0!==d?showProfileUpdatedPage():("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet[options.screenSetTypeToShow].profile,mobileScreenSet:options.screenSet[options.screenSetTypeToShowMobile].profile,startScreen:e,containerID:a}),!1)}function showLoginAdditionalData(a,b,c){var d=selectPopUpMode(b),e=options.screenName.additionalData;return"undefined"!=typeof c&&c&&(e=c),"undefined"!=typeof d&&!0!==d?showLoginAdditionalDataPage():("string"!=typeof a&&(a=""),showScreenSet({screenSet:options.screenSet[options.screenSetTypeToShow].profile,mobileScreenSet:options.screenSet[options.screenSetTypeToShowMobile].profile,startScreen:e,containerID:a}),!1)}function showSocialLoginCheckOut(a,b){return"string"!=typeof a&&(a=""),showScreenSet({screenSet:"ss-checkout",mobileScreenSet:"ss-checkout",startScreen:"gigya-rrss-login-form",containerID:a,onBeforeScreenLoad:b.onBeforeScreenLoad,onAfterScreenLoad:b.onAfterScreenLoad,onAfterSubmit:b.onAfterSubmit}),!1}function isMobile(){var a=!1;return(browser.toLowerCase().indexOf("mobile")>-1||browser.toLowerCase().indexOf("iphone")>-1||browser.toLowerCase().indexOf("ipod")>-1||browser.toLowerCase().indexOf("ipad")>-1||browser.toLowerCase().indexOf("android")>-1||browser.toLowerCase().indexOf("blackberry")>-1||browser.toLowerCase().indexOf("bada")>-1||browser.toLowerCase().indexOf("symbian")>-1||browser.toLowerCase().indexOf("firefoxos")>-1||browser.toLowerCase().indexOf("tizen")>-1||browser.toLowerCase().indexOf("-?")>-1)&&(a=!0),a}function bindOnClickEventToDomElement(a,b){var c=!1;return"undefined"!=typeof a&&a&&a.length&&(a.unbind(),a.off("click"),a.off("touchstart"),a.click(b),!0===isMobile()&&a.bind("touchstart",b),c=!0),c}function unbindOnClickEventToDomElement(a){var b=!1;return"undefined"!=typeof a&&a&&a.length&&(a.unbind(),a.off("click"),a.off("touchstart"),b=!0),b}function bindOnClickEventToDomElementName(a,b,c){var d="undefined"==typeof c?"":c,e=!1;if("undefined"!=typeof a&&a){var f=$(a);"undefined"!=typeof f&&f&&f.length&&(f.unbind(),f.off("click"),f.off("touchstart")),$(document).on("click",a,function(a){a.stopPropagation(),a.stopImmediatePropagation(),b(d)}),!0===isMobile()&&$(document).on("touchstart",a,function(a){a.stopPropagation(),a.stopImmediatePropagation(),b(d)}),e=!0}return e}function redirectToUrlWithGigyaToken(a,b){var c="undefined"!=typeof b&&b&&"fromRegisterClick"===b?options.route.registerURL:options.route.loginURL,d=getQueryVariableFromUrl("gig_ssoToken",a),e="undefined"!=typeof d&&d?"?gig_ssoToken="+d:"",f=getRootUrl()+c+e;sendDataToNewRelic({eventNameFired:"redirectToUrlWithGigyaToken",additionalInformation:"redirectUrl:  "+f}),window.location.href=f}function redirectToGigyaCentralLoginPage(a){if("object"!=typeof a){if("undefined"!=typeof browser&&browser&&browser.indexOf("IE")>-1)return void callGigyaSsoLogin(a);var b="HEAD",c={type:b,async:!0,dataType:null,withCredentials:!1};c.url=buildGigyaSSOLoginUrl(a),c.timeout=15e3,c.contentType="",sendDataToNewRelic({eventNameFired:"buildGigyaSSOLoginUrl",additionalInformation:"params.url: "+c.url});var d=null,e=serviceCall(d,c),f=function(b){"undefined"!=typeof b&&b&&"undefined"!=typeof b.responseURL&&b.responseURL&&redirectToUrlWithGigyaToken(b.responseURL,a)},g=function(b){callGigyaSsoLogin(a)};e.then(f,g)}}function rewriteCurrentUrlWithGigyaToken(a){if("object"!=typeof a){var b="HEAD",c={type:b,async:!0,dataType:null,withCredentials:!1};c.url=buildGigyaSSOLoginUrl(a),c.timeout=15e3,c.contentType="";var d=null,e=serviceCall(d,c),f=function(a){if("undefined"!=typeof a&&a&&"undefined"!=typeof a.responseURL&&a.responseURL);},g=function(a){};e.then(f,g)}}function callGigyaSsoLogin(a){var b="undefined"!=typeof options.backURL&&options.backURL&&""!==options.backURL&&"/"!==options.backURL?options.backURL:window.location.href;sendDataToNewRelic({eventNameFired:"ssoLogin",additionalInformation:"redirectUrl: "+b}),gigya.sso.login({authFlow:"redirect",redirectURL:b,context:{enteredFromComponent:a}})}function getQueryVariableFromUrl(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)",d=new RegExp(c),e=d.exec(b);return null===e?null:e[1]}function removeURLParameter(a,b){try{var c=a.split("?");if(c.length>=2){for(var d=encodeURIComponent(b)+"=",e=c[1].split(/[&;]/g),f=e.length;f-->0;)"undefined"!=typeof e[f]&&e[f]&&-1!==e[f].toLowerCase().lastIndexOf(d,0)&&e.splice(f,1);return c[0]+(e.length>0?"?"+e.join("&"):"")}}catch(g){}return a}function buildGigyaSSOLoginUrl(a){var b="undefined"!=typeof a&&a?a:"fromLoginClick",c=getDomainTld(window.location.href),d=options.cnamePrefix,e="https://"+d+"gigya."+c,f="/accounts.sso.login",g=e+f+"?",h=gigya.apiKey,i="undefined"!=typeof options.backURL&&options.backURL&&""!==options.backURL&&"/"!==options.backURL?options.backURL:window.location.href,j=i.split("?");i="undefined"!=typeof j[0]&&j[0]&&""!==j[0]?j[0]:i,j=i.split("#"),i="undefined"!=typeof j[0]&&j[0]&&""!==j[0]?j[0]:i,i=i.replace(/%3Fgig_actions%3Dsso.login/g,""),i=i.replace(/%26gig_actions%3Dsso.login/g,""),i=i.replace(/%26gig_enteredFromComponent%3DfromLoginClick/g,""),i=i.replace(/%26gig_enteredFromComponent%3DfromRegisterClick/g,""),i=i.replace(/\?gig_actions=sso.login/g,""),i=i.replace(/&gig_actions=sso.login/g,""),i=i.replace(/&gig_enteredFromComponent=fromLoginClick/g,""),i=i.replace(/&gig_enteredFromComponent=fromRegisterClick/g,""),i=i.replace(/.html&service=/g,".html?service="),i=i.replace(/.html%3Fservice%3D/g,".html?service="),i=i.replace(/.html&ref=/g,".html?ref="),i=i.replace(/.html%3Fref%3D/g,".html?ref="),i=removeURLParameter(i,"ref"),i=removeURLParameter(i,"service");var k=getDomainTld(i),l=searchValueInObj(k,domains);l||(i="https://www."+c),i=encodeURIComponent(i);var m='{"domain":"https://'+getSubdomainDomainTld(window.location.href)+'/","messaging":1,"context":{"enteredFromComponent":"'+b+'"},"gig_actions":"sso.login","authFlow":"redirect"}';m=encodeURIComponent(m);var n=b.indexOf("Page")>-1?"":"&gig_actions=sso.login",o=g+"APIKey="+h+"&redirectURL="+i+n+"&gig_enteredFromComponent="+b+"&authFlow=redirect&sdk=js_latest&authMode=cookie&state="+m;return o}function searchValueInObj(a,b){if("undefined"==typeof a||!a)return!1;var c=!1;for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(a.indexOf(e)>-1)return!0}return c}function bindOnClickEventToLogin(a){function b(){showLogin(d,"",options.popUpMode,"")}var c=options.loginLinkSelector,d="undefined"==typeof a?{urlParams:""}:a;bindOnClickEventToDomElementName(c,b)}function bindOnClickEventToRegister(a){function b(){showRegistration(d,"",options.popUpMode,"")}var c=options.registrationLinkSelector,d="undefined"==typeof a?{urlParams:""}:a;bindOnClickEventToDomElementName(c,b)}function bindOnClickEventToLogout(){function a(){logout()}var b="";b=options.logoutLinkSelector,bindOnClickEventToDomElementName(b,a)}function bindOnClickEventToCookiesPolicy(){function a(){Voonto.cmp.show()}var b="";b=options.cookiePolicyLinkSelector,bindOnClickEventToDomElementName(b,a)}function bindOnClickEventToFacebookLogin(){function a(){$("form:visible button[title='Facebook']").trigger("click")}var b="";b=options.rrssLinkSelector.facebookLogin,bindOnClickEventToDomElementName(b,a)}function bindOnClickEventToGoogleLogin(){function a(){$("form:visible button[title='Google']").trigger("click")}var b="";b=options.rrssLinkSelector.googleLogin,bindOnClickEventToDomElementName(b,a)}function refreshUI(){gigya.socialize.refreshUI({callback:function(a){var b=!1;compareGigyaErrorCode(a.errorCode,0)&&(b=!0)}})}function notifyLoginAppWebView(a){var b=notifyLogin(a),c=function(a){gigyaResponse=a,console.log("APP notifyLoginSuccess respuesta: "),console.log(a),options.reloadOnLogin=!1,refreshUI(),hideLoadingSpinner()},d=function(a){console.log("APP notifyLoginError respuesta: "),console.log(a),logout(),"undefined"==typeof a||"undefined"==typeof a.errorDetails||"undefined"==typeof a.errorCode||compareGigyaErrorCode(a.errorCode,"206001")||compareGigyaErrorCode(a.errorCode,"403043")||alert("APP notifyLoginError respuesta: "+a.errorDetails),hideLoadingSpinner()};b.then(c,d)}function listenAppsSessionToken(){var a=0,b=setInterval(function(){if(800>a){if("undefined"!=typeof window.vocento&&window.vocento&&"undefined"!=typeof window.vocento.vocuser&&window.vocento.vocuser&&"undefined"!=typeof window.vocento.vocuser.apps&&window.vocento.vocuser.apps&&"undefined"!=typeof window.vocento.vocuser.apps.sessionresponse&&window.vocento.vocuser.apps.sessionresponse){var c=window.vocento.vocuser.apps.sessionresponse&&window.vocento.vocuser.apps.sessionresponse,d=window.vocento.vocuser.apps.socialnetwork&&window.vocento.vocuser.apps.socialnetwork;if("string"==typeof c)try{c=JSON.parse(c),"undefined"!=typeof c&&"undefined"!=typeof c.response&&(c=c.response)}catch(e){return console.log("appError: Decodeando sessionResponse error: "),console.log(c),sendDataToNewRelic({eventNameFired:"appError",errorMessage:"appError: Decodeando sessionResponse error",additionalInformation:"sessionResponse valor: "+window.vocento.vocuser.apps.sessionresponse}),void clearInterval(b)}var f=AppWebview.getAuthTokenForSocialNetwork(c,d);if(0===Object.keys(f).length)return console.log("appError: sessionResponse no contiene la informacin correcta: "),console.log(c),void sendDataToNewRelic({eventNameFired:"appError",errorMessage:"appError: sessionResponse no contiene la informacin correcta",additionalInformation:"sessionResponse valor: "+window.vocento.vocuser.apps.sessionresponse});showLoadingSpinner();var g={};g.providerSessions={},g.providerSessions[d]={},g.providerSessions[d]=f;var h=notifySocialLogin(g),i=function(a){gigyaResponse=a,console.log("APP notifySocialLogin y notifyLogin backend success respuesta: "),console.log(a),options.reloadOnLogin=!1,refreshUI();var b=a.result.notifyLogin,c={};c.siteUID=b.UID,c.UIDSig=b.UIDSignature,c.UIDTimestamp=b.signatureTimestamp,notifyLoginAppWebView(c)},j=function(a){console.log("APP notifySocialLogin y notifyLogin backend error respuesta: "),console.log(a),logout(),"undefined"==typeof a||"undefined"==typeof a.errorDetails||"undefined"==typeof a.errorCode||compareGigyaErrorCode(a.errorCode,"206001")||compareGigyaErrorCode(a.errorCode,"403043")||alert("APP notifySocialLogin y notifyLogin backend error respuesta: "+a.errorDetails),hideLoadingSpinner()};h.then(i,j),window.vocento.vocuser.apps={},clearInterval(b)}}else clearInterval(b);a+=1},200)}function bindOnClickEventToSocialNetworkLoginWebview(a){function b(b){AppWebview.manageNativeLogin(a,b),listenAppsSessionToken()}var c=options.appWebview.facebookClose,d=options.appWebview.googleClose,e=options.appWebview.appleClose;bindOnClickEventToDomElementName(c,b,"facebook"),bindOnClickEventToDomElementName(d,b,"googleplus"),bindOnClickEventToDomElementName(e,b,"apple")}function bindOnClickEventToSetPasswordForGoogleUser(){function a(){$("form:visible button[title='Google']").trigger("click"),createCookieForNewPassword()}var b="";b=options.rrssLinkSelector.setNewPasswordGoogle,bindOnClickEventToDomElementName(b,a)}function bindOnClickEventToSetPasswordForFacebookUser(){function a(){$("form:visible button[title='Facebook']").trigger("click"),createCookieForNewPassword()}var b="";b=options.rrssLinkSelector.setNewPasswordFacebook,bindOnClickEventToDomElementName(b,a)}function bindOnClickToFinishRrssRegistration(a){function b(){hideScreenSet({screenSet:"gigya-not-complete-registration-screen"}),$("form:visible button[title='Facebook']").trigger("click")}function c(){hideScreenSet({screenSet:"gigya-not-complete-registration-screen"}),$("form:visible button[title='Google']").trigger("click")}var d="#vocento-vocuser-finish-rrss-registration",e=b;"Google"===a&&(e=c),bindOnClickEventToDomElementName(d,e)}function bindOnClickToDismissRrssNotCompleted(){function a(){var a=simpleStorageDependency.get("user.email");if(simpleStorageDependency.set("user.email","",{TTL:3e5}),"undefined"!=typeof a&&a){dismissNotCompletedRrssAccount(a);var b=$('form:visible input[data-gigya-name="email"]');"undefined"!=typeof b&&b&&b.length&&b.val(a)}hideScreenSet({screenSet:"gigya-not-complete-registration-screen"})}var b="#vocento-vocuser-continue-site-registration";bindOnClickEventToDomElementName(b,a)}function registerUI(){function a(){showRecoveryPage()}function b(){logout(),AppWebview.notifyUserFlowEnd()}function c(){showBackPageForBackLink()}function d(){showProfile("",options.popUpModeProfile,options.screenName.perfil)}function e(){redirectToProfileAreaPersonal()}function f(){showInterests("",options.popUpModeProfile,options.screenName.intereses)}function g(){showChangePasswdProfile("",options.popUpModeProfile,options.screenName.change)}var h="",i={urlParams:""};isAppWebView()&&(i={urlParams:"?device=appwebview"}),bindOnClickEventToLogin(i),bindOnClickEventToRegister(i),h=options.recoveryLinkSelector,bindOnClickEventToDomElementName(h,a),h=options.appWebview.close,bindOnClickEventToDomElementName(h,b),h=options.backLinkSelector,bindOnClickEventToDomElementName(h,c),h=options.profileLinkSelector,bindOnClickEventToDomElementName(h,d),h=options.profileAreaPersonalLinkSelector,bindOnClickEventToDomElementName(h,e),h=options.profileInterestsLinkSelector,bindOnClickEventToDomElementName(h,f),h=options.profileChangePasswdLinkSelector,bindOnClickEventToDomElementName(h,g),bindOnClickEventToLogout(),bindOnClickEventToCookiesPolicy(),authenticated?($(options.loggedOutSelector).hide(),$(options.userFirstNameSelector).text("undefined"!=typeof user.firstName&&user.firstName?user.firstName:user.nickname),$(options.userLastNameSelector).text("undefined"!=typeof user.lastName&&user.lastName?user.lastName:user.nickname),$(options.userEmailSelector).text("undefined"!=typeof user.email&&user.email?user.email:""),user.thumbnailURL?$(options.userThumbnailSelector).attr("src",user.thumbnailURL).show():$(options.userThumbnailSelector).hide(),$(options.loggedInSelector).show(),fireEvent("registerUI"+eventSeparator+"loggedIn",user)):($(options.loggedInSelector).hide(),$(options.loggedOutSelector).show(),fireEvent("registerUI"+eventSeparator+"loggedOut"))}function getUserSignature(a,b){if("undefined"==typeof b)var b=!0;var c="";return"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&"undefined"!=typeof a.data.paywall&&a.data.paywall&&"undefined"!=typeof a.data.paywall.userId&&a.data.paywall.userId&&(c=b?encodeURIComponent(a.data.paywall.userId):a.data.paywall.userId),{UID:b?encodeURIComponent(a.UID):a.UID,UIDSignature:b?encodeURIComponent(a.UIDSignature):a.UIDSignature,signatureTimestamp:b?encodeURIComponent(a.signatureTimestamp):a.signatureTimestamp,evolokId:c}}function getDomainTld(a){var b=window.location.hostname,c=a;"undefined"!=typeof c&&c&&"/"!==c&&(b=c);var d="",e="",f="";if("undefined"!=typeof b&&b&&"/"!==b&&(d=b.split(".")),d.length<=0&&(e=b),1===d.length&&(e=d[0]),2===d.length&&(f=d[1].split("/"),f=f[0],e=d[0],e=e+"."+f),d.length>2){var g=b.replace("http://","");g=g.replace("https://",""),g=g.replace("://",""),g=g.replace("//","");var h=g.split("/");if(h.length<=1&&(f=d[2].split("/"),f=f[0],e=d[1]),h.length>=2){var i=h[0].split(".");i.length<=0&&(f=d[2].split("/"),f=f[0],e=h[0]),i.length>0&&i.length<3&&(f=i[1].split("/"),f=f[0],e=d[0]),i.length>2&&(f=i[2].split("/"),f=f[0],e=i[1])}e=e+"."+f}return e}function getSubdomainDomainTld(a){var b=window.location.hostname,c=a;"undefined"!=typeof c&&c&&"/"!==c&&(b=c);var d="",e="",f="",g="",h="";if("undefined"!=typeof b&&b&&"/"!==b&&(d=b.split(".")),d.length<=0&&(e=b),1===d.length&&(e=d[0]),2===d.length&&(f=d[1].split("/"),f=f[0],e=d[0],e=e+"."+f),d.length>2){var i=b.replace("http://","");i=i.replace("https://",""),i=i.replace("://",""),i=i.replace("//","");var j=i.split("/");if(j.length<=1&&(f=d[2].split("/"),f=f[0],e=d[1],g=d[0]),j.length>=2){var k=j[0].split(".");k.length<=0&&(f=d[2].split("/"),f=f[0],e=j[0]),k.length>0&&k.length<3&&(f=k[1].split("/"),f=f[0],e=d[0]),k.length>2&&(f=k[2].split("/"),f=f[0],e=k[1],g=k[0])}e=e+"."+f}return h=g?g+"."+e:e}function redirectToUrl(a,b){var c=!1;if("undefined"==typeof a||!a)return c;var d="/"===a?getSubdomainDomainTld(a):a;return d.indexOf("http:")>-1?d=d.replace("http:","https:"):-1===d.indexOf("https:")&&(d=d.replace("http",""),d=d.replace("://",""),d=d.replace("//",""),d="https://"+d),"undefined"!=typeof d&&d&&"/"===d&&(d="https://www."+getDomainTld(window.location.href)),"undefined"!=typeof b&&b>=1?setTimeout(function(){window.location.href=d},b):window.location.href=d,c=!0}function redirectToBackUrl(a){var b=!1;return b=redirectToUrl(options.backURL,a)}function fireEventRedirectToBackUrlOnLogin(a){var b=!1;if("undefined"!=typeof options.enableRedirect&&options.enableRedirect){var c={};"undefined"!=typeof a&&a&&(c.timeoutMiliseconds=a),eventRedirectToBackUrlOnLogin.resolve(c),b=!0}return b}function gigyaITPSsoContinue(){sendDataToNewRelic({eventNameFired:"ssoContinue",additionalInformation:""});var a=gigya.sso["continue"];a()}function redirectToBackUrlOnLogin(){var a=!1;return a=$.when(eventAccountsOnLogin,eventSocializeOnLogin,eventRedirectToBackUrlOnLogin,eventLastActionBeforeRedirect,eventTokenJWTCreated).done(function(a,b,c,d,e){var f=0;"undefined"!=typeof c&&c&&"undefined"!=typeof c.timeoutMiliseconds&&c.timeoutMiliseconds&&(f=c.timeoutMiliseconds),"undefined"==typeof options.extensionType||"ecommerce"!==options.extensionType&&"upgrade"!==options.extensionType||updateLastestBackUrl(getExtensionCustomReturnUrl()),!0===shouldRedirectWithITP()?gigyaITPSsoContinue():redirectOnCallVocUserService(options.backURL,f)})}function shouldRedirectWithITP(){var a=!1,b="undefined"!=typeof options.enableGigyaITP?options.enableGigyaITP:!1,c=getQueryVariable("gig_ssoToken");return b&&"undefined"!=typeof c&&c?!0:a}function firePromiseGetUserType(){var a=getUserType(),b={responseGetUserType:a};voontoPromised("getusertype",b,voontoApp)}function firePromiseUserLogged(a){var b="undefined"!=typeof a&&a?a:{},c={responseUserLogged:{logged:!0,userToken:b}};voontoPromised("userlogged",c,voontoApp)}function firePromiseUserRegistered(a){var b="undefined"!=typeof a&&a?a:{},c={responseUserRegistered:{registered:!0,userToken:b}};voontoPromised("userregistered",c,voontoApp)}function firePromiseGetUserTypeOnEventProductsOnReady(){if(!0===options.hasPaywall&&!0===options.hasEcommerce){var a=getVocPaywallCookie();"undefined"!=typeof a&&a||$.when(eventProductsOnReady).done(function(a){firePromiseGetUserType()})}}function listenerProductsOnReadyForAnalytic(){if(!0===options.hasPaywall&&!0===options.hasEcommerce){var a=getMainEventListener(),b=getEventNamespace(),c=getEventSeparator();a.on(b+"products"+c+"onReady",function(a){var b=getSuscriptionInfo(a,options.serviceCallEkosTechnicalSynchronized);if(Object.keys(b).length>0)for(var c in b)b.hasOwnProperty(c)&&"undefined"!=typeof b[c]&&b[c].length>0&&protectedFunctions.updateFieldInCookieVocUid(c,b[c],!0)})}}function getSuscriptionInfo(a,b){var c=[];if("undefined"!=typeof a.gigya_event&&"undefined"!=typeof a.gigya_event.e&&"undefined"!=typeof a.gigya_event.e.data){if(!("undefined"!=typeof b&&b||"undefined"!=typeof a.gigya_event.e.status&&"ok"===a.gigya_event.e.status))return c;var d=a.gigya_event.e.data;$.each(d,function(a,d){isActiveSuscription(d,b)&&("undefined"!=typeof b||b||"undefined"!=typeof d.tipo&&"PRO"===d.tipo)&&(c.fechaAltaOn=b?d.startDate:d.fechaInicio,c.fechaBajaOn=b?d.endDate:d.fechaFin,c.nombreProducto=b?d.role:d.nombre,c.descProducto=b?d.description.replace("%",""):d.descripcion.replace("%",""),c.fuenteSuscripcion=b?d.source:d.fuente,c.idSuscripcion=b?"":d.id)})}return c}function isActiveSuscription(a,b){var c=new Date;if("undefined"!=typeof a.endDate&&a.endDate||"undefined"!=typeof a.fechaFin&&a.fechaFin){var d=new Date(b?a.endDate:a.fechaFin);if(d>c)return!0}return!1}function firePromiseGetUserTypeEventUserDataReady(){$.when(eventGetUserInfo,eventGetAccountInfo).done(function(a,b){if(authenticated){if(!1===options.hasEcommerce&&firePromiseGetUserType(),!0===options.hasPaywall&&!0===options.hasEcommerce){var c=getVocPaywallCookie();"undefined"!=typeof c&&c&&firePromiseGetUserType()}}else firePromiseGetUserType()})}function firePromiseGetUserTypeOnEvents(){firePromiseGetUserTypeEventUserDataReady(),firePromiseGetUserTypeOnEventProductsOnReady()}function userDataReady(){var a=!1;return a=$.when(eventGetUserInfo,eventGetAccountInfo,eventTokenJWTCreated).done(function(a,b,c){var d={responseGetUserInfo:a,responseGetAccountInfo:b};voontoPromised("userdata",d,voontoApp),firePromiseUserInterest(b),firedEventAccountsOnDataNoReady!==!0&&(firedEventAccountsSocializeUserDataReady=!0,sendDataToNewRelic({eventNameFired:"userDataReady",firedEventUserDataReady:!0,callId:"getUserInfoCallId: "+a.callId+" ; getAccountInfoCallId: "+b.callId}))})}function firePromiseUserInterest(a){var b="undefined"!=typeof a.data&&"undefined"!=typeof a.data.customerInterests?a.data.customerInterests:null,c={responseUserInterestData:b};voontoPromised("userinterestdata",c,voontoApp)}function updateLastestBackUrlWithUserFieldReturnUrlOnFirstLogin(){var a=!1;return"undefined"!=typeof account&&account&&"undefined"!=typeof account.data&&account.data&&"undefined"!=typeof account.data.registration&&account.data.registration&&("undefined"!=typeof account.data.registration.url&&account.data.registration.url&&(a=account.data.registration.url),"undefined"!=typeof account.data.registration.returnUrl&&account.data.registration.returnUrl&&(a=account.data.registration.returnUrl)),updateLastestBackUrl(a),a}function updateLastestBackUrl(a){var b=!1;return"undefined"!=typeof a&&a&&("/"===a?options.backURL="https://www."+getDomainTld(window.location.href):options.backURL=a,b=!0),b}function updateLastestBackUrlWithUserFieldReturnUrl(){var a=!1;if(!0===isFirstLogin())clearFieldReturnUrlInCookieVocUser(),a=updateLastestBackUrlWithUserFieldReturnUrlOnFirstLogin();else{var b=getCookieVocUserInformation("returnUrl");clearFieldReturnUrlInCookieVocUser(),a=updateLastestBackUrl(b)}return a}function updateReturnUrlTimeout(){var a=0;return!0===isFirstLogin()||(a=getCookieVocUserInformation("returnUrlTimeout")),a}function sincronizarLlamadasEcommercePaywall(a){var b="",c=getEventSeparator(),d=getVoontoApp();if(options.hasEcommerce){var e=!1,f=!1,g=getVocPaywallCookie();"undefined"!=typeof g&&g&&"undefined"!=typeof g.windowLocationOrigin&&g.windowLocationOrigin&&g.windowLocationOrigin!==window.location.origin&&(e=!0,f=!0);var h=getProducts();if(void 0!==h&&"undefined"!=typeof h&&h&&!0!==f){var i=!1;setVocPaywallCookie(i),b={e:a},fireEvent("products"+c+"onReady",b),eventProductsOnReady.resolve(b);var j=getNormalizedProductsFromSimpleStorage(h),k={responseProductsOnReady:j};voontoPromised("productsonready",k,d)}else synchronizeProducts(a,e)}else log("sincronizarLlamadasEcommercePaywall => El medio no tiene ecommerce activado: hasEcommerce = false","info"),b={e:a},fireEvent("products"+c+"onError",b),eventProductsOnReady.resolve(b)}function evolokIdAndSynchronizeProductsOnLogin(a){var b=!1;if("undefined"==typeof options.hasPaywall||!options.hasPaywall)return sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"",additionalInformation:"EvolokID llamada no realizada. El medio NO tiene hasPaywall activado - evolokIdAndSynchronizeProductsOnLogin"}),b;var c=null;if("undefined"!=typeof a.gigya_event&&(c=a.gigya_event),"undefined"!=typeof a.response&&(c=a.response),null===c&&(c=a),"undefined"==typeof c||!c||"undefined"==typeof c.data||!c.data)return sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"",additionalInformation:"EvolokID llamada no realizada. El usuario no tiene datos para realizar llamada - evolokIdAndSynchronizeProductsOnLogin"}),b;if("undefined"!=typeof c.data.paywall&&"undefined"!=typeof c.data.paywall.userId&&c.data.paywall.userId)sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"",additionalInformation:"EvolokID llamada no realizada. El usuario ya tiene EvolokID - evolokIdAndSynchronizeProductsOnLogin"}),synchronizeProducts(a,!0,!1,reloadOnLoginForEcommerce),b=!0;else{var d=(c.profile,c.data,encodeURIComponent(c.profile.email)),e=safeEncodeUserSignature(c.UID,c.UIDSignature,c.signatureTimestamp),f=options.authServer+"/api/v1/evolokId?"+e+"&email="+d;$.ajax({url:f+"&callback=?",contentType:"application/json",dataType:"jsonp",success:function(d){d.success?(log("evolokIdAndSynchronizeProductsOnLogin => ID paywall ("+d.uid+")","info"),sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"",additionalInformation:"EvolokID success. Response => Evolok ID: "+d.uid+", UID: "+c.UID+", email: "+c.profile.email+" - evolokIdAndSynchronizeProductsOnLogin"}),"undefined"!=typeof account&&account&&"undefined"!=typeof account.data&&account.data&&"undefined"!=typeof account.data.paywall&&account.data.paywall&&(account.data.paywall={},account.data.paywall.userId=d.uid,log("Seteando paywall id: "+account.data.paywall.userId,"info")),log(account,"info"),setAccountInfo({data:account.data}),"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&(a.data.paywall={},a.data.paywall.userId=d.uid),synchronizeProducts(a,!0,!1,reloadOnLoginForEcommerce),b=!0):(log("evolokIdAndSynchronizeProductsOnLogin => ERROR obteniendo ID paywall del usuario","error"),sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"Se ha realizado la llamada a Evolok, pero la respuesta no ha sido success",additionalInformation:"EvolokID error unsuccess response - evolokIdAndSynchronizeProductsOnLogin"}),reloadOnLoginForEcommerce())},error:function(a,b,c){log("evolokIdAndSynchronizeProductsOnLogin => ERROR obteniendo ID paywall del usuario - xhr","error"),sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"Error en la llamada ajax a evolok",additionalInformation:"EvolokID ajax error - evolokIdAndSynchronizeProductsOnLogin"}),reloadOnLoginForEcommerce()}})}return b}function handleSynchronizeProductsSuccess(a,b){var c={e:a,account:account};productsStorageCallback(a);var d=getVoontoApp(),e=getEventSeparator();fireEvent("products"+e+"onReady",c),eventProductsOnReady.resolve(c);var f={responseProductsOnReady:a};voontoPromised("productsonready",f,d),sendDataToNewRelic({eventNameFired:"busSynchronize",errorMessage:"",additionalInformation:b+" success - synchronizeProductsOnLogin"})}function handleSynchronizeProductsError(a,b,c){var d={e:a,account:account};log("synchronizeProducts => Error al sincronizar productos: "+b,"info");var e=getEventSeparator();fireEvent("products"+e+"onError"),eventProductsOnReady.resolve(d),sendDataToNewRelic({eventNameFired:"busSynchronize",errorMessage:c,additionalInformation:b+" ajax error - synchronizeProductsOnLogin"})}function productsStorageCallback(a){var b=!1,c="productsStorageCallback => Error: No hay productos";"undefined"!=typeof a.data&&a.data&&a.data.length?(c="productsStorageCallback => respuesta OK",b=setProducts(a.data),log(c,"info")):("undefined"!=typeof a.status&&a.status&&(c=c+"; Mensaje estado: "+a.status,log(c,"info")),log("productsStorageCallback => Por favor compruebe si existe bloqueo de urls: ","info"),log("productsStorageCallback => "+options.authServer+"/api/v1/paywall/busSynchronize","info"),log("productsStorageCallback => http://vocento.eb.sc.evolok.net/event-broker/services/rest/profileService/role","info"),setBusSynchronizeFlushed());var d=!0;return setVocPaywallCookie(d),b}function setProducts(a){var b=!1,c="";return"undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID?"undefined"!=typeof a&&a&&a.length&&"undefined"!=typeof simpleStorageDependency&&simpleStorageDependency?(simpleStorageDependency.set("products."+account.UID,a,{TTL:3e5}),c="setProducts: Datos de productos almacenados en localStorage.",b=!0):(c="setProducts: Error. No hay productos para el usuario con UID: "+account.UID,log("setProducts => products est vaco, por favor compruebe si funcionan las urls: ","error"),log("setProducts => "+options.authServer+"/api/v1/paywall/busSynchronize","error"),log("setProducts => http://vocento.eb.sc.evolok.net/event-broker/services/rest/profileService/role","error"),b=!0):c="trialsStorageCallback => setProducts - Error: El usuario no est logueado o no tiene datos.",log(c,"info"),b}function setBusSynchronizeFlushed(){var a=!1;return"undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID&&"undefined"!=typeof simpleStorageDependency&&protectedFunctions.simpleStorageDependency&&(simpleStorageDependency.set("busSynchronizeFlushed",!0,{TTL:3e5}),a=!0),a}function getUserTypeFromSimpleStorage(a){var b="anonimo",c="";if("undefined"!=typeof a&&a)"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.account&&a.gigya_event.account?c=a.gigya_event.account.UID:"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.UID&&a.gigya_event.UID?c=a.gigya_event.UID:"undefined"!=typeof a.response&&a.response&&"undefined"!=typeof a.response.account&&a.response.account?c=a.response.account.UID:"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.e&&a.gigya_event.e&&"undefined"!=typeof a.gigya_event.e.UID&&a.gigya_event.e.UID&&(c=a.gigya_event.e.UID);else{var d=protectedFunctions.getUser();"undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID?c=account.UID:"undefined"!=typeof d&&d&&"undefined"!=typeof d.UID&&d.UID&&(c=d.UID)}if(b="registrado",options.hasEcommerce){if("undefined"!=typeof c&&c){var e=getProducts(c);if("undefined"!=typeof e&&e&&e.length){b="registrado";var f=getTrialsFromProducts(e),g=getUserByTrials(f);b=g?g:b;var h=getSuscriptionsFromProducts(e);b=h.length?"suscriptor":b,b="periodista"===g?g:b}else log("getUserTypeFromSimpleStorage => Informacin: El usuario actual no tiene productos.","info")}}else log("getUserTypeFromSimpleStorage => El medio no tiene ecommerce activado: hasEcommerce = false","info");return b}function setVocPaywallCookie(a){var b=!1,c="."+userUtils.getMainDomain(),d="";d="undefined"!=typeof userTypeEkos&&userTypeEkos?userTypeEkos:getUserTypeFromSimpleStorage(),"undefined"!=typeof d&&d||(d="registrado");var e=!1;"undefined"!=typeof a&&a&&a===!0&&(e=a,"undefined"!=typeof $.removeCookie?$.removeCookie(PAYWALL_COOKIE_NAME,{domain:c,path:"/"}):$.cookie(PAYWALL_COOKIE_NAME,null,{domain:c,path:"/"}));var f=window.location.origin+"|"+d,g=f;return b=setCookiePureJS(PAYWALL_COOKIE_NAME,g,365,c,"/",e)}function removeEcommerceCookies(){log("removeEcommerceCookies => Eliminando cookies de Paywall","info");var a="."+userUtils.getMainDomain();"undefined"!=typeof $.removeCookie?($.removeCookie(PAYWALL_COOKIE_NAME,{domain:a,path:"/"}),$.removeCookie("busSynchronizeFlushedCookie",{domain:a,path:"/"})):($.cookie(PAYWALL_COOKIE_NAME,null,{domain:a,path:"/"}),$.cookie("busSynchronizeFlushedCookie",null,{domain:a,path:"/"}))}function getEcommerceCookiesOriginalContent(a){var b=!1,c="",d="";return c=getCookieOriginalContent(PAYWALL_COOKIE_NAME),d="undefined"!=typeof c&&c?a.push({name:PAYWALL_COOKIE_NAME,value:c}):void 0,b=a}function reloadOnLoginForEcommerce(){updateLastestBackUrlWithUserFieldReturnUrl();var a=updateReturnUrlTimeout(),b=!1;if(options.userIsInFlow&&(b=gigyaCnameSetSsoToken()),!cookieNewPasswordExists()&&("undefined"==typeof b||!1===b))if("undefined"!=typeof options.popUpMode&&!1===options.popUpMode&&options.userIsInFlow)fireEventRedirectToBackUrlOnLogin(a);else if(options.reloadOnLogin&&options.userIsInFlow){addLoginReloadCountToVocUserInformationCookie(1);var c=getCookieVocUserInformation("loginReloadCount");("undefined"==typeof c||null===c||"undefined"!=typeof c&&c&&2>=c)&&userUtils.reload();
}}function showLoadingSpinner(){var a=!1,b=$("#vocuser-loading-indicator");return"undefined"!=typeof b&&b&&b.length&&(b.css("display","flex"),b.show(),a=!0),a}function hideLoadingSpinner(){var a=!1,b=$("#vocuser-loading-indicator");return"undefined"!=typeof b&&b&&b.length&&(b.hide(),a=!0),a}function getUserByTrials(a){var b="";if("undefined"==typeof a||!a||!a.length)return b;b="trial";for(var c in a)a.hasOwnProperty(c)&&"undefined"!=typeof a[c].nombre&&"periodista"===a[c].nombre.toLowerCase()&&(b="periodista");return b}function getTrialsFromProducts(a){var b="";if("undefined"!=typeof a&&a){var c=$.grep(a,function(a){var b=!1;return"TRL"!==a.tipo?b:b=!0});b=c}return b}function getVocPaywallCookie(){var a=!1,b=getCookiePureJS(PAYWALL_COOKIE_NAME),c="";if("undefined"!=typeof b&&b)try{c=b.split("|"),a={windowLocationOrigin:c[0],vocUserType:c[1]}}catch(d){log("Error en getVocPaywallCookie() al decodificar la cookie: "+d,"error");var e=!0;setVocPaywallCookie(e),b=getCookiePureJS(PAYWALL_COOKIE_NAME),"undefined"!=typeof b&&b&&(c=b.split("|"),a={windowLocationOrigin:c[0],vocUserType:c[1]})}return a}function getSuscriptionsFromProducts(a){var b="";if("undefined"!=typeof a&&a){var c=$.grep(a,function(a){return"SCR"===a.tipo});b=c}return b}function getUserTypeFromCookieOrSimpleStorage(a){var b="anonimo",c="";if(c="undefined"!=typeof a&&a?"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.account&&a.gigya_event.account?a.gigya_event.account.UID:"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.UID&&a.gigya_event.UID?a.gigya_event.UID:"undefined"!=typeof a.response&&a.response&&"undefined"!=typeof a.response.account&&a.response.account?a.response.account.UID:"undefined"!=typeof a.gigya_event&&a.gigya_event&&"undefined"!=typeof a.gigya_event.e&&a.gigya_event.e&&"undefined"!=typeof a.gigya_event.e.UID&&a.gigya_event.e.UID?a.gigya_event.e.UID:vocUserGetData("uid"):vocUserGetData("uid"),"undefined"!=typeof c&&c&&(b="registrado"),options.hasEcommerce){var d=getVocPaywallCookie();if("undefined"!=typeof d&&d&&"undefined"!=typeof d.vocUserType&&d.vocUserType)b=d.vocUserType;else if("undefined"!=typeof c&&c){var e=getProducts(c);if("undefined"!=typeof e&&e&&e.length){b="registrado";var f=getTrialsFromProducts(e),g=getUserByTrials(f);b=g?g:b;var h=getSuscriptionsFromProducts(e);b=h.length?"suscriptor":b,b="periodista"===g?g:b}else log("getUserTypeFromCookieOrSimpleStorage => Informacin: El usuario actual no tiene productos.","info")}}else log("getUserType => El medio no tiene ecommerce activado: hasEcommerce = false","info");var i=getCookieVocUid("env");return i!==options.currentEnvironment&&!1===authenticated&&(b="anonimo"),b}function getUserType(){var a="anonimo",b="",c=getVocPaywallCookie();if("undefined"!=typeof c&&c&&"undefined"!=typeof c.vocUserType&&c.vocUserType)a=c.vocUserType;else if("function"==typeof vocUserGetData&&(b=vocUserGetData("uid")),"undefined"!=typeof b&&b||"undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID&&(b=account.UID),"undefined"!=typeof b&&b||"undefined"!=typeof user&&user&&"undefined"!=typeof user.UID&&user.UID&&(b=user.UID),"undefined"!=typeof b&&b){"undefined"!=typeof account&&account||(account={UID:b});var d={gigya_event:account};a="undefined"!=typeof userTypeEkos&&userTypeEkos?userTypeEkos:getUserTypeFromCookieOrSimpleStorage(d)}else log("getUserType => Error: No se ha encontrado el UID del usuario.","info");return a}function getVocEdition(){var a=null;try{a=$.cookie(EDITION_COOKIE_NAME)}catch(b){}return"undefined"!=typeof a&&a||"undefined"!=typeof window.vocento&&window.vocento&&"undefined"!=typeof window.vocento.site&&window.vocento.site&&"undefined"!=typeof window.vocento.site.editions&&window.vocento.site.editions&&"undefined"!=typeof window.vocento.site.editions.current&&window.vocento.site.editions.current&&(a=window.vocento.site.editions.current),a}function getDomainForSsoGroup(a){var b="";if("undefined"!=typeof a&&a){var c=domains[a];"undefined"!=typeof c&&c&&(c=c.split("."),c=c[0],b=c)}return b}function getAreaPersonalDomain(a){var b="javascript:void(0)",c=window.location.host;return c="undefined"!=typeof a&&a?a:c,b="https://areapersonal."+domains[options.ssoGroup],(/^des/.test(c)||/^areapersonal-des/.test(c)||/^areapersonalm-des/.test(c)||/^local/.test(c)||/^deshared/.test(c))&&(b="https://areapersonal-des."+domains[options.ssoGroup]),(/^integracion/.test(c)||/^pre/.test(c)||/^areapersonal-pre/.test(c)||/^areapersonalm-pre/.test(c))&&(b="https://areapersonal-predes."+domains[options.ssoGroup]),b}function isSiteAreaPersonal(){var a=!1;return(/^areapersonal-des/.test(window.location.host)||/^areapersonalm-des/.test(window.location.host)||/^areapersonal-pre/.test(window.location.host)||/^areapersonalm-pre/.test(window.location.host)||/^areapersonal/.test(window.location.host))&&(a=!0),a}function initAreaPersonalPageRouting(){var a=getAreaPersonalDomain(window.location.host),b="undefined"!=typeof options.route.personalAreaSuscriptionSectionURL&&options.route.personalAreaSuscriptionSectionURL?options.route.personalAreaSuscriptionSectionURL:"",c="undefined"!=typeof options.route.personalAreaCheckoutSectionURL&&options.route.personalAreaCheckoutSectionURL?options.route.personalAreaCheckoutSectionURL:"";options.page.areaPersonalSuscriptionPathname=a+b,options.page.areaPersonalCheckoutPathname=a+c}function getSubdomainContenidoExtra(){var a="www";return/^new-www/.test(window.location.host)&&(a="new-www"),(/^integracion/.test(window.location.host)||/^pre/.test(window.location.host)||/^areapersonal-pre/.test(window.location.host)||/^areapersonalm-pre/.test(window.location.host))&&(a="pre-www"),(/^des/.test(window.location.host)||/^areapersonal-des/.test(window.location.host)||/^areapersonalm-des/.test(window.location.host))&&(a="des-www"),a}function getFieldValueFromUserInfo(a,b){var c=!1;return isVarNotNull(a)&&isVarNotNull(b)&&(isVarNotNull(a[b])?c=a[b]:isVarNotNull(a.profile)&&isVarNotNull(a.profile[b])&&(c=a.profile[b])),c}function buildGenderWelcomeText(a){var b="Bienvenido";return isVarNotNull(a)&&"f"===a&&(b="Bienvenida"),b}function buildFirstNameText(a){var b="##nombre##";return isVarNotNull(a)&&(b=a),b}function buildUserNameText(a){var b="";if(isVarNotNull(a)){var c=getFieldValueFromUserInfo(a,"firstName"),d=getFieldValueFromUserInfo(a,"lastName"),e=getFieldValueFromUserInfo(a,"secondLastName"),f=getFieldValueFromUserInfo(a,"nickname");isVarNotNull(c)&&(b=c),isVarNotNull(d)&&(b=b+" "+d),isVarNotNull(e)&&!1===isVarNotNull(b)&&(b=e),isVarNotNull(b)===!1&&isVarNotNull(f)&&(b=f)}return b}function getUserInfoFromAccountOrUser(){var a={};return isVarNotNull(account)&&isVarNotNull(account.profile)?a=account:isVarNotNull(user)&&(a=user),a}function insertPictureInDomElement(a,b,c,d){var e=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&options.hasPaywall&&options.hasEcommerce){var f="vocento-login-screen-picture-"+b,g=c,h='<img id="'+f+'" src="'+g+'" />';"undefined"!=typeof d&&d&&(h='<a href="'+d+'">'+h+"</a>");var i=$(a);"undefined"!=typeof i&&i&&i.length&&i.html(h),e=!0}return e}function resetCaptchaFirefox(a){captcha=void 0,$(".pls-container").remove(),$("#"+a).empty(),captcha=grecaptcha.render(a,{sitekey:"6LdmZgYTAAAAADQC06sXwn22WX7n0s4Nc1cuj-v7",callback:captchaVerifyCallback})}function addParentDiv(a,b,c,d){var e=!1;if("undefined"!=typeof a&&a){var f=$("."+a+":visible");if("undefined"!=typeof f&&f&&f.length){var g=f.parents('div[class^="'+c+'"]'),h=!1;if("undefined"!=typeof g&&g&&g.length&&(h=!0),!1===h){var i="";"undefined"!=typeof b&&b&&(i=i+" id='"+b+"' "),"undefined"!=typeof c&&c&&(i=i+" class='"+c+"' "),"undefined"!=typeof d&&d&&(i=i+" "+d+" "),i="<div "+i+"></div>",f.wrap(i)}e=!0}}return e}function removeParentDiv(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e=$("."+a+":visible");if("undefined"!=typeof e&&e){if("undefined"!=typeof b&&b){var f=$("#"+b);"undefined"!=typeof f&&f&&f.length&&f.remove()}if("undefined"!=typeof c&&c){var g=$("."+c);"undefined"!=typeof g&&g&&g.length&&g.remove()}d=!0}}return d}function removeVoidElement(a){var b=!1;if("undefined"!=typeof a&&a){var c="",d=0;if(c=$("."+a),"undefined"!=typeof c&&c&&c.length)for(d=0;d<c.length;d++)("undefined"==typeof c[d].children||!c[d].children||c[d].children.length<=0)&&c[d].remove();if(c=$("#"+a),"undefined"!=typeof c&&c&&c.length)for(d=0;d<c.length;d++)("undefined"==typeof c[d].children||!c[d].children||c[d].children.length<=0)&&c[d].remove()}return b}function addModalClassToScreen(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d=$("."+a+":visible");"undefined"!=typeof d&&d&&d.length&&(d.addClass(b),c=!0)}return c}function getEventScreenName(a){var b=!1,c="";return"undefined"!=typeof a&&a&&("string"!==a.nextScreen&&a.nextScreen&&(c=a.nextScreen),"string"!==a.currentScreen&&a.currentScreen&&(c=a.currentScreen),"string"!==a.screen&&a.screen&&(c=a.screen),b=c),b}function findFieldInScreenByName(a,b){var c=!1,d="";return"string"!==b&&b&&"string"!==a&&a&&(d=$("#"+b+'[data-screenset-element-id="'+b+'"] *[name="'+a+'"]:first'),"string"!==d&&d&&0!==d.length||(d=$('[data-screenset-element-id="'+b+'"] *[name="'+a+'"]:first')),"string"!==d&&d&&0!==d.length||(d=$("#"+b+' input[name="'+a+'"]:first')),"string"!==d&&d&&d.length&&(c=d)),c}function getFieldValueInScreenByName(a,b){var c=!1;if("string"!==b&&b&&"string"!==a&&a){var d=findFieldInScreenByName(a,b);"undefined"!=typeof d&&d&&d.length&&(c=d.val())}return c}function findFieldInScreen(a,b){var c=!1;if("undefined"!=typeof b&&b){var d="",e="";d=getEventScreenName(b),"string"!==d&&d&&(e=$("#"+d+'[data-screenset-element-id="'+d+'"] *[name="'+a+'"]:first'),"string"!==e&&e&&0!==e.length||(e=$('[data-screenset-element-id="'+d+'"] *[name="'+a+'"]:first'))),"string"!==e&&e&&e.length&&(c=e)}return c}function scrollScreenToElementPosition(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var d=getEventScreenName(b);if(!1!==d){var e=findFieldInScreen(a,b),f=$("#header");if(!1!==e&&"undefined"!=typeof f&&f&&f.length){var g=e.offset().top,h=$("#header").offset().top,i=g-h;$("html, body").animate({scrollTop:i},200),c=!0}}}return c}function validateEmailForRegistration(a){return new promiseNamespace(function(b,c){var d=findFieldInScreen("email",a),e=d.val();if(!("undefined"!=typeof d&&d&&"undefined"!=typeof e&&e&&e.search(options.emailRegex)>=0))return b();var f=getAccountStatus(e);f.done(function(a){if(b(a),200===a.statusCode&&"undefined"!=typeof a.result&&a.result&&"undefined"!=typeof a.result.accountStatusCode&&a.result.accountStatusCode){var c=a.result.accountStatusCode;switch(c){case 200008:showPopUpRrssNotCompleted(a,e);break;case 200007:var d=a.result.accounts[0].providers;if(d.indexOf("facebook")<0){bindOnClickEventToGoogleLogin(),bindOnClickEventToSetPasswordForGoogleUser();break}bindOnClickEventToFacebookLogin(),bindOnClickEventToSetPasswordForFacebookUser();break;case 200010:bindOnClickEventToGoogleLogin(),bindOnClickEventToFacebookLogin(),bindOnClickEventToSetPasswordForFacebookUser()}}})})}function showPopUpRrssNotCompleted(a,b){var c=a.result.accounts[0].providers,d="Facebook";"facebook"!==c&&(d="Google");var e={screenSet:"ScreensetUnificado-RegistrationLogin",startScreen:"gigya-not-complete-registration-screen",dialogStyle:"legacy",context:{rrss:d,email:b},onAfterScreenLoad:function(a){$("form:visible").trigger("reset"),$("<div class='vocuser-overlay'></div>").insertBefore(".gigya-screen-dialog");var c=$("#vocuser-gigya-rrss-detected");isVarNotNull(c)&&c.length>0&&isVarNotNull(a.context.rrss)&&a.context.rrss.length>0&&(c.html(a.context.rrss),bindOnClickToFinishRrssRegistration(a.context.rrss)),simpleStorageDependency.set("user.email",b,{TTL:3e5}),bindOnClickToDismissRrssNotCompleted()},onHide:function(a){$(".vocuser-overlay").remove();var b=$('form:visible input[data-gigya-name="email"]'),c=$('form:visible span[data-bound-to="email"]');"undefined"!=typeof c&&c&&c.length&&"undefined"!=typeof b&&b&&b.length&&protectedFunctions.removeError(b,c)}};gigya.accounts.showScreenSet(e)}function isVarNotNull(a){var b=!1;return"undefined"!=typeof a&&a&&(b=!0),b}function thirdPartyCookiesBlocked(){var a=!1;return"undefined"!=typeof window.vocento_cd3&&"0"===window.vocento_cd3&&(a=!0),a}function gigyaCnameEnable(){var a=!1;return isVarNotNull(options)&&isVarNotNull(options.enableCNAME)&&!0===thirdPartyCookiesBlocked()&&(a=!0,isVarNotNull(gigya)&&isVarNotNull(gigya.thisScript)&&isVarNotNull(gigya.thisScript.globalConf)&&(gigya.thisScript.globalConf.enableSSOToken=options.enableCNAME)),a}function gigyaCnameSetSsoToken(){var a=!1;if(isVarNotNull(options)&&isVarNotNull(options.enableCNAME)){var b=!0;if(b){a=!0,"undefined"==typeof options.extensionType||"ecommerce"!==options.extensionType&&"upgrade"!==options.extensionType||updateLastestBackUrl(getExtensionCustomReturnUrl());var c="undefined"!=typeof options.backURL&&options.backURL?options.backURL:window.location.href;if(sendDataToNewRelic({eventNameFired:"setSSOToken",additionalInformation:"redirectUrl: "+c}),!0===shouldRedirectWithITP())gigyaITPSsoContinue();else{gigya.setSSOToken({redirectURL:c})}}else sendDataToNewRelic({eventNameFired:"No realizado - setSSOToken",additionalInformation:"browser: "+browser})}else sendDataToNewRelic({eventNameFired:"No realizado - setSSOToken",additionalInformation:"options.enableCNAME: "+options.enableCNAME+" ; browser: "+browser});return a}function getUrlParamValue(a){var b=null;if(!0===isVarNotNull(a)){var c={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,b,d){c[b]=d});!0===isVarNotNull(c)&&"undefined"!=typeof c[a]&&(b=c[a])}return b}function getAndCleanUrlParamValueFromNfrylCookie(a){var b=null,c=getNfrylCookie();if(!0===isVarNotNull(a)&&!0===isVarNotNull(c)){var d={};c.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,b,c){d[b]=c});if(!0===isVarNotNull(d)&&"undefined"!=typeof d[a]){b=d[a];try{var e=new RegExp("("+a+"=)(.*?&|.+$)"),f=e.exec(c),g=c.replace(f[0],"");("?"===g[g.length-1]||"&"===g[g.length-1])&&(g=g.substring(0,g.length-1)),createCookieForNfryl(g)}catch(h){}}}return b}function setEmailVerifiedMessage(a){var b=!1,c=window.location.href,d="comun/html/2014/verificacion-email.html";if(c.indexOf(d)>-1){var e=$("#gigya-vocento-container label"),f="Ha habido un error en la verificacin de tu correo electrnico, por favor intntelo ms tarde.";if(!0===isVarNotNull(e)&&e.length){var g=[];g[0]="Gracias! Tu correo electrnico ha sido verificado.","undefined"!=typeof a&&a||(g[0]="Gracias! Tu correo electrnico ha sido verificado y ya puedes iniciar sesin en la web o en la app. Recuerda navegar siempre identificado."),g[403002]="Este enlace ha caducado y tu registro, por seguridad, fue eliminado. Por favor, regstrate de nuevo.",g[400010]="Se ha producido un error en la verificacin de la cuenta. Por favor, regstrate de nuevo.",g[400006]="El enlace no es correcto, por favor comprueba que has seleccionado el enlace completo. Si el problema contina, podamos enviarte un nuevo mail para activar tu cuenta: intenta iniciar sesin y sigue las instrucciones.",g[206005]="Gracias! Tu correo electrnico ha sido verificado.";var h=getUrlParamValue("errorCode");!0===isVarNotNull(h)&&"undefined"!=typeof g[h]&&(f=g[h]),e.text(f),b=!0}}return b}function actionsAfterLastLoginIsSet(a){return evolokIdAndSynchronizeProductsOnLogin(a),"undefined"!=typeof options.hasEcommerce&&options.hasEcommerce||reloadOnLoginForEcommerce(),options.reloadOnLogin||getAccountInfo({}),!0}function actionsAfterLogin(a){var b=!1,c=setLastLogin({callback:function(){account=a,"undefined"!=typeof user&&user||(user=a)}}),d=function(b){actionsAfterLastLoginIsSet(a)},e=function(b){actionsAfterLastLoginIsSet(a)};return c.then(d,e),b}function sendLoginEventToNewRelicOnGigyaResponse(a){if("undefined"==typeof a||!a||"undefined"==typeof a.operation||!a.operation||"undefined"==typeof a.errorCode||a.operation.indexOf("accounts.login")<0)return!1;var b="undefined"!=typeof a.callId&&a.callId?a.callId:"",c=compareGigyaErrorCode(a.errorCode,0),d=a.errorCode.toString(),e=d.indexOf("206")>-1,f=d.indexOf("2000")>-1;if(!(c||e||f))return sendDataToNewRelic({eventNameFired:"loginError",firedEventLogin:!1,callId:b,errorMessage:a.errorMessage,errorCode:a.errorCode,additionalInformation:a.errorDetails+" "+a.statusMessage}),!0;var g=getCookieVocUserInformation("firedEventNotifyLogin");return"undefined"==typeof g||null===g||"undefined"!=typeof g&&!1===g?(sendDataToNewRelic({eventNameFired:"login",firedEventLogin:!0,callId:b,errorCode:a.errorCode,additionalInformation:""}),!0):!1}function facebookTrackInit(a){var b=!1,c=!1,d="1571136016517980";return"undefined"!=typeof a&&a&&(d=a),"undefined"!=typeof fevents&&!0===fevents&&(c=!0),!function(a,b,c,d,e,f,g){a.fbq||(e=a.fbq=function(){"undefined"!=typeof e.callMethod&&e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},a._fbq||(a._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],f=b.createElement(c),f.async=!0,f.src=d,g=b.getElementsByTagName(c)[0],g.parentNode.insertBefore(f,g))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),"function"==typeof fbq&&!1===c&&(fbq("init",d),b=!0),b}function facebookTrackEvent(a){var b=!1;return"undefined"!=typeof a&&a&&"function"==typeof fbq&&(fbq("track",a),b=!0),b}function facebookInyectTrackingPixelHtml(a,b,c){var d=!1;if("undefined"!=typeof a&&a){var e="",f="1571136016517980";"undefined"!=typeof b&&b&&(f=b);var g=document.createElement("img");g.height="1",g.width="1",g.style="display:none",g.src="https://www.facebook.com/tr?id="+f+"&ev="+a+"&noscript=1";var h=document.createElement("noscript");"undefined"!=typeof h&&h&&(h.appendChild(g),"undefined"!=typeof c&&c?(e=document.getElementById(c),"undefined"!=typeof e&&e||(e=document.body)):e=document.body,e.appendChild(h),d=!0)}return d}function addService(a,b){if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){protectedFunctions.setCurrentService(a),protectedFunctions.checkService(b);var c={e:b,account:account};eventServiceAdd.resolve(c)}}function getGigyaResponse(a){var b=null;return"undefined"!=typeof a&&a&&("undefined"!=typeof a.gigya_event&&a.gigya_event&&(b=a.gigya_event),"undefined"!=typeof a.response&&a.response&&(b=a.response),null===b&&(b=a)),b}function setUserNewslettersByFieldAdsMedia(a){var b=!1;if("undefined"!=typeof a&&a){var c=getGigyaResponse(a),d=!1;if("undefined"!=typeof c.data&&c.data&&"undefined"!=typeof c.data.adsMedia&&(d=c.data.adsMedia),"undefined"!=typeof d&&d){var e={UID:c.UID,UIDSignature:c.UIDSignature,signatureTimestamp:c.signatureTimestamp},f=options.authServerVocCore+"/vocuser/v1/media/newsletter/user/suscribe/byfield/adsmedia";$.ajax({url:f,type:"POST",data:e,async:!0,dataType:"json",success:function(a){b=a},error:function(a){b=a,log("setUserNewslettersByFieldAdsMedia:: Llamada a la api ajax errnea.","error")}})}}return b}function newslettersAutosuscribe(a){var b=options.authServerVocCore+"/vocuser/v1/user/newsletters/autosubscribe";try{"undefined"!=typeof a&&a&&"object"==typeof a&&$.ajax({url:b,type:"POST",data:a,async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(c){}}function updateDeleteUserNotificationFrecuency(a){var b=options.authServerVocCore+"/vocuser/v1/user/notifications_removal_freq/update";if("undefined"!=typeof a.UID&&a.UID&&"undefined"!=typeof a.UIDSignature&&a.UIDSignature&&"undefined"!=typeof a.signatureTimestamp&&a.signatureTimestamp){var c={UID:a.UID,UIDSignature:a.UIDSignature,signatureTimestamp:a.signatureTimestamp,frequency:"weekly"};try{$.ajax({url:b,type:"POST",data:c,async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(d){}}}function createUserInSelligent(a){var b=options.authServerVocCore+"/vocuser/v1/queue",c={uid:a,type:"gigya",action:[{create_user_selligent:{}}]};if(""===options.envVoccore)try{$.ajax({url:b,type:"POST",data:JSON.stringify(c),dataType:"json",success:function(a){},error:function(a){}})}catch(d){}}function updateUserCommunicationsInSelligent(){if(""===options.envVoccore){var a=protectedFunctions.getCookieAutoNewsletters(),b={UID:a},c=options.authServerVocCore+"/vocuser/v1/user/selligent/update";try{$.ajax({url:c,type:"POST",data:JSON.stringify(b),async:!0,dataType:"json",success:function(a){},error:function(a){}})}catch(d){}}}function compareGigyaErrorCode(a,b){var c=!1;return"undefined"!=typeof a&&"undefined"!=typeof b&&a==b&&(c=!0),c}function hideElement(a){var b=!1;if("undefined"!=typeof a&&a){var c=$(a);"undefined"!=typeof c&&c&&(c.hide(),b=!0)}return b}function showElement(a){var b=!1;if("undefined"!=typeof a&&a){var c=$(a);"undefined"!=typeof c&&c&&(c.show(),b=!0)}return b}function checkUserServiceAlreadyRegistered(a,b){var c=!1;if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof b[options.ssoGroup]&&b[options.ssoGroup])for(var d=b[options.ssoGroup].split(","),e=0;e<d.length;e++)a===d[e]&&(c=!0);else c=!1;return c}function getCustomerServiceFromCookieAndUpdateOptions(){var a=!1,b=getCookieVocUserInformation("customerService");return"undefined"!=typeof b&&b&&("undefined"!=typeof b.serviceReference&&b.serviceReference&&(options.serviceReference=b.serviceReference),"undefined"!=typeof b&&b&&"undefined"!=typeof b.serviceId&&b.serviceId&&(options.serviceId=b.serviceId.toString(),a=!0)),a}function updateCustomerServiceInCookieVocUser(a,b){var c=!1;if("undefined"!=typeof a&&a){var d={serviceId:a};"undefined"!=typeof b&&b&&(d.serviceReference=b),c=updateFieldInCookieVocUser("customerService",d,!0)}return c}function updateProductIdInCookieVocUser(a){var b=!1;if("undefined"!=typeof a&&a){var c=!0;b=updateFieldInCookieVocUser("productId",a,c)}return b}function setFieldInScreenForm(a,b,c){var d=!1;if("undefined"!=typeof b&&b&&"undefined"!=typeof a&&a){var e=findFieldInScreenByName(a,b);"undefined"!=typeof e&&e&&e.length&&(e.val(c),d=!0)}return d}function initEventListener(a){var b=!1,c=$("body");return b=c}function getMainEventListener(){return mainEventListener}function initEventNamespace(){return eventPrefixNamespace+eventPrefixSeparator+eventProjectNamespace+eventSeparator}function getEventNamespaceForBody(){var a="",b="vocento",c=".",d="gigya",e=".";return a=b+c+d+e}function getEventNamespaceForVoonto(){var a="",b="vocento",c=".",d="vocuser",e=":";return a=b+c+d+e}function getEventNamespace(){return eventNamespace}function getEventSeparator(){return eventSeparator}function hideFieldError(a){if("undefined"!=typeof a&&a){var b=$(a);"undefined"!=typeof b&&b&&b.length&&b.removeClass("gigya-error gigya-error-msg gigya-error-msg-active")}return!1}function getMarketingActionInfo(a){if("undefined"!=typeof a&&a){var b="undefined"!=typeof options.currentEnvironment&&options.currentEnvironment&&"pro"===options.currentEnvironment?"":"pre-",c="https://"+b+"catalogo-newsletters.vocento.com/marketing_action/list?code=";return $.ajax({url:c+a,type:"GET",dataType:"json"})}}function getParticipantInfoFromUser(a,b){var c={};if("undefined"==typeof b.UID||b.UID.length<=0||"undefined"==typeof b.UIDSignature||b.UIDSignature.length<=0||"undefined"==typeof b.signatureTimestamp||b.signatureTimestamp.length<=0||"undefined"==typeof b.profile||"undefined"==typeof b.profile.email||b.profile.email.length<=0)return c;c={referenceId:a,clientOrigin:"GG",UID:b.UID,UIDSignature:b.UIDSignature,email:b.profile.email,signatureTimestamp:b.signatureTimestamp,status:"finished",source:"gigyaExtension"};var d=["firstName","lastName","birthDay","birthMonth","birthYear","city","professionalHeadline"];c=searchFieldsInGigyaUserInfo(b.profile,d,c);var e=["secondLastName","nif","phoneMobile","province","industry","entradas.idThirdpartyTransfer"];return"undefined"!=typeof b.data&&Object.keys(b.data).length>0&&(c=searchFieldsInGigyaUserInfo(b.data,e,c)),c}function searchFieldsInGigyaUserInfo(a,b,c){return $.each(a,function(a,d){$.each(b,function(b,e){a===e&&(c[a]=d)})}),c}function createNewParticipationByQuery(a){var b=options.authServerVocCore+"/vocuser/v1/participants";$.ajax({url:b,type:"POST",dataType:"json",data:a})}function createNewParticipation(a,b,c,d,e){var f=options.authServerVocCore+"/vocuser/v1/participants";if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&"undefined"!=typeof d&&d&&"undefined"!=typeof e&&e){var g={referenceId:a,clientOrigin:"GG",UID:b,email:e,UIDSignature:c,signatureTimestamp:d,status:"finished",edition:1};$.ajax({url:f,type:"POST",dataType:"json",data:g,success:function(a){}})}}function getParticipationCount(a,b){var c="",d=options.authServerVocCore+"/vocuser/v1/participants/count/";if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b){var e={referenceId:a,clientOrigin:"GG",UID:b};c=$.ajax({url:d+a+"/GG/"+b,type:"GET",dataType:"json",data:e,success:function(a){},error:function(a,b,c){log("Error "+c)}})}return c}function createNewExtraUserData(a,b,c,d,e,f){var g=options.authServerVocCore+"/vocuser/v1/extrauserdata";if("undefined"!=typeof a&&a&&"undefined"!=typeof b&&b&&"undefined"!=typeof c&&c&&"undefined"!=typeof d&&d&&"undefined"!=typeof e&&e&&"undefined"!=typeof f&&f){var h={UID:a,UIDSignature:b,signatureTimestamp:c,email:d,userType:"GG",extraData:e,serviceReference:f};$.ajax({url:g,type:"POST",dataType:"json",data:h,success:function(a){}})}}function getUserResetToken(a){var b=window.location.href.split("/");b=getDomainTld(b[2]);var c="https://api.vocento.com/vocuser/media/www."+b+"/user/password/reset-by-token";if("pro"!==options.currentEnvironment&&(c="https://pre-api.vocento.com/vocuser/media/pre-www."+b+"/user/password/reset-by-token"),"undefined"!=typeof a&&a){var d={vocuser:{email:a}};return $.ajax({url:c,type:"POST",dataType:"json",data:d})}}function dismissNotCompletedRrssAccount(a){var b=options.authServerVocCore+"/vocuser/v1/user/dismiss-incomplete-rrss-account";if("undefined"!=typeof a&&a){var c={email:a};$.ajax({url:b,type:"POST",dataType:"json",data:c,success:function(a){}})}}function verifyUserByUid(a){var b={},c=window.location.href.split("/");c=getDomainTld(c[2]);var d="https://api.vocento.com/vocuser/media/www."+c+"/user";return"pro"!==options.currentEnvironment&&(d="https://pre-api.vocento.com/vocuser/media/pre-www."+c+"/user"),"undefined"!=typeof a&&a&&(b={vocuser:{uid:a,data:{verified:!0}}}),$.ajax({url:d,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(b)})}function getAccountStatus(a){var b="/vocuser/v1/user/account-status?email=",c=options.authServerVocCore+b;return $.ajax({url:c+encodeURIComponent(a),type:"GET",dataType:"json"})}function sendReminder(a){if("undefined"!=typeof a&&a){var b="/vocuser/v1/user/send-reminder",c=options.authServerVocCore+b,d={email:a};try{$.ajax({url:c,type:"POST",dataType:"json",data:d,success:function(b){showLoadingSpinner(),(null===$.cookie(VOCUSER_THANKYOU_COOKIE_NAME)||"undefined"==typeof $.cookie(VOCUSER_THANKYOU_COOKIE_NAME))&&createCookieVocUserTemporal(a),updateLastestBackUrl(getUrlRegisterConfirmationScreen),redirectOnCallVocUserService(options.backURL,0)}})}catch(e){}}}function setEcommerceInfo(a,b,c){if("undefined"!=typeof c&&c&&"undefined"!=typeof b&&b)try{$.ajax({url:c+b,type:"GET",dataType:"json",success:function(b){"undefined"!=typeof b.statusCode&&200===b.statusCode&&"undefined"!=typeof b.result&&b.result&&("undefined"!=typeof b.result.rtim&&b.result.rtim&&sendRtimDataToEvolok(b.result.rtim),"undefined"!=typeof b.result.cart&&"undefined"!=typeof b.result.cart.body&&"undefined"!=typeof b.result.benefit&&printEcommerceCustomHtml(b.result.cart,b.result.benefit,a),"undefined"!=typeof b.result.analytics&&fireEvent("analyticsProducts"+eventSeparator+"onDataReady",b.result.analytics))},error:function(a,b,c){log("setEcommerceInfo => ERROR en la llamada al api shopping Cart","error"),fireEvent("analyticsProducts"+eventSeparator+"onDataReady","")}})}catch(d){}else{var e={articleId:"",section:"funnel",category:"funnel",site:"",webtype:"estandard",Origen:"Magento",service:"ecommerce",funnel:"onPlus",funnelDate:"",funnelStep:"uno",funnelProducts:"",funnelProductsNames:""},f=getCookieVocUserInformation("rtim"),g=getCookieVocUserInformation("analytics");"undefined"!=typeof f&&null!==f&&Object.keys(f).length>0&&$.each(f,function(a,b){b&&$.each(e,function(c,d){c===a&&0===d.length&&(e[c]=b)})}),"undefined"!=typeof g&&null!==g&&"undefined"!==g.productName&&null!==g.productName&&g.productName&&(e.funnelProductsNames=g.productName),e.funnelDate=(new Date).toISOString().split("T")[0],sendRtimDataToEvolok(e)}}function sendRtimDataToEvolok(a){addAdditionalParamsRtim();var b=$.extend({},a,options.rtimAdditionalData),c="undefined"!=typeof options.currentEnvironment&&options.currentEnvironment&&"pro"===options.currentEnvironment?options.evolokUrlForRtimData.pro:options.evolokUrlForRtimData.pre,d=c.concat($.param(b));if("undefined"!=typeof d&&d)try{$.ajax({url:d,type:"GET",dataType:"json",success:function(a){},error:function(a,b,c){log("sendRtimDataToEvolok => ERROR enviando los datos de RTIM","error")}})}catch(e){}}function addAdditionalParamsRtim(){var a=getCookieOriginalContent("ev_ss");options.rtimAdditionalData.ev_ss="undefined"!=typeof a&&a?a:"";var b=getCookieOriginalContent("ev_sid");options.rtimAdditionalData.ev_sid="undefined"!=typeof b&&b?b:"";var c=getCookieOriginalContent("ev_did");options.rtimAdditionalData.ev_did="undefined"!=typeof c&&c?c:""}function printEcommerceCustomHtml(a,b,c){"undefined"!=typeof a.body&&a.body.length>0&&$("#"+c).find(".vocuser-ecommerce-shopping-cart").html(a.body)}function createAndSendAdditionalDataFilledAndJoinContest(a,b,c){var d={},e=protectedFunctions.prepareDataForAdditionalFilledMark(a,b,c);return d=protectedFunctions.setAccountInfo({data:e})}function performanceNow(){"undefined"!=typeof window.performance&&window.performance&&(window.performance={});var a="undefined"!=typeof performance.now?performance.now:"undefined"!=typeof performance.mozNow?performance.mozNow:"undefined"!=typeof performance.msNow?performance.msNow:"undefined"!=typeof performance.oNow?performance.oNow:"undefined"!=typeof performance.webkitNow?performance.webkitNow:"undefined"!=typeof Date.now?Date.now:function(){return Date().getTime()},b=0;try{b=a()}catch(c){}return b}function areCookiesEnabled(){try{var a="cookietest";document.cookie=a+"=1";var b=-1!==document.cookie.indexOf(a+"=");return document.cookie=name+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",b}catch(c){return!1}}function getCookieOriginalContent(a){var b=!1;if(document.cookie.length>0){var c=document.cookie.indexOf(a+"=");if(-1!==c){c=c+a.length+1;var d=document.cookie.indexOf(";",c);-1===d&&(d=document.cookie.length),b=document.cookie.substring(c,d)}}return b}function vocUserGetData(a){$.cookie.raw=!0;var b=$.cookie("voc_uid"),c="";if("undefined"!=typeof b&&b){"undefined"!=typeof gigyaUX&&gigyaUX&&(browser.indexOf("Safari")>-1||browser.indexOf("Mobile")>-1||browser.indexOf("-?")>-1)&&(b=decodeURIComponent(b));var d={cookie:b};c=decodeJsonCookieToObject(d),!1===c&&(c=decodeJsonCookieToObject(d))}return"undefined"==typeof c||"undefined"==typeof a?c:c[a]}function setCookiePureJS(a,b,c,d,e,f){var g,h=!1;if(c){var i=new Date;i.setTime(i.getTime()+24*c*60*60*1e3),g="; expires="+i.toUTCString()}else g="";return(!0===f||"undefined"==typeof getCookiePureJS(a)||null===getCookiePureJS(a))&&(document.cookie=a+"="+b+g+"; path="+e+"; domain="+d,h=!0),h}function getCookiePureJS(a,b){var c=null;if("undefined"==typeof a||!a||document.cookie.length<=0)return c;var d=document.cookie.indexOf(a+"=");if(-1===d)return c;d=d+a.length+1;var e=document.cookie.indexOf(";",d);-1===e&&(e=document.cookie.length);try{c="undefined"!=typeof b&&!1===b?document.cookie.substring(d,e):decodeURIComponent(document.cookie.substring(d,e))}catch(f){c=null}return c}function getProducts(a){var b="getProducts: El usuario no est logueado.";return"undefined"!=typeof protectedFunctions.simpleStorageDependency&&protectedFunctions.simpleStorageDependency?"undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID?b=simpleStorageDependency.get("products."+account.UID):"undefined"!=typeof a&&a&&(b=simpleStorageDependency.get("products."+a)):b=!1,
log(b,"info"),b}function flushProducts(a,b){"undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID||(account=b),"undefined"!=typeof user&&user&&"undefined"!=typeof user.UID&&user.UID||(user=b);var c="flushProducts: El usuario no est logueado.";return"undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID&&"undefined"!=typeof simpleStorageDependency&&simpleStorageDependency&&(simpleStorageDependency.deleteKey("products."+account.UID),synchronizeProducts(account,a,!1),c="flushProducts: borrado la clave de productos del usuario y llamada a synchronizeProducts()."),log(c,"info"),c}function getTrials(a){var b="getTrials: El usuario no est logueado.";return"undefined"!=typeof simpleStorageDependency&&simpleStorageDependency&&("undefined"!=typeof account&&account&&"undefined"!=typeof account.UID&&account.UID?b=simpleStorageDependency.get("trials."+account.UID):"undefined"!=typeof a&&a&&(b=simpleStorageDependency.get("trials."+a))),log(b,"info"),b}function getNormalizedProductsFromSimpleStorage(a){var b={addRolesToEvolokResponse:"",data:[]};return"undefined"!=typeof a&&a&&(b.data=a),b}function synchronizeProducts(a,b,c,d){log("synchronizeProducts => Lanzando consulta al API","info");var e="",f=!1,g=!1,h=getEventSeparator(),i=getVoontoApp(),j="function"==typeof d&&d?d:function(){},k="/api/v1/paywall/busSynchronize";options.hasPaywall||(k="/api/v1/bus/userProducts");var l=options.authServer+k;if("undefined"==typeof options.hasEcommerce||!options.hasEcommerce)return handleSynchronizeProductsError({},k,"busSynchronize llamada no realizada. El medio NO tiene hasEcommerce activado - synchronizeProductsOnLogin"),void j();if(f="undefined"!=typeof b&&b?!0:!1,"undefined"!=typeof protectedFunctions.simpleStorageDependency&&protectedFunctions.simpleStorageDependency&&(g=protectedFunctions.simpleStorageDependency.get("busSynchronizeFlushed")),!1===flushedProducts&&("undefined"==typeof g||!0!==g)||!0===f){l+="?callback=?";var m=getBusSynchronizeFirstCallFromVocUserInformationCookie();(!m||"undefined"!=typeof c&&!1===c)&&(l+="&dataFromCache=false");try{if("undefined"!=typeof options.serviceCallEkosTechnicalSynchronized&&options.serviceCallEkosTechnicalSynchronized){var n=sendRequestToServiceEkosTechnicalSynchronized();handleResponseServiceEkosTechnicalSynchronized(n);var o=function(a){flushedProducts=!0,j()},p=function(a){j()};n.then(o,p)}else $.ajax({url:l,data:getUserSignature(a,!1),contentType:"application/json",dataType:"jsonp",success:function(a){updateBusSynchronizeFirstCallInCookieVocUserInformation(),handleSynchronizeProductsSuccess(a,k),j()},error:function(a,b,c){handleSynchronizeProductsError(a,k,"Error en la llamada ajax a bus(onError)"),j()}}),flushedProducts=!0}catch(q){handleSynchronizeProductsError(q,k,"Error en llamada ajax a bus. Entrado en catch"),j()}}else{e={e:"productsOnReadyOK",account:a},fireEvent("products"+h+"onReady",e),eventProductsOnReady.resolve(e);var r=getProducts(),s=getNormalizedProductsFromSimpleStorage(r),t={responseProductsOnReady:s};protectedFunctions.voontoPromised("productsonready",t,i),sendDataToNewRelic({eventNameFired:"busSynchronize",errorMessage:"",additionalInformation:"busSynchronize llamada no realizada. No se han encontrado productos o ya se llamo - synchronizeProducts"});var u=!1;setVocPaywallCookie(u)}}function updateBusSynchronizeFirstCallInCookieVocUserInformation(){var a=updateFieldInCookieVocUser("busSynchronizeFirstCall",!0,!0);return a}function getBusSynchronizeFirstCallFromVocUserInformationCookie(){var a=getCookieVocUserInformation("busSynchronizeFirstCall");return"undefined"!=typeof a&&a||(a=!1),a}function checkPaywallId(a,b){var c=!1;if("undefined"==typeof options.hasPaywall||!options.hasPaywall)return log("checkPaywallId => No se ha realizado la llamada a /evolokId ; El medio no tiene paywall; hasPaywall = false","info"),sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"",additionalInformation:"EvolokID llamada no realizada. El medio NO tiene hasPaywall activado - checkPaywallId"}),c;var d=getGigyaResponse(a);if("undefined"==typeof d||!d||"undefined"==typeof d.data||!d.data)return sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"",additionalInformation:"EvolokID llamada no realizada. El usuario no tiene datos para realizar llamada - checkPaywallId"}),c;if("undefined"!=typeof d.data.paywall&&"undefined"!=typeof d.data.paywall.userId&&d.data.paywall.userId)sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"",additionalInformation:"EvolokID llamada no realizada. El usuario ya tiene EvolokID - checkPaywallId"}),"undefined"!=typeof b&&b&&"function"==typeof b&&b(a);else{var e=(d.profile,d.data,encodeURIComponent(d.profile.email)),f=safeEncodeUserSignature(d.UID,d.UIDSignature,d.signatureTimestamp),g=options.authServer+"/api/v1/evolokId?"+f+"&email="+e;$.ajax({url:g+"&callback=?",contentType:"application/json",dataType:"jsonp",success:function(e){if(e.success){log("checkPaywallId => ID paywall ("+e.uid+")","info"),sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"",additionalInformation:"EvolokID success. Response => Evolok ID: "+e.uid+", UID: "+d.UID+", email: "+d.profile.email+" - checkPaywallId"});var f={};f.paywall={},f.paywall.userId=e.uid,updateAccountData(f),log("Seteando paywall id: "+account.data.paywall.userId,"info"),log(account,"info"),setAccountInfo({data:f}),"undefined"!=typeof a&&a&&"undefined"!=typeof a.data&&a.data&&(a.data.paywall={},a.data.paywall.userId=e.uid),"undefined"!=typeof b&&b&&"function"==typeof b&&b(a),c=!0}else log("checkPaywallId => ERROR obteniendo ID paywall del usuario","error"),sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"Se ha realizado la llamada a Evolok, pero la respuesta no ha sido success",additionalInformation:"EvolokID error unsuccess response - checkPaywallId"})},error:function(a,b,c){log("checkPaywallId => ERROR obteniendo ID paywall del usuario - xhr","error"),sendDataToNewRelic({eventNameFired:"evolokId",errorMessage:"Error en la llamada ajax a evolok",additionalInformation:"EvolokID ajax error - checkPaywallId"})}})}return c}function getAllErrorsInScreen(a){var b=[],c=$("#"+a).find("input:visible");return c.each(function(a,c){"undefined"!=typeof c&&"undefined"!=typeof $(c).attr("name")&&$(c).attr("name").length&&$(c).hasClass("gigya-error")&&b.push($(c).attr("name"))}),b}function registerRRSSUser(a,b){var c={data:getHiddenRegistrationFields(),profile:getProfileFields(b.email),regToken:a},d={regToken:a},e=setAccountInfo(c);showLoadingSpinner();var f=function(a){finalizeRegistration(d)},g=function(a){finalizeRegistration(d)};e.then(f,g)}function getHiddenRegistrationFields(){var a=options.ssoGroup,b={};b[a]=!0;var c={};return c[a]=options.service,{registration:{ssoGroup:options.ssoGroup,service:options.service,domain:window.location.hostname,url:window.location.href,returnUrl:options.backURL,browserAgent:navigator.userAgent,system:{version:protectedFunctions.version(),name:options.systemName},privacyPolicy:"20180525"},legaltermsLastUpdate:options.legaltermsLastUpdate,isImported:!1,legalterms:b,services:c}}function getProfileFields(a){return{nickname:generateUniqueNickname(a)}}function generateUniqueNickname(a){return a.split("@")[0]+"_"+(new Date).getMilliseconds()+Math.floor(10*Math.random()+1)}var version=("v3"===vocento.vocuser.VERSION?"3":"4")+".84.5",authenticated=!1,user=null,account=null,initialParams={},getJsErrors=function(){},sendDataToNewRelic=function(){},totalStartingTime=+new Date,firedEventGigyaAccountsOnLogin=!1,firedEventVocUserCookieVocUidUpdated=!1,firedEventAccountsSocializeUserDataReady=!1,firedEventAccountsOnDataNoReady=!1,firedEventSocializeOnDataNoReady=!1,cookiesRemoved=!1,eventProductsOnReady=$.Deferred(),eventSetAccountInfoCallback=$.Deferred(),eventCheckService=$.Deferred(),eventServiceAdd=$.Deferred(),eventTokenJWTCreated=$.Deferred(),eventRedirectToBackUrlOnLogin=$.Deferred(),eventAccountsOnLogin=$.Deferred(),eventSocializeOnLogin=$.Deferred(),eventGetAccountInfo=$.Deferred(),eventGetUserInfo=$.Deferred(),eventLastActionBeforeRedirect=$.Deferred(),eventAdditionalData=$.Deferred(),loginAttemps=0,userClickedLogout=!1,gigyaResponse=null,captcha,options={},isFirstComment=!1,flushedProducts=!1,mainEventListener=initEventListener(voontoApp),promiseNamespace=initPromiseNamespace(),browser="undefined"!=typeof userUtils.webBrowserDetector?userUtils.webBrowserDetector():"",eventPrefixNamespace="vocento",eventPrefixSeparator=".",eventProjectNamespace="v3"===vocento.vocuser.VERSION?"gigya":"vocuser",eventSeparator="v3"===vocento.vocuser.VERSION?".":":",eventNamespace=initEventNamespace(),reactFw=initReactFramework(voontoApp),reactDOM=initReactDOMFramework(voontoApp),reactIsLoaded=reactLoaded(),urlAreaPersonal="",simpleStorageDependency=initSimpleStorage(dependencyContainer),protectedFunctionsSimpleStorageDependency=getSimpleStorageDependency(),configManager=initDependency(dependencyContainer,"configManager"),DOMPurify=initDependency(dependencyContainer,"DOMPurify"),configDOMPurify={USE_PROFILES:{html:!0}},userIsInAppWebviewFlowAux=!1,AppWebview="";"undefined"!=typeof externalOptions.userIsInAppWebviewFlow&&externalOptions.userIsInAppWebviewFlow&&(AppWebview=initDependency(dependencyContainer,"AppWebview"),userIsInAppWebviewFlowAux=!0,AppWebview.getConsole()),userUtils=initUserUtils(userUtils);var log=function(){},safeInvoke=function(){};userUtils.safeInvoke&&(safeInvoke=userUtils.safeInvoke);var getContext=function(){};userUtils.getContext&&(getContext=userUtils.getContext);var translateError=function(){};userUtils.translateError&&(translateError=userUtils.translateError);var screenSetTypeToShow=window.location.href.indexOf("screenset=app")>-1?"app":"web",screenSetTypeToShowMobile=window.location.href.indexOf("screenset=app")>-1?"app":"mobile",enableAdditionalDataPage=!1,additionalDataActivatedBy="",showInterestsFields=!1,showNewslettersFields=!1,additionalManifest={},customInterestsFields={},customNewsLettersFields={},newslettersChecksBox=[],userNewslettersList=[],dataValidationZipObject={},className=getClassName(),QUEID_COOKIE_NAME="queid_log",UID_COOKIE_NAME="voc_uid",JWT_COOKIE="id_token",EDITION_COOKIE_NAME="voc_edition",NFRYL_COOKIE_NAME="vocuser_nfryl_volver_al_origen",EVK_COOKIE_NAME="evk_",PAYWALL_COOKIE_NAME="voc_paywall",VOCUSER_NEW_PASSWORD_NAME="vocuser_new_password",NEWSLETTERS_COOKIE_NAME="vocuser_arealibre_newsletters",VOCUSER_COOKIE_NAME="vocuser_information",VOCUSER_THANKYOU_COOKIE_NAME="vocuser_user_email",AUTO_NEWSLETTERS_COOKIE_NAME="vocuser_autosuscripcion_newsletters",RESEND_EMAIL_COOKIE_NAME="vocuser_resend_email_verfication",FROM_QUALIFIO_COOKIE_NAME="vocuser_referrer_from_qualifio",userTypeEkos="",flows=[],vocServicesPath={voccore:{crossdomain:{GET:"/vocuser/v1/crossdomain",POST:"/vocuser/v1/crossdomain",UPDATE:"/vocuser/v1/crossdomain",DELETE:"/vocuser/v1/crossdomain",OPTIONS:"/vocuser/v1/crossdomain"}},"media-data-transfer-service":{"data-transfer":{GET:"/media-data-transfer/data-transfer",POST:"/media-data-transfer/data-transfer",UPDATE:"/media-data-transfer/data-transfer",DELETE:"/media-data-transfer/data-transfer",OPTIONS:"/media-data-transfer/data-transfer"}},"ekos-technical-synchronized":{"ekos-technical-synchronized-product":{GET:"/technical-synchronized/V01/synchronized/product",POST:"/technical-synchronized/V01/synchronized/product",UPDATE:"/technical-synchronized/V01/synchronized/product",DELETE:"/technical-synchronized/V01/synchronized/product",OPTIONS:"/technical-synchronized/V01/synchronized/product"}}},vocServicesSubdomain={voccore:"voccore","voccore-sevilla":"voccore-sevilla","media-data-transfer-service":"api","ekos-technical-synchronized":"ekos-technical-synchronized"},vocServicesEnvironmentPrefix={voccore:{local:"des",des:"des",dev:"des",pre:"pre",pro:""},"media-data-transfer-service":{local:"des",des:"des",dev:"des",pre:"pre",pro:""},"ekos-technical-synchronized":{local:"pre",des:"des",dev:"des",pre:"pre",pro:""}},vocServicesPrefix={voccore:{local:"-",des:"-",dev:"-",pre:"-",pro:""},"voccore-sevilla":{local:"-",des:"-",dev:"-",pre:"-",pro:""},"media-data-transfer-service":{local:"-",des:"-",dev:"-",pre:"-",pro:""},"ekos-technical-synchronized":{local:"-",des:"-",dev:"-",pre:"-",pro:""}},vocServicesHeaderAuth={voccore:{local:{},des:{},pre:{},pro:{}},"media-data-transfer-service":{local:{},des:{},pre:{},pro:{}},"ekos-technical-synchronized":{local:{abc:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMTEyLTAwMyIsIm5hbWUiOiJQUkUifQ.F4DiysgTOVbtuxRXU5tQP2h5gZ8xExyjpKBCcLgXnOxjKkAw5xP92umEijt9lt5TW2ZkEddhIVNMjWyF9UsX5w",elcorreo:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA1LTAwMyIsIm5hbWUiOiJQUkUifQ.Civ4B7kFJAUSPShkXZuEL_H2IJDYAzitio8wDYWdXRZwY-D4eWCmYVLSgChOZut9eSvHUgimrQtSNnwVerW4Cw",larioja:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA4LTAwMyIsIm5hbWUiOiJQUkUifQ.xYXzSexT_cQEJpcFw1K_EnFjKV0tIZmhs-xBd06jRFHLYXBrtDz8OtgVTFXo7WJQOSObk_KTpm80iV7VoUC-ew",elnortedecastilla:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDE0LTAwMyIsIm5hbWUiOiJQUkUifQ.yO_A7VLEyKct7azvYyDhiMzuTmJ6a7-h0Bgp6lNfRoNoFZZEWY4Fyu8n9t5SRCFfdPTzCVyt82_TrQhzJ6LCuQ",diariovasco:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA2LTAwMyIsIm5hbWUiOiJQUkUifQ.KTv1DGIzsiaPW34HJeBuUOQObEZuG7NeGMhbSPyt5g6eVZgBh1cRRGCGjU0LG9dVh5XARA_m_d30xm2Q9el8Pg",eldiariomontanes:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA3LTAwMyIsIm5hbWUiOiJQUkUifQ.76fAru17oillp8hzQcq1s1Aszwvwf1k4-B8act402u6hO2uTNOOCNgVrzht8ZVdjpboZMoPmrAM7TiVZKPnqjg",laverdad:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA5LTAwMyIsIm5hbWUiOiJQUkUifQ.qMuwjLf-7K6vyZbttZ6zmihlQPfKABHi59jz3fn6M4Y69ImT_7N5XtggoFIvi2fzJugcQMkw5D8GHiL6z2IYgg",ideal:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDEwLTAwMyIsIm5hbWUiOiJQUkUifQ.HJRt9Pon6YfmwbDhWIlgMfwDEd5k7dusbGamxoJon48hkEwh9HysSXQlNDGy6cc57FqOcVtPrR51e1LchxnD2w",diariosur:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDEyLTAwMyIsIm5hbWUiOiJQUkUifQ.1E15QSdctwojamWyUCHl-OrpbKzs4WgjEIPXN_BLOeOr0hCS0Z4gWEOH36umqrct9MS5_B81aGSA7QOavrtJiw",elcomercio:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDM1LTAwMyIsIm5hbWUiOiJQUkUifQ.oMcs3qxSC4nw76iHoQ6ZPDJsxGxWgR2BFakzAKltME67h63j9bjKkjhDjsOndvNjI3qgO5VZIHojvpXSuQToKw",lasprovincias:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDg2LTAwMyIsIm5hbWUiOiJQUkUifQ.5VhMgmZYLfkyPeeBUcrlUXf3j7kmz1e8OENFH1v_cPpHjvqMdX2dLxRZKPHsig-RzVR0axtysLmK9_xwNYkTPw",hoy:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDkwLTAwMyIsIm5hbWUiOiJQUkUifQ.UsrqwBV5abM9RN4YMEzQYwoINYTzCWOZBL8p2aHH4yVdWHyM_eXRn-bN42a4O2Gv8BlIQy-COU-1_gPa4w_wsw"},des:{abc:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMTEyLTAwMyIsIm5hbWUiOiJERVMifQ.EQUciOkHHibBHtytgr4o-sENeRVF1l5wDPdTrjJb4sIUQV-CpSn0fIkzs37cNKuhg1BMuR7NIWafoUchp5fPWQ",elcorreo:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA1LTAwMyIsIm5hbWUiOiJERVMifQ.EjoS84hT7e93RQxoAKm8CN02CNRDCEOQNNiuM7Ly-4ImCqgTGxqSRgTHE7GZPF69Ed68_y2PL4YCwmAXZ7Wu7Q",larioja:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA4LTAwMyIsIm5hbWUiOiJERVMifQ.fh-YthkI5u2eCxge7POnpBJsEA9UjSTKpCzmly5QGjVWJ-efVLtqAOYpMW_XpGbtleknWoG2IK4-E6P2LAaSPA",elnortedecastilla:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDE0LTAwMyIsIm5hbWUiOiJERVMifQ.IXEaIAbkH6NoQCzr4ESYLYQAanxB750rpvxBIBtJilAhf0frSPTl505uxhGuDbi70ynGFb__RM-xzImbuElhow",diariovasco:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA2LTAwMyIsIm5hbWUiOiJERVMifQ.KvaFilce5f9NG4DidbNvTtPxqsBdRIXxB45dOXaNVyeN_9AB-qzFzZrBTrpBhaJyxM1RseGdJsSpqxuchdHIAg",eldiariomontanes:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA3LTAwMyIsIm5hbWUiOiJERVMifQ.3Oud0iD1AFW1eteg8MTy5pLo3tOkaDWbWel_M9VU_3uGEUqxGvU4nzThdoKnDPnkTc3wwB2nRqgILxEFjcz32A",laverdad:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA5LTAwMyIsIm5hbWUiOiJERVMifQ._DdsQ9XSgudStTbK_m6HGg_JGh9_uW0CGn4zk0eFJhvWrqNZD4Yj2L8JupL-GF7uSUHutosJNS-7OzmgALR2hw",ideal:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDEwLTAwMyIsIm5hbWUiOiJERVMifQ.VDhyW2LlT0GEnrxvIaY0z5y98fYExbrNjpDYYl60O7cOVtRacMi0d8J7IzjmpkiftoHf40xqBhRRLEBj3rbb8A",diariosur:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDEyLTAwMyIsIm5hbWUiOiJERVMifQ.4P1zoYHhOmGbGifJ4KuYVf3jCWENpJ4rbGNp9OOPwx91AZ2CeaouHhfXDR0AnatuQlsJRfeNgibDKjiDfpiqUQ",elcomercio:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDM1LTAwMyIsIm5hbWUiOiJERVMifQ.fqtPXmNMKm-XLBxTwXMPPFyXsKhe0rGQiX0mUvbd3IHKxEu5Z-P9eFW2DRsSWZ0fbOddBHRGCYEZd06zUroXYw",lasprovincias:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDg2LTAwMyIsIm5hbWUiOiJERVMifQ.sZW_ymw0YJZMCZMbzp79tkfCL4Ccranlfe7bLGysuNvGt-Nne_10fF1UrzN7nHg29d_882847tqqq1vUaV6UhA",hoy:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDkwLTAwMyIsIm5hbWUiOiJERVMifQ.gMeDhXEmXo-Qe3ZAZ4CVQOOxwUWvhRa9IdxA9dbB7zW5-R5tJP7X9wdyI3FN94mpzTDms4CGgg20NJxP4C5MQA"},pre:{abc:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMTEyLTAwMyIsIm5hbWUiOiJQUkUifQ.F4DiysgTOVbtuxRXU5tQP2h5gZ8xExyjpKBCcLgXnOxjKkAw5xP92umEijt9lt5TW2ZkEddhIVNMjWyF9UsX5w",elcorreo:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA1LTAwMyIsIm5hbWUiOiJQUkUifQ.Civ4B7kFJAUSPShkXZuEL_H2IJDYAzitio8wDYWdXRZwY-D4eWCmYVLSgChOZut9eSvHUgimrQtSNnwVerW4Cw",larioja:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA4LTAwMyIsIm5hbWUiOiJQUkUifQ.xYXzSexT_cQEJpcFw1K_EnFjKV0tIZmhs-xBd06jRFHLYXBrtDz8OtgVTFXo7WJQOSObk_KTpm80iV7VoUC-ew",elnortedecastilla:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDE0LTAwMyIsIm5hbWUiOiJQUkUifQ.yO_A7VLEyKct7azvYyDhiMzuTmJ6a7-h0Bgp6lNfRoNoFZZEWY4Fyu8n9t5SRCFfdPTzCVyt82_TrQhzJ6LCuQ",diariovasco:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA2LTAwMyIsIm5hbWUiOiJQUkUifQ.KTv1DGIzsiaPW34HJeBuUOQObEZuG7NeGMhbSPyt5g6eVZgBh1cRRGCGjU0LG9dVh5XARA_m_d30xm2Q9el8Pg",eldiariomontanes:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA3LTAwMyIsIm5hbWUiOiJQUkUifQ.76fAru17oillp8hzQcq1s1Aszwvwf1k4-B8act402u6hO2uTNOOCNgVrzht8ZVdjpboZMoPmrAM7TiVZKPnqjg",laverdad:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA5LTAwMyIsIm5hbWUiOiJQUkUifQ.qMuwjLf-7K6vyZbttZ6zmihlQPfKABHi59jz3fn6M4Y69ImT_7N5XtggoFIvi2fzJugcQMkw5D8GHiL6z2IYgg",ideal:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDEwLTAwMyIsIm5hbWUiOiJQUkUifQ.HJRt9Pon6YfmwbDhWIlgMfwDEd5k7dusbGamxoJon48hkEwh9HysSXQlNDGy6cc57FqOcVtPrR51e1LchxnD2w",diariosur:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDEyLTAwMyIsIm5hbWUiOiJQUkUifQ.1E15QSdctwojamWyUCHl-OrpbKzs4WgjEIPXN_BLOeOr0hCS0Z4gWEOH36umqrct9MS5_B81aGSA7QOavrtJiw",elcomercio:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDM1LTAwMyIsIm5hbWUiOiJQUkUifQ.oMcs3qxSC4nw76iHoQ6ZPDJsxGxWgR2BFakzAKltME67h63j9bjKkjhDjsOndvNjI3qgO5VZIHojvpXSuQToKw",lasprovincias:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDg2LTAwMyIsIm5hbWUiOiJQUkUifQ.5VhMgmZYLfkyPeeBUcrlUXf3j7kmz1e8OENFH1v_cPpHjvqMdX2dLxRZKPHsig-RzVR0axtysLmK9_xwNYkTPw",hoy:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDkwLTAwMyIsIm5hbWUiOiJQUkUifQ.UsrqwBV5abM9RN4YMEzQYwoINYTzCWOZBL8p2aHH4yVdWHyM_eXRn-bN42a4O2Gv8BlIQy-COU-1_gPa4w_wsw"},pro:{abc:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMTEyLTAwMyIsIm5hbWUiOiJQUk8ifQ.BWSRBk_3ib2I6io25NYjAxZqUK-FbF22txP-3yDEvaP5ThvkdrLZ3gCMAAAK6nvivkrc8t2Oz0W8HnRc4CdWTQ",elcorreo:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA1LTAwMyIsIm5hbWUiOiJQUk8ifQ.fj7E4OSZsqiH9eafedxuUGIbTf8mf6KSmYRFMibP2PTi1p_Q3qB7DkW5ZnAhgRbUg1ud_3wjHr4U6Kv-qepAeg",larioja:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA4LTAwMyIsIm5hbWUiOiJQUk8ifQ.FfaEzCOLw84Y-RvzdjLv7OTL-4D8lTNYI4YLwO_NiVSj5ynvGG4dt7XL8_juVSD9NIZ9e77abz5DBUkB1T_fig",elnortedecastilla:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDE0LTAwMyIsIm5hbWUiOiJQUk8ifQ.wxbaSWrPP1goBrD1GEUpJzqzkULcrzrPwIvTKLX7EmFOofCMLo_XEU4YAmy5sstJ7s2CGxFUBwgxhH4PUzNy2g",diariovasco:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA2LTAwMyIsIm5hbWUiOiJQUk8ifQ.6NWv37O8AdmjHLJSvbY17W1gDN1WVMxIGVTvjBAz2p6sY1RbEjlw0UqRqDeDZZJTAYjsZA3GswpYOnS0qsdkcw",eldiariomontanes:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA3LTAwMyIsIm5hbWUiOiJQUk8ifQ.W1Z7oIc19f6d8EwrMMQHHN-9-qTp9j6ACzrZKFVd63Tfqc9qqYACWi_SNJeDqe2lAPy5y76SSx8rIk78d1V2JA",laverdad:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDA5LTAwMyIsIm5hbWUiOiJQUk8ifQ.bbEhRWI3Zl08qiEiYXeFBNXUHLfphWuMgSZpDmEzJDd4MsXPTTIy3a09RRL5PFtYdE-yYTsB0zie1OXIQ4RcIw",ideal:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDEwLTAwMyIsIm5hbWUiOiJQUk8ifQ.gxG1Wx0vsmvoEos-paIiGCZ1rdUMvcR827w2kxANt-TXU4KUiPn8QVX4zhINwAgdpK_irM7eNI-8raegAyNGDw",diariosur:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDEyLTAwMyIsIm5hbWUiOiJQUk8ifQ.Hnw7Q88VQw_m5K6SCkfmPRbg_zuITkBWexEB3fhqU_Fzq1sqMZ0C-g7b8rZHMZunn9vy80sB4kh6ZF-WvjJlYA",elcomercio:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDM1LTAwMyIsIm5hbWUiOiJQUk8ifQ.E3PRQgVFUKxCYf-nlxMSiiXHOP6Np6l0ArqXZZzYqlg4ZmtkPcWfeLXntGlevXjZ3-_8klElm4YEw5AtJTYCqA",lasprovincias:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDg2LTAwMyIsIm5hbWUiOiJQUk8ifQ.xt_5e17fw6Un9cTrv_DyzjJem96DFdqIWBfUNkhPbeC-lSY1dtpXIKfK4ykGh1ISg8wWBhMieClsJN5mggJsLA",hoy:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJDMDkwLTAwMyIsIm5hbWUiOiJQUk8ifQ.dGnYQerDXrCrors2tUdXWu8DEjSxE_8iy9fXLDw3ed8fejKH1uz6VrPZ5vEZWInWf8evaxEn2YZ74cUxJLiuHw"}}},domains={abc:"abc.es",sur:"diariosur.es",diariovasco:"diariovasco.com",elcomercio:"elcomercio.es",correo:"elcorreo.com",elcorreo:"elcorreo.com",diariomontanes:"eldiariomontanes.es",nortedecastilla:"elnortedecastilla.es",finanzas:"finanzas.com",hoy:"hoy.es",ideal:"ideal.es",larioja:"larioja.com",lasprovincias:"lasprovincias.es",laverdad:"laverdad.es",lavoz:"lavozdigital.es",hoymujer:"mujerhoy.com",leonoticias:"leonoticias.com",surinenglish:"surinenglish.com",eslang:"eslang.es",xlsemanal:"xlsemanal.com",codeanyapp:"diariovasco.com",burgosconecta:"burgosconecta.es",madridfusion:"madridfusion.net",pidentradas:"pidentradas.com",canarias7:"canarias7.es"},captchaVerifyCallback=function(a){var b=$("#g-recaptcha").find("iframe"),c=$("#g-recaptcha-login").find("iframe");b.removeAttr("name"),c.removeAttr("name");var d=$("#g-recaptcha").find("textarea"),e=$("#g-recaptcha-login").find("textarea"),f=$("#g-recaptcha-response");f.removeAttr("name"),d.removeAttr("name"),e.removeAttr("name"),$("#vocento-error-captcha-msg").html(""),$("#vocento-error-captcha-msg").removeClass("gigya-error-msg gigya-error-msg-active")},protectedFunctions={showLogin:showLogin,showRegistration:showRegistration,showProfile:showProfile,showChangePasswdProfile:showChangePasswdProfile,showProfileUpdated:showProfileUpdated,logout:logout,showScreenSet:showScreenSet,setAccountInfo:setAccountInfo,socialLogin:socialLogin,safeEncodeUserSignature:safeEncodeUserSignature,setCurrentService:setCurrentService,getCurrentService:getCurrentService,insertPictureInDomElement:insertPictureInDomElement,getDomainForSsoGroup:getDomainForSsoGroup,getAreaPersonalDomain:getAreaPersonalDomain,addParentDiv:addParentDiv,removeParentDiv:removeParentDiv,addModalClassToScreen:addModalClassToScreen,removeSimpleStorage:removeSimpleStorage,findFieldInScreen:findFieldInScreen,removeVoidElement:removeVoidElement,getEventProductsOnReady:function(){return eventProductsOnReady},getAccount:function(){return account},getUser:function(){return user},getReactFramework:function(){return reactFw},getReactDOM:function(){return reactDOM},setReactFramework:function(a){reactFw=a},setReactDOM:function(a){reactDOM=a},createCookie:createCookie,fireEvent:fireEvent,getUserSignature:getUserSignature,getUserType:getUserType,checkService:checkService,resetCaptchaFirefox:resetCaptchaFirefox,captchaVerifyCallback:captchaVerifyCallback,getSectionsWithExternalFields:getSectionsWithExternalFields,thirdPartyCookiesBlocked:thirdPartyCookiesBlocked,facebookTrackInit:facebookTrackInit,facebookTrackEvent:facebookTrackEvent,facebookInyectTrackingPixelHtml:facebookInyectTrackingPixelHtml,addService:addService,setUserNewslettersByFieldAdsMedia:setUserNewslettersByFieldAdsMedia,isFirstLogin:isFirstLogin,userCreatedWithinTenMinutes:userCreatedWithinTenMinutes,isSiteAreaPersonal:isSiteAreaPersonal,resendVerificationCode:resendVerificationCode,resetPassword:resetPassword,switchScreen:switchScreen,getNfrylCookie:getNfrylCookie,createCookieForNfryl:createCookieForNfryl,removeNfrylCookie:removeNfrylCookie,findFieldInScreenByName:findFieldInScreenByName,getFieldValueInScreenByName:getFieldValueInScreenByName,hideScreenSet:hideScreenSet,registerUI:registerUI,saveLastServiceInCookieVocUser:saveLastServiceInCookieVocUser,getLastServiceFromVocUserInformationCookie:getLastServiceFromVocUserInformationCookie,onScreenSubmitScrollToFirstError:onScreenSubmitScrollToFirstError,onScreenSubmitChangeSubmitButtonText:onScreenSubmitChangeSubmitButtonText,showAllErrorsOnFieldTab:showAllErrorsOnFieldTab,setButtonMessage:setButtonMessage,showLoadingSpinner:showLoadingSpinner,hideLoadingSpinner:hideLoadingSpinner,getUrlRegisterConfirmationScreen:getUrlRegisterConfirmationScreen,getUrlRegisterPendingConfirmationScreen:getUrlRegisterPendingConfirmationScreen,getUrlPasswdSendScreen:getUrlPasswdSendScreen,getUrlPasswordChangedScreen:getUrlPasswordChangedScreen,getUrlExpiredPasswordTokenScreen:getUrlExpiredPasswordTokenScreen,getUrlInterestsScreen:getUrlInterestsScreen,getUrlProfileScreen:getUrlProfileScreen,createCookieVocUserTemporal:createCookieVocUserTemporal,getCookieVocUserTemporal:getCookieVocUserTemporal,removeCookieVocUserTemporal:removeCookieVocUserTemporal,getDomainTld:getDomainTld,getSubdomainDomainTld:getSubdomainDomainTld,createCookieAutoNewsletters:createCookieAutoNewsletters,getCookieAutoNewsletters:getCookieAutoNewsletters,removeAutoNewslettersCookie:removeAutoNewslettersCookie,updateUserCommunicationsInSelligent:updateUserCommunicationsInSelligent,createUserInSelligent:createUserInSelligent,updateDeleteUserNotificationFrecuency:updateDeleteUserNotificationFrecuency,newslettersAutosuscribe:newslettersAutosuscribe,bindOnClickEventToDomElement:bindOnClickEventToDomElement,bindOnClickEventToDomElementName:bindOnClickEventToDomElementName,unbindOnClickEventToDomElement:unbindOnClickEventToDomElement,redirectToUrl:redirectToUrl,redirectToBackUrl:redirectToBackUrl,redirectOnCallVocUserService:redirectOnCallVocUserService,updateLastestBackUrlWithUserFieldReturnUrl:updateLastestBackUrlWithUserFieldReturnUrl,updateLastestBackUrl:updateLastestBackUrl,updateReturnUrlInVocUserCookie:updateReturnUrlInVocUserCookie,updateReturnUrlTimeoutInVocUserCookie:updateReturnUrlTimeoutInVocUserCookie,getCookieVocUserInformation:getCookieVocUserInformation,compareGigyaErrorCode:compareGigyaErrorCode,checkUserFlowUrlsContains:checkUserFlowUrlsContains,checkBackUrlCookieContains:checkBackUrlCookieContains,hideElement:hideElement,showElement:showElement,checkUserServiceAlreadyRegistered:checkUserServiceAlreadyRegistered,sendCustomerService:sendCustomerService,getCustomerServiceFromCookieAndUpdateOptions:getCustomerServiceFromCookieAndUpdateOptions,saveLastActionInVocUserCookie:saveLastActionInVocUserCookie,saveExtensionFlowUrlInVocUserCookie:saveExtensionFlowUrlInVocUserCookie,updateCustomerServiceInCookieVocUser:updateCustomerServiceInCookieVocUser,setFieldInScreenForm:setFieldInScreenForm,saveRegTokenOnRegister:saveRegTokenOnRegister,updateFieldInCookieVocUser:updateFieldInCookieVocUser,updateFieldInCookieVocUid:updateFieldInCookieVocUid,saveServiceAndServices:saveServiceAndServices,getMainEventListener:getMainEventListener,showLoginAdditionalDataPage:showLoginAdditionalDataPage,getUrlAdditionalDataScreen:getUrlAdditionalDataScreen,checkAdditionalDataFilled:checkAdditionalDataFilled,setAdditionalDataStructure:setAdditionalDataStructure,enableAdditionalData:enableAdditionalData,isActivatedAdditionalData:isActivatedAdditionalData,getEventAdditionalData:getEventAdditionalData,objectHasProperties:objectHasProperties,getValueFromObjectProperties:getValueFromObjectProperties,getInterestsActivationStatus:getInterestsActivationStatus,mustToShowAdditionalDataPage:mustToShowAdditionalDataPage,getAdditionalManifest:getAdditionalManifest,prepareDataForAdditionalFilledMark:prepareDataForAdditionalFilledMark,activateAdditionalData:activateAdditionalData,getDataFromNewsLettersCookie:getDataFromNewsLettersCookie,getNlsFreeZone:getNlsFreeZone,saveNlsOnLogin:saveNlsOnLogin,saveNlsOnRegister:saveNlsOnRegister,createStringResponseForCookie:createStringResponseForCookie,getNewslettersFieldsChecked:getNewslettersFieldsChecked,getNewslettersChecksBox:getNewslettersChecksBox,loadNewslettersListFromResponse:loadNewslettersListFromResponse,validateZipNumberAndGetData:validateZipNumberAndGetData,simpleStorageDependency:protectedFunctionsSimpleStorageDependency,getEventNamespace:getEventNamespace,getEventSeparator:getEventSeparator,addDataValidation:addDataValidation,dataValidation:dataValidation,getResendEmailCookie:getResendEmailCookie,hasToResendEmailCookieFound:hasToResendEmailCookieFound,updateFieldInCookieResend:updateFieldInCookieResend,updateSendedInResendCookie:updateSendedInResendCookie,hasToRemoveCookieResend:hasToRemoveCookieResend,removeResendMailVerficationCookie:removeResendMailVerficationCookie,getGigyaResponse:getGigyaResponse,updateAccountData:updateAccountData,setCookiePureJS:setCookiePureJS,voontoPromised:voontoPromised,getVoontoApp:getVoontoApp,reloadOnLoginForEcommerce:reloadOnLoginForEcommerce,evolokIdAndSynchronizeProductsOnLogin:evolokIdAndSynchronizeProductsOnLogin,getCookiePureJS:getCookiePureJS,bindOnClickEventToLogin:bindOnClickEventToLogin,bindOnClickEventToLogout:bindOnClickEventToLogout,getFieldValueFromUserInfo:getFieldValueFromUserInfo,isVarNotNull:isVarNotNull,getUserInfoFromAccountOrUser:getUserInfoFromAccountOrUser,getUserTypeFromCookieOrSimpleStorage:getUserTypeFromCookieOrSimpleStorage,createNewParticipation:createNewParticipation,createNewParticipationByQuery:createNewParticipationByQuery,getParticipationCount:getParticipationCount,createAndSendAdditionalDataFilledAndJoinContest:createAndSendAdditionalDataFilledAndJoinContest,vocUserGetData:vocUserGetData,buildGenderWelcomeText:buildGenderWelcomeText,buildFirstNameText:buildFirstNameText,getSubdomainContenidoExtra:getSubdomainContenidoExtra,getVocEdition:getVocEdition,getDomains:function(){return domains},buildUserNameText:buildUserNameText,deleteCookie:deleteCookie,getCookieOriginalContent:getCookieOriginalContent,removeFromQualifioCookie:removeFromQualifioCookie,hideFieldError:hideFieldError,cookieFromQualifioNoExists:cookieFromQualifioNoExists,getFromQualifioCookie:getFromQualifioCookie,getNLfromGUI:getNLfromGUI,updateUserNL:updateUserNL,getAndCleanUrlParamValueFromNfrylCookie:getAndCleanUrlParamValueFromNfrylCookie,version:function(){return version},cookieNewPasswordExists:cookieNewPasswordExists,getUrlSetPassword:getUrlSetPassword,getUrlPasswordSeted:getUrlPasswordSeted,getUserResetToken:getUserResetToken,vocuserLogin:vocuserLogin,userDataReady:userDataReady,validateEmailForRegistration:validateEmailForRegistration,getAccountStatus:getAccountStatus,verifyUserByUid:verifyUserByUid,sendReminder:sendReminder,getMarketingActionInfo:getMarketingActionInfo,getUrlParamValue:getUrlParamValue,getParticipantInfoFromUser:getParticipantInfoFromUser,isActivateTestMode:isActivateTestMode,getPromiseNamespace:function(){return promiseNamespace},getAllErrorsInScreen:getAllErrorsInScreen,areCookiesEnabled:areCookiesEnabled,getUserUtils:function(){return userUtils},setEcommerceInfo:setEcommerceInfo,getExtensionCustomReturnUrl:getExtensionCustomReturnUrl,updateProductIdInCookieVocUser:updateProductIdInCookieVocUser,registerRRSSUser:registerRRSSUser,generateUniqueNickname:generateUniqueNickname,cleanInput:cleanInput,getCurrentMedia:function(){return currentMedia},getUserAuthenticated:function(){return authenticated},initCustomValidationPlugin:initCustomValidationPlugin,redirectToGigyaCentralLoginPage:redirectToGigyaCentralLoginPage,gigyaITPSsoContinue:gigyaITPSsoContinue,firePromiseUserRegistered:firePromiseUserRegistered,postMessageToWebkit:AppWebview.postMessageToWebkit,bindOnClickEventToSocialNetworkLoginWebview:bindOnClickEventToSocialNetworkLoginWebview,isAppWebView:isAppWebView},objectUnitTesting={getUrlParamValue:getUrlParamValue,getUidUsuarioGigya:getUidUsuarioGigya,
checkUserFlowUrlsContains:checkUserFlowUrlsContains,saveRegTokenOnRegister:saveRegTokenOnRegister,saveLastActionInVocUserCookie:saveLastActionInVocUserCookie,saveExtensionFlowUrlInVocUserCookie:saveExtensionFlowUrlInVocUserCookie,init:init,checkUserServiceAlreadyRegistered:checkUserServiceAlreadyRegistered,updateCustomerServiceInCookieVocUser:updateCustomerServiceInCookieVocUser,findFieldInScreenByName:findFieldInScreenByName,getFieldValueInScreenByName:getFieldValueInScreenByName,setFieldInScreenForm:setFieldInScreenForm,getCustomerServiceFromCookieAndUpdateOptions:getCustomerServiceFromCookieAndUpdateOptions,updateFieldInCookieVocUser:updateFieldInCookieVocUser,saveLastServiceInCookieVocUser:saveLastServiceInCookieVocUser,saveServiceAndServices:saveServiceAndServices,initEventListener:initEventListener},publicFunctions={showLogin:showLogin,showScreenSet:showScreenSet,showRegistration:showRegistration,showProfile:showProfile,getUserType:getUserType,vocUserGetData:vocUserGetData,getAuthServer:getAuthServer,getProducts:getProducts,getTrials:getTrials,flushProducts:flushProducts,showSocialLoginCheckOut:showSocialLoginCheckOut,logout:function(a){return logout(a)},registerFlow:function(a){return registerFlow(a)},init:function(a){return init(a)},version:function(){return version},className:function(){return className},isFirstComment:function(){return isFirstComment},sendCustomerService:sendCustomerService,updateCustomerServiceInCookieVocUser:updateCustomerServiceInCookieVocUser,updateReturnUrlInVocUserCookie:updateReturnUrlInVocUserCookie,updateProductIdInCookieVocUser:updateProductIdInCookieVocUser,setAccountInfo:setAccountInfo,getObjectUnitTesting:function(){return objectUnitTesting}};return publicFunctions}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.Gigya=vocuser),vocuser}),function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("BaseFlow",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a,b){function c(){return"BaseFlow"}function d(){return{legaltermsLastUpdate:"20130723",screenName:{updateLegalTerms:"gigya-update-legalterms-screen",verifyNickname:"gigya-change-nickname-screen",updateThankyou:"gigya-update-thanks-screen"},systemName:"vocuserFWJS",qualifioServiceId:"120",qualifioServiceReference:"QUALIFIO_SinValor"}}function e(){var a={fields:{registration_ssoGroup:new b.Row({field:{attr:{type:"hidden",name:"data.registration.ssoGroup",value:"options.ssoGroup"}}}),registration_service:new b.Row({field:{attr:{type:"hidden",name:"data.registration.service",value:"options.service"}}}),registration_domain:new b.Row({field:{attr:{type:"hidden",name:"data.registration.domain",value:"window.location.hostname"}}}),registration_url:new b.Row({field:{attr:{type:"hidden",name:"data.registration.url",value:"window.location.href"}}}),registration_returnUrl:new b.Row({field:{attr:{type:"hidden",name:"data.registration.returnUrl",value:"options.backURL"}}}),registration_browser:new b.Row({field:{attr:{type:"hidden",name:"data.registration.browserAgent",value:"navigator.userAgent"}}}),registration_system_version:new b.Row({field:{attr:{type:"hidden",name:"data.registration.system.version"}}}),registration_system_name:new b.Row({field:{attr:{type:"hidden",name:"data.registration.system.name",value:"options.systemName"}}}),registration_nick:new b.Row({field:{attr:{type:"hidden",name:"profile.nickname"}}}),registration_privacy_policy:new b.Row({field:{attr:{type:"hidden",name:"data.registration.privacyPolicy",value:"20180525"}}}),registration_province:new b.Row({field:{attr:{type:"hidden",name:"data.province",value:""}}}),registration_city:new b.Row({field:{attr:{type:"hidden",name:"profile.city",value:""}}}),registration_municipality:new b.Row({field:{attr:{type:"hidden",name:"data.municipality",value:""}}}),legalterms_last_update:new b.Row({field:{attr:{type:"hidden",name:"data.legaltermsLastUpdate",value:"options.legaltermsLastUpdate"}}}),imported:new b.Row({field:{attr:{type:"hidden",name:"data.isImported",value:"false"}}}),province:new b.Row({field:{attr:{type:"text",name:"data.province",value:"",placeholder:"Provincia"}}}),legalterms:new b.Row({field:{attr:{type:"hidden",name:"data.legalterms."+s.ssoGroup,value:"true"}}}),services:new b.Row({field:{attr:{type:"hidden",name:"data.services."+s.ssoGroup,value:"options.service"}}}),adsMedia:new b.Row({field:{displayText:"Quiero recibir comunicaciones comerciales de "+s.siteName+" seg&uacute;n mi perfil.",attr:{type:"checkbox",name:"data.adsMedia."+s.ssoGroup,value:"data.adsMedia."+s.ssoGroup,onNewValue:"false"}}}),adsThirdparty:new b.Row({field:{displayText:s.userIsInAppWebviewFlow?"Quiero recibir comunicaciones comerciales y novedades, por parte de "+s.siteName+", por cualquier medio y seg&uacute;n mi perfil, relativas a su <strong>grupo</strong> o a terceras entidades dedicadas a estos <strong>sectores</strong>":"Quiero recibir comunicaciones comerciales y novedades, por parte de "+s.siteName+', por cualquier medio y seg&uacute;n mi perfil, relativas a su <a target="_blank" href="https://www.vocento.com">grupo</a> o a terceras entidades dedicadas a estos <a target="_blank" href="https://www.vocento.com/sectores">sectores</a>',attr:{type:"checkbox",name:"data.adsThirdparty",value:"data.adsThirdparty",onNewValue:"false"}}}),adsThirdpartyProfile:new b.Row({field:{displayText:s.userIsInAppWebviewFlow?"Quiero recibir comunicaciones comerciales y novedades, por cualquier medio,de terceras entidades dedicadas a los <strong>sectores</strong> por parte de "+s.siteName+" seg&uacute;n mi perfil ":'Quiero recibir comunicaciones comerciales y novedades, por cualquier medio,de terceras entidades dedicadas a los <a target="_blank" href="https://www.vocento.com/sectores">sectores</a> por parte de '+s.siteName+" seg&uacute;n mi perfil ",attr:{type:"checkbox",name:"data.adsThirdparty",value:"data.adsThirdparty",onNewValue:"false"}}}),adsGroup:new b.Row({field:{attr:{type:"hiddenCheckbox",name:"data.adsGroup",value:"data.adsGroup",onNewValue:"false"}}}),adsGroupVisible:new b.Row({field:{displayText:s.userIsInAppWebviewFlow?"Quiero recibir comunicaciones comerciales del <strong>grupo</strong> al que pertenece "+s.siteName+" seg&uacute;n mi perfil.":'Quiero recibir comunicaciones comerciales del <a target="_blank" href="https://www.vocento.com">grupo</a> al que pertenece '+s.siteName+" seg&uacute;n mi perfil.",attr:{type:"checkbox",name:"data.adsGroup",value:"data.adsGroup",onNewValue:"false"}}}),passwordRetype:new b.Row({field:{displayText:"Repite tu contrase&ntilde;a",required:!0,attr:{type:"password",name:"passwordRetype"}}}),lastName:new b.Row({field:{displayText:"Apellido",required:"ecommerce"===s.extensionType,attr:{type:"textbox",name:"profile.lastName"}}}),zip:new b.Row({field:{displayText:"C&oacute;digo Postal",required:"undefined"!=typeof s.userIsInAppWebviewFlow&&s.userIsInAppWebviewFlow?!1:!0,attr:{type:"textbox",name:"profile.zip"}}})},fieldsGroup:{registrationHiddenFields:["registration_ssoGroup","registration_service","registration_domain","registration_url","registration_returnUrl","registration_browser","registration_system_version","registration_system_name","registration_nick","imported","registration_privacy_policy","legalterms_last_update","registration_city","registration_province","registration_municipality","legalterms","services"],registrationAccessVisibleFields:["passwordRetype"],registrationPersonalDataVisibleFields:["zip","lastName"],province:["province"],adsFields:["adsGroup","adsMedia","adsThirdparty"],communicationFields:["adsMedia","adsGroupVisible","adsThirdpartyProfile"],adsFieldsProfile:["adsMedia","adsGroupVisible","adsThirdpartyProfile"]},screens:{}};return a.screens[s.screenName.registration]=[{group:"registrationHiddenFields",lastRow:!0},{group:"registrationAccessVisibleFields",afterField:"password"},{group:"registrationPersonalDataVisibleFields",afterField:"profile.firstName"},{group:"adsFields",elementId:"vocento-div-ads"}],a.screens[s.screenName.completeRegistration]=[{group:"registrationHiddenFields",lastRow:!0},{group:"registrationPersonalDataVisibleFields",afterField:"profile.firstName"},{group:"adsFields",elementId:"vocento-div-ads"}],a.screens[s.screenName.perfil]=[{group:"adsFieldsProfile",elementId:"vocento-div-ads"}],a.screens[s.screenName.additionalData]=[{group:"communicationFields",elementId:"vocento-vocuser-additional-ads-fields"}],a}function f(){return!0}function g(){return"undefined"!=typeof s.userIsInAppWebviewFlow&&s.userIsInAppWebviewFlow?{"profile.firstName":b.customValidation._requiredField,"profile.nickname":b.customValidation._requiredField,"profile.lastName":f}:{"profile.firstName":b.customValidation._requiredField,"profile.nickname":b.customValidation._requiredField,"profile.zip":b.customValidation._isZip,"profile.lastName":f}}function h(a){var b=document.head,c=document.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=a,b.appendChild(c)}function i(){var b=u.getMainEventListener(),c=u.getEventNamespace(),d=u.getEventSeparator(),e=u.getEventProductsOnReady(),f=a.Deferred();a.when(f).done(function(a){var b=v(),c={},d=u.getNfrylCookie();c.initLoginComplete={url:d,timestamp:b.timestamp},u.setAccountInfo({data:c})}),a.when(e,f).done(function(a,b){if(!0===s.progressiveProfile){var c=u.getUserType(),d=!0;"undefined"==typeof c||!c||"trial"!==c&&"anonimo"!==c||(d=!1),!0===d&&u.showScreenSet({screenSet:s.screenSet[s.screenSetTypeToShow].profile,mobileScreenSet:s.screenSet[s.screenSetTypeToShowMobile].profile,startScreen:s.screenName.progressiveProfile})}}),b.on(c+"user"+d+"firstLogin",function(a){f.resolve(a)});var g=a.Deferred();a.when(e,g).done(function(a,b){var c=u.getUserType(),d=!0;"undefined"==typeof c||!c||"trial"!==c&&"anonimo"!==c||(d=!1),!0===d&&u.showScreenSet({screenSet:s.screenSet[s.screenSetTypeToShow].profile,mobileScreenSet:s.screenSet[s.screenSetTypeToShowMobile].profile,startScreen:s.screenName.updateLegalTerms})}),b.on(c+"user"+d+"legaltermsOutOfDate",function(a){g.resolve(a)});var h=a.Deferred();a.when(e,h).done(function(a,b){var c=u.getUserType(),d=!0;"undefined"==typeof c||!c||"trial"!==c&&"anonimo"!==c||(d=!1),!0===d&&u.showScreenSet({screenSet:s.screenSet[s.screenSetTypeToShow].profile,mobileScreenSet:s.screenSet[s.screenSetTypeToShowMobile].profile,startScreen:s.screenName.verifyNickname})}),b.on(c+"user"+d+"duplicateNickname",function(a){h.resolve(a)});var i=a.Deferred();a.when(e,i).done(function(a,b){var c=u.getUserType(),d=!0;"undefined"==typeof c||!c||"trial"!==c&&"anonimo"!==c||(d=!1),!0===d&&u.showScreenSet({screenSet:s.screenSet[s.screenSetTypeToShow].profile,mobileScreenSet:s.screenSet[s.screenSetTypeToShowMobile].profile,startScreen:s.screenName.verifyNickname})}),b.on(c+"user"+d+"noNickname",function(a){i.resolve(a)}),b.on(c+"sso"+d+"servicesNotSaved",function(a){t("Defaults => Ejecutando accin de evento (sso servicesNotSaved)");var b=a.gigya_event;"undefined"!=typeof a.service&&a.service&&u.setCurrentService(a.service),u.checkService(b)})}function j(){var b=s.authServerVocCore+"/vocuser/v1/customer-service/device-and-platform";try{a.ajax({url:b,type:"POST",async:!0,dataType:"json",success:function(a){s.device=a.result.device,s.platform=a.result.platform},error:function(a){}})}catch(c){}var d=s.envVoccore.replace(".","-"),e=window.location.protocol+"//"+d+"catalogo.vocento.com/rest/site/siteid",f=u.getNfrylCookie();"undefined"!=typeof f&&f&&"/"!==f||(f=window.location.href),"undefined"!=typeof f&&f&&"/"===f[f.length-1]&&(f=f.substring(0,f.length-1));var g={url:f};try{a.ajax({url:e,type:"POST",data:JSON.stringify(g),async:!0,dataType:"json",success:function(a){s.siteId=""===a.result?s.siteId:a.result},error:function(a){}})}catch(c){}}function k(a,b){var c=!1,d="/comun/vocuser/v3/resources/css",e="vocento.com";switch("abc"===a&&(e="abc.es"),"finanzas"===a&&(e="finanzas.com"),"mujerhoy"===a&&(e="mujerhoy.com"),b){case"des":c="//des-cabeceras."+e+d+"/vocuser-additional-data.css";break;case"pre":c="//pre-cabeceras."+e+d+"/vocuser-additional-data.css";break;case"pro":c="//cabeceras."+e+d+"/vocuser-additional-data.css"}return c}function l(a,b){for(var c=a.length,d=0;c>d;d++){var e=u.findFieldInScreen(a[d],b);if(s.userIsInAppWebviewFlow&&e){var f=e.next();n(e,f)}else m(e)}}function m(a){"undefined"!=typeof a&&a&&a.length&&"undefined"!=typeof a.val()&&a.val().length>0&&a.is("input")&&a.addClass("has-data")}function n(a,b){"undefined"!=typeof a&&a&&a.length&&("undefined"==typeof a.val()||a.val().length<=0)&&a.is("input")&&b.is("label")&&b.removeClass("form-control-placeholder--app")}function o(b){var c=[],d=a("#"+b).find("input:visible");return d.each(function(b,d){"undefined"!=typeof a(d)&&a(d).length&&"undefined"!=typeof a(d).attr("name")&&a(d).attr("name").length&&c.push(a(d).attr("name"))}),c}function p(a,b){for(var c=a.length,d=0;c>d;d++){var e=u.findFieldInScreen(a[d],b);if("undefined"!=typeof e&&e&&e.length&&"undefined"!=typeof e.val()&&e.val().length>0&&e.is("input")){var f=u.cleanInput(e.val());if(f!==e.val()){var g=a[d];s.cleanFormFields[g]=f}}}}function q(){return{onErrorHandler:function(a){},onBeforeScreenLoadHandler:function(a){if(a.currentScreen===(s.screenName.login||s.screenName.formulario)&&a.nextScreen===s.screenName.completo&&"nortedecastilla"===s.ssoGroup){var b="https://"+window.location.host+"/css/vocuser-additional-data.css",c="",d=window.location.host;/^des-/.test(d)&&(c="des",b=k(s.ssoGroup,c)),/^pre/.test(d)&&(c="pre",b=k(s.ssoGroup,c)),/^www/.test(d)&&(c="pro",b=k(s.ssoGroup,c)),h("https:"+b)}a.currentScreen!==s.screenName.login&&a.currentScreen!==s.screenName.formulario||a.nextScreen!==s.screenName.completo||"undefined"!=typeof s.extensionType&&("ecommerce"===s.extensionType||"upgrade"===s.extensionType)},onAfterScreenLoadHandler:function(b){var c=a('form:visible input[name="data.registration.system.version"]');if(r=u.version(),s.userIsInFlow&&!u.areCookiesEnabled()){var d=a("form:visible div.vocuser-boxerror > div.gigya-error-msg");"undefined"!=typeof d&&d.length>0&&(d.html(s.cookiesBlockedErrorText),d.addClass("gigya-error-code-400002 gigya-error-msg-active"),a("form:visible div.vocuser-boxerror").show())}if(b.currentScreen===s.screenName.updateLegalTerms&&a('form:visible input[name="data.legaltermsLastUpdate"]').val(s.legaltermsLastUpdate),b.currentScreen===s.screenName.registration||b.currentScreen===s.screenName.completeRegistration){s.saveGigyaCustomerServices&&j(),c.val(r);var e=["profile.email","profile.firstName","profile.lastName","profile.zip"];l(e,b)}if(b.currentScreen===s.screenName.profile&&"undefined"!=typeof b.profile.thumbnailURL&&(a(".gigya-photo-upload-image").css("background-image","url("+b.profile.thumbnailURL+")"),a(".gigya-attach-file-upload-form").css("cursor","default"),a(".gigya-attach-file-upload-file-input").css("cursor","pointer")),b.currentScreen===s.screenName.verifyNickname&&a("#"+b.currentScreen).find(".gigya-user-name").text("undefined"!=typeof b.profile.firstName&&b.profile.firstName?b.profile.firstName:b.profile.nickname),b.currentScreen===s.screenName.enlazar){var f="",g="";if("undefined"!=typeof a("#gigya-link-account-site-only:visible")&&a("#gigya-link-account-site-only:visible").length>0?f="site-only":"undefined"!=typeof a("#gigya-link-account-social-only:visible")&&a("#gigya-link-account-social-only:visible").length>0?f="social-only":"undefined"!=typeof a("#gigya-link-account-site-and-social:visible")&&a("#gigya-link-account-site-and-social:visible").length>0&&(f="site-and-social"),u.compareGigyaErrorCode(b.response.errorCode,403043)&&"social-only"===f&&("undefined"!=typeof a("#gigya-link-account-default-text")&&a("#gigya-link-account-default-text").length>0&&a("#gigya-link-account-default-text").remove(),"undefined"!=typeof b.response.response.requestParams.provider))if(g=b.response.response.requestParams.provider,"googleplus"===g){var h=u.findFieldInScreen("vocuser-gigya-linking-account-user-googleplus-identity",b),i=u.findFieldInScreen("vocuser-gigya-linking-account-user-googleplus-login",b);a(h).remove(),a(i).remove()}else{var k=u.findFieldInScreen("vocuser-gigya-linking-account-user-facebook-identity",b),m=u.findFieldInScreen("vocuser-gigya-linking-account-user-facebook-login",b);a(k).remove(),a(m).remove()}}if(s.screenName.additionalData===b.currentScreen&&s.allowEditAdditionalUserInfo&&"undefined"!=typeof s.editableFields&&"object"==typeof s.editableFields&&s.editableFields&&s.editableFields.length>0){var n=s.editableFields;!0===s.allowEditGoldenRecords&&(n.push("profile.firstName"),n.push("profile.zip")),l(n,b)}u.registerUI(),u.onScreenSubmitScrollToFirstError()},onFieldChangedHandler:function(c){var d=a("#"+c.form);if(d="undefined"!=typeof d&&d&&d.length?d.attr("class"):a("."+c.form).attr("class").split(" ")[0],c.screen===s.screenName.registration&&"email"===c.field&&c.value.search("@")>0){var e=a("form."+d+':visible input[name="profile.nickname"]');e.val(u.generateUniqueNickname(c.value))}if("profile.nickname"===c.field&&c.value){var f=!1;if(f=u.simpleStorageDependency.get("verifyUniqueNicknameFlushed"),"undefined"==typeof f||!0!==f){var g=s.authServer+"/verify_unique_nickname.html?UID="+u.getUser().UID+"&nickname="+encodeURIComponent(c.value)+"&callback=?";a.getJSON(g,function(e){if(e.isValid){var f={nickname:c.value};u.setAccountInfo({profile:f})}else a("form."+d+':visible input[name="profile.nickname"]').val(u.getUser().nickname),b.customValidation.showError(a("form."+d+':visible input[name="profile.nickname"]'),a('[data-bound-to="profile.nickname"]'),'El nickname "'+c.value+'" pertenece a otro usuario')})}}if("data.adsThirdparty"===c.field&&c.screen!==s.screenName.perfil&&c.screen!==s.screenName.additionalData){var h=a("form."+d+':visible input[name="data.adsThirdparty"]').is(":checked");a("form."+d+':visible input[name="data.adsGroup"]').prop("checked",h)}if(c.screen.indexOf("progressive-profile")>-1||c.screen.indexOf("progressive-profile")<0&&"email"!==c.field&&"profile.zip"!==c.field&&"profile.country"!==c.field&&"profile.nickname"!==c.field){var i=a("undefined"!=typeof a('form:visible input[data-gigya-name="'+c.field+'"]')?'form:visible input[data-gigya-name="'+c.field+'"]':'form:visible input[vocento-name="'+c.field+'"]');("undefined"==typeof i||!i||i.length<=0)&&(i=a("undefined"!=typeof a('form:visible select[data-gigya-name="'+c.field+'"]')?'form:visible select[data-gigya-name="'+c.field+'"]':'form:visible select[vocento-name="'+c.field+'"]')),"undefined"!=typeof i&&i&&setTimeout(function(){b.customValidation.validateField(i)},200)}},onBeforeValidationHandler:function(b){if(b.screen===s.screenName.registration||b.screen===s.screenName.completeRegistration){var c="undefined"!=typeof b.formData.email&&b.formData.email&&b.formData.email.search("@")>0?b.formData.email:b.profile.email;if("undefined"!=typeof c&&c.length&&c.search("@")>0){var d=a('form:visible input[name="profile.nickname"]');("undefined"!=typeof b.formData["profile.nickname"]||0===b.formData["profile.nickname"])&&d.val(u.generateUniqueNickname(c))}}if(b.screen===s.screenName.registration||b.screen===s.screenName.completeRegistration||b.screen===s.screenName.profile){var e=o(b.screen);p(e,b)}},onBeforeSubmitHandler:function(b){if("gigya-update-profile-screen"===b.screen){var c=u.getNLfromGUI(),d=u.getUserInfoFromAccountOrUser(),e=d.data.newsletter;"undefined"!=typeof e&&e&&e.length>0?a.each(c,function(b,c){var f=c.NL_ID,g=c.state,h=!1;if(a.each(e,function(a,b){if(f===b.ID&&(h=!0,g!==b.status)){var e=[];e.push(c),u.updateUserNL(d.UID,d.UIDSignature,d.signatureTimestamp,e)}}),!1===h&&"subscribe"===g){var i=[];i.push(c),u.updateUserNL(d.UID,d.UIDSignature,d.signatureTimestamp,i)}}):a.each(c,function(a,b){var c=b.state;if("subscribe"===c){var e=[];e.push(b),u.updateUserNL(d.UID,d.UIDSignature,d.signatureTimestamp,e)}})}},onAfterSubmitHandler:function(a){"undefined"!=typeof a.screen&&(u.compareGigyaErrorCode(a.response.errorCode,0)&&(u.saveRegTokenOnRegister(a.response.regToken,a.screen),("gigya-login-screen"===a.screen||"gigya-register-screen"===a.screen||"gigya-complete-registration-screen"===a.screen||"gigya-link-account-screen"===a.screen)&&u.showLoadingSpinner()),"undefined"!=typeof a.form&&a.form&&"div.gigya-social-login"===a.form&&u.compareGigyaErrorCode(a.response.errorCode,"206001")&&(s.screenName.login===a.screen||s.screenName.formulario===a.screen)&&"undefined"!=typeof s.extensionType&&("ecommerce"===s.extensionType||"upgrade"===s.extensionType))},onHideHandler:function(a){},onSocialLoginHandler:function(a){}}}var r="4.0.0",s={},t=function(){},u={},v=b.getContext?b.getContext:function(){},w=c();return{getOptions:d,getInsertCustomField:e,getCustomValidationFields:g,setOptions:function(a){return s=a,t=s.debug&&b.log?b.log:function(){},this},screenSetHandlers:q(),setProtectedFunctions:function(a){return u=a,this},getProtectedFunctions:function(){return u},execute:i,version:function(){return r},className:function(){return w}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.BaseFlow=a),a}),function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("GroupFlow",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a,b,c){function d(){return"PpllFlow"}function e(){return{hasPaywall:!1,screenSet:{web:{auth:"Login-web-rediseno",profile:"Profile-web-rediseno"},mobile:{auth:"Login-mobile-rediseno",profile:"Profile-mobile-rediseno"}},screenName:{progressiveProfile:"gigya-progressive-profile-screen-1",updateProfile:"gigya-update-profile-screen"},parentDivClass:"vocento-gigya-parent-ppll",webComponents:!0,urlApps:"/servicios/dispositivos.html",menuOnPlus:{hasClubDelSuscriptor:!1,hasApps:!1,hasBeneficios:!1,hasMiClub:!0,hasMisDispositivos:!0,misDispositivos:"Apps"},addSubmenuContenidoExtra:!1,analiticParamsOnPlus:{vca:{anonimo:"suscribete",registrado:"suscribete",trial:"suscribete",suscriptor:"descubre",periodista:"descubre"},vso:"",vmc:{buttonOnPlusSubscriber:"on",buttonOnPlusNotSubscriber:"on",menuOnPlusOptionBeneficios:"on",menuOnPlusOptionApps:"on"},vli:{buttonOnPlusSubscriber:"cabecera",buttonOnPlusNotSubscriber:"cabecera",menuOnPlusOptionBeneficios:"ap-lb-on",menuOnPlusOptionApps:"ap-lb-apps"},"data-voc-vtm-id":{buttonOnPlusSubscriber:"yaSuscriptorON",buttonOnPlusNotSubscriber:"comienzoSuscripcionON",menuOnPlusOptionBeneficios:"yaSuscriptorON",menuOnPlusOptionApps:"yaSuscriptorON","gigya-logout-link":"logout"},"data-voc-vtm-info":{buttonOnPlusSubscriber:"cabecera",buttonOnPlusNotSubscriber:"cabecera",menuOnPlusOptionBeneficios:"ap-lb-on",menuOnPlusOptionApps:"ap-lb-apps","gigya-logout-link":"menu"}}}}function f(){return{fields:{},fieldsGroup:{},screens:{}}}function g(){return{}}function h(){var a=O.getMainEventListener(),b=O.getEventNamespace(),c=O.getEventSeparator();H(a,b,c)}function i(){return{onErrorHandler:function(a){},onBeforeScreenLoadHandler:function(c){"gigya-quick-thank-you-screen"===c.nextScreen&&a("span.medioConcreto").text(b.getMainDomain()),O.addModalClassToScreen("gigya-screen-dialog-inner","vocento-modal")},onAfterScreenLoadHandler:function(b){if(j("#navbar .navbar-inner","header"),L.userIsInAppWebviewFlow?(O.addParentDiv("gigya-screen-dialog","",L.parentDivClass+" voc-gigya-app"),O.addParentDiv("gigya-screen-dialog-mobile","",L.parentDivClass+" voc-gigya-app")):(O.addParentDiv("gigya-screen-dialog","",L.parentDivClass),O.addParentDiv("gigya-screen-dialog-mobile","",L.parentDivClass)),O.removeVoidElement(L.parentDivClass),k(b.currentScreen),"gigya-update-profile-screen"===b.currentScreen){gigya.socialize.showAddConnectionsUI({containerID:"gigya-add-connections-profile",width:140,height:25,showTermsLink:!1,hideGigyaLink:!0,showEditLink:!1,enabledProviders:L.enabledProviders,requiredCapabilities:L.requiredCapabilities});var c=[{selector:"form:visible span.gigya-user-first-name",data:O.getUser().firstName},{selector:"form:visible span.gigya-user-last-name",data:O.getUser().lastName},{selector:"form:visible label.gigya-user-email",data:O.getUser().email}];a.each(c,function(b,c){a(c.selector).html(c.data)})}"gigya-update-profile-screen"===b.currentScreen&&"site"!==O.getAccount().loginProvider&&a("form:visible #vocento-div-change-password").hide()},onFieldChangedHandler:function(a){},onBeforeSubmitHandler:function(a){},onAfterSubmitHandler:function(a){},onHideHandler:function(a){},onSocialLoginHandler:function(a){}}}function j(b,c){if(b&&a(b).length>0&&c&&a(c).length>0){var d=a(b).offset();if("undefined"!=typeof d){d.top+=a(b).height(),d.left=a(c).position().left;var e=a(".gigya-screen-dialog");e.css("top",d.top),e.css("left",d.left),e.css("z-index",a("#navbar").css("z-index")-1)}}}function k(a){var b=!1;return b}function l(a,b,c){var d="";if("undefined"!=typeof a&&a&&"undefined"!=typeof L.analiticParamsOnPlus&&L.analiticParamsOnPlus&&"undefined"!=typeof L.analiticParamsOnPlus[a]){var e=c,f=L.analiticParamsOnPlus[a];"vca"===a&&(e=b),"vso"===a&&(d=o()),"undefined"!=typeof f[e]&&f[e]&&(d=f[e])}return d}function m(a){var b=!1;if("undefined"!=typeof a&&a){var c="";"suscriptor"===a||"periodista"===a?c=R:("anonimo"===a||"registrado"===a||"trial"===a)&&(c=S),n(c,a),n(U,a),n(T,a),n(V,a)}return b}function n(b,c){if("undefined"!=typeof b&&b){var d=a("."+b);"undefined"!=typeof d&&d&&d.length||(d=a("#"+b)),"undefined"!=typeof d&&d&&d.length&&(d.attr("data-voc-vtm-id",l("data-voc-vtm-id",c,b)),d.attr("data-voc-vtm-info",l("data-voc-vtm-info",c,b)))}}function o(){var a="";return"undefined"!=typeof L.analiticUrlParams&&L.analiticUrlParams&&"undefined"!=typeof L.analiticUrlParams.nsSource&&L.analiticUrlParams.nsSource?a=L.analiticUrlParams.nsSource:L.siteName.replace(/\s+/,"").toLowerCase(),a}function p(a,b){var c=l("vca",a,b),d=l("vso",a,b),e=l("vmc",a,b),f=l("vli",a,b);return"#vca="+c+"&vso="+d+"&vmc="+e+"&vli="+f}function q(a){if(!0===L.webComponents&&!L.userIsInFlow)if(P=O.getReactFramework(),Q=O.getReactDOM(),"undefined"!=typeof P&&P&&"undefined"!=typeof Q&&Q){var b=r(a),c=document.querySelectorAll("[data-vocuser-onplus]");G(b,c),O.deleteUserButtonOnPlusComponent(a);var d=w(a);F(d)}else"undefined"!=typeof requirejs&&requirejs&&Voonto.require("react").then(function(b){O.setReactFramework(b),Voonto.require("reactdom").then(function(b){O.setReactDOM(b);var c=r(a),d=document.querySelectorAll("[data-vocuser-onplus]");G(c,d),O.deleteUserButtonOnPlusComponent(a);var e=w(a);F(e)})});var e=O.getUserTypeFromCookieOrSimpleStorage(a);e=O.getUserAuthenticated()===!0?e:"anonimo",m(e)}function r(a){var b="",c=O.getUserTypeFromCookieOrSimpleStorage(a);c=O.getUserAuthenticated()===!0?c:"anonimo";var d=O.getUserInfoFromAccountOrUser(),e=L.hasEcommerce,f=O.getAreaPersonalDomain(window.location.host);return b=O.buildVocUserHeaderButtonOnPlusComponentsByConditions(c,d,e,f)}function s(a){var b=!1,c=document.querySelectorAll("[data-vocuser-onplus]");if("undefined"!=typeof c&&c&&c.length&&"undefined"!==c[0]){var d=O.getUserTypeFromCookieOrSimpleStorage(a);d=O.getUserAuthenticated()===!0?d:"anonimo",(L.hideOnPlusButton||"suscriptor"===d)&&(c[0].parentNode.removeChild(c[0]),b=!0)}return b}function t(a,b,c,d){var e=!1;if("undefined"!=typeof c&&c&&"undefined"!=typeof a&&a){var f="",g="",h={},i="";"suscriptor"===a||"periodista"===a||("anonimo"===a||"registrado"===a||"trial"===a)&&(g=d+"/suscripcion",i=S,f=p(a,i),g+=f,h={id:i,urlToRedirect:g,onClick:function(){window.location.href=g}},e=u(h))}return e}function u(a){var b=!1;P=O.getReactFramework();var d="undefined"!=typeof P.createClass&&P.createClass?P.createClass:c.CreateReactClass,e="undefined"!=typeof P.PropTypes&&P.PropTypes?P.PropTypes:c.PropTypes,f=d({propTypes:{id:e.string.isRequired,urlToRedirect:e.string.isRequired},handleClick:function(){this.props.onClick()},render:function(){var a=this,b=P.createElement("span",{},"Suscrbete");return P.createElement("button",{id:a.props.id,className:"voc-header-onplus voc-header-onplus--not-subscriber",title:"ON+",href:a.props.urlToRedirect,onClick:a.handleClick},b)}});return f.defaultProps={id:S,urlToRedirect:"",onClick:function(){}},b=P.createElement(f,a)}function v(a){var b=!1;P=O.getReactFramework();var d="undefined"!=typeof P.createClass&&P.createClass?P.createClass:c.CreateReactClass,e="undefined"!=typeof P.PropTypes&&P.PropTypes?P.PropTypes:c.PropTypes,f=d({propTypes:{id:e.string.isRequired,urlToRedirect:e.string.isRequired},handleClick:function(){this.props.onClick()},render:function(){var a=this,b=P.createElement("span",{},"Suscrbete"),c=P.createElement("i",{className:"voc-icons onplus01"}),d=P.createElement("i",{className:"voc-icons onplus02"});return P.createElement("button",{className:"voc-header-onplus hidden-xs",title:"ON+",href:a.props.urlToRedirect,onClick:a.handleClick},b,c,d)}});return f.defaultProps={id:"vocUserHeaderMenuButtonOnPlusComponent",urlToRedirect:"",onClick:function(){}},b=P.createElement(f,a)}function w(a){var b="",c=O.getUserTypeFromCookieOrSimpleStorage(a);c=O.getUserAuthenticated()===!0?c:"anonimo";var d=O.getUserInfoFromAccountOrUser(),e=x(c,d),f={id:"vocUserHeaderMenuComponent",children:e};return b=E(f)}function x(a,b){var c=[],d="",e="",f={id:"vocUserHeaderMenuLoginComponent",userType:a,user:b};return d=y(f),"undefined"!=typeof a&&a&&"anonimo"!==a&&(f={id:"vocUserHeaderMenuNavigationComponent",userType:a,user:b},e=z(f)),O.isVarNotNull(d)&&c.push(d),O.isVarNotNull(e)&&c.push(e),c}function y(b){var d=!1;P=O.getReactFramework();var e="undefined"!=typeof P.createClass&&P.createClass?P.createClass:c.CreateReactClass,f="undefined"!=typeof P.PropTypes&&P.PropTypes?P.PropTypes:c.PropTypes,g=e({propTypes:{id:f.string.isRequired,userType:f.string.isRequired,user:f.object.isRequired},render:function(){var b=this,c="",d="";d="anonimo"!==b.props.userType?{className:"voc-icons close-x"}:{className:"voc-icons user"},c=P.createElement("i",d);var e="",f="",g="";if("anonimo"!==b.props.userType){var h=O.getFieldValueFromUserInfo(b.props.user,"thumbnailURL"),i=[];if("undefined"!=typeof h&&h){var j=P.createElement("img",{src:h,"data-original":h,className:"lazy",alt:""}),k=P.createElement("noscript",null,P.createElement("img",{src:h,alt:""}));i.push(j),i.push(k)}else{f=O.getFieldValueFromUserInfo(b.props.user,"firstName");var l="";"undefined"!=typeof f&&f||(f=O.vocUserGetData("firstName")),"undefined"!=typeof f&&f&&(l=f[0].toUpperCase()),g=O.getFieldValueFromUserInfo(b.props.user,"lastName");var m="";"undefined"!=typeof g&&g||(g=O.vocUserGetData("lastName")),"undefined"!=typeof g&&g&&(m=g[0].toUpperCase());var n=l+m,o=P.createElement("span",{},n);i.push(o)}e=P.createElement("div",{className:"voc-user-icon"},P.Children.map(i,function(a,b){return a}))}var p="Iniciar sesin",q="voc-user-name-text";if("anonimo"!==b.props.userType){if(p=O.buildUserNameText(b.props.user),"undefined"==typeof p||!p||0===p.length){p="",f=O.vocUserGetData("firstName"),g=O.vocUserGetData("lastName");var r=O.vocUserGetData("secondLastName");"undefined"!=typeof f&&f&&f.length>0&&(p=f),"undefined"!=typeof g&&g&&g.length>0&&(p=p+" "+g),"undefined"!=typeof r&&r&&r.length>0&&0===p&&(p=r),0===p.length&&(p=O.getFieldValueFromUserInfo(b.props.user,"nickname")),("undefined"==typeof p||0===p.length||!1===p)&&(p="rea Personal")}}else q="hidden-xs gigya-login-link";var s=P.createElement("span",{className:q},p),t="";if("anonimo"!==b.props.userType){var u="",v="",w="";"suscriptor"===b.props.userType&&(u=P.createElement("span",{className:"voc-suscriptor"},"Suscriptor")),"periodista"===b.props.userType&&(u=P.createElement("span",{className:"voc-suscriptor"},"Periodista")),"trial"===b.props.userType&&(u=P.createElement("span",{className:"voc-suscriptor"},"Prueba gratuita")),("trial"===b.props.userType||"suscriptor"===b.props.userType||"periodista"===b.props.userType)&&(v=P.createElement("i",{
className:"voc-icons onplus01"}),w=P.createElement("i",{className:"voc-icons onplus02"}));var x=[];"undefined"!=typeof s&&s&&x.push(s),"undefined"!=typeof u&&u&&x.push(u),"undefined"!=typeof v&&v&&x.push(v),"undefined"!=typeof w&&w&&x.push(w),t=P.createElement("div",{className:"voc-user-name hidden-xs"},P.Children.map(x,function(a,b){return a}))}else t=s;var y="";"anonimo"!==b.props.userType&&(y=P.createElement("i",{className:"voc-icons downArrow hidden-xs"}));var z=[];"undefined"!=typeof c&&c&&z.push(c),"undefined"!=typeof e&&e&&z.push(e),"undefined"!=typeof t&&t&&z.push(t),"undefined"!=typeof y&&y&&z.push(y);var A="voc-header-login";if(("trial"===b.props.userType||"suscriptor"===b.props.userType||"periodista"===b.props.userType)&&(A+=" voc-header-user-onplus"),("trial"===b.props.userType||"periodista"===b.props.userType||"suscriptor"===b.props.userType)&&(A+=" voc-header-user-onplus--subscriber"),"registrado"===b.props.userType&&(A+=" voc-header-user-onplus--registred"),"trial"!==b.props.userType&&"registrado"!==b.props.userType&&"anonimo"!==b.props.userType||!L.hasEcommerce||(A=A),"anonimo"===b.props.userType)A+=" gigya-login-link";else{var B=a("."+A);"undefined"!=typeof B&&B&&B.length&&a("."+A).removeClass("gigya-login-link")}var C=a("div").find("[data-vocuser]");if("anonimo"===b.props.userType){if("undefined"!=typeof C&&C){var D=O.showLogin,E="undefined"!=typeof L.enableGigyaITP?L.enableGigyaITP:!1;E&&(D=O.redirectToGigyaCentralLoginPage),O.bindOnClickEventToLogin()}}else{var F=a(L.loginLinkSelector);O.unbindOnClickEventToDomElement(F)}var G={type:"button",className:A};return"anonimo"!==b.props.userType&&(G["data-toggle"]="collapse",G["data-target"]="#onPlusProfile"),P.createElement("button",G,P.Children.map(z,function(a,b){return a}))}});return g.defaultProps={id:"vocUserHeaderMenuLoginComponent",userType:"anonimo",user:{}},d=P.createElement(g,b)}function z(a){var b=!1;P=O.getReactFramework();var d="undefined"!=typeof P.createClass&&P.createClass?P.createClass:c.CreateReactClass,e="undefined"!=typeof P.PropTypes&&P.PropTypes?P.PropTypes:c.PropTypes,f=d({propTypes:{id:e.string.isRequired,userType:e.string.isRequired,user:e.object.isRequired},render:function(){var a=this,b="",c="",d="";if("anonimo"!==a.props.userType){var e=O.getFieldValueFromUserInfo(a.props.user,"thumbnailURL"),f=[];if("undefined"!=typeof e&&e){var g=P.createElement("img",{src:e,"data-original":e,className:"lazy",alt:""}),h=P.createElement("noscript",null,P.createElement("img",{src:e,alt:""}));f.push(g),f.push(h)}else{c=O.getFieldValueFromUserInfo(a.props.user,"firstName");var i="";"undefined"!=typeof c&&c||(c=O.vocUserGetData("firstName")),"undefined"!=typeof c&&c&&(i=c[0].toUpperCase()),d=O.getFieldValueFromUserInfo(a.props.user,"lastName");var j="";"undefined"!=typeof d&&d||(d=O.vocUserGetData("lastName")),"undefined"!=typeof d&&d&&(j=d[0].toUpperCase());var k=i+j,l=P.createElement("span",{},k);f.push(l)}b=P.createElement("div",{className:"voc-user-icon"},P.Children.map(f,function(a,b){return a}))}var m=O.buildUserNameText(a.props.user),n="voc-user-name-text";if("undefined"==typeof m||!m){m="",c=O.vocUserGetData("firstName"),d=O.vocUserGetData("lastName");var o=O.vocUserGetData("secondLastName");"undefined"!=typeof c&&c&&c.length>0&&(m=c),"undefined"!=typeof d&&d&&d.length>0&&(m=m+" "+d),"undefined"!=typeof o&&o&&o.length>0&&0===m&&(m=o),0===m.length&&(m=O.getFieldValueFromUserInfo(a.props.user,"nickname")),("undefined"==typeof m||0===m.length||!1===m)&&(m="rea Personal")}var p=P.createElement("span",{className:n},m),q="",r="",s="",t="";"suscriptor"===a.props.userType&&(r=P.createElement("span",{className:"voc-suscriptor"},"Suscriptor")),"periodista"===a.props.userType&&(r=P.createElement("span",{className:"voc-suscriptor"},"Periodista")),"trial"===a.props.userType&&(r=P.createElement("span",{className:"voc-suscriptor"},"Prueba gratuita")),("trial"===a.props.userType||"suscriptor"===a.props.userType||"periodista"===a.props.userType)&&(s=P.createElement("i",{className:"voc-icons onplus01"}),t=P.createElement("i",{className:"voc-icons onplus02"}));var u=[];"undefined"!=typeof p&&p&&u.push(p),"undefined"!=typeof r&&r&&u.push(r),"undefined"!=typeof s&&s&&u.push(s),"undefined"!=typeof t&&t&&u.push(t),q=P.createElement("div",{className:"voc-user-name"},P.Children.map(u,function(a,b){return a}));var v=P.createElement("div",{className:"voc-user-header"},b,q),w=A(a.props.userType),x=P.createElement("ul",{},P.Children.map(w,function(a,b){return a}));return P.createElement("nav",{className:"voc-menu-onplus-profile voc-menu-drop-down collapse",id:"onPlusProfile"},v,x)}});return f.defaultProps={id:"vocUserHeaderMenuNavigationComponent",userType:"anonimo",user:{}},b=P.createElement(f,a)}function A(a){var b="";P=O.getReactFramework();var c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!1,l=!1,m=!1;("registrado"===a||"trial"===a||"periodista"===a)&&(c=B(D("suscribete",a),"Suscrbete","Suscrbete",L.hasEcommerce,null,"voc-subscribe-login")),"registrado"===a&&(d=B(D("newsletters"),"Newsletters","Newsletters",L.hasMenuOptionNewsletters,null,null,null,"voc-icons voc-icons--newsletter")),("registrado"===a||"trial"===a||"suscriptor"===a||"periodista"===a)&&(e=B(D("miCuenta"),"Mi perfil","Mi perfil",L.hasMenuOptionsForAreaPersonal,null,null,null,"voc-icons voc-icons--profile"),j=B(D("miClub"),"El Club","El Club",L.menuOnPlus.hasClubDelSuscriptor,null,null,null,"voc-icons voc-icons--club"),f=B(D("favoritos"),"Mis artculos","Mis artculos",!0,null,null,null,"voc-icons voc-icons--bookmarkt"),l=B(D("apps"),"Apps","Apps",L.menuOnPlus.hasApps,null,null,null,"voc-icons voc-icons--apps"),m=B(D("beneficios"),"Beneficios on+","Beneficios on+",L.menuOnPlus.hasBeneficios,null,null,null,"voc-icons voc-icons--benefits-onplus"),g=B(D("ayuda"),"Preguntas frecuentes","Preguntas frecuentes",L.hasMenuOptionFAQ,null,null,null,"voc-icons voc-icons--fqa"),h=B(D("logout"),"Cerrar Sesin","Cerrar Sesin",!0,null,"voc-close-session-login gigya-logout-link")),("trial"===a||"suscriptor"===a||"periodista"===a)&&(d=B(D("newsletters"),"Newsletters","Newsletters",!0,null,null,null,"voc-icons voc-icons--newsletter"),i=B(D("miClub"),"Club del Suscriptor","Club del Suscriptor",L.menuOnPlus.hasMiClub,null,null,null,"voc-icons voc-icons--club"),l=B(D("apps")+p(a,T),"Apps","Apps",L.menuOnPlus.hasApps,null,null,T,"voc-icons voc-icons--apps"),k=B(D("dispositivos"),L.menuOnPlus.misDispositivos,L.menuOnPlus.misDispositivos,L.menuOnPlus.hasMisDispositivos,null,null,null,"voc-icons voc-icons--devices"),m=B(D("beneficios")+p(a,U),"Beneficios on+","Beneficios on+",L.menuOnPlus.hasBeneficios,null,null,U,"voc-icons voc-icons--benefits-onplus"));var n=[];return"undefined"!=typeof c&&c&&n.push(c),"undefined"!=typeof e&&e&&n.push(e),"undefined"!=typeof j&&j&&n.push(j),"undefined"!=typeof i&&i&&n.push(i),"undefined"!=typeof f&&f&&n.push(f),"undefined"!=typeof d&&d&&n.push(d),"undefined"!=typeof l&&l&&n.push(l),"undefined"!=typeof k&&k&&n.push(k),"undefined"!=typeof m&&m&&n.push(m),"undefined"!=typeof g&&g&&n.push(g),"undefined"!=typeof h&&h&&n.push(h),b=n}function B(a,b,c,d,e,f,g,h){var i=!1;P=O.getReactFramework();var j="",k=c;if("undefined"!=typeof e&&e&&(k=P.Children.map(e,function(a,b){return a})),"undefined"!=typeof h&&h){var l=[];l.push(P.createElement("i",{className:h})),l.push(P.createElement("span",{style:{marginLeft:"0.2em"}},k)),k=P.Children.map(l,function(a,b){return a})}return!0===d&&(j=P.createElement("li",null,P.createElement("h4",null,P.createElement("a",{href:a,title:b,className:f,id:g},k)))),i=j}function C(a,b){var c="",d="";return"suscriptor"===b||"periodista"===b?(c=a+"/servicios/mi-club.html",d=p(b,R)):"undefined"!=typeof b&&b&&"anonimo"!==b&&"registrado"!==b&&"trial"!==b||(c=a+"/suscripcion",d=p(b,S)),c+=d}function D(a,b){var c=window.location.href,d=c,e=O.getAreaPersonalDomain(window.location.host);if("undefined"!==a&&a)switch(a){case"miCuenta":d=e+"/gestion/mi-cuenta.html";break;case"favoritos":d=e+"/servicios/favoritos.html";break;case"newsletters":d=e+"/servicios/newsletters.html";break;case"miClub":d=e+"/servicios/mi-club.html";break;case"apps":d=e+"/suscripcion/app";break;case"dispositivos":d=e+"/servicios/dispositivos.html";break;case"beneficios":d=e+"/suscripcion/beneficios-masinfo";break;case"ayuda":d=e+"/suscripcion/ayuda.html";break;case"suscribete":d=C(e,b);break;case"logout":d=c}return d}function E(a){P=O.getReactFramework();var b=!1,d="undefined"!=typeof P.createClass&&P.createClass?P.createClass:c.CreateReactClass,e="undefined"!=typeof P.PropTypes&&P.PropTypes?P.PropTypes:c.PropTypes,f=d({propTypes:{id:e.string.isRequired,children:e.array.isRequired},render:function(){var a=this;return P.createElement("div",{},P.Children.map(a.props.children,function(a,b){return a}))}});return f.defaultProps={id:"vocUserHeaderMenuComponent",children:null},b=P.createElement(f,a)}function F(a){var b=!1,c=document.querySelectorAll("[data-vocuser]");return b=G(a,c),b&&(O.bindOnClickEventToLogin(),O.bindOnClickEventToLogout()),b}function G(a,b){Q=O.getReactDOM();var c=!1;return"undefined"!=typeof b&&b&&b.length&&"undefined"!==b[0]&&"undefined"!=typeof a&&a&&(Q.render(a,b[0]),c=!0),c}function H(b,c,d){function e(b,c){var d=!1;if("undefined"!=typeof b&&b&&(d=b,"undefined"!=typeof c&&c)){var e=a(a(b)),f=b,g=!1;e.each(function(){var b=a(this);if(0!==b.find("div.submenu").length){var d=b.find("div.submenu ul");"undefined"!=typeof d&&d&&(d.append(c),g=!0)}}),!0===g&&(f=a("<div>").append(e.clone()).html()),d=f}return d}function f(b){var c=b;if("undefined"!=typeof b&&b){var d=a(a(b)),e=b,f=!1;d.each(function(){var b=a(this);if(0!==b.find("div.submenu").length){var c=b.find("div.submenu ul");"undefined"!=typeof c&&c&&(c.html(""),f=!0)}}),!0===f&&(e=a("<div>").append(d.clone()).html()),c=e}return c}function g(a){var b=!1;return"undefined"!=typeof a&&a&&(b=a,!0===L.addSubmenuOptionMusiK&&(b=e(b,H)),!0===L.addSubmenuOptionLaButaca&&(b=e(b,K)),!0===L.addSubmenuOptionDinero&&(b=e(b,M)),!0===L.addSubmenuOptionTerritorio&&(b=e(b,N)),!0===L.addSubmenuOptionEvasion&&(b=e(b,P))),b}function h(){"undefined"!=typeof s&&s&&s.hide(),"undefined"!=typeof q&&q&&q.remove()}function i(){"undefined"!=typeof r&&r&&r.remove(),"undefined"!=typeof s&&s&&(s.append(X),s.show()),"undefined"!=typeof t&&t&&t.show()}function j(){if("undefined"!=typeof Y&&Y){var b=J(Y),c=a(".gigya-logged-in ul.clasificados li a.aTrial").parent();"undefined"!=typeof c&&c&&c.replaceWith(b);var d=a(".gigya-logged-in ul.clasificados li a.rg").parent();"undefined"!=typeof d&&d&&d.replaceWith(b)}}function k(){if("undefined"!=typeof r&&r&&r.remove(),"undefined"!=typeof s&&s){var a=U;a=f(a),a=g(a),s.append(a),s.show(),U=a,W=I(U,R)}"undefined"!=typeof t&&t&&t.show()}function l(){var b=a(".gigya-logged-in ul.clasificados li a.rg").parent();"undefined"!=typeof W&&W&&"undefined"!=typeof b&&b&&"undefined"!=typeof v&&v&&b.replaceWith(W)}function m(){if("undefined"!=typeof r&&r&&r.remove(),"undefined"!=typeof s&&s){var a=U;a=g(a),s.append(a),s.show()}"undefined"!=typeof t&&t&&t.show()}function n(){if("undefined"!=typeof V&&V&&"undefined"!=typeof v&&v){var b=J(V),c=a(".gigya-logged-in ul.clasificados li a.rg").parent();"undefined"!=typeof c&&c&&c.length&&u.replaceWith(b);var d=a(".gigya-logged-in ul.clasificados li a.aTrial").parent();"undefined"!=typeof d&&d&&d.replaceWith(b)}}function o(b){q=a(".zonaPremium ul li a i.logo-onplus").parent().parent(),r=a(".zonaPremium ul li"),s=a(".zonaPremium ul");var c=O.getUserTypeFromCookieOrSimpleStorage(b);if(c=O.getUserAuthenticated()===!0?c:"anonimo","undefined"!=typeof c&&c)switch(c){case"anonimo":h();break;case"registrado":i(),j();break;case"trial":k(),l();break;case"suscriptor":m(),n();break;case"periodista":m(),n();break;default:h()}else h();p=!0}var p=!1,q=a(".zonaPremium ul li a i.logo-onplus").parent().parent(),r=a(".zonaPremium ul li"),s=a(".zonaPremium ul"),t=a(".zonaPremium .box"),u=a(".gigya-logged-in ul.clasificados li a.rg").parent(),v=u.parent(),w=O.getUserInfoFromAccountOrUser(),x=O.getFieldValueFromUserInfo(w,"gender"),y=O.getFieldValueFromUserInfo(w,"firstName"),z="##genderWelcomeText##",A=O.buildGenderWelcomeText(x);!1!==A&&(z=A);var B=O.buildFirstNameText(y),C=O.getSubdomainContenidoExtra(),D=O.getDomains(),E="http://"+C+"."+D[L.ssoGroup],F=O.getVocEdition(),G="";G="undefined"!=typeof F&&F&&"string"==typeof F?E+"/"+F+"/on-extra/?buscaedicion="+F:E+"/on-extra/";var H='<li><a href="'+E+'/on-extra/musica/">Musi-k</a></li>',K='<li><a href="'+E+'/on-extra/butaca/">La Butaca</a></li>',M='<li><a href="'+E+'/on-extra/dinero/">Dinero</a></li>',N='<li><a href="'+E+'/on-extra/territorios/">Territorios</a></li>',P='<li><a href="'+E+'/on-extra/evasion/">Evasin</a></li>',Q="",R=O.getAreaPersonalDomain(window.location.host);!0===L.hasMenuOptionNewsletters&&(Q='<li><a href="'+R+'/servicios/newsletters.html">Newsletters</a></li>');var S=L.hasMenuOptionFAQ?'<li><a href="'+R+'/suscripcion/ayuda.html">Preguntas Frecuentes</a></li>':"",T=L.addSubmenuContenidoExtra?'<li><a href="'+G+'">Contenido Extra <i class="logo-onplus"></i></a><div class="submenu"><ul></ul></div></li>':"",U='<li><a href="'+R+'/gestion/mi-cuenta.html">Area Personal</a></li><li><a href="'+R+'/servicios/newsletters.html">Newsletters</a></li><li><a href="'+R+'/servicios/favoritos.html">Favoritos <i class="logo-onplus"></i></a></li>'+T+'<li><a href="'+R+L.urlApps+'">Apps <i class="logo-onplus"></i></a></li><li><a href="'+R+'/servicios/mi-club.html">Club de Suscriptores <i class="logo-onplus"></i></a></li><li><a href="'+R+'/suscripcion/ayuda.html">Preguntas Frecuentes</a></li><li><a href="javascript:void(0)" onclick="gigyaUX.logout()">Cerrar Sesin</a></li>',V='<li class="onP"><a href="'+R+'/gestion/datos-personales.html" class="rg"><span class="vocento-gigya-user-first-name" style="margin-right:16px;">'+z+" "+B+'</span></a><span class="irg">Activa zona premium</span><div class="zonaPremium"><div class="box"><ul style="display: block;">'+U+"</ul></div></div></li>",W=I(U,R),X='<li><a href="'+R+'/gestion/mi-cuenta.html">Area Personal</a></li>'+Q+S+'<li><a href="javascript:void(0)" onclick="gigyaUX.logout()">Cerrar Sesin</a></li>',Y='<li class="onP"><a href="'+R+'/gestion/datos-personales.html" class="rg"><span class="vocento-gigya-user-first-name" style="margin-right:16px;">'+z+" "+B+'</span></a><span class="irg">Activa zona premium</span><div class="zonaPremium"><div class="box"><ul style="display: block;">'+X+"</ul></div></div></li>",Z=O.vocUserGetData("uid");return"undefined"!=typeof Z&&Z&&O.renderWebComponents(),b.on(c+"accounts"+d+"onDataReady",function(a){o(a),O.renderWebComponents(a)}),b.on(c+"accounts"+d+"onDataNoReady",function(b){q=a(".zonaPremium ul li a i.logo-onplus").parent().parent(),r=a(".zonaPremium ul li"),s=a(".zonaPremium ul"),h(),O.renderWebComponents(b)}),b.on(c+"products"+d+"onReady",function(a){o(a),O.renderWebComponents(a)}),b.on(c+"products"+d+"onError",function(a){o(a),O.renderWebComponents(a)}),p}function I(a,b){var c=!1,d="";"undefined"!=typeof a&&a&&(d=a);var e='<li class="rgTrial"><a href="'+b+'/gestion/datos-personales.html" class="aTrial">Prueba Gratuita  <i class="logo-onplus"></i></a><span class="irg">activa zona premium</span><div class="zonaPremium"><div class="box"><ul style="display: block;">'+d+"</ul></div></div></li>";return c=e}function J(a){var b=!1;if(O.isVarNotNull(a)&&a){var c=O.getUserInfoFromAccountOrUser(),d=O.buildUserNameText(c),e=O.getFieldValueFromUserInfo(c,"gender"),f=O.buildGenderWelcomeText(e);!1===f&&(f="Bienvenido"),0===d.length&&(f="",d="<strong>&Aacute;rea Personal</strong>");var g=a.replace("##nombre##",d);b=g.replace("##genderWelcomeText##",f)}return b}var K="4.0.0",L={},M=d(),N=function(){},O={renderComponent:G,renderUserMenuComponent:F,buildVocUserHeaderMenuComponent:E,getUrlForMenuOption:D,buildNavigationMenuOption:B,buildNavigationListComponents:A,buildVocUserHeaderMenuNavigationComponent:z,buildVocUserHeaderMenuButtonLoginComponent:y,buildVocUserHeaderMenuComponentsByConditions:x,buildVocUserMenu:w,deleteUserButtonOnPlusComponent:s,buildVocUserHeaderMenuButtonOnPlusComponent:v,buildVocUserHeaderButtonOnPlusComponentsByConditions:t,buildVocUserButtonOnPlus:r,renderWebComponents:q},P=(b.getContext?b.getContext:function(){},!1),Q=!1,R="buttonOnPlusSubscriber",S="buttonOnPlusNotSubscriber",T="menuOnPlusOptionApps",U="menuOnPlusOptionBeneficios",V="gigya-logout-link";return{getOptions:e,getInsertCustomField:f,getCustomValidationFields:g,setOptions:function(a){return L=a,N=L.debug&&b.log?b.log:function(){},this},screenSetHandlers:i(),setProtectedFunctions:function(a){return O=a,this},getProtectedFunctions:function(){return O},execute:h,version:function(){return K},className:function(){return M}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.PpllFlow=a),a}),function(a,b){"use strict";"v3"===vocento.vocuser.VERSION?a.returnExports=b():"function"==typeof defineFunction&&defineFunction.amd?vocUserRequirejsNamespace.define("SiteFlow",b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){"use strict";function a(a,b){function c(){return"SiteFlow"}function d(){var a=window.location.host;a=a.split("."),a=a.length>2?a[a.length-2]:a[1];var b="//"+window.location.host+"/comun/img/2014/ON/"+a+"/inicio-sesion-onplus.jpg";return b}function e(){var a="https://www.eldiariomontanes.es/condiciones-uso.html",b="EDITORIAL CANTABRIA S.A.",c="Vocento Gesti&oacute;n de Medios y Servicios, S.L.U.,";return{hasPaywall:!0,hasEcommerce:!0,enableCNAME:!0,siteName:"EL DIARIO MONTA&Ntilde;ES",htmlLegalText:"Los responsables del tratamiento de los datos personales facilitados son <strong>"+b+"</strong> y <strong>"+c+'</strong> quienes los tratar&aacute;n con la finalidad de prestarte los servicios solicitados en virtud de la relaci&oacute;n contractual y remitirte comunicaciones comerciales basadas en tu consentimiento. Tus datos no ser&aacute;n cedidos a terceros, salvo obligaci&oacute;n legal. Tienes derecho, entre otros, a acceder, rectificar y suprimir tus datos. Para m&aacute;s informaci&oacute;n: <a href="https://www.vocento.com/politica-privacidad/" target="_blank">Pol&iacute;tica de Privacidad</a><p> Al crear tu cuenta declaras conocer la <a href="https://www.vocento.com/politica-privacidad/" target="_blank">Pol&iacute;tica de Privacidad</a> y aceptas la <a href="https://www.vocento.com/politica-cookies/" target="_blank">Pol&iacute;tica de Cookies</a> de Vocento y las <a href="'+a+'" target="_blank">Condiciones de Uso</a> del portal.</p>',htmlHelpLegalText:"El responsable del tratamiento de los datos personales aqu&iacute; facilitados es "+b+', quien los tratar&aacute; con la &uacute;nica finalidad de ponerse en contacto con Ud. para prestarle la asistencia que nos solicite. Sus datos no ser&aacute;n cedidos a terceros, salvo obligaci&oacute;n legal. Tienes derecho, entre otros, a acceder, rectificar y suprimir tus datos. Para m&aacute;s informaci&oacute;n: <a href="https://www.vocento.com/politica-privacidad/" target="_blank">Pol&iacute;tica de Privacidad</a><p>Al enviar este formulario declara conocer nuestra <a href="https://www.vocento.com/politica-privacidad/" target="_blank">Pol&iacute;tica de Privacidad</a>.</p>',htmlRegisterCompleteProductInfo:'<div class="gigya-composite-control gigya-spacer" data-units="2" style="height: 10px;"></div>Desde aqu&iacute;, pr&oacute;ximamente podr&aacute;s seleccionar, los productos y suscripciones de tu inter&eacute;s.',htmlRegisterProductInfo:"<p>&iexcl;Reg&iacute;strate ahora y no te pierdas nada!</p><ul><li>Ser&aacute;s el primero en enterarte de las &uacute;ltimas novedades.</li><li>Podr&aacute;s participar en la conversaci&oacute;n  sobre la actualidad a trav&eacute;s de tus comentarios.</li><li>Estar&aacute;s siempre al tanto de las &uacute;ltimas noticias.</li></ul>",urlLoginScreenPicture:d(),linkLoginScreenPicture:"/suscripcion/pack-on-diariomontanes-82063.html",addPictureInLoginScreen:!0,hasMenuOptionNewsletters:!0,analiticUrlParams:{nsSource:"eldiariomontanes"},siteId:"0700",mediaCode:"EDIA",autosubscribeConfig:{www:{hasAutomaticNewsletters:!0,query_string:"EDIA_Editoriales"},"new-www":{hasAutomaticNewsletters:!0,query_string:"EDIA_Editoriales"},areapersonal:{hasAutomaticNewsletters:!0,query_string:"EDIA_Editoriales"},desn:{hasAutomaticNewsletters:!1,query_string:"EDIA_Editoriales"},pren:{hasAutomaticNewsletters:!0,query_string:"EDIA_Editoriales"},"pre-www":{hasAutomaticNewsletters:!0,query_string:"EDIA_Editoriales"},"des-www":{hasAutomaticNewsletters:!0,query_string:"EDIA_Editoriales"},"areapersonal-predes":{hasAutomaticNewsletters:!0,query_string:"EDIA_Editoriales"}},addSubmenuOptionDinero:!1,hasCustomRegisterPage:!1,customRegisterLink:"https://areapersonal.eldiariomontanes.es/suscripcion/pack-on-diariomontanes-82063/prueba.html",customRegisterLinkText:"Si quieres hacer la Prueba gratis a On+",suscribeButtonLink:"pack-on-2-meses-gratis-eldiariomontanes-90426.html",urlApps:"/suscripcion/app",menuOnPlus:{hasClubDelSuscriptor:!0,hasApps:!0,hasBeneficios:!0,hasMiClub:!1,hasMisDispositivos:!0,misDispositivos:"Mis dispositivos"},mustToShowZipInNotEditorialFlow:!1}}function f(){return{fields:{legaltext:new b.Row({field:{displayText:m.htmlLegalText,attr:{type:"label"}}}),registrationProductInfo:new b.Row({field:{displayText:m.htmlRegisterProductInfo,attr:{type:"label"}}}),registrationCompletedProductInfo:new b.Row({field:{displayText:m.htmlRegisterCompleteProductInfo,attr:{type:"label"}}}),newslettersMornig:new b.Row({field:{displayText:"Edici&oacute;n matinal. Recibe las noticias m&aacute;s importantes por la ma&ntilde;ana.",attr:{type:"checkbox",name:"data.newslettersMorning.diariomontanes",value:"checked"}}}),newslettersEvening:new b.Row({field:{displayText:"Edici&oacute;n vespertina. Recibe las noticias m&aacute;s importantes por la tarde.",attr:{type:"checkbox",name:"data.newslettersEvening.diariomontanes",value:"checked"}}}),newslettersHeadlines:new b.Row({field:{displayText:"Titulares, env&iacute;o a las 8:00 de la ma&ntilde;ana. Recibe a primera hora las noticias m&aacute;s importantes del d&iacute;a.",attr:{type:"checkbox",name:"data.newslettersHeadlines.diariomontanes",value:"checked"}}}),disableAccount:new b.Row({field:{displayText:""}})},fieldsGroup:{legalTextFields:["legaltext"],registrationProductInfo:["registrationProductInfo"],registrationCompletedProductInfo:["registrationCompletedProductInfo"],newslettersFields:["newslettersMornig","newslettersEvening","newslettersHeadlines"],disableAccount:["disableAccount"]},screens:{"gigya-register-screen":[{group:"legalTextFields",elementId:"vocento-div-legaltext"},{group:"registrationProductInfo",elementId:"register-product-info"}],"gigya-complete-registration-screen":[{group:"legalTextFields",elementId:"vocento-div-legaltext"},{group:"registrationProductInfo",elementId:"register-product-info"}],"gigya-update-profile-screen-4":[{group:"registrationCompletedProductInfo",elementId:"register-complete-product-info"}],"gigya-progressive-profile-screen-3":[{group:"registrationCompletedProductInfo",elementId:"register-complete-product-info"}],"gigya-update-profile-screen-2":[{group:"newslettersFields",elementId:"vocento-div-newsletters"}],"gigya-progressive-profile-screen-2":[{group:"newslettersFields",elementId:"vocento-div-newsletters"}],"gigya-deactivate-account-screen":[{group:"disableAccount",elementId:"vocento-div-disable-account"}]}}}function g(){return{}}function h(){var a=p.getMainEventListener(),b=p.getEventNamespace(),c=p.getEventSeparator();a.on(b+"accounts"+c+"onDataReady",function(a){if(!0===m.setUserNewslettersByFieldAdsMedia){var b=p.isFirstLogin(a),c=p.userCreatedWithinTenMinutes(a);!0!==b&&!0!==c||!1!==p.isSiteAreaPersonal()||p.setUserNewslettersByFieldAdsMedia(a)}})}function i(){var a="";return m.linkLoginScreenPicture="/suscripcion/pack-on-diariomontanes-82063.html","undefined"!=typeof m.envFront&&m.envFront&&"www"!==m.envFront&&(m.linkLoginScreenPicture="/suscripcion/pack-on-diariomontanes-63116.html"),a=m.linkLoginScreenPicture}function j(){var a=!1;return m.customRegisterLink&&m.customRegisterLinkText&&("undefined"!=typeof m.envFront&&m.envFront&&"www"!==m.envFront&&(m.customRegisterLink="https://areapersonal-predes.eldiariomontanes.es/suscripcion/pack-on-diariomontanes-63116/prueba.html"),a='<a class="vocuser-link" href="'+m.customRegisterLink+'">'+m.customRegisterLinkText+"</a>"),a}function k(){return{onErrorHandler:function(a){},onBeforeScreenLoadHandler:function(a){},onAfterScreenLoadHandler:function(b){if("gigya-login-screen"===b.currentScreen){if(m.hasCustomRegisterPage&&m.customRegisterLink&&m.customRegisterLinkText){var c=j();c&&a("a.gigya-registration-link:visible").replaceWith(c)}!0===m.addPictureInLoginScreen&&p.insertPictureInDomElement("#vocento-login-screen-picture","loginScreenPicture",m.urlLoginScreenPicture,p.getAreaPersonalDomain()+i())}},onFieldChangedHandler:function(a){},onBeforeSubmitHandler:function(a){},onAfterSubmitHandler:function(a){"gigya-update-profile-screen"===a.screen&&b.reload()},onHideHandler:function(a){},onSocialLoginHandler:function(a){}}}var l="4.0.0",m={},n=c(),o=function(){},p={};b.getContext?b.getContext:function(){};return{getOptions:e,getInsertCustomField:f,getCustomValidationFields:g,setOptions:function(a){return m=a,o=m.debug&&b.log?b.log:function(){},this},screenSetHandlers:k(),setProtectedFunctions:function(a){return p=a,this},getProtectedFunctions:function(){return p},execute:h,version:function(){return l},className:function(){return n}}}return"v3"===vocento.vocuser.VERSION&&(window.Vocento="undefined"!=typeof Vocento&&Vocento?Vocento:{},Vocento.SiteFlow=a),a}),vocUserRequirejsNamespace.define("vocento-vocuser-combined-lite",function(){});