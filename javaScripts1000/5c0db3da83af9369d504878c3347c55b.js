(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{552:function(t,e,o){var content=o(584);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(29).default)("18c53dd7",content,!0,{sourceMap:!1})},566:function(t,e,o){"use strict";o.r(e),o.d(e,"DELAY",(function(){return v}));o(89),o(64),o(74),o(9);var n=o(5),r=o(54),d=o(574),l=o(33),c=o(244),v=1e3,h=[],f=function t(){h.length&&(h[0].video.play(),h[0].started=1,window.setTimeout((function(){h.splice(0,1),h.length>0&&t()}),v))},m={components:{Icon:l.default,SmartPicture:c.default},mixins:[d.a],props:{url:{type:String,required:!0},fit:{type:String,default:"cover"},still:{type:Boolean,default:!1},positionControls:{type:String,default:""},lightButton:{type:Boolean,default:!1},hasFixedButton:{type:Boolean,default:!1}},data:function(){return{videoData:{},options:{src:"",muted:!0,loop:!0,autoplay:!1,preload:!1,tabindex:"-1","aria-hidden":!0},isVideoLoaded:!1,isDataLoaded:!1,fitStyle:null,triggerLoad:!1,isVisible:!1}},computed:{isPlaying:function(){return!this.isAnimationPrevented&&this.isVisible&&this.isVideoLoaded},currentVideoSrc:function(){return this.options.src}},watch:{url:{immediate:!0,handler:function(t,e){var o=this;t!==e&&(this.isVideoLoaded=!1,this.isDataLoaded=!1,this.$videoApi.getVideo(t).then((function(data){o.videoData=data,o.isDataLoaded=!0})))}},isPlaying:function(t){var video,e=this,o=h.findIndex((function(q){return q.video===e.$refs.video}));t&&-1===o?(video=this.$refs.video).currentTime>0?video.play():(h.push({video:video,started:0}),1===h.length?window.requestAnimationFrame(f):h.sort((function(a,b){return a.started!==b.started?b.started-a.started:2&a.video.compareDocumentPosition(b.video)?1:-1}))):t||(o>-1&&h.splice(o,1),this.$refs.video.pause())},currentVideoSrc:function(t,e){e&&t!==e&&(this.isVideoLoaded=!1,this.$refs.video.addEventListener("loadedmetadata",this.setIsVideoLoaded))}},methods:{getVideoSrc:function(){var t=this.videoData.sources.filter((function(t){return window.matchMedia(t.media).matches})),source=t[t.length-1];this.options.src=source?source.src:""},changeVisibility:function(t){this.isVisible=t,this.isDataLoaded&&!this.triggerLoad&&(this.getVideoSrc(),this.triggerLoad=!0,this.$refs.video.addEventListener("loadedmetadata",this.setIsVideoLoaded))},setIsVideoLoaded:function(){this.isVideoLoaded=!0,this.resizeListener=Object(r.a)(this.onResize),this.resizeListener(),window.addEventListener("resize",this.resizeListener),this.$refs.video.removeEventListener("loadedmetadata",this.setIsVideoLoaded)},onResize:function(){this.getVideoSrc(),this.$lvFeatureDetect.objectFit||this.fitVideo()},togglePlayPause:function(){this.$store.commit(n.TOGGLE_ANIMATION_PREVENTION)},fitVideo:function(){var t="contain"===this.fit,e=this.$el.offsetWidth,o=this.$el.clientHeight,n=this.$refs.video.videoWidth/this.$refs.video.videoHeight,r=e/o,d=e,l=o;(t?n>r:n<r)?l=d/n:d=l*n,this.fitStyle={width:"".concat(d,"px"),height:"".concat(l,"px"),top:"".concat((o-l)/2,"px"),left:"".concat((e-d)/2,"px")}}}},_=(o(583),o(6)),component=Object(_.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isDataLoaded?o("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.changeVisibility,keep:!0},expression:"{ callback: changeVisibility, keep: true }"}],staticClass:"lv-video-loop",class:{"is-loaded":t.isVideoLoaded}},[t.videoData.posters.length>0?o("SmartPicture",t._g({attrs:{fit:t.fit,sources:t.videoData.posters,"is-external":!0,lazy:!0}},t.$listeners)):t._e(),t._v(" "),o("video",t._b({directives:[{name:"show",rawName:"v-show",value:!t.still,expression:"!still"}],ref:"video",staticClass:"lv-video-loop__video",class:{"-contain":"contain"===t.fit},style:t.fitStyle||{},attrs:{playsinline:""}},"video",t.options,!1)),t._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:!t.still,expression:"!still"}],ref:"button",staticClass:"lv-video-loop__play-pause lv-icon-button",class:[t.positionControls?"-"+t.positionControls:"",{"-light-button":t.lightButton},{"-fixed":t.hasFixedButton}],attrs:{"aria-pressed":t.isAnimationPrevented?"true":"false","aria-label":t.$t("global_stop_all_animations"),type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.togglePlayPause(e)}}},[o("Icon",{attrs:{name:t.isAnimationPrevented?"controls-play-filled":"controls-pause"}})],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports},574:function(t,e,o){"use strict";e.a={mounted:function(){for(var t=this.$parent,e=!1;t&&!e;){e="lv-modal-target"===t.$attrs.id,t=t.$parent}this.isInModal=e},data:function(){return{isInModal:!1}},computed:{isAnimationPrevented:function(){return this.$store.state.isAnimationPrevented||this.isModalOpen&&!this.isInModal},isModalOpen:function(){return this.$store.state.isModalOpen}}}},583:function(t,e,o){"use strict";o(552)},584:function(t,e,o){var n=o(28)((function(i){return i[1]}));n.push([t.i,".lv-video-loop{position:relative;height:100%}.lv-video-loop__video{position:absolute;top:0;bottom:0;width:100%;height:100%;opacity:0;object-fit:cover}[dir] .lv-video-loop__video{left:0;right:0;transition:opacity .3s cubic-bezier(.39,.575,.565,1)}.lv-video-loop__video.-contain{object-fit:contain}.lv-video-loop__play-pause{position:absolute;bottom:0;width:2rem;height:2rem;opacity:0;z-index:2}[dir] .lv-video-loop__play-pause{margin:.5rem;border:1px solid #fff;border-radius:50%;background:rgba(0,0,0,.8)}[dir=ltr] .lv-video-loop__play-pause{left:0}[dir=rtl] .lv-video-loop__play-pause{right:0}@media screen and (min-width:48rem){[dir] .lv-video-loop__play-pause{margin:1rem;transform:scale(1.25)}}.lv-video-loop__play-pause.-right-top{bottom:inherit;top:0}[dir=ltr] .lv-video-loop__play-pause.-right-top{left:inherit;right:0}[dir=rtl] .lv-video-loop__play-pause.-right-top{right:inherit;left:0}[dir=ltr] .lv-video-loop__play-pause.-right-bottom{left:inherit;right:0}[dir=rtl] .lv-video-loop__play-pause.-right-bottom{right:inherit;left:0}.lv-video-loop__play-pause.-light-button{filter:drop-shadow(0 0 6px #000)}[dir] .lv-video-loop__play-pause.-light-button{background:none;border-color:transparent}.lv-video-loop__play-pause.-fixed{position:fixed}.lv-video-loop__play-pause .lv-icon{fill:#fff;width:.5rem;height:.5rem}.lv-video-loop.is-loaded .lv-video-loop__play-pause,.lv-video-loop.is-loaded .lv-video-loop__video{opacity:1}",""]),t.exports=n}}]);