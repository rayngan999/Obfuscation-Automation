"use strict";!function(){var n,s,e,t="signup-newsletter-6",l=document.forms[t];function u(e,t,n){var o=document.querySelector(".newsletter-response-message"),r=o.querySelector("[data-message]");"success"===t&&l.reset(),r.innerHTML=window.freedom.getDataAttribute(e,t).replace("%s",n),o.className="newsletter-response-message",window.freedom.addClass(o,t),window.freedom.removeClass(o,"hide"),window.clearTimeout(s),s=window.setTimeout(function(){window.freedom.addClass(o,"hide"),"success"===t&&document.querySelector(".newsletter-close")&&(d(),c())},5e3)}function o(e){var t=window.freedom.getTarget(e)||e,n=l.email.value,o=l["name-newsletter"].value,r=l["newsletter-categories"].value,s=t?t.querySelectorAll("button"):[],d={email:n,name:o,gender:r};!function(e){for(var t=e.length,n=0;n<t;n++)e[n].disabled=!0}(s),window.freedom.restClient.request("/newsletter",{method:"post",data:d,complete:function(e){"OK"===e?u(t,"success",n):400===e.status?u(t,"error"):u(t,"error-generic"),function(e){for(var t=e.length,n=0;n<t;n++)e[n].disabled=!1}(s)}})}function r(e,t){return t.preventDefault(),e.length?(n.showErrors(t.target,e),!1):(n.clean(l),o(t),!0)}function d(){var e=document.querySelector(".newsletter-gender-button");window.freedom.addClass(e,"newsletter-gender-button--close")}function a(){try{0<=document.cookie.indexOf("newsletterClose=true")||function(){try{var e=document.querySelector(".newsletter-gender-button");if(!e)return;window.freedom.removeClass(e,"newsletter-gender-button--close")}catch(e){console.error(e)}}()}catch(e){console.error(e)}}function c(){var e=new Date;e.setMonth(e.getMonth()+1),document.cookie="newsletterClose=true; expires ="+e}function i(){window.freedom.nsPubSub.sub("formValidationCore.loaded",function(e){n=e,window.freedom.live(".newsletter-gender-button__close-btn","mousedown",function(){d(),c()}),window.setTimeout(function(){window.freedom.nsPubSub.pub("formValidation.validateForm",{formName:t,validationCallback:r})},0),window.freedom.nsPubSub.pub("newsletter.loaded")})}i(),window.freedom.nsPubSub.sub("newsletter.restart",i),a(),(e=document.querySelector(".newsletter-select"))&&e.addEventListener("change",function(){""===e.value?e.classList.remove("black"):e.classList.add("black")})}();