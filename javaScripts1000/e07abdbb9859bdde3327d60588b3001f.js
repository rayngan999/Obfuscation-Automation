VIPC.$(function(){function t(t){function a(){e&&console.log("%cTimer's ["+n+"] is executing.","color: orange;"),r(function(){o=setTimeout(a,i)})}var e=t.debug||!1,n=t.token||"null",i=t.wait||1e3,r=t.handle||function(){},o=null;this.start=function(){a()},this.updateWait=function(t){i=t},this.stop=function(){clearTimeout(o),e&&console.log("%cTimer's ["+n+"] was end.","color: red;")}}function a(){var t=n("img.lazy");t.length>0&&(r.lazyload(t),t.trigger("appear"))}function e(){var t=n(".vIndex_list .vMod_newsList_item");t.each(function(t){var a=n(this);r.usopp.markParams(a,{"in":"home_list_"+t})})}var n=VIPC.$,i=VIPC._,r=VIPC.kitCore,o=(r.smartStorage,VIPC.kitUI),s=VIPC.template;a(),function(){var t=n(".vHeader_nav a");t.each(function(t){var a=n(this);r.usopp.markParams(a,{"in":"home_nav_"+t})});var t=n(".vIndex_entranceArea a");t.each(function(t){var a=n(this);r.usopp.markParams(a,{"in":"home_tools_"+t})});var t=n(".vIndex_matches_wrap a");t.length&&r.usopp.markParams(t,{"in":"home_matches"});var t=n(".vIndex_recommends .vMod_newsList_item");t.each(function(t){var a=n(this);r.usopp.markParams(a,{"in":"home_recommend_"+t})});var t=n(".vIndex_card .vIndex_card_matchInfo");t.length&&r.usopp.markParams(t,{"in":"home_card_match"});var t=n(".vIndex_card .vMod_newsList_item");t.length&&r.usopp.markParams(t,{"in":"home_card_list"}),e()}(),function(){var t=n(".vMod_slidePic");r.usopp.markParams(t.find("a"),{"in":"home_banner_0"}),t.each(function(a){var e=t.eq(a),o=n.parseJSON(e.attr("data-d"));if(!o)return!1;var c=s.tml_vMod_slidePic_box,d=i.template(c),l=d({data:o});e.removeAttr("data-d"),e.html(l),VIPC.kitCore.touchSlide({$box:e.find(".vMod_slidePic_box"),$pointer:e.find(".vMod_slidePic_pointer"),$leftBtn:n(".vMod_slidePic_leftBtn"),$rightBtn:n(".vMod_slidePic_rightBtn"),playInterval:+e.attr("data-t")}),t.find(".vMod_slidePic_box img").each(function(){var t=n(this),a=t.attr("data-original"),e=new Image;e.onload=function(){t[0].src=a,t.removeAttr("data-original"),e=null},e.src=a}),t.find(".vMod_slidePic_box a").each(function(t){r.usopp.markParams(n(this),{"in":"home_banner_"+t})})})}(),function(){var t=n(".vIndex_list"),r=t.find(".vMod_buttonMore");if(0===t.length)return!1;var c=[];n(".vIndex_recommends .vMod_newsList_item").each(function(){c.push(n(this).attr("data-id"))}),t.find(".vMod_newsList_item").each(function(){c.push(n(this).attr("data-id"))});var d=!1,l=s.tml_vMod_newsList,h=i.template(l),u="/i/recommend",m=r.html(),v="æ­£å¨å è½½...";r.on("click",function(){return d?!1:(d=!0,r.html(v),void n.ajax({url:u+"/"+r.attr("data-index"),type:"get",dataType:"json",success:function(t){for(var n=[],i=0;i<t.list.length;i++){for(var o=!1,s=0;s<c.length;s++)if(t.list[i]._id===c[s]){console.log("repeat: "+t.list[i]._id),o=!0;break}o||(n.push(t.list[i]),c.push(t.list[i]._id))}var l=h({data:n});r.before(l),d=!1,r.html(m),r.attr("data-index",t.index),a(),e(),0===t.residue&&(r.remove(),r=null)},error:function(){d=!1,r.html(m),o.tips({content:"å è½½å¤±è´¥",expires:1e3})}}))}),function(){var t=n(window),a=n("html"),e=n(".vFooter2"),i=function(){var t=!1;return function(){return t?!1:(t=!0,a.height()-window.innerHeight-window.scrollY<30+e.height()&&r&&r.trigger("click"),void setTimeout(function(){t=!1},20))}}();t.on("scroll",i)}()}(),function(){function a(t){for(var a=0;a<t.length;a++){var i=t[a],r=i.type,o=i.matchId,s=i.homeScore,c=i.guestScore,d=i.matchState,l=i.displayState,h=!1;e.each(function(){var t=n(this),a=t.attr("data-type"),e=+t.attr("data-id"),u=t.attr("data-state");if(a===r&&e===o){h=JSON.parse(t.attr("data-ihr"));var m=t.find(".middle");if(-1===u)return!1;d>0?m.html('<p class="score">'+(h?c+" : "+s:s+" : "+c)+'</p><span class="state live">'+l+"</span>"):-1===i.matchState&&m.html('<p class="score">'+(h?c+" : "+s:s+" : "+c)+'</p><span class="state">å·²ç»æ</span>')}})}}var e=n(".vIndex_card_matchInfo");if(0===e.length)return!1;var i=[];if(e.each(function(){var t={type:n(this).attr("data-type"),matchId:n(this).attr("data-id")};i.push(t)}),i.length){var r=new t({token:"autoUpdateMatchCard_10",wait:1e4,handle:function(t){n.ajax({url:"/i/match-status",type:"post",dataType:"json",data:{list:i},success:function(e){a(e),t&&t()},error:function(){t&&t()}})}});r.start()}}()});