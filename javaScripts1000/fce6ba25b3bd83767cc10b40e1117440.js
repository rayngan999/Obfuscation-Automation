(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s="./cartridges/app_hbc_saksfifthavenue/cartridge/client/default/js/teasers.js");})
({"./cartridges/app_hbc_saksfifthavenue/cartridge/client/default/js/teasers.js":/*!***********************************************************************************!*\
!*** ./cartridges/app_hbc_saksfifthavenue/cartridge/client/default/js/teasers.js ***!
\***********************************************************************************//*!no static exports found*/(function(module,exports){function createTeaserElement(tag,className,text){var el=document.createElement(tag);el.setAttribute('class',className);if(text){el.innerText=text;}
return el;}
function generateTeaserStar(starType){var svgEl=document.createElementNS('http://www.w3.org/2000/svg','svg');svgEl.setAttribute('class','TTteaser__icon--'+starType);var useEl=document.createElementNS('http://www.w3.org/2000/svg','use');useEl.setAttributeNS('http://www.w3.org/1999/xlink','xlink:href','#tt-teaser-star--'+starType);svgEl.appendChild(useEl);var el=createTeaserElement('span','TTteaser__star');el.appendChild(svgEl);return el;}
function generateTeaserStars(rating){var el=createTeaserElement('div','TTteaser__rating');var numFullStars=Math.floor(rating);for(var i=0;i<numFullStars;i++){el.appendChild(generateTeaserStar('full'));}
var hasHalfStar=rating-numFullStars>=0.5;if(hasHalfStar){el.appendChild(generateTeaserStar('half'));}
var emptyStarsStartIdx=numFullStars+(hasHalfStar?1:0);for(var _i=emptyStarsStartIdx;_i<5;_i++){el.appendChild(generateTeaserStar('empty'));}
return el;}
function generateReadReviews(numReviews){var text=numReviews+' Review'+(numReviews>1?'s':'');var el=createTeaserElement('a','TTteaser__read-reviews',text);el.setAttribute('href','#tt-reviews-list');return el;}
function generateReadComments(numComments){var text=numComments+' Buyer Comment'+(numComments>1?'s':'');var el=createTeaserElement('a','TTteaser__read-comments',text);el.setAttribute('href','#tt-chatter-widget');return el;}
function generateQuestions(numQuestions,numAnswers){var text=numQuestions+' Question'+(numQuestions>1?'s':'');if(numAnswers>0){text=text+', '+numAnswers+' Answer'+(numAnswers>1?'s':'');}
var el=createTeaserElement('a','TTteaser__read-qa',text);el.setAttribute('href','#tt-instant-answers-widget');el.setAttribute('href','#tt-qa-list');return el;}
function generateWriteReview(text){return createTeaserElement('button','TTteaser__write-review',text);}
function populateTeaser(counts){var fragment=document.createDocumentFragment();if(counts.reviews>0){fragment.appendChild(generateTeaserStars(counts.avgRating));fragment.appendChild(generateReadReviews(counts.reviews));}
var teaserElem=document.getElementById('tt-teaser');if(!teaserElem){return;}
teaserElem.appendChild(fragment);if(document.querySelector('.TTteaser__write-review')){document.querySelector('.TTteaser__write-review').addEventListener('click',function(){TurnToCmd('reviewsList.writeReview');});}}
function loadTeaserCounts(sku){var xhr=new XMLHttpRequest();var turntoUrl=$('span.turntoUrl').text();var siteKey=$('span.siteKey').text();if(turntoUrl.length===0||siteKey.length===0){return;}
var ugcCountsUrl='https://cdn-ws.'+turntoUrl+'/v5/sitedata/'+siteKey+'/'+sku+'/d/ugc/counts/'+turnToConfig.locale;xhr.open('GET',ugcCountsUrl,true);xhr.addEventListener('load',function(){if(xhr.responseText){populateTeaser(JSON.parse(xhr.responseText));}});xhr.send();}
$(document).ready(function(){if($('.product-detail').length&&$('.product-detail').attr('data-masterid').length){loadTeaserCounts($('.product-detail').attr('data-masterid'));}});})});