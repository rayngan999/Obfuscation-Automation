define("components/headerSearch",["FR","services/searchHistoryHelper","services/utilities","services/adaHelper","constants/charCodes","services/autoComplete"],function(e,n,t,o,i,a){var c={},s=e.searchResultsPage,r={cacheJQueryElements:function(){c.historyContainer=$(".main_nav__search__history"),c.history=$("#searchHistory--desktop_nav"),c.desktopSearchForm=$(".main_nav__search_box"),c.mobileSearchForm=$(".nav_mobile__search_box"),c.topSearchesMobile=$(".nav_mobile__search__top_searches"),c.searchInputMobile=$("#nav_mobile__search_input"),c.searchInputDesktop=$("#main_nav__search_input"),c.otherHeaderContent=$(".nav_mobile__level1_list, .nav_mobile__utility_list, #nav_mobile__close"),c.closeNav=$("#nav_mobile__close"),c.closeSearch=$("#nav_mobile__close--search"),c.keyboardEscape=$("#nav_mobile__search__keyboard_escape"),c.firstNavItem=$(".nav_mobile__level1_link").first()},bindEvents:function(){$("header").on("submit",".main_nav__search_box, .nav_mobile__search_box",function(e){e.preventDefault(),r.submit($(this).find("input"))}),e.$el.window.on("search-history-update",r.renderHistory),c.searchInputDesktop.on("keydown",function(e){e.which!==i.ESCAPE&&e.stopPropagation()}),c.searchInputMobile.on("focus",function(){r.toggleMobileSearch(!0)}),c.closeSearch.on("click",function(){r.toggleMobileSearch(!1),c.closeNav.focus()}),c.keyboardEscape.on("keyup click",function(e){o.isClick(e)&&(e.preventDefault(),r.toggleMobileSearch(!1),c.firstNavItem.focus())})},renderHistory:function(){var e=n.getHistory();c.history.empty(),e&&e.length&&(c.historyContainer.removeClass("hidden"),_.each(e,function(e){c.history.append('<li class="main_nav__search__history_item c10__cta--v1">\n                                <a href="'.concat(s,"?search=").concat(encodeURIComponent(e),'"\n                                    class="c10__cta--v1">\n                                    ').concat(t.escapeHtml(e),"\n                                </a>\n                            </li>"))}))},submit:function(e){var t=e instanceof $?(e.val()||"").trim():e.trim();t&&(n.addHistory(t),window.location.href="".concat(s,"?search=").concat(encodeURIComponent(t)))},initAutocomplete:function(){var n=e.searchAutocompleteOptions;a.init({$container:$(".main_nav__search"),options:n,highlightClass:"c10__inputfieldbold--v1",onResultClick:function(n){e.$el.window.trigger("trackAnalytics",[{component:"c10_In_Page_Search",event:"submit",data:{context:"hdrClickSuggestion",searchText:n.Name}}]),r.submit(n.Name)}}),a.init({$container:$(".nav_mobile__search"),options:n,highlightClass:"c10__inputfieldbold--v1",onResultClick:function(n){e.$el.window.trigger("trackAnalytics",[{component:"c10_In_Page_Search",event:"submit",data:{context:"hdrClickSuggestion",searchText:n.Name}}]),r.submit(n.Name)}})},toggleMobileSearch:function(e){c.otherHeaderContent.toggleClass("hidden",e),c.topSearchesMobile.toggleClass("hidden",!e),c.closeSearch.toggleClass("hidden",!e)}},l=function(){r.cacheJQueryElements(),r.bindEvents(),r.renderHistory(),r.initAutocomplete()};$(function(){return l()})});
//# sourceMappingURL=headerSearch.js.map
