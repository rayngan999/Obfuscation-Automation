(window.wpJsonpCambly=window.wpJsonpCambly||[]).push([[53],{144:function(t,e,n){"use strict";n.r(e),n.d(e,"PuffinConversation",(function(){return d})),n.d(e,"PuffinConversations",(function(){return v}));var r=n(1157),o=n.n(r),u=n(395),i=n(298);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=new o.a.Howl({src:["/static/sounds/notification.ogg"]}),d=function(t){s(u,t);var e,n,r,o=p(u);function u(){return a(this,u),o.apply(this,arguments)}return e=u,r=[{key:"collection",value:function(){return"puffin_conversations"}},{key:"playChime",value:function(){b.play()}}],(n=[{key:"getPartnerIds",value:function(t){return this.participantIds.filter((function(e){return e!==t}))}},{key:"getPartnerId",value:function(t){return this.getPartnerIds(t)[0]||this.participantIds[0]}},{key:"getLastMessage",value:function(){return this.lastMessage?new i.PuffinMessage(this.lastMessage,{metadata:this._metadata}):null}},{key:"setArchived",value:function(t,e){return this.$post("set_archived",{participantId:t,isArchived:e})}},{key:"sendMessage",value:function(t,e){return this.$post("send_message",{senderId:t,messageParts:e})}},{key:"markAsRead",value:function(t){return this.$post("mark_as_read",{participantId:t,lastMessageId:this.lastMessage.id})}}])&&f(e.prototype,n),r&&f(e,r),u}(u._PuffinConversation),v=function(t){s(n,t);var e=p(n);function n(){return a(this,n),e.apply(this,arguments)}return n}(u._PuffinConversations);v.register(d)},174:function(t,e,n){"use strict";n.r(e),n.d(e,"OnlineRange",(function(){return p})),n.d(e,"OnlineRanges",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"online_ranges"}},{key:"extend",value:function(t){return this.$create({language:"en",role:t},{scrub:!0})}}],(n=null)&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},188:function(t,e,n){"use strict";n.r(e),n.d(e,"LessonModule",(function(){return m})),n.d(e,"LessonModules",(function(){return g}));var r=n(3),o=n(27),u=n(434);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){p(n,t);var e=h(n);function n(){return f(this,n),e.apply(this,arguments)}return l(n,[{key:"slideTypeLabel",value:function(){return g.slideTypeLabels[this.slideType]||"Other Activity"}}],[{key:"collection",value:function(){return"lesson_modules"}},{key:"newFromFile",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"curriculum_beta";return{url:URL.createObjectURL(t),title:e+"_"+r+"_"+t.name.split(/\.[a-z]{1,5}$/)[0],theme:e,slideType:r,uiType:"ImageModule",suggestedMinutes:n.defaultSuggestedMinutes,_file:t,_fileType:t.type}}}]),n}(u._LessonModule);v(m,"defaultSuggestedMinutes",1),v(m,"COMPLETE",{uiType:"LessonCompleteModule",whiteboardEnabled:!1});var g=function(t){p(n,t);var e=h(n);function n(){return f(this,n),e.apply(this,arguments)}return l(n,null,[{key:"loadResuable",value:function(){return n.fetch({reusable:!0})}},{key:"byTheme",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(c(t));return c(e.documents.values()).filter((function(t){return t})).forEach((function(t){n.set(t.theme,(n.get(t.theme)||new Set).add(t.id))})),n;default:return t}}}]),n}(u._LessonModules);v(g,"validSlideTypes",["intro","game","story","wrapup","vocab","grammar","sentences","questions","matching","mc","blank","spelling","phonics","scene","narrative","nonfiction","discussion","other","curriculum_beta"]),v(g,"slideTypeLabels",{vocab:"Vocab",grammar:"Grammar",sentences:"Sentences",questions:"Q&A",matching:"Matching",mc:"Multiple Choice",blank:"Fill in the Blank",spelling:"Spelling",phonics:"Phonics",scene:"Describe the Scene",narrative:"Narrative Passage",nonfiction:"Nonfiction Passage",discussion:"Discussion Questions",other:"Other Activity",intro:"Intro",game:"Game Time",story:"Story Time",wrapup:"Wrap Up",curriculum_beta:"curriculum_beta"}),v(g,"reducers",Object(o.combineReducers)({all:r.a.all,metadata:r.a.metadata,byTheme:g.byTheme})),g.register(m)},210:function(t,e,n){"use strict";n.r(e),n.d(e,"LegacyLesson",(function(){return $})),n.d(e,"LegacyLessons",(function(){return N}));var r=n(10),o=n.n(r),u=n(1102),i=n.n(u),c=n(1103),a=n.n(c),f=n(1096),s=n.n(f),l=n(1104),p=n.n(l),y=n(856),h=n.n(y),b=n(1105),d=n.n(b),v=n(1106),m=n.n(v),g=n(0),O=n.n(g),w=n(20),_=n(24),P=n(3);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),t}function C(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M(t);if(e){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x,U,L,$=function(t){C(n,t);var e=A(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.metadata,i=void 0===u?null:u;return k(this,n),(r=e.call(this,t,{metadata:i})).innerChats=[],r}return T(n,[{key:"startsSoon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.isFuture()&&this.minutesUntil()<=t}},{key:"minutesUntil",value:function(){return o.a.duration(this.utcStart()-o.a.utc()).asMinutes()}},{key:"studentObj",value:function(){return _.a.getState().model.users.all.get(this.student)}},{key:"tutorObj",value:function(){return _.a.getState().model.users.all.get(this.tutor)}},{key:"confirmed",value:function(){return!0}},{key:"isGroupLesson",value:function(){return!1}},{key:"title",value:function(){return this.isGroupLesson()?O.a.createElement(w.b,null,"Group Lesson"):this.isPast()?O.a.createElement(w.b,null,"Cambly Lesson"):this.confirmed()||"student"===this.creator()?O.a.createElement(w.b,null,"Scheduled Lesson"):O.a.createElement(w.b,null,"Lesson Request")}},{key:"lessonTypeText",value:function(){return N.lessonTypeText(this.lessonType)}},{key:"lessonTypeIcon",value:function(){return N.lessonTypeIcon(this.lessonType)}}],[{key:"collection",value:function(){return"legacy_lessons"}}]),n}(P.b),N=function(t){C(n,t);var e=A(n);function n(){return k(this,n),e.apply(this,arguments)}return T(n,null,[{key:"merge",value:function(t){return t}},{key:"sortByStart",value:function(t){return t.sort((function(t,e){return t.utcStart().diff(e.utcStart())}))}},{key:"byDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0,n=new Map(j(t));switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":return e.documents.forEach((function(t,e){if(null==t?void 0:t.minutes){var r=t.tzStart().startOf("day").unix();n.set(r,(n.get(r)||new Map).set(e,t))}})),e.collection.merge(n);case"DELETE_DOCUMENTS":return n.forEach((function(t,r){var o=new Map(j(t));e.documents.forEach((function(t){return o.delete(t.id)})),n.set(r,o)})),e.collection.merge(n);default:return t}}},{key:"lessonTypeText",value:function(t){switch(t){case"freeconversation":return O.a.createElement(w.b,null,"Conversation Practice");case"businessenglish":return O.a.createElement(w.b,null,"Business English");case"childrensmaterials":return O.a.createElement(w.b,null,"Children's Lesson");case"ieltsprep":return O.a.createElement(w.b,null,"IELTS Preparation");case"toeicprep":return O.a.createElement(w.b,null,"TOEIC Preparation");case"toeflprep":return O.a.createElement(w.b,null,"TOEFL Preparation");case"pronunciation":return O.a.createElement(w.b,null,"Pronunciation");case"grammarlessons":return O.a.createElement(w.b,null,"Grammar Lesson");case"other":return O.a.createElement(w.b,null,"Other")}return null}},{key:"lessonTypeIcon",value:function(t){switch(t){case"freeconversation":return a.a;case"businessenglish":return p.a;case"childrensmaterials":return h.a;case"ieltsprep":case"toeicprep":case"toeflprep":return s.a;case"pronunciation":return d.a;case"grammarlessons":return i.a;case"other":return m.a}return null}}]),n}(P.a);L=["freeconversation","businessenglish","ieltsprep","toeicprep","toeflprep","pronunciation","grammarlessons","other"],(U="lessonTypes")in(x=N)?Object.defineProperty(x,U,{value:L,enumerable:!0,configurable:!0,writable:!0}):x[U]=L,N.register($)},261:function(t,e,n){"use strict";n.r(e),n.d(e,"LessonPlan",(function(){return b})),n.d(e,"LessonPlans",(function(){return d}));var r=n(188),o=n(151),u=n(435);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){s(l,t);var e,n,u,i=p(l);function l(){return c(this,l),i.apply(this,arguments)}return e=l,u=[{key:"collection",value:function(){return"lesson_plans"}},{key:"fetchById",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=n.fetchLessonModules,i=void 0!==u&&u;return f(h(l),"fetchById",this).call(this,t,{viewAs:e}).done((function(t){var n=t.doc;return o.Curriculum.fetchById(n.curriculumId,e),i&&(r.LessonModules.fetchByKey(n.lessonModuleIds,{viewAs:e}),r.LessonModules.fetchByKey(n.preLessonModuleIds,{viewAs:e})),t}))}}],(n=[{key:"addPart",value:function(t){var e={type:t.slideType,label:t.name,minutes:t.defaultMinutes,lessonPlanPartId:t.id};return this.$push("lessonPlanParts",e)}}])&&a(e.prototype,n),u&&a(e,u),l}(u._LessonPlan),d=function(t){s(n,t);var e=p(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(u._LessonPlans);d.register(b)},316:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return i})),n.d(e,"getHumanReadableLocale",(function(){return c}));var r,o,u,i=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};function c(t){var e={arabic:"Arabic",brazil:"Brazil",china:"China",india:"India",japan:"Japan",turkey:"Turkey",korea:"Korea",saudi_arabia:"Saudi Arabia",euro:"Europe",russia:"Russia",mexico:"Mexico",peru:"Peru",colombia:"Colombia",chile:"Chile",taiwan:"Taiwan",vietnam:"Vietnam",spain:"Spain",portugal:"Portugal",spanish_other:"Spanish (Other)",default:"Global"};return t in e?e[t]:t}u="",(o="NONE")in(r=i)?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u},355:function(t,e,n){"use strict";n.r(e),n.d(e,"PromoBannerCampaign",(function(){return y})),n.d(e,"PromoBannerCampaigns",(function(){return h}));var r=n(3);n(15);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"collection",value:function(){return"promo_banner_campaigns"}},{key:"addPromoBannerCampaign",value:function(t){return this.$create(t,{scrub:!0})}}]),n}(r.b),h=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"fetchForAudience",value:function(t){var e={audience:t};return this.fetchQuery(e,{scrub:!0})}},{key:"fetchByProductList",value:function(t,e){var n={productList:t};return this.fetchQuery(n,{viewAs:e})}}]),n}(r.a);h.register(y)},376:function(t,e,n){"use strict";n.r(e),n.d(e,"LegalDocument",(function(){return v})),n.d(e,"UserAgreement",(function(){return m})),n.d(e,"PrivacyPolicy",(function(){return g})),n.d(e,"KidsPrivacyPolicy",(function(){return O})),n.d(e,"CoppaAgreement",(function(){return w})),n.d(e,"AmbassadorAgreement",(function(){return _})),n.d(e,"TutorAgreement",(function(){return P})),n.d(e,"LegalDocuments",(function(){return S})),n.d(e,"UserAgreements",(function(){return j})),n.d(e,"PrivacyPolicys",(function(){return R})),n.d(e,"KidsPrivacyPolicys",(function(){return k})),n.d(e,"CoppaAgreements",(function(){return E})),n.d(e,"AmbassadorAgreements",(function(){return T})),n.d(e,"TutorAgreements",(function(){return C}));var r=n(3),o=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h,b,d,v=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"legal_documents"}}]),n}(r.b),m=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"user_agreements"}},{key:"create",value:function(t,e,r){return n.$create({userId:t,version:e,minorVersion:r},{viewAs:o.default.STUDENT})}}]),n}(v),g=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"privacy_policys"}},{key:"create",value:function(t,e,r){return n.$create({userId:t,version:e,minorVersion:r},{viewAs:o.default.STUDENT})}}]),n}(v),O=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"kids_privacy_policys"}},{key:"create",value:function(t,e,r){return n.$create({userId:t,version:e,minorVersion:r},{viewAs:o.default.PARENT})}}]),n}(v),w=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"coppa_agreements"}},{key:"create",value:function(t,e){return n.$create({userId:t,version:e},{viewAs:o.default.STUDENT})}}]),n}(v),_=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,[{key:"sign",value:function(t,e){return this.$post("sign",{userId:t,signature:e})}}],[{key:"collection",value:function(){return"ambassador_agreements"}},{key:"fetch",value:function(){return n.$get("get_agreement",{scrub:!0})}}]),n}(v),P=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,[{key:"sign",value:function(t){return this.$post("sign",{signature:t},{viewAs:o.default.TUTOR})}}],[{key:"collection",value:function(){return"tutor_agreements"}},{key:"create",value:function(t){return n.$create({userId:t},{viewAs:o.default.TUTOR})}}]),n}(v);d="3",(b="latestVersion")in(h=P)?Object.defineProperty(h,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[b]=d;var S=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"forUser",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.default.STUDENT;return this.fetchQuery({user:t,agreementName:e,version:n},{viewAs:r})}},{key:"latest",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.default.Student;return console.log(n),this.fetchQuery({userId:t,docName:e},{viewAs:n})}}]),n}(r.a),j=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(S),R=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(S),k=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(S),E=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(S),T=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(S),C=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"forUser",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetchQuery({userId:t,version:e},{viewAs:o.default.TUTOR})}}]),n}(S);S.register(v),j.register(v),R.register(g),k.register(O),E.register(w),T.register(_),C.register(P)},406:function(t,e,n){"use strict";n.r(e),n.d(e,"PromoCode",(function(){return b})),n.d(e,"AmbassadorCode",(function(){return d})),n.d(e,"PromoCodes",(function(){return v})),n.d(e,"AmbassadorCodes",(function(){return m}));var r=n(10),o=n.n(r),u=n(391);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){s(n,t);var e=p(n);function n(){return c(this,n),e.apply(this,arguments)}return f(n,[{key:"isActive",value:function(){return this.active||void 0===this.active}},{key:"isExpired",value:function(){return this.expireDate&&this.expireDate.$date<o()().valueOf()}}],[{key:"collection",value:function(){return"promo_codes"}}]),n}(u._PromoCode),d=function(t){s(n,t);var e=p(n);function n(){return c(this,n),e.apply(this,arguments)}return f(n,null,[{key:"collection",value:function(){return"ambassador_codes"}}]),n}(b),v=function(t){s(n,t);var e=p(n);function n(){return c(this,n),e.apply(this,arguments)}return f(n,null,[{key:"forUser",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=o.viewAs,i=void 0===u?null:u,c={userId:t,type:e,activeOnly:r,viewAs:i};return n&&(c.subtype=n),this.fetchQuery(c,{viewAs:i})}},{key:"forCode",value:function(t){return this.fetch({code:t})}}]),n}(u._PromoCodes),m=function(t){s(n,t);var e=p(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(v);v.register(b),m.register(d)},414:function(t,e,n){"use strict";n.r(e),n.d(e,"Payout",(function(){return h})),n.d(e,"Payouts",(function(){return b}));var r=n(15),o=n(437);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,[{key:"approve",value:function(){return this.$post("approve")}},{key:"reject",value:function(t){return this.$post("reject",{rejectionReason:t})}},{key:"markPaid",value:function(t){return this.$post("mark_paid",{destinationId:t})}}],[{key:"collection",value:function(){return"payouts"}}]),n}(o._Payout),b=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"forPaymentStatus",value:function(t,e){var n={paid:t};return e.length&&(n.locale=e),this.fetchQuery(n,{viewAs:r.default.SUPPORT})}}]),n}(o._Payouts);b.register(h)},488:function(t,e,n){"use strict";n.r(e),n.d(e,"PayoutDestination",(function(){return y})),n.d(e,"PayoutDestinations",(function(){return h}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){a(f,t);var e,n,r,o=s(f);function f(){return i(this,f),o.apply(this,arguments)}return e=f,r=[{key:"collection",value:function(){return"payout_destinations"}},{key:"create",value:function(t,e,n,r,o){var i,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=c.custom,f=void 0===a?null:a;return this.$create((u(i={userId:t,platform:e},n,r),u(i,"fullName",o),u(i,"custom",f),i),{scrub:!0})}}],(n=null)&&c(e.prototype,n),r&&c(e,r),f}(r.b),h=function(t){a(n,t);var e=s(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(r.a);h.register(y)},499:function(t,e,n){"use strict";n.r(e),n.d(e,"Lesson",(function(){return j})),n.d(e,"Lessons",(function(){return R}));var r=n(27),o=n(10),u=n.n(o),i=n(3),c=n(786),a=n(433);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,u=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(a){o=!0,u=a}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return n}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _,P,S,j=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return d(n,[{key:"createChat",value:function(t){return this.$post("create_chat",{mock:t,supportsScreenshare:!0,supportedVideoPlatforms:["opentok","agora"],supportsAgoraScreenshare:!0})}},{key:"join",value:function(){return this.$post("join")}},{key:"published",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"screen"===n?this.$post("published",{streamId:t.toString(),cameras:null,role:e,videoType:n,activateChat:r}):this.$post("published",{streamId:t.toString(),cameras:c.a.getCameras(),role:e,videoType:n,activateChat:r})}},{key:"subscribed",value:function(t){return this.$post("subscribed",{role:t})}},{key:"startPart",value:function(t){return this.$post("start_part",{moduleIdx:t})}},{key:"keepAlive",value:function(){return this.$post("keep_alive")}},{key:"end",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.$post("end",{reason:t})}},{key:"banStudent",value:function(){return this.$post("ban_student")}},{key:"awardStar",value:function(t){return this.$post("award_star",{starIdx:t})}},{key:"getRemainder",value:function(t){return this.depletionTime?u.a.duration(this.moment("depletionTime")-u()()+t):u.a.duration(this.minutes-this.chatMinutes,"minutes")}},{key:"getElapsed",value:function(t){return u.a.duration(60*this.minutes-this.getRemainder(t).asSeconds(),"seconds")}},{key:"isComplete",value:function(t){return this.chatMinutes>=this.minutes&&this.getRemainder(t).asSeconds()<=0}},{key:"hideVideoStreams",value:function(t){return this.isComplete(t)||this.tutorPressedBan||this.endReason}},{key:"hasCurriculum",value:function(){return!!this.lessonPlanId}},{key:"isFreeform",value:function(){return!this.hasCurriculum()&&!this.isScreensharing}},{key:"startScreenshare",value:function(){return this.$post("start_screenshare")}},{key:"endScreenshare",value:function(){return this.$post("end_screenshare")}},{key:"tutorTimeout",value:function(){return this.$post("tutor_timeout")}}],[{key:"collection",value:function(){return"lessons"}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.reservationId,r=void 0===e?null:e,o=t.studentId,u=void 0===o?null:o,i=t.tutorId,c=void 0===i?null:i,a=t.enrollmentId,f=void 0===a?null:a,s=!0;return n.$create({reservationId:r,studentId:u,tutorId:c,supportTalonChat:s,enrollmentId:f},{scrub:!0})}}]),n}(a._Lesson),R=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return d(n,null,[{key:"all",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(l(t));return l(e.documents).forEach((function(t){var e=s(t,2),r=e[0],o=e[1],u=n.get(r);(!o||!u||o._v>(u._v||-1))&&n.set(r,o)})),n;default:return t}}}]),n}(a._Lessons);_=R,P="reducers",S=Object(r.combineReducers)({all:R.all,metadata:i.a.metadata}),P in _?Object.defineProperty(_,P,{value:S,enumerable:!0,configurable:!0,writable:!0}):_[P]=S,R.register(j)},500:function(t,e,n){"use strict";n.r(e),n.d(e,"PriorityHour",(function(){return O})),n.d(e,"PriorityHours",(function(){return w}));var r=n(3),o=n(24),u=n(10),i=n.n(u),c=n(785),a=n(545);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){b(n,t);var e=v(n);function n(){return p(this,n),e.apply(this,arguments)}return h(n,[{key:"ownerId",value:function(){return this.userId.$oid}},{key:"drop",value:function(){var t,e=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=i.a.utc(this.startTime.$date),u=i.a.tz(this.startTime.$date,cambly.USER_TZ),c=i.a.duration(o-i.a.utc()).asHours(),f=(new Date).getTime()-1e3*parseInt(this.id.substring(0,8),16)<36e5;t=c<=12&&!f?"This Priority Hour starts in ".concat(c.toFixed(1)," hours.\n\nPriority Hours should be cancelled at")+" least 12 hours in advance. It's better to cancel than not show up, but your future Priority Hour access may be restricted if you repeatedly cancel Priority Hours within 12 hours of the start time.\n\nCancel this Priority Hour anyway?":"Are you sure you want to remove yourself from the Priority Hour starting at ".concat(u.format("LT")," on ").concat(u.format("dddd LL"),"?"),confirm(t)&&this.$delete({droppedBy:"tutor",forgive:r}).done((function(t){t.error?alert(t.error):n?a.AvailablePriorityHours.fetchForTutor(e.ownerId()).done((function(){e._remove_from_redux()})):e._remove_from_redux()}))}},{key:"takeBreak",value:function(){return this.$post("take_break").done((function(){w.fetchUpcoming(cambly.USER_ID)}))}},{key:"endBreak",value:function(){if(confirm("Are you sure you want to end your break early?"))return this.$post("end_break")}},{key:"onBreakNow",value:function(){var t=this.breakEndUtc();return!!t&&t.isAfter(i.a.utc())}},{key:"breakEndUtc",value:function(){var t,e,n,r=Math.max((null===(t=this.previousBreakEnd)||void 0===t?void 0:t.$date)||0,(null===(e=this.breakEnd)||void 0===e?void 0:e.$date)||0,(null===(n=this.courtesyBreakEnd)||void 0===n?void 0:n.$date)||0);return r?i.a.utc(r):null}},{key:"breakEndTz",value:function(){var t=this.breakEndUtc();return t?i.a.tz(t,cambly.USER_TZ):null}}],[{key:"collection",value:function(){return"priority_hours"}},{key:"endpoint",value:function(){return"/api/shifts"}}]),n}(r.b),w=function(t){b(n,t);var e=v(n);function n(){return p(this,n),e.apply(this,arguments)}return h(n,null,[{key:"fetchUpcoming",value:function(t){var e=i()().utc();return this.fetch({language:"en",tutor:t,start:e.valueOf(),dropped:!1})}},{key:"fetchCompleted",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n=n?i.a.utc(n):i()().utc(),this.fetch({language:"en",tutor:t,start:e?e.valueOf():null,end:n.valueOf(),dropped:!1,paid:!0})}},{key:"fetchReleased",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n=n?i.a.utc(n):i()().utc(),this.fetch({language:"en",tutor:t,start:e?e.valueOf():null,end:n.valueOf(),droppedBy:"auto"})}},{key:"getForTutor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.getState().model.priority_hours.all;return s(e.values()).filter((function(e){return e&&!e.dropped&&e.ownerId()===t})).sort((function(t,e){return t.moment("startTime").diff(e.moment("startTime"))}))}},{key:"getCurrent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.getState().model.priority_hours.all;return n.getForTutor(t,e).find((function(t){return t&&!t.dropped&&t.isCurrent()}))}},{key:"getAutoReleasedForTutor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.getState().model.priority_hours.all;return s(e.values()).filter((function(e){return e&&e.ownerId()===t&&!e.isFuture()&&"auto"===e.droppedBy}))}}]),n}(r.a);w.register(O,c.a)},503:function(t,e,n){"use strict";n.r(e),n.d(e,"LegalDocumentTemplate",(function(){return h})),n.d(e,"LegalDocumentTemplates",(function(){return b}));var r=n(3),o=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"legal_document_templates"}}]),n}(r.b),b=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"current",value:function(t){return this.fetchQuery({name:t},{viewAs:o.default.NONE})}}]),n}(r.a);b.register(h)},519:function(t,e,n){"use strict";n.r(e),n.d(e,"Organization",(function(){return h})),n.d(e,"Organizations",(function(){return b}));var r=n(436),o=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,[{key:"addStudent",value:function(t,e){return this.$post("add_student",{student:t,adminId:e})}},{key:"addAdmin",value:function(t){return this.$post("add_admin",{admin:t})}},{key:"updatePermissions",value:function(t){return this.$post("update_permissions",{permissions:t})}}],[{key:"collection",value:function(){return"organizations"}},{key:"create",value:function(t,e,n,r,u){return this.$create({orgName:t,country:e,timezone:n,language:r,userId:u},{viewAs:o.default.CAMBLY_ADMIN})}}]),n}(r._Organization),b=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"fetchAll",value:function(){return this.fetchQuery({},{viewAs:o.default.CAMBLY_ADMIN})}},{key:"forAdmin",value:function(t){return this.fetchQuery({adminId:t},{viewAs:o.default.ADMINISTRATOR})}},{key:"forName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.force,r=void 0===n?null:n;return this.fetchQuery({orgName:t},{viewAs:o.default.CAMBLY_ADMIN,force:r})}}]),n}(r._Organizations);b.register(h)},599:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductModifierCode",(function(){return l})),n.d(e,"ProductModifierCodes",(function(){return p}));var r=n(389);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ProductModifierCode),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ProductModifierCodes);p.register(l)},607:function(t,e,n){"use strict";n.r(e),n.d(e,"ManualAttribution",(function(){return h})),n.d(e,"ManualAttributions",(function(){return b}));var r=n(3),o=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"manual_attributions"}},{key:"addAttribution",value:function(t){return this.$create({data:t},{viewAs:o.default.SUPPORT})}}]),n}(r.b),b=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"fetchByUser",value:function(t){var e={userId:t};return this.fetchQuery(e,{viewAs:o.default.SUPPORT})}}]),n}(r.a);b.register(h)},744:function(t,e,n){"use strict";n.r(e),n.d(e,"PromoCodeEventTotal",(function(){return y})),n.d(e,"PromoCodeEventTotals",(function(){return h}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"collection",value:function(){return"promo_code_event_totals"}}]),n}(r.b),h=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"forUser",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.viewAs,r=void 0===n?null:n;return this.fetchQuery({userId:t},{viewAs:r})}}]),n}(r.a);h.register(y)},763:function(t,e,n){"use strict";n.r(e),n.d(e,"OrgCsv",(function(){return y})),n.d(e,"OrgCsvs",(function(){return h}));var r=n(3),o=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){a(f,t);var e,n,r,u=s(f);function f(){return i(this,f),u.apply(this,arguments)}return e=f,r=[{key:"collection",value:function(){return"org_csvs"}},{key:"create",value:function(t,e,n){return this.$create({csvStr:t,csvJson:e,orgId:n},{viewAs:o.default.CAMBLY_ADMIN})}}],(n=null)&&c(e.prototype,n),r&&c(e,r),f}(r.b),h=function(t){a(n,t);var e=s(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(r.a);h.register(y)},764:function(t,e,n){"use strict";n.r(e),n.d(e,"PaypalCharge",(function(){return l})),n.d(e,"PaypalCharges",(function(){return p}));var r=n(438);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._PaypalCharge),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._PaypalCharges);p.register(l)},765:function(t,e,n){"use strict";n.r(e),n.d(e,"PrivacyPolicy",(function(){return l})),n.d(e,"PrivacyPolicys",(function(){return p}));var r=n(439);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._PrivacyPolicy),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._PrivacyPolicys);p.register(l)},766:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductInfo",(function(){return l})),n.d(e,"ProductInfos",(function(){return p}));var r=n(387);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ProductInfo),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ProductInfos);p.register(l)},767:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductList",(function(){return m})),n.d(e,"ProductLists",(function(){return g}));var r=n(27),o=n(388);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b,d,v,m=function(t){s(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(o._ProductList),g=function(t){s(u,t);var e,n,r,o=p(u);function u(){return f(this,u),o.apply(this,arguments)}return e=u,r=[{key:"byName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(i(t));return e.documents.forEach((function(t){n.set(t.name,t)})),n;default:return t}}}],(n=null)&&a(e.prototype,n),r&&a(e,r),u}(o._ProductLists);b=g,d="reducers",v=Object(r.combineReducers)({all:g.all,metadata:g.metadata,byName:g.byName}),d in b?Object.defineProperty(b,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):b[d]=v,g.register(m)},768:function(t,e,n){"use strict";n.r(e),n.d(e,"ProficiencyTest",(function(){return l})),n.d(e,"ProficiencyTests",(function(){return p}));var r=n(390);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ProficiencyTest),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ProficiencyTests);p.register(l)},769:function(t,e,n){"use strict";n.r(e),n.d(e,"PromoCodeEvent",(function(){return p})),n.d(e,"PromoCodeEvents",(function(){return y}));var r=n(392);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"promo_code_events"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),a}(r._PromoCodeEvent),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._PromoCodeEvents);y.register(p)},77:function(t,e,n){"use strict";n.r(e),n.d(e,"Product",(function(){return g})),n.d(e,"Products",(function(){return O})),n.d(e,"getHumanReadableTimeOption",(function(){return w}));var r=n(27),o=n(3),u=n(89),i=n(386);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){h(n,t);var e=d(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.metadata,i=void 0===u?null:u;return l(this,n),r=e.call(this,t,{metadata:i}),t.months&&(r.id="".concat(r.id,"#").concat(t.months,"#").concat(t.purchaseType)),r}return y(n,[{key:"totalDiscountPercentage",value:function(t){var e=t||u.b.convertToFloat(this.originalPrice,this.currency);return(e-u.b.convertToFloat(this.price,this.currency))/e}},{key:"getPlanDescription",value:function(t){if("subscription"===this.purchaseType&&this.months>=1){var e=this.productInfo.minutesPerDay?t.t("{{ minutes }} minutes per day",{minutes:this.productInfo.minutesPerDay}):null,n=this.productInfo.daysPerWeek?t.t("{{ days }} days per week",{days:this.productInfo.daysPerWeek}):null,r=e&&n?"".concat(e,", ").concat(n):this.description,o={1:t.t("1 Month"),2:t.t("2 Months")}[this.months]||t.t("{{ months }} Months",{months:this.months}),u={1:t.t("Month"),3:t.t("Quarter"),6:t.t("Semester"),12:t.t("Year")}[this.months]||o;return"".concat(r," | ").concat(u)}return this.description}},{key:"getPlanDescriptionShort",value:function(t){if("subscription"===this.purchaseType&&this.months>=1){var e=this.productInfo.minutesPerDay?t.t("{{ minutes }} minutes per day",{minutes:this.productInfo.minutesPerDay}):null,n=this.productInfo.daysPerWeek?t.t("{{ days }} days per week",{days:this.productInfo.daysPerWeek}):null;return e&&n?"".concat(e,", ").concat(n):this.description}return this.description}},{key:"isSubscription",value:function(){return["subscription","kids"].includes(this.purchaseType)}}],[{key:"collection",value:function(){return"products"}},{key:"getHumanReadablePurchaseType",value:function(t){var e={subscription:"Cambly",kids:"Cambly Kids"};return t in e?e[t]:t}},{key:"formatPrice",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=null;if(e&&(o=e.language),!o&&"undefined"!=typeof window&&window&&void 0!==window.navigator&&window.navigator&&(o=void 0!==window.navigator.languages&&window.navigator.languages&&window.navigator.languages.length>0?window.navigator.languages[0]:void 0!==window.navigator.language&&window.navigator.language?window.navigator.language:window.navigator.userLanguage||window.navigator.browserLanguage),1===(o=o||"en").split("-").length){var u=o.split("_").length>1?o.split("_")[1]:null;e&&!u&&(u=e.country),u&&(o="".concat(o.split("_")[0],"-").concat(u))}var i=[o,o.split("-")[0]],c={style:"currency",currency:n};r||(c.maximumFractionDigits=0,c.minimumFractionDigits=0);var a=t.toLocaleString(i,c);return"TRY"===n&&a.includes("TRY")&&(a=a.replace("TRY",""),a+=" TL"),a}},{key:"price",value:function(t){if(!t)return null;var e=t.currency||"USD";return u.a.includes(e)?t.price:+(t.price/100).toFixed(2)}},{key:"getHumanReadablePrice",value:function(t){return Number.isInteger(this.price(t))?"".concat(this.price(t)," ").concat(t.currency):"".concat(this.price(t).toFixed(2)," ").concat(t.currency)}},{key:"localizedPrice",value:function(t,e,n){if(!t)return null;var r=n||"USD";return u.a.includes(r)?+(this.price(t)*e*100).toFixed(2):+(this.price(t)*e).toFixed(2)}},{key:"getHumanReadableLocalizedPrice",value:function(t,e,n){return Number.isInteger(this.localizedPrice(t,e,n))?"".concat(this.localizedPrice(t,e,n)," ").concat(n):"".concat(this.localizedPrice(t,e,n).toFixed(2)," ").concat(n)}},{key:"priceDifference",value:function(t,e){return((t-e)/e*100).toFixed(2)}}]),n}(i._Product),O=function(t){h(n,t);var e=d(n);function n(){return l(this,n),e.apply(this,arguments)}return y(n,null,[{key:"fetchKidsProducts",value:function(t,e,r){return t&&e?n.fetch({purchaseType:["kids","kids-trial","promotion-kids"],userId:t,recipientId:e,currency:r}):n.fetch({purchaseType:["kids","kids-trial","promotion-kids"],currency:r})}},{key:"kids",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map;return t.forEach((function(t){n.set(t.id,t)})),e.documents.forEach((function(t){(["kids","kids-trial"].includes(t.purchaseType)||"kids-trial"===t.productInfo.type)&&n.set(t.id,t)})),new Map([].concat(a(t),a(n)));default:return t}}},{key:"adults",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map;return t.forEach((function(t){n.set(t.id,t)})),e.documents.forEach((function(t){["subscription","consumable","trial"].includes(t.purchaseType)&&n.set(t.id,t)})),new Map([].concat(a(t),a(n)));default:return t}}},{key:"promotions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map;return t.forEach((function(t){n.set(t.id,t)})),e.documents.forEach((function(t){["promotion","promotion-kids","misc"].includes(t.purchaseType)&&n.set(t.id,t)})),new Map([].concat(a(t),a(n)));default:return t}}},{key:"byPurchaseType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":return a(e.documents.values()).reduce((function(e,n){return e.get(n.purchaseType)===t.get(n.purchaseType)&&e.set(n.purchaseType,new Map(e.get(n.purchaseType))),e.get(n.purchaseType).set(n.id,n),e}),new Map(t));default:return t}}},{key:"getAvailableSubscriptionOptions",value:function(t){var e=a(new Set(t.map((function(t){return t.productInfo.minutesPerDay})))).sort((function(t,e){return t-e})),n=a(new Set(t.map((function(t){return t.productInfo.daysPerWeek})))).sort((function(t,e){return t-e})),r=a(new Set(t.map((function(t){return t.months})))).sort((function(t,e){return t-e}));return{subscriptionsArray:t,minutesPerDay:e,daysPerWeek:n,months:r}}}]),n}(i._Products);function w(t){var e={minutesPerDay:"Minutes Per Day",daysPerWeek:"Days Per Week"};return t in e?e[t]:t}s(O,"reducers",Object(r.combineReducers)({all:o.a.all,metadata:o.a.metadata,promotions:O.promotions,kids:O.kids,adults:O.adults,byPurchaseType:O.byPurchaseType})),s(O,"subscriptionArray",(function(t){return a(t.values()).filter((function(t){return["subscription","kids"].includes(t.purchaseType)}))})),s(O,"minutesProductsArray",(function(t){return a(t.values()).filter((function(t){return["consumable"].includes(t.purchaseType)}))})),s(O,"kidsTrialArray",(function(t){return a(t.values()).filter((function(t){return["kids-trial"].includes(t.purchaseType)}))})),s(O,"trialProductsArray",(function(t){return a(t.values()).filter((function(t){return["trial"].includes(t.purchaseType)}))})),O.register(g)},770:function(t,e,n){"use strict";n.r(e),n.d(e,"PromoCodeGroup",(function(){return l})),n.d(e,"PromoCodeGroups",(function(){return p}));var r=n(393);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._PromoCodeGroup),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._PromoCodeGroups);p.register(l)},771:function(t,e,n){"use strict";n.r(e),n.d(e,"PuffinConfig",(function(){return v})),n.d(e,"PuffinConfigs",(function(){return m}));var r=n(27),o=n(394),u=n(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h,b,d,v=function(t){f(n,t);var e=l(n);function n(){return a(this,n),e.apply(this,arguments)}return n}(o._PuffinConfig),m=function(t){f(u,t);var e,n,r,o=l(u);function u(){return a(this,u),o.apply(this,arguments)}return e=u,r=[{key:"current",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":return e.current?e.documents.values().next().value:t;default:return t}}}],(n=null)&&c(e.prototype,n),r&&c(e,r),u}(o._PuffinConfigs);h=m,b="reducers",d=Object(r.combineReducers)({all:u.a.all,metadata:u.a.metadata,current:m.current}),b in h?Object.defineProperty(h,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[b]=d,m.register(v)},893:function(t,e,n){"use strict";n.r(e),n.d(e,"ModerationScreenshot",(function(){return p})),n.d(e,"ModerationScreenshots",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"moderation_screenshots"}},{key:"create",value:function(t,e){return this.$create({userId:t,lessonId:e},{scrub:!0})}}],(n=[{key:"getSignedS3UploadURL",value:function(t){return this.$get("sign_s3_uploaded_moderation_screenshot",{fileType:t})}}])&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},894:function(t,e,n){"use strict";n.r(e),n.d(e,"Payment",(function(){return y})),n.d(e,"Payments",(function(){return h}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"collection",value:function(){return"payments"}}]),n}(r.b),h=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"sorted",value:function(t){return r.a.sortByCreation(t)}}]),n}(r.a);h.register(y)},898:function(t,e,n){"use strict";n.r(e),n.d(e,"KidsTutorDemoLesson",(function(){return b})),n.d(e,"KidsTutorDemoLessons",(function(){return d}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){a(n,t);var e=s(n);function n(){var t;u(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return h(p(t=e.call.apply(e,[this].concat(o))),"getVideoUrl",(function(){return"".concat(t.endpoint(),"/video_url_redirect")})),t}return c(n,[{key:"setAsPublicVideo",value:function(){return this.$post("set_as_public_video")}}],[{key:"collection",value:function(){return"kids_tutor_demo_lessons"}},{key:"create",value:function(t,e){return this.$create({userId:t,opentokId:e},{scrub:!0})}}]),n}(r.b),d=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"forUser",value:function(t){return this.fetchQuery({userId:t.id},{scrub:!0})}}]),n}(r.a);d.register(b)},901:function(t,e,n){"use strict";n.r(e),n.d(e,"PrivateNote",(function(){return d})),n.d(e,"PrivateNotes",(function(){return v}));var r=n(27),o=n(3);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y,h,b,d=function(t){a(u,t);var e,n,r,o=s(u);function u(){return i(this,u),o.apply(this,arguments)}return e=u,r=[{key:"collection",value:function(){return"private_notes"}},{key:"create",value:function(t,e,n){return this.$create({language:"en",studentId:t,tutorId:e,note:n},{scrub:!0})}}],(n=[{key:"update",value:function(t){return this.$post("update",{noteText:t})}}])&&c(e.prototype,n),r&&c(e,r),u}(o.b),v=function(t){a(n,t);var e=s(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(o.a);y=v,h="reducers",b=Object(r.combineReducers)({all:o.a.all}),h in y?Object.defineProperty(y,h,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[h]=b,v.register(d)},924:function(t,e,n){"use strict";n.r(e),n.d(e,"LessonPart",(function(){return p})),n.d(e,"LessonParts",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"lesson_parts"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},925:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductUsage",(function(){return y})),n.d(e,"ProductUsages",(function(){return h}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"collection",value:function(){return"product_usages"}}]),n}(r.b),h=function(t){a(n,t);var e=s(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"forPurchase",value:function(t,e,n){return this.fetchQuery({purchaseId:t,userId:e},{viewAs:n})}},{key:"forUserId",value:function(t,e){return this.fetchQuery({userId:t},{viewAs:e})}}]),n}(r.a);h.register(y)}}]);