!function(e){"use strict";window.jnews.like=window.jnews.like||{},window.jnews.like={init:function(i){var a=this;a.container=void 0===i?e("body"):i,a.container.find(".jeg_meta_like > a").off("click").on("click",(function(i){i.preventDefault(),e(this).hasClass("clicked")||(a.element=e(this),a.parent=a.element.parent(),a.like=a.parent.find(".like"),a.dislike=a.parent.find(".dislike"),a.ajax_request())}))},ajax_request:function(){var i=this;i.parent.addClass("clicked").find(".fa").addClass("fa-pulse"),e.ajax({url:jnews_ajax_url,type:"post",dataType:"json",data:{post_id:i.element.attr("data-id"),type:i.element.attr("data-type"),action:"like_handler"}}).done((function(a){-1===a.response?(e("#jeg_loginform form").find("h3").html(a.message),window.jnews.loginregister.init(),window.jnews.loginregister.hook_form(),e.magnificPopup.open({removalDelay:500,midClick:!0,mainClass:"mfp-zoom-out",type:"inline",items:{src:"#jeg_loginform"}})):(1===a.value&&(i.like.html("<i class='fa fa-thumbs-up'></i> <span>"+a.like+"</span>"),i.dislike.html("<i class='fa fa-thumbs-o-down fa-flip-horizontal'></i> <span>"+a.dislike+"</span>")),-1===a.value&&(i.like.html("<i class='fa fa-thumbs-o-up'></i> <span>"+a.like+"</span>"),i.dislike.html("<i class='fa fa-thumbs-down fa-flip-horizontal'></i> <span>"+a.dislike+"</span>")),0===a.value&&(i.like.html("<i class='fa fa-thumbs-o-up'></i> <span>"+a.like+"</span>"),i.dislike.html("<i class='fa fa-thumbs-o-down fa-flip-horizontal'></i> <span>"+a.dislike+"</span>")))})).fail((function(e,i,a){"error"===i?alert(a.toString()):"timeout"===i&&alert("Execution Timeout")})).always((function(e,a,n){i.element.attr("data-message",e.message),i.parent.removeClass("clicked").find(".fa").removeClass("fa-pulse")}))}},e(document).on("ready jnews-ajax-load",(function(e,i){jnews.like.init()}))}(jQuery);