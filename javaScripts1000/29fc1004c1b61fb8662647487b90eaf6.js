ï»¿(window.webpackJsonp=window.webpackJsonp||[]).push([["f8a3b0b69a90b5305d627c89f0bd674e"],{"60IB":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("ha24"),o=i("pruO"),r=i("Kl2g"),c=function(e,t,i,c){var a=Object(n.f)(e);a&&a.objectType===o.d.wall&&a.objectId?Object(r.b)(r.a.post_reactions_counts_update,{counts:t,isFromWkLayer:null==c?void 0:c.isFromWkLayer,isPrimaryLikeButtonClick:null==c?void 0:c.isPrimaryLikeButtonClick,isQueueUpdate:null==c?void 0:c.isQueueUpdate,isUserAction:null==c?void 0:c.isUserAction,postFullId:a.objectId,reactionIdState:i?{reactionId:i.id}:void 0}):a&&a.objectType===o.d.wall_reply&&a.objectId?Object(r.b)(r.a.reply_reactions_counts_update,{counts:t,replyFullId:a.objectId,reactionIdState:i?{reactionId:i.id}:void 0}):console.warn("Unsupported reactions object update",e)}},Kl2g:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return u})),i.d(t,"b",(function(){return l}));var n=i("uQjJ"),o=i("qYuU"),r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c={post_reactions_counts_update:"wall/post_reactions_counts_update",reply_reactions_counts_update:"wall/reply_reactions_counts_update"},a=Object(o.a)("wall-data",(function(){return{emitter:new n.a,keyedListeners:Object.create(null)}})),s=function(e,t,i){var n,o,c=a(),s=null===(o=null===(n=c.keyedListeners)||void 0===n?void 0:n[e])||void 0===o?void 0:o[t];return s&&c.emitter.removeListener(e,s),function(e,t,i){var n,o=a();o.emitter.addListener(e,i),o.keyedListeners[e]=r(r({},o.keyedListeners[e]),((n={})[t]=i,n));return function(){var n,r;o.emitter.removeListener(e,i),(null===(n=o.keyedListeners[e])||void 0===n?void 0:n[t])===i&&(null===(r=o.keyedListeners[e])||void 0===r||delete r[t])}}(e,t,i)},u=function(e,t,i){return s(t,e,i)},l=function(e,t){a().emitter.emit(e,t)}},ha24:function(e,t,i){"use strict";function n(e){var t=e.match(/^([a-z_]+)([0-9\-_]+)$/);return t?{objectType:t[1],objectId:t[2]}:null}i.d(t,"f",(function(){return n})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return r})),i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s}));var o=function(e){return"wall"+e},r=function(e){return"wall_reply"+e},c=function(e){var t;return null!==(t=null==e?void 0:e.querySelector(".like_button_count, ._like_button_count"))&&void 0!==t?t:void 0},a=function(e){var t;return null!==(t=null==e?void 0:e.querySelector(".like_button_icon, ._like_button_icon"))&&void 0!==t?t:void 0},s=function(e){var t;return null!==(t=e.querySelector(".like_button_label, ._like_button_label"))&&void 0!==t?t:void 0}},nTq2:function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));i("rGqo"),i("Btvt"),i("hhXQ"),i("pIFo"),i("91GP"),i("SRfc");var n=i("zxIV"),o=i("Egk5"),r=i("FWc3"),c=i("t7n3"),a=i("7jxN"),s=i("/PiP"),u=i("jE6c"),l=i("EasH"),d=i("4+be"),_=i("ha24"),v=i("pruO"),p=i("60IB"),b=i("jXbq");function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var h="like",f="share",j="views",m="comment",k={toggle(e,t,i,r){if(Object(o.c)(t),Object(u.l)(window.cur)&&Object(u.j)(cur.viewAsBox))return cur.viewAsBox();if(vk.widget&&!vk.id)return window.Widgets.oauth();var c=Object(n.ab)(e,"active");Object(n.c)(e,"animate"),this.clientUpdate(i,h,c?-1:1,!c);var a=()=>{Object(n.zb)(e,"active",c),this.clientUpdate(i,h,c?1:-1,c)};window.ajax.post("like.php",{act:c?"a_do_unlike":"a_do_like",object:i,hash:r,list:cur.pvListId,wall:2,from:this._getReference(i),from_widget:vk.widget?1:0},{onDone:t=>{if(t.unauth_action_box)return a(),void b.a.show(t.unauth_action_box);this.update(i,t);var n=i.match(/^(wall|market)(.*)/);n&&cur.onLike&&cur.onLike(e,n[1],n[2],c)},onFail:()=>(a(),!1)}),Object(u.f)(Object(n.v)(e,"count"))>0?k.showLikes(e,i,{fast:!0}):e.tt&&e.tt.destroy&&e.tt.destroy()},_getReference:e=>cur.pvShown?"photo_viewer":e===cur.wallLayer?"wkview":window.mvcur&&window.mvcur.mvShown?"videoview":cur.wallType?"feed"===cur.wallType?"news"===cur.section?"feed_"+(cur.subsection?cur.subsection:cur.section):"recommended"===cur.section?"feed_recommended"+("recent"!==cur.subsection?"_"+cur.subsection:""):Object(c.o)(cur.section,["friends","groups","videos","photos"])?"feed_"+(cur.subsection?"_"+cur.subsection:""):"feed_"+cur.section:"top"===cur.wallType?"wall_top":"wall_"+(cur.onepost?"one":(cur.wallType||"").indexOf("full_")?"page":"full"):cur.module,share(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(vk.widget&&!vk.id)return window.Widgets.oauth();if(Object(u.l)(window.cur)&&Object(u.j)(cur.viewAsBox))return cur.viewAsBox();var i=Object(_.f)(e),n=i.objectType,o=i.objectId;(vk.widget?window.showBox:l.b)("like.php",w({act:"publish_box",object:e,from_widget:vk.widget?1:0},t),{onDone:(e,t)=>{t.unauth_action_box&&(e.hide(),b.a.show(t.unauth_action_box))},stat:["page.js","page.css","wide_dd.js","wide_dd.css",window.jsc("web/sharebox.js")]}),"wall"===n&&window.Wall&&window.Wall.triggerAdPostStat(o,"share_post"),cur.RpcMethods&&(cur.RpcMethods.likeFullUpdate=t=>k.update(e,window.cleanObj(t)))},clientUpdate(e,t,i,o){var r=this._getButtonsByType(e,t);if(r.length){var c=Object(u.f)(Object(n.v)(r[0],"count"))+i;this._updateDom(e,t,c,o),this.updateExternalIndex(e,{type:t,count:c,isActive:o})}},update(e,t){if(!isNaN(parseInt(t.like_num))){var i=Object(u.n)(t.like_my)?void 0:!!Object(u.f)(t.like_my);this._updateDom(e,h,t.like_num,i,t.like_title),this.updateExternalIndex(e,{type:h,count:t.like_num,isActive:i})}if(!isNaN(parseInt(t.share_num))){var n=Object(u.n)(t.share_my)?void 0:!!Object(u.f)(t.share_my);this._updateDom(e,f,t.share_num,n,t.share_title),this.updateExternalIndex(e,{type:f,count:t.share_num})}if(Object(c.x)(t.views_num)&&this._updateDom(e,j,t.views_num,void 0,t.views_title),Object(c.x)(t.comment_num)&&this._updateDom(e,m,t.comment_num),t[v.a]){var o=!!t.isQueueUpdate;Object(p.a)(e,t[v.a],void 0,{isQueueUpdate:o})}},updateComments(e,t){this.update(e,{comment_num:t})},_updateDom(e,t,i,o,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=(null==s?void 0:s.els)?null==s?void 0:s.els:this._getButtonsByType(e,t),v=t===j;if(null==l?void 0:l.length){var p="";v?p=i:i>0&&(p=vk.widget?Object(c.l)(i):Object(d.j)(i,"%s",!0)),v||(i=Object(u.f)(i));for(var b=0;b<l.length;b++){var w=l[b];if(!Object(n.ab)(w,"no_counter")){var m=v?l[b]:Object(_.a)(l[b]);Object(a.c)(m,p,{str:"auto",noWrapWidth:!v,noSpaceIfEmpty:!0}),Object(n.zb)(w,"empty",i<=0),"boolean"==typeof o&&Object(n.zb)(w,"active",o),Object(n.e)(l[b],"data-count",i),v&&Object(n.e)(l[b],"title",r||"");var k=l[b].tt;if(k){var O=Object(n.m)(k.container,"_content"),y=Object(n.m)(k.container,"_value"),g=Object(n.m)(k.container,"_title"),T=Object(u.f)(Object(n.Cb)(y));Object(n.Cb)(y,i),r&&Object(n.Cb)(g,r),Object(u.l)(k)&&(k.likeInvalidated=!0),(T!==i&&T<7||!1===r)&&(t===h?w.needReinitLikesTT=!0:t===f&&(w.needReinitShareTT=!0)),t===h&&Object(n.zb)(O,"me_hidden",!o),!1===r&&k.destroy&&k.destroy()}}}}},_getButtonsByType:(e,t)=>Object(n.E)(`._like_${e} ._${t}, ._like_${e} [data-like-button-type="${t}"]`),showLikes(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&e instanceof HTMLElement&&!e.postDontShowLikes&&(!vk.widget||!vk.show_external_auth_box)){var o=i.views?{views:1}:i.share?{published:1}:{};i.listId&&(o.list=i.listId),i.like_stats_params&&Object.assign(o,i.like_stats_params);var a=!!Object(n.L)("share",Object(n.Y)("like_wrap",e)),s=document.body,l=getComputedStyle(e),d=Object(u.f)(l.getPropertyValue("padding-left").replace("px","")),v=Object(u.f)(l.getPropertyValue("padding-top").replace("px","")),p=Object(_.b)(e),b=40;"wpost"===i.from&&(b=24);var w,h,f=[b-Object(n.S)(p)[0]/2-d,10-v],j=i.cl||"";if(i.share)j+="likes_tt_share";else if(j+="likes_tt_like","widget_community"===i.from)f[0]=6;else if("wcomments"===i.from||"widget_comments"===cur.wallType){f[0]=Object(n.S)(e)[0]+16-Object(n.S)(p)[0]/2-10}else"photo_carousel"===i.from&&(f[1]=10);if("reactions-preview-items"===e.dataset.sectionRef){var m=e.querySelector(".ReactionsPreview__items");if(m){var O=m.querySelector(".ReactionsPreviewItem");f[0]=b-(Object(n.S)(O)[0]/2||0),s=e}}i.share?(w="needReinitLikesTT",h="resetLikesTTTimer"):(w="needReinitShareTT",h="resetShareTTTimer"),clearTimeout(e[h]),Object(r.c)(e,{url:"/like.php",params:Object(c.i)({act:"a_get_stats",object:t,has_share:a?1:""},o),appendEl:s,slide:15,shift:f,ajaxdt:i.fast?0:100,showdt:i.fast?0:400,hidedt:200,dir:"auto",checkLeft:!0,reverseOffset:80,noZIndex:!0,hasover:!0,tip:{over:()=>{k.showLikes(e,t,i)}},typeClass:"like_tt",className:j,onHide:()=>{clearTimeout(e[h]),e[w]&&(e[h]=setTimeout(()=>{delete e[w],e.tt&&e.tt.destroy&&e.tt.destroy()},200))}})}},showShare:function(e,t,i){k.showLikes(e,t,Object(c.i)(i,{share:1}))},updateViews:(e,t,i)=>{if(!vk.widget||!vk.show_external_auth_box){var o=t.currentTarget;window.ajax.post("like.php",{act:"a_get_stats",object:e,views:1},{cache:1,onDone(t,r){var c=Object(n.g)("div",{innerHTML:r}),a=(null==i?void 0:i.updateTargetElOnly)?{els:[o]}:void 0;k._updateDom(e,j,t,void 0,c.innerText||c.textContent,a)}})}},makeTemplate(e,t){if(!e)return"";(t=Object(c.i)({buttons_prepend:"",object_raw:"",likes_count:"",liked:!1,share_count:"",shared:"",views_count:"",share_opts:{},like_opts:{},class_name:"",like_cont_class:"",like_class_name:"",[v.a]:"",reactions_class_name:""},t)).like_active=t.liked?"active":"",t.share_active=t.shared?"active":"",t.comment_active="",t.likes_formatted_count=t.likes_count>0?Object(d.j)(t.likes_count,"%s",!0):"",t.share_formatted_count=t.share_count>0?Object(d.j)(t.share_count,"%s",!0):"",t.share_opts=this._convertOptsToString(t.share_opts),t.like_opts=this._convertOptsToString(t.like_opts),t.like_class_name+=t.likes_count>0?"":" empty",t.share_class_name=t.share_count>0?"":"empty";var i=t[v.a],o=!!i&&Object.values(i).some(e=>!!e);return t.reactions_class_name+=o?"":" empty",Object(n.qb)(e,t)},_convertOptsToString:e=>JSON.stringify(e).replace(/\"/g,"'"),updateExternalIndex(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(_.f)(e),n=i.objectType,o=i.objectId;switch(n){case"photo":if(!cur.pvShown||!cur.pvCurPhoto||cur.pvCurPhoto.id!==o)return;var r=cur.pvListId,c=cur.pvIndex,a=cur.pvData[r][c];t.type===h?(a.likes=t.count,a.liked=t.isActive,cur.pvCommsLikes[a.id][1]=t.count):t.type===f&&(a.shares=t.count);break;case"video":if(window.mvcur&&window.mvcur.mvShown&&window.mvcur.videoRaw===o&&t.type===h){var s=window.Videoview.getMvData();s.likes=t.count,void 0!==t.isActive&&(s.liked=t.isActive,window.Videoview.playerOnLiked(t.isActive),window.Videoview.recache())}}},showLikesList(e,t){cur.viewAsBox||Object(n.ab)(Object(n.Y)("like_btn",e),"no_counter")||Object(s.H)({w:"likes/"+Object(c.c)(t)},!1,!1,{queue:1})},showSharesList(e,t){cur.viewAsBox||Object(n.ab)(Object(n.Y)("like_btn",e),"no_counter")||Object(s.H)({w:"shares/"+Object(c.c)(t)},!1,!1,{queue:1})}}},pruO:function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return c}));var n={wall:"wall",wall_reply:"wall_reply"},o={width:96,height:96},r={width:32,height:32},c="reactions_counts"}}]);try{stManager.done("dist/bundles/f8a3b0b69a90b5305d627c89f0bd674e.8928de80efbf0af2ddec.js")}catch(e){}