$(function(){function j(a){if(1==a)for(var e=($(c+":first"),0);e<3;e++)$(c+":first").clone().addClass("cloned").appendTo($(b));else a>1&&a<4&&$(c).each(function(a){$(this).clone().insertAfter($(c+":last"))})}function z(a){$(x+" li").removeClass("active"),$(x+" li:eq("+a+")").addClass("active")}function A(a,b){"in"==b&&($(a+" .background").animate({opacity:l}),$(a+" h1").animate({opacity:l,left:m},p,"swing"),$(a+" p").animate({opacity:l,left:m},p+200,"swing"),setTimeout(function(){},q),B=!1),"out"==b&&($(a+" .background").animate({opacity:o}),$(a+" h1").animate({opacity:k,left:n},p),$(a+" p").animate({opacity:k,left:n},p))}function C(a){0==a?($prev=f-1,$next=parseInt(a)+1):a==f-1?($prev=parseInt(a)-1,$next=0):($prev=parseInt(a)-1,$next=parseInt(a)+1)}function D(a,b){if(B=!0,"dot"==a){C(b);var d=parseInt(f);parseInt(g);if(b>g)var i=b-g,j=g+(f-b);else{var i=d-parseInt(g)+parseInt(b);j=g-b}j<i?(vamos="left",resultado=j):(vamos="right",resultado=i);for(var k=0;k<resultado;k++)setTimeout(function(){D(vamos,"")},s*k)}"left"==a&&($(c+".next").animate({left:3*e,opacity:0},r,"swing",function(){$(this).removeClass("next")}),$(c+":last").remove().insertBefore($(c+":first")).css("left",e*-1).animate({left:-30,opacity:1},r,"swing",function(){$(this).addClass("prev")}),A(c+".now","out"),$(c+".now").removeClass("now").addClass("next").animate({left:2*e+30,opacity:1},r,"swing"),$(c+".prev").removeClass("prev").addClass("now").animate({left:e,opacity:1},r,"swing",function(){A(c+".now","in")}),0==g?g=f-1:g-=1,C(g),$(E+" .left").attr("data-id",$prev),$(E+" .right").attr("data-id",$next)),"right"==a&&($(c+".prev").animate({left:e*-1,opacity:0},r,"swing",function(){$(this).removeClass("prev").remove().insertAfter($(c+":last")).css("left",3*e)}),A(c+".now","out"),$(c+".now").removeClass("now").addClass("prev").animate({left:-30,opacity:1},r,"swing"),$(c+".next").removeClass("next").addClass("now").animate({left:e,opacity:1},r,"swing",function(){A(c+".now","in")}),$(c+".now").next().addClass("next").animate({left:2*e+30,opacity:1},r,"swing"),g+1==f?g=0:g+=1,C(g),$(E+" .left").attr("data-id",$prev),$(E+" .right").attr("data-id",$next)),z(g)}function K(){1==h&&(1==J&&(J=!1),g<f&&D("right",""),setTimeout(K,t))}function L(){var a=$(".widget_slider_home").css("width"),b="100%";$(".widget_slider_home .controls").css("width","100%"),$(".widget_slider_home .navDots").css("width",a),$(".widget_slider_home .navDots").css("width",a),a.substring(0,a.indexOf("px"))>1823?a="1824px":a.substring(0,a.indexOf("px"))<=1023&&(b="85%"),$(".ixe .widget_slider_home .overlayer .enless .element .content").css("width",a),$(".ixe .widget_slider_home .overlayer .enless .element .content p").css("width",b)}var a=".widget_slider_home",b=a+" .enless",c=b+" .element",e=($(c+":eq(0)").width(),$(c+" img").width()),f=$(c).length,g=1,h=!0,i=$(c).length;j(f),f=i>3?$(c).length:i;var k=0,l=1,m=0,n=30,o=.3,p=400,q=200,r=1e3,s=r+201,t=7e3;$(c+":eq(0)").addClass("prev"),$(c+":eq(1)").addClass("now"),$(c+":eq(2)").addClass("next"),$(c+" .background").css("opacity",o),$(b).width(e*f).css("left",e*-1),$(c+" h1, "+c+" p").css("opacity",k).css("left",n),$(c).css("left",3*e);for(var u=0;u<3;u++){var v=u*e;0==u?v-=30:2==u&&(v+=30),$(c+":eq("+u+")").css("left",v)}for(var w=".navDots",x=w+" ul",y=0;y<f;y++)$(x).append('<li data-id="'+y+'" data-action="dot" ><img src="/BanorteSitioPublicoTheme/themes/html/BanorteSitioPublicoTheme/images/spacer.png" width="100%" height="100%" /></li>');$(x+" li:eq("+g+")").addClass("active"),A(c+".now","in");var B=!1,E=a+" .controls";$(w+" ul li:not(active), "+E+" .left, "+E+" .right").click(function(){if(0==B){var a=$(this).attr("data-action"),b=$(this).attr("data-id");b!=g&&D(a,b),h=!1}});var F=[0,0,0],G=$(b).position().left,H=!0,I=200;$(b).draggable({handle:".element.now",cursor:"e-resize",axis:"x",contaiment:"parent",revert:!0,start:function(){h=!1,F[0]++},drag:function(a,c){F[1]++;var d=$(b).position().left;d<G-I&&1==H&&(D("right",""),H=!1),d>G+I&&1==H&&(D("left",""),H=!1)},stop:function(){F[2]++,F[1]=0,H=!0}});var J=!0;setTimeout(K,t),$(window).resize(function(a){L()}),window.addEventListener("scroll",function(a){var b=$(document).scrollTop(),d=($(".ixe .widget_slider_home .overlayer").css("top"),$(".widget_slider_home").css("width"));if(b>799)$(".ixe .widget_slider_home .overlayer").css("position","relative"),$(".ixe .widget_slider_home .overlayer").css("top","0px");else{var e="relative";d.substring(0,d.indexOf("px"))<1840&&(e="fixed"),$(".ixe .widget_slider_home .overlayer").css("position",e),$(".ixe .widget_slider_home .overlayer").css("top","auto")}},!1),$(".ixe .widget_slider_home .overlayer .controls .navDots ul li").hide(),L()}),$(function(){$(".widget_slider_home .element a").click(function(a){a.preventDefault();var b=null;return b=$(this).attr("href"),b=b.split("#",2),isEmpty(b[1])?window.location.href=b[0]:"popup"==b[1].trim()&&window.open(b[0],"_portalPopup"),!1})});