var cbolURLSearch_="${pb.isSmartSearchEnabled}";"undefined"!=typeof userRole&&null!=userRole&&"null"!=userRole?"retailbank"==userRole?userRole="BANK":"creditcards"==userRole&&(userRole="CARD"):userRole="CARD","undefined"==typeof module&&(module="smartSearch"),"undefined"!=typeof pageDef&&null!=pageDef&&""!=pageDef&&"null"!=pageDef||(pageDef="otherPage"),"undefined"!=typeof CitiSearch&&("PreLogin"==module?CitiSearch.initSearch(pageDef,"VISITOR",module):CitiSearch.initSearch("dashboard","CARD","smartSearch_search")),window.NexusPlatformDelegateToCBOL=function(){this.manipulateDOM=function(e){"SHOW"==e?($CitiSearch("#nav_main .maxWidth").show(),$CitiSearch("#primary-nav").show(),$CitiSearch(".collase.navbar-collapse").show(),$CitiSearch(".responsiveBrn div.menu-nav.sessionOpt ul.mega-menu").show(),$CitiSearch(".cbolui-ddl-topNav .navbar-default .navbar-collapse, .cbolui-ddl-topNav .navbar-default .navbar-form").show(),$CitiSearch("#citi-topNav-container .container-fluid").show(),$CitiSearch(".prelogin.menu").show(),$CitiSearch(".postlogin.topNavMenu ").show(),$CitiSearch("#notifications").show()):($CitiSearch("#nav_main .maxWidth").hide(),$CitiSearch("#primary-nav").hide(),$CitiSearch(".collase.navbar-collapse").hide(),$CitiSearch(".responsiveBrn div.menu-nav.sessionOpt ul.mega-menu").hide(),$CitiSearch(".cbolui-ddl-topNav .navbar-default .navbar-collapse, .cbolui-ddl-topNav .navbar-default .navbar-form").hide(),$CitiSearch("#citi-topNav-container .container-fluid").hide(),$CitiSearch(".prelogin.menu").hide(),$CitiSearch(".postlogin.topNavMenu").hide(),$CitiSearch("#notifications").hide())},this.onMagnifierIconClick=function(){console.log("Inside onMagnifierIconClick function"),window.citiData.custLink="magnifier icon clicked","undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("customLinkClick")},this.onCitiSearch=function(e,o){console.log("Inside onCitiSearch function. Printing searchTerm: "+e+", pageName: "+o),window.citiData.custLink="search button clicked",window.citiData.eventList="siteSearch",window.citiData.searchTerm=e,window.citiData.pageName=o,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("Searchterm")},this.onSelectResultByTyping=function(e,o,t){console.log("Inside onSelectResultByTyping function. Printing searchTerm: "+e+", pageName: "+t+", searchResultClickTerm: "+o),window.citiData.searchTerm=e,window.citiData.searchResultClickTerm=o,window.citiData.pageName=t,window.citiData.eventList="siteSearchClick","undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("Searchterm")},this.onSelectResultWithoutTyping=function(e,o){console.log("Inside onSelectResultWithoutTyping function. Printing searchResultClickTerm: "+e+", pageName: "+o),window.citiData.searchTerm="smart assist result",window.citiData.searchResultClickTerm=e,window.citiData.pageName=o,window.citiData.eventList="siteSearchClick","undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("Searchterm")},this.onSelectResultByTypingFullSearch=function(e,o,t){console.log("Inside onSelectResultByTypingFullSearch function. Printing searchTerm: "+e+", pageName: "+t+", searchResultClickTerm: "+o),window.citiData.searchTerm=e,window.citiData.searchResultClickTerm=o,window.citiData.pageName=t,window.citiData.eventList="siteSearchClick","undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("Searchterm")},this.noSearchResult=function(e,o,t){console.log("Inside noSearchResult function. Printing searchTerm: "+e+", pageName: "+o+", previousPageName: "+t),window.citiData.searchTerm=e,window.citiData.eventList="siteSearchNull",window.citiData.pageName=o,window.citiData.previousPageName=t,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("Searchterm")},this.onClickShowMore=function(e,o){console.log("on click showmore linkName ="+e+" result="+o),window.citiData.custLink=e+"|"+o,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("customLinkClick")},this.onClickLikeOrDislike=function(e,o){console.log("on click Like Or Dislike --linkname="+e+" result="+o),window.citiData.custLink=e+"|"+o,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("customLinkClick")},this.onSubmitButtonLink=function(e,o){console.log("on submit button ="+e+" result="+o),window.citiData.custLink=e+"|"+o,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("customLinkClick")},this.onClickSearchButtonContactUs=function(e,o){console.log("on Search button ="+e+" result="+o),window.citiData.custLink="contact us - search button clicked",window.citiData.eventList="siteSearch",window.citiData.searchTerm=e,window.citiData.pageName=o,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("Searchterm")},this.onSelectResultByTypingContactUs=function(e,o,t){console.log("contact us on SelectResult By Typing Search="+e+" searchResultClickTerm="+o+" pageID ="+t),window.citiData.searchTerm="contact us - "+e,window.citiData.searchResultClickTerm=o,window.citiData.pageName=t,window.citiData.eventList="siteSearchClick","undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("Searchterm")},this.onSelectResultWithoutTypingContactUs=function(e,o){console.log("contact us on Select Result Without Typing searchResultClickTerm="+e+" pageID ="+o),window.citiData.searchTerm="contact us - smart assist result",window.citiData.searchResultClickTerm=e,window.citiData.pageName=o,window.citiData.eventList="siteSearchClick","undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("Searchterm")},this.onClickShowMoreContactUs=function(e,o,t){console.log("contact us on show more linkName ="+o+" result="+t),window.citiData.custLink=e+"|"+o+"|"+t,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("customLinkClick")},this.onClickLikeOrDislikeContactUs=function(e,o,t){console.log("contact us on click Like Or Dislike --linkname="+o+" result="+t),window.citiData.custLink=e+"|"+o+"|"+t,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("customLinkClick")},this.onSubmitButtonLinkContactUs=function(e,o,t){console.log("contact us on submit button ="+o+" result="+t),window.citiData.custLink=e+"|"+o+"|"+t,"undefined"!=typeof Bootstrapper&&Bootstrapper.ensEvent.trigger("customLinkClick")}},window.NexusPlatformChatEscalationCBOL=function(){this.escalationToChat=function(e){"undefined"!=typeof lpTag&&lpTag.newPage(document.location.href,{section:["help",pageDef,pageName,"0",""]})},this.escalationToCBOLPage=function(e){var o=Base64.encode(e),t=function(){var e="",o=document.URL;o=o.split("/");for(var t=3;t<o.length-1;t++)e+="../";return[o=o[3],e]}(),n=t[0]+"/"+t[1]+"REST/dvaResource/dvaSmartSearchNavigation.jws?",i=document.createElement("form");i.setAttribute("method","post"),i.setAttribute("action",n),i.setAttribute("id","contactUSNavigationformID");var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("value",o),a.setAttribute("name","navigateIdEncoded"),i.appendChild(a),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("contactUSNavigationformID").submit()}},window.CitiSearchConfig={},window.CitiSearch=function(){CitiSearchConfig.allScripts=[],CitiSearchConfig.allStylesheets=[];var e=window.location.origin,o=e+"/JEA/CitiSearch/nexus-platform/js/",t={platform:{scripts:[o+"citilive-search-library.js",o+"citilive-search-service.js",o+"citi-search-tmpl.js",o+"citilive-search-controller.js"],css:[e+"/JEA/CitiSearch/nexus-platform/css/citilive-search-responsive.css"]}};return{initSearch:function(o,n,i,a){!function(){for(var e=0;e<document.getElementsByTagName("script").length;e++){var o=document.getElementsByTagName("script")[e].getAttribute("src");-1!=CitiSearchConfig.allScripts.indexOf(o)&&o.remove()}for(e=0;e<document.getElementsByTagName("link").length;e++){var t=document.getElementsByTagName("link")[e].getAttribute("href");-1!=CitiSearchConfig.allStylesheets.indexOf(t)&&t.remove()}}();var r="";if(console.log(">>>>>>>>>>>>>Smart Search init>>>>>>>>>>>>>>>>>>>>>> pageId: "+o+" userRole: "+n+" isLoggedIn: "+i+" language: "+a),null!=o&&null!=n&&null!=i&&null!=a&&null!=o&&null!=n&&null!=i&&null!=a&&""!=o&&""!=n&&""!==i&&""!=a){void 0!==n&&null!=n&&"null"!=n?"retailbank"==n?n="BANK":"creditcards"==n&&(n="CARD"):n="CARD",void 0!==o&&null!=o&&""!=o&&"null"!=o||(o="otherPage"),null!=a&&""!=a||"undefined"==typeof lang&&(a="en_US"),r=i?"smartSearch_search":"PreLogin";var s=a.substr(0,2);CitiSearchConfig={},CitiSearchConfig.cbolUrlSearch=e,CitiSearchConfig.pageId=o,CitiSearchConfig.userCategory=n,CitiSearchConfig.moduleName=r,CitiSearchConfig.lang=s,function(){var e,o,n=[],i=[];n=n.concat(t.platform.scripts),i=i.concat(t.platform.css),CitiSearchConfig.allScripts=n,CitiSearchConfig.allStylesheets=i;for(var a=0;a<i.length;a++){var r=document.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("href",i[a]),document.head.appendChild(r)}var s=[],c=document.scripts[0];function l(){for(var e;s[0]&&"loaded"==s[0].readyState;)(e=s.shift()).onreadystatechange=null,c.parentNode.insertBefore(e,c)}for(;e=n.shift();)"async"in c?((o=document.createElement("script")).async=!1,o.src=e,document.body.appendChild(o)):c.readyState?(o=document.createElement("script"),s.push(o),o.onreadystatechange=l,o.src=e):document.write('<script src="'+e+'" defer><\/script>')}()}}}}(),function(e,o){e.OOo=function(){window.OOo={__detectBrowser:function(e){var o="[object Opera]"===Object.prototype.toString.call(window.opera),t={IE:!!(e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1),MSEdge:e.indexOf("Edge/")>-1,Opera:o,WebKit:e.indexOf("AppleWebKit/")>-1,Chrome:e.indexOf("Chrome")>-1&&-1===e.indexOf("Edge/"),Gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),MobileSafari:/Apple.*Mobile.*Safari/.test(e),iOs:e.indexOf("iPad")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPod")>-1,iOS67:e.search(/OS 6(.*)|7(.*) like Mac OS/i)>-1,BlackBerry:e.indexOf("BlackBerry")>-1,Fennec:e.indexOf("Fennec")>-1,IEMobile:e.indexOf("IEMobile")>-1,WindowsPhone:e.toLowerCase().indexOf("windows phone")>-1,WindowsTablet:e.toLowerCase().indexOf("windows nt")>-1&&e.toLowerCase().indexOf("touch")>-1,OperaMobile:e.search(/Opera (?:Mobi|Mini)/)>-1,Kindle:e.search(/[ ](Kindle|Silk)/)>-1,isChromeIOS:/crios/i.test(e),ua:e,Android:/Android/.test(e),facebookWebview:/FBAV/.test(e),googleWebview:/GSA/.test(e),AndroidChromiumWebview:/Chrome\/.* Mobile/.test(e),iOsWebview:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/.test(e)};return t.isMobile=t.MobileSafari||t.BlackBerry||t.Fennec||t.IEMobile||t.OperaMobile||t.Kindle||t.iOs||t.Android||t.WindowsPhone||t.WindowsTablet||t.AndroidChromiumWebview||t.iOsWebview||t.facebookWebview||t.googleWebview,t.isMobileNonIOS=t.isMobile&&!t.iOs,t}},OOo.Browser=OOo.__detectBrowser(navigator.userAgent),OOo.Cache={},OOo.instanceCount=0,OOo.K=function(){};var e,o=o||OOo;return function(){function e(e,o){var t;for(t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}function o(e){var o,t=[];for(o in e)e.hasOwnProperty(o)&&t.push(o+"="+(encodeURIComponent(e[o])||""));return t.join("&")}function t(e){var t=o(e.metrics);return t+="&custom_var="+OOo.createLegacyVars(e.legacyVariables,e.tealeafId+"|"+e.clickTalePID+"/"+e.clickTaleUID+"/"+e.clickTaleSID),"OnPage"===e.metrics.type&&(t+="|iframe"),e.asm&&(t+="&asm=2"),t+="&_rev=2",e.customVariables&&(t+="&customVars="+encodeURIComponent(OOo.serialize(e.customVariables))),t}var n=function(){if("Microsoft Internet Explorer"===navigator.appName&&-1!==navigator.userAgent.search("MSIE 6"))return!0;var e,o,t=document.body;return document.createElement&&t&&t.appendChild&&t.removeChild?((e=document.createElement("iframe")).setAttribute("name","oo_test"),e.style.display="none",t.appendChild(e),o=!document.getElementsByName("oo_test")[0],t.removeChild(e),o):null}();e(OOo,{extend:e,toQueryString:o,addEventListener:function(e,o,t,n){e.addEventListener?e.addEventListener(o,t,n):e.attachEvent&&e.attachEvent("on"+o,t)},$:function(e){return document.getElementById(e)},appendOOForm:function(e,o){var n=document,i=n.createElement("form"),a=n.createElement("input"),r=e.referrerRewrite;return e.metrics.referer=location.href,r&&(e.metrics.referer=OOo.referrerRewrite(r)),i.style.display="none",i.method="post",i.target=o||"OnlineOpinion",i.action=e.onPageCard?"https://secure.opinionlab.com/ccc01/comment_card_json_4_0_b.asp?r="+location.href:"https://secure.opinionlab.com/ccc01/comment_card_d.asp",e.commentCardUrl&&(i.action=e.commentCardUrl,e.onPageCard&&(i.action+="?r="+location.href)),a.name="params",a.value=t(e),i.appendChild(a),n.body.appendChild(i),i},removeEventListener:function(e,o,t,n){e.removeEventListener?e.removeEventListener(o,t,n):e.detachEvent&&e.detachEvent("on"+o,t)},createMetrics:function(){return{width:screen.width,height:screen.height,referer:location.href,prev:document.referrer,time1:(new Date).getTime(),time2:null,currentURL:location.href,ocodeVersion:"5.9.9"}},truncateMetric:function(e){var o="";if(e&&e.search("://")>-1)for(var t=e.split("/"),n=3;n<t.length;n++)o+="/",o+=t[n];return o},createLegacyVars:function(e,o){return"string"==typeof(e=e||{})?o+"|"+e:e.override?e.vars:o+(e.vars?"|"+e.vars:"")},DYNAMIC_FRAME_NAME_IS_BUGGY:n,getFormParams:t,referrerRewrite:function(e,o){return o||(o=location),"string"==typeof e?e:e.searchPattern?o.href.replace(e.searchPattern,e.replacePattern):e.replacePattern},hidePrompt:function(e,o){var t=e||window.event;t.preventDefault&&t.stopPropagation?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1,OOo.$("oo_container").style.display="none",o&&o.focus()},getPrompt:function(){var e,o=this.options;if(e=void 0!==o.inviteMarkup?o.inviteMarkup:o.events.prompt.promptMarkup,OOo.$("oo_invitation_prompt")){var t=OOo.$("oo_container");this.showPrompt(t)}else this.showPrompt(e)},showPrompt:function(e,o){var t,n,i,a,r,s,c=document,l="string"==typeof e?c.createElement("div"):e,p=c.createElement("div"),d=this.options,u=c.activeElement;p.id="oo_invitation_overlay",l.id="oo_container",l.style.visibility="hidden","string"==typeof e&&(l.innerHTML=e,c.body.appendChild(l)),l.appendChild(p),i=OOo.$("oo_launch_prompt"),a=OOo.$("oo_no_thanks"),r=OOo.$("oo_close_prompt"),s=OOo.$("oo_invitation_company_logo"),d.companyLogo&&d.companySlogan?((t=new Image).src=d.companyLogo,t.alt=d.companySlogan,s.appendChild(t),OOo.$("oo_invitation_prompt").setAttribute("aria-label",d.companySlogan)):d.events.prompt.companyLogo&&d.events.prompt.companySlogan&&((t=new Image).src=d.events.prompt.companyLogo,t.alt=d.events.prompt.companySlogan,s.appendChild(t),OOo.$("oo_invitation_prompt").setAttribute("aria-label",d.events.prompt.companySlogan)),(n=new Image).src=d.pathToAssets+"oo_opinionlab_logo.png",n.alt="powered by OpinionLab",OOo.$("ol_invitation_brand_logo").children[0].appendChild(n),d.callBacks&&("function"==typeof d.callBacks.prompt&&d.callBacks.prompt(),"function"==typeof d.callBacks.yesClick&&OOo.addEventListener(i,"click",function(){d.callBacks.yesClick()},!1),"function"==typeof d.callBacks.noClick&&OOo.addEventListener(a,"click",function(){d.callBacks.noClick()},!1),"function"==typeof d.callBacks.closeClick&&OOo.addEventListener(r,"click",function(){d.callBacks.closeClick()},!1)),OOo.addEventListener(i,"click",o.bind(this),!1),OOo.addEventListener(a,"click",function(e){var o=e||window.event;OOo.hidePrompt(o,u)},!1),OOo.addEventListener(r,"click",function(e){var o=e||window.event;OOo.hidePrompt(o,u)},!1),i.onkeyup=(function(e){13===(e||window.event).keyCode&&o.bind(this)}).bind(this),i.onkeydown=function(e){var o=e||window.event;if(9===o.keyCode&&o.shiftKey)return r.focus(),!1},a.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hidePrompt(o,u)},r.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hidePrompt(o,u)},r.onkeydown=function(e){var o=e||window.event;if(9===o.keyCode&&!o.shiftKey)return i.focus(),!1},l.style.visibility="visible",l.style.display="block",p.className="no_loading",u.blur(),i.focus()},hideWaypoint:function(e,o){var t=e||window.event,n=OOo.$("oo_waypoint_content"),i=OOo.$("oo_waypoint_company_logo"),a=(OOo.$("oo_waypoint_close_prompt"),t.target);if(t.srcElement&&!t.target&&(a=t.srcElement),t.preventDefault&&t.stopPropagation?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1,a!==n&&!n.contains(a)&&a!==i&&!i.contains(a)||"waypoint_icon"===a.className||"waypoint_icon last"===a.className){var r=OOo.$("oo_waypoint_container");r.parentNode.removeChild(r)}o&&o.focus()},getWaypoint:function(){var e=this.options,o="<div id='oo_waypoint_prompt' role='dialogue' aria-describedby='oo_waypoint_message'><div id='oo_waypoint_company_logo'></div><div id='oo_waypoint_content'><p id='oo_waypoint_message'>Select a category</p><p id='waypoint_icons'></p><p id='ol_waypoint_brand_logo'><span aria-label='Powered by OpinionLab.'></span></p></div><a id='oo_waypoint_close_prompt' href='#' aria-label='Close dialog'><div class='screen_reader'>Close dialogue</div><span aria-hidden='true'>&#10006;</span></a></div>\x3c!--[if IE 8]><style>/* IE 8 does not support box-shadow */#oo_waypoint_prompt #oo_waypoint_content { width: 400px; padding: 40px 49px 20px 49px; border: 1px solid #ccc; }</style><![endif]--\x3e";if(void 0!==e.wpmarkup&&(o=e.wpmarkup),OOo.$("oo_waypoint_prompt")){var t=OOo.$("oo_waypoint_container");this.showWaypoint(t)}else this.showWaypoint(o)},showWaypoint:function(e){var o,t,n,i,a,r=document,s=0,c="string"==typeof e?r.createElement("div"):e,l=r.createElement("div"),p=this.options,d=p.categories,u=r.activeElement;for(var h in l.id="oo_waypoint_overlay",c.id="oo_waypoint_container",c.style.visibility="hidden","string"==typeof e&&(c.innerHTML=e,r.body.appendChild(c)),c.appendChild(l),p.companyLogo&&p.companySlogan&&((o=new Image).src=p.companyLogo,o.alt=p.companySlogan,OOo.$("oo_waypoint_company_logo").appendChild(o),OOo.$("oo_waypoint_prompt").setAttribute("aria-label",p.companySlogan)),(t=new Image).src=p.pathToAssets+"oo_opinionlab_logo.png",t.alt="powered by OpinionLab",OOo.$("ol_waypoint_brand_logo").children[0].appendChild(t),i=OOo.$("oo_waypoint_close_prompt"),d)if(d.hasOwnProperty(h)){var O=document.createElement("a"),m=p.categories[h].icon,w=p.categories[h].buttonText;O.className="waypoint_icon",O.href="#",O.innerHTML=w+'<span class="screen_reader">This will open a new window</span>',m&&r.addEventListener&&(O.style.backgroundImage="url("+p.pathToAssets+m+")"),"string"==typeof p.categories[h].oCode?(OOo.addEventListener(O,"click",function(e){return function(o){var t=o||window.event;window.open(p.categories[e].oCode,"_0","scrollbars=yes,location=yes,menubar=yes,resizable=yes"),OOo.hideWaypoint(t,u)}}(h),!1),O.onkeydown=function(e){return function(o){var t=o||window.event;13===t.keyCode&&(window.open(p.categories[e].oCode,"_0","scrollbars=yes,location=yes,menubar=yes,resizable=yes"),OOo.hideWaypoint(t,u))}}(h)):(OOo.addEventListener(O,"click",function(e){return function(o){var t=o||window.event;OOo.Waypoint[e].show(t),OOo.hideWaypoint(t,u)}}(h),!1),O.onkeydown=function(e){return function(o){var t=o||window.event;13===t.keyCode&&(OOo.Waypoint[e].show(t),OOo.hideWaypoint(t,u))}}(h)),s++,OOo.$("waypoint_icons").appendChild(O)}OOo.addEventListener(c,"click",function(e){var o=e||window.event;OOo.hideWaypoint(o,u)},!1),n=OOo.$("waypoint_icons").children,(a=n[0]).onkeydown=function(e){var o=e||window.event;if(9===o.keyCode&&o.shiftKey)return i.focus(),!1},i.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hideWaypoint(o,u)},i.onkeydown=function(e){var o=e||window.event;if(9===o.keyCode&&!o.shiftKey)return a.focus(),!1},n[s-1].className="waypoint_icon last",c.style.visibility="visible",c.style.display="block",l.className="no_loading",!0===p.linkFocus&&a.focus()},getEntryPrompt:function(){var e;if(e=this.options.events.prompt.promptMarkup,OOo.$("oo_entry_prompt")){var o=OOo.$("oo_container");this.showEntryPrompt(o)}else this.showEntryPrompt(e)},showEntryPrompt:function(e,o){var t,n,i,a,r,s,c=document,l="string"==typeof e?c.createElement("div"):e,p=c.createElement("div"),d=this.options,u=c.activeElement;p.id="oo_entry_overlay",l.id="oo_container",l.style.visibility="hidden","string"==typeof e&&(l.innerHTML=e,c.body.appendChild(l)),l.appendChild(p),i=OOo.$("oo_launch_entry_prompt"),a=OOo.$("oo_entry_no_thanks"),r=OOo.$("oo_entry_close_prompt"),s=OOo.$("oo_entry_company_logo"),d.companyLogo&&d.companySlogan?((t=new Image).src=d.companyLogo,t.alt=d.companySlogan,s.appendChild(t),OOo.$("oo_entry_prompt").setAttribute("aria-label",d.companySlogan)):d.events.prompt.companyLogo&&d.events.prompt.companySlogan&&((t=new Image).src=d.events.prompt.companyLogo,t.alt=d.events.prompt.companySlogan,s.appendChild(t),OOo.$("oo_entry_prompt").setAttribute("aria-label",d.events.prompt.companySlogan)),(n=new Image).src=d.pathToAssets+"oo_opinionlab_logo.png",n.alt="powered by OpinionLab",OOo.$("ol_entry_brand_logo").children[0].appendChild(n),OOo.addEventListener(i,"click",o.bind(this),!1),OOo.addEventListener(a,"click",function(e){var o=e||window.event;OOo.hidePrompt(o,u)},!1),OOo.addEventListener(r,"click",function(e){var o=e||window.event;OOo.hidePrompt(o,u)},!1),i.onkeyup=(function(e){13===(e||window.event).keyCode&&o.bind(this)}).bind(this),i.onkeydown=function(e){var o=e||window.event;if(9===o.keyCode&&o.shiftKey)return r.focus(),!1},a.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hidePrompt(o,u)},r.onkeyup=function(e){var o=e||window.event;13===o.keyCode&&OOo.hidePrompt(o,u)},r.onkeydown=function(e){var o=e||window.event;if(9===o.keyCode&&!o.shiftKey)return i.focus(),!1},l.style.visibility="visible",l.style.display="block",p.className="no_loading",u.blur(),i.focus()},exitChat:function(e,o,t,n){var i=window.open(e,o,"width="+t,"height="+n),a=window.setInterval(function(){!1!==i.closed&&(window.clearInterval(a),OOo.oo_feedback.launchOOPopup())},200)},checkIfIE9orBelow:function(){return/MSIE\s/.test(navigator.userAgent)&&parseFloat(navigator.appVersion.split("MSIE")[1])<10}})}(),OOo.extend(OOo,{serialize:function e(o){if(!o)return null;switch(typeof o){case"number":case"boolean":case"function":return o;case"string":return'"'+o+'"';case"object":var t,n,i,a;if(o.constructor===Array||void 0!==o.callee){for(t="[",i=o.length,n=0;n<i-1;n+=1)t+=e(o[n])+",";t+=e(o[n])+"]"}else{for(a in t="{",o)o.hasOwnProperty(a)&&(t+=a+":"+e(o[a])+",");t=t.replace(/\,$/,"")+"}"}return t;default:return null}}}),OOo.extend(OOo,{checkTunnel:function(e,o,t){var n;return-1!==e.search(o[0])?(OOo.createCookie(t,0),!1):!(!OOo.readCookie(t)||(n=parseInt(OOo.readCookie(t),10),-1!==e.search(o[n+1])&&n+1!==o.length-1?(OOo.createCookie(t,n+1),1):-1!==e.search(o[n])||(n+1===o.length-1&&-1!==e.search(o.pop())?(OOo.eraseCookie(t),0):(OOo.eraseCookie(t),1))))}}),function(){function e(e){var o,t="";for(o=7;o>=0;o-=1)t+="0123456789abcdef".charAt(e>>4*o&15);return t}function o(e,o){var t=(65535&e)+(65535&o);return(e>>16)+(o>>16)+(t>>16)<<16|65535&t}function t(e,o){return e<<o|e>>>32-o}function n(e,o,t,n){return e<20?o&t|~o&n:e<40?o^t^n:e<60?o&t|o&n|t&n:o^t^n}function i(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}OOo.extend(OOo,{sha1:function(a){var r,s,c,l,p,d,u,h,O=function(e){var o,t=1+(e.length+8>>6),n=new Array(16*t);for(o=0;o<16*t;o+=1)n[o]=0;for(o=0;o<e.length;o+=1)n[o>>2]|=e.charCodeAt(o)<<24-o%4*8;return n[o>>2]|=128<<24-o%4*8,n[16*t-1]=8*e.length,n}(a),m=new Array(80),w=1732584193,f=-271733879,v=-1732584194,g=271733878,y=-1009589776;for(u=0;u<O.length;u+=16){for(r=w,s=f,c=v,l=g,p=y,h=0;h<80;h+=1)m[h]=h<16?O[u+h]:t(m[h-3]^m[h-8]^m[h-14]^m[h-16],1),d=o(o(t(w,5),n(h,f,v,g)),o(o(y,m[h]),i(h))),y=g,g=v,v=t(f,30),f=w,w=d;w=o(w,r),f=o(f,s),v=o(v,c),g=o(g,l),y=o(y,p)}return e(w)+e(f)+e(v)+e(g)+e(y)}})}(),OOo.extend(OOo,{checkAbandonment:function(e,o){o||(o=location);var t=e.cookieName||"oo_abandon",n=OOo.readCookie(t),i=e.startPage,a=e.middle;return n?-1!==o.pathname.indexOf(e.endPage)?(OOo.eraseCookie(t),!1):-1===o.pathname.search(a)&&(OOo.eraseCookie(t),!0):(-1!==o.pathname.indexOf(i)&&OOo.createCookie(t),!1)}}),OOo.extend(OOo,{checkThirdPartyCookies:function(e){var o,t;for(o=e.length-1;o>=0;o-=1)if(e[o].read){if((t=OOo.readCookie(e[o].name))&&t===e[o].value)return!0;if(void 0===e[o].value&&OOo.readCookie(e[o].name))return!0}return!1},setThirdPartyCookies:function(e){var o;for(o=e.length-1;o>=0;o-=1)e[o].set&&OOo.createCookie(e[o].name,e[o].value,e[o].expiration)}}),OOo.extend(Function.prototype,function(){if(void 0===Function.prototype.bind){var e=Array.prototype.slice;return{bind:function(t){if(arguments.length<2&&void 0===t)return this;var n=this,i=e.call(arguments,1);return function(){var e=o(i,arguments);return n.apply(t,e)}}}}function o(o,t){return function(e,o){for(var t=e.length,n=o.length;n;)e[t+(n-=1)]=o[n];return e}(o=e.call(o,0),t)}}()),function(){function e(e){var o;if(e||(e=location),-1!==e.host.search(/\.[a-z]+/)){if((o=e.host.split(".").reverse()).length>3)return e.host;o="."+o[1]+"."+o[0]}else o=e.host;return o}function o(o,t,n){var i="",a="";n&&((i=new Date).setTime(i.getTime()+1e3*n),a="; expires="+i.toGMTString()),location.host!==e()?document.cookie=o+"="+t+a+"; path=/; domain="+e()+";":document.cookie=o+"="+t+a+"; path=/;"}OOo.extend(OOo,{getCookieDomain:e,createCookie:o,readCookie:function(e){var o,t,n=e+"=",i=document.cookie.split(";");for(t=0;t<i.length;t+=1){for(o=i[t];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null},eraseCookie:function(e){o(e,"",-1)}})}(),OOo.Ocode=function(e){var o,t=OOo.Browser;e.disableMobile&&t.isMobile||e.disableNoniOS&&t.isMobileNonIOS||(OOo.instanceCount+=1,this.options={tealeafCookieName:"TLTSID"},OOo.extend(this.options,e),(o=this.options).metrics=OOo.createMetrics(),this.frameName=o.onPageCard?"OnlineOpinion"+OOo.instanceCount:"OnlineOpinion",o.cookie&&OOo.Ocode.matchUrl(o.cookie,location)||o.thirdPartyCookies&&OOo.checkThirdPartyCookies(o.thirdPartyCookies)||o.abandonment&&!OOo.checkAbandonment(o.abandonment)||o.tunnel&&!OOo.checkTunnel(location.pathname,o.tunnel.path,o.tunnel.cookieName)||(o.events&&o.events.onSingleClick&&(this.singProbability=Math.random()<1-o.events.onSingleClick/100),o.tealeafId=OOo.readCookie(o.tealeafCookieName)||OOo.readCookie(o.sessionCookieName),o.events&&(this.setupEvents(),(o.events.disableLinks||o.events.disableFormElements)&&this.setupDisableElements()),o.floating?this.floating():o.bar?this.bar():o.tab&&this.tab()))},OOo.Ocode.prototype={show:function(e,o){var t=e||window.event;if("exit"!==o&&"entry"!==o&&"onSingleClick"!==o&&(t.preventDefault&&t.stopPropagation?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1),!this.onPageCardVisible){var n,i=this.options;if(i.events&&i.events.prompt&&(i.cookie&&OOo.eraseCookie(i.cookie.name||"oo_r"),OOo.hidePrompt(t)),!this.interruptShow&&(this.floatingLogo||!i.cookie||!OOo.Ocode.matchUrl(i.cookie))&&(i.floating||!i.events||!this.singProbability)){if(i.events&&i.events.onSingleClick&&(this.singProbability=!0),i.cookie&&OOo.Ocode.tagUrl(i.cookie),i.thirdPartyCookies){if(OOo.checkThirdPartyCookies(i.thirdPartyCookies))return;OOo.setThirdPartyCookies(i.thirdPartyCookies)}this.floatingLogo&&this.floatingLogo.children[0].blur(),this.floatingLogo&&i.disappearOnClick&&(this.floatingLogo.style.display="none"),"function"==typeof window.ClickTale&&(i.clickTalePID||(i.clickTalePID=window.ClickTaleGetPID()||null),i.clickTaleUID=window.ClickTaleGetUID()||null,i.clickTaleSID=window.ClickTaleGetSID()||null,OOo.addEventListener(window,"message",function(e){if("https://secure.opinionlab.com"===e.origin&&"function"==typeof window.ClickTaleEvent&&""!==e.data){var o=JSON.parse(e.data),t=window.ClickTaleEvent;for(var n in o)t(n+":"+o[n])}},!1)),i.onPageCard&&!OOo.Browser.isMobile?this.setupOnPageCC():this.launchOOPopup(),(n=i.floating||i.tab||i.bar)&&"function"==typeof n.onClickCallback&&n.onClickCallback()}}}},OOo.extend(OOo.Ocode,{tagUrl:function(e,o){o||(o=location);var t=e.name||"oo_r",n="page"===e.type?o.href:o.hostname,i=OOo.readCookie(t)||"";OOo.Ocode.matchUrl(e,o)||OOo.createCookie(t,i+OOo.sha1(n),e.expiration)},matchUrl:function(e,o){o||(o=location);var t=OOo.readCookie(e.name||"oo_r");return!!t&&-1!==t.search(OOo.sha1("page"===e.type?o.href:o.hostname))}}),e=0,OOo.extend(OOo.Ocode.prototype,{launchOOPopup:function(){var o,t=this.options,n=t.newWindowSize||[545,325],i=[parseInt((t.metrics.height-n[1])/2,10),parseInt((t.metrics.width-n[0])/2,10)],a="resizable=yes,location=no,status=no,scrollbars=1,width="+n[0]+",height="+n[1]+",top="+i[0]+",left="+i[1],r="OnlineOpinion";t.newWindow&&(r+=e++),t.metrics.time2=(new Date).getTime(),t.metrics.type="Popup";var s="https://secure.opinionlab.com/ccc01/comment_card_d.asp?"+(o=OOo.appendOOForm(t,r)).children[0].value;t.commentCardUrl&&(s=t.commentCardUrl+"?"+o.children[0].value),OOo.Browser.isChromeIOS&&(r="_0"),(OOo.Browser.isMobile&&-1!==OOo.Browser.ua.search("Android")||window.open(s,r,a)&&!OOo.Browser.isChromeIOS)&&o.submit()}}),function(){function e(e){e||window;for(var o=e.target||e.srcElement,t=this.options.events,n=o.parentNode,i=0;n&&("A"!==o.nodeName||"INPUT"!==o.nodeName)&&5!==i;)"A"===n.nodeName&&(o=n),n=n.parentNode,i+=1;!t.disableFormElements||"INPUT"!==o.tagName&&"BUTTON"!==o.tagName||"submit"!==o.type&&"image"!==o.type&&"reset"!==o.type&&"button"!==o.type||(this.interruptShow=!0),!t.disableLinks||"A"!==o.nodeName&&"AREA"!==o.nodeName||"http"!==o.href.substr(0,4)||-1===o.href.search(t.disableLinks)||(this.interruptShow=!0)}function o(e){this.interruptShow=!0}OOo.extend(OOo.Ocode.prototype,{setupEvents:function(){var e,o,t,n,i=this.options.events,a=[!1,!1],r=["onExit","onEntry"],s="beforeunload";for(OOo.Browser.Opera&&(s="unload"),OOo.Browser.iOs&&(s="pagehide"),i.prompt&&OOo.extend(this.options,{promptMarkup:i.prompt.promptMarkup,neverShowAgainButton:!1,pathToAssets:i.prompt.pathToAssets}),o=r.length-1;o>=0;o-=1)if(i[e=r[o]]instanceof Array)for(n=(t=i[e]).length;n&&!a[o];)n-=1,-1!==window.location.href.search(t[n].url)&&Math.random()>=1-t[n].p/100&&(a[o]=!0);else i[e]&&Math.random()>=1-i[e]/100&&(a[o]=!0);a[0]&&OOo.addEventListener(window,s,(function(e){var o=e||window.event;this.show(o,"exit")}).bind(this),!1),a[1]&&(i.delayEntry?window.setTimeout((function(e){var o=e||window.event;i.prompt?this.getEntryPrompt():this.show(o,"entry")}).bind(this),1e3*i.delayEntry):i.prompt?this.getEntryPrompt():(function(e){var o=e||window.event;this.show(o,"entry")}).bind(this)())},setupDisableElements:function(){if(OOo.addEventListener(document.body,"mousedown",e.bind(this)),this.options.events.disableFormElements){var t,n=document.getElementsByTagName("form");for(t=n.length-1;t>=0;t-=1)OOo.addEventListener(n[t],"submit",o.bind(this))}},getEntryPrompt:function(){OOo.getEntryPrompt.call(this)},showEntryPrompt:function(e){this.options.cookie&&OOo.Ocode.tagUrl(this.options.cookie),OOo.showEntryPrompt.call(this,e,this.show)}})}(),OOo.extend(OOo.Ocode.prototype,{floating:function(){var e,o,t,n,i=document,a=this.floatingLogo=document.createElement("div"),r=i.createElement("div"),s=i.createElement("div"),c=i.createElement("div"),l=i.createElement("span"),p=this.options.floating,d=OOo.$(p.contentId),u="10px",h=p.id,O=i.createElement("span"),m=this.options.mobileTouches||2,w=0;function f(e){return e.offsetLeft+e.offsetWidth}if(O.innerHTML="Screen reader users: Please switch to forms mode for this link.",O.className="screen_reader",h&&(a.id=h),a.className="oo_feedback_float",s.className="oo_transparent",r.className="olUp",c.className="olOver",r.tabIndex=0,r.onkeyup=(function(o){13===(e=o||window.event).keyCode&&this.show(e)}).bind(this),r.innerHTML=p.caption||"Feedback",a.appendChild(O),a.appendChild(r),l.innerHTML=p.hoverCaption||"Click here to<br>rate this page",c.appendChild(l),a.appendChild(c),a.appendChild(s),p.position&&p.position.search(/Content/)&&d){switch(o=this.spacer=i.createElement("div"),t=OOo.Browser.WebKit?i.body:i.documentElement,o.id="oo_feedback_fl_spacer",o.style.left=f(d)+"px",i.body.appendChild(o),p.position){case"rightOfContent":n=function(e){a.style.left=f(d)-t.scrollLeft+"px"};break;case"fixedPreserveContent":n=function(e){var o=OOo.Browser.IE?i.body.clientWidth:window.innerWidth,n=t.scrollLeft;o<=f(d)+a.offsetWidth+parseInt(u,10)?a.style.left=f(d)-n+"px":(a.style.left="",a.style.right=u)};break;case"fixedContentMax":n=function(e){(OOo.Browser.IE?i.body.clientWidth:window.innerWidth)<=f(d)+a.offsetWidth+parseInt(u,10)?(a.style.left="",a.style.right=u):(a.style.left=f(d)-t.scrollLeft+"px",a.style.right="")}}window.setTimeout(n,0),OOo.addEventListener(window,"scroll",n,!1),OOo.addEventListener(window,"resize",n,!1),OOo.addEventListener(window,"resize",function(e){o.style.left=f(d)+"px"},!1)}else a.style.right=u;1==!this.options.disableShow?(a.onkeyup=(function(e){var o=e||window.event;13===o.keyCode&&this.show(o)}).bind(this),OOo.Browser.isMobile?"ontouchstart"in window?(a.ontouchstart=(function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,w++}).bind(this),a.ontouchend=(function(e){var o=e||window.event;w>=m&&(this.show(o),w=0)}).bind(this)):a.onclick=(function(e){var o=e||window.event;this.show(o)}).bind(this):a.onclick=(function(e){var o=e||window.event;this.show(o)}).bind(this)):OOo.appendWaypointMobile(a,m),i.body.appendChild(a)},removeFloatingLogo:function(){document.body.removeChild(this.floatingLogo),this.spacer&&document.body.removeChild(this.spacer)}}),OOo.extend(OOo.Ocode.prototype,{bar:function(){var e=document,o=this.floatingLogo=e.createElement("a"),t=e.createElement("span"),n=this.options,i=this.options.mobileTouches||2,a=0,r=e.createElement("span");t.innerHTML="Launches comment card in new window",t.className="screen_reader",r.className="icon",this.reflowBar=OOo.K,o.id="oo_bar",o.href="#",o.innerHTML=n.bar.caption||"Feedback",o.appendChild(t),o.appendChild(r),o.tabIndex="number"==typeof n.tabIndex?n.tabIndex:0,1==!this.options.disableShow?(o.onkeyup=(function(e){var o=e||window.event;13===o.keyCode&&this.show(o)}).bind(this),OOo.Browser.isMobile?"ontouchstart"in window?(o.ontouchstart=(function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,a++}).bind(this),o.ontouchend=(function(e){var o=e||window.event;a>=i&&(this.show(o),a=0)}).bind(this)):o.onclick=(function(e){var o=e||window.event;this.show(o)}).bind(this):o.onclick=(function(e){var o=e||window.event;this.show(o)}).bind(this)):OOo.appendWaypointMobile(o,i),document.body.className+=document.body.className<1?"oo_bar":" oo_bar",document.body.appendChild(o),OOo.addEventListener(document.body,"keyup",function(e){var t,n=document.activeElement;n&&(t=function(e){var o=0,t=0;if(e.offsetParent){do{o+=e.offsetLeft,t+=e.offsetTop}while(e==e.offsetParent);return[o,t]}}(n))&&t[1]+n.clientHeight>(window.innerHeight||document.body.clientHeight)+(window.pageYOffset||document.body.scrollTop)-o.clientHeight&&(-1!==navigator.appVersion.indexOf("MSIE 7.")?window.scrollBy(0,0):window.scrollBy(0,n.clientHeight+20))},!1)}}),OOo.extend(OOo.Ocode.prototype,{tab:function(){var e=document,o=this.floatingLogo=e.createElement("div"),t=e.createElement("span"),n=(e.createElement("div"),e.createElement("span"),this.options.tab),i=(e.createElement("a"),"Feedback"),a=n.tabType,r="right",s=this.options.mobileTouches||2,c=0,l=0,p=OOo.readCookie("oo_tab_extend"),d=2592e3;switch(a){case 1:var u=e.createElement("span");o=this.floatingLogo=e.createElement("a"),t=e.createElement("span"),o.href="#",o.id="oo_tab_"+a,n.position&&(r=n.position),n.extendEveryPage&&(l=n.extendEveryPage),n.extendExpiration&&(d=n.extendExpiration),o.className=tabClass="oo_tab_"+r+"_"+a,t.className="screen_reader",u.className="icon",o.tabIndex="number"==typeof n.tabIndex?n.tabIndex:0,n.verbiage&&(i=n.verbiage),o.innerHTML=i,t.innerHTML="Launches comment card in new window",o.appendChild(t),o.appendChild(u),1==l?setTimeout(function(){o.className+=" small"},2500):"prevent"===p?o.className+=" small":(OOo.createCookie("oo_tab_extend","prevent",d),setTimeout(function(){o.className+=" small"},2500));break;default:(o=this.floatingLogo=e.createElement("a")).id="oo_tab",o.className="oo_tab_"+(n.position||r),o.href="#",document.addEventListener&&!OOo.checkIfIE9orBelow()||(o.className+=" oo_legacy"),n.wcagBasePath&&(o.className+=" wcag");var h=document.createElement("img");h.setAttribute("src",n.iconPath?n.iconPath+"oo_tab_icon_retina.gif":"/onlineopinionV5/oo_tab_icon_retina.gif"),h.setAttribute("alt",""),n.verbiage&&(i=n.verbiage);var O=document.createTextNode(i);o.appendChild(h),o.appendChild(O),t&&(t.className="screen_reader",t.innerHTML=" Will open a new window",o.appendChild(t))}1==!this.options.disableShow?(o.onkeyup=(function(e){var o=e||window.event;13===o.keyCode&&this.show(o)}).bind(this),OOo.Browser.isMobile?"ontouchstart"in window?(o.ontouchstart=(function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,c++}).bind(this),o.ontouchend=(function(e){var o=e||window.event;c>=s&&(this.show(o),c=0)}).bind(this)):o.onclick=(function(e){var o=e||window.event;this.show(o)}).bind(this):o.onclick=(function(e){var o=e||window.event;this.show(o)}).bind(this)):OOo.appendWaypointMobile(o,s),e.body.appendChild(o)}}),OOo.extend(OOo.Ocode.prototype,{setupOnPageCC:function(){var e,o,t,n,i,a=document,r=OOo.Cache.overlay||a.createElement("div"),s=this.wrapper=a.createElement("div"),c=a.createElement("a"),l=a.createElement("div"),p=a.createElement("span"),d=this.frameName,u=a.createElement(OOo.DYNAMIC_FRAME_NAME_IS_BUGGY?'<iframe name="'+d+'">':"iframe"),h=a.createDocumentFragment(),O=this.options,m=O.onPageCard,w=!1,f=this,v=a.createElement("span");function g(e){return e&&e.preventDefault&&e.preventDefault(),document.body.focus(),u.tabIndex=-1,u.title="empty",u["aria-hidden"]="true",r.style.display="none",r.className="",a.body.removeChild(s),window.postMessage?OOo.removeEventListener(window,"message",t):window.clearInterval(o),w=!1,f.onPageCardVisible=!1,!1}t=OOo.Ocode.postMessageHandler(function(o){var t,n,c=parseInt(o,10);if(c>0){if(w)return;w=!0,t=window.innerHeight||a.documentElement.clientHeight||a.body.clientHeight,(n=c)+(i=s.offsetTop)>t&&(n=t-40-i),u.style.width="555px",l.style.width="555px",u.style.height=n+"px",s.style.visibility="visible",p.clientHeight<20&&(p.style.height=s.offsetHeight+"px"),r.className="no_loading",f.onPageCardVisible=!0,e&&a.body.removeChild(e)}else"submitted"===o&&g();OOo.Browser.IE&&"BackCompat"===a.compatMode&&window.scrollTo(0,0)},f.options.commentCardUrl),O.metrics.type="OnPage",OOo.Cache.overlay=r,r.id="oo_overlay",r.style.display="block",r.className="",l.className="iwrapper",s.className="oo_cc_wrapper",s.setAttribute("role","alert"),s.setAttribute("aria-describedby","comment_card_description"),v.className="screen_reader",v.id="comment_card_description",v.innerHTML="Please leave your feedback in the comment card you just activated",s.appendChild(v),c.className="oo_cc_close",c.innerHTML='<span class="screen_reader">Close dialog</span><span aria-hidden="true">&#10006;</span>',c.title=O.closeTitle?O.closeTitle:"Close dialog",a.addEventListener||(l.style.outline="1px solid #cdcdcd"),s.style.visibility="hidden",c.tabIndex=0,c.onkeyup=function(e){13===(e||window.event).keyCode&&g()},OOo.Browser.IE&&(u.frameBorder="0",window.XMLHttpRequest&&"BackCompat"!==a.compatMode||(n=Math.max(a.documentElement.clientWidth,a.body.offsetWidth),r.style.position="absolute",r.style.width="BackCompat"===a.compatMode?n-21+"px":n+"px",r.style.height=Math.max(a.documentElement.clientHeight,a.body.offsetHeight)+"px",s.style.position="absolute",OOo.addEventListener(window,"scroll",function(){r.style.top=a.body.scrollTop+document.body.clientHeight-r.clientHeight+"px",s.style.top=a.body.scrollTop+i+25+"px"}))),OOo.addEventListener(c,"click",g),m.closeWithOverlay&&!OOo.Browser.isMobile&&(s.appendChild(p),p.onclick=g,r.onclick=g),u.src=" ",u.name=d,u.title="Comment Card",l.appendChild(c),l.appendChild(u),s.appendChild(l),h.appendChild(s),h.appendChild(r),a.body.appendChild(h),window.postMessage?OOo.addEventListener(window,"message",t):o=setInterval(t,500),O.metrics.time2=(new Date).getTime(),(e=OOo.appendOOForm(O,d)).submit()}}),OOo.extend(OOo.Ocode,{postMessageHandler:function(e,o,t){return function(n){var i;return t||(t=location),!(n&&"https://secure.opinionlab.com"!==n.origin&&0===n.origin.indexOf(o)||!n&&-1===t.hash.search("OL="))&&(i=n?n.data:t.hash.split("=").pop(),!n&&location.hash&&(location.hash=""),e(i),i)}}}),OOo.Invitation=function(e){this.options={tunnelCookie:"oo_inv_tunnel",repromptTime:604800,responseRate:50,repromptCookie:"oo_inv_reprompt",promptMarkup:"oo_inv_prompt.html",promptStyles:"oo_inverstitial_style.css",percentageCookie:"oo_inv_percent",pagesHitCookie:"oo_inv_hit",popupType:"popunder",promptDelay:0,neverShowAgainButton:!1,loadPopupInBackground:!1,truncatePrevCurrentMetrics:!1,disablePrevCurrentMetrics:!1,tealeafCookieName:"TLTSID",monitorWindow:"oo_inv_monitor.html",companySlogan:"We value your opinion",beforePrompt:OOo.K,callBacks:{prompt:"",yesClick:"",noClick:"",closeClick:""},inviteMarkup:"<div id='oo_invitation_prompt' role='dialog' aria-describedby='oo_invite_message'><div id='oo_invitation_company_logo'></div><div id='oo_invite_content'><p id='oo_invite_message'>After your visit, would you be willing to provide some quick feedback?<br /><br />(It will only take a minute)</p><p class='prompt_button'><a href='#' id='oo_launch_prompt'>Yes<span class='screen_reader'>This will open a new window</span></a></p><p class='prompt_button'><a href='#' id='oo_no_thanks'>No Thanks</a></p><p id='ol_invitation_brand_logo'><span aria-label='Powered by OpinionLab.'></span></p></div><a id='oo_close_prompt' href='#' aria-label='Close dialog'><div class='screen_reader'>Close dialog</div><span aria-hidden='true'>&#10006;</span></a></div>\x3c!--[if IE 8]><style>/* IE 8 does not support box-shadow */#oo_invitation_prompt #oo_invite_content { width: 400px; padding: 40px 49px 20px 49px; border: 1px solid #ccc; }</style><![endif]--\x3e",skipInvitePrompt:!1},this.popupShown=!1,OOo.extend(this.options,e);var o=this.options,t=parseInt(OOo.readCookie(o.pagesHitCookie),10)||0;OOo.Invitation.friendlyDomains=o.friendlyDomains||null;var n={weight:Number(OOo.readCookie("oo_OODynamicRewrite_weight")),searchPattern:OOo.readCookie("oo_OODynamicRewrite_searchPattern"),replacePattern:OOo.readCookie("oo_OODynamicRewrite_replacePattern")};if(OOo.eraseCookie("oo_OODynamicRewrite_weight"),OOo.eraseCookie("oo_OODynamicRewrite_searchPattern"),OOo.eraseCookie("oo_OODynamicRewrite_replacePattern"),(!window.OOoDynamicRewrite||window.OOoDynamicRewrite.weight<n.weight)&&(window.OOoDynamicRewrite=n),window.OOoDynamicRewrite&&"number"==typeof window.OOoDynamicRewrite.weight&&!isNaN(window.OOoDynamicRewrite.weight)&&(OOo.createCookie("oo_OODynamicRewrite_weight",window.OOoDynamicRewrite.weight),window.OOoDynamicRewrite.searchPattern&&OOo.createCookie("oo_OODynamicRewrite_searchPattern",window.OOoDynamicRewrite.searchPattern),window.OOoDynamicRewrite.replacePattern&&OOo.createCookie("oo_OODynamicRewrite_replacePattern",window.OOoDynamicRewrite.replacePattern)),-1===location.search.search("evs")&&"yes"!==OOo.readCookie("oo_evs_friendly")||(OOo.eraseCookie("oo_evs_friendly"),o.loadPopupInBackground=!0,this.launchPopup(),OOo.createCookie(o.repromptCookie,1,-1===o.repromptTime?0:o.repromptTime)),setTimeout((function(){window.oo_inv_monitor&&(o.area&&-1===location.href.search(o.area)?(this.options.popupType="popup",this.launchPopup()):o.goal&&-1!==location.href.search(o.goal)&&window.oo_inv_monitor.close())}).bind(this),1600),!(OOo.readCookie(o.repromptCookie)||o.thirdPartyCookies&&OOo.checkThirdPartyCookies(o.thirdPartyCookies))){if(OOo.readCookie(o.percentageCookie)||OOo.createCookie(o.percentageCookie,Math.random()>1-o.responseRate/100?"1":"0"),void 0!==o.promptTrigger)if(o.promptTrigger instanceof RegExp){if(!window.location.href.match(o.promptTrigger))return}else if(o.promptTrigger instanceof Array&&!OOo.checkTunnel(location.pathname,o.promptTrigger,o.tunnelCookie))return;t+=1,OOo.createCookie(o.pagesHitCookie,t),o.pagesHit&&t<o.pagesHit||(OOo.eraseCookie(o.tunnelCookie),"1"===OOo.readCookie(o.percentageCookie)&&window.setTimeout((function(){OOo.createCookie(o.repromptCookie,1,o.repromptTime),this.options.beforePrompt(),this.getPrompt()}).bind(this),1e3*o.promptDelay))}},OOo.Invitation.notifyFriendlyLocationChange=function(e){window.oo_inv_monitor&&OOo.createCookie("oo_evs_friendly","yes")},OOo.Invitation.prototype={getPrompt:function(){OOo.getPrompt.call(this)},showPrompt:function(e){this.options.skipInvitePrompt?this.launchPopup():OOo.showPrompt.call(this,e,this.launchPopup)},launchPopup:function(e){if(!this.popupShown){this.popupShown=!0;var o=e||window.event;void 0!==o&&(o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1);var t,n,i=this.options,a=(window,"popup"===i.popupType?"https://secure.opinionlab.com/ccc01/comment_card.asp?":i.pathToAssets+i.monitorWindow+"?time1="+(new Date).getTime()+"&"),r=i.asm?[555,500]:OOo.Browser.Chrome?[400,400]:[400,350],s=OOo.createMetrics(),c=OOo.readCookie(i.tealeafCookieName);(i.clickTalePID&&window.ClickTaleGetUID&&window.ClickTaleGetSID||window.ClickTaleGetPID&&window.ClickTaleGetUID&&window.ClickTaleGetSID)&&(c+="|"+[i.clickTalePID||window.ClickTaleGetPID(),window.ClickTaleGetUID(),window.ClickTaleGetSID()].join("/")),n="scrollbars=1,resizable=1,location=no,status=no,width="+(r=i.newWindowSize||r)[0]+",height="+r[1],i.referrerRewrite&&(s.referer=OOo.referrerRewrite(i.referrerRewrite)),i.truncatePrevCurrentMetrics&&(s.prev=OOo.truncateMetric(s.prev),s.currentURL=OOo.truncateMetric(s.currentURL)),i.disablePrevCurrentMetrics&&(s.prev="",s.currentURL=""),i.thirdPartyCookies&&OOo.setThirdPartyCookies(i.thirdPartyCookies),t=OOo.toQueryString(s)+"&type=Invitation",i.customVariables&&(t+="&customVars="+encodeURIComponent(OOo.serialize(i.customVariables))),t+="&custom_var="+OOo.createLegacyVars(i.legacyVariables,c),i.asm&&(t+="&asm=2",n+=",scrollbars=1"),2===(a+=t).match(/\?/g).length&&(a=a.replace(/\?([^?]*)$/,"&$1")),this.popup=window.open(a,"OnlineOpinionInvitation",n),!i.loadPopupInBackground&&OOo.$("oo_container")&&OOo.hidePrompt(o)}},killPrompt:function(e){var o=e||window.event;this.options.callBacks&&"function"==typeof this.options.callBacks.noClick&&this.options.callBacks.noClick(),OOo.createCookie(this.options.repromptCookie,1,15768e4),OOo.hidePrompt(o)}},OOo.extend(OOo.Invitation,{navigateToFriendlyDomain:function(e){location.href=e}}),OOo.Waypoint=function(e){var o=OOo.Browser;if(!(e.disableMobile&&o.isMobile||e.disableNoniOS&&o.isMobileNonIOS)){this.options={pathToAssets:"/onlineopinionV5/",waypointMarkup:"oo_waypoint.html",companySlogan:"Give us feedback",companyLogo:"waypoint_logo.png",linkFocus:!0,categories:{website:{tealeafCookieName:"TLTSID",waypointIcon:"waypoint_icon.png",buttonText:"Website"},store:{referrerRewrite:{searchPattern:/:\/\//,replacePattern:"://store."},tealeafCookieName:"TLTSID",waypointIcon:"waypoint_icon.png",buttonText:"Store"},product:{referrerRewrite:{searchPattern:/:\/\//,replacePattern:"://product."},tealeafCookieName:"TLTSID",waypointIcon:"waypoint_icon.png",buttonText:"Product"},other:{referrerRewrite:{searchPattern:/:\/\//,replacePattern:"://other."},tealeafCookieName:"TLTSID",waypointIcon:"waypoint_icon.png",buttonText:"Other"}},wpmarkup:"<div id='oo_waypoint_prompt' role='dialogue' aria-describedby='oo_waypoint_message'><div id='oo_waypoint_company_logo'></div><div id='oo_waypoint_content'><p id='oo_waypoint_message'>Select a category</p><p id='waypoint_icons'></p><p id='ol_waypoint_brand_logo'><span aria-label='Powered by OpinionLab.'></span></p></div><a id='oo_waypoint_close_prompt' href='#' aria-label='Close dialog'><div class='screen_reader'>Close dialogue</div><span aria-hidden='true'>&#10006;</span></a></div>\x3c!--[if IE 8]><style>/* IE 8 does not support box-shadow */#oo_waypoint_prompt #oo_waypoint_content { width: 400px; padding: 40px 49px 20px 49px; border: 1px solid #ccc; }</style><![endif]--\x3e"},OOo.extend(this.options,e);var t=this.options,n=t.categories;for(var i in n)if(n.hasOwnProperty(i)&&"object"==typeof t.categories[i].oCode){var a={};a[i]=new OOo.Ocode(n[i].oCode),OOo.extend(OOo.Waypoint,a)}OOo.extend(OOo.Waypoint,{getWaypoint:(function(){this.getWaypoint()}).bind(this)})}},OOo.Waypoint.prototype={getWaypoint:function(){OOo.getWaypoint.call(this)},showWaypoint:function(e){OOo.showWaypoint.call(this,e)},killWaypoint:function(e){var o=e||window.event;OOo.hideWaypoint(o)}},OOo.extend(OOo,{appendWaypoint:function(e){var o=OOo.$(e);o&&(OOo.Browser.isMobile||(OOo.addEventListener(o,"click",function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,OOo.Waypoint.getWaypoint()},!1),OOo.addEventListener(o,"keydown",function(e){var o=e||window.event;13===o.keyCode&&(o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,OOo.Waypoint.getWaypoint())},!1)))}}),OOo.extend(OOo,{appendWaypointMobile:function(e,o){var t=0,n=o||2;"string"==typeof e&&(e=OOo.$(e)),e&&OOo.Browser.isMobile&&("ontouchstart"in window?(OOo.addEventListener(e,"touchstart",function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,t++},!1),OOo.addEventListener(e,"touchend",function(e){e||window,t>=n&&(OOo.Waypoint.getWaypoint(),t=0)},!1)):OOo.addEventListener(e,"click",function(e){var o=e||window.event;o.preventDefault&&o.stopPropagation?(o.preventDefault(),o.stopPropagation()):o.returnValue=!1,OOo.Waypoint.getWaypoint()},!1))}}),OOo}()}(this),function(e,o){"use strict";var t={CCSID:o.readCookie("CCSID")};o.oo_feedback=new o.Ocode({customVariables:t}),o.oo_launch=function(t,n){var i=t||e.event,a=o.readCookie("CBOLECM"),r="",s=o[n].options.customVariables;a&&(r=a.split("-")),r.length>31&&(s.isCitiPriority=r[31],s.PID=r[9],s.hasCD=r[12],s.hasChecking=r[13],s.hasCheckingPlus=r[14],s.hasCreditCard=r[15],s.hasMortgage=r[16],s.hasSavings=r[17],s.isBrokerage=r[18],s.isCitiblue=r[19],s.isCitigold=r[20],s.isBusinessCust=r[27],s.isBusinessOnly=r[28],s.isThankYou=r[26],s.isRELOnly=r[30]),o[n].show(i)}}(window,OOo);