!function(e,t){"use strict";var n={};!function(){var e=document.getElementsByTagName("script"),t=e[e.length-1];if(t)for(var r,o=t.attributes,i=0,a=o.length;i<a;i++)/data-(\w+)$/.test(o[i].nodeName)&&(r=o[i].nodeValue,"false"===r&&(r=!1),n[RegExp.$1]=r)}();var r=function(){var e=t(),r=e(n);return r.factory=e,r};"function"==typeof define&&define.amd?define([],r):"object"==typeof module&&module.exports?module.exports=r():e.Honeybadger=r()}("undefined"!=typeof self?self:this,function(){function e(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function t(e){return!!s&&(s.name===e.name&&(s.message===e.message&&s.stack===e.stack))}function n(e,t){var n=e.message;for(var r in t)if(n.match(t[r]))return!0;return!1}function r(){var e={};return e.HTTP_USER_AGENT=navigator.userAgent,document.referrer.match(/\S/)&&(e.HTTP_REFERER=document.referrer),e}function o(e){if("object"==typeof e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join(";")}}function i(e){return e.stacktrace||e.stack||void 0}function a(e){var t;if(e&&(t=i(e)))return{stack:t,generator:void 0};try{throw new Error("")}catch(e){if(t=i(e))return{stack:t,generator:"throw"}}t=["<call-stack>"];for(var n=arguments.callee;n&&t.length<10;){/function(?:\s+([\w$]+))+\s*\(/.test(n.toString())?t.push(RegExp.$1||"<anonymous>"):t.push("<anonymous>");try{n=n.caller}catch(e){break}}return{stack:t.join("\n"),generator:"walk"}}function c(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(!1===(0,e[n])(t))return!0;return!1}var s,u,f={name:"honeybadger.js",url:"https://github.com/honeybadger-io/honeybadger-js",version:"0.5.5",language:"javascript"},l=!1,p=!1;return function(d){function v(){var e=window.console;if(e){var t=Array.prototype.slice.call(arguments);t.unshift("[Honeybadger]"),e.log.apply(e,t)}}function y(){if(g("debug"))return v.apply(this,arguments)}function g(e,t){var n=H[e];return void 0===n&&(n=H[e.toLowerCase()]),"false"===n&&(n=!1),void 0!==n?n:t}function h(){return"http"+(g("ssl",!0)&&"s"||"")+"://"+g("host","api.honeybadger.io")}function m(e){return!/function|symbol/.test(typeof e)&&("object"!=typeof e||void 0!==e.hasOwnProperty)}function b(e,t,n){var r,o,i,a;if(i=[],n||(n=0),n>=g("max_depth",8))return encodeURIComponent(t)+"=[MAX DEPTH REACHED]";for(r in e)a=e[r],e.hasOwnProperty(r)&&null!=r&&null!=a&&(m(a)||(a=Object.prototype.toString.call(a)),o=t?t+"["+r+"]":r,i.push("object"==typeof a?b(a,o,n+1):encodeURIComponent(o)+"="+encodeURIComponent(a)));return i.join("&")}function w(e){if(g("disabled",!1))return!1;if(S())return!1;try{var t=new(window.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");return t.open("GET",e,g("async",!0)),t.send(),void x()}catch(e){v("Error encountered during XHR request (will retry): "+e)}(new Image).src=e}function E(e){s=u=null;var t=g("apiKey",g("api_key"));return t?(w(h()+"/v1/notices/js.gif?"+b({notice:e})+"&api_key="+t+"&t="+(new Date).getTime()),!0):(v("Unable to send error report: no API key has been configured."),!1)}function k(a,p){if(a||(a={}),"[object Error]"===Object.prototype.toString.call(a)){var d=a;a=e(a,{name:d.name,message:d.message,stack:i(d)})}if("object"!=typeof a){var v=String(a);a={message:v}}if(t(a))return!1;if(u&&l&&E(u),0===function(){var e,t;t=[];for(e in a)({}).hasOwnProperty.call(a,e)&&t.push(e);return t}().length)return!1;if(p&&(a=e(a,p)),n(a,g("ignorePatterns")))return!1;if(c(H.beforeNotifyHandlers,a))return!1;var h=r();"string"==typeof a.cookies?h.HTTP_COOKIE=a.cookies:"object"==typeof a.cookies&&(h.HTTP_COOKIE=o(a.cookies));var m={notifier:f,error:{class:a.name||"Error",message:a.message,backtrace:a.stack,generator:a.generator,fingerprint:a.fingerprint},request:{url:a.url||document.URL,component:a.component||g("component"),action:a.action||g("action"),context:e(H.context,a.context),cgi_data:h,params:a.params},server:{project_root:a.projectRoot||a.project_root||g("projectRoot",g("project_root",window.location.protocol+"//"+window.location.host)),environment_name:a.environment||g("environment"),revision:a.revision||g("revision")}};return u=m,s=a,l?(y("Deferring notice.",a,m),window.setTimeout(function(){t(a)&&E(m)})):(y("Queuing notice.",a,m),O.push(m)),a}function j(e){return"function"!=typeof Object.isExtensible||Object.isExtensible(e)}function _(e,t){try{return"function"!=typeof e?e:j(e)?(e.___hb||(e.___hb=function(){var n=g("onerror",!0);if(!(C&&(n||t)||t&&!n))return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(e){throw k(e),e}}),e.___hb.___hb=e.___hb,e.___hb):e}catch(t){return e}}function T(e,t,n){if(!p&&e&&t&&n){var r=e[t];e[t]=n(r)}}function x(){return H.errorsSent++}function S(){var e=g("maxErrors");return e&&H.errorsSent>=e}var R=[],O=[],H={context:{},beforeNotifyHandlers:[],errorsSent:0};if("object"==typeof d)for(var L in d)H[L]=d[L];var C=!0;if(window.atob||(C=!1),window.ErrorEvent)try{0===new window.ErrorEvent("").colno&&(C=!1)}catch(e){}H.notify=function(t,n,r){if(t||(t={}),"[object Error]"===Object.prototype.toString.call(t)){var o=t;t=e(t,{name:o.name,message:o.message,stack:i(o)})}if("object"!=typeof t){t={message:String(t)}}if(n&&"object"!=typeof n){n={name:String(n)}}return n&&(t=e(t,n)),"object"==typeof r&&(t=e(t,r)),k(t,a(t))},H.wrap=function(e){return _(e,!0)},H.setContext=function(t){return"object"==typeof t&&(H.context=e(H.context,t)),H},H.resetContext=function(t){return H.context="object"==typeof t?e({},t):{},H},H.configure=function(e){for(var t in e)H[t]=e[t];return H},H.beforeNotify=function(e){return H.beforeNotifyHandlers.push(e),H};var M=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};H.reset=function(){H.context={},H.beforeNotifyHandlers=[];for(var e in H)-1==M.call(R,e)&&(H[e]=void 0);return H.resetMaxErrors(),H},H.resetMaxErrors=function(){return H.errorsSent=0},H.getVersion=function(){return"0.5.5"};var I=function(e){return function(t,n){if("function"==typeof t){var r=Array.prototype.slice.call(arguments,2);return t=_(t),e(function(){t.apply(null,r)},n)}return e(t,n)}};T(window,"setTimeout",I),T(window,"setInterval",I),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(e){var t=window[e]&&window[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(T(t,"addEventListener",function(e){return function(t,n,r,o){try{n&&null!=n.handleEvent&&(n.handleEvent=_(n.handleEvent))}catch(e){v(e)}return e.call(this,t,_(n),r,o)}}),T(t,"removeEventListener",function(e){return function(t,n,r,o){return e.call(this,t,n,r,o),e.call(this,t,_(n),r,o)}}))}),T(window,"onerror",function(e){function t(e,t,n,r,o){if(y("window.onerror callback invoked.",arguments),!s&&g("onerror",!0)){if(0===n&&/Script error\.?/.test(e))return void v("Ignoring cross-domain script error. Use CORS to enable tracking of these types of errors.",arguments);var a=[e,"\n    at ? (",t||"unknown",":",n||0,":",r||0,")"].join("");if(o){var c={stack:i(o)};return c.stack||(c={stack:a}),void k(o,c)}k({name:"window.onerror",message:e,stack:a})}}return function(n,r,o,i,a){return t(n,r,o,i,a),"function"==typeof e&&e.apply(this,arguments)}}),p=!0;for(var L in H)R.push(L);if(y("Initializing honeybadger.js 0.5.5"),/complete|interactive|loaded/.test(document.readyState))l=!0,y("honeybadger.js 0.5.5 ready");else{y("Installing ready handler");var P=function(){l=!0,y("honeybadger.js 0.5.5 ready");for(var e;e=O.pop();)E(e)};document.addEventListener?document.addEventListener("DOMContentLoaded",P,!0):window.attachEvent("onload",P)}return H}});
//# sourceMappingURL=//js.honeybadger.io/v0.5/honeybadger.min.js.map