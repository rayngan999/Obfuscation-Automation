webpackJsonp([1569],{2442:function(e,t,n){"use strict";var o=function(e){return e&&2===e.CLOSING},i=function(){return"undefined"!=typeof WebSocket&&o(WebSocket)},r=function(){return{constructor:i()?WebSocket:null,maxReconnectionDelay:1e4,minReconnectionDelay:1500,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1}},s=function(e,t,n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})},a=function(e){return e.minReconnectionDelay+Math.random()*e.minReconnectionDelay},c=function(e,t){var n=t*e.reconnectionDelayGrowFactor;return n>e.maxReconnectionDelay?e.maxReconnectionDelay:n},u=["onopen","onclose","onmessage","onerror"],l=function(e,t,n){Object.keys(n).forEach(function(t){n[t].forEach(function(n){var o=n[0],i=n[1];e.addEventListener(t,o,i)})}),t&&u.forEach(function(n){e[n]=t[n]})},d=function(e,t,n){var i=this;void 0===n&&(n={});var u,f,p=0,m=0,w=!0,v=null,b={};if(!(this instanceof d))throw new TypeError("Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator");var h=r();if(Object.keys(h).filter(function(e){return n.hasOwnProperty(e)}).forEach(function(e){return h[e]=n[e]}),!o(h.constructor))throw new TypeError("Invalid WebSocket constructor. Set `options.constructor`");var y=h.debug?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,["RWS:"].concat(e))}:function(){},g=function(e,t){return setTimeout(function(){var n=new Error(t);n.code=e,Array.isArray(b.error)&&b.error.forEach(function(e){return(0,e[0])(n)}),u.onerror&&u.onerror(n)},0)},_=function(){if(y("handleClose",{shouldRetry:w}),m++,y("retries count:",m),m>h.maxRetries)return void g("EHOSTDOWN","Too many failed connection attempts");p=p?c(h,p):a(h),y("handleClose - reconnectDelay:",p),w&&setTimeout(x,p)},x=function(){if(w){y("connect");var n=u,o="function"==typeof e?e():e;u=new h.constructor(o,t),f=setTimeout(function(){y("timeout"),u.close(),g("ETIMEDOUT","Connection timeout")},h.connectionTimeout),y("bypass properties");for(var r in u)["addEventListener","removeEventListener","close","send"].indexOf(r)<0&&s(u,i,r);u.addEventListener("open",function(){clearTimeout(f),y("open"),p=a(h),y("reconnectDelay:",p),m=0}),u.addEventListener("close",_),l(u,n,b),u.onclose=u.onclose||v,v=null}};y("init"),x(),this.close=function(e,t,n){void 0===e&&(e=1e3),void 0===t&&(t="");var o=void 0===n?{}:n,i=o.keepClosed,r=void 0!==i&&i,s=o.fastClose,a=void 0===s||s,c=o.delay,l=void 0===c?0:c;if(y("close - params:",{reason:t,keepClosed:r,fastClose:a,delay:l,retriesCount:m,maxRetries:h.maxRetries}),w=!r&&m<=h.maxRetries,l&&(p=l),u.close(e,t),a){var d={code:e,reason:t,wasClean:!0};_(),u.removeEventListener("close",_),Array.isArray(b.close)&&b.close.forEach(function(e){var t=e[0],n=e[1];t(d),u.removeEventListener("close",t,n)}),u.onclose&&(v=u.onclose,u.onclose(d),u.onclose=null)}},this.send=function(e){u.send(e)},this.addEventListener=function(e,t,n){Array.isArray(b[e])?b[e].some(function(e){return e[0]===t})||b[e].push([t,n]):b[e]=[[t,n]],u.addEventListener(e,t,n)},this.removeEventListener=function(e,t,n){Array.isArray(b[e])&&(b[e]=b[e].filter(function(e){return e[0]!==t})),u.removeEventListener(e,t,n)}};e.exports=d},2746:function(e,t,n){var o=n(2747);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(1249)("67d3c0ce",o,!0,{})},2747:function(e,t,n){t=e.exports=n(1248)(!1),t.push([e.i,".-quotes-widget__swiper{display:none}[dir] .-quotes-widget__swiper{margin:0 -8px}@media only screen and (min-width:1136px){.-quotes-widget__swiper{display:block;overflow-x:hidden}}@media only screen and (max-width:1135px){[dir] .-quotes-widget__swiper{margin:0}}[dir] .-quotes-widget__swiper .swiper-container{padding:8px}@media only screen and (max-width:1135px){[dir] .-quotes-widget__swiper .swiper-container{padding:0}}@media only screen and (max-width:1135px){.-quotes-widget__slider-container{display:-webkit-box;display:-ms-flexbox;display:flex;overflow-x:scroll}}@media only screen and (min-width:1136px){.-quotes-widget__slider-container{position:relative}}[dir] .-quotes-widget__item:hover{-webkit-box-shadow:0 2px 8px 0 rgba(0,0,0,.2);box-shadow:0 2px 8px 0 rgba(0,0,0,.2)}@media only screen and (max-width:1135px){[dir] .-quotes-widget__item:hover{-webkit-box-shadow:none;box-shadow:none}}[dir] .-quotes-widget__unavailable{margin-bottom:32px}",""])},4010:function(e,t,n){"use strict";function o(e){n(2746)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(37),r=n.n(i),s=n(103),a=n(2442),c=n.n(a),u={name:"QuotesWidget",data:function(){return{sliderOptions:{slidesPerView:6,spaceBetween:16},webSocket:null}},components:{Swiper:function(){return n.e(1419).then(n.bind(null,3959))},QuotesItem:function(){return n.e(1719).then(n.bind(null,4011))},UnavailableNotification:function(){return n.e(1421).then(n.bind(null,4007))}},computed:r()({},Object(s.e)("forexInstruments",["websocketUrl"]),Object(s.e)("quotes",{quotes:function(e){return e.quotesWidget},isQuotesWidgetUnavailable:function(e){return e.isQuotesWidgetUnavailable}})),mounted:function(){if(this.websocketUrl)try{this.webSocket=new c.a(this.websocketUrl.replace("{domain}",this.$host)),this.webSocket.addEventListener("message",this.updateTable)}catch(e){console.group("Could not connect to websocket"),console.error(e),console.groupEnd()}},beforeDestroy:function(){this.webSocket&&this.webSocket.close()},methods:r()({},Object(s.d)("quotes",{socketQuotesWidget:"SOCKET_QUOTES_WIDGET"}),{updateTable:function(e){try{var t=JSON.parse(e.data).data;if(!this.quotes[t.symbol])return;this.socketQuotesWidget(t)}catch(e){console.group("Could not update quotes from websocket"),console.error(e),console.groupEnd()}}})},l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"-quotes-widget"},[e.isQuotesWidgetUnavailable?n("unavailable-notification",{staticClass:"-quotes-widget__unavailable"}):e._e(),e.isQuotesWidgetUnavailable?e._e():n("div",{staticClass:"-slidable -slidable_tablet -quotes-widget__slider-container"},[n("swiper",{staticClass:"-quotes-widget__swiper",attrs:{customOptions:e.sliderOptions,navigation:!0,swiperId:"quotesWidget"}},e._l(e.quotes,function(e,t){return n("div",{key:t,staticClass:"swiper-slide -quotes-widget__item"},[n("quotes-item",{attrs:{item:e}})],1)}),0),e._l(e.quotes,function(e,t){return n("div",{key:t,staticClass:"-quotes-widget__item -quotes-widget__item_tabmob"},[n("quotes-item",{attrs:{item:e}})],1)})],2)],1)},d=[],f={render:l,staticRenderFns:d},p=f,m=n(128),w=o,v=m(u,p,!1,w,null,null);t.default=v.exports}});