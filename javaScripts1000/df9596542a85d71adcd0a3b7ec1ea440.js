var __ftrnd=function(n){"use strict";function d(n,e,t,r){var o;return(o={}).b=n,o.c=e,o.d=t,o.e=r,o}var f=function(){return(f=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};function s(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var r=Array(n),o=0;for(e=0;e<t;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function l(n,e){for(var t=0;t<n.length;t++)if(e===n[t])return!0;return!1}function e(a){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.pop();try{var r=a.apply(this,n);!function o(n){return null!==n&&"object"==typeof n&&"function"==typeof n.then}(r)?v(function(){return t(null,r)}):r.then(function(n){v(function(){return t(null,n)})},function(n){v(function(){return t(n,null)})})}catch(i){v(function(){return t(i,null)})}}}function v(n){setTimeout(function(){n()},0)}function p(n,e,t,r){var o=r;n.addEventListener?n.addEventListener(e,o,t):n.attachEvent&&n.attachEvent("on"+e,o)}function g(n){return JSON.stringify(n)}function h(n){if("object"==typeof n)return n;if(""===n)return undefined;if("string"==typeof n)return JSON.parse(n);throw new Error("Invalid content: "+typeof n+" - "+n)}var t,w=function w(n,e){try{!function i(n,e,t){var r=JSON.stringify(t),o=new XMLHttpRequest;o.onload=function(){o.status},o.onerror=function(){},o.ontimeout=function(){},o.open(n,e,!0),setTimeout(function(){o.send(r)})}("post","/analytics/v1/log",{value:{target:{name:n&&n.name,message:n&&n.message,stack:n&&n.stack,metadata:e},source:{url:document.location.href}}})}catch(n){}};function r(){var i=[],a=[];return{on:function(n){i.push(n)},once:function(n){a.push(n)},emit:function(n){for(var e=0,t=s(i,a);e<t.length;e++){var r=t[e];try{r(n)}catch(o){w(o,{message:"Failed to handle data"})}}a=[]}}}var m=((t={}).eventId=r(),t.userId=r(),t.sessionId=r(),t.networkApiKey=r(),t.networkTenantId=r(),t.networkEventId=r(),t.networkUserId=r(),t.a=r(),t);function y(n){window.parent.postMessage(g(n),"*")}function b(n,e,t){!function i(n,e){var t=!1,r=setTimeout(function(){t||(t=!0,e(new Error("timeout")))},5e3);n.once(function o(n){clearTimeout(r),t?w(new Error("Message received after timeout")):(t=!0,e(null,n))})}(e,t),y([n])}function T(){return window.localStorage||(window.globalStorage?window.globalStorage[location.hostname]:null)}function o(){return window.sessionStorage}function i(n,e,t){try{var r=n();r&&r.setItem(e,t)}catch(o){}}function k(n,e){try{var t=n();if(t)return t.getItem(e)}catch(r){}return null}p(window,"message",!1,function(n){if(n&&n.data)for(var e=h(n.data),t=0,r=e;t<r.length;t++){var o=r[t],i=o.a;if(i&&m[i]){var a=o.b;m[i].emit(a)}}});var a,u=window.btoa||function(n){for(var e,t,r=String(n),o=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="";r.charAt(0|o)||(i="=",o%1);a+=i.charAt(63&e>>8-o%1*8)){if(255<(t=r.charCodeAt(o+=.75)))throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=(e||0)<<8|t}return a};function E(n,e){return e?n+"?"+function t(n){return"o="+u(g(n))}(e):n}function I(){return k(T,"ftrnd_sid")}function C(){return k(o,"ftrnd_ssid")}function D(){return a}function c(n){!function e(n){a=n}(n),function t(n){i(T,"ftrnd_sid",n)}(n),function r(n){i(o,"ftrnd_ssid",n)}(n)}var N=/[0-9]{1,3}(\.[0-9]{1,3}){3}/,L=e(function L(){var n=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection||window.msRTCPeerConnection;if(n){var o=new n({iceServers:[{urls:"stun:stun.l.google.com:19302?transport=udp"}]});return o.createDataChannel(""),o.createOffer().then(function(n){return o.setLocalDescription(n)}).then(function(){return function n(e){return new Promise(function(n){setTimeout(n,e)})}(3e3).then(function(){if(o.localDescription){for(var n=o.localDescription.sdp.split("\n"),e={},t=0;t<n.length;t++)if(/a=candidate:/.test(n[t])){var r=n[t].match(N);r&&(e[r[0]]=!0)}return{ipAddresses:Object.keys(e)}}return null})})}return null}),q=e(function q(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(n){for(var e={deviceTypes:{},numberOfDevices:n.length,numberOfGroups:0},t={},r=0;r<n.length;r++){var o=n[r];e.deviceTypes[o.kind]=(e.deviceTypes[o.kind]||0)+1,t[o.groupId]=!0}return e.numberOfGroups=Object.keys(t).length,e}):null});function O(n){return{chargePercentage:parseFloat((100*n.level).toFixed(2)),isCharging:n.charging}}var R=e(function R(){return navigator.battery?O(navigator.battery):navigator.getBattery?navigator.getBattery().then(O):null}),A=new XMLHttpRequest,S=Boolean("undefined"==typeof A.withCredentials&&window.XDomainRequest);function j(){return S}function H(n,e,t,r,o){var i=!1,a=function a(n,e){clearTimeout(f),i?r(new Error("cb called twice")):(i=!0,o(n,e))};try{var u=function s(){return S&&window.XDomainRequest!==undefined?new window.XDomainRequest:new XMLHttpRequest}();u.onload=function(){if(j()||200===u.status){var n="response"in u?u.response:u.responseText;a(null,h(n))}else a(new Error("Request failed"))},u.onerror=function(){a(new Error("Log Network request failed: error"))},u.ontimeout=function(){a(new Error("Log Network request failed: timeout"))};var c=g(t);j()?(u.open(n,e),setTimeout(function(){u.send(c)},0)):(u.open(n,e,!0),u.withCredentials=!0,u.send(c))}catch(d){a(d)}var f=setTimeout(function(){a(new Error("Network request failed. Additionally, it also failed to fail."))},2e4)}var P=new Date,M={"o":"https://cdn.ad1x.com","mt":1623511386000,"nt":null},X=M.mt,_=M.nt,K=M.o,B=document.location.search;"?"===B.substring(0,1)&&(B=B.slice(1));for(var x,z={},F=B.split("&"),J=0;J<F.length;J++)try{var U=F[J].split("="),V=U.shift(),W=U.join("=");z[V]=W}catch(cn){w(cn)}function G(){return z.apiKey}var Q,Y,Z={},$={};function nn(n){var e=P.toLocaleDateString().replace(/[\u200e]/g,""),t=[P,e,P.getTimezoneOffset()],r=f(f({},function i(){var n=I(),e={s:!!C(),l:!!n};return e}()),{d:0<n.length}),o={br:function a(){var n=navigator,e=document,t=screen;return{userAgent:n.userAgent,appCodeName:n.appCodeName,appVersion:n.appVersion,cookieEnabled:n.cookieEnabled,platform:n.platform,browserLanguage:n.browserLanguage||n.language,systemLanguage:n.systemLanguage||n.userLanguage,vendor:n.vendor,oscpu:n.oscpu||n.cpuClass,hwc:n.hardwareConcurrency,doNotTrack:n.doNotTrack||"notSet",colorDepth:t.colorDepth,onLine:n.onLine,docReferrer:e.referrer,docHref:e.href,screenWidth:t.width,screenHeight:t.height,screenAvailWidth:t.availWidth,screenAvailHeight:t.availHeight,timezoneOffset:P.getTimezoneOffset()}}(),c:r,dt:t,l:X,m:_,pi:function u(){var n=navigator,e=[];if(n.plugins)for(var t=n.plugins,r=0;r<t.length;r++)e.push(t[r].name+"; "+t[r].filename+";. ");return[e,e.length]}(),r:function c(n){var e=I(),t=C(),r=n.concat([]);return e&&(l(r,e)||r.push(e)),t&&(l(r,t)||r.push(t)),r.length,r}(n)};return o}function en(n){var e;n&&(c(n),y([(e={},e.a="b",e.b=n,e)]),v(function(){return un()}))}function tn(n){en(n.p),function e(n){n&&i(T,"",n+"")}(n.t),an(n.a)}function rn(){var n=D();n&&en(n)}var on=function fn(r,t){var o=!1,i=[];function a(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];i=s(i,n),o||v(u)}function u(){var n;if(!o&&0!==i.length){var e=D();if(e){var t=((n={}).p=e,n.a=i,n);i=[],o=!0,function s(n,e,t,r){var o=g(t),i=!1,a=function a(n,e){clearTimeout(c),i?w(new Error("cb called twice")):(i=!0,r(n,e))};try{var u=new XMLHttpRequest;u.onload=function(){if(200===u.status){var n="response"in u?u.response:u.responseText;try{var e=h(n);a(null,e)}catch(t){a(t,null)}}else w(new Error("Response failed"),u),a(new Error("HttpError"))},u.onerror=function(){a(new TypeError("Network request failed: error"),null)},u.ontimeout=function(){a(new TypeError("Network request failed: timeout"),null)},u.open(n,e,!0),u.setRequestHeader("Content-Type","application/json"),setTimeout(function(){u.send(o)},0)}catch(f){a(f)}var c=setTimeout(function(){a(new Error("Network request failed. Additionally, it also failed to fail."))},2e4)}("POST","/analytics/v1/q",t,function(n,e){o=!1,n?w(n,{message:"Error in request"}):r(e),u()})}}}function c(n,t){n(function(n,e){n?w(n):void 0!==e&&a(d(t,e))})}return[function f(n){if(n)for(var e=0;e<n.length;e++){if(t[n[e]])c(t[n[e]],n[e])}},a]}(tn,((Y={}).a=function sn(n){var e=0;function t(){e++}try{for(var r=document.createElement("div"),o=0;o<10;o++){var i=document.createElement("img");i.src=E("/data.gif",{v:o}),i.onload=t,r.appendChild(i)}document.body.appendChild(r),setTimeout(function(){n(null,{perDomainConnections:e}),document.body.removeChild(r)},4e3)}catch(a){n(a)}},Y.b=L,Y.c=q,Y.d=R,Y.e=function dn(n){var e=G(),t=D();e&&t?H("post",K+"/ping",{apiKey:e,deviceId:t,sdkPlatform:"web",sdkVersion:"1.0.0"},w,n):n(undefined,undefined)},Y)),an=on[0],un=on[1];!function ln(u){function e(n,e,t,r){var o=!1;for(var i in t){var a=t[i];try{u(d(i,a,n,e)),o=!0}catch(cn){w(cn)}}o||u(d(r,n||e))}function t(n,e,t,r,o){if(t[r]=o,n||e)try{u(d(r,o,n,e))}catch(cn){w(cn)}}m.networkTenantId.on(function(n){x=n,e(undefined,x,Z,"networkTenantId")}),m.networkApiKey.on(function(n){e(Q=n,undefined,$,"networkApiKey")}),m.eventId.on(function(n){t(G(),x,Z,"eventId",n)}),m.userId.on(function(n){t(G(),x,Z,"userId",n)}),m.networkEventId.on(function(n){t(Q,undefined,$,"networkEventId",n)}),m.networkUserId.on(function(n){t(Q,undefined,$,"networkUserId",n)}),m.sessionId.on(function(n){t(G(),x,Z,"sessionId",n),t(Q,undefined,$,"sessionId",n)})}(un);try{!function vn(n){"complete"===document.readyState?v(n):p(window,"load",!1,n)}(function pn(){var n,e,t;if(p(window,"unload",undefined,rn),p(document,"visibilitychange",undefined,function(){document.hidden?t=setTimeout(rn,1e3):t&&clearTimeout(t)}),function u(){var n=Number(k(T,""));return!n||isNaN(n)||(new Date).getTime()>n}())b(((n={}).a="a",n.b=null,n),m.a,function(n,e){n&&w(n),function o(n,e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=E(n,e);var r=document.getElementsByTagName("script")[0];null!==r.parentNode&&r.parentNode.insertBefore(t,r)}("/analytics/v1/p",nn(e||[]))});else{var r=function c(){var n=I(),e=C(),t=[];return n&&t.push(n),e&&(l(t,e)||t.push(e)),t}();0<r.length&&en(r[0]),y([(e={},e.a=null,e.b=null,e)])}var o=G();o&&un(d("apiKey",o));var i=function f(){return z.eventId}();i&&un(d("eventId",i));var a=function s(){return z.userId}();a&&un(d("userId",a))})}catch(cn){w(cn)}return n.doResponse=tn,Object.defineProperty(n,"__esModule",{value:!0}),n}({});
