!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){t.exports=class{constructor(t){this.app=t}addHook(t,e,i=0){{const n=0!==i;this.app[t].push(a=>{const o=[];return o.push(new Promise((i,o)=>{setTimeout(()=>{try{this.app.log(`${t} hook ${this.constructor.name} start`),n?((a=a||[]).push(i),e.apply(this,a)):(e.apply(this,a),i())}catch(e){this.app.log(`${t} hook ${this.constructor.name} error: ${e.message}`),o(e)}},0)})),n&&o.push(new Promise(t=>{setTimeout(()=>{t()},i)})),Promise.race(o)})}}}},function(t,e,i){const n=i(0),a={undefined:-1,desktop:1,mobile:2,tablet:3,smarttv:4};t.exports=class extends n{constructor(t){super(t),this.app.isDisabledBySmartDoubleClick=!1,this.addHook("afterInitHooks",this._init)}_init(){this.groups=this.app.getWidgetValue("doubleclickParameters",JSON.parse("null")),this.groups&&this.app.isEnabledDoubleClick()&&(this.doubleClickCheckId=0,this.loadedTime=this.app.getCurrentTimestamp(),this.handlers=this._getHandlers(),this.app.onSmartDoubleClickHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.onSmartDoubleClick.handler,this.app.clickHandlerList.onSmartDoubleClick.priority))}_getGroupPercent(t,e,i){let n=0;const a=e.getBoundingClientRect();for(const e in this.handlers){if(!this.handlers[e])continue;const o=this.handlers[e](t,i,a);if(!1===o)return!1;n+=o}return n/Object.keys(t).length}_getGroupElementPercent(t,e,i){return t.hasOwnProperty(e)?(t[e].hasOwnProperty("value")&&i===t[e].value||!!(t[e].hasOwnProperty("min")&&i>=t[e].min&&i<=t[e].max))&&t[e].percent:0}_getDoubleClickPercent(t,e){for(const i in this.groups){if(!this.groups[i])continue;const n=this._getGroupPercent(this.groups[i],t,e);if(!1!==n)return this.doubleClickCheckId=i,n}return this.doubleClickCheckId=0,0}_onClick(t,e){const i=this.app.random(1,100);return this.app.doubleClickPercent=this._getDoubleClickPercent(t,e),this.app.isDisabledBySmartDoubleClick=this.app.doubleClickPercent<i,this.app.doubleClickCheckId=this.app.isDisabledBySmartDoubleClick?0:this.doubleClickCheckId,!0}_getHandlers(){return[t=>this._getGroupElementPercent(t,"device",a[this.app.deviceType]||""),t=>this._getGroupElementPercent(t,"browser",this.app.browserId),t=>this._getGroupElementPercent(t,"click_time",this.app.getCurrentTimestamp()-this.loadedTime),t=>this._getGroupElementPercent(t,"width",this.app.root.offsetWidth),t=>this._getGroupElementPercent(t,"height",this.app.root.offsetHeight),t=>this._getGroupElementPercent(t,"click_y",this.app.root.mouseY),t=>this._getGroupElementPercent(t,"click_x",this.app.root.mouseX),t=>this._getGroupElementPercent(t,"hw_ratio",this.app.root.offsetHeight/this.app.root.offsetWidth),(t,e)=>this._getGroupElementPercent(t,"borderTop",e.offsetY),(t,e)=>this._getGroupElementPercent(t,"borderLeft",e.offsetX),(t,e,i)=>this._getGroupElementPercent(t,"borderRight",i.width-e.offsetX),(t,e,i)=>this._getGroupElementPercent(t,"borderBottom",i.height-e.offsetY),t=>this._getGroupElementPercent(t,"research",1)]}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t);("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&(this.addHook("afterSendCappingHooks",this._init),this.informerId=this.app.root.getAttribute("id"))}_init(){this.app.isEnabledDoubleClick()&&(this.app.doubleClickTimeLoaded||(this.app.doubleClickTimeLoaded=(new Date).getTime()/1e3),this.app.stylesheetsBlock.add("doubleclickMobile",this._getStyles()),this.app.showDoubleClickButton=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.showMobileDoubleClick.handler,this.app.clickHandlerList.showMobileDoubleClick.priority))}_onClick(t,e){if(this.app.isDisabledBySmartDoubleClick)return!0;this.app.doubleClickType="mobile",this.app.linksBlocked=!1;let i=t;{const t=(new Date).getTime()/1e3,n=this.app.getWidgetValue("mobileDoubleclickDelay",0);if("TrafficmediaCDButton876580"===i.className||!(0===n||t-this.app.doubleClickTimeLoaded<n))return this.app.doubleClickHandler(i,!0),!0;{for(this.app.doubleClickHandler(i),this.app.linksBlocked=!0,e.preventDefault();"A"!==i.tagName&&i.id!==this.informerId;)if(i=i.parentNode,i.id===this.informerId)return;let t=i.getAttribute(this.app.hrefAttr);for(i=e.target;!i.classList.contains("mgline");)i=i.parentNode;const n=i,a=this.app.context.document.createElement("div");a.className="TrafficmediaCDLayout876580",a.style.zIndex=1e5;const o=this.app.context.document.createElement("a"),r=80,s=(1-80/n.offsetHeight)/2*100;let c=n.offsetWidth/r*.98;const p=i.querySelector("a");p&&p.getAttribute("data-hash")&&o.setAttribute("data-hash",p.getAttribute("data-hash")),o.innerHTML=this.app.getTranslation("[GO]"),("string"==typeof t||t instanceof String)&&(t=t+(t.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),o.href=t,o.style.top=s+"%";const l=c>1?(1-r/n.offsetWidth)/2*100:0;o.style.left=l+"%",n.offsetHeight<=100&&(c=.5),c<1&&(o.style.transform="scale3d("+c+","+c+","+c+")",o.style.webkitTransform="scale3d("+c+","+c+","+c+")",o.style.transformOrigin="left",o.style.webkitTransformOrigin="left"),o.target="_blank",o.className="TrafficmediaCDButton876580",a.appendChild(o);const d=n.querySelector(".mgline-inner");d?d.appendChild(a):n.appendChild(a);const h=this.app.getWidgetValue("mobileDoubleclickDelay",0);setTimeout(()=>{c=c<1?c:1,o.style.transform="scale3d("+c+","+c+","+c+")"},h),setTimeout(()=>{a.parentNode.removeChild(a)},1e4)}}}_getStyles(){return'.TrafficmediaCDButton876580{display:       inline-block;width:         170px !important;height:        50px !important;line-height:        50px !important;background-color: RGBA(0,0,0,0);border:        1px solid white;border-radius:        3px;color:         white !important;font:          normal 500 18px/50px "Sans", sans-serif;transform: scale3d(0.0001,0.0001,0.0001);text-align:    center;padding:    0 10px;text-shadow:   none;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.TrafficmediaCDLayout876580{height: 100%;width: 100%;position: absolute;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 99999;}#TrafficmediaCComposite876580 .mgline {position:relative}'}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t);const e="ontouchstart"in window||navigator.msMaxTouchPoints>0,i="addEventListener"in window.document;!e&&i&&(this.addHook("afterSendCappingHooks",this._init),this.informerId=this.app.root.getAttribute("id"))}_init(){this.app.isEnabledDoubleClick()&&(this.app.doubleClickTimeLoaded||(this.app.doubleClickTimeLoaded=(new Date).getTime()/1e3),this.app.stylesheetsBlock.add("desktopDoubleClick",this._getStyles()),this.app.showDesktopDoubleClickButton=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.showDesktopDoubleClick.handler,this.app.clickHandlerList.showDesktopDoubleClick.priority))}_onClick(t,e){if(this.app.isDisabledBySmartDoubleClick)return!0;this.app.linksBlocked=!1,this.app.doubleClickType="desktop";let i=t;const n=parseInt((new Date).getTime()/1e3),a=this.app.getWidgetValue("desktopDoubleclickDelay",0);if("TrafficmediaCDButton876580"===i.className||!(0===a||n-this.app.doubleClickTimeLoaded<a))return this.app.doubleClickHandler(i,!0),!0;{for(this.app.doubleClickHandler(i),e.preventDefault(),this.app.linksBlocked=!0;"A"!=i.tagName&&i.id!=this.informerId;)if(i=i.parentNode,i.id==this.informerId)return!1;let t=i.getAttribute(this.app.hrefAttr);i=e.target;try{for(;!i.classList.contains("mgline");)i=i.parentNode}catch(t){return!1}const n=i,a=n.offsetHeight,o=this.app.context.document.createElement("div");o.className="TrafficmediaCDLayout876580",o.style.zIndex=1e5;const r=this.app.context.document.createElement("a");let s=a/3+2,c=s;r.style.width=s-2+"px",r.style.lineHeight=s-2+"px",r.style.height="33.33%",n.offsetHeight<=100&&(c=80,s=80,r.style.width="80px",r.style.lineHeight="78px",r.style.height="80px");let p=(1-s/n.offsetHeight)/2*100;(()=>{const t=e.clientY-n.getBoundingClientRect().top;p=t<a/2?100*(1-2*s/a)/4+50:100*(1-2*s/a)/4})(),n.offsetHeight<=100&&(p="-34");let l=n.offsetWidth/c*.98;r.innerHTML=this.app.getTranslation("[GO]"),("string"==typeof t||t instanceof String)&&(t=t+(t.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),r.href=t;const d=i.querySelector("a");d&&d.getAttribute("data-hash")&&r.setAttribute("data-hash",d.getAttribute("data-hash")),r.style.top=p+"%";let h=l>1?(1-c/n.offsetWidth)/2*100:0;n.offsetHeight<=100&&(h="45.5"),r.style.left=h+"%",parseFloat(r.style.width)<=50&&(r.style.font="normal 500 12px/"+r.style.width+' "Sans", sans-serif'),n.offsetHeight<=100&&(l=.5),l<1&&(r.style.transform="scale3d("+l+","+l+","+l+")",r.style.webkitTransform="scale3d("+l+","+l+","+l+")",r.style.transformOrigin="left",r.style.webkitTransformOrigin="left"),r.target="_blank",r.className="TrafficmediaCDButton876580",o.appendChild(r);const f=n.querySelector(".mgline-inner");f?f.appendChild(o):n.appendChild(o),setTimeout(()=>{l=l<1?l:1,r.style.transform="scale3d("+l+","+l+","+l+")"},500),setTimeout(()=>{o.parentNode.removeChild(o)},1e4)}}_getStyles(){return'.TrafficmediaCDButton876580{display:       inline-block;width:         170px !important;height:        50px !important;line-height:        50px !important;background-color: RGBA(0,0,0,0);border:        1px solid white;border-radius:        3px;color:         white !important;font:          normal 500 18px/50px "Sans", sans-serif;transform: scale3d(0.0001,0.0001,0.0001);text-align:    center;padding:    0 10px;text-shadow:   none;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.TrafficmediaCDLayout876580{height: 100%;width: 100%;position: absolute;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 100;}#TrafficmediaCComposite876580 .mgline {position:relative}'}}},function(t,e,i){t.exports=i(5)},function(t,e,i){i(6)},function(t,e,i){const n=new(i(7));if(n.canLoad()){i(30),window.TrafficmediaCContextBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.Context="TrafficmediaCContextBlock876580",i(31),window.TrafficmediaCMainBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.Main="TrafficmediaCMainBlock876580";i(32).call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),i(33),window.TrafficmediaCInternalExchangeBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.InternalExchange="TrafficmediaCInternalExchangeBlock876580",i(34),window.TrafficmediaCColorBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.Color="TrafficmediaCColorBlock876580",i(35),window.TrafficmediaCInternalExchangeLoggerBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.InternalExchangeLogger="TrafficmediaCInternalExchangeLoggerBlock876580",i(36),window.TrafficmediaCObserverBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.Observer="TrafficmediaCObserverBlock876580",i(37),window.TrafficmediaCSendDimensionsBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.SendDimensions="TrafficmediaCSendDimensionsBlock876580",i(38),window.TrafficmediaCAntifraudStatisticsBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.AntifraudStatistics="TrafficmediaCAntifraudStatisticsBlock876580",i(40),window.TrafficmediaCRtbBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.Rtb="TrafficmediaCRtbBlock876580",i(41),window.TrafficmediaCIframeSizeChangerBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.IframeSizeChanger="TrafficmediaCIframeSizeChangerBlock876580",i(42),window.TrafficmediaCContentPreviewBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.ContentPreview="TrafficmediaCContentPreviewBlock876580",i(43),window.TrafficmediaCGradientBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.Gradient="TrafficmediaCGradientBlock876580",i(44),window.TrafficmediaCResponsiveBlock876580.call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks.Responsive="TrafficmediaCResponsiveBlock876580";let t=!0;const e="mg_loaded_563975_876580";window[e],0,t&&(window[e]=!0,window[e]=!0,n.lifeCycle.run())}},function(t,e,i){const n=i(8),a=i(9);t.exports=class{canLoad(){const t=this._getVersion();return null!=t&&(this._loadVersion(t),!0)}_getVersion(){const t=this._getMgID(),e=this._getCodes();if(null!=t){if(parent.window.document.getElementById(e[9]))return 9;if(parent.window.document.getElementById(e[10]))return 10}else{if([this._getCodes(876580)[9],this._getCodes(876580)[9],this._getCodes(876580)[10],this._getCodes(876580)[10]].filter(t=>document.getElementById(t))[0])return 11}if(document.getElementById(e[3]))return 3;if(document.getElementById(e[4]))return 4;if(null!=t){if(parent.window.document.getElementById(e[5]))return 6;if(parent.window.document.getElementById(e[7]))return 8}else{const t="G107750",e=["TrafficmediaScriptRoot"+t,"M563975ScriptRoot"+t].filter(t=>document.getElementById(t))[0];if(e)return this.mgRootID=e,11}return document.getElementById(e[1])?1:document.getElementById(e[2])?2:void 0}_loadVersion(t){+t<=4?this._loadVersion1To4(t):+t<=8?this._loadVersion5To8(t):+t<=10?this._loadVersion9To10(t):11==+t&&(null!=this.mgRootID?this._loadVersion11(this.mgRootID):this._loadVersion11WithWidgetID())}_loadVersion11WithWidgetID(){const t=this._getUniqID(),e=""!==t?"_"+t:"";let i=null;if([[this._getCode(10,876580),876580],[this._getCode(10,876580),876580],[this._getCode(9,876580),876580],[this._getCode(9,876580),876580]].some(([t,e])=>{if(document.getElementById(t))return i=e,!0}),!window.document.getElementById(this._getCode(3,i))||!window.document.getElementById(this._getCode(4,i))){const t=[this._getCode(9,i),this._getCode(10,i)].filter(t=>window.document.getElementById(t))[0],n=this._getCode(3,i+e)+e;this._setDivs({id:n,rootID:t,newRootID:t+e})}this._setPreloadBlockId(i,e);const n=[this._getCode(3,i+e)+e,this._getCode(4,i+e)+e].filter(t=>document.getElementById(t))[0];this._loadApp({id:n,containerID:i+e,version:11})}_loadVersion11(t){const e=this._getCode(1);this._setDivs({id:e,rootID:t});const i=[0,0,0,107750].filter(t=>t)[0];this._loadApp({id:e,containerID:i,version:11})}_loadVersion1To4(t){const e=t<=2,i=this._getCode(t);document.getElementById(i).innerHTML="",this._loadApp({id:i,version:t,fallback:e,containerID:0})}_loadVersion5To8(t){const e=this._getCode(1),i=this._getCode(t),n=parent.window;this._setDivs({id:e,rootID:i,context:n}),this._loadApp({id:e,version:t,context:n})}_loadVersion9To10(t){const e="_"+this._getUniqID(),i=this._getCode(t),n="TrafficmediaComposite876580"+e,a=parent.window;this._setPreloadBlockId(this._getMgID(),e),this._setDivs({id:n,rootID:i,context:a,newRootID:i+e}),this._loadApp({id:n,version:t,context:a,containerID:this._getMgID()+e})}_loadApp({id:t,context:e=window,fallback:i=!1,containerID:o=this._getMgID(),uniqID:r=this._getUniqID(),version:s}){this.widget=new n(t,e,i,o,r,s),this.lifeCycle=new a(this.widget),window.TrafficmediaInfC876580=this.widget}_setDivs({rootID:t,id:e,context:i=window,newRootID:n=null}){const a=i.document.getElementById(t),o=i.document.createElement("div");o.id=e,a.appendChild(o),n&&(a.id=n)}_setPreloadBlockId(t,e){const i=["TrafficmediaPreloadC"+t,"M563975PreloadC"+t].filter(t=>{try{return parent.window.document.getElementById(t)}catch(e){return window.document.getElementById(t)}})[0];if(i)try{parent.window.document.getElementById(i).id=i+e}catch(t){window.document.getElementById(i).id=i+e}}_getUniqID(){return this.uniqID||(this.uniqID=window.uniqId||("00000"+Math.round(1e5*Math.random()).toString(16)).slice(-5)),this.uniqID}_getCodes(t=null){const e=t||this._getMgID();return{1:"Trafficmedia0",2:"M563975Widget0",3:"TrafficmediaComposite876580",4:"M563975Composite876580",5:"TrafficmediaScriptRootG"+e,6:"TrafficmediaScriptRootG"+e,7:"M563975ScriptRootG"+e,8:"M563975ScriptRootG"+e,9:"TrafficmediaScriptRootC"+e,10:"M563975ScriptRootC"+e}}_getCode(t,e=null){return this._getCodes(e)[t]}_getMgID(){return void 0===this.mgID&&(document.getElementById("MG_ID")?this.mgID=document.getElementById("MG_ID").innerHTML:this.mgID=null),this.mgID}}},function(t,e,i){class n{constructor(t,e,i,a,o,r){if(this.BaseBlockClass=n,this.app=this,this.context=e,this.root=this.context.document.getElementById(t),this.containerId=a,this.uniqId=o,this.fallbackMode=i,this.page=1,this.iteration=1,this.adlink="",this.template="",this.templateContent="",this.id=876580,this.originalId=876580,this.pvid=0,this.muid="",this.afterPreRenderNewsHooks=[],this.beforeInjectScriptHooks=[],this.beforeInjectTemplateHooks=[],this.beforeLoadNewsHooks=[],this.afterLoadNewsHooks=[],this.afterInjectScriptHooks=[],this.afterPrepareCappingDataHooks=[],this.afterSendCappingHooks=[],this.afterInitHooks=[],this.blocksAddress="",this.tickerPrefix="",this.countLoadBlocks=0,this.preTemplate="",this.postTemplate="",this.banners={},this.loadedDefault=!1,this.teaserHashes={},this.teaserData={},this.json=[],this.servicerData={},this.childWidgetsData=JSON.parse("[]"),this.versionWidget=r,this.sspPerformance=10>=Math.ceil(100*Math.random()),this.doubleClickType="",this.doubleClickCheckId=0,this.doubleClickPercent=0,this.widgetConstructorData=JSON.parse('{"cols":1,"font":"arial","kind":"wages","rows":"3","type":"sidebar-widget","media":{"opacity":80,"duration":1,"minWidth":250,"position":"bottom","minHeight":150,"videoOverlay":1},"mgbox":{"styles":{"maxWidth":1220}},"price":false,"theme":"#3f3f3f","width":"100%","button":1,"mcdesc":{"styles":{"font":"arial","color":"#444444","display":"none","fontSize":11,"fontStyle":"normal","textAlign":"center","fontWeight":"normal","textDecoration":"none"}},"mgline":{"styles":{"borderColor":"#bfbfbf","borderStyle":"solid","borderWidth":1}},"imgType":"super","mcimage":{"size":200,"styles":{"padding":0,"borderColor":"#ffffff","borderStyle":"solid","borderWidth":"1"},"size-width":"492","size-height":"328"},"mcprice":{"show":"true","styles":{"font":"arial","color":"#222222","fontSize":14,"fontStyle":"normal","textAlign":"left","fontWeight":"bold","textDecoration":"none"}},"mctable":{"styles":{"borderColor":"","borderWidth":0,"backgroundColor":"#ffffff"}},"mctitle":{"styles":{"color":"#f52c16","fontSize":17,"fontStyle":"normal","textAlign":"center","fontWeight":"bold","textDecoration":"none"}},"subType":"sidebar-widget-light","mcdomain":{"styles":{"font":"arial","color":"#159417","display":"none","fontSize":12,"fontStyle":"italic","textAlign":"center","fontWeight":"normal","textDecoration":"none"}},"isToaster":1,"colsMobile":1,"isDragDown":1,"previewImg":"\\/\\/cdn.adskeeper.co.uk\\/images\\/draw-widget-preview.jpg","imageFormat":19,"imageShadow":"","textPosition":"bottom","autoplacement":"off","formatChanged":true,"isInterstitial":0,"popupFrequency":15,"mobileWidgetImg":"\\/\\/cdn.adskeeper.co.uk\\/images\\/mobile-widget-preview-adskeeper.png","imageScaleOnHover":"","interstitialAfter":3,"sidebarWidthCorrect":0,"widgetTitleSettings":{"styles":{"font":"arial","color":"#3f3f3f","fontSize":14,"text-transform":"uppercase"}},"frequencyCappingShow":3,"frequencyCappingTime":2,"sidebarScrollPercent":0,"widgetTypeDescription":1}'),this.blankImage='data:image/svg+xml,%3Csvg\n            xmlns="http://www.w3.org/2000/svg"\n            width="492" height="328"\n            viewBox="0 0 492 328"\n            %3E%3C/svg%3E',void 0!==this.widgetConstructorData.mctitle&&void 0!==this.widgetConstructorData.mctitle.styles&&void 0!==this.widgetConstructorData.mctitle.styles.fontSize?this.autoSizeTitle=this.widgetConstructorData.mctitle.styles.fontSize:this.autoSizeTitle=0,this.globalSettings=JSON.parse('{"capping_observer_threshold":"0.5","current_language":"en","timer_toaster_inactivity":"8","widget_lazy_load_margin":"1000","accidental_clicks_delay":"10","ia_page_view_timeout":"180","ia_page_imp_timeout":"180"}'),this.preRenderImageSizes={},this.preRenderTeaserSizes={},this.customBanners=JSON.parse('{"876580":[]}'),this.initServicerRequest=!0,this.clickHandlers=[],this.observerWidgetHooks=[],this.observerTeasersHooks=[],this.sspDoubleClickHash=[],this.requestParams={},this.webProtocol="https:",this.impTrackCapping=[],this.clickHandlerList={onSiteNotificationClick:{handler:"onSiteNotificationHandler",priority:8},onSmartDoubleClick:{handler:"onSmartDoubleClickHandler",priority:10},onAntifraudStatisticsClick:{handler:"onAntifraudStatisticsClickHandler",priority:15},sspDoubleClick:{handler:"sspDoubleClickHandler",priority:20},activateDelayLink:{handler:"activateDelayLinkHandler",priority:30},accidentalClicks:{handler:"accidentalClicksHandler",priority:50},externalCountersLink:{handler:"externalCountersLinkHandler",priority:100},returnedRefreshClick:{handler:"returnedRefreshClickHandler",priority:120},internalExchangeLogger:{handler:"internalExchangeLoggerHandler",priority:150},showDesktopDoubleClick:{handler:"showDesktopDoubleClickButton",priority:150},showMobileDoubleClick:{handler:"showDoubleClickButton",priority:150},hangNiceLinkListener:{handler:"hangNiceLinkListener",priority:200},clickHeatMapElement:{handler:"clickHeatMapElement",priority:400},closeWidgetClick:{handler:"closeWidget",priority:600},refreshNews:{handler:"refreshNewsHandler",priority:700}},this.context.self!==this.context.top){const t=this.context.document.referrer.split("/");this.intExchangeProtocol=0==t[0].indexOf("http")?t[0]:"https:"}else{const t=this.context.document.location.protocol;this.intExchangeProtocol=0==t.indexOf("http")?t:"https:"}this.sourceName="",this.templates=JSON.parse("[]"),this.templateId=0,this.setTemplate('\n<div class="mgbox">\n\x3c!--advertPrefix--\x3e\n    {foreach}\n        <div class="mgline">\n            {if $banner}{$banner}{/if}\n            {if $teaser}\n                                <div class="image-with-text">\n                                        <div class="mcimg">\n                        <a {$target} {$href} >\n                            <div class="image-container">\n                                <img class="mcimg" {$src} />\n                            </div>\n                        </a>\n                    </div>\n                                            <div class="text-elements">\n    <div class="text_on_hover">\n        <div class="mctitle"><a {$target} {$href}>{$title}</a></div>\n                    </div>\n</div>                                    </div>\n            {/if}\n        </div>\n    {/foreach}\n</div>\n'.replace(/[\r\n]/g,"")),this.setStyles(".mgresponsive { display: inherit; } .mgbox { padding: 0 !important; position: relative !important; text-align: center; vertical-align: top !important; margin: 0 auto; border-style: solid; border-width: 0px; border-color: ; background-color: #ffffff; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; line-height: 100% !important; transition: none !important; box-sizing: border-box; } .mgline { position: relative; } .mgline .image-with-text { position: relative; } .mgbox { width: 100px; max-width: 100px; } .mgbox { width: 100%; max-width: 100%; } div.mcimg { padding: 0px; text-align: center; } img.mcimg { border-style: solid; border-color: #ffffff; border-width: 1px; width: 100% !important; height: auto !important; max-width: 492px; max-height: 328px; box-sizing: border-box; display: block; } .mctitle { margin-top: 10px; text-align: center; } .mctitle a { font-weight: bold; font-size: 17px; line-height: 17px; font-style: normal; text-decoration: none; color: #f52c16; font-family: Arial,Helvetica,sans-serif; } .mcdesc { display: none; text-align: center; } .mcdesc a { font-weight: normal; font-size: 11px; line-height: 11px; font-style: normal; text-decoration: none; color: #444444; font-family: Arial,Helvetica,sans-serif; } .mcdomain { display: none; text-align: center; } .mcdomain a { font-weight: normal; font-size: 12px; line-height: 12px; font-style: italic; text-decoration: none; color: #159417; font-family: Arial,Helvetica,sans-serif; padding: 4px; display: block; overflow: hidden; text-transform: capitalize; } .mcdomain a img.mcimgsrc { vertical-align: bottom; margin-bottom: -3px; height: 20px; width: 20px; display: inline-block; } .mgline { background: none repeat scroll 0 0; background-color: #ffffff; cursor: pointer; display: inline-block; overflow: hidden; zoom: 1; display: inline; padding: 0 !important; border-style: solid; border-color: #bfbfbf; border-width: 1px; width: 99%; max-width: 99%; box-sizing: border-box; margin: 10px 0.5%; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; word-wrap: break-word; } .mgline .image-container { position: relative; } .mgline .image-container .mcimgad { position: absolute; right: 0; bottom: 0; width: 20px; height: 20px; } .mgline { vertical-align: top; } .mgline, .mgbox { min-width: 90px; } .mgline[max-width~=\"120px\"] .mcdesc { display: none !important; } @supports not (flex-wrap: wrap) { .mgbox { display: block !important; } .mgline { display: inline-block !important; } } .text-elements a { text-decoration: none; } div.mcprice { text-align: left; } div.mcprice span { font-weight: bold; font-size: 14px; line-height: 14px; font-style: normal; text-decoration: none; color: #222222; font-family: Arial,Helvetica,sans-serif; } div.mgbuybox, div.mgarrowbox { display: true; } div.mgbuybox, div.mgarrowbox { display: inline-block; } div.mcprice { display: block; } span.mcpriceold { text-decoration: line-through !important; } @media (max-width: 480px) { .mgline { width: 48% !important; margin: 1% !important; max-width: 48% !important; } } @media (max-width: 480px) { .mgline { width: 98% !important; margin: 1% !important; max-width: 98% !important; } } img.mcimg { opacity: 1 !important; margin: 0; } .mctitle { margin-top: 2px; line-height: 1 !important; } .mcdesc { margin-top: 0; margin-bottom: 2px; } .mghead { font-family: Arial,Helvetica,sans-serif !important; color: #3f3f3f; font-size: 14px !important; text-transform: uppercase !important; } .mcprice-wrap { position: absolute; display: block; top: 0; left: 0; text-decoration: none; } .mgarrowbox { position: relative; background: #2c73a8; padding-right: 8px; } .mgarrowbox:before { content: \\'\\'; position: absolute; top: 0; right: -10px; border-top: 21px solid transparent; border-bottom: 21px solid transparent; border-left: 10px solid #2c73a8; } .mcprice-wrap_old .mgarrowbox { background: #fff; } .mcprice-wrap_old .mgarrowbox:before { border-left: 10px solid #fff; } .mcdiscount { display: block; color: #fff; font-size: 1.21em; } div.mcprice-cover { display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-wrap: nowrap; -ms-flex-wrap: nowrap; flex-wrap: nowrap; -webkit-align-items: stretch; -moz-box-align: stretch; -ms-flex-align: stretch; align-items: stretch; -webkit-justify-content: flex-start; justify-content: flex-start; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; height: 42px; font-size: 14px; } div.mcprice-cover .mcprice { font-size: 1.29em; color: #fff; } div.mcprice-cover.mcprice-cover_old .mcprice-inner { padding-top: 4px; width: auto; } div.mcprice-cover.mcprice-cover_old .mcprice-val { padding-right: 0; } div.mcprice-cover.mcprice-cover_old .mcprice { margin-bottom: 4px; color: #222222; font-size: 1em; } div.mcprice-cover.mcprice-cover_old + .mcprice-cover { display: none !important; } .mcprice-val, .mcprice-inner { display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; -webkit-align-items: center; -moz-box-align: center; -ms-flex-align: center; align-items: center; -webkit-justify-content: flex-start; justify-content: flex-start; white-space: nowrap; } .mcprice-inner { background: #222; position: relative; padding: 0 2px 0 8px; text-align: center; color: #fff; width: 100%; } .mcprice-inner:before { content: \\'\\'; position: absolute; top: 0; right: -10px; border-top: 21px solid transparent; border-bottom: 21px solid transparent; border-left: 10px solid #ed181d; } .mcprice-inner:after { content: \\'\\'; position: absolute; top: 0; right: -10px; border-top: 21px solid transparent; border-bottom: 21px solid transparent; border-left: 10px solid #222; } .mcprice-val { padding: 2px 10px 0 14px; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; -webkit-justify-content: center; justify-content: center; -webkit-align-items: flex-start; -moz-box-align: start; -ms-flex-align: start; align-items: flex-start; font-weight: bold; font-style: normal; text-align: left; } .mcpriceold { display: block !important; position: relative; width: 100%; font-size: 0.78em; font-weight: inherit; color: #ed181d; } .mcpriceold span { position: relative; } .mcpriceold span:before { content: \\'\\'; height: 1px; background: #ed181d; left: 0; right: 0; top: 50%; margin-top: -1px; position: absolute; } div.mcprice, div.mcriceold { font-weight: bold; font-size: 14px; line-height: 14px; font-style: normal; text-decoration: none; color: #222222; font-family: Arial,Helvetica,sans-serif; } .mgline:hover .mctitle a { color: #3f3f3f; text-decoration: underline !important; } .mgline[max-width~=\"120px\"] .mgarrowbox, .mgline[max-width~=\"120px\"] .mgbuybox { display: none !important; } .mg-slider-overlay { overflow: hidden; position: relative; } .mg-slider-overlay .mg-slider-wrap { min-height: 200px; position: relative; width: 100%; -webkit-transform: translate3D(0, 0, 0); -moz-transform: translate3D(0, 0, 0); -ms-transform: translate3D(0, 0, 0); -o-transform: translate3D(0, 0, 0); transform: translate3D(0, 0, 0); -webkit-transition-duration: 200ms; -moz-transition-duration: 200ms; -ms-transition-duration: 200ms; -o-transition-duration: 200ms; transition-duration: 200ms; } .mg-slider-overlay .mg-slider-wrap .mg-slider-box { left: 0; top: 0; position: absolute; width: 100%; } .mg-pagination { text-align: center; } .mg-pagination .mg-pagination-list { display: inline-block; } .mg-pagination .mg-pagination-item { cursor: pointer; display: inline-block; *display: inline; *zoom: 1; width: 8px; height: 8px; margin: 0 2px; background: #ddd; border-radius: 50%; } .mg-pagination .mg-pagination-item-prev, .mg-pagination .mg-pagination-item-next { background: #f7f7f7; border: 1px solid #cecece; border-radius: 2px; cursor: pointer; display: inline-block; height: 11px; margin: 0 10px; padding: 5px 0; text-align: center; vertical-align: middle; width: 29px; } .mg-pagination .mg-pagination-item-prev:after, .mg-pagination .mg-pagination-item-next:after { background: url(https://images.dable.io/static/i/prevnext2.png?3) no-repeat 0 0; background-size: 17px 11px; content: \"\"; display: inline-block; height: 13px; width: 9px; } .mg-pagination .mg-pagination-item-next:after { background-position: -10px 0; width: 8px; } .mg-pagination .mg-pagination-item-current { background: #508eef; } ".replace(/\\'/g,"'")),this.servicerDomain="servicer.traffic-media.co.uk",this.adBlockStyles="",this.adBlockStyles=this.adBlockStyles.replace(/\((\'|\")?\/\//g,"($1"+this.webProtocol+"//"),this.clickTracking="",this.loadedType="",this.funcBlocks={},this.teaserData={},this.browserId=-1,this.deviceType="desktop",this.hrefAttr="href",this.enabledCooperationTypes=JSON.parse('["wages"]'),this.consentData="",this.cmpEnabled=!1,this.uspString="",this.uspEnabled=!1,this.tcfv2Data="",this.tcfv2Enabled=!1,this.cookieMatchingDomain="cm.adskeeper.co.uk",this.context._mgIntExchangeNews=this.context._mgIntExchangeNews||{},this.iframePlacementType=0,this.networkInformationType="unknown",this.networkInformationEffectiveType="unknown",this.networkInformationSaveData=0,this.ampConsentData="",this.pageUrl="",this.refererUrl="",this.adblockDetectResult=null,this.expressionMap={"||":t=>{for(const e in t)if(this.expressionParser(t[e]))return!0;return!1},"&&":t=>{for(const e in t)if(!this.expressionParser(t[e]))return!1;return!0},"==":t=>this.expressionParser(t[0])==this.expressionParser(t[1]),"!=":t=>this.expressionParser(t[0])!=this.expressionParser(t[1]),"+":t=>this.expressionParser(t[0])+this.expressionParser(t[1]),"-":t=>this.expressionParser(t[0])-this.expressionParser(t[1]),"*":t=>this.expressionParser(t[0])*this.expressionParser(t[1]),"/":t=>this.expressionParser(t[0])/this.expressionParser(t[1]),"%":t=>this.expressionParser(t[0])%this.expressionParser(t[1])}}setStyles(t){this.app.styles=t.replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//")}setTemplate(t){t=(t=(t=t.replace(/^\s*[\r\n]|\s{2,}/gm,"")).replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//")).replace('src="//','src="'+this.app.webProtocol+"//"),this.app.templateText=t.replace('href="//','href="'+this.app.webProtocol+"//")}MarketCutStr(t,e,i){if(t.length<=e)return t;let n=[];n=t.split(" ");let a,o=n[0]+" ";for(let t=1;t<n.length;t++){if(a=o+n[t],a.length>e)return o+(void 0===i||i?"...":"");o+=n[t]+" "}return t}MarketParseStr(t,e){let i,n=[],a="";for(n=t.split(" "),i=0;i<n.length;i++)n[i].length>e&&n[i].search(/&\w+;/)<0?a+=n[i].substr(0,e)+" "+n[i].substr(e)+" ":a+=n[i]+" ";return a}prepareTitle(t){return t=this.app.MarketCutStr(t,75,1)}prepareDesc(t){return t=this.app.MarketCutStr(t,75)}isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}hidePreloadDiv(){if(this.app.fallbackMode)this.app.fallbackMode&&0===this.app.countLoadBlocks&&(this.app.root.innerHTML="",this.app.context.document.getElementById("M563975PreloadC876580")&&(this.app.context.document.getElementById("M563975PreloadC876580").style.display="none"));else{["TrafficmediaPreloadC"+this.app.containerId,"M563975PreloadC"+this.app.containerId,"TrafficmediaPreloadN"+this.app.containerId,"M563975PreloadN"+this.app.containerId].every(t=>{const e=this.app.context.document.getElementById(t);return!e||(e.style.display="none",!1)})}}prerenderNews(t){this.app.root&&t&&(this.app.fallbackMode&&0===this.app.countLoadBlocks&&(this.app.root.innerHTML=""),this.advertLinkBlock.refreshAdvertLink(),t=this.app.advertLinkBlock.parseAdvertLink(t),this.app.addPreRenderTemplate(t))}loadNewsPrestart(t,e){if(this.app.hidePreloadDiv(),this.app.iteration=1,void 0!==e){if(this.app.servicerData=e,void 0!==e.dt&&(this.app.deviceType=e.dt),void 0!==e.brid&&(this.app.browserId=e.brid),this.app.servicerData.templateId=this.app.servicerData.hasOwnProperty("config")&&this.app.servicerData.config.hasOwnProperty("templateId")?this.app.servicerData.config.templateId:0,void 0!==this.app.servicerData&&void 0!==this.app.servicerData.css&&(this.app.styles=this.app.servicerData.css,this.app.stylesheetsBlock.add("split_style",this.app.servicerData.css),this.app.stylesheetsBlock.remove("main")),void 0!==this.app.servicerData&&void 0!==this.app.servicerData.t&&""!==this.app.servicerData.t){const t=this.app.servicerData.t.replace(/\r?\n/g,"");this.app.setTemplate(t)}if(this.app.servicerData.hasOwnProperty("templateId")&&this.app.templates[this.app.servicerData.templateId]&&(void 0===this.app.isElastic||0==this.app.countLoadBlocks)){const e=this.app.context.document.createElement("script");e.type="text/javascript",e.charset="utf-8",e.src=this.app.webProtocol+"//"+this.app.templates[this.app.servicerData.templateId];const i=()=>{let t;const e=this.app.context._mgtemplates;for(t in e)if((e[t].widgetId===this.app.id||e[t].widgetId===this.app.originalId)&&e[t].templateId===this.app.servicerData.templateId)return e[t];return null};this.app.root.parentNode.appendChild(e);let n=5;const a=setInterval(()=>{const e=i();if(null===e){if(--n>=0)return;new Image(0,0).src=this.app.webProtocol+"//c.traffic-media.co.uk/widget-template-timeout?id="+this.app.id}else this.app.templateId=e.templateId,this.app.stylesheetsBlock.remove("main"),this.app.styles=e.styles,this.app.stylesheetsBlock.add("main",e.styles),this.app.setTemplate(e.template);clearInterval(a),this.app.loadNews(t)},this.app.servicerData.tsi||15)}}}loadNews(t){if(void 0!==this.app.updatedJson&&(t=this.app.updatedJson),this.app.isArray(t)){this.app.json=t;let e=this.app.templateFunc(t);if(this.app.root&&e){if(t.length>0&&(e=this.app.advertLinkBlock.parseAdvertLink(e)),this.app.fallbackMode&&0==this.app.countLoadBlocks&&(this.app.root.innerHTML=""),this.app.templateContent=this.app.context.document.createElement("template"),this.app.templateContent.innerHTML="<div>"+this.app.preTemplate+e+this.app.postTemplate+"</div>",void 0===this.app.templateContent.content){const t=this.app.templateContent,e=document.createDocumentFragment(),i=t.childNodes;for(let t=0;t<i.length;t++)e.appendChild(i[t].cloneNode(!0));this.app.templateContent.content=e}this.app.templateContent=this.app.templateContent.content.firstChild;for(let t=0;t<this.app.beforeInjectTemplateHooks.length;t++){const e=this.app.beforeInjectTemplateHooks[t];this.app[e]()}const i=this.app.templateContent.querySelectorAll("img.mcimg");if(i.length>0)for(let t=0;t<i.length;t++)i[t].src=i[t].getAttribute("data-src");this.app.addTemplate(this.app.templateContent),this.app.renderBanners(!0)}}else if(this.app.root&&0==this.app.countLoadBlocks)return void(this.app.root.innerHTML="");if(this.app.servicerData&&this.app.servicerData.muidn&&this.app.servicerData.pvid&&0!=this.app.pvid&&this.app.servicerData.pvid==this.app.pvid)try{this.app.context.localStorage&&this.app.context.localStorage.setItem("mgMuidn",this.app.servicerData.muidn)}catch(t){}this.app.cookieBlock.cookieStorage.page=this.app.page,this.app.cookieBlock.cookieStorage.time=(new Date).getTime(),this.app.cookieBlock.setCookie();const e=this.app.root.getElementsByTagName("a");for(let t=0;t<e.length;t++)e[t].rel="nofollow noopener";this.app.countLoadBlocks++,"function"==typeof this.app.responsiveInit&&this.app.responsiveInit()}addTemplate(t){this.app.root.insertAdjacentElement("beforeend",t)}addPreRenderTemplate(t){this.app.root.insertAdjacentHTML("beforeend",this.app.preTemplate+t+this.app.postTemplate)}getViewportHeight(){const t=this.app.context.document,e=this.app.context,i="documentElement",n="clientHeight",a="clientWidth",o="scrollTop";return this.app.ampRenderBlock.isAmp()?void 0!==e["intersectionRect876580_"+this.uniqId]?{c:e["intersectionRect876580_"+this.app.uniqId].height,s:e["intersectionRect876580_"+this.app.uniqId].y}:{c:e.intersectionRect876580.height,s:e.intersectionRect876580.y}:e.innerWidth?{c:e.innerHeight,s:e.pageYOffset}:t[i]&&t[i][a]?{c:t[i][n],s:t[i][o]}:t.body[a]?{c:t.body[n],s:t.body[o]}:0}renderItem(t,e,i,n){const a=[];void 0!==this.customBanners[this.app.id]&&void 0!==this.customBanners[this.app.id][this.app.iteration]&&this.customBanners[this.app.id][this.app.iteration].length>0&&!n&&(t={html:this.customBanners[this.app.id][this.app.iteration],useSecureIframe:!0});let o="";const r="mgBanner_876580_"+this.app.page+"_"+this.app.iteration;if("html"in t&&!n){t.h&&(this.app.teaserData[t.h]={type:"banner",coopType:"w",imp:void 0!==t.imp?t.imp:[],page:this.app.page,iteration:this.app.iteration,other:{impt:void 0!==t.impt?t.impt:[]}});let e="100%";void 0!==t.width?e=t.width+"px":void 0!==this.app.preRenderTeaserSizes[this.app.iteration-1]&&(e=this.app.preRenderTeaserSizes[this.app.iteration-1].width+"px");let i="100%";void 0!==t.height?i=t.height+"px":void 0!==this.app.preRenderTeaserSizes[this.app.iteration-1]&&(i=this.app.preRenderTeaserSizes[this.app.iteration-1].height+"px");o='<iframe id="'+r+'" scrolling="no" style="'+("width: "+e+"; height: "+i+"; border: 0px; margin: auto; overflow: hidden; position: relative;z-index: 1;")+'"></iframe>',a.push("mgline-banner"),this.app.stylesheetsBlock.add("mgline-banner",".mgline-banner {  display: inline-flex;\n  background: initial;\n  }"),void 0===t.rs&&(t.rs=!1);!1&&(t.rs=!0),t.iteration=this.app.iteration,this.app.banners[r]=t,t=["",this.app.iteration]}if(this.app.isArray(t)){const n=this.app.prepareTeaserData(t);void 0!==n.hash&&void 0!==n.id&&(this.app.teaserHashes[n.id]=n.hash),a.push("teaser-"+n.id),"l"in n.other&&null!=n.other.l.match(/[\?|&]u=/)&&a.push("dsp"),"type"in n.other&&(a.push("type-"+n.other.type),"v"==n.other.type&&a.push("vrline"));const s=t=>t&&0===t.indexOf("//")?this.app.webProtocol+t:t,c=n.price.replace(new RegExp("[^0-9.]"),""),p=n.priceold.replace(new RegExp("[^0-9.]"),"");let l=n.hash;""!==o&&this.app.banners[r]&&this.app.banners[r].h&&(l=this.app.banners[r].h);let d="v"!==n.other.type?this.app.hrefAttr+'="'+this.app.prepareNiceHref(n.hash)+'" data-hash="'+n.hash+'"':"";void 0===n.hash&&(d='onclick="return false"');const h=[[/\{\*.*?\*\}/,""],[/\{\$href\}/g,d],[/\{\$pmc_item\}/,this.app.id],[/\{\$hash\}/g,n.hash],[/\{\$target\}/g,void 0!==n.other.type&&"i"==n.other.type||void 0!==this.app.servicerData.ats&&this.app.servicerData.ats?'target="_top"':'target="_blank"'],[/(class\=\".*?)(mgline)([^\"]*\")/,"$1$2 "+a.join(" ")+'$3 data-i="'+l+'"'],[/(class\=\'.*?)(mgline)([^\']*\')/,"$1$2 "+a.join(" ")+'$3 data-i="'+l+'"'],[/\{\$source\}/g,n.source],[/\{\$src\}/g,'width="492" height="328" data-i="'+n.id+'" data-src="'+s(n.other.i)+'" nopin="nopin"'+(1===n.other.extimg?"":" crossOrigin")],[/\{\$title\}/g,this.app.htmlEntities(n.title)],[/\{\$desc\}/g,this.app.htmlEntities(n.desc)],[/\{\$iteration\}/g,this.app.iteration],[/\$iteration/g,this.app.iteration],[/this\.iteration/g,this.app.iteration],[/\{\$price\}/g,n.price],[/\{\$priceold\}/g,n.priceold],[/\{\$discount\}/g,n.discount],[/\{if \$price\}/g,"{if '' != "+c+"}"],[/\{if !\$price\}/g,"{if '' == "+c+"}"],[/\{if \$priceold\}/g,"{if '' != "+p+"}"],[/\{if \$price != " "\}/g,"{if "+n.price.trim().length+" != 0}"],[/\{if \$price == " "\}/g,"{if "+n.price.trim().length+" == 0}"],[/\$priceold/g,n.priceold],[/\$price/g,n.price],[/\{if \$rep\}/g,"{if p.isReplic}"],[/\{\$banner\}/g,o],[/\{if \$teaser\}/g,"{if '' == '"+o+"'}"],[/\{if \$banner\}/g,"{if '' != '"+o+"'}"],[/\{\$category\}/g,n.other.category||""],[/\{\$cta\}/g,void 0!==n.other.cta?n.other.cta:""],[/\{if \$cta\}/g,"{if '"+(void 0!==n.other.cta?n.other.cta:"")+"' != ''}"],[/\{if !\$cta\}/g,"{if '"+(void 0===n.other.cta?n.other.cta:"")+"' != ''}"],[/\{\$disclaimer\}/g,void 0!==n.other.cdt?n.other.cdt:""],[/\{if \$disclaimer\}/g,"{if '"+(void 0!==n.other.cdt?n.other.cdt:"")+"' != ''}"],[/\{if !\$disclaimer\}/g,"{if '"+(void 0===n.other.cdt?n.other.cdt:"")+"' != ''}"],[/\{\$sourceName\}/g,this.app.sourceName],[/\{\$vd\}/g,void 0!==n.other.vd?this.app.getTimeBySeconds(n.other.vd):""],[/\{\$vv\}/g,void 0!==n.other.vv?n.other.vv:""],[/\{\$vr\}/g,void 0!==n.other.vr?n.other.vr:""],[/\{if \$vd\}/g,"{if '"+(void 0!==n.other.vd?n.other.vd:"")+"' != ''}"],[/\{if \$vv\}/g,"{if '"+(void 0!==n.other.vv?n.other.vv:"")+"' != ''}"],[/\{if \$vr\}/g,"{if '"+(void 0!==n.other.vr?n.other.vr:"")+"' != ''}"]];for(let t=0;t<h.length;t++)e=e.replace(h[t][0],h[t][1]);for(e=e.replace(/\r?\n/g,"");;){const t=/\{if ([^\}]*?)\}(((?!\{(?:\/)?if).)*)\{\/if\}/g;if(e==(e=e.replace(t,(t,e,i)=>this.app.expressionParser(e)?i:"")))break}if(void 0!==n.other.i&&n.other.i.match(/\.mp4/)){const t=/<img class="mcimg" width="(\d+)" height="(\d+)"/.exec(e),i=t?t[1]+"px;":"100%;",n=t?t[2]+"px;":"100%;";e=e.replace(/<img( class="mcimg"[^>]+)/,'<video autoplay loop muted class="mcvideo" $1'),this.app.stylesheetsBlock.add("video","video.mcvideo { border-style: solid;\n  border-color: #ffffff;\n  border-width: 0;\n  width: 100% !important;\n  height: auto !important;\n  max-width: "+i+"\n  max-height: "+n+"\n  box-sizing: border-box;\n  display: block; }")}if(1===n.other.extimg&&this.app.preRenderImageSizes[i]){const t=this.app.preRenderImageSizes[i].width,n=this.app.preRenderImageSizes[i].height;if(0==n||0==t)e=e.replace(/<img( class="mcimg")/,'<img class="mcimg mg-wrong-image"');else{const i={width:t+"px !important",height:n+"px !important","object-fit":"cover","-o-object-fit":"cover","object-position":"top","-o-object-position":"top"};let a="";Object.keys(i).forEach((function(t){a+=t+":"+i[t]+";"})),e=e.replace(/<img( class="mcimg")/,'<img class="mcimg" style="'+a+'"')}}return this.app.iteration++,e}}renderBanners(t,e){for(const i in this.app.banners)if(this.app.banners[i].rs!=t){if(!t){if(this.app.banners[i].iteration!=e)continue;this.app.banners[i].rs=!1}if(!0===this.app.banners[i].isRendered)continue;const n=this.app.root.querySelector("#"+i);let a=this.app.banners[i].html,o=!1;if(this.app.banners[i].clickUrl&&-1!==a.indexOf("${CLICK_PIXEL}")){const t=this.app.allowReturnParams;this.app.allowReturnParams=!0,a=a.replace(/\${CLICK_PIXEL}/g,this.app.banners[i].clickUrl+this.app.getAntifraudQueryParameter(this.app.banners[i].clickUrl)),o=!0,this.app.allowReturnParams=t}-1!==a.indexOf("{page_url}")&&(a=a.replace(/{page_url}/g,this.app.pageUrl)),-1!==a.indexOf("{referrer_url}")&&(a=a.replace(/{referrer_url}/g,this.app.refererUrl));const r='<!DOCTYPE html><html><body style="margin: 0;">'+a+"</body></html>";this.app.banners[i].useSecureIframe?this.app.renderInSafeIframe(n,"banner_"+i,r):(n.contentWindow.document.open(),n.contentWindow.document.write(r),n.contentWindow.document.close()),this.app.banners[i].isRendered=!0,o||(t=>{n.contentWindow.document.body.addEventListener("click",e=>{let i=e.target,n=!1;for(;i.parentElement;){if("A"===i.tagName){n=!0;break}i=i.parentElement}if(n){(new Image).src=this.app.banners[t].clickUrl+this.app.getAntifraudQueryParameter(this.app.banners[t].clickUrl)}},!0)})(i)}}renderLazyBanners(t){"banner"==this.app.teaserData[t].type&&this.app.renderBanners(!1,this.app.teaserData[t].iteration)}renderInSafeIframe(t,e,i){t.sandbox="allow-scripts allow-popups";const n=-1===this.app.context.location.href.indexOf("admin.")&&-1===this.app.context.location.href.indexOf("dashboard.")&&-1===this.app.context.location.href.indexOf("panel.");'{"876580":[]}'.length>0&&n&&(t.sandbox="allow-same-origin allow-scripts allow-popups"),"srcdoc"in t?t.srcdoc=i:(t.src=this.app.webProtocol+"//cdn.traffic-media.co.uk/widgets/framehost.html#"+e,this.app.context.addEventListener("message",n=>{n.origin===this.app.webProtocol+"//cdn.traffic-media.co.uk"&&n.data==="loaded #"+e&&t.contentWindow.postMessage(i,"*")},!1))}sendJsTrackers(t){if(Array.isArray(this.app.teaserData[t].other.jst))for(let e=0;e<this.app.teaserData[t].other.jst.length;e++){let i="<script>window.onerror = function() { return true; };<\/script>";i+=this.app.teaserData[t].other.jst[e];const n=this.app.context.document.createElement("iframe");n.style.display="none",this.app.renderInSafeIframe(n,`${t}_${e}`,i),this.app.root.appendChild(n)}}parseImpTracker(){const t=Object.keys(this.app.teaserData);for(const e in t)if(Array.isArray(this.app.teaserData[t[e]].other.impt))for(let i=0;i<this.app.teaserData[t[e]].other.impt.length;i++)if(1===this.app.teaserData[t[e]].other.impt[i].only_viewable)void 0===this.app.impTrackCapping[t[e]]&&(this.app.impTrackCapping[t[e]]=[]),this.app.impTrackCapping[t[e]].push(this.app.teaserData[t[e]].other.impt[i]);else{const n=this.app.teaserData[t[e]].other.impt[i].code;"i"===this.app.teaserData[t[e]].other.impt[i].type&&this.app.sendCustomCounter(n),"j"===this.app.teaserData[t[e]].other.impt[i].type&&(1===this.app.teaserData[t[e]].other.impt[i].iframe?this.app.sendIframeTracker(t[e],n,i):this.app.sendInlineTracker(t[e],n))}}sendImpTrackCapping(t){if(void 0!==this.app.impTrackCapping[t])for(let e=0;e<this.app.impTrackCapping[t].length;e++)"i"===this.app.impTrackCapping[t][e].type&&this.app.sendCustomCounter(this.app.impTrackCapping[t][e].code),"j"===this.app.impTrackCapping[t][e].type&&(1===this.app.impTrackCapping[t][e].iframe?this.app.sendIframeTracker(t,this.app.impTrackCapping[t][e].code,e):this.app.sendInlineTracker(t,this.app.impTrackCapping[t][e].code))}sendInlineTracker(t,e){const i=this.app.getMglineByHash(t);i.insertAdjacentHTML("beforeend",e);const n=i.childNodes;for(let t=0;t<n.length;t++)if(n[t]instanceof HTMLScriptElement){const e=this.app.context.document.createElement("script");e.src=n[t].src,i.removeChild(n[t]),i.appendChild(e)}}sendIframeTracker(t,e,i){let n="<script>window.onerror = function() { return true; };<\/script>";n+=e;const a=this.app.context.document.createElement("iframe");a.style.display="none",this.app.renderInSafeIframe(a,`${t}_${i}`,n),this.app.root.appendChild(a)}sendCustomCounter(t){const e=document.createElement("img");e.onerror=function(){0},e.src=t+"&mgbuster="+("00000"+Math.round(1e5*Math.random()).toString(16)).slice(-5)}expressionParser(t){for(const e in this.app.expressionMap)if(-1!==t.indexOf(e))return this.app.expressionMap[e](t.split(e));return(t||"").replace(/^([\'|\s]+)|([\'|\s]+)$/g,"")}generateTemplate(t){return this.templateText=t,this.templateFunc=(t,e)=>{if(0===t.length)return void(this.app.ampRenderBlock.isAmp()&&this.context.context.noContentAvailable());const i=/(.*)?\{foreach\}(.*)?\{\/foreach\}(.*)?/.exec(this.app.templateText);if(!i)return;let n=void 0!==i[1]?i[1]:"";for(let a=0;a<t.length;a++)n+=this.app.renderItem(t[a],i[2],a,e);return n+=void 0!==i[3]?i[3]:"",n},!0}getPageCount(){const t=parseInt(0),e=parseInt(20);return t&&e?Math.min(t,e):t||e}init(){if(this.app.widgetPerformancePixel("init"),"object"!=typeof JSON&&(this.app.hidePreloadDiv(),console.log("Unsupported browser")),this.app.canUseShadowDom()){let t=this.app.root;0;try{t.parentNode.attachShadow({mode:"closed"}).appendChild(t)}catch(t){this.app.log("Shadow DOM can\t be attached "+t.message)}}if(this.app.root){this.app.cookieBlock.getCookie();const t=parseInt(this.app.cookieBlock.cookieStorage.page),e=this.app.context.TrafficmediaPageOffset?parseInt(this.app.context.TrafficmediaPageOffset):0;this.app.addClickHandler(this.app.clickHandlerList.hangNiceLinkListener.handler,this.app.clickHandlerList.hangNiceLinkListener.priority),this.app.addEvent(this.app.root,"mouseup",this.app.eventsHangNiceLinkListener),this.app.addEvent(this.app.root,"contextmenu",this.app.eventsHangNiceLinkListener),this.app.addEvent(this.app.root,"touchstart",this.app.eventsHangNiceLinkListener);const i=this.app.getPageCount();if(null!=t&&t<i&&t>0?this.app.page=t+1:(t>i-1||t<1)&&(this.app.page=1+e),(new Date).getTime()-(void 0!==this.app.cookieBlock.cookieStorage.time?this.app.cookieBlock.cookieStorage.time:0)>=6e5&&(this.app.page=1+e),this.app.page||(this.app.page=1),this.app.pageUnlim=this.app.page-1,this.app.cookieBlock.cookieStorage.page=this.app.page,this.app.cookieBlock.setCookie(),!this.app.context.document.cookie){const t=new Date;this.app.page=t.getSeconds()%i+1}if(this.app.blocksAddress=this.app.webProtocol+"//"+this.app.servicerDomain+"/",this.app.clickTracking=void 0!==this.app.context.MGClickTracking?this.app.context.MGClickTracking:"",this.app.adBlockStatement=!1,this.app.adBlockStatement&&this.app.setTemplate("".replace(/[\r\n]/g,"")),!this.app.generateTemplate(this.app.templateText))return;this.app.context.onClickExcludes=this.app.context.onClickExcludes||[],this.app.context.onClickExcludes.push(this.app.root),this.app.adBlockStatement?this.app.stylesheetsBlock.add("adBlockMain",this.app.adBlockStyles):this.app.stylesheetsBlock.add("main",this.app.styles),this.app.addEvent(this.app.root,"click",this.app.widgetClickHandler),this.app.addEvent(this.app.root,"auxclick",this.app.widgetClickHandler),this.app.afterPrepareCappingDataHooks.push("renderLazyBanners"),this.app.afterPrepareCappingDataHooks.push("sendJsTrackers"),this.app.afterPrepareCappingDataHooks.push("sendImpTrackCapping"),this.app.afterLoadNewsHooks.push("parseImpTracker"),this.app.afterInitHooks.push("pageViewPixel"),this.app.afterLoadNewsHooks.push("widgetPerformancePixel")}}resetPage(){this.app.page=1}getMostTopWindow(){let t=this.app.context;for(;t!=t.parent;)try{t.parent.document.body;t=t.parent}catch(t){break}return t}getDevicePixelRatio(){let t=1;void 0!==this.app.context.devicePixelRatio?t=this.app.context.devicePixelRatio:void 0!==this.app.context.screen.systemXDPI&&void 0!==this.app.context.screen.logicalXDPI&&this.app.context.screen.systemXDPI>this.app.context.screen.logicalXDPI&&(t=this.app.context.screen.systemXDPI/this.app.context.screen.logicalXDPI);return t%1==0||(t=t.toFixed(3)),t}getCbusterParameter(){return"cbuster="+(this.app.context.MG_CacheBuster||(new Date).getTime()+""+Math.floor(1e9*Math.random()+1))}injectScript(t,e){this.app.injectionScriptMethod(t,e)}createServicerScriptElement(t,e){const i=this.app.context.document.createElement("script");let n=void 0!==this.app.context.TrafficmediaC876580DisableStart;n||(n=void 0!==this.app.context.mgDisableStart876580),i.type=this.app.initServicerRequest||!n?"text/javascript":"text/plain",i.charset="utf-8",i.referrerPolicy="strict-origin-when-cross-origin";let a=876580;this.app.adBlockStatement&&Object.keys(this.app.childWidgetsData).some(t=>{const e=this.app.childWidgetsData[t];if("1"===e.showMonetizationEnabled&&void 0!==e.childId)return a=e.childId,this.app.requestParams.src_cid="src_cid="+this.app.originalId,!0});const o=t?"fs/":"";let r=this.app.blocksAddress+o;return this.app.initServicerRequest?r=this.app.webProtocol+"//c.traffic-media.co.uk/pv/"+o:r+=a+"/"+e,i.src=r,i}getLocalStorageMuid(){let t=null;try{this.app.context.localStorage&&(t=this.app.context.localStorage.getItem("mgMuidn"))}catch(t){}return t}injectionScriptMethod(t,e){this.app.adBlockStatement&&(void 0===this.app.requestParams.limitads&&(this.app.requestParams.limitads="limitads=3"),this.app.requestParams.adb="adb=1");const i=this.app.createServicerScriptElement(t,this.app.page);if(void 0!==this.app.context.MGi&&(this.app.requestParams.iso="iso="+this.app.context.MGi,this.app.requestParams.token="token=11747213ae6210ce912ad37c230ad32c"),this.app.requestParams.pv="pv=5",void 0!==this.app.context["ampOptions876580_"+this.app.uniqId])try{const t=JSON.parse(this.app.context["ampOptions876580_"+this.app.uniqId]);this.app.requestParams.src_id="src_id="+(void 0!==t.src_id?t.src_id:this.app.sourceName)}catch(t){}this.app.requestParams.cbuster=this.app.getCbusterParameter();if(JSON.parse('["wages"]').indexOf("int_exchange")>=0){let t=this.app.context.document.querySelector('meta[property="og:title"]');if(this.app.context!==this.app.context.top)try{t=this.app.context.parent.document.querySelector('meta[property="og:title"]')}catch(t){}t&&(this.app.requestParams.ogtitle="ogtitle="+encodeURIComponent(t.getAttribute("content")))}""!=this.app.uniqId&&(this.app.requestParams.uniqId="uniqId="+this.app.uniqId),this.app.getActiveChilds().length&&(this.app.requestParams.childs="childs="+this.app.getActiveChilds().join(",")),e&&(this.app.requestParams.rsh="rsh="+e,this.app.requestParams.initial_composite="initial_composite="+this.app.id),void 0!==this.app.context.MG_setRequestNonPersonalizedAds&&1==this.app.context.MG_setRequestNonPersonalizedAds&&(this.app.requestParams.npa="npa=1"),0!=this.app.getInternalIds().length&&(this.app.requestParams.viewedInternalIds="exclude_int_exchange="+this.app.getInternalIds().join(","));const n=this.app.consentsBlock.getConsentData();if(n&&(this.app.requestParams.consentData="consentData="+n.consentData,this.app.requestParams.gdprApplies="gdprApplies="+!!n.gdprApplies),this.app.uspEnabled){let t="";if(""!=this.app.uspString)t=this.app.uspString;else try{if(this.app.context.localStorage){const e=this.app.context.localStorage.getItem("MG_uspString");null!=e&&""!=e&&(t=e)}}catch(t){}this.app.requestParams.uspString="uspString="+t}try{const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;void 0!==t.type&&(this.app.networkInformationType=t.type,this.app.requestParams.nit="nit="+this.app.networkInformationType),void 0!==t.effectiveType&&(this.app.networkInformationEffectiveType=t.effectiveType,this.app.requestParams.niet="niet="+this.app.networkInformationEffectiveType),void 0!==t.saveData&&(this.app.networkInformationSaveData=t.saveData?1:0,this.app.requestParams.nisd="nisd="+t.saveData)}catch(t){}this.app.requestParams.jsv="jsv=es6";let a=i.src;-1==a.indexOf("?")?a+="?":a+="&";const o=[];for(const t in this.app.requestParams)o.push(this.app.requestParams[t]);const r=this.app.context.this!==this.app.context.top;let s=!0,c=!1,p=this.app.context,l=this.app.context;if(r)for(;;){try{p.frameElement&&""!=p.frameElement.src&&(s=!1),p.document.body}catch(t){p=l,c=!0,s=!1;break}if(p==p.parent)break;l=p,p=p.parent}let d="";try{this.app.ampRenderBlock.isAmp()?(this.app.iframePlacementType=3,this.app.pageUrl=void 0!==this.app.context.context.sourceUrl?this.app.context.context.sourceUrl:"",this.app.refererUrl=void 0!==this.app.context.context.referrer?this.app.context.context.referrer:"",d=""!=this.app.pageUrl?this.app.pageUrl:this.app.refererUrl):(this.app.pageUrl=p.document.location.href,this.app.refererUrl=p.document.referrer||"",d=this.app.refererUrl,r&&!s&&(c?this.app.iframePlacementType=2:(d=this.app.pageUrl,this.app.iframePlacementType=1)))}catch(t){this.app.iframePlacementType=2}0!=this.app.iframePlacementType&&o.push("iframe="+this.app.iframePlacementType),o.push("ref="+encodeURIComponent(d)),"function"==typeof this.app.contextUriParse&&o.push("cxurl="+encodeURIComponent(this.app.contextUriParse()));try{if(!sessionStorage.MG_Session_lastUpdate||Number(sessionStorage.MG_Session_lastUpdate)+18e5<Date.now()){const t=this.app.refererUrl.match(/:\/\/([^\/:]+)/i);sessionStorage.MG_Session_pr=t&&t[1]?t[1]:"",sessionStorage.MG_Session_lu=this.app.pageUrl,sessionStorage.MG_Session_Id=Math.round(Date.now()/1e3).toString(16)+"-"+("00000"+Math.round(1e5*Math.random()).toString(16)).slice(-5)}sessionStorage.MG_Session_lastUpdate=Date.now(),sessionStorage&&sessionStorage.MG_Session_pr&&o.push("pr="+encodeURIComponent(sessionStorage.MG_Session_pr)),sessionStorage&&sessionStorage.MG_Session_lu&&o.push("lu="+encodeURIComponent(sessionStorage.MG_Session_lu)),sessionStorage.MG_Session_Id&&o.push("sessionId="+encodeURIComponent(sessionStorage.MG_Session_Id))}catch(t){}this.app.pvid||(this.app.pvid=this.app.generatePvid());let h=0;if(this.app.context.isFBIA876580&&this.app.context.localStorage){const t=this.app.context.localStorage.getItem("_mgPageView563975"),e=this.app.globalSettings.ia_page_view_timeout||180;t&&!((new Date).getTime()-t>1e3*e)||this.app.initServicerRequest||(this.app.context.localStorage.setItem("_mgPageView563975",(new Date).getTime()),h=1),this.app.initServicerRequest&&(this.app.context.localStorage.setItem("_mgPageViewEndPoint563975",(new Date).getTime()),this.app.context.localStorage.setItem("_mgPvidTime",(new Date).getTime()),h=1);const i=this.app.context.localStorage.getItem("_mgPvid");i&&(this.app.pvid=i)}else{const t=this.app.getMostTopWindow();void 0!==t._mgPageView563975||this.app.initServicerRequest||(t._mgPageView563975=!0,h=1),void 0===t._mgPageViewEndPoint563975&&this.app.initServicerRequest&&(t._mgPageViewEndPoint563975=!0,h=1),void 0===t._mgPvid&&this.app.initServicerRequest&&(t._mgPvid=this.app.pvid),void 0!==t._mgPvid&&(this.app.pvid=t._mgPvid)}o.push("pageView="+h),o.push("pvid="+this.app.pvid),this.app.initServicerRequest&&o.push("site=563975"),this.app.context.isFBIA876580?o.push("implVersion=14"):this.app.ampRenderBlock.isAmp()?o.push("implVersion=12"):this.app.yandexTurboBlock.isTurbo()?o.push("implVersion=13"):""!=this.app.versionWidget&&o.push("implVersion="+this.app.versionWidget),o.push("dpr="+this.app.getDevicePixelRatio());const f=this.app.getLocalStorageMuid();f&&(o.push("muid="+f),this.app.muid=f),a+=o.join("&"),i.src=a,this.app.sspPerformance&&(i.onload=()=>{this.app.context.performance.getEntries().map(t=>{if(t.name===a){const e=Math.ceil(t.responseEnd-t.startTime);new Image(0,0).src=this.app.webProtocol+"//c.traffic-media.co.uk/widget-ssp-performance?time="+e}})}),this.app.context.document.head.appendChild(i),i.onerror=()=>{this.app.isAdblock=!0}}getActiveChilds(){return JSON.parse("[]")}addClickHandler(t,e){this.app.clickHandlers.push({handler:t,priority:e}),this.app.clickHandlers.sort((function(t,e){return t.priority<e.priority?-1:1}))}widgetClickHandler(t){t||(t=this.app.context.event),t.target||(t.target=t.srcElement);let e=t.target;if("A"!==e.tagName){e=this.app.getParentLink(e);let i=!1;if("which"in t?i=3===t.which:"button"in t&&(i=2===t.button),!e&&!i){const i=this.app.getParentElWithClass(t.target,"text-elements");if(i){let n=t.target.getElementsByTagName("A");n[0]?e=n[0]:(n=i.getElementsByTagName("A"),n[0]&&(e=n[0]))}if(e)return void e.click()}}if(e&&(e.hasAttribute("data-hash")||e.classList.contains("mg-close-action")))for(let i=0;i<this.app.clickHandlers.length;i++)try{if(!this[this.app.clickHandlers[i].handler](e,t))return}catch(t){this.app.log("Click Handler name: "+this.app.clickHandlers[i].handler+", error: "+t.message)}}start(){this.app.root&&0==this.app.countLoadBlocks&&this.app.injectScript()}defaultComposite(t){0}addEvent(t,e,i){t.addEventListener?"touchstart"!==e&&"touchmove"!==e||!this.app.isPassiveSupported()?t.addEventListener(e,i.bind(this),!1):t.addEventListener(e,i.bind(this),{passive:!0}):t.attachEvent("on"+e,i.bind(this))}removeEvent(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}getMainCssSelector(){return"#"+(this.app.realRoot?this.app.realRoot.id:this.app.root.id)}doubleClickHandler(t,e){e=parseInt(0|e);const i=[],n=new Image(0,0),a=t.getAttribute("data-hash");i.push("url="+encodeURIComponent(t)),i.push("uuid="+this.app.servicerData.rid),i.push("hash="+a),i.push("cid="+this.app.getWidgetValue("id",876580)),i.push("gb_uid="+this.app.getWidgetValue("goodsPartUid",57215532)),i.push("h2="+this.app.servicerData.h2),i.push("type="+this.app.doubleClickType),i.push("checkId="+this.app.doubleClickCheckId),i.push("percent="+this.app.doubleClickPercent),e&&i.push("isOut="+e),n.src=this.app.webProtocol+"//c.traffic-media.co.uk/doubleclick?"+i.join("&")}adBlockDetect(){if(null===this.adblockDetectResult){const t={ABP_NOT_DETECTED:0,ABP_DETECTED:1},e=["banner_ad","sponsored_ad"],i=t=>{const e=this.app.context.document.createElement("div");return e.className=t,e.style.visibility="hidden",e.style.position="absolute",e.innerHTML=".",e.style.padding="1px",this.app.context.document.body.appendChild(e),e},n=t=>!t.offsetHeight,a=t=>{let e;const a=t.length;let o;for(e=0;e<a;e++){o=i(t[e]);const a=n(o);if(this.app.context.document.body.removeChild(o),a)return!0}return!1},o=e=>a(e)?t.ABP_DETECTED:t.ABP_NOT_DETECTED;this.adblockDetectResult=o(e)}return this.adblockDetectResult}isShadowRoot(){try{return"undefined"!==this.app.root.getRootNode&&this.app.root.getRootNode().host}catch(t){return!1}}canUseShadowDom(){this.app.root.parentNode;return Boolean(!1)}getRoot(){return this.app.isShadowRoot()?this.app.root.getRootNode().host:this.app.root.parentElement}getMglineByHash(t){const e=this.app.root.getElementsByClassName("mgline");for(let i=0;i<e.length;i++)if(e[i].getAttribute("data-i")===t)return e[i];return null}pageViewPixel(){const t=this.app.getMostTopWindow();let e=0,i=0;try{e=this.app.context.localStorage.getItem("_mgPageViewEndPoint563975"),i=this.app.context.localStorage.getItem("_mgPvidTime")}catch(t){}const n=this.app.globalSettings.ia_page_view_timeout||180;try{(new Date).getTime()-i>1e3*n&&this.app.context.localStorage&&this.app.context.localStorage.setItem("_mgPvid",this.app.generatePvid())}catch(t){}(new Date).getTime()-e>1e3*n&&void 0===t._mgPageViewEndPoint563975&&(this.app.injectionScriptMethod(),t._mgPageViewEndPoint563975=!0),this.app.initServicerRequest=!1}generatePvid(){return(new Date).getTime().toString(16)+(Math.round(1e9*Math.random())+2147483648).toString(16)}widgetPerformancePixel(t){}}t.exports=n},function(t,e,i){t.exports=class{constructor(t){this.app=t,this.app.lifeCycleBlock=this,this.stage="",this.workInProgress=!1}async run(){this.stage="init",this.workInProgress=!0;try{await this.initBlocks(),await this.execute(()=>{this.app.init()}),await this.execute(()=>{this.app.utils.isMobile()}),await this.processHooks("afterInitHooks");{const t=await this.execute(()=>this.app.preparePrerenderData()),e=await this.execute(()=>this.app.templateFunc(t,!0));await this.execute(()=>{this.app.prerenderNews(e)}),await this.execute(()=>{this.app.calcPreRenderingBlock()},50)}await this.processHooks("beforeInjectScriptHooks"),await this.execute(()=>{this.app.injectScript()}),this.app.initServicerRequest||await this.processHooks("afterInjectScriptHooks")}catch(t){console.log(t)}this.workInProgress=!1}async render(t,e){await this.waitForFree(),this.stage="render",this.workInProgress=!0;try{await this.execute(()=>{this.app.loadNewsPrestart(t,e)}),await this.processHooks("beforeLoadNewsHooks",[t,e]),await this.execute(()=>{this.app.loadNews(t,e)}),await this.processHooks("afterLoadNewsHooks")}catch(t){console.log(t)}this.workInProgress=!1}async initBlocks(){await this.execute(()=>{this.app.cookieBlock=new(i(10))(this.app)}),await this.execute(()=>{this.app.stylesheetsBlock=new(i(11))(this.app)}),await this.execute(()=>{this.app.versionControl=new(i(12))(this.app)}),await this.execute(()=>{this.app.advertLinkBlock=new(i(13))(this.app)}),await this.execute(()=>{this.app.consentsBlock=new(i(14))(this.app)}),await this.execute(()=>{this.app.refreshNewsBlock=new(i(15))(this.app)}),await this.execute(()=>{this.app.countersBlock=new(i(16))(this.app)}),await this.execute(()=>{this.app.blurBlock=new(i(17))(this.app)}),await this.execute(()=>{this.app.subnetsBlock=new(i(18))(this.app)}),await this.execute(()=>{this.app.mgqBlock=new(i(19))(this.app)}),await this.execute(()=>{this.app.smartDoubleClickBlock=new(i(1))(this.app)}),await this.execute(()=>{this.app.mobileDoubleClickBlock=new(i(2))(this.app)}),await this.execute(()=>{this.app.desktopDoubleClickBlock=new(i(3))(this.app)}),await this.execute(()=>{this.app.sspDoubleClickBlock=new(i(20))(this.app)}),await this.execute(()=>{this.app.utils=new(i(21))(this.app)}),await this.execute(()=>{this.app.externalCountersBlock=new(i(22))(this.app)}),await this.execute(()=>{this.app.ampRenderBlock=new(i(23))(this.app)}),await this.execute(()=>{this.app.yandexTurboBlock=new(i(24))(this.app)}),await this.execute(()=>{this.app.antifraudBlock=new(i(25))(this.app)}),"wages".length>0&&await this.execute(()=>{this.app.accidentalClicksBlock=new(i(27))(this.app)}),await this.execute(()=>{this.app.activateDelayBlock=new(i(28))(this.app)}),await this.execute(()=>{this.app.monitorBlock=new(i(29))(this.app)})}async processHooks(t,e){for(let i=0;i<this.app[t].length;i++){const n=this.app[t][i];"string"==typeof n?await new Promise((i,a)=>{setTimeout(()=>{try{this.app.log(`${t} hook ${n} start`),this.app[n].apply(this,e),i()}catch(e){this.app.log(`${t} hook ${n} error: ${e.message}`),i()}},0)}):"function"==typeof n&&await n(e)}}async execute(t,e=0){return new Promise(i=>{setTimeout(()=>{i(t())},e)})}async waitForFree(){return new Promise(t=>{(function e(){this.workInProgress?setTimeout(()=>{e.bind(this)()},50):t()}).bind(this)()})}}},function(t,e,i){t.exports=class{constructor(t){this.app=t,this.cookieStorage={},this.sharedCookieStorage={},this.storageName="TrafficmediaStorage"+(this.app.context.TrafficmediaPageOffset?this.app.context.TrafficmediaPageOffset:"")}getCookieValue(){{const t=this.app.context.document.cookie.match(new RegExp("(?:^|; )"+this.storageName+"=([^;]*)"));let e={};if(t)try{e=JSON.parse(decodeURIComponent(t[1]))}catch(t){}return e}}getCookie(){const t=this.getCookieValue();void 0!==t.C876580?this.cookieStorage=t.C876580:this.cookieStorage={},void 0!==t[0]?this.sharedCookieStorage=t[0]:this.sharedCookieStorage={}}setCookie(){{const t=this.getCookieValue();t.C876580=this.cookieStorage,t[0]=this.sharedCookieStorage;const e=encodeURIComponent(JSON.stringify(t));this.app.context.document.cookie=this.storageName+"="+e+";path=/"}}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this._isIE="undefined"==typeof Proxy,this._stylesDom={},this._isIE||(this._stylesDom=new Proxy(this._stylesDom,{set:(t,e,i)=>{const n=i.container,a=i.style;return t[e]&&delete this._stylesDom[e],this._inject(a,e,n),t[e]=i,!0},has:(t,e)=>(null!==this.app.root.querySelector("style#"+e)||void 0===t[e])&&void 0!==t[e],deleteProperty:(t,e)=>(this._removeFromDom(e),delete t[e],!0)}))}add(t,e,i=null){t+="_"+this.app.uniqId,!this._isIE&&void 0===i&&t in this._stylesDom||""!==(e=(e=(e=(e=e.replace(/((@media|@supports not) \([^(]*\) {)/g,"$1}")).replace(/((?:^|}|,|;)\W*)((?:\w+)?\.(?:mc|mg|row)[\-\w]+)/g,"$1"+this.app.getMainCssSelector()+" $2")).replace(/(((@media|@supports not) \([^(]*\) \{)\})/g,"$2")).replace(/video-cdn\.(.+)\/mgPlayer/g,this.app.currentSubnetDomain))&&(this._isIE?(this._removeFromDom(t),this._inject(e,t,i)):this._stylesDom[t]={style:e,container:i})}remove(t){t+="_"+this.app.uniqId,!this._isIE&&t in this._stylesDom?delete this._stylesDom[t]:this._removeFromDom(t)}_removeFromDom(t){const e=this.app.root.querySelector("#"+t);e&&e.parentNode.removeChild(e)}_inject(t,e,i){if(i){const e=i;if(e.className="TrafficmediaC876580",e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(this.app.context.document.createTextNode(t))}}else{const i=this.app.context.document.createElement("style");i.setAttribute("id",e),i.className="TrafficmediaC876580",i.type="text/css",(void 0!==this.app.realRoot?this.app.realRoot:this.app.root).appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(this.app.context.document.createTextNode(t))}}}},function(t,e,i){t.exports=class{constructor(t){this.app=t,this.initConsoleInfo()}initConsoleInfo(){0}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.addHook("beforeLoadNewsHooks",this.refreshAdvertLink),this.addHook("afterLoadNewsHooks",this.initAdvertPopup)}parseAdvertLink(t){const e="\x3c!--advertPrefix--\x3e",i=t.indexOf(e)>t.length/2;return i&&this.removeElements(this.app.root.getElementsByClassName("mg_addad"+this.app.id)),(i||0===this.app.countLoadBlocks)&&(t=t.indexOf(e)>=0?t.replace(e,this.app.tickerPrefix):this.app.tickerPrefix+t),t}initAdvertPopup(){if(this.app.context.top!==this.app.context.self)return;if("banner"===this.app.widgetConstructorData.type)return;if("exit-pop-up"===this.app.widgetConstructorData.type)return;if(-1===["tablet","desktop"].indexOf(this.app.deviceType))return;if(void 0!==this.app.context._mgDisableAdvertPopup)return;const t=this.app.root.querySelector(".mg_addad"+this.app.id);t&&t.addEventListener("click",t=>{this.showAdvertPopup(t)})}showAdvertPopup(t){const e=this.app.findClosest(t.target,"[data-advert-url]");if(!e)return null;t.preventDefault();const i=(void 0!==this.app.realRoot?this.app.realRoot:this.app.root).parentNode;let n=i.querySelector("._mgAdvertPopupC876580"),a=i.querySelector("._mgPopupInner");var o=function(t,e,i){if(i<=0)return;const n=(e-t.scrollTop)/i*10;setTimeout((function(){t.scrollTop=t.scrollTop+n,t.scrollTop!==e&&o(t,e,i-10)}),10)};if(!n){const t='\n<style>\n    ._mgAdvertPopupC876580 {\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        top: 0px;\n        left: 0px;\n        font-family: "PTSans", Arial, sans-serif;\n        font-size: 16px;\n        color: #696969;\n        line-height: 1.3;\n        z-index: 999;\n\n        -webkit-box-sizing: border-box;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n    }\n    ._mgAdvertPopupC876580 iframe {\n        width: 100%;\n        height: 377px;\n    }\n    ._mgAdvertPopupC876580 ._mgPopupShadow {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background-color: #000;\n        opacity: 0.4;\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n        z-index: 1;\n    }\n    ._mgAdvertPopupC876580 ._mgPopupInner {\n        position: relative;\n        top: 50%;\n        margin-left: -375px;\n        left: 50%;\n        padding: 36px;\n        width: 750px;\n        background-color: #f8f8f8;\n        z-index: 2;\n\n        -webkit-box-sizing: border-box;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n    }\n    ._mgAdvertPopupC876580 ._mgPopupInner.fixPop {\n        position: absolute!important;\n        top: 30px!important;\n        margin-top: 0!important;\n    }\n    ._mgAdvertPopupC876580 ._mgClosePopup {\n        position: absolute;\n        overflow: hidden;\n        top: 5px;\n        right: 5px;\n        height: 21px;\n        width: 21px;\n        text-indent: -9999px;\n        background: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAgMAAADUwp+1AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVmZmZmZmb///+E1CFqAAAAAXRSTlMAQObYZgAAAAFiS0dEAmYLfGQAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAlSURBVAjXY3BgYGEQAEIWBgcGRkYGBgYXIBaA0CA+SBwkD1QHACp2Ae2BHO8IAAAAAElFTkSuQmCC\') no-repeat center center;\n        background-color: transparent;\n    }\n    ._mgAdvertPopupC876580 ._mgClosePopup:hover {\n        background-color: #dfdfdf;\n    }\n</style>\n\n<div class="_mgAdvertPopupC876580">\n    <div class="_mgPopupShadow"></div>\n    <div class="_mgPopupInner">\n        <a href="#" class="_mgClosePopup" title="Close"></a>\n        <iframe frameborder="0"></iframe>\n    </div>\n</div>\n',r=this.app.htmlToElements(t);for(let t=0;t<r.length;t++)i.appendChild(r[t]);if(n=i.querySelector("._mgAdvertPopupC876580"),!n)return!1;a=n.querySelector("._mgPopupInner");const s=n.querySelector("._mgPopupShadow");a.style.marginTop=-a.clientHeight/2+"px",s.addEventListener("click",t=>{null==this.app.findClosest(t.target,"._mgPopupInner")&&n.setAttribute("style","display: none")});const c=n.querySelector("._mgClosePopup");c&&c.addEventListener("click",(function(t){t.preventDefault(),n.setAttribute("style","display: none")}));const p=n.querySelector("iframe");p.setAttribute("src",e.getAttribute("data-advert-url")),this.app.addEvent(this.app.context,"message",t=>{const e=t.message?"message":"data",i=JSON.parse(t[e]);if(void 0===i.target||"correct-popup-height"!==i.target)return!0;p.style.height=i.height+"px",i.safariIPad&&(i.keyboard?(o(this.app.context.document.body,0,500),a.classList.add("fixPop")):a.classList.remove("fixPop")),a.style.marginTop=-a.clientHeight/2+"px"},!1)}n.setAttribute("style","display: block"),a.className.indexOf("fixPop")>=0&&o(this.app.context.document.body,0,500)}refreshAdvertLink(){const t=this.getAdvertLinkValue();if(t)try{let e=this.getAdLinkBlock().replace(/%id/g,this.app.id),i="";i=this.app.getTranslation("[WIDGET_TITLE_YOU_MAY_LIKE]");const n=navigator.language.substr(0,2),a=-1!==["es","vi","hi","ru","uk"].indexOf(n)?n:"";0,e=e.replace("%WIDGET_TITLE%",i),e=e.replace("%lang/",""===a?"":a+"/"),e=e.replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//"),e=e.replace('src="//','src="'+this.app.webProtocol+"//"),e=e.replace('href="//','href="'+this.app.webProtocol+"//");let o="";if(""===o){o=this.app.subnetMirrorsUtm;let t=this.app.context.document.location.hostname;if(this.app.context!==this.app.context.top){const e=this.app.context.document.referrer.match(/:\/\/(.[^/]+)/);null!==e&&(t=e[1])}o=o.replace("{domain}",t)}this.app.tickerPrefix=e.replace(/%utm/,o);const r=document.createElement("div");if(1===t)return;r.innerHTML=this.app.tickerPrefix,2===t&&this.removeElements(r.getElementsByClassName("mg_addad"+this.app.id)),3===t&&(this.removeElements(r.getElementsByClassName("mghead")),this.removeElements(r.getElementsByClassName("mghead"+this.app.id))),this.app.tickerPrefix=r.innerHTML}catch(t){}else this.app.tickerPrefix=""}getAdvertLinkValue(){return parseInt(1)}removeElements(t){for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}getAdLinkBlock(){const t="sidebar-widget";let e="trafficmedia";const i={};return void 0!==i&&void 0!==i[t]&&(void 0!==i[t]["*"]&&(e=i[t]["*"]),void 0!==i[t]["sidebar-widget-light"]&&(e=i[t]["sidebar-widget-light"])),void 0===Object({trafficmedia:'<div class="mgheader"><span class="mghead">%WIDGET_TITLE%</span>\n\t<div class="mg_addad%id widgets_logo%id"><a href="https://www.traffic-media.co.uk" target="_blank"></a></div></div><style>.mghead{font-weight:700;font-size:14px;text-transform:uppercase;text-align:left;font-family: Verdana, sans-serif;color:#4555a7;display:block;margin:0 0 0px 5px;float:left;}.mgheader{min-height:12px; cursor: default; display: table !Important; width: 100% !important;}.widgets_logo%id{position:relative}.widgets_logo%id a{background:url(//cdn.traffic-media.co.uk/images/traffic/traffic_media_widget_gray.svg) no-repeat;width:30px;height:17px;position:absolute;display:block;bottom:-15px;right:7px}.mgbox{margin-bottom:15px!important;}.widgets_logo%id:hover a{background:url(//cdn.traffic-media.co.uk/images/traffic/traffic_media_widget_white.svg) no-repeat;opacity:0.5}</style>\n'})[e]&&(e="trafficmedia"),Object({trafficmedia:'<div class="mgheader"><span class="mghead">%WIDGET_TITLE%</span>\n\t<div class="mg_addad%id widgets_logo%id"><a href="https://www.traffic-media.co.uk" target="_blank"></a></div></div><style>.mghead{font-weight:700;font-size:14px;text-transform:uppercase;text-align:left;font-family: Verdana, sans-serif;color:#4555a7;display:block;margin:0 0 0px 5px;float:left;}.mgheader{min-height:12px; cursor: default; display: table !Important; width: 100% !important;}.widgets_logo%id{position:relative}.widgets_logo%id a{background:url(//cdn.traffic-media.co.uk/images/traffic/traffic_media_widget_gray.svg) no-repeat;width:30px;height:17px;position:absolute;display:block;bottom:-15px;right:7px}.mgbox{margin-bottom:15px!important;}.widgets_logo%id:hover a{background:url(//cdn.traffic-media.co.uk/images/traffic/traffic_media_widget_white.svg) no-repeat;opacity:0.5}</style>\n'})[e]}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.addHook("beforeInjectScriptHooks",this.ampApi,50),this.addHook("beforeInjectScriptHooks",this.tcfv2Api,50),this.addHook("beforeInjectScriptHooks",this.gdprApi,50),this.addHook("beforeInjectScriptHooks",this.ccpaApi,50)}ampApi(){return new Promise((t,e)=>{if(this.app.ampRenderBlock.isAmp())try{this.app.ampConsentData=this.app.context.context.initialConsentValue,this.app.log("Consents. AMP API done."),t()}catch(t){e(t)}else t()})}tcfv2Api(){return new Promise((t,e)=>{if("function"==typeof this.app.context.__tcfapi){this.app.tcfv2Enabled=!0;try{this.app.context.__tcfapi("getTCData",2,(e,i)=>{i?(this.app.tcfv2Data=e,this.app.context.localStorage&&this.app.context.localStorage.setItem("MG_tcfv2Data",JSON.stringify(e)),this.app.log("Consents. TCFv2 API done.")):this.app.log("Consents. TCFv2 API fail."),t()})}catch(t){e(t)}}else t()})}gdprApi(){return new Promise((t,e)=>{if("function"==typeof this.app.context.__cmp){this.app.cmpEnabled=!0;try{this.app.context.__cmp("getConsentData",null,e=>{this.app.consentData=e,this.app.context.localStorage&&this.app.context.localStorage.setItem("MG_ConsentData",JSON.stringify(e)),this.app.log("Consents. TCFv1 API done."),t()})}catch(t){e(t)}}else t()})}ccpaApi(){return new Promise((t,e)=>{if("function"==typeof this.app.context.__uspapi){this.app.uspEnabled=!0;try{this.app.context.__uspapi("getUSPData",1,(e,i)=>{i?(this.app.uspString=e.uspString||"",this.app.context.localStorage&&""!==this.app.uspString&&this.app.context.localStorage.setItem("MG_uspString",this.app.uspString),this.app.log("Consents. CCPA API done.")):this.app.log("Consents. CCPA API fail."),t()})}catch(t){e(t)}}else t()})}getConsentData(){if(this.app.cmpEnabled||this.app.tcfv2Enabled||this.app.ampRenderBlock.isAmp()){let t={consentData:"",gdprApplies:!1};if(this.app.ampRenderBlock.isAmp()&&1===this.app.context.context.initialConsentState)t={consentData:this.app.ampConsentData,gdprApplies:this.app.context.context.initialConsentState};else if(""!==this.app.tcfv2Data&&void 0!==this.app.tcfv2Data.gdprApplies&&void 0!==this.app.tcfv2Data.tcString)t={consentData:this.app.tcfv2Data.tcString,gdprApplies:this.app.tcfv2Data.gdprApplies};else if(""!==this.app.consentData&&void 0!==this.app.consentData.gdprApplies&&void 0!==this.app.consentData.consentData)t=this.app.consentData;else try{if(this.app.context.localStorage){let e=JSON.parse(this.app.context.localStorage.getItem("MG_ConsentData"));null!=e&&void 0!==e.gdprApplies&&void 0!==e.consentData&&(t=e),e=JSON.parse(this.app.context.localStorage.getItem("MG_tcfv2Data")),null!=e&&void 0!==e.gdprApplies&&void 0!==e.tcString&&(t={consentData:e.tcString,gdprApplies:e.gdprApplies})}}catch(t){}return t}return null}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.refreshHashes=[],this.app.addClickHandler(this.app.clickHandlerList.refreshNews.handler,this.app.clickHandlerList.refreshNews.priority),this.app.refreshNewsHandler=t=>{this.clickHandler(t)},this.addHook("beforeLoadNewsHooks",this.updateJsonForRefresh)}clickHandler(t){if(!this.app.getWidgetValue("useRefreshNews",!1)||this.app.getWidgetValue("elastic",!1))return!0;const e=t.getAttribute("data-hash");if("e"===this.app.teaserData[e].coopType){this.refreshHashes.push(e);const t=this.app.createServicerScriptElement(!1,1),i={};for(const t in this.app.teaserData)"e"===this.app.teaserData[t].coopType&&(i[this.app.teaserData[t].id]=1);const n=["exclude_news="+Object.keys(i).join(","),"rsh=1","nn=1","limitads=1","initial_composite="+this.app.id],a=this.app.getActiveChilds().join(",");""!==a&&n.push("childs="+a),""!==this.app.uniqId&&n.push("uniqId="+this.app.uniqId),t.src+="?"+n.join("&"),this.app.context.document.head.appendChild(t)}return!0}updateJsonForRefresh(t,e){if(this.app.getWidgetValue("useRefreshNews",!1)&&!this.app.getWidgetValue("elastic",!1))if(this.app.isArray(t))if(1===e.refresh&&this.refreshHashes.length>0){if(this.app.root.innerHTML="",this.app.stylesheetsBlock.add("main",this.app.styles),this.app.countLoadBlocks=0,0===t.length)return void(this.app.updatedJson=this.app.json);const e=this.app.json;for(let i=0;i<e.length;i++)if(e[i][9]===this.refreshHashes[0]){e[i]=t[0],this.refreshHashes.shift();break}this.app.updatedJson=e}else this.app.updatedJson=t;else this.app.updatedJson=t}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.addHook("afterLoadNewsHooks",this.countersLoad),this.addHook("afterLoadNewsHooks",this.compositeComscoreCountersLoad)}countersLoad(){let t=0;if(parseInt(this.app.id)!==parseInt(876580)){const e=this.app.childWidgetsData[this.app.id];t=e?e.newsWidgetIdPartner:null}}compositeComscoreCountersLoad(){0}}},function(t,e){t.exports=class{constructor(t){this.app=t,this.isIE11=!!window.MSInputMethodContext&&!!document.documentMode,this.app.beforeInjectTemplateHooks.push("smallBlur"),this.app.smallBlur=()=>{this.rendering()}}rendering(){const t=this.app.templateContent.querySelectorAll("[class*=mgline-small-blur]"),e=this.app.templateContent;if(0!==t.length)for(let i=0;i<t.length;i++){const n=t[i],a=t[i].getElementsByClassName("text-elements")[0],o=t[i].getElementsByClassName("mctitle")[0],r=t[i].getElementsByClassName("mcdomain")[0],s=t[i].getElementsByClassName("mcdesc")[0],c=t[i].querySelector("img.mcimg");null!==c&&(this.isIE11?a.style.background="rgba(0,0,0,0.3)":this.app.colorAverage(c).then(t=>{this._createGradient(n,e,t,a),n.style.background="rgb("+t.r+","+t.g+","+t.b+")",this._changeColor(t,o,r,s)}))}}_createGradient(t,e,i,n){const a=new ResizeObserver(()=>{const a=this._blurDirection(t,e);n.style.background=`linear-gradient(${a}, transparent,\n                        rgba(${i.r}, ${i.g}, ${i.b}, 0) 4%,\n                        rgba(${i.r}, ${i.g}, ${i.b}, 0.5) 8%,\n                        rgb(${i.r}, ${i.g}, ${i.b}) 12%`});if(a)a.observe(e);else{const a=this._blurDirection(t,e);let o=a;n.style.background=`linear-gradient(${a}, transparent,\n                        rgba(${i.r}, ${i.g}, ${i.b}, 0) 4%,\n                        rgba(${i.r}, ${i.g}, ${i.b}, 0.5) 8%,\n                        rgb(${i.r}, ${i.g}, ${i.b}) 12%`,window.addEventListener("resize",()=>{this._blurDirection(t,e)!==o&&(n.style.background=`linear-gradient(${a}, transparent,\n                        rgba(${i.r}, ${i.g}, ${i.b}, 0) 4%,\n                        rgba(${i.r}, ${i.g}, ${i.b}, 0.5) 8%,\n                        rgb(${i.r}, ${i.g}, ${i.b}) 12%`),o=this._blurDirection(t,e)})}}_blurDirection(t,e){const i=/\bmgline-small-blur-[^\s]*\b/.exec(t.classList.value);let n="to bottom";return!this.app.context.matchMedia("(max-width: 480px)").matches&&e.offsetWidth>480&&i&&(n="to "+i[0].split("-").pop()),n}_changeColor(...t){const e=t[0],i=t.slice(1),n=.299*e.r+.587*e.g+.114*e.b>186?"#000":"#fff";0!==i.length&&i.forEach(t=>{t&&(t.getElementsByTagName("a")[0].style.color=n)})}_changeFontSize(...t){const e=t[0];t.slice(1).forEach(t=>{if(t){const i=22;let n;n="to bottom"===e||"to top"===e?this.app.autoSizeTitle-Math.round(t.offsetHeight/this.app.autoSizeTitle):i-Math.round(t.offsetHeight/i),t.getElementsByTagName("a")[0].style.cssText=`font-size: ${n}px`}})}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.addHook("afterInitHooks",this._init),this.app.currentSubnet=2,this.app.subnetMirrorsImage="",this.app.subnetMirrorsUtm="",this.app.subnetDashboardDomain=""}_init(){const t=[876580];this._childWidgets=JSON.parse("[]"),this._childFuncBlockList=JSON.parse("[]");for(const e in this._childWidgets)this._childWidgets.hasOwnProperty(e)&&t.push(this._childWidgets[e].childId);const e=this._loadSubnets(),i=""!==this.app.uniqId?"_"+this.app.uniqId:"";t.forEach(t=>{this.app.context["mgReject"+t]=this.app.TrafficmediaReject,this.app.context["mgLoadAds"+t+i]=(i,n)=>{const a=e[2];this._loadAds(i,n,t,2,a.mirror)};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n];1!==a.id&&(this.app.context[a.informer_prefix+"CReject"+t]=this.app.TrafficmediaReject,this.app.context[a.informer_prefix+"LoadGoods"+t+i]=(e,i)=>{this._loadAds(e,i,t,a.id,a.mirror)})}})}_loadSubnets(){const t=JSON.parse('{"2":{"id":2,"informer_prefix":"Trafficmedia","mirror":"traffic-media.co.uk","mirrorName":"trafficmedia","imageDomain":"traffic-media.co.uk","dashboardDomain":"dashboard.adskeeper.co.uk","utm":""}}'),e=t[2];return this.app.subnetMirrorsImage=e.imageDomain,this.app.subnetMirrorsUtm=e.utm,this.app.subnetDashboardDomain=this.app.webProtocol+"//"+e.dashboardDomain,t}_loadAds(t,e,i,n,a){if(this.app.id=i,this.app.loadedType="goods",this.app.currentSubnet=n,this.app.currentSubnetDomain=a,this.app.originalId!==this.app.id){if(void 0!==this._childFuncBlockList[this.app.id]){const t=this._childFuncBlockList[this.app.id];this._executeFuncBlock(t)}if(void 0!==this._childWidgets[this.app.id]&&void 0!==this._childWidgets[this.app.id].customFuncBlocks){const t=this._childWidgets[this.app.id].customFuncBlocks;this._executeFuncBlock(t)}}void 0!==this.app.updatePrecalcRect&&this.app.isArray(t)&&t.length!==this.app.getExpectedCountNews()?this.app.updatePrecalcRect(()=>{this.app.loadedType="goods",this.app.currentSubnet=n,this.app.lifeCycleBlock.render(t,e)},t.length):this.app.lifeCycleBlock.render(t,e)}_executeFuncBlock(t){for(const e in t)if(t.hasOwnProperty(e)){const n=t[e];"SmartDoubleClick"===n?this.app.smartDoubleClickBlock=new(i(1))(this.app):"MobileDoubleClick"===n?this.app.mobileDoubleClickBlock=new(i(2))(this.app):"DesktopDoubleClick"===n?this.app.desktopDoubleClickBlock=new(i(3))(this.app):(window[`TrafficmediaC${n}Block876580`].call(window.TrafficmediaInfC876580,window.TrafficmediaInfC876580),window.TrafficmediaInfC876580.funcBlocks[""+n]=`TrafficmediaC${n}Block876580`)}}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.isLongCheck=!1,this._worker=this._createWorker(),this.addHook("afterInitHooks",this._init)}_init(){this.app.context._mgq=this.app.context._mgq||[],void 0===this.app.context._mgqp&&(this.app.context._mgqp=this._worker,this.app.context._mgqt=(new Date).getTime(),this._worker())}_createWorker(){return()=>{const t=this.app.context._mgq.length,e=this.app.context._mgq.slice(0);let i=0;for(let n=0;n<t;n++){const t=e[n];if("function"==typeof this.app.context[t[0]]){try{this.app.context[t[0]].apply(this.app.context,t.slice(1))}catch(t){this.app.log("mgq error: "+t.message)}this.app.context._mgq.splice(n-i,1),i++}}this.app.context._mgqi||(this.app.context._mgqi=this.app.context.setInterval(()=>{this._worker()},5)),this.isLongCheck||(new Date).getTime()-this.app.context._mgqt>1e4&&(this.isLongCheck=!0,this.app.context.clearInterval(this.app.context._mgqi),this.app.context._mgqi=this.app.context.setInterval(()=>{this._worker()},100))}}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.addHook("afterSendCappingHooks",this._onCapping),this.addHook("afterInjectScriptHooks",this._init),this.app.doubleClickType="ssp",this.app.hashTimer=[],this.servicerDoubleClickStatus=!1}_init(){this.app.stylesheetsBlock.add("ssp_doubleclick",this._getStyles());const t=setInterval(()=>{if(!0!==this.servicerDoubleClickStatus){if(!this.app.isEnabledDoubleClick()&&void 0!==this.app.servicerData.dc){this.app.root.querySelectorAll("a[data-hash]").length>0&&(this.app.sspDoubleClickHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.sspDoubleClick.handler,this.app.clickHandlerList.sspDoubleClick.priority),this.servicerDoubleClickStatus=!0)}}else clearInterval(t)},100)}_onClick(t,e){const i=t.getAttribute("data-hash"),n=(new Date).getTime();return i in this.app.hashTimer&&n-this.app.hashTimer[i]>this.app.servicerData.dc||"w"!==this.app.teaserData[i].coopType||"TrafficmediaDButton876580"===t.className?(this.app.doubleClickHandler(t,!0),!0):(this.app.doubleClickHandler(t),e.preventDefault(),this._showButton(t),!1)}_showButton(t){const e=this.app.context.document.createElement("div");e.classList.add("TrafficmediaDLayout876580");const i=t.closest(".mgline");null!==i&&i.appendChild(e);const n=this.app.context.document.createElement("a");n.classList.add("TrafficmediaDButton876580");let a=t.getAttribute("href");("string"==typeof a||a instanceof String)&&(a=a+(a.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),n.href=a,n.setAttribute("data-hash",t.getAttribute("data-hash"));const o=(1-50/i.offsetHeight)/2*100;let r=i.offsetWidth/170*.98;n.style.backgroundImage="url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzggMzgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwb2x5Z29uIHBvaW50cz0iMTIsMjkuMSAyMi4yLDE5IDEyLjEsOC45IDE0LDcgMjYsMTkgMTQsMzEiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utb3BhY2l0eT0iMSI+PC9wb2x5Z29uPjwvc3ZnPg==)",n.style.backgroundPosition="center",n.style.top=o+"%";const s=r>1?(1-170/i.offsetWidth)/2*100:0;r<1&&(n.style.transform="scale3d("+r+","+r+","+r+")",n.style.webkitTransform="scale3d("+r+","+r+","+r+")",n.style.transformOrigin="left",n.style.webkitTransformOrigin="left"),n.target="_blank",e.appendChild(n),setTimeout(()=>{n.style.left=s+"%",n.style.opacity=1},10),setTimeout(()=>{e.parentNode.removeChild(e)},1e4)}_onCapping(){if(void 0!==this.app.sspDoubleClickHash)for(let t=0;t<this.app.sspDoubleClickHash.length;t++)void 0===this.app.hashTimer[this.app.sspDoubleClickHash[t]]&&(this.app.hashTimer[this.app.sspDoubleClickHash[t]]=(new Date).getTime())}_getStyles(){const t={0:{borderColor:"#0a1b53",gradient:"#2b3c84, #0c1b52",fontColor:"#fff"},2:{borderColor:"#010101",gradient:"#111312, #010101",fontColor:"#fff"},3:{borderColor:"#F36729",gradient:"#F79220, #F26B29",fontColor:"#fff"}},e=void 0!==t[2]?t[2]:t[0];let i=".TrafficmediaDButton876580{display:       inline-block;";return i+="width:         168px;height:        48px;background:    -moz-linear-gradient("+e.gradient+");background:    -o-linear-gradient("+e.gradient+");background:    -webkit-linear-gradient("+e.gradient+");background:    linear-gradient("+e.gradient+");border:        1px solid "+e.borderColor+";color:         "+e.fontColor+' !important;font:          normal 700 21px/48px "Zapf Dingbats", sans-serif;opacity: 0;left: -100%;',i+="text-align:    center;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.TrafficmediaDLayout876580{height: 100%;width: 100% !important;position: absolute !important;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 99999;}#TrafficmediaComposite876580 .mgline {position:relative}",i}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.isMobileResult=null}getScroll(){const t=this.getWindow();return{top:t.document.body.scrollTop||t.document.documentElement.scrollTop||0,left:t.document.body.scrollLeft||t.document.documentElement.scrollLeft||0}}getViewportSize(){const t=this.getWindow();return{width:t.innerWidth||t.document.documentElement.clientWidth,height:t.innerHeight||t.document.documentElement.clientHeight}}getRect(t,e){const i=t.getBoundingClientRect(),n={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height?i.height:i.bottom-i.top,width:i.width?i.width:i.right-i.left};if(this.app.context.self!==this.app.context.top){const t=this.getFrame();if(t){const e=t.getBoundingClientRect();n.top+=e.top,n.bottom+=e.top,n.left+=e.left,n.right+=e.left}}if(e){const t=this.getScroll();n.top+=t.top,n.bottom+=t.top,n.left+=t.left,n.right+=t.left}return n}getWindow(){let t=void 0;if(void 0===t){let e=this.app.context;if(this.app.context.parent!=this.app.context.self)try{void 0!==this.app.context.top.document&&(e=this.app.context.top)}catch(t){}t=e}return t}getFrame(){let t=void 0;if(void 0===t)try{for(let t=this.app.context,e=t.frameElement;t.frameElement;t=t.parent)e=t.frameElement;t=frame}catch(e){t=null}return t}isMobile(){if(null===this.isMobileResult){let e=!1;t=navigator.userAgent||navigator.vendor||w.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),this.isMobileResult=e}var t;return this.isMobileResult}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.app.externalCountersLinkHandler=this._externalCountersLinkHandler.bind(this),this._handleExternalCountersListener()}_externalCountersLinkHandler(t){const e=t.getAttribute("data-hash");if(Array.isArray(this.app.teaserData[e].clicktrackers)){const t=this.app.teaserData[e].clicktrackers;if(t.length)for(let e=0;e<t.length;e++){this.app.context.document.createElement("IMG").src=t[e]}}return!0}_handleExternalCountersListener(){this.app.addClickHandler(this.app.clickHandlerList.externalCountersLink.handler,this.app.clickHandlerList.externalCountersLink.priority)}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.ampResized=[],this.isAmp()&&(this.addHook("afterInitHooks",this._ampRenderStart),this.addHook("afterLoadNewsHooks",this._ampResizeHook))}_ampRenderStart(){this.app.context.context.renderStart({width:this.app.precalcRect.width,height:this.app.precalcRect.height})}_askAmpForResize(){const t=this.app.root.getBoundingClientRect();this.app.context.context.requestResize(t.width,t.height).then(()=>{this.ampResizeDenied=!1,this._updateSizeStatement(t.width,t.height)},()=>{this.ampResizeDenied=!0})}_ampResizeHook(){setTimeout(()=>{this._askAmpForResize()},100),void 0===this.ampResizeInterval&&(this.ampResizeInterval=setInterval(()=>{const t=this.app.root.getBoundingClientRect();void 0!==this.ampResizeDenied&&this.ampResizeDenied?this._askAmpForResize():Math.floor(t.width)===this.ampResized.width&&Math.floor(t.height)===this.ampResized.height||this._askAmpForResize()},100))}isAmp(){return void 0!==this.app.context.context&&void 0!==this.app.context.context.data&&void 0!==this.app.context.context.data.widget||void 0!==this.app.context.boundingClientRect876580&&void 0!==this.app.context.intersectionRect876580}_updateSizeStatement(t,e){this.ampResized.width=t,this.ampResized.height=e}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.isTurbo()&&this.addHook("afterLoadNewsHooks",this._executeTurboCallback)}isTurbo(){return null!=this.app.root.parentNode&&void 0!==this.app.root.parentNode.dataset&&void 0!==this.app.root.parentNode.dataset.widget}_executeTurboCallback(){let t=this.app.root.getBoundingClientRect();setInterval(()=>{t=this.app.root.getBoundingClientRect(),this.app.context.parent.postMessage({message:"loading-succeed",height:t.height,width:t.width},"*")},100)}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t);const{Config:e,AntiFraud:n,Integration:a}=i(26);this.addHook("afterLoadNewsHooks",this.hangAFListener),this.addHook("afterInitHooks",this.initAntiFraud),this.app.allowReturnParams=!1;const o=new e({loggerEnabled:!1,logger:"TrafficmediaInfC876580",afShortEnabled:!0,modulePrefix:"TrafficmediaC",informerPrefix:"Trafficmedia",typePrefix:"C",disableCookies:!1,id:this.app.id,context:this.app.context,root:this.app.root,iframePlacementType:this.app.iframePlacementType,propertiesDom:'{"props":{"3":"window.close","13":"window.navigator.taintEnabled","16":"window.EventTarget.toString","18":"window.navigator.appName","20":"window.ApplicationCacheErrorEvent","22":"window.clearImmediate","23":"window.CryptoKey","25":"window.external.AddSearchProvider","32":"window.chrome.search","33":"window.clientInformation.vendor","40":"window.TouchEvent","43":"window.DeviceMotionEvent","46":"window.navigator.webkitGetGamepads","49":"window.Notification","56":"window.BeforeLoadEvent","57":"window.Entity","72":"window.AnalyserNode","74":"window.ArrayBufferView","76":"window.HTMLBaseFontElement","86":"window.self.SharedWorker","87":"window.Touch","91":"window.DOMException.ABORT_ERR","92":"window.Set","98":"window.document.createTouch","138":"window.NaN","139":"window.document.prepend","163":"window.SiteBoundCredential","165":"window.CanvasCaptureMediaStreamTrack"},"rules":{"contains":{"3":["({command:\\"window.close.self\\"})"],"18":["MicrosoftInternetExplorer"],"33":["GoogleInc."]},"not_empty":[13,16,18,20,22,23,25,32,40,43,46,49,56,57,76,86,87,91,92,98,138,139,163,165],"undefined":[25,46,72,74,87]}}',useFingerprint:!0});this.app.antifraud=new n(o),this.app.anura=new a.Anura({widgetPrefix:"TrafficmediaInfC876580",context:this.app.context,loggerEnabled:!1})}initAntiFraud(){this.app.antifraud.initialize()}getAntifraudParams(t,e){return!1===this.app.allowReturnParams?"":(e=e||this.app.context.document.createElement("A"),t=t||this.app.context.document.createEvent("MouseEvent"),this.app.antifraud.generateHash(t,e))}getFrPt(){return this.app.antifraud.getFnPt()}reWriteHref(t,e){t||(t=this.app.context.event),t.target||(t.target=t.srcElement);const i=e["data-hash"]||e.getAttribute("data-hash");void 0!==i&&"A"==e.tagName&&(e[this.app.hrefAttr]=this.app.prepareNiceHref(i,t,e))}linkMouseDown(t){t||(t=this.app.context.event),t.target||(t.target=t.srcElement),this.app.allowReturnParams=!0;let e=t.target;if("A"!==e.tagName&&(e=this.app.getParentLink(e),null==e))return;if(!e.hasAttribute("data-hash"))return;let i=0;parseInt(e["data-rel"])&&(i=parseInt(e["data-rel"])),i>>1&8||(e["data-rel"]=i+16),this.app.antifraudBlock.reWriteHref(t,e)}linkClick(t){t||(t=this.app.context.event),t.target||(t.target=t.srcElement),this.app.allowReturnParams=!0;var e=t.target;if("A"!==e.tagName&&null==(e=this.app.getParentLink(e)))return;if(!e.hasAttribute("data-hash"))return;this.app.antifraudBlock.reWriteHref(t,e);const i=e.getAttribute("data-hash");this.app.teaserData[i]&&["w","e"].indexOf(this.app.teaserData[i].coopType)>-1&&(this.app.servicerData.anura||0)>this.app.random(1,100)&&this.app.anura.send(this.app.antifraudBlock.getSourceId(i,this.app.uid),this.app.antifraudBlock.getQueryParam(e,"pubsrcid"),{composite:876580,showHash:i,resultUrl:"https://c.traffic-media.co.uk/anura"}),this.app.context.setTimeout(()=>{this.app.allowReturnParams=!1,this.app.antifraudBlock.reWriteHref(t,e)},100)}addForesiqScript(t){const e=this.app.antifraudBlock.getSourceId(t,this.app.id),i=this.app.context.document.createElement("script");i.src=this.app.webProtocol+"//c.securepaths.com/js/implement-r.js?sl=1&org=5reyucracrajubrac4um&p="+e+"&a=0&cmp="+this.app.teaserData[t][1]+"&rt=click",this.app.context.document.body.appendChild(i)}buildQueryParams(t){const e=[];for(const i in t)e.push(i+"="+t[i]);return e.join("&")}getSourceId(t,e){{const e="ni",i=57215532;return"e"===this.app.teaserData[t].coopType?e:i}}linkMouseOver(t){t||(t=this.app.context.event),t.target||(t.target=t.srcElement),this.app.allowReturnParams=!0;var e=t.target;if("A"!==e.tagName&&null==(e=this.app.getParentLink(e)))return;if(!e.hasAttribute("data-hash"))return;let i=0;parseInt(e["data-rel"])&&(i=parseInt(e["data-rel"])),i%2!=1&&(e["data-rel"]=i+1),this.app.antifraudBlock.reWriteHref(t,e)}linkMouseMove(t){t||(t=this.app.context.event),t.target||(t.target=t.srcElement),this.app.allowReturnParams=!0;var e=t.target;if("A"!==e.tagName&&null==(e=this.app.getParentLink(e)))return;if(!e.hasAttribute("data-hash"))return;let i=0;parseInt(e["data-rel"])&&(i=parseInt(e["data-rel"])),(i>>1)%2!=1&&(e["data-rel"]=i+2),this.app.antifraudBlock.reWriteHref(t,e)}linkTouchStart(t){this.app.allowReturnParams=!0;var e=t.target;if("A"!==e.tagName&&null==(e=this.app.getParentLink(e)))return;if(!e.hasAttribute("data-hash"))return;let i=0;parseInt(e["data-rel"])&&(i=parseInt(e["data-rel"])),i>>1&2||(e["data-rel"]=i+4),this.app.antifraudBlock.reWriteHref(t,e)}linkTouchEnd(t){t||(t=this.app.context.event),t.target||(t.target=t.srcElement),this.app.allowReturnParams=!0;var e=t.target;if("A"!==e.tagName&&null==(e=this.app.getParentLink(e)))return;if(!e.hasAttribute("data-hash"))return;let i=0;parseInt(e["data-rel"])&&(i=parseInt(e["data-rel"])),i>>1&4||(e["data-rel"]=i+8),this.app.antifraudBlock.reWriteHref(t,e)}fixTimeImageLoaded(){this.app.afImgLoaded||(this.app.afImgLoaded=(new Date).getTime())}getQueryParam(t,e){for(var i="",n=t.search.substring(1).split("&"),a=0;a<n.length;a++){var o=n[a].split("=");if(o[0]===e){i=decodeURIComponent(o[1]);break}}return i}hangAFListener(t){void 0===t&&(t=this.app.root),this.app.addEvent(t,"mousedown",this.linkMouseDown),this.app.addEvent(t,"mouseup",this.linkClick),this.app.addEvent(t,"mouseover",this.linkMouseOver),this.app.addEvent(t,"mousemove",this.linkMouseMove),this.app.addEvent(t,"touchstart",this.linkTouchStart),this.app.addEvent(t,"touchend",this.linkTouchEnd),this.app.antifraud.setWidgetEvents()}}},function(module,exports){module.exports=function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var a in t)e.d(n,a,function(e){return t[e]}.bind(null,a));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,i){"use strict";function n(t){if(null==t||isNaN(t))return"";var e="";0>t&&(e=",",t*=-1);for(var i=parseInt(t,10).toString(8),n=Math.ceil(i.length/2),a=0;a<n;a++)e+=r(i.substr(2*a,2));return e}function a(t){t=t.toString(),t=unescape(encodeURIComponent(t));for(var e,i,n,a,o,r,s,c="ABCDEFGHIJKLMNOPQR$TUVWXYZabcde*ghijklmnopqrstuvwxyz0123456789+/=",p="",l=0;l<t.length;)64,a=(e=t.charCodeAt(l++))>>2,o=(3&e)<<4|(i=t.charCodeAt(l++))>>4,n=t.charCodeAt(l++),r=isNaN(i)?64:(15&i)<<2|n>>6,s=isNaN(n)?64:63&n,p+=c.charAt(a)+c.charAt(o)+c.charAt(r)+c.charAt(s);return p}function o(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcde.ghijklmnopqrstuv0123456789wxyz-_".substr(t,1)}function r(t){return{"00":"A","01":"B","02":"C","03":"D","04":"E","05":"F","06":"G","07":"H",10:"I",11:"J",12:"K",13:"L",14:"M",15:"N",16:"O",17:"P",20:"Q",21:"R",22:"S",23:"T",24:"U",25:"V",26:"W",27:"X",30:"Y",31:"Z",32:"a",33:"b",34:"c",35:"d",36:"e",37:".",40:"g",41:"h",42:"i",43:"j",44:"k",45:"l",46:"m",47:"n",50:"o",51:"p",52:"q",53:"r",54:"s",55:"t",56:"u",57:"v",60:"0",61:"1",62:"2",63:"3",64:"4",65:"5",66:"6",67:"7",70:"8",71:"9",72:"w",73:"x",74:"y",75:"z",76:"-",77:"_",0:"!",1:"*",2:";",3:":",4:"=",5:"+",6:"$",7:"~"}[t]}function s(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=t.length;if(n<=e)return t;var a=i?n-e:0;return t.substr(a,e)}function c(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)}function p(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"f",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"a",(function(){return c})),i.d(e,"d",(function(){return p}))},function(t,e,i){var n,a;!function(o,r,s){"use strict";"undefined"!=typeof window&&i(3)?void 0===(a="function"==typeof(n=s)?n.call(e,i,e,t):n)||(t.exports=a):t.exports?t.exports=s():r.exports?r.exports=s():r.FrPt=s()}(0,this,(function(){"use strict";void 0===Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var t=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var i=[0,0,0,0];return i[3]+=t[3]+e[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=t[2]+e[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=t[1]+e[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=t[0]+e[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]},e=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var i=[0,0,0,0];return i[3]+=t[3]*e[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=t[2]*e[3],i[1]+=i[2]>>>16,i[2]&=65535,i[2]+=t[3]*e[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=t[1]*e[3],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=t[2]*e[2],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=t[3]*e[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]},i=function(t,e){return 32==(e%=64)?[t[1],t[0]]:32>e?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])},n=function(t,e){return 0==(e%=64)?t:32>e?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]},a=function(t,e){return[t[0]^e[0],t[1]^e[1]]},o=function(t){return t=a(t,[0,t[0]>>>1]),t=e(t,[4283543511,3981806797]),t=a(t,[0,t[0]>>>1]),t=e(t,[3301882366,444984403]),a(t,[0,t[0]>>>1])},r=function(r,s){s=s||0;for(var c=(r=r||"").length%16,p=r.length-c,l=[0,s],d=[0,s],h=[0,0],f=[0,0],u=[2277735313,289559509],m=[1291169091,658871167],g=0;g<p;g+=16)h=[255&r.charCodeAt(g+4)|(255&r.charCodeAt(g+5))<<8|(255&r.charCodeAt(g+6))<<16|(255&r.charCodeAt(g+7))<<24,255&r.charCodeAt(g)|(255&r.charCodeAt(g+1))<<8|(255&r.charCodeAt(g+2))<<16|(255&r.charCodeAt(g+3))<<24],f=[255&r.charCodeAt(g+12)|(255&r.charCodeAt(g+13))<<8|(255&r.charCodeAt(g+14))<<16|(255&r.charCodeAt(g+15))<<24,255&r.charCodeAt(g+8)|(255&r.charCodeAt(g+9))<<8|(255&r.charCodeAt(g+10))<<16|(255&r.charCodeAt(g+11))<<24],h=e(h,u),h=i(h,31),h=e(h,m),l=a(l,h),l=i(l,27),l=t(l,d),l=t(e(l,[0,5]),[0,1390208809]),f=e(f,m),f=i(f,33),f=e(f,u),d=a(d,f),d=i(d,31),d=t(d,l),d=t(e(d,[0,5]),[0,944331445]);switch(h=[0,0],f=[0,0],c){case 15:f=a(f,n([0,r.charCodeAt(g+14)],48));case 14:f=a(f,n([0,r.charCodeAt(g+13)],40));case 13:f=a(f,n([0,r.charCodeAt(g+12)],32));case 12:f=a(f,n([0,r.charCodeAt(g+11)],24));case 11:f=a(f,n([0,r.charCodeAt(g+10)],16));case 10:f=a(f,n([0,r.charCodeAt(g+9)],8));case 9:f=a(f,[0,r.charCodeAt(g+8)]),f=e(f,m),f=i(f,33),f=e(f,u),d=a(d,f);case 8:h=a(h,n([0,r.charCodeAt(g+7)],56));case 7:h=a(h,n([0,r.charCodeAt(g+6)],48));case 6:h=a(h,n([0,r.charCodeAt(g+5)],40));case 5:h=a(h,n([0,r.charCodeAt(g+4)],32));case 4:h=a(h,n([0,r.charCodeAt(g+3)],24));case 3:h=a(h,n([0,r.charCodeAt(g+2)],16));case 2:h=a(h,n([0,r.charCodeAt(g+1)],8));case 1:h=a(h,[0,r.charCodeAt(g)]),h=e(h,u),h=i(h,31),h=e(h,m),l=a(l,h)}return l=a(l,[0,r.length]),d=a(d,[0,r.length]),l=t(l,d),d=t(d,l),l=o(l),d=o(d),l=t(l,d),d=t(d,l),("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)+("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)},s={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},c=function(t,e){if(Array.prototype.forEach&&t.forEach===Array.prototype.forEach)t.forEach(e);else if(t.length===+t.length)for(var i=0,n=t.length;i<n;i++)e(t[i],i,t);else for(var a in t)t.hasOwnProperty(a)&&e(t[a],a,t)},p=function(t,e){var i=[];return null==t?i:Array.prototype.map&&t.map===Array.prototype.map?t.map(e):(c(t,(function(t,n,a){i.push(e(t,n,a))})),i)},l=function(t){if(null==navigator.plugins)return t.NOT_AVAILABLE;for(var e=[],i=0,n=navigator.plugins.length;i<n;i++)navigator.plugins[i]&&e.push(navigator.plugins[i]);return d(t)&&(e=e.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}))),p(e,(function(t){var e=p(t,(function(t){return[t.type,t.suffixes]}));return[t.name,t.description,e]}))},d=function(t){for(var e,i=!1,n=0,a=t.plugins.sortPluginsFor.length;n<a;n++)if(e=t.plugins.sortPluginsFor[n],navigator.userAgent.match(e)){i=!0;break}return i},h=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},f=function(){var t=document.createElement("canvas"),e=null;try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(e){}return e||(e=null),e},u=function(t){var e=t.getExtension("WEBGL_lose_context");null!=e&&e.loseContext()},m=[{key:"userAgent",getData:function(t){t(navigator.userAgent)}},{key:"webdriver",getData:function(t,e){t(null==navigator.webdriver?e.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(t,e){t(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||e.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(t,e){t(window.screen.colorDepth||e.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(t,e){t(navigator.deviceMemory||e.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(t,e){t(window.devicePixelRatio||e.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(t,e){t(function(t){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:t.NOT_AVAILABLE}(e))}},{key:"screenResolution",getData:function(t,e){t(function(t){var e=[window.screen.width,window.screen.height];return t.screen.detectScreenOrientation&&e.sort().reverse(),e}(e))}},{key:"availableScreenResolution",getData:function(t,e){t(function(t){if(window.screen.availWidth&&window.screen.availHeight){var e=[window.screen.availHeight,window.screen.availWidth];return t.screen.detectScreenOrientation&&e.sort().reverse(),e}return t.NOT_AVAILABLE}(e))}},{key:"timezoneOffset",getData:function(t){t((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(t,e){return window.Intl&&window.Intl.DateTimeFormat?void t((new window.Intl.DateTimeFormat).resolvedOptions().timeZone):void t(e.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(t,e){t(function(t){try{return!!window.sessionStorage}catch(e){return t.ERROR}}(e))}},{key:"localStorage",getData:function(t,e){t(function(t){try{return!!window.localStorage}catch(e){return t.ERROR}}(e))}},{key:"indexedDb",getData:function(t,e){t(function(t){try{return!!window.indexedDB}catch(e){return t.ERROR}}(e))}},{key:"addBehavior",getData:function(t){t(!(!document.body||!document.body.addBehavior))}},{key:"openDatabase",getData:function(t){t(!!window.openDatabase)}},{key:"cpuClass",getData:function(t,e){t(function(t){return navigator.cpuClass||t.NOT_AVAILABLE}(e))}},{key:"platform",getData:function(t,e){t(function(t){return navigator.platform?navigator.platform:t.NOT_AVAILABLE}(e))}},{key:"doNotTrack",getData:function(t,e){t(function(t){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:t.NOT_AVAILABLE}(e))}},{key:"plugins",getData:function(t,e){"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?e.plugins.excludeIE?t(e.EXCLUDED):t(function(t){var e=[];return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window?e=p(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],(function(e){try{return new window.ActiveXObject(e),e}catch(e){return t.ERROR}})):e.push(t.NOT_AVAILABLE),navigator.plugins&&(e=e.concat(l(t))),e}(e)):t(l(e))}},{key:"canvas",getData:function(t,e){return h()?void t(function(t){var e=Math.PI,i=[],n=document.createElement("canvas");n.width=2e3,n.height=200,n.style.display="inline";var a=n.getContext("2d");return a.rect(0,0,10,10),a.rect(2,2,6,6),i.push("canvas winding:"+(!1===a.isPointInPath(5,5,"evenodd")?"yes":"no")),a.textBaseline="alphabetic",a.fillStyle="#f60",a.fillRect(125,1,62,20),a.fillStyle="#069",a.font=t.dontUseFakeFontInCanvas?"11pt Arial":"11pt no-real-font-123",a.fillText("Cwm fjordbank glyphs vext quiz, ",2,15),a.fillStyle="rgba(102, 204, 0, 0.2)",a.font="18pt Arial",a.fillText("Cwm fjordbank glyphs vext quiz, ",4,45),a.globalCompositeOperation="multiply",a.fillStyle="rgb(255,0,255)",a.beginPath(),a.arc(50,50,50,0,2*e,!0),a.closePath(),a.fill(),a.fillStyle="rgb(0,255,255)",a.beginPath(),a.arc(100,50,50,0,2*e,!0),a.closePath(),a.fill(),a.fillStyle="rgb(255,255,0)",a.beginPath(),a.arc(75,100,50,0,2*e,!0),a.closePath(),a.fill(),a.fillStyle="rgb(255,0,255)",a.arc(75,75,75,0,2*e,!0),a.arc(75,75,25,0,2*e,!0),a.fill("evenodd"),n.toDataURL&&i.push("canvas fp:"+n.toDataURL()),i}(e)):void t(e.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(t){return function(){if(!h())return!1;var t=f(),e=!!window.WebGLRenderingContext&&!!t;return u(t),e}()?void t(function(){try{var t=f(),e=t.getExtension("WEBGL_debug_renderer_info"),i=t.getParameter(e.UNMASKED_VENDOR_WEBGL)+"~"+t.getParameter(e.UNMASKED_RENDERER_WEBGL);return u(t),i}catch(e){return null}}()):void t()}},{key:"adBlock",getData:function(t){t(function(){var t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox";var e=!1;try{document.body.appendChild(t),e=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(t)}catch(t){e=!1}return e}())}},{key:"hasLiedLanguages",getData:function(t){t(function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1}())}},{key:"hasLiedResolution",getData:function(t){t(window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight)}},{key:"hasLiedOs",getData:function(t){t(function(){var t,e=navigator.userAgent.toLowerCase(),i=navigator.oscpu,n=navigator.platform.toLowerCase();if(t=0<=e.indexOf("windows phone")?"Windows Phone":0<=e.indexOf("windows")||0<=e.indexOf("win16")||0<=e.indexOf("win32")||0<=e.indexOf("win64")||0<=e.indexOf("win95")||0<=e.indexOf("win98")||0<=e.indexOf("winnt")||0<=e.indexOf("wow64")?"Windows":0<=e.indexOf("android")?"Android":0<=e.indexOf("linux")||0<=e.indexOf("cros")||0<=e.indexOf("x11")?"Linux":0<=e.indexOf("iphone")||0<=e.indexOf("ipad")||0<=e.indexOf("ipod")||0<=e.indexOf("crios")||0<=e.indexOf("fxios")?"iOS":0<=e.indexOf("macintosh")||0<=e.indexOf("mac_powerpc)")?"Mac":"Other",("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&"Windows"!==t&&"Windows Phone"!==t&&"Android"!==t&&"iOS"!==t&&"Other"!==t&&-1===e.indexOf("cros"))return!0;if(void 0!==i){if(0<=(i=i.toLowerCase()).indexOf("win")&&"Windows"!==t&&"Windows Phone"!==t)return!0;if(0<=i.indexOf("linux")&&"Linux"!==t&&"Android"!==t)return!0;if(0<=i.indexOf("mac")&&"Mac"!==t&&"iOS"!==t)return!0;if((-1===i.indexOf("win")&&-1===i.indexOf("linux")&&-1===i.indexOf("mac"))!=("Other"===t))return!0}return 0<=n.indexOf("win")&&"Windows"!==t&&"Windows Phone"!==t||(0<=n.indexOf("linux")||0<=n.indexOf("android")||0<=n.indexOf("pike"))&&"Linux"!==t&&"Android"!==t||(0<=n.indexOf("mac")||0<=n.indexOf("ipad")||0<=n.indexOf("ipod")||0<=n.indexOf("iphone"))&&"Mac"!==t&&"iOS"!==t||!(0<=n.indexOf("arm")&&"Windows Phone"===t)&&!(0<=n.indexOf("pike")&&0<=e.indexOf("opera mini"))&&((0>n.indexOf("win")&&0>n.indexOf("linux")&&0>n.indexOf("mac")&&0>n.indexOf("iphone")&&0>n.indexOf("ipad")&&0>n.indexOf("ipod"))!=("Other"===t)||void 0===navigator.plugins&&"Windows"!==t&&"Windows Phone"!==t)}())}},{key:"hasLiedBrowser",getData:function(t){t(function(){var t,e=navigator.userAgent.toLowerCase(),i=navigator.productSub;if(0<=e.indexOf("edge/")||0<=e.indexOf("iemobile/"))return!1;if(0<=e.indexOf("opera mini"))return!1;if(("Chrome"==(t=0<=e.indexOf("firefox/")?"Firefox":0<=e.indexOf("opera/")||0<=e.indexOf(" opr/")?"Opera":0<=e.indexOf("chrome/")?"Chrome":0<=e.indexOf("safari/")?0<=e.indexOf("android 1.")||0<=e.indexOf("android 2.")||0<=e.indexOf("android 3.")||0<=e.indexOf("android 4.")?"AOSP":"Safari":0<=e.indexOf("trident/")?"Internet Explorer":"Other")||"Safari"===t||"Opera"===t)&&"20030107"!==i)return!0;var n,a=eval.toString().length;if(37===a&&"Safari"!==t&&"Firefox"!==t&&"Other"!==t)return!0;if(39===a&&"Internet Explorer"!==t&&"Other"!==t)return!0;if(33===a&&"Chrome"!==t&&"AOSP"!==t&&"Opera"!==t&&"Other"!==t)return!0;try{throw"a"}catch(t){try{t.toSource(),n=!0}catch(t){n=!1}}return n&&"Firefox"!==t&&"Other"!==t}())}},{key:"touchSupport",getData:function(t){t(function(){var t,e=0;void 0===navigator.maxTouchPoints?void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints):e=navigator.maxTouchPoints;try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return[e,t,"ontouchstart"in window]}())}},{key:"fontsFlash",getData:function(t,e){return void 0!==window.swfobject?window.swfobject.hasFlashPlayerVersion("9.0.0")?e.fonts.swfPath?void function(t,e){var i="___fp_swf_loaded";window[i]=function(e){t(e)};var n=e.fonts.swfContainerId;!function(t){var e=document.createElement("div");e.setAttribute("id",(void 0).fonts.swfContainerId),document.body.appendChild(e)}(),window.swfobject.embedSWF(e.fonts.swfPath,n,"1","1","9.0.0",!1,{onReady:i},{allowScriptAccess:"always",menu:"false"},{})}((function(e){t(e)}),e):t("missing options.fonts.swfPath"):t("flash not installed"):t("swf object not loaded")},pauseBefore:!0},{key:"audio",getData:function(t,e){var i=e.audio;if(i.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return t(e.EXCLUDED);var n=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==n)return t(e.NOT_AVAILABLE);var a=new n(1,44100,44100),o=a.createOscillator();o.type="triangle",o.frequency.setValueAtTime(1e4,a.currentTime);var r=a.createDynamicsCompressor();c([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],(function(t){void 0!==r[t[0]]&&"function"==typeof r[t[0]].setValueAtTime&&r[t[0]].setValueAtTime(t[1],a.currentTime)})),o.connect(r),r.connect(a.destination),o.start(0),a.startRendering();var s=setTimeout((function(){return a.oncomplete=function(){},a=null,t("audioTimeout")}),i.timeout);a.oncomplete=function(e){var i;try{clearTimeout(s),i=e.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce((function(t,e){return t+Math.abs(e)}),0).toString(),o.disconnect(),r.disconnect()}catch(e){return void t(e)}t(i)}}},{key:"enumerateDevices",getData:function(t,e){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?void navigator.mediaDevices.enumerateDevices().then((function(e){t(e.map((function(t){return"id="+t.deviceId+";gid="+t.groupId+";"+t.kind+";"+t.label})))})).catch((function(e){t(e)})):t(e.NOT_AVAILABLE)}}],g=function(){throw new Error("'new FrPt()' is deprecated")};return g.get=function(t,e){e?!t&&(t={}):(e=t,t={}),function(t,e){if(null==e)return t;var i,n;for(n in e)null==(i=e[n])||Object.prototype.hasOwnProperty.call(t,n)||(t[n]=i)}(t,s),t.components=t.extraComponents.concat(m);var i={data:[],addPreprocessedComponent:function(e,n){"function"==typeof t.preprocessor&&(n=t.preprocessor(e,n)),i.data.push({key:e,value:n})}},n=-1;!function a(o){if((n+=1)>=t.components.length)e(i.data);else{var r=t.components[n];if(t.excludes[r.key])a(!1);else{if(!o&&r.pauseBefore)return n-=1,void setTimeout((function(){a(!0)}),1);try{r.getData((function(t){i.addPreprocessedComponent(r.key,t),a(!1)}),t)}catch(t){i.addPreprocessedComponent(r.key,t+""),a(!1)}}}}(!1)},g.getPromise=function(t){return new Promise((function(e){g.get(t,e)}))},g.getV18=function(t,e){return null==e&&(e=t,t={}),g.get(t,(function(i){for(var n,a=[],o=0;o<i.length;o++)if((n=i[o]).value===(t.NOT_AVAILABLE||"not available"))a.push({key:n.key,value:"unknown"});else if("plugins"===n.key)a.push({key:"plugins",value:p(n.value,(function(t){var e=p(t[2],(function(t){return t.join?t.join("~"):t})).join(",");return[t[0],t[1],e].join("::")}))});else if(-1!==["canvas","webgl"].indexOf(n.key)&&Array.isArray(n.value))a.push({key:n.key,value:n.value.join("~")});else if(-1===["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(n.key))n.value?a.push(n.value.join?{key:n.key,value:n.value.join(";")}:n):a.push({key:n.key,value:n.value});else{if(!n.value)continue;a.push({key:n.key,value:1})}var s=r(p(a,(function(t){return t.value})).join("~~~"),31);e(s,a)}))},g.x64hash128=r,g.VERSION="2.1.0",g}))},function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var _Mathabs=Math.abs;__webpack_require__.d(__webpack_exports__,"a",(function(){return DomExtractor}));var _utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),DomExtractor=function(){function DomExtractor(t){_classCallCheck(this,DomExtractor),this.config=t,this.context=t.context}return _createClass(DomExtractor,[{key:"isSessionStorageEnabled",value:function(){var t=null;if("sessionStorage"in this.context)try{this.context.sessionStorage.setItem("svs",1),t=this.context.sessionStorage.getItem("svs")}catch(t){}return t?1:0}},{key:"getBrowserFlag",value:function(){var t=0;return(this.context.opera||void 0!==this.context.opr)&&(t+=1),(this.context.opera&&this.context.opera.buildNumber||void 0!==this.context.opr)&&(t+=2),(this.context.document.all||this.context.MSStream)&&(t+=4),(!this.context.btoa||this.context.navigator.msPointerEnabled||void 0!==this.context.clearImmediate)&&(t+=8),this.context.chrome&&(t+=16),void 0!==this.context.mozInnerScreenX&&(t+=32),this.context.external||(t+=64),t}},{key:"isJavaEnabled",value:function(){return this.context.navigator.javaEnabled()?1:0}},{key:"isFlashEnabled",value:function(){var t=0;if(void 0!==this.context.navigator.plugins&&"object"===_typeof(this.context.navigator.plugins["Shockwave Flash"]))t=1;else if(void 0!==this.context.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=1)}catch(t){}return t}},{key:"isCookieEnabled",value:function(){return this.context.navigator.cookieEnabled?1:0}},{key:"isLocalStorageEnabled",value:function(){var t=null;if("localStorage"in this.context)try{this.context.localStorage.setItem("svs",1),t=this.context.localStorage.getItem("svs")}catch(t){}return t?1:0}},{key:"groupBitParams",value:function(){var t=0;return this.isJavaEnabled()&&(t+=1),this.isFlashEnabled()&&(t+=2),this.isCookieEnabled()&&(t+=4),this.isLocalStorageEnabled()&&(t+=8),this.isSessionStorageEnabled()&&(t+=16),this.isTouchStart()&&(t+=32),t}},{key:"isTouchStart",value:function(){return void 0!==this.context.ontouchstart}},{key:"getSnapshotProperties",value:function(propertiesDom){propertiesDom=propertiesDom||{props:{3:"this.context['close']",13:"this.context['navigator']['taintEnabled']",16:"this.context['EventTarget']['toString']",18:"this.context['navigator']['appName']",20:"this.context['ApplicationCacheErrorEvent']",22:"this.context['clearImmediate']",23:"this.context['CryptoKey']",25:"this.context['external']['AddSearchProvider']",32:"this.context['chrome']['search']",33:"this.context['clientInformation']['vendor']",40:"this.context['TouchEvent']",43:"this.context['DeviceMotionEvent']",46:"this.context['navigator']['webkitGetGamepads']",49:"this.context['Notification']",56:"this.context['BeforeLoadEvent']",57:"this.context['Entity']",72:"this.context['AnalyserNode']",74:"this.context['ArrayBufferView']",76:"this.context['HTMLBaseFontElement']",86:"this.context['self']['SharedWorker']",87:"this.context['Touch']",91:"this.context['DOMException']['ABORT_ERR']",92:"this.context['Set']",98:"this.context['document']['createTouch']",138:"this.context['NaN']",139:"this.context['document']['prepend']",163:"this.context['SiteBoundCredential']",165:"this.context['CanvasCaptureMediaStreamTrack']"},rules:{contains:{3:['({command:"this.context.close.self"})'],18:["MicrosoftInternetExplorer"],33:["GoogleInc."]},not_empty:[13,16,18,20,22,23,25,32,40,43,46,49,56,57,76,86,87,91,92,98,138,139,163,165],undefined:[25,46,72,74,87]}};var snapshotProperties="";for(var i in propertiesDom.props){i=parseInt(i,10);var node=this.context,value="";try{node=eval(propertiesDom.props[i])}catch(t){node="undefined",this.config.loggerEnabled&&this.context[this.config.logger+"Logger"].sendData("Antifraud Error. Property: "+i+". "+t.message+". "+t.stack)}if(value=(node+"").replace(/\s/g,""),propertiesDom.rules.contains&&i in propertiesDom.rules.contains)for(var j in propertiesDom.rules.contains[i])snapshotProperties+=-1===value.indexOf(propertiesDom.rules.contains[i][j])?"0":"1";propertiesDom.rules.empty&&-1!==propertiesDom.rules.empty.indexOf(i)&&(snapshotProperties+=""===value?"1":"0"),propertiesDom.rules.not_empty&&-1!==propertiesDom.rules.not_empty.indexOf(i)&&(snapshotProperties+="undefined"!==value&&""!==value?"1":"0"),propertiesDom.rules.undefined&&-1!==propertiesDom.rules.undefined.indexOf(i)&&(snapshotProperties+="undefined"===value?"1":"0")}for(var sizeChar=6,n=Math.ceil(snapshotProperties.length/sizeChar),chars="",_i=0;_i<n;_i++){var part=snapshotProperties.substr(_i*sizeChar,sizeChar),dec=parseInt(part,2);chars+=_utils__WEBPACK_IMPORTED_MODULE_0__.c(dec)}return chars}},{key:"getRectOfElement",value:function(t){try{var e=t.getBoundingClientRect()}catch(i){e={top:0,bottom:0,left:0,right:0,height:0,width:0}}var i={top:e.top,bottom:e.bottom,left:e.left,right:e.right,height:e.height?e.height:e.bottom-e.top,width:e.width?e.width:e.right-e.left};if(this.context.self!==this.context.top){var n=this.getFrameElement();if(n){var a=n.getBoundingClientRect();i.top+=a.top,i.bottom+=a.top,i.left+=a.left,i.right+=a.left}}return i}},{key:"getFrameElement",value:function(){if(void 0===this.topIFrame)try{var t,e;for(e=(t=this.context).frameElement;t.frameElement;t=t.parent)e=t.frameElement;this.topIFrame=e}catch(t){this.topIFrame=null}return this.topIFrame}},{key:"getCoordinatesClickOfWindow",value:function(t){var e=0,i=0;return t.clientX||t.clientY?(e=t.clientX,i=t.clientY):t.touches&&t.touches[0]&&(e=t.touches[0].clientX,i=t.touches[0].clientY),{x:e,y:i}}},{key:"getCoordinatesClickOfPage",value:function(t){var e=0,i=0;return t||(t=this.context.event),t.pageX||t.pageY?(e=t.pageX,i=t.pageY):t.touches&&t.touches[0]?(e=t.touches[0].pageX,i=t.touches[0].pageY):(t.clientX||t.clientY)&&(e=t.clientX+(this.context.document.documentElement.scrollLeft||this.context.document.body.scrollLeft)-this.context.document.documentElement.clientLeft,i=t.clientY+(this.context.document.documentElement.scrollTop||this.context.document.body.scrollTop)-this.context.document.documentElement.clientTop),{x:e,y:i}}},{key:"getCoordsElementOfPage",value:function(t){var e=0,i=0;do{e+=t.offsetLeft,i+=t.offsetTop}while(t=t.offsetParent);return{x:e,y:i}}},{key:"getCoordsClickOfWindow",value:function(t){var e=0,i=0;return t.clientX||t.clientY?(e=t.clientX,i=t.clientY):t.touches&&t.touches[0]&&(e=t.touches[0].clientX,i=t.touches[0].clientY),{x:e,y:i}}},{key:"getDeviceOrientation",value:function(t){if(this.context.DeviceOrientationEvent){var e=!0,i=0;_utils__WEBPACK_IMPORTED_MODULE_0__.a(this.context,"deviceorientation",(function(n){var a=Math.round,o=a(n.gamma),r=a(n.beta),s=a(n.alpha);e&&(i++,e=!1,setTimeout((function(){e=!0}),1e3)),t(parseInt(o)+"|"+parseInt(r)+"|"+parseInt(s)+"|"+parseInt(i))}))}else t("0|0|0|0")}},{key:"getCoordsClickOfPage",value:function(t){var e=0,i=0;return t||(t=this.context.event),t.pageX||t.pageY?(e=t.pageX,i=t.pageY):t.touches&&t.touches[0]?(e=t.touches[0].pageX,i=t.touches[0].pageY):(t.clientX||t.clientY)&&(e=t.clientX+(this.context.document.documentElement.scrollLeft||this.context.document.body.scrollLeft)-this.context.document.documentElement.clientLeft,i=t.clientY+(this.context.document.documentElement.scrollTop||this.context.document.body.scrollTop)-this.context.document.documentElement.clientTop),{x:e,y:i}}},{key:"isTransparent",value:function(t){for(;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;for(;t.parentNode;){if(.2>=this.context.getComputedStyle(t).getPropertyValue("opacity"))return 1;if(t===this.context.document.body)break;t=t.parentNode}return 0}},{key:"isOnLine",value:function(){var t=1;return void 0!==this.context.navigator.onLine&&(t=this.context.navigator.onLine?1:0),t}},{key:"generateBatteryInfo",value:function(t){this.context.navigator.getBattery&&this.context.navigator.getBattery().then((function(e){t(+e.charging,100*e.level)}))}},{key:"generateCurrentGeoPosition",value:function(t){var e=this;try{this.context.navigator.permissions.query({name:"geolocation"}).then((function(i){"granted"===i.state&&e.context.navigator.geolocation.getCurrentPosition((function(e){t(e.coords)}))}))}catch(t){}}},{key:"isSupportHtml5",value:function(){var t=this.context.document.createElement("canvas");return t.getContext&&t.getContext("2d")?1:0}},{key:"getScreenX",value:function(){var t=0;return void 0!==this.context.screenX&&(t=_Mathabs(this.context.screenX)),t}},{key:"getScreenY",value:function(){var t=0;return void 0!==this.context.screenY&&(t=_Mathabs(this.context.screenY)),t}},{key:"isAnyImageLoaded",value:function(t){for(var e=/\/\/img.*\/[\d]+\/([\d]+).*\.(jpg|gif)/,i=/\/\/s-img.*\/([\d]+)\/.*\.(jpg|gif)/,n=this.config.root.getElementsByTagName("IMG"),a=this.config.root.getElementsByTagName("VIDEO"),o=[],r=0;r<n.length;r++)o.push(n[r]);for(var s=0;s<a.length;s++)o.push(a[s]);for(var c=0;c<o.length;c++)e.exec(o[c].src)||i.exec(o[c].src),_utils__WEBPACK_IMPORTED_MODULE_0__.a(o[c],"load",t)}},{key:"getHardwareConcurrency",value:function(){var t=0;return void 0!==this.context.navigator.hardwareConcurrency&&(t=this.context.navigator.hardwareConcurrency),t}},{key:"getPlugins",value:function(){var t="";if(void 0!==this.context.navigator.plugins){for(var e=this.context.navigator.plugins,i=[],n=0;n<e.length;n++)i.push(e[n].name);t=_utils__WEBPACK_IMPORTED_MODULE_0__.e(i.join("|").replace(/\s/g,""),300)}return t}},{key:"getNetwrokInformation",value:function(){var t={networkInformationType:"unknown",networkInformationEffectiveType:"unknown",networkInformationSaveData:0};try{var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;void 0!==e.type&&(t.networkInformationType=e.type),void 0!==e.effectiveType&&(t.networkInformationEffectiveType=e.effectiveType),void 0!==e.saveData&&(t.networkInformationSaveData=e.saveData?1:0)}catch(e){}return t}}]),DomExtractor}()},function(t){(function(e){t.exports=e}).call(this,{})},function(t,e,i){"use strict";function n(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function a(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function s(t){var e=[];for(var i in t)e.push(i+"="+t[i]);return e.join("&")}function c(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}i.r(e),i.d(e,"Integration",(function(){return v})),i.d(e,"Application",(function(){return g})),i.d(e,"AntiFraud",(function(){return u})),i.d(e,"Config",(function(){return m})),i.d(e,"addEvent",(function(){return p.a})),i.d(e,"removeEvent",(function(){return p.d}));var p=i(0),l=i(2),d=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.cookieStorage={},this.sharedCookieStorage={},this.config=e,this.context=e.context,this.storageName=e.informerPrefix+"Storage"+(this.context[e.informerPrefix+"PageOffset"]?this.context[e.informerPrefix+"PageOffset"]:"")}return function(t,e,i){e&&n(t.prototype,e)}(t,[{key:"initialize",value:function(){var t=this.getCookieValue();this.cookieStorage=void 0===t[this.config.typePrefix+this.config.id]?{}:t[this.config.typePrefix+this.config.id],this.sharedCookieStorage=void 0===t[0]?{}:t[0]}},{key:"setCookie",value:function(){if(!this.config.disableCookies){var t=this.getCookieValue();t[this.config.typePrefix+this.config.id]=this.cookieStorage,t[0]=this.sharedCookieStorage;var e=encodeURIComponent(JSON.stringify(t));this.context.document.cookie=this.storageName+"="+e+";path=/"}}},{key:"getCookieValue",value:function(){if(!this.config.disableCookies){var t=this.context.document.cookie.match(new RegExp("(?:^|; )"+this.storageName+"=([^;]*)")),e={};if(t)try{e=JSON.parse(decodeURIComponent(t[1]))}catch(e){}return e}return{}}}]),t}(),h=i(1),f=i.n(h),u=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.domExtractor=new l.a(e),this.cookieManager=new d(e),this.config=e,this.miliSecondsFromScroll=null,this.afCookieData="",this.afPrimaryReferrer="",this.afReferrer="",this.afHref="",this.afDeepSession="",this.afMgLoaded=p.b((new Date).getTime()),this.afImgLoaded=0,this.afSnapshotProperties="",this.afCoords="",this.afDeviceOrientation="",this.afCoordsClickAndLinkOfPage="",this.afBrowserFlag=0,this.afPlugins="",this.afFocus=1,this.afBrowserHookMask=0,this.afCharging=-1,this.afLevel=-1,this.afGeoPosition="0|0",this.timerFromScroll=null,this.networkInformation="unknown|unknown|0",this.frPrHash=""}return function(t,e,i){e&&a(t.prototype,e)}(t,[{key:"initialize",value:function(){var t=new Date;this.cookieManager.initialize(),this.setReferrers(),this.setDeepSession(),this.setCookieData(t),this.setNetworkInformation(),this.afMgLoaded=p.b(t.getTime()),this.afSnapshotProperties=this.domExtractor.getSnapshotProperties(this.config.propertiesDom),this.afBrowserFlag=this.domExtractor.getBrowserFlag(),this.afBrowserHookMask=this.domExtractor.getBrowserFlag(),this.afPlugins=p.f(this.domExtractor.getPlugins()),this.setEvents()}},{key:"generateHash",value:function(t,e){var i=new Date,n=this.domExtractor.getCoordsClickOfWindow(t),a=this.domExtractor.getRectOfElement(e),o=this.domExtractor.isTransparent(e);this.setCoords(e),this.setCoordsClickAndLinkOfPage(t,e);for(var r="",s=1;s<=48*Math.ceil((this.afBrowserFlag+1)/68);s++)if(0!=s%26&&(6!=s%26||0!=(s%26+5)%11)){r+=1===s?String.fromCharCode(98+s%26):"f";var c="";if(48<s)break;switch(s){case 1:c=this.afCookieData;break;case 3:c=this.afMgLoaded;break;case 4:c=p.b(i.getTime());break;case 7:c=p.f(n.x+"|"+n.y);break;case 8:c=p.b(this.getParameterFromLink(e,"wct")?1:0);break;case 9:c=p.b(a.left);break;case 10:c=p.b(this.miliSecondsFromScroll);break;case 11:c=p.b(a.top);break;case 12:c=p.f(this.getFnPt());break;case 13:c=p.f(a.width+"|"+a.height);break;case 15:c=this.afSnapshotProperties;break;case 17:c=p.b(this.afBrowserFlag);break;case 18:c=p.b(e["data-rel"]);break;case 19:c=this.afHref;break;case 20:c=this.afReferrer;break;case 21:c=this.afPrimaryReferrer;break;case 22:c=p.b(this.afDeepSession);break;case 23:c=p.f(this.afCoordsClickAndLinkOfPage);break;case 24:c=p.f(this.afDeviceOrientation);break;case 25:c=p.f(this.afGeoPosition);break;case 27:c=p.b(this.config.iframePlacementType);break;case 28:c=p.c(this.groupBitParams());break;case 29:c=p.f(this.afCoords);break;case 30:c=p.b(this.domExtractor.context.screen.width);break;case 31:c=p.b(this.domExtractor.context.screen.height);break;case 33:c=p.b(this.afImgLoaded);break;case 34:c=p.b(o);break;case 35:c=p.f(this.domExtractor.context.navigator.userAgent);break;case 36:c=this.afPlugins;break;case 37:break;case 38:c=p.f(this.domExtractor.context.navigator.platform);break;case 39:c=p.f(-i.getTimezoneOffset());break;case 40:c=p.f(this.afCharging+"|"+this.afLevel);break;case 41:c=p.f(this.domExtractor.context.screen.availWidth+"|"+this.domExtractor.context.screen.availHeight);break;case 42:c=p.f(this.networkInformation);break;case 43:c=p.b(this.domExtractor.getScreenX());break;case 44:c=p.b(this.domExtractor.getScreenY());break;case 45:c=p.b(this.afBrowserHookMask);break;case 46:break;case 47:c=p.b(this.domExtractor.isSupportHtml5());break;case 48:c=p.b(this.domExtractor.isOnLine())}r+=c}return encodeURIComponent(r)}},{key:"getFnPt",value:function(){return this.frPrHash}},{key:"setWidgetEvents",value:function(){var t=this;this.domExtractor.isAnyImageLoaded((function(){t.afImgLoaded||(t.afImgLoaded=(new Date).getTime())}))}},{key:"packReferrers",value:function(t,e,i){for(var n=[this.afPrimaryReferrer,this.afReferrer,this.afHref],a=[t,e,i],o=0,r=0,s=0;s<a.length;s++)o+=a[s],r+=n[s].length;if(r<=o)return n;for(var c,p=[0,0,0],l=[],d=0;d<n.length;d++)c=-1,8<=n[d].length&&(c=n[d].indexOf("/",8)),-1==c?(l[d]=n[d],n[d]=""):(l[d]=n[d].substr(0,c),n[d]=n[d].substr(c)),a[d]-=l[d].length;var h=l.slice(),f=[];for(h[0]==h[1]?f[0]="++":h[0]==h[2]&&(f[0]="::"),h[1]==h[2]&&(f[1]=";;");;){for(var u=0,m=0;m<n.length;m++)if(p[m]||n[m].length)p[m]||(u=1,l[m]+=n[m][0],n[m]=1==n[m].length?"":n[m].substr(1),a[m]--,a[m]||(p[m]=1));else{p[m]=1;for(var g=0;g<p.length;g++)if(!p[g]){a[g]+=a[m],a[m]=0;break}}if(!u)for(var v=0;v<n.length;v++)if(n[v].length){for(var x=0;x<a.length;x++)if(a[x]){p[v]=0,a[v]=a[x],a[x]=0,u=1;break}if(u)break}if(!u)break}for(var w in f)l[w]=l[w].split(h[w]).join(f[w]);return l}},{key:"groupBitParams",value:function(){var t=0;return this.domExtractor.isJavaEnabled()&&(t+=1),this.domExtractor.isFlashEnabled()&&(t+=2),this.domExtractor.isCookieEnabled()&&(t+=4),this.domExtractor.isLocalStorageEnabled()&&(t+=8),this.domExtractor.isSessionStorageEnabled()&&(t+=16),t}},{key:"setNetworkInformation",value:function(){var t=this.domExtractor.getNetwrokInformation();this.networkInformation=t.networkInformationType+"|"+t.networkInformationEffectiveType+"|"+t.networkInformationSaveData}},{key:"setCookieData",value:function(t){var e=Math.floor;this.afCookieData=t.getTime()+""+this.config.id+e(100*Math.random())+2*e(4*Math.random()),this.afCookieData+=1,this.afCookieData=p.b(p.e(this.afCookieData,16,1)),void 0===this.cookieManager.sharedCookieStorage[this.config.cookieDataKey]&&(this.cookieManager.sharedCookieStorage[this.config.cookieDataKey]=this.afCookieData,this.cookieManager.setCookie())}},{key:"setCoordsClickAndLinkOfPage",value:function(t,e){var i=this.domExtractor.getCoordsClickOfPage(t),n=this.domExtractor.getCoordsElementOfPage(e);this.afCoordsClickAndLinkOfPage=parseInt(i.x)+"|"+parseInt(i.y)+"|"+parseInt(n.x)+"|"+parseInt(n.y)}},{key:"setCoords",value:function(t){var e=this.domExtractor.getRectOfElement(t);this.afCoords=parseInt(e.height)+"|"+parseInt(e.width)+"|"+parseInt(e.left)+"|"+parseInt(e.top)}},{key:"setEvents",value:function(){var t=this;p.a(this.domExtractor.context.document,"focus",(function(){t.afFocus=1})),p.a(this.domExtractor.context.document,"blur",(function(){t.afFocus=0})),p.a(this.domExtractor.context.document,"scroll",(function(e){e||(e=t.domExtractor.context.event),e.target||(e.target=e.srcElement),t.miliSecondsFromScroll=0,t.domExtractor.context.clearInterval(t.timerFromScroll),t.timerFromScroll=t.domExtractor.context.setInterval((function(){t.miliSecondsFromScroll++}),100)})),this.domExtractor.getDeviceOrientation((function(e){t.afDeviceOrientation=e})),this.domExtractor.generateBatteryInfo((function(e,i){t.afCharging=e,t.afLevel=i})),this.domExtractor.generateCurrentGeoPosition((function(e){t.afGeoPosition=e.latitude+"|"+e.longitude})),this.config.useFingerprint&&p.a(this.domExtractor.context.document,"DOMContentLoaded",(function(){try{f.a.get((function(e){t.frPrHash=f.a.x64hash128(e.map((function(t){return t.value})).join(),31)}))}catch(e){t.config.loggerEnabled&&t.domExtractor.context[t.config.logger+"Logger"].sendData("Antifraud Error fingerprint. Property: "+e.message+". "+e.stack)}}))}},{key:"setReferrers",value:function(){void 0===this.cookieManager.sharedCookieStorage.svspr?(this.afPrimaryReferrer=p.e(this.domExtractor.context.document.referrer,500),this.cookieManager.sharedCookieStorage.svspr=this.afPrimaryReferrer,this.cookieManager.setCookie()):this.afPrimaryReferrer=this.cookieManager.sharedCookieStorage.svspr,this.afReferrer=this.domExtractor.context.hasOwnProperty("referer")?this.domExtractor.context.referer:this.domExtractor.context.document.referrer,this.afHref=this.domExtractor.context.document.location.href;var t=this.config.afShortEnabled?this.packReferrers(70,50,50):this.packReferrers(300,300,300);this.afPrimaryReferrer=p.f(p.e(t[0],256)),this.afReferrer=p.f(p.e(t[1],256)),this.afHref=p.f(p.e(t[2],256))}},{key:"setDeepSession",value:function(){if(void 0!==this.cookieManager.sharedCookieStorage.svsds){this.afDeepSession=this.cookieManager.sharedCookieStorage.svsds;var t=this.config.modulePrefix+"SvsdsFlag";void 0===this.domExtractor.context[t]&&(this.afDeepSession++,this.domExtractor.context[t]=!0)}else this.afDeepSession=1;this.cookieManager.sharedCookieStorage.svsds=this.afDeepSession,this.cookieManager.setCookie()}},{key:"getParameterFromLink",value:function(t,e){var i=t.search;if(""===i)return null;for(var n=i.replace("?","").split("&"),a=0;a<n.length;a++)if(n[a].split("=")[0]===e)return n[a];return null}}]),t}(),m=function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.loggerEnabled=e.loggerEnabled,this.logger=e.logger,this.afShortEnabled=e.afShortEnabled,this.modulePrefix=e.modulePrefix,this.id=e.id,this.informerPrefix=e.informerPrefix||"MarketGid",this.typePrefix=e.typePrefix||"",this.disableCookies=e.disableCookies||!1,this.context=e.context||window,this.root=e.root||this.context.document,this.iframePlacementType=e.iframePlacementType||0,this.cookieDataKey=e.cookieDataKey||"TejndEEDj",this.propertiesDom=e.propertiesDom,this.useFingerprint=e.useFingerprint||!1},g=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,t),t.modulePrefix="Transit",this.options=e;var i=new m({loggerEnabled:!1,modulePrefix:t.modulePrefix,id:206,cookieDataKey:"TejndE37EDj206"});this.app=new u(i),this.afRealHref="",this.links=[],this.anura=new v.Anura({widgetPrefix:t.modulePrefix})}return function(t,e,i){e&&r(t.prototype,e)}(t,[{key:"run",value:function(){this.options.anuraEnabled&&this.options.sendAnuraAtLoad&&this.sendAnura(this.options.showHash),this.app.initialize(),this.initAntiFraud()}},{key:"initAntiFraud",value:function(){var t=this;this.bindEvents(document.getElementsByTagName("a")),setTimeout((function(){return t.initAntiFraud()}),750)}},{key:"bindEvents",value:function(t){for(var e,i=this,n=0;n<t.length;n++)e=t[n],-1===this.links.indexOf(e)&&(this.links.push(e),/\/(ghits|[prt]+news|nr)\//i.test(e.href)&&(Object(p.a)(e,"mousedown",(function(t){i.linkMouseDown(t,this)})),Object(p.a)(e,"mouseup",(function(t){i.linkClick(t,this)})),Object(p.a)(e,"mouseover",(function(t){i.linkMouseOver(t,this)})),Object(p.a)(e,"mousemove",(function(t){i.linkMouseMove(t,this)})),Object(p.a)(e,"touchstart",(function(t){i.linkTouchStart(t,this)})),Object(p.a)(e,"touchend",(function(t){i.linkTouchEnd(t,this)}))));this.app.setWidgetEvents()}},{key:"bindAntiFraudParams",value:function(t,e){var i=e.href.indexOf("?k=f"),n=e.href.indexOf("&k=f"),a=e.href.indexOf("?");-1===i?-1!==n&&(e.href=e.href.substr(0,n)):e.href=e.href.substr(0,i),this.afRealHref=e.href,this.afActiveEl=e,e.href+=-1===i&&-1!==a?"&k=f":"?k=f",e.href+=this.app.generateHash(t,e),this.dispatchKEvent(e,"generated")}},{key:"dispatchKEvent",value:function(t,e){var i=document.createEvent("Events");i.initEvent(e,!0,!1),i.timeG=Date.now(),t.dispatchEvent(i)}},{key:"linkClick",value:function(t,e){var i=this;if(this.bindAntiFraudParams(t,e),this.options.anuraEnabled){var n=e.getAttribute("data-hash")||this.options.showHash;this.sendAnura(n)}setTimeout((function(){return i.reWriteHref()}),100)}},{key:"linkMouseOver",value:function(t,e){this.bindAntiFraudParams(t,e);var i=parseInt(e["data-rel"])?parseInt(e["data-rel"]):0;1!=i%2&&(e["data-rel"]=i+1)}},{key:"linkMouseMove",value:function(t,e){var i=parseInt(e["data-rel"])?parseInt(e["data-rel"]):0;1!=(i>>1)%2&&(e["data-rel"]=i+2)}},{key:"linkTouchStart",value:function(t,e){this.bindAntiFraudParams(t,e);var i=parseInt(e["data-rel"])?parseInt(e["data-rel"]):0;2&i>>1||(e["data-rel"]=i+4)}},{key:"linkTouchEnd",value:function(t,e){var i=parseInt(e["data-rel"])?parseInt(e["data-rel"]):0;4&i>>1||(e["data-rel"]=i+8)}},{key:"linkMouseDown",value:function(t,e){var i=parseInt(e["data-rel"])?parseInt(e["data-rel"]):0;8&i>>1||(e["data-rel"]=i+16)}},{key:"reWriteHref",value:function(){this.afRealHref&&this.afActiveEl&&(this.afActiveEl.href=this.afRealHref)}},{key:"sendAnura",value:function(t){this.anura.send(this.options.source,this.options.publisherSource,{composite:this.options.composite,resultUrl:this.options.sensorDomain+"/anura",showHash:t})}}]),t}(),v={Anura:function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.config=e||{},this.config.context=this.config.context||window,this.config.instance=this.config.instance||890857896,this.config.loggerEnabled=this.config.loggerEnabled||!1,t.REQUEST_URL="https://script.anura.io/request.js",t.RESULT_URL="https://script.anura.io/result.json"}return function(t,e,i){e&&c(t.prototype,e)}(t,[{key:"send",value:function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=this.config.context.document.createElement("script"),o={instance:this.config.instance,source:e};if(n){this.responseConfig=n;var r=this.config.widgetPrefix+"AnuraCallback";o.callback=r,this.config.context[r]=this.anuraCallback.bind(this)}""!==i&&(o.campaign=i),o=s(o),o+="&"+(new Date).getTime(),a.type="text/javascript",a.async=!0,a.src=t.REQUEST_URL+"?"+o,this.config.context.document.body.appendChild(a)}},{key:"anuraCallback",value:function(e){var i=this.config,n=this.responseConfig;if(e.getError()||!e.getId()&&!e.getExId())i.loggerEnabled&&i.context[i.widgetPrefix+"Logger"].sendData("Anura response error: "+e.getError());else{var a={instance:i.instance};e.getId()&&(a.id=encodeURIComponent(e.getId())),e.getExId()&&(a.exid=encodeURIComponent(e.getExId()));var o=new XMLHttpRequest;o.open("POST",t.RESULT_URL,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onload=function(){var t;try{t=JSON.parse(this.response)}catch(t){return void(i.loggerEnabled&&i.context[i.widgetPrefix+"Logger"].sendData("Anura response cannot parse: "+this.response))}if(t.result){var e={composite:n.composite,showHash:n.showHash,result:t.result};(new Image).src=n.resultUrl+"?"+s(e)}else i.loggerEnabled&&i.context[i.widgetPrefix+"Logger"].sendData("Anura response wrong schema: "+this.response)},o.send(s(a))}}}]),t}()}}])},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.app.accidentalClicksHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.accidentalClicks.handler,this.app.clickHandlerList.accidentalClicks.priority),this.accidentalClicksDelay=1e3*(parseInt(this.app.globalSettings.accidental_clicks_delay)||5),this.accidentalClicksDisableTypes="wages".split(","),this.teasersClickTimes={}}_onClick(t,e){if(2===e.button)return!0;const i=t.getAttribute("data-hash"),n=(new Date).getTime();if(this.app.isEnabledDoubleClick()&&void 0===this.app.servicerData.dc)return!0;if(void 0!==this.app.servicerData.dc&&i in this.app.hashTimer&&n-this.app.hashTimer[i]<this.app.servicerData.dc)return!0;switch(this.app.teaserData[i].coopType){case"w":if(-1==this.accidentalClicksDisableTypes.indexOf("wages"))return!0;break;case"e":if(-1==this.accidentalClicksDisableTypes.indexOf("exchange"))return!0;break;case"i":if(-1==this.accidentalClicksDisableTypes.indexOf("int_exchange"))return!0;break;default:return!0}return this.teasersClickTimes.hasOwnProperty(i)&&(new Date).getTime()-this.teasersClickTimes[i]<=this.accidentalClicksDelay?(e.preventDefault(),this.app.doubleClickType="accidental",this.app.doubleClickHandler(t),!1):(this.teasersClickTimes[i]=(new Date).getTime(),!0)}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.app.clickableDelay=!1,this.eventDisabled=!1,this.addHook("afterLoadNewsHooks",this._init),this.app.activateDelayLinkHandler=this._onClick.bind(this)}isCloseLink(t){return t.classList.contains("mg-close-button-div-inner")}isWagesLink(t){if(!t)return!1;const e=t.getAttribute("data-hash");return this.app.teaserData[e]&&"w"===this.app.teaserData[e].coopType}_init(){if(this.isInited)return;this.isInited=!0;const t=parseInt(2e3);this.app.addClickHandler(this.app.clickHandlerList.activateDelayLink.handler,this.app.clickHandlerList.activateDelayLink.priority),this.app.context.setTimeout(()=>{this.eventDisabled=!0,this.app.linksBlocked=!1,this.app.clickableDelay=!1},t)}_onClick(t,e){return!!this.eventDisabled||(!!(this.app.clickableDelay&&this.isWagesLink(t)||this.isCloseLink(t))||(void 0!==this.app.servicerData.dc||(this.app.doubleClickType="delay",this.app.doubleClickHandler(t),this.app.linksBlocked=!0,e.preventDefault(),!1)))}}},function(t,e,i){const n=i(0);t.exports=class extends n{constructor(t){super(t),this.shownBlocks={},this.monitorTimeout=null,this.isFirstByType={},this.isFirstByCid={},this.addHook("afterLoadNewsHooks",this._init.bind(this))}_init(){if("function"!=typeof this.VisData){let t=!0,e=this.app.context.self;try{this.app.context.self!==this.app.context.top&&this.app.context.top.location.href&&(e=this.app.context.top)}catch(e){t=!1}this.VisData=(()=>{try{if(!t)return t=>!t||{extTf:!1};let i,n;const a={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(i in a)if(i in document){n=a[i];break}let o,r,s,c,p,l=-1,d=-1,h=-1,f=1,u=!1;const m="function"==typeof document.hasFocus?()=>{const t=e.document.hasFocus();t!=f&&(o=(new Date).getTime()),u|=t,f=t}:()=>{f=1};setInterval(m,100),this.app.addEvent(e.document,n,()=>{e.document[i]?l=0:setTimeout(()=>{l=1},100),p=(new Date).getTime()}),this.app.addEvent(e.document,"mouseleave",()=>{h=0,r=(new Date).getTime()}),this.app.addEvent(e.document,"mouseenter",()=>{h=1,r=(new Date).getTime()}),this.app.addEvent(e.document,"touchmove",()=>{h=2,r=(new Date).getTime()});let g=0;this.app.addEvent(e.document,"keydown",()=>{g=1,s=(new Date).getTime()});let v=0,x=0;this.app.addEvent(e.document,"click",t=>{x=1,v=(new Date).getTime();let e=t.target;for(;e.parentElement;){if("A"===e.tagName){x=2;break}e=e.parentElement}}),this.app.addEvent(e,"blur",()=>{d=e.document.activeElement&&"IFRAME"==e.document.activeElement.tagName?2:0,c=(new Date).getTime()}),this.app.addEvent(e,"focus",()=>{d=1,c=(new Date).getTime()});let w=0,k=null;const b=()=>{k=(new Date).getTime(),w=1};e.document.addEventListener?(e.document.addEventListener("mousewheel",b,!1),e.document.addEventListener("DOMMouseScroll",b,!1)):e.document.attachEvent("onmousewheel",b);let y=0;try{const t=new Image;t.__defineGetter__("id",()=>{y=1}),console.debug(t)}catch(t){y=-1}return t=>{m();const e=f&&(0!==l||0!==d||-1!==h||w);if(t){const t={extVs:e,extTv:l,extWv:d,extMa:h,extHf:f,extCl:x,extKp:g,extMw:w,extDg:y,extFt:u},i=(new Date).getTime();return v&&(t.extClt=i-v),k&&(t.extMwt=i-k),c&&(t.extWvt=i-c),r&&(t.extMat=i-r),p&&(t.extTvt=i-p),o&&(t.extHft=i-o),s&&(t.extKpt=i-s),t}return e}}catch(t){return t=>!t||{}}})()}const t=/([A-Za-z0-9\-_\*]{64})/;let e=parseFloat(this.app.globalSettings.capping_observer_threshold);if((!e||e<=0||e>1||Number(e)!=e)&&(e=.9),"function"==typeof IntersectionObserver&&3===this.app.servicerData.cv){const i=1e3;let n=0,a=0;const o=[];let r=null;const s=()=>{let t=0;for(let e=0;e<o.length;e++)if(o[e])if(o[e].dataset.shown)t++;else if(o[e].dataset.observeStart>0){parseFloat(o[e].dataset.observeTime)+((new Date).getTime()-o[e].dataset.observeStart)>i&&(this.app.intersectionObserver.unobserve(o[e]),this.app.intersectionObserver.observe(o[e]))}t<n&&setTimeout(s,100)};if(!this.app.intersectionObserver){const t=t=>{const n={};let a=0;for(let o=0;o<t.length;o++){const r=t[o];if(r.target.dataset.i&&!r.target.dataset.shown)if(r.target.width+r.target.height!=0){if(r.intersectionRatio>=e)if(0==r.target.dataset.observeStart)r.target.dataset.observeStart=(new Date).getTime();else{const t=(new Date).getTime()-r.target.dataset.observeStart;r.target.dataset.observeTime=parseFloat(r.target.dataset.observeTime)+t}else r.target.dataset.observeTime=0,r.target.dataset.observeStart=0;r.target.dataset.observeTime>=i&&(r.target.dataset.shown=1,this.app.intersectionObserver.unobserve(r.target),n[r.target.dataset.i]=this._getTeaserCappingData(r.target),a++)}else this.app.intersectionObserver.unobserve(r.target),(()=>{const t=r.target;setTimeout(()=>{this.app.intersectionObserver.observe(t)},100)})()}a&&this._prepareCappingData(n,this.app.servicerData.cv)};this.app.intersectionObserver=new IntersectionObserver(t,{threshold:[0,e,1]})}const c=[];let p=null;const l=()=>{r||(r=setTimeout(s,100)),p=null;for(let t=c.pop();t;t=c.pop())this.app.intersectionObserver.observe(t)},d=t=>{c.push(t),o.push(t),n++,p&&clearTimeout(p),n<a?p=setTimeout(l,100):l()};(()=>{const e=this.app.templateContent.getElementsByClassName("mgline");if(e.length)for(let i=0;i<e.length;i++)if(!e[i].dataset.observing){const n=t.exec(e[i].dataset.i);if(n&&n[1]){e[i].dataset.observeTime=0,e[i].dataset.observeStart=0,e[i].dataset.observing="yes";const t=e[i].querySelectorAll("img.mcimg");t.length>0?(e=>{const i=new Image;this.app.addEvent(i,"load",()=>{d(e)}),this.app.addEvent(i,"error",()=>{d(e)}),t[0].hasAttribute("crossorigin")&&(i.crossOrigin=""),i.src=t[0].src})(e[i]):d(e[i]),a++}else e[i].dataset.observing="no"}})()}else if(!this.monitorTimeout){const i=()=>{const n={},a=this.app.root.getElementsByClassName("mgline"),o=[];for(let e=0;e<a.length;e++){const i=t.exec(a[e].dataset.i);if(i&&i[1]&&!this.shownBlocks[a[e].dataset.i])if(a[e].dataset.observing)o.push(a[e]);else{const t=a[e].querySelectorAll("img.mcimg");t.length>0?(e=>{const i=new Image;this.app.addEvent(i,"load",()=>{e.dataset.observing="yes"}),this.app.addEvent(i,"error",()=>{e.dataset.observing="yes"}),i.src=t[0].src})(a[e]):a[e].dataset.observing="yes"}}for(let t=0;t<o.length;t++){const i=o[t];this._elementViewportIntersection(i)>=e&&(n[i.dataset.i]=this._getTeaserCappingData(i))}this._prepareCappingData(n,"2"),this.monitorTimeout=setTimeout(i,1e3)};i()}}_getTeaserCappingData(t){const e=this.app.utils.getRect(t,!0);return{width:Math.round(e.width),height:Math.round(e.height),atf:e.top<this.app.utils.getViewportSize().height,align:this._getTeaserAlign(e),desc:this._isTeaserElementVisible(t,"mcdesc"),price:this._isTeaserElementVisible(t,"mcprice"),domain:this._isTeaserElementVisible(t,"mcdomain")}}_prepareCappingData(t,e){let i=[],n=[],a=[],o=[];for(const r in t){const s=r;if(this.shownBlocks[s])continue;const c=t[r].width+"|"+t[r].height+"|"+((t[r].desc?1:0)+(t[r].price?2:0)+(t[r].domain?4:0)+(t[r].atf?8:0)+("right"==t[r].align?16:0)+("left"==t[r].align?32:0))+"|";if(s&&this.app.teaserData[s]){this.shownBlocks[s]=1;const t=this.app.teaserData[s].coopType;this.app.teaserData[s].ch&&this.app.teaserData[s].ccid&&this.app.teaserData[s].cdomain&&(a=this._prepareMultiCappingData(a,s,c,t,e),o=a.counter,o[t][this.app.teaserData[s].cdomain]>20&&(this._multiSendCappingData(a[t]),a[t]=[],o=[])),i=this._prepareSingleCappingData(i,s,c,t,e),n=i.counter,n[t]>20&&(this._sendCappingData(i[t]),i[t]="",n[t]=0);{const t=this.app.teaserData[s].imp;for(const e of t)this.app.sendCustomCounter(e)}"w"===t&&this.app.sspDoubleClickHash.push(s),this.app.lifeCycleBlock.processHooks("afterPrepareCappingDataHooks",[s])}}for(const t in n)n[t]>0&&this._sendCappingData(i[t]);for(const t of Object.keys(o)){const e=o[t];Object.keys(o[e]).length>0&&this._multiSendCappingData(a[e])}}_sensorsToJsFlags(){let t=0;try{const e=this.VisData(!0),i=1500;if(e){if(!1===e.extTf)return 3;1===e.extVs&&(t=1),e.extHf&&(t+=2),e.extWv<0?t+=12:e.extWv<3&&(t+=e.extWv<<2),e.extTv<0?t+=48:e.extTv<3&&(t+=e.extTv<<4),e.extMa<0?t+=192:e.extMa<3&&(t+=e.extMa<<6),e.extCl>0&&e.extCl<3&&(t+=e.extCl<<8),1==e.extMw&&(t+=1024),1==e.extKp&&(t+=2048),0!=e.extDg&&(t+=4096),2!=e.extMa&&1==e.extMw&&e.extMwt<i&&(t+=8192),Number(e.extHft)===e.extHft&&e.extHft>=0&&e.extHft<i&&(!e.extWvt||e.extWvt<i)&&(!e.extTvt||e.extTvt<i)&&(t+=16384),e.extFt&&(t+=32768),t<<=1}}catch(e){t=1}return t}_prepareMultiCappingData(t,e,i,n,a){const o=this.app.teaserData[e].cdomain,r=this.app.teaserData[e].ch,s=this.app.teaserData[e].ccid;let c="pv="+a;return-1==c.indexOf("extjs")&&(c+="&extjs="+this._sensorsToJsFlags()),void 0===t[n]&&(t[n]=[],void 0===t.counter&&(t.counter=[]),void 0===t.counter[n]&&(t.counter[n]=[])),void 0===t[n][o]&&(t[n][o]=[],t.counter[n][o]=0),void 0===t[n][o][s]&&(t[n][o][s]=""),c+="&v="+i+r,("0"==a||this.isFirstByType[n+s])&&this.isFirstByCid[n+s]||(c+="&f"+n+"=1",this.isFirstByType[n+s]=1,this.isFirstByCid[n+s]=1),t[n][o][s]+=c,t.counter[n][o]++,t}_prepareSingleCappingData(t,e,i,n,a){return void 0===t[n]&&(t[n]="pv="+a,void 0===t.counter&&(t.counter=[])),void 0===t.counter[n]&&(t.counter[n]=0),t[n]+="&v="+i+e,"0"==a||this.isFirstByType[n]||(t[n]+="&f"+n+"=1",this.isFirstByType[n]=1),-1==t[n].indexOf("extjs")&&(t[n]+="&extjs="+this._sensorsToJsFlags()),t.counter[n]++,t}_multiSendCappingData(t){for(const e in t)if(t.hasOwnProperty(e))for(const i in t[e])if(t[e].hasOwnProperty(i)){const n=t[e][i]+"&cid="+i;this._sendCappingData(n,e)}}_sendCappingData(t,e){const i=document.createElement("IMG"),n=t.search("&cid="),a=t.search("pv=0&")>=0;let o;-1!=n&&(o=t.substr(n+5).split("&")[0]),a?void 0===o&&(t+="&cid="+this.app.id.toString()):((void 0===this.app.context._mgwcapping||-1==this.app.context._mgwcapping.indexOf(this.app.id.toString())||void 0!==o&&-1==this.app.context._mgwcapping.indexOf(o.toString()))&&(t="f=1&"+t),this.app.context._mgwcapping=this.app.context._mgwcapping||[],void 0===o?(t+="&cid="+this.app.id.toString(),this.app.context._mgwcapping.push(this.app.id.toString())):this.app.context._mgwcapping.push(o)),this.app.servicerData&&(this.app.servicerData.h2&&(t+="&h2="+this.app.servicerData.h2),this.app.servicerData.rid&&(t+="&rid="+this.app.servicerData.rid),this.app.servicerData.tt&&(t+="&tt="+this.app.servicerData.tt),this.app.servicerData.ts&&(t+="&ts="+this.app.servicerData.ts),this.app.servicerData.psid&&(t+="&psid="+this.app.servicerData.psid),this.app.servicerData.iv&&(t+="&iv="+this.app.servicerData.iv));let r=0;if(this.app.context.isFBIA876580&&this.app.context.localStorage){const t=this.app.context.localStorage.getItem("_mgPageImp563975"),e=this.app.globalSettings.ia_page_imp_timeout||180;(!t||(new Date).getTime()-t>1e3*e)&&(this.app.context.localStorage.setItem("_mgPageImp563975",(new Date).getTime()),r=1)}else{const t=this.app.getMostTopWindow();void 0===t._mgPageImp563975&&(t._mgPageImp563975=!0,r=1)}t+="&pageImp="+r,t+="&pvid="+this.app.pvid;try{if(this.app.context.localStorage){const e=this.app.context.localStorage.getItem("mgMuidn");"string"==typeof e&&e.length>0&&(t+="&muid="+e)}}catch(t){}let s=this.app.webProtocol+"//";s+=void 0!==e?e:"c.traffic-media.co.uk",t+="&"+this.app.getCbusterParameter(),t+="&tpl="+this.app.templateId,i.src=s+"/c?"+t,this.app.lifeCycleBlock.processHooks("afterSendCappingHooks")}_getTeaserAlign(t){const e=this.app.context.document.body.scrollWidth;return t.right<.3*e?"left":t.left>=.7*e?"right":"center"}_isTeaserElementVisible(t,e){const i=t.getElementsByClassName(e);if(i.length>0){const t=i[0].getBoundingClientRect();return t.right-t!=0&&t.bottom-t.top!=0}return!1}_elementViewportIntersection(t){const e=this.app.utils.getRect(t,!0);for(const t in e)e.hasOwnProperty(t)&&(e[t]=Math.floor(e[t]));const i=this.app.utils.getViewportSize(),n=this.app.utils.getScroll();i.top=n.top,i.bottom=n.top+i.height,i.left=n.left,i.right=n.left+i.width;const a=e.width*e.height;if(!a)return 0;return Math.max(0,Math.min(e.right,i.right)-Math.max(e.left,i.left))*Math.max(0,Math.min(e.bottom,i.bottom)-Math.max(e.top,i.top))/a}}},function(t,e){window.TrafficmediaCContextBlock876580=function(t){let e;const i=function(t){const e=document.createElement("A");e.href=t;const i=e.search.replace(/^\?/,"").split("&"),n=[];for(const t of i)if(""!==t){const e=t.split("=");n.push({key:e[0],value:void 0!==e[1]?e[1]:""})}let a=e.pathname;return""===a&&(a="/"),"/"!==a.charAt(0)&&(a="/"+e.pathname),{protocol:e.protocol,host:e.host,pathname:a,search:e.search,hash:e.hash,parsedParams:n}};t.stripAmpParts=function(t){let e=t;const n=i(t);if(n.host.indexOf("cdn.ampproject.org")>0&&n.host.indexOf("cdn.ampproject.org")===n.host.length-"cdn.ampproject.org".length){const t=n.pathname.split("/");if(void 0===t[1]||"c"!==t[1]&&"v"!==t[1]&&"wp"!==t[1])void 0!==t[1]&&""!==t[1]||(e=e.replace(".cdn.ampproject.org","").replace("-","."));else{let i=!1;void 0!==t[2]&&"s"===t[2]&&(i=!0),e=(i?"https":"http")+"://";let a=0;for(const i of t)""!==i&&"c"!==i&&"v"!==i&&"wp"!==i&&"s"!==i&&(e+=(0!=a++?"/":"")+i);e+=n.search+n.hash}}return e},t.contextUriSanitize=function(e){if(e){e=t.stripAmpParts(e);const a=i(e);t.context._mgCanonicalUri=(n=a).protocol+"//"+n.host+n.pathname+n.search+n.hash}var n;return t.context._mgCanonicalUri},t.contextUriParse=function(){if(void 0===t.context._mgCanonicalUri){t.context._mgCanonicalUri="";try{const i=function(){if(void 0===e)try{for(let i=t.context;i.document&&(e=i,i!=i.top);i=i.parent);}catch(t){}return e}();let n="";const a=i.document.querySelector('meta[property="og:url"]');if(a&&a.getAttribute("content"))n=a.getAttribute("content");else{const t=i.document.querySelector("link[rel='canonical']");t&&t.getAttribute("href")&&(n=t.getAttribute("href"))}if(""===n){switch(t.iframePlacementType){case 0:case 1:n=t.pageUrl;break;case 2:n=t.refererUrl;break;case 3:try{n=t.context.context.canonicalUrl}catch(t){}n||(n=""!==t.pageUrl?t.pageUrl:t.refererUrl)}t.contextUriSanitize(n)}else t.context._mgCanonicalUri=n}catch(t){}}return t.context._mgCanonicalUri}}},function(t,e,i){window.TrafficmediaCMainBlock876580=function(t){t.afterPrepareCappingDataHooks.push("setCappingRealShowTime"),t.observerWidgetHooks.push("setWidgetRealShowTime"),t.afterLoadNewsHooks.push("fixWrongExternalImages"),t.cappingRealShowTime=0,t.widgetRealShowTime=0,t.addEvent(t.root,"mousemove",(function(e){t.root.mouseX=e.pageX-t.root.offsetLeft,t.root.mouseY=e.pageY-t.root.offsetTop})),t.prepareHref=function(e,i,n){let a="";const o=t.teaserData[e];if(n&&void 0!==t.context._mgExternalLinkChanger&&1===t.context._mgExternalLinkChanger){a=n.protocol+"//"+n.hostname+n.pathname;let t=n.search;if(""!=t){t=t.replace("?","");const e=t.split("&");for(let t=0;t<e.length;t++){const i=e[t].split("=");"k"!=i[0]&&"dc"!=i[0]&&(a+=(0==t?"?":"&")+e[t])}}}else a=t.clickTracking+t.webProtocol,o?o.link&&(a=/^http[s]?:/.test(o.link)?t.clickTracking+o.link:"i"==o.coopType?t.clickTracking+t.intExchangeProtocol+o.link:t.clickTracking+t.webProtocol+o.link):a="#";let r="";void 0!==t.clickableDelay&&t.clickableDelay&&t.activateDelayBlock&&t.activateDelayBlock.isWagesLink(n)&&(r="dc=1");const s=t.getQueryParameterByName("dc");s&&(r="dc="+parseInt(s));if(""!==t.getClickZone()&&""==r&&(r="dc="+t.getClickZone()),""!==r&&(a+=(a.indexOf("?")>=0?"&":"?")+r),void 0!==t.transitParamsInit){const e=t.getQueryParameterByName("extclckid");e&&!1===/[\&\?]extclckid\=/.test(a)&&(a+=(a.indexOf("?")>=0?"&":"?")+"extclckid="+e)}void 0!==t.antifraudBlock&&"function"==typeof t.antifraudBlock.getAntifraudParams&&o&&"i"!=o.coopType&&(a+=t.getAntifraudQueryParameter(a,i,n)),t.cappingRealShowTime&&!1===/[\&\?]crst\=/.test(a)&&(a+=(a.indexOf("?")>=0?"&":"?")+"crst="+t.cappingRealShowTime),t.widgetRealShowTime&&!1===/[\&\?]wrst\=/.test(a)&&(a+=(a.indexOf("?")>=0?"&":"?")+"wrst="+t.widgetRealShowTime),void 0!==t.context.transitType&&!1===/[\&\?]trt\=/.test(a)&&(a+=(a.indexOf("?")>=0?"&":"?")+"trt="+t.context.transitType),t.clickTracking&&-1!==a.indexOf(t.clickTracking)&&(a=t.clickTracking+encodeURIComponent(a.replace(t.clickTracking,""))),t.templateId&&(a+=(a.indexOf("?")>=0?"&":"?")+"tpl="+t.templateId);let c="";if(n&&!1===/[\&\?]wct\=/.test(a)&&(c=t.getParameterFromLink(n,"wct"))&&(a+=(-1===a.indexOf("?")?"?":"&")+c),void 0!==i&&"click"===i.type){let e="."+t.extractClass(i.target),n=i.target.tagName;"A"===n&&(n=i.target.parentNode.tagName,e="."+t.extractClass(i.target.parentNode)),o&&"i"===o.coopType||(a+=(a.indexOf("?")>=0?"&":"?")+"ce="+n+e)}if(o&&"i"!=o.coopType)try{if(t.context.localStorage){const e=t.context.localStorage.getItem("mgMuidn");"string"==typeof e&&e.length>0&&a.indexOf("muid")<0&&(a+=(a.indexOf("?")>=0?"&":"?")+"muid="+e)}}catch(t){}return a},t.getParameterFromLink=function(t,e){const i=t.search;if(""===i)return null;const n=i.replace("?","").split("&");for(let t=0;t<n.length;t++)if(n[t].split("=")[0]===e)return n[t];return null},t.getClickZone=function(){const e=JSON.parse("[]");if(0==e.length)return"";if(void 0===e.top||void 0===e.left||void 0===e.right||void 0===e.bottom)return"";const i=t.root.offsetHeight,n=t.root.offsetWidth,a=[];a.top=parseInt(i/100*e.top),a.left=parseInt(n/100*e.left),a.right=n-parseInt(n/100*e.right),a.bottom=i-parseInt(i/100*e.bottom);const o=t.root.mouseX,r=t.root.mouseY;return[[2,3,4],[5,"",6],[7,8,9]][r<=a.top?0:r>=a.bottom?2:1][o<=a.left?0:o>=a.right?2:1]},t.getTranslation=function(t){const e={"[GO]":"","[INFORMER_BUTTON_MORE]":"","[INFORMER_CTA_LEARN_MORE]":"","[LS_INFORMERS_CLOSE_BUTTON]":"","[LS_INFORMERS_MOBILEMODAL_GO]":"","[LS_INFORMERS_WIDGET_MOBILE_CONTINUE]":"","[WIDGET_TITLE_CHECK_THIS_OUT]":"","[WIDGET_TITLE_INTERESTING]":"  ","[WIDGET_TITLE_INTERESTING_FOR_YOU]":" ","[WIDGET_TITLE_MORE_COOL_STUFF]":"  ","[WIDGET_TITLE_MORE_FROM_AROUND_THE_WEB]":" -","[WIDGET_TITLE_PARTNERS_NEWS]":" ","[WIDGET_TITLE_POPULAR]":"  ","[WIDGET_TITLE_PROMOTED_CONTENT]":" ","[WIDGET_TITLE_SMI]":"  ","[WIDGET_TITLE_SPONSORED_CONTENT]":" ","[WIDGET_TITLE_SUGGESTED_NEWS]":" ","[WIDGET_TITLE_YOU_MAY_LIKE]":"  "};return 0===t.search(/^\[\S*\]$/g)?e[t]?e[t]:"":t},t.getAntifraudQueryParameter=function(e,i,n){const a=t.antifraudBlock.getAntifraudParams(i,n);if(a){const i=t.id;return(e.indexOf("?")>=0?"&":"?")+"k="+i+"f"+a}return""},t.prepareNiceHref=function(e,i,n){let a;const o=t.teaserData[e];if(1==o.other.sdl&&"i"!=o.coopType){if(a=t.clickTracking,void 0!==o.other.dl&&""!=o.other.dl)a+=o.other.dl;else{const e=decodeURIComponent(o[0].replace(/[`|',:\/?;$%&\(\)^*!@\s]/g,"")).toLowerCase(),i=decodeURIComponent(o[3].replace(/[`|',:\/?;$%&\(\)^*!@]/g,"")).replace(/\s/g,"_");a+=t.webProtocol+"//"+(e?e+"/":"")+i}t.clickTracking&&-1!==a.indexOf(t.clickTracking)&&(a=t.clickTracking+encodeURIComponent(a.replace(t.clickTracking,"")))}else a=t.prepareHref(e,i,n);return a},t.transliterate=function(t){const e={"":"YO","":"I","":"TS","":"U","":"K","":"E","":"N","":"G","":"SH","":"SCH","":"Z","":"H","":"","":"yo","":"i","":"ts","":"u","":"k","":"e","":"n","":"g","":"sh","":"sch","":"z","":"h","":"'","":"F","":"I","":"V","":"a","":"P","":"R","":"O","":"L","":"D","":"ZH","":"E","":"f","":"i","":"v","":"a","":"p","":"r","":"o","":"l","":"d","":"zh","":"e","":"Ya","":"CH","":"S","":"M","":"I","":"T","":"","":"B","":"YU","":"ya","":"ch","":"s","":"m","":"i","":"t","":"","":"b","":"yu"," ":"_","":"i","":"I","":"i","":"I"};return t.split("").map((function(t){return t.match(/[a-z0-9_\-]/i)?t:e[t]||""})).join("")},t.getQueryParameterByName=function(e){e=e.replace(/[\[\]]/g,"\\$&");const i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t.context.location.href);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},t.getParentLink=function(t){for(;t&&"BODY"!==t.tagName;){if("A"==t.tagName)return t;t=t.parentNode}return null},t.getParentElWithClass=function(t,e){try{for(;t&&"BODY"!==t.tagName;){if(t.classList.contains(e))return t;t=t.parentNode}}catch(t){return null}return null},t.extractClass=function(t){if(t&&void 0!==t.className){const e=t.className.replace(/\s/g,".").split(".")[0];if(e)return e.replace(876580,"")}return""},t.findClosest=function(t,e){let i;for(;t.parentNode;){i=t.parentNode.querySelectorAll(e);for(let e=0;e<i.length;e++)if(t.isEqualNode(i[e]))return i[e];t=t.parentNode}return null},t.prepareTeaserData=function(e){const i={};i.source=t.htmlEntities(e[0]),i.id=t.htmlEntities(e[1]),i.title=void 0!==e[3]?t.prepareTitle(e[3]):"",i.desc=void 0!==e[4]?t.prepareDesc(e[4]):"",i.mirror="trafficmedia",i.key=e[6],i.price=void 0!==e[7]?t.htmlEntities(e[7]).replace(".00",""):"",i.priceold=void 0!==e[8]?t.htmlEntities(e[8]).replace(".00",""):"";const n=100*(1-parseFloat(i.price)/parseFloat(i.priceold));n<=1||n>100?(i.priceold="",i.discount=""):i.discount=Math.floor(n)+"%",i.hash=e[9],i.other=void 0!==e[10]?e[10]:{},void 0!==i.other.i?i.other.i=t.htmlEntities(i.other.i):i.other.i=t.blankImage;const a=i.title.toLowerCase(),o=i.desc.toLowerCase(),r=["","",""," "];if("1"==e[5]){i.isReplic=!0;for(let e=0;e<r.length;e++)if(t.prepareTitle(a).indexOf(r[e])>-1||t.prepareDesc(o).indexOf(r[e])>-1){i.isReplic=!1;break}0}else i.isReplic=!1;return"desktop"!=t.deviceType&&(i.other.sdl=0),e.other=i.other,t.teaserData[i.hash]=e,t.teaserData[i.hash].type="teaser",t.teaserData[i.hash].id=i.id,t.teaserData[i.hash].source=i.source,t.teaserData[i.hash].img=i.other.i,t.teaserData[i.hash].link=void 0!==i.other.l?i.other.l:"",t.teaserData[i.hash].mirror=i.mirror,t.teaserData[i.hash].coopType=void 0!==i.other.type?i.other.type:null,t.teaserData[i.hash].clicktrackers=void 0!==i.other.clicktrackers?i.other.clicktrackers:[],t.teaserData[i.hash].cdomain=i.other.cdomain||null,t.teaserData[i.hash].ccid=i.other.ccid||null,t.teaserData[i.hash].ch=i.other.ch||null,t.teaserData[i.hash].imp=void 0!==i.other.imp?i.other.imp:[],t.teaserData[i.hash].impt=void 0!==i.other.impt?i.other.impt:[],t.teaserData[i.hash].iteration=t.iteration,t.teaserData[i.hash].page=t.page,"i"==t.teaserData[i.hash].coopType&&(t.context._mgIntExchangeNews[i.id]=1),i},t.getInternalIds=function(){return Object.keys(t.context._mgIntExchangeNews)},t.tox64String=function(t,e){e=void 0!==e&&e;const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,a,o,r,s,c,p,l="",d=0;for(;d<t.length;)n=t.charCodeAt(d++),a=t.charCodeAt(d++),o=t.charCodeAt(d++),r=n>>2,s=(3&n)<<4|a>>4,c=isNaN(a)?64:(15&a)<<2|o>>6,p=isNaN(o)?64:63&o,l+=i.charAt(r)+i.charAt(s)+i.charAt(c)+i.charAt(p);return!0===e&&(l=l.replace("+","-").replace("/","_").replace("=","*")),l},t.hangNiceLinkListener=function(e,i){if(t.loadedDefault)return;const n=e.getAttribute("data-hash");return void 0!==t.teaserData[n]&&void 0!==t.teaserData[n].other&&void 0!==t.teaserData[n].other.sdl&&(t.teaserData[n].other.sdl=0),e[t.hrefAttr]=t.prepareHref(n,i,e),!0},t.eventsHangNiceLinkListener=function(e){e||(e=t.context.event),e.target||(e.target=e.srcElement);let i=e.target;"A"!=i.tagName&&(i=t.getParentLink(i),null===i)||i.hasAttribute("data-hash")&&t.hangNiceLinkListener(i,e)},t.htmlToElement=function(t){const e=document.createElement("div");return e.innerHTML=t,e.firstChild},t.htmlToElements=function(e){const i=t.context.document.createElement("div");return i.innerHTML=e,Array.prototype.slice.call(i.childNodes)},t.isHiddenElement=function(t){for(;"BODY"!==t.tagName;){if("fixed"!=t.style.position&&null==t.offsetParent)return!0;if("hidden"==t.style.visibility)return!0;if("none"==t.style.display)return!0;t=t.parentNode}return!1},t.getTimeBySeconds=function(t){let e="",i=new Date(1e3*t).toISOString().substr(11,8);if(1===t.indexOf(":")||2===t.indexOf(":"))i=t;else{if(Number.isNaN(parseInt(t)))return"00:00";e=i.split(":")}return"00"===e[0]&&(i=e[1]+":"+e[2]),i},t.htmlEntities=function(t){return String(void 0!==t?t:"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.random=function(t,e){return Math.floor(t+Math.random()*(e-t+1))},t.getCurrentTimestamp=function(){return Math.floor(Date.now()/1e3)},t.setCappingRealShowTime=function(){t.cappingRealShowTime=t.getCurrentTimestamp()},t.setWidgetRealShowTime=function(e,i){e&&i>=.01&&(t.widgetRealShowTime=t.getCurrentTimestamp())},t.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},t.getExpectedCountNews=function(){let e=3;const i=JSON.parse("false");return t.utils.isMobile()&&void 0!==i.mobile&&(e=i.mobile),e},t.isPassiveSupported=()=>{if(void 0!==t.passiveIsSupported)return t.passiveIsSupported;t.passiveIsSupported=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t.passiveIsSupported=!0}}))}catch(t){}return t.passiveIsSupported},t.fixWrongExternalImages=function(){const e=t.root.getElementsByClassName("mg-wrong-image");for(let i=0;i<e.length;i++){const n=e[i].src;e[i].src=t.blankImage,function(e,i,n){setTimeout((function(){const a=e.getBoundingClientRect();e.classList.add("mg-wrongImage"+n),t.stylesheetsBlock.add("wrongImage"+n,".mg-wrongImage"+n+" { width: "+a.width+"px !important;\nheight: "+a.height+"px !important;\nobject-fit: cover;\n-o-object-fit: cover;\nobject-position: top;\n-o-object-position: top;\n }"),e.src=i}),50)}(e[i],n,i)}},t.getWidgetValue=function(e,i){const n=JSON.parse("[]");return t.originalId!==t.id&&void 0!==n[t.id]&&void 0!==n[t.id][e]?n[t.id][e]:i},t.isEnabledDoubleClick=function(){return void 0!==t.servicerData.dcb}}},function(t,e){t.exports=function(t){let e=null;t.log=function(i){null===e&&"1"==t.getQueryParameterByName("mgwdebug")&&(e=!0),e&&console.log("WIDGET_876580_"+t.uniqId,i)}}},function(t,e,i){window.TrafficmediaCInternalExchangeBlock876580=function(t){t.afterLoadNewsHooks.push("initIntExchangeLabels"),t.initIntExchangeLabels=function(){if(-1===t.enabledCooperationTypes.indexOf("int_exchange")&&-1===[3,2].indexOf(t.currentSubnet))return;const e=function(t){const e=[],i=[t];for(;i.length>0;){const t=i.pop();for(let n=0;n<t.childNodes.length;n++){const a=t.childNodes[n];a.nodeType===Node.COMMENT_NODE?e.push(a):i.push(a)}}return e}(t.root);for(let i=0;i<e.length;i++){const n=e[i],a=t.findClosest(n,".mgline");if(!a)continue;if(-1===a.className.indexOf("type-w"))continue;const o=t.context.document.createElement("IMG");if(o.setAttribute("height",20),"intExchangeWagesImagePlace"===n.data){o.className="mcimgad",o.src=t.webProtocol+"//cdn.traffic-media.co.uk/images/adskeeper/int_exchange_wages_ad.svg";const e=a.getElementsByClassName("criteo-informer");1===e.length&&(e[0].style.top="2px",e[0].style.right="70px")}const r=a.querySelector("a"),s=r["data-hash"]||r.getAttribute("data-hash");s&&t.teaserData[s]&&t.teaserData[s].source&&"intExhangeWagesSourcePlace"===n.data&&(o.className="mcimgsrc",o.src=t.webProtocol+"//cdn.traffic-media.co.uk/images/adskeeper/int_exchange_wages_src.svg"),o.src&&n.parentNode.replaceChild(o,n)}}}},function(t,e){window.TrafficmediaCColorBlock876580=function(t){t.colorAverage=function(t){let n={r:0,g:0,b:0};return new Promise((function(a){t.onload=function(){const o=document.createElement("canvas");o.width=32,o.height=32;const r=o.getContext("2d");r.drawImage(t,0,0,32,32);try{const t=r.getImageData(0,0,32,32);let a=-4,o=0;for(;(a+=4)<t.data.length;)++o,n.r+=t.data[a],n.g+=t.data[a+1],n.b+=t.data[a+2];n.r=Math.floor(n.r/o),n.g=Math.floor(n.g/o),n.b=Math.floor(n.b/o);const s=e(n.r,n.g,n.b);s.l>.8&&(n=i(s.h,s.s,.8))}catch(t){}a(n)}}))};const e=function(t,e,i){t/=255,e/=255,i/=255;const n=Math.max(t,e,i),a=Math.min(t,e,i);let o,r;const s=(n+a)/2;if(n==a)o=r=0;else{const c=n-a;switch(r=s>.5?c/(2-n-a):c/(n+a),n){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4}o/=6}return{h:o,s:r,l:s}},i=function(t,e,i){let n,a,o;if(0==e)n=a=o=i;else{const r=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},s=i<.5?i*(1+e):i+e-i*e,c=2*i-s;n=r(c,s,t+1/3),a=r(c,s,t),o=r(c,s,t-1/3)}return{r:Math.floor(255*n),g:Math.floor(255*a),b:Math.floor(255*o)}}}},function(t,e){window.TrafficmediaCInternalExchangeLoggerBlock876580=function(t){t.afterLoadNewsHooks.push("iExchangeLoggerInit"),t.internalExchangeLoggerHandler=function(e){const i=e.getAttribute("data-hash");if(t.teaserData[i]&&"i"==t.teaserData[i].coopType){const n=document.createElement("IMG");let a="cid="+t.id+"&tid="+t.teaserData[i].id+"&h="+i;void 0!==t.servicerData.isBot&&(a+="&bot="+t.servicerData.isBot),void 0!==t.servicerData.tt&&(a+="&tt="+t.servicerData.tt),void 0!==t.servicerData.ts&&(a+="&ts="+t.servicerData.ts),void 0!==t.servicerData.psid&&(a+="&psid="+t.servicerData.psid),void 0!==t.servicerData.dt&&(a+="&dt="+t.servicerData.dt);a+="&ce="+e.parentNode.tagName+("."+t.extractClass(e.parentNode));const o="//c.traffic-media.co.uk/clie?"+a;n.src=t.webProtocol+o,n.onerror=function(){}}return!0},t.iExchangeLoggerInit=function(){t.addClickHandler(t.clickHandlerList.internalExchangeLogger.handler,t.clickHandlerList.internalExchangeLogger.priority)}}},function(t,e){window.TrafficmediaCObserverBlock876580=function(t){t.context.IntersectionObserver&&(t.afterLoadNewsHooks.push("initWidgetObserver"),t.initWidgetObserver=function(){t.widgetObserver=new IntersectionObserver((function(e){e.forEach(e=>{const i=e.isIntersecting?"shown":"hidden";if(e.target==t.root)t.log(`Observer. Widget ${i}. Ratio: ${e.intersectionRatio}`),t.lifeCycleBlock.processHooks("observerWidgetHooks",[e.isIntersecting,e.intersectionRatio]);else for(let n=0;n<t.observerTeasersHooks.length;n++){let n=1,a=1;try{n=t.teaserData[e.target.dataset.i].iteration,a=t.teaserData[e.target.dataset.i].page}catch(t){}t.log(`Observer. Teaser[${a}, ${n}] ${i}. Ratio: ${e.intersectionRatio}`),t.lifeCycleBlock.processHooks("observerTeasersHooks",[e.target,e.isIntersecting,e.intersectionRatio,n,a])}})}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),t.widgetObserver.observe(t.root);for(const e of t.root.getElementsByClassName("mgline"))t.widgetObserver.observe(e)})}},function(t,e,i){window.TrafficmediaCSendDimensionsBlock876580=function(t){t.precalcRect={},t.childMarginFixPixels=1,t.lorem="Lorem ipsum dolor sit amet Lorem ipsum dolor sit amet",t.calcPreRenderingBlock=function(){let e=t.root.getElementsByClassName("mgline");"function"==typeof t.initIframeSizeChange&&t.initIframeSizeChange();const i=t.root.getBoundingClientRect();t.precalcRect.width=parseInt(i.width?i.width:i.right-i.left),t.precalcRect.height=parseInt(i.height?i.height:i.bottom-i.top)-t.childMarginFixPixels,t.precalcRect.top=i.top,t.precalcRect.bottom=i.bottom,t.requestParams.w="w="+t.precalcRect.width,t.requestParams.h="h="+t.precalcRect.height;let n=0;const a="".split(",").map(Number)||[];for(let i=0;i<e.length;i++){const o=i+1,r=e[i].getBoundingClientRect(),s=e[i].querySelector("img.mcimg");if(void 0!==s){let e=s.getBoundingClientRect();if(0===e.height||0===e.width){const i="#preRenderingBlock876580_"+t.uniqId;null!==t.realRoot.querySelector(i)&&(t.realRoot.querySelector(i).style.clear="both",e=s.getBoundingClientRect())}0!==e.height&&0!==e.width||(t.requestParams.wrongImageSize="wrongImageSize=1"),t.preRenderImageSizes[o-1]={height:e.height,width:e.width}}if(-1!==a.indexOf(o)){const e=parseInt(r.height?r.height:r.bottom-r.top),i=parseInt(r.width?r.width:r.right-r.left);t.requestParams["p"+o+"_w"]="p"+o+"_w="+i,t.requestParams["p"+o+"_h"]="p"+o+"_h="+e,t.requestParams["maxw_"+o]="maxw_"+o+"="+i,t.requestParams["maxh_"+o]="maxh_"+o+"="+e,t.preRenderTeaserSizes[o-1]={height:e,width:i}}void 0!==t.prepTop&&t.prepTop<r.top&&0===n&&(n=i),t.prepTop=r.top}0==n&&(n=e.length),t.requestParams.cols="cols="+n,t.root=t.realRoot;const o="preRenderingBlock876580_"+t.uniqId;let r=t.root;t.root.parentNode.id===o&&null!=t.root.parentNode.parentNode&&(r=t.root.parentNode.parentNode),null!==r.querySelector("#"+o)&&r.removeChild(r.querySelector("#"+o)),t.root.style.overflow="visible",t.root.style.visibility="visible",t.root.style.width=t.precalcRect.width+"px",t.root.style.height=t.precalcRect.height+"px",t.afterLoadNewsHooks.push("clearReservationStyles"),t.clearReservationStyles=function(){t.root.style.width="auto",t.root.style.height="auto"},t.loadedType="",t.currentSubnet="",t.countLoadBlocks=t.countLoadBlocksContainer,t.template="",t.iteration=1},t.preparePrerenderData=function(e){t.loadedType="goods",t.currentSubnet="0",t.realRoot=t.root,t.countLoadBlocksContainer=t.countLoadBlocks;const i=t.context.document.createElement("div");i.id="preRenderingBlock876580_"+t.uniqId,i.style.visibility="hidden";const n=t.context.document.createElement("div");n.id=t.root.id,n.style.padding=t.childMarginFixPixels+"px 0 0 0",n.style.margin="-${self.childMarginFixPixels}px auto 0 auto",i.appendChild(n),t.root.appendChild(i),t.root=n;const a=e||t.getExpectedCountNews(),o=[];for(let e=1;e<=a;e++)o.push(["",e,"",t.lorem,t.lorem,"","","","","",{i:t.blankImage}]);return o}}},function(t,e,i){window.TrafficmediaCAntifraudStatisticsBlock876580=function(t){const e=i(39);class n{static getClosestDistanceInSquare(t,e){const i=t.x-e.left,n=t.y-e.top,a=e.width-i,o=e.height-n;return Math.min(i,n,a,o)}static getInnerElementPercent(t,e){const i=t.getBoundingClientRect(),n=Math.abs(i.width*i.height);let a=i.width,o=i.height;i.top<0&&(o+=i.top),i.left<0&&(a+=i.left);const r=i.top+i.height;e.height<r&&(o-=r-e.height);const s=i.left+i.width;e.width<s&&(a-=s-e.width),o=o>0?o:0,a=a>0?a:0;return 100*(a*o)/n}static findTeaserElement(e){return t.findClosest(e,"div[data-i]")}static findImageElementOfTeaser(t){return t.querySelector("img.mcimg")}static getViewportSize(){return{width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}}const a=new class{constructor(){this.action="undefined",this.isTabActive=!0,this.clickTime=0,this.lastScrollTime=0,this.lastPageResizeTime=0,this.lastWidgetResizeTime=0,this.widgetCoordinateX=0,this.widgetCoordinateY=0,this.tapRadiusX=0,this.tapRadiusY=0,this.isHidden=!1,this.clickToBorderDistance=0,this.teaserCoordinateX=0,this.teaserCoordinateY=0,this.teaserWidth=0,this.teaserHeight=0,this.imageWidth=0,this.imageHeight=0,this.teaserViewportPercent=0,this.widgetOnLoadDisposition=!1,this.clickCoordinateX=0,this.clickCoordinateY=0,this.compileTime=1627393573}},o=new class{constructor(t){this.parameters=t}send(e,i){const n=new XMLHttpRequest;n.open("POST",t.webProtocol+"//c.traffic-media.co.uk/aws",!0),n.setRequestHeader("Content-Type","application/json"),n.send(btoa(JSON.stringify({rid:i,showHash:e,parameters:this.getEncodedParameters(e,i)})))}getEncodedParameters(t,i){const n={stringify:function(t){const e={ct:btoa(t.ciphertext.toString())};return t.iv&&(e.iv=t.iv.toString()),t.salt&&(e.s=btoa(t.salt.toString())+Math.random().toString(36).slice(-2)),JSON.stringify(e).replace(/\s/g,"")}};return btoa(e.encrypt(JSON.stringify(this.parameters),t+i,{format:n}).toString())}}(a),r=new class{constructor(t){this.parameters=t,this.initialWidgetCoordinates={x:0,y:0}}onWidgetLoadEvent(){const e=t.root.getBoundingClientRect();this.initialWidgetCoordinates={x:e.left+window.scrollX,y:e.top+window.scrollY}}onContextFocusEvent(){this.parameters.isTabActive=!0}onContextBlurEvent(){this.parameters.isTabActive=!1}onWidgetClickEvent(e,i){this.setWidgetCoordinates(),this.setClickCoordinates(i),this.parameters.action="click",this.parameters.clickTime=t.getCurrentTimestamp(),this.parameters.widgetOnLoadDisposition=this.getWidgetDisposition();const a=n.findTeaserElement(e);if(a){const t=a.getBoundingClientRect();this.parameters.isHidden=!a.offsetParent,this.parameters.teaserCoordinateX=t.left,this.parameters.teaserCoordinateY=t.top,this.parameters.teaserWidth=t.width,this.parameters.teaserHeight=t.height,this.parameters.clickToBorderDistance=n.getClosestDistanceInSquare({x:i.clientX,y:i.clientY},t),this.parameters.teaserViewportPercent=n.getInnerElementPercent(a,n.getViewportSize());const e=n.findImageElementOfTeaser(a);e&&this.setImageProperties(e)}}onContextScrollEvent(){this.parameters.lastScrollTime=t.getCurrentTimestamp()}onContextResizeEvent(){this.parameters.lastPageResizeTime=t.getCurrentTimestamp()}onRootResizeEvent(){this.parameters.lastWidgetResizeTime=t.getCurrentTimestamp()}onRootTouchEndEvent(t){const e=t.changedTouches.item(0);e&&(this.parameters.tapRadiusX=e.radiusX,this.parameters.tapRadiusY=e.radiusY)}setWidgetCoordinates(){const e=t.root.getBoundingClientRect();this.parameters.widgetCoordinateX=e.left,this.parameters.widgetCoordinateY=e.top}setImageProperties(t){const e=t.getBoundingClientRect();this.parameters.imageWidth=e.width,this.parameters.imageHeight=e.height}getWidgetDisposition(){return this.parameters.widgetCoordinateX+window.scrollX!==this.initialWidgetCoordinates.x||this.parameters.widgetCoordinateY+window.scrollY!==this.initialWidgetCoordinates.y}setClickCoordinates(t){t.clientX||t.clientY?(this.parameters.clickCoordinateX=t.clientX,this.parameters.clickCoordinateY=t.clientY):t.touches&&t.touches[0]&&(this.parameters.clickCoordinateX=t.touches[0].clientX,this.parameters.clickCoordinateY=t.touches[0].clientY)}}(a);t.initAntifraudStatistics=()=>{r.onWidgetLoadEvent(),t.addEvent(t.context,"focus",()=>r.onContextFocusEvent()),t.addEvent(t.context,"blur",()=>r.onContextBlurEvent()),t.addEvent(t.context,"scroll",()=>r.onContextScrollEvent()),t.addEvent(t.context,"resize",()=>r.onContextResizeEvent()),t.addEvent(t.root,"resize",()=>r.onRootResizeEvent()),t.addEvent(t.root,"touchend",t=>r.onRootTouchEndEvent(t)),t.addClickHandler(t.clickHandlerList.onAntifraudStatisticsClick.handler,t.clickHandlerList.onAntifraudStatisticsClick.priority)},t.onAntifraudStatisticsClickHandler=(e,i)=>(r.onWidgetClickEvent(e,i),o.send(e.getAttribute("data-hash"),t.servicerData.rid),!0),t.afterLoadNewsHooks.push("initAntifraudStatistics")}},function(t,e){const i=function(t,e){var i={},n=i.lib={},a=function(){},o=n.Base={extend:function(t){a.prototype=this;var e=new a;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=n.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var a=0;a<t;a++)e[n+a>>>2]|=(i[a>>>2]>>>24-a%4*8&255)<<24-(n+a)%4*8;else if(65535<i.length)for(a=0;a<t;a+=4)e[n+a>>>2]=i[a>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],n=0;n<e;n+=4)i.push(4294967296*t.random()|0);return new r.init(i,e)}}),s=i.enc={},c=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;n<t;n++){var a=e[n>>>2]>>>24-n%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new r.init(i,e/2)}},p=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;n<t;n++)i.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new r.init(i,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},d=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,a=i.sigBytes,o=this.blockSize,s=a/(4*o);if(e=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,a=t.min(4*e,a),e){for(var c=0;c<e;c+=o)this._doProcessBlock(n,c);c=n.splice(0,e),i.sigBytes-=a}return new r.init(c,a)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=d.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new h.HMAC.init(t,i).finalize(e)}}});var h=i.algo={};return i}(Math);var n,a;a=(n=i).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp(),t=[];for(var a=0;a<i;a+=3)for(var o=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,r=0;4>r&&a+.75*r<i;r++)t.push(n.charAt(o>>>6*(3-r)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,i=this._map;(n=i.charAt(64))&&-1!=(n=t.indexOf(n))&&(e=n);for(var n=[],o=0,r=0;r<e;r++)if(r%4){var s=i.indexOf(t.charAt(r-1))<<r%4*2,c=i.indexOf(t.charAt(r))>>>6-r%4*2;n[o>>>2]|=(s|c)<<24-o%4*8,o++}return a.create(n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){function e(t,e,i,n,a,o,r){return((t=t+(e&i|~e&n)+a+r)<<o|t>>>32-o)+e}function n(t,e,i,n,a,o,r){return((t=t+(e&n|i&~n)+a+r)<<o|t>>>32-o)+e}function a(t,e,i,n,a,o,r){return((t=t+(e^i^n)+a+r)<<o|t>>>32-o)+e}function o(t,e,i,n,a,o,r){return((t=t+(i^(e|~n))+a+r)<<o|t>>>32-o)+e}for(var r=i,s=(p=r.lib).WordArray,c=p.Hasher,p=r.algo,l=[],d=0;64>d;d++)l[d]=4294967296*t.abs(t.sin(d+1))|0;p=p.MD5=c.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,i){for(var r=0;16>r;r++){var s=t[c=i+r];t[c]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}r=this._hash.words;var c=t[i+0],p=(s=t[i+1],t[i+2]),d=t[i+3],h=t[i+4],f=t[i+5],u=t[i+6],m=t[i+7],g=t[i+8],v=t[i+9],x=t[i+10],w=t[i+11],k=t[i+12],b=t[i+13],y=t[i+14],C=t[i+15],_=e(_=r[0],D=r[1],E=r[2],T=r[3],c,7,l[0]),T=e(T,_,D,E,s,12,l[1]),E=e(E,T,_,D,p,17,l[2]),D=e(D,E,T,_,d,22,l[3]);_=e(_,D,E,T,h,7,l[4]),T=e(T,_,D,E,f,12,l[5]),E=e(E,T,_,D,u,17,l[6]),D=e(D,E,T,_,m,22,l[7]),_=e(_,D,E,T,g,7,l[8]),T=e(T,_,D,E,v,12,l[9]),E=e(E,T,_,D,x,17,l[10]),D=e(D,E,T,_,w,22,l[11]),_=e(_,D,E,T,k,7,l[12]),T=e(T,_,D,E,b,12,l[13]),E=e(E,T,_,D,y,17,l[14]),_=n(_,D=e(D,E,T,_,C,22,l[15]),E,T,s,5,l[16]),T=n(T,_,D,E,u,9,l[17]),E=n(E,T,_,D,w,14,l[18]),D=n(D,E,T,_,c,20,l[19]),_=n(_,D,E,T,f,5,l[20]),T=n(T,_,D,E,x,9,l[21]),E=n(E,T,_,D,C,14,l[22]),D=n(D,E,T,_,h,20,l[23]),_=n(_,D,E,T,v,5,l[24]),T=n(T,_,D,E,y,9,l[25]),E=n(E,T,_,D,d,14,l[26]),D=n(D,E,T,_,g,20,l[27]),_=n(_,D,E,T,b,5,l[28]),T=n(T,_,D,E,p,9,l[29]),E=n(E,T,_,D,m,14,l[30]),_=a(_,D=n(D,E,T,_,k,20,l[31]),E,T,f,4,l[32]),T=a(T,_,D,E,g,11,l[33]),E=a(E,T,_,D,w,16,l[34]),D=a(D,E,T,_,y,23,l[35]),_=a(_,D,E,T,s,4,l[36]),T=a(T,_,D,E,h,11,l[37]),E=a(E,T,_,D,m,16,l[38]),D=a(D,E,T,_,x,23,l[39]),_=a(_,D,E,T,b,4,l[40]),T=a(T,_,D,E,c,11,l[41]),E=a(E,T,_,D,d,16,l[42]),D=a(D,E,T,_,u,23,l[43]),_=a(_,D,E,T,v,4,l[44]),T=a(T,_,D,E,k,11,l[45]),E=a(E,T,_,D,C,16,l[46]),_=o(_,D=a(D,E,T,_,p,23,l[47]),E,T,c,6,l[48]),T=o(T,_,D,E,m,10,l[49]),E=o(E,T,_,D,y,15,l[50]),D=o(D,E,T,_,f,21,l[51]),_=o(_,D,E,T,k,6,l[52]),T=o(T,_,D,E,d,10,l[53]),E=o(E,T,_,D,x,15,l[54]),D=o(D,E,T,_,s,21,l[55]),_=o(_,D,E,T,g,6,l[56]),T=o(T,_,D,E,C,10,l[57]),E=o(E,T,_,D,u,15,l[58]),D=o(D,E,T,_,b,21,l[59]),_=o(_,D,E,T,h,6,l[60]),T=o(T,_,D,E,w,10,l[61]),E=o(E,T,_,D,p,15,l[62]),D=o(D,E,T,_,v,21,l[63]);r[0]=r[0]+_|0,r[1]=r[1]+D|0,r[2]=r[2]+E|0,r[3]=r[3]+T|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;i[a>>>5]|=128<<24-a%32;var o=t.floor(n/4294967296);for(i[15+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(a+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(i.length+1),this._process(),i=(e=this._hash).words,n=0;4>n;n++)a=i[n],i[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);return e},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}}),r.MD5=c._createHelper(p),r.HmacMD5=c._createHmacHelper(p)}(Math),function(){var t,e=i,n=(t=e.lib).Base,a=t.WordArray,o=(t=e.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=(s=this.cfg).hasher.create(),n=a.create(),o=n.words,r=s.keySize,s=s.iterations;o.length<r;){c&&i.update(c);var c=i.update(t).finalize(e);i.reset();for(var p=1;p<s;p++)c=i.finalize(c),i.reset();n.concat(c)}return n.sigBytes=4*r,n}});e.EvpKDF=function(t,e,i){return o.create(i).compute(t,e)}}(),i.lib.Cipher||function(t){var e=(u=i).lib,n=e.Base,a=e.WordArray,o=e.BufferedBlockAlgorithm,r=u.enc.Base64,s=u.algo.EvpKDF,c=e.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,i,n){return("string"==typeof i?m:f).encrypt(t,e,i,n)},decrypt:function(e,i,n){return("string"==typeof i?m:f).decrypt(t,e,i,n)}}}});e.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var p=u.mode={},l=function(t,e,i){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var a=0;a<i;a++)t[e+a]^=n[a]},d=(e.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();d.Encryptor=d.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize;l.call(this,t,e,n),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),d.Decryptor=d.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,a=t.slice(e,e+n);i.decryptBlock(t,e),l.call(this,t,e,n),this._prevBlock=a}}),p=p.CBC=d,d=(u.pad={}).Pkcs7={pad:function(t,e){for(var i,n=(i=(i=4*e)-t.sigBytes%i)<<24|i<<16|i<<8|i,o=[],r=0;r<i;r+=4)o.push(n);i=a.create(o,i),t.concat(i)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=c.extend({cfg:c.cfg.extend({mode:p,padding:d}),reset:function(){c.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=e.createEncryptor;else i=e.createDecryptor,this._minBufferSize=1;this._mode=i.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var h=e.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),f=(p=(u.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?a.create([1398893684,1701076831]).concat(t).concat(e):e).toString(r)},parse:function(t){var e=(t=r.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var i=a.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return h.create({ciphertext:t,salt:i})}},e.SerializableCipher=n.extend({cfg:n.extend({format:p}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var a=t.createEncryptor(i,n);return e=a.finalize(e),a=a.cfg,h.create({ciphertext:e,key:i,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),u=(u.kdf={}).OpenSSL={execute:function(t,e,i,n){return n||(n=a.random(8)),t=s.create({keySize:e+i}).compute(t,n),i=a.create(t.words.slice(e),4*i),t.sigBytes=4*e,h.create({key:t,iv:i,salt:n})}},m=e.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:u}),encrypt:function(t,e,i,n){return i=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize),n.iv=i.iv,(t=f.encrypt.call(this,t,e,i.key,n)).mixIn(i),t},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),i=n.kdf.execute(i,t.keySize,t.ivSize,e.salt),n.iv=i.iv,f.decrypt.call(this,t,e,i.key,n)}})}(),function(){for(var t=i,e=t.lib.BlockCipher,n=t.algo,a=[],o=[],r=[],s=[],c=[],p=[],l=[],d=[],h=[],f=[],u=[],m=0;256>m;m++)u[m]=128>m?m<<1:m<<1^283;var g=0,v=0;for(m=0;256>m;m++){var x=(x=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&x^99;a[g]=x,o[x]=g;var w=u[g],k=u[w],b=u[k],y=257*u[x]^16843008*x;r[g]=y<<24|y>>>8,s[g]=y<<16|y>>>16,c[g]=y<<8|y>>>24,p[g]=y,y=16843009*b^65537*k^257*w^16843008*g,l[x]=y<<24|y>>>8,d[x]=y<<16|y>>>16,h[x]=y<<8|y>>>24,f[x]=y,g?(g=w^u[u[u[b^w]]],v^=u[u[v]]):g=v=1}var C=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=e.extend({_doReset:function(){for(var t=(i=this._key).words,e=i.sigBytes/4,i=4*((this._nRounds=e+6)+1),n=this._keySchedule=[],o=0;o<i;o++)if(o<e)n[o]=t[o];else{var r=n[o-1];o%e?6<e&&4==o%e&&(r=a[r>>>24]<<24|a[r>>>16&255]<<16|a[r>>>8&255]<<8|a[255&r]):(r=a[(r=r<<8|r>>>24)>>>24]<<24|a[r>>>16&255]<<16|a[r>>>8&255]<<8|a[255&r],r^=C[o/e|0]<<24),n[o]=n[o-e]^r}for(t=this._invKeySchedule=[],e=0;e<i;e++)o=i-e,r=e%4?n[o]:n[o-4],t[e]=4>e||4>=o?r:l[a[r>>>24]]^d[a[r>>>16&255]]^h[a[r>>>8&255]]^f[a[255&r]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,r,s,c,p,a)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,l,d,h,f,o),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,n,a,o,r,s){for(var c=this._nRounds,p=t[e]^i[0],l=t[e+1]^i[1],d=t[e+2]^i[2],h=t[e+3]^i[3],f=4,u=1;u<c;u++){var m=n[p>>>24]^a[l>>>16&255]^o[d>>>8&255]^r[255&h]^i[f++],g=n[l>>>24]^a[d>>>16&255]^o[h>>>8&255]^r[255&p]^i[f++],v=n[d>>>24]^a[h>>>16&255]^o[p>>>8&255]^r[255&l]^i[f++];h=n[h>>>24]^a[p>>>16&255]^o[l>>>8&255]^r[255&d]^i[f++],p=m,l=g,d=v}m=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^i[f++],g=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&p])^i[f++],v=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^i[f++],h=(s[h>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^i[f++],t[e]=m,t[e+1]=g,t[e+2]=v,t[e+3]=h},keySize:8});t.AES=e._createHelper(n)}(),t.exports=i.AES},function(t,e,i){window.TrafficmediaCRtbBlock876580=function(t){this.afterLoadNewsHooks.push("cmPixelLoad"),this.cmPixelLoad=function(e){if(!t.context["i.js.loaded"]&&t.cookieMatchingDomain){t.context["i.js.loaded"]=!0;const i=window.TrafficmediaInfC876580.context.document.createElement("script");i.charset="utf-8";let n=t.webProtocol+"//"+t.cookieMatchingDomain+"/i.js?";const a={};0;const o=t.consentsBlock.getConsentData();o&&(a.consentData=o.consentData,a.gdprApplies=+o.gdprApplies),t.muid&&(a.muid=t.muid),n+=Object.keys(a).map(t=>t+"="+encodeURIComponent(a[t])).join("&"),n+="&"+t.getCbusterParameter(),"string"==typeof e&&""!=e&&(n+=e),i.src=n,i.type="text/javascript",i.async=!0,i.onerror=function(){t.context["i.js.loaded"]=!1};(void 0!==window.TrafficmediaInfC876580.realRoot?window.TrafficmediaInfC876580.realRoot:window.TrafficmediaInfC876580.root).parentNode.appendChild(i)}if(!t.context["i-noref.js.loaded"]&&t.cookieMatchingDomain){t.context["i-noref.js.loaded"]=!0;const e=document.createElement("IFRAME");e.src="about:blank",e.frameBorder=0,e.style.position="absolute",e.style.top="0px",e.style.left="-1px",e.style.width="0px",e.style.height="0px",e.style.display="none",e.onload=()=>{setTimeout(()=>{const i=e.contentDocument.createElement("script");i.charset="utf-8";const n=t.webProtocol+"//"+t.cookieMatchingDomain+"/i-noref.js?"+t.getCbusterParameter();i.src=n,i.type="text/javascript",i.async=!0,i.onerror=function(){t.context["i-noref.js.loaded"]=!1},e.contentDocument.body.appendChild(i)},0)},setTimeout(()=>{document.body.appendChild(e)},0)}}}},function(t,e,i){window.TrafficmediaCIframeSizeChangerBlock876580=function(t){t.afterLoadNewsHooks.push("initIframeSizeChange"),t.initIframeSizeChange=function(){let e=null;try{if(void 0!==e&&null!=e||(e=t.context.parent.document.getElementById(t.context.name)),void 0!==e)try{const i=t.context.parent.document.getElementById(e.name+"__container__").parentNode;i.style.width="initial",i.style.height="initial"}catch(t){}}catch(e){return t.log("SafeFrame. Checking for support..."),void(t.isSafeFrameSupported()&&t.isSafeFrameAllowedPush()?(t.log("SafeFrame. Supported"),t.safeFrameRegister(),t.safeFrameExpand()):t.log("SafeFrame. Unsupported!"))}if(null!=e){const t="0".split("*");void 0!==t[0]&&(e.width=t[0]+"px"),void 0!==t[1]&&(e.height=t[1]+"px")}},t.isSafeFrameSupported=function(){return void 0!==t.context.$sf},t.isSafeFrameAllowedPush=function(){return t.context.$sf.ext.supports()["exp-push"]},t.safeFrameExpand=function(){t.log("SafeFrame. Expanding...");const e=t.context.$sf.ext.geom().exp,i={push:!0,t:e.t,l:e.l,r:e.r,b:e.b};t.context.$sf.ext.expand(i)},t.safeFrameRegister=function(){t.log("SafeFrame. Register..."),t.context.$sf.ext.register(300,250,(function(e,i){t.log("SafeFrame. "+e+"; "+JSON.stringify(i))}))}}},function(t,e){window.TrafficmediaCContentPreviewBlock876580=function(t){t.afterLoadNewsHooks.push("addPreviewEvent"),t.preloadAnimationStyles=".image-container {\noverflow: hidden;}\n.preload {\n  background: #2a397b;\n  left: -100%;\n  position: absolute;\n  top: 0;\n  height: 4px;\n  width: 100%;\n  z-index: 2;\n  -webkit-animation: preloadAnimation linear .8s;\n  -moz-animation: preloadAnimation linear .8s;\n  -ms-animation: preloadAnimation linear .8s;\n  -o-animation: preloadAnimation linear .8s;\n  animation: preloadAnimation linear .8s;\n  -webkit-animation-iteration-count: 1;\n  -moz-animation-iteration-count: 1;\n  -ms-animation-iteration-count: 1;\n  -o-animation-iteration-count: 1;\n  animation-iteration-count: 1;\n}\n@keyframes preloadAnimation {\n  0% {\n    transform: translateX(0)\n  }\n  90% {\n    transform: translateX(100%)\n  }\n  100% {\n    transform: translateY(-2px)\n  }\n}\n@-moz-keyframes preloadAnimation {\n  0% {\n    -moz-transform: translateX(0)\n  }\n  90% {\n    -moz-transform: translateX(100%)\n  }\n  100% {\n    -moz-transform: translateY(-2px)\n  }\n}\n@-ms-keyframes preloadAnimation {\n  0% {\n    -ms-transform: translateX(0)\n  }\n  90% {\n    -ms-transform: translateX(100%)\n  }\n  100% {\n    -ms-transform: translateY(-2px)\n  }\n}",t.addPreviewEvent=function(){t.addEvent(t.root,"mouseover",(function(e){t.injectPreview(e)})),t.addEvent(t.root,"touchstart",(function(e){t.injectPreview(e)})),t.addEvent(t.root,"mouseout",(function(e){t.removePreview(e)})),t.addEvent(t.root,"touchend",(function(e){t.removePreview(e)})),t.stylesheetsBlock.add("contentPreview",t.preloadAnimationStyles)},t.injectPreview=function(e){if("mcimg"===e.target.className){const i=e.target.parentNode.parentNode.dataset.hash;if(void 0!==t.teaserData[i]&&void 0!==t.teaserData[i].other.vp){const n=t.context.document.createElement("div");n.setAttribute("class","preload"),t.addEvent(n,"animationend",(function(t){t.target.parentNode.removeChild(t.target)})),e.target.parentNode.appendChild(n),setTimeout((function(){const n=t.context.document.createElement("video");n.src=t.teaserData[i].other.vp,n.classList.add("previewContent"),n.loop="loop",n.autoplay=!0,n.setAttribute("playsinline",""),n.muted="muted",n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="100%",e.target.parentNode.appendChild(n)}),100)}}},t.removePreview=function(e){let i=e.target;"mouseout"===e.type&&(i=e.relatedTarget);const n=t.root.querySelectorAll("video.previewContent");for(let t=0;t<n.length;t++)null==i||null==i.parentNode||void 0===i.parentNode.classList||i.parentNode.classList.contains("image-container")&&n[t]===i.parentNode.querySelector("video.previewContent")||(n[t].parentNode.querySelector("img.mcimg").style.display="block",n[t].parentNode.removeChild(n[t]))}}},function(t,e){window.TrafficmediaCGradientBlock876580=function(t){t.beforeInjectTemplateHooks.push("gradientRendering"),t.gradientRendering=function(){const e=t.templateContent.querySelectorAll("[class*=mgline-blur]");if(0===e.length)return;const i=function(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16):""};for(let n=0;n<e.length;n++){let a="",o="",r="";const s=/\bmgline-[^\s]*\b/.exec(e[n].classList.value),c=/\bmgline-[^\s]*\b-mob/.exec(e[n].classList.value);s&&(r=s[0].split("-").pop(),r="blur"===r?"bottom":r,a="to "+r+","),c&&(r=c[0].split("-")[2],o="to "+r+",");const p=e[n],l=e[n].getElementsByClassName("text-elements")[0];if(!e[n].getElementsByClassName("mctitle")[0])continue;const d=e[n].getElementsByClassName("mctitle")[0].getElementsByTagName("a")[0],h=e[n].getElementsByClassName("mcdomain"),f=e[n].querySelector("img.mcimg");let u="";""!==u&&(u=i(u));const m=function(e,i,n,a,o){(t.context.matchMedia("(max-width: 480px)").matches||"mobile"===t.deviceType)&&(a=o);let r="";r=""===u?"linear-gradient("+a+"transparent,rgba(0,0,0, 0.25) 15%,rgba(0,0,0, 0.85) 30%,rgb(0,0,0) 45%)":"linear-gradient("+a+"transparent,rgba("+u+", 0.25) 15%,rgba("+u+", 0.85) 30%,rgb("+u+") 45%)",e.style.background=r,i.style.color="#fff",Object.keys(n).forEach((function(t){n[t].firstElementChild.style.color="#fff"}))};""===u?function(e,i,n,a,o,r){t.colorAverage(f).then((function(s){(t.context.matchMedia("(max-width: 480px)").matches||"mobile"===t.deviceType)&&(o=r);const c=.299*s.r+.587*s.g+.114*s.b>186?"#000":"#fff",p="linear-gradient("+o+"transparent, rgba("+s.r+","+s.g+","+s.b+", 0.25) 15%,rgba("+s.r+","+s.g+","+s.b+", 0.85) 30%,rgb("+s.r+","+s.g+","+s.b+") 45%)";e.style.background="rgb("+s.r+","+s.g+","+s.b+")",i.style.background=p,n.style.color=c,Object.keys(a).forEach((function(t){a[t].firstElementChild.style.color="#fff"}))}))}(p,l,d,h,a,o):m(l,d,h,a,o),setTimeout((function(){const e=t.autoSizeTitle-Math.round(d.clientHeight/t.autoSizeTitle);d.style.fontSize=e+"px",d.style.lineHeight=e+"px"}),100)}}}},function(t,e){window.TrafficmediaCResponsiveBlock876580=function(t){t.afterLoadNewsHooks.push("responsiveInit"),t.responsiveInit=function(){t.ElementQueries.init(),t.fixPrices(),setTimeout((function(){t.fixFlexbox()}),100)},t.fixElementPrice=function(t){const e=t.getElementsByClassName("mcpriceouter");for(let t=0;t<e.length;t++){const i=e[t].parentNode,n=i.getElementsByClassName("mcpriceold");if(e[t].getBoundingClientRect().bottom>=i.getBoundingClientRect().bottom)for(let t=0;t<n.length;t++)n[t].style.display="none";else for(let a=0;a<n.length;a++)n[a].style.display="inline-block",e[t].getBoundingClientRect().bottom>=i.getBoundingClientRect().bottom&&(n[a].style.display="none")}},t.fixPrices=function(){const e=t.root.getElementsByClassName("mgline");for(let i=0;i<e.length;i++)!function(e){e.getElementsByClassName("mcpriceouter").length&&(t.fixElementPrice(e),e.resizeSensor=new t.ResizeSensor(e,(function(){t.fixElementPrice(e)})))}(e[i])},t.fixFlexbox=function(){let e=t.context.document.body||t.context.document.documentElement;if(e=e.style,""==e.webkitFlexWrap||""==e.msFlexWrap||""==e.flexWrap)return!0;const i=t.root.getElementsByClassName("mgline");for(let t=0;t<i.length;t++)i[t].style.height="auto";setTimeout((function(){let e=0;for(let t=0;t<i.length;t++){const n=i[t].getBoundingClientRect(),a=n.bottom-n.top;a>e&&(e=a)}if(0!=elH)for(let t=0;t<i.length;t++)i[t].style.height=e+"px";t.fixImages()}),0)},t.fixImages=function(){setTimeout((function(){let e=!1;const i=t.root.getElementsByClassName("mcimg");for(let t=0;t<i.length;t++)if("DIV"==i[t].tagName){const n=i[t].getBoundingClientRect();n.bottom-n.top<=25&&(e=!0,i[t].style.display="none",function(t){setTimeout((function(){t.style.display="block"}),0)}(i[t]))}e&&t.fixFlexbox()}),200)},t.ElementQueries=function(){function e(t){let e,i;this.element=t,this.options={};let n,a,o,r,s,c=0,p=0;this.addOption=function(t){const e=[t.mode,t.property,t.value].join(",");this.options[e]=t};const l=["min-width","min-height","max-width","max-height"];this.call=function(){for(e in c=this.element.offsetWidth,p=this.element.offsetHeight,o={},this.options)this.options.hasOwnProperty(e)&&(i=this.options[e],n=parseFloat(i.value),a="width"==i.property?c:p,s=i.mode+"-"+i.property,r="","min"==i.mode&&a>=n&&(r+=i.value),"max"==i.mode&&a<=n&&(r+=i.value),o[s]||(o[s]=""),r&&-1===(" "+o[s]+" ").indexOf(" "+r+" ")&&(o[s]+=" "+r));for(const t in l)o[l[t]]?this.element.setAttribute(l[t],o[l[t]].substr(1)):this.element.removeAttribute(l[t])}}function i(i,n,a){i.elementQueriesSetupInformation?i.elementQueriesSetupInformation.addOption(n):(i.elementQueriesSetupInformation=new e(i),i.elementQueriesSetupInformation.addOption(n),i.elementQueriesSensor=new t.ResizeSensor(i,(function(){i.elementQueriesSetupInformation.call()}),a)),i.elementQueriesSetupInformation.call()}function n(e,n,a,o){let r;const s=function(t){let e,i,n,a=0;if(0==t.length)return a;for(e=0,n=t.length;e<n;e++)i=t.charCodeAt(e),a=(a<<5)-a+i,a|=0;return a}(e+n+a+o);if(t.root.querySelectorAll&&t.root.querySelectorAll.bind&&(r=t.root.querySelectorAll.bind(t.root)),!r)return;const c=r(e);for(let t=0,e=c.length;t<e;t++)i(c[t],{mode:n,property:a,value:o},s)}const a=/,?([^,\n]*)\[[\s\t]*(min|max)-(width|height)[\s\t]*[~$\^]?=[\s\t]*"([^"]*)"[\s\t]*]([^\n\s\{]*)/gim;function o(t){let e;for(t=t.replace(/'/g,'"').replace(/(\[.*?\])([A-z\.-]*)/g,"$2$1");null!==(e=a.exec(t));)5<e.length&&n(e[1]||e[5],e[2],e[3],e[4])}function r(t){let e="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||o(t);else for(let i=0,n=t.length;i<n;i++)1===t[i].type?(e=t[i].selectorText||t[i].cssText,-1!==e.indexOf("min-height")||-1!==e.indexOf("max-height")?o(e):-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||o(e)):4===t[i].type&&r(t[i].cssRules||t[i].rules)}this.init=function(){const e=t.context.document.styleSheets;for(let t=0,i=e.length;t<i;t++)try{e[t].ownerNode&&"Trafficmedia876580"==e[t].ownerNode.className&&r(e[t].cssRules||e[t].cssText||e[t].rules)}catch(t){continue}},this.update=function(){this.init()}},t.ElementQueries.update=function(){t.ElementQueries.instance.update()},t.ElementQueries.init=function(){t.ElementQueries.instance||(t.ElementQueries.instance=new t.ElementQueries),t.ElementQueries.instance.init()},t.initElementQueries=function(){t.addEvent(t.context,"load",(function(){t.ElementQueries.init()}))},t.ResizeSensor=function(e,i,n){function a(){let t,e;this.q=[],this.add=function(t){this.q.push(t)},this.call=function(){for(t=0,e=this.q.length;t<e;t++)this.q[t].call()}}function o(e,i,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(i)}else e.resizedAttached=new a,e.resizedAttached.add(i);if(!t.context.document.querySelector)return;let o=t.context.document.querySelector(".resize-sensor.hash_"+n);if(null==o||!n){e.resizeSensor=t.context.document.createElement("div"),e.resizeSensor.className=n?"resize-sensor hash_"+n:"resize-sensor";const i="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",a="position: absolute; left: 0; top: 0;";e.resizeSensor.style.cssText=i,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+a+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+a+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),o=e.resizeSensor}({fixed:1,absolute:1})[function(e,i){return e.currentStyle?e.currentStyle[i]:t.context.getComputedStyle?t.context.getComputedStyle(e,null).getPropertyValue(i):e.style[i]}(e,"position")]||(e.style.position="relative");const r=o.childNodes[0],s=r.childNodes[0],c=o.childNodes[1];let p,l;const d=function(){s.style.width=r.offsetWidth+10+"px",s.style.height=r.offsetHeight+10+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight,p=e.offsetWidth,l=e.offsetHeight};d();const h=function(){e.resizedAttached&&e.resizedAttached.call()};t.addEvent(r,"scroll",(function(){(e.offsetWidth>p||e.offsetHeight>l)&&h(),d()})),t.addEvent(c,"scroll",(function(){(e.offsetWidth<p||e.offsetHeight<l)&&h(),d()}))}if("[object Array]"===Object.prototype.toString.call(e)||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements){let t=0;const a=e.length;for(;t<a;t++)o(e[t],i,n)}else o(e,i,n)}}}]);