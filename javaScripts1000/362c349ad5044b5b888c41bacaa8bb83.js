/*! jssdk 2021-07-14 */

!function(){"use strict";function a(a,b){return clearTimeout(b),setTimeout(a,400)}var b=function(){var a=navigator.userAgent.toLowerCase(),b={safari:/safari/gi.test(a)&&!/chrome/.test(a),winphone:/windows phone/gi.test(a)};return b.version=b.safari?(a.match(/.+?(?:on|ri)[\/: ]([\d.]+)/)||[])[1]:(a.match(/.+(?:ox|me|ra|ie|opr)[\/: ]([\d.]+)/)||[])[1],b}();void 0===Array.prototype.indexOf&&(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});var c=function(){window._tsAdBlockDetect="check",this._options={baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"},this._var={bait:null,event:function(a){window._tsAdBlockDetect=a,d.ready()}},this._createBait()};c.prototype={_createBait:function(){var a=document.createElement("div");a.setAttribute("class",this._options.baitClass),a.setAttribute("style",this._options.baitStyle),this._var.bait=window.document.body.appendChild(a),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,this._checkBait()},_destroyBait:function(){window.document.body.removeChild(this._var.bait),this._var.bait=null},_checkBait:function(){var a=!1;if(null===window.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!==this._var.bait.offsetHeight&&0!==this._var.bait.offsetLeft&&0!==this._var.bait.offsetTop&&0!==this._var.bait.offsetWidth&&0!==this._var.bait.clientHeight&&0!==this._var.bait.clientWidth||(a=!0),void 0!==window.getComputedStyle){var b=window.getComputedStyle(this._var.bait,null);"none"!=b.getPropertyValue("display")&&"hidden"!=b.getPropertyValue("visibility")||(a=!0)}this._destroyBait(),this._var.event(a)}};var d={banners:[],getDomain:function(){return"//tsyndicate.com/iframes2/"},setBannerSettings:function(a){var b,c=a.attributes,d={};d.keywords=this.getMetaWords();for(var e in c)(b="object"==typeof c[e]&&c[e].name)&&b.indexOf("data-ts")>=0&&(b=b.replace("data-ts-",""),d[b]=c[e].value);d.element=a,d.categories=d.categories||this.getHashUrl("context_categories")||"",this.banners.push(d)},ready:function(){this.eachScript()&&(this.setBanner(this.banners),window.addEventListener("scroll",this.onScrollWindowHandler.bind(this),{passive:!0}))},onIFrameLoadHandler:function(a,b){var c=b.target;a.loadEvent=!0,this.setPerformanceTrackPixel(c,a),this.iFrameTrackingImpression()},setPerformanceTrackPixel:function(a,b){var c=a.src,d=c&&this.getPerformanceTrackPixelParams(c,b),e=d&&this.getPerformanceTrackPixelElement(d);e&&document.body.appendChild(e)},getPerformanceTrackPixelElement:function(a){var b=document.createElement("img");return b.src="//pxl.tsyndicate.com/api/v1/elapsedtime"+a,b.width=1,b.height=1,b.style.position="absolute",b.style.top=0,b.onload=this.onLoadPerformanceTrackPixelHandler,b.onerror=this.onLoadPerformanceTrackPixelHandler,b},onLoadPerformanceTrackPixelHandler:function(a){var b=a.target,c=b&&b.parentNode;c&&c.removeChild(b)},getPerformanceTrackPixelParams:function(a,b){var c=this.getLoadIframeDuration(a),d="banner "+b.width+"x"+b.height,e=b.spot,f=window.location.hostname;return"number"==typeof c?"?f="+d+"&sc="+e+"&hn="+f+"&et="+c.toFixed():null},getLoadIframeDuration:function(a){if(window.hasOwnProperty("performance")&&!!window.performance.getEntriesByName){var b=performance.getEntriesByName(a,"resource"),c=b[0];return c&&c.duration}},onScrollWindowHandler:function(){this.scrollWindowDebounceId=a(this.iFrameTrackingImpression.bind(this),this.scrollWindowDebounceId)},iFrameTrackingImpression:function(){for(var a=this.banners,b=0;b<a.length;b++){var c=a[b],d=c.elementIFrame,e=this.getIFramePosition(d);c.loadEvent&&!c.tracked&&e<=0&&(c.tracked=!0,this.sendPostMessageIFrame(d.contentWindow,c.spot))}},sendPostMessageIFrame:function(a,b){var c=location.protocol+"//tsyndicate.com";a.postMessage(b,c)},getIFramePosition:function(a){var b=Number(a.height),c=.3*b;return a.getBoundingClientRect().top-window.innerHeight+c},setBanner:function(a){var b,c,d;if(a.length)for(var e=0;e<a.length;e++)a[e].loaded||(b=a[e].element,c=a[e],d=document.createElement("iframe"),d.width=c.width,d.height=c.height,d.frameBorder=0,d.marginheight=0,d.marginwidth=0,d.scrolling="no",!this.iFrameHasSandbox()&&(d.sandbox="allow-same-origin allow-popups allow-forms allow-scripts"),d.src=this.getDomain()+c.spot+".html?"+this.formatURLParams(c)+"&adb="+ +window._tsAdBlockDetect+"&clientjs=1"+this.getScreenSize()+this.timeZone(),b.nextSibling?b.parentNode.insertBefore(d,b.nextSibling):b.parentNode.appendChild(d),this.postSetBanner(a[e],d))},postSetBanner:function(a,b){a.loaded=!0,a.elementIFrame=b,b.addEventListener("load",this.onIFrameLoadHandler.bind(this,a),!0),a.element.parentNode.removeChild(a.element)},formatURLParams:function(a){for(var b,c=["categories","keywords","param1","param2","param3","subid","xhid","subid_1","subid_2","subid_3","subid_4","subid_5","extid","nb","ccss"],d=c.length,e=[],f=0;f<d;f++)if(b=c[f],a.hasOwnProperty(b)&&a[b]){var g=encodeURI(a[b]).substring(0,900);e.push(b+"="+encodeURI(g))}return e.join("&").substring(0,3120)},iFrameHasSandbox:function(){return b.winphone||b.safari&&5===parseInt(b.version,10)},getAttr:function(a,b){var c=a.getAttribute&&a.getAttribute(b)||null;if(!c&&"function"!=typeof a)for(var d=a.attributes,e=d.length,f=0;f<e;f++)d[f].nodeName===b&&(c=d[f].nodeValue);return c},getHashUrl:function(a){var b=location.hash;return b.substr(b.indexOf(a)).split("&")[0].split("=")[1]||null},eachScript:function(){var a,b,c,d,e=document.getElementsByTagName("script"),f=!1;if(e.length>0)for(var g=0;g<e.length;g++)a=this.getAttr(e[g],"data-ts-spot"),b=this.getAttr(e[g],"data-ts-width"),c=this.getAttr(e[g],"data-ts-height"),d=this.getAttr(e[g],"data-ts-instant-message"),a&&b&&c&&!d&&(f=!0,this.setBannerSettings(e[g],a));return f},giveSelf:function(){try{var a=-1!=navigator.userAgent.indexOf("Safari"),b=a||window==window.top?window:window.top;return b.document,b}catch(a){return window}},getMetaWords:function(){try{for(var a,b=this.giveSelf(),c="",d=b.document.getElementsByTagName("meta"),e=d.length,f=0;f<e;)"description"!=this.getAttr(d[f],"name")&&"keywords"!=this.getAttr(d[f],"name")||(c+=" "+this.getAttr(d[f],"content")),f++;return c.length||(c=b.location.pathname.split("/"),a=c&&c[c.length-1],c=a&&a.replace(/(x?html?)$/gi,"").match(/([a-zA-Z]+)/g).join(" ")),document.title&&(c+=" "+document.title),c.replace(/[^\w\s]/gi," ").replace(/(^\s+)|(\b(\w{1,2})\b(\s|$))/g,"").replace(/\s+/gi,",")}catch(a){return""}},addEvent:function(a,b,c){if(b.addEventListener)b.addEventListener(a,c,!1);else if(b.attachEvent){var d=b.attachEvent("on"+a,c);return d}},getScreenSize:function(){var a="",b=window.devicePixelRatio||1,c=window.screen||{},d=c.width,e=c.height;return d&&e&&(a="&w="+parseInt(d*b,10)+"&h="+parseInt(e*b,10)),a},timeZone:function(){return("&tz="+(new Date).getTimezoneOffset()).replace("-","%2D")}};void 0===window._tsAdBlockDetect?new c:!0!==window._tsAdBlockDetect&&!1!==window._tsAdBlockDetect||d.ready()}();