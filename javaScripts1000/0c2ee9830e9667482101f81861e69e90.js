(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{aRAj:function(e,t,a){"use strict";var r=a("q1tI"),n=a("6xyR"),l=a("uVf+"),o=a("GxrU");function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var i=s(r),u=s(n);t.ADInfeed=function(e){var t=e.index,a=e.infeedAd,n=e.refreshFlag,s=void 0!==n&&n,p=a.className,d=a.slotId,c=a.adUnit,m=a.targeting,f=void 0===m?{}:m,g=a.networkID,h=a.sizes,y=r.useState(!0),v=l._slicedToArray(y,2),E=(v[0],v[1]);return r.useEffect((function(){var e=window&&window.location&&window.location.search;E(e.split("&").some((function(e){return e.includes("creativeId")})))}),[]),i.default.createElement("div",{id:"brand-insight-wrapper-"+(t+1),className:"brand-insight-wrapper",style:{display:"flex",flex:"1 0 auto"}},i.default.createElement(u.default,{className:"ad-wrapper",style:{display:"block !important",flexDirection:0===t||t%4===0?"top":"row"}},i.default.createElement(o,{className:p,networkID:g,adUnit:c,slotId:d,targeting:f,sizes:h,refreshFlag:s})),i.default.createElement("style",{jsx:"true"},"\n        .brand-insight-wrapper div[id*='google_ads_iframe']:empty {\n          height: 0px !important;\n        }\n      "))}},dHYR:function(e,t,a){"use strict";a("Pq0j"),a("/r2L"),a("rvrm"),a("P/aN");var r=a("MAep");a("guSh");var n=a("wV+i");a("WyPW");var l=a("96ZC");a("p/KI"),a("HU+v"),a("UBXB"),a("4P5Y");var o=a("q1tI"),s=a("UiA3");a("17x9");var i=a("7vrA"),u=a("3Z9Z"),p=a("JI6e"),d=a("6xyR"),c=a("If50"),m=a("nOHt");a("8tLG");var f=a("4EdF");a("og2V");var g=a("tuPI");a("i8i4");var h=a("w98C");a("uVf+"),a("HAwz");var y=a("Rma9"),v=a("D11m"),E=a("zC/t"),b=a("owyw");a("31Re"),a("HWYZ"),a("Qz9v"),a("a5Br"),a("GxrU");var _=a("aRAj");function w(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var I=w(o),x=w(i),A=w(u),N=w(p),C=w(d),P=function(e){function t(){var e,a,o,i;l._classCallCheck(this,t);for(var u=arguments.length,p=Array(u),d=0;d<u;d++)p[d]=arguments[d];return a=o=l._possibleConstructorReturn(this,(e=t.__proto__||l._Object$getPrototypeOf(t)).call.apply(e,[this].concat(p))),o.mapping=o.props.mapping,o.data=o.props.dataRecord||[],o.query=o.props.query,o.params=o.props.params,o.pointer=!!o.props.pointer&&o.props.pointer,o.pointerArray=!!o.props.pointerArray&&o.props.pointerArray,o.defaultImage=o.props.defaultImage?o.props.defaultImage:"/placeholder.jpg",o.client=o.props.client,o.state={data:o.data,dataKeptToCompareNewDatarecord:o.data,per:o.params?o.params.to:2,page:o.props.currentPage||1,from:o.params?o.params.from:0,to:o.params?o.params.to:2,total_pages:null,scrolling:!0,query:o.query,currentPage:o.props.currentPage||1},o.loadMore=f.debounce_1((function(){o.setState((function(e){var t=e.page,a=e.from,r=e.per;return{page:t+1,from:a+r,to:e.to+r}}),o.loadData)}),0),o.loadData=function(){var e=o.state,t=e.from,a=e.to,l=e.data,s=e.query,i=e.page,u=o.props.client,p=n._extends({},o.params,{from:t,to:a});u.fetch(s,p).then((function(e){if(o.pointer&&o.pointerArray){var t=o.pointer;e=e[o.pointerArray][t]}e=e.map((function(e){return n._extends({},e,{pageNumber:i})})),o.setState((function(){return e.length>0?{data:[].concat(r._toConsumableArray(l),r._toConsumableArray(e)),scrolling:!0}:{scrolling:!1}}))}))},o.renderCardImage=function(e,t){return e.thumbnail&&e.thumbnail.asset?y({client:o.client,source:e.thumbnail,imageHeight:o.props.imageHeight||null,imageWidth:o.props.imageWidth||null,imageFit:o.props.imageFit||null}):o.defaultImage},o.changePageNumber=function(e){var t=o.props,a=t.seoPaginate,r=t.pageview,n=t.router,l=o.state.currentPage;if(a){var i=n.asPath,u=i.indexOf("?"),p=n.pathname,d="";if(u>0)i=i.substring(1,u),n.asPath.substring(u+1).split("&").map((function(e){var t=e.split("="),a=t[0],r=t[1];"page"!==a&&(d+=(0===d.length?"":"&")+a+"="+r)}));d.length>0&&(i+="?"+d),l!==(e=parseInt(e))&&(s.lib_3.refresh(),o.setState({currentPage:e},(function(){"/"!==i[0]&&(i="/"+i);var t=1===e?""+i:i+"?page="+e;r&&r(t),n.push(p,t,{shallow:!0})})))}},o.renderAuthor=function(e,t,a){if(!e)return null;var r=e._id,n=e.displayName,l=e.url;return n&&l&&l.current?I.default.createElement("div",{key:r},0===t&&I.default.createElement("span",{className:"pr-1"},"By"),I.default.createElement("a",{href:"/authors/${url.current}",className:"text-muted"},n,a!==t+1&&I.default.createElement("br",null))):n?I.default.createElement("div",{key:r},0===t&&I.default.createElement("span",{className:"pr-1"},"By"),I.default.createElement("span",{className:"text-muted"},n,a!==t+1&&I.default.createElement("br",null))):void 0},o.cardLoader=function(e,t,a,n,l){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,i=a&&"bottom"===a?"column-reverse":"column",u=0,p=12,d=6,m=function(e,t,a){return[].concat(r._toConsumableArray(e.slice(0,t)),[a],r._toConsumableArray(e.slice(t)))},f=[];if(n){var g=o.state.data;f=g;for(var y=s,w=1;y<f.length;w++){var x={adUnit:l.adUnit,className:l.className,networkID:l.networkID,sizes:l.sizes,slotId:l.slotId+"_"+w,targeting:{pos:"infeed",content_placement:l.targeting.content_placement,document_url:l.targeting.document_url},_type:"BrandInsight",refreshFlag:!!l.refreshFlag&&l.refreshFlag};f=m(f,y,x),y+=l.interval+1}}else f=o.state.data;return I.default.createElement(A.default,null,f&&f.map((function(a,r){if(p="rotate"===t&&u%3===0?12:t&&"rotate"!==t?Math.floor(12/t):6,"BrandInsight"===a._type&&a.adUnit)return I.default.createElement(_.ADInfeed,{index:r,infeedAd:a});var n=a.pageNumber||o.state.page,l=a.contentCategory&&a.contentCategory.name&&o.mapping[a.contentCategory.name]?a.contentCategory.name:"Articles";return I.default.createElement(I.default.Fragment,{key:u},I.default.createElement(h.VisibilitySensor,{onChange:function(e){e&&o.changePageNumber(n)}},I.default.createElement(N.default,{md:12,lg:p,counter:u++,style:{display:"flex",flex:"1 0 auto"}},I.default.createElement(C.default,{className:"content-card",style:{flexDirection:i}},(a.thumbnail&&a.thumbnail.asset||o.props.defaultImage)&&I.default.createElement("a",{href:o.mapping[l]+"/"+a.url.current},I.default.createElement(v.LazyLoad,{height:o.props.imageHeight},I.default.createElement(C.default.Img,{variant:"top",src:o.renderCardImage(a,e),alt:a.thumbnail&&a.thumbnail.asset?a.thumbnail.asset.originalFilename:""}))),I.default.createElement(C.default.Body,null,I.default.createElement("a",{href:o.mapping[l]+"/"+a.url.current},I.default.createElement(C.default.Title,null,a.title)),o.props.showPublished&&a.published&&I.default.createElement(C.default.Subtitle,null,c.moment(a.published).format("MMMM DD, YYYY")),o.props.showAuthor&&a.authorMapping&&a.authorMapping.length>0&&a.authorMapping.map((function(e,t){return o.renderAuthor(e,t,a.authorMapping.length)})),I.default.createElement(C.default.Text,null,b.clean_html_1(a.summary)))))),E.main_40&&o.props.rightItems&&(r+1)%d===0&&o.renderMobileAd(r,d))})))},o.renderMobileAd=function(e,t){var a=o.props.rightItems,r=((e+1)/t-1)%a.length;return I.default.createElement(N.default,{md:12,style:{display:"flex",flex:"1 0 auto"}},a[r].component)},o.renderManualPagination=function(){var e=o.state.currentPage;return I.default.createElement("div",{className:"d-flex justify-content-between"},e&&e>1&&I.default.createElement("a",{href:"?page="+(e-1)},"<< Previous"),I.default.createElement("a",{href:"?page="+(e+1)},"Next >>"))},i=a,l._possibleConstructorReturn(o,i)}return l._inherits(t,e),l._createClass(t,[{key:"componentDidUpdate",value:function(e,t){this.state.dataKeptToCompareNewDatarecord!==this.props.dataRecord&&this.setState({data:this.props.dataRecord,dataKeptToCompareNewDatarecord:this.props.dataRecord,per:this.props.params?this.props.params.to:2,page:1,from:this.props.params?this.props.params.from:0,to:this.props.params?this.props.params.to:2,total_pages:null,scrolling:!0,query:this.props.query})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.columns,r=t.variant,n=t.autoScroll,l=t.page,o=t.showBI,s=t.brandInsight,i=t.biStart;return I.default.createElement("div",{className:"contentDeck"},n?I.default.createElement(I.default.Fragment,null,I.default.createElement(g.InfiniteScroll,{dataLength:this.state.data.length,next:this.loadMore,hasMore:this.state.scrolling,scrollThreshold:.9},I.default.createElement(x.default,null,this.cardLoader(l,a,r,o,s,i))),I.default.createElement("noscript",null,this.renderManualPagination())):I.default.createElement(I.default.Fragment,null,I.default.createElement(x.default,null,this.cardLoader(l,a,r,o,s,i)),I.default.createElement("div",{style:{padding:"0px 10px"}},this.state.scrolling?I.default.createElement("button",{style:{margin:"auto",width:"100%"},onClick:function(t){e.loadMore()}},"Load More"):I.default.createElement("p",{style:{textAlign:"center"}},I.default.createElement("b",null,"End of data"))),I.default.createElement("noscript",null,this.renderManualPagination())))}}]),t}(I.default.Component),M=m.withRouter(P);e.exports=M}}]);