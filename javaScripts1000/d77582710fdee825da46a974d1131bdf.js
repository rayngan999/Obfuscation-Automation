define(["modules/id.core","modules/id.nonAmdLoader"],function(e,t){"use strict";e.utils.log("loading id.webpush.js");var i=function(){this.conf={applicationCode:"",safariWebsitePushID:"",defaultNotificationTitle:"",defaultNotificationImage:"",autoSubscribe:!1,subscribeWidgetEnable:!1,subscribeWidgetEnableSafariOnly:!1,subscribeWidgetBgColor:"",subscribeWidgetBellColor:"",subscribeWidgetBellStrokeColor:"",subscribeWidgetBellButtonBorder:"",tooltipTextSuccessSubscribe:"",tooltipTextNeedSubscribe:"",tooltipTextBlockSubscribe:"",tooltipTextAlreadySubscribed:"",logLevel:""};var i=this;this.initPushwooshCallback=function(){var t,n;window.Pushwoosh=window.Pushwoosh||[],t={logLevel:i.conf.logLevel,applicationCode:i.conf.applicationCode,safariWebsitePushID:i.conf.safariWebsitePushID,defaultNotificationTitle:i.conf.defaultNotificationTitle,defaultNotificationImage:i.conf.defaultNotificationImage,autoSubscribe:i.conf.autoSubscribe,subscribeWidget:{enable:!1}},n={enable:!0,position:"bottomLeft",bgColor:i.conf.subscribeWidgetBgColor,bellColor:i.conf.subscribeWidgetBellColor,bellStrokeColor:i.conf.subscribeWidgetBellStrokeColor,bellButtonBorder:i.conf.subscribeWidgetBellButtonBorder,shadow:"0px 0px 6px rgba(0, 0, 0, 0.75)",size:"48px",indent:"30px",zIndex:"999999",tooltipText:{successSubscribe:i.conf.tooltipTextSuccessSubscribe,needSubscribe:i.conf.tooltipTextNeedSubscribe,blockSubscribe:i.conf.tooltipTextBlockSubscribe,alreadySubscribed:i.conf.tooltipTextAlreadySubscribed}},i.conf.subscribeWidgetEnable&&!i.conf.subscribeWidgetEnableSafariOnly&&(t.subscribeWidget=n),i.conf.subscribeWidgetEnable&&i.conf.subscribeWidgetEnableSafariOnly&&-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(t.subscribeWidget=n),"debug"===i.conf.logLevel&&e.utils.log("init webpush with:",t),window.Pushwoosh.push(["init",t])},this.init=function(){t.load("https://cdn.pushwoosh.com/webpush/v3/pushwoosh-web-notifications",this.initPushwooshCallback,"extNoAmd.webpush","Webpush")}};return i});