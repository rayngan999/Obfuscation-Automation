!function(c,s){function o(){var i=function(n,e,t,r,u){t=t||"Fri, 31 Dec 9999 23:59:59 GMT",r=r||"/",u=u||function(){for(var n=null,e=c.location.hostname.split("."),t="__t"+(new Date).getTime(),r=0;r<e.length;r++)if(n=e.slice(-1-r).join("."),i(t,null,null,null,n),a(t))return i(t,null,"Thu, 01 Jan 1970 00:00:00 UTC",null,n),n}(),s.cookie=n+"="+e+";expires="+t+";path="+r+";domain="+u+";"},a=function(n){for(var e=n+"=",t=decodeURIComponent(s.cookie).split(";"),r=0;r<t.length;r++){for(var u=t[r];" "==u.charAt(0);)u=u.substring(1);if(0==u.indexOf(e))return u.substring(e.length)}return null};return{read:function(n){return a(n)},write:function(n,e){i(n,e)},remove:function(n){i(n,null,"Thu, 01 Jan 1970 00:00:00 UTC")}}}function f(n,e){if(!e)return null;switch(n){case"event_data":e=JSON.stringify(e)}return encodeURIComponent(e)}function l(n,e){if(!e)return!1;switch("number"==typeof e&&(e=e.toString()),n){case"smuid":return e.length<=50;case"uid":return e.length<=500;case"event":return e.length<=100;case"event_data":return e.length<=65535;default:return!0}}function n(n){var r=this,e=c[n]&&c[n].q?c[n].q:[];if(r.t=null,r.u=null,r.i=o().read("sm_uuid"),e.length)for(var t=0;t<e.length;t++){var u=[].slice.call(e[t]),i=u[0],a=u.slice(1);r.s(i,a)}return function(){var n=[].slice.call(arguments),e=n[0],t=n.slice(1);r.s(e,t)}}n.prototype.s=function(n,e){switch(n){case"setup":this.o(e);break;case"send":this.send(e)}},n.prototype.o=function(){var n=[].slice.call(arguments)[0],e=n[0],t=n.slice(1);switch(e){case"beacon":this.u=t[0];break;case"user":this.t=t[0];break;case"user_tracking":this.l(t[0])}},n.prototype.l=function(n){var e=null;n?(e=o().read("sm_uuid"))||(e=function t(){return(new Date).getTime()+(Math.floor(9e5*Math.random())+1e5)}(),o().write("sm_uuid",e)):o().remove("sm_uuid"),this.i=e},n.prototype.send=function(){var n=[].slice.call(arguments)[0],e=n[0],t=n.slice(1),r={url:c.location.href,url_path:c.location.pathname,referrer:s.referrer,title:s.title};switch(e){case"pageview":r.url=t[0]||r.url,this.h(r);break;case"event":r.event=t[0],r.event_data=t[1]&&t[1].constructor===Object?t[1]:null,this.h(r)}},n.prototype.h=function(n){var e=this.u,t=this.t,r=this.i;if(e){var u=new Date,i="",a={bid:e,uid:t,smuid:r,bt:u.getTime(),btz:u.getTimezoneOffset()};for(var c in n)n[c]&&(a[c]=n[c]);for(var s in a){var o=f(s,a[s]);l(s,o)&&(i+=(i.length?"&":"").concat(s,"=",o))}(new Image).src="".concat("https://analytics-sm.com/?",i)}};var e=c.$$d2cxFn||"sm_beacon";c[e]=new n(e)}(window,document);