var ZaloLoginWidget=function(){var o=function(o){return o.substring(o.indexOf("#")+1)}(function(){var o=document.getElementsByTagName("script");for(i=0;i<o.length;i++){var t=o[i];if(t.src&&(t.src.indexOf("session-sdk.min.js")>=0||t.src.indexOf("session-sdk.js")>=0))return t.src}return null}()),t={};const n={zmp3_sid:"zingmp3.vn",za_bm_sid:"baomoi.com",developer_sid:window.location.host.indexOf("zaloapp.com")>=0?"developers.zaloapp.com":"developers.zalo.me",znews_sid:window.location.host.indexOf("zingnews.vn")>=0?"zingnews.vn":"news.zing.vn",oa_admin_sid:window.location.host.indexOf("zaloapp.com")>=0?"oa.zaloapp.com":"oa.zalo.me",zpw_sek:window.location.host.indexOf("zaloapp.com")>=0?"chat.zaloapp.com":"chat.zalo.me",tv_sid:window.location.host.indexOf("zingtv.vn")>=0?"zingtv.vn":"tv.zing.vn",ads_sid:window.location.host.indexOf("zaloapp.com")>=0?"ads.zaloapp.com":"ads.zalo.me",services_sid:window.location.host.indexOf("zaloapp.com")>=0?"services.zaloapp.com":"services.zalo.me",market_sid:window.location.host.indexOf("zaloapp.com")>=0?"shop.zaloapp.com":"shop.zalo.me",task_sid:window.location.host.indexOf("zaloapp.com")>=0?"chat.zaloapp.com":"chat.zalo.me",zai_sid:"zalo.ai",miniapp_sid:"miniapp.zalo.me"};switch(o){case"development":t={ZALO_ME_DOMAIN:"https://id.dev.zalo.me",SUBMIT_ERROR_PATH:"/account/error/js?errorJs=",ACCOUNT_PREFIX:"https://jr.dev.",DOMAIN_CHAT_ZALO_ME:"chat.dev.zalo.me"};break;case"staging":t={ZALO_ME_DOMAIN:"https://stg.id.zalo.me",SUBMIT_ERROR_PATH:"/account/error/js?errorJs=",ACCOUNT_PREFIX:"https://jr.stg.",DOMAIN_CHAT_ZALO_ME:"dev.chat.zalo.me"};break;default:t={ZALO_ME_DOMAIN:"https://id.zalo.me",SUBMIT_ERROR_PATH:"/account/error/js?errorJs=",ACCOUNT_PREFIX:"https://jr.",DOMAIN_CHAT_ZALO_ME:"chat.zalo.me"}}var e=function(){};e.prototype.openWindowCenter=function(o,t,n,e){var i=null!=window.screenLeft?window.screenLeft:screen.left,a=null!=window.screenTop?window.screenTop:screen.top;width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var l=width/2-e/2+i,s=height/2-n/2+a,d=window.open(o,t,"scrollbars=yes, width="+e+", height="+n+", top="+s+", left="+l);return window.focus&&d.focus(),d},e.prototype.findLeftWindowBoundry=function(){return window.screenLeft||window.screenX||0},e.prototype.findTopWindowBoundry=function(){return window.screenTop||window.screenY||0},e.prototype.isMobile=function(){var o,t=!1;return o=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4)))&&(t=!0),t},e.prototype.loadCSS=function(){var o=document.createElement("style");o.type="text/css",o.innerHTML='.zl-login {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;  -ms-flex-align: center;  align-items: center;  font-size: 14px;  cursor: pointer;} .zl-login .zl-login-avatar {  display: block;  -ms-flex-negative: 0;  flex-shrink: 0;  background-repeat: no-repeat;  background-size: cover;  background-position: center center;  width: 32px;  height: 32px;  margin-right: 5px;  border-radius: 100%;} .zl-login .zl-login-info {  -webkit-box-flex: 1;  -ms-flex-positive: 1;  flex-grow: 1;  min-width: 0;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;  -ms-flex-align: center;  align-items: center;  max-width: 120px;} .zl-login .zl-login-info.zl-is-dropdown {  position: relative;  min-height: 32px;} .zl-login .zl-login-info.zl-is-dropdown.zl-is-open .zl-login-dropdown-content {  display: block;} .zl-login .zl-login-info.zl-is-dropdown {  position: relative;  min-height: 32px;}.zl-login .zl-login-info.zl-is-dropdown.zl-is-open .zl-login-dropdown-content {  display: block;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content {  display: none;  position: absolute;  top: 100%;  right: 0;  min-width: 160px;  padding-top: 5px;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul {  background-color: #fff;  padding: 0;  -webkit-box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);  list-style: none;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul li {  text-align: left;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul li a {  display: block;  padding: 10px 20px;  color: #111;  border-bottom: 1px solid #f1f1f1;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul li a:hover {  background-color: #fafafa;  opacity: 0.85;}.zl-login .zl-login-info.zl-is-dropdown .zl-login-dropdown-content ul li:last-child a {  border-bottom: 0;}.zl-login .zl-login-info .zl-login-username {  position: relative;  padding-right: 15px;}.zl-login .zl-login-info .zl-login-username span {  display: block;  max-width: 100px;  color: #111;  font-weight: 500;  overflow: hidden;  -o-text-overflow: ellipsis;  text-overflow: ellipsis;  white-space: nowrap;}.zl-login .zl-login-info .zl-login-username:before {  position: absolute;  top: 50%;  right: 0;  content: "";  height: 0;  width: 0;  border-left: 5px solid transparent;  border-right: 5px solid transparent;  border-top: 5px solid gray;  margin-top: -3px;}.zalo-login-button {  color: #008fec;  font-size: 14px;  font-weight: 700;}.zalo-login-widget {  margin-left: 10px;}',document.head.appendChild(o)},e.prototype.get_top_domain=function(o){for(var t,n=document.location.hostname.split("."),e=n.length-1;e>=0;e--)if(t=n.slice(e).join("."),e==n.length-o)return t;return t},e.prototype.getJSONWithCredentials=function(o,t){var n=new XMLHttpRequest;n.addEventListener("load",function(){t(JSON.parse(this.responseText))}),n.open("GET",o),n.withCredentials=!0,n.send()},e.prototype.postJSONWithCredentials=function(o,t){var n=new XMLHttpRequest;n.addEventListener("load",function(){t(JSON.parse(this.responseText))}),n.open("POST",o),n.withCredentials=!0,n.send()};var a=new e,l=function(){};l.prototype.loginRedirect=function(o){window.location.href=t.ZALO_ME_DOMAIN+"/account?continue="+encodeURIComponent(o||window.location.href)},l.prototype.loginWithPopup=function(o,n,e,i){n||(n=650),e||(e=400);var l,s,d=(l="isZaloPopupLogin",s="1",window.location.origin+window.location.pathname+window.location.search+(window.location.search?"&":"?")+l+"="+s+window.location.hash);d=encodeURIComponent(d);var r,c=a.openWindowCenter(t.ZALO_ME_DOMAIN+"/account?continue="+d,"",n,e);if(!c)return this.loginRedirect();r=setInterval(function(){c.closed&&(clearInterval(r),this.getUserProfile(o,i))}.bind(this),300)},l.prototype.getUserProfile=function(o,t){a.getJSONWithCredentials(this.getAccountsDomain(o),t)},l.prototype.getAccountsDomain=function(o){return a.get_top_domain(3).indexOf("id.zalo.me")>=0?t.ZALO_ME_DOMAIN+"/account/userinfo":t.ACCOUNT_PREFIX+n[o]+"/account/userinfo"},l.prototype.getTokenLogout=function(o){var n={};a.postJSONWithCredentials(t.ZALO_ME_DOMAIN+"/account/logout?continue="+encodeURIComponent(window.location.href),function(t){0===t.error_code&&t.data&&t.data.token?(n.token=t.data.token,window.token_logout=t.data.token,n.error_code=0):(n.error_code=t.error_code,n.error_msg=t.error_message),"function"==typeof o&&o(n)})},l.prototype.logout=function(o,n){a.postJSONWithCredentials(t.ZALO_ME_DOMAIN+"/account/logout?continue="+encodeURIComponent(o||window.location.href),function(e){0===e.error_code&&e.data&&e.data.token?(window.token_logout=e.data.token,window.logout_options=n,g(e.data.productName,e.data.isDomainRequirePassword)):(console.error("logout error",e),window.location.href=t.ZALO_ME_DOMAIN+"/account/logout?continue="+encodeURIComponent(o||window.location.href))})},l.prototype.logoutWithToken=function(o,n,e){window.location.href=t.ZALO_ME_DOMAIN+"/account/logout?token="+(window.token_logout||o)+"&continue="+encodeURIComponent(n||window.location.href)+(e?"&isClearWZUIN=true":"")},l.prototype.processLogout=function(){var o=t.ZALO_ME_DOMAIN+"/account/logout?token="+(window.token_logout||""),n=window.logout_options;n&&n.isClearWZUIN&&(o+="&isClearWZUIN=true"),window.location.href=o},l.prototype.login=function(o,t,n,e){a.isMobile()?this.loginRedirect():this.loginWithPopup(o,t,n,e)},l.prototype.checkConsistency=function(){a.getJSONWithCredentials(t.ACCOUNT_PREFIX+t.DOMAIN_CHAT_ZALO_ME.replace("dev.","")+"/account/checkconsistency",function(t){"staging"===o&&console.log("[checkconsistency]",t),t.error_code<0&&p(function(){s.processLogout()})}.bind(this))};var s=new l,d=function(){this._response={}};d.prototype.init=function(t){this.data=t||{},this.data.showName=!1!==this.data.showName,this.data.domain=document.domain,this.element=document.getElementsByClassName("zalo-login-widget")[0],this.isUsingCustomizedUI=!(this.element||!this.data.avatarClassName&&!this.data.nameClassName&&!this.data.loginClassName),"staging"===o&&console.log("[ZaloLoginWidget] || data - ",this.data),this.data&&this.data.sessionName?s.getUserProfile(this.data.sessionName,function(o){0===o.error_code&&o.data.logged?(this._response=o,this.render()):this.renderLoginButton(),"function"==typeof this.data.callback&&this.data.callback(o),"function"==typeof this.data.onLoad&&this.data.onLoad(o);try{window.location.search.substr(1).indexOf("isZaloPopupLogin=1")>=0&&window.close()}catch(o){console.warn("close popup error")}}.bind(this)):console.warn("[ZALO_SESSION_SDK] || CAN NOT FIND sessionName options")},d.prototype.detectClickOutSide=function(o){this.element.contains(o.target)||this.toggleDropDown(!1)},d.prototype.login=function(o){s.login(this.data.sessionName,650,650,function(t){0===t.error_code&&t.data&&t.data.logged&&(this._response=t,this.renderUser(t.data),this.data.onLogin&&"function"==typeof this.data.onLogin&&this.data.onLogin(t)),"function"==typeof o&&o(t)}.bind(this))},d.prototype.loginWithPopup=function(o){s.loginWithPopup(this.data.sessionName,650,650,function(t){0===t.error_code&&t.data&&t.data.logged&&(this._response=t,this.renderUser(t.data),this.data.onLogin&&"function"==typeof this.data.onLogin&&this.data.onLogin(t)),"function"==typeof o&&o(t)}.bind(this))},d.prototype.loginRedirect=function(o){s.loginRedirect(o)},d.prototype.render=function(){0===this._response.error_code&&this._response.data.logged?this.renderUser(this._response.data):this.renderLoginButton(),this.data.onLoad&&"function"==typeof window[this.data.onLoad]&&window[this.data.onLoad]()},d.prototype.renderLoginButton=function(){if(!this.isUsingCustomizedUI&&this.element){this.element.className="zalo-login-widget zl-login";var o=document.createElement("a");o.innerHTML='<a class="zalo-login-button" href="javascript:void(0)">ÄÄNG NHáº¬P</a>',o.onclick=function(){this.login()}.bind(this),this.element.appendChild(o)}},d.prototype.renderUser=function(o){var t=this.data.showName?o.info.name:"",n=o.info.avatar;if(this.isUsingCustomizedUI){if(document.getElementsByClassName(this.data.nameClassName).length){var e=document.getElementsByClassName(this.data.nameClassName)[0];switch(e.tagName){case"A":e.text=t;break;case"DIV":e.innerHTML=t}}if(document.getElementsByClassName(this.data.avatarClassName).length){var i=document.getElementsByClassName(this.data.avatarClassName)[0];switch(i.tagName){case"IMG":i.src=n;break;case"DIV":i.style.backgroundImage='url("'+n+'")'}}}else{if(!this.element)return;this.element.className="zalo-login-widget zl-login";var a="";a+='<div class="zl-login" onclick="ZaloLoginWidget.toggleDropdown()">',a+='    <div class="zl-login-avatar" style="background-image:url('+n+')"></div>',a+='    <div class="zl-login-info zl-is-dropdown">',a+='        <div class="zl-login-username"><span>'+t+"</span></div>",a+='        <div class="zl-login-dropdown-content">',a+="        <ul>",a+='            <li><a href="javascript:void(0)" onclick="ZaloLoginWidget.logout()">ÄÄng xuáº¥t</a></li>',a+="        </ul>",a+="        </div>",a+="    </div>",a+="</div>",this.element.innerHTML=a,document.addEventListener("click",function(o){this.detectClickOutSide(o,this.div)}.bind(this)),document.addEventListener("touchstart",function(o){this.detectClickOutSide(o,this.div)}.bind(this))}},d.prototype.toggleDropDown=function(o){document.querySelector(".zl-login-info")&&(document.querySelector(".zl-login-info").className.indexOf("zl-is-open")>=0||!1===o?document.querySelector(".zl-login-info").className="zl-login-info zl-is-dropdown":document.querySelector(".zl-login-info").className="zl-login-info zl-is-dropdown zl-is-open")};var r=new d;function c(n){try{"staging"==o&&console.log(n),a.getJSONWithCredentials(t.ZALO_ME_DOMAIN+t.SUBMIT_ERROR_PATH+encodeURIComponent(n+""),function(){})}catch(o){}}function p(o){try{s.getTokenLogout(o)}catch(o){c(o)}}function g(o,t){try{if(document.getElementById("zl-login-logout-confirm"))return;var n='<div id="zl-login-logout-confirm" style="width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:999999;display:flex;flex-direction:column;justify-content:center;align-items:center;font-stretch:normal;"><div style="width: auto;min-width: 380px;max-width: 80%;margin-bottom:calc(12.5vh - 25px); height: auto; border: 1px solid #f2f5fa; border-radius: 4px; background: #fff; font-family: Arial, Helvetica, sans-serif;"><div style="background:#e5ecf9; padding: 10px 15px; border-bottom: 1px solid #ebebee; display: flex; justify-content: space-between; align-items: center"><h4 style="margin: 0; padding: 0; font-weight: 600; font-size: 20px;color: #2777FF">Zalo xÃ¡c nháº­n</h4><a id="zl-login-logout-button-close" style="text-decoration: none; color: #2777FF; font-size: 18px" href="javascript:void(0)">x</a></div><div style="padding: 15px 15px; color: #373737"><p style="margin:0;padding:0;font-size:18px;line-height:30px;">Báº¡n cÃ³ cháº¯c cháº¯n muá»n ÄÄng xuáº¥t khá»i Zalo</p>'+(t?'<p style="margin:0;padding:0;font-size:15px;line-height:30px;">HÃ nh Äá»ng nÃ y sáº½ ÄÄng xuáº¥t <b style="font-weight: bold">'+o+"</b>. Báº¡n váº«n cÃ³ thá» sá»­ dá»¥ng cÃ¡c á»©ng dá»¥ng ÄÄng nháº­p Zalo khÃ¡c</p>":'<p style="margin:0;padding:0;font-size:15px;line-height:30px;">HÃ nh Äá»ng nÃ y sáº½ ÄÄng xuáº¥t <b style="font-weight: bold">'+o+"</b> vÃ  cÃ¡c á»©ng dá»¥ng ÄÄng nháº­p Zalo khÃ¡c trÃªn trÃ¬nh duyá»t</p>")+'</div><div style="background: #fff; padding: 5px 15px; border-top: 1px solid #ebebee; text-align: right; font-weight: bold; font-size: 15px;"><a id="zl-login-logout-confirm-no" style="color: #fa5252; padding: 10px; text-decoration: none; display: inline-block;" href="javascript:void(0)">KHÃNG</a><a id="zl-login-logout-confirm-yes" style="color: #83878d;  padding:10px; text-decoration: none; display: inline-block;" href="javascript:void(0)">ÄÄNG XUáº¤T</a></div></div></div>';document.getElementsByTagName("BODY")[0].insertAdjacentHTML("beforeend",n),document.getElementsByTagName("BODY")[0].insertAdjacentHTML("beforeend",'<div id="zl-login-modal-backdrop" style="opacity: .5;z-index: 1071;position: fixed;top: 0;left: 0;width: 100vw;height: 100vh;background-color: #000;"></div>'),document.getElementById("zl-login-logout-confirm-yes").onclick=s.processLogout,document.getElementById("zl-login-logout-confirm-no").onclick=h,document.getElementById("zl-login-logout-button-close").onclick=h,document.onkeydown=function(o){27==(o=o||window.event).keyCode&&h()}}catch(o){c(o)}}function h(){try{if(!document.getElementById("zl-login-logout-confirm"))return;document.getElementById("zl-login-modal-backdrop").remove(),document.getElementById("zl-login-logout-confirm").remove(),window.token_logout=void 0,window.logout_options=void 0}catch(o){c(o)}}return a.loadCSS(),{init:function(o){try{r.init(o),t.DOMAIN_CHAT_ZALO_ME,window.location.hostname,!window.location.hash&&window.location.hostname.indexOf("chat.zalo.me")>-1&&history.pushState("",document.title,window.location.pathname+window.location.search),function(){function o(o){var t=document.createElement("script");t.async=!0,t.src=o,document.body.appendChild(t)}"object"!=typeof ZA&&("complete"===document.readyState?o("https://stc.za.zaloapp.com/v3/za.js"):document.addEventListener("readystatechange",function(t){"complete"===t.target.readyState&&o("https://stc.za.zaloapp.com/v3/za.js")}))}()}catch(o){c(o)}},getUserProfile:function(o){if(!s)throw Error("Not initialized!");try{s.getUserProfile(r.data.sessionName,o)}catch(o){c(o)}},toggleDropdown:r.toggleDropDown,login:function(o){try{r.login(o)}catch(o){c(o)}},loginWithPopup:function(o){try{r.loginWithPopup(o)}catch(o){c(o)}},loginRedirect:function(o){try{r.loginRedirect(o)}catch(o){c(o)}},logout:s.logout,processLogout:s.processLogout,LoginWidgetPlugin:r,displayLogoutConfirm:g,hideLogoutConfirm:h,getTokenLogout:p,logoutWithToken:s.logoutWithToken}}();