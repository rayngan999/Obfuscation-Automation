!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=9)}([function(e,t,n){"use strict";function r(e,t){var n=Date.now(),r={level:e,timestamp:n,timediff:n-o,data:t.map(function(e){if("string"==typeof e||"number"==typeof e)return e;var t=void 0;try{t=JSON.stringify(e)}catch(n){t="[Object: "+e.constructor.name+"]"}return t})};return u.push(r),o=n,r}function i(){r("info",["=== END_OF_VLA_LOG ==="]);var e={query:s,vpaid_log:JSON.stringify(u)};if(d>1&&(e.force=!0),navigator.sendBeacon)navigator.sendBeacon(a,JSON.stringify(e));else{var t=new XMLHttpRequest;t.open("POST",a,!1),t.setRequestHeader("Content-Type","text/plain; charset=utf-8"),t.onreadystatechange=function(){4===t.readyState&&200!==t.status&&console.warn("failed to send data to vla_debug_endpoint")},t.send(JSON.stringify(e))}}for(var o=Date.now(),a=void 0,s={},c=void 0,u=[],d=0,l=[window.location.href,document.currentScript?document.currentScript.src:""],p=0;p<l.length;p+=1){var h=/vpaiddebug=(\d)/.exec(l[p]);if(h&&(d=parseInt(h[1],10)),d)break}var f={init:function(e){s=Object.assign({},e.query_parameters),(1===e.vla_debug||d>1)&&(console.log("[com.rubiconproject.vpaid] vla_debug enabled"),a=e.vla_debug_endpoint,c=e.vla_throttle_rate,a||console.warn("vla_debug_endpoint is not set"))},initVlaDebug:function(e){if(s.impression_id=e,a){var t=parseFloat(c)||-1;if(d<2&&Math.random()>t)return void console.log("[com.rubiconproject.vpaid] vla_debug skipped because of throttling");console.log("[com.rubiconproject.vpaid] vla_debug initialized"),document.body.onunload=i}},log:function(){},info:function(){},warn:function(){},error:function(){}};["log","info","warn","error"].forEach(function(e){f[e]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=r(e,n);if(d>1&&window&&window.top&&window.top.postMessage({__vpaiddebug:o},"*"),1===d){var a;n.unshift("[com.rubiconproject.vpaid]"),(a=console)[e].apply(a,n)}}}),e.exports=f},function(e,t,n){"use strict";e.exports={_mediaFileIsVPAID:!1,_VPAIDProxyTarget:null,_cpcv:!1,_started:!1,_isSkipping:!1,_skip:!1,_skipdelay:0,_stopped:!1,_error:[],adLinear:!0,adWidth:0,adHeight:0,adExpanded:!1,adSkippableState:!1,adRemainingTime:0,adDuration:0,adVolume:0,adMuted:!1,adCompanions:"",adIcons:!1,adChoice:null}},function(e,t,n){"use strict";var r={},i=!0,o=0;e.exports={reset:function(){r={},i=!0,o=0},setConsentData:function(e,t){t>o&&(o=t,r=e)},getGDPR:function(){return r},get consent(){return i},set consent(e){i=e}}},function(e,t,n){"use strict";e.exports={loaded:"AdLoaded",started:"AdStarted",stopped:"AdStopped",skipped:"AdSkipped",skippableStateChange:"AdSkippableStateChange",sizeChange:"AdSizeChange",linearChange:"AdLinearChange",durationChange:"AdDurationChange",expandedChange:"AdExpandedChange",remainingTimeChange:"AdRemainingTimeChange",volumeChange:"AdVolumeChange",impression:"AdImpression",videoStart:"AdVideoStart",videoFirstQuartile:"AdVideoFirstQuartile",videoMidpoint:"AdVideoMidpoint",videoThirdQuartile:"AdVideoThirdQuartile",videoComplete:"AdVideoComplete",clickThru:"AdClickThru",interaction:"AdInteraction",userAcceptInvitation:"AdUserAcceptInvitation",userAcceptInvitationLinear:"AdUserAcceptInvitationLinear",userMinimize:"AdUserMinimize",userClose:"AdUserClose",userCloseLinear:"AdUserCloseLinear",paused:"AdPaused",playing:"AdPlaying",log:"AdLog",_error:"@@__private:__internal_error__@@",error:"AdError"}},function(e,t,n){"use strict";function r(e,t){function n(){o.log('|+ tracker "'+t+'" successful: '+e.url),i[a]=!s}function r(n){n&&setTimeout(function(){o.error('|X tracker "'+t+'" failed: '+e.url,n)},0),i[a]=!s}if(""!==e.url){var a=i.length,s=!1;i[a]=s;var c=Image&&new Image;c.onload=n,c.onerror=r,c.onabort=r,o.log('|- tracker "'+t+'" fired: '+e.url),c.src=e.url}}var i=n(8),o=n(0);e.exports=r},function(e,t,n){"use strict";var r=n(22).EventEmitter,i=n(0),o=new r;o.emit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.log('<== "'+t[0]+'"',t.slice(1)),r.prototype.emit.apply(o,t)},e.exports=o},function(e,t){function n(e,t,n,r,i){if(""===i.statusText){var o=m.XMLHttpRequest();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?null!==o.responseXML?n(o.responseXML,t):r(o,t):404===o.status?(o.errorCode="401",r(o,t)):r(o,t))},o.open("GET",e,!0),m.onBeforeSend(e,t,o),o.withCredentials=!1,o.send(null)}else"OK"!==i.statusText?(i.errorCode="401",r(i,t)):r(i,t)}function r(e,t,r,i){var o=m.XMLHttpRequest();o.onreadystatechange=function(){4===o.readyState&&(200===o.status&&null!==o.responseXML?r(o.responseXML,t):n(e,t,r,i,o))},o.open("GET",e,!0),m.onBeforeSend(e,t,o),o.send(null)}function i(e,t,n,i){var o="Reached abort limit of ("+m.defaultVASTAbortLimit+") wrappers.";n=n||function(){};var a=(!i&&0===m.defaultVASTAbortLimit||i&&0===i.abortLimit)&&(n(new Error(o))||!0);a&&setTimeout(function(){"undefined"==typeof buster&&("warn"in console?console.warn(o):console.log(o))},0);return void(a||r(e,null,function(e){try{new s(e,t,n,i)}catch(e){console.error(e.toString());for(var r=e.stack.split(/\n/),o=0;o<r.length;o++){var a=r[o];a=a.replace("[arguments not available]",""),a=a.replace(/http:\/\/.*?resources\//,""),console.debug("\t"+a)}e&&void 0!==e&&e.errorCode&&void 0!==e.errorCode||(e.errorCode="403"),n(e,i)}},function(t){console.error("Failed to load VAST from '"+e+"':",t),t&&void 0!==t&&t.errorCode&&void 0!==t.errorCode||(t.errorCode="100"),n(t,i)}))}function o(e,t){var n;if(this.events={},this.ad=t,null!==e){if(t.impressions.length)for(n=0;n<t.impressions.length;n++)this.addImpressionTracking(t.impressions[n]);if(t.errors.length)for(n=0;n<t.errors.length;n++)this.addErrorTracking(t.errors[n]);if("TrackingEvents"!==e.tagName){if(e=e.getElementsByTagName("TrackingEvents"),1!==e.length)return;e=e.item(0)}var r=e.getElementsByTagName("Tracking");for(n=0;n<r.length;n++){var i=r[n].getAttribute("event");if(i){var o=null;"progress"===i&&(o=r[n].getAttribute("offset"),i+="-"+o),this.events[i]=this.events[i]||[];var a={url:r[n].textContent.replace(/\s/g,""),offset:o,event:i};this.events[i].push(a)}}}}function a(e,t,n){this.breaks=[];var a=this;r(e,null,function(e){for(var r=e.getElementsByTagNameNS(f,"AdBreak"),c=[],u=0;u<r.length;u++){var d=r.item(u),l=d.getAttribute("timeOffset");if(0!==l.indexOf("#")){var p={ad:null,breakId:d.getAttribute("breakId"),tracking:new o(d,null),position:l},h=t.bind(a,a.breaks.length,l),m=d.getElementsByTagNameNS(f,"VASTData");if(m)p.ad=new s(m.item(0).getElementByTagName(null,"VAST").item(0),h);else{var g=d.getElementsByTagNameNS(f,"AdTagURI");if(!g){console.error("No supported ad target for break #"+u);continue}var v;!function(e){v=function(t){e.ad=t,null!==t&&h(t)}}(p),i(g.item(0).textContent.replace(/\s/g,""),v)}a.breaks.push(p),c.push(p.position)}}"function"==typeof n&&n(c)},function(t,r){console.error("Failed to load VMAP from '"+e+"':",t),n([])})}function s(e,t,n,r){this.ads=[],this.onAdsAvailable=t,this.onAdsError=n,this.onReceivedErrorCounter=0;var o={};o.errorCode="101";var a=e.getElementsByTagNameNS("*","Ad"),s=this;if(0===a.length)return void n();for(var u=function(e,t){if(++s.onReceivedErrorCounter===a.length)return void n(e,t)},d=0;d<a.length;d++){var l=new c(this,a.item(d),r||null);if(l.isEmpty())u(o,r);else if(this.ads.push(l),!l.hasData()||l.hasSequence()&&!l.isNumber(1)){var p=a.item(d).getElementsByTagName("Wrapper").item(0),h=p.getElementsByTagName("VASTAdTagURI");if(0===h.length){u(o,r);continue}h=h.item(0).textContent.replace(/\s/g,"");var f,m="true"===p.getAttribute("allowMultipleAds");!function(e,t,n){f=function(r){if(e.onLoaded(r,t),n.onAdsAvailable){var i=n.onAdsAvailable;n.onAdsAvailable=null,i.call(n,n)}}}(l,m,s),i(h,f,u,l)}else if(t){var g=this.onAdsAvailable;this.onAdsAvailable=null,g.call(this,this)}}}function c(e,t,n,r){this.vast=e,this.pod=e,this.parentAd=n,this.onAdAvailable=r,this.abortLimit=n?n.abortLimit>0?n.abortLimit-1:n.abortLimit:m.defaultVASTAbortLimit,this.sequence=null,this.hasContent=!0,this.loaded=!0,this.linear=null,this.companions=[],this.companionsRequired="none",this.nonlinears=[],this.nonlinearsTracking=null,this.errors=[],this.impressions=[],this.extensions=[],this.currentPodAd=this,this.sentError=!1,this.sentImpression=!1,this.properties={};var i,a;if(null!==this.parentAd){var s=this.parentAd;if(this.companionsRequired=s.companionsRequired,this.linear=s.linear?s.linear.copy(this):null,s.companions.length)for(i=0;i<s.companions.length;i++)this.companions.push(s.companions[i].copy(this));if(s.extensions.length)for(i=0;i<s.extensions.length;i++)this.extensions.push(s.extensions[i]);if(s.nonlinears.length)for(i=0;i<s.nonlinears.length;i++)this.companions.push(s.nonlinears[i].copy(this));null!==s.nonlinearsTracking&&(this.nonlinearsTracking=s.nonlinearsTracking.copy(this));for(a in s.properties)s.properties.hasOwnProperty(a)&&(this.properties[a]=s.properties[a])}null===this.nonlinearsTracking&&(this.nonlinearsTracking=new o(null,this)),t.hasAttribute("sequence")&&(this.sequence=parseInt(t.getAttribute("sequence"),10));var c=t.getElementsByTagName("Extensions");if(0!==c.length){var u=c[0].getElementsByTagName("Extension");if(u.length)for(i=0;i<u.length;i++)if("com.rubiconproject.data"===u[i].getAttribute("name")&&"Value"===u[i].getAttribute("type")){var l={},f=u[i].getElementsByTagName("ImpressionId");f.length&&(l.impressionId=f[0].childNodes.length&&f[0].childNodes[0].nodeValue);var g=u[i].getElementsByTagName("DealToken");g.length&&(l.dealToken=g[0].childNodes.length&&g[0].childNodes[0].nodeValue);var v=u[i].getElementsByTagName("PrivacyData");if(v.length){var y=v[0].getElementsByTagName("UserDataHandlingFlags");y.length&&(l.UserDataHandlingFlags=y[0].childNodes.length&&y[0].childNodes[0].nodeValue)}this.extensions.push(l)}}var b=t.getElementsByTagName("InLine");if(0===b.length&&(this.loaded=!1,b=t.getElementsByTagName("Wrapper"),0===b.length))return void(this.hasContent=!1);b=b.item(0);for(var A=b.firstChild;null!==A;){if(1===A.nodeType)switch(A.tagName){case"Creatives":case"InLine":case"Wrapper":case"Impression":case"VASTAdTagURI":case"Error":break;default:this.properties[A.tagName]=A.textContent.replace(/^\s*|\s*$/g,"")}A=A.nextSibling}this.parentAd&&this.parentAd.impressions.length&&(this.impressions=this.parentAd.impressions);var w=b.getElementsByTagName("Impression");for(i=0;i<w.length;i++)this.impressions.push(w.item(i).textContent.replace(/\s/g,""));this.parentAd&&this.parentAd.errors.length&&(this.errors=this.parentAd.errors);var T=b.getElementsByTagName("Error");for(i=0;i<T.length;i++)this.errors.push(T.item(i).textContent.replace(/\s/g,""));var _=b.getElementsByTagName("Creatives");if(0!==_.length)for(_=_.item(0).getElementsByTagName("Creative"),i=0;i<_.length;i++){for(var k=_.item(i).firstChild;null!==k&&3===k.nodeType;)k=k.nextSibling;if(null!==k){var C;switch(k.tagName){case"Linear":C=new d(this,k),this.linear?this.linear.augment(C):this.linear=C;break;case"CompanionAds":k.hasAttribute("required")&&(this.companionsRequired=k.getAttribute("required"));case"NonLinearAds":var x=k.tagName.replace("Ads",""),E="Companion"===x?p:h,S="Companion"===x?this.companions:this.nonlinears;if("NonLinear"===x){var P=new o(k,this);this.nonlinearsTracking.augment(P)}for(var I=S.length,L=k.getElementsByTagName(x),N=0;N<L.length;N++){for(C=new E(this,L.item(N)),a=0;a<I;a++){var O=S[a],V=O.attribute("id",C.attribute("id"))===C.attribute("id",O.attribute("id")),R=O.attribute("width",C.attribute("width"))===C.attribute("width",O.attribute("width")),M=O.attribute("height",C.attribute("height"))===C.attribute("height",O.attribute("height")),D=void 0!==O.attribute("id")&&void 0!==C.attribute("id"),j=void 0!==O.attribute("width")&&void 0!==C.attribute("width"),B=void 0!==O.attribute("height")&&void 0!==C.attribute("height");if(V&&R&&M&&(D||j||B)){O.augment(C),C=null;break}}null!==C&&S.push(C)}}}}}function u(e,t){this.root=t,this.clickThrough=null,"NonLinear"===t.tagName&&(t=t.parentNode),this.tracking=new o(t,e)}function d(e,t){u.call(this,e,t),this.mediaFiles=[],this.clickThrough=null,this.duration=null,this.adParameters=null,this.icons=[];var n,r=t.getElementsByTagName("VideoClicks");if(r.length){r=r.item(0);var i=r.getElementsByTagName("ClickThrough");for(i.length&&(this.clickThrough=i.item(0).textContent.replace(/\s/g,"")),i=r.getElementsByTagName("ClickTracking"),n=0;n<i.length;n++)this.tracking.addClickTracking(i.item(n).textContent.replace(/\s/g,""))}var o=t.getElementsByTagName("Duration");o.length&&(this.duration=this.timecodeFromString(o.item(0).textContent.replace(/\s/g,"")));var a=t.getElementsByTagName("AdParameters");a.length&&(this.adParameters=a.item(0).textContent);var s=t.getElementsByTagName("MediaFiles");if(s.length){for(s=s.item(0).getElementsByTagName("MediaFile"),n=0;n<s.length;n++){for(var c=s.item(n),d={},l=0;l<c.attributes.length;l++)d[c.attributes[l].name]=c.attributes[l].value;d.src=s.item(n).textContent.replace(/\s/g,""),this.mediaFiles.push(d)}var p=t.getElementsByTagName("Icons");if(void 0!=p&&p.length>0)for(p=p.item(0).getElementsByTagName("Icon"),n=0;n<p.length;n++){var h=p.item(n),f={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null};if(f.program=h.getAttribute("program"),f.height=void 0!=h.getAttribute("height")?parseInt(h.getAttribute("height"),10):0,f.width=void 0!=h.getAttribute("width")?parseInt(h.getAttribute("width"),10):0,f.xPosition=this.parseXPosition(h.getAttribute("xPosition")),f.yPosition=this.parseYPosition(h.getAttribute("yPosition")),f.apiFramework=h.getAttribute("apiFramework"),f.offset=this.parseDuration(h.getAttribute("offset")),f.duration=this.parseDuration(h.getAttribute("duration")),htmlElement=h.getElementsByTagName("HTMLResource"),void 0!=htmlElement&&htmlElement.length>0&&(f.type=void 0==htmlElement[0].getAttribute("creativeType")?"text/html":htmlElement[0].getAttribute("creativeType"),f.htmlResource=this.parseNodeText(htmlElement[0])),iframeElement=h.getElementsByTagName("IFrameResource"),void 0!=iframeElement&&iframeElement.length>0&&(f.type=void 0==iframeElement[0].getAttribute("creativeType")?"0":iframeElement[0].getAttribute("creativeType"),f.iframeResource=this.parseNodeText(iframeElement[0])),staticElement=h.getElementsByTagName("StaticResource"),void 0!=staticElement&&staticElement.length>0&&(f.type=void 0!=staticElement[0]&&void 0==staticElement[0].getAttribute("creativeType")?"0":staticElement[0].getAttribute("creativeType"),f.staticResource=this.parseNodeText(staticElement[0])),iconClickElements=h.getElementsByTagName("IconClicks"),iconClickElements&&iconClickElements.length>0){iconClickThroughElem=iconClickElements[0].getElementsByTagName("IconClickThrough"),f.iconClickThroughURLTemplate=this.parseNodeText(iconClickThroughElem[0]),iconClickTrackingElements=iconClickElements[0].getElementsByTagName("IconClickTracking");for(var m=0;m<iconClickTrackingElements.length;m++)f.iconClickTrackingURLTemplates.push(this.parseNodeText(iconClickTrackingElements[m]))}iconViewTrackingElement=h.getElementsByTagName("IconViewTracking"),f.iconViewTrackingURLTemplate=this.parseNodeText(iconViewTrackingElement[0]),this.icons.push(f)}}}function l(e,t){u.call(this,e,t),this.resources={iframe:null,html:null,images:{}};var n;n=t.getElementsByTagName("IFrameResource"),n.length>0&&(this.resources.iframe=n.item(0).textContent.replace(/\s/g,"")),n=t.getElementsByTagName("HTMLResource"),n.length>0&&(this.resources.html=n.item(0).textContent.replace(/\s/g,"")),n=t.getElementsByTagName("StaticResource");for(var r=0;r<n.length;r++)this.resources.images[n.item(r).getAttribute("creativeType")]=n.item(r).textContent.replace(/\s/g,"")}function p(e,t){l.call(this,e,t),this.altText="",l.prototype.extractClicks.call(this,"Companion");var n=t.getElementsByTagName("AltText");n.length&&(this.altText=n.item(0).textContent.replace(/\s/g,""))}function h(e,t){l.call(this,e,t),this.tracking=e.nonlinearsTracking,l.prototype.extractClicks.call(this,"NonLinear")}var s,c,d,h,p,f="http://www.iab.net/vmap-1.0",m={XMLHttpRequest:function(){return new XMLHttpRequest},onBeforeSend:function(e,t,n){},defaultVASTAbortLimit:-1};o.prototype.copy=function(e){var t=Object.create(o.prototype);t.events={};for(var n in this.events)this.events.hasOwnProperty(n)&&(t.events[n]=[].concat(this.events[n]));return t.ad=e,t},o.prototype.finger=function(e){if("object"==typeof window&&"undefined"!=typeof Image&&"undefined"==typeof buster){return void((new Image).src=e)}var t=m.XMLHttpRequest();t.open("get",e,!0),m.onBeforeSend(e,"tracking-pixel",t),t.send()},o.prototype.augment=function(e){for(var t in e.events)e.events.hasOwnProperty(t)&&(this.events[t]?this.events[t]=this.events[t].concat(e.events[t]):this.events[t]=e.events[t])},o.prototype.addClickTracking=function(e){var t={url:e,event:"click",offset:null};this.events.click?this.events.click.push(t):this.events.click=[t]},o.prototype.addImpressionTracking=function(e){if(e){var t={url:e,event:"impression",offset:null};this.events.impression?this.events.impression.push(t):this.events.impression=[t]}},o.prototype.addErrorTracking=function(e){if(e){var t={url:e,event:"error",offset:null};this.events.error?this.events.error.push(t):this.events.error=[t]}},o.prototype.getEventsOfTypes=function(e){var t=[],n=e.indexOf("progress")>-1;for(var r in this.events)this.events.hasOwnProperty(r)&&(e.indexOf(r)>-1||n&&0===r.indexOf("progress-"))&&(t=t.concat(this.events[r]));return t},o.prototype.track=function(e,t){if(this.events[e]&&0!==this.events[e].length){var n,r=[].concat(this.events[e]),i={};for(var o in t)t.hasOwnProperty(o)&&(i["["+o+"]"]=encodeURIComponent(t[o]));if("creativeView"===e){var a=this.ad;if(null!==a&&!a.hasSentImpression())for(a.impressionSent(),n=0;n<a.impressions.length;n++)r.push({url:a.impressions[n]})}var s=this;for(n=0;n<r.length;n++){for(var c=r[n],u=c.url,d=""+parseInt(99999999*Math.random(),10);8!==d.length;)d="0"+d;i["[CACHEBUSTING]"]=d;for(o in i)i.hasOwnProperty(o)&&(u=u.replace(o,i[o]));s.finger(u)}}},a.prototype.onBreakStart=function(e){return this.breaks[e].tracking.track("breakStart"),this.breaks[e].ad},a.prototype.onBreakEnd=function(e){this.breaks[e].tracking.track("breakEnd")},s.prototype.getAd=function(e){var t=null;if(e&&(t=this.getAdWithSequence(1))&&!t.current().isEmpty())return t.current();for(var n=0;n<this.ads.length;n++)if(!this.ads[n].hasSequence()&&!this.ads[n].current().isEmpty())return this.ads[n].current()},s.prototype.getAdWithSequence=function(e){for(var t=0;t<this.ads.length;t++)if(this.ads[t].isNumber(e))return this.ads[t];return null},c.prototype.getTag=function(e,t){return this.properties.hasOwnProperty(e)?this.properties[e]:t},c.prototype.onLoaded=function(e,t){this.pod=e,this.currentPodAd=e.getAd(t),this.currentPodAd.isEmpty()||(this.loaded=!0,this.onAdAvailable&&this.onAdAvailable.call(this,this))},c.prototype.hasSentImpression=function(){return this.sentImpression},c.prototype.impressionSent=function(){this.sentImpression=!0},c.prototype.hasSentError=function(){return this.sentError},c.prototype.errorSent=function(){this.sentError=!0},c.prototype.current=function(){return this.currentPodAd},c.prototype.isNumber=function(e){return this.sequence===e},c.prototype.hasSequence=function(){return null!==this.sequence},c.prototype.isEmpty=function(){return!this.hasContent},c.prototype.hasData=function(){return this.loaded},c.prototype.getNextAd=function(){return this.vast!==this.pod&&(this.currentPodAd=this.currentPodAd.getNextAd(),null!==this.currentPod)?this.currentPodAd.current():this.hasSequence()?this.vast.getAdWithSequence(this.sequence+1).current():null},c.prototype.getLinear=function(){return this.linear},c.prototype.getCompanions=function(){return this.companions},c.prototype.getCompanion=function(e){for(var t=0;t<this.companions.length;t++)if(this.companions[t].attribute("id")===e)return this.companions[t];return null},c.prototype.companionsRequired=function(){return this.companionsRequired},c.prototype.getNonLinears=function(){return this.nonlinears},u.prototype.track=function(e,t,n){this.tracking.track(e,{CONTENTPLAYHEAD:this.timecodeToString(t),ASSETURI:n})},u.prototype.timecodeToString=function(e){return("0"+parseInt(e/3600,10)+":0"+parseInt(e%3600/60,10)+":0"+e%60).replace(/(^|:|\.)0(\d{2})/g,"$1$2")},u.prototype.timecodeFromString=function(e){return-1===e.indexOf(":")?e:3600*parseInt(e.substr(0,2),10)+60*parseInt(e.substr(3,2),10)+parseInt(e.substr(6,2),10)},u.prototype.getClickThrough=function(){return this.clickThrough},u.prototype.attribute=function(e,t){if(!this.root.hasAttribute(e))return t;var n=this.root.getAttribute(e);switch(e){case"skipoffset":case"duration":case"offset":case"minSuggestedDuration":n=this.timecodeFromString(n)}return n},d.prototype=Object.create(u.prototype),d.prototype.parseDuration=function(e){return void 0==e||""==e?-1:!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):(durationComponents=e.split(":"),3!=durationComponents.length?-1:(secondsAndMS=durationComponents[2].split("."),seconds=parseInt(secondsAndMS[0],10),2==secondsAndMS.length&&(seconds+=parseFloat("0."+secondsAndMS[1])),minutes=parseInt(60*durationComponents[1],10),hours=parseInt(60*durationComponents[0]*60,10),isNaN(hours)||isNaN(minutes)||isNaN(seconds)||minutes>3600||seconds>60?-1:parseInt(hours,10)+parseInt(minutes,10)+parseInt(seconds,10)))},d.prototype.parseXPosition=function(e){return["left","right"].indexOf(e)>=0?e:void 0!=e?parseInt(e,10):0},d.prototype.parseYPosition=function(e){return["top","bottom"].indexOf(e)>=0?e:void 0!=e?parseInt(e,10):0},d.prototype.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},d.prototype.getDuration=function(){return this.duration},d.prototype.copy=function(e){var t=new d(e,this.root);return t.tracking.augment(this.tracking),t},d.prototype.augment=function(e){this.duration=e.duration||this.duration,this.adParameters=e.adParameters||this.adParameters,this.mediaFiles=e.mediaFiles.slice(0)||this.mediaFiles.slice(0),this.icons=e.icons||this.icons,this.tracking.augment(e.tracking),this.clickThrough=e.clickThrough||this.clickThrough},d.prototype.getAllMedias=function(){return this.mediaFiles},d.prototype.getBestMedia=function(e){for(var t=Number.POSITIVE_INFINITY,n=-1,r=0;r<this.mediaFiles.length;r++){var i=this.mediaFiles[r],o=Math.sqrt(Math.pow(e.width-i.width,2)+Math.pow(e.height-i.height,2));if(o<t)t=o,n=r;else if(o===t){var a=this.mediaFiles[n],s=a.bitrate||a.maxBitrate,c=i.bitrate||i.maxBitrate;c&&!s?n=r:e.bitrate&&s&&c?Math.abs(c-e.bitrate)<Math.abs(s-e.bitrate)&&(n=r):c>s&&(n=r)}}return-1===n?null:this.mediaFiles[n]};var g=["start","firstQuartile","midpoint","thirdQuartile","complete","progress","skip"];d.prototype.getTrackingPoints=function(){var e=this.tracking.getEventsOfTypes(g),t=[],n=null;void 0!==this.duration&&this.duration&&(n=this.duration);for(var r=0;r<e.length;r++){var i,o={event:e[r].event,offset:null,percentOffset:null};switch(e[r].event){case"start":o.percentOffset="0%",o.offset=0;break;case"firstQuartile":o.percentOffset="25%",n&&(o.offset=.25*n);break;case"midpoint":o.percentOffset="50%",n&&(o.offset=.5*n);break;case"thirdQuartile":o.percentOffset="75%",n&&(o.offset=.75*n);break;case"complete":o.percentOffset="100%",n&&(o.offset=n);break;case"skip":i=this.attribute("skipoffset",0),-1===i.indexOf("%")?(o.offset=u.prototype.timecodeFromString(i),n&&(o.percentOffset=o.offset/n*100+"%")):(o.percentOffset=i,n&&(o.offset=n*parseInt(o.percentOffset,10)/100));break;default:if(!(i=e[r].offset))continue;"start"===i&&(i="0%"),"end"===i&&(i="100%"),-1===i.indexOf("%")?(o.offset=u.prototype.timecodeFromString(i),n&&(o.percentOffset=o.offset/n*100+"%")):(o.percentOffset=i,n&&(o.offset=n*parseInt(o.percentOffset,10)/100))}t.push(o)}return t.sort(function(e,t){return e.offset&&t.offset?e.offset-t.offset:e.percentOffset&&t.percentOffset?parseInt(e.percentOffset,10)-parseInt(t.percentOffset,10):0}),t},l.prototype=Object.create(u.prototype),l.prototype.augment=function(e){this.tracking.augment(e.tracking),this.clickThrough=e.clickThrough||this.clickThrough,this.resources.iframe=e.resources.iframe||this.resources.iframe,this.resources.html=e.resources.html||this.resources.html;for(var t in e.resources.images)e.resources.images.hasOwnProperty(t)&&(this.resources.images[t]=e.resources.images[t])},l.prototype.getAllResources=function(){return this.resources},l.prototype.extractClicks=function(e){var t;t=this.root.getElementsByTagName(e+"ClickThrough"),t.length&&(this.clickThrough=t.item(0).textContent.replace(/\s/g,"")),t=this.root.getElementsByTagName(e+"ClickTracking"),t.length&&this.tracking.addClickTracking(t.item(0).textContent.replace(/\s/g,""))},p.prototype=Object.create(l.prototype),p.prototype.copy=function(e){return new p(e,this.root)},p.prototype.augment=function(e){l.prototype.augment.call(this,e),this.altText=e.altText||this.altText},p.prototype.getAltText=function(){return this.altText},h.prototype=Object.create(l.prototype),h.prototype.augment=function(e){l.prototype.augment.call(this,e)},h.prototype.copy=function(e){return new h(e,this.root)},t.VAST_VMAP_XHROptions=m,t.queryVAST=i},function(e,t,n){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)})}},function(e,t,n){"use strict";e.exports=[]},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";n(11).polyfill();var r=n(12),i=n(13),o=n(14),a=n(6),s=a.VAST_VMAP_XHROptions;s.onBeforeSend=function(e,t,n){var r=[/^.*sneezy.*$/];try{console.log([i,": XHR - ",e].join(""))}catch(e){}var o=0;if("tracking-pixel"!==t){for(;o<r.length;o+=1)if(e.match(r[o]))return;n.withCredentials=!0}},s.defaultVASTAbortLimit=7,window[r]=function(){return new o}},function(e,t,n){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var c=o[a],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(n[c]=i[c])}}return n}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}e.exports={assign:r,polyfill:i}},function(e,t){e.exports="getVPAIDAd"},function(e,t){e.exports="com.rubiconproject.vpaid"},function(e,t,n){"use strict";function r(){}function i(){S.emit(P.volumeChange)}function o(){S.emit(P.sizeChange)}function a(){S.emit(P.paused)}function s(){S.emit(P.playing)}function c(e,t){var n=t;if(null!==e&&void 0!==e&&!e.hasSentError()){e.errorSent(),void 0===n&&(n="900");for(var r=0;r<e.errors.length;r+=1)e.errors[r]=e.errors[r].replace(/\[ERRORCODE\]/i,n),j({url:e.errors[r]},P._error)}}function u(e){var t=1,n=100*Math.random();if(this.adParameters&&this.adParameters.whiteops_throttle&&(t=this.adParameters.whiteops_throttle),F.log("Whiteops random vs throttle:",n,t),n>=0&&n<=parseFloat(t)){var r=window.document.createElement("script"),i="";if(this.adParameters&&this.adParameters.query_parameters){var o="",a=b.getGDPR();"gdpr"in a&&(o+="&gdpr="+a.gdpr),"gdpr_consent"in a&&(o+="&gdpr_consent="+a.gdpr_consent),T.uspString&&(o+="&us_privacy="+T.uspString),i=["https://s.update.rubiconproject.com/2/873648/analytics.js","?di=",e.rf,o,"&dm=",this.adParameters.query_parameters.size_id,"&pi=",this.adParameters.query_parameters.zone_id,"&si=",this.adParameters.query_parameters.site_id,"&ti=",(new Date).getTime()+n,"&bt=","vpaid","&dt=8736481502993114177000"].join("")}r.src=i,r.async=!0,window.document.body.appendChild(r),F.log("Whiteops URL:",i)}}function d(e,t){r.prototype[t]=function(){for(var n=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];F.log("==>",t+"()",i);try{var a;return x._VPAIDProxyTarget?(a=x._VPAIDProxyTarget)[t].apply(a,i):e.apply(this,i)}catch(e){F.error(e.toString()),setTimeout(function(){throw setTimeout(function(){x._error.push(e.toString()),n.stopAd()},0),e},0)}};try{Object.defineProperty&&"function"==typeof Object.defineProperty&&Object.defineProperty(r.prototype[t],"name",{value:t})}catch(e){}}function l(e,t,n){var r=B.report(e.videoSlot,window);x.report=r;var i=void 0;try{i=r.stack[r.needle].window.getComputedStyle(e.videoSlot)}catch(e){}i||(i={width:t,height:n});var o=x.adWidth,a=x.adHeight;if(void 0!==e)try{o=e.videoSlot.getAttribute("width"),a=e.videoSlot.getAttribute("height")}catch(e){F.error(e.toString())}var s={depth:r.depth,minWidth:r.minWidth,minHeight:r.minHeight,url:r.stack[r.highest].href,referrer:r.stack[r.highest].referer,domain:r.stack[r.highest].window.location.host,playerWidth:parseInt(i.width||o,10),playerHeight:parseInt(i.height||a,10),adWidth:x.adWidth,adHeight:x.adHeight};F.info("ENVIRONMENT ATTRIBUTES",s);var c="https:";return/^https:/.test(r.stack[r.needle].href)&&(c="https:"),/^http:/.test(r.stack[r.needle].href)&&(c="http:"),F.info("PAGE INFORMATION",{protocol:c,stack:r.stack.map(function(e){return Object.assign({},{width:e.width,height:e.height,referer:e.referer,href:e.href})}),needle:r.needle,href:r.stack[r.needle].href}),s}function p(e){var t=this,n={},r="",i="";return null!==this.adParameters.query_parameters&&(Object.keys(this.adParameters.query_parameters).forEach(function(e){n[e]=t.adParameters.query_parameters[e]}),r=n.rf||r,i=r,x._skip=!!this.adParameters.query_parameters["p_aso.video.ext.skip"],x._skipdelay=this.adParameters.query_parameters["p_aso.video.ext.skipdelay"],S.emit(P.skippableStateChange)),n["p_window.depth"]=e.depth,n.rf=encodeURIComponent(r||e.url),n["p_window.url"]=encodeURIComponent(e.referrer),n.rf=e.depth?n["p_window.url"]:n.rf,n.rf=i||n.rf,n["p_window.w"]=e.minWidth,n["p_window.h"]=e.minHeight,n["p_aso.video.ext.ad.w"]=x.adWidth,n["p_aso.video.ext.ad.h"]=x.adHeight,n.width=n.width||e.playerWidth,n.height=n.height||e.playerHeight,n["p_aso.video.api"]="2",n["p_aso.video.mimes"]="application/javascript,video/mp4",n.tk_vpaid=1,n.cb=1e16*Math.random(),"https"===this.adParameters.protocol&&(n.rp_secure=1),n}function h(e){if(e.icons){e.icons.filter(function(e){return e&&e.program&&"adchoices"===e.program.toLowerCase()}).some(function(e){return e.height>0&&e.width>0&&(x.adChoice=e,!0)})}}function f(e,t,n,r){h(n),x.adObj=t;var i=void 0;t.extensions&&t.extensions.length&&(i=t.extensions[0].impressionId||!1,F.info("IMPRESSION ID",i),F.initVlaDebug(i),"UserDataHandlingFlags"in t.extensions[0]&&"0"!==t.extensions[0].UserDataHandlingFlags&&(F.log("GDPR: no consent given, disable trackers"),b.consent=!1)),b.consent&&(U.notify(e.adParameters),T.uspString||_.enableTracking(e,i,r.domain)),x.linearAd=n,R(e,n.tracking)}function m(e,t){var n=this,r=!1,i=void 0;try{i=e.getAd();var o=i&&i.linear,a=o.clickThrough,s=o.mediaFiles,u="";if(!o)return setTimeout(function(){throw setTimeout(function(){c(i,"401"),S.emit(P.error,"Unimplemented non-linear ad.")},0),new Error("Unimplemented non-linear ad.")},0);f(this,i,o,t),r=!0;var d=O(s,x,this.environmentVars.videoSlot);"VPAID"===d.apiFramework?(x._mediaFileIsVPAID=!0,M(this,d,i),F.log("VPAID",d)):(X=function(){S.emit(P.clickThru,a,"",!0),n.pauseAd()},this.environmentVars.slot.addEventListener("click",X,!1),this.environmentVars.slot.style.cursor="pointer",this.environmentVars.videoSlot.src=d.src,x.adDuration=this.environmentVars.videoSlot.duration,x.adRemainingTime=this.environmentVars.videoSlot.duration-this.environmentVars.videoSlot.currentTime,S.emit(P.loaded)),this.adParameters&&this.adParameters.cpcv&&("string"==typeof this.adParameters.query_parameters.cpcvDealToken&&(u=this.adParameters.query_parameters.cpcvDealToken),u.indexOf(i.extensions[0].dealToken)>-1&&(x._cpcv=!0))}catch(e){F.error("VAST callback error, code 403:",e),c(i,"403"),r?S.emit(P._error,e&&e.toString()):(x._error.push(e),this.stopAd())}}function g(e,t){var n="901";e&&e.errorCode&&(n=e.errorCode),F.error("VAST Ad error, code "+n+":",e),c(t,n),x._error.push(e),this.stopAd()}function v(e,t){var n=this;C(e,function(e){return m.call(n,e,t)},function(e,t){return g.call(n,e,t)})}var y=n(6),b=n(2),A=n(15),w=n(16),T=n(17),_=n(18),k=n(20),C=y.queryVAST,x=n(1),E=n(21),S=n(5),P=n(3),I=n(23),L=n(24),N=n(25),O=n(26),V=n(27),R=n(28),M=n(30),D=n(8),j=n(4),B=n(31),F=n(0),U=n(33),q=n(35),H=n(7),W=n(36),z=!1,Q=function(){},X=void 0,G=function(){},J=function(){},Y={};Object.assign(Y,L),Object.assign(Y,N),Y.handshakeVersion=function(){return"2.0"},Y.subscribe=function(e,t,n){for(var r=0;r<E.length;r+=1)if(E[r].event===t&&E[r].key===e)return void F.log("Listener was already subscribed !");E.push({event:t,key:e,value:e.bind(n)}),S.on(t,E[E.length-1].value)},Y.unsubscribe=function(e,t){for(var n=0;n<E.length;n+=1)if(E[n].event===t&&E[n].key===e){S.removeListener(t,E[n].value);break}},Y.initAd=function(e,t,n,r,i,o){var a=this;x.desiredBitrate=r,x.viewMode=n,this.creativeData=i;var s={};try{s=JSON.parse(i.AdParameters)}catch(e){throw new Error("Error initializing VPAID bridge. creativeData.AdParameters is not a valid JSON: "+e.message)}this.adParameters=s,W.init(this.adParameters.stats_base_url,this.adParameters.stats_sampling_rate,this.adParameters.query_parameters,H()),W.notify("bridge_loaded"),F.init(s),F.info("AD PARAMETERS:",s),this.environmentVars=o,this.environmentVars.videoSlot=this.environmentVars.videoSlot||function(){var e=document.createElement("video");return(o.slot.parentNode||o.slot).appendChild(e),e}(),x.adMuted=this.environmentVars.videoSlot.muted,x.adVolume=this.environmentVars.videoSlot.volume,this.resizeAd(e,t,n);var c=w.createConsentPromise(s),u=A.createConsentPromise(s),d=T.createUspPromise(s);return Promise.resolve().then(function(){return c}).then(function(){return u}).then(function(){return d}).then(function(){a.__initAd(e,t,n)})},Y.__initAd=function(e,t){var n=this;this.adParameters.prebid&&(z=!0);var r=l(this.environmentVars,e,t),i=this.adParameters&&[this.adParameters.protocol,"://",this.adParameters.host,this.adParameters.path,"?"].join(""),o=p.call(this,r);F.info("QUERY PARAMETERS",o);var a=[],s=b.getGDPR();F.info("GDPR status",s),Object.keys(s).forEach(function(e){a.push(e+"="+s[e])}),F.info("CCPA status",T.uspString),T.uspString&&a.push("us_privacy="+T.uspString),Object.keys(o).forEach(function(e){"gdpr"!==e&&"gdpr_consent"!==e&&"us_privacy"!==e&&a.push(e+"="+o[e])}),i+=a.join("&"),F.log("Ad URL:",i);var c=S.emit;S.emit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];return r===P.impression&&this.adParameters&&this.adParameters.query_parameters&&b.consent&&u.call(this,o),z&&k.notify(r,t[1]),r===P.stopped||r===P.error?setTimeout(function(){c.apply(S,t)},400):c.apply(S,t)}.bind(this),z?k.request(o,this.adParameters.prebid,this.adParameters.prebid_url,this.adParameters.prebid_adSlotName||"adSlot",function(e){v.call(n,e,r)},function(e,t){F.error(e,t)}):v.call(this,i,r)},Y.resizeAd=function(e,t,n){x.adWidth=e,x.adHeight=t,x.viewMode=n,"fullscreen"===n&&(x.adWidth=window.innerWidth,x.adHeight=window.innerHeight);try{this.environmentVars.videoSlot.setAttribute("height",x.adHeight),this.environmentVars.videoSlot.setAttribute("width",x.adWidth),this.environmentVars.videoSlot.style.height=x.adHeight+"px",this.environmentVars.videoSlot.style.width=x.adWidth+"px"}catch(e){S.emit(P.log,e.toString())}},Y.startAd=function(){var e=this,t=this.environmentVars.videoSlot,n=function n(){t.removeEventListener(I.play,n),t.addEventListener(I.play,s,!1),t.addEventListener(I.pause,a,!1),t.addEventListener(I.resize,o,!1),t.addEventListener(I.volumeChange,function(){x.adVolume!==t.volume&&(x.adVolume=t.volume),x.adMuted!==t.muted&&(x.adMuted=t.muted),i()},!1),G=function(){x.adDuration=t.duration,x.adRemainingTime=t.duration-t.currentTime,V(t.currentTime,t.duration,x._cpcv),x._skip&&t.currentTime>=x._skipdelay&&(x._skip=!1,x.adSkippableState=!0,S.emit(P.skippableStateChange))}.bind(e),J=function(){S.emit(P.error,"Video ad content error (404)"),c(x.adObj,"401")}.bind(e),t.addEventListener(I.error,J,!1),t.addEventListener(I.timeUpdate,G,!1),Q=function(){this.stopAd()}.bind(e),t.addEventListener(I.ended,Q,!1),x._started=!0,S.emit(P.started);var r=x.adChoice;null!=r&&r.type&&q.addAdchoice(r,e),x._cpcv||S.emit(P.impression)};x._mediaFileIsVPAID||(t.addEventListener(I.play,n,!1),setTimeout(function(){t.play()},0))},Y.stopAd=function(){function e(){var t=!D.length;try{for(var n=0;n<D.length&&(t=D[n]);n+=1);if(t){var r=P.stopped;x._error.length?r=P.error:x._isSkipping&&(r=P.skipped);var i=void 0;x._error[0]&&(i=x._error[0].toString()),S.emit(r,i),x._isSkipping&&S.emit(P.stopped)}else F.log("waiting for tracker to complete"),setTimeout(e,75)}catch(e){S.emit(P.error,e.toString())}}if(!this.environmentVars)return void F.warn("ad is not initialized, nothing to stop.");var t=this.environmentVars.videoSlot,n=this.environmentVars.slot;try{x._stopped=!0;var r=function(){};n.removeEventListener("click",X||r),t.removeEventListener(I.play,s),t.removeEventListener(I.pause,a),t.removeEventListener(I.resize,o),t.removeEventListener(I.volumeChange,i,!1),t.removeEventListener(I.timeUpdate,G),t.removeEventListener(I.error,J),t.removeEventListener(I.ended,Q),t.ended||t.paused||function(){var e=D.length;try{D[e]=!1,t.addEventListener(I.pause,function n(){try{t.removeEventListener(I.pause,n),D[e]=!0}catch(e){S.emit(P.error,e.toString())}},!1),x._stopped||t.pause()}catch(e){S.emit(P.error,e.toString())}}(),e()}catch(e){S.emit(P.error,e.toString())}},Y.pauseAd=function(){this.environmentVars.videoSlot.pause()},Y.resumeAd=function(){this.environmentVars.videoSlot.play()},Y.expandAd=function(){S.emit(P.expandedChange)},Y.collapseAd=function(){S.emit(P.expandedChange)},Y.skipAd=function(){!x._stopped&&x.adSkippableState&&(x._isSkipping=!0,this.stopAd())},Object.keys(Y).forEach(function(e){d(Y[e],e)}),e.exports=r},function(e,t,n){"use strict";function r(e,t){i.info("GDPR TCFv1 handler",e);var n={};e&&!1!==t?(n.gdpr=e.gdprApplies?1:0,e.consentData&&(n.gdpr_consent=e.consentData)):n={gdpr:0},o.setConsentData(n,1),a()}var i=n(0),o=n(2),a=function(){},s=0;window.addEventListener("message",function(e){e&&e.data&&e.data.__cmpReturn&&r(e.data.__cmpReturn.returnValue,e.data.__cmpReturn.success)},!1),e.exports={createConsentPromise:function(e){var t=this;return"gdpr"in e&&"gdpr_consent"in e?new Promise(function(t){o.setConsentData({gdpr:e.gdpr,gdpr_consent:e.gdpr_consent},1),t()}):new Promise(function(e){var n=!1;a=function(){n=!0,e()},t.getConsentData(),setTimeout(function(){n||(n=!0,a())},100)})},registerCb:function(e){a=e},getConsentData:function(){window.__cmp?window.__cmp("getConsentData",null,r):(s+=1,window.top.postMessage({__cmpCall:{callId:"iframe:"+s,command:"getConsentData"}},"*"))}}},function(e,t,n){"use strict";function r(e){try{if(e.frames.__tcfapiLocator)return e}catch(e){}return e===window.top?null:r(e.parent)}function i(e,t){o.info("GDPR TCFv2 handler",e);var n={};e&&!1!==t?(n.gdpr=e.gdprApplies?1:0,e.tcString&&(n.gdpr_consent=e.tcString)):n={gdpr:0},a.setConsentData(n,2),s()}var o=n(0),a=n(2),s=function(){},c=0;window.addEventListener("message",function(e){e&&e.data&&e.data.__tcfapiReturn&&i(e.data.__tcfapiReturn.returnValue,e.data.__tcfapiReturn.success)},!1),e.exports={createConsentPromise:function(e){var t=this;return"gdpr"in e&&"gdpr_consent"in e?new Promise(function(t){a.setConsentData({gdpr:e.gdpr,gdpr_consent:e.gdpr_consent},2),t()}):new Promise(function(e){var n=!1;s=function(){n=!0,e()},t.getConsentData(),setTimeout(function(){n||(n=!0,s())},100)})},registerCb:function(e){s=e},getConsentData:function(){if(window.__tcfapi)window.__tcfapi("getTCData",2,i);else{var e=r(window);if(!e)return;c+=1,e.postMessage({__tcfapiCall:{callId:"iframe:"+c,command:"getTCData",version:2}},"*")}}}},function(e,t,n){"use strict";function r(e,t,n){i.info("CCPA uspHandler",e,t,n===s),t&&(c=e.uspString),a()}var i=n(0),o=n(7),a=function(){},s=o(),c="";window.addEventListener("message",function(e){e&&e.data&&e.data.__uspapiReturn&&r(e.data.__uspapiReturn.returnValue,e.data.__uspapiReturn.success,e.data.__uspapiReturn.callId)},!1),e.exports={createUspPromise:function(e){var t=this;return"us_privacy"in e?new Promise(function(n){t.uspString=e.us_privacy,n()}):new Promise(function(e){var n=!1;a=function(){n=!0,e()},t.uspApiCall(),setTimeout(function(){n||(n=!0,a())},100)})},registerCb:function(e){a=e},uspApiCall:function(){window.__uspapi?window.__uspapi("getUSPData",1,r):window.top.postMessage({__uspapiCall:{callId:s,command:"getUSPData",version:1}},"*")},set uspString(e){c=e},get uspString(){return c}}},function(e,t,n){"use strict";var r=n(0),i=n(19),o=!1,a={enableTracking:function(e,t,n){var a=e.adParameters,s=e.environmentVars.videoSlot,c=a.throttle_rate||-1;if(!(Math.random()>c)){var u=a.moat_partner_code,d=a.query_parameters,l={level1:d.size_id,zMoatZoneId:d.zone_id,zMoatImpId:t,zMoatRubiconDomain:n,zMoatMeasType:"webplc"};r.log("Tracking impression with Moat:",l);var p=i(e,s,l,u);r.log("MoatApiReference:",p),o=!0}},isEnabled:function(){return o},reset:function(){o=!1}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r){var i=document.createElement("script"),o={events:[],addEvent:function(e){s.sendEvent?(o.events&&(s.sendEvent(o.events),o.events=!1),s.sendEvent(e)):o.events.push(e)}},a=function(t){return function(){var n,r=-1;if(e&&e.getAdVolume&&(n=e.getAdVolume()),"number"==typeof n&&!isNaN(n)&&0<=n&&(r=n),o.addEvent({type:t,adVolume:r}),-1!==d.indexOf(t)&&e&&e.unsubscribe&&!u){u=!0;for(var i in c)if(c.hasOwnProperty&&c.hasOwnProperty(i))try{e.unsubscribe(c[i],i)}catch(e){}}}},s={adData:{ids:n,vpaid:e,build:"cc07a80-clean"},dispatchEvent:o.addEvent};n="_moatApi"+Math.floor(1e8*Math.random());var c={AdStarted:a("AdStarted"),AdStopped:a("AdStopped"),AdSkipped:a("AdSkipped"),AdLoaded:a("AdLoaded"),AdLinearChange:a("AdLinearChange"),AdSizeChange:a("AdSizeChange"),AdExpandedChange:a("AdExpandedChange"),AdSkippableStateChange:a("AdSkippableStateChange"),AdDurationChange:a("AdDurationChange"),AdRemainingTimeChange:a("AdRemainingTimeChange"),AdVolumeChange:a("AdVolumeChange"),AdImpression:a("AdImpression"),AdClickThru:a("AdClickThru"),AdInteraction:a("AdInteraction"),AdVideoStart:a("AdVideoStart"),AdVideoFirstQuartile:a("AdVideoFirstQuartile"),AdVideoMidpoint:a("AdVideoMidpoint"),AdVideoThirdQuartile:a("AdVideoThirdQuartile"),AdVideoComplete:a("AdVideoComplete"),AdUserAcceptInvitation:a("AdUserAcceptInvitation"),AdUserMinimize:a("AdUserMinimize"),AdUserClose:a("AdUserClose"),AdPaused:a("AdPaused"),AdPlaying:a("AdPlaying"),AdError:a("AdError")},u=!1,d=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in c)c.hasOwnProperty&&c.hasOwnProperty(t)&&e.subscribe(c[t],t)}();var l,p;try{l=t.ownerDocument,p=l.defaultView||l.parentWindow}catch(e){l=document,p=window}return p[n]=s,i.type="text/javascript",t&&t.insertBefore(i,t.childNodes[0]||null),i.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n,s}e.exports=r},function(e,t,n){"use strict";function r(e,t){Object.keys(e).forEach(function(n){e[n].bids.forEach(function(e){t(n,e)})})}function i(e){return{code:"video1",sizes:[c.adWidth,c.adHeight],media_types:["video"],video:{mimes:["video/mp4","video/x-flv"],minduration:0,maxduration:30,startdelay:0,protocols:[1,2,3,4,5,6]},bids:[{bidder:"rubicon",params:{accountId:e.account_id,siteId:e.site_id,zoneId:e.zone_id,video:{language:"en",playerWidth:c.adWidth,playerHeight:c.adHeight,size_id:parseInt(e.size_id,10),aeParams:{"p_aso.video.ext.skip":e["p_aso.video.ext.skip"],"p_aso.video.ext.skipdelay":e["p_aso.video.ext.skipdelay"],"p_aso.video.ext.ad.w":e["p_aso.video.ext.ad.w"],"p_aso.video.ext.ad.h":e["p_aso.video.ext.ad.h"],"p_aso.video.api":e["p_aso.video.api"],"p_aso.video.mimes":e["p_aso.video.mimes"]}}}}]}}function o(e,t,n,i,o){return function(e,t){var a=e.vastUrl;if("dfp"===o&&(a=e.adTagUrl),"local"===o){u.info("Prebid: got bids",t);var s=-1;r(t,function(e,t){t.cpm>s&&(s=t.cpm,a=t.vastUrl)}),-1!==s&&u.info("Prebid: winner cpm "+s)}a?(u.info("Prebid: ad URL",a),n(a)):i("No prebid ads to display")}}function a(e,t,n,r,a){var s=window.pbjs,u=i(e),d=o(s,u,r,a,t);s.que=s.que||[],s.que.push(function(){s.addAdUnits(u),s.rp.requestVideoBids({adSlotName:n,callback:d,playerSize:[c.adWidth,c.adHeight]})})}function s(e,t,n,r,i,o){u.info('Prebid: mode "'+t+'"'),u.info("Prebid: loading hosted prebid "+n);var s=document.createElement("script");s.src=n,s.onload=function(){return a(e,t,r,i,o)},s.onerror=function(){return o("Can not load hosted prebid script",n)},document.body.appendChild(s)}var c=n(1),u=n(0);e.exports={request:s,requestBids:a}},function(e,t,n){"use strict";e.exports=[]},function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn(e)}function i(){i.init.call(this)}function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===e?"undefined":b(e)))}function a(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function s(e,t,n,i){var s,c,u;if(o(n),c=e._events,void 0===c?(c=e._events=Object.create(null),e._eventsCount=0):(void 0!==c.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),c=e._events),u=c[t]),void 0===u)u=c[t]=n,++e._eventsCount;else if("function"==typeof u?u=c[t]=i?[n,u]:[u,n]:i?u.unshift(n):u.push(n),(s=a(e))>0&&u.length>s&&!u.warned){u.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=u.length,r(d)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?f(i):p(i,i.length)}function l(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function f(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function m(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&g(e,i,{once:!0})})}function g(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===e?"undefined":b(e)));e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}var y,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A="object"===("undefined"==typeof Reflect?"undefined":b(Reflect))?Reflect:null,w=A&&"function"==typeof A.apply?A.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};y=A&&"function"==typeof A.ownKeys?A.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var T=Number.isNaN||function(e){return e!==e};e.exports=i,e.exports.once=m,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var _=10;Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(e){if("number"!=typeof e||e<0||T(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||T(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)w(s,this,t);else for(var c=s.length,u=p(s,c),n=0;n<c;++n)w(u[n],this,t);return!0},i.prototype.addListener=function(e,t){return s(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return s(this,e,t,!0)},i.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,i,a,s;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():h(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):l.call(e,t)},i.prototype.listenerCount=l,i.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]}},function(e,t,n){"use strict";e.exports={play:"play",pause:"pause",volumeChange:"volumechange",timeUpdate:"timeupdate",resize:"resize",loadStart:"loadstart",progress:"progress",suspend:"suspend",abort:"abort",error:"error",emptied:"emptied",stalled:"stalled",loadedMetadata:"loadedmetadata",loadedData:"loadeddata",canPlay:"canplay",canPlayThrough:"canplaythrough",playing:"playing",waiting:"waiting",seeking:"seeking",seeked:"seeked",ended:"ended",durationChange:"durationchange",rateChange:"ratechange"}},function(e,t,n){"use strict";var r=n(1);e.exports={getAdLinear:function(){return!!r.adLinear},getAdWidth:function(){return r.adWidth},getAdHeight:function(){return r.adHeight},getAdExpanded:function(){return!!r.adExpanded},getAdSkippableState:function(){return!!r.adSkippableState},getAdRemainingTime:function(){return r.adRemainingTime},getAdDuration:function(){return r.adDuration},getAdVolume:function(){return r.adMuted?0:r.adVolume},getAdCompanions:function(){return r.adCompanions},getAdIcons:function(){return!!r.adIcons}}},function(e,t,n){"use strict";var r=n(1);e.exports={setAdVolume:function(e){var t=e;t=t>1?1:t,t=t<0?0:t,r.adVolume=t,this.environmentVars.videoSlot.volume=r.adVolume}}},function(e,t,n){"use strict";function r(e,t,n){return 0===e.length?null:e.sort(function(e,r){var i=a[n.canPlayType(e.type)],o=a[n.canPlayType(r.type)],s=i-o;return 0!==s?s:t.desiredBitrate>0&&(i=Math.abs(e.bitrate-t.desiredBitrate),o=Math.abs(r.bitrate-t.desiredBitrate),0!==(s=i-o))?s:(i=Math.pow(e.width-t.adWidth,2)+Math.pow(e.height-t.adHeight,2),o=Math.pow(r.width-t.adWidth,2)+Math.pow(r.height-t.adHeight,2),s=i-o)})[0]}function i(e,t,n){for(var i=void 0,a=[],c=[],u=0;u<e.length;u+=1)i=e[u],"VPAID"===i.apiFramework&&s[i.type]?c.push(i):n.canPlayType(i.type)&&a.push(i);if(!(i=c.length?c[0]:r(a,t,n)))throw new Error(o);return i}var o="No playable MediaFile found!",a={probably:1,maybe:2,"":10},s={"application/javascript":1,"text/javascript":1};e.exports=i},function(e,t,n){"use strict";var r=n(5),i=n(3),o=[{ev:i.videoComplete,pct:99},{ev:i.videoThirdQuartile,pct:75},{ev:i.videoMidpoint,pct:50},{ev:i.videoFirstQuartile,pct:25},{ev:i.videoStart,pct:0}];e.exports=function(e,t,n){var a=o[o.length-1];a&&100*e/t>=a.pct&&(r.emit(a.ev),a.ev===i.videoComplete&&n&&r.emit(i.impression),o.pop())}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){p.log("VAST proxy event:",e)}function o(e,t){return function(){i(e);var n=t.events[e];n&&n.length&&n.forEach(function(t){return l(t,e)})}}function a(e){for(var t=0;t<e.errors.length;t+=1){if(u._error&&u._error.length>0){var n="900";void 0!==u._error[0]&&""!==u._error[0]&&(n=u._error[0]),e.errors[t]=e.errors[t].replace(/\[ERRORCODE\]/i,n)}l({url:e.errors[t]},c._error)}}var s,c=n(3),u=n(1),d=n(29),l=n(4),p=n(0),h=(s={},r(s,c.videoStart,d.start),r(s,c.videoFirstQuartile,d.firstQuartile),r(s,c.videoMidpoint,d.midpoint),r(s,c.videoThirdQuartile,d.thirdQuartile),r(s,c.videoComplete,d.complete),r(s,c.skipped,d.skip),r(s,c.started,d.creativeView),r(s,c.userAcceptInvitation,d.acceptInvitation),r(s,c.userAcceptInvitationLinear,d.acceptInvitationLinear),r(s,c.userMinimize,d.collapse),r(s,c.userClose,d.close),r(s,c.userCloseLinear,d.closeLinear),r(s,c.paused,d.pause),r(s,c.playing,d.resume),r(s,c.clickThru,d.click),s);e.exports=function(e,t){e.subscribe(function(n){i(c._error);var r=t.ad;null===r||r.hasSentError()||(r.errorSent(),a(r)),u._error.push(n),e.stopAd()},c._error),Object.keys(h).forEach(function(n){var r=new o(h[n],t);e.subscribe(r,n)}),e.subscribe(function(){i(c.impression);var e=t.ad;if(null!==e&&!e.hasSentImpression()){e.impressionSent();for(var n=0;n<e.impressions.length;n+=1)l({url:e.impressions[n]},c.impression)}},c.impression),e.subscribe(function(){i(c.volumeChange);var n=0===e.getAdVolume()?d.mute:d.unmute;t.events[n].forEach(function(e){return l(e,n)})},c.volumeChange),e.subscribe(function(){i(c.expandedChange);var n=e.getAdExpanded()?d.expand:d.collapse;t.events[n].forEach(function(e){return l(e,n)})},c.expandedChange)}},function(e,t,n){"use strict";e.exports={start:"start",firstQuartile:"firstQuartile",midpoint:"midpoint",thirdQuartile:"thirdQuartile",complete:"complete",skip:"skip",click:"click",creativeView:"creativeView",acceptInvitation:"acceptInvitation",acceptInvitationLinear:"acceptInvitationLinear",expand:"expand",collapse:"collapse",close:"close",closeLinear:"closeLinear",pause:"pause",resume:"resume",mute:"mute",unmute:"unmute",error:"error"}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){e.appendChild(t)}function o(e,t,n){var r=n||document,i=r.createElementNS?r.createElementNS("http://www.w3.org/1999/xhtml",e):r.createElement(e);return Object.keys(t).forEach(function(e){i.setAttribute(e,t[e])}),i}function a(){var e=void 0;try{e=window.parent.document}catch(t){e=window.document}return o("iframe",{width:"0px",height:"0px",scrolling:"no",frameborder:"0",marginwidth:"0",marginheight:"0",src:"about:blank",style:"margin:auto display:none;"},e)}var s=n(3),c=n(5),u=n(1);e.exports=function(e,t,n){(function(){var e=this,o=a();i(this.environmentVars.slot.parentNode||this.environmentVars.slot,o),o.contentWindow.document.open(),o.contentWindow.document.write(["<!doctype html>","<html>","<head>","</head>","<body>",'<script src="'+t.src+'">',"<\/script>","</body>","</html>"].join("\n")),o.contentWindow.document.addEventListener("DOMContentLoaded",function(){var t=o.contentWindow.getVPAIDAd();[s.started,s.skippableStateChange,s.sizeChange,s.linearChange,s.durationChange,s.expandedChange,s.remainingTimeChange,s.volumeChange,s.impression,s.videoStart,s.videoFirstQuartile,s.videoMidpoint,s.videoThirdQuartile,s.videoComplete,s.interaction,s.userAcceptInvitation,s.userAcceptInvitationLinear,s.userMinimize,s.userClose,s.userCloseLinear,s.paused,s.playing,s.log].forEach(function(e){t.subscribe(function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];e===s.impression&&u._cpcv||(e===s.videoComplete&&u._cpcv&&c.emit.apply(c,r([s.impression].concat(n))),c.emit.apply(c,r([e].concat(n))))},e)}),t.subscribe(function(e,t,r){if(r){var i=e||n&&n.linear&&n.linear.clickThrough;c.emit(s.clickThru,i,t,!!r)}else c.emit(s.clickThru)},s.clickThru),t.subscribe(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{o.parentNode.removeChild(o),o=null}catch(e){}u._error.push("303"),c.emit.apply(c,r([s._error].concat(t)))},s.error),t.subscribe(function(){try{u._VPAIDProxyTarget=null,o&&o.parentNode.removeChild(o),o=null,e.stopAd()}catch(e){setTimeout(function(){throw e})}},s.stopped),t.subscribe(function(){try{u._VPAIDProxyTarget=null,o.parentNode.removeChild(o),o=null,u.adSkippableState=!0,e.skipAd()}catch(e){setTimeout(function(){throw e})}},s.skipped),t.subscribe(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];u._VPAIDProxyTarget=t,c.emit.apply(c,r([s.loaded].concat(n)))},s.loaded),t.handshakeVersion(e.version);var i={};i.AdParameters=n&&n.linear&&n.linear.adParameters||"",t.initAd(u.adWidth,u.adHeight,u.viewMode,u.desiredBitrate,i,e.environmentVars)},!1),o.contentWindow.document.close()}).call(e)}},function(e,t,n){"use strict";(function(n){var r,i,o,a,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){if("object"===s(t)&&void 0!==e)e.exports=n();else{i=[],r=n,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}}(function(){return function e(t,n,r){function i(s,c){if(!n[s]){if(!t[s]){var u="function"==typeof a&&a;if(!c&&u)return a(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof a&&a,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,r){(function(e){function n(e){var t=void 0;try{t=e.document}catch(e){}return!!t}function r(e,t){for(var n=t.document.getElementsByTagName(e.tagName),r=!1,i=0;i<n.length;++i)if(e===n[i]){r=!0;break}return r}function i(e,t,o,s){var c=n(e),u={window:e,accessible:c,width:-1,height:-1,referer:null,href:null};return t&&s<0&&(s=c&&r(t,e)?o.length:-1),c&&(u.referer=e.document.referrer,u.width=e.innerWidth,u.height=e.innerHeight,u.href=e.location.href),o.push(u),e===a?{stack:o,needle:s}:i(e.parent,t,o,s)}var o=void 0!==o?o.window:void 0!==e?e.window:null,a=o.top;t.exports={report:function(e,t){var n=i(t,e,[],-1),r=n.stack.length-1,o=2147483647,a=2147483647,s=0;for(-1===n.needle&&(n.needle=0);r>=n.needle&&!n.stack[r].accessible;--r,s++);for(n.highest=r,n.depth=s,r=n.needle;r<=n.highest;++r)o=o>n.stack[r].width?n.stack[r].width:o,a=a>n.stack[r].height?n.stack[r].height:a;return n.minWidth=o,n.minHeight=a,n}}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(t,n(32))},function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";function r(e){var t="rtb_ext=1&s=vp",n=a.getGDPR();return"gdpr"in n&&(t+="&gdpr="+n.gdpr),"gdpr_consent"in n&&(t+="&gdpr_consent="+n.gdpr_consent),[e.emilyUrl,"?",t,"&","pc=",e.accountId,"/",e.siteId].join("")}function i(e){var t="rp_vpaid_emily_"+Math.round(1e15*Math.random());o.appendElement(function(){var n=o.createInvisibleIframe(t);return n.src=r(e),n.class="rp-emily-iframe",n}())}var o=n(34),a=n(2),s={syncEnabled:!0,syncDelay:0},c={},u=!1;c.sync=function(e){!u&&e.syncEnabled&&(setTimeout(function(){return i(e)},Number(e.syncDelay)),u=!0)},c.notify=function(e){if(e&&e.query_parameters&&null!==e.emily_accts&&e.emily_accts.indexOf(e.query_parameters.account_id)>-1){var t={accountId:e.query_parameters.account_id,siteId:e.query_parameters.site_id,emilyUrl:e.emily_base_url};c.sync(o.mergeObjects(s,t))}},c.reset=function(){u=!1},e.exports=c},function(e,t,n){"use strict";var r={createInvisibleIframe:function(e){var t=document.createElement("iframe");return t.id=e,t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src="about:self",t.style.display="none",t},appendElement:function(e,t){var n=t;try{n||(n=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]),n.insertAdjacentHTML("beforeend",e.outerHTML)}catch(e){}},mergeObjects:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e}};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=document.createElement("iframe");if(i.style.display="block",i.style.width=4*parseInt(e,10)+"px",i.style.height=2*parseInt(t,10)+"px",i.style.border="0px",i.style.margin="0px",i.style.overflow="hidden",i.scrolling="no",void 0===n)return i;n.appendChild(i);var o=i.contentWindow||i.contentDocument.document||i.contentDocument;return o.document.open(),o.document.write(r),o.document.close(),i}function i(e,t,n,r,i){return"x"===t?"left"===e?"left:0px;":"right"===e?"left:"+(parseInt(n,10)-parseInt(i.width,10))+"px;":"left:"+e+"px;":"y"===t?"top"===e?"top:0px;":"bottom"===e?"bottom:0px;":"top:"+e+"px;":void 0}function o(e,t){var n=document.createElement("div");if(u=null,d=null,l=null,(e.environmentVars.slot.parentNode||e.environmentVars.slot).appendChild(n),t.staticResource){if(t.type&&t.type.search("javascript")>-1)d='<script type="text/javascript" src="'+t.staticResource+'">',l=this.createIframeElement(t.width,t.height,n,d),u=l.contentWindow.document;else if(t.type&&t.type.search("image")>-1){var r=document.createElement("img");r.setAttribute("src",t.staticResource),r.setAttribute("width",t.width),r.setAttribute("height",t.height),r.setAttribute("id","adchoice-icon"),n.appendChild(r),u=n}}else if(t.htmlResource)d='<!DOCTYPE html><head></head><body style="margin:0px">'+t.htmlResource+"</body></html>",l=this.createIframeElement(t.width,t.height,n,d),u=l.contentWindow.document;else{if(!t.iframeResource)return!1;l=this.createIframeElement(t.width,t.height),l.src=t.iframeResource,n.appendChild(l),u=n}return n}function a(e,t){if(e){var n=this.createChoiceElement(t,e);if(n){var r=e.width,i=e.height;l&&(r=4*parseInt(r,10),i=2*parseInt(i,10));var o=s.adWidth,a=s.adHeight,d=["position:absolute;","visibility:hidden;","cursor:pointer;","overflow:visible;","width:",r,"px;","height:",i,"px;",this.getAdChoicePosition(e.yPosition,"y",o,a,e),this.getAdChoicePosition(e.xPosition,"x",o,a,e),";"].join("");if(n.setAttribute("style",d),u){var p=t;u.addEventListener("click",function(){if(p.pauseAd(),e.iconClickTrackingURLTemplates&&e.iconClickTrackingURLTemplates.length>=0)for(var t=0;t<e.iconClickTrackingURLTemplates.length;t+=1)c({url:e.iconClickTrackingURLTemplates[t]});window.open(e.iconClickThroughURLTemplate,"_blank")})}var h=0;e.offset&&e.offset>0&&(h=1e3*parseInt(e.offset,10)),setTimeout(function(){if(n.style.visibility="visible",e.iconViewTrackingURLTemplate&&c({url:e.iconViewTrackingURLTemplate}),e.duration&&e.duration>0){var t=1e3*parseInt(e.duration,10);setTimeout(function(){n.style.visibility="hidden"},t)}},h)}}}var s=n(1),c=n(4),u=void 0,d=void 0,l=void 0;e.exports={createIframeElement:r,getAdChoicePosition:i,createChoiceElement:o,addAdchoice:a}},function(e,t,n){"use strict";var r=n(4),i="",o="",a="",s=void 0,c={init:function(e,t,n,r){i=e,s=t,o=n,a=r},notify:function(e){if(!(s&&100*Math.random()>parseFloat(s))){var t=["account_id","site_id","zone_id","size_id"].map(function(e){return e+"="+o[e]}).join("&");r({url:i+"/"+e+"-"+a+"?"+t+"&event="+e},e)}}};e.exports=c}]);