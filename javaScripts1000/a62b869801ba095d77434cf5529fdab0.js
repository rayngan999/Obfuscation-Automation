(this.dmpJsonp=this.dmpJsonp||[]).push([["endscreen"],{"6kbM":function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t("J4zp"),a=t.n(r),o=t("jB+U"),i=(e,n)=>{var t=t=>{var r=t.find(n=>n.target===e);n(r,t)},r;if(c){var a=new ResizeObserver(t);return a.observe(e),()=>{a.unobserve(e)}}var i=[];return Object(o.a)(e,()=>{var n=e.getBoundingClientRect(),a={target:e,contentRect:n},o=i.find(n=>n.target===e);o&&i.splice(i.indexOf(o),1),i.push(a),window.cancelAnimationFrame(r),r=window.requestAnimationFrame(()=>{var e=i.slice();i.length=0,t(e)})},{callInitial:!0})},c=Boolean(ResizeObserver),s=(e,n)=>{var t=n.cssVariableNameForElementHeight,r=void 0===t?"":t,a=n.cssVariableNameForElementWidth,o=void 0===a?"":a,c=n.heightBreakPoints,s=n.widthBreakPoints,u=n=>{d(e,n,c),r&&e.style.setProperty("--".concat(r),n)},l=n=>{d(e,n,s),o&&e.style.setProperty("--".concat(o),n)};return i(e,()=>{Object.keys(c).forEach(n=>{e.classList.remove(n)}),Object.keys(s).forEach(n=>{e.classList.remove(n)}),e.offsetWidth;var n=e.getBoundingClientRect();u(n.height),l(n.width)})},d=(e,n,t)=>{Object.keys(t).forEach(r=>{var o=a()(t[r],2),i=o[0],c=o[1];n>=i&&n<c?e.classList.add(r):e.classList.remove(r)})}},"J/cs":function(e,n,t){"use strict";function r(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(e.apply(this,n))}catch(r){return Promise.reject(r)}}}t.d(n,"a",function(){return _});var a=t("2mXy"),o=t("MOxe"),i=t("/MKj"),c=t("fvjX"),s=t("peh1"),d=t.n(s),u=t("7e/9"),l=t("sIxa"),p=r(function(){return t.e("carousel").then(t.bind(null,"VCw0")).then(l.a)}),h=Object(s.createStructuredSelector)({}),g=e=>{var n=e.carouselTitle,t=e.carouselCards,r=e.autonextRunning,i=e.onCarouselScroll,c=e.onCarouselClick,s=e.onCardClick,d=e.onCardFirstDisplay,u=e.triggerLoad,l=e.chunk;if(Object(o.d)(()=>{u()},[]),!l.loaded||0===t.length)return Object(a.h)("div",{className:"np-carousel-placeholder"});var p=l.value.CarouselView;return Object(a.h)(p,{carouselTitle:n,carouselCards:t,autonextRunning:r,onCarouselScroll:i,onCarouselClick:c,onCardClick:s,onCardFirstDisplay:d})},_=Object(c.compose)(Object(i.connect)(h),e=>Object(u.a)(e,{load:p}))(g)},oGUM:function(e,n,t){var r=t("JPst");n=r(!1),n.push([e.i,".np_endscreen{background:rgba(0,0,0,0.8);color:#fff;display:flex;flex-direction:column;height:100%;justify-content:center;position:relative}.np_endscreen-header{align-items:center;display:flex;justify-content:space-between;width:100%;line-height:1;height:48px;padding:0 12px;position:relative;z-index:1}.np_endscreen.height-tiny .np_endscreen-header,.np_endscreen.width-tiny .np_endscreen-header{display:none}.np_endscreen.height-large .np_endscreen-header,.np_endscreen.width-large .np_endscreen-header{line-height:1;height:64px;padding:0 16px}.np_endscreen-title{font-size:16px;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;margin-right:8px}.np_endscreen.height-large .np_endscreen-title,.np_endscreen.width-large .np_endscreen-title{font-size:20px;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;margin-right:16px}.np_endscreen-avatar{height:24px;width:24px;margin-right:12px}.np_endscreen.height-large .np_endscreen-avatar,.np_endscreen.width-large .np_endscreen-avatar{height:32px;width:32px;margin-right:16px}.np_endscreen-header-button{margin-left:auto}.np_endscreen .np_endscreen-header-button svg{height:24px;width:24px}.np_endscreen .np_endscreen-header-button--replay svg{padding:2px}.np_endscreen.width-large .np_endscreen-header-button svg{height:32px;width:32px}.np_endscreen.width-large .np_endscreen-header-button--replay svg{padding:3px}.np_endscreen .np_carousel{position:relative;top:-8px}.np_endscreen .np_carousel.height-s{top:-12px}.np_endscreen.width-large .np_carousel.height-s,.np_endscreen.height-large .np_carousel.height-s{top:-16px}.np_endscreen.height-tiny .np_carousel,.np_endscreen.width-tiny .np_carousel{top:0px}.np_Player .np_endscreen .np_carousel .np_carousel-card-content{margin:0 2px}.np_Player .np_endscreen .np_carousel .np_carousel-list::before,.np_Player .np_endscreen .np_carousel .np_carousel-list::after{min-width:6px}.np_Player .np_endscreen.width-large .np_carousel .np_carousel-card-content,.np_Player .np_endscreen.height-large .np_carousel .np_carousel-card-content{margin:0 4px}.np_Player .np_endscreen.width-large .np_carousel .np_carousel-list::before,.np_Player .np_endscreen.width-large .np_carousel .np_carousel-list::after,.np_Player .np_endscreen.height-large .np_carousel .np_carousel-list::before,.np_Player .np_endscreen.height-large .np_carousel .np_carousel-list::after{min-width:8px}.np_Player .np_endscreen.height-tiny .np_carousel .np_carousel-list::before,.np_Player .np_endscreen.width-tiny .np_carousel .np_carousel-list::after{min-width:6px}\n",""]),e.exports=n},xVX1:function(e,n,t){"use strict";t.r(n),t.d(n,"Endscreen",function(){return ie}),t.d(n,"__EXPORTED_CSS__",function(){return le});var r=t("J4zp"),a=t.n(r),o=t("2mXy"),i=t("MOxe"),c=t("L8Qz"),s=t("/MKj"),d=t("peh1"),u=t("idq+"),l=t("s9Tm"),p=t("6kbM"),h=t("VfPQ"),g=t("vGkh"),_=t("iiVM"),x=t("6kjv"),b=!1,v=t("N2cw").injectSvgSymbol,m=function(){var e="dmp_EndReplay";return b||(v('<symbol fill="none" viewBox="0 0 28 28"><path fill="currentColor" d="M6.408 3.04a13.333 13.333 0 0116.807 1.322v-2.36a1.333 1.333 0 112.666 0v6c0 .736-.597 1.333-1.333 1.333h-6.04a1.333 1.333 0 110-2.666h3.2a10.733 10.733 0 102.96 7.333 1.333 1.333 0 012.667 0A13.333 13.333 0 116.408 3.04z"/></symbol>',e,"dmp_svg_sprites"),b=!0),e},j=t("xk4V"),y=t.n(j),O=t("i/kS"),f=t("Vv98"),w=t("5oup"),C,I=()=>{C=y()()},q=()=>{var e=Object(w.b)({screen:k(),action:{gesture:"click",ui_element:"replay_button",uuid:y()()}});Object(w.e)(e)},S=e=>{var n=e.videoXid,t=e.videoIndex,r=Object(w.c)({screen:k(),component:{xid:n,type:"video",index:t}});Object(w.e)(r)},N=e=>{var n=e.videoXid,t=e.videoIndex,r=Object(w.b)({screen:k(),component:{xid:n,type:"video",index:t},action:{gesture:"click",referenced_type:"video",referenced_xid:n,ui_element:"carousel_card",uuid:y()()}});Object(w.e)(r)},V=()=>{var e=Object(w.b)({screen:k(),action:{gesture:"click",ui_element:"close_button",uuid:y()()}});Object(w.e)(e)},A=e=>{var n=e.videoXid,t=Object(w.b)({screen:k(),action:{gesture:"auto_next",referenced_type:"video",referenced_xid:n,uuid:y()()}});Object(w.e)(t)},k=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f.d)().getState(),t=O.a.getExternalNeonData(),r=t.screen;return r||{id:C,name:"end_screen",xid:Object(h.p)(n)}},E=Object(d.createStructuredSelector)({metadataTitle:h.U,reloadVideo:g.E,metadataLanguage:h.v,metadataOwnerAvatars:h.z}),P={reloadVideo:g.E},F=e=>{var n=e.metadataTitle,t=e.metadataLanguage,r=e.metadataOwnerAvatars,a=e.reloadVideo,i=r[60];return Object(o.h)(o.Fragment,null,Object(o.h)("img",{className:"np_endscreen-avatar",src:i,alt:""}),Object(o.h)("div",{className:"np_endscreen-title",lang:t},n),Object(o.h)("button",{className:"np_button np_endscreen-header-button np_endscreen-header-button--replay",title:_.a.__("neon:::Replay"),onClick:()=>{q(),a()}},Object(o.h)(x.a,{Icon:m})))},L=Object(s.connect)(E,P)(F),R=!1,X=t("N2cw").injectSvgSymbol,B=function(){var e="dmp_Cross";return R||(X('<symbol viewBox="0 0 32 32"><path d="M24.276 7.724a1.333 1.333 0 00-1.886 0L16 14.114l-6.39-6.39A1.333 1.333 0 107.723 9.61l6.39 6.39-6.39 6.39a1.333 1.333 0 101.885 1.886l6.39-6.39 6.391 6.39a1.333 1.333 0 001.886-1.885L17.886 16l6.39-6.39c.52-.521.52-1.365 0-1.886z" fill="#fff"/></symbol>',e,"dmp_svg_sprites"),R=!0),e},M=e=>{var n=e.autonextRunning,t=e.onCancelAutonext,r=Object(i.j)(n.seconds),c=a()(r,2),s=c[0],d=c[1];return Object(i.d)(()=>{var e=setInterval(()=>{d(e=>e-1)},1e3);return()=>{clearInterval(e)}},[]),Object(o.h)(o.Fragment,null,Object(o.h)("div",{className:"np_endscreen-title"},_.a.__("neon:::Up next in %seconds%",{seconds:s})),Object(o.h)("button",{className:"np_button np_endscreen-header-button",title:_.a.__("neon:::Cancel autonext"),onClick:()=>{V(),t()}},Object(o.h)(x.a,{Icon:B})))},T=Object(d.createStructuredSelector)({isQueueAutoplayEnabled:l.b}),z=e=>{var n=e.isQueueAutoplayEnabled,t=e.onCancelAutonext,r=e.autonextRunning,a=e.children,c=Object(i.i)(null);return Object(i.f)(()=>{var e=Object(p.a)(c.current,{cssVariableNameForElementHeight:"endscreenHeight",cssVariableNameForElementWidth:"endscreenWidth",widthBreakPoints:{"width-tiny":[0,240],"width-large":[640,1/0]},heightBreakPoints:{"height-tiny":[0,135],"height-large":[360,1/0]}});return()=>{e()}},[]),Object(o.h)("div",{className:"np_endscreen",ref:c},Object(o.h)("div",{className:"np_endscreen-header"},Object(o.h)(Q,{isQueueAutoplayEnabled:n,autonextRunning:r,onCancelAutonext:t})),a)},Q=e=>{var n=e.isQueueAutoplayEnabled,t=e.autonextRunning,r=e.onCancelAutonext;return n&&t?Object(o.h)(M,{autonextRunning:t,onCancelAutonext:r}):Object(o.h)(L,null)},J=Object(s.connect)(T)(z),W=t("zmjU"),U=t("eeF7"),D=t("cGXy"),G=t("sNI+"),H=6e3,K=Object(d.createStructuredSelector)({sequenceStepIsEnded:W.k,queueVideos:u.x,queueCurrentIndex:u.e,queueCurrentItemIsLast:l.i,queueCollectionXidForEventBus:l.h,queueModeForEventBus:l.q,queueSourceTypeIsPlaylist:u.t,settingsLoop:G.q,queueNextIndex:l.r}),Y={loadNextSequenceStarts:U.d,loadNextVideo:U.e},Z=e=>{var n=e.onAutoNextWillStart,t=e.onAutoNextFailure,r=e.onAutoNextAborted,a=e.onAutoNext,o=e.autoNextAbortSignal,c=e.queueSourceTypeIsPlaylist,s=e.queueVideos,d=e.queueCurrentIndex,u=e.queueCurrentItemIsLast,l=e.queueCollectionXidForEventBus,p=e.queueModeForEventBus,h=e.settingsLoop,g=e.queueNextIndex,_=e.loadNextSequenceStarts,x=e.loadNextVideo;return Object(i.d)(()=>{if((!u||h)&&(!(s.length<1)||h)){var e=g,i=s[e].xid;n({seconds:6,nextVideoIndex:e,nextVideoId:i});var c=setTimeout(()=>{try{A({videoXid:i}),_(),x({id:i,interactionType:D.b,collectionXid:l,queueMode:p,refreshQueue:!1}),a()}catch(e){t()}},6e3),d=()=>{clearTimeout(c),r()};return o.onabort=d,()=>{clearTimeout(c)}}},[u,c,s,d,l,p,h]),null},$=Object(s.connect)(K,Y)(Z),ee=t("J/cs"),ne=t("xvWd"),te=Object(d.createStructuredSelector)({isOnEndscreen:ne.a,isQueueAutoplayEnabled:l.b,queueVideos:u.x,queueCurrentIndex:u.e,settingsLoop:G.q}),re=e=>{var n=e.isOnEndscreen,t=e.isQueueAutoplayEnabled,r=e.queueVideos,s=e.queueCurrentIndex,d=e.settingsLoop,u=Object(i.j)(null),l=a()(u,2),p=l[0],h=l[1],g=h,_=()=>h(null),x=ce(),b=a()(x,2),v=b[0],m=b[1],j=Object(c.a)(n);return Object(i.d)(()=>{!j&&n&&I()},[n,j]),Object(o.h)(o.Fragment,null,n?Object(o.h)(o.Fragment,null,t?Object(o.h)($,{autoNextAbortSignal:m,onAutoNextWillStart:g,onAutoNextFailure:_,onAutoNextAborted:_,onAutoNext:_}):null,Object(o.h)(J,{autonextRunning:p,onCancelAutonext:v},Object(o.h)(ee.a,{carouselCards:ae({queueVideos:r,autonextRunning:p,queueCurrentIndex:s,settingsLoop:d}),onCarouselScroll:v,onCarouselClick:v,onCardFirstDisplay:(e,n)=>{S({videoXid:e.video.xid,videoIndex:n})},onCardClick:(e,n)=>{N({videoXid:e.video.xid,videoIndex:n}),v()}}))):null)},ae=e=>{var n=e.queueVideos,t=e.autonextRunning,r=e.queueCurrentIndex,a=e.settingsLoop;return n.map((e,o)=>{var i=t&&t.nextVideoIndex===o,c=oe({queueVideos:n,queueCurrentIndex:r,videoIndexInQueue:o,nextVideoIndex:t?t.nextVideoIndex:null,settingsLoop:a});return{type:"video",cardClassName:i?"np_carousel-video--autonext":c?"np_carousel-video--next":"",cardShouldScrollIntoView:c,video:e}})},oe=e=>{var n=e.queueVideos,t=e.queueCurrentIndex,r=e.videoIndexInQueue,a=e.nextVideoIndex,o=e.settingsLoop,i=n.length-1,c=t<i,s=r===a,d=r===i;return c||o?s:d},ie=Object(s.connect)(te)(re),ce=()=>{var e=Object(i.i)();return e.current||(e.current=se()),e.current},se=()=>{var e={onabort:()=>{}},n=()=>{e.onabort()};return[n,e]},de=t("oGUM"),ue=t.n(de),le=[{cssText:ue.a,styleId:"dmp-async-style-endscreen"}]}}]);