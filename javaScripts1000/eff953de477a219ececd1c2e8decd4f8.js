/*
 Oracle Infinity
 @preserve Copyright (c) 2017, 2018, 2019, Oracle and/or its affiliates. All rights reserved.
 common.js v1.3.39
 Created: 2021-02-23T22:52:53+0000
*/
ORA.common||(ORA.common={});ORA.common.mutations||(ORA.common.mutations={});ORA.common.mobile||(ORA.common.mobile={});
ORA.common.clientID={getId:function(a,b,c,d){var f=a.collectionServer;a=(d||"https")+"://"+f+"/v4/account/"+(a.accountGuid||"not_supplied")+"/client/id";f||"function"!==typeof c?ORA.common.protocols.xhrProtocol({endpoint:a,type:"GET"},function(e){b(e);ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_GETID,ORA.Event.STATUS_SUCCESS))},function(e){ORA.Debug.debug("get client identifier failed -- Error response : "+e);c&&c(e);ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_GETID,ORA.Event.STATUS_FAULT))}):(c("No server is defined"),
ORA.Debug.debug("No server was supplied to getId"))}};ORA.common.getMergedConfigs=function(a,b){var c=ORA.hasVal(b.config)?b.config:{};var d=ORA.hasVal(b.data)?b.data:{};c=ORA.paramsMerge(JSON.parse(JSON.stringify(a)),c);d=a.data?ORA.paramsMerge(a.data,d):d;ORA.hasVal(d)&&(c.data=JSON.parse(JSON.stringify(d)));return c};ORA.common._getConfigObject=function(){return ORA.analyticsModule?ORA.analyticsModule.prototype.oraConfigObj:{}};
ORA.common._mergeCopy=function(a,b,c){for(var d in a)if(a.hasOwnProperty(d)&&"[object Object]"===Object.prototype.toString.call(a[d]))b[d]=c(b[d]||{},a[d]);else if(a.hasOwnProperty(d))b[d]=a[d];else break};ORA.common._shallowMerge=function(a,b){"[object Object]"===Object.prototype.toString.call(b)&&ORA.common._mergeCopy(b,a,ORA.common._shallowMerge);return a};
ORA.common._deepMerge=function(){for(var a={},b=[].splice.call(arguments,0);0<b.length;){var c=b.splice(0,1)[0];"[object Object]"===Object.prototype.toString.call(c)&&ORA.common._mergeCopy(c,a,ORA.common._deepMerge)}return a};
ORA.common.CookieMgrClass=function(a,b){var c={},d=!1,f,e=a||function(h){return h},g=b||function(h){return h},k=this,t=function(h,n){h.replace(/\s/g,"");c[h]=n},q=function(){if(f=document.cookie)for(var h=f.split(";"),n=0;n<h.length;n++){var r=h[n].split("\x3d"),p=r.shift().replace(/^\s+|\s+$/g,""),u;1<=r.length&&(u=r.join("\x3d"));t(p,g(u))}d=!0};k.createCookie=function(h,n,r,p,u,v){var x=null;"session"!==p&&void 0!==r&&(x=new Date,x.setTime(x.getTime()+r));r="";ORA.hasVal(u)&&""!==u&&(r="; domain\x3d"+
u);u="";null!==v&&""!==v&&"undefined"!==typeof v&&(u="; path\x3d"+v);v="";null!==x&&(v="; expires\x3d"+x.toGMTString());k.setCookie(h,n,r+u+v)};k.getCookie=this._getCookieRaw=function(h){d||q();ORA.Debug.debug("getCookie: ["+h+", "+c[h]+"]");return c[h]};k.getCookieAsObj=function(h,n){!1===d&&q();var r=n||":",p=function(x){var y={};x&&(-1===x.indexOf("\x3d")?y[x]=x:ORA.common.extendArray(x.split(r)).forEach(function(z){var A=z.split("\x3d");z=A.shift();0<A.length&&z&&(A=A.join("\x3d"),y[z]=A)}));
return y},u={};if(h)return p(c[h]);for(var v in c)c.hasOwnProperty(v)&&(u[v]=p(c[v]));return u};k.setCookie=function(h,n,r,p){var u=r||"";p=p||":";if("object"===typeof n){var v=[];for(y in n)if(n.hasOwnProperty(y)&&"function"!==typeof n[y]){var x=[];x.push(y,n[y]);v.push(x.join("\x3d"))}n=v.join(p)}else n=void 0!==n?n:"";var y=!0;ORA.common._getConfigObject()&&!1===ORA.common._getConfigObject().secureCookie&&(y=!1);p="; secure";y&&"http:"!==document.location.protocol.toLowerCase()||(p="");document.cookie=
h+"\x3d"+e(n)+u+p;ORA.Debug.debug("setCookie: "+h+" with data: ["+e(n)+"]"+r+p);h=h+"\x3d"+n+u+p;try{var z=h.split("\x3d")[0],A=window.localStorage.getItem("ORA_COOK_STORE");r={};A&&(r=JSON.parse(A));var B=h.match(/expires=(.*?)(;|$)/);B&&0<B.length&&(new Date(B[1])>new Date?r[z]=h:delete r[z],window.localStorage.setItem("ORA_COOK_STORE",JSON.stringify(r)))}catch(C){ORA.Debug.debug("Error writing local storage: "+C.message)}d=!1};k.addCookie=k.setCookie;k.deleteCookie=k.cookieRemove=function(h,n,
r){var p=h+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT";n&&(p+="; path\x3d"+n);r&&(p+="; domain\x3d"+r);document.cookie=p;ORA.Debug.debug("deleteCookie: ["+h+", "+c[h]+"]");delete c[h];try{var u=window.localStorage.getItem("ORA_COOK_STORE");n={};u&&(n=JSON.parse(u));n&&n[h]&&(delete n[h],window.localStorage.setItem("ORA_COOK_STORE",JSON.stringify(n)))}catch(v){ORA.Debug.debug("Error deleting local storage: "+v.message)}};k.doesCookieExist=function(h){d||q();ORA.Debug.debug("doesCookieExist: "+
h+" \x3d "+!!c[h]+"]");return!!c[h]};k.checkAndDeleteCookie=function(h,n){return-1<document.cookie.indexOf(n)?(this.deleteCookie(n,"/","."+h),!0):!1};k.checkCookieOnDomainAndGetTLDomain=function(){var h=window.location.hostname,n=h.split("."),r="test_cookie"+Math.floor(9E4*Math.random()).toString();if(1!==n.length){for(h=n.length-1;0<=h;--h){var p=n.slice(h).join("."),u=new Date;u.setDate(u.getDate()+1);u=";domain\x3d."+p+";path\x3d/;expires\x3d"+u.toUTCString();k.setCookie(r,"cookie",u);if(k.checkAndDeleteCookie(p,
r)){var v=p;break}}return"."+v}return h};try{var w=window.localStorage.getItem("ORA_COOK_STORE"),l={};if(w){l=JSON.parse(w);for(var m in l)l.hasOwnProperty(m)&&!k.doesCookieExist(l[m].split("\x3d")[0])&&(document.cookie=l[m]);d=!1}}catch(h){ORA.Debug.debug("Error reading local storage: "+h.message)}k.addItemIntoCache=t;return k};
ORA.common.CountDownLatchClass=function(a,b,c){var d=c?c:"CountdownLatchClass";var f=a?a:0;var e=b&&ORA.common.isFn(b)?b:null;var g=!1;this.countUp=function(){f++};this.setCount=function(k){f=k};this.getCount=function(){return f};this.countDown=function(){f=0<f?f-1:0;ORA.Debug.trace("Countdown Latch counting down by 1, new count: "+f,d);try{0===f&&e&&!1===g&&(e(),g=!0,ORA.Debug.trace("Countdown Latch running callback",d))}catch(k){ORA.Debug.error("CountDownLatch error:  failed to execute callback",
"020",k,d)}};this.await=function(k){e=k&&ORA.common.isFn(k)?k:null};this.reset=function(){f=0;e=null}};
ORA.common._createScriptEl=function(a,b,c,d){var f={type:"text/javascript",async:"true",defer:"true"};f.onerror=d?d:function(){"_comm"===b?(ORA.Debug.error("OTS request fail: '"+a+"'",145),ORA.Debug.error("basic protocol failure ... aborting.  Check _comm url/payload",145)):ORA.Debug.error("_createScriptEl - aborting ... "+b,137)};f.src=a;window.setTimeout(function(){ORA.common._createElement("script",f,null,document.getElementsByTagName("head")[0]);c?c():ORA.Debug.trace("OTS request w/ basic protocol success")},
0)};ORA.common._createElement=function(a,b,c,d,f){f||(d&&(f=d.ownerDocument),f||(f=document));a=f.createElement(a);if(b)for(var e in b)b[e]&&b.hasOwnProperty(e)&&("onerror"===e?a.onerror=b[e]:a.setAttribute(e,b[e]));if(c)for(var g in c)c[g]&&c.hasOwnProperty(g)&&ORA.addDOMEvent(a,g,c[g]);d&&d.appendChild(a);return a};ORA.common._functionFactory=function(a){return ORA.common.isFn(a)?a:"string"===typeof a&&0<a.length?new Function(a):null};
ORA.common._execScript=function(a,b){try{return a&&0!==a.length&&""!==a?b?eval(a):window.execScript?window.execScript(a):window.eval(a):null}catch(c){throw ORA.Debug.error("_execScript failure:\n"+a,138,c),c;}};
ORA.common.getQryParams=function(a){var b=a.split(/[#]/g);b=(0<b.length?b[0]:a).split(/[&?]/g);var c={};try{for(var d=0,f=b.length;d<f;++d){var e=b[d].match(/^([^=]+)(?:=([\s\S]*))?/);if(e&&e[1]){var g="";try{g=decodeURIComponent(e[1])}catch(t){try{g=unescape(e[1])}catch(q){g=e[1]}}var k="";try{k="undefined"!==typeof e[2]?decodeURIComponent(e[2]):void 0}catch(t){try{k=unescape(e[2])}catch(q){k=e[2]}}c[g]?(c[g]=[c[g]],c[g].push(k)):c[g]=k}}}catch(t){ORA.Debug.error("problem getting params from: "+
a)}return c};ORA.common._isDNTSet=function(){return"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||1===navigator.doNotTrack||"1"===navigator.msDoNotTrack||"1"===window.doNotTrack};ORA.common._isEloquaOptOutSet=function(a){return a.ELOQUA&&void 0!==a.ELOQUA.GUID&&"00000000000000000000000000000000"===a.ELOQUA.GUID};ORA.common._isOracleOptOutSet=function(a){return a.OPTOUT&&void 0!==a.OPTOUT.s33&&"0"===a.OPTOUT.s33};
ORA.common._isInfinityOptOutSet=function(a){return a["Infinity.optout"]&&void 0!==a["Infinity.optout"].state&&"1"===a["Infinity.optout"].state};ORA.common._isWTOptOutSet=function(a){return!!a.WTOPTOUT&&a.WTOPTOUT["1"]};
ORA.common._isOptedOut=function(a){void 0===ORA.common._isOptedOut.invalidate&&(ORA.common._isOptedOut.invalidate=!1);if(void 0===this.rtnValue||void 0!==a||ORA.common._isOptedOut.invalidate)ORA.common._isOptedOut.invalidate=!1,a=a?a:ORA.common._getCookieAsObj(),this.isEloqua=ORA.common._isEloquaOptOutSet(a),this.isOPTOUT=ORA.common._isOracleOptOutSet(a),this.isInfinityOptout=ORA.common._isInfinityOptOutSet(a),this.isWTOPTOUT=ORA.common._isWTOptOutSet(a),this.rtnValue=this.isEloqua||this.isOPTOUT||
this.isInfinityOptout||this.isWTOPTOUT;this.rtnValue&&(a="OPTOUT reason- isEloqua: "+this.isEloqua+", isOPTOUT: "+this.isOPTOUT+", isInfinityOptout: ",a+=this.isInfinityOptout+", isWTOPTOUT: "+this.isWTOPTOUT,ORA.Debug.info(a));return this.rtnValue};ORA.common._setInfinityOptOut=function(a){var b=new Date,c="";isNaN(a)||(a=a||31536E7,b=new Date(b.getTime()+a),c=";expires\x3d"+b.toUTCString());ORA.common._setCookie("Infinity.optout","state\x3d1",c+";path\x3d/");ORA.common._isOptedOut.invalidate=!0};
ORA.common.loadJS=function(a,b,c){var d=b;2>arguments.length&&(d=!0);var f=document.createElement("script");f.type="text/javascript";f.async=d;f.src=a;d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(f,d)};ORA.common._getIEVer=function(a){a="undefined"!==typeof a?a:navigator.userAgent;return/msie\s|trident\/|edge\//i.test(a)&&parseInt(+/(edge\/|rv:|msie\s)([\d.]+)/i.exec(a)[2],10)||null};
ORA.common.isSafariBrowser=function(a){a="undefined"!==typeof a?a:navigator.userAgent;a=a.toLowerCase();return-1!==a.indexOf("safari")&&0>a.indexOf("chrome")};ORA.common.isMobileBrowser=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};
ORA.common.visitMetaTags=function(a,b,c){b=b||window.document;if(b.documentElement)b=b.getElementsByTagName("meta");else if(b.all)b=b.all.tags("meta");else return;for(var d=b.length,f=0;f<d;f++){var e=b.item(f).name,g=b.item(f).content;0<e.length&&a(e,g,c)}};ORA.common.elemExists=function(a){return(a=ORA.getSelector()(a))&&0!==a.length?!0:!1};
ORA.common.createObserver=function(a,b){try{if("undefined"===typeof MutationObserver)return ORA.Debug.error("handleSPARules:  browser does not support MutationObserver",303),null;var c=ORA.common.extendArray,d=ORA.common.elemExists;if(!d(a))return ORA.Debug.trace("handleSPARules:  failed to attach observer to '"+a+"'"),!1;c(ORA.getSelector()(a)).forEach(function(f){(new MutationObserver(function(e){e.forEach(function(g){ORA.Debug.superfine("OBSERVER: "+g.type+" on "+f+", executing callback");ORA.Debug.superfine("executing callback: "+
b.toString());b(g)})})).observe(f,{attributes:!0,childList:!0,characterData:!0,subtree:!0});ORA.Debug.debug("createObserver:  Observing "+f.toString())});return!0}catch(f){return ORA.Debug.debug("createObserver:  MutationObserver API unavailable"),null}};ORA.common.protocols||(ORA.common.protocols={});
ORA.common.protocols={corsPost:function(a,b,c,d){var f=a.timeout||2E3,e={endpoint:a.endpoint,type:"POST"},g=!1,k=function(){if(!g&&ORA.hasVal(a.fallbackEndpoint)){var m=ORA.common.TrackingPipeline,h=m.getCommProtocol(ORA.common.CommManager.GIF);null===h&&(h=m.getCommProtocol(ORA.common.CommManager.DEFAULT));null===h?ORA.Debug.error("Couldnt find a fallback protocol","COMM"):(ORA.Debug.debug("Falling back to "+a.fallbackEndpoint,"COMM"),g=!0,h({endpoint:a.fallbackEndpoint,timeout:f},b,c,d))}},t=function(m){g||
(ORA.Debug.trace("corsPost: handling response\x3d'"+m+"'"),c&&c(m),g=!0)},q=function(m){return function(){g||(ORA.Debug.error(m+": payload:"+ORA.common.JSONPrettify(b)),!ORA.hasVal(a.fallbackEndpoint)&&d?d(m):k(),g=!0)}},w={events:[b]};ORA.Debug.debug("DCApi v2 payload: "+ORA.common.JSONPrettify(w));var l=function(m){ORA.Debug.trace("xdrRespHandler response\x3d'"+m.responseText+"'");t(m.responseText)};try{this.makeRequest(e,w,t,q,l,"application/json"),ORA.Debug.debug("endpoint: "+e),5<=ORA.Debug.getDebugLevel()&&
ORA.Debug.trace("payload: "+ORA.common.JSONPrettify(b)),window.setTimeout(function(){g||(ORA.Debug.debug("Timed out....trying fallback"),k(),g=!0)},f)}catch(m){q(m)()}},collectionV2Post:{name:"collection.v2.post",protocol:function(a,b,c,d){if(!b)throw Error("Payload is not defined");try{ORA.common.protocols.corsPost(a,b,c,d)}catch(f){ORA.Debug.error("DcApi v2 failed: "+f)}}},makeRequest:function(a,b,c,d,f,e){var g=a.type||"GET",k=a.endpoint;a="undefined"===typeof a.async?!0:!1;var t=function(){ORA.Debug.debug("xhrProtocol: request timed out ");
d("xhrProtocol: request timed out")};"string"===typeof b&&(b=JSON.parse(b));try{var q=new XMLHttpRequest;"withCredentials"in q?(a&&(q.onreadystatechange=this.xhrRespHandler(q,c,d)),q.open(g,k,a),q.withCredentials=!0):(q=new XDomainRequest,a&&(q.onload=f(q)),q.open(g,k,a));"GET"!==g&&e&&q.setRequestHeader("Content-type",e);q.onerror=d;q.ontimeout=t;q.send(JSON.stringify(b))}catch(w){ORA.Debug.debug("No CORS Support or Disabled")}},createEndpointUrl:function(a,b,c){var d=[],f=function(g,k){var t=k,
q=function(w){return"function"===typeof encodeURIComponent?encodeURIComponent(w):escape(w)};c.i18n&&""!==c.exre&&!c.exre.test(g)&&(t=q(t));return g+"\x3d"+function(w,l){var m=w;if(""!==l){if(null===m||void 0===m)return"";m=m.toString();for(var h in l)l[h]instanceof RegExp&&(m=m.replace(l[h],h));return m}return escape(m)}(t,c.re)};b.dcsdat=(new Date).getTime();for(var e in b)b.hasOwnProperty(e)&&d.push(f(e,b[e]));0<d.length&&(a+="?"+d.join("\x26"));(b=ORA.common._getIEVer())&&9>b&&2048<a.length&&(a=
a.substring(0,2040)+"\x26wt.tu\x3d1",ORA.Debug.debug("Warning: exceeded max size of limit 2047. Truncating payload."));return a},gifProtocol:function(a,b,c,d){var f=a.endpoint,e=a.conf||{},g=!1,k=a.timeout||2E3,t=c||function(){},q=d||function(){};if(!b)throw Error("Payload is not defined");if(ORA.common._isOptedOut()&&a.protocolType&&"default"!==a.protocolType)return ORA.Debug.debug("Sending no data due to opted out"),g=!0,ORA.common.invokeFn(q),!0;a=ORA.common.protocols.createEndpointUrl(f,b,e);
b=new Image;b.onload=function(){if(!g)return g=!0,ORA.common.invokeFn(t),!0};b.onerror=function(){if(!g)return g=!0,ORA.common.invokeFn(q),!0};window.setTimeout(function(){g||(g=!0,ORA.common.invokeFn(q))},k);ORA.Debug.debug("gifProtocol sending:"+a);b.src=a;return!0},xhrProtocol:function(a,b,c,d,f){var e=!1,g=a.endpoint,k=a.type||"GET",t=f||"application/json;charset\x3dUTF-8";f||(t="application/json;charset\x3dUTF-8");var q=function(w){if(!e){ORA.Debug.trace("xhrProtocol: handling response\x3d'"+
w+"'");if(b)try{b(w)}catch(l){ORA.Debug.debug("xhrProtocol: error calling success callback: "+l.message)}e=!0}};f=function(w){if(!e){ORA.Debug.error(w);if(c)try{c(w)}catch(l){ORA.Debug.debug("xhrProtocol: error calling failure callback: "+l.message)}e=!0}};if(-1==="GETPUTPATCHPOST".indexOf(k))f("Unknown type of request: "+k);else{k=function(w){return function(){ORA.Debug.trace("xdrRespHandler response\x3d'"+w.responseText+"'");q(w.responseText)}};try{this.makeRequest(a,d,q,f,k,t),ORA.Debug.debug("endpoint: "+
g)}catch(w){ORA.Debug.debug("Got an exception"+w)}}},beaconProtocol:{name:"beaconProtocol",protocol:function(a,b){var c=a.endpoint,d={events:[b]};"sendBeacon"in window.navigator?(c=navigator.sendBeacon(c,JSON.stringify(d)),ORA.Debug.debug("navigator send "+c)):(a.type="POST",a.async=!1,ORA.common.protocols.makeRequest(a,d))}},xhrRespHandler:function(a,b,c){return function(){try{if(200===a.status)switch(a.readyState){case 0:case 1:case 2:case 3:ORA.Debug.superfine("xhrProtocol: in progress, state: "+
a.readyState);break;case 4:ORA.Debug.debug("xhrProtocol: response received");b(a.responseText);break;default:ORA.Debug.debug("xhrProtocol: unusual readyState\x3d"+a.readyState)}else 4===a.readyState&&c("xhrProtocol xhrResponseHandler:  communication error, http(cor) status: "+a.status+" response'"+a.responseText)}catch(d){c(d)}}}};ORA.common.isFn=function(a){return"[object Function]"===Object.prototype.toString.call(a)};ORA.common.isArray=function(a){return"object"===typeof a&&a instanceof Array};
ORA.common.isRegExp=function(a){return"object"===typeof a&&a.constructor===RegExp};ORA.common.invokeFn=function(a,b){try{b?a(b):a()}catch(c){ORA.Debug.error("Error Invoking function "+c)}};
ORA.common.extendArray=function(a){a&&(a.forEach||(a.forEach=function(b,c){for(var d=c||window,f=0,e=this.length;f<e;++f)b.call(d,this[f],f,this)}),a.filter||(a.filter=function(b,c){for(var d=c||window,f=ORA.common.extendArray([]),e=0,g=this.length;e<g;++e)b.call(d,this[e],e,this)&&f.push(this[e]);return f}),a.indexOf||(a.indexOf=function(b){for(var c=0;c<this.length;++c)if(this[c]===b)return c;return-1}));return a};
ORA.common.extendObject=function(a){a&&(a.forEach||(a.forEach=function(b,c){var d=c||window,f;for(f in this)this.hasOwnProperty(f)&&a.forEach!==a[f]&&a.length!==a[f]&&b.call(d,this[f],f,this)}),a.length||(a.length=function(){var b=0,c;for(c in this)this.hasOwnProperty(c)&&"function"!==typeof this[c]&&b++;return b}));return a};ORA.common.isEmpty=function(a){if(!a||Object.keys&&0===Object.keys(a).length)return!0;for(var b in a)if(a.hasOwnProperty(b)){if(""===b&&"undefined"===typeof a[b])break;return!1}return!0};
ORA.common.objectToKVPArray=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&""!==a[c]&&void 0!==a[c]&&"function"!==typeof a[c]&&b.push({k:c,v:a[c]});return b};ORA.common.extendProps=function(a,b,c){for(var d in b)if(c||"undefined"===typeof a[d])a[d]=b[d];return a};ORA.common.JSONPrettify=function(a){try{if("undefined"!==typeof JSON)return JSON.stringify(a,null,2)}catch(b){ORA.Debug.debug(b.toString())}};
ORA.common.trim=function(a){return a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};ORA.common.getAttrIfExistsElseDefault=function(a,b,c){if(ORA.hasVal(a[b]))return a[b];if(ORA.hasVal(c))return c;throw"ORA.common.getAttrIfExistsElseDefault: missing fieldName: "+b;};ORA.common.isInteger=function(a){isNaN(a)?a=!1:(a=parseFloat(a),a=a===a);return a};
ORA.common.getObjId=function(a){var b=[],c=a,d=function(e){for(var g=1;e.previousElementSibling;)g++,e=e.previousElementSibling;return g},f=function(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e};if(a.id)return"#"+f(c.id);for(;c.parentNode;)if(c.id){b.unshift("#"+f(c.id));break}else c===c.ownerDocument.documentElement?b.unshift(c.tagName):(a=d(c),b.unshift(c.tagName+":nth-child("+a+")")),c=c.parentNode;return b.join(" \x3e ")};
ORA.common.encode=function(a){for(var b=[],c=function(f){var e=[],g;for(g in f)f.hasOwnProperty(g)&&(e.push(String(g)),e.push(encodeURIComponent(f[g])));return e.join(",")},d=0;d<a.length;d++)b.push(c(a[d]));return b.join(":")};ORA.common.decode=function(a){var b=[],c=function(f){f=f.split(",");for(var e={},g=0;g<f.length;g+=2)e[f[g]]=decodeURIComponent(f[g+1]);return e};a=a.split(":");for(var d=0;d<a.length;d++)b.push(c(a[d]));return b};
ORA.common.CommManagerClass=function(){var a={};this.OTS="ots";this.JSONP="jsonp";this.GIF="gif";var b=this.DEFAULT="default",c=ORA.common.protocols.gifProtocol;this.execReq=function(d){if(d.isSendEnabled()){if(0===d.endpoints.length){ORA.Debug.debug("Warning: no endpoint for "+JSON.stringify(d));return}for(var f=0;f<d.endpoints.length;f++){var e=d.endpoints[f];var g=e.desc?e.desc:"";var k=e.protocolType||b;if(!k)throw"Unable to determine protocol from message "+g;(g=a[k])?g(e,d.payload,d.success,
d.fail):ORA.Debug.error("No comm protocol registered for msg:'"+JSON.stringify(d,null,2)+"'")}}else ORA.Debug.trace("Payload is not being sent, the sendDisasble flag is set :"+JSON.stringify(d,null,2)),ORA.common.invokeFn(d.success);ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_COM_EXEC_REQ,ORA.Event.STATUS_SUCCESS))};this.setProtocol=function(d,f,e){a[d]&&ORA.Debug.debug("warning: protocol '+name+' exists, so overwriting");e&&!0===e&&(b=d);ORA.Debug.debug("setProtocol() - name: "+d);ORA.Debug.trace("setProtocol() - protocol: "+
f.toString());a[d]=f};this.removeProtocol=function(d,f){a[d]?(delete a[d],ORA.Debug.debug("removing protocol: "+d)):ORA.Debug.debug("warning: delete of protocol "+d+", because doesn't exist")};this.getProtocol=function(d){return a[d]?a[d]:null};this.setProtocol(this.DEFAULT,c)};ORA.common.CommManager=new ORA.common.CommManagerClass;
ORA.common.Message=function(a){var b=this;if(!a.endpoints)throw Error("Message created w/o endpoint, params: "+JSON.stringify(a));if(!a.payload)throw Error("Message created w/o payload, params: "+JSON.stringify(a));for(var c=0;c<a.endpoints;c++)if(!a.endpoints[c].endpoint)throw Error("Message must contain an endpoint"+JSON.stringfy(a.endpoints));b.params=JSON.parse(JSON.stringify(a));b.endpoints=this.params.endpoints;b.payload=this.params.payload;b.desc=this.params.desc;if(a.success)var d=a.success;
if(a.fail)var f=a.fail;b.params.userDefinedParams&&(b.userDefinedParams=b.params.userDefinedParams);var e=function(k,t){try{"undefined"!==typeof k&&k(b,t)}catch(q){ORA.Debug.error("Failure in message callback for: "+b.desc)}};b.fail=function(k){e(f,k)};b.success=function(k){e(d,k)};b.setParam=function(k,t,q){ORA.hasVal(k)&&ORA.hasVal(t)?(k=k.toLowerCase(),"undefined"!==typeof b.payload[k]&&!0!==q?ORA.Debug.trace("Not overriding payload param '"+k+"' to '"+t+"'"):b.payload[k]=t):ORA.Debug.error("setParam - missing either key or val, not setting")};
b.getParam=function(k){if(!k)return ORA.Debug.error("getParam - missing key"),null;k=k.toLowerCase();return"undefined"===typeof b.payload[k]?null:b.payload[k]};var g=!0;b.sendDisable=function(){g=!1};b.sendEnable=function(){g=!0};b.isSendEnabled=function(){return g}};
ORA.common.MutationMgrClass=function(){var a=function(){var b={},c={1:{},2:{},3:{}};b.put=function(d,f,e){var g=2;"undefined"!==typeof e&&(g=e);null!==b.get(d)&&(ORA.Debug.debug("Warning: mutant id: ' "+d+"' already registered, overwriting mutation and priority "),b.rm(d));c[g][d]=f};b.get=function(d){for(var f in c)if(c[f][d])return c[f][d];return null};b.rm=function(d){for(var f in c)c[f][d]&&delete c[f][d]};b.getMutationQueue=function(){var d=new ORA.common.Queue,f=function(e,g,k){d.enqueue({id:g,
mutant:k[g]})};ORA.common.extendObject(c[1]).forEach(f);ORA.common.extendObject(c[2]).forEach(f);ORA.common.extendObject(c[3]).forEach(f);return d};return b}();this.register=function(b,c,d){try{a.get(b)&&ORA.Debug.debug("Warning:  "+b+" has a registered mutation, overwriting"),a.put(b,c,d),ORA.Debug.debug("mutant id: '"+b+"' registered per mutant registration act"),ORA.Debug.superfine("mutation: '"+c+"'")}catch(f){ORA.Debug.error("Error:  MutationMgr unable to register mutation id: "+b+", mutation: "+
c,null,f)}};this.deregister=function(b){try{a.get(b)&&(a.rm(b),ORA.Debug.debug("mutant id: '"+b+"' deregistered"))}catch(c){ORA.Debug.error("Error:  MutationMgr unable to deregister mutation id: "+b,null,c)}};this.getMutation=function(b){return a.get(b)?a.get(b):null};this.mutate=function(b){try{for(var c=a.getMutationQueue(),d;!c.isEmpty();){d=c.dequeue();ORA.Debug.superfine("mutant: '"+d.id+"', before(unmutated) msg: "+ORA.common.JSONPrettify(b));if(b.params&&"collect"===b.params.desc){var f="analyticsAnnotate"===
d.id,e=b.params.applyMutations||!1,g=b.params.sendSessionInfo||void 0===b.params.sendSessionInfo;(e||g)&&(g&&f||e&&!f)&&d.mutant(b)}else d.mutant(b);ORA.Debug.trace("mutant: '"+d.id+"' has processed msg");ORA.Debug.superfine("mutant: '"+d.id+"', after(mutated) msg: "+ORA.common.JSONPrettify(b))}}catch(k){ORA.Debug.error("Problem with mutation error: '"+k+"'","019",k,"mutationMgrClass")}};this.listMutations=function(){for(var b=a.getMutationQueue(),c=[],d;!b.isEmpty();)d=b.dequeue(),ORA.Debug.debug(JSON.stringify(d)),
c.push(d);return c}};ORA.common.Queue=function(){var a=[],b=0;this.getLength=function(){return a.length-b};this.isEmpty=function(){return 0===a.length};this.enqueue=function(c){a.push(c)};this.dequeue=function(){if(0!==a.length){var c=a[b];2*++b>=a.length&&(a=a.slice(b),b=0);return c}};this.peek=function(){if(0<a.length)return a[b]}};
ORA.common.TrackingPipelineClass=function(){var a=!0,b=this,c={},d=0,f={},e=!1,g=new ORA.common.Queue,k=new ORA.common.CommManagerClass,t=new ORA.common.MutationMgrClass,q=ORA.common.Message;this.registerProduct=function(l,m,h){if(!l)throw Error("Product must have a name");if(c[l])ORA.Debug.debug("Product "+l+"already registered");else{var n={name:l,timeout:4E3,timedOutCallback:function(){},ready:!1,timedOut:!1};"undefined"!==typeof m&&(n.timeout=m);h&&(n.timedOutCallback=h);c[n.name]=n;d++;ORA.Debug.debug("registering product "+
n.name+" to TrackingPipeline");var r=this;window.setTimeout(function(){if(!n.ready&&(n.timedOut=!0,r.productCountDown(),ORA.Debug.debug("Product "+JSON.stringify(n)+" timed out"),n.timedOutCallback))try{n.timedOutCallback()}catch(p){ORA.Debug.error("Failure in product callback for: "+n)}},n.timeout)}};this.getProduct=function(l){return c[l]};this.productIsReady=function(l){if(c[l]){var m=c[l];!0===m.ready?ORA.Debug.debug("Product "+m.name+" is already 'ready'"):m.timedOut?ORA.Debug.debug("Product "+
m.name+" has timed out"):(m.ready=!0,ORA.Debug.debug("Pipeline product: "+l+" set to ready"),this.productCountDown())}else ORA.Debug.debug("Product "+l+" isn't registered. Can't set to ready")};this.getProductCount=function(){return d};this.productCountDown=function(){0!==d&&d--;if(0===d&&!1===e){if(!0===a){var l=new q({endpoints:[],desc:"seed message",payload:b.getSeedMsgPayload(),mutation:{pageview:!0}});b.enqueue(l);ORA.Debug.debug("TrackingPipeline enqueued the seed msg")}else ORA.Debug.trace("Seed Message disabled, not enqueueing");
this.flush()}};var w=function(l){var m=ORA.common._getConfigObject();m=m&&m.DNTBehavior||"honorDNT";if(ORA.common._isDNTSet())switch(m){case "honorDNT":ORA.Debug.debug("*** DNTBehavior: DNT is set in the browser - canceling payload ***");return;case "anonymize":l.payload.dcsipa="1";ORA.Debug.debug("DNTBehavior: DNT is set to anonymize the session, adding dcsipa\x3d1 to payload");break;case "ignoreDNT":ORA.common._isDNTSet()&&ORA.Debug.debug("DNTBehavior: DNTBehavior is set to ignore the browser DNT setting")}t.mutate(l);
k.execReq(l)};this.enqueue=function(l){if(!l)throw Error("Message isn't defined!");ORA.Debug.trace("enqueueing message: "+JSON.stringify(l,null,2));g.enqueue(l);return 1};this.flush=function(){for(;!g.isEmpty();){var l=g.dequeue();w(l)}this.enqueue=function(m){w(m)};e=!0;ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_TRACKING_FLUSH,ORA.Event.STATUS_SUCCESS));ORA.Debug.debug("TrackingPipeline has been flushed")};this.getLength=g.getLength;this.setCommProtocol=k.setProtocol;this.removeCommProtocol=k.removeProtocol;
this.getCommProtocol=k.getProtocol;this.registerMutation=t.register;this.deregisterMutation=t.deregister;this.getMutation=t.getMutation;this.listMutations=t.listMutations;this.registerProducts=function(){if(ORA&&ORA.getTrackingPipelineProducts){var l=ORA.getTrackingPipelineProducts(),m;for(m in l)l.hasOwnProperty(m)&&this.registerProductWithTimeout(l,m)}};this.registerProductWithTimeout=function(l,m){l[m].timeout?this.registerProduct(l[m].name,l[m].timeout):this.registerProduct(l[m].name)};this.disableSeed=
function(){ORA.Debug.debug("Seed Message disabled, initial seed message will not be enqueued");a=!1};this.seedMsgEnabled=function(){return a};this.setSeedMsgPayload=function(l){f=l};this.getSeedMsgPayload=function(){return f};this.hasFlushed=function(){return e}};
ORA.common.PluginMgrClass=function(a){var b=this,c=a||"ora-plugins",d,f={},e=new ORA.common.CountDownLatchClass(0,null,c+":PluginMgrClass"),g=0,k=!1,t=!1;b.setReady=function(){t=!0};b.isReady=function(){return t};b.getPlugin=function(l){return f[l]?f[l]:null};b.clearPlugins=function(){f={};e.reset()};b.setInjectConfigsCb=function(l){d=l};b.setInitPluginsCallback=function(l){e.await(l)};b.setNumExpectedPlugins=function(l){ORA.Debug.trace("setNumExpectedPlugins("+l+")",c);e.setCount(l);g=l};b.getNumPluginsToLoad=
function(){return g};var q=function(){ORA.Debug.debug("asyncReady initPluginLatch.countDown()",c);e.countDown()},w=function(l){ORA.common.isFn(l)?l():ORA.common._functionFactory(l)()};b._listPlugins=function(){ORA.Debug.info(JSON.stringify(f),c);return f};b.initPlugins=function(){if(!0!==k){k=!0;var l=function(m,h){var n=h.initCb,r=h.async,p=h.blockFlag,u=h.successCb,v=h.failCb,x=function(){!0!==(f[m]&&ORA.hasVal(f[m].succeeded))&&(ORA.Debug.debug("Running fail callback for '"+m+"'",c),v(),ORA.Debug.debug("plugin fail initPluginLatch.countDown()",
c),e.countDown())},y=window.setTimeout(x,h.timeout),z=function(){ORA.Debug.debug("Running success callback for '"+m+"'",c);u();f[m]&&(f.succeeded=!0);window.clearTimeout(y)};p=!0===p?function(){try{n(h,q),z()}catch(A){ORA.Debug.error("Error executing '"+m,"'",c),x()}}:function(){try{n(h),z(),ORA.Debug.debug("plugin success initPluginLatch.countDown()",c),e.countDown()}catch(A){ORA.Debug.error("Error executing '"+m,"'",c),x()}};!0===r?window.setTimeout(p,0):p()};ORA.common.extendObject(f).forEach(function(m,
h){ORA.Debug.debug("pluginMgr running init for "+h,c);var n=ORA.common.isFn;try{n(m.initCb)&&l(h,m)}catch(r){ORA.Debug.error("pluginMgr problem in init of '"+h+"' "+r.toString(),c)}})}};b._regPlugin=function(l,m,h,n){var r={};h&&(r=h);h=ORA.common.isFn;var p=ORA.common.extendObject,u="ora-plugins";n&&(u=n);ORA.Debug.debug("Start process of registering Plugin "+l,c);h(d)&&p(d(l,u)).forEach(function(x,y){r[y]=x});n=function(){ORA.Debug.error("plugin: "+u+":"+l+" init callback execution has failed",
c)};h=function(){ORA.Debug.debug("plugin: "+u+":"+l+" init callback has executed successfully",c)};p=!1;void 0!==r.blockCollect&&(p=r.blockCollect);var v=null;ORA.common.isFn(m)&&(v=m);m={initCb:v,blockFlag:p,timeout:r.timeout||4E3,async:!1!==r.async,successCb:ORA.common._functionFactory(r.success)||h,failCb:ORA.common._functionFactory(r.fail)||n,config:r,pluginName:l};f[l]?ORA.Debug.debug("Plugin "+l+" is a duplicate - over writing with new plugin",c):ORA.Debug.debug("Plugin "+l+" is a new - adding new plugin",
c);f[l]=m;g--;ORA.Debug.debug("loadPlugin Count is "+g,c);b.checkInitReady()};b.checkInitReady=function(){if(0>=g&&!1===k){var l=ORA.Event.ANA_HOSTED_PLUGINS_LOADED;"ora-plugins"===c&&(l=ORA.Event.ANA_ORA_PLUGINS_LOADED);ORA.fireEvent(new ORA.Event(l,ORA.Event.STATUS_SUCCESS));ORA.Debug.trace("checkInitReady:  loadPluginCount("+g+"), plugins have loaded so running initPlugins()",c);b.initPlugins()}else ORA.Debug.trace("checkInitReady:  loadPluginCount("+g+"), not running initPlugins()",c)};b.processHostedPlugins=
function(l){ORA.Debug.debug("Processing Hosted Plugins "+JSON.stringify(l),c);var m=function(v,x){x.loaded=!0;ORA.Debug.debug("Executing function ("+v+")",c);return function(){try{w(v)}catch(y){ORA.Debug.debug("Hosted plugin execution failed: "+y.message,c),e.countDown(),x.fail&&w(x.fail)}}},h=function(v){return function(){v.loaded||(ORA.Debug.debug("Hosted Plugin "+v.pluginName+" src:"+v.src+" timed out",c),v.timedout=!0,e.countDown(),v.fail&&w(v.fail))}},n=function(v,x){var y=x.src,z;(z=ORA.common.isFn(y))||
(z=y.split("/"),z=!/\.js$/i.test(z.pop()));z?(ORA.Debug.debug("Plugin "+v+" is a function - executing function",c),window.setTimeout(m(y,x)(y,x),1)):(ORA.Debug.debug("Plugin "+v+" is a hosted script "+y+" - executing loadJS()",c),ORA.analytics.loadJS(y,x.async||!0))},r;for(r in l)if(l.hasOwnProperty(r)&&"function"!==typeof l[r]){var p=l[r],u=!0;void 0!==p.enable&&(u=p.enable);u?(p.pluginName=r,p.loaded=!1,ORA.Debug.debug("Found Hosted Plugin "+r+" Processing",c),ORA.analytics.plugins[r]=p,n(r,p),
p.timeout||(p.timeout=4E3),window.setTimeout(h(p),p.timeout)):(e.countDown(),ORA.Debug.debug("Plugin "+r+" is disabled",c))}}};
(function(){ORA.Debug.superfine=ORA.Debug.superfine;ORA.Debug.trace=ORA.Debug.trace;ORA.Debug.error=ORA.Debug.error;ORA.Debug.debug=ORA.Debug.debug;ORA.Debug.info=ORA.Debug.info;var a=function(c,d){var f={};ORA.common.extendObject(c).forEach(function(e,g){var k=g.toLowerCase();f[k]=e});void 0===f["wt.dl"]&&d&&(f["wt.dl"]=d);return f},b=function(){var c=function(e){var g=ORA.common.TrackingPipeline,k=new ORA.common.Message(e);g.enqueue(k);ORA.Debug.debug("Common enqueued: '"+e.desc+"'","COMMON")},
d=function(e,g,k){ORA.Debug.info("ORA."+g);var t=function(h){h=h&&h.params&&h.params.config&&h.params.config.endpoints?h.params.config.endpoints:[];ORA.common.extendArray(h).forEach(function(n,r,p){n.protocolType||(p[r].protocolType="gif")});return h}(e),q=function(h){var n={};h&&h.params&&h.params.data&&(n=h.params.data);h=ORA.common.extendObject(n);return a(h,k)}(e),w,l;e&&e.params&&e.params.config&&e.params.config.callbacks&&e.params.config.callbacks.success&&(w=e.params.config.callbacks.success);
e&&e.params&&e.params.config&&e.params.config.callbacks&&e.params.config.callbacks.fail&&(l=e.params.config.callbacks.fail);var m={};m[g]=!0;return ORA.paramsMerge(e.params.config,{endpoints:t,desc:g,payload:q,mutation:m,success:w,fail:l})},f=function(){ORA.common.TrackingPipeline=void 0;ORA.common.pluginMgr=void 0;ORA.hasVal(ORA.common.id.hasStarted)&&!0===ORA.common.id.hasStarted&&(ORA.common.id.hasStarted=!1);ORA.common.PageAnalyzeMutant=void 0};ORA.addEventHandler(ORA.Event.LOADER_CLICK,function(e){var g=
d(e,"click",1);e.params&&e.params.config&&e.params.config.testAlias?g.testAlias=e.params.config.testAlias:e.params&&e.params.testAlias&&(g.testAlias=e.params.testAlias);e.params&&e.params.config&&e.params.config.conversionPoint?g.conversionPoint=e.params.config.conversionPoint:e.params&&e.params.conversionPoint&&(g.conversionPoint=e.params.conversionPoint);g.userDefinedParams=e.params;c(g)});ORA.addEventHandler(ORA.Event.LOADER_COLLECT,function(e){e=d(e,"collect",0);c(e)});ORA.addEventHandler(ORA.Event.LOADER_VIEW,
function(e){e=d(e,"view",0);c(e)});ORA.addEventHandler(ORA.Event.LOADER_RESET,f);ORA.addEventHandler(ORA.Event.LOADER_PRE_EXECUTE,function(e){f();e=e.params&&ORA.hasVal(e.params)?e.params:{};ORA.common.setup(e)})};ORA.cookieMgr=new ORA.common.CookieMgrClass;ORA.common._setCookie=ORA.cookieMgr.setCookie;ORA.common._getCookieAsObj=ORA.cookieMgr.getCookieAsObj;ORA.common._deleteCookie=ORA.cookieMgr.deleteCookie;ORA.common._getCookieRaw=ORA.cookieMgr.getCookie;ORA.common._createCookie=ORA.cookieMgr.createCookie;
ORA.common._doesCookieExist=ORA.cookieMgr.doesCookieExist;ORA.common.setup=function(c){ORA.Debug.debug("Common setup() started");ORA.common.TrackingPipeline=new ORA.common.TrackingPipelineClass;ORA.common.TrackingPipeline.setSeedMsgPayload(a(c&&c.data?c.data:{}));ORA.common.pluginMgr=new ORA.common.PluginMgrClass("ora-plugins");ORA.common.hostedPluginMgr=new ORA.common.PluginMgrClass("hosted-plugins");c=new ORA.common.mutations.PageAnalyze;ORA.common.PageAnalyzeMutant=c;ORA.common.TrackingPipeline.registerProducts();
ORA.common.TrackingPipeline.setCommProtocol(ORA.common.protocols.collectionV2Post.name,ORA.common.protocols.collectionV2Post.protocol);ORA.common.TrackingPipeline.setCommProtocol(ORA.common.protocols.beaconProtocol.name,ORA.common.protocols.beaconProtocol.protocol);ORA.common.TrackingPipeline.registerMutation("pageAnalyzeMutant",c.mutation,1);b();ORA.Debug.debug("Common setup() finished","COMMON")};ORA.isOptedOut=ORA.common._isOptedOut;ORA.setInfinityOptOut=ORA.common._setInfinityOptOut;ORA.setCookie=
ORA.common._setCookie;ORA.deleteCookie=ORA.common._deleteCookie;ORA.getCookieRaw=ORA.getCookie=ORA.common._getCookieRaw;ORA.getCookieAsObj=ORA.common._getCookieAsObj;ORA.doesCookieExist=ORA.common._doesCookieExist;ORA.getIEVer=ORA.common._getIEVer;ORA.JSONPrettify=ORA.common.JSONPrettify;ORA.extendObject=ORA.common.extendObject;ORA.getQryParams=ORA.common.getQryParams})();
ORA.common.mutations.PageAnalyze=function(a){a=a||{};var b=/WT\.|DCSEXT\.|DCS\./,c=/ORA\./,d={},f={},e={},g={},k=0,t=a.window||window,q=a.document||window.document,w=a.navigator||window.navigator,l=a.location||window.location;this.errorLog=function(p){ORA.Debug.error("",101,p,"PageAnalyze")};var m=function(){ORA.Debug.trace("Running defaultMeta()","Common");ORA.common.visitMetaTags(function(p,u){null!==p.toUpperCase().match(b)&&(d[p.split(".")[1]]=u)},q)},h=function(){ORA.Debug.trace("Running altMeta()",
"Common");ORA.common.visitMetaTags(function(p,u){null!==p.toUpperCase().match(c)&&(g[p]=u)},q)},n=function(){d={};f={};e={};g={};ORA.Debug.debug("Running Page Analysis","Common");ORA.Debug.trace("Running StandardParams","Common");var p=new Date;d.tz=parseInt(p.getTimezoneOffset()/60*-1,10)||"0";d.bh=p.getHours()||"0";d.ul=w.language||w.userLanguage;"object"===typeof screen&&(d.cd="Netscape"===w.appName?screen.pixelDepth:screen.colorDepth,d.sr=screen.width+"x"+screen.height);"boolean"===typeof w.javaEnabled()&&
(w.javaEnabled()?d.jo="Yes":d.jo="No");q.title&&(d.ti=t.RegExp?q.title.replace(new RegExp("^"+l.protocol+"//"+l.hostname+"\\s-\\s"),""):q.title);d.js="Yes";var u=0,v=0;"number"===typeof t.innerWidth?(u=t.innerWidth,v=t.innerHeight):q.documentElement&&(q.documentElement.clientWidth||q.documentElement.clientHeight)?(u=q.documentElement.clientWidth,v=q.documentElement.clientHeight):q.body&&(q.body.clientWidth||q.body.clientHeight)&&(u=q.body.clientWidth,v=q.body.clientHeight);d.bs=u+"x"+v;d.dl=0;0===
l.protocol.indexOf("https:")?d.ssl="1":d.ssl="0";f.dcsdat=p.getTime();f.dcssip=l.hostname;f.dcsuri=l.pathname;d.es=f.dcssip+f.dcsuri;""===q.referrer||"-"===q.referrer||"Microsoft Internet Explorer"===w.appName&&4>parseInt(w.appVersion,10)||(f.dcsref=q.referrer);m();h();k++},r=function(p,u,v){for(var x in u)if(u.hasOwnProperty(x)){var y=ORA.hasVal(v)?v+x:x;!ORA.hasVal(p.getParam(x))&&u.hasOwnProperty(x)&&p.setParam(y,u[x])}};this.mutation=function(p){p.params.mutation&&!0===p.params.mutation.runAnalysis&&
n();r(p,f);r(p,e);r(p,d,"WT.");r(p,g);ORA.Debug.debug("Annotating Common Page Analysis","Common");ORA.Debug.trace(ORA.common.JSONPrettify(p.payload),"Common")};this.data=function(){return{dcs:f,trackingData:d,dcsExt:e,altMetaData:g,runCount:k}};n()};
ORA.common.QueryParamCacheClass=function(){var a=ORA.common.extendObject,b=a({});this.reset=function(c){var d="";c?d=c:window&&window.location&&window.location.search&&(d=window.location.search);b=a(ORA.common.getQryParams(d))};this.clear=function(){b=a({})};this.getCache=function(){return b};this.contains=function(c,d){if(d){var f=!1;b.forEach(function(e,g){"string"===typeof c&&"string"===typeof g&&g.toLowerCase()===c.toLowerCase()&&(f=!0)});return f}return"undefined"!==typeof b[c]};this.set=function(c,
d){b[c]=d};this.reset()};ORA.common.QueryParamCache=new ORA.common.QueryParamCacheClass;
(function(){var a=!1,b=!1,c=ORA.common.extendObject({}),d=ORA.common.mobile;d.enableMobileMode=function(){a=!0};d.disableMobileMode=function(){a=!1};d.inMobileMode=function(){return a};d.setNativeAppCkTx=function(){b=!0};d.isNativeAppCkTx=function(){return b};d.reset=function(){a=!1;c=ORA.common.extendObject({})};d.delay=function(f,e,g){var k=3E3;g.mobileDelayTimeout&&(k=g.mobileDelayTimeout);var t=function(){try{ORA.Debug.trace(e+": executing callback: "+f.toString(),"MOBILE_HYBRID"),f()}catch(q){ORA.Debug.error("Error in mobile delayed callback for: "+
e,301,q)}};g&&!0===g.mobileDelay?(d.setNativeAppCkTx(),d.enableMobileMode(),ORA.Debug.debug(e+": to delay until ORA.common.mobile.resume() or time in "+k+" ms ","MOBILE_HYBRID"),c[e]={cb:t,timer:window.setTimeout(t,k)}):(ORA.Debug.debug(e+": no mobileDelay flag so executing cb immediately","MOBILE_HYBRID"),f())};d.resume=function(){c.forEach(function(f,e){window.clearTimeout(f.timer);ORA.Debug.debug("ORA.common.mobile.resume() called, executing callback for "+e,"MOBILE_HYBRID");f.cb()});c=ORA.common.extendObject({})};
d.nativeAppCkWrite=function(f){var e="wtapp://cookie?data\x3d"+JSON.stringify(f);if("undefined"!==typeof window.external&&"undefined"!==typeof window.external.Notify)window.external.Notify(e);else{var g=document.createElement("iframe");g.setAttribute("src",e);g.setAttribute("style","display:none;");g.setAttribute("frameborder","0");g.setAttribute("height","0px");g.setAttribute("width","0px");document.getElementsByTagName("body")[0].appendChild(g);g.parentNode.removeChild(g)}ORA.Debug.superfine("Wrote cookie to native app",
"MOBILE_HYBRID");ORA.Debug.superfine("cookies to Native App: "+JSON.stringify(f),"MOBILE_HYBRID")};d.nativeAppCkSend=function(f){try{if(!0!==d.isNativeAppCkTx()||!0!==d.inMobileMode())ORA.Debug.superfine("Do not try to write cookies to app because 'nativeAppCkTx' is false or not in 'mobileMode'","MOBILE_HYBRID");else if(f&&f.name&&f.value){var e={};e[f.name]={value:f.value,path:f.path,domain:f.domain,date:f.date,type:f.type,timeout:f.timeout};d.nativeAppCkWrite(e)}else ORA.Debug.superfine("Not writing to native app, missing cookie info",
"MOBILE_HYBRID"),ORA.Debug.superfine("mapCookieInfo: "+JSON.stringify(f),"MOBILE_HYBRID")}catch(g){ORA.Debug.error("Problem sending cookie to hybrid app","300",g,"MOBILE_HYBRID")}};d.cookiesWrite=function(f,e,g){try{if(f){var k=e||window.location.hostname;e=g||"/";for(var t in f)if(f.hasOwnProperty(t)){var q=f[t];ORA.common._createCookie(t,q.value,q.timeout||null,q.type,k,e)}}}catch(w){ORA.Debug.error("Problem in hybrid writing cookie","302",w,"MOBILE_HYBRID")}finally{ORA.Debug.debug("setting Native App Cookie Write"),
d.setNativeAppCkTx(),d.resume()}}})();ORA.setExecuteState("common","ready");ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_LOAD_COMPLETE,ORA.Event.STATUS_SUCCESS),!0);ORA.getQryParams=ORA.common.getQryParams;