"use strict";var cluster=function(){function i(e,n,t){var r="expires=";t.setTime(t.getTime()+432e5),r+=t.toGMTString(),document.cookie=e+"="+n+"; "+r+"; path=/"}function r(){document.querySelectorAll(".ghost-wrapper")&&0<document.querySelectorAll(".ghost-wrapper").length&&document.querySelectorAll(".ghost-wrapper").forEach(function(t){t.querySelectorAll("a img")&&0<t.querySelectorAll("a img").length?t.querySelectorAll("a img").forEach(function(e){var n=setInterval(function(){e.complete&&(t.classList.remove("ghost-wrapper"),clearInterval(n))},250)}):t.classList.remove("ghost-wrapper")}),window.freedom.nsPubSub.pub("bannerCustomAction.freeShipping.afterBannerAjax"),!g||window.zipcodeAPIsAjax?window.freedom.nsPubSub.pub("nsLoading.hide",document.body):window.zipcodeAPIsAjax=!0}function o(e){e&&0<e.length&&e.forEach(function(e){var n,t,r,o,a,m,l,i,_,b,d=window.freedom.getCookie("storeId")&&"L_ZATTINI"===window.freedom.getCookie("storeId")?h:p,u=e.id.replace(/-/g,"_"),c=e.data.images?e.data.images.length:1,f=document.getElementById(d[u])?document.getElementById(d[u]).querySelectorAll("a img").length:0;"HTML"===e.data.type?(m=d,l=u,i=e,document.getElementById(m[l])&&(_=window.freedom.getCookie("uname")||"",b=(b=(b=i.data.content).replace("{username}",decodeURI(_))).replace("{clusterName}",""),document.getElementById(m[l]).innerHTML="",document.getElementById(m[l]).innerHTML=b)):(r=c,o=f,a=e,"home-gamma-full-top-0"!==(n=d)[t=u]&&"zt-home-full-top-0"!==n[t]&&"banner-bf-full"!==n[t]||!document.getElementById(n[t])||(document.getElementById(n[t]).querySelectorAll("a img").forEach(function(e){e.removeAttribute("data-campaign-interactive"),e.removeAttribute("data-banner-interactive")}),setTimeout(function(){document.getElementById(n[t])&&document.getElementById(n[t]).querySelectorAll(".bullet")&&document.getElementById(n[t]).querySelectorAll(".bullet").forEach(function(e){e.classList.add("hide")})},500)),r<=o&&n[t]&&document.getElementById(n[t])&&document.getElementById(n[t]).querySelectorAll("a img")&&document.getElementById(n[t]).querySelectorAll("a img").forEach(function(e,n){(a.data.images&&a.data.images[n]||a.data.urlImage)&&(e.src=a.data.images?a.data.images[n].urlImage:a.data.urlImage,e.closest("a").href=a.data.images?a.data.images[n].urlTarget:a.data.urlTarget,e.parentNode&&"free-shipping"===e.parentNode.getAttribute("data-custom-action")&&"free-shipping"!==a.data.metaAction&&(e.parentNode.removeAttribute("data-custom-action"),window.freedom.nsPubSub.pub("bannerCustomAction.freeShipping.removeEvent",e.parentNode)),e.parentNode&&"free-shipping"===a.data.metaAction&&e.parentNode.setAttribute("data-custom-action",a.data.metaAction))}))}),r()}function n(){var e,n,t;b&&!b.includes("anonymous")||"string"==typeof u||"string"==typeof c?(e=window.freedom.getCookie("campaignCode")||"",n="/banner/usercluster/"+(b||null)+"/uf/"+u+"/city/"+c+"/"+e,t={method:"get",type:"json",success:function(e){o(e)},error:function(e){console.error(e),r()}},window.freedom.restClient.request(n,t)):r()}function _(){b=decodeURIComponent(window.freedom.getCookie("clusterId"))||void 0,d=window.freedom.getCookie("uuid")||void 0,u=window.freedom.getCookie("uf")||null,c=window.freedom.getCookie("cityCode")||null,f=window.freedom.getCookie("zipcode")||void 0,n()}var e,t,a,m,l,b=window.freedom.getCookie("clusterId")?decodeURIComponent(window.freedom.getCookie("clusterId")):void 0,d=window.freedom.getCookie("uuid")||void 0,u=window.freedom.getCookie("uf")&&window.freedom.getCookie("uf").toUpperCase()||null,c=window.freedom.getCookie("cityCode")||null,f=window.freedom.getCookie("zipcode")||void 0,g=document.querySelector("section[data-free-shipping-by-zipcode]"),s=document.querySelector("section[data-get-zipcode-info]"),p={banner_stripe_home:"banner-stripe-home",home_gamma_full_top_0:"home-gamma-full-top-0",home_gamma_killers_list:"home-gamma-killers-list",home_gamma_triple_line1_rectangle_0:"home-gamma-triple-line1-rectangle-0",home_gamma_triple_line1_rectangle_1:"home-gamma-triple-line1-rectangle-1",home_gamma_triple_line2_rectangle_0:"home-gamma-triple-line2-rectangle-0",home_gamma_triple_line2_rectangle_1:"home-gamma-triple-line2-rectangle-1",home_gamma_triple_line2_rectangle_2:"home-gamma-triple-line2-rectangle-3",home_gamma_brands_list:"home-gamma-brands-list",home_gamma_full_buttons_line1:"home-gamma-full-buttons-line1",home_gamma_triple_line3_rectangle:"home-gamma-triple-line3-rectangle",home_gamma_banners_carousel_top:"home-gamma-banners-carousel-top",home_gamma_banners_carousel_middle:"home-gamma-banners-carousel-middle",home_gamma_banners_carousel_middle_2:"home-gamma-banners-carousel-middle-2",home_gamma_banners_carousel_bottom:"home-gamma-banners-carousel-bottom",banner_stripe_pdp:"banner-stripe-pdp",banner_stripe_search:"banner-stripe-search",banner_html_pdp:"banner-html-pdp",banner_bf_full:"banner-bf-full",banner_bf_m1:"banner-bf-m1",banner_bf_g1:"banner-bf-g1",banner_bf_m2:"banner-bf-m2",banner_bf_m3:"banner-bf-m3",banner_bf_g2:"banner-bf-g2",banner_bf_m5:"banner-bf-m5",banner_bf_m6:"banner-bf-m6",banner_bf_m8:"banner-bf-m8",banner_bf_m9:"banner-bf-m9",banner_bf_g4:"banner-bf-g4",banner_bf_m11:"banner-bf-m11",banner_bf_m4:"banner-bf-m4",banner_bf_g3:"banner-bf-g3",banner_bf_m7:"banner-bf-m7",banner_bf_m10:"banner-bf-m10"},h={banner_stripe_home:"banner-stripe-home",banner_stripe_pdp:"banner-stripe-pdp",banner_stripe_search:"banner-stripe-search",zt_home_triple_line3_rectangle_0:"zt-home-triple-line3-rectangle-0",zt_home_triple_line3_rectangle_1:"zt-home-triple-line3-rectangle-1",zt_home_triple_line3_rectangle_2:"zt-home-triple-line3-rectangle-2",zt_home_full_top_0:"zt-home-full-top-0",zt_home_triple_line1_rectangle_0:"zt-home-triple-line1-rectangle-0",zt_home_triple_line1_rectangle_1:"zt-home-triple-line1-rectangle-1",zt_home_triple_line2_rectangle_0:"zt-home-triple-line2-rectangle-0",zt_home_triple_line2_rectangle_1:"zt-home-triple-line2-rectangle-1",zt_home_triple_line2_rectangle_2:"zt-home-triple-line2-rectangle-2",zt_home_full_buttons_line1:"zt-home-full-buttons-line1",zt_home_full_buttons_line2:"zt-home-full-buttons-line2",zt_home_full_top:"zt-home-full-top",zt_home_full_middle:"zt-home-full-middle",zt_home_full_bottom:"zt-home-full-bottom",zt_home_banner_fixe1:"zt-home-banner-fixe1",zt_home_banner_fixe2:"zt-home-banner-fixe2",banner_html_pdp:"banner-html-pdp",banner_bf_full:"banner-bf-full",banner_bf_m1:"banner-bf-m1",banner_bf_g1:"banner-bf-g1",banner_bf_m2:"banner-bf-m2",banner_bf_m3:"banner-bf-m3",banner_bf_g2:"banner-bf-g2",banner_bf_m5:"banner-bf-m5",banner_bf_m6:"banner-bf-m6",banner_bf_m8:"banner-bf-m8",banner_bf_m9:"banner-bf-m9",banner_bf_g4:"banner-bf-g4",banner_bf_m11:"banner-bf-m11",banner_bf_m4:"banner-bf-m4",banner_bf_g3:"banner-bf-g3",banner_bf_m7:"banner-bf-m7",banner_bf_m10:"banner-bf-m10"};try{a=b,m=f,l=!1,!((t=d)&&t.indexOf("anonymous")<0)||a&&m||(l=!0),t||(l=!0),l?(e={method:"get",type:"json",success:function(e){var r,n,t,o,a,m,l;a=(o=e||{}).clusters?(r="id",o.clusters.reduce(function(e,n,t){return 0===t?e+n[r]:e+","+n[r]},"")):"",t="",(n=o.addresses)&&(t=n.filter(function(e){return!0===e.mainAddress})[0]),m=t,l=new Date,i("clusterId",a||"anonymous",l),m?(m.zipCode&&(i("zipcode",m.zipCode,l),window.freedom.nsPubSub.pub("changeHeaderZipcode",m.zipCode),window.freedom.nsPubSub.pub("checkFreeShippingEligibility",m.zipCode)),window.freedom.nsPubSub.pub("getZipcodeFullInfo",m.zipCode,!0)):_()},error:function(e){console.error(e),n()}},window.freedom.restClient.request("/soft-login?cluster=true",e)):!s||u&&c||!b||!f?n():window.freedom.nsPubSub.pub("getZipcodeFullInfo",f),window.freedom.nsPubSub.sub("getSegmentationBanners",_)}catch(e){console.error("Error trying to get logged user info and generate cookies",e)}}();