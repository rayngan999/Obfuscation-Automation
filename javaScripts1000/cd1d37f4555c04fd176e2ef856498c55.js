define(function(){(function(){try{if(!this.localStorage)if(this.globalStorage)try{this.localStorage=this.globalStorage}catch(e){}else{var a=document.createElement("div");a.style.display="none";document.getElementsByTagName("head")[0].appendChild(a);if(a.addBehavior){a.addBehavior("#default#userdata");var d=this.localStorage={length:0,setItem:function(b,d){a.load("localStorage");b=c(b);a.getAttribute(b)||this.length++;a.setAttribute(b,d);a.save("localStorage")},getItem:function(b){a.load("localStorage");b=c(b);return a.getAttribute(b)},removeItem:function(b){a.load("localStorage");b=c(b);a.removeAttribute(b);a.save("localStorage");this.length--;if(0>this.length)this.length=0},clear:function(){a.load("localStorage");for(var b=0;attr=a.XMLDocument.documentElement.attributes[b++];)a.removeAttribute(attr.name);a.save("localStorage");this.length=0},key:function(b){a.load("localStorage");return a.XMLDocument.documentElement.attributes[b]}},c=function(a){return a.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")};a.load("localStorage");d.length=a.XMLDocument.documentElement.attributes.length}}}catch(e){if(console){console.log('Storage is innaccessible - '+"Message: "+e.message);}}})();var _storage=function(){var x,types=['session','local'],get=function(type,name){var val=null;try{var storage=window[type+'Storage'];if(!window[type+'Storage'])return;if(storage.getItem(name)){val=storage.getItem(name);}}catch(e){if(console){}}
return val;},set=function(type,name,value){try{var storage=window[type+'Storage'];if(!window[type+'Storage'])return;storage.setItem(name,value);}catch(e){if(console){}}},self={};if(!types.length){return null;}
self.get=function(name){var val=get('local',name);if(!val){val=get('session',name);}
return val;};self.set=function(name,value){var sameSite=(name==='guid'?'none':'Strict');var s=set('local',name,value,"SameSite="+sameSite+"; Secure");s=set('session',name,value,"SameSite="+sameSite+"; Secure");};self.clear=function(){sessionStorage.clear();localStorage.clear();};return self;};var _cookie=function(){var ms=86400000,getAllSubDomains=function(){var wdomain=null;var thost=window.location.host;var xarr=thost.split(".");if(thost.indexOf('.dqs')>-1){wdomain=xarr[2];}else{wdomain=xarr[1];}
return dmStrSubdomains='.'+wdomain+'.com';},get=function(n){var r=document.cookie.match(n+'=(.*?)(;|$)'),v=r?unescape(r[1]):null;return v;},get_raw=function(n){var r=document.cookie.match(n+'=(.*?)(;|$)'),v=r?r[1]:null;return v;},set=function(n,v,t,p,s,dm){var val='';var sameSite=(n==='guid'?'none':'Strict');document.cookie=n+"="+escape(v)+"; SameSite="+sameSite+"; Secure; expires="+t+";path="+p+(s?";secure":'')+dm;return val;},set_raw=function(n,v,t,p,s,dm){var val='';var sameSite=(n==='guid'?'none':'Strict');document.cookie=n+"="+v+"; SameSite="+sameSite+";  Secure; expires="+t+";path="+p+(s?";secure":'')+dm;return val;},self={};self.get=function(n){return get(n);};self.get_raw=function(n){return get_raw(n);};self.set=function(n,v,d,p,s,dm){var p=p?p:'/',s=s?1:0,d=d?d:50*365,t=new Date();t.setTime(t.getTime()+(d*ms));d=t.toGMTString();if(n=="guid"){dm=getAllSubDomains();}
var dmStr=dm?("; domain="+dm):'';return set(n,v,d,p,s,dmStr);};self.set_raw=function(n,v,d,p,s,dm){var p=p?p:'/',s=s?1:0,d=d?d:50*365,t=new Date();t.setTime(t.getTime()+(d*ms));d=t.toGMTString();if(n=="guid"){dm=getAllSubDomains();}
var dmStr=dm?("; domain="+dm):'';return set_raw(n,v,d,p,s,dmStr);};self.remove=self.clear=function(n){return set(n,'',-1);}
return self;};var _store=(function(){var ls=_storage(),ck=_cookie(),_g=function(k){r=ck.get(k);if(!r){r=ls.get(k);}
return r;},_g_r=function(k){r=ck.get_raw(k);if(!r){r=ls.get(k);}
return r;},_s=function(k,v,p){if(p){p.set(k,v);}
return v;},self={};self.set=function(k,v,p){return _s(k,v,p?ls:ck);}
self.get=function(k){return _g(k);}
self.get_raw=function(k){return _g_r(k);}
self.cookie=function(k,v,e){return ck.set(k,v,e);};self.cookie_dm=function(k,v,e,p,s,dmStr){return ck.set_raw(k,v,e,p,s,dmStr);};self.storage=function(){};return self;});return _store();});;