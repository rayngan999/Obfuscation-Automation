!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://ovp.iris.tv/plugins/",n(n.s=56)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o={generateRandomString:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<e;r+=1)t+=n.charAt(Math.floor(Math.random()*n.length));return t},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6);var r="expires="+n.toGMTString();document.cookie=e+"="+t+"; path=/;"+r},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},deleteCookie:function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain="},setUserId:function(e){this.deleteCookie("user_id");var t=this.getCookie("iris_user_id");if(""!==t)this.deleteCookie("iris_user_id");else{var n="UP-"+this.generateRandomString(15);!0===e&&this.setCookie("iris_user_id",n),t=n}return t},instanceIdFor:function(e,t){return e+"-"+t},isRestrictedDevice:function(){var e=navigator.userAgent||navigator.vendor||window.opera,t=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0,a.default.debug("Detecting Mobile Device","HELPERS")),t},loadCSS:function(e){if(!document.getElementById(e)){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.media="all",n.id=e,n.href=e,t.appendChild(n)}},hasKey:function(e,t){var n=e;return t.split(".").every((function(e){return!("object"!==(void 0===n?"undefined":i(n))||null===n||!(e in n)||!n[e]||(n=n[e],0))}))},isValidArray:function(e){return e&&Array.isArray(e)&&e.length>0},getProp:function(e,t,n){if(!e||!t)return n;var r=Array.isArray(t)?t:t.split("."),i=e[r[0]];return i&&r.length>1?this.getProp(i,r.slice(1),n):null==i?n:i},publishReadyEvent:function(e,t){window.dispatchEvent(new CustomEvent("irisResponseReady",{detail:{data:e,platform_id:this.getProp(t,"initialPlatformId"),player_id:this.getProp(t,"environment.player_id")}}))},getSSLImage:function(e){var t=e;return t&&"string"==typeof t&&(t=t.replace("http:","")),t},mergeRecsWithContext:function(e,t){return e.map((function(e){return r({},e,t[e.platform_id])}))}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={setLevel:function(e){this.logLevel=e},event:function(e,t){"debug"===this.logLevel&&console.log("[EVENT BUFFER]["+t+"]: "+e)},info:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Core";console.log("["+t+"][Info]: "+e)},debug:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Core",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;"debug"===this.logLevel&&(null!==r?console.log("["+t+"][Debug]["+n+"]: "+e,{data:r}):console.log("["+t+"][Debug]["+n+"]: "+e))},warn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Core";"debug"===this.logLevel&&console.warn("["+t+"][Warning]: "+e)},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Core";console.error("["+t+"][Error]: "+e)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(16),o=g(n(20)),s=g(n(3)),u=g(n(1)),l=g(n(0)),c=g(n(66)),d=g(n(17)),f=g(n(67)),p=g(n(68)),h=g(n(21)),v=g(n(70)),y=g(n(25)),_=g(n(6));function g(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var b={},w=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n.settings;if(b[t]={player:new c.default(t,n.player_elements),currentAsset:function(){var e=this.playlist.getInfo()[this.currentIndex];return void 0===e&&(e=new o.default({})),e},playlist:new d.default(t),behavior:{},currentIndex:0,environment:i,initialPlatformId:i.platform_id,ui_settings:n.iris_buttons,id:t},void 0!==b[t].environment.user_id&&""!==b[t].environment.user_id||(b[t].environment.user_id=l.default.setUserId(!1)),b[t].playlist.recs.push(new o.default({platform_id:b[t].environment.platform_id,eid:t})),i.start_up_next){var _={start_time:i.start_up_next_time,display_length:i.start_up_next_length,min_video_length:i.up_next_min_vid_length,up_next_text:i.start_up_next_text};b[t].irisStartNextSlate=new h.default(t,_)}if(!0===i.end_up_next){var g={start_time:i.end_up_next_time,display_length:i.end_up_next_length,min_video_length:i.up_next_min_vid_length,up_next_text:i.end_up_next_text};b[t].irisEndNextSlate=new v.default(t,g)}!0===n.settings.side_rail&&(b[t].sideRail=new f.default(t,{number:n.settings.number})),!0===n.settings.related_rail&&(b[t].relatedRail=new p.default(t)),r(this,b[t],a.EventEmitter.prototype),y.default.addIrisButtons(t),b[t].reg_currentDuration=!1,b[t].reg_currentTime=!1,b[t].reg_play=!1,s.default.new_experience(t),window.irisInstances=window.irisInstances||[];var m={id:b[t].player.player_id,eid:b[t].id};window.irisInstances.push(m),u.default.debug("Iris experience id: "+t,"EXPERIENCE",t)}return i(e,null,[{key:"setInfo",value:function(e,t){return Object.keys(t).forEach((function(n){Object.prototype.hasOwnProperty.call(t,n)&&(b[e][n]=t[n])})),b[e]}},{key:"getInfo",value:function(e){return b[e]}},{key:"getProtocol",value:function(e){return b[e].environment.ssl?"https":"http"}},{key:"getPlayer",value:function(e){return b[e].player}},{key:"getCurrentAsset",value:function(e){var t=b[e].currentAsset();return void 0===t&&(t={}),t}},{key:"getCurrentIndex",value:function(e){return b[e].currentIndex}},{key:"getPlaylist",value:function(e){return b[e].playlist.recs}},{key:"registerPlaying",value:function(t){e.setInfo(t,{playing:!0}),e.getCurrentAsset(t).setInfo({playing:!0}),e.emitChange()}},{key:"watch",value:function(e){s.default.watch(e)}},{key:"endOfPlaylist",value:function(t){return e.getCurrentIndex(t)>=e.getPlaylist(t).length-1}},{key:"beginningOfPlaylist",value:function(t){return e.getCurrentAsset(t).platform_id===e.getPlaylist(t)[0].platform_id}},{key:"addBehavior",value:function(t,n,r){Object.keys(n).forEach((function(e){Object.prototype.hasOwnProperty.call(n,e)&&(b[t].behavior[e]=n[e])})),s.default.update(t,n,r),s.default.addedBehavior(t,n),e.emitChange()}},{key:"clearBehavior",value:function(e){Object.keys(e).forEach((function(e){/^behavior*/.test(e)&&delete b.behavior[e.replace(/behavior\[/g,"").replace(/\]/g,"")]}))}},{key:"setDefaultAsset",value:function(e){var t={platform_id:b[e].environment.platform_id,unknown_asset:!0};b[e].playlist.addToFirstPosition(t)}},{key:"updateCurrentAsset",value:function(e){var t=b[e].currentAsset();b[e].environment.platform_id=t.platform_id}},{key:"getExperiences",value:function(){return b}},{key:"percentageWatched",value:function(){var e=m(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b[t].player.player_id,e.next=3,b[t].player.currentTime(n);case 3:return r=e.sent,e.next=6,b[t].player.currentDuration(n);case 6:return i=e.sent,e.abrupt("return",(r/i).toFixed(2));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"secondsWatched",value:function(){var e=m(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b[t].player.currentTime(b[t].player.player_id);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"duration",value:function(){var e=m(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b[t].player.currentDuration(b[t].player.player_id);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"emitChange",value:function(){a.EventEmitter.prototype.emit("change")}},{key:"incrementCurrentIndex",value:function(e){b[e].currentIndex+=1,s.default.experienceUpdate(e)}},{key:"decrementCurrentIndex",value:function(e){b[e].currentIndex>0&&(b[e].currentIndex-=1,s.default.experienceUpdate(e))}},{key:"skipToIndex",value:function(e,t){b[e].currentIndex=t,s.default.experienceUpdate(e)}},{key:"nextAsset",value:function(t){var n=b[t];n.successiveNextAttempts=n.successiveNextAttempts?n.successiveNextAttempts:0,e.getCurrentIndex(t)>=e.getPlaylist(t).length-1?(n.successiveNextAttempts+=1,n.successiveNextAttempts<3?s.default.next(t):s.default.emit(t,_.default.EXPERIENCE_ERROR)):(n.successiveNextAttempts=0,b[t].currentAsset().reset(),e.incrementCurrentIndex(t))}},{key:"prevAsset",value:function(t){b[t].currentAsset().reset(),e.decrementCurrentIndex(t)}},{key:"skipToAsset",value:function(t,n){for(var r=e.getPlaylist(t),i=void 0,a=0;a<=r.length-1;a++)if(r[a].platform_id===n){i=a;break}void 0!==i?e.skipToIndex(t,i):u.default.error("[skipToAsset] Asset does not exist on current experience","Experience")}},{key:"displayStartSlate",value:function(e){return b[e].environment.start_up_next}},{key:"displayEndSlate",value:function(e){return b[e].environment.end_up_next}}]),e}();t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(16),o=n(5),s=c(n(2)),u=c(n(6)),l=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a.EventEmitter.prototype)}return i(e,null,[{key:"checkIfPlaying",value:function(t,n,r){n>0&&!0!==r.playing&&e.playing(t)}},{key:"checkOptionalBeacons",value:function(t,n,r){!0===s.default.getInfo(t).environment.campaign_tracking&&n>=.5&&n<=.75&&!0!==r.PW_50&&!0===r.playing&&!r.PW_75&&e.percentageWatched50(t,n)}},{key:"checkMandatoryBeacons",value:function(){var t=d(regeneratorRuntime.mark((function t(n,r,i){var a,o,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.default.getInfo(n),l.default.getSetting("platform"),t.next=4,a.player.currentDuration(a.player.player_id);case 4:return o=t.sent,t.next=7,a.player.currentTime(a.player.player_id);case 7:u=t.sent,r>=.25&&r<=.5&&!0!==i.PW_25&&!0===i.playing?e.percentageWatched25(n,r):r>=.75&&r<=.98&&!0!==i.PW_75&&!0===i.playing?e.percentageWatched75(n,r):(r>=.97&&o-u<=.8&&!0===i.playing&&!i.ended||r>=.999&&o>150&&!0===i.playing&&!i.ended)&&e.ended(n,r,"next_auto");case 9:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"checkSecondsBeacons",value:function(t,n,r){!0===s.default.getInfo(t).environment.campaign_tracking&&(!(n>=3&&n<=5&&!0!==r.SW_03&&!0===r.playing)||r.PW_05||r.PW_10||r.PW_15||r.PW_30?n>=5&&n<=10&&!0!==r.SW_05&&!0===r.playing&&!r.PW_10&&!r.PW_15&&!r.PW_30?e.secondsWatched5(t,n):n>=10&&n<=15&&!0!==r.SW_10&&!0===r.playing&&!r.PW_15&&!r.PW_30?e.secondsWatched10(t,n):n>=15&&n<=30&&!0!==r.SW_15&&!0===r.playing&&!r.PW_30?e.secondsWatched15(t,n):n>=30&&!0!==r.SW_30&&!0===r.playing&&e.secondsWatched30(t,n):e.secondsWatched3(t,n))}},{key:"emit",value:function(e,t,n){(0,o.dispatch)({actionType:t,data:n,experienceId:e})}},{key:"pollPercentageWatched",value:function(){var t=d(regeneratorRuntime.mark((function t(n){var r,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.default.getCurrentAsset(n),t.next=3,s.default.percentageWatched(n);case 3:return i=t.sent,t.next=6,s.default.secondsWatched(n);case 6:return a=t.sent,e.checkIfPlaying(n,i,r),e.checkOptionalBeacons(n,i,r),t.next=11,e.checkMandatoryBeacons(n,i,r);case 11:e.checkSecondsBeacons(n,a,r),o=e,e.pollingTimeout={},e.pollingTimeout[n]=setTimeout((function(){o.pollPercentageWatched(n)}),800);case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"stopPolling",value:function(t){clearTimeout(e.pollingTimeout[t])}},{key:"new_experience",value:function(t){e.emit(t,u.default.NEW_EXPERIENCE)}},{key:"experienceUpdate",value:function(t){e.emit(t,u.default.EXPERIENCE_UPDATE)}},{key:"first_play",value:function(t){e.emit(t,u.default.FIRST_PLAY)}},{key:"play",value:function(t){e.emit(t,u.default.PLAY)}},{key:"playing",value:function(t){e.emit(t,u.default.PLAYING)}},{key:"addedBehavior",value:function(t,n){e.emit(t,u.default.ADDED_BEHAVIOR,n)}},{key:"ended",value:function(t,n,r){e.emit(t,u.default.ENDED,{percentageWatched:n,type:r})}},{key:"percentageWatched02",value:function(t,n){e.emit(t,u.default.PW_02,{percentageWatched:n})}},{key:"percentageWatched25",value:function(t,n){e.emit(t,u.default.PW_25,{percentageWatched:n})}},{key:"percentageWatched50",value:function(t,n){e.emit(t,u.default.PW_50,{percentageWatched:n})}},{key:"percentageWatched75",value:function(t,n){e.emit(t,u.default.PW_75,{percentageWatched:n})}},{key:"secondsWatched3",value:function(t,n){e.emit(t,u.default.SW_03,{secondsWatched:n})}},{key:"secondsWatched5",value:function(t,n){e.emit(t,u.default.SW_05,{secondsWatched:n})}},{key:"secondsWatched10",value:function(t,n){e.emit(t,u.default.SW_10,{secondsWatched:n})}},{key:"secondsWatched15",value:function(t,n){e.emit(t,u.default.SW_15,{secondsWatched:n})}},{key:"secondsWatched30",value:function(t,n){e.emit(t,u.default.SW_30,{secondsWatched:n})}},{key:"watch",value:function(t){e.emit(t,u.default.MAKE_WATCH_REQUEST)}},{key:"update",value:function(t,n,r){e.emit(t,u.default.MAKE_UPDATE_REQUEST,{behavior:n,addParams:r})}},{key:"next",value:function(t){e.emit(t,u.default.MAKE_NEXT_REQUEST)}},{key:"thumbs_up",value:function(t){e.emit(t,u.default.THUMBS_UP)}},{key:"thumbs_down",value:function(t){e.emit(t,u.default.THUMBS_DOWN)}},{key:"skip_forward",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.emit(t,u.default.SKIP_FORWARD,n)}},{key:"skip_back",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.default.beginningOfPlaylist(t)||e.emit(t,u.default.SKIP_BACK,n)}},{key:"userActive",value:function(t){e.emit(t,u.default.USER_ACTIVITY)}},{key:"userInactive",value:function(t){e.emit(t,u.default.USER_INACTIVE)}}]),e}();t.default=f},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="Webkit Moz O ms".split(" ");function a(e,t,n){for(var r=e.style,a=0;a<i.length;++a)r[i[a]+o(t)]=n;r[t]=n}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){return!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)&&"object"===(void 0===e?"undefined":r(e))&&!!e}function u(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}e.exports={extend:function e(t,n,r){for(var i in t=t||{},r=r||!1,n=n||{})if(n.hasOwnProperty(i)){var a=t[i],o=n[i];r&&s(a)&&s(o)?t[i]=e(a,o,r):t[i]=o}return t},render:function(e,t){var n=e;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],a=new RegExp("\\{"+r+"\\}","g");n=n.replace(a,i)}return n},setStyle:a,setStyles:function(e,t){u(t,(function(t,n){null!=t&&(s(t)&&!0===t.prefix?a(e,n,t.value):e.style[n]=t)}))},capitalize:o,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:s,forEachObject:u,floatEquals:function(e,t){return Math.abs(e-t)<.001},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatch=t.Dispatcher=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(59)),i=t.Dispatcher=new r.default,a=t.dispatch=i.queueDispatch.bind(i);t.default={Dispatcher:i,dispatch:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NEW_EXPERIENCE:"NEW_EXPERIENCE",FIRST_PLAY:"FIRST_PLAY",PLAY:"PLAY",PLAYING:"PLAYING",PERCENTAGE_WATCHED:"PERCENTAGE_WATCHED",ENDED:"ENDED",PW_02:"PERCENTAGE_WATCHED_02",PW_25:"PERCENTAGE_WATCHED_25",PW_50:"PERCENTAGE_WATCHED_50",PW_75:"PERCENTAGE_WATCHED_75",SW_03:"SECONDS_WATCHED_03",SW_05:"SECONDS_WATCHED_05",SW_10:"SECONDS_WATCHED_10",SW_15:"SECONDS_WATCHED_15",SW_30:"SECONDS_WATCHED_30",ADDED_BEHAVIOR:"ADDED_BEHAVIOR",WATCH_START:"WATCH_START",WATCH_SUCCESS:"WATCH_SUCCESS",WATCH_FAIL:"WATCH_FAIL",UPDATE_START:"UPDATE_START",UPDATE_SUCCESS:"UPDATE_SUCCESS",UPDATE_FAIL:"UPDATE_FAIL",NEXT_START:"NEXT_START",NEXT_SUCCESS:"NEXT_SUCCESS",NEXT_FAIL:"NEXT_FAIL",EXPERIENCE_UPDATE:"EXPERIENCE_UPDATE",NEW_ASSET:"NEW_ASSET",THUMBS_UP:"THUMBS_UP",THUMBS_DOWN:"THUMBS_DOWN",SKIP_FORWARD:"SKIP_FORWARD",SKIP_BACK:"SKIP_BACK",USER_ACTIVITY:"USER_ACTIVITY",USER_INACTIVE:"USER_INACTIVE",ASSET_CHANGE:"ASSET_CHANGE",MAKE_NEXT_REQUEST:"MAKE_NEXT_REQUEST",MAKE_WATCH_REQUEST:"MAKE_WATCH_REQUEST",MAKE_UPDATE_REQUEST:"MAKE_UPDATE_REQUEST",PLAYLIST_CHANGE:"PLAYLIST_CHANGE",AD_START:"AD_START",AD_END:"AD_END",EXPERIENCE_ERROR:"EXPERIENCE_ERROR",SKIP_ON_MEDIA_ERROR:"SKIP_ON_MEDIA_ERROR"}},,function(e,t,n){"use strict";var r=n(23),i=n(4),a="Object is destroyed",o=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),i.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),i.isObject(n)&&i.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var a,o=this._createSvgView(this._opts);if(!(a=i.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=a,this._container.appendChild(o.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&i.setStyles(o.svg,this._opts.svgStyle),this.svg=o.svg,this.path=o.path,this.trail=o.trail,this.text=null;var s=i.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new r(o.path,s),i.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};o.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(a);this._progressPath.animate(e,t,n)},o.prototype.stop=function(){if(null===this._progressPath)throw new Error(a);void 0!==this._progressPath&&this._progressPath.stop()},o.prototype.pause=function(){if(null===this._progressPath)throw new Error(a);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},o.prototype.resume=function(){if(null===this._progressPath)throw new Error(a);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},o.prototype.destroy=function(){if(null===this._progressPath)throw new Error(a);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},o.prototype.set=function(e){if(null===this._progressPath)throw new Error(a);this._progressPath.set(e)},o.prototype.value=function(){if(null===this._progressPath)throw new Error(a);return void 0===this._progressPath?0:this._progressPath.value()},o.prototype.setText=function(e){if(null===this._progressPath)throw new Error(a);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),i.isObject(e)?(i.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},o.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var r=this._createPath(e);return t.appendChild(r),{svg:t,path:r,trail:n}},o.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},o.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},o.prototype._createTrail=function(e){var t=this._trailString(e),n=i.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},o.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},o.prototype._createTextContainer=function(e,t){var n=document.createElement("div");n.className=e.text.className;var r=e.text.style;return r&&(e.text.autoStyleContainer&&(t.style.position="relative"),i.setStyles(n,r),r.color||(n.style.color=e.color)),this._initializeTextContainer(e,t,n),n},o.prototype._initializeTextContainer=function(e,t,n){},o.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},o.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},o.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("width"),10),r=parseFloat(t.getPropertyValue("height"),10);i.floatEquals(this.containerAspectRatio,n/r)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",n/r),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={}}return i(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=r({},this.options,e)}},{key:"getOptions",value:function(){return this.options}},{key:"getOption",value:function(e){return a.default.getProp(this.options,e,null)}},{key:"getSetting",value:function(e){return a.default.getProp(this.options,"settings."+e,null)}}]),e}();t.default=new o},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_GLOBAL="GlobalIrisPlayer",t.DEFAULT_GLOBALS="GlobalIrisPlayers"},,,function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a="object"===("undefined"==typeof Reflect?"undefined":i(Reflect))?Reflect:null,o=a&&"function"==typeof a.apply?a.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}_(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&_(e,"error",t,{once:!0})}(e,i)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(void 0===e?"undefined":i(e)))}function d(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,a,o;if(c(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=d(e))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,function(e){console&&console.warn&&console.warn(e)}(s)}return e}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function _(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===e?"undefined":i(e)));e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return d(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=y(u,l);for(n=0;n<l;++n)o(c[n],this,t)}return!0},u.prototype.addListener=function(e,t){return f(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return f(this,e,t,!0)},u.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,a,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return h(this,e,!0)},u.prototype.rawListeners=function(e){return h(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},u.prototype.listenerCount=v,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(2)),a=s(n(20)),o=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.recs=[],this.getInfo=this.getInfo.bind(this),this.addToPlaylist=this.addToPlaylist.bind(this)}return r(e,[{key:"addToPlaylist",value:function(e){var t=[],n=e;this.recs=this.recs.slice(0,i.default.getCurrentIndex(this.id)+1);for(var r=0;r<this.recs.length;r+=1)t.push(this.recs[r].platform_id||"UNKNOWN");for(var o=0;o<n.length;o+=1)if(n[o].platform_id&&n[o].iris_id&&-1===t.indexOf(n[o].platform_id)){n[o].eid=this.id;var s=new a.default(n[o]);this.recs.push(s),i.default.getInfo(this.id).player.validateVideo(s)}this.emitChange(this.id)}},{key:"addToPlaylistSideRailEnabled",value:function(e){for(var t=[],n=e,r=0;r<=this.recs.length-1;r+=1)!0!==this.recs[r].sideRailShown&&!0!==this.recs[r].playing&&(this.recs=this.recs.slice(0,r+1)),t.push(this.recs[r].platform_id||"UNKNOWN");for(var o=0;o<e.length;o+=1)if(e[o].platform_id&&e[o].iris_id&&-1===t.indexOf(e[o].platform_id)){n[o].eid=this.id;var s=new a.default(n[o]);this.recs.push(s),i.default.getInfo(this.id).player.validateVideo(s)}this.emitChange(this.id)}},{key:"addToFirstPosition",value:function(e){var t=e;t.eid=this.id,this.recs[0]=new a.default(t),i.default.getInfo(this.id).player.validateVideo(this.recs[0])}},{key:"addToNextPosition",value:function(e,t){var n=i.default.getCurrentIndex(this.id);this.recs.splice(n+1,0,t)}},{key:"getInfo",value:function(){return this.recs}},{key:"emitChange",value:function(e){(0,o.dispatch)({actionType:"PLAYLIST_CHANGE",experienceId:e})}},{key:"removeFromPlaylist",value:function(e){if(e)for(var t=0;t<this.recs.length;t+=1)if(this.recs[t].platform_id===e){this.recs.splice(t,1);break}}}]),e}();t.default=u},,function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),a=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),o=function(){function e(t){var n=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})),this}return r(e,[{key:"emitChange",value:function(e){(0,i.dispatch)({actionType:a.default.ASSET_CHANGE,experienceId:e})}},{key:"setInfo",value:function(e){var t=this;return Object.keys(e).forEach((function(n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})),this.emitChange(this.eid),this}},{key:"getInfo",value:function(){return this}},{key:"hasPlayed",value:function(){return this.played}},{key:"hasEnded",value:function(){return this.ended}},{key:"reset",value:function(){return delete this.playing,delete this.PW_02,delete this.PW_25,delete this.PW_50,delete this.PW_75,delete this.SW_03,delete this.SW_05,delete this.SW_10,delete this.SW_15,delete this.SW_30,delete this.thumbs_up,delete this.thumbs_down,delete this.ended,this.emitChange(this.eid),this}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=d(n(1)),o=d(n(0)),s=d(n(2)),u=d(n(3)),l=d(n(69)),c=d(n(22));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.eid=e,r.version="IrisStartNextSlate.v2.1.0",r.settings={start_time:n.start_time||5,display_length:n.display_length||7,min_video_length:n.min_video_length||24,up_next_text:n.up_next_text||"UP NEXT:",slate_id:o.default.instanceIdFor(e,"start-next-slate"),slate_title_id:o.default.instanceIdFor(e,"start-next-slate-title"),slate_image_id:o.default.instanceIdFor(e,"start-next-slate-image"),slate_play_button_id:o.default.instanceIdFor(e,"start-play-button"),slate_text_id:o.default.instanceIdFor(e,"slate-text-id")};var i=r,a=new l.default(r.settings.display_length,(function(){s.default.getPlaylist(i.eid)[i.i].startSlateShown=!0}));return r.timer=a,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),r(t,[{key:"slide",value:function(){var e=this,n=s.default.getCurrentIndex(this.eid);this.i=n,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"slide",this).call(this,(function(){e.timer.start()}))}},{key:"reset",value:function(){this.timer.reset(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"conditions",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,this.timeLeft();case 3:return n=e.sent,e.next=6,this.videoDuration();case 6:return r=e.sent,n<r-this.settings.start_time&&n>0&&n>this.settings.start_time&&!s.default.getInfo(this.eid).currentAsset().startSlateShown&&!this.paused&&!1===document.hidden&&this.displayOnMobile()&&(t=!0),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"populate",value:function(){var e=s.default.getInfo(this.eid),t=e.playlist.getInfo()[e.currentIndex+1],n=s.default.getPlayer(this.eid).validateVideo(t);if(void 0===document.getElementById(this.settings.slate_title_id)&&this.createNextSlate(),!1!==n.valid){if(document.getElementById(this.settings.slate_title_id).innerHTML=n.title,void 0!==n.image_url&&n.image_url){var r=o.default.getSSLImage(n.image_url);document.getElementById(this.settings.slate_image_id).style.backgroundImage='url("'+r+'")'}else a.default.debug("Invalid Thumbnail","START NEXT SLATE",this.eid),document.getElementById(this.settings.slate_image_id).style.backgroundImage='url("data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 85.33 48"><defs><style>.cls-1{isolation:isolate}.cls-2{fill:url(#linear-gradient)}.cls-3,.cls-7{mix-blend-mode:multiply}.cls-3{fill:url(#radial-gradient)}.cls-4{opacity:.7}.cls-5,.cls-8,.cls-9{fill:gray}.cls-6,.cls-8{opacity:.8}.cls-7{opacity:.75}.cls-9{opacity:.9}</style><linearGradient id="linear-gradient" x1="1.49" y1="2989.5" x2="1.49" y2="-3939.89" gradientTransform="matrix(.01 0 0 .01 42.64 24.67)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1a1a1a"/><stop offset=".15" stop-color="#1c1c1c"/><stop offset=".2" stop-color="#232323"/><stop offset=".24" stop-color="#2e2e2e"/><stop offset=".25" stop-color="#333"/><stop offset=".29" stop-color="#252525"/><stop offset=".37" stop-color="#141414"/><stop offset=".47" stop-color="#090909"/><stop offset=".61" stop-color="#020202"/><stop offset="1"/></linearGradient><radialGradient id="radial-gradient" cx="-19.84" cy="-42.31" r="4828.76" gradientTransform="matrix(.01 0 0 .01 42.64 24.67)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff"/><stop offset="1"/></radialGradient></defs><title>thumbnailArtboard 3</title><g class="cls-1"><g id="Layer_1" data-name="Layer 1"><path d="M-425.33-404h825v767h-825z"/><path class="cls-2" d="M0 0h85.33v48H0z"/><path class="cls-3" d="M0 0h85.33v48H0z"/><g class="cls-4"><path class="cls-5" d="M34.69 10.45h2.19v25.08h-2.19z"/><g class="cls-6"><image class="cls-7" width="38" height="44" transform="translate(27.67 3)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAsCAYAAAAJpsrIAAAACXBIWXMAAAsSAAALEgHS3X78AAAEQklEQVRYR92YaY9UVRCGS4YBBpTFAMqqrJFNVBAIi6LsoAIaBgRkcwHUKIuAMWCIRhBBlIQ17EENEYgiARLgixoJ4U8N70PVde50+vYyIfaVD0+6b/c5dd5T9Z663deamposj5QdUHSS2SPVUi5m1cIKFmhTQF0FFM6pSGwlghIBbUW9aBe0r4JkTn3ESQRnCiwlKhFUH8EbRCfxqOgcdMmga5BcM/axmN8Q8erTAssKS4liZ+yyYwTtJrqLJ0Qv0Vv0EX0z6Jd6z9gnRY+IQ7yGiF9UXClR7IodsvOescAAMUQ8I4aLEWJkilHBsylGxTjmDDIX3DPisulEXFlhdTEYUeyuVwgaJp4T48REMUW8JF5OMVW8Il4V01Lw+SQx1lzkQPMMIo7MUdYWWcvKFoO7xGSCsOvxscAs8Zp4QyxIsVC8Kd4SjWKJWBosie9mi8lidMQlc5SV6rTIWla2MDh+esq8RBPE9BCzKBZbLt5JsUKsFGvEB+JD8YnYEK/rYhwxpkRcykpVSAQJyRTGlx3Ms0UJh5qnn9LMN9/5ilj83WBN6joRhJht4kvxVbBdfBrz54oXzT3HgcA298tZShiGfNx8N/gBP80xzxQ7Xm3Ngni/Mlgl3jMXtlnsELvFfvGj2Gsu9KOIRdbwLXahnFSqqDD8hWrUU8anzb2AwfHUYnNhiGDXlPJtcz81xvd8hjgyQ4b2iIPimDgU11siDtbAu7Qc+tx9YRblLBSW+AtTYs7nzQ3/eiy+zNxfiMDM+GWeeWkQvzDG4KfPxbfisDgpjptnDsFknIPAKacyWIcD0FKYNZ9IhJFWmuhgMcb8+Cemx2ONIQBBM8z9xxjaAiXnVFLmz8Quc2GnA7K309yLzH9B9DdvGy1OZiXCWBhhSQvglfZAlijHVPMehjhaCZnEewjDY0fF2QCRHAQySoZbJYwOPzYWJ0P4CW9QqsXxGcEpCYLI1vwYx8JfiO/FCfGz+Mlc5Ndifcxl460SxpGeaV7GVeYlWCveN88KQvEcYpbFGE4lrYJsHTEXdUGcN/fZNzEG35YWlmF+hHH7mR2Lk4VNsSjG3mperk3B5vh8p3lrIDu/iN/FFXFJnDIXXLUw2kUiDI9xG8KktIiN5n2IwPvMy7QvRCTXB8yzdMY8S1fFzQBx+IyTSi+rWhh9jG6cCCMAvYls0IfoR/jmtDWbGs6ZZwhBf4gb4k/xj/hLXDf32XfiY/MD1WphEyIA3qL//GDNZv5VXDQvEfwmLotr4pb4W9wRd8Vtc6HMe7iF5aqUuTR/vtqF5bXB2v/slpTbm3jtf/ZkmL/2PxSL9LFc/bSmnLn8M5IIy+XfN8yX+CxXf3jbWN4eERTJGumt/UOVIlljF50sD4+hiohrZ3l4cFdEHJNIc3ur9aPOAnFpgW2t1g+HMwQmItPUVUDhnH/jlVy3nLAKxFZEuZgPRNh/wT3tzvfnSTwIFgAAAABJRU5ErkJggg=="/><path class="cls-5" d="M54 10.45H36.87v25.08H55.1V10.45zm-3 23.47H36.32v-8.18h14.76zm0-13.66H36.32v-8.18h14.76zm2.46 15a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.62a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27V21a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27z"/></g><path class="cls-8" d="M34.3 10.45h-4.07v25.08h4.46V10.45zm0 25a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.67a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27V21a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13z"/></g><path class="cls-9" d="M36.32 12.08h14.73v8.18H36.32zM36.32 25.67h14.73v8.18H36.32z"/></g></g></svg>")';return!0}return a.default.debug("Invalid Asset, will not show UpNext","START NEXT SLATE",this.eid),!1}},{key:"createNextSlate",value:function(){var e=this,t=document.createElement("div");t.id="upNext",t.className="reset  up-next-container";var n=document.createElement("div");n.id=this.settings.slate_id,n.className="iris-upnext";var r=document.createElement("div");r.className="iris-slate-text-container";var i=document.createElement("p");i.id=this.settings.slate_text_id,i.className="iris-slate-text",i.innerHTML=this.settings.up_next_text;var a=document.createElement("h3");a.setAttribute("id",this.settings.slate_title_id);var o=document.createElement("div");o.className="iris-slate-play-button",o.id=this.settings.slate_play_button_id,o.innerHTML='<img src="https://ovp.iris.tv/assets/icons/play-button.png"></img>',this.attachToPlayer(t),r.appendChild(i),r.appendChild(a),n.appendChild(r),this.attachToContainer(n),this.addToNextSlate("div",this.settings.slate_image_id,"iris-slate-image").appendChild(o);var l=this;this.addEventListener(this.settings.slate_id,"click",(function(){var t={asset:s.default.getCurrentAsset(e.eid),type:"start_next_slate"};window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:t})),l.slideBack(),s.default.addBehavior(l.eid,{start_next_slate:1}),u.default.skip_forward(l.eid)}))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(1)),a=s(n(0)),o=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=this.validateSettings(n),this.showing=!1,this.eid=t,a.default.loadCSS("https://ovp.iris.tv/libs/adaptive/styles/v2/IrisUpNext.css")}return r(e,[{key:"initialize",value:function(){this.createNextSlate(),this.poll()}},{key:"validateSettings",value:function(e){return["start_time","display_length","min_video_length"].forEach((function(t){if(!e[t])throw"Invalid Settings Error.  Missing or Invalid "+t})),e}},{key:"poll",value:function(){var e=u(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.conditions();case 2:e.sent?this.slide():this.slideBack(),setTimeout((function(){t.poll()}),1e3);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.slideBack(),this.populate(),this.pauseTimer&&clearTimeout(this.pauseTimer)}},{key:"slide",value:function(e){var t=o.default.getPlayer(this.eid),n=t.player_element&&t.player_element.classList.contains("vjs-ad-playing");this.showing||n||this.populate()&&(document.getElementById(this.settings.slate_id).classList.add("show"),this.showing=!0,e(this))}},{key:"slideBack",value:function(e){this.showing&&(document.getElementById(this.settings.slate_id).classList.remove("show"),void 0!==e&&e(this),this.showing=!1)}},{key:"addToNextSlate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=document.createElement(e);return i.setAttribute("id",t),i.setAttribute("class",n),i.innerHTML=r,document.getElementById(this.settings.slate_id).appendChild(i),i}},{key:"pause",value:function(){var e=this;this.showing&&!this.paused&&(e.pauseTimer=setTimeout((function(){e.paused=!0}),3e3))}},{key:"play",value:function(){(this.showing||this.paused)&&(this.paused=!1,clearTimeout(this.pauseTimer))}},{key:"timeLeft",value:function(){var e=u(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.default.getPlayer(this.eid),e.next=3,t.currentDuration(t.player_id);case 3:return n=e.sent,e.next=6,t.currentTime(t.player_id);case 6:return r=e.sent,e.abrupt("return",n-r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"videoDuration",value:function(){var e=u(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.default.getPlayer(this.eid),e.next=3,t.currentDuration(t.player_id);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"attachToPlayer",value:function(e){o.default.getPlayer(this.eid).attachToPlayer([e])}},{key:"createContainer",value:function(){var e=this.getPlayerElement().querySelector("#upNext");return void 0===e&&((e=document.createElement("div")).id="upNext",e.className="reset  up-next-container"),e}},{key:"getPlayerElement",value:function(){var e=o.default.getInfo(this.eid).environment.player_id;return document.getElementById(e)}},{key:"attachToContainer",value:function(e){this.createContainer().appendChild(e)}},{key:"conditions",value:function(){var e=u(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,this.timeLeft();case 3:return n=e.sent,e.next=6,this.videoDuration();case 6:return r=e.sent,n<r-this.settings.start_time&&n>0&&!o.default.getInfo(this.eid).currentAsset().startSlateShown&&n>this.settings.min_video_length&&!this.paused&&void 0!==o.default.getInfo(this.eid).playlist.getInfo()[o.default.getInfo(this.eid).currentIndex+1]&&(t=!0),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"displayOnMobile",value:function(){var e=!1;return o.default.getInfo(this.eid).environment.disable_mobile_upnext&&a.default.isRestrictedDevice()?i.default.debug("UpNext is not enabled on mobile. Please check your configurations","NEXT SLATE",this.eid):e=!0,e}},{key:"populate",value:function(){var e=o.default.getPlayer(this.eid).validateVideo(o.default.getInfo(this.eid).playlist[o.default.getInfo(this.eid).currentIndex+1]),t=a.default.getSSLImage(e.image_url);document.getElementById(this.settings.slate_title_id).innerHTML=e.title,document.getElementById(this.settings.slate_image_id).setAttribute("src",t)}},{key:"addEventListener",value:function(e,t,n){document.getElementById(e).addEventListener(t,n)}}]),e}();t.default=l},function(e,t,n){"use strict";var r=n(73),i=n(4),a=r.Tweenable,o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},s=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");var r;n=i.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},n),r=i.isString(t)?document.querySelector(t):t,this.path=r,this._opts=n,this._tweenable=null;var a=this.path.getTotalLength();this.path.style.strokeDasharray=a+" "+a,this.set(0)};s.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength();return parseFloat((1-e/t).toFixed(6),10)},s.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(i.isFunction(t)){var n=this._easing(this._opts.easing);t(this._calculateTo(e,n),this._opts.shape||this,this._opts.attachment)}},s.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},s.prototype.animate=function(e,t,n){t=t||{},i.isFunction(t)&&(n=t,t={});var r=i.extend({},t),o=i.extend({},this._opts);t=i.extend(o,t);var s=this._easing(t.easing),u=this._resolveFromAndTo(e,s,r);this.stop(),this.path.getBoundingClientRect();var l=this._getComputedDashOffset(),c=this._progressToOffset(e),d=this;this._tweenable=new a,this._tweenable.tween({from:i.extend({offset:l},u.from),to:i.extend({offset:c},u.to),duration:t.duration,delay:t.delay,easing:s,step:function(e){d.path.style.strokeDashoffset=e.offset;var n=t.shape||d;t.step(e,n,t.attachment)}}).then((function(e){i.isFunction(n)&&n()}))},s.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},s.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},s.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},s.prototype._calculateFrom=function(e){return r.interpolate(this._opts.from,this._opts.to,this.value(),e)},s.prototype._calculateTo=function(e,t){return r.interpolate(this._opts.from,this._opts.to,e,t)},s.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},s.prototype._easing=function(e){return o.hasOwnProperty(e)?o[e]:e},e.exports=s},function(e,t,n){"use strict";var r=n(8),i=n(4),a=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,r.apply(this,arguments)};(a.prototype=new r).constructor=a,a.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return i.render(this._pathTemplate,{radius:n,"2radius":2*n})},a.prototype._trailString=function(e){return this._pathString(e)},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),i=u(n(0)),a=u(n(2)),o=u(n(26)),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var l={addIrisButtons:function(e){var t=this.createIrisButtonEls(e);a.default.getPlayer(e).attachToPlayer(t),this.setStateFromAsset(e),this.addButtonListeners(e)},createIrisButtonEls:function(e){var t=a.default.getInfo(e),n=a.default.getProtocol(e),r=document.createElement("div");i.default.loadCSS("https://ovp.iris.tv/libs/adaptive/styles/IrisButtons.css"),r.className="ib-ctrl top right",r.id=i.default.instanceIdFor(e,"ib-ctrl"),r.setAttribute("data-ib-state","hide");var s=[];t.ui_settings.thumbs_up&&s.push("ib_thumbs_up"),t.ui_settings.thumbs_down&&s.push("ib_thumbs_down"),t.ui_settings.skip_back&&s.push("ib_skip_back"),t.ui_settings.skip_forward&&s.push("ib_skip_forward");for(var u=0;u<=s.length-1;u+=1){var l=document.createElement("div"),c=document.createElement("img"),d=void 0;switch(s[u]){case"ib_thumbs_up":d=n+":"+o.default.THUMBS_UP;break;case"ib_thumbs_down":d=n+":"+o.default.THUMBS_DOWN;break;case"ib_skip_forward":d=n+":"+o.default.SKIP_FORWARD;break;case"ib_skip_back":d=n+":"+o.default.SKIP_BACK}l.className="ib",l.style.cssText="display:inline-block; cursor:pointer;",l.id=i.default.instanceIdFor(e,s[u]),c.src=d,r.appendChild(l)}return[r]},setStateFromAsset:function(e){this.setSkipBackState(e),this.setSkipForwardState(e),this.setThumbsState(e)},setSkipBackState:function(e){0===a.default.getInfo(e).currentIndex?this.disable(e,"skip_back"):this.highlightSkips(e,"skip_back")},disable:function(e,t){var n=document.getElementById(e+"-ib_"+t);null!==n&&(n.style.opacity="0.6",n.style.cursor="default")},highlightSkips:function(e,t){var n=document.getElementById(e+"-ib_"+t);null!==n&&(n.style.opacity="0.9",n.style.cursor="pointer")},setSkipForwardState:function(e){a.default.endOfPlaylist(e)?this.disable(e,"skip_forward"):this.highlightSkips(e,"skip_forward")},setThumbsState:function(e){var t=a.default.getInfo(e),n=t.currentAsset();1===n.thumbs_down?(this.highlightThumbs(e,"thumbs_down"),this.disable(e,"thumbs_up")):1===n.thumbs_up?(this.highlightThumbs(e,"thumbs_up"),this.disable(e,"thumbs_down")):!0!==t.watch_called?this.setState(e,"hide"):this.normalize(e)},highlightThumbs:function(e,t){var n=a.default.getProtocol(e);if("thumbs_up"===t){var r=document.querySelector("#"+e+"-ib_"+t+" > img");null!==r&&r.setAttribute("src",n+":"+o.default.THUMBS_UP_ACTIVE)}else if("thumbs_down"===t){var i=document.querySelector("#"+e+"-ib_"+t+" > img");null!==i&&i.setAttribute("src",n+":"+o.default.THUMBS_DOWN_ACTIVE)}var s=document.getElementById("#"+e+"-ib_"+t);null!==s&&(s.style.opacity="0.9",s.style.cursor="default")},setState:function(e,t){switch(this.getButtonState(e),document.getElementById(e+"-ib-ctrl").setAttribute("data-ib-state",t),t){case"hide":this.hideButtonsNoAnimation(e)}},removeButtonListeners:function(){r.default.debug("Removing listeners","BUTTONS")},showButtons:function(e){document.getElementById(e+"-ib-ctrl").style.display="block"},hideButtons:function(e){document.getElementById(e+"-ib-ctrl").style.display="none"},hideButtonsNoAnimation:function(e){document.getElementById(e+"-ib-ctrl").style.display="none"},getButtonState:function(e){return document.getElementById(e+"-ib-ctrl").getAttribute("data-ib-state")},normalize:function(e){var t=a.default.getProtocol(e),n=document.querySelectorAll("#"+e+"-ib_thumbs_up > img");n.length>1&&(n.setAttribute("src",t+":"+o.default.THUMBS_UP),n.style.opacity="0.9",n.style.cursor="pointer");var r=document.querySelectorAll("#"+e+"-ib_thumbs_down > img");r.length>1&&(r.setAttribute("src",t+":"+o.default.THUMBS_DOWN),r.style.opacity="0.9",r.style.cursor="pointer")},addButtonListeners:function(e){var t=document.getElementById(e+"-ib_thumbs_up"),n=document.getElementById(e+"-ib_thumbs_down"),r=document.getElementById(e+"-ib_skip_forward"),i=document.getElementById(e+"-ib_skip_back");null!==t&&t.addEventListener("click",(function(){s.default.thumbs_up(e)})),null!==n&&n.addEventListener("click",(function(){s.default.thumbs_down(e)})),null!==r&&r.addEventListener("click",(function(){s.default.skip_forward(e,{fromClick:!0})})),null!==i&&i.addEventListener("click",(function(){s.default.skip_back(e,{fromClick:!0})}))}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={THUMBS_UP:"//ovp.iris.tv/assets/icons/like.png",THUMBS_DOWN:"//ovp.iris.tv/assets/icons/dislike.png",SKIP_FORWARD:"//ovp.iris.tv/assets/icons/next.png",SKIP_BACK:"//ovp.iris.tv/assets/icons/prev.png",THUMBS_UP_ACTIVE:"//ovp.iris.tv/assets/icons/like_active.png",THUMBS_DOWN_ACTIVE:"//ovp.iris.tv/assets/icons/dislike_active.png",AD_END:"AD_END",AD_START:"AD_START",USER_INACTIVE:"USER_INACTIVE",USER_ACTIVITY:"USER_ACTIVITY",HIDE_BUTTONS:"HIDE_BUTTONS",SHOW_BUTTONS:"SHOW_BUTTONS",ASSET_CHANGE:"ASSET_CHANGE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n(76)),o=v(n(79)),s=v(n(2)),u=v(n(1)),l=v(n(6)),c=v(n(80)),d=n(5),f=v(n(9)),p=v(n(28)),h=v(n(0));function v(e){return e&&e.__esModule?e:{default:e}}var y={},_=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("API")}return i(e,[{key:"successMessage",value:function(e){var t=JSON.parse(e);return r({success:!0},t)}},{key:"failureMessage",value:function(e){var t=JSON.parse(e);return r({success:!1},t)}},{key:"getRequest",value:function(e,t){return a.default.get(e).use((0,o.default)({timeout:15e3})).query(t)}},{key:"triggerGetRequest",value:function(e,t,n,r){var i=t.request_action;(0,d.dispatch)({actionType:i,request:r,experienceId:e}),y[i]=this.getRequest(n,r).end(this.handleResponse(e,t))}}],[{key:"handleResponse",value:function(e,t){var n=t.failure_action,r=t.request_action,i=t.success_action;return function(t,a){if(a)switch(a.body.success){case!0:(0,d.dispatch)({actionType:i,response:a.body,experienceId:e});break;default:(0,d.dispatch)({actionType:n,response:a.body,experienceId:e})}y[r]=null}}},{key:"postRequest",value:function(e,t){return a.default.post(e).use((0,o.default)({timeout:15e3})).query(t)}},{key:"requestUrl",value:function(e,t){var n=s.default.getInfo(e.id).environment;return(""!==n.api_url?n.api_url:s.default.getProtocol(e.id)+c.default.DEFAULT_API_URL)+t}},{key:"triggerPostRequest",value:function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=n.request_action;(0,d.dispatch)({actionType:o,request:i,experienceId:t}),y[o]=e.postRequest(r,i).end((function(r,o){var s=h.default.getProp(o,"body.next",[]);a&&s.length>=1?e.make_context_request(s,i.client_token,(function(i){o.body.next=h.default.mergeRecsWithContext(s,i),e.handleResponse(t,n)(r,o)})):e.handleResponse(t,n)(r,o)}))}},{key:"make_context_request",value:function(e,t,n){if(e&&Array.isArray(e)){var r={};e.forEach((function(i,o){var s=i.platform_id;a.default.get("https://context.iris.tv/video_info").query({access_token:"1d9f05c8b00daddfbffcf5afa8a0691bf6370c0cd9dfc8bc6fb38e13c4474dab",client_token:t,platform_id:s}).end((function(t,i){var a=h.default.getProp(i,"body.video_info",null);a&&(r[s]=a),o===e.length-1&&n(r)}))}))}else n({})}},{key:"make_watch_request",value:function(t,n){var r=n||null,i=s.default.getInfo(t),a={request_action:l.default.WATCH_START,success_action:l.default.WATCH_SUCCESS,failure_action:l.default.WATCH_FAIL},o=p.default.call("get",{key:f.default.getSetting("persistent_experience_id")});if(h.default.hasKey(o,"next")){if(f.default.getSetting("persist_experience"))return void e.handleResponse(i.id,a)({},{body:{next:o.next,experience:o.experience,success:!0,sc:!0}});p.default.remove({key:o.experience})}var u=e.requestUrl(i,"/watch"),c=i.environment,d=c;null!==r&&(c.platform_id=n),e.triggerPostRequest(i.id,a,u,d,c.enable_context_ads)}},{key:"make_update_request",value:function(){var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function t(n,i){var a,o,c,d,f,p,h,v,y,_,g,m,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=s.default.getInfo(n)).experience){t.next=6;break}u.default.debug("No experience_id available. UPDATE call not sent. Behavior: ","API"),Object.keys(i).forEach((function(e){Object.prototype.hasOwnProperty.call(i,e)&&u.default.debug(e+":"+i[e])})),t.next=30;break;case 6:return o={request_action:l.default.UPDATE_START,success_action:l.default.UPDATE_SUCCESS,failure_action:l.default.UPDATE_FAIL},c=e.requestUrl(a,"/update"),d=a.environment,f={},p={platform_id:d.platform_id,client_token:d.client_token,experience:a.experience,access_token:d.access_token,user_id:d.user_id,platform:d.platform},Object.keys(i).forEach((function(e){Object.prototype.hasOwnProperty.call(i,e)&&(f["behavior["+e+"]"]=i[e])})),h=s.default.getCurrentAsset(n),t.next=15,s.default.percentageWatched(n);case 15:return v=t.sent,t.next=18,s.default.secondsWatched(n);case 18:return y=t.sent,t.next=21,s.default.duration(n);case 21:_=t.sent,f["behavior[percentage_watched]"]||(f["behavior[percentage_watched]"]=v),f["behavior[seconds_watched]"]||(f["behavior[seconds_watched]"]=y),f["behavior[duration]"]||(f["behavior[duration]"]=_),h.campaign_asset&&(f["behavior[campaign_asset]"]=!0),f["behavior[seconds_watched]"]>f["behavior[duration]"]&&(f["behavior[seconds_watched]"]=f["behavior[duration]"],g={player_version:d.player_version,appVersion:window.navigator&&window.navigator.appVersion},p.debug_info=JSON.stringify(g)),1===(m=r({},p,f,b))["behavior[play]"]&&(delete m["behavior[duration]"],delete m["behavior[percentage_watched]"],delete m["behavior[seconds_watched]"]),e.triggerPostRequest(a.id,o,c,m);case 30:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"make_next_request",value:function(t){var n=s.default.getInfo(t);if(n.experience){var r={request_action:l.default.NEXT_START,success_action:l.default.NEXT_SUCCESS,failure_action:l.default.NEXT_FAIL},i=e.requestUrl(n,"/next"),a=n.environment;a.experience=n.experience;var o=a;e.triggerPostRequest(n.id,r,i,o,a.enable_context_ads)}else u.default.debug("No experience_id available. NEXT call not sent.","API"),u.default.debug("eid: ",t)}}]),e}();t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a={withExpiration:function(e){return r({},e,{expires:Date.now()})},hasExpired:function(e,t){return!!(i.default.hasKey(t,"expires")&&Date.now()>t.expires+18e5)&&(a.remove({key:e}),!0)},get:function(e){var t=e.key,n=JSON.parse(localStorage.getItem(t));return a.hasExpired(t,n)?null:n},set:function(e){var t=e.key,n=e.value;localStorage.setItem(t,JSON.stringify(a.withExpiration(n)))},remove:function(e){var t=e.key;localStorage.removeItem(t)},call:function(e,t){return!(!a.isSupported()||!i.default.hasKey(a,e))&&a[e](t)},isSupported:function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return console.error("localStorage is not supported"),!1}}};t.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(10),n(11);var r=o(n(57)),i=o(n(1)),a=o(n(83));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.default.info("*** Iris Adaptive Plugin version "+a.default.version+" ***","IRIS.TV"),new r.default(t)};window.initializeIrisPlugin=function(e){return new s(e)},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(58);var a=_(n(1)),o=_(n(0)),s=_(n(2)),u=_(n(3)),l=_(n(21)),c=_(n(17)),d=_(n(6)),f=n(5),p=_(n(27)),h=_(n(81)),v=(_(n(82)),_(n(9))),y=n(13);function _(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eid=o.default.generateRandomString(4),this.irisOptions=this.validateSettings(t),v.default.setOptions(this.irisOptions),this.irisOptions.debug&&a.default.setLevel("debug"),this.experience=new s.default(this.eid,this.irisOptions),this.events=new u.default,this.registerFunction=this.registerFunction.bind(this),this.registerEvent=this.registerEvent.bind(this),this.addCallbackBase=this.addCallbackBase.bind(this),this.irisOptions.settings.carousel_recs&&(a.default.debug("Carousel Recs: true","ENTRY",this.eid),this.forceWatchRequest()),this.addCallback={addToPlaylist:function(e){n.addCallbackBase("addToPlaylist",e)},next:function(e){n.addCallbackBase("next",e)},watch:function(e){n.addCallbackBase("watch",e)}},this.irisOptions.global&&(window[this.irisOptions.global]=this),window[y.DEFAULT_GLOBALS]=window[y.DEFAULT_GLOBALS]||{},window[y.DEFAULT_GLOBALS][o.default.getProp(this.irisOptions,"settings.platform_id")]=this,a.default.debug("Iris Entry settings","ENTRY",this.eid,this.irisOptions)}return i(e,[{key:"validateSettings",value:function(e){var t=(void 0!==e.player_elements?e:{}).player_elements,n=void 0===t?{}:t,r=e.debug,i=e.global||y.DEFAULT_GLOBAL,a=(void 0!==n.video_player?n:{}).video_player,o=void 0===a?{}:a,s=(void 0!==e.iris_buttons?e:{}).iris_buttons,u=void 0===s?{}:s,l=e.settings.player_id,c=void 0===l?document.querySelectorAll("[iris-enabled=true]").getAttribute("id"):l,d=e.settings,f=d.number,p=void 0===f?5:f,h=d.ssl,v=void 0!==h&&h,_=d.base_url,g=void 0===_?"defaultbaseurl":_,m=d.client_token,b=void 0===m?document.getElementById(c).getAttribute("client-token"):m,w=d.platform,x=void 0===w?document.getElementById(c).getAttribute("platform"):w,k=d.access_token,E=void 0===k?"1d9f05c8b00daddfbffcf5afa8a0691bf6370c0cd9dfc8bc6fb38e13c4474dab":k,I=d.api_url,S=void 0===I?"":I,T=d.platform_id,A=void 0===T?document.getElementById(c).getAttribute("platform-id"):T,P=d.player_version,O=void 0===P?x:P,C=d.set_cookie,R=void 0===C||C,W=d.user_id,j=void 0===W?"":W,N=d.iframe,L=void 0!==N&&N,M=d.carousel_recs,D=void 0!==M&&M,B=d.persist_experience,U=void 0!==B&&B,F=d.persistent_experience_id,H=void 0===F?null:F,z=d.disable_mobile_upnext,G=void 0===z||z,q=d.up_next_min_vid_length,V=void 0===q?23:q,X=d.start_up_next,Q=void 0!==X&&X,Y=d.start_up_next_text,K=void 0===Y?"UP NEXT:":Y,J=d.start_up_next_time,Z=void 0===J?5:J,$=d.start_up_next_length,ee=void 0===$?7:$,te=d.end_up_next,ne=void 0!==te&&te,re=d.end_up_next_text,ie=void 0===re?"UP NEXT:":re,ae=d.end_up_next_time,oe=void 0===ae?5:ae,se=d.end_up_next_length,ue=void 0===se?7:se,le=d.side_rail,ce=void 0!==le&&le,de=d.related_rail,fe=void 0!==de&&de,pe=d.campaign_tracking,he=void 0!==pe&&pe,ve=d.enable_context_ads,ye=void 0!==ve&&ve,_e=d.enable_iris_context_param,ge=void 0!==_e&&_e,me=u.thumbs_up,be=void 0===me||me,we=u.thumbs_down,xe=void 0===we||we,ke=u.skip_forward,Ee=void 0===ke||ke,Ie=u.skip_back,Se=void 0===Ie||Ie,Te=u.skip_on_thumbs_down,Ae=void 0===Te||Te;if(L&&e.settings.iframeWrapperId){var Pe=e.settings.iframeWrapperId||"",Oe=document.getElementById(Pe);c=void 0!==Pe?Pe:c,Oe.style.position="relative",Oe.style.display="inline-block"}var Ce={settings:{number:p,api_url:S,base_url:g,client_token:b,platform:x,access_token:E,ssl:v,platform_id:A,player_version:O,persist_experience:U,persistent_experience_id:H,disable_mobile_upnext:G,up_next_min_vid_length:V,start_up_next:Q,start_up_next_text:K,start_up_next_time:Z,start_up_next_length:ee,end_up_next:ne,end_up_next_text:ie,end_up_next_time:oe,end_up_next_length:ue,player_id:c,campaign_tracking:he,side_rail:ce,related_rail:fe,set_cookie:R,carousel_recs:D,user_id:j,iframe:L,enable_context_ads:ye,enable_iris_context_param:ge},player_elements:{play_button:n.play_button,player_element:n.player_element,player_id:c,video_player:o},iris_buttons:{thumbs_up:be,thumbs_down:xe,skip_forward:Ee,skip_back:Se,skip_on_thumbs_down:Ae},debug:r,global:i};return D&&(Ce.settings.recs_only=!0),["number","base_url","client_token","platform","access_token","player_id"].forEach((function(e){if(!Ce.settings[e])throw"Invalid Settings Error.  Missing or Invalid "+e})),Ce}},{key:"registerFunction",value:function(e,t){var n=this;switch(a.default.debug("Registering new function: "+e,"ENTRY",this.eid),e){case"currentDuration":this.experience.player.currentDuration=t;break;case"currentTime":this.experience.player.currentTime=t;break;case"play":this.experience.player.play=function(e,r){t(e,r||""),u.default.play(n.eid),o.default.hasKey(e,"platform_id")&&n.verifyCorrectAssetPlaying({asset:e})};break;case"loadVideo":this.experience.player.loadVideo=t;break;case"validateVideo":this.experience.player.validateVideo=t;break;case"attachToPlayer":this.experience.player.attachToPlayer=t;break;case"IrisStartNextSlate.populate":l.default.populate=function(){var e=n.experience.getInfo(n.eid),r=e.playlist.getInfo()[e.currentIndex+1];t(r)}}}},{key:"registerEvent",value:function(e){switch(a.default.debug("Registering new event: "+e,"ENTRY",this.eid),e){case"IRIS_PLAYING":u.default.playing=function(){};break;case"ENDED":u.default.ended=function(){}}}},{key:"emit",value:function(e,t){(0,f.dispatch)({actionType:e,data:t,experienceId:this.eid})}},{key:"forceNextRequest",value:function(){p.default.make_next_request(this.eid)}},{key:"forceWatchRequest",value:function(){p.default.make_watch_request(this.eid)}},{key:"forceWatchRequestByAsset",value:function(e,t){p.default.make_watch_request(e,t)}},{key:"forceNextRequestByEid",value:function(e){p.default.make_next_request(e)}},{key:"getPlaylist",value:function(){return s.default.getPlaylist(this.eid)}},{key:"getPlaylistByEid",value:function(e){return s.default.getPlaylist(e)}},{key:"setPlaylist",value:function(e){return s.default.getInfo(this.eid).playlist.addToPlaylist(e),e}},{key:"removeFromPlaylist",value:function(e){s.default.getInfo(this.eid).playlist.removeFromPlaylist(e)}},{key:"getCurrentIndex",value:function(){return s.default.getCurrentIndex(this.eid)}},{key:"getCurrentIndexByEid",value:function(e){return s.default.getCurrentIndex(e)}},{key:"skipToIndex",value:function(e){return s.default.skipToIndex(this.eid,e)}},{key:"skipToIndexByEid",value:function(e,t){return s.default.skipToIndex(e,t)}},{key:"skipToAsset",value:function(e){return s.default.skipToAsset(this.eid,e)}},{key:"skipToAssetByEid",value:function(e,t){return s.default.skipToAsset(e,t)}},{key:"setAdState",value:function(e){return s.default.getInfo(this.eid).player.setAdState(e),s.default.getInfo(this.eid).player.getAdState()}},{key:"verifyCorrectAssetPlaying",value:function(e){var t=this.getPlaylist()[this.getCurrentIndex()];o.default.getProp(e,"asset.platform_id")!==t.platform_id&&a.default.error("Current platform id does not match iris platform id, this might lead to inconsistencies on playback.","[Iris][Core]");var n=o.default.getProp(t,e.type+".0",null),r=o.default.getProp(e,"asset."+e.type+".0",null);e.type&&n&&r!==n&&a.default.error("[Playing Index: "+this.getCurrentIndex()+"][Given Index: "+o.default.getProp(e,"index")+"]\n         Given Index doesn't match the current playing index.","[Iris][Context]")}},{key:"addCustomParamsToAsset",value:function(e){var t=e||this.getPlaylist()[this.getCurrentIndex()];return h.default.addCustomParamsToAsset(t)}},{key:"addCustomParamsToUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.default.getProp(n,"eid",this.eid),a=o.default.getProp(n,"index",this.getCurrentIndexByEid(i)),s=o.default.getProp(n,"contextValueOverride",{}),u=o.default.getProp(this.getPlaylistByEid(i),""+a,{}),l=r({},u,s),c=e,d=void 0;if(this.irisOptions.settings.enable_context_ads||"context"===t){var f=this.irisOptions.settings.enable_iris_context_param?"iris_context":"context";c=h.default.addCustomParamsToUrl(l,e,f,"context"),d="context"}return this.verifyCorrectAssetPlaying({type:d,index:a,asset:l}),c}},{key:"addCallbackBase",value:function(e,t){var n=this;switch(a.default.debug("Registering new callback: "+e,"ENTRY",this.eid),e){case"addToPlaylist":var r=c.default.prototype.addToPlaylist;c.default.prototype.addToPlaylist=function(){r(),t(n.recs)};break;case"next":f.Dispatcher.register((function(e){switch(e.actionType){case d.default.NEXT_SUCCESS:t(e.response.next)}}));break;case"watch":f.Dispatcher.register((function(e){switch(e.actionType){case d.default.WATCH_SUCCESS:t(e.response.next,o.default.getProp(e,"response.default_recs",!1))}}))}}}]),e}();t.default=g},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e){var n,r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),o=new P(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=d(e,t,n);if("normal"===u.type){if(r=n.done?v:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=v,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",y={};function _(){}function g(){}function m(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(O([])));x&&x!==r&&i.call(x,o)&&(b=x);var k=m.prototype=_.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,n){var r;this._invoke=function(a,o){function s(){return new n((function(r,s){!function r(a,o,s,u){var l=d(e[a],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"===(void 0===f?"undefined":t(f))&&i.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):n.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,u)}))}u(l.arg)}(a,o,r,s)}))}return r=r?r.then(s,s):s()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,y;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,y):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:n,done:!0}}return g.prototype=k.constructor=m,m.constructor=g,g.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},E(I.prototype),I.prototype[s]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(k),l(k,u,"Generator"),k[o]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),y}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(19)(e))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(60).Dispatcher,a=n(63),o=n(65),s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._actionQueue=new a,e._actionQueue.concurrency=1,e._actionQueueActive=!1,e._actionQueue.on("end",function(){this._actionQueueActive=!1}.bind(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"dispatch",value:function(e,t){o(!this._isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var n in this._callbacks)this._isPending[n]||this._invokeCallback(n)}finally{this._stopDispatching(),t()}}},{key:"onQueueEnd",value:function(e){this._actionQueue.on("end",e.bind(this))}},{key:"queueDispatch",value:function(e){this._actionQueue.push(function(t){this.dispatch(e,t)}.bind(this)),this._actionQueueActive||(this._actionQueueActive=!0,this._actionQueue.start())}}]),t}();e.exports=s},function(e,t,n){"use strict";e.exports.Dispatcher=n(61)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(62),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||r(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||r(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||r(!1):(this._callbacks[n]||r(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&r(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;u=new Error("Invariant Violation: "+t.replace(/%s/g,(function(){return l[c++]})))}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=n(64),i=n(16).EventEmitter;function a(e){if(!(this instanceof a))return new a(e);i.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.pending=0,this.session=0,this.running=!1,this.jobs=[]}e.exports=a,r(a,i);var o=["push","unshift","splice","pop","shift","slice","reverse","indexOf","lastIndexOf"];for(var s in o)!function(e){a.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}}(o[s]);function u(e){this.session++,this.running=!1,this.emit("end",e)}Object.defineProperty(a.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),a.prototype.start=function(e){if(e&&function(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",(function r(i){t.removeListener("error",n),t.removeListener("end",r),e(i)}))}.call(this,e),this.pending!==this.concurrency)if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),r=!0,i=this.session,a=null,o=!1;this.timeout&&(a=setTimeout((function(){o=!0,t.listeners("timeout").length>0?t.emit("timeout",s,n):s()}),this.timeout)),this.pending++,this.running=!0,n(s),this.jobs.length>0&&this.start()}else 0===this.pending&&u.call(this);function s(e,s){r&&t.session===i&&(r=!1,t.pending--,null!==a&&clearTimeout(a),e?t.emit("error",e,n):!1===o&&t.emit("success",s,n),t.session===i&&(0===t.pending&&0===t.jobs.length?u.call(t):t.running&&t.start()))}},a.prototype.stop=function(){this.running=!1},a.prototype.end=function(e){this.jobs.length=0,this.pending=0,u.call(this,e)}},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),a=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eid=t,this.ads={state:!1},Object.keys(n).forEach((function(e){Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])})),void 0===this.player_element&&(this.player_element=document.getElementById(this.player_id),this.video_player=this.player_element),this.attachToPlayer=this.attachToPlayer.bind(this),this.currentTime=this.currentTime.bind(this),this.currentDuration=this.currentDuration.bind(this),this.validateVideo=this.validateVideo.bind(this)}return r(e,[{key:"currentTime",value:function(){i.default.warn("Please register currentTime function","IRIS.TV",this.eid)}},{key:"currentDuration",value:function(){i.default.warn("Please register currentDuration function","IRIS.TV",this.eid)}},{key:"setInfo",value:function(e){var t=this;Object.keys(e).forEach((function(n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))}},{key:"getInfo",value:function(){return this}},{key:"hasPlayed",value:function(){return this.played}},{key:"play",value:function(e){var t=document.getElementsByTagName("video")[0];t.getElementsByTagName("source")[0].setAttribute("src",e.content_url),t.load(),t.play(),i.default.debug("IRIS plugin using HTML5 default play function","PLAYER",this.eid)}},{key:"attachToPlayer",value:function(e){for(var t=0;t<=e.length-1;t+=1)this.player_element.appendChild(e[t]);return this.player_element}},{key:"validateVideo",value:function(e){var t=e;return void 0!==t.content_url?t.valid=!0:t.valid=!1,t}},{key:"getAdState",value:function(){return this.ads.state}},{key:"setAdState",value:function(e){this.ads.state=e}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(2)),a=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.sideRailGlobal=!0,this.eid=t,Object.keys(n).forEach((function(e){Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}))}return r(e,[{key:"getInfo",value:function(){return this}},{key:"updateHTMLRail",value:function(){for(var e=document.querySelectorAll("[data-iris-rail]"),t=void 0,n=0;n<=e.length-1;n+=1){var r=i.default.getCurrentIndex(this.eid)+parseInt(e[n].getAttribute("data-iris-rail"),10);if(void 0===(t=i.default.getPlaylist(this.eid)[r]))return;if(t.valid){var o=a.default.getSSLImage(t.image_url);e[n].getElementsByClassName("title").length>0&&(e[n].getElementsByClassName("title")[0].innerHTML=t.title),e[n].getElementsByClassName("thumbnail").length>0&&(e[n].getElementsByClassName("thumbnail")[0].innerHTML="<img src='"+o+"'/>")}this.setAssetAsShown(t)}}},{key:"addEventListeners",value:function(){for(var e=this,t=document.querySelectorAll("[data-iris-rail]"),n=this,r=0;r<=t.length-1;r+=1)t[r].addEventListener("click",(function(){i.default.skipToIndex(n.eid,i.default.getCurrentIndex(n.eid)+parseInt(e.getAttribute("data-iris-rail"),10))}))}},{key:"setAssetAsShown",value:function(e){e.setInfo({sideRailShown:!0})}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(2)),a=s(n(3)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eid=t,this.recs=[],Object.keys(r).forEach((function(e){Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])})),window.relatedRailGlobal=!0,this.addEventListeners(t)}return r(e,[{key:"updateRecsList",value:function(){var e=i.default.getPlaylist(this.eid);return this.recs=e,this}},{key:"getInfo",value:function(){return this}},{key:"updateHTMLRail",value:function(){for(var e=document.querySelectorAll("[data-iris-related]"),t=void 0,n=0;n<=e.length-1;n+=1){var r=i.default.getCurrentIndex(this.eid)+parseInt(e[n].getAttribute("data-iris-related"),10);if(void 0===(t=this.recs[r])&&this.resetDiv(e[n]),t&&t.valid){var a=o.default.getSSLImage(t.image_url);e[n].getElementsByClassName("title").length>0&&(e[n].getElementsByClassName("title")[0].innerHTML=t.title),e[n].getElementsByClassName("thumbnail").length>0&&(e[n].getElementsByClassName("thumbnail")[0].innerHTML="<img src='"+a+"' />")}}}},{key:"resetDiv",value:function(e){var t=e;t.getElementsByClassName("title")[0].innerHTML="",t.getElementsByClassName("thumbnail")[0].innerHTML=""}},{key:"addEventListeners",value:function(){for(var e=document.querySelectorAll("[data-iris-related]"),t=0;t<=e.length-1;t+=1)this.addEvent(e[t],this)}},{key:"addEvent",value:function(e,t){e.addEventListener("click",(function(){var e=parseInt(this.getAttribute("data-iris-related"),10),n=t.recs[i.default.getCurrentIndex(t.eid)+e];i.default.getInfo(t.eid).playlist.addToNextPosition(t.eid,n),a.default.skip_forward(t.eid)}))}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.delay=1e3*t,this.callback=n,this.startTime=0,this.id="",this.display_length=1e3*t,this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.pause=this.pause.bind(this),this.reset=this.reset.bind(this)}return r(e,[{key:"start",value:function(){clearTimeout(this.id),this.startTime=new Date,this.id=setTimeout(this.callback,this.delay)}},{key:"stop",value:function(){clearTimeout(this.id)}},{key:"pause",value:function(){clearTimeout(this.id),this.delay-=new Date-this.startTime}},{key:"reset",value:function(){clearTimeout(this.id),this.delay=this.display_length}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},a=d(n(71)),o=d(n(1)),s=d(n(0)),u=d(n(2)),l=d(n(3)),c=d(n(22));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.eid=e,r.version="IrisEndNextSlate.v2.1.0",r.settings={start_time:n.start_time||5,display_length:n.display_length||7,min_video_length:n.min_video_length||24,up_next_text:n.up_next_text||"UP NEXT:",slate_id:s.default.instanceIdFor(e,"end-next-slate"),slate_title_id:s.default.instanceIdFor(e,"end-next-slate-title"),slate_image_id:s.default.instanceIdFor(e,"end-next-slate-image"),slate_timer_container_id:s.default.instanceIdFor(e,"end-timer-container"),slate_timer_id:s.default.instanceIdFor(e,"end-timer"),slate_text_id:s.default.instanceIdFor(e,"slate-text-id")},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),r(t,[{key:"slide",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"slide",this).call(this,(function(){e.settings.display_length=document.getElementById(e.settings.slate_timer_id).innerHTML,e.countdown()}))}},{key:"slideBack",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"slideBack",this).call(this,(function(){void 0!==e.bar&&e.bar.animate(0)}))}},{key:"countdown",value:function(){var e=f(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.timeLeft();case 2:return t=e.sent,this.bar.animate(1,{duration:800*t}),e.next=6,this.conditions();case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:setTimeout((function(){n.countdown()}),1e3);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"populate",value:function(){var e=u.default.getPlayer(this.eid),t=u.default.getInfo(this.eid),n=t.playlist.getInfo()[t.currentIndex+1],r=e.validateVideo(n);if(void 0===this.bar&&(this.bar=new a.default.Circle("#"+this.settings.slate_timer_container_id,{color:"#FFF",strokeWidth:10,trailWidth:1,svgStyle:{}})),void 0===document.getElementById(this.settings.slate_title_id)&&this.createNextSlate(),!1!==r.valid){if(document.getElementById(this.settings.slate_title_id).innerHTML=r.title,void 0!==r.image_url&&r.image_url){var i=s.default.getSSLImage(r.image_url);document.getElementById(this.settings.slate_image_id).style.backgroundImage='url("'+i+'")'}else o.default.debug("Invalid Thumbnail","END NEXT SLATE",this.eid),document.getElementById(this.settings.slate_image_id).style.backgroundImage='url("data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 85.33 48"><defs><style>.cls-1{isolation:isolate}.cls-2{fill:url(#linear-gradient)}.cls-3,.cls-7{mix-blend-mode:multiply}.cls-3{fill:url(#radial-gradient)}.cls-4{opacity:.7}.cls-5,.cls-8,.cls-9{fill:gray}.cls-6,.cls-8{opacity:.8}.cls-7{opacity:.75}.cls-9{opacity:.9}</style><linearGradient id="linear-gradient" x1="1.49" y1="2989.5" x2="1.49" y2="-3939.89" gradientTransform="matrix(.01 0 0 .01 42.64 24.67)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1a1a1a"/><stop offset=".15" stop-color="#1c1c1c"/><stop offset=".2" stop-color="#232323"/><stop offset=".24" stop-color="#2e2e2e"/><stop offset=".25" stop-color="#333"/><stop offset=".29" stop-color="#252525"/><stop offset=".37" stop-color="#141414"/><stop offset=".47" stop-color="#090909"/><stop offset=".61" stop-color="#020202"/><stop offset="1"/></linearGradient><radialGradient id="radial-gradient" cx="-19.84" cy="-42.31" r="4828.76" gradientTransform="matrix(.01 0 0 .01 42.64 24.67)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff"/><stop offset="1"/></radialGradient></defs><title>thumbnailArtboard 3</title><g class="cls-1"><g id="Layer_1" data-name="Layer 1"><path d="M-425.33-404h825v767h-825z"/><path class="cls-2" d="M0 0h85.33v48H0z"/><path class="cls-3" d="M0 0h85.33v48H0z"/><g class="cls-4"><path class="cls-5" d="M34.69 10.45h2.19v25.08h-2.19z"/><g class="cls-6"><image class="cls-7" width="38" height="44" transform="translate(27.67 3)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAsCAYAAAAJpsrIAAAACXBIWXMAAAsSAAALEgHS3X78AAAEQklEQVRYR92YaY9UVRCGS4YBBpTFAMqqrJFNVBAIi6LsoAIaBgRkcwHUKIuAMWCIRhBBlIQ17EENEYgiARLgixoJ4U8N70PVde50+vYyIfaVD0+6b/c5dd5T9Z663deamposj5QdUHSS2SPVUi5m1cIKFmhTQF0FFM6pSGwlghIBbUW9aBe0r4JkTn3ESQRnCiwlKhFUH8EbRCfxqOgcdMmga5BcM/axmN8Q8erTAssKS4liZ+yyYwTtJrqLJ0Qv0Vv0EX0z6Jd6z9gnRY+IQ7yGiF9UXClR7IodsvOescAAMUQ8I4aLEWJkilHBsylGxTjmDDIX3DPisulEXFlhdTEYUeyuVwgaJp4T48REMUW8JF5OMVW8Il4V01Lw+SQx1lzkQPMMIo7MUdYWWcvKFoO7xGSCsOvxscAs8Zp4QyxIsVC8Kd4SjWKJWBosie9mi8lidMQlc5SV6rTIWla2MDh+esq8RBPE9BCzKBZbLt5JsUKsFGvEB+JD8YnYEK/rYhwxpkRcykpVSAQJyRTGlx3Ms0UJh5qnn9LMN9/5ilj83WBN6joRhJht4kvxVbBdfBrz54oXzT3HgcA298tZShiGfNx8N/gBP80xzxQ7Xm3Ngni/Mlgl3jMXtlnsELvFfvGj2Gsu9KOIRdbwLXahnFSqqDD8hWrUU8anzb2AwfHUYnNhiGDXlPJtcz81xvd8hjgyQ4b2iIPimDgU11siDtbAu7Qc+tx9YRblLBSW+AtTYs7nzQ3/eiy+zNxfiMDM+GWeeWkQvzDG4KfPxbfisDgpjptnDsFknIPAKacyWIcD0FKYNZ9IhJFWmuhgMcb8+Cemx2ONIQBBM8z9xxjaAiXnVFLmz8Quc2GnA7K309yLzH9B9DdvGy1OZiXCWBhhSQvglfZAlijHVPMehjhaCZnEewjDY0fF2QCRHAQySoZbJYwOPzYWJ0P4CW9QqsXxGcEpCYLI1vwYx8JfiO/FCfGz+Mlc5Ndifcxl460SxpGeaV7GVeYlWCveN88KQvEcYpbFGE4lrYJsHTEXdUGcN/fZNzEG35YWlmF+hHH7mR2Lk4VNsSjG3mperk3B5vh8p3lrIDu/iN/FFXFJnDIXXLUw2kUiDI9xG8KktIiN5n2IwPvMy7QvRCTXB8yzdMY8S1fFzQBx+IyTSi+rWhh9jG6cCCMAvYls0IfoR/jmtDWbGs6ZZwhBf4gb4k/xj/hLXDf32XfiY/MD1WphEyIA3qL//GDNZv5VXDQvEfwmLotr4pb4W9wRd8Vtc6HMe7iF5aqUuTR/vtqF5bXB2v/slpTbm3jtf/ZkmL/2PxSL9LFc/bSmnLn8M5IIy+XfN8yX+CxXf3jbWN4eERTJGumt/UOVIlljF50sD4+hiohrZ3l4cFdEHJNIc3ur9aPOAnFpgW2t1g+HMwQmItPUVUDhnH/jlVy3nLAKxFZEuZgPRNh/wT3tzvfnSTwIFgAAAABJRU5ErkJggg=="/><path class="cls-5" d="M54 10.45H36.87v25.08H55.1V10.45zm-3 23.47H36.32v-8.18h14.76zm0-13.66H36.32v-8.18h14.76zm2.46 15a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.62a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27V21a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27z"/></g><path class="cls-8" d="M34.3 10.45h-4.07v25.08h4.46V10.45zm0 25a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.67a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27V21a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13z"/></g><path class="cls-9" d="M36.32 12.08h14.73v8.18H36.32zM36.32 25.67h14.73v8.18H36.32z"/></g></g></svg>")';return!0}return!1}},{key:"createNextSlate",value:function(){var e=this,t=document.createElement("div");t.id="upNext",t.className="reset up-next-container";var n=document.createElement("div");n.id=this.settings.slate_id,n.className="iris-upnext";var r=document.createElement("div");r.className="iris-slate-text-container";var i=document.createElement("p");i.id=this.settings.slate_text_id,i.className="iris-slate-text",i.innerHTML=this.settings.up_next_text;var a=document.createElement("h3");a.setAttribute("id",this.settings.slate_title_id),r.appendChild(a);var o=document.createElement("div");o.id=this.settings.slate_timer_container_id,o.className="iris-slate-timer-container";var s=document.createElement("p");s.id=this.settings.slate_timer_id,s.className="iris-slate-timer",this.attachToPlayer(t),r.appendChild(i),n.appendChild(r),this.attachToContainer(n),o.appendChild(s),this.addToNextSlate("div",this.settings.slate_image_id,"iris-slate-image").appendChild(o);var c=this;this.addEventListener(this.settings.slate_id,"click",(function(){var t={asset:u.default.getCurrentAsset(e.eid),type:"end_next_slate"};window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:t})),c.slideBack(),u.default.addBehavior(c.eid,{end_next_slate:1}),l.default.skip_forward(c.eid)}))}},{key:"conditions",value:function(){var e=f(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,this.timeLeft();case 3:return(n=e.sent)<=this.settings.start_time&&0!==n&&!this.paused&&this.displayOnMobile()&&(t=!0),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}();t.default=p},function(e,t,n){"use strict";e.exports={Line:n(72),Circle:n(24),SemiCircle:n(74),Square:n(75),Path:n(23),Shape:n(8),utils:n(4)}},function(e,t,n){"use strict";var r=n(8),i=n(4),a=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",r.apply(this,arguments)};(a.prototype=new r).constructor=a,a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},a.prototype._pathString=function(e){return i.render(this._pathTemplate,{center:e.strokeWidth/2})},a.prototype._trailString=function(e){return this._pathString(e)},e.exports=a},function(e,t,n){"use strict";(function(e){var n,r,i,a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};self,a=function(){return function(){var e={720:function(e,t,n){n.r(t),n.d(t,{Scene:function(){return ze},Tweenable:function(){return ce},interpolate:function(){return Be},processTweens:function(){return ae},setBezierFunction:function(){return Ge},tween:function(){return de},unsetBezierFunction:function(){return qe}});var r={};n.r(r),n.d(r,{bounce:function(){return L},bouncePast:function(){return M},easeFrom:function(){return B},easeFromTo:function(){return D},easeInBack:function(){return P},easeInCirc:function(){return I},easeInCubic:function(){return c},easeInExpo:function(){return x},easeInOutBack:function(){return C},easeInOutCirc:function(){return T},easeInOutCubic:function(){return f},easeInOutExpo:function(){return E},easeInOutQuad:function(){return l},easeInOutQuart:function(){return v},easeInOutQuint:function(){return g},easeInOutSine:function(){return w},easeInQuad:function(){return s},easeInQuart:function(){return p},easeInQuint:function(){return y},easeInSine:function(){return m},easeOutBack:function(){return O},easeOutBounce:function(){return A},easeOutCirc:function(){return S},easeOutCubic:function(){return d},easeOutExpo:function(){return k},easeOutQuad:function(){return u},easeOutQuart:function(){return h},easeOutQuint:function(){return _},easeOutSine:function(){return b},easeTo:function(){return U},elastic:function(){return R},linear:function(){return a},swingFrom:function(){return j},swingFromTo:function(){return W},swingTo:function(){return N}});var i={};n.r(i),n.d(i,{afterTween:function(){return je},beforeTween:function(){return We},doesApply:function(){return Ce},tweenCreated:function(){return Re}});var a=function(e){return e},s=function(e){return Math.pow(e,2)},u=function(e){return-(Math.pow(e-1,2)-1)},l=function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},c=function(e){return Math.pow(e,3)},d=function(e){return Math.pow(e-1,3)+1},f=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},p=function(e){return Math.pow(e,4)},h=function(e){return-(Math.pow(e-1,4)-1)},v=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},y=function(e){return Math.pow(e,5)},_=function(e){return Math.pow(e-1,5)+1},g=function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},m=function(e){return 1-Math.cos(e*(Math.PI/2))},b=function(e){return Math.sin(e*(Math.PI/2))},w=function(e){return-.5*(Math.cos(Math.PI*e)-1)},x=function(e){return 0===e?0:Math.pow(2,10*(e-1))},k=function(e){return 1===e?1:1-Math.pow(2,-10*e)},E=function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},I=function(e){return-(Math.sqrt(1-e*e)-1)},S=function(e){return Math.sqrt(1-Math.pow(e-1,2))},T=function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},A=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},P=function(e){var t=1.70158;return e*e*((t+1)*e-t)},O=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},C=function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},R=function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},W=function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},j=function(e){var t=1.70158;return e*e*((t+1)*e-t)},N=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},L=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},M=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},D=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},B=function(e){return Math.pow(e,4)},U=function(e){return Math.pow(e,.25)};function F(e){return(F="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)})(e)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q,V,X,Q="linear",Y="undefined"!=typeof window?window:n.g,K="afterTween",J="beforeTween",Z=Y.requestAnimationFrame||Y.webkitRequestAnimationFrame||Y.oRequestAnimationFrame||Y.msRequestAnimationFrame||Y.mozCancelRequestAnimationFrame&&Y.mozRequestAnimationFrame||setTimeout,$=function(){},ee=null,te=null,ne=z({},r),re=function(e,t,n,r,i,a,o){var s,u,l,c=e<a?0:(e-a)/i,d=!1;for(var f in o&&o.call&&(d=!0,s=o(c)),t)d||(s=((u=o[f]).call?u:ne[u])(c)),l=n[f],t[f]=l+(r[f]-l)*s;return t},ie=function(e,t){var n=e._timestamp,r=e._currentState,i=e._delay;if(!(t<n+i)){var a=e._duration,o=e._targetState,s=n+i+a,u=t>s?s:t,l=u>=s,c=a-(s-u),d=e._filters.length>0;if(l)return e._render(o,e._data,c),e.stop(!0);d&&e._applyFilter(J),u<n+i?n=a=u=1:n+=i,re(u,r,e._originalState,o,a,n,e._easing),d&&e._applyFilter(K),e._render(r,e._data,c)}},ae=function(){for(var e,t=ce.now(),n=ee;n;)e=n._next,ie(n,t),n=e},oe=Date.now||function(){return+new Date},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=F(t);if(ne[t])return ne[t];if("string"===r||"function"===r)for(var i in e)n[i]=t;else for(var a in e)n[a]=t[a]||Q;return n},ue=function(e){e===ee?(ee=e._next)?ee._previous=null:te=null:e===te?(te=e._previous)?te._next=null:ee=null:(V=e._previous,X=e._next,V._next=X,X._previous=V),e._previous=e._next=null},le="function"==typeof Promise?Promise:null,ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._resolve=null,this._reject=null,this._currentState=t||{},this._originalState={},this._targetState={},this._start=$,this._render=$,this._promiseCtor=le,n&&this.setConfig(n)}var t;return(t=[{key:"_applyFilter",value:function(e){for(var t=this._filters.length;t>0;t--){var n=this._filters[t-t][e];n&&n(this)}}},{key:"tween",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!t&&this._config||this.setConfig(t),this._pausedAtTime=null,this._timestamp=e.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._config;for(var r in t)n[r]=t[r];var i=n.promise,a=void 0===i?this._promiseCtor:i,o=n.start,s=void 0===o?$:o,u=n.finish,l=n.render,c=void 0===l?this._config.step||$:l,d=n.step,f=void 0===d?$:d;this._data=n.data||n.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=s,this._render=c||f,this._duration=n.duration||500,this._promiseCtor=a,u&&(this._resolve=u);var p=t.from,h=t.to,v=void 0===h?{}:h,y=this._currentState,_=this._originalState,g=this._targetState;for(var m in p)y[m]=p[m];var b=!1;for(var w in y){var x=y[w];b||"string"!==F(x)||(b=!0),_[w]=x,g[w]=v.hasOwnProperty(w)?v[w]:x}if(this._easing=se(this._currentState,n.easing,this._easing),this._filters.length=0,b){for(var k in e.filters)e.filters[k].doesApply(this)&&this._filters.push(e.filters[k]);this._applyFilter("tweenCreated")}return this}},{key:"then",value:function(e,t){var n=this;return this._promise=new this._promiseCtor((function(e,t){n._resolve=e,n._reject=t})),this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then().catch(e)}},{key:"get",value:function(){return z({},this._currentState)}},{key:"set",value:function(e){this._currentState=e}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=e.now(),this._isPlaying=!1,ue(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=t-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===ee?(ee=this,te=this):(this._previous=te,te._next=this,te=this),this)}},{key:"seek",value:function(t){t=Math.max(t,0);var n=e.now();return this._timestamp+t===0||(this._timestamp=n-t,ie(this,n)),this}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,ue(this);var t=this._filters.length>0;e&&(t&&this._applyFilter(J),re(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),t&&(this._applyFilter(K),this._applyFilter("afterTweenEnd"))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null;var n=this._currentState,r=this._originalState,i=this._targetState;for(var a in n)r[a]=i[a]=n[a];return this}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._currentState,n=this._data;return this._isPlaying?(this._reject&&this._reject({data:n,state:t,tweenable:this}),this._resolve=null,this._reject=null,this.stop(e)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"setScheduleFunction",value:function(t){e.setScheduleFunction(t)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&(this._data=z({},e)),this._data}},{key:"dispose",value:function(){for(var e in this)delete this[e]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ce;return t.tween(e),t.tweenable=t,t}G(ce,"now",(function(){return q})),ce.setScheduleFunction=function(e){return Z=e},ce.formulas=ne,ce.filters={},function e(){q=oe(),Z.call(Y,e,16.666666666666668),ae()}();var fe,pe,he=/(\d|-|\.)/,ve=/([^\-0-9.]+)/g,ye=/[0-9.-]+/g,_e=(fe=ye.source,pe=/,\s*/.source,new RegExp("rgb\\(".concat(fe).concat(pe).concat(fe).concat(pe).concat(fe,"\\)"),"g")),ge=/^.*\(/,me=/#([0-9]|[a-f]){3,6}/gi,be="VAL",we=function(e,t){return e.map((function(e,n){return"_".concat(t,"_").concat(n)}))};function xe(e){return parseInt(e,16)}var ke=function(e){return"rgb(".concat((t=e,3===(t=t.replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[xe(t.substr(0,2)),xe(t.substr(2,2)),xe(t.substr(4,2))]).join(","),")");var t},Ee=function(e,t,n){var r=t.match(e),i=t.replace(e,be);return r&&r.forEach((function(e){return i=i.replace(be,n(e))})),i},Ie=function(e){for(var t in e){var n=e[t];"string"==typeof n&&n.match(me)&&(e[t]=Ee(me,n,ke))}},Se=function(e){var t=e.match(ye).map(Math.floor),n=e.match(ge)[0];return"".concat(n).concat(t.join(","),")")},Te=function(e){return e.match(ye)},Ae=function(e,t){var n={};return t.forEach((function(t){n[t]=e[t],delete e[t]})),n},Pe=function(e,t){return t.map((function(t){return e[t]}))},Oe=function(e,t){return t.forEach((function(t){return e=e.replace(be,+t.toFixed(4))})),e},Ce=function(e){for(var t in e._currentState)if("string"==typeof e._currentState[t])return!0;return!1};function Re(e){var t=e._currentState;[t,e._originalState,e._targetState].forEach(Ie),e._tokenData=function(e){var t,n,r={};for(var i in e){var a=e[i];"string"==typeof a&&(r[i]={formatString:(t=a,n=void 0,n=t.match(ve),n?(1===n.length||t.charAt(0).match(he))&&n.unshift(""):n=["",""],n.join(be)),chunkNames:we(Te(a),i)})}return r}(t)}function We(e){var t=e._currentState,n=e._originalState,r=e._targetState,i=e._easing,a=e._tokenData;!function(e,t){var n=function(n){var r=t[n].chunkNames,i=e[n];if("string"==typeof i){var a=i.split(" "),o=a[a.length-1];r.forEach((function(t,n){return e[t]=a[n]||o}))}else r.forEach((function(t){return e[t]=i}));delete e[n]};for(var r in t)n(r)}(i,a),[t,n,r].forEach((function(e){return function(e,t){var n=function(n){Te(e[n]).forEach((function(r,i){return e[t[n].chunkNames[i]]=+r})),delete e[n]};for(var r in t)n(r)}(e,a)}))}function je(e){var t=e._currentState,n=e._originalState,r=e._targetState,i=e._easing,a=e._tokenData;[t,n,r].forEach((function(e){return function(e,t){for(var n in t){var r=t[n],i=r.chunkNames,a=r.formatString,o=Oe(a,Pe(Ae(e,i),i));e[n]=Ee(_e,o,Se)}}(e,a)})),function(e,t){for(var n in t){var r=t[n].chunkNames,i=e[r[0]];e[n]="string"==typeof i?r.map((function(t){var n=e[t];return delete e[t],n})).join(" "):i}}(i,a)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=new ce,De=ce.filters,Be=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),o=se(e,r);for(var s in Me._filters.length=0,Me.set({}),Me._currentState=a,Me._originalState=e,Me._targetState=t,Me._easing=o,De)De[s].doesApply(Me)&&Me._filters.push(De[s]);Me._applyFilter("tweenCreated"),Me._applyFilter("beforeTween");var u=re(n,a,e,t,1,i,o);return Me._applyFilter("afterTween"),u};function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var He=new WeakMap,ze=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),He.set(this,{writable:!0,value:[]});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(this.add.bind(this))}var t;return(t=[{key:"add",value:function(e){return Fe(this,He).push(e),e}},{key:"remove",value:function(e){var t=Fe(this,He).indexOf(e);return~t&&Fe(this,He).splice(t,1),e}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Fe(this,He).some((function(e){return e.isPlaying()}))}},{key:"play",value:function(){return Fe(this,He).forEach((function(e){return e.tween()})),this}},{key:"pause",value:function(){return Fe(this,He).forEach((function(e){return e.pause()})),this}},{key:"resume",value:function(){return Fe(this,He).forEach((function(e){return e.resume()})),this}},{key:"stop",value:function(e){return Fe(this,He).forEach((function(t){return t.stop(e)})),this}},{key:"tweenables",get:function(){return function(e){if(Array.isArray(e))return Ue(e)}(e=Fe(this,He))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e}},{key:"promises",get:function(){return Fe(this,He).map((function(e){return e.then()}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ge=function(e,t,n,r,i){var a=function(e,t,n,r){return function(i){return c=0,d=0,f=0,p=function(e){return((c*e+d)*e+f)*e},h=function(e){return(3*c*e+2*d)*e+f},v=function(e){return e>=0?e:0-e},c=1-(f=3*(a=e))-(d=3*(n-a)-f),s=1-(l=3*(o=t))-(u=3*(r-o)-l),function(e){return((s*e+u)*e+l)*e}(function(e,t){var n,r,i,a,o,s;for(i=e,s=0;s<8;s++){if(a=p(i)-e,v(a)<.005)return i;if(o=h(i),v(o)<1e-6)break;i-=a/o}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(a=p(i),v(a-e)<.005)return i;e>a?n=i:r=i,i=.5*(r-n)+n}return i}(i));var a,o,s,u,l,c,d,f,p,h,v}}(t,n,r,i);return a.displayName=e,a.x1=t,a.y1=n,a.x2=r,a.y2=i,ce.formulas[e]=a},qe=function(e){return delete ce.formulas[e]};ce.filters.token=i}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":o(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":o(window)))return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(720)}()},"object"==o(t)&&"object"==o(e)?e.exports=a():(r=[],void 0===(i="function"==typeof(n=a)?n.apply(t,r):n)||(e.exports=i))}).call(this,n(19)(e))},function(e,t,n){"use strict";var r=n(8),i=n(24),a=n(4),o=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,r.apply(this,arguments)};(o.prototype=new r).constructor=o,o.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},o.prototype._initializeTextContainer=function(e,t,n){e.text.style&&(n.style.top="auto",n.style.bottom="0",e.text.alignToBottom?a.setStyle(n,"transform","translate(-50%, 0)"):a.setStyle(n,"transform","translate(-50%, 50%)"))},o.prototype._pathString=i.prototype._pathString,o.prototype._trailString=i.prototype._trailString,e.exports=o},function(e,t,n){"use strict";var r=n(8),i=n(4),a=function(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",r.apply(this,arguments)};(a.prototype=new r).constructor=a,a.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return i.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},a.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return i.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},e.exports=a},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(77),a=n(78),o="undefined"==typeof window?self:window;function s(){}function u(e){switch({}.toString.call(e)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}v.getXHR=function(){if(!(!o.XMLHttpRequest||o.location&&"file:"==o.location.protocol&&o.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var l="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function c(e){return e===Object(e)}function d(e){if(!c(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function f(e){for(var t,n={},r=e.split("&"),i=0,a=r.length;i<a;++i)t=r[i].split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return n}function p(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(e){var t,n,r,i,a=e.split(/\r?\n/),o={};a.pop();for(var s=0,u=a.length;s<u;++s)t=(n=a[s]).indexOf(":"),r=n.slice(0,t).toLowerCase(),i=l(n.slice(t+1)),o[r]=i;return o}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(e,t){var n=this;i.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e=null,t=null;try{t=new p(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var r=new Error(t.statusText||"Unsuccessful HTTP response");r.original=e,r.response=t,r.status=t.status,n.callback(e||r,t)}))}function v(e,t){return"function"==typeof t?new h("GET",e).end(t):1==arguments.length?new h("GET",e):new h(e,t)}v.serializeObject=d,v.parseString=f,v.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},v.parse={"application/x-www-form-urlencoded":f,"application/json":JSON.parse},p.prototype.get=function(e){return this.header[e.toLowerCase()]},p.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=function(e){return e.split(/ *; */).shift()}(t);var n=function(e){return a(e.split(/ *; */),(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e}),{})}(t);for(var r in n)this[r]=n[r]},p.prototype.parseBody=function(e){var t=v.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},p.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},p.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},v.Response=p,i(h.prototype),h.prototype.use=function(e){return e(this),this},h.prototype.timeout=function(e){return this._timeout=e,this},h.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},h.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},h.prototype.set=function(e,t){if(c(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},h.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},h.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},h.prototype.type=function(e){return this.set("Content-Type",v.types[e]||e),this},h.prototype.accept=function(e){return this.set("Accept",v.types[e]||e),this},h.prototype.auth=function(e,t){var n=btoa(e+":"+t);return this.set("Authorization","Basic "+n),this},h.prototype.query=function(e){return"string"!=typeof e&&(e=d(e)),e&&this._query.push(e),this},h.prototype.field=function(e,t){return this._formData||(this._formData=new o.FormData),this._formData.append(e,t),this},h.prototype.attach=function(e,t,n){return this._formData||(this._formData=new o.FormData),this._formData.append(e,t,n),this},h.prototype.send=function(e){var t=c(e),n=this.getHeader("Content-Type");if(t&&c(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||u(e),this},h.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},h.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},h.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(e){var t=this,n=this.xhr=v.getXHR(),i=this._query.join("&"),a=this._timeout,o=this._formData||this._data;this._callback=e||s,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(t){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var l=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=l);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=l)}catch(e){}if(a&&!this._timer&&(this._timer=setTimeout((function(){t.timedout=!0,t.abort()}),a)),i&&(i=v.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!u(o)){var c=v.serialize[this.getHeader("Content-Type")];c?o=c(o):"object"==(void 0===o?"undefined":r(o))&&(o=JSON.stringify(o))}for(var d in this.header)null!=this.header[d]&&n.setRequestHeader(d,this.header[d]);return this.emit("request",this),n.send(o),this},v.Request=h,v.get=function(e,t,n){var r=v("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},v.head=function(e,t,n){var r=v("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},v.del=function(e,t){var n=v("DELETE",e);return t&&n.end(t),n},v.patch=function(e,t,n){var r=v("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},v.post=function(e,t,n){var r=v("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},v.put=function(e,t,n){var r=v("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},e.exports=v},function(e,t,n){"use strict";function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var r=0,i=e.length,a=3==arguments.length?n:e[r++];r<i;)a=t.call(null,a,e[r],++r,e);return a}},function(e,t,n){"use strict";var r,i=function(e){var t=e.script,n=e.callbackName,r=e.timeout;t&&t.parentNode&&t.parentNode.removeChild(t),delete window[n],clearTimeout(r)},a=function e(t){var n=function(n){return"undefined"==typeof window||(n.end=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=this,i=t.callbackParam||"callback",a=t.callbackName||"superagentCallback"+((new Date).valueOf()+parseInt(1e3*Math.random(),10)),o=t.timeout||1e3,s=setTimeout(e.errorWrapper.bind(this),o);this._jsonp={callbackName:a,callback:n,timeout:s},window[a]=e.callbackWrapper.bind(this),this._query.push(encodeURIComponent(i)+"="+encodeURIComponent(a));var u=this._query.join("&"),l=document.createElement("script"),c=this.url.indexOf("?")>-1?"&":"?",d=this.url+c+u;return l.src=d,l.onerror=function(t){e.errorWrapper.call(r,t)},document.head.appendChild(l),this._jsonp.script=l,this}}.call(n,t)),n};return"function"==typeof t.end?n(t):n};a.callbackWrapper=function(e){var t={body:e};i(this._jsonp),this._jsonp.callback.call(this,null,t)},a.errorWrapper=function(e){var t=new Error("404 Not found");e&&e instanceof Event&&"error"===e.type&&(t=new Error("Connection issue")),i(this._jsonp),this._jsonp.callback.call(this,t,null)},void 0!==e.exports?e.exports=a:void 0===(r=function(){return{jsonp:a}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEFAULT_API_URL:"://api.iris.tv"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a={addCustomParamsToUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"context",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"context";return t&&e?a.formatCustomParams(e[r],t,n,e.iris_id):t},insertAt:function(e,t){var n=e.indexOf("&cust_params=")+"&cust_params=".length;return e.substring(0,n)+t+e.substring(n)},replaceContext:function(e,t,n){var r=new RegExp("("+n+"%3D)[\\w-]+(%26)?");return e.replace(r,(function(e,n,r){var i=n+encodeURIComponent(t);return void 0!==r&&(i+=r),i}))},replaceIrisId:function(e,t){var n=new RegExp("(iris_id%3D)[\\w-]+(%26)?");return e.replace(n,(function(e,n,r){var i=n+encodeURIComponent(t);return void 0!==r&&(i+=r),i}))},formatCustomParams:function(e,t,n,r){var o=t;if(i.default.isValidArray(e)){var s=n+"="+e.join(","),u=r?"&iris_id="+r:"";-1!==t.indexOf("&cust_params=")?(o=-1!==t.indexOf(n+"%3D")?a.replaceContext(t,e.join(","),n):a.insertAt(t,encodeURIComponent(s+"&")),r&&(o=-1!==o.indexOf("iris_id%3D")?a.replaceIrisId(o,r,"iris_id"):a.insertAt(o,encodeURIComponent("iris_id="+r+"&")))):o=t+"&cust_params="+encodeURIComponent(s)+encodeURIComponent(u)}return o},addCustomParamsToAsset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r({},e);return i.default.hasKey(e,"rule_settings.vast")&&i.default.isValidArray(e.context)&&(t.rule_settings.vast=a.addCustomParamsToUrl(e,e.rule_settings.vast)),t}};t.default=a},function(e,t,n){"use strict";var r=n(5),i=v(n(6)),a=v(n(26)),o=v(n(1)),s=v(n(0)),u=v(n(3)),l=v(n(2)),c=v(n(17)),d=v(n(27)),f=v(n(25)),p=v(n(9)),h=v(n(28));function v(e){return e&&e.__esModule?e:{default:e}}window.relatedRailGlobal=!1,window.sideRailGlobal=!1,r.Dispatcher.register(function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function e(t){var n,r,v,y,_,g,m,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.default.event("Action Registered: "+t.actionType,t.experienceId),n=0,e.t0=t.actionType,e.next=e.t0===i.default.NEW_EXPERIENCE?5:e.t0===i.default.EXPERIENCE_ERROR?9:e.t0===i.default.AD_START?11:e.t0===i.default.AD_END?13:e.t0===i.default.WATCH_SUCCESS?15:e.t0===i.default.PLAYLIST_CHANGE?29:e.t0===i.default.UPDATE_SUCCESS?32:e.t0===i.default.ENDED?36:e.t0===i.default.SKIP_FORWARD?55:e.t0===i.default.EXPERIENCE_UPDATE?64:e.t0===i.default.USER_INACTIVE?69:e.t0===i.default.USER_ACTIVITY?71:e.t0===a.default.AD_START?75:e.t0===a.default.AD_END?78:e.t0===a.default.HIDE_BUTTONS?81:e.t0===a.default.SHOW_BUTTONS?84:e.t0===a.default.ASSET_CHANGE?87:e.t0===i.default.FIRST_PLAY?89:e.t0===i.default.PLAYING?92:e.t0===i.default.WATCH_START?95:e.t0===i.default.WATCH_FAIL?97:"PLAYLIST_CHANGE"===e.t0?98:e.t0===i.default.PW_02?100:e.t0===i.default.PW_25?103:e.t0===i.default.PW_50?106:e.t0===i.default.PW_75?109:e.t0===i.default.SW_03?112:e.t0===i.default.SW_05?115:e.t0===i.default.SW_10?118:e.t0===i.default.SW_15?121:e.t0===i.default.SW_30?124:e.t0===i.default.UPDATE_START?127:e.t0===i.default.NEXT_SUCCESS?128:e.t0===i.default.NEW_ASSET?132:e.t0===i.default.THUMBS_DOWN?134:e.t0===i.default.THUMBS_UP?144:e.t0===i.default.SKIP_BACK?152:e.t0===i.default.PLAY?159:e.t0===i.default.SKIP_ON_MEDIA_ERROR?161:e.t0===i.default.MAKE_WATCH_REQUEST?164:e.t0===i.default.MAKE_UPDATE_REQUEST?166:e.t0===i.default.MAKE_NEXT_REQUEST?168:170;break;case 5:return l.default.emitChange(),u.default.pollPercentageWatched(t.experienceId),!0===l.default.getInfo(t.experienceId).environment.side_rail&&(c.default.addToPlaylist=c.default.addToPlaylistSideRailEnabled),e.abrupt("break",171);case 9:return u.default.stopPolling(t.experienceId),e.abrupt("break",171);case 11:return l.default.getInfo(t.experienceId).player.setAdState(!0),e.abrupt("break",171);case 13:return l.default.getInfo(t.experienceId).player.setAdState(!1),e.abrupt("break",171);case 15:return r=l.default.getInfo(t.experienceId),t.response.sc?(r.environment.set_cookie&&s.default.setCookie("iris_user_id",r.environment.user_id),p.default.getSetting("persist_experience")&&h.default.call("set",{key:t.response.experience,value:{experience:t.response.experience,next:t.response.next}})):(s.default.deleteCookie("iris_user_id"),h.default.call("remove",{key:t.response.experience})),l.default.setInfo(t.experienceId,{experience:t.response.experience}),!0!==t.response.default_recs&&r.playlist.addToFirstPosition(t.response.next[0]),r.playlist.addToPlaylist(t.response.next),l.default.displayStartSlate(t.experienceId)&&(r.irisStartNextSlate.initialize(),r.irisStartNextSlate.populate()),l.default.displayEndSlate(t.experienceId)&&(r.irisEndNextSlate.initialize(),r.irisEndNextSlate.populate()),l.default.registerPlaying(t.experienceId),window.relatedRailGlobal,window.sideRailGlobal&&l.default.getInfo(t.experienceId).sideRail.updateHTMLRail(),f.default.showButtons(t.experienceId),f.default.setState(t.experienceId,"watch_enabled"),s.default.publishReadyEvent(t.response.next,r),e.abrupt("break",171);case 29:return window.relatedRailGlobal&&(l.default.getInfo(t.experienceId).relatedRail.updateRecsList(),l.default.getInfo(t.experienceId).relatedRail.updateHTMLRail()),window.sideRailGlobal&&l.default.getInfo(t.experienceId).sideRail.updateHTMLRail(),e.abrupt("break",171);case 32:return 1!==t.response.behavior.thumbs_up&&1!==t.response.behavior.thumbs_down||u.default.next(t.experienceId),window.relatedRailGlobal&&l.default.getInfo(t.experienceId).relatedRail.updateHTMLRail(),window.sideRailGlobal&&l.default.getInfo(t.experienceId).sideRail.updateHTMLRail(),e.abrupt("break",171);case 36:if(v=l.default.getCurrentAsset(t.experienceId),y={},v.setInfo({ended:!0}),void 0===t.data){e.next=44;break}y={percentage_watched:t.data.percentageWatched},"next_auto"===t.data.type&&(y.next_auto=1),e.next=48;break;case 44:return e.next=46,l.default.percentageWatched(t.experienceId);case 46:n=e.sent,y={percentage_watched:n};case 48:return(n>=.98||parseInt(t.data.percentageWatched,10)>=.98)&&(y.video_complete=1),l.default.addBehavior(t.experienceId,y),o.default.debug("IRIS: NEXT ASSET"),l.default.nextAsset(t.experienceId),window.relatedRailGlobal&&d.default.make_next_request(t.experienceId),window.sideRailGlobal&&d.default.make_next_request(t.experienceId),e.abrupt("break",171);case 55:return s.default.getProp(t,"data.fromClick")&&window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:{asset:l.default.getCurrentAsset(t.experienceId),type:"skip_forward"}})),e.next=58,l.default.percentageWatched(t.experienceId);case 58:return n=e.sent,l.default.addBehavior(t.experienceId,{next:1,percentage_watched:n}),l.default.nextAsset(t.experienceId),window.relatedRailGlobal&&d.default.make_next_request(t.experienceId),window.sideRailGlobal&&d.default.make_next_request(t.experienceId),e.abrupt("break",171);case 64:return l.default.endOfPlaylist(t.experienceId)&&(o.default.debug("IRIS: end of playlist"),u.default.next(t.experienceId)),l.default.updateCurrentAsset(t.experienceId),!0!==l.default.getInfo(t.experienceId).currentAsset().played&&l.default.getInfo(t.experienceId).player.play(l.default.getInfo(t.experienceId).currentAsset(),l.default.getInfo(t.experienceId).environment.player_id),window.sideRailGlobal&&l.default.getPlaylist(t.experienceId).slice(l.default.getCurrentIndex(t.experienceId),l.default.getPlaylist(t.experienceId).length).length<l.default.getInfo(t.experienceId).environment.number&&d.default.make_next_request(t.experienceId),e.abrupt("break",171);case 69:return f.default.hideButtons(t.experienceId),e.abrupt("break",171);case 71:return _=document.getElementById(t.experienceId+"-ib-ctrl"),"hide"!==(g=_.getAttribute("data-ib-state"))&&"adPlay"!==g&&f.default.showButtons(t.experienceId),e.abrupt("break",171);case 75:return f.default.hideButtonsNoAnimation(t.experienceId),f.default.setState(t.experienceId,"adPlay"),e.abrupt("break",171);case 78:return!0===t.data&&f.default.showButtons(t.experienceId),f.default.setState(t.experienceId,"show"),e.abrupt("break",171);case 81:return f.default.hideButtonsNoAnimation(t.experienceId),f.default.setState(t.experienceId,"hide"),e.abrupt("break",171);case 84:return f.default.showButtons(t.experienceId),f.default.setState(t.experienceId,"show"),e.abrupt("break",171);case 87:return f.default.setStateFromAsset(t.experienceId),e.abrupt("break",171);case 89:return l.default.setInfo(t.experienceId,{first_play:!0}),!0!==l.default.getInfo(t.experienceId).watch_called&&l.default.watch(t.experienceId),e.abrupt("break",171);case 92:return m=t.experienceId,!0!==l.default.getInfo(m).watch_called?l.default.watch(m):(l.default.registerPlaying(m,t.response),l.default.addBehavior(m,{play:1})),e.abrupt("break",171);case 95:return l.default.setInfo(t.experienceId,{watch_called:!0}),e.abrupt("break",171);case 97:return e.abrupt("break",171);case 98:return l.default.updateCurrentAsset(t.experienceId),e.abrupt("break",171);case 100:return l.default.getInfo(t.experienceId).currentAsset().setInfo({PW_02:!0}),l.default.addBehavior(t.experienceId,{percentage_watched:t.data.percentageWatched},{metrics_only:!0}),e.abrupt("break",171);case 103:return l.default.getInfo(t.experienceId).currentAsset().setInfo({PW_25:!0}),l.default.addBehavior(t.experienceId,{percentage_watched:t.data.percentageWatched},{metrics_only:!0}),e.abrupt("break",171);case 106:return l.default.getInfo(t.experienceId).currentAsset().setInfo({PW_50:!0}),l.default.addBehavior(t.experienceId,{percentage_watched:t.data.percentageWatched},{metrics_only:!0}),e.abrupt("break",171);case 109:return l.default.getInfo(t.experienceId).currentAsset().setInfo({PW_75:!0}),l.default.addBehavior(t.experienceId,{percentage_watched:t.data.percentageWatched},{metrics_only:!0}),e.abrupt("break",171);case 112:return l.default.getInfo(t.experienceId).currentAsset().setInfo({SW_03:!0}),l.default.addBehavior(t.experienceId,{seconds_watched:t.data.secondsWatched},{metrics_only:!0}),e.abrupt("break",171);case 115:return l.default.getInfo(t.experienceId).currentAsset().setInfo({SW_05:!0}),l.default.addBehavior(t.experienceId,{seconds_watched:t.data.secondsWatched},{metrics_only:!0}),e.abrupt("break",171);case 118:return l.default.getInfo(t.experienceId).currentAsset().setInfo({SW_10:!0}),l.default.addBehavior(t.experienceId,{seconds_watched:t.data.secondsWatched},{metrics_only:!0}),e.abrupt("break",171);case 121:return l.default.getInfo(t.experienceId).currentAsset().setInfo({SW_15:!0}),l.default.addBehavior(t.experienceId,{seconds_watched:t.data.secondsWatched},{metrics_only:!0}),e.abrupt("break",171);case 124:return l.default.getInfo(t.experienceId).currentAsset().setInfo({SW_30:!0}),l.default.addBehavior(t.experienceId,{seconds_watched:t.data.secondsWatched},{metrics_only:!0}),e.abrupt("break",171);case 127:return e.abrupt("break",171);case 128:return(b=l.default.getInfo(t.experienceId)).playlist.addToPlaylist(t.response.next),s.default.publishReadyEvent(t.response.next,b),e.abrupt("break",171);case 132:return l.default.play(t.experienceId),e.abrupt("break",171);case 134:if(1===l.default.getInfo(t.experienceId).currentAsset().thumbs_down||1===l.default.getInfo(t.experienceId).currentAsset().thumbs_up){e.next=143;break}return window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:{asset:l.default.getCurrentAsset(t.experienceId),type:"thumbs_down"}})),l.default.getInfo(t.experienceId).currentAsset().setInfo({thumbs_down:1}),e.next=139,l.default.percentageWatched(t.experienceId);case 139:n=e.sent,l.default.addBehavior(t.experienceId,{thumbs_down:1,percentage_watched:n}),o.default.debug("SKIP ON THUMBS_DOWN? "+l.default.getInfo(t.experienceId).ui_settings.skip_on_thumbs_down),!0===l.default.getInfo(t.experienceId).ui_settings.skip_on_thumbs_down&&l.default.nextAsset(t.experienceId);case 143:return e.abrupt("break",171);case 144:if(1===l.default.getInfo(t.experienceId).currentAsset().thumbs_up||1===l.default.getInfo(t.experienceId).currentAsset().thumbs_down){e.next=151;break}return window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:{asset:l.default.getCurrentAsset(t.experienceId),type:"thumbs_up"}})),l.default.getInfo(t.experienceId).currentAsset().setInfo({thumbs_up:1}),e.next=149,l.default.percentageWatched(t.experienceId);case 149:n=e.sent,l.default.addBehavior(t.experienceId,{thumbs_up:1,percentage_watched:n});case 151:return e.abrupt("break",171);case 152:return s.default.getProp(t,"data.fromClick")&&window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:{asset:l.default.getCurrentAsset(t.experienceId),type:"skip_back"}})),e.next=155,l.default.percentageWatched(t.experienceId);case 155:return n=e.sent,l.default.addBehavior(t.experienceId,{next:1,percentage_watched:n}),l.default.prevAsset(t.experienceId),e.abrupt("break",171);case 159:return l.default.setInfo(t.experienceId,{pauseBeacons:!1}),e.abrupt("break",171);case 161:return l.default.nextAsset(t.experienceId),o.default.debug("SKIP ON MEDIA ERROR"),e.abrupt("break",171);case 164:return d.default.make_watch_request(t.experienceId),e.abrupt("break",171);case 166:return d.default.make_update_request(t.experienceId,t.data.behavior,t.data.addParams),e.abrupt("break",171);case 168:return d.default.make_next_request(t.experienceId),e.abrupt("break",171);case 170:return e.abrupt("break",171);case 171:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:"2.0.21",LastIssueAddressed:"Mark assets as ended "}}]);