!function(e){if(e)if(e.flexTiles)console.warn('FlexTiles :: Has already been loaded, consider running "Rexus.flexTiles.update()" if any flextiles are dynamically loaded');else{var t,i,n,d,s,l=!1,o=function(){var i,n,d=document.getElementsByClassName("l-flexTiles");if(d.length){var s,l,o,h=d.length-1,f=0;for(t=this,document.getElementById("ftGenerated")?n=(i=document.getElementById("ftGenerated")).innerHTML:((i=document.createElement("style")).id="ftGenerated",n="",document.body.appendChild(i)),this.components=[];h>=0;h--)if(!(s=d[h]).dataset.cuid)if(l=e.tag("ft"),s.dataset.cuid=l,o={node:s,childrenNodes:s.children,maxed:!1,stacking:!1,width:s.offsetWidth},this.components.push(o),o.childrenNodes.length){for(o.minTileWidth=o.node.dataset.minWidth?parseInt(o.node.dataset.minWidth,10):parseInt(window.getComputedStyle(o.childrenNodes[0]).getPropertyValue("min-width"),10),o.maxTileWidth=o.node.dataset.maxWidth?parseInt(o.node.dataset.maxWidth,10):null,s.dataset.minWidth||(s.dataset.minWidth=o.minTileWidth),f=o.childrenNodes.length-1;f>=0;f--)o.childrenNodes[f].dataset.flexTile=!0;n+="[data-cuid="+l+"] > * {min-width:"+o.minTileWidth+"px;max-width:"+(o.maxTileWidth?o.maxTileWidth+"px;":"none;")+"}"}else console.warn("FlexTiles :: There needs to be at least 1 child");return function(){var t=document.querySelectorAll(".l-flexTiles--trigger");if(t)for(var i=0;i<t.length;i++){var n=t[i];if(!n.dataset.cuid){var d=e.tag("ft");n.dataset.cuid=d,n.addEventListener("click",c)}}}(),i.innerHTML=n,r(),e.flexTiles||(window.addEventListener("resize",r),window.requestAnimationFrame(a)),!0}return console.warn("FlexTiles :: No FlexTiles detected, check markup/syntax")};o.prototype.update=function(e){var t;if(e)console.log("Target ID:",e),t=this.components[e],console.log("The Target:",t),n(t);else for(var i in this.components)n(t=this.components[i]);function n(e){if(e.childrenNodes)for(var t=0;t<e.childrenNodes.length;t++)e.childrenNodes[t].dataset.flexTile=!0}r()},e.flexTiles=new o}else console.error("FlexTiles :: RexusManager needs to be declared");function a(){if(l=!l)for(var e=t.components.length-1;e>=0;e--)t.components[e].node.offsetWidth!=t.components[e].width&&(r(),t.components[e].width=t.components[e].node.offsetWidth);window.requestAnimationFrame(a)}function r(){if(t){var e,o=t.components.length-1,a=0;for(l=!1;o>=0;o--){if(e=t.components[o],i=e.node.offsetWidth/e.childrenNodes.length,(d=e.node.offsetWidth)/e.minTileWidth<2&&(e.stacking=!0),e.maxTileWidth){if(i>e.maxTileWidth&&!e.maxed){for(e.node.style.cssText="justify-content: center",a=e.childrenNodes.length-1;a>=0;a--)e.childrenNodes[a].removeAttribute("style");e.maxed=!0}else if(i<e.maxTileWidth&&!e.stacking){if(e.maxed&&(e.maxed=!1),e.node.dataset.cuid.indexOf("-tmp")>=0&&(e.node.dataset.cuid=e.node.dataset.cuid.replace("-tmp","")),e.node.hasAttribute("style")&&e.node.removeAttribute("style"),n=Math.ceil(d/e.maxTileWidth),s=d/n,d/e.minTileWidth<2)e.stacking||(e.stacking=!0);else if(d/e.minTileWidth>=2)for(a=e.childrenNodes.length-1;a>=0;a--)e.childrenNodes[a].style.width=s+"px"}else if(e.stacking){if(e.node.dataset.cuid.indexOf("-tmp")<0&&(e.node.dataset.cuid=e.node.dataset.cuid+"-tmp"),e.childrenNodes.length>0&&e.childrenNodes[0].hasAttribute("style"))for(a=e.childrenNodes.length-1;a>=0;a--)e.childrenNodes[a].removeAttribute("style");d/e.minTileWidth>=2&&e.stacking&&(e.stacking=!1)}}else if(i>e.minTileWidth)for(e.node.hasAttribute("style")||(e.node.style.cssText="justify-content: center"),e.tmpMaxWidth&&delete e.tmpMaxWidth,a=e.childrenNodes.length-1;a>=0;a--)e.childrenNodes[a].style.width=i+"px";else if(e.stacking){if(e.stacking){if(e.childrenNodes[0].hasAttribute("style"))for(a=e.childrenNodes.length-1;a>=0;a--)e.childrenNodes[a].removeAttribute("style");d/e.minTileWidth>=2&&e.stacking&&(e.stacking=!1)}}else if(e.node.hasAttribute("style")&&e.node.removeAttribute("style"),e.tmpMaxWidth||(e.tmpMaxWidth=1.5*e.minTileWidth),n=Math.ceil(d/e.tmpMaxWidth),s=d/n,d/e.minTileWidth<2)e.stacking||(e.stacking=!0);else if(d/e.minTileWidth>=2)for(a=e.childrenNodes.length-1;a>=0;a--)e.childrenNodes[a].style.width=s+"px";if(e.maxPerRow=n,e.node.classList.contains("l-flexTiles--checkered")){var r=!1,c=0,h=Math.round(e.node.parentNode.offsetWidth/e.childrenNodes[0].offsetWidth),f=!!(h%2);for(a=0;a<e.childrenNodes.length;a++)e.childrenNodes[a].classList.contains("l-flexTiles__item--alternate")&&e.childrenNodes[a].classList.remove("l-flexTiles__item--alternate"),r&&e.childrenNodes[a].classList.add("l-flexTiles__item--alternate"),f||++c==h&&(c=0,r=!r),r=!r}}}}function c(e){return!1}}(this.Rexus?Rexus:null);