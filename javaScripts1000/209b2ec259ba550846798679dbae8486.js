(self.webpackChunkweb_shell=self.webpackChunkweb_shell||[]).push([[378],{8435:e=>{"use strict";e.exports=JSON.parse('{"default_version":"3.3","common":[{"getBrowserProperties":{"parameterValues":["browser_encoding","browser_height","browser_width","browser_java_enabled","browser_plugins","locale","screen_color_depth","url_host_name","url_query_param","campaign","browser_cookies_enabled","page_language"],"targetLocations":{"track":["properties"],"page":["properties"]}}},{"getCookieProperties":{"parameterValues":["aam_segment_ids","adobe_fid"],"targetLocations":{"track":["properties"],"page":["properties"]}}},{"getCookieProperties":{"parameterValues":["pseudonym_id"],"targetLocations":{"track":["properties"],"page":["properties"],"identify":["traits"]}}},{"getCcpaGdprPreferences":{"targetLocations":{"track":["properties"],"page":["properties"],"identify":["traits"]}}},{"getAdobeIntegrationProperties":{"targetLocations":{"track":["integrations.Adobe Analytics"],"page":["integrations.Adobe Analytics"],"identify":["integrations.Adobe Analytics"]}}},{"getAdobeAnalyticsId":{"targetLocations":{"track":["properties"],"page":["properties"]}}},{"getIvid":{"targetLocations":{"track":["properties"],"page":["properties"],"identify":["traits"]}}},{"getTrackingLibrary":{"targetLocations":{"track":["context"],"page":["context"],"identify":["context"]}}}],"3.3":[{"getBrowserPluginsWithSemiColon":{"targetLocations":{"track":["properties"],"page":["properties"]}}}],"4.0":[{"getBrowserPluginsWithPipe":{"targetLocations":{"track":["properties"],"page":["properties"]}}},{"getCookieProperties":{"parameterValues":["pseudonym_id"],"targetLocations":{"track":["context"],"page":["context"],"identify":["context"]}}},{"getIvid":{"targetLocations":{"track":["context"],"page":["context"],"identify":["context"]}}},{"getTimezone":{"targetLocations":{"track":["context"],"page":["context"],"identify":["context"]}}}],"4.1":[{"buildCleanURL":{"targetLocations":{"track":["properties"],"page":["properties"]}}},{"getPageHierarchy":{"targetLocations":{"track":["properties"],"page":["properties"]}}},{"getPreviousPageProperties":{"targetLocations":{"page":["properties"]}}}]}')},378:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ee});var o={};n.r(o),n.d(o,{adobeFlag:()=>X,getAdobeAnalyticsId:()=>J,getAdobeIntegrationProperties:()=>Y,getBrowserProperties:()=>Z,getCcpaGdprPreferences:()=>ee,getCookieProperties:()=>z,getIvid:()=>Q,getTrackingLibrary:()=>te});var r={};n.r(r),n.d(r,{default:()=>oe});var i={};n.r(i),n.d(i,{default:()=>ie});var a={};n.r(a),n.d(a,{buildCleanURL:()=>ce,default:()=>pe,getPreviousPageProperties:()=>se});const c={PROD:"prod",QA:"qa",DEV:"dev",GOLDEN:"golden",PREPROD:"preprod",E2E:"e2e",TEST:"test"},s={CG:"cg",CMO:"cmo",CS:"cs",CTO:"cto",IIP:"iip",PTG:"ptg",SBSEG:"sbseg"},p={CARE:"care",MKTG:"mktg",IDENTITY:"identity",PROD:"prod"},l={ACCT_COMM:"acct_comm",APPSCOM:"appscom",CAPITAL:"capital",CORP:"corp",CPP:"cpp",DESKTOP:"desktop",DEVELOPER:"developer",DEVX:"devx",IDENTITY:"identity",IDX:"idx",IEP:"iep",INSURANCE:"insurance",ITO:"ito",LACERTE:"lacerte",LIFELINE:"lifeline",MINT:"mint",MKTG_SITE:"mktg_site",MYACCT:"myacct",PAYMENTS:"payments",PAYROLL:"payroll",PF_COMM:"pf_comm",PROSERIES:"proseries",QB:"mktg_site",QBLIVE:"qblive",QBM:"qbm",QBMONEY:"qbmoney",QBO:"qbo",QBOA:"qboa",QBSE:"qbse",SBX_ACCT:"sbx_acct",SBX_TP:"sbx_tp",SALESFORCE:"salesforce",TURBO:"turbo",TURBOTAX:"turbotax",TXP:"txp",TXP_BLOG:"txp_blog"},d=e=>!e||("string"==typeof e?!e.trim():0===Object.keys(e).length),g=function e(){const t=e=>e&&"object"==typeof e;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return o.reduce(((n,o)=>{const r=n;return Object.keys(o).forEach((n=>{const i=r[n],a=o[n];t(i)&&t(a)?r[n]=e(i,a):r[n]=a})),r}),{})},u=e=>{if(d(e))return null;const t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)")));return t?t[1]:null},m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=Object.assign({},{path:"/"},n);n.expires&&o.expires.toUTCString&&(o.expires=o.expires.toUTCString());let r="".concat(e,"=").concat(t);Object.keys(o).forEach((e=>{r+="; ".concat(e);const t=o[e];!0!==t&&(r+="=".concat(t))})),document.cookie=r},_=(e,t)=>{if(!e||!t)return"";let n="";const o=u(encodeURIComponent(e));return o&&(n=t.test(o)?o.match(t)[1]:""),n},f=Math.floor(Date.now()/1e3);function v(e,t){let n;n=t||window.location.href;let o=e;o=o.replace(/\[\[\]]/g,"\\$&");const r=new RegExp("[?&]".concat(o,"(=([^&#]*)|&|#|$)")).exec(n);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}const h="WARN",b="INFO",y="ERROR",w={env:"e2e"},E=["Intuit.data.entdataproc.trackingcoreclient"];function k(e,t,n,o){const r=window.location.href,i=r?encodeURI(r):r,a={timestamp:"".concat(f),destination:[]};o&&E.length>1?a.destination.push(E):delete a.destination;const s="7afa70fe-f1cc-11e7-8c3f-9a214cf093ae",p=[{eventTypes:"APPLICATION_CLIENT",spanId:s,parentSpanId:s,rootSpanId:s,transactionId:"tid1",env:n,deviceId:"DeviceId1",logType:e,appId:"appId1",component:"component",url:i,userId:"tracking-core",oilProps:a,execTimeMs:100,Message:t}];let l="",d="";n===c.PROD?(l="https://logging.api.intuit.com/v2/log/message",d="prdakyreswUFDpkOPDkky63TSWvxZbtemfYVms81"):(l="https://logging-e2e.api.intuit.com/v2/log/message",d="preprdakyresz2gpZDwp9KzTheG1DMvZ5C5Zdf4n"),fetch(l,{method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json",Authorization:"Intuit_APIKey intuit_apikey=".concat(d,", intuit_apkey_version=1.0"),"-X-APPID":"'".concat("Intuit.data.entdataproc.trackingcoreclient","'"),"-X-DEVICEID":"a","-X-INTUIT_TID":"a"}}).then((e=>{if(!e.ok)throw new Error("Error during logging with status code: ".concat(e.status))})).catch((e=>{console.log(e)}))}const C=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=JSON.stringify(t);w.env===c.PROD?e===y&&k(e,o,w.env,n):k(e,o,w.env,n);const r=v("debug");"1"===r&&console.log(o)},O={"4.0":"|",3.3:";"},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"3.3";const t=O[e];let n="";const o=window.navigator.plugins;try{if(o){for(let e=0;e<o.length;e+=1)n+="".concat(o[e].name).concat(t);n=n.slice(0,n.length-1)}}catch(e){C(h,{fileName:"browserUtils.js",methodName:"getBrowserPlugins",trackingApplication:"tracking-core",msg:"Error while getting browser plugins"})}return n},I=()=>{const e=document.getElementsByTagName("html");return e&&e[0]&&e[0].getAttribute("lang")?e[0].getAttribute("lang"):null},A=e=>{let t=null;if(e&&window.location){const n=window.location.search.match(new RegExp("[?&]".concat(e,"=([^&]+)(&|$)"),"i"));n&&n[1]&&(t=decodeURIComponent(n[1].replace(/\+/gi," ")))}return t};function S(){return window.Visitor?Visitor.getInstance("969430F0543F253D0A4C98C6@AdobeOrg",{trackingServer:"ci.intuit.com",trackingServerSecure:"sci.intuit.com",marketingCloudServer:"ci.intuit.com",marketingCloudServerSecure:"sci.intuit.com"}):null}const D=[{ORG:s.SBSEG,PURPOSE:p.MKTG,SCOPE:l.MKTG_SITE},{ORG:s.CG,PURPOSE:p.MKTG,SCOPE:l.TURBOTAX}];let T=null;const x=e=>{const t={},n=(e=>({pseudonym_id:e===c.PROD?"qbn.uidp":"qbn.ptc.uidp",adobe_fid:"s_fid"}))(e);return Object.keys(n).forEach((e=>{let o;const r=n[e];"string"==typeof r?(o=u(r),o&&(t[e]=o)):"object"==typeof r&&(o=u(r.name),o&&(t[e]=r.method(o)))})),t},N=e=>{const t={},n={browser_encoding:window.document.characterSet,browser_height:window.innerHeight,browser_java_enabled:window.navigator.javaEnabled(),browser_plugins:P(),browser_width:window.innerWidth,locale:window.navigator.language,screen_color_depth:window.screen.colorDepth,url_host_name:window.location.hostname,url_query_param:window.location.search.slice(1),campaign:A("s_cid")||A("cid")||"",browser_cookies_enabled:window.navigator.cookieEnabled,screen_height:window.screen.height,screen_width:window.screen.width,page_language:I()};return e?(t[e]=n[e],t):(Object.keys(n).forEach((e=>{t[e]=n[e]})),t)},j=e=>{const t=S();let n="";return t&&(n=t.getAnalyticsVisitorID()),n||(n=_(e,/\[CS\]v1\|([0-9A-F-]*)\[CE\]/)),n},L=e=>{const t=S();let n="";return t&&(n=t.getMarketingCloudVisitorID()),n||(n=_(e,/MCMID%7C(\d+)/)),n},R=(e,t,n)=>{const o=Object.assign({},e);if(n){const e=(e=>{const t={},n=j("s_vi"),o={mcid:L(e),imsregion:(e=>{const t=S(),n=/MCAAMLH-\d+%7C(\d+)/;let o=null;if(t&&(o=t.getLocationHint()),!o){const t=_(e,n);o=t?parseInt(t,10):null}return o})(e),visitId:n};return d(o)||(o.mcid&&(t.marketingCloudVisitorId=o.mcid),o.imsregion&&(t.imsregion=o.imsregion),o.visitId&&(t.visitorId=o.visitId)),d(t)?void 0:t})("AMCV_969430F0543F253D0A4C98C6@AdobeOrg");d(e)||(o["Adobe Analytics"]=Object.assign({},e,o["Adobe Analytics"]))}const r=(()=>{let e="";return d("")||(e={email:""}),e})();return d(r)||(o.Eloqua=Object.assign({},r,o.Eloqua)),o},M=(e,t)=>{const n=(t&&!d(t.environment)?t.environment:null)||(t&&!d(t.env)?t.env:null)||(e&&!d(e.environment)?e.environment:null)||(e&&!d(e.env)?e.env:null);return n||C(h,{fileName:"environmentHelper.js",methodName:"getEnvironment",trackingApplication:"tracking-core",msg:"env not passed by the application"}),n||"e2e"},V={prod:{apiKey:"prdakyreswUFDpkOPDkky63TSWvxZbtemfYVms81",endpoint:"https://intuitvisitorid.api.intuit.com",ividEnable:!0},e2e:{apiKey:"preprdakyresz2gpZDwp9KzTheG1DMvZ5C5Zdf4n",endpoint:"https://intuitvisitorid-e2e.api.intuit.com",ividEnable:!0},default:{apiKey:"preprdakyresz2gpZDwp9KzTheG1DMvZ5C5Zdf4n",endpoint:"https://intuitvisitorid-e2e.api.intuit.com",ividEnable:!0}},F=async(e,t)=>{let n=V[e]?V[e].endpoint:V.default.endpoint;const o=V[e]?V[e].apiKey:V.default.apiKey;n+="/v1/",d(t)||(n+="?ivid=".concat(t));const r={headers:{Authorization:"Intuit_APIKey intuit_apikey=".concat(o,", intuit_apikey_version=1.0"),Accept:"application/json"},credentials:"include"};return fetch(n,r)},U=()=>{let e=0;return Object.entries(localStorage).forEach((t=>{let[n,o]=t;e+=2*(n.length+o.length)})),e};function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2?arguments[2]:void 0;for(var o=arguments.length,r=new Array(o>3?o-3:0),i=3;i<o;i++)r[i-3]=arguments[i];return new Promise((o=>{n||o(-1);let i=0;if(n(...r))i+=1,o(i);else{const a=setInterval((()=>{i+=1,n(...r)&&(clearInterval(a),o(i)),i===e&&(clearInterval(a),o(i))}),t)}}))}const G=e=>new Promise((t=>setTimeout(t,e))),K=(e,t,n)=>{const o="IVID sync service returned error: ".concat(n,". remaining attempts: ").concat(t,".");C(e,{fileName:"ividServiceHelper.js",methodName:"exponentialBackoff",trackingApplication:"tracking-core",error:o})},q=function e(t,n,o){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];o(...i).then((e=>{if(!e.ok)throw Error("HTTP ".concat(e.status," ").concat(e.statusText));if(sessionStorage.setItem("ividEchoed",i[1]),U()<4096e3)try{localStorage.setItem("ividEchoed",i[1])}catch(e){}const t=i[1];let n;e&&(n=e.headers.get("intuit_tid"));const o="intuit_tid: ".concat(n,", associates with ivid: ").concat(t);C(b,{fileName:"ividServiceHelper.js",methodName:"exponentialBackoff",trackingApplication:"tracking-core",msg:o})})).catch((r=>{d(u("ivid"))?t>0?(K(h,t,r.message),G(n).then((()=>{e(t-1,2*n,o,...i)}))):K(y,t,r.message):u("ivid")===i[1]&&sessionStorage.setItem("ividEchoed",i[1])}))};let H=!1;const W=e=>{let t=u("ivid")||u("provisional_ivid");if(V[e]?V[e].ividEnable:V.default.ividEnable){const n=sessionStorage.getItem("ividEchoed")||localStorage.getItem("ividEchoed");let o=!1;d(t)?(t=(()=>{const e=(()=>{let e,t,n;const o=[],r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);for(let e=0;e<256;++e)o[e]=(e+256).toString(16).substr(1);r?(t=new Uint8Array(16),e=()=>(r(t),t)):(n=new Array(16),e=()=>{for(let e,t=0;t<16;t+=1)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n});const i=e();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,((e,t)=>{let n=0;const r=o;return"".concat(r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]],"-").concat(r[e[n++]]).concat(r[e[n++]],"-").concat(r[e[n++]]).concat(r[e[n++]],"-").concat(r[e[n++]]).concat(r[e[n++]],"-").concat(r[e[n++]]).concat(r[e[n++]]).concat(r[e[n++]]).concat(r[e[n++]]).concat(r[e[n++]]).concat(r[e[n++]])})(i)})();let t=new Date(Date.now()+15768e7);t=t.toUTCString();const n=window.location.hostname.match(/([^.]+)\.\w{2,3}(?:\.\w{2})?$/),o={expires:t,domain:d(n)?"intuit.com":n[0]};return(e=>{const t=[/\(iP.+; CPU .*OS 12[_\d]*.*\) AppleWebKit\//,/^.*Macintosh;.*Mac OS X 10_14.*Version.*Safari.*$/,/(Chromium|Chrome)\/(5[1-9]|6[0-6])\.(\d+)(?:\.(\d+)|)(?:\.(\d+)|)/,/UCBrowser\/[0-9][0-1]?.(\d+)\.(\d+)[\.\d]*!/,/UCBrowser\/12.[0-9][0-2]?.(\d+)[\.\d]*!/,/UCBrowser\/12.13.[0-2][\.\d]*/,/(?:\b(MS)?IE\s+|\bTrident\/7\.0;.*\s+rv:)(\d+)/,/\bMSIE\s+7\.0;.*\bTrident\/(\d+)\.0/];for(let n=0;n<t.length;n+=1){const o=t[n];if(null!==e.match(o))return!1}return!0})(window.navigator.userAgent)&&(o.SameSite="None",o.secure=!0),m("provisional_ivid",e,o),e})(),o=!0):d(u("ivid"))&&!d(u("provisional_ivid"))&&(o=!0),H||!o&&n===t||(q(3,1e3,F,e,t),H=!0)}return t};function $(e){if(e){const t=e.match(/mesg1%3D(.+)/);return t&&t[1]?decodeURIComponent(t[1]):""}return""}let X=!1;const Z=e=>{const t=e?N(e):N();return d(t)?{}:t},z=(e,t)=>{const n={},o=x(t.env);if(!d(o)){if(e){if("aam_segment_ids"===e)if(t.org===s.CG){const e=$(u("aam_aud")),t=$(u("aam_aud2"));d(e)||d(t)?d(e)?n.aam_segment_ids=t:n.aam_segment_ids=e:n.aam_segment_ids="".concat(e,":").concat(t)}else{const e=$(u("aam_qbca")),t=$(u("aam_qbuk")),o=$(u("aam_qbus")),r=$(u("aam_qbau"));let i="";d(e)||(i=d(i)?e:"".concat(i,":").concat(e)),d(t)||(i=d(i)?t:"".concat(i,":").concat(t)),d(o)||(i=d(i)?o:"".concat(i,":").concat(o)),d(r)||(i=d(i)?r:"".concat(i,":").concat(r)),n.aam_segment_ids=i}else n[e]=o[e];return n}return o}return{}},Y=()=>(X=!0,X),Q=e=>{const t=W(e.env);return d(t)?{}:{ivid:t}},J=()=>{const e={},t=S();return t&&(e.adobe_aid=t.getAnalyticsVisitorID()),d(e)?void 0:e},ee=()=>{const e={},t=u("ccpa"),n=u("gdpr"),o=u("ENSIGHTEN_PRIVACY_Advertising");if(d(t))d(o)||(e.prefs_advertising_ccpa=Number(o));else{const[n,o]=t.split("|");e.prefs_essential_ccpa=Number(n),e.prefs_advertising_ccpa=Number(o)}if(!d(n)){const[t,o,r,i]=n.split("|");e.prefs_essential_gdpr=Number(t),e.prefs_advertising_gdpr=Number(o),e.prefs_performance_gdpr=Number(r),e.prefs_functional_gdpr=Number(i)}return e},te=e=>{const t={};return e&&e.options&&e.options.context&&e.options.context.tracking_library&&"object"==typeof e.options.context.tracking_library?t.tracking_library=e.options.context.tracking_library:t.tracking_library={},t.tracking_library["tracking-core"]="2.11.8",t};function ne(e,t,n){const o={options:{context:{}}},r={properties:o,traits:o,context:o.options.context};if(t)e.forEach((e=>{if("object"==typeof e)Object.keys(e).forEach((o=>{const i=e[o].parameterValues,a=t[o],c=e[o].targetLocations,s=n?n.type:void 0;let p;const l=e=>{"object"!=typeof e||d(p)||p.forEach((t=>{Object.assign(r[t],e)}))};if(p=d(s)?c[Object.keys(c)[0]]:Object.prototype.hasOwnProperty.call(c,s)?c[s]:null,"function"!=typeof a||d(p)){const e="NOT FOUND: ".concat(o,". Does a tracking-core function need to be implemented?");C(h,{fileName:"orchestratorHelper.js",methodName:"runFunctionsOnConfig",trackingApplication:"tracking-core",msg:e})}else if(i&&i.length>0)i.forEach((e=>{const t=a(e,n);l(t)}));else{const e=a(n);l(e)}}));else{const t="NOT FOUND: ".concat(e,". Does a tracking-core function need to be implemented?");C(h,{fileName:"orchestratorHelper.js",methodName:"runFunctionsOnConfig",trackingApplication:"tracking-core",msg:t})}}));else{const e="Function module: ".concat(t," has falsy value. Please verify");C(h,{fileName:"orchestratorHelper.js",methodName:"runFunctionsOnConfig",trackingApplication:"tracking-core",msg:e})}return o}const oe={getBrowserPluginsWithSemiColon:()=>{const e=P("3.3");return{browser_plugins:"".concat(e)}}},re="4.0",ie={getBrowserPluginsWithPipe:()=>{const e=P("4.0");return{browser_plugins:"".concat(e)}},getCookieProperties:(e,t)=>{const n={},o=x(t.env);return d(o)?{}:e?(n[e]=o[e],n):o},getIvid:e=>{const t=e.ivid||W(e.env);return d(t)?{}:{ivid:t}},getTimezone:()=>({timezone:Intl&&Intl.DateTimeFormat?Intl.DateTimeFormat().resolvedOptions().timeZone:"notSupported"})},ae=e=>{const t=["","","","",""];return e?(t[0]=e.org?e.org.toLowerCase():"",t[1]=e.purpose?e.purpose.toLowerCase():"",t[2]=e.scope?e.scope.toLowerCase():"",t[3]=e.scope_area?e.scope_area.toLowerCase():"",t[4]=e.screen?e.screen.toLowerCase():"",{page_hierarchy:t.join("|")}):{}},ce=()=>{return{url_clean:window.location.host.concat((e=window.location.pathname,e.replace(/\/+$/,"")))};var e},se=e=>{let t="";const n=u("pageProperties");return d(n)||(t=n),m("pageProperties",(e=>{let t="";const n=ce(),o=ae(e);return t="".concat(e&&e.path?e.path:"","$"),t+="".concat(n&&n.url_clean?n.url_clean:"","$"),t+="".concat(e&&e.screen?e.screen:"","$"),t+="".concat(e&&e.url_host_name?e.url_host_name:"","$"),t+="".concat(o&&o.page_hierarchy?o.page_hierarchy:"","$"),t+="".concat(e&&e.page_hierarchy_extended?e.page_hierarchy_extended:""),t})(e),{domain:"intuit.com"}),(e=>{if(e){const[t,n,o,r,i,a]=e.split("$"),c={};return d(t)||(c.path_previous=t),d(n)||(c.url_clean_previous=n),d(o)||(c.screen_previous=o),d(r)||(c.url_host_name_previous=r),d(i)||(c.page_hierarchy_previous=i),d(a)||(c.page_hierarchy_extended_previous=a),c}return{}})(t)},pe={getPageHierarchy:ae,buildCleanURL:ce,getPreviousPageProperties:se},le=n(8435);let de=[],ge=!1;function ue(e,t){const n=e.ivid||W(t);let o=Object.assign({},e);o.options=o.options||{},o.options=((e,t,n)=>{const o=Object.assign({},e);o.anonymousId=o.anonymousId||t;const r=o.integrations||{},i=R(r);return o.integrations=i,o})(o.options,n);const r=o.options&&o.options.integrations||{},i=R(r,0,X);return d(i)||(o.options.integrations=i),o=(e=>{const t=Object.assign({},e);return Object.keys(t).forEach((e=>{void 0!==t[e]&&null!==t[e]&&""!==t[e]||delete t[e]})),t})(o),(e=>{let t=!1;return e&&e.org&&e.purpose&&e.scope&&(t=D.some((t=>t.ORG===e.org&&t.PURPOSE===e.purpose&&t.SCOPE===e.scope))),t})(o)&&(e=>{let t="",n="";const o={};if(!d(e&&e.options&&e.options.integrations)){const o=e.options.integrations["Adobe Analytics"];d(o)||(t=o.visitorId,n=o.marketingCloudVisitorId)}d(t)&&(o.visitId="missing"),d(n)&&(o.mcId="missing"),d(o)||(e.ivid&&(o.ivid=e.ivid),C(y,{fileName:"logHelper.js",methodName:"logPayloadErrors",trackingApplication:"tracking-core",validateObj:o},!0))})(o),o}const me=n(8435),_e=/\d+\.\d+/;function fe(e){const t=Object.keys(me);for(let n=0;n<t.length;n+=1)if(_e.test(t[n])&&t[n]===e)return!0;return!1}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ye={FCP:"page_timing_first_contentful_paint",FID:"page_timing_first_input_delay",LCP:"page_timing_largest_contentful_paint",CLS:"page_timing_cumulative_layout_shift"},we={FID:!0,LCP:!0,FCP:!0},Ee={constants:{enumEnv:c,enumOrg:s,enumPurpose:p,enumScope:l,enumUIAction:{CHANGED_SELECTION:"changed selection",CLICKED:"clicked",CLICKING:"clicking",DRAGGED:"dragged",DRAGGED_AND_DROPPED:"dragged and dropped",ENTERED:"entered",ERROR:"error",HIDDEN:"hidden",HOVERED_OVER:"hovered over",KEYPRESSED:"keypressed",SELECTED:"selected",SLID:"slid",STARTED:"started",TOGGLED:"toggled",UNSELECTED:"unselected",VIEWED:"viewed",INTERACTED:"interacted"}},getECSPayload:function(e,t){let n={},c=null;t&&(n=Object.assign({},{org:t.org,purpose:t.purpose,scope:t.scope}),t.segment&&({oilClientAssetAlias:c}=t.segment)),Object.assign(n,e);const s=M(e,t);if(w.env=s,!d(c)&&E.indexOf(c)<0&&E.push(c),n.page_category_parameter=n.page_category_parameter||n.scope_area,n.page_name_parameter=n.page_name_parameter||n.screen,n.platform="web",!n.event&&"track"===n.type){const e=n.action?n.action:"unknown",t=n.object?n.object:"unknown";n.event="".concat(t,":").concat(e)}return function(e,t){const n=M(e,t),c=new Date,s=c-10100;de.filter((e=>e<s)).length>0&&C(h,{fileName:"orchestrator.js",methodName:"getPayloadForECSVersion",trackingApplication:"tracking-core",msg:"Old calls found in callsInProgress array"}),de=de.filter((e=>e>s)),de.push(c),t&&t.linkClick&&(ge={applicationContext:t});let p,l=e;e&&e.options&&e.options.context&&e.options.context.enriched_ecs_version?p=e.options.context.enriched_ecs_version:C(h,{fileName:"orchestrator.js",methodName:"getPayloadForECSVersion",trackingApplication:"tracking-core",msg:"parameterECSPayload.options.context.enriched_ecs_version does not exist"});const m=t&&t.segment&&t.segment.loadAdobeVisitorAPI;l.env=n;const _=function(e){const t={},n=ne(le.common||[],o,e);return Object.assign(t,n),t}(l);l=g(l,_);const f=le[p],v=e=>0===de.filter((t=>t<e)).length;return new Promise(((e,o)=>{const s=[];"true"!==sessionStorage.getItem("trackingAlreadyWaitedForDataOnce")?(sessionStorage.setItem("trackingAlreadyWaitedForDataOnce","true"),"prod"!==l.env.toLowerCase()&&sessionStorage.setItem("trackingWaitedThisTime","true"),(window.Visitor||m)&&X&&(s.push(B(10,1e3,L,"AMCV_969430F0543F253D0A4C98C6@AdobeOrg")),s.push(B(10,1e3,j,"s_vi")))):"prod"!==l.env.toLowerCase()&&sessionStorage.removeItem("trackingWaitedThisTime"),s.push(B(10,1e3,v,c));const _=B(50,200,(()=>!!ge)),b=e=>{de.indexOf(e,0)>-1?de.splice(de.indexOf(e,0),1):(de.splice(0),C(h,{fileName:"orchestrator.js",methodName:"getPayloadForECSVersion",trackingApplication:"tracking-core",msg:"call cannot be found in callsInProgress array"}))};window.addEventListener("beforeunload",(()=>{w.env=n,e(ue(l,n))})),Promise.race([Promise.all(s),_]).then((()=>{if(((e,t)=>window.ixp&&"page"===e.type&&t&&"track-star"===t.source)(l,t)){const e=(()=>{let e={};const t=u("ixp_xt");if(window.ixp&&window.ixp.xt){const t=window.ixp.xt;e=Object.assign({},{experiment_ids:t})}else d(t)||(e=Object.assign({},{experiment_ids:t}));return e})();l=Object.assign({},e,l)}let o;"3.3"===p?o=r:p===re?o=i:"4.1"===p&&(o=a);const s=function(e,t,n){const o={};if(t&&t.default){const r=ne(e,t.default,n);Object.assign(o,r)}else C(h,{fileName:"orchestrator.js",methodName:"getECSProperties",trackingApplication:"tracking-core",msg:"ecs_version was not specified"});return o}(f,o,l);l=g(l,s),l.options=l.options||{},"prod"!==l.env.toLowerCase()&&(l.trackingTimestamp={callTime:c,resolveTime:new Date}),e(ue(l,n)),b(c)})).catch((e=>{b(c),o(e)}))}))}(function(e){let t="";const n=Object.assign({},e);return n.options=n.options||{},n.options.context=n.options.context||{},t+="in context,",n.options.context.ecs_version?fe(n.options.context.ecs_version)?(n.options.context.enriched_ecs_version=n.options.context.ecs_version,t+="and is supported"):(t+="but is not supported. Using default",n.options.context.enriched_ecs_version=me.default_version):n.ecs_version?(t+="Version was provided in properties",n.options.context.ecs_version=n.ecs_version,fe(n.ecs_version)?(n.options.context.enriched_ecs_version=n.ecs_version,t+="and supported. "):(n.options.context.enriched_ecs_version=me.default_version,t+="Defaulting to ".concat(n.options.context.enriched_ecs_version,". "))):(n.options.context.enriched_ecs_version=me.default_version,t+="No ecs_version found in properties or options.context. Defaulting to ".concat(n.options.context.enriched_ecs_version,"."),C(h,{fileName:"versioningHelper.js",methodName:"handleIncomingVersion",trackingApplication:"tracking-core",msg:t})),n.scope&&n.scope.toLowerCase()===l.TURBOTAX&&(n.options.context.enriched_ecs_version=re),n}(n),t)},getAdobeVisitorInstance:function(e){if(d(e))return void C(h,{fileName:"webAnalytics.js",methodName:"getAdobeVisitorInstance",trackingApplication:"tracking-core",msg:"Env cannot be empty or null"});let t=null;return t="PROD"===e.toUpperCase()?"https://uxfabric.intuitcdn.net/analytics/prod/visitorapi.min.js":"https://uxfabric.intuitcdn.net/analytics/staging/visitorapi.min.js",new Promise(((e,n)=>{(function(e){const t=document.createElement("script");t.type="text/javascript",t.src=e;const n=document.getElementsByTagName("script")[0];return n?n.parentNode.insertBefore(t,n):document.documentElement.firstElementChild.appendChild(t),new Promise(((n,o)=>{t.onload=()=>{n("done")},t.onerror=()=>{const t="Error while loading script ".concat(e);C(h,{fileName:"browserUtils.js",methodName:"loadScript",trackingApplication:"tracking-core",msg:t}),o()}}))})(t).then((()=>{const t={marketingCloudVisitorID:Visitor.getInstance("969430F0543F253D0A4C98C6@AdobeOrg",{trackingServer:"ci.intuit.com",trackingServerSecure:"sci.intuit.com",marketingCloudServer:"ci.intuit.com",marketingCloudServerSecure:"sci.intuit.com"}).getMarketingCloudVisitorID()};e(t)})).catch((()=>{C(y,{fileName:"webAnalytics.js",methodName:"getAdobeVisitorInstance",trackingApplication:"tracking-core",error:"Unexpected Error while loading Adobe Visitor API JS"}),n("error")}))}))},disableMcidStorageForTest:function(){T=null},getEcsRumData:e=>new Promise(((t,n)=>e?(e.addDataCallback({callBackFn:e=>{e||n(e),t((e=>{if(!e)return{};const t={},n={},o={};return e&&Array.isArray(e.marks)&&e.marks.forEach((e=>{e.markName&&(n[e.markName]=e.value)})),e&&Array.isArray(e.metrics)&&e.metrics.forEach((e=>{if(e.metricName&&ye[e.metricName]){let n;n=we[e.metricName]?Math.round(e.value):"CLS"===e.metricName?Number(e.value.toFixed(2)):e.value;const o=ye[e.metricName];t[o]=n}})),o.page_timing_first_byte=Math.round(n.responseStart-(n.navigationStart||0))||null,o.page_timing_dom_ready=Math.round(n.domContentLoadedEventStart-(n.navigationStart||0))||null,o.page_timing_total_time=Math.round(n.loadEventEnd-(n.navigationStart||0))||null,o.page_timing_html_download=Math.round(n.responseEnd-n.navigationStart)||null,o.page_timing_dom_building=Math.round(n.domContentLoadedEventStart-n.responseEnd)||null,o.page_timing_resource_fetch=Math.round(n.loadEventEnd-n.domContentLoadedEventStart)||null,he(he({},t),o)})(e))},maxWaitTimeMs:1e4,requiredMarks:["domInteractive","responseStart","domContentLoadedEventStart","loadEventEnd","responseEnd","navigationStart"],requiredMetrics:["FCP","FID","LCP","CLS"]}),null):n(Error("No rum reporter provided"))))}}}]);
//# sourceMappingURL=378.js.map