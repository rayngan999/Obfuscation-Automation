var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(c,k,m){if(null==c)throw new TypeError("The 'this' value for String.prototype."+m+" must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype."+m+" must not be a regular expression");return c+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,k,m){c!=Array.prototype&&c!=Object.prototype&&(c[k]=m.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,k,m,e){if(k){m=$jscomp.global;c=c.split(".");for(e=0;e<c.length-1;e++){var g=c[e];g in m||(m[g]={});m=m[g]}c=c[c.length-1];e=m[c];k=k(e);k!=e&&null!=k&&$jscomp.defineProperty(m,c,{configurable:!0,writable:!0,value:k})}};
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(c,m){var e=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var g=e.length,k=c.length;m=Math.max(0,Math.min(m|0,e.length));for(var t=0;t<k&&m<g;)if(e[m++]!=c[t++])return!1;return t>=k}},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(c){return c?c:function(c){var k=$jscomp.checkStringArgs(this,null,"repeat");if(0>c||1342177279<c)throw new RangeError("Invalid count value");c|=0;for(var e="";c;)if(c&1&&(e+=k),c>>>=1)k+=k;return e}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var c=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+c++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(c){var k=0;return $jscomp.iteratorPrototype(function(){return k<c.length?{done:!1,value:c[k++]}:{done:!0}})};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var k=c[Symbol.iterator];return k?k.call(c):$jscomp.arrayIterator(c)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function k(){this.batch_=null}function m(c){return c instanceof g?c:new g(function(e,t){e(c)})}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;k.prototype.asyncExecute=function(c){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(c);return this};k.prototype.asyncExecuteBatch_=function(){var c=this;this.asyncExecuteFunction(function(){c.executeBatch_()})};var e=$jscomp.global.setTimeout;k.prototype.asyncExecuteFunction=function(c){e(c,
0)};k.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var c=this.batch_;this.batch_=[];for(var e=0;e<c.length;++e){var g=c[e];delete c[e];try{g()}catch(q){this.asyncThrow_(q)}}}this.batch_=null};k.prototype.asyncThrow_=function(c){this.asyncExecuteFunction(function(){throw c;})};var g=function(c){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{c(e.resolve,e.reject)}catch(r){e.reject(r)}};g.prototype.createResolveAndReject_=
function(){function c(c){return function(n){g||(g=!0,c.call(e,n))}}var e=this,g=!1;return{resolve:c(this.resolveTo_),reject:c(this.reject_)}};g.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof g)this.settleSameAsPromise_(c);else{a:switch(typeof c){case "object":var e=null!=c;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};g.prototype.resolveToNonPromiseObj_=function(c){var e=
void 0;try{e=c.then}catch(r){this.reject_(r);return}"function"==typeof e?this.settleSameAsThenable_(e,c):this.fulfill_(c)};g.prototype.reject_=function(c){this.settle_(2,c)};g.prototype.fulfill_=function(c){this.settle_(1,c)};g.prototype.settle_=function(c,e){if(0!=this.state_)throw Error("Cannot settle("+c+", "+e|"): Promise already settled in state"+this.state_);this.state_=c;this.result_=e;this.executeOnSettledCallbacks_()};g.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var c=
this.onSettledCallbacks_,e=0;e<c.length;++e)c[e].call(),c[e]=null;this.onSettledCallbacks_=null}};var l=new k;g.prototype.settleSameAsPromise_=function(c){var e=this.createResolveAndReject_();c.callWhenSettled_(e.resolve,e.reject)};g.prototype.settleSameAsThenable_=function(c,e){var g=this.createResolveAndReject_();try{c.call(e,g.resolve,g.reject)}catch(q){g.reject(q)}};g.prototype.then=function(c,e){function k(c,e){return"function"==typeof c?function(e){try{m(c(e))}catch(f){l(f)}}:e}var m,l,n=new g(function(c,
e){m=c;l=e});this.callWhenSettled_(k(c,m),k(e,l));return n};g.prototype.catch=function(c){return this.then(void 0,c)};g.prototype.callWhenSettled_=function(c,e){function g(){switch(k.state_){case 1:c(k.result_);break;case 2:e(k.result_);break;default:throw Error("Unexpected state: "+k.state_);}}var k=this;null==this.onSettledCallbacks_?l.asyncExecute(g):this.onSettledCallbacks_.push(function(){l.asyncExecute(g)})};g.resolve=m;g.reject=function(c){return new g(function(e,g){g(c)})};g.race=function(c){return new g(function(e,
g){for(var k=$jscomp.makeIterator(c),l=k.next();!l.done;l=k.next())m(l.value).callWhenSettled_(e,g)})};g.all=function(c){var e=$jscomp.makeIterator(c),k=e.next();return k.done?m([]):new g(function(c,g){function l(e){return function(f){n[e]=f;q--;0==q&&c(n)}}var n=[],q=0;do n.push(void 0),q++,m(k.value).callWhenSettled_(l(n.length-1),g),k=e.next();while(!k.done)})};return g},"es6","es3");$jscomp.owns=function(c,k){return Object.prototype.hasOwnProperty.call(c,k)};
$jscomp.polyfill("Object.assign",function(c){return c?c:function(c,m){for(var e=1;e<arguments.length;e++){var g=arguments[e];if(g)for(var k in g)$jscomp.owns(g,k)&&(c[k]=g[k])}return c}},"es6","es3");$jscomp.iteratorFromArray=function(c,k){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var m=0,e={next:function(){if(m<c.length){var g=m++;return{value:k(g,c[g]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");$jscomp.polyfill("String.prototype.endsWith",function(c){return c?c:function(c,m){var e=$jscomp.checkStringArgs(this,c,"endsWith");c+="";void 0===m&&(m=e.length);m=Math.max(0,Math.min(m|0,e.length));for(var g=c.length;0<g&&0<m;)if(e[--m]!=c[--g])return!1;return 0>=g}},"es6","es3");
$jscomp.polyfill("Object.is",function(c){return c?c:function(c,m){return c===m?0!==c||1/c===1/m:c!==c&&m!==m}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(c,m){var e=this;e instanceof String&&(e=String(e));var g=e.length;for(m=m||0;m<g;m++)if(e[m]==c||Object.is(e[m],c))return!0;return!1}},"es7","es3");
$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(c,m){return-1!==$jscomp.checkStringArgs(this,c,"includes").indexOf(c,m||0)}},"es6","es3");var Z1=function(){};
Z1.prototype=function(){var c="",k="",m=!1,e="",g=!1,l=!1,t=!1,n=!1,r=null,q=[],u=!1,v="",y=30,F="minutes",E=!1,f=null,C=!1,z="",D="",A={},w={"z1.connection.timeout":3E3,"z1.disable.sdk.on.error":!1};_enablePushNotification=function(a,b){(g=a)?(a=this.checkIfPushSubscriptionExists())?"serviceWorker"in navigator&&_webPush._sendNotificationAnalytics():_Session._isSessionConnecting===_Session._SessionStatus.DONE&&_initWebPush():_webPush._unsubscribe()};checkIfPushSubscriptionExists=function(){var a=
!1;if(null!=_localStorageGetItem("z1_push_subscription")||""!=_localStorageGetItem("z1_push_subscription")){var b=JSON.parse(_localStorageGetItem("z1_push_subscription")),d=_localStorageGetItem("z1_deviceId");if(b)for(devId in b)if(d&&""!=d){devId===d&&(a=!0);break}return a}};_printSdkVersion=function(){n&&console.log("ZineOne sdk version is : 4.192")};_setApiKey=function(a){c=a};_getApiKey=function(){return c};_setAccessToken=function(a){k=a};_getAccessToken=function(){return k};_setDomainName=function(a){e=
a};_setHostName=function(a){var b=e&&""!=e?e:"zineone.com";a&&""!=a?(_loader._hostName=a,_loader.URL_HOST="localhost"!==a.toLowerCase()?a+"."+b+"/":a+":8888/"):(a=_getApiKey().substring(0,_getApiKey().indexOf("@")),_loader.URL_HOST="zineone.com"!=b?"localhost"!==a.toLowerCase()?b+"/":a+":8888/":"localhost"!==a.toLowerCase()?a+"."+b+"/":a+":8888/")};_getHostName=function(){return _loader.URL_HOST};_generateUUID=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(b){var d=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?d:d&7|8).toString(16)})};_acceptLocation=function(a){console.log("Zineone: Location API deprecated from 3.1.6 onwards")};_isLocationEnabled=function(){return u};_initWebPush=function(){_webPush._init()};_getZ1Widget=function(){if(B)return B};_getInboxCount=function(a){f||(f=_Session,f.forceConnect());_loader.GET("c3/api/v1/chat/inboxCount?profileId="+f._profileId,{},{}).then(function(b){(b=JSON.parse(b))&&b.status&&"fail"===
b.status||a.call(this,{read:b.read,unread:b.count})},function(a){console.log("ZineOne API Failure : Failed to get the inbox count!")});return null};_getInfo=function(a){r=a};_fetchInboxData=function(){var a="";f||(f=_Session,f.forceConnect());a="c3/api/v1/chat/inbox?profileId="+f._profileId;var b=this;_loader.GET(a,{},{}).then(function(a){a=JSON.parse(a);b._onInboxDataSuccessful(a)},function(a){console.log("ZineOne API Failure: Failed to fetch inbox data!")})};_onInboxDataSuccessful=function(a){a=
{type:"appbox",message:a};if(B&&B.listener)B.listener.onMessage(a)};_showFAQ=function(){var a=navigator.language?navigator.language:navigator.browserLanguage?navigator.browserLanguage:navigator.userLanguage;a=a.split("-");a="c3/api/v1/faq?os=android&status=published&language="+a[0];""!=_getApiKey()?a+="&apikey="+_getApiKey():""!=_getAccessToken()&&(a+="&accesstoken="+_getAccessToken());var b=this;_loader.GET(a,{},{}).then(function(a){(a=JSON.parse(a))&&a.status&&"fail"===a.status||b._onFAQSuccessful(a)},
function(a){console.log("ZineOne API Failure: Failed to collect all FAQ items!")})};_onFAQSuccessful=function(a){for(var b=0;b<q.length;b++){var d=q[b];if(null!=d._listeners&&0<d._listeners.length)for(var p=0;p<d._listeners.length;p++){var c=f._massageData(a.faqs);d._listeners[p].onMessage({type:"faq",message:c})}}};_openSession=function(){f=_Session;f.forceConnect()};_onSetCustomerId=function(a){f||(f=_Session);f._shouldConnectWithKey("z1_cust_id",a)?f._getProfileKey()&&""!=f._getProfileKey()?f._getProfileKey()!=
a&&(f._connectInfo.customKey={},f._setProfileKey(a),f.forceConnect()):(f._setProfileKey(a),f.forceConnect()):(f._connectInfo.customKey={},f._setProfileKey(a),f._connect())};_onSetCustomKey=function(a,b){f||(f=_Session);f._connectInfo.customKey[a]=b;a=JSON.stringify(f._connectInfo.customKey);f._shouldConnectWithKey("z1_cust_key",a)?f.forceConnect():f._connect()};_createMessagingLayer=function(){h&&(h._clearContent(),h._hideContent());C=!1};_pushEvent=function(a,b){f||(f=_Session,f.forceConnect());
f._pushEvent(a,b)};_localStorageSetItem=function(a,b){try{A&&(A[a]=b),localStorage.setItem(a,b)}catch(d){console.log("ZineOne: Unable to write to localStorage, retaining information in SDK"),console.log(a),console.log(b)}};_localStorageGetItem=function(a){if(A&&A[a])return A[a];try{var b=localStorage.getItem(a);A&&(A[a]=b);return b}catch(d){console.log("ZineOne: Unable to get item "+a+" from localStorage")}};_webPush={_init:function(){""!=_getApiKey()?_loader._putApiKey(_Session.HEADER_APIKEY,_getApiKey()):
""!=_getAccessToken()&&_loader._putAccessToken(_Session.HEADER_ACCESSTOKEN,_getAccessToken());var a=_webPush;_loader.GET("c3/api/v1/pnwebconnect",{},{}).then(function(b){if(""!=b&&void 0!=b&&"{}"!=b){if(b=JSON.parse(b),!b||!b.status||"fail"!==b.status){b&&b.publicKey&&(a.pubKey=b.publicKey);b="";if((z=z&&""!=z?z:"/")&&""!=z){b=z.split("/");var d=b.length;b=""===b[0]&&""===b[d-1]?b.slice(1,d-1):""===b[0]?b.slice(1):""===b[d-1]?b.slice(0,d-1):b;b=0==b.length?b.join("/")+"z1sw.js":b.join("/")+"/z1sw.js"}z.startsWith("/")?
b=window.location.origin+"/"+b+"?profilekey="+f._profileId:(d=window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/")+1),b=window.location.origin+d+b+"?profilekey="+f._profileId);""!=_getApiKey()?b+="&apikey="+_getApiKey():""!=_getAccessToken()&&(b+="&accesstoken="+_getAccessToken()+"&hostName="+_loader._hostName);"serviceWorker"in navigator?(a._sendNotificationAnalytics(),navigator.serviceWorker.controller&&"activated"==navigator.serviceWorker.controller.state?_webPush._subscribe():
navigator.serviceWorker.register(b).then(a._initializeState.bind(a))):console.log("Service workers aren't supported in this browser.")}}else console.log("ZineOne Connection Failure : Failed to enable push! ")},function(a){console.log("ZineOne Connection Failure : Failed to enable push! ")})},_initializeState:function(){"showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?console.log("The user has blocked notifications."):"PushManager"in window?this._subscribe():
console.log("Push messaging isn't supported."):console.log("Notifications aren't supported.")},str2ab:function(a){for(var b=new ArrayBuffer(2*a.length),d=new Uint8Array(b),p=0,c=a.length;p<c;p++)d[p]=a.charCodeAt(p);return b},base64UrlToUint8Array:function(a){var b="=".repeat((4-a.length%4)%4);a=(a+b).replace(/\-/g,"+").replace(/_/g,"/");a=atob(a);b=new Uint8Array(a.length);for(var d=0;d<a.length;++d)b[d]=a.charCodeAt(d);return b},_subscribe:function(){navigator.serviceWorker.ready.then(function(a){a.pushManager.subscribe({userVisibleOnly:!0,
applicationServerKey:_webPush.base64UrlToUint8Array(_webPush.pubKey)}).then(function(a){if(a)return g=!0,_webPush._sendSubscriptionToServer(a)},function(a){n&&("denied"===Notification.permission?console.log("Permission for Notifications was denied"):console.log("Unable to subscribe to push.",a))})})},_sendSubscriptionToServer:function(a){var b=a.getKey?a.getKey("p256dh"):"",d=a.getKey?a.getKey("auth"):"";b=b?btoa(String.fromCharCode.apply(null,new Uint8Array(b))):"";d=d?btoa(String.fromCharCode.apply(null,
new Uint8Array(d))):"";a=a.endpoint;var p="c3/api/v1/pnregister";""!=_getApiKey()?p+="?apikey="+_getApiKey():""!=_getAccessToken()&&(p+="?accesstoken="+_getAccessToken());var c=_localStorageGetItem("z1_deviceId");if(null==c||""==c)c=_generateUUID(),_localStorageSetItem("z1_deviceId",c);var e={};e[c]=a;_localStorageSetItem("z1_push_subscription",JSON.stringify(e));e=f._getDeviceType();var g=this;_loader.POST(p,{pnRegId:a,keys:{p256dh:b,auth:d},deviceOS:"html5",deviceId:c,devicetype:e,browser:Z1.window.browserInfo.browser},
{}).then(function(a){g.onPNRegisterSuccessful(a)},function(a){console.log("ZineOne API Failure : Failed to register Service Worker endpoint ")});""!=_getApiKey()?g.sendMessage({apiKey:_getApiKey(),deviceId:c,customerId:f._connectInfo.customerId,profileKey:f._profileId}):""!=_getAccessToken()&&g.sendMessage({accesstoken:_getAccessToken(),hostName:_loader._hostName,deviceId:c,customerId:f._connectInfo.customerId,profileKey:f._profileId})},onPNRegisterSuccessful:function(){console.log("Successfully registered for push notification")},
_sendNotificationAnalytics:function(){navigator.serviceWorker.addEventListener("message",function(a){if(a.data)if(a.data.type&&"ACK"===a.data.type){h._type="push";var b=a.data.actionState&&""!=a.data.actionState?a.data.actionState:"reached";h._actionId=a.data.payload&&a.data.payload.pnContentWeb&&a.data.payload.pnContentWeb.actionId?a.data.payload.pnContentWeb.actionId:null;h._sendActionResponse(null,b)}else a.data.type&&"CTA"===a.data.type&&(h._type="push",h._deepLink=a.data.payload&&a.data.payload.pnContentWeb&&
a.data.payload.pnContentWeb.__link?a.data.payload.pnContentWeb.__link:null,h._onAction(null,h._deepLink))})},sendMessage:function(a){return new Promise(function(b,d){if(navigator.serviceWorker.controller){var p=new MessageChannel;p.port1.onmessage=function(a){a.data.error?d(a.data.error):b(a.data)};try{navigator.serviceWorker.controller.postMessage(a,[p.port2])}catch(x){}}})},_unsubscribe:function(){navigator.serviceWorker.ready.then(function(a){a.pushManager.getSubscription().then(function(a){a?
a.unsubscribe().then(function(){g=!1;_localStorageSetItem("z1_swInitialized",!1);localStorage.removeItem("z1_push_subscription")}):(g=!1,_localStorageSetItem("z1_swInitialized",!1))})})}};_loader={_headers:[],_hostName:"",URL_PROTO:"https://",URL_HOST:"",WS_PROTO:"wss://",_getHeaderFields:function(){return this._headers},_putApiKey:function(a,b){this._headers[a]=b},_putAccessToken:function(a,b){this._headers[a]=b},GET:function(a,b,d){var p=this;try{return new Promise(function(b,c){var e=a;if(d)for(var f in d){var x=
d[f];x&&(e+="?",e=e+f+"="+x)}var g=new XMLHttpRequest;g.open("GET",p.URL_PROTO+p.URL_HOST+e,!0);g.setRequestHeader("Content-Type","text/plain");g.timeout=void 0!=w["z1.connection.timeout"]&&w["z1.connection.timeout"]?w["z1.connection.timeout"]:3E3;for(var h in p._headers)p._headers.hasOwnProperty(h)&&g.setRequestHeader(h,p._headers[h]);g.onload=function(){4==g.readyState&&200==g.status?b(g.responseText):(_Session._disableSDKOnError(),c(Error(g.statusText)))};g.onerror=function(){_Session._disableSDKOnError();
c(Error("Network Error"))};g.send()})}catch(x){console.debug(x)}},POST:function(a,b,d){b=b||{};var p=this;return new Promise(function(d,c){try{var e=b,f=new XMLHttpRequest;f.open("POST",p.URL_PROTO+p.URL_HOST+a,!0);f.setRequestHeader("Content-Type","text/plain");f.timeout=void 0!=w["z1.connection.timeout"]&&w["z1.connection.timeout"]?w["z1.connection.timeout"]:3E3;for(var x in p._headers)p._headers.hasOwnProperty(x)&&f.setRequestHeader(x,p._headers[x]);f.onload=function(){4!=f.readyState||200!=f.status&&
0!=f.status?(_Session._disableSDKOnError(),c(Error(f.statusText))):null==f.responseText||""==f.responseText?d(f.responseText):d(JSON.parse(f.responseText))};f.onerror=function(){_Session._disableSDKOnError();c(Error("Network Error"))};f.send(JSON.stringify(e))}catch(I){console.debug(I)}})}};_Session={_waitCount:0,_profileInfo:{},_profileId:"",_position:"",firstTimeUser:!1,_ftUserMap:{},_wstoken:null,_isAppStartFired:!1,_conn:null,_glTimer:null,_connectInfo:{customerId:"",customKey:{}},_eventList:[],
_SessionStatus:{DEFAULT:0,IN_PROGRESS:1,DONE:2},_isSessionConnecting:0,_SocketStatus:{DEFAULT:0,IN_PROGRESS:1,DONE:2},_isWSConnecting:0,SystemEvent:{appStart:"appStart",appNotResponding:"appNotResponding",appExit:"appExit"},_z1_location:{streetNumber:"street_number",streetName:"route",neighborhood:"neighborhood",city:"locality",county:"administrative_area_level_2",state:"administrative_area_level_1",country:"country",postalCode:"postal_code"},ATTR_EVENT:"event",APPNAME:"app_name",APPVERSION:"app_version",
BROWSER:"browser",BROWSER_VERSION:"browserversion",COUNTRY:"country",DEVICE_ID:"device_id",FIRST_TIME_USER:"firstTimeUser",GEOLOCATION:"z1_loc",HEADER_APIKEY:"apikey",HEADER_ACCESSTOKEN:"accesstoken",LANGUAGE:"language",LOCATION:"location",OS:"os",OS_VERSION:"os_version",WS_TOKEN:"wstoken",PAGENAME:"_z1_pagename",PAGEPATH:"_z1_pagepath",PLATFORM_OS:"platform_os",PROFILE_ID:"profileId",RESOLUTION:"resolution",TIMEZONE:"tz",TYPE:"devicetype",Z1_ORIGIN_ID:"_z1_origin",Z1_SDK_VERSION:"z1SDKVersion",_globalTriggers:null,
_dataLayer:{},_firstTimeConnect:!0,_fireLoadEvent:!1,_addData:function(a,b){this._dataLayer[a]=b;if(this._sanityCheck()&&f&&f._globalTriggers&&0<f._globalTriggers.length)for(b=0;b<f._globalTriggers.length;b++)h._processActionMappingOnDataLayerChange("datalayerchange",f._globalTriggers[b],a)},_getData:function(a){return this._dataLayer[a]},_addProfileInfo:function(a,b){this._profileInfo[a]=b},_removeData:function(a){delete this._dataLayer[a]},_setWSToken:function(a){this._wstoken=a},_setProfileKey:function(a){this._connectInfo.customerId=
a},_getProfileKey:function(){return this._connectInfo.customerId},_sanityCheck:function(){var a=!1;if(0===this._waitCount){if(this._isSessionConnecting===this._SessionStatus.DEFAULT)return;a=this._isWSConnecting===this._SocketStatus.DEFAULT?!1:this._isSessionConnecting===this._SessionStatus.IN_PROGRESS||this._isWSConnecting===this._SocketStatus.IN_PROGRESS?!1:C?!0:!1}else 1<this._waitCount&&(a=!1);return a},_connect:function(){var a=!1;if(0===this._waitCount){if(this._isSessionConnecting===this._SessionStatus.DEFAULT){this.forceConnect();
return}this._isWSConnecting===this._SocketStatus.DEFAULT?(a=!1,this._wsConnect()):this._isSessionConnecting===this._SessionStatus.IN_PROGRESS||this._isWSConnecting===this._SocketStatus.IN_PROGRESS?a=!1:C?a=!0:(a=!1,this._createOriginId(f._id,f._profileId))}else 1<this._waitCount&&(a=!1);return a},forceConnect:function(){this._waitCount++;this._sessionConnect()},_sessionConnect:function(a){this._isSessionConnecting=this._SessionStatus.IN_PROGRESS;if(!(1<this._waitCount)){""!=_getApiKey()?_loader._putApiKey(this.HEADER_APIKEY,
_getApiKey()):""!=_getAccessToken()&&_loader._putAccessToken(this.HEADER_ACCESSTOKEN,_getAccessToken());a="";if("undefined"!==typeof Storage)try{var b=_localStorageGetItem("z1_deviceId");null==b||""==b?(a=_generateUUID(),_localStorageSetItem("z1_deviceId",a)):a=b}catch(x){}if(null===a||""===a)a=_generateUUID();this._addProfileInfo(this.DEVICE_ID,a);b=null===_localStorageGetItem("z1_connectDirty")||"true"==_localStorageGetItem("z1_connectDirty")?!0:!1;if(this._checkNewSession()||this.shouldConnect||
b){b=_localStorageGetItem("z1_cust_id")&&""!=_localStorageGetItem("z1_cust_id")?_localStorageGetItem("z1_cust_id"):null!=this._connectInfo.customerId&&""!=this._connectInfo.customerId?this._connectInfo.customerId:a;a="c3/api/v1/connect/"+b+"?deviceId="+a+"&os=html5&devicetype="+this._getDeviceType();if(this._firstTimeConnect){var d=_localStorageGetItem("z1_connectData_tts")||null;a+="&loadConfig";d&&(a+="&tts="+d);this._firstTimeConnect=!1}null!=this._wsToken&&(a=a+"&"+this.WS_TOKEN+"="+this._wsToken);
d=this._connectInfo.customKey||{};_localStorageGetItem("z1_cust_key")&&""!=_localStorageGetItem("z1_cust_key")&&this._connectInfo.customKey&&(d=Object.assign({},this._connectInfo.customKey,JSON.parse(_localStorageGetItem("z1_cust_key"))));if(d)for(b in d)a=a+"&"+b+"="+d[b];var p=this;_localStorageSetItem("z1_connectDirty",!0);_loader.GET(a,{},{}).then(function(a){(a=JSON.parse(a))&&a.status&&"fail"===a.status?p._disableSDKOnError():(E=!0,p._onSessionConnectSuccess(a))},function(a){console.log("ZineOne Connection Failure : Failed to connect to session! ");
p._disableSDKOnError()})}else b=_localStorageGetItem("z1_connectData")?JSON.parse(_localStorageGetItem("z1_connectData")):null,E=!1,this._onSessionConnectSuccess(b)}},_onSessionConnectSuccess:function(a){this._isSessionConnecting=this._SessionStatus.DONE;if(E){var b={},d=_localStorageGetItem("z1_connectData");if(a.config&&0!=Object.keys(a.config).length){if(_localStorageSetItem("z1_connectData_tts",Date.now()),void 0!=d&&(d=JSON.parse(d)||null)){b=a.config;a.config=d.config||{};d=Object.keys(b);for(var p=
0;p<d.length;p++)b[d[p]]&&(a.config[d[p]]=b[d[p]])}}else if(d){if(d=JSON.parse(d)||null)b=d.config;a.config=b}_localStorageSetItem("z1_connectData",JSON.stringify(a))}this._setupSDKConfig(a);this._setupSDKProps(a);this._setupUserMap(a);1<this._waitCount?(this._waitCount=0,_localStorageSetItem("z1_connectDirty",!0),localStorage.removeItem("z1_connectUserId"),this._isAppStartFired||localStorage.removeItem("z1_sessionStart_ts"),this._sessionConnect()):(this._waitCount=0,_localStorageSetItem("z1_connectDirty",
!1),_localStorageSetItem("z1_connectUserId",a.id),null!=a&&(null!=a.profileId&&(this._profileId=a.profileId?a.profileId:""),null!=a.firstTimeUser&&(this._isFirstTimeUser=a.firstTimeUser?a.firstTimeUser:!1),null!=a.id&&(this._id=a.id?a.id:""),g&&(checkIfPushSubscriptionExists()||_initWebPush()),r&&(a={},a.deviceId=_localStorageGetItem("z1_deviceId")?_localStorageGetItem("z1_deviceId"):null,a.profileId=this._profileId?this._profileId:null,r(a)),this._isWSConnecting===this._SocketStatus.DEFAULT?this._wsConnect():
C&&0!=this._eventList.length&&this._flush()),null==this._glTimer&&this._getULocation())},_setupSDKConfig:function(a){a&&a.config&&(null!=a.config.actionMapping&&(this._globalTriggers=a.config.actionMapping?a.config.actionMapping:null),null!=a.config.props&&(z=a.config.props.swPath?a.config.props.swPath:"",m=a.config.props.disableUrlParamCapture?a.config.props.disableUrlParamCapture:!1,u=a.config.props.locationEnabled?a.config.props.locationEnabled:!1,v=a.config.props.geoCodeLocationKey?a.config.props.geoCodeLocationKey:
"",y=a.config.props.geoCodeReqRateValue?a.config.props.geoCodeReqRateValue:30,F=a.config.props.geoCodeReqRateUnit?a.config.props.geoCodeReqRateUnit:"minutes"))},_setupSDKProps:function(a){a&&a.config&&a.config.sdkprops&&(w["z1.connection.timeout"]=void 0!=a.config.sdkprops["z1.connection.timeout"]?a.config.sdkprops["z1.connection.timeout"]:w["z1.connection.timeout"],w["z1.disable.sdk.on.error"]=void 0!=a.config.sdkprops["z1.disable.sdk.on.error"]?a.config.sdkprops["z1.disable.sdk.on.error"]:w["z1.disable.sdk.on.error"])},
_setupUserMap:function(a){var b=JSON.parse(_localStorageGetItem("z1_ftUserMap"));if(b&&0!=Object.keys(b).length)if(this._ftUserMap=b,b=this._ftUserMap[a.id]?this._ftUserMap[a.id]:null){this._isFirstTimeUser=a.firstTimeUser?a.firstTimeUser:!1;var d=Date.now();24<=Math.abs(new Date(d)-new Date(b.firstTimeUserTS))/36E5&&(delete this._ftUserMap[a.id],_localStorageSetItem("z1_ftUserMap",JSON.stringify(this._ftUserMap)))}else a.firstTimeUser&&(b={},b.firstTimeUser=a.firstTimeUser?a.firstTimeUser:!1,d=new Date,
b.firstTimeUserTS=d,this._ftUserMap[a.id]=b,_localStorageSetItem("z1_ftUserMap",JSON.stringify(this._ftUserMap)));else a.firstTimeUser&&(b={},b.firstTimeUser=a.firstTimeUser?a.firstTimeUser:!1,d=new Date,b.firstTimeUserTS=d,this._ftUserMap[a.id]=b,_localStorageSetItem("z1_ftUserMap",JSON.stringify(this._ftUserMap)))},_getULocation:function(){null!=this._glTimer&&(clearTimeout(this._glTimer),this._glTimer=null,this._setGLTimeOut());_isLocationEnabled()&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(this._successPosition,
this._errorPosition,{enableHighAccuracy:!0,timeout:5E3,maximumAge:0})},_setGLTimeOut:function(){var a=void 0!=y?parseInt(y):30,b=F,d=_localStorageGetItem("z1_connectData")?JSON.parse(_localStorageGetItem("z1_connectData")):null;d&&d.config&&d.config.props&&(a=d.config.props.geoCodeReqRateValue?parseInt(d.config.props.geoCodeReqRateValue):null,b=d.config.props.geoCodeReqRateUnit?d.config.props.geoCodeReqRateUnit:null);if(null==a||null==b)a=30,b="minutes";a="hours"===b.toLowerCase()?60*a:a;this._glTimer=
window.setTimeOut(this._getULocation,6E4*a)},_disableSDKOnError:function(){void 0!=w["z1.disable.sdk.on.error"]&&w["z1.disable.sdk.on.error"]&&ZineOne.turnOffApi(!0)},_wsConnect:function(){this._isWSConnecting=this._SocketStatus.IN_PROGRESS;var a="c3/api/v1/connectwebsocket/"+_localStorageGetItem("z1_deviceId");""!=_getApiKey()?_loader._putApiKey(this.HEADER_APIKEY,_getApiKey()):""!=_getAccessToken()&&_loader._putAccessToken(this.HEADER_ACCESSTOKEN,_getAccessToken());var b=this;_loader.GET(a,{},{}).then(function(a){(a=
JSON.parse(a))&&a.status&&"fail"===a.status||b._onWSConnectSuccessful(a)},function(a){console.log("ZineOne Connection Failure : Failed to connect to websocket! ")})},_onWSConnectSuccessful:function(a){a=a.token;null!=a&&(this._setWSToken(a),this._openSocket())},_openSocket:function(){try{var a=_loader.WS_PROTO+_loader.URL_HOST+"websock/"+this._wstoken;a=""!=_getApiKey()?a+("?apikey="+c):a+("?accesstoken="+_getAccessToken());this._conn=new WebSocket(a);var b=this;this._conn.onopen=function(){b._isWSConnecting=
b._SocketStatus.DONE;C?b._reFlush():b._createOriginId(b._id,b._profileId)};this._conn.onmessage=function(a){if(a)for(var d=0;d<q.length;d++){var c=q[d];if(null!=c._listeners&&0<c._listeners.length)for(var e=0;e<c._listeners.length;e++){var f=JSON.parse(a.data),g=f.info&&f.info.actionId?f.info.actionId:null,h=f.info&&f.info.__link?f.info.__link:null,k=f.info&&f.info._z1_origin?f.info._z1_origin:null;if(null===k||k!=D)return;if("kb"===f.type||"fullscreen"===f.type){k=JSON.parse(f.message);var l=k.items;
l&&(b._massageData(l),c._listeners[e].onMessage({type:f.type,actionId:g,message:k.items,link:h}))}else c._listeners[e].onMessage(f)}}};this._conn.onclose=function(){b._conn=null;b._isWSConnecting=b._SocketStatus.DEFAULT;for(var a=0;a<q.length;a++){var c=q[a];if(null!=c._listeners&&"function"==typeof c._listeners.onclose)c._listeners.onclose()}};this._conn.onerror=function(){console.log("ZineOne API Failure: Websocket closed on error");b._conn=null;b._isWSConnecting=b._SocketStatus.DEFAULT;for(var a=
0;a<q.length;a++){var c=q[a];if(null!=c._listeners&&"function"==typeof c._listeners.onclose)c._listeners.onclose()}}}catch(d){}},_massageData:function(a){if(a)for(var b=0;b<a.length;b++)if(!a[b].contentUrl){var d=a[b].id;d=_loader.URL_PROTO+_loader.URL_HOST+"c3/api/v1/kbdoc/"+d;""!=_getApiKey()?d+="?apikey="+_getApiKey():""!=_getAccessToken()&&(d+="?accesstoken="+_getAccessToken());a[b].contentUrl=d}return a},_createOriginId:function(a,b){(_localStorageGetItem("z1_cust_id")||f._connectInfo.customerId||
"")===a?this._onCreate(b):_localStorageGetItem("z1_deviceId")&&_localStorageGetItem("z1_deviceId")===a&&this._onCreate(b)},_onCreate:function(a){D=_generateUUID();var b=this;_loader.POST("c3/api/v1/originId?originId="+D+"&profileId="+a,{},{}).then(function(a){b.onOriginIdSaved(a)},function(a){console.log("ZineOne API Failure : Failed to save origin ID!")})},onOriginIdSaved:function(a){C=!0;this._reFlush();this._fireBodyOnLoadEvents()},_reFlush:function(){E&&(f._pushEvent(this.SystemEvent.appStart,
null),this._isAppStartFired=!0);0!=f._eventList.length&&this._flush()},_checkNewSession:function(){if("undefined"==typeof Storage)return!0;var a=!1;try{var b=_localStorageGetItem("z1_sessionStart_ts")?_localStorageGetItem("z1_sessionStart_ts"):null,d=(new Date).getTime();null==b?(_localStorageSetItem("z1_sessionStart_ts",d),a=!0):10<Math.abs(Math.round((d-b)/1E3/60))&&(_localStorageSetItem("z1_sessionStart_ts",d),a=!0)}catch(p){}return a},_shouldConnectWithKey:function(a,b){if(a&&""!==a&&b&&""!==
b&&"undefined"!=typeof Storage){this.shouldConnect=!1;try{var d=_localStorageGetItem(a)?_localStorageGetItem(a):null;if(null==d)_localStorageSetItem(a,b),this.shouldConnect=!0;else if("z1_cust_key"===a){var c=JSON.parse(d),e=JSON.parse(b);for(item in e)if(c[item]){if(c[item]!=e[item]){_localStorageSetItem(a,b);this.shouldConnect=!0;break}}else{_localStorageSetItem(a,b);this.shouldConnect=!0;break}}else d!=b&&(_localStorageSetItem(a,b),this.shouldConnect=!0)}catch(L){}return this.shouldConnect}},_fetchPushContent:function(){},
_getPushContentUrl:function(a){},_fireBodyOnLoadEvents:function(){if(f&&f._globalTriggers&&0<f._globalTriggers.length)for(var a=0;a<f._globalTriggers.length;a++){var b=f._globalTriggers[a];b.actionType.toLowerCase()===h.ACTION_MAPPING_TYPE_SCRIPT&&this._createScriptForExecution(b);h._processActionMappingOnLoad("load",b)}},_createScriptForExecution:function(a){var b=a.tagName+"_"+Math.floor(1E3*Math.random()+1);b=b.replace(/ /g,"");a.methodName=b;var d=document.createElement("script");d.type="text/javascript";
b="function ${{methodName}}(){ try{\n${{scriptBody}}\n}catch(e){console.log('ZineOne : Unable to execute script');} }".replace("${{methodName}}",b);b=b.replace("${{scriptBody}}",a.script);d.text=b;document.head.appendChild(d)},_pushEvent:function(a,b){if(!l){var d={},c;for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);d[this.ATTR_EVENT]=a;this._populateContext();this._eventList.push(d);this._flush()}},_populateContext:function(){var a=this._profileInfo;a[this.Z1_ORIGIN_ID]=D;var b=JSON.parse(_localStorageGetItem("z1_ftUserMap"));
b&&0!=Object.keys(b).length?(this._ftUserMap=b,b=(b=this._ftUserMap[a.device_id]?this._ftUserMap[a.device_id]:null)?b.firstTimeUser.toString():f._isFirstTimeUser?f._isFirstTimeUser:"false"):b=f._isFirstTimeUser?f._isFirstTimeUser:"false";a[this.FIRST_TIME_USER]=b;this._getDeviceCtx(a)},_getDeviceCtx:function(a){a[this.OS]="html5";a[this.OS_VERSION]=Z1.window.browserInfo.osVersion;a[this.PLATFORM_OS]=Z1.window.browserInfo.os;var b=navigator.language?navigator.language:navigator.browserLanguage?navigator.browserLanguage:
navigator.userLanguage;b&&(b=b.split("-"),a[this.LANGUAGE]=b[0],a[this.COUNTRY]=b[1]);b=(new Date).toString();b=-1<b.indexOf("(")?b.match(/\([^\)]+\)/)[0].match(/[A-Z]/g).join(""):b.match(/[A-Z]{3,4}/)[0];a[this.TIMEZONE]=b;a[this.TYPE]=this._getDeviceType();a[this.BROWSER]=Z1.window.browserInfo.browser;a[this.BROWSER_VERSION]=Z1.window.browserInfo.browser+":"+Z1.window.browserInfo.browserVersion;a[this.RESOLUTION]=Z1.window.browserInfo.screen;a[this.PAGENAME]=Z1.window.browserInfo.pageName;a[this.PAGEPATH]=
Z1.window.browserInfo.pagePath;return a},_getDeviceType:function(){if(this._isMobile(navigator.userAgent.toLowerCase())){var a="phone";this._isTablet(navigator.userAgent.toLowerCase())&&(a="tablet")}else a="desktop";return a},_isMobile:function(a){return/mobile|ip(hone|od|ad)|android|blackBerry|iemobile|kindle|netfront|silk-accelerated|(hpw|web)os|fennec|minimo|opera m(obi|ini)|blazer|dolfin|dolphin|skyfire|zune/.test(a)},_isTablet:function(a){return/ipad/.test(a)||/android/.test(a)&&/(chrome\/[.0-9]* (?!mobile))/.test(a)||
-1<a.indexOf("mozilla/5.0")&&-1<a.indexOf("android ")&&-1<a.indexOf("applewebkit")&&/(?!mobile)/.test(a)&&!(-1<a.indexOf("chrome"))},_successPosition:function(a){_Session._position=a;v&&""!=v?_Session._getActualLocation():(a=_Session._getLocationPayload(a),void 0!=a&&_Session._pushLocationEvent(a))},_getLocationPayload:function(a){var b=f._profileId;if(null==b||""==b){var d=_localStorageGetItem("z1_connectData")?JSON.parse(_localStorageGetItem("z1_connectData")):null;d&&(b=d.profileId?d.profileId:
null)}if(null!=b&&""!=b&&(d=a&&a.coords?a.coords:{},a="",d.latitude&&(a+="latitude="+d.latitude+"|"),d.longitude&&(a+="longitude="+d.longitude+"|"),d.altitude&&(a+="altitude="+d.altitude+"|"),d.accuracy&&(a+="accuracy="+d.accuracy+"|"),""!=a))return d={},d[this.GEOLOCATION]=a+"type=fine|",d[this.PROFILE_ID]=b,d},_pushLocationEvent:function(a){l||_loader.POST("c3/api/v1/location",a,{}).then(function(a){n&&console.log("ZineOne Location Sent Success")},function(a){console.log("ZineOne API Failure: Failed to send location information!")})},
_getActualLocation:function(){var a="https://maps.googleapis.com/maps/api/geocode/json?latlng="+this._position.coords.latitude+"%2C"+this._position.coords.longitude+"&language=en&key="+v,b=this,d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var a=this.response?JSON.parse(this.response):null,d="";if(a&&a.results&&a.results[0]&&a.results[0].address_components)for(key in a=a.results[0],b._z1_location)for(var c=b._z1_location[key],e=0;e<a.address_components.length;e++){var f=
a.address_components[e].types&&a.address_components[e].types[0]?a.address_components[e].types[0]:"";c.toLowerCase()===f.toLowerCase()&&(d+=key+"="+a.address_components[e].long_name+"|")}b._position.coords.latitude&&""!=b._position.coords.latitude&&(d+="latitude="+b._position.coords.latitude+"|");b._position.coords.longitude&&""!=b._position.coords.longitude&&(d+="longitude="+b._position.coords.longitude+"|");b._position.coords.accuracy&&""!=b._position.coords.accuracy&&(d+="accuracy="+b._position.coords.accuracy+
"|");b._position.coords.altitude&&""!=b._position.coords.altitude&&(d+="altitude="+b._position.coords.altitude+"|");n&&console.log(d);a=b._z1Session._profileId;(null==a||""==a)&&(c=b._localStorageGetItem("z1_connectData")?JSON.parse(b._localStorageGetItem("z1_connectData")):null)&&(a=c.profileId?c.profileId:null);c={};c[b.GEOLOCATION]=d;(c[b.PROFILE_ID]=a)&&""!=a&&b._Session._pushLocationEvent(c)}};d.open("GET",a,!0);d.send()},_errorPosition:function(a){var b=_Session._getLocationPayload(_Session._position);
void 0!=b&&_Session._pushLocationEvent(b);n&&console.warn("ERROR("+a.code+"): "+a.message)},_flush:function(){if(0!==this._eventList.length){var a=this._connect(),b={};decodeURIComponent(window.location.search.substring(1)).replace(/([^?=&]+)(=([^&]*))?/g,function(a,d,c,p){b[d]=p});if(a){for(a=0;a<this._eventList.length;a++){var d=this._eventList[a];d.z1_profile=this._profileInfo;d.z1_profile[this.Z1_ORIGIN_ID]=D;d[this.PROFILE_ID]=f._profileId;d[this.Z1_SDK_VERSION]="4.192";null!=this._wstoken&&
(d[this.WS_TOKEN]=this._wstoken);if(!m)for(var c in b)b.hasOwnProperty(c)&&(d[c]=b[c])}c=this._eventList;this._eventList=[];var e=this;_loader.POST("c3/api/v1/event",c,{}).then(function(a){e._onFlushSuccess(a)},function(a){console.log("ZineOne API Failure: Failed to flush an event!")})}}},_onFlushSuccess:function(a){h&&h._openLink()}};var J={_listeners:[],instance:function(){q.push(this);return this},connect:function(a){this._listeners.push(a)}},h={_actionId:null,_configMap:null,_contentDiv:null,
_contentData:null,_contentLink:null,_close:!0,_bannerTimer:null,_isBannerModal:!1,_lifecycleCB:[],_list:null,_link:"",_lu:null,_msgData:null,_showListView:!1,_globalProperties:"",_type:null,_track:"",_widgetCB:[],Z1_PROTOCOL:"z1://",Z1_CLOSE:"z1://close",Z1_CLOSE_ATTR:"data-zineone-close",Z1_CTA_ATTR:"data-zineone-cta",Z1_PUSH_EVT:"z1://pushEvent",Z1_LINK_ATTR:"data-zineone-link",Z1_LINK_VAL:"",Z1_PROP_ATTR:"data-zineone-properties",Z1_META_TAG:"data-zineone-meta",Z1_DOM_EVENTS:"click,touchstart",
ACTION_MAPPING_TYPE_PUSH:"z1push",ACTION_MAPPING_TYPE_SCRIPT:"z1script",ACTION_MAPPING_PARAM_CONSTANT:"constant",ACTION_MAPPING_PARAM_COMPUTED:"computed",ACTION_MAPPING_PARAM_DATALAYER:"data",ACTION_MAPPING_PARAM_EVENT:"event",_printZ1WidgetVersion:function(){n&&console.log("ZineOne Widgets sdk version: 4.192")},_handleBodyClickEvents:function(a){this._onDocumentEvents(a)},_onDocumentEvents:function(a){if(this._widgetCB)for(var b in this._widgetCB)if(b===this._type)return;a&&(b=a.target||a.srcElement,
this._resetMetaTagValues(),this._processMetaTag(b),b&&b.getAttribute("href")&&b.getAttribute("href")===this.Z1_CLOSE?(this._onAction(a,b.getAttribute("href")),this._sendActionResponse(null,"dismissed")):b&&b.getAttribute(this.Z1_CLOSE_ATTR)&&b.getAttribute(this.Z1_CLOSE_ATTR)===this.Z1_CLOSE?(this._onAction(a,b.getAttribute(this.Z1_CLOSE_ATTR)),this._sendActionResponse(null,"dismissed")):this._link&&""!=this._link?(this.Z1_LINK_VAL=this._link,this._track&&""!=this._track&&-1!=this._track.search(this.Z1_PUSH_EVT)&&
this._onAction(a,this._track)):this._track&&""!=this._track&&-1!=this._track.search(this.Z1_PUSH_EVT)?this._onAction(a,this._track):b&&b.getAttribute("href")&&-1!=b.getAttribute("href").search(this.Z1_PUSH_EVT)?this._onAction(a,b.getAttribute("href")):"banner"===this._type&&(this._checkBannerModality(),this._isBannerModal||("none"!=(this._contentDiv&&this._contentDiv.style?this._contentDiv.style.display:"none")&&this._sendActionResponse(null,"dismissed"),clearTimeout(this._bannerTimer),this._removeBannerAnimationCss())))},
_resetMetaTagValues:function(){this._link=this._track="";this._close=!0},_processMetaTag:function(a){var b;if(a&&a.getAttribute(this.Z1_META_TAG)&&(a=a.getAttribute(this.Z1_META_TAG),""!=a&&(a=a.split(";"))&&0<a.length))for(var d=0;d<a.length;d++)if((b=a[d].split(/:(.+)?/))&&0<b.length){var c=b[0];c&&""!=c&&("track"===c.toLowerCase()&&(this._track=b[1]),"link"===c.toLowerCase()&&(this._link=b[1]),"close"===c.toLowerCase()&&(this._close="false"===b[1]?!1:!0))}},_setProperty:function(a){this._globalProperties=
a},_getProperty:function(){return this._globalProperties},_createBanner:function(){var a=this,b="",d="";this._actionId=this._msgData.info&&this._msgData.info.actionId?this._msgData.info.actionId:null;this._deepLink=this._msgData.info&&this._msgData.info.__link?this._msgData.info.__link:null;var c=this._msgData.message.search(this.Z1_PROP_ATTR);d=this._getBannerPosition(c);b=this._getBannerCoords(d);this._contentData=b=this._msgData.message.replace(/{z1_position_val}/g,b);this._contentLink=this._msgData&&
this._msgData.info&&this._msgData.info.__link?this._msgData.info.__link:null;this._beforeRender();this._contentDiv.style.display="block";var e=document.createElement("div");e.setAttribute("class","z1_b_topDiv");e.innerHTML=b;this._contentDiv.appendChild(e);b=this._getContainerClass()||"z1_b_container";this._contentDiv.setAttribute("class",b);this._animateBanner(d);this.Z1_DOM_EVENTS.split(",").map(function(b){e.addEventListener(b,a._takeBannerAction.bind(a),!1)});this._sendActionResponse(null,"reached");
this._checkBannerModality(c);this._afterRender();if(!this._isBannerModal){d=1E4;this._configMap&&this._configMap["z1.banner.secondsToShow"]&&""!=this._configMap["z1.banner.secondsToShow"]&&(d=1E3*parseInt(this._configMap["z1.banner.secondsToShow"]));var f=this;this._bannerTimer=setTimeout(function(){f._contentDiv&&"banner"===f._type&&(f._checkBannerModality(),f._isBannerModal||f._removeBannerAnimationCss())},d)}},_getBannerPosition:function(a){var b=/(position:top)|(position:bottom)|(position:center)/;
b=this._msgData.message.match(b)?this._msgData.message.match(b)[0]:"";var d="";-1!=a&&""!=b&&(d=b.substring(b.indexOf(":")+1));return""!=d?d:this._msgData.info&&this._msgData.info.position?this._msgData.info.position:"top"},_getBannerCoords:function(a){var b="";a&&(b="desktop"===f._getDeviceType()?"top"===a.toLowerCase()?"top: -80px;":"bottom"===a.toLowerCase()?"bottom: -80px; right:10px;":"center"===a.toLowerCase()?"top: 40%; right: -100%;":"top: -80px;":"top"===a.toLowerCase()?"top: -80px;":"bottom"===
a.toLowerCase()?"bottom: -80px;":"center"===a.toLowerCase()?"top: 40%; left: 100%; right: -100%;":"top: -80px;");return b},_animateBanner:function(a){var b="";this._configMap&&this._configMap["z1.banner.offset"]&&""!=this._configMap["z1.banner.offset"]&&(b=this._configMap["z1.banner.offset"]+"px");a&&("top"===a.toLowerCase()?(window.getComputedStyle(this._contentDiv).top,this._contentDiv.style.top="0px","desktop"===f._getDeviceType()?(this._contentDiv.style.top=b?b:"30px",this._contentDiv.style.right=
"60px"):this._contentDiv.style.top=b?b:"0px"):"bottom"===a.toLowerCase()?(window.getComputedStyle(this._contentDiv).bottom,"desktop"===f._getDeviceType()?(this._contentDiv.style.bottom=b?b:"30px",this._contentDiv.style.right="60px"):this._contentDiv.style.bottom=b?b:"0px"):"center"===a.toLowerCase()?(window.getComputedStyle(this._contentDiv).left,window.getComputedStyle(this._contentDiv).right,"desktop"===f._getDeviceType()?this._contentDiv.style.right="60px":(this._contentDiv.style.left="0px",this._contentDiv.style.right=
"0px")):(window.getComputedStyle(this._contentDiv).top,this._contentDiv.style.top="0px"))},_checkBannerModality:function(){this._getProperty()&&""!=this._getProperty()?this._setBannerModalProp(this._getProperty(),"modal"):this._isBannerModal=this._isModal()},_setBannerModalProp:function(a,b){if((propItems=a.split(","))&&0<propItems.length)for(var d=0;d<propItems.length;d++)if(a=propItems[d].trim().split(":"),a[0].trim().toLowerCase()===b.toLowerCase()){this._isBannerModal="true"===a[1].trim()?!0:
!1;break}else this._isBannerModal=this._isModal()},_isModal:function(){var a=this._getDataZ1Properties();return a?"true"===a.modal:!1},_getContainerClass:function(){var a=this._getDataZ1Properties();return a?a["container-class"]:null},_getDataZ1Properties:function(){var a=this._msgData.message;a.constructor===Array&&(a=a[0].content);if(-1!=a.search(this.Z1_PROP_ATTR)){if(a=document.querySelector("[data-zineone-properties]")){a=a.getAttribute(this.Z1_PROP_ATTR);if(!a)return null;a=a.split(";");for(var b=
{},d=0;d<a.length;d++)if(0!=a[d].length){var c=a[d].split(":");b[c[0]]=c[1]}return b}}else return null},_createAlert:function(){this._contentDiv.style.display="block";this._actionId=this._msgData.info&&this._msgData.info.actionId?this._msgData.info.actionId:null;var a=JSON.parse(this._msgData.message),b=document.createElement("div");b.innerHTML=a.alertMsg;b.classList.add("z1_alert_container");this._contentData=a;this._contentLink=this._msgData&&this._msgData.info&&this._msgData.info.__link?this._msgData.info.__link:
null;this._beforeRender();this._openModal(a.alertTitle,b,!1,this._msgData.type);this._sendActionResponse(null,"reached");this._afterRender()},_createFullScreen:function(){var a=this;this._contentDiv.style.display="block";this._actionId=this._msgData.actionId;this._deepLink=this._msgData.link;this._list=this._msgData.message;var b="";this._list&&0<this._list.length&&(b=this._list[0]);this._contentData=b.content;this._contentLink=this._deepLink;this._beforeRender();this._createFSDiv(b);document.addEventListener?
this.Z1_DOM_EVENTS.split(",").map(function(b){document.getElementById("fs_modal_close").addEventListener(b,a.onCloseFS,!1)}):document.getElementById("fs_modal_close").attachEvent("onclick",this.onCloseFS);this._sendActionResponse(null,"reached");this._afterRender()},_createFSDiv:function(a){var b=document.createElement("div");var d=document.createElement("div");d.classList.add("z1_fullscreen_content");d.innerHTML=a.content;a=document.createElement("div");var c=document.createElement("span");c.setAttribute("id",
"z1FSCloseBtn");c.classList.add("z1_fs_close_btn");c.innerHTML="<b>&nbsp;</b>";a.appendChild(c);a.setAttribute("id","fs_modal_close");a.classList.add("z1_fs_close_btn_container");b.appendChild(a);b.appendChild(d);a=this._getContainerClass()||"z1_fullscreen_container";this._contentDiv.classList.add(a);this._contentDiv.appendChild(b);window.getComputedStyle(this._contentDiv).left;window.getComputedStyle(this._contentDiv).right;this._contentDiv.classList.add("z1_end_transition_style");this._handleFSEvents(d)},
_handleFSEvents:function(a){var b=this;a.addEventListener("scroll",function(a){window.document.body.style.position="relative";window.document.body.style.overflowY="hidden"},!1);a.addEventListener("wheel",function(a){window.document.body.style.position="relative";window.document.body.style.overflowY="hidden"},!1);b.Z1_DOM_EVENTS.split(",").map(function(d){a.addEventListener(d,function(a){if(a){var d=a.target||a.srcElement;b._resetMetaTagValues();b._processMetaTag(d);b._link&&""!=b._link?(b.Z1_LINK_VAL=
b._link,b._track&&""!=b._track&&-1!=b._track.search(b.Z1_PUSH_EVT)&&b._onAction(a,b._track)):b._track&&""!=b._track&&-1!=b._track.search(b.Z1_PUSH_EVT)?b._onAction(a,b._track):d&&d.getAttribute("href")&&d.getAttribute("href")===b.Z1_CLOSE?(b._onAction(a,d.getAttribute("href")),b._sendActionResponse(null,"dismissed")):d&&d.getAttribute(b.Z1_CLOSE_ATTR)&&d.getAttribute(b.Z1_CLOSE_ATTR)===b.Z1_CLOSE?(b._onAction(a,d.getAttribute(b.Z1_CLOSE_ATTR)),b._sendActionResponse(null,"dismissed")):b._deepLink&&
""!=b._deepLink&&b._onAction(a,b._deepLink);window.document.body.style.overflowY=""}a.stopPropagation()},!1)})},_createArticle:function(){this._contentDiv.style.display="block";this._list=this._msgData.message;this._actionId=this._msgData.actionId;this._beforeRender();var a=this._getTargetResourcePath("kblist");this._loadResource(a,"listView")},_createAppbox:function(){this._contentDiv.style.display="block";this._list=this._msgData.message;this._beforeRender();var a=this._getTargetResourcePath("kblist");
this._loadResource(a,"listView")},_beforeRender:function(){var a="beforeRender_"+this._type.toLowerCase();if(this._lifecycleCB&&this._lifecycleCB[a])(0,this._lifecycleCB[a])(this._actionId,this._contentData,this._contentLink)},_afterRender:function(){var a="afterRender_"+this._type.toLowerCase();if(this._lifecycleCB&&this._lifecycleCB[a])(0,this._lifecycleCB[a])(this._actionId,this._contentData,this._contentLink)},_takeBannerAction:function(a){if(a){var b=a.target||a.srcElement;this._resetMetaTagValues();
this._processMetaTag(b);this._link&&""!=this._link?(this.Z1_LINK_VAL=this._link,this._track&&""!=this._track&&-1!=this._track.search(this.Z1_PUSH_EVT)&&this._onAction(a,this._track)):this._track&&""!=this._track&&-1!=this._track.search(this.Z1_PUSH_EVT)?this._onAction(a,this._track):b&&b.getAttribute("href")&&-1!=b.getAttribute("href").search(this.Z1_PUSH_EVT)?this._onAction(a,b.getAttribute("href")):b&&b.getAttribute("href")&&b.getAttribute("href")===this.Z1_CLOSE?(this._onAction(a,b.getAttribute("href")),
this._sendActionResponse(null,"dismissed")):b&&b.getAttribute(this.Z1_CLOSE_ATTR)&&b.getAttribute(this.Z1_CLOSE_ATTR)===this.Z1_CLOSE?(this._onAction(a,b.getAttribute(this.Z1_CLOSE_ATTR)),this._sendActionResponse(null,"dismissed")):this._deepLink&&""!=this._deepLink&&(this._onAction(a),this._removeBannerAnimationCss());a.stopPropagation()}},_onAction:function(a,b){switch((b&&""!=b?this._findActionType(b):this._findActionType(this._deepLink)).toLowerCase()){case "pushevent":b=b&&""!=b?this._getPushEventInfo(b):
this._getPushEventInfo(this._deepLink);f&&f._pushEvent(b[0],b[1]);this._sendActionResponse(null,"interacted");this._close&&this._onAction(a,this.Z1_CLOSE);break;case "deeplink":window.open(this._deepLink,"_blank");this._sendActionResponse(null,"interacted");this._onAction(a,this.Z1_CLOSE);break;case "close":if(this._closeView(a),a="afterClose_"+this._type.toLowerCase(),this._lifecycleCB&&this._lifecycleCB[a])(0,this._lifecycleCB[a])(this._actionId,this._contentData,this._contentLink)}},_findActionType:function(a){if(!a||
""===a)return"close";(a?a.startsWith(this.Z1_PROTOCOL):a)?(a=a.substring(this.Z1_PROTOCOL.length),-1!=a.indexOf("?")&&(a=a.split("?")[0])):a="deepLink";return a},_closeView:function(a){this._clearContent();switch(this._type.toLowerCase()){case "banner":clearTimeout(this._bannerTimer);this._removeBannerAnimationCss();break;case "message":this.closeModal(a);break;case "fullscreen":this.closeFullScreen(a);break;case "kb":case "faq":case "appbox":this.closeArticleList()}},_openLink:function(){if(this.Z1_LINK_VAL&&
""!=this.Z1_LINK_VAL){var a=this.Z1_LINK_VAL;this.Z1_LINK_VAL="";var b=this._getParameterByName("target",a);window.open(a,b)}},_getParameterByName:function(a,b){if(b)return a=a.replace(/[\[\]]/g,"\\$&"),(a=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(b))?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},_getPushEventInfo:function(a){a=a.substring(a.indexOf("pushEvent?")+10).split("&");for(var b=[],d={},c=0;c<a.length;c++){var e=a[c];-1!=e.indexOf("=")?(e=e.split("="),d[e[0]]=e[1]):b.push(e)}d&&
b.push(d);return b},_removeBannerAnimationCss:function(){"block"==this._contentDiv.style.display&&(this._contentDiv.style.display="none",this._contentDiv.style.removeProperty?(this._contentDiv.style.removeProperty("top"),this._contentDiv.style.removeProperty("bottom"),this._contentDiv.style.removeProperty("left"),this._contentDiv.style.removeProperty("right")):(this._contentDiv.style.removeAttribute("top"),this._contentDiv.style.removeAttribute("bottom"),this._contentDiv.style.removeAttribute("left"),
this._contentDiv.style.removeAttribute("right")),this._contentDiv.removeAttribute("class"))},_openModal:function(a,b,d,c){d=document.createElement("div");d.setAttribute("id","modal_wrapper");d.classList.add("z1_modal_wrapper");d.classList.add("z1_flex_center_1");var e=document.createElement("div");e.setAttribute("id","modal_window");e.classList.add("z1_modal_window");e.classList.add("z1_cols_nowrap_edge");c&&e.classList.add("modal_window_"+c);c=document.createElement("div");var f=document.createElement("span");
f.innerHTML=a;f.setAttribute("id","modal_title");f.classList.add("z1_modal_title");a=document.createElement("div");var p=document.createElement("span");p.setAttribute("id","z1Closelabel");p.classList.add("z1_modal_close_label");p.innerHTML="";var g=document.createElement("span");g.setAttribute("id","z1CloseBtn");g.classList.add("z1_modal_close_btn");g.innerHTML="<b>&nbsp;</b>";a.appendChild(p);a.appendChild(g);a.setAttribute("id","modal_close");a.classList.add("z1_modal_close_btn_container");c.appendChild(f);
c.appendChild(a);c.setAttribute("id","z1_modal_header");c.classList.add("z1_modal_header");e.appendChild(c);d.appendChild(e);this._contentDiv.appendChild(d);var h=this;document.addEventListener?h.Z1_DOM_EVENTS.split(",").map(function(a){document.getElementById("modal_close").addEventListener(a,function(a){h.closeModal(a);h._sendActionResponse(null,"dismissed")},!1)}):document.getElementById("modal_close").attachEvent("onclick",function(a){h.closeModal(a);h._sendActionResponse(null,"dismissed")});
d.classList.add("overlay");e.appendChild(b)},closeModal:function(a){var b=document.getElementById("modal_wrapper");b&&(b.className="",b.parentNode&&b.parentNode.removeChild(b));window.document.body.style.overflowY="";if(a)a.preventDefault?a.preventDefault():a.returnValue=!1;else return!1},onCloseFS:function(a){this.closeFullScreen(a);this._sendActionResponse(null,"dismissed")},closeFullScreen:function(a){this._contentDiv&&(this._contentDiv.innerHTML="",this._contentDiv.style.display="none",this._contentDiv.classList.remove("z1_fullscreen_container"),
this._contentDiv.classList.remove("z1_end_transition_style"));if(a)a.preventDefault?a.preventDefault():a.returnValue=!1;else return!1},closeArticle:function(a){if(this._contentDiv&&("kb"==this._type||"faq"==this._type||"appbox"==this._type))if(this._showListView)this._onAction(a);else{this._hideKBDetail(!0);if(a=document.querySelector(".z1_article_frame"))a.src="about:blank";if(a=document.getElementById("z1_articles_total_num")){var b=document.querySelectorAll(".z1_list_row");a.innerHTML="appbox"===
this._type?b.length+" Inbox Messages":this._list.length+" Articles Found"}this._hideKBList(!1)}},closeArticleList:function(a){this._contentDiv&&this._showListView&&(this._contentDiv.innerHTML="",this._contentDiv.style.display="none",this._contentDiv.classList.remove("z1_fullscreen_container"),this._contentDiv.classList.remove("z1_end_transition_style"))},_displayKBHeader:function(){var a=document.createElement("div");a.classList.add("z1_article_header");a.classList.add("z1_article_header_flex");var b=
document.createElement("section");b.classList.add("z1_articles_backBtn");b.classList.add("z1_hide");b.setAttribute("id","z1_articles_backBtn");var d=document.createElement("span");d.classList.add("z1_articles_total_num");d.classList.add("z1_articles_total_num_flex");d.setAttribute("id","z1_articles_total_num");var c=document.createElement("section");c.classList.add("z1_article_close_btn");c.setAttribute("id","z1_article_close_btn");c.setAttribute(this.Z1_CLOSE_ATTR,this.Z1_CLOSE);c.innerHTML="<b>&nbsp;</b>";
a.appendChild(b);a.appendChild(d);a.appendChild(c);return a},_displayKBList:function(a){this._hideKBDetail(!0);var b=document.createElement("div"),d=document.createElement("div");d.classList.add("z1_article_list_wrapper");d.innerHTML="";if(0===a.length){var c=document.createElement("div"),e=document.createTextNode("appbox"===this._type?"No Messages in your Inbox":"No matching Articles exist in the system");c.appendChild(e);d.appendChild(c);b.appendChild(d);return b}for(e=0;e<a.length;e++){c=document.createElement("div");
c.classList.add("z1_list_row");c.setAttribute("data-kb-index",e);this.Z1_DOM_EVENTS.split(",").map(function(b){c.addEventListener(b,function(){var b=this.getAttribute("data-kb-index");0<a[b].unread&&(a[b].unread=0);this._viewKB(a[b].id);"faq"!==this._type&&this._sendActionResponse(a[b],"reached")},!1)});if("appbox"===this._type){var f=document.createElement("div");f.classList.add("z1_appbox_leftBar");f.setAttribute("id","z1_appbox_left_div");var g=document.createElement("div");g.setAttribute("id",
"z1_appbox_left_child_div");var h=document.createElement("img");h.setAttribute("id","z1_appbox_down_arrow");h.src="https://d2p4r375zfkzm8.cloudfront.net/html5sdk/3.0.0/z_arrow_down.png";h.style="width:17px";g.appendChild(h);h=document.createElement("div");h.classList.add("deleteBox");h.setAttribute("id","z1_appbox_del_div");var k=document.createElement("img");k.src="https://d2p4r375zfkzm8.cloudfront.net/html5sdk/3.0.0/delete.png";k.style="width:20px";k.setAttribute("id","z1_appbox_del_btn");h.appendChild(k);
f.appendChild(g);f.appendChild(h);c.appendChild(f)}f=document.createElement("div");f.classList.add("z1_list_midContainer");g=document.createElement("h1");"appbox"===this._type&&0<a[e].unread&&g.classList.add("z1_appbox_unread_title");"appbox"===this._type?g.appendChild(document.createTextNode(a[e].subject)):g.appendChild(document.createTextNode(a[e].title));f.appendChild(g);g=document.createElement("div");g.classList.add("dateContainer");"appbox"===this._type&&0<a[e].unread&&g.classList.add("z1_appbox_unread_date");
if("appbox"===this._type){h=new Date(parseInt(a[e].lastUpdateTime));k=10<=h.getMonth()+1?(h.getMonth()+1).toString():"0"+(h.getMonth()+1);var l=10<=h.getDate()?h.getDate().toString():"0"+h.getDate();h=k+"/"+l+"/"+h.getFullYear();g.appendChild(document.createTextNode(h))}else g.appendChild(document.createTextNode(a[e].creationDate));f.appendChild(g);c.appendChild(f);f=document.createElement("div");f.classList.add("z1_list_rightArrow");g=document.createElement("img");g.src="https://d2p4r375zfkzm8.cloudfront.net/html5sdk/3.0.0/arrow_right.png";
g.style="height:22px";f.appendChild(g);c.appendChild(f);d.appendChild(c);b.appendChild(d)}return b},_viewKB:function(a){for(var b=null,d=0;d<this._list.length;d++)if(a===this._list[d].id){b=this._list[d];break}this._showListView=!1;this._showKBDetailView(b)},_showKBDetailView:function(a){this._selectedArticle=a;a="appbox"===this._type?this._getTargetResourcePath("appbox"):this._getTargetResourcePath("kb");this._loadResource(a,"detailView")},_hideKBList:function(a){var b=document.getElementById("z1_list");
b&&(a?(b.style.display="none",this._showListView=!1,this._hideArticleBackBtn(!1)):(b.style.display="block",this._showListView=!0,this._hideArticleBackBtn(!0)))},_hideKBDetail:function(a){var b=document.getElementById("z1_detail");b&&(a?(b.style.display="none",this._showListView=!0):(b.style.display="block",this._showListView=!1))},_hideArticleBackBtn:function(a){var b=document.getElementById("z1_articles_backBtn");b&&(a?b.classList.add("z1_hide"):b.classList.remove("z1_hide"))},_sendActionResponse:function(a,
b){var d={};f&&(d=f._getDeviceCtx(d));d.actionId=this._actionId;"kb"==this._type&&(d.contentId=a?a.id:null);d.actionState=b&&""!=b?b:"reached";var c=this;_loader.POST("c3/api/v1/actionResponse",d,{}).then(function(a){c._onActionResponseSent(a)},function(a){console.log("ZineOne API Failure: Failed to send an action response! ")})},_onActionResponseSent:function(a){},_getTargetResourcePath:function(a){a="template/"+a+"/html5";var b=f._getDeviceType();return a+"?devicetype="+b},_loadResource:function(a,
b){var d=this;"listView"===b?_loader.GET(a,{},{}).then(function(a){d._onListViewSuccess.call(d,a)},function(a){console.log("ZineOne API Failure : Failed to load the css ")}):"detailView"===b&&("appbox"===this._type?_loader.GET(a,{},{}).then(function(a){d._onAppBoxDetailViewSuccess.call(d,a)},function(a){console.log("ZineOne API Failure : Failed to load the css ")}):_loader.GET(a,{},{}).then(function(a){d._onDetailViewSuccess.call(d,a)},function(a){console.log("ZineOne API Failure : Failed to load the css ")}))},
_onListViewSuccess:function(a){var b=this._displayKBHeader(),d=document.getElementById("z1_list");d||(d=document.createElement("div"),d.setAttribute("id","z1_list"));this._contentDiv.appendChild(b);this._contentDiv.appendChild(d);b=this._displayKBList(this._list).innerHTML;a=a.replace(/{z1_content}/g,b);d.innerHTML=a;this._contentDiv.classList.add("z1_article_container");document.querySelector(".z1_articles_total_num").innerHTML="appbox"===this._type?this._list.length+" Inbox Messages":this._list.length+
" Articles Found";var c=this;document.addEventListener?(c.Z1_DOM_EVENTS.split(",").map(function(a){document.getElementById("z1_article_close_btn").addEventListener(a,function(a){c.closeArticle(a);a.stopPropagation()},!1)}),c.Z1_DOM_EVENTS.split(",").map(function(a){document.getElementById("z1_articles_backBtn").addEventListener(a,function(a){c.closeArticle(a);a.stopPropagation()},!1)})):(document.getElementById("z1_article_close_btn").attachEvent("onclick",function(a){c.closeArticle(a);a.stopPropagation()}),
document.getElementById("z1_articles_backBtn").addEventListener("click",function(a){c.closeArticle(a);a.stopPropagation()},!1));aticleList=document.querySelectorAll(".z1_list_row");var e,f=aticleList.length;for(e=0;e<f;e++)aticleList[e].addEventListener?c.Z1_DOM_EVENTS.split(",").map(function(a){aticleList[e].addEventListener(a,function(a){var b=this.getAttribute("data-kb-index");if(a&&a.srcElement){if((a=a.srcElement)&&a.id&&"z1_appbox_del_btn"===a.id){if("appbox"===c._type){var d=document.querySelectorAll(".z1_list_row");
c._onDeleteAppBoxItem(c._list[b].id,a,d.length)}return}if(a&&a.id&&("z1_appbox_down_arrow"===a.id||"z1_appbox_left_div"===a.id||"z1_appbox_left_child_div"===a.id)&&"appbox"===c._type)return}if(0<c._list[b].unread)for(a=c._list[b].unread=0;a<this.childNodes.length;a++)if("z1_list_midContainer"===this.childNodes[a].className){this.childNodes[a].childNodes[0].classList.remove("z1_appbox_unread_title");this.childNodes[a].childNodes[1].classList.remove("z1_appbox_unread_date");break}c._viewKB.call(c,c._list[b].id);
"faq"!==c._type&&c._sendActionResponse.call(c,c._list[b],"interacted")},!1)}):aticleList[e].attachEvent&&aticleList[e].attachEvent("click",function(){var a=this.getAttribute("data-kb-index");if(evt&&evt.srcElement){var b=evt.srcElement;if(b&&b.id&&"z1_appbox_del_btn"===b.id){"appbox"===c._type&&c._onDeleteAppBoxItem(c._list[a].id,b,f);return}}if(0<c._list[a].unread)for(b=c._list[a].unread=0;b<this.childNodes.length;b++)if("z1_list_midContainer"===this.childNodes[b].className){this.childNodes[b].childNodes[0].classList.remove("z1_appbox_unread_title");
this.childNodes[b].childNodes[1].classList.remove("z1_appbox_unread_date");break}c._viewKB.call(c,c._list[a].id);"faq"!==c._type&&c._sendActionResponse.call(c,c._list[a],"interacted")});this._sendActionResponse(null,"reached");this._showListView=!0;this._afterRender()},_onDeleteAppBoxItem:function(a,b,c){var d=this;a&&"appbox"===this._type&&_loader.POST("c3/api/v1/chat/delete",{id:a},{}).then(function(a){d._removeAppBoxMsg(b,c)},function(a){console.log("ZineOne API Failure : Deletion error ")})},
_removeAppBoxMsg:function(a,b){if(a&&(this._sendActionResponse(null,"dismissed"),a=a.parentNode.parentNode.parentNode?a.parentNode.parentNode.parentNode:a.parentElement.parentElement.parentElement)){var c=document.getElementsByClassName("z1_article_list_wrapper");c&&c[0]&&c[0].removeChild(a)}document.getElementById("z1_articles_total_num").innerHTML=b-1+" Inbox Messages"},_onDetailViewSuccess:function(a){var b=document.getElementById("z1_detail");b?b.innerHTML="":(b=document.createElement("div"),
b.setAttribute("id","z1_detail"));this._contentDiv.appendChild(b);a=a.replace(/%z1.content.url%/g,this._selectedArticle?this._selectedArticle.contentUrl:"");b.innerHTML=a;this._showArticleHeader();this._hideKBList(!0);this._hideKBDetail(!1)},_onAppBoxDetailViewSuccess:function(a){var b=this;"appbox"===this._type&&_loader.GET("c3/api/v1/chat/chatSession?id="+this._selectedArticle.id+"&client=customer&days=7",{},{}).then(function(c){b._onAppBoxDataSuccess.call(b,c,a)},function(a){console.log("ZineOne API Failure: Failure with the chat API")})},
_onAppBoxDataSuccess:function(a,b){var c="",e=document.getElementById("z1_detail");e?e.innerHTML="":(e=document.createElement("div"),e.setAttribute("id","z1_detail"));this._contentDiv.appendChild(e);if((a=JSON.parse(a))&&0<a.length)for(var f=1;f<a.length;f++)c=a[f].data;a=b.replace(/%z1.appbox.detail%/g,c);e.innerHTML=a;this._showArticleHeader();this._hideKBList(!0);this._hideKBDetail(!1)},_showArticleHeader:function(){var a=document.getElementById("z1_articles_total_num");a&&(a.innerHTML="appbox"===
this._type?this._selectedArticle.subject:this._selectedArticle.title)},_processActionMappingOnClick:function(a,b){if(this._evaluatePageSelector(b.pageSelector)&&(b.eventName.toLowerCase()===a.type||"click"===b.eventName.toLowerCase()&&"touchstart"===a.type.toLowerCase())){var c=this._evaluateDOMSelector(b.domSelector),e=null;if(c&&c.length)for(var g=0;g<c.length;g++){if(this._isTriggerElement(c[g],a.srcElement)){e=c[g];break}}else e=c;if(null!==e)try{if(this._isDescendant(e,a.srcElement))if(b.actionType.toLowerCase()===
this.ACTION_MAPPING_TYPE_PUSH)try{var h=this._getActionMappingParams(b.pushParams);f._pushEvent(b.pushEventName,h)}catch(G){console.log("ZineOne: Error in executing custom tag when sending an event to Zineone cloud(on click / on change).")}else if(b.actionType.toLowerCase()===this.ACTION_MAPPING_TYPE_SCRIPT)try{if(b.methodName)window[b.methodName](a)}catch(G){console.log("ZineOne: Error in executing custom tag's script (on click /on change).")}}catch(G){console.log("ZineOne: Error in executing custom tag when sending an event to Zineone cloud(on click / on change).")}}},
_processActionMappingOnLoad:function(a,b){if(this._evaluatePageSelector(b.pageSelector)&&b.eventName.toLowerCase()===a)if(b.actionType.toLowerCase()===this.ACTION_MAPPING_TYPE_PUSH)try{var c=this._getActionMappingParams(b.pushParams);f._pushEvent(b.pushEventName,c)}catch(p){console.log("ZineOne: Error in executing custom tag when sending an event to Zineone cloud(on load).")}else if(b.actionType.toLowerCase()===this.ACTION_MAPPING_TYPE_SCRIPT)try{if(b.methodName)window[b.methodName](a)}catch(p){console.log("ZineOne: Error in executing custom tag's script (on load).")}},
_processActionMappingOnDataLayerChange:function(a,b,c){if(b.eventName.toLowerCase()===a&&this._evaluateVariableSelector(b.variableSelector,c.toLowerCase()))if(b.actionType.toLowerCase()===this.ACTION_MAPPING_TYPE_PUSH)try{var d=this._getActionMappingParams(b.pushParams);f._pushEvent(b.pushEventName,d)}catch(x){console.log("ZineOne: Error in executing custom tag when sending an event to Zineone cloud(on data layer change).")}else if(b.actionType.toLowerCase()===this.ACTION_MAPPING_TYPE_SCRIPT)try{if(b.methodName)window[b.methodName](a)}catch(x){console.log("ZineOne: Error in executing custom tag's script (on data layer change).")}},
_isDescendant:function(a,b){if(void 0===a||void 0===b||null===a||null===b)return!1;if(a==b)return!0;for(b=b.parentNode;null!=b;){if(b==a)return!0;b=b.parentNode}return!1},_isTriggerElement:function(a,b){return a==b?!0:!1},_evaluatePageSelector:function(a){var b=a&&a.type?a.type:"";if(""!=b&&"all"===b.toLowerCase())return!0;if(""!=b&&"pgname"===b.toLowerCase()){b=a.condition.trim();if("equals"===b.toLowerCase())return b=Z1.window.browserInfo.pagePath.toLowerCase(),a=a.val.toLowerCase(),b.endsWith(a);
if("in"===b.toLowerCase())return Z11.window.browserInfo.pagePath.toLowerCase().includes(a.val.toLowerCase());if("starts"===b.toLowerCase())return Z1.window.browserInfo.pagePath.toLowerCase().startsWith(a.val.toLowerCase());if("ends"===b.toLowerCase())return Z1.window.browserInfo.pagePath.toLowerCase().endsWith(a.val.toLowerCase());if("contains"===b.toLowerCase())return Z1.window.browserInfo.pagePath.toLowerCase().includes(a.val.toLowerCase())}},_evaluateDOMSelector:function(a){var b=null;if(a&&a.type)switch(a.type){case "id":b=
document.querySelector("#"+a.val);break;case "class":b=document.querySelector("."+a.val);break;case "query":b=document.querySelectorAll(a.val)}return b},_evaluateVariableSelector:function(a,b){var c=a&&a.type?a.type.toLowerCase():"";if(""!=c&&"any"===c.toLowerCase())return!0;if(""!=c&&"varname"===c.toLowerCase())if(c=a.condition.trim(),"equals"===c.toLowerCase())for(key in a=a.val.toLowerCase(),f._dataLayer){if(key.toLowerCase()===b&&key.toLowerCase()===a)return!0}else if("in"===c.toLowerCase())for(key in b=
a.val.toLowerCase().split("|"),f._dataLayer)if(b.includes(key.toLowerCase()))return!0},_getActionMappingParams:function(a){var b={};if(a)for(key in a){var c=a[key].split("|");if(c[0].trim().toLowerCase()===this.ACTION_MAPPING_PARAM_CONSTANT)b[key]=c[1].trim();else if(c[0].trim().toLowerCase()===this.ACTION_MAPPING_PARAM_COMPUTED)b[key]=eval(c[1].trim());else if(c[0].trim().toLowerCase()===this.ACTION_MAPPING_PARAM_DATALAYER){if(f._dataLayer)for(datakey in f._dataLayer)if(key===datakey){b[key]=f._dataLayer[datakey];
break}}else c[0].trim().toLowerCase()===this.ACTION_MAPPING_PARAM_EVENT&&(b[key]=eval(c[1].trim()))}return b},_bindCss:function(a){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.id="z1_style";c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a));b.appendChild(c)},_clearContent:function(){var a=this._getAllElements("data-zineone-widget");if(a&&0<a.length)for(var b=0;b<a.length;b++)a[b].innerHTML=""},_hideContent:function(){var a=
this._getAllElements("data-zineone-widget");if(a&&0<a.length)for(var b=0;b<a.length;b++)a[b].style.display="none"},_removeStyle:function(){var a=document.getElementById("z1_style");a&&a.parentNode&&a.parentNode.removeChild(a)},_getElementsByAttribute:function(a,b){for(var c=document.getElementsByTagName("*"),e=[],f=0,g,h=null;g=c[f++];)g.getAttribute(a)&&e.push(g);if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].getAttribute(a)===b&&(h=e[c]);return h},_getAllElements:function(a){for(var b=document.getElementsByTagName("*"),
c=[],e=0,f;f=b[e++];)f.getAttribute(a)&&c.push(f);return c}},B={listener:{onMessage:function(a){if("raw"==a.type){if(h._widgetCB)for(var b in h._widgetCB)if(b===a.type){var c=a&&a.info&&a.info.__link?a.info.__link:null;h._widgetCB[b](a.message,c)}}else{h._msgData=a;h._type=a.type;h._actionId=null;h._deepLink="";h._clearContent();h._hideContent();h._removeStyle();h._contentDiv=h._getElementsByAttribute("data-zineone-widget","z1_content_widget");if(!(1<=h._msgData.__call_cnt__)&&h._widgetCB)for(b in h._widgetCB)if(b===
h._type){"raw"!=b&&("kb"===b?(h._actionId=h._msgData.info&&h._msgData.info.actionId?h._msgData.info.actionId:null,h._sendActionResponse(h._msgData,"reached")):(h._actionId=h._msgData.info&&h._msgData.info.actionId?h._msgData.info.actionId:null,h._sendActionResponse(null,"reached")));c=null;h._msgData&&h._msgData.info&&(c=h._msgData.info.__link);h._msgData.__call_cnt__=1;h._widgetCB[b](h._msgData,c);return}"banner"===h._msgData.type?h._createBanner():"message"===h._msgData.type?h._createAlert():"fullscreen"===
h._msgData.type?h._createFullScreen():"kb"===h._msgData.type||"faq"===h._msgData.type?h._createArticle():"appbox"===h._msgData.type&&h._createAppbox()}}},init:function(a){l||(h._printZ1WidgetVersion(),a||(h._lu=J.instance(),a=h._lu),a.connect(this.listener))},registerWidgetHandler:function(a,b){h._widgetCB[a]=b},setProperty:function(a){this._isApiDisabled||a&&""!=a&&h._setProperty(a)},setConfiguration:function(a){h._configMap=a},widgetLifeCycleHandler:function(a,b,c){h._lifecycleCB[a+"_"+b]=c}};"function"!=
typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return this.slice(0,a.length)==a});var H=function(){var a=document.body;a.onchange=function(a){_loopThroughGlobalTriggers(a)};_onBodyAction=function(a){_loopThroughGlobalTriggers(a);h._handleBodyClickEvents(a)};a.addEventListener("click",this._onBodyAction.bind(this),!1);_loopThroughGlobalTriggers=function(a){if(f&&f._globalTriggers&&0<f._globalTriggers.length)for(var b=0;b<f._globalTriggers.length;b++)h._processActionMappingOnClick(a,
f._globalTriggers[b])}};if("complete"!==document.readyState)var K=setInterval(function(){"complete"===document.readyState&&(clearInterval(K),H())},100);else H();window.onbeforeunload=function(a){if(f&&f._globalTriggers&&0<f._globalTriggers.length)for(a=0;a<f._globalTriggers.length;a++)h._processActionMappingOnLoad("unload",f._globalTriggers[a])};return{acceptLocation:function(a){if(this.isBrowserSupported()&&this.isInitialized())try{_acceptLocation(a)}catch(b){console.log("ZineOne : Error setting permission for enabling location.")}},
addCustomerInfo:function(a,b){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{f&&f._addProfileInfo(a,b)}catch(d){console.log("ZineOne : Error adding custom attributes to a user's profile.")}},addData:function(a,b){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{f||(f=_Session),f._addData(a,b)}catch(d){console.log("ZineOne : Error adding parameter to Zineone's data layer.")}},getData:function(a){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{if(f)return f._getData(a)}catch(b){console.log("ZineOne : Error retrieving parameter from Zineone's data layer.")}},
createMessagingLayer:function(){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{_createMessagingLayer()}catch(a){console.log("ZineOne : Error creating a messaging boundary for accepting responses from backend.")}},enableMessaging:function(){l||this.isInitialized()&&this._isDebugOn&&console.log("ZineOne.enableMessaging() api has been deprecated on HTML5 SDK.")},enablePushNotification:function(a,b){if(!l&&this.isPushSupported()&&this.isBrowserSupported())try{_enablePushNotification(a,b)}catch(d){console.log("ZineOne : Error enabling push notification.")}},
getDeviceId:function(){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{return _localStorageGetItem("z1_deviceId")?_localStorageGetItem("z1_deviceId"):null}catch(a){console.log("ZineOne : Error returning user's Device ID.")}},getInboxCount:function(a){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{_getInboxCount(a)}catch(b){console.log("ZineOne : Error returning total number of read and unread messages found in the user\u2019s inbox.")}},getInfo:function(a){if(!l&&this.isInitialized()&&
this.isBrowserSupported())try{_getInfo(a)}catch(b){console.log("ZineOne : Error returning user's identification.")}},getZ1Widget:function(){if(this.isBrowserSupported())try{return _getZ1Widget()}catch(a){console.log("ZineOne : Error fetching the Zineone widgetry.")}},isDebugOn:function(a){try{n=a}catch(b){console.log("ZineOne : Error setting the SDK debugger.")}},initialize:function(a){if(!l&&!this.isInitialized()&&this.isBrowserSupported())try{t=!0,_printSdkVersion(),_setApiKey(a),_setHostName(),
_openSession(),null==_Session._glTimer&&_Session._getULocation(),B.init(),this.createMessagingLayer()}catch(b){t=!1,console.log("ZineOne : Error initializing ZineOne SDK")}},initializeWithToken:function(a){if(!l&&!this.isInitialized()&&this.isBrowserSupported())try{t=!0;_printSdkVersion();var b=atob(a);a=[];b&&""!=b&&(a=b.split("|"));_setAccessToken(a[1]);_setHostName(a[0]);_openSession();null==_Session._glTimer&&_Session._getULocation();B.init();this.createMessagingLayer()}catch(d){t=!1,console.log("ZineOne : Error initializing ZineOne SDK")}},
isIE:function(){return Z1&&Z1.window&&Z1.window.browserInfo&&"Microsoft Internet Explorer"===Z1.window.browserInfo.browser?(console.log("ZineOne: Push is not supported on Internet Explorer version 11 and below. Please use a different browser."),!0):!1},isBrowserSupported:function(){try{var a=Z1.supportedBrowsers;if(a){if(!a[Z1.window.browserInfo.deviceType])return!1;var b=a[Z1.window.browserInfo.deviceType][Z1.window.browserInfo.browser.toLowerCase()],c=parseInt(Z1.window.browserInfo.browserVersion.split(".",
1)[0]);if(b&&c>=b)return!0}console.log("ZineOne: Zineone SDK is not supported on this browser. Please use a different browser.");return!1}catch(p){console.log("ZineOne: Error deciphering browser support.")}},isPushSupported:function(){try{if("chrome"==Z1.window.browserInfo.browser.toLowerCase()||"firefox"==Z1.window.browserInfo.browser.toLowerCase()||"edge"==Z1.window.browserInfo.browser.toLowerCase())return!0;console.log("ZineOne: Push is currently only supported on Chrome, Firefox and Edge.");return!1}catch(a){console.log("ZineOne: Error deciphering push support.")}},
openInbox:function(){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{_fetchInboxData()}catch(a){console.log("ZineOne: Error fetching User's Appbox Messages.")}},openFAQ:function(){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{_showFAQ()}catch(a){console.log("ZineOne: Error opening FAQ's.")}},pushEvent:function(a,b){if(!l&&this.isInitialized()&&this.isBrowserSupported())try{_pushEvent(a,b)}catch(d){console.log("ZineOne: Error sending an event to Zineone cloud.")}},removeData:function(a){if(!l&&
this.isInitialized()&&this.isBrowserSupported())try{f&&f._removeData(a)}catch(b){console.log("ZineOne: Error removing data layer key.")}},setCustomerId:function(a){if(!l&&this.isInitialized()&&a&&""!=a&&this.isBrowserSupported())try{_onSetCustomerId(a)}catch(b){console.log("ZineOne: Error setting Customer ID.")}},setCustomKey:function(a,b){if(!l&&this.isInitialized()&&""!=a&&""!=b&&this.isBrowserSupported())try{_onSetCustomKey(a,b)}catch(d){console.log("ZineOne: Error setting custom key.")}},setDomain:function(a){if(!l&&
this.isBrowserSupported())try{""!=a&&_setDomainName(a)}catch(b){console.log("ZineOne: Error setting custom domain.")}},turnOffApi:function(a){try{l=a}catch(b){console.log("ZineOne: Error on deactivating SDK.")}},isInitialized:function(){try{if(l)return!1;n&&t&&(n?console.log("ZineOne: Initialized or Initialization is in flight."):n&&console.log("ZineOne: Not initialized."));return t}catch(a){console.log("ZineOne: Error identifying init status.")}},isDisabled:function(){return l}}}();var ZineOne=new Z1;
(function(c){var k="";screen.width&&(width=screen.width?screen.width:"",height=screen.height?screen.height:"",k+=""+width+"x"+height);var m=navigator.appVersion,e=navigator.userAgent,g=navigator.appName,l=""+parseFloat(navigator.appVersion),t;parseInt(navigator.appVersion,10);var n,r;-1!=(n=e.indexOf("Opera"))?(g="Opera",l=e.substring(n+6),-1!=(n=e.indexOf("Version"))&&(l=e.substring(n+8))):-1!=(n=e.indexOf("OPR"))?(g="Opera",l=e.substring(n+4)):-1!=(n=e.indexOf("MSIE"))?(g="Microsoft Internet Explorer",
l=e.substring(n+5)):"Netscape"==g&&-1!=e.indexOf("Trident/")?(g="Microsoft Internet Explorer",l=e.substring(n+5),-1!=(n=e.indexOf("rv:"))&&(l=e.substring(n+3))):-1!=(n=e.indexOf("Edge"))?(g="Edge",l=e.substring(n+5)):-1!=(n=e.indexOf("Chrome"))?(g="Chrome",l=e.substring(n+7)):-1!=(n=e.indexOf("Safari"))?(g="Safari",l=e.substring(n+7),-1!=(n=e.indexOf("Version"))&&(l=e.substring(n+8)),-1!=e.indexOf("CriOS")&&(g="Chrome")):-1!=(n=e.indexOf("Firefox"))?(g="Firefox",l=e.substring(n+8)):(t=e.lastIndexOf(" ")+
1)<(n=e.lastIndexOf("/"))&&(g=e.substring(t,n),l=e.substring(n+1),g.toLowerCase()==g.toUpperCase()&&(g=navigator.appName));-1!=(r=l.indexOf(";"))&&(l=l.substring(0,r));-1!=(r=l.indexOf(" "))&&(l=l.substring(0,r));-1!=(r=l.indexOf(")"))&&(l=l.substring(0,r));t=parseInt(""+l,10);isNaN(t)&&(l=""+parseFloat(navigator.appVersion),parseInt(navigator.appVersion,10));t=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(m);n=navigator.cookieEnabled?!0:!1;"undefined"!=typeof navigator.cookieEnabled||n||(document.cookie=
"testcookie",n=-1!=document.cookie.indexOf("testcookie")?!0:!1);r="Unknown";for(var q=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},
{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",
r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],u=0;u<q.length;u++){var v=q[u];if(v.r.test(e)){r=v.s;break}}q="Unknown";/Windows/.test(r)&&(q=/Windows (.*)/.exec(r)[1],r="Windows");switch(r){case "Mac OS X":q=/Mac OS X (10[\._\d]+)/.exec(e)[1];break;case "Android":q=/Android ([\._\d]+)/.exec(e)[1];break;case "iOS":q=/OS (\d+)_(\d+)_?(\d+)?/.exec(m),q=q[1]+"."+q[2]+"."+(q[3]|0)}m=c.location.pathname;v=m.split("/");u=null;for(var y=v.length-1;0<=y&&!(u=v[y],0<u.length);y--);
null==u&&(u="");v={phone:{android:{chrome:43,safari:6,firefox:53,opera:55,edge:15,"microsoft internet explorer":10},ios:{chrome:43,safari:6,firefox:53,opera:55,edge:15,"microsoft internet explorer":10}},tablet:{android:{chrome:43,safari:6,firefox:53,opera:55,edge:15,"microsoft internet explorer":10},ios:{chrome:43,safari:6,firefox:53,opera:55,edge:15,"microsoft internet explorer":10}},desktop:{chrome:43,safari:6,firefox:53,opera:55,edge:15,"microsoft internet explorer":10}};y=/mobile|ip(hone|od|ad)|android|blackBerry|iemobile|kindle|netfront|silk-accelerated|(hpw|web)os|fennec|minimo|opera m(obi|ini)|blazer|dolfin|dolphin|skyfire|zune/.test(e);
e=/ipad/.test(e)||/android/.test(e)&&/(chrome\/[.0-9]* (?!mobile))/.test(e)||-1<e.indexOf("mozilla/5.0")&&-1<e.indexOf("android ")&&-1<e.indexOf("applewebkit")&&/(?!mobile)/.test(e)&&!(-1<e.indexOf("chrome"));Z1&&(Z1.window=c,Z1.window.browserInfo={screen:k,browser:g,browserVersion:l,mobile:t,os:r,osVersion:q,cookies:n,pageName:u,pagePath:m,deviceType:y?"phone":e?"tablet":"desktop"},Z1.supportedBrowsers=v)})(this);
