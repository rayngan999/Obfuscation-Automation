var myclient=new ClientJS,user=new Vue({el:"#login-form",data:{currentBrowser:myclient.getBrowser(),currentOsName:myclient.getOS(),currentFingerprint:myclient.getFingerprint(),buttonState:!0,error:null,countWrongPass:0},methods:{changeCaptchaLogin:function(){$("#captcha_login_change").find("img").click()},login:function(){var r=this;r.buttonState=!1;var e=$("#login-form"),n=e.serialize()+"&countWrongPass="+r.countWrongPass;n+="&browser="+r.currentBrowser+"&os="+r.currentOsName+"&fingerprint="+r.currentFingerprint,setTimeout(function(){$.ajax({url:window.location.origin+"/login",type:"POST",data:n,error:function(e){r.buttonState=!0,null!=e.responseJSON.errors&&(r.error=e.responseJSON.errors),null!=e.responseJSON.count_wrong_pass&&(r.countWrongPass=e.responseJSON.count_wrong_pass),r.changeCaptchaLogin()},success:function(r){location.reload()}})},1e3)},hideError:function(){this.error=null}},mounted:function(){}}),myclient=new ClientJS,userIp="";$.getJSON("https://jsonip.com/?callback=?",function(r){userIp=r.ip});var user=new Vue({el:"#register-form",data:{buttonState:!0,error:null},methods:{register:function(){var r=this;r.buttonState=!1;var e=myclient.getBrowser(),n=myclient.getOS(),t=myclient.getFingerprint(),o=$("#register-form"),i=o.serialize();i+="&browser="+e+"&os="+n+"&fingerprint="+t+"&userIp="+userIp,console.log(i),setTimeout(function(){$.ajax({url:window.location.origin+"/register",type:"POST",data:i,error:function(e){r.buttonState=!0,null!=e.responseJSON.errors&&(r.error=e.responseJSON.errors)},success:function(e){r.buttonState=!0,location.reload()}})},1e3)},hideError:function(){this.error=null}},mounted:function(){}});