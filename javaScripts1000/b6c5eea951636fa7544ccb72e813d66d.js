(window.wpJsonpCambly=window.wpJsonpCambly||[]).push([[120],{1045:function(t,e,n){"use strict";n.r(e),n.d(e,"Experiment",(function(){return g})),n.d(e,"Experiments",(function(){return O}));var r=n(3),o=n(10),u=n.n(o),i=n(24);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){b(n,t);var e=d(n);function n(){return s(this,n),e.apply(this,arguments)}return p(n,null,[{key:"collection",value:function(){return"experiments"}},{key:"forExpName",value:function(t){return a(i.a.getState().model[this.collection()].all.values()).find((function(e){return e.expName==t}))}}]),n}(r.b),O=function(t){b(n,t);var e=d(n);function n(){return s(this,n),e.apply(this,arguments)}return p(n,null,[{key:"fetch",value:function(){var t=u.a.utc().add(-30,"years");return f(m(n),"fetch",this).call(this,{start:t.valueOf()})}},{key:"getActive",value:function(t,e){t=t||u.a.utc(),e=e||u.a.utc();var n=t.valueOf(),r=e.valueOf();return a(i.a.getState().model[this.docClass.collection()].all.values()).filter((function(t){return t.startTime.$date<r&&t.endTime.$date>n}))}}]),n}(r.a);O.register(g)},108:function(t,e,n){"use strict";n.r(e),n.d(e,"Device",(function(){return g})),n.d(e,"Devices",(function(){return O}));var r=n(3),o=n(790),u=n.n(o),i=n(10),c=n.n(i);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){p(i,t);var e,n,r,o=h(i);function i(){return s(this,i),o.apply(this,arguments)}return e=i,r=[{key:"collection",value:function(){return"devices"}},{key:"getPushSub",value:function(){if("serviceWorker"in navigator){var t=$.Deferred();return navigator.serviceWorker.register("/static/service-worker/sw.js").then((function(e){return e.pushManager.getSubscription().then((function(e){e?t.resolve({webPushSub:e}):t.resolve({})})).catch((function(e){return t.resolve({})}))})).catch((function(e){return t.resolve({})})),t}return $.when({})}},{key:"getDeviceId",value:function(){var t,e=function(){try{return localStorage.setItem("testKey","testValue"),localStorage.removeItem("testKey"),!0}catch(t){return!1}};if(e()&&(t=localStorage.getItem("browser-guid")),!t){var n=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};t=n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n(),e()&&localStorage.setItem("browser-guid",t)}var r={deviceId:t,deviceIdType:"guid",guid:t};if(void 0!==u.a){var o=$.Deferred();return(new u.a).get((function(t,e){r.browserFingerprint=t,r.browserFingerprintComponents=e,o.resolve(r)})),o}return $.when(r)}},{key:"register",value:function(t){return $.when(this.getDeviceId(),this.getPushSub()).then((function(e,n){var r=c()();r.locale("en");var o=l(l(l({},e),n),{},{deviceType:"browser",platform:t,appVersion:r.utc().format("MMM-YYYY"),userAgent:navigator.userAgent,isoLanguage:navigator.languages&&(navigator.languages[0]||navigator.language||navigator.userLanguage),timezone:c.a.tz.guess()});return i.$create(o,{scrub:!0})}))}}],(n=null)&&y(e.prototype,n),r&&y(e,r),i}(r.b);m(g,"BROWSER",4);var O=function(t){p(n,t);var e=h(n);function n(){return s(this,n),e.apply(this,arguments)}return n}(r.a);O.register(g)},151:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"PublishingState",(function(){return S})),n.d(e,"Curriculum",(function(){return _})),n.d(e,"Curriculums",(function(){return j}));var r=n(27),o=n(3),u=n(260),i=n(261),c=n(107),f=n(558);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function t(){O(this,t)};w(S,"LIVE","live"),w(S,"DRAFT","draft"),w(S,"REMOVED","removed");var _=function(e){h(r,e);var n=v(r);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.metadata,u=void 0===o?null:o;return O(this,r),n.call(this,t,{metadata:u})}return b(r,null,[{key:"collection",value:function(){return"curriculums"}}]),b(r,[{key:"enroll",value:function(e){return t.logUIEvent("curriculumEnroll",{curriculumName:this.name}),u.Enrollment.create(e,this.id)}},{key:"updateIcon",value:function(t){return this.$mutable().$set("icon",t).$save()}},{key:"numberOfLessons",value:function(){return(this.lessonPlanIds||[]).length}},{key:"isPublished",value:function(){return this.publishingState===S.LIVE}},{key:"isDraft",value:function(){return this.publishingState===S.DRAFT}},{key:"isDeprecated",value:function(){return this.publishingState===S.REMOVED}},{key:"isNewStyle",value:function(){return"lessonPlanIds"in this}},{key:"translatedDifficulty",value:function(){switch(this.difficulty){case 1:return c.a.t("beginner");case 2:return c.a.t("intermediate");case 3:return c.a.t("advanced");default:return c.a.t("any level")}}}],[{key:"fetchById",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.fetchLessonPlans,u=void 0!==o&&o;return y(g(r),"fetchById",this).call(this,t,{viewAs:e}).done((function(t){if(u){var n=t.doc;i.LessonPlans.fetchByKey(n.lessonPlanIds,{viewAs:e})}return t}))}}]),r}(f._Curriculum),j=function(t){h(n,t);var e=v(n);function n(){return O(this,n),e.apply(this,arguments)}return b(n,null,[{key:"kids",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(l(t));return e.documents.forEach((function(t,e){t&&"childrensmaterials"===t.lessonType?n.set(e,t):n.delete(e)})),n;default:return t}}},{key:"adults",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(l(t));return e.documents.forEach((function(t,e){t&&"childrensmaterials"!==t.lessonType?n.set(e,t):n.delete(e)})),n;default:return t}}},{key:"newStyleAdult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(l(t));return e.documents.forEach((function(t,e){t&&"childrensmaterials"!==t.lessonType?n.set(e,t):n.delete(e)})),n;default:return t}}}]),n}(f._Curriculums);w(j,"reducers",Object(r.combineReducers)({all:o.a.all,metadata:j.metadata,kids:j.kids,adults:j.adults,newStyleAdult:j.newStyleAdult})),j.register(_)}.call(this,n(45).default)},232:function(t,e,n){"use strict";n.r(e),n.d(e,"IterableMessage",(function(){return s})),n.d(e,"IterableMessages",(function(){return y}));var r=n(344);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._IterableMessage),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._IterableMessages);y.register(s)},241:function(t,e,n){"use strict";n.r(e),n.d(e,"InviteCode",(function(){return b})),n.d(e,"InviteCodes",(function(){return h}));var r=n(340);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){c(f,t);var e,n,r,o=a(f);function f(){var t;u(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(s(t=o.call.apply(o,[this].concat(n))),"clearFreeMinutesAndWaitForCompletion",(function(){return t.removeFreeMinutes().then((function(t){return function t(e,n){return!e.doc.freeMinutesRemoved&&n?new Promise((function(t){setTimeout(t,1e3)})).then((function(){return e.doc.$reload()})).then((function(e){return t(e,n-1)})):e}(t,10)}))})),t}return e=f,r=[{key:"collection",value:function(){return"invite_codes"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),f}(r._InviteCode),h=function(t){c(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._InviteCodes);h.register(b)},260:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"Enrollment",(function(){return S})),n.d(e,"Enrollments",(function(){return _}));var r=n(10),o=n.n(r),u=n(27),i=n(3),c=n(563),f=n(24);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(e){h(r,e);var n=v(r);function r(){var t;y(this,r);for(var e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return w(g(t=n.call.apply(n,[this].concat(o))),"isMoreRecentThan",(function(e){var n,r;return(null===(n=t.startDate)||void 0===n?void 0:n.$date)&&(null===(r=e.startDate)||void 0===r?void 0:r.$date)?t.startDate.$date>=e.startDate.$date:t.id>=(null==e?void 0:e.id)})),t}return b(r,[{key:"unenroll_with_confirmation",value:function(e){var n=this;return confirm(e.t("Are you sure you want to quit this course?"))?(t.logUIEvent("curriculumUnEnroll",{curriculumName:(this.curriculumObj()||{}).name,completedLessonCount:(this.completedLessonIds||[]).length}),this.unenroll().done((function(){f.a.getState().model.enrollments.all.get(n.id).$reload()}))):null}},{key:"enrolledTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?o.a.tz(this.startDate.$date,t):o.a.utc(this.startDate.$date)}},{key:"completedLessonCount",value:function(){return(this.completedLessonIds||[]).length}},{key:"remainingCurriculumObjIds",value:function(){var t=this;return this.curriculumObj().lessonPlanIds.slice(this.curriculumObj().lessonPlanIds.indexOf(this.nextLessonId)).filter((function(e){return!(t.completedLessonIds||[]).includes(e)}))}},{key:"curriculumObj",value:function(){return f.a.getState().model.curriculums.all.get(this.curriculumId)}}],[{key:"create",value:function(t,e){return this.$create({studentId:t,curriculumId:e},{scrub:!0}).done((function(){f.a.getState().model.enrollments.all.forEach((function(t){return t.$reload()}))}))}}]),r}(c._Enrollment),_=function(t){h(n,t);var e=v(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,null,[{key:"fetchForUser",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.fetchQuery({userId:t,active:e},{scrub:!0})}},{key:"activeForUser",value:function(t,e){return l(t.values()).find((function(t){return t.studentId===e&&t.active}))}},{key:"byCurriculum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_DOCUMENTS":case"RECEIVE_DOCUMENTS":var n=new Map(l(t));return e.documents.forEach((function(t){var e=t.curriculumId;n.has(e)&&!t.isMoreRecentThan(n.get(e))||n.set(t.curriculumId,t)})),n;default:return t}}}]),n}(c._Enrollments);w(_,"reducers",Object(u.combineReducers)({all:i.a.all,metadata:i.a.metadata,byCurriculum:_.byCurriculum})),_.register(S)}.call(this,n(45).default)},276:function(t,e,n){"use strict";n.r(e),n.d(e,"Kid",(function(){return _})),n.d(e,"ageRanges",(function(){return j})),n.d(e,"getAgeRange",(function(){return P})),n.d(e,"Kids",(function(){return R}));var r=n(10),o=n.n(r),u=n(27),i=n(48),c=n(108),f=n(107),a=n(24),l=n(43);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=function(t){v(n,t);var e=g(n);function n(){return b(this,n),e.apply(this,arguments)}return d(n,[{key:"signInAsParent",value:function(t,e){!e.hasPassword||this.isAssumedAdult()?(localStorage.removeItem("kidId"),c.Device.register("kids"),window.location=t):a.a.dispatch(Object(l.F)(f.a.t("Please ask your parent to log in to continue."),t))}},{key:"isTrialing",value:function(){return!this.hasActivePlan()&&this.kidsTrialStage&&"converted"!==this.kidsTrialStage}},{key:"isAssumedAdult",value:function(){return!this.kidsTrialStage&&"neverSubscribed"===this.getSubscriberStatus()}},{key:"signIn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||"neverSubscribed"!==this.getSubscriberStatus()||this.isTrialing()?(localStorage.setItem("kidId",this.userId),c.Device.register("kids"),window.location="/kids/student"):cambly.USER_ID===this.parentId?window.location.href="/kids/parent/subscribe?kidId=".concat(this.userId):a.a.dispatch(Object(l.F)(f.a.t("Please ask your parent to log in to continue."),"/kids/parent/subscribe?kidId=".concat(this.userId)))}},{key:"setAvatar",value:function(t){var e=this;return this.$post("set_cambly_avatar",{avatarPath:t}).done((function(){e.$reload()}))}},{key:"updateKid",value:function(t,e,n,r){return this.$post("update_kid",{displayName:t,ageRange:e,kidLevel:n,timezone:r})}},{key:"getLevel",value:function(){var t=null===this.kidLevel?0:this.kidLevel;return isNaN(parseInt(t))&&(t=n.oldLevelIds[this.kidLevel]||n.oldLevelIds.not_sure),n.englishLevels.find((function(e){return e.value===t}))}},{key:"getLevelText",value:function(){return this.getLevel().label}},{key:"getLevelTextInEnglish",value:function(){return this.getLevel().englishLabel}},{key:"getApproxAge",value:function(){return o()().year()-this.birthYear}}],[{key:"collection",value:function(){return"kids"}},{key:"endpoint",value:function(){return"/api/users"}}]),n}(i.User);S(_,"englishLevels",[{value:1,label:"kid_level_1_label",englishLabel:"low",description:"kid_level_1_description",iconSrc:"/static/kids/signup-flow/level-low.png"},{value:2,label:"kid_level_2_label",englishLabel:"medium",description:"kid_level_2_description",iconSrc:"/static/kids/signup-flow/level-medium.png"},{value:3,label:"kid_level_3_label",englishLabel:"high",description:"kid_level_3_description",iconSrc:"/static/kids/signup-flow/level-high.png"}]);var j=[f.a.t("4-5 years"),f.a.t("6-8 years"),f.a.t("9-12 years"),f.a.t("13+ years")],P=function(t){var e=o()().year();return e-t>=13?3:e-t>=9?2:e-t>=6?1:e-t>=4?0:-1},R=function(t){v(n,t);var e=g(n);function n(){return b(this,n),e.apply(this,arguments)}return d(n,null,[{key:"fetchForParent",value:function(t){return t&&t.isParent&&t.kidIds&&t.kidIds.length>0?n.fetch({ids:t.kidIds},!0,!0):$.when({result:[],documents:new Map})}},{key:"sortBy",value:function(t,e){var n=y(e.values());if(n.length){var r="string"==typeof n[0][t];n.sort((function(e,n){return r?e[t].toLowerCase().localeCompare(n[t].toLowerCase()):e[t]-n[t]}))}return n}},{key:"mine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(y(t));return e.documents.forEach((function(t,e){t.isKid&&t.parentId===cambly.USER_ID?n.set(e,t?new _(t):null):n.delete(e)})),n;default:return t}}},{key:"me",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=localStorage.getItem("kidId")||(null==t?void 0:t.userId);switch(e.type){case"RECEIVE_USERS":if(n&&e.users.has(n)){var r=new _(e.users.get(n));return r.isKid?r:null}return t;case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":return n&&e.documents.has(n)?e.documents.get(n):t;default:return t}}}]),n}(i.Users);S(R,"reducers",Object(u.combineReducers)({all:i.Users.all,metadata:i.Users.metadata,mine:R.mine,me:R.me})),R.register(_)},288:function(t,e,n){"use strict";n.r(e),n.d(e,"Config",(function(){return g})),n.d(e,"Configs",(function(){return O}));var r=n(27),o=n(3);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d,v,m,g=function(t){s(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return l(n,null,[{key:"collection",value:function(){return"configs"}}]),n}(o.b),O=function(t){s(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return l(n,null,[{key:"forKey",value:function(t){return this.fetchByKey(t,{keyName:"key",reducer:"byKey",scrub:!0})}},{key:"byKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(i(t));return e.documents.forEach((function(t){n.set(t.key,t)})),n;default:return t}}},{key:"showCaptcha",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=t;return e.documents.forEach((function(t){t.key.startsWith("showCaptcha")&&(n=!!t.value)})),n;default:return t}}}]),n}(o.a);d=O,v="reducers",m=Object(r.combineReducers)({byKey:O.byKey,showCaptcha:O.showCaptcha}),v in d?Object.defineProperty(d,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[v]=m,O.register(g)},423:function(t,e,n){"use strict";n.r(e),n.d(e,"Influencer",(function(){return b})),n.d(e,"Influencers",(function(){return h}));var r=n(3),o=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){a(n,t);var e=s(n);function n(){return i(this,n),e.apply(this,arguments)}return f(n,null,[{key:"collection",value:function(){return"influencers"}},{key:"addInfluencer",value:function(t){return this.$create(t,{viewAs:o.default.SUPPORT})}}]),n}(r.b),h=function(t){a(n,t);var e=s(n);function n(){return i(this,n),e.apply(this,arguments)}return f(n,null,[{key:"fetchByLocale",value:function(t){var e={locale:t};return this.fetchQuery(e,{viewAs:o.default.SUPPORT})}}]),n}(r.a);h.register(b)},458:function(t,e,n){"use strict";n.r(e),n.d(e,"Chat",(function(){return O})),n.d(e,"Chats",(function(){return w}));var r=n(210),o=n(10),u=n.n(o),i=n(27),c=n(3);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=function(t){b(n,t);var e=d(n);function n(){return s(this,n),e.apply(this,arguments)}return p(n,[{key:"getState",value:function(){return n.STATES[this.state]}},{key:"isInactive",value:function(){return"inactive"===this.getState()}},{key:"tutorPublished",value:function(){return this.tutorStreamId}},{key:"studentPublished",value:function(){return this.studentStreamId}},{key:"getType",value:function(){return"chat"}},{key:"utcStart",value:function(){if("startTimeDt"in this&&null!==this.startTimeDt)return u.a.utc(this.startTimeDt.$date);console.log("Documents must have a startTime to use the utcStart() function",this)}},{key:"utcEnd",value:function(){if("endTimeDt"in this)return u.a.utc(this.endTimeDt.$date);console.log("Documents must have an endTime to use the utcEnd() function",this)}},{key:"isPast",value:function(){return!0}},{key:"getVideoUrl",value:function(){return this.hasVideoUrl?"".concat(this.endpoint(),"/video"):null}},{key:"isDone",value:function(){return["canceled","canceledInactive","completed"].includes(this.getState())}}],[{key:"collection",value:function(){return"chats"}}]),n}(r.LegacyLesson);g(O,"STATES",{0:"new",1:"inProgress",2:"completed",3:"canceled",4:"inactive",5:"canceledInactive",6:"pending"}),g(O,"ACTIVE_STATES",[0,1,2,3,6]);var w=function(t){b(n,t);var e=d(n);function n(){return s(this,n),e.apply(this,arguments)}return p(n,null,[{key:"merge",value:function(t){var e=new Map;return t.forEach((function(t,n){for(var r=a(t.values()).sort((function(t,e){return t.utcStart().diff(e.utcStart())})),o=new Map,i=0,c=1;c<=r.length;){for(;c<r.length&&r[i].tutor===r[c].tutor&&u.a.duration(r[c].utcStart()-r[c-1].utcEnd()).asMinutes()<10;)c++;var f=new O(r[i]);f.innerChats=r.slice(i,c).filter((function(t){return t})),f.minutes=f.innerChats.reduce((function(t,e){return t+e.minutes}),0),f.endTimeDt=f.innerChats[f.innerChats.length-1].endTimeDt,o.set(f.id,f),c=(i=c)+1}e.set(n,o)})),e}},{key:"fetchForRole",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.start,u=void 0===o?{}:o,i=r.end,c=void 0===i?{}:i,f=r.state,a=void 0===f?{}:f,l=r.extraQuery,s=void 0===l?{}:l;return this.fetchQuery({language:t,userId:e,role:n,start:u,end:c,state:a,extraQuery:s},{viewAs:n})}}]),n}(r.LegacyLessons);g(w,"reducers",Object(i.combineReducers)({all:c.a.all,metadata:c.a.metadata,byDay:r.LegacyLessons.byDay})),w.register(O)},462:function(t,e,n){"use strict";n.r(e),n.d(e,"Charge",(function(){return p})),n.d(e,"Charges",(function(){return b}));var r=n(553),o=n(773);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){f(a,t);var e,n,r,u=l(a);function a(){return i(this,a),u.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"charges"}}],(n=[{key:"generateIntentAndComplete",value:function(t){return this.generatePaymentIntent(t).then((function(e){return e.doc.modelComplete(t)}))}},{key:"generatePaymentIntent",value:function(t){var e=this;return new Promise((function(n,r){e.$post("generate_payment_intent",{paymentId:t}).done(n).fail(r)}))}},{key:"modelComplete",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(n,r){return t.requiresUserAction?o.StripePaymentIntent.load(t.stripePaymentIntentId).done((function(o){o.doc.handleNextAction().then((function(){t.execute(e).then(n).catch(r)})).catch(r)})):t.execute(e).then(n).catch(r)}))}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(n,r){t.$post("execute",{payment:e}).done((function(t){var e=t.doc;return"complete"===e.status?n(e):r(e)})).catch((function(t){return r(t)}))}))}},{key:"razorpayExecute",value:function(){var t=this;return new Promise((function(e,n){t.$post("execute").done((function(t){var n=t.doc;return e(n)})).catch((function(t){return n(t)}))}))}},{key:"razorpayComplete",value:function(t,e){var n=this;return new Promise((function(r,o){n.$post("complete",{razorpayPaymentId:t,razorpaySignature:e}).done((function(t){var e=t.doc;return"complete"===e.status?r(e):o(e)})).catch((function(t){return o(t)}))}))}}])&&c(e.prototype,n),r&&c(e,r),a}(r._Charge),b=function(t){f(n,t);var e=l(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(r._Charges);b.register(p)},487:function(t,e,n){"use strict";n.r(e),n.d(e,"Ip",(function(){return s})),n.d(e,"Ips",(function(){return y}));var r=n(341);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._Ip),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._Ips);y.register(s)},580:function(t,e,n){"use strict";n.r(e),n.d(e,"EmailPreference",(function(){return p})),n.d(e,"EmailPreferences",(function(){return b}));var r=n(562);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){f(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"createPreference",value:function(t,e,n){return this.$create({userId:t,buckets:e},{viewAs:n})}}]),n}(r._EmailPreference),b=function(t){f(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"fetchByUserId",value:function(t,e){var n={userId:t};return this.fetchQuery(n,{viewAs:e})}}]),n}(r._EmailPreferences);b.register(p)},598:function(t,e,n){"use strict";n.r(e),n.d(e,"IPPromotion",(function(){return y})),n.d(e,"IPPromotions",(function(){return p}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){c(f,t);var e,n,r,o=a(f);function f(){return u(this,f),o.apply(this,arguments)}return e=f,r=[{key:"collection",value:function(){return"ip_promotions"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),f}(r.b),p=function(t){c(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);p.register(y)},633:function(t,e,n){"use strict";n.r(e),n.d(e,"Flight",(function(){return g})),n.d(e,"Flights",(function(){return O}));var r=n(210),o=n(3),u=n(27),i=n(24);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){p(n,t);var e=h(n);function n(){return l(this,n),e.apply(this,arguments)}return y(n,[{key:"tutorObj",value:function(){return this.tutorIds.length?i.a.getState().model.users.all.get(this.tutorIds[0]):null}},{key:"isGroupLesson",value:function(){return!0}},{key:"getType",value:function(){return"flight"}},{key:"isPast",value:function(){return!0}}],[{key:"collection",value:function(){return"flights"}}]),n}(r.LegacyLesson);m(g,"NOT_RINGING_STATES",[0,1,2,3,4]);var O=function(t){p(n,t);var e=h(n);function n(){return l(this,n),e.apply(this,arguments)}return y(n,null,[{key:"merge",value:function(t){var e=new Map;return t.forEach((function(t,n){for(var r=f(t.values()).sort((function(t,e){return t.utcStart().diff(e.utcStart())})),o=new Map,u=0,i=0;i<r.length;){for(;r[i]&&(u===i||r[u].flockId===r[i].flockId);)i++;var c=new g(r[u]);c.innerChats=r.slice(u,i).filter((function(t){return t})),c.minutes=c.innerChats.reduce((function(t,e){return t+e.minutes}),0),c.endTimeDt=c.innerChats[c.innerChats.length-1].endTimeDt,o.set(c.id,c),i=u=i+1}e.set(n,o)})),e}},{key:"fetchForUser",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.isTutor,r=void 0===n?{}:n,o=e.start,u=void 0===o?{}:o,i=e.end,c=void 0===i?{}:i,f=e.alive,a=void 0===f?{}:f,l=e.airborne,s=void 0===l?{}:l,y=e.state,p=void 0===y?{}:y,b=e.minSeconds,h=void 0===b?{}:b,d=e.student,v=void 0===d?{}:d,m=e.tutor,g=void 0===m?{}:m,O=e.extraQuery,w=void 0===O?{}:O,S=arguments.length>2?arguments[2]:void 0;return this.fetchQuery({userId:t,isTutor:r,start:u,end:c,alive:a,airborne:s,state:p,minSeconds:h,student:v,tutor:g,extraQuery:w},{viewAs:S})}}]),n}(r.LegacyLessons);m(O,"reducers",Object(u.combineReducers)({all:o.a.all,metadata:o.a.metadata,byDay:r.LegacyLessons.byDay})),O.register(g)},663:function(t,e,n){"use strict";n.r(e),n.d(e,"FavoriteTutor",(function(){return O})),n.d(e,"FavoriteTutors",(function(){return w}));var r=n(27),o=n(3),u=n(24);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v,m,g,O=function(t){y(n,t);var e=b(n);function n(){return a(this,n),e.apply(this,arguments)}return s(n,null,[{key:"collection",value:function(){return"favorite_tutors"}},{key:"toggleActive",value:function(t,e,n){return this.$create({userId:t,tutor:e,active:n},{scrub:!0})}}]),n}(o.b),w=function(t){y(n,t);var e=b(n);function n(){return a(this,n),e.apply(this,arguments)}return s(n,null,[{key:"fetchForUser",value:function(t){var e=this;return this.fetch({userId:t}).done((function(n){0===n.docs.length&&u.a.dispatch({type:"RECEIVE_DOCUMENTS",collection:e,documents:new Map,userId:t})}))}},{key:"byUser",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=c(t.keys()).reduce((function(e,n){return e.set(n,new Set(t.get(n)))}),new Map);return c(e.documents.values()).forEach((function(t){var e=t.userId;n.has(e)||n.set(e,new Set),t.active?n.get(e).add(t.tutorId):n.get(e).delete(t.tutorId)})),e.userId&&!n.has(e.userId)&&n.set(e.userId,new Set),n;default:return t}}}]),n}(o.a);v=w,m="reducers",g=Object(r.combineReducers)({all:o.a.all,metadata:o.a.metadata,byUser:w.byUser}),m in v?Object.defineProperty(v,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[m]=g,w.register(O)},704:function(t,e,n){"use strict";n.r(e),n.d(e,"HiddenTutor",(function(){return O})),n.d(e,"HiddenTutors",(function(){return w}));var r=n(27),o=n(338),u=n(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v,m,g,O=function(t){y(n,t);var e=b(n);function n(){return a(this,n),e.apply(this,arguments)}return s(n,[{key:"unHide",value:function(){return this.$delete()}}]),n}(o._HiddenTutor),w=function(t){y(n,t);var e=b(n);function n(){return a(this,n),e.apply(this,arguments)}return s(n,null,[{key:"byTutor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(c(t));return e.documents.forEach((function(t){n.set(t.tutorId,t)})),n;case"DELETE_DOCUMENTS":var r=new Map(c(t));return e.documents.forEach((function(t){r.delete(t.tutorId)})),r;default:return t}}},{key:"hasFetched",value:function(){var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_DOCUMENTS":return!0;default:return!1}}}]),n}(o._HiddenTutors);v=w,m="reducers",g=Object(r.combineReducers)({all:u.a.all,metadata:u.a.metadata,byTutor:w.byTutor,hasFetched:w.hasFetched}),m in v?Object.defineProperty(v,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[m]=g,w.register(O)},705:function(t,e,n){"use strict";n.r(e),n.d(e,"IncentiveStructure",(function(){return s})),n.d(e,"IncentiveStructures",(function(){return y}));var r=n(339);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._IncentiveStructure),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._IncentiveStructures);y.register(s)},706:function(t,e,n){"use strict";n.r(e),n.d(e,"IterableAttributionTracker",(function(){return s})),n.d(e,"IterableAttributionTrackers",(function(){return y}));var r=n(342);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._IterableAttributionTracker),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._IterableAttributionTrackers);y.register(s)},707:function(t,e,n){"use strict";n.r(e),n.d(e,"IterableInbox",(function(){return s})),n.d(e,"IterableInboxs",(function(){return y}));var r=n(343);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._IterableInbox),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._IterableInboxs);y.register(s)},708:function(t,e,n){"use strict";n.r(e),n.d(e,"KidsPrivacyPolicy",(function(){return s})),n.d(e,"KidsPrivacyPolicys",(function(){return y}));var r=n(345);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._KidsPrivacyPolicy),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._KidsPrivacyPolicys);y.register(s)},722:function(t,e,n){"use strict";n.r(e),n.d(e,"ClientAppConfig",(function(){return s})),n.d(e,"ClientAppConfigs",(function(){return y}));var r=n(554);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ClientAppConfig),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ClientAppConfigs);y.register(s)},723:function(t,e,n){"use strict";n.r(e),n.d(e,"ConnectionTest",(function(){return s})),n.d(e,"ConnectionTests",(function(){return y}));var r=n(555);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ConnectionTest),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ConnectionTests);y.register(s)},724:function(t,e,n){"use strict";n.r(e),n.d(e,"CoppaAgreement",(function(){return s})),n.d(e,"CoppaAgreements",(function(){return y}));var r=n(556);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._CoppaAgreement),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._CoppaAgreements);y.register(s)},725:function(t,e,n){"use strict";n.r(e),n.d(e,"CourseLeaderboard",(function(){return s})),n.d(e,"CourseLeaderboards",(function(){return y}));var r=n(557);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._CourseLeaderboard),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._CourseLeaderboards);y.register(s)},774:function(t,e,n){"use strict";n.r(e),n.d(e,"EmailTemplate",(function(){return y})),n.d(e,"EmailTemplates",(function(){return p}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){c(f,t);var e,n,r,o=a(f);function f(){return u(this,f),o.apply(this,arguments)}return e=f,r=[{key:"collection",value:function(){return"email_templates"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),f}(r.b),p=function(t){c(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);p.register(y)},823:function(t,e,n){"use strict";n.r(e),n.d(e,"DemoLesson",(function(){return p})),n.d(e,"DemoLessons",(function(){return b}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){f(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,[{key:"setAsFinal",value:function(){return this.$post("set_as_final")}}],[{key:"collection",value:function(){return"demo_lessons"}},{key:"create",value:function(t,e,n){return this.$create({userId:t,typeOf:e,opentokId:n},{scrub:!0})}}]),n}(r.b),b=function(t){f(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"forUser",value:function(t){return this.fetchQuery({userId:t},{scrub:!0})}}]),n}(r.a);b.register(p)},857:function(t,e,n){"use strict";n.r(e),n.d(e,"CurriculumMetadata",(function(){return p})),n.d(e,"CurriculumMetadatas",(function(){return b}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){f(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"collection",value:function(){return"curriculum_metadatas"}}]),n}(r.b),b=function(t){f(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"fetchAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return this.fetchQuery({lang:t},{scrub:!0})}}]),n}(r.a);b.register(p)},858:function(t,e,n){"use strict";n.r(e),n.d(e,"CurriculumQuizQuestion",(function(){return v})),n.d(e,"CurriculumQuizQuestions",(function(){return m}));var r=n(27),o=n(3),u=n(559);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b,h,d,v=function(t){a(n,t);var e=s(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(u._CurriculumQuizQuestion),m=function(t){a(u,t);var e,n,r,o=s(u);function u(){return f(this,u),o.apply(this,arguments)}return e=u,r=[{key:"byCurriculum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map([]);return e.documents.forEach((function(t){var e=n.get(t.curriculumId)||[];e.push(t),n.set(t.curriculumId,e)})),n;default:return t}}}],(n=null)&&c(e.prototype,n),r&&c(e,r),u}(u._CurriculumQuizQuestions);b=m,h="reducers",d=Object(r.combineReducers)({all:o.a.all,metadata:o.a.metadata,byCurriculum:m.byCurriculum}),h in b?Object.defineProperty(b,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[h]=d,m.register(v)},859:function(t,e,n){"use strict";n.r(e),n.d(e,"DetailedTutor",(function(){return s})),n.d(e,"DetailedTutors",(function(){return y}));var r=n(560);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._DetailedTutor),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._DetailedTutors);y.register(s)},860:function(t,e,n){"use strict";n.r(e),n.d(e,"DialectLeaderboard",(function(){return s})),n.d(e,"DialectLeaderboards",(function(){return y}));var r=n(561);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._DialectLeaderboard),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._DialectLeaderboards);y.register(s)},861:function(t,e,n){"use strict";n.r(e),n.d(e,"EmailCampaign",(function(){return y})),n.d(e,"EmailCampaigns",(function(){return p}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){c(f,t);var e,n,r,o=a(f);function f(){return u(this,f),o.apply(this,arguments)}return e=f,r=[{key:"collection",value:function(){return"email_campaigns"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),f}(r.b),p=function(t){c(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);p.register(y)},862:function(t,e,n){"use strict";n.r(e),n.d(e,"EmailLead",(function(){return h})),n.d(e,"EmailLeads",(function(){return d}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y,p,b,h=function(t){c(f,t);var e,n,r,o=a(f);function f(){return u(this,f),o.apply(this,arguments)}return e=f,r=[{key:"collection",value:function(){return"email_leads"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),f}(r.b);b=[{emailType:"landing_page",title:"Landing Page"},{emailType:"raffle",title:"Raffle"},{emailType:"kids_alpha",title:"Kids Pre-registered"}],(p="VALID_EMAIL_TYPES")in(y=h)?Object.defineProperty(y,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[p]=b;var d=function(t){c(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);d.register(h)},863:function(t,e,n){"use strict";n.r(e),n.d(e,"GoogleDetection",(function(){return s})),n.d(e,"GoogleDetections",(function(){return y}));var r=n(564);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._GoogleDetection),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._GoogleDetections);y.register(s)},864:function(t,e,n){"use strict";n.r(e),n.d(e,"GoogleTranslation",(function(){return s})),n.d(e,"GoogleTranslations",(function(){return y}));var r=n(565);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._GoogleTranslation),y=function(t){i(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._GoogleTranslations);y.register(s)},978:function(t,e,n){"use strict";n.r(e),n.d(e,"CurriculumSection",(function(){return h})),n.d(e,"CurriculumSections",(function(){return d})),n.d(e,"CurriculumSectionType",(function(){return v}));var r=n(3),o=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){l(n,t);var e=y(n);function n(){return c(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"curriculum_sections"}}]),n}(r.b),d=function(t){l(n,t);var e=y(n);function n(){return c(this,n),e.apply(this,arguments)}return a(n,null,[{key:"all",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.STUDENT;return this.fetchQuery({role:t},{viewAs:t})}}]),n}(r.a),v=function t(){c(this,t)};i(v,"ADULT_COURSE","adult_course"),i(v,"TUTOR_RESOURCE","tutor_resource"),i(v,"KIDS_COURSE","kids_course"),i(v,"KIDS_TUTOR_RESOURCE","kids_tutor_resource"),d.register(h)},989:function(t,e,n){"use strict";n.r(e),n.d(e,"ChatFlock",(function(){return l})),n.d(e,"ChatFlocks",(function(){return s}));var r=n(24),o=n(43),u=n(10),i=n.n(u);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c(this,t),Object.assign(this,e),this.isFlock=n,this.id=n?e.id:e.chatId,this.createdTime=n?new Date(1e3*parseInt(this.id.substring(0,8),16)):new Date(e.createdTime.$date)}return a(t,[{key:"createdUTC",value:function(){return i.a.utc(this.createdTime)}},{key:"sessionURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tutor";return this.lessonId?"/en/tutor/classroom?lessonId=".concat(this.lessonId):this.isFlock?"/en/tutor/flock?flockId=".concat(this.id).concat("tutor"===t?"&isTutor=".concat(!0):""):"/en/tutor/client?chatId=".concat(this.id)}},{key:"studentIds",value:function(){return this.isFlock?this.aliveFlights.filter((function(t){return!t.isTutor})).map((function(t){return t.userId})):[this.student]}},{key:"studentObjects",value:function(){return this.studentIds().map((function(t){return r.a.getState().model.users.all.get(t)}))}},{key:"answer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tutor";r.a.dispatch(Object(o.y)(this)),window.location=this.sessionURL(t)}},{key:"avatarURL",value:function(){return this.isFlock&&this.maxStudentCount>1?"/static/images/group_icon.png":null===(t=this.studentObjects()[0])||void 0===t?void 0:t.getAvatarUrl();var t}},{key:"whoIsCallingText",value:function(){return this.studentObjects().map((function(t){return null==t?void 0:t.displayName})).join(" and ")}},{key:"requestedMe",value:function(){return this.isFlock?this.tutorRequested:this.tutorRequest===cambly.USER_ID}},{key:"assignedToMe",value:function(){return this.isFlock?this.tutorAssigned:this.tutorAssigned===cambly.USER_ID}},{key:"isReservationCall",value:function(t){return!!t&&(this.reservation&&t.id===this.reservation||this.studentIds().includes(t.student))}},{key:"isGeneralCall",value:function(){return!this.requestedMe()&&!this.assignedToMe()&&!this.reservation}},{key:"callInfo",value:function(){if(this.camblyTeam)return"Cambly Team Member";if(this.reservation)return this.proType?"".concat(this.proType.toUpperCase()," reservation with you"):"reservation with you";var t=this.isFlock&&this.maxStudentCount>1?"GROUP SESSION - ":"";return this.requestedMe()?t+"requested you":this.assignedToMe()?t+"notified only you":t+"waiting for ".concat(i.a.duration(i.a.utc()-this.createdUTC()).humanize())}}]),t}(),s=function(){function t(){c(this,t)}return a(t,null,[{key:"callPriority",value:function(t,e){return t.reservation&&!e.reservation?-1:e.reservation&&!t.reservation?1:t.reservationObj&&e.reservationObj?t.reservationObj.minutesUntil()-e.reservationObj.minutesUntil():t.paid&&!e.paid?-1:e.paid&&!t.paid?1:t.requestedMe()&&!e.requestedMe()?-1:e.requestedMe()&&!t.requestedMe()?1:t.assignedToMe()&&!e.assignedToMe()?-1:e.assignedToMe()&&!t.assignedToMe()?1:t.createdUTC().diff(e.createdUTC())}},{key:"sortedByPriority",value:function(e){return e.sort(t.callPriority)}},{key:"sortedByStart",value:function(t){return t.sort((function(t,e){return t.createdUTC().diff(e.createdUTC())}))}}]),t}()},992:function(t,e,n){"use strict";n.r(e),n.d(e,"Correction",(function(){return g})),n.d(e,"Corrections",(function(){return O}));var r=n(27),o=n(3);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d,v,m,g=function(t){s(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return l(n,null,[{key:"collection",value:function(){return"corrections"}},{key:"endpoint",value:function(){return"/api/video_tags"}}]),n}(o.b),O=function(t){s(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return l(n,null,[{key:"fetchForChat",value:function(t){return this.fetch({chatId:t})}},{key:"byChat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(i(t));return i(e.documents).forEach((function(t,e){n.set(t.chat,(n.get(t.chat)||new Map).set(e,t))})),n;default:return t}}}]),n}(o.a);d=O,v="reducers",m=Object(r.combineReducers)({all:o.a.all,metadata:o.a.metadata,byChat:O.byChat}),v in d?Object.defineProperty(d,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[v]=m,O.register(g)}}]);