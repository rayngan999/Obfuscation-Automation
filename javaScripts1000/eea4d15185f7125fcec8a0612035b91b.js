/*! License information is available at https://static.cdn.printful.com/dist-pf/settings-menu-vue.licenses.txt for portal-vue, vue-loader */(window.webpackJsonp=window.webpackJsonp||[]).push([[321,130,182,183,200,320],{"3kt3":function(e,t,n){"use strict";n("qKB7")},"3vmQ":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showInformationBlock?n("div",{staticClass:"pf-bg-lighter pf-p-16 pf-border pf-mb-16"},[n("h5",{staticClass:"pf-h5 pf-position-relative"},[e._v("\n            "+e._s(e.dlang("sellingRegion","Selling in a specific region?"))+"\n            "),n("a",{staticClass:"pf-position-absolute dismiss-onboarding",attrs:{href:"javascript:"},on:{click:e.dismissInformationBlock}},[n("i",{staticClass:"pf-i pf-i-18 pf-i-close"})])]),e._v(" "),n("p",{staticClass:"pf-ui-body pf-mb-0"},[e._v("\n            "+e._s(e.dlang("sellingRegion","Set the region where you sell and choose a balance between delivery speed and product variety that works for you. We'll only display the products and product variants that correspond to your preferences."))+"\n        ")])]):e._e(),e._v(" "),n("dropdown-input",{class:{"pf-mb-16":e.showBarLabel,"pf-mb-24":!e.showBarLabel},attrs:{id:"selling-region-dropdown-"+e._uid,label:e.showDropdownLabel?e.dropdownLabel:null,items:e.regions,"active-items":[e.activeRegion]},on:{onChange:e.onRegionChange}}),e._v(" "),e.showBarLabel?n("h5",{staticClass:"pf-h5"},[e._v("\n        "+e._s(e.sliderLabel)+"\n        "),n("i",{directives:[{name:"tooltip",rawName:"v-tooltip.onbody.hover",value:e.sliderTooltip,expression:"sliderTooltip",modifiers:{onbody:!0,hover:!0}},{name:"tooltip",rawName:"v-tooltip.onbody.focus",value:e.sliderTooltip,expression:"sliderTooltip",modifiers:{onbody:!0,focus:!0}}],staticClass:"pf-i pf-pointer pf-i-information pf-i-18 pf-text-gray",staticStyle:{outline:"none"},attrs:{"data-delay":'{"hide":"750"}'}})]):e._e(),e._v(" "),e.requirements.length?n("div",[n("div",{staticClass:"pf-d-block pf-mb-16"},[n("div",{staticClass:"delivery-bar pf-mb-8"},[n("div",{staticClass:"delivery-bar__container"},[n("div",{staticClass:"delivery-bar__range-picker"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRequirementIndex,expression:"selectedRequirementIndex"}],attrs:{type:"range",min:"0",max:e.requirements.length-1},domProps:{value:e.selectedRequirementIndex},on:{input:function(t){return e.onRequirementChange(t)},change:function(t){return e.onRequirementChange(t)},__r:function(t){e.selectedRequirementIndex=t.target.value}}}),e._v(" "),e._l(e.requirements,(function(t,o){return n("div",{key:o,class:["delivery-bar__range-picker-break",o<=e.selectedRequirementIndex?"delivery-bar__range-picker-break--active":""],style:"left: "+e.getPositionStyles(o)+"; display: "+(e.selectedRequirementIndex,"block;")})})),e._v(" "),n("div",{staticClass:"delivery-bar__range-picker-progress"},[n("div",{class:"delivery-bar__range-picker-progress-bar",style:"width: "+e.getPositionStyles(e.selectedRequirementIndex,!0)})])],2)])]),e._v(" "),n("div",{staticClass:"delivery-time pf-d-flex pf-justify-content-between pf-mt-12 pf-mt-md-0"},[n("div",{staticClass:"pf-ui-body"},[n("p",{staticClass:"pf-mb-0"},[e._v(e._s(e.dlang("sellingRegion","Faster delivery")))]),e._v(" "),n("p",{staticClass:"pf-mb-0"},[e._v(e._s(e.dlang("sellingRegion","Fewer products")))])]),e._v(" "),n("div",{staticClass:"pf-ui-body text-right"},[n("p",{staticClass:"pf-mb-0"},[e._v(e._s(e.dlang("sellingRegion","More products")))]),e._v(" "),n("p",{staticClass:"pf-mb-0"},[e._v(e._s(e.dlang("sellingRegion","Slower delivery")))])])])])]):n("div",[n("div",{staticClass:"pf-border pf-bg-lighter pf-p-16"},[n("p",{staticClass:"pf-ui-body pf-m-0",domProps:{innerHTML:e._s(e.requirementNote)}})])]),e._v(" "),e.shouldShowSaveButton?n("button",{staticClass:"pf-btn pf-btn-primary pf-btn-lg pf-btn-block pf-mt-16",on:{click:e.save}},[e._v("\n        "+e._s(e.dlang("sellingRegion","Apply changes"))+"\n    ")]):e._e(),e._v(" "),e.showSetupLaterButton?n("button",{staticClass:"pf-btn pf-btn-secondary pf-btn-lg pf-btn-block pf-mt-16",on:{click:e.setupLater}},[e._v("\n        "+e._s(e.dlang("sellingRegion","Set up later"))+"\n    ")]):e._e()],1)};o._withStripped=!0;var i=n("MMOI"),s=n("9Nv7"),r=n("LvDl"),a=n("XLZy"),l=n("9eNC"),d=n("Kiz0"),u=n("D5LZ"),c={name:"SellingRegion",components:{DropdownInput:i.default},props:{showDropdownLabel:{type:Boolean,default:!0},showBarLabel:{type:Boolean,default:!0},showSaveButton:{type:Boolean,default:!0},showSetupLaterButton:{type:Boolean,default:!1},storeId:{type:Number,default:null},onboardingData:{type:Object,default:function(){}},sellingRegions:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{selectedRequirementIndex:0,availableSellingRegions:[],sellingRegionSetting:null,activeSellingRegionId:null,activeRequirementId:null,selectionChanged:!1,showInformationBlock:!1}},computed:{shouldShowSaveButton:function(){var e;return!!this.showSaveButton&&(null===(e=this.sellingRegionSetting)||void 0===e||!e.isSetupCompleted||this.selectionChanged)},regions:function(){var e=this.availableSellingRegions.filter((function(e){return!e.isSingleCountry})),t=this.availableSellingRegions.filter((function(e){return e.isSingleCountry}));return e.sort((function(e,t){return e.isWorldwide?-1:t.isWorldwide?1:e.getName().localeCompare(t.getName())})),t.sort((function(e,t){return e.getName().localeCompare(t.getName())})),[{name:dclang("sellingRegion","group dropdown regions","By region"),items:e.map((function(e){return{value:e.id,name:e.getName(),image:e.getIcon()}}))},{name:dclang("sellingRegion","group dropdown regions","By country"),items:t.map((function(e){return{value:e.id,name:e.getName(),image:e.getIcon()}}))}]},requirements:function(){var e=this,t=this.availableSellingRegions.filter((function(t){return t.id===e.activeSellingRegionId})).pop();return(null==t?void 0:t.requirements)||[]},activeRegion:function(){var e=this;if(!this.sellingRegionSetting)return{};var t=this.availableSellingRegions.filter((function(t){return t.id===e.activeSellingRegionId})).pop();return t?{value:t.id,name:t.getName(),image:t.getIcon()}:{}},activeRequirement:function(){var e=this;return this.requirements.filter((function(t){return t.id===e.activeRequirementId})).pop()},isB2BUser:function(){return PF.Customer.isLogged()&&!PF.Customer.isB2cStarter()},dropdownLabel:function(){return this.isB2BUser?dlang("sellingRegion","Selling region"):dlang("sellingRegion","Your region")},sliderLabel:function(){return this.isB2BUser?dlang("sellingRegion","Use the slider to set your selling preferences"):dlang("sellingRegion","Use the slider to set your catalog and delivery preferences")},sliderTooltip:function(){return this.isB2BUser?dlang("sellingRegion",'Choose a balance between delivery speed and product variety that works for you. Update your global selling preferences from here any time. Changes made here affect personal orders and all stores without individual preferences. Set individual default selling preferences for your stores <a href="{url}" class="pf-link-white">here</a>.').replace("{url}",langUrl("/dashboard/settings/store-defaults")):dlang("sellingRegion","Choose a balance between delivery speed and product variety that works for you. Update your catalog and delivery preferences from here any time. We display the Product Catalog based on your set preferences.")},requirementNote:function(){var e=langUrl("/shipping");return(this.isB2BUser?dlang("sellingRegion","When choosing {linkStart}Worldwide{linkEnd}, we'll display the entire Product Catalog. Delivery times depend on end-customer location and selected product."):dlang("sellingRegion","When choosing {linkStart}Worldwide{linkEnd}, we'll display the entire Product Catalog. Delivery times depend on your location and selected product.")).replace("{linkStart}",'<a href="'.concat(e,'" class="pf-link">')).replace("{linkEnd}","</a>")}},watch:{selectedRequirementIndex:function(e){this.selectedRequirementIndex=parseInt(e)}},mounted:function(){this.availableSellingRegions=this.sellingRegions.map((function(e){return u.a.fromArray(e)})),this.showInformationBlock=(this.onboardingData||{}).selling_regions_information_block||!1,!this.storeId&&PF.Customer.sellingRegionSetting?this.mapData(PF.Customer.sellingRegionSetting):this.getData(),l.i.on(l.i.SELLING_REGION_UPDATE,this.getData)},methods:{getData:function(){var e=this;a.a.show(this.$el),Object(s.a)("selling-region/get-data",{storeId:this.storeId}).then((function(t){e.mapData(t.sellingRegionSetting),e.$emit("onDataLoad",t.sellingRegionSetting)})).catch((function(){e.$destroy(),e.$el.parentNode.removeChild(e.$el)})).finally((function(){a.a.hide(e.$el)}))},onRequirementChange:function(e){var t=parseInt(e.target.value);this.activeRequirementId=this.requirements[t].id,this.selectionChanged=!0,this.$emit("onRequirementChange",!0)},onRegionChange:function(e){var t=this;this.activeSellingRegionId=e.value,this.selectionChanged=!0,this.requirements.length?(this.activeRequirementId=this.requirements[0].id,this.sellingRegionSetting.sellingRegionId===this.activeSellingRegionId&&Object(r.findKey)(this.requirements,(function(e){return e.id===t.sellingRegionSetting.requirementId}))&&(this.activeRequirementId=this.sellingRegionSetting.requirementId),this.selectedRequirementIndex=Object(r.findKey)(this.requirements,(function(e){return e.id===t.activeRequirementId}))||null,this.$emit("onRegionChange",!0)):this.activeRequirementId=null},save:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.showSaveButton&&t&&t.target.classList.add("disabled"),a.a.show(this.$el),Object(d.a)(this.activeSellingRegionId),Object(s.a)("selling-region/update",{storeId:this.storeId,sellingRegionId:this.activeSellingRegionId,requirementId:this.activeRequirementId}).then((function(n){e.mapData(n.sellingRegionSetting),e.$emit("onSave",e.sellingRegionSetting.originSellingRegion),a.a.hide(e.$el),e.showSaveButton&&t&&t.target.classList.remove("disabled")}))},setupLater:function(){this.$emit("onSetupLater")},getPositionStyles:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,o=this.requirements.length-1,i=100/o*n,s=n&&n!==o?0:n!==o||t?10:-10;return"calc(".concat(i,"% + ").concat(7+s-i/100*18,"px)")},mapData:function(e){var t=this;this.sellingRegionSetting=e,e instanceof u.c||(this.sellingRegionSetting=u.c.fromArray(e)),this.activeSellingRegionId=this.sellingRegionSetting.sellingRegionId,this.activeRequirementId=this.sellingRegionSetting.requirementId,this.selectedRequirementIndex=Object(r.findIndex)(this.requirements,(function(e){return e.id===t.activeRequirementId}))},dismissInformationBlock:function(){Object(s.a)("selling-region/dismiss-onboarding",{type:"selling_regions_information_block"}),this.showInformationBlock=!1}}},p=(n("AKvH"),n("KHd+")),f=Object(p.a)(c,o,[],!1,null,"68637718",null);f.options.__file="resources/src/printful/common/selling-region/components/selling-region.vue";t.default=f.exports},"3xQH":function(e,t,n){"use strict";n("yf+s")},AKvH:function(e,t,n){"use strict";n("yRJ2")},EEzy:function(e,t,n){},K4j9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=(o=n("oCYn"))&&"object"==typeof o&&"default"in o?o.default:o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a="undefined"!=typeof window;function l(e,t){return t.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var d={},u={},c={},p=new(i.extend({data:function(){return{transports:d,targets:u,sources:c,trackInstances:a}},methods:{open:function(e){if(a){var t=e.to,n=e.from,o=e.passengers,r=e.order,l=void 0===r?1/0:r;if(t&&n&&o){var d,u={to:t,from:n,passengers:(d=o,Array.isArray(d)||"object"===s(d)?Object.freeze(d):d),order:l};-1===Object.keys(this.transports).indexOf(t)&&i.set(this.transports,t,[]);var c,p=this.$_getTransportIndex(u),f=this.transports[t].slice(0);-1===p?f.push(u):f[p]=u,this.transports[t]=(c=function(e,t){return e.order-t.order},f.map((function(e,t){return[t,e]})).sort((function(e,t){return c(e[1],t[1])||e[0]-t[0]})).map((function(e){return e[1]})))}}},close:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.to,o=e.from;if(n&&(o||!1!==t)&&this.transports[n])if(t)this.transports[n]=[];else{var i=this.$_getTransportIndex(e);if(i>=0){var s=this.transports[n].slice(0);s.splice(i,1),this.transports[n]=s}}},registerTarget:function(e,t,n){a&&(this.trackInstances&&!n&&this.targets[e]&&console.warn("[portal-vue]: Target ".concat(e," already exists")),this.$set(this.targets,e,Object.freeze([t])))},unregisterTarget:function(e){this.$delete(this.targets,e)},registerSource:function(e,t,n){a&&(this.trackInstances&&!n&&this.sources[e]&&console.warn("[portal-vue]: source ".concat(e," already exists")),this.$set(this.sources,e,Object.freeze([t])))},unregisterSource:function(e){this.$delete(this.sources,e)},hasTarget:function(e){return!(!this.targets[e]||!this.targets[e][0])},hasSource:function(e){return!(!this.sources[e]||!this.sources[e][0])},hasContentFor:function(e){return!!this.transports[e]&&!!this.transports[e].length},$_getTransportIndex:function(e){var t=e.to,n=e.from;for(var o in this.transports[t])if(this.transports[t][o].from===n)return+o;return-1}}}))(d),f=1,g=i.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(f++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var e=this;this.$nextTick((function(){p.registerSource(e.name,e)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){p.unregisterSource(this.name),this.clear()},watch:{to:function(e,t){t&&t!==e&&this.clear(t),this.sendUpdate()}},methods:{clear:function(e){var t={from:this.name,to:e||this.to};p.close(t)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(e){return"function"==typeof e?e(this.slotProps):e},sendUpdate:function(){var e=this.normalizeSlots();if(e){var t={from:this.name,to:this.to,passengers:r(e),order:this.order};p.open(t)}else this.clear()}},render:function(e){var t=this.$slots.default||this.$scopedSlots.default||[],n=this.tag;return t&&this.disabled?t.length<=1&&this.slim?this.normalizeOwnChildren(t)[0]:e(n,[this.normalizeOwnChildren(t)]):this.slim?e():e(n,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),h=i.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:p.transports,firstRender:!0}},created:function(){var e=this;this.$nextTick((function(){p.registerTarget(e.name,e)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(e,t){p.unregisterTarget(t),p.registerTarget(e,this)}},mounted:function(){var e=this;this.transition&&this.$nextTick((function(){e.firstRender=!1}))},beforeDestroy:function(){p.unregisterTarget(this.name)},computed:{ownTransports:function(){var e=this.transports[this.name]||[];return this.multiple?e:0===e.length?[]:[e[e.length-1]]},passengers:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,n){var o=n.passengers[0],i="function"==typeof o?o(t):n.passengers;return e.concat(i)}),[])}(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var e=this.slim&&!this.transition;return e&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),e}},render:function(e){var t=this.noWrapper(),n=this.children(),o=this.transition||this.tag;return t?n[0]:this.slim&&!o?e():e(o,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},n)}}),m=0,v=["disabled","name","order","slim","slotProps","tag","to"],b=["multiple","transition"],y=i.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(m++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!=typeof document){var e=document.querySelector(this.mountTo);if(e){var t=this.$props;if(p.targets[t.name])t.bail?console.warn("[portal-vue]: Target ".concat(t.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=p.targets[t.name];else{var n=t.append;if(n){var o="string"==typeof n?n:"DIV",i=document.createElement(o);e.appendChild(i),e=i}var s=l(this.$props,b);s.slim=this.targetSlim,s.tag=this.targetTag,s.slotProps=this.targetSlotProps,s.name=this.to,this.portalTarget=new h({el:e,parent:this.$parent||this,propsData:s})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var e=this.portalTarget;if(this.append){var t=e.$el;t.parentNode.removeChild(t)}e.$destroy()},render:function(e){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),e();if(!this.$scopedSlots.manual){var t=l(this.$props,v);return e(g,{props:t,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var n=this.$scopedSlots.manual({to:this.to});return Array.isArray(n)&&(n=n[0]),n||e()}});var _={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.portalName||"Portal",g),e.component(t.portalTargetName||"PortalTarget",h),e.component(t.MountingPortalName||"MountingPortal",y)}};t.default=_,t.Portal=g,t.PortalTarget=h,t.MountingPortal=y,t.Wormhole=p},"KHd+":function(e,t,n){"use strict";function o(e,t,n,o,i,s,r,a){var l,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),o&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},d._ssrRegister=l):i&&(l=a?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(d.functional){d._injectStyles=l;var u=d.render;d.render=function(e,t){return l.call(t),u(e,t)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return{exports:e,options:d}}n.d(t,"a",(function(){return o}))},RcpB:function(e,t,n){"use strict";var o=n("oCYn");t.a=o.default.directive("click-outside",{bind:function(e,t){e.__vueClickOutside__=function(n){e.contains(n.target)||e===n.target||t.value(n)},document.body.addEventListener("click",e.__vueClickOutside__,!0)},unbind:function(e){document.body.removeEventListener("click",e.__vueClickOutside__,!0),e.__vueClickOutside__=null}})},S2jC:function(e,t,n){"use strict";function o(e,t){var n=e.modifiers;return void 0!==n[t]&&n[t]}function i(e,t,n){var o=e.data&&e.data.on||e.componentOptions&&e.componentOptions.listeners;o&&o[t]&&o[t].fns(n)}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}))},hvPi:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.shouldUseMountingPortal?"MountingPortal":"div",e._b({tag:"component"},"component",e.wrappingElementProps,!1),[n("div",{ref:"mainModalElement",class:e.modalClasses,attrs:{id:e.id,tabindex:"-1","aria-labelledby":e.id+"-label","aria-hidden":"true",role:"dialog"}},[n("div",{ref:"modalDialogElement",class:"modal-dialog "+(e.size?"modal-"+e.size:"")},[n("div",{staticClass:"modal-content",class:{"modal-sticky":e.stickyHeaderFooter,"modal-content--not-scrollable":!e.isScrollable}},[e.shouldShowHeader?n("div",{staticClass:"modal-header"},[e.shouldShowCloser?n("div",{staticClass:"modal-header__close-icon"},[n("button",{staticClass:"pf-i pf-i-32 pf-i-close pf-p-0",attrs:{"aria-label":e.lang("Close")},on:{click:function(t){return e.onClose()}}})]):e._e(),e._v(" "),e._t("header")],2):e._e(),e._v(" "),n("div",{class:"modal-body "+e.bodyClasses},[e._t("content")],2),e._v(" "),e.shouldShowFooter?n("div",{staticClass:"modal-footer"},[e._t("footer")],2):e._e()])])])])};o._withStripped=!0;var i=n("K4j9"),s=n("Qrei"),r=n("rvsm"),a=n("xeH2"),l=n.n(a);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=0,f={name:"BetterModal",components:{MountingPortal:i.MountingPortal},props:{id:{type:String,required:!0,default:function(){return"better-modal-"+p++}},show:{type:Boolean,required:!0,default:function(){return!1}},size:{type:String,required:!1,default:function(){return"md"}},classes:{type:String,required:!1,default:function(){return""}},bodyClasses:{type:String,required:!1,default:function(){return""}},shouldShowCloser:{type:Boolean,required:!1,default:function(){return!0}},modalOptions:{type:Object,required:!1,default:function(){return{backdrop:!0}}},mountOn:{type:String,required:!1,default:null},stickyHeaderFooter:{type:Boolean,required:!1,default:function(){return!1}},showFooter:{type:Boolean,required:!1,default:function(){return!0}},isScrollable:{type:Boolean,required:!1,default:function(){return!0}}},data:function(){return{$modalObject:null}},computed:{modalClasses:function(){var e=["modal","fade","zoom"];return this.classes&&e.push(this.classes),e},shouldShowHeader:function(){return!!this.$slots.header},shouldShowFooter:function(){return!!this.$slots.footer&&!!this.showFooter},shouldUseMountingPortal:function(){return this.mountOn&&this.mountOn.length>0},wrappingElementProps:function(){return this.shouldUseMountingPortal?{mountTo:this.mountOn,name:"".concat(this.id,"-portal"),append:!0}:{class:"better-modal-wrapper"}},validatedModalOptions:function(){return u(u({},this.modalOptions),{},{show:!1,remote:!1})}},watch:{show:function(){this.toggleModal()},validatedModalOptions:function(e){s.a.UpdateBootstrapModalOptions(this.$modalObject,e)}},mounted:function(){var e=this,t=0;!function n(o){if(!e.getMainModalElement()){if(!(t<10))throw new Error("Couldn't initialize '".concat(e.id,"' modal!"));return e.$nextTick((function(){return n(o)})),void t++}o()}((function(){e.$modalObject=l()(e.getMainModalElement()).modal(e.validatedModalOptions),e.$modalObject.on("shown.bs.modal",(function(){e.$emit("update:show",!0)})),e.$modalObject.on("hidden.bs.modal",(function(){e.$emit("update:show",!1)})),e.$modalObject.on("show.bs.modal shown.bs.modal hide.bs.modal hidden.bs.modal",(function(t){Object(r.a)(t),e.$emit(t.vueName,t)})),e.toggleModal()}))},beforeDestroy:function(){var e;this.toggleModal(!1),null===(e=this.$modalObject)||void 0===e||e.off("show.bs.modal shown.bs.modal hide.bs.modal hidden.bs.modal")},methods:{toggleModal:function(e){this.$modalObject&&((void 0!==e?!!e:this.show)?this.$modalObject.modal("show"):this.$modalObject.modal("hide"))},onClose:function(){this.toggleModal(!1)},getMainModalElement:function(){return this.$refs.mainModalElement}}},g=(n("mXnW"),n("KHd+")),h=Object(g.a)(f,o,[],!1,null,"232f119a",null);h.options.__file="resources/common/vue-components/components/better-modal.vue";t.a=h.exports},laBH:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("better-modal",{ref:"dsr-settings-applied-modal",attrs:{id:"dsr-settings-applied-modal",classes:"pf-modal",show:e.showModal},on:{"update:show":function(t){return e.$emit("update:showModal",t)},"show-bs-modal":function(t){return e.onShow(t)}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("p",{staticClass:"pf-h3 pf-m-0"},[e._v("\n            "+e._s(e.modalHeading)+"\n        ")])]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[e.isB2BUser?n("div",[n("div",{staticClass:"pf-d-flex list-item"},[n("div",[n("i",{staticClass:"pf-i pf-i-tshirt-crew pf-text-gray pf-i-24"})]),e._v(" "),n("div",[n("h4",{staticClass:"pf-h4"},[e._v(e._s(e.dlang("sellingRegion","Global default selling preferences")))]),e._v(" "),n("p",{staticClass:"pf-ui-body",domProps:{innerHTML:e._s(e.b2bModalCatalogContent)}})])]),e._v(" "),n("div",{staticClass:"pf-d-flex list-item"},[n("div",[n("i",{staticClass:"pf-i pf-i-store pf-text-gray pf-i-24"})]),e._v(" "),n("div",[n("h4",{staticClass:"pf-h4"},[e._v(e._s(e.dlang("sellingRegion","Store default selling preferences")))]),e._v(" "),n("p",{staticClass:"pf-ui-body",domProps:{innerHTML:e._s(e.b2bModalStoreContent)}})])])]):n("div",[n("div",{staticClass:"pf-d-flex"},[n("p",{staticClass:"pf-ui-body",domProps:{innerHTML:e._s(e.b2CModalContent)}})])])]),e._v(" "),n("div",{staticClass:"pf-d-flex pf-flex-column pf-flex-xs-row",attrs:{slot:"footer"},slot:"footer"},[n("a",{staticClass:"pf-btn pf-btn-primary pf-mb-12 pf-mb-xs-0 pf-mr-xs-12",on:{click:e.onCancel}},[e._v("\n            "+e._s(e.dlang("sellingRegion","Got it"))+"\n        ")])])])};o._withStripped=!0;var i=n("hvPi"),s=n("Kiz0"),r={name:"DefaultSellingRegionSettingsAppliedModal",components:{BetterModal:i.a},props:{showModal:{type:Boolean,required:!0,default:function(){return!1}}},computed:{isB2BUser:function(){return PF.Customer.isLogged()&&!PF.Customer.isB2cStarter()},b2CModalContent:function(){return dlang("sellingRegion","Choose a balance between delivery speed and product variety that works for you. We'll only display the products and product variants that correspond to your preferences. Update your catalog and delivery preferences anytime from the {linkStart}Preferences menu{linkEnd}.").replace("{linkStart}",'<a href="javascript:" class="open-preferences-settings">').replace("{linkEnd}","</a>")},b2bModalCatalogContent:function(){return dlang("sellingRegion","Choose a balance between delivery speed and product variety that works for you. We'll only display the products and product variants that correspond to your preferences. Update your global default selling preferences anytime from the {linkStart}Preferences menu{linkEnd}. Changes made from the Preferences menu affect personal orders and all stores without specific preferences set.").replace("{linkStart}",'<a href="javascript:" class="open-preferences-settings">').replace("{linkEnd}","</a>")},b2bModalStoreContent:function(){var e=langUrl("/dashboard/settings/store-defaults");return dlang("sellingRegion","Store default selling preferences are used to find the best balance between product availability and delivery speed for your stores. We'll only display the products and product variants that correspond to your preferences. Set individual default selling preferences for your stores {linkStart}here{linkEnd}.").replace("{linkStart}",'<a href="'.concat(e,'">')).replace("{linkEnd}","</a>")},modalHeading:function(){return this.isB2BUser?dlang("sellingRegion","Global default selling preferences updated!"):dlang("sellingRegion","Default catalog and delivery preferences updated!")}},methods:{onCancel:function(){this.$emit("update:showModal",!1)},onShow:function(e){var t=this;document.body.append(e.target),e.target.querySelectorAll(".open-preferences-settings").forEach((function(e){e.addEventListener("click",(function(){t.$refs["dsr-settings-applied-modal"].$modalObject.off("hidden.bs.modal"),t.$refs["dsr-settings-applied-modal"].toggleModal(!1),Object(s.b)()}))}))}}},a=(n("3kt3"),n("KHd+")),l=Object(a.a)(r,o,[],!1,null,"0a6f8cc8",null);l.options.__file="resources/src/printful/common/layout/_/header/_/userbar/_/settings/_/selling-region/components/dsr-settings-applied-modal.vue";t.default=l.exports},mXnW:function(e,t,n){"use strict";n("EEzy")},qKB7:function(e,t,n){},rvsm:function(e,t,n){"use strict";function o(e){var t=function(e){return e instanceof jQuery.Event?e.type+(e.namespace&&e.namespace.length?".".concat(e.namespace):""):null}(e);if(!t)return null;e.vueName=function(e){return(e||"").replace(/\./g,"-")}(t)}n.d(t,"a",(function(){return o}))},sUWZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("oCYn"),i=n("S2jC");function s(e,t){if(t.value){var n={title:t.value,html:!0};Object(i.b)(t,"onbody")&&(n.container="body"),Object(i.b)(t,"onoverflow")&&$(e).get(0).offsetWidth===$(e).get(0).scrollWidth||(Object(i.b)(t,"onclick")&&(n.trigger="click",$(e).on("hidden.bs.tooltip",(function(e){$(e.target).data("bs.tooltip").inState.click=!1}))),Object(i.b)(t,"focus")&&(n.trigger="focus",$(e).attr("tabindex",0)),Object(i.b)(t,"left")&&(n.placement="left"),Object(i.b)(t,"right")&&(n.placement="right"),Object(i.b)(t,"top")&&(n.placement="top"),Object(i.b)(t,"bottom")&&(n.placement="bottom"),Object(i.b)(t,"hideslow")&&(n.delay={hide:750}),Object(i.b)(t,"hideslower")&&(n.delay={hide:1e3}),$(e).tooltip(n),Object(i.b)(t,"autohide")&&$(e).on("show.bs.tooltip",(function(){setTimeout((function(){$(e).tooltip("hide")}),3e3)})))}}var r=o.default.directive("tooltip",{inserted:function(e,t){s(e,t)},update:function(e,t){var n=t.oldValue,o=t.value;n!==o&&(e.dataset.originalTitle=o,Object(i.b)(t,"hideempty")&&(n&&!o?function(e){$(e).tooltip("destroy")}(e):!n&&o&&s(e,t)))}});t.b=r},vxKS:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{class:["nav settings-menu pf-mt-0 pf-mr-0",{"pf-d-none pf-d-md-flex pf-mr-md-12":!e.options.isLandingPageNavbarUsed}]},[n("li",{staticClass:"dropdown"},[n("a",{ref:"dropdown-trigger",staticClass:"header__link dropdown-toggle pf-px-0 pf-d-md-flex pf-flex-column pf-flex-md-row pf-align-items-center",attrs:{href:"javascript:","data-toggle":"dropdown"}},[n("i",{staticClass:"header__link__icon pf-i pf-i-earth pf-i-24 pf-mr-auto pf-mr-md-4"}),e._v(" "),n("span",{staticClass:"header__link__text pf-d-none pf-d-xl-flex"},[e._v(e._s(e.lang("Preferences")))])]),e._v(" "),n("ul",{ref:"dropdown-menu",class:["dropdown-menu pf-border pf-border-top-0 pf-bg-white pf-py-0 pf-m-0 pf-pb-8",{"alternative-position":e.options.isLandingPageNavbarUsed}]},[n("li",{ref:"dropdown-content"},[n("div",{staticClass:"settings-item pf-border-bottom pf-m-0 pf-px-16 text-left"},[n("a",{staticClass:"pf-d-flex pf-align-items-start pf-p-0 pf-py-16",attrs:{href:"javascript:"},on:{click:function(t){return e.toggleBlock("dsr")}}},[e._m(0),e._v(" "),n("span",{staticClass:"pf-ui-body pf-text-dark settings-item__title"},[e._v(e._s(e.sellingRegionSettingTitle))]),e._v(" "),n("transition",{attrs:{name:"chevron"}},[n("i",{staticClass:"pf-i pf-i-chevron-down pf-text-gray pf-i-20 pf-ml-auto chevron-custom",class:{"chevron-opened":e.collapseStates.dsr}})])],1),e._v(" "),n("div",{class:["collapse pf-mb-16 pf-mt-8",{in:e.collapseStates.dsr}]},[n("selling-region",{attrs:{"show-setup-later-button":!e.isOnBoardingCompleted,"onboarding-data":e.onboardingData,"selling-regions":e.sellingRegions},on:{onSave:e.onSetupCompleted,onSetupLater:e.onSetupLater,onRegionChange:e.updateDropdownSizes,onRequirementChange:e.updateDropdownSizes}})],1)]),e._v(" "),e.options.isEmbed?e._e():n("div",{staticClass:"settings-item pf-border-bottom pf-m-0 pf-px-16 text-left"},[n("div",{staticClass:"pf-d-flex pf-py-16"},[n("i",{class:"pf-i pf-i-"+e.options.currencyIcon+" pf-text-gray pf-i-24 pf-mr-8"}),e._v(" "),n("span",{staticClass:"pf-ui-body pf-text-dark settings-item__title"},[e._v(e._s(e.lang("Currency"))+" ("+e._s(e.options.displayCurrency)+")")]),e._v(" "),n("a",{staticClass:"pf-ui-body pf-link pf-ml-auto js-user-settings-toggle",attrs:{href:"javascript:"}},[e._v("\n                                "+e._s(e.lang("Edit"))+"\n                            ")])])]),e._v(" "),n("div",{staticClass:"settings-item pf-m-0 text-left"},[n("a",{staticClass:"pf-d-flex pf-p-16",attrs:{href:"javascript:"},on:{click:function(t){return e.toggleBlock("languages")}}},[n("i",{staticClass:"pf-i pf-i-translate pf-i-24 pf-text-gray pf-mr-8"}),e._v(" "),n("span",{staticClass:"pf-ui-body pf-text-dark settings-item__title"},[e._v(e._s(e.lang("Language"))+" ("+e._s(e.options.shortLanguage)+")")]),e._v(" "),n("transition",{attrs:{name:"chevron"}},[n("i",{staticClass:"pf-i pf-i-chevron-down pf-text-gray pf-i-20 pf-ml-auto chevron-custom",class:{"chevron-opened":e.collapseStates.languages}})])],1),e._v(" "),n("div",{class:["collapse",{in:e.collapseStates.languages}]},[n("div",{staticClass:"languages-list"},e._l(e.languages,(function(t){return n("a",{key:t.code,class:[e.languageItemClass,{active:t.code===e.options.displayLanguage}],attrs:{href:"javascript:"},on:{click:function(n){return e.changeLanguage(t.code)}}},[e._v("\n                                    "+e._s(t.name)+" ("+e._s(t.shortName)+")\n                                ")])})),0)])])])])])]),e._v(" "),e.shouldShowSettingsAppliedModal?n("default-selling-region-settings-applied-modal",{attrs:{"show-modal":e.shouldShowSettingsAppliedModal},on:{"update:showModal":function(t){return e.onSettingsAppliedModalClose(t)}}}):e._e(),e._v(" "),e.shouldShowSetupLaterModal?n("default-selling-region-setup-later-modal",{attrs:{"show-modal":e.shouldShowSetupLaterModal},on:{"update:showModal":function(t){return e.onSetupLaterModalClose(t)}}}):e._e()],1)};o._withStripped=!0;var i=n("xeH2"),s=n.n(i),r=n("3vmQ"),a=n("8nMH"),l=n("9Nv7"),d=n("laBH"),u=n("wbFE"),c=n("9eNC"),p=n("SaSb"),f=n("sjGI");var g={name:"Settings",components:{DefaultSellingRegionSetupLaterModal:u.default,DefaultSellingRegionSettingsAppliedModal:d.default,SellingRegion:r.default},props:{onboardingData:{type:Object,required:!0},sellingRegions:{type:Array,required:!0},options:{type:Object,default:function(){return{isWarehousingUser:!1,hasStores:!1,extraClass:"",isEmbed:!1,iconSize:"",isSideMenu:!1,shortLanguage:"",currencies:[],displayCurrency:"",languages:[],displayLanguage:"",selectedTax:"",isLoggedIn:!1,currencyIcon:"",currencyCode:"",defaultWarehousingCurrency:"",defaultCurrencySymbol:"",allStoresCurrencyData:"",allStoresCurrencySymbol:"",isLandingPageNavbarUsed:!1,suggestedLanguage:""}}}},data:function(){return{collapseStates:{languages:!1,dsr:!1},onboardings:{},shouldShowSettingsAppliedModal:!1,shouldShowSetupLaterModal:!1}},computed:{isB2BUser:function(){return PF.Customer.isLogged()&&!PF.Customer.isB2cStarter()},sellingRegionSettingTitle:function(){return this.isB2BUser?dlang("sellingRegion","Global default selling preferences"):dlang("sellingRegion","Default catalog and delivery preferences")},isOnBoardingCompleted:function(){return this.onboardings.selling_region_settings_applied},languageItemClass:function(){return"languages-list__item pf-d-block pf-ui-body pf-py-8 pf-pl-16 "+(Object.keys(this.options.languages).length>7?"col-md-6 float-left":"")},languages:function(){var e=this,t=Object.values(this.options.languages),n=f.a.defaultLocale;return t.sort((function(e,t){return e.code===n?-1:t.code===n?1:e.name.localeCompare(t.name)})),this.options.suggestedLanguage!==n&&t.sort((function(t,n){return t.code===e.options.suggestedLanguage?-1:n.code===e.options.suggestedLanguage?1:void 0})),t}},mounted:function(){var e=this;s()(".settings-menu .dropdown-menu").on("click.bs.dropdown",(function(e){return e.stopPropagation()})),s()(".settings-menu").on("shown.bs.dropdown",this.updateDropdownSizes),this.updateDropdownSizes(),window.addEventListener("resize",this.updateDropdownSizes),this.onboardings=this.onboardingData,new a.a(this.options),c.i.on(c.i.SELLING_REGION_OPEN_SETTINGS,(function(){e.openMenu()}))},methods:{toggleBlock:function(e){this.collapseStates[e]=!this.collapseStates[e],setTimeout(this.updateDropdownSizes,0)},changeLanguage:function(e){a.a.changeLanguage(e)},dismissOnboarding:function(e){var t,n,o;this.updateDropdownSizes(),this.onboardings=Object.assign({},this.onboardings,(t={},n=e,o=!this.onboardings[e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),Object(l.a)("selling-region/dismiss-onboarding",{type:e})},onSetupCompleted:function(){if(this.onboardings.selling_region_settings_applied)return location.reload(),!0;this.dismissOnboarding("selling_region_settings_applied"),this.shouldShowSettingsAppliedModal=!0},onSetupLater:function(){this.shouldShowSetupLaterModal=!0},onSettingsAppliedModalClose:function(e){this.shouldShowSettingsAppliedModal=e,e||location.reload()},onSetupLaterModalClose:function(e){this.shouldShowSetupLaterModal=e},updateDropdownSizes:function(){var e,t,n,o,i;if(this.$refs["dropdown-menu"]){var s=this.$refs["dropdown-menu"],r=window.innerHeight,a=(null===(e=document.getElementById("dashboard-header"))||void 0===e?void 0:e.offsetHeight)||(null===(t=document.getElementById("userbar"))||void 0===t?void 0:t.offsetHeight)||0,l=(null===(n=document.getElementById("cookie-policy"))||void 0===n?void 0:n.offsetHeight)||0,d=(null===(o=document.getElementById("js--top-banner"))||void 0===o?void 0:o.offsetHeight)||0,u=((null===(i=this.$refs["dropdown-content"])||void 0===i?void 0:i.clientHeight)||0)+16,c=a+l+d,f=r-(u+c),g="auto";u+c>r&&(g="".concat(r-c,"px"));var h="initial";("auto"!==g||document.getElementById("dashboard-header")&&f<280)&&(h="scroll"),this.options.isLandingPageNavbarUsed&&window.outerWidth<p.a.SIZES.XS?(s.style.width="".concat(window.outerWidth,"px"),s.style.left=-1*(s.parentElement.offsetLeft+9)+"px"):(s.style.removeProperty("width"),s.style.removeProperty("left")),s.style.height=g,s.style.overflowY=h}},openMenu:function(){this.$refs["dropdown-trigger"].parentNode.classList.add("open"),this.collapseStates.dsr=!0,setTimeout(this.updateDropdownSizes,1)}}},h=(n("3xQH"),n("KHd+")),m=Object(h.a)(g,o,[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"pf-position-relative"},[t("i",{staticClass:"pf-i pf-i-map-marker pf-text-gray pf-i-24 pf-mr-8"})])}],!1,null,"45451510",null);m.options.__file="resources/src/printful/common/layout/_/header/_/userbar/_/settings/components/settings-menu.vue";t.default=m.exports},wbFE:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("better-modal",{attrs:{id:"dsr-setup-later-mdoal",classes:"pf-modal",show:e.showModal},on:{"update:show":function(t){return e.$emit("update:showModal",t)},"show-bs-modal":function(t){return e.onShow(t)}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("p",{staticClass:"pf-h3 pf-m-0"},[e._v("\n            "+e._s(e.dlang("sellingRegion","Set your preferences later"))+"\n        ")])]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("p",{staticClass:"pf-m-0 pf-ui-body pf-text-muted"},[e._v("\n            "+e._s(e.modalContent)+"\n        ")])]),e._v(" "),n("div",{staticClass:"pf-d-flex pf-flex-column pf-flex-xs-row",attrs:{slot:"footer"},slot:"footer"},[n("a",{staticClass:"pf-btn pf-btn-primary pf-mb-12 pf-mb-xs-0 pf-mr-xs-12",on:{click:e.onCancel}},[e._v("\n            "+e._s(e.lang("OK"))+"\n        ")])])])};o._withStripped=!0;var i={name:"DefaultSellingRegionSetupLaterModal",components:{BetterModal:n("hvPi").a},props:{showModal:{type:Boolean,required:!0,default:function(){return!1}}},computed:{isB2BUser:function(){return PF.Customer.isLogged()&&!PF.Customer.isB2cStarter()},modalContent:function(){return this.isB2BUser?dlang("sellingRegion","Before you get to setting your global default selling preferences, we'll leave Printful's default for your location."):dlang("sellingRegion","Before you get to setting your default catalog and delivery preferences, we'll leave Printful's default for your location.")}},methods:{onCancel:function(){this.$emit("update:showModal",!1)},onShow:function(e){document.body.append(e.target)}}},s=n("KHd+"),r=Object(s.a)(i,o,[],!1,null,null,null);r.options.__file="resources/src/printful/common/layout/_/header/_/userbar/_/settings/_/selling-region/components/dsr-setup-later-modal.vue";t.default=r.exports},yRJ2:function(e,t,n){},"yf+s":function(e,t,n){}}]);