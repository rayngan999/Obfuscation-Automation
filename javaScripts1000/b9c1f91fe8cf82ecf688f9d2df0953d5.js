!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=75)}([function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(34)("wks"),o=n(24),i=n(1).Symbol,u="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(1),o=n(0),i=n(17),u=n(9),a=function(t,e,n){var c,s,f,l=t&a.F,d=t&a.G,p=t&a.S,h=t&a.P,v=t&a.B,y=t&a.W,m=d?o:o[e]||(o[e]={}),b=m.prototype,_=d?r:p?r[e]:(r[e]||{}).prototype;for(c in d&&(n=e),n)(s=!l&&_&&void 0!==_[c])&&c in m||(f=s?_[c]:n[c],m[c]=d&&"function"!=typeof _[c]?n[c]:v&&s?i(f,r):y&&_[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((m.virtual||(m.virtual={}))[c]=f,t&a.R&&b&&!b[c]&&u(b,c,f)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(4),o=n(48),i=n(31),u=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports={default:n(79),__esModule:!0}},function(t,e,n){var r=n(5),o=n(23);t.exports=n(7)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(51),o=n(29);t.exports=function(t){return r(o(t))}},function(t,e,n){t.exports={default:n(106),__esModule:!0}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(110),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";t.exports=new Function("return this;")()},function(t,e,n){var r=n(22);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={}},function(t,e,n){var r=n(50),o=n(35);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(5).f,o=n(10),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(29);t.exports=function(t){return Object(r(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(6),o=n(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(4),o=n(82),i=n(35),u=n(33)("IE_PROTO"),a=function(){},c=function(){var t,e=n(30)("iframe"),r=i.length;for(e.style.display="none",n(53).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[u]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(34)("keys"),o=n(24);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(1),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";var r=n(22);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(12),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(3),o=n(0),i=n(13);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",u)}},function(t,e,n){t.exports={default:n(117),__esModule:!0}},function(t,e,n){e.f=n(2)},function(t,e,n){var r=n(1),o=n(0),i=n(21),u=n(41),a=n(5).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e,n){var r=n(27),o=n(23),i=n(11),u=n(31),a=n(10),c=n(48),s=Object.getOwnPropertyDescriptor;e.f=n(7)?s:function(t,e){if(t=i(t),e=u(e,!0),c)try{return s(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(145)),o=i(n(146));function i(t){return t&&t.__esModule?t:{default:t}}var u=r.default.test();r.default.test(function(t,e){return u(t,e)&&(0,o.default)(t)}),e.default=r.default},function(t,e){},function(t,e,n){"use strict";var r=n(80)(!0);n(47)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(21),o=n(3),i=n(49),u=n(9),a=n(10),c=n(18),s=n(81),f=n(25),l=n(54),d=n(2)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,v,y,m,b){s(n,e,v);var _,g,w,x=function(t){if(!p&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",P="values"==y,E=!1,O=t.prototype,j=O[d]||O["@@iterator"]||y&&O[y],k=!p&&j||x(y),T=y?P?x("entries"):k:void 0,M="Array"==e&&O.entries||j;if(M&&(w=l(M.call(new t)))!==Object.prototype&&w.next&&(f(w,S,!0),r||a(w,d)||u(w,d,h)),P&&j&&"values"!==j.name&&(E=!0,k=function(){return j.call(this)}),r&&!b||!p&&!E&&O[d]||u(O,d,k),c[e]=k,c[S]=h,y)if(_={values:P?k:x("values"),keys:m?k:x("keys"),entries:T},b)for(g in _)g in O||i(O,g,_[g]);else o(o.P+o.F*(p||E),e,_);return _}},function(t,e,n){t.exports=!n(7)&&!n(13)(function(){return 7!=Object.defineProperty(n(30)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(9)},function(t,e,n){var r=n(10),o=n(11),i=n(83)(!1),u=n(33)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,s=[];for(n in a)n!=u&&r(a,n)&&s.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(28),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(10),o=n(26),i=n(33)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){n(85);for(var r=n(1),o=n(9),i=n(18),u=n(2)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var s=a[c],f=r[s],l=f&&f.prototype;l&&!l[u]&&o(l,u,s),i[s]=i.Array}},function(t,e,n){var r=n(20),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},function(t,e,n){var r=n(4),o=n(22),i=n(2)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||void 0==(n=r(u)[i])?e:o(n)}},function(t,e,n){var r,o,i,u=n(17),a=n(94),c=n(53),s=n(30),f=n(1),l=f.process,d=f.setImmediate,p=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,y=0,m={},b=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function(t){b.call(t.data)};d&&p||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){a("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete m[t]},"process"==n(20)(l)?r=function(t){l.nextTick(u(b,t,1))}:v&&v.now?r=function(t){v.now(u(b,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=_,r=u(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",_,!1)):r="onreadystatechange"in s("script")?function(t){c.appendChild(s("script")).onreadystatechange=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:d,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(4),o=n(6),i=n(36);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(16),o=n(103),i=r.document,u={};function a(){return i.getElementsByTagName("script")[0]}function c(t){return!t||"loaded"===t||"complete"===t||"uninitialized"===t}function s(t,e,n){if(!t||"string"!=typeof t)throw new Error("`url` must be a string");if(e.namespaceName&&"string"!=typeof e.namespaceName)throw new Error("`options.namespaceName` must be a string");if(e.forceLoad&&"boolean"!=typeof e.forceLoad)throw new Error("`options.forceLoad` must be a boolean");if("number"!=typeof e.timeout)throw new Error("`options.timeout` must be a number");if(n&&"function"!=typeof n)throw new Error("`callback` must be a function")}t.exports={_clearLoadedUrls:function(t){t?o.namespace(t).loadedUrls={}:u={}},loadScript:function(t,e,n){var r,f=u;if("function"==typeof e&&(n=e,e=null),(e=e||{}).timeout=e.timeout||1e4,s(t,e,n),e.namespaceName&&(r=o.namespace(e.namespaceName),f=r.loadedUrls||{}),e.forceLoad||!f[t]){var l,d=i.createElement("script"),p=!1;if(e.attributes)for(l in e.attributes)d.setAttribute(l,e.attributes[l]);d.onreadystatechange=d.onload=function(){!p&&c(d.readyState)&&v()},d.onerror=function(){p||v(new Error("Error: could not load "+t))};var h=setTimeout(function(){p||v(new Error("Error: script timeout "+t))},e.timeout);setTimeout(function(){d.src=t;var e=a();e.parentNode.insertBefore(d,e)},0)}else"function"==typeof n&&n();function v(o){p=!0,clearTimeout(h),d.onload=d.onreadystatechange=d.onerror=null,d.parentNode.removeChild(d),o||(f[t]=!0,e.namespaceName?r.loadedUrls=f:u=f),"function"==typeof n&&n(o)}},loadStyleSheet:function(t,e,n){var f,l=u;if("function"==typeof e&&(n=e,e=null),(e=e||{}).timeout=e.timeout||1e4,s(t,e,n),"injectionNode"in e&&!(e.injectionNode instanceof r.Element))throw new Error("`options.injectionNode` must be a DOM node");if(e.namespaceName&&(f=o.namespace(e.namespaceName),l=f.loadedUrls||{}),e.forceLoad||!l[t]){var d,p=i.createElement("link"),h=!1;if(e.attributes)for(d in e.attributes)p.setAttribute(d,e.attributes[d]);p.onreadystatechange=p.onload=function(){!h&&c(p.readyState)&&y()},p.onerror=function(){h||y(new Error("Error: could not load "+t))};var v=setTimeout(p.onerror,e.timeout);setTimeout(function(){p.media="only x",p.rel="stylesheet",p.type="text/css",p.href=t,setTimeout(function(){p.media="all"},0);var n=e.injectionNode||a().parentNode;try{n.appendChild(p)}catch(t){y(new Error("Error: could not append LINK element"))}},0)}else"function"==typeof n&&n();function y(r){h=!0,clearTimeout(v),p.onload=p.onreadystatechange=p.onerror=null,r||(l[t]=!0,e.namespaceName?f.loadedUrls=l:u=l),"function"==typeof n&&n(r)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(12)),o=u(n(14)),i=u(n(15));function u(t){return t&&t.__esModule?t:{default:t}}var a="Personalization",c="personalization-sdk",s=void 0,f=function(){function t(e){(0,o.default)(this,t);var n=e.product,i=e.category,u=e.slot,s=e.pageType;(0,r.default)(this,{commonData:{bvProduct:a,bvProductVersion:e.APP_VERSION,source:c,productId:n,categoryId:i,slotId:u,pageType:s}})}return(0,i.default)(t,null,[{key:"initTracker",value:function(t){s=t._analytics}}]),(0,i.default)(t,[{key:"pageView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,r.default)({},this.commonData,{type:"Embedded"},t);s.trackPageView(e)}},{key:"hiddenInView",value:function(t){this.used("HiddenInView",t)}},{key:"inView",value:function(t){this.used("InView",t)}},{key:"impression",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,r.default)({},this.commonData,{type:"Personalization"},t);s.trackImpression(e)}},{key:"contentClick",value:function(t){this.used("ContentClick",t)}},{key:"used",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.default)({name:t},e);this.trackEvent(n,"Feature","Used")}},{key:"trackEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2];t.type=t.type||n;var o=(0,r.default)({},this.commonData,t);s.trackEvent(e,o)}}]),t}();e.default=f},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(65),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var r=u(n(119)),o=u(n(121)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,e,n){var r=n(50),o=n(35).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){"use strict";e.__esModule=!0;var r=u(n(134)),o=u(n(138)),i=u(n(65));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(8)),o=f(n(12)),i=f(n(14)),u=f(n(15)),a=f(n(141)),c=f(n(63)),s=f(n(44));function f(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){(0,i.default)(this,t),s.default.offset(5),(0,o.default)(this,{_apiClient:new a.default(e),_analytics:new c.default(e),_hidden:e.hidden,slotType:"PersonalizationSlot"},e),this._analytics.commonData.externalSegment=e.externalSegment||(e.hidden?"notshown":"shown"),e.hidden&&this._analytics.pageView({contentType:this.slotType,numRecommendations:0})}return(0,u.default)(t,[{key:"pollForSlot",value:function(){var t=this;return new r.default(function(e,n){var r=0,o=setInterval(function(){if(10===r)return clearInterval(o),void n("Unable to locate Personalization Slot");var i=t.getSlotEl();t.getSlotEl()&&(clearInterval(o),e(i)),r++},1e3)})}},{key:"attachAnalyticsToRecommendations",value:function(){throw Error("attachAnalyticsToRecommendations is not a supported by a '"+this.type+"' Recommender.")}},{key:"getSlotEl",value:function(){return this._slotEl?this._slotEl:(this._slotEl=document.querySelector(this._slotSelector),this._slotEl||(this._slotEl=document.querySelector(this._legacySlotSelector)),this._slotEl)}},{key:"onError",value:function(t){console.error(t)}},{key:"handleSlotClick",value:function(){var t=this._responseAnalytics,e=t.recommendationStats,n=t.plan;this._analytics.used("Engaged",{contentType:this.slotType,plan:n},e)}},{key:"handleSlotInView",value:function(){this._hidden?this._analytics.hiddenInView({contentType:this.slotType}):this._analytics.inView({contentType:this.slotType})}}]),t}();e.default=l},function(t,e,n){var r;r=function(){var t,e=[],n=document,r=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener("DOMContentLoaded",t=function(){for(n.removeEventListener("DOMContentLoaded",t),r=1;t=e.shift();)t()}),function(t){r?setTimeout(t,0):e.push(t)}},t.exports=r()},function(t,e,n){"use strict";var r=n(147);t.exports=function(t){return new r(t)},t.exports.Delegate=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={slot:"data-bv-slot",legacySlot:"data-bv-p13n-slot",product:"data-bv-product-id"}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(150),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){var r=n(73).Symbol;t.exports=r},function(t,e,n){t.exports=n(76)},function(t,e,n){"use strict";var r,o=n(16),i=(r=o)&&r.__esModule?r:{default:r},u=n(77),a=s(n(78)),c=s(n(105));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var f=i.default.BV.api;f.version=u.version,f.processConfig(function(t){a.init(f,t),t.features.personalization&&c.init(f,t),f.processReady()}),f.on("container_added",function(t){var e=t.dataset,n=e.bvP13nSlot,r=e.bvSlot,o=e.bvHidden,i=e.bvPageType,u=e.bvTestName;void 0===n&&void 0===r||void 0===o||f.getRecommender({slot:r||n,hidden:!0,pageType:i,externalSegment:u})})},function(t,e){t.exports={name:"api",author:"Bazaarvoice Display Team",version:"0.7.3",description:"An application specifically for customers interacting with the bv api",engines:{node:"6.3.0"},main:"index.js",publishConfig:{registry:"http://three.nexus.bazaarvoice.com/repository/npm-internal"},scripts:{lint:"bv-loader-utils-lint",test:"bv-loader-utils-test -- -r ./test/testConfig.js",publish:"bv-loader-utils-publish",clean:"rm -rf dist","build-local":"npm run clean && ./build-local.js","pre-commit":"npm run lint && npm run test","serve-app":"webpack-dev-server --hot --cert ~/.bv/loader.crt --key ~/.bv/loader.key --output-public-path https://localhost:4043/","serve-loader":"bv-loader-utils-serve https://localhost:4043/bundle.js --page=personalization",preview:"NODE_ENV=development bv-loader-utils-preview bootstrapJs=preview.js bootstrapHtml=preview.html watch=lib",webpack:"webpack","webpack-dev-server":"webpack-dev-server"},devDependencies:{"@bv/bv-loader-utils":"^1.5.0","babel-cli":"^6.23.0","babel-core":"^6.23.1","babel-loader":"^7.1.2","babel-plugin-rewire":"^1.1.0","babel-plugin-transform-object-rest-spread":"^6.23.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.0","babel-runtime":"^6.23.0","bv-ui-core":"^1.2.0","dom-delegate":"^2.0.3",domready:"^1.0.8","fetch-ponyfill":"^4.0.0","http-server":"^0.10.0","in-view":"^0.6.1","js-cookie":"^2.1.4",jsdom:"^9.11.0",rewire:"^2.5.2",rollup:"^0.41.6","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-inject":"^2.0.0","rollup-plugin-json":"^2.1.1","rollup-plugin-livereload":"^0.4.0","rollup-plugin-node-resolve":"^3.0.0","rollup-plugin-uglify":"^2.0.1","rollup-watch":"^3.2.2",sinon:"^1.17.7","true-visibility":"^0.1.1","uglify-es":"^3.0.28","uglifyjs-webpack-plugin":"^1.0.0-beta.3",webpack:"^3.7.1","webpack-dev-server":"^2.9.3",yargs:"^8.0.1"},dependencies:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(8));e.init=function(t,e){var n=(0,o.default)(e,"features.europeanAuthenticity");t.fingerprint=function(t){return t?n?(0,i.default)(t):r.default.resolve():n?r.default.resolve("inauth"):(0,u.default)()}};var o=a(n(101)),i=a(n(102)),u=a(n(104));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){n(45),n(46),n(55),n(88),n(99),n(100),t.exports=n(0).Promise},function(t,e,n){var r=n(28),o=n(29);t.exports=function(t){return function(e,n){var i,u,a=String(o(e)),c=r(n),s=a.length;return c<0||c>=s?t?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===s||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):i:t?a.slice(c,c+2):u-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(32),o=n(23),i=n(25),u={};n(9)(u,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(5),o=n(4),i=n(19);t.exports=n(7)?Object.defineProperties:function(t,e){o(t);for(var n,u=i(e),a=u.length,c=0;a>c;)r.f(t,n=u[c++],e[n]);return t}},function(t,e,n){var r=n(11),o=n(52),i=n(84);t.exports=function(t){return function(e,n,u){var a,c=r(e),s=o(c.length),f=i(u,s);if(t&&n!=n){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(28),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){"use strict";var r=n(86),o=n(87),i=n(18),u=n(11);t.exports=n(47)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,o,i,u,a=n(21),c=n(1),s=n(17),f=n(56),l=n(3),d=n(6),p=n(22),h=n(89),v=n(90),y=n(57),m=n(58).set,b=n(95)(),_=n(36),g=n(59),w=n(60),x=c.TypeError,S=c.process,P=c.Promise,E="process"==f(S),O=function(){},j=o=_.f,k=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n(2)("species")]=function(t){t(O,O)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e}catch(t){}}(),T=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},M=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var r=t._v,o=1==t._s,i=0,u=function(e){var n,i,u=o?e.ok:e.fail,a=e.resolve,c=e.reject,s=e.domain;try{u?(o||(2==t._h&&C(t),t._h=1),!0===u?n=r:(s&&s.enter(),n=u(r),s&&s.exit()),n===e.promise?c(x("Promise-chain cycle")):(i=T(n))?i.call(n,a,c):a(n)):c(r)}catch(t){c(t)}};n.length>i;)u(n[i++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){m.call(c,function(){var e,n,r,o=t._v,i=A(t);if(i&&(e=g(function(){E?S.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=E||A(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},A=function(t){return 1!==t._h&&0===(t._a||t._c).length},C=function(t){m.call(c,function(){var e;E?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=T(t))?b(function(){var r={_w:n,_d:!1};try{e.call(t,s(L,r,1),s(I,r,1))}catch(t){I.call(r,t)}}):(n._v=t,n._s=1,M(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};k||(P=function(t){h(this,P,"Promise","_h"),p(t),r.call(this);try{t(s(L,this,1),s(I,this,1))}catch(t){I.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(96)(P.prototype,{then:function(t,e){var n=j(y(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=s(L,t,1),this.reject=s(I,t,1)},_.f=j=function(t){return t===P||t===u?new i(t):o(t)}),l(l.G+l.W+l.F*!k,{Promise:P}),n(25)(P,"Promise"),n(97)("Promise"),u=n(0).Promise,l(l.S+l.F*!k,"Promise",{reject:function(t){var e=j(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(a||!k),"Promise",{resolve:function(t){return w(a&&this===u?P:this,t)}}),l(l.S+l.F*!(k&&n(98)(function(t){P.all(t).catch(O)})),"Promise",{all:function(t){var e=this,n=j(e),r=n.resolve,o=n.reject,i=g(function(){var n=[],i=0,u=1;v(t,!1,function(t){var a=i++,c=!1;n.push(void 0),u++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--u||r(n))},o)}),--u||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=j(e),r=n.reject,o=g(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(17),o=n(91),i=n(92),u=n(4),a=n(52),c=n(93),s={},f={};(e=t.exports=function(t,e,n,l,d){var p,h,v,y,m=d?function(){return t}:c(t),b=r(n,l,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(p=a(t.length);p>_;_++)if((y=e?b(u(h=t[_])[0],h[1]):b(t[_]))===s||y===f)return y}else for(v=m.call(t);!(h=v.next()).done;)if((y=o(v,b,h.value,e))===s||y===f)return y}).BREAK=s,e.RETURN=f},function(t,e,n){var r=n(4);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(18),o=n(2)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(56),o=n(2)("iterator"),i=n(18);t.exports=n(0).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(1),o=n(58).set,i=r.MutationObserver||r.WebKitMutationObserver,u=r.process,a=r.Promise,c="process"==n(20)(u);t.exports=function(){var t,e,n,s=function(){var r,o;for(c&&(r=u.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){u.nextTick(s)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve();n=function(){f.then(s)}}else n=function(){o.call(r,s)};else{var l=!0,d=document.createTextNode("");new i(s).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var r=n(9);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e,n){"use strict";var r=n(1),o=n(0),i=n(5),u=n(7),a=n(2)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];u&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(3),o=n(0),i=n(1),u=n(57),a=n(60);r(r.P+r.R,"Promise",{finally:function(t){var e=u(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(3),o=n(36),i=n(59);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){(function(e){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,i="[object Function]",u="[object GeneratorFunction]",a="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,f=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,y=h||v||Function("return this")();var m,b=Array.prototype,_=Function.prototype,g=Object.prototype,w=y["__core-js_shared__"],x=(m=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",S=_.toString,P=g.hasOwnProperty,E=g.toString,O=RegExp("^"+S.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=y.Symbol,k=b.splice,T=B(y,"Map"),M=B(Object,"create"),R=j?j.prototype:void 0,A=R?R.toString:void 0;function C(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function I(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function L(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function D(t,e){for(var n,r=0,o=(e=function(t,e){if(z(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||W(t))return!0;return s.test(t)||!c.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:z(n=e)?n:V(n)).length;null!=t&&r<o;)t=t[q(e[r++])];return r&&r==o?t:void 0}function N(t){return!(!G(t)||x&&x in t)&&(function(t){var e=G(t)?E.call(t):"";return e==i||e==u}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?O:p).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function U(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function B(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return N(n)?n:void 0}C.prototype.clear=function(){this.__data__=M?M(null):{}},C.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},C.prototype.get=function(t){var e=this.__data__;if(M){var n=e[t];return n===r?void 0:n}return P.call(e,t)?e[t]:void 0},C.prototype.has=function(t){var e=this.__data__;return M?void 0!==e[t]:P.call(e,t)},C.prototype.set=function(t,e){return this.__data__[t]=M&&void 0===e?r:e,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(t){var e=this.__data__,n=F(e,t);return!(n<0||(n==e.length-1?e.pop():k.call(e,n,1),0))},I.prototype.get=function(t){var e=this.__data__,n=F(e,t);return n<0?void 0:e[n][1]},I.prototype.has=function(t){return F(this.__data__,t)>-1},I.prototype.set=function(t,e){var n=this.__data__,r=F(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},L.prototype.clear=function(){this.__data__={hash:new C,map:new(T||I),string:new C}},L.prototype.delete=function(t){return U(this,t).delete(t)},L.prototype.get=function(t){return U(this,t).get(t)},L.prototype.has=function(t){return U(this,t).has(t)},L.prototype.set=function(t,e){return U(this,t).set(t,e),this};var V=H(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(W(t))return A?A.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return f.test(t)&&n.push(""),t.replace(l,function(t,e,r,o){n.push(r?o.replace(d,"$1"):e||t)}),n});function q(t){if("string"==typeof t||W(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function H(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u),u};return r.cache=new(H.Cache||L),r}H.Cache=L;var z=Array.isArray;function G(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function W(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&E.call(t)==a}t.exports=function(t,e,n){var r=null==t?void 0:D(t,e);return void 0===r?n:r}}).call(e,n(61))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(8));e.default=function(t){return o.default._cc=o.default._cc||[],o.default._cc.push(["ci",{sid:a}]),o.default._cc.push(["cf",c]),o.default._cc.push(["run",s]),o.default._cc.push(["ci",{tid:t}]),o.default._cc.push(["st",f]),new r.default(function(t,e){try{var n=setTimeout(function(){e("Unable to get device fingerprint.")},f);o.default._cc.push(["csd",function(){clearTimeout(n),t()}]),i.default.loadScript(l+"?ts="+(new Date).getTime())}catch(t){e(t)}})};var o=u(n(16)),i=u(n(62));function u(t){return t&&t.__esModule?t:{default:t}}var a="54b684cc-4b18-4193-be5f-9548d46cabaa",c=1022707,s="https://uk.cdn-net.com",f=1e3,l="https://uk.cdn-net.com/cc.js"},function(t,e,n){var r=n(16);function o(t){this.name=t}o.prototype.registerProperty=function(t,e){if(this.hasOwnProperty(t))throw new Error("Cannot register "+t+" because a property with that name already exists on window."+this.name);return this[t]=e,this},t.exports={namespace:function(t){if(void 0===r[t])Object.defineProperty(r,t,{value:new o(t)});else{if("object"!=typeof r[t])throw new Error("Namespace "+t+" cannot be created. A non-object variable is already assigned to window."+t);if(!(r[t]instanceof o))for(var e in o.call(r[t],t),o.prototype)r[t][e]=o.prototype[e]}return r[t]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(8));e.default=function(){return o.default.io_install_stm=!1,o.default.io_exclude_stm=12,o.default.io_install_flash=!1,o.default.io_enable_rip=!0,o.default.io_min_flash_version=3e3,new r.default(function(t,e){i.default.loadScript(s);var n=0,r=setInterval(u,c);function u(){if(o.default.ioGetBlackbox){var i=o.default.ioGetBlackbox(),u=i.finished,c=i.blackbox;u&&(clearInterval(r),t(c))}++n>=a&&(clearInterval(r),e("Unable to get blackbox string."))}u()})};var o=u(n(16)),i=u(n(62));function u(t){return t&&t.__esModule?t:{default:t}}var a=10,c=500,s="https://mpsnare.iesnare.com/snare.js"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(37));e.init=function(t,e){var n=t.version,i=(0,r.default)({apiConfig:{client:e.client,passkey:e.personalizationAPI.apiKey,APP_VERSION:n},APP_VERSION:n},e);o.default.init(t,i)};var o=i(n(109));function i(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){n(107),t.exports=n(0).Object.assign},function(t,e,n){var r=n(3);r(r.S+r.F,"Object",{assign:n(108)})},function(t,e,n){"use strict";var r=n(19),o=n(38),i=n(27),u=n(26),a=n(51),c=Object.assign;t.exports=!c||n(13)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=u(t),c=arguments.length,s=1,f=o.f,l=i.f;c>s;)for(var d,p=a(arguments[s++]),h=f?r(p).concat(f(p)):r(p),v=h.length,y=0;v>y;)l.call(p,d=h[y++])&&(n[d]=p[d]);return n}:c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(12)),o=c(n(14)),i=c(n(15)),u=c(n(63)),a=c(n(113));function c(t){return t&&t.__esModule?t:{default:t}}var s={category:c(n(157)).default,product:a.default},f=function(){function t(e,n){(0,o.default)(this,t),(0,r.default)(this,{appConfig:n}),this.resetRecommendations(),u.default.initTracker(e,n)}return(0,i.default)(t,[{key:"getRecommender",value:function(t){var e=t.slot,n=t.type,o=void 0===n?"product":n,i=o.toLowerCase(),u=s[i];if(!u)throw new Error(o+" is not a valid recommendations type");if(!e)throw new Error("A slot identifier is required for Recommendations");return this.recommenders[i][e]=new u((0,r.default)({},this.appConfig,t)),this.recommenders[i][e]}},{key:"getRecommendations",value:function(t){return this.getRecommender(t).getRecommendations()}},{key:"getPreferences",value:function(t){return this.getRecommender(t).getPreferences()}},{key:"attachAnalyticsToRecommendations",value:function(t,e){return this.getRecommender(t).attachAnalyticsToRecommendations(e)}},{key:"resetRecommendations",value:function(){this.recommenders={category:{},product:{}}}}]),t}(),l=["getRecommendations","getRecommender","resetRecommendations","attachAnalyticsToRecommendations","getPreferences"];e.default={init:function(t,e){var n=new f(t,e);(0,r.default)(t,l.reduce(function(t,e){return t[e]=n[e].bind(n),t},{}))}}},function(t,e,n){t.exports={default:n(111),__esModule:!0}},function(t,e,n){n(112);var r=n(0).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(3);r(r.S+r.F*!n(7),"Object",{defineProperty:n(5).f})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_(n(37)),o=_(n(114)),i=_(n(8)),u=_(n(12)),a=_(n(40)),c=_(n(14)),s=_(n(15)),f=_(n(64)),l=_(n(130)),d=_(n(67)),p=_(n(68)),h=_(n(69)),v=_(n(70)),y=_(n(44)),m=_(n(71)),b=_(n(148));function _(t){return t&&t.__esModule?t:{default:t}}var g=m.default.slot,w=m.default.legacySlot,x=m.default.product,S=function(t){return"["+g+'="'+t+'"]'},P=function(t){return"["+w+'="'+t+'"]'},E="["+x+"]",O=function(t){function e(t){(0,c.default)(this,e),t.trackProductVisibility=void 0===t.trackProductVisibility||t.trackProductVisibility;var n=(0,f.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return(0,u.default)(n,{_productsCache:{},_productVisibilitySelectorsCache:{},_slotSelector:S(t.slot),_legacySlotSelector:P(t.slot),_productsSeen:0,_productsReturned:0,slotType:"ProductPersonalizationSlot"}),t.hidden&&(n.getRecommendations=function(){return i.default.reject("Cannot request recommendations when 'hidden' is true")}),n.checkProductVisibility=(0,b.default)(n.checkProductVisibility.bind(n),500),n.slotPoll=new i.default(function(t){(0,h.default)(function(){n.pollForSlot().then(function(e){n.initSlotAnalyticsHandlers(e),t()}).catch(n.onError)})}),n}return(0,d.default)(e,t),(0,s.default)(e,[{key:"getRecommendations",value:function(){var t=this;return this._apiClient.getProductRecommendations().then(function(e){var n=e.profile.recommendationStats;return{recommendations:t.attachAnalyticsToRecommendations(e),slot:t.getSlotEl(),activeUser:n.activeUser}})}},{key:"getPreferences",value:function(){return this._apiClient.getPreferences().then(function(t){return{preferences:t.profile.preferences}})}},{key:"attachAnalyticsToRecommendations",value:function(t){var e=this,n=t.profile,r=n.plan,o=n.recommendations,i=n.products,a=n.recommendationStats,c={plan:r,recommendationStats:a};return this._responseAnalytics=c,this._productsReturned=o.length,this.slotPoll.then(this.pollForProducts.bind(this)),this._analytics.pageView({contentType:this.slotType,plan:r,numRecommendations:this._productsReturned,activeUser:a.activeUser}),o.map(function(t,n){var r=i[t],o=r.product;return(0,u.default)(r,{positionIndex:n}),e._productsCache[o]=(0,u.default)({},r),r})}},{key:"initSlotAnalyticsHandlers",value:function(t){t&&((0,v.default)(t).on("click",E,this.handleProductClick.bind(this)),(0,v.default)(t).on("click",this.handleSlotClick.bind(this)),(0,y.default)(this._slotSelector).once("enter",this.handleSlotInView.bind(this)),(0,y.default)(this._slotSelector).check(),(0,y.default)(this._legacySlotSelector).once("enter",this.handleSlotInView.bind(this)),(0,y.default)(this._legacySlotSelector).check())}},{key:"getPIDFromProductElement",value:function(t){return t.dataset.bvProductId}},{key:"getProductElements",value:function(){return[].slice.call(this.getSlotEl().querySelectorAll(E))}},{key:"pollForProducts",value:function(){var t=this,e=0,n=setInterval(function(){if(10!==e){var r=t.getProductElements();r.length&&(clearInterval(n),r.forEach(function(e){var n=t.getPIDFromProductElement(e),r=function(t){return"["+x+'="'+t+'"]'}(n);t._productVisibilitySelectorsCache[r]=!0,t._productsCache[n].selector=r,t._analytics.impression(t.getCommonAnalyticsDataForProduct(n)),t.trackProductVisibility&&(0,y.default)(r).once("enter",t.handleProductInView.bind(t))}),t.trackProductVisibility&&t.checkProductVisibility()),e++}else clearInterval(n)},1e3)}},{key:"handleSlotClick",value:function(){(0,l.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"handleSlotClick",this).call(this),this.trackProductVisibility&&this._productsSeen!==this._productsReturned&&this.checkProductVisibility()}},{key:"checkProductVisibility",value:function(){(0,o.default)(this._productVisibilitySelectorsCache).forEach(function(t){(0,y.default)(t).check()})}},{key:"handleProductClick",value:function(t,e){var n=this.getPIDFromProductElement(e),r=this._productsCache[n];if(!r.clicked){r.clicked=!0;var o=this.getCommonAnalyticsDataForProduct(n);this._analytics.contentClick(o)}}},{key:"handleProductInView",value:function(t){var e=this.getPIDFromProductElement(t),n=this._productsCache[e];if(!n.seen){n.seen=!0,this._productsSeen++,delete this._productVisibilitySelectorsCache[n.selector];var r=this.getCommonAnalyticsDataForProduct(e);this._analytics.inView(r)}}},{key:"getCommonAnalyticsDataForProduct",value:function(t){var e=this._productsCache[t],n=this._responseAnalytics,o=n.recommendationStats,i=n.plan,u=e.positionIndex,a=e.RS;return(0,r.default)({productId:t,contentType:"RecommendedProduct",positionIndex:u,plan:i,RS:a},o)}}]),e}(p.default);e.default=O},function(t,e,n){t.exports={default:n(115),__esModule:!0}},function(t,e,n){n(116),t.exports=n(0).Object.keys},function(t,e,n){var r=n(26),o=n(19);n(39)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){n(118),t.exports=n(0).Object.getPrototypeOf},function(t,e,n){var r=n(26),o=n(54);n(39)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){t.exports={default:n(120),__esModule:!0}},function(t,e,n){n(46),n(55),t.exports=n(41).f("iterator")},function(t,e,n){t.exports={default:n(122),__esModule:!0}},function(t,e,n){n(123),n(45),n(128),n(129),t.exports=n(0).Symbol},function(t,e,n){"use strict";var r=n(1),o=n(10),i=n(7),u=n(3),a=n(49),c=n(124).KEY,s=n(13),f=n(34),l=n(25),d=n(24),p=n(2),h=n(41),v=n(42),y=n(125),m=n(126),b=n(4),_=n(6),g=n(11),w=n(31),x=n(23),S=n(32),P=n(127),E=n(43),O=n(5),j=n(19),k=E.f,T=O.f,M=P.f,R=r.Symbol,A=r.JSON,C=A&&A.stringify,I=p("_hidden"),L=p("toPrimitive"),F={}.propertyIsEnumerable,D=f("symbol-registry"),N=f("symbols"),U=f("op-symbols"),B=Object.prototype,V="function"==typeof R,q=r.QObject,H=!q||!q.prototype||!q.prototype.findChild,z=i&&s(function(){return 7!=S(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=k(B,e);r&&delete B[e],T(t,e,n),r&&t!==B&&T(B,e,r)}:T,G=function(t){var e=N[t]=S(R.prototype);return e._k=t,e},W=V&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},$=function(t,e,n){return t===B&&$(U,e,n),b(t),e=w(e,!0),b(n),o(N,e)?(n.enumerable?(o(t,I)&&t[I][e]&&(t[I][e]=!1),n=S(n,{enumerable:x(0,!1)})):(o(t,I)||T(t,I,x(1,{})),t[I][e]=!0),z(t,e,n)):T(t,e,n)},J=function(t,e){b(t);for(var n,r=y(e=g(e)),o=0,i=r.length;i>o;)$(t,n=r[o++],e[n]);return t},K=function(t){var e=F.call(this,t=w(t,!0));return!(this===B&&o(N,t)&&!o(U,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,I)&&this[I][t])||e)},X=function(t,e){if(t=g(t),e=w(e,!0),t!==B||!o(N,e)||o(U,e)){var n=k(t,e);return!n||!o(N,e)||o(t,I)&&t[I][e]||(n.enumerable=!0),n}},Y=function(t){for(var e,n=M(g(t)),r=[],i=0;n.length>i;)o(N,e=n[i++])||e==I||e==c||r.push(e);return r},Q=function(t){for(var e,n=t===B,r=M(n?U:g(t)),i=[],u=0;r.length>u;)!o(N,e=r[u++])||n&&!o(B,e)||i.push(N[e]);return i};V||(a((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(U,n),o(this,I)&&o(this[I],t)&&(this[I][t]=!1),z(this,t,x(1,n))};return i&&H&&z(B,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),E.f=X,O.f=$,n(66).f=P.f=Y,n(27).f=K,n(38).f=Q,i&&!n(21)&&a(B,"propertyIsEnumerable",K,!0),h.f=function(t){return G(p(t))}),u(u.G+u.W+u.F*!V,{Symbol:R});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)p(Z[tt++]);for(var et=j(p.store),nt=0;et.length>nt;)v(et[nt++]);u(u.S+u.F*!V,"Symbol",{for:function(t){return o(D,t+="")?D[t]:D[t]=R(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),u(u.S+u.F*!V,"Object",{create:function(t,e){return void 0===e?S(t):J(S(t),e)},defineProperty:$,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Q}),A&&u(u.S+u.F*(!V||s(function(){var t=R();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(_(e)||void 0!==t)&&!W(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,C.apply(A,r)}}),R.prototype[L]||n(9)(R.prototype,L,R.prototype.valueOf),l(R,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(24)("meta"),o=n(6),i=n(10),u=n(5).f,a=0,c=Object.isExtensible||function(){return!0},s=!n(13)(function(){return c(Object.preventExtensions({}))}),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return s&&l.NEED&&c(t)&&!i(t,r)&&f(t),t}}},function(t,e,n){var r=n(19),o=n(38),i=n(27);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var u,a=n(t),c=i.f,s=0;a.length>s;)c.call(t,u=a[s++])&&e.push(u);return e}},function(t,e,n){var r=n(20);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(11),o=n(66).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(r(t))}},function(t,e,n){n(42)("asyncIterator")},function(t,e,n){n(42)("observable")},function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(40)),o=i(n(131));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,i){null===e&&(e=Function.prototype);var u=(0,o.default)(e,n);if(void 0===u){var a=(0,r.default)(e);return null===a?void 0:t(a,n,i)}if("value"in u)return u.value;var c=u.get;return void 0!==c?c.call(i):void 0}},function(t,e,n){t.exports={default:n(132),__esModule:!0}},function(t,e,n){n(133);var r=n(0).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(11),o=n(43).f;n(39)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){t.exports={default:n(135),__esModule:!0}},function(t,e,n){n(136),t.exports=n(0).Object.setPrototypeOf},function(t,e,n){var r=n(3);r(r.S,"Object",{setPrototypeOf:n(137).set})},function(t,e,n){var r=n(6),o=n(4),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(17)(Function.call,n(43).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={default:n(139),__esModule:!0}},function(t,e,n){n(140);var r=n(0).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(3);r(r.S,"Object",{create:n(32)})},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(12)),o=a(n(14)),i=a(n(15)),u=a(n(144));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){return"https://my.network"+(t.staging?"-stg":"")+".bazaarvoice.com/recommendations/me?"+["bvbrandid","category","client","include","include_product_reviews","limit","passkey","plan","purpose","required_category","sdkVersion"].map(function(e){return t[e]&&e+"="+t[e]}).filter(Boolean).join("&")},s=function(){function e(t){(0,o.default)(this,e);var n=t.apiConfig,i=t.APP_VERSION,a=t.category,s=t.limit,f=void 0===s?10:s,l=t.purpose,d=t.planOverride,p=t.required_category,h=u.default.get("BVBRANDID");this.config=(0,r.default)({},n,{bvbrandid:h,category:a&&n.client+"/"+a,limit:f,plan:d,purpose:l,required_category:p&&n.client+"/"+p,sdkVersion:i}),(0,r.default)(this.config,{productsRequestUrl:c(this.config),categoriesRequestUrl:c((0,r.default)({},this.config,{include:"category_recommendations"})),preferencesRequestURL:c((0,r.default)({},this.config,{include:"preferences"}))})}return(0,i.default)(e,[{key:"getProductRecommendations",value:function(){return t(this.config.productsRequestUrl,{credentials:"include"}).then(function(t){return t.json()})}},{key:"getCategoryRecommendations",value:function(){return t(this.config.categoriesRequestUrl,{credentials:"include"}).then(function(t){return t.json()})}},{key:"getPreferences",value:function(){return t(this.config.preferencesRequestURL,{credentials:"include"}).then(function(t){return t.json()})}}]),e}();e.default=s}).call(e,n(142))},function(t,e,n){"use strict";var r=i(n(8)),o=i(n(143));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=(0,o.default)({Promise:r.default}).fetch},function(t,e,n){var r;!function(o){"use strict";function i(t){var e=t&&t.Promise||o.Promise,n=t&&t.XMLHttpRequest||o.XMLHttpRequest,r=o;return function(){var t=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(t){if(!t.fetch){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},u=ArrayBuffer.isView||function(t){return t&&o.indexOf(Object.prototype.toString.call(t))>-1};d.prototype.append=function(t,e){t=s(t),e=f(e);var n=this.map[t];this.map[t]=n?n+","+e:e},d.prototype.delete=function(t){delete this.map[s(t)]},d.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},d.prototype.set=function(t,e){this.map[s(t)]=f(e)},d.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},d.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},d.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},d.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},r.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var c=[301,302,303,307,308];g.redirect=function(t,e){if(-1===c.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=d,t.Request=b,t.Response=g,t.fetch=function(t,o){return new e(function(e,i){var u=new b(t,o),a=new n;a.onload=function(){var t,n,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",n=new d,t.split(/\r?\n/).forEach(function(t){var e=t.split(":"),r=e.shift().trim();if(r){var o=e.join(":").trim();n.append(r,o)}}),n)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;e(new g(o,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(u.method,u.url,!0),"include"===u.credentials&&(a.withCredentials=!0),"responseType"in a&&r.blob&&(a.responseType="blob"),u.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===u._bodyInit?null:u._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(t){if(t.bodyUsed)return e.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new e(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function v(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(r.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(r.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(r.arrayBuffer&&r.blob&&i(t))this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!u(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return e.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return e.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||e.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t,n,r,o=p(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,n=new FileReader,r=h(n),n.readAsText(t),r;if(this._bodyArrayBuffer)return e.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return e.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(t,e){var n,r,o=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),a.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function _(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function g(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}}(void 0!==t?t:this),{fetch:t.fetch,Headers:t.Headers,Request:t.Request,Response:t.Response}}()}void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}("undefined"==typeof self?this:self)},function(t,e,n){var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o),!0,t.exports=i(),!!0){var u=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=u,a}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function e(n){function r(e,o,i){var u;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=t({path:"/"},r.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{u=JSON.stringify(o),/^[\{\[]/.test(u)&&(o=u)}catch(t){}o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s]));return document.cookie=e+"="+o+c}e||(u={});for(var f=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<f.length;d++){var p=f[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var v=p[0].replace(l,decodeURIComponent);if(h=n.read?n.read(h,v):n(h,v)||h.replace(l,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(t){}if(e===v){u=h;break}e||(u[v]=h)}catch(t){}}return u}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}(function(){})})},function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));t.exports=r.default},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(9)),i=r(n(3)),u=n(4);e.default=function(){if("undefined"!=typeof window){var t={history:[]},e={offset:{},threshold:0,test:u.inViewport},n=(0,o.default)(function(){t.history.forEach(function(e){t[e].check()})},100);["scroll","resize","load"].forEach(function(t){return addEventListener(t,n)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(n).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var r=function(n){if("string"==typeof n){var r=[].slice.call(document.querySelectorAll(n));return t.history.indexOf(n)>-1?t[n].elements=r:(t[n]=(0,i.default)(r,e),t.history.push(n)),t[n]}};return r.offset=function(t){if(void 0===t)return e.offset;var n=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(n(t)?function(n){return e.offset[n]=t}:function(r){return n(t[r])?e.offset[r]=t[r]:null}),e.offset},r.threshold=function(t){return"number"==typeof t&&t>=0&&t<=1?e.threshold=t:e.threshold},r.test=function(t){return"function"==typeof t?e.test=t:e.test},r.is=function(t){return e.test(t,e)},r.offset(0),r}}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.options=n,this.elements=e,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return n(t,[{key:"check",value:function(){var t=this;return this.elements.forEach(function(e){var n=t.options.test(e,t.options),r=t.current.indexOf(e),o=r>-1,i=!n&&o;n&&!o&&(t.current.push(e),t.emit("enter",e)),i&&(t.current.splice(r,1),t.emit("exit",e))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var n=this.handlers[t].length;--n>-1;)this.handlers[t][n](e);return this}}]),t}();e.default=function(t,e){return new r(t,e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=function(t,e){var n=t.getBoundingClientRect(),r=n.top,o=n.right,i=n.bottom,u=n.left,a=n.width,c=n.height,s=i,f=window.innerWidth-u,l=window.innerHeight-r,d=o,p=e.threshold*a,h=e.threshold*c;return s>e.offset.top+h&&f>e.offset.right+p&&l>e.offset.bottom+h&&d>e.offset.left+p}},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(5),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){var r=n(1),o=n(8),i=n(10),u="Expected a function",a=Math.max,c=Math.min;t.exports=function(t,e,n){function s(e){var n=h,r=v;return h=v=void 0,g=e,m=t.apply(r,n)}function f(t){var n=t-_;return void 0===_||n>=e||n<0||x&&t-g>=y}function l(){var t=o();return f(t)?d(t):void(b=setTimeout(l,function(t){var n=e-(t-_);return x?c(n,y-(t-g)):n}(t)))}function d(t){return b=void 0,S&&h?s(t):(h=v=void 0,m)}function p(){var t=o(),n=f(t);if(h=arguments,v=this,_=t,n){if(void 0===b)return function(t){return g=t,b=setTimeout(l,e),w?s(t):m}(_);if(x)return b=setTimeout(l,e),s(_)}return void 0===b&&(b=setTimeout(l,e)),m}var h,v,y,m,b,_,g=0,w=!1,x=!1,S=!0;if("function"!=typeof t)throw new TypeError(u);return e=i(e)||0,r(n)&&(w=!!n.leading,y=(x="maxWait"in n)?a(i(n.maxWait)||0,e):y,S="trailing"in n?!!n.trailing:S),p.cancel=function(){void 0!==b&&clearTimeout(b),g=0,h=_=v=b=void 0},p.flush=function(){return void 0===b?m:d(o())},p}},function(t,e,n){var r=n(6);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(7),o=n(1),i="Expected a function";t.exports=function(t,e,n){var u=!0,a=!0;if("function"!=typeof t)throw new TypeError(i);return o(n)&&(u="leading"in n?!!n.leading:u,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:u,maxWait:e,trailing:a})}},function(t,e){t.exports=function(t){return t}}])},t.exports=r()},function(t,e,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){return function(t){"use strict";"string"==typeof t&&(t=document.querySelector(t));var e=function(t,n,r,o,i,u,a){var c=getComputedStyle(t);if("0"===c.opacity||"none"===c.display||"hidden"===c.visibility)return!1;var s=t.parentNode;if(s){if(s===document)return!0;var f=getComputedStyle(s).overflow;return("hidden"!==f&&"scroll"!==f||!(i+2>s.offsetWidth+s.scrollLeft||i+u-2<s.scrollLeft||n+2>s.offsetHeight+s.scrollTop||n+a-2<s.scrollTop))&&(s===t.offsetParent&&(i+=s.offsetLeft,n+=s.offsetTop),e(s,n,r,o,i,u,a))}return!0};if(!t||!function(t){for(;t=t.parentNode;)if(t===document)return!0;return!1}(t))return!1;var n=t.offsetTop,r=t.offsetLeft,o=n+t.offsetHeight,i=r+t.offsetWidth,u=t.offsetWidth,a=t.offsetHeight;return e(t,n,i,o,r,u,a)}})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){"use strict";function r(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=r.prototype.handle.bind(this)}t.exports=r,r.prototype.root=function(t){var e,n=this.listenerMap;if(this.rootElement){for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;for(e in this.rootElement=t,n[1])n[1].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!1);return this},r.prototype.captureForType=function(t){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(t)},r.prototype.on=function(t,e,n,r){var a,c,s,f;if(!t)throw new TypeError("Invalid event type: "+t);if("function"==typeof e&&(r=n,n=e,e=null),void 0===r&&(r=this.captureForType(t)),"function"!=typeof n)throw new TypeError("Handler must be a type of Function");return a=this.rootElement,(c=this.listenerMap[r?1:0])[t]||(a&&a.addEventListener(t,this.handle,r),c[t]=[]),e?/^[a-z]+$/i.test(e)?(f=e,s=i):/^#[a-z0-9\-_]+$/i.test(e)?(f=e.slice(1),s=u):(f=e,s=o):(f=null,s=function(t,e){return this.rootElement===window?e===document:this.rootElement===e}.bind(this)),c[t].push({selector:e,handler:n,matcher:s,matcherParam:f}),this},r.prototype.off=function(t,e,n,r){var o,i,u,a,c;if("function"==typeof e&&(r=n,n=e,e=null),void 0===r)return this.off(t,e,n,!0),this.off(t,e,n,!1),this;if(u=this.listenerMap[r?1:0],!t){for(c in u)u.hasOwnProperty(c)&&this.off(c,e,n);return this}if(!(a=u[t])||!a.length)return this;for(o=a.length-1;o>=0;o--)i=a[o],e&&e!==i.selector||n&&n!==i.handler||a.splice(o,1);return a.length||(delete u[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,r)),this},r.prototype.handle=function(t){var e,n,r,o,i,u,a=t.type,c=[];if(!0!==t.ftLabsDelegateIgnore){switch(3===(u=t.target).nodeType&&(u=u.parentNode),r=this.rootElement,t.eventPhase||(t.target!==t.currentTarget?3:2)){case 1:c=this.listenerMap[1][a];break;case 2:this.listenerMap[0]&&this.listenerMap[0][a]&&(c=c.concat(this.listenerMap[0][a])),this.listenerMap[1]&&this.listenerMap[1][a]&&(c=c.concat(this.listenerMap[1][a]));break;case 3:c=this.listenerMap[0][a]}for(n=c.length;u&&n;){for(e=0;e<n&&(o=c[e]);e++)if(o.matcher.call(u,o.matcherParam,u)&&(i=this.fire(t,u,o)),!1===i)return t.ftLabsDelegateIgnore=!0,void t.preventDefault();if(u===r)break;n=c.length,u=u.parentElement}}},r.prototype.fire=function(t,e,n){return n.handler.call(e,t,e)};var o=function(t){if(t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);function i(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}function u(t,e){return t===e.id}r.prototype.destroy=function(){this.off(),this.root()}},function(t,e,n){var r=n(72),o=n(149),i=n(151),u="Expected a function",a=Math.max,c=Math.min;t.exports=function(t,e,n){var s,f,l,d,p,h,v=0,y=!1,m=!1,b=!0;if("function"!=typeof t)throw new TypeError(u);function _(e){var n=s,r=f;return s=f=void 0,v=e,d=t.apply(r,n)}function g(t){var n=t-h;return void 0===h||n>=e||n<0||m&&t-v>=l}function w(){var t=o();if(g(t))return x(t);p=setTimeout(w,function(t){var n=e-(t-h);return m?c(n,l-(t-v)):n}(t))}function x(t){return p=void 0,b&&s?_(t):(s=f=void 0,d)}function S(){var t=o(),n=g(t);if(s=arguments,f=this,h=t,n){if(void 0===p)return function(t){return v=t,p=setTimeout(w,e),y?_(t):d}(h);if(m)return p=setTimeout(w,e),_(h)}return void 0===p&&(p=setTimeout(w,e)),d}return e=i(e)||0,r(n)&&(y=!!n.leading,l=(m="maxWait"in n)?a(i(n.maxWait)||0,e):l,b="trailing"in n?!!n.trailing:b),S.cancel=function(){void 0!==p&&clearTimeout(p),v=0,s=h=f=p=void 0},S.flush=function(){return void 0===p?d:x(o())},S}},function(t,e,n){var r=n(73);t.exports=function(){return r.Date.now()}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(61))},function(t,e,n){var r=n(72),o=n(152),i=NaN,u=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=c.test(t);return n||s.test(t)?f(t.slice(2),n?2:8):a.test(t)?i:+t}},function(t,e,n){var r=n(153),o=n(156),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},function(t,e,n){var r=n(74),o=n(154),i=n(155),u="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:u:c&&c in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(74),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(e?t[a]=n:delete t[a]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(37)),o=y(n(8)),i=y(n(12)),u=y(n(40)),a=y(n(14)),c=y(n(15)),s=y(n(64)),f=y(n(67)),l=y(n(68)),d=y(n(69)),p=y(n(70)),h=y(n(44)),v=y(n(71));function y(t){return t&&t.__esModule?t:{default:t}}var m=v.default.slot,b=v.default.legacySlot,_=function(t){return"["+m+'="'+t+'"]'},g=function(t){return"["+b+'="'+t+'"]'},w=function(t){function e(t){(0,a.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return(0,i.default)(n,{_slotSelector:_(t.slot),_legacySlotSelector:g(t.slot),slotType:"CategoryPersonalizationSlot"}),t.hidden&&(n.getRecommendations=function(){return o.default.reject("Cannot request recommendations when 'hidden' is true")}),(0,d.default)(function(){n.pollForSlot().then(n.initAnalyticsHandlers.bind(n)).catch(n.onError)}),n}return(0,f.default)(e,t),(0,c.default)(e,[{key:"getRecommendations",value:function(){var t=this;return this._apiClient.getCategoryRecommendations().then(function(e){var n=e.profile,r=n.category_plan,o=n.category_recommendations,i=n.categories,u=n.recommendationStats,a={plan:r,recommendationStats:u};return t._responseAnalytics=a,t._analytics.pageView({contentType:t.slotType,plan:r,numRecommendations:o.length,activeUser:u.activeUser}),o.forEach(function(e,n){t._analytics.impression(t.getAnalyticsDataForCategory(e,n,r,u))}),{recommendations:o.map(function(t){return i[t]}),slot:t.getSlotEl(),activeUser:u.activeUser}})}},{key:"initAnalyticsHandlers",value:function(t){t&&((0,p.default)(t).on("click",this.handleSlotClick.bind(this)),(0,h.default)(this._slotSelector).once("enter",this.handleSlotInView.bind(this)),(0,h.default)(this._slotSelector).check(),(0,h.default)(this._legacySlotSelector).once("enter",this.handleSlotInView.bind(this)),(0,h.default)(this._legacySlotSelector).check())}},{key:"getAnalyticsDataForCategory",value:function(t,e,n,o){return(0,r.default)({categoryId:t,contentType:"RecommendedCategory",positionIndex:e,plan:n},o)}}]),e}(l.default);e.default=w}]);