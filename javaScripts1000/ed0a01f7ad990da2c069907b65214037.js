(self.sitewideWebpack=self.sitewideWebpack||[]).push([[768],{32465:function(e,t,r){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{Z:function(){return n}})},11651:function(e,t,r){"use strict";var n=r(95318);t.ZP=t.rU=void 0;var o=n(r(67154)),i=n(r(6479)),a=n(r(63804)),s=r(80018),c=r(70917),l=s.styled.a(),u=a.default.forwardRef((function(e,t){var r=e.to,n=void 0===r?"#":r,a=e.target,s=void 0===a?"_self":a,u=e.children,d=(0,i.default)(e,["to","target","children"]);return(0,c.jsx)(l,(0,o.default)({ref:t,href:n,target:s},d),u)}));t.rU=u,(0,s.styled)(u)((function(e){var t=e.theme,r=e.crossBrand,n=t.color;return{color:(0,s.forBrands)(t,{gap:n.b2,gapfs:n.b2,on:n.b1,br:n.g1,brfs:n.g1,at:n.g1,crossBrand:t.crossBrand.color.b1},r)}}));var d=u;t.ZP=d},46055:function(e,t,r){"use strict";var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.withToggleManager=t.default=void 0;var o=n(r(67154)),i=n(r(34575)),a=n(r(93913)),s=n(r(81506)),c=n(r(2205)),l=n(r(78585)),u=n(r(29754)),d=n(r(63804)),p=r(26047),f=r(70917);var b=function(e){(0,c.default)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.default)(t);if(r){var o=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.default)(this,e)});function o(e){var t;return(0,i.default)(this,o),(t=n.call(this,e)).state={open:Boolean(e.open)},t.handleOutsideClick=t.handleOutsideClick.bind((0,s.default)(t)),t.toggleOpen=t.toggleOpen.bind((0,s.default)(t)),t}return(0,a.default)(o,[{key:"componentDidUpdate",value:function(){this.state.open?(window.addEventListener("click",this.handleOutsideClick),window.addEventListener("keydown",this.handleOutsideClick)):(window.removeEventListener("click",this.handleOutsideClick),window.removeEventListener("keydown",this.handleOutsideClick))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick),window.removeEventListener("keydown",this.handleOutsideClick)}},{key:"handleOutsideClick",value:function(e){(null===e.target.closest("#".concat(this.props.containerID))&&!e.target.matches("[data-is-back-button]")||27===e.keyCode)&&this.toggleOpen()}},{key:"toggleOpen",value:function(e){this.setState((function(t){return{open:!1===e||!0===e?e:!t.open}}))}},{key:"render",value:function(){return this.props.children({open:this.state.open,toggleOpen:this.toggleOpen})}}]),o}(d.default.PureComponent);b.propTypes=p.propTypes,t.withToggleManager=function(e,t){return function(r){return(0,f.jsx)(b,{containerID:t},(function(t){var n=t.open,i=t.toggleOpen;return(0,f.jsx)(e,(0,o.default)({open:n,toggleOpen:i},r))}))}};var g=b;t.default=g},26047:function(e,t,r){"use strict";var n=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.propTypes=void 0;var o=n(r(45697)),i={open:o.default.bool,children:o.default.func.isRequired,containerID:o.default.string.isRequired};t.propTypes=i},7714:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return pe}});var n=r(63804),o=r.n(n),i=r(68134),a=r(28267),s=r(28481),c=r(46055),l=r(62115),u=r(74439),d=r(83518),p=r(11602),f=r(41350),b=r(83998),g=r(70917),v="undefined"==typeof sessionStorage?void 0:(0,d.storageHelper)(sessionStorage),y=r(57058),h=r(96156),m=r(80018),O=r(37337);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=O.Z.span({color:"#5cabf7"}),k=O.Z.div((function(e){var t=e.theme,r=e.isActive,n=t.crossBrand,o=n.color;return x(x({},n.font.primary),{},{color:r?o.bk:o.wh,fontSize:"0.75rem",lineHeight:"1.43"})})),P=O.Z.div((function(e){var t=e.theme,r=e.isActive,n=e.shouldDisplayLoyaltyPoints,o=t.crossBrand,i=o.color;return x(x(x({},o.font.secondary),function(e){return e&&(0,m.getFontWeight)("medium")}(n)),{},{color:r?i.bk:i.wh,fontSize:"75%",lineHeight:1.43,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})})),A=O.Z.button((function(e){var t=e.theme,r=e.isActive,n=t.color,o={"&::after":{background:n.wh,content:'""',display:r?"none":"block",height:"1.5em",marginTop:"-0.75em",position:"absolute",right:0,top:"50%",width:"1px"}};return x({background:"0 0",backgroundColor:r?n.wh:void 0,borderColor:"transparent",borderWidth:0,boxSizing:"border-box",display:"block",fontSize:"1rem",height:"2.5rem",minWidth:"6.43rem",outline:0,padding:"1px 1.5rem 1px 0.64rem",position:"relative",textAlign:"left",maxWidth:"13.625rem"},o)}));function S(e){var t=e.isAccountDropdownOpen,r=e.isActive,n=(0,l.u)().crossBrand.color,o=(0,y.useLocalize)().localize,i=o("myAccount.ariaLabel.openMenu"),a=o("myAccount.ariaLabel.closeMenu"),s=t?a:i;return(0,g.jsx)("div",{"aria-expanded":t,"aria-label":s,css:{display:"inline-block",lineHeight:0,marginTop:"5px",position:"absolute",right:"0.8125em",top:"50%",verticalAlign:"top",width:"0.625rem"}},(0,g.jsx)("svg",{viewBox:"-12.6 19.5 11.3 7.3"},(0,g.jsx)("path",{css:(0,g.css)({stroke:r?n.bk:n.wh},"",""),d:"M-2.7 21l-4.2 4.2-4.3-4.2"})))}var L=function(){var e=(0,n.useContext)(u.PersonalizationContext),t=e.isLoggedInUser,r=e.virtualValueInterrupterStatus,o=null!=r?r:{},i=o.bouncebackActive,a=void 0!==i&&i,s=o.totalRewardValue,c=void 0===s?0:s,l=o.tier,d=void 0===l?"":l;return(0,f.S)(b.R2.SW_LOYALTY_ENROLL_LINK,{isBranded:!0})&&!!t&&!!(d&&c>=0)&&!a};function D(e){var t=e.isActive,r=e.isAccountDropdownOpen,i=e.toggleDropdown,a=(0,n.useContext)(u.PersonalizationContext),s=a.firstName,c=void 0===s?"":s,l=a.isLoggedInUser,d=a.isRecognizedUser,f=a.isEmpty,b=a.virtualValueInterrupterStatus,v=null!=b?b:{},h=v.rewardsActive,m=void 0!==h&&h,O=v.bouncebackActive,j=void 0!==O&&O,x=v.totalRewardValue,D=void 0===x?0:x,C=v.bouncebackText,R=void 0===C?"":C,z=v.tier,I=void 0===z?"":z,B=(0,y.useLocalize)().localize,_=L(),T=B("myAccount.usersAccount",{firstName:c}),E=B("myAccount.hello",{firstName:c}),Z=B("global.signIn"),N=B("myAccount.yourAccount"),W=(0,g.jsx)(w,{"data-testid":"reward-value"},"Â $",D);return(0,g.jsx)(A,{isActive:t,onClick:i},function(){if(f)return"";var e=N,r=l||d?E:Z;(j||m)&&(r=T,e=(0,p.B)({rewardsActive:m,bouncebackActive:j,bouncebackText:R})),_&&(e="".concat(I," $").concat(D," in rewards"));var n=m&&!j&&!_;return(0,g.jsx)(o().Fragment,null,(0,g.jsx)(k,{isActive:t},r),(0,g.jsx)(P,{isActive:t,shouldDisplayLoyaltyPoints:_},e,n&&W))}(),(0,g.jsx)(S,{isAccountDropdownOpen:r,isActive:t}))}var C=r(25997),R=r(85061),z=r(50594),I="/my-account/sign-in",B=r(11651),_=r(2950);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={on:"Join Navyist Rewards",gap:"Join Gap Good Rewards",br:"Join Banana Republic Rewards",at:"Join Athleta Rewards",brfs:"Join Banana Republic Rewards",gapfs:"Join Gap Good Rewards"},N=O.Z.li((function(e){return E(E({},e.theme.font.primary),{},{fontSize:"86.7%",lineHeight:1.38,fontWeight:500,padding:".65em 0"})})),W=(0,O.Z)(B.ZP)((function(e){var t=e.theme;return E(E({},t.crossBrand.font.primary),{},{fontSize:"86.7%",lineHeight:1.38,fontWeight:500,padding:".65em 0",color:t.color.gray60,display:"block"})})),U=(0,g.jsx)(N,null,"Get free shipping on all orders $50+, earn points, and more! Itâs free!"),M=r(9839);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Y=r(30965);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=O.Z.ul((function(e){var t=e.theme,r=e.isOpen;return{backgroundColor:t.color.wh,border:"1px solid ".concat(t.color.gray20),boxSizing:"border-box",display:"block",minWidth:"12em",padding:"0 0.64em",position:"absolute",right:"-0.75px",top:"2.45em",visibility:r?"visible":"hidden",width:"100%",zIndex:405}})),$=(0,g.jsx)((function(){var e=(0,y.useLocalize)().localize,t=(0,C.m)().brandSiteData,r=(0,l.u)(),n=r.crossBrand,o=r.brand,i={marginTop:r.spacing.medium},a=V(V({},n.font.secondary),{},{fontSize:"br"===o?"14px":void 0,transition:"background-color 200ms ease"}),s=(0,_.q)(V(V({},t),{},{myAccountUrlType:_.k.signIn})),c=e("global.signIn");return(0,g.jsx)("li",{css:i},(0,g.jsx)(Y.ZP,{as:"a",css:a,href:s,kind:Y.hY.tertiary},c))}),null),K=(0,g.jsx)(M.W,null),Q=(0,g.jsx)((function(){var e=(0,C.m)(),t=e.brandSiteData,r=e.brandName,n=(0,_.q)(E(E({},t),{},{myAccountUrlType:_.k.signIn}));return(0,g.jsx)(o().Fragment,null,U,(0,g.jsx)(W,{href:n},Z[r]))}),null),X=(0,g.jsx)((function(){var e=(0,C.m)(),t=e.accountDropdownItems,r=void 0===t?[]:t,i=e.market,a=(0,n.useContext)(u.PersonalizationContext).isLoggedInUser,s=(0,(0,y.useLocalize)().localize)("myAccount.createAccount"),c=(0,f.S)(b.R2.SW_LOYALTY_ENROLL_LINK,{isBranded:!0}),l=(0,f.S)(b.R2.US_COMMUNITY_DROPDOWN,{isBranded:!0})&&"us"===i,d=[{link:I,text:s}].concat((0,R.Z)(r));if(l){var p=a?2:1;d.splice(p,0,{text:"AthletaWell Community",link:"https://community.athletawell.com"})}var v=function(e,t){return function(r){return t&&!e?2===r:e?0===r:1===r}}(!!a,l),h=d.map((function(e,t){var r=e.link,n=e.text,o=!t&&a||!t&&c,i=!(t>2)&&v(t);return o?null:(0,g.jsx)(z.k,{key:n,link:r,shouldSeparate:i,text:n})}));return(0,g.jsx)(o().Fragment,null,h)}),null),ee=(0,g.jsx)((function(){var e,t,r,n=(0,C.m)(),o=n.brandSiteData.currentBrandSiteId,i=n.market;return["GAPFS","BRFS"].includes(o)||"ca"===i?null:(0,g.jsx)(z.k,{link:"/customerService/info.do?cid=".concat((e=o,r={ON:"83040",BR:"80744",AT:"79314",GAP:"81267"},null!==(t=r[e])&&void 0!==t?t:r.GAP),"&cs=ordering_and_shipping"),shouldSeparate:!0,text:"International Shipping"})}),null),te=(0,g.jsx)((function(){var e=(0,y.useLocalize)().localize,t=(0,C.m)().brandSiteData,r=e("global.signOut"),n=(0,_.q)(J(J({},t),{},{myAccountUrlType:_.k.signOut}));return(0,g.jsx)(z.k,{link:n,shouldSeparate:!0,text:r})}),null),re=(0,g.jsx)("li",{className:"my-account__dropdown-separator-bottom my-account__dropdown-text"}),ne=(0,g.jsx)((function(){var e=(0,n.useContext)(u.PersonalizationContext).virtualValueInterrupterStatus,t=(0,l.u)();if(!e)return null;var r=e.rewardsActive,o=e.bouncebackActive,i=e.totalRewardValue;if(!r&&!o)return null;var a=(0,p.B)(e),s=r&&!o,c=t.brand,f=t.color,b=t.font,v=t.spacing,y={background:c===d.Brands.Gap?f.b2:f.b1,color:f.wh,margin:"0 -0.64em",position:"absolute",textAlign:"center",paddingTop:v.medium,paddingBottom:v.medium,width:"100%"},m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,h.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"block"},s?b.primary:b.secondary);return(0,g.jsx)("li",{css:y},(0,g.jsx)("a",{css:{lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis"},href:"/loyalty/customer-value"},(0,g.jsx)("span",{css:m},a),s&&(0,g.jsx)("span",{css:{display:"block",fontSize:"20px"}},"$",i)))}),null),oe=function(e){var t=e.isOpen,r=(0,C.m)().market,i=(0,n.useContext)(u.PersonalizationContext).isLoggedInUser,a=L(),s=(0,f.S)(b.R2.SW_LOYALTY_ENROLL_LINK,{isBranded:!0}),c=!i&&"us"===r&&s;return(0,g.jsx)(q,{className:"my-account__dropdown",isOpen:t},!i&&$,i&&K,c&&Q,X,ee,i&&te,!a&&(0,g.jsx)(o().Fragment,null,re,ne))},ie="MyAccountContainer",ae=(0,g.jsx)((function(){var e="true"===(null==v?void 0:v.getItem("vvi_closed")),t=(0,n.useState)(e),r=(0,s.Z)(t,2),o=r[0],i=r[1],a=(0,n.useContext)(u.PersonalizationContext),c=a.virtualValueInterrupterStatus,d=a.isLoggedInUser,y=(0,l.u)().color,h=(0,f.S)(b.R2.SW_LOYALTY_ENROLL_LINK,{isBranded:!0}),m=(0,n.useCallback)((function(){i(!0),null==v||v.setItem("vvi_closed","true")}),[]);if(!c)return null;var O=c.rewardsActive,j=c.bouncebackActive,x=c.totalRewardValue,w=void 0===x?0:x,k=c.tier,P=void 0===k?"":k,A=O&&!j,S=(0,p.B)(c),L=P&&w>=0;if(!O&&!j||o)return null;var D={borderBottom:"12px solid ".concat(y.b1),borderLeft:"12px solid transparent",borderRight:"12px solid transparent",content:'""',height:0,left:"50%",marginLeft:"-6px",position:"absolute",top:"-12px",width:0},C={animation:"250ms ease-in",background:y.b1,borderCollapse:"collapse",borderRadius:"4px",color:y.wh,display:"table",position:"relative",textAlign:"center",top:"10px",width:"100%",zIndex:500,"&::before":D},R={backgroundColor:y.b1,border:0,color:y.wh,cursor:"pointer",display:"block",lineHeight:"0.675em",padding:"0.5em",position:"absolute",right:0,top:0,zIndex:1};return h&&d&&L&&!j?null:(0,g.jsx)("div",{css:C,"data-testid":"rewards-popover"},(0,g.jsx)("a",{href:"/loyalty/customer-value",onClick:m},(0,g.jsx)("div",{css:{display:"table-cell",padding:"1.45rem 1.25rem",position:"relative",textAlign:"center",verticalAlign:"middle",width:"100%",zIndex:1}},(0,g.jsx)("span",null,S),A&&(0,g.jsx)("div",{css:{fontSize:"1.25rem",fontWeight:800,marginTop:"5px"}},"$",w))),(0,g.jsx)("button",{"aria-label":"close rewards popover",css:R,onClick:m},"Ã"))}),null),se=(0,c.withToggleManager)((function(e){var t=e.open,r=e.toggleOpen,o=(0,n.useState)(!1),i=(0,s.Z)(o,2),a=i[0],c=i[1],u=(0,l.u)().crossBrand.color,d=a||t,p={borderColor:"transparent",borderStyle:"solid",borderWidth:"0 1px",display:"inline-block",height:"40px",position:"relative",textAlign:"left",verticalAlign:"middle",background:d?u.wh:"inherit"};return(0,g.jsx)("div",{className:"my-account",css:p,id:ie,onBlur:function(){return c(!1)},onFocus:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onMouseOver:function(){return c(!0)}},(0,g.jsx)(D,{isAccountDropdownOpen:t,isActive:d,toggleDropdown:r}),!t&&ae,(0,g.jsx)(oe,{isOpen:t}))}),ie),ce=(0,g.jsx)(i.F,{name:"edfslarge"}),le={name:"zjik7",styles:"display:flex"},ue=(0,g.jsx)(se,null),de=(0,g.jsx)(a.V,null),pe=function(){return(0,g.jsx)(o().Fragment,null,ce,(0,g.jsx)("div",{css:le},ue,de))}}}]);