/* Built on 2021-07-02 12:58:38 */
define("lib/i18n",[],function(){return{version:"1.0.0",load:function(t,e,i,n){n.isBuild?i():xv.i18n.getCatalog(t,function(t){i(t)})}}}),define("lib/tools",["static/utils","lib/i18n!front"],function(t,e){var i={pendingPrepare:[]};i.encloseTextWithTag=function(t,e){return"string"!=typeof t||0!==t.length&&"<"===t[0]?t:"<"+e+">"+t+"</"+e+">"},i.parseUrl=function(t,e,i){var n={body:null,query:null,hash:null},o=t.split("#");if(2===o.length){if("hash"===e)return o[1];n.hash=o[1]}if("hash"===e)return null;if(t=o[0],o=t.split("?"),2===o.length&&(n.query=o[1]),n.body=o[0],void 0!==i&&i){var s=n.query;if(n.query={},s)for(var r=s.split("&"),a=0;a<r.length;a++){var l=r[a];if(l.length){var h=l.split("=");n.query[h.shift()]=h.join("=")}}}return void 0!==e&&e&&"undefined"!=typeof n[e]?n[e]:n},i.addUrlParam=function(t,e,n){var o=i.parseUrl(t,!1,!0);e=e.toString(),void 0===n||!1===n?"undefined"!=typeof o.query[e]&&delete o.query[e]:o.query[e]=n.toString();var s="";for(var r in o.query)s+=(""===s?"?":"&")+r+"="+o.query[r];return o.body+s},i.getUrlHash=function(){return window.location.hash.substr(1)},i.setUrlHash=function(t){"#"!==t.substr(0,1)&&(t="#"+t),t!==window.location.hash&&(window.location.hash=t)},i.isEmpty=function(t){var e=typeof t;if("undefined"===e||null===t||0===t||!1===t)return!0;if("string"===e&&0===$.trim(t).length)return!0;if("object"===e){if("number"==typeof t.length)return 0===t.length;if("function"==typeof Object&&"function"==typeof Object.keys)return 0===Object.keys(t).length;var i=0;for(var n in t)t.hasOwnProperty(n)&&i++;return 0===i}return!1},i.pad=function(t,e,i,n){void 0!==n&&"left"===n||(n="right");for(var o=""+t;o.length<e;)"left"===n?o=i+o:o+=i;return o},i.ucfirst=function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()},i.ucwords=function(t){return t.toLowerCase().replace(/(^([a-zA-Z\p{M}]))|([ -][a-zA-Z\p{M}])/g,function(t){return t.toUpperCase()})},i.cleanStr=function(t,e){return t=t.replace(new RegExp("[[\\]{}()*+?.,\\^$|#\\s]"),"\\$&"),e?i.translit(t):t},i.translit=function(t){return t.toLowerCase().replace(/[Ã Ã¡Ã¢Ã£Ã¤Ã¥]/g,"a").replace(/Ã¦/g,"ae").replace(/Ã§/g,"c").replace(/[Ã¨Ã©ÃªÃ«]/g,"e").replace(/[Ã¬Ã­Ã®Ã¯]/g,"i").replace(/Ã±/g,"n").replace(/[Ã²Ã³Ã´ÃµÃ¶]/g,"o").replace(/Å/g,"oe").replace(/[Ã¹ÃºÃ»Ã¼]/g,"u").replace(/[Ã½Ã¿]/g,"y")};var n={};i.preloadPicture=function(t,e){var i=t;if(e&&(i+=e+".jpg"),"undefined"==typeof n[i]){(new Image).src=i,n[i]=!0}},i.stripStartScript=function(t){if(t=$.trim(t),"<script "!==t.substr(0,8))return t;var e=t.indexOf(">");if(-1===e)return t;var i=t.indexOf("<\/script>");return-1===i?t:e!==i-1?t:t.substr(i+9)},i.replaceThumbcast=function(t){for(var e=t.split(/(<script>|<\/script>)/g),i=0;i<e.length;i++)"<script>"===e[i]||"<\/script>"===e[i]?e[i]="":"document.write(xv.thumbs.replaceThumbUrl("===e[i].substr(0,41)?e[i]=window.xv.thumbs.replaceThumbUrl(e[i].substring(42,e[i].lastIndexOf("))")-1)):"xv.thumbs.casting.displayRandomThumb("===e[i].substr(0,37)?e[i]=window.xv.thumbs.casting.displayRandomThumb(e[i].substring(38,e[i].lastIndexOf(")")-1),!0):"document.write(xv.thumbs.replaceActGalThumbUrl("===e[i].substr(0,47)?e[i]=window.xv.thumbs.replaceActGalThumbUrl(e[i].substring(48,e[i].lastIndexOf("))")-1)):"document.write(xv.thumbs.replacePicThumbUrl("===e[i].substr(0,44)?e[i]=window.xv.thumbs.replacePicThumbUrl(e[i].substring(45,e[i].lastIndexOf("))")-1)):"xv.thumbs.prepareVideo("===e[i].substr(0,23)&&(e[i]="");return e.join("")},i.executePendingPrepare=function(t){if(t.each(function(){window.xv.thumbs.prepareVideo(this)}),window.xv.pending_prepare_video_list)for(var e in window.xv.pending_prepare_video_list)"function"==typeof window.xv.pending_prepare_video_list[e]&&window.xv.pending_prepare_video_list[e](t)},i.addPendingPrepareList=function(t){window.xv.pending_prepare_video_list||(window.xv.pending_prepare_video_list=[]),window.xv.pending_prepare_video_list.push(t)},i.scrollTo=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=400),$("html,body").animate({scrollTop:$(t).offset().top-10-e},i)};var o=[];return i.loadRecaptcha=function(e,i){if("object"==typeof grecaptcha)return void e();if(o.push(e),!(o.length>1)){window.onToolsRecaptchaLoaded=function(){for(var t in o)o[t]()};var n="https://www.google.com/recaptcha/api.js?onload=onToolsRecaptchaLoaded&render=explicit";"string"==typeof i&&(n+="&hl="+i),t.loadScript(n)}},i.formatNumberUnits=function(t,i){i=void 0===i||i!=parseInt(i)?1:parseInt(i);var n=!1,o=0;t>=1e9?(n="billions",o=9):t>=1e6?(n="millions",o=6):t>=1e3&&(n="thousands",o=3);var s=Math.round(t/Math.pow(10,o-i));return s/=Math.pow(10,i),s=s.toLocaleString(),n?e.__("units.number_"+n,{"%number%":s}):s},i.formatFileSize=function(t,i){i=void 0===i||i!=parseInt(i)?1:parseInt(i);var n={terabytes:1099511627776,gigabytes:1073741824,megabytes:1048576,kilobytes:1024},o="bytes";for(var s in n)if("number"==typeof n[s]&&t>=n[s]){o=s,t/=n[s];break}return t=Math.round(t*Math.pow(10,i))/Math.pow(10,i),t=t.toLocaleString(),e.__("units.file_size_"+o,{"%size%":t})},i.formatDurationMethods={"short":"short",medium:"medium","long":"long",diff:"ago"},i.formatDuration=function(t,i){if(i||(i=this.formatDurationMethods.medium),t<5&&i==this.formatDurationMethods.diff)return e.__("misc.just_now");if(t>=86400&&t<172800&&i==this.formatDurationMethods.diff)return e.__("misc.yesterday");var n,o={sec:60,min:3600,hour:86400,day:604800,week:2592e3,month:31536e3,year:-1},s=1;for(var r in o){if(t<o[r]||-1==o[r]){t=Math.floor(t/s),n=1==t?e.__("misc.one_"+r+"_"+i):e.__("misc.nb_"+r+"s_"+i,{"%nb%":t.toString()});break}s=o[r]}return n},i}),function(t,e){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?e(exports):"function"==typeof define&&define.amd?define("mustache",["exports"],e):(t.Mustache={},e(t.Mustache))}(this,function(t){function e(t){return"function"==typeof t}function i(t){return g(t)?"array":typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}function s(t,e){return _.call(t,e)}function r(t){return!s(m,t)}function a(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return v[t]})}function l(e,i){function o(t){if("string"==typeof t&&(t=t.split(w,2)),!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);s=new RegExp(n(t[0])+"\\s*"),a=new RegExp("\\s*"+n(t[1])),l=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var s,a,l,p=[],d=[],f=[],_=!1,m=!1;o(i||t.tags);for(var v,T,E,C,S,R,O=new u(e);!O.eos();){if(v=O.pos,E=O.scanUntil(s))for(var P=0,$=E.length;P<$;++P)C=E.charAt(P),r(C)?f.push(d.length):m=!0,d.push(["text",C,v,v+1]),v+=1,"\n"===C&&function(){if(_&&!m)for(;f.length;)delete d[f.pop()];else f=[];_=!1,m=!1}();if(!O.scan(s))break;if(_=!0,T=O.scan(k)||"name",O.scan(b),"="===T?(E=O.scanUntil(y),O.scan(y),O.scanUntil(a)):"{"===T?(E=O.scanUntil(l),O.scan(x),O.scanUntil(a),T="&"):E=O.scanUntil(a),!O.scan(a))throw new Error("Unclosed tag at "+O.pos);if(S=[T,E,v,O.pos],d.push(S),"#"===T||"^"===T)p.push(S);else if("/"===T){if(!(R=p.pop()))throw new Error('Unopened section "'+E+'" at '+v);if(R[1]!==E)throw new Error('Unclosed section "'+R[1]+'" at '+v)}else"name"===T||"{"===T||"&"===T?m=!0:"="===T&&o(E)}if(R=p.pop())throw new Error('Unclosed section "'+R[1]+'" at '+O.pos);return c(h(d))}function h(t){for(var e,i,n=[],o=0,s=t.length;o<s;++o)(e=t[o])&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function c(t){for(var e,i,n=[],o=n,s=[],r=0,a=t.length;r<a;++r)switch(e=t[r],e[0]){case"#":case"^":o.push(e),s.push(e),o=e[4]=[];break;case"/":i=s.pop(),i[5]=e[2],o=s.length>0?s[s.length-1][4]:n;break;default:o.push(e)}return n}function u(t){this.string=t,this.tail=t,this.pos=0}function p(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function d(){this.cache={}}var f=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===f.call(t)},_=RegExp.prototype.test,m=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},b=/\s*/,w=/\s+/,y=/\s*=/,x=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},u.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},p.prototype.push=function(t){return new p(t,this)},p.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var s,r,a=this,l=!1;a;){if(t.indexOf(".")>0)for(i=a.view,s=t.split("."),r=0;null!=i&&r<s.length;)r===s.length-1&&(l=o(i,s[r])),i=i[s[r++]];else i=a.view[t],l=o(a.view,t);if(l)break;a=a.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=l(t,e)),n},d.prototype.render=function(t,e,i){var n=this.parse(t),o=e instanceof p?e:new p(e);return this.renderTokens(n,o,i,t)},d.prototype.renderTokens=function(t,e,i,n){for(var o,s,r,a="",l=0,h=t.length;l<h;++l)r=undefined,o=t[l],s=o[0],"#"===s?r=this.renderSection(o,e,i,n):"^"===s?r=this.renderInverted(o,e,i,n):">"===s?r=this.renderPartial(o,e,i,n):"&"===s?r=this.unescapedValue(o,e):"name"===s?r=this.escapedValue(o,e):"text"===s&&(r=this.rawValue(o)),r!==undefined&&(a+=r);return a},d.prototype.renderSection=function(t,i,n,o){function s(t){return r.render(t,i,n)}var r=this,a="",l=i.lookup(t[1]);if(l){if(g(l))for(var h=0,c=l.length;h<c;++h)a+=this.renderTokens(t[4],i.push(l[h]),n,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(t[4],i.push(l),n,o);else if(e(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,o.slice(t[3],t[5]),s),null!=l&&(a+=l)}else a+=this.renderTokens(t[4],i,n,o);return a}},d.prototype.renderInverted=function(t,e,i,n){var o=e.lookup(t[1]);if(!o||g(o)&&0===o.length)return this.renderTokens(t[4],e,i,n)},d.prototype.renderPartial=function(t,i,n){if(n){var o=e(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o),i,n,o):void 0}},d.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);if(null!=i)return i},d.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);if(null!=n)return t.escape(n)},d.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.2",t.tags=["{{","}}"];var T=new d;return t.clearCache=function(){return T.clearCache()},t.parse=function(t,e){return T.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return T.render(t,e,n)},t.to_html=function(i,n,o,s){var r=t.render(i,n,o);if(!e(s))return r;s(r)},t.escape=a,t.Scanner=u,t.Context=p,t.Writer=d,t}),define("text",["module"],function(t){"use strict";function e(t,e){return t===undefined||""===t?e:t}function i(t,i,n,o){if(i===o)return!0;if(t===n){if("http"===t)return e(i,"80")===e(o,"80");if("https"===t)return e(i,"443")===e(o,"443")}return!1}var n,o,s,r,a,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,p=u&&location.protocol&&location.protocol.replace(/\:/,""),d=u&&location.hostname,f=u&&(location.port||undefined),g={},_=t.config&&t.config()||{};return n={version:"2.0.16",strip:function(t){if(t){t=t.replace(h,"");var e=t.match(c);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:_.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;e<3;e+=1){i=l[e];try{t=new ActiveXObject(i)}catch(n){}if(t){l=[i];break}}return t},parseName:function(t){var e,i,n,o=!1,s=t.lastIndexOf("."),r=0===t.indexOf("./")||0===t.indexOf("../");return-1!==s&&(!r||s>1)?(e=t.substring(0,s),i=t.substring(s+1)):e=t,n=i||e,s=n.indexOf("!"),-1!==s&&(o="strip"===n.substring(s+1),n=n.substring(0,s),i?i=n:e=n),{moduleName:e,ext:i,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,e,o,s){var r,a,l,h=n.xdRegExp.exec(t);return!h||(r=h[2],a=h[3],a=a.split(":"),l=a[1],a=a[0],(!r||r===e)&&(!a||a.toLowerCase()===o.toLowerCase())&&(!l&&!a||i(r,l,e,s)))},finishLoad:function(t,e,i,o){i=e?n.strip(i):i,_.isBuild&&(g[t]=i),o(i)},load:function(t,e,i,o){if(o&&o.isBuild&&!o.inlineText)return void i();_.isBuild=o&&o.isBuild;var s=n.parseName(t),r=s.moduleName+(s.ext?"."+s.ext:""),a=e.toUrl(r),l=_.useXhr||n.useXhr;if(0===a.indexOf("empty:"))return void i();!u||l(a,p,d,f)?n.get(a,function(e){n.finishLoad(t,s.strip,e,i)},function(t){i.error&&i.error(t)}):e([r],function(t){n.finishLoad(s.moduleName+"."+s.ext,s.strip,t,i)},function(t){i.error&&i.error(t)})},write:function(t,e,i,o){if(g.hasOwnProperty(e)){var s=n.jsEscape(g[e]);i.asModule(t+"!"+e,"define(function () { return '"+s+"';});\n")}},writeFile:function(t,e,i,o,s){var r=n.parseName(e),a=r.ext?"."+r.ext:"",l=r.moduleName+a,h=i.toUrl(r.moduleName+a)+".js";n.load(l,i,function(e){var i=function(t){return o(h,t)};i.asModule=function(t,e){return o.asModule(t,h,e)},n.write(t,l,i,s)},s)}},"node"===_.env||!_.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(o=require.nodeRequire("fs"),n.get=function(t,e,i){try{var n=o.readFileSync(t,"utf8");"\ufeff"===n[0]&&(n=n.substring(1)),e(n)}catch(s){i&&i(s)}}):"xhr"===_.env||!_.env&&n.createXhr()?n.get=function(t,e,i,o){var s,r=n.createXhr();if(r.open("GET",t,!0),o)for(s in o)o.hasOwnProperty(s)&&r.setRequestHeader(s.toLowerCase(),o[s]);_.onXhr&&_.onXhr(r,t),r.onreadystatechange=function(n){var o,s;4===r.readyState&&(o=r.status||0,o>399&&o<600?(s=new Error(t+" HTTP status: "+o),s.xhr=r,i&&i(s)):e(r.responseText),_.onXhrComplete&&_.onXhrComplete(r,t))},r.send(null)}:"rhino"===_.env||!_.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?n.get=function(t,e){var i,n,o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),"utf-8")),a="";try{for(i=new java.lang.StringBuffer,n=r.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=r.readLine());)i.append(s),i.append(n);a=String(i.toString())}finally{r.close()}e(a)}:("xpconnect"===_.env||!_.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in s,n.get=function(t,e){var i,n,o,l={};a&&(t=t.replace(/\//g,"\\")),o=new FileUtils.File(t);try{i=s["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),i.init(o,1,0,!1),n=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),n.init(i,"utf-8",i.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),n.readString(i.available(),l),n.close(),i.close(),e(l.value)}catch(h){throw new Error((o&&o.path||"")+": "+h)}}),n}),define("text!lib/helpers/loader/before.mustache",[],function(){return'<span class="x-loader-inline before{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{{ loader }}}{{#text}}{{#safe}}{{{ text }}}{{/safe}}{{^safe}}{{ text }}{{/safe}} {{/text}}</span>'}),define("text!lib/helpers/loader/after.mustache",[],function(){return'<span class="x-loader-inline after{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{#text}}{{#safe}}{{{ text }}}{{/safe}}{{^safe}}{{ text }}{{/safe}} {{/text}}{{{ loader }}}</span>'}),define("lib/helpers/inline_loader",["lib/tools","mustache","text!./loader/before.mustache","text!./loader/after.mustache"],function(t,e,i,n){var o="",s=-1,r=function(t){return"before"===t||"button_before"===t?i:n},a=function(t){return void 0!==t?t:"_x_loader_"+ ++s},l=function(t,i,n,o){"string"!=typeof t&&(t="after"),this.html=e.render(r(t),{id:a(n),text:i,is_button:0===t.indexOf("button_"),loader:l.getImg(),safe:!!o}),this.node=!1};return l.setup=function(e){t.preloadPicture(e),o='<img class="x-loader-inline-img" src="'+e+'" />'},l.get=function(t,e,i){return new l(t,e,i)},l.getSafe=function(t,e,i){return new l(t,e,i,!0)},l.getImg=function(){return 0===o.length&&console.error("Loader image not setup"),o},l.getIcf=function(){return"<span class='icon-f icf-spinner icf-anim-pulse'></span>"},l.prototype={getHtml:function(){return this.html},getNode:function(){return this.node||(this.node=$(this.html)),this.node},appendTo:function(t){return this.getNode().appendTo(t),this},prependTo:function(t){return this.getNode().prependTo(t),this},insertAfter:function(t){return this.getNode().insertAfter(t),this},insertBefore:function(t){return this.getNode().insertBefore(t),this},detach:function(){return this.getNode().detach(),this},remove:function(){this.node&&this.node.remove()}},l}),define("text!lib/helpers/popup/template.mustache",[],function(){return'<div class="x-popup {{ position }} {{ cls }}">\n\t<div class="x-popup-arrow"></div>\n\t<div class="x-popup-content"></div>\n\t{{{ closebtn }}}\n</div>\n'}),define("text!lib/helpers/popup/template_close.mustache",[],function(){return'<div class="x-popup-close">{{{ closebtn_content }}}</div>'}),define("lib/helpers/popup",["mustache","text!./popup/template.mustache","text!./popup/template_close.mustache"],function(t,e,i){var n=[],o={relative_to:null,relative_to_default:!1,position:{v:"below",h:"right"},offset:{below:0,above:0,left:0,right:0},max_height:0,max_width:0,trigger:"click",trigger_open:!1,trigger_close:!1,trigger_close_openevents:["all"],autoclose:!0,closebtn:!1,closebtn_content:'<span class="icon-f icf-close-thin"><span>x</span></span>',template:e,template_close:i,popup_class:null,pos_on_scroll:!1,close_on_resize:!0,autoclose_on_same_level:!1,mouseout_autoclose_openevents:["mouseover_btn_timer"],popup_opened_btn_class:"popup-opened-btn",popup_opened_class:"popup-opened"},s=function(t,e,i){if(this.options=$.extend({},o,i||{}),this.setPosition(this.options.position,!0),this.bRelativeToPosSet=!1,this.button=$(),this.content=e,this.opened=!1,this.autoclose_timer=!1,null===this.options.relative_to&&this.setDefaultRelativeTo(),this.setButton(t),this.options.autoclose_on_same_level&&("string"==typeof this.levels[this.options.autoclose_on_same_level]?(this.autoclose_level=this.levels[this.options.autoclose_on_same_level],this.uniqid=(new Date).getTime()+Math.floor(1e4*Math.random()+1).toString(16)):this.options.autoclose_on_same_level=!1),this.options.close_on_resize){this.options.iResizeLastWidth=$(window).outerWidth();var s=this;$(window).on("resize",function(){var t=$(window).outerWidth();if(s.options.iResizeLastWidth===t)return!1;s.options.iResizeLastWidth=t,s.close()})}n.push(this)};s.prototype={onOpen:null,onClose:null,levels:{header_menu:"HEADER_MENU",profile_submit:"PROFILE_SUBMIT",profile_related_submit:"PROFILE_SUBLVL_SUBMIT",profile_listing_dropdowns:"PROF_LIST_DROPDOWN",simple_dropdown_niv2:"SIMPLE_DROPDOWN",thumb_block_menu:"TB_MENU"},setButton:function(t){return this.button.is(t)?this:(this.button&&this.button.length>0&&this.button.removeClass(this.options.popup_opened_btn_class),this.button=t,this.button&&this.button.length>0&&this.button.toggleClass(this.options.popup_opened_btn_class,this.opened),!0===this.options.relative_to_default&&this.setDefaultRelativeTo(),this.initButton(),this)},initButton:function(){var t=this;this.options.trigger&&this.button.off(this.options.trigger,this.callbackButtonTrigger).on(this.options.trigger,t,this.callbackButtonTrigger),this.options.trigger_open&&this.button.off(this.options.trigger_open,this.callbackButtonTriggerOpen).on(this.options.trigger_open,t,this.callbackButtonTriggerOpen),this.options.trigger_close&&this.button.off(this.options.trigger_close,this.callbackButtonTriggerClose).on(this.options.trigger_close,t,this.callbackButtonTriggerClose),this.mouseover_open_timeout=!1,this.button.off("mouseover",this.callbackButtonMouseOver).on("mouseover",t,this.callbackButtonMouseOver),this.mouseout_close_timeout=!1,xv.conf&&xv.conf.dyn&&xv.conf.dyn.is_desktop?this.button.off("mouseout",this.callbackButtonMouseOut).on("mouseout",t,this.callbackButtonMouseOut):(t.button_hovered=!1,t.add_mouseout_close_func()),this.position()},setDefaultRelativeTo:function(){this.options.relative_to_default=!0,this.options.relative_to=null;var t=this;this.button.parents().each(function(){if("fixed"===$(this).css("position"))return t.options.relative_to=$(this),!1}),null===this.options.relative_to&&(this.options.relative_to=$(document.body))},setContent:function(t){return this.popup.find(".x-popup-content").empty().append($(t)),this.position(),this},setPosition:function(t,e){return"object"==typeof t?!t.v||!t.h||"below"!==t.v&&"above"!==t.v||"right"!==t.h&&"left"!==t.h?(e&&(this.options.position=o.position),!1):(this.options.position=t,!0):(t=t.split(" "),2!==t.length||"below"!==t[0]&&"above"!==t[0]||"right"!==t[1]&&"left"!==t[1]?(e&&(this.options.position=o.position),!1):(this.options.position={v:t[0],h:t[1]},!0))},position:function(){if(!this.popup)return!1;var t=this.options.relative_to.offset(),e=this.button.offset(),i=this.options.relative_to.is($(document.body))||this.options.relative_to.is($(window))?0:this.options.relative_to.scrollTop(),n=e.top-t.top+i,o=e.left-t.left,s=!1,r=!1,a=this.popup.children(".x-popup-arrow");switch(this.options.position.v){case"below":n+=this.button.outerHeight(),a.length>0&&(n+=parseInt(a.css("border-bottom-width").replace("px",""))),"number"==typeof this.options.offset.below&&(n+=this.options.offset.below);break;case"above":s=this.options.relative_to.innerHeight()-n,a.length>0&&(s+=parseInt(a.css("border-bottom-width").replace("px",""))),"number"==typeof this.options.offset.above&&(s+=this.options.offset.above)}switch(this.options.position.h){case"right":r=this.options.relative_to.innerWidth()-o-this.button.outerWidth(),"number"==typeof this.options.offset.right&&(r+=this.options.offset.right);break;case"left":"number"==typeof this.options.offset.left&&(o+=this.options.offset.left)}"function"==typeof this.options.max_width&&this.popup.find(".x-popup-content").css("max-width",this.options.max_width()+"px"),this.popup.css("max-width","none"),!1!==r?(this.popup.css("right",r+"px"),a.css("right","")):(this.popup.css("left",o+"px"),a.css("left","")),!1!==s?this.popup.css("bottom",s+"px"):this.popup.css("top",n+"px");var l=this.popup.position();if(!1!==r){if(l.left>=2)return!0;var h=this.popup.outerWidth(),c=$("body").outerWidth(!0)-4;if(h>c&&(h=c,this.popup.css("max-width",h+"px")),l=this.popup.position(),l.left>=2)return!0;var u=parseInt(a.css("right").replace("px",""));return this.popup.css("right",r+l.left-2+"px"),a.css("right",u-l.left+2+"px"),!0}var h=this.popup.outerWidth(),c=$("body").outerWidth(!0)-2;if(l.left+h<=c)return!0;h>c-2&&(h=c-2,this.popup.css("max-width",h+"px"));var u=parseInt(a.css("left").replace("px","")),p=l.left+h-c;return this.popup.css("left",o-p+"px"),a.css("left",u+p+"px"),!0},_getCloseBtn:function(){return this.options.closebtn?t.render(this.options.template_close,{closebtn_content:this.options.closebtn_content}):""},_getPopup:function(){var e=this;if(this.popup){var i=this.popup.children(".x-popup-close"),n=i.length>0;return n&&!this.options.closebtn?i.off("click").remove():!n&&this.options.closebtn&&this.popup.append($(this._getCloseBtn()).on("click",function(t){e.close(t)})),this.popup}this.opened=!0,this.popup=$(t.render(this.options.template,{position:this.options.position.v+" "+this.options.position.h,cls:this.options.popup_class+("string"==typeof this.options.popup_opened_class?" "+this.options.popup_opened_class:""),closebtn:this._getCloseBtn()}));var o;o="function"==typeof this.content?$(this.content()):$(this.content);var s=this.popup.find(".x-popup-content").append(o);return this.options.max_height>0&&s.css("max-height",this.options.max_height+"px"),this.options.max_width>0&&s.css("max-width",this.options.max_width+"px"),this.options.relative_to.append(this.popup),this.position(),this.popup.on("click",function(t){t.stopPropagation()}),this.popup.on("mouseover",function(){e.popup_hovered=!0,this.mouseout_close_timeout&&(clearTimeout(this.mouseout_close_timeout),this.mouseout_close_timeout=!1)}),this.popup.on("mouseout",function(){e.popup_hovered=!1,e.add_mouseout_close_func()}),this.options.autoclose&&"number"!=typeof this.options.autoclose?"function"!=typeof this.close_on_body_click&&(this.close_on_body_click=function(t){e.opened&&0===$(t.target).closest(e.button).length&&e.close()},$("body").on("click",this.close_on_body_click)):"function"==typeof this.close_on_body_click&&($("body").off("click",this.close_on_body_click),this.close_on_body_click=!1),this.options.closebtn&&this.popup.children(".x-popup-close").on("click",function(t){e.close(t)}),this.onOpen&&this.onOpen(),this.popup},add_mouseover_open_func:function(){if(this.mouseout_close_timeout&&(clearTimeout(this.mouseout_close_timeout),this.mouseout_close_timeout=!1),!this.mouseover_open_timeout&&this.options.mouseover_open){var t=this;this.mouseover_open_timeout=setTimeout(function(){t.mouseover_open_timeout=!1,t.isOpened()||(t.opened_with="mouseover_btn_timer",t.open())},this.options.mouseover_open)}},add_mouseout_close_func:function(){this.mouseover_open_timeout&&(clearTimeout(this.mouseover_open_timeout),this.mouseover_open_timeout=!1),this.mouseout_close_timeout&&(clearTimeout(this.mouseout_close_timeout),this.mouseout_close_timeout=!1);var t="number"==typeof this.options.autoclose?this.options.autoclose:!!this.options.mouseout_autoclose&&this.options.mouseout_autoclose;if(t){var e=this;this.mouseout_close_timeout=setTimeout(function(){e.mouseout_close_timeout=!1,e.popup_hovered||e.button_hovered||"number"!=typeof e.options.autoclose&&-1===e.options.mouseout_autoclose_openevents.indexOf(e.opened_with)||e.close()},t)}},open:function(t){t?"string"==typeof t?this.opened_with=t:(t.preventDefault(),t.stopPropagation(),this.opened_with=t.type):this.opened_with="no_event",this.close_same_level_popups();var e=this.options.relative_to.css("position");"relative"!==e&&"absolute"!==e&&"fixed"!==e&&(this.options.relative_to.css("position","relative"),this.bRelativeToPosSet=!0),this._getPopup(),!1!==this.autoclose_timer&&(clearTimeout(this.autoclose_timer),this.autoclose_timer=!1);var i=this;if(this.options.autoclose&&("number"!=typeof this.options.autoclose?"function"!=typeof this.close_on_body_click&&(this.close_on_body_click=function(t){i.opened&&0===$(t.target).closest(i.button).length&&i.close()},$("body").on("click",this.close_on_body_click)):("function"==typeof this.close_on_body_click&&($("body").off("click",this.close_on_body_click),this.close_on_body_click=!1),this.autoclose_timer=setTimeout(function(){i.button_hovered||i.popup_hovered||(i.close(),i.autoclose_timer=!1)},this.options.autoclose))),this.close_same_level_popups(),this.button&&this.button.length>0&&(this.button.addClass(this.options.popup_opened_btn_class),setTimeout(function(){i.opened&&i.button.addClass(i.options.popup_opened_btn_class)},10)),this.opened)return void this.position();this.opened=!0,this.popup.stop().addClass(this.options.popup_opened_class).fadeIn(),this.position(),this.onOpen&&this.onOpen()},close:function(t,e){t&&"object"==typeof t&&(t.preventDefault(),t.stopPropagation(),this.opened_with=t.type);var i=!!this.bRelativeToPosSet;if(this.bRelativeToPosSet&&(this.options.relative_to.css("position",""),this.bRelativeToPosSet=!1),this.opened){if(this.opened=!1,this.opened_with=!1,this.popup.stop(),e)if(i)this.popup.remove();else{var n=this;this.popup.fadeOut(function(){n.popup.remove()})}else i?this.popup.hide():this.popup.removeClass(this.options.popup_opened_class).fadeOut();this.button&&this.button.length>0&&this.button.removeClass(this.options.popup_opened_btn_class),this.onClose&&this.onClose()}},delete_pop:function(){this.close(null,!0)},close_same_level_popups:function(){if(!this.autoclose_level)return!1;for(var t in n)n[t].autoclose_level===this.autoclose_level&&n[t].uniqid!==this.uniqid&&n[t].close()},toggle:function(t){if(this.opened)return void this.close(t);this.open(t)},isOpened:function(){return this.opened},callbackButtonTrigger:function(t){t.data.toggle(t)},callbackButtonTriggerOpen:function(t){t.data.open(t)},callbackButtonTriggerClose:function(t){-1!==t.data.options.trigger_close_openevents.indexOf(t.data.opened_with)&&t.data.close(t)},callbackButtonMouseOver:function(t){t.data.button_hovered=!0,t.data.add_mouseover_open_func()},callbackButtonMouseOut:function(t){t.data.button_hovered=!1,t.data.add_mouseout_close_func()}},$(window).resize(function(){for(var t in n)n[t].isOpened()&&n[t].position()});var r,a=function(){for(var t in n)n[t].isOpened()&&n[t].options.pos_on_scroll&&n[t].position()};return $(window).scroll(function(){r&&window.clearTimeout(r),r=window.setTimeout(a,500)}),s}),define("text!lib/helpers/popup/language_switcher.mustache",[],function(){return'<ul>\n\t{{#languages}}\n\t<li><a href="{{{ url }}}"><span class="flag-small flag-{{{ country }}}"></span> {{ name }}</a></li>\n\t{{/languages}}\n</ul>'}),define("lib/helpers/popup/language_switcher",["mustache","../popup","text!lib/helpers/popup/language_switcher.mustache"],function(t,e,i){return function(n,o,s,r){var a=function(){var e=[];for(var n in s)e.push({url:o+n,country:s[n].country.toLowerCase(),name:s[n].translated});return t.render(i,{languages:e})};return"object"!=typeof r&&(r={}),"undefined"==typeof r.trigger&&(r.trigger="click mouseclick"),"undefined"==typeof r.popup_class&&(r.popup_class="language-switcher-popup"),"undefined"==typeof r.autoclose&&(r.autoclose=3e3),new e(n,a,r)}}),define("lib/helpers/bookmark",[],function(){return function(t,e,i){t=$(t),t.data("bookmark-title")&&(i=t.data("bookmark-title")),t.on("click",function(n){if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(e,i,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(e,i);else{if(window.opera&&window.print||window.sidebar&&!(window.sidebar instanceof Node))return t.attr("rel","sidebar").attr("title",i),!0;alert("Press "+(-1!==navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL")+" + D to bookmark this page.")}return n.preventDefault(),!1})}}),require.config({waitSeconds:90,paths:{jquery:"jquery",text:"text"},shim:{json3:{exports:"JSON"}},config:{text:{useXhr:function(t,e,i,n){if("/"===t.substr(0,1))return!0;if(t.match(/^https?:\/\/static[\w-]*\.others-cdn\.com\/.*$/))return!0;var o=e+"://"+i;return t.substr(0,o.length)===o||-1!==i.split(".").pop().indexOf("local")}}}}),define("static/console",window.xv.console),define("static/utils",window.xv.utils),define("static/tracker",[],function(){return window.xv.tracker}),define("static/dom",window.xv.dom),define("static/cookies",window.xv.cookies),define("static/thumbs",window.xv.thumbs),document.addEventListener||require(["respond"]),require(["config/main","lib/helpers/inline_loader","lib/helpers/popup/language_switcher","lib/helpers/bookmark","static/console"],function(t,e,i,n,o){o.log(window.location.href,"Load page"),e.setup(t.domains["static"]+"/v3/img/skins/default/xv-inline-loader.gif"),t.data.action&&require(["skins/"+t.sitename+"/"+t.data.action]);var s=$("#language-switcher");s.length>0&&i(s,"/change-language/",t.data.other_locales),
document.getElementById("social-links")&&require(["static/utils"],function(t){t.loadScript("https://apis.google.com/js/plusone.js",{async:"async"}),window.addthis_config=window.addthis_config||{},window.addthis_config.pubid="addxvideos",t.loadScript("//s7.addthis.com/js/250/addthis_widget.js#async=1",{async:"async"},{load:function(){window.addthis.init()}})}),n(".bookmark-link",t.domains.slave,window.location.hostname)}),define("skins/pornorama",function(){}),define("lib/converter",[],function(){var t={},e={in2cm:2.54,lbs2kg:.45359237},i={"in":"cm",cm:"in",lbs:"kg",kg:"lbs"};return t.map=function(t){return i[t]},t.convert=function(t,n,o,s){void 0!==o&&o||(o=i[n]);var r,a=n+"2"+o;if("undefined"==typeof e[a]){if(a=o+"2"+n,"undefined"==typeof e[a])return!1;r=1/e[a]}else r=e[a];var l=t*r;if(void 0!==s){if(0===s)return Math.round(l);var h=Math.pow(10,s);l=Math.round(l*h)/h}return l},t.trimPx=function(t){return Math.round(parseFloat(t.replace(/[^\d\.-]/g,"")))},t}),function(t){"function"==typeof define&&define.amd?define("jquery-scrollLock",["jquery"],t):t(jQuery)}(function(t){"use strict";var e,i={space:32,pageup:33,pagedown:34,end:35,home:36,up:38,down:40},n=function(e,i){var n,o,s,r=i.scrollTop(),a=i.prop("scrollHeight"),l=i.prop("clientHeight"),h=e.originalEvent.wheelDelta||-1*e.originalEvent.detail||-1*e.originalEvent.deltaY,c=0;return"wheel"===e.type?(n=i.height()/t(window).height(),c=e.originalEvent.deltaY*n):this.options.touch&&"touchmove"===e.type&&(h=e.originalEvent.changedTouches[0].clientY-this.startClientY),s=(o=h>0&&r+c<=0)||h<0&&r+c>=a-l,{prevent:s,top:o,scrollTop:r,deltaY:c}},o=function(t,e){var n,o,s=e.scrollTop(),r={top:!1,bottom:!1};return r.top=0===s&&(t.keyCode===i.pageup||t.keyCode===i.home||t.keyCode===i.up),r.top||(n=e.prop("scrollHeight"),o=e.prop("clientHeight"),r.bottom=n===s+o&&(t.keyCode===i.space||t.keyCode===i.pagedown||t.keyCode===i.end||t.keyCode===i.down)),r},s=function(e,i){this.$element=e,this.options=t.extend({},s.DEFAULTS,this.$element.data(),i),this.enabled=!0,this.startClientY=0,this.options.unblock&&this.$element.on(s.CORE.wheelEventName+s.NAMESPACE,this.options.unblock,t.proxy(s.CORE.unblockHandler,this)),this.$element.on(s.CORE.wheelEventName+s.NAMESPACE,this.options.selector,t.proxy(s.CORE.handler,this)),this.options.touch&&(this.$element.on("touchstart"+s.NAMESPACE,this.options.selector,t.proxy(s.CORE.touchHandler,this)),this.$element.on("touchmove"+s.NAMESPACE,this.options.selector,t.proxy(s.CORE.handler,this)),this.options.unblock&&this.$element.on("touchmove"+s.NAMESPACE,this.options.unblock,t.proxy(s.CORE.unblockHandler,this))),this.options.keyboard&&(this.$element.attr("tabindex",this.options.keyboard.tabindex||0),this.$element.on("keydown"+s.NAMESPACE,this.options.selector,t.proxy(s.CORE.keyboardHandler,this)),this.options.unblock&&this.$element.on("keydown"+s.NAMESPACE,this.options.unblock,t.proxy(s.CORE.unblockHandler,this)))};s.NAME="ScrollLock",s.VERSION="3.1.2",s.NAMESPACE=".scrollLock",s.ANIMATION_NAMESPACE=s.NAMESPACE+".effect",s.DEFAULTS={strict:!1,strictFn:function(t){return t.prop("scrollHeight")>t.prop("clientHeight")},selector:!1,animation:!1,touch:"ontouchstart"in window,keyboard:!1,unblock:!1},s.CORE={wheelEventName:"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",animationEventName:["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","oanimationend","animationend"].join(s.ANIMATION_NAMESPACE+" ")+s.ANIMATION_NAMESPACE,unblockHandler:function(t){t.__currentTarget=t.currentTarget},handler:function(e){var i,o,r;this.enabled&&!e.ctrlKey&&(i=t(e.currentTarget),(!0!==this.options.strict||this.options.strictFn(i))&&(e.stopPropagation(),o=t.proxy(n,this)(e,i),e.__currentTarget&&(o.prevent&=t.proxy(n,this)(e,t(e.__currentTarget)).prevent),o.prevent&&(e.preventDefault(),o.deltaY&&i.scrollTop(o.scrollTop+o.deltaY),r=o.top?"top":"bottom",this.options.animation&&setTimeout(s.CORE.animationHandler.bind(this,i,r),0),i.trigger(t.Event(r+s.NAMESPACE)))))},touchHandler:function(t){this.startClientY=t.originalEvent.touches[0].clientY},animationHandler:function(t,e){var i=this.options.animation[e],n=this.options.animation.top+" "+this.options.animation.bottom;t.off(s.ANIMATION_NAMESPACE).removeClass(n).addClass(i).one(s.CORE.animationEventName,function(){t.removeClass(i)})},keyboardHandler:function(e){var i,n=t(e.currentTarget),r=(n.scrollTop(),o(e,n));return e.__currentTarget&&(i=o(e,t(e.__currentTarget)),r.top&=i.top,r.bottom&=i.bottom),r.top?(n.trigger(t.Event("top"+s.NAMESPACE)),this.options.animation&&setTimeout(s.CORE.animationHandler.bind(this,n,"top"),0),!1):r.bottom?(n.trigger(t.Event("bottom"+s.NAMESPACE)),this.options.animation&&setTimeout(s.CORE.animationHandler.bind(this,n,"bottom"),0),!1):void 0}},s.prototype.toggleStrict=function(){this.options.strict=!this.options.strict},s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s.prototype.destroy=function(){this.disable(),this.$element.off(s.NAMESPACE),this.$element=null,this.options=null},e=t.fn.scrollLock,t.fn.scrollLock=function(e){return this.each(function(){var i=t(this),n="object"==typeof e&&e,o=i.data(s.NAME);(o||"destroy"!==e)&&(o||i.data(s.NAME,o=new s(i,n)),"string"==typeof e&&o[e]())})},t.fn.scrollLock.defaults=s.DEFAULTS,t.fn.scrollLock.noConflict=function(){return t.fn.scrollLock=e,this}}),define("skins/common/search/autocomplete",["config/main","mustache","lib/tools","lib/converter","lib/i18n!front","jquery-scrollLock"],function(t,e,i,n,o){var s=["KEYWORDS","PORNSTAR","CHANNEL"],r=function(t,e,i,n,o){this.relative=i,this.input=e.prop("autocomplete","off"),this.is_premium_search_input=!!this.input.parents("form").find('input[name="premium"]').prop("value"),this.tpl=n,this.opened=!1,this.autocomplete=$("<div>").addClass("search-autocomplete").appendTo(t.css("position","relative")).hide().scrollLock({unblock:"ul"}),this.source_url=o,this.has_results=!1,this.results={},this.resultsEnhanced={},this.time_btw_searchs=200,this.timer,this.last_time=0,this.cur_search=!1,this.last_search=!1,this.cur_keywords=!1,this.searches=[],this.max_searchs=3,this.iEnhanceSuggestionsFrom=3,this.iMaxWithEnhancedSuggestions=10,this.has_scroll_height="undefined"!=typeof $("body")[0].scrollHeight,this.min_height=106,this.max_height=0,this.selected=!1,this.res_selected=-1,this.is_keyboard_nav=!1;var s=this;this.input.on("keydown",function(t){s.on_tab_input(t)}).on("keyup paste",function(t){s.on_char_input(t)}).on("blur",function(){setTimeout(function(){s.close()},300)}).on("focus",function(){s.search()}),$(window).on("resize",function(){s.resize()})};return r.prototype={open:function(){this.opened||(this.autocomplete.show(),this.resize(),this.opened=!0)},close:function(){this.opened&&(this.autocomplete.hide(),this.opened=!1)},resize:function(){var t=n.trimPx(this.input.css("border-left-width")),e=n.trimPx(this.input.css("padding-left")),i=n.trimPx(this.input.css("padding-left")),o=this.relative.offset(),s=this.input.offset(),r=this.input.outerHeight(),a=s.top-o.top+r+1,l=s.left-o.left,h=this.relative.outerWidth()-l,c=this.input.width()+i+e+2*t;this.lpadding={left:e+t+"px",right:i+t+"px"},this.autocomplete.css({top:a+"px",left:l+"px"}),h<=c?this.autocomplete.css("width",h+"px"):this.autocomplete.css({minWidth:Math.min(h,Math.max(c,Math.min(h,300)))+"px",maxWidth:h+"px"}),this.max_height=$(window).height()-(s.top+o.top+r+1),this.max_height<this.min_height&&(this.max_height=this.min_height),this.resizeResults()},resizeResults:function(){if(this.has_scroll_height&&this.has_results){if(this.max_height<768)return this.autocomplete.children(".title").hide(),this.autocomplete.children("ul").css("maxHeight","none"),void this.autocomplete.css({maxHeight:this.max_height-4+"px",overflowY:"auto"});this.autocomplete.css({maxHeight:"none",overflowY:"hidden"});var t=0,e=0,i=[];this.autocomplete.children().each(function(){var n=$(this);if(n.hasClass("title"))return n.show(),void(t+=n.outerHeight(!0));var o={e:n,h:n[0].scrollHeight};e+=o.h,i.push(o)});var n=Math.max(this.max_height-t-4,140*i.length);do{var o=i.length,s=0;for(var r in i){var a=n/o;a>=i[r].h&&(i[r].e.css("maxHeight","none"),s+=i[r].h,i.splice(r,1))}n-=s,e-=s}while(i.length<o);for(var r in i){var a=n/i.length;i[r].e.css("maxHeight",a+"px")}}},getSearch:function(){return $.trim(this.input.val()).replace(/[\s\/]+/," ")},search:function(e){if(void 0===e?(!1===this.last_search&&(this.last_search=this.getSearch()),e=this.last_search):this.last_search=e,this.cur_keywords===e)return void(this.has_results&&this.open());if(this.cur_search!==e){if("undefined"!=typeof this.results[e])return void this.display(e);if(0===e.length)return this.results[""]={KEYWORDS:[],PORNSTAR:[],CHANNEL:[]},void this.display("");if(!this.timer){var i=this,n=(new Date).getTime(),o=n-this.last_time;if(o<this.time_btw_searchs)return void(this.timer=window.setTimeout(function(){i.timer=null,i.search()},this.time_btw_searchs-o));this.searches.length===this.max_searchs&&this.searches.shift().abort(),this.last_time=n,this.searches.push($.getJSON(this.source_url+"/"+encodeURIComponent(e),function(n){n=i.updateData(n,e),i.results[e]=n,!t.dyn.autoCompReg&&n.KEYWORDS.length<i.iEnhanceSuggestionsFrom&&!n.BLACKLISTED&&i.enhanceSuggestions(e,1),i.last_search===e&&i.display(e)}).fail(function(){i.results[e]={KEYWORDS:[],PORNSTAR:[],CHANNEL:[]},i.last_search===e&&i.display(e)}).always(function(){i.cur_search===e&&(i.cur_search=!1,i.timer&&(window.clearTimeout(i.timer),i.timer=null))}))}}},enhanceSuggestions:function(t,e){t=t.trim();var i=t.split(" ");if(!(i.length<=e)){var n=i.slice(0,e),o=i.slice(e);this.searches.length===this.max_searchs&&this.searches.shift().abort();var s=o.join(" "),r=this;if(this.last_time=(new Date).getTime(),"undefined"!=typeof this.resultsEnhanced[s])return void this.displayEnhanced(t,s,n,e);this.searches.push($.getJSON(this.source_url+"/"+encodeURIComponent(s),function(i){r.resultsEnhanced[s]=i,r.displayEnhanced(t,s,n,e)}))}},displayEnhanced:function(t,e,i,n){var o=this.results[t],s=!1,r=null,a=[],l=function(t){if("object"==typeof t){if($.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(l(t[i]));return e}var n={};for(var o in t)n[o]=l(t[o]);return n}return t},h=this.updateData(l(this.resultsEnhanced[e]),e,i);for(r in o.KEYWORDS)a.push(o.KEYWORDS[r].N.toString().toLowerCase().trim()),o.KEYWORDS[r].more&&(s=!0);for(r=0;r<h.KEYWORDS.length&&!(o.KEYWORDS.length>=this.iMaxWithEnhancedSuggestions);r++){var c=h.KEYWORDS[r].N.toString().toLowerCase().trim();-1===a.indexOf(c)&&(s||(h.KEYWORDS[r].more=!0,s=!0),a.push(c),o.KEYWORDS.push(h.KEYWORDS[r]))}this.results[t]=o,this.last_search===t&&(this.display(t),o.KEYWORDS.length<this.iEnhanceSuggestionsFrom&&this.enhanceSuggestions(t,n+1))},updateData:function(t,e,i){"object"!=typeof t.KEYWORDS&&(t.KEYWORDS=[]),"object"!=typeof t.PORNSTAR&&(t.PORNSTAR=[]),"object"!=typeof t.CHANNEL&&(t.CHANNEL=[]);for(var n in s){var o=s[n];if("KEYWORDS"!==o)for(var r in t[o]){var a=t[o][r];"https:"===window.location.protocol&&(t[o][r].P=a.P.replace("http://","https://")),"number"==typeof a.M?(t[o][r].highlight=!0,t[o][r].t1=a.N.toString().substr(0,a.M),t[o][r].t2=a.N.toString().substr(a.M,a.L),t[o][r].t3=a.N.toString().substr(a.M+a.L)):t[o][r].highlight=!1}}for(var r=0;r<t.KEYWORDS.length;r++)for(;"object"==typeof t.KEYWORDS[r]&&"undefined"!=typeof t.KEYWORDS[r].R&&parseInt(t.KEYWORDS[r].R)<1;)t.KEYWORDS.splice(r,1);for(var r in t.KEYWORDS){var a=t.KEYWORDS[r],l=a.N.toString().toLowerCase().indexOf(e.toLowerCase());if(-1===l)t.KEYWORDS[r].highlight=!1;else if(t.KEYWORDS[r].highlight=!0,t.KEYWORDS[r].t1=a.N.toString().substr(0,l),t.KEYWORDS[r].t2=a.N.toString().substr(l,e.length),t.KEYWORDS[r].t3=a.N.toString().substr(l+e.length),void 0!==i){delete t.KEYWORDS[r].R;var h=t.KEYWORDS[r].N.toString().toLowerCase().split(" "),c=[];for(var u in i){var p=h.indexOf(i[u]);-1===p&&c.push(i[u])}var d=c.join(" ");t.KEYWORDS[r].N=d+" "+t.KEYWORDS[r].N,t.KEYWORDS[r].t1=d+" "+t.KEYWORDS[r].t1}}for(var r=0;r<t.PORNSTAR.length;r++)t.PORNSTAR[r].model=0===t.PORNSTAR[r].R||t.PORNSTAR[r].R>1e3;return t},display:function(t){this.cur_keywords=t;var i=this.results[t];if(0===i.KEYWORDS.length&&0===i.PORNSTAR.length&&0===i.CHANNEL.length)return this.selected=!1,this.has_results=!1,void this.close();this.has_results=!0,this.open(),this.selected=$(e.render(this.tpl,{results:i,has_keywords:i.KEYWORDS.length>0,has_pornstars:i.PORNSTAR.length>0,has_channels:i.CHANNEL.length>0,padding:this.lpadding,lbl_world:o.__("misc.world"),lbl_model:o.__("profile.model"),lbl_chans:o.__("profile.channels"),lbl_suggestions:o.__("video.suggestions"),is_premium_search:this.is_premium_search_input,uri:function(){return function(t,e){return encodeURIComponent(e(t))}}})).appendTo(this.autocomplete.empty()).filter("ul").first().scrollTop(0),this.res_selected=-1,this.resizeResults()},on_tab_input:function(t){(38===t.which||9===t.which&&this.has_results)&&t.preventDefault()},on_char_input:function(t){var e=this;if(38===t.which||40===t.which||9===t.which){if(!this.has_results)return;t.preventDefault(),this.is_keyboard_nav=!0;var i=this.results[this.cur_keywords];return 38===t.which?-1===this.res_selected?this.res_selected=i.KEYWORDS.length+i.PORNSTAR.length+i.CHANNEL.length-1:this.res_selected--:this.res_selected===i.KEYWORDS.length+i.PORNSTAR.length+i.CHANNEL.length-1?this.res_selected=-1:this.res_selected++,this.selected.removeClass("selected"),void(this.res_selected>=0?(this.selected=this.autocomplete.children("ul").children("li").eq(this.res_selected).addClass("selected"),this.selected.parent().scrollTop(this.selected.parent().scrollTop()+this.selected.position().top-20),this.input.val(this.selected.find("a .keywords").text())):(this.selected=$(),this.input.val(this.last_search)))}return 13===t.which&&this.has_results&&this.is_keyboard_nav&&this.selected?(t.preventDefault(),void(window.location.href=this.selected.children("a").prop("href"))):(this.is_keyboard_nav=!1,"paste"===t.type?("object"==typeof t.originalEvent.clipboardData&&"function"==typeof t.originalEvent.clipboardData.getData&&this.search(t.originalEvent.clipboardData.getData("text")),void window.setTimeout(function(){e.search(e.getSearch())},50)):void this.search(this.getSearch()))}},function(e,i,n){if("string"==typeof t.dyn.ip&&-1!==t.dyn.ip.indexOf(".")){var o="/search-suggest",s=t.dyn.user_main_cat||t.dyn.pagefilter||!1;!s||"gay"!==s&&"shemale"!==s||(o+="/"+s);var a=$("header input.search-input").filter("[name='k']"),l=!1;a.each(function(){$(this).is(":focus")&&(new r(e,$(this),i||e,n,o),l=!0)}),!1===l&&t.dyn.is_desktop&&("/"===window.location.pathname||"/gay"===window.location.pathname||"/shemale"===window.location.pathname)&&document.activeElement&&"BODY"===document.activeElement.tagName&&a.first().is(":visible")&&a.first().focus(),a.on("keyup keydown focus",function(t){$(this).off("keyup keydown focus"),new r(e,$(this),i||e,n,o),$(this).trigger(t)})}}}),define("text!skins/default/header/autocomplete.mustache",[],function(){return'{{#has_keywords}}\r\n\t<div class="title" style="padding-left:{{padding.left}};padding-right:{{padding.right}}">{{{lbl_suggestions}}}</div>\r\n\t<ul class="keywords">\r\n\t\t{{#results.KEYWORDS}}\r\n\t\t<li style="padding-left:{{padding.left}};padding-right:{{padding.right}}"{{#more}} class="more"{{/more}}>\r\n\t\t\t<a href="/?k={{#uri}}{{{N}}}{{/uri}}{{#is_premium_search}}&premium=1{{/is_premium_search}}&top">\r\n\t\t\t\t<span class="nbres">{{R}}</span>\r\n\t\t\t\t<span class="keywords">{{#highlight}}{{t1}}<span class="highlighted">{{t2}}</span>{{t3}}{{/highlight}}{{^highlight}}{{N}}{{/highlight}}</span>\r\n\t\t\t</a>\r\n\t\t</li>\r\n\t\t{{/results.KEYWORDS}}\r\n\t</ul>\r\n{{/has_keywords}}\r\n{{#has_pornstars}}\r\n<div class="title" style="padding-left:{{padding.left}};padding-right:{{padding.right}}">{{{lbl_pss}}}</div>\r\n<ul class="pornstars">\r\n\t{{#results.PORNSTAR}}\r\n\t<li style="padding-left:{{padding.left}};padding-right:{{padding.right}}">\r\n\t\t<a href="/profiles/{{{F}}}">\r\n\t\t\t<span class="thumb" style="background-image:url(\'{{{P}}}\')"></span>\r\n\t\t\t<span class="name">{{#highlight}}{{t1}}<span class="highlighted">{{t2}}</span>{{t3}}{{/highlight}}{{^highlight}}{{N}}{{/highlight}}</span>\r\n\t\t\t<span class="rank"><span class="rank-type">{{#model}}M{{/model}}{{^model}}P{{/model}}</span>{{#RF}}#<span class="rank-pos">{{RF}}</span>{{/RF}}</span>\r\n\t\t</a>\r\n\t</li>\r\n\t{{/results.PORNSTAR}}\r\n</ul>\r\n{{/has_pornstars}}\r\n{{#has_channels}}\r\n<div class="title" style="padding-left:{{padding.left}};padding-right:{{padding.right}}">{{{lbl_chans}}}</div>\r\n<ul class="pornstars">\r\n\t{{#results.CHANNEL}}\r\n\t<li style="padding-left:{{padding.left}};padding-right:{{padding.right}}">\r\n\t\t<a href="/profiles/{{{F}}}">\r\n\t\t\t<span class="thumb" style="background-image:url(\'{{{P}}}\')"></span>\r\n\t\t\t<span class="name">{{#highlight}}{{t1}}<span class="highlighted">{{t2}}</span>{{t3}}{{/highlight}}{{^highlight}}{{N}}{{/highlight}}</span>\r\n\t\t\t<span class="rank"><span class="rank-type">C</span>{{#RF}}#<span class="rank-pos">{{RF}}</span>{{/RF}}</span>\r\n\t\t</a>\r\n\t</li>\r\n\t{{/results.CHANNEL}}\r\n</ul>\r\n{{/has_channels}}'}),define("skins/default/header/autocomplete",["skins/common/search/autocomplete","text!./autocomplete.mustache"],function(t,e){t($("#page"),$("#header .white-stripe"),e)}),define("text!lib/helpers/overlay/template.html",[],function(){return'<div class="x-overlay">\n\t<div class="x-body">\n\t\t<div class="x-content"></div>\n\t\t<div class="x-close{{^closable}} hidden{{/closable}}" title="{{{ close_title }}}">{{{ icon }}}</div>\n\t</div>\n</div>'}),define("lib/helpers/overlay",["mustache","text!./overlay/template.html","lib/i18n!front"],function(t,e,i){var n=function(n,o,s){this.open=!1,this.closable=!!o,this.esc_close=!1,this.esc_close_handler=null,this.click_close_handler=null,this.setCloseAction(s);var r="&times;";xv&&xv.conf&&xv.conf.sitename&&("default"===xv.conf.sitename||"xnxx"===xv.conf.sitename)&&(r='<span class="icon-f icf-close-thin"></span>'),this.parent=$(n).css("position","relative"),this.node=$(t.render(e,{closable:o,close_title:i.__("misc.close"),icon:r})),this.body=this.node.children(".x-body");var a=this;this.close_node=this.body.children(".x-close").on("click",function(){"close"===a.close_action?a.close():a.hide()}),this.container=this.body.children(".x-content")};return n.get=function(t,e,i){return new n(t,e,i)},n.prototype={onShow:null,onHide:null,onClose:null,getNode:function(){return this.node},getContainer:function(){return this.container},addClass:function(t){return this.node.addClass(t),this},setClosable:function(t,e,i){if(this.closable=!!t,this.esc_close=t&&e,this.popbody_click_dontclose=t&&!!i,this.closable?this.close_node.removeClass("hidden"):this.close_node.addClass("hidden"),this.esc_close){if(!this.esc_close_handler){var n=this;this.esc_close_handler=$("body").on("keyup",function(t){n.open&&27===t.which&&("close"===n.close_action?n.close():n.hide())}),this.click_close_handler=$("body").on("click",function(t){n.open&&0===$(t.target).closest(n.popbody_click_dontclose?n.body:n.container).length&&("close"===n.close_action?n.close():n.hide())})}}else this.esc_close_handler&&($("body").off("keyup",this.esc_close_handler),this.esc_close_handler=null,$("body").off("click",this.click_close_handler),this.click_close_handler=null);return this},setCloseAction:function(t){this.close_action="hide"===t?"hide":"close"},setText:function(t){return this.container.text(t),this},setContent:function(t){return this.container.html(t),this},empty:function(){return this.container.empty(),this},append:function(t){return this.container.append(t),this},prepend:function(t){return this.container.prepend(t),this},show:function(){if(!this.open)return this.node.appendTo(this.parent),this.open=!0,this.onShow&&this.onShow(),this},hide:function(){if(this.open)return this.node.detach(),this.open=!1,this.onHide&&this.onHide(),this},close:function(){this.open&&(this.node.remove(),this.open=!1,this.onClose&&this.onClose())},autoclose:function(t){if(this.open){var e=this;window.setTimeout(function(){e.close()},t)}},isOpen:function(){return!!this.open}},n}),define("skins/default/header/click_ordered_label_list",["static/tracker"],function(t){var e=function(t,e,i){this.tags=$(t),this.list_name="oll_"+e,this.options={toggle_btn:i&&i.toggle_btn,toggle_btn_label_enabled:!(!i||!i.toggle_btn_label_enabled)&&i.toggle_btn_label_enabled,toggle_btn_label_disabled:!(!i||!i.toggle_btn_label_disabled)&&i.toggle_btn_label_disabled,copy_last_elems_to:!(!i||!i.copy_last_elems_to)&&$(i.copy_last_elems_to),copy_last_elems_limit:i&&i.copy_last_elems_limit?i.copy_last_elems_limit:5},this.trackers={},this.active_order=!0,this.toggle_btn=!1,this.order_list(),this.order_top=this.get_tracker("tg").isTracking()};return e.prototype={get_tracker:function(e){return"string"!=typeof e&&(e="default"),this.trackers[e]||(this.trackers[e]=new t(("default"!==e?e:"")+this.list_name,500)),this.trackers[e]},order_list:function(){if(this.get_tracker().canTrack()){var t=this.get_tracker().getIdsTimestampsList(),e=!0,i=[],n=["/","/gay","/shemale"];for(var o in t){e=!1;break}if(this.options.toggle_btn&&!this.toggle_btn&&!e){var s=$("<li class='click-order-toggle'></li>");s.insertBefore(this.tags.first()),this.toggle_btn=$("<a href='#' class='btn btn-default'><span class='icon-f icf-caret-right'></span><span class='label'></span></a>"),this.toggle_btn.appendTo(s),this.toggle_btn.on("click",function(t){t.preventDefault(),r.toggle_active_order(),"undefined"!=typeof xv.header&&"undefined"!=typeof xv.header.categories&&"function"==typeof xv.header.categories.position&&xv.header.categories.position()}),this.toggle_active_order(this.order_top,!1)}var r=this,a=1,l=window.location.pathname+window.location.search,h=!1;this.tags.each(function(){var e=$(this).children("a").first(),n="",o=e.prop("host");"string"==typeof o&&o.length>0&&window.location.host!==o&&(n=e.prop("protocol")+"//"+o);var s={elem:$(this),init_order:a,timestamp:0,name:e.text().trim(),href:n+e.prop("pathname")+e.prop("search")};e.children(".flag-small").length>0&&(s.name="0 "+s.name);var c=s.href;l===c&&r.get_tracker().addId(c),"undefined"!=typeof t[c]&&(s.elem.addClass("clicked"),h=!0,s.timestamp=t[c]),e.on("click",function(t){t.preventDefault(),r.get_tracker().addId(c),1!==$(t.currentTarget).data("noRedirect")&&(window.location.href=c)}),i.push(s),a++}),i=i.sort(function(t,e){return t.timestamp!==e.timestamp&&r.active_order?t.timestamp<e.timestamp?1:-1:r.initial_order_compare(t,e)}),this.options.copy_last_elems_to.length>0&&this.options.copy_last_elems_to.html(""),last_elem=!1,last_elems_count=0,last_elems_ul=$("<ul class='mobile-portrait-show'></ul>");for(var o in i)!1!==last_elem&&i[o].elem.insertAfter(last_elem.elem),i[o].timestamp>0&&-1===n.indexOf(i[o].href)&&this.options.copy_last_elems_to.length>0&&last_elems_count<this.options.copy_last_elems_limit&&(i[o].elem.clone().appendTo(last_elems_ul),last_elems_count++),last_elem=i[o];this.order_top&&last_elems_count>0&&last_elems_ul.appendTo(this.options.copy_last_elems_to)}},initial_order_compare:function(t,e){return t.init_order>e.init_order?1:-1},toggle_active_order:function(t,e){if(this.get_tracker().canTrack()){this.active_order="boolean"==typeof t?t:!this.active_order;var i=this.toggle_btn.children(".label");i.html(""),this.active_order?(this.get_tracker("tg").startTracking(),this.options.toggle_btn_label_enabled&&i.html(this.options.toggle_btn_label_enabled),this.order_top=!0):(this.get_tracker("tg").stopTracking(),this.options.toggle_btn_label_disabled&&i.html(this.options.toggle_btn_label_disabled),this.order_top=!1),this.toggle_btn.toggleClass("active",this.active_order),!1!==e&&this.order_list()}}},e}),define("skins/common/history/easy_tracker",["static/tracker"],function(t){var e=[],i=function(i){return e[i]||(e[i]=new t("EZtrk_"+i,5e3)),e[i]},n=function(){};return n.prototype={canTrack:function(t){return i(t).canTrack()},isTracking:function(t){return i(t).isTracking()},add:function(t,e){i(t).addId(e)},overrigth_all:function(t,e){this.clear(t);for(var i in e)this.add(t,e[i])},clear:function(t){return i(t).clear()},getAll:function(t){return i(t).getIdsList().reverse()},getLast:function(t){var e=this.getAll(t);return e.length>0&&e[0]}},new n}),define("skins/common/history/one_info_tracker",["./easy_tracker"],function(t){var e=function(){};return e.prototype={canTrack:function(e){return t.canTrack(e)},get:function(e){return t.getLast(e)},set:function(e,i){return t.overrigth_all(e,[i])},unset:function(e){t.clear(e)}},new e}),define("text!skins/common/geo_switch/contener.mustache",[],function(){return'<div>\n\t<div class="filter">\n\t\t<label>\n\t\t\t<span class="icon-f icf-search"></span>\n\t\t\t<input type="text"{{#placeholder}} placeholder="{{ placeholder }}"{{/placeholder}}/>\n\t\t</label>\n\t\t<button type="button" class="clear"><span class="icon-f icf-close-thin"></span></button>\n\t</div>\n\t<ul class="countries row">{{{ list }}}</ul>\n\t{{^simple_contener}}\n\t<ul class="width-ref row">{{{ ref-list }}}</ul>\n\t<div class="see-all"><button type="button" class="btn btn-primary"></button></div>\n\t{{/simple_contener}}\n</div>'}),define("text!skins/common/geo_switch/list_element.mustache",[],function(){return'<li class="{{^empty}}country-{{ code }} {{/empty}}col-xs-12 {{^half}}col-sm-4 col-md-3 col-lg-2{{/half}}{{#half}}col-sm-2 col-md-1-5 col-lg-1{{/half}}{{#cur}} current{{/cur}}{{#empty}} empty{{/empty}}">{{^empty}}\n\t<a href="/change-country/{{ code }}" class="btn"><span class="flag-small flag-{{ code }}"></span> {{{ name }}}</a>\n{{/empty}}</li>'}),define("text!skins/common/geo_switch/list_no_result.mustache",[],function(){return'<li class="no-result col-xs-12">\n\t{{{ no_result }}}\n</li>'}),define("skins/common/geo_switch/geo_switch",["config/main","mustache","lib/i18n!front","lib/helpers/overlay","lib/helpers/inline_loader","skins/common/history/one_info_tracker","text!./contener.mustache","text!./list_element.mustache","text!./list_no_result.mustache"],function(t,e,i,n,o,s,r,a,l){var h=["AF","AR","AT","AU","AZ","BD","BE","BG","BO","BR","CA","CH","CL","CM","CN","CO","CY","CZ","DE","DK","DO","EC","EG","ES","FI","FR","GB","GE","GR","GT","HK","HU","ID","IE","IL","IN","IQ","IS","IT","JO","JP","KE","KH","KR","LA","LB","LK","LV","MA","MD","MM","MT","MX","MY","NG","NL","NO","NZ","PE","PH","PK","PL","PT","QA","RO","RS","RU","SE","SG","SK","SN","TH","TN","TW","TZ","UA","US","VE","VN","ZA"];xv||(xv={});var c=function(t,e){var i=t.trim().toLowerCase();return i=i.replace(new RegExp(/[_\s]/g)," "),i=i.replace(new RegExp(/[Ã Ã¡Ã¢Ã£Ã¤Ã¥]/g),"a"),i=i.replace(new RegExp(/Ã¦/g),"ae"),i=i.replace(new RegExp(/Ã§/g),"c"),i=i.replace(new RegExp(/[Ã¨Ã©ÃªÃ«]/g),"e"),i=i.replace(new RegExp(/[Ã¬Ã­Ã®Ã¯]/g),"i"),i=i.replace(new RegExp(/Ã±/g),"n"),i=i.replace(new RegExp(/[Ã²Ã³Ã´ÃµÃ¶]/g),"o"),i=i.replace(new RegExp(/Å/g),"oe"),i=i.replace(new RegExp(/[Ã¹ÃºÃ»Ã¼]/g),"u"),i=i.replace(new RegExp(/[Ã½Ã¿]/g),"y"),i=i.replace(new RegExp(/\W/g)," "),i=i.trim(),i=i.replace(new RegExp(/([\s])+/g),e?" ":"")},u=function(){this.toExWhenInit=[],this.initiated,this.popup,this.countries,this.cur_country;var e=$("#disclaimer_vpn_another");if(this.is_vpn_disclaimer=e.length>0,this.is_vpn_disclaimer||(e="default"===t.sitename?$("#nav .main-categories .country-switch"):$("#site-nav .country-switch, .topbar .country-switch"),0!==e.length)){var i=this;$(window).on("resize",function(){i.update_popup()}),e.on("click",function(t){t.preventDefault(),t.stopPropagation(),i.auto_show_popup()}).addClass("init-ok")}};return u.prototype={sAllCountriesStoreId:"geoSwitchCountries",current_state:{search:!1,show_all:!1,nb_cols:0},last_update:{first_update:!0},filter_inp:!1,filter_clear_btn:!1,show_all_btn:!1,list_cont:!1,empty_list_elem:"",empty_half_list_elem:"",vpn_disclaimer_btn:!1,is_vpn_disclaimer:!1,mobile_menu_index:!1,get_popup:function(){return this.init(),this.popup},executeAllWhenInit:function(){for(var t=0;t<this.toExWhenInit.length;t++){var e=this.toExWhenInit[t];"function"==typeof e&&e()}this.toExWhenInit=[]},init:function(){if("yes"===this.initiated)return this.executeAllWhenInit(),!0;if("pending"===this.initiated)return!1;this.initiated="pending";var e=this;this.popup||(this.popup=new n("body",!0,"hide"),this.popup.setClosable(!0,!0,!1),this.popup.addClass("geo-switch-pop"+(this.is_vpn_disclaimer?" vpn-disclaimer":"")),this.popup.onHide=function(){$("html").removeClass("geo-switch-pop-opened")},this.popup.onShow=function(){$("html").addClass("geo-switch-pop-opened"),e.init()?e.update_popup():e.toExWhenInit.push(function(){e.update_popup()})},this.iAllMenuId=xv.menus.addClose(function(){e.popup.hide()})),this.setPopupLoading(),this.cur_country=("string"==typeof t.dyn.forcedcountry?t.dyn.forcedcountry:t.dyn.country).toLowerCase(),this.countries=[];var i=s.get(this.sAllCountriesStoreId);if(i&&i.timestamp){var o=Date.now()-1728e5;i.timestamp>o&&this.setCountries(i.countries)}return"yes"===this.initiated?(this.executeAllWhenInit(),!0):($.ajax({url:"/account/getcountries/"+t.dyn.locale,success:function(t){t.result&&t.countries?(s.set(e.sAllCountriesStoreId,{timestamp:Date.now(),countries:t.countries}),e.setCountries(t.countries)):(e.initiated="no",e.setPopupError())},error:function(){e.initiated="no",e.setPopupError()},dataType:"json"}),!1)},setPopupLoading:function(){if(!this.popup)return!1;this.popup.setContent($('<p class="text-center">'+o.getSafe("after",i.__("misc.loading")).getHtml()+"</p>"))},setPopupError:function(){if(!this.popup)return!1;var t=$('<p class="text-center"><span class="btn btn-primary">'+i.__("error.failed_loading_info_retry")+"</span></p>"),e=this;t.find(".btn").on("click",function(){setTimeout(function(){e.init()},100)}),this.popup.setContent(t)},setCountries:function(t){var i=this,n=function(t){t.preventDefault(),i.get_popup().hide(),window.xv.disclaimer.vpn_display_closed($(this).prop("href"))};order=0;for(var o in t){var s=o.toLowerCase(),l={o:order,code:s,name:t[o],cur:s===this.cur_country,big:-1!==h.indexOf(o)};l.search=this.build_search_index(l),l.elem=$(e.render(a,l)),this.is_vpn_disclaimer&&(l.a_click=n),this.countries.push(l),order++}if(this.countries.length<1)return this.initiated="no",i.setPopupError(),!1;this.empty_list_elem=$(e.render(a,{empty:!0})),this.empty_half_list_elem=$(e.render(a,{empty:!0,half:!0}));var c=$(e.render(r,{list:"","ref-list":e.render(a,{empty:!0})}));this.filter_inp=c.find("input").first(),this.filter_clear_btn=c.find("button.clear").first(),this.show_all_btn=c.find(".see-all button").first(),this.ref_col_for_w=c.find("ul.width-ref li").first(),this.list_cont=c.find("ul.countries").first(),this.popup.setContent(c),this.filter_inp.on("change blur focus paste input",function(){i.update_search()}),this.filter_inp.on("keydown",function(t){27===t.keyCode&&(t.preventDefault(),t.stopPropagation()),i.update_search()}),this.filter_inp.on("keyup",function(t){27===t.keyCode&&i.filter_inp.prop("value").length>0&&(t.preventDefault(),t.stopPropagation(),i.filter_inp.prop("value","")),i.update_search()}),this.filter_clear_btn.on("click",function(){i.filter_inp.prop("value",""),i.update_search()}),this.show_all_btn.on("click",function(){i.popup.getNode().children(".x-body").scrollTop(0),i.toggle_show_all()}),this.executeAllWhenInit(),this.initiated="yes"},build_search_index:function(t){var e=t.name.indexOf(","),i="us"===t.code?"usa|theunitedstatesofamerica|":"";return-1!==e?(i+=c(t.name.substr(0,e)),i+=c(t.name.substr(e+1)),i+="|"+c(t.name.substr(e+1)),i+=c(t.name.substr(0,e))):i+=c(t.name),i+="|"+c(t.code)},get_ordered_list_elems:function(t,e){var i=[]
;for(var n in this.countries)("all"===t||"search"===t&&-1!==this.countries[n].search.indexOf(e)||"search"!==t&&!this.current_state.search&&(this.current_state.show_all||this.countries[n].big)||"search"!==t&&this.current_state.search&&-1!==this.countries[n].search.indexOf(this.current_state.search))&&i.push(this.countries[n]);return i.sort(function(t,e){return t.o<e.o?-1:t.o>e.o?1:0})},show_popup:function(){var t=this.get_popup();t&&t.show("body")},auto_show_popup:function(){xv.menus.closeAll(this.iAllMenuId),$(window).scrollTop(0),this.show_popup()},update_search:function(t){var e=this.filter_inp.prop("value");!e||e.length<1?this.current_state.search=!1:(e=c(e),e.length<1?this.current_state.search=!1:(this.current_state.search=e,this.toggle_show_all(!1,!0))),t||this.update_popup()},update_popup:function(){this.popup&&this.popup.open&&(this.update_nb_cols(),this.needs_update()&&(this.show_all_btn.html(this.current_state.show_all?i.__("misc.see_less_countries"):i.__("misc.see_all_countries")),this.write_list(),this.reinit_needs_update()))},needs_update:function(){for(var t in this.current_state)if("undefined"==typeof this.last_update[t]||this.last_update[t]!==this.current_state[t])return!0;return!1},reinit_needs_update:function(){this.last_update={};for(var t in this.current_state)this.last_update[t]=this.current_state[t]},update_nb_cols:function(){var t=parseInt(this.list_cont.width()),e=parseInt(this.ref_col_for_w.outerWidth());this.current_state.nb_cols=Math.max(Math.round(t/e),1)},write_list:function(){var t=this.get_ordered_list_elems(),n=t.length,o=Math.ceil(n/this.current_state.nb_cols),s=1===o&&this.current_state.nb_cols!==n,r=(this.current_state.nb_cols-1)*o>=n,a=(this.current_state.nb_cols-2)*o>=n;if(this.list_cont.empty().toggleClass("single-not-full-line",s),0===n)return this.list_cont.append($(e.render(l,{no_result:i.__("search.no_result")}))),!1;count=0;for(var h=0;h<o;h++)for(var c=0;c<this.current_state.nb_cols;c++){var u=h+c*o;if(count++,u<n){!s&&r&&count%this.current_state.nb_cols==1&&(a?this.list_cont.append(this.empty_list_elem.clone()):this.list_cont.append(this.empty_half_list_elem.clone()));var p=t[u].elem.clone();"function"==typeof t[u].a_click&&p.find("a").on("click",t[u].a_click),this.list_cont.append(p)}else s||(r&&count%this.current_state.nb_cols==0?a||this.list_cont.append(this.empty_half_list_elem.clone()):this.list_cont.append(this.empty_list_elem.clone()))}},set_simple_list_elem:function(t,e,i,n){var o=this,s=function(){var s=$(o.get_simple_list_elem());s.prop("id",e),s.addClass(i),$(t).append(s),o.init_simple_list_elem_search(s),n()};this.toExWhenInit.push(s),this.init()},get_simple_list_elem:function(){var t=this.get_ordered_list_elems("all"),i="";for(var n in t)i+=e.render(a,t[n]);return e.render(r,{simple_contener:!0,list:i})},init_simple_list_elem_search:function(t){if(input=$(t).find(".filter input").first(),clear_btn=$(t).find(".filter .clear").first(),ul=$(t).find("ul").first(),0===input.length||0===clear_btn.length||0===ul.length)return!1;var e=this,i=function(){var t=input.prop("value");t!==input.data("last-update")&&(input.data("last-update",t),e.update_simple_list_elem(ul,t))};input.on("change blur focus paste input",i),input.on("keydown",function(t){27===t.keyCode&&(t.preventDefault(),t.stopPropagation()),i()}),input.on("keyup",function(t){27===t.keyCode&&input.prop("value").length>0&&(t.preventDefault(),t.stopPropagation(),e.filter_inp.prop("value","")),i()}),clear_btn.on("click",function(){input.prop("value",""),i()})},update_simple_list_elem:function(t,n){if(t=$(t),0===t.length)return!1;n="string"==typeof n&&c(n);var o=n?this.get_ordered_list_elems("search",n):this.get_ordered_list_elems("all");if(list_html="",0===o.length)list_html=e.render(l,{no_result:i.__("search.no_result")});else for(var s in o)list_html+=e.render(a,o[s]);t.html($(list_html))},toggle_show_all:function(t,e){this.current_state.show_all="boolean"==typeof t?t:!this.current_state.show_all,this.current_state.show_all&&(this.filter_inp.prop("value",""),this.update_search(!0)),e||this.update_popup()}},new u}),define("skins/common/features_test/user_videos_list_tracker",["static/tracker"],function(t){var e=function(t){this.sTrackerName=t};return e.prototype={sTrackerName:null,tracker:null,get_tracker:function(){return this.tracker||(this.tracker=new t(this.sTrackerName,5e3)),this.tracker},canTrack:function(){return this.get_tracker().canTrack()},isTracking:function(){return this.get_tracker().isTracking()},stopTracking:function(){this.get_tracker().stopTracking()},startTracking:function(){this.get_tracker().startTracking()},addVideo:function(t){this.get_tracker().addId(t)},removeVideo:function(t){this.get_tracker().removeId(t)},clear:function(){return this.get_tracker().clear()},getIds:function(){for(var t=this.get_tracker().getIdsList(),e=[],i=0;i<t.length;i++){var n=parseInt(t[i]);-1===e.indexOf(n)&&(e[i]=n)}return e}},e}),define("skins/common/features_test/videos_i_like",["./user_videos_list_tracker"],function(t){return new t("aVideosILike")}),define("skins/common/features_test/video_subs",["static/tracker"],function(t){var e,i=function(){return e||(e=new t("test_video_subs",5e3)),e},n=function(){};return n.prototype={canTrack:function(){return i().canTrack()},isTracking:function(){return i().isTracking()},stopTracking:function(){i().stopTracking()},startTracking:function(){i().startTracking()},subscribe:function(t){i().addId(t)},unsubscribe:function(t){i().removeId(t)},hasSubscribed:function(t){return i().hasId(t)},clear:function(){return i().clear()},getIds:function(){return i().getIdsList()}},new n}),define("lib/helpers/overlay/box",["lib/tools","static/dom","../overlay"],function(t,e,i){var n=function(t,e,n,o){i.apply(this,arguments),this.ori_padding=!1,this.node.addClass("x-overlay-box"),this.verticallyCentered=!!o,this.bCanReposition=!0};return n.prototype=new i,n.get=function(t,e,i,o){return new n(t,e,i,o)},n.prototype.show=function(t){if(!this.open)return this.node.appendTo(this.parent),this.open=!0,this.onShow&&this.onShow(),this.position(t)},n.prototype.position=function(i){if(!this.bCanReposition)return this;var n=this.node.height(),o=this.body.outerHeight(),s=this.verticallyCentered?($(window).height()-o)/2:10;if(!1===i)return this.body.css("margin-top",s+"px"),this;if(n<o+s&&(this.ori_padding=this.parent.css("padding-bottom"),this.parent.css("padding-bottom",o+s-n+"px")),"auto"===i){var r=0;return n>=o+s&&(r=$(window).scrollTop()),this.body.css("margin-top",r+s+"px"),this}if((i=void 0!==i&&$(i))&&i.length>0){var a=i.position().top,l=Math.max(s,Math.min(a,n-o-s));this.body.css("margin-top",l+"px")}else if(this.body.css("margin-top",Math.max(s,Math.round(Math.min(Math.min(.01*$(window).height(),150),(n-o)/2)))+"px"),this.closable&&!e.isElementInView(this.body,!0)){(function(t){var e=t.add(t.parents()),i=!1;return e.each(function(){if("fixed"===$(this).css("position"))return i=!0,!1}),i})(this.body)||t.scrollTo(this.body,10)}return this},n.prototype.setEscapeClosable=function(t){if(!1===t)this.esc_close_handler&&($("body").off("keyup",this.esc_close_handler),this.esc_close_handler=null);else if(!this.esc_close_handler){var e=this;this.esc_close_handler=$("body").on("keyup",function(t){e.open&&27===t.which&&("close"===e.close_action?e.close():e.hide())})}},n.prototype.setCanReposition=function(t){this.bCanReposition=!!t},n.prototype.setOverlayClosable=function(t){if(!1===t)this.overlay_close_handler&&(this.node.off("click",this.overlay_close_handler),this.overlay_close_handler=null);else if(!this.overlay_close_handler){var e=this;this.overlay_close_handler=function(t){$(t.target).hasClass("x-overlay-box")&&("close"===e.close_action?e.close():e.hide())},this.node.on("click",this.overlay_close_handler)}},n.prototype.setOverlayReposition=function(t){var e=this;this.overlay_reposition_handler=function(i){$(i.target).hasClass("x-overlay-box")&&(e.open=!1,e.show(t))},this.node.on("click",this.overlay_reposition_handler)},n.prototype.setScrollAndResizeReposition=function(t){"undefined"!=typeof this.eScrollAndResizeReposition&&$(window).off("scroll",this.eScrollAndResizeReposition).off("resize",this.eScrollAndResizeReposition);var e=this;this.eScrollAndResizeReposition=function(){"undefiled"!=typeof e.tScrollAndResizeReposition&&clearTimeout(e.tScrollAndResizeReposition),e.tScrollAndResizeReposition=setTimeout(function(){e.position(t),e.setScrollAndResizeReposition(t)},250)},$(window).on("scroll",this.eScrollAndResizeReposition).on("resize",this.eScrollAndResizeReposition)},n.prototype.hide=function(){return!1!==this.ori_padding&&this.parent.css("padding-bottom",this.ori_padding),i.prototype.hide.apply(this)},n.prototype.close=function(){return!1!==this.ori_padding&&this.parent.css("padding-bottom",this.ori_padding),i.prototype.close.apply(this)},n}),define("lib/helpers/events/scroll",[],function(){var t=[],e=[],i=!1,n=null,o=null;return $(window).on("scroll",function(){if(!i)for(var s in t)t[s]();!0!==i&&(n=setTimeout(function(){i=!0},100)),clearTimeout(o),o=setTimeout(function(){clearTimeout(n),i=!1;for(var t in e)e[t]()},200)}),{addScrollStartListener:function(e){t.push(e)},addScrollEndListener:function(t){e.push(t)},isScrolling:function(){return i}}}),define("lib/helpers/events/tab",[],function(){function t(t){t=t||window.event;var s;if(s=t.type in a?a[t.type]:this[o]?"hidden":"visible",e!==s)if(e=s,"hidden"===s)for(var r in n)n[r]();else for(var r in i)i[r]()}var e,i=[],n=[],o="hidden",s="visible",r="hidden",a={focus:s,focusin:s,pageshow:s,blur:r,focusout:r,pagehide:r};return o in document?document.addEventListener("visibilitychange",t):(o="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(o="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(o="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t,$(window).on("blur",t),$(window).on("focus",t),{addHiddenListener:function(t){n.push(t)},addVisibleListener:function(t){i.push(t)}}}),define("lib/helpers/events",["lib/helpers/events/scroll"],function(t){var e=0,i=function(){this.thlistener,this.thlisteners=[],this.tvlistener,this.tvlisteners=[],this.sslisteners=[],this.selisteners=[]};return i.prototype={TAB_HIDDEN:"tab.hidden",TAB_VISIBLE:"tab.visible",SCROLL_START:"scroll.start",SCROLL_END:"scroll.end",addListener:function(t,i){switch(t){case this.TAB_HIDDEN:if(this.thlisteners[e]=i,!this.thlistener){this.thlistener=!0;var n=this;require(["lib/helpers/events/tab"],function(t){t.addHiddenListener(function(){for(var t in n.thlisteners)n.thlisteners[t]()})})}return++e-1;case this.TAB_VISIBLE:if(this.tvlisteners[e]=i,!this.tvlistener){this.tvlistener=!0;var n=this;require(["lib/helpers/events/tab"],function(t){t.addVisibleListener(function(){for(var t in n.tvlisteners)n.tvlisteners[t]()})})}return++e-1;case this.SCROLL_START:return this.sslisteners[e]=i,++e-1;case this.SCROLL_END:return this.selisteners[e]=i,++e-1}return!1},isScrolling:function(){return t.isScrolling()}},new i}),define("lib/helpers/thumbs/mozaique",["lib/tools","./engine_creator"],function(t,e){var i,n=function(t){return t++,t>9?0:t},o=function(t,e,i){return t++,t>=e?i?-1:0:t},s=function(t,e){var n=Math.floor((t-1)/3);return 0===n?"0%":-1*n*(i?100:e?56.25:75)+"%"},r=function(t){this.rotator=t,this.name=e.ENGINE_MOZAIQUE,this.is_video_engine=!1,this.thumb,this.ori_src,this.is_profile_pic,this.is_video_pic,this.is_16_9,this.idx,this.mozaique,this.videos,this.timer};return r.prototype={startVideoPic:function(t){var e=this;this.thumb=t;var i=this.thumb.attr("src");this.is_16_9=-1!==i.indexOf("/thumbs169"),this.idx=0,this.mozaique=this.thumb.next(".hovered"),0===this.mozaique.length&&(i=i.substring(0,i.lastIndexOf("/")).replace("thumbs169lll","thumbs169ll").replace("thumbslll","thumbsll"),this.mozaique=$('<img class="hovered" src="'+i+'/mozaiquehome.jpg" />').hide().insertAfter(this.thumb).on("mouseout",function(t){e.rotator.stop(t)})),this.timer=window.setTimeout(function(){e.nextVideo()},30)},startProfilePic:function(e,i){this.thumb=e,this.ori_src=this.thumb.attr("src"),this.is_profile_pic=this.thumb.hasClass("profile-pic"),this.is_video_pic=this.thumb.hasClass("video-pic"),this.idx=-1,this.videos=i,t.preloadPicture(i[0].img);var n=this;this.timer=window.setTimeout(function(){n.nextProfPic()},30)},nextVideo:function(){if(this.thumb){var t=this;this.idx=n(this.idx),0===this.idx?this.mozaique.hide():1===this.idx?this.mozaique.show().css({marginTop:"0%",marginLeft:"0%"}):(this.mozaique.css({marginTop:s(this.idx,this.is_16_9),marginLeft:-100*Math.floor((this.idx-1)%3)+"%"}),void 0===i&&4===this.idx&&(i=Math.abs(this.thumb.height()-Math.abs(parseInt(this.mozaique.css("marginTop").replace("px",""))))>5)&&this.mozaique.css({marginTop:s(this.idx,this.is_16_9)})),this.timer=window.setTimeout(function(){t.nextVideo()},1e3)}},nextProfPic:function(){if(this.thumb){var e=this;this.idx=o(this.idx,this.videos.length,this.is_video_pic),this.is_video_pic&&(-1===this.idx?this.thumb.addClass("video-pic"):this.thumb.removeClass("video-pic")),this.thumb.attr("src",-1===this.idx?this.ori_src:this.videos[this.idx].img),this.is_profile_pic&&(-1===this.idx?this.thumb.addClass("profile-pic"):this.thumb.removeClass("profile-pic"));var i=o(this.idx,this.videos.length,this.is_video_pic);-1!==i&&t.preloadPicture(this.videos[i].img),this.timer=window.setTimeout(function(){e.nextProfPic()},1e3)}},stop:function(){this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.thumb&&(this.mozaique&&this.mozaique.hide(),this.thumb=null,this.ori_src="",this.mozaique=null,this.videos=null)},isStillOnThumb:function(t){return this.thumb&&this.thumb.is(t)&&1===this.idx||this.mozaique&&this.mozaique.is(t)&&0===this.idx}},r}),define("lib/helpers/thumbs/mp4vp",["static/utils","./engine_creator"],function(t,e){var i=function(t){return t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."))},n=function(t,e,i){return i?t.replace(".jpg",".mp4"):t.substring(0,t.lastIndexOf("/")).replace(/\/thumbs(169)?(xnxx)?l*\//,"/videopreview/")+(e?"_169.mp4":"_43.mp4")},o=function(t){var e=0;for(var i in t)e+=t[i];return e/t.length},s=function(t,e){return t++,t>=e?0:t},r=function(t){this.rotator=t,this.name=e.ENGINE_MP4,this.is_video_engine=!0,this.thumb,this.is_ad,this.is_16_9,this.idx,this.is_looping,this.node,this.pgsnode,this.pgsbar,this.nbplay=0,this.pgs_req,this.req_loaded={},this.req_start=0,this.req_total=0,this.req_dur=[],this.req_duration=[]};return r.prototype={startVideoPic:function(t){this.is_looping=!0,this.startPreview(t)},startProfilePic:function(t,e){this.is_looping=e.length+(t.hasClass("video-pic")?1:0)<2,this.videos=e,this.thumb=t,this.startPreview(t)},startPreview:function(t){this.nbplay=1;var e,i=this;if(this.thumb=t,t.hasClass("profile-pic")?(e=this.videos[0].img,this.thumb.prop("src",e).removeClass("profile-pic")):e=this.thumb.attr("src"),this.is_ad=!0===this.thumb.data("isad"),this.is_16_9=-1!==e.indexOf("/thumbs169"),this.idx=1,this.node=this.thumb.next(".videopv"),0===this.node.length){var o=this.thumb.parent().prop("href"),s="";if(this.is_ad)s=' target="_blank" rel="noopener"';else{var r=this.thumb.parent().prop("target");r&&(s=' target="'+r+'"')}this.node=$('<div class="videopv"><a href="'+o+'"'+s+'></a><div class="progress"><div class="bar"></div></div></div>').insertAfter(this.thumb).on("mouseout",function(t){i.rotator.stop(t)})}else this.node.show();this.pgsnode=this.node.children(".progress").show(),this.pgsbar=this.pgsnode.children(".bar"),e=n(e,this.is_16_9,this.is_ad),this.startPgsCheck(e);var a=this.createVideo(e);this.node.prepend(a)},nextPreview:function(){if(this.nbplay===this.rotator.max_nb_play)return void this.rotator.stop(!0,!0);this.nbplay++,this.idx=s(this.idx,this.videos.length);var t=n(this.videos[this.idx].img,this.is_16_9,this.is_ad);this.pgsnode.show(),this.startPgsCheck(t);var e=this.node.css("backgroundColor","").children("video"),i=this.createVideo(t,function(){e.remove(),e[0].src="",e[0].load()});e.after(i)},stop:function(){if(this.thumb){this.nbplay=0,this.stopPgsCheck(),this.node.css("backgroundColor","").hide();var t=this.node.children("video");t.remove(),t[0].src="",t[0].load(),this.thumb=null,this.node=null,this.pgsnode=null,this.pgsbar=null,this.videos=null}},isStillOnThumb:function(t){return this.thumb&&this.thumb.is(t)&&1===this.idx},stopPgsCheck:function(){this.pgs_req&&(this.pgs_req.abort(),this.pgs_req=null,this.req_start=0,this.req_total=0)},startPgsCheck:function(e){var n=i(e);if("object"!=typeof this.req_loaded[n]&&(this.stopPgsCheck(),this.pgsbar.stop(!0).css("width","0%"),"boolean"!=typeof this.req_loaded[n])){var s=this;this.pgsbar.animate({width:"100%"},1e4,"linear"),this.req_start=(new Date).getTime(),this.req_total=0,this.pgs_req=t.createRequestObject(),this.pgs_req.open("GET",e),this.pgs_req.addEventListener("loadstart",function(t){s.req_start=(new Date).getTime()}),this.pgs_req.addEventListener("progress",function(t){if(t.lengthComputable&&(0===s.req_total&&s.req_dur.length>2&&s.pgsbar.stop(!0).animate({width:"100%"},Math.round(o(s.req_dur)*t.total),"linear"),s.req_total=t.total),!(s.req_dur.length>2)){if(t.lengthComputable){var e=Math.min(1,t.loaded/t.total*5/1),i=(new Date).getTime()-s.req_start;return e<1?void s.pgsbar.stop(!0).animate({width:"100%"},Math.round(i/e-i),"linear"):void s.pgsbar.stop(!0).animate({width:"100%"},1e3,"linear")}s.pgsbar.stop(!0).animate({width:"100%"},1e4,"linear")}}),this.pgs_req.addEventListener("load",function(){s.req_loaded[n]=!0}),this.pgs_req.addEventListener("abort",function(){!0!==s.req_loaded[n]&&delete s.req_loaded[n]}),this.pgs_req.send(),this.req_loaded[n]=this.pgs_req}},createVideo:function(t,e){var r=this,a=i(t),l=!1,h=document.createElement("video");h.src=t,h.muted=!0,h.autoplay="autoplay",h.disableRemotePlayback=!0,h.playsInline=!0,h.addEventListener("progress",function(){4===h.readyState&&h.seekable.end(0)==h.buffered.end(0)&&(r.req_loaded[a]=!0)}),h.addEventListener("timeupdate",function(){if(!l){var t=2;if(r.req_duration.length>1&&(t=o(r.req_duration)/1e3-.5),!r.is_looping&&h.duration-h.currentTime<=t){l=!0;var e=s(r.idx,r.videos.length),a=r.videos[e].img,c=i(a);"undefined"==typeof r.req_loaded[c]&&r.startPgsCheck(n(a,r.is_16_9,r.is_ad))}}}),this.is_looping?h.addEventListener("ended",function(){if(r.nbplay===r.rotator.max_nb_play)return void r.rotator.stop(!0,!0);r.nbplay++,this.play()}):h.addEventListener("ended",function(){r.req_loaded[a]=!0,r.nextPreview()});var c=!1,u=function(){if(!c){if(c=!0,h.removeEventListener("playing",u),r.req_total>0){var t=(new Date).getTime()-r.req_start;r.req_dur.push(t/r.req_total),r.req_duration.push(t),r.req_dur.length>4&&(r.req_dur.shift(),r.req_duration.shift())}r.stopPgsCheck(),r.node.css("backgroundColor","#000"),r.pgsnode.hide(),"function"==typeof e&&e()}};return h.addEventListener("playing",u),h}},r}),define("lib/helpers/thumbs/tsvp",["./engine_creator"],function(t){var e=function(t){var e=0;for(var i in t)e+=t[i];return e/t.length},i=function(t,e){return t.substring(0,t.lastIndexOf("/")).replace(/\/thumbs(169)?(xnxx)?l*\//,"/videopreview/")+(e?"_169.ts":"_43.ts")},n=function(t,e){return t++,t>=e?0:t},o=function(t,e,i){i.stop(!0).css("width","0%").animate({width:"100%"},1e4,"linear"),JSMpeg.Player.call(this,t,e);var n=(new Date).getTime(),o=!1,s=this,r=!1;this.renderer.canvas.style.visibility="hidden",this.renderer.renderProgress=function(t){if(0!==t){s.is_cached=!1,i.stop(!0),o&&(o=!1,i.css("width",(100*t).toFixed(2)+"%"));var e=(new Date).getTime()-n;i.animate({width:"100%"},Math.max(200,Math.round(e/t-e)),"linear")}},this.renderer.render=function(t,e,n){this.enabled&&(r?"function"==typeof s.nextframe&&s.nextframe(s.video.getCurrentTime(),s.video.timestamps[s.video.timestamps.length-1].time):(r=!0,this.canvas.style.visibility="",i.stop(!0),"function"==typeof s.started&&s.started()),Object.getPrototypeOf(this).render.call(this,t,e,n),s.video.timestampIndex>0&&s.video.timestampIndex===s.video.timestamps.length-1&&"function"==typeof s.ended&&s.ended())},this.resetProgress=function(){o=!0}};o.prototype=Object.create(JSMpeg.Player.prototype,{}),o.prototype.is_cached=!0,o.prototype.started=null,o.prototype.nextframe=null,o.prototype.ended=null,o.prototype.constructor=o;var s=function(e){this.rotator=e,this.name=t.ENGINE_TS,this.is_video_engine=!0,this.thumb,this.is_16_9,this.idx,this.is_looping,this.node,this.pgsnode,this.pgsbar,this.player,this.nextplayer,this.nbplay=0,this.req_duration=[]};return s.prototype={startVideoPic:function(t){this.is_looping=!0,this.startPreview(t)},startProfilePic:function(t,e){this.is_looping=e.length+(t.hasClass("video-pic")?1:0)<2,this.videos=e,this.thumb=t,this.startPreview(t)},startPreview:function(t){this.nbplay=1;var e,i=this;if(this.thumb=t,t.hasClass("profile-pic")?(e=this.videos[0].img,this.thumb.removeClass("profile-pic")):e=this.thumb.attr("src"),this.is_16_9=-1!==e.indexOf("/thumbs169"),this.idx=1,this.node=this.thumb.next(".videopv"),0===this.node.length){var n=this.thumb.parent().prop("href");this.node=$('<div class="videopv"><a href="'+n+'"></a><div class="progress"><div class="bar"></div></div></div>').insertAfter(this.thumb).on("mouseout",function(t){i.rotator.stop(t)})}else this.node.show();this.pgsnode=this.node.children(".progress").show(),this.pgsbar=this.pgsnode.children(".bar"),this.player=this.createPlayer(e),this.node.prepend(this.player.options.canvas)},nextPreview:function(){if(this.nbplay===this.rotator.max_nb_play)return void this.rotator.stop(!0,!0);this.nbplay++,this.idx=n(this.idx,this.videos.length);var t=this.videos[this.idx].img;this.pgsnode.show();var e=this.player;this.player=this.createPlayer(t),$(e.options.canvas).after(this.player.options.canvas)},stop:function(){this.thumb&&(this.node.css("backgroundColor","").hide(),this.player&&(this.player.destroy(),this.player.options.canvas.parentNode&&this.player.options.canvas.parentNode.removeChild(this.player.options.canvas),this.player=null),this.nextplayer&&(this.nextplayer.destroy(),this.nextplayer.options.canvas.parentNode&&this.nextplayer.options.canvas.parentNode.removeChild(this.nextplayer.options.canvas),this.nextplayer=null),this.thumb=null,this.node=null,this.pgsnode=null,this.pgsbar=null,this.videos=null,this.nbplay=0)},isStillOnThumb:function(t){return this.thumb&&this.thumb.is(t)&&1===this.idx},createPlayer:function(t,s){if(t=i(t,this.is_16_9),!s&&this.nextplayer){if(this.nextplayer.source.url===t){this.nextplayer.resetProgress(),this.nextplayer.play();var r=this.nextplayer;return this.nextplayer=null,r}this.nextplayer.destroy(),this.nextplayer.options.canvas.parentNode&&this.nextplayer.options.canvas.parentNode.removeChild(this.nextplayer.options.canvas),this.nextplayer=null}var a=this,r=new o(t,{canvas:document.createElement("canvas"),progressive:!1,loop:this.is_looping,autoplay:void 0===s||!s,decodeFirstFrame:!1},this.pgsbar);if(this.is_looping)r.started=function(){a.node.css("backgroundColor","#000"),a.pgsnode.hide()},r.ended=function(){if(a.nbplay===a.rotator.max_nb_play)return void a.rotator.stop(!0,!0);a.nbplay++};else{var l=this.player,h=(new Date).getTime();r.started=function(){if(a.node.css("backgroundColor","#000"),a.pgsnode.hide(),l&&(l.destroy(),l.options.canvas.parentNode.removeChild(l.options.canvas)),!r.is_cached){var t=(new Date).getTime()-h;a.req_duration.push(t),a.req_duration.length>4&&a.req_duration.shift()}},r.nextframe=function(t,i){if(!a.nextplayer){var o=2;if(a.req_duration.length>1&&(o=e(a.req_duration)/1e3-.5),i-t<=o){var s=n(a.idx,a.videos.length),r=a.videos[s].img;a.nextplayer=a.createPlayer(r,!0)}}},r.ended=function(){a.nextPreview()}}return r}},s}),define("lib/helpers/thumbs/engine_creator",["config/main","static/utils"],function(t,e){var i=function(){if(this.videopv_allowed=!1,this.videopv_enabled=!1,this.videopv_codec,"object"==typeof t.dyn&&"object"==typeof t.dyn.vp&&t.dyn.vp.allowed&&"string"==typeof t.dyn.vp.codec&&("mp4"===t.dyn.vp.codec||"ts"===t.dyn.vp.codec)&&(this.videopv_allowed=!0,this.videopv_codec=t.dyn.vp.codec,this.videopv_enabled=!t.dyn.vp.disabled,"mp4"===this.videopv_codec&&-1===navigator.userAgent.toLowerCase().indexOf("chrome-lighthouse"))){var e=document.createElement("video");"undefined"!=typeof e.canPlayType&&e.canPlayType('video/mp4; codecs="avc1.4D401E, mp4a.40.2"').length>0||(this.videopv_codec="ts")}this.engineLoading=!1,this.engineName=!1,this.engineObj,this.libtimer,this.pending_create=[]};return i.prototype={ENGINE_MOZAIQUE:"mozaique",ENGINE_MP4:"mp4vp",ENGINE_TS:"tsvp",create:function(i){i&&this.pending_create.push(i);var n=this.ENGINE_MOZAIQUE,o=this;if(this.videopv_enabled)if("mp4"===this.videopv_codec)n=this.ENGINE_MP4;else if("ts"===this.videopv_codec)if("object"==typeof JSMpeg)n=this.ENGINE_TS,this.libtimer&&(window.clearInterval(this.libtimer),this.libtimer=null);else if(!this.libtimer)return e.loadScript(t.domains["static"]+"/v3/js/libs/jsmpeg.min.js"),void(this.libtimer=window.setInterval(function(){o.create()},500));if(this.engineName===n)return void this.executeCallbacks();if(this.engineLoading!==n){this.engineLoading=n;var s=function(t){o.engineLoading===n&&(o.engineLoading=!1,o.engineName=n,o.engineObj=t,o.executeCallbacks())};n===this.ENGINE_MOZAIQUE?require(["lib/helpers/thumbs/mozaique"],s):n===this.ENGINE_MP4?require(["lib/helpers/thumbs/mp4vp"],s):n===this.ENGINE_TS&&require(["lib/helpers/thumbs/tsvp"],s)}},executeCallbacks:function(){for(var t in this.pending_create)this.pending_create[t](this.engineObj);this.pending_create=[]}},new i}),function(t){function e(){var t=s();t!==r&&(r=t,h.trigger("orientationchange"))}function i(e,i,n,o){var s=n.type;n.type=i,t.event.dispatch.call(e,n,o),n.type=s}t.attrFn=t.attrFn||{};var n="ontouchstart"in window,o={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,shake_threshold:15,touch_capable:n,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:n?"touchstart":"mousedown",endevent:n?"touchend":"mouseup",moveevent:n?"touchmove":"mousemove",tapevent:n?"tap":"click",scrollevent:n?"touchmove":"scroll",hold_timer:null,tap_timer:null};t.touch={},t.isTouchCapable=function(){return o.touch_capable},t.getStartEvent=function(){return o.startevent},t.getEndEvent=function(){return o.endevent},t.getMoveEvent=function(){return o.moveevent},t.getTapEvent=function(){return o.tapevent},t.getScrollEvent=function(){return o.scrollevent},t.touch.setSwipeThresholdX=function(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");o.swipe_h_threshold=t},t.touch.setSwipeThresholdY=function(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");o.swipe_v_threshold=t},t.touch.setDoubleTapInt=function(t){if("number"!=typeof t)throw new Error("Interval parameter must be a type of number");o.doubletap_int=t},t.touch.setTapHoldThreshold=function(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");o.taphold_threshold=t},t.touch.setTapRange=function(t){if("number"!=typeof t)throw new Error("Ranger parameter must be a type of number");o.tap_pixel_range=t},t.each(["tapstart","tapend","tapmove","tap","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange","tap2","taphold2"],function(e,i){t.fn[i]=function(t){return t?this.on(i,t):this.trigger(i)},t.attrFn[i]=!0}),t.event.special.tapstart={setup:function(){var e=this,n=t(e);n.on(o.startevent,function s(t){if(n.data("callee",s),t.which&&1!==t.which)return!1;var r=n.get(0)!==window&&n.get(0)!==document?n.offset():{left:0,top:0},a=t.originalEvent,l={position:{x:o.touch_capable?a.touches[0].pageX:t.pageX,y:o.touch_capable?a.touches[0].pageY:t.pageY},offset:{x:o.touch_capable?Math.round(a.changedTouches[0].pageX-r.left):Math.round(t.pageX-r.left),y:o.touch_capable?Math.round(a.changedTouches[0].pageY-r.top):Math.round(t.pageY-r.top)},time:Date.now(),target:t.target};return i(e,"tapstart",t,l),!0})},remove:function(){t(this).off(o.startevent,t(this).data.callee)}},t.event.special.tapmove={setup:function(){var e=this,n=t(e);n.on(o.moveevent,function s(t){n.data("callee",s);var r=n.get(0)!==window&&n.get(0)!==document?n.offset():{left:0,top:0},a=t.originalEvent,l={position:{x:o.touch_capable?a.touches[0].pageX:t.pageX,y:o.touch_capable?a.touches[0].pageY:t.pageY},offset:{x:o.touch_capable?Math.round(a.changedTouches[0].pageX-r.left):Math.round(t.pageX-r.left),y:o.touch_capable?Math.round(a.changedTouches[0].pageY-r.top):Math.round(t.pageY-r.top)},time:Date.now(),target:t.target};return i(e,"tapmove",t,l),!0})},remove:function(){t(this).off(o.moveevent,t(this).data.callee)}},t.event.special.tapend={setup:function(){var e=this,n=t(e);n.on(o.endevent,function s(t){n.data("callee",s);var r=n.get(0)!==window&&n.get(0)!==document?n.offset():{left:0,top:0},a=t.originalEvent,l={position:{x:o.touch_capable?a.changedTouches[0].pageX:t.pageX,y:o.touch_capable?a.changedTouches[0].pageY:t.pageY},offset:{x:o.touch_capable?Math.round(a.changedTouches[0].pageX-r.left):Math.round(t.pageX-r.left),y:o.touch_capable?Math.round(a.changedTouches[0].pageY-r.top):Math.round(t.pageY-r.top)},time:Date.now(),target:t.target};return i(e,"tapend",t,l),!0})},remove:function(){t(this).off(o.endevent,t(this).data.callee)}},t.event.special.taphold={setup:function(){var e,n=this,s=t(n),r={x:0,y:0},a=0,l=0;s.on(o.startevent,function h(t){if(t.which&&1!==t.which)return!1;s.data("tapheld",!1),e=t.target;var c=t.originalEvent,u=Date.now();o.touch_capable?c.touches[0].pageX:t.pageX,o.touch_capable?c.touches[0].pageY:t.pageY,o.touch_capable?(c.touches[0].pageX,c.touches[0].target.offsetLeft):t.offsetX,o.touch_capable?(c.touches[0].pageY,c.touches[0].target.offsetTop):t.offsetY;r.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,r.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,a=r.x,l=r.y;var p=s.parent().data("threshold")?s.parent().data("threshold"):s.data("threshold"),d=void 0!==p&&!1!==p&&parseInt(p)?parseInt(p):o.taphold_threshold;return s.data("hold_timer",window.setTimeout(function(){var p=r.x-a,d=r.y-l;if(t.target==e&&(r.x==a&&r.y==l||p>=-o.tap_pixel_range&&p<=o.tap_pixel_range&&d>=-o.tap_pixel_range&&d<=o.tap_pixel_range)){s.data("tapheld",!0);for(var f=Date.now(),g=f-u,_=t.originalEvent.targetTouches?t.originalEvent.targetTouches:[t],m=[],v=s.get(0)!==window&&s.get(0)!==document?s.offset():{left:0,top:0},b=0;b<_.length;b++){var w={position:{x:o.touch_capable?c.changedTouches[b].pageX:t.pageX,y:o.touch_capable?c.changedTouches[b].pageY:t.pageY},offset:{x:o.touch_capable?Math.round(c.changedTouches[b].pageX-v.left):Math.round(t.pageX-v.left),y:o.touch_capable?Math.round(c.changedTouches[b].pageY-v.top):Math.round(t.pageY-v.top)},time:Date.now(),target:t.target,duration:g};m.push(w)}var y=2==_.length?"taphold2":"taphold";s.data("callee1",h),i(n,y,t,m)}},d)),!0}).on(o.endevent,function c(){s.data("callee2",c),s.data("tapheld",!1),window.clearTimeout(s.data("hold_timer"))}).on(o.moveevent,function u(t){s.data("callee3",u),a=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,l=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY})},remove:function(){t(this).off(o.startevent,t(this).data.callee1).off(o.endevent,t(this).data.callee2).off(o.moveevent,t(this).data.callee3)}},t.event.special.doubletap={setup:function(){var e,n,s,r,a=this,l=t(a),h=null,c=!1;l.on(o.startevent,function u(i){if(i.which&&1!==i.which)return!1;if(l.data("doubletapped",!1),e=i.target,l.data("callee1",u),s=i.originalEvent,!h){var n=l.get(0)!==window&&l.get(0)!==document?l.offset():{left:0,top:0};h={position:{x:o.touch_capable?s.touches[0].pageX:i.pageX,
y:o.touch_capable?s.touches[0].pageY:i.pageY},offset:{x:o.touch_capable?Math.round(s.changedTouches[0].pageX-n.left):Math.round(i.pageX-n.left),y:o.touch_capable?Math.round(s.changedTouches[0].pageY-n.top):Math.round(i.pageY-n.top)},time:Date.now(),target:i.target,element:i.originalEvent.srcElement,index:t(i.target).index()}}return!0}).on(o.endevent,function p(e){var u=Date.now(),d=l.data("lastTouch")||u+1,f=u-d;if(window.clearTimeout(n),l.data("callee2",p),f<o.doubletap_int&&t(e.target).index()==h.index&&f>100){l.data("doubletapped",!0),window.clearTimeout(o.tap_timer);var g=l.get(0)!==window&&l.get(0)!==document?l.offset():{left:0,top:0},_={position:{x:o.touch_capable?e.originalEvent.changedTouches[0].pageX:e.pageX,y:o.touch_capable?e.originalEvent.changedTouches[0].pageY:e.pageY},offset:{x:o.touch_capable?Math.round(s.changedTouches[0].pageX-g.left):Math.round(e.pageX-g.left),y:o.touch_capable?Math.round(s.changedTouches[0].pageY-g.top):Math.round(e.pageY-g.top)},time:Date.now(),target:e.target,element:e.originalEvent.srcElement,index:t(e.target).index()},m={firstTap:h,secondTap:_,interval:_.time-h.time};c||(i(a,"doubletap",e,m),h=null),c=!0,r=window.setTimeout(function(){c=!1},o.doubletap_int)}else l.data("lastTouch",u),n=window.setTimeout(function(){h=null,window.clearTimeout(n)},o.doubletap_int,[e]);l.data("lastTouch",u)})},remove:function(){t(this).off(o.startevent,t(this).data.callee1).off(o.endevent,t(this).data.callee2)}},t.event.special.singletap={setup:function(){var e=this,n=t(e),s=null,r=null,a={x:0,y:0};n.on(o.startevent,function l(t){return(!t.which||1===t.which)&&(r=Date.now(),s=t.target,n.data("callee1",l),a.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,a.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,!0)}).on(o.endevent,function h(t){if(n.data("callee2",h),t.target==s){var l=t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,c=t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageY:t.pageY;o.tap_timer=window.setTimeout(function(){var s=a.x-l,h=a.y-c;if(!n.data("doubletapped")&&!n.data("tapheld")&&(a.x==l&&a.y==c||s>=-o.tap_pixel_range&&s<=o.tap_pixel_range&&h>=-o.tap_pixel_range&&h<=o.tap_pixel_range)){var u=n.get(0)!==window&&n.get(0)!==document?n.offset():{left:0,top:0},p=t.originalEvent,d={position:{x:o.touch_capable?p.changedTouches[0].pageX:t.pageX,y:o.touch_capable?p.changedTouches[0].pageY:t.pageY},offset:{x:o.touch_capable?Math.round(p.changedTouches[0].pageX-u.left):Math.round(t.pageX-u.left),y:o.touch_capable?Math.round(p.changedTouches[0].pageY-u.top):Math.round(t.pageY-u.top)},time:Date.now(),target:t.target};d.time-r<o.taphold_threshold&&i(e,"singletap",t,d)}},o.doubletap_int)}})},remove:function(){t(this).off(o.startevent,t(this).data.callee1).off(o.endevent,t(this).data.callee2)}},t.event.special.tap={setup:function(){var e,n,s=this,r=t(s),a=!1,l=null,h={x:0,y:0};r.on(o.startevent,function c(t){return r.data("callee1",c),(!t.which||1===t.which)&&(a=!0,h.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,h.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,e=Date.now(),l=t.target,n=t.originalEvent.targetTouches?t.originalEvent.targetTouches:[t],!0)}).on(o.endevent,function u(t){r.data("callee2",u);var c=t.originalEvent.targetTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,p=t.originalEvent.targetTouches?t.originalEvent.changedTouches[0].pageY:t.pageY,d=h.x-c,f=h.y-p;if(l==t.target&&a&&Date.now()-e<o.taphold_threshold&&(h.x==c&&h.y==p||d>=-o.tap_pixel_range&&d<=o.tap_pixel_range&&f>=-o.tap_pixel_range&&f<=o.tap_pixel_range)){for(var g=r.get(0)!==window&&r.get(0)!==document?r.offset():{left:0,top:0},_=t.originalEvent,m=[],v=0;v<n.length;v++){var b={position:{x:o.touch_capable?_.changedTouches[v].pageX:t.pageX,y:o.touch_capable?_.changedTouches[v].pageY:t.pageY},offset:{x:o.touch_capable?Math.round(_.changedTouches[v].pageX-g.left):Math.round(t.pageX-g.left),y:o.touch_capable?Math.round(_.changedTouches[v].pageY-g.top):Math.round(t.pageY-g.top)},time:Date.now(),target:t.target};m.push(b)}var w=2==n.length?"tap2":"tap";i(s,w,t,m)}})},remove:function(){t(this).off(o.startevent,t(this).data.callee1).off(o.endevent,t(this).data.callee2)}},t.event.special.swipe={setup:function(){function e(i){a=t(i.currentTarget),a.data("callee1",e),c.x=i.originalEvent.targetTouches?i.originalEvent.targetTouches[0].pageX:i.pageX,c.y=i.originalEvent.targetTouches?i.originalEvent.targetTouches[0].pageY:i.pageY,u.x=c.x,u.y=c.y,l=!0;var n=a.get(0)!==window&&a.get(0)!==document?a.offset():{left:0,top:0},r=i.originalEvent;s={position:{x:o.touch_capable?r.touches[0].pageX:i.pageX,y:o.touch_capable?r.touches[0].pageY:i.pageY},offset:{x:o.touch_capable?Math.round(r.changedTouches[0].pageX-n.left):Math.round(i.pageX-n.left),y:o.touch_capable?Math.round(r.changedTouches[0].pageY-n.top):Math.round(i.pageY-n.top)},time:Date.now(),target:i.target}}function i(e){a=t(e.currentTarget),a.data("callee2",i),u.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,u.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY;var n,r=a.parent().data("xthreshold")?a.parent().data("xthreshold"):a.data("xthreshold"),p=a.parent().data("ythreshold")?a.parent().data("ythreshold"):a.data("ythreshold"),d=void 0!==r&&!1!==r&&parseInt(r)?parseInt(r):o.swipe_h_threshold,f=void 0!==p&&!1!==p&&parseInt(p)?parseInt(p):o.swipe_v_threshold;if(Math.abs(u.x-c.x)>Math.abs(u.y-c.y)?(c.x<u.x&&u.x-c.x>d&&(n="swiperight"),c.x>u.x&&c.x-u.x>d&&(n="swipeleft")):(c.y>u.y&&c.y-u.y>f&&(n="swipeup"),c.y<u.y&&u.y-c.y>f&&(n="swipedown")),n!=undefined&&l){c.x=0,c.y=0,u.x=0,u.y=0,l=!1;var g=a.get(0)!==window&&a.get(0)!==document?a.offset():{left:0,top:0},_=e.originalEvent,m={position:{x:o.touch_capable?_.touches[0].pageX:e.pageX,y:o.touch_capable?_.touches[0].pageY:e.pageY},offset:{x:o.touch_capable?Math.round(_.changedTouches[0].pageX-g.left):Math.round(e.pageX-g.left),y:o.touch_capable?Math.round(_.changedTouches[0].pageY-g.top):Math.round(e.pageY-g.top)},time:Date.now(),target:e.target},v=Math.abs(s.position.x-m.position.x),b=Math.abs(s.position.y-m.position.y),w={startEvnt:s,endEvnt:m,direction:n.replace("swipe",""),xAmount:v,yAmount:b,duration:m.time-s.time};h=!0,a.trigger("swipe",w).trigger(n,w)}}function n(e){a=t(e.currentTarget);var i="";if(a.data("callee3",n),h){var r=a.data("xthreshold"),c=a.data("ythreshold"),u=void 0!==r&&!1!==r&&parseInt(r)?parseInt(r):o.swipe_h_threshold,p=void 0!==c&&!1!==c&&parseInt(c)?parseInt(c):o.swipe_v_threshold,d=a.get(0)!==window&&a.get(0)!==document?a.offset():{left:0,top:0},f=e.originalEvent,g={position:{x:o.touch_capable?f.changedTouches[0].pageX:e.pageX,y:o.touch_capable?f.changedTouches[0].pageY:e.pageY},offset:{x:o.touch_capable?Math.round(f.changedTouches[0].pageX-d.left):Math.round(e.pageX-d.left),y:o.touch_capable?Math.round(f.changedTouches[0].pageY-d.top):Math.round(e.pageY-d.top)},time:Date.now(),target:e.target},_=Math.abs(s.position.x-g.position.x),m=Math.abs(s.position.y-g.position.y);_>m?(s.position.x<g.position.x&&g.position.x-s.position.x>u&&(i="swiperight"),s.position.x>g.position.x&&s.position.x-g.position.x>u&&(i="swipeleft")):(s.position.y>g.position.y&&s.position.y-g.position.y>p&&(i="swipeup"),s.position.y<g.position.y&&g.position.y-s.position.y>p&&(i="swipedown"));var v={startEvnt:s,endEvnt:g,direction:i.replace("swipe",""),xAmount:_,yAmount:m,duration:g.time-s.time};a.trigger("swipeend",v)}l=!1,h=!1}var s,r=this,a=t(r),l=!1,h=!1,c={x:0,y:0},u={x:0,y:0};a.on(o.startevent,e),a.on(o.moveevent,i),a.on(o.endevent,n)},remove:function(){t(this).off(o.startevent,t(this).data.callee1).off(o.moveevent,t(this).data.callee2).off(o.endevent,t(this).data.callee3)}},t.event.special.scrollstart={setup:function(){function e(t,e){n=e,i(r,n?"scrollstart":"scrollend",t)}var n,s,r=this,a=t(r);a.on(o.scrollevent,function l(t){a.data("callee",l),n||e(t,!0),clearTimeout(s),s=setTimeout(function(){e(t,!1)},50)})},remove:function(){t(this).off(o.scrollevent,t(this).data.callee)}};var s,r,a,l,h=t(window),c={0:!0,180:!0};if(o.orientation_support){var u=window.innerWidth||h.width(),p=window.innerHeight||h.height();a=u>p&&u-p>50,l=c[window.orientation],(a&&l||!a&&!l)&&(c={"-90":!0,90:!0})}t.event.special.orientationchange={setup:function(){return!o.orientation_support&&(r=s(),h.on("throttledresize",e),!0)},teardown:function(){return!o.orientation_support&&(h.off("throttledresize",e),!0)},add:function(t){var e=t.handler;t.handler=function(t){return t.orientation=s(),e.apply(this,arguments)}}},t.event.special.orientationchange.orientation=s=function(){var t=!0,e=document.documentElement;return t=o.orientation_support?c[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1,t?"portrait":"landscape"},t.event.special.throttledresize={setup:function(){t(this).on("resize",_)},teardown:function(){t(this).off("resize",_)}};var d,f,g,_=function(){f=Date.now(),g=f-m,g>=250?(m=f,t(this).trigger("throttledresize")):(d&&window.clearTimeout(d),d=window.setTimeout(e,250-g))},m=0;t.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap",taphold2:"taphold"},function(e,i){t.event.special[e]={setup:function(){t(this).on(i,t.noop)}}})}(jQuery),define("jquery-mobile-events",function(){}),define("text!lib/helpers/overlay/contextual_popup/alert.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n\t<div class="contextual-popup-actions">\n\t\t<button class="contextual-popup-content-close btn btn-danger" data-send-form="1">{{{ ok }}}</button>\n\t</div>\n</div>'}),define("text!lib/helpers/overlay/contextual_popup/confirm.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n\t<div class="contextual-popup-actions">\n\t\t<button class="ok-close btn btn-danger" data-send-form="1">{{{ ok }}}</button>\n\t\t<button class="contextual-popup-content-close btn btn-default">{{{ cancel }}}</button>\n\t</div>\n</div>'}),define("text!lib/helpers/overlay/contextual_popup/loading.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n</div>'}),define("lib/helpers/overlay/contextual_popup",["mustache","./box","../inline_loader","lib/i18n!front","text!./contextual_popup/alert.mustache","text!./contextual_popup/confirm.mustache","text!./contextual_popup/loading.mustache"],function(t,e,i,n,o,s,r){var a=function(){};return a.prototype={get_popup:function(i,n,o,s,r,a){i="boolean"!=typeof i||i;var l=e.get($("body"),i,"close").setContent($(t.render(o,s)));return a?l.cp_open_timer=setTimeout(function(){l.show("auto")},a):l.show("auto"),i?(l.setOverlayClosable(i),l.setEscapeClosable(i)):l.setOverlayReposition("auto"),n="contextual-popup"+("string"==typeof n?" "+n:""),l.addClass(n),a&&(l.normal_close=l.close,l.close=function(){l.cp_open_timer&&clearTimeout(l.cp_open_timer),l.normal_close()}),"function"==typeof r&&(l.onClose=r),l.getNode().find(".contextual-popup-content-close").on("click",function(){if($(this).data("send-form")){var t=l.getNode().find("form");t.length>0&&"function"==typeof l.onClose&&(l.onClose(t.serializeArray()),l.onClose=!1)}l.close()}),l},alert:function(t,e,i,s){var r={message:t,ok:n.__("misc.OK")};s&&s.text_ok&&(r.ok=s.text_ok);var a=!(!s||"number"!=typeof s.delay)&&s.delay;return this.get_popup(i,"contextual-popup-alert",o,r,e,a)},confirm:function(t,e,i,o,r){var a={message:t,ok:n.__("misc.OK"),cancel:n.__("misc.cancel")};r&&(r.text_ok&&(a.ok=r.text_ok),r.text_cancel&&(a.cancel=r.text_cancel));var l=!(!r||"number"!=typeof r.delay)&&r.delay,h=i;r&&"function"==typeof r.override_otherclose&&(h=r.override_otherclose);var c=this.get_popup(o,"contextual-popup-confirm",s,a,h,l);return r&&"function"==typeof r.override_otherclose&&c.getNode().find(".contextual-popup-content-close").off("click").on("click",function(){if("function"==typeof i){if($(this).data("send-form")){var t=c.getNode().find("form");if(t.length>0)return e(t.serializeArray()),c.onClose=null,void c.close()}i()}c.onClose=null,c.close()}),c.getNode().find(".ok-close").on("click",function(){if("function"==typeof e){if($(this).data("send-form")){var t=c.getNode().find("form");if(t.length>0)return e(t.serializeArray()),c.onClose=null,void c.close()}e()}c.onClose=null,c.close()}),c},loading:function(t,e){var o={message:i.getSafe("after",t||n.__("loading.loading")).getHtml()},s=!(!e||"number"!=typeof e.delay)&&e.delay;return this.get_popup(!1,"contextual-popup-loading",r,o,null,s)}},new a}),define("lib/helpers/thumbs/rotator",["lib/helpers/events","./engine_creator","jquery-mobile-events"],function(t,e){var i=function(){this.thumbs=$(),this.thumb,this.ori_src,this.is_video_thumb,this.is_profile_pic,this.is_video_pic,this.trigger_event,this.start_timer,this.last_start,this.touch_timer,this.max_nb_play=4,this.tmp_locked=!1,this.videopv_enabled=e.videopv_enabled,this.no_video_pv=null,this.initEngine(),this.testVideoPreview()};return i.prototype={ON_EVENT:/iPad|iPhone|iPod/.test(navigator.userAgent)?"swipe touchmove":"swipe touchstart mouseenter mousemove",addThumb:function(t){if(-1===this.thumbs.index(t)){var e=this;this.thumbs=this.thumbs.add($(t).on(this.ON_EVENT,function(t){var i=t.type;if("touchstart"!==i)e.start(this,i);else if(!e.touch_timer){var n=this;e.touch_timer=setTimeout(function(){e.touch_timer=null,e.start(n,i)},200)}}).on("touchend",function(){e.touch_timer&&clearTimeout(e.touch_timer)}).on("mouseleave",function(t){e.stop(t)}).on("mousedown",function(t){e.lock(t)}))}},initEngine:function(){var t=this,i=function(e){var i=!1,n=t.thumb;t.engine&&t.thumb&&(t.stop(!0),i=!0),t.engine=new e(t),i&&t.start(n,t.trigger_event)};e.create(i)},toggleVP:function(t){if(!e.videopv_allowed)return!1;if("boolean"!=typeof t)t=!this.videopv_enabled;else if(this.videopv_enabled===t)return!1;return null===this.no_video_pv&&this.testVideoPreview(!0),!0===this.no_video_pv&&t?(require(["lib/i18n!front","lib/helpers/overlay/contextual_popup"],function(t,e){var i;/iPad|iPhone|iPod/.test(navigator.userAgent)?i=t.__("rotator.ios_low_battery_alert"):(i="<p>"+t.__("rotator.allowed_multimedia_autoplay")+"</p>",/Firefox/.test(navigator.userAgent)&&(i+='<p><a href="https://support.mozilla.org/en-US/kb/playing-videos-firefox-android#w_disable-autoplay" target="_blank">'+t.__("misc.learn_how_here")+"</a></p>")),e.alert(i)}),!1):(this.videopv_enabled=t,e.videopv_enabled=this.videopv_enabled,this.initEngine(),this.onToggleVP(this.videopv_enabled),!0!==this.no_video_pv)},onToggleVP:function(t){},start:function(e,i){if(t.isScrolling())return!1;if($(e).hasClass("thumb-ad")&&this.engine!==this.ENGINE_MP4)return!1;if("mouseenter"===i&&this.tmp_locked){if(!((new Date).getTime()-this.tmp_locked>200))return;this.tmp_locked=!1}if(this.start_timer&&(window.clearTimeout(this.start_timer),this.start_timer=null),!this.thumb||!this.thumb.is(e)){var n=(new Date).getTime();if(this.last_start>0&&n-this.last_start<300||!this.engine){this.last_start=n;var o=this;return void(this.start_timer=window.setTimeout(function(){o.start(e,i)},300))}this.last_start=n,this.trigger_event=i,this.stop(!0),this.addThumbBlockStartedClass(e),this.thumb=$(e);var s=this.thumb.data("videos");if(this.is_video_thumb="object"!=typeof s,this.is_profile_pic=!1,this.is_video_pic=!1,this.is_video_thumb)this.engine.startVideoPic(this.thumb);else{if(this.ori_src=this.thumb.attr("src"),this.ori_src.indexOf("/profthumb/")>0&&(!s||0===s.length))return this.thumb.off("swipe touchstart mouseenter mouseleave mousedown"),void(this.thumb=null);if(this.is_profile_pic=this.thumb.hasClass("profile-pic"),this.is_video_pic=this.thumb.hasClass("video-pic"),(!s||0===s.length)&&(!this.engine.is_video_engine||this.is_profile_pic))return;this.engine.startProfilePic(this.thumb,s)}}},stop:function(t,e){if(this.engine){if(!0!==t){if("swipe"===this.trigger_event)return;if(this.engine.isStillOnThumb(t.target))return}e&&(this.tmp_locked=(new Date).getTime()),this.engine.stop(),this.thumb&&(this.removeThumbBlockStartedClass(this.thumb),this.is_video_pic&&this.thumb.addClass("video-pic"),this.is_video_thumb||this.thumb.attr("src",this.ori_src),this.is_profile_pic&&this.thumb.addClass("profile-pic"),this.thumb=null)}},lock:function(t){1!==t.which||t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||(this.thumbs.off("swipe touchstart mouseenter mouseleave"),this.stop(!0))},addThumbBlockStartedClass:function(t){var e=$(t).parents(".thumb-block");e.length||(e=$(t).parents(".thumb")),e.addClass("rotator-started")},removeThumbBlockStartedClass:function(t){var e=$(t).parents(".thumb-block");e.length||(e=$(t).parents(".thumb")),e.removeClass("rotator-started")},testVideoPreview:function(t){if(!/iPad|iPhone|iPod|Firefox/.test(navigator.userAgent)&&!xv.conf.dyn.is_desktop||!e.videopv_allowed)return void(this.no_video_pv=!1);if(!0!==this.no_video_pv&&(e.videopv_enabled||!0===t)){var i=document.createElement("video");i.src=xv.conf.domains["static"]+"/v3/img/skins/common/blank.mp4",i.muted=!0,i.style.position="fixed",i.style.left="1px",i.style.top="1px",i.style.opacity="0.1",i.style.height="2px",i.style.width="2px",i.style.zIndex="9999",bVidRemoved=!1;var n=this;xv.dom.addEventListener(i,"suspend",function(){!0!==bVidRemoved&&null===n.no_video_pv&&(n.no_video_pv=!0,setTimeout(function(){!1===bVidRemoved&&(bVidRemoved=!0,n.toggleVP(!1),document.body.removeChild(i))},500))}),xv.dom.addEventListener(i,"play",function(){!0!==bVidRemoved&&!1!==n.no_video_pv&&(n.no_video_pv=!1,!1===bVidRemoved&&(bVidRemoved=!0,document.body.removeChild(i)))}),i.autoplay="autoplay",i.disableRemotePlayback=!0,i.playsInline=!0,document.body.appendChild(i)}}},i}),define("lib/helpers/thumbs_rotator",["./thumbs/rotator","./events"],function(t,e){var i,n,o,s,r=new t,a=0,l=function(){r.addThumb(this)};s=function(t,e){if(e)$(".thumb img",t).not(".no-rotate").each(l);else{var i=$(".thumb-block",t).not(".no-rotate");if(0===i.length&&(t&&t.length>0&&t.each(function(){$(this).is(".thumb-block:not(.no-rotate)")&&(i=i.add($(this)))}),0===i.length))return;i.find(".thumb img").each(l)}},s.video_preview=r.videopv_enabled,s.toggle_vp=function(){return r.toggleVP()},s.update_vp=function(t){s.video_preview=t,"undefined"!=typeof xv.settings_btn&&"function"==typeof xv.settings_btn.updateVideoPreviewBtn&&xv.settings_btn.updateVideoPreviewBtn()},r.onToggleVP=function(t){s.update_vp(t)},s.createEngine=function(){},s(),e.addListener(e.TAB_HIDDEN,function(){r.stop(!0)});var h=function(){if(i=null,a=(new Date).getTime(),r.thumb){var t=r.thumb.offset();if(n<t.left||o<t.top)return void r.stop(!0);var e=r.thumb.outerWidth(!0),s=r.thumb.outerHeight(!0);return n>t.left+e||o>t.top+s?void r.stop(!0):void 0}};return $(window).on("mousemove",function(t){if(n=t.pageX,o=t.pageY,!i){var e=(new Date).getTime()-a;if(e<950)return void(i=window.setTimeout(h,1e3-e));h()}}),s}),define("lib/helpers/thumbs/wall",["./engine_creator"],function(t){var e=function(t,e){this.wall=t,this.thumb=$(e),this.playing=!1,this.max_nb_play=10,this.initEngine()};e.prototype={initEngine:function(){var e=this,i=function(t){e.engine=new t(e),e.checkPreview()};t.create(i)},shouldPlay:function(){return!!this.wall.playing&&this.wall.isInView(this.thumb,!0)},checkPreview:function(){if(this.engine)return this.shouldPlay()?void(this.playing||(this.playing=!0,this.engine.startVideoPic(this.thumb))):(this.engine.stop(),void(this.playing=!1))},stop:function(){}};var i=function(t){this.container=t,this.thumbs=[],this.playing=!0;var e=this,i=!1,n=null,o=null;this.container.on("scroll",function(){e.playing&&(i||e.start(),!0!==i&&(n=setTimeout(function(){i=!0},100)),clearTimeout(o),o=setTimeout(function(){clearTimeout(n),i=!1,e.start()},200))}),this.container.find(".thumb-block .thumb img,.wall-autoplay").each(function(){e.addThumb(this)})};return i.prototype={addThumb:function(t){for(var i in this.thumbs)if(this.thumbs[i].thumb.is(t))return;var n=new e(this,t);this.thumbs.push(n),n.checkPreview()},clear:function(){var t=this.playing;this.playing=!1;for(var e in this.thumbs)this.thumbs[e].checkPreview(),delete this.thumbs[e];this.thumbs=[],this.playing=t},isInView:function(t,e){var i=this.container.height(),n=t.offset().top-this.container.offset().top,o=n+t.height();return n>=0&&o<=i||!!e&&(n<0&&o>0||n>0&&n<=i)},start:function(){this.playing=!0;var t=0;for(var e in this.thumbs)this.thumbs[e].checkPreview(),this.thumbs[e].playing&&t++},stop:function(){this.playing=!1;for(var t in this.thumbs)this.thumbs[t].checkPreview()}},i}),define("skins/common/mozaique/premium_redirect_alert",["config/main"],function(t){var e=function(){};return e.prototype={init_listing:function(e){if("default"===t.sitename||"xnxx"===t.sitename){var i=t.dyn.is_premium?"toFree":"toPremium";require(["lib/i18n!front","mustache","lib/helpers/overlay/box","lib/helpers/thumbs_rotator","lib/helpers/thumbs/wall","text!skins/"+t.sitename+"/mozaique/premium_redirect_alert.mustache","text!skins/"+t.sitename+"/header/"+("toPremium"===i?"premium_logo":"logo")+".mustache"],function(n,o,s,r,a,l,h){var c=$(".thumb-block"+("toPremium"===i?"[data-is-premium]":":not([data-is-channel]):not([data-is-premium])"),e);if(c.length||(e&&e.length&&e.each(function(){$(this).hasClass("thumb-block")&&("toPremium"===i&&$(this).data("is-premium")||"toFree"===i&&!$(this).data("is-premium")&&!$(this).data("is-channel"))&&(c=c.add($(this)))}),c.length)){var u=function(e,s,r){return"toPremium"===i?$(o.render(l,{sTxt1:n.__("video.only_available_on",{"%site%":o.render(h,{sStaticDom:t.domains["static"]})}),sTxt2:n.__("premium.subscribe_enjoy"),sImgSrc:s,sStaticDom:t.domains["static"],sHref:e,sEnter:n.__("misc.enter_site",{"%site%":"default"===t.sitename?"RED":"GOLD"}),bCover:r})):$(o.render(l,{sTxt1:n.__("video.only_available_on",{"%site%":o.render(h,{sStaticDom:t.domains["static"]})}),sTxt2:n.__("premium.come_back_anytime",{"%site%":"default"===t.sitename?"RED":"GOLD"}),sImgSrc:s,sStaticDom:t.domains["static"],sHref:e,sEnter:n.__("misc.enter_free_site"),bCover:r}))},p="toPremium"===i?t.domains.premium:t.domains.slave;c.each(function(){if("video_"===$(this).prop("id").substr(0,6)){var t=$(this).find("a").not(".thumb-block .metadata a"),e=t.first(),i=p+e.prop("pathname")+e.prop("search")+e.prop("hash"),n=$(this).find(".thumb a img").prop("src"),o=$(this).find(".cover-thumb").length>0,l=!$(this).hasClass("no-rotate");t.on("click",function(t){t.preventDefault();var e=s.get($("body"),!0,null,!0),h=u(i,n,o);e.setOverlayClosable(!0),e.setEscapeClosable(!0),e.addClass("auto-width-popup"),e.setContent(h),e.onShow=function(){l&&r.video_preview&&new a(e.node.find(".video"))},e.show("auto"),h.find(".btn-primary").on("click",function(){e.close()})})}})}})}},test_referrer:function(){return""!==document.referrer&&(!(!t.dyn.is_premium||t.dyn.is_premium&&-1===document.referrer.indexOf(t.domains.slave))&&(-1===document.referrer.indexOf(document.location.hostname)||void 0))},displayPopup:function(e,i,n){require(["lib/i18n!front","mustache","lib/helpers/overlay/box","text!skins/"+t.sitename+"/mozaique/switch_redirect_alert.mustache"],function(o,s,r,a){var l=function(){var i,n;return"default"===t.sitename?t.dyn.is_premium&&"welcome"===e||!t.dyn.is_premium&&"exit"===e?(i="XVIDEOS RED",n='<svg class="logo" height="50" width="200"><image xlink:href="'+t.domains["static"]+'/v3/img/skins/default/xvideos.com.svg" src="'+t.domains["static"]+'/v3/img/skins/default/xvideos.com.png" title="'+i+'" class="no-blur" height="50" width="200"></image></svg><span class="icon-f icf-ticket-red icf-white-fill" title="RED"></span>'):(i="XVIDEOS",n='<svg class="logo" height="50" width="200"><image xlink:href="'+t.domains["static"]+'/v3/img/skins/default/xvideos.com.svg" src="'+t.domains["static"]+'/v3/img/skins/default/xvideos.com.png" title="'+i+'" class="no-blur" height="50" width="200"></image></svg>'):t.dyn.is_premium&&"welcome"===e||!t.dyn.is_premium&&"exit"===e?(i="XNXX GOLD",n='<img class="logo" src="'+t.domains["static"]+"/v3/img/skins/"+t.sitename+'/logo/xnxx-gold.png" alt="'+i+'" title="'+i+'"> <span class="gold-plate big-plate">GOLD</span>'):(i="XNXX",n='<img class="logo" src="'+t.domains["static"]+"/v3/img/skins/"+t.sitename+'/logo/xnxx.png" alt="'+i+'" title="'+i+'">'),$(s.render(a,{sTitle:"welcome"===e?o.__("legal.welcome"):o.__("legal.redirect"),$Logo:n,sEnter:o.__("misc.enter_site",{"%site%":i})}))}(),h=r.get($("body"),!0,null,!0),c="popup_redirect_domain_"+(t.dyn.is_premium?"premium_":"free_")+e,u=xv.storage.get(c);null===u||(new Date).getTime()>u.t?(u={i:null,t:null},function(){h.setOverlayClosable(!0),h.setEscapeClosable(!0),h.addClass("auto-width-popup over-overlay"),h.setContent(l),h.show("auto")}()):"function"==typeof n&&n(),h.onClose=function(){"function"==typeof i&&i()},l.find(".btn-primary").on("click",function(t){if(t.preventDefault(),1!==u.i){var e=(new Date).getTime()+36e5;xv.storage.remove(c),xv.storage.set(c,{i:1,t:e},e)}if("function"==typeof n)return void n();h.close()})})}},new e}),define("skins/default/header/categories",["config/main","mustache","static/cookies","lib/helpers/overlay","lib/helpers/popup","lib/i18n!front","./click_ordered_label_list","skins/common/geo_switch/geo_switch","skins/common/features_test/videos_i_like","skins/common/features_test/video_subs"],function(t,e,i,n,o,s,r,a,l,h){var c=$("#nav .main-categories");if(0!==c.length){var u=c.find("a.view-more").parent();if(0!==u.length){var p=c.find(".topterm"),d=c.find(".topcat"),f=!1;if(new r($("#main-cat-sub-list li"),"main_cat_list",{toggle_btn:!0,toggle_btn_label_disabled:"<span class='mobile-show-inline'>"+s.__("order.a_z")+"</span>",toggle_btn_label_enabled:"<span class='mobile-show-inline'>"+s.__("misc.top")+"</span>",copy_last_elems_to:$("#last-main-cats-visited"),copy_last_elems_limit:6}),!t.dyn.login_info.is_logged){l.getIds().length||$("#mc-vidsilike").remove();h.getIds().length||$("#mc-mysubs").remove()}var g=$();$("#nav .main-categories a.red-label").each(function(){g=g.add($(this).parent("li"))}),new r(g,"main_cat_redlabel");var _=$("#nav .main-categories a.red-ticket");_.length&&(_.data("no-redirect",1),_.on("click",function(e){e.preventDefault(),require(["skins/common/mozaique/premium_redirect_alert"],function(e){var i=function(){document.location.href=t.domains.premium+"/red/videos"};e.displayPopup("exit",null,i)})})),xv.header||(xv.header={}),xv.header.categories||(xv.header.categories={}),xv.header.categories.position=function(){var t=p.add(d).filter(":visible").first().outerHeight(!0);if(p.removeClass("hidden"),d.removeClass("hidden"),"function"==typeof xv.header.is_menu_opened&&!xv.header.is_mobile()&&xv.header.is_menu_opened()){if(0===p.length||p.last().position().top<2*t-1)return void u.addClass("hidden");if(!f){var e,i=3,n=$(window).width(),o="function"==typeof window.matchMedia,s=o&&window.matchMedia("(max-width: 1200px)").matches||!o&&n<1200,r=o&&window.matchMedia("(max-width: 1000px)").matches||!o&&n<1e3,a=o&&window.matchMedia("(min-aspect-ratio: 1/1)").matches||!o&&$(window).height()<n;for(s&&a?i=2:r&&(i=4),e=20;e>0;e--)if(p.filter(".topterm-"+e+":not(.clicked)").addClass("hidden"),u.position().top<i*t-1)return;if(u.position().top>=i*t-1){for(e=0;e<d.length;e++)if(d.filter(".topcat-"+e+":not(.clicked)").addClass("hidden"),u.position().top<i*t-1)return;if(u.position().top>=i*t-1){for(e=20;e>0;e--)if(p.filter(".topterm-"+e).addClass("hidden"),u.position().top<i*t-1)return;if(u.position().top>=i*t-1)for(e=0;e<d.length;e++)if(d.filter(".topcat-"+e).addClass("hidden"),u.position().top<i*t-1)return}}}}},xv.header.categories.position(),$(window).on("resize",function(){xv.header.categories.position()});var m=u.children("a").on("click",function(){f=!f,m.html(f?"-":"+"),c.toggleClass("opened",f),xv.header.categories.position()});$("#nav_subs").length>0&&"function"==typeof xv.header.add_mobile_menu_init&&xv.header.add_mobile_menu_init(function(){a.set_simple_list_elem($("#nav_subs"),"version-country-switch-list","country-switch-list",function(){xv.header.add_sub_menu(document.getElementById("version-country-switch-a"),document.getElementById("version-country-switch-list"),!1,!1,!1,{already_opened_func:xv.header.open_default_sub_menu}),$("#version-country-switch-a").addClass("init-ok")})})}}}),define("skins/default/header/header",["./autocomplete","./categories"],function(){}),define("skins/default/http_status",["./header/header"],function(){}),define("lib/helpers/suggest_tracker",["static/cookies","config/main"],function(t,e){var i=function(){this.active_tracking=!1,this.thumb_list=!1,this.thumb_subscribe=!1,this.view_list={},this.view_list.t=[],this.view_list.s=[],this.view_list.p=[],this.view_list.r=[],this.cookie_name="pending_thumb",this.init_tracking()};return i.prototype={init_tracking:function(){this.active_tracking=!0,e.dyn.is_premium?this.thumb_list=$(".thumb-block").not(".thumb-block-premium-feed-channel"):this.thumb_list=$(".video-suggest");var i=t.get(this.cookie_name);if(i){var n=JSON.parse(i);n&&(this.view_list=n)}var o=2e3;e.dyn.is_desktop&&(o=6e3);var s=this;setInterval(function(){e.dyn.is_premium?s.thumb_list=$(".thumb-block").not(":hidden").not(".thumb-block-premium-feed-channel"):s.thumb_list=$(".video-suggest").not(":hidden"),s.checkViewed()},o),s.checkViewed(),window.addEventListener("beforeunload",function(){s.saveCookie()})},checkViewed:function(){if(!this.thumb_list)return void console.error("Suggest : No video detected");var t=this;this.thumb_list=jQuery.grep(this.thumb_list,function(i){if(!i.getBoundingClientRect)return console.error("Failed for ",i),!1;var n=i.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;if(n.top<0)return i.last_seen=0,!0;if(n.left<0)return i.last_seen=0,!0;if(n.top>o-n.height)return i.last_seen=0,!0;if(!i.last_seen)return i.last_seen=(new Date).getTime(),!0;if((new Date).getTime()-i.last_seen<900)return!0;i.setAttribute("data-seen","true");var s=i.getAttribute("data-id"),r=i.getAttribute("data-sub");return s?(!t.view_list.t.includes(s)&&t.view_list.t.length<50&&t.view_list.t.push(s),$(i).hasClass("suggest-subscribed")&&(t.view_list.s.includes(s+"-"+r)||t.view_list.s.push(s+"-"+r)),($(i).hasClass("suggest-premium")||e.dyn.is_premium)&&t.view_list.p.length<50&&(t.view_list.p.includes(s)||t.view_list.p.push(s)),$(i).hasClass("suggest-regular")&&(t.view_list.r.includes(s)||t.view_list.r.push(s)),!1):(console.error("Bad thumb id",i.id),!1)})},saveCookie:function(){t.setLocal(this.cookie_name,JSON.stringify(this.view_list),108e5,"/")}},new i}),define("skins/common/main_regional",["config/main","lib/tools","lib/helpers/thumbs_rotator"],function(t,e,i){if(t.data.id_regional){var n=$(document),o=$("#content .mozaique"),s=1,r=!1,a=o.children().last(),l=a.offset().top,h=function(t){if($.trim(t).length<200)return void(s=!1);s++,o.append(e.replaceThumbcast(t.replace(/\\'/gi,"'"))),e.executePendingPrepare(o.find(".thumb-block")),i(a.nextAll(),!0),a=o.children().last(),l=a.offset().top},c=function(){r||!1===s||n.scrollTop()+2.5*$(window).height()<l||(r=!0,$.get("/regional-home/"+t.data.id_regional+"/"+s,h,"html").always(function(){r=!1,c()}))};$(window).on("scroll",c).on("resize",function(){l=a.offset().top,c()})}}),define("skins/default/main",["static/cookies","lib/helpers/thumbs_rotator","lib/helpers/suggest_tracker","./header/header","skins/common/main_regional"],function(t){var e=$("#show-more-best");e.length>0&&e.on("click",function(){t.setLocal("hexavid_bestall","1",3e4,"/")})});