(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{22:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var i=n(13),o=n(1),a=n(23),r=n.n(a),l=(n(2),n(3));function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,n,i,a=c(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),f(p(t=a.call(this,e)),"updateSlider",(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=p(t),n=t.playerView.currentPlayer;if(e.isOpen){var i;n.muted?(i=0,e._slider.setValue(0,0,!0,!0)):(i=n.volume,e._slider.setValue(n.volume,0,!0,!0));var o=i*e.volSlider.clientWidth;e.volSliderFill.setAttribute("style","width:".concat(o,"px;"))}})),f(p(t),"_dragStopCallback",(function(){})),f(p(t),"_sliderCallback",(function(e){var n=p(t),i=e*n.volSlider.clientWidth;n.volSliderFill.setAttribute("style","width:".concat(i,"px;")),n._dispatchEvent(l.a.VALUE_CHANGED,e)}));var n=p(t);return n.showForThreeSeconds=!1,n.playerView=window.PlayerView,n._container=document.getElementById("sound-control"),n.soundBtn=document.getElementById("sound-btn"),n.volSlider=document.getElementById("volume-slider"),n.volSliderFill=document.getElementById("volume-slider-fill"),n.volSliderHandle=document.getElementById("volume-slider-handle"),n.volSliderWidth=0,n.invalidate=n.invalidate.bind(p(t)),t}return t=d,(n=[{key:"init",value:function(){var e=this,t=this;t.soundBtn.addEventListener("click",(function(t){var n=e;t.stopImmediatePropagation(),t.stopPropagation(),window.client.isMobile||window.PlayerSettings.tinyPlayer||n.showForThreeSeconds?n.playerView._dispatchEvent(l.a.UI.Event.TOGGLE_MUTE):(n.playerView._dispatchEvent(l.a.UI.Event.TOGGLE_MUTE),n.volSlider&&n.open())})),t.volSlider&&(t._slider=new r.a("volume-slider",{handleClass:"bolt-handle",dragStopCallback:t._dragStopCallback,animationCallback:t._sliderCallback}),t.playerView.addEventListener(l.a.Media.Event.MUTED,t.invalidate),t.playerView.addEventListener(l.a.Media.Event.UNMUTED,t.invalidate),t.playerView.addEventListener(l.a.Media.Event.VOLUME_CHANGED,t.invalidate))}},{key:"updateAppearance",value:function(){}},{key:"setPlayer",value:function(){}},{key:"setVolumeSliderWidth",value:function(e){var t=this;t.volSlider.setAttribute("style","width:".concat(e,"px")),e>0?setTimeout((function(){t._slider.reflow(),t.updateSlider(),Object(o.d)(t.volSliderHandle,"bolt-hidden")}),100):(Object(o.a)(t.volSlider,"bolt-hidden"),Object(o.a)(t.volSliderHandle,"bolt-hidden"))}},{key:"invalidate",value:function(){this.updateSlider()}},{key:"open",value:function(){var e=this;e.volSlider&&!e.isOpen&&(e.isOpen=!0,e.volSlider&&(Object(o.d)(e.volSlider,"bolt-hidden"),Object(o.a)(e._container,"expand"),Object(o.a)(e._container,"no-hover"),e._container.setAttribute("style","width: 100%;"),setTimeout((function(){e.setVolumeSliderWidth(e._container.clientWidth-100),e.invalidate()}),300)),e._dispatchEvent(d.OPENED))}},{key:"close",value:function(){var e=this;e.volSlider&&e.isOpen&&(e.isOpen=!1,Object(o.d)(e._container,"expand"),Object(o.d)(e._container,"no-hover"),e.volSlider&&(e._container.removeAttribute("style","width: 100%;"),e.setVolumeSliderWidth(0)),e.invalidate(),setTimeout((function(){e._dispatchEvent(d.CLOSED)}),500))}}])&&s(t.prototype,n),i&&s(t,i),d}(i.a);f(b,"OPENED","soundcontrol opened"),f(b,"CLOSED","soundcontrol closed")},30:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(2),o=n(0),a=n(1),r=n(4),l=n(3),d=n(22);function s(e){throw new TypeError('"'+e+'" is read-only')}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=new i.a("CONTROL-BAR"),p=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"playerView",void 0),c(this,"playerSettings",void 0),c(this,"_keepClosed",void 0),c(this,"zeus",void 0),c(this,"state",{volumeExpanded:!1}),c(this,"mouseEnter",void 0),c(this,"_isBoltSticky",document.body.classList.contains("is-sticky-module")),c(this,"adManager",void 0),c(this,"onSoundBtnContainerMouseLeave",(function(){t.soundControl.close()})),c(this,"_onFullscreenBtnClick",(function(e){var n=t;e.stopPropagation(),e.preventDefault(),window.client.system.ios&&n.playerSettings.autoplay&&n.playerView.currentPlayer.isAd()&&(n.contentPlayer.metadata||n.contentPlayer.touch()),n.playerView.toggleFullscreen()})),c(this,"startMobileControlbarTimer",(function(){var e=t;clearTimeout(e.mobileCloseControlbarTimer),e.mobileCloseControlbarTimer=setTimeout((function(){e.tapOn=!1,e.close()}),2e3)})),c(this,"handleSoundControlEvents",(function(){var e=t,n=[e.playpauseBtn,e.fullscreenBtn];e.fullscreenBtn||(s("otherButtons"),n=n.pop()),e.playpauseBtn||(s("otherButtons"),n=n.shift()),e.soundControl&&(e.soundControl.isOpen?(e.setButtonsHidden(n,!0),n.push(e.soundBtnContainer),e.setButtonsInvisible(n,!1)):(e.setButtonsHidden(n,!1),e.soundControl.showForThreeSeconds?e.setButtonsInvisible(n,!0):(n.push(e.soundBtnContainer),e.setButtonsInvisible(n,!1))))})),c(this,"handleMediaEvents",(function(e){var n=t;switch(e.type){case l.a.Media.Event.STOPPED:case l.a.Media.Event.TIME_UPDATE:n.updateTimeLabels();break;case l.a.Media.Event.DURATION_CHANGE:n.playerView.currentPlayer.sourceChanged&&n.updateTimeLabels();break;case l.a.Media.Event.PLAY:n.playerView.currentPlayer.isAd()&&n.open()}}));var n=this;n.mobileCloseControlbarTimer=null,n._container=Object(r.a)(l.a.UI.CONTROLBAR),n.playerView=window.PlayerView,n.playerSettings=window.PlayerSettings,n.zeus=window.Zeus,n.durationText=Object(r.a)(l.a.UI.CURRENT_DURATION_TEXT),n.currentTimeText=Object(r.a)(l.a.UI.CURRENT_TIME_TEXT),n.adUnmuteButton=window.client.isMobile?document.getElementById("mobile-ad-unmute-btn"):document.getElementById("desktop-ad-unmute-btn"),n.adPlayPauseBtn=!!window.client.isMobile&&document.getElementById("mobile-ad-play-pause-btn"),n.playpauseBtn=document.getElementById("play-pause-btn"),n.fullscreenBtn=document.getElementById("fullscreen-btn"),n.soundBtnContainer=document.getElementById("sound-control"),n.soundBtnContainer.addEventListener("mouseleave",n.onSoundBtnContainerMouseLeave),n.wrap=document.body.querySelector("#control-bar .wrap"),n.wrapperWidth=0,n.bottomLeft=Object(r.a)(l.a.UI.BOTTOM_LEFT),n.bottomRight=Object(r.a)(l.a.UI.BOTTOM_RIGHT),window.CurrentVideoConfig.settings.autoplay||(n.bottomLeft.style.display="none",n.bottomRight.style.display="none")}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;e.adManager=window.BoltAdManager,e.setSoundControl(e.playerView._volumeControl),e._container.addEventListener("click",(function(t){e.playerView.currentPlayer.isAd()||e._container.id!==t.target.id||window.PlayerView._dispatchEvent(l.a.UI.Event.PLAYPAUSE)})),e.playpauseBtn&&e.playpauseBtn.addEventListener("click",(function(t){t.stopPropagation(),y.info("playPauseBtnClick"),window.PlayerView._dispatchEvent(l.a.UI.Event.PLAYPAUSE),e.close()})),e.adUnmuteButton&&e.adUnmuteButton.addEventListener("click",(function(t){t.stopPropagation(),e.playerView._dispatchEvent(l.a.UI.Event.TOGGLE_MUTE)})),e.adPlayPauseBtn&&e.adPlayPauseBtn.addEventListener("click",(function(t){t.stopPropagation(),y.info("playPauseBtnClick"),window.PlayerView._dispatchEvent(l.a.UI.Event.PLAYPAUSE),e.close()})),e.playerView.addEventListener(l.a.Media.Event.UNMUTED,(function(){e.invalidate()})),e.playerView.addEventListener(l.a.UI.Event.PLAYER_CHANGED,(function(){e.playerView.currentPlayer.isAd()&&e.close()})),window.PlayerState.on(window.PlayerState.STATE_CHANGED,(function(){e.invalidate()})),e.fullscreenBtn&&e.fullscreenBtn.addEventListener("click",e._onFullscreenBtnClick),window.client.isMobile?window.document.body.addEventListener("click",(function(t){e.tapOn=!0,e.startMobileControlbarTimer(),e.invalidate()})):(window.PlayerView.on(l.a.UI.Event.MOUSE_OVER,(function(){e.mouseEnter=!0,e.invalidate()})),window.PlayerView.on(l.a.UI.Event.MOUSE_OUT,(function(){e.mouseEnter=!1,e.invalidate()}))),e.setUpMediaEventListeners()}},{key:"setButtonsInvisible",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){e&&(t?Object(a.a)(e,"bolt-invisible"):Object(a.d)(e,"bolt-invisible"))}))}},{key:"setButtonsHidden",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){e&&(t?Object(a.a)(e,"bolt-hidden"):Object(a.d)(e,"bolt-hidden"))}))}},{key:"setSoundControl",value:function(e){var t=this;t.soundControl=e,t.soundControl.addEventListener(d.default.OPENED,t.handleSoundControlEvents),t.soundControl.addEventListener(d.default.CLOSED,t.handleSoundControlEvents),t.soundControl.init()}},{key:"setUpMediaEventListeners",value:function(){var e=this;e.playerView.addEventListener(l.a.Media.Event.STOPPED,e.handleMediaEvents),e.playerView.addEventListener(l.a.Media.Event.TIME_UPDATE,e.handleMediaEvents),e.playerView.addEventListener(l.a.Media.Event.DURATION_CHANGE,e.handleMediaEvents),e.playerView.addEventListener(l.a.Media.Event.PLAY,e.handleMediaEvents)}},{key:"updateAppearance",value:function(){}},{key:"invalidate",value:function(){var e=this,t=e.playerView.currentPlayer;window.PlayerSettings.autoplay||window.PlayerState.state===window.PlayerState.START&&e.open(),t.isAd()?window.PlayerState.state===window.PlayerState.PAUSED&&e.open():window.PlayerState.state===window.PlayerState.PAUSED?e.open():window.PlayerState.state===window.PlayerState.PLAYING?window.client.isMobile?e.tapOn&&e.open():e.mouseEnter?e.open():e.close():window.PlayerState.state===window.PlayerState.ENDED&&e.open(),t.isAd()?(Object(a.d)(e.adUnmuteButton,"bolt-hidden"),e.adPlayPauseBtn&&Object(a.d)(e.adPlayPauseBtn,"bolt-hidden"),e.bottomLeft.style.display="inline",e.bottomRight.style.display="none"):(Object(a.a)(e.adUnmuteButton,"bolt-hidden"),e.adPlayPauseBtn&&Object(a.a)(e.adPlayPauseBtn,"bolt-hidden"),e.isOpen?(e.bottomLeft.style.display="inline",e.bottomRight.style.display="inline"):(e.bottomLeft.style.display="none",e.bottomRight.style.display="none"));var n=e._isBoltSticky&&!t.hasStarted;e.isOpen&&!n?(Object(a.a)(e._container,"faded-in"),Object(a.d)(e._container,"faded-out")):(Object(a.a)(e._container,"faded-out"),Object(a.d)(e._container,"faded-in")),e.playerView._scrubber.invalidate(),e.updateTimeLabels(),e.isOpen?(this._container.style.visibility="visible",this._container.style.display="block"):(this._container.style.visibility="hidden",this._container.style.display="block",e.soundControl&&e.soundControl.close())}},{key:"updateTimeLabels",value:function(){var e,t=this,n=window.PlayerView.currentPlayer;if(window.PlayerState.state===window.PlayerState.START)t.currentTimeText.textContent=" ",t.durationText.textContent=" ",!n.isAd()&&window.CurrentVideoConfig.duration>0&&(t.currentTimeText.textContent="0:00",t.durationText.textContent="".concat(Object(o.D)((window.CurrentVideoConfig.duration/1e3).toString())));else try{n.duration>0&&(n.isAd()?(t.durationText.textContent=" ",n.getCurrentTime()>=0&&(e=n.duration-n.getCurrentTime())<0&&(e=null)):(t.durationText.textContent="".concat(Object(o.D)(n.duration.toString())),e=n.currentTime)),t.currentTimeText.textContent=e?Object(o.D)(e.toString()):" "}catch(e){t.durationText.textContent=" ",t.currentTimeText.textContent=" "}}},{key:"open",value:function(e){var t=this,n=t.playerView.currentPlayer;this.isOpen||t._keepClosed||n.isAd()&&!n.paused||(this.isOpen=!0,"function"==typeof e&&e.call(),t.invalidate())}},{key:"close",value:function(e){!this._keepOpen&&this.isOpen&&(this.isOpen=!1,"function"==typeof e&&e.call(),this.invalidate())}}])&&u(t.prototype,n),i&&u(t,i),e}()}}]);