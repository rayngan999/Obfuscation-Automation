var mi=mi||{media_domain:""};mi.Cookie=function(e,t,n,o,i,a){this.$document=e||window.document,this.$name=t||"cookie",this.$expiration=n?new Date((new Date).getTime()+6e4*n):null,this.$path=o||null,this.$domain=i||null,this.$secure=!!a},mi.Cookie.prototype.store=function(e){var t=!!e,n="";for(var o in this)"$"!=o.charAt(0)&&"function"!=typeof this[o]&&(""!==n&&(n+="&"),n+=(t?"":o+":")+encodeURIComponent(this[o]));var i=this.$name+"="+n;i+=this.$expiration?"; expires="+this.$expiration.toGMTString():"",i+=this.$path?"; path="+this.$path:"",i+=this.$domain?"; domain="+this.$domain:"",i+=this.$secure?"; secure":"",this.$document.cookie=i},mi.Cookie.prototype.load=function(){var e=this.$document.cookie;if(""===e)return!1;var t=e.indexOf(this.$name+"=");if(-1==t)return!1;t+=this.$name.length+1;var n=e.indexOf(";",t);-1==n&&(n=e.length);var o=e.substring(t,n),i=o.split("&");if(1==i.length&&"MPPUser"==this.$name)return this[this.$name]=unescape(o.replace(/\+/g,"%20")),!0;if(1==i.length&&-1==i[0].indexOf(":"))return this[this.$name]=unescape(o.replace(/\+/g,"%20")),!0;for(var a=0;a<i.length;a++)i[a]=i[a].split(":");for(a=0;a<i.length;a++)this[i[a][0]]=unescape(i[a][1]);return!0},mi.Cookie.prototype.remove=function(){var e=this.$name+"=";e+=this.$path?"; path="+this.$path:"",e+=this.$domain?"; domain="+this.$domain:"",e+="; expires=Fri, 02-Jan-1970 00:00:00 GMT",this.$document.cookie=e};var miAppControler=function(){};function getUrlVars(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<n.length;o++)e=n[o].split("="),t.push(e[0]),t[e[0]]=e[1];return t}miAppControler.prototype.commenting=1,miAppControler.prototype.findnsave=1,miAppControler.prototype.dealsaver=1,miAppControler.prototype.surveywall=1,miAppControler.prototype.paywall=1,mi.Commenting=function(){mi.App.apply(this,arguments),this._manageConf=function(e,t){switch(e){case"enabled":var n=parseInt(t);if(isNaN(n))switch(t=t.toLowerCase?t.toLowerCase():t){case!0:case"true":case"yes":case"on":n=1;break;default:n=0}t=n}return t},mi.control&&void 0!=mi.control.commenting?this.setConf("enabled",mi.control.commenting):(this.setConf("enabled",0),console.warn("Commenting has been instantiated, but disabled because mi.control.commenting is not defined.")),mi.loadPageInfo();var e=window.location.host.split(".");this.setConf("accountName",e[e.length-2]),this.setConf("target","commentingStage"),this.finish()},mi.Commenting.prototype.finish=function(){},mi.Commenting.prototype.display=function(){window.gomez&&window.gomez.startInterval&&window.gomez.startInterval("display commenting");var e=this.getConf("enabled");0!==e&&2!==e?this._renderCommenting():console.info("Submission and display of comments has been disabled."),window.gomez&&window.gomez.endInterval&&window.gomez.endInterval("display commenting")},mi.Commenting.prototype.displayPopular=function(e){window.gomez&&window.gomez.startInterval&&window.gomez.startInterval("popular comment threads");var t=this.getConf("enabled");0!==t&&3!==t&&4!==t?this._displayPopular(e):console.info("The popular comment threads widget has been disabled."),window.gomez&&window.gomez.endInterval&&window.gomez.endInterval("popular comment threads")},mi.Commenting.prototype.displayCommentCount=function(){window.gomez&&window.gomez.startInterval&&window.gomez.startInterval("comment count");var e=this.getConf("enabled");0!==e&&2!==e?this._displayCommentCount():console.info("Submission and display of comments has been disabled."),window.gomez&&window.gomez.endInterval&&window.gomez.endInterval("comment count")},mi.Commenting.prototype.extended=!0,mi.Commenting.prototype._displayCommentingFacebook=function(){return void 0==getUrlVars().token&&(!!(this._createFBRoot()&&this._createFBMetaTag()&&this._createFBTarget()&&this._createAsyncCall())||(console.error("One or more methods failed to implement Facebook Commenting. Facebook Commenting has been disabled."),!1))},mi.Commenting.prototype._renderCommenting=mi.Commenting.prototype._displayCommentingFacebook,mi.Commenting.prototype._createAsyncCall=function(){if(null===document.getElementById("facebook-jssdk")){var e=document.getElementsByTagName("script")[0];js=document.createElement("script"),js.id="facebook-jssdk",js.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.2",js.type="text/javascript",e.parentNode.insertBefore(js,e)}return document.getElementById("facebook-jssdk")},mi.Commenting.prototype._createFBRoot=function(){var e=document.createElement("div");return e.id="fb-root",$("body").prepend(e),document.getElementById("fb-root")},mi.Commenting.prototype._createFBMetaTag=function(){var e=document.createElement("meta"),t=document.getElementsByTagName("script")[0],n=this.getConf("fbapp_id");return e.setAttribute("property","fb:app_id"),n?(e.content=this.getConf("fbapp_id"),t.parentNode.insertBefore(e,t),!0):(this.setConf("enabled",0),console.error("Facebook Commenting has been disabled due to an unconfigured fbapp_id."),!1)},mi.Commenting.prototype._createFBTarget=function(){var e=("http:"==window.location.protocol?"http://":"https://")+window.location.host+window.location.pathname;e=e.replace(/(\/\d{4}\/\d{2}\/\d{2}\/\d+)_/,"$1/");var t=document.getElementById("fb-comments"),n=(document.getElementById(this.getConf("target")),mi.commenting.getConf("fb_comment_div"));return t.className="fb-comments",t.setAttribute("data-href",e),n&&n["data-width"]?t.setAttribute("data-width",n["data-width"]):t.setAttribute("data-width","620"),n&&n["data-numposts"]?t.setAttribute("data-numposts",n["data-numposts"]):t.setAttribute("data-numposts","10"),n&&"dark"==n["data-colorscheme"]&&t.setAttribute("data-colorscheme",n["data-colorscheme"]),document.getElementById("fb-comments")},mi.Commenting.prototype._initCommentCountElement=function(e){var t=("http:"==window.location.protocol?"http://":"https://")+window.location.host+window.location.pathname,n=null;return e&&"span"==e.type?((n=document.createElement(e.type)).id="mi-comment-count",n.innerHTML="<fb:comments-count href='"+t+"'></fb:comments-count> "+e.text):e&&"iframe"==e.type?((n=document.createElement(e.type)).id="mi-comment-count",n.src="https://www.facebook.com/plugins/comments.php?href="+t+"&permalink=1",n.scrolling="no",n.setAttribute("frameBorder","0"),n.style.overflow="hidden",e&&e.width?n.width=e.width:n.width="130",e&&e.height?n.height=e.height:n.height="16"):(n=!1,console.warn("The cc_element config value is not set correctly with either 'span' or 'iframe'. Consult your administrator for further information.")),n},mi.Commenting.prototype._injectCommentCountElement=function(e,t){return("SPAN"==e.tagName||"IFRAME"==e.tagName)&&(jQuery(t).get(0)?jQuery(t).append(e):jQuery(".fb-comments").get(0)?jQuery(".fb-comments").before(e):(mi.commenting.setConf("enabled",0),console.log("While attempting to inject Comment Counts, it was determined that Facebook Commenting is missing. Facebook Commenting has been disabled.")),!0)},mi.Commenting.prototype._displayCommentCountFacebook=function(){var e=mi.commenting.getConf("cc_element");return!("object"!=typeof e||!this._injectCommentCountElement(this._initCommentCountElement(e),e.location))||(console.warn("_displayCommentCountFacebook encountered a problem that may be due to incorrect configuration."),!1)},mi.Commenting.prototype._displayCommentCount=mi.Commenting.prototype._displayCommentCountFacebook;"use strict";var mi=void 0===mi?{media_domain:""}:mi;function checkUserSubscribed(e){var t,n=new mi.Cookie(document,e);return n.load(),t=$.extend({},n)[e],"MPPUser"===e?t:!!t}function renewSession(){window.location.pathname.match(/article\d+\.html$/)&&["MPPSessionId","MPPAccountId","MPPUser","mi_sub"].forEach(function(e){var t=window.location.hostname.replace(/^w{3}\./,""),n=new mi.Cookie(document,e,43200,"/","."+t);n.load(),n.store(!0)})}window.miAppControler&&(mi.control=new miAppControler),mi.getArgs=function(){if(void 0===mi.args){mi.args={};for(var e=location.search.substring(1).split("&"),t=e.length-1;t>=0;t--){var n=e[t].indexOf("=");-1!==n&&(mi.args[e[t].substring(0,n)]=unescape(e[t].substring(n+1)))}}return mi.args},mi._console=function(e){mi._console.log=mi._console.log&&mi._console.log.length>0?mi._console.log+"\n---------------------------------------------------\n"+e:e},mi.fixConsole=function(){if("object"!=typeof window.console&&(window.console={}),window.console.is_fixed);else for(var firebugMethods=["log","debug","info","warn","error","assert","dir","dirxml","trace","group","groupEnd","time","timeEnd","profile","profileEnd","count"],methodCount=firebugMethods.length,args=mi.getArgs(),view=args.viewlog&&"1"===args.viewlog,i=0;i<methodCount;i++){var methodName=firebugMethods[i];if("function"!=typeof window.console[methodName])switch(methodName){case"log":view?(window.console.log=mi._console,window.addEventListener?window.addEventListener("load",function(){alert(mi._console.log)},!1):window.attachEvent&&window.attachEvent("onload",function(){alert(mi._console.log)})):window.console.log=function(){};break;default:eval("window.console[methodName] = function(s){window.console.log('"+methodName.toUpperCase()+": '+ s)};")}}window.console.is_fixed=!0},mi.fixConsole(),mi.cloneObject=function(e){if(null===e||"object"!=typeof e)return e;var t=new e.constructor;for(var n in e)t[n]=mi.cloneObject(e[n]);return t},mi.App=function(){var e={};switch(this._manageConf=function(e,t){return t},this.setConf=function(){switch(arguments.length){case 1:for(var t in arguments[0])e[t]=this._manageConf(t,arguments[0][t]);break;case 2:e[arguments[0]]=this._manageConf(arguments[0],arguments[1]);break;default:console.warn("mi.App.setConf was passed an incorrect number of arguments, the method should be used with either a name-value pair or an object containing configuration settings.")}},this.getConf=function(t){return e[t]},this.viewConfs=function(){console.dir(e)},this.cache={},arguments.length){case 1:this.setConf(arguments[0]);break;case 2:this.setConf(arguments[0],arguments[1])}},mi&&void 0===mi.pageInfo&&(mi.PageInfo=function(){mi.App.apply(this,arguments),this._manageConf=function(e,t){if(void 0===this.getConf(e))switch(0!==e.indexOf("section")||this.section?0!==e.indexOf("asset")||this.asset||(this.asset={}):this.section={},e){case"sectionName":this.section.name=t;break;case"sectionId":this.section.id=t;break;case"assetId":this.asset.id=t;break;case"title":this.asset.title=t}else t=this.getConf(e);return t},this.version=2},mi.pageInfo=new mi.PageInfo),mi.getEventSrc=function(e){return e||(e=window.event),e.target?e.target:e.srcElement?e.srcElement:void 0},mi.templateVarPattern=/\@([^\@]+)\@/g,mi.templateParser=function(e,t){return t.replace(mi.templateVarPattern,function(){return e[arguments[1]]})},mi.makeHash=function(e,t,n){if(e&&t&&n){for(var o,i={},a=e.split(t),r=a.length-1;r>=0;r--)if(void 0!==a[r+1]){if(-1===(o=a[r].indexOf(n)))continue;i[a[r].substring(0,o)]=a[r].substring(o+1)}return i}console.log("sourceData, firstDelimiter, & secondDelimiter must be defined. There are no default values.")},mi.loadPageInfo=function(){if(window.pageInfo){var e=window.pageInfo;for(var t in void 0===this.pageInfo&&(this.pageInfo=new this.PageInfo),e)switch(t){case"version":this.pageInfo.version=e[t];break;case"section":e[t].id&&mi.pageInfo.setConf("sectionId",e[t].id),e[t].name&&mi.pageInfo.setConf("sectionName",e[t].name);break;case"asset":e[t].id&&mi.pageInfo.setConf("assetId",e[t].id),e[t].name&&mi.pageInfo.setConf("title",e[t].name)}window.pageInfo=null}},mi.wait_for_ready=function(e,t,n){var o,i=0,a=function(){null!==$(t)?(clearInterval(o),n()):(i+=3)>=e&&clearInterval(o)};document.addEventListener("DOMContentLoaded",function(){o=setInterval(a,3e3)})},document.addEventListener("DOMContentLoaded",function(){$(".digest-group .heading a").each(function(){var e=$(this).attr("href");$(this).attr("href",e+"#navlink=digest-title")}),$(".kicker a").each(function(){var e=$(this).attr("href");$(this).attr("href",e+"#navlink=kicker")}),$(".digest-group .title a").each(function(){var e=$(this).attr("href");$(this).attr("href",e+"#navlink=digest-story")}),$(".dropdown-menu .col-sm-6 article a").each(function(){var e=$(this).attr("href");$(this).attr("href",e+"#navlink=subnav-story")}),$(".dropdown-menu .promo .title a").each(function(){var e=$(this).attr("href");$(this).attr("href",e+"#navlink=subnav-promo")})});var mi=mi||{};mi.getCookie=function(e){var t=document.cookie,n=e+"=",o=t.indexOf("; "+n),i=null;if(-1==o){if(0!=(o=t.indexOf(n)))return null;var a=t.indexOf(";",o);if(-1==a)i=t.length;else i=a;return t.substring(o,i).replace(n,"")}return o+=2,-1==(i=document.cookie.indexOf(";",o))&&(i=t.length),t.substring(o,i).replace(n,"")},document.addEventListener("DOMContentLoaded",function(){var e=$("#tabbedNavigator").data();if(e&&e.isimpact&&!e.isinfluencers){var t=window.location.href.split("originPub=")[1],n=window.location.host.split("."),o=function(e,t){$("#tabbedNavigator").removeClass("hidden"),$("#secondTabLink").attr("href",e),$("#secondTabLink").attr("aria-label",t),$("#secondTabImage").attr("src","/wps/build/images/"+t+"/logo-tab.svg")};if(t)o("https://"+n[0]+"."+t+".com/",t),window.localStorage.setItem("origin",t);else if(window.localStorage.getItem("origin")&&window.document.referrer.includes(e.destinypubname)){o("https://"+n[0]+"."+window.localStorage.getItem("origin")+".com/",window.localStorage.getItem("origin"))}}});