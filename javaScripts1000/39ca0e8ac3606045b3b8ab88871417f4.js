/*_hs_*/;window.sas_usePostStandard = true;;var blockedPercentForAddtlConsent = 0.98;
var numberBetweenZeroAndOne = Math.random();
var isBlockingAddtlConsent = blockedPercentForAddtlConsent > numberBetweenZeroAndOne;
window.sas_blockAddtlConsent = isBlockingAddtlConsent;;/*_hs_*/var sas=sas||{};sas.utils=sas.utils||{},sas.events=sas.events||{},sas.cmp=sas.cmp||{},function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"bind",function(){return I}),t.replaceTokenInString=function(e,t,n){return O(t,function(t,a){t=void 0===t?"":t;var r=n+a.toUpperCase()+n,s=new RegExp(r,"g");e=e.replace(s,t)}),e},t.logMessage=b,t.logInfo=function(){w()&&g&&console.info.apply(console,C(arguments,"INFO:"))},t.logWarn=function(){w()&&v&&console.warn.apply(console,C(arguments,"WARNING:"))},t.logError=_,t.getParameterByName=function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null!==t?decodeURIComponent(t[1].replace(/\+/g," ")):""},t.isA=S,t.isFn=k,t.isStr=D,t.isArray=A,t.isNumber=function(e){return S(e,l)},t.isPlainObject=function(e){return S(e,d)},t.isBoolean=function(e){return S(e,u)},t.isEmpty=T,t._each=O,t._map=function(e,t){if(T(e))return[];if(k(e.map))return e.map(t);var n=[];return O(e,function(a,r){n.push(t(a,r,e))}),n},t.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},t.checkCookieSupport=function(){if(window.navigator.cookieEnabled||document.cookie.length)return!0},t.cookiesAreEnabled=function(){return window.document.cookie="id5.cookieTest",-1!==window.document.cookie.indexOf("id5.cookieTest")},t.getCookie=function(e){var t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null},t.setCookie=function(e,t,n){document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(""!==n?"; expires=".concat(n):"","; path=/")},t.getItemFromLocalStorage=L,t.getFromLocalStorage=function(e){var t=window.localStorage.getItem("".concat(e.name,"_exp"));return t&&0<new Date(t).getTime()-Date.now()?L(e.name):(x(e),null)},t.setItemInLocalStorage=R,t.setInLocalStorage=function(e,t){var n=new Date(Date.now()+864e5*e.expiresDays).toUTCString();R("".concat(e.name,"_exp"),n),R("".concat(e.name),t)},t.removeItemFromLocalStorage=N,t.removeFromLocalStorage=x,t.parseQS=F,t.formatQS=P,t.parse=U,t.format=M,t.ajax=function(e,t,n){var a,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var s=r.method||(n?"POST":"GET");document.createElement("a").href=e;var o,i="object"===function(e){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(t)&&null!==t?t:{success:function(){b("xhr success")},error:function(e){_("xhr error",null,e)}};"function"==typeof t&&(i.success=t),(a=new window.XMLHttpRequest).onreadystatechange=function(){var e;a.readyState===j&&(200<=(e=a.status)&&e<300||304===e?i.success(a.responseText,a):i.error(a.statusText,a))},a.ontimeout=function(){_("  xhr timeout after ",a.timeout,"ms")},"GET"===s&&n&&(function(){(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}((o=U(e,r)).search,n),e=M(o)),a.open(s,e,!0),r.withCredentials&&(a.withCredentials=!0),O(r.customHeaders,function(e,t){a.setRequestHeader(t,e)}),r.preflight&&a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type",r.contentType||"text/plain"),"POST"===s&&n?a.send(n):a.send()}catch(e){_("xhr construction",e)}},t.fireAsyncPixel=B,t.deferPixelFire=function(e,t,n){"loading"!==document.readyState?B(e,t,n):document.addEventListener("DOMContentLoaded",function(){B(e,t,n)})},t.cyrb53Hash=function(e){for(var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=function(e,t){if(k(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},r=3735928559^n,s=1103547991^n,o=0;o<e.length;o++)r=a(r^(t=e.charCodeAt(o)),2654435761),s=a(s^t,1597334677);return r=a(r^r>>>16,2246822507)^a(s^s>>>13,3266489909),(4294967296*(2097151&(s=a(s^s>>>16,2246822507)^a(r^r>>>13,3266489909)))+(r>>>0)).toString()};var a=n(2);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o="Array",i="String",c="Function",l="Number",d="Object",u="Boolean",p=Object.prototype.toString,f=Boolean(window.console),h=Boolean(f&&window.console.log),g=Boolean(f&&window.console.info),v=Boolean(f&&window.console.warn),m=Boolean(f&&window.console.error),y={},I=function(e,t){return t}.bind(null,1,y)()===y?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}};function b(){w()&&h&&console.log.apply(console,C(arguments,"MESSAGE:"))}function _(){w()&&m&&console.error.apply(console,C(arguments,"ERROR:"))}function C(e,t){return e=[].slice.call(e),"TESTING"!==a.default.version?(t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #1c307e; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cID5")):e.unshift((new Date).getTime()),e}function w(){return a.default&&!0===a.default.debug}function S(e,t){return p.call(e)==="[object "+t+"]"}function k(e){return S(e,c)}function D(e){return S(e,i)}function A(e){return S(e,o)}function T(e){if(!e)return!0;if(A(e)||D(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function O(e,t){if(!T(e)){if(k(e.forEach))return e.forEach(t,this);var n=0,a=e.length;if(0<a)for(;n<a;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function E(){try{return window.localStorage}catch(e){_("Local storage api disabled!")}}function L(e){if(E())return window.localStorage.getItem(e)}function R(e,t){E()&&window.localStorage.setItem(e,t)}function N(e){E()&&window.localStorage.removeItem(e)}function x(e){N("".concat(e.name)),N("".concat(e.name,"_exp"))}function F(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=r(t.split("="),2),a=n[0],s=n[1];return/\[\]$/.test(a)?(e[a=a.replace("[]","")]=e[a]||[],e[a].push(s)):e[a]=s||"",e},{}):{}}function P(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}function U(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var a=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:a?n.search:F(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function M(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(P(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}var j=4;function B(e,t,n){var a=new Image;a.src=e,k(t)&&t(),k(n)&&(a.complete?n():a.addEventListener("load",n))}},function(e,t){e.exports={STORAGE_CONFIG:{ID5:{name:"id5id",expiresDays:90},LAST:{name:"id5id_last",expiresDays:90},CONSENT_DATA:{name:"id5id_cached_consent_data",expiresDays:30},PD:{name:"id5id_cached_pd",expiresDays:30},FS:{name:"id5id_fs",expiresDays:7},PRIVACY:{name:"id5id_privacy",expiresDays:30}},LEGACY_COOKIE_NAMES:["id5.1st","id5id.1st"],PRIVACY:{JURISDICTIONS:{gdpr:!0,ccpa:!1,lgpd:!0,other:!1}},ID5_EIDS_SOURCE:"id5-sync.com"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Id5Api",function(){return d}),n.d(t,"ID5",function(){return u});var a=n(0),r=n(3),s=n(4),o=n(5),i=n(6);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"loaded",!1),l(this,"debug",!1),l(this,"debugBypassConsent",!1),l(this,"allowLocalStorageWithoutConsentApi",!1),l(this,"localStorageAllowed",!1),l(this,"isUsingCdn",!1),l(this,"referer",!1),l(this,"version",void 0),l(this,"versions",{}),this.loaded=!0,this.debug=this.debug||"TRUE"===a.getParameterByName("id5_debug").toUpperCase(),this.isUsingCdn=!(!document.currentScript||!document.currentScript.src||0!==document.currentScript.src.indexOf("https://cdn.id5-sync.com")),this.referer=Object(r.a)();var t=this;this.clientStore=new s.a(function(){return t.localStorageAllowed})}var t,n;return t=e,(n=[{key:"init",value:function(e){if(void 0===this.version)throw new Error('ID5.version variable is missing! Make sure you build from source with "gulp build" from this project. Contact support@id5.io for help.');try{a.logInfo("Invoking Id5Api.init",arguments);var t=new i.a(e);return this.debugBypassConsent=this.debugBypassConsent||t.getOptions().debugBypassConsent,this.allowLocalStorageWithoutConsentApi=this.allowLocalStorageWithoutConsentApi||t.getOptions().allowLocalStorageWithoutConsentApi,this.consent=new o.a,this.getId(t,!1),a.logInfo("ID5 initialized for partner ".concat(t.getOptions().partnerId," with referer ").concat(this.referer.referer," and options"),e),t}catch(e){a.logError("Exception caught from Id5Api.init",e)}}},{key:"refreshId",value:function(e,t,n){var r=1<arguments.length&&void 0!==t&&t,s=2<arguments.length&&void 0!==n?n:{};if(void 0===this.version)throw new Error('ID5.version variable is missing! Make sure you build from source with "gulp build" from this project. Contact support@id5.io for help.');if(!a.isBoolean(r))throw new Error("Invalid signature for Id5Api.refreshId: second parameter must be a boolean");try{a.logInfo("Invoking Id5Api.refreshId",arguments),e.startRefresh(r),e.updateOptions(s),this.consent.resetConsentData(),this.getId(e,r)}catch(e){a.logError("Exception caught from Id5Api.refreshId",e)}return e}},{key:"updateLocalStorageAllowed",value:function(){this.localStorageAllowed=this.consent.isLocalStorageAllowed(this.allowLocalStorageWithoutConsentApi,this.debugBypassConsent)}},{key:"getId",value:function(e,t){var n,r,s=this,o=1<arguments.length&&void 0!==t&&t,i=e.getOptions(),c=0,l=!1,d=!1,u=!1;this.updateLocalStorageAllowed(),this.localStorageAllowed&&(n=this.clientStore.getResponse(),r=this.clientStore.getDateTime(),l=r<=0||Date.now()-r>1e3*i.refreshInSeconds,c=this.clientStore.getNb(i.partnerId),d=!this.clientStore.storedPdMatchesPd(i.partnerId,i.pd)),n||(n=this.clientStore.getResponseFromLegacyCookie(),l=!0),n&&n.universal_uid&&!d?(e.setUserId(n.universal_uid,n.link_type||0,!0),c=this.clientStore.incNb(i.partnerId,c),u=!0,a.logInfo("ID5 User ID available from cache:",{storedResponse:n,storedDateTime:r,refreshNeeded:l})):n&&n.universal_uid&&d?a.logInfo("PD value has changed, so ignoring User ID from cache"):n&&!n.universal_uid?a.logError("Invalid stored response: ",n):a.logInfo("No ID5 User ID available from cache"),this.consent.requestConsent(this.debugBypassConsent,i.cmpApi,i.consentData,function(t){var r,p,f,h,g,v;s.updateLocalStorageAllowed(),!1!==s.localStorageAllowed?(a.logInfo("Consent to access local storage is given: ",s.localStorageAllowed),n=s.clientStore.getResponse()||s.clientStore.getResponseFromLegacyCookie(),r=!s.clientStore.storedConsentDataMatchesConsentData(t),s.clientStore.putHashedConsentData(t),s.clientStore.putHashedPd(i.partnerId,i.pd),n&&n.universal_uid&&n.signature&&!l&&!r&&!d&&!o||(p="https://id5-sync.com/g/v2/".concat(i.partnerId,".json"),f=t&&t.gdprApplies?1:0,h=t&&t.gdprApplies?t.consentString:void 0,g=n&&n.signature?n.signature:void 0,v={partner:i.partnerId,v:s.version,o:"api",gdpr:f,rf:s.referer.referer,u:s.referer.stack[0]||window.location.href,top:s.referer.reachedTop?1:0,nbPage:c,id5cdn:s.isUsingCdn},void 0!==h&&(v.gdpr_consent=h),void 0!==g&&(v.s=g),void 0!==i.pd&&(v.pd=i.pd),void 0!==i.partnerUserId&&(v.puid=i.partnerUserId),void 0!==i.provider&&(v.provider=i.provider),!0===e.getOptions().abTesting.enabled&&(v.features=v.features||{},v.features.ab=1),a.logInfo("Fetching ID5 user ID from:",p,v),o&&a.logInfo("...with Force Fetch"),a.ajax(p,{success:function(t){if(a.logInfo("Response from ID5 received:",t),t)try{var n,r,o,c=JSON.parse(t);a.logInfo("Valid json response from ID5 received:",c),a.isStr(c.universal_uid)?(e.setUserId(c.universal_uid,c.link_type||0,!1),s.consent.setStoredPrivacy(c.privacy),s.updateLocalStorageAllowed(),!0===s.localStorageAllowed||void 0===c.privacy?(s.clientStore.putResponse(t),s.clientStore.setDateTime((new Date).toUTCString()),s.clientStore.setNb(i.partnerId,u?0:1)):s.clientStore.clearAll(i.partnerId),s.clientStore.removeLegacyCookies(i.partnerId),!0===c.cascade_needed&&!0===s.localStorageAllowed&&(n=i.partnerUserId&&0<i.partnerUserId.length,r="https://id5-sync.com/".concat(n?"s":"i","/").concat(i.partnerId,"/8.gif?id5id=").concat(e._userId,"&fs=").concat(s.clientStore.firstSync(),"&o=api&").concat(n?"puid="+i.partnerUserId+"&":"","gdpr_consent=").concat(h,"&gdpr=").concat(f),a.logInfo("Opportunities to cascade available:",r),o=s.clientStore,a.deferPixelFire(r,void 0,function(){o.syncCallback()}))):a.logError("Invalid response from ID5 servers:",t)}catch(t){a.logError(t)}else a.logError("Empty response from ID5 servers:",t)},error:function(e){a.logError(e)}},JSON.stringify(v),{method:"POST",withCredentials:!0}))):a.logInfo("No legal basis to use ID5",t)})}}])&&c(t.prototype,n),e}();window.ID5||(window.ID5=new d);var u=window.ID5;t.default=u},function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",function(){return s});var r,s=(r=window,function(){try{var e,t=o(),n=t.length-1,a=null!==t[n].location||0<n&&null!==t[n-1].referrer,r=function(e){for(var t,n=[],a=null,r=null,s=null,o=null,i=e.length-1;0<=i;i--){try{a=e[i].location}catch(e){}if(a)n.push(a),o=o||a;else if(0!==i){t=e[i-1];try{r=t.referrer,s=t.ancestor}catch(e){}r?(n.push(r),o=o||r):s?(n.push(s),o=o||s):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:o}}(t);return t[t.length-1].canonicalUrl&&(e=t[t.length-1].canonicalUrl),{referer:r.detectedRefererUrl,reachedTop:a,numIframes:n,stack:r.stack,canonicalUrl:e}}catch(e){}});function o(){var e=function(){var e,t=[];do{try{e=e?e.parent:r;try{var n=e===r.top,s={referrer:e.document.referrer||null,location:e.location.href||null,isTop:n};n&&(s=a(s,{canonicalUrl:function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(e.document)})),t.push(s)}catch(n){t.push({referrer:null,location:null,isTop:e===r.top})}}catch(n){return t.push({referrer:null,location:null,isTop:!1}),t}}while(e!==r.top);return t}(),t=function(){try{if(!r.location.ancestorOrigins)return;return r.location.ancestorOrigins}catch(e){}}();if(t)for(var n=0,s=t.length;n<s;n++)e[n].ancestor=t[n];return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(0),r=n(1),s=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(t){var n,a,r;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),r=void 0,(a="localStorageAllowedCallback")in(n=this)?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,this.localStorageAllowedCallback=t}var t,n,r;return t=e,r=[{key:"pdCacheConfig",value:function(e){return{name:"".concat(s.a.STORAGE_CONFIG.PD.name,"_").concat(e),expiresDays:s.a.STORAGE_CONFIG.PD.expiresDays}}},{key:"makeStoredHash",value:function(e){return a.cyrb53Hash("string"==typeof e?e:"")}},{key:"nbCacheConfig",value:function(e){return{name:"".concat(s.a.STORAGE_CONFIG.ID5.name,"_").concat(e,"_nb"),expiresDays:s.a.STORAGE_CONFIG.ID5.expiresDays}}},{key:"storedDataMatchesCurrentData",value:function(e,t){return null==e||e===t}},{key:"makeStoredConsentDataHash",value:function(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),a.cyrb53Hash(JSON.stringify(t))}}],(n=[{key:"get",value:function(e){try{if(!0===this.localStorageAllowedCallback())return a.getFromLocalStorage(e);a.logError("clientStore.get() has been called without localStorageAllowed")}catch(e){a.logError(e)}}},{key:"clear",value:function(e){try{a.removeFromLocalStorage(e)}catch(e){a.logError(e)}}},{key:"put",value:function(e,t){try{!0===this.localStorageAllowedCallback()?a.setInLocalStorage(e,t):a.logError("clientStore.put() has been called without localStorageAllowed")}catch(e){a.logError(e)}}},{key:"getResponseFromLegacyCookie",value:function(){var e;return s.a.LEGACY_COOKIE_NAMES.forEach(function(t){a.getCookie(t)&&(e=a.getCookie(t))}),e?JSON.parse(e):null}},{key:"getResponse",value:function(){var e=this.get(s.a.STORAGE_CONFIG.ID5);return e?JSON.parse(decodeURIComponent(e)):e}},{key:"clearResponse",value:function(){this.clear(s.a.STORAGE_CONFIG.ID5)}},{key:"putResponse",value:function(e){this.put(s.a.STORAGE_CONFIG.ID5,encodeURIComponent(e))}},{key:"getHashedConsentData",value:function(){return this.get(s.a.STORAGE_CONFIG.CONSENT_DATA)}},{key:"clearHashedConsentData",value:function(){this.clear(s.a.STORAGE_CONFIG.CONSENT_DATA)}},{key:"putHashedConsentData",value:function(t){this.put(s.a.STORAGE_CONFIG.CONSENT_DATA,e.makeStoredConsentDataHash(t))}},{key:"getHashedPd",value:function(t){return this.get(e.pdCacheConfig(t))}},{key:"storedPdMatchesPd",value:function(t,n){return e.storedDataMatchesCurrentData(this.getHashedPd(t),e.makeStoredHash(n))}},{key:"clearHashedPd",value:function(t){this.clear(e.pdCacheConfig(t))}},{key:"putHashedPd",value:function(t,n){this.put(e.pdCacheConfig(t),e.makeStoredHash(n))}},{key:"getDateTime",value:function(){return new Date(+this.get(s.a.STORAGE_CONFIG.LAST)).getTime()}},{key:"clearDateTime",value:function(){this.clear(s.a.STORAGE_CONFIG.LAST)}},{key:"setDateTime",value:function(e){this.put(s.a.STORAGE_CONFIG.LAST,e)}},{key:"getNb",value:function(t){var n=this.get(e.nbCacheConfig(t));return n?parseInt(n):0}},{key:"clearNb",value:function(t){this.clear(e.nbCacheConfig(t))}},{key:"setNb",value:function(t,n){this.put(e.nbCacheConfig(t),n)}},{key:"incNb",value:function(e,t){return t++,this.setNb(e,t),t}},{key:"syncCallback",value:function(){this.put(s.a.STORAGE_CONFIG.FS,"1")}},{key:"firstSync",value:function(){var e=this.get(s.a.STORAGE_CONFIG.FS);return void 0===e||"1"===e?0:1}},{key:"clearAll",value:function(e){this.clearResponse(),this.clearDateTime(),this.clearNb(e),this.clearHashedPd(e),this.clearHashedConsentData()}},{key:"removeLegacyCookies",value:function(e){var t=new Date(Date.now()-1e3).toUTCString();s.a.LEGACY_COOKIE_NAMES.forEach(function(n){a.setCookie("".concat(n),"",t),a.setCookie("".concat(n,"_nb"),"",t),a.setCookie("".concat(n,"_").concat(e,"_nb"),"",t),a.setCookie("".concat(n,"_last"),"",t),a.setCookie("".concat(n,".cached_pd"),"",t),a.setCookie("".concat(n,".cached_consent_data"),"",t)})}},{key:"storedConsentDataMatchesConsentData",value:function(t){return e.storedDataMatchesCurrentData(this.getHashedConsentData(),e.makeStoredConsentDataHash(t))}}])&&o(t.prototype,n),r&&o(t,r),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(0),r=n(1),s=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),i(this,"consentData",void 0),i(this,"staticConsentData",void 0),i(this,"storedPrivacyData",void 0),i(this,"cmpVersion",0),i(this,"cmpCallMap",{iab:this.lookupIabConsent,static:this.lookupStaticConsentData})}var t,n,r;return t=e,r=[{key:"findCMP",value:function(){for(var e,t,n=0,a=window;!e;){try{if("function"==typeof a.__tcfapi||"function"==typeof a.__cmp){t="function"==typeof a.__tcfapi?(n=2,a.__tcfapi):(n=1,a.__cmp),e=a;break}}catch(e){}try{if(a.frames.__tcfapiLocator){n=2,e=a;break}}catch(e){}try{if(a.frames.__cmpLocator){n=1,e=a;break}}catch(e){}if(a===window.top)break;a=a.parent}return{cmpVersion:n,cmpFrame:e,cmpFunction:t}}},{key:"cmpSuccess",value:function(e,t,n){var r=1===e.cmpVersion?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||a.isStr(e.getConsentData.consentData)&&a.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===e.cmpVersion?function(){var e=t&&"boolean"==typeof t.gdprApplies?t.gdprApplies:void 0,n=t&&t.tcString;return!("boolean"==typeof e&&(!0!==e||a.isStr(n)))}:null;a.logInfo("CMP Success callback for version",e.cmpVersion,r),a.isFn(r)&&(r(t)?(e.resetConsentData(),a.logError("CMP returned unexpected value during lookup process.",t)):e.storeConsentData(t)),n(e.consentData)}}],(n=[{key:"lookupStaticConsentData",value:function(e,t){this.cmpVersion=this.staticConsentData.getConsentData?1:this.staticConsentData.getTCData?2:0,a.logInfo("Using static consent data from config for TCF v".concat(this.cmpVersion),this.staticConsentData),2===this.cmpVersion?e(this,this.staticConsentData.getTCData,t):e(this,this.staticConsentData,t)}},{key:"lookupIabConsent",value:function(t,n){var r,s=this,o=(r={},{consentDataCallback:function(e){a.logInfo("cmpApi: consentDataCallback"),r.getConsentData=e,i()},vendorConsentsCallback:function(e){a.logInfo("cmpApi: vendorConsentsCallback"),r.getVendorConsents=e,i()}});function i(){r.getConsentData&&r.getVendorConsents&&t(s,r,n)}var c=e.findCMP(),l=c.cmpVersion,d=c.cmpFrame,u=c.cmpFunction;if(this.cmpVersion=l,!d)return a.logError("CMP not found"),void t(s,void 0,n);a.isFn(u)?(a.logInfo("cmpApi: calling getConsentData & getVendorConsents"),1===l?(u("getConsentData",null,o.consentDataCallback),u("getVendorConsents",null,o.vendorConsentsCallback)):2===l&&u("addEventListener",l,function(e,r){a.logInfo("Received a response from CMP",e),r?!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||t(s,e,n):(a.logError("CMP unable to register callback function.  Please check CMP setup."),t(s,void 0,n))})):t(s,void 0,n)}},{key:"requestConsent",value:function(t,n,r,s){t?(a.logWarn("ID5 is operating in forced consent mode and will not retrieve any consent signals from the CMP"),s(this.consentData)):this.cmpCallMap[n]?this.consentData?s(this.consentData):("static"===n&&(a.isPlainObject(r)?this.staticConsentData=r:a.logError("cmpApi: 'static' did not specify consent data.")),this.cmpCallMap[n].call(this,e.cmpSuccess,s)):(a.logError("Unknown consent API: ".concat(n)),this.resetConsentData(),s(this.consentData))}},{key:"resetConsentData",value:function(){this.consentData=void 0,this.storedPrivacyData=void 0}},{key:"storeConsentData",value:function(e){1===this.cmpVersion?this.consentData={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:void 0,apiVersion:1}:2===this.cmpVersion?this.consentData={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:void 0,apiVersion:2}:this.consentData={apiVersion:0}}},{key:"isLocalStorageAllowed",value:function(e,t){return!0===e||!0===t?(a.logWarn("Local storage access granted by configuration override, consent will not be checked"),!0):this.consentData?!("boolean"==typeof this.consentData.gdprApplies&&this.consentData.gdprApplies&&(!this.consentData.consentString||0===this.consentData.apiVersion||1===this.consentData.apiVersion&&this.consentData.vendorData&&this.consentData.vendorData.purposeConsents&&!1===this.consentData.vendorData.purposeConsents[1]||2===this.consentData.apiVersion&&this.consentData.vendorData&&this.consentData.vendorData.purpose&&this.consentData.vendorData.purpose.consents&&!1===this.consentData.vendorData.purpose.consents[1])):this.isProvisionalLocalStorageAllowed()}},{key:"isProvisionalLocalStorageAllowed",value:function(){return a.isPlainObject(this.storedPrivacyData)||(this.storedPrivacyData=JSON.parse(a.getFromLocalStorage(s.a.STORAGE_CONFIG.PRIVACY))),!(!this.storedPrivacyData||!0!==this.storedPrivacyData.id5_consent)||(this.storedPrivacyData&&void 0!==this.storedPrivacyData.jurisdiction?!1===(void 0!==s.a.PRIVACY.JURISDICTIONS[this.storedPrivacyData.jurisdiction]&&s.a.PRIVACY.JURISDICTIONS[this.storedPrivacyData.jurisdiction])||!0===this.storedPrivacyData.id5_consent:void 0)}},{key:"setStoredPrivacy",value:function(e){try{a.isPlainObject(e)?(this.storedPrivacyData=e,a.setInLocalStorage(s.a.STORAGE_CONFIG.PRIVACY,JSON.stringify(e))):a.logInfo("Cannot store privacy if it is not an object: ",e)}catch(e){a.logError(e)}}}])&&o(t.prototype,n),r&&o(t,r),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(7),r=n(1),s=n.n(r),o=n(8),i=n(0);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),l(this,"_availableCallbackTimerId",void 0),l(this,"_availableCallbackFired",!1),l(this,"_availableCallback",void 0),l(this,"_updateCallback",void 0),l(this,"_refreshCallbackTimerId",void 0),l(this,"_refreshCallbackFired",!1),l(this,"_refreshCallback",void 0),l(this,"_isExposed",void 0),l(this,"_fromCache",void 0),l(this,"_isRefreshing",!1),l(this,"_isRefreshingWithFetch",!1),l(this,"_userId",void 0),l(this,"_linkType",void 0),l(this,"config",void 0),this.config=new a.a(t)}var t,n,r;return t=e,r=[{key:"doFireOnAvailableCallBack",value:function(e){i.logInfo("Id5Status.doFireOnAvailableCallBack"),e._availableCallbackFired=!0,e._availableCallbackTimerId=void 0,e._availableCallback(e)}},{key:"doFireOnUpdateCallBack",value:function(e){i.logInfo("Id5Status.doFireOnUpdateCallBack"),e._updateCallback(e)}},{key:"doFireOnRefreshCallBack",value:function(e){i.logInfo("Id5Status.doFireOnRefreshCallBack"),e._refreshCallbackFired=!0,e._refreshCallbackTimerId=void 0,e._isRefreshing=!1,e._isRefreshingWithFetch=!1,e._refreshCallback(e)}}],(n=[{key:"getOptions",value:function(){return this.config.getOptions()}},{key:"updateOptions",value:function(e){return this.config.updOptions(e)}},{key:"startRefresh",value:function(e){this._isRefreshing=!0,this._isRefreshingWithFetch=e}},{key:"setUserId",value:function(t,n,a){var r,s,c;t?(r=this._userId!==t||this._linkType!==n,this._userId=t,this._linkType=n,this._fromCache=a,i.logInfo("Id5Status.setUserId: user id updated, hasChanged: ".concat(r)),!0===(s=this.config.getOptions()).abTesting.enabled?this._isExposed=!o.a(t,s.abTesting.controlGroupPct):this._isExposed=!0,this._isExposed&&(c=this,i.isFn(this._availableCallback)&&!1===this._availableCallbackFired&&(this._availableCallbackTimerId&&(i.logInfo("Cancelling pending onAvailableCallback watchdog"),clearTimeout(this._availableCallbackTimerId),this._availableCallbackTimerId=void 0),this._availableCallbackTimerId=setTimeout(function(){return e.doFireOnAvailableCallBack(c)},0)),this._isRefreshing&&i.isFn(this._refreshCallback)&&!1===this._refreshCallbackFired&&(!1!==a&&!1!==this._isRefreshingWithFetch||(this._refreshCallbackTimerId&&(i.logInfo("Cancelling pending onRefreshCallback watchdog"),clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallbackTimerId=setTimeout(function(){return e.doFireOnRefreshCallBack(c)},0))),r&&i.isFn(this._updateCallback)&&setTimeout(function(){return e.doFireOnUpdateCallBack(c)},0))):(this._userId=void 0,this._linkType=void 0,this._fromCache=void 0,this._isExposed=void 0)}},{key:"getUserId",value:function(){return!1===this._isExposed?"0":this._userId}},{key:"getLinkType",value:function(){return!1===this._isExposed?0:this._linkType}},{key:"isFromCache",value:function(){return this._fromCache}},{key:"exposeUserId",value:function(){return this._isExposed}},{key:"getUserIdAsEid",value:function(){return{source:s.a.ID5_EIDS_SOURCE,uids:[{id:this.getUserId(),ext:{linkType:this.getLinkType(),abTestingControlGroup:!this.exposeUserId()}}]}}},{key:"onAvailable",value:function(t,n){if(!i.isFn(t))throw new Error("onAvailable expect a function");var a;return i.isFn(this._availableCallback)?i.logInfo("onAvailable was already called, ignoring"):(this._availableCallback=t,(a=this).getUserId()?(i.logInfo("Id5Status.onAvailable: User id already available firing callback immediately"),this._availableCallbackTimerId=setTimeout(function(){return e.doFireOnAvailableCallBack(a)},0)):0<n&&(this._availableCallbackTimerId=setTimeout(function(){return e.doFireOnAvailableCallBack(a)},n))),this}},{key:"onUpdate",value:function(t){if(!i.isFn(t))throw new Error("onUpdate expect a function");this._updateCallback=t;var n=this;return this.getUserId()&&setTimeout(function(){return e.doFireOnUpdateCallBack(n)},0),this}},{key:"onRefresh",value:function(t,n){if(!i.isFn(t))throw new Error("onRefresh expect a function");this._refreshCallbackTimerId&&(clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallback=t;var a=this;return!0===this._isRefreshing&&!1===this._isRefreshingWithFetch&&this.getUserId()?this._refreshCallbackTimerId=setTimeout(function(){return e.doFireOnRefreshCallBack(a)},0):0<n&&(this._refreshCallbackTimerId=setTimeout(function(){return e.doFireOnRefreshCallBack(a)},n)),this}}])&&c(t.prototype,n),r&&c(t,r),e}()},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return i});var o=n(0),i=function(){function e(t){if(function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),s(this,"options",void 0),s(this,"providedOptions",void 0),this.options={debugBypassConsent:!1,allowLocalStorageWithoutConsentApi:!1,cmpApi:"iab",consentData:{getConsentData:{consentData:void 0,gdprApplies:void 0},getVendorConsents:{}},refreshInSeconds:7200,partnerId:void 0,partnerUserId:void 0,callbackOnAvailable:void 0,callbackOnUpdates:void 0,callbackTimeoutInMs:void 0,pd:void 0,abTesting:{enabled:!1,controlGroupPct:0},provider:void 0},this.providedOptions={},!t.partnerId||"number"!=typeof t.partnerId)throw new Error("partnerId is required and must be a number");this.updOptions(t)}var t,n;return t=e,(n=[{key:"getOptions",value:function(){return this.options}},{key:"getProvidedOptions",value:function(){return this.providedOptions}},{key:"updOptions",value:function(t){var n=this;if("object"===a(t)){if("number"==typeof this.options.partnerId&&"number"==typeof t.partnerId&&t.partnerId!==this.options.partnerId)throw new Error("Cannot update config with a different partnerId");Object.keys(t).forEach(function(a){o.isA(t[a],e.configTypes[a])?(n.options[a]=t[a],n.providedOptions[a]=t[a]):o.logError("updOptions options ".concat(a," must be of type ").concat(e.configTypes[a]," but was ").concat(toString.call(t[a])))})}else o.logError("Config options must be an object")}}])&&r(t.prototype,n),e}();s(i,"configTypes",{debugBypassConsent:"Boolean",allowLocalStorageWithoutConsentApi:"Boolean",cmpApi:"String",consentData:"Object",refreshInSeconds:"Number",partnerId:"Number",partnerUserId:"String",callbackOnAvailable:"Function",callbackOnUpdates:"Function",callbackTimeoutInMs:"Number",pd:"String",abTesting:"Object",provider:"String"})},function(e,t,n){"use strict";t.a=function(e,t){if(!Object(a.isNumber)(t)||t<0||1<t)throw new Error("A/B Testing controlGroupRatio must be a number >= 0 and <= 1");return((n=e)?(Object(a.cyrb53Hash)(n)%r+r)%r:Math.floor(Math.random()*r))<t*r;var n};var a=n(0),r=1e4}]),ID5.version="1.0.2-pre",ID5.versions[ID5.version]=!0,function(){Date.now||(Date.now=function(){return(new Date).getTime()}),sas.utils.extend=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n&&"object"==typeof n)for(var a in n)void 0!==n[a]&&(Array.isArray(n[a])?e[a]=n[a]:"object"==typeof n[a]?e[a]=sas.utils.extend({},e[a],n[a]):e[a]=n[a])}return e},sas.utils.Latch=function(e){for(var t=[],n={},a=e=e||[],r=!1,s=0;s<a.length;s++)n[e[s]]={};var o=function(){if(!r){for(var e in n)if(!n[e].status)return;r=!0;for(var a=i(),s=0;s<t.length;s++)t[s].apply(this,a)}},i=function(){for(var e=[],t=0;t<a.length;t++)e.push(n[a[t]].result);return e};this.isComplete=function(){return r},this.notify=function(e,t){n[e]&&(n[e].status=!0,n[e].result=t,o())},this.addListener=function(e){null!=e&&(r?e():t.push(e))},o()},sas.utils.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1]):void 0},sas.utils.parseCookies=function(e){for(var t={},n=e.split("; "),a=0;a<n.length;a++){var r=n[a],s=r.indexOf("="),o=r.substring(0,s),i=r.substring(s+1);t[o]=i}return t},sas.utils.setCookie=function(e,t,n,a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3);var s="expires="+r.toUTCString();e.cookie=t+"="+n+";"+s+";path=/"};var e=null;sas.utils.checkIfLocalStorageAvailable=function(){if(null==e)try{"undefined"!=typeof localStorage?(localStorage.setItem("smartadserver_feature_test","1"),"1"===localStorage.getItem("smartadserver_feature_test")?(localStorage.removeItem("smartadserver_feature_test"),e=!0):e=!1):e=!1}catch(t){e=!1}return e},sas.utils.getLocalStorageItemSafely=function(e){return sas.utils.checkIfLocalStorageAvailable()?window.localStorage.getItem(e):null},sas.utils.setLocalStorageItemSafely=function(e,t){return!!sas.utils.checkIfLocalStorageAvailable()&&(window.localStorage.setItem(e,t),!0)},sas.utils.isAddtlConsentBlocked=function(){return void 0!==window.sas_blockAddtlConsent&&!!window.sas_blockAddtlConsent},sas.events.addEvent=function(e,t,n){if(e&&t&&n)return e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1),{removeEvent:function(){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}}},sas.events.addLoadEvent=function(e,t){if(e&&t){var n="load",a=function(){return!0};(sas.utils.getIEVersion()<11||e==document)&&(n="readystatechange",a=function(){if(!e.readyState||"complete"==e.readyState||"loaded"==e.readyState)return!0});var r=sas.events.addEvent(e,n,function(){a()&&(r.removeEvent(),t.apply(this,arguments))})}},sas.events.addMessageEvent=function(e,t){if(e&&t)sas.events.addEvent(e,"message",function(){t.apply(this,arguments)})},sas.events._events=sas.events._events||{},sas.events._history=sas.events._history||[],sas.events.on=function(e,t,n){sas.events._events[e]=sas.events._events[e]||{que:[]};var a=sas.events._events[e];n&&(a=a[n]=a[n]||{que:[]}),a.que.push(t)},sas.events.fire=function(e,t,n){sas.events._history.push({eventName:e,data:sas.utils.extend({timestamp:Date.now()},t),id:n});var a=sas.events._events[e];if(a){if(n&&a[n])for(var r=0;r<a[n].que.length;r++)a[n].que[r](sas.utils.extend({},t),n);for(r=0;r<a.que.length;r++)a.que[r](sas.utils.extend({},t),n)}},sas.events.off=function(e,t,n){var a=sas.events._events[e];if(a){var r=a.que;if(n&&(r=a[n].que),r){var s=r.indexOf(t);s>=0&&r.splice(s,1)}}},sas.events.history=function(e){for(var t=[],n=0;n<sas.events._history.length;n++){var a=sas.events._history[n];e&&a.eventName!=e||t.push(sas.utils.extend({},a))}return t}}(),function(){var e=function(e){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.hasAddtlConsent=!1,this.name=e.name,this.sas_cookie_name=e.sas_cookie_name,this.sas_addtl_cookie_name=e.sas_addtl_cookie_name,this.version=e.version,this.get_consent_function=e.get_consent_function,this.api_function_name=e.api_function_name,this.consentObject_consentDataName=e.consentObject_consentDataName,this.consentObject_additionalConsentDataName=e.consentObject_additionalConsentDataName,this.apiLocator=e.apiLocator,this.sentMessage=e.sentMessage,this.postMessage_return_objectName=e.postMessage_return_objectName,this.apiCallbacks={}};e.prototype.cmpCallback=function(e,t){if(t&&e&&void 0!=e[this.consentObject_consentDataName]&&null!=e[this.consentObject_consentDataName]){this.apiAnsweredOk=!0,this.consentObject_additionalConsentDataName&&e[this.consentObject_additionalConsentDataName]&&(this.hasAddtlConsent=!0);var n={consentObject:e,name:this.consentObject_consentDataName};this.hasAddtlConsent&&(n.additionalConsent=this.consentObject_additionalConsentDataName),sas.events.fire("ApiAnswered Valid answer",n,this.name),sas.utils.setLocalStorageItemSafely(this.sas_cookie_name,e[this.consentObject_consentDataName]),this.hasAddtlConsent&&sas.utils.setLocalStorageItemSafely(this.sas_addtl_cookie_name,e[this.consentObject_additionalConsentDataName])}else sas.events.fire("ApiAnswered Wrong answer",{consent:e,success:t,failType:"Wrong answer",version:this.version},this.name)},e.prototype.callApiLocal=function(){var e=this,t=window[this.api_function_name];return void 0!==t&&"[object Function]"===Object.prototype.toString.call(t)&&(this.apiWasFound=!0,sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),t(this.get_consent_function,this.version,function(t,n){e.cmpCallback(t,n)}),!0)},e.prototype.callApiInFrame=function(){for(var e,t,n,a,r,s,o=window,i=this;!e;){try{o.frames[this.apiLocator]&&(e=o)}catch(e){}if(o===window.top)break;o=o.parent}if(e){this.apiWasFound=!0,sas.events.fire("ApiFrameFound",{version:this.version},this.name);return i.eventMessageListenerAdded||(sas.events.addEvent(window,"message",function(e){i.readPostMessageResponse(e)}),i.eventMessageListenerAdded=!0),sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),t=this.get_consent_function,n=void 0,a=function(e,t){i.cmpCallback(e,t)},r="smartjs"+Math.random(),(s={})[i.sentMessage]={command:t,parameter:n,callId:r,version:i.version},i.apiCallbacks[r]=a,e.postMessage(s,"*"),!0}return!1},e.prototype.readPostMessageResponse=function(e){var t="string"==typeof e.data&&-1!=e.data.indexOf(this.postMessage_return_objectName)?JSON.parse(e.data):e.data;if(t[this.postMessage_return_objectName]){var n=t[this.postMessage_return_objectName];"function"==typeof this.apiCallbacks[n.callId]&&this.apiCallbacks[n.callId](n.returnValue,n.success,this.version)}},e.prototype.tryCallApi=function(e){this.callApiLocal()||(e%10==0&&sas.events.fire("ApiNotFoundInFrame",{retryNumber:e},this.name),this.callApiInFrame())},e.prototype.searchApi=function(){var e=this,t=0,n=setInterval(function(){e.apiWasFound&&e.apiAnsweredOk||(t%10==0&&sas.events.fire("ApiSearch",{retryNumber:t},e.name),e.tryCallApi(t)),(t>50||e.apiWasFound&&e.apiAnsweredOk)&&clearInterval(n),t++},500)};var t=new e({name:"CMP V2",version:2,api_function_name:"__tcfapi",get_consent_function:"addEventListener",sas_cookie_name:"sas_euconsent_v2",sas_addtl_cookie_name:"sas_addtl_euconsent_v2",consentObject_consentDataName:"tcString",consentObject_additionalConsentDataName:"addtlConsent",apiLocator:"__tcfapiLocator",sentMessage:"__tcfapiCall",postMessage_return_objectName:"__tcfapiReturn"}),n=new e({name:"CCPA",version:1,api_function_name:"__uspapi",get_consent_function:"getUSPData",sas_cookie_name:"sas_usprivacy",consentObject_consentDataName:"uspString",apiLocator:"__uspapiLocator",sentMessage:"__uspapiCall",postMessage_return_objectName:"__uspapiReturn"});t.searchApi(),n.searchApi()}(window,document),function(){"use strict";var e,t,n={629:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Global=void 0;var n=function(){function e(){this.sas=window.sas=window.sas||{},this.sas.cmd=window.sas.cmd=window.sas.cmd||[]}return e.prototype.setEids=function(e){var t=this;"function"==typeof this.sas.setEids?this.sas.setEids([e]):this.sas.cmd.unshift(function(){return t.sas.setEids([e])})},e}();t.Global=n},791:function(e,t,n){var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Id5=void 0;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.partnerId=102,t}return r(t,e),t.prototype.init=function(e){var t={partnerId:this.partnerId};(null==e?void 0:e.pd)&&(t.pd=e.pd);var n=window.ID5.init(t);n.getUserId()&&this.setEids(n.getUserIdAsEid())},t}(n(629).Global);t.Id5=s},703:function(e,t,n){var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Liveramp=void 0;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atsPath="https://ats.rlcdn.com/ats.js",t.storageKey="sas__lr_env",t}return r(t,e),t.prototype.init=function(){this.fetchId(),this.readId()},t.prototype.fetchId=function(){var e=this;(window.ats?Promise.resolve():new Promise(function(t){var n=document.createElement("script");n.onload=t,n.src=e.atsPath,document.head.appendChild(n)})).then(function(){window.ats.start({placementID:13434,storageType:"localStorage",detectionType:"scrapeAndUrl",urlParameter:"email",cssSelectors:["input[type=text]","input[type=email]"]}),window.ats.retrieveEnvelope().then(function(t){t&&window.localStorage.setItem(e.storageKey,JSON.parse(t).envelope)})})},t.prototype.readId=function(){var e=window.localStorage.getItem(this.storageKey);e&&this.setEids({source:"liveramp.com",uids:[{id:e}]})},t}(n(629).Global);t.Liveramp=s}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var s=a[e]={exports:{}};return n[e].call(s.exports,s,s.exports,r),s.exports}e=r(791),t=r(703),(new(function(){function n(){}return n.prototype.initModules=function(n){void 0!==window.sas_useID5Module&&!0===window.sas_useID5Module&&(new e.Id5).init(null==n?void 0:n.id5),void 0!==window.sas_useLiverampModule&&!0===window.sas_useLiverampModule&&"undefined"!=typeof Promise&&(new t.Liveramp).init()},n.prototype.init=function(){var e,t,n=this;null===(t=null===(e=null===window||void 0===window?void 0:window.sas)||void 0===e?void 0:e.events)||void 0===t||t.on("setupCalled",function(e){return n.initModules(null==e?void 0:e.modules)},"setupCalledId")},n}())).init()}(),function(e,t){if(!sas.__smartLoaded){sas.__smartLoaded=!0;var n=function(e){var t=this;t.instances=[],sas.events.on("ad",function(){t._onAd.apply(t,arguments)},e),sas.events.on("load",function(){t._onLoad.apply(t,arguments)},e),sas.events.on("noad",function(){t._onNoad.apply(t,arguments)},e),sas.events.on("error",function(){t._onError.apply(t,arguments)},e),sas.events.on("beforeRender",function(){t._beforeRender.apply(t,arguments)},e),sas.events.on("beforeFetch",function(){t._beforeFetch.apply(t,arguments)},e),sas.events.on("hbRender",function(){t._hbRender.apply(t,arguments)},e)};n.prototype.onCall=function(e,t,n){this.callType=e,this.ad=t,this.options=n},n.prototype.reset=function(e,t){if(this.displayData=null,this.hbRenderUrls=null,e?this.renderStatus=null:"rendered"==this.renderStatus&&(this.renderStatus="pending"),sas.events.fire("reset",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId,hardReset:e},this.ad.tagId),t)for(var n=0;n<this.instances.length;n++)this.instances[n].reset(e)},n.prototype.setHeaderBiddingWinner=function(e){this.headerBidding=e},n.prototype._onLoad=function(){var n=t.getElementById(this.ad.tagId);n&&(this.hasAd=this.hasAd||n.childNodes.length>1,e.sas_loadHandler&&e.sas_loadHandler({id:this.ad.formatId,hasAd:this.hasAd}),this.options&&this.options.onLoad&&this.options.onLoad({formatId:this.ad.formatId,tagId:this.ad.tagId,hasAd:this.hasAd}))},n.prototype._beforeRender=function(e){this.options&&this.options.beforeRender&&this.options.beforeRender(e)},n.prototype._beforeFetch=function(e){this.options&&this.options.beforeFetch&&this.options.beforeFetch(e)},n.prototype._onError=function(e){this.options&&this.options.onError&&this.options.onError(e)},n.prototype._onNoad=function(e){this.callType==sas.callType.ONECALL&&this.ad.isOnecallJSON?this.displayData.scriptNoad&&((new Image).src=this.displayData.scriptNoad):this.callType==sas.callType.ONECALL&&sas_manager&&sas_manager.noad(this.ad.formatId),e.hbRenderUrls&&e.hbRenderUrls.hbRenderFailedUrl&&(this.hbRenderUrls=e.hbRenderUrls,e.hbRenderUrls=null),this.options&&this.options.onNoad&&this.options.onNoad(e)},n.prototype._onAd=function(e){this.hasAd=!0,this.options&&this.options.onAd&&this.options.onAd(e)},n.prototype.clean=function(){var e=t.getElementById(this.ad.tagId);this.options&&this.options.onClean&&this.options.onClean(this.ad.formatId,e),sas.events.fire("clean",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId},this.ad.tagId),e&&(e.innerHTML="")},n.prototype._hbRender=function(e){this.hbRenderUrls&&(e.success?(new Image).src=this.hbRenderUrls.hbRenderSuccessUrl:(new Image).src=this.hbRenderUrls.hbRenderFailedUrl,this.hbRenderUrls=null)},n.prototype.render=function(){var e=this;if("rendered"!=this.renderStatus)if(this.displayData){this.renderStatus="rendered",this.clean();var n={formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId};this.displayData.hbRenderFailedUrl&&(n.hbRenderUrls={hbRenderFailedUrl:this.displayData.hbRenderFailedUrl,hbRenderSuccessUrl:this.displayData.hbRenderSuccessUrl}),sas.events.fire("beforeRender",n,e.ad.tagId);var a=function(){sas.events.fire("load",n,e.ad.tagId)},r=function(){sas.events.fire("error",n,e.ad.tagId),sas.events.fire("noad",n,e.ad.tagId)};if(!this.displayData.scriptType)return sas.events.fire("load",n,this.ad.tagId),void sas.events.fire("noad",n,this.ad.tagId);var s=t.getElementById(this.ad.tagId);if(s){switch(this.displayData.scriptType){case"iframe":M(s,this,this.options.async,a,r);break;case"script":W(s,this.displayData.scriptSrc,this.options.async,a,r);break;case"passback":sas.passback({formatId:this.ad.formatId,tagId:this.ad.tagId,chain:this.displayData.chain});break;case"content":G(s,this),a();break;default:throw new Error("Unsupported script type "+this.displayData.scriptType)}sas.events.fire("render",n,this.ad.tagId)}else sas.events.fire("error",n,this.ad.tagId)}else this.renderStatus="pending"};var a=function(){},r=!1,s=function(){return Math.round(1e10*Math.random())},o="http://www.smartadserver.com",i=s(),c=!0,l=encodeURIComponent,d=decodeURIComponent,u=0,p=!1,f=0,h=!1,g=null,v=null,m=null,y={},I=[],b=[],_={},C={},w={},S=null;sas._networks=sas._networks||{},sas._pendingCommands=sas._pendingCommands||{};var k={};sas.callType={STD:"std",IFRAME:"iframe",ONECALL:"onecall",XML:"xml",PASSBACK:"passback"},sas.renderMode={DEFAULT:0,READY:1,ON_DEMAND:2};var D=!1,A=[],T={onLoad:a,onError:a,onClean:a,beforeRender:a};sas.events.on("call",function(e){var t=y[e.ad.tagId];le.mode&&le.modeReady&&(null===le.tagId&&le.formatId===e.ad.formatId||le.tagId==e.ad.tagId)?R(e.ad.formats):(oe("Make a std call ",e),e.ad.usePostStandard?L(e):t.displayData={scriptType:"script",scriptSrc:J(e.callType,e.ad,e.options)}),(fe[e.ad.tagId]?fe[e.ad.tagId]:pe).addListener(function(){t.render()})},sas.callType.STD),sas.events.on("call",function(e){var t=y[e.ad.tagId];le.mode&&le.modeReady&&le.formatId===e.ad.formatId?R(e.ad.formats):(oe("Make a iframe call ",e),t.displayData={scriptType:"iframe",scriptSrc:J(e.callType,e.ad,e.options),width:e.ad.width||0,height:e.ad.height||0}),pe.addListener(function(){t.render()})},sas.callType.IFRAME),sas.events.on("call",function(e){if(le.mode&&le.modeReady&&e.hasOwnProperty("ad")&&e.ad.hasOwnProperty("formats")){for(var t=e.ad.formats,n=-1,a=0;a<t.length;a++)Number(t[a].id)===le.formatId&&(n=a);n>-1?(R(e.ad.formats),t.splice(n,1),e.ad.formats=t):oe("Format id for preview doesn't exist in the onecall formats list")}oe("Make a onecall for formats ",e),pe.addListener(function(){e.ad.isOnecallJSON?E(e):O(e)})},sas.callType.ONECALL);var O=function(e){var n=J(e.callType,e.ad,e.options)();W(t.getElementsByTagName("head")[0],n,e.options.async,function(){for(var t in sas_manager.formats){if(o=U(t.substring(1))){var n=sas_manager.formats[t];o.options.async||n.chain?o.displayData={scriptType:n.scriptType(),scriptSrc:n.scriptSrc(),chain:n.chain,width:"iframe"==n.scriptType()?n.scriptWidth():0,height:"iframe"==n.scriptType()?n.scriptHeight():0}:o.displayData=ve(n.scriptURL()),o.displayData.scriptSrc&&(o.displayData.scriptSrc=function(e){return function(){return Ae(e)}}(o.displayData.scriptSrc))}}var a={};for(var r in e.ad.formats)a[e.ad.formats[r].id]=!0;for(var s in y){var o;a[(o=y[s]).ad.formatId]&&(o.displayData=o.displayData||{},"pending"==o.renderStatus&&o.render())}},e.options.onError)},E=function(e){pe.addListener(function(){var t=z(e.ad,e.options,e.callType);!function(e,t,n,a,r){Ie(e,t,n,a,r,JSON.parse,"application/json")}(q(e.ad,e.options,e.callType),t,function(e){for(var t in e){var n=U(t);if(n){var a=e[t];n.displayData={hbRenderFailedUrl:a.HbRenderFailedUrl,hbRenderSuccessUrl:a.HbRenderSuccessUrl,scriptType:a.ScriptType,scriptSrc:a.ScriptSrc,scriptNoad:a.ScriptNoad,contentType:a.ContentType,content:a.Content,chain:a.Chain,width:a.ScriptWidth,height:a.ScriptHeight},n.displayData.scriptSrc&&(n.displayData.scriptSrc=function(e){return function(){return Ae(e)}}(n.displayData.scriptSrc)),"pending"==n.renderStatus&&n.render()}}},e.options.onError,e.options.domain)})},L=function(e){pe.addListener(function(){var t=z(e.ad,e.options,e.callType);!function(e,t,n,a,r){Ie(e,t,n,a,r,function(e){return e},"application/javascript")}(q(e.ad,e.options,e.callType),t,function(t){var n=e.ad.tagId,a=U(n);a&&(a.displayData={scriptType:"content",contentType:"application/javascript",content:t},"pending"==a.renderStatus&&(fe[n]?fe[n].addListener(function(){this.render()}.bind(a)):a.render()))},e.options.onError,e.options.domain)})},R=function(n){if(null==le.tagId&&n.length)for(var a=0;a<n.length;a++)if(Number(n[a].id)===le.formatId){le.tagId=n[a].tagId;break}oe("Preview mode is active, make a preview call for formatId "+le.formatId+" / tagId "+le.tagId),oe("Call preview ",le.url),e.sas_ajax=!0;var r=e.location.protocol+le.url+"insid="+le.insertionId+"&ruid="+le.ruid+"&tag="+le.tagId+"&timestamp="+Date.now(),s=t.createElement("script");s.id="sas_script"+j++,s.type="text/javascript",s.src=r,s.async=!0,t.getElementById(le.tagId)?t.getElementById(le.tagId).appendChild(s):t.getElementsByTagName("head")[0].appendChild(s)},N="invalid site id",x="invalid page id or name",F="invalid format id",P=function(e){throw new Error(e)};Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var U=function(e){var t=y[e=""+e]||y["sas_"+e];if(t)return t;var a=e.split("_"),r=a.slice(0,a.length-1).join("_");if(a.length>1&&!isNaN(a[a.length-1])&&(t=y[r]||y["sas_"+r])){var s=parseInt(a[a.length-1]),o=t.ad.tagId+"_"+s,i=new n(o);return i.onCall(t.callType,sas.utils.extend({},t.ad,{tagId:o,instance:s}),t.options),t.instances.push(i),y[o]=i,i}return null},M=function(e,n,a,r,s){var o=t.createElement("iframe");o.id="sas_i_"+n.ad.formatId+(n.ad.instance?"_"+n.ad.instance:""),o.scrolling="no",o.frameBorder=0,o.width=n.displayData.width,o.height=n.displayData.height,o.style.margin=0,o.style.padding=0,o.style.width=n.displayData.width+"px",o.style.height=n.displayData.height+"px";var i="function"==typeof n.displayData.scriptSrc?n.displayData.scriptSrc():n.displayData.scriptSrc,c=K(e.id);void 0!==c&&(i=Y(i,c)),o.src=i,a?(sas.events.addLoadEvent(o,r),sas.events.addEvent(o,"error",s)):(o.setAttribute("onload",V(r)+"()"),o.setAttribute("onError",V(s)+"()")),n.options.async?e.appendChild(o):t.write(o.outerHTML)},j=1,B=function(e,n,a){var r=t.createElement("script");r.id="sas_script"+j++,r.type="text/javascript",r.text=n,a?e.appendChild(r):t.write(r.outerHTML)},G=function(e,n){switch(n.displayData.contentType){case"application/javascript":B(e,n.displayData.content,n.options.async);break;case"text/html":!function(e,n){var a=t.createElement("iframe");a.id="sas_i"+n.ad.formatId+(n.ad.instance?"_"+n.ad.instance:""),a.scrolling="no",a.frameBorder=0,a.width=n.displayData.width,a.height=n.displayData.height,a.style.margin=0,a.style.padding=0,a.style.width=n.displayData.width+"px",a.style.height=n.displayData.height+"px",e.appendChild(a),a.contentWindow.document.open("text/html","replace"),a.contentWindow.document.write(n.displayData.content),a.contentWindow.document.close()}(e,n)}},H=1,V=function(t){var n="__sas_gcbk_"+H++;return e[n]=function(){e[n]&&(e[n]=void 0,t())},n},W=function(e,n,a,r,s){var o=t.createElement("script");o.id="sas_script"+j++,o.type="text/javascript";var i="function"==typeof n?n():n,c=K(e.id);c&&(i=Y(i,c)),o.src=i,o.async=a,a?(sas.events.addLoadEvent(o,r),sas.events.addEvent(o,"error",s)):(o.setAttribute("onload",V(r)+"()"),o.setAttribute("onError",V(s)+"()")),a?e.appendChild(o):t.write(o.outerHTML)},z=function(t,n,a){n=sas.utils.extend({forceMasterFlag:!1},n),c=!!n.forceMasterFlag||c,i=n.resetTimestamp?s():i,a==sas.callType.ONECALL&&$();var r=X(),o=De()||(e.location.origin?e.location.origin+e.location.pathname:""),l=screen.height,d=screen.width;return function(e,t,n,a,r,s,o){var i={timestamp:n,networkId:r.networkId,getAdContent:r.getAdContent,siteId:e.siteId,pageId:e.pageId,pageName:e.pageName,master:t,noAdCallback:"sas.noad",pageUrl:a,screen:{height:s,width:o},uid:g||0,appName:v||"",bundleId:m||"",noCookie:r.noCookie,schain:e.schain||"",clickTrackingUrl:r.clickTrackingUrl,clickTrackingEncodingLevel:r.clickTrackingEncodingLevel,ads:[]},c=_e();c&&(i.gdpr_consent=c);var l=be();l&&(i.addtl_consent=l);var d=Ce();d&&(i.us_privacy=d);var u=function(e){return e.length&&"object"==typeof e[0]&&e[0].source&&e[0].uids&&e[0].uids.length?e:null}(b);u?i.eids=u:sas.events.history("setEidsCalled").length&&console.warn("The eids object is malformed, no eids will be sent in the adcall");C&&(i.partnerExtUids=C);for(var p=0;p<e.formats.length;p++){var f=e.formats[p],h=f.tagId?f.tagId:"sas_"+f.id,y=K(h)||{};i.ads.push({formatId:f.id,originalFormatId:f.originalFormatId,tagId:h,bidfloor:f.overriddenBidfloor,target:e.target,currency:f.currency,headerBidding:y,isLazy:!!we(f.id),isAdRefresh:Se(f.id)})}return i}(t,r,i,o,n,l,d)},q=function(e,t,n){return t.domain+"/"+(n==sas.callType.ONECALL?t.networkId+"/call":"genericpost")},J=function(t,n,a){a=sas.utils.extend({forceMasterFlag:!1},a),c=!!a.forceMasterFlag||c,i=a.resetTimestamp?s():i,t==sas.callType.ONECALL&&$();var r=X(),o=De()||(e.location.origin?e.location.origin+e.location.pathname:""),l=screen.height,d=screen.width;return function(){return sas.utils.buildUrl(a.domain,t,n,r,i,a.async,a.networkId,g,v,m,o,C,K(n.tagId),a.clickTrackingUrl,a.clickTrackingEncodingLevel,l,d)}},Y=function(e,t){return null!=t&&(e+="&hb_cpm="+t.cpm+"&hb_bid="+t.bidder+"&hb_ccy="+t.currency+"&hb_dealid="+t.dealId),e},K=function(e){if(w[e]){if(!isNaN(w[e].cpm)){var t=w[e];return w[e]=void 0,t}return w[e]=void 0,null}return null},X=function(){return $()?"m":"s"},$=function(){return!!c&&(c=!1,!0)},Q=function(e,n){var a,s,o=t.getElementById(e);if(!o&&(n||!r)){var i=t.currentScript||t.scripts[t.scripts.length-1];i.async||(i.parentNode.insertBefore((a=e,(s=t.createElement("div")).id=a,s),i),o=t.getElementById(e))}return o||console.warn("The tag element with id="+e+" wasn't found and couldn't be created as well!"),o},Z=function(n,a){if(fe.hasOwnProperty(n)||(fe[n]=new sas.utils.Latch(["loaded","smartLazyLoading"+n]),pe.addListener(function(){for(var e in fe)fe[e].notify("loaded")})),sas.lazyLoading&&sas.lazyLoading.formats&&(0===sas.lazyLoading.formats.length||sas.lazyLoading.formats.length&&-1!==sas.lazyLoading.formats.indexOf(parseInt(a)))){var r=null;e.IntersectionObserver&&(r=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.intersectionRatio>0||e.isIntersecting){var n=e.target.id;t.unobserve(e.target),fe.hasOwnProperty(n)&&fe[n].notify("smartLazyLoading"+n)}})},{rootMargin:sas.lazyLoading.margin})),r&&r.observe(t.getElementById(n))}else fe[n].notify("smartLazyLoading"+n)},ee=[];sas.events.addLoadEvent(t,function(){r=!0,ee.push=function(e){e()};for(var e=0;e<ee.length;e++)ee[e]()});var te=!1;sas.events.addMessageEvent(e,function(){if(arguments&&!(arguments.length<1)){var e=arguments[0];if(e&&e.data&&"string"==typeof e.data&&!(e.data.indexOf("SMRT")<0)){var t=e.data.split(" ");if(!(t.length<2)){var n=t[2]||"";if("sas.noad"===t[1]||"NOAD"===t[1])try{sas.noad(n)}catch(e){}}}}});var ne,ae=function(e,t){if(!e)return!1;if(!t)return!1;var n,a=sas._networks[t.networkId];return!!(a&&a.f&&a.f[e.formatId]&&(n=a.f[e.formatId],Math.random()<n))},re=function(t){return"function"==typeof e.URLSearchParams?new URLSearchParams(e.location.search).get(t):null},se=function(e){var t=re(e);return t=null!==t&&t.length?Number(t):null},oe=function(e,arguments,t){var n=void 0===t?"info":t;if(ie&&e.length&&void 0!==console[n]){var a={txt:"%csmart",css:"background: #ffd500; border-radius: 2px; color: #feffff; font-family: lato,sans-serif; padding:1px 3px;"};void 0!==arguments?console[n](a.txt,a.css,e,arguments):console[n](a.txt,a.css,e)}},ie=!1,ce=function(){var e=re("sas_debug");null!==e&&(ie="true"===e)},le={mode:!1,modeReady:!1,url:"//www.saspreview.com/current/Utilities/noshow.ashx?",ruid:null,formatId:null,tagId:null,insertionId:null},de=function(){var e=re("sas_preview");null!==e&&(le.mode="true"===e,le.mode&&(le.modeReady=(le.insertionId=se("insid"),le.ruid=se("ruid"),le.formatId=se("formatId"),le.tagId=re("tagId"),null!==le.insertionId&&null!==le.ruid&&null!==le.formatId?(oe("Preview mode is active, we have required parameters"),!0):(oe("Preview mode is active, but some required parameters are missing"),oe("Preview insertionId ",le.insertionId),oe("Preview ruid ",le.ruid),oe("Preview formatId ",le.formatId),!1))))},ue=!1,pe=new sas.utils.Latch(["loaded"]),fe={};sas.setup=function(t){if(ue)throw new Error("sas.setup can only be called once");sas.events.fire("setupCalled",t,"setupCalledId"),ce(),de(),ue=!0,o=(t=t||{}).domain||"http://www.smartadserver.com",p=t.async||p,sas_ajax=p,u=t.networkid||u,f=t.renderMode||f,h=t.inSequence||h,g=t.uid,C=sas.utils.extend(C,t.partnerIds),m=t.bundleId,v=t.appName,e.sas_renderMode=f,sas.configure({id:u}),p&&f!=sas.renderMode.DEFAULT||pe.notify("loaded"),f==sas.renderMode.ON_DEMAND&&(ne=setTimeout(function(){sas.render()},parseInt(t.renderModeTimeout)||5e3))},sas.call=function(t,a,r){"string"!=typeof t&&(r=sas.utils.extend({},a,{async:!0}),a=t,t="std",f==sas.renderMode.DEFAULT&&pe.notify("loaded"),ce(),de()),r=sas.utils.extend({},r),t==sas.callType.ONECALL?a.isOnecallJSON=!!a.formats:t==sas.callType.STD&&(a.usePostStandard=!!e.sas_usePostStandard),(a.isOnecallJSON||a.usePostStandard)&&(r.async=!0),(a=sas.utils.extend({},a)).siteId=a.siteId||a.siteid,a.pageId=a.pageId||a.pageid,a.pageName=a.pageName||a.pagename,a.formatId=a.formatId||a.formatid,a.siteId||P(N);var s,i,c=(s=navigator.userAgent.indexOf("iPad")>0,i=""+navigator.userAgent.indexOf("iPhone")>0,s||i?s?"ipad":"iphone":navigator.userAgent.indexOf("Android")>0?"android":"");if(c.length>0&&(a.target&&a.target.length>0&&(a.target+=";"),a.target+="platform="+c),a.pageId||a.pageName||P(x),a.formatId||a.formats||P(F),(r=sas.utils.extend({},T,{async:p,domain:o,networkId:u},r))&&r.networkId){var l=parseInt(r.networkId);if(l>0&&!sas._networks[l])return sas._pendingCommands[l]=sas._pendingCommands[l]||[],void sas._pendingCommands[l].push(function(){sas.call(t,a,r)})}if(!ae(a,r)){if(!a||!a.siteId||!a.pageId&&!a.pageName||!a.formatId&&!a.formats)throw new Error("Missing parameter(s)");if(!a.formats){a.formats=[];for(var d=(""+a.formatId).replace(/\s/g,"").split(","),g=0;g<d.length;g++)a.formats.push({id:d[g]})}for(g=0;g<a.formats.length;g++){var v=a.formats[g];t==sas.callType.STD||t==sas.callType.IFRAME?(a.tagId=v.tagId=a.tagId||v.tagId||"sas_"+v.id,Q(a.tagId,r.async)):v.tagId=v.tagId||"sas_"+v.id;var m=y[v.tagId]||new n(v.tagId);m.onCall(t,sas.utils.extend({},a,{tagId:v.tagId,formatId:v.id,originalFormatId:v.id}),r),m.reset(!!r.reset,t==sas.callType.ONECALL),y[v.tagId]=m,sas.lazyLoading&&p&&t==sas.callType.STD&&Z(v.tagId,v.id)}r.async&&f==sas.renderMode.READY&&(te||(te=!0,ee.push(function(){sas.render()}))),a.passback||I.push({callType:t,ad:sas.utils.extend({},a),options:sas.utils.extend({},r)}),r.async&&h?pe.addListener(function(){var e,n;e={callType:t,ad:a,options:r},n=function(){if(A.length>0){D=!0;var e=A.shift(),t=e.options.onLoad;e.options.onLoad=function(e){n(),t(e)},sas.events.fire("call",{callType:e.callType,ad:e.ad,options:e.options},e.callType)}else D=!1},A.push(e),D||n()}):sas.events.fire("call",{callType:t,ad:a,options:r},t)}},sas.passback=function(e){var t=e.tagId?e.tagId:"sas_"+e.formatId;if(_[t]={current:-1,ad:e},e.noadUrl){var n=function(){(new Image).src=e.noadUrl,sas.events.off("noad",n,t)};sas.events.on("noad",n,t)}sas.next(t)},sas.next=function(e){var n=U(e),a=_[n.ad.tagId];if(n&&a){var r=t.getElementById(n.ad.tagId);r&&(r.innerHTML=""),a.current>=0&&((new Image).src=a.ad.chain[a.current].noadUrl),a.current++,a.current<a.ad.chain.length?(a.ad.chain[a.current].countUrl&&((new Image).src=a.ad.chain[a.current].countUrl),a.ad.chain[a.current].script?B(r,a.ad.chain[a.current].script,n.options.async):W(r,a.ad.chain[a.current].scriptUrl,n.options.async)):sas.events.fire("noad",{formatId:n.ad.formatId,instance:n.ad.instance,tagId:n.ad.tagId},n.ad.tagId)}};var he={forceMasterFlag:!1,resetTimestamp:!0,target:void 0,autoRefresh:!1};sas.refresh=function(e,t){if(pe.isComplete()){t=sas.utils.extend({},he,e,t);var n=a;if(arguments.length<=1&&"string"!=typeof e&&isNaN(e))n=function(e){for(var n in y)y[n].reset(),k[y[n].ad.formatId]=t.autoRefresh;for(n=0;n<I.length;n++)I[n].options.async&&(e&&(I[n].ad.target=e),sas.events.fire("call",{callType:I[n].callType,ad:sas.utils.extend({},I[n].ad,{target:e}),options:sas.utils.extend({},I[n].options,t)},I[n].callType))};else{var r=U(e);if(!r||!r.options.async)return;k[r.ad.formatId]=t.autoRefresh,r.reset(),n=function(e){void 0!==e&&null!==e&&(r.ad.target=e||r.ad.target),sas.events.fire("call",{callType:sas.callType.STD,ad:r.ad,options:r.options},sas.callType.STD)}}c=!!t.forceMasterFlag||c,i=t.resetTimestamp?s():i,n(t.target)}},sas.getTag=function(e){var n=U(e);return n?t.getElementById(n.ad.tagId):null},sas.clean=function(e){if(0==arguments.length)for(var t in y){var n;(n=y[t]).clean()}else(n=U(e))&&n.clean()},sas.noad=function(e,t){var n=U(e);if(n){var a={formatId:n.ad.formatId,instance:n.ad.instance,tagId:n.ad.tagId};t&&(a.hbRenderUrls={hbRenderFailedUrl:t.HbRenderFailedUrl,hbRenderSuccessUrl:t.HbRenderSuccessUrl}),sas.events.fire("noad",a,n.ad.tagId)}},sas.render=function(n){if(0==arguments.length){if(clearTimeout(ne),!pe.isComplete()&&(f==sas.renderMode.READY&&r||f==sas.renderMode.ON_DEMAND))for(var a in pe.notify("loaded"),y){var s;"pending"!=(s=y[a]).renderStatus||!s.options.async&&r||s.render()}}else if(s=U(n)){a=s.ad.tagId;if(Q(a,s.options.async),sas.lazyLoading&&sas.lazyLoading.formats&&(-1!==sas.lazyLoading.formats.indexOf(Number(s.ad.originalFormatId))||0===sas.lazyLoading.formats.length)){var o=null;e.IntersectionObserver&&(o=new IntersectionObserver(function(e,t){e.forEach(function(e){(e.intersectionRatio>0||e.isIntersecting)&&(t.unobserve(e.target),sas.events.fire("beforeFetch",s),sas.lazyLoading.event?sas.events.on(sas.lazyLoading.event,function(){s.render()},a):s.render())})},{rootMargin:sas.lazyLoading.margin})),o?o.observe(t.getElementById(a)):s.render()}else s.render()}},sas.enableLazyLoading=function(t){p||console.warn("If lazy loading is not working, please make sure you enable it for asynchronous calls");var n={};n.formats=t.formats||[];var a=void 0!==e.orientation||-1!==navigator.userAgent.indexOf("IEMobile")?t.mobileFetchRatio||.8:t.fetchRatio||.1;n.margin=Math.round(100*(isNaN(a)||a<0?.1:a))+"%",n.event=t.event||null,sas.lazyLoading=n},sas.setPartnerId=function(e,t){C[e]=t},sas.appendHtml=function(e,n){var a=t.getElementById(e);if(Range&&Range.prototype.createContextualFragment)a.appendChild(t.createRange().createContextualFragment(n));else{var r=t.createElement("div");r.innerHTML=n;for(var s=r.childNodes,o=0;o<s.length;o++)a.appendChild(ke(s[o]))}},sas.configure=function(e){if(e&&e.id&&!(parseInt(e.id)<=0)&&!sas._networks[e.id]&&(sas._networks[e.id]=e,sas._pendingCommands[e.id]))for(var t;t=sas._pendingCommands[e.id].shift();)t()},sas.setEids=function(e){"object"==typeof e&&(b=b.concat(e)),sas.events.fire("setEidsCalled",{})},sas.setHeaderBiddingWinner=function(e,t){w[e]=null==t||"object"!=typeof t?null:{bidder:t.bidder,cpm:t.cpm,currency:t.currency,dealId:t.dealId},sas.events.fire("setHeaderBiddingWinner",{tagId:e,headBiddingData:sas.utils.extend({},w[e])},e)},sas.hbRenderSuccess=function(e){sas.events.fire("hbRender",{success:!0},e)},sas.hbRenderFailed=function(e){sas.events.fire("hbRender",{success:!1},e)},sas.setGdprConsentData=function(e){S=e},sas.utils.buildUrl=function(e,t,n,a,r,s,o,i,c,d,u,p,f,h,g,v,m){var y={};if(null!=o&&(y.nwid=o),y.siteid=n.siteId,y.pgid=n.pageId,y.pgname=n.pageName,y.fmtid=n.formatId,t==sas.callType.IFRAME&&(y.out="iframe"),s&&(y.async=1),t!=sas.callType.ONECALL){var I=a.split("=");y.visit=I.length>1?I[1]:a}else y.oc=1;for(var b in y.tmstp=r,n.target&&(y.tgt=l(n.target)),t!=sas.callType.ONECALL&&(y.orgfmtid=n.originalFormatId,y.tag=n.tagId),i&&(y.uid=i),c&&(y.appname=c),d&&(y.buid=d),v&&(y.sh=v),m&&(y.sw=m),u&&(y.pgDomain=l(u)),f&&t!=sas.callType.ONECALL&&(y.hb_bid=f.bidder,y.hb_cpm=f.cpm,y.hb_ccy=f.currency,y.hb_dealid=f.dealId),h&&(y.clcturl=l(h)),g&&(y.clctenc=g),p)y[encodeURIComponent("extuid-"+b)]=encodeURIComponent(p[b]);var _=_e();_&&(y.gdpr_consent=_);var C=be();C&&(y.addtl_consent=C);var w=Ce();w&&(y.us_privacy=w),y.noadcbk="sas.noad",n.schain&&(y.schain=n.schain),y.isLazy=we(n.formatId),y.isAdRefresh=Se(n.formatId);var S=[];for(var k in y)null!=y[k]&&S.push(k+"="+y[k]);return e+"/ac?"+S.join("&")};var ge=function(e,t,n){var a=e.indexOf("/");if(a<0)throw new Error("Invalid argument : sas_pageid");this.siteId=e.substring(0,a);var r=e.substring(a+1);0==r.indexOf("(")&&r.indexOf(")")==r.length-1&&(r=r.slice(1,r.length-1));var s=parseInt(r);s+""==r?this.pageId=s:this.pageName=r,this.formatId=t,this.target=n};e.sas_ads=sas,e.sas_ajax=!1,e.sas_manager=null,e.sas_unrenderedFormats=[],e.sas_callAd=sas.callAd,e.sas_callAds=sas.callAds,sas.callAd=sas.refresh,sas.callAds=function(){pe.isComplete()?sas.refresh():sas.render()},sas.cleanAd=sas.clean,sas.cleanAds=sas.clean;var ve=function(e){var n=t.createElement("div");n.innerHTML="_"+e;var a=n.childNodes[1];return{scriptType:a.tagName.toLowerCase(),scriptSrc:a.src,width:a.width||0,height:a.height||0}};e.sas_render=function(e,t,n,a,r){sas.render(e)},e.SmartAdServerAjaxOneCall=function(e,t){sas.render(t)},e.SmartAdServer_iframe=function(e,t,n,a,r){var s=new ge(e,t,n);s.width=a,s.height=r,sas.call("iframe",s)},e.SmartAdServer=function(e,t,n){var a=new ge(e,t,n);sas.call(sas.callType.STD,a)},e.SmartAdServerAjax=SmartAdServer,e.sas_gcf=function(e){return t.getElementById("sas_"+e)},e.sas_appendToContainer=function(e,n){var a=t.getElementById("sas_"+e);if(a){if("string"==typeof n){var r=t.createElement("div");r.innerHTML=n,n=r}a.appendChild(n)}},e.sascc=function(e,t){(new Image).src=o+"/h/mcp?imgid="+e+"&pgid="+t+"&uid=[uid]&tmstp="+i+"&tgt=[targeting]"},e.sasmobile=function(e,t,n){var a=new ge(e,t,n);sas.call(sas.callType.STD,a)};var me={};e.sas_addCleanListener=function(e,t){me[e]=t},sas.events.on("clean",function(e){me[e.tagId]&&me[e.tagId](),me[e.formatId]&&me[e.formatId]()}),e.sas_cleanAds=sas.clean,e.sas_cleanAd=sas.clean,sas.events.fire("Bootstrap",{time:"Start"}),sas.cmd=sas.cmd||[],sas.cmd.push=function(e){e()};for(var ye=0;ye<sas.cmd.length;ye++)sas.cmd[ye]();sas.events.fire("Bootstrap",{time:"End"})}function Ie(t,n,a,r,s,o,i){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==this.readyState){var e=o(this.responseText);200==this.status?a(e):r(e)}},c.withCredentials=!0;var l=!0;try{c.open("POST",t,!0)}catch(e){if(l=!1,sas.utils.getIEVersion()<=9&&-2147024891==e.number){var d=new XDomainRequest;d.open("POST",t),d.ontimeout=function(){r()},d.onerror=function(){r()},d.onload=function(){var e=JSON.parse(this.responseText);a(e)},d.send(JSON.stringify(n))}}l&&(c.setRequestHeader("content-type",i),!(!e.chrome||!e.chrome.webstore&&!e.chrome.runtime)&&c.setRequestHeader&&c.setRequestHeader("Save-Data","off"),c.send(JSON.stringify(n)))}function be(){if(sas.utils.isAddtlConsentBlocked())return null;var e=sas.utils.getLocalStorageItemSafely("sas_addtl_euconsent_v2");return e||null}function _e(){if(S)return S;var e=sas.utils.getLocalStorageItemSafely("sas_euconsent");return sas.utils.getLocalStorageItemSafely("sas_euconsent_v2")||e}function Ce(){var e=sas.utils.getLocalStorageItemSafely("sas_usprivacy");return e||null}function we(e){return sas.lazyLoading&&sas.lazyLoading.formats&&(0===sas.lazyLoading.formats.length||sas.lazyLoading.formats.length&&-1!==sas.lazyLoading.formats.indexOf(parseInt(e)))?1:0}function Se(e){return void 0!==k[e]?k[e]?2:1:0}function ke(e){var n;if("script"==e.tagName.toLowerCase())n=t.createElement("script"),e.type&&(n.type=e.type),e.src&&(n.src=e.src),e.text&&(n.text=e.text);else{n=e.cloneNode(!1);for(var a=e.childNodes,r=0;r<a.length;r++)n.appendChild(ke(a[r]))}return n}function De(){var t=e;try{for(;t.parent.document;){if(t.parent.document===t.document)return t.location.origin?t.location.origin+t.location.pathname:"";t=t.parent}}catch(e){}try{try{if(e.top.location.href)return e.top.location.origin?e.top.location.origin+e.top.location.pathname:""}catch(e){}var n=e.location.ancestorOrigins;return 1==n.length?t.document.referrer:n[n.length-1]}catch(e){return t.document.referrer}}function Ae(e){var n,a=t.createElement("a"),r=/(?:^\?|&)([^=&]+)=?([^&]*)(?=&|$)/g;a.href=e;for(var s=a.search,o=[];null!==(n=r.exec(s));){"extuid-"===(u={n:d(n[1]),v:d(n[2])}).n.substr(0,7)&&C[u.n.substr(7)]||o.push(u)}for(var i in C)o.push({n:"extuid-"+i,v:C[i]});s="";for(var c=0;c<o.length;c++){var u=o[c];s+=(0===c?"?":"&")+l(u.n),""!==u.v&&(s+="="+l(u.v))}return a.search=s,a.href}}(window,document);/*_ts_*/;if(window.sas && sas.configure){sas.configure({id:3323});}/*_ts_*/