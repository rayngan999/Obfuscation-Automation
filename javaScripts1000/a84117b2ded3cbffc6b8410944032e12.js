ï»¿/*! Picturefill - v2.2.0-beta - 2014-11-19
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var n=document.createElement("style"),i=document.getElementsByTagName("script")[0],r=null;n.type="text/css";n.id="matchmediajs-test";i.parentNode.insertBefore(n,i);r="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle;t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=i:n.textContent=i,"1px"===r.width}}}return function(n){return{matches:t.matchMedium(n||"all"),media:n||"all"}}}()),function(n,t,i){"use strict";function u(n){var o,t,u,i,f,s=n||{},e,h;for(o=s.elements||r.getAllElements(),e=0,h=o.length;h>e;e++)if(t=o[e],u=t.parentNode,i=void 0,f=void 0,"IMG"===t.nodeName.toUpperCase()&&(t[r.ns]||(t[r.ns]={}),s.reevaluate||!t[r.ns].evaluated)){if("PICTURE"===u.nodeName.toUpperCase()){if(r.removeVideoShim(u),i=r.getMatch(t,u),i===!1)continue}else i=void 0;("PICTURE"===u.nodeName.toUpperCase()||t.srcset&&!r.srcsetSupported||!r.sizesSupported&&t.srcset&&t.srcset.indexOf("w")>-1)&&r.dodgeSrcset(t);i?(f=r.processSourceSet(i),r.applyBestCandidate(f,t)):(f=r.processSourceSet(t),(void 0===t.srcset||t[r.ns].srcset)&&r.applyBestCandidate(f,t));t[r.ns].evaluated=!0}}function f(){function i(){var t;n._picturefillWorking||(n._picturefillWorking=!0,n.clearTimeout(t),t=n.setTimeout(function(){u({reevaluate:!0});n._picturefillWorking=!1},60))}u();var r=setInterval(function(){return u(),/^loaded|^i|^c/.test(t.readyState)?void clearInterval(r):void 0},250);n.addEventListener?n.addEventListener("resize",i,!1):n.attachEvent&&n.attachEvent("onresize",i)}if(n.HTMLPictureElement)return void(n.picturefill=function(){});t.createElement("picture");var r={};r.ns="picturefill",function(){r.srcsetSupported="srcset"in i;r.sizesSupported="sizes"in i}();r.trim=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")};r.endsWith=function(n,t){return n.endsWith?n.endsWith(t):-1!==n.indexOf(t,n.length-t.length)};r.restrictsMixedContent=function(){return"https:"===n.location.protocol};r.matchesMedia=function(t){return n.matchMedia&&n.matchMedia(t).matches};r.getDpr=function(){return n.devicePixelRatio||1};r.getWidthFromLength=function(n){n=n&&n.indexOf("%")>-1==!1&&(parseFloat(n)>0||n.indexOf("calc(")>-1)?n:"100vw";n=n.replace("vw","%");r.lengthEl||(r.lengthEl=t.createElement("div"),r.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden");r.lengthEl.style.width=n;t.body.appendChild(r.lengthEl);r.lengthEl.className="helper-from-picturefill-js";r.lengthEl.offsetWidth<=0&&(r.lengthEl.style.width=t.documentElement.offsetWidth+"px");var i=r.lengthEl.offsetWidth;return t.body.removeChild(r.lengthEl),i};r.types={};r.types["image/jpeg"]=!0;r.types["image/gif"]=!0;r.types["image/png"]=!0;r.types["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");r.types["image/webp"]=function(){var n="image/webp";i.onerror=function(){r.types[n]=!1;u()};i.onload=function(){r.types[n]=1===i.width;u()};i.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="};r.verifyTypeSupport=function(n){var t=n.getAttribute("type");return null===t||""===t?!0:"function"==typeof r.types[t]?(r.types[t](),"pending"):r.types[t]};r.parseSize=function(n){var t=/(\([^)]+\))?\s*(.+)/g.exec(n);return{media:t&&t[1],length:t&&t[2]}};r.findWidthFromSourceSize=function(n){for(var i,u=r.trim(n).split(/\s*,\s*/),t=0,s=u.length;s>t;t++){var h=u[t],f=r.parseSize(h),e=f.length,o=f.media;if(e&&(!o||r.matchesMedia(o))){i=e;break}}return r.getWidthFromLength(i)};r.parseSrcset=function(n){for(var t,r,i,e,u,f=[];""!==n;)n=n.replace(/^\s+/g,""),r=n.search(/\s/g),i=null,-1!==r?(t=n.slice(0,r),e=t.slice(-1),((","===e||""===t)&&(t=t.replace(/,+$/,""),i=""),n=n.slice(r+1),null===i)&&(u=n.indexOf(","),-1!==u?(i=n.slice(0,u),n=n.slice(u+1)):(i=n,n=""))):(t=n,n=""),(t||i)&&f.push({url:t,descriptor:i});return f};r.parseDescriptor=function(n,t){var o,c=t||"100vw",h=n&&n.replace(/(^\s+|\s+$)/g,""),l=r.findWidthFromSourceSize(c),s,u,i,f,e;if(h)for(s=h.split(" "),u=s.length-1;u>=0;u--)i=s[u],f=i&&i.slice(i.length-1),"h"!==f&&"w"!==f||r.sizesSupported?"x"===f&&(e=i&&parseFloat(i,10),o=e&&!isNaN(e)?e:1):o=parseFloat(parseInt(i,10)/l);return o||1};r.getCandidatesFromSourceSet=function(n,t){for(var u,f=r.parseSrcset(n),e=[],i=0,o=f.length;o>i;i++)u=f[i],e.push({url:u.url,resolution:r.parseDescriptor(u.descriptor,t)});return e};r.dodgeSrcset=function(n){n.srcset&&(n[r.ns].srcset=n.srcset,n.removeAttribute("srcset"))};r.processSourceSet=function(n){var t=n.getAttribute("srcset"),u=n.getAttribute("sizes"),i=[];return"IMG"===n.nodeName.toUpperCase()&&n[r.ns]&&n[r.ns].srcset&&(t=n[r.ns].srcset),t&&(i=r.getCandidatesFromSourceSet(t,u)),i};r.applyBestCandidate=function(n,t){var e,o,i,u;for(n.sort(r.ascendingSort),o=n.length,i=n[o-1],u=0;o>u;u++)if(e=n[u],e.resolution>=r.getDpr()){i=e;break}if(i&&!r.endsWith(t.src,i.url))if(r.restrictsMixedContent()&&"http:"===i.url.substr(0,5).toLowerCase())void 0!==typeof console&&console.warn("Blocked mixed content image "+i.url);else{t.src=i.url;t.currentSrc=t.src;var f=t.style||{},s="webkitBackfaceVisibility"in f,h=f.zoom;s&&(f.zoom=".999",s=t.offsetWidth,f.zoom=h)}};r.ascendingSort=function(n,t){return n.resolution-t.resolution};r.removeVideoShim=function(n){var r=n.getElementsByTagName("video"),t,i;if(r.length){for(t=r[0],i=t.getElementsByTagName("source");i.length;)n.insertBefore(i[0],t);t.parentNode.removeChild(t)}};r.getAllElements=function(){for(var n,u=[],f=t.getElementsByTagName("img"),i=0,e=f.length;e>i;i++)n=f[i],("PICTURE"===n.parentNode.nodeName.toUpperCase()||null!==n.getAttribute("srcset")||n[r.ns]&&null!==n[r.ns].srcset)&&u.push(n);return u};r.getMatch=function(n,t){for(var i,e,o,u,s=t.childNodes,f=0,h=s.length;h>f;f++)if(i=s[f],1===i.nodeType){if(i===n)return u;if("SOURCE"===i.nodeName.toUpperCase()&&(null!==i.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`."),e=i.getAttribute("media"),i.getAttribute("srcset")&&(!e||r.matchesMedia(e)))){if(o=r.verifyTypeSupport(i),o===!0){u=i;break}if("pending"===o)return!1}}return u};f();u._=r;"object"==typeof module&&"object"==typeof module.exports?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):"object"==typeof n&&(n.picturefill=u)}(this,this.document,new this.Image);