/*! SPORT */
!function(){zUtils=window.zUtils||{},zUtils.videos=function(){var a=[],b=function(b){var c=null;return a.forEach(function(a){a.ele[0]===b[0]&&(c=a)}),c},c=function(a,b){var c=null,d=a.ele.data("video-id"),e="es",g="P_ALTA";async.series([function(b){var f="";return a.ele.data("video-secure")?($.each({id:d,lang:e,preset:g,utco:(new Date).getTimezoneOffset()/60},function(a,b){f+=a+"::"+b+"###"}),f=blowfish.encrypt(f,zUtils.zProperties.fbAppId),void $.ajax({type:"GET",url:zUtils.zProperties.videoTokenPath,data:encodeURIComponent(f),dataType:"json",success:function(a){a.token&&(c=a.token),b()},error:function(){b()}})):void b()}],function(h,i){f(a.id,0,a.ele.data("video-title"),d,a.ele.data("video-file"),a.ele.data("video-playlist")?a.ele.data("video-playlist"):null,a.ele.data("video-image"),a.ele.data("video-ad-config"),void 0!==a.ele.data("video-mute"),void 0!==a.ele.data("video-repeat"),void 0!==a.ele.data("video-controls-disable"),void 0!==a.ele.data("video-share-disable"),a.ele.data("video-href"),c,e,g,a.ele.data("video-hide")?zUtils.getClosest(a.ele.data("video-hide"),a.ele):null,a.ele.data("video-hide-class")?a.ele.data("video-hide-class"):null,a,b)})},d=function(d){$('[data-actas="video"]').each(function(){var e={ele:$(this),id:cuid(),jw:null,fullScreenOn:null,fullScreenDone:!1,manualPlayOn:null,manualplayAndroid:void 0!==$(this).data("video-manualplay-android"),manualplayIos:void 0!==$(this).data("video-manualplay-ios"),fullScreenAndroid:void 0!==$(this).data("video-fullscreen-android"),fullScreenIos:void 0!==$(this).data("video-fullscreen-ios"),noPreviewAndroid:void 0!==$(this).data("video-nopreview-android"),noPreviewIos:void 0!==$(this).data("video-nopreview-ios"),autostart:!0};b(e.ele)||(a.push(e),e.ele.attr("id",e.id),void 0!==e.ele.data("video-fullscreenon-xs")&&(e.fullScreenOn=767),void 0!==e.ele.data("video-fullscreenon-sm")&&(e.fullScreenOn=991),void 0!==e.ele.data("video-fullscreenon-md")&&(e.fullScreenOn=1199),void 0!==e.ele.data("video-manualplay-xs")&&(e.manualPlayOn=767),void 0!==e.ele.data("video-manualplay-sm")&&(e.manualPlayOn=991),void 0!==e.ele.data("video-manualplay-md")&&(e.manualPlayOn=1199),$("[data-video-overlay]",e.ele).click(function(a){a.preventDefault(),c(e)}),function(){var a=!1;!function(){d&&(!function(){var b=e.ele.data("video-autoplay-referrers");b&&b.split(",").forEach(function(b){document.referrer.match("^"+window.location.protocol+"//"+window.location.host+b+"$")&&(a=!0)})}(),function(){var b=e.ele.data("video-autoplay-fullreferrers");b&&b.split(",").forEach(function(b){document.referrer.match(b)&&(a=!0)})}(),function(){e.manualPlayOn&&window.matchMedia("(max-width: "+e.manualPlayOn+"px)").matches&&(a=!1)}(),function(){e.manualplayAndroid&&"Android"===zUtils.getMobileOS()&&(a=!1),e.manualplayIos&&"iOS"===zUtils.getMobileOS()&&(a=!1)}())}(),a&&c(e)}())})},e=function(a,b){var c=!1;a.fullScreenDone||(a.fullScreenDone=!0,a.fullScreenOn&&window.matchMedia("(max-width: "+a.fullScreenOn+"px)").matches&&(c=!0),function(){a.fullScreenAndroid&&"Android"===zUtils.getMobileOS()&&(c=!0),a.fullScreenIos&&"iOS"===zUtils.getMobileOS()&&(c=!0)}(),c&&b.setFullscreen(!0))},f=function(a,b,c,d,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w,x={primary:"html5",preload:"none",defaultLocale:"es",autostart:u.autostart?"true":"false",title:c,locale:q,assetId:d,preset:r,file:g+(p?"?"+p:""),image:i};if(null!=h&&(x.related={displayMode:"overlay",autoplaytimer:5,oncomplete:"autoplay"},x.intl={es:{related:{autoplaymessage:"__title__ se reproducirÃ¡ en xx segundos",heading:"VÃ­deos recomendados"}},en:{related:{autoplaymessage:"__title__ will play in xx seconds",heading:"Recommended videos"}}},x.playlist=h),"undefined"==typeof jwplayer){if(b>60)return;return void setTimeout(function(){f(a,b+1,c,d,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v)},500)}w=jwplayer(a),function(){if(j)if(0===Object.keys(j).length)x.advertising={};else{x.advertising={autoplayadsmuted:!0};for(var a in j)j.hasOwnProperty(a)&&(x.advertising[a]=j[a])}}(),k&&(x.mute=!0),l&&(x.repeat=!0),m&&(x.controls=!1),n||(x.sharing={heading:"Compartir VÃ­deo",sites:["facebook","twitter","pinterest"]}),w.setup(x),w.on("ready",function(){e(u,w)}),w.on("firstFrame",function(){v&&v()}),o&&w.on("displayClick",function(){window.location.href=o}),s&&(w.on("play",function(){s.addClass(t)}),w.on("adPlay",function(){s.addClass(t)}),w.on("pause",function(){s.removeClass(t)}),w.on("adPause",function(){s.removeClass(t)})),w.on("error",function(){f(a,b,c,d,"https://estaticos.sport.es/resources/mp4/8/4/1561545753948.mp4",null,i,j,k,l,m,n,o,p,q,r,s,t,u,v)}),u.jw=w},g=function(a){$(".player-zeta.web").each(function(){var b=$(this),c=$(".playerID",b).text();b.empty(),b.removeClass(),$.ajax({url:$("body").data("video-embed-path-left")+c+$("body").data("video-embed-path-right"),type:"GET",success:function(c){b.on("video-appened","div",function(c){b.off("video-appened"),d(a)}),$("<div>").append(c).appendTo(b).trigger("video-appened")},error:function(a,b,c){}})})},h=function(){$("[data-video-play]").each(function(){var a,d;d=$($(this).data("video-play")),d.length&&(a=b(d),a&&$(this).click(function(b){b.preventDefault(),a.jw?a.jw.play():c(a)}))})};return{init:function(){d(!0),g(!0),h()},play:function(a,d){var e=b(a);e&&c(e,d)},reload:function(){d(!1),g(!1)},getTitle:function(a){return a.data("video-title")?a.data("video-title"):""},pauseAll:function(){a.forEach(function(a){var b;a.jw&&(b=a.jw.getState(),"buffering"!==b&&"playing"!==b||a.jw.pause())})}}}()}();