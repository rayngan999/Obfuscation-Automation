!function(){var e="4609b6fc",t=window.ptengine||[],n=(new Date).getTime(),i=window.location.href,a={"crossDomainEnable":false,"PTXEnabled":true,"PTEEnabled":true,"isNpPackage":true,
"pageConditions":[],"hasInline":false};function r(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}function o(e){try{return decodeURIComponent(e)}catch(t){return e}}t.__crossDomainEnable=a.crossDomainEnable,t.__PTXEnabled=a.PTXEnabled,t.__PTEEnabled=a.PTEEnabled,t.__isNpPackage=a.isNpPackage,t.__ids={pte:"",ptx:"",vref:"",isAutoFromPTE:!1},t.__crossDomainProcessCallback=function(e,t,n,i){var a=window.ptengine;if(!a)return null;var r=document.body&&document.body.innerHTML;if(!a.__crossDomainEnable&&!i&&r&&-1===r.indexOf("data-pt-crossDomain")&&-1===r.indexOf("pt-domain"))return null;a.__ids[e]=t,a.__ids.vref=a.__ids.vref||n,a.__ids.isAutoFromPTE=a.__ids.isAutoFromPTE||i,a.__ids.pte&&a.__ids.ptx&&function(e,t){var n=document.getElementsByTagName("a");n.length>0&&[].map.call(n,(function(n){var i=n.getAttribute("href"),a=i&&function(e){var t=document.createElement("a");t.href=e;var n={source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,path:o(t.pathname).replace(/^([^\/])/,"/$1")},i=n.protocol+"://"+n.host+(n.port?":"+n.port:"")+n.path;return o(e).indexOf(i)<0&&(n.path=n.path.replace(/^\//,"")),n}(i),r=n.getAttribute("onclick"),s=n.getAttribute("data-pt-crossDomain"),c=i&&i.match(/^https?:\/\//)&&i.length<900&&a&&a.host.toLowerCase().indexOf(function(e){var t=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,n=e.split("."),i=n[n.length-1];(i.length>4||"com"===i||"org"===i)&&(t=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i);var a=e.match(t);return a?a[0]:""}(location.hostname))<0;(c&&(window.ptengine&&window.ptengine.__crossDomainEnable||t)||c&&(r&&-1!==r.indexOf("pt_domain")||null!==s))&&n.setAttribute("href",function(e,t){if(e&&t){var n=(e=function(e){var t=e.match(/[\#|\?|\&]_pt_link=[^#|^&]*/),n="";if(t){var i=e.split(t[0]);n=i[0]+(i[1]?i[1]:"")}return n||e}(e)).split("#");return 1===n.length?e+="#_pt_link="+t:e=n[0]+(-1===e.indexOf("?")?"?":"&")+"_pt_link="+t+"#"+n[1],e}}(i,e))}))}(a.__ids.vref+"_s_"+a.__ids.pte+"_s_"+a.__ids.ptx,a.__ids.isAutoFromPTE)},!t.__ver&&t.__PTXEnabled&&(function(){t.__ver="2.0",t.__sid=e,t.__start=n,window.ptengine=t;for(var i="page track identify createCrossDomainUrl".split(" "),a=function(e){var n=i[e];t[n]=function(){t.push([n].concat(Array.prototype.slice.call(arguments,0)))}},r=0;r<i.length;r++)a(r);localStorage.setItem("PTX_SID",e)}(),function(){var n,o=i.indexOf("ptengine_engage_editor_token")>-1;try{!o&&(o="ptengine_campaign_editor"===(window.name||(null===(n=null===window||void 0===window?void 0:window.parent)||void 0===n?void 0:n.name)))}catch(e){}var s=i.indexOf("preview_ptx_token")>-1,c=i.indexOf("ptengine_engage_control_group")>-1,d=i.indexOf("isdev")>-1,_=null==t?void 0:t.__sid;if(_||(_=e),!c){if(_){if(s)return void r("https://xjs.ptengine.jp/ptx_preview.js");if(o)return void function(e){if(!window._ptengine_engage_edit){window._ptengine_engage_edit={};var t=e?"localhost:8082":"xeditor.ptengine.jp";r(location.protocol+"//"+t+"/inject.js")}}(d)}!function(e){var n,i="pt-async-hide",r=a||{pageConditions:[],hasInline:!1},o=r.hasInline;r.sdkDataPlaceholder||o&&function(e,t){if(!t||!Array.isArray(t)||0===t.length)return!0;for(var n=!1,i=0;i<t.length;i++){var a=t[i];if(!a||!Array.isArray(a))break;for(var r=[],o=function(t){var n=a[t]||{}||{},i=n.type,o=n.value,s=n.condition;if("ALL"===i.toLocaleUpperCase())r.push(!0);else{var c=[];"string"==typeof o&&(o=[o]),Array.isArray(o)&&(c=o.map((function(t){switch(s){case"==":t=e==t;break;case"[()]":t=-1!==e.indexOf(t);break;case"![()]":t=-1===e.indexOf(t);break;case"[(":t=e.startsWith(t);break;case")]":t=e.endsWith(t);break;case"Rex":t=-1!==t.search(e);break;default:t=!1}return t}))),r.push("![()]"===s?c.every((function(e){return e})):c.some((function(e){return e})))}},s=0;s<a.length;s++)o(s);if(n=r.every((function(e){return e})))break}return n}(e,r.pageConditions)&&((n=document.createElement("style")).appendChild(document.createTextNode(".pt-async-hide { opacity: 0 !important}")),document.getElementsByTagName("head")[0].appendChild(n),function(e,n,i){var a={start:(new Date).getTime(),end:function(){document.documentElement.className=document.documentElement.className.replace(RegExp(" ?"+e),""),a.endTime=(new Date).getTime()},hasInline:i,timeout:4e3};document.documentElement.className+=" "+e,t.__antiFlicker=a,setTimeout((function(){a.end&&(a.end(),a.end=null)}),4e3)}(i,0,o))}(i)}}()),Array.isArray(window._pt_sp_2)&&window._pt_sp_2.length>0||!t.__PTEEnabled||(window._pt_lt=n,window._pt_sp_2=[],window._pt_sp_2.push("setAccount,4609b6fc"))}();
_pt_sp_2.push('setDomain,kingtime.jp');
_pt_sp_2.push('setServer,0');
_pt_sp_2.push('setEventReport,true');/*event open*/ 
_pt_sp_2.push('setPtxEnabled,1');
!function(a){window["edc7uo"]=-1;function b(){var a=new RegExp("(^|#)ptengine=([^&]*)(&|$)","i"),b=Va.hash.substr(1),c=b.match(a);return null!=c?decodeURIComponent(c[2]):null}function c(){this.eventName="",this.eventType=0,this.elementType=0,this.properties=[],this.errors=[],this.rules={eventName:{lengthLimit:function(a){return a>60}},key:{lengthLimit:64,regex:/^[a-zA-Z\d_]*$/},value:{lengthLimit:256}}}function d(a,b,c,d,e){this.sid=a,this.uid=b,this.vid=c,this.pid=d,this.peid=e,this.v=H,this.ts=(new Date).getTime()}function e(){try{window.$$__pt_engage_$&&window.$$__pt_engage_$.emit&&"function"==typeof window.$$__pt_engage_$.emit&&window.$$__pt_engage_$.emit("send.pageview")}catch(a){}}function f(a,b){function c(b){var c="callback_"+d++;return e[c]=function(){b.apply(a,arguments)},c}var d=0,e={};window.addEventListener("message",function(a){if(/js(test)?\.pt(engine|mind)\.(cn|jp)/.test(a.origin)&&a.data){var b=JSON.parse(a.data),c=b.fn;c&&e[c]&&"function"==typeof e[c]&&(e[c](b.result),delete e[c])}}),this.set=function(d,e,f){a.postMessage(JSON.stringify({key:d,data:e,fn:c(f)}),b)},this.get=function(d,e){a.postMessage(JSON.stringify({key:d,fn:c(e)}),b)}}function g(){return V+":"+ya}function h(){return"Safari"==Wa.browerType}function i(){function b(a){if(wa)return!1;if(Va.href.match(/(utm_campaign|utm_source|utm_medium|utm_term|utm_content)/))return!0;for(var b=0;b<a.length;b++)if(Va.search.match(new RegExp("[?/&]("+a[b]+")=")))return!0;return!1}function c(){for(var a=["(wap|www|m|m5).baidu.com","www.baidu.jp","(hao|so).360.cn","www.360(soso|sou).com","(www|m).so.com","www.google.","(blogsearch|books|images|news|scholar).google.com","bing.com","(search|tw.search).yahoo.com","www.yahoo.cn","search.yahoo.co.jp","(www|jp).ask.com","(cn|jp).indeed.com","search.biglobe.ne.jp","search.(goo|smt.docomo).ne.jp","search.nifty.com","websearch.rakuten.co.jp","www.so-net.ne.jp"],b=0;b<a.length;b++)if(Ta.referrer.match(new RegExp(a[b])))return!0;return!1}function e(a,b){for(var c=0;c<na.length;c++)if(a.indexOf(na[c])>-1&&b.referrer.indexOf(na[c])>-1)return 0;return 1}function f(a,b){var c=a;"object"==typeof b&&(c=b);var d="";try{d=$a.getCssPathOld(c)}catch(a){}var e,f=[];if(Ka.length>0)for(var h=0;h<Ka.length;h++)try{var i=Ka[h];if(i.length>=10){for(var j=D(i[7],i[9]),k=0,l=j.length;k<l;k++)if(g(a,j[k])){f.push(i[3]+":1:0");break}}else if("function"==typeof jQuery&&jQuery(i[7])[0]==c||"function"!=typeof jQuery&&i[7]==d){var m=i;e=m.slice(1,5)}}catch(a){}return{newEventTriggerList:f,oldEventTrigger:e}}function g(a,b){return a===b||"body"!==a.nodeName.toLowerCase()&&g(a.parentNode,b)}function h(a){if(!a)return!1;var b,c;return a.newEventTriggerList&&a.newEventTriggerList.length&&(b=a.newEventTriggerList.join(",")),a.oldEventTrigger&&(c=a.oldEventTrigger.join(".")),!(!b&&!c)&&{eid:b||"",stat:c||""}}function i(){if(null==tb)return!1;var b=tb.nodeName.toLowerCase();if("html"==b)return!1;var c=0,e=$a.parentA(tb),g=Wa.getOffset(tb);ub=g.left,vb=g.top;var i="";try{i=$a.getCssPath(tb)}catch(a){}var j=(new Date).getTime();if(j-Qa<$&&"a"!=b)return!1;if("object"==typeof e){var k=e.getAttribute("onclick");if(k&&k.indexOf("_pt_sp_2")>-1&&e.onclick&&-1==e.onclick.toString().indexOf("_pt_sp_2"))for(var l=k.split(";"),n=0;n<l.length;n++)if(l[n].indexOf("setPVTag")>-1&&_pt_sp_2.push(l[n].replace("_pt_sp_2.push('","").replace('_pt_sp_2.push("',"").replace("')","").replace('")',"")),l[n].indexOf("setTrackEvent")>-1){var p=l[n].split(",");8==p.length&&p.pop(),_pt_sp_2.push(p.join("").replace("_pt_sp_2.push('","").replace('_pt_sp_2.push("',"").replace("')","").replace('")',""))}var q=function(){var a="",b="object"==typeof e.href?e.href.animVal:e.href,c=Xa.encode(b,!1).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\./g,"%2E");if(""==b);else if(b.match(/mailto:/))"true"==Ca.mailSendings&&(a="Mail,Mailto,"+c.toLowerCase()+",0");else if(b.toLowerCase().match(/\.(msi|pdf|apk|ipa|jar|umd|jad|epub|mobi|iso|tar|zip|rar|gzip|gz|dmg|doc|docx|xls|xlsx|csv|ppt|pptx|exe|txt|pdf|key|numbers|pages)/)){if("true"==Ca.fileDownloads){var d=b.toLowerCase().match(/\.(msi|pdf|apk|ipa|jar|umd|jad|epub|mobi|iso|tar|zip|rar|gzip|gz|dmg|doc|docx|xls|xlsx|csv|ppt|pptx|exe|txt|pdf|key|numbers|pages)/)[1];c=c.replace(/(^https?:\/\/)([^/]+)/i,function(a){return a.toLowerCase()}),a="Downloads,"+d+","+c+",0"}}else if(0==b.toLowerCase().indexOf("http")&&"true"==Ca.outboundLinks){for(var f=!0,g=0;g<na.length;g++)if(b.toLowerCase().indexOf(na[g])>0){f=!1;break}f&&(c=c.replace(/(^https?:\/\/)([^/]+)/i,function(a){return a.toLowerCase()}),a="Outbound%20Links,Exit,"+c+",0")}return a}();""!=q&&xa&&_pt_sp_2.push("setTrackEvent,"+q+",false")}var r;!function(){if("focus"==Ia)for(var a=0;a<G.length;a++)if(G[a]==b)return;r=f(tb,e)}();var s=0;s="a"==b||"input"==b||"select"==b||"embed"==b||"object"==b||"textarea"==b||"button"==b?1:tb.onclick?1:0==tb.childNodes.length||1==tb.childNodes.length&&1!=tb.childNodes[0].nodeType?2:0;var t=s+Da[2]+Xa.encode(i,!1).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\./g,"%2E");if(Ya.readCookies(),1!=Ya.getValueFromCookies("to_flag")&&Ya.isActive())((c=j-Pa-zb*Y)<0||c>1.5*Y)&&(c=Y);else{if(1==Ya.getValueFromCookies("to_flag")||+j-+Ya.getValueFromCookies("sact")>+Z)return o("pn"),Hb&&(clearInterval(window._pt_hb_interval),window._pt_hb_interval=setInterval(function(){m()},Y),zb=0),!1;if(Ya.isNewVisit(db,j))return o("pv"),void(Hb&&(clearInterval(window._pt_hb_interval),window._pt_hb_interval=setInterval(function(){m()},Y),zb=0));Fb=!0,c=aa}pb=Ya.plPrc(nb),Oa=j,Pa=j,Qa=j,fb=Ya.getValueFromCookies("pvn"),Hb&&(clearInterval(window._pt_hb_interval),window._pt_hb_interval=setInterval(function(){m()},Y),zb=0),Ya.writeCookies();var u=Wa.getYMax();bb=Ua.orientation==a||0==Ua.orientation?1:-1,1==bb&&u>xb?xb=u:1!=bb&&u>yb&&(yb=u);var v=new d(ya,za,db,nb,ob),w=ya+"."+za+"."+db+"."+nb+"."+ob,x=+(sb.x+Da[0])*bb+"."+(sb.y+Da[1])*bb+"."+Wa.getViewWidth()+"."+Wa.getViewHeight()+"."+t+".0."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+(1==bb?xb:-1*yb)+"."+c+"."+(ub+Da[0])+"."+(vb+Da[1]),y=ab+"",z=h(r),A="";z?(A="?id="+w,z.stat&&(A+="&stat="+z.stat,v.addPropery("stat",z.stat)),z.eid&&(A+="&eid="+z.eid,v.addPropery("eid",z.eid)),Hb&&(A+="&ocstat="+x,v.addPropery("ocstat",x)),fb=+fb+1,v.addPropery("pvn",fb),v.addPropery("ptif",y),A+="&pvn="+fb,A+="&ptif="+y,$a.sendTE(v.getJSONRet(),A,{sid:ya,eventName:z.eid&&decodeURIComponent(z.eid).replace(/:(0|1):(0|1)$/," ").trim()})):Hb&&(v=new d(ya,za,db,nb,ob),v.addPropery("stat",x),v.addPropery("ptif",y),v.addPropery("tl",Wa.getTitle()),A="?id="+w+"&tl="+Wa.getTitle()+"&stat="+x+"&ptif="+y,ub=0,vb=0,Da=[0,0,""],$a.sendPost(P,v.getJSONRet())||$a.sendMsgByScript(P+A))}function l(){for(var a,b,c=Ta.getElementsByTagName("a"),d="",e=0;e<c.length;e++)(a=c[e].getAttribute("href"))&&(d=a.match(/[\#|\?|\&]_pt_link=[^#|^&]*/))&&(a=a.split(d),b=a[0]+(a[1]?a[1]:""),c[e].setAttribute("href",b))}function m(){if(Ya.readCookies(),!Ya.isActive())return void(Fb=!1);if(!((new Date).getTime()-Pa>Z+ +Y&&(oa&&l(),clearInterval(window._pt_hb_interval),Gb=1,Fb=!1,Ya.writeCookies(),(zb+5)*+Y<Z))){zb++;var b=Wa.getYMax();bb=Ua.orientation==a||0==Ua.orientation?1:-1,1==bb&&b>xb?xb=b:1!=bb&&b>yb&&(yb=b);var c=new d(ya,za,db,nb,ob);if(c.addPropery("stat",(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+(1==bb?xb:-1*yb)+"."+Wa.getViewHeight()+"."+(1==Gb?-1*Z+1:Y)),c.addPropery("ptif",ab+""),c.addPropery("tl",Wa.getTitle()),!$a.sendPost(R,c.getJSONRet())){var e="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&stat="+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+(1==bb?xb:-1*yb)+"."+Wa.getViewHeight()+"."+(1==Gb?-1*Z+1:Y)+"&tl="+Wa.getTitle()+"&ptif="+ab;$a.sendMsg(R+e)}}}switch($a.valFunction("heatmap",window.edc7uo)&&(Hb=!0),ab){case 2:case 3:Z=18e5}if("cellant"==ca&&(2==ab||3==ab))return!1;if(lb=Wa.getPage(),nb=Xa.createID(lb),window[Fa])return za=Ya.getValueFromCookies("uid"),kb=Ya.getValueFromCookies("nid"),db=Ya.getValueFromCookies("vid"),eb=Ya.getValueFromCookies("vn"),fb=Ya.getValueFromCookies("pvn"),Oa=Ya.getValueFromCookies("sact"),Gb=Ya.getValueFromCookies("to_flag"),pb=Ya.getValueFromCookies("pl"),ob=F(Xa.createID(za+db+lb+Ab+"v")),!1;if(mb=lb,Za.clearOtherCookie(),Ya.readCookies(),la=!(!Ya.cookiesValue||!la),la&&(X=864e5,_a=Wa.getRef(),preVID=Ya.getValueFromCookies("vid")),function(){function a(a){function b(a,b,c){var d=new Date;d.setTime(d.getTime()-1e4),Ta.cookie=a+"='';expires="+d.toGMTString()+";domain="+b+";path="+c+";",Ta.cookie=a+"='';expires="+d.toGMTString()+";domain="+b+";path="+c+"/;"}b(a,"","");for(var c=Va.hostname.split("."),d=Va.pathname.split("/"),e=0;e<c.length;e++)for(var f=0;f<d.length;f++)b(a,c.slice(e).join("."),d.slice(0,parseInt(f)+1).join("/"))}for(var b=Ta.cookie.split(";"),c=0;c<b.length;c++)if(b[c]=b[c].split("="),b[c][0].indexOf(Ub)>-1)Ya.cookiesValue=b[c].slice(1).join("="),a(b[c][0]);else if(b[c][0].indexOf(Vb)>-1){var d=Vb+"="+b[c].slice(1).join("=")+";domain="+V+";path=/;";a(b[c][0])}d&&(Ta.cookie=d)}(),Xa.isNull(Ya.cookiesValue)||!Ya.checkCookiesValue())if(Za.setValue(Vb,Ab,{expires:""}),Ya.cookiesValue="",za=Xa.createID(Wa.getUidStr()),za||(za=Xa.createID((new Date).getTime()+""+Math.random())),kb="1",eb=0,Bb){var n=Bb.split(Ja),p=n[1]&&n[1].split(".");za=p[0],kb=p[1],db=p[2],Oa=p[3],eb=p[4],fb=p[5],jb=n[0]?n[0].replace(/\*\_\*/g,".").replace(/\*\_wh\_\*/g,"?"):"",cb="0"}else cb="1",jb=_a.referrer;else if(b(va)||c())if(Bb){var n=Bb.split(Ja),p=n[1]&&n[1].split(".");za=p[0],kb=p[1],db=p[2],Oa=p[3],eb=p[4],fb=p[5],jb=n[0]?n[0].replace(/\*\_\*/g,".").replace(/\*\_wh\_\*/g,"?"):"",cb="0"}else za=Ya.getValueFromCookies("uid"),za||(za=Xa.createID((new Date).getTime()+""+Math.random())),kb=Ya.getIsNID(),eb=Ya.getValueFromCookies("vn"),cb="1",jb=_a.referrer;else if(rb=Za.getValue(Vb),Eb=qb?rb?1:0:-1,Bb){var n=Bb.split(Ja),p=n[1]&&n[1].split(".");za=p[0],kb=p[1],db=p[2],Oa=p[3],eb=p[4],fb=p[5],jb=n[0]?n[0].replace(/\*\_\*/g,".").replace(/\*\_wh\_\*/g,"?"):"",pb="",cb="0",Za.setValue(Vb,Ab,{expires:""})}else{za=Ya.getValueFromCookies("uid"),za||(za=Xa.createID((new Date).getTime()+""+Math.random())),kb=Ya.getIsNID(),1==Ya.getIsRefresh(Ab)&&(_a={flag:0,referrer:""}),cb=1==_a.flag?"1":Ya.getIsNV(Ab),"cellant"==ca&&sa&&(cb="1"),"cellant"==ca&&Eb&&!ta&&(ta=rb.split("cad=")[1])&&(ta=ta.split("&")[0]),eb=Ya.getValueFromCookies("vn");var q=Ya.getValueFromCookies("pvn");fb="1"==cb?0:q||1,pb="1"==cb?"":Ya.getValueFromCookies("pl"),jb="1"==cb?_a.referrer:Ua.localStorage&&"function"==typeof Ua.localStorage.removeItem?Ua.localStorage.getItem(gb):"","1"==cb&&Za.setValue(Vb,Ab,{expires:""})}if(Db&&/^\d+$/.test(Db)){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/",s=za.substr(1,2)+za.substr(5,1)+za.substr(8,1)+za.substr(10,1)+za.substr(13,1)+za.substr(15,1)+za.substr(19,1),t=0,u=0;t<8;){var v=s.charAt(7-t);u+=r.indexOf(v)*Math.pow(64,t),t++}if(u%Db!=0)return}Na=Ab,Oa=Bb?Oa:Ab,Pa=Ab,db=Bb?db:"1"==cb?Xa.createID(za+lb+Oa+"v"):Ya.getValueFromCookies("vid"),la&&preVID&&db!=preVID&&(db=preVID),eb="1"==cb?+eb+1:0==+eb?1:+eb,fb=+fb+1,ob=F(Xa.createID(za+db+lb+Na+"v")),pb=Ya.plPrc(nb),Ya.writeCookies(),function(){if(Kb||"7f21ceb9"==ya)for(var a=Ta.getElementsByTagName("iframe"),b=0;b<a.length;b++)a[b].onload=function(b){return function(c){this.contentWindow.document.onclick=function(c){var d=Wa.getOffset(a[b]);Da[0]=d.left,Da[1]=d.top;var e="";try{e=$a.getCssPath(a[b])}catch(a){}Da[2]=encodeURIComponent(e),sb=Wa.getMouseRC1(c),Wa.getPageHeight()>0&&(sb.x<=0||sb.y<=0||sb.x>+Wa.getPageWidth()||sb.y>+Wa.getPageHeight())||(tb=Wa.getSrcElement(c),i())}}}(b)}();var w=-1!=window._pt_lt?(new Date).getTime()-window._pt_lt:0;w<0&&(w=0);var x=new d(ya,za,db,nb,ob);x.addPropery("stat",("1"==cb?eb:fb)+"."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+wb*bb+"."+Wa.getViewHeight()+"."+w+"."+("1"==cb?_a.flag:Wa.getRefType(jb))+("1"==cb?"":"."+eb)),x.addPropery("ref",Xa.encode(_a.referrer.replace(/&/g,"*&*").replace(/\+/g,"*+*"),!1)),"1"!=cb&&x.addPropery("vref",Xa.encode(jb,!1)),x.addPropery("p",Xa.encode(lb.replace(/&/g,"*&*"),!1)),x.addPropery("tl",Wa.getTitle()),ta&&x.addPropery("cad",ta),x.addPropery("ptif",ab+Wa.getSysInfo()),j(!0)&&x.addPropery("op",j(!0)),window[Fa]="2.0",window.ptengine&&(window.ptengine.__pteSid=ya,window.ptengine.__ptePeid=ob,window.ptengine.__getPteEventData=function(a){var b=[a];fb=+fb+1;var c=new Zb(b),e=c.getCustomEventEid(),f=new d(ya,za,db,nb,ob);return f.addPropery("eid",e.eid),f.addPropery("ptif",ab+""),f.addPropery("pvn",fb),encodeURIComponent(f.getJSONRet())}),localStorage.setItem("PT_ID_"+ya,ya+"."+za+"."+db+"."+nb+"."+ob),-1==Va.href.indexOf(Ha)&&ea&&function(){try{localStorage.setItem("PTSID",ya)}catch(a){}}(),Ra="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&stat="+("1"==cb?eb:fb)+"."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+wb*bb+"."+Wa.getViewHeight()+"."+w+"."+("1"==cb?_a.flag:Wa.getRefType(jb))+("1"==cb?"":"."+eb)+"&ref="+Xa.encode(_a.referrer.replace(/&/g,"*&*").replace(/\+/g,"*+*"),!1)+("1"!=cb?"&vref="+Xa.encode(jb,!1):"")+"&p="+Xa.encode(lb.replace(/&/g,"*&*"),!1)+"&tl="+Wa.getTitle()+(ta?"&cad="+ta:"")+"&ptif="+ab,Ra+=Wa.getSysInfo(),Ra+=j();for(var y=0;y<Ba.length;y++)if("cookie"==Ba[y][2]){var z=Za.getValue(Ba[y][1]);z&&(Ra+="&"+Ba[y][0]+"="+Xa.encode(z,!1),x.addPropery(Ba[y][0],Xa.encode(z,!1)))}else Ra+="&"+Ba[y][0]+"="+Xa.encode(Ba[y][1],!1),x.addPropery(Ba[y][0],Xa.encode(Ba[y][1],!1));fa&&(Ra+="&pvid="+encodeURIComponent(fa),x.addPropery("pvid",encodeURIComponent(fa))),ka&&(Ra+="&cd="+("halfManual"===ka?1:0),x.addPropery("cd","halfManual"===ka?1:0)),"1"==cb?oa&&"allManual"!=ka&&""!=_a.referrer&&e(Va.href,_a)&&0==Wa.getRefType(_a.referrer)&&!Va.href.match(/[\#|\?|\&]_pt_link=[^#|^&]*/)?(nb=Xa.createID(_a.referrer),ob=Xa.createID(za+db+_a.referrer+Na+"v"),x=new d(ya,za,db,nb,ob),x.addPropery("stat",("1"==cb?eb:fb)+"."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+wb*bb+"."+Wa.getViewHeight()+"."+w+".0"),x.addPropery("ref",""),x.addPropery("p",Xa.encode(_a.referrer.replace(/&/g,"*&*"),!1)),x.addPropery("tl",Wa.getTitle()),ta&&x.addPropery("cad",ta),x.addPropery("ptif",ab+Wa.getSysInfo()),fa&&x.addPropery("pvid",encodeURIComponent(fa)),ka&&x.addPropery("cd","halfManual"===ka?1:0),$a.sendPost(N,x.getJSONRet())||(Ra="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&stat="+("1"==cb?eb:fb)+"."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+wb*bb+"."+Wa.getViewHeight()+"."+w+".0&ref=&p="+Xa.encode(_a.referrer.replace(/&/g,"*&*"),!1)+"&tl="+Wa.getTitle()+(ta?"&cad="+ta:"")+"&ptif="+ab,Ra+=Wa.getSysInfo(),fa&&(Ra+="&pvid="+encodeURIComponent(fa)),ka&&(Ra+="&cd="+("halfManual"===ka?1:0)),$a.sendMsg(N+Ra)),function(){nb=Xa.createID(lb),ob=Xa.createID(za+db+lb+Na+"v"),fb=+fb+1,x=new d(ya,za,db,nb,ob),x.addPropery("stat",fb+"."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+wb*bb+"."+Wa.getViewHeight()+"."+w+"."+Wa.getRefType(jb)+"."+eb),x.addPropery("ref",Xa.encode(_a.referrer.replace(/&/g,"*&*").replace(/\+/g,"*+*"),!1)),x.addPropery("vref",""),x.addPropery("p",Xa.encode(lb.replace(/&/g,"*&*"),!1)),x.addPropery("tl",Wa.getTitle()),ta&&x.addPropery("cad",ta),x.addPropery("ptif",ab+Wa.getSysInfo()),fa&&(Ra+="&pvid="+encodeURIComponent(fa)),$a.sendPost(O,x.getJSONRet())||(Ra="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&stat="+fb+"."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+wb*bb+"."+Wa.getViewHeight()+"."+w+"."+Wa.getRefType(jb)+"."+eb+"&ref="+Xa.encode(_a.referrer.replace(/&/g,"*&*").replace(/\+/g,"*+*"),!1)+"&vref=&p="+Xa.encode(lb.replace(/&/g,"*&*"),!1)+"&tl="+Wa.getTitle()+(ta?"&cad="+ta:"")+"&ptif="+ab,Ra+=Wa.getSysInfo(),fa&&(Ra+="&pvid="+encodeURIComponent(fa)),$a.sendMsg(O+Ra))}()):$a.sendPost(N,x.getJSONRet())||$a.sendMsg(N+Ra):$a.sendPost(O,x.getJSONRet())||$a.sendMsg(O+Ra);var A="vt="+Ab+"&cad="+ta;if(Za.setValue(Vb,A,{expires:""}),"1"==cb&&Ua.localStorage&&"function"==typeof Ua.localStorage.removeItem&&(Ua.localStorage.removeItem(gb),Ua.localStorage.setItem(gb,jb)),oa)if("complete"==Ta.readyState)k();else{var C=Ua.onload;Ua.onload=function(){C&&C(),k()}}var E=function(){var a=[null,null],b=function(a,b){return"Chrome"!=Wa.browerType||(b[0]!=a||b[1]!=Ua)&&(b[0]!=Ua||b[1]!=Ua)};return B(Ua,"focus",function(b){a[1]!=this&&(a.push(this),a.shift())}),B(Ua,"click",function(b){if(a[1]!=this){var c=b.target||b.srcElement;a.push(c),a.shift()}}),function(){if(/windows|win32/i.test(Sa.userAgent)&&/msie|trident|edge/i.test(Sa.userAgent)||/(iPhone|iPad|iPod|iOS)/.test(Sa.userAgent))Ia="click";else for(var c=0;c<G.length;c++)for(var e=Ta.getElementsByTagName(G[c]),g=0;g<e.length;g++)B(e[g],"focus",function(c){if(b(this,a)){tb=Wa.getSrcElement(c);var i=f(tb),j=h(i);if(j){var k=new d(ya,za,db,nb,ob),l=ya+"."+za+"."+db+"."+nb+"."+ob,m=ab+"",n="?id="+l;j.stat&&(n+="&stat="+j.stat,k.addPropery("stat",j.stat)),j.eid&&(n+="&eid="+j.eid,k.addPropery("eid",j.eid)),fb=+fb+1,k.addPropery("pvn",fb),k.addPropery("ptif",m),n+="&pvn="+fb,n+="&ptif="+m,$a.sendPost(S,k.getJSONRet())||$a.sendMsgByScript(S+n)}}a.push(e[g]),a.shift()})}}(),G=["input","textarea","select","embed"];"interactive"===Ta.readyState.toLowerCase()||"complete"===Ta.readyState.toLowerCase()?E():Ta.onreadystatechange=function(){"complete"===Ta.readyState.toLowerCase()&&E()},B(Ua,"onorientationchange",function(b){bb=Ua.orientation==a||0==Ua.orientation?1:-1}),B(Ta,"touchmove",function(a){Cb=!0}),B(Ta,"touchstart",function(a){a=a||Ua.event,tb=Wa.getSrcElement(a),sb=Wa.getMouseRC(a)}),function(){for(var a=0,b=ia.length;a<b;a++)window[Ea].push("setCustomVarV2",ia[a]);for(var a=0,b=ha.length;a<b;a++)window[Ea].push("setUser",ha[a]);for(var a=0,b=ga.length;a<b;a++)window[Ea].push("setEC",ga[a])}();var H,I=!1;B(Ta,"click",function(a){a=a||Ua.event,sb=Wa.getMouseRC1(a),Wa.getPageHeight()>0&&(sb.x<=0||sb.y<=0||sb.x>+Wa.getPageWidth()||sb.y>+Wa.getPageHeight())||(tb=Wa.getSrcElement(a),I||i())}),B(Ta,"touchend",function(a){if(Cb)return void(Cb=!1);sb.x<=0||sb.y<=0||0==sb.x&&0==sb.y||sb.x<0||sb.x>Wa.getPageWidth()||sb.y>Wa.getPageHeight()||(i(),I=!0,H&&clearTimeout(H),H=setTimeout(function(){I=!1},500))});var J,K=Ab,L=0;return B(Ua,"scroll",function(b){function c(){var a=!0;return 0==Ta.body.clientHeight?a=!1:Wa.getScrollY()<=1?a=!1:Wa.getScrollY()+Wa.getBrowserHeight()+1>=Wa.getPageHeight()&&(a=!1),a}var e=(new Date).getTime();if(J=e,(L=J-K)<+_)return void(K=J);var f="";if(Ya.readCookies(),1!=Ya.getValueFromCookies("to_flag")&&Ya.isActive())((f=e-Pa-zb*Y)<0||f>1.5*Y)&&(f=Y);else{if(1==Ya.getValueFromCookies("to_flag")||+e-+Ya.getValueFromCookies("sact")>+Z)return o("pn"),void(Hb&&(clearInterval(window._pt_hb_interval),window._pt_hb_interval=setInterval(function(){m()},Y),zb=0));if(Ya.isNewVisit(db,e))return o("pv"),void(Hb&&(clearInterval(window._pt_hb_interval),window._pt_hb_interval=setInterval(function(){m()},Y),zb=0));Fb=!0,f=aa}pb=Ya.plPrc(nb),Oa=e,Pa=e,fb=Ya.getValueFromCookies("pvn"),Hb&&(clearInterval(window._pt_hb_interval),window._pt_hb_interval=setInterval(function(){m()},Y),zb=0),Ya.writeCookies();var g=Wa.getYMax();if(bb=Ua.orientation==a||0==Ua.orientation?1:-1,1==bb&&g>xb?xb=g:1!=bb&&g>yb&&(yb=g),c()&&Hb){var h=new d(ya,za,db,nb,ob);if(h.addPropery("stat",(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+(1==bb?xb:-1*yb)+"."+(Wa.getViewHeight()>1500?1500:Wa.getViewHeight())+"."+f),h.addPropery("ptif",ab+""),h.addPropery("tl",Wa.getTitle()),!$a.sendPost(Q,h.getJSONRet())){var i="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&stat="+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+(1==bb?xb:-1*yb)+"."+(Wa.getViewHeight()>1500?1500:Wa.getViewHeight())+"."+f+"&tl="+Wa.getTitle()+"&ptif="+ab;$a.sendMsg(Q+i)}}K=J}),window._pt_hb_interval=setInterval(function(){m()},Y),!1}function j(a){var b="";if(Ib)switch(Jb){case"GoogleOptimize":window.gaData&&window.gaData.expId&&window.gaData.expVar&&(b+=gaData.expId+"|p||p|"+gaData.expVar+"|p||p|"+Jb);break;case"OptimizelyX":if("object"==typeof window.optimizely&&"function"==typeof window.optimizely.get){var c=window.optimizely.get("state");if(c)for(var d=c.getActiveExperimentIds(),e=0;e<d.length;e++){var f=d[e],g=c.getExperimentStates({isActive:!0})[f].experimentName||"",h=c.getVariationMap()[f],i=h.id,j=h.name||"";b+=0==e?"":"|o|",b+=f+"|p|"+g.substr(0,100)+"|p|"+i+"|p|"+j.substr(0,100),b+="|p|"+Jb}}break;case"Optimizely":default:if("object"==typeof optimizely){var k=optimizely.activeExperiments;if(k&&k.length>0)for(var e=0;e<k.length;e++)b+=0==e?"":"|o|",b+=k[e]+"|p|"+optimizely.data.experiments[k[e]].name.substr(0,100)+"|p|"+optimizely.variationIdsMap[k[e]][0]+"|p|"+optimizely.variationNamesMap[k[e]].substr(0,100),b+="|p|"+Jb}}return a?b?Xa.encode(b,!1):"":b?"&op="+Xa.encode(b,!1):""}function k(){if(window.ptengine&&window.ptengine.__crossDomainProcessCallback)n();else for(var a=Ta.getElementsByTagName("a"),b=0;b<a.length;b++){var c=a[b].getAttribute("href"),d=a[b].getAttribute("onclick"),e=a[b].getAttribute("data-pt-crossDomain"),f=c&&c.toLowerCase(),g=c&&c.match(/^https?:\/\//)&&c.length<900;if(("halfManual"==ka||window.ptengine&&window.ptengine.__crossDomainEnable)&&g){for(var h=0;h<na.length;h++)if(f.indexOf(na[h])>-1&&(c.indexOf(Va.hostname)<0||c.indexOf(Va.hostname)>f.indexOf(na[h]))){a[b].setAttribute("href",l(c));break}}else if((d&&d.indexOf("pt_domain")>-1||null!==e)&&g)for(var h=0;h<na.length;h++)if(f.indexOf(na[h])>-1&&(c.indexOf(Va.hostname)<0||c.indexOf(Va.hostname)>f.indexOf(na[h]))){a[b].setAttribute("href",l(c));break}}}function l(a){var b=a.split("#"),c=m();return c&&(1==b.length?a+="#_pt_link="+c:("allManual"==ka||"halfManual"==ka||window.ptengine&&window.ptengine.__crossDomainEnable)&&(a=b[0]+(-1==a.indexOf("?")?"?":"&")+"_pt_link="+c+"#"+b[1])),a}function m(){var a="";return Ya.readCookies(),Ya.cookiesValue&&(a=(Ua.localStorage&&"function"==typeof Ua.localStorage.getItem&&Ua.localStorage.getItem(gb)?Ua.localStorage.getItem(gb).replace(/\./g,"*_*").replace(/\?/g,"*_wh_*"):"")+Ja+Ya.getValueFromCookies("uid")+"."+Ya.getValueFromCookies("nid")+"."+Ya.getValueFromCookies("vid")+"."+Ya.getValueFromCookies("sact")+"."+Ya.getValueFromCookies("vn")+"."+Ya.getValueFromCookies("pvn")),a}function n(){var a=m(),b=a&&a.split(Ja);window.ptengine.__crossDomainProcessCallback("pte",b[1],b[0],"halfManual"==ka)}function o(a,b,c){var e=c||nb,f=b||lb,g=new Date,h=g.getTime();if(!("vpv"!=a&&h-Pa<1e4)){Ya.readCookies(),wb=Wa.getYMax(),Gb=0,Fb=1,Na=h,Oa=h,Pa=h,"pn"==a?(cb="1",eb=Ya.getValueFromCookies("vn"),kb=Ya.getIsNID(),pb="",db=Xa.createID(za+f+Oa+"v"),eb=+eb+1,fb=1):(pb=Ya.getValueFromCookies("pl"),db=Ya.getValueFromCookies("vid"),fb=Ya.getValueFromCookies("pvn"),fb=fb?+fb+1:1),ob=Xa.createID(za+db+f+Na+"v"),pb=Ya.plPrc(nb),Ya.writeCookies();var i=new d(ya,za,db,e,ob);i.addPropery("stat",("pn"==a?0==+eb?1:+eb:fb)+"."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+wb*bb+"."+Wa.getViewHeight()+".0.0"+("pn"==a?"":"."+eb)),i.addPropery("ref",""),"pn"==a&&i.addPropery("vref",Xa.encode(jb,!1)),i.addPropery("p",Xa.encode(f.replace(/&/g,"*&*"),!1)),i.addPropery("tl",Wa.getTitle()),ta&&i.addPropery("cad",ta),i.addPropery("ptif",ab+Wa.getSysInfo()),j(!0)&&i.addPropery("op",j(!0)),Ra="?id="+ya+"."+za+"."+db+"."+e+"."+ob+"&stat="+("pn"==a?0==+eb?1:+eb:fb)+"."+(1==bb?Wa.getScrollY():(Wa.getScrollY()+1)*bb)+"."+wb*bb+"."+Wa.getViewHeight()+".0.0"+("pn"==a?"":"."+eb)+"&ref="+("pn"==a?"":"&vref="+Xa.encode(jb,!1))+"&p="+Xa.encode(f.replace(/&/g,"*&*"),!1)+"&tl="+Wa.getTitle()+(ta?"&cad="+ta:"")+"&ptif="+ab,Ra+=Wa.getSysInfo(),Ra+=j();for(var l=0;l<Ba.length;l++)if("cookie"==Ba[l][2]){var m=Za.getValue(Ba[l][1]);m&&(Ra+="&"+Ba[l][0]+"="+Xa.encode(m,!1),i.addPropery(Ba[l][0],Xa.encode(m,!1)))}else Ra+="&"+Ba[l][0]+"="+Xa.encode(Ba[l][1],!1);fa&&(Ra+="&pvid="+encodeURIComponent(fa),i.addPropery("pvid",encodeURIComponent(fa))),$a.sendPost("pn"==a?N:O,i.getJSONRet())||$a.sendMsg(("pn"==a?N:O)+Ra),Gb=0,oa&&"vpv"!=a&&k()}}function p(a){if(a.length>0)for(var b=0,c=a.length;b<c;b++){if(a[b]&&"object"==typeof a[b]){var d=a[b-1];if(d){switch(d){case"setUser":ha.push(a[b]);break;case"setPageViewVar":fa=a[b].data?JSON.stringify(a[b].data):"";break;case"setEC":ga.push(a[b]);break;case"setCustomVarV2":ia.push(a[b])}a[b]=null;continue}}var e=a[b].indexOf(",");if(!q(a[b].slice(0,e),a[b].slice(e+1)))return!1}return!0}function q(a,b){if(!b)return!1;switch(a){case"setOuterIframeEnabled":da="1"==b;break;case"setEngageEnabled":ea="1"==b;break;case"setServer":K=b?+b:0,M="6c75a350"==ya?L+"rtcollect.ptengine.jp":L+J[K],N=M+"/pn",O=M+"/pv",P=M+"/oc",Q=M+"/os",R=M+"/hb",S=M+"/te";break;case"setAdParam":ca="cellant",b=b.replace(/^\|*/,"").replace(/\|*$/,""),ua=b?b.split("|"):"";break;case"setCamParam":va=b.split(",");break;case"setURL":pa=b;break;case"setIgnoreCampaign":wa="true"==b.toLowerCase();break;case"setVPV":qa=b.toLowerCase().split(",")[0];break;case"setVPT":ra=b;break;case"setAccount":case"setSID":ya=b.toLowerCase();break;case"isTestWeb":"true"==b&&""!=ya&&(La[ya]=!0);break;case"useHttpCookie":Aa="false"!=b.toLowerCase();break;case"setDomain":return function(){V="";var a=b.split(",");oa=a.length>1,a.sort(function(a,b){return a.replace(/^https?:\/\//,"").length>b.replace(/^https?:\/\//,"").length?1:-1});for(var c=0;c<a.length;c++)na.push(a[c].replace(/^https?:\/\//,"")),a[c].match(/https?:\/\//)&&a[c].match(/https?:\/\//)[0]!=location.protocol+"//"||location.hostname.indexOf(a[c].replace(/^https?:\/\//,""))>-1&&(V=a[c].replace(/^https?:\/\//,""));return"default"!=b&&"http"==location.href.slice(0,4)||(V=location.href.toLowerCase().split("://")[1].split("?")[0].split("/")[0],na.push(V)),!0}();case"setAutoEvent":2==b.split(",").length&&(Ca[b.split(",")[0]]=b.split(",")[1]);break;case"setEventReport":xa="true"==b;break;case"setAutoFetchMatch":r(b)}return!0}function r(a){var b=a.split(","),c=b[0],d=b[1],e=b[2],f=null;setTimeout(function(){if(c)switch(c){case"URL":d&&(f=s(e,d))}if(f)try{sessionStorage.getItem(a)||(sessionStorage.setItem(a,"1"),_pt_sp_2.push("setUser",{accountid:f}))}catch(a){}},0)}function s(a,b){var c=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),d=Va.search.substr(1),e=null;if(null!=(e=d.match(c)))return decodeURIComponent(e[2]);c=new RegExp("(^|/)"+a+"/([^/]*)(/|$)","i");for(var f=["pathname","hash"],g=0,h=f.length;g<h;g++)if(d=Va[f[g]].substr(1),null!=(e=d.match(c)))return decodeURIComponent(e[2]);return null}function t(a){var b=null;this.init=function(){if(!b)try{b=Ta.createElement("input"),b.type="hidden",b.addBehavior("#default#userData"),C(b)}catch(a){return!1}return!0},this.isEnabled=function(){return!0},this.clearOtherCookie=function(){var a=new v;a.getValue(Ub)&&(a.setValue(Ub,"",{expires:""}),a.setValue(Wb,"",{expires:""}))},this.setValue=function(c,d,e){if(c==Vb)return void a.setValue(c,d,e);try{if(this.init()){var f=b;f.load(c),d&&f.setAttribute("code",d);var g=new Date;g.setDate(g.getDate()+30),f.expires=g.toUTCString(),f.save(c)}}catch(a){}},this.getValue=function(c){if(c==Vb)return a.getValue(c);if(this.init())try{var d=b;return d.load(c),d.getAttribute("code")}catch(a){return null}}}function u(){this.isEnabled=function(){return Ua.localStorage&&"function"==typeof Ua.localStorage.removeItem},this.clearOtherCookie=function(){var a=new v;a.getValue(Ub)&&(a.setValue(Ub,"",{expires:""}),a.setValue(Wb,"",{expires:""}))},this.getValue=function(a){return Ua.sessionStorage.getItem(a)||Ua.localStorage.getItem(a)},this.setValue=function(a,b,c){""==c.expires?(Ua.sessionStorage.setItem(a,b),Ua.localStorage.removeItem(a)):Ua.localStorage.setItem(a,b)}}function v(){this.isEnabled=function(){return Sa.cookieEnabled},this.clearOtherCookie=function(){},this.getValue=function(a){var b="";if(this.isEnabled()||(qb=!1),Ta.cookie&&""!=Ta.cookie)for(var c=Ta.cookie.split(";"),d=0;d<c.length;d++){var e=Xa.trim(c[d]);if(e.substring(0,a.length+1)==a+"="&&(a!=Ub||a==Ub&&e.indexOf("pt1pt")<0&&e.indexOf("pt0pt")<0)){b=e.substring(a.length+1);break}}return b},this.setValue=function(a,b,c){if(!this.isEnabled())return void(qb=!1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var e;"number"==typeof c.expires?(e=new Date,e.setTime(e.getTime()+24*c.expires*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}Ta.cookie=a+"="+b+d+"; path=/; domain="+V}}function w(){var a=!1;if(this.localDataType="",!Aa&&Sa.userAgent.toLowerCase().match(/msie\s([2-8]+?\.[\d]+)/gi))this.localDataType=new t(new v);else if(!Aa&&Ua.localStorage&&Ua.sessionStorage&&"function"==typeof Ua.localStorage.removeItem&&"function"==typeof Ua.sessionStorage.removeItem){var b="pt_test";if(Ua.sessionStorage.setItem(b+"sk",b+"sv"),Ua.localStorage.setItem(b+"lk",b+"lv"),Ua.sessionStorage.getItem(b+"sk")==b+"sv"&&Ua.localStorage.getItem(b+"lk")==b+"lv")this.localDataType=new u;else var a=!0;Ua.sessionStorage.removeItem(b+"sk"),Ua.localStorage.removeItem(b+"lk")}else if(Aa)this.localDataType=new v;else var a=!0;a?(this.clearOtherCookie=function(){},this.isEnabled=function(){return!1},this.setValue=function(a,b,c){},this.getValue=function(a){return""}):(this.clearOtherCookie=function(){this.localDataType.clearOtherCookie()},this.isEnabled=function(){return this.localDataType.isEnabled()},this.setValue=function(a,b,c){this.localDataType.setValue(a,b,c)},this.getValue=function(a){return this.localDataType.getValue(a)})}function x(){this.getSysInfo=function(){var a=[];return 1==this.getTerminalType()||4==this.getTerminalType()?(a.push("."+[this.getViewWidth(),this.getScreenHeight()].sort()[0]),a.push("."+[this.getViewWidth(),this.getScreenHeight()].sort()[1])):(a.push("."+this.getScreenWidth()),a.push("."+this.getScreenHeight())),a.push("."+(Ua.screen.colorDepth||0)),a.push("."+this.getTimezone().replace(/\./g,"_")),a.push("."+(Sa.platform||"").replace(/\./g,"_").toLowerCase()),a.push("."+(Sa.language||Sa.browserLanguage||"").replace(/\./g,"_").toLowerCase()),a.push("."+(Ta.characterSet||Ta.charset||"").replace(/\./g,"_").toLowerCase()),a.join("")},this.getUidStr=function(){try{var a=[this.getSysInfo()];a.push("&ua="+Xa.encode(Sa.userAgent||"",!1)),a.push("&bw="+(Ta.documentElement.clientWidth||Ta.body.clientWidth||0)),a.push("&bh="+Wa.getBrowserHeight()),a.push("&pi="+Wa.getPlugins()),a.push("&ts="+ib);var b=a.join("");return b||(b=(new Date).getTime()+""+Math.random()),b}catch(a){return(new Date).getTime()+""+Math.random()}},this.getTitle=function(){try{var a=Ta.getElementsByTagName("title")[0]&&Ta.getElementsByTagName("title")[0].innerHTML||Ta.title;return a=Xa.trim(a.split("#")[0]),ra&&(a=ra),Xa.encode(a,!1)}catch(a){return""}},this.getRefType=function(a){if(a){for(var b=a.split("?")[0].toLowerCase(),c=0;c<na.length;c++){var d=b.split("://")[0];if(!na[c].match(/^https?:\/\/.*/)&&b.indexOf(na[c])>-1)return 0;if(d==na[c].split("://")[0]&&b.indexOf(na[c].split("://")[1])>-1)return 0}return 1}return 0},this.getRef=function(){try{var a={flag:0,referrer:""},b=Ta.referrer;if(b||la&&ma){la&&(b=ma||"*"+b+"*");var c=b.match(/^(\S+:\/\/)?([^\/|\?|\#]+)(\S*)/);if(a.referrer=c[1].toLowerCase()+c[2].toLowerCase()+c[3],a.referrer){a.referrer=a.referrer.split("#")[0].replace(/(^\s*)/g,"").replace(/(\s*$)/g,""),a.referrer.indexOf("?_randomTest")>-1&&(a.referrer=a.referrer.split("?_randomTest")[0]),"7f21ceb9"!=ya&&"2f120b77"!=ya&&(a.referrer=a.referrer.replace(/\/*$/,""));for(var d=a.referrer.split("?")[0].toLowerCase(),e=0;e<na.length;e++){var f=d.split("://")[0];if(!na[e].match(/^https?:\/\/.*/)&&d.indexOf(na[e])>-1)return a;if(f==na[e].split("://")[0]&&d.indexOf(na[e].split("://")[1])>-1)return a}la||(a.flag=1)}}return a}catch(b){return a}},this.getPlugins=function(){var a="",b=Sa.plugins;if(0!=b.length){for(var c=new Array,d=0;d<b.length;d++){c[d]=b[d].name+";"+b[d].description+";"+b[d].filename+";";for(var e=0;e<b[d].length;e++)c[d]+="("+b[d][e].description+";"+b[d][e].type+";"+b[d][e].suffixes+")";c[d]+="."}a=c.sort().join("")}return a},this.setURLMerger=function(a){function b(a,b){var c=b.match(/^https?:\/\//);return c?0==a.indexOf(c[0])&&a.indexOf(b.substring(c[0].length))>-1:a.indexOf(b)>-1}for(var c=/*window.allPageInfo*/[['kingtime.jp', true, false, false, 'index.html', false]]||[],d=a,e=0;e<c.length;e++)if(b(a,c[e][0])){c[e][1]&&(d=d.replace(/\#[^#|\$|\?]*/g,"")),c[e][2]&&(d=d.replace(/^(http:\/\/|https:\/\/)?www./,"$1")),c[e][3]&&(d=d.replace(new RegExp("([^#|$|?]*)"+c[e][4]+"(S*)"),"$1$2")),ja="tmpUrlAPI"==ja?"tmpUrlAPI":0!=c[e][5];break}return d},this.getPage=function(){var a,b=[],c="",d=(Va.protocol+"//"+Va.host).toLowerCase()+Va.pathname+Va.search+Va.hash;if(!d)return"";if(na.length>1){var e=new RegExp(/(\?|\&|\#)_pt_link=([^\&|\#]*)(\&|\#)?/);d.match(e)&&(Bb=d.match(e)[2],d="&"==d.match(e)[3]?d.replace(e,"$1"):d.replace(e,"$3"))}switch(d=d.replace(/\?_randomTest=\S*/,""),qa&&(d=qa),d=this.setURLMerger(d),ca){case"cellant":if(ua){d=d.split("#")[0];var f="";for(a=0;a<ua.length;a++)f="",d.indexOf("?"+ua[a]+"=")>-1?f="?":d.indexOf("&"+ua[a]+"=")>-1&&(f="&"),f&&(sa=!0,ta&&(ta+=","),b=d.split(f+ua[a]+"="),c=b[1]?b[1].split("&")[0]:"",ta+=ua[a]+":"+c,d=b[0]+f+b[1].slice(c.length+1));d=d.replace(/\?*$/,"").replace(/\&*$/,"")}break;case"oisix":case"oisix_hk":case"oisix_gochimaru":var g=[];"oisix"==ca?g=["utm_referrer","utm_source","utm_medium","utm_term","utm_content","utm_campaign","sessionid","urlserverid","SESSIONISNEW","k","tk","KAKUNINJIKAN","screenmode","OVRAW","OVKEY","OVMTC","OVADID","OVKWID","OVCAMPGID","OVADGRPID","SESSIONISNEW","jid","KENSAKUMOZIFLG","KENSAKUMOZIJOUKEN","searchValue","param","faqSearchKeyword","startNum","maxDisplayNum","detail","mi2","roadid","cart","ref","utm_expid"]:"oisix_hk"==ca?g=["lcs_id","tsuka_conv","offset","a","x","y","mi2"]:"oisix_gochimaru"==ca&&(g=["vos","utm_referrer","utm_source","utm_medium","utm_term","utm_content","utm_campaign","sessionid","urlserverid","SESSIONISNEW","k","tk","KAKUNINJIKAN","screenmode","OVRAW","OVKEY","OVMTC","OVADID","OVKWID","OVCAMPGID","OVADGRPID","SESSIONISNEW","jid","KENSAKUMOZIFLG","KENSAKUMOZIJOUKEN","searchValue","param","faqSearchKeyword","startNum","maxDisplayNum","detail","mi2","roadid","cart","ref","utm_expid"]);var f="";for(a=0;a<g.length;a++)f="",d.indexOf("?"+g[a]+"=")>-1?f="?":d.indexOf("&"+g[a]+"=")>-1&&(f="&"),f&&(b=d.split(f+g[a]+"="),c=b[1]?b[1].split("&")[0]:"",d=b[0]+f+b[1].slice(c.length+1));d=d.replace(/\?*$/,"").replace(/\&*$/,"")}return pa&&(d+="#"+pa),"7f21ceb9"!=ya&&"2934b1d1"!=ya&&"2161b761"!=ya&&"2f120b77"!=ya&&"tmpUrlAPI"!=ja&&ja&&(d=d.replace(/\/*$/,"")),"67a379c7"==ya?d=d.replace(/\/([\?|#])/,"$1"):"6c75a350"==ya&&ja&&-1==d.indexOf("#")&&-1==d.indexOf("?")&&(d="/"!=d.substr(-1)?d+"/":d),d},this.isPCByPlat=function(){var a=Sa.platform.toLowerCase();if(a.indexOf("win")>-1)return!0;for(var b=["mac68k","macppc","macintosh","macintel"],c=0;c<b.length;c++)if(a==b[c])return!0;return!1},this.isPCByOSList=function(a){for(var b=["AIX","Amiga","BeOS","DragonFly","FreeBSD","GNU","Haiku","HP-UX","IRIX","Joli","Java","Macintosh","Minix","MorphOS","NetBSD","OpenBSD","PClinuxOS","QNX x86pc","SunOS","Ubuntu","Mint","Red Hat","Slackware","SUSE","PCLinuxOS","Debian","Fedora","CentOS","Vine","Arch Linux","Gentoo","Kanotix","Mandriva"],c=0;c<b.length;c++)if(a.indexOf(b[c])>-1)return!0;return!1},this.isMobileByOSList=function(a){for(var b=["Android","AROS","Bada","BlackBerry","Chromium","CrOS","Danger Hiptop","Inferno","iPhone","iPad","iPod","Nintendo DS","Nintendo Wii","Palm OS","PLAYSTATION","Syllable","SymbOS","Symbian","Tizen","webOS","WebTV","Windows CE","Windows Mobile","Windows Phone","Xbox"],c=0;c<b.length;c++)if(a.indexOf(b[c])>-1)return!0;return!1},this.getTerminalType=function(){try{var a=Sa.userAgent;return a?this.isPCByPlat()||this.isPCByOSList(a)?this.isMobileByOSList(a)?3:a.match(/.*MSIE.*Windows NT 6\.2;.*Touch\).*/)?4:2:a.indexOf("iPad")>-1||Math.min(Wa.getScreenWidth(),Ua.screen.height)>=1e3?4:1:0}catch(a){return 0}},this.getScreenWidth=function(){try{var a=Ua.screen.width;return a?isNaN(parseInt(a,10))?0:parseInt(a,10):0}catch(a){return 0}},this.getScreenHeight=function(){try{var a=Ua.screen.height;return(1==this.getTerminalType()&&a>2e3||4==this.getTerminalType()&&a>3e3)&&(a=this.getViewHeight()),a?isNaN(parseInt(a,10))?0:parseInt(a,10):0}catch(a){return 0}},this.getBrowserHeight=function(){try{var a=Ua.innerHeight||Ta.documentElement.clientHeight||Ta.body.clientHeight;return["79574faf","42a5e638"].join(",").indexOf(ya)>-1&&(a=Ua.innerHeight||Ta.body.clientHeight||Ta.documentElement.clientHeight),a?isNaN(parseInt(a,10))?0:parseInt(a,10):0}catch(a){return 0}},this.getScrollY=function(){var a=0;try{a=Ta.documentElement.scrollTop||Ua.pageYOffset,a=isNaN(a)?0:a}catch(b){a=0}return parseInt(a,10)},this.getYMax=function(){var a=+this.getScrollY()+ +this.getBrowserHeight();return a=isNaN(a)?0:parseInt(a,10)},this.getScrollX=function(){var a=Ta.documentElement.scrollLeft||Ua.pageXOffset;return a=isNaN(a)?0:a,parseInt(a,10)},this.getTimezone=function(){try{var a=(new Date).getTimezoneOffset();return a||0==a?"GMT"+(a<=0?"+":"")+a/60*-1:""}catch(a){return""}},this.getSrcElement=function(a){return a.target||Ua.event.srcElement},this.getOffset=function(b){var c={top:0,left:0};if(typeof b.getBoundingClientRect!=typeof a){var d=Ta.documentElement,e=b.getBoundingClientRect();c={top:e.top+(Ua.pageYOffset||d.scrollTop)-(d.clientTop||0),left:e.left+(Ua.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}}else{if(c.top+=b.offsetTop,c.left+=b.offsetLeft,b.offsetParent){var f=this.getOffset(b.offsetParent);c.top+=f.top,c.left+=f.left}c.top<0&&(c.top=0),c.left<0&&(c.left=0),c.top=isNaN(c.top)?0:parseInt(c.top,10),c.left=isNaN(c.left)?0:parseInt(c.left,10)}return c.top=Math.round(c.top),c.left=Math.round(c.left),c},this.getMouseRC=function(a){var b={x:0,y:0};try{switch(b.x=a.touches[0].pageX?a.touches[0].pageX:a.clientX,b.y=a.touches[0].pageY?a.touches[0].pageY:a.clientY,ya){case"7ba4a69b":a.touches[0].clientY<=110&&(b.y=a.touches[0].clientY)}b.x||(b.x=0),b.y||(b.y=0)}catch(a){}return b.x=isNaN(b.x)?0:parseInt(b.x,10),b.y=isNaN(b.y)?0:parseInt(b.y,10),b},this.getMouseRC1=function(a){var b=parseInt(+a.clientX+ +this.getScrollX(),10),c=parseInt(+a.clientY+ +this.getScrollY(),10);return b=isNaN(b)?0:b,c=isNaN(c)?0:c,{x:b,y:c}},this.getPageWidth=function(){var a=parseInt(Ta.body.scrollWidth,10);return a=isNaN(a)?0:a},this.getPageHeight=function(){var a=parseInt(Ta.body.scrollHeight,10);return a=isNaN(a)?0:a},this.getViewWidth=function(){var a=self.innerWidth||Ta.body.clientWidth;return a=isNaN(a)?0:parseInt(a,10)},this.getViewHeight=function(){try{var a=self.innerHeight||Ta.body.clientHeight;return a=isNaN(a)?0:parseInt(a,10)}catch(a){return 0}},this.getInitialScale=function(){try{var a=Ta.getElementsByName("viewport")[0].content;return a?a.match("initial-scale=\\d.\\d+").toString().split("=")[1]:1}catch(a){return 1}};var b=this.browerType=function(){var b=Sa.userAgent,c=window.ActiveXObject!=a&&-1!=b.indexOf("MSIE"),d=-1!=b.indexOf("Firefox"),e=window.opr!=a,f=-1!=b.indexOf("Chrome")&&window.chrome,g=-1!=b.indexOf("Safari")&&-1!=b.indexOf("Version");return c?"IE":d?"Firefox":e?"Opera":f?"Chrome":g?"Safari":"Unkown"}();this.urlLengthLimit=function(){return{IE:2083,Firefox:65536,Chrome:8182,Safari:8e4,Opera:19e4,Unkown:2083}[b]}()}function y(){this.valFunction=function(a,b){var c="";try{switch(a){case"heatmap":if(-1==b)return!0;if(b){for(var d=Wa.setURLMerger(Va.href).replace(/\/*$/,""),e=d.split("?")[0].replace(/\/*$/,"")==d?d.split("#")[0].replace(/\/*$/,"")==d?null:d.split("#")[0].replace(/\/*$/,""):d.split("?")[0].replace(/\/*$/,""),f=0;f<b.length;f++)if(c=b[f],c&&(c=Wa.setURLMerger(c).replace(/\/*$/,""),c=c.split("?")[0].replace(/\/*$/,"")==c?c.split("#")[0].replace(/\/*$/,"")==c?c:c.split("#")[0].replace(/\/*$/,""):c.split("?")[0].replace(/\/*$/,"")),d==c||e==c)return!0;return!1}return!1}}catch(a){}},this.sendMsgByScript=function(){function a(a){var b=a+"&v="+H+"&ts="+(new Date).getTime();if(b.length>Wa.urlLengthLimit)return void("undefined"!=typeof console&&console.warn("The requested URL's length can't large than "+Wa.urlLengthLimit));var c=Ta.createElement("script");c.setAttribute("src",b),Ta.getElementsByTagName("head")[0].appendChild(c)}return function(b){fb>99||("53942d99"==ya&&(b=b.replace(/^http:/,"https:")),a(b),La[ya]&&(b=b.replace(ya,La[ya]).replace(/testcollect.ptengine.jp/,"collect.ptengine.jp"),a(b)))}}(),this.sendMsg=function(a){if(!(fb>99)){"53942d99"==ya&&(a=a.replace(/^http:/,"https:"));var b=a+"&v="+H+"&ts="+(new Date).getTime();if(b.length>Wa.urlLengthLimit)return void("undefined"!=typeof console&&console.warn("The requested URL's length can't large than "+Wa.urlLengthLimit));(new Image).src=b,La[ya]&&((new Image).src=a.replace(ya,La[ya]).replace(/testcollect.ptengine.jp/,"collect.ptengine.jp")+"&v="+H+"&ts="+(new Date).getTime())}},this.createCORSRequest=function(a,b){var c=new Ua.XMLHttpRequest;return"withCredentials"in c?c.open(a,b,!0):"undefined"!=typeof XDomainRequest?(c=new Ua.XDomainRequest,c.open(a,b)):c=null,c},this.sendPost=function(a,b){var a=a,c=this.createCORSRequest("POST",a);return!(!c||!b)&&(c.send(encodeURIComponent(b)),!0)},this.sendTE=function(a,b,c,d){!d&&window.ptengine&&window.ptengine.__PTXEnabled&&window.ptengine.__sid&&c&&c.eventName&&c.sid===window.ptengine.__sid?this.sendPtxEvent(a,b,c):$a.sendPost(S,a)||$a.sendMsgByScript(S+b)},this.sendPtxEvent=function(a,b,c){var d=function(){window.ptengine.track(decodeURIComponent(c.eventName),c.properties,encodeURIComponent(a),!1)},e=function(){return window.ptengine&&window.ptengine.track&&"function"==typeof window.ptengine.track};if(e)d();else var f=0,g=setInterval(function(){f+=50;var h=e();(h||f>200)&&(clearInterval(g),h?d():sendTE(a.getJSONRet(),b,c,!0))},50)},this.getCssPath=function(a){var b=a.nodeName.toLowerCase();if("body"==b||"html"==b)return"body";var c=a.parentNode;if(a.getAttribute("id"))return this.getCssPath(c)+">#"+a.getAttribute("id");if(("input"==b||"select"==b||"textarea"==b||"button"==b)&&a.getAttribute("name")){var d=c.querySelectorAll(b+"[name='"+a.getAttribute("name")+"']");if(d.length>1){for(var e=0;e<d.length;e++)if(d[e]==a)return this.getCssPath(c)+">"+b+":input[name='"+a.getAttribute("name")+"']:eq("+e+")"}else if(1==d.length)return this.getCssPath(c)+">"+b+":input[name='"+a.getAttribute("name")+"']"}for(var f=[],e=0;e<c.children.length;e++){var g=c.children[e];g.nodeName&&g.nodeName.toLowerCase()==b&&f.push(g)}for(var e=0;e<f.length;e++)if(f[e]==a)return this.getCssPath(c)+">"+b+":eq("+e+")"},this.getCssPathOld=function(a){var b=a.nodeName.toLowerCase();if("body"==b||"html"==b)return"body";if(a.getAttribute("id"))return"#"+a.getAttribute("id");for(var c=a.parentNode,d=0;b==c.nodeName.toLowerCase()&&!c.getAttribute("id");)c=c.parentNode;for(var e=c.getElementsByTagName(b);1==e.length&&!c.getAttribute("id")&&"body"!=c.nodeName.toLowerCase();)c=c.parentNode,e=c.getElementsByTagName(b);for(var f=0;f<e.length;f++)if(e[f]==a){if(("input"==b||"select"==b||"textarea"==b||"button"==b)&&a.getAttribute("name")){var g=c.querySelectorAll(b+"[name='"+a.getAttribute("name")+"']");if(g.length>1){for(var f=0;f<g.length;f++)if(g[f]==a)return this.getCssPathOld(c)+">"+b+":input[name='"+a.getAttribute("name")+"']:eq("+f+")"}else if(1==g.length)return this.getCssPathOld(c)+">"+b+":input[name='"+a.getAttribute("name")+"']"}return this.getCssPathOld(c)+" "+b+":eq("+(f-d)+")"}},this.parentA=function(a){for(;"body"!=a.nodeName.toLowerCase();){if("a"==a.nodeName.toLowerCase())return a;a=a.parentNode}return!1}}function z(){this.cookiesValue="",this.syncSharedStorage=function(){var a=Math.floor(pb.length/3800),b={uid:za,nid:kb,vid:db,vn:eb,pvn:fb,to_flag:Gb,pl:pb};a>0&&(b.cn=a),ac&&ac.set(g(),b,function(a){console.log("write done!")})},this.writeCookies=function(){qb&&(this.cookiesValue=this.createCookiesValue(),Za.setValue(Ub,this.cookiesValue,{expires:W}),h()&&this.syncSharedStorage()),this.readCookies()},this.readCookies=function(){qb&&(this.cookiesValue=Za.getValue(Ub))},this.getIsRefresh=function(a){return this.cookiesValue.indexOf(nb)>-1&&!Xa.timeCompare_M(this.getValueFromCookies("sact"),a,ba)?1:0},this.getIsNV=function(a){return 0!=Eb||la?Xa.timeCompare_M(this.getValueFromCookies("sact"),a,X)&&!la?1:1!=this.getValueFromCookies("to_flag")||la?0:1:1},this.getIsNID=function(){var a=this.getValueFromCookies("nid");return"1"==a&&(a=0),a},this.isActive=function(){return this.getValueFromCookies("pl")==nb+"*pt*"+Na},this.isNewVisit=function(a,b){return this.getValueFromCookies("vid")!=a&&+b>=+this.getValueFromCookies("sact")},this.createCookiesValue=function(){var a=Math.floor(pb.length/3800);return"uid="+za+"&nid="+kb+"&vid="+db+"&vn="+eb+"&pvn="+fb+"&sact="+Oa+"&to_flag="+Gb+(+a>0?"&cn="+a:"")+"&pl="+pb},this.checkCookiesValue=function(){for(var a=["uid","nid","vid","vn","sact","to_flag","pl"],b=0;b<a.length;b++)if(this.cookiesValue.indexOf(a[b])<0)return!1;return!0},this.getValueFromCookies=function(a){try{if("pl"==a)return-1!=this.cookiesValue.indexOf(a)?this.cookiesValue.split(a+"=")[1]:"";var b=-1!=this.cookiesValue.indexOf(a)?this.cookiesValue.split(a+"=")[1].split("&")[0]:"";return"pvn"==a&&(b=isNaN(b)?0:b),b}catch(a){return""}},this.plPrc=function(a){return a+"*pt*"+Na}}function A(){this.addLoadEvent=function(a,b){var c=a.onload;"function"!=typeof a.onload?a.onload=b:a.onload=function(){c(),b()}},this.timeCompare_M=function(a,b,c){return+b-+a>+c},this.encode=function(a,b){return encodeURIComponent instanceof Function?b?encodeURI(a):encodeURIComponent(a):escape(a)},this.decode=function(a,b){var c="";if(a=a.split("+").join(" "),decodeURIComponent instanceof Function)try{c=b?decodeURI(a):decodeURIComponent(a)}catch(b){c=unescape(a)}else c=unescape(a);return c},this.isNull=function(b){return a==b||"null"==b||-1==b||""==b},this.trim=function(a){return a.replace(/(^\s*)/g,"").replace(/(\s*$)/g,"")},this.base64encodeForBin=function(a){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/",c="",d=0;d<a.length/6-1;)c+=b.charAt(parseInt(a.slice(6*d,6*(d+1)),2).toString(10)),d++;var e=a.slice(6*d,6*(d+1));if(e){var f=e.length;for(d=0;d<6-f;d++)e+="0";c+=b.charAt(parseInt(e,2).toString(10))}return c},this.Hex2Bin=function(a){for(var b="",c="",d=0,e=a.length,f=0;f<e;f++){c=parseInt(a.charAt(f),16).toString(2),d=c.length;for(var g=0;g<4-d;g++)c="0"+c;b+=c}return b},this.createID=function(a){return this.base64encodeForBin(this.Hex2Bin(this.MD5(a)))},this.MD5=function(a){function b(a,b){return a<<b|a>>>32-b}function c(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return a&c|b&~c}function f(a,b,c){return a^b^c}function g(a,b,c){return b^(a|~c)}function h(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)}function i(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)}function j(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)}function k(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)}function l(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=Array(f-1),h=0,i=0;i<c;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}function m(a){var b,c,d="",e="";for(c=0;c<=3;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d}var n,o,p,q,r,s,t,u,v,w=32,x=w,y=Array(),z=7,A=12,B=17,C=22,D=5,E=9,F=14,G=20,H=4,I=11,J=16,K=23,L=6,M=10,N=15,O=21;for(y=l(a),s=1732584193,t=4023233417,u=2562383102,v=271733878,n=0;n<y.length;n+=16)o=s,p=t,q=u,r=v,s=h(s,t,u,v,y[n+0],z,3614090360),v=h(v,s,t,u,y[n+1],A,3905402710),u=h(u,v,s,t,y[n+2],B,606105819),t=h(t,u,v,s,y[n+3],C,3250441966),s=h(s,t,u,v,y[n+4],z,4118548399),v=h(v,s,t,u,y[n+5],A,1200080426),u=h(u,v,s,t,y[n+6],B,2821735955),t=h(t,u,v,s,y[n+7],C,4249261313),s=h(s,t,u,v,y[n+8],z,1770035416),v=h(v,s,t,u,y[n+9],A,2336552879),u=h(u,v,s,t,y[n+10],B,4294925233),t=h(t,u,v,s,y[n+11],C,2304563134),s=h(s,t,u,v,y[n+12],z,1804603682),v=h(v,s,t,u,y[n+13],A,4254626195),u=h(u,v,s,t,y[n+14],B,2792965006),t=h(t,u,v,s,y[n+15],C,1236535329),s=i(s,t,u,v,y[n+1],D,4129170786),v=i(v,s,t,u,y[n+6],E,3225465664),u=i(u,v,s,t,y[n+11],F,643717713),t=i(t,u,v,s,y[n+0],G,3921069994),s=i(s,t,u,v,y[n+5],D,3593408605),v=i(v,s,t,u,y[n+10],E,38016083),u=i(u,v,s,t,y[n+15],F,3634488961),t=i(t,u,v,s,y[n+4],G,3889429448),s=i(s,t,u,v,y[n+9],D,568446438),v=i(v,s,t,u,y[n+14],E,3275163606),u=i(u,v,s,t,y[n+3],F,4107603335),t=i(t,u,v,s,y[n+8],G,1163531501),s=i(s,t,u,v,y[n+13],D,2850285829),v=i(v,s,t,u,y[n+2],E,4243563512),u=i(u,v,s,t,y[n+7],F,1735328473),t=i(t,u,v,s,y[n+12],G,2368359562),s=j(s,t,u,v,y[n+5],H,4294588738),v=j(v,s,t,u,y[n+8],I,2272392833),u=j(u,v,s,t,y[n+11],J,1839030562),t=j(t,u,v,s,y[n+14],K,4259657740),s=j(s,t,u,v,y[n+1],H,2763975236),v=j(v,s,t,u,y[n+4],I,1272893353),u=j(u,v,s,t,y[n+7],J,4139469664),t=j(t,u,v,s,y[n+10],K,3200236656),s=j(s,t,u,v,y[n+13],H,681279174),v=j(v,s,t,u,y[n+0],I,3936430074),u=j(u,v,s,t,y[n+3],J,3572445317),t=j(t,u,v,s,y[n+6],K,76029189),s=j(s,t,u,v,y[n+9],H,3654602809),v=j(v,s,t,u,y[n+12],I,3873151461),u=j(u,v,s,t,y[n+15],J,530742520),t=j(t,u,v,s,y[n+2],K,3299628645),s=k(s,t,u,v,y[n+0],L,4096336452),v=k(v,s,t,u,y[n+7],M,1126891415),u=k(u,v,s,t,y[n+14],N,2878612391),t=k(t,u,v,s,y[n+5],O,4237533241),s=k(s,t,u,v,y[n+12],L,1700485571),v=k(v,s,t,u,y[n+3],M,2399980690),u=k(u,v,s,t,y[n+10],N,4293915773),t=k(t,u,v,s,y[n+1],O,2240044497),s=k(s,t,u,v,y[n+8],L,1873313359),v=k(v,s,t,u,y[n+15],M,4264355552),u=k(u,v,s,t,y[n+6],N,2734768916),t=k(t,u,v,s,y[n+13],O,1309151649),s=k(s,t,u,v,y[n+4],L,4149444226),v=k(v,s,t,u,y[n+11],M,3174756917),u=k(u,v,s,t,y[n+2],N,718787259),t=k(t,u,v,s,y[n+9],O,3951481745),s=c(s,o),t=c(t,p),u=c(u,q),v=c(v,r);var P;return"16"==x&&(P=m(t)+m(u)),"32"==x&&(P=m(s)+m(t)+m(u)+m(v)),P},this.substringByByte=function(a,b){for(var c=0,d=0,e=a.length;d<e;d++){if(/[\x00-\xff]/.test(a[d])?c++:c+=2,c==b)return a.substring(0,d+1);if(c>b)return a.substring(0,d)}return a}}function B(a,b,c){a.addEventListener?a.addEventListener(b,c,!0):a.attachEvent&&a.attachEvent("on"+b,c)}function C(a){Ta.body?Ta.body.appendChild(a):B(Ua,"load",function(){Ta.body.appendChild(a)})}function D(b,c){b=Xa.decode(b);var d;try{d=Ta.querySelectorAll?Ta.querySelectorAll(b):E(b)}catch(a){d=E(b)}var e,f=[];if(c===a||""===c)f=d;else for(var g=0,h=d.length;g<h;g++)e=d[g],Xa.MD5(e.text||"")===c&&f.push(e);return f}function E(a,b){var c,d=[];if(a=a||[],b=b||Ta,"string"==typeof a&&(a=a.split(/\s|>/)),0===a.length)return[];for(var e=a.shift();!e&&a.length>0;)e=a.shift();if(!e)return[];c=0!==a.length;var f=-1,g=e.match(/:nth-child\(\d\)/);if(g){var h=g[0],i=e.match(/[^:]*/g)[0];f=+h.match(/\d/)[0];var j=b.children[f-1];return j&&j.nodeName.toLowerCase()===i?c?E(a,j):(d.push(j),d):[]}var k,l,m,n,o,p,q=[],r=e.match(/[^#\.:\[]*/),s=e.match(/#[^.:\[]*/),t=e.match(/\.[^#:\[]*/),u=e.match(/\[[^#:\.]*/);r&&(r=r[0]),s&&(s=s[0]),t&&(t=t[0]),u&&(u=u[0]),s&&(s=s.replace("#",""),(p=Ta.getElementById(s))&&d.push(p)),r&&(s||(d=b.querySelectorAll?b.querySelectorAll(r):b.getElementsByTagName(r))),t&&(s||r||(d=b.querySelectorAll?b.querySelectorAll(t):b.getElementsByClassName?b.getElementsByClassName(t.replace(/\./g," ")):b.getElementsByTagName("*"))),u&&(s||r||t||b.querySelectorAll&&(d=b.querySelectorAll(u)));var v,w,x,y,z=t?t.split(/\./):[],A=u?u.split(/\[|]/g):[];for(l=0,m=d.length;l<m;l++)if(k=d[l],!r||k.nodeName.toLowerCase()===r){if(y=!0,t){var B=" "+k.className+" ";for(n=0,o=z.length;n<o;n++)if(z[n]&&(v=new RegExp("\\s"+z[n]+"\\s"),!v.test(B))){y=!1;break}if(!y)continue}if(u){for(n=0,o=A.length;n<o;n++)if(A[n]&&(w=A[n].split("="),w[1]=w[1].replace(/^'|'$/g,""),x=k.getAttribute(w[0]),x&&(x=x.replace(/'/g,"\\'")),x!==w[1])){y=!1;break}if(!y)continue}q.push(k)}return d=q,c?E(a,d[0]):d}function F(a){return window.ptengine&&window.ptengine.__ptePeid||a}function G(){if(!Va.href.match(/^https?:\/\/.*/)||Va.href.indexOf("#_pt_capture")>-1)return!1;if(["2dfd029f","323b0b0c","14311cf1","4ea10743","4d304c7a","46635348","31aee115","39a47d27","1568e5d4","1a8c08b0","6f1b18fd","566d12f9","51add8fa","15d58c7b","223c998c","17d1d4aa","308c8fdc","5102c629","5b85c19b","4e8daed1","7201105c","645474fb","4e63000f","5990295c","699082d1","11b7dcb8"].join(",").indexOf(ya)<0){var a=/^http[s]?:\/\/((?!datatest|devx|x).)+\.(miapex|ptengine|ptmind)\.(com|jp|cn)/;if(a.test(Va.href)||a.test(Ta.referrer))return window[Fa]="2.0",console.log("event load flag ========>",window[Fa]),!1}return Va.href.indexOf("ptengine=")>-1?(window[Fa]="2.0",!1):!(Va.href.indexOf(Ga)>-1||Ta.referrer&&Ta.referrer.indexOf(Ga)>-1)||(window[Fa]="2.0",!1)}window.edc7uo||(window.edc7uo=-1),window.edc7uo=-1;var H="v1.65.1";if(!navigator.doNotTrack||1!=navigator.doNotTrack||window.PT_IGNORE_DNT){var I="engagebind.ptengine.jp/account_bind",J=["collect.ptengine.jp","collect01.ptengine.jp"],K=0,L="https:"==location.protocol?"https://":"http://",M=L+J[K],N=M+"/pn",O=M+"/pv",P=M+"/oc",Q=M+"/os",R=M+"/hb",S=M+"/te",T=M+"/ec",U=M+"/abtest";I=L+I;var V="",W=1e3,X=18e4,Y=15e3,Z=3e5,$=3e3,_=1e3,aa=1e3,ba=6e4,ca="",da=!1,ea=!1,fa=null,ga=[],ha=[],ia=[],ja=!0,ka=!1,la=!1,ma="",na=[],oa=!1,pa="",qa="",ra="",sa=!1,ta="",ua=[],va=[],wa=!1,xa=!1,ya="",za="",Aa=!0,Ba=[],Ca={},Da=[0,0,""],Ea=window._pt_sp_2?"_pt_sp_2":"_pt_pe",Fa="__ptengine",Ga="ptengine-event-explore=open",Ha="preview_token",Ia="focus",Ja="_s_",Ka=[],La={"39a47d27":"31aee115","1568e5d4":"4d304c7a","1a8c08b0":"31aee115","6f1b18fd":"4d304c7a"};if(function(){"use strict";function a(a){return a<10?"0"+a:a}function b(){return this.valueOf()}function c(a){return e.lastIndex=0,e.test(a)?'"'+a.replace(e,function(a){var b=h[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,b){var e,h,j,k,l,m=f,n=b[a];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(a)),"function"==typeof i&&(n=i.call(b,a,n)),typeof n){case"string":return c(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";if(f+=g,l=[],"[object Array]"===Object.prototype.toString.apply(n)){for(k=n.length,e=0;e<k;e+=1)l[e]=d(e,n)||"null";return j=0===l.length?"[]":f?"[\n"+f+l.join(",\n"+f)+"\n"+m+"]":"["+l.join(",")+"]",f=m,j}if(i&&"object"==typeof i)for(k=i.length,e=0;e<k;e+=1)"string"==typeof i[e]&&(h=i[e],(j=d(h,n))&&l.push(c(h)+(f?": ":":")+j));else for(h in n)Object.prototype.hasOwnProperty.call(n,h)&&(j=d(h,n))&&l.push(c(h)+(f?": ":":")+j);return j=0===l.length?"{}":f?"{\n"+f+l.join(",\n"+f)+"\n"+m+"}":"{"+l.join(",")+"}",f=m,j}}if("object"!=typeof JSON){JSON={};var e=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=b,Number.prototype.toJSON=b,String.prototype.toJSON=b);var f,g,h,i;"function"!=typeof JSON.stringify&&(h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var e;if(f="",g="","number"==typeof c)for(e=0;e<c;e+=1)g+=" ";else"string"==typeof c&&(g=c);if(i=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return d("",{"":a})})}}(),!(!window[Ea]||window[Ea].join("").indexOf("setAccount")<0&&window[Ea].join("").indexOf("setSID")<0||window[Ea].join("").indexOf("setDomain")<0)){for(var Ma=0;Ma<window[Ea].length;Ma++)/setpvtag/i.test(window[Ea][Ma])&&(window[Ea][Ma]=window[Ea][Ma].replace(/setpvtag/i,"setVPV"));if(p(window[Ea])){var Na,Oa,Pa,Qa,Ra="",Sa=da?window.top.navigator:navigator,Ta=da?window.top.document:document,Ua=da?window.top:window,Va=da?window.top.location:location,Wa=new x,Xa=new A,Ya=new z,Za=new w,$a=new y,_a=Wa.getRef(),ab=(Wa.getInitialScale(),Wa.getTerminalType()+""),bb=Ua.orientation==a||0==Ua.orientation?1:-1,cb="0",db="",eb=0,fb=0,gb=ya+"_/",hb=new Date,ib=hb.getTime()+"-"+hb.getDate(),jb="",kb="0",lb="",mb="",nb="",ob=(Wa.getTitle(),""),pb="",qb=Za.isEnabled(),rb="",sb="",tb="",ub=0,vb=0,wb=Wa.getYMax(),xb=1==bb?wb:0,yb=1!=bb?wb:0,zb=0,Ab=hb.getTime(),Bb="",Cb=!1,Db="",Eb=0,Fb=!0,Gb=0,Hb=!1,Ib=!1,Jb="Optimizely",Kb=!1;da&&(window.top[Ea]=window[Ea]);var Lb={lastTime:(new Date).getTime()-1e4,AddTime:function(){var a=(new Date).getTime();return!(this.lastTime+1e3>a)&&(a-this.lastTime>1e4?(this.lastTime=a-9e3,!0):(this.lastTime+=1e3,!0))}};if(Va.search.indexOf("ptengine=")>-1||b()&&32!=b().length){var Mb=Va.href.split("ptengine="),Nb={0:"https://report.ptengine.jp/js/popup/ptpopupheatmap.js",1:"https://reportv3.ptengine.jp/components/pagescene/overlay/overlay.js",2:"https://report.ptengine.com/js/popup/ptpopupheatmap.js",3:"https://reportv3.ptengine.com/components/pagescene/overlay/overlay.js",4:"https://demo.ptengine.jp/components/pagescene/heatmap/js/popup/ptpopupheatmap_jp.js",5:"https://demo.ptengine.com/components/pagescene/heatmap/js/popup/ptpopupheatmap_en.js",6:"https://devinsight.ptengine.jp/components/pagescene/overlay/overlay.js",7:"https://devinsight.ptengine.com/components/pagescene/overlay/overlay.js",8:"https://stagingjpreport.ptmind.com/components/pagescene/overlay/overlay.js",9:"https://stagingenreport.ptmind.com/components/pagescene/overlay/overlay.js",A:"http://localhost:3100/components/pagescene/overlay/overlay.js",B:"http://localhost:3000/components/pagescene/overlay/overlay.js",a:"https://report.ptengine.cn/components/pagescene/overlay/overlay.js",b:"https://stagingcnreport.ptmind.com/components/pagescene/overlay/overlay.js",c:"https://devreport.ptengine.cn/components/pagescene/overlay/overlay.js",d:"http://localhost:3200/components/pagescene/overlay/overlay.js",e:"https://devjp1.ptmind.com/components/pagescene/overlay/overlay.js",f:"https://insight.ptengine.jp/components/pagescene/overlay/overlay.js",g:"https://insight.ptengine.com/components/pagescene/overlay/overlay.js"},Ob=Nb[Mb[1].substring(0,1)];if(!Ob)return;if(!window[Fa]){var Pb=Ta.createElement("script");Pb.type="text/javascript",Pb.async=!0,Pb.charset="utf-8",Pb.src=Ob,C(Pb),window[Fa]="2.0"}}else if(Va.href.indexOf("preview_ptx_token")>-1){if(da)for(var Qb=window[Ea]||[],Ma=0;Ma<Qb.length;Ma++){var Rb=Qb[Ma];if(Rb&&-1!==Rb.indexOf(",")){var Sb=Rb.split(",");if("setPtxEnabled"===Sb[0]&&"1"===Sb[1]){var L="https:"==Va.protocol?"https://":"http://",Tb=Ta.createElement("script");Tb.type="text/javascript",Tb.async=!0,Tb.charset="UTF-8",Tb.src=L+"xjs.ptengine.jp/ptx_preview.js",Ta.body.appendChild(Tb);break}}}}else{try{if(Va.href.indexOf("ptengine_engage_editor_token")>-1||(window.name||window.parent&&window.parent.name)==="ptengine_campaign_editor")return}catch(a){}if(!(Va.href.indexOf("ptengine_engage_control_group")>-1))if(Va.href.indexOf(Ha)>-1){if(!window[Fa]){var L="https:"==Va.protocol?"https://":"http://",Tb=Ta.createElement("script");Tb.type="text/javascript",Tb.async=!0,Tb.charset="UTF-8",Tb.src=L+"pteengagejs.ptengine.jp/preview.js?v="+H,C(Tb),window[Fa]="2.0"}}else if(window[Fa]||function(){function a(){c=c.replace(/^https?:/,Va.protocol);var a=Ta.createElement("script");a.type="text/javascript",a.async=!0,a.charset="UTF-8",a.src=c+"/components/event/foreign/dest/event.js",C(a)}try{var b=Ta.referrer||Ua.name||"",c=localStorage.ptengineDomain;Va.href.indexOf(Ga)>-1&&/^https?:\/\/(.*\.ptengine.(com|cn|jp)|localhost).*/gim.test(b)?(localStorage.ptengineDomain=c=b.match(/https?:\/\/([^\/]+)/i)[0],a()):opener&&c&&a()}catch(a){}}(),""!=V){var Ub="pt_"+ya,Vb="pt_s_"+ya,Wb="pt_t_"+ya,Xb="pt_v_"+ya,Yb="pt_sc_"+ya;switch(ya){case"23279dc3":_pt_sp_2.push("setCustomVar,def15,svid,value,"+Va.href.split("?")[0]+",0");break;case"19fca91d":case"5648a0b7":case"2345678":ca="oisix";break;case"2ab0afd3":ca="oisix_gochimaru";break;case"34c69a28":ca="oisix_hk"}if("VjjxITmt45nXMldop676zQ"==Xa.createID("ptmind")){c.prototype={constructor:c,addProperty:function(a){var b=function(){var b=a.value;return encodeURIComponent("function"==typeof b?b.call():b)}();this.properties.push({key:encodeURIComponent(a.key),type:a.type,value:b}),this.rules.key.lengthLimit&&a.key.length>this.rules.key.lengthLimit&&this.errors.push({errorType:"key",errorValue:a.key,msg:"key["+a.key+"]length is too long"}),this.rules.key.regex&&!this.rules.key.regex.test(a.key)&&this.errors.push({errorType:"key",errorValue:a.key,msg:"value["+a.key+"] must match ^[a-zA-Zd_]*$"}),"string"==typeof a.value?(this.rules.value.lengthLimit&&b.length>this.rules.value.lengthLimit&&this.errors.push({errorType:"value",errorValue:a.value,msg:"value["+decodeURIComponent(a.value)+"]length is too long"}),this.rules.value.regex&&!this.rules.value.regex.test(a.value)&&this.errors.push({errorType:"value",errorValue:a.value,msg:"value["+a.value+"] must match ^[a-zA-Zd_]*$"})):"number"==typeof a.value&&((a.value>4294967294||a.value<-4294967296)&&this.errors.push({errorType:"value",errorValue:a.value,msg:"value["+a.value+"] does not match, the type float should between -4294967296 and 4294967294, and the type int should bewteen -2147483648 and 2147483647"}),"int"==a.type&&(a.value>2147483647||a.value<-2147483648)&&this.errors.push({errorType:"value",errorValue:a.value,msg:"value["+a.value+"] is ["+a.type+"]type, it should between -2147483648 and 2147483647"}))},getErrorMsg:function(){for(var a=[],b=0,c=this.errors,d=c.length;b<d;b++)a.push(c[b].msg);return a.join("\n")},getType:function(){var b=/^\d{4}\-\d{2}\-\d{2}(?:\x20\d{2}:\d{2}:\d{2})?$/;return function(c){return c===a&&"undefined"!=typeof console&&console.warn("getType paramer is required!"),"function"==typeof c?arguments.callee.call(this,c.call()):"number"==typeof c?c%1==0?"int":"float":"string"==typeof c?b.test(c)?"date":"string":"object"==typeof c&&c instanceof Date?"date":void("undefined"!=typeof console&&console.warn("unsupported type, only support 4 types:[int, float, string, date]"))}}(),getCustomVarEid:function(){for(var a=[this.eventName+":"+this.eventType+":"+this.elementType],b=0,c=this.properties,d=c.length;b<d;b++){var e=c[b];a.push(e.key+":"+e.type+":"+e.value)}return a.join("|")},getDateFormat:function(){function a(a){return 1==(a+"").length?"0"+a:a+""}return function(b){if(b instanceof Date)return b.getFullYear()+"-"+a(b.getMonth()+1)+"-"+a(b.getDate())+" "+a(b.getHours())+":"+a(b.getMinutes())+":"+a(b.getSeconds())}}()};var Zb=function(a){this.events=[];for(var b=0;b<a.length;b++)this.events.push(new $b(a[b]))};Zb.prototype={constructor:Zb,getAllErrors:function(){for(var a=[],b=0;b<this.events.length;b++)Array.prototype.push.apply(a,this.events[b].getEventErrors());return a},getCustomEventEid:function(){var b=this.events[0],c=[],d={};if(b){var e=this.getAllErrors();if(e.length){for(var f=0,g=e.length;f<g;f++)c.push(e[f].msg);return{eid:c.join("\n"),properties:{}}}var h=encodeURIComponent(b.eventName),c=[h+":0:0"];for(var i in b)if("eventName"!=i&&"pt_event_id"!=i&&b.hasOwnProperty(i)){var j=b[i],k=b.getType(j),l=j instanceof Date?b.getDateFormat(j):j;if(k==a)return"undefined"!=typeof console&&console.warn("unsupported type, only support 4 types:[int, float, string, date]"),{eid:"",properties:{}};c.push(encodeURIComponent(i)+":"+k+":"+encodeURIComponent(l)),d[i]=j}return{eid:c.join("|"),properties:d}}},getStr:function(b){var c=[];b===a&&Array.prototype.push.apply(c,this.events);var d=this.getAllErrors();return b!==a&&d.push({errorCode:"109",errorType:"lengthLimit",errorValue:b,msg:"the url length "+b+" is too long"}),d.length&&c.push({pt_error:d}),c}};var $b=function(a){this.pt_event_id=this.getEventId();for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];c=c instanceof Date?this.getDateFormat(c):c,this[b]=c}};if($b.prototype={constructor:$b,rules:{eventName:{maxLength:60},key:{maxLength:64,regex:/^[a-zA-Z\d_]*$/},value:{string:{maxLength:256},date:{},float:{min:-4294967296,max:4294967294},int:{min:-2147483648,max:2147483647}}},getEventId:function(){for(var a="0123456789qwertyuioplkjhgfdsazxcvbnm",b="",c=0;c<32;c++)b+=a.charAt(Math.ceil(36*Math.random()));return b},getPropsCount:function(){var a=0;for(var b in this)this.hasOwnProperty(b)&&"eventName"!=b&&"pt_category"!=b&&a++;return a},getEventErrors:function(){var a=[];for(var b in this)this.hasOwnProperty(b)&&Array.prototype.push.apply(a,this.valid(b,this[b]));var c=this.getPropsCount();return c>10&&!this.hasOwnProperty("pt_category")&&a.push({errorCode:"501",errorValue:c,errorEventName:this.eventName||this.pt_category,msg:"The custom properties count must not more than 10"}),a},valid:function(a,b){var c=[];b="function"==typeof b?b.call():b;var d=encodeURIComponent(b),e=this.getType(b);("eventName"==a||"pt_category"==a)&&this.rules.eventName.maxLength&&b.replace(/[^\x00-\xff]+/g,"aa").length>this.rules.eventName.maxLength&&c.push({errorCode:"101",errorType:"eventName",errorValue:b,errorEventName:this.eventName||this.pt_category,msg:"eventName["+b+"]length is too long"}),this.rules.key.maxLength&&a.length>this.rules.key.maxLength&&c.push({errorCode:"103",errorType:"key",errorValue:a,errorEventName:this.eventName||this.pt_category,msg:"key["+a+"]length is too long"}),this.rules.key.regex&&!this.rules.key.regex.test(a)&&c.push({errorType:"key",errorCode:"103",errorValue:a,errorEventName:this.eventName||this.pt_category,msg:"key["+a+"] must match ^[a-zA-Zd_]*$"});var f={string:function(){this.rules.value.string.maxLength&&d.length>this.rules.value.string.maxLength&&c.push({errorType:"value",errorValue:b,errorCode:"105",errorEventName:this.eventName||this.pt_category,msg:"value["+decodeURIComponent(b)+"]length is too long"})},int:function(){(b>this.rules.value.int.max||b<this.rules.value.int.min)&&c.push({errorType:"value",errorValue:b,errorCode:"108",errorEventName:this.eventName||this.pt_category,msg:"value["+b+"] is ["+e+"]type, it should between -2147483648 and 2147483647"})},float:function(){(b>this.rules.value.float.max||b<this.rules.value.float.min)&&c.push({errorType:"value",errorValue:b,errorCode:"107",errorEventName:this.eventName||this.pt_category,msg:"value["+b+"] does not match, the type float should between -4294967296 and 4294967294, and the type int should bewteen -2147483648 and 2147483647"})}};return f[e]&&f[e].call(this),c},getType:function(){var a=/^\d{4}\-\d{2}\-\d{2}(?:\x20\d{2}:\d{2}:\d{2})?$/;return function(b){return"function"==typeof b?arguments.callee.call(this,b.call()):"number"==typeof b?b%1==0?"int":"float":"string"==typeof b?a.test(b)?"date":"string":"object"==typeof b&&b instanceof Date?"date":void 0}}(),getDateFormat:function(){function a(a){return 1==(a+"").length?"0"+a:a+""}return function(b){if(b instanceof Date)return b.getFullYear()+"-"+a(b.getMonth()+1)+"-"+a(b.getDate())+" "+a(b.getHours())+":"+a(b.getMinutes())+":"+a(b.getSeconds())}}()},d.prototype.addPropery=function(a,b){this[a]=b},d.prototype.getJSONRet=function(){return JSON.stringify(this)},window[Ea].push=function(a,b){function c(a){return"&eid="+encodeURIComponent(a)}var e=a.split(",");switch(e[0]){case"setPVTag":try{if("replace"==e[2])lb=e[1];else{var f=e[1]?e[1]:"";lb=mb+"#"+f}nb=Xa.createID(lb),o("vpv",lb,nb)}catch(a){}break;case"setCustomEvent":try{var g=b.eventName?b.eventName:"";if(g=Xa.trim(g),0==xa||!g)return;var g=encodeURIComponent(g.substr(0,40)),h="0",i=b.isActiveElement?b.isActiveElement:0;fb=+fb+1;var j=new d(ya,za,db,nb,ob);j.addPropery("eid",g+":"+h+":"+i),j.addPropery("ptif",ab+""),j.addPropery("pvn",fb);var k="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&eid="+g+":"+h+":"+i+"&ptif="+ab+"&pvn="+fb;$a.sendTE(j.getJSONRet(),k,{sid:ya,eventName:g})}catch(a){}break;case"setTrackEvent":try{if(0==xa)return;if("string"==typeof e[6])if("39073cb0"==ya&&Va.href.match(new RegExp(e[6].replace(/^\//,"").replace(/\/$/,""))));else if(!Va.href.replace(/\/$/,"").match(new RegExp(e[6].replace(/^\//,"").replace(/\/$/,""))))return;void 0===e[3]&&(e[3]=""),void 0===e[4]&&(e[4]="0"),e[4]=e[4].replace(/\./g,"e");for(var l=1;l<5;l++)e[l]=Xa.decode(e[l]);e[1]=e[1].substr(0,200),e[2]=e[2].substr(0,200),e[3]=e[3].substr(0,500),e[4]=e[4].substr(0,10);for(var l=1;l<5;l++)if(e[l]=Xa.encode(e[l]).replace(/\./g,"%2E"),e[l].indexOf(".")>-1){var m=e[l].split(".");e[l]=m.join("%2E")}if("string"==typeof e[7])Ka.push(e);else{if(""==za||""==db||""==nb||""==ob)return;if(!Lb.AddTime())return;fb=+fb+1,Ya.writeCookies();var j=new d(ya,za,db,nb,ob);j.addPropery("stat",e.slice(1,5).join(".")),j.addPropery("ptif",ab+""),j.addPropery("pvn",fb);var k="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&stat="+e.slice(1,5).join(".")+"&ptif="+ab+"&pvn="+fb;$a.sendTE(j.getJSONRet(),k,{sid:ya,eventName:e[3]})}}catch(a){}break;case"setCustomVar":!function(){var a,b=e[3];"cookie"==b?a=e[4]:"globalVar"==b?a=window[e[4]]:"domId"==b?Ta.getElementById(e[4])&&(a=Ta.getElementById(e[4]).innerHTML):"value"==b&&(a=e[4]),a&&("ptselfSource"==e[2]&&Ba.push(["def01",Za.getValue(Yb),e[3]]),Ba.push([e[1],a,e[3]])),"ptself"!=e[2]&&"ptselfSource"!=e[2]||(o("vpv"),"ptselfSource"==e[2]&&Ba.pop(),Ba.pop(),"ptselfSource"==e[2]&&Za.setValue(Yb,"",{expires:""})),a&&window.analytics&&window.analytics.track&&window.analytics.track(a)}();break;case"setCustomVarV2":try{if(0==xa)return;var n=function(){if("object"==typeof b)return"number"==typeof b.length?b:[b]}();if(!n)return;fb=+fb+1;var p=new Zb(n),q=p.getCustomEventEid(),j=new d(ya,za,db,nb,ob);j.addPropery("eid",q.eid),j.addPropery("ptif",ab+""),j.addPropery("pvn",fb);var k="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&eid="+q.eid+"&ptif="+ab+"&pvn="+fb;$a.sendTE(j.getJSONRet(),k,{sid:ya,eventName:n[0]&&encodeURIComponent(n[0].eventName),properties:q.properties})}catch(a){}break;case"setEC":try{var n=function(){if("object"==typeof b)return"number"==typeof b.length?b:[b]}(),p=new Zb(n);if(!n)return;if(0==xa)return;fb=+fb+1;var r=p.getStr(),s="?id="+ya+"."+za+"."+db+"."+nb+"."+ob,t="&ptif="+ab+"&pvn="+fb,u=new d(ya,za,db,nb,ob);u.addPropery("ptif",ab+""),u.addPropery("pvn",fb),u.addPropery("v",H),u.addPropery("ts",(new Date).getTime()),u.addPropery("data",r);var k=s+t;if(!$a.sendPost(T,u.getJSONRet())){k=s+c(JSON.stringify(r))+t;var v=T+k+"&v="+H+"&ts="+(new Date).getTime();v.length>Wa.urlLengthLimit&&(k=s+c(p.getStr(v.length))+t),$a.sendMsgByScript(T+k)}}catch(a){}break;case"setUser":if("object"==typeof b){if(!b.accountid)throw new Error("accountid can not be empty.");var w={uid:za,sid:ya,accountid:b.accountid,properties:b.props||[]};$a.sendPost(I,JSON.stringify(w))}break;case"setFunnelStep":try{la="true"==e[1],ma=3==e.length?e[2]:""}catch(a){}break;case"useURLTrim":try{ja="false"!=e[1]||"tmpUrlAPI"}catch(a){}break;case"setCrossDomainLink":try{ka="allManual"==e[1]?"allManual":"halfManual"==e[1]&&"halfManual"}catch(a){}break;case"setIframe":Kb="true"==e[1];break;case"RecordSource":if(Za.getValue(Xb)==db)return;var x;x=Va.search.indexOf("utm_")>-1?Va.href:jb?jb.split("://")[1].split("/")[0]:"";var y=Xa.encode(x,!1)||"no referrer",z=Za.getValue(Yb);y=z?z+","+y:y,Za.setValue(Yb,y,{expires:W}),Za.setValue(Xb,db,{expires:W});break;case"ClearSource":Za.setValue(Yb,"",{expires:""});break;case"setSampleRate":try{Db=e[1]}catch(a){}break;case"setOptimizely":try{Ib="true"==e[1],Jb="Optimizely"}catch(a){}break;case"setOptimizelyX":try{Ib="true"==e[1],Jb="OptimizelyX"}catch(a){}break;case"setAbtest":var A=b.category||"",B=b.expName||"",C=b.expId||"",D=b.verName||"",E=b.verId||"",F=new d(ya,za,db,nb,ob);if(F.addPropery("abtest",A+":"+B+":"+C+":"+D+":"+E),!$a.sendPost(U,F.getJSONRet())){var k="?id="+ya+"."+za+"."+db+"."+nb+"."+ob+"&abtest="+A+":"+B+":"+C+":"+D+":"+E;$a.sendMsgByScript(U+k)}}},window[Ea].length>0)for(var _b=window[Ea],Ma=0;Ma<_b.length;Ma++)_b[Ma]&&window[Ea].push(_b[Ma]);"308fd851"!=ya&&"633fdbe6"!=ya||(Y=6e4);var ac;if(Ya.readCookies(),G())if(h()){var bc=document.createElement("iframe"),L="https:"==Va.protocol?"https://":"http://";bc.src=L+"js.ptengine.jp/tracking.html",bc.setAttribute("style","width:0;height:0;border:0;border:none;display:none"),C(bc);var cc=!1,dc=setTimeout(function(){cc||(cc=!0),i(),e()},1e3);bc.addEventListener("load",function(a){cc||(cc=!0,clearTimeout(dc),ac=new f(bc.contentWindow,"*"),Ya.cookiesValue?(i(),e()):ac.get(g(),function(a){if(a){var b=JSON.parse(a);za=b.uid,kb=b.nid,db=b.vid,eb=b.vn,fb=b.pvn,Oa=b.sact,Gb=b.to_flag,pb=b.pl,za&&Ya.writeCookies()}i(),e()}))})}else i()}}}}}}}();
!function(){"use strict";var y=function(e){return"object"==typeof e?null!==e:"function"==typeof e},k=function(e){if(!y(e))throw TypeError(e+" is not an object!");return e},m=function(e){try{return!!e()}catch(t){return!0}},o=!m(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var w=e(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),t=w.document,n=y(t)&&y(t.createElement),r=function(e){return n?t.createElement(e):{}},i=!o&&!m(function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}),l=function(e,t){if(!y(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!y(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!y(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!y(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},a=Object.defineProperty,c={f:o?Object.defineProperty:function(e,t,n){if(k(e),t=l(t,!0),k(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},s=c.f,u=Function.prototype,d=/^\s*function ([^ (]*)/,f="name";function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(r){var i=function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)}}function T(e){throw new Error('"'+e+'" is read-only')}function x(e,t){return function n(e){if(Array.isArray(e))return e}(e)||function u(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=undefined;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}(e,t)||O(e,t)||function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function t(e){if(Array.isArray(e))return D(e)}(e)||function n(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}f in u||o&&s(u,f,{configurable:!0,get:function(){try{return(""+this).match(d)[1]}catch(e){return""}}});var A,N,M=Object.is||function n(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},P={}.toString,$=function(e){return P.call(e).slice(8,-1)},L=e(function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)}),W=(L.version,e(function(e){var t="__core-js_shared__",n=w[t]||(w[t]={});(e.exports=function(e,t){return n[e]||(n[e]=t!==undefined?t:{})})("versions",[]).push({version:L.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),R=0,j=Math.random(),U=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++R+j).toString(36))},V=e(function(e){var t=W("wks"),n=w.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:U)("Symbol."+e))}).store=t}),F=V("toStringTag"),H="Arguments"==$(function(){return arguments}()),B=function(e){var t,n,r;return e===undefined?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),F))?n:H?$(t):"Object"==(r=$(t))&&"function"==typeof t.callee?"Arguments":r},G=RegExp.prototype.exec,z=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==B(e))throw new TypeError("RegExp#exec called on incompatible receiver");return G.call(e,t)},q=function(){var e=k(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Y=RegExp.prototype.exec,J=String.prototype.replace,X=Y,K="lastIndex",Z=(A=/a/,N=/b*/g,Y.call(A,"a"),Y.call(N,"a"),0!==A[K]||0!==N[K]),Q=/()??/.exec("")[1]!==undefined;(Z||Q)&&(X=function(e){var t,n,r,i,a=this;return Q&&(n=new RegExp("^"+a.source+"$(?!\\s)",q.call(a))),Z&&(t=a[K]),r=Y.call(a,e),Z&&r&&(a[K]=a.global?r.index+r[0].length:t),Q&&r&&1<r.length&&J.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)arguments[i]===undefined&&(r[i]=undefined)}),r});var ee=X,te=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ne=o?function(e,t,n){return c.f(e,t,te(1,n))}:function(e,t,n){return e[t]=n,e},re={}.hasOwnProperty,ie=function(e,t){return re.call(e,t)},ae=W("native-function-to-string",Function.toString),oe=e(function(e){var a=U("src"),t="toString",o=(""+ae).split(t);L.inspectSource=function(e){return ae.call(e)},(e.exports=function(e,t,n,r){var i="function"==typeof n;i&&(ie(n,"name")||ne(n,"name",t)),e[t]!==n&&(i&&(ie(n,a)||ne(n,a,e[t]?""+e[t]:o.join(String(t)))),e===w?e[t]=n:r?e[t]?e[t]=n:ne(e,t,n):(delete e[t],ne(e,t,n)))})(Function.prototype,t,function(){return"function"==typeof this&&this[a]||ae.call(this)})}),se=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},ce=function(r,i,e){if(se(r),i===undefined)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}},ue="prototype",le=function(e,t,n){var r,i,a,o,s=e&le.F,c=e&le.G,u=e&le.S,l=e&le.P,d=e&le.B,f=c?w:u?w[t]||(w[t]={}):(w[t]||{})[ue],h=c?L:L[t]||(L[t]={}),g=h[ue]||(h[ue]={});for(r in c&&(n=t),n)a=((i=!s&&f&&f[r]!==undefined)?f:n)[r],o=d&&i?ce(a,w):l&&"function"==typeof a?ce(Function.call,a):a,f&&oe(f,r,a,e&le.U),h[r]!=a&&ne(h,r,o),l&&g[r]!=a&&(g[r]=a)};w.core=L,le.F=1,le.G=2,le.S=4,le.P=8,le.B=16,le.W=32,le.U=64,le.R=128;var de=le;de({target:"RegExp",proto:!0,forced:ee!==/./.exec},{exec:ee});var fe=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e},he=V("species"),ge=!m(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),pe=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),ve=function(n,e,t){var r=V(n),a=!m(function(){var e={};return e[r]=function(){return 7},7!=""[n](e)}),i=a?!m(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[he]=function(){return t}),t[r](""),!e}):undefined;if(!a||!i||"replace"===n&&!ge||"split"===n&&!pe){var o=/./[r],s=t(fe,r,""[n],function(e,t,n,r,i){return t.exec===ee?a&&!i?{done:!0,value:o.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),c=s[0],u=s[1];oe(String.prototype,n,c),ne(RegExp.prototype,r,2==e?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}};ve("search",1,function(r,i,o,s){return[function(e){var t=r(this),n=e==undefined?undefined:e[i];return n!==undefined?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=s(o,e,this);if(t.done)return t.value;var n=k(e),r=String(this),i=n.lastIndex;M(i,0)||(n.lastIndex=0);var a=z(n,r);return M(n.lastIndex,i)||(n.lastIndex=i),null===a?-1:a.index}]});var ye={f:{}.propertyIsEnumerable},me=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==$(e)?e.split(""):Object(e)},we=function(e){return me(fe(e))},_e=Object.getOwnPropertyDescriptor,be={f:o?_e:function(e,t){if(e=we(e),t=l(t,!0),i)try{return _e(e,t)}catch(n){}if(ie(e,t))return te(!ye.f.call(e,t),e[t])}},Se=function(e,t){if(k(e),!y(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},Ee={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=ce(Function.call,be.f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(t){n=!0}return function(e,t){return Se(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):undefined),check:Se}.set,ke=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&y(r)&&Ee&&Ee(e,r),e},Ie=Math.ceil,Te=Math.floor,xe=function(e){return isNaN(e=+e)?0:(0<e?Te:Ie)(e)},Ce=Math.min,Oe=function(e){return 0<e?Ce(xe(e),9007199254740991):0},De=Math.max,Ae=Math.min,Ne=function(u){return function(e,t,n){var r,i,a,o=we(e),s=Oe(o.length),c=(i=s,(r=xe(r=n))<0?De(r+i,0):Ae(r,i));if(u&&t!=t){for(;c<s;)if((a=o[c++])!=a)return!0}else for(;c<s;c++)if((u||c in o)&&o[c]===t)return u||c||0;return!u&&-1}},Me=W("keys"),Pe=function(e){return Me[e]||(Me[e]=U(e))},$e=Ne(!1),Le=Pe("IE_PROTO"),We=function(e,t){var n,r=we(e),i=0,a=[];for(n in r)n!=Le&&ie(r,n)&&a.push(n);for(;t.length>i;)ie(r,n=t[i++])&&(~$e(a,n)||a.push(n));return a},Re="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),je=Re.concat("length","prototype"),Ue={f:Object.getOwnPropertyNames||function(e){return We(e,je)}},Ve="\t\n\x0B\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff",Fe="["+Ve+"]",He=RegExp("^"+Fe+Fe+"*"),Be=RegExp(Fe+Fe+"*$"),Ge=function(e,t,n){var r={},i=m(function(){return!!Ve[e]()||"âÂ"!="âÂ"[e]()}),a=r[e]=i?t(ze):Ve[e];n&&(r[n]=a),de(de.P+de.F*i,"String",r)},ze=Ge.trim=function(e,t){return e=String(fe(e)),1&t&&(e=e.replace(He,"")),2&t&&(e=e.replace(Be,"")),e},qe=Ge,Ye=Object.keys||function pt(e){return We(e,Re)},Je=o?Object.defineProperties:function(e,t){k(e);for(var n,r=Ye(t),i=r.length,a=0;a<i;)c.f(e,n=r[a++],t[n]);return e},Xe=w.document,Ke=Xe&&Xe.documentElement,Ze=Pe("IE_PROTO"),Qe=function(){},et="prototype",tt=function(){var e,t=r("iframe"),n=Re.length;for(t.style.display="none",Ke.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),tt=e.F;n--;)delete tt[et][Re[n]];return tt()},nt=Object.create||function(e,t){var n;return null!==e?(Qe[et]=k(e),n=new Qe,Qe[et]=null,n[Ze]=e):n=tt(),t===undefined?n:Je(n,t)},rt=Ue.f,it=be.f,at=c.f,ot=qe.trim,st="Number",ct=w[st],ut=ct,lt=ct.prototype,dt=$(nt(lt))==st,ft="trim"in String.prototype,ht=function(e){var t=l(e,!1);if("string"==typeof t&&2<t.length){var n,r,i,a=(t=ft?t.trim():ot(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,s=t.slice(2),c=0,u=s.length;c<u;c++)if((o=s.charCodeAt(c))<48||i<o)return NaN;return parseInt(s,r)}}return+t};if(!ct(" 0o1")||!ct("0b1")||ct("+0x1")){ct=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof ct&&(dt?m(function(){lt.valueOf.call(n)}):$(n)!=st)?ke(new ut(ht(t)),n,ct):ht(t)};for(var gt,pt=o?rt(ut):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),vt=0;pt.length>vt;vt++)ie(ut,gt=pt[vt])&&!ie(ct,gt)&&at(ct,gt,it(ut,gt));(ct.prototype=lt).constructor=ct,oe(w,st,ct)}var yt=function(s){return function(e,t){var n,r,i=String(fe(e)),a=xe(t),o=i.length;return a<0||o<=a?s?"":undefined:(n=i.charCodeAt(a))<55296||56319<n||a+1===o||(r=i.charCodeAt(a+1))<56320||57343<r?s?i.charAt(a):n:s?i.slice(a,a+2):r-56320+(n-55296<<10)+65536}},mt=yt(!0),wt=function(e,t,n){return t+(n?mt(e,t).length:1)};ve("match",1,function(r,i,u,l){return[function(e){var t=r(this),n=e==undefined?undefined:e[i];return n!==undefined?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=l(u,e,this);if(t.done)return t.value;var n=k(e),r=String(this);if(!n.global)return z(n,r);for(var i,a=n.unicode,o=[],s=n.lastIndex=0;null!==(i=z(n,r));){var c=String(i[0]);""===(o[s]=c)&&(n.lastIndex=wt(r,Oe(n.lastIndex),a)),s++}return 0===s?null:o}]});var _t=V("match"),bt=function(e){var t;return y(e)&&((t=e[_t])!==undefined?!!t:"RegExp"==$(e))},St=V("species"),Et=function(e){var t=w[e];o&&t&&!t[St]&&c.f(t,St,{configurable:!0,get:function(){return this}})},kt=c.f,It=Ue.f,Tt=w.RegExp,xt=Tt,Ct=Tt.prototype,Ot=/a/g,Dt=/a/g,At=new Tt(Ot)!==Ot;if(o&&(!At||m(function(){return Dt[V("match")]=!1,Tt(Ot)!=Ot||Tt(Dt)==Dt||"/a/i"!=Tt(Ot,"i")}))){Tt=function(e,t){var n=this instanceof Tt,r=bt(e),i=t===undefined;return!n&&r&&e.constructor===Tt&&i?e:ke(At?new xt(r&&!i?e.source:e,t):xt((r=e instanceof Tt)?e.source:e,r&&i?q.call(e):t),n?this:Ct,Tt)};for(var Nt=function(t){t in Tt||kt(Tt,t,{configurable:!0,get:function(){return xt[t]},set:function(e){xt[t]=e}})},Mt=It(xt),Pt=0;Mt.length>Pt;)Nt(Mt[Pt++]);(Ct.constructor=Tt).prototype=Ct,oe(w,"RegExp",Tt)}Et("RegExp"),o&&"g"!=/./g.flags&&c.f(RegExp.prototype,"flags",{configurable:!0,get:q});var $t="toString",Lt=/./[$t],Wt=function(e){oe(RegExp.prototype,$t,e,!0)};m(function(){return"/a/b"!=Lt.call({source:"a",flags:"b"})})?Wt(function P(){var e=k(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?q.call(e):undefined)}):Lt.name!=$t&&Wt(function P(){return Lt.call(this)});var Rt={};Rt[V("toStringTag")]="z",Rt+""!="[object z]"&&oe(Object.prototype,"toString",function P(){return"[object "+B(this)+"]"},!0);var jt=function(e){return Object(fe(e))},Ut=Math.max,Vt=Math.min,Ft=Math.floor,Ht=/\$([$&`']|\d\d?|<[^>]*>)/g,Bt=/\$([$&`']|\d\d?)/g;ve("replace",2,function(i,a,b,S){return[function(e,t){var n=i(this),r=e==undefined?undefined:e[a];return r!==undefined?r.call(e,n,t):b.call(String(n),e,t)},function(e,t){var n=S(b,e,this,t);if(n.done)return n.value;var r=k(e),i=String(this),a="function"==typeof t;a||(t=String(t));var o=r.global;if(o){var s=r.unicode;r.lastIndex=0}for(var c=[];;){var u=z(r,i);if(null===u)break;if(c.push(u),!o)break;""===String(u[0])&&(r.lastIndex=wt(i,Oe(r.lastIndex),s))}for(var l,d="",f=0,h=0;h<c.length;h++){u=c[h];for(var g=String(u[0]),p=Ut(Vt(xe(u.index),i.length),0),v=[],y=1;y<u.length;y++)v.push((l=u[y])===undefined?l:String(l));var m=u.groups;if(a){var w=[g].concat(v,p,i);m!==undefined&&w.push(m);var _=String(t.apply(undefined,w))}else _=E(g,i,p,v,m,t);f<=p&&(d+=i.slice(f,p)+_,f=p+g.length)}return d+i.slice(f)}];function E(a,o,s,c,u,e){var l=s+a.length,d=c.length,t=Bt;return u!==undefined&&(u=jt(u),t=Ht),b.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return a;case"`":return o.slice(0,s);case"'":return o.slice(l);case"<":n=u[t.slice(1,-1)];break;default:var r=+t;if(0===r)return e;if(d<r){var i=Ft(r/10);return 0===i?e:i<=d?c[i-1]===undefined?t.charAt(1):c[i-1]+t.charAt(1):e}n=c[r-1]}return n===undefined?"":n})}});var Gt,zt,qt=[].sort,Yt=[1,2,3];de(de.P+de.F*(m(function(){Yt.sort(undefined)})||!m(function(){Yt.sort(null)})||!((Gt=qt)&&m(function(){zt?Gt.call(null,function(){},1):Gt.call(null)}))),"Array",{sort:function(e){return e===undefined?qt.call(jt(this)):qt.call(jt(this),se(e))}});var Jt=V("species"),Xt=Math.min,Kt=[].push,Zt="split",Qt="length",en="lastIndex",tn=4294967295,nn=!m(function(){RegExp(tn,"y")});ve("split",2,function(i,a,w,_){var b;return b="c"=="abbc"[Zt](/(b)*/)[1]||4!="test"[Zt](/(?:)/,-1)[Qt]||2!="ab"[Zt](/(?:ab)*/)[Qt]||4!="."[Zt](/(.?)(.?)/)[Qt]||1<"."[Zt](/()()/)[Qt]||""[Zt](/.?/)[Qt]?function(e,t){var n=String(this);if(e===undefined&&0===t)return[];if(!bt(e))return w.call(n,e,t);for(var r,i,a,o=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,u=t===undefined?tn:t>>>0,l=new RegExp(e.source,s+"g");(r=ee.call(l,n))&&!(c<(i=l[en])&&(o.push(n.slice(c,r.index)),1<r[Qt]&&r.index<n[Qt]&&Kt.apply(o,r.slice(1)),a=r[0][Qt],c=i,o[Qt]>=u));)l[en]===r.index&&l[en]++;return c===n[Qt]?!a&&l.test("")||o.push(""):o.push(n.slice(c)),o[Qt]>u?o.slice(0,u):o}:"0"[Zt](undefined,0)[Qt]?function(e,t){return e===undefined&&0===t?[]:w.call(this,e,t)}:w,[function(e,t){var n=i(this),r=e==undefined?undefined:e[a];return r!==undefined?r.call(e,n,t):b.call(String(n),e,t)},function(e,t){var n=_(b,e,this,t,b!==w);if(n.done)return n.value;var r,i,a,o=k(e),s=String(this),c=(r=RegExp,(a=k(o).constructor)===undefined||(i=k(a)[Jt])==undefined?r:se(i)),u=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(nn?"y":"g"),d=new c(nn?o:"^(?:"+o.source+")",l),f=t===undefined?tn:t>>>0;if(0===f)return[];if(0===s.length)return null===z(d,s)?[s]:[];for(var h=0,g=0,p=[];g<s.length;){d.lastIndex=nn?g:0;var v,y=z(d,nn?s:s.slice(g));if(null===y||(v=Xt(Oe(d.lastIndex+(nn?0:g)),s.length))===h)g=wt(s,g,u);else{if(p.push(s.slice(h,g)),p.length===f)return p;for(var m=1;m<=y.length-1;m++)if(p.push(y[m]),p.length===f)return p;g=h=v}}return p.push(s.slice(h)),p}]});var rn={sidLabel:"PTX_SID",funName:"ptengine",events:["track","page","identify","createCrossDomainUrl"],dataLayer:"_pt_data_layer",antiFlickerClassName:"pt-async-hide",previewToken:"preview_ptx_token",engageEditorToken:"ptengine_engage_editor_token",campaignEditorName:"ptengine_campaign_editor",engageControlgroupToken:"ptengine_engage_control_group"},an=!1;try{an=(window._pt_sp_2||[]).some(function(e){if(e&&-1!==e.indexOf(",")){var t=e.split(",");return"setOuterIframeEnabled"===t[0]&&"1"===t[1]}return!1})}catch(Uo){}var on={na:an?window.top.navigator:navigator,doc:an?window.top.document:document,win:an?window.top:window,loc:an?window.top.location:location},sn=("https:"===on.loc.protocol?"https://":"http://")+"egjsmonitor.ptengine.jp";function cn(){try{var e=on.win.screen.width;return e?isNaN(parseInt(e,10))?0:parseInt(e,10):0}catch(t){return 0}}function un(){var e=self.innerWidth||on.doc.body.clientWidth;return e=isNaN(e)?0:parseInt(e,10)}function ln(){try{var e=on.win.screen.height;return(1===_n()&&2e3<e||4===_n()&&3e3<e)&&(e=function n(){try{var e=self.innerHeight||on.doc.body.clientHeight;return e=isNaN(e)?0:parseInt(e,10)}catch(t){return 0}}()),e?isNaN(parseInt(e,10))?0:parseInt(e,10):0}catch(t){return 0}}function dn(){var e=[];return 1===_n()||4===_n()?(e.push("."+[un(),ln()].sort()[0]),e.push("."+[un(),ln()].sort()[1])):(e.push("."+cn()),e.push("."+ln())),e.push("."+(on.win.screen.colorDepth||0)),e.push("."+function n(){try{var e=(new Date).getTimezoneOffset();return e||0===e?"GMT"+(e<=0?"+":"")+e/60*-1:""}catch(t){return""}}().replace(/\./g,"_")),e.push("."+(on.na.platform||"").replace(/\./g,"_").toLowerCase()),e.push("."+(on.na.language||on.na.browserLanguage||"").replace(/\./g,"_").toLowerCase()),e.push("."+(on.doc.characterSet||on.doc.charset||"").replace(/\./g,"_").toLowerCase()),e.join("")}function fn(e){function c(e,t){return e<<t|e>>>32-t}function u(e,t){var n,r,i,a,o;return i=2147483648&e,a=2147483648&t,o=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^o^i^a:n|r?1073741824&o?3221225472^o^i^a:1073741824^o^i^a:o^i^a}function t(e,t,n,r,i,a,o){return u(c(e=u(e,u(u(function s(e,t,n){return e&t|~e&n}(t,n,r),i),o)),a),t)}function n(e,t,n,r,i,a,o){return u(c(e=u(e,u(u(function s(e,t,n){return e&n|t&~n}(t,n,r),i),o)),a),t)}function r(e,t,n,r,i,a,o){return u(c(e=u(e,u(u(function s(e,t,n){return e^t^n}(t,n,r),i),o)),a),t)}function i(e,t,n,r,i,a,o){return u(c(e=u(e,u(u(function s(e,t,n){return t^(e|~n)}(t,n,r),i),o)),a),t)}function a(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var o,s,l,d,f,h,g,p,v,y=Array();for(y=function m(e){for(var t,n=e.length,r=n+8,i=16*((r-r%64)/64+1),a=Array(i-1),o=0,s=0;s<n;)o=s%4*8,a[t=(s-s%4)/4]=a[t]|e.charCodeAt(s)<<o,s++;return o=s%4*8,a[t=(s-s%4)/4]=a[t]|128<<o,a[i-2]=n<<3,a[i-1]=n>>>29,a}(e),h=1732584193,g=4023233417,p=2562383102,v=271733878,o=0;o<y.length;o+=16)g=i(g=i(g=i(g=i(g=r(g=r(g=r(g=r(g=n(g=n(g=n(g=n(g=t(g=t(g=t(g=t(l=g,p=t(d=p,v=t(f=v,h=t(s=h,g,p,v,y[o+0],7,3614090360),g,p,y[o+1],12,3905402710),h,g,y[o+2],17,606105819),v,h,y[o+3],22,3250441966),p=t(p,v=t(v,h=t(h,g,p,v,y[o+4],7,4118548399),g,p,y[o+5],12,1200080426),h,g,y[o+6],17,2821735955),v,h,y[o+7],22,4249261313),p=t(p,v=t(v,h=t(h,g,p,v,y[o+8],7,1770035416),g,p,y[o+9],12,2336552879),h,g,y[o+10],17,4294925233),v,h,y[o+11],22,2304563134),p=t(p,v=t(v,h=t(h,g,p,v,y[o+12],7,1804603682),g,p,y[o+13],12,4254626195),h,g,y[o+14],17,2792965006),v,h,y[o+15],22,1236535329),p=n(p,v=n(v,h=n(h,g,p,v,y[o+1],5,4129170786),g,p,y[o+6],9,3225465664),h,g,y[o+11],14,643717713),v,h,y[o+0],20,3921069994),p=n(p,v=n(v,h=n(h,g,p,v,y[o+5],5,3593408605),g,p,y[o+10],9,38016083),h,g,y[o+15],14,3634488961),v,h,y[o+4],20,3889429448),p=n(p,v=n(v,h=n(h,g,p,v,y[o+9],5,568446438),g,p,y[o+14],9,3275163606),h,g,y[o+3],14,4107603335),v,h,y[o+8],20,1163531501),p=n(p,v=n(v,h=n(h,g,p,v,y[o+13],5,2850285829),g,p,y[o+2],9,4243563512),h,g,y[o+7],14,1735328473),v,h,y[o+12],20,2368359562),p=r(p,v=r(v,h=r(h,g,p,v,y[o+5],4,4294588738),g,p,y[o+8],11,2272392833),h,g,y[o+11],16,1839030562),v,h,y[o+14],23,4259657740),p=r(p,v=r(v,h=r(h,g,p,v,y[o+1],4,2763975236),g,p,y[o+4],11,1272893353),h,g,y[o+7],16,4139469664),v,h,y[o+10],23,3200236656),p=r(p,v=r(v,h=r(h,g,p,v,y[o+13],4,681279174),g,p,y[o+0],11,3936430074),h,g,y[o+3],16,3572445317),v,h,y[o+6],23,76029189),p=r(p,v=r(v,h=r(h,g,p,v,y[o+9],4,3654602809),g,p,y[o+12],11,3873151461),h,g,y[o+15],16,530742520),v,h,y[o+2],23,3299628645),p=i(p,v=i(v,h=i(h,g,p,v,y[o+0],6,4096336452),g,p,y[o+7],10,1126891415),h,g,y[o+14],15,2878612391),v,h,y[o+5],21,4237533241),p=i(p,v=i(v,h=i(h,g,p,v,y[o+12],6,1700485571),g,p,y[o+3],10,2399980690),h,g,y[o+10],15,4293915773),v,h,y[o+1],21,2240044497),p=i(p,v=i(v,h=i(h,g,p,v,y[o+8],6,1873313359),g,p,y[o+15],10,4264355552),h,g,y[o+6],15,2734768916),v,h,y[o+13],21,1309151649),p=i(p,v=i(v,h=i(h,g,p,v,y[o+4],6,4149444226),g,p,y[o+11],10,3174756917),h,g,y[o+2],15,718787259),v,h,y[o+9],21,3951481745),h=u(h,s),g=u(g,l),p=u(p,d),v=u(v,f);return a(h)+a(g)+a(p)+a(v)}function hn(e){var t=e.method,n=e.data,r=e.url,i=e.callback,a=e.contentType,o=e.async;r=r+"?traceId="+gn(),t=t||"GET";var s=new XMLHttpRequest;"withCredentials"in s?s.open(t,r,!0):"undefined"!=typeof XDomainRequest?(T("xhr"),(s=new on.win.XDomainRequest).open(t,r,o)):(T("xhr"),s=null),a&&s.setRequestHeader("Content-Type",a),s.setRequestHeader("Strict-Transport-Security","max-age=0; includeSubDomains"),s&&(i&&(s.onreadystatechange=function(){4!==s.readyState||200!==s.status&&201!==s.status||i(s.responseText)}),s.send(n))}function gn(){var e=on.na.userAgent,t=(new Date).getTime(),n=Math.random(),r=on.doc.documentElement.clientWidth||on.doc.body.clientWidth||0,i=0;try{i=on.win.innerHeight||on.doc.documentElement.clientHeight||on.doc.body.clientHeight}catch(o){}var a=vn();return fn("ua=".concat(e,"&ts=").concat(t,"&random=").concat(n,"&bw=").concat(r,"&bh=").concat(i,"&plugins=").concat(a))}function pn(e){try{var t=[dn()];t.push("&ua="+function r(e,t){return encodeURIComponent instanceof Function?t?encodeURI(e):encodeURIComponent(e):escape(e)}(on.na.userAgent||"",!1)),t.push("&bw="+(on.doc.documentElement.clientWidth||on.doc.body.clientWidth||0)),t.push("&bh="+function i(){try{var e=on.win.innerHeight||on.doc.documentElement.clientHeight||on.doc.body.clientHeight;return e?isNaN(parseInt(e,10))?0:parseInt(e,10):0}catch(t){return 0}}()),t.push("&pi="+vn()),t.push("&ts="+e);var n=t.join("");return n||(n=(new Date).getTime()+""+Math.random()),n}catch(a){return(new Date).getTime()+""+Math.random()}}function vn(){var e="",t=on.na.plugins;if(0!==t.length){for(var n=[],r=0;r<t.length;r++){n[r]=t[r].name+";"+t[r].description+";"+t[r].filename+";";for(var i=0;i<t[r].length;i++)n[r]+="("+t[r][i].description+";"+t[r][i].type+";"+t[r][i].suffixes+")";n[r]+="."}e=n.sort().join("")}return e}var yn={getItem:function(e){return decodeURIComponent(on.doc.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="";if(n)switch(n.constructor){case Number:if(n===Infinity)o="; expires=Fri, 31 Dec 9999 23:59:59 GMT";else{var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3),o="; expires="+s.toUTCString()}break;case String:o="; expires="+n;break;case Date:o="; expires="+n.toUTCString()}return on.doc.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+(i?"; domain="+i:"")+(r?"; path="+r:"")+(a?"; secure":""),!0},removeItem:function(e,t,n){return!(!e||!this.hasItem(e))&&(on.doc.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(on.doc.cookie)},keys:function pt(){for(var e=on.doc.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};function mn(e,t){var n=yn.getItem("ptx_"+e);return n&&-1!==n.indexOf(t)?n.split(t+"=")[1].split("&")[0]:""}function wn(e,t){return e&&-1!==e.indexOf(t)?e.split(t+"=")[1].split("&")[0]:""}function _n(){try{var e=on.na.userAgent;return e?function r(){var e=on.na.platform.toLowerCase();if(-1<e.indexOf("win"))return!0;for(var t=["mac68k","macppc","macintosh","macintel"],n=0;n<t.length;n++)if(e===t[n])return!0;return!1}()||function i(e){for(var t=["AIX","Amiga","BeOS","DragonFly","FreeBSD","GNU","Haiku","HP-UX","IRIX","Joli","Java","Macintosh","Minix","MorphOS","NetBSD","OpenBSD","PClinuxOS","QNX x86pc","SunOS","Ubuntu","Mint","Red Hat","Slackware","SUSE","PCLinuxOS","Debian","Fedora","CentOS","Vine","Arch Linux","Gentoo","Kanotix","Mandriva"],n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e)?function a(e){for(var t=["Android","AROS","Bada","BlackBerry","Chromium","CrOS","Danger Hiptop","Inferno","iPhone","iPad","iPod","Nintendo DS","Nintendo Wii","Palm OS","PLAYSTATION","Syllable","SymbOS","Symbian","Tizen","webOS","WebTV","Windows CE","Windows Mobile","Windows Phone","Xbox"],n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e)?-1<e.indexOf("iPad")||1e3<=Math.min(cn(),on.win.screen.height)?2:1:2:-1<e.indexOf("iPad")||1e3<=Math.min(cn(),on.win.screen.height)?2:1:0}catch(t){return 0}}function bn(n){if("string"==typeof n){return["?","^","$","*","+","(",")","|"].map(function(e){var t=new RegExp("(\\"+e+")","g");n=n.replace(t,"\\$1")}),n}}function Sn(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=on.loc.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null}function En(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function kn(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function In(){return window.PTX_PREVIEW_ID?"ptx_preview_"+window.PTX_PREVIEW_ID:window.PT_ENGAGE_IN_DEBUG?"ptx_engager_debug":"ptx_engager"}function Tn(e,t){if(e){var n=In(),r=JSON.parse(localStorage.getItem(n)||"{}");r[e]=t,localStorage.setItem(n,JSON.stringify(r))}}function xn(e){var t;if(e){var n=In(),r=JSON.parse(localStorage.getItem(n)||"{}");Object.prototype.hasOwnProperty.call(r,e)&&(t=r[e])}return t}function Cn(e,t){localStorage.getItem("ptx_enableLog")}function On(){return/MicroMessenger/i.test(on.na.userAgent)}function Dn(e,t){var n=on.loc.href;(new Image).src="".concat(sn,"?p=").concat(n,"t=").concat(e,"&ex=").concat(t)}function An(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.join("")}function Nn(){return localStorage.getItem(rn.sidLabel)}function Mn(n,r){var i=null;return function(){var e=this,t=arguments;i&&(clearTimeout(i),i=null),i=setTimeout(function(){n.apply(e,t)},r)}}var Pn=function(){function e(){g(this,e),this.timezone=""}return v(e,[{key:"setTimeZone",value:function(e){this.timezone=e}},{key:"getProfileTimeStamp",value:function(){var e=0;if(this.timezone.trim()){var t,n=60*(new Date).getTimezoneOffset()*1e3*-1,r=this.timezone.replace(":"," ").split(" ");2==r.length&&(t=60*Number(r[0].slice(1))*60*1e3+60*Number(r[1])*1e3,t=Number(r[0].slice(0,1)+t));var i=n-t;e=Date.now()-i}return e}}]),e}(),$n=new(function(){function e(){g(this,e),this.cache={}}return v(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}}]),e}()),Ln=new Pn;function Wn(e){var t,n={},r=function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(Object(i)!==i)throw new TypeError("iterable for fromEntries should yield objects");var a=i[0],o=i[1];Object.defineProperty(n,a,{configurable:!0,enumerable:!0,writable:!0,value:o})}}catch(s){r.e(s)}finally{r.f()}return n}function Rn(){var t=this;this.middlewares=[],this.events={},this.on("run.setting",function(e){t.run(e)})}Rn.prototype.on=function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},Rn.prototype.off=function(e){this.events[e]&&delete this.events[e]},Rn.prototype.emit=function(e,t){var n=this.events[e];if(!n||0===n.length)return!1;for(var r,i=0;r=n[i++];)r.call(this,t)},Rn.prototype.use=function(e){return this.middlewares.push(e),this},Rn.prototype.init=function(){on.win.$$__ptx_engage_$=this},Rn.prototype.run=function(e){if(!e)return!1;var t=this,n={window:on.win,setting:e,engager:t},r=0;!function i(){var e=t.middlewares[r++];e&&e(n,i)}()};var jn=Array.isArray||function(e){return"Array"==$(e)},Un=V("species"),Vn=function(e,t){return jn(n=e)&&("function"!=typeof(r=n.constructor)||r!==Array&&!jn(r.prototype)||(r=undefined),y(r)&&null===(r=r[Un])&&(r=undefined)),new(r===undefined?Array:r)(t);var n,r},Fn=V("unscopables"),Hn=Array.prototype;Hn[Fn]==undefined&&ne(Hn,Fn,{});var Bn,Gn,zn,qn,Yn,Jn,Xn,Kn,Zn,Qn=function(e){Hn[Fn][e]=!0},er=(zn=1==(Bn=5),qn=2==Bn,Yn=3==Bn,Jn=4==Bn,Xn=6==Bn,Kn=5==Bn||Xn,Zn=Gn||Vn,function(e,t,n){for(var r,i,a=jt(e),o=me(a),s=ce(t,n,3),c=Oe(o.length),u=0,l=zn?Zn(e,c):qn?Zn(e,0):undefined;u<c;u++)if((Kn||u in o)&&(i=s(r=o[u],u,a),Bn))if(zn)l[u]=i;else if(i)switch(Bn){case 3:return!0;case 5:return r;case 6:return u;case 2:l.push(r)}else if(Jn)return!1;return Xn?-1:Yn||Jn?Jn:l}),tr="find",nr=!0;tr in[]&&Array(1)[tr](function(){nr=!1}),de(de.P+de.F*nr,"Array",{find:function(e){return er(this,e,1<arguments.length?arguments[1]:undefined)}}),Qn(tr);var rr=function(e,t){return{value:t,done:!!e}},ir={},ar=c.f,or=V("toStringTag"),sr=function(e,t,n){e&&!ie(e=n?e:e.prototype,or)&&ar(e,or,{configurable:!0,value:t})},cr={};ne(cr,V("iterator"),function(){return this});var ur=Pe("IE_PROTO"),lr=Object.prototype,dr=Object.getPrototypeOf||function(e){return e=jt(e),ie(e,ur)?e[ur]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?lr:null},fr=V("iterator"),hr=!([].keys&&"next"in[].keys()),gr="values",pr=function(){return this},vr=function(e,t,n,r,i,a,o){var s,c,u;c=t,u=r,(s=n).prototype=nt(cr,{next:te(1,u)}),sr(s,c+" Iterator");var l,d,f,h=function(e){if(!hr&&e in y)return y[e];switch(e){case"keys":case gr:return function(){return new n(this,e)}}return function(){return new n(this,e)}},g=t+" Iterator",p=i==gr,v=!1,y=e.prototype,m=y[fr]||y["@@iterator"]||i&&y[i],w=m||h(i),_=i?p?h("entries"):w:undefined,b="Array"==t&&y.entries||m;if(b&&(f=dr(b.call(new e)))!==Object.prototype&&f.next&&(sr(f,g,!0),"function"!=typeof f[fr]&&ne(f,fr,pr)),p&&m&&m.name!==gr&&(v=!0,w=function(){return m.call(this)}),(hr||v||!y[fr])&&ne(y,fr,w),ir[t]=w,ir[g]=pr,i)if(l={values:p?w:h(gr),keys:a?w:h("keys"),entries:_},o)for(d in l)d in y||oe(y,d,l[d]);else de(de.P+de.F*(hr||v),t,l);return l},yr=vr(Array,"Array",function(e,t){this._t=we(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,rr(1)):rr(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values");ir.Arguments=ir.Array,Qn("keys"),Qn("values"),Qn("entries");for(var mr=V("iterator"),wr=V("toStringTag"),_r=ir.Array,br={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Sr=Ye(br),Er=0;Er<Sr.length;Er++){var kr,Ir=Sr[Er],Tr=br[Ir],xr=w[Ir],Cr=xr&&xr.prototype;if(Cr&&(Cr[mr]||ne(Cr,mr,_r),Cr[wr]||ne(Cr,wr,Ir),ir[Ir]=_r,Tr))for(kr in yr)Cr[kr]||oe(Cr,kr,yr[kr],!0)}var Or,Dr,Ar,Nr;Or="keys",Dr=function(){return function(e){return Ye(jt(e))}},Ar=(L.Object||{})[Or]||Object[Or],(Nr={})[Or]=Dr(Ar),de(de.S+de.F*m(function(){Ar(1)}),"Object",Nr);var Mr,Pr,$r,Lr="_pt_link",Wr="_s_",Rr=function Rr(){var e=Vr(),t=e&&e.split(Wr),n=window.ptengine&&window.ptengine.__crossDomainProcessCallback;t&&0<t.length&&n&&"function"==typeof n&&n("ptx",t[1],t[0],!1)},jr=function jr(){var e=document.referrer,t=location.hostname,n=window.ptengine.__pteSid||Nn(),r=function o(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=location.search.substr(1).match(t)||location.hash.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null}(Lr),i=r&&r.split(Wr),a=i&&i[2]&&i[2].split(".");return!!(""!==e&&-1==e.indexOf(t)&&a&&0<a.length&&a[0]===n)},Ur=function Ur(e){if(e){var t,n=e.split("#"),r=Nn(),i=yn.getItem("ptx_".concat(r)),a=yn.getItem("pt_".concat(r));if(!i&&!a)return e;var o=wn(i,"deviceId"),s=wn(i,"sessionId"),c=wn(i,"vn"),u=wn(i,"pvn"),l=wn(i,"sact"),d=wn(a,"uid"),f=wn(a,"nid"),h=wn(a,"vid"),g=wn(a,"sact"),p=wn(a,"vn"),v=wn(a,"pvn"),y=window.localStorage&&"function"==typeof window.localStorage.getItem&&window.localStorage.getItem("".concat(r,"_/"))?window.localStorage.getItem("".concat(r,"_/")).replace(/\./g,"*_*").replace(/\?/g,"*_wh_*"):"",m="".concat(r,".").concat(o,".").concat(s,".").concat(c,".").concat(u,".").concat(l),w="".concat(d,".").concat(f,".").concat(h,".").concat(g,".").concat(p,".").concat(v);return t="".concat(y).concat(Wr).concat(w).concat(Wr).concat(m),1===n.length?e+="#".concat(Lr,"=").concat(t):e="".concat(n[0]).concat(-1===e.indexOf("?")?"?":"&").concat(Lr,"=").concat(t,"#").concat(n[1]),e}},Vr=function Vr(){var e=Nn(),t=yn.getItem("ptx_".concat(e));if(t){var n=wn(t,"deviceId"),r=wn(t,"sessionId"),i=wn(t,"vn"),a=wn(t,"pvn"),o=wn(t,"sact"),s=window.localStorage&&"function"==typeof window.localStorage.getItem&&window.localStorage.getItem("".concat(e,"_/"))?window.localStorage.getItem("".concat(e,"_/")).replace(/\./g,"*_*").replace(/\?/g,"*_wh_*"):"",c="".concat(e,".").concat(n,".").concat(r,".").concat(i,".").concat(a,".").concat(o);return"".concat(s).concat(Wr).concat(c)}},Fr=function Fr(){var e=document.getElementsByTagName("a");0<e.length&&[].map.call(e,function(e){var t=e.getAttribute("href"),n="",r=t&&t.match(/[\#|\?|\&]_pt_link=[^#|^&]*/);if(t&&r){var i=t.split(r);n="".concat(i[0]).concat(i[1]?i[1]:""),e.setAttribute("href",n)}})},Hr=function Hr(e){var t=e||(location.protocol+"//"+location.host).toLowerCase()+location.pathname+location.search+location.hash,n=new RegExp(/(\?|\&|\#)_pt_link=([^\&|\#]*)(\&|\#)?/),r=t.match(n);return r&&(t="&"===r[3]?t.replace(n,"$1"):t.replace(n,"$3")),{page:t,multiLinkTagArr:r&&r[2]&&r[2].split(Wr)}},Br=(new Date).getTime(),Gr=on.win._pt_data_layer||(on.win._pt_data_layer=[]),zr={SILENCEDURATION:3e5,HEARTBEATINTERVAL:15e3,CLICKINTERVAL:3e3,COOKIE_EXPIRES_DAY:1e3,domain:(window._pt_sp_2||(null===(Mr=window.ptengine)||void 0===Mr?void 0:Mr.__PTEEnabled))&&(null===(Pr=window.ptengine)||void 0===Pr?void 0:Pr.__isNpPackage)?function Vo(){var e="",t=((window._pt_sp_2||[]).find(function(e){if(e&&-1!==e.indexOf(",")){var t=e.split(",");return"setDomain"===t[0]}return""})||"").replace("setDomain",""),n=t.split(",");n.sort(function(e,t){return e.replace(/^https?:\/\//,"").length>t.replace(/^https?:\/\//,"").length?1:-1});for(var r=0;r<n.length;r++)n[r].match(/https?:\/\//)&&n[r].match(/https?:\/\//)[0]!==location.protocol+"//"||-1<location.hostname.indexOf(n[r].replace(/^https?:\/\//,""))&&(e=n[r].replace(/^https?:\/\//,""));"default"!==t&&"http"===location.href.slice(0,4)||(e=location.href.toLowerCase().split("://")[1].split("?")[0].split("/")[0]);return e}():function Fo(e){var t=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,n=e.split(".");(4<(n=n[n.length-1]).length||"com"===n||"org"===n)&&(t=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i);var r=e.match(t);return r?r[0]:""}(on.loc.hostname),pageStartTime:Br,lastUpdateTime:Br},qr=_n();2!==qr&&3!==qr||(zr.SILENCEDURATION=18e5);var Yr={profileId:null,pageId:null,pageviewId:null,deviceId:null,sessionId:null,vn:1,pvn:0},Jr=function Ho(){return(Gr.find(function(e){return e["ptx.start"]!==undefined})||{})["ptx.start"]||Br}(),Xr=function Xr(){var i=Nn(),e=Hr().multiLinkTagArr,a=jr(),o=e&&e[2]&&e[2].split(".");if(i){var s=[{key:"deviceId",type:"string"},{key:"sessionId",type:"string"},{key:"vn",type:"number"},{key:"pvn",type:"number"}];Object.keys(Yr).forEach(function(t){var e=ri(t);if("profileId"===t&&e&&yn.removeItem("ptx_".concat(e),"/"),a)"deviceId"===t&&(e=o[1]),"sessionId"===t&&(e=o[2]),"vn"===t&&(e=+o[3]),"pvn"===t&&(e=o[4]?+o[4]+1:1),Yr[t]=e;else{var n=s.find(function(e){return e.key===t});if(n){var r=mn(i,t);r&&(e="number"===n.type?+r:r)}Yr[t]="pvn"===t?e+1:e}});var t=a?o[5]:mn(i,"sact");if(t!==undefined&&""!==t&&zr.lastUpdateTime-Number(t)>zr.SILENCEDURATION&&Kr("reactivated"),ni(),function r(){return"Safari"===function o(){var e=on.na.userAgent,t=on.win.ActiveXObject!==undefined&&-1!==e.indexOf("MSIE"),n=-1!==e.indexOf("Firefox"),r=on.win.opr!==undefined,i=-1!==e.indexOf("Chrome")&&on.win.chrome,a=-1!==e.indexOf("Safari")&&-1!==e.indexOf("Version");return t?"IE":n?"Firefox":r?"Opera":i?"Chrome":a?"Safari":"Unkown"}()}()){var n=function n(){!function t(){$r&&$r.set(function e(){return on.loc.host+":"+Yr.profileId}(),Yr,function(e){})}(),function a(){var t=document.createElement("iframe"),e="https:"===on.loc.protocol?"https://":"http://";t.src=e+"js.ptengine.jp/tracking.html",t.setAttribute("style","width:0;height:0;border:0;border:none;display:none"),document.body.appendChild(t);var n=!1,r=setTimeout(function(){n||(n=!0),ai()},1e3);function i(r,i){var n=0,a={};function o(e){var t="callback_"+n++;return a[t]=function(){e.apply(r,arguments)},t}window.addEventListener("message",function(e){if(/js(test)?\.pt(engine|mind)\.(cn|jp)/.test(e.origin)){var t=JSON.parse(e.data),n=t.fn;n&&a[n]&&"function"==typeof a[n]&&(a[n](t.result),delete a[n])}}),this.set=function(e,t,n){r.postMessage(JSON.stringify({key:e,data:t,fn:o(n)}),i)},this.get=function(e,t){r.postMessage(JSON.stringify({key:e,fn:o(t)}),i)}}t.addEventListener("load",function(e){n||(n=!0,clearTimeout(r),$r=new i(t.contentWindow,"*"),ai())})}()};null===document.body?En(window,"load",function(){return n()}):n()}}},Kr=function Kr(e){var t=Yr.vn,n=Yr.pvn;"reactivated"===e?(Yr.vn=t+1,Yr.pvn=1,Yr.pageId=ri("pageId"),Yr.pageviewId=ri("pageviewId"),Yr.sessionId=ri("sessionId"),Yr.sact=ri("sact")):"changePage"===e&&(Yr.pageId=ri("pageId"),Yr.pageviewId=ri("pageviewId"),Yr.pvn=n+1),ni(),"reactivated"===e&&Rr()},Zr=function Zr(e,t){zr[e]=t,ni()},Qr=function Qr(){return["pageId","profileId","pageviewId","deviceId","sessionId"].every(function(e){return Boolean(Yr[e])})},ei=function ei(){return 1===Yr.vn},ti=function ti(){return Boolean(zr.domain)};function ni(){var e=Yr.profileId,t=Yr.sact,n=zr.domain;if(e){var r=Object.keys(Yr).map(function(e){var t=Yr[e];return"".concat(e,"=").concat(t,"&")});!t&&r.push("sact=".concat(zr.lastUpdateTime)),yn.setItem("ptx_".concat(e),r.join(""),zr.COOKIE_EXPIRES_DAY,"/",n)}}function ri(e){var t="",n=new Date,r=n.getTime()+"-"+n.getDate(),i=Hr().page;switch(e){case"pageId":t=ii(i);break;case"profileId":t=Nn();break;case"pageviewId":case"sessionId":t=function a(){var e="0123456789abcdefghijklmnopqrstuvwxyz",t=e.substr(Math.floor(Math.random()*e.length),1),n=ii(function r(){for(var e=[],t=0;t<22;t++)e[t]="0123456789abcdefghijklmnopqrstuvwxyz".substr(Math.floor(16*Math.random()),1);return e.join("")}());return t+n.substring(1)}();break;case"deviceId":t=ii(pn(r));break;case"vn":t=1;break;case"pvn":t=0;break;case"sact":t=zr.lastUpdateTime}return t}function ii(e){var t=fn(e);return t&&function o(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/",n="",r=0;r<e.length/6-1;)n+=t.charAt(parseInt(e.slice(6*r,6*(r+1)),2).toString(10)),r++;var i=e.slice(6*r,6*(r+1));if(i){var a=i.length;for(r=0;r<6-a;r++)i+="0";n+=t.charAt(parseInt(i,2).toString(10))}return n}(function s(e){for(var t="",n="",r=0,i=e.length,a=0;a<i;a++){r=(n=parseInt(e.charAt(a),16).toString(2)).length;for(var o=0;o<4-r;o++)n="0"+n;t+=n}return t}(t))}function ai(){try{on.win.$$__ptx_engage_$&&on.win.$$__ptx_engage_$.emit&&"function"==typeof on.win.$$__ptx_engage_$.emit&&on.win.$$__ptx_engage_$.emit("send.pageview")}catch(e){}}de(de.P,"String",{repeat:function(e){var t=String(fe(this)),n="",r=xe(e);if(r<0||r==Infinity)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}});var oi=function(){function e(){g(this,e)}return v(e,[{key:"validate",value:function(){throw{name:"ImplementError",message:"validate method should be implement by "+this.constructor.name}}}]),e}(),si=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){switch(t){case"Match":return e}return!1}}]),n}(),ci=function(e){_(n,oi);var t=I(n);function n(){var e;return g(this,n),(e=t.call(this)).currentTerminalType=_n(),e}return v(n,[{key:"validate",value:function(e,t){switch(t){case"==":return this.currentTerminalType==e;case"!=":return this.currentTerminalType!=e}return!1}}]),n}(),ui=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=ei()?"NV":"RV";switch(t){case"==":return n==e;case"!=":return n!=e}return!1}}]),n}(),li=function(e){_(r,oi);var n=I(r);function r(e){var t;return g(this,r),(t=n.call(this)).type=e,t}return v(r,[{key:"validate",value:function(e,t){var n=this.type,r=Sn(n)||"";if(!r){var i=n.toLowerCase().split("utm");r=Sn(n=0<i.length&&"utm".concat(i).replace(",","_"))||""}switch(t){case"==":return r==e;case"!=":return r!=e;case"Rex":return new RegExp(e).test(r);case"[()]":return-1!=r.indexOf(e);case"[(":return new RegExp("^"+e).test(r);case")]":return new RegExp(e+"$").test(r)}return!1}}]),r}(),di=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n,r=on.doc.referrer;switch(t){case"==":n=r==e;break;case"Rex":n=new RegExp(e).test(r);break;case"[()]":n=-1!=r.indexOf(e);break;case"[(":n=new RegExp("^"+r).test(e);break;case")]":n=new RegExp(r+"$").test(e);break;default:n=!1}return n}}]),n}(),fi=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n,r=on.loc.href;switch(t){case"==":n=r==e||r.slice(0,-1)==e;break;case"Rex":n=new RegExp(e).test(r);break;case"[()]":n=-1!=r.indexOf(e);break;case"![()]":n=-1==r.indexOf(e);break;case"[(":n=new RegExp("^"+bn(e)).test(r);break;case")]":n=new RegExp(bn(e)+"$").test(r);break;default:n=!1}return n}}]),n}(),hi=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=!1;try{var r=on.loc.href;Array.isArray(t)||(t=JSON.parse(t));for(var i=0,a=t.length;i<a;i++){var o=t[i];switch(o.pattern){case 2:n=new RegExp(o.url).test(r);break;case 3:n=new RegExp("^"+o.url).test(r);break;case 4:n=new RegExp(o.url+"$").test(r);break;case 5:n=o.url==r;break;case 8:n=-1<r.indexOf(o.url)}}}catch(s){}return n}}]),n}(),gi=function(e){_(n,oi);var t=I(n);function n(){var e;return g(this,n),(e=t.call(this)).currentTerminalType=_n(),e}return v(n,[{key:"validate",value:function(e,t){var n=e.context,r=n.engager,i=e.current,a=e.renderObj,o=e.container,s=e.engageWrap;e=e.value;var c=function c(e){e.clientY<12&&!On()&&(a&&o&&s?a.mounted(o,s):r.emit("next",{context:n,current:i}))},u=function u(e){"beforeunload"===e.state&&(l||(l=!0,a&&o&&s?a.mounted(o,s):r.emit("next",{context:n,current:i})))},l=!1;a?a.leaveHandler="2"==this.currentTerminalType?c:u:i.leaveHandler="2"==this.currentTerminalType?c:u,"=="===t&&e&&("2"==this.currentTerminalType&&setTimeout(function(){En(on.doc,"mousemove",a?a.leaveHandler:i.leaveHandler)},5e3),"1"!=this.currentTerminalType&&"4"!=this.currentTerminalType||On()||(history.replaceState("beforeunload",null,null),history.pushState("back",null,null),on.win.addEventListener&&on.win.addEventListener("popstate",a?a.leaveHandler:i.leaveHandler)))}}]),n}(),pi=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=e.context,r=n.engager,i=e.current,a=e.renderObj,o=e.container,s=e.engageWrap;switch(t){case"==":setTimeout(function(){a&&o&&s?a.mounted(o,s):r.emit("next",{context:n,current:i})},1e3*+e.value);break;case">=":setTimeout(function(){a&&o&&s?a.mounted(o,s):r.emit("next",{context:n,current:i})},1e3*(+e.value+1))}}}]),n}(),vi=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=e.context,r=n.engager,i=e.current,a=e.renderObj,o=e.container,s=e.engageWrap,c=e.value,u=null;u=setTimeout(function(){a&&o&&s?a.mounted(o,s):r.emit("next",{context:n,current:i})},1e3*+c),En(on.doc,"scroll",function(){u&&(clearTimeout(u),u=null),u=setTimeout(function(){a&&o&&s?a.mounted(o,s):r.emit("next",{context:n,current:i})},1e3*+c)}),En(on.doc,"click",function(){u&&(clearTimeout(u),u=null),u=setTimeout(function(){a&&o&&s?a.mounted(o,s):r.emit("next",{context:n,current:i})},1e3*+c)})}}]),n}(),yi=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(r,e){var i=r.context,a=i.current,o=i.engager,s=r.renderObj,c=r.container,u=r.engageWrap,l=(r=+r.value.replace("%",""),!1);En(on.doc,"scroll",function(){setTimeout(function(){var e=parseInt(on.doc.body.scrollHeight,10),t=on.doc.documentElement.scrollTop||on.win.pageYOffset;isNaN(t)&&(screenTop=0);var n=(parseFloat(t)+parseInt(on.doc.documentElement.clientHeight,10))/e*100;(Math.abs(n-r)<=2||r<=n)&&!l&&(l=!0,s&&c&&u?s.mounted(c,u):o.emit("next",{context:i,current:a}))},50)})}}]),n}(),mi=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=e.context,r=e.renderObj,i=e.container,a=e.engageWrap;if("3.0"===(n.current||{}).engageVersion){var o=n.engager,s=e.current;if(s){var c=s.popupId;s.repeat=!0,s.goNext=!1,o.on("showEngage.".concat(c),function(){r&&i&&a&&r.mounted(i,a)})}}else{var u=n.current,l=n.engager,d=u.engagerId;l.on("showEngagement.".concat(d),function(){r&&i&&a?r.mounted(i,a):l.emit("next",{context:n,current:u})}),l.on("toggleEngagement.".concat(d),function(){r&&i&&a?r.mounted(i,a):(n&&(n.repeat=!0),l.emit("next",{context:n,current:u}))})}}}]),n}(),wi=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=e.context,r=e.current,i="3.0"===(n.current||{}).engageVersion?r:n.current;switch(t){case">":+JSON.parse(xn(i.popupId||i.exp_id)||"{}").seenTimes>=e.value?i.goNext=!1:i.goNext=!0}}}]),n}(),_i=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t,n){var r=e.context,i=e.current,a="3.0"===(r.current||{}).engageVersion?i:r.current,o=JSON.parse(xn(a.popupId||a.exp_id||a.currentVersionId)||"{}"),s=!o.hasClosed||+o.hasClosed<e.value;a.goNext=s,e.popup&&(e.popup.goNext=s)}}]),n}(),bi=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=e.context,r=e.current,i="3.0"===(n.current||{}).engageVersion?r:n.current;!!JSON.parse(xn(i.popupId||i.exp_id)||"{}").formSubmitted==e.value?i.goNext=!1:i.goNext=!0}}]),n}(),Si=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=e.context,r=e.current,i="3.0"===n.current.engageVersion?r:n.current,a=JSON.parse(xn(i.popupId||i.exp_id||i.currentVersionId)||"{}"),o=null;switch(t){case"==":case"!=":o=!!a.hasClicked!=e.value}null!==o&&(e.popup&&(e.popup.goNext=o),i.goNext=o)}}]),n}(),Ei=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n,r=Ln.getProfileTimeStamp(),i=r||Date.now();if(i=String(i).slice(0,-3),Array.isArray(e)||(e=[e]),0<e.length){var a=e[0]?i-e[0]:"",o=e[1]?e[1]-i:"";n=o?0<=o&&0<=a:a&&0<=a}else n=!0;return n}}]),n}(),ki=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=Ln.getProfileTimeStamp(),r=(n?new Date(n):new Date).getDay();return Array.isArray(e)||(e=[e]),0==e.length||7==e.length||-1<e.indexOf(r)}}]),n}(),Ii=function(e){_(n,oi);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"validate",value:function(e,t){var n=Ln.getProfileTimeStamp(),r=n?new Date(n):new Date,i=r.getHours(),a=(i=i<10?"0"+i:i)+":"+r.getMinutes();Array.isArray(e)||(e=[e]);var o=!1;if(0<e.length){var s=e[0],c=e[1];s<=a&&a<=c&&(o=!0)}else o=!0;return o}}]),n}();function Ti(e){var t=$n.get(e);if(!t){switch(e){case"TerminalType":t=new ci;break;case"VisitType":t=new ui;break;case"utmCampaign":case"utmSource":case"utmMedium":case"utmContent":case"utmTerm":t=new li(e);break;case"EntryPage":t=new di;break;case"URL":t=new fi;break;case"PageGroup":t=new hi;break;case"UserBlur":t=new gi;break;case"UserStay":t=new pi;break;case"UserStop":t=new vi;break;case"ScrollMatch":t=new yi;break;case"ShownByJs":t=new mi;break;case"UtmParameter":t=new li;break;case"ClickButton":t=new Si;break;case"SeenTimes":t=new wi;break;case"CloseTimes":t=new _i;break;case"FormSubmitted":t=new bi;break;case"Dater":t=new Ei;break;case"Week":t=new ki;break;case"Time":t=new Ii;break;case"AsyncUserProps":t=new si}$n.set(e,t)}return t}var xi=function(){function r(e,t,n){g(this,r),this.value=e,this.condition=t,this.validator=n}return v(r,[{key:"setValue",value:function(e){this.value=e}},{key:"setCondition",value:function(e){this.condition=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"run",value:function(){var e;try{return this.validator.validate(this.value,this.condition)}catch(t){Cn(t.name,t.message),e=!1}return e}}]),r}();function Ci(e,t,n){return new xi(e,t,n)}function Oi(e,t){var n=2<arguments.length&&arguments[2]!==undefined?arguments[2]:[],r=3<arguments.length?arguments[3]:undefined,i=4<arguments.length?arguments[4]:undefined;Array.isArray(n)||(n=[n]);var a=!0;if(n&&0<n.length){Ln.setTimeZone(""),!i&&Ln.setTimeZone(r||"");for(var o=0;o<n.length;o++){var s=n[o];if(t.setValue(s.value),t.setValidator(Ti(s.type)),!t.run()){a=!1;break}}}return a}var Di=function Di(e,t){if(Cn(),t&&Array.isArray(t))for(var n=Ci(),r=0,i=t.length;r<i;r++){var a=t[r];if("3.0"!==a.engageVersion){for(var o=a.timezone,s=a.experiments,c=a.rates,u=s.rate||c,l=0,d=0,f=[],h=0,g=u.length;h<g;h++)f.push({min:100*d,max:100*(d+u[h])}),d+=u[h];var p=Yr.deviceId;Cn();for(var v=An(p)%99,y=0,m=f.length;y<m;y++)if(v>=f[y].min&&v<f[y].max){l=y;break}Cn(),Cn(),Cn();var w=s.experiment?s.experiment[l]:s[l];w&&(e.current=w,e.current.engagerId=a.engageId,e.current.isVersionEvent=a.isVersionEvent,e.current.isOriginalVersion=a.isOriginalVersion);var _=e.current,b=!0;if(_.config.session&&0<_.config.session.length)for(var S=0;S<_.config.session.length;S++)if(0===_.config.session[S].status){b=!1;break}if(b){if(Cn(),_.stopToDisplay=_.stopToDisplay||_.config.stop,_.stopToDisplay&&0<_.stopToDisplay.length)for(var E=_.stopToDisplay,k=0,I=E.length;k<I;k++){var T=E[k];if(n.setValue({value:T.value,current:e.current,context:e}),n.setCondition(T.condition),n.setValidator(Ti(T.type)),n.run(),!e.current.goNext){Cn();break}}else e.current.goNext=!0;Cn();var x=!0;if(_.displayTime=_.displayTime||_.config.schedule,_.timezone=o||_.config.timezone&&_.config.timezone.profile,_.displayTime&&0<_.displayTime.length){var C=_.displayTime,O=(_.config.timezone||{}).useVisitor;Ln.setTimeZone(""),!O&&Ln.setTimeZone(o||""),Array.isArray(C)||(C=[C]);for(var D=0;D<C.length;D++){var A=C[D];if(n.setValue(A.value),n.setValidator(Ti(A.type)),Cn(0,n.run()),!n.run()){x=!1,Cn();break}}}if(Cn(),x&&e.current.goNext)if(_.startToDisplay=_.startToDisplay||_.config.start,_.startToDisplay&&0<_.startToDisplay.length){var N=_.startToDisplay;Array.isArray(N)||(N=[N]);for(var M=0,P=N.length;M<P;M++){var $=N[M];n.setValue({value:$.value,current:e.current,context:e}),n.setCondition($.condition),n.setValidator(Ti($.type)),n.run(),Cn()}}else Cn(),e.engager.emit("next",e)}}else{var L=a,W=(L.engageId,L.versions),R=(L.goals,L.schedule),j=(L.conditions,L.timezone),U=L.heatmapVersion,V=((R||[])[0]||{timezone:{}}).timezone.useVisitor,F=W&&W[0];if(!F)continue;if(F&&(L.currentVersionId=F.versionId,e.current=L),U){e.current.goNext=!0,e.engager.emit("next",e);continue}e.current.goNext=!0,Oi(e,n,((R||[])[0]||{}).versionData||[],j,V)&&e.engager.emit("next",e)}}};var Ai={f:Object.getOwnPropertySymbols},Ni=Object.assign,Mi=!Ni||m(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=Ni({},e)[n]||Object.keys(Ni({},t)).join("")!=r})?function(e,t){for(var n=jt(e),r=arguments.length,i=1,a=Ai.f,o=ye.f;i<r;)for(var s,c=me(arguments[i++]),u=a?Ye(c).concat(a(c)):Ye(c),l=u.length,d=0;d<l;)o.call(c,s=u[d++])&&(n[s]=c[s]);return n}:Ni;de(de.S+de.F,"Object",{assign:Mi});var Pi="renderedEngageCache",$i={DATA_WIDGET_ID:"data-engage-widget-id",MASKLAYERPPREFIX:"pt_mask_",POSITION:"position"};function Li(e){var t=e.querySelector("[".concat($i.DATA_WIDGET_ID,"]"));return t&&t.getAttribute($i.DATA_WIDGET_ID)||""}function Wi(e,t){var n,r=$n.get($i.POSITION)||[];return(n=!(-1<r.indexOf(t)))&&(r[r.length]=t,$n.set($i.POSITION,r)),n}function Ri(e){var t=on.doc.querySelector(".engage-layer");t||(t=on.doc.createElement("div")).classList.add("engage-layer");var n="".concat($i.MASKLAYERPPREFIX).concat(e),r=on.doc.getElementsByTagName("html")[0];r.classList.add("engage-layer-open"),r.classList.add(n);var i=on.doc.body;i.classList.add("engage-layer-open"),i.classList.add(n),i.appendChild(t)}function ji(e){var t=on.doc.querySelector(".engage-layer");if(t){var n="".concat($i.MASKLAYERPPREFIX).concat(e),r=["engage-layer-open",n],i=on.doc.getElementsByTagName("html")[0],a=on.doc.body;Array.prototype.slice.call(on.doc.body.classList).filter(function(e){return"engage-layer-open"==e||/^pt_mask_/.test(e)}).reverse().join("")==r.reverse().join("")?(a.removeChild(t),r.forEach(function(e){i.classList.remove(e),a.classList.remove(e)})):(i.classList.remove(n),a.classList.remove(n))}}function Ui(e,t){var n=2<arguments.length&&arguments[2]!==undefined?arguments[2]:"view",r=3<arguments.length?arguments[3]:undefined,i=e.setting.sid||Nn(),a=t.engagerId,o=t.exp_id,s=t.variant||{},c=t.triggerCondition;r&&(s=Object.assign({target:r},s)),e.send(n,{sid:i,engagerId:a,engagerVerId:o,variant:s,triggerCondition:c})}function Vi(e){var t=$n.get($i.POSITION)||[],n=t.indexOf(e);-1!==n&&(t.splice(n,1),$n.set(e,t))}function Fi(e,t){var n=$n.get(Pi)||[],r=n.indexOf(t);"add"===e&&-1===r&&n.push(t),-1!==r&&"delete"===e&&n.splice(r,1),$n.set(Pi,n)}function Hi(e){var t=e.querySelector('[data-engage-block="branding"]');if(t){var n=(t.href||"").replace(/(utm_source=)Customer-Site/,"$1"+on.loc.hostname);t.setAttribute("href",n)}}function Bi(e){var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"seenTimes",n=xn(e);null==n?n={seenTimes:1,hasClosed:0,hasClicked:0,formSubmitted:0,previewFormContent:null}:(n=JSON.parse(n))[t]=Number(n[t]||0)+1,Tn(e,JSON.stringify(n))}function Gi(e){Array.prototype.slice.call(e.querySelectorAll("script")).forEach(function(e){var t=on.doc.createElement("script"),n="\n                try {\n                    (function(){".concat(e.innerHTML,"})();\n                } catch (error) {\n                    console.warn(error);\n                }");t.innerHTML=n;var r=on.doc.getElementsByTagName("head")[0];r.appendChild(t),r.removeChild(t)})}function zi(e,t){var n=t&&on.doc.querySelector("#link_"+t);n&&on.doc.getElementsByTagName("head")[0].removeChild(n);var r=on.doc.createElement("style");r.type="text/css",r.id="link_"+t,r.appendChild(on.doc.createTextNode(e)),on.doc.getElementsByTagName("head")[0].appendChild(r)}function qi(e,r){var t=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return e=e.replace(t,function(e,t,n){return t.match(/^\s*(@media|@.*keyframes|to|from|@font-face|1?[0-9]?[0-9])/)?t+n:(t.match(/:scope/)&&(t=t.replace(/([^\s]*):scope/,function(e,t){return""===t?"> *":"> "+t})),(t=t.replace(/^(\s*)/,"$1"+r+" "))+n)})}function Yi(e){return function t(){return window.ptengine&&window.ptengine.__PTEEnabled&&window.ptengine.__pteSid===window.ptengine.__sid}()?window.ptengine.__getPteEventData&&window.ptengine.__getPteEventData(e):null}var Ji=function(){function r(e,t,n){g(this,r),this.context=e,this.current=t,this.terminal=null,this.currentWidgetIndex=0,this.container=null,this.engageWrap=null,this.renderList=null,this.currentWidgetConfig=null,this.callback=n,this.showMask=!1,this.config={DATA_BLOCK:"data-engage-block",DATA_WIDGET_ID:"data-engage-widget-id",DATA_SHOW_ENGAGE:"data-show-engage",DATA_GOTO_WIDGET:"data-goto-widget",DATA_ACTION_CLICK:"data-engage-action-click",DATA_ACTION_CLOSE:"data-engage-action-close",BUTTON_URL:"button-url",BUTTON_TEL:"button-tel",BUTTON_CLOSE:"button-close",BUTTON_GOTO_WIDGET:"button-goto-widget",ICON_CLOSE:"icon-close",POSITION:"position",CENTERPOSITION:"pos-center",LAYOUTMODE:"layoutMode",VISUALMODEL:"visualModel",CODEMODEL:"codeModel",MASKLAYERPPREFIX:"pt_mask_"}}return v(r,[{key:"_getRenderList",value:function(){return this.terminal.widgets.reduce(function(e,t){var n=t.widgetNodes,r=n.html,i=n.css,a=n.script,o=void 0===a?"":a;return e.push({html:r+o,css:i}),e},[])}},{key:"_getWidget",value:function(e){return!(e<0||e>this.renderList.length-1)&&this.renderList[e]}},{key:"_getWidgetConfig",value:function(e){var t=this.terminal.widgets;return!(e<0||e>t.length-1)&&this.terminal.widgets[e]}},{key:"_gotoPrev",value:function(){var e=this.currentWidgetIndex-1;0<=e&&(this.currentWidgetIndex=e,this.render())}},{key:"_gotoNext",value:function(e){var t=this.renderList.length-1,n=this.currentWidgetIndex+1;n<=t&&(this.currentWidgetIndex=n,e&&this.currentWidgetConfig.widgetMode===this.config.VISUALMODEL&&Vi(this.currentWidgetConfig.visualModel.widgetSettings.position),this.render())}},{key:"_addEventHandler",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}},{key:"_handleGotoWidgetClick",value:function(e){var t=e.getAttribute(this.config.DATA_GOTO_WIDGET);"prev"===t?this._gotoPrev():"next"===t&&this._gotoNext()}},{key:"_handleCloseClick",value:function(e){this._execWidgetEvent(e,"unmounted")}},{key:"_handleClearEngage",value:function(){try{if(this._execWidgetEvent(this.engageWrap,"unmounted"),this.engageWrap&&this.container.removeChild(this.engageWrap),this.showMask&&this.currentWidgetConfig&&ji(this.currentWidgetConfig.widgetId),this.currentWidgetConfig.widgetMode===this.config.VISUALMODEL&&Vi(this.currentWidgetConfig.visualModel.widgetSettings.position),$n.set(this.current.exp_id,null),this.current.leaveHandler&&"function"==typeof this.current.leaveHandler){var e=this.current.currentTerminal&&this.current.currentTerminal.type;2==+e&&kn(on.doc,"mousemove",this.current.leaveHandler),2!=+e&&kn(on.win,"popstate",this.current.leaveHandler)}this.context.engager.off("clearEngage.".concat(this.current.engagerId))}catch(t){}}},{key:"_execWidgetEvent",value:function(e,t,n){window.ptEngage=window.ptEngage||{};var r=e&&Li(e),i=window.ptEngage[r]||[];0<i.length&&(i.map(function(e){e[t]&&"function"==typeof e[t]&&e[t](),n&&"function"==typeof n&&(e.callback=n)}),r&&"unmounted"===t&&delete window.ptEngage[r])}},{key:"updateState",value:function(e,t){Object.prototype.hasOwnProperty.call(this,e)&&(this[e]=t)}},{key:"triggerEvent",value:function(e,t){this._execWidgetEvent(this.engageWrap,e,t)}},{key:"_renderHtmlCssAndScript",value:function(e){var t=this._getWidget(this.currentWidgetIndex);if(t){var n=t.html,r=t.css,i='div[data-pt-engage-id="'.concat(this.currentWidgetConfig.widgetId,'"]');n=e?function a(e,t){return'<div data-pt-engage-id="'.concat(t,'">').concat(e,"</div>")}(n,this.currentWidgetConfig.widgetId):n,(r=e?qi(r,i):r)&&zi(r,this.currentWidgetConfig.widgetId),n&&(this.engageWrap.innerHTML=n),this.engageWrap.style.display="none",this.container&&this.container.appendChild(this.engageWrap),this.triggerEvent("unmounted"),Gi(this.engageWrap),this.engageWrap.style.display="block",this.triggerEvent("mounted",function(e){e&&"function"==typeof e&&e(this.current.engagerId)})}}},{key:"_subscribeClickEvent",value:function(l,d,f){var h=this,g=d.current;this._addEventHandler(l,"click",function(e){for(var n=(e=e||window.event).target||e.srcElement,r=[h.config.DATA_ACTION_CLICK,h.config.DATA_ACTION_CLOSE],t=!1,i="";i=n.getAttribute(h.config.DATA_BLOCK),!(t=function(){for(var e=0,t=r.length;e<t;e++)if(n.getAttribute(r[e]))return!0}())&&(n=n.parentNode),!t&&n!=l;);if(t){e.preventDefault();var a=n.tagName.toUpperCase(),o=n.textContent||a||"unknow target";if(n.parentNode&&"image"==n.parentNode.getAttribute("data-engage-block")){var s=n.querySelector("img");s&&(o=s.getAttribute("alt"))}if(i&&(i===h.config.BUTTON_CLOSE||i===h.config.ICON_CLOSE)){l&&h.container.removeChild(l),h.showMask&&ji(h.currentWidgetConfig.widgetId),Ui(h.context,h.current,"close",o),Cn(),f&&"function"==typeof f&&f(h.current.exp_id,"hasClosed");try{h.currentWidgetConfig.widgetMode===h.config.VISUALMODEL&&Vi(h.currentWidgetConfig.visualModel.widgetSettings.position),Fi("delete",h.current.engagerId),d.engager.off("clearEngage.".concat(h.current.engagerId))}catch(c){}return}if(i&&i===h.config.BUTTON_GOTO_WIDGET){try{h.currentWidgetConfig.widgetMode===h.config.VISUALMODEL&&Vi(h.currentWidgetConfig.visualModel.widgetSettings.position),h.showMask&&ji(h.currentWidgetConfig.widgetId),Ui(d,g,"click",o)}catch(e){}h._handleGotoWidgetClick(n)}else Ui(d,g,"click",o);if(n.href&&!/^javascript:(void\(0\))?;?$/.test(n.href))if("_blank"==n.target)try{window.open(n.href,"_blank")}catch(u){Cn()}else window.location.href=n.href;f&&"function"==typeof f&&f(g.exp_id)}})}},{key:"render",value:function(){var e=this._getWidgetConfig(this.currentWidgetIndex);if(this.currentWidgetConfig=e){var t=e.widgetMode!==this.config.CODEMODEL,n=e.widgetMode===this.config.LAYOUTMODE,r=n?e.widgetSettings&&e.widgetSettings.position:e.visualModel&&e.visualModel.widgetSettings&&e.visualModel.widgetSettings.position;if(t){if(!(r&&Wi(this.terminal.type,r)))return;if(this._renderHtmlCssAndScript(n),!(this.engageWrap&&"false"!==this.engageWrap.getAttribute(this.config.DATA_SHOW_ENGAGE))){var i=$n.get(this.config.POSITION)||[],a=i.indexOf(r);return void(-1!==a&&(i.splice(a,1),$n.set(this.config.POSITION,i)))}}else this._renderHtmlCssAndScript(!0);if(n){var o=this.engageWrap.querySelector('[data-engage-block="engage"]');e.widgetSettings&&!e.widgetSettings.showMask?(o.style.left="auto",o.style.right="auto",o.style.top="auto",o.style.bottom="auto"):e.widgetSettings.showMask&&(o.style.position="fixed")}else(r&&r===this.config.CENTERPOSITION||this.engageWrap.querySelector("[data-pt-showmask]"))&&(this.showMask=!0,Ri(e.widgetId));Hi(this.engageWrap)}}},{key:"mounted",value:function(e,t){var n=this;this.container=e,this.engageWrap=t,this.terminal=this.current&&this.current.currentTerminal,this.submitCallback=function(e,t){this.showMask&&ji(this.currentWidgetConfig.widgetId),Ui(e,t,"submit"),Bi(t.exp_id,"formSubmitted")},this.updateRenderedPositionCache=Vi,this.renderList=this._getRenderList(),this.render(),window.ptEngage=window.ptEngage||{},window.ptEngage&&(window.ptEngage[this.current.engagerId]=this),this._subscribeClickEvent(this.engageWrap,this.context,function(e){Bi(e,1<arguments.length&&arguments[1]!==undefined?arguments[1]:"hasClicked")}),this.context.engager.on("clearEngage.".concat(this.current.engagerId),function(){n._handleClearEngage.apply(n)}),this.callback&&"function"==typeof this.callback&&this.callback()}},{key:"unmounted",value:function(){}}]),r}(),Xi=function(){function n(e,t){g(this,n),this.inline=e,this.callback=t,this.hasTrulyRendered=!1,this.modeTags={REPLACE:0,INSERT:1,APPEND:2,BEFORE:3,AFTER:4},this.docmentFirstCSSStyleSheet=null}return v(n,[{key:"_selector",value:function(e){return e&&on.doc.querySelector(e)}},{key:"_getFirstCSSStyleSheet",value:function(e){if(this.docmentFirstCSSStyleSheet)return this.docmentFirstCSSStyleSheet;for(var t=e.styleSheets.length-1;0<=t;t--){var n=e.styleSheets[t];if(!n.href){var r=n.ownerNode;if(r&&r.parentNode&&"HEAD"===r.parentNode.tagName)return this.docmentFirstCSSStyleSheet=n}}return 0===e.styleSheets.length&&e.createStyleSheet(),this.docmentFirstCSSStyleSheet=e.styleSheets[0]}},{key:"_getNewStyleSheet",value:function(e,t){var n=(t||on.doc).createElement("style");return n.cssText!==undefined?n.cssText=e:n.innerHTML=e,n}},{key:"_addStyleSheetToHead",value:function(e,t){var n=t||on.doc,r=n.getElementsByTagName("head")[0];r||(r=n.createElement("head"),n.body.parentNode.insertBefore(r,n.body)),r.appendChild(e)}},{key:"_addStyleSheet",value:function(e,t,n,r,i){var a=e+"{"+t+": "+n+(r?" !important":"")+"}";if(i&&(a=i+"{"+a+"}"),on.doc.createStyleSheet){var o=this._getFirstCSSStyleSheet(on.doc),s=o.rules.length;return o.insertRule(a,s),function(){o.deleteRule?o.deleteRule(s):o.removeRule(s),o.insertRule("x {}",s)}}var c=this._getNewStyleSheet(a,on.doc);this._addStyleSheetToHead(c,on.doc);var u=c.parentNode;return function(){u.removeChild(c)}}},{key:"_setStyleProperty",value:function(e,t,n,r){if(e.style.setProperty)try{var i=e.style.getPropertyValue(t),a=e.style.getPropertyPriority(t);return e.style.setProperty(t,n,r?"important":""),function(){e.style.setProperty(t,"",a),e.style.setProperty(t,i,a)}}catch(s){}var o=e.style.cssText;return e.style.cssText+=";"+t+": "+n+(r?" !important":"")+";",function(){e.style.cssText=o}}},{key:"_setAttribute",value:function(e,t,n){try{null===n?e.removeAttribute(t):e.setAttribute(t,n),this.hasTrulyRendered=!0}catch(r){return r}return null}},{key:"_updateText",value:function(e){var t=e.elementText,n=(e.type,t.selector),r=t.text,i=t.childIndex,a=this._selector(n.string);if(a&&0<=i.integer&&i.integer<a.childNodes.length){var o=a.childNodes[i.integer];null!=o&&o.nodeType==Node.TEXT_NODE&&(o.nodeValue=r.string,this.hasTrulyRendered=!0)}}},{key:"_updateContent",value:function(e,t){var n=e.elementContent,r=n.selector,i=n.html,a=this._selector(r.string);if(a){var o,s,c=a.ownerDocument||a.document||on.doc;switch(t=(t||"").toLowerCase()){case"after":o=a.parentNode,s=a.nextSibling;break;case"insert":s=(o=a).firstChild;break;case"append":o=a,s=null;break;default:o=a.parentNode,s=a}if(!o||o===c)return{result:1,Sg:[]};var u=this._getNewNode(i.string,o);if(this._removeNode(u,"SCRIPT"),this._removeNode(u,"NOSCRIPT"),u.firstChild)for(var l=u.firstChild;l;){var d=l.nextSibling;o.insertBefore(l,s),l=d}"replace"===t&&o.removeChild(a),this.hasTrulyRendered=!0}}},{key:"_getNewNode",value:function(e,t){var n=t.ownerDocument.createElement("div");return n.innerHTML=e||"",n}},{key:"_removeNode",value:function(e,t){for(var n=e.getElementsByTagName(t),r=[],i=n.length-1;0<=i;i--){var a=n[i];a.parentNode.removeChild(a),r.push(a)}}},{key:"_updateStyle",value:function(e){var t=e.elementStyle,n=(e.type,t.property),r=t.value,i=t.selector,a=t.cssRule,o=t.important,s=t.cssConditional,c=n&&n.string,u=r&&r.string,l=o&&o["boolean"],d=i&&i.string,f=s&&s.string;d&&on.doc.querySelector(d)&&(this.hasTrulyRendered=!0,a?this._addStyleSheet(d,c,u,l,f):this._setStyleProperty(selectorDom,c,u,l))}},{key:"_updateAttribute",value:function(e){var t=e.changeElementAttribute,n=t.attribute,r=t.value,i=t.selector,a=n&&n.string,o=r&&r.string,s=i&&i.string;if(s&&on.doc.documentElement.setAttribute){var c=on.doc.querySelector(s);c&&this._setAttribute(c,a,o)}}},{key:"mounted",value:function(){var t=this,e=this.inline||{},n=e.changeElementAttribute,r=e.elementText,i=e.elementStyle,a=e.elementContent;if(i)this._updateStyle(this.inline);else if(n)this._updateAttribute(this.inline);else{var o=(r||a||{}).mode,s=Object.keys(this.modeTags).find(function(e){return t.modeTags[e]===o});a?this._updateContent(this.inline,s):r&&this._updateText(this.inline,s)}this.callback(this.hasTrulyRendered)}}]),n}();function Ki(e){return/\S+@\S+\.\S+/.test(e)}function Zi(e){return e&&/^[0-9_-]+$/.test(e)}var Qi=yt(!0);vr(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:undefined,done:!0}:(e=Qi(t,n),this._i+=e.length,{value:e,done:!1})});var ea=function(e,t,n,r){try{return r?t(k(n)[0],n[1]):t(n)}catch(Uo){var i=e["return"];throw i!==undefined&&k(i.call(e)),Uo}},ta=V("iterator"),na=Array.prototype,ra=function(e){return e!==undefined&&(ir.Array===e||na[ta]===e)},ia=function(e,t,n){t in e?c.f(e,t,te(0,n)):e[t]=n},aa=V("iterator"),oa=L.getIteratorMethod=function(e){if(e!=undefined)return e[aa]||e["@@iterator"]||ir[B(e)]},sa=V("iterator"),ca=!1;try{var ua=[7][sa]();ua["return"]=function(){ca=!0},Array.from(ua,function(){throw 2})}catch(Uo){}var la=function(e,t){if(!t&&!ca)return!1;var n=!1;try{var r=[7],i=r[sa]();i.next=function(){return{done:n=!0}},r[sa]=function(){return i},e(r)}catch(Uo){}return n};de(de.S+de.F*!la(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,a=jt(e),o="function"==typeof this?this:Array,s=arguments.length,c=1<s?arguments[1]:undefined,u=c!==undefined,l=0,d=oa(a);if(u&&(c=ce(c,2<s?arguments[2]:undefined,2)),d==undefined||o==Array&&ra(d))for(n=new o(t=Oe(a.length));l<t;l++)ia(n,l,u?c(a[l],l):a[l]);else for(i=d.call(a),n=new o;!(r=i.next()).done;l++)ia(n,l,u?ea(i,c,[r.value,l],!0):r.value);return n.length=l,n}});var da=Ne(!0);de(de.P,"Array",{includes:function(e){return da(this,e,1<arguments.length?arguments[1]:undefined)}}),Qn("includes");var fa=V("match"),ha="includes";de(de.P+de.F*function(e){var t=/./;try{"/./"[e](t)}catch(Uo){try{return t[fa]=!1,!"/./"[e](t)}catch(n){}}return!0}(ha),"String",{includes:function(e){return!!~function(e,t,n){if(bt(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(fe(e))}(this,e,ha).indexOf(e,1<arguments.length?arguments[1]:undefined)}});var ga=function(e,t,n){for(var r in t)oe(e,r,t[r],n);return e},pa=function(e,t,n,r){if(!(e instanceof t)||r!==undefined&&r in e)throw TypeError(n+": incorrect invocation!");return e},va=e(function(e){var f={},h={},t=e.exports=function(e,t,n,r,i){var a,o,s,c,u=i?function(){return e}:oa(e),l=ce(n,r,t?2:1),d=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(ra(u)){for(a=Oe(e.length);d<a;d++)if((c=t?l(k(o=e[d])[0],o[1]):l(e[d]))===f||c===h)return c}else for(s=u.call(e);!(o=s.next()).done;)if((c=ea(s,l,o.value,t))===f||c===h)return c};t.BREAK=f,t.RETURN=h}),ya=e(function(e){var n=U("meta"),t=c.f,r=0,i=Object.isExtensible||function(){return!0},a=!m(function(){return i(Object.preventExtensions({}))}),o=function(e){t(e,n,{value:{i:"O"+ ++r,w:{}}})},s=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!y(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ie(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].i},getWeak:function(e,t){if(!ie(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].w},onFreeze:function(e){return a&&s.NEED&&i(e)&&!ie(e,n)&&o(e),e}}}),ma=(ya.KEY,ya.NEED,ya.fastKey,ya.getWeak,ya.onFreeze,function(e,t){if(!y(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}),wa=c.f,_a=ya.fastKey,ba=o?"_s":"size",Sa=function(e,t){var n,r=_a(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n},Ea={getConstructor:function(e,a,n,r){var i=e(function(e,t){pa(e,i,a,"_i"),e._t=a,e._i=nt(null),e._f=undefined,e._l=undefined,e[ba]=0,t!=undefined&&va(t,n,e[r],e)});return ga(i.prototype,{clear:function(){for(var e=ma(this,a),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=undefined),delete t[n.i];e._f=e._l=undefined,e[ba]=0},"delete":function(e){var t=ma(this,a),n=Sa(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[ba]--}return!!n},forEach:function(e){ma(this,a);for(var t,n=ce(e,1<arguments.length?arguments[1]:undefined,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!Sa(ma(this,a),e)}}),o&&wa(i.prototype,"size",{get:function(){return ma(this,a)[ba]}}),i},def:function(e,t,n){var r,i,a=Sa(e,t);return a?a.v=n:(e._l=a={i:i=_a(t,!0),k:t,v:n,p:r=e._l,n:undefined,r:!1},e._f||(e._f=a),r&&(r.n=a),e[ba]++,"F"!==i&&(e._i[i]=a)),e},getEntry:Sa,setStrong:function(e,n,t){vr(e,n,function(e,t){this._t=ma(e,n),this._k=t,this._l=undefined},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?rr(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=undefined,rr(1))},t?"entries":"values",!t,!0),Et(n)}},ka=(function(r,e,t,n,i,a){var o=w[r],s=o,c=i?"set":"add",u=s&&s.prototype,l={},d=function(e){var n=u[e];oe(u,e,"delete"==e?function(e){return!(a&&!y(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!y(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!y(e)?undefined:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})};if("function"==typeof s&&(a||u.forEach&&!m(function(){(new s).entries().next()}))){var f=new s,h=f[c](a?{}:-0,1)!=f,g=m(function(){f.has(1)}),p=la(function(e){new s(e)}),v=!a&&m(function(){for(var e=new s,t=5;t--;)e[c](t,t);return!e.has(-0)});p||(((s=e(function(e,t){pa(e,s,r);var n=ke(new o,e,s);return t!=undefined&&va(t,i,n[c],n),n})).prototype=u).constructor=s),(g||v)&&(d("delete"),d("has"),i&&d("get")),(v||h)&&d(c),a&&u.clear&&delete u.clear}else s=n.getConstructor(e,r,i,c),ga(s.prototype,t),ya.NEED=!0;sr(s,r),l[r]=s,de(de.G+de.W+de.F*(s!=o),l),a||n.setStrong(s,r,i)}("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:undefined)}},{add:function(e){return Ea.def(ma(this,"Set"),e=0===e?0:e,e)}},Ea),ye.f),Ia=function(s){return function(e){for(var t,n=we(e),r=Ye(n),i=r.length,a=0,o=[];a<i;)ka.call(n,t=r[a++])&&o.push(s?[t,n[t]]:n[t]);return o}},Ta=Ia(!0);de(de.S,"Object",{entries:function(e){return Ta(e)}});var xa=Ia(!1);de(de.S,"Object",{values:function(e){return xa(e)}});var Ca=e(function(e,t){e.exports=function(){var u=1e3,c="millisecond",h="second",g="minute",p="hour",v="day",y="week",m="month",l="quarter",w="year",_="date",b="Invalid Date",o=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},a=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},t={s:a,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+a(r,2,"0")+":"+a(i,2,"0")},m:function u(e,t){if(e.date()<t.date())return-u(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,m),i=t-r<0,a=e.clone().add(n+(i?-1:1),m);return+(-(n+(t-r)/(i?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:m,y:w,w:y,d:v,D:_,h:p,m:g,s:h,ms:c,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},s="en",d={};d[s]=e;var r=function(e){return e instanceof k},i=function(e,t,n){var r;if(!e)return s;if("string"==typeof e)d[e]&&(r=e),t&&(d[e]=t,r=e);else{var i=e.name;d[i]=e,r=i}return!n&&r&&(s=r),r||!n&&s},f=function(e,t){if(r(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},E=t;E.l=i,E.i=r,E.w=function(e,t){return f(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function e(e){this.$L=i(e.locale,null,!0),this.parse(e)}var t=e.prototype;return t.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(o);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},t.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},t.$utils=function(){return E},t.isValid=function(){return!(this.$d.toString()===b)},t.isSame=function(e,t){var n=f(e);return this.startOf(t)<=n&&n<=this.endOf(t)},t.isAfter=function(e,t){return f(e)<this.startOf(t)},t.isBefore=function(e,t){return this.endOf(t)<f(e)},t.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){var r=this,i=!!E.u(t)||t,n=E.p(e),a=function(e,t){var n=E.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return i?n:n.endOf(v)},o=function(e,t){return E.w(r.toDate()[e].apply(r.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},s=this.$W,c=this.$M,u=this.$D,l="set"+(this.$u?"UTC":"");switch(n){case w:return i?a(1,0):a(31,11);case m:return i?a(1,c):a(0,c+1);case y:var d=this.$locale().weekStart||0,f=(s<d?s+7:s)-d;return a(i?u-f:u+(6-f),c);case v:case _:return o(l+"Hours",0);case p:return o(l+"Minutes",1);case g:return o(l+"Seconds",2);case h:return o(l+"Milliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){var n,r=E.p(e),i="set"+(this.$u?"UTC":""),a=(n={},n[v]=i+"Date",n[_]=i+"Date",n[m]=i+"Month",n[w]=i+"FullYear",n[p]=i+"Hours",n[g]=i+"Minutes",n[h]=i+"Seconds",n[c]=i+"Milliseconds",n)[r],o=r===v?this.$D+(t-this.$W):t;if(r===m||r===w){var s=this.clone().set(_,1);s.$d[a](o),s.init(),this.$d=s.set(_,Math.min(this.$D,s.daysInMonth())).$d}else a&&this.$d[a](o);return this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.get=function(e){return this[E.p(e)]()},t.add=function(n,e){var t,r=this;n=Number(n);var i=E.p(e),a=function(e){var t=f(r);return E.w(t.date(t.date()+Math.round(e*n)),r)};if(i===m)return this.set(m,this.$M+n);if(i===w)return this.set(w,this.$y+n);if(i===v)return a(1);if(i===y)return a(7);var o=(t={},t[g]=6e4,t[p]=36e5,t[h]=u,t)[i]||1,s=this.$d.getTime()+n*o;return E.w(s,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var i=this;if(!this.isValid())return b;var a=e||"YYYY-MM-DDTHH:mm:ssZ",n=E.z(this),t=this.$locale(),r=this.$H,o=this.$m,s=this.$M,c=t.weekdays,u=t.months,l=function(e,t,n,r){return e&&(e[t]||e(i,a))||n[t].substr(0,r)},d=function(e){return E.s(r%12||12,e,"0")},f=t.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:E.s(s+1,2,"0"),MMM:l(t.monthsShort,s,u,3),MMMM:l(u,s),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:l(t.weekdaysMin,this.$W,c,2),ddd:l(t.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:E.s(r,2,"0"),h:d(1),hh:d(2),a:f(r,o,!0),A:f(r,o,!1),m:String(o),mm:E.s(o,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:n};return a.replace(S,function(e,t){return t||h[e]||n.replace(":","")})},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(e,t,n){var r,i=E.p(t),a=f(e),o=6e4*(a.utcOffset()-this.utcOffset()),s=this-a,c=E.m(this,a);return c=(r={},r[w]=c/12,r[m]=c,r[l]=c/3,r[y]=(s-o)/6048e5,r[v]=(s-o)/864e5,r[p]=s/36e5,r[g]=s/6e4,r[h]=s/u,r)[i]||s,n?c:E.a(c)},t.daysInMonth=function(){return this.endOf(m).$D},t.$locale=function(){return d[this.$L]},t.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=i(e,t,!0);return r&&(n.$L=r),n},t.clone=function(){return E.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}(),n=k.prototype;return f.prototype=n,[["$ms",c],["$s",h],["$m",g],["$H",p],["$W",v],["$M",m],["$y",w],["$D",_]].forEach(function(t){n[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),f.extend=function(e,t){return e.$i||(e(t,k,f),e.$i=!0),f},f.locale=i,f.isDayjs=r,f.unix=function(e){return f(1e3*e)},f.en=d[s],f.Ls=d,f.p={},f}()}),Oa=e(function(e,t){var a,o,r,n,i,s,c,u,l,d,f,h,g,p;e.exports=(r=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,s=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:n=31536e6,months:i=2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},u=function(e){return e instanceof p},l=function(e,t,n){return new p(e,n,t.$l)},d=function(e){return o.p(e)+"s"},f=function(e){return e<0},h=function(e){return f(e)?Math.ceil(e):Math.floor(e)},g=function(e,t){return e?f(e)?{negative:!0,format:""+(n=e,Math.abs(n))+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""};var n},p=function(){function e(t,e,n){var r=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return l(t*c[d(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach(function(e){r.$d[d(e)]=t[e]}),this.calMilliseconds(),this;if("string"==typeof t){var i=t.match(s);if(i){var a=i.slice(2).map(function(e){return Number(e)});return this.$d.years=a[0],this.$d.months=a[1],this.$d.weeks=a[2],this.$d.days=a[3],this.$d.hours=a[4],this.$d.minutes=a[5],this.$d.seconds=a[6],this.calMilliseconds(),this}}return this}var t=e.prototype;return t.calMilliseconds=function(){var n=this;this.$ms=Object.keys(this.$d).reduce(function(e,t){return e+(n.$d[t]||0)*c[t]},0)},t.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=h(e/n),e%=n,this.$d.months=h(e/i),e%=i,this.$d.days=h(e/864e5),e%=864e5,this.$d.hours=h(e/36e5),e%=36e5,this.$d.minutes=h(e/6e4),e%=6e4,this.$d.seconds=h(e/1e3),e%=1e3,this.$d.milliseconds=e},t.toISOString=function(){var e=g(this.$d.years,"Y"),t=g(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=g(n,"D"),i=g(this.$d.hours,"H"),a=g(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var s=g(o,"S"),c=e.negative||t.negative||r.negative||i.negative||a.negative||s.negative,u=i.format||a.format||s.format?"T":"",l=(c?"-":"")+"P"+e.format+t.format+r.format+u+i.format+a.format+s.format;return"P"===l||"-P"===l?"P0D":l},t.toJSON=function(){return this.toISOString()},t.format=function(e){var t=e||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return t.replace(r,function(e,t){return t||String(n[e])})},t.as=function(e){return this.$ms/c[d(e)]},t.get=function(e){var t=this.$ms,n=d(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?h(t/c[n]):this.$d[n],0===t?0:t},t.add=function(e,t,n){var r;return r=t?e*c[d(t)]:u(e)?e.$ms:l(e,this).$ms,l(this.$ms+r*(n?-1:1),this)},t.subtract=function(e,t){return this.add(e,t,!0)},t.locale=function(e){var t=this.clone();return t.$l=e,t},t.clone=function(){return l(this.$ms,this)},t.humanize=function(e){return a().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},t.milliseconds=function(){return this.get("milliseconds")},t.asMilliseconds=function(){return this.as("milliseconds")},t.seconds=function(){return this.get("seconds")},t.asSeconds=function(){return this.as("seconds")},t.minutes=function(){return this.get("minutes")},t.asMinutes=function(){return this.as("minutes")},t.hours=function(){return this.get("hours")},t.asHours=function(){return this.as("hours")},t.days=function(){return this.get("days")},t.asDays=function(){return this.as("days")},t.weeks=function(){return this.get("weeks")},t.asWeeks=function(){return this.as("weeks")},t.months=function(){return this.get("months")},t.asMonths=function(){return this.as("months")},t.years=function(){return this.get("years")},t.asYears=function(){return this.as("years")},e}(),function(e,t,r){o=(a=r)().$utils(),r.duration=function(e,t){var n=r.locale();return l(e,{$l:n},t)},r.isDuration=u;var n=t.prototype.add,i=t.prototype.subtract;t.prototype.add=function(e,t){return u(e)&&(e=e.asMilliseconds()),n.bind(this)(e,t)},t.prototype.subtract=function(e,t){return u(e)&&(e=e.asMilliseconds()),i.bind(this)(e,t)}})});Ca.extend(Oa);var Da=["days","hours","minutes","seconds","milliseconds"];function Aa(a){if(a){var i,o,s=function u(t){return{mode:t.dataset.CountDownMode||"CountDown",showUnit:t.dataset.CountDownShowUnit?Wn(Da.map(function(e){return[e,t.dataset.CountDownShowUnit.split("-").includes(e)]})):{days:!1,hours:!0,minutes:!0,seconds:!0,milliseconds:!1},isShowLabel:"false"!==t.dataset.CountDownIsShowLabel,showLabel:t.dataset.CountDownShowLabel?Wn(t.dataset.CountDownShowLabel.split("-").map(function(e){return e.split(":")})):Wn(Da.map(function(e){return[e,e.charAt(0).toUpperCase()+e.slice(1)]})),behaviorAfter:t.dataset.CountDownBehaviorAfter||"keep",endDate:t.dataset.CountDownEndDate||Ca(Ca().format("YYYY-MM-DD")).add(1,"day").add(12,"hour").toString(),timeZone:"Project timezone",countDown:t.dataset.CountDownTime?Number(t.dataset.CountDownTime):0,countDownUnit:t.dataset.CountDownUnit?t.dataset.CountDownUnit:"minutes"}}(a);i="CountDown"===s.mode?a.dataset.CountDownStartTime?Ca.duration(Ca(a.dataset.CountDownStartTime).add(Number(s.countDown),s.countDownUnit).diff(Ca())):Ca.duration(Number(s.countDown),s.countDownUnit):Ca.duration(Ca(s.endDate).diff(Ca())),o="CountDown"===s.mode?a.dataset.CountDownStartTime?Ca.duration(Number(s.countDown),s.countDownUnit):i:a.dataset.CountDownStartTime?Ca.duration(Ca(s.endDate).diff(Ca(a.dataset.CountDownStartTime))):i;var c=2,e=Wn(Da.filter(function(e){return s.showUnit[e]}).map(function(e,t){var n=i.as(e);if(i=i.subtract(0|n,e),"milliseconds"===e&&(n=n/10|0),0===t){c=String(0|o.as(e)).length;var r=o.as(e);r%1==0&&r===Math.pow(10,c-1)&&(c-=1),c<2&&(c=2)}return[e,0|n]})),t=Object.values(e).every(function(e){return 0===e})||Object.values(e).some(function(e){return e<0});if(Object.values(e).some(function(e){return e<0}))for(var n in e)e[n]=0;t&&(a.dataset.CountDownEnd=t?"CountDown"===s.mode&&0===s.countDown?"false":"true":"false");var r=a.querySelector(".pt-count-down-wrapper");r&&(a.dataset.CountDownFontSize&&""!==a.dataset.CountDownFontSize&&(a.style.fontSize=a.dataset.CountDownFontSize),a.dataset.CountDownFontFamily&&""!==a.dataset.CountDownFontFamily&&(a.style.fontFamily=a.dataset.CountDownFontFamily),a.dataset.CountDownFontWeight&&""!==a.dataset.CountDownFontWeight&&(a.style.fontWeight=a.dataset.CountDownFontWeight),r.style.cssText="\n        box-sizing: border-box;\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        height:".concat("true"===a.dataset.CountDownIsShowLabel?"100%":"fit-content",";\n        user-select: none;\n    "),r.innerHTML=Object.entries(e).map(function(e,t){var n=x(e,2),r=n[0],i=n[1];return'\n            <div contenteditable="false" class="pt-count-down-time" style="box-sizing: border-box;display: flex;flex-direction: column;align-items: center;min-width: fit-content;height: 100%;flex: '.concat(0!==t?1:c-1," 1 ").concat(0!==t?3.11:3.11+1.68*(c-2),'em;;">\n                <div contenteditable="false" class="pt-count-down-number-wrapper" style="box-sizing: border-box;display: flex;width: 100%;flex: 1 1;">\n                    ').concat(Array.from(Array.from({length:(0===t?c:2)-String(i).length},function(){return"0"}).join("")+i).map(function(e){return'\n                            <div contenteditable="false" style="height: 1.43em;flex:0 1 4px;display:inline-block;"></div>\n                            <div\n                                contenteditable="false"\n                                class="pt-count-down-number"\n                                style="\n                                    display:inline-block;position: relative;box-sizing: border-box;display: flex;justify-content: center;align-items: center;max-width: calc(1.43em - 8px);height: 1.43em;font-size: 1em;flex: 1 1000 calc(1.43em - 8px);\n                                    color:'.concat(a.dataset.CountDownNumColor||"#fff",';\n                                "\n                            >\n                                <div style="display:inline-block;position: absolute;width: calc(100% + 8px); height: 100%;left:-4px;top: 0;background:').concat(a.dataset.CountDownNumBgColor||"#091e42",";border-radius:").concat(a.dataset.CountDownNumBorderRadius||"4",'px;"></div>\n                                <div style="z-index: 1;display:inline-block;">').concat(e,'</div>\n                            </div>\n                            <div contenteditable="false" style="height: 1.43em;flex:0 1 4px;display:inline-block;"></div>\n                        ')}).join('<div contenteditable="false" style="height: 1.43em;flex:1 100 0.25em;display:inline-block;"></div>'),"\n                </div>\n                ").concat(s.isShowLabel?'<div contenteditable="false" class="pt-count-down-label" style="box-sizing: border-box;position: relative;margin-top: 0 !important;font-size: .4em !important;flex-wrap: nowrap;color: #091e42;flex: 0 0;color:'.concat(a.dataset.CountDownLabelColor||"",';">\n                        <div contenteditable="false" style="opacity:0;display:inline-block;">é</div>\n                        <div contenteditable="false" style="display:inline-block;position: absolute;left: 50%;top: 50%;transform: translate(-50%, -50%);white-space: nowrap;">').concat(s.showLabel[r],"</div>\n                    </div>"):"","\n            </div>\n        ")}).join('\n            <div\n                contenteditable="false"\n                class="pt-count-down-divide"\n                style="\n                    box-sizing: border-box;line-height: 1.43em;font-size: 1em !important;color: #091e42;margin-top: 0 !important;text-align: center;flex: 2.5 0.1 0.75em;\n                    color:'.concat(a.dataset.CountDownDivideColor||"",';\n                "\n            >\n                :\n            </div>\n        ')))}}var Na=function(){function e(){g(this,e),this.timer=null,this.onmessage=null}return v(e,[{key:"postMessage",value:function(e){this.timer&&clearInterval(this.timer),"stop"===e?this.timer=null:"function"==typeof this.onmessage&&(this.timer=setInterval(this.onmessage,1e3))}}]),e}();function Ma(){try{var e=new Blob(["(".concat(function t(){var n=this,r=null;this.onmessage=function(e){var t=e.data;r&&clearInterval(r),r="stop"===t?null:(n.postMessage(""),setInterval(function(){return n.postMessage("")},1e3))}}.toString(),")()")],{type:"application/javascript"});return new Worker(URL.createObjectURL(e))}catch(n){return new Na}}var Pa=function(){function n(e){var t=this;g(this,n),this.type=e,this.set=new Set,this.state="stop",this.add=this.add.bind(this),this["delete"]=this["delete"].bind(this),this.checkSizeToRunOrStop=this.checkSizeToRunOrStop.bind(this),this.run=this.run.bind(this),this.stop=this.stop.bind(this),this.update=this.update.bind(this),this.closePopup={},"seconds"===e?(this.worker=Ma(),this.worker.onmessage=function(){return t.update()}):this.worker=null}return v(n,[{key:"add",value:function(e){e&&(e.dataset.CountDownEnd="false",this.set.add(e),this.checkSizeToRunOrStop())}},{key:"delete",value:function(e){this.set["delete"](e),this.checkSizeToRunOrStop()}},{key:"checkSizeToRunOrStop",value:function(){"stop"===this.state?0<this.set.size&&this.run():0===this.set.size&&this.stop()}},{key:"run",value:function(){this.state="run","milliseconds"===this.type?this.worker=requestAnimationFrame(this.update):this.worker.postMessage("start")}},{key:"stop",value:function(){this.set.clear(),this.state="stop","milliseconds"===this.type?(cancelAnimationFrame(this.worker),this.worker=null):this.worker.postMessage("stop")}},{key:"update",value:function(){var t=this;this.set&&(this.set.forEach(function(e){e.parentNode&&"false"===e.dataset.CountDownEnd?Aa(e,t.type):("true"===e.dataset.CountDownEnd&&"close"===e.dataset.CountDownBehaviorAfter&&"function"==typeof t.closePopup[e.dataset.popupId]&&t.closePopup[e.dataset.popupId](),t["delete"](e))}),"milliseconds"===this.type&&"stop"!==this.state&&(this.worker=requestAnimationFrame(this.update)))}}]),n}(),$a=new(function(){function e(){g(this,e),this.addCountDown=this.addCountDown.bind(this),this.deleteCountDown=this.deleteCountDown.bind(this),this.clear=this.clear.bind(this),this.setClosePopup=this.setClosePopup.bind(this),this.updateSet={seconds:new Pa("seconds"),milliseconds:new Pa("milliseconds")}}return v(e,[{key:"setClosePopup",value:function(e,t){this.updateSet.seconds.closePopup[e]=t,this.updateSet.milliseconds.closePopup[e]=t}},{key:"addCountDown",value:function(e){e&&"insert.count_down"===e.dataset.menuAction&&(e.dataset.CountDownShowUnit.includes("milliseconds")?(this.updateSet.seconds["delete"](e),this.updateSet.milliseconds.add(e)):(this.updateSet.milliseconds["delete"](e),this.updateSet.seconds.add(e)))}},{key:"deleteCountDown",value:function(e){this.updateSet.seconds["delete"](e),this.updateSet.milliseconds["delete"](e)}},{key:"clear",value:function(){this.updateSet.seconds.stop(),this.updateSet.milliseconds.stop()}}]),e}());function La(e){if(e){var t=Array.from(e.querySelectorAll('[data-menu-action="insert.count_down"]'));t instanceof Array&&!t.length||t.forEach(function(e){$a.deleteCountDown(e)})}}var Wa=function(){function c(e,t,n,r,i,a,o){g(this,c);var s=n.widgets;this.engageId=e,this.popup=n,this.terminalType=t,this.widgets=s||[],this.context=r,this.current=i,this.currentWidgetIndex=0,this.container=null,this.engageWrap=null,this.renderList=null,this.currentWidgetConfig=null,this.isPreview=a,this.callback=o,this.showMask=!1,this.hasClosedByManual=!1,this.validate=Ci(),this.config={DATA_BLOCK:"data-engage-block",DATA_WIDGET_ID:"data-engage-widget-id",DATA_SHOW_ENGAGE:"data-show-engage",DATA_GOTO_WIDGET:"data-goto-widget",DATA_BUTTON_TYPE:"data-button-type",BUTTON_FORM_SUBMIT:"button-submit-success",DATA_ACTION_CLICK:"data-engage-action-click",DATA_ACTION_CLOSE:"data-engage-action-close",DATA_NO_PACKAGE:"data-engage-no-package",BUTTON_URL:"button-url",BUTTON_TEL:"button-tel",BUTTON_CLOSE:"button-close",BUTTON_GOTO_WIDGET:"button-goto-widget",ICON_CLOSE:"icon-close",POSITION:"position",CENTERPOSITION:"pos-center",LAYOUTMODE:"layoutMode",MASKLAYERPPREFIX:"pt_mask_"},this._handleCountDownEnd=this._handleCountDownEnd.bind(this)}return v(c,[{key:"_getRenderList",value:function(){return this.widgets.reduce(function(e,t){var n=t.widgetNodes,r=n.html,i=n.css,a=n.script,o=void 0===a?"":a;return e.push({html:r+o,css:i}),e},[])}},{key:"_getWidget",value:function(e){return!(e<0||e>this.renderList.length-1)&&this.renderList[e]}},{key:"_getWidgetConfig",value:function(e){return!(e<0||e>this.widgets.length-1)&&this.widgets[e]}},{key:"_gotoPrev",value:function(){var e=this.currentWidgetIndex-1;0<=e&&(this.currentWidgetIndex=e,this.render())}},{key:"_gotoNext",value:function(e){var t=this.renderList.length-1,n=this.currentWidgetIndex+1;if(n<=t){if(this.currentWidgetIndex=n,e)try{Vi(this.currentWidgetConfig.widgetSettings.position)}catch(Uo){}this.render()}}},{key:"_addEventHandler",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}},{key:"_removeEventHandler",value:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}},{key:"_handleGotoWidgetClick",value:function(e){var t=e.getAttribute(this.config.DATA_GOTO_WIDGET);"prev"===t?this._gotoPrev():"next"===t&&this._gotoNext(!0)}},{key:"_handleClear",value:function(){try{this.hasClosedByManual||(this._execWidgetEvent(this.engageWrap,"unmounted"),this.engageWrap&&this.container.removeChild(this.engageWrap),this.showMask&&this.currentWidgetConfig&&ji(this.currentWidgetConfig.widgetId)),this.currentWidgetConfig&&Vi(this.currentWidgetConfig.widgetSettings.position),$n.set(this.current.exp_id,null)}catch(Uo){}}},{key:"_handleCloseClick",value:function(e){this._execWidgetEvent(e,"unmounted")}},{key:"_execWidgetEvent",value:function(e,t,n){on.win.ptEngage=on.win.ptEngage||{};var r=e&&Li(e),i=on.win.ptEngage[r]||[];0<i.length&&(i.map(function(e){e[t]&&"function"==typeof e[t]&&e[t](),n&&"function"==typeof n&&(e.callback=n)}),r&&"unmounted"===t&&delete on.win.ptEngage[r])}},{key:"updateState",value:function(e,t){Object.prototype.hasOwnProperty.call(this,e)&&(this[e]=t)}},{key:"triggerEvent",value:function(e,t){this._execWidgetEvent(this.engageWrap,e,t)}},{key:"_renderHtmlCssAndScript",value:function(){var e=this._getWidget(this.currentWidgetIndex);if(e){var t=e.html,n=e.css;(n=qi(n,"#engage_".concat(this.popup.popupId)))&&zi(n,this.popup.popupId+this.currentWidgetConfig.widgetId),t&&(this.engageWrap.innerHTML=t),this.engageWrap.style.display="none",function r(t,e){if(e){var n=Array.from(e.querySelectorAll('[data-menu-action="insert.count_down"]'));n instanceof Array&&!n.length||n.forEach(function(e){"CountDown"===e.dataset.CountDownMode&&(e.dataset.CountDownStartTime=new Date+""),e.dataset.popupId=t,Aa(e)})}}(this.popup.popupId,this.engageWrap),this.container&&this.container.appendChild(this.engageWrap),this.triggerEvent("unmounted"),Gi(this.engageWrap),this.engageWrap.style.display="block",this.triggerEvent("mounted",function(e){e&&"function"==typeof e&&e(this.engageId)})}}},{key:"_handlePopupClick",value:function(e,t,n,r){for(var i=this,a=e.target||e.srcElement,o=[this.config.DATA_ACTION_CLICK,this.config.DATA_ACTION_CLOSE],s=!1,c="",u="";c=a.getAttribute(this.config.DATA_BLOCK),u=a.getAttribute(this.config.DATA_BUTTON_TYPE),!(s=function(){for(var e=0,t=o.length;e<t;e++)if(a.getAttribute(o[e]))return!0}())&&(a=a.parentNode),!s&&a!=t;);if(s){e.preventDefault();var l=a.tagName.toUpperCase(),d=a.textContent||l||"unknow target";if(a.parentNode&&"image"===a.parentNode.getAttribute("data-engage-block")){var f=a.querySelector("img");f&&(d=f.getAttribute("alt"))}if(c&&(c===this.config.BUTTON_CLOSE||c===this.config.ICON_CLOSE)){La(this.engageWrap),t&&this.container&&this.container.hasChildNodes()&&this.container.removeChild(t),this.hasClosedByManual=!0,this.showMask&&ji(this.currentWidgetConfig.widgetId);var h=a.getAttribute(this.config.DATA_NO_PACKAGE);this.isPreview||h||Ui(this.context,this.current,"close",d),Cn(),r&&"function"==typeof r&&r(this.popup.popupId,"hasClosed");try{this.popup.repeat&&Vi(this.currentWidgetConfig.widgetSettings.position)}catch(e){}return}if(c&&c===this.config.BUTTON_GOTO_WIDGET){try{this.popup.repeat&&Vi(this.currentWidgetConfig.widgetSettings.position),this.showMask&&ji(this.currentWidgetConfig.widgetId),this.isPreview||Ui(n,this.current,"click",d)}catch(e){}this._handleGotoWidgetClick(a)}else c&&c===this.config.BUTTON_FORM_SUBMIT?this._handleFormSubmit(t,function(){i._handleGotoWidgetClick(a),Bi(i.popup.popupId,"formSubmitted")}):this.isPreview||Ui(n,this.current,"click",d);if(a.href&&!/^javascript:(void\(0\))?;?$/.test(a.href))if("submit"===u)this._handleFormSubmit(t,function(){if(Bi(i.popup.popupId,"formSubmitted"),"_blank"===a.target)try{on.win.open(a.href,"_blank")}catch(e){Cn()}else on.loc.href=a.href});else if("_blank"===a.target)try{on.win.open(a.href,"_blank")}catch(g){Cn()}else on.loc.href=a.href;r&&"function"==typeof r&&r(this.popup.popupId)}}},{key:"_handleCountDownEnd",value:function(){try{La(this.engageWrap),this.engageWrap&&this.container&&this.container.removeChild(this.engageWrap),this.showMask&&ji(this.currentWidgetConfig.widgetId),this.isPreview||Ui(this.context,this.current,"close"),Cn(),Bi(this.popup.popupId,"hasClosed"),this._removeEventHandler(this.engageWrap,"click",this.popupClickHandle);try{this.popup.repeat&&Vi(this.currentWidgetConfig.widgetSettings.position)}catch(Uo){}return}catch(Uo){}}},{key:"_handleFormSubmit",value:function(e,r){e.querySelector("form");for(var t,n=e.querySelectorAll('[data-menu-action="insert.field"]'),i=[],a=[],o=!1,s=!1,c=0;c<n.length;c++){var u=n[c].getAttribute("data-field-id"),l=n[c].querySelector(".control input, .control textarea, .control select"),d=l.value,f=n[c].getAttribute("data-ptx-componentid"),h=JSON.parse(l&&l.getAttribute("data-ptx-validators")),g=l&&l.getAttribute("data-ptx-property"),p=!1,v=n[c].querySelector(".error");v&&(v.classList=["error"]),h&&!h.allowDuplicate&&(s=!0),h&&h.required?(t=d)&&""!==t?("email"!==f||Ki(d)||(p="email_fail",v.classList.add(p)),"phone"!==f||Zi(d)||(p="phone_fail",v.classList.add(p))):(p="required_fail",v.classList.add("required")):d&&""!==d&&("email"!==f||Ki(d)||(p="email_fail",v.classList.add(p)),"phone"!==f||Zi(d)||(p="phone_fail",v.classList.add(p))),p&&v&&(o=!0),i.push({fieldID:n[c].getAttribute("data-field-id"),fieldValue:d,fieldName:n[c].querySelector(".label").innerText,fieldType:f}),a.push({fieldID:u,fieldName:n[c].querySelector(".label").innerText,alowDuplicate:h.allowDuplicate,allowConnect:!!h.allowConnect,connectProperty:g||"",fieldValue:d,error:p,errorDom:v})}if(s){var y=a.filter(function(e){return!e.alowDuplicate&&e.fieldValue&&""!==e.fieldValue});y=y&&y.map(function(e){return{fieldID:e.fieldID,fieldValue:e.fieldValue}});var m=this.context,w=this.current,_=this.popup.popupId,b=this.isPreview,S=(on.loc.protocol,{url:"https://xbackend.ptengine.jp/formVerification",method:"POST",async:!1,contentType:"application/json",data:JSON.stringify({field:y,sid:Yr.profileId,engageID:this.engageId,engageVersion:this.current.exp_id,configVerion:"3.0",creativeID:this.popup.popupId}),callback:function(e){if((e=JSON.parse(e))&&"success"===e.status){var n=e.data;if(a.forEach(function(e,t){n[e.fieldID]!==undefined&&(e.error||!0!=!n[e.fieldID]||(e.error="error_duplicate",e.errorDom.classList=["error allow-duplicate"],o=!0))}),o)return;w.variant={formContent:JSON.stringify(i),fieldIDList:JSON.stringify(a),creativeID:_},Ui(m,w,"submit"),r&&"function"==typeof r&&r();var t={};a.forEach(function(e){e.connectProperty&&(t[e.connectProperty]=e.fieldValue)}),"{}"!==JSON.stringify(t)&&ptengine&&ptengine.identify&&ptengine.identify("",t,"engage")}}});if(b){var E=this._checkPreviewForm(_,y);a.forEach(function(e,t){E[e.fieldID]!==undefined&&(e.error||!0!=!E[e.fieldID]||(e.error="error_duplicate",e.errorDom.classList=["error allow-duplicate"],o=!0))}),o||(function x(e,t){var n=xn(e);if(null==n)n={seenTimes:1,hasClosed:0,hasClicked:0,formSubmitted:0,previewFormContent:null};else{var r=(n=JSON.parse(n)).previewFormContent;r?r.concat(t):r=t,n.previewFormContent=r,Tn(e,JSON.stringify(n))}}(_,i),r&&"function"==typeof r&&r())}else hn(S)}else{if(o)return;var k=this.context,I=this.current;I.variant={formContent:JSON.stringify(i),fieldIDList:JSON.stringify(a),creativeID:this.popup.popupId};var T={};a.forEach(function(e){e.connectProperty&&(T[e.connectProperty]=e.fieldValue)}),"{}"!==JSON.stringify(T)&&ptengine&&ptengine.identify&&ptengine.identify("",T,"engage"),this.isPreview&&Bi(this.popup.popupid,"previewFormContent",JSON.stringify(i)),this.isPreview||Ui(k,I,"submit")}!s&&r&&"function"==typeof r&&r()}},{key:"_checkPreviewForm",value:function(e,t){return function a(e,t){var n=xn(e),r={};if(t.forEach(function(e){r[e.fieldID]=!0}),!n)return r;var i=(n=JSON.parse(n)).previewFormContent;return i&&t.forEach(function(e){var t=e.fieldID,n=e.fieldValue;r[e.fieldID]=!i.some(function(e){return e.fieldID===t&&e.fieldValue===n})}),r}(e,t)}},{key:"_checkPopupStopTrigger",value:function(e,t,n,r,i,a){for(var o=n.trigger.stop||[],s=0;s<o.length;s++){var c=o[s];if(t.setValue({value:c.value,current:n,context:e,container:r,engageWrap:i,renderObj:a}),t.setCondition(c.condition),t.setValidator(Ti(c.type)),t.run(),!n.goNext)return!0}return!1}},{key:"render",value:function(){var e=this._getWidgetConfig(this.currentWidgetIndex);if(this.currentWidgetConfig=e){var t=e.widgetSettings&&e.widgetSettings.position;if(!(t&&Wi(this.terminalType,t)))return;if(this._renderHtmlCssAndScript(),this.renderAfter(),!(this.engageWrap&&"false"!==this.engageWrap.getAttribute(this.config.DATA_SHOW_ENGAGE))){var n=$n.get(this.config.POSITION)||[],r=n.indexOf(t);return void(-1!==r&&(n.splice(r,1),$n.set(this.config.POSITION,n)))}var i=this.engageWrap.querySelector('[data-engage-block="engage"]');i&&(e.widgetSettings&&!e.widgetSettings.showMask?(i.style.left="auto",i.style.right="auto",i.style.top="auto",i.style.bottom="auto"):e.widgetSettings.showMask&&(this.showMask=!0,i.style.position="fixed")),Hi(this.engageWrap)}}},{key:"renderAfter",value:function(){var n=this;!function r(e,t){if(t){var n=Array.from(t.querySelectorAll('[data-menu-action="insert.count_down"]'));n instanceof Array&&!n.length||n.forEach(function(e){("CountDown"!==e.dataset.CountDownMode||e.dataset.CountDownTime&&0<Number(e.dataset.CountDownTime))&&("CountDown"===e.dataset.CountDownMode&&(e.dataset.CountDownStartTime=new Date+""),$a.addCountDown(e))})}}(this.popup.popupId,this.engageWrap),$a.setClosePopup(this.popup.popupId,this._handleCountDownEnd),on.win.ptEngage=on.win.ptEngage||{},on.win.ptEngage&&(on.win.ptEngage[this.engageId]=this),this.popupClickHandle=function(e){n._handlePopupClick(e,n.engageWrap,n.context,function(e){var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"hasClicked";Bi(e,t),"hasClosed"===t&&n._removeEventHandler(n.engageWrap,"click",n.popupClickHandle)})},this._addEventHandler(this.engageWrap,"click",this.popupClickHandle),this.callback&&"function"==typeof this.callback&&this.callback()}},{key:"mounted",value:function(e,t){var n=this;if(this.container=e,this.engageWrap=t,!(this.popup.repeat&&this._checkPopupStopTrigger({current:this.current},this.validate,this.popup,e,t,this)))return this.submitCallback=function(e,t){n.showMask&&ji(n.currentWidgetConfig.widgetId),n.isPreview||Ui(e,t,"submit"),Bi(n.popup.popupId,"formSubmitted")},this.renderList=this._getRenderList(),this.render(),this}},{key:"unmounted",value:function(){}}]),c}(),Ra=function(){function r(e,t,n){g(this,r),this.type=e,this.code=t,this.callback=n}return v(r,[{key:"_getDocHead",value:function(){var e=on.doc.getElementsByTagName("head")[0];return e||(e=on.doc.createElement("head"),on.doc.body.parentNode.insertBefore(e,on.doc.body)),e}},{key:"_createStyleElement",value:function(e){var t=on.doc.createElement("style");return t.cssText!==undefined?t.cssText=e:t.innerHTML=e,t}},{key:"_createScriptElement",value:function(e){var t=null,n=null;try{t=new Function("element",e)}catch(r){n=r}return{jsJd:t,jsError:n}}},{key:"_attachElementToHead",value:function(e){this._getDocHead().appendChild(e)}},{key:"_addStyle",value:function(e){var t=this._createStyleElement(e);this._attachElementToHead(t)}},{key:"_runScript",value:function(e){var t=this._getDocHead(),n=document.createElement("script"),r="\n        try {\n            (function(){".concat(e,"})();\n        } catch (error) {\n            console.warn(error);\n        }");n.innerHTML=r,t.appendChild(n),t.removeChild(n)}},{key:"mounted",value:function(){switch(this.type){case"css":this._addStyle(this.code);break;case"javascript":this._runScript(this.code)}this.callback&&this.callback()}}]),r}(),ja=function(){function i(e,t,n,r){g(this,i),this.context=e,this.engage=t,this.terminalType=n,this.callback=r,this.currentVersion=null,this.currentTerminal=null,this.isPreview=t.isPreview,this.inlineIsRendered=!1,this.hasSendInlineView=!1,this.hasSendCodeView=!1,this.renderdEngage={popups:[]},this.isSendVersionEvent=!1,this.config={CONTAINERID:"ptxEngage",currentRenderInstance:null},this.isPreview?this.renderPreview(t):this.mounted()}return v(i,[{key:"_sendVersionEvent",value:function(){if(!this.isSendVersionEvent){this.isSendVersionEvent=!0;var e=this.engage,t=e.engageId,n=e.engageName,r=this.currentVersion||{},i=r.versionId,a=r.versionName;i&&function o(n,r){var i=0,a=setInterval(function(){if(i+=50,(window.analytics||1e3<i)&&(clearInterval(a),window._pt_sp_2)){var e=window.ptengine.__sid||localStorage.getItem("PTX_SID"),t=window.ptengine.__pteSid||localStorage.getItem("PTSID");e&&t&&e===t&&window._pt_sp_2.push(n,Object.assign({},r,{disablePtx:!0}))}},50)}("setAbtest",{category:"ptx_heatmap",expName:n,expId:t,verName:a,verId:i})}}},{key:"_sendViewPackage",value:function(e){var t=this.engage,n=t.versions,r=t.engageId,i=t.currentVersionId,a=(this.currentVersion||(n||[]).find(function(e){return e.versionId===i})).versionId,o=Object.assign({},this.engage,{engagerId:r,exp_id:a,variant:{creativeType:e}});Ui(this.context,o,"view"),Bi(a)}},{key:"_getTerminalInfo",value:function(e,t){for(var n=null,r=0,i=e.length;r<i;r++)if(e[r].type===t){n=e[r];break}return n}},{key:"_createEngageWrap",value:function(e){var t=on.doc.getElementById(e);return t||(t=on.doc.createElement("div")).setAttribute("id",e),t}},{key:"_getEngageWrapperId",value:function(e){return"engage_"+e}},{key:"_getEngageContainerWrapper",value:function(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"",t=on.doc.getElementById(this.config.CONTAINERID+"_"+e);return t||((t=on.doc.createElement("div")).setAttribute("id",this.config.CONTAINERID+"_"+e),on.doc.body.appendChild(t)),t}},{key:"_checkPopupTrigger",value:function(e,t,n,r,i,a){var o=this.engage,s=o.triggerFlag,c=o.heatmapVersion,u=!1,l=["start"];(s||this.isPreview)&&!c&&l.unshift("stop");for(var d=0;d<l.length;d++){for(var f=l[d],h=n.trigger[f]||[],g=0;g<h.length;g++){var p=h[g];if(t.setValue({value:p.value,current:n,context:e,container:r,engageWrap:i,renderObj:a}),t.setCondition(p.condition),t.setValidator(Ti(p.type)),t.run(),"stop"===f&&!n.goNext){u=!0;break}}if(u)break}if(!u&&0===(n.trigger.start||[]).length){Cn();a.mounted(r,i)}}},{key:"_renderPopup",value:function(){var c=this,e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:[],u=this.engage.engageId,l=this.currentVersion.versionId;e.forEach(function(e){var t=e.popupId,n=Ci(),r=c._getEngageContainerWrapper(t),i=c._createEngageWrap(c._getEngageWrapperId(t));if(!(function s(){return!!(window.ActiveXObject||"ActiveXObject"in window)}()&&i&&i.querySelector('[data-menu-action="insert.count_down"]'))){var a=Object.assign({},c.engage,{engagerId:u,exp_id:l,variant:{creativeId:t,creativeType:e.type}}),o=new Wa(u,c.terminalType,e,c.context,a,c.isPreview,function(){e.renderFinish&&!e.repeat||(e.renderFinish=!0,Bi(t),c.isPreview||(c._sendVersionEvent(),Ui(c.context,a,"view")))});c.renderdEngage.popups&&c.renderdEngage.popups.push(o),c._checkPopupTrigger(c.context,n,e,r,i,o)}})}},{key:"_renderInline",value:function(){var n=this;(0<arguments.length&&arguments[0]!==undefined?arguments[0]:[]).forEach(function(t){new Xi(t,function(e){t.renderFinish=!0,e&&!n.hasSendInlineView&&(n._sendVersionEvent(),n._sendViewPackage("inline"),n.hasSendInlineView=!0)}).mounted()})}},{key:"_renderCode",value:function(){var t=this;(0<arguments.length&&arguments[0]!==undefined?arguments[0]:[]).forEach(function(e){e.code&&new Ra(e.type,e.code,function(){e.renderFinish=!0,t.hasSendCodeView||(t._sendVersionEvent(),t._sendViewPackage("code"),t.hasSendCodeView=!0)}).mounted()})}},{key:"_renderCampaign",value:function(e){var t=this,n=e||{},r=n.popup,i=n.stickybar,a=n.inline,o=n.code;if(r&&this._renderPopup(r),i&&this._renderPopup(i),o&&this._renderCode(o),Boolean(a)){var s=function s(e){t.inlineIsRendered||(t._renderInline(a),t.inlineIsRendered=!0)};"complete"===on.doc.readyState?s():(En(on.doc,"DOMContentLoaded",s),En(on.win,"load",s))}}},{key:"_handleClearEngage",value:function(){if(this.renderdEngage){var e=this.renderdEngage.popups,t=this.engage.engageId,n=C(e);0<n.length&&n.map(function(e){if(e._handleClear&&"function"==typeof e._handleClear&&e._handleClear(),e.leaveHandler&&"function"==typeof e.leaveHandler){var t=e.terminalType;2==+t&&kn(on.doc,"mousemove",e.leaveHandler),2!=+t&&kn(on.win,"popstate",e.leaveHandler)}}),this.context.engager.off("clearEngage.".concat(t))}}},{key:"_bodyReady",value:function(e){var t=this;null===on.doc.body?En(on.win,"load",function(){return t._renderCampaign(e)}):this._renderCampaign(e)}},{key:"renderPreview",value:function(e){var t=e||{},n=t.version,r=t.terminal;this.currentVersion=n,this.currentTerminal=r,this._bodyReady(r),this.callback&&"function"==typeof this.callback&&this.callback()}},{key:"mounted",value:function(){var e=this,t=this.engage,n=t.versions,r=t.currentVersionId,i=t.engageId,a=(n||[]).find(function(e){return e.versionId===r});if(this.currentVersion=a){var o=a.terminals;if(a.controlGroup)return this._sendVersionEvent(),this._sendViewPackage("controlGroup"),void(this.callback&&"function"==typeof this.callback&&this.callback());var s=(o||[])[0];if(!s&&!on.win.PT_ENGAGE_IN_DEBUG)return this.unmounted(),void(this.callback&&"function"==typeof this.callback&&this.callback());this.currentTerminal=s,this._bodyReady(s)}this.context.engager.on("clearEngage.".concat(i),function(){e._handleClearEngage.apply(e)}),this.callback&&"function"==typeof this.callback&&this.callback()}},{key:"unmounted",value:function(){}}]),i}(),Ua="position",Va="pos-center",Fa="ptxEngage",Ha=2147483647,Ba="button-close",Ga="icon-close",za=_n(),qa=1,Ya=function Ya(l,d,f){var h=d.current;En(l,"click",function(e){for(var n=(e=e||on.win.event).target||e.srcElement,r=["data-engage-action-click","data-engage-action-close"],t=!1,i="";i=n.getAttribute("data-engage-block"),!(t=function(){for(var e=0,t=r.length;e<t;e++)if(n.getAttribute(r[e]))return!0}())&&(n=n.parentNode),!t&&n!=l;);if(t){e.preventDefault();var a=n.tagName.toUpperCase(),o=n.textContent||a||"unknow target";if(n.parentNode&&"image"==n.parentNode.getAttribute("data-engage-block")){var s=n.querySelector("img");s&&(o=s.getAttribute("alt"))}if(i&&(i==Ga||i==Ba)){to(l,"unmounted"),ao().removeChild(l),h.shouldCreateMaskLayer&&ji(h.engagerId),Ui(d,h,"close",o),Cn(),f&&"function"==typeof f&&f(h.exp_id,"hasClosed");try{!h.currentTerminal.codeMode&&Vi(h.currentTerminal.visualModel.widgetSettings.position),Fi("delete",h.engagerId),d.engager.off("clearEngage.".concat(h.engagerId))}catch(c){Dn("RenderError",c)}return}if(Ui(d,h,"click",o),n.href&&!/^javascript:(void\(0\))?;?$/.test(n.href))if("_blank"==n.target)try{on.win.open(n.href,"_blank")}catch(u){Cn(),Dn("WindowOpenError",u)}else on.loc.href=n.href;f&&"function"==typeof f&&f(h.exp_id)}})},Ja=function Ja(e,t){var n=2<arguments.length&&arguments[2]!==undefined&&arguments[2],r=e.current,i=r.currentTerminal,a=i&&i.visualModel&&i.visualModel.widgetSettings,o=n?i.codeSync:i.visualModel.widgetNodes,s=oo(so(r.engagerId));if(s.innerHTML=io(o,r.engagerId),s.style.display="none",ao().appendChild(s),to(s,"unmounted"),Gi(s),to(s,"mounted",function(e){e&&"function"==typeof e&&e(r.engagerId)}),s.style.display="block",s&&"false"!==s.getAttribute("data-show-engage")){i&&(a&&a.position==Va&&(Ri(r.engagerId),e.current.shouldCreateMaskLayer=!0),Hi(s)),Ya(s,e,function(e){return Bi(e,1<arguments.length&&arguments[1]!==undefined?arguments[1]:"hasClicked")}),e.engager&&e.engager.on("clearEngage.".concat(currentEngageId),function(){eo().apply(e,[s])}),qa=1;var c=s.querySelectorAll("img");Array.prototype.slice.call(c).forEach(function(e){En(e,"load",function(){e.style.opacity="1",e.style.visibility="visible"})}),t&&"function"==typeof t&&t()}else{var u=$n.get(Ua)||[],l=a&&a.position,d=u.indexOf(l);-1!==d&&(u.splice(d,1),$n.set(Ua,u))}};function Xa(e){if("string"==typeof e||"number"==typeof e){if(-1!=e.indexOf("<")&&/<?\/[a-z]*>/.test(e)){var t=on.doc.createElement("div");return t.innerHTML=e,t}return on.doc.createTextNode(e)}var n,r;1==qa&&"a"==e.tag?(n=on.doc.createElement("div"),(r=e.props).hasOwnProperty("href")&&delete r.href):(n=on.doc.createElement(e.tag),r=e.props),qa++,function a(e,t){for(var n in t)e.setAttribute(n,t[n])}(n,r);var i=e.children;return i&&i.map(Xa).forEach(n.appendChild.bind(n)),n}var Ka=function Ka(e){var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:function(){};return Cn(),t()},Za=function Za(e){var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:function(){};e.current;return Cn(),t()};function Qa(e){Cn();var t=e.context||e;t.current=e.current;var n=t.current,r=function r(i,a){var o=!(2<arguments.length&&arguments[2]!==undefined)||arguments[2];return function(){var e=a.currentVersionId,t=a.exp_id,n=e||t,r=a.engageId||a.engagerId;i.repeat||$n.set(n,n),Fi("add",r),o&&(Ui(i,a,"view"),Bi(n))}},i=n.currentVersionId,a=n.exp_id;if(!$n.get(i||a)){if(n.controlGroup)return Cn(),void Za(t,r(t,n));if(Cn(),"3.0"!==n.engageVersion){var o=n.terminal&&function g(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].type==e)return t[n];return t[0]}(za,n.terminal),s=n.defaultOptions||o;if(!o||(n.currentTerminal=o).status||on.win.PT_ENGAGE_IN_DEBUG)if(n.currentTerminal&&n.isOriginalVersion)Ka(t,r(t,n));else try{var c=n.currentTerminal||{},u=c.visualModel,l=c.widgets;if(l&&Array.isArray(l)&&0<l.length){var d=oo(so(n.engagerId)),f=ao();new Ji(t,n,r(t,n)).mounted(f,d)}else if(u&&u.widgetSettings)if(n.currentTerminal.codeMode){var h=n.currentTerminal.codeSync.html;h&&/data-engage-block/i.test(h)?Ja(t,r(t,n),!0):no(t,r(t,n))}else Wi(0,u.widgetSettings.position)&&Ja(t,r(t,n));else n.currentTerminal.codeMode?no(t,r(t,n)):Wi(0,s.position||s.commonSync.position)&&function p(e,t){var n=e.current,r=n.currentTerminal.nodes,i=oo(so(n.engagerId)),a=ao(),o=Xa(r);i.appendChild(o),a.appendChild(i);var s=n.currentTerminal;if(s){s.commonSync.position==Va&&(Ri(n.engagerId),e.current.shouldCreateMaskLayer=!0);var c=i.querySelector(".js-engage-promotion-branding,.engage-promotion__friendLink,.engage-friendLink");if(c)if(s.commonSync.branding){c.style.display="block";var u=(c.href||"").replace(/(utm_source=)Customer-Site/,"$1"+on.loc.hostname);c.setAttribute("href",u)}else c.style.display="none"}e.engager&&e.engager.on("clearEngage.".concat(currentEngageId),function(){eo().apply(e,[i])}),ro(i,e,function(e){return Bi(e,1<arguments.length&&arguments[1]!==undefined?arguments[1]:"hasClicked")}),qa=1;var l=i.querySelectorAll("img");Array.prototype.slice.call(l).forEach(function(e){En(e,"load",function(){e.style.opacity="1",e.style.visibility="visible"})}),t&&"function"==typeof t&&t()}(t,r(t,n))}catch(v){Dn("RenderError",v)}else Cn(o.status)}else new ja(t,n,za,r(t,n,!1))}}function eo(e){try{var t=this.current;to(e,"unmounted"),e&&ao().removeChild(e),t.shouldCreateMaskLayer&&ji(t.engagerId),Cn(),!t.currentTerminal.codeMode&&Vi(t.currentTerminal.visualModel.widgetSettings.position),$n.set(t.exp_id,null),this.engager.off("clearEngage.".concat(t.engagerId))}catch(n){Dn("RenderError",n)}}function to(e,t,n){on.win.ptEngage=on.win.ptEngage||{};var r=e&&Li(e),i=on.win.ptEngage[r]||[];0<i.length&&(i.map(function(e){e[t]&&"function"==typeof e[t]&&e[t](),n&&"function"==typeof n&&(e.callback=n)}),r&&"unmounted"===t&&delete on.win.ptEngage[r])}function no(e,t){var n=e.current,r=oo(so(n.engagerId)),i=ao();r.innerHTML=io(n.currentTerminal.codeSync,n.engagerId),i.appendChild(r),Gi(r);var a=!!r.querySelector("[data-pt-showmask]");if(e.current.shouldCreateMaskLayer=a){Ri(n.engagerId);var o=r.querySelector(".engage-promo__v-common");if(o)o.style.zIndex=Ha;else{var s=r.querySelector("[data-pt-engage-id]");s&&(s.style.zIndex=Ha)}}ro(r,e,function(e){return Bi(e,1<arguments.length&&arguments[1]!==undefined?arguments[1]:"hasClicked")}),e.engager&&e.engager.on("clearEngage.".concat(currentEngageId),function(){eo().apply(e,[r])}),t&&"function"==typeof t&&t()}function ro(h,g,p){var v=g.current;En(h,"click",function(e){for(var t,n=(e=e||on.win.event).target||e.srcElement,r=["js-engage-interaction","js-engage-close","js-engage-promotion-close","js-engage-promotion-button","js-engage-promotion-image","js-engage-promotion-a"],i=!1,a=!1,o="",s=[];t=JSON.parse(n.getAttribute("data-pt-action")||"{}"),a="false"===(n.getAttribute("data-pt-status")||String(t.status)),o=n.getAttribute("data-pt-type")||String(t.type),s=n.className||n.classList.value,!(i=function(){for(var e=0,t=r.length;e<t;e++)if(-1!==s.indexOf(r[e]))return!0}())&&(n=n.parentNode),!i&&n!=h;);if(a)e.preventDefault();else if(i){e.preventDefault();var c=n.tagName.toUpperCase(),u=n.textContent||c||"unknow target";if(n.parentNode&&"image"==n.parentNode.getAttribute("data-engage-block")){var l=n.querySelector("img");l&&(u=l.getAttribute("alt"))}if("3"===o||-1!=s.indexOf("js-engage-close")||-1!=s.indexOf("js-engage-promotion-close")){ao().removeChild(h),v.shouldCreateMaskLayer&&ji(v.engagerId),Ui(g,v,"close",u),p&&"function"==typeof p&&p(v.exp_id,"hasClosed");try{Fi("delete",v.engagerId),g.engager.off("clearEngage.".concat(v.engagerId))}catch(d){}return}if(Ui(g,v,"click",u),n.href&&!/^javascript:(void\(0\))?;?$/.test(n.href))if("_blank"==n.target)try{on.win.open(n.href,"_blank")}catch(f){Cn(),Dn("WindowOpenError",f)}else on.loc.href=n.href;p&&"function"==typeof p&&p(v.exp_id)}})}function io(e,t){var n=e||{css:"",html:"",script:""},r=n.css,i=n.html,a=n.script;return zi(r,t),i+a}function ao(){var e=on.doc.getElementById(Fa);return e||((e=on.doc.createElement("div")).setAttribute("id",Fa),on.doc.body.appendChild(e)),e}function oo(e){var t=on.doc.getElementById(e);return t||(t=on.doc.createElement("div")).setAttribute("id",e),t}function so(e){return"engage_"+e}var co=function(e){!function t(){var e=on.doc.getElementById(Fa);e&&on.doc.body.removeChild(e)}(),e.on("next",function(e,t){Cn(),function n(e){Cn(),Cn(),Cn(),Qa(e)}(e)})},uo="__pt__engager__common__style",lo=function(e){e.on("next",function(){if(!on.doc.getElementById(uo)){var e=on.doc.createElement("link");e.rel="stylesheet",e.type="text/css",e.id=uo,e.href=("https:"===on.loc.protocol?"https://":"http://")+"pteengagecss.ptengine.jp/styles/engager.css",on.doc.getElementsByTagName("head")[0].appendChild(e)}!function t(){var e=on.doc.createElement("style");e.type="text/css",e.appendChild(on.doc.createTextNode(".engage-promotion-wrap{display:none}")),on.doc.getElementsByTagName("head")[0].appendChild(e)}()})};function fo(e,t){on.win.CustomEvent=on.win.CustomEvent||function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var n=on.doc.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return e.prototype=on.win.Event.prototype,e}();try{return new on.win.CustomEvent(e,t)}catch(n){return null}}function ho(e,t,n){if(n){var r=t.engager,i=t.setting;Array.isArray(i)||(i=(t.setting||{}).configs||[]),i.filter(function(e){return e.engageId==n}).length<=0?Cn():r.emit("".concat(e,".").concat(n))}else Cn()}var go=function(){function t(){g(this,t);var e="https:"===on.loc.protocol?"https://":"http://";this._callbacks={},this.collectUrl=e+"xcollector.ptengine.jp/webcollect"}return v(t,[{key:"on",value:function(e,t){return this._callbacks["$"+e]||(this._callbacks["$"+e]=[]),this._callbacks["$"+e].push(t),this}},{key:"off",value:function(e,t){if(0===arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1===arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this}},{key:"once",value:function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this}},{key:"emit",value:function(e){for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n)for(var i=0,a=(n=n.slice(0)).length;i<a;++i)n[i].apply(this,t);return this}},{key:"hasListeners",value:function(e){return 0<(this._callbacks["$"+e]||[]).length}}]),t}();var po=function(){function t(e){g(this,t),this.timestamp=(new Date).getTime(),this.type=e}return v(t,[{key:"set",value:function(e,t){if(e&&"string"==typeof e)for(var n=e.split("."),r=this,i=0,a=n.length;i<a;i++){var o=n[i];r[o]||(r[o]={}),i===a-1&&(r[o]=t),r=r[o]}return this}},{key:"setPage",value:function(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"page",t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},n=Yr.vn,r=Yr.pvn,i=(new Date).getTime()-Jr;i<0&&(i=0),this.set("name",e).set("properties",t).set("vn",n).set("pvn",r).set("loadtime",i).set("context",vo()).set("context.page",this.getDefaultPage())}},{key:"setEvent",value:function(e,t,n){"track"===this.type&&this.set("context",vo()).set("context.page",this.getDefaultPage()),this.set("event",e),t&&this.set("properties",t),n&&this.set("te",n)}},{key:"setUser",value:function(e,t,n){e&&this.set("accountId",e),t&&this.set("properties",t),n&&this.set("source",n)}},{key:"setStatus",value:function(e,t){e&&this.set("accountId",e),t&&this.set("properties",t)}},{key:"setCampaign",value:function(e){this.set("context",vo()),e&&this.set("context.campaign",e)}},{key:"setEngage",value:function(e){var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};this.set("engage",e),t&&this.set("properties",t)}},{key:"getFields",value:function(){return this.set("packageId",gn()),on.win.PT_ENGAGE_IN_DEBUG&&(this.set("previewMode",!0),this.set("previewId",localStorage.getItem("ptx_previewId"))),Object.assign({},this,Yr)}},{key:"getDefaultPage",value:function(){return{hostname:on.loc.hostname,referrer:on.doc.referrer,refType:function t(e){return e?1:0}(on.doc.referrer),title:on.doc.title,url:on.loc.href}}}]),t}();function vo(){return{timezone:function n(){try{var e=(new Date).getTimezoneOffset();return e||0===e?"GMT"+(e<=0?"+":"")+e/60*-1:""}catch(t){return""}}(),language:on.na.language,screen:{width:function r(){try{var e=on.win.screen.width;return e?isNaN(parseInt(e,10))?0:parseInt(e,10):0}catch(t){return 0}}(),height:function i(){try{var e=on.win.screen.height;return e?isNaN(parseInt(e,10))?0:parseInt(e,10):0}catch(t){return 0}}()}}}var yo="pt:on_engage_fired",mo="pt:start_engage_render",wo=function(e){_(n,go);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"page",value:function(e,t,r){var i=this;if(Qr()){var n=new po("page");n.setPage(e,t);try{var a=JSON.stringify(n.getFields());hn({url:this.collectUrl,method:"POST",data:a,callback:function(e){try{var t=JSON.parse(e);"success"===t.status&&(i.emit(mo,t.content),r&&"function"==typeof r&&r())}catch(n){}}})}catch(o){Dn("PageViewModuleError",o)}}}}]),n}(),_o=function(e){_(n,go);var t=I(n);function n(){return g(this,n),t.call(this)}return v(n,[{key:"identify",value:function(e,t,n){var r=this,i=new po("identify");Qr()&&(i.setUser(e,t,n),hn({url:this.collectUrl,method:"POST",data:JSON.stringify(i.getFields()),callback:function(e){try{var t=JSON.parse(e);"success"==t.status&&r.emit(mo,t.content)}catch(n){}}}))}},{key:"status",value:function(e,t){var r=this,n=new po("status");Qr()&&(n.setStatus(e,t),hn({url:this.collectUrl,method:"POST",data:JSON.stringify(n.getFields()),callback:function(e){try{var t=JSON.parse(e);"success"==t.status&&r.emit(mo,t.content)}catch(n){}}}))}}]),n}(),bo=(new Date).getTime(),So=0,Eo=function(e){_(n,go);var t=I(n);function n(){var e;return g(this,n),(e=t.call(this)).vistualEvents=[],e.uncommitedEvents=[],e.isTimeout=!1,e.init(),e}return v(n,[{key:"init",value:function(){var t=this;function r(){(new Date).getTime()-zr.lastUpdateTime>zr.SILENCEDURATION+zr.HEARTBEATINTERVAL?(clearInterval(on.win.ptx_heartbeat_interval),this.isTimeout=!0,Fr()):this.emit("heartbeat")}function l(e,t){for(var n=!1;e==t?n=!0:e=e.parentNode,"body"!==e.nodeName.toLowerCase()&&!n;);return n}(function e(){var u=this;on.win.addEventListener("click",function(e){var o=(e=e||on.win.event).target||e.srcElement,t=o.nodeName.toLowerCase(),n=(new Date).getTime();if(n-So<zr.CLICKINTERVAL&&"a"!==t)return!1;So=n,Zr("lastUpdateTime",(new Date).getTime());var s=null;if(o&&0<u.vistualEvents.length){var c=function c(e){var r=u.vistualEvents[e];try{var t=on.doc.querySelectorAll(decodeURIComponent(decodeURIComponent(r.csspath)));if(s===t[0])return"continue";for(var n in s=t[0],t){var i=t[n];l(o,i)&&u.addEvent(r.eventName)}u.commit()}catch(a){!function T3(t,n){if(on.win.jQuery)n();else{var r=!1,i=on.doc.getElementsByTagName("head")[0],a=on.doc.createElement("script");a.src=t,i.appendChild(a),a.onload=a.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,n(),a.onload=a.onreadystatechange=null,i&&a.parentNode&&i.removeChild(a))}}}("https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js",function(){var e=on.win.jQuery(r.csspath);for(var t in e){var n=e[t];l(o,n[0])&&u.addEvent(r.eventName)}})}};for(var r in u.vistualEvents)c(r)}s||(u.emit("reactivePnOrHb"),s=null)},!0)}).call(this),function i(){var e,n=this;this.on("reactivePnOrHb",function(){n.isTimeout?(n.isTimeout=!1,n.emit("reactivated"),on.win.ptx_heartbeat_interval=setInterval(function(){r.call(n)},zr.HEARTBEATINTERVAL)):n.emit("heartbeat")}),this.on("heartbeat",function(){var e=new po("heartbeat");if(Qr()){var t=(new Date).getTime();return e.set("duration",t-bo),Yr.profileId?hn({url:n.collectUrl,method:"POST",data:JSON.stringify(e.getFields())}):void 0}}),on.win.addEventListener("scroll",function(){e&&clearTimeout(e),e=setTimeout(function(){Zr("lastUpdateTime",(new Date).getTime()),n.emit("reactivePnOrHb")},500)}),on.win.ptx_heartbeat_interval=on.win.setInterval(function(){r.call(n)},zr.HEARTBEATINTERVAL)}.call(this),this.on("pt:on_vistualevent_fetch_done",function(e){t.vistualEvents=function a(e){var t=[];for(var n in e){var r=e[n],i=r.split(",");new RegExp(i[6].replace(/^\//,"").replace(/\/$/,"")).test(on.loc.href.replace(/\/$/,""))&&i[3]&&i&&"string"==typeof i[7]&&t.push({csspath:decodeURIComponent(i[7]),eventName:i[3]})}return t}(e)})}},{key:"trackEvent",value:function(e){var t=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},n=2<arguments.length?arguments[2]:undefined,r=!(3<arguments.length&&arguments[3]!==undefined)||arguments[3];if(Qr()){var i=new po("track");return r&&!n&&(n=Yi(Object.assign({},t||{},{eventName:e}))),e&&i.setEvent(e,t,n),this.dispatch(JSON.stringify(i.getFields()))}}},{key:"commit",value:function(){var e=this.uncommitedEvents.length;if(0<e){var t=new po("track");if(!Qr())return;1===e?t.setEvent(this.uncommitedEvents[0].name):t.setEvent(this.uncommitedEvents);var n=JSON.stringify(t.getFields());return this.uncommitedEvents=[],this.dispatch(n)}}},{key:"addEvent",value:function(e,t){return this.uncommitedEvents.push({name:e}),this}},{key:"dispatch",value:function(e){var r=this;return hn({url:this.collectUrl,method:"POST",data:e,callback:function(e){try{var t=JSON.parse(e);"success"===t.status&&r.emit(mo,t.content)}catch(n){}}})}}]),n}(),ko=function(e){_(n,go);var t=I(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"engage",value:function(e,t){var n=new po("engage");Qr()&&(n.setEngage(e,t),hn({url:this.collectUrl,method:"POST",data:JSON.stringify(n.getFields()),callback:function(e){try{JSON.parse(e).status}catch(t){}}}))}}]),n}(),Io=function(e){_(r,go);var n=I(r);function r(e){var t;return g(this,r),(t=n.call(this)).engager=e,t._page=new wo,t._user=new _o,t._event=new Eo,t._engage=new ko,t.init(),t}return v(r,[{key:"init",value:function(){var t=this;this._event.on(mo,function(e){t.emit(yo,e)}),this._page.on(mo,function(e){t.emit(yo,e)}),this._user.on(mo,function(e){t.emit(yo,e)}),this._engage.on(mo,function(e){t.emit(yo,e)}),this._event.on("reactivated",function(e){Kr("reactivated"),t.page()})}},{key:"track",value:function(e,t,n){var r=!(3<arguments.length&&arguments[3]!==undefined)||arguments[3];this._event.trackEvent(e,t,n,r)}},{key:"page",value:function(e,t,n){this._page.page(e,t,n)}},{key:"identify",value:function(e,t,n){this._user.identify(e,t,n)}},{key:"status",value:function(e,t){this._user.status(e,t)}},{key:"engage",value:function(e,t){this._engage.engage(e,t)}},{key:"showEngagement",value:function(e){this.engager.emit("showEngage.".concat(e))}},{key:"clearEngagement",value:function(e){this.engager.emit("clearEngage.".concat(e))}},{key:"createCrossDomainUrl",value:function(e){return e&&Ur(e)}}]),r}();var To="renderedEngageCache",xo=function xo(r){var i=history[r];return function(){var e=i.apply(this,arguments);try{var t=new fo(r,{bubbles:!1,cancelable:!1,detail:{}});t.arguments=arguments,t&&(on.win.dispatchEvent&&"function"==typeof on.win.dispatchEvent?on.win.dispatchEvent(t):on.win.fireEvent&&"function"==typeof on.win.fireEvent&&on.win.fireEvent(t))}catch(n){}return e}};function Co(){var e=$n.get(To)||[];0<e.length&&(e.forEach(function(e){var t;t=e,window.ptengine&&window.ptengine.clearEngagement&&"function"==typeof window.ptengine.clearEngagement&&h(window.ptengine.clearEngagement(t))}),$n.set(To,[]))}function Oo(e){return Mn(function(){location.hash||"beforeunload"!==history.state&&"back"!==history.state&&(!e&&Co(),!e&&Kr("changePage"),!e&&on.win.ptengine&&on.win.ptengine.page(),e=!1)},500)}function Do(e){return Mn(function(){"beforeunload"!==history.state&&"back"!==history.state&&(!e&&Co(),!e&&Kr("changePage"),!e&&on.win.ptengine&&on.win.ptengine.page(),e=!1)},500)}history.pushState=xo("pushState"),history.replaceState=xo("replaceState");var Ao=function(t){var o=new Io(t),a=window[[rn.dataLayer]]||[],s=function s(e){try{var t=e||{},n=t.event,r=t.name,i=t.property;n&&o[n]&&"function"==typeof o[n]&&o[n](r,i)}catch(a){}},n=!1,r=function r(){n=!0,o.page("","",function(){var e=(a||{}).hide;if(e&&e.end&&setTimeout(function(){try{e.end()}catch(Uo){}},0),window[rn.funName].__antiFlicker){var t=window[rn.funName].__antiFlicker,n=t.hasInline,r=t.end;if(r){var i=function i(){try{r&&r()}catch(Uo){}};n?"complete"===window.document.readyState?i():(En(window.document,"DOMContentLoaded",i),En(window.document,"readystatechange",i),En(window,"load",i)):setTimeout(function(){i()},0)}}}),a.forEach(function(e){s(e)})};(window[rn.funName]||[]).forEach(function(e){var t=e||[];switch(t[0]){case"page":o.page(t[1],t[2]),n=!0;break;case"track":a.push({event:"track",name:t[1],property:t[2]});break;case"identify":a.push({event:"identify",name:t[1],property:t[2]});break;case"createCrossDomainUrl":Ur(t[2])}}),n&&Dn("ExecuteException","page view init exception"),a.push=function(e){s(e)},-1!==on.na.userAgent.indexOf("Safari")&&-1!==on.na.userAgent.indexOf("Version")?t.on("send.pageview",function(e){r()}):r();var e=window[rn.funName]||{},i=e.__ver,c=e.__pteSid,u=e.__start,l=e.__antiFlicker,d=e.__ptenginex,f=e.__ptePeid,h=e.__crossDomainEnable,g=e.__ids,p=e.__crossDomainProcessCallback,v=e.__getPteEventData,y=e.__PTXEnabled,m=e.__PTEEnabled,w=e.__isNpPackage;window[rn.funName]=o,[{key:"__ver",value:i},{key:"__pteSid",value:c},{key:"__start",value:u},{key:"__antiFlicker",value:l},{key:"__ptenginex",value:d},{key:"__ptePeid",value:f},{key:"__crossDomainEnable",value:h},{key:"__ids",value:g},{key:"__crossDomainProcessCallback",value:p},{key:"__getPteEventData",value:v},{key:"__PTXEnabled",value:y},{key:"__PTEEnabled",value:m},{key:"__isNpPackage",value:w}].forEach(function(e){e.value&&(window[rn.funName][e.key]=e.value)}),window[rn.funName].__sid=Nn(),function _(){try{var e=new fo("ptEventReady",{bubbles:!1,cancelable:!1,detail:{}});e&&(on.win.dispatchEvent&&"function"==typeof on.win.dispatchEvent?on.win.dispatchEvent(e):on.win.fireEvent&&"function"==typeof on.win.fireEvent&&on.win.fireEvent(e))}catch(t){}}(),function b(e){"onpopstate"in on.win&&(kn(on.win,"popstate",Oo(e)),En(on.win,"popstate",Oo(e)),kn(on.win,"pushState",Do(e)),En(on.win,"pushState",Do(e)),kn(on.win,"replaceState",Do(e)),En(on.win,"replaceState",Do(e)))}(n),t.on("send.engage",function(e){o.engage(e)}),o.on(yo,function(e){t.emit("run.setting",e)})},No=on.win.location.href,Mo=-1!==No.indexOf("preview_ptx_token"),Po=-1!==No.indexOf("ptengine_engage_control_group"),$o=-1!==No.indexOf("ptengine_engage_editor_token");try{var Lo,Wo;!$o&&($o="ptengine_campaign_editor"===(on.win.name||(null===(Lo=on.win)||void 0===Lo?void 0:null===(Wo=Lo.parent)||void 0===Wo?void 0:Wo.name)))}catch(Uo){}if(window.ptengine&&!window.ptengine.__ptenginex&&!$o&&!Mo&&!Po&&ti()){window.ptengine.__ptenginex="1.0.0";var Ro=new Rn;if("complete"==document.readyState)Rr();else{var jo=window.onload;window.onload=function(){jo&&jo(),Rr()}}Xr(),localStorage.removeItem("ptx_engager_debug"),Ro.use(function Bo(d,e){Cn(),Cn(),d.send=function(e,t){var n=t.engagerId,r=t.engagerVerId,i=t.variant||{},a=t.triggerCondition;if("click"===e&&(a="click"),Qr()){var o=Yr.pageId,s=Yr.pageviewId,c={sid:s,uid:Yr.deviceId,vid:Yr.sessionId,pid:o,peid:s,ts:(new Date).getTime(),engagerId:n,engagerVerId:r,triggerCondition:a,engagerType:e,variant:i};on.win.PT_ENGAGE_IN_DEBUG&&(c.previewMode=!0,c.previewId=localStorage.getItem("ptx_previewId")||"");var u=d.engager||on.win.$$__ptx_engage_$;try{u.emit("send.engage",{name:"",id:n,versionId:r,action:e,properties:i})}catch(l){Dn("NullException",l)}}},Cn(),e()}).use(function Go(e,t){if(on.win.localStorage){Cn();var n=e.setting||[];Di(e,n),t()}else Cn()}).use(function zo(e,t){try{var n=new fo("ptEventReady",{bubbles:!1,cancelable:!1,detail:{}});n&&(on.win.Ptengine=function r(e){return function(){if(0!==arguments.length)switch(arguments[0]){case"showEngagement":ho("showEngagement",e,arguments[1]);break;case"toggleEngagement":ho("toggleEngagement",e,arguments[1])}else Cn()}}(e),on.doc.dispatchEvent&&"function"==typeof on.doc.dispatchEvent?on.doc.dispatchEvent(n):on.doc.fireEvent&&"function"==typeof on.doc.fireEvent&&on.doc.fireEvent(n))}catch(i){}t()}),-1===window.location.href.indexOf("preview_token=")&&Ao(Ro),lo(Ro),co(Ro),Ro.init()}}();
