var googletag=googletag||{};googletag.cmd=googletag.cmd||[];var positionDataTag="positiondata";var adUnitIdsMap={cfo:"/8456/IDG.US_E_CFOWorld.com",pcw:"/8456/IDG.US_CSMB_PCWorld.com",cio:"/8456/IDG.US_E_CIO.com",cit:"/8456/IDG.US_E_CITEworld.com",cso:"/8456/IDG.US_E_CSOOnline.com",grb:"/8456/IDG.US_CSMB_Greenbot.com",itn:"/8456/IDG.US_E_ITNews.com",jvw:"/8456/IDG.US_E_JavaWorld.com",mw:"/8456/IDG.US_CSMB_Macworld.com",nww:"/8456/IDG.US_E_NetworkWorld.com",th:"/8456/IDG.US_CSMB_TechHive.com",ans:"/8456/IDG.US_E_IDGAnswers.com",ifw:"/8456/IDG.US_E_Infoworld.com",itw:"/8456/IDG.US_E_ITworld.com",ctw:"/8456/IDG.US_E_Computerworld.com"};function getSrcCookie(){var nameEQ="src=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length)}}return null}function isElementAboveTheFold(el){var rect=el.getBoundingClientRect();return(rect.top<=(window.innerHeight||document.documentElement.clientHeight))}function isElementInViewport(elementId){var el=document.getElementById(elementId);if(typeof jQuery==="function"&&el instanceof jQuery){el=el[0]}var rect=el.getBoundingClientRect();return(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth))}function isVisible(node){var rect=node.getBoundingClientRect();return((rect.height>0||rect.width>0)&&rect.bottom>=0&&rect.right>=0&&rect.top<=(window.innerHeight||document.documentElement.clientHeight)&&rect.left<=(window.innerWidth||document.documentElement.clientWidth))}var isTabVisible=(function(){var stateKey,eventKey,keys={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(stateKey in keys){if(stateKey in document){eventKey=keys[stateKey];break}}return function(c){if(c){document.addEventListener(eventKey,c)}return !document[stateKey]}})();function buildPositionData(adposition){if(adLayer&&adLayer.itemType){var type=adLayer.itemType;var result=type+"_"+IDG.DEVICE.type+"_"+adposition;IDG.GPT.log(positionDataTag+" = "+result);return result}}var IDG=IDG||{};IDG.GPT={unitName:"",localIsMoble:false,welcomeFreqCap:false,isSlideshow:false,isSRA:true,disableInitialLoad:false,isNewHeader:false,isSharedHomepage:false,otherAds:{},displayQueue:[],googleCommandPush:function(functionToExecute,arg1,arg2,arg3,arg4){googletag.cmd.push(function(){functionToExecute(arg1,arg2,arg3,arg4)})},addOtherAd:function(key,value){IDG.GPT.otherAds[key]=value},getOtherAds:function(delimiter){return IDG.GPT.getDelimiterData(IDG.GPT.otherAds,delimiter)},extIMUCounter:1,addExtIMU:function(){IDG.GPT.extIMUCounter=IDG.GPT.extIMUCounter+1;IDG.GPT.addOtherAd("imu"+IDG.GPT.extIMUCounter,true)},IMUCounter:1,getIMUSlotName:function(){return"imu"+IDG.GPT.IMUCounter},getDelimiterData:function(dataSet,delimiter){let delimiterData="";for(let data in dataSet){delimiterData+=data+delimiter}return delimiterData.slice(0,delimiterData.lastIndexOf(delimiter))},loadedAdDimensions:{},modules:{},addModule:function(key,value){IDG.GPT.modules[key]=value},getModules:function(delimiter){return IDG.GPT.getDelimiterData(IDG.GPT.modules,delimiter)},displayedads:{},addDisplayedAd:function(key,value){IDG.GPT.displayedads[key]=value},getDisplayedAds:function(delimiter){return IDG.GPT.getDelimiterData(IDG.GPT.displayedads,delimiter)},lazyloadedads:{},addLazyloadedAd:function(key,value){IDG.GPT.lazyloadedads[key]=value},getLazyloadedAds:function(delimiter){return IDG.GPT.getDelimiterData(IDG.GPT.lazyloadedads,delimiter)},getLazyAdCode:function(dynamicAd){var adSlots="[[300,250]"+((IDG.GPT.getSize($thm.deviceWidth())==="desktop")?"]":", [300,50],[320,50]]");var adString='<code type="text/javascript"><!--IDG.GPT.IMUCounter = IDG.GPT.IMUCounter + 1;IDG.GPT.addDisplayedAd(IDG.GPT.getIMUSlotName(), "true");document.write(\'<div id="\' +IDG.GPT.getIMUSlotName() + \'" class="ad-container">\');IDG.GPT.defineGoogleTagSlot(IDG.GPT.getIMUSlotName(), '+adSlots+", false, "+dynamicAd+");document.write('</div>');$('#' + IDG.GPT.getIMUSlotName()).responsiveAd({screenSize:'971 1115', scriptTags: []}, "+dynamicAd+");if (Object.keys(IDG.GPT.companions).length > 0 || IDG.GPT.disableInitialLoad) { IDG.GPT.refreshAd(IDG.GPT.getIMUSlotName());}//--></code>";return adString},getLazyAdCodeRefreshed:function(dynamicAd){var adString2='<code type="text/javascript"><!--IDG.GPT.IMUCounter = IDG.GPT.IMUCounter + 1;IDG.GPT.addLazyloadedAd(IDG.GPT.getIMUSlotName(), "true");document.write(\'<div id="\' +IDG.GPT.getIMUSlotName() + \'" class="ad-container">\');IDG.GPT.defineGoogleTagSlot(IDG.GPT.getIMUSlotName(), [[300,250]], true, '+dynamicAd+");document.write('</div>');$('#' + IDG.GPT.getIMUSlotName()).responsiveAd({screenSize:'971 1115', scriptTags: []}, "+dynamicAd+");//--></code>";return adString2},slots:{},slotsOutOfPage:{},slotDefinitions:{},companions:{},refreshAd:function(slotName){if(typeof(slotName)=="undefined"){googletag.pubads().refresh()}else{if(typeof IDG.GPT.slotDefinitions[slotName]!=="undefined"){googletag.pubads().refresh([IDG.GPT.slotDefinitions[slotName]])}}},addSlot:function(key,value){IDG.GPT.slots[key]=value},addSlotOutOfPage:function(key,value){IDG.GPT.addSlot(key,value);IDG.GPT.slotsOutOfPage[key]=value},addCompanion:function(slotName,slotAdSize,wrapperSelector){IDG.GPT.companions[slotName]={size:slotAdSize,wrapperSelector:wrapperSelector||"#"+slotName}},targets:{},addTarget:function(key,value){IDG.GPT.targets[key]=value},defineGoogleTagSlot:function(slotName,slotAdSize,adSlotRefreshes,dynamicAd){if(IDG.GPT.unitName!=null&&IDG.GPT.unitName!=""&&slotName!=""){IDG.GPT.addDisplayedAd(slotName,"true");IDG.GPT.googleCommandPush(IDG.GPT._defineGoogleTagSlot,slotName,slotAdSize,adSlotRefreshes,dynamicAd)}},_defineGoogleTagSlot:function(slotName,slotAdSize,adSlotRefreshes,dynamicAd){try{if(IDG.GPT.adIsContained(slotName)||!IDG.GPT.isSRA||dynamicAd){IDG.GPT.slotDefinitions[slotName]=googletag.defineSlot(IDG.GPT.unitName,slotAdSize,slotName).addService(googletag.pubads());if(adSlotRefreshes){var refreshCounter=0;setInterval(function(){if(isTabVisible()){if(isVisible(document.getElementById(slotName))&&refreshCounter<4){googletag.pubads().refresh([IDG.GPT.slotDefinitions[slotName]]);refreshCounter++;console.log("refreshCounter for "+slotName+"="+refreshCounter)}}},30000)}}}catch(e){IDG.GPT.log("_defineGoogleTagSlot: "+e)}},displayGoogleTagSlot:function(slotName,dynamicAd){if(IDG.GPT.adIsContained(slotName)||!IDG.GPT.isSRA){if(IDG.GPT.unitName!=null&&IDG.GPT.unitName!=""&&slotName!=""){IDG.GPT.googleCommandPush(IDG.GPT._displayGoogleTagSlot,slotName)}}else{if(!IDG.GPT.adIsContained(slotName)&&dynamicAd){if(IDG.GPT.unitName!=null&&IDG.GPT.unitName!=""&&slotName!=""){IDG.GPT.googleCommandPush(IDG.GPT._displayGoogleTagSlot,slotName)}}}},_displayGoogleTagSlot:function(slotName,dynamicAd){googletag.cmd.push(function(){googletag.display(slotName)})},defineAllGoogleTagSlots:function(){if(IDG.GPT.unitName!=null&&IDG.GPT.unitName!=""){IDG.GPT.googleCommandPush(IDG.GPT._defineAllGoogleTagSlots,IDG.GPT.slots)}},_renderPos:function(slotName){let val=$thm.pos_values()[slotName.replace(/-/g,"_")];if(val){let size=IDG.GPT.getSize($thm.deviceWidth());return val[size]}else{if(slotName.indexOf("imu")>-1){var btfPos="BTF"+(slotName.replace(/imu/g,"")-1);return btfPos}else{return slotName}}},_defineAllGoogleTagSlots:function(slotArray){try{slotArray=IDG.GPT.filterSlotArray(slotArray);for(let slotName in slotArray){if(IDG.GPT.slots[slotName]!=null&&IDG.GPT.slots[slotName]!=""){var isCompanion=typeof IDG.GPT.companions[slotName]!="undefined";if(IDG.GPT.slotsOutOfPage[slotName]!=="undefined"&&IDG.GPT.slotsOutOfPage[slotName]){IDG.GPT.log(slotName+": isCompanion?"+isCompanion+" is Out Of Page");IDG.GPT.slotDefinitions[slotName]=googletag.defineOutOfPageSlot(IDG.GPT.unitName,slotName).setTargeting("pos",IDG.GPT._renderPos(slotName)).setTargeting(positionDataTag,buildPositionData(slotName)).addService(googletag.pubads())}else{IDG.GPT.log(slotName+": isCompanion?"+isCompanion+" is NOT OUT OF PAGE");if(slotName=="gpt-skin"||slotName=="inread"){if(isCompanion){IDG.GPT.slotDefinitions[slotName]=googletag.defineSlot(IDG.GPT.unitName,IDG.GPT.companions[slotName].size,slotName).addService(googletag.companionAds()).setTargeting("pos",IDG.GPT._renderPos(slotName)).setTargeting(positionDataTag,buildPositionData(slotName)).addService(googletag.pubads())}else{IDG.GPT.slotDefinitions[slotName]=googletag.defineSlot(IDG.GPT.unitName,IDG.GPT.slots[slotName],slotName).setTargeting(positionDataTag,buildPositionData(slotName)).setTargeting("pos",IDG.GPT._renderPos(slotName)).addService(googletag.pubads())}}else{if(isCompanion){IDG.GPT.slotDefinitions[slotName]=googletag.defineSlot(IDG.GPT.unitName,IDG.GPT.companions[slotName].size,slotName).addService(googletag.companionAds()).setTargeting(positionDataTag,buildPositionData(slotName)).setTargeting("pos",IDG.GPT._renderPos(slotName)).addService(googletag.pubads())}else{IDG.GPT.slotDefinitions[slotName]=googletag.defineSlot(IDG.GPT.unitName,IDG.GPT.slots[slotName],slotName).setTargeting(positionDataTag,buildPositionData(slotName)).setTargeting("pos",IDG.GPT._renderPos(slotName)).addService(googletag.pubads())}}}}}}catch(e){console.log("IDG.GPT Not Available: "+e)}},setAllGoogleTagTargetings:function(){IDG.GPT.googleCommandPush(IDG.GPT._setAllGoogleTagTargetings)},_setAllGoogleTagTargetings:function(){for(var targetName in IDG.GPT.targets){if(IDG.GPT.targets[targetName]!=null&&IDG.GPT.targets[targetName]!=""){googletag.pubads().setTargeting(targetName,IDG.GPT.targets[targetName])}}},initGoogleTagService:function(){IDG.GPT.googleCommandPush(IDG.GPT._initGoogleTagService)},_initGoogleTagService:function(){googletag.pubads().enableAsyncRendering();googletag.pubads().collapseEmptyDivs();if(IDG.GPT.isSRA){googletag.pubads().enableSingleRequest()}if(Object.keys(IDG.GPT.companions).length>0){googletag.companionAds().setRefreshUnfilledSlots(false);googletag.pubads().disableInitialLoad();googletag.pubads().enableVideoAds()}googletag.pubads().addEventListener("slotRenderEnded",function(event){if(event.isEmpty){IDG.GPT.log("AD IS EMPTY - Get slot element by ID: "+event.slot.getSlotElementId());$("#"+event.slot.getSlotElementId()).closest(".next-page.lazyload_ad_article").removeClass("apart ad");if(event.slot.getSlotElementId()=="small_leaderboard"){$(".slideshow article .slickSlideshow").removeClass("lead")}}else{IDG.GPT.log("Not empty AD - Get slot element by ID: "+event.slot.getSlotElementId());IDG.GPT.loadedAdDimensions[event.slot.getSlotElementId()]=event.size}});if(amazonAPSEnabled){IDG.GPT.disableInitialLoad=true;googletag.pubads().disableInitialLoad()}googletag.enableServices();IDG.GPT.log(".....enabled services.....")},_responsiveAdDisplay:function(id,dynamicAd){let currentAd=IDG.GPT.slotDefinitions[id];if(currentAd!=undefined){currentAd.setTargeting("pos",IDG.GPT._renderPos(id)).setTargeting(positionDataTag,buildPositionData(id));IDG.GPT.displayGoogleTagSlot(id,dynamicAd)}else{IDG.GPT.log("currentAd was undefined so no slot Definition for "+id)}},getParameterValue:function(paramString,paramName){let paramValue="";if(paramString&&paramString!="undefined"){let searchChars="[\\?&]"+paramName+"=([^&#]*)";let regularExp=new RegExp(searchChars);let searchResults=regularExp.exec(paramString);if(searchResults!=null&&searchResults.length>=1){paramValue=searchResults[1]}}return paramValue},getReferrerDomain:function(){let referrerDomain="";if(document.referrer&&document.referrer!="undefined"){let referrerString=document.referrer;referrerDomain=referrerString.match(/^http[s]?:\/\/[a-zA-Z0-9-_\.]+[\:]?[0-9]*?\//)}return String(referrerDomain)},getSearchEngineQuery:function(){let sQuery="";let referrerDomain=IDG.GPT.getReferrerDomain();if(referrerDomain!=""){let documentReferrer=document.referrer;if(referrerDomain.indexOf("google.com")!=-1){documentReferrer=documentReferrer.replace("#q=","?q=");sQuery=IDG.GPT.getParameterValue(documentReferrer,"q")}else{if(referrerDomain.indexOf("bing.com")!=-1){sQuery=IDG.GPT.getParameterValue(documentReferrer,"q")}else{if(referrerDomain.indexOf("yahoo.com")!=-1){sQuery=IDG.GPT.getParameterValue(documentReferrer,"p")}else{if(referrerDomain.indexOf("nww.com")!=-1){sQuery=IDG.GPT.getParameterValue(documentReferrer,"hpg1")}}}}}sQuery=sQuery.replace("+"," ");return sQuery},userAgentValue:function(){let browser="";if(/(iPad|iPhone)/.test(navigator.userAgent)){browser=RegExp.$1}return browser},setIDGExtraTargetings:function(){try{IDG.GPT.addTarget("referrer",IDG.GPT.getReferrerDomain());if(IDG.GPT.getPlace()=="homepage"||IDG.GPT.getPlace()=="index"){IDG.GPT.addTarget("fireplace","true")}var temp_browser=navigator.userAgent;if(temp_browser!=null&&temp_browser.indexOf("@")==-1&&temp_browser.indexOf("%40")==-1&&temp_browser.indexOf("%2540")==-1){IDG.GPT.addTarget("browser",temp_browser)}var tmp_squery=IDG.GPT.getSearchEngineQuery();if(tmp_squery!=null&&tmp_squery.indexOf("@")==-1&&tmp_squery.indexOf("%40")==-1&&tmp_squery.indexOf("%2540")==-1){IDG.GPT.addTarget("squery",IDG.GPT.getSearchEngineQuery())}IDG.GPT.addTarget("nlsource",IDG.GPT.getParameterValue(window.location.href,"source"));if(document.cookie.indexOf("nsdr")>-1){IDG.GPT.addTarget("insiderauth","yes")}else{IDG.GPT.addTarget("insiderauth","no")}IDG.GPT.addTarget("env",IDG.GPT.getParameterValue(window.location.href,"env"));if(typeof(isMobile)!="undefined"){IDG.GPT.localIsMoble=isMobile}if(IDG.GPT.localIsMoble){IDG.GPT.addTarget("mobile","true")}if(typeof(dogfish_type)!="undefined"&&dogfish_type!="(none)"){IDG.GPT.addTarget("type",dogfish_type)}}catch(e){}},getQsVal:function(name){if(window.location.search!=""){let qs=window.location.search.substring(1);let pairs=qs.split("&");for(let i=0;i<pairs.length;i++){let pair=pairs[i].split("=");if(pair[0]==name){return pair[1];break}}}return""},getAdUnitIdBySrc:function(src){let rtnValue=adUnitIdsMap.ans;if(src){let adUnitIdBySrc=adUnitIdsMap[src];if(adUnitIdBySrc){rtnValue=adUnitIdBySrc}}return rtnValue},isValidSource:function(src){let rtnValue=false;if(src){if(adUnitIdsMap[src]){rtnValue=true}}return rtnValue},addBiddingParams:function(name,param){IDG.GPT.params=IDG.GPT.params||{};IDG.GPT.params[name]=param},backfillCompanionIfEmpty:function(slotName){},backfillCompanionIfAllEmpty:function(slotName){},filterSlotArray:function(slotArray){let returnArray={};for(slot in slotArray){if(IDG.GPT.adIsContained(slot)||!IDG.GPT.isSRA){returnArray[slot]=slot}}return returnArray},getPlace:function(){let url=document.URL;if(url.toString().indexOf("/search")!=-1){return"search"}if(url.toString().indexOf("/about")!=-1||url.toString().indexOf("/newsletters")!=-1){return"about"}else{if(url.toString().indexOf("article")!=-1){if($("#slideshowCarousel").length){return"slideshow"}else{return"article"}}else{if(url.toString().indexOf("slideshow")!=-1){return"slideshow"}else{if(url.toString().indexOf("index")!=-1||url.toString().indexOf("news")!=-1||url.toString().indexOf("howto")!=-1||url.toString().indexOf("reviews")!=-1||url.toString().indexOf("opinion")!=-1||url.toString().indexOf("feature")!=-1||url.toString().indexOf("deals")!=-1||url.toString().indexOf("analysis")!=-1||url.toString().indexOf("dealpost")!=-1||url.toString().indexOf("tips")!=-1||url.toString().indexOf("news-analysis")!=-1||url.toString().indexOf("blog")!=-1||url.toString().indexOf("author")!=-1||url.toString().indexOf("interview")!=-1){return"index"}else{if(url.toString().indexOf("category")!=-1){if($(".tentpole").length){return"tentpole"}else{return"index"}}else{if(url.toString().indexOf("resource")!=-1){if(/\/resources\/\d/.test(url.toString())){return"resource_detail"}else{return"resources"}}else{if(url.toString().indexOf("video")!=-1){if(/\/video\/\d/.test(url.toString())){return"video"}else{return"video_index"}}else{if(url.toString().indexOf("podcasts")!=-1){return"index"}else{if(url.toString().indexOf("podcast")!=-1){return"podast_detail"}else{if(url.toString().indexOf("learn-about-insider")!=-1){return"index"}else{return"homepage"}}}}}}}}}}},adIsContained:function(slot){let place=IDG.GPT.getPlace();let filter=IDG.GPT.getFilter($thm.deviceWidth(),place);if(filter.indexOf(slot)>-1){return true}else{return false}},getFilter:function(width,place){let array=$thm.ads();let size=IDG.GPT.getSize(width);return array[place][size]},getSize:function(width){if(width>$thm.deviceBreakpoints.desktop){return"desktop"}else{if(width>$thm.deviceBreakpoints.mobile){return"tablet"}else{return"mobile"}}},getUrlParameter:function getUrlParameter(sParam){let sPageURL=decodeURIComponent(window.location.search.substring(1)),sURLVariables=sPageURL.split("&"),sParameterName,i;for(i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split("=");if(sParameterName[0]===sParam){return sParameterName[1]===undefined?true:sParameterName[1]}}},log:function(text){let log_on=this.getUrlParameter("log");if(log_on&&log_on.toUpperCase()=="TRUE"){console.log("%cIDG.GPT.LOG%c - %s","background:  #ff9900; color: #ffe6cc; font-weight: bold; padding: 3px","",text)}}};IDG.GPT.dfpAdManager={constructor:IDG.GPT.dfpAdManager,init:function(){this.adsizes={};this.adsizes.atf={};this.adsizes.btf={}},push:function(key,fold){if(this.has(key,fold)){this.adsizes[fold+""][key+""]=this.adsizes[fold+""][key+""]+1}else{this.adsizes[fold+""][key+""]=1}},has:function(key,fold){if(this.adsizes[fold+""].hasOwnProperty(key)){return true}return false},get:function(key,fold){return this.adsizes[fold][key]},all:function(fold){if(fold=="atf"||fold=="btf"){return this.adsizes[fold]}return this.adsizes},getCounter:function(sizes,fold){let counter=1;for(let i=0;i<sizes.length;i++){let key=sizes[i].getWidth()+"x"+sizes[i].getHeight();this.push(key,fold);let c=this.get(key,fold);if(c>counter){counter=c}}return counter}};(function($){$.fn.responsiveAd=function(options,dynamicAd){let opts=$.extend({screenSize:"all",counter:1},options);this.placeAds=function(screenSize){let id=this.attr("id");let placeAd=true;let debugmsg="placeAd:"+placeAd+", screenSize:"+screenSize+", id:"+id;IDG.GPT.log("RESPONSIVE AD: "+debugmsg);if(placeAd==true){let targetElement=document.getElementById(id);if(targetElement){IDG.GPT.googleCommandPush(IDG.GPT._responsiveAdDisplay,id,dynamicAd)}else{console.log("Looking for "+id+", but no element found")}}};return this.placeAds(opts.screenSize)}})(jQuery);