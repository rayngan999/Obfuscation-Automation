var DeviceAtlas,BELL;(function(n,t,i,r){"use strict";function hi(n,t,i){return setTimeout(li(n,i),t)}function it(n,t,i){return Array.isArray(n)?(v(n,i[t],i),!0):!1}function v(n,t,i){var u;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==r)for(u=0;u<n.length;)t.call(i,n[u],u,n),u++;else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function k(n,t,i){for(var f=Object.keys(t),u=0;u<f.length;)(!i||i&&n[f[u]]===r)&&(n[f[u]]=t[f[u]]),u++;return n}function ci(n,t){return k(n,t,!0)}function o(n,t,i){var u=t.prototype,r;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&k(r,i)}function li(n,t){return function(){return n.apply(t,arguments)}}function ai(n,t){return typeof n==fr?n.apply(t?t[0]||r:r,t):n}function er(n,t){return n===r?t:n}function pt(n,t,i){v(bt(t),function(t){n.addEventListener(t,i,!1)})}function wt(n,t,i){v(bt(t),function(t){n.removeEventListener(t,i,!1)})}function or(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1}function d(n,t){return n.indexOf(t)>-1}function bt(n){return n.trim().split(/\s+/g)}function rt(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function kt(n){return Array.prototype.slice.call(n,0)}function sr(n,t,i){for(var u=[],e=[],r=0,f;r<n.length;)f=t?n[r][t]:n[r],rt(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function dt(n,t){for(var i,u,e=t[0].toUpperCase()+t.slice(1),f=0;f<ur.length;){if(i=ur[f],u=i?i+e:t,u in n)return u;f++}return r}function hu(){return su++}function hr(n){var t=n.ownerDocument;return t.defaultView||t.parentWindow}function s(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){ai(n.options.enable,[n])&&i.handler(t)};this.init()}function vu(n){var t,i=n.options.inputClass;return t=i?i:cu?pi:lu?ri:cr?wi:ii,new t(n,yu)}function yu(n,t,i){var r=i.pointers.length,o=i.changedPointers.length,s=t&f&&r-o==0,h=t&(u|e)&&r-o==0;i.isFirst=!!s;i.isFinal=!!h;s&&(n.session={});i.eventType=t;pu(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function pu(n,t){var i=n.session,u=t.pointers,e=u.length,f;i.firstInput||(i.firstInput=vr(t));e>1&&!i.firstMultiple?i.firstMultiple=vr(t):e===1&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,s=r?r.center:o.center,h=t.center=yr(u);t.timeStamp=si();t.deltaTime=t.timeStamp-o.timeStamp;t.angle=yi(s,h);t.distance=ti(s,h);wu(i,t);t.offsetDirection=pr(t.deltaX,t.deltaY);t.scale=r?gu(r.pointers,u):1;t.rotation=r?du(r.pointers,u):0;bu(i,t);f=n.element;or(t.srcEvent.target,f)&&(f=t.srcEvent.target);t.target=f}function wu(n,t){var i=t.center,r=n.offsetDelta||{},e=n.prevDelta||{},o=n.prevInput||{};(t.eventType===f||o.eventType===u)&&(e=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=e.x+(i.x-r.x);t.deltaY=e.y+(i.y-r.y)}function bu(n,t){var i=n.lastInterval||t,c=t.timeStamp-i.timeStamp,f,o,s,h;if(t.eventType!=e&&(c>au||i.velocity===r)){var l=i.deltaX-t.deltaX,a=i.deltaY-t.deltaY,u=ku(c,l,a);o=u.x;s=u.y;f=ft(u.x)>ft(u.y)?u.x:u.y;h=pr(l,a);n.lastInterval=t}else f=i.velocity,o=i.velocityX,s=i.velocityY,h=i.direction;t.velocity=f;t.velocityX=o;t.velocityY=s;t.direction=h}function vr(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:tt(n.pointers[t].clientX),clientY:tt(n.pointers[t].clientY)},t++;return{timeStamp:si(),pointers:i,center:yr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function yr(n){var t=n.length;if(t===1)return{x:tt(n[0].clientX),y:tt(n[0].clientY)};for(var r=0,u=0,i=0;i<t;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:tt(r/t),y:tt(u/t)}}function ku(n,t,i){return{x:t/n||0,y:i/n||0}}function pr(n,t){return n===t?gt:ft(n)>=ft(t)?n>0?ot:st:t>0?ht:ct}function ti(n,t,i){i||(i=ar);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function yi(n,t,i){i||(i=ar);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.atan2(u,r)*180/Math.PI}function du(n,t){return yi(t[1],t[0],ni)-yi(n[1],n[0],ni)}function gu(n,t){return ti(t[0],t[1],ni)/ti(n[0],n[1],ni)}function ii(){this.evEl=tf;this.evWin=rf;this.allow=!0;this.pressed=!1;s.apply(this,arguments)}function pi(){this.evEl=wr;this.evWin=br;s.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function kr(){this.evTarget=of;this.evWin=sf;this.started=!1;s.apply(this,arguments)}function hf(n,t){var i=kt(n.touches),r=kt(n.changedTouches);return t&(u|e)&&(i=sr(i.concat(r),"identifier",!0)),[i,r]}function ri(){this.evTarget=gr;this.targetIds={};s.apply(this,arguments)}function cf(n,t){var r=kt(n.touches),o=this.targetIds;if(t&(f|g)&&r.length===1)return o[r[0].identifier]=!0,[r,r];var i,s,h=kt(n.changedTouches),c=[],l=this.target;if(s=r.filter(function(n){return or(n.target,l)}),t===f)for(i=0;i<s.length;)o[s[i].identifier]=!0,i++;for(i=0;i<h.length;)o[h[i].identifier]&&c.push(h[i]),t&(u|e)&&delete o[h[i].identifier],i++;if(c.length)return[sr(s.concat(c),"identifier",!0),c]}function wi(){s.apply(this,arguments);var n=li(this.handler,this);this.touch=new ri(this.manager,n);this.mouse=new ii(this.manager,n)}function ki(n,t){this.manager=n;this.set(t)}function lf(n){if(d(n,lt))return lt;var t=d(n,at),i=d(n,vt);return t&&i?at+" "+vt:t||i?t?at:vt:d(n,bi)?bi:ru}function p(n){this.id=hu();this.manager=null;this.options=ci(n||{},this.defaults);this.options.enable=er(this.options.enable,!0);this.state=ui;this.simultaneous={};this.requireFail=[]}function af(n){return n&yt?"cancel":n&w?"end":n&ut?"move":n&h?"start":""}function uu(n){return n==ct?"down":n==ht?"up":n==ot?"left":n==st?"right":""}function fi(n,t){var i=t.manager;return i?i.get(n):n}function c(){p.apply(this,arguments)}function ei(){c.apply(this,arguments);this.pX=null;this.pY=null}function di(){c.apply(this,arguments)}function gi(){p.apply(this,arguments);this._timer=null;this._input=null}function nr(){c.apply(this,arguments)}function tr(){c.apply(this,arguments)}function oi(){p.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function b(n,t){return t=t||{},t.recognizers=er(t.recognizers,b.defaults.preset),new rr(n,t)}function rr(n,t){t=t||{};this.options=ci(t,b.defaults);this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.element=n;this.input=vu(this);this.touchAction=new ki(this,this.options.touchAction);eu(this,!0);v(t.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function eu(n,t){var i=n.element;v(n.options.cssProps,function(n,r){i.style[dt(i.style,r)]=t?n:""})}function vf(n,i){var r=t.createEvent("Event");r.initEvent(n,!0,!0);r.gesture=i;i.target.dispatchEvent(r)}var ur=["","webkit","moz","MS","ms","o"],ou=t.createElement("div"),fr="function",tt=Math.round,ft=Math.abs,si=Date.now,su=1,cr="ontouchstart"in n,cu=dt(n,"PointerEvent")!==r,lu=cr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),et="touch",vi="mouse",au=25,f=1,g=2,u=4,e=8,gt=1,ot=2,st=4,ht=8,ct=16,l=ot|st,nt=ht|ct,lr=l|nt,ar=["x","y"],ni=["clientX","clientY"],dr,gr,fu,ir;s.prototype={handler:function(){},init:function(){this.evEl&&pt(this.element,this.evEl,this.domHandler);this.evTarget&&pt(this.target,this.evTarget,this.domHandler);this.evWin&&pt(hr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler);this.evTarget&&wt(this.target,this.evTarget,this.domHandler);this.evWin&&wt(hr(this.element),this.evWin,this.domHandler)}};var nf={mousedown:f,mousemove:g,mouseup:u},tf="mousedown",rf="mousemove mouseup";o(ii,s,{handler:function(n){var t=nf[n.type];(t&f&&n.button===0&&(this.pressed=!0),t&g&&n.which!==1&&(t=u),this.pressed&&this.allow)&&(t&u&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:vi,srcEvent:n}))}});var uf={pointerdown:f,pointermove:g,pointerup:u,pointercancel:e,pointerout:e},ff={2:et,3:"pen",4:vi,5:"kinect"},wr="pointerdown",br="pointermove pointerup pointercancel";n.MSPointerEvent&&(wr="MSPointerDown",br="MSPointerMove MSPointerUp MSPointerCancel");o(pi,s,{handler:function(n){var t=this.store,o=!1,h=n.type.toLowerCase().replace("ms",""),r=uf[h],s=ff[n.pointerType]||n.pointerType,c=s==et,i=rt(t,n.pointerId,"pointerId");(r&f&&(n.button===0||c)?i<0&&(t.push(n),i=t.length-1):r&(u|e)&&(o=!0),i<0)||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:s,srcEvent:n}),o&&t.splice(i,1))}});var ef={touchstart:f,touchmove:g,touchend:u,touchcancel:e},of="touchstart",sf="touchstart touchmove touchend touchcancel";o(kr,s,{handler:function(n){var i=ef[n.type],t;(i===f&&(this.started=!0),this.started)&&(t=hf.call(this,n,i),i&(u|e)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n}))}});dr={touchstart:f,touchmove:g,touchend:u,touchcancel:e};gr="touchstart touchmove touchend touchcancel";o(ri,s,{handler:function(n){var i=dr[n.type],t=cf.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n})}});o(wi,s,{handler:function(n,t,i){var r=i.pointerType==et,f=i.pointerType==vi;if(r)this.mouse.allow=!1;else if(f&&!this.mouse.allow)return;t&(u|e)&&(this.mouse.allow=!0);this.callback(n,t,i)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var nu=dt(ou.style,"touchAction"),tu=nu!==r,iu="compute",ru="auto",bi="manipulation",lt="none",at="pan-x",vt="pan-y";ki.prototype={set:function(n){n==iu&&(n=this.compute());tu&&(this.manager.element.style[nu]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return v(this.manager.recognizers,function(t){ai(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),lf(n.join(" "))},preventDefaults:function(n){var t,i;if(!tu){if(t=n.srcEvent,i=n.offsetDirection,this.manager.session.prevented){t.preventDefault();return}var r=this.actions,u=d(r,lt),f=d(r,vt),e=d(r,at);if(u||f&&i&l||e&&i&nt)return this.preventSrc(t)}},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var ui=1,h=2,ut=4,w=8,y=w,yt=16,a=32;p.prototype={defaults:{},set:function(n){return k(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(it(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=fi(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return it(n,"dropRecognizeWith",this)?this:(n=fi(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(it(n,"requireFailure",this))return this;var t=this.requireFail;return n=fi(n,this),rt(t,n)===-1&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(it(n,"dropRequireFailure",this))return this;n=fi(n,this);var t=rt(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function i(i){r.manager.emit(r.options.event+(i?af(t):""),n)}var r=this,t=this.state;t<w&&i(!0);i();t>=w&&i(!0)},tryEmit:function(n){if(this.canEmit())return this.emit(n);this.state=a},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(a|ui)))return!1;n++}return!0},recognize:function(n){var t=k({},n);if(!ai(this.options.enable,[this,t])){this.reset();this.state=a;return}this.state&(y|yt|a)&&(this.state=ui);this.state=this.process(t);this.state&(h|ut|w|yt)&&this.tryEmit(t)},process:function(){},getTouchAction:function(){},reset:function(){}};o(c,p,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return t===0||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(h|ut),f=this.attrTest(n);return r&&(i&e||!f)?t|yt:r||f?i&u?t|w:(t&h)?t|ut:h:a}});o(ei,c,{defaults:{event:"pan",threshold:10,pointers:1,direction:lr},getTouchAction:function(){var t=this.options.direction,n=[];return t&l&&n.push(vt),t&nt&&n.push(at),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&l?(t=f===0?gt:f<0?ot:st,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=e===0?gt:e<0?ht:ct,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return c.prototype.attrTest.call(this,n)&&(this.state&h||!(this.state&h)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=uu(n.direction);t&&this.manager.emit(this.options.event+t,n);this._super.emit.call(this,n)}});o(di,c,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&h)},emit:function(n){if(this._super.emit.call(this,n),n.scale!==1){var t=n.scale<1?"in":"out";this.manager.emit(this.options.event+t,n)}}});o(gi,p,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[ru]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,o=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(u|e)&&!o)this.reset();else if(n.eventType&f)this.reset(),this._timer=hi(function(){this.state=y;this.tryEmit()},t.time,this);else if(n.eventType&u)return y;return a},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===y&&(n&&n.eventType&u?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=si(),this.manager.emit(this.options.event,this._input)))}});o(nr,c,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&h)}});o(tr,c,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:l|nt,pointers:1},getTouchAction:function(){return ei.prototype.getTouchAction.call(this)},attrTest:function(n){var t=this.options.direction,i;return t&(l|nt)?i=n.velocity:t&l?i=n.velocityX:t&nt&&(i=n.velocityY),this._super.attrTest.call(this,n)&&t&n.direction&&n.distance>this.options.threshold&&ft(i)>this.options.velocity&&n.eventType&u},emit:function(n){var t=uu(n.direction);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});o(oi,p,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[bi]},process:function(n){var t=this.options,o=n.pointers.length===t.pointers,s=n.distance<t.threshold,c=n.deltaTime<t.time,i,r,e;if(this.reset(),n.eventType&f&&this.count===0)return this.failTimeout();if(s&&c&&o){if(n.eventType!=u)return this.failTimeout();if(i=this.pTime?n.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||ti(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,e=this.count%t.taps,e===0)return this.hasRequireFailures()?(this._timer=hi(function(){this.state=y;this.tryEmit()},t.interval,this),h):y}return a},failTimeout:function(){return this._timer=hi(function(){this.state=a},this.options.interval,this),a},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==y&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});b.VERSION="2.0.4";b.defaults={domEvents:!1,touchAction:iu,enable:!0,inputTarget:null,inputClass:null,preset:[[nr,{enable:!1}],[di,{enable:!1},["rotate"]],[tr,{direction:l}],[ei,{direction:l},["swipe"]],[oi],[oi,{event:"doubletap",taps:2},["tap"]],[gi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};fu=1;ir=2;rr.prototype={set:function(n){return k(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?ir:fu},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&y)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped!==ir&&(!t||i==t||i.canRecognizeWith(t))?i.recognize(n):i.reset(),!t&&i.state&(h|ut|w)&&(t=r.curRecognizer=i),u++},get:function(n){var i,t;if(n instanceof p)return n;for(i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(it(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(it(n,"remove",this))return this;var t=this.recognizers;return n=this.get(n),t.splice(rt(t,n),1),this.touchAction.update(),this},on:function(n,t){var i=this.handlers;return v(bt(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this},off:function(n,t){var i=this.handlers;return v(bt(n),function(n){t?i[n].splice(rt(i[n],t),1):delete i[n]}),this},emit:function(n,t){var i,r;if(this.options.domEvents&&vf(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&eu(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};k(b,{INPUT_START:f,INPUT_MOVE:g,INPUT_END:u,INPUT_CANCEL:e,STATE_POSSIBLE:ui,STATE_BEGAN:h,STATE_CHANGED:ut,STATE_ENDED:w,STATE_RECOGNIZED:y,STATE_CANCELLED:yt,STATE_FAILED:a,DIRECTION_NONE:gt,DIRECTION_LEFT:ot,DIRECTION_RIGHT:st,DIRECTION_UP:ht,DIRECTION_DOWN:ct,DIRECTION_HORIZONTAL:l,DIRECTION_VERTICAL:nt,DIRECTION_ALL:lr,Manager:rr,Input:s,TouchAction:ki,TouchInput:ri,MouseInput:ii,PointerEventInput:pi,TouchMouseInput:wi,SingleTouchInput:kr,Recognizer:p,AttrRecognizer:c,Tap:oi,Pan:ei,Swipe:tr,Pinch:di,Rotate:nr,Press:gi,on:pt,off:wt,each:v,merge:ci,extend:k,inherit:o,bindFn:li,prefixed:dt});typeof define==fr&&define.amd?define(function(){return b}):typeof module!="undefined"&&module.exports?module.exports=b:n[i]=b})(window,document,"Hammer"),function(n,t){"use strict";function o(n){this.time=n.time;this.target=n.target;this.rootBounds=n.rootBounds;this.boundingClientRect=n.boundingClientRect;this.intersectionRect=n.intersectionRect||f();this.isIntersecting=!!n.intersectionRect;var t=this.boundingClientRect,i=t.width*t.height,r=this.intersectionRect,u=r.width*r.height;this.intersectionRatio=i?Number((u/i).toFixed(4)):this.isIntersecting?1:0}function i(n,t){var i=t||{};if(typeof n!="function")throw new Error("callback must be a function");if(i.root&&i.root.nodeType!=1)throw new Error("root must be an Element");this._checkForIntersections=a(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=n;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(i.rootMargin);this.thresholds=this._initThresholds(i.threshold);this.root=i.root||null;this.rootMargin=this._rootMarginValues.map(function(n){return n.value+n.unit}).join(" ")}function l(){return n.performance&&performance.now&&performance.now()}function a(n,t){var i=null;return function(){i||(i=setTimeout(function(){n();i=null},t))}}function s(n,t,i,r){typeof n.addEventListener=="function"?n.addEventListener(t,i,r||!1):typeof n.attachEvent=="function"&&n.attachEvent("on"+t,i)}function h(n,t,i,r){typeof n.removeEventListener=="function"?n.removeEventListener(t,i,r||!1):typeof n.detatchEvent=="function"&&n.detatchEvent("on"+t,i)}function v(n,t){var i=Math.max(n.top,t.top),r=Math.min(n.bottom,t.bottom),u=Math.max(n.left,t.left),f=Math.min(n.right,t.right),e=f-u,o=r-i;return e>=0&&o>=0&&{top:i,bottom:r,left:u,right:f,width:e,height:o}}function u(n){var t;try{t=n.getBoundingClientRect()}catch(i){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):f()}function f(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(n,t){for(var i=t;i;){if(i==n)return!0;i=e(i)}return!1}function e(n){var t=n.parentNode;return t&&t.nodeType==11&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}if("IntersectionObserver"in n&&"IntersectionObserverEntry"in n&&"intersectionRatio"in n.IntersectionObserverEntry.prototype){"isIntersecting"in n.IntersectionObserverEntry.prototype||Object.defineProperty(n.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}var r=[];i.prototype.THROTTLE_TIMEOUT=100;i.prototype.POLL_INTERVAL=null;i.prototype.USE_MUTATION_OBSERVER=!0;i.prototype.observe=function(n){var t=this._observationTargets.some(function(t){return t.element==n});if(!t){if(!(n&&n.nodeType==1))throw new Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:n,entry:null});this._monitorIntersections();this._checkForIntersections()}};i.prototype.unobserve=function(n){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=n});this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())};i.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();this._unregisterInstance()};i.prototype.takeRecords=function(){var n=this._queuedEntries.slice();return this._queuedEntries=[],n};i.prototype._initThresholds=function(n){var t=n||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(n,t,i){if(typeof n!="number"||isNaN(n)||n<0||n>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return n!==i[t-1]})};i.prototype._parseRootMargin=function(n){var i=n||"0px",t=i.split(/\s+/).map(function(n){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(n);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t};i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(s(n,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,h(n,"resize",this._checkForIntersections,!0),h(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))};i.prototype._checkForIntersections=function(){var n=this._rootIsInDom(),t=n?this._getRootRect():f();this._observationTargets.forEach(function(i){var r=i.element,h=u(r),s=this._rootContainsTarget(r),f=i.entry,c=n&&s&&this._computeTargetAndRootIntersection(r,t),e=i.entry=new o({time:l(),target:r,boundingClientRect:h,rootBounds:t,intersectionRect:c});f?n&&s?this._hasCrossedThreshold(f,e)&&this._queuedEntries.push(e):f&&f.isIntersecting&&this._queuedEntries.push(e):this._queuedEntries.push(e)},this);this._queuedEntries.length&&this._callback(this.takeRecords(),this)};i.prototype._computeTargetAndRootIntersection=function(i,r){var o,h;if(n.getComputedStyle(i).display!="none"){for(var l=u(i),s=l,f=e(i),c=!1;!c;){if(o=null,h=f.nodeType==1?n.getComputedStyle(f):{},h.display=="none")return;if(f==this.root||f==t?(c=!0,o=r):f!=t.body&&f!=t.documentElement&&h.overflow!="visible"&&(o=u(f)),o&&(s=v(o,s),!s))break;f=e(f)}return s}};i.prototype._getRootRect=function(){var r,n,i;return this.root?r=u(this.root):(n=t.documentElement,i=t.body,r={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}),this._expandRectByRootMargin(r)};i.prototype._expandRectByRootMargin=function(n){var i=this._rootMarginValues.map(function(t,i){return t.unit=="px"?t.value:t.value*(i%2?n.width:n.height)/100}),t={top:n.top-i[0],right:n.right+i[1],bottom:n.bottom+i[2],left:n.left-i[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t};i.prototype._hasCrossedThreshold=function(n,t){var u=n&&n.isIntersecting?n.intersectionRatio||0:-1,f=t.isIntersecting?t.intersectionRatio||0:-1,r,i;if(u!==f)for(r=0;r<this.thresholds.length;r++)if(i=this.thresholds[r],i==u||i==f||i<u!=i<f)return!0};i.prototype._rootIsInDom=function(){return!this.root||c(t,this.root)};i.prototype._rootContainsTarget=function(n){return c(this.root||t,n)};i.prototype._registerInstance=function(){r.indexOf(this)<0&&r.push(this)};i.prototype._unregisterInstance=function(){var n=r.indexOf(this);n!=-1&&r.splice(n,1)};n.IntersectionObserver=i;n.IntersectionObserverEntry=o}(window,document);DeviceAtlas=DeviceAtlas||{};DeviceAtlas=function(n,t,i){var r={apiVersion:"1.9.1",propsCache:"",cookieName:DeviceAtlas.cookieName||"DAPROPS",cookieExpiryDays:DeviceAtlas.cookieExpiryDays||1,cookieDomain:DeviceAtlas.cookieDomain||null,cookiePath:DeviceAtlas.cookiePath||"/",onPropertiesUpdate:typeof DeviceAtlas.onPropertiesUpdate=="function"?DeviceAtlas.onPropertiesUpdate:function(){},divStyle:null,debug:DeviceAtlas.debug||!1,ns:{svg:"http://www.w3.org/2000/svg"},cssPrfxs:["Webkit","Moz","O","ms","Khtml"],fncPrfxs:["webkit","moz","o","ms","khtml"],properties:DeviceAtlas.properties||{},getPropertiesAsString:function(){return this.propsCache},testCustomProperties:function(){d()},getBattery:function(){return typeof this.battery=="undefined"?null:this.battery}},p=typeof r.debug=="function"?r.debug:r.debug?console.log:function(){},u={},f={devicePixelRatio:function(){var t=1;try{t=n.devicePixelRatio}catch(i){}return t+""},"js.deviceOrientation":function(){return"js.deviceOrientation"in u?u["js.deviceOrientation"]:!1},deviceAspectRatio:function(){var n=["2/3","40/71","3/4","16/9","16/10","375/667","9/16","10/16","375/812","207/448"],t=w();return t&&n.push(t),s("device-aspect-ratio",n)},"js.webGlRenderer":function(){var i,n,r,u;return h()?(i=t.createElement("canvas"),n=i.getContext("webgl")||i.getContext("experimental-webgl"),!n)?null:(r=n.getExtension("WEBGL_debug_renderer_info"),r&&(u=n.getParameter(r.UNMASKED_RENDERER_WEBGL),u))?u:null:null},screenWidthHeight:function(){try{return n.screen.width+"/"+n.screen.height}catch(t){}return!1},rendererRef:function(){if(!h())return null;var i=t.createElement("canvas"),n=i.getContext("2d"),r="DeviceAtlas";return n.textBaseline="top",n.font="16px 'Arial'",n.textBaseline="alphabetic",n.rotate(.05),n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.fillText(r,2,15),n.fillStyle="rgba(102, 200, 0, 0.7)",n.fillText(r,4,17),n.shadowBlur=10,n.shadowColor="blue",n.rotate(-.15),n.fillRect(-20,25,234,5),(s("color-gamut",["p3"])==="p3"?"1":"0")+c(i.toDataURL())},audioRef:function(){var i,r,t;if("audioRef"in u)return u.audioRef;i=null;try{if(i=new(n.OfflineAudioContext||n.webkitOfflineAudioContext)(1,44100,44100),!i)return;r=i.createOscillator();r.type="triangle";r.frequency.value=1e4;t=i.createDynamicsCompressor();t.threshold&&(t.threshold.value=-50);t.knee&&(t.knee.value=40);t.ratio&&(t.ratio.value=12);t.reduction&&(t.reduction.value=-20);t.attack&&(t.attack.value=0);t.release&&(t.release.value=.25);r.connect(t);t.connect(i.destination);r.start(0);i.startRendering();i.oncomplete=function(n){for(var i=!1,r=0;r<n.renderedBuffer.length;r++)i=c(n.renderedBuffer.getChannelData(0)[r].toString(),i);i&&e("audioRef",i,!0);t.disconnect()}}catch(f){}}},s=function(t,i){var r,u;if(typeof n.matchMedia=="undefined")return null;for(r in i)if(u=n.matchMedia("("+t+":"+i[r]+")"),u.matches)return i[r]+"";return null},w=function(){try{return n.screen.width+"/"+n.screen.height}catch(t){}return!1},h=function(){return!!n.CanvasRenderingContext2D},c=function(n,t){var r=n.length,i;for(t=t||5381,i=0;i<r;i++)t=t*33^n.charCodeAt(i);return String(t>>>0)},b=function(){if(!!n.addEventListener&&!!n.removeEventListener){var t=function(i){i!=null&&i.alpha!=null&&e("js.deviceOrientation",!0);n.removeEventListener("deviceorientation",t,!1)};n.addEventListener("deviceorientation",t,!1)}},k=function(){for(var n in f)l(n)},d=function(){var t=!1;for(var n in r.properties)t=!0,f[n]=r.properties[n],l(n);t&&(y(),o(u))},l=function(n){var t,i;try{t=f[n]()}catch(r){p(r)}if(t==null||typeof t=="undefined"){if(i=u[n],i==null||typeof i=="undefined")return;t=i}e(n,t)},g=function(){b()},e=function(n,t,i){i=i||!1;var f;n.indexOf(".")!=-1?(f=n.split("."),typeof r[f[0]]=="undefined"&&(r[f[0]]={}),r[f[0]][f[1]]=t):r[n]=t;u[n]=t;o(u);i&&DeviceAtlas.onPropertiesUpdate(u,r.getPropertiesAsString())},nt=function(n,t){return typeof t=="boolean"?"b":typeof t=="number"?"i":"s"},a=function(){return typeof i.cookieEnabled=="undefined"&&typeof t.cookie=="string"?!0:!!i.cookieEnabled},o=function(n){var i,u;a()&&(i=new Date,i.setDate(i.getDate()+r.cookieExpiryDays),u="",r.cookieDomain!=null&&(u=";domain="+r.cookieDomain),r.propsCache=v(n),t.cookie=r.cookieName+'="'+r.propsCache+'";expires='+i.toUTCString()+";path="+r.cookiePath+u)},v=function(n){var u="",i;for(var t in n)i=nt(t,n[t]),u+=i+t+":"+(i=="b"?n[t]+0:n[t])+"|";return u+"sversion:"+r.apiVersion+"|bE:0"},y=function(){r.propsCache=v(u)},tt=function(n){for(var r,i,f,e=n+"=",o=t.cookie.split(";"),u=0;u<o.length;u++){for(r=o[u];r.charAt(0)==" ";)r=r.substring(1);if(r.indexOf(e)==0)return i=r.substring(e.length,r.length),i.charAt(0)=='"'&&(i=i.substr(1)),f=i.length-1,i[f]=='"'&&(i=i.substring(0,f)),i}return""},it=function(n){var t,e,i,f;if(!n)return{};for(t={},e=n.split("|"),i=0;i<e.length;i++){var r=e[i],o=r.indexOf(":"),s=r.substr(0,1),u=r.substr(1,o-1);if(u!="E"){f=r.substring(o+1);switch(s){case"i":t[u]=f*1;break;case"b":t[u]=!!(f*1);break;default:t[u]=f}}}return t},rt=function(){propsCache=function(){return a()?tt(r.cookieName):""}();u=it(propsCache)},ut=function(){rt();g();k();y();o(u);r.onPropertiesUpdate(u,r.getPropertiesAsString())};return ut(),r}(window,document,navigator);DeviceAtlas.testCustomProperties();BELL=function(n,t){return n.rsx=n.rsx||{},n.rsx.province=typeof t('meta[name="province"]').attr("content")!="undefined"?t('meta[name="province"]').attr("content").toLowerCase():"",n.rsx.language=typeof t('meta[name="language"]').attr("content")!="undefined"?t('meta[name="language"]').attr("content").toLowerCase():"",n.rsx.colSelector='[class*="col-xs-"], [class*="col-sm-"], [class*="col-md-"], [class*="col-lg-"]',n.rsx.flexSelector=".rsx-flex, .rsx-flex-xs, .rsx-flex-sm, .rsx-flex-md, .rsx-flex-lg",n.rsx.breakpoints={xs:{min:0,max:519},sm:{min:520,mid:640,max:999},md:{min:1e3,max:1239},lg:{min:1240,max:null}},n.rsx.defaultXhrTimeout=7500,n.rsx.defaultXhrError=function(){console.error("Could not contact server.")},n.rsx.maxProductsPerPageConfig={devices:{phone:4,tablet:8,desktop:12},accessories:{phone:8,tablet:8,desktop:12},equipment:{phone:3,tablet:4,desktop:8}},n.rsx.maxItemsPerPage_Desktop_smb=14,n.rsx.maxItemsPerPage_smb=function(){return Modernizr.mq("only screen and (max-width: "+n.rsx.breakpoints.xs.max+"px)")?n.rsx.maxItemsPerPage_Phone:Modernizr.mq("only screen and (max-width: "+n.rsx.breakpoints.sm.max+"px)")?n.rsx.maxItemsPerPage_Tablet:n.rsx.maxItemsPerPage_Desktop_smb},n.rsx.maxAccessoriesPerPage_Phone=8,n.rsx.maxAccessoriesPerPage=function(){return Modernizr.mq("only screen and (max-width: "+n.rsx.breakpoints.xs.max+"px)")?n.rsx.maxAccessoriesPerPage_Phone:Modernizr.mq("only screen and (max-width: "+n.rsx.breakpoints.sm.max+"px)")?n.rsx.maxItemsPerPage_Tablet:n.rsx.maxItemsPerPage_Desktop},n.rsx.ProductsPerPage=function(t){var t=t,i=function(t){return Modernizr.mq("only screen and (max-width: "+n.rsx.breakpoints.xs.max+"px)")?t.phone:Modernizr.mq("only screen and (max-width: "+n.rsx.breakpoints.sm.max+"px)")?t.tablet:t.desktop},r=function(){return n.rsx.maxProductsPerPageConfig[t]?i(n.rsx.maxProductsPerPageConfig[t]):i(n.rsx.maxProductsPerPageConfig.devices)};return{max:r}},n.rsx.modalOpenedOnLoad=!1,n.rsx.transitionTime=500,n}(BELL||{},jQRSX),function(n,t){return n.rsx=n.rsx||{},n.rsx.modalSwitch={TRIGGER:'[data-nonresponsive-warning="true"]',$modalSelector:"#modal-switch",$goToFullSiteBtn:"#goToFullSiteBtn",init:function(){var n=this;t(document).on("click",n.TRIGGER,function(i){if(t(n.$modalSelector).length>0){i.preventDefault();var r=t(i.target).closest("a").attr("href");t(".rsx-modal.rsx-active").length>0&&t(".rsx-modal.rsx-active").modal("close");t(n.$modalSelector).modal("open");t(n.$goToFullSiteBtn).attr("href",r)}})}},n}(BELL||{},jQRSX);BELL=function(n,t){return n.rsx=n.rsx||{},n.rsx.video={CLASS_OPEN:"rsx-open",CLASS_CLOSING:"rsx-closing",YT_SRC:"//www.youtube.com/embed/#ytCode#?wmode=transparent&amp;rel=0&amp;controls=1&amp;autohide=1&amp;autoplay=1&amp;showinfo=0&amp;modestbranding=1&amp;theme=dark&amp;enablejsapi=1&amp;autoplay=1&fs=0;&amp;origin=http%3A%2F%2Fwww.bell.ca",$player:t("#rsx-video-player"),$video:t("#rsx-video-player iframe"),$btnClose:t("#rsx-video-player-close"),init:function(){t(document).on("click",'a[data-trigger="video"]',this.open.bind(this));t(document).on("focusin",this._trapFocus.bind(this));this.$btnClose.on("click",this.close.bind(this));t(document).on("click","#rsx-video-player-modal .rsx-modal-close",function(){t("#rsx-video-player-modal").modal("close");navigator.userAgent.indexOf("MSIE ")>0||navigator.appName==="Microsoft Internet Explorer"?(document.getElementById("video").pause(),document.getElementById("video").src=""):(t("#rsx-video-player-modal video")[0].pause(),t("#rsx-video-player-modal source").attr("src",""),t("#rsx-video-player-modal embed").attr("src",""))})},open:function(n){n.preventDefault();this.copyIframe||(this.copyIframe=this.$video);this.$trigger=t(n.currentTarget);this.$trigger.attr("href").toLowerCase().indexOf("http://images.tvonline.bell.ca")>=0?(t("#rsx-video-player-modal source").attr("src",t(n.currentTarget).attr("href")),t("#rsx-video-player-modal embed").attr("src",t(n.currentTarget).attr("href")),t("#rsx-video-player-modal").modal("open"),t("#rsx-video-player-modal").css({top:t("#rsx-video-player-modal").height()/2-t("#video").height()/2}),t("#rsx-video-player-modal video").load(),t("#rsx-video-player-modal video")[0].play()):(this.$video.attr("src",this.YT_SRC.replace("#ytCode#",t(n.currentTarget).attr("href"))),this.$player.addClass(this.CLASS_OPEN));t("#rsx-video-player-close").focus()},close:function(t){t.preventDefault();this.$trigger.focus();this.$player.addClass(this.CLASS_CLOSING);setTimeout(function(){this.$player.removeClass(this.CLASS_CLOSING).removeClass(this.CLASS_OPEN);this.$video.attr("src","");this.copyIframe&&(this.$video.remove(),this.copyIframe.insertAfter(this.$btnClose));this.$trigger.focus()}.bind(this),n.rsx.transitionTime)},_trapFocus:function(){this.$player.hasClass("rsx-open")&&document!==event.target&&this.$player!==event.target&&t(this.$player).has(event.target).length===0&&t("#rsx-video-player-close").focus()}},n}(BELL||{},jQRSX);BELL=function(n,t){return n.rsx=n.rsx||{},n.rsx.scroll={DEFAULT_SCROLL_OFFSET:-25,DEFAULT_SCROLL_SPEED:500,DEFAULT_SCROLL_STYLE:"swing",init:function(){var n=this;t("[data-scroll-target-id]").on("click",function(i){i.preventDefault();var r,u=t(this).data("scroll-target-id"),f=String(t(this).data("scroll-strict")).toLowerCase()==="true";r=n.getPosition(u,f);n.scrollTo(r)})},scrollTo:function(n,i,r,u){return i=typeof i=="number"?i:this.DEFAULT_SCROLL_SPEED,r=typeof r=="string"?r:this.DEFAULT_SCROLL_STYLE,u=typeof u=="number"?u:this.DEFAULT_SCROLL_OFFSET,n instanceof t&&(n=n.first().offset().top+u),t("html, body").stop().animate({scrollTop:n},i,r),!0},getPosition:function(n,i){var u=this,r;if(i=typeof i=="boolean"?i:!1,n=isNaN(n)?n:parseInt(n,10),typeof n=="string"&&(r=n.charAt(0)==="#"?u.getScrollPositionByID(n):u.getPresetPosition(n)),typeof r!="number")throw"Position must be a number: "+r;if(r>=0&&r<=t(document).height())return r;if(i===!1){if(r<0)return 0;if(r>=t(document).height())return t(document).height()}return!1},getScrollPositionByID:function(n){var r=this,i=t(n);return i.length<=0?!1:i.offset().top},getPresetPosition:function(n){var r=this,i;switch(n){case"top":i=0;break;case"bottom":i=t(document).height();case"middle":i=i/2;break;default:return!1}return i}},n}(BELL||{},jQRSX),function(n,t){t.widget("rsx.accordion",{version:"1.0.0",widgetEventPrefix:"accordion",options:{multipleOpen:!0,openOnLoad:!1,defaultSection:0,section:".rsx-accordion-section, .rsx-expandable-section",content:".rsx-accordion-content, .rsx-expandable-section-content",toggle:".rsx-accordion-header, .rsx-expandable-section-header",transitionDuration:500},_create:function(){var n=this;this.$sections=this.element.children(this.options.section);this.sections=this._buildSectionMap();this.$toggle=this.element.find(this.options.toggle);this.swapText=this.$toggle.data("accordionSwapText");this.originalText=!1;this.$sections.find(".rsx-expandable-section-header").attr({"aria-expanded":"false"});this.$sections.find(".rsx-expandable-section-content").attr({"aria-hidden":"true"});typeof this.swapText=="string"&&this.swapText.length>0&&(this.originalText=this.$toggle.text(),this.$toggle.data("accordionOpen",!1));this.options.openOnLoad===!0?this.options.multipleOpen===!0?t(this.sections).each(function(t){this.isOpen&&n.openSection(t,!1)}):this.openSection(this.options.defaultSection):this.closeSection(-1);this._on(this.element.find(this.options.toggle),{click:function(n){var i=t(n.target).closest(this.options.section).data("section-index");this.toggleSection(i)},keydown:function(n){if(n.which===13){var i=t(n.target).closest(this.options.section).data("section-index");this.toggleSection(i)}}})},_buildSectionMap:function(){var n=this,i=[],r=!1;return this.$sections.each(function(u,f){var e=t(f),s,o;i.push({$element:e,isOpen:e.hasClass("rsx-active")});s=e.find(".rsx-expandable-section-header").attr("aria-label");typeof s!="undefined"&&e.find(".rsx-expandable-section-header").data("aria-label-original",s);n.options.multipleOpen===!1&&(r===!1?r=!0:i[u].isOpen===!0&&(o=i[u].$element,n._trigger("collapsing",n,{section:o}),o.removeClass("rsx-active"),i[u].isOpen=!1,n._trigger("collapsed",n,{section:o})));e.data("section-index",u)}),i},openSection:function(n,i){var u=this,r,f,e,o;i=typeof i=="boolean"?i:!0;i===!0&&this.options.multipleOpen===!1&&this.closeSection(-1);n===-1?t.each(u.sections,function(n){u.openSection(n,!1)}):typeof n=="object"?t.each(n,function(n,t){u.openSection(t,!1)}):typeof n=="number"&&(r=this.sections[n],r.$element.removeClass("rsx-expandable-section_collapsed"),u._trigger("expanding",u,{section:r}),r.$element.addClass("rsx-active"),r.isOpen=!0,u._trigger("expanded",u,{section:r}),f=r.$element.find(".rsx-expandable-section-header"),e=r.$element.find(".rsx-expandable-section-content"),f.attr({"aria-expanded":"true"}),e.attr({"aria-hidden":"false"}),f.attr("aria-label")!=="undefined"&&typeof f.data("aria-label-original")!="undefined"&&(o=f.attr("aria-label"),f.attr("aria-label","Collapse "+f.data("aria-label-original"))),this.$toggle.data("accordionOpen")===!1&&typeof this.originalText=="string"&&(this.$toggle.data("accordionOpen",!0),this.$toggle.get(0).lastChild.nodeValue=this.swapText))},closeSection:function(n){var i=this,u,f,o;if(n===-1)t.each(this.sections,function(n){i.closeSection(n)});else if(typeof n=="object")t.each(n,function(n,t){i.closeSection(t)});else if(typeof n=="number"){var i=this,r=this.sections[n],e=window.setTimeout(function(){r.$element.addClass("rsx-expandable-section_collapsed");window.clearTimeout(e)},i.options.transitionDuration);i._trigger("collapsing",i,{section:r});r.$element.removeClass("rsx-active");r.isOpen=!1;i._trigger("collapsed",i,{section:r});this.$toggle.data("accordionOpen")===!0&&typeof this.swapText=="string"&&(this.$toggle.data("accordionOpen",!1),this.$toggle.get(0).lastChild.nodeValue=this.originalText);u=r.$element.find(".rsx-expandable-section-header");f=r.$element.find(".rsx-expandable-section-content");u.attr({"aria-expanded":"false"});f.attr({"aria-hidden":"true"});u.attr("aria-label")!=="undefined"&&typeof u.data("aria-label-original")!="undefined"&&(o=u.attr("aria-label"),u.attr("aria-label","Expand "+u.data("aria-label-original")))}},toggleSection:function(n){var t=this.sections[n],i=t.isOpen===!0?!0:!1;i===!1?this.openSection(n):this.closeSection(n)}})}(BELL,jQRSX),function(n,t){t.widget("rsx.dropMenu",{version:"1.0.0",widgetEventPrefix:"dropMenu",options:{animate:!0,animationSpeed:150,animationStyle:"linear",maxHeight:150,nativeMobile:!0,classDropMenu:"rsx-drop-menu-wrapper",classSelectNativeMobile:"rsx-select-native-mobile",callback:null},animationTimeout:0,_create:function(){var n=this;if(!this.element.is("select"))throw"Must apply widget on select element";this.$options=this.element.children("option");this.menuData=this.getMenuData();this.generateDropMenu(this.menuData);this.menuHeight=this._getMenuHeight();this.maxHeight=this._menuHeight<this.options.maxHeight?this.menuHeight:this.options.maxHeight;this.options.animate===!0&&(this.animationTimeout=this.options.animationSpeed,Modernizr.csstransitions===!0?this.$optionsList.css("transition","max-height "+this.options.animationSpeed+"ms "+this.options.animationStyle):this.$optionsList.css("max-height","none").css("height","0"));this._on(this.$dropMenu,{click:function(n){this._toggleMenu(n)},"click li":function(n){var i=t(n.target);this.element.val(i.data("value"));this.$dropMenuText.text(i.text())}});this._on(this.element,{change:function(n){var i=t(n.target).children("option:selected").text();this.$dropMenuText.text(i)}})},getMenuData:function(){var n=[];return this.$options.each(function(i,r){var u=t(r);n.push({value:u.val(),text:u.text()})}),n},generateDropMenu:function(){var n=this;this.options.nativeMobile===!0&&this.element.addClass(this.options.classSelectNativeMobile);this.element.children("option:first[disabled][selected]").addClass("rsx-hide");this.element.wrap('<div class="'+this.options.classDropMenu+'"><\/div>');this.$dropMenu=this.element.parent();this.$dropMenu.prepend('<button><div class="rsx-ellipses"><\/div><i class="rsx-icon rsx-icon-arrow-thick-down"><\/i><\/button><ul><\/ul>');this.$dropMenuText=this.$dropMenu.children("button").children("div");this.$optionsList=this.$dropMenu.children("ul");this.$dropMenuText.text(this.menuData[0].text);t.each(this.menuData.slice(1),function(t,i){n.$optionsList.append('<li class="rsx-ellipses" data-value="'+i.value+'">'+i.text+"<\/li>")})},_getMenuHeight:function(){var i=this.$optionsList.attr("style"),n=0;return this.$optionsList.css({position:"fixed",visibility:"hidden",display:"block"}),this.$optionsList.children("li").each(function(i,r){n+=t(r).height()}),this.$optionsList.attr("style",i||""),n},_toggleMenu:function(n){t(n.target).hasClass(this.options.classSelectNativeMobile)||(this.$dropMenu.hasClass("rsx-open")?(setTimeout(function(n){n.$dropMenu.removeClass("rsx-open")},this.animationTimeout,this),Modernizr.csstransitions===!0?this.$optionsList.css("max-height","0"):this.$optionsList.stop().animate({height:0},this.options.animationSpeed)):(this.$dropMenu.addClass("rsx-open"),Modernizr.csstransitions===!0?this.$optionsList.css("max-height",this.maxHeight+"px"):this.$optionsList.stop().animate({height:this.maxHeight},this.options.animationSpeed)))}})}(BELL,jQRSX),function(n,t){t.widget("rsx.tabbedPane",{version:"1.0.0",widgetEventPrefix:"tabbedPane",options:{equalizeBreakpoint:"md",additionalControl:null},_create:function(){var i=this,r,u;this.$element=t(this.element);this.$tabsParent=this.$element.find(".rsx-tabbed-pane-tabs");this.$tabs=this.$tabsParent.children("li");this.$menuTabs=this.$tabsParent.children("li.rsx-table-cell-md");this.$mainPageContent=this.$element.closest(".rsx-page-content");this.$contents=this.$element.find(".rsx-tabbed-pane-content");this.$contentsWrapper=this.$element.find(".rsx-tabbed-pane-content-wrapper");this.$customSelectWidget=this.options.additionalControl===null?null:this.options.additionalControl.data("rsx-customSelect");r=this.$tabs.length;u=100/r+"%";this.displayActive();this.$element.find(".rsx-tabs-menu").length>0&&this._applyEqualizedWidth(this.$menuTabs,u);this._on(this.$tabs,{"click > a":function(r){r.preventDefault();var u=t(r.currentTarget),f=u.attr("href").split("#")[1];this.currentWindowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0);i.currentWindowWidth<n.rsx.breakpoints.sm.max&&this.$tabsParent.toggleClass("rsx-active");this.displayActive(f)}});t(window).load(function(){i._equalizeContentHeight();t(window).throttledResize(function(){i._equalizeContentHeight()})})},_applyEqualizedWidth:function(n,i){t.each(n,function(){n.css("width",i)})},_equalizeContentHeight:function(){var i=t(window).width();i>=n.rsx.breakpoints[this.options.equalizeBreakpoint].min?n.rsx.utils.equalizeHeight(this.$contentsWrapper,".rsx-tabbed-pane-content"):this.$contents.css("height","")},displayActive:function(n){var i=n||this.$element.find(".rsx-tabbed-pane-tabs > li.rsx-active > a").attr("href").split("#")[1],r=this.$tabsParent.find('a[href="#'+i+'"]').parent();this.options.additionalControl&&this.$customSelectWidget.setSelected(i,!1);this.$tabs.removeClass("rsx-active");r.addClass("rsx-active");this.$contents.addClass("hide");this.$contents.removeClass("rsx-table-cell");this.$contents.each(function(){var n=t(this);n.attr("id")===i&&(n.removeClass("hide"),n.addClass("rsx-table-cell"))})}})}(BELL,jQRSX),function(n,t){t.widget("rsx.tabs",{version:"1.0.0",widgetEventPrefix:"tabs",options:{classActive:"rsx-active",classDisabled:"rsx-disabled"},_create:function(){this.$tabs=this.element.children().children();this._on(this.element,{"click li":function(n){n.preventDefault();this.$tabs.removeClass(this.options.classActive);t(n.currentTarget).addClass(this.options.classActive)}})}})}(BELL,jQRSX),function(n,t){t.widget("rsx.tooltip",{version:"1.0.0",widgetEventPrefix:"tooltip",options:{contentTemplate:"",content:"",customClasses:"",width:"",maxWidth:250,position:"auto",closeEventSelector:"body",suppressLinkOnTarget:!0},_create:function(){function f(){i.$window.width()>n.rsx.breakpoints.md.min&&(i.isMouseOverElement=!0,i._manageVisibility())}function e(){i.$window.width()>n.rsx.breakpoints.md.min&&(i.isMouseOverElement=!1,i._manageVisibility())}var i=this,r,u;this.$body=t("body");this.$window=t(window);this.$document=t(document);this.tooltipId="tooltip_"+Math.round(Math.random()*1e5);r='<div id="'+this.tooltipId+'" class="rsx-tooltip '+this.options.customClasses+'" role="tooltip"><div class="rsx-tooltip-close"><i class="rsx-icon rsx-icon-plus" aria-hidden="true"><\/i><\/div><div class="rsx-tooltip-content"><\/div><span class="rsx-icon rsx-icon-caret"><\/span><\/div>';u=r;this.$tooltip=t(t.parseHTML(u));this.$tooltipContent=this.$tooltip.find(".rsx-tooltip-content");this.$tooltipContent.html(t(this.options.contentTemplate).html());this.options.content!==""&&this.$tooltipContent.html(t.parseHTML(this.options.content));this.options.template===""&&this.$tooltip.addClass(this.options.customClasses);this.isMouseOverElement=!1;this.isMouseOverTooltip=!1;this._on(this.element,{mouseenter:function(){f()},mouseleave:function(){e()},focus:function(){f()},blur:function(){e()}});this._on(this.element,{click:function(n){n.preventDefault();n.stopPropagation();i.elementActiveMobile=!0;i.isMouseOverElement=!0;t(document).find(".rsx-tooltip").length>0&&t(document).find(".rsx-tooltip").remove();i._manageVisibility()}})},_manageVisibility:function(){var t=this;this.$window.width()>n.rsx.breakpoints.md.min?t.isMouseOverElement||t.isMouseOverTooltip?t.show():t.hide():t.elementActiveMobile?t.show():t.hide()},show:function(){var i=this,e=this.$tooltip.find(".rsx-tooltip-close"),r,f,u;typeof t._data(this.$tooltip.get(0),"events")=="undefined"&&(i.mouseEnterHasFired=!1,this._on(this.$tooltip,{mouseenter:function(){i.mouseEnterHasFired===!1&&(i.isMouseOverTooltip=!0,i._manageVisibility());i.mouseEnterHasFired=!0},mouseleave:function(){i.isMouseOverTooltip=!1;i._manageVisibility();i.mouseEnterHasFired=!1}}),this._on(t(this.options.closeEventSelector),{click:function(n){t(n.target).closest(this.$tooltip).length==1&&t(n.target).closest(e).length!=1?(n.preventDefault(),n.stopPropagation()):(i.elementActiveMobile=!1,i.isMouseOverTooltip=!1,i._manageVisibility())}}));window.clearTimeout(this.timeout);this.$tooltip.text()===""&&(r=this.element.attr("data-content-template").split(" ")!=="undefined"&&this.element.attr("data-content-template").split(" ").length>0?this.element.attr("data-content-template").split(" ")[1]:"",f=typeof r!="undefined"&&r!==""?t(r).html():"",this.$tooltipContent=this.$tooltip.find(".rsx-tooltip-content"),this.$tooltipContent.html(f));this.$tooltip.addClass("rsx-active");this.$body.append(this.$tooltip);u=this.options.width!==""?this.options.width:"auto";this.$window.width()<=n.rsx.breakpoints.md.min&&(u=this.$window.width()-60);this.$tooltip.css({"max-width":this.options.width===""?this.options.maxWidth:"",width:u,left:0,top:0});this._determinePosition();this.$tooltip.removeClass("rsx-tooltip_right-middle rsx-tooltip_left-middle rsx-tooltip_above-center rsx-tooltip_below-center rsx-tooltip_no-caret").addClass(this.tooltipPositionClass);this.$tooltip.css({left:this.tooltipX,top:this.tooltipY});this.element.attr("aria-describedby",this.tooltipId)},hide:function(){var n=this;this.$tooltip.removeClass("rsx-active");this.timeout=window.setTimeout(function(){n.$body.find(n.$tooltip).remove()},300);this.element.removeAttr("aria-describedby")},_determinePosition:function(){var f=this.element.outerWidth(),c=this.element.outerHeight(),r=this.element.offset().left,e=this.element.offset().top,o=this.$tooltip.outerWidth(),u=this.$tooltip.outerHeight(),t=[e-this.$window.scrollTop(),this.$window.width()-r-f,this.$window.height()-(e-this.$window.scrollTop()+c),r-this.$document.scrollLeft()],l=Math.max.apply(Math,t),s=5,h=20,i="";if(this.options.position!=="auto")i=this.options.position==="above"?t[0]<t[2]&&t[0]<u+s+h?"below":this.options.position:this.options.position,r+f/2<o/2?t[1]>t[3]&&t[2]>u/2?i="right":t[3]>t[1]&&t[2]>u/2&&(i="left"):this.$window.width()-r+f/2<o/2&&(t[1]>t[3]&&t[2]>u/2?i="right":t[3]>t[1]&&t[2]>u/2&&(i="left"));else{switch(t.indexOf(l)){case 0:i="above";break;case 1:i="right";break;case 2:i="below";break;case 3:i="left"}(t.indexOf(l)===0||t.indexOf(l)===2)&&(r+f/2<o/2?i=t[1]>t[3]?"right":"left":this.$window.width()-r+f/2<o/2&&(i=t[1]>t[3]?"right":"left"))}if(this.$window.width()>n.rsx.breakpoints.md.min)switch(i){case"right":this.tooltipX=r+f+s+h;this.tooltipY=e+c/2-u/2;this.tooltipPositionClass="rsx-tooltip_right-middle";break;case"left":this.tooltipX=r-s-h-o;this.tooltipY=e+c/2-u/2;this.tooltipPositionClass="rsx-tooltip_left-middle";break;case"above":this.tooltipX=r+f/2-o/2;this.tooltipY=e-u-s-h;this.tooltipPositionClass="rsx-tooltip_above-center";break;case"below":this.tooltipX=r+f/2-o/2;this.tooltipY=e+c+s+h;this.tooltipPositionClass="rsx-tooltip_below-center"}else this.tooltipX=30,this.tooltipY=e-t[0]+this.$window.height()/2-u/2,this.tooltipPositionClass="rsx-tooltip_no-caret"},_destroy:function(){this.hide()}})}(BELL,jQRSX),function(n,t){t.widget("rsx.loadingIndicator",{version:"1.0.0",widgetEventPrefix:"loadingIndicator",options:{customClasses:"",message:"",template:"",delay:500,contextual:!1},_create:function(){try{var n=this.options.template!==""?this.options.template:'<div class="rsx-loading-indicator"><div class="rsx-loading-indicator-wrap"><span class="rsx-loading-indicator-spinner"><\/span><span class="rsx-loading-indicator-message"><\/span><\/div><\/div>';this.$loadingIndicator=t(t.parseHTML(n));this.options.template===""&&(this.$loadingIndicator.addClass(this.options.customClasses),this.$message=this.$loadingIndicator.find(".rsx-loading-indicator-message"),this._updatemessage(),this.element.is("body")&&(this.element.append('<div class="rsx-loading-indicator-backdrop"><\/div>'),this.$loadingIndicator.addClass("rsx-loading-indicator_modal")));this.show()}catch(i){console.error("Error creating loading indicator: ",i)}},show:function(){var n=this;setTimeout(function(){try{n.element.append(n.$loadingIndicator);n.$loadingIndicator.addClass("rsx-active");n.element.is("body")&&n.element.append('<div class="rsx-loading-indicator-backdrop"><\/div>')}catch(t){console.error("Error showing the loading indicator: ",t)}},n.options.delay)},hide:function(){var n=this;try{this.$loadingIndicator.removeClass("rsx-active");setTimeout(function(){try{n.element.find(n.$loadingIndicator).remove();n.element.find(".rsx-loading-indicator-backdrop").remove()}catch(t){console.error("Error removing loading indicator: ",t)}},n.options.delay)}catch(t){console.error("Error hiding the loading indicator: ",t)}},_setOption:function(n,t){n==="message"?(this.options[n]=t,this._updatemessage()):n==="contextual"&&(t?this.$loadingIndicator.addClass("rsx-loading-indicator_w-title"):this.$loadingIndicator.removeClass("rsx-loading-indicator_w-title"))},_updatemessage:function(){try{this.options.message!==""?this.$message.addClass("rsx-active").html(this.options.message):this.$message.removeClass("rsx-active")}catch(n){console.error("Error updating message for the loading indicator: ",n)}}})}(BELL,jQRSX),function(n,t){t.widget("rsx.progressiveLoader",{version:"1.0.0",widgetEventPrefix:"progressiveLoader",options:{get:null,enabled:!1,delay:200,offset:"100%",classHide:"rsx-hide",autoMedia:"only screen and (min-width: 520px)"},_create:function(){this.$parent=this.element.parent();this._init(!1)},_init:function(n){var t=this;Modernizr.mq(t.options.autoMedia)&&(t.$waypoint=new Waypoint({element:t.$parent,handler:function(){var n=t.$waypoint&&t.$waypoint.enabled;n&&Modernizr.mq(t.options.autoMedia)&&t._load()},offset:t.options.offset,enabled:t.options.enabled}));n&&t._load()},_load:function(){var n=this;n.options.enabled&&(n.element.addClass(n.options.classHide),n.$parent.loadingIndicator({delay:200}),n.$parent.loadingIndicator("show"),n.options.get&&n.options.get().done(function(){n.$waypoint&&(n.$waypoint.disable(),n.$waypoint.context.refresh(),n.$waypoint.enable())}).always(function(){n.$parent.loadingIndicator("hide");n.element.removeClass(n.options.classHide)}).fail(function(n){console.log("progressive loader failed with error: ",n)}))},enable:function(){this.options.enabled=!0;this._init(!0)},disable:function(){this.options.enabled=!1;this._init(!0)}})}(BELL,jQRSX),function(n,t){t.widget("rsx.modal",{version:"1.0.0",widgetEventPrefix:"modal",options:{classOpen:"rsx-active",openOn:"",closeOn:'[data-dismiss="modal"]',preventClosing:!1,closeOnBackdropClick:!0,customActiveBodyClasses:"",openOnLoad:!1,verticallyCenter:!1,verticalOffset:0,ajaxSrc:!1,ajaxDataType:"html",ajaxTimeout:n.rsx.defaultXhrTimeout,ajaxContentTarget:!1,ajaxGetOnLoad:!1,ajaxCallback:!1},CLASS_BODY_OPEN:"rsx-modal-open",CLASS_HAS_EVENT:"rsx-modal-event",CLASS_GROUP_WRAP:"rsx-modal-group-wrap",CLASS_GROUP:"rsx-modal-group",MODAL_TRANSITION_TIME:250,MODAL_OPEN:"open",MODAL_CLOSE:"close",_create:function(){var self=this,openOn,triggerClickHandler;if(this.$body=t("body"),this.$window=t(window),this.$allModals=t(".rsx-modal"),typeof this.options.ajaxCallback=="string"&&(this.options.ajaxCallback=eval(this.options.ajaxCallback)),this.activeModalCount=0,window.updateRunning=!1,openOn=this.options.openOn!==""?", "+this.options.openOn:"",this.triggerSelector='click [data-trigger="modal"][href^="#'+this.element.attr("id")+'"], [data-trigger="modal"][data-target="#'+this.element.attr("id")+'"]'+openOn,this.options.customActiveBodyClasses!==""&&(this.CLASS_BODY_OPEN=this.CLASS_BODY_OPEN.concat(" "+this.options.customActiveBodyClasses)),this.isContentFetched=typeof this.options.ajaxSrc!="string",this.isContentFetched===!1&&(this.$ajaxContentTarget=typeof this.options.ajaxContentTarget=="string"?t(this.options.ajaxContentTarget):this.element),this.$groupWrap=t("."+this.CLASS_GROUP_WRAP),this.$groupWrap.length>0)this.$group=this.$groupWrap.children("."+this.CLASS_GROUP);else{this.$groupWrap=t("<div/>").addClass(this.CLASS_GROUP_WRAP).appendTo(this.$body);this.$group=t("<div/>").addClass(this.CLASS_GROUP).appendTo(this.$groupWrap);t("."+this.CLASS_GROUP_WRAP).on("click",function(n){var i,r,u,f,e;try{i=t(".rsx-modal.rsx-active");i.length>0&&(r=i.data(),typeof r!="undefined"&&r!=null&&(u=r["rsx-modal"],u&&(f=u.options,e=t(n.target),e.hasClass(self.CLASS_GROUP_WRAP)&&f.closeOnBackdropClick&&i.modal("close"))))}catch(o){console.error("Error processing backdrop click: ",o)}})}this.element.detach();this.$group.children().each(t.proxy(function(n,i){i=t(i);i.attr("id")===this.element.attr("id")&&i.remove()},this));this.element.appendTo(this.$group);triggerClickHandler={};triggerClickHandler[this.triggerSelector]=function(n){n.preventDefault();this.open()};this._on(this.document,triggerClickHandler);this.options.ajaxSrc===!1&&this._applyCloseEvent();this.options.openOnLoad===!0&&n.rsx.modalOpenedOnLoad===!1&&(n.rsx.modalOpenedOnLoad=!0,this.open())},open:function(){var n=this,i=this.$groupWrap.find(".rsx-modal.rsx-active"),r;if(i.length>0&&i.append('<div class="rsx-modal-inner-backdrop"><\/div>'),this.isContentFetched===!1){this._fetchContent();return}this.$body.hasClass(this.CLASS_BODY_OPEN)?(this.$allModals.not(".rsx-sb-modal").removeClass(this.options.classOpen),r=this.$allModals.filter(".rsx-sb-modal.rsx-active"),setTimeout(t.proxy(function(){this.element.addClass(this.options.classOpen);clearInterval(window.updateTimer);window.updateTimer=null;this.$activeModals=this.$groupWrap.find(".rsx-modal.rsx-active");this.$activeModalsBodies=this.$activeModals.find(".rsx-modal-body");window.updateTimer=setInterval(function(){n.updatePosition()},250);this._manageFocus(this.MODAL_OPEN,document.activeElement)},this),this.MODAL_TRANSITION_TIME)):(this.$body.addClass(this.CLASS_BODY_OPEN),this.element.addClass(this.options.classOpen),this.$activeModals=this.$groupWrap.find(".rsx-modal.rsx-active"),this._manageFocus(this.MODAL_OPEN,document.activeElement));t(".rsx-modal-group-wrap").scrollTop(0);this.$activeModals=this.$groupWrap.find(".rsx-modal.rsx-active");this.$activeModalsBodies=this.$activeModals.find(".rsx-modal-body");this.options.verticallyCenter&&(clearInterval(window.updateTimer),window.updateTimer=null,window.updateTimer=setInterval(function(){n.updatePosition()},250));this._trigger("openning",this)},close:function(){if(!this.options.preventClosing){this.element.removeClass(this.options.classOpen);this.$activeModals=this.$groupWrap.find(".rsx-modal.rsx-active");var n=this.$groupWrap.find(".rsx-modal");this.$activeModals.length<1&&(clearInterval(window.updateTimer),this.$body.removeClass(this.CLASS_BODY_OPEN));n.find(".rsx-modal-inner-backdrop").remove();this._manageFocus(this.MODAL_CLOSE)}},_manageFocus:function(n,i){this.triggerElement;typeof i!="undefined"&&(this.triggerElement=i);var r=this.$activeModals.eq(this.$activeModals.length-1);if(n===this.MODAL_OPEN){this.triggerElement=i;this.$body.off("focusin focusout",t.proxy(this.focusHandler,this));this.$body.on("focusin focusout",t.proxy(this.focusHandler,this));r.attr("tabindex","-1").focus()}else this.$body.off("focusin focusout",t.proxy(this.focusHandler,this)),this.triggerElement!=="undefined"&&t(this.triggerElement).focus()},focusHandler:function(n){var t=this.$activeModals.eq(this.$activeModals.length-1);n.type==="focusin"&&t[0]!==n.target&&t.has(n.target).length===0&&t.focus()},_setOption:function(n,t){(n==="preventClosing"||n==="closeOnBackdropClick")&&(this.options[n]=t)},_applyCloseEvent:function(){var r=this,i=this.options.closeOn!==""?", "+this.options.closeOn:"",n;this.closeTriggersSelector="click .rsx-modal-close"+i;n={};n[this.closeTriggersSelector]=function(n){var i,r;n.preventDefault();i=t(n.target).closest(".rsx-modal").data();typeof i!="undefined"&&i!=null&&(r=i["rsx-modal"],typeof r!="undefined"&&i!=null&&r.close())};this._on(this.document,n)},_fetchContent:function(){var i=t.ajax({url:this.options.ajaxSrc,type:"GET",timeout:this.options.ajaxTimeout,dataType:this.options.ajaxDataType});i.always(t.proxy(function(){},this));i.fail(function(){alert("error")});i.done(t.proxy(function(t){this.isContentFetched=!0;this.$ajaxContentTarget.append(t);this._applyCloseEvent();n.rsx.utils.initWidgets(this.element.children());typeof this.options.ajaxCallback=="function"&&this.options.ajaxCallback();this.open()},this))},updatePosition:function(){var i=this,r,u;this.options.verticallyCenter&&(r=this.$window.height(),u=this.$window.width(),this.$window.width()>=n.rsx.breakpoints.md.min?(this.$activeModals.each(function(){var n=t(this),u=n.find(".rsx-modal-body"),e=n.find(".rsx-modal-content").height(),f;if(e<i.$window.height()-60+i.options.verticalOffset)this.isStyleResetDesktop||(u.css({height:"auto",overflow:"visible"}),this.isStyleResetDesktop=!0),f=r/2-e/2+i.options.verticalOffset,n.css("top")!==f+"px"&&n.css({top:f+"px"}),this.isStyleResetDesktop||(u.css({height:"auto",overflow:"visible"}),this.isStyleResetDesktop=!0);else{var s=n.find(".rsx-modal-header"),h=n.find(".rsx-modal-footer"),o=r-60-s.height()-h.height()+i.options.verticalOffset;u.css("height")!==o+"px"&&(n.css("top")!=="auto"&&n.css({top:"auto"}),u.css({height:o+"px",overflow:"auto"}),this.isStyleResetDesktop=!1)}}),this.isStyleResetMobile&&(this.isStyleResetMobile=!1)):(this.isStyleResetMobile||(this.$activeModals.css({top:"auto"}),this.$activeModalsBodies.css({height:"auto",overflow:"visible"}),this.isStyleResetMobile=!0),this.isStyleResetDesktop&&(this.isStyleResetDesktop=!1)))}})}(BELL,jQRSX),function(n,t){t.widget("rsx.radios",{version:"1.0.0",widgetEventPrefix:"radios",options:{classChecked:"rsx-active",classDisabled:"rsx-disabled",toggleClosest:!1,classClosestChecked:"",classClosestDisabled:"",relatedSelect:""},TAB_TRANSITION:500,_create:function(){this.initial=!0;this.toggledElements={};this.$labels=this.element.find("label");this.$inputs=this.element.find('input[type="radio"]');this.options.classClosestChecked=this.options.classClosestChecked===""?this.options.classChecked:this.options.classClosestChecked;this.options.classClosestDisabled=this.options.classClosestDisabled===""?this.options.classDisabled:this.options.classClosestDisabled;this.$labels.each(t.proxy(function(n,i){var r,i=t(i),u=i.data("toggle"),f=i.data("toggle-class")||"rsx-hide";typeof u!="undefined"&&(r=t(u).addClass(f),r.length>0&&(this.toggledElements[u]={element:r,"class":f}))},this));this._setChecked(!1);this.initial=!1;this._on({'click input[type="radio"]':function(){this._setChecked(!0)}});this.$inputs.on("focus",function(){t(this).parent().addClass("rsx-focused")});this.$inputs.on("blur",function(){t(this).parent().removeClass("rsx-focused")})},_setChecked:function(n){this.$inputs.each(t.proxy(function(n,i){var r=t(i);r.is(":disabled")?r.closest(".rsx-label").addClass(this.options.classDisabled):r.closest(".rsx-label").removeClass(this.options.classDisabled)},this));this.$inputs.each(t.proxy(function(i,r){var o;r=t(r);var f=r.parents("label"),e=r.closest(this.options.toggleClosest),u=f.data("toggle");if(r.is(":checked")){if(f.addClass(this.options.classChecked),e instanceof t&&e.closest(this.options.toggleClosest).addClass(this.options.classClosestChecked),n&&this._trigger("complete",null,{target:r,label:f,index:f.index(),value:r.val()}),this.initial===!1)switch(r.parent().data("valueType")){case"href":setTimeout(function(){window.location=r.val()},this.TAB_TRANSITION)}else this.initial=!1;t(this.options.relatedSelect).data("widget")==="customSelect"&&(o=t(this.options.relatedSelect).data("rsx-customSelect"),o.setSelected(r.val(),!1));typeof u!="undefined"&&this.toggledElements[u].element instanceof t&&this.toggledElements[u].element.removeClass(this.toggledElements[u].class)}else r.parents("label").removeClass(this.options.classChecked),e instanceof t&&e.closest(this.options.toggleClosest).removeClass(this.options.classClosestChecked),typeof u!="undefined"&&this.toggledElements[u].element instanceof t&&this.toggledElements[u].element.addClass(this.toggledElements[u].class)},this))},setChecked:function(n){var t=this.element.find("input[type=radio]:checked").val();t!==n&&this.element.find('input[type=radio][value="'+n+'"]').prop("checked",!0);this._setChecked(!1)},setCheckedByIndex:function(n){n<this.$inputs.length?this.$inputs.eq(n).prop("checked",!0):this.$inputs.first().prop("checked",!0);this._setChecked(!1)},setProperties:function(n,i,r){var u=this;this.element.find(n).each(function(){var n=t(this);r===!0?n.prop(i,!0):n.prop(i,!1);u._setChecked(!0)})},previous:function(){var n=this.$inputs.index(this.$inputs.filter(":checked"))-1;this.$inputs.prop("checked",!1);n<0&&(n=this.$inputs.length-1);this.$inputs.eq(n).prop("checked",!0);this._setChecked(!0)},next:function(){var n=this.$inputs.index(this.$inputs.filter(":checked"))+1;this.$inputs.prop("checked",!1);n>=this.$inputs.length&&(n=0);this.$inputs.eq(n).prop("checked",!0);this._setChecked(!0)}})}(BELL,jQRSX);BELL=function(n,t){return n.rsx=n.rsx||{},n.rsx.footer={init:function(){var i=this;i.$body=t("body");i.$footer=t(".rsx-footer");i.$changeLanguage=i.$footer.find(".rsx-language-text");i.$changeLanguage.on("click",n.rsx.footer.changeLanguage)},changeLanguage:function(){var i=t(this).data("alt-lang"),r=t(this).data("lang-url");n.rsx.footer.setLanguageRegionCookieValue(i,null);window.location=r},setLanguageRegionCookieValue:function(t,i,r){var u="gemini",e=r==!0?null:n.rsx.utils.cookies.get(u),o=n.rsx.footer.getGeminiString(t,i,e),s=window.location.hostname,f="";window.location.hostname!=null&&s.indexOf("bell.ca")>0&&(f=".bell.ca");n.rsx.footer.set_cookie(u,o,90,f)},getGeminiString:function(n,t,i){var u="region="+t+"|language="+n+"|province="+t,r;return i!=null&&(r=i.split("|"),(t==null||t.length==0)&&(r[1]="language="+n),(n==null||n.length==0)&&(r[2]="province="+t),u=r[0]+"|"+r[1]+"|"+r[2]),u},set_cookie:function(n,t,i){var f="",r,u;r=new Date;(!i||isNaN(i))&&(i=365);r.setTime(r.getTime()+i*864e5);f="; expires="+r.toGMTString();u=n+"="+t+f+"; path=/";document.location.protocol==="https:"&&(u+="; secure");document.cookie=u}},n}(BELL||{},jQRSX);BELL=function(n,t){return n.rsx=n.rsx||{},n.rsx.opinionlab={init:function(){var r,u,n,i;this.initOpinionLab();r="://"+document.documentElement.lang+"-ca.";n=u===undefined?"":u;location.protocal==="https:"&&(n=t("#opbupid").val()===undefined?"":t("#opbupid").val());i=this;i.OOo.oo_feedback=new this.OOo.Ocode({referrerRewrite:{searchPattern:/:\/\//g,replacePattern:r},tealeafCookieName:"Tealeaf",customVariables:{customVariables:n}});t(".js-rate-this-page").on("click",function(){i.OOo.oo_feedback.show()})},initOpinionLab:function(){t.getPageLang=function(){var i=t("html"),r="en",n;return i.length>0&&(n=i.attr("lang"),n&&(n=t.trim(n),n!==""&&(r=n))),r};var n;(function(n,t){!1&&typeof define=="function"&&define.amd?define([],t):n.OOo=t()})(this,function(){var t={__detectBrowser:function(n){var i=Object.prototype.toString.call(window.opera)==="[object Opera]",r,t={IE:!!r,Opera:i,WebKit:n.indexOf("AppleWebKit/")>-1,Chrome:n.indexOf("Chrome")>-1,Gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")===-1,MobileSafari:/Apple.*Mobile.*Safari/.test(n),iOs:n.indexOf("iPad")>-1||n.indexOf("iPhone")>-1||n.indexOf("iPod")>-1,iOS67:n.search(/OS (6_0|7_0) like Mac OS/i)>-1,PalmPre:n.indexOf("Pre/")>-1,BlackBerry:n.indexOf("BlackBerry")>-1,Fennec:n.indexOf("Fennec")>-1,IEMobile:n.indexOf("IEMobile")>-1,OperaMobile:n.search(/Opera (?:Mobi|Mini)/)>-1,Kindle:n.search(/[ ](Kindle|Silk)/)>-1,ua:n};return t.isMobile=t.MobileSafari||t.PalmPre||t.BlackBerry||t.Fennec||t.IEMobile||t.OperaMobile||t.Kindle,t.isMobileNonIOS=t.isMobile&&(!t.MobileSafari||n.search("Android")!==-1),t}},i;return t.Browser=t.__detectBrowser(navigator.userAgent),t.Cache={},t.instanceCount=0,t.K=function(){},i=i||t,function(){function f(n){return document.getElementById(n)}function i(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function e(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r):n.attachEvent&&n.attachEvent("on"+t,i)}function o(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r):n.detachEvent&&n.detachEvent("on"+t,i)}function r(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&i.push(t+"="+(encodeURIComponent(n[t])||""));return i.join("&")}function u(n){var i=r(n.metrics),u=n.tealeafId+"|"+n.clickTalePID+"/"+n.clickTaleUID+"/"+n.clickTaleSID;return i+="&custom_var="+t.createLegacyVars(n.legacyVariables,u),n.metrics.type==="OnPage"&&(i+="|iframe"),n.asm&&(i+="&asm=2"),i+="&_rev=2",n.customVariables&&(i+="&customVars="+encodeURIComponent(t.serialize(n.customVariables))),i}function s(n,i){var f=document,r=f.createElement("form"),e=f.createElement("input"),o=n.referrerRewrite;return n.metrics.referer=location.href,o&&(n.metrics.referer=t.referrerRewrite(o)),r.style.display="none",r.method="post",r.target=i||"OnlineOpinion",r.action=n.onPageCard?"https://secure.opinionlab.com/ccc01/comment_card_json_4_0_b.asp?r="+location.href:"https://secure.opinionlab.com/ccc01/comment_card_d.asp",n.commentCardUrl&&(r.action=n.commentCardUrl,n.onPageCard&&(r.action+="?r="+location.href)),e.name="params",e.value=u(n),r.appendChild(e),f.body.appendChild(r),r}function h(){return{width:screen.width,height:screen.height,referer:location.href,prev:document.referrer,time1:(new Date).getTime(),time2:null,currentURL:location.href,ocodeVersion:"5.7.7"}}function c(n){var i="",r,t;if(n&&n.search("://")>-1)for(r=n.split("/"),t=3;t<r.length;t++)i+="/",i+=r[t];return i}function l(n,t){return(n=n||{},typeof n=="string")?t+"|"+n:n.override?n.vars:t+(n.vars?"|"+n.vars:"")}function a(n,t){return(t||(t=location),typeof n=="string")?n:n.searchPattern?t.href.replace(n.searchPattern,n.replacePattern):n.replacePattern}function v(n){"use strict";var t,r=!1,i=document.getElementsByTagName("meta");if(i!=="undefined")for(t=0;t<i.length;t+=1)i[t].getAttribute("name")===n&&(r=!0);return r}function y(){t.$("oo_container").style.display="none"}function p(){var r=t.$("oo_invitation_prompt"),i;if(r){i=t.$("oo_container");this.showPrompt(i);return}var n=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP"),u=this,f=document.createElement("link");n.onreadystatechange=function(){n.readyState===4&&u.showPrompt(n.responseText)};n.open("GET",this.options.pathToAssets+this.options.promptMarkup,!0);n.send(null)}function w(n,i){var e=document,r=typeof n=="string"?e.createElement("div"):n,f=e.createElement("div"),o,s,u=this.options,h;f.id="oo_invitation_overlay";r.id="oo_container";r.style.visibility="hidden";typeof n=="string"&&(r.innerHTML=n,e.body.appendChild(r));r.appendChild(f);h=t.$("oo_launch_prompt");u.companyLogo&&(o=new Image,o.src=u.companyLogo,t.$("oo_company_logo").appendChild(o));t.addEventListener(h,"click",i.bind(this),!1);u.clickCallbacks&&(typeof u.clickCallbacks.yes=="function"&&t.addEventListener(h,"click",function(){u.clickCallbacks.yes()},!1),typeof u.clickCallbacks.no=="function"&&t.addEventListener(t.$("oo_no_thanks"),"click",function(){u.clickCallbacks.no()},!1));u.neverShowAgainButton&&(s=t.$("oo_never_show"),s.style.visibility="visible",t.addEventListener(s,"click",this.killPrompt.bind(this),!1));t.Browser.IE&&!window.XMLHttpRequest&&(f.style.position="absolute",f.style.width=Math.max(document.documentElement.clientWidth,document.body.offsetWidth)+"px",f.style.height=Math.max(document.documentElement.clientHeight,document.body.offsetHeight)+"px",r.style.position="absolute");r.style.visibility="visible";r.style.display="block";f.className="no_loading"}var b=function(){var i=document.body,r,u,f,e,o;return(n=v("apple-itunes-app"),t.Browser.iOS67&&n)?(window.scrollTo=function(){return!1},null):document.createElement&&i&&i.appendChild&&i.removeChild?(r=document.createElement("div"),!r.getBoundingClientRect)?null:(r.innerHTML="x",r.style.cssText="position:fixed;top:100px;",i.appendChild(r),u=i.style.height,f=i.scrollTop,i.style.height="3000px",i.scrollTop=500,e=r.getBoundingClientRect().top,i.style.height=u,o=e===100,i.removeChild(r),i.scrollTop=f,o):null}(),k=function(){if(navigator.appName==="Microsoft Internet Explorer"&&navigator.userAgent.search("MSIE 6")!==-1)return!0;var n=document.body,t,i;return document.createElement&&n&&n.appendChild&&n.removeChild?(t=document.createElement("iframe"),i=!1,t.setAttribute("name","oo_test"),t.style.display="none",n.appendChild(t),i=!!!document.getElementsByName("oo_test")[0],n.removeChild(t),i):null}();i(t,{extend:i,toQueryString:r,addEventListener:e,$:f,appendOOForm:s,removeEventListener:o,createMetrics:h,truncateMetric:c,createLegacyVars:l,POSITION_FIXED_SUPPORTED:b,DYNAMIC_FRAME_NAME_IS_BUGGY:k,getFormParams:u,referrerRewrite:a,hidePrompt:y,getPrompt:p,showPrompt:w})}(),function(){function n(t){if(!t)return null;switch(typeof t){case"number":case"boolean":case"function":return t;case"string":return"'"+t+"'";case"object":var i,r,f,u;if(t.constructor===Array||typeof t.callee!="undefined"){for(i="[",f=t.length,r=0;r<f-1;r+=1)i+=n(t[r])+",";i+=n(t[r])+"]"}else{i="{";for(u in t)t.hasOwnProperty(u)&&(i+=u+":"+n(t[u])+",");i=i.replace(/\,$/,"")+"}"}return i;default:return null}}t.extend(t,{serialize:n})}(),function(){function n(n,i,r){var u;return n.search(i[0])!==-1?(t.createCookie(r,0),!1):t.readCookie(r)?(u=parseInt(t.readCookie(r),10),n.search(i[u+1])!==-1&&u+1!==i.length-1?(t.createCookie(r,u+1),!1):n.search(i[u])!==-1?!1:u+1===i.length-1&&n.search(i.pop())!==-1?(t.eraseCookie(r),!0):(t.eraseCookie(r),!1)):!1}t.extend(t,{checkTunnel:n})}(),function(){function i(n){for(var i="",t=7;t>=0;t-=1)i+="0123456789abcdef".charAt(n>>t*4&15);return i}function u(n){for(var r=(n.length+8>>6)+1,i=new Array(r*16),t=0;t<r*16;t+=1)i[t]=0;for(t=0;t<n.length;t+=1)i[t>>2]|=n.charCodeAt(t)<<24-t%4*8;return i[t>>2]|=128<<24-t%4*8,i[r*16-1]=n.length*8,i}function n(n,t){var i=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(i>>16);return r<<16|i&65535}function r(n,t){return n<<t|n>>>32-t}function f(n,t,i,r){return n<20?t&i|~t&r:n<40?t^i^r:n<60?t&i|t&r|i&r:t^i^r}function e(n){return n<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514}function o(t){for(var p=u(t),a=new Array(80),s=1732584193,h=-271733879,c=-1732584194,l=271733878,v=-1009589776,w,b,k,d,g,nt,o,y=0;y<p.length;y+=16){for(w=s,b=h,k=c,d=l,g=v,o=0;o<80;o+=1)a[o]=o<16?p[y+o]:r(a[o-3]^a[o-8]^a[o-14]^a[o-16],1),nt=n(n(r(s,5),f(o,h,c,l)),n(n(v,a[o]),e(o))),v=l,l=c,c=r(h,30),h=s,s=nt;s=n(s,w);h=n(h,b);c=n(c,k);l=n(l,d);v=n(v,g)}return i(s)+i(h)+i(c)+i(l)+i(v)}t.extend(t,{sha1:o})}(),function(){function n(n,i){i||(i=location);var r=n.cookieName||"oo_abandon",u=t.readCookie(r),f=n.startPage,e=n.endPage,o=n.middle;return u?i.pathname.indexOf(e)!==-1?(t.eraseCookie(r),!1):i.pathname.search(o)!==-1?!1:(t.eraseCookie(r),!0):(i.pathname.indexOf(f)!==-1&&t.createCookie(r),!1)}t.extend(t,{checkAbandonment:n})}(),function(){function n(n){for(var r,i=n.length-1;i>=0;i-=1)if(n[i].read)if(r=t.readCookie(n[i].name),!r||r!==n[i].value){if(typeof n[i].value=="undefined"&&!!t.readCookie(n[i].name))return!0}else return!0;return!1}function i(n){for(var i=n.length-1;i>=0;i-=1)n[i].set&&t.createCookie(n[i].name,n[i].value,n[i].expiration)}t.extend(t,{checkThirdPartyCookies:n,setThirdPartyCookies:i})}(),t.extend(Function.prototype,function(){function t(n,t){for(var r=n.length,i=t.length;i;)i-=1,n[r+i]=t[i];return n}function i(i,r){return i=n.call(i,0),t(i,r)}function r(t){if(arguments.length<2&&typeof t=="undefined")return this;var r=this,u=n.call(arguments,1);return function(){var n=i(u,arguments);return r.apply(t,n)}}if(typeof Function.prototype.bind=="undefined"){var n=Array.prototype.slice;return{bind:r}}}()),function(){function n(n){n||(n=location);var t;if(n.host.search(/\.[a-z]+/)!==-1){if(t=n.host.split(".").reverse(),t.length>3)return n.host;t="."+t[1]+"."+t[0]}else t=n.host;return t}function i(t,i,r){var u="",f="";r&&(u=new Date,u.setTime(u.getTime()+r*1e3),f="; expires="+u.toGMTString());document.cookie=location.host!==n()?t+"="+i+f+"; path=/; domain="+n()+";":t+"="+i+f+"; path=/;"}function r(n){for(var r=n+"=",u=document.cookie.split(";"),t,i=0;i<u.length;i+=1){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null}function u(n){i(n,"",-1)}t.extend(t,{getCookieDomain:n,createCookie:i,readCookie:r,eraseCookie:u})}(),t.Ocode=function(n){var r=t.Browser,i;n.disableMobile&&r.isMobile||n.disableNoniOS&&r.isMobileNonIOS||(t.instanceCount+=1,this.options={tealeafCookieName:"TLTSID"},t.extend(this.options,n),i=this.options,i.metrics=t.createMetrics(),this.frameName=i.onPageCard?"OnlineOpinion"+t.instanceCount:"OnlineOpinion",i.cookie&&t.Ocode.matchUrl(i.cookie,location))||i.thirdPartyCookies&&t.checkThirdPartyCookies(i.thirdPartyCookies)||(!i.abandonment||t.checkAbandonment(i.abandonment))&&(!i.tunnel||t.checkTunnel(location.pathname,i.tunnel.path,i.tunnel.cookieName))&&(i.events&&i.events.onSingleClick&&(this.singProbability=Math.random()<1-i.events.onSingleClick/100),i.tealeafId=t.readCookie(i.tealeafCookieName)||t.readCookie(i.sessionCookieName),i.events&&(this.setupEvents(),(i.events.disableLinks||i.events.disableFormElements)&&this.setupDisableElements()),i.floating?this.floating():i.bar?this.bar():i.tab&&this.tab())},t.Ocode.prototype={show:function(n,i){if(n==="Tab"&&i&&i.preventDefault&&i.preventDefault(),!this.onPageCardVisible){var r=this.options,u;if((r.events&&r.events.prompt&&(r.cookie&&t.eraseCookie(r.cookie.name||"oo_r"),t.hidePrompt()),!this.interruptShow)&&(this.floatingLogo||!r.cookie||!t.Ocode.matchUrl(r.cookie))&&(r.floating||!r.events||!this.singProbability)){if(r.events&&r.events.onSingleClick&&(this.singProbability=!0),r.cookie&&t.Ocode.tagUrl(r.cookie),r.thirdPartyCookies){if(t.checkThirdPartyCookies(r.thirdPartyCookies))return;t.setThirdPartyCookies(r.thirdPartyCookies)}this.floatingLogo&&this.floatingLogo.children[0].blur();this.floatingLogo&&r.disappearOnClick&&(this.floatingLogo.style.display="none");n&&(r.metrics.trigger=n);r.clickTalePID&&typeof ClickTale=="function"&&(r.clickTaleUID=window.ClickTaleGetUID(),r.clickTaleSID=window.ClickTaleGetSID());r.onPageCard&&!t.Browser.isMobile?this.setupOnPageCC():this.launchOOPopup();u=r.floating||r.tab||r.bar;u&&typeof u.onClickCallback=="function"&&u.onClickCallback()}}}},t.extend(t.Ocode,{tagUrl:function(n,i){i||(i=location);var r=n.name||"oo_r",u=n.type==="page"?i.href:i.hostname,f=t.readCookie(r)||"";t.Ocode.matchUrl(n,i)||t.createCookie(r,f+t.sha1(u),n.expiration)},matchUrl:function(n,i){i||(i=location);var r=t.readCookie(n.name||"oo_r"),u;return r?(u=n.type==="page"?i.href:i.hostname,r.search(t.sha1(u))!==-1):!1}}),function(){function n(){var n=this.options,r=n.newWindowSize||[545,325],e=[parseInt((n.metrics.height-r[1])/2,10),parseInt((n.metrics.width-r[0])/2,10)],u,o,h="resizable=yes,location=no,status=no,scrollbars=1,width="+r[0]+",height="+r[1]+",top="+e[0]+",left="+e[1],s=t.Browser.IE&&navigator.userAgent.search("MSIE 7")!==-1,f="OnlineOpinion";n.newWindow&&(f=f+i++);n.metrics.time2=(new Date).getTime();n.metrics.type="Popup";u=t.appendOOForm(n,f);t.Browser.isMobile&&t.Browser.ua.search("Android")!==-1?u.submit():(o=window.open(s?n.commentCardUrl||"https://secure.opinionlab.com/ccc01/comment_card_d.asp?"+u.children[0].value:"",f,h),o&&!s&&u.submit())}var i=0;t.extend(t.Ocode.prototype,{launchOOPopup:n})}(),function(){function n(){var n=this.options.events,r=[!1,!1],s=["onExit","onEntry"],o="beforeunload",u,i,e,f;for(t.Browser.Opera&&(o="unload"),t.Browser.iOs&&(o="pagehide"),n.prompt&&t.extend(this.options,{promptMarkup:n.prompt.promptMarkup||"oo_event_prompt.html",neverShowAgainButton:!1,pathToAssets:n.prompt.pathToAssets}),i=s.length-1;i>=0;i-=1)if(u=s[i],n[u]instanceof Array)for(e=n[u],f=e.length;f&&!r[i];)f-=1,window.location.href.search(e[f].url)!==-1&&Math.random()>=1-e[f].p/100&&(r[i]=!0);else n[u]&&Math.random()>=1-n[u]/100&&(r[i]=!0);r[0]&&t.addEventListener(window,o,this.show.bind(this,"onExit"),!1);r[1]&&(n.delayEntry?window.setTimeout(function(){n.prompt?this.getPrompt():this.show()}.bind(this,"onEntry"),n.delayEntry*1e3):n.prompt?this.getPrompt():this.show("onEntry"))}function i(n){for(var f=n||window.event,t=n.target||n.srcElement,r=this.options.events,i=t.parentNode,u=0;i&&(t.nodeName!=="A"||t.nodeName!=="INPUT")&&u!==5;)i.nodeName==="A"&&(t=i),i=i.parentNode,u+=1;r.disableFormElements&&(t.tagName==="INPUT"||t.tagName==="BUTTON")&&(t.type==="submit"||t.type==="image"||t.type==="reset"||t.type==="button")&&(this.interruptShow=!0);r.disableLinks&&(t.nodeName==="A"||t.nodeName==="AREA")&&t.href.substr(0,4)==="http"&&t.href.search(r.disableLinks)!==-1&&(this.interruptShow=!0)}function r(){this.interruptShow=!0}function u(){if(t.addEventListener(document.body,"mousedown",i.bind(this)),this.options.events.disableFormElements)for(var u=document.getElementsByTagName("form"),n=u.length-1;n>=0;n-=1)t.addEventListener(u[n],"submit",r.bind(this))}t.extend(t.Ocode.prototype,{setupEvents:n,setupDisableElements:u,getPrompt:function(){t.getPrompt.call(this)},showPrompt:function(n){this.options.cookie&&t.Ocode.tagUrl(this.options.cookie);t.showPrompt.call(this,n,this.show)}})}(),t.extend(t.Ocode.prototype,{floating:function(){function u(n){return n.offsetLeft+n.offsetWidth}function tt(){h.style.left=u(r)+"px"}function l(){var t=i.documentElement.scrollTop||i.body.scrollTop,r=i.documentElement.clientHeight||document.body.clientHeight;n.style.top=t+r-(nt||0)-10+"px"}var i=document,n=this.floatingLogo=document.createElement("div"),o=i.createElement("div"),a=i.createElement("div"),v=i.createElement("div"),w=i.createElement("span"),f=this.options.floating,r=t.$(f.contentId),s="10px",b=f.id,y=i.createElement("span"),k,d,g,h,c,e,nt,p;if(y.innerHTML="Screen reader users: Please switch to forms mode for this link.",y.className="screen_reader",b&&(n.id=b),n.className="oo_feedback_float",a.className="oo_transparent",o.className="olUp",v.className="olOver",o.tabIndex=0,o.onkeyup=function(n){(k=n||window.event,k.keyCode===13)&&this.show()}.bind(this),o.innerHTML=f.caption||"Feedback",n.appendChild(y),n.appendChild(o),w.innerHTML=f.hoverCaption||"Click here to<br>rate this page",v.appendChild(w),n.appendChild(v),n.appendChild(a),t.Browser.MobileSafari?t.Browser.ua.search("OS 4")!==-1&&(d=window.innerHeight,n.style.bottom=null,n.style.top=window.pageYOffset+window.innerHeight-60+"px",p=function(){g=window.pageYOffset-(d-window.innerHeight);n.style.webkitTransform="translateY("+g+"px)"},t.addEventListener(window,"scroll",p,!1),setTimeout(p,100)):t.POSITION_FIXED_SUPPORTED||(n.style.position="absolute",n.style.bottom="",t.addEventListener(window,"scroll",l,!1),t.addEventListener(window,"resize",l,!1),i.compatMode==="BackCompat"&&(n.style.background="white")),f.position&&f.position.search(/Content/)&&r){h=this.spacer=i.createElement("div");c=t.Browser.WebKit?i.body:i.documentElement;h.id="oo_feedback_fl_spacer";h.style.left=u(r)+"px";i.body.appendChild(h);switch(f.position){case"rightOfContent":e=function(){n.style.left=u(r)-c.scrollLeft+"px";t.POSITION_FIXED_SUPPORTED||(e=null)};break;case"fixedPreserveContent":e=function(){var f=t.Browser.IE?i.body.clientWidth:window.innerWidth,e=t.POSITION_FIXED_SUPPORTED?c.scrollLeft:0;f<=u(r)+n.offsetWidth+parseInt(s,10)?n.style.left=u(r)-e+"px":(n.style.left="",n.style.right=s)};break;case"fixedContentMax":e=function(f){var e=t.Browser.IE?i.body.clientWidth:window.innerWidth;e<=u(r)+n.offsetWidth+parseInt(s,10)?(n.style.left="",n.style.right=s,!t.POSITION_FIXED_SUPPORTED&&f&&f.type==="scroll"&&(n.style.left=i.body.clientWidth+i.body.scrollLeft-105+"px")):(n.style.left=u(r)-c.scrollLeft+"px",n.style.right="")}}window.setTimeout(e,0);t.addEventListener(window,"scroll",e,!1);t.addEventListener(window,"resize",e,!1);t.addEventListener(window,"resize",tt,!1)}else n.style.right=s;t.addEventListener(n,"click",this.show.bind(this,"Floating"),!1);t.addEventListener(n,"touchend",this.show.bind(this,"Floating"),!1);i.body.appendChild(n);t.POSITION_FIXED_SUPPORTED||t.Browser.MobileSafari||(a.style.height=n.clientHeight+"px",nt=n.clientHeight,setTimeout(l,100))},removeFloatingLogo:function(){document.body.removeChild(this.floatingLogo);this.spacer&&document.body.removeChild(this.spacer)}}),t.extend(t.Ocode.prototype,{bar:function(){function h(n){var t=0,i=0;if(n.offsetParent){do t+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);return[t,i]}}function c(){var t=document.activeElement,i;t&&(i=h(t),i)&&i[1]+t.clientHeight>(window.innerHeight||document.body.clientHeight)+(window.pageYOffset||document.body.scrollTop)-n.clientHeight&&window.scrollBy(0,t.clientHeight+20)}var i=document,n=this.floatingLogo=i.createElement("div"),e=i.createElement("span"),r,o,s,l=i.documentElement.scrollTop||i.body.scrollTop,u=i.createElement("div"),f;u.innerHTML="Link opens comment card";u.className="screen_reader";n.appendChild(u);this.reflowBar=t.K;n.id="oo_bar";e.innerHTML=this.options.bar.caption||"Feedback";n.appendChild(e);n.tabIndex=0;n.onkeyup=function(n){var t=n||window.event;t.keyCode===13&&this.show()}.bind(this);t.addEventListener(n,"click",this.show.bind(this,"Bar"));document.body.className+=document.body.className<1?"oo_bar":" oo_bar";document.body.appendChild(n);f=/MSIE ([\d\.]+);/.exec(window.navigator.userAgent);t.Browser.IE&&f&&+f[1]<8?(r=i.compatMode==="CSS1Compat"?function(t){t&&t.type==="resize"&&setTimeout(r,50);n.style.top=i.documentElement.scrollTop+document.documentElement.clientHeight-n.clientHeight-1+"px";n.style.width=Math.max(i.documentElement.clientWidth,i.body.offsetWidth)+"px"}:function(){n.style.top=i.body.scrollTop+document.body.clientHeight-n.clientHeight-1+"px";n.style.width=Math.max(i.documentElement.clientWidth,i.body.offsetWidth)-22+"px"},n.style.position="absolute",t.addEventListener(window,"scroll",r,!1),t.addEventListener(window,"resize",r,!1),this.reflowBar=function(){n.style.display="none";r();n.style.display="block"},r()):t.Browser.MobileSafari&&t.Browser.ua.search("OS 4")!==-1&&(o=window.innerHeight,n.style.bottom=null,n.style.top=window.pageYOffset+window.innerHeight-22+"px",r=function(){s=window.pageYOffset-(o-window.innerHeight);n.style.webkitTransform="translateY("+s+"px)"},t.addEventListener(window,"scroll",r,!1),setTimeout(r,100));t.addEventListener(document.body,"keyup",c,!1)}}),t.extend(t.Ocode.prototype,{tab:function(){function o(){var t=i.documentElement.scrollTop||i.body.scrollTop,u=i.documentElement.scrollLeft||i.body.scrollLeft,f=i.documentElement.clientHeight||document.body.clientHeight;n.style.top=t+(f/2-n.clientHeight/2)+"px";r.position&&r.position!=="right"||(n.style.right=-1*u+2+"px")}function s(){n.style.top=pageYOffset+(innerHeight/2-n.clientHeight/2)+"px";n.style.right=document.documentElement.clientWidth-window.innerWidth-window.pageXOffset-15+"px"}var i=document,n=this.floatingLogo=i.createElement("div"),f=i.createElement("div"),e=i.createElement("div"),u=i.createElement("span"),r=this.options.tab;r.wcagBasePath&&(e=i.createElement("a"),e.setAttribute("href","#"),u=i.createElement("img"),u.className="logo",u.setAttribute("alt","Feedback"),u.setAttribute("src",r.wcagBasePath+(t.Browser.ua.search("IE 6")!==-1?"oo_tabie6.png":"oo_tab.png")));n.id="oo_tab";n.className="oo_tab_"+(r.position||"right");r.wcagBasePath&&(n.className+=" wcag");t.POSITION_FIXED_SUPPORTED||t.Browser.MobileSafari||(n.style.position="absolute",(!r.position||r.position==="right")&&t.Browser.IE&&(n.className+=" oo_tab_ie_right",(t.Browser.ua.search("IE 6")!==-1||t.Browser.ua.search("IE 7")!==-1)&&(n.className+="  oo_tab_ie67_right"),t.Browser.ua.search("IE 6")===-1&&(t.addEventListener(window,"scroll",o,!1),t.addEventListener(window,"resize",o,!1))));typeof r.tabIndex=="number"?n.tabIndex=r.tabIndex:typeof r.tabIndex=="undefined"&&(n.tabIndex=0);n.onkeyup=function(n){var t=n||window.event;t.keyCode===13&&this.show()}.bind(this);e.appendChild(u);n.appendChild(e);f&&(f.className="screen_reader",f.innerHTML="Activate to launch comment card",n.appendChild(f));t.addEventListener(n,"click",this.show.bind(this,"Tab"),!1);i.body.appendChild(n);t.Browser.MobileSafari&&t.Browser.ua.search("OS 4")!==-1&&(n.style.position="absolute",t.addEventListener(window,"scroll",s,!1),setTimeout(s,100))}}),t.extend(t.Ocode.prototype,{setupOnPageCC:function(){function e(f){return f&&f.preventDefault&&f.preventDefault(),document.body.focus(),u.tabIndex=-1,u.title="empty",u["aria-hidden"]="true",i.style.display="none",i.className="",n.body.removeChild(r),window.postMessage?t.removeEventListener(window,"message",l):window.clearInterval(d),w=!1,b.onPageCardVisible=!1,!1}var n=document,i=t.Cache.overlay||n.createElement("div"),r=this.wrapper=n.createElement("div"),f=n.createElement("div"),o=n.createElement("div"),s=n.createElement("span"),y=this.frameName,u=n.createElement(t.DYNAMIC_FRAME_NAME_IS_BUGGY?'<iframe name="'+y+'">':"iframe"),p=n.createDocumentFragment(),h=this.options,g=h.onPageCard,c,d,w=!1,b=this,l,k,a,v=n.createElement("span");l=t.Ocode.postMessageHandler(function(f){var v=parseInt(f,10),l,h;if(v>0){if(w)return;w=!0;l=window.innerHeight||n.documentElement.clientHeight||n.body.clientHeight;h=v;a=r.offsetTop;h+a>l&&(h=l-40-a);u.style.width="555px";o.style.width="555px";u.style.height=h+"px";r.style.visibility="visible";s.clientHeight<20&&(s.style.height=r.offsetHeight+"px");i.className="no_loading";b.onPageCardVisible=!0;c&&n.body.removeChild(c)}else f==="submitted"&&e();t.Browser.IE&&n.compatMode==="BackCompat"&&window.scrollTo(0,0)},b.options.commentCardUrl);h.metrics.type="OnPage";t.Cache.overlay=i;i.id="oo_overlay";i.style.display="block";i.className="";o.className="iwrapper";r.className="oo_cc_wrapper";r.setAttribute("role","alert");r.setAttribute("aria-describedby","comment_card_description");v.className="screen_reader";v.id="comment_card_description";v.innerHTML="Please leave your feedback in the comment card you just activated";r.appendChild(v);f.className="oo_cc_close";f.innerHTML='<span class="screen_reader">Link closes comment card<\/span>X';f.title="Click to close comment card";r.style.visibility="hidden";f.tabIndex=0;f.onkeyup=function(n){var t=n||window.event;t.keyCode===13&&e()};t.Browser.IE&&(u.frameBorder="0",window.XMLHttpRequest&&n.compatMode!=="BackCompat"||(k=Math.max(n.documentElement.clientWidth,n.body.offsetWidth),i.style.position="absolute",i.style.width=n.compatMode==="BackCompat"?k-21+"px":k+"px",i.style.height=Math.max(n.documentElement.clientHeight,n.body.offsetHeight)+"px",r.style.position="absolute",t.addEventListener(window,"scroll",function(){i.style.top=n.body.scrollTop+document.body.clientHeight-i.clientHeight+"px";r.style.top=n.body.scrollTop+a+25+"px"})));t.addEventListener(f,"click",e);g.closeWithOverlay&&!t.Browser.isMobile&&(r.appendChild(s),s.onclick=e,i.onclick=e);u.src=" ";u.name=y;u.title="Comment Card";o.appendChild(f);o.appendChild(u);r.appendChild(o);p.appendChild(r);p.appendChild(i);n.body.appendChild(p);window.postMessage?t.addEventListener(window,"message",l):d=setInterval(l,500);h.metrics.time2=(new Date).getTime();c=t.appendOOForm(h,y);c.submit()}}),t.extend(t.Ocode,{postMessageHandler:function(n,t,i){return function(r){var u;return(i||(i=location),r&&!(r.origin==="https://secure.opinionlab.com"||r.origin.indexOf(t)!==0)||!r&&i.hash.search("OL=")===-1)?!1:(u=r?r.data:i.hash.split("=").pop(),!r&&location.hash&&(location.hash=""),n(u),u)}}}),t.Invitation=function(n){var i,r,u;if(!t.Browser.isMobile&&(this.options={tunnelCookie:"oo_inv_tunnel",repromptTime:604800,responseRate:50,repromptCookie:"oo_inv_reprompt",promptMarkup:"oo_inv_prompt.html",promptStyles:"oo_inverstitial_style.css",percentageCookie:"oo_inv_percent",pagesHitCookie:"oo_inv_hit",popupType:"popunder",promptDelay:0,neverShowAgainButton:!1,loadPopupInBackground:!1,truncatePrevCurrentMetrics:!1,disablePrevCurrentMetrics:!1,tealeafCookieName:"TLTSID",monitorWindow:"oo_inv_monitor.html",beforePrompt:t.K},this.popupShown=!1,t.extend(this.options,n),i=this.options,r=parseInt(t.readCookie(i.pagesHitCookie),10)||0,t.Invitation.friendlyDomains=i.friendlyDomains||null,u={weight:Number(t.readCookie("oo_OODynamicRewrite_weight")),searchPattern:t.readCookie("oo_OODynamicRewrite_searchPattern"),replacePattern:t.readCookie("oo_OODynamicRewrite_replacePattern")},t.eraseCookie("oo_OODynamicRewrite_weight"),t.eraseCookie("oo_OODynamicRewrite_searchPattern"),t.eraseCookie("oo_OODynamicRewrite_replacePattern"),(!window.OOoDynamicRewrite||window.OOoDynamicRewrite.weight<u.weight)&&(window.OOoDynamicRewrite=u),window.OOoDynamicRewrite&&"number"==typeof window.OOoDynamicRewrite.weight&&!isNaN(window.OOoDynamicRewrite.weight)&&(t.createCookie("oo_OODynamicRewrite_weight",window.OOoDynamicRewrite.weight),window.OOoDynamicRewrite.searchPattern&&t.createCookie("oo_OODynamicRewrite_searchPattern",window.OOoDynamicRewrite.searchPattern),window.OOoDynamicRewrite.replacePattern&&t.createCookie("oo_OODynamicRewrite_replacePattern",window.OOoDynamicRewrite.replacePattern)),(location.search.search("evs")!==-1||t.readCookie("oo_evs_friendly")==="yes")&&(t.eraseCookie("oo_evs_friendly"),i.loadPopupInBackground=!0,this.launchPopup(),t.createCookie(i.repromptCookie,1,i.repromptTime===-1?0:i.repromptTime)),setTimeout(function(){window.oo_inv_monitor&&(i.area&&location.href.search(i.area)===-1?(this.options.popupType="popup",this.launchPopup()):i.goal&&location.href.search(i.goal)!==-1&&window.oo_inv_monitor.close())}.bind(this),1600),!t.readCookie(i.repromptCookie))&&(!i.thirdPartyCookies||!t.checkThirdPartyCookies(i.thirdPartyCookies))){if(t.readCookie(i.percentageCookie)||t.createCookie(i.percentageCookie,Math.random()>1-i.responseRate/100?"1":"0"),typeof i.promptTrigger!="undefined")if(i.promptTrigger instanceof RegExp){if(!window.location.href.match(i.promptTrigger))return}else if(i.promptTrigger instanceof Array&&!t.checkTunnel(location.pathname,i.promptTrigger,i.tunnelCookie))return;(r+=1,t.createCookie(i.pagesHitCookie,r),i.pagesHit&&r<i.pagesHit)||(t.eraseCookie(i.tunnelCookie),t.readCookie(i.percentageCookie)==="1"&&window.setTimeout(function(){t.createCookie(i.repromptCookie,1,i.repromptTime);this.options.beforePrompt();this.getPrompt()}.bind(this),i.promptDelay*1e3))}},t.Invitation.notifyFriendlyLocationChange=function(){window.oo_inv_monitor&&t.createCookie("oo_evs_friendly","yes")},t.Invitation.prototype={getPrompt:function(){t.getPrompt.call(this)},showPrompt:function(n){t.showPrompt.call(this,n,this.launchPopup)},launchPopup:function(){if(!this.popupShown){this.popupShown=!0;var n=this.options,h=window.location.href,u=n.popupType==="popup"?"https://secure.opinionlab.com/ccc01/comment_card.asp?":n.pathToAssets+n.monitorWindow+"?"+(new Date).getTime()+"&",f,e=n.asm?[555,500]:[400,335],r,i=t.createMetrics(),s=t.readCookie(n.tealeafCookieName),o;n.clickTalePID&&window.ClickTaleGetUID&&window.ClickTaleGetSID&&(s+="|"+[n.clickTalePID,window.ClickTaleGetUID(),window.ClickTaleGetSID()].join("/"));e=n.newWindowSize||e;o="scrollbars=1,resizable=1,location=no,status=no,width="+e[0]+",height="+e[1];n.referrerRewrite&&(i.referer=t.referrerRewrite(n.referrerRewrite));n.truncatePrevCurrentMetrics&&(i.prev=t.truncateMetric(i.prev),i.currentURL=t.truncateMetric(i.currentURL));n.disablePrevCurrentMetrics&&(i.prev="",i.currentURL="");n.thirdPartyCookies&&t.setThirdPartyCookies(n.thirdPartyCookies);f=t.toQueryString(i)+"&type=Invitation";n.customVariables&&(f+="&customVars="+encodeURIComponent(t.serialize(n.customVariables)));f+="&custom_var="+t.createLegacyVars(n.legacyVariables,s);n.asm&&(f+="&asm=2",o+=",scrollbars=1");u+=f;u.match(/\?/g).length===2&&(u=u.replace(/\?([^?]*)$/,"&$1"));this.popup=r=window.open(u,"OnlineOpinionInvitation",o);!n.loadPopupInBackground&&t.$("oo_container")&&t.hidePrompt();n.popupType==="popunder"?t.Browser.Chrome?(n.loadPopupInBackground||window.alert(n.chromeMainWinPrompt||"Please fill out the form behind this window when you are finished."),n.chromeSurveyPrompt&&setTimeout(function(){r.postMessage(n.chromeSurveyPrompt,"*")},500)):(r.blur(),window.focus()):window.oo_inv_monitor&&(t.Browser.Chrome?(r.alert(n.chromeSurveyPrompt||"Please fill out the form"),r.focused=!0):(window.blur(),r.focus()))}},killPrompt:function(){this.options.clickCallbacks&&typeof this.options.clickCallbacks.no=="function"&&this.options.clickCallbacks.no();t.createCookie(this.options.repromptCookie,1,15768e4);t.hidePrompt()}},t.extend(t.Invitation,{navigateToFriendlyDomain:function(n){location.href=n}}),t})}},n}(BELL||{},$||jQRSX),function(n,t){t(document).ready(function(){t(".rsx-federal-bar-shopping-cart a[href='#']").attr("href","/shopping_cart");t(".rsx-federal-bar-shopping-cart a").removeClass("disabled");t.each(n.rsx,function(){if(typeof this=="object"&&typeof this.init=="function")try{this._moduleInitialized||(this.init(),this._moduleInitialized=!0)}catch(n){console.error("Error initializing module: ",n)}});n.rsx.utils.initWidgets()})}(BELL,jQRSX);BELL=function(n,t){return n.shop=n.shop||{},n.shop.index={init:function(){var r=t(".rsx-custom-select").customSelect(),n,i;t(".rsx-tabbed-pane").tabbedPane({additionalControl:r});t(".rsx-custom-select").on("customselectchange",function(n,i){t(".rsx-tabbed-pane").tabbedPane("displayActive",i.value)});n=window.location.href;n.indexOf("??")>-1&&(i=n.indexOf("&")>0?n.substring(n.lastIndexOf("??")+2,n.indexOf("&")):n.substring(n.lastIndexOf("??")+2),i!=""&&t("html, body").animate({scrollTop:t("#"+i).offset().top},1500))}},n}(BELL||{},jQRSX);BELL=function(n,t){return n.shop=n.shop||{},n.shop.echat={eChatBody:"#inqC2CShopBody",eChatTalkToUs:"#inqC2CShop_TalkToUs",eChatFooter:"#inqC2CShopFooter",interval:1e3,timeout:6e4,echatBodyParent:"li",echatTalkToUsParent:"li",echatFooterParent:".rsx-footer-search-wrap-link",echatLegacyFooterParent:".rsx-lgc-footer-search-wrap-link",init:function(){var n=this;n.divCheckHide(n.eChatBody,n.echatBodyParent);n.divCheckHide(n.eChatTalkToUs,n.echatTalkToUsParent);n.divCheckHide(n.eChatFooter,n.echatFooterParent);n.divCheckHide(n.eChatFooter,n.echatLegacyFooterParent);var i=null,r=null,u=null;t(window).on("load",function(){i=setInterval(function(){n.divCheckShow(n.eChatBody,n.echatBodyParent,i)},n.interval);r=setInterval(function(){n.divCheckShow(n.eChatTalkToUs,n.echatTalkToUsParent,r)},n.interval);u=setInterval(function(){n.divCheckShow(n.eChatFooter,n.echatFooterParent,u)},n.interval);setTimeout(function(){clearInterval(i)},n.timeout);setTimeout(function(){clearInterval(i)},n.timeout);setTimeout(function(){clearInterval(i)},n.timeout)})},divCheckShow:function(n,i,r){var u,f;t(n).length>0&&(t(n).contents().html(),t.trim(t(n).contents().html()).length>0&&(i=="li"&&(u=t(n).closest(i).closest("ul")),t(n).closest(i).addClass("rsx-display-option"),t(n).closest(i).css("display",""),f=t(n).children().first().attr("onclick"),t(n).closest(i).attr("onclick",f),u&&u.length>0&&u.find("li").css("border-width",1),clearInterval(r)))},divCheckHide:function(n,i){if(i=="li")var r=t(n).closest(i).closest("ul");t(n).closest(i).hide();r&&r.length>0&&r.find("li:visible:first").css("border-width",0)},popUpChat:function(){}},n}(BELL||{},jQRSX);jQuery(document).init(function(){var t,n=jQuery(".notif-banner"),i=jQuery(".close-button");document.getElementById("notif-cookie-name")!==null&&(t=document.getElementById("notif-cookie-name").firstElementChild);document.cookie.replace(/(?:(?:^|.*;\s*)canadaPostNotif\s*\=\s*([^;]*).*$)|^.*$/,"$1")!=="true"?n.addClass("notif-banner-open"):n.attr("aria-hidden",!0);i.click(function(){n.addClass("notif-banner-closed");n.attr("aria-hidden",!0);document.cookie=t.id+"=true; max-age=2592000"})});BELL=function(n,t){return n.shop=n.shop||{},n.shop.likeabilityCards={init:function(){var n=this,i;if(this.$window=t(window),this.windowWidth=this.$window.width(),this.$componentRoot=t("#hpCards"),this.$cardContainer=this.$componentRoot.find("#hpCardsWrap"),this.cardCount=this.$cardContainer.find(".hp-card").length,this.$componentRoot.removeAttr("class").addClass("hp-cards hp-cards_"+this.cardCount+"-col"),this.cardCount>1){this.$mainContainer=this.$componentRoot.find("#hpCardsContainer");this.activeCard=0;this.lastPosX=0;this.endPosX=this.$mainContainer.outerWidth()-this.$cardContainer.outerWidth();this.isPanning=!1;this.checkPanAvailability();this.$window.on("resize",this.handleResize);i=new Hammer.Manager(this.$cardContainer[0]);i.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,touchAction:"pan-x"}));i.on("pan",function(t){if(n.isEnablePan&&Math.abs(t.deltaY)<50){n.isPanning||(n.isPanning=!0);var i=t.deltaX+n.lastPosX;i>0&&(i=0);i<n.endPosX&&(i=n.endPosX);n.$cardContainer.css("transform","translateX( "+i+"px )");t.isFinal&&(n.isPanning=!1,t.deltaX<0&&t.deltaX<-50?(n.activeCard=n.activeCard<n.cardCount-1?n.activeCard+=1:n.activeCard,Math.abs(t.deltaX)>Math.abs(n.endPosX/3)+50&&(n.activeCard=n.cardCount-1)):t.deltaX>0&&t.deltaX>50&&(n.activeCard=n.activeCard>0?n.activeCard-=1:n.activeCard,Math.abs(t.deltaX)>Math.abs(n.endPosX/3)+50&&(n.activeCard=0)),n.goToCard())}});this.$cardContainer.on("focus",".hp-card",function(){var i=this;clearTimeout(this.panTimer);n.panTimer=setTimeout(function(){n.isPanning||(n.activeCard=t(i).index(),n.goToCard())},200)})}},goToCard:function(){var n=BELL.shop.likeabilityCards;n.$cardContainer.addClass("is-animating");(n.activeCard===2||n.activeCard===1&&n.cardCount===2)&&(n.$cardContainer.css("transform","translateX("+n.endPosX+"px)"),n.lastPosX=n.endPosX);n.activeCard===1&&n.cardCount===3&&(n.$cardContainer.css("transform","translateX("+n.endPosX/2+"px)"),n.lastPosX=n.endPosX/2);n.activeCard===0&&(n.$cardContainer.css("transform","translateX(0px)"),n.lastPosX=0);clearTimeout(n.timer);n.timer=setTimeout(function(){n.$cardContainer.removeClass("is-animating")},400)},handleResize:function(){var n=BELL.shop.likeabilityCards;n.windowWidth!==n.$window.width()&&(n.windowWidth=n.$window.width(),clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){n.endPosX=n.$mainContainer.outerWidth()-n.$cardContainer.outerWidth();n.lastPosX=0;n.activeCard=0;n.goToCard();n.checkPanAvailability()},250))},checkPanAvailability:function(){var n=BELL.shop.likeabilityCards;window.matchMedia("(max-width: 639px)").matches&&n.cardCount==2&&(n.isEnablePan=!0);window.matchMedia("(min-width: 640px)").matches&&n.cardCount==2&&(n.isEnablePan=!1);window.matchMedia("(max-width: 999px)").matches&&n.cardCount==3&&(n.isEnablePan=!0);window.matchMedia("(min-width: 1000px)").matches&&n.cardCount==3&&(n.isEnablePan=!1)}},n}(BELL||{},jQRSX),function(n,t){t(document).ready(function(){t.each(n.shop,function(){if(typeof this=="object"&&typeof this.init=="function")try{this._moduleInitialized||(this.init(),this._moduleInitialized=!0)}catch(n){console.error("Error initializing module: ",n)}});n.rsx.utils.initWidgets(t("body"),"shop")})}(BELL,jQRSX)