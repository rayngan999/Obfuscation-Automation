(("undefined"==typeof globalThis?self:globalThis).webpackChunkasp_net=("undefined"==typeof globalThis?self:globalThis).webpackChunkasp_net||[]).push([[3],{76676:function(){!function(a){!function(i){var t="/dynamic-digital-data/init";function e(){var i=window.location.search;"product"===window.digitalData.page.category.pageType?(i+=i?"&":"?",i+="sku="+window.digitalData.product[0].productInfo.productId+"&pageType="+window.digitalData.page.category.pageType):"family"===window.digitalData.page.category.pageType&&(i+=i?"&":"?",i+="familyId="+window.digitalData.page.pageInfo.pageId.replace("f","")+"&pageType="+window.digitalData.page.category.pageType),t+=i,a.Services.HttpService.get(t).then((function(i){window.digitalData=Object.assign(window.digitalData,i);var t=document.createEvent("Event");if(t.initEvent("DynamicDigitalDataInitialized",!0,!0),document.body.dispatchEvent(t),Array.isArray(window.digitalData.user)&&window.digitalData.user.length>0){var e=window.digitalData.user[0];if(Array.isArray(e.profile)&&e.profile.length>0){var n=e.profile[0].attributes,o={uuid:n.uuid,loggedInEmailHash:n.loggedInEmailHash,emailHash:n.emailHash,grid:n.grID,cbhCookie:n.cbhCookie,registryDate:n.eventDate,cbcc:n.cbcc,cmAccountNumber:n.cmAccountNumber},d=window.digitalData.transaction;if(null!=d){var r=d.profile;if(null!=r){var l=r.profileInfo;null!=l&&(o.transactionEmailHash=l.email)}}a.DigitalDataLayer.identify({eventInfo:{eventName:"Identify"},category:{primaryCategory:"Identify"},attributes:o})}}})).catch((function(a){var i={eventInfo:{eventName:"DynamicDigitalDataInitializationFailed",eventAction:"error",type:"error",timeStamp:new Date,effect:"dynamic digital data is not initialized. errorMessage:'"+a+"'"}};window.digitalData.event.push(i)}))}i.Refresh=function(){},void 0!==window.digitalData&&void 0!==window.digitalData.page?e():document.body.addEventListener("DigitalDataLoaded",(function(a){a.target===document.body&&e()}),!1)}(a.DynamicDigitalData||(a.DynamicDigitalData={}));a.DynamicDigitalData}(window.Crate||(window.Crate={}))},18153:function(a,i,t){"use strict";t(76676)}},0,[[18153,6926,2307,234,8947,7262,6364]]]);;
