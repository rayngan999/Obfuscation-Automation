!function(){var e,t,n,a,i,s,o={},r=new CustomEvent("ftChange");function l(){if(!window.Rexus)return this.msg="Rexus not found...";if(x(),window.Rexus.dropDown)(a=window.Rexus.dropDown).constructor.prototype.formDropDown=function(t){if(!t)return this.msg="Failed to load form drop down element",this.msg;var a,i=this.createDropDown(),l=i.querySelector(".c-dropDown__toggler"),p=i.querySelector(".c-dropDown__panel");i.dataset.root=n.dataset.id,l.addEventListener("click",L);var v=t.getElementsByTagName("select")[0],f=t.getElementsByTagName("option");t.getElementsByTagName("label")[0],e.tmpID=window.Rexus.cuid.generate("tmp"),v.id=v.id?v.id:window.Rexus.cuid.generate("sel");var h,m,g=document.createElement("ul");g.classList.add("c-dropDown__panel__items"),g.dataset.reference=v.id,v.hasAttribute("multiple")&&(g.dataset.multiple=!0),v.style.position="absolute",v.style.height="1px",v.style.width="1px",v.style.border="0",v.style.clip="rect(0, 0, 0, 0)",h=n.classList.contains("f-input--searchable")?e.newInput("string",null,!0):e.newInput("string",null),l.appendChild(h),m=l.querySelector("input"),n.classList.contains("f-input--searchable")?(m.addEventListener("keyup",(function(e){if(38==e.keyCode||40==e.keyCode||13==e.keyCode)return!1;var t=this.parentNode.parentNode.parentNode.parentNode.dataset.root,n={searchString:this.value,selectArray:o[t],optionPanel:g};_(this.id),clearTimeout(s),s=setTimeout(c,500,n)})),m.addEventListener("compositionend",(function(e){var t=this.parentNode.parentNode.parentNode.parentNode.dataset.root,n={searchString:this.value,selectArray:o[t],optionPanel:g};_(this.id),c(n)})),m.dataset.reference=v.id,m.addEventListener("focus",(function(e){var t=this;setTimeout((function(){$(t).closest(".c-dropDown").hasClass("c-dropDown--active")||$(t).trigger("click")}),100),document.getElementById(t.dataset.reference).value||(t.value="");var n=t.parentNode.parentNode.parentNode.parentNode.dataset.root,a={searchString:"",selectArray:o[n],optionPanel:g};_(this.id),c(a)})),m.addEventListener("keydown",(function(e){if(13==e.keyCode){for(var t=0;t<g.childNodes.length;t++)if(g.childNodes[t].classList.contains("hover")){g.childNodes[t].classList.remove("hover"),g.childNodes[t].click(),this.blur();break}return e.stopPropagation(),e.preventDefault(),!1}var n=-1,a=!1;if(38==e.keyCode||40==e.keyCode)for(a=!0,t=0;t<g.childNodes.length;t++)if(g.childNodes[t].classList.contains("hover")){g.childNodes[t].classList.remove("hover"),n=t;break}if(38==e.keyCode?(n<1&&(n=g.childNodes.length),n--):40==e.keyCode&&(n>=g.childNodes.length-1&&(n=-1),n++),a){g.childNodes[n].classList.add("hover");var i=$(g.childNodes[n]).position().top;return i<0?$(g).scrollTop($(g).scrollTop()+i):i>g.offsetHeight-g.childNodes[n].offsetHeight&&$(g).scrollTop($(g).scrollTop()+i-g.offsetHeight+g.childNodes[n].offsetHeight),e.stopPropagation(),e.preventDefault(),!1}for(t=0;t<g.childNodes.length;t++)g.childNodes[t].classList.contains("hover")&&g.childNodes[t].classList.remove("hover")})),m.addEventListener("blur",(function(){window.Rexus&&window.Rexus.dropDown;var e=this,t=document.getElementById(e.dataset.reference),n=e.parentNode.parentNode.parentNode.parentNode.dataset.root;_(this.id),setTimeout((function(){if("true"!=e.dataset.isValueSet){var a={searchString:e.value,selectArray:o[n],optionPanel:g};if(a.searchString.length>0){a.selectArray.push(a.searchString);var i=a.selectArray.filter(u);d=null;var s=b(i);s.length>0?(t.value=s[0].option.value,e.value=s[0].option.text):(e.value="",t.value="")}else e.value="",t.value="";e.value||(a.searchString=e.value,c(a),t.value||t.parentNode.parentNode.classList.remove("f-input--changed"));var r=$(t);r.valid&&r.valid()}else e.dataset.isValueSet="false"}),320)}))):m.disabled=!0;for(var y=[],w=!1,x=0;x<f.length;x++){var N={};(a=f[x]).selected&&""!=a.textContent&&(w=!0,t.parentNode.classList.contains("f-input--changed")||(N.selected=!0,h.getElementsByTagName("input")[0].value=a.textContent,t.parentNode.classList.add("f-input--changed"),t.parentNode.dispatchEvent(r))),x!=f.length-1||w||(f[0].selected=!0),N={title:"",selected:a.selected},a.textContent&&(N.title=a.textContent,N.value=a.value,N.index=x),y.push(N)}o[i.dataset.root]=y;var S=b(y,g.dataset.multiple);for(x=0;x<S.length;x++){var C=S[x];g.appendChild(C.li)}return p.appendChild(g),i};else{if(document.querySelector(".f-input__select"))return this.msg="ERROR :: Drop Down Class must be imported";this.msg="WARN :: Drop Down class has not be initialized; class is requred for select menus"}window.Rexus.formInput||window.addEventListener("click",w),t=document.querySelectorAll(".f-input"),e=this,function(){if(!t)return this.msg="No Input Elements to Initiate";for(var i=0;i<t.length;i++)if(!(n=t[i]).dataset.id){var s=n.classList,o=window.Rexus.cuid.generate("fi");n.dataset.id=o;var l=n.querySelector(".f-input__title");l&&(n.querySelector(".f-input__radio")||n.querySelector(".f-input__checkbox")||n.removeChild(l)),n.querySelector(".f-input__checkbox, .f-input__radio")&&(n.style.flexWrap="wrap",n.style.borderStyle="none");var d=n.querySelector(".f-input__select");if(d){var c=a.formDropDown(d),u=d.querySelector("select"),m=c.querySelector("ul"),g=parseInt(window.getComputedStyle(document.body,null).getPropertyValue("line-height"),10),L=u.dataset.viewLimit?u.dataset.viewLimit:5,w=parseInt(window.getComputedStyle(document.body,null).getPropertyValue("font-size"),10),x=g/w*L;m.style.maxHeight=x+"em",u.dataset.root=o,d.appendChild(c),u.addEventListener("change",(function(){var e=this.parentNode.querySelector("input");e&&(e.value=this.options[this.selectedIndex].text)}))}var _=n.querySelector(".f-input__string input, .f-input__string textarea");if(_){if(_.dataset.root=o,_.addEventListener("focus",p),_.addEventListener("change",v),d||_.addEventListener("blur",f),_.addEventListener("animationstart",h),"textarea"===_.tagName.toLowerCase()&&_.addEventListener("keyup",y),_.hasAttribute("placeholder")){var b=window.Rexus.tooltip?window.Rexus.tooltip:null,N={};b?(N.target=n,N.type="helper",N.text=_.getAttribute("placeholder"),_.removeAttribute("placeholder"),b.createTooltip(N)):(_.removeAttribute("placeholder"),console.log("WARN :: General placeholders not supported, must include 'Tooltips' class to convert placeholders into tooltips"))}if("password"===_.type){var E=document.createElement("a");E.href="javascript: void(0)",E.dataset.root=o,E.classList.add("f-input__icon"),E.innerHTML='<span class="hidden">password visible</span><svg style="fill:#999;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 30"><path d="M22,0A23.65,23.65,0,0,0,0,15a23.63,23.63,0,0,0,44,0A23.64,23.64,0,0,0,22,0Zm0,25A10,10,0,1,1,32,15,10,10,0,0,1,22,25ZM22,9a6,6,0,1,0,6,6A6,6,0,0,0,22,9Z"/></svg>',E.addEventListener("click",C),n.classList.add("f-input--reactive"),n.appendChild(E)}_.value&&(n.classList.add("f-input--changed"),n.dispatchEvent(r))}var q=n.querySelector(".f-input__checkbox input, .f-input__radio input");q&&(q.dataset.root=o,q.addEventListener("change",v));for(var D=0;D<s.length;D++){switch(s[D]){case"f-input--valid":S(n,e.setValid);break;case"f-input--invalid":S(n,e.setInvalid);break;case"f-input--disabled":S(n,e.setDisabled)}}}}(),window.addEventListener("load",(function(){for(var e=0;e<t.length;e++){var n=t[e];if(!n.classList.contains("f-input--dropdown")){var a=n.querySelector(".f-input__string input, .f-input__string textarea");a&&a.value&&(n.classList.add("f-input--changed"),n.dispatchEvent(r))}}}))}var d=null;function c(e){var t;if(e.searchString.length<1)t=b(e.selectArray);else{e.selectArray.push(e.searchString);var n=e.selectArray.filter(u);d=null,t=b(n)}e.optionPanel.innerHTML="";for(var a=0;a<t.length;a++){var i=t[a];e.optionPanel.appendChild(i.li)}}function u(e,t,n){return d||(d=n.pop()),!!e.title&&!(e.title.toLowerCase().indexOf(d.toLowerCase())<0)}function p(e){var t=document.querySelector("[data-id="+this.dataset.root+"]");t.classList.contains("f-input--reactive")&&""==this.value&&this.addEventListener("keyup",g),t.classList.add("f-input--active"),x()&&t.classList.contains("c-tooltip")&&i.multiFormInputToggle(t)}function v(e){var t=document.querySelector("[data-id="+this.dataset.root+"]");t.classList.add("f-input--changed"),t.dispatchEvent(r)}function f(e){var t=document.querySelector("[data-id="+this.dataset.root+"]");t.classList.remove("f-input--active"),!this.value&&t.classList.contains("f-input--changed")&&t.classList.remove("f-input--changed"),x()&&i.clearTooltips()}function h(e,t){t}function m(e){var t=this.parentNode;console.log(t);var n=document.getElementById(t.dataset.reference),a=document.getElementById(this.dataset.input),i=document.querySelector("[data-id="+a.dataset.root+"]");if(!!t.dataset.multiple){e.stopPropagation();var s=this.querySelector("input[type='checkbox']"),o=n.getElementsByTagName("option"),l=o[this.dataset.index],d=0;s.checked=!s.checked,l.selected=!l.selected,a.value="";for(var c=0;c<o.length;c++)o[c].selected&&o[c].value&&(d>0&&(a.value+=", "),a.value+=o[c].textContent,d++);if((u=$(n).trigger("change")).valid&&u.valid(),""==a.value)return i.classList.remove("f-input--changed"),!1}else{var u,p=n.selectedIndex;if(n.selectedIndex=this.dataset.index,a.value=this.textContent,n.selectedIndex!=p)(u=$(n).trigger("change")).valid&&u.valid()}a.value&&(a.dataset.isValueSet="true"),a.blur(),i.classList.add("f-input--changed"),i.dispatchEvent(r)}function g(e){var t=document.querySelector("[data-id="+this.dataset.root+"]");t.classList.add("f-input--changed"),t.dispatchEvent(r),this.removeEventListener("keyup",g)}function y(){var e=this;setTimeout((function(){e.style.height="auto",e.style.height=e.scrollHeight+"px"}),0)}function L(e){var t,n=this.parentNode;if((t=document.querySelector("[data-id="+n.dataset.root+"]")).classList.contains("f-input--active"))return t.classList.contains("f-input--searchable")||t.classList.remove("f-input--active"),!1;if(w(),t.classList.contains("f-input--disabled"))return!1;if(t.classList.contains("f-input--searchable")&&t.classList.contains("f-input--active"))return e.target.classList.contains("f-input__icon")&&disableDropActive(),!1;t.classList.contains("f-input--searchable")&&!t.classList.contains("f-input--active")&&this.querySelector("input[type=text]").focus();t.classList.contains("f-input--searchable")||t.classList.add("f-input--active");var a=$(t).find("select");a.data("prevalue",a.val()).trigger("blur")}function w(){var e=document.querySelectorAll(".f-input.f-input--active .c-dropDown");if(e)for(var t=0;t<e.length;t++){var n=e[t];document.querySelector("[data-id="+n.dataset.root+"]").classList.remove("f-input--active"),n.classList.remove("c-dropDown--active")}}function x(){return window.Rexus.tooltip&&(i=window.Rexus.tooltip),!!i}function _(t){e.tmpID=t}function b(t,n){for(var a=[],i=0;i<t.length;i++){var s=t[i],o={},r=document.createElement("li");r.dataset.index=s.index?s.index:i,r.dataset.input=e.tmpID,n?r.appendChild(e.newInput("checkbox",s.title)):r.appendChild(document.createTextNode(s.title)),r.addEventListener("click",m),o.li=r;var l=document.createElement("option");l.value=s.value,l.title=s.title,l.selected=s.selected,l.appendChild(document.createTextNode(s.title)),o.option=l,a.push(o)}return a}function N(e){if("string"==typeof e){var t=document.getElementById(e);return t||!1}return e instanceof Element&&e}function S(e,t){var n=e.querySelector(".f-input__string, .f-input__select"),a=e.querySelectorAll(".f-input__checkbox, .f-input__radio");if(n)t(e);else if(a)for(var i=0;i<a.length;i++){t(a[i])}else console.log("INVALID SYNTAX")}function C(){var e=document.querySelector("[data-id="+this.dataset.root+"] input"),t=this.querySelector("svg");"password"==e.type?(e.type="text",t.style.fill="#000"):(e.type="password",t.style.fill="#999")}l.prototype.setValue=function(e,t){if(!(e=N(e)))return!1;t?e.classList.add("f-input--changed"):e.classList.remove("f-input--changed");var n=e.querySelector("select");e.classList.add("f-input--changed"),e.dispatchEvent(r),n?(n.value=t,n.selectedIndex>=0?e.querySelector("input").value=n.options[n.selectedIndex].text:(e.querySelector("input").value="",e.classList.remove("f-input--changed"))):e.querySelector("input")?e.querySelector("input").value=t:e.querySelector("textarea")&&(e.querySelector("textarea").value=t),$("select,input,textarea",e).trigger("change").valid()},l.prototype.setValid=function(e){if(!(e=N(e)))return!1},l.prototype.setInvalid=function(e){if(!(e=N(e)))return!1},l.prototype.setDisabled=function(e){if(!(e=N(e)))return!1;e.classList.add("f-input--disabled");for(var t=e.querySelectorAll("input, textarea"),n=0;n<t.length;n++){var a=t[n];a&&(a.disabled=!0)}var i=e.querySelector(".c-dropDown");i&&i.classList.add("c-dropDown--disabled")},l.prototype.setEnabled=function(e){if(!(e=N(e)))return!1;e.classList.remove("f-input--disabled");for(var t=e.querySelectorAll("input, textarea"),n=0;n<t.length;n++){var a=t[n];a&&a.removeAttribute("disabled")}var i=e.querySelector(".c-dropDown");i&&i.classList.remove("c-dropDown--disabled")},l.prototype.addOptions=function(e,t,n){if(!(e=N(e)))return!1;var a=e.querySelector("select"),i=e.querySelector(".c-dropDown__panel ul"),s=i.querySelector("li:last-of-type"),o=b(t,a.multiple),r=parseInt(s.dataset.index,10)+1;if(n){i.innerHTML="",r=0,a.innerHTML="";var l=document.getElementById(s.dataset.input);e.classList.remove("f-input--changed"),l.value=""}for(var d=0;d<o.length;d++){var c=o[d],u=c.li,p=c.option;u.dataset.input=s.dataset.input,u.dataset.index=r+d,i.appendChild(u),a.appendChild(p),c.selected&&u.click()}},l.prototype.reloadOptions=function(e){if(!(e=N(e)))return!1;var t=!1;e.multiple&&(t=!0);for(var n=e.parentNode,a=e.getElementsByTagName("option"),i=[],s=0,r=0;r<a.length;r++){var l=a[r];l.selected&&(s=r),i.push({selected:l.selected,title:l.textContent,value:l.value,index:r})}o[e.dataset.id||n.parentNode.dataset.id]=i;var d=n.getElementsByClassName("c-dropDown__toggler")[0].getElementsByTagName("input")[0];if(a.length>0){var c=a[s];""!=c.textContent?e.classList.contains("f-input--changed")||e.classList.add("f-input--changed"):e.classList.contains("f-input--changed")&&e.classList.remove("f-input--changed"),d.value=c.textContent}else d.value="";var u=b(i,t),p=n.querySelector(".c-dropDown__panel ul");p.innerHTML="";for(r=0;r<u.length;r++){var v=u[r].li;v.dataset.input=d.id,v.dataset.index=0+r,p.appendChild(v)}},l.prototype.addTooltip=function(e,t,n){if(!(e=N(e)))return!1},l.prototype.newInput=function(e,t,a){var i=document.createElement("div");switch(i.classList.add("f-input"),e){case"select":console.log("create select");break;case"checkbox":(r=document.createElement("div")).classList.add("f-input__checkbox"),i.appendChild(r),(l=document.createElement("input")).type="checkbox",r.appendChild(l);var s=document.createElement("label");return fInputLabelText=document.createTextNode(t),s.appendChild(fInputLabelText),r.appendChild(s),i;case"radio":(r=document.createElement("div")).classList.add("f-input__radio"),i.appendChild(r),(l=document.createElement("input")).type="radio",r.appendChild(l);s=document.createElement("label");return fInputLabelText=document.createTextNode(t),s.appendChild(fInputLabelText),r.appendChild(s),i;default:if(a){var o=document.createElement("e-icon");o.classList.add("f-input__icon"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.2 16.7"><path d="M9.8 0C5.7 0 2.4 3.3 2.4 7.4s3.3 7.4 7.4 7.4 7.4-3.3 7.4-7.4S13.9 0 9.8 0zm0 12.8c-3 0-5.3-2.4-5.3-5.3 0-3 2.4-5.3 5.3-5.3s5.3 2.4 5.3 5.3-2.4 5.3-5.3 5.3z"/><path d="M4.5 10.5L.4 14.6c-.5.5-.5 1.2 0 1.7s1.2.5 1.7 0l4.1-4.1"/></svg>',i.appendChild(o)}var r,l;(r=document.createElement("div")).classList.add("f-input__string"),i.appendChild(r),(l=document.createElement("input")).type="text",l.id=this.tmpID,r.appendChild(l);var d=n.getElementsByTagName("label")[0];d&&(s=d.cloneNode(!0),d.parentNode.removeChild(d),s.setAttribute("for",this.tmpID),r.appendChild(s));var c=document.createElement("e-icon");return c.classList.add("f-input__icon"),c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 8"><path d="M13.02.02a.062.062 0 0 0-.09 0L7.058 5.87c-.038.035-.068.039-.105.01L1.071.02a.062.062 0 0 0-.09 0L.02.977a.062.062 0 0 0 0 .09l6.937 6.915a.066.066 0 0 0 .09 0l.962-.96 5.973-5.954a.065.065 0 0 0 0-.09L13.02.02z"/></svg>',i.appendChild(c),i}},window.Rexus.formInput=new l,$((function(){var e=0;$(document).on("keyup focus blur",".f-input input,.f-input textarea,.f-input select",(function(){var t=$(this).closest(".f-input").siblings(".tooltip-group");clearTimeout(e),e=setTimeout((function(){t.find(".tooltip.first").removeClass("first"),t.find(".tooltip.hidden").removeClass("hidden"),t.find(".tooltip:visible > .tooltip__message:not(:empty)").parent().first().addClass("first"),t.find(".tooltip > .tooltip__message:empty").parent().addClass("hidden")}))})).on("mouseenter",".c-dropDown__panel__items>li",(function(){$(this).siblings().removeClass("hover"),$(this).addClass("hover")})).on("mousedown",".f-input--searchable.f-input--dropDown .c-dropDown__panel__items li",(function(){return!1}))}))}();