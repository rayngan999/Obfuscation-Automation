(this["webpackJsonp@zmedia/zmp3-desktop"]=this["webpackJsonp@zmedia/zmp3-desktop"]||[]).push([[10],{1456:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(1),l=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(e,t,n,a,c){var r=e.naturalWidth,o=e.naturalHeight;t.style.width=a+"px",t.style.height=c+"px",t.width=a,t.height=c;var u=t.getContext("2d");u.clearRect(0,0,a,c);var s=1,m=r/(s=r/a>o/c?o/c:r/a),f=o/s;try{u.drawImage(e,Math.floor((m-a)/-2),Math.floor((f-c)/-2),Math.ceil(m),Math.ceil(f))}catch(E){console.error("There was a problem drawing the image. "+E)}isNaN(n)||n<1||function(e,t,n,a,c,r){if(isNaN(r)||r<1)return;r|=0;var o,u=e.getContext("2d");try{o=u.getImageData(t,n,a,c)}catch(E){throw new Error("unable to access image data: "+E)}var s,m,f,b,d,O,g,j,v,p,h,y,A,N,R,L,P,T,C,_,k,w,I,M=o.data,S=r+r+1,F=a-1,x=c-1,Y=r+1,U=Y*(Y+1)/2,D={r:0,g:0,b:0,a:0,next:null},B=D;for(f=1;f<S;f++)B=B.next={r:0,g:0,b:0,a:0,next:null},f==Y&&(k=B);B.next=D,g=O=0;var z=l[r],H=i[r];for(m=0;m<c;m++){for(N=R=L=j=v=p=0,h=Y*(P=M[O]),y=Y*(T=M[O+1]),A=Y*(C=M[O+2]),j+=U*P,v+=U*T,p+=U*C,B=D,f=0;f<Y;f++)B.r=P,B.g=T,B.b=C,B=B.next;for(f=1;f<Y;f++)b=O+((F<f?F:f)<<2),j+=(B.r=P=M[b])*(_=Y-f),v+=(B.g=T=M[b+1])*_,p+=(B.b=C=M[b+2])*_,N+=P,R+=T,L+=C,B=B.next;for(w=D,I=k,s=0;s<a;s++)M[O]=j*z>>H,M[O+1]=v*z>>H,M[O+2]=p*z>>H,j-=h,v-=y,p-=A,h-=w.r,y-=w.g,A-=w.b,b=g+((b=s+r+1)<F?b:F)<<2,N+=w.r=M[b],R+=w.g=M[b+1],L+=w.b=M[b+2],j+=N,v+=R,p+=L,w=w.next,h+=P=I.r,y+=T=I.g,A+=C=I.b,N-=P,R-=T,L-=C,I=I.next,O+=4;g+=a}for(s=0;s<a;s++){for(R=L=N=v=p=j=0,h=Y*(P=M[O=s<<2]),y=Y*(T=M[O+1]),A=Y*(C=M[O+2]),j+=U*P,v+=U*T,p+=U*C,B=D,f=0;f<Y;f++)B.r=P,B.g=T,B.b=C,B=B.next;for(d=a,f=1;f<=r;f++)O=d+s<<2,j+=(B.r=P=M[O])*(_=Y-f),v+=(B.g=T=M[O+1])*_,p+=(B.b=C=M[O+2])*_,N+=P,R+=T,L+=C,B=B.next,f<x&&(d+=a);for(O=s,w=D,I=k,m=0;m<c;m++)M[b=O<<2]=j*z>>H,M[b+1]=v*z>>H,M[b+2]=p*z>>H,j-=h,v-=y,p-=A,h-=w.r,y-=w.g,A-=w.b,b=s+((b=m+Y)<x?b:x)*a<<2,j+=N+=w.r=M[b],v+=R+=w.g=M[b+1],p+=L+=w.b=M[b+2],w=w.next,h+=P=I.r,y+=T=I.g,A+=C=I.b,N-=P,R-=T,L-=C,I=I.next,O+=a}u.putImageData(o,t,n)}(t,0,0,a,c,n)}n.d(t,"a",(function(){return u}));var u=function(e){var t,n=e.blurRadius,l=void 0===n?0:n,i=e.children,u=e.image,s=Object(a.useRef)();Object(a.useEffect)((function(){m()}),[]),Object(a.useEffect)((function(){t?f(u)?t.src=u:o(t,s.current,l,window.innerWidth,window.innerHeight):m()}),[u]);var m=function(){f(u)?s.current&&o(t,s.current,l,window.innerWidth,window.innerHeight):((t=new Image).crossOrigin="Anonymous",t.onload=function(e){s.current&&o(t,s.current,l,window.innerWidth,window.innerHeight)},t.src=u)},f=function(e){if(t){var n=new Image;return n.src=e,n.src===u.src}return!1};return c.a.createElement(r.l,{className:"video-blur-image"},c.a.createElement("canvas",{className:"react-blur-canvas",ref:s}),i)};Object(a.memo)(u)},1461:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e){return e.nonLogged.recentSongs},c=function(e){return e.nonLogged.recentPlaylists}},1463:function(e,t,n){},1497:function(e,t,n){},1500:function(e,t,n){},1519:function(e,t,n){},1520:function(e,t,n){},1521:function(e,t,n){},1522:function(e,t,n){},1523:function(e,t,n){},1524:function(e,t,n){},1525:function(e,t,n){},1526:function(e,t,n){},1528:function(e,t,n){},1529:function(e,t,n){},1530:function(e,t,n){},1531:function(e,t,n){},1532:function(e,t,n){},1533:function(e,t,n){},1534:function(e,t,n){},1535:function(e,t,n){},1536:function(e,t,n){},1537:function(e,t,n){},1538:function(e,t,n){},1539:function(e,t,n){},1653:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(1),l=n(9),i=n(10),o=n(2),u=n(217),s=n(20),m=n(6),f=n(5),E=n.n(f),b=n(45),d=n(23),O=n(1432),g=n(35),j=c.a.memo((function(e){var t=e.name,n=e.title,a=void 0===n?"":n,l=e.icon,i=e.onClick,o=e.active,u=e.isHoverCircle,s=void 0===u||u,m=e.tooltipContent,f=e.disabledTootip,b=e.disabled,d=e.className||"btn-".concat(t);return c.a.createElement(r.N,{content:m||a,disabled:f,hideOnClick:!1},c.a.createElement(g.b,{className:E()("zm-tooltip-btn",d,{"is-hover-circle":s,"is-active":o}),onClick:i,title:a,icon:l||t,disabled:b}))}));n(1519);function v(e){var t=e.song,n=Object(O.a)(!1),o=Object(l.a)(n,2),u=o[0],s=o[1],m=Object(a.useRef)(null);if(Object(i.q)(m,(function(e){e||s(e)})),!t.encodeId)return c.a.createElement(c.a.Fragment,null);var f=b.d.filter((function(e){return e!==b.b.REMOVE_FROM_QUEUE}));return c.a.createElement(r.l,{renderAs:"span",domRef:m},c.a.createElement(j,{title:"Xem th\xeam",name:"more",onClick:s}),u&&c.a.createElement(r.l,{id:"np_menu"},c.a.createElement(b.o,{song:t,hideContextMenu:s,isInQueue:!0,buttonsType:f,containerId:"np_menu"})))}c.a.memo(v);var p=n(29),h=n(47);var y=Object(a.memo)((function(e){var t=e.playingSong,n=e.link,i=Object(a.useRef)(null),u=Object(a.useRef)(null),s=Object(a.useRef)(null),f=Object(a.useState)(!1),E=Object(l.a)(f,2),d=E[0],O=E[1],g=Object(a.useState)(!1),j=Object(l.a)(g,2),v=j[0],y=j[1],A=Object(a.useState)(!1),N=Object(l.a)(A,2),R=N[0],L=N[1],P=Object(m.c)(p.g),T=Object(a.useRef)({}),C=Object(a.useRef)({}),_=t.streamingStatus===o.V.VIP;Object(a.useEffect)((function(){I(),L(!1),k()}),[t]),Object(a.useEffect)((function(){P?w():clearTimeout(C.current)}),[P]),Object(a.useEffect)((function(){d&&w()}),[d]),Object(a.useEffect)((function(){v||(clearTimeout(C.current),d?w():P&&(C.current=setTimeout((function(){w()}),5e3)))}),[v]);var k=function(){if(i.current){var e=0;s&&s.current&&(e=s.current.clientWidth),i.current.clientWidth>e&&L(!0)}},w=function(){if(R&&!v&&i.current){var e=i.current.clientWidth,t=5*e/200;u.current&&(u.current.style.transform="translateX(-".concat(e,"px)"),u.current.style.transition="transform ".concat(t,"s linear")),y(!0),T.current=setTimeout((function(){I()}),1e3*t)}},I=function(){u.current&&(u.current.style.transform="",u.current.style.transition=""),y(!1),clearTimeout(T.current)},M=Object(a.useCallback)((function(e){O(!1)}),[d]),S=Object(a.useCallback)((function(e){O(!0)}),[d]);return c.a.createElement(r.y.Side,{align:"left",domRef:s,className:"is-mark"},c.a.createElement(r.l,{className:"song-info-wrapper",onMouseLeave:M,onMouseEnter:S,domRef:u},c.a.createElement(r.l,{renderAs:"span",className:"song-title-item",domRef:i},c.a.createElement(h.a,{to:n},c.a.createElement(b.k,{showVipLabel:_,title:t.title,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA}))),R&&c.a.createElement(r.l,{renderAs:"span",className:"song-title-item"},c.a.createElement(h.a,{to:n},c.a.createElement(b.k,{showVipLabel:_,title:t.title,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA})))))})),A=(n(1520),n(75));var N=function(e){var t=e.animate,n=e.thumbnail;return c.a.createElement(r.l,{className:E()("thumbnail-wrapper",{animate:t})},c.a.createElement(r.l,{className:"thumbnail"},c.a.createElement(r.x,{rounded:!0,size:50,src:n})),c.a.createElement(A.c,{className:"note note-1"}),c.a.createElement(A.d,{className:"note note-2"}),c.a.createElement(A.c,{className:"note note-3"}),c.a.createElement(A.d,{className:"note note-4"}))},R=Object(a.memo)((function(e){var t=e.playingSong,n=Object(m.c)(p.g),l=Object(m.c)(p.e),i=Object(a.useRef)(!1),u=Object(m.c)(s.f),f=u?u.link:t.link,O=n&&!l;return i.current=i.current||O,c.a.createElement(r.y.Side,{align:"left",className:"player-controls-left"},c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.A,{className:E()({animate:i.current})},c.a.createElement(r.A.Left,null,c.a.createElement(h.a,{to:f},c.a.createElement(N,{animate:O,thumbnail:t.thumbnailM}))),c.a.createElement(r.A.Content,null,c.a.createElement(y,{playingSong:t,link:f}),c.a.createElement(b.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators})),c.a.createElement(r.A.Right,null,c.a.createElement(r.y,null,c.a.createElement(r.y.Item,null,c.a.createElement(d.g,{className:"zm-disable-transition",objectType:o.D.SONG,objectId:t.encodeId,object:t})),c.a.createElement(r.y.Item,null,c.a.createElement(v,{song:t})))))))})),L=n(277),P=n(34),T=n(7);var C=Object(a.memo)((function(e){var t=Object(m.c)(p.d),n=window.ZMP3_PLAYER,i=Object(a.useState)(n.getCurrentTime()),s=Object(l.a)(i,2),f=s[0],E=s[1],b=Object(a.useState)({value:f,isSliding:!1}),d=Object(l.a)(b,2),O=d[0],g=d[1],j=Object(a.useRef)(f),v=function(e){E(e.current),j.current=e.current};Object(a.useEffect)((function(){return n.on(o.F.PLAYER_TIMEUPDATE,v),function(){n.off(o.F.PLAYER_TIMEUPDATE,v)}}),[n]),Object(a.useEffect)((function(){0===t&&E(0)}),[t]),Object(a.useEffect)((function(){var e=setInterval((function(){P.a.set(u.b.NP_CURRENT_TIME,j.current)}),3e3);return function(){clearInterval(e)}}),[]);var h=O.isSliding?O.value:f;return c.a.createElement(r.y.Item,{className:"mar-b-5"},c.a.createElement(r.l,{renderAs:"span",className:"time left"},T.e.formatTime(h)),c.a.createElement(r.I,{max:t||f+1,value:h,onChange:function(e){g({value:e,isSliding:!0})},onFinalChange:function(e){g({value:e,isSliding:!1}),n.seek(e),E(e)},direction:L.Direction.Right,className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle",backgroundColor:"var(--progressbar-player-bg)",activeColor:"var(--progressbar-active-bg)"}),c.a.createElement(r.l,{renderAs:"span",className:"time right"},T.e.formatTime(t)))})),_=n(50),k=Object(a.memo)((function(e){var t=e.song;return c.a.createElement(r.A,{className:"control-song-item"},c.a.createElement(r.A.Left,null,c.a.createElement(b.p,{thumbnail:t.thumbnail,playSongFn:function(){},isPlaying:!1})),c.a.createElement(r.A.Content,null,c.a.createElement(b.k,{title:t.title}),c.a.createElement(b.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators})))})),w=n(206),I=Object(a.memo)((function(e){var t=e.playNextSong,n=Object(m.b)(),r=Object(a.useState)(!1),i=Object(l.a)(r,2),u=i[0],f=i[1],E=window.ZMP3_PLAYER,b=Object(m.c)(p.j),d=Object(m.c)(s.h),O=Object(a.useCallback)((function(){T.j.debug("Controls | onEnded"),_.a.emit(o.X.SONG_LISTEN,E.getCurrentTime()),f(!0)}),[u]);Object(a.useEffect)((function(){return E.on(o.F.PLAYER_ENDED,O),function(){E.off(o.F.PLAYER_ENDED,O)}}),[b]),Object(a.useEffect)((function(){u&&(t(!1),f(!1),n(Object(w.d)()))}),[u]);var g=Object(a.useMemo)((function(){return d?c.a.createElement(k,{song:d}):null}),[d]);return c.a.createElement(j,{name:"next",onClick:function(){return t(!0)},tooltipContent:g})})),M=Object(a.memo)((function(e){var t=e.playPrevSong,n=Object(m.c)(s.j),r=Object(a.useState)(!1),i=Object(l.a)(r,2),u=i[0],f=i[1],E=window.ZMP3_PLAYER;Object(a.useEffect)((function(){return f(!1),n&&E.on(o.F.PLAYER_TIMEUPDATE,b),function(){E.off(o.F.PLAYER_TIMEUPDATE,b)}}),[n]);var b=function(e){f(e.current<5)};return c.a.createElement(j,{disabled:u,name:"pre",title:"Ph\xe1t l\u1ea1i",disabledTootip:!0,onClick:function(){return t()}})})),S=n(28),F=n(214),x=Object(a.memo)((function(e){var t=e.toggleRepeat,n=Object(m.c)(s.w);return c.a.createElement(j,{title:Object(F.getTextRepeat)(n),name:"repeat".concat(n===S.REPEAT_MODE.ONE?"-one":""),active:!!n,onClick:t})})),Y=Object(a.memo)((function(e){var t=e.toggleShuffle,n=Object(m.c)(s.o);return c.a.createElement(j,{title:n?"T\u1eaft ph\xe1t ng\u1eabu nhi\xean":"B\u1eadt ph\xe1t ng\u1eabu nhi\xean",name:"shuffle",active:n,onClick:t})})),U=n(140),D=n(174);var B=Object(a.memo)((function(e){var t=e.song,n=Object(m.c)(p.g),u=Object(m.c)(p.e),s=Object(i.r)(),f=Object(l.a)(s,1)[0],E=Object(m.c)(p.j),b=window.ZMP3_PLAYER;Object(a.useEffect)((function(){n&&Object(D.a)(t.title,t.artistsNames)}),[n]);var d=Object(a.useCallback)((function(e){return!!n}),[n]);Object(i.c)(d,[n]),Object(a.useEffect)((function(){var e=function(e){if(e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName&&(e.shiftKey&&e.keyCode===U.a.KEY_N?f.playNextSong(!0):e.shiftKey&&e.keyCode===U.a.KEY_P?f.playPrevSong():e.keyCode===U.a.SPACE?(e.preventDefault(),f.togglePlay()):void 0)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),Object(a.useEffect)((function(){var e;if(navigator.mediaSession&&t.encodeId){var n=navigator.mediaSession;return n.metadata=new MediaMetadata({title:t.title,artist:t.artistsNames,album:null===(e=t.currentPlaylist)||void 0===e?void 0:e.title,artwork:[{src:t.thumbnailM,sizes:"96x96",type:"image/png"},{src:t.thumbnailM,sizes:"128x128",type:"image/png"},{src:t.thumbnailM,sizes:"192x192",type:"image/png"},{src:t.thumbnailM,sizes:"256x256",type:"image/png"},{src:t.thumbnailM,sizes:"384x384",type:"image/png"},{src:t.thumbnailM,sizes:"512x512",type:"image/png"}]}),n.setActionHandler("play",(function(){return f.togglePlay()})),n.setActionHandler("pause",(function(){return f.togglePlay()})),n.setActionHandler("previoustrack",(function(){return f.playPrevSong()})),n.setActionHandler("nexttrack",(function(){return f.playNextSong(!0)})),function(){var e=function(){};n.setActionHandler("play",e),n.setActionHandler("pause",e),n.setActionHandler("previoustrack",e),n.setActionHandler("nexttrack",e)}}}),[t]),Object(a.useEffect)((function(){return b&&(b.on(o.F.PLAYER_BUFFERING,O),b.on(o.F.PLAYER_BUFFERFULL,g)),function(){b&&(b.off(o.F.PLAYER_BUFFERING,O),b.off(o.F.PLAYER_BUFFERFULL,g))}}),[E]);var O=function(){f.isBufferingUpdate(!0)},g=function(){f.isBufferingUpdate(!1)};return c.a.createElement(c.a.Fragment,null,u?c.a.createElement(r.c,null):c.a.createElement(j,{name:"play",title:n?"D\u1eebng":"Ph\xe1t",disabledTootip:!0,isHoverCircle:!1,onClick:function(e){e.preventDefault(),f.togglePlay()},icon:"".concat(n?"pause-circle-outline":"play-circle-outline")}))}));n(1521);var z=Object(a.memo)((function(e){var t=e.playerAction,n=e.playingSong,a=Object(i.t)(),o=Object(l.a)(a,1)[0];return c.a.createElement(r.y.Side,{align:"center",className:"player-controls__player-bar"},c.a.createElement(r.y.Item,null,c.a.createElement(Y,{toggleShuffle:o.shuffle}),c.a.createElement(M,{playPrevSong:t.playPrevSong}),c.a.createElement(B,{song:n}),c.a.createElement(I,{playNextSong:t.playNextSong}),c.a.createElement(x,{toggleRepeat:o.repeat})),c.a.createElement(C,null))})),H=n(1429),q=n(175),V=n(17),Q=n(32);var Z=Object(a.memo)((function(){var e=Object(i.t)(),t=Object(l.a)(e,1)[0],n=Object(m.c)(s.m),u=Object(H.a)().width,f=Object(m.c)(q.d),b=Object(m.b)(),O=Object(a.useState)(),g=Object(l.a)(O,2)[1],j=Object(a.useCallback)((function(){return g({})}),[]);return Object(a.useEffect)((function(){var e;return f.type===o.b.FLY_ITEM_TO_QUEUE&&(e=setTimeout((function(){j(),b(Object(V.r)())}),2e3)),function(){clearTimeout(e)}}),[f]),c.a.createElement(c.a.Fragment,null,u<r.o&&c.a.createElement(d.i,{category:Q.a.NOW_PLAYING,action:"np_toggle",label:n?"off":"on",onClickFn:function(){return t.toggleIsOpen()},childrenProps:{className:E()("queue-expand-button",{active:n,"is-flash":f.type===o.b.FLY_ITEM_TO_QUEUE})}},c.a.createElement(r.N,{content:"Danh s\xe1ch ph\xe1t"},c.a.createElement(r.r,{renderAs:"div",icon:"list-music"}))))})),G=(n(1522),c.a.memo((function(){var e=window.ZMP3_PLAYER,t=Object(m.c)(p.i),n=Object(a.useState)(!1),i=Object(l.a)(n,2),o=i[0],u=i[1],s=Object(a.useState)(!1),f=Object(l.a)(s,2),E=f[0],b=f[1];Object(a.useEffect)((function(){e.setVolume(t)}),[]);var d=function(t){e.setVolume(t)},O=Object(a.useCallback)((function(e){u(!1),b(!1)}),[o]),g=Object(a.useCallback)((function(e){u(!0),b(!0)}),[o,b,E]),v=Object(a.useCallback)((function(e){var n=-e.deltaX||-e.detail||0,a=-e.deltaY||-e.detail||0,c=Math.abs(n)>Math.abs(a)?n:a,r=t+.2*c;d(Math.min(Math.max(r,y),h))}),[t]),h=100,y=0;return c.a.createElement(r.l,{className:"zm-player-volume",onMouseLeave:O,onMouseEnter:g,onWheel:v},c.a.createElement(j,{name:"volume",title:"\xc2m l\u01b0\u1ee3ng",disabledTootip:!0,icon:"volume".concat(0===t?"-mute":""),onClick:function(){e.isMuted()?e.unmute(!0):e.mute(!0)}}),c.a.createElement(r.I,{onChange:d,min:y,max:h,value:t,direction:L.Direction.Right,className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle"}))}))),K=n(243),W=n(87),X=n(120);n(1523);var J=Object(a.memo)((function(e){var t=e.playingSong,n=Object(m.b)(),l=Object(m.c)(X.e),i=Object(K.a)(),u=i.playVideo,s=i.forceClear,f=Object(a.useCallback)((function(){u(t),s()}),[t]);return c.a.createElement(r.y.Side,{align:"right",className:"player-controls-right"},c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(d.i,{category:Q.a.PLAYER,action:"player_mv",onClickFn:f,component:function(e){return c.a.createElement(j,Object.assign({name:"mv",title:"MV",className:t.mvlink?"":"disabled"},e))}})),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(d.i,{category:Q.a.PLAYER,action:"player_lyric",onClickFn:function(){n(Object(W.g)({}))},component:function(e){return c.a.createElement(j,Object.assign({disabled:!t.hasLyric,name:"karaoke",title:l?"\u0110\xf3ng":"Xem l\u1eddi b\xe0i h\xe1t",active:l},e))}})),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(G,null)),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(j,{name:"scale-1",title:"To\xe0n m\xe0n h\xecnh",className:"mar-l-10",onClick:function(){n(Object(W.g)({tab:o.p.LIST})),setTimeout((function(){Object(F.toggleFullScreen)()}),1e3)}})),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.l,{renderAs:"span",className:"divide"})),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(Z,null)))})),$=n(119),ee=n(105),te=n(13),ne=Object(a.memo)((function(){var e=Object(m.c)(p.b),t=Object(m.c)(te.c),n=Object(m.c)(p.h),r=Object(m.c)(p.g),u=Object(a.useRef)(e),s=Object(i.r)(),f=Object(l.a)(s,1)[0],E=window.ZMP3_PLAYER;return Object(a.useEffect)((function(){if(e!==u.current){P.a.set(o.v.NP_SOURCE_LEVEL,e),u.current=e;var t=n&&n["p".concat(e)];if(t&&"VIP"!==t){var a=E.getCurrentTime()||0;f.isBufferingUpdate(!1);E.stop(),E.setupSource(t),E.once(o.F.PLAYER_LOADEDMETADATA,(function(){f.isBufferingUpdate(!1),E.seek(a),r&&E.play()}))}}}),[e,n]),Object(a.useEffect)((function(){if(t){var e=P.a.get(o.v.NP_SOURCE_LEVEL)||320;if(u.current===e)return;var n={index:1,level:e};f.sourceLevelSwitch(n)}}),[t]),c.a.createElement(c.a.Fragment,null)}));n(1524);var ae=Object(a.memo)((function(){var e=Object(i.r)(),t=Object(l.a)(e,1)[0],n=window.ZMP3_PLAYER,f=Object(m.c)(s.d)||{},b=Object(m.c)(s.z),d=Object(m.c)(p.c)||"",O=Object(m.c)($.e),g=Object(m.c)(X.e),j=Object(m.c)(p.a),v=Object(m.c)(ee.f),h=Object(m.c)(p.j),y=function(){T.j.debug("PlayerControls | onPlay"),t.play()},A=function(){T.j.debug("PlayerControls | onPause"),t.pause(),Object(D.o)()},N=function(e){t.volumeUpdate(e)},L=function(e){t.timeUpdate(e)},C=function(e){t.progressUpdate(e)},_=function(e){var n=e.duration;t.durationUpdate(n)},k=function(e){T.j.debug("onLevelAvailabel levels ",e),t.sourceLevelsUpdate(e)},w=function(e){t.trackingError(e)};return Object(a.useEffect)((function(){if(b>0){var e=P.a.get(u.b.NP_CURRENT_TIME);T.j.debug("Player | DEBUG | get stored current time",e),n.seek(e)}return function(){P.a.set(u.b.NP_CURRENT_TIME,0)}}),[]),Object(a.useEffect)((function(){T.j.info("source change",d);var e=function(){t.isBufferingUpdate(!1),j&&n.play()},a=function(){t.pause()};return n.once(o.F.PLAYER_STOP,a),n.stop(),d&&(n.once(o.F.PLAYER_LOADEDMETADATA,e),t.isBufferingUpdate(!0),n.setupSource(d)),function(){n.off(o.F.PLAYER_LOADEDMETADATA,e),n.off(o.F.PLAYER_STOP,a)}}),[h]),Object(a.useEffect)((function(){return T.j.debug("Player | DEBUG | listen event",n),n.on(o.F.PLAYER_LOADEDMETADATA,_),n.on(o.F.PLAYER_PLAY,y),n.on(o.F.PLAYER_PAUSE,A),n.on(o.F.PLAYER_TIMEUPDATE,L),n.on(o.F.PLAYER_VOLUMEUPDATE,N),n.on(o.F.PLAYER_PROGRESS,t.progressUpdate),n.on(o.F.PLAYER_LEVELS_AVAILABEL,k),d&&n.on(o.F.PLAYER_ERROR,w),function(){T.j.debug("off event"),n.off(o.F.PLAYER_LOADEDMETADATA,_),n.off(o.F.PLAYER_PLAY,y),n.off(o.F.PLAYER_PAUSE,A),n.off(o.F.PLAYER_TIMEUPDATE,L),n.off(o.F.PLAYER_VOLUMEUPDATE,N),n.off(o.F.PLAYER_PROGRESS,C),n.off(o.F.PLAYER_LEVELS_AVAILABEL,k),n.off(o.F.PLAYER_ERROR,w)}}),[h]),Object(a.useEffect)((function(){f.encodeId&&t.getStreaming(f)}),[]),T.j.debug("controls render"),!b||O?null:c.a.createElement(r.l,{className:E()("player-controls",{opac:g,hidden:v})},c.a.createElement(r.y,{className:"player-controls__container"},c.a.createElement(R,{playingSong:f}),c.a.createElement(z,{playingSong:f,playerAction:t}),c.a.createElement(J,{playerAction:t,playingSong:f})),c.a.createElement(ne,null))})),ce=n(92),re=n(126);var le=Object(a.memo)((function(e){var t=e.song,n=e.playSong,u=e.isActive,s=e.isPlaying,m=e.isBuffering,f=e.isPreItem,d=e.menuButtonTypes,O=void 0===d?b.d:d,g=e.actionButtonTypes,j=void 0===g?b.a:g;T.j.debug("QueueItem render | id ",t.encodeId);var v=Object(i.r)(),p=Object(l.a)(v,1)[0],h=Object(i.d)(o.L,90),y=h.ref,A=h.ContextMenu,N=h.handleContextMenu,R=h.hideContextMenu,L=h.isShowContextMenu;Object(i.a)(t.tracking,y);var P=function(){n?n(t):p.playSong(t,{isClearQueue:!1})},C=t.streamingStatus===o.V.VIP,_=Object(a.useCallback)((function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.z.Item,{className:E()("media-item full-left"),onDoubleClick:P,ref:y},c.a.createElement(r.A,{className:E()({"is-pre":f,"is-active":u,"is-show-menu":L})},c.a.createElement(r.A.Left,null,c.a.createElement(b.p,{link:t.link,thumbnail:t.thumbnail,title:t.title,isPlaying:s,isBuffering:m,isActive:u,playSongFn:P}),c.a.createElement(r.l,{className:"card-info"},c.a.createElement(b.k,{title:t.title,showVipLabel:C,privacyIcon:t.privacyIcon,isPrivate:t.isPrivate,userName:t.username,isZMA:t.isZMA}),c.a.createElement(b.i,{artists:t.artists,artistsNames:t.artistsNames,indicators:t.indicators}))),c.a.createElement(r.A.Right,null,c.a.createElement(r.y,null,c.a.createElement(b.h,{song:t,typeButtons:j,handleContextMenu:N,playSong:P}))))),c.a.createElement(A,null,c.a.createElement(b.o,{buttonsType:O,song:t,hideContextMenu:R,isInQueue:!0})))}),[t,u,s,m,f,L]);return c.a.createElement(c.a.Fragment,null,_())})),ie=n(16),oe=n.n(ie),ue=n(22);var se=Object(a.memo)((function(){return c.a.createElement(r.A,null,c.a.createElement(r.A.Left,null,c.a.createElement(ue.h,{className:"song-thumb"},c.a.createElement(oe.a,{width:40,height:40,duration:2})),c.a.createElement(ue.h,{className:"card-info"},c.a.createElement(oe.a,{width:"80%",height:10,duration:2}),c.a.createElement(oe.a,{width:"50%",height:10,duration:2}))),c.a.createElement(r.A.Right,null,c.a.createElement(oe.a,{width:20,height:20,duration:2,circle:!0,style:{marginLeft:"15px",marginRight:"10px"}})))})),me=n(144);var fe=Object(a.memo)((function(e){e.title;var t=Object(i.r)(),n=Object(l.a)(t,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.l,{className:"empty-img"}),c.a.createElement(r.l,{className:"empty-queue"},c.a.createElement(r.l,{className:"content"},"Kh\xe1m ph\xe1 th\xeam c\xe1c b\xe0i h\xe1t m\u1edbi c\u1ee7a Zing MP3"),c.a.createElement(r.r,{type:r.a.OUTLINE,icon:"play",text:"Ph\xe1t nh\u1ea1c m\u1edbi ph\xe1t h\xe0nh",isActive:!0,onClick:function(){n.playList(o.s.BY_PLAYLIST,o.A,100)}})))})),Ee=Object(a.memo)((function(e){var t=e.tabChange,n=Object(i.r)(),a=Object(l.a)(n,1)[0],u=Object(m.c)(s.b),f=Object(i.l)((function(e){return ce.d.getSongs(void 0,e)}),o.L),E=Object(l.a)(f,1)[0],b=function(e){a.playSong(e,{isClearQueue:!1,isNextCurrent:!0}),t(S.QUEUE_TAB.QUEUE)};if(!E.isFetching&&(!E.items||!E.items.length))return c.a.createElement(fe,{title:"Nghe g\u1ea7n \u0111\xe2y tr\u1ed1ng"});var d=E.items.filter((function(e){return e.encodeId!==u}));return c.a.createElement(r.l,{className:"player-queue__scroll"},c.a.createElement(r.J,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,id:o.L},c.a.createElement(r.z,{className:"player-queue__list"},d.map((function(e,t){return function(e,t){return c.a.createElement(le,{key:"queue.recentListen.item.".concat(e.encodeId,".").concat(t),song:e,playSong:b,menuButtonTypes:re.f,actionButtonTypes:re.b,isActive:!1,isPlaying:!1,isBuffering:!1})}(e,t)}))),E.isFetching&&c.a.createElement(me.b,{className:"queue-loader",songItem:c.a.createElement(se,null),showTitle:!1})))})),be=n(1461),de=Object(a.memo)((function(e){var t=e.tabChange,n=Object(i.r)(),a=Object(l.a)(n,1)[0],u=Object(m.c)(s.b),f=Object(m.c)(be.b),E=function(e){a.playSong(e,{isClearQueue:!1,isNextCurrent:!0}),t(S.QUEUE_TAB.QUEUE)},b=f.filter((function(e){return e.encodeId!==u}));return b.length?c.a.createElement(r.l,{className:"player-queue__scroll"},c.a.createElement(r.J,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,id:o.L},c.a.createElement(r.z,{className:"player-queue__list"},b.map((function(e,t){return function(e,t){return e.encodeId===u?c.a.createElement(c.a.Fragment,null):c.a.createElement(le,{key:"queue.recentListen.item.".concat(e.encodeId,".").concat(t),song:e,playSong:E,menuButtonTypes:re.f,actionButtonTypes:re.b,isActive:!1,isPlaying:!1,isBuffering:!1})}(e,t)}))))):c.a.createElement(fe,{title:"Nghe g\u1ea7n \u0111\xe2y tr\u1ed1ng"})})),Oe=Object(a.memo)((function(e){var t=e.tabChange,n=Object(m.c)(te.c);return Object(m.c)(te.b)?c.a.createElement(r.l,{className:"empty-img"}):n?c.a.createElement(Ee,{tabChange:t}):c.a.createElement(de,{tabChange:t})}));function ge(e){var t=e.clearQueue,n=Object(m.c)(s.q),o=Object(m.c)(te.d),u=Object.values(n),f=Object(a.useRef)(null),E=Object(O.a)(!1),b=Object(l.a)(E,2),g=b[0],j=b[1];Object(i.q)(f,(function(e){e||j(e)}));var v=Object(a.useCallback)((function(e){T.b.preventDefault(e),j(!g)}),[g]);return c.a.createElement(r.l,{renderAs:"span",domRef:f,id:"queue_menu"},c.a.createElement(r.O,{icon:"more",onClick:v,title:"Kh\xe1c"}),g&&c.a.createElement(r.B,{className:"menu-settings right"},c.a.createElement(r.B.List,null,c.a.createElement(r.B.List.Item,null,c.a.createElement(je,{clearQueue:t,afterClick:v})),o&&c.a.createElement(r.B.List.Item,null,c.a.createElement(he,{afterClick:v})),c.a.createElement(r.B.List.Item,null,c.a.createElement(d.a,{songs:u,hideContextMenu:function(){return j(!1)},containerId:"queue_menu"})))))}Object(a.memo)(ge);function je(e){var t=e.clearQueue,n=e.afterClick,r=Object(a.useCallback)((function(){t(),n&&n()}),[]);return c.a.createElement(g.b,{icon:"delete",text:"X\xf3a danh s\xe1ch ph\xe1t",onClick:r})}Object(a.memo)(je);var ve=n(1496),pe=n(389);Object(a.memo)((function(e){Object(ve.a)(e);var t=Object(pe.a)(),n=t.Modal,r=t.show,l=Object(a.useCallback)((function(){r()}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.b,{icon:"add",text:"Th\xeam v\xe0o playlist",onClick:l}),c.a.createElement(n,null,"Modal n\xe8"))}));function he(e){e.afterClick;var t=Object(m.c)(s.q),n=Object.values(t);return c.a.createElement(d.f,{songs:n,title:"",text:"T\u1ea3i danh s\xe1ch ph\xe1t"})}Object(a.memo)(he);var ye=n(235),Ae=n(30),Ne=n(1433),Re=n(4),Le=n(1498),Pe=(n(1497),[0,5,10,15,20,25,30,35,40,45,50,55]),Te=[0,1,2,3,4,5,6,7,8,9,10,11,12],Ce=Object(a.memo)((function(e){var t=e.onChangeTime,n=Object(a.useState)({hours:0,mins:0}),i=Object(l.a)(n,2),o=i[0],u=i[1];return Object(a.useEffect)((function(){var e=60*(60*o.hours+o.mins);t(e)}),[o]),c.a.createElement(r.l,{className:"time-picker"},c.a.createElement(_e,{label:"gi\u1edd",min:0,max:99,onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{hours:e}))},options:Te}),c.a.createElement(r.l,{className:"dot"},":"),c.a.createElement(_e,{label:"ph\xfat",min:0,max:59,onChange:function(e){return u(Object(Re.a)(Object(Re.a)({},o),{},{mins:e}))},options:Pe}))})),_e=Object(a.memo)((function(e){var t=e.label,n=e.min,i=void 0===n?0:n,o=e.max,u=void 0===o?59:o,s=e.initTime,m=e.options,f=e.onChange,b=Object(a.useState)(Object(Ae.padZero)(s||i,2)),d=Object(l.a)(b,2),O=d[0],g=d[1],j=Object(a.useState)(!1),v=Object(l.a)(j,2),p=v[0],h=v[1],y=Object(a.useRef)(null),A=Object(a.useRef)(!1),N=Object(a.useRef)(null);Object(Le.a)(y,(function(){h(!1)})),Object(a.useEffect)((function(){var e=Number(O);N.current=function(t){var n=t?e+1:e-1;n<i&&(n=i),n>u&&(n=u),L(n)}}),[O,f]);var R=function(e){A.current?g("".concat(e)):g(Object(Ae.padZero)(Number(e),2))},L=function(e){f(Number(e||0)),R(e)},P=Object(a.useCallback)((function(e){e.keyCode===U.a.ARROW_UP&&N.current(!0),e.keyCode===U.a.ARROW_DOWN&&N.current()}),[]),T=Object(a.useCallback)((function(){A.current=!0,h(!0),window.addEventListener("keydown",P)}),[]);return c.a.createElement(r.l,{className:E()("time-input",{focus:p}),domRef:y},c.a.createElement(r.u,{value:O,onChange:function(e){var t=e.target.value;if(t.length){var n=Number(t);Number.isNaN(n)||(t.length>2?L(ke(O,t)):L(n<i||n>u?u:t))}else L(t)},onFocus:T,onBlur:function(){A.current=!1,R(O),window.removeEventListener("keydown",P)},type:"text"}),c.a.createElement(r.l,{renderAs:"span",className:"label",onClick:function(){return h(!0)}},t),c.a.createElement(r.l,{className:"time-options"},c.a.createElement(c.a.Fragment,null,m.map((function(e){var n=Object(Ae.padZero)(e,2),a=O===n;return c.a.createElement(r.l,{key:e,className:E()("option",{active:a}),onClick:function(){L(e),h(!1)}},"".concat(n," ").concat(t))})))))})),ke=function(e,t){for(var n=e.split(""),a=t.split(""),c="",r=0;r<a.length&&(c=a[r],n[r]===c);r++);return c},we=function(e){var t=e.hide,n=Object(m.b)(),o=Object(i.t)(),u=Object(l.a)(o,1)[0],s=Object(a.useState)(0),f=Object(l.a)(s,2),E=f[0],b=f[1],d=0===E;return c.a.createElement(r.l,{className:"alarm-setting"},c.a.createElement(r.M,null,"H\u1eb9n gi\u1edd d\u1eebng ph\xe1t nh\u1ea1c"),c.a.createElement(Ce,{onChangeTime:b}),c.a.createElement(r.M,{subtitle:!0,className:"estimate-time"},d?"Ch\u1ecdn th\u1eddi gian \u0111\u1ec3 d\u1eebng ph\xe1t nh\u1ea1c":c.a.createElement(c.a.Fragment,null,"D\u1ef1 t\xednh d\u1eebng ph\xe1t nh\u1ea1c l\xfac:"," ",c.a.createElement(Ie,{seconds:E}))),c.a.createElement(r.d,{uppered:!0,outlined:!0,fullwidth:!0,className:"active",isSize:"medium",onClick:function(){n(Object(ye.c)(E)),u.toggleIsOpen(!1),t()},disabled:d},"L\u01b0u l\u1ea1i"),c.a.createElement(r.r,{className:"mar-t-10",isActive:!0,fullwidth:!0,uppered:!0,text:"H\u1ee7y",onClick:t}))},Ie=function(e){var t=e.seconds,n=Object(a.useState)(0),i=Object(l.a)(n,2)[1];return Object(Ne.a)((function(){i(Object(Ae.currentTime)())}),6e4),c.a.createElement(r.l,{renderAs:"b"},Object(Ae.secondsToDate)(Object(Ae.currentTime)()+t,"HH:mm  DD/MM/YYYY"))},Me=function(e){return e.alarm.time},Se=function(e){return e.alarm.time>0},Fe=function(e){var t=e.icon,n=void 0===t?"close":t,a=e.className,l=Object(m.b)();return c.a.createElement(r.O,{icon:n,onClick:function(){l(Object(V.o)({type:o.z.CLEAR_ALARM}))},title:"X\xf3a h\u1eb9n gi\u1edd",className:a})},xe=Object(a.memo)((function(){var e=Object(m.c)(Se),t=Object(i.o)(),n=t.Modal,a=t.show,l=t.hide;return e?c.a.createElement(Fe,{icon:"clock",className:"active"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(d.i,{component:function(e){return c.a.createElement(r.O,Object.assign({icon:"clock",className:"active",title:"H\u1eb9n gi\u1edd d\u1eebng ph\xe1t nh\u1ea1c"},e))},onClickFn:a,category:Q.a.NOW_PLAYING,action:"setup-alarm"}),c.a.createElement(n,null,c.a.createElement(we,{hide:l})))}));n(1525);var Ye=Object(a.memo)((function(e){var t=e.tab,n=e.tabChange,a=e.clearQueue,l=e.totalItem;T.j.debug("QueueHeader : render");var i=Object(H.a)().width,u=Object(m.c)(q.d);return c.a.createElement(r.l,{className:"player-queue__header"},c.a.createElement(r.y,{className:"tab-bars"},c.a.createElement(r.y.Side,{align:"left"},c.a.createElement(r.y.Item,{className:E()({"is-active":t===S.QUEUE_TAB.QUEUE,"is-flash":i>r.o&&u.type===o.b.FLY_ITEM_TO_QUEUE}),onClick:function(){return n(S.QUEUE_TAB.QUEUE)}},c.a.createElement(r.l,{renderAs:"h6",className:"has-text-white queue-list-title"},"Danh s\xe1ch ph\xe1t")),c.a.createElement(r.y.Item,{className:E()({"is-active":t===S.QUEUE_TAB.RECENT_LISTEN}),onClick:function(){return n(S.QUEUE_TAB.RECENT_LISTEN)}},c.a.createElement(d.i,{category:Q.a.NOW_PLAYING,action:"np_recent",renderAs:"h6",childrenProps:{className:"has-text-white"}},"Nghe g\u1ea7n \u0111\xe2y"))),c.a.createElement(r.y.Side,{align:"right"},c.a.createElement(r.y,null,c.a.createElement(r.y.Item,{className:l?"":"disabled"},c.a.createElement(xe,null)),c.a.createElement(r.y.Item,{className:l?"":"disabled"},c.a.createElement(ge,{clearQueue:function(){return a(!0)}}))))))})),Ue=n(24),De=n(1527);var Be=Object(a.memo)((function(e){var t=e.className,n=e.song;return c.a.createElement(le,{className:t,song:n,menuButtonTypes:re.h,actionButtonTypes:re.c,isActive:!1,isPlaying:!1,isBuffering:!1})}));var ze=Object(a.memo)((function(e){var t=e.items,n=Object(a.useCallback)((function(){return t.map((function(e){return function(e){return c.a.createElement(Be,{key:"recommend.item.".concat(e.encodeId),song:e})}(e)}))}),[t]);return T.j.debug("RecommendList render"),c.a.createElement(r.z,{className:"player-queue__list"},n())}));n(1526);var He=Object(a.memo)((function(e){var t=e.currentEncodeId,n=Object(i.t)(),o=Object(l.a)(n,1)[0],u=Object(m.c)(s.t),f=Object(m.c)(s.a),b=Object(m.c)(s.l),d=Object(a.useState)(!1),O=Object(l.a)(d,2),g=O[0],j=O[1];Object(a.useEffect)((function(){T.j.debug("Recommend | currentEncodeId",t),v()}),[t]);var v=function(e){o.getRecommend({isLoadMore:e,onStart:function(){return j(!0)},onEnd:function(){return j(!1)}})},p=Object(a.useCallback)((function(){o.toggleAutoPlayRecommend()}),[]);return T.j.debug("QueueRecommend : render"),u.length?c.a.createElement(r.l,{className:"queue-recommend"},c.a.createElement(r.l,{className:"header"},c.a.createElement(r.y,null,c.a.createElement(r.y.Side,{align:"left"},c.a.createElement(r.M,null,f&&b?"Ti\u1ebfp theo t\u1eeb G\u1ee3i \xfd":"G\u1ee3i \xfd")),c.a.createElement(r.y.Side,{align:"right"},c.a.createElement(r.d,{className:"zm-auto-play-switch pull-left",onClick:p},c.a.createElement(r.l,{renderAs:"span"},"T\u1ef0 \u0110\u1ed8NG PH\xc1T"),c.a.createElement(r.q,{icon:f?c.a.createElement(A.g,null):c.a.createElement(A.f,null),className:E()("ic-svg-switch",{"zm-switch-off":!f})})),c.a.createElement(r.O,{icon:"reload",onClick:function(e){e.preventDefault(),v(!0)},title:"L\xe0m m\u1edbi"})))),g?c.a.createElement(me.b,{className:"recommend-loader",songItem:c.a.createElement(se,null),showTitle:!1,countItem:5}):c.a.createElement(ze,{items:u})):null}));var qe=Object(a.memo)((function(e){var t=e.title,n=e.link;return c.a.createElement(r.l,{className:"next-songs"},c.a.createElement(r.M,{size:6},"Ti\u1ebfp theo"),t&&n&&c.a.createElement(r.M,{subtitle:!0,size:6},c.a.createElement("span",null,"T\u1eeb playlist"),c.a.createElement(h.a,{to:n},t)))})),Ve=n(369);var Qe=function(e){return e-2>1?e-2:0},Ze=Object(Ve.a)((function(e){var t=e.listRef,n=e.children,a=e.className,r=e.style;return c.a.createElement("div",{ref:t,className:"player-queue__list ".concat(a),style:r},n)})),Ge=Object(Ve.b)((function(e){var t=e["data-index"];return c.a.createElement("div",Object.assign({index:t},e))})),Ke=function(e){var t=e.reportScrollTop,n=e.scrollTo,l=e.className,i=e.children,u=Object(a.useRef)(null);return Object(a.useEffect)((function(){u.current=document.getElementById(o.L)}),[]),n((function(e){var t,n=e.top;null===(t=u.current)||void 0===t||t.scrollTo({top:n})})),c.a.createElement(r.J,{tabIndex:0,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:l,id:o.L,onScroll:function(e){return t(e.currentTarget.scrollTop)}},i)},We=Object(a.memo)((function(e){var t=e.idsUpdate,n=Object(m.c)(p.g),i=Object(m.c)(p.e),o=Object(m.c)(s.c),u=Object(m.c)(s.b),f=Object(m.c)(s.r),E=Object(m.c)(s.i),b=Object(a.useRef)(E),d=Object(m.c)(s.q),O=Object(m.c)(s.p),g=Object(a.useState)(0),j=Object(l.a)(g,2),v=j[0],h=j[1],y=Ue.Array.findIndex(b.current,o),A=Object(a.useRef)(null),N=Object(a.useRef)([0,0]),R=Object(a.useRef)(null),L=Object(a.useRef)(null),P=Object(a.useRef)(d),C=Object(a.useRef)(E);Object(a.useEffect)((function(){var e,t=Object(l.a)(N.current,2),n=t[0],a=t[1];y>-1&&(y<n||y>a)&&(null===R||void 0===R||null===(e=R.current)||void 0===e||e.scrollToIndex({index:Qe(y)}));clearTimeout(L.current)}),[y]),Object(a.useEffect)((function(){C.current=E,b.current=E,P.current=d}),[E]),Object(a.useEffect)((function(){O&&h(O.lastTime)}),[O]);var _=function(e){return function(e,t){var a,r,l=P.current[t];if(!l||!l.id)return c.a.createElement(c.a.Fragment,null);var u=l.id===o,s=n&&u,m=e===b.current.length-1,E=i&&u,d=u&&!m,O=e<y;return c.a.createElement(c.a.Fragment,null,c.a.createElement(le,{song:l,isActive:u,isPlaying:s,isBuffering:E,isPreItem:O}),u&&c.a.createElement("span",{ref:A}),d&&c.a.createElement(qe,{title:null===f||void 0===f||null===(a=f.currentPlaylist)||void 0===a?void 0:a.title,link:null===f||void 0===f||null===(r=f.currentPlaylist)||void 0===r?void 0:r.link}))}(e,b.current[e])},k=function(e){var n,a,c,r=e.oldIndex,l=e.newIndex;if(l!==r){var i=(n=b.current,a=r,c=l,function(e,t,n){var a=n<0?e.length+n:n,c=e.splice(t,1)[0];e.splice(a,0,c)}(n=n.slice(),a,c),n);t(i),h(Object(Ae.currentTime)())}},w=Object(a.useCallback)((function(e){var t=e.children,n=e.footerRef;return c.a.createElement("div",{ref:n},t)}),[]),I=Object(a.useCallback)((function(e){var t=e["data-index"],n=b.current[t];P.current[n];return c.a.createElement(Ge,Object.assign({index:t,style:{zIndex:1065}},e))}),[]),M=Object(a.useCallback)((function(e){return T.j.debug("ListContainer  render"),c.a.createElement(Ze,Object.assign({},e,{onSortEnd:k,distance:1,helperClass:"player-queue drag-item"}))}),[]);T.j.debug("QueueList render | currentIndex ",y);var S=Object(a.useCallback)((function(){return N.current[1]>0&&N.current[1]<b.current.length-5&&b.current.length-y>5?c.a.createElement(c.a.Fragment,null):c.a.createElement(He,{currentEncodeId:u})}),[o]),F=function(e){var t=e.startIndex,n=e.endIndex,a=n===b.current.length-1&&N.current[1]>0&&N.current[1]<n-4;N.current=[t,n],a&&h(Object(Ae.currentTime)())},x=Object(a.useCallback)((function(){return c.a.createElement(De.a,{ScrollContainer:Ke,style:{height:"100%"},ref:R,totalCount:b.current.length,item:_,ItemContainer:I,ListContainer:M,FooterContainer:w,footer:S,rangeChanged:F,computeItemKey:function(e){return b.current[e]}})}),[v,n,i]);return c.a.createElement(r.l,{className:"player-queue__scroll",onMouseLeave:function(){A.current||(L.current=setTimeout((function(){var e;null===R||void 0===R||null===(e=R.current)||void 0===e||e.scrollToIndex({index:Qe(y)})}),5e3))},onMouseEnter:function(){clearTimeout(L.current)}},x())})),Xe=n(1657),Je=n(276),$e=n(90);function et(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=Object(a.useCallback)((function(n){var a,c,r=n.target;if(r&&r.getAttribute("class")&&(null===(a=r.getAttribute("class"))||void 0===a?void 0:a.includes("action-play")))c=!1;else{if(!(c=Array.isArray(e)?e.some((function(e){return!!e&&!!e.current&&$e.a.element(e.current)&&e.current.contains(n.target)})):!!e&&!!e.current&&$e.a.element(e.current)&&e.current.contains(n.target))){var l=[],i=document.getElementById(o.y);i&&l.push(i),c=l.some((function(e){return!!e&&$e.a.element(e)&&e.contains(n.target)}))}t(c)}}),[t,e]);Object(a.useEffect)((function(){if(n)return document.addEventListener("mouseup",c),function(){document.removeEventListener("mouseup",c)}}),[n,c])}n(1463);var tt=Object(a.memo)((function(e){var t=e.children,n=e.className,o=Object(m.c)(s.m),u=Object(i.t)(),f=Object(l.a)(u,1)[0],b=Object(a.useRef)(null),d=Object(a.useRef)(null);d.current=document.getElementsByClassName("player-controls")[0];var O=Object(H.a)().width;return et([b,d],(function(e){o&&!e&&O<Je.b&&f.toggleIsOpen(!1)})),Object(a.useEffect)((function(){O>Je.b?f.toggleIsOpen(!0):f.toggleIsOpen(!1)}),[O]),c.a.createElement(Xe.a,{in:o||O>=Je.b,mountOnEnter:!0,unmountOnExit:!0,timeout:500,classNames:"player-queue-animation"},c.a.createElement(r.l,{domRef:b,className:E()("player-queue",n)},c.a.createElement(r.l,{className:"player-queue__container"},t)))}));var nt=Object(a.memo)((function(){var e=Object(m.c)(s.m),t=Object(m.c)(s.l),n=Object(m.c)(s.y),o=Object(m.c)(s.z),u=Object(m.c)(s.d),f=Object(i.t)(),b=Object(l.a)(f,1)[0];Object(a.useEffect)((function(){!e&&t&&b.getRecommend({})}),[null===u||void 0===u?void 0:u.id,e,t]),T.j.debug("Queue render",u);var d=Object(a.useCallback)((function(){return n===S.QUEUE_TAB.RECENT_LISTEN?c.a.createElement(Oe,{tabChange:b.tabChange}):o?u?c.a.createElement(We,{idsUpdate:b.idsUpdate}):c.a.createElement(r.l,{className:"empty-img"}):c.a.createElement(fe,null)}),[n,o,null===u||void 0===u?void 0:u.encodeId]);return c.a.createElement(tt,{className:E()({"player-empty":!o})},c.a.createElement(Ye,{tab:n,tabChange:b.tabChange,clearQueue:b.clear,toggleIsOpen:b.toggleIsOpen,totalItem:o}),d())})),at=n(1456),ct=(n(1528),Object(a.memo)((function(e){var t=e.images,n=e.isPlay,i=void 0!==n&&n,o=e.timeout,u=void 0===o?10:o,s=e.className,m=Object(a.useState)(0),f=Object(l.a)(m,2),b=f[0],d=f[1],O=Object(a.useRef)(),g=Object(a.useRef)(u),j=Object(a.useMemo)((function(){return Ue.Array.shuffle(t)}),[t]);Object(a.useEffect)((function(){return i&&(O.current=setInterval((function(){if(g.current--,g.current<=0){clearInterval(O.current),g.current=u;var e=b===j.length-1?0:b+1;d(e)}}),1e3)),function(){clearInterval(O.current)}}),[i,b]),Object(a.useEffect)((function(){g.current=u,d(0)}),[j]);var v=Object(a.useMemo)((function(){return 0===b?[j[j.length-1],j[0]]:[j[b-1],j[b]]}),[j,b]);return c.a.createElement(r.l,{className:E()("image-effect",s,{"is-play":i})},c.a.createElement(r.l,{renderAs:"ul"},v.map((function(e,t){var n=t===v.length-1;return c.a.createElement(r.l,{renderAs:"li",key:"".concat(t,"-").concat(e),className:E()({enter:n,exit:!n})},c.a.createElement(r.l,{renderAs:"img",src:e}))}))))}))),rt=(n(1529),function(){}),lt=Object(a.memo)((function(e){var t=e.song,n=Object(m.c)(p.g),l=Object(m.c)(p.e),i=n&&!l,o=Object(m.c)(X.f),u=Object(m.c)(X.c),s=Object(m.c)(X.b),f=Object(a.useMemo)((function(){return u.slice(0,u.length-u.length%3)}),[u]),E=Object(a.useCallback)((function(){return o?s.length?c.a.createElement(ct,{images:s,isPlay:i}):c.a.createElement(it,{defaultVBGUrls:f,isRunning:i}):c.a.createElement(c.a.Fragment,null)}),[o,i,s]);return c.a.createElement(r.l,{className:"fs-background"},c.a.createElement(at.a,{image:t?t.thumbnailM:"",blurRadius:99}),c.a.createElement(r.l,{className:"overlay"}),E())})),it=function(e){var t=e.defaultVBGUrls,n=e.isRunning,r=Object(a.useState)(0),i=Object(l.a)(r,2),o=i[0],u=i[1],s=Object(a.useRef)(null);Object(a.useEffect)((function(){s.current&&(n?s.current.play():s.current.pause())}),[n]);var m=Object(a.useMemo)((function(){return function(e,t){if(!e.length)return[];var n=e.length,a=e[t],c=e[t+1<n?t+1:0],r=e[t-1>-1?t-1:n-1];switch(t%3){case 2:return[c,r,a];case 1:return[r,a,c];case 0:return[a,c,r];default:return[]}}(t,o)}),[o,t]),f=function(){var e=o===t.length-1?0:o+1;u(e)},E=function(){s.current&&n&&s.current.play()};return c.a.createElement(c.a.Fragment,null,m.map((function(e,t){var n=o%3===t;return c.a.createElement(Xe.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,timeout:4e3,classNames:"bg-animate",key:"video.backgroud.".concat(t)},c.a.createElement("video",{key:"video.backgroud.".concat(t),src:e,ref:n?s:null,muted:!0,onLoadedMetadata:n?E:rt,onEnded:n?f:rt}))})))},ot=n(39),ut=function(){var e=Object(a.useState)(Boolean(document.fullscreenElement)),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=function(){i(Boolean(document.fullscreenElement))};return document.addEventListener("fullscreenchange",e),function(){return document.removeEventListener("fullscreenchange",e)}}),[]),c.a.createElement(r.O,{icon:n?"scale-2":"scale-1",title:n?"Tho\xe1t to\xe0n m\xe0n h\xecnh":"To\xe0n m\xe0n h\xecnh",onClick:F.toggleFullScreen})},st=n(401),mt=function(){var e=Object(m.b)(),t=Object(m.c)(X.o),n=Object(m.c)(p.c)||"",r=Object(m.c)(X.a),u=Object(m.c)(p.g),s=Object(i.r)(),f=Object(l.a)(s,1)[0],E=Object(a.useRef)(0),b=Object(a.useRef)(!1),d=window.ZMP3_PLAYER,O=function(){b.current=!1,f.isBufferingUpdate(!1),u&&d.play(),d.seek(E.current),E.current=d.getCurrentTime()};return Object(a.useEffect)((function(){b.current&&(E.current=d.getCurrentTime()||E.current,d.stop(),d.setupSource(t?r:n))}),[t]),Object(a.useEffect)((function(){return b.current&&d.once(o.F.PLAYER_LOADEDMETADATA,O),function(){return d.off(o.F.PLAYER_LOADEDMETADATA,O)}}),[t,u]),c.a.createElement(st.a,{active:t,onChange:function(){e(Object(W.f)()),b.current=!0},text:"Ch\u1ec9 ph\xe1t nh\u1ea1c n\u1ec1n",disabled:!r})},ft=[o.o.SMALL,o.o.MEDIUM,o.o.LARGE],Et=function(e){var t=e.size,n=e.active,a=e.disabled,l=e.onClick;return c.a.createElement(r.d,{renderAs:"a",disabled:a,className:E()("size-".concat(t),{active:n}),onClick:function(){return l(t)}},"A")},bt=function(){var e=Object(m.b)(),t=Object(m.c)(X.h),n=Object(m.c)(X.i),a=function(t){e(Object(W.b)(t))},l=n!==o.p.LYRIC;return c.a.createElement(r.d,{className:"size-btn",disabled:l},c.a.createElement(r.l,{renderAs:"span"},"C\u1ee1 ch\u1eef l\u1eddi nh\u1ea1c"),c.a.createElement(r.l,{className:"sizes"},ft.map((function(e){return c.a.createElement(Et,{key:e,size:e,active:e===t,disabled:l,onClick:a})}))))},dt=function(){var e=Object(m.b)(),t=Object(m.c)(X.f),n=Object(O.a)(!1),o=Object(l.a)(n,2),u=o[0],s=o[1],f=Object(a.useRef)(null);Object(i.q)(f,(function(e){e||s(e)}));return c.a.createElement(r.l,{className:"setting-btn",domRef:f},c.a.createElement(r.O,{icon:"settings",title:"C\xe0i \u0111\u1eb7t",onClick:s}),u&&c.a.createElement(r.B,null,c.a.createElement(r.B.List,null,c.a.createElement(r.B.List.Item,null,c.a.createElement(st.a,{active:t,onChange:function(){e(Object(W.h)())},text:"H\xecnh n\u1ec1n"})),c.a.createElement(r.B.List.Item,null,c.a.createElement(mt,null)),c.a.createElement(r.B.List.Item,null,c.a.createElement(bt,null)))))},Ot=(n(1530),function(e){var t,n=e.tabs,a=e.tabActive,l=e.onChangeTab,i=e.song,o=Object(m.b)();return c.a.createElement(r.l,{className:"fs-header"},c.a.createElement(r.l,{className:"left"},c.a.createElement(r.l,null,c.a.createElement(r.l,{className:"zmp3-logo"})),(null===i||void 0===i?void 0:i.currentPlaylist)&&c.a.createElement(r.l,{className:"info"},c.a.createElement(r.l,null,"T\u1eeb playlist"),c.a.createElement(r.l,{renderAs:"span"},null===i||void 0===i||null===(t=i.currentPlaylist)||void 0===t?void 0:t.title))),c.a.createElement(ot.d,{items:n,tabActive:a,onChangeTab:l}),c.a.createElement(r.y,{className:"action-group"},c.a.createElement(r.y.Item,null,c.a.createElement(ut,null)),c.a.createElement(r.y.Item,null,c.a.createElement(dt,null)),c.a.createElement(r.y.Item,null,c.a.createElement(r.O,{icon:"go-down",title:"\u0110\xf3ng",onClick:function(){Object(F.closeFullscreen)(),setTimeout((function(){return o(Object(W.g)({isOpen:!1}))}),document.fullscreenElement?300:0)}}))))});var gt,jt="init",vt="start",pt="seek",ht="play",yt="pause",At="resize",Nt="clear";!function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.onload=function(){if(200===n.status){var e,a;e=new Blob([n.responseText],{type:"text/javascript"}),a=window.URL.createObjectURL(e);var c=new Worker(a);t(c)}},n.send()}(o.e+"/js/worker.js",(function(e){gt=e}));var Rt=Object(a.memo)((function(e){var t=e.song,n=Object(m.c)(X.m),l=Object(a.useMemo)((function(){return Object(T.g)()}),[]);return n.length&&l?c.a.createElement(Lt,{song:t,sentences:n}):c.a.createElement(r.l,{className:"fs-karaoke-empty"},"Karaoke \u0111ang \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt")})),Lt=function(e){var t=e.song,n=e.sentences,l=Object(m.c)(p.g),i=Object(m.c)(p.e),u=Object(a.useRef)(null),s=Object(H.a)().height,f=window.ZMP3_PLAYER,E=l&&!i;return Object(a.useEffect)((function(){var e,t=document.getElementById("karaoke-canvas").transferControlToOffscreen(),n=((null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).height,a=void 0===n?s:n;gt.postMessage({canvas:t,type:jt,height:a},[t]);var c=function(){gt.postMessage({type:pt,currentTime:f.getCurrentTime()})};return f.on(o.F.PLAYER_SEEKED,c),function(){gt.postMessage({type:Nt}),f.off(o.F.PLAYER_VOLUMEUPDATE,c)}}),[]),Object(a.useEffect)((function(){n.length&&gt.postMessage({type:vt,currentTime:f.getCurrentTime(),sentences:n,song:t})}),[n]),Object(a.useEffect)((function(){gt.postMessage({type:E?ht:yt,currentTime:f.getCurrentTime()})}),[E]),Object(a.useEffect)((function(){var e,t=((null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).height,n=void 0===t?s:t;gt.postMessage({type:At,height:n+80})}),[s]),c.a.createElement(r.l,{className:"fs-karaoke"},c.a.createElement(r.l,{className:"fs-karaoke-content",domRef:u},c.a.createElement("canvas",{id:"karaoke-canvas",height:"1000",width:"1500"})))},Pt=["L\u1eddi b\xe0i h\xe1t \u0111ang \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt"],Tt=Object(a.memo)((function(e){var t=e.texts,n=void 0===t?"":t,a=n.trim().length<1,l=a?Pt:n.split("\r\n");return c.a.createElement(r.l,{renderAs:"ul",className:E()("scroll-content",{"is-empty":a})},l.map((function(e,t){return c.a.createElement(r.l,{renderAs:"li",className:"item text-item",key:t},e)})))})),Ct=n(74),_t=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,a=0;a<e.length;a++){var c=e[a];if(c.startTime>t)break;n=c.index}return n},kt=["wheel"],wt=function(e){var t=e.size,n=e.sentences,i=window.ZMP3_PLAYER,u=Object(a.useState)(_t(n,i.getCurrentTime())),s=Object(l.a)(u,2),m=s[0],f=s[1],b=Object(a.useState)(!1),d=Object(l.a)(b,2),O=d[0],g=d[1],j=Object(a.useRef)(null),v=Object(a.useRef)(null),p=Object(a.useRef)(null),h=Object(H.a)().height;Object(a.useEffect)((function(){return n.length&&i.on(o.F.PLAYER_TIMEUPDATE,y),function(){i.off(o.F.PLAYER_TIMEUPDATE,y)}}),[n]),Object(a.useEffect)((function(){var e=function(){clearTimeout(j.current),O?j.current=setTimeout((function(){g(!1)}),5e3):g(!0)};return kt.forEach((function(t){var n;return null===(n=v.current)||void 0===n?void 0:n.addEventListener(t,e)})),function(){kt.forEach((function(t){var n;return null===(n=v.current)||void 0===n?void 0:n.removeEventListener(t,e)}))}}),[O]),Object(a.useEffect)((function(){var e,t;if(!(!v.current||m<0||O)){var n=v.current.getBoundingClientRect().height||500,a=(null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.getBoundingClientRect().height)||100,c=((null===p||void 0===p||null===(t=p.current)||void 0===t?void 0:t.offsetTop)||0)-(n-a)/2,r=v.current.scrollTop;Math.abs(c-r)>2*a?v.current.scrollTop=c:Object(Ct.scrollTo)(v.current,c,400)}}),[m,O,t,h]);var y=function(e){f(_t(n,e.current))};return c.a.createElement(r.l,{renderAs:"ul",className:"scroll-content",domRef:v},n.map((function(e){var t=e.text,n=e.index,a=n===m,l=n<m;return c.a.createElement(r.l,{renderAs:"li",domRef:a?p:null,className:E()("item",{"is-active":a,"is-over":l}),key:n},t)})))},It=(n(1531),function(e){var t=e.song,n=e.isPlaying;return c.a.createElement(r.l,{className:"song-item"},c.a.createElement(r.l,{className:"cover"},c.a.createElement(r.x,{src:t.thumbnailM.replace("w240","w480")}),n&&c.a.createElement(r.q,{icon:"gif-playing-white",className:"playing-icon"})))}),Mt=function(e){var t=e.song,n=Object(m.b)(),l=Object(m.c)(X.l),i=Object(m.c)(X.k),o=Object(m.c)(X.n),u=Object(m.c)(X.h),s=Object(m.c)(p.g);Object(a.useEffect)((function(){l&&n(Object(W.e)(l))}),[l]);var f=Object(a.useCallback)((function(){return i.length||l?c.a.createElement(wt,{size:u,sentences:i}):c.a.createElement(Tt,{texts:o})}),[i,l,u,o]);return c.a.createElement(r.l,{className:"fs-lyric"},c.a.createElement(r.h,null,c.a.createElement(r.h.Column,{fullhd:5,tablet:"0",marginClass:" "},c.a.createElement(It,{song:t,isPlaying:s})),c.a.createElement(r.h.Column,{fullhd:7,tablet:12,className:"is-size-".concat(u),marginClass:" "},f())))},St=n(21),Ft=n(60),xt=n(216),Yt=n(53),Ut=Object(a.memo)((function(e){var t=e.active,n=e.item,a=e.isPlaying,u=e.left,s=e.width,m=e.centered,f=e.playFn,b={position:"absolute",left:u,width:s},O=n.thumbnailM.replace("w240","w480"),g=Object(i.r)(),j=Object(l.a)(g,1)[0],v=Object(Yt.g)();return c.a.createElement(r.e,{className:E()({active:t,centered:m}),style:b},c.a.createElement(r.e.Content,null,c.a.createElement(r.x,{src:O}),c.a.createElement(r.l,{className:"action"},c.a.createElement(d.g,{className:"action-btn",objectType:o.D.SONG,objectId:n.encodeId,object:n,disableAnimation:!0}),c.a.createElement(r.r,{className:"",classNameIcon:"action-play",icon:a?"pause-circle-outline":"play-circle-outline",onClick:function(){return f(n,{isClearQueue:!1})}}),c.a.createElement(r.O,{className:E()("action-btn",{hide:!(null===n||void 0===n?void 0:n.radioId)}),icon:"radio",title:"Ph\xe1t Radio c\u1ee7a b\xe0i h\xe1t",onClick:function(){(null===n||void 0===n?void 0:n.radioId)&&xt.PlaylistService.getDetail(null===n||void 0===n?void 0:n.radioId).then((function(e){e.data&&e.data.song&&e.data.song.items&&(j.playPlaylist(e.data,{forcePlay:!0}),v.push(e.data.link))})).catch((function(e){}))}})),t&&a&&c.a.createElement(r.q,{icon:"gif-playing-white",className:"playing-icon"})),c.a.createElement(r.l,{className:"meta-info"},c.a.createElement(r.M,null,n.title),c.a.createElement(r.M,{subtitle:!0},n.artistsNames)))})),Dt=Object(a.memo)((function(e){var t=e.onClick,n=e.type,l=e.keyCode;return Object(a.useEffect)((function(){var e=function(e){e.keyCode===l&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]),c.a.createElement(r.r,{icon:"go-".concat(n),className:E()("arrow-btn",n),onClick:t})})),Bt=n(1499),zt=(n(1532),Object(a.memo)((function(e){var t=e.moveToHero,n=Object(Bt.a)(4e3);return Object(a.useEffect)((function(){n&&t()}),[t,n]),c.a.createElement(c.a.Fragment,null)}))),Ht=Object(a.memo)((function(){var e=Object(m.c)(s.q),t=Object(m.c)(s.i),n=Object(m.c)(s.c),o=Object(m.c)(p.g),u=Object(m.c)(p.e),f=Object(m.c)(s.t),E=Object(a.useMemo)((function(){return f.length?[].concat(Object(St.a)(t),["recommendID"]):t}),[f.length>0,t]),b=Object(a.useMemo)((function(){return E.indexOf(n)}),[E,n]),d=Object(a.useState)({}),O=Object(l.a)(d,2),g=O[0],j=O[1],v=Object(a.useState)(b),h=Object(l.a)(v,2),y=h[0],A=h[1],N=Object(a.useRef)(),R=Object(a.useRef)({length:0,width:0,distance:0,moved:!1,centeredIndex:b}),L=Object(a.useRef)((function(){})),P=Object(i.r)(),T=Object(l.a)(P,1)[0];Object(a.useEffect)((function(){var e,t=((null===(e=N.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).width,n=void 0===t?0:t;R.current.width=n,R.current.length=360*(E.length-1)+430}),[E]),Object(a.useEffect)((function(){var e=R.current.moved;L.current=function(){return _(C(y),y,e)},L.current()}),[y]),Object(a.useEffect)((function(){b===y&&_(C(y),y,!1),A(b)}),[b]),Object(a.useEffect)((function(){Ft.a.event({category:Q.a.PLAYER,action:"player_fullscreen"});var e=function(){var e,t=((null===(e=N.current)||void 0===e?void 0:e.getBoundingClientRect())||{}).width,n=void 0===t?0:t;R.current.width=n,L.current()};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(a.useEffect)((function(){var t=function(t){if(t.keyCode===U.a.ENTER){t.preventDefault();var n=E[R.current.centeredIndex],a=e[n]||f[0];T.playSong(a,{isClearQueue:!1})}};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[E,e,f]);var C=function(e){var t=360*e;return t+=e===b?215:e<b?180:250,R.current.width/2-t},_=Object(a.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];R.current.distance=e,R.current.moved=!0,R.current.centeredIndex=t;var a={transform:"translateX(".concat(e,"px)"),transition:n?"linear 0.5s":void 0};j(a)}),[]),k=Object(a.useCallback)((function(){A(b)}),[b]),w=function(){return y>0},I=function(){return y<E.length-1},M=360*(E.length-1)+430,S=R.current.centeredIndex,F=S+4,x=S-4>0?S-4:0,Y=Object(a.useMemo)((function(){return E.slice(x,F)}),[E,x,F]);return c.a.createElement(r.l,{className:"fs-media-list",domRef:N},c.a.createElement(r.l,{className:"list-wrapper"},c.a.createElement(r.l,{className:"list",style:Object(Re.a)({position:"relative",height:360,width:M},g)},Y.map((function(t,n){var a=n+x,r=e[t]||f[0],l=a===b,i=y===a,s=o&&l,m=u&&l,E=a>b?360*(a-1)+430:360*a;return c.a.createElement(Ut,{key:"".concat(t,"-").concat(r.encodeId),item:r,active:l,centered:i,isPlaying:s,isBuffering:m,left:E,width:l?430:360,playFn:T.playSong})}))),w()&&c.a.createElement(Dt,{onClick:function(){w()&&A(y-1)},type:"left",keyCode:U.a.ARROW_LEFT}),I()&&c.a.createElement(Dt,{onClick:function(){I()&&A(y+1)},type:"right",keyCode:U.a.ARROW_RIGHT})),c.a.createElement(zt,{moveToHero:k}))})),qt=function(){return c.a.createElement(r.l,{className:"loader"},c.a.createElement(A.e,null))},Vt=Object(a.memo)((function(e){var t=e.advertiser,n=e.companions||{},a=n.htmlResources,l=void 0===a?[]:a,i=n.staticResources,o=n.clickThroughs,u=void 0===o?[]:o,s=l.length?c.a.createElement("div",{dangerouslySetInnerHTML:{__html:l[0]}}):c.a.createElement("img",{src:i[0]});return c.a.createElement(r.y.Side,{align:"left",className:"player-controls-left"},c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.A,null,c.a.createElement(r.A.Left,null,c.a.createElement(r.l,{renderAs:"a",href:u[0],target:"_blank"},c.a.createElement(r.l,{className:"thumb"},c.a.createElement("figure",{className:"image is-60x60 is-rounded"},s)))),c.a.createElement(r.A.Content,null,c.a.createElement(r.y.Side,{align:"left",className:"is-mark"},c.a.createElement(r.l,{className:"song-info-wrapper"},c.a.createElement(r.l,{className:"item-title title",renderAs:"a",href:u[0],target:"_blank"},"[QC]",t.title))),c.a.createElement(r.M,{subtitle:!0},t.description)))))})),Qt="AD_PLAYER_META_LOADED",Zt="AD_PLAYER_PLAY",Gt="AD_PLAYER_PAUSE",Kt="AD_PLAYER_ENDED",Wt="AD_PLAYER_PROGRESSING",Xt="AD_PLAYER_ERROR",Jt="AD_PLAYER_MUTED",$t=function(e){var t=e.source,n=e.playerRef,r=Object(m.c)(p.i),l=Object(a.useRef)(0===r);Object(a.useEffect)((function(){n.current&&(n.current.volume=r/100)}),[r]);return c.a.createElement("audio",{ref:n,src:t.uri,autoPlay:!0,onLoadedMetadata:function(){var e;_.a.emit(Qt,null===(e=n.current)||void 0===e?void 0:e.duration)},onPlay:function(){_.a.emit(Zt)},onPause:function(){_.a.emit(Gt)},onEnded:function(){_.a.emit(Kt)},onTimeUpdate:function(){var e,t;_.a.emit(Wt,{currentTime:null===(e=n.current)||void 0===e?void 0:e.currentTime,duration:null===(t=n.current)||void 0===t?void 0:t.duration})},onVolumeChange:function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.volume,a=l.current;l.current=0===t,a!==l.current&&_.a.emit(Jt,l.current)},onError:function(e){_.a.emit(Xt,e)}})},en=n(64),tn=Object(a.memo)((function(e){var t=e.impressions,n=e.trackingEvents,i=e.pauseFn,u=Object(m.b)(),s=Object(a.useState)(0),f=Object(l.a)(s,2),E=f[0],b=f[1],d=Object(a.useState)(0),O=Object(l.a)(d,2),g=O[0],j=O[1],v=Object(a.useRef)({});Object(a.useEffect)((function(){var e=window.ZMP3_PLAYER,n=function(e){b(e)},a=function(e){var n=e.currentTime,a=e.duration;j(n),v.current.start||(t.forEach((function(e){return Object(en.d)(e.uri,{})})),p("start"),p("creativeView"),v.current.start=!0),v.current.firstQuartile||n>a/4&&(p("firstQuartile"),v.current.firstQuartile=!0),v.current.midpoint||n>a/2&&(p("midpoint"),v.current.midpoint=!0),v.current.thirdQuartile||n>.75*a&&(p("thirdQuartile"),v.current.thirdQuartile=!0)},c=function(){p("pause")},r=function(){p("resume")},l=function(){v.current.complete=!0,p("complete"),u(Object(w.b)())},i=function(e){p(e?"mute":"unmute")},s=function(e){T.j.error(0,"Audio Ad | Play Error",e),u(Object(w.b)())},m=function(){v.current.forceSkip||e.pause()};return e.once(o.F.PLAYER_PLAY,m),_.a.once(Qt,n),_.a.on(Wt,a),_.a.on(Zt,r),_.a.on(Gt,c),_.a.on(Jt,i),_.a.once(Kt,l),_.a.once(Xt,s),function(){v.current.complete||(u(Object(w.b)()),p("skip")),e.off(o.F.PLAYER_PLAY,m),v.current.forceSkip||e.play(),_.a.off(Qt,n),_.a.off(Wt,a),_.a.off(Zt,r),_.a.off(Gt,c),_.a.off(Jt,i),_.a.off(Kt,l),_.a.off(Xt,s)}}),[]),Object(a.useEffect)((function(){_.a.once(o.a,(function(){v.current.forceSkip=!0,i(),u(Object(w.b)())}))}),[]);var p=function(e){n.filter((function(t){return t.event===e})).forEach((function(e){return Object(en.d)(e.uri,{})}))};return c.a.createElement(r.l,{className:"level-item mar-b-5"},c.a.createElement(r.l,{renderAs:"span",className:"time left"},T.e.formatTime(g)),c.a.createElement(r.I,{min:0,max:1,value:g/E,onChange:function(){},className:"zm-duration-bar",classNameTrack:"zm-slider-bar",classNameThumb:"zm-slider-handle",backgroundColor:"rgba(255, 255, 255, 0.3)",activeColor:"yellow",direction:L.Direction.Right}),c.a.createElement(r.l,{renderAs:"span",className:"time right"},T.e.formatTime(E)))})),nn=Object(a.memo)((function(e){var t=e.togglePlayFn,n=Object(a.useState)(!1),i=Object(l.a)(n,2),o=i[0],u=i[1];Object(a.useEffect)((function(){return _.a.on(Zt,s),_.a.on(Gt,m),function(){_.a.off(Zt,s),_.a.off(Gt,m)}}),[]);var s=function(){u(!0)},m=function(){u(!1)};return c.a.createElement(r.r,{className:"btn-play zm-tooltip-btn",icon:"".concat(o?"pause-circle-outline":"play-circle-outline"),onClick:t})})),an=function(e){var t=e.source,n=e.impressions,l=e.trackingEvents,i=Object(a.useRef)(null);return c.a.createElement(r.y.Side,{align:"center",className:"player-controls__player-bar"},c.a.createElement(r.y.Item,null,c.a.createElement(r.r,{icon:"repeat",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),c.a.createElement(r.r,{icon:"pre",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),c.a.createElement(nn,{togglePlayFn:function(){i.current&&(i.current.paused?i.current.play():i.current.pause())}}),c.a.createElement(r.r,{icon:"next",disabled:!0,className:"is-hover-circle zm-tooltip-btn"}),c.a.createElement(r.r,{icon:"shuffle",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),c.a.createElement(tn,{impressions:n,trackingEvents:l,pauseFn:function(){i.current&&i.current.pause()}}),c.a.createElement($t,{source:t,playerRef:i}))},cn=Object(a.memo)((function(){return c.a.createElement(r.y.Side,{align:"right",className:"player-controls-right"},c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.r,{icon:"mv",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.r,{icon:"karaoke",disabled:!0,className:"is-hover-circle zm-tooltip-btn"})),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.l,{className:"quality-button"},c.a.createElement(r.r,{icon:"",disabled:!0,className:"quality-name",text:"HQ"}))),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(G,null)),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.l,{renderAs:"span",className:"divide"})),c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.r,{icon:"list-music",disabled:!0,className:"queue-expand-button"})))})),rn=function(){var e=Object(m.c)(ee.b),t=Object(m.c)(X.e);return c.a.createElement(r.l,{className:E()("player-controls advertising",{opac:t})},c.a.createElement(r.l,{className:"level player-controls__container"},c.a.createElement(Vt,{advertiser:e.advertiser,companions:e.companions}),c.a.createElement(an,{source:e.source,impressions:e.impressions,trackingEvents:e.trackingEvents}),c.a.createElement(cn,null)))},ln=(n(1533),function(){var e=Object(m.c)(ee.b),t=e.companions||{},n=t.htmlResources,a=void 0===n?[]:n,l=t.staticResources,i=t.clickThroughs,o=void 0===i?[]:i,u=e.advertiser,s=a.length?c.a.createElement("div",{dangerouslySetInnerHTML:{__html:a[0]}}):c.a.createElement("img",{src:l[0]});return c.a.createElement(r.l,{className:"ads-banner"},c.a.createElement(r.l,{className:"ads-banner-content"},c.a.createElement(r.M,null,"Qu\u1ea3ng c\xe1o"),c.a.createElement(r.l,{renderAs:"a",href:o[0],target:"_blank"},c.a.createElement(r.l,{className:"image"},s)),c.a.createElement(r.M,null,u.title),c.a.createElement(r.M,{subtitle:!0},u.description)))}),on=function(){var e=Object(m.b)(),t=Object(m.c)(ee.a),n=Object(m.c)(ee.f);return Object(a.useEffect)((function(){t>0&&e(Object(w.c)())}),[t]),n?c.a.createElement(rn,null):c.a.createElement(c.a.Fragment,null)},un=Object(a.memo)((function(){var e=Object(Bt.a)(5e3),t=Object(a.useRef)(document.getElementsByClassName("now-playing-bar")[0]);return Object(a.useEffect)((function(){var n,a;e?null===(n=t.current)||void 0===n||n.classList.add("is-idle"):null===(a=t.current)||void 0===a||a.classList.remove("is-idle")}),[e]),c.a.createElement(c.a.Fragment,null)})),sn=(n(1534),Object(a.memo)((function(e){var t=e.isPlaying,n=e.className,i=e.children,o=Object(a.useRef)(null),u=Object(a.useRef)(null),s=Object(a.useRef)(t),m=Object(a.useRef)(),f=Object(a.useRef)(),b=Object(a.useState)(!1),d=Object(l.a)(b,2),O=d[0],g=d[1],j=Object(a.useState)(void 0),v=Object(l.a)(j,2),p=v[0],h=v[1],y=Object(a.useState)(!1),A=Object(l.a)(y,2),N=A[0],R=A[1];s.current=t||N,Object(a.useEffect)((function(){var e=T();e>0?(g(!0),s.current&&!p&&L(e)):P()}),[i,s.current]),Object(a.useEffect)((function(){return function(){clearTimeout(m.current),clearTimeout(f.current)}}),[]);var L=function e(t){var n=Math.ceil(t/70);h({transform:"translateX(".concat(-t,"px)"),transition:"transform ".concat(n,"s linear ").concat(2,"s")}),m.current=setTimeout((function(){return h(void 0)}),1e3*(n+2+.5)),f.current=setTimeout((function(){s.current&&e(t)}),1e3*(n+2+5))},P=function(){g(!1),h(void 0),clearTimeout(m.current),clearTimeout(f.current)},T=function(){var e,t,n=(null===(e=o.current)||void 0===e?void 0:e.getBoundingClientRect().width)||0,a=(null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect().width)||0;return a>n?a:0};return c.a.createElement(r.l,{className:E()("zm-text-transition",n,{"is-transition":O}),domRef:o,onMouseEnter:function(){return R(!0)},onMouseLeave:function(){return R(!1)}},c.a.createElement(r.l,{className:"zm-text-transition-content",style:p},c.a.createElement(r.l,{renderAs:"span",domRef:u,className:"zm-text-transition-item"},i),O&&c.a.createElement(r.l,{renderAs:"span",className:"zm-text-transition-item"},i)))}))),mn=[{name:"Danh s\xe1ch ph\xe1t"},{name:"Karaoke"},{name:"L\u1eddi b\xe0i h\xe1t"}],fn=Object(a.memo)((function(e){var t=e.song,n=Object(m.b)(),l=Object(m.c)(X.j),i=Object(m.c)($.e);Object(a.useEffect)((function(){i&&n(Object(W.g)({isOpen:!1}))}),[i]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(lt,{song:t}),c.a.createElement(r.l,{className:"fs-content"},c.a.createElement(Ot,{tabs:mn,tabActive:l,onChangeTab:function(e){n(Object(W.c)(e))},song:t}),t&&c.a.createElement(En,{song:t})),c.a.createElement(un,null))})),En=function(e){var t=e.song,n=Object(m.b)(),l=Object(m.c)(X.d),i=Object(m.c)(X.g),u=Object(m.c)(X.j),s=Object(m.c)(ee.f),f=Object(m.c)(p.g);Object(a.useEffect)((function(){n(Object(W.d)(t.encodeId))}),[t]);var E=Object(a.useCallback)((function(){return s?c.a.createElement(ln,null):u===o.p.LIST?c.a.createElement(Ht,null):l||t.encodeId!==i?c.a.createElement(qt,null):u===o.p.LYRIC?c.a.createElement(Mt,{song:t}):c.a.createElement(Rt,{song:t})}),[l,u,s,i,t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.l,{className:"fs-body"},E()),c.a.createElement(r.l,{className:"fs-bottom"},u!==o.p.LIST&&c.a.createElement(sn,{isPlaying:f},t.title," -"," ",c.a.createElement(r.l,{renderAs:"span",className:"artist"},t.artistsNames))))},bn=(n(1535),function(){var e=Object(m.b)(),t=Object(m.c)(s.d),n=Object(m.c)(X.e);return Object(a.useEffect)((function(){return function(){e(Object(W.g)({isOpen:!1}))}}),[]),c.a.createElement(Xe.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,timeout:600,classNames:"zm-video-animation"},c.a.createElement(r.l,{className:"fs-nowplaying"},c.a.createElement(fn,{song:t})))}),dn=n(134);var On=Object(a.memo)((function(e){var t=e.type,n=void 0===t?"MV":t,a=Object(H.a)().width;return c.a.createElement(Xe.a,{in:a>=r.o,mountOnEnter:!0,unmountOnExit:!0,timeout:500,classNames:"player-queue-animation"},c.a.createElement(r.l,{className:"player-queue player-empty"},c.a.createElement(r.l,{className:"queue-video-playing"},c.a.createElement("div",{className:"empty-img"}),c.a.createElement(r.l,{className:"empty-queue"},c.a.createElement(r.l,{className:"queue-video-img"}),c.a.createElement(r.l,{className:"content"},"\u0110ang ph\xe1t ",n,"...")))))})),gn=Object(a.memo)((function(e){return Object(ve.a)(e),c.a.createElement(r.l,{className:"player-queue__header"},c.a.createElement(r.y,{className:"tab-bars"},c.a.createElement(r.y.Side,{align:"left"},c.a.createElement(c.a.Fragment,null)),c.a.createElement(r.y.Side,{align:"right"},c.a.createElement(r.y,null,c.a.createElement(r.y.Item,null,c.a.createElement(xe,null))))))})),jn=n(1464),vn=function(e){var t=e.program,n=Object(i.o)(),a=n.Modal,l=n.show,o=n.hide;return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.l,{className:"description"},c.a.createElement(jn.a,{lines:2,ellipsis:c.a.createElement(r.l,{renderAs:"span"},"..."," ",c.a.createElement(r.l,{renderAs:"a",onClick:l},"Xem th\xeam"))},c.a.createElement(r.M,{subtitle:!0},t.description))),c.a.createElement(a,{className:"program-modal"},c.a.createElement(r.O,{title:"\u0110\xf3ng",icon:"close",className:"close-btn",onClick:o}),c.a.createElement(r.A,null,c.a.createElement(r.A.Left,null,c.a.createElement(r.x,{src:t.thumbnail,size:65})),c.a.createElement(r.A.Content,null,c.a.createElement(r.M,null,t.title))),c.a.createElement(r.M,{subtitle:!0},t.description)))},pn=Object(a.memo)((function(e){var t,n,a=e.program,l=e.active;return c.a.createElement(r.l,{className:E()("program-item",{active:l})},l?c.a.createElement(r.l,{className:"playing-text",renderAs:"span"},"\u0110ang ph\xe1t"):c.a.createElement(r.l,{className:"time-text"},(t=a.startTime,n=a.endTime,"".concat(Object(Ae.secondsToDate)(t,"HH:mm")," - ").concat(Object(Ae.secondsToDate)(n,"HH:mm")))),c.a.createElement(r.A,{key:a.encodeId},c.a.createElement(r.A.Left,null,c.a.createElement(r.x,{src:a.thumbnail})),c.a.createElement(r.A.Content,null,c.a.createElement(r.M,null,a.title),c.a.createElement(vn,{program:a}))))})),hn=(n(1500),Object(a.memo)((function(e){var t=e.programs,n=void 0===t?[]:t,i=Object(a.useState)(!1),o=Object(l.a)(i,2),u=o[0],s=o[1],m=Object(a.useCallback)((function(e){var t=e.currentTarget.scrollTop;s(t>0)}),[]);return n.length<1?c.a.createElement(c.a.Fragment,null):c.a.createElement(r.l,{className:"program-list__wrapper"},c.a.createElement(r.l,{className:"program-list__content"},c.a.createElement(r.J,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,onScroll:m,className:u?"is-mask":""},n.map((function(e,t){var n=0===t;return c.a.createElement(pn,{key:e.encodeId,program:e,active:n})})))))}))),yn=Object(a.memo)((function(){var e=Object(m.c)(dn.h),t=Object(m.c)(dn.i);return e?c.a.createElement(tt,{className:"player-queue__livestream"},c.a.createElement(r.x,{src:e.thumbnailV,className:"player-queue__cover"}),c.a.createElement(r.l,{className:"player-queue__opac"}),c.a.createElement(gn,null),c.a.createElement(r.l,{className:"player-queue__livestream-content"},c.a.createElement(r.M,{className:"livestream-title"},e.title),c.a.createElement(r.M,{className:"livestream-desc",subtitle:!0},e.description),c.a.createElement(hn,{programs:t}))):null}));n(1536);var An=function(e){var t=e.thumbnail,n=e.title,a=e.subtitle,l=e.playFn,i=e.closeFn;return c.a.createElement(r.l,{className:"alarm-over-content"},c.a.createElement(r.l,null,"Th\u1eddi gian ph\xe1t nh\u1ea1c \u0111\xe3 k\u1ebft th\xfac, b\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c ph\xe1t b\xe0i h\xe1t n\xe0y?"),c.a.createElement(r.e,{className:"zm-card--song"},c.a.createElement(r.e.Image,null,c.a.createElement(r.x,{src:t})),c.a.createElement(r.e.Content,null,c.a.createElement(r.M,{renderAs:"h4"},n),c.a.createElement(r.M,{subtitle:!0},a))),c.a.createElement(r.l,{className:"modal-card-foot"},c.a.createElement(r.r,{className:"mar-t-10",text:"Ti\u1ebfp t\u1ee5c ph\xe1t",isSize:"medium",isActive:!0,fullwidth:!0,uppered:!0,type:r.a.OUTLINE,onClick:l}),c.a.createElement(r.r,{className:"mar-t-10",fullwidth:!0,uppered:!0,text:"B\u1ecf qua",onClick:i})))},Nn=Object(a.memo)((function(e){var t=e.playFn,n=void 0===t?function(){}:t,a=e.closeModalFn,r=Object(m.c)(s.d),l=Object(m.c)(dn.h);if(null===r||void 0===r?void 0:r.encodeId){return c.a.createElement(An,{thumbnail:r.thumbnailM,title:r.title,subtitle:r.artistsNames,playFn:function(){n(),a()},closeFn:a})}if(null===l||void 0===l?void 0:l.encodeId){return c.a.createElement(An,{thumbnail:l.thumbnailV,title:l.title,subtitle:"",playFn:function(){window.ZMP3_LIVE_PLAYER.play(),a()},closeFn:a})}return null})),Rn=(n(1537),Object(a.memo)((function(){var e=Object(m.c)(Me),t=Object(m.b)();if(0===e)return c.a.createElement(c.a.Fragment,null);return c.a.createElement(r.l,{className:"alarm-countdown"},c.a.createElement(r.l,{renderAs:"span"},"Nh\u1ea1c s\u1ebd d\u1eebng sau:"),c.a.createElement(Ln,{time:e}),c.a.createElement(r.O,{icon:"close",onClick:function(){t(Object(V.o)({type:o.z.CLEAR_ALARM}))},title:"X\xf3a h\u1eb9n gi\u1edd"}))}))),Ln=function(e){var t=e.time,n=Object(i.e)(0),l=n.seconds,o=n.setSeconds;return Object(a.useEffect)((function(){t>0&&o(t-Object(Ae.currentTime)())}),[t]),c.a.createElement(r.l,{renderAs:"span",className:"countdown"},Object(Ae.formatAlarmTime)(l))},Pn=Object(a.memo)((function(){var e=Object(m.b)(),t=Object(m.c)(Me),n=Object(i.o)(),r=n.Modal,l=n.show,u=n.hide,s=window.ZMP3_PLAYER,f=Object(a.useRef)(!1),E=Object(m.c)(ee.f);return f.current=E,Object(a.useEffect)((function(){var n=t-Object(Ae.currentTime)();if(n>0){var a=setTimeout((function(){e(Object(ye.b)()),(s.isPlaying()||f.current)&&l(),s.pause(),window.ZMP3_LIVE_PLAYER&&window.ZMP3_LIVE_PLAYER.isPlaying()&&(window.ZMP3_LIVE_PLAYER.pause(),l()),_.a.emit(o.a)}),1e3*n);return function(){return clearTimeout(a)}}}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Rn,null),c.a.createElement(r,null,c.a.createElement(Nn,{closeModalFn:u,playFn:function(){return s.play()}})))})),Tn=n(115),Cn=n(11),_n=n.n(Cn),kn=n(18),wn=n(158),In=n(66),Mn=Object(a.memo)((function(e){var t,n=e.item,i=Object(m.b)(),u=Object(a.useState)(n.activeUsers),s=Object(l.a)(u,2),f=s[0],E=s[1],b=Object(m.c)(dn.c),d=Object(m.c)(dn.f),O=Object(m.c)(dn.e),g=Object(a.useRef)(!1),j=Object(a.useCallback)(Object(kn.a)(_n.a.mark((function e(){var t,a;return _n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wn.a.getInfo(n.encodeId);case 3:if(t=e.sent,!(a=t.data)){e.next=12;break}if(a.status===S.TLiveStreamStatus.LIVE||a.status===S.TLiveStreamStatus.REPLAY){e.next=10;break}return i(Object(Tn.c)()),i(Object(V.p)({text:o.w.LIVE_STREAM_ENDED})),e.abrupt("return");case 10:E(a.activeUsers),n.streaming!==a.streaming&&i(Object(Tn.i)(a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),T.j.error(e.t0.err,"getLiveStreamInfo | item.encodeId | link",n.encodeId,n.link);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[n]),v=Object(a.useCallback)((function(){return i(Object(Tn.d)())}),[]),p=Object(a.useCallback)((function(){b&&(new Date).getTime()/1e3>b.endTime&&i(Object(Tn.e)())}),[b]),h=Object(a.useCallback)((function(){d&&wn.a.putCCU(n.encodeId)}),[n,d]),y=Object(a.useCallback)((function(){d&&Ft.a.event({category:Q.a.LIVE_STREAM,action:"play",label:n.title})}),[n,d]);Object(a.useEffect)((function(){j(),i(Object(Tn.e)())}),[null===n||void 0===n?void 0:n.encodeId]),Object(a.useEffect)((function(){v()}),[null===b||void 0===b?void 0:b.encodeId]),Object(Ne.a)((function(){y()}),6e4),Object(Ne.a)((function(){j(),v(),h(),p()}),1e4),g.current=g.current||d;var A=d&&!O;return c.a.createElement(r.y.Side,{align:"left",className:"player-controls-left"},c.a.createElement(r.A,{className:g.current?"animate":""},c.a.createElement(r.A.Left,null,c.a.createElement(N,{thumbnail:n.thumbnail,animate:A})),c.a.createElement(r.A.Content,null,c.a.createElement(r.M,null,null===n||void 0===n||null===(t=n.host)||void 0===t?void 0:t.name," "),c.a.createElement(r.l,{className:"top"},c.a.createElement(r.l,{renderAs:"span",className:"label"},"Live Radio"),Object(In.a)(f)," \u0111ang nghe"))))})),Sn=Object(a.memo)((function(e){var t=e.item,n=e.togglePlay,l=e.isPlaying,i=e.isBuffering,o=Object(m.c)(dn.b);return Object(a.useEffect)((function(){var e=function(e){if(e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName&&(e.keyCode===U.a.SPACE?(e.preventDefault(),window.ZMP3_LIVE_PLAYER.togglePlay()):void 0)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),Object(a.useEffect)((function(){var e;if(navigator.mediaSession&&t.encodeId){var n=navigator.mediaSession;return n.metadata=new MediaMetadata({title:t.title,artist:null===t||void 0===t||null===(e=t.host)||void 0===e?void 0:e.name,artwork:[{src:t.thumbnail,sizes:"96x96",type:"image/png"},{src:t.thumbnail,sizes:"128x128",type:"image/png"},{src:t.thumbnail,sizes:"192x192",type:"image/png"},{src:t.thumbnail,sizes:"256x256",type:"image/png"},{src:t.thumbnail,sizes:"384x384",type:"image/png"},{src:t.thumbnail,sizes:"512x512",type:"image/png"}]}),n.setActionHandler("play",(function(){return window.ZMP3_LIVE_PLAYER.togglePlay()})),n.setActionHandler("pause",(function(){return window.ZMP3_LIVE_PLAYER.togglePlay()})),function(){var e=function(){};n.setActionHandler("play",e),n.setActionHandler("pause",e)}}}),[t]),c.a.createElement(r.y.Side,{align:"center"},c.a.createElement(r.l,{className:"control-action"},c.a.createElement(r.r,{icon:"repeat",disabled:!0}),c.a.createElement(r.r,{icon:"pre",disabled:!0}),i?c.a.createElement(r.c,null):c.a.createElement(r.r,{onClick:n,icon:l?"pause-circle-outline":"play-circle-outline"}),c.a.createElement(r.r,{icon:"next",disabled:!0}),c.a.createElement(r.r,{icon:"shuffle",disabled:!0})),o&&c.a.createElement(r.l,{className:"control-text"},c.a.createElement(sn,{isPlaying:l},"".concat(o.title),o.artists&&" - ".concat(o.artists))))})),Fn=(n(1538),function(){var e=Object(i.t)(),t=Object(l.a)(e,1)[0],n=Object(m.c)(s.m),a=Object(H.a)().width;return c.a.createElement(r.y.Side,{align:"right"},c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(G,null)),a<r.o&&c.a.createElement(r.y.Item,{narrow:!0},c.a.createElement(r.d,{className:E()("queue-toggle-btn",{active:n}),onClick:function(){return t.toggleIsOpen()}},"L\u1ecbch ph\xe1t s\xf3ng")))}),xn=Object(a.memo)((function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(0),n=Object(m.b)(),l=Object(m.c)(p.i),i=Object(m.c)(dn.h),u=Object(m.c)(dn.f),s=Object(m.c)(dn.e),f=Object(m.c)(dn.a);Object(a.useEffect)((function(){if(i){var e=window.ZMP3_LIVE_PLAYER=Object(F.initZPLayer)("audio/x-mpegURL",i.streaming);n(Object(Tn.b)(!0));var a=function(){n(Object(Tn.g)(!0));var a=e.getCurrentTime();t.current-a>20&&e.playback.seek(t.current)},c=function(){e.setVolume(l),f&&e.togglePlay(),n(Object(Tn.b)(!1))},r=function(){n(Object(Tn.g)(!1))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T.j.error(0,"Live Stream Player ",e.code)},s=function(n){var a=e.getCurrentTime(),c=(n||{}).current,r=void 0===c?0:c;t.current=r,e.isPlaying()&&(r-a>60||a>r)&&e.playback.seek(r-5)},m=function(){return n(Object(Tn.b)(!0))},E=function(){return n(Object(Tn.b)(!1))};return e.once(o.F.PLAYER_LOADEDMETADATA,c),e.on(o.F.PLAYER_PLAY,a),e.on(o.F.PLAYER_PAUSE,r),e.on(o.F.PLAYER_ERROR,u),e.on(o.F.PLAYER_BUFFERING,m),e.on(o.F.PLAYER_BUFFERFULL,E),e.once(o.F.PLAYER_STOP,r),e.on(o.F.PLAYER_PROGRESS,s),function(){e.off(o.F.PLAYER_LOADEDMETADATA,c),e.off(o.F.PLAYER_PLAY,a),e.off(o.F.PLAYER_PAUSE,r),e.off(o.F.PLAYER_ERROR,u),e.off(o.F.PLAYER_BUFFERING,m),e.off(o.F.PLAYER_BUFFERFULL,E),e.off(o.F.PLAYER_STOP,r),e.off(o.F.PLAYER_PROGRESS,s),t.current=0;try{e.stop(),e.destroy()}catch(n){}}}}),[i]),Object(a.useEffect)((function(){window.ZMP3_LIVE_PLAYER&&window.ZMP3_LIVE_PLAYER.setVolume(l)}),[l]),Object(a.useEffect)((function(){var e=function(){n(Object(Tn.c)())};return window.ZMP3_PLAYER.on(o.F.PLAYER_PLAY,e),function(){window.ZMP3_PLAYER.off(o.F.PLAYER_PLAY,e),n(Object(Tn.g)(!1)),n(Object(Tn.h)(!1))}}),[]);return i?c.a.createElement(r.l,{className:"zm-ls-control-bar player-controls"},c.a.createElement(r.y,null,c.a.createElement(Mn,{item:i}),c.a.createElement(Sn,{togglePlay:function(){window.ZMP3_LIVE_PLAYER.togglePlay()},isPlaying:u,isBuffering:s,item:i}),c.a.createElement(Fn,null)),c.a.createElement(r.l,{domRef:e})):c.a.createElement(c.a.Fragment,null)}));n(1539);window.ZMP3_PLAYER=Object(F.initZPLayer)();t.default=Object(a.memo)((function(){var e=Object(m.c)($.e),t=Object(m.c)(dn.d),n=Object(m.c)(s.z),l=document.getElementsByClassName("zm-layout")[0];return Object(a.useEffect)((function(){n||t?l.classList.add("has-player"):l.classList.remove("has-player")}),[n,t,e]),c.a.createElement(r.K,{className:"now-playing-bar"},e||t?e?c.a.createElement(On,null):c.a.createElement(yn,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(a.Suspense,{fallback:c.a.createElement(c.a.Fragment,null)},c.a.createElement(bn,null)),c.a.createElement(nt,null),c.a.createElement(on,null)),c.a.createElement(Pn,null),c.a.createElement(ae,null),t&&!e&&c.a.createElement(xn,null))}))}}]);