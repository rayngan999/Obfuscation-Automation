/*!
----------------------------------------------------------------------------------------------------
* Important! - To edit this JS, you must use the JS source file.

* General Script - IvÃ¡n Luna [RE]
* ivanluna.re@outlook.com
----------------------------------------------------------------------------------------------------
*/
"use strict";function load_svg(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);e&&$("svg").each(function(){var e=$(this);if("undefined"==typeof e.find("use").attr("xlink:href")&&"undefined"==typeof e.attr("xmlns")){var t=e.find("use").attr("href"),a=e.attr("class"),i=e.attr("id");e.before('<svg id="'+i+'" class="'+a+'"><use xlink:href="'+t+'"></use></svg>'),e.remove()}})}function load_discount_tags(){$(".product-item__flag:not(.checked)").each(function(){var e=$(this),t=e.html();"0"!=t&&(t=Math.round(parseFloat(t.replace("%","").replace(",","."))),e.html("-"+t+"%").addClass("shown")),e.addClass("checked")})}function load_searchbar(){currentDept="0",enableFullTextSearchBox("searchbarInput1","searchbarSelect1","searchbarHidden1","searchbarButton1","/SEARCHTERM","")}function load_nav_products(){$(".nav-product-item-container .nav-product-item").each(function(){var e=$(this);e.prependTo(e.parent().parent().parent().parent()),e.find("img").addClass("img-centrada")}),$(".nav-product-item-container .prateleira.vitrine").remove()}function load_skus(){$(".product-item .product-item__skus").not(".checked").each(function(){var e=$(this);e.addClass("checked item"+gndx),e.closest(".product-item").attr("data-index",gndx).find(".js-buy-plp").attr("data-index",gndx);var t=parseInt(e.attr("data-id")),a=parseInt(e.attr("data-sku"));load_sku_index(t,a,gndx),gndx++})}function load_sku_index(e,t,a){vtexjs.catalog.getProductWithVariations(e).done(function(i){var s="",r="Sin stock",o="",n="",l=0;if($.each(i.skus,function(i,c){if("undefined"!=typeof c.dimensions.Color){var d=c.sku,u=c.bestPriceFormated,p=c.listPriceFormated,f=c.dimensions.Talla;n=c.dimensions.Color.replace(/\s/g,"-").toLowerCase(),s!=c.dimensions.Color&&(s=c.dimensions.Color,color_sku=c.sku),c.available&&(r=u,o=p);var m="";if(0==c.available)var m="disabled";var h="",v="";c.sku==parseInt(t)&&(v="active"),0==$(".item"+a+" .product-item__colors .product-item__color."+n).length&&$(".item"+a+" .product-item__colors").append('<div class="product-item__color '+n+'" data-sku="'+color_sku+'" data-id="'+e+'" data-color="'+n+'" data-img="'+c.image.replace("292-292","500-281.25")+'" title="'+s+'">'+s+"</div>"),0==$(".item"+a+" .product-item-size .size-"+n).length&&$(".item"+a+" .product-item-size").append('<select class="size size-'+n+'" data-color="size-'+n+'"><option value="">Talla</option></select>'),""!=v&&($(".item"+a+" .product-item-size .size-"+n).addClass(v),$(".item"+a+" .product-item__colors .product-item__color."+n).addClass(v));var g=$(".item"+a+" .product-item__colors .product-item__color."+n).attr("data-price");("undefined"==typeof g||c.available)&&$(".item"+a+" .product-item__colors .product-item__color."+n).attr("data-price",r).attr("data-listprice",o),$(".item"+a+" .product-item-size .size-"+n).append("<option "+m+" "+h+' value="'+d+'" data-listprice="'+p+'" data-price="'+u+'">'+f+"</option>"),r="Sin stock",o="",l++}else if("undefined"!=typeof c.dimensions.Talla){var d=c.sku,u=c.bestPriceFormated,p=c.listPriceFormated,f=c.dimensions.Talla;n="na",color_sku=c.sku,c.available&&(r=u,o=p);var m="";if(0==c.available)var m="disabled";var h="",v="";c.sku==parseInt(t)&&(v="active"),0==$(".item"+a+" .product-item-color .color."+n).length&&$(".item"+a+" .product-item-color").append('<div class="color '+n+'" data-sku="'+color_sku+'" data-id="'+e+'" data-color="'+n+'" data-img="'+c.image.replace("292-292","500-500")+'" title="'+s+'">'+s+"</div>"),0==$(".item"+a+" .product-item__size .size-"+n).length&&(show_select?$(".item"+a+" .product-item__size").html('<select class="size size-'+n+'" data-color="size-'+n+'"><option value="">TALLA</option></select>'):$(".item"+a+" .product-item__size").html('<div class="size size-'+n+'" data-color="size-'+n+'"></div>')),""!=v&&($(".item"+a+" .product-item__size .size-"+n).addClass(v),$(".item"+a+" .product-item-color .color."+n).addClass(v));var g=$(".item"+a+" .product-item-color .color."+n).attr("data-price");("undefined"==typeof g||c.available)&&$(".item"+a+" .product-item-color .color."+n).attr("data-price",r).attr("data-listprice",o),show_select?$(".item"+a+" .product-item__size .size-"+n).append("<option "+m+" "+h+' value="'+d+'" data-listprice="'+p+'" data-price="'+u+'">'+f+"</option>"):$(".item"+a+" .product-item__size .size-"+n).append('<div class="sku-pi '+m+'" '+h+' value="'+d+'" data-listprice="'+p+'" data-price="'+u+'">'+f+"</div>"),r="Sin stock",o=""}}),i.skus.length>1){var c=i.skus.length;c===l&&$(".item"+a).addClass("is-displayed")}toggle_load_more()})}function metadescription(){var e=$(document).attr("title"),t=(dataLayer[0].categoryName,dataLayer[0].pageDepartment),a=dataLayer[0].pageCategory;if(-1==e.indexOf("Resultado"))if($("body").hasClass("content"))"promociones"==a?e="Promociones | OfficeMax MÃ©xico - Tienda en LÃ­nea":(e=e.replace(/-/g," "),e=e.replace("â","|"),e=e.toLowerCase(),e=e.replace(/^[a-z]|\s\D/g,function(e){return e.toUpperCase()}),e=e.replace("Officemaxv4","OfficeMax MÃ©xico - Tienda en LÃ­nea")),document.title=e;else if($("body").hasClass("categoria")){var i=e.split("|");e=i[0]+" | "+t+" | ",e+=e.length<=31?"OfficeMax MÃ©xico - Tienda en LÃ­nea":"OfficeMax MÃ©xico";var s="Compra "+$("meta[name   ='description']").attr("content").toLowerCase()+". EnvÃ­os a toda la RepÃºblica Mexicana";$("meta[name   ='description']").attr("content",s),document.title=e}else if($("body").hasClass("folder")){e=e.replace(/-/g," "),e=e.replace("â","|"),e=e.toLowerCase(),e=e.replace(/^[a-z]|\s\D/g,function(e){return e.toUpperCase()}),e=e.replace("Officemaxv4","OfficeMax MÃ©xico - Tienda en LÃ­nea");var i=e.split("|"),s="Compra una gran variedad de "+i[0].toLowerCase()+". EnvÃ­os a toda la RepÃºblica Mexicana";$("meta[name   ='description']").attr("content",s),document.title=e}}var gndx=0,show_select=!1;$(function(){$("form.searcher__form").on("submit",function(e){e.preventDefault()}),load_searchbar(),load_svg(),$("body").on("mouseenter",".product-item",function(){var e=$(this),t=e.find('.product-item__skus:not(".checked")');if(console.log(t.length),t.length){t.addClass("checked item"+gndx),t.closest(".product-item").attr("data-index",gndx).find(".js-buy-plp").attr("data-index",gndx);var a=parseInt(t.attr("data-id")),i=parseInt(t.attr("data-sku"));load_sku_index(a,i,gndx),gndx++}}),$("body").on("click","#items-wrapper .remove ",function(e){e.preventDefault();var t=$(this).attr("data-index");vtexjs.checkout.getOrderForm().then(function(e){var a=e.items[t];return a.index=t,vtexjs.checkout.removeItems([a])}).done(function(){update_minicart()})}),$("body").on("click",".sku-pi",function(){var e=$(this),t=e.closest(".product-item");if(""!=e.attr("value")){var a=e.closest(".product-item__skus").attr("data-id"),i=e.attr("data-listprice"),s=e.attr("data-price"),r="";e.addClass("is-selected").siblings().removeClass("is-selected"),"$0.00"==i?r+='<span class="price-new">'+s+"</span>":(r+='<span class="price-new price-promo">'+s+"</span> ",r+='<span class="price-old">'+i+"</span>"),$('.product-item .product-item__price[data-id="'+a+'"]').empty().html(r)}var o=e.attr("value"),n=e.html();""!=o&&(t.find(".js-buy-plp").attr("data-skuid",o),t.addClass("show-buy"),t.find(".product-item__name a span").length?t.find(".product-item__name a span").html("Talla "+n+"</span>"):t.find(".product-item__name a").append(" <span>Talla "+n+"</span>"))}),$("body").on("click",".product-item__colors .product-item__color",function(){var e,t=!0,a=$(this),i=a.attr("data-img"),s=a.attr("data-id"),r=a.attr("data-color");if($('.product-item__main-image[data-id="'+s+'"] img').attr("src",i),$('.product-item__colors[id="product-item__colors-'+s+'"] .product-item__color').removeClass("active"),$('.product-item__colors[id="product-item__colors-'+s+'"] .product-item__color.'+r).addClass("active"),$('.product-item__skus[data-id="'+s+'"] .size').removeClass("active"),$('.product-item__skus[data-id="'+s+'"] .size-'+r).addClass("active"),t)e=a,console.log(e);else{var o=a.closest(".product-item__skus").find(".size.active");e=""!=o.val()?o.find("option:selected"):a}var n=e.attr("data-listprice"),l=e.attr("data-price");console.log("listPrice",n),console.log("prrice",l);var c="";"$0.00"==n?c+='<span class="price-new">'+l+"</span>":(c+='<span class="price-new price-promo">'+l+"</span> ",c+=' <span class="price-old">'+n+"</span>"),$('.product-item .product-item__price[data-id="'+s+'"]').empty().html(c)}),$("body").on("click",".product-item__quantity .qtybutton",function(){console.log("test");var e=$(this),t=e.parent(".product-item__quantity").find("input").val();if(e.hasClass("+"))var a=parseFloat(t)+1;else if(t>1)var a=parseFloat(t)-1;else a=1;e.parent(".product-item__quantity").find("input").val(a)}),$("body").on("click",".js-buy-plp",function(e){e.preventDefault();var t=$(this),a=(t.attr("data-index"),t.attr("data-id"),t.attr("data-skuid")),i=1;t.parents(".product-item__cta").siblings(".product-item__quantity").find("input").length&&(i=t.parents(".product-item__cta").siblings(".product-item__quantity").find("input").val()),""!=a?$.ajax({url:"/checkout/cart/add?sku="+a+"&qty="+i+"&seller=1&redirect=false&sc=1",type:"get",success:function(){vtexjs.checkout.getOrderForm().done(function(e){crearCarritoLightBox(e,a)})}}):alert("Selecciona la talla deseada")}),load_nav_products()}),$(window).on("load",function(){$_body=$("body"),($_body.hasClass("content")||$_body.hasClass("departamento")||$_body.hasClass("folder")||$_body.hasClass("categoria"))&&metadescription()});var currentYear=function(e){var t=new Date,a=t.getFullYear(),i=$(e);i.html(a)};currentYear(".year");
//# sourceMappingURL=css-js_general.min.js.map