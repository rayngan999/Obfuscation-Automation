KCMS.registerNamespace("KCMS.Forms"),KCMS.Forms=function(){var t=function(t){var e=!1,a=$(".f-input--invalid:visible:first",t).parent();return a.length>0&&($(window).scrollTop(a.offset().top-140),$("input,select,textarea",a).focus(),e=!0),e};return setTimeout((function(){var e=$(".summary-content:not(:empty):visible:first"),a=e.parent();e.text().trim().length>0?$(window).scrollTop(a.offset().top-140):t($(document))}),100),$(document).on("keyup","input[name='CaptchaInputText']",(function(){$(this).valid()})),{RevertToPlainCaptcha:function(t,e,a){e&&($(".captchaId",t).val(e),$(".google-captcha",t).addClass("hidden"),$(".grecaptcha-policy",t).addClass("hidden"),$(".plain-captcha",t).removeClass("hidden").find("input").removeAttr("disabled"),a&&a.trim()&&(KCMS.Forms.SetPlainCaptchaErrorMessage(t,a),$("input[name='CaptchaInputText']",t).parents(".f-input").addClass("f-input--invalid f-input--active"))),t.find(".captcha-group").each((function(){var e=$(this),a=e.data("scope");e.has("img#CaptchaImage").length>0?(e.find(".f-input").removeClass("f-input--valid"),$("input[name='CaptchaInputText']",t).val(""),new Function("_"+a+"_captchaResetToken()")()):e.has(".google-recaptcha-token").length>0&&KCMS.Captcha.RefreshBy(e)})),KCMS.Forms.ToggleErrorMessage(t),KCMS.Forms.ScrollToFirstInvalidField(t)},ScrollToFirstInvalidField:t,ToggleErrorMessage:function(t){var e=$(".validation-summary-errors",t);0===e.length&&(e=$(".validation-summary-errors",t.parents(".section-form"))),e.text().trim().length>0?e.show():e.hide()},SetPlainCaptchaErrorMessage:function(t,e){$(".summary-content",t).empty(),$(".summary-content",t.parents(".section-form")).empty();var a=$("input[name='CaptchaInputText']",t).parents(".f-input"),n=a.next(),i=$(".c-tooltip__message--error",n),r=$("span[class^='field-validation']",i);r.length>0?(r.text(e),r.attr("class","field-validation-error"),a.addClass("f-input--invalid  f-input--active"),$("input[name='CaptchaInputText']",a).attr("class","input-validation-error")):i.text(e)},OnSubmit:function(t,e){var a=KCMS.Forms.ScrollToFirstInvalidField(t),n=$("input[name='CaptchaInputText']",t).is(":visible");a||n?void 0!==e&&"function"==typeof e&&e instanceof Function&&e():KCMS.Captcha.RefreshBy(t,e)},appendSecurityData:function(t,e){e.__RequestVerificationToken=$("input[name=__RequestVerificationToken]",t).val(),e["g-recaptcha-response"]=$("#g-recaptcha-response",t).val(),e.CaptchaInputText=$("[name='CaptchaInputText']",t).val(),e.CaptchaDeText=$("[name='CaptchaDeText']",t).val()},hideSummaryErrorMessage:function(t){$(".validation-summary-errors .summary-content",t).text(""),$(".validation-summary-errors",t).hide()},showSummaryErrorMessage:function(t,e){$(".validation-summary-errors .summary-content",t).text(e),$(".validation-summary-errors",t).show()},disable:function(t){t.prop("disabled",!0).addClass("disabled")},enable:function(t){t.prop("disabled",!1).removeClass("disabled")},submitWithoutValidate:function(t){t.find("#Action").removeAttr("disabled").val("Continue"),t.find("[name='__RequestVerificationToken']").removeAttr("disabled"),$("select,input,textarea",t).removeAttr("disabled"),t.validate().destroy(),t.submit()},Serialize:function(t){var e={};return t.serializeArray().map((function(t){e[t.name]=t.value})),e}}}();