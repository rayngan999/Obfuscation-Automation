/*!
** Unobtrusive validation support library for jQuery and jQuery Validate
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
!function(a){var e,t=a.validator;function n(a,e,t){a.rules[e]=t,a.message&&(a.messages[e]=a.message)}function i(a){return a.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function r(a){return a.substr(0,a.lastIndexOf(".")+1)}function o(a,e){return 0===a.indexOf("*.")&&(a=a.replace("*.",e)),a}function d(e,t){var n=a(this).find("[data-valmsg-for='"+i(t[0].name)+"']"),r=n.attr("data-valmsg-replace"),o=!1!==(r&&a.parseJSON(r));n.closest(".c-tooltip__group").prev().addClass("f-input--invalid").removeClass("f-input--valid"),n.removeClass("field-validation-valid").addClass("field-validation-error"),e.data("unobtrusiveContainer",n),o?(n.empty(),e.removeClass("input-validation-error").appendTo(n)):e.hide()}function s(e,t){a(this).find("[data-valmsg-summary=true]").addClass("validation-summary-errors").removeClass("validation-summary-valid")}function l(e){var t=e.data("unobtrusiveContainer"),n=t.attr("data-valmsg-replace"),i=n&&a.parseJSON(n);t&&(t.addClass("field-validation-valid").removeClass("field-validation-error"),t.closest(".c-tooltip__group").prev().removeClass("f-input--invalid").addClass("f-input--valid"),""==t.closest(".c-tooltip__group").prev().find("input,select,textarea").val()&&t.closest(".c-tooltip__group").prev().removeClass("f-input--valid"),e.removeData("unobtrusiveContainer"),i&&t.empty())}function u(e){var t=a(this);t.data("validator").resetForm(),t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),t.find(".field-validation-error").closest(".c-tooltip__group").prev().removeClass("f-input--invalid").addClass("f-input--valid"),t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function m(e){var t=a(e),n=t.data("unobtrusiveValidation"),i=a.proxy(u,e);return n||(n={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:a.proxy(d,e),invalidHandler:a.proxy(s,e),messages:{},rules:{},success:a.proxy(l,e)},attachValidation:function(){t.unbind("reset.unobtrusiveValidation",i).bind("reset.unobtrusiveValidation",i).validate(this.options)},validate:function(){return t.validate(),t.valid()}},t.data("unobtrusiveValidation",n)),n}t.unobtrusive={adapters:[],parseElement:function(e,t){var n,i,r,o=a(e),d=o.parents("form")[0];d&&((n=m(d)).options.rules[e.name]=i={},n.options.messages[e.name]=r={},a.each(this.adapters,(function(){var t="data-val-"+this.name,n=o.attr(t),s={};void 0!==n&&(t+="-",a.each(this.params,(function(){s[this]=o.attr(t+this)})),this.adapt({element:e,form:d,message:n,params:s,rules:i,messages:r}))})),a.extend(i,{__dummy__:!0}),t||n.attachValidation())},parse:function(e){var n=a(e).parents("form").andSelf().add(a(e).find("form")).filter("form");a(e).find(":input[data-val=true]").each((function(){t.unobtrusive.parseElement(this,!0)})),n.each((function(){var a=m(this);a&&a.attachValidation()}))}},(e=t.unobtrusive.adapters).add=function(a,e,t){return t||(t=e,e=[]),this.push({name:a,params:e,adapt:t}),this},e.addBool=function(a,e){return this.add(a,(function(t){n(t,e||a,!0)}))},e.addMinMax=function(a,e,t,i,r,o){return this.add(a,[r||"min",o||"max"],(function(a){var r=a.params.min,o=a.params.max;r&&o?n(a,i,[r,o]):r?n(a,e,r):o&&n(a,t,o)}))},e.addSingleVal=function(a,e,t){return this.add(a,[e||"val"],(function(i){n(i,t||a,i.params[e])}))},t.addMethod("__dummy__",(function(a,e,t){return!0})),t.addMethod("regex",(function(a,e,t){var n;return!!this.optional(e)||(n=new RegExp(t).exec(a))&&0===n.index&&n[0].length===a.length})),e.addSingleVal("accept","exts").addSingleVal("regex","pattern"),e.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),e.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),e.add("equalto",["other"],(function(e){var t=r(e.element.name),d=o(e.params.other,t);n(e,"equalTo",a(e.form).find(":input[name='"+i(d)+"']")[0])})),e.add("required",(function(a){"INPUT"===a.element.tagName.toUpperCase()&&"CHECKBOX"===a.element.type.toUpperCase()||n(a,"required",!0)})),e.add("remote",["url","type","additionalfields"],(function(e){var t={url:e.params.url,type:e.params.type||"GET",data:{}},d=r(e.element.name);a.each(function(a){return a.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}(e.params.additionalfields||e.element.name),(function(n,r){var s=o(r,d);t.data[s]=function(){return a(e.form).find(":input[name='"+i(s)+"']").val()}})),n(e,"remote",t)})),a((function(){t.unobtrusive.parse(document)}))}(jQuery);