define("zebra-pages/fp5/pc/js/mods/new-hot-brand",["zebra-pages/fp5/pc/js/js-xtpl/new-hot-brand-render","zebra-pages/fp5/pc/js/js-xtpl/new-hot-brand-item-render","mui/jquery/jquery","zebra-pages/fp5/pc/js/mods/util","zebra-pages/fp5/pc/js/mods/model","zebra-pages/fp5/pc/js/mods/exposure","mui/crossimage/index"],function(t,s,e){var _=t("zebra-pages/fp5/pc/js/js-xtpl/new-hot-brand-render"),a=t("zebra-pages/fp5/pc/js/js-xtpl/new-hot-brand-item-render"),c=t("mui/jquery/jquery"),i=t("zebra-pages/fp5/pc/js/mods/util"),m=t("zebra-pages/fp5/pc/js/mods/model"),o=(t("zebra-pages/fp5/pc/js/mods/exposure"),t("mui/crossimage/index")),p=".j_newHotBrandBody",r=".j_newHotBrandItemBody",l="&#xe61f;",d=!0,h=0,n=29,u=4,T=[],A={"conSelector":".j_newHotBrand","RES_ID_ARR":["09042"],"init":function(t){var s=this,e=!1;try{location.href.indexOf("forceBrandError=true")>0?e=!0:(T=t[s.RES_ID_ARR[0]].data.length<29?[]:t[s.RES_ID_ARR[0]].data,u=Math.floor(T.length/n),T.length<29&&(e=!0,codeTrack("error:newHotBrandItemNumber.error","app.init",{"msg":"\u54c1\u724c\u5899\u8fd4\u56de\u4e2a\u6570\u4e3a"+T.length}),i.report("newHotBrand","err","\u54c1\u724c\u5899\u8fd4\u56de\u4e2a\u6570\u4e3a"+T.length)),T.length<96&&(codeTrack("error:newHotBrandItemNumber.error","app.init",{"msg":"\u54c1\u724c\u5899\u8fd4\u56de\u4e2a\u6570\u5c11\u4e8e96\uff0c\u4e3a"+T.length}),i.report("newHotBrand","err","\u54c1\u724c\u5899\u8fd4\u56de\u4e2a\u6570\u5c11\u4e8e96\uff0c\u4e3a"+T.length)))}catch(a){e=!0,codeTrack("error:newHotBrandItem.error","app.init",{"msg":"\u54c1\u724c\u5899\u63a5\u53e3\u8c03\u7528\u5931\u8d25"}),i.report("newHotBrand","err","\u54c1\u724c\u5899\u63a5\u53e3\u8c03\u7528\u5931\u8d25")}var _={};try{s.render({"icon":l,"data":_})}catch(a){}i.mmstat("/tmallfp.5105.1"),e&&c(".refresh-btn",s.conSelector).hide(),s.bindEvent(),s._initCollectBrand(),c(p).css({"opacity":0}).animate({"opacity":1},200)},"render":function(t){var s=this;c(p).html(_(t)).removeClass("fp-content-loading"),s.updateBrandItems()},"bindEvent":function(){var t=this;c(t.conSelector).on("click",".refresh-btn",function(s){s.preventDefault(),s.stopPropagation(),i.mmstat("/tmallfp.5006.1"),t.updateBrandItems()})},"updateBrandItems":function(){var t={},s=h*n;if(t.brands=T.slice(s,s+n),h=h<u-1?h+1:0,t.brands.forEach(function(t,s){t.imgUrl=o.getFitUrl(i.trimPic(t.imgUrl),100,50,{"quality":g_config.imgQuality,"sharpen":""})}),c(".rotate-icon",p).addClass("active"),setTimeout(function(){c(".rotate-icon",p).removeClass("active")},500),d)d=!1,t.needCon=!0,c(r).html(a(t));else{var e=0;c(r).find(".brand-item").each(function(s,_){var i=Math.floor(s%6),m=Math.floor(s/6),o={"brands":[t.brands[s]]};e=i+m,setTimeout(function(){c(".brand-img",_).animate({"width":0},150,"linear",function(){c(_).html(a(o)),c(".brand-img",_).css({"width":0}).animate({"width":122},100,"linear")})},30+100*e)})}t.brands.forEach(function(t){t.exposureParam&&i.send(t.exposureParam)})},"_initCollectBrand":function(){var t=this;0!==c(p).length&&c(p).on("click",function(s){if(c(s.target).hasClass("j_BrandStatus")){var e=s.target;s.preventDefault(),s.stopPropagation();var _=c(e).attr("data-id"),a=c(e).attr("data-collected");a&&"true"==a?m.delBrand(_,function(){c(e).attr("data-collected","false"),c(e).removeClass("collected"),c(e).html("&#xe604;"),i.mmstat("/tmallfp.5106.2")},function(){}):m.addBrand(_,function(s){"T"==s.is_success?(c(e).attr("data-collected","true"),c(e).addClass("collected"),c(e).html("&#xe603;"),i.mmstat("/tmallfp.5106.1")):"O"==s.is_success?document.location.href="//login.tmall.com?spm=875.7931836.fpBrandCollectedLogin.1&redirect_url="+encodeURIComponent(document.location.href):t._showBrandStatusTip(brandStatusTip,"\u5173\u6ce8\u5931\u8d25")},function(){})}})}};e.exports=A});define("zebra-pages/fp5/pc/js/js-xtpl/new-hot-brand-render",["./new-hot-brand","zebra-pages/fp5/pc/js/mods/x-runtime"],function(t,s,e){var a=t("./new-hot-brand"),i=t("zebra-pages/fp5/pc/js/mods/x-runtime"),c=new i(a);e.exports=function(){return c.render.apply(c,arguments)}});define("zebra-pages/fp5/pc/js/js-xtpl/new-hot-brand",function(t,s,e){(e.exports=function(t){var s=this,e=s.root,a=s.buffer,i=s.scope,c=(s.runtime,s.name,s.pos,i.data,i.affix,e.nativeCommands),_=e.utils;_.callFn,_.callCommand,c.range,c.foreach,c.forin,c.each,c["with"],c["if"],c.set,c.include,c.parse,c.extend,c.block,c.macro,c["debugger"];return a.data+=" ",a.data+="\n  ",a.data+="\n ",a.data+="\n",a.data+='\n<div class="brand-list">\n  <ul class="init j_newHotBrandItemBody brand-item-body" data-spm="2016073"></ul>\n  <div data-spm="fpBrandFresh">\n    <a href="#" class="refresh-btn" data-spm-click="gostr=/tmallfp;locaid=d99;">\n      <i class="rotate-icon fp-iconfont">&#xe637;</i>\n      <span class="btn-text">\u6362\u4e00\u6279</span>\n    </a>\n  </div>\n</div>\n',a}).TPL_NAME=e.id||e.name});define("zebra-pages/fp5/pc/js/js-xtpl/new-hot-brand-item-render",["./new-hot-brand-item","zebra-pages/fp5/pc/js/mods/x-runtime"],function(t,s,e){var a=t("./new-hot-brand-item"),i=t("zebra-pages/fp5/pc/js/mods/x-runtime"),c=new i(a);e.exports=function(){return c.render.apply(c,arguments)}});define("zebra-pages/fp5/pc/js/js-xtpl/new-hot-brand-item",function(t,s,e){(e.exports=function(t){function s(t,s,e){t.data,t.affix;return s.data+='\n  <li class="brand-default ">\n    <a href="//ju.taobao.com/jusp/o/ppshangou/tp.htm">\n      <img width="100%" src="https://img.alicdn.com/tfs/TB13R0daSFRMKJjy0FhXXX.xpXa-1230-326.jpg">\n    </a>\n  </li>\n',s}function e(t,s,e){t.data,t.affix;return s.data+='\n  <li class="brand-item">\n  ',s}function a(t,s,e){var a=t.data,i=t.affix;s.data+="\n            <span>\u4f18\u60e0\u5238 \uffe5",n.line=18;var c=(o=i.couponValue)!==e?o:(o=a.couponValue)!==e?o:t.resolveLooseUp(["couponValue"]);return s=s.writeEscaped(c),s.data+="</span>\n          ",s}function i(t,s,e){var a=t.data,i=t.affix;s.data+="\n            <span>",n.line=20;var c=(o=i.brandName)!==e?o:(o=a.brandName)!==e?o:t.resolveLooseUp(["brandName"]);return s=s.writeEscaped(c),s.data+="</span>\n          ",s}function c(t,s,e){t.data,t.affix;return s.data+="\n  </li>\n  ",s}function _(t,s,_){var r=t.data,p=t.affix;s.data+="\n  ",n.line=9;var l=(o=t.root.affix.needCon)!==_?o:t.root.data.needCon;s=T.call(m,t,{"params":[l],"fn":e},s),s.data+='\n      <div class="brand-img">\n        <img src="',n.line=13;var d=(o=p.imgUrl)!==_?o:(o=r.imgUrl)!==_?o:t.resolveLooseUp(["imgUrl"]);s=s.writeEscaped(d),s.data+='">\n      </div>\n      <a class="brand-mask" href="',n.line=15;var h=(o=p.action)!==_?o:(o=r.action)!==_?o:t.resolveLooseUp(["action"]);s=s.writeEscaped(h),s.data+='">\n        <div class="coupon">\n          ',n.line=17,n.line=17;var u=(o=p.couponValue)!==_?o:(o=r.couponValue)!==_?o:t.resolveLooseUp(["couponValue"]),f=u;if(f){var g=(o=p.couponValue)!==_?o:(o=r.couponValue)!==_?o:t.resolveLooseUp(["couponValue"]),A=g;A=g>0,f=A}s=T.call(m,t,{"params":[f],"fn":a,"inverse":i},s),s.data+='\n        </div>\n        <div class="enter">\n          <span>\u70b9\u51fb\u8fdb\u5165</span>\n        </div>\n      </a>\n  ',n.line=27;var y=(o=t.root.affix.needCon)!==_?o:t.root.data.needCon;return s=T.call(m,t,{"params":[y],"fn":c},s),s.data+="\n",s}var o,m=this,r=m.root,p=m.buffer,l=m.scope,n=(m.runtime,m.name,m.pos),d=l.data,h=l.affix,u=r.nativeCommands,f=r.utils,g=(f.callFn,f.callCommand,u.range,u.foreach,u.forin,u.each),T=(u["with"],u["if"]);u.set,u.include,u.parse,u.extend,u.block,u.macro,u["debugger"];p.data+="",n.line=1;var A=(o=h.brands)!==t?h.brands.length:(o=d.brands)!==t?o.length:l.resolveLooseUp(["brands","length"]),y=A;y=0===A,p=T.call(m,l,{"params":[y],"fn":s},p),p.data+="\n",n.line=8,n.line=8;var E=(o=h.brands)!==t?o:(o=d.brands)!==t?o:l.resolveLooseUp(["brands"]);return p=g.call(m,l,{"params":[E],"fn":_},p),p.data+="\n",p}).TPL_NAME=e.id||e.name});define("zebra-pages/fp5/pc/js/mods/fix-search",["mui/jquery/jquery","zebra-pages/fp5/pc/js/mods/util"],function(t,s,e){var _=t("mui/jquery/jquery"),c=t("zebra-pages/fp5/pc/js/mods/util");e.exports={"init":function(t){var s,e,a,i,m=_("body"),o=_(window),p=!1,r=_("#mallSearch"),l=_("#mq");if(r&&l){var h=(_(".j_channel"),788);m.append('<div class="as-shelter"></div><div id="J_ASTotalContainer" class="as-total-container"><div id="J_AttachedSearchContainer" class="attached-search-container"><div class="fp-iconfont-new"><span class="logo-en">&#xe610;</span><span class="logo-zh">&#xe611;</span></div></div></div>');var d=_("#J_AttachedSearchContainer"),n=_("#J_ASTotalContainer"),u=_(".as-shelter");_(window).on("scroll",c.buffer(function(t){o.scrollTop()>h?!1!==p&&"block"===n.css("display")||(l[0].blur(),setTimeout(function(){r.appendTo(d)},100),n.addClass("show"),u.addClass("show"),p=!0,TB&&TB.instance&&TB.instance.searchbar&&(s=TB.instance.searchbar,e=s.get("log"),e.clickId="attachedsearch",s.set("log",e)),a===undefined&&(i=setInterval(function(){var t=_(".s-menu");t&&(t.css({"position":"fixed"}),t.css({"top":"40px"}),clearInterval(i))},500)),a===undefined&&_(".s-menu")&&(a=_(".s-menu")),a&&(a.css({"opacity":1}),a.css({"position":"fixed"}))):o.scrollTop()<=h&&!0===p&&(l[0].blur(),r.appendTo(".header-extra"),n.removeClass("show"),u.removeClass("show"),p=!1,clearInterval(i),TB&&TB.instance&&TB.instance.searchbar&&(s=TB.instance.searchbar,e=s.get("log"),e.clickId="topsearch",s.set("log",e)),a===undefined&&_(".s-menu")&&(a=_(".s-menu")),a&&a.css({"position":"absolute"}))},30))}}}});define("zebra-pages/fp5/pc/js/mods/header",["zebra-pages/fp5/pc/js/mods/util","zebra-pages/fp5/pc/js/mods/model"],function(t,s,e){var _=t("zebra-pages/fp5/pc/js/mods/util"),c=t("zebra-pages/fp5/pc/js/mods/model");e.exports={"RES_ID_ARR":["201603169","lb-zebra-17931-286930","2015110211"],"RES_NAME_ARR":["doodle","event"],"init":function(t){var s=this;s._initMemberExp(),s._joinus(),t&&(s._initDoodle(t),s._initEventBanner(t))},"_initEventBanner":function(t){var s=this,e=t[s.RES_ID_ARR[1]];if(window.location.search.indexOf("wh_daily=daily")>0&&(e={"data":[{"imgUrl":"//gtms04.alicdn.com/tps/i4/TB17HQ1MpXXXXbsXXXXD1MBIXXX-190-80.png","action":"//pages.tmall.com/wow/act/15852/dqr","switch":!0}]}),(e=e&&e.data&&e.data.length>0?e.data[0]:undefined)&&""+e["switch"]=="true"){var c=$(".header-banner");if(0!==c.length){e.exposureParam&&_.send(e.exposureParam),e.action=e.action+(e.action&&e.action.indexOf("?")>0?"":"?")+"spm=875.7931836.2015003.1",$(c).append('<a data-spm="2015003" style="display:none;" class="event-banner j_eventBanner" href="'+(e.action||"#")+'"><img class="event-pic j_eventPic" width="100%" height="100%" src="//img.alicdn.com/tps/i1/TB1ZkQYHpXXXXcPXXXX_RF9JFXX-1-1.gif" data-src="'+e.imgUrl+'" /></a>');var a=$(".j_eventBanner",c),i=$(".j_eventPic",c),m=e.imgUrl;i.length>0&&m&&($(i).attr("onload",function(){$(a).hide().fadeIn(300)}),$(i).attr({"src":m}))}}},"_initDoodle":function(t){var s=this,e=t[s.RES_ID_ARR[0]];if((e=e&&e.data&&e.data.length>0?e.data[0]:undefined)&&""+e["switch"]!="false"){var c=$(".j_logo"),a=$(".tmall-logo-img");if(0!==c.length){e.exposureParam&&_.send(e.exposureParam),$(a).after('<div style="display:none;" class="doodle-con j_doodleCon">'+(e&&e.action&&e.action.length>0?'<a class="j_doodleLink" style="display:block;height:100%;width:100%;" href="'+e.action+'">':"")+s._getCountdownCon()+'<img class="doodle hide j_doodle" src="//img.alicdn.com/tps/i1/TB1ZkQYHpXXXXcPXXXX_RF9JFXX-1-1.gif" data-src="'+e.imgUrl+'" />'+(e&&e.action&&e.action.length>0?"</a>":"")+"</div>");var i=$(".j_doodleCon",c),m=$(".j_doodle",c),o=m.length>0&&m.attr("data-src");m.length>0&&o&&(window.g_defaultData.cycloneEntry.isUse||($(a).hide(),$(m).attr("onload",function(){$(i).hide().fadeIn(300)})),$(m).attr({"src":o}))}}},"_getCountdownCon":function(){return window.isAdd?'<div id="J_doodleCountdownCon" style="display:none;" class="doodle-countdown-con"></div>':""},"_initMemberExp":function(){c.addMemberExp()},"_joinus":function(){var t={"info":"\u55b5~ \u52a0\u5165\u6211\u4eec\u5427 https://tb.cn/iS8NBOy","logo":"   :::                                :::  \n :::::::                             ::::: \n:::::::::                          ::::::::\n:::::::::::::::::::::::::::::::::::::::::::\n::::    :::    ::::::::::::::::   :::  ::::\n:::    Smart    :::::cool::::    Crazy  :::\n:::::   :::    :::::::::::::::    :::   :::\n:::::::::::::::::::::::::::::::::::::::::::"};window.console&&console.info&&console.info(t.logo+"\n\n"+t.info)}}});