define("widget.VideoPlay",["jQuery","Class","Log","//g.alicdn.com/mtb/videox/0.1.46/videox-pc.js","//g.alicdn.com/kg/tbvideo-replace/0.0.11/index-min.js"],function(e,a,i){var t=(new i("widget.VideoPlay"),new a({init:function(e,a,i){return this.renderVideo(e,a,i)},isIE10AndPlus:function(){return!/msie [6|7|8|9]/i.test(navigator.userAgent)},renderVideo:function(a,i,t){i=i.replace("https:","").replace("http:","");var p=t.width?t.width+"px":"100%",r=t.height?t.height+"px":"100%",l=t.adaptShape||!1;if(window.embedReplace.supportVedioTag&&!/msie [6|7|8|9]/i.test(navigator.userAgent)&&(i.indexOf(".mp4")>-1||i.indexOf("e/1")>-1&&-1===i.indexOf("u/alibaba"))){var o="text-align:center;margin:0 auto;max-width:"+p+";max-height:"+r+";";l||(o+="width:"+p+";height:"+r+";"),a.append('<div class="video-player" style="'+o+'"></div>'),i.indexOf("e/1")>-1&&(i=i.replace("e/1","e/6").replace(".swf",".mp4"));var n=window.VideoX["default"],s=e.extend({container:a.find(".video-player").get(0),url:i,autoplay:!1,volumeControls:!0,controls:!0,from:"1688winport"},t);s.muted=t.autoplay?!0:!1;var u=new n(s);return u}i.indexOf(".mp4")>-1&&(i=i.replace("e/6","e/1").replace(".mp4",".swf"));var d=[];return d.push('<object id="video_player" style="display: block;margin:0 auto;" type="application/x-shockwave-flash" data="'+i+'" height="'+r+'" width="'+p+'">'),d.push('<!--[if lt IE 9.0]><param name="movie" value="'+i+'"><![endif]-->'),d.push('<param name="quality" value="high">'),d.push('<param name="allowScriptAccess" value="always">'),d.push('<param name="allowFullScreen" value="true">'),d.push('<param name="wMode" value="Transparent">'),d.push('<param name="swLiveConnect" value="true">'),d.push('<param name="flashvars" value="autoplay='+t.autoplay+'&amp;auto=0&amp;deflogo=0&amp;adss=0&amp;jump=0&amp;fu=1&amp;recommend=0&amp;pl=0">'),d.push('<video controls height="'+r+'" width="'+p+'" src="'+t.html5+'"></video>'),d.push("</object>"),a.empty().append(d.join("")),null}}));return e.extend(t,{buildVideoPlayer:function(e,a,i){var t=[],i=i||{},p=e.width?e.width+"px":"100%",r=e.height?e.height+"px":"100%",l=e.videoInfo.url;if((l.indexOf(".mp4")>-1||l.indexOf("e/1")>-1)&&window.embedReplace.supportVedioTag&&!/msie [6|7|8|9]/i.test(navigator.userAgent)){l.indexOf("e/1")>-1&&(l=e.videoInfo.url.replace("e/1","e/6").replace(".swf",".mp4"));var o=i.hasOwnProperty("autoplay")&&i.autoplay===!0?"autoplay":"",n=i.hasOwnProperty("controls")&&i.controls?"controls":"";t.push('<div style="background-color:#000;margin:0 auto;width:'+p+";height:"+r+';" class="video-show"><video width="100%" height="100%" '+n+" "+o+' src="'+l+'"></video></div>')}else t.push('<object id="video_player" type="application/x-shockwave-flash" data="'+e.videoInfo.url+'" height="'+r+'" width="'+p+'">'),t.push('<!--[if lt IE 9.0]><param name="movie" value="'+e.videoInfo.url+'"><![endif]-->'),t.push('<param name="quality" value="high">'),t.push('<param name="allowScriptAccess" value="always">'),t.push('<param name="allowFullScreen" value="true">'),t.push('<param name="wMode" value="Transparent">'),t.push('<param name="swLiveConnect" value="true">'),t.push('<param name="flashvars" value="autoplay=false&amp;auto=0&amp;deflogo=0&amp;adss=0&amp;jump=0&amp;fu=1&amp;recommend=0&amp;pl=0">'),t.push('<video controls height="'+r+'" width="'+p+'" src="'+e.html5+'"></video>'),t.push("</object>");return t},checkUrl:function(e){var a={url:e,isFlash:!0};return e.indexOf(".mp4")>-1?a.isFlash=!1:e.indexOf("e/1")>-1&&(a.url=e.replace("e/1","e/6").replace(".swf",".mp4"),a.isFlash=!1),a}}),t});