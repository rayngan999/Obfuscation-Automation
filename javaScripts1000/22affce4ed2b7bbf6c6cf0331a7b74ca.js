(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{B3h5:function(e,t,i){"use strict";var n=i("o0o1"),a=i.n(n),r=i("HaE+"),s=i("1OyB"),o=i("rePB"),c=i("7Cbv"),d=i("Tsdx"),u=i("NnBa"),f=i("vqEh"),p=i("SrTc"),v=Object(d.a)("MobileBridgeService");t.a=new function e(){var t=this;Object(s.a)(this,e),Object(o.a)(this,"isBridgeReady",void 0),Object(o.a)(this,"isBridgeUnavailable",void 0),Object(o.a)(this,"deferredPromiseMap",void 0),Object(o.a)(this,"queuedMessages",void 0),Object(o.a)(this,"listeners",void 0),Object(o.a)(this,"reactNativeWebView",void 0),Object(o.a)(this,"initialize",(function(){if(!f.e){var e=function(e){var i=function(e){try{if("string"===typeof e.data)return JSON.parse(e.data)}catch(t){}}(e);i&&null!==i&&void 0!==i&&i.isBridgeMessage&&t.receiveMessageFromNativeApp(i)};if(window.addEventListener("message",e),window.document.addEventListener("message",e),!t.checkAndActivateBridge()){v("initializeBridge","Attempting to initialize mobile bridge...");var i=setInterval((function(){t.checkAndActivateBridge()&&clearInterval(i)}),100);setTimeout((function(){t.isBridgeReady?v("initializeBridge","Successfully initialized mobile bridge"):(v("initializeBridge","Failed to initialize mobile bridge"),clearInterval(i),t.isBridgeUnavailable=!0)}),3e3)}}})),Object(o.a)(this,"receiveMessageFromNativeApp",(function(e){if(v("receiveMessageFromNativeApp","Received message from native app: ".concat(JSON.stringify(e))),e&&e.id&&e.id in t.deferredPromiseMap)return"errorCode"in e?t.deferredPromiseMap[e.id].reject(e):t.deferredPromiseMap[e.id].resolve(e),void delete t.deferredPromiseMap[e.id];t.listeners.forEach((function(t){t(e.name,e.args)}))})),Object(o.a)(this,"checkAndActivateBridge",(function(){if(!p.b.isInNativeApp())return t.isBridgeReady=!0,!0;if(p.b.isInAndroidApp())t.reactNativeWebView=window.__REACT_WEB_VIEW_BRIDGE||window.ReactNativeWebView;else if(p.b.isInIosApp()){var e,i;t.reactNativeWebView=(null===(e=window.webkit)||void 0===e||null===(i=e.messageHandlers)||void 0===i?void 0:i.reactNative)||window.ReactNativeWebView}return t.isBridgeReady=!!t.reactNativeWebView&&"function"===typeof t.reactNativeWebView.postMessage,!!t.isBridgeReady&&(t.sendMessagesInQueue(),!0)})),Object(o.a)(this,"addMessageToQueue",(function(e){t.queuedMessages.push(e)})),Object(o.a)(this,"sendMessagesInQueue",(function(){t.queuedMessages.forEach((function(e){t.sendMessage(e)}))})),Object(o.a)(this,"sendMessage",(function(e){var i=JSON.stringify(e);p.b.isInNativeApp()&&t.reactNativeWebView&&(v("sendMessage","Calling React Native method with params: ".concat(e)),t.reactNativeWebView.postMessage(i))})),Object(o.a)(this,"sendMessageToNativeApp",function(){var e=Object(r.a)(a.a.mark((function e(i,n,r){var s,o,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.b.isInNativeApp()){e.next=3;break}return v("sendMessageToNativeApp","Not in native app, unable to send message."),e.abrupt("return",Promise.reject());case 3:if(!t.isBridgeUnavailable){e.next=6;break}return v("sendMessageToNativeApp","Mobile bridge is not yet initialized."),e.abrupt("return",Promise.reject());case 6:return s=new u.a,o=Object(c.a)(),t.deferredPromiseMap[o]=s,d={id:o,name:i,isBridgeMessage:!0,body:n},r&&setTimeout((function(){s.reject(),delete t.deferredPromiseMap[o],v("sendMessageToNativeApp","Timeout. Failed to send message: ".concat(i))}),r),p.b.isInNativeApp()&&!t.isBridgeReady?t.addMessageToQueue(d):t.sendMessage(d),e.abrupt("return",s.promise);case 13:case"end":return e.stop()}}),e)})));return function(t,i,n){return e.apply(this,arguments)}}()),Object(o.a)(this,"sendNativeAppEvents",(function(e){return new Promise((function(i,n){if(!p.b.isInNativeApp()||!e)return n();try{return i(t.sendMessageToNativeApp("NATIVE_APP_EVENTS",e))}catch(a){return n(a)}}))})),Object(o.a)(this,"requestPlatformInformation",Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.b.isInNativeApp()){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.next=5,t.sendMessageToNativeApp("REQ_PLATFORM_INFO",void 0,1e3);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),v("requestPlatformInformation","Failed to retrieve info due to: ".concat(JSON.stringify(e.t0))),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))),Object(o.a)(this,"sendSMS",function(){var e=Object(r.a)(a.a.mark((function e(i){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.sendMessageToNativeApp("SEND_SMS_MSG",i);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),v("sendSMS","Failed to retrieve info due to: ".concat(JSON.stringify(e.t0))),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),this.isBridgeReady=!1,this.isBridgeUnavailable=!1,this.deferredPromiseMap={},this.queuedMessages=[],this.listeners=[]}},NnBa:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("1OyB"),a=i("rePB"),r=function e(){var t=this;Object(n.a)(this,e),Object(a.a)(this,"promise",void 0),Object(a.a)(this,"resolve",void 0),Object(a.a)(this,"reject",void 0),this.promise=new Promise((function(e,i){t.resolve=e,t.reject=i}))}},g50F:function(e,t,i){"use strict";var n=i("o0o1"),a=i.n(n),r=i("HaE+"),s=i("1OyB"),o=i("vuIU"),c=i("rePB"),d=i("L88a"),u=i("Tsdx"),f=i("NnBa"),p=i("vqEh"),v=i("1Czy"),b=i("SrTc"),l=Object(u.a)("FacebookSdkService"),h=function(){function e(t){var i=this;Object(s.a)(this,e),Object(c.a)(this,"loadDeferred",void 0),Object(c.a)(this,"fbId",void 0),Object(c.a)(this,"fbVersion",void 0),Object(c.a)(this,"isLoading",void 0),Object(c.a)(this,"hasLoaded",void 0),Object(c.a)(this,"loadScript",(function(){var e,t=document.getElementsByTagName("script")[0];if(!document.getElementById("facebook-jssdk")){var i=document.createElement("script");i.id="facebook-jssdk",i.src="//connect.facebook.net/en_US/sdk.js",null===(e=t.parentNode)||void 0===e||e.insertBefore(i,t)}})),Object(c.a)(this,"load",(function(){return new Promise((function(e){if(i.hasLoaded)e();else if(i.isLoading)e(i.loadDeferred.promise);else{i.isLoading=!0,l("load","Initializing Facebook SDK");var t=function(){i.hasLoaded=!0,i.isLoading=!1};if(void 0!==window.FB)return l("load","Facebook SDK already initialized"),t(),void e();window.fbAsyncInit=function(){window.FB.init({appId:i.fbId,autoLogAppEvents:!0,xfbml:!0,version:i.fbVersion}),l("load","Facebook SDK initialized"),i.loadDeferred.resolve(),t(),e()},i.loadScript()}}))})),Object(c.a)(this,"login",function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.load();case 2:return e.abrupt("return",new Promise((function(e,i){window.FB.login((function(t){l("login","Response ".concat(JSON.stringify(t))),"connected"===t.status?e(t):i(t)}),t)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(c.a)(this,"getLoginStatus",Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.load();case 2:return e.abrupt("return",new Promise((function(e,t){window.FB.getLoginStatus((function(i){l("getLoginStatus","Response: ".concat(JSON.stringify(i))),"connected"===i.status?e(i):t(i)}))})));case 3:case"end":return e.stop()}}),e)})))),Object(c.a)(this,"parseXFBML",Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.load();case 2:window.FB.XFBML.parse();case 3:case"end":return e.stop()}}),e)}))));var n=t.fbId,o=t.fbVersion;this.fbId=n,this.fbVersion=o,this.loadDeferred=new f.a,this.isLoading=!1,this.hasLoaded=!1}return Object(o.a)(e,[{key:"initialize",value:function(){p.e||this.load()}},{key:"ui",value:function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return e.abrupt("return",new Promise((function(e,i){window.FB.ui(t,(function(t){l("ui","Response: ".concat(t)),t&&!t.error_message||b.b.isInFacebookInAppBrowser()?e(t):i(t)}))})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"api",value:function(){var e=Object(r.a)(a.a.mark((function e(t){var i,n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:"get",n=r.length>2?r[2]:void 0,e.next=4,this.load();case 4:return e.abrupt("return",new Promise((function(e,a){window.FB.api(t,i,n,(function(t){l("api","Response: ".concat(JSON.stringify(t))),!t||t.error?a(t):e(t)}))})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"share",value:function(e){var t={method:"share",href:e};return this.ui(t)}},{key:"sendMessage",value:function(e){var t={method:"send",link:e};return this.ui(t)}}]),e}();t.a=Object(v.a)(h,{fbId:d.a.scripts.facebookSdk.id,fbVersion:d.a.scripts.facebookSdk.version})}}]);