function _extends(){return(_extends=Object.assign||function(f){for(var e=1;e<arguments.length;e++){var l=arguments[e],h;for(h in l)Object.prototype.hasOwnProperty.call(l,h)&&(f[h]=l[h])}return f}).apply(this,arguments)}function _typeof(f){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(f)}
!function(f,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):f.LazyLoad=e()}(this,function(){var f="undefined"!=typeof window,e=f&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),l=f&&"IntersectionObserver"in window,h=f&&"classList"in document.createElement("p"),C={elements_selector:"img",container:e||f?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},t=function(a,b){var c;a=new a(b);try{c=new CustomEvent("LazyLoad::Initialized",{detail:{instance:a}})}catch(d){(c=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:a})}window.dispatchEvent(c)},g=function(a,b){return a.getAttribute("data-"+b)},n=function(a,b,c){b="data-"+b;null!==c?a.setAttribute(b,c):a.removeAttribute(b)},u=function(a,b){a._loadingCount+=b;0===a._elements.length&&0===a._loadingCount&&(a=a._settings.callback_finish)&&a(void 0)},v=function(a){for(var b,c=[],d=0;b=a.children[d];d+=1)"SOURCE"===b.tagName&&c.push(b);return c},k=function(a,b,c){c&&a.setAttribute(b,c)},w=function(a,b){k(a,"sizes",g(a,b.data_sizes));k(a,"srcset",g(a,b.data_srcset));k(a,"src",g(a,b.data_src))},D={IMG:function(a,b){var c=a.parentNode;c&&"PICTURE"===c.tagName&&v(c).forEach(function(a){w(a,b)});w(a,b)},IFRAME:function(a,b){k(a,"src",g(a,b.data_src))},VIDEO:function(a,b){v(a).forEach(function(a){k(a,"src",g(a,b.data_src))});k(a,"src",g(a,b.data_src));a.load()}},G=function(a,b){var c,d=b._settings,m=D[a.tagName];if(m)return m(a,d),u(b,1),void(b._elements=(c=b._elements,c.filter(function(b){return b!==a})));!function(a,b){var c=g(a,b.data_src);b=g(a,b.data_bg);c&&(a.style.backgroundImage='url("'.concat(c,'")'));b&&(a.style.backgroundImage=b)}(a,d)},x=function(a,b){h?a.classList.add(b):a.className+=(a.className?" ":"")+b},y=function(a,b,c){a.removeEventListener("load",b);a.removeEventListener("loadeddata",b);a.removeEventListener("error",c)},z=function(a,b,c){var d=c._settings,m=b?d.class_loaded:d.class_error;b=b?d.callback_loaded:d.callback_error;a=a.target;d=d.class_loading;h?a.classList.remove(d):a.className=a.className.replace(new RegExp("(^|\\s+)"+
d+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"");!0;x(a,m);b&&b(a);u(c,-1)},H=function(a,b){var c=function E(c){z(c,!0,b);y(a,E,d)},d=function F(d){z(d,!1,b);y(a,c,F)};!function(a,b,c){a.addEventListener("load",b);a.addEventListener("loadeddata",b);a.addEventListener("error",c)}(a,c,d)},I=["IMG","IFRAME","VIDEO"],q=function(a,b){var c=b._observer;p(a,b);c&&b._settings.auto_unobserve&&c.unobserve(a)},A=function(a){var b=g(a,"ll-timeout");b&&(clearTimeout(b),n(a,"ll-timeout",null))},J=function(a,b){var c=b._settings.load_delay,d=g(a,"ll-timeout");d||(d=setTimeout(function(){q(a,b);A(a)},c),n(a,"ll-timeout",d))},p=function(a,b,c){var d=b._settings;if(c||"true"!==g(a,"was-processed"))-1<I.indexOf(a.tagName)&&(H(a,b),x(a,d.class_loading)),G(a,b),n(a,"was-processed","true"),(b=d.callback_reveal)&&b(a),(d=d.callback_set)&&d(a)},K=function(a){return!!l&&(a._observer=new IntersectionObserver(function(b){b.forEach(function(b){return b.isIntersecting||0<b.intersectionRatio?function(a,b){var c=b._settings,d=c.callback_enter;d&&d(a);c.load_delay?J(a,b):q(a,b)}(b.target,a):function(a,b){b=b._settings;var c=b.callback_exit;c&&c(a);b.load_delay&&A(a)}(b.target,a)})},{root:(b=a._settings).container===document?null:b.container,rootMargin:b.thresholds||b.threshold+"px"}),!0);var b},L=["IMG","IFRAME"],B=function(a,b){return function(a){return a.filter(function(a){return"true"!==g(a,"was-processed")})}((c=a||b.container.querySelectorAll(b.elements_selector),Array.prototype.slice.call(c)));var c},r=function(a,b){this._settings=_extends({},C,a);this._loadingCount=0;K(this);this.update(b)};return r.prototype={update:function(a){var b,c=this,d=this._settings;(this._elements=B(a,d),!e&&this._observer)?(d.use_native&&"loading"in HTMLImageElement.prototype&&((b=this)._elements.forEach(function(a){-1!==L.indexOf(a.tagName)&&(a.setAttribute("loading","lazy"),p(a,b))}),this._elements=B(a,d)),this._elements.forEach(function(a){c._observer.observe(a)})):this.loadAll()},destroy:function(){var a=this;this._observer&&(this._elements.forEach(function(b){a._observer.unobserve(b)}),this._observer=null);this._settings=this._elements=null},load:function(a,b){p(a,this,b)},loadAll:function(){var a=this;this._elements.forEach(function(b){q(b,a)})}},f&&function(a,b){if(b)if(b.length)for(var c,d=0;c=b[d];d+=1)t(a,c);else t(a,b)}(r,window.lazyLoadOptions),r});