/*! For license information please see main.42bdb631.js.LICENSE.txt */
!function(e){function t(t){for(var r,o,i=t[0],a=t[1],s=0,u=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(c&&c(t);u.length;)u.shift()()}var r={},n={106:0};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,o){r=n[e]=[t,o]}));t.push(r[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"static/js/"+({0:"vendors~logi-bear-s2s-collector-logi-bear-s2s-collector~logi-bear-s2s-collector-logi-bear-s2s-collector-test",1:"common-redirect-skippyHotelUrls",2:"common-redirect-skippyHotelUrls-test",3:"common-utils-iataMappings",4:"common-utils-util",5:"common-utils-util-test",6:"criteo-criteo",7:"criteo-criteo-props-used",8:"criteo-criteo-test",9:"email-signup-widget-email-signup-widget",10:"email-signup-widget-email-signup-widget-props-used",11:"email-signup-widget-email-signup-widget-test",12:"facebook-dbook-flights-facebook-dbook-flights",13:"facebook-dbook-flights-facebook-dbook-flights-props-used",14:"facebook-dbook-flights-facebook-dbook-flights-test",15:"facebook-dbook-hotels-facebook-dbook-hotels",16:"facebook-dbook-hotels-facebook-dbook-hotels-props-used",17:"facebook-dbook-hotels-facebook-dbook-hotels-test",18:"facebook-facebookutils",19:"facebook-search-hotels-facebook-search-hotels",20:"facebook-search-hotels-facebook-search-hotels-props-used",21:"facebook-search-hotels-facebook-search-hotels-test",22:"facebook-view-hotels-facebook-view-hotels",23:"facebook-view-hotels-facebook-view-hotels-props-used",24:"facebook-view-hotels-facebook-view-hotels-test",25:"facebookredirect-facebookredirect",26:"facebookredirect-facebookredirect-props-used",27:"facebookredirect-facebookredirect-test",28:"facebooksearch-facebooksearch",29:"facebooksearch-facebooksearch-props-used",30:"facebooksearch-facebooksearch-test",31:"facebookview-facebookview",32:"facebookview-facebookview-props-used",33:"facebookview-facebookview-test",34:"gtag-common-conversion-markets",35:"gtag-common-generic-event-parameters",36:"gtag-common-generic-event-parameters-test",37:"gtag-common-gtag-init",38:"gtag-dbook-gtag-dbook",39:"gtag-dbook-gtag-dbook-props-used",40:"gtag-dbook-gtag-dbook-test",41:"gtag-dbook-hotels-gtag-dbook-hotels",42:"gtag-dbook-hotels-gtag-dbook-hotels-props-used",43:"gtag-dbook-hotels-gtag-dbook-hotels-test",44:"gtag-hotels-search-gtag-hotels-search",45:"gtag-hotels-search-gtag-hotels-search-props-used",46:"gtag-hotels-search-gtag-hotels-search-test",47:"gtag-hotels-view-gtag-hotels-view-props-used",48:"gtag-redirect-gtag-redirect",49:"gtag-redirect-gtag-redirect-props-used",50:"gtag-redirect-gtag-redirect-test",51:"gtag-search-gtag-search",52:"gtag-search-gtag-search-props-used",53:"gtag-search-gtag-search-test",54:"gtag-view-gtag-view",55:"gtag-view-gtag-view-props-used",56:"gtag-view-gtag-view-test",57:"logi-bear-s2s-collector-logi-bear-s2s-collector",58:"logi-bear-s2s-collector-logi-bear-s2s-collector-props-used",59:"logi-bear-s2s-collector-logi-bear-s2s-collector-test",60:"microsoftUetRedirect-microsoftUetRedirect",61:"microsoftUetRedirect-microsoftUetRedirect-props-used",62:"microsoftUetSearch-microsoftUetSearch",63:"microsoftUetSearch-microsoftUetSearch-props-used",64:"microsoftUetView-microsoftUetView",65:"microsoftUetView-microsoftUetView-props-used",66:"perimeterx-perimeterx",67:"perimeterx-perimeterx-props-used",68:"perimeterx-perimeterx-test",69:"propwatcher-expected-props",70:"propwatcher-propwatcher",71:"propwatcher-propwatcher-props-used",72:"propwatcher-propwatcher-test",73:"sat-register-sat-register",74:"sat-register-sat-register-props-used",75:"sat-register-sat-register-test",76:"sat-sat",77:"sat-sat-props-used",78:"sat-sat-test",79:"usabilla-usabilla",80:"usabilla-usabilla-props-used",81:"vendors~logi-bear-s2s-collector-logi-bear-s2s-collector-test",82:"vendors~usabilla-usabilla",83:"yahoo-retargeting-yahoo-retargeting",84:"yahoo-retargeting-yahoo-retargeting-props-used",85:"yahoo-retargeting-yahoo-retargeting-test",86:"yandex-metrica-yandex-metrica",87:"yandex-metrica-yandex-metrica-props-used",88:"yandex-metrica-yandex-metrica-test",89:"criteo-__snapshots__-criteo-test-js-snap",90:"criteo-criteo-md",91:"email-signup-widget-email-signup-widget-md",92:"facebook-dbook-flights-facebook-dbook-flights-md",93:"facebook-dbook-hotels-facebook-dbook-hotels-md",94:"facebook-search-hotels-facebook-search-hotels-md",95:"facebook-view-hotels-facebook-view-hotels-md",96:"facebookredirect-facebookredirect-md",97:"facebooksearch-facebooksearch-md",98:"facebookview-facebookview-md",99:"gtag-dbook-gtag-dbook-md",100:"gtag-dbook-hotels-gtag-dbook-hotels-md",101:"gtag-hotels-search-gtag-hotels-search-md",102:"gtag-redirect-gtag-redirect-md",103:"gtag-search-gtag-search-md",104:"gtag-view-gtag-view-md",105:"logi-bear-s2s-collector-logi-bear-s2s-collector-md",107:"microsoftUetRedirect-microsoftUetRedirect-md",108:"microsoftUetSearch-microsoftUetSearch-md",109:"microsoftUetView-microsoftUetView-md",110:"perimeterx-perimeterx-md",111:"propwatcher-propwatcher-md",112:"sat-optional-extra-docs-md",113:"sat-register-optional-extra-docs-md",114:"sat-register-sat-register-md",115:"sat-sat-md",116:"usabilla-usabilla-md",117:"yahoo-retargeting-yahoo-retargeting-md",118:"yandex-metrica-__snapshots__-yandex-metrica-test-js-snap",119:"yandex-metrica-yandex-metrica-md"}[e]||e)+"."+{0:"709bc26a",1:"d139c51a",2:"68b8c98c",3:"b125f6e7",4:"3268e9b4",5:"8bb35d41",6:"8a85a5f5",7:"5f05d5a5",8:"07797a5d",9:"99efc0e7",10:"7552d996",11:"ec94333e",12:"02cc98e5",13:"fb02e9cf",14:"4a3fd9f8",15:"67b86233",16:"04f42cb9",17:"5415f3fb",18:"5ad387bc",19:"d72dd20e",20:"a8e27455",21:"663766c4",22:"b8cc89bb",23:"d2d62d28",24:"bc4f2aff",25:"5b7410dd",26:"f18ee8a0",27:"60fd7770",28:"8460a570",29:"3c96848d",30:"bc3b6ef9",31:"74a686b1",32:"a74f1228",33:"5f1e9d2c",34:"f0406254",35:"5bf074f8",36:"ced38e67",37:"01325006",38:"f9d5db10",39:"00050372",40:"6091471e",41:"d73916bf",42:"9eb74677",43:"949b6e72",44:"fe273f58",45:"af66992f",46:"44c6c1b4",47:"de240a83",48:"cd946a3e",49:"e4101857",50:"38fb9519",51:"b647db73",52:"701ab217",53:"cea6d3a8",54:"568d85aa",55:"d9cea715",56:"78b1c1d0",57:"84b3ec2e",58:"dfbf8bdb",59:"d1a7b5a9",60:"f05bb82f",61:"43c7b49d",62:"9f500808",63:"e25a46bc",64:"c35ed411",65:"b72634f6",66:"48fd7575",67:"3b9f1861",68:"27ca3fd0",69:"9f4f1fb6",70:"f9bfe022",71:"45ee89d8",72:"d66d669b",73:"4f47b354",74:"9d7315f1",75:"a2282df2",76:"c93f8d0a",77:"daff4171",78:"6b4a5ad3",79:"fb111697",80:"35c26b92",81:"d05abd84",82:"7a4aab2c",83:"7cd0830f",84:"52f519ba",85:"0770114a",86:"9ddc352c",87:"854e3f32",88:"76769e24",89:"0043c59d",90:"10b5d362",91:"80fbccfc",92:"36b78131",93:"0b60454b",94:"f49ba56c",95:"efbcaaaa",96:"c3fd2d9e",97:"cf013c86",98:"54e22313",99:"fb15564a",100:"23e2b5ca",101:"3a8992a5",102:"3daa685d",103:"af3f1d0c",104:"8b9b266e",105:"add8f766",107:"3264047e",108:"9fa3edaa",109:"bf68d476",110:"a5d2b47a",111:"7068c3d7",112:"5c989426",113:"4b8b6a91",114:"65846efc",115:"a79350b7",116:"2a57ccc8",117:"51994e6c",118:"09f9c12b",119:"dde6c120"}[e]+".chunk.js"}(e),0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous");var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(u);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,r[1](c)}n[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var i=this.jsTagManagerJsonpCallback=this.jsTagManagerJsonpCallback||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=a;o(o.s=136)}([function(e,t,r){e.exports=r(128)},function(e,t,r){"use strict";r.r(t),r.d(t,"isAndroid",(function(){return o})),r.d(t,"redirect",(function(){return a})),r.d(t,"getUserAgent",(function(){return u})),r.d(t,"supportsTouch",(function(){return s})),r.d(t,"GLOBAL",(function(){return n})),r.d(t,"injectScript",(function(){return c})),r.d(t,"isIphoneSixPlus",(function(){return p})),r.d(t,"isIphoneSixPlusLandscape",(function(){return h})),r.d(t,"getVendorProperty",(function(){return g})),r.d(t,"getViewportSize",(function(){return l})),r.d(t,"addLoadEventHandler",(function(){return y})),r.d(t,"afterDomContentLoaded",(function(){return k})),r.d(t,"getRequestId",(function(){return O})),r.d(t,"getCommonProperties",(function(){return S})),r.d(t,"pageProperties",(function(){return E})),r.d(t,"getTrackIdentifier",(function(){return T})),r.d(t,"runLaterOrIdle",(function(){return I})),r.d(t,"isAkamaiSlipstreamEnabled",(function(){return R}));var n={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getNavigator.userAgent;return e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&-1===e.indexOf("Chrome")},i=function(e,t){var r,o=n.getWindow();"function"===typeof o.MouseEvent?r=new o.MouseEvent(e,{bubbles:!0,cancelable:!0}):(r=n.getDocument().createEvent("MouseEvents")).initEvent(e,!0,!0);t.dispatchEvent(r)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.getDocument(),o=r.createElement("a");o.href=e,r.body.appendChild(o),t&&(o.target="_blank"),i("mousedown",o),i("click",o)},s=function(){var e=n.getWindow(),t=n.getDocument();return"ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch},c=function(e,t,r,o){var i=n.getDocument(),a=i.createElement("script");a.type=r||"text/javascript",a.async=!0,["anonymous","use-credentials"].indexOf(o)>-1&&(a.crossOrigin=o),t&&"function"===typeof t&&(a.onload=t),0===e.indexOf("//")||0===e.indexOf("http")?a.src=e:a.src=("https:"===i.location.protocol?"https://":"http://")+i.location.host+e;var s=i.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)},u=function(){return n.getNavigator().userAgent},l=function(){var e=n.getWindow(),t=n.getDocument(),r=t.documentElement,o=t.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}},f=function(e,t){return 414===e.height&&90===Math.abs(t.orientation)},d=function(e,t){return 414===e.width&&0===t.orientation},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(),t=l(),r=n.getWindow();return/iPhone.*Safari/i.test(e)&&!/(CriOS|OPiOS|Chrome|Edge|Firefox|FxiOS)/i.test(e)&&(f(t,r)||d(t,r))};var h=function(){return p()&&(e=l(),t=n.getWindow(),414===e.height&&90===Math.abs(t.orientation));var e,t},g=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.substring(1):t},b=!1,v=function(e){var t=n.getWindow();b?t.setTimeout((function(){return e()}),0):t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent&&t.attachEvent("onload",e)};v((function(){b=!0}));var m,y=v,k=function(e){var t=n.getDocument();!function(e){return"complete"===e.readyState||"interactive"===e.readyState}(t)?t.addEventListener("DOMContentLoaded",(function(){e()})):e()},w=r(32),O=function(){var e=n.getWindow().reqTag;return e||(e=n.getWindow().reqTag=Object(w.v4)()),e},j=function(e,t){if(!("multi-destination"===t&&e.length>1))return!1;var r=e[0],n=e[e.length-1],o=r.originId,i=r.destinationId,a=n.originId,s=n.destinationId;return!!(o&&i&&a&&s)&&(o!==s||i!==a)},_=function(e,t,r){return{originId:e,destinationId:t,date:r}},S=function(e,t){var r=e.legs||[],n=e.tripType,o=(e.childrenV2||[]).filter((function(e){return e>=2})),i={"Leg Count":r&&r.length||{return:2,"one-way":1}[n],"Trip Type":n,"Prefer Directs":e.preferDirects,"Cabin Class":e.cabinclass,"Open Jaw":j(r,n),Adults:e.adultsV2,Children:o.length,Infants:(e.childrenV2||[]).length-o.length};return 0===r.length&&(r.push(_(e.originId,e.destinationId||"everywhere",e.outboundDate)),"return"===n&&r.push(_(e.destinationId||"everywhere",e.originId,e.inboundDate))),r.forEach((function(e,t){!function(e,t,r){var n=e;n["Origin Code Leg ".concat(r)]=t.originId,n["Destination Code Leg ".concat(r)]=t.destinationId,n["Date Leg ".concat(r)]=t.date}(i,e,t+1)})),i["Date Offset Leg 1"]=function(e,t){var r=new Date(e),n=new Date(t);return r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),Math.abs((n.getTime()-r.getTime())/864e5+1)}(t,r[0].date),i},E={getUrl:function(){return n.getDocument().URL},getVisibilityState:function(){return n.getDocument().visibilityState||"N/A"},isHidden:function(){return"boolean"===typeof n.getDocument().hidden?n.getDocument().hidden:"N/A"}},x=r(6),T=function(){return new Promise((function(e){var t=n.getWindow();x.a.subscribe("trackolding-loaded",(function(){e(t.__trackolding.getTrackIdentifier())}))}))},A=n.getWindow(),I=function(e){A.requestIdleCallback&&A.requestIdleCallback(e,{timeout:1e4}),setTimeout(e,1e4)},R=function(){if("undefined"===typeof m)try{var e=n.getDocument().getElementById("trackolding-sync"),t=JSON.parse(e.getAttribute("data-data"));m="undefined"===typeof t.useAkamaiSlipstream||!0===t.useAkamaiSlipstream}catch(r){console.warn("Could not get Trackolding data, will use Akamai Slipstream endpoint"),m=!0}return m}},function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(7);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";var n={},o={},i=function(){if("undefined"!==typeof window)if(window.Sb||(window.Sb={}),window.Sb.ObserverMemory){var e=window.Sb.ObserverMemory;n=e.queued,o=e.topicSubscriptions}else n={},o={},window.Sb.ObserverMemory={queued:n,topicSubscriptions:o}},a=function(e){var t=o[e];if(t&&t.length){var r=n[e];if(r&&r.length)for(var i=0,a=r.length;i<a;i++)for(var s=r[i],c=0,u=t.length;c<u;c++){!function(t,r){setTimeout((function(){try{if(r.received.indexOf(t.publishId)<0){var n=r.fn.apply(r.context,[t.data]);r.received.push(t.publishId),t.handler&&t.handler.apply(n)}}catch(o){throw new Error("An error occured while handling event topic '".concat(e,"'. Error: ").concat(o.stack||o))}}),0)}(s,t[c])}}},s={subscribe:function(e,t,r){return o[e]||(o[e]=[]),o[e].push({fn:t,context:r||undefined,received:[]}),a(e),[e,t]}},c=0;s.publish=function(e,t,r){var o=1e4*Math.floor(1e6*Math.random())+c++;return n[e]||(n[e]=[]),n[e].push({topic:e,data:t,publishId:o,handler:r}),a(e),s},s.unsubscribe=function(e){if(e){if(!Array.isArray(e))throw new Error("Invalid handle: ".concat(e));var t=e[0],r=e[1],n=o[t];if(!n)return s;for(var i=n.length;i--;)n[i].fn===r&&n.splice(i,1);return s}},s.wrap=function(e,t){Object.keys(t).forEach((function(r){s.subscribe("".concat(e).concat(r),t[r])}))},s.init=i,i(),t.a=s},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.r(t),r.d(t,"SingleValueCookie",(function(){return d})),r.d(t,"MultiValueCookie",(function(){return f})),r.d(t,"cookieExists",(function(){return p}));var n=r(4),o=r(5),i=r(11),a=r.n(i),s=r(1),c=r(18),u=function(e){return Number.isInteger?Number.isInteger(e):"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function l(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.path,i=void 0===o?"/":o,s=n.secure,c=void 0===s||s;if(null==r)a.a.set(e,t,{path:i,secure:c});else{if(!u(r))throw new Error("Expires parameter needs to be an integer.");a.a.set(e,t,{expires:r,path:i,secure:c})}}var f=function(){function e(t){Object(n.a)(this,e),this.name=t;var r=s.GLOBAL.getDocument().cookie;this.cookie=Object(c.parseMultiValueCookie)(t,r),this.cookie||(this.cookie=new c.MultiValueCookie({}))}return Object(o.a)(e,[{key:"getValue",value:function(e){return this.cookie.getValue(e)}},{key:"setValue",value:function(e,t){return this.cookie.setValue(e,t),this}},{key:"deleteValue",value:function(e){return this.cookie.deleteValue(e),this}},{key:"keys",value:function(){return this.cookie.keys()}},{key:"clear",value:function(){return this.cookie.clear(),this}},{key:"getRawValue",value:function(){return this.cookie.serializeToString()}},{key:"store",value:function(e,t){return l(this.name,this.cookie.serializeToString(),e,t),this}},{key:"remove",value:function(){a.a.remove(this.name)}}]),e}(),d=function(){function e(t){Object(n.a)(this,e),this.name=t,this.cookieValue=a.a.get(t)}return Object(o.a)(e,[{key:"getValue",value:function(){return this.cookieValue}},{key:"setValue",value:function(e){return this.cookieValue=e,this}},{key:"store",value:function(e,t){return l(this.name,this.cookieValue,e,t),this}},{key:"storeByDate",value:function(e,t){return function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.path,i=void 0===o?"/":o,s=n.secure,c=void 0===s||s;if(!r||"object"!==typeof r||!r.toUTCString)throw new Error("Expiration date must be a Date.");a.a.set(e,t,{expires:r,path:i,secure:c})}(this.name,this.cookieValue,e,t),this}},{key:"remove",value:function(){a.a.remove(this.name)}}]),e}(),p=function(e){var t="".concat(e,"=");return(s.GLOBAL.getDocument().cookie||"").split(";").some((function(e){return e.indexOf(t)>=0}))}},function(e,t,r){"use strict";r.r(t),r.d(t,"getEnvFromUrl",(function(){return o}));var n=r(1),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.GLOBAL.getWindow(),t="".concat(e.location.protocol,"//").concat(e.location.hostname),r=-1!==t.indexOf("local");return r?"development":"production"};t.default=function(e){if("development"===e||"production"===e)return r(133)("./".concat(e)).config;throw new Error("Environment is required.")}},function(e,t,r){"use strict";var n=r(1);t.a=function(e,t){return new Promise((function(r,o){n.GLOBAL.getWindow().fetch(e,t).then(r,o)}))}},function(e,t,r){var n,o;!function(i){if(void 0===(o="function"===typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!==typeof document){"number"===typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(u){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!==typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(n.read||n)(c,u)||t(c),r)try{c=JSON.parse(c)}catch(l){}if(o[u]=c,e===u)break}catch(l){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return g}));var n=r(3),o=r(1),i=r(6),a=r(10),s=["www.skyscanner","js.skyscnr.com","css.skyscnr.com","images.skyscnr.com","skyscannertools.net","partnerportal.skyscanner.net"],c={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug"};i.a.init();var u="https://slipstream.skyscanner.net",l="grp/v1/applog/public",f=function(e){return-1===e.hostname.indexOf("sandbox")&&-1===e.hostname.indexOf("pre-prod")&&-1===e.hostname.indexOf(".local")&&-1===e.hostname.indexOf("127.0.0.1")&&-1===e.hostname.indexOf("localhost")&&("80"===e.port||"443"===e.port||!e.port)},d=function(e){var t=e.location,r=e.topicName,n=void 0===r?"web-browser":r;return f(t)?Object(o.isAkamaiSlipstreamEnabled)()?"".concat("/slipstream","/").concat(l,"/").concat(n):"".concat(u,"/").concat(l,"/").concat(n):"".concat(u,"/").concat("grp/v1/applog/public-sandbox","/").concat(n)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1?arguments[1]:void 0,r=o.GLOBAL.getWindow(),n=r.Skyscanner,i=r.location;t&&(r.topicName=t.topicName);var s=d(r),u={message:e,fields:{pageName:n&&n.analyticsPageName||"unknown",location:i.href,level:c.ERROR,userAgent:Object(o.getUserAgent)(),deployColour:r.__trackolding&&r.__trackolding.deploy&&r.__trackolding.deploy.colour||"unknown",deployRegion:r.__trackolding&&r.__trackolding.deploy&&r.__trackolding.deploy.region||"unknown"}};Object.assign(u.fields,t),delete u.fields.message;var l=JSON.stringify(u);return f(i)||(u.fields.level===c.ERROR?console.error("saddlebag-logger:",u):u.fields.level===c.WARN?console.warn("saddlebag-logger:",u):console.log("saddlebag-logger:",u)),Object(a.a)(s,{method:"POST",headers:{"Content-Type":"application/json"},body:l}).catch((function(e){console.error("".concat(e,". Request to ").concat(s," failed. Request payload: ").concat(l,"."))}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.component)throw new Error("Component required");var t=e.message,r=e.component,n=p(t,e);return i.a.publish("app-log",{message:t,component:r}),n},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.component)throw new Error("Component required");return p(e.message,Object(n.a)(Object(n.a)({},e),{},{level:c.WARN,topicName:e.topicName}))};t.a={isProdUrl:f,logError:h,logWarn:g,onWindowError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.forEach((function(n){t.indexOf(n)>-1&&h({component:r.component||"unknown",level:c.ERROR,message:e,topicName:r.topicName})})),!0},logFunctionCall:function(e,t){return 1e3*Math.random()>50?Promise.resolve():p("Function called: <".concat(e,">"),{level:c.INFO,topicName:t})},handleIntegrityError:function(e,t){var r="object"===typeof e&&["SCRIPT","LINK"].includes(e.target.tagName)&&e.target.hasAttribute("integrity")&&e.target.attributes.integrity.value.trim().length,n=e.timeStamp<100,o=r&&!n;return o&&h({message:"Protected resource failed to load.",component:"subresource-integrity",pageName:t,src:e.target.src,integrity:e.target.integrity,html:e.target.outerHTML,stamp:String(Math.round(e.timeStamp))}),!!o},ERROR_LEVEL:c}},function(e,t,r){"use strict";r.d(t,"a",(function(){return ot}));var n=r(4),o=r(5),i=r(1),a=function(){function e(t){Object(n.a)(this,e),this.DEFAULT_COOKIE_NAME="storageFallback",this.COOKIE_EXPIRY_VALUE=7776e6,this.sessionOnly=t,this.$document=i.GLOBAL.getDocument()}return Object(o.a)(e,[{key:"getRawCookie",value:function(e){var t=this.$document.cookie.split(";").filter((function(t){return 0===t.trim().indexOf(e)}));if(!t.length)return{};var r=t[0].split("=");return 2!==r.length?null:JSON.parse(r[1])}},{key:"setRawCookie",value:function(e,t,r,n){var o="".concat(e,"=").concat(t);if(!r){var i=n;i||(i=new Date).setTime(i.getTime()+this.COOKIE_EXPIRY_VALUE),o+="; expires=".concat(i.toUTCString())}return this.$document.cookie=o,this.$document.cookie}},{key:"getItem",value:function(e){var t=this.getRawCookie(this.DEFAULT_COOKIE_NAME);return t?JSON.stringify(t[e]):null}},{key:"setItem",value:function(e,t){var r=this.getRawCookie(this.DEFAULT_COOKIE_NAME);return r?(r[e]=JSON.parse(t),this.setRawCookie(this.DEFAULT_COOKIE_NAME,JSON.stringify(r),this.sessionOnly)):null}},{key:"createOrUpdateCookie",value:function(e,t,r){return this.setRawCookie(e,t,!1,r)}}]),e}(),s="__initTest__",c="__initValue",u=function(){function e(t){Object(n.a)(this,e),this.namespace=t,this.browserStorage=null}return Object(o.a)(e,[{key:"getBrowserStorage",value:function(e,t){var r=function(){try{var e=i.GLOBAL.getWindow(),t=e.localStorage,r=e.sessionStorage;t.setItem(s,c),r.setItem(s,c)}catch(b){return!1}return!0}(),n=i.GLOBAL.getWindow();return this.browserStorage=r?t?n.sessionStorage:n.localStorage:e?new a(t):null,this.browserStorage}},{key:"tryGetValue",value:function(e,t,r){var n=this.getBrowserStorage(t,r);if(!n)return null;var o=n.getItem(this.namespace);if(!o)return null;if(o=JSON.parse(o),null==e)return o;for(var i=e.split("."),a=o,s=0;s<i.length;s+=1){if("undefined"===typeof(a=a[i[s]]))return null;if(s+1===i.length)return a}return null}},{key:"trySetValue",value:function(e,t,r,n){var o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.getBrowserStorage(r,n);if(!a)return null;try{o=(o=a.getItem(this.namespace))?JSON.parse(o):{}}catch(f){return!1}for(var s=e.split("."),c=o,u=0;u<s.length;u+=1){var l=s[u];if(!(l in c)){if(i)return!1;c[l]={}}if(u+1===s.length){i?delete c[l]:c[l]=t;try{return a.setItem(this.namespace,JSON.stringify(o)),!0}catch(f){return!1}}c=c[l]}return!1}},{key:"tryDeleteValue",value:function(e,t,r){return this.trySetValue(e,null,t,r,!0)}}]),e}(),l=r(3),f=r(0),d=r.n(f),p=r(2),h=r(17),g=r(8);function b(e){this.message=e}b.prototype=new Error,b.prototype.name="InvalidCharacterError";"undefined"!=typeof window&&window.atob&&window.atob.bind(window);function v(e){this.message=e}v.prototype=new Error,v.prototype.name="InvalidTokenError";var m=r(10),y="grp/v1/custom/public/saddlebag-event-logger/FrontendEventMessage/generic.FrontendEventMessage",k=new(function(){function e(){Object(n.a)(this,e),this.$window=i.GLOBAL.getWindow(),this.$window.__internal&&this.$window.__internal.EventTracker||(this.$window.__internal=this.$window.__internal||{},this.$window.__internal.EventTracker={maxEvents:10,sentEvents:0});var t=this.$window.__internal.EventTracker.maxEvents;this.maxEvents=t,Object(i.isAkamaiSlipstreamEnabled)()?this.endpoint="".concat("/slipstream","/").concat(y):this.endpoint="".concat("https://slipstream.skyscanner.net","/").concat(y)}return Object(o.a)(e,[{key:"track",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(!(this.$window.__internal.EventTracker.sentEvents>=this.maxEvents)){if(!e||!t)throw Error("EventTracker: name and component must be set, got '".concat(e,"' and '").concat(t,"' instead."));if("number"!==typeof o)throw Error("EventTracker: value must be a number, got '".concat(typeof o,"' instead."));var a=JSON.stringify({name:e,component:t,version:r,value:o,page_name:i||"not_set"}),s={method:"POST",headers:{"Content-Type":"application/json"},body:a};return this.$window.__internal.EventTracker.sentEvents+=1,Object(m.a)(this.endpoint,s).catch((function(e){console.error("".concat(e,". Request to ").concat(n.endpoint," failed. Request payload: ").concat(a,"."))}))}console.warn("EventTracker: Event ignored, maximum number of events (".concat(this.maxEvents,") already logged."))}}]),e}()),w=function(e,t,r,n,o){k.track(e,t,r,n,o)},O=r(33),j=function(){function e(t){Object(n.a)(this,e),this.eventPublishingEnabled=t}return Object(o.a)(e,[{key:"publishMetric",value:function(e){this.eventPublishingEnabled&&w(e,"login",O.version,1)}}]),e}(),_="csrfToken",S=function(){return new u("SID")},E=function(){function e(t,r){Object(n.a)(this,e),this.baseUrl=t,this.metricPublisher=r}return Object(o.a)(e,[{key:"validate",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.validateSession({body:{idleSeconds:t,clientTimeUtc:r},path:"tokens/validate"}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post({reason:t},"tokens/logout");case 2:if((r=e.sent).ok){e.next=6;break}throw this.metricPublisher.publishMetric("sid_logout_error"),new Error(r.statusText);case 6:return S().tryDeleteValue(_),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"validateSession",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,n=t.path,this.metricPublisher.publishMetric("sid_validate_session_attempt"),e.next=4,this.post(r,n);case 4:if((o=e.sent).ok){e.next=8;break}throw this.metricPublisher.publishMetric("sid_validate_session_error"),new Error(o.statusText);case 8:return e.next=10,o.json();case 10:return(i=e.sent).csrfToken&&(a=i.csrfToken,S().trySetValue(_,a,!1,!1)),this.metricPublisher.publishMetric("sid_validate_session_success"),e.abrupt("return",i);case 14:case"end":return e.stop()}var a}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"content-type":"application/json",accept:"application/json",pragma:"no-cache","cache-control":"no-cache"},cache:"no-store",credentials:"include",body:JSON.stringify(t)},o="".concat(this.baseUrl,"/").concat(r),e.next=4,fetch(o,n);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),x=function(){return new Date};var T=function(e){return e.getTimezoneOffset()},A="sid_validation_status",I="sid_validation_reason",R=new u("SID"),P=function(){return x().getTime()},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return Math.floor(Math.random()*(t-e+1)+e)},C=function(e){return 1e3*e},L=function(e){var t=e.status,r=e.reason;R.trySetValue(A,t),R.trySetValue(I,r)},V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e);var r=t.events,o=void 0===r?["click","keydown","scroll","mousewheel","touchstart"]:r,i=t.namespace,a=void 0===i?"hyperdrive":i;if(this.localStorage=new u(a),this.events=o,this.started=!1,this.updateLocalStore=this.updateLocalStore.bind(this),this.clearLocalStore=this.clearLocalStore.bind(this),"undefined"===typeof window)throw new Error("window not available")}return Object(o.a)(e,[{key:"start",value:function(){this.started||(this.started=!0,this.updateLocalStore(),this.subscribe())}},{key:"stop",value:function(){this.started=!1,this.unsubscribe(),this.clearLocalStore()}},{key:"subscribe",value:function(){var e=this;this.events.forEach((function(t){return window.addEventListener(t,e.updateLocalStore,{passive:!0})}))}},{key:"unsubscribe",value:function(){var e=this;this.events.forEach((function(t){return window.removeEventListener(t,e.updateLocalStore,{passive:!0})}))}},{key:"updateLocalStore",value:function(){this.localStorage.trySetValue("sid-last-active",P(),!0,!1)}},{key:"clearLocalStore",value:function(){this.localStorage.tryDeleteValue("sid-last-active",!0,!1)}},{key:"getLastActivityTime",value:function(){return this.localStorage.tryGetValue("sid-last-active",!0,!1)||P()}},{key:"getIdleTimeMillis",value:function(){return P()-this.getLastActivityTime()}}]),e}(),U=r(9),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e);var r=t.retryInterval,o=void 0===r?1e4:r;this.retryInterval=o,this.timeouts={}}return Object(o.a)(e,[{key:"schedulePersistent",value:function(e,t){var r=t.accessTokenExpiry-P()+N();this.schedule(e,r)}},{key:"scheduleTemporary",value:function(e,t){var r=t.sessionExpiry,n=t.maxIdleSeconds,o=r-P(),i=Math.min(o,C(n))+N();this.schedule(e,i)}},{key:"scheduleRetry",value:function(e){this.schedule(e)}},{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.retryInterval;this.timeouts.validate&&clearTimeout(this.timeouts.validate),this.timeouts.validate=setTimeout(e,t)}},{key:"cancel",value:function(){var e=this;Object.keys(this.timeouts).forEach((function(t){clearTimeout(e.timeouts[t])}))}}]),e}(),M=r(6),B=r(34),F=r.n(B),G={EU_WEST_1:0,EU_CENTRAL_1:1,AP_SOUTHEAST_1:2,AP_NORTHEAST_1:3,UK1:64,UK2:65,NL1:66,SG1:67,HK1:68},W={MILLI:0,SECOND:1,DAY:2,WEEK:4,MONTH:5,YEAR:6,ANYTIME:7,MINUTE:8},J=i.GLOBAL.getWindow(),q=function(e){return"".concat(e||"").trim()},H=function(e){if(!isFinite(e))return 0;for(var t=0,r=1,n=Math.pow(10,20);Math.round(e*r)/r!==e&&r<=n;){if(r>=n)return null;r*=10,t++}return t},K=function(e){var t=null,r=isNaN(+e)?null:parseFloat(e);if(r&&"number"===typeof r&&!isNaN(r)){if((t={precision:H(r),amount:parseInt("".concat(r).replace(".",""),10)}).amount.toString().length>=10){var n=t.amount.toString().length-10;t.precision-=n,t.amount=parseInt(t.amount.toString().substring(0,10),10)}2147483647-t.amount<0&&(t.precision-=1,t.amount=parseInt(t.amount.toString().substring(0,9),10))}return t},$=function e(t){if(!t)return t;var r=JSON.parse(F.a.stringify(t));return Object.keys(r).forEach((function(t){var n=r[t];(n&&(n.constructor===Object||n.constructor===Array)||"function"===typeof n)&&(r[t]=e(n)),function(e){return void 0===e||null===e||""===e||"object"===typeof e&&0===Object.keys(e).length||"number"===typeof e&&e!==+e}(n)&&delete r[t]})),Array.isArray(r)&&(r=r.filter(Boolean)),r},z=function(e,t,r){var n=null,o=0,i=function(e,t,r){var n=t,o=r,i=e||new Date,a=T(i),s=n&&T(n),c=o&&T(o);return{thisTZOffset:a,jan:n=s||T(new Date(i.getFullYear(),0,1)),jul:o=c||T(new Date(i.getFullYear(),6,1))}}(e,t,r),a=i.thisTZOffset,s=i.jan,c=i.jul;return s>c?(n=c,o=s-c):s<c&&(n=s,o=c-s),c!==s&&null!=n&&n===a?{DSTOffset:o,TZOffset:-1*a-o}:{DSTOffset:0,TZOffset:-1*a||0}},Y=function(e){return isNaN(+e)?null:parseInt(e,10)},Z=function(e){return e&&"unknown"===e.toString().toLowerCase()?null:e},X=function(e,t){if(!e)return null;if(e instanceof Date)return e;if("number"===typeof e)return new Date(e);if("string"===typeof e&&"YYYYMMDDHHmmss"===t)try{return new Date(e.slice(0,4),e.slice(4,6)-1,e.slice(6,8),e.slice(8,10),e.slice(10,12),e.slice(12,14))}catch(o){return null}if("string"===typeof e){var r,n=e.split(/[ZT:\\.\\//-]/);try{r=new Date(Date.UTC(n[0],n[1]-1||0,n[2]||1,n[3]||null,n[4]||null,n[5]||null))}catch(i){return null}return r instanceof Date&&!isNaN(r.valueOf())?r:null}return null},Q=function(e,t,r,n){var o=r||null,i=e;"string"===typeof e&&e&&4===e.length&&e.substring(2,4)<=12&&(i="20".concat(e));var a=X(i,n);a&&"string"===typeof i&&!o&&(o=function(){switch(i.length){case 4:return"YEAR";case 6:case 7:return"MONTH";case 8:case 10:return"DAY";default:return"MILLI"}}()),a&&a instanceof Date&&!o&&(o="MILLI");var s={};if(a&&(s={unix_time_millis:a.getTime(),date_time_kind:W[o]}),a&&a instanceof Date&&t){var c=z(a);s.timezone_offset_mins=c.TZOffset||0,s.daylight_savings_offset_mins=c.DSTOffset||0}return s.unix_time_millis||s.date_time_kind?$(s):null},ee=function(e){return Z(e)?function(e){var t=/(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/gi;return e&&t.test(e)?e.match(t)[0]:null}(e):null},te=function(){var e=Object(i.getViewportSize)(),t=e.width*e.width+e.height*e.height,r=Math.round(Math.sqrt(t)/72*10)/10,n=J.screen||{};return{usable_width:e.width,usable_height:e.height,display_width:n.width,display_height:n.height,display_ppi:n.pixelDepth,diag_in_inches:r,device_pixel_ratio:J.device_pixel_ratio||null}},re=function(e,t){var r,n=e||{},o=n.utid,i=n.authState,a=n.preferences,s=n.ssTrack,c=n.gaCookie,u=n.screen,l=n.nav,f=n.nodeName,d=n.scaffoldVersion,p=n.componentContext,h=n.config,g=n.guid,v={};try{v.produced_by=2,v.producer_version=d,v.service_instance_fingerprint=function(e){var t=e.version,r=e.nodeName,n=e.identifier,o=e.version_identifier,i=r&&r.length>=8?r.substring(5,8):null,a=e.dc;return $({data_center:void 0===a?G[i]:a,name:r,version_tag:t,version_identifier:o,identifier:n})}({version:d,nodeName:f}),v.traveller_identity=function(e,t,r,n,o){var i=!1;-1===[2,1,0].indexOf(Number(t))&&(i=!0);var a=/.+\..+\.(.+.\..+)$/.exec(o),s={utid:e,user_status:i?"0":t.toString(),authentication_status:Y(t),preference_string:q(r),sstrack:n,ga_cid:a&&a.length>1?a[1]:null};return $(s)}(o,i,a,s,c),v.client_details=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:te(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.navigator,n={user_agent:r.userAgent,vendor_name:r.vendor,browser_name:Z(e.browserName)||r.appName,browser_version:Z(e.browserVersion)||r.appVersion,is_browser:Z(e.desktop),display_height:Y(t.display_height),display_width:Y(t.display_width),display_ppi:Y(t.display_ppi),usable_display_width:Y(t.usable_width),usable_display_height:Y(t.usable_height),diagonal_screen_size_int:K(t.diag_in_inches),device_pixel_ratio_int:K(t.device_pixel_ratio)||null,ip_address:ee(e.ipAddress),is_mobilephone:Z(e.mobile),is_tablet:Z(e.tablet),os_version:Z(e.osVersion)};return document.referrer&&(n.referrer_url=document.referrer),$(n)}(p,u,l),v.traveller_culture_settings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $({country:e.market,currency:e.currency,locale:e.locale})}(p),v.ab_tests=$(h&&h.featureTests||null),v.created_on=Q(new Date(Date.now()),!0),v.associate_id=(r=p&&p.associateId||null,Z(r)?function(e){var t=/([a-z]{3}[_][a-z]{3}[_][0-9]{5}[_][0-9]{5})/i;return e&&t.test(e)?e.match(t)[0].toUpperCase():"DIR_ECT_00000_00000"}(r):null),v.guid=g||function(){for(var e=[],t=0;t<36;)e[t]=Math.floor(16*Math.random()),t+=1;e[14]=4,e[19]=3&e[19]|8;for(var r=0;r<36;)e[r]="0123456789abcdef"[e[r]],r+=1;return e[8]=e[13]=e[18]=e[23]="-",e.join("")}()}catch(b){if(!t)throw b}return v},ne="https://slipstream.skyscanner.net",oe="/slipstream",ie=function(e,t,r){var n;if(r){var o=Object(l.a)(Object(l.a)({},t),{},{event_header:re()});n=JSON.stringify(o)}else n=JSON.stringify(t);return Object(m.a)(e,{method:"POST",body:n,headers:{"Content-Type":"application/json"}}).catch((function(t){console.error("".concat(t,". Request to ").concat(e," failed. Request payload: ").concat(n,"."))}))},ae=function(){function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.enhance,s=void 0===a||a;if(Object(n.a)(this,e),"public"!==t&&"public-sandbox"!==t)throw new Error('GrapplerLogger environment must be "public" or "public-sandbox"');this.env=t,this.serviceName=r,this.enhance=s,this.endpoint=Object(i.isAkamaiSlipstreamEnabled)()?oe:ne}return Object(o.a)(e,[{key:"sendApplogMessage",value:function(e){var t="".concat(this.endpoint,"/grp/v1/applog/").concat(this.env,"/").concat(this.serviceName);return ie(t,e,this.enhance)}},{key:"sendCustomEvent",value:function(e,t,r){var n="".concat(this.endpoint,"/grp/v1/custom/").concat(this.env,"/").concat(this.serviceName,"/").concat(e,"/").concat(t);return ie(n,r,this.enhance)}},{key:"sendCustomEvents",value:function(e,t,r){return function(e,t,r){var n=t.reduce((function(e,t){return e+(r?JSON.stringify(Object(l.a)(Object(l.a)({},t),{},{event_header:re()})):JSON.stringify(t))}),"");return Object(m.a)(e,{method:"POST",body:n,headers:{"Content-Type":"application/json"}}).catch((function(t){console.error("".concat(t,". Request to ").concat(e," failed. Request payload: ").concat(n,"."))}))}("".concat(this.endpoint,"/grp/v1/custom/").concat(this.env,"/").concat(this.serviceName,"/").concat(e,"/").concat(t),r,this.enhance)}},{key:"sendCustomEventWithEncodedUrl",value:function(e,t,r){var n="".concat(btoa("".concat(this.serviceName,"/").concat(e,"/").concat(t))),o="".concat(this.endpoint,"/grp/v1/encoded/").concat(this.env,"/").concat(n);return ie(o,r,this.enhance)}}]),e}(),se=r(7),ce=function(e){return function(e){return null==e||void 0===e}(e)?"undefined":e.toString()},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return Object(l.a)(Object(l.a)({},t),{},Object(se.a)({},r,ce(e[r])))}),{})},le=function(){function e(t){var r=t.authConsumer;Object(n.a)(this,e),this.grapplerLogger=new ae("public","login"),this.authConsumer=r}return Object(o.a)(e,[{key:"publishEvent",value:function(e,t){try{var r=this.authConsumer,n=ue(t);this.grapplerLogger.sendApplogMessage({message:e,severity:"INFO",fields:Object(l.a)({authConsumer:r,market:"unknown"},n)})}catch(b){}}},{key:"publishError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=this.authConsumer,o=t.name,i=t.message,a=t.stack,s=t.errorCode,c=ue(r);this.grapplerLogger.sendApplogMessage({message:e,severity:"ERR",fields:Object(l.a)({authConsumer:n,market:"unknown"},c),exception:{type:o,traceback:a,message:i||s}})}catch(b){}}}]),e}(),fe=function(){function e(t){var r=t.applogPublisher;Object(n.a)(this,e),this.applogPublisher=r}return Object(o.a)(e,[{key:"publishLogoutSuccess",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.utid,e.prev=1,n=new ot("public","logout"),e.next=5,n.track("clients.AuthenticationStatusChange",{previous_traveller_identity:{utid:r,authentication_status:"AUTHENTICATED"}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.applogPublisher.publishError("Failed to send AuthenticationStatusChange funnel event",e.t0);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),de="Logout",pe="Session Validation Error",he=function(){function e(t){var r=t.authConsumer;Object(n.a)(this,e),this.applogPublisher=new le({authConsumer:r}),this.trustedFunnelPublisher=new fe({applogPublisher:this.applogPublisher}),this.authConsumer=r}return Object(o.a)(e,[{key:"publishLogoutSuccess",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,o,i,a,s,c=this,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.length>0&&void 0!==u[0]?u[0]:{},r=t.cause,n=t.utid,o=t.sessionType,i=t.platformId,a=t.reason,s="".concat(de," Succeeded"),this.swallowErrors(s,(function(){c.applogPublisher.publishEvent(s,{cause:r,utid:n,sessionType:o,platformId:i,reason:a}),M.a.publish("sid-logout-success",{cause:r}),c.trustedFunnelPublisher.publishLogoutSuccess({utid:n})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishSessionValidationError",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,o,i=this,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:{},r=t.utid,n=t.authError,o=pe,this.swallowErrors(o,(function(){i.applogPublisher.publishError(o,n,{utid:r}),M.a.publish("sid-session-validation-error",n.errorMessage)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"swallowErrors",value:function(e,t){try{t()}catch(b){this.applogPublisher.publishError("".concat(e," Event Publishing Error"),b)}}}]),e}(),ge="sid_lock",be="TIMED_OUT",ve="COMPLETED_BY_OTHER_TAB",me=function(){return parseInt(R.tryGetValue(ge),10)},ye=function(){},ke=function(){window.removeEventListener("storage",ye)},we=function(e){return new Promise((function(t){var r=setTimeout((function(){return t(be)}),e);ke(),ye=function(e){e.key===ge&&null===e.newValue&&(clearTimeout(r),t(ve))},window.addEventListener("storage",ye)}))},Oe=function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,o,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[me(),x().getTime()],r=t[0],n=t[1];case 1:if(!(n<r&&o!==ve)){e.next=11;break}return i=r-n,e.next=5,we(i);case 5:o=e.sent,a=[me(),x().getTime()],r=a[0],n=a[1],e.next=1;break;case 11:return ke(),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=x().getTime();R.trySetValue(ge,e+5e3)},_e=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:if(e.sent===ve){e.next=10;break}return je(),e.next=7,t();case 7:return r=e.sent,R.tryDeleteValue(ge),e.abrupt("return",r);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se="PERSISTENT",Ee="TEMPORARY",xe="MOBILE",Te="INVALID",Ae=function(e){return"https://skyscanner.net/".concat(e)},Ie=function(){try{var e=new g.SingleValueCookie("sid_session_token").getValue();if(!e)return{};var t=e.split(".")[1];return JSON.parse(window.atob(t))}catch(r){return{}}},Re=function(){try{var e=Ie(),t=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie())[Ae("sessionType")]}(e),r=new g.SingleValueCookie("sid_utid").getValue();switch(t){case Se:return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:Se,accessTokenExpiry:e[Ae("accessTokenExpiry")],accessTokenExpiryDate:new Date(e[Ae("accessTokenExpiry")])})}(e);case Ee:return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:Ee,maxIdleSeconds:e[Ae("maxIdleSeconds")],sessionExpiry:e[Ae("sessionExpiry")],sessionExpiryDate:new Date(e[Ae("sessionExpiry")])})}(e);case xe:return function(e){return Object.freeze({utid:e.sub,start:e.iat,sessionType:xe})}(e);default:return r?Object.freeze({sessionType:Te}):void 0}}catch(n){return}};function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(b){return!1}}function Ve(e){return(Ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){return!t||"object"!==Ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){var t=Le();return function(){var r,n=Ce(e);if(t){var o=Ce(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ue(this,r)}}function Me(e,t,r){return(Me=Le()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&Pe(o,r.prototype),o}).apply(null,arguments)}function Be(e){var t="function"===typeof Map?new Map:void 0;return(Be=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Me(e,arguments,Ce(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Pe(n,e)})(e)}var Fe=function(e){Ne(r,e);var t=De(r);function r(e){var o,i=e.errorCode,a=e.errorMessage,s=e.traceback;return Object(n.a)(this,r),(o=t.call(this)).errorCode=i,o.errorMessage=a,o.traceback=s,o}return r}(Be(Error)),Ge="session-inactive",We="session-expired",Je=function(){function e(){Object(n.a)(this,e);var t=Object(U.getEnvFromUrl)(),r=Object(U.default)(t),o=r.baseUrl,i=r.eventPublishingEnabled,a=r.retryInterval;this.metricPublisher=new j(i),this.validateSessionClient=new E(o,this.metricPublisher),this.activityTracker=new V,this.eventPublisher=new he({authConsumer:"session-validation"}),this.scheduler=new D({retryInterval:a}),this.validationErrorCounter={},this.checkPersistentSession=this.checkPersistentSession.bind(this),this.stop=this.stop.bind(this),this.restart=this.restart.bind(this),this.checkTempSession=this.checkTempSession.bind(this),this.publishSessionValidationError=this.publishSessionValidationError.bind(this)}return Object(o.a)(e,[{key:"getValidatedSession",value:function(){return this.promise||(this.promise=this.validateSession()),this.promise}},{key:"stop",value:function(){this.scheduler.cancel(),this.activityTracker.stop(),this.promise=void 0,this.session=void 0}},{key:"restart",value:function(){this.stop(),this.promise=this.validateSession()}},{key:"validateSession",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=Re())||t.sessionType!==Te){e.next=5;break}return e.next=4,this.validateSessionClient.logout("session-invalid");case 4:return e.abrupt("return",void 0);case 5:if(this.session=t,!(this.session&&this.session.sessionType!==xe)){e.next=19;break}this.activityTracker.start(),e.t0=this.session.sessionType,e.next=e.t0===Se?12:e.t0===Ee?15:18;break;case 12:return e.next=14,this.checkPersistentSession();case 14:return e.abrupt("break",19);case 15:return e.next=17,this.checkTempSession();case 17:case 18:return e.abrupt("break",19);case 19:return e.abrupt("return",this.session);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_handleSessionValidation",value:function(e,t,r){var n,o=e.status,i=e.reason;switch(o){case"PERSISTENT_SESSION_REFRESHED":case"PERSISTENT_SESSION_EXTENDED":case"PERSISTENT_SESSION_NO_REFRESH":this.scheduler.schedulePersistent(this.checkPersistentSession,this.session);break;case"PERSISTENT_SESSION_LOGGED_OUT":n="inactive"===i?Ge:"session-logged-out",this._invalidateSession(n,t,r,i);break;default:this.stop()}}},{key:"_performRetry",value:function(e){var t=new Fe({errorMessage:e.message,traceback:e.stack});this.publishSessionValidationError(e,t),this.scheduler.scheduleRetry(this.checkPersistentSession)}},{key:"_invalidateSession",value:function(e,t,r,n){this.eventPublisher.publishLogoutSuccess({cause:e,utid:t,sessionType:r,reason:n}),this.stop()}},{key:"publishSessionValidationError",value:function(e,t){var r=this.session.utid;this.validationErrorCounter[e.message]=this.validationErrorCounter[e.message]||0,this.validationErrorCounter[e.message]<5&&(this.validationErrorCounter[e.message]+=1,this.eventPublisher.publishSessionValidationError({utid:r,authError:t}))}},{key:"isSessionActive",value:function(){var e=C(this.session.maxIdleSeconds);return this.activityTracker.getIdleTimeMillis()<=e}},{key:"validatePersistentSession",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,o,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.activityTracker.getIdleTimeMillis(),t=a/1e3,r=P(),e.next=4,_e(Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.validateSessionClient.validate(t,r);case 2:return n=e.sent,L(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))));case 4:return n=e.sent,o=null===n,e.abrupt("return",o?{status:R.tryGetValue(A),reason:R.tryGetValue(I)}:n);case 7:case"end":return e.stop()}var a}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkPersistentSession",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.session,r=t.utid,n=t.accessTokenExpiry,!(P()>n)){e.next=11;break}return e.next=6,this.validatePersistentSession();case 6:o=e.sent,this.session=Re(),this._handleSessionValidation(o,r),e.next=12;break;case 11:this.scheduler.schedulePersistent(this.checkPersistentSession,this.session);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this._performRetry(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"checkTempSession",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.session,r=t.utid,n=t.sessionExpiry,o=t.sessionType,!(P()>n)){e.next=8;break}return e.next=5,this.validateSessionClient.logout(We);case 5:this._invalidateSession(We,r,o),e.next=15;break;case 8:if(this.isSessionActive()){e.next=14;break}return e.next=11,this.validateSessionClient.logout(Ge);case 11:this._invalidateSession(Ge,r,o),e.next=15;break;case 14:this.scheduler.scheduleTemporary(this.checkTempSession,this.session);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qe=function(){var e=Object(p.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.SessionValidator||(window.SessionValidator=new Je),t=window.SessionValidator,e.next=3,t.getValidatedSession();case 3:return r=e.sent,e.abrupt("return",void 0!==r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=(Object.freeze({UNSET:0,UNAUTHENTICATED:1,AUTHENTICATED:2}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3,t=new Promise((function(t){setTimeout((function(){return t(!1)}),e)}));return Promise.race([qe(),t])}),Ke=function(){var e=Re();return e&&e.utid||new g.SingleValueCookie("traveller_context").getValue()},$e=function(){var e=new g.SingleValueCookie("device_guid"),t=e.getValue();if(!t){var r=Object(h.v4)();return e.setValue(r),e.store(730),r}return t},ze={search_guid:["searchresultpage_guid","searchresultoption_guid","bookingpaneloption_guid","miniredirect_guid"],searchresultpage_guid:["searchresultoption_guid","bookingpaneloption_guid","miniredirect_guid"],searchresultoption_guid:["bookingpaneloption_guid","miniredirect_guid"],bookingpaneloption_guid:["miniredirect_guid"],miniredirect_guid:[]},Ye=function(e){var t=e.messageGuid;return void 0===t||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(t)},Ze=function(e){return"".concat(e.split(".").pop().toLowerCase(),"_guid")},Xe=function(e){return"".concat(e.split(".").pop().toLowerCase,"_checksum")},Qe=function(e,t,r){e.trySetValue(t,r,!1,!0),(ze[t]||[]).forEach((function(t){e.tryDeleteValue(t)}))},et=function(){function e(t,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Object(n.a)(this,e),!o)throw new Error("A schema must be provided");if(!t)throw new Error("A namespaced store must be provided");this.$window=i.GLOBAL.getWindow(),this.store=t,this.fallbackStore=r,this.schema=o,this.message=null,this.opts=a}return Object(o.a)(e,[{key:"getSeqNumber",value:function(){var e=(this.store.tryGetValue("sequence_num")||0)+1;return this.store.trySetValue("sequence_num",e),e}},{key:"buildHeader",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:return r=e.sent,null==(n=this.store.tryGetValue(Ze("clients.UserPreferences"),!1,!0))&&(n=this.fallbackStore.tryGetValue(Ze("clients.UserPreferences"),!1,!0)),e.abrupt("return",{header:{guid:t,client_timestamp:Q(new Date(Date.now()),!0),traveller_identity:{utid:Ke(),authentication_status:r?"AUTHENTICATED":"UNAUTHENTICATED"},sequence_number:this.getSeqNumber(),device_guid:$e(),experiment_allocation_id:new g.SingleValueCookie("experiment_allocation_id").getValue(),user_agent:this.$window.navigator?this.$window.navigator.userAgent:"UNKNOWN",user_preferences_guid:n}});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAndStoreGuid",value:function(){var e=this.opts.messageGuid||Object(h.v4)(),t=Ze(this.schema);return!1!==this.opts.store_guid&&Qe(this.store,t,e),e}},{key:"buildMessage",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.createAndStoreGuid(),e.next=3,this.buildHeader(r);case 3:return n=e.sent,o=Object(l.a)(Object(l.a)({},n),t),this.message=o,e.abrupt("return",this.message);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){return this.message}}]),e}(),tt=r(12),rt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tt.a.ERROR_LEVEL.ERROR;tt.a.logError({component:"saddlebag-user-tracking-events",message:e,level:r,event:t})},nt=function(){function e(t,r){Object(n.a)(this,e),this.grapplerLogger=new ae(t,r,{enhance:!1}),this.store=new u("eventstracking"),this.fallbackStore=new u("funnelevents")}return Object(o.a)(e,[{key:"trackEvent",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var o,i,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.length>3&&void 0!==a[3]?a[3]:{},"object"===typeof n){e.next=3;break}throw new Error("message should be an Object");case 3:if(Ye(o)){e.next=5;break}throw new Error("The specified guid is invalid. It must conform to ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");case 5:return e.prev=5,i=new et(this.store,this.fallbackStore,r,o),e.next=9,i.buildMessage(n);case 9:return this.grapplerLogger.sendCustomEvent(t,r,i.get()).catch((function(e){return rt(String(e),r,tt.a.ERROR_LEVEL.WARN)})),e.abrupt("return",{guid:i.get().header.guid});case 13:e.prev=13,e.t0=e.catch(5),rt(e.t0.message,r);case 16:return e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"trackBatchEvent",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var o,i,a,s=this,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.length>3&&void 0!==c[3]?c[3]:{},Ye(o)){e.next=3;break}throw new Error("The specified guid is invalid. It must conform to ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");case 3:return e.prev=3,i=n.map((function(e,t){if("object"!==typeof e)throw new Error("message should be an Object");return new et(s.store,s.fallbackStore,r,Object(l.a)(Object(l.a)({},o),{},{store_guid:o.store_guid===t})).buildMessage(e)})),e.next=7,Promise.all(i);case 7:return a=e.sent,this.grapplerLogger.sendCustomEvents(t,r,a).catch((function(e){return rt(String(e),r,tt.a.ERROR_LEVEL.WARN)})),e.abrupt("return",a.map((function(e){return{guid:e.header.guid}})));case 12:e.prev=12,e.t0=e.catch(3),rt(e.t0.message,r);case 15:return e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"eventHasBeenLogged",value:function(e,t){var r=this.store.tryGetValue(Xe(e));if(!r)return!1;var n=JSON.parse(r);return!(n.logged_at<=x().getTime()-18e5)&&(delete n.logged_at,JSON.stringify(t)===JSON.stringify(n))}},{key:"markEventAsLogged",value:function(e,t){var r=Object(l.a)({logged_at:x().getTime()},t);this.store.trySetValue(Xe(e),JSON.stringify(r))}}]),e}(),ot=function(e){Ne(r,e);var t=De(r);function r(e,o){var i;return Object(n.a)(this,r),(i=t.call(this,e,o)).eventName="funnel_events",i}return Object(o.a)(r,[{key:"track",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.abrupt("return",this.trackEvent(this.eventName,t,r,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"trackBatch",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.abrupt("return",this.trackBatchEvent(this.eventName,t,r,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(nt)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIES=t.KEY_VALUE_SEPARATOR=t.PAIR_SEPARATOR=t.COOKIE_SEPARATOR=void 0;t.COOKIE_SEPARATOR=";";t.PAIR_SEPARATOR="&";t.KEY_VALUE_SEPARATOR=":::";var n=Object.freeze({SCANNER:"scanner",CULTURE:"ssculture",AB:"ssab",AB_OVERRIDES:"ssaboverrides",AB_GROUP:"abgroup",TRAVELLER_CONTEXT:"traveller_context",ANONYMOUS_TOKEN:"__Secure-anon_token",ANONYMOUS_CSRF_TOKEN:"__Secure-anon_csrf_token",SID_TOKEN:"sid_token",SID_UTID:"sid_utid",SID_SESSION_TOKEN:"sid_session_token",GDPR:"gdpr",HAS_APP:"has_app",DEVICE_GUID:"device_guid",SECURE_SKA:"__Secure-ska",EXPERIMENT_ALLOCATION_ID:"experiment_allocation_id"});t.COOKIES=n},function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return n}));var n={baseUrl:"http://localhost:5002",eventPublishingEnabled:!1,retryInterval:15e3}},function(e,t,r){"use strict";r.r(t),r.d(t,"config",(function(){return n}));var n={baseUrl:"/g/traveller-auth-service",eventPublishingEnabled:!0,retryInterval:15e3}},function(e,t,r){var n=r(129),o=r(130),i=o;i.v1=n,i.v4=o,e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseCookie",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"parseMultiValueCookie",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"buildCookieObject",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"serializeToString",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MultiValueCookie",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"COOKIES",{enumerable:!0,get:function(){return c.COOKIES}}),t.default=void 0;var n=u(r(131)),o=u(r(132)),i=u(r(27)),a=u(r(28)),s=u(r(26)),c=r(14);function u(e){return e&&e.__esModule?e:{default:e}}var l=n.default;t.default=l},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return o}))},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(14));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e,t){return e&&t?function(e,t){var r=t.map((function(e){var t=a(e.split("="),2);return{key:t[0],value:t[1]}})).filter((function(t){return t.key===e&&null!==t.value}));return r.length>0?r[0].value:null}(e,t.split(o.COOKIE_SEPARATOR).map((function(e){return e.trim()}))):null};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(27)),o=i(r(28));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modified=!1,this._cookieObject=(0,n.default)(t)||{}}var t,r,i;return t=e,(r=[{key:"getValue",value:function(e){return this._cookieObject[e]}},{key:"setValue",value:function(e,t){return this._cookieObject[e]=t,this._modified=!0,this}},{key:"deleteValue",value:function(e){return delete this._cookieObject[e],this._modified=!0,this}},{key:"clear",value:function(){return this._cookieObject={},this._modified=!0,this}},{key:"isModified",value:function(){return this._modified}},{key:"keys",value:function(){return Object.keys(this._cookieObject)}},{key:"serializeToString",value:function(){return(0,o.default)(this._cookieObject)}}])&&a(t.prototype,r),i&&a(t,i),e}();t.default=s},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(14));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){if(!e||"string"!==typeof e)return null;var t=e.split(o.PAIR_SEPARATOR),r={};return t.forEach((function(e){if(-1!==e.indexOf(o.KEY_VALUE_SEPARATOR)){var t=a(e.split(o.KEY_VALUE_SEPARATOR),2),n=t[0],i=t[1];r[n]=decodeURIComponent(i)}else r[e]=null})),r}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return"";if("string"===typeof e)return e;var t=Object.keys(e);if(0===t.length)return"";return t.map((function(t){return function(e,t){return t?"".concat(e).concat(o.KEY_VALUE_SEPARATOR).concat(t):e}(t,e[t])})).reduce(a)};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(14));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var a=function(e,t){return e?"".concat(e).concat(o.PAIR_SEPARATOR).concat(t):t}},function(e,t,r){"use strict";r.r(t);var n=r(9),o=r(15),i=r(16);describe("getConfig",(function(){it("should throw error when no env specified",(function(){expect((function(){return Object(n.default)({})})).toThrow()})),it("should return production config when specified",(function(){var e=Object(n.default)("production");expect(e).toEqual(i.config)})),it("should return development config when specified",(function(){var e=Object(n.default)("development");expect(e).toEqual(o.config)}))})),describe("getEnvFromUrl",(function(){it("returns development when running on local domain",(function(){expect(Object(n.getEnvFromUrl)({location:{protocol:"http",hostname:"localhost"}})).toEqual("development")})),it("returns production when not running on local domain",(function(){expect(Object(n.getEnvFromUrl)({location:{protocol:"https",hostname:"www.skyscanner.net"}})).toEqual("production")}))}))},function(e,t,r){!function(){var t=r(121),n=r(20).utf8,o=r(122),i=r(20).bin,a=function e(r,a){r.constructor==String?r=a&&"binary"===a.encoding?i.stringToBytes(r):n.stringToBytes(r):o(r)?r=Array.prototype.slice.call(r,0):Array.isArray(r)||r.constructor===Uint8Array||(r=r.toString());for(var s=t.bytesToWords(r),c=8*r.length,u=1732584193,l=-271733879,f=-1732584194,d=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var h=e._ff,g=e._gg,b=e._hh,v=e._ii;for(p=0;p<s.length;p+=16){var m=u,y=l,k=f,w=d;u=h(u,l,f,d,s[p+0],7,-680876936),d=h(d,u,l,f,s[p+1],12,-389564586),f=h(f,d,u,l,s[p+2],17,606105819),l=h(l,f,d,u,s[p+3],22,-1044525330),u=h(u,l,f,d,s[p+4],7,-176418897),d=h(d,u,l,f,s[p+5],12,1200080426),f=h(f,d,u,l,s[p+6],17,-1473231341),l=h(l,f,d,u,s[p+7],22,-45705983),u=h(u,l,f,d,s[p+8],7,1770035416),d=h(d,u,l,f,s[p+9],12,-1958414417),f=h(f,d,u,l,s[p+10],17,-42063),l=h(l,f,d,u,s[p+11],22,-1990404162),u=h(u,l,f,d,s[p+12],7,1804603682),d=h(d,u,l,f,s[p+13],12,-40341101),f=h(f,d,u,l,s[p+14],17,-1502002290),u=g(u,l=h(l,f,d,u,s[p+15],22,1236535329),f,d,s[p+1],5,-165796510),d=g(d,u,l,f,s[p+6],9,-1069501632),f=g(f,d,u,l,s[p+11],14,643717713),l=g(l,f,d,u,s[p+0],20,-373897302),u=g(u,l,f,d,s[p+5],5,-701558691),d=g(d,u,l,f,s[p+10],9,38016083),f=g(f,d,u,l,s[p+15],14,-660478335),l=g(l,f,d,u,s[p+4],20,-405537848),u=g(u,l,f,d,s[p+9],5,568446438),d=g(d,u,l,f,s[p+14],9,-1019803690),f=g(f,d,u,l,s[p+3],14,-187363961),l=g(l,f,d,u,s[p+8],20,1163531501),u=g(u,l,f,d,s[p+13],5,-1444681467),d=g(d,u,l,f,s[p+2],9,-51403784),f=g(f,d,u,l,s[p+7],14,1735328473),u=b(u,l=g(l,f,d,u,s[p+12],20,-1926607734),f,d,s[p+5],4,-378558),d=b(d,u,l,f,s[p+8],11,-2022574463),f=b(f,d,u,l,s[p+11],16,1839030562),l=b(l,f,d,u,s[p+14],23,-35309556),u=b(u,l,f,d,s[p+1],4,-1530992060),d=b(d,u,l,f,s[p+4],11,1272893353),f=b(f,d,u,l,s[p+7],16,-155497632),l=b(l,f,d,u,s[p+10],23,-1094730640),u=b(u,l,f,d,s[p+13],4,681279174),d=b(d,u,l,f,s[p+0],11,-358537222),f=b(f,d,u,l,s[p+3],16,-722521979),l=b(l,f,d,u,s[p+6],23,76029189),u=b(u,l,f,d,s[p+9],4,-640364487),d=b(d,u,l,f,s[p+12],11,-421815835),f=b(f,d,u,l,s[p+15],16,530742520),u=v(u,l=b(l,f,d,u,s[p+2],23,-995338651),f,d,s[p+0],6,-198630844),d=v(d,u,l,f,s[p+7],10,1126891415),f=v(f,d,u,l,s[p+14],15,-1416354905),l=v(l,f,d,u,s[p+5],21,-57434055),u=v(u,l,f,d,s[p+12],6,1700485571),d=v(d,u,l,f,s[p+3],10,-1894986606),f=v(f,d,u,l,s[p+10],15,-1051523),l=v(l,f,d,u,s[p+1],21,-2054922799),u=v(u,l,f,d,s[p+8],6,1873313359),d=v(d,u,l,f,s[p+15],10,-30611744),f=v(f,d,u,l,s[p+6],15,-1560198380),l=v(l,f,d,u,s[p+13],21,1309151649),u=v(u,l,f,d,s[p+4],6,-145523070),d=v(d,u,l,f,s[p+11],10,-1120210379),f=v(f,d,u,l,s[p+2],15,718787259),l=v(l,f,d,u,s[p+9],21,-343485551),u=u+m>>>0,l=l+y>>>0,f=f+k>>>0,d=d+w>>>0}return t.endian([u,l,f,d])};a._ff=function(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._gg=function(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._hh=function(e,t,r,n,o,i,a){var s=e+(t^r^n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._ii=function(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,r){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(a(e,r));return r&&r.asBytes?n:r&&r.asString?i.bytesToString(n):t.bytesToHex(n)}}()},function(e,t,r){var n="undefined"!==typeof JSON?JSON:r(123);e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r=t.space||"";"number"===typeof r&&(r=Array(r+1).join(" "));var a,s="boolean"===typeof t.cycles&&t.cycles,c=t.replacer||function(e,t){return t},u=t.cmp&&(a=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},o={key:r,value:e[r]};return a(n,o)}}),l=[];return function e(t,a,f,d){var p=r?"\n"+new Array(d+1).join(r):"",h=r?": ":":";if(f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=c.call(t,a,f))){if("object"!==typeof f||null===f)return n.stringify(f);if(o(f)){for(var g=[],b=0;b<f.length;b++){var v=e(f,b,f[b],d+1)||n.stringify(null);g.push(p+r+v)}return"["+g.join(",")+p+"]"}if(-1!==l.indexOf(f)){if(s)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(f);var m=i(f).sort(u&&u(f));for(g=[],b=0;b<m.length;b++){var y=e(f,a=m[b],f[a],d+1);if(y){var k=n.stringify(a)+h+y;g.push(p+r+k)}}return l.splice(l.indexOf(f),1),"{"+g.join(",")+p+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},i=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},function(e,t,r){var n=r(126),o=r(127),i=o;i.v1=n,i.v4=o,e.exports=i},function(e){e.exports=JSON.parse('{"_args":[["@skyscanner/session-validation@1.0.27","/drone/src/github.skyscannertools.net/martech/js-tag-manager"]],"_development":true,"_from":"@skyscanner/session-validation@1.0.27","_id":"@skyscanner/session-validation@1.0.27","_inBundle":false,"_integrity":"sha1-7rt8c8rfCaLB5jETcLcB2SqQLG8=","_location":"/@skyscanner/session-validation","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@skyscanner/session-validation@1.0.27","name":"@skyscanner/session-validation","escapedName":"@skyscanner%2fsession-validation","scope":"@skyscanner","rawSpec":"1.0.27","saveSpec":null,"fetchSpec":"1.0.27"},"_requiredBy":["/saddlebag-user-management"],"_resolved":"https://artifactory.skyscannertools.net/artifactory/api/npm/npm/@skyscanner/session-validation/-/@skyscanner/session-validation-1.0.27.tgz","_spec":"1.0.27","_where":"/drone/src/github.skyscannertools.net/martech/js-tag-manager","author":{"name":"Diamond"},"backpack-react-scripts":{"babelIncludePrefixes":["@skyscanner/","@identity/"]},"bugs":{"email":"DiamondSquad@skyscanner.net"},"dependencies":{"saddlebag-browser":"^6.0.18","saddlebag-cookie":"^3.0.45","saddlebag-date":"^2.0.11","saddlebag-event-tracking":"^3.0.24","saddlebag-funnel-events":"^0.3.44","saddlebag-grappler":"^2.3.32","saddlebag-localstorage":"^3.0.36","saddlebag-observer":"^3.0.20","saddlebag-user-tracking-events":"^2.0.21"},"description":"Library to validate and refresh the access tokens using the refresh token","devDependencies":{"babel-eslint":"^10.1.0","ensure-node-env":"^1.0.8","eslint":"^4.9.0","eslint-config-airbnb":"^16.1.0","eslint-config-skyscanner":"^3.0.0","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^6.1.1","eslint-plugin-react":"^7.11.1","eslint-plugin-skyscanner-dates":"^1.0.9","husky":"^4.0.0","jest-fetch-mock":"^1.7.5","lint-staged":"^7.1.2"},"engines":{"node":"^12.10.0","npm":"^6.10.3"},"files":["src"],"gitHead":"0cab7737d5300a74c968fe8ef8ddf009b2e8bb02","homepage":"https://github.skyscannertools.net/identity/auth-libs/tree/master/packages/session-validation","keywords":["mshell","library","node"],"license":"UNLICENSED","lint-staged":{"**/*.{js,jsx}":["npm run lint:js:staged --"]},"main":"src/index.js","name":"@skyscanner/session-validation","publishConfig":{"registry":"https://artifactory.skyscannertools.net/artifactory/api/npm/npm/"},"scripts":{"coverage":"react-scripts test --coverage","lint":"npm run lint:js","lint:js":"eslint . --ignore-path .gitignore --ext .js,.jsx","lint:js:fix":"npm run lint:js -- --fix","lint:js:fix:staged":"eslint . --ignore-path .gitignore --fix","lint:js:staged":"eslint . --ignore-path .gitignore","precommit":"lint-staged","test":"react-scripts test"},"version":"1.0.27"}')},function(module,exports,__webpack_require__){"use strict";function decycle(e){var t=[],r=[];return function e(n,o){var i,a,s,c=n&&n.toJSON instanceof Function?n.toJSON():n;if("object"===typeof c&&null!==c){for(i=0;i<t.length;i+=1)if(t[i]===c)return{$ref:r[i]};if(t.push(c),r.push(o),"[object Array]"===Object.prototype.toString.apply(c))for(s=[],i=0;i<c.length;i+=1)s[i]=e(c[i],o+"["+i+"]");else for(a in s={},c)Object.prototype.hasOwnProperty.call(c,a)&&(s[a]=e(c[a],o+"["+JSON.stringify(a)+"]"));return s}return c}(e,"$")}function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"===typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"===typeof item&&(path=item.$ref,"string"===typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"===typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"===typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}module.exports={stringify:function(e,t,r){return JSON.stringify(decycle(e),t,r)},parse:function(e,t){return retrocycle(JSON.parse(e,t))},decycle:decycle,retrocycle:retrocycle}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?r.push(t.charAt(o>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}};e.exports=r}()},function(e,t){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){t.parse=r(124),t.stringify=r(125)},function(e,t){var r,n,o,i,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:r,text:o}},c=function(e){return e&&e!==n&&s("Expected '"+e+"' instead of '"+n+"'"),n=o.charAt(r),r+=1,n},u=function(){var e,t="";for("-"===n&&(t="-",c("-"));n>="0"&&n<="9";)t+=n,c();if("."===n)for(t+=".";c()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,c(),"-"!==n&&"+"!==n||(t+=n,c());n>="0"&&n<="9";)t+=n,c();if(e=+t,isFinite(e))return e;s("Bad number")},l=function(){var e,t,r,o="";if('"'===n)for(;c();){if('"'===n)return c(),o;if("\\"===n)if(c(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(c(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else{if("string"!==typeof a[n])break;o+=a[n]}else o+=n}s("Bad string")},f=function(){for(;n&&n<=" ";)c()},d=function(){var e=[];if("["===n){if(c("["),f(),"]"===n)return c("]"),e;for(;n;){if(e.push(i()),f(),"]"===n)return c("]"),e;c(","),f()}}s("Bad array")},p=function(){var e,t={};if("{"===n){if(c("{"),f(),"}"===n)return c("}"),t;for(;n;){if(e=l(),f(),c(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=i(),f(),"}"===n)return c("}"),t;c(","),f()}}s("Bad object")};i=function(){switch(f(),n){case"{":return p();case"[":return d();case'"':return l();case"-":return u();default:return n>="0"&&n<="9"?u():function(){switch(n){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}s("Unexpected '"+n+"'")}()}},e.exports=function(e,t){var a;return o=e,r=0,n=" ",a=i(),f(),n&&s("Syntax error"),"function"===typeof t?function e(r,n){var o,i,a=r[n];if(a&&"object"===typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=e(a,o))?a[o]=i:delete a[o]);return t.call(r,n,a)}({"":a},""):a}},function(e,t){var r,n,o,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=a[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function c(e,t){var i,a,u,l,f,d=r,p=t[e];switch(p&&"object"===typeof p&&"function"===typeof p.toJSON&&(p=p.toJSON(e)),"function"===typeof o&&(p=o.call(t,e,p)),typeof p){case"string":return s(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(r+=n,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p.length,i=0;i<l;i+=1)f[i]=c(i,p)||"null";return u=0===f.length?"[]":r?"[\n"+r+f.join(",\n"+r)+"\n"+d+"]":"["+f.join(",")+"]",r=d,u}if(o&&"object"===typeof o)for(l=o.length,i=0;i<l;i+=1)"string"===typeof(a=o[i])&&(u=c(a,p))&&f.push(s(a)+(r?": ":":")+u);else for(a in p)Object.prototype.hasOwnProperty.call(p,a)&&(u=c(a,p))&&f.push(s(a)+(r?": ":":")+u);return u=0===f.length?"{}":r?"{\n"+r+f.join(",\n"+r)+"\n"+d+"}":"{"+f.join(",")+"}",r=d,u}}e.exports=function(e,t,i){var a;if(r="",n="","number"===typeof i)for(a=0;a<i;a+=1)n+=" ";else"string"===typeof i&&(n=i);if(o=t,t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return c("",{"":e})}},function(e,t,r){var n,o,i=r(21),a=r(22),s=0,c=0;e.exports=function(e,t,r){var u=t&&r||0,l=t||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,b=h-s+(g-c)/1e4;if(b<0&&void 0===e.clockseq&&(d=d+1&16383),(b<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=g,o=d;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var m=h/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var y=0;y<6;++y)l[u+y]=f[y];return t||a(l)}},function(e,t,r){var n=r(21),o=r(22);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(R){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),a=new T(n||[]);return i._invoke=function(e,t,r){var n=f;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?h:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",g={};function b(){}function v(){}function m(){}var y={};y[i]=function(){return this};var k=Object.getPrototypeOf,w=k&&k(k(A([])));w&&w!==r&&n.call(w,i)&&(y=w);var O=m.prototype=b.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,i,a,s){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function S(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var r=e[i];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=O.constructor=m,m.constructor=v,v.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},j(_.prototype),_.prototype[a]=function(){return this},e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(O),c(O,s,"Generator"),O[i]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=n}catch(o){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){var n,o,i=r(23),a=r(24),s=0,c=0;e.exports=function(e,t,r){var u=t&&r||0,l=t||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,b=h-s+(g-c)/1e4;if(b<0&&void 0===e.clockseq&&(d=d+1&16383),(b<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=g,o=d;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var m=h/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var y=0;y<6;++y)l[u+y]=f[y];return t||a(l)}},function(e,t,r){var n=r(23),o=r(24);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(25))&&n.__esModule?n:{default:n};var i=function(e,t){var r=(0,o.default)(e,t);return r&&"string"===typeof r?r:null};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,o.default)(e,t);return r?new n.default(r):null};var n=i(r(26)),o=i(r(25));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n={"./":9,"./development":15,"./development.js":15,"./index":9,"./index.js":9,"./index.test":29,"./index.test.js":29,"./production":16,"./production.js":16};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=133},function(e,t,r){var n={"./common-redirect/skippyHotelUrls":[39,9,1],"./common-redirect/skippyHotelUrls.js":[39,9,1],"./common-redirect/skippyHotelUrls.test":[64,9,2],"./common-redirect/skippyHotelUrls.test.js":[64,9,2],"./common-utils/iataMappings":[35,3,3],"./common-utils/iataMappings.json":[35,3,3],"./common-utils/util":[38,9,4],"./common-utils/util.js":[38,9,4],"./common-utils/util.test":[65,9,5],"./common-utils/util.test.js":[65,9,5],"./criteo/__snapshots__/criteo.test.js.snap":[137,9,89],"./criteo/criteo":[42,9,6],"./criteo/criteo-props-used":[66,3,7],"./criteo/criteo-props-used.json":[66,3,7],"./criteo/criteo.js":[42,9,6],"./criteo/criteo.md":[138,9,90],"./criteo/criteo.test":[67,9,8],"./criteo/criteo.test.js":[67,9,8],"./email-signup-widget/email-signup-widget":[43,9,9],"./email-signup-widget/email-signup-widget-props-used":[68,3,10],"./email-signup-widget/email-signup-widget-props-used.json":[68,3,10],"./email-signup-widget/email-signup-widget.js":[43,9,9],"./email-signup-widget/email-signup-widget.md":[139,9,91],"./email-signup-widget/email-signup-widget.test":[69,9,11],"./email-signup-widget/email-signup-widget.test.js":[69,9,11],"./facebook-dbook-flights/facebook-dbook-flights":[44,9,12],"./facebook-dbook-flights/facebook-dbook-flights-props-used":[70,3,13],"./facebook-dbook-flights/facebook-dbook-flights-props-used.json":[70,3,13],"./facebook-dbook-flights/facebook-dbook-flights.js":[44,9,12],"./facebook-dbook-flights/facebook-dbook-flights.md":[140,9,92],"./facebook-dbook-flights/facebook-dbook-flights.test":[71,9,14],"./facebook-dbook-flights/facebook-dbook-flights.test.js":[71,9,14],"./facebook-dbook-hotels/facebook-dbook-hotels":[45,9,15],"./facebook-dbook-hotels/facebook-dbook-hotels-props-used":[72,3,16],"./facebook-dbook-hotels/facebook-dbook-hotels-props-used.json":[72,3,16],"./facebook-dbook-hotels/facebook-dbook-hotels.js":[45,9,15],"./facebook-dbook-hotels/facebook-dbook-hotels.md":[141,9,93],"./facebook-dbook-hotels/facebook-dbook-hotels.test":[73,9,17],"./facebook-dbook-hotels/facebook-dbook-hotels.test.js":[73,9,17],"./facebook-search-hotels/facebook-search-hotels":[46,9,19],"./facebook-search-hotels/facebook-search-hotels-props-used":[74,3,20],"./facebook-search-hotels/facebook-search-hotels-props-used.json":[74,3,20],"./facebook-search-hotels/facebook-search-hotels.js":[46,9,19],"./facebook-search-hotels/facebook-search-hotels.md":[142,9,94],"./facebook-search-hotels/facebook-search-hotels.test":[75,9,21],"./facebook-search-hotels/facebook-search-hotels.test.js":[75,9,21],"./facebook-view-hotels/facebook-view-hotels":[47,9,22],"./facebook-view-hotels/facebook-view-hotels-props-used":[76,3,23],"./facebook-view-hotels/facebook-view-hotels-props-used.json":[76,3,23],"./facebook-view-hotels/facebook-view-hotels.js":[47,9,22],"./facebook-view-hotels/facebook-view-hotels.md":[143,9,95],"./facebook-view-hotels/facebook-view-hotels.test":[77,9,24],"./facebook-view-hotels/facebook-view-hotels.test.js":[77,9,24],"./facebook/facebookutils":[36,9,18],"./facebook/facebookutils.js":[36,9,18],"./facebookredirect/facebookredirect":[48,9,25],"./facebookredirect/facebookredirect-props-used":[78,3,26],"./facebookredirect/facebookredirect-props-used.json":[78,3,26],"./facebookredirect/facebookredirect.js":[48,9,25],"./facebookredirect/facebookredirect.md":[144,9,96],"./facebookredirect/facebookredirect.test":[79,9,27],"./facebookredirect/facebookredirect.test.js":[79,9,27],"./facebooksearch/facebooksearch":[49,9,28],"./facebooksearch/facebooksearch-props-used":[80,3,29],"./facebooksearch/facebooksearch-props-used.json":[80,3,29],"./facebooksearch/facebooksearch.js":[49,9,28],"./facebooksearch/facebooksearch.md":[145,9,97],"./facebooksearch/facebooksearch.test":[81,9,30],"./facebooksearch/facebooksearch.test.js":[81,9,30],"./facebookview/facebookview":[50,9,31],"./facebookview/facebookview-props-used":[82,3,32],"./facebookview/facebookview-props-used.json":[82,3,32],"./facebookview/facebookview.js":[50,9,31],"./facebookview/facebookview.md":[146,9,98],"./facebookview/facebookview.test":[83,9,33],"./facebookview/facebookview.test.js":[83,9,33],"./gtag-common/conversion-markets":[84,9,34],"./gtag-common/conversion-markets.js":[84,9,34],"./gtag-common/generic-event-parameters":[40,9,35],"./gtag-common/generic-event-parameters.js":[40,9,35],"./gtag-common/generic-event-parameters.test":[85,9,36],"./gtag-common/generic-event-parameters.test.js":[85,9,36],"./gtag-common/gtag-init":[37,9,37],"./gtag-common/gtag-init.js":[37,9,37],"./gtag-dbook-hotels/gtag-dbook-hotels":[52,9,41],"./gtag-dbook-hotels/gtag-dbook-hotels-props-used":[88,3,42],"./gtag-dbook-hotels/gtag-dbook-hotels-props-used.json":[88,3,42],"./gtag-dbook-hotels/gtag-dbook-hotels.js":[52,9,41],"./gtag-dbook-hotels/gtag-dbook-hotels.md":[148,9,100],"./gtag-dbook-hotels/gtag-dbook-hotels.test":[89,9,43],"./gtag-dbook-hotels/gtag-dbook-hotels.test.js":[89,9,43],"./gtag-dbook/gtag-dbook":[51,9,38],"./gtag-dbook/gtag-dbook-props-used":[86,3,39],"./gtag-dbook/gtag-dbook-props-used.json":[86,3,39],"./gtag-dbook/gtag-dbook.js":[51,9,38],"./gtag-dbook/gtag-dbook.md":[147,9,99],"./gtag-dbook/gtag-dbook.test":[87,9,40],"./gtag-dbook/gtag-dbook.test.js":[87,9,40],"./gtag-hotels-search/gtag-hotels-search":[53,9,44],"./gtag-hotels-search/gtag-hotels-search-props-used":[90,3,45],"./gtag-hotels-search/gtag-hotels-search-props-used.json":[90,3,45],"./gtag-hotels-search/gtag-hotels-search.js":[53,9,44],"./gtag-hotels-search/gtag-hotels-search.md":[149,9,101],"./gtag-hotels-search/gtag-hotels-search.test":[91,9,46],"./gtag-hotels-search/gtag-hotels-search.test.js":[91,9,46],"./gtag-hotels-view/gtag-hotels-view-props-used":[92,3,47],"./gtag-hotels-view/gtag-hotels-view-props-used.json":[92,3,47],"./gtag-redirect/gtag-redirect":[54,9,48],"./gtag-redirect/gtag-redirect-props-used":[93,3,49],"./gtag-redirect/gtag-redirect-props-used.json":[93,3,49],"./gtag-redirect/gtag-redirect.js":[54,9,48],"./gtag-redirect/gtag-redirect.md":[150,9,102],"./gtag-redirect/gtag-redirect.test":[94,9,50],"./gtag-redirect/gtag-redirect.test.js":[94,9,50],"./gtag-search/gtag-search":[55,9,51],"./gtag-search/gtag-search-props-used":[95,3,52],"./gtag-search/gtag-search-props-used.json":[95,3,52],"./gtag-search/gtag-search.js":[55,9,51],"./gtag-search/gtag-search.md":[151,9,103],"./gtag-search/gtag-search.test":[96,9,53],"./gtag-search/gtag-search.test.js":[96,9,53],"./gtag-view/gtag-view":[56,9,54],"./gtag-view/gtag-view-props-used":[97,3,55],"./gtag-view/gtag-view-props-used.json":[97,3,55],"./gtag-view/gtag-view.js":[56,9,54],"./gtag-view/gtag-view.md":[152,9,104],"./gtag-view/gtag-view.test":[98,9,56],"./gtag-view/gtag-view.test.js":[98,9,56],"./logi-bear-s2s-collector/logi-bear-s2s-collector":[57,9,0,57],"./logi-bear-s2s-collector/logi-bear-s2s-collector-props-used":[99,3,58],"./logi-bear-s2s-collector/logi-bear-s2s-collector-props-used.json":[99,3,58],"./logi-bear-s2s-collector/logi-bear-s2s-collector.js":[57,9,0,57],"./logi-bear-s2s-collector/logi-bear-s2s-collector.md":[153,9,105],"./logi-bear-s2s-collector/logi-bear-s2s-collector.test":[100,9,0,81,59],"./logi-bear-s2s-collector/logi-bear-s2s-collector.test.js":[100,9,0,81,59],"./microsoftUetRedirect/microsoftUetRedirect":[102,9,60],"./microsoftUetRedirect/microsoftUetRedirect-props-used":[101,3,61],"./microsoftUetRedirect/microsoftUetRedirect-props-used.json":[101,3,61],"./microsoftUetRedirect/microsoftUetRedirect.js":[102,9,60],"./microsoftUetRedirect/microsoftUetRedirect.md":[154,9,107],"./microsoftUetSearch/microsoftUetSearch":[104,9,62],"./microsoftUetSearch/microsoftUetSearch-props-used":[103,3,63],"./microsoftUetSearch/microsoftUetSearch-props-used.json":[103,3,63],"./microsoftUetSearch/microsoftUetSearch.js":[104,9,62],"./microsoftUetSearch/microsoftUetSearch.md":[155,9,108],"./microsoftUetView/microsoftUetView":[106,9,64],"./microsoftUetView/microsoftUetView-props-used":[105,3,65],"./microsoftUetView/microsoftUetView-props-used.json":[105,3,65],"./microsoftUetView/microsoftUetView.js":[106,9,64],"./microsoftUetView/microsoftUetView.md":[156,9,109],"./perimeterx/perimeterx":[58,9,66],"./perimeterx/perimeterx-props-used":[107,3,67],"./perimeterx/perimeterx-props-used.json":[107,3,67],"./perimeterx/perimeterx.js":[58,9,66],"./perimeterx/perimeterx.md":[157,9,110],"./perimeterx/perimeterx.test":[108,9,68],"./perimeterx/perimeterx.test.js":[108,9,68],"./propwatcher/expected-props":[41,3,69],"./propwatcher/expected-props.json":[41,3,69],"./propwatcher/propwatcher":[59,9,70],"./propwatcher/propwatcher-props-used":[109,3,71],"./propwatcher/propwatcher-props-used.json":[109,3,71],"./propwatcher/propwatcher.js":[59,9,70],"./propwatcher/propwatcher.md":[158,9,111],"./propwatcher/propwatcher.test":[110,9,72],"./propwatcher/propwatcher.test.js":[110,9,72],"./sat-register/optional-extra-docs.md":[161,9,113],"./sat-register/sat-register":[61,9,73],"./sat-register/sat-register-props-used":[113,3,74],"./sat-register/sat-register-props-used.json":[113,3,74],"./sat-register/sat-register.js":[61,9,73],"./sat-register/sat-register.md":[162,9,114],"./sat-register/sat-register.test":[114,9,75],"./sat-register/sat-register.test.js":[114,9,75],"./sat/optional-extra-docs.md":[159,9,112],"./sat/sat":[60,9,76],"./sat/sat-props-used":[111,3,77],"./sat/sat-props-used.json":[111,3,77],"./sat/sat.js":[60,9,76],"./sat/sat.md":[160,9,115],"./sat/sat.test":[112,9,78],"./sat/sat.test.js":[112,9,78],"./usabilla/usabilla":[116,9,82,79],"./usabilla/usabilla-props-used":[115,3,80],"./usabilla/usabilla-props-used.json":[115,3,80],"./usabilla/usabilla.js":[116,9,82,79],"./usabilla/usabilla.md":[163,9,116],"./yahoo-retargeting/yahoo-retargeting":[62,9,83],"./yahoo-retargeting/yahoo-retargeting-props-used":[117,3,84],"./yahoo-retargeting/yahoo-retargeting-props-used.json":[117,3,84],"./yahoo-retargeting/yahoo-retargeting.js":[62,9,83],"./yahoo-retargeting/yahoo-retargeting.md":[164,9,117],"./yahoo-retargeting/yahoo-retargeting.test":[118,9,85],"./yahoo-retargeting/yahoo-retargeting.test.js":[118,9,85],"./yandex-metrica/__snapshots__/yandex-metrica.test.js.snap":[165,9,118],"./yandex-metrica/yandex-metrica":[63,9,86],"./yandex-metrica/yandex-metrica-props-used":[119,3,87],"./yandex-metrica/yandex-metrica-props-used.json":[119,3,87],"./yandex-metrica/yandex-metrica.js":[63,9,86],"./yandex-metrica/yandex-metrica.md":[166,9,119],"./yandex-metrica/yandex-metrica.test":[120,9,88],"./yandex-metrica/yandex-metrica.test.js":[120,9,88]};function o(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(2).map(r.e)).then((function(){return r.t(o,t[1])}))}o.keys=function(){return Object.keys(n)},o.id=134,e.exports=o},function(e,t,r){r.p="".concat(window.TAG_MANAGER_PROPS.staticPath,"build/")},function(e,t,r){"use strict";r.r(t);var n=r(30),o=r.n(n),i=r(31),a=r.n(i),s=r(6),c=r(3),u=r(1);r(10);s.a.init();var l=u.GLOBAL.getWindow()||{};l.__skyOCsLoadedScripts=l.__skyOCsLoadedScripts||{};var f=u.GLOBAL.getWindow()||{};f.sky__OCs||(f.sky__OCs={components:Object.create(null),waiting:Object.create(null)});var d,p,h=f.sky__OCs,g=h.waiting,b=h.components,v=function(e,t,r){return o()("".concat(e).concat(t).concat(a()(r)))},m=function(e){var t=e.name,r=e.version,n=e.params,o=void 0===n?{}:n,i=e.componentDefinition,a=e.hydrate,c=e.props;delete o.clientOnly,delete o.SSR;var u=v(t,r,o);return b[u]?!!g[u]&&(g[u].resolve({componentDefinition:i,hydrate:a,props:c}),s.a.publish("component-registered",{name:t,version:r,params:o}),s.a.publish("component-registered-".concat(u),{name:t,version:r,params:o}),delete g[u],!0):(b[u]=Promise.resolve({componentDefinition:i,hydrate:a,props:c}),s.a.publish("component-registered",{name:t,version:r,params:o}),s.a.publish("component-registered-".concat(u),{name:t,version:r,params:o}),!0)},y=r(0),k=r.n(y),w=r(2),O=r(13),j=r(12),_=function(e,t){return Object(j.c)({component:"tag-manager",page:e.page,message:t})},S=function(e,t,r){return Object(j.b)({component:"tag-manager",page:e.page,message:r,error:"".concat(t.stack||t)})},E=r(7),x=r(8),T=function(e){return new x.MultiValueCookie(e)},A=function(e){return new x.SingleValueCookie(e)},I=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","UK","NO","LI","IS"],R=Object.freeze({OPTIN:"optin",INFORMATION:"information",ADVERTS:"adverts",VERSION:"version"}),P="gdpr",N="init",C=!1,L=!0,V="isGdprActiveInMarket",U=function(e){return"true"===(e||"")},D=function(e){return parseInt(e.getValue(R.VERSION),10)||0},M=function(e){return!e||I.indexOf((e||"").toUpperCase())>=0},B=function(e){return M(e)?C:L},F=function(e,t){return Object(c.a)(Object(c.a)({},t),{},Object(E.a)({},V,M(e)))},G=function(){var e=u.GLOBAL.getWindow();e.Sb&&e.Sb.trackingPreferences&&e.Sb.trackingPreferences.initialLoad&&delete e.Sb.trackingPreferences.initialLoad},W=Object.freeze((d={},Object(E.a)(d,R.INFORMATION,L),Object(E.a)(d,R.ADVERTS,L),Object(E.a)(d,R.VERSION,2),d)),J=Object.freeze((p={},Object(E.a)(p,R.INFORMATION,C),Object(E.a)(p,R.ADVERTS,C),Object(E.a)(p,R.VERSION,2),p)),q=function(e,t){t?(e.setValue(N,!0),e.store(null,{secure:!1})):(e.deleteValue(N),e.store(730,{secure:!1}),G())},H=function(){return(A(P).getValue()||"").indexOf("".concat(N,":::true"))>=0},K=function(){var e=u.GLOBAL.getWindow(),t=e.Sb&&e.Sb.trackingPreferences&&e.Sb.trackingPreferences.initialLoad,r=H();return t||r},$=function(e,t){if(!Object(x.cookieExists)(P))return F(e,t);var r=T(P);return D(r)<2?F(e,t):(function(e){U(e.getValue(N))&&q(e,!1)}(r),function(e,t){var r,n=e.getValue(R.INFORMATION),o=null!=n?U(n):B(t),i=e.getValue(R.ADVERTS),a=null!=i?U(i):B(t);return r={},Object(E.a)(r,R.INFORMATION,o),Object(E.a)(r,R.ADVERTS,a),Object(E.a)(r,R.VERSION,D(e)),Object(E.a)(r,V,M(t)),r}(r,e))},z=function(e){if(!e)throw new Error("Market should be provided to get tracking preferences");return M(e)?function(e){var t;return K()||H()?(t={},Object(E.a)(t,R.INFORMATION,C),Object(E.a)(t,R.ADVERTS,C),Object(E.a)(t,R.VERSION,2),Object(E.a)(t,V,M(e)),t):$(e,J)}(e):function(e){return $(e,W)}(e)},Y=function(){var e=Object(w.a)(k.a.mark((function e(t,n,o,i){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(134)("./".concat(t,"/").concat(t));case 2:a=e.sent,(0,a.default)(Object(c.a)(Object(c.a)({},n),o),i);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),Z=function(e){return 3===(e||"").length?e:void 0},X=function(e){return{originIata:Z(e.originIata)||Z(e.originAirport)||Z(e.originId)||Z(e.originCityId),destinationIata:Z(e.destinationIata)||Z(e.destinationAirport)||Z(e.destinationId)||Z(e.destinationCityId)}},Q=r(19),ee=new O.a("public","js-tag-manager"),te=function(e){var t=Object(c.a)({},e);return Object.keys(t).forEach((function(e){"boolean"!==typeof t[e]&&(t[e]=void 0)})),t},re=function(e){var t=Object(c.a)({},e);return["consentInformation","consentAdverts","isApp"].forEach((function(e){"boolean"!==typeof t[e]&&(t[e]=void 0)})),t},ne=function(e,t,r){var n,o,i=function(e,t){return[re(e),te(t)]}(e,t),a=Object(Q.a)(i,2),s=a[0],c=a[1];return"essential"===r?o=!0:!1!==s.isApp?"information"===r?"boolean"===typeof s.consentInformation?(n=!0,o=s.consentInformation):(n=!1,o=c[r]):"adverts"===r&&("boolean"===typeof s.consentAdverts?(n=!0,o=s.consentAdverts):(n=!1,o=c[r])):!1===s.isApp&&(o="boolean"===typeof c[r]&&c[r],n=!1),"skippy"===s.pagetype&&ee.track("sandbox.JsTagManagerIsApp",{isApp:s.isApp,has_override:n}),!0===o},oe=new O.a("public","js-tag-manager"),ie=function(e){var t=Object(c.a)({},e);return delete t.dynamics,t},ae=function(){var e=Object(w.a)(k.a.mark((function e(t){var r,n,o,i,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dynamics,n=z(t.market),o=X(t),i=0,e.next=6,Promise.all(r.map(function(){var e=Object(w.a)(k.a.mark((function e(r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.triedToLoad||!ne(t,n,r.category)){e.next=12;break}return e.prev=1,r.triedToLoad=!0,i+=1,e.next=6,Y(r.name,ie(t),o,u.injectScript);case 6:return e.abrupt("return",{tag:r.name,category:r.category,page:t.pagetype});case 9:e.prev=9,e.t0=e.catch(1),S(t,e.t0,"Failed to inject '".concat(r.name,"' tag"));case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));case 6:a=e.sent,(c=a.filter((function(e){return!!e}))).length>0&&oe.trackBatch("js_tag_manager.TagLaunches",c),i?s.a.publish("tags-loaded"):_(t,"loadTags did not try to load any tags (received ".concat(r.length," dynamic tags)"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(w.a)(k.a.mark((function e(t,r,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,clearTimeout(n),e.next=6,ae(r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),S(r,e.t0,"Failed to load tags");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r,n){return e.apply(this,arguments)}}(),ce=new O.a("public","js-tag-manager"),ue=function(e){var t=Object(c.a)({},e),r=u.GLOBAL.getWindow();r.__tagmanagerProps=t,"skippy"===t.pagetype&&t.skippyUrl.indexOf("&facilitated=true")&&500===r.context.redirect_delay&&(t.pagetype="dbook-skippy"),ce.track("js_tag_manager.JsTagManagerLaunches",{page:t.pagetype});var n=setTimeout((function(){_(t,"loadTags was not called within ".concat(5e3,"ms of launching tag manager"))}),5e3),o=!1;return s.a.subscribe("tracking-preferences-changed",Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(o,t,n);case 2:case"end":return e.stop()}}),e)})))),Object(u.addLoadEventHandler)(Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!0,e.next=3,se(o,t,n);case 3:case"end":return e.stop()}}),e)})))),null},le=(r(135),window.TAG_MANAGER_PROPS);m({name:"js-tag-manager",version:le.version,componentDefinition:ue,props:{dynamics:le.dynamics,pagetype:le.pagetype}})}]);
//# sourceMappingURL=main.42bdb631.js.map