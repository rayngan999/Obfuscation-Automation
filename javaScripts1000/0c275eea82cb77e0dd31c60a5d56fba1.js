var prepareDatepickers=function(){var a=Array.prototype.slice.call(document.querySelectorAll("input[id^='popup-subcription-inputs-'][type=date]"));a.forEach(function(g,b){if(g.getAttribute("data-bronto-default")=="1"){g.value="text";if(g.value!=="text"){format="yyyy-mm-dd";}else{format=g.getAttribute("placeholder");}var d=new Date(),c=format.match(/\-/)?"-":"/",f=format.split(c);for(var e=0;e<f.length;e++){if(f[e]=="dd"){f[e]=d.getUTCDate();}else{if(f[e]=="mm"){f[e]=d.getUTCMonth()+1;}else{f[e]=d.getUTCFullYear();}}f[e]=f[e]<10?"0"+f[e]:f[e];}g.value=f.join(c);}else{g.value="";}});};(function(){window.__isBrontoPopupVisible=false;window.__deliveredBrontoPopups={};q();var f="always-preview";var d="bronto-popup-id";var a=d.replace(/\-/g,"");var m="DO_NOT_DISPLAY";var n="DISPLAY_POPUP_FIRST";var o="DISPLAY_RIBBON_FIRST";var p="RIBBON_CLICK";var i=function(t,s){this.gather=function(w,y,A){var v=t+"/"+(s?s+"/":"")+w;switch(y){case"javascript":var u=false;var x=document.createElement("script");
x&&x.setAttribute("type","text/javascript");x.onload=x.onreadystatechange=function(){if(!u&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){u=true;x.onload=x.onreadystatechange=null;if(A){A(x);}document.body.removeChild(x);}};x.onerror=function(){if(A){A(new Error("Failed to load js: "+v));}x.onerror=null;};x&&x.setAttribute("src",v);document.body.appendChild(x);break;case"image":var z=new Image();z.onload=function(){if(A){A(z);}z.onload=null;};z.onerror=function(){if(A){A(new Error("Failed to load image: "+v));}z.onerror=null;};z.src=v;break;default:A(new Error("Resource with name "+w+" is not valid."));}};};var b=(function(){var s=document.querySelectorAll("script");for(var u=0;u<s.length;u++){var t=s[u];if(t.hasAttribute&&(t.hasAttribute(d)||t.hasAttribute(a))){return t;}}})();if(b){var j=b.src.split("/").slice(0,-1).join("/");}var h="";var l=function(t,u,s){if(window.gtag){window.gtag("event",u,{event_category:t,event_label:s});}else{if(window.ga){window.ga("send","event",t,u,s);
}}if(Array.isArray(window.dataLayer)){window.dataLayer.push({event:"BrontoPopUps",BrontoPopUps:{eventCategory:t,eventAction:u,eventLabel:s}});}};var c=function(v,u,s){var t=s||{};t.type=u;return{data:function(){var w={splitTest:v.getConfig().splitTest,displayType:v.getConfig().deployType,versionId:v.getGuid(),accountId:v.getPopupGuid(),path:window.location.pathname,query:window.location.search,screenWidth:screen.width,screenHeight:screen.height,domain:v.getConfig().domain};for(var x in t){w[x]=t[x];}return w;},send:function(A){var z=[],x=this.data(),y=new Image();for(var w in x){z.push(encodeURIComponent(w)+"="+encodeURIComponent(x[w]));}if(A){y.onload=A.bind(this);}}};};var k=function(y,F,D){var C=this;this.addEventListener=function(P,Q){document.addEventListener(P+D,Q,false);};this.removeEventListener=function(P,Q){document.removeEventListener(P+D,Q,false);};this.dispatchEvent=function(R,S){if(R instanceof CustomEvent){S=R.detail;R=R.type;}var P=new CustomEvent(R,{detail:S});P.deliveryId=D;
document.dispatchEvent(P);var Q=new CustomEvent(R+D,{detail:S});document.dispatchEvent(Q);};var z=true;var G=false;var I="";var J={};var L={};var B={};var w={"bronto:popup-created":function(P){new c(C,"viewed").send();},"bronto:popup-submitted":function(R){var P={email:R.detail.email};new c(C,"submitted",P).send();if(document.querySelector(".ribbon-close")){var S=document.querySelector(".ribbon-close");if(S.onclick){S.onclick();}else{if(S.click){S.click();}}}else{var Q=H(h);Q.ribbonDisplayMode=m;}}};var x=function(Q){if(Q.match(/^www\./)){Q=Q.replace(/^www\./,"");}var P=new RegExp(".*"+Q.replace(/\./g,"\\.")+".*$");return P.test(document.domain);};var A=function(S,P){var R=/\*$/;if(R.test(S)){var Q=new RegExp(S.replace("*",".+"));return(Q.test(P));}else{return(S==P);}};var s=function(P){if(!x(P.popup.domain||P)){return false;}if(L.popup.deployType!=="mobile"&&L.popup.deployType!=="exitMobile"){L.popup.excludeDeviceWidth=L.popup.excludeDeviceWidth||L.popup.maxMobileWidth;L.popup.maxMobileHeight=L.popup.maxMobileHeight||600;
if(!document.querySelector("["+f+"]")&&(!matchMedia("(min-width: "+(L.popup.excludeDeviceWidth+1)+"px)").matches||!matchMedia("(min-height: "+(L.popup.maxMobileHeight+1)+"px)").matches)){return false;}}if(!P.popup.lazyPathEval&&!C.validatePath(window.location.pathname+window.location.search+window.location.hash)){return false;}return true;};var u=function(T){var P=[];var S={};for(var Q=0;Q<T.length;Q++){var R=T[Q];if(!S[R.name]){S[R.name]={};P.push(R);}}return P;};var E=function(Q){var P=Q.detail.popup;if(typeof bronto!=="undefined"&&typeof bronto.EmailInput!=="undefined"){P.getConfig().withElementForEventOfType("inputs","email",function(S){var R=new bronto.EmailInput({selector:"#"+S.dom.getAttribute("id")},bronto.jQuery);R.observe();});}};var H=function(Q,S){L.maxMobileHeight=L.maxMobileHeight||600;var T=L.maxMobileHeight;var R=matchMedia("(min-width: "+L.maxMobileWidth+"px)").matches;var P=matchMedia("(min-height: "+L.maxMobileHeight+"px)").matches;if(!document.querySelector("["+f+"]")&&(!matchMedia("(min-width: "+(L.maxMobileWidth+1)+"px)").matches||!matchMedia("(min-height: "+(L.maxMobileHeight+1)+"px)").matches)){return S==="exitIntent"?Q.exitMobile:Q.mobile;
}return S==="exitIntent"?Q.exitDesktop:Q.desktop;};var O=function(P){M(H(h),p);};var M=function(R,P){if(!R){return;}I=R.popupVersionId||R.versionId;var Q=u(R.resources||[]);var U="popup";if(!G&&R.ribbonDisplayMode&&R.ribbonDisplayMode===o&&!document.querySelector(".ribbon-dialog")){U="ribbon";}Q.push({name:U+".js",type:"javascript"});var T=0;for(var S=0;S<Q.length;S++){(function(V){new i(y,C.getPopupGuid()+"/"+I).gather(V.name,V.type,function(Y){T++;if(Y instanceof Error){B[V.name]=Y;}else{V.data=Y;J[V.name]=V;}if(T==Q.length){C.popupOrigin=P;var X="popup"==I?"/*generate-guid*/":I;var W=new CustomEvent("bronto:"+U+"-delivered-"+X,{detail:C});document.dispatchEvent(W);}});})(Q[S]);}};var v=function(S,P){if(!S){return;}I=S.popupVersionId||S.versionId;var V="popup";if(!G&&S.ribbonDisplayMode&&S.ribbonDisplayMode===o&&!document.querySelector(".ribbon-dialog")){V="ribbon";}var U=0;var R=L[V]||{};var Q=u(R.resources||[]);for(var T=0;T<Q.length;T++){(function(W){new i(y,C.getPopupGuid()+"/"+I).gather(W.name,W.type,function(Z){U++;
if(Z instanceof Error){B[W.name]=Z;}else{W.data=Z;J[W.name]=W;}if(U==Q.length){C.popupOrigin=P;var Y="popup"==I?"/*generate-guid*/":I;var X=new CustomEvent("bronto:"+V+"-delivered-"+Y,{detail:C});document.dispatchEvent(X);}});})(Q[T]);}};var t=function(){var P=Math.floor(Math.random()*L.versions.length);L.popup={splitTest:L.versions.length>1?"true":"false",formId:L.formId,domain:L.domain,lazyPathEval:L.versions[P].lazyPathEval||false,excludes:L.versions[P].excludes,includes:L.versions[P].includes,resources:L.versions[P].resources,deployType:"desktop",excludeDeviceWidth:L.versions[P].excludeDeviceWidth};L.popup.resources.push({name:"popup.js",type:"javascript"});if(s(L)){v(L.versions[P]);}};var K=function(R){var Q=["primary"];if(L.containers.secondary){Q.push("secondary");}var S=Math.floor(Math.random()*Q.length);h=L.containers[Q[S]];if(x(L.domain)){var P=H(h,R);if(P){L.popup={splitTest:L.containers.secondary?"true":"false",formId:L.formId,domain:L.domain,preview:L.preview,maxMobileWidth:L.maxMobileWidth,maxMobileHeight:L.maxMobileHeight,lazyPathEval:P.lazyPathEval||false,excludes:P.excludes,includes:P.includes,resources:P.resources,deployType:P.deployType};
if(P.ribbonDisplayMode&&P.ribbonDisplayMode!==m){L.ribbon={splitTest:L.containers.secondary?"true":"false",formId:L.formId,domain:L.domain,preview:L.preview,maxMobileWidth:L.maxMobileWidth,maxMobileHeight:L.maxMobileHeight,lazyPathEval:P.lazyPathEval||false,excludes:L.popup.excludes,includes:L.popup.includes,resources:P.ribbonResources,deployType:P.deployType};L.ribbon.resources.push({name:"ribbon.js",type:"javascript"});}L.popup.resources.push({name:"popup.js",type:"javascript"});if(s(L)){v(P);}}}};this.loadPopupResources=function(S){var V=function(W){document.removeEventListener("bronto:popup-config",V,false);L=JSON.parse(JSON.stringify(W.detail||L));if(document.querySelector(".popup-dialog")){return false;}if(!L.popupId||L.popupId==F){if(L.versions){t();}else{K(S);}}};document.addEventListener("bronto:popup-config",V,false);C.addEventListener("bronto:popup-created",E);for(var Q in w){C.addEventListener(Q,w[Q]);}C.addEventListener("bronto:popup-closed",N);C.addEventListener("bronto:popup-created",function R(ab){C.removeEventListener("bronto:popup-created",R);
if(!L.googleAnalytics){return;}var W=ab.detail.popup;if(W.getViews()===1){var Y=W.isExitIntent()?"Exit Intent":"Pop-ups";var ac=W.isDesktop()?"Desktop":"Mobile";var Z="Bronto "+Y+" - "+ac;var aa="Views";var X=W.getName();l(Z,aa,X);}});C.addEventListener("bronto:popup-submitted",function U(ab){C.removeEventListener("bronto:popup-submitted",U);if(!L.googleAnalytics){return;}var W=ab.detail.popup;var Y=W.isExitIntent()?"Exit Intent":"Pop-ups";var ac=W.isDesktop()?"Desktop":"Mobile";var Z="Bronto "+Y+" - "+ac;var aa="Submissions";var X=W.getName();l(Z,aa,X);});if(S!=="exitIntent"){document.addEventListener("bronto:ribbon-clicked",O);document.addEventListener("bronto:ribbon-created",function T(Z){document.removeEventListener("bronto:ribbon-created",T);if(!L.googleAnalytics){return;}var aa=Z.detail.ribbon;if(aa.getViews()===1){var ab=aa.isDesktop()?"Desktop":"Mobile";var X="Bronto Ribbon - "+ab;var Y="Views";var W="Dynamic Ribbon";l(X,Y,W);}});document.addEventListener("bronto:ribbon-clicked",function P(Z){document.removeEventListener("bronto:ribbon-clicked",P);
if(!L.googleAnalytics){return;}var aa=Z.detail.ribbon;var ab=aa.isDesktop()?"Desktop":"Mobile";var X="Bronto Ribbon - "+ab;var Y="Clicks";var W="Dynamic Ribbon";l(X,Y,W);});}};this.getHost=function(){return y;};this.getPopupGuid=function(){return F;};this.getGuid=function(){return I;};this.getFormId=function(){return L.popup.formId;};this.getResources=function(){return J;};this.getResource=function(P){return J[P]?J[P]:{};};this.getConfig=function(){return L.popup;};this.getErrors=function(){return B;};this.hasErrors=function(){for(var P in B){return true;}return false;};this.validatePath=function(P){if(!P){P=window.location.pathname+window.location.search+window.location.hash;}if(L.popup.includes&&L.popup.includes.length>0){var R=false;for(var Q=0;Q<L.popup.includes.length;Q++){if(A(L.popup.includes[Q],P)){R=true;break;}}if(!R){return false;}}for(var Q=0;Q<L.popup.excludes.length;Q++){if(A(L.popup.excludes[Q],P)){return false;}}return true;};var N=function(S){window.__isBrontoPopupVisible=false;
if(document.querySelector(".ribbon-dialog")){return false;}var Q=S.detail;var R=Q.getConfig().getConfig();if(R.ribbonDisplayMode===n){var P=H(h);P.ribbonDisplayMode=o;C.useTriggerCriteria=false;v(P);}};};var g=function(t){var v=t.src.split("/").slice(0,-1).join("/");var u=function(A){var y=0;var w=["polyfills.js"];for(var z=0,x;(x=w[z]);z++){(function(B){new i(v).gather(B,"javascript",function(){y++;if(y==w.length){A();}});})(x);}};var s=function(){window.__isBrontoPopupVisible=false;window.__deliveredBrontoPopups={};var x=t.getAttribute(d),y=x?x.split(/\s+/g):[];if(x){for(var w=0;w<y.length;w++){new k(v,y[w],1).loadPopupResources();new k(v,y[w],2).loadPopupResources("exitIntent");new i(v,y[w]).gather("config.js","javascript");}}};u(function(){document.dispatchEvent(new CustomEvent("bronto:polyfills"));document.addEventListener("bronto:load-popup",s,false);s();});};var r=function(t,s,u){if(t.addEventListener){t.addEventListener(s,u,false);}else{if(t.attachEvent){t.attachEvent("on"+s,u);
}}};var e=function(){if(b){return new g(b);}};if(document.readyState==="complete"){e();}else{r(window,"load",e);}function q(){var s=document.createElement("style");s.type="text/css";s.innerHTML=".ribbon-dialog { z-index: 1000000; }";var t=document.getElementsByTagName("head")[0];if(t){t.appendChild(s);}}})();