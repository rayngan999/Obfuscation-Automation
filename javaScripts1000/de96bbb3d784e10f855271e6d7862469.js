define("utilities/consumer/helpers/helpers-text-inputs/1.0.0/js/helpers-text-inputs",["module","utilities/vendor/handlebars/4.7.6/js/handlebars"],function(module,_handlebars){"use strict";var _handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}"use strict";var mobileTypeObjectKey="mobile";var androidTypeObjectKey="android";var defaultTypeObjectKey="default";var requiredAttrs=["id"];var combinableAttrs=["class","value"];function checkForRequiredAttributes(attributes,required){return required.every(function(key){return Object.prototype.hasOwnProperty.call(attributes,key)})}function parseViewportDependentAttribute(attribute){var defaultAttr="";var mobileAttr="";var androidAttr="";if(typeof attribute==="string"){defaultAttr=attribute;mobileAttr=attribute;androidAttr=attribute}else{if(typeof attribute[mobileTypeObjectKey]!=="undefined"){mobileAttr=attribute[mobileTypeObjectKey]}if(typeof attribute[androidTypeObjectKey]!=="undefined"){androidAttr=attribute[androidTypeObjectKey]}if(typeof attribute[defaultTypeObjectKey]!=="undefined"){defaultAttr=attribute[defaultTypeObjectKey]}}return{defaultAttr:defaultAttr,mobileAttr:mobileAttr,androidAttr:androidAttr}}function formatTextInput(data,defaultInputAttributes){var defaultAttrs=JSON.parse(JSON.stringify(defaultInputAttributes));var inputData=JSON.parse(JSON.stringify(data));var applyGISMask=inputData.input["gis-mask"];var applyDatepicker=inputData.input.datepicker;if(typeof applyGISMask!=="undefined"){defaultAttrs.input.attrs.class+=" gis-mask";inputData.input.attrs["data-field-type"]=applyGISMask}if(typeof applyDatepicker!=="undefined"&&applyDatepicker){defaultAttrs.input.attrs.class+=" datepicker"}combinableAttrs.forEach(function(attr){if(typeof defaultAttrs.input.attrs[attr]!=="undefined"&&typeof inputData.input.attrs[attr]!=="undefined"){if(typeof inputData.input.attrs[attr]!=="undefined"&&attr==="value"){inputData.input.attrs[attr]=""+inputData.input.attrs[attr]+defaultAttrs.input.attrs[attr]}else if(inputData.input.attrs[attr]){inputData.input.attrs[attr]=inputData.input.attrs[attr]+" "+defaultAttrs.input.attrs[attr]}}});var maskOptions=Object.assign({},inputData.input.attrs["data-sparta-input-mask"]);var maskDefaults=Object.assign({},defaultAttrs.input.attrs["data-sparta-input-mask"]);var mask=Object.assign({},maskDefaults,maskOptions);var inputAttributes=Object.assign({},defaultAttrs.input.attrs,inputData.input.attrs,{"data-sparta-input-mask":mask});var reservedAttrs=["type","pattern","data-help-link","data-help-head","data-help-body"];var format=inputData.input.format;var validationRules=inputData.validationRules;var attrsStr=[];var helpToggle=inputData.helpToggle?inputData.helpToggle:inputData.label.text;if(!checkForRequiredAttributes(inputData.input.attrs,requiredAttrs)){throw new Error("You are missing one of the following required attributes:  "+requiredAttrs.join(", "))}var defaultFormatAttributes={};if(format){defaultFormatAttributes["data-sparta-input-format"]=format}var formatAttributes={name:{autocorrect:"off",autocomplete:"name"},phone:{autocomplete:"tel",autocorrect:"off","data-sparta-input-mask":{alias:"phone",mask:"999-999-9999",jitMasking:false,greedy:true,placeholder:"_"}},"phone-extended":{autocomplete:"tel",autocorrect:"off","data-sparta-input-mask":{alias:"phone",mask:"999-999-9999[ x9{1,4}]",jitMasking:false,greedy:true,placeholder:"_"}},email:{autocorrect:"off",autocapitalize:"off",autocomplete:"email"},"street-address":{autocomplete:"street-address"},address:{autocomplete:"address-line1"},"address-2":{autocomplete:"address-line2"},city:{autocomplete:"address-level2"},state:{autocomplete:"address-level1"},zip:{autocomplete:"postal-code",pattern:"[0-9]*",inputmode:"numeric",novalidate:true,autocorrect:"off","data-sparta-input-mask":{mask:"99999"}},"zip-extended":{type:"text",autocomplete:"postal-code",pattern:"[0-9]*",inputmode:"numeric",novalidate:true,autocorrect:"off","data-sparta-input-mask":{mask:"99999[-9999]"}},"cc-number":{autocomplete:"cc-number",inputmode:"numeric",pattern:"[0-9]*",novalidate:true,autocorrect:"off","data-sparta-input-mask":{mask:"9999 9999 9999 9999"}},"cc-csc":{autocomplete:"cc-csc",inputmode:"numeric",pattern:"[0-9]*",novalidate:true,autocorrect:"off","data-sparta-input-mask":{mask:"9{3,4}"}},ssn:{pattern:"[0-9]*",novalidate:true,"data-sparta-input-mask":{mask:"999-99-9999",jitMasking:false,greedy:true,placeholder:"_"}},vin:{"data-sparta-input-mask":{alias:"vin"}},"external-account":{pattern:"[0-9]*",novalidate:true,"data-sparta-input-mask":{alias:"numeric",groupSeparator:"",autoGroup:false,digits:0,rightAlign:false}},"internal-account":{pattern:"[0-9]*",novalidate:true,"data-sparta-input-mask":{alias:"numeric",groupSeparator:"",autoGroup:false,digits:0,rightAlign:false}},date:{inputmode:"numeric",novalidate:true,autocorrect:"off",pattern:"[0-9]*","data-sparta-input-mask":{alias:"mm/dd/yyyy",jitMasking:true,greedy:false,placeholder:""}},number:{novalidate:true,"data-sparta-input-mask":{alias:"numeric",groupSeparator:",",autoGroup:true,digitsOptional:true,decimalProtect:true,rightAlign:false,digits:0,placeholder:""}},currency:{novalidate:true,"data-sparta-input-mask":{alias:"currency",prefix:"",allowMinus:true,rightAlign:false,digitsOptional:true,digits:2}},percentage:{novalidate:true,"data-sparta-input-mask":{showMaskOnFocus:true,alias:"percentage",allowMinus:true,digitsOptional:true}},"interest-rate":{novalidate:true,"data-sparta-input-mask":{showMaskOnFocus:true,alias:"percentage",digits:2,digitsOptional:true,rightAlign:false}}};var inputMaskDefaults={greedy:true,placeholder:"",clearMaskOnLostFocus:true,showMaskOnHover:false,showMaskOnFocus:true,keepStatic:true,jitMasking:true,showTooltip:false,inputEventOnly:true};var maskAttributes=Object.assign({},defaultFormatAttributes["data-sparta-input-mask"],formatAttributes[format]?formatAttributes[format]["data-sparta-input-mask"]:{},mask);var attributes=Object.assign({},defaultFormatAttributes,formatAttributes[format]?formatAttributes[format]:{},inputAttributes,{"data-sparta-input-mask":maskAttributes});var defaultInputType="";var mobileInputType="";var androidInputType="";var defaultPattern="";var mobilePattern="";reservedAttrs.forEach(function(key){if(attributes[key]){var attrs=void 0;switch(key){case"type":attrs=parseViewportDependentAttribute(attributes[key]);defaultInputType=attrs.defaultAttr;mobileInputType=attrs.mobileAttr;androidInputType=attrs.androidAttr;break;case"pattern":attrs=parseViewportDependentAttribute(attributes[key]);defaultPattern=attrs.defaultAttr;mobilePattern=attrs.mobileAttr;break;default:break;}attributes[key]=undefined}});Object.keys(attributes).forEach(function(key){if(typeof attributes[key]!=="undefined"){if(typeof attributes[key]!=="string"&&!(attributes[key]instanceof RegExp)){attrsStr.push(key+"='"+(key==="data-sparta-input-mask"?JSON.stringify(Object.assign({},inputMaskDefaults,attributes[key])):JSON.stringify(attributes[key]))+"'")}else if(attributes[key]!==""){attrsStr.push(key+"=\""+attributes[key]+"\"")}}});var inputHelpTrigger="";var inputHelpContainerOpen="";var inputHelpContainerClose="";var inputHelpClose="";var inputHelpBody="";var inputContainerOpen="<div class=\"\n    spa-input spa-input-box spa-input--"+(inputData.skin?inputData.skin:"sparta2")+"\n    "+(inputData.containerClasses?" "+inputData.containerClasses.join(" "):"")+"\n    "+(inputData.input.attrs["data-help-body"]?" has-help":"")+"\n  \">";var inputContainerClose="</div>";var inputLabelRequiredSpan=function inputLabelRequiredSpan(required,asterisk){if(required&&asterisk===false){return"<span class='spa-input-label--required'></span>"}if(required){return"<span class='spa-input-label--required'> *</span>"}return""};var inputLabel="<label class=\"spa-input-label\" data-font=\"cnx-medium\" for=\""+inputData.input.attrs.id+"\">\n    "+inputData.label.text+"\n    "+inputLabelRequiredSpan(inputData.required,inputData.asterisk)+"\n    <span class='ada-hidden'>\n      "+(inputData.label.adaText?inputData.label.adaText:"")+"\n    </span>\n  </label>";var inputField="<input type=\""+(defaultInputType||"text")+"\""+(""+(defaultPattern?"pattern=\""+defaultPattern+"\"":""))+(""+(mobileInputType?" data-mobile-input-type=\""+mobileInputType+"\" data-default-input-type=\""+defaultInputType+"\"":""))+(""+(androidInputType?" data-android-input-type=\""+androidInputType+"\"":""))+(""+(typeof mobilePattern!=="undefined"?" data-mobile-pattern=\""+mobilePattern+"\" data-default-pattern=\""+defaultPattern+"\"":""))+(""+attrsStr.join(" "))+(""+(validationRules?" data-validation-rules='"+JSON.stringify(validationRules).replace(/'/g,"&#39;")+"'":""))+(""+(inputData.required?" required aria-required=\"true\" "+(typeof inputData.required==="string"?"data-required-error-message=\""+inputData.required+"\"":""):""))+(""+(inputData.disabled?" disabled aria-disabled=\"true\"":""))+(""+(inputData.input.attrs["data-help-body"]?" aria-describedby=\"helpLayer_"+inputData.input.attrs.id+"\"":""))+"/>";if(inputData.currency){inputField="<span class=\"spa-input-prefix--currency\">"+inputData.currency+"</span>"+inputField}var inputHint="<p class=\"spa-input-hint\">"+(inputData.hintText?inputData.hintText:"")+"</p>";var inputError="<div class=\"spa-input-error-message spa-icon--error\" id=\""+inputData.input.attrs.id+"_errorMessage\" aria-hidden=\"true\"></div>";if(inputData.input.attrs["data-help-body"]){var triggerText=inputData.input.attrs["data-help-link"]||"";var triggerClass=triggerText?"toggle-trigger-link":"toggle-trigger svg-button";inputHelpTrigger="<a href=\"javascript: void(0);\" id=\"help-open-"+inputData.input.attrs.id+"\" role=\"button\" aria-label=\""+helpToggle+"\" class=\""+triggerClass+"\">"+(triggerText||"&#160;")+"</a>";if(!triggerText){inputHelpTrigger="<span class=\"toggle-trigger-box\">"+inputHelpTrigger+"</span>"}if(inputData.input.helpTriggerLink){inputHelpTrigger=inputData.input.helpTriggerLink}inputHelpContainerOpen="<div class=\"input-help\" id=\"helpLayer_"+inputData.input.attrs.id+"\" role=\"tooltip\" aria-hidden=\"true\">";inputHelpContainerClose="</div>";inputHelpClose="<a href=\"javascript:void(0)\" id=\"help-close-"+inputData.input.attrs.id+"\" role=\"button\" aria-label=\""+helpToggle+"\" class=\"close-trigger svg-button\">&#160;</a>";inputHelpBody="<div class=\"body\">"+inputData.input.attrs["data-help-body"]+"</div>";if(inputData.input.attrs["data-help-head"]){inputHelpBody="<div class=\"head\" data-font=\"cnx-bold\">"+(""+inputData.input.attrs["data-help-head"])+"</div>"+(""+inputHelpBody)}}var inputElement=""+inputContainerOpen+(""+inputLabel)+(""+inputField)+(""+inputHelpTrigger)+(""+inputHint)+(""+inputHelpContainerOpen)+(""+inputHelpClose)+(""+inputHelpBody)+(""+inputHelpContainerClose)+(""+inputError)+(""+inputContainerClose);return new _handlebars2.default.SafeString(inputElement)}var defaultInputType="text";var defaultAttributes={type:defaultInputType,class:"spa-input-text",value:"","data-gis-mask":false,"data-help-link":"","data-help-head":"","data-help-body":""};var InputConfig=function InputConfig(options){_classCallCheck(this,InputConfig);var attrs=Object.assign({},defaultAttributes,options);this.input={attrs:attrs}};var textInputConfig=new InputConfig;var helpers={newInputHelper:function newInputHelper(data){return formatTextInput(data,textInputConfig)}};var inputHelpers=function(){function inputHelpers(){_classCallCheck(this,inputHelpers)}_createClass(inputHelpers,null,[{key:"register",value:function register(Handlebars){Object.keys(helpers).forEach(function(key){Handlebars.registerHelper(key,helpers[key])})}}]);return inputHelpers}();module.exports=inputHelpers});
//# sourceMappingURL=./helpers-text-inputs.js.map