define("utilities/helpers/helpers-meta/1.6.4/js/helpers-meta",["module","utilities/vendor/handlebars/4.7.6/js/handlebars"],function(module,_handlebars){"use strict";var _handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};"use strict";var helpers={meta:function meta(values){function normalizeHTML(str1,str2,str3,str4,str5){var str=str1+(typeof str2==="string"?str2:"")+(typeof str3==="string"?str3:"")+(typeof str4==="string"?str4:"")+(typeof str5==="string"?str5:"");var replaceChars={"\u2018":"'","\u2019":"'","\u201C":"\"","\u201D":"\""};var encodedChars={"&":"&amp;","<":"&lt;",">":"&gt;","\xA9":"&copy;","\xAE":"&reg;","\u2122":"&trade;",Ã:"&Aacute;",Ã¡:"&aacute;",Ã:"&Eacute;",Ã©:"&eacute;",Ã:"&Iacute;",Ã­:"&iacute;",Ã:"&Oacute;",Ã³:"&oacute;",Ã:"&Uacute;",Ãº:"&uacute;",Ã:"&Uuml;",Ã¼:"&uuml;",Ã:"&Ntilde;",Ã±:"&ntilde;","\xBF":"&iquest;","\xA1":"&iexcl;"};function isURL(string){var regexp=new RegExp("^http(s?):","i");return regexp.test(string)}function decodeStr(string){var scopedString=string;Object.keys(replaceChars).forEach(function(k){var regex=new RegExp(k,"g");scopedString=scopedString.replace(regex,replaceChars[k])});Object.keys(encodedChars).forEach(function(k){var regex=new RegExp(encodedChars[k],"g");scopedString=scopedString.replace(regex,k)});return scopedString}function encodeStr(string){var scopedString=string;Object.keys(encodedChars).forEach(function(k){var regex=new RegExp(k,"g");scopedString=scopedString.replace(regex,encodedChars[k])});return scopedString}if(str!==undefined){var scopedString=str;scopedString=decodeStr(scopedString);if(isURL(scopedString)){return scopedString}return encodeStr(scopedString)}return null}var metaStr=[];var metaValue=void 0;var value=void 0;Object.keys(values).forEach(function(key){metaValue=values[key];if(typeof metaValue==="string"){value=metaValue}else{value=metaValue.default}value=normalizeHTML(value);switch(key){case"title":metaStr.push("<title>"+value+"</title>");break;case"canonical":metaStr.push("<link rel=\"canonical\" href=\""+value+"\">");break;case"amphtml":metaStr.push("<link rel=\"amphtml\" href=\""+value+"\">");break;case"alternate":value=values[key];metaStr.push("<link rel=\"alternate\" href=\""+value.href+"\" hreflang=\""+value.hreflang+"\">");break;case"alternates":value=values[key];value.forEach(function(item){return metaStr.push("<link rel=\"alternate\" href=\""+item.href+"\" hreflang=\""+item.hreflang+"\">")});break;case"structuredData":break;case"SI_TRADUC":break;case"NO_TRADUC":break;default:if(value!=="undefined"){var metaWritten=false;if(!metaWritten&&key.substring(0,2)==="og"){metaStr.push("<meta property=\""+key+"\" content=\""+value+"\">");metaWritten=true}if(!metaWritten&&key.substring(0,7)==="twitter"){metaStr.push("<meta name=\""+key+"\" content=\""+value+"\">");metaWritten=true}if(!metaWritten)metaStr.push("<meta name=\""+key+"\" content=\""+value+"\">")}break;}});return metaStr.join("\n")},genericMeta:function genericMeta(tags){var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(tags&&(typeof tags==="undefined"?"undefined":_typeof(tags))==="object"){var validTags=["meta","link"];var generatedTags=[];var tokenRegEx=/^(?:%%)(.*)(?:%%)$/;Object.keys(tags).forEach(function(tagType){if(validTags.indexOf(tagType)!==-1){tags[tagType].forEach(function(tag){var tagAttributes=[];var attributesReady=Object.keys(tag).every(function(tagAttribute){if(tag[tagAttribute]===true){tagAttributes.push(tagAttribute);return true}var testForToken=tokenRegEx.exec(tag[tagAttribute]);if(testForToken){var tokenPath=testForToken[1].split(".");var currentPath=context;var resolvedPath=tokenPath.every(function(pathKey){if(Object.prototype.hasOwnProperty.call(currentPath,pathKey)){currentPath=currentPath[pathKey];return true}return false});if(resolvedPath&&typeof currentPath==="string"){tagAttributes.push(tagAttribute+"=\""+currentPath+"\"");return true}return false}tagAttributes.push(tagAttribute+"=\""+tag[tagAttribute]+"\"");return true});if(attributesReady){generatedTags.push("<"+tagType+" "+tagAttributes.join(" ")+">")}})}});return new _handlebars2.default.SafeString(generatedTags.join("\n"))}return null}};var Helper=function(){function Helper(){_classCallCheck(this,Helper)}_createClass(Helper,null,[{key:"register",value:function register(Handlebars){Object.keys(helpers).forEach(function(key){Handlebars.registerHelper(key,helpers[key])})}}]);return Helper}();module.exports=Helper});
//# sourceMappingURL=./helpers-meta.js.map