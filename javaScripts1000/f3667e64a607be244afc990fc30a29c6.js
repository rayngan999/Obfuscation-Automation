"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var ListCardsContent=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"list-cards-elements";_classCallCheck(this,e),this.classElement=t,this.player=null,this.allSwipers=[],this.swiperBreakpointsIndex={},this.boot()}return _createClass(e,[{key:"boot",value:function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",e.id="apiYoutube";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.initSwiper(),this.onClickCardVideo()}},{key:"initSwiper",value:function(){var e=this,t=this,n=document.querySelectorAll(".list-cards-content");n.forEach((function(a,i){var o={};""!==a.getAttribute("data-custom")&&(o=JSON.parse(a.getAttribute("data-custom")));var r="list-cards-content-".concat(i);a.setAttribute("id",r);var s={loop:!1,slidesPerView:"auto",centeredSlides:!1,a11y:!0,keyboardControl:!0,grabCursor:!0,spaceBetween:0,pagination:{el:"#".concat(r," .swiper-pagination"),clickable:!0,type:"bullets"},navigation:{nextEl:"#".concat(r," .swiper-button-next"),prevEl:"#".concat(r," .swiper-button-prev")}},c=Object.assign(s,o),l=c.disable_breakpoint,d=new Swiper("#".concat(r),c);if(e.allSwipers.push(d),l){e.swiperBreakpointsIndex[l]=e.swiperBreakpointsIndex[l]||[];var p="@media screen and ".concat(l," { #").concat(r," .swiper-pagination { display: none } }"),u=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");u.appendChild(h),h.styleSheet?h.styleSheet.cssText=p:h.appendChild(document.createTextNode(p));var f=Object.assign({indexId:i,elementId:"#".concat(r),options:c});e.swiperBreakpointsIndex[l].push(f)}i===n.length-1&&t.startBreakpointListener()}))}},{key:"startBreakpointListener",value:function(){var e=this,t=Object.keys(this.swiperBreakpointsIndex);t.length>0&&t.forEach((function(t){var n=window.matchMedia(t),a=function(){e.swiperBreakpointsIndex[t].forEach((function(t){!0===n.matches?e.allSwipers[t.indexId].destroy(!0,!0):e.allSwipers[t.indexId]=new Swiper(t.elementId,t.options)}))};n.addEventListener("change",a),a()}))}},{key:"onClickCardVideo",value:function(){var e=this,t=document.querySelectorAll(".list-cards-content .card-video"),n=document.querySelector("#modalVideoPosts");document.addEventListener("somaModalClose",(function(){e.player.destroy()})),t.forEach((function(t){var a=t.getAttribute("data-video-id");t.onclick=function(){n.setAttribute("open","false"),e.openModal(n,a)}}))}},{key:"openModal",value:function(e,t){this.player=new YT.Player("playerModalVideo",{height:"100%",width:"100%",playerVars:{autoplay:1,loop:1,controls:1,showinfo:0,autohide:0,modestbranding:0,vq:"hd1080"},videoId:t,events:{onReady:function(e){e.target.playVideo()}}}),e.setAttribute("open","true")}}]),e}();new ListCardsContent;