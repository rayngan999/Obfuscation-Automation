var OX=OX||function(f,i){var c={},b,j,h,l,a={},n,k,e="OX_sd";var m=function(){var o=0;return function(){if(o){return}g();o=1}}();function g(){var p,o;if(!k.isFramed()){p=k.getCookie(e);if(parseInt(p)){p++}else{p=1}o=new Date(k.now()+1200000).toGMTString();k.cookie(e,p,o);n._requestArgs.sd=p}}function d(s,q){var o,x,w,p={},u={},t,v,r;if(s.vars){for(var y in s.vars){if(s.vars.hasOwnProperty(y)){p["c."+escape(y)]=s.vars[y]}}s.vars=null}if(s.gw){t=s.gw;s.gw=null}if(""){u.oxns=""}if(j){u.ju=j}if(h){u.jr=h}u.cb=k.rand();v=k.merge([s,u,p,k.contextArgs()]);r=k.serialize(v);o=k.template(k.Templates.GW_URL,{gw:t||b,v:"1.0",r:q,q:r});x=k.ensureSecureProtocol(o);w=k.template(k.Templates.SCRIPT,{src:o,id:"ox_"+q+"_"+k.rand()});k.write(w)}n=function(p){var o=new OX.AdRequest(p,{url:j=j||k.detectPageURL(),ref:h=h||k.detectRefererURL(),gw:b});c[o.get("o")]=o;return o};n._customVars={};n._requestArgs={};n.addHook=function(p,o){if(!a[o]){a[o]=[]}a[o].push(p)};n.addVariable=function(q,s,r,p){var o=n._customVars,t=(r||"c")+"."+q;if(p||!o[t]){o[t]=[]}o[t].push(s)};n.appendTag=function(o){k.write(o)};n.dflt=function(q,r,o){var p=c[q];p&&p.dflt(r,o)};n.ifrmHTML=function(q,r,o){var p=c[q];p&&p.ifrmHTML(r,o)};n.frameCreatives=function(o){l=o};n.getFramed=function(){return l};n.getHooksByType=function(o){return a[o]};n.init=function(){k=OX.utils;m()};n.load=function(o){n(o).load()};n.requestAd=function(o){n(o).fetchAds()};n.recordAction=function(o){d(o,n.Resources.RAJ)};n.recordSegments=function(q){var o,r={};if(q.expires){o=Date.parse(q.expires);if(o<new Date()){return}}for(var p in q){if(q.hasOwnProperty(p)){switch(p){case"add":r.as=q[p];break;case"del":r.ds=q[p];break;default:r[p]=q[p]}}}d(r,n.Resources.RSJ)};n.renderCreative=function(o){k.write(o)};n.setGateway=function(o){b=k.ensureSecureProtocol(o)};n.setPageURL=function(o){j=o};n.setRefererURL=function(o){h=o};n.Hooks={ON_AD_REQUEST:1,ON_AD_RESPONSE:2,ON_ADUNIT_CREATED:3,ON_ADUNIT_INITIALIZED:4,ON_ADUNIT_RENDER_START:5,ON_ADUNIT_RENDER_FINISH:6,ON_AD_RENDER_START:7,ON_AD_RENDER_FINISH:8,ON_AD_DEFAULTED:9,ON_AD_NOT_DEFAULTED:10,ON_AD_REQUEST_ERROR:11};n.Modes={IMMEDIATE:1,DEFERRED:2};n.RemoteCacheModes={STORE_AD:1,RETRIEVE_AD:2,RETRIEVE_AD_CACHE_MISS:3};n.Resources={ACJ:"acj",RAJ:"raj",RDF:"rdf",RR:"rr",RI:"ri",RSJ:"rsj",RE:"re"};n.GeoLocationSources={GPS:1,IP_ADDRESS:2,USER_REGISTRATION:3};n.shareFrameContents=false;return n}(window,document);
OX.utils=OX.utils||function(f,g,i){var l,c="w",d=true,k="BI",j="BI_TS",e="digitrust_id",a="digitrust_id_exp",b=1000000;function h(n,m){if(n.attachEvent){n.attachEvent("onload",m)}else{n.onload=m}}l={IMAGE_BEACON_TEMPLATE:"<div style='position:absolute;left:0px;top:0px;visibility:hidden;'><img src='{src}'/></div>",PIXEL_IFRAME_TEMPLATE:"<iframe src='{src}' width='0' height='0' style='display:none;'></iframe>",append:function(n,m){n.parentNode.insertBefore(m,n.nextSibling);return m},attachListener:function(o,m,n){if(o.addEventListener){o.addEventListener(m,n,false)}else{if(o.attachEvent){o.attachEvent("on"+m,n)}}},beacon:function(m){var n=l.ensureSecureProtocol(m);(new Image()).src=n},getImgBeacon:function(m){var n=l.ensureSecureProtocol(m);return l.template(l.IMAGE_BEACON_TEMPLATE,{src:n})},loadPixels:function(p){var m,o,n;if(p){m=l.template(l.PIXEL_IFRAME_TEMPLATE,{src:p});n=l.create(m);if(o=g.body){o.appendChild(n)}}},browserIDKey:function(){return k},appendBrowserIdToPixelUrl:function(o,m){if(o&&m){var n=l.serialize({bi:m});o+="&"+n}return o},fetchBrowserId:function(){if(OX.browser_id){browser_id_array=OX.browser_id.get();if(browser_id_array&&browser_id_array.length===2){return browser_id_array[0]}}},loadBrowserIdPixels:function(m){if(OX.tp_bi&&m&&OX.tp_bi.sync){OX.tp_bi.sync(m)}},contextArgs:function(){var r=l.detectWindowDims(),t={res:screen.width+"x"+screen.height+"x"+screen.colorDepth,plg:l.detectPlugins(),ch:g.charset||g.characterSet,tz:(new Date()).getTimezoneOffset()},s=g.getElementsByTagName("meta"),v;if(r){t.ws=r[0]+"x"+r[1]}t.ifr=l.inIframe()?1:0;if(t.ifr){try{tWin=f.top;tDoc=f.top.document;tDims=l.detectWindowDimensions(tWin,tDoc);if(tDims){t.tws=tDims.width+"x"+tDims.height}}catch(o){}}else{t.tws=t.ws}for(var q=0;q<s.length;q++){v=s[q];if(v.name&&v.name==="viewport"){t.vmt=1;break}}if(OX.browser_id){var n=OX.browser_id.get();if(n&&n.length===2){t.bi=n[0];t.ba=n[1]}}else{l.store.remove(k);l.store.remove(j)}if(OX.tp_xdi_tapad){OX.tp_xdi_tapad.sync()}if(OX.tp_presync_criteo){var u=OX.tp_presync_criteo.get();t["tp.presync.criteo"]=u.id;t["tp.presync.criteo.status"]=u.status}if(OX.tp_presync_mediamath){var m=OX.tp_presync_mediamath.get();t["tp.presync.mediamath"]=m.id;t["tp.presync.mediamath.status"]=m.status}if(OX.tp_digitrust){var p=l.store.get(e);if(p){t["tp.digitrust"]=p}}else{l.store.remove(e);l.store.remove(a)}return t},create:function(n){var m=g.createElement("div");m.innerHTML=n;return m.firstChild},cookie:function(o,p,m){if(d){var n=o+"=";n+=(p||"")+";path=/;";if(l.defined(m)){n+="expires="+m+";"}try{g.cookie=n}catch(q){}}},createScript:function(n){var m=g.createElement("script");m.type="text/javascript";n.id&&(m.id=n.id);n.src&&(m.src=n.src);return m},defined:function(m){return typeof m!="undefined"},detectWindowDims:function(){var o=g.documentElement,m=f.innerWidth,n=f.innerHeight;m=l.defined(m)?m:o.clientWidth;n=l.defined(n)?n:o.clientHeight;if(l.defined(m)&&l.defined(n)){return[m,n]}},detectWindowDimensions:function(r,q){var p=q.documentElement,n=q.getElementsByTagName("body")[0],o=r.innerWidth||p.clientWidth||n.clientWidth,m=r.innerHeight||p.clientHeight||n.clientHeight;return{width:o,height:m}},detectPlugins:function(){var o,n="OX_plg",p="ShockwaveFlash.ShockwaveFlash",m={swf:{activex:[p,p+".3",p+".4",p+".5",p+".6",p+".7"],plugin:/flash/gim},sl:{activex:["AgControl.AgControl"],plugin:/silverlight/gim},pdf:{activex:["acroPDF.PDF.1","PDF.PdfCtrl.1","PDF.PdfCtrl.4","PDF.PdfCtrl.5","PDF.PdfCtrl.6"],plugin:/adobe\s?acrobat/gim},qt:{activex:["QuickTime.QuickTime","QuickTime.QuickTime.4"],plugin:/quicktime/gim},wmp:{activex:["WMPlayer.OCX"],plugin:/(windows\smedia)|(Microsoft)/gim},shk:{activex:["SWCtl.SWCtl","SWCt1.SWCt1.7","SWCt1.SWCt1.8","SWCt1.SWCt1.9",p+".1"],plugin:/shockwave/gim},rp:{activex:["RealPlayer","rmocx.RealPlayer G2 Control.1"],plugin:/realplayer/gim}};return function(){var s,t,r="",q=[];if(o){return o}try{if(g.cookie){s=g.cookie.split((escape(n)+"="));if(2<=s.length){t=s[1].split(";");if(t[0]){if(t[0].indexOf("|")>=0){return unescape(t[0].split("|").join(","))}}}}}catch(x){}for(var w in m){if(m.hasOwnProperty(w)){if(f.ActiveXObject){for(var v=0;v<m[w].activex.length;++v){try{ActiveXObject(m[w].activex[v]);q.push(w);break}catch(x){}}}else{for(var u=0;u<i.plugins.length;++u){if(i.plugins[u].name.match(m[w].plugin)){q.push(w);break}}}}}if(f.postMessage){q.push("pm")}o=r=q.join(",");l.cookie(n,q.join("|"));return r}}(),detectPageURL:function(){var m;try{m=top.location.href}catch(n){}return m||l.detectRefererURL()},detectProtocol:function(){return location.protocol},detectRefererURL:function(){var m=g.referrer;try{m=top.document.referrer}catch(p){if(parent){try{m=parent.document.referrer}catch(o){}}}if(!m&&opener){try{m=opener.location.href}catch(n){}}return m||""},each:function(o,p){if(l.isArray(o)){for(var n=0;n<o.length;n++){p(o[n],n)}}else{for(var m in o){if(o.hasOwnProperty(m)){p(m,o[m])}}}},ensureRightProtocol:function(n){var m;if(n){m=n.indexOf("//");if(m!=5&&m!=6){n="http://"+n}return(l.detectProtocol()=="https:")?n.replace("http:","https:"):n}},ensureSecureProtocol:function(n){var m;if(n){m=n.indexOf("//");if(m!=5&&m!=6){n="https://"+n}return n.replace("http:","https:")}},get:function(m){return g.getElementById(m)},getCookie:function(m){try{var n=g.cookie.split(m+"=");if(n.length==2){return n[1].split(";")[0]}}catch(o){}},getMedium:function(){return c},setMedium:function(m){c=m},ieVersion:(function(){var p=0,m,n;if(i){try{m=i.userAgent;if(i.appName=="Microsoft Internet Explorer"){n=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");if(n.exec(m)!=null){p=parseFloat(RegExp.$1)}}else{if(i.appName=="Netscape"){n=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})");if(n.exec(m)!=null){p=parseFloat(RegExp.$1)}}}}catch(o){}return p}})(),intersection:function(q,p){var n={},o,m=[];if(!l.isValidArray(q)||!l.isValidArray(p)){return m}for(o=0;o<q.length;o++){n[q[o]]=true}for(o=0;o<p.length;o++){if(n[p[o]]){m.push(p[o])}}return m},isArray:function(m){return Object.prototype.toString.call(m)==="[object Array]"},isFramed:function(){return f.self!=f.top},isFriendlyFramed:function(){if(!l.isFramed()){return false}try{f.parent.document.getElementsByTagName("body");return true}catch(m){return false}},isUnfriendlyFramed:function(){return l.isFramed()&&!l.isFriendlyFramed()},isIE:0,lastScript:function(){var m=g.getElementsByTagName("script");return m[m.length-1]},merge:function(p){var m,q;if(l.isArray(p)){m={};for(var o=0;o<p.length;o++){q=p[o];for(var n in q){if(q.hasOwnProperty(n)){m[n]=q[n]}}}}return m},now:function(){return(new Date()).getTime()},postMessage:function(m){l.attachListener(f,"message",m)},createFrameElement:function(n,o,m){var q;try{q=(l.isIE&&n)?g.createElement('<iframe name="'+n+'">'):g.createElement("iframe")}catch(p){q=g.createElement("iframe")}if(n){q.setAttribute("id",n);q.setAttribute("name",n)}q.setAttribute("width",o);q.setAttribute("height",m);q.setAttribute("frameSpacing","0");q.setAttribute("frameBorder","no");q.setAttribute("scrolling","no");return q},produceFrame:function(m){var t,n,s='javascript:window["contents"]',z,B=m.hookNode,o=m.name,q=m.width,C=m.height,p=m.onStart,r=m.onFinish,w=m.onSuccess,v=o+"_contents",A=l.template(l.Templates.IFRAME_DOC,{title:m.title||"OpenX",head:m.headHTML,body:m.bodyHTML});t=l.createFrameElement(o,q,C);if(m.replace){l.replace(B,t)}else{B.innerHTML="";B.appendChild(t)}n=(l.isIE&&(l.ieVersion<11))||f.opera;if(n){t.src=s}if(n){try{r&&h(t,r);t.contentWindow.contents=A;p&&p();t.src=s}catch(u){var y=t;t=l.createFrameElement(o,q,C);f[v]=A;s=l.template(l.Templates.IFRAME_JS_URI,{contentsVar:v,domain:g.domain});r&&h(t,r);t.src=s;p&&p();l.replace(y,t)}}else{try{z=t.contentWindow||t.contentDocument;if(z.document){z=z.document}r&&h(t,r);if(z){z.open("text/html","replace");p&&p();z.write(A);z.close()}}catch(x){if(!m.isRetry){m.hookNode=t;m.replace=true;m.isRetry=true;f.setTimeout(function(){l.produceFrame(m)},0)}}}w&&w(t)},rand:function(){return Math.floor(Math.random()*9999999999)+""},remove:function(m){m.parentNode.removeChild(m)},replace:function(n,m){n.parentNode.replaceChild(m,n);return m},replaceOrRemove:function(m,o,n){if(!m){o&&l.remove(o)}else{if(o){return l.replace(o,m)}else{return l.append(n,m)}}},serialize:function(n){var p="",o;if(typeof n==="object"){for(var m in n){if(n.hasOwnProperty(m)){o=n[m];if(l.defined(o)&&(o!==null)){if(l.isArray(o)){o=o.join(",")}p+=m+"="+escape(o)+"&"}}}}if(p.length>1){p=p.substr(0,p.length-1)}return p},store:function(){var r="1",s=630720000000,p="|",u,m,t,o={};try{u=localStorage;u.setItem(r,r);u.removeItem(r);m=1}catch(q){if(i.cookieEnabled&&d){t=1}}function n(y,x){var A="OX_"+y,w,v;if(m){v=u.getItem(A);x&&u.removeItem(A)}else{if(t){v=l.getCookie(A);x&&l.cookie(A)}else{v=o[A];x&&(delete o[A])}}if(v){w=v.split(p);for(var z=0;z<w.length;z++){w[z]=unescape(w[z])}if(w.length===1){return w[0]}else{return w}}}return{put:function(x,B){var z="OX_"+x,A,v,w;if(l.isArray(B)){v=[];for(var y=0;y<B.length;y++){v.push(escape(B[y]))}A=v.join(p)}else{A=escape(B)}if(m){u.setItem(z,A);return true}else{if(t){w=new Date(l.now()+s).toGMTString();l.cookie(z,A,w);return true}else{o[z]=A;return false}}},get:function(v){return n(v)},remove:function(v){return n(v,1)}}}(),template:function(w,r,n,s){r=r||{};var p="",o=false,u="",m,n=n||"{",s=s||"}",v,q;for(var t=0;t<w.length;t++){m=w.charAt(t);if(!o&&m===n){o=true}else{if(o&&m===s){v=r[p];if(l.defined(v)&&v!==null){q=v}else{q=""}u+=q;o=false;p=""}else{if(o){p+=m}else{u+=m}}}}return u},Templates:{SCRIPT:"<script type='text/javascript' id='{id}' src='{src}' onerror='{err}'><\/script>",IFRAME_DOC:"<!DOCTYPE html><html><head><title>{title}</title><base target='_top'/>{head}</head><body style='margin:0;padding:0'>{body}</body></html>",GW_URL:"{gw}/{v}/{r}?{q}",IFRAME_JS_URI:"javascript:document.open();document.domain='{domain}';document.write(window.parent['{contentsVar}']);window.parent['{contentsVar}']=null;setTimeout('document.close()',5000)"},write:function(m){(g.readyState!=="complete"&&g.readyState!=="interactive")&&g.write(m)},isCookieEnabled:function(){return i.cookieEnabled&&d},isValidDIM:function(m){if(m>b){return false}else{if(isNaN(m)){return false}}return true},isEmpty:function(m){for(var n in m){if(m.hasOwnProperty(n)){return false}}return true},isSubset:function(n,m){var p,o;if(!l.isValidArray(n)||!l.isValidArray(m)){return false}if(n.length<m.length){return false}for(p=0;p<m.length;p++){for(o=0;o<n.length;o++){if(m[p]===n[o]){break}if(o===n.length-1){return false}}}return true},isValidArray:function(m){return m&&l.isArray(m)&&m.length!==0},inIframe:function(){return f.self!==f.top},getPosition:function(o){var n,m;if(!o){return null}if(o.tagName==="SCRIPT"){m=g.createElement("div");l.append(o,m);n=m.getBoundingClientRect();l.remove(m)}else{n=o.getBoundingClientRect()}return{top:Math.round(n.top),left:Math.round(n.left)}},getPositionById:function(n,o){var m=n.getElementById(o);return l.getPosition(m)},getAdPosition:function(p,q){var n,m,s=f,r=f.document;if(f.parent!=f.top){return null}try{p=f.frameElement?f.frameElement:p;if(l.inIframe()){s=f.parent;r=f.parent.document}n=l.detectWindowDimensions(s,r);if(!l.isValidDIM(n.width)||!l.isValidDIM(n.height)){return null}if(q){m=l.getPositionById(r,p);if(m==null){return null}}else{m=l.getPosition(p)}if(!l.isValidDIM(m.left)||!l.isValidDIM(m.top)){return null}return{browserDims:n,adUnitStartPos:m}}catch(o){return null}}};if(l.ieVersion){l.isIE=1}return l}(window,document,navigator);
/*@cc_on OX.utils.isIE=1;@*/;
OX.AdRequest=OX.AdRequest||function(S,H){var V=OX.utils,O="OX_remote_cache_token",e=S&&S.remoteCacheToken,e=e||S&&S.useLocalRemoteCacheToken&&V.getCookie(O),e=e||V.rand(),M,l={},z,x=false,h,q,m={},f={},C,g,Q,D,u={},W=false,y={o:e},s={mode:null,auid:null,record_tmpl:null,ad_units:[]},d="net_latency",E="user_latency",w,L=5,p=-1,A=-1,J=2048,B="OX_"+e,v=B+"_onAdRequestError",N="ox_"+OX.Resources.ACJ+"_"+e,j=this,T=OX.Hooks,K=OX.Modes,F=OX.RemoteCacheModes;function t(){return(y.rm>0)&&(y.rd>0)&&(y.rc<y.rm)}function c(){if((y.rd>0)&&(y.rm>0)&&(!y.rc)){y.rc=0}}function r(){var k=j.createAdRequestURL(),Y=y.rc&&("_"+y.rc),X=N+(Y||""),i=V.createScript({id:X,src:k});V.attachListener(i,"error",function(){window[v]()});return i}function a(aa,Z){var k=f[aa]||[],X=OX.getHooksByType(aa)||[],ac=X.concat(k),ab;if(ac){for(var Y=0;Y<ac.length;Y++){ab=ac[Y];ab.apply(this,Z)}}}function P(){y.rc++;setTimeout(function(){j.refreshAds()},1000*y.rd)}function I(k){var i;if(k){i=document.createComment(" "+k.replace(/--/g,"- -"))}g=V.replaceOrRemove(i,g,C)}function o(){var k="ma",i="js";V.setMedium(k);M=M.replace(/\/m?w$/,"/"+k);y.sp=i;delete y.ju;delete y.jr}function G(k,i,Z){var Y=new XMLHttpRequest(),aa=k.split("?");try{aa[1]=aa[1].replace(/(^|&)callback=[^&]*$/,"");aa[1]=aa[1].replace(/(^|&)callback=.*?&/,"$1")}catch(X){}Y.open("POST",aa[0]);Y.setRequestHeader("Content-Type","application/x-www-form-urlencoded");Y.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){i&&i(JSON.parse(this.responseText))}else{W=false;u={};delete y.openrtb;Z&&Z()}}};Y.send(aa[1])}function b(){var Z,ad,Y,k,ac,aa="",ab=[];if(true&&!y.be){Z=y.auid||[];for(var X=0;X<Z.length;X++){ad=Z[X];Y=l[ad];k=Y.get("anchor");if(!k&&s.mode===K.IMMEDIATE){k=V.lastScript()}ac=V.getAdPosition(k,false);if(ac){aa=ac.browserDims.width+"x"+ac.browserDims.height;ab.push(ac.adUnitStartPos.left+","+ac.adUnitStartPos.top)}else{ab.push("")}}j.setBrowserDims(aa);j.setAdUnitLocation(ab.join("|"))}}j.addAdUnit=function(X){var k=j.getOrCreateAdUnit(X),i;if(!y.auid){y.auid=[]}y.auid.push(X)};j.addContentTopic=function(i){y.tid=y.tid||[];y.tid.push(i)};j.addHook=function(k,i){if(!f[i]){f[i]=[]}f[i].push(k)};j.addPage=function(i){y.pgid=y.pgid||[];y.pgid.push(i)};j.addVariable=function(k,Y,X,i){var Z=(X||"c")+"."+k;if(i||!m[Z]){m[Z]=[]}m[Z].push(Y)};j.createAdRequestURL=function(){var X,k,i,Y,aa="";c();b();if(!V.isEmpty(u)){try{y.openrtb=JSON.stringify(u)}catch(Z){}}k=V.merge([y,m,V.contextArgs(),OX._customVars,OX._requestArgs]);aa&&(aa+="&");aa+=V.serialize(k);if(!y.be){aa+="&mt=1"}i=j.getLatencyStringByKey(d);if(i){aa+="&nl="+escape(i)}Y=j.getLatencyStringByKey(E);if(Y){aa+="&ul="+encodeURIComponent(Y)}if(Q){aa+="&r="+escape(Q)}X=V.template(V.Templates.GW_URL,{gw:M,v:"1.0",r:OX.Resources.ACJ,q:aa});if(!V.isEmpty(u)&&X.length>J){W=true}w=X;return X};j.dflt=function(X,i){var k=l[X];k&&k.dflt(i)};j.ifrmHTML=function(X,i){var k=l[X];k&&k.set("iframe_html",i)};j.disableFeature=function(i){y.df=y.df||[];y.df.push(i)};j.disableMarket=function(){j.disableFeature("m")};j.disableSegmentation=function(){y.ns=1};j.enableFeature=function(i){y.ef=y.ef||[];y.ef.push(i)};j.enableExperiment=function(i){y.ee=i};j.enableControlGroup=function(i){y.ec=i};j.enableMarket=function(){j.enableFeature("m")};j.enableSegmentation=function(){y.ns=null};j.flagStoreRemoteCachedAd=function(i){y.o=i||e;y.cache=F.STORE_AD};j.setRemoteCacheToken=function(i){y.o=i;y.cache=F.RETRIEVE_AD_CACHE_MISS};j.setRequestStart=function(){p=new Date().getTime()};j.setRequestEnd=function(i){if(p<0){return}A=new Date().getTime();if(i.ads&&i.ads.oxt){var Z=i.ads.oxt;var Y=(A-p);if(Z&&Y>Z){try{var X=j.getNetworkLatency();if(X){j.storeLatencyByKey(d,Math.round(X-Z))}j.storeLatencyByKey(E,Math.round(Y-Z))}catch(k){}}}};j.getPerformanceMetrics=function(){return{startTime:p,endTime:A,networkLatency:j.getNetworkLatency()}};j.getNetworkLatency=(function(){var i=0;var k=w;return function(){if(i&&k===w){return i}k=w;if(window&&window.performance&&window.performance.getEntriesByType){var Z=window.performance.getEntriesByType("resource");var Y;for(var X=Z.length-1;X>=0;X--){Y=Z[X];if(Y.name===k){i=Y.duration;return Y.duration}}}}})();j.storeLatencyByKey=function(i,k){var X=j.getLatencyListByKey(i);X.push(k);if(X.length>L){X=X.slice(-L)}V.store.put(i,X.toString())};j.getLatencyListByKey=function(k){var Z=V.store.get(k);if(Z){var ab=Z.split(",");if(ab&&V.isArray(ab)){var Y=[];for(var X=0;X<L;++X){var aa=parseInt(ab[X],10);if(aa>0){Y.push(aa)}}return Y}}return[]};j.getLatencyStringByKey=function(i){var X=j.getLatencyListByKey(i),k;if(X.length>0){k=X.toString()}return k};j.fetchAds=function(){var k,i;j.setRequestStart();a(T.ON_AD_REQUEST,[j]);k=j.createAdRequestURL();if(W){G(k,window[B],j.fetchAds)}else{i=V.template(V.Templates.SCRIPT,{src:k,id:N,err:v+"()"});V.write(i)}};j.fetchAdsComplete=function(){switch(s.mode){case K.IMMEDIATE:j.showAdUnit(s.auid);break;case K.DEFERRED:for(var i in l){if(l.hasOwnProperty(i)){if(l[i].get("anchor")){j.showAdUnit(i)}}}break;default:}t()&&P()};j.frameCreatives=function(i){z=i};j.getOrCreateAdUnit=function(i){if(!l[i]){l[i]=new OX.AdUnit(i,j.get("o"));s.ad_units.push(l[i]);a(T.ON_ADUNIT_CREATED,[l[i]])}return l[i]};j.get=function(i){return s.hasOwnProperty(i)?s[i]:y[i]};j.getQueryArgs=function(){return y};j.getProperties=function(){return s};j.isResponseEmpty=function(){var k,i;if(!(D&&D.ads&&D.ads.adunits&&(k=D.ads.adunits[0])&&(i=k.chain)&&i.length)){return true}else{return false}};j.getRecordTemplate=function(){if(D&&D.ads){return D.ads.record_tmpl}return""};j.loadAdResponse=function(X){var Z=X.ads,ab=X.ads.adunits,k,aa;C=C||V.get(N);D=X;I(s.debug=Z.debug);for(var Y=0;Y<ab.length;Y++){k=ab[Y];if(k.refresh_delay){y.rd=k.refresh_delay}if(k.refresh_max){y.rm=k.refresh_max}c();if(t()){z=1}aa=function(i){a(T.ON_ADUNIT_INITIALIZED,[i])};j.getOrCreateAdUnit(k.auid).load({adunit:k,rt:Z.record_tmpl,oninit:aa,chain:Z.chain,pixel_url:Z.pixels,perf_id:Z.perf_id})}};j.load=function(){var k,X,i=j.createAdRequestURL();j.setRequestStart();a(T.ON_AD_REQUEST,[j]);z=1;if(W){G(i,window[B],j.load)}else{k=r();X=document.head||document.body;if(X){X.appendChild(k);C=k}else{C=V.append(V.lastScript(),k)}}};j.refreshAds=function(){var k,i=j.createAdRequestURL();a(T.ON_AD_REQUEST,[j]);if(W){G(i,window[B],j.load)}else{k=r();C=V.replace(C,k)}};j.setAdUnitFallback=function(k,i){j.getOrCreateAdUnit(k).set("fallback",i)};j.setAdUnitImpBeacon=function(k,i){j.getOrCreateAdUnit(k).set("imp_beacon",i)};j.setAdUnitMarketFloor=function(k,i){j.getOrCreateAdUnit(k);y.aumf=y.aumf||[];y.aumf.push(k+":"+i)};j.setAdUnitNGFloor=function(k,i){j.getOrCreateAdUnit(k);y.aungf=y.aungf||[];y.aungf.push(k+":"+i)};j.setAdUnitSlotId=function(k,i){j.getOrCreateAdUnit(k).set("anchor",V.get(i))};j.setAnchorTarget=function(i){y.tg=i};j.setBrowserDims=function(i){y.dims=i};j.setAdUnitLocation=function(i){y.adxy=i};j.setClickRedirectURL=function(i){Q=i};j.setGateway=function(i){M=V.ensureSecureProtocol(i)};j.setMode=function(i){s.mode=i};j.setPageURL=function(i){y.ju=V.ensureRightProtocol(i)};j.setRefererURL=function(i){y.jr=i};j.setRefreshDelay=function(i){y.rd=i};j.setRefreshMax=function(i){y.rm=i};j.setTest=function(i){y.test=i?"true":null};j.setUserID=function(i){y.xid=i};j.setBidderEligibility=function(i){y.be=i?1:0};j.setBidderExperimentVersion=function(i){y.expVer=i};j.setPrefetch=function(i){y.prf=i?1:0};j.setBidderConfiguration=function(i){y.bc=i};j.setBidderTimeout=function(i){y.bt=i};j.setCoords=function(i){if(i.latitude&&i.longitude){y.lat=i.latitude;y.lon=i.longitude;y.lt=i.source||OX.GeoLocationSources.GPS}};j.setAdSizes=function(i){y.aus=y.aus?y.aus+"|":"";y.aus=y.aus+i.join(",")};j.setAppName=function(i){if(i){y["app.name"]=i;o()}};j.setAppBundleID=function(i){if(i){y["app.bundle"]=i;o()}};j.setAppStoreURL=function(i){if(i){y.url=V.ensureRightProtocol(i);o()}};j.setAPIFrameworks=function(i){if(i.toString()){y.af=i.toString();o()}};j.addDeviceID=function(X,Y){var i={"did.ia":"did.iat","did.adid":"did.adid.enabled"},k;if(X.type&&X.id){k=(Y||"did.")+X.type;y[k]=X.id;if(X.id==="00000000-0000-0000-0000-000000000000"){X.tracking=false}if(i.hasOwnProperty(k)&&X.hasOwnProperty("tracking")){y[i[k]]=!!X.tracking}o()}};j.setAdvertisingID=function(i,k){y.ifa=i;if(i==="00000000-0000-0000-0000-000000000000"){k=1}if(V.defined(k)){y.lmt=(k===1||k==="1"||k===true||k==="true")?1:0}};j.setGDPRFlag=function(i){y.gdpr=i};j.setGDPRConsent=function(i){y.gdpr_consent=i};j.setUspString=function(i){y.us_privacy=i};j.setOpenRTBParameters=function(k){var i;if(Object.prototype.toString.call(k)==="[object Object]"){u=k}else{if(typeof k==="string"){try{i=JSON.parse(k);this.setOpenRTBParameters(i)}catch(X){}}}};j.addOpenRTBParameter=function(ab,ac){var aa=ab.split("."),Y=u,ad,X,k;for(var Z=0;Z<aa.length;Z++){ad=aa[Z];if(Z===aa.length-1){Y[ad]=ac;break}X=ad.match(/(\w+)\[(\d+)\]/);if(X){ad=X[1];k=X[2];Y[ad]=Y[ad]||[];Y[ad][k]=Y[ad][k]||{};Y=Y[ad][k]}else{Y[ad]=Y[ad]||{};Y=Y[ad]}}};j.showAdUnit=function(X){var k=l[X],i;if(k){i=function(){if(V.getMedium()==="ma"&&!k.get("anchor")){return 0}if(x){return 0}if(k.get("framed")){return 1}if(V.defined(z)){return z}return !!OX.getFramed()}();k.render({framed:i,onAdUnitRenderStart:function(){a(T.ON_ADUNIT_RENDER_START,[k])},onAdUnitRenderFinish:function(){a(T.ON_ADUNIT_RENDER_FINISH,[k])},onAdRenderStart:function(){a(T.ON_AD_RENDER_START,[k])},onAdRenderFinish:function(Z,aa,Y){a(T.ON_AD_RENDER_FINISH,[Z,aa,Y])},onAdDefaulted:function(Z,aa,Y){a(T.ON_AD_DEFAULTED,[Z,aa,Y])},onAdNotDefaulted:function(Z,aa,Y){a(T.ON_AD_NOT_DEFAULTED,[Z,aa,Y])},shareFrameContents:OX.shareFrameContents,shouldCenterAd:(V.getMedium()==="ma")})}};V.each(["load","fetchAds","refreshAds"],function(i){originalFunc=j[i];j[i]=(function(k,X){return function(){var Y=X==="fetchAds"?250:1000;OX.cmp.lookupIabConsent(Z,Y);function Z(aa,ab){if(aa){j.setGDPRFlag(aa.gdprApplies);j.setGDPRConsent(aa.tcString||aa.consentData)}if(ab){j.setUspString(ab.uspString)}k.call(j)}}})(originalFunc,i)});window[v]=function(){a(T.ON_AD_REQUEST_ERROR,[j])};window[B]=function(i){if(y.cache===F.STORE_AD){if(S.useLocalRemoteCacheToken&&!S.remotelyCacheAd){V.cookie(O,y.o)}}else{if(y.cache===F.RETRIEVE_AD_CACHE_MISS&&S.useLocalRemoteCacheToken&&!S.remoteCacheToken){V.cookie(O)}j.loadAdResponse(i);j.setRequestEnd(i);a(T.ON_AD_RESPONSE,[j]);j.fetchAdsComplete()}};y.callback=B;j.setGateway(S&&S.gw||H.gw);j.setPageURL(S&&S.url||H.url);j.setRefererURL(S&&S.ref||H.ref);if(!window.postMessage){j.disableFeature("c")}if(S){j.setMode(K.IMMEDIATE);s.auid=S.auid;S.auid&&j.addAdUnit(s.auid);S.tid&&j.addContentTopic(S.tid);S.aumf&&j.setAdUnitMarketFloor(s.auid,S.aumf);S.aungf&&j.setAdUnitNGFloor(s.auid,S.aungf);S.tg&&j.setAnchorTarget(S.tg);S.imp_beacon&&j.setAdUnitImpBeacon(s.auid,S.imp_beacon);S.slot_id&&j.setAdUnitSlotId(s.auid,S.slot_id);if(S.fallback){j.setAdUnitFallback(s.auid,S.fallback);j.addHook(function(){j.showAdUnit(s.auid)},T.ON_AD_REQUEST_ERROR)}S.test&&j.setTest(S.test);S.userid&&j.setUserID(S.userid);S.r&&j.setClickRedirectURL(S.r);S.rd&&j.setRefreshDelay(S.rd);S.rm&&j.setRefreshMax(S.rm);S.md&&j.disableMarket();S.ns&&j.disableSegmentation();S.coords&&j.setCoords(S.coords);S.openrtb&&j.setOpenRTBParameters(S.openrtb);S.appName&&j.setAppName(S.appName);S.appBundle&&j.setAppBundleID(S.appBundle);S.appStoreURL&&j.setAppStoreURL(S.appStoreURL);S.af&&j.setAPIFrameworks(S.af);S.ifa&&j.setAdvertisingID(S.ifa,S.lmt);if(S.deviceIDs){for(var U=0;U<S.deviceIDs.length;U++){j.addDeviceID(S.deviceIDs[U])}}V.defined(S.gdpr)&&j.setGDPRFlag(S.gdpr);S.gdpr_consent&&j.setGDPRConsent(S.gdpr_consent);S.us_privacy&&j.setUspString(S.us_privacy);if(S.remotelyCacheAd){j.flagStoreRemoteCachedAd(S.remoteCacheToken)}if(S.remoteCacheToken&&!S.remotelyCacheAd){j.setRemoteCacheToken(S.remoteCacheToken)}if(S.useLocalRemoteCacheToken&&!y.cache){var n=V.getCookie(O);if(n){j.setRemoteCacheToken(n)}else{j.flagStoreRemoteCachedAd()}}if(S.vars){for(var R in S.vars){S.vars.hasOwnProperty(R)&&j.addVariable(R,S.vars[R])}}if(S.ef){for(var U=0;U<S.ef.length;U++){j.enableFeature(S.ef[U])}}if(S.df){for(var U=0;U<S.df.length;U++){j.disableFeature(S.df[U])}}if(V.defined(S.frameCreatives)){z=S.frameCreatives}S.forceUnframed&&(x=true);S.onResponse&&j.addHook(S.onResponse,T.ON_AD_RESPONSE);S.onAdUnitRender&&j.addHook(S.onAdUnitRender,T.ON_ADUNIT_RENDER_START);S.onAdUnitLoaded&&j.addHook(S.onAdUnitLoaded,T.ON_ADUNIT_RENDER_FINISH)}else{j.setMode(K.DEFERRED)}};
OX.AdUnit=OX.AdUnit||function(Z,l){var ab=OX.utils,c=OX.Hooks,j=this,E=OX.Resources,aa=Z,K=l,Y,T,t,R,m,M,I,u={adunit_id:Z,anchor:null,rm_anchor:null},x=false,O="dflt",s="dflt",h="loaded",d="flash",D="rich_media",a="ox_"+K+"_"+aa,o=parseInt("2500")||2500,ac=0,L="<script type='text/javascript'>var OX_swfobject = window.parent.OX.swfobject(window, document, navigator);<\/script>",A,k=a+"_ch_{i}",B=ab.IMAGE_BEACON_TEMPLATE,P="<script type='text/javascript'>(new Image()).src='{src}'{suffix}<\/script>",z="<script type='text/javascript'>(function() {attachListener(window, 'message', dflt);function dflt(e) {if (e.data === '#data#') {signalDefaultTo(window.parent);var frames = window.parent.frames;for (var i = 0; i < frames.length; i++) {signalDefaultTo(frames[i]);}window.frameElement.style.display = 'none';}}function signalDefaultTo(win) {try {win.OX.dflt('#rid#','#auid#',#index#);} catch(e) {var msg = JSON.stringify({action : '#data#',params : ['#rid#','#auid#',#index#]});win.postMessage(msg, '*');}}function attachListener(target, type, listener) {if (target.addEventListener) {target.addEventListener(type, listener, false);} else {target.attachEvent('on' + type, listener);}}})();<\/script>",C="<script type='text/javascript'>window.onload = function() {var html = document.documentElement.innerHTML;window.parent.OX.ifrmHTML('[rid]', '[auid]', html);};<\/script>",H="position: fixed; top: 50%; left: 50%; margin-left: -{leftMargin}px !important; margin-top: -{topMargin}px !important;",Q="<div id='{divID}' style='width: 100%; height: 100%;'>",w="</div>";var N=function(ad){this.renderStrategy=ad};N.prototype.render=function(ad){return this.renderStrategy(ad)};function y(af,ag,ae){var ad=false,ah;ab.attachListener(document,"readystatechange",function(){var ai=document.getElementById(af);if(document.readyState==="complete"&&ai&&!ad){ai.setAttribute("style",ab.template(H,{leftMargin:ag/2,topMargin:ae/2}))}});if(window.mraid){ah=mraid.addEventListener;mraid.addEventListener=function(){ad=true;ah.apply(mraid,arguments);mraid.addEventListener=ah}}}function G(af){var ae=A,ah={medium:ab.getMedium(),rtype:E.RI,txn_state:af.ts},ag="33Across";if(ag){ae+="&bs={bs}";ah.bs=ag}return ab.template(ae,ah)}function W(ad){r(ad)}function r(ae){var ag=u.fallback,af,ad,ah=function(){ae.onAdRenderFinish(j,Y,0);ae.onAdUnitRenderFinish()};if(Y&&Y.html&&(j.get("type")!==d)){af=G(Y);ad=J(B,{src:af});if(!j.get("is_fallback")){Y.html=Y.html+ad}}if(j.get("is_fallback")){ag=u.fallback||(Y&&Y.html)}else{if(Y&&Y.html){ag=Y.html+(u.imp_beacon||"")}}if(ag){if(ag===u.fallback&&ab.getMedium()==="ma"){V()}ae.onAdUnitRenderStart();if(ae.framed){X(ag,a,j.get("type")===d?L:"",j.get("width")||j.get("primary_width"),j.get("height")||j.get("primary_height"),ae.onAdRenderStart,ah,ae.shareFrameContents)}else{ae.onAdRenderStart();v(ag);ah()}}}function U(ad){I=ab.now();M=ad;M.onAdUnitRenderStart();e(0)}function n(ae){var ad,af;if(Y&&Y.html){ad=ab.template(A,{medium:ab.getMedium(),rtype:E.RR,txn_state:Y.ts});af=J(B,{src:ad});if(!j.get("is_fallback")){Y.html=af+Y.html}}r(ae)}function e(ai){var ak="",af="",ao="",aj="",ae,al,am,ah="",ag,an="",ad=u.chain,ap=ab.template(k,{i:ai});Y=ad[ai];T=ai;if(!M.renderTest){am=ab.template(A,{medium:ab.getMedium(),rtype:E.RR,txn_state:Y.ts});if(x&&(ai<ad.length-1)){am+="&cts=";ah=" + new Date().getTime();"}af=J(P,{src:am,suffix:ah})}if(ai<ad.length-1){F();ak=ab.template(z,{data:O,rid:K,auid:aa,index:ai},"#","#");Y.dflting=1;ae=g(ai);al=function(){ae();M.onAdRenderFinish(j,Y,ai)}}else{if(j.get("type")===d){ak=L}else{if(!M.renderTest){ag=G(Y);ao=J(P,{src:ag,suffix:an})}}if(j.get("is_fallback")){aj=u.fallback||(Y&&Y.html);af="";ao=""}else{if(Y&&Y.html){aj=Y.html+(u.imp_beacon||"")}}al=function(){M.onAdRenderFinish(j,Y,ai);M.onAdUnitRenderFinish()}}X(af+(aj||Y.html)+ao,ap,ak,Y.width,Y.height,M.onAdRenderStart,al,M.shareFrameContents)}function S(){return(ab.now()-I)>u.chain_timeout}function g(ad){return function(){window.setTimeout(function(){var ag=u.chain[ad],ae=ad+1,af;ag[h]=1;if(ag.hasOwnProperty(s)){if(S()){ae=u.chain.length-1}e(ae)}else{M.onAdNotDefaulted(j,ag,ad);if(!M.renderTest){af=G(Y);if(x){af+="&cte="+ab.now()}ab.beacon(af)}M.onAdUnitRenderFinish()}},ac)}}function X(ag,ad,ah,am,af,an,ai,ao){var al=(u.pre_html||"")+ag+(u.post_html||""),aj="",ae,ak;if(ao){aj=ab.template(C,{rid:K,auid:aa},"[","]")}ae=(u.head_html||"")+ah+aj;if(ab.isUnfriendlyFramed()&&j.get("type")===D){q(ad,am,af,ae,al,an,ai)}else{f(ad,am,af,ae,al,an,ai)}j.set("iframe_id",ad)}function q(ad,ak,af,aj,ag,al,ai){i(ah,ae);function ah(am){window.parent.postMessage(JSON.stringify({action:"render_ad",params:[ad,ak,af,aj,ag]}),"*");al();ab.attachListener(window,"message",function(an){if(an.source===am.contentWindow&&an.data===ad){ai()}})}function ae(){if(u.chain&&u.chain.length>T+1){e(T+1)}else{f(ad,ak,af,aj,ag,al,ai)}}}function f(ak,ae,ai,ah,ad,af,aj){var ag;if(ab.isFriendlyFramed()&&j.get("type")===D){if(!u.rm_anchor){u.rm_anchor=document.createElement("div");ab.append(window.frameElement,u.rm_anchor)}ag=u.rm_anchor;window.frameElement.style.display="none"}else{if(!u.anchor){u.anchor=document.createElement("div");if(!document.body&&ab.isFramed()){ab.write("<body style='margin:0;padding:0'></body>");document.body.appendChild(u.anchor)}else{ab.append(ab.lastScript(),u.anchor)}}ag=u.anchor}ab.produceFrame({hookNode:ag,replace:true,name:ak,width:ae,height:ai,headHTML:ah,bodyHTML:ad,onStart:af,onFinish:aj,onSuccess:function(al){if(ag===u.rm_anchor){u.rm_anchor=al}else{u.anchor=al}}})}function i(ak,ai){var af=document.referrer,ah=af.split("/"),ae=ah[0]+"//"+ah[2],ad=ae+"/ox_buster.html",aj,ag;aj=ab.createFrameElement("",0,0);aj.style.display="none";aj.src=ad;document.body.appendChild(aj);ab.attachListener(window,"message",function(al){if(al.source===aj.contentWindow){ag=true}});ab.attachListener(aj,"load",function(){setTimeout(function(){ag?ak(aj):ai()},100)});i=function(am,al){ag?am(aj):al()}}function v(ad){var af=(u.pre_html||"")+ad+(u.post_html||""),ae=af;if(!document.body&&ab.isFramed()){ae="<body style='margin:0;padding:0'>"+af+"</body>"}ab.write(ae)}function F(){ab.attachListener(window,"message",function(ad){try{var af=JSON.parse(ad.data);if(af.action===O){OX.dflt.apply(OX,af.params)}}catch(ae){}});F=function(){}}function b(ad){var ae=ab.template(A,{medium:ab.getMedium(),rtype:E.RDF,txn_state:ad.ts});if(x){ae+="&cte="+ab.now()}ab.beacon(ae)}var p=[{beaconURLs:[],beaconsRendered:false,shouldDefer:function(){return(window.mraid&&typeof mraid.isViewable==="function"&&!mraid.isViewable())},defer:function(ad){var ae=this;ae.beaconURLs.push(ad);mraid.addEventListener("viewableChange",function(ag){if(!ae.beaconsRendered&&ag){for(var af=0;af<ae.beaconURLs.length;af++){ab.beacon(ae.beaconURLs[af])}ae.beaconsRendered=true}})}},{shouldDefer:function(){return typeof trackImpressionHelper==="function"},defer:function(ad){var ae=trackImpressionHelper;trackImpressionHelper=function(){ab.beacon(ad);ae()}}},{shouldDefer:function(){return(window.admob&&typeof admob.isAdMobSdk==="function"&&admob.isAdMobSdk())},defer:function(ad){admob.events.addEventListener("onshow",(function(){var ae=false;return function(){if(!ae&&admob.opener.isOverlayShowing()){ab.beacon(ad);ae=true}}})())}}];function J(ag,aj,ak,ah){var ae=aj.src,ad="",ai;for(var af=0;af<p.length;af++){ai=p[af];if(ai.shouldDefer()){ai.defer(ae);return ad}}ad=ab.template(ag,aj,ak,ah);return ad}function V(){if(typeof window.trackImpressionHelper==="function"){window.trackImpressionHelper=function(){};window.htmlWillCallFinishLoad=true}}j.dflt=function(ae){var af=u.chain[ae],ad=ae+1;if(af[s]){return}af[s]=1;b(Y);M.onAdDefaulted(j,af,ae);if(ab.isUnfriendlyFramed()&&af.type===D){window.parent.postMessage(JSON.stringify({action:"restore_busted_frame"}),"*")}else{if(ab.isFriendlyFramed()&&af.type===D){window.frameElement.style.display=""}}if(!M.renderTest){if(af.hasOwnProperty(h)){if(S()){ad=u.chain.length-1}e(ad)}}};j.get=function(ad){return u.hasOwnProperty(ad)?u[ad]:(Y&&Y[ad])};j.set=function(ad,ae){u[ad]=ae};j.getProperties=function(){return ab.merge([u,Y])};j.load=function(af){var ae=af.adunit,ag;A=af.rt;u.perf_id=af.perf_id;for(var ad in ae){if(ae.hasOwnProperty(ad)){u[ad]=ae[ad]}}if(u.size){ag=u.size.split("x");u.primary_width=ag[0];u.primary_height=ag[1]}u.chain_timeout=u.chain_timeout||o;if(af.chain){if(u.chain&&u.chain.length>0){if(u.chain.length>1){OX.addHook(function(ai){if(af.pixel_url){var ah=OX.utils.fetchBrowserId();var aj=OX.utils.appendBrowserIdToPixelUrl(af.pixel_url,ah);OX.utils.loadPixels(aj)}},c.ON_ADUNIT_RENDER_FINISH);t=new N(U)}else{Y=u.chain&&u.chain[0];t=new N(n)}}else{t=new N(W)}}else{Y=u.chain&&u.chain[0];t=new N(r)}R=1;m=0;af.oninit&&af.oninit(j)};j.render=function(ae){var aj,ak,ad=j.get("height"),ag=j.get("width"),af=j.get("pre_html")||"",ah=j.get("post_html")||"";if(ae.shouldCenterAd){ak="ox_ctr_"+ab.rand();af=ab.template(Q,{divID:ak})+af;ah+=ab.template(w);j.set("pre_html",af);j.set("post_html",ah);y(ak,ag,ad)}if(ab.isFramed()){try{aj=ab.detectWindowDimensions(window,document);if(aj.height<ad){window.frameElement.height=ad;window.frameElement.style.height=ad+"px"}if(aj.width<ag){window.frameElement.width=ag;window.frameElement.style.width=ag+"px"}}catch(ai){}}if(m){return}j.set("framed",ae.framed);if(!R){t=new N(W)}t.render(ae);m=1}};
OX.cmp=OX.cmp||(function(){var f=window.location.search.substring(1).split("&").indexOf("dbg=1")!==-1;function g(){if(f&&window.console&&window.console.log){var p=Array.prototype.slice.call(arguments);var o=new Date();var q=[o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()].join(":");p.unshift(q,"GDPR:");console.log.apply(console,p)}}var c;var e;if(typeof window.__tcfapi==="function"){g("found window.__tcfapi");c=window.__tcfapi}else{g("look up tcfapi in frames");e=b("__tcfapiLocator",window);c=i(e);if(e){g("found tcfapi in frames");window.__tcfapi=c}}var a;var l;if(typeof window.__cmp==="function"){g("found window.__cmp");a=window.__cmp}else{g("look up cmp in frames");l=b("__cmpLocator",window);a=d(l);if(l){g("found cmp in frames");window.__cmp=a}}var j;var n;if(typeof window.__uspapi==="function"){g("found window.__uspapi");j=window.__uspapi}else{g("look up uspapi in frames");n=b("__uspapiLocator",window);j=h(n);if(n){g("found uspapi in frames");window.__uspapi=j}}function i(q){var p={};var o=function(u,s,w,r){if(!q){w({msg:"TCF not found"},false);return}var t=Math.random()+"";var v={__tcfapiCall:{command:u,parameter:r,version:s,callId:t}};p[t]=w;q.postMessage(v,"*")};q&&window.addEventListener("message",function(t){try{var s=typeof t.data==="string"?JSON.parse(t.data):t.data;if(s.__tcfapiReturn){var r=s.__tcfapiReturn;p[r.callId](r.returnValue,r.success);delete p[r.callId]}}catch(u){g(u)}},false);return o}function d(q){var p={};var o=function(t,r,v){if(!q){v({msg:"CMP not found"},false);return}var s=Math.random()+"";var u={__cmpCall:{command:t,parameter:r,callId:s}};p[s]=v;q.postMessage(u,"*")};q&&window.addEventListener("message",function(t){try{var s=typeof t.data==="string"?JSON.parse(t.data):t.data;if(s.__cmpReturn){var r=s.__cmpReturn;p[r.callId](r.returnValue,r.success);delete p[r.callId]}}catch(u){g(u)}},false);return o}function h(o){var q={};var p=function(t,r,v){if(!o){v({msg:"USPrivacy not found"},false);return}var s=Math.random()+"";var u={__uspapiCall:{command:t,parameter:r,callId:s}};q[s]=v;o.postMessage(u,"*")};o&&window.addEventListener("message",function(t){try{var s=typeof t.data==="string"?JSON.parse(t.data):t.data;if(s.__uspapiReturn){var r=s.__uspapiReturn;q[r.callId](r.returnValue,r.success);delete q[r.callId]}}catch(u){g(u)}},false);return p}var k;var m;return{lookupIabConsent:function(v,t){var r=Math.random().toString(36).substr(2,5);var p="lookupIabConsent-"+r+":";var q=3;var s=false;function o(){if(typeof v==="function"&&!s){g(p,"executing callback with consent",k);v(k,m);s=true}}if(k&&m){g(p,"found cached consent",k);o();return}if(t===undefined){t=1000}var u=setTimeout(function(){g(p,"lookup timed out after "+t+" ms");o()},t);c("getTCData",2,function(w,x){if(x){g(p,"found user tcData",w);k=w}else{g(p,"failed retrieving user tcData",w)}if(q===1){clearTimeout(u);o()}else{q=q-1}});a("getConsentData",null,function(w,x){if(x){g(p,"found user consent",w);k=k||w}else{g(p,"failed retrieving user consent",w)}if(q===1){clearTimeout(u);o()}else{q=q-1}});j("getUSPData",null,function(w,x){if(x){g(p,"found usp consent",w);m=w}else{g(p,"failed retrieving usp consent",w)}if(q===1){clearTimeout(u);o()}else{q=q-1}})}};function b(o,p){var s;var q=p;while(!s){try{if(q.frames[o]){s=q}}catch(r){}if(q===p.top){break}q=q.parent}return s}})();
/*! SWFObject v2.2 <http://code.google.com/p/swfobject/> is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> */
;OX.swfobject=function(N,j,t){var P=OX.utils.defined,r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",N=N||window,j=j||document,t=t||navigator,T=false,U=[h],o=[],M=[],H=[],l,Q,D,B,I=false,a=false,n,F,m=true,L=function(){var aa=P(j.getElementById)&&P(j.getElementsByTagName)&&P(j.createElement),ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(P(t.plugins)&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(P(t.mimeTypes)&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(P(N.ActiveXObject)){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!L.w3){return}if((P(j.readyState)&&j.readyState=="complete")||(!P(j.readyState)&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!I){if(P(j.addEventListener)){j.addEventListener("DOMContentLoaded",f,false)}if(L.ie&&L.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(N==top){(function(){if(I){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(L.wk){(function(){if(I){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(I){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}I=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function J(X){if(I){X()}else{U[U.length]=X}}function s(Y){if(P(N.addEventListener)){N.addEventListener("load",Y,false)}else{if(P(j.addEventListener)){j.addEventListener("load",Y,false)}else{if(P(N.attachEvent)){i(N,"onload",Y)}else{if(typeof N.onload=="function"){var X=N.onload;N.onload=function(){X();Y()}}else{N.onload=Y}}}}}function h(){if(T){V()}else{G()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);aa.setAttribute("style","display:none;");var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(P(Z.GetVariable)){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");L.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;G()})()}else{G()}}function G(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(L.pv[0]>0){var ae=c(Y);if(ae){if(E(o[af].swfVersion)&&!(L.wk&&L.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}O(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&P(Z.SetVariable)){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(P(Y.SetVariable)){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&E("6.0.65")&&(L.win||L.mac)&&!(L.wk&&L.wk<312)}function O(aa,ab,X,Z){a=true;D=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(!P(aa.width)||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(!P(aa.height)||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=L.ie&&L.win?"ActiveX":"PlugIn",ac="MMredirectURL="+N.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(P(ab.flashvars)){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(L.ie&&L.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(L.ie&&L.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(L.win&&L.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(L.wk&&L.wk<312){return X}if(aa){if(!P(ai.id)){ai.id=Y}if(L.ie&&L.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";M[M.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(L.ie&&L.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);H[H.length]=[Z,X,Y]}function E(Z){var Y=L.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(L.ie&&L.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;F=null}if(!n||F!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(L.ie&&L.win&&P(j.styleSheets)&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}F=X}if(L.ie&&L.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&P(j.createTextNode)){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(I&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function K(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&P(encodeURIComponent)?encodeURIComponent(Y):Y}var d=function(){if(L.ie&&L.win){window.attachEvent("onunload",function(){var ac=H.length;for(var ab=0;ab<ac;ab++){H[ab][0].detachEvent(H[ab][1],H[ab][2])}var Z=M.length;for(var aa=0;aa<Z;aa++){y(M[aa])}for(var Y in L){L[Y]=null}L=null;for(var X in OX_swfobject){OX_swfobject[X]=null}OX_swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(L.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(L.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(L.w3&&!(L.wk&&L.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);J(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(P(am.flashvars)){am.flashvars+="&"+ai+"="+escape(Z[ai])}else{am.flashvars=ai+"="+escape(Z[ai])}}}if(E(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;O(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:L,getFlashPlayerVersion:function(){return{major:L.pv[0],minor:L.pv[1],release:L.pv[2]}},hasFlashPlayerVersion:E,createSWF:function(Z,Y,X){if(L.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(L.w3&&A()){O(Z,aa,X,Y)}},removeSWF:function(X){if(L.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(L.w3){v(aa,Z,Y,X)}},addDomLoadEvent:J,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return K(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return K(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(L.ie&&L.win){l.style.display="block"}}if(D){D(B)}}a=false}}}};var OX_swfobject=OX_swfobject||OX.swfobject(window,document,navigator);
 !function(){OX.init();OX.setGateway("https://33across-d.openx.net/w");var j=true;var g=OX.utils.fetchBrowserId();var h=OX.utils.appendBrowserIdToPixelUrl("https://jp-u.openx.net/w/1.0/pd?plm=10&ph=8f5ed5d4-642c-4222-968a-d709c87ac3c8",g);if(j){OX.utils.attachListener(window,"load",function(){OX.cmp.lookupIabConsent(function(i,l){h=a(h,i);h=e(h,l);OX.utils.loadPixels(h)});OX.utils.loadBrowserIdPixels(g)})}var b;while(window.OX_cmds&&(b=OX_cmds.shift())){if(typeof b==="function"){b()}}var f=window.OX_reporter_cmds;if(!f){try{f=window.top.OX_reporter_cmds}catch(c){}}for(var d in f){if(typeof f[d]==="function"){f[d](window)}}var k;while(window.OX_ads&&(k=OX_ads.shift())){k.hasOwnProperty("slot_id")?OX.load(k):OX.requestAd(k)}function a(i,n){if(n){var m=i.indexOf("?")===-1?"?":"&";var l=OX.utils.serialize({gdpr:n.gdprApplies,gdpr_consent:n.tcString||n.consentData});i+=m+l}return i}function e(l,n){if(n){var m=l.indexOf("?")===-1?"?":"&";var i=OX.utils.serialize({us_privacy:n.uspString});l+=m+i}return l}}(); window.OXHBConfig = {}; OXHBConfig = { "oxns" : "OX", "host" : "33across-d.openx.net", "medium" : "w", "expVer" : "", "ad_position_detection_enabled" : true, "siteName" : "33Across", "js_cookies_enabled" : true, "passthrough_args" : "", "has_pixels" : true, "pixel_url" : "https://jp-u.openx.net/w/1.0/pd?plm=10&ph=8f5ed5d4-642c-4222-968a-d709c87ac3c8", "chain_timing_enabled" : false, "browser_id" : false, "chain_timeout" : "2500", "xdi_tapad" : false, "presync_mediamath" : false, "presync_criteo": false, "perf_id" : "b42feb3b-e717-4ea6-9cd6-0b5f64b5dce1", "perf_timestamp" : "1627934222631" }; OXHBConfig.DFP_mapping = {"single_request": true, "zlb": false, "keys": ["placement", "pf", "cc", "gm", "gf", "ag1", "ag2", "ag3", "33xvis"], "omit_js_sdk": 0, "hb_ver": "2.0", "currency": ["USD"], "version": "2.0", "timeout": 5000, "max_bucket": 10000, "bm": 1, "/17118521": {"oxAdUnitId": {"default": 538526169}, "sizes": ["160x600", "300x250", "728x90", "320x50", "300x600", "970x250","320x480","480x320"]}};
/*! hb-sdk v2.0.29-2 */
var oxhbjs=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=29)}([function(e,t,n){"use strict";var i=function(){for(var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=0,i=t.length;n<i;n++)for(var r=t[n],o=Object.keys(r),a=0,s=o.length;a<s;a++){var d=o[a],c=r[d];void 0!==c&&(e[d]=c)}return e};e.exports=i.apply(void 0,[{},n(18),n(6),n(30),n(20),n(12),n(13),n(11),n(21),n(31),n(32),n(33),n(22),n(10),n(34)])},function(e,t,n){"use strict";var i=n(0),r={MAX_BUCKET:2e3,TIER_1:1e3,TIER_2:5e3,MAX_BUCKET_MULTIPLIER:10,TIMEOUT:2500,FAILSAFE_TIMEOUT_BUFFER:1e3,SUPPORTED_AD_UNIT_SIZES:{300:["250","600","1050"],320:["480","50"],728:["90"],768:["1024"],160:["600"],970:["90","250"],468:["60"],120:["600"],480:["320"],336:["280"],1024:["768"]},OX_DFP_HEIGHT_DELTA:5,SLOT_STATUS:{BYPASS:1,READY:2,REQUESTED:3,TIMED_OUT:8,REFRESHING:9,DIL_REFRESH_SKIP:10,RESPONDED:4,DISPLAYING:5,DISPLAYED:6,CREATED:7},REQUEST_STATUS:{READY:2,REQUESTED:3,RESPONDED:4,TIMEOUT:5},BID_EXPIRATION_THRESHOLD:27e4,SI_BEACON_DEBOUNCE_WAIT_MS:5e3,BID_ID_PREFIX:"hb-bid-",RELEASE_CANDIDATE_EXCEPTION_REPORT_PATH_TEMPLATE:'//{host}/{medium}/1.0/exc?ee={experimentVersion}&trc="{errorString}"&timestamp={timestamp}',EXCEPTION_REPORT_PATH_TEMPLATE:'//{host}/{medium}/1.0/exc?trc="{errorString}"&timestamp={timestamp}',EXCEPTION_REPORT_TEMPLATE:"[{context}] [{siteUrl}] {stackTrace}",TARGETING_MAP_SEARCH_PREFIXES:["ox","meta"],BC_BIDDER_TYPES:{STANDARD_BIDDER:"hb_2",API_BIDDER:"hb_2api",PREFETCH_BIDDER:"hb_2prf",PREFETCH_WITH_DEFINED_SLOTS_BIDDER:"hb_2prfds",SLOT_CACHING_BIDDER:"hb_2sc"},AUCTION_TYPES:{STANDARD:"standard",PREFETCH:"prefetch",SLOT_CACHE:"slot_cache",SLOT_CACHE_FALLBACK:"slot_cache_fallback"},HANDLER_FN_CALL:"parse_hb_br_",JSONP_RESPONSE_HANDLER_PREFIX:"ox_jsonp_handler_",AD_REQUEST_HOOKS:{ON_AD_REQUEST:1,ON_AD_RESPONSE:2,ON_ADUNIT_CREATED:3,ON_ADUNIT_INITIALIZED:4,ON_ADUNIT_RENDER_START:5,ON_ADUNIT_RENDER_FINISH:6,ON_AD_RENDER_START:7,ON_AD_RENDER_FINISH:8,ON_AD_DEFAULTED:9,ON_AD_NOT_DEFAULTED:10,ON_AD_REQUEST_ERROR:11},GATEWAY_RESOURCES:{ACJ:"acj",RR:"rr",RI:"ri",RDF:"rdf",BR:"br"},AD_REQUEST_TEMPLATES:{GW_URL:"{gw}/{v}/{r}?{q}"},AD_TYPE:{RICH_MEDIA_AD:"rich_media"},NETWORK_LATENCY_KEY:"net_latency",USER_LATENCY_KEY:"user_latency"};r.SLOT_STATUS=i.keyMirror(r.SLOT_STATUS),e.exports=r},function(e,t,n){"use strict";var i=n(35);e.exports=new i},function(e,t,n){"use strict";var i=n(0).keyMirror,r={DEBUG:null,ERROR:null,WARN:null,START_AUCTION:null,AUCTION_START:null,AUCTION_BID_REQUESTED:null,BIDS_REQUESTED:null,AUCTION_BID_RECEIVED:null,SLOT_CACHED_BID_REQUESTS_RECEIVED:null,BID_RECEIVED:null,BID_RENDERED:null,AUCTION_POST_BID_RECEIVED:null,END_AUCTION:null,AUCTION_END:null,AUCTION_COMPLETE:null,GET_POST_BIDS:null,BID_ON_FLIGHT:null,AUCTION_TIMEOUT_START:null,BID_EXPIRED:null,BIDDER_ADAPTOR_ERROR:null,SLOT_DISPLAYED:null};e.exports=i(r)},function(e,t,n){"use strict";function i(e,t,n,i){var s,d={context:e.context||void 0,escalate:e.escalate||!1,scope:e.scope||this},c={context:d.context,siteUrl:window.location.href,stackTrace:""};try{t.call(d.scope)}catch(e){if(c.stackTrace=e.stack,s=a.template(o.EXCEPTION_REPORT_TEMPLATE,c),d.escalate||r(s),n&&n.call(d.scope,e,s),d.escalate)throw e}finally{if(i)return i.call(d.scope)}}function r(e){var t={host:c&&c.host,medium:c&&c.medium,errorString:encodeURIComponent(e)||"",timestamp:+new Date,experimentVersion:c&&c.expVer};if(c){var n=c.expVer?o.RELEASE_CANDIDATE_EXCEPTION_REPORT_PATH_TEMPLATE:o.EXCEPTION_REPORT_PATH_TEMPLATE;a.beacon(a.template(n,t))}else d.emit(s.WARN,"gatewayExceptionCall: bidder config host is not configured!")}var o=n(1),a=n(12),s=n(3),d=n(2),c=window.OXHBConfig;e.exports={tryCatch:i,gatewayExceptionCall:r}},function(e,t,n){"use strict";function i(){f._each(B(function(e){return e.isUsingDiv&&!e.used}),function(e){e.isUsingDiv=void 0})}function r(e,t){var n=0,i=0;if(!t||!t.expectedBidsByBidder||!t.expectedBidsByDivId)return void S.emit(h.WARN,"updateAuctionFromSsMetaRequestConfig failed.",t);if(t.completed)return void S.emit(h.WARN,"updateAuctionFromSsMetaRequestConfig called after auction completed.",t);if(f._each(e.slots,function(e){t.expectedBidsByDivId[e.div]||(t.expectedBidsByDivId[e.div]=0),f._each(e.bids,function(r,o){t.expectedBidsByBidder[o]||(t.expectedBidsByBidder[o]=0),t.expectedBidsByBidder[o]++,t.expectedBidsByDivId[e.div]++,i++,n++})}),n!==i)throw new Error("updateExpectedBids found auction with different expected bids by divId and by Bidder.");l.expectedBids=n}function o(e,t,n,i,r){var o;if(!e.timestamp)return!1;if(e.div!==t){if(f.domElById(e.div)&&!e.prefetched)return!1}return!!f.isSubset(n,[e.getSize()])&&(!(!i&&!e.cpm)&&(e.bidderCode===r&&(o=e.timestamp<f.dateNow()-m.BID_EXPIRATION_THRESHOLD,!(e.rendered||o||e.used||e.isUsingDiv))))}function a(e,t){if(!A(e))return void S.emit(h.ERROR,"addBid could not add bid, required fields: bidderCode, auction_id, div, adunit",e);e.timestamp=new Date,y.push(e),E[e.id]=e,e.exp&&(e.ttlTimer=setTimeout(function(){x(e.id)},+e.exp)),s(e,t)}function s(e,t){p.tryCatch({escalate:!0},function(){var n=T&&T[e.auction_id];if((t=void 0!==t&&t)&&(n&&n.type===m.AUCTION_TYPES.SLOT_CACHE||!n)){var i=w[e.div],r=i&&i.length;if(i&&r>0){var o=i[r-1];if(o){for(;o&&o.completed;)i.pop(),o=i[r-1];o&&o.expectedBidsByDivId[e.div]<1&&S.emit(h.ERROR("Accelerated Ads: Auction div accounting error.  Some auctions get more ads than they are expecting.")),e.auction_id=o&&o.id,n=o,o&&0===o.expectedBidsByDivId[e.div]&&w[e.div].pop()}}}if(!(n&&n.completed||!n)){if(n.returnedBids++,n.expectedBidsByBidder[e.bidderCode]--,0===--n.expectedBidsByDivId[e.div]&&w[e.div])for(var a=0;a<w[e.div].length;a++){var s=w[e.div][a];if(s&&s.id===n.id){w[e.div].splice(a,1);break}}S.emit(h.BID_RECEIVED,e,t),n.returnedBids==n.expectedBids&&P(n)}},function(e,t){S.emit(h.ERROR,"updateBidAuctionAndReturnToBaseBidder exception: ",e)})}function d(e,t){return e.cpm>t.cpm?-1:e.cpm<t.cpm?1:e.prefetched&&!t.prefetched?-1:t.prefetched&&!e.prefetched?1:0}var c,u,l,f=n(0),p=n(4),g=n(36),h=n(3),m=n(1),_=n(7),v={},y=[],E={},T={},w={},S=n(2);t.addAdapter=function(e,t){S.emit(h.DEBUG,"Adding "+t+" adapter",e),e&&t&&f.isFn(e.callBids)&&("ssmeta"===t?c=e:"prefetch"===t?u=e:v[t]=e)},t.reset=function(){v={},c=void 0,u=void 0,y=[],E={},w={},T={},l=void 0,delete n.c[7],_=n(7)},t.clearMatchedButUnusedBids=i,t.fetchBids=function(e,t,n,y){if(v=y||v,!e)return void S.emit(h.ERROR,"fetchBids failed, no config.");if(t&&!f.isFn(t)&&(S.emit(h.WARN,"fetchBids called with improper callback"),t=null),n&&!f.isInteger(n)&&(S.emit(h.WARN,"fetchBids called with improper timeout"),n=null),!c&&v=={})return void S.emit(h.WARN,"fetchBids called with no adapters");i();var E=g.createAuction(e.type,t),A={};if(T[E.id]=E,l=E,c)p.tryCatch({escalate:!0},function(){e.params=e.params||{},e.params.auction_id=E.id,r(e,E),c.callBids(e)},function(e,t){S.emit(h.BIDDER_ADAPTOR_ERROR,"Bidder: ssmeta caused an error.",e)});else if(e.type===m.AUCTION_TYPES.SLOT_CACHE)u.callBids(E.id,e,function(){P(E)});else{for(var R in v)if(v.hasOwnProperty(R)){var D=(v[R],[]),b={params:e.params[R]};E.expectedBidsByBidder[R]=0;for(var O in e.slots)if(e.slots.hasOwnProperty(O)&&e.slots[O].bids&&e.slots[O].bids[R]){var I,x=e.slots[O],N={};if(N.div=x.div,N.adunit=x.adunit,N.sizes=x.sizes,N.params={},e.params&&e.params[R])for(I in e.params[R])e.params[R].hasOwnProperty(I)&&(N.params[I]=e.params[R][I]);for(I in x.bids[R])x.bids[R].hasOwnProperty(I)&&(N.params[I]=x.bids[R][I]);x.targetingMap&&(N.targetingMap=x.targetingMap),x.floor&&(N.floor=x.floor),D.push(N),E.expectedBidsByBidder[R]++,E.expectedBids++}D.length>0&&(b.bids=D,b.auction_id=E.id,b.bidderCode=R,b.type=e.type,b.timeLimit=e.timeLimit,b.experiments=e.experiments,e.pageTargeting&&(b.pageTargeting=e.pageTargeting),A[R]=b)}0!==E.expectedBids&&(S.emit(h.DEBUG,"fetchBids::bids in bidPool:",f._map(B(),function(e){return e.used?"USED":e.id+"|"+e.isUsingDiv}).join(", ")),f._each(v,function(t,n){function i(e){var t={};e&&e.divs&&e.divs.length&&(t=e.divs&&e.divs.reduce(function(t,n,i){var r=decodeURIComponent(n);return t[r]={div:r,oxAdUnitId:parseInt(e.slots[i],10),sizes:f.normalizeSizes(e.sizes[i])},t},{})),A[n].bids=A[n].bids.reduce(function(e,n){return t[n.div]&&t[n.div].oxAdUnitId===n.params.adunitid&&f.isSubset(t[n.div].sizes,n.sizes)||e.push(n),e},[]),f._each(A[n].bids,function(e){w[e.div].pop()}),c(v[n],A[n])}function r(){c(v[n],A[n])}function c(e,t){f._each(e.callBids(t),function(e){e.then(function(e){f._each(e,function(e){a(e,!1)})})})}var u=[];A[n]&&f._each(A[n].bids,function(t){var i;E.expectedBidsByDivId[t.div]||(E.expectedBidsByDivId[t.div]=0),E.expectedBidsByDivId[t.div]++,E.type===m.AUCTION_TYPES.SLOT_CACHE_FALLBACK&&(w[t.div]=w[t.div]||[],w[t.div].push(E));var r=B(function(i){return o(i,t.div,t.sizes,e.noFillsAllowed,n)});S.emit(h.DEBUG,"fetchBids::acceleratedAds:",n,t.div,f._map(r,function(e){return e.id}).join(", ")),r.length>0?(r.sort(d),i=r[0],i.auction_id=E.id,i.isUsingDiv=t.div,i.prefetched&&(i.div=t.div,i.prefetched=!1),S.emit(h.DEBUG,"Unused ad "+i.id+" is being used for "+t.div),setTimeout(function(){s(i,!0)},0)):u.push(t)}),u.length&&p.tryCatch({escalate:!0},function(){A[n].bids=u,S.emit(h.BIDS_REQUESTED,A[n]),"openx"===n?e.type===m.AUCTION_TYPES.SLOT_CACHE_FALLBACK?_.getSlotCache(window.OXHBConfig.host,window.OXHBConfig.medium,window.location.href).then(i,r):c(v[n],A[n]):v[n].callBids(A[n])},function(e,t){S.emit(h.BIDDER_ADAPTOR_ERROR,"Bidder:"+n+" caused an error.",e)})}))}return 0===E.expectedBids&&e.type!==m.AUCTION_TYPES.SLOT_CACHE?(e.type!==m.AUCTION_TYPES.PREFETCH&&S.emit(h.WARN,"fetchBids called with invalid params or no valid bid requests",e),setTimeout(function(){P(E)},0),E):(S.emit(h.AUCTION_START,E),n&&setTimeout(function(){E.ended||C(E.id)},1*n),E)},t.getAuctions=function(){var e=[];for(var t in T)T.hasOwnProperty(t)&&e.push(T[t]);return e},t.getAuctionByAuctionId=function(e){return e?T[e]:null},t.setExpectedBids=function(e,t){if(!(l&&l.expectedBidsByBidder&&f.isStr(e)&&f.isInteger(t)))return void S.emit(h.WARN,"setExpectedBidsCount failed.",e);if(l.completed)return void S.emit(h.WARN,"setExpectedBidsCount called after auction completed.",e);var n=0;l.expectedBidsByBidder[e]=1*t;for(var i in l.expectedBidsByBidder)l.expectedBidsByBidder.hasOwnProperty(i)&&(n+=l.expectedBidsByBidder[i]);l.expectedBids=n};var A=function(e){return e&&e.bidderCode&&e.auction_id&&e.div},B=function(e){for(var t=[],n=0;n<y.length;n++)e&&!e(y[n])||t.push(y[n]);return t},R=function(e){return B(function(t){return t.auction_id==e})},D=function(e){return B(function(t){return t.div==e})},b=function(e){return B(function(t){return t.adunit==e})},O=function(e){return B(function(t){e=f.normalizeSizes(e);for(var n=0;n<e.length;n++)if(e[n]==t.getSize())return!0;return!1})},I=function(e){return E[e]},x=function(e){var t=0,n=y.length,i=E[e];if(!i)return null;for(delete E[e],S.emit(h.BID_EXPIRED,i);t<n;t++)if(e===y[t].id)return y.splice(t,1),i};t.getBidById=I,t.getBids=B,t.getBidsByAuctionId=R,t.getBidsByDiv=D,t.getBidsByAdunit=b,t.getBidsBySizes=O,t.deleteBidById=x,t.addBid=a,t.renderBid=function(e,t){var n=!1;if(!e||!f.isStr(e)||!t)return S.emit(h.ERROR,"renderBid called with improper arguments",e,t),n;var i=E[e];return i?i.rendered?(S.emit(h.ERROR,"renderBid called but bid already rendered.",e),n):void p.tryCatch({escalate:!0},function(){n=!0,i.renderBid&&f.isFn(i.renderBid)?i.renderBid(t):f.produceFrame({headHTML:"",bodyHTML:i.ad,hookNode:t,height:i.height,width:i.width,name:i.id}),i.rendered=n,S.emit(h.BID_RENDERED,i)},function(e,t){n=!1,S.emit(h.ERROR,"renderBid failed to render.",e)},function(){return n}):(S.emit(h.ERROR,"renderBid called but could not find bid.",e),n)};var C=function(e){if(!e||!f.isStr(e))return void S.emit(h.ERROR,"endAuction called with improper argument",e);var t=T[e];if(!t)return void S.emit(h.ERROR,"endAuction called but could not find auction.",e);t.ended&&S.emit(h.WARN,"endAuction called but auction has already ended.",e),t.ended=!0,t.endTime=new Date,S.emit(h.AUCTION_END,t)};t.endAuction=C;var P=function(e){e.completed=!0,e.complete_time=new Date,e.ended||(e.callback&&e.callback(R(e.id)),C(e.id)),S.emit(h.AUCTION_COMPLETE,e)}},function(e,t,n){"use strict";var i=Object.prototype.toString;t.isSubset=function(e,t){var n,i;if(!this.isValidArray(e)||!this.isValidArray(t))return!1;if(e.length<t.length)return!1;for(n=0;n<t.length;n++)for(i=0;i<e.length&&t[n]!==e[i];i++)if(i===e.length-1)return!1;return!0},t.isA=function(e,t){return i.call(e)==="[object "+t+"]"},t.isFn=function(e){return this.isA(e,"Function")},t.isDefined=function(e){return void 0!==e},t.isStr=function(e){return this.isA(e,"String")},t.isArray=function(e){return this.isA(e,"Array")},t.isValidArray=function(e){return e&&this.isArray(e)&&0!==e.length},t.isNumeric=function(e){return!this.isArray(e)&&e-parseFloat(e)+1>=0},t.isInteger=function(e){return this.isNumeric(e)&&e%1==0},t.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return e.length<=0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}},function(e,t,n){"use strict";function i(e,t,n){return o||(o=new Promise(function(i,r){var o=f.SI.RESPONSE_HANDLER_PREFIX+l++,d={},c="//"+e+"/"+t+"/1.0/si?ju={ju}&jsonp={jsonp}&si_opt={si_opt}";d.ju=encodeURIComponent(n),d.jsonp=o,d.si_opt=f.SI.GET_REQUEST,window[o]=i,a.loadScript({src:s.getRequestUrl(c,d)},void 0,r)}).catch(function(e){o=void 0,u.emit(c.DEBUG,"Gateway SI Call:",e)}))}function r(e,t){t.launchLabExperiment&&t.launchLabExperiment.isParticipating&&t.releaseCandidateCode?e.enableExperiment(t.releaseCandidateCode+"_"+t.launchLabExperiment.id):t.launchLabExperiment&&t.launchLabExperiment.isParticipating?e.enableExperiment(t.launchLabExperiment.id):t.releaseCandidateCode&&e.enableExperiment(t.releaseCandidateCode)}var o,a=n(8),s=n(9),d=n(1),c=n(3),u=n(2),l=1,f={SI:{RESPONSE_HANDLER_PREFIX:d.JSONP_RESPONSE_HANDLER_PREFIX+"si_",GET_REQUEST:"get"}};e.exports={GATEWAY:f,getSlotCache:i,setExperimentParam:r}},function(e,t,n){"use strict";var i=n(3),r=n(2);t.loadScript=function(e,t,n){r.emit(i.DEBUG,"Adapter loadScript:",e);var o=document.createElement("script");o.type="text/javascript",o.async=!0,t&&"function"==typeof t&&(o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,t())}:o.onload=function(){t()}),n&&"function"==typeof n&&(o.onerror=n),o.src=e.src,e.id&&(o.id=e.id);var a=document.getElementsByTagName("head");a=a.length?a:document.getElementsByTagName("body"),a.length&&(a=a[0],a.insertBefore(o,a.firstChild))}},function(e,t,n){"use strict";function i(e){var t=_.bm;t||(t=1);var n=1e3*e/t,i=Math.min(n,u);return i>0&&i<25&&(i=25),(n<l?5*Math.round(i/50):n<f?10*Math.round(i/100):50*Math.round(i/500))+""}function r(e,t,n){var i,r={medium:window.OXHBConfig.medium,rtype:t,txn_state:n};return"ri"===t&&(e+="&bs={bs}",r.bs=window.OXHBConfig&&window.OXHBConfig.siteName),i=o(e,r),p.getImgBeacon(i)}function o(e,t){return window.OXHBConfig&&window.OXHBConfig.expVer&&(e+="&ee={ee}",a(t,window.OXHBConfig&&window.OXHBConfig.expVer)),p.template(e,t)}function a(e,t){e.ee=t}function s(e,t,n,i,r,o){m.addBid(d(e,t,n,i,o),!!r)}function d(e,t,n,o,a){var s,d,c=n?o.getAdUnit(n):void 0,u=c&&c.get("chain_revenue"),l=c&&c.get("pub_rev"),f=Date.now();if(c&&(u||l)){s=g.createBid(1);var p,m,v,y=c.get("chain"),E=y&&y.length&&y[y.length-1],T=y&&y[0],w=E&&E.tbd,S=u||E&&E.pub_rev;d=E?E.ts:"",s.transactionState=d,s.hasChainLengthGreaterThanOne=T!==E,s.ad_id=c.get("ad_id"),s.perf_id=c.get("perf_id"),s.perfMetrics=o.getPerformanceMetrics(),s.cpm=Number(S)/1e3,s.secondPrice=Number(S)/1e3,s.secondPriceBucket=i(s.secondPrice,_.bm),w&&(s.firstPrice=Number(w)/1e3,s.firstPriceBucket=i(s.firstPrice,_.bm)),s.deal_id=E?E.deal_id:void 0,s.pmp=1===c.get("auct_win_is_deal"),p=E?E.html||E.ad_url:"",m=r(o.getRecordTemplate(),"rr",d),v=r(o.getRecordTemplate(),"ri",d),s.ad=m+p+v,s.adUrl=c.get("ad_url"),s.width=c.get("width")||T&&T.width,s.height=c.get("height")||T&&T.height,s.renderBid=function(e){var t=document.createElement("div");e.appendChild(t),c.get("type")!==h.AD_TYPE.RICH_MEDIA_AD?c.set("anchor",t):c.set("rm_anchor",t),o.showAdUnit(n)},s.noFill=!1,s.exp=h.BID_EXPIRATION_THRESHOLD}else s=g.createBid(2),s.cpm=0,s.secondPrice=0,s.secondPriceBucket=i(s.secondPrice,_.bm),s.noFill=!0;return s.div=t,s.auction_id=e,s.bidderCode="openx",s.bidRequestStartTs=a,s.bidResponseReceivedTs=f,s}var c,u,l,f,p=n(0),g=n(14),h=n(1),m=n(5),_=window.OXHBConfig&&window.OXHBConfig.DFP_mapping||{};c=_.max_bucket||h.MAX_BUCKET,l=h.TIER_1,f=h.TIER_2,u=c*h.MAX_BUCKET_MULTIPLIER,e.exports={addBid:s,buildBid:d,getRequestUrl:o,getBucketFromCPM:i}},function(e,t,n){"use strict";function i(e){return e?[["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]].map(function(t){if(t[1].test(e)){var n=t[1].exec(e),i=n&&n[1].split(/[._]/).slice(0,3);return i&&i.length<3&&Array.prototype.push.apply(i,1==i.length?[0,0]:[0]),{name:t[0],version:parseFloat(i.join("."))}}}).filter(Boolean).shift():null}function r(e){try{var t=document.cookie.split(e+"=");if(2==t.length)return t[1].split(";")[0]}catch(e){}}function o(e,t,n){var i=e+"=";if(i+=(t||"")+";path=/;",T.defined(n)){var r=new Date;r.setTime(r.getTime()+n),i+="expires="+r.toUTCString()+";"}try{document.cookie=i}catch(e){}}function a(){function e(e,a){var c,u,l="OX_"+e;if(n?(u=t.getItem(l),a&&t.removeItem(l)):i?(u=r(l),a&&o(l)):(u=d[l],a&&delete d[l]),u){c=u.split(s);for(var f=0;f<c.length;f++)c[f]=unescape(c[f]);return 1===c.length?c[0]:c}}var t,n,i,a=_.getOXHBConfigByName(_.OX_HB_CONFIG_KEY.JS_COOKIES_ENABLED),s="|",d={};try{t=localStorage,t.setItem("1","1"),t.removeItem("1"),n=1}catch(e){navigator.cookieEnabled&&a&&(i=1)}return{put:function(e,r){var a,c,u,l="OX_"+e;if(E.isArray(r)){c=[];for(var f=0;f<r.length;f++)c.push(escape(r[f]));a=c.join(s)}else a=escape(r);n?t.setItem(l,a):i?(u=new Date(v.dateNow()+63072e7).toGMTString(),o(l,a,u)):d[l]=a},get:function(t){return e(t)},remove:function(t){return e(t,1)}}}function s(){function e(){var e,i,a="",s=[];if(t)return t;try{if(document.cookie&&(e=document.cookie.split(escape(n)+"="),2<=e.length&&(i=e[1].split(";"),i[0]&&i[0].indexOf("|")>=0)))return unescape(i[0].split("|").join(","))}catch(e){}for(var d in r)if(r.hasOwnProperty(d))if(window.ActiveXObject)for(var c=0;c<r[d].activex.length;++c)try{ActiveXObject(r[d].activex[c]),s.push(d);break}catch(e){}else for(var u=0;u<navigator.plugins.length;++u)if(navigator.plugins[u].name.match(r[d].plugin)){s.push(d);break}return window.postMessage&&s.push("pm"),t=a=s.join(","),o(n,s.join("|")),a}var t,n="OX_plg",i="ShockwaveFlash.ShockwaveFlash",r={swf:{activex:[i,i+".3",i+".4",i+".5",i+".6",i+".7"],plugin:/flash/gim},sl:{activex:["AgControl.AgControl"],plugin:/silverlight/gim},pdf:{activex:["acroPDF.PDF.1","PDF.PdfCtrl.1","PDF.PdfCtrl.4","PDF.PdfCtrl.5","PDF.PdfCtrl.6"],plugin:/adobe\s?acrobat/gim},qt:{activex:["QuickTime.QuickTime","QuickTime.QuickTime.4"],plugin:/quicktime/gim},wmp:{activex:["WMPlayer.OCX"],plugin:/(windows\smedia)|(Microsoft)/gim},shk:{activex:["SWCtl.SWCtl","SWCt1.SWCt1.7","SWCt1.SWCt1.8","SWCt1.SWCt1.9",i+".1"],plugin:/shockwave/gim},rp:{activex:["RealPlayer","rmocx.RealPlayer G2 Control.1"],plugin:/realplayer/gim}};return{get:function(){return e()}}}function d(){function e(){var e=v.dateNow();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function t(){return!!r(i)}function n(e,t){if(3!=e.length)return!0;var n=parseInt(e[2]);return isNaN(n)||n+o<t}var i="OX_u",o=15552e3;return{get:function(){if(!t()){var i=a().get("BI"),r=[],o=Math.round(v.dateNow()/1e3);return i&&(r=i.split(".")),n(r,o)?void a().put("BI",[e(),o.toString(),o.toString()].join(".")):(a().put("BI",[r[0],r[1],o.toString()].join(".")),[r[0],r[1]])}}}}function c(e){if(e){f(u(e,l()))}}function u(e,t){if(e&&t){e+="&"+T.serialize({bi:t})}return e}function l(){var e=a().get(w),t=[];if(e&&(t=e.split(".")),3===t.length)return t[0]}function f(e){var t,n,i;e&&(t=T.template("<iframe src='{src}' width='0' height='0' style='display:none;'></iframe>",{src:e}),i=document.createElement("div"),i.innerHTML=t,(n=document.body)&&n.appendChild(i.firstChild))}function p(){var e,t=_.getOX(),n=y.detectWindowDimensions(),i={res:screen.width+"x"+screen.height+"x"+screen.colorDepth,plg:s().get(),ch:document.charset||document.characterSet,tz:(new Date).getTimezoneOffset()},r=document.getElementsByTagName("meta");n.width&&n.height&&(i.ws=n.width+"x"+n.height),i.ifr=y.inIframe()?1:0;var o=y.getBrowserDimensions();i.tws=o?o.width+"x"+o.height:i.ws;for(var c=0;c<r.length;c++)if(e=r[c],e.name&&"viewport"===e.name){i.vmt=1;break}if(t&&t.browser_id){var u=d().get();u&&2===u.length&&(i.bi=u[0],i.ba=u[1])}else a().remove(w),a().remove(S);return i}function g(){return m||(m=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest)}function h(e,t){var n,i,r,o=t,a=t.document,s=a.documentElement;return e?(o=t.top,a=t.top.document,s=a.documentElement,r=a.body,n=o.innerWidth||s.clientWidth||r.clientWidth,i=o.innerHeight||s.clientHeight||r.clientHeight):(s=a.documentElement,n=o.innerWidth||s.clientWidth,i=o.innerHeight||s.clientHeight),n+"x"+i}var m,_=n(22),v=n(20),y=n(13),E=n(6),T=n(12),w="BI",S="BI_TS";e.exports={getCookie:r,setCookie:o,store:a,pixelDrop:c,getContextArgs:p,detectBrowser:i,shouldUseAjax:g,getViewportDimensions:h}},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(n(19),n(6)),o=Object.prototype.hasOwnProperty,a=(Array.prototype.slice,function(){var e=0;return function(){return++e}}());t.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},t.contains=function(e,t){if(r.isEmpty(e))return!1;if(r.isFn(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},"function"!=typeof Object.create&&(Object.create=function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=(void 0===t?"undefined":i(t)))throw TypeError("Argument must be an object");e.prototype=t;var n=new e;return e.prototype=null,n}}()),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(i.prototype=this.prototype),r.prototype=new i,r}),t.extends=function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);null===t?e.prototype=Object.create(t):(n.prototype=t.prototype,e.prototype=new n)},t.getUniqueIdentifierStr=function(){return a()+Math.random().toString(16).substr(2)},t.intersection=function(e,t){var n,i={},r=[],o=!!e&&e.length,a=!!t&&t.length;for(n=0;n<o;n++)i[e[n]]=!0;for(n=0;n<a;n++)i[t[n]]&&r.push(t[n]);return r},t.keyMirror=function(e){var t=Object.keys(e),n={};return t.forEach(function(e){n[e]=e}),n},t.replaceTokenInString=function(e,t,n){return this._each(t,function(t,i){t=void 0===t?"":t;var r=n+i.toUpperCase()+n,o=new RegExp(r,"g");e=e.replace(o,t)}),e},t._each=function(e,t){if(!r.isEmpty(e)){if(r.isFn(e.forEach))return e.forEach(t,this);var n=0,i=e.length;if(i>0)for(;n<i;n++)t(e[n],n,e);else for(n in e)o.call(e,n)&&t.call(this,e[n],n)}},t._keys=function(e){if(e!==Object(e))throw new TypeError("utils.keys called on a non object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},t._map=function(e,t){if(r.isEmpty(e))return[];if(r.isFn(e.map))return e.map(t);var n=[];return this._each(e,function(i,r){n.push(t(i,r,e))}),n}},function(e,t,n){"use strict";function i(e){var t=d(e);(new Image).src=t}function r(e){return void 0!==e}function o(){return location.protocol}function a(){var e;if(window.AMP_LISTENING&&window.context&&window.context.canonicalUrl)return window.context.canonicalUrl;try{e=top.location.href}catch(e){}return e||s()}function s(){var e=document.referrer;try{e=top.document.referrer}catch(t){if(parent)try{e=parent.document.referrer}catch(e){}}if(!e&&opener)try{e=opener.location.href}catch(e){}return e||""}function d(e){var t;if(e)return t=e.indexOf("//"),0===t?e="http:"+e:5!==t&&6!==t&&(e="http://"+e),"https:"===o()?e.replace("http:","https:"):e}function c(e,t,n,i){t=t||{};var o,a,s,d="",c=!1,u="";n=n||"{",i=i||"}";for(var l=0;l<e.length;l++)o=e.charAt(l),c||o!==n?c&&o===i?(a=t[d],s=r(a)&&null!==a?a:"",u+=s,c=!1,d=""):c?d+=o:u+=o:c=!0;return u}function u(e){return c("<div style='position:absolute;left:0px;top:0px;visibility:hidden;'><img src='{src}'/></div>",{src:d(e)})}function l(e){var t,n="";if("object"===(void 0===e?"undefined":p(e)))for(var i in e)e.hasOwnProperty(i)&&(t=e[i],r(t)&&null!==t&&(g.isArray(t)&&(t=t.join(",")),n+=i+"="+escape(t)+"&"));return n.length>1&&(n=n.substr(0,n.length-1)),n}function f(e){var t,n;if(g.isArray(e)){t={};for(var i=0;i<e.length;i++){n=e[i];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=n(6);e.exports={beacon:i,defined:r,detectProtocol:o,ensureRightProtocol:d,template:c,getImgBeacon:u,detectPageURL:a,detectRefererURL:s,serialize:l,merge:f}},function(e,t,n){"use strict";function i(){return window.parent==window.top}function r(e,t){return e.parentNode.insertBefore(t,e.nextSibling),t}function o(e){e.parentNode.removeChild(e)}function a(e,t){e=e||window,t=t||document;var n=t.documentElement,i=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||i.clientWidth,height:e.innerHeight||n.clientHeight||i.clientHeight}}function s(e){return!isNaN(e)&&e<1e6}function d(){return window.self!==window.top}function c(){try{return window.parent.document.getElementsByTagName("body"),!0}catch(e){return!1}}function u(e){var t,n;return e?("SCRIPT"===e.tagName?(n=document.createElement("div"),r(e,n),t=n.getBoundingClientRect(),o(n)):t=e.getBoundingClientRect(),{top:Math.round(t.top),left:Math.round(t.left)}):null}function l(){var e,t=window,n=window.document;try{return d()&&(t=window.parent,n=window.parent.document),e=a(t,n),e&&s(e.width)&&s(e.height)?e:null}catch(e){return null}}function f(e){var t,n;if(!e)return null;try{return n=d()?window.parent.document:window.document,t=u(n.getElementById(e)),t&&s(t.left)&&s(t.top)?t:null}catch(e){return null}}e.exports={inIframe:d,isFriendlyFramed:c,isPagePosAvailable:i,detectWindowDimensions:a,getBrowserDimensions:l,getAdPosition:f}},function(e,t,n){"use strict";function i(e,t){function n(){return s.STATUS_CODES[u]}function i(){return o.emit(r.DEBUG,"Bid Status: ",n(),this),u}function d(){return this.width+"x"+this.height}var c=a.getUniqueIdentifierStr(),u=e||0;this.bidderCode="",this.width=0,this.height=0,this.cpm=0,this.statusMessage=n(),this.adId=c,this.id=c,this.exp=t||s.BID_EXPIRATION_THRESHOLD,this.seq_no=1,this.timestamp,this.getSize=d,this.getStatusCode=i,this.incrementAttemptMetric=function(){this.seq_no+=1}}var r=n(3),o=n(2),a=n(0),s=n(37);t.createBid=function(e,t){return new i(e,t)}},function(e,t,n){"use strict";function i(e,t){S=e.max_bucket||O.MAX_BUCKET,B=O.TIER_1,R=O.TIER_2,A=S*O.MAX_BUCKET_MULTIPLIER;var n=this;this.metadata={slots:[],slotsByDivId:{},slotsBySlotId:{},pageTargeting:{},syncRendering:!1,singleRequest:!!e.force_sra_order,disableInitialLoad:!1},this.mapping=function(e){var t,n={};for(var i in e)e.hasOwnProperty(i)&&(t=e[i],-1!==i.indexOf("/")&&(i=i.toLowerCase()),n[i]=t);return n}(e),this.hbSdkStartTs=Date.now(),x.setConfig(window.OXHBConfig,this.mapping),this.caf=N,this.config=window.OXHBConfig,this.releaseCandidateCode=this.config.expVer,this.launchLabExperiment=t,n.allowAcceleratedAdNoFills(!0),window.addEventListener("message",w),C.on(I.BID_RECEIVED,function(e,t){n.onBidReceived.call(n,e,t)})}function r(e){return this.metadata.slotsByDivId[e]}function o(e){var t=this;e||(e=this.metadata.slots),D._each(e,function(e){t.fireOxMetricForSlot(e)})}function a(e){var t=this;if(e.skipBoBeacon)return void(e.skipBoBeacon=!1);e.isTimedOut()||D._each(e.bids,function(n){x.fireSingleBoBeacon(n,e.metrics,t.hbSdkStartTs)})}function s(e){return e&&(window.OXHBConfig&&(window.OXHBConfig._bidderConfiguration=e),this.bcBidderType=e),this.bcBidderType}function d(e,t){var n={},i=!1;if(t||(t=[]),!D.isEmpty(e)){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o.toLowerCase()]=e[o]);D._each(t,function(e){e=e.toLowerCase(),r[e]&&(n[e]=r[e],i=!0)})}return i&&n}function c(e){var t=e&&e.length;if(t<=0)return!1;var n,i;for(n=0;n<t;n++)switch(i=e[n],i.status){case P.REQUESTED:case P.READY:case P.CREATED:return C.emit(I.DEBUG,"Not Ready to request AdServer due to Slot "+i.div+" status: "+i.status),!1}return!0}function u(e,t){var n=this.newAuctionConfig(O.AUCTION_TYPES.STANDARD,this.releaseCandidateCode);return this.attemptAuction(e,n,t)}function l(e,t,n){var i,r=this,o=[];if(D._each(e,function(e){if(e.status===P.DIL_REFRESH_SKIP)return e.status=P.RESPONDED,void(e.skipBoBeacon=!0);if(e.status!==P.CREATED&&e.status!==P.READY&&e.status!==P.BYPASS||r.performAdServerMapping(e),e.status===P.READY){if(e.inFlight)return e.status=P.REQUESTED,void o.push(e);o.push(e),r.addSlotForAuction(e,t)}}),i=r.createAuction(t),!(o.length<=0))return f.call(r,i,o,r.mapping.timeout,n),i}function f(e,t,n,i){var r=this;i?e.setToTimeout=function(){setTimeout(r.createTimeoutForSlots(e,t),n),r._beforeDisplayAuction.setToTimeout=null}:setTimeout(r.createTimeoutForSlots(e,t),n)}function p(e){var t=this;if(e){C.emit(I.DEBUG,"creating a "+e.type+" auction");var n,i,r,o,a,s=e.slots&&e.slots.length,c=t.mapping;if(!s&&e.type!==O.AUCTION_TYPES.SLOT_CACHE)return a='createAuction: No eligible bids for auction type "'+e.type+'"',void(e.type===O.AUCTION_TYPES.PREFETCH?(b.gatewayExceptionCall("["+t.bidderType()+"] "+a),C.emit(I.ERROR,a)):C.emit(I.DEBUG,a));if(c&&c.params&&(e.params=c.params),t.launchLabExperiment&&t.launchLabExperiment.isParticipating&&(e.params.openx||(e.params.openx={}),e.params.openx.launchLabExperiment=t.launchLabExperiment),t.releaseCandidateCode&&(e.params.openx||(e.params.openx={}),e.params.openx.releaseCandidateCode=t.releaseCandidateCode),c.ssmeta_endpoint&&(e.params.ssmeta_endpoint=c.ssmeta_endpoint),e.timeLimit=c.timeout||O.TIMEOUT,e.pageTargeting=e.type===O.AUCTION_TYPES.PREFETCH?t.metadata.pageTargeting:d(t.metadata.pageTargeting,c.keys),e.noFillsAllowed=t._noFillsAllowed,C.emit(I.DEBUG,"Creating Auction",e),b.tryCatch({context:t.bidderType()},function(){i=N.fetchBids(e,function(e){t.onAuctionComplete.call(t,e)})}),i)for(o=0;o<s;o++)n=e.slots[o],r=t.metadata.slotsByDivId[n.div],i.expectedBidsByDivId[n.div]&&r&&r.status===P.READY&&(r.setStartMetricsFromAuction(i),r.status=P.REQUESTED,r.inFlight=i.id);return i}}function g(e,t){var n={div:e.div,adunit:e.zone,sizes:e.supportedSizes,bids:{openx:{adunitid:e.auid}}},i=e.slot;i&&i.getTargetingMap&&(n.targetingMap=d(i.getTargetingMap(),this.mapping.keys)),e.metaConfig&&(n.bids=e.metaConfig),this.mapping.single_request||n.targetingMap||(n.targetingMap={}),e.floor&&(n.floor=e.floor),t.slots.push(n)}function h(e,t){var n={type:e||O.AUCTION_TYPES.STANDARD,params:{},slots:[],experiments:{}};return t&&(n.experiments.releaseCandidateCode=t),this.launchLabExperiment&&this.launchLabExperiment.isParticipating&&(n.experiments.launchLabExperiment=this.launchLabExperiment),n}function m(e,t){this.requestAdServer()}function _(e,t){var n,i=this;return n=D._map(t,function(e){return e.setAsTimeoutStarted(),{dfpSlot:e,auction_id:e.inFlight}}),function(){D._each(n,function(e){var t=e.dfpSlot,n=N.getAuctionByAuctionId(t.inFlight)||{};t.status===P.REQUESTED&&n.expectedBidsByDivId&&n.expectedBidsByDivId[t.div]>0&&(C.emit(I.WARN,"Slot "+t.div+" has timed out!!"),t.setAsTimedOut())}),e&&!e.ended&&(C.emit(I.WARN,"Auction has timed out.",e,t),N.endAuction(e.id)),i.requestAdServer(e&&e.id)}}function v(){}function y(e){this.createAuction()}function E(e,t){var n,i=this,r=i.metadata.slotsByDivId[e.div];if(r&&(r.inFlight&&(n=N.getAuctionByAuctionId(r.inFlight)),t&&(e.usedOnTimestamp=new Date),r.isTimedOut()&&x.fireSingleBoBeacon(e,r.metrics),r.status===P.REQUESTED||r.status===P.RESPONDED)){if(e.width&&e.height)r.sizeString=e.getSize(),i.mapping.size_override&&(r.sizeString=i.mapping.size_override[r.sizeString]||r.sizeString),r.sizeKey="ox"+r.sizeString;else if(r.sizeString){var o=r.sizeString.split("x");e.width=Number(o[0]),e.height=Number(o[1])}(!r.winningBid||!r.winningBid.cpm||r.winningBid.cpm<e.cpm)&&(r.winningBid=e,r.bucket=r.getPrice(),r.ad=e.ad),r.bids.push(e),(!n||n.returnedBids===n.expectedBids||n.expectedBidsByDivId[e.div]<=0)&&(r.status=P.RESPONDED,r.inFlight=null,C.emit(I.DEBUG,"BaseBidder::OnBidReceived: setting slot "+r.div+" to RESPONDED"),i.requestAdServer(n&&n.id))}}function T(e){C.emit(I.DEBUG,"ALLOWING CACHE NO FILLS SETTING: ",e),this._noFillsAllowed=e}function w(e){if(e&&e.data&&"OX"===e.data.type){var t,n,i=e.data.targetingMap.oxb;if("string"==typeof i)t=i.split(O.BID_ID_PREFIX)[1];else if(i instanceof Array)for(var r=0;r<i.length;r++){var o=i[r];-1!==o.indexOf(O.BID_ID_PREFIX)&&(t=o.split(O.BID_ID_PREFIX)[1])}if(!t)return;n=N.getBidById(t),n&&e.source.postMessage({oxAdHtml:n.ad,oxbValue:i,width:n.width,height:n.height,type:"OX"},"*")}}var S,A,B,R,D=n(0),b=n(4),O=n(1),I=n(3),x=n(24),C=n(2),P=O.SLOT_STATUS,N=n(5);i.prototype.bidderType=s,i.prototype.createAuction=p,i.prototype.createTimeoutForSlots=_,i.prototype.onAuctionComplete=m,i.prototype.addSlotForAuction=g,i.prototype.requestAdServer=v,i.prototype.newAuctionConfig=h,i.prototype.requestSlotToAuction=y,i.prototype.onBidReceived=E,i.prototype.requestSlotsToAuction=u,i.prototype.areSlotsReadyForAdServer=c,i.prototype.fireOxMetricForSlot=a,i.prototype.fireOxMetrics=o,i.prototype.allowAcceleratedAdNoFills=T,i.prototype.attemptAuction=l,i.prototype._filterTargetingMap=d,i.prototype._getSlotByDiv=r,e.exports=i},function(e,t,n){"use strict";function i(e){var t,n=u.getNormalizedWindowDims(),i=e.slot,r=[],o=i.getSizes(n.width,n.height);if(!o||0===o.length)return p.emit(f.WARN,"DFPSizesToOXSizes: No size specified on slot.",i),r;for(var a=0;a<o.length;a++)(t=o[a])&&t.getWidth&&t.getHeight&&r.push(t.getWidth()+"x"+t.getHeight());return r}function r(e,t){for(var n=[],i=t||{},r=0;r<e.length;r++){var o=e[r];n.push(i[o]||o)}return n}function o(e,t){var n,i,r,o,a;if("object"!==(void 0===e?"undefined":c(e)))return e;n=e.default;var s=u._keys(t);if(s.length>0)e:for(var d=s.length-1;d>=0;d--)if(r=s[d],a=e[r])if(u.isArray(t[r])){for(var l in t[r])if(i=a[t[r][l]])break e}else o=t[r],i=a[o];return i||n}function a(e){return 0===e.indexOf("/")?e.substring(1):"/"+e}function s(e){var t={};return u._each(e,function(e,n){"sizes"!=n&&(t[n]=e)}),t}function d(e,t,n){var i=e.status===g.BYPASS||e.status===g.CREATED,r=t.disable_dilpf&&n&&n.disableInitialLoad;return i&&r}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(0),l=n(1),f=n(3),p=n(2),g=l.SLOT_STATUS;l.OX_DFP_HEIGHT_DELTA,l.SUPPORTED_AD_UNIT_SIZES,n(4);e.exports=function(e,t,n,c){var l,h,m,_,v,y,E=e.slot,T=e.zone;if(c||(e.size=i(e)),0===e.size.length)return p.emit(f.WARN,"Returning early from _performDFPMapping because slot does not have a size."),e.noSize=!0,void(e.status=g.BYPASS);for(e.noSize=!1,h=T.toLowerCase()+"/";(y=h.lastIndexOf("/"))>0&&!l;)if(h=h.substring(0,y),m=t[h]||t[a(h)])switch(_=u.intersection(r(e.size,t.size_override),m.sizes),t.version){case"2.0":_.length>0?(l=o(m.oxAdUnitId,E.getTargetingMap()),e.sizeKey="oxb",e.sizeString=_[0],e.supportedSizes=_):e.noSize=!0;break;case"META":if(_.length>0){e.sizeString=_[0],e.supportedSizes=_,e.metaConfig=e.metaConfig||s(m),l=!0;continue}e.noSize=!0;break;default:for(var w=0;w<e.size.length;w++)if(v=e.size[w],l=o(m[v],E.getTargetingMap())){e.sizeKey="ox"+v,e.sizeString=v,e.supportedSizes=r(e.size,t.size_override);break}}if(!l)return void(e.status=g.BYPASS);e.auid=l,d(e,t,n)?e.status=g.BYPASS:e.status=g.READY}},function(e,t,n){"use strict";function i(e,t,n,i,d,c,u,l,f){d||(d=a.CREATED);var p={zone:e,div:n,dfpDisplayed:0,status:d,rendered:0,size:r.normalizeSizes(t),sizeString:c,metrics:{},targetingMap:u||{},bids:[],winningBid:void 0,refreshCount:0,setAsRenderedIfUnsupported:function(){!this.noSize&&r.domElById(this.div)||(this.rendered=!0)}};return i||(i={isApi:!0,setTargeting:function(e,t){},getTargeting:function(){return{}},getTargetingMap:function(){return p.targetingMap},getSizes:function(){return[]}},p.bucket="t",p.ad=""),p.setTargeting=function(e,t){p.slot&&!p.slot.isApi&&p.slot.setTargeting(e,t)},p.getTargeting=function(e){return p.slot&&!p.slot.isApi?p.slot.getTargeting(e):[]},p.slot=i,p.getOxTargetingKey=function(){switch(l){case"2.0":return"oxb";case"META":return"meta";default:return p.sizeKey}},p.getOxTargetingValue=function(e){var t,n=e&&e.type||"secondPrice",i=p.getPrice(n),a=p.winningBid&&p.winningBid.width&&p.winningBid.height?p.winningBid.getSize():p.slot.sizeString;switch(a=f&&f[a]?f[a]:a,p.winningBid?(p.bucket=i,p.sizeKey="ox"+p.sizeString,t=[p.getPrice(n)],p.winningBid.pmp&&t.push("pmp"+p.winningBid.secondPriceBucket),p.winningBid.deal_id&&t.push(p.winningBid.deal_id),p.winningBid.id&&t.push(o.BID_ID_PREFIX+p.winningBid.id)):(p.bucket="t",t=["t"]),t=t.join(","),l){case"2.0":return p.sizeString+"_"+t;case"META":var s=[];return p.bids&&r._each(p.bids,function(e,t){s.push(e.bidderCode+"_"+p.sizeString+"_"+e.secondPriceBucket||"0")}),s.join(",");default:return t}},p.getPrice=function(e){var t,n=p.winningBid;return n?(e||(e="secondPrice",n.firstPrice&&!s.bid_boost_enabled&&(e="firstPrice")),t={firstPrice:""+(n.firstPriceBucket||0),secondPrice:""+n.secondPriceBucket},t[e]):"t"},p.setAsTimedOut=function(){p.status=a.TIMED_OUT,p.inFlight=null,p.bucket=p.bids.length?p.bucket:"t",this.hasBidByBidderCode("openx")||(p.metrics.timedOut=!0)},p.reset=function(){p.metrics={},p.bids=[],p.ad="",p.cpm=0,p.winningBid=void 0},p.setStartMetricsFromAuction=function(e){p.metrics.startTime=e.startTime},p.setAsTimeoutStarted=function(){p.metrics.timeoutStarted||(p.metrics.timeoutStarted=new Date)},p.isTimedOut=function(){return p.metrics.timedOut},p.hasBidByBidderCode=function(e){var t=!1;return r._each(p.bids,function(n){n.bidderCode===e&&(t=!0)}),t},p}var r=n(0),o=n(1),a=o.SLOT_STATUS,s=window.OXHBConfig&&window.OXHBConfig.DFP_mapping||{};e.exports=i},function(e,t,n){"use strict";function i(e){return Array.prototype.slice.call(e)}function r(e){return e.reduce(function(e,t){return Array.isArray(t)?e=e.concat(r(t)):e.push(t),e},[])}Array.prototype.reduce||Object.defineProperty(Array.prototype,"reduce",{value:function(e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),i=n.length>>>0,r=0;if(2==arguments.length)t=arguments[1];else{for(;r<i&&!(r in n);)r++;if(r>=i)throw new TypeError("Reduce of empty array with no initial value");t=n[r++]}for(;r<i;)r in n&&(t=e(t,n[r],r,n)),r++;return t}}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.exports={flatten:r,toArray:i}},function(e,t,n){"use strict";e.exports={function:"function",undefined:"undefined",object:"object",string:"string",number:"number"}},function(e,t,n){"use strict";t.dateNow=function(){return(new Date).getTime()}},function(e,t,n){"use strict";var i=n(6);t.getParameterByName=function(e){var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),i=n.exec(window.location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},t.buildQueryString=function(e){var t=[],n=function(e,n){t.push([e,encodeURIComponent(n)].join("="))};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(i.isArray(o))for(var a=r+"[]",s=0;s<o.length;s++)n(a,o[s]);else n(r,o)}return t.join("&")},t.transformAdServerTargetingObj=function(e){var t="";if(!e)return"";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},t.tryAppendQueryString=function(e,t,n){return n?e+=t+"="+encodeURIComponent(n)+"&":e}},function(e,t,n){"use strict";function i(e){p=e}function r(e,t){p[e]=t}function o(e){return p[e]}function a(){var e=o(f.NAMESPACE);return window[e]}function s(){return[o(f.HOST),o(f.MEDIUM)].join("/")}function d(e){g[e.getAdRequestUid()]=e}function c(e){return g[e]}function u(e,t){h[t]||(h[t]=[]),h[t].push(e)}function l(e){var t=a(),n=h[e]||[];return t&&t.getHooksByType&&t.getHooksByType(e)&&(n=n.concat(t.getHooksByType(e))),n}var f={HOST:"host",MEDIUM:"medium",PASSTHRU_ARGS:"passthrough_args",SITE_NAME:"siteName",NAMESPACE:"oxns",CHAIN_TIMING_ENABLED:"chain_timing_enabled",CHAIN_TIMEOUT:"chain_timeout",HAS_PIXELS:"has_pixels",PIXEL_URL:"pixel_url",JS_COOKIES_ENABLED:"js_cookies_enabled",SCHAIN:"schain"},p={},g={},h={};e.exports={setOXHBConfig:i,setOXHBConfigByName:r,getOXHBConfigByName:o,getOX:a,getGateway:s,recordOXRequest:d,getOXRequest:c,addHook:u,getHooksByType:l,OX_HB_CONFIG_KEY:f}},function(e,t,n){"use strict";function i(e,t){function n(e,t){var n,i=T[e]||[],r=a.getHooksByType(e)||[],o=r.concat(i);if(o)for(var s=0;s<o.length;s++)n=o[s],n.apply(this,t)}function i(e,t){e&&(w.gdpr=e.gdprApplies,w.gdpr_consent=e.tcString||e.consentData),t&&(w.us_privacy=t.uspString)}function l(e,t){var i;b.setRequestStart(),n(O.ON_AD_REQUEST,[b]),g=1;var r=!0;a.shouldUseAjax()&&(i=b.createAdRequestURL(),r=!a.ajax(i,e||window[B],void 0,{method:"GET",withCredentials:!0})),r&&(w.callback=B,i=b.createAdRequestURL(),c.loadScript({src:i,id:D},e,t||window[R]))}var f,p,g,h,m,_,v=a.getUniqueIdentifierStr(),y={},E={},T={},w={o:v},S=-1,A=-1,B="OX_"+v,R=B+"_onAdRequestError",D="ox_"+e.rtype+"_"+v,b=this,O=o.AD_REQUEST_HOOKS;if(b.addAdUnit=function(e){b.getOrCreateAdUnit(e);w.auid||(w.auid=[]),w.auid.push(e)},b.addHook=function(e,t){T[t]||(T[t]=[]),T[t].push(e)},b.addVariable=function(e,t,n,i){var r=(n||"c")+"."+e;(i||!E[r]&&t.length>0)&&(E[r]=[]),E[r]&&(E[r].push(t),E[r]=E[r].filter(function(e,t,n){return n.indexOf(e)===t}))},b.createAdRequestURL=function(){var e,t,n,i=a.getOXHBConfigByName(a.OX_HB_CONFIG_KEY.PASSTHRU_ARGS)||"";if(n=a.getOX(),b.setSchain(a.getOXHBConfigByName(a.OX_HB_CONFIG_KEY.SCHAIN)||void 0),n&&n.AdRequest){var r=new n.AdRequest({},{}).createAdRequestURL().split("&").reduce(function(e,t){var n=t.split("="),i=n[0],r=n[1];return/^c[.]+/.test(i)&&(e[i]=r.split(encodeURIComponent(","))),e},{});for(var s in r)if(r.hasOwnProperty(s))if(a.isArray(r[s]))for(var d=0;d<r[s].length;d++)b.addVariable(s.slice(2),r[s][d]);else b.addVariable(s.slice(2),r[s])}return t=a.merge([w,E,a.getContextArgs(),n&&n._requestArgs]),i&&(i+="&"),i+=a.serialize(t),e=a.template(o.AD_REQUEST_TEMPLATES.GW_URL,{gw:f,v:"1.0",r:p,q:i}),_=e,e},b.dflt=function(e,t){var n=y[e];n&&n.dflt(t)},b.ifrmHTML=function(e,t){var n=y[e];n&&n.set("iframe_html",t)},b.disableFeature=function(e){w.df=w.df||[],w.df.push(e)},b.enableFeature=function(e){w.ef=w.ef||[],w.ef.push(e)},b.enableExperiment=function(e){w.ee=e},b.enableControlGroup=function(e){w.ec=e},b.setRequestStart=function(){S=a.dateNow()},b.setRequestEnd=function(e){if(!(S<0)&&(A=a.dateNow(),e.ads&&e.ads.oxt)){var t=e.ads.oxt,n=A-S;if(t&&n>t)try{var i=b.getNetworkLatency();i&&a.storeLatencyByKey(o.NETWORK_LATENCY_KEY,Math.round(i-t)),a.storeLatencyByKey(o.USER_LATENCY_KEY,Math.round(n-t))}catch(e){}}},b.getPerformanceMetrics=function(){return{startTime:S,endTime:A,networkLatency:b.getNetworkLatency()}},b.getNetworkLatency=function(){var e=0,t=_;return function(){if(e&&t===_)return e;if(t=_,window&&window.performance&&window.performance.getEntriesByType)for(var n,i=window.performance.getEntriesByType("resource"),r=i.length-1;r>=0;r--)if(n=i[r],n.name===t)return e=n.duration,n.duration}}(),b.getOrCreateAdUnit=function(e){return y[e]?b.getAdUnit(e):b.createAdUnit(e)},b.getAdUnit=function(e){return y[e]},b.createAdUnit=function(e){return y[e]=new u(e,v),n(O.ON_ADUNIT_CREATED,[y[e]]),y[e]},b.getAdRequestUid=function(){return v},b.get=function(e){return w[e]},b.isResponseEmpty=function(){var e,t;return!(m&&m.ads&&m.ads.adunits&&(e=m.ads.adunits[0])&&(t=e.chain)&&t.length)},b.getRecordTemplate=function(){return m&&m.ads?m.ads.record_tmpl:""},b.getCachedDivsByIndex=function(e){return m&&m.divs&&m.divs.length>e?m.divs[e]:""},b.loadAdResponse=function(e){var t,i=e.ads,r=e.ads.adunits,o=function(e){n(O.ON_ADUNIT_INITIALIZED,[e])};h=h||a.domElById(D),m=e;for(var s=0;s<r.length;s++){t=r[s];var d=t.auid+"_"+s,c=b.createAdUnit(d),u=b.getAdUnit(t.auid);if(u){var l=u.getProperties();for(var f in l)l.hasOwnProperty(f)&&c.set(f,l[f])}c.load({au_uid:d,adunit:t,rt:i.record_tmpl,oninit:o,chain:i.chain,perf_id:i.perf_id})}a.pixelDrop(i.pixels)},b.load=function(e,t){(0,r.lookupIabConsent)(function(n,r){i(n,r),l(e,t)})},b.setAdUnitMarketFloor=function(e,t){b.getOrCreateAdUnit(e),w.aumf=w.aumf||[],w.aumf.push(e+":"+t)},b.setNetworkLatency=function(){var e=a.getLatencyStringByKey(o.NETWORK_LATENCY_KEY),t=a.getLatencyStringByKey(o.USER_LATENCY_KEY);e&&(w.nl=encodeURIComponent(e)),t&&(w.ul=encodeURIComponent(t))},b.setBrowserDims=function(e){w.dims=e},b.setAdUnitLocation=function(e){w.adxy=e},b.setType=function(e){p=e},b.setGateway=function(e){f=a.ensureRightProtocol(e)},b.setPageURL=function(e){w.ju=a.ensureRightProtocol(e)},b.setRefererURL=function(e){w.jr=e},b.setSchain=function(e){w.schain=e},b.setTest=function(e){w.test=e?"true":null},b.setBidderEligibility=function(e){w.be=e?1:0},b.setPrefetch=function(e){w.prf=e?1:0},b.setBidderConfiguration=function(e){w.bc=e},b.setBidderTimeout=function(e){w.bt=e},b.setAdSizes=function(e){w.aus=w.aus?w.aus+"|":"",w.aus=w.aus+e.join(",")},b.showAdUnit=function(e){var t=y[e];t&&t.render({framed:g,onAdUnitRenderStart:function(){n(O.ON_ADUNIT_RENDER_START,[t])},onAdUnitRenderFinish:function(){n(O.ON_ADUNIT_RENDER_FINISH,[t])},onAdRenderStart:function(){n(O.ON_AD_RENDER_START,[t])},onAdRenderFinish:function(e,t,i){n(O.ON_AD_RENDER_FINISH,[e,t,i])},onAdDefaulted:function(e,t,i){n(O.ON_AD_DEFAULTED,[e,t,i])},onAdNotDefaulted:function(e,t,i){n(O.ON_AD_NOT_DEFAULTED,[e,t,i])},shareFrameContents:!(!a.getOX()||!a.getOX().shareFrameContents)})},a.recordOXRequest(b),window[B]=function(e,t){if(!e&&p===o.GATEWAY_RESOURCES.BR)return void s.emit(d.DEBUG,"Prefetch Adapter: miss");if(t){if(!(t.status>=200&&t.status<300||304===t.status))return void window[R]();e=JSON.parse(e)}b.loadAdResponse(e),b.setRequestEnd(e),n(O.ON_AD_RESPONSE,[b])},window[R]=function(){n(O.ON_AD_REQUEST_ERROR,[b])},b.setGateway(t&&t.gw||e.gw),b.setPageURL(t&&t.url||e.url),b.setRefererURL(t&&t.ref||e.ref),b.setType(e.rtype),b.setNetworkLatency(),window.postMessage||b.disableFeature("c"),t){if(t.auid&&b.addAdUnit(t.auid),t.aumf&&b.setAdUnitMarketFloor(t.auid,t.aumf),t.test&&b.setTest(t.test),t.vars)for(var I in t.vars)t.vars.hasOwnProperty(I)&&b.addVariable(I,t.vars[I]);if(t.ef)for(var x=0;x<t.ef.length;x++)b.enableFeature(t.ef[x]);if(t.df)for(var C=0;C<t.df.length;C++)b.disableFeature(t.df[C]);t.onResponse&&b.addHook(t.onResponse,O.ON_AD_RESPONSE),t.onAdUnitRender&&b.addHook(t.onAdUnitRender,O.ON_ADUNIT_RENDER_START),t.onAdUnitLoaded&&b.addHook(t.onAdUnitLoaded,O.ON_ADUNIT_RENDER_FINISH)}}var r=n(41),o=n(1),a=n(0),s=n(2),d=n(3),c=n(8),u=n(42);e.exports=i},function(e,t,n){"use strict";function i(){var e={};return window.performance&&window.performance.timing&&window.performance.timing.domContentLoadedEventEnd&&(e.domLoadedTs=window.performance.timing.domContentLoadedEventEnd),e}var r=n(0),o=n(9),a=window.OXHBConfig||{},s=a.DFP_mapping||{},d={getBidResult:function(e,t){return e.noFill?"0":t.timedOut?"t":"p"},bidNeedsBoBeacon:function(e){return"openx"===e.bidderCode},fireSingleBoBeacon:function(e,t,n){var c=0;if(a.host&&a.medium&&e&&d.bidNeedsBoBeacon(e)){t.timeoutStarted&&t.startTime&&(c=t.timeoutStarted-t.startTime),e.usedOnTimestamp&&e.timestamp&&(c=e.usedOnTimestamp-e.timestamp),(c<0||!c)&&(c=0);var u={},l="http://"+a.host+"/"+a.medium+"/1.0/bo?bd={bd}&br={br}&bp={bp}&bt={bt}&ts={ts}&bs={bs}&ca={ca}&bsq={bsq}";return e&&e.transactionState&&(u.bd=e.timestamp-t.startTime,u.br=d.getBidResult(e,t),u.bp=String(1e3*e.cpm),u.bt=s.timeout+c,u.ts=e.transactionState,u.bs=a.siteName,u.bsq=e.seq_no,e.perf_id&&e.perfMetrics&&e.perfMetrics.networkLatency&&(u.pfid=e.perf_id,u.nl=Math.round(e.perfMetrics.networkLatency),l+="&pfid={pfid}&nl={nl}"),(s.collect_slot_info||s.use_slot_info)&&(u.bidStartTs=t.startTime.getTime()/1e3,u.bidReceivedTs=e.timestamp.getTime()/1e3,u.sdkLoadTs=n/1e3,u.dlTs=i().domLoadedTs/1e3,l+="&bidstartts={bidStartTs}&bidreceivedts={bidReceivedTs}&sdkloadts={sdkLoadTs}&dlts={dlTs}",e.bidRequestStartTs&&(u.brStartTs=e.bidRequestStartTs/1e3,u.brReceivedTs=e.bidResponseReceivedTs/1e3,l+="&brstartts={brStartTs}&brreceivedts={brReceivedTs}")),u.ca=e.usedOnTimestamp?1:0,(1===e.seq_no||2===e.seq_no&&e.usedOnTimestamp)&&(r.beacon(o.getRequestUrl(l,u)),e.incrementAttemptMetric&&e.incrementAttemptMetric())),u}},setConfig:function(e,t){a=e||a,s=t||s}};e.exports=d},function(e,t,n){"use strict";function i(e,t){function n(t,n,i,o){var a,s,d=M.slots,c=d.length,u=n&&n.length,l=(e.timeout||y.TIMEOUT)+y.FAILSAFE_TIMEOUT_BUFFER,f=0;if(r.call(F),o){if(n?m._each(n,function(e){var t=e.getSlotElementId();m._each(d,function(e){e.div!==t||e.status===A.BYPASS||e.noSize||f++})}):m._each(d,function(e){e.status===A.BYPASS||e.noSize||f++}),0===f)return void t(n,i);G.push({arguments:arguments,expectedRenderCount:f,status:y.REQUEST_STATUS.READY})}for(s=0;s<c;s++)if(function(e){return M.disableInitialLoad&&!!e.dfpDisplayed&&e.status!==A.DISPLAYED}(d[s])||function(e){return!M.disableInitialLoad&&!!e.dfpDisplayed&&!e.rendered}(d[s]))return;for(G[0].status=y.REQUEST_STATUS.REQUESTED,(!n||n&&n.length>1)&&(F.metadata.singleRequest=!0),F.allowAcceleratedAdNoFills(!1),s=0;s<c;s++)d[s].proxyDisplay=0;if(n&&n.length>0){for(d=[],s=0;s<u;s++){var g=n[s],h=g&&g.getSlotId(),v=h&&h.getId();v||S.emit(w.DEBUG,"Slots are not defined in the beginning"),a=M.slotsBySlotId["google_ads_iframe_"+v],a&&d.push(a)}c=d.length}for(s=0;s<c;s++)d[s].refreshCount+=1,1===d[s].refreshCount&&M.disableInitialLoad&&(d[s].winningBid&&d[s].winningBid.id||d[s].isTimedOut())&&(d[s].status=A.DIL_REFRESH_SKIP);for(s=0;s<c;s++)a=d[s],a.status!==A.DIL_REFRESH_SKIP&&(a.status!==A.READY&&a.status!==A.BYPASS&&(a.sizeKey||a.metaConfig)?(a.status=A.READY,a.setTargeting(a.getOxTargetingKey(),"r"),a.bucket="r",a.reset()):(a.status=A.BYPASS,a.bucket="t"),a.getTargeting(a.getOxTargetingKey()+"_2").length>0&&a.setTargeting(a.getOxTargetingKey()+"_2","r"),a.getTargeting(a.getOxTargetingKey()+"1").length>0&&a.setTargeting(a.getOxTargetingKey()+"1","r"),a.rendered=!1);for(s=c-1;s>=0;s--)if(a=d[s],a.dfpDisplayed){a.proxyDisplay=function(){return function(){for(t(n,i),s=0;s<c-1;s++)d[s].status=A.DISPLAYED,d[s].setAsRenderedIfUnsupported()}}(a.slot);break}F.requestSlotsToAuction(d)||F.requestAdServer(),L||(S.emit(w.DEBUG,"REFRESH_QUEUE: setting new refresh fail-safe timeout of "+l+"ms"),L=setTimeout(function(){if(!z){var e={context:F.bidderType(),siteUrl:window.location.href,stackTrace:"[Fail-safe timer] _onGptRefresh has been triggered!"};S.emit(w.ERROR,e.stackTrace),_.gatewayExceptionCall(m.template(y.EXCEPTION_REPORT_TEMPLATE,e)),z=!0,X=!0,m._each(G,function(e){var n=void 0,i=void 0,r=p(e.arguments,3);r[0],n=r[1],i=r[2],t(n,i)}),G=[]}},l))}function i(e){var t,n;_.tryCatch({context:F.bidderType()},function(){e.slot&&(t=e.slot.getSlotElementId(),(n=M.slotsByDivId[t])&&(n.rendered=1,S.emit(w.DEBUG,"GPT slotRendered is called for div:"+n.div,e,"REFRESH_QUEUE: current refresh queue length: ",G.length),n.dfpDisplayed||(n.dfpDisplayed=1,n.status=A.DISPLAYED,S.emit(w.DEBUG,"Slot "+n.div+" is DISPLAYED"),F.fireOxMetricForSlot(n)),n.bids&&m._each(n.bids,function(e){(!n.winningBid||n.winningBid&&n.winningBid.id===e.id)&&(e.used=!0)}),L&&(clearTimeout(L),L=void 0,S.emit(w.DEBUG,"REFRESH_QUEUE: clearing fail-safe refresh timeout",L)),G.length>0?0===--G[0].expectedRenderCount&&(G.shift(),N()):S.emit(w.DEBUG,"REFRESH_QUEUE: no refresh queues to process")))},function(e,t){S.emit(w.ERROR,"onGptSlotRendered: unexpected error"+t)})}function o(e,t,n,i){i&&F.addSlot.call(F,e,t,n,i)}function a(e,t,n){S.emit(w.DEBUG,"GPT defineOutOfPageSlot is called."),F.addSlot.call(F,e,[],t,n)}function s(e,t,i){S.emit(w.DEBUG,"GPT Refresh is called. Slots: ",e);var r=this,o=function(){i.apply(r,arguments)};if(X)return S.emit(w.WARNING,"[Fail-safe timer] was triggered in this session! Releasing early."),void i.apply(r,arguments);i.delayed=!0,n(o,e,t,!0)}function d(t,n){S.emit(w.DEBUG,"GPT Display is called for div: "+t);var i,r,o=this,a=arguments,s=M.slotsByDivId[t],d=!1,c=(e.timeout||y.TIMEOUT)+y.FAILSAFE_TIMEOUT_BUFFER,u=function(){return s&&s.dfpDisplayed&&s.status===A.DISPLAYED};return!s||s.dfpDisplayed||s.slot.isApi?void n.apply(o,arguments):X?(S.emit(w.WARNING,"[Fail-safe timer] was triggered in this session! Releasing early."),void n.apply(o,arguments)):(S.emit(w.DEBUG,"Fail-safe timer:: setting display fail-safe timeout of "+c+"msec with ID "+i),u()&&F.fireOxMetricForSlot(s),M.syncRendering||!s||u()||s.slot.isApi?void n.apply(o,a):(e&&(e.collect_slot_info||e.use_slot_info)&&(k.push(s),U&&(clearTimeout(U),U=void 0),U=setTimeout(function(){l(k).then(function(e){e.viewportDimensions=I.getViewportDimensions(x.inIframe(),window),m.beacon(v.getRequestUrl("http://{host}/{medium}/1.0/si?ju={href}&ts={ts}&slotid={slots}&divid={divs}&si_sz={sizes}&si_hit={cacheHit}&si_under={underfill}&si_over={overfill}&tws={viewportDimensions}",e)),S.emit(w.DEBUG,"SI beacon sent with: "+JSON.stringify(e))},function(){_.gatewayExceptionCall("["+D._bidderConfiguration+"] ["+window.location.href+"] Not sending SI beacon due to no eligible slots")})},y.SI_BEACON_DEBOUNCE_WAIT_MS)),s.dfpDisplayed=1,n.delayed=!0,s.proxyDisplay=function(){d||(S.emit(w.DEBUG,"Fail-safe timer:: display has been released for timer ID:",i),d=!0,n.apply(o,a))},r=F.requestSlotToAuction(s),F.metadata.disableInitialLoad||(i=setTimeout(function(){if(!d){var e={context:F.bidderType(),siteUrl:window.location.href,stackTrace:"[Fail-safe timer] _onGptDisplay has been triggered!"};S.emit(w.ERROR,"GPT Display timeout with ID "+i+" is called for div: "+t),S.emit(w.ERROR,e.stackTrace),_.gatewayExceptionCall(m.template(y.EXCEPTION_REPORT_TEMPLATE,e)),d=!0,X=!0,n.apply(o,a)}},c)),r))}function c(){if(S.emit(w.DEBUG,"GPT enableServices is called."),M.syncRendering)return void S.emit(w.DEBUG,"syncRendering is enabled.");F._beforeDisplayAuction||(F._beforeDisplayAuction=F.requestSlotsToAuction(F.metadata.slots,!0))}function u(e){S.emit(w.DEBUG,"GPT enableSingleRequest is called."),e&&(S.emit(w.DEBUG,"isSingleRequestEnabled is true."),F.metadata.singleRequest=!0)}function f(){S.emit(w.DEBUG,"GPT enableSyncRendering is called."),F.metadata.syncRendering=!0}function E(){S.emit(w.DEBUG,"GPT disableInitialLoad is called."),F.metadata.disableInitialLoad=!0}function B(e,t){F.metadata.pageTargeting[e]=t}function R(e){delete F.metadata.pageTargeting[e]}function O(){var e=b(window.navigator.userAgent);if(e&&"ie"===e.name&&e.version<=10)return void S.emit(w.WARN,"Skipping proxy. Browser is <= IE10");S.emit(w.DEBUG,"GPT loaded - Proxying GPT Calls");var t=H.pubads();t.refresh=g.before(t.refresh,function(e,t){F.metadata.syncRendering||s.call(this,t[0],t[1],e)}),H.display=g.before(H.display,function(e,t){F.metadata.syncRendering||d.call(this,t[0],e)}),F.mapping.disable_es||(H.enableServices=g.before(H.enableServices,c)),H.defineSlot=g.after(H.defineSlot,function(e,t,n){o.call(this,t[0],t[1],t[2],n)}),H.defineOutOfPageSlot=g.after(H.defineOutOfPageSlot,function(e,t,n){a.call(this,t[0],t[1],n)}),t.enableSyncRendering=g.after(t.enableSyncRendering,f),t.enableSingleRequest=g.after(t.enableSingleRequest,function(e,t,n){u.call(this,n)}),t.disableInitialLoad=g.before(t.disableInitialLoad,E),t.setTargeting=g.before(t.setTargeting,function(e,t){B(t[0],t[1])}),t.clearTargeting=g.before(t.clearTargeting,function(e,t){R(t[0])}),H.pubads().addEventListener("slotRenderEnded",i)}function C(){return T(!1,F.metadata.slotsBySlotId)}function P(){function e(){return 0===H.pubads().getSlots().length}if(S.emit(w.DEBUG,"Proxy Bidder initialize"),m.isArray(H.cmd))return void H.cmd.splice(0,0,O);e()&&H.cmd.push(function(){e()&&O()})}function N(){if(0!==G.length&&G[0].status!==y.REQUEST_STATUS.REQUESTED){S.emit(w.DEBUG,"REFRESH_QUEUE: "+G.length+" refresh requests remaining. refreshQueue is not empty. calling next requestRefresh!");var e=Array.prototype.slice.call(G[0].arguments,0,3);e.push(!1),F._requestRefresh.apply(F,e)}}h.call(this,e,t),this.bidderType(y.BC_BIDDER_TYPES.STANDARD_BIDDER),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var U,L,F=this,M=this.metadata,H=window.googletag,k=[],X=!1,G=[],z=!1;this.showAd=C.apply(this),this.init=P,this._beforeDisplayAuction=null,this.numberOfActiveRefreshTimers=0,this._requestRefresh=n,this._onGptSlotRendered=i,this._onGptDefineSlot=o,this._onGptDefineOutOfPageSlot=a,this._onGptRefresh=s,this._onGptDisplay=d,this._onGptEnableServices=c,this._onGptEnableSingleRequest=u,this._onGptEnableSyncRendering=f,this._onGptDisableInitialLoad=E,this._onGptPageLevelSetTargeting=B,this._onGptPageLevelClearTargeting=R,this._doProxyGpt=O,S.on(w.SLOT_DISPLAYED,N)}function r(){S.emit(w.DEBUG,"SLOTS LENGTH: ",this.metadata.slots.length),m._each(this.metadata.slots,function(e){S.emit(w.DEBUG,e.div,e.status)})}function o(){function e(e){return(e.status!==A.BYPASS||"t"===e.bucket)&&(e.status!==A.DISPLAYED&&e.status!==A.DISPLAYING&&(!!e.sizeString&&((!e.slot||!e.slot.isApi)&&!!e.bucket)))}var t=this;m._each(t.metadata.slots,function(n){e(n)&&O(n.slot,n,t.mapping.bid_boost_enabled)})}function a(){var e=this;S.emit(w.DEBUG,"=== DISPLAYING SLOTS ===");var t,n,i,r=this.metadata.slots.length;for(t=0;t<r;t++)n=this.metadata.slots[t],i=n.status,S.emit(w.DEBUG,"_displaySlots: Slot "+t+" status: "+i),i!==A.RESPONDED&&i!==A.BYPASS&&i!==A.TIMED_OUT||!n.dfpDisplayed||(n.status=A.DISPLAYING,S.emit(w.DEBUG,"Slot "+n.div+" is DISPLAYING"),setTimeout(function(t){return function(){t.status=A.DISPLAYED,t.proxyDisplay&&t.proxyDisplay(),e.fireOxMetricForSlot(t),t.setAsRenderedIfUnsupported(),S.emit(w.SLOT_DISPLAYED,t),S.emit(w.DEBUG,"Slot "+t.div+" is DISPLAYED")}}(n),0))}function s(e){return E(e,this.mapping,this.metadata,!1)}function d(e){var t,n=this;n._beforeDisplayAuction&&n._beforeDisplayAuction.setToTimeout&&n._beforeDisplayAuction.setToTimeout(),(t=n.requestSlotsToAuction(n.metadata.slots))||e.status!==A.BYPASS&&e.status!==A.RESPONDED&&e.status!==A.TIMED_OUT||n.requestAdServer()}function c(){if(S.emit(w.DEBUG,"Attempting to Request Ad Server"),!this.metadata.syncRendering&&(r.call(this),!this.metadata.singleRequest||this.areSlotsReadyForAdServer(this.metadata.slots)))return o.call(this),a.call(this),!0}function u(e,t,n,i){var r,o=this,a=new B(e,t,n,i,A.CREATED,null,null,o.mapping.version,o.mapping.size_override);return r=i.getSlotId().getId(),o.metadata.slotsByDivId[n]=a,o.metadata.slotsBySlotId["google_ads_iframe_"+r]=a,o.metadata.slots.push(a),S.emit(w.DEBUG,"GPT.defineSlot called => added slot div: "+n+" zone: "+e),a}function l(e){var t,n,i=(window.OX_dfp_ads,{}),r=[],o={},a=[],s=[];return m._each(e,function(e){for(var t=0,i=e.bids.length;t<i;t++){var d=e.bids[t];if(d.transactionState){n=d.transactionState;break}}e.auid&&(o[e.slot.getSlotElementId()]=0,r.push(e.slot.getSlotElementId()),a.push(e.auid),s.push(m.normalizeSizes(e.size).join(",")))}),new Promise(function(e,d){if(0===a.length||!window.location.href)return S.emit(w.WARN,"Not sending SI beacon due to no eligible slots"),void d();R.getSlotCache(D.host,D.medium,window.location.href).then(function(d){d&&d.divs?(t=f(o,d.divs),i.overfill=t.overfill,i.underfill=t.underfill):i.overfill=i.underfill=0,i.cacheHit=!!d,i.host=D.host,i.medium=D.medium,i.href=window.location.href,i.ts=n,i.slots=a.join(","),i.divs=r.join(","),i.sizes=s.join("|"),e(i)})})}function f(e,t){for(var n=Object.keys(e),i=0,r=0,o=0;o<t.length;o++){var a=decodeURIComponent(t[o]);a&&(0===e[a]?e[a]=1:r++)}return i=n.length-n.reduce(function(t,n){return t+e[n]},0),{overfill:r,underfill:i}}var p=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=n(54),h=n(15),m=n(0),_=n(4),v=n(9),y=n(1),E=n(16),T=n(26),w=n(3),S=n(2),A=y.SLOT_STATUS,B=n(17),R=n(7),D=window.OXHBConfig||{},b=n(10).detectBrowser,O=n(28).oxSetTargeting,I=n(10),x=n(13);m.extends(i,h),i.prototype.requestAdServer=c,i.prototype.requestSlotToAuction=d,i.prototype.performAdServerMapping=s,i.prototype.addSlot=u,i.prototype._setTargetingForSlots=o,i.prototype._displaySlots=a,e.exports=i},function(e,t,n){"use strict";function i(e,t){return function(n,i,r){e&&(n=n.replace("_ad_container",""));var d,c,u,l,f,p,g,h,m=!0;if(d=t[n],i&&!d&&(g=s.getBidIdAndDfpSlotFromTargetingMap(i,t,{searchKeys:a.TARGETING_MAP_SEARCH_PREFIXES,bidIdPrefix:a.BID_ID_PREFIX}),u=g.bidId,d=g.dfpSlot),u=u||d&&d.winningBid&&d.winningBid.id,o.getBidById(u)&&(m=o.getBidById(u).rendered),u&&!m&&(l=o.getBidById(u),(e||!d||"s"!==d.bucket)&&(c=d&&document.getElementById(d.div),!c&&r&&r.frameElement&&(c=r.frameElement.parentNode),c)))return p=r&&r.document&&r.document.body,l.hasChainLengthGreaterThanOne||!p?(h=Array.prototype.slice.call(c.childNodes),h.forEach(function(e){e.style&&(e.style.display="none")}),o.renderBid(u,c)):(f=document.getElementById(n),f&&l.width&&l.height&&(f.style.width=String(l.width)+"px",f.style.height=String(l.height)+"px"),o.renderBid(u,p)),d&&d.setTargeting(d.getOxTargetingKey(),"s"),!0}}var r=n(0),o=(function(e){e&&e.__esModule}(r),n(5)),a=n(1),s=n(27);e.exports=i},function(e,t,n){"use strict";function i(e,t,n){var i,r,o,a,s,d,c;for(i in e)if(e.hasOwnProperty(i)&&function(e){if(!n.searchKeys)return!1;var t,i,r=n.searchKeys,o=n.searchKeys.length;for(i=0;i<o;i++)if(t=r[i],-1!==e.indexOf(t))return!0;return!1}(i))if(r=i,e[r]instanceof Array){for(o=e[r].length,a=0;a<o;a++)if(s=e[r][a],-1!==s.indexOf(n.bidIdPrefix)){d=s.split(n.bidIdPrefix)[1];break}}else if("string"==typeof e[r]&&(s=e[r],d=s.split(n.bidIdPrefix)[1]))break;if(d)for(var u in t)if(t.hasOwnProperty(u)&&t[u].winningBid&&t[u].winningBid.id===d){c=t[u];break}return{bidId:d,dfpSlot:c}}e.exports={getBidIdAndDfpSlotFromTargetingMap:i}},function(e,t,n){"use strict";function i(e,t,n){t.winningBid&&t.winningBid.firstPrice?n?(r.emit(o.DEBUG,"New top bid is on, setting keys"),e.setTargeting(t.getOxTargetingKey(),t.getOxTargetingValue({type:"secondPrice"})),e.setTargeting(t.getOxTargetingKey()+"1",t.getOxTargetingValue({type:"firstPrice"})),r.emit(o.DEBUG,"Slot "+t.div+" "+t.status+"  has setTargeting to "+[t.getOxTargetingKey(),t.getOxTargetingValue({type:"secondPrice"})]+" and "+[t.getOxTargetingKey()+"1",t.getOxTargetingValue({type:"firstPrice"})])):(r.emit(o.DEBUG,"Original top bid behavior, setting keys"),e.setTargeting(t.getOxTargetingKey(),t.getOxTargetingValue({type:"firstPrice"})),e.setTargeting(t.getOxTargetingKey()+"_2",t.getOxTargetingValue({type:"secondPrice"})),r.emit(o.DEBUG,"Slot "+t.div+" "+t.status+"  has setTargeting to "+[t.getOxTargetingKey(),t.getOxTargetingValue({type:"firstPrice"})]+" and "+[t.getOxTargetingKey()+"_2",t.getOxTargetingValue({type:"secondPrice"})])):(e.setTargeting(t.getOxTargetingKey(),t.getOxTargetingValue({type:"secondPrice"})),r.emit(o.DEBUG,"Slot "+t.div+" "+t.status+"  has setTargeting to "+[t.getOxTargetingKey(),t.getOxTargetingValue({type:"secondPrice"})]),t.getTargeting(t.getOxTargetingKey()+"_2").length>0&&e.setTargeting(t.getOxTargetingKey()+"_2",t.getOxTargetingValue({type:"secondPrice"})))}var r=n(2),o=n(3);e.exports={oxSetTargeting:i}},function(e,t,n){"use strict";n(5);var i=(n(0),n(38),n(24),n(1),n(47));e.exports=i},function(e,t,n){"use strict";function i(e,t){e||(e=window),t||(t=document);var n=t.documentElement,i=t.body;return{width:e.innerWidth||n.clientWidth||i.clientWidth,height:e.innerHeight||n.clientHeight||i.clientHeight}}function r(e){return document.getElementById(e)}function o(e,t){return e.parentNode.insertBefore(t,e.nextSibling),t}function a(e){e.parentNode.removeChild(e)}function s(e,t){return e.parentNode.replaceChild(t,e),t}function d(e,t,n){if(e)return t?s(t,e):o(n,e);t&&a(t)}function c(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function u(e,t){e.attachEvent?e.attachEvent("onload",t):e.onload=t}function l(e){"complete"!==document.readyState&&"interactive"!==document.readyState&&document.write(e)}function f(e){var t,n,i,r='javascript:window["contents"]',o=e.hookNode,a=e.name,d=e.width,c=e.height,l=e.onStart,h=e.onFinish,m=e.onSuccess,_=a+"_contents",v="<!DOCTYPE html><html><head><title>"+(e.title||"OpenX")+"</title><base target='_top'/>"+e.headHTML+"</head><body style='margin:0;padding:0'>"+e.bodyHTML+"</body></html>";if(t=p(a,d,c),e.replace?s(o,t):(o.innerHTML="",o.appendChild(t)),n=g&&g<11||window.opera,n&&(t.src=r),n)try{h&&u(t,h),t.contentWindow.contents=v,l&&l(),t.src=r}catch(e){var y=t;t=p(a,d,c),window[_]=v,r="javascript:document.open();document.domain='"+document.domain+"';document.write(window.parent['"+_+"']);window.parent['"+_+"']=null;setTimeout('document.close()',5000)",h&&u(t,h),t.src=r,l&&l(),s(y,t)}else try{i=t.contentWindow||t.contentDocument,i.document&&(i=i.document),h&&u(t,h),i&&(i.open("text/html","replace"),l&&l(),i.write(v),i.close())}catch(n){e.isRetry||(e.hookNode=t,e.replace=!0,e.isRetry=!0,window.setTimeout(function(){f(e)},0))}m&&m(t)}var p=(n(11),function(e,t,n){var i;try{i=g&&e?document.createElement('<iframe name="'+e+'">'):document.createElement("iframe")}catch(e){i=document.createElement("iframe")}return i.setAttribute("width",t),i.setAttribute("height",n),i.setAttribute("frameSpacing","0"),i.setAttribute("frameBorder","no"),i.setAttribute("scrolling","no"),e&&(i.setAttribute("id",e),i.setAttribute("name",e)),i}),g=function(){var e,t,n=0;if(navigator){try{e=navigator.userAgent,"Microsoft Internet Explorer"==navigator.appName?(t=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(t=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(n=parseFloat(RegExp.$1)))}catch(e){}return n}}();e.exports={getNormalizedWindowDims:i,append:o,replaceOrRemove:d,domElById:r,createNewFrameElement:p,attachListener:c,produceFrame:f,write:l}},function(e,t,n){"use strict";function i(e){var t,n,i,r={},o=[];if(!c.isArray(e))return o;for(n=0;n<e.length;n++)t=e[n],r[t.width+"x"+t.height]=!0;for(i in r)r.hasOwnProperty(i)&&o.push(i);return o}function r(e){if(c.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function o(e){var t,n=[];if((void 0===e?"undefined":s(e))===d.string){var i=e.split(","),o=/^(\d)+x(\d)+$/i;if(i)for(var a in i)i.hasOwnProperty(a)&&i[a].match(o)&&n.push(i[a])}else if((void 0===e?"undefined":s(e))===d.object){var c=e.length;if(c>0)if(2===c&&s(e[0])===d.number&&"number"==typeof e[1])n.push(r(e));else for(var u=0;u<c;u++)n.push(r(e[u]))}var l=n.length;if(l>0&&(t="size="+n[0],l>1)){t+="&promo_sizes=";for(var f=1;f<l;f++)t+=n[f]+=",";t&&","===t.charAt(t.length-1)&&(t=t.slice(0,t.length-1))}return t}function a(e){var t=[];if((void 0===e?"undefined":s(e))===d.string){var n=e.replace(" ","").split(","),i=/^(\d)+x(\d)+$/i;if(n)for(var o in n)n.hasOwnProperty(o)&&n[o].match(i)&&t.push(n[o])}else if((void 0===e?"undefined":s(e))===d.object){var a=e.length;if(a>0)if(2===a&&s(e[0])===d.number&&s(e[1])===d.number)t.push(r(e));else{if(s(e[0])===d.string)return e;for(var c=0;c<a;c++)t.push(r(e[c]))}}return t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(19),c=n(6);e.exports={getChainSizes:i,parseGPTSingleSizeArray:r,parseSizesInput:o,normalizeSizes:a}},function(e,t,n){"use strict";function i(e,t){return o.isArray(e)||(e.params&&(t.params&&t.params.openx&&(e.params.openx=t.params.openx),t.params=e.params,!t.ssmeta_endpoint&&e.params.ssmeta_endpoint&&(t.ssmeta_endpoint=e.params.ssmeta_endpoint)),e=r._map(e.slots||[],function(e){return[e.adunit,e.sizes,e.div,e.targetingMap,e.bids]})),e}var r=n(11),o=n(6);e.exports={metaConfigToSlotArray:i}},function(e,t,n){"use strict";function i(e,t){var n=r(e);n.push(t),n.length>d&&(n=n.slice(-d)),s.store().put(e,n.toString())}function r(e){var t=s.store().get(e);if(t){var n=t.split(",");if(n&&a.isArray(n)){for(var i=[],r=0;r<d;++r){var o=parseInt(n[r],10);o>0&&i.push(o)}return i}}return[]}function o(e){var t,n=r(e);return n.length>0&&(t=n.toString()),t}var a=n(6),s=n(10),d=5;e.exports={storeLatencyByKey:i,getLatencyListByKey:r,getLatencyStringByKey:o}},function(e,t,n){"use strict";function i(e){var t=document.createElement("a");return t.href=e,{protocol:(t.protocol||"").replace(/:$/,""),hostname:t.hostname,port:+t.port,pathname:t.pathname&&t.pathname.replace(/^(?!\/)/,"/"),search:o(t.search||""),hash:(t.hash||"").replace(/^#/,""),host:t.host}}function r(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+a(e.search||""):"")+(e.hash?"#"+e.hash:"")}function o(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),i=s(n,2),r=i[0],o=i[1];return o=decodeURIComponent(o),/\[\]$/.test(r)?(r=r.replace("[]",""),e[r]=e[r]||[],e[r].push(o)):e[r]=o||"",e},{}):{}}function a(e){return Object.keys(e).filter(function(e){return"callback"!==e&&"jsonp"!==e}).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+encodeURIComponent(e)}).join("&"):t+"="+encodeURIComponent(e[t])}).join("&")}var s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.ajax=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var a=void 0,s=!1,d=o.method||(n?"POST":"GET");if(window.XMLHttpRequest?(a=new window.XMLHttpRequest,void 0===a.responseType&&(s=!0)):s=!0,s?(a=new window.XDomainRequest,a.onload=function(){t(a.responseText,a)},a.onerror=function(){console.log("xhr onerror")},a.ontimeout=function(){console.log("xhr timeout")},a.onprogress=function(){console.log("xhr onprogress")}):a.onreadystatechange=function(){4===a.readyState&&t&&t(a.responseText,a)},"GET"===d&&n){var c=i(e);n&&Object.assign(c.search,n),e=r(c)}return a.open(d,e),s||(o.withCredentials&&(a.withCredentials=!0),o.preflight&&a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type",o.contentType||"text/plain")),a.send("POST"===d?n:void 0),!0}catch(e){return console.error("xhr construction",e),!1}}},function(e,t,n){"use strict";function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(){}var o="function"!=typeof Object.create&&"~";r.prototype._events=void 0,r.prototype.listeners=function(e,t){var n=o?o+e:e,i=this._events&&this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,s=new Array(a);r<a;r++)s[r]=i[r].fn;return s},r.prototype.emit=function(e,t,n,i,r,a){var s=o?o+e:e;if(!this._events||!this._events[s])return!1;var d,c,u=this._events[s],l=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,r),!0;case 6:return u.fn.call(u.context,t,n,i,r,a),!0}for(c=1,d=new Array(l-1);c<l;c++)d[c-1]=arguments[c];u.fn.apply(u.context,d)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;default:if(!d)for(f=1,d=new Array(l-1);f<l;f++)d[f-1]=arguments[f];u[c].fn.apply(u[c].context,d)}}return!0},r.prototype.on=function(e,t,n){var r=new i(t,n||this),a=o?o+e:e;return this._events||(this._events=o?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.once=function(e,t,n){var r=new i(t,n||this,!0),a=o?o+e:e;return this._events||(this._events=o?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.removeListener=function(e,t,n,i){var r=o?o+e:e;if(!this._events||!this._events[r])return this;var a=this._events[r],s=[];if(t)if(a.fn)(a.fn!==t||i&&!a.once||n&&a.context!==n)&&s.push(a);else for(var d=0,c=a.length;d<c;d++)(a[d].fn!==t||i&&!a[d].once||n&&a[d].context!==n)&&s.push(a[d]);return s.length?this._events[r]=1===s.length?s[0]:s:delete this._events[r],this},r.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[o?o+e:e]:this._events=o?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=o,e.exports=r},function(e,t,n){"use strict";var i=n(0),r=n(1),o=function(e,t){var n=i.getUniqueIdentifierStr();this.type=e||r.AUCTION_TYPES.STANDARD,this.startTime=new Date,this.callback=t,this.expectedBidsByBidder={},this.expectedBidsByDivId={},this.expectedBids=0,this.returnedBids=0,this.ended=0,this.completed=!1,this.id=n};t.createAuction=function(e,t){return new o(e,t)}},function(e,t,n){"use strict";e.exports={BID_EXPIRATION_THRESHOLD:6e4,STATUS_CODES:{0:"Pending",1:"Bid available",2:"Bid returned empty or error response",3:"Bid timed out"}}},function(e,t,n){"use strict";var i=n(3),r=n(2),o=n(39),a=n(43),s=n(45),d=n(5),c=window.OXHBConfig&&window.OXHBConfig.DFP_mapping||{};if(r.emit(i.DEBUG,"Adding Adapters"),"META"===c.version)d.addAdapter(new a({meta_endpoint:c.ssmeta_endpoint}),"ssmeta");else{if(d.addAdapter(o(),"openx"),d.addAdapter(s(),"prefetch"),!0===c.contextual_demand){var u=n(46);d.addAdapter(u("openx_contextual"),"openx_contextual")}}},function(e,t,n){"use strict";var i=n(0),r=n(1),o=n(4),a=(n(40),n(8),n(23)),s=n(3),d=n(2),c=n(9),u=n(7),l=window.OXHBConfig,f=function(e){function t(e){var t,n=[],o=[],a=e.pageTargeting,u=[],f=[];return i._each(e.bids,function(r){if(!r.params.adunitid||!r.sizes)return d.emit(s.WARN,"OpenX: invalid bid request.",r),void u.push(Promise.resolve([c.buildBid(e.auction_id,r.div)]));r.params.gateway&&(t=r.params.gateway),l.DFP_mapping.single_request&&i.isEmpty(r.targetingMap)?n.push(r):o.push(r)}),f=g(n,o,a,{gateway:t,isPrefetch:e.type===r.AUCTION_TYPES.PREFETCH},e.auction_id,e.experiments,e.timeLimit),f.concat(u)}function n(e,t,n,f,g,h){var m,_;return i._map(e,function(e){return new Promise(function(h){function v(){d.emit(s.BIDDER_ADAPTOR_ERROR,"Bid request caused an error.",e),h([c.buildBid(f,e.div)])}var y;o.tryCatch({context:"OpenX Adapter"},function(){function o(t){d||(d=!0,h([c.buildBid(f,e.div,t.get("au_uid"),y)]))}function s(t){d||(d=!0,t.isResponseEmpty()&&h([c.buildBid(f,e.div)]))}var d=!1;y=new a({url:i.detectPageURL(),ref:i.detectRefererURL(),gw:i.getGateway(),rtype:r.GATEWAY_RESOURCES.ACJ},{gw:n.gateway}),y.setBidderEligibility(!0),y.setPrefetch(n.isPrefetch),y.addAdUnit(e.params.adunitid),y.setAdSizes(i.normalizeSizes(e.sizes)),y.setBidderConfiguration(l._bidderConfiguration),g&&u.setExperimentParam(y,g),l.DFP_mapping&&l.DFP_mapping.timeout&&y.setBidderTimeout(l.DFP_mapping.timeout),e.floor&&y.setAdUnitMarketFloor(e.params.adunitid,e.floor),l.ad_position_detection_enabled&&i.isPagePosAvailable()&&(_=i.getBrowserDimensions(),m=i.getAdPosition(e.div),_&&m&&(y.setBrowserDims(_.width+"x"+_.height),y.setAdUnitLocation(m.left+","+m.top))),p(y,e.targetingMap),p(y,t),y.setPageURL(i.detectPageURL()),y.addHook(o,r.AD_REQUEST_HOOKS.ON_ADUNIT_INITIALIZED),y.addHook(s,r.AD_REQUEST_HOOKS.ON_AD_RESPONSE),y.addHook(v,r.AD_REQUEST_HOOKS.ON_AD_REQUEST_ERROR),e.startTime=i.dateNow(),y.load()},function(e,t){v()})})})}function f(e,t,n,f,g,h){var m=[];return new Promise(function(h){function _(e){return i._map(e,function(e){return c.buildBid(f,e.div)})}o.tryCatch({context:"OpenX Adapter"},function(){var v,y,E,T,w=0,S=new a({url:i.detectPageURL(),ref:i.detectRefererURL(),gw:i.getGateway(),rtype:r.GATEWAY_RESOURCES.ACJ},{gw:n.gateway}),A=[],B=[],R=[],D=new RegExp("/^[|]+$/");for(S.setBidderEligibility(!0),S.setBidderConfiguration(l._bidderConfiguration),S.setPrefetch(n.isPrefetch),g&&u.setExperimentParam(S,g),l.DFP_mapping&&l.DFP_mapping.timeout&&S.setBidderTimeout(l.DFP_mapping.timeout),i._each(e,function(e){e.floor&&S.setAdUnitMarketFloor(e.params.adunitid,e.floor)}),p(S,t),S.addHook(function(e){var t={auid:e.get("auid"),chain_timeout:e.get("chain_timeout"),chain_revenue:e.get("chain_revenue"),au_uid:e.get("au_uid"),chain:e.get("chain")},n={adunit:t,rt:S.getRecordTemplate(),oninit:void 0,chain:1};A.push(n),w++},r.AD_REQUEST_HOOKS.ON_ADUNIT_INITIALIZED),S.addHook(function(t){var n,r,a,u,l=0;o.tryCatch({context:"OpenX Adapter"},function(){var t;for(n=0;n<A.length;n++){var s=S.getOrCreateAdUnit(""+n);s.load(A[n]),B.push(s)}for(n=e.length-1;n>=0;n--)o.tryCatch({context:"OpenX Adapter"},function(){for(t=e[n],a=!1,r=B.length-1;r>=0;r--){u=B[r];var o=i.getChainSizes(u.get("chain")),s=i.normalizeSizes(t.sizes);if(e[n].params.adunitid==u.get("auid")&&i.isSubset(s,o)){m.push(c.buildBid(f,t.div,u.get("au_uid"),S)),l++,B.splice(r,1),a=!0;break}}a||m.push(c.buildBid(f,t.div,void 0,S))},function(e,i){o.tryCatch({context:"OpenX Adapter"},function(){l!==n+1&&(m.push(c.buildBid(f,t.div,void 0,S)),l++)})})},function(t,n){d.emit(s.BIDDER_ADAPTOR_ERROR,"Batched request caused an error.",e)}),h(m)},r.AD_REQUEST_HOOKS.ON_AD_RESPONSE),S.addHook(function(){var t=_(e);h(t)},r.AD_REQUEST_HOOKS.ON_AD_REQUEST_ERROR),v=0;v<e.length;v++)S.addAdUnit(e[v].params.adunitid),S.setAdSizes(i.normalizeSizes(e[v].sizes)),e[v].startTime=i.dateNow();if(l.ad_position_detection_enabled&&i.isPagePosAvailable()){for(y=i.getBrowserDimensions(),v=0;v<e.length;v++)T=i.getAdPosition(e[v].div),T?R.push(T.left+","+T.top):R.push("");E=R.join("|"),y&&!D.test(E)&&(S.setBrowserDims(y.width+"x"+y.height),S.setAdUnitLocation(E))}S.load()},function(t,n){d.emit(s.BIDDER_ADAPTOR_ERROR,"Batched request caused an error.",e),h(_(e))})})}function p(e,t){if(e&&t)for(var n in t)if(t.hasOwnProperty(n))if(i.isArray(t[n]))for(var r in t[n])t[n].hasOwnProperty(r)&&e.addVariable(n,t[n][r]);else e.addVariable(n,t[n])}var g=function(e,t,i,r,o,a,s){var d=[];return r.gateway&&r.gateway.indexOf("/w")<0&&(r.gateway=r.gateway+"/w"),e.length&&d.push(f(e,i,r,o,a,s)),t.length&&(d=d.concat(n(t,i,r,o,a,s))),d};return{callBids:t}};e.exports=f},function(e,t,n){"use strict";var i=n(5),r={};t.pbCallbackMap=r,t.getPlacementIdByCBIdentifer=function(e){return r[e]},t.setExpectedBidsCount=function(e,t){i.setExpectedBids(e,t)},t.addBidResponse=function(e,t,n,r){n.div=e,n.auction_id=t,i.addBid(n,r)}},function(e,t,n){"use strict";function i(){if(d&&window.console&&window.console.log){var e=Array.prototype.slice.call(arguments),t=new Date,n=[t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()].join(":");e.unshift(n,"Consent:"),console.log.apply(console,e)}}function r(e,t){function n(){"function"!=typeof e||d||(i(o,"executing callback with consent",p),e(p,g),d=!0)}var r=Math.random().toString(36).substr(2,5),o="lookupIabConsent-"+r+":",s=3,d=!1;if(p&&g)return i(o,"found cached consent",p),void n();void 0===t&&(t=100);var u=setTimeout(function(){i(o,"lookup timed out after "+t+" ms"),n()},t);a("getTCData",2,function(e,t){t?(i(o,"found user tcData",e),p=e):i(o,"failed retrieving user tcData",e),1===s?(clearTimeout(u),n()):s-=1}),c("getConsentData",null,function(e,t){t?(i(o,"found user consent",e),p=p||e):i(o,"failed retrieving user consent",e),1===s?(clearTimeout(u),n()):s-=1}),l("getUSPData",null,function(e,t){t?(i(o,"found usp consent",e),g=e):i(o,"failed retrieving usp consent",e),1===s?(clearTimeout(u),n()):s-=1})}function o(e,t){for(var n,i=t;!n;){try{i.frames[e]&&(n=i)}catch(e){}if(i===t.top)break;i=i.parent}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.lookupIabConsent=r;var a,s,d=-1!==window.location.search.substring(1).split("&").indexOf("dbg=1");"function"==typeof window.__tcfapi?(i("found window.__tcfapi"),a=window.__tcfapi):(i("look up tcfapi in frames"),s=o("__tcfapiLocator",window),a=function(e){var t={},n=function(n,i,r,o){if(!e)return void r({msg:"TCF not found"},!1);var a=Math.random()+"",s={__tcfapiCall:{command:n,parameter:o,version:i,callId:a}};t[a]=r,e.postMessage(s,"*")};return e&&window.addEventListener("message",function(e){try{var n="string"==typeof e.data?JSON.parse(e.data):e.data;if(n.__tcfapiReturn){var r=n.__tcfapiReturn;t[r.callId](r.returnValue,r.success),delete t[r.callId]}}catch(e){i(e)}},!1),n}(s),s&&(i("found tcfapi in frames"),window.__tcfapi=a));var c,u;"function"==typeof window.__cmp?(i("found window.__cmp"),c=window.__cmp):(i("look up cmp in frames"),u=o("__cmpLocator",window),c=function(e){var t={},n=function(n,i,r){if(!e)return void r({msg:"CMP not found"},!1);var o=Math.random()+"",a={__cmpCall:{command:n,parameter:i,callId:o}};t[o]=r,e.postMessage(a,"*")};return e&&window.addEventListener("message",function(e){try{var n="string"==typeof e.data?JSON.parse(e.data):e.data;if(n.__cmpReturn){var r=n.__cmpReturn;t[r.callId](r.returnValue,r.success),delete t[r.callId]}}catch(e){i(e)}},!1),n}(u),u&&(i("found cmp in frames"),window.__cmp=c));var l,f;"function"==typeof window.__uspapi?(i("found window.__uspapi"),l=window.__uspapi):(i("look up uspapi in frames"),f=o("__uspapiLocator",window),l=function(e){var t={},n=function(n,i,r){if(!e)return void r({msg:"USPrivacy not found"},!1);var o=Math.random()+"",a={__uspapiCall:{command:n,parameter:i,callId:o}};t[o]=r,e.postMessage(a,"*")};return e&&window.addEventListener("message",function(e){try{var n="string"==typeof e.data?JSON.parse(e.data):e.data;if(n.__uspapiReturn){var r=n.__uspapiReturn;t[r.callId](r.returnValue,r.success),delete t[r.callId]}}catch(e){i(e)}},!1),n}(f),f&&(i("found uspapi in frames"),window.__uspapi=l));var p,g},function(e,t,n){"use strict";function i(e,t){function n(e){var t=D,n={medium:o.getOXHBConfigByName(o.OX_HB_CONFIG_KEY.MEDIUM),rtype:O.RI,txn_state:e.ts},i=o.getOXHBConfigByName(o.OX_HB_CONFIG_KEY.SITE_NAME);return i&&(t+="&bs={bs}",n.bs=i),o.template(t,n)}function i(e){a(e)}function a(e){var t,i,r=C.fallback,a=function(){e.onAdRenderFinish(b,v,0),e.onAdUnitRenderFinish()};v&&v.html&&(t=n(v),i=o.template(X,{src:t}),b.get("is_fallback")||(v.html=v.html+i)),b.get("is_fallback")?r=C.fallback||v&&v.html:v&&v.html&&(r=v.html+(C.imp_beacon||"")),r&&(e.onAdUnitRenderStart(),f(r,F,"",b.get("width")||b.get("primary_width"),b.get("height")||b.get("primary_height"),e.onAdRenderStart,a,e.shareFrameContents))}function s(e){R=o.dateNow(),B=e,B.onAdUnitRenderStart(),c(0)}function d(e){var t,n;v&&v.html&&(t=o.template(D,{medium:o.getOXHBConfigByName(o.OX_HB_CONFIG_KEY.MEDIUM),rtype:O.RR,txn_state:v.ts}),n=o.template(X,{src:t}),b.get("is_fallback")||(v.html=n+v.html)),a(e)}function c(e){var t,i,r,a,s="",d="",c="",u="",p="",g=C.chain,h=o.template(k,{i:e});v=g[e],y=e,B.renderTest||(r=o.template(D,{medium:o.getOXHBConfigByName(o.OX_HB_CONFIG_KEY.MEDIUM),rtype:O.RR,txn_state:v.ts}),P&&e<g.length-1&&(r+="&cts=",p=" + new Date().getTime();"),d=o.template(G,{src:r,suffix:p})),e<g.length-1?(m(),s=o.template(z,{data:N,rid:x,auid:I,index:e},"#","#"),v.dflting=1,t=l(e),i=function(){t(),B.onAdRenderFinish(b,v,e)}):(B.renderTest||(a=n(v),c=o.template(G,{src:a,suffix:""})),b.get("is_fallback")?(u=C.fallback||v&&v.html,d="",c=""):v&&v.html&&(u=v.html+(C.imp_beacon||"")),i=function(){B.onAdRenderFinish(b,v,e),B.onAdUnitRenderFinish()}),f(d+(u||v.html)+c,h,s,v.width,v.height,B.onAdRenderStart,i,B.shareFrameContents)}function u(){return o.dateNow()-R>C.chain_timeout}function l(e){return function(){window.setTimeout(function(){var t,i=C.chain[e],r=e+1;i[L]=1,i.hasOwnProperty(U)?(u()&&(r=C.chain.length-1),c(r)):(B.onAdNotDefaulted(b,i,e),B.renderTest||(t=n(v),P&&(t+="&cte="+o.dateNow()),o.beacon(t)),B.onAdUnitRenderFinish())},H)}}function f(e,t,n,i,a,s,d,c){var u,l=(C.pre_html||"")+e+(C.post_html||""),f="";c&&(f=o.template(Y,{rid:x,auid:I},"[","]")),u=(C.head_html||"")+n+f,o.inIframe()&&!o.isFriendlyFramed()&&b.get("type")===r.AD_TYPE.RICH_MEDIA_AD?p(t,i,a,u,l,s,d):g(t,i,a,u,l,s,d),b.set("iframe_id",t)}function p(e,t,n,i,r,a,s){function d(d){window.parent.postMessage(JSON.stringify({action:"render_ad",params:[e,t,n,i,r]}),"*"),a(),o.attachListener(window,"message",function(t){t.source===d.contentWindow&&t.data===e&&s()})}function u(){C.chain&&C.chain.length>y+1?c(y+1):g(e,t,n,i,r,a,s)}h(d,u)}function g(e,t,n,i,a,s,d){var c;if(o.inIframe()&&o.isFriendlyFramed()&&b.get("type")===r.AD_TYPE.RICH_MEDIA_AD)C.rm_anchor||(C.rm_anchor=document.createElement("div"),o.append(window.frameElement,C.rm_anchor)),c=C.rm_anchor,window.frameElement.style.display="none";else{if(!C.anchor)if(C.anchor=document.createElement("div"),!document.body&&o.inIframe())o.write("<body style='margin:0;padding:0'></body>"),document.body.appendChild(C.anchor);else{var u=document.getElementsByTagName("script");o.append(u[u.length-1],C.anchor)}c=C.anchor}o.produceFrame({hookNode:c,replace:!0,name:e,width:t,height:n,headHTML:i,bodyHTML:a,onStart:s,onFinish:d,onSuccess:function(e){c===C.rm_anchor?C.rm_anchor=e:C.anchor=e}})}function h(e,t){if(!S){var n,i,r=document.referrer,a=r.split("/"),s=a[0]+"//"+a[2],d=s+"/ox_buster.html";n=o.createNewFrameElement("",0,0),n.style.display="none",n.src=d,document.body.appendChild(n),o.attachListener(window,"message",function(e){e.source===n.contentWindow&&(i=!0)}),o.attachListener(n,"load",function(){setTimeout(function(){i?e(n):t()},100)}),S=1}}function m(){A||(o.attachListener(window,"message",function(e){try{var t=JSON.parse(e.data);t.action===N&&window.oxhbjs.dflt.apply(null,t.params)}catch(e){}}),A=1)}function _(e){var t=o.template(D,{medium:o.getOXHBConfigByName(o.OX_HB_CONFIG_KEY.MEDIUM),rtype:O.RDF,txn_state:e.ts});P&&(t+="&cte="+o.dateNow()),o.beacon(t)}var v,y,E,T,w,S,A,B,R,D,b=this,O=r.GATEWAY_RESOURCES,I=e,x=t,C={adunit_id:e,anchor:null,rm_anchor:null},P=o.getOXHBConfigByName(o.OX_HB_CONFIG_KEY.CHAIN_TIMING_ENABLED),N="dflt",U="dflt",L="loaded",F="ox_"+x+"_"+I,M=parseInt(o.getOXHBConfigByName(o.OX_HB_CONFIG_KEY.CHAIN_TIMEOUT))||2500,H=0,k=F+"_ch_{i}",X="<div style='position:absolute;left:0px;top:0px;visibility:hidden;'><img src='{src}'/></div>",G="<script type='text/javascript'>(new Image()).src='{src}'{suffix}<\/script>",z="<script type='text/javascript'>(function() {attachListener(window, 'message', dflt);function dflt(e) {if (e.data === '#data#') {signalDefaultTo(window.parent);var frames = window.parent.frames;for (var i = 0; i < frames.length; i++) {signalDefaultTo(frames[i]);}window.frameElement.style.display = 'none';}}function signalDefaultTo(win) {try {win.oxhbjs.dflt('#rid#','#auid#',#index#);} catch(e) {var msg = JSON.stringify({action : '#data#',params : ['#rid#','#auid#',#index#]});win.postMessage(msg, '*');}}function attachListener(target, type, listener) {if (target.addEventListener) {target.addEventListener(type, listener, false);} else {target.attachEvent('on' + type, listener);}}})();<\/script>",Y="<script type='text/javascript'>window.onload = function() {var html = document.documentElement.innerHTML;window.parent.oxhbjs && window.parent.oxhbjs.ifrmHTML('[rid]', '[auid]', html);};<\/script>",j=function(e){this.renderStrategy=e};j.prototype.render=function(e){return this.renderStrategy(e)},b.dflt=function(e){var t=C.chain[e],n=e+1;t[U]||(t[U]=1,_(v),B.onAdDefaulted(b,t,e),o.inIframe()&&!o.isFriendlyFramed()&&t.type===r.AD_TYPE.RICH_MEDIA_AD?window.parent.postMessage(JSON.stringify({action:"restore_busted_frame"}),"*"):o.inIframe()&&o.isFriendlyFramed()&&t.type===r.AD_TYPE.RICH_MEDIA_AD&&(window.frameElement.style.display=""),B.renderTest||t.hasOwnProperty(L)&&(u()&&(n=C.chain.length-1),c(n)))},b.get=function(e){return C.hasOwnProperty(e)?C[e]:v&&v[e]},b.set=function(e,t){C[e]=t},b.getProperties=function(){return o.merge([C,v])},b.load=function(e){var t,n=e.adunit;D=e.rt,C.perf_id=e.perf_id,C.au_uid=e.au_uid;for(var r in n)n.hasOwnProperty(r)&&(C[r]=n[r]);C.size&&(t=C.size.split("x"),C.primary_width=t[0],C.primary_height=t[1]),C.chain_timeout=C.chain_timeout||M,e.chain?C.chain&&C.chain.length>0?C.chain.length>1?E=new j(s):(v=C.chain&&C.chain[0],E=new j(d)):E=new j(i):(v=C.chain&&C.chain[0],E=new j(a)),T=1,w=0,e.oninit&&e.oninit(b)},b.render=function(e){var t,n=b.get("height"),r=b.get("width");b.get("pre_html"),b.get("post_html");if(o.inIframe())try{t=o.detectWindowDimensions(window,document),t.height<n&&(window.frameElement.height=n,window.frameElement.style.height=n+"px"),t.width<r&&(window.frameElement.width=r,window.frameElement.style.width=r+"px")}catch(e){}w||(T||(E=new j(i)),E.render(e),w=1)}}var r=n(1),o=n(0);e.exports=i},function(e,t,n){"use strict";var i,r=n(0),o=n(4),a=n(14),s=n(5),d=n(3),c=n(2),u=(n(8),n(9)),l=window.OXHBConfig,f=l.DFP_mapping;i=n(44);var p=function(e){function t(e,t,n,i){var r=new XMLHttpRequest;r.open("POST",e),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.withCredentials=!0,r.onreadystatechange=function(){4===this.readyState&&(200===this.status?n&&n(JSON.parse(this.responseText)):204===this.status?n&&n({}):i&&i())},r.send(t)}function n(e){var t=document.createElement("a");return t.href=m,t.host+"/win?"+r.serialize(e)}function l(e,t){var n=new RegExp(Object.keys(t).map(function(e){return e.replace("$","\\$")}).join("|"),"g");return e=e.replace(n,function(e){return t[e]})}function p(e){if(y.length&&(v<=0||e))for(c.emit(d.DEBUG,"User syncing completed",T),v=0;y.length;)y.pop()()}function g(e){var t;if(i.ENABLE_OPENX_PD&&!w._getUserId(i.OPENX_PD_NAME)){var n=r.createNewFrameElement(name,0,0);n.src=r.detectProtocol()+"//"+i.OPENX_PD_ENDPOINT+e,(t=document.body)?(c.emit(d.DEBUG,"Making OX pd call."),v++,n.onload=function(){c.emit(d.DEBUG,"OpenX pd iframe loaded",n),w._storeUserId("1",!1,i.OPENX_PD_NAME)},t.appendChild(n)):c.emit(d.WARN,"Cant make OX PD Call, no body.")}}var h,m,_="http:"==r.detectProtocol()?0:1,v=r._keys(i.USER_SYNCS).length,y=[],E={},T={},w=this;e&&e.meta_endpoint&&(m=e.meta_endpoint),this.callBids=function(e){c.emit(d.DEBUG,"OpenRTB Config:",e);var n,o,a,s=[],u={},l=e.params.ssmeta_endpoint;if(!l)return void c.emit(d.WARN,"SSMeta: no endpoint defined");if(e&&e.slots){for(var f=0;f<e.slots.length;f++){n=e.slots[f],E[n.div]=n.adunit,u[n.div]={},o=n.bids;for(a in o)o.hasOwnProperty(a)&&(u[n.div][a]=i.NO_BID_RETURNED);var p=w._generateOpenRTBImp(n);s.push(p)}if(0===s.length)return void c.emit(d.WARN,"SSMeta: no valid imp objects could be created");var h=w._generateOpenRTBBidRequest(e);h.imp=s}var m=function(){r._each(T,function(e,t){h.user.ext[t]={buyeruid:e}}),c.emit(d.DEBUG,"OpenRTB Request:",h),t(l,JSON.stringify(h),function(t){w._parseOpenRTBBidResponse(t,e.params.auction_id,u)},function(t){w._addZeroBids(e.params.auction_id,u)})};if(e.params.openx&&e.params.openx.sellerid&&g(e.params.openx.sellerid),v>0)return c.emit(d.DEBUG,"Delaying OpenRTB Request to get user ids",v),void y.push(m);m()},this._generateOpenRTBImp=function(e){var t={banner:{},ext:{partners:{},global:{}}};t.id=e.div,t.secure=_;var n=w._sizesToOpenRTB(e.sizes);return n.length>1&&(t.banner.format=n),t.banner.w=n[0].w,t.banner.h=n[0].h,t.ext.global.adunitpath=e.adunit,r._each(e.bids,function(e,n){t.ext.partners[n]=e}),t},this._generateOpenRTBBidRequest=function(e){var t={ext:{partners:{}},site:{},device:{},user:{ext:{}}},n=e.params||{};t.id=r.getUniqueIdentifierStr(),t.cur=n.currency||i.OPENRTB_CURRENCY,t.at=n.at||i.OPENRTB_AUCTION_TYPE;for(var o in n)n.hasOwnProperty(o)&&n[o].sellerid&&(t.ext.partners[o]=n[o]);return t.site.page=r.detectPageURL(),t.site.ref=r.detectRefererURL(),h=r.getBrowserDimensions(),h&&(t.device.w=h.width,t.device.h=h.height),t.device.ua=navigator.userAgent,t},this._sizesToOpenRTB=function(e){return e=r.normalizeSizes(e),r._map(e,function(e){var t=e.split("x");return{w:1*t[0],h:1*t[1]}})},this._parseOpenRTBBidResponse=function(e,t,i){c.emit(d.DEBUG,"OpenRTB Response:",e);var f,p,g,h;if(e.seatbid)for(var m=0;m<e.seatbid.length;m++){p=e.seatbid[m],g=p.seat.toLowerCase();for(var _=0;_<p.bid.length;_++){f=p.bid[_],f.bucket=u.getBucketFromCPM(f.price);var v={aid:e.id,bidid:e.bidid,seat:g,seatbidid:f.id,impid:f.impid,adid:f.adid,w:f.w,h:f.h,cur:e.cur,price:f.price,bucket:f.bucket,ts:p.ext.timestamp},y=r.getImgBeacon(n(v)),T=f.nurl?r.getImgBeacon(f.nurl):"";f.adm+=y+T;var S={"${AUCTION_ID}":e.id||"","${AUCTION_BID_ID}":"","${AUCTION_IMP_ID}":f.impid||"","${AUCTION_SEAT_ID}":g||"","${AUCTION_AD_ID}":f.adid||"","${AUCTION_PRICE}":f.price||"","${AUCTION_CURRENCY}":e.cur||"","${AUCTION_MBR}":1,"${AUCTION_LOSS}":""};f.adm=l(f.adm,S);var A=a.createBid(1);A.bidderCode=g,A.cpm=f.price,A.width=f.w,A.height=f.h,A.ad=f.adm,A.div=f.impid,A.adunit=E[f.impid],A.auction_id=t,A.secondPrice=f.price,A.secondPriceBucket=f.bucket,f.dealid&&(A.deal_id=f.dealid,A.pmp=1),f.exp&&(A.exp=1e3*f.exp),i[f.impid][g]=A,h=s.addBid.bind(this,A),o.tryCatch({context:"SS-Meta Adapter"},h)}}w._addZeroBids(t,i)},this._addZeroBids=function(e,t){var n;for(var r in t)if(t.hasOwnProperty(r))for(var d in t[r])if(t[r].hasOwnProperty(d)&&t[r][d]===i.NO_BID_RETURNED){var c=a.createBid(2);c.bidderCode=d,c.div=r,c.adunit=E[r],c.auction_id=e,c.cpm=0,c.noFill=!0,n=s.addBid.bind(this,c),o.tryCatch({context:"SS-Meta Adapter"},n)}},this._syncUserIds=function(e,t){r._each(e,function(e,n){if(e.url)c.emit(d.DEBUG,"Making request to sync user id.",n),(new Image).src=e.url,v--;else{var i=w._getUserId(n);i?(T[n]=i,v--,c.emit(d.DEBUG,"User ID found in cookie for "+n,i)):(c.emit(d.DEBUG,"Making request for user id.",n),window[e.callback_name]=function(e){c.emit(d.DEBUG,"User ID returned for "+n,e),w._storeUserId(e.id,e.ttl,n)},e.getId()),setTimeout(function(){p(!0)},t)}})},this._storeUserId=function(e,t,n){T[n]=e,v--,p(),t=t?6e4*t:i.USER_SYNC_TTL,r.setCookie("muid-"+n,e,t)},this._getUserId=function(e){return r.getCookie("muid-"+e)},function(){w._syncUserIds(f.USER_SYNCS||i.USER_SYNCS,f.USER_SYNC_TIMEOUT||i.USER_SYNC_TIMEOUT)}()};e.exports=p},function(e,t,n){"use strict";var i={OPENRTB_CURRENCY:["USD"],OPENRTB_AUCTION_TYPE:501,NO_BID_RETURNED:1,OPENX_PD_ENDPOINT:"us-u.openx.net/w/1.0/pd?ph=",OPENX_PD_NAME:"oxpd",ENABLE_OPENX_PD:!0,USER_SYNC_TIMEOUT:1e3,USER_SYNC_TTL:36e5,USER_SYNCS:{sovrn:{url:"//meta.openx.net/sync/sovrn"}}};e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n(4),o=(n(8),n(23)),a=n(1),s=n(9),d=n(7),c=window.OXHBConfig,u=function(){function e(e,t,n){var u=0,l=Date.now();if(c){n||(n=function(){}),t||(t={});var f=new o({gw:i.getGateway(),url:i.detectPageURL(),ref:i.detectRefererURL(),rtype:a.GATEWAY_RESOURCES.BR});f.setBidderEligibility(!0),f.setPrefetch(!0),f.setBidderConfiguration(c._bidderConfiguration),d.setExperimentParam(f,t.experiments),c.DFP_mapping&&c.DFP_mapping.timeout&&f.setBidderTimeout(c.DFP_mapping.timeout),f.addHook(function(e,t){return function(i){r.tryCatch({context:"Prefetch Adapter"},function(){s.addBid(e,decodeURIComponent(t.getCachedDivsByIndex(u)),i.get("au_uid"),t,!0,l)}),u++,n()}}(e,f),a.AD_REQUEST_HOOKS.ON_ADUNIT_INITIALIZED),f.addHook(n,a.AD_REQUEST_HOOKS.ON_AD_REQUEST_ERROR),f.load()}}return{callBids:e}};e.exports=u},function(e,t,n){"use strict";var i=n(14),r=n(5),o=n(8),a=n(21),s=n(4);e.exports=function(e){function t(t,n,o){var a=i.createBid(o.no_bid?2:1);if(a.bidderCode=e,a.div=t.div,a.adunit=t.adunit,a.auction_id=n,!a.no_bid){var d=o.size.split("x");a.cpm=parseFloat(o.bid),a.ad=o.adcode,a.width=d[0],a.height=d[1]}s.tryCatch({context:"Context Adapter"},function(){r.addBid(a)})}function n(e){for(var n,i=e.auction_id,r=e.bids,s=[],c="OXMNcallback"+i,u=0;u<r.length;u++){var l=r[u].params,f=r[u].sizes[0];n=l.cid,s.push(l.placementId+"|"+f)}var p=a.buildQueryString({cid:n,request:s,callback:c});window[c]=function(e){for(var n=0;n<r.length;n++){var o=r[n].params,a=e[o.placementId];t(r[n],i,a)}},o.loadScript({src:d+"?"+p})}var d=location.protocol+"//contextual.media.net/mnethbadapter.js";location.protocol;return{callBids:n}}},function(e,t,n){"use strict";function i(e,t,n,i){var r=!!(e.prefetch&&e.prefetch.auid&&e.prefetch.slots.length),o=t&&t.prefetch,a=!!e.use_slot_info;return n&&!o?new l(e,i):(a&&(t||(window.OX_dfp_options={}),window.OX_dfp_ads=[]),o||r||a?new f(e,i):new u(e,i))}function r(e,t){for(var n in e.mapping)e.mapping.hasOwnProperty(n)&&(window.OXHBConfig.DFP_mapping[n]=e.mapping[n],t[n]=e.mapping[n]);return t}n(48).polyfill();var o,a=n(0),s=n(4),d=n(51),c=n(52),u=n(25),l=n(56),f=n(57),p={init:function(){a.setOXHBConfig(window.OXHBConfig);var e,t=window.OXHBConfig.DFP_mapping,n=window.OX_dfp_options||window.OX_bidder_options,s=window.OX_dfp_ads||window.OX_bidder_ads;return t.experiment&&(e=new c(t.experiment),e.inExperiment&&(t=r(e,t))),o=i(t,n,s,e),o.init(),p.__debug&&(p.__debug.bidder=o),o},showAd:function(){var e=arguments;s.tryCatch({context:o.bidderType()},function(){o.showAd.apply(this,e)})},refresh:function(){return o.refresh&&o.refresh.apply(this,arguments)},getSize:function(){return o.getSize&&o.getSize.apply(o,arguments)},getPrice:function(){return o.getPrice&&o.getPrice.apply(o,arguments)},getPriceMap:function(){return o.getPriceMap&&o.getPriceMap.apply(o,arguments)},getSecondPrice:function(){return o.getSecondPrice&&o.getSecondPrice.apply(o,arguments)},getFirstPrice:function(){return o.getFirstPrice&&o.getFirstPrice.apply(o,arguments)},getBids:function(){return o.getBids&&o.getBids.apply(o,arguments)},getBidId:function(){return o.getBidId&&o.getBidId.apply(o,arguments)},setOxTargeting:function(){return o.setOxTargeting&&o.setOxTargeting.apply(o,arguments)},addSlots:function(){return o.addSlots&&o.addSlots.apply(o,arguments)},getOxTargetingKey:function(){return o.getOxTargetingKey&&o.getOxTargetingKey.apply(o,arguments)},getOxTargetingValue:function(){return o.getOxTargetingValue&&o.getOxTargetingValue.apply(o,arguments)},getVersion:function(){return"2.0.29-2"},addHook:function(e,t){a.addHook(e,t)},dflt:function(e,t,n){var i=a.getOXRequest(e);i&&i.dflt(t,n)},ifrmHTML:function(e,t,n){var i=a.getOXRequest(e);i&&i.ifrmHTML(t,n)}};window.OXHBConfig&&window.OXHBConfig.oxns&&window[window.OXHBConfig.oxns]&&(window[window.OXHBConfig.oxns].dfp_bidder=p),p.init(),d(window),e.exports=p},function(e,t,n){(function(t,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"==typeof e}function r(e){H=e}function o(e){k=e}function a(){return void 0!==M?function(){M(d)}:s()}function s(){var e=setTimeout;return function(){return e(d,1)}}function d(){for(var e=0;e<F;e+=2){(0,q[e])(q[e+1]),q[e]=void 0,q[e+1]=void 0}F=0}function c(e,t){var n=this,i=new this.constructor(l);void 0===i[W]&&D(i);var r=n._state;if(r){var o=arguments[r-1];k(function(){return A(r,i,o,n._result)})}else w(n,i,e,t);return i}function u(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(l);return v(n,e),n}function l(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function g(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function h(e,t,n){k(function(e){var i=!1,r=g(n,t,function(n){i||(i=!0,t!==n?v(e,n):E(e,n))},function(t){i||(i=!0,T(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,T(e,r))},e)}function m(e,t){t._state===Q?E(e,t._result):t._state===$?T(e,t._result):w(t,void 0,function(t){return v(e,t)},function(t){return T(e,t)})}function _(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===u?m(e,t):void 0===n?E(e,t):i(n)?h(e,t,n):E(e,t)}function v(t,n){if(t===n)T(t,f());else if(e(n)){var i=void 0;try{i=n.then}catch(e){return void T(t,e)}_(t,n,i)}else E(t,n)}function y(e){e._onerror&&e._onerror(e._result),S(e)}function E(e,t){e._state===V&&(e._result=t,e._state=Q,0!==e._subscribers.length&&k(S,e))}function T(e,t){e._state===V&&(e._state=$,e._result=t,k(y,e))}function w(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+Q]=n,r[o+$]=i,0===o&&e._state&&k(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?A(n,i,r,o):r(o);e._subscribers.length=0}}function A(e,t,n,r){var o=i(n),a=void 0,s=void 0,d=!0;if(o){try{a=n(r)}catch(e){d=!1,s=e}if(t===a)return void T(t,p())}else a=r;t._state!==V||(o&&d?v(t,a):!1===d?T(t,s):e===Q?E(t,a):e===$&&T(t,a))}function B(e,t){try{t(function(t){v(e,t)},function(t){T(e,t)})}catch(t){T(e,t)}}function R(){return J++}function D(e){e[W]=J++,e._state=void 0,e._result=void 0,e._subscribers=[]}function b(){return new Error("Array Methods must be provided an Array")}function O(e){return new Z(this,e).promise}function I(e){var t=this;return new t(L(e)?function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function x(e){var t=this,n=new t(l);return T(n,e),n}function C(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=ee}var U=void 0;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var L=U,F=0,M=void 0,H=void 0,k=function(e,t){q[F]=e,q[F+1]=t,2===(F+=2)&&(H?H(d):K())},X="undefined"!=typeof window?window:void 0,G=X||{},z=G.MutationObserver||G.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),j="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,q=new Array(1e3),K=void 0;K=Y?function(){return function(){return t.nextTick(d)}}():z?function(){var e=0,t=new z(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():j?function(){var e=new MessageChannel;return e.port1.onmessage=d,function(){return e.port2.postMessage(0)}}():void 0===X?function(){try{var e=Function("return this")().require("vertx");return M=e.runOnLoop||e.runOnContext,a()}catch(e){return s()}}():s();var W=Math.random().toString(36).substring(2),V=void 0,Q=1,$=2,J=0,Z=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(l),this.promise[W]||D(this.promise),L(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&E(this.promise,this._result))):T(this.promise,b())}return e.prototype._enumerate=function(e){for(var t=0;this._state===V&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===u){var r=void 0,o=void 0,a=!1;try{r=e.then}catch(e){a=!0,o=e}if(r===c&&e._state!==V)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===ee){var s=new n(l);a?T(s,o):_(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===V&&(this._remaining--,e===$?T(i,n):this._result[t]=n),0===this._remaining&&E(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;w(e,void 0,function(e){return n._settledAt(Q,t,e)},function(e){return n._settledAt($,t,e)})},e}(),ee=function(){function e(t){this[W]=R(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&C(),this instanceof e?B(this,t):P())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return i(e)?t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return ee.prototype.then=c,ee.all=O,ee.race=I,ee.resolve=u,ee.reject=x,ee._setScheduler=r,ee._setAsap=o,ee._asap=k,ee.polyfill=N,ee.Promise=ee,ee})}).call(t,n(49),n(50))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(l===clearTimeout)return clearTimeout(e);if((l===i||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){h&&p&&(h=!1,p.length?g=p.concat(g):m=-1,g.length&&s())}function s(){if(!h){var e=r(a);h=!0;for(var t=g.length;t;){for(p=g,g=[];++m<t;)p&&p[m].run();m=-1,t=g.length}p=null,h=!1,o(e)}}function d(e,t){this.fun=e,this.array=t}function c(){}var u,l,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:i}catch(e){l=i}}();var p,g=[],h=!1,m=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new d(e,t)),1!==g.length||h||r(s)},d.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i=n(0),r=n(4);e.exports=function(e){var t;if(e.oxhbjsCmds&&i.isArray(e.oxhbjsCmds)){for(t=0;t<e.oxhbjsCmds.length;t++)i.isFn(e.oxhbjsCmds[t])&&e.oxhbjsCmds[t]();e.oxhbjsCmds={push:function(e){r.tryCatch({context:"initializeCommandQueue"},e,void 0,function(){return 0})}}}}},function(e,t,n){"use strict";function i(e){function t(e){var t=o();return r.setCookie("OX_ee",e+":"+t),t}function n(e,t){var n,i=t||5381;for(n=0;n<e.length;n++){i=(i<<5)+i+e.charCodeAt(n)}return i&=4294967295}function i(e,t,i){return Math.abs(n(e,i))%t/t}var a,s,d,c,u=e.id,l=u+"_control",f=Math.pow(10,function(e){return(+e).toFixed(20).replace(/^-?\d*\.?|0+$/g,"").length}(e.participation_threshold)+2),p=e.random_generator_hash,g=r.getCookie("OX_ee"),h=g&&g.split(":");return h?c=h&&h[0]!==u?t(u):h[1]:(c=t(u),r.setCookie("OX_ee",u+":"+c)),d=i(c+u,f,p)<=e.participation_threshold,s=i(c+l,f,p)<=.5,d&&(a=s?l:u),{id:a,userId:c,isParticipating:d,inControl:d&&s,inExperiment:d&&!s,mapping:e.mapping}}var r=n(0),o=n(53);e.exports=i},function(e,t){t=e.exports=function(){for(var e,n="",i=0;i<32;i++)e=16*t.random()|0,i>4&&i<21&&!(i%4)&&(n+="-"),n+=(12===i?4:16===i?3&e|8:e).toString(16);return n};var n=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;t.isUUID=function(e){return n.test(e)},t.random=function(){return Math.random()}},function(e,t,n){"use strict";function i(e,t,n){return n||(n={mode:"before"}),function(){function i(){u=!0,c=e.apply(this,arguments)}function d(){var e=r.toArray(arguments);s.tryCatch({scope:this,context:"[Utils::Proxy]"},function(){t.call(this,i,e,c)},function(e,t){a.emit(o.ERROR,e)})}var c,u=!1;if("before"===n.mode&&d.apply(this,arguments),u||i.delayed||i.apply(this,arguments),"after"===n.mode){var l=Array.prototype.slice.call(arguments);d.apply(this,l)}return c}}var r=n(18),o=n(55),a=n(2),s=n(4);e.exports={before:function(){return i.apply(this,arguments)},after:function(){var e=r.toArray(arguments);return e.push({mode:"after"}),i.apply(this,e)}}},function(e,t,n){"use strict";var i=n(0).keyMirror,r={ERROR:null};e.exports=i(r)},function(e,t,n){"use strict";function i(e,t){function n(t){var n,i=t[0],r=t[1],a=t[1][0],s=t[2],d=t[3]||{},u=t[4],l=t[5];return n=new h(i,r,s,null,o.CREATED,a,d,e.version,e.size_override),u&&(n.metaConfig=u),l&&c.isNumeric(l)&&(n.floor=parseFloat(l)),S.performAdServerMapping(n),T.slotsByDivId[n.div]=n,T.slots.push(n),n}function i(e,t){var i,r,o=e.length,a=[];for(i=0;i<o;i++)a.push(n(e[i]));if(!(r=S.requestSlotsToAuction(a)))return void t();R[r.id]=a,B[r.id]=t}function _(){if(window.googletag){var e,t,n,i,o,a=window.googletag.pubads().getSlots();for(i=0;i<a.length;i++)e=a[i],t=e.getSlotId(),n=T.slotsByDivId[e.getSlotElementId()],n||(o=f.getBidIdAndDfpSlotFromTargetingMap(e.getTargetingMap(),T.slotsByDivId,{searchKeys:r.TARGETING_MAP_SEARCH_PREFIXES,bidIdPrefix:r.BID_ID_PREFIX}),n=o.dfpSlot),n&&(n.slot=e,T.slotsBySlotId["google_ads_iframe_"+t.getId()]=n)}}function v(e){var t=T.slotsByDivId[e];if(!t)throw g.emit(p.ERROR,"Div ID "+e+" is invalid"),"Div ID "+e+" is invalid";return t}function y(e){S.metadata.singleRequest&&!this.areSlotsReadyForAdServer(S.metadata.slots)||S.areSlotsReadyForAdServer(R[e])&&(B[e]&&(R[e]&&S.fireOxMetrics(R[e]),B[e](S.getPriceMap()),delete B[e]),delete R[e])}function E(e){return d(e,S.mapping,S.metadata,!0)}s.call(this,e,t),this.bidderType(r.BC_BIDDER_TYPES.API_BIDDER);var T,w,S=this,A=function(){"oxDone"in window&&window.oxDone()},B={},R={};S.performAdServerMapping=E,S.requestAdServer=y,S._mapApiZones=_,S._findSlotByDivId=v,S._addDfpSlotAsApi=n,S._addAndRequestSlotsToAuction=i,S.init=function(){var e=window.OX_dfp_options||window.OX_bidder_options,t=window.OX_dfp_ads||window.OX_bidder_ads,n=A;if(T=S.metadata,w=a(!1,T.slotsBySlotId),g.emit(p.DEBUG,"API Bidder initialize"),e){if(e.bidderType&&this.bidderType(e.bidderType),e.disableInitialLoad)return void g.emit(p.DEBUG,"API Bidder disabling initial auction");e.callback&&(n=e.callback)}t=c.metaConfigToSlotArray(t,S.mapping),i(t,n)},S.showAd=function(e){return _(),w.apply(S,arguments)},S.addSlots=function(e,t){i(e,t)},S.getPriceMap=function(){var e,t,n={},i=T.slotsByDivId;for(e in i)if(i.hasOwnProperty(e))if(t=i[e])if(t.getOxTargetingValue&&t.getOxTargetingValue(),t.sizeString){if(n[e]={size:t.sizeString,ad:"",bid_id:void 0,cpm:void 0,price:"t"},t.winningBid){n[e].ad=t.winningBid.ad,n[e].bid_id=t.winningBid.id,t.winningBid.firstPrice?this.mapping.bid_boost_enabled?(n[e].cpm=t.winningBid.secondPrice,n[e].price=""+t.winningBid.secondPriceBucket,n[e].firstPrice=t.winningBid.firstPriceBucket):(n[e].cpm=t.winningBid.firstPrice,n[e].price=""+t.winningBid.firstPriceBucket,n[e].secondPrice=t.winningBid.secondPriceBucket):(n[e].cpm=t.winningBid.secondPrice,n[e].price=""+t.winningBid.secondPriceBucket);var r=l.getBidById(t.winningBid.id);r&&r.deal_id&&(n[e].deal_id=r.deal_id)}}else n[e]={size:"none",price:"0",cpm:"0.0",ad:"",bid_id:null};else g.emit(p.ERROR,"getPriceMap: div does not have an associated slot"),u.gatewayExceptionCall("[ApiBidder::getPriceMap] div does not have an associated slot");return n},S.refresh=function(e,t){if(0!==Object.keys(B).length)return void setTimeout(function(){S.refresh(e,t&&t.slice())},250);S.allowAcceleratedAdNoFills(!1),_();var n,i,r,a,s,d,c,f=T.slots,h=!!t&&t.length;if(t)if(f=[],h=t.length,window.googletag)for(l.clearMatchedButUnusedBids(),c=0;c<h;c++)d=void 0,i=t[c],r=i&&i.getSlotId(),d=r&&r.getId(),d?"google_ads_iframe_"+d in T.slotsBySlotId&&f.push(T.slotsBySlotId["google_ads_iframe_"+d]):(g.emit(p.ERROR,"refresh: Unexpected error while retrieving slot ID"),u.gatewayExceptionCall("[API Bidder::refresh] unexpected error retrieving slot ID"));else for(c=0;c<h;c++)d=t[c],T.slotsByDivId[d]&&f.push(T.slotsByDivId[d]);for(a=f.length,c=0;c<a;c++)n=f[c],n.status!==o.READY&&n.status!==o.BYPASS&&(n.sizeKey||n.metaConfig)?n.status=o.READY:n.status=o.BYPASS,n.bucket="t",n.reset();if(!(s=S.requestSlotsToAuction(f)))return void e();R[s.id]=f,B[s.id]=e},S.getSize=function(e){var t=T&&T.slotsByDivId[e],n=(S.mapping.size_override,"none");return t?n=t.sizeString||n:(g.emit(p.WARN,'getSize: Unexpected error returning dfp size string, returning "none".',e),u.gatewayExceptionCall('getSize: Unexpected error returning dfp size string, returning "none". div called for getSize: '+e)),n},S.getPrice=function(e){var t,n="0";return u.tryCatch({context:S.bidderType()},function(){t=T.slotsByDivId[e],n=t.getPrice()},function(t){g.emit(p.WARN,"getPrice: Unexpected error return dfp bucket.",e,t),u.gatewayExceptionCall("getPrice: Unexpected error return dfp bucket. div called for getPrice: "+e)}),n},S.getSecondPrice=function(e){var t=v(e);return t&&t.winningBid&&t.winningBid.secondPriceBucket},S.getFirstPrice=function(e){var t=v(e);return t&&t.winningBid&&t.winningBid.firstPriceBucket},S.getOxTargetingKey=function(e){return v(e).getOxTargetingKey()},S.getOxTargetingValue=function(e){return v(e).getOxTargetingValue()},S.setOxTargeting=function(e){var t,n,i,r=e&&e.length;u.tryCatch({context:S.bidderType()},function(){for(e||(e=window.googletag.pubads().getSlots(),r=e&&e.length),t=0;t<r;t++)n=e[t].getSlotElementId(),(i=T&&T.slotsByDivId[n])&&m(e[t],i,S.mapping.bid_boost_enabled)},function(e,t){g.emit(p.ERROR,"Unexpected error in setOxTargeting",e)})},S.getBidId=function(e){try{var t=T.slotsByDivId[e];return t.winningBid&&t.winningBid.id}catch(e){return null}},S.getBids=function(e,t){g.emit(p.DEBUG,"API Bidder starting initial auction"),i(c.metaConfigToSlotArray(e,S.mapping),t)}}var r=n(1),o=r.SLOT_STATUS,a=n(26),s=n(15),d=n(16),c=n(0),u=n(4),l=n(5),f=n(27),p=n(3),g=n(2),h=n(17),m=n(28).oxSetTargeting;c.extends(i,s),e.exports=i},function(e,t,n){"use strict";function i(e,t){function n(e){var t=e[0],n=e[1],i=e[1][0],r=e[2],o=e[3]||{},a=e[4],s=E.metadata.slotsByDivId[r];return s||(s=new f(t,n,r,null,d.CREATED,i,o,E.mapping.version),a&&(s.metaConfig=a),E.metadata.slotsByDivId[r]=s,E.metadata.slots.push(s)),s}function i(){var e,t,i=window.OX_dfp_ads,r=E.newAuctionConfig(s.AUCTION_TYPES.PREFETCH);window.OX_dfp_options&&window.OX_dfp_options.customVariables&&(E.metadata.pageTargeting=window.OX_dfp_options.customVariables),i=a.metaConfigToSlotArray(i,E.mapping);var u=i&&i.length;for(t=0;t<u;t++){e=n(i[t]),function(e){c(e,E.mapping,E.metadata,!0)}(e),e.status===d.READY&&o.prototype.addSlotForAuction.call(E,e,r)}return r}function p(){var e,t,n=window.OX_dfp_slots||E.mapping.prefetch&&E.mapping.prefetch.slots,i=E.mapping.prefetch&&E.mapping.prefetch.auid,r=n&&n.length,a=E.newAuctionConfig(s.AUCTION_TYPES.PREFETCH);for(t=0;t<r;t++)e={div:String(t),supportedSizes:n[t],auid:i},o.prototype.addSlotForAuction.call(E,e,a);return a}function g(){T=S?E.newAuctionConfig(s.AUCTION_TYPES.SLOT_CACHE):w?i():p(),E._beforeDisplayAuction=E.createAuction(T),E._beforeDisplayAuction&&(E._beforeDisplayAuction.setToTimeout=function(){var e=E.metadata.slots.slice();a._each(e,function(e){e.setStartMetricsFromAuction(E._beforeDisplayAuction)}),w?setTimeout(E.createTimeoutForSlots(E._beforeDisplayAuction,e),E.mapping.timeout):a._each(e,function(e){e.setAsTimeoutStarted()}),E._beforeDisplayAuction.setToTimeout=null},A=E._beforeDisplayAuction.startTime.getTime())}function h(e,t){var n=a.dateNow()-s.BID_EXPIRATION_THRESHOLD,i=!1;return A<n?void l.emit(u.WARN,"Ads are after the current threshold (4.5 min)"):(E.hasPreDefinedSlots?a._each(t.slots,function(t){t.div!==e.div||t.matchedDiv||(t.matchedDiv=e.div,e.matchedDiv=t.div,i=!0)}):a._each(t.slots,function(t){!a.isSubset(e.supportedSizes||e.size,t.sizes)||t.matchedDiv||E.metadata.slotsByDivId[t.div]||(t.matchedDiv=e.div,e.matchedDiv=t.div,i=!0)}),i||l.emit(u.WARN,"No pre-bid matches found for dfpSlot:",e),i)}function m(e,t,n,i){var o=E.metadata.slotsByDivId[n];return o?(o.slot=i,o.size=t,o.zone=e,o.div=n,void(E.metadata.slotsBySlotId["google_ads_iframe_"+i.getSlotId().getId()]=o)):r.prototype.addSlot.apply(E,arguments)}function _(e){var t;return E._beforeDisplayAuction&&!E._beforeDisplayAuction.completed&&a._each(e,function(e){e.inFlight||(e.status!==d.CREATED&&e.status!==d.READY&&e.status!==d.BYPASS||E.performAdServerMapping(e),h(e,T)&&(e.inFlight=E._beforeDisplayAuction.id))}),t=E._beforeDisplayAuction&&!E._beforeDisplayAuction.completed&&E.mapping.use_slot_info?this.newAuctionConfig(s.AUCTION_TYPES.SLOT_CACHE_FALLBACK,this.releaseCandidateCode):this.newAuctionConfig(s.AUCTION_TYPES.STANDARD,this.releaseCandidateCode),this.attemptAuction(e,t)}function v(e,t){if(!E.metadata.slotsByDivId[e.div]){var n=Number(e.div),i=T.slots[n];if(i){if((!e.width||!e.height)&&i.sizes&&i.sizes.length>0){var r=i.sizes[0].split("x");e.width=Number(r[0]),e.height=Number(r[1])}e.prefetched=!0,i.matchedDiv&&(E._beforeDisplayAuction.expectedBidsByDivId[i.matchedDiv]=E._beforeDisplayAuction.expectedBidsByDivId[e.div],e.div=i.matchedDiv)}}return R.apply(this,arguments)}function y(){l.emit(u.DEBUG,"Prefetch Bidder initialized"),g(),B()}r.call(this,e,t);var E=this,T=null,w=window.OX_dfp_options&&window.OX_dfp_options.prefetch&&window.OX_dfp_ads;this.hasPreDefinedSlots=w&&window.OX_dfp_ads.length>0;var S=e&&e.use_slot_info,A=null,B=this.init,R=this.onBidReceived;S?this.bidderType(s.BC_BIDDER_TYPES.SLOT_CACHING_BIDDER):w?this.bidderType(s.BC_BIDDER_TYPES.PREFETCH_WITH_DEFINED_SLOTS_BIDDER):this.bidderType(s.BC_BIDDER_TYPES.PREFETCH_BIDDER),this.init=y,this.addSlot=m,this.requestSlotsToAuction=_,this.onBidReceived=v,this._makeApiPrefetchSlot=n,this._createPrefetchAuctionConfigFromApi=i,this._createPrefetchAuctionConfigFromMapping=p,this._doPrefetchAuction=g}var r=n(25),o=n(15),a=n(0),s=(n(4),n(1)),d=s.SLOT_STATUS,c=n(16),u=n(3),l=(n(5),n(2)),f=n(17);a.extends(i,r),e.exports=i}]);


