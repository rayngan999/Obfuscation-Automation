if(!function(t){function e(t){var e;!function(t){var e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3);var n="; expires="+e.toUTCString();i.cookie=r+"="+(t||"")+n+"; path=/"}(t),e=t,localStorage&&localStorage.setItem(r,e)}function n(){var r=function i(t){try{if(t.__tcfapi)return t.__tcfapi;if(t.parent&&t!==t.parent)return i(t.parent)}catch(i){return!1}return!1}(t);if(r)r("getTCData",2,function(t,n){n&&e((t||{}).tcString)});else{var o=function c(t){try{if(t.__cmp)return t.__cmp;if(t.parent&&t!==t.parent)return c(t.parent)}catch(c){return!1}return!1}(t);o?o("getConsentData",null,function(t,n){n&&e((t||{}).consentData)}):s<u&&(setTimeout(function(){n()},a),s++)}}var r="ibb_euconsent",o=90,i=t.document,u=3,a=500,s=0;n(),t.ibbCmpConsent=function(){return localStorage&&localStorage.getItem(r)||(t=new RegExp("(^|; )"+r+"=([^;]*)(; |$)"),((i.cookie||"").match(t)||[])[2]||null)||null;var t}}(window),"undefined"==typeof ibbAds)var ibbAds={};!function(t){if(!t.tag){!function(t,e){"use strict";"object"==typeof exports?module.exports=e():t.modulejs=e()}(this,function(){"use strict";function t(t){return function(e){return a.toString.call(e)==="[object "+t+"]"}}function e(t,e){return void 0!==t&&null!==t&&a.hasOwnProperty.call(t,e)}function n(t,n){if(t&&t.length)for(var r=0,o=t.length;o>r;r+=1)n(t[r],r,t);else for(var i in t)e(t,i)&&n(t[i],i,t)}function r(t,e){if(t&&t.length)for(var n=0,r=t.length;r>n;n+=1)if(t[n]===e)return!0;return!1}function o(t){var e=[];return n(t,function(t){r(e,t)||e.push(t)}),e}function i(t,e){if(!t)throw new Error("[modulejs] "+e)}function u(){function t(u,a,s){i(f(u),"id must be string: "+u);var c=a===!0,d=(c?void 0:a)||v;if(!c&&e(d,u))return d[u];var l=h[u];i(l,"id not defined: "+u),s=(s||[]).slice(),s.push(u);var p=[];if(n(l.deps,function(e){i(!r(s,e),"circular dependencies: "+e+" in "+s),c?(p=p.concat(t(e,a,s)),p.push(e)):p.push(t(e,a,s))}),c)return o(p);var m=l.fn.apply(void 0,p);return d[u]=m,m}function a(t,n,r){arguments.length<3&&(r=n,n=[]),i(f(t),"id must be string: "+t),i(!e(h,t),"id already defined: "+t),i(s(n),"deps must be array: "+t),h[t]={id:t,deps:n,fn:c(r)?r:function(){return r}}}function d(e,n){return t(e,n)}function l(){var o={};return n(h,function(n,r){o[r]={deps:n.deps.slice(),reqs:t(r,!0),init:e(v,r)}}),n(h,function(t,e){var i=[];n(h,function(t,n){r(o[n].reqs,e)&&i.push(n)}),o[e].reqd=i}),o}function p(t){var e="\n";return n(l(),function(n,r){var o=t?n.reqd:n.reqs;e+=(n.init?"* ":"  ")+r+" -> [ "+o.join(", ")+" ]\n"}),e}var h={},v={};return{create:u,define:a,log:p,require:d,state:l,_private:{assert:i,contains:r,definitions:h,each:n,has:e,instances:v,isArray:s,isFunction:c,isString:f,resolve:t,uniq:o}}}var a=Object.prototype,s=t("Array"),c=t("Function"),f=t("String");return u()}),modulejs.define("ibb.Ad",[],function(){function t(t){var e=this,n={};e.setSlotMarkup=function(t,e){n[t]=e},e.getSlotMarkups=function(){return n},e.getMarkupFor=function(t){return n[t]},e.hasMarkupFor=function(t){return"undefined"!=typeof n[t]},e.getId=function(){return t},e.getSlotIds=function(){return Object.getOwnPropertyNames(n)}}return t}),modulejs.define("ibb.AdCollection",["ibb.collection","ibb.Ad"],function(t,e){function n(){function n(e){return t.forEach(e,function(t){o.addItemToMultipleKeys(t.getSlotIds(),t)}),o}var r=this,o=t.newListsCollection();r.getMarkupsForSlot=function(e){var n=o.getItems(e),r=[];return t.forEach(n,function(t){r.push(t.getMarkupFor(e))}),r},r.getSlotIds=function(){return o.getKeys()},r.getAdsForSlot=function(t){return o.getItems(t)},r.insertAds=function(t){n(t)},r.addByAdDescriptor=function(t,r){var o=new e(t.adId),i=r.getCustomSlotIdFor(t.slotId);o.setSlotMarkup(i,t.markup),n([o])},r.getAds=function(){return o.getAllItemsAsArray()}}return n}),modulejs.define("ibb.AdProviderApi",["ibb.eventBus","ibb.eventTypeEnum","ibb.SlotCollection","ibb.RequestBuilder","ibb.RequestData"],function(t,e,n,r,o){function i(i){function u(){if(!v.hasServer())throw new Error("No ad server was configured for ad provider!")}function a(t){return v.buildRequest(m.getSubCollectionFor(t),g)}function s(t){return t.make()}function c(t){return f(t),t.getAds()}function f(t){d(t.getAds()),l(t.getIdsOfEmptySlots())}function d(n){t.fireEvent(h,e.ADS_ARRIVED,n)}function l(n){n.forEach(function(n){t.fireEvent(h,e.NO_AD_RETURNED_FOR_AD_SLOT,h.getSlotByAdServerId(n))})}function p(t){return null!==t}var h=this,v=new r,m=new n,g=new o;h.setAdServer=function(t){v.useServer(t)},h.setDataCollectionTimeout=function(t){g.setDataCollectionTimeout(t)},h.attachData=function(t,e){return g.add(t,e),h},h.attachDataIfNotNull=function(t,e){return h.attachData(t,e),g.addAttachCondition(t,p),h},h.attachDataToAdSlot=function(t,e,n){return g.setAdSlotScope(t),g.add(e,n),g.resetAdSlotScope(),h},h.manageAdSlot=function(t,e){return m.createAndAddSlot(t,e)},h.requestAds=function(t){return u(),a(t).then(s).then(c)},h.on=function(e,n){t.on(h,e,n)},h.getSlotByAdServerId=function(t){return m.slotByAdServerId(t)},h.getSlotIds=function(){return m.slotIds()},h.getAdServerSlotIds=function(){return m.adServerSlotIds()},h.getName=function(){return i}}return i}),modulejs.define("ibb.AdServer",["ibb.DataMergerer","ibb.Promise"],function(t,e){function n(){function n(){return(new e).resolve([])}function r(t,e){var n=u(e);return o(t,n).then(i)}function o(t,e){return s.buildRequest(c,t,e).make()}function i(t){return s.parseResponse(t)}function u(t){var e=t;return c.requestData&&(e=f.merge(c.requestData,t)),e}var a=this,s=null,c={},f=new t;a.setCommunicationProtocol=function(t){s=t},a.setConfig=function(t){c=t||{}},a.requestAds=function(t,e){return t.length<1?n():r(t,e)}}return n}),modulejs.define("ibb.AdSlot",[],function(){function t(t,e){var n=this;n.getAdServerId=function(){return e},n.getCustomId=function(){return t}}return t}),modulejs.define("ibb.BbmProtocol",["ibb.BbmRequest"],function(t){function e(t,e,n){this.adId=t,this.slotId=e,this.markup=n}function n(t){var n=this,r=t||[],o=[];r.forEach(function(t){var n=new e(t.adId,t.slotId,t.markup);o.push(n)}),n.getAdDescriptors=function(){return o}}function r(){var e=this;e.buildRequest=function(e,n,r){return new t(e,n,r)},e.parseResponse=function(t){return new n(t).getAdDescriptors()}}return r}),modulejs.define("ibb.BbmRequest",["ibb.ajax"],function(t){function e(e,n,r){function o(t){return t}function i(){return[]}function u(){return e.endpointUrl}function a(){var t=(e.method||"GET").toString().toUpperCase();return"POST"===t?t:"GET"}function s(t,e){var n=u(),r=t.length;e.one2n=r;for(var o=1;o<=r;o++)e["one2n"+o]=c(t[o-1]);return n+"?"+f(e)}function c(t){var e=t,n="/"+e.replace(/\./g,"/")+"/";return n+";"+e+";"}function f(t){for(var e=Object.getOwnPropertyNames(t),n="",r=0;r<e.length;r++){var o=e[r];n+="href"===o?o+"="+encodeURIComponent(t[o])+"&":encodeURI(o+"="+t[o]+"&")}return n}var d=this;return d.make=function(){return t.sendRequest(d).then(o,i)},d.getUrl=function(){return"GET"===a()?s(n,r):u()},d.getData=function(){return r},d.getMethod=function(){return a()},d}return e}),modulejs.define("ibb.DataMergerer",["ibb.collection"],function(t){function e(){function e(e,r){t.forEach(r||{},function(t,r,o){var i=n(e,o);e[i]=t})}function n(t,e){var n=e;return r(t,e)&&(n=u+e),n}function r(t,e){return"undefined"!=typeof t[e]}function o(e){var n={};return t.forEach(e,function(t,e,r){n[r]=t}),n}var i=this,u="custom_";i.merge=function(t,n){var r=o(t);return e(r,n),r}}return e}),modulejs.define("ibb.DataProviders",[],function(){function t(t,e,n){function r(t){if("string"!=typeof t||t.length<1)throw new Error("Data provider URL must be provided as it is used for downloading!")}function o(){if(!n)throw new Error("Data provider downloader was not configured, yet you are requesting provider that was not yet downloaded nor pre-configured: "+t)}function i(e){return o(),n.get(t,e)}var u=this,a=e.url;r(a);var s=i(a);u.id=function(){return t},u.requestData=function(t){s.then(function(n){var r=new n(e.config);r.requestData(t)})}}function e(){function e(t,e){var n=t.id;return o[n]=new t(e),o[n].requestData}function n(e,n){return o[e]||(o[e]=new t(e,n,i)),o[e].requestData}var r=this,o={},i=null;r.add=function(t,r){return r=r||{},"function"==typeof t?e(t,r.config):n(t,r)},r.useDownloader=function(t){if(t&&"function"==typeof t.get)return i=t;throw new Error('Provided downloader does not seem to have a proper interface. It is either undefined or does not have the "get" method.')},r.getProvider=function(t){return o[t]}}return e}),modulejs.define("ibb.IbbTagEvent",[],function(){function t(t,e,n){var r=this,o=t;r.getType=function(){return e},r.getSource=function(){return o},r.setSource=function(t){o=t},r.getOriginator=function(){return t},r.getData=function(){return n}}return t.clone=function(e){return new t(e.getOriginator(),e.getType(),e.getData())},t}),modulejs.define("ibb.Promise",["ibb.timer"],function(t){function e(t,e,n){function r(t,e){try{i("resolve",u[t](e))}catch(n){i("reject",n)}}function o(t){return u[t]}function i(t,e){u.promise&&u.promise[t](e)}var u=this;u.resolve=t,u.reject=e,u.promise=n,u.execute=function(t,e){o(t)?r(t,e):i(t,e)}}function n(){function r(t,e){return o(),i(),u.resolvedValue=e,u.resolvedMethod=t,n.isPromise(e)?e.setThenAction(a):a.execute(t,e),u}function o(){u.resolve=u.reject=function(){throw new Error("Promise already completed.")}}function i(){u.timeoutCounter&&u.timeoutCounter.clear()}var u=this,a=new e;u.then=function(t,r){var o=new n;return u.setThenAction(new e(t,r,o)),o},u.setThenAction=function(t){a=t,u.isResolved()&&r(u.resolvedMethod,u.resolvedValue)},u.timeout=function(e,n){return"function"!=typeof n&&(n=function(){u.reject(new Error("Promise timed out after "+e+"ms"))}),u.timeoutCounter=t.createTimeout(e,n),u},u.resolve=function(t){return r("resolve",t)},u.reject=function(t){return r("reject",t)},u.isResolved=function(){return!!u.resolvedMethod}}return n.isPromise=function(t){return t&&"function"==typeof t.then},n}),modulejs.define("ibb.ProviderCollection",["ibb.collection"],function(t){function e(e){function n(t){return a.get(t)}function r(t){var e=o(t);return a.add(e),e}function o(t){return i(t),e[t]}function i(t){if(!e[t])throw new Error("Provider must be configured in provider config to use it by name!")}var u=t.newNamedItemsCollection(),a=u;return a.getSlotIds=function(){return u.reduce(function(t,e){return t.concat(e.getSlotIds())},[])},a.requestAds=function(t){var e=[];return u.each(function(n){e.push(n.requestAds(t))}),e},a.useAdProvider=function(t){var e=n(t);return e||(e=r(t)),e},a}return e}),modulejs.define("ibb.RequestBuilder",["ibb.AdCollection"],function(t){function e(t,e){function r(e){return new n(e,t)}var o,i=this,u=e;i.useServer=function(t){o=t},i.make=function(){return o.requestAds(t.adServerSlotIds(),u).then(r)}}function n(e,n){function r(){var t=n.adServerSlotIds().slice(0);return e.forEach(function(e){var n=t.indexOf(e.slotId);n!==-1&&t.splice(n,1)}),t}var o=this,i=new t;e.forEach(function(t){i.addByAdDescriptor(t,n)}),o.getAds=function(){return i.getAds()},o.getIdsOfEmptySlots=function(){return r()}}function r(){var t,n=this;n.useServer=function(e){t=e},n.hasServer=function(){return t&&t.requestAds},n.buildRequest=function(n,r){return r.obtain(n).then(function(r){var o=new e(n,r);return o.useServer(t),o})}}return r}),modulejs.define("ibb.RequestData",["ibb.Promise","ibb.collection"],function(t,e){function n(){function n(t){function e(t){for(var e in t){var n=t[e];r(e,n)&&(o[e]=n)}}var n,o={},i=t?t.slotIds():[];e(b);for(var u in i)n=i[u],e(T[n]);return o}function r(t,e){var n=A[t];return!n||n(e)}function o(t,e){"function"==typeof e?a(t,e):i(t,e)}function i(t,e){S?u(t,e):b[t]=e}function u(t,e){T[S]||(T[S]={}),T[S][t]=e}function a(t,e){l(e,function(e){g.add(t,e)})}function s(t){w.splice(w.indexOf(t),1)}function c(t){f(t),"function"==typeof t?d(t):p(t)}function f(t){if("object"!=typeof t&&"function"!=typeof t)throw new Error("Object or function eventually returning an object must be provided as argument if only one argument is used to add data!")}function d(t){l(t,function(t){g.add(t)})}function l(e,n){var r=new t;r.then(function(t){n(t),s(r)}),w.push(r),e(r.resolve)}function p(t){e.forEach(t,function(t,e,n){g.add(n,t)})}function h(){return w.length>0}function v(t,e){t.timeout(y,function(){m(),t.resolve(n(e))})}function m(){for(var e in b)t.isPromise(b[e])&&i(e,void 0)}var g=this,b={},y=500,w=[],T={},S=null,A={};g.setDataCollectionTimeout=function(t){y=t},g.add=function(t,e){return"undefined"==typeof e?c(t):void o(t,e)},g.obtain=function(e){var r=new t;return h()?v(r,e):r.resolve(n(e)),r},g.setAdSlotScope=function(t){S=t},g.resetAdSlotScope=function(){S=null},g.addAttachCondition=function(t,e){A[t]=e}}return n}),modulejs.define("ibb.ScriptBasedDomDownloader",["ibb.Promise"],function(t){function e(e){function n(t,e){return e.timeout(s),function(){e.resolve(c[t])}}function r(t,e){var n=f.createElement("SCRIPT");return n.src=t,n.async=!0,n.onload=e,o(n),n}function o(t){var e=i(f);e.insertBefore(t,e.childNodes[0])}function i(t){var e=t.getElementsByTagName("head")[0];return e?e:t.body}var u=500,a=this,s=u,c=e||{},f=document;a.get=function(e,o){var i=new t;return c[e]?i.resolve(c[e]):(r(o,n(e,i)),i)},a.setTimeoutMillis=function(t){s=parseInt(t)||u}}return e}),modulejs.define("ibb.SlotCollection",["ibb.AdSlot"],function(t){function e(){var n=this,r={},o={};n.add=function(t){r[t.getAdServerId()]=t,o[t.getCustomId()]=t},n.slotByAdServerId=function(t){return r[t]},n.adServerSlotIds=function(){return Object.getOwnPropertyNames(r)},n.slotIds=function(){return Object.getOwnPropertyNames(o)},n.getSubCollectionFor=function(t){var r=t||n.slotIds(),i=new e;return r.filter(n.contains).map(function(t){i.add(o[t])}),i},n.getCustomSlotIdFor=function(t){return r[t].getCustomId()},n.contains=function(t){return void 0!==o[t]},n.createAndAddSlot=function(e,r){var o=new t(e,r);return n.add(o),o}}return e}),modulejs.define("ibb.SlotContentManipulator",["ibb.collection","ibb.AdCollection","ibb.timer","ibb.eventBus","ibb.eventTypeEnum"],function(t,e,n,r,o){function i(t){function i(t,e,n){d.clearSlots(t);var r=f.write(t,e.getMarkupsForSlot(t));r?c(t,e.getAdsForSlot(t)):u(t,e,n)}function u(t,e,r){var o=r?r:l;o<p&&(o+=l,n.createTimeout(l,function(){i(t,e,o)}))}function a(t){var e=parseInt(t);if(!e||e<0)throw new Error("Provided argument must be positive integer!");return e}function s(){if(!f||"function"!=typeof f.write)throw new Error("No ad writer provided. Please provide one first!")}function c(e,n){r.fireEvent(t,o.ADS_WRITTEN_TO_AD_SLOT,{slotId:e,ads:n})}var f,d=this,l=100,p=5e3;d.placeAds=function(t){s();var n=new e;n.insertAds(t),n.getSlotIds().forEach(function(t){i(t,n)})},d.clearSlots=function(t){s(),f.clear(t)},d.setWriteRetryIntervalMillis=function(t){l=a(t)},d.setMaxWriteRetryTimeMillis=function(t){p=a(t)},d.setWriter=function(t){f=t}}return i}),modulejs.define("ibb.SlotGroup",[],function(){function t(t,e){var n=this,r=t.map(function(t){return t.getCustomId?t.getCustomId():t.toString()});n.getSlotIds=function(){return r},n.requestAds=function(){return e.requestAds(r)}}function e(t){var e=Array.isArray(t)?t:[t],n=this;n.whenAdsArrive=function(t){e.forEach(function(e){e.then(t)})}}function n(n,r){function o(e){return new t(e,r)}var i,u=this;if(n)if("string"==typeof n){var a=r.get(n);i=a?a:o([n])}else i=Array.isArray(n)?o(n):"function"==typeof n.getCustomId?o([n]):n;else i=r;u.getSlotIds=function(){return i.getSlotIds()},u.requestAds=function(){return new e(i.requestAds())}}return n}),modulejs.define("ibb.TagApi",["ibb.eventBus","ibb.eventTypeEnum","ibb.collection","ibb.ProviderCollection","ibb.SlotGroup","ibb.Ad","ibb.SlotContentManipulator","ibb.DataProviders"],function(t,e,n,r,o,i,u,a){function s(n){function s(t){t.on(e.ADS_ARRIVED,c),t.on(e.NO_AD_RETURNED_FOR_AD_SLOT,c)}function c(e){t.reFire(d,e)}function f(){if(l.getCount()<1)throw new Error("No ad providers defined. Please define at least one first!")}var d=this,l=new r(n),p=new a,h=new u(this);d.useAdProvider=function(t){var e=l.useAdProvider(t);return s(e),e},d.getProvider=function(t){return l.get(t)},d.useDataProvider=function(t,e){return p.add(t,e)},d.requestAds=function(t){f();var e=new o(t,l);return e.requestAds()},d.placeAds=function(t){h.placeAds(t)},d.requestAndPlaceAds=function(t){d.requestAds(t).whenAdsArrive(d.placeAds)},d.clearSlots=function(t){var e=new o(t,l);h.clearSlots(e.getSlotIds())},d.setAdWriter=function(t){h.setWriter(t)},d.setProviderDownloader=function(t){p.useDownloader(t)},d.createAd=function(t){return new i(t)},d.on=function(e,n){t.on(d,e,n)}}return s}),modulejs.define("ibb.ajax",["ibb.Promise","ibb.ajaxBrowserSupport","ibb.const"],function(t,e,n){function r(t,e){function r(t){var n;try{n=JSON.parse(t)}catch(r){return void e.reject(new Error("Cannot parse response adserver resposne"))}e.resolve(n)}return function(){t.readyState===n.READYSTATE.DONE&&(t.status===n.HTTP.STATUS.OK?r(t.responseText):e.reject(t.status))}}return{sendRequest:function(o){var i=e.getNewAjax(),u=JSON.stringify(o.getData()),a=new t,s=o.getMethod().toUpperCase(),c=o.getUrl();return s===n.HTTP.METHOD.POST?(i.open(s,c,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded")):(i.open(s,c,!0),u=""),i.onreadystatechange=r(i,a),i.send(u),a}}}),modulejs.define("ibb.ajaxBrowserSupport",["ibb.window"],function(t){return{getNewAjax:function(){if("undefined"!=typeof t.XMLHttpRequest){var e=new t.XMLHttpRequest;return e.withCredentials=!0,e}if(t.XDomainRequest)return new t.XDomainRequest;if(t.ActiveXObject)return new t.ActiveXObject("Microsoft.XMLHTTP");throw new Error("Cannot use async ajax calls. No support in browser!")}}}),modulejs.define("ibb.asynchronizer",["ibb.window"],function(t){function e(){var e=this;e.makeAsyncCall=function(e){t.setTimeout(e,0)}}return new e}),modulejs.define("ibb.collection",[],function(){function t(){function t(t,e){t[e]||(t[e]=[])}var e=this,r={};e.addItem=function(e,n){t(r,e),r[e].push(n)},e.addItemToMultipleKeys=function(t,r){n.forEach(t,function(t){e.addItem(t,r)})},e.addMultipleItems=function(t){n.forEach(t,function(t,n,r){e.addItem(r,t)})},e.getItemsAsMap=function(){return r},e.getKeys=function(){return Object.getOwnPropertyNames(r)},e.getItems=function(t){return r[t]},e.getAllItemsAsArray=function(){var t=[];return n.forEach(r,function(e){t=t.concat(e)}),t}}function e(){function t(t){if(e.get(t))throw new Error('Element with name "'+t+'" was already defined!')}var e=this,n={},r=0;e.add=function(e){var o=e.getName();t(o),n[o]=e,r++},e.getCount=function(){return r},e.get=function(t){return n[t]},e.each=function(t){for(var e in n)t(n[e])},e.reduce=function(t,e){var r=e||0;for(var o in n)r=t(r,n[o]);return r}}var n={};return n.findOne=function(t,e){for(var n=null,r=0;r<t.length;r++){var o=t[r];if(e(o)){n=o;break}}return n},n.forEach=function(t,e){var n;if(Array.isArray(t))for(n=0;n<t.length;n++)e(t[n],n);else{var r=Object.getOwnPropertyNames(t);for(n=0;n<r.length;n++){var o=t[r[n]];"function"!=typeof o&&e(o,n,r[n])}}},n.filter=function(t,e){var n=[];return this.forEach(t,function(t){e(t)&&n.push(t)}),n},n.newListsCollection=function(){return new t},n.newNamedItemsCollection=function(){return new e},n}),modulejs.define("ibb.console",[],function(){return{log:function(){console.log.apply(console,arguments)},error:function(){console.error.apply(console,arguments)},warn:function(t,e){console.warn.apply(console,arguments)}}}),modulejs.define("ibb.const",[],function(){return{UNKNOWN:"unknown",ADSLOT:{CLASSNAME:"ibbAdSlot",ID_ATTRIBUTE:"data-slotId",INSTALLATION_ATTRIBUTE:"data-inst"},READYSTATE:{DONE:4},HTTP:{STATUS:{OK:200},METHOD:{POST:"POST",GET:"GET"}}}}),modulejs.define("ibb.adWriter",[],function(){function t(){function t(t){return Array.isArray(t)?t.join("\n"):t}function e(t){return document.getElementById(t)}var n=this;n.write=function(n,r){var o=t(r),i=e(n);return!!i&&(postscribe("#"+n,o),!0)},n.clear=function(t){var n=Array.isArray(t)?t:[t];n.forEach(function(t){var n=e(t);n&&(n.innerHTML="")})}}return!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.postscribe=e():t.postscribe=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(1),i=r(o);t.exports=i["default"]},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(){}function u(){var t=m.shift();if(t){var e=p.last(t);e.afterDequeue(),t.stream=a.apply(void 0,t),e.afterStreamStart()}}function a(t,e,n){function r(t){t=n.beforeWrite(t),g.write(t),n.afterWrite(t)}g=new d["default"](t,n),g.id=v++,g.name=n.name||g.id,s.streams[g.name]=g;var o=t.ownerDocument,a={close:o.close,open:o.open,write:o.write,writeln:o.writeln};c(o,{close:i,open:i,write:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return r(e.join(""))},writeln:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return r(e.join("")+"\n")}});var f=g.win.onerror||i;return g.win.onerror=function(t,e,r){n.error({msg:t+" - "+e+": "+r}),f.apply(g.win,[t,e,r])},g.write(e,function(){c(o,a),g.win.onerror=f,n.done(),g=null,u()}),g}function s(t,e,n){if(p.isFunction(n))n={done:n};else if("clear"===n)return m=[],g=null,void(v=0);n=p.defaults(n,h),t=/^#/.test(t)?window.document.getElementById(t.substr(1)):t.jquery?t[0]:t;var r=[t,e,n];return t.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=i}},n.beforeEnqueue(r),m.push(r),g||u(),t.postscribe}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=s;var f=n(2),d=o(f),l=n(4),p=r(l),h={afterAsync:i,afterDequeue:i,afterStreamStart:i,afterWrite:i,autoFix:!0,beforeEnqueue:i,beforeWriteToken:function(t){return t},beforeWrite:function(t){return t},done:i,error:function(t){throw t},releaseAsync:!1},v=0,m=[],g=null;c(s,{streams:{},queue:m,WriteStream:d["default"]})},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){var n=h+e,r=t.getAttribute(n);return l.existy(r)?String(r):r}function a(t,e){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=h+e;l.existy(n)&&""!==n?t.setAttribute(r,n):t.removeAttribute(r)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(3),f=o(c),d=n(4),l=r(d),p=!1,h="data-ps-",v="ps-style",m="ps-script",g=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.root=e,this.options=n,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new f["default"]("",{autoFix:n.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],a(this.proxyRoot,"proxyof",0)}return t.prototype.write=function(){var t;for((t=this.writeQueue).push.apply(t,arguments);!this.deferredRemote&&this.writeQueue.length;){var e=this.writeQueue.shift();l.isFunction(e)?this._callFunction(e):this._writeImpl(e)}},t.prototype._callFunction=function(t){var e={type:"function",value:t.name||t.toString()};this._onScriptStart(e),t.call(this.win,this.doc),this._onScriptDone(e)},t.prototype._writeImpl=function(t){this.parser.append(t);for(var e=void 0,n=void 0,r=void 0,o=[];(e=this.parser.readToken())&&!(n=l.isScript(e))&&!(r=l.isStyle(e));)e=this.options.beforeWriteToken(e),e&&o.push(e);o.length>0&&this._writeStaticTokens(o),n&&this._handleScriptToken(e),r&&this._handleStyleToken(e)},t.prototype._writeStaticTokens=function(t){var e=this._buildChunk(t);return e.actual?(e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,p&&(e.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),p&&(e.actualInnerHTML=this.root.innerHTML),e):null},t.prototype._buildChunk=function(t){for(var e=this.actuals.length,n=[],r=[],o=[],i=t.length,u=0;i>u;u++){var a=t[u],s=a.toString();if(n.push(s),a.attrs){if(!/^noscript$/i.test(a.tagName)){var c=e++;r.push(s.replace(/(\/?>)/," "+h+"id="+c+" $1")),a.attrs.id!==m&&a.attrs.id!==v&&o.push("atomicTag"===a.type?"":"<"+a.tagName+" "+h+"proxyof="+c+(a.unary?" />":">"))}}else r.push(s),o.push("endTag"===a.type?s:"")}return{tokens:t,raw:n.join(""),actual:r.join(""),proxy:o.join("")}},t.prototype._walkChunk=function(){for(var t=void 0,e=[this.proxyRoot];l.existy(t=e.shift());){var n=1===t.nodeType,r=n&&u(t,"proxyof");if(!r){n&&(this.actuals[u(t,"id")]=t,a(t,"id"));var o=t.parentNode&&u(t.parentNode,"proxyof");o&&this.actuals[o].appendChild(t)}e.unshift.apply(e,l.toArray(t.childNodes))}},t.prototype._handleScriptToken=function(t){var e=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),t.src=t.attrs.src||t.attrs.SRC,t=this.options.beforeWriteToken(t),t&&(t.src&&this.scriptStack.length?this.deferredRemote=t:this._onScriptStart(t),this._writeScriptToken(t,function(){e._onScriptDone(t)}))},t.prototype._handleStyleToken=function(t){var e=this.parser.clear();e&&this.writeQueue.unshift(e),t.type=t.attrs.type||t.attrs.TYPE||"text/css",t=this.options.beforeWriteToken(t),t&&this._writeStyleToken(t),e&&this.write()},t.prototype._writeStyleToken=function(t){var e=this._buildStyle(t);this._insertCursor(e,v),t.content&&(e.styleSheet&&!e.sheet?e.styleSheet.cssText=t.content:e.appendChild(this.doc.createTextNode(t.content)))},t.prototype._buildStyle=function(t){var e=this.doc.createElement(t.tagName);return e.setAttribute("type",t.type),l.eachKey(t.attrs,function(t,n){e.setAttribute(t,n)}),e},t.prototype._insertCursor=function(t,e){this._writeImpl('<span id="'+e+'"/>');var n=this.doc.getElementById(e);n&&n.parentNode.replaceChild(t,n)},t.prototype._onScriptStart=function(t){t.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(t)},t.prototype._onScriptDone=function(t){return t!==this.scriptStack[0]?void this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,t.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)))},t.prototype._writeScriptToken=function(t,e){var n=this._buildScript(t),r=this._shouldRelease(n),o=this.options.afterAsync;t.src&&(n.src=t.src,this._scriptLoadHandler(n,r?o:function(){e(),o()}));try{this._insertCursor(n,m),n.src&&!r||e()}catch(i){this.options.error(i),e()}},t.prototype._buildScript=function(t){var e=this.doc.createElement(t.tagName);return l.eachKey(t.attrs,function(t,n){e.setAttribute(t,n)}),t.content&&(e.text=t.content),e},t.prototype._scriptLoadHandler=function(t,e){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}function r(){n(),e()}function o(t){n(),i(t),e()}var i=this.options.error;s(t,{onload:function(){return r()},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&r()},onerror:function(){return o({message:"remote script failed "+t.src})}})},t.prototype._shouldRelease=function(t){var e=/^script$/i.test(t.nodeName);return!e||!!(this.options.releaseAsync&&t.src&&t.hasAttribute("async"))},t}();e["default"]=g},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(1),i=r(o);t.exports=i["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var u=n(2),a=o(u),s=n(3),c=o(s),f=n(6),d=r(f),l=n(5),p={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},h=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?"":arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.stream=n;var o=!1,u={};for(var s in a)a.hasOwnProperty(s)&&(r.autoFix&&(u[s+"Fix"]=!0),o=o||u[s+"Fix"]);o?(this._readToken=(0,d["default"])(this,u,function(){return e._readTokenImpl()}),this._peekToken=(0,d["default"])(this,u,function(){return e._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return t.prototype.append=function(t){this.stream+=t},t.prototype.prepend=function(t){this.stream=t+this.stream},t.prototype._readTokenImpl=function(){var t=this._peekTokenImpl();return t?(this.stream=this.stream.slice(t.length),t):void 0},t.prototype._peekTokenImpl=function(){for(var t in p)if(p.hasOwnProperty(t)&&p[t].test(this.stream)){var e=c[t](this.stream);if(e)return"startTag"===e.type&&/script|style/i.test(e.tagName)?null:(e.text=this.stream.substr(0,e.length),e)}},t.prototype.peekToken=function(){return this._peekToken()},t.prototype.readToken=function(){return this._readToken()},t.prototype.readTokens=function(t){for(var e=void 0;e=this.readToken();)if(t[e.type]&&t[e.type](e)===!1)return},t.prototype.clear=function(){var t=this.stream;return this.stream="",t},t.prototype.rest=function(){return this.stream},t}();e["default"]=h,h.tokenToString=function(t){return t.toString()},h.escapeAttributes=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=(0,l.escapeQuotes)(t[n],null));return e},h.supports=a;for(var v in a)a.hasOwnProperty(v)&&(h.browserHasFlaw=h.browserHasFlaw||!a[v]&&v)},function(t,e){"use strict";e.__esModule=!0;var n=!1,r=!1,o=window.document.createElement("div");try{var i="<P><I></P></I>";o.innerHTML=i,e.tagSoup=n=o.innerHTML!==i}catch(u){e.tagSoup=n=!1}try{o.innerHTML="<P><i><P></P></i></P>",e.selfClose=r=2===o.childNodes.length}catch(u){e.selfClose=r=!1}o=null,e.tagSoup=n,e.selfClose=r},function(t,e,n){"use strict";function r(t){var e=t.indexOf("-->");return e>=0?new c.CommentToken(t.substr(4,e-1),e+3):void 0}function o(t){var e=t.indexOf("<");return new c.CharsToken(e>=0?e:t.length)}function i(t){var e=t.indexOf(">");if(-1!==e){var n=t.match(f.startTag);if(n){var r=function(){var t={},e={},r=n[2];return n[2].replace(f.attr,function(n,o){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",e[arguments[5]]=!0):t[o]=arguments[2]||arguments[3]||arguments[4]||f.fillAttr.test(o)&&o||"":t[o]="",r=r.replace(n,"")}),{v:new c.StartTagToken(n[1],n[0].length,t,e,(!!n[3]),r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))}}();if("object"===("undefined"==typeof r?"undefined":s(r)))return r.v}}}function u(t){var e=i(t);if(e){var n=t.slice(e.length);if(n.match(new RegExp("</\\s*"+e.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+e.tagName+"\\s*>","i"));if(r)return new c.AtomicTagToken(e.tagName,r[0].length+e.length,e.attrs,e.booleanAttrs,r[1])}}}function a(t){var e=t.match(f.endTag);return e?new c.EndTagToken(e[1],e[0].length):void 0}e.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){
return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.comment=r,e.chars=o,e.startTag=i,e.atomicTag=u,e.endTag=a;var c=n(4),f={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.EndTagToken=e.AtomicTagToken=e.StartTagToken=e.TagToken=e.CharsToken=e.CommentToken=e.Token=void 0;var o=n(5),i=(e.Token=function u(t,e){r(this,u),this.type=t,this.length=e,this.text=""},e.CommentToken=function(){function t(e,n){r(this,t),this.type="comment",this.length=n||(e?e.length:0),this.text="",this.content=e}return t.prototype.toString=function(){return"<!--"+this.content},t}(),e.CharsToken=function(){function t(e){r(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function(){return this.text},t}(),e.TagToken=function(){function t(e,n,o,i,u){r(this,t),this.type=e,this.length=o,this.text="",this.tagName=n,this.attrs=i,this.booleanAttrs=u,this.unary=!1,this.html5Unary=!1}return t.formatTag=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n="<"+t.tagName;for(var r in t.attrs)if(t.attrs.hasOwnProperty(r)){n+=" "+r;var i=t.attrs[r];"undefined"!=typeof t.booleanAttrs&&"undefined"!=typeof t.booleanAttrs[r]||(n+='="'+(0,o.escapeQuotes)(i)+'"')}return t.rest&&(n+=" "+t.rest),n+=t.unary&&!t.html5Unary?"/>":">",void 0!==e&&null!==e&&(n+=e+"</"+t.tagName+">"),n},t}());e.StartTagToken=function(){function t(e,n,o,i,u,a){r(this,t),this.type="startTag",this.length=n,this.text="",this.tagName=e,this.attrs=o,this.booleanAttrs=i,this.html5Unary=!1,this.unary=u,this.rest=a}return t.prototype.toString=function(){return i.formatTag(this)},t}(),e.AtomicTagToken=function(){function t(e,n,o,i,u){r(this,t),this.type="atomicTag",this.length=n,this.text="",this.tagName=e,this.attrs=o,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=u}return t.prototype.toString=function(){return i.formatTag(this,this.content)},t}(),e.EndTagToken=function(){function t(e,n){r(this,t),this.type="endTag",this.length=n,this.text="",this.tagName=e}return t.prototype.toString=function(){return"</"+this.tagName+">"},t}()},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return t?t.replace(/([^"]*)"/g,function(t,e){return/\\/.test(e)?e+'"':e+'\\"'}):e}e.__esModule=!0,e.escapeQuotes=n},function(t,e){"use strict";function n(t){return t&&"startTag"===t.type&&(t.unary=a.test(t.tagName)||t.unary,t.html5Unary=!/\/>$/.test(t.text)),t}function r(t,e){var r=t.stream,o=n(e());return t.stream=r,o}function o(t,e){var n=e.pop();t.prepend("</"+n.tagName+">")}function i(){var t=[];return t.last=function(){return this[this.length-1]},t.lastTagNameEq=function(t){var e=this.last();return e&&e.tagName&&e.tagName.toUpperCase()===t.toUpperCase()},t.containsTagName=function(t){for(var e,n=0;e=this[n];n++)if(e.tagName===t)return!0;return!1},t}function u(t,e,u){function a(){var e=r(t,u);e&&f[e.type]&&f[e.type](e)}var c=i(),f={startTag:function(n){var r=n.tagName;"TR"===r.toUpperCase()&&c.lastTagNameEq("TABLE")?(t.prepend("<TBODY>"),a()):e.selfCloseFix&&s.test(r)&&c.containsTagName(r)?c.lastTagNameEq(r)?o(t,c):(t.prepend("</"+n.tagName+">"),a()):n.unary||c.push(n)},endTag:function(n){var r=c.last();r?e.tagSoupFix&&!c.lastTagNameEq(n.tagName)?o(t,c):c.pop():e.tagSoupFix&&(u(),a())}};return function(){return a(),n(u())}}e.__esModule=!0,e["default"]=u;var a=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,s=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function r(t){return"function"==typeof t}function o(t,e,n){var r=void 0,o=t&&t.length||0;for(r=0;o>r;r++)e.call(n,t[r],r)}function i(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,r,t[r])}function u(t,e){return t=t||{},i(e,function(e,r){n(t[e])||(t[e]=r)}),t}function a(t){try{return Array.prototype.slice.call(t)}catch(e){var n=function(){var e=[];return o(t,function(t){e.push(t)}),{v:e}}();if("object"===("undefined"==typeof n?"undefined":l(n)))return n.v}}function s(t){return t[t.length-1]}function c(t,e){return!(!t||"startTag"!==t.type&&"atomicTag"!==t.type||!("tagName"in t))&&!!~t.tagName.toLowerCase().indexOf(e)}function f(t){return c(t,"script")}function d(t){return c(t,"style")}e.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.existy=n,e.isFunction=r,e.each=o,e.eachKey=i,e.defaults=u,e.toArray=a,e.last=s,e.isTag=c,e.isScript=f,e.isStyle=d}])}),new t}),modulejs.define("ibb.eventBus",["ibb.IbbTagEvent","ibb.asynchronizer","ibb.monitor"],function(t,e,n){function r(t,r,o){function i(t){e.makeAsyncCall(function(){try{o(t)}catch(e){n.error("Handler for event "+t.getType()+" thrown exception! It was caught and swallowed!",t)}}),u&&(s=!0)}var u=!1,a=this,s=!1;a.setOnce=function(t){u=t},a.getEventType=function(){return r},a.handleIfInterested=function(e){e.getSource()!==t||s||i(e)},a.isDone=function(){return s}}function o(){function e(t){l.push(t),n()}function n(){p||(p=!0,o(),p=!p)}function o(){for(var t=l.pop();t;)a(t),c(t),t=l.pop()}function i(t){var e=t.getEventType();d[e]||(d[e]=[])}function u(t){i(t),d[t.getEventType()].push(t)}function a(t){s(t).forEach(function(e){e.handleIfInterested(t)})}function s(t){var e=t.getType();return d[e]?d[e]:[]}function c(t){var e=s(t);d[t.getType()]=e.filter(function(t){return!t.isDone()})}var f=this,d={},l=[],p=!1;f.fireEvent=function(n,r,o){var i=new t(n,r,o);e(i)},f.on=function(t,e,n){u(new r(t,e,n))},f.reFire=function(n,r){var o=t.clone(r);o.setSource(n),e(o)},f.listenOnce=function(t,e,n){var o=new r(t,e,n);o.setOnce(!0),u(o)}}return new o}),modulejs.define("ibb.eventTypeEnum",[],function(){return{ADS_ARRIVED:"ADS_ARRIVED",ADS_WRITTEN_TO_AD_SLOT:"ADS_WRITTEN_TO_AD_SLOT",NO_AD_RETURNED_FOR_AD_SLOT:"NO_AD_RETURNED_FOR_AD_SLOT"}}),modulejs.define("ibb.logger",["ibb.console"],function(t){function e(){function e(t){var e=r?r[t]:r.log;return e?e:n}function n(){}var r=t,o=this;o.log=function(){var t=e("log");t.apply(r,arguments)},o.error=function(){var t=e("error");t.apply(r,arguments)},o.warn=function(){var t=e("warn");t.apply(r,arguments)}}return new e}),modulejs.define("ibb.monitor",["ibb.logger"],function(t){function e(){function e(){var t=!1;return"undefined"!=typeof IBB_TAG_MONITOR_DEBUG&&(t=IBB_TAG_MONITOR_DEBUG),t}var n=this;n.issues=[];var r=e();n.log=function(){o("log",Array.prototype.slice.call(arguments))},n.warn=function(){o("warn",Array.prototype.slice.call(arguments))},n.error=function(){o("error",Array.prototype.slice.call(arguments))};var o=function(e,o){n.issues.push({type:e,details:o}),r&&t[e].apply(t,o)};n.setDebug=function(t){r=t}}return e.newInstance=function(){return e.instance||(e.instance=new e),e.instance},e.newInstance()}),modulejs.define("ibb.providerConfig",["ibb.AdServer","ibb.BbmProtocol","ibb.AdProviderApi"],function(t,e,n){function r(t,e){var r=o(e+"/please/showit/0/0/0/1/"),i=new n(t);return i.setAdServer(r),i}function o(n){var r=new t;return r.setCommunicationProtocol(new e),r.setConfig(i(n)),r}function i(t){var e={endpointUrl:t,method:"GET",requestData:{typkodu:"js",_json:1,bust:Math.random()}};return a(e),u(e),e}function u(t){location&&location.href&&(t.requestData.href=location.href.substr(0,999))}function a(t){screen&&screen.width&&(t.requestData.uhe=screen.height,t.requestData.uwi=screen.width)}return{BbmStaging:r("BbmStaging","https://go.bb007.bbelements.com"),BbmDev:r("BbmDev","https://go.dev.bbmedia.intra"),BbmTester:r("BbmTester","https://go.tester5.billboard.intra"),BbmCz:r("BbmCz","https://go.cz.bbelements.com"),BbmEu:r("BbmEu","https://go.eu.bbelements.com"),BbmIdnes:r("BbmIdnes","https://go.idnes.bbelements.com"),BbmStroeerPL:r("BbmStroeerPl","https://go.goldbachpoland.bbelements.com"),BbmIdmNet:r("BbmIdmNet","https://go.idmnet.bbelements.com")}}),modulejs.define("ibb.timer",["ibb.window"],function(t){function e(e,r){this.timeoutHandler=n.call(this,r),this.millis=e,this.handle=t.setTimeout(this.timeoutHandler,e),this.expired=!1,this.cleared=!1}function n(t){var e=this;return function(){e.expired=!0,t()}}return e.prototype.clear=function(){t.clearTimeout(this.handle),this.cleared=!0},e.prototype.expire=function(t){this.cleared||(!t||t>=this.millis)&&(this.clear(),this.expired=!0,this.timeoutHandler())},{createTimeout:function(t,n){var r=parseInt(t);if(isNaN(r))throw new Error("first argument must be an integer number");if(r<0)throw new Error("first argument must be an positive integer number");if("function"!=typeof n)throw new Error("second argument must be a function");return new e(t,n)}}}),modulejs.define("ibb.window",function(){return window});var e=modulejs.require("ibb.TagApi"),n=modulejs.require("ibb.adWriter"),r=modulejs.require("ibb.providerConfig"),o=modulejs.require("ibb.ScriptBasedDomDownloader");t.tag=new e(r),t.dataProviders||(t.dataProviders={}),t.tag.setProviderDownloader(new o(t.dataProviders)),t.tag.setAdWriter(n)}}(ibbAds),function(t){function e(t,e){var n=t.useDataProvider("GdprCmpContentDataProvider",{url:"https://bbcdn-static.bbelements.com/scripts/ibb-async/night/plugins/GdprCmpConsentDataProvider.js"});e.attachDataIfNotNull("euconsent",n)}if(t.tag){var n=t.tag.useAdProvider;t.tag.useAdProvider=function(r){var o=n(r);return e(t.tag,o),o}}}(ibbAds);
//# sourceMappingURL=maps/tag.0.3.8.js.map
