"use strict";!function(){var r=window.freedom.nsPubSub,d={modal:"tingle-modal",visible:"tingle-modal--visible",enabled:"tingle-enabled"};function o(e,t){var a=d.visible,o=document.querySelector('[data-modal-target="'+e+'"]');if(t)return window.freedom.addClass(document.body,d.enabled),window.freedom.addClass(o,a),r.pub("overlay.display","show"),void r.pub("modal.opened");window.freedom.removeClass(o,a),window.freedom.removeClass(document.body,d.enabled),r.pub("overlay.display","hide"),r.pub("modal.closed")}function n(e){e.preventDefault();var t=e.currentTarget,a=t.getAttribute("data-modal-trigger");t.getAttribute("data-ajax-modal")||o(a,!0)}function l(e){e.preventDefault();var t=e.currentTarget;o(t.getAttribute("data-modal-close")||t.getAttribute("data-modal-target"))}function i(e){!function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(e.target,d.modal)&&o(this.getAttribute("data-modal-close")||this.getAttribute("data-modal-target"))}function c(e,r){var d=null,t="[data-modal-target"+(r?'="'+r+'"':"]"),d=window.freedom.nodeListToArray(document.querySelectorAll(t));e.forEach(function(a){var e,t,o=d.filter(function(e){var t=r||a.getAttribute("data-modal-trigger");return e.getAttribute("data-modal-target")===t});e=a,t=o,setTimeout(function(){t.forEach(function(e){var t=e.querySelector("[data-modal-close]");t&&t.addEventListener("click",l),window.freedom.hasClass(e,"click-overlay-close")&&e.addEventListener("click",i)}),e.addEventListener("click",n)},0)})}function e(e){var t="[data-modal-trigger"+(e?'="'+e+'"':"]"),a="[data-modal-close"+(e?'="'+e+'"':"]"),o=document.querySelectorAll(t),r=document.querySelectorAll(a),o=window.freedom.nodeListToArray(o);(r=window.freedom.nodeListToArray(r)).forEach(function(e){e.removeEventListener("click",l)}),o.forEach(function(e){e.removeEventListener("click",n)}),c(o,e)}c(window.freedom.nodeListToArray(document.querySelectorAll("[data-modal-trigger]"))),r.sub("modal.toggle",o),r.sub("modal.restart",e)}();