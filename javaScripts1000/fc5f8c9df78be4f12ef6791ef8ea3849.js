/* Copyright 2021, SiteSpect, Inc. All Rights Reserved. */
(function(e,t){var n=e.document;var r=e.SS||{};e.SS=r;var i=e.encodeURIComponent;r.Cookie=function(){var t="";function r(t,n,r,o,a,f,u){var c;if(!r||r.toString().substr(0,1)!==";"){if(!f){f="/"}if(!a){a=e.location.hostname.match(/^[\d.]+|(?:\.[\da-z\-]+)*[\da-z\-]+\.[\da-z\-]+$/i)[0]}if(a.substr(0,1)!=="."){a="."+a}o=!o?"":";secure";if(u){var s=u.toLowerCase();if(s==="lax"){u=";SameSite=Lax"}else if(s==="strict"){u=";SameSite=Strict"}else if(s==="none"&&o){u=";SameSite=None"}else{u=""}}if(r!=null){r=parseInt(r,10);if(isNaN(r)){r=0}r=";expires="+new Date(+new Date+r).toUTCString()}c=";path="+f+";domain="+a+r+u+o}else{c=r}return i(t)+"="+i(n)+c}function o(e,t){e=" "+e+"=";t=" "+t+";";var n=t.indexOf(e);if(n>=0){n+=e.length;return decodeURIComponent(t.substring(n,t.indexOf(";",n)))}return""}function a(e){return e.split(t)}function f(e){return e.join(t)}function u(e,r){if(!e){return}var i=o(e,n.cookie);if(!i){return""}if(r){r=r.substr(0,1).toLowerCase()}switch(r){case"s":return i;case"a":return a(i);default:return i.match(t)?a(i):i}}function c(e,t,i,o,a,u,c){if(!e||/^(?:expires|max-age|path|domain|secure|HttpOnly)$/i.test(e)){return}if(typeof t==="object"){t=f(t)}n.cookie=r(e,t,i,o,a,u,c)}return{get:u,set:c}}();r.JSEvents=function(){function t(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}}function r(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}}function i(t){if(!t){t=e.event}var r=t.target||t.srcElement||n;if(r.nodeType===3){r=r.parentNode}return r}function o(r){var i=false,o=false,a,f;a=function(){if(!i){if(!n.body){return setTimeout(a,1)}i=true;r()}};if(n.addEventListener){f=function(){n.removeEventListener("DOMContentLoaded",f,false);a()};n.addEventListener("DOMContentLoaded",f,false)}else if(n.attachEvent){f=function(){if(n.readyState==="complete"){n.detachEvent("onreadystatechange",f);a()}};n.attachEvent("onreadystatechange",f);try{o=e.frameElement===null}catch(u){}if(n.documentElement.doScroll&&o){(function c(){if(i){return}try{n.documentElement.doScroll("left")}catch(e){setTimeout(c,1);return}a()})()}}t(e,"load",a)}return{on:t,off:r,trgt:i,ready:o}}();r.TimerFactory=function(){function e(){var e=-1,t=-1;function n(t){e=(t||new Date).getTime();return e>0}function r(){t=(new Date).getTime();return t>0}function i(){e=-1;t=-1}function o(){if(e<=0){throw"Failure to Start Timer"}if(t<=0){throw"Failure to Stop Timer"}if(e>t){throw"Failure to Reset Timer"}return(t-e)/1e3}return{start:n,stop:r,reset:i,diff:o}}function t(){return new e}return{get:t}}();r.EventTrack=function(){var t=e.location.host,r=e.location.protocol,o="/__ssobj/track",a=Math.floor(Math.random()*99999999),f=[],u=[],c=false;e.addEventListener("unload",function(){c=true;for(var e=0;e<u.length;e++){g(u[e])}});function s(e){f.push(e)}function l(e){e+="-3";var t=n.createElement("img");t.src=e;t.id="SS.IMG"+a;t.style.width="0px";t.style.height="0px";n.body.appendChild(t);s(t)}function d(n,f){var u=(new Date).getTime()+a,c=[],s;if(typeof n==="object"){for(s=0;s<n.length;s++){n[s]="event"+s+"="+i(n[s])}n=n.join("&")}else{n="event="+i(n)}if(f&&typeof f==="object"){for(s in f){if(f.hasOwnProperty(s)){c[c.length]="value_"+i(s)+"="+i(f[s])}}f=c.join("&")}else{f="value="+i(f!==null?f:"")}var l=o+"?"+n+"&"+f+"&x="+u;var d=r!==e.location.protocol;if(y()||d){l="//"+t+l;if(d){l=r+l}}return l}function v(e){var n=e.match(/^(?:(https?:)?\/\/)?([^\/]+)/);if(!n){return}var i=n[1];var o=n[2];t=o;r=i||r}function m(t,n){var r=t+"-b";t+="-1";var i;if(e.navigator&&navigator.sendBeacon&&(c||e.event&&e.event.type==="unload")){try{i=navigator.sendBeacon(r)}catch(o){i=false}}if(i){return true}var a;try{a=e.ActiveXObject?new e.ActiveXObject("Microsoft.XMLHTTP"):new e.XMLHttpRequest;a.open("GET",t,!n)}catch(f){return false}try{a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("Accept","*/*")}catch(u){}try{a.send(null)}catch(l){if(l.number&65535!==1223){return false}}if(n){h(a,this,0)}else{a.onreadystatechange=function(){h(a,this,0)}}s(a);return true}function h(t,n,r){if(typeof e.__ssmMetricResponseReadyChange==="undefined"&&r<10){setTimeout(function(){h(t,n,r+1)},1e3)}else{if(typeof e.__ssmMetricResponseReadyChange!=="undefined"){e.__ssmMetricResponseReadyChange.forEach(function(e){e(t,n)})}}}function p(e){e+="-2";var t=new Image;t.src=e;s(t)}function y(){return t!==e.location.host}function E(e,t,n){var r=d(e,t);var i={url:r,sync:n,ran:0};u.push(i);if(y()||c){g(i)}else{setTimeout(function(){if(!c){g(i)}},200)}return true}function g(e){if(++e.ran>1){return}var t=e.url;var n=e.sync;if(y()||!m(t,n)){if(r==="https:"){l(t)}else{p(t)}}}E.beaconPatched=true;return{metric:E,rp:E,rpAsync:function(e,t){E(e,t,false)},rpSync:function(e,t){E(e,t,true)},r:f,setDomain:v}}();r.PageTimer=function(){var t=r.JSEvents,n,i;function o(e,t){var o=false;return function(){if(i&&!o){o=true;if(n.stop()){try{var a=n.diff();if(a<=1795){r.EventTrack.rp(e,a,t)}}catch(f){}}}}}function a(a,f,u){n=r.TimerFactory.get();i=n.start(u);if(i){var c=false;if(a==="ready"){t.ready(o(f,false));c=true}else if(a==="load"){t.on(e,"load",o(f,false));c=true}else if(a==="dwell"){t.on(e,"unload",o(f,true));c=true}else if(a==="abandon"){unloadEvent=o(f,true);t.on(e,"unload",unloadEvent);t.on(e,"load",function(){t.off(e,"unload",unloadEvent)});c=true}return c}else{return false}}return{time:a}}();r.Debug=function(){function t(t){e.addEventListener("error",n,false)}function n(e){var t=e.filename;if(t.match(/scripterror/i)){t="externaljsfile"}r.EventTrack.rp("js-error",{path:e.filename,line:e.lineno,error:e.message})}return{trackJSErrors:t}}();r.Util=function(){function e(e,t){if(Element.prototype.matches){return e.matches(t)}var n=(e.document||e.ownerDocument).querySelectorAll(t),r=n.length;while(--r>=0&&n.item(r)!==e){}return r>-1}function t(t,n){if(Element.prototype.closest){return t.closest(n)}var r=t;do{if(e(r,n))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}return{elementClosest:t,elementMatches:e}}()})(this);
/* Copyright 2017, SiteSpect, Inc. All Rights Reserved. */
var ss_dom_var=function(){"use strict";var t=1e3;var e=1e3;var i=[];var r=null;var n=[];var a={};var o;var s;var u;var c;var f=false;var d=false;var l=false;var v=[];var p={};var _=[];var h=[];var m;var g={};var y={childList:true,attributes:true,characterData:true,subtree:true};var b="data-ss-variation-applied";var w="(?#i)";var S=function(t){var e=window.SS||{};e.getAsmtData=function(){return t};window.SS=e};S();var E=function(){try{m=new MutationObserver(i)}catch(t){}function i(t){t.forEach(function(t){var e=n(t.target);if(!d&&document.body.contains(e)){var i=C(e);if(i){i.forEach(function(t){M(e,t)})}}});a()}function n(t){var e;var i=t;while(i){if(i.nodeType===Node.ELEMENT_NODE){e=e||i;if(i.getAttribute(b)||h.indexOf(t)>-1){return i}}i=i.parentNode}return e}function a(){h.forEach(function(t,e){if(!document.querySelector("["+b+'="'+e+'"]')){delete h[e];delete _[e]}})}function u(t,e){t.innerHTML=e}function v(t,e){Object.keys(e).forEach(function(i){t.style[i]=e[i]})}function w(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function E(t,e){try{e.apply(t)}catch(t){return false}}function A(t){if(!t.selector){return 0}if(!o(t)){return 0}var e=document.querySelectorAll(t.selector);var i=0;var r;for(r=0;r<e.length;r++){if(f&&typeof __ssedit!=="undefined"&&__ssedit.isVEContent(e[r])){continue}i+=O(e[r],t)}return i}function C(t){var e=t.getAttribute(b);if(e===null){e=h.indexOf(t);if(e===-1){e=h.length;h[e]=t;if(m&&!d){m.observe(t,y)}}t.setAttribute(b,e)}var i=_[e];if(!i){i=_[e]=[]}return i}function O(t,e){var i=C(t);if(i.indexOf(e)===-1){i.push(e);return M(t,e)}return 0}function M(i,n){if(!o(n)){return}var a;var p=(new Date).getTime();var _=0;if(l){return}while(_<n.applied.length&&n.applied[_]+e<p){_++}n.applied.push(p);if(_){n.applied.splice(0,_)}if(n.applied.length>=t){console.warn("Possible infinite loop detected, aborting");return 0}if(f){a=i.ss_revert||i.cloneNode(true)}if(n.html){u(i,n.html)}if(n.css){v(i,n.css)}if(n.attributes){w(i,n.attributes)}if(n.custom){E(i,n.custom)}if(!n.counted&&n.trigger_counted&&!g[n.campaign_id]){n.counted=true;g[n.campaign_id]=true;if(typeof c!=="function"){c=S}s({handler:c,payload:g,target_domain:r})}q(n.id,1);if(i.hasAttribute("data-sspvid")){var A=document.querySelector(n.selector);if(n.custom&&!A&&n.attributes&&n.attributes["data-sspvid"]){A=document.querySelector('[data-sspvid="'+n.attributes["data-sspvid"]+'"]')}if(A){if(n.custom){var C=["data-sspvid","data-ss-sole-change","data-sspv-control","data-ss-fe-edit-type","data-ss-display-name","data-ss-orig-order","data-ssmid","data-ss-metric-name"];C.forEach(function(t){if(i.hasAttribute(t)){A.setAttribute(t,i.getAttribute(t))}});var O=Array.prototype.slice.call(i.attributes).filter(function(t){return t.name.match(/^data-ss-(?:control-)?reference-node-/)});O.forEach(function(t){A.setAttribute(t.name,t.value)})}if(f){if(a){A.ss_revert=a}if(typeof __ssedit!=="undefined"){__ssedit.outlineEdited(A)}}if(!A.hasAttribute(b)&&i.hasAttribute(b)){A.setAttribute(b,i.getAttribute(b));var M=h.indexOf(i);if(M>-1){h[M]=A}if(m&&!d){m.observe(A,y)}}}}else if(i.hasAttribute("data-ssmid")&&f){if(typeof __ssedit!=="undefined"){__ssedit.outlineEdited(i)}}if(m){m.takeRecords()}return 1}function q(t,e){p[t]=p[t]||0;p[t]+=e;var i="#ssp_history_panel .ss_csf_applied_"+t;var r=document.querySelectorAll(i);for(var n=0;n<r.length;n++){if(p[t]){r[n].style.display="block"}else{r[n].style.display="none"}}}return A}();function A(t){if(!(t instanceof Array)){t=i}var e=t.map(E).reduce(function(t,e){return t+e},0);return e}function C(t){return!!(t&&t.match(/\(\?#[^)]+_ss-invert\)/))}function O(t){return t.replace(/\(\?#[^)]*\)/g,"")}function M(t){var e=t.indexOf(w)!==-1?"i":"";var i=O(t);return new RegExp(i,e)}function q(t){return typeof t!=="undefined"&&t!==null}o=function(){function t(t){try{return t.script_criterion()}catch(t){return false}}function e(t){var e=!!document.location.hash.match(M(t.hash_criterion));if(C(t.hash_criterion)){e=!e}return e}function i(t){var e=document.location.hash.indexOf("?")+1,i=[""];if(e){i=document.location.hash.substring(e).split("&")}return a(t.hashquery_name_criterion,t.hashquery_value_criterion,i)}function r(t){var e=!!document.location.pathname.match(M(t.path_criterion));if(C(t.path_criterion)){e=!e}return e}function n(t){var e=document.location.search.substring(1).split("&");return a(t.query_name_criterion,t.query_value_criterion,e)}function a(t,e,i){var r=C(t),n=C(e),a=M(t),o=M(e),s,u,c,f,d,l;for(s=0;s<i.length;s++){u=i[s].split("=");c=u.shift();d=!!c.match(a);if(r){d=!d}if(d){f=u.join("=");l=!!f.match(o);if(n){l=!l}if(l){break}}}return d&&l}return function(a){var o,s,u={Path:r,Hash:e,Query:n,HashQuery:i,Custom:t};var c=false;for(o=0;o<a.criteria.length;o++){s=a.criteria[o];if(q(s.GroupNumber)&&c&&q(s.Pre)&&q(a.criteria[s.Pre])&&s.GroupNumber===a.criteria[s.Pre].GroupNumber){continue}c=u[s.Type]&&u[s.Type](s);if(!c){if(!(q(s.GroupNumber)&&q(s.Next)&&q(a.criteria[s.Next])&&s.GroupNumber===a.criteria[s.Next].GroupNumber)){return false}}}return true}}();s=N({target:"/__ssobj/asmt_update"});u=N({target:"/__ssobj/api",alterRequest:function(t){t.setRequestHeader("X-SiteSpect-CSM-Url",window.location.href)}});function N(t){t=t||{};var e=t.target;var i=t.alterRequest;var r;var n=100;var a;var o;var s;function u(){d();var t=JSON.stringify(a),r=new XMLHttpRequest;if(s){s=s.replace(/\/$/,"")}var n=s?s+e:e;r.open("POST",n);if(i){i(r)}r.setRequestHeader("Content-Type","application/json;charset=UTF-8");r.withCredentials=true;r.addEventListener("load",c,false);r.send(t)}function c(t){var e;try{e=JSON.parse(t.target.response);if(typeof o==="function"){o(e,this)}T(e,0)}catch(t){}}function f(t){if(t&&r){d()}else if(r){return}r=setTimeout(u,n)}function d(){clearTimeout(r);r=null}return function(t){o=t.handler;a=t.payload;s=t.target_domain;if(!r){f()}}}function T(t,e){if(typeof window.__sscCSFCountStatusChange==="undefined"&&e<5){setTimeout(function(){T(t,e+1)},1e3)}else{if(typeof window.__sscCSFCountStatusChange!=="undefined"){window.__sscCSFCountStatusChange.forEach(function(e){e(t)})}}}function R(t){setTimeout(function(){d=!!t.is_ve_edit_mode},5e3)}function x(t){if(t){i=t.variations||i;a=t.timestamps||a;R(t);f=!!t.is_ve_edit_mode;r=t.current_domain}i.forEach(function(t){t.applied=t.applied||[]});v.forEach(function(t){t(i)})}function k(t){n=t?t.metrics||n:n}function V(t){v.push(t);t(i)}function L(t){return p[t]||0}function D(t){c=t}x(window.__ss_variations);k(window.__ss_variations);document.addEventListener("ready",function(){if(!i.length){x(window.__ss_variations)}if(!n.length){k(window.__ss_variations)}},false);function H(){if(f){l=true}}function j(){if(f){l=false}}function G(t){var e=t.identifying_attr_key;var r=t.identifying_attr_val;var n=t.identifying_script_content_regex;var a=t.new_selector;if(!f){return}Object.keys(i).forEach(function(t){var o=i[t];if(e&&o.attributes&&o.attributes[e]&&o.attributes[e]===r||n&&o.custom&&o.custom.toString().match(n)){o.selector=a}})}function P(t){var e=true;if(i.length&&!d){var r=t.getAttribute("data-sspvid");if(r){e=i.some(function(e){if(e.attributes&&e.attributes["data-sspvid"]===r){var i=t.getAttribute("data-ss-fe-edit-type")==="frontend_order";return!e.custom||i}})}}return e}function F(t){var e=[];var i={visits:[{AsmtCounted:[],Data:{}}]};t.forEach(function(t){i.visits[0].Data[t.id]={Hits:1};if(t.trigger_counting){t.vg_ids.forEach(function(t){if(e.indexOf(t)<=-1){e.push(t)}})}});if(e.length>0){i.visits[0].AsmtCounted=e}return i}function I(){var t=[];var e=false;n.forEach(function(i){if(o(i)){t.push(i);if(i.trigger_counting&&i.tc_ids&&i.tc_ids instanceof Array){i.tc_ids.forEach(function(t){if(!g[t]){g[t]=true;e=true}})}}});if(t.length>0){u({handler:function(t,e){function i(t,e){if(typeof window.__ssmCSMetricResponseReadyChange==="undefined"&&e<5){setTimeout(function(){i(t,e+1)},1e3)}else{if(typeof window.__ssmCSMetricResponseReadyChange!=="undefined"){window.__ssmCSMetricResponseReadyChange.forEach(function(e){e(t.getResponseHeader("SiteSpect-Metrics-Info"))})}}}i(e,0)},payload:F(t),target_domain:r});if(e){s({target_domain:r})}}}return{applyVariations:A,applySingleVariation:E,setVariations:x,setMetrics:k,registerVariationWatcher:V,checkVariationApplied:L,setAsmtCallback:D,pauseVariations:H,unpauseVariations:j,updateVariationSelector:G,isSafeToEdit:P,evaluateMetrics:I}}();(function(){"use strict";function t(t){var e={childList:true,attributes:true,subtree:true};var i;var r;var n;var a=t.callback;var o=document.querySelector("html");if(o){if(window.MutationObserver){r=new MutationObserver(c);i=o;n=r.observe.bind(r,i,e);n()}else{s(o)}}function s(t){t.addEventListener("DOMSubtreeModified",f,false)}function u(t){t.removeEventListener("DOMSubtreeModified",f,false)}function c(){if(r){r.disconnect()}var e=document.querySelectorAll(t.selector);if(e.length>0){a()}if(n){n()}}function f(){u(o);c();s(o)}}ss_dom_var.registerVariationWatcher(function(e){e.forEach(function(e){t({selector:e.selector,callback:ss_dom_var.applySingleVariation.bind(ss_dom_var,e)})})});var e=null;setInterval(function(){if(e===null||e!==window.location.href){e=window.location.href;ss_dom_var.evaluateMetrics()}},500)})();
/* Copyright 2016, SiteSpect, Inc. All Rights Reserved. */
if(!window.SS){window.SS={}}SS.SPA=function(){"use strict";var n=1;var i=document.querySelectorAll.bind(document);function t(t){var o={childList:true,attributes:true};var c;var u;var f="ss-modified-"+n++;var s=e.bind(null,t.dynamicContainer,f);var d;var l=t.callback||t.callbackFunction;if(i(t.staticContainer).length>0){if(window.MutationObserver){if(t.watchSubtree){o.subtree=true}u=new MutationObserver(S);c=i(t.staticContainer)[0];d=u.observe.bind(u,c,o);d()}else{a(i(t.staticContainer),v)}if(t.runCallbackNow){l()}}function v(n){n.addEventListener("DOMSubtreeModified",w,false)}function b(n){n.removeEventListener("DOMSubtreeModified",w,false)}function S(){if(u){u.disconnect()}var n=s(true);if(n.length>0){a(n,r.bind(null,f));l()}if(d){d()}}function w(){a(i(t.staticContainer),b);S();a(i(t.staticContainer),v)}}function e(n,t,e){var a=[n];if(e){a.push(":not(."+t+")")}return i(a.join(""))}function a(n,i){[].forEach.call(n,i)}function r(n,i){if(i.className.indexOf(n)===-1){i.className+=" "+n}}return{dynamicModify:t}}();