!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=43)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.banner=0]="banner",e[e.native=1]="native"}(t.AdType||(t.AdType={}));!function(e){e[e.adnetwork=1]="adnetwork",e[e.custom=2]="custom",e[e.dsp=3]="dsp"}(t.DemanderType||(t.DemanderType={}));!function(e){e[e.script=1]="script",e[e.api=2]="api",e[e.tag=4]="tag"}(t.DemanderContentType||(t.DemanderContentType={}));!function(e){e[e.BadRequest=400]="BadRequest",e[e.NotfoundAd=404]="NotfoundAd",e[e.RequestTimeout=408]="RequestTimeout",e[e.Other=500]="Other"}(t.AdnetworkAPIResponseErrorType||(t.AdnetworkAPIResponseErrorType={}));!function(e){e[e.InnerHTML=0]="InnerHTML",e[e.IFrame=1]="IFrame",e[e.DocumentWrite=2]="DocumentWrite",e[e.DOMFromFragment=3]="DOMFromFragment"}(t.AdnetworkRenderingType||(t.AdnetworkRenderingType={}));!function(e){e[e.IMobile=1]="IMobile",e[e.YDN=2]="YDN",e[e.MAIST=3]="MAIST",e[e.Advision=4]="Advision",e[e.ADroute=5]="ADroute",e[e.tapone=6]="tapone",e[e.geniee=7]="geniee",e[e.AOL=8]="AOL",e[e.Xrost=9]="Xrost",e[e.BLANCO=10]="BLANCO",e[e.Uliza=11]="Uliza",e[e.Logly=12]="Logly",e[e.inmobi=13]="inmobi",e[e.AID=14]="AID",e[e.arata=15]="arata",e[e.Gunosy=16]="Gunosy",e[e.Popin=17]="Popin",e[e.OctPass=18]="OctPass",e[e.Criteo=19]="Criteo",e[e.Sprout=20]="Sprout",e[e.CDB=21]="CDB",e[e.Baidu=22]="Baidu",e[e.AfiO=23]="AfiO",e[e.Nend=34]="Nend",e[e.AkaNe=35]="AkaNe",e[e.AMoAd=36]="AMoAd",e[e.UpDate=38]="UpDate",e[e.Fam8=39]="Fam8",e[e.AdExchange=1001]="AdExchange",e[e.GoogleAdSenseMcm=1002]="GoogleAdSenseMcm"}(t.AdNetwork||(t.AdNetwork={}));!function(e){e[e.InFeedPC=27]="InFeedPC",e[e.InFeedSP=28]="InFeedSP",e[e.InFeedPCWide=30]="InFeedPCWide",e[e.InFeedSPWide=31]="InFeedSPWide"}(t.SupportPresentation||(t.SupportPresentation={}));!function(e){e[e.Empty=0]="Empty",e[e.MicroAdForSP=1]="MicroAdForSP",e[e.BypassForSP=2]="BypassForSP",e[e.DeqwasForPC=3]="DeqwasForPC",e[e.DeqwasForSP=4]="DeqwasForSP",e[e.FreakOutForPC=5]="FreakOutForPC",e[e.FreakOutForSP=6]="FreakOutForSP",e[e.CADynalystForSP=7]="CADynalystForSP",e[e.ScaleOutForPC=8]="ScaleOutForPC",e[e.ScaleOutForSP=9]="ScaleOutForSP",e[e.AppierForPC=12]="AppierForPC",e[e.AppierForSP=13]="AppierForSP",e[e.XrostForPC=14]="XrostForPC",e[e.XrostForSP=15]="XrostForSP",e[e.EvoryForPC=16]="EvoryForPC",e[e.EvoryForSP=17]="EvoryForSP",e[e.DoubleClickForPC=18]="DoubleClickForPC",e[e.DoubleClickForSP=19]="DoubleClickForSP",e[e.BidSwitchForPC=20]="BidSwitchForPC",e[e.BidSwitchForSP=21]="BidSwitchForSP",e[e.DoubleClickRemarketingExForPC=22]="DoubleClickRemarketingExForPC",e[e.DoubleClickRemarketingExForSP=23]="DoubleClickRemarketingExForSP",e[e.Criteo=24]="Criteo",e[e.EvoryBasedTaggy=25]="EvoryBasedTaggy",e[e.Unicorn=26]="Unicorn",e[e.BidWithAdNetworkTagVirtualBidder=1023]="BidWithAdNetworkTagVirtualBidder",e[e.BidOptimaizeVirtualBidder=1024]="BidOptimaizeVirtualBidder"}(t.DSPIdentifer||(t.DSPIdentifer={}));!function(e){e[e.Impression=1]="Impression",e[e.ViewableMrc50=2]="ViewableMrc50",e[e.ViewableMrc100=3]="ViewableMrc100",e[e.ViewableVideo50=4]="ViewableVideo50"}(t.EventType||(t.EventType={}));!function(e){e[e.Img=1]="Img",e[e.Js=2]="Js"}(t.MethodType||(t.MethodType={}))},function(e,t,n){"use strict";function r(){return"loading"===document.readyState}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),a=n(8),s=n(4);!function(e){e[e.PC=1]="PC",e[e.SP=2]="SP",e[e.Both=3]="Both"}(i=t.SupportUserAgent||(t.SupportUserAgent={}));var u=function(){function e(){}return e.adjustSecureSchemeUrl=function(e){e.click_url=s.Requester.adjustSecureSchemeUrl(e.click_url),e.image_url=s.Requester.adjustSecureSchemeUrl(e.image_url),e.imp_url=s.Requester.adjustSecureSchemeUrl(e.imp_url)},e.canExecute=function(e,t){if(e===i.SP){if(!a.AgentUtil.isSmartphoneSupportAgent())return!1;if(t!==o.SupportPresentation.InFeedSP&&t!==o.SupportPresentation.InFeedSPWide)return!1}return(e!==i.PC||t===o.SupportPresentation.InFeedPC||t===o.SupportPresentation.InFeedPCWide)&&(e!==i.Both||t===o.SupportPresentation.InFeedSP||t===o.SupportPresentation.InFeedSPWide||t===o.SupportPresentation.InFeedPC||t===o.SupportPresentation.InFeedPCWide)},e.needUseSeparator=function(e,t,n){return!(e-t==0||!n)},e.getIdfa=function(e){return e.dvid&&a.AgentUtil.isiphone()?e.dvid:null},e.getGaid=function(e){return e.dvid&&a.AgentUtil.isAndroid()?e.dvid:null},e.needEntryMediaUrl=function(e){return!e||!e.protocol||"http:"!=e.protocol&&"https:"!=e.protocol},e}();t.NativeDemanderHelper=u,t.canDocWrite=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SSPServerSyncAPI="ssp-sync.i-mobile.co.jp",t.SSPServerXidSyncStorage="xid.i-mobile.co.jp",t.XidSyncExpireMillSec="3600000",t.SSPServerRoot="ssp-bidapi.i-mobile.co.jp",t.SSPResponseTimeoutSec="20",t.TimeoutRecoverySec="10",t.CookieDomain="i-mobile.co.jp",t.IgnoreOverlayAndroidUA="is01,sc-02b,galaxy nexus",t.IMPServerRoot="ssp-bidapi.i-mobile.co.jp",t.IMPNativeWhiteList="*",t.IMPNativeSSPTagCompatibilityMode="true",t.IMPDefaultLogLevel="warn",t.IMPNativeSecureIMobileAPIServer="spnativeapi-tls.i-mobile.co.jp"},function(e,t,n){"use strict";function r(e){if(document.addEventListener){if(h.test(document.readyState))return void e();var t=function(){window.removeEventListener("load",t,!1),document.removeEventListener("DOMContentLoaded",t,!1),e()};window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)}else if(document.attachEvent){var n=!1;try{n=null==window.frameElement}catch(e){}document.documentElement.doScroll&&n?f(e):document.attachEvent("onload",e)}}function i(e,t){return 0===e.lastIndexOf(t,0)}function o(e){return e!==e}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t.length,i=0;i<r;i++)if(t[i])return t[i];return e}function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t.length,i=0;i<r;i++)if(!o(t[i]))return t[i];return e}function u(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)}function d(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function c(e,t){return t[e]}function l(e){try{var t=function(){try{var e=window.top;if(e.document)return e}catch(e){}}();if(!t)return m.unknown;if(p.AgentUtil.isElementInPage(e)){var n=p.AgentUtil.isElementInViewport(e,t),r=p.AgentUtil.isVerticalScrolled(t);return n&&!r?m.firstView:n?m.inView:m.inPage}return m.unknown}catch(e){}return m.unknown}Object.defineProperty(t,"__esModule",{value:!0});var p=n(6),h=/^(complete|loaded)$/;t.waitForDOMReady=r;var m,f=function(e){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(function(){f(e)},64)}e()};!function(e){e[e.unknown=0]="unknown",e[e.firstView=1]="firstView",e[e.hasScroll=2]="hasScroll",e[e.inView=3]="inView",e[e.inPage=4]="inPage"}(m=t.spotPosition||(t.spotPosition={})),t.startWithString=i,t.isReallyNaN=o,t.coalesce=a,t.coalesceNaN=s,t.isFunction=u,t.isArray=d,t.toEnumValue=c,t.getSpotPosition=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11),o=n(60),a=n(32),s=n(5);!function(e){e[e.Http=0]="Http",e[e.Https=1]="Https"}(r=t.HttpScheme||(t.HttpScheme={}));var u=function(){function e(){}return e.adjustSecureSchemeUrl=function(t){return o.isString(t)&&void 0!=t.replace?"http:"!==document.location.protocol&&"https:"!==document.location.protocol&&s.startWithString(t,"//")?"https:"+t:t.replace(e.httpSchemeRegex,"https://"):t},e.getUrl=function(e,t){return"https://"+e+"/"+t},e.toSrializeString=function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)},e.upsertParam=function(e,t){for(var n=e.length,r=!1,i=0;i<n;i++){var o=e[i];o.name===t.name&&(o.value=t.value,r=!0)}r||e.push(t)},e.concatParams=function(e,t){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);for(var o=t.length,i=0;i<o;i++)n.push(t[i]);return n},e.convertURLParamToString=function(t){var n=[];if(t)for(var r=t.length,i=0;i<r;i++){var o=t[i];n.push(e.toSrializeString(o))}return n.join("&")},e.convertEncodeFormParamToString=function(t){return e.convertURLParamToString(t).replace(/%20/g,"+")},e.supportXHRLv2=function(){if(XMLHttpRequest){return"withCredentials"in new XMLHttpRequest}return!1},e.supportXHR=function(){return!!XMLHttpRequest},e.prototype.requestAjax=function(t,n,r,o,a,u,d,c){void 0===r&&(r=!0),void 0===o&&(o=!0);var l="GET",p=null,h=null,m=i.createSimpleJSON();if(a&&(l="POST",s.isArray(a.params)&&(p=e.convertURLParamToString(a.params)),a.content_type?(h=a.content_type,p=a.message):(h="application/x-www-form-urlencoded",p=s.isArray(a.params)?e.convertEncodeFormParamToString(a.params):a.message)),e.supportXHR()){var f=new XMLHttpRequest;f.open(l,t,o),e.supportXHRLv2()&&(f.withCredentials=r),h&&f.setRequestHeader("Content-Type",h),f.onreadystatechange=function(){4==f.readyState&&(200==f.status?s.isFunction(n)&&n(s.isFunction(c)?c(f):m.toObj(f.responseText)):s.isFunction(d)&&d())},u&&(f.timeout&&(f.timeout=u.timeoutMilliSec),s.isFunction(u.handler)&&(f.ontimeout=function(e){u.handler()})),s.isFunction(d)&&f.onerror&&(f.onerror=function(e){d()}),f.send(p)}else{if(!window.XDomainRequest)throw Error("not support browser");var v=new window.XDomainRequest;v.open(l,t),v.onload=function(){s.isFunction(n)&&n(m.toObj(v.responseText))},u&&(v.timeout&&(v.timeout=u.timeoutMilliSec),s.isFunction(u.handler)&&(v.ontimeout=function(){u.handler()})),s.isFunction(d)&&v.onerror&&(v.onerror=function(){d()}),v.send(p)}},e.prototype.requestJSONP=function(e,t,n,r,i){void 0===r&&(r=!0);var o="jsonp_tag_"+a.generateUUID();if(!n)throw new Error("require jsonpSettin");if(!n.callbackFunctionName)throw new Error("require callbackFunctionName");n.callbackFunctionId||(n.callbackFunctionId="callback"),n.appendTimespan||(n.appendTimespan=!0);var u=window;if(n.callbackFunctionRootObjectId)for(var d=n.callbackFunctionRootObjectId.split("."),c=0;c<d.length;c++)u[d[c]]||(u[d[c]]={}),u=u[d[c]];var l=e+=(e.indexOf("?",0)>-1?"&":"?")+n.callbackFunctionId+"="+n.callbackFunctionName;n.appendTimespan&&(l+="&cashid="+(new Date).getTime());var p=!1,h=null;if(i&&i.timeoutMilliSec&&i.timeoutMilliSec>0&&s.isFunction(i.handler)&&(h=window.setTimeout(function(){p=!0,i.handler()},i.timeoutMilliSec)),u[n.callbackFunctionName]=function(e){window.clearTimeout(h),u[n.callbackFunctionName]=void 0;try{delete u[n.callbackFunctionName]}catch(e){}var r=document.getElementById(o);r&&r.parentNode&&r.parentNode.removeChild(r),p||t(e)},r){var m=document.createElement("script");m.async&&(m.async=!0),m.src=l,m.id=o,m.charset="UTF-8";var f=function(){p||null==h||(window.clearTimeout(h),p=!0,i.handler())};m.addEventListener("error",f),document.getElementsByTagName("head")[0].appendChild(m)}else document.write('<script type="text/javascript" charset="UTF-8" id="'+o+'" src="'+l+'"><\/script>')},e.scheme="http:"===document.location.protocol?"http":"https",e.httpScheme="http"===e.scheme?r.Http:r.Https,e.httpSchemeRegex=/^http:\/\//,e}();t.Requester=u},function(e,t,n){"use strict";function r(e){if(document.addEventListener){if(h.test(document.readyState))return void e();var t=function(){window.removeEventListener("load",t,!1),document.removeEventListener("DOMContentLoaded",t,!1),e()};window.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)}else if(document.attachEvent){var n=!1;try{n=null==window.frameElement}catch(e){}document.documentElement.doScroll&&n?m(e):document.attachEvent("onload",e)}}function i(e,t){return 0===e.lastIndexOf(t,0)}function o(e){return e!==e}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t.length,i=0;i<r;i++)if(t[i])return t[i];return e}function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t.length,i=0;i<r;i++)if(!o(t[i]))return t[i];return e}function u(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)}function d(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function c(e,t){return t[e]}function l(e){for(var t,n=e.length,r=0;n;)r=Math.floor(Math.random()*n--),t=e[n],e[n]=e[r],e[r]=t;return e}function p(e){if(e===e.top)return e.location.href;try{return e.top.location.href}catch(e){}try{var t=e.location.ancestorOrigins;if(void 0!=t)return t[t.length-1]}catch(e){}return e.document.referrer}Object.defineProperty(t,"__esModule",{value:!0});var h=/^(complete|loaded)$/;t.waitForDOMReady=r;var m=function(e){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(function(){m(e)},64)}e()};!function(e){e[e.unknown=0]="unknown",e[e.firstView=1]="firstView",e[e.hasScroll=2]="hasScroll",e[e.inView=3]="inView",e[e.inPage=4]="inPage"}(t.spotPosition||(t.spotPosition={})),t.startWithString=i,t.isReallyNaN=o,t.coalesce=a,t.coalesceNaN=s,t.isFunction=u,t.isArray=d,t.toEnumValue=c,t.shuffleArray=l,t.getPageUrl=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(2),o=function(){function e(){}return e.userAgentInOverlayBlackList=function(){var t=navigator.userAgent.toLowerCase();if(e.isOldIE(t))return!0;for(var n=i.IgnoreOverlayAndroidUA,r=n.split(","),o=0;o<r.length;o++)if(-1!=t.indexOf(r[o]))return!0;return!1},e.isOldIE=function(e){return e.indexOf("msie")>-1&&parseInt(e.split("msie")[1])<8},e.isWindowsPhone=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("windows phone")},e.isTouch=function(){return void 0!==document.ontouchstart},e.isOrientationChange=function(){return void 0!==window.orientationchange},e.isiphone=function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("ipad")},e.isAndroid=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},e.getAndroidVersion=function(){if(!this.isAndroid())return null;var e=navigator.userAgent.toLowerCase();return parseFloat(e.slice(e.indexOf("android")+8))},e.getiOSVersion=function(){if(!this.isiphone())return null;var e=navigator.appVersion.toLowerCase().match(/os (\d+)_(\d+)_?(\d+)?/);return parseFloat(e[1]+"."+e[2]+(e[3]||"0"))},e.getScreenSize=function(){if(this.isiphone()){var e=Math.abs(window.orientation)%180==90;return{width:e?screen.height:screen.width,height:e?screen.width:screen.height}}return{width:window.screenX+window.outerWidth,height:window.screenY+window.outerHeight}},e.getClientSize=function(){var e=this.getScreenSize();return{width:window.innerWidth,height:Math.floor(e.height*window.innerWidth/e.width)}},e.getDeviceOrientation=function(){var e=this.getScreenSize();return e.height>e.width?"p":"l"},e.getActionPosition=function(e){var t;return t=this.isTouch?e.touches[0]:e,{x:t.pageX,y:t.pageY}},e.isElementInViewport=function(t,n){var r=t.getBoundingClientRect();return r.top>=0&&r.left>=0&&e.getBottomByClientRect(r,window.self,n)<=(n.innerHeight||n.document.documentElement.clientHeight||n.document.body.clientHeight)},e.isVerticalScrolled=function(e){if("number"==typeof e.pageYOffset)return e.pageYOffset>0;var t=e.document.documentElement;return(t.clientHeight?t:e.document.body).scrollTop>0},e.isElementInPage=function(e){return null!=e},e.getBottomByClientRect=function(t,n,r,i){return i=i||0,n.frameElement&&(n.parent!==r?i+=e.getBottomByClientRect(t,n.parent,r,n.frameElement.getBoundingClientRect().top):i+=n.frameElement.getBoundingClientRect().top),t.bottom+i},e.enableXHRLv2=function(){if(XMLHttpRequest){return"withCredentials"in new XMLHttpRequest}return!1},e.getSize=function(t){return{width:e.getWidth(t),height:e.getHeight(t)}},e.getHeight=function(e){var t=parseInt(e.style.height);return t||(e.offsetHeight?t=e.offsetHeight:e.style.pixelHeight&&(t=e.style.pixelHeight)),r.coalesceNaN(0,t)},e.getWidth=function(e){var t=parseInt(e.style.width);return t||(e.offsetWidth?t=e.offsetWidth:e.style.pixelWidth&&(t=e.style.pixelWidth)),r.coalesceNaN(0,t)},e.clientSpec={xhr2:{value:1,enable:e.enableXHRLv2()},current:0},e.computedClientSpec=function(){var t=0;for(var n in e.clientSpec){var r=e.clientSpec[n];r.enable&&(t|=r.value)}return t}(),e.computedDevicePixelRatio=function(){try{if(devicePixelRatio)return devicePixelRatio;if(window.screen){var e=window.screen;if(e.deviceXDPI)return e.deviceXDPI/e.logicalXDPI}else if(window.matchMedia){var t=function(e,t){return"(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(-o-min-device-pixel-ratio: "+t+"),(min-resolution: "+e+"dppx)"};if(window.matchMedia(t("1.5","3/2")).matches)return 1.5;if(window.matchMedia(t("2","2/1")).matches)return 2;if(window.matchMedia(t("0.75","3/4")).matches)return.7}}catch(e){}return 1}(),e}();t.AgentUtil=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.appendImpImageTag=function(e,t){var n=document.createElement("img");n.src=e,n.width=0,n.height=0,n.style.borderStyle="none",t.appendChild(n),n.style.display="none"},e.overrideSponsored=function(e,t){t.api_params&&t.api_params.overrideSponsoredText&&(e.sponsored=t.api_params.overrideSponsoredText)},e}();t.RendererHelper=r},function(e,t,n){"use strict";function r(e){try{var t=function(){try{var e=window.top;if(e.document)return e}catch(e){}}();if(!t)return s.spotPosition.unknown;if(d.isElementInPage(e)){var n=d.isElementInViewport(e,t),r=d.isVerticalScrolled(t);return n&&!r?s.spotPosition.firstView:n?s.spotPosition.inView:s.spotPosition.inPage}return s.spotPosition.unknown}catch(e){}return s.spotPosition.unknown}function i(e){return/^Mozilla\/5.0 (\(iP(hone|ad|od).+ \d+_\d+(_\d+)? like Mac OS X\).+Mobile\/.+ Safari\/\d+\.\d+(\.\d+)?|\(Linux; Android \d+(\.\d+(\.\d+)?)?;[^;]+(?!; wv)?\).+Chrome\/[.0-9]*)/.test(e)}function o(e){return!i(e)&&/^Mozilla\/5.0 (\(iP(hone|ad|od).+ \d+_\d+(_\d+)? like Mac OS X\).+Mobile|\(Linux; Android \d+(\.\d+(\.\d+)?)?;.*wv\).+Chrome\/[.0-9]*)/.test(e)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(5),u=n(2);!function(e){e[e.ie=0]="ie",e[e.chrome=1]="chrome",e[e.firefox=2]="firefox",e[e.safari=3]="safari",e[e.opera=4]="opera",e[e.edge=5]="edge",e[e.gecko=6]="gecko",e[e.unknown=7]="unknown"}(a=t.BrowserID||(t.BrowserID={}));var d=function(){function e(){}return e.userAgentInOverlayBlackList=function(){var t=navigator.userAgent.toLowerCase();if(e.isOldIE(t))return!0;for(var n=u.IgnoreOverlayAndroidUA,r=n.split(","),i=0;i<r.length;i++)if(-1!=t.indexOf(r[i]))return!0;return!1},e.getBrowserInfo=function(){var e=window.navigator.userAgent.toLowerCase(),t={id:a.unknown,ieVersion:null};if(e.indexOf("msie")>=0||e.indexOf("trident")>=0){t.id=a.ie;var n=/(msie|rv:?)\s?([\d\.]+)/.exec(e),r=n?n[2]:null;r&&(t.ieVersion=parseInt(r,10))}else-1!=e.indexOf("edge")?t.id=a.edge:-1!=e.indexOf("chrome")?t.id=a.chrome:-1!=e.indexOf("firefox")?t.id=a.firefox:-1!=e.indexOf("safari")?t.id=a.safari:-1!=e.indexOf("opera")?t.id=a.opera:-1!=e.indexOf("gecko")&&(t.id=a.gecko);return t},e.isSmartphoneSupportAgent=function(){return e.isiphone()||e.isAndroid()||e.isWindowsPhone()},e.isOldIE=function(e){return e.indexOf("msie")>-1&&parseInt(e.split("msie")[1])<8},e.isWindowsPhone=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("windows phone")},e.isTouch=function(){return void 0!==document.ontouchstart},e.isOrientationChange=function(){return void 0!==window.orientationchange},e.isiphone=function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("ipad")},e.isAndroid=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},e.getAndroidVersion=function(){if(!this.isAndroid())return null;var e=navigator.userAgent.toLowerCase();return parseFloat(e.slice(e.indexOf("android")+8))},e.getiOSVersion=function(){if(!this.isiphone())return null;var e=navigator.appVersion.toLowerCase().match(/os (\d+)_(\d+)_?(\d+)?/);return parseFloat(e[1]+"."+e[2]+(e[3]||"0"))},e.getScreenSize=function(){if(this.isiphone()){var e=Math.abs(window.orientation)%180==90;return{width:e?screen.height:screen.width,height:e?screen.width:screen.height}}return{width:window.screenX+window.outerWidth,height:window.screenY+window.outerHeight}},e.getClientSize=function(){var e=this.getScreenSize();return{width:window.innerWidth,height:Math.floor(e.height*window.innerWidth/e.width)}},e.getDeviceOrientation=function(){var e=this.getScreenSize();return e.height>e.width?"p":"l"},e.getActionPosition=function(e){var t;return t=this.isTouch?e.touches[0]:e,{x:t.pageX,y:t.pageY}},e.isElementInViewport=function(t,n){var r=t.getBoundingClientRect();return r.top>=0&&r.left>=0&&e.getBottomByClientRect(r,window.self,n)<=(n.innerHeight||n.document.documentElement.clientHeight||n.document.body.clientHeight)},e.isVerticalScrolled=function(e){if("number"==typeof e.pageYOffset)return e.pageYOffset>0;var t=e.document.documentElement;return(t.clientHeight?t:e.document.body).scrollTop>0},e.isElementInPage=function(e){return null!=e},e.getBottomByClientRect=function(t,n,r,i){return i=i||0,n.frameElement&&(n.parent!==r?i+=e.getBottomByClientRect(t,n.parent,r,n.frameElement.getBoundingClientRect().top):i+=n.frameElement.getBoundingClientRect().top),t.bottom+i},e.enableXHRLv2=function(){if(XMLHttpRequest){return"withCredentials"in new XMLHttpRequest}return!1},e.getSize=function(t){return{width:e.getWidth(t),height:e.getHeight(t)}},e.getHeight=function(e){var t=parseInt(e.style.height);return t||(e.offsetHeight?t=e.offsetHeight:e.style.pixelHeight&&(t=e.style.pixelHeight)),s.coalesceNaN(0,t)},e.getWidth=function(e){var t=parseInt(e.style.width);return t||(e.offsetWidth?t=e.offsetWidth:e.style.pixelWidth&&(t=e.style.pixelWidth)),s.coalesceNaN(0,t)},e.clientSpec={xhr2:{value:1,enable:e.enableXHRLv2()},current:0},e.computedClientSpec=function(){var t=0;for(var n in e.clientSpec){var r=e.clientSpec[n];r.enable&&(t|=r.value)}return t}(),e.computedDevicePixelRatio=function(){try{if(devicePixelRatio)return devicePixelRatio;if(window.screen){var e=window.screen;if(e.deviceXDPI)return e.deviceXDPI/e.logicalXDPI}else if(window.matchMedia){var t=function(e,t){return"(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(-o-min-device-pixel-ratio: "+t+"),(min-resolution: "+e+"dppx)"};if(window.matchMedia(t("1.5","3/2")).matches)return 1.5;if(window.matchMedia(t("2","2/1")).matches)return 2;if(window.matchMedia(t("0.75","3/4")).matches)return.7}}catch(e){}return 1}(),e}();t.AgentUtil=d,t.getSpotPosition=r,t.isSpOrTabletWeb=i,t.isSpOrTabletWebView=o},function(e,t,n){"use strict";function r(){return"JSON"in window?new o:new i}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.quote=function(t){return e.escapable.lastIndex=0,e.escapable.test(t)?'"'+t.replace(e.escapable,function(t){var n=e.meta[t];return"string"==typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'},e.toJsonStr=function(t,n){var r=n[t];switch(typeof r){case"string":return e.quote(r);case"number":return isFinite(r)?String(r):"null";case"boolean":return String(r);case"object":if(!r)return"null";var i=[];if("[object Array]"===Object.prototype.toString.apply(r)){for(var o=r.length,a=0;a<o;a+=1)i[a]=e.toJsonStr(a,r)||"null";return 0===i.length?"[]":"["+i.join(",")+"]"}for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var u=e.toJsonStr(s,r);u&&i.push(e.quote(s)+":"+u)}return 0===i.length?"{}":"{"+i.join(",")+"}"}},e.prototype.toObj=function(t){try{if(e.validchars.test(t.replace(e.validescape,"@").replace(e.validtokens,"]").replace(e.validbraces,""))){return new Function("return "+t)()}return null}catch(e){return null}},e.prototype.toText=function(t){try{return e.toJsonStr("",{"":t})}catch(e){return""}},e.validchars=/^[\],:{}\s]*$/,e.validescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e.validtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,e.validbraces=/(?:^|:|,)(?:\s*\[)+/g,e.escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e.meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e}(),o=function(){function e(){}return e.prototype.toObj=function(e){try{return JSON.parse(e)}catch(e){return null}},e.prototype.toText=function(e){try{return JSON.stringify(e)}catch(e){return""}},e}();t.createSimpleJSON=r},function(e,t,n){"use strict";function r(e){try{return l.toObj(e)}catch(e){return null}}function i(){try{var e=o();return null!=e&&e.synced?e.optout&&1==e.optout?null:e.xid?"string"!=typeof e.xid?null:e.xid.match(/^[0-9a-zA-Z]{8}-[0-9a-zA-Z]{4}-[0-9a-zA-Z]{4}-[0-9a-zA-Z]{4}-[0-9a-zA-Z]{12}$/)?e.xid:null:null:null}catch(e){return null}}function o(){try{if(!window.localStorage)return null;var e=window.localStorage.getItem("imobile_xid");return null==e?null:p.toObj(e)}catch(e){return null}}function a(e){return p.toText(e)}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),d=function(){function e(){}return e}();t.XidEntity=d;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(d);t.XidMediaEntity=c;var l=u.createSimpleJSON(),p=u.createSimpleJSON();t.getXidObjFromXidStorage=r,t.getMediaSyncedXid=i,t.getXidObjFromMediaStorage=o,t.getXidTextFromMediaStorage=a},function(e,t,n){"use strict";function r(){return"JSON"in window?new o:new i}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.quote=function(t){return e.escapable.lastIndex=0,e.escapable.test(t)?'"'+t.replace(e.escapable,function(t){var n=e.meta[t];return"string"==typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'},e.toJsonStr=function(t,n){var r=n[t];switch(typeof r){case"string":return e.quote(r);case"number":return isFinite(r)?String(r):"null";case"boolean":return String(r);case"object":if(!r)return"null";var i=[];if("[object Array]"===Object.prototype.toString.apply(r)){for(var o=r.length,a=0;a<o;a+=1)i[a]=e.toJsonStr(a,r)||"null";return 0===i.length?"[]":"["+i.join(",")+"]"}for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var u=e.toJsonStr(s,r);u&&i.push(e.quote(s)+":"+u)}return 0===i.length?"{}":"{"+i.join(",")+"}"}},e.prototype.toObj=function(t){try{if(e.validchars.test(t.replace(e.validescape,"@").replace(e.validtokens,"]").replace(e.validbraces,""))){return new Function("return "+t)()}return null}catch(e){return null}},e.prototype.toText=function(t){try{return e.toJsonStr("",{"":t})}catch(e){return""}},e.validchars=/^[\],:{}\s]*$/,e.validescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e.validtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,e.validbraces=/(?:^|:|,)(?:\s*\[)+/g,e.escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e.meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e}(),o=function(){function e(){}return e.prototype.toObj=function(e){try{return JSON.parse(e)}catch(e){return null}},e.prototype.toText=function(e){try{return JSON.stringify(e)}catch(e){return""}},e}();t.createSimpleJSON=r},function(e,t,n){"use strict";function r(e,t,n){var r=e.createDocumentFragment(),i=e.createElement("iframe");return r.appendChild(i),i.frameBorder="0",i.scrolling="no",i.style.width=t,i.style.height=n,i.style.cssFloat="left",i.style.overflow="hidden",[r,i]}Object.defineProperty(t,"__esModule",{value:!0}),t.makeIframe=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.reserved=0]="reserved",e[e.imobile=1]="imobile",e[e.ydn=2]="ydn"}(t.AdNetworkId||(t.AdNetworkId={}));!function(e){e[e.inline=0]="inline",e[e.overlay=1]="overlay"}(t.SpotFunctionMode||(t.SpotFunctionMode={}));!function(e){e[e.none=0]="none",e[e.checkCPM=1]="checkCPM",e[e.iMCPC=2]="iMCPC",e[e.script=3]="script",e[e.iframe=4]="iframe",e[e.html=5]="html",e[e.documentWrite=6]="documentWrite",e[e.customTag=7]="customTag",e[e.adNetworkTag=8]="adNetworkTag"}(t.ClientActionMode||(t.ClientActionMode={}))},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=!0),new i(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){if(void 0===n&&(n=!0),this.storages=[],n){navigator.cookieEnabled&&this.storages.push(new o(e,t));try{"localStorage"in window&&this.storages.push(new a)}catch(e){}}else{try{"localStorage"in window&&this.storages.push(new a)}catch(e){}navigator.cookieEnabled&&this.storages.push(new o(e,t))}this.storageLength=this.storages.length}return e.prototype.getStorageName=function(){return e._name},e.prototype.getItem=function(e){if(0==this.validItem(e))return null;for(var t=0;t<this.storageLength;t++){var n=this.storages[t].getItem(e);if(null!=n)return n}return null},e.prototype.getAll=function(e){if(0==this.validItem(e))return null;for(var t=[],n=0;n<this.storageLength;n++){var r=this.storages[n].getItem(e);null!=r&&t.push(r)}return t},e.prototype.setItem=function(e,t){if(0!=this.validItem(e)&&0!=this.validItem(t))for(var n=0;n<this.storageLength;n++)this.storages[n].setItem(e,t)},e.prototype.removeItem=function(e){if(0!=this.validItem(e))for(var t=0;t<this.storageLength;t++)this.storages[t].removeItem(e)},e.prototype.supportList=function(){for(var e="__im__"+100*Math.random(),t=[],n=0;n<this.storageLength;n++)this.storages[n].setItem(e,"1"),null!=this.storages[n].getItem(e)&&(t.push(this.storages[n].getStorageName()),this.storages[n].removeItem(e));return t},e.prototype.available=function(){return this.supportList().length>0},e.prototype.availableSomeFunction=function(e){for(var t=this.supportList(),n=0;n<t.length;n++)if(t==e)return!0;return!1},e.prototype.availableLocalStorage=function(){return this.availableSomeFunction("local storage")},e.prototype.availableCookie=function(){return this.availableSomeFunction("cookie storage")},e.prototype.validItem=function(e){return"string"==typeof e},e._name="multi storage",e}(),o=function(){function e(e,t){this.domain=e,this.expire=t}return e.prototype.getStorageName=function(){return e._name},e.prototype.getItem=function(e){try{return this.getCookie(e)}catch(e){return null}},e.prototype.setItem=function(e,t){try{this.setCookie(e,t,this.expire,this.domain)}catch(e){}},e.prototype.removeItem=function(e){this.setCookie(e,"",-1)},e.prototype.setCookie=function(e,t,n,r){if(void 0===r&&(r=null),!window.navigator.cookieEnabled)return null;var i=n||this.expire,o=r||this.domain,a=new Date;a.setDate(a.getDate()+i),window.document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),";expires="+a.toUTCString(),"; path=/","; domain="+o].join("")},e.prototype.getCookie=function(e){if(window.navigator.cookieEnabled){var t=void 0;return(t=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?decodeURIComponent(t[1]):null}return null},e._name="cookie storage",e}(),a=function(){function e(){}return e.prototype.getStorageName=function(){return e._name},e.prototype.getItem=function(e){try{return window.localStorage.getItem(e)}catch(e){return null}},e.prototype.setItem=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){}},e.prototype.removeItem=function(e){try{window.localStorage.removeItem(e)}catch(e){}},e._name="local storage",e}();t.createMultiStorage=r},function(e,t,n){"use strict";function r(e){return new a(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=function(){function e(){this.xidSyncFrameName="xidSyncFrame"}return e}();t.XidSynchronizerOption=o;var a=function(){function e(e){this.option=e,this.needSyncToMediaUserFunc=function(){return!1},this.synced=!1}return e.incrementFrameNumber=function(){return++e.frameNumber},e.prototype.startSync=function(){var t=this;if(!this.canSync())return void(this.canNotSyncFunc&&this.canNotSyncFunc());if(!this.needSyncToMedia()&&this.needSyncToMediaUserFunc&&!this.needSyncToMediaUserFunc()){var n=i.getXidObjFromMediaStorage();return void(this.syncedFunc&&this.syncedFunc(n))}this.synced||(this.synced=!0,window.addEventListener?(window.addEventListener("message",function(n){if(e.isRightOrigin(n.origin,t.option.suffixAllowOrigin)){var r=i.getXidObjFromXidStorage(n.data);t.setXidToMediaStorage(r),t.syncedFunc&&t.syncedFunc(r)}},!1),window.addEventListener("load",function(){t.appendRestoreFrame()},!1)):(window.attachEvent("onmessage",function(n){if(e.isRightOrigin(n.origin,t.option.suffixAllowOrigin)){var r=i.getXidObjFromXidStorage(n.data);t.setXidToMediaStorage(r),t.syncedFunc&&t.syncedFunc(r)}}),window.attachEvent("onload",function(){t.appendRestoreFrame()})))},e.prototype.getMediaSyncedXid=function(){return i.getMediaSyncedXid()},e.isRightOrigin=function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n},e.prototype.canSync=function(){try{return!(!window.localStorage||!window.postMessage)}catch(e){return!1}},e.prototype.needSyncToMedia=function(){var e=i.getXidObjFromMediaStorage();return null==e||this.expireXid(e)},e.prototype.setXidToMediaStorage=function(e){try{var t=!1;e&&e.xid&&""!==e.xid&&(t=!0);var n=!1;e&&(!0!==e.optout&&"true"!=e.optout||(n=!0));var r=0==t&&null==i.getXidObjFromMediaStorage()?-1:(new Date).getTime(),o={xid:t&&!n?e.xid:"",synced:t,lastSyncTime:r,optout:n};window.localStorage.setItem("imobile_xid",i.getXidTextFromMediaStorage(o))}catch(e){}},e.prototype.expireXid=function(e){if(!e)return!0;var t=e.lastSyncTime+this.option.expireMillSec;return!t||t<(new Date).getTime()},e.prototype.appendRestoreFrame=function(){var t="https://"+this.option.xidSyncStorageServer+"/RestoreXidToMediaStorage.html",n=document.createElement("iframe");n.src=t,n.name=this.option.xidSyncFrameName+e.incrementFrameNumber(),n.style&&(n.style.visibility="hidden",n.style.padding="0",n.style.display="none"),n.setAttribute("frameBorder","0"),n.setAttribute("scrolling","no"),n.setAttribute("width","0"),n.setAttribute("height","0"),n.setAttribute("marginwidth","0"),n.setAttribute("marginheight","0"),n.setAttribute("vspace","0"),n.setAttribute("hspace","0"),document.body.appendChild(n)},e.frameNumber=0,e}();t.createXidSynchronizer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(76))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(37)),r(n(28)),r(n(81)),r(n(83)),r(n(85)),r(n(29)),r(n(86))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(0),a=n(4),s=n(5),u=n(11),d=n(17),c=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i,this.imptrack_json=u.createSimpleJSON(),this.dspnative_json=u.createSimpleJSON()}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.Both,this.api_response.presentationId)&&(this.demander.api_params?!!this.demander.api_params.dsp_native||(this.logger.e("not found api params [dsp_native] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params by id:"+this.demander.id+" spot:"+this.param.asid),!1))},e.prototype.convertAdvertisement=function(e,t,n){var o={title:n.title,description:n.description,click_url:n.click_url,image_url:n.image_url,sponsored:n.sponsored,imp_url:"",event_trackers:n.event_trackers};return r.NativeDemanderHelper.adjustSecureSchemeUrl(o),i.RendererHelper.overrideSponsored(o,this.demander),o},e.prototype.execute=function(e,t,n){this.remaining_slot_count=e;var r=this.demander.api_params.dsp_native,i=this.dspnative_json.toObj(r);if(!i)return void n(this.demander,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});if(!i.event_trackers||0==i.event_trackers.length)return void n(this.demander,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found event tracks!"});var a=[];a.push(this.convertAdvertisement(this.param,this.api_response,i)),t(this.demander,s.shuffleArray(a),o.AdnetworkRenderingType.DOMFromFragment)},e.prototype.render=function(e,t,n){for(var s,u=this,c=Math.min(this.remaining_slot_count,e.length),l=this,p=0;p<c;p++)!function(c){var p=e[c];s=r.NativeDemanderHelper.needUseSeparator(l.remaining_slot_count,c+1,l.api_response.separator),p.result_tag=t.replace_template(p,l.param,l.api_response,l.get_fixTemplate(),n,s),t.render(l.target_element,p,l.param,l.api_response,n);for(var h=p.event_trackers,m=[],f=0;f<h.length;f++)h[f].method===o.MethodType.Img&&(h[f].event===o.EventType.Impression?i.RendererHelper.appendImpImageTag(a.Requester.adjustSecureSchemeUrl(h[f].url),l.target_element):h[f].event===o.EventType.ViewableMrc50&&m.push(h[f]));m.length>0&&d.IabViewable.create(l.target_element,{isWait:!1}).then(function(e){e.setInViewAction([{action:function(){for(var e=0;e<m.length;e++)i.RendererHelper.appendImpImageTag(a.Requester.adjustSecureSchemeUrl(m[e].url),u.target_element)},duration:1e3,percentage:50}])})}(p);this.displayed_count=c},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e}();t.DefaultDSPExecutor=c},function(e,t,n){"use strict";function r(){var e=1;return function(){return e++}}function i(){window.IMobile=window.IMobile||{},void 0==window.IMobile.incrementGlobalNumber&&(window.IMobile.incrementGlobalNumber=r())}Object.defineProperty(t,"__esModule",{value:!0}),n(13),t.setGlobalIncrementCounter=i},function(e,t,n){"use strict";function r(e){s[c(e)]=e}function i(e,t,n){if(e&&e.option&&e.option.spotCustomizePoint&&e.option.spotCustomizePoint.enabled){var r=o(e);r&&a.isFunction(r.callback)&&r.callback(t,n)}}function o(e){return s[d(e)]}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s={},u=function(e){return"imscp_"+e.asid},d=function(e){return e&&e.option&&e.option.spotCustomizePoint&&void 0!=e.option.spotCustomizePoint.callbackName?e.option.spotCustomizePoint.callbackName:u(e)},c=function(e){return e&&e.callbackName?e.callbackName:u(e)};t.defaultSpotCustomPointOption={enabled:!0,callbackName:void 0},t.registerSpotCustomizePoint=r,t.tryInvokeSpotCustomizeCallback=i,t.getSpotCustomizePoint=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(){function e(e,t,n){this.storage=e,this.storageKey=t,this.spanMillSec=n,this.jsonConverver=r.createSimpleJSON()}return e.prototype.tryCancelTimeout=function(){var t=this.getTimetouState();t&&e.expired(t,this.spanMillSec)&&this.updateTimeoutState(!1)},e.prototype.setOnTimeout=function(){this.updateTimeoutState(!0)},e.prototype.duringTimeout=function(){var e=this.getTimetouState();return!!e&&e.on},e.prototype.updateTimeoutState=function(e){var t=this.getTimetouState();t||(t={}),e?(t.on=!0,t.up=(new Date).getTime()):(t.on=!1,t.up=0),this.setTimetouState(t)},e.expired=function(e,t){if(!e.up)return!1;var n=e.up;return!n||n+t<(new Date).getTime()},e.prototype.getTimetouState=function(){var e=this.storage.getItem(this.storageKey);return e?this.jsonConverver.toObj(e):null},e.prototype.setTimetouState=function(e){if(e){var t=this.jsonConverver.toText(e);this.storage.setItem(this.storageKey,t)}},e}();t.TimeoutStateManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(14),o=n(3),a=n(6),s=n(24);!function(e){e[e.Ignore=0]="Ignore",e[e.HideOverlay=1]="HideOverlay",e[e.AnchorOverlay=2]="AnchorOverlay",e[e.AnchorOverlayKeepBottom=3]="AnchorOverlayKeepBottom"}(r=t.Mode||(t.Mode={}));var u=100,d=r.AnchorOverlayKeepBottom,c=function(){function e(e,t){this.mode=d,this.zIndex=u,null!=e&&(this.mode=e),t&&(this.zIndex=t)}return e.prototype.zIndexIs=function(e){return this.zIndex=e,this},e.prototype.ModeIs=function(e){return"string"==typeof e&&(e=r[e]),this.mode=e,this},e.Ignore=new e(r.Ignore,u),e.HideOverlay=new e(r.HideOverlay,u),e.AnchorOverlay=new e(r.AnchorOverlay,u),e.AnchorOverlayKeepBottom=new e(r.AnchorOverlayKeepBottom,u),e.Default=new e(d,u),e}();t.OverlayOptionImpl=c;var l=function(){function e(){}return e.getWAIT_INTERVAL=function(){return this._waitinterval},e.setWAIT_INTERVAL=function(e){this._waitinterval=e},e.getANIMATION_INTERVAL=function(){return this._animationinterval},e.setANIMATION_INTERVAL=function(e){this._animationinterval=e},e.getBODY_HEIGHT_OFFSET=function(){return this._bodyheightoffset},e.setBODY_HEIGHT_OFFSET=function(e){this._bodyheightoffset=e},e.userAgentOverlaySupported=function(){return!a.AgentUtil.userAgentInOverlayBlackList()},e.spotDisplayParamIsOverlay=function(e){return i.SpotFunctionMode.overlay===e.display},e.spotParamOverlayModeIsNotIgnore=function(e){return r.Ignore!==e.option.overlay.mode},e.supportOverlay=function(t){return e.userAgentOverlaySupported()&&e.spotDisplayParamIsOverlay(t)&&e.spotParamOverlayModeIsNotIgnore(t)},e.stopAnimation=function(){this.tid&&(clearInterval(this.tid),this.tid=null)},e.startAnimation=function(e,t){this.stopAnimation(),this.tid=setInterval(e,t)},e.OnTouchStart=function(e,t){var n=a.AgentUtil.getActionPosition(e);t.offsetTop<=n.y&&t.offsetLeft<=n.x&&t.offsetTop+t.clientHeight>n.y&&t.offsetLeft+t.clientWidth>n.x||this.HideElement(t)},e.OnTouchEndOrCancel=function(e,t){this.WaitShowElement(this._waitinterval,t)},e.OnScroll=function(e,t){this.HideElement(t),this.WaitShowElement(this._waitinterval,t)},e.OnOrientationChange=function(e,t){this.HideElement(t),this.WaitShowElement(this._waitinterval,t)},e.HideElement=function(e){e.style.visibility="hidden",e.style.opacity="0.0",e.style.top="0px",e.style.left="0px"},e.WaitShowElement=function(e,t){var n=this;this.startAnimation(function(){n.ShowElement(t)},e)},e.ShowElement=function(e){if("1"!==e.style.opacity||"visible"!==e.style.visibility){e.style.opacity="0.0",e.style.visibility="visible",this.animationCounter=0;var t=this;this.startAnimation(function(){t.FadeinAnimation(e)},this._animationinterval)}},e.FadeinAnimation=function(e){if(this.animationCounter<=10){var t=a.AgentUtil.getSize(e),n=t.height/t.width,r=a.AgentUtil.getClientSize(),i=r.width<r.height?window.innerWidth:r.height,s=Math.floor(i*n),u=this.pos,d=void 0;"bottom2top"===u&&(document.body.clientHeight&&document.body.clientHeight-5<=window.pageYOffset+window.innerHeight&&(u="top"),"bottom2top"===u&&(u="bottom")),d="bottom"==u?document.height?Math.min(document.height-s,window.pageYOffset+window.innerHeight-s):window.pageYOffset+window.innerHeight-s:window.pageYOffset,e.style.position="absolute",e.style.width=o.coalesceNaN(t.width,i)+"px",e.style.height=o.coalesceNaN(t.height,s)+"px",e.style.top=o.coalesceNaN(0,d)+"px",e.style.left=o.coalesceNaN(0,Math.max(0,window.pageXOffset+Math.floor((window.innerWidth-i)/2)))+"px",e.style.opacity=(1*this.animationCounter/10).toString()}else this.stopAnimation();this.animationCounter++},e.ShowAnchorElement=function(e,t,n,r){document.body.clientWidth/window.innerWidth>1.1?(e.style.visibility="hidden",e.style.opacity="0.0"):(e.style.visibility="visible",e.style.opacity="1.0",this.AnchorAnimation(e,t,n,r))},e.CanAdjustSize=function(e,t){return this.MIN_SIZE_ADJUST_WIDTH<e.width?e.width<this.MAX_SIZE_ADJUST_WIDTH&&t.width<e.width:t.width<window.innerWidth},e.AnchorAnimation=function(e,t,n,i){var o=t.width,s=t.height,u=this.pos,d=a.AgentUtil.getScreenSize();if(i&&this.CanAdjustSize(d,t)){var c=t.height/t.width,l=d.width<d.height?window.innerWidth:d.height,p=Math.floor(l*c);e.style.left="0%",e.style.margin="0px",e.style.width=l+"px",e.style.height=p+"px",e.style.position="fixed"}else e.style.left="50%",e.style.margin="0px 0px 0px "+-1*Math.floor(o/2)+"px",e.style.width=o+"px",e.style.height=s+"px",e.style.position="fixed";var h=Math.max.apply(null,[document.body.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.documentElement.clientHeight])-this._bodyheightoffset;if(h){var m=window.innerHeight+s/2;n.mode===r.AnchorOverlay&&h<=m+window.pageYOffset&&this.GetIsExistsScroll(h,m)&&(u="top")}"bottom"==u||"bottom2top"==u?(e.style.top="",e.style.bottom="0px"):(e.style.top="0px",e.style.bottom="")},e.GetIsExistsScroll=function(e,t){var n=a.AgentUtil.getDeviceOrientation();return null!=this.isExistsScroll&&null!=this.lastOrientation&&this.lastOrientation==n&&this.lastBodyHeight==e||(this.isExistsScroll=e>t),this.lastOrientation=n,this.lastBodyHeight=e,this.isExistsScroll},e.anchorOverlaySupported=function(){var e=a.AgentUtil.getAndroidVersion();if(null!=e)return e>=4;var t=a.AgentUtil.getiOSVersion();return null!=t&&t>=6},e.implementOverlay=function(t,n,i,o){t.mode!==r.HideOverlay&&e.anchorOverlaySupported()?(s.EventUtil.addEventListener(window.document,s.EventUtil.EVENT_TOUCHSTART,function(){e.ShowAnchorElement(n,i,t,o)}),s.EventUtil.addEventListener(window.document,s.EventUtil.EVENT_TOUCHEND,function(){e.ShowAnchorElement(n,i,t,o)}),s.EventUtil.addEventListener(window.document,s.EventUtil.EVENT_TOUCHCANCEL,function(){e.ShowAnchorElement(n,i,t,o)}),s.EventUtil.addEventListener(window,s.EventUtil.EVENT_SCROLL,function(){e.ShowAnchorElement(n,i,t,o)}),s.EventUtil.addEventListener(window,s.EventUtil.EVENT_ORIENTATIONCHANGE,function(){e.ShowAnchorElement(n,i,t,o)}),"bottom"!==e.pos&&"bottom2top"!==e.pos||e.ShowAnchorElement(n,i,t,o)):(s.EventUtil.addEventListener(window.document,s.EventUtil.EVENT_TOUCHSTART,function(t){e.OnTouchStart(t,n)}),s.EventUtil.addEventListener(window.document,s.EventUtil.EVENT_TOUCHEND,function(t){e.OnTouchEndOrCancel(t,n)}),s.EventUtil.addEventListener(window.document,s.EventUtil.EVENT_TOUCHCANCEL,function(t){e.OnTouchEndOrCancel(t,n)}),s.EventUtil.addEventListener(window,s.EventUtil.EVENT_SCROLL,function(t){e.OnScroll(t,n)}),s.EventUtil.addEventListener(window,s.EventUtil.EVENT_ORIENTATIONCHANGE,function(t){e.OnOrientationChange(t,n)}),"bottom"!==e.pos&&"bottom2top"!==e.pos||e.WaitShowElement(e.getWAIT_INTERVAL(),n))},e._waitinterval=1500,e.MIN_SIZE_ADJUST_WIDTH=336,e.MAX_SIZE_ADJUST_WIDTH=415,e._animationinterval=15,e._bodyheightoffset=5,e.animationCounter=0,e.pos="bottom",e}();t.OverlayUtil=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(){function e(){}return e.addEventListener=function(e,t,n){"attachEvent"in e?e.attachEvent(t,n):e.addEventListener(t,n,!1)},e.EVENT_LOAD=r.AgentUtil.isWindowsPhone()?"onload":"load",e.EVENT_DOMCONTENT_LOAD="DOMContentLoaded",e.EVENT_TOUCHSTART=r.AgentUtil.isTouch?"touchstart":"mousedown",e.EVENT_TOUCHEND=r.AgentUtil.isTouch?"touchend":"mouseup",e.EVENT_TOUCHCANCEL=r.AgentUtil.isTouch?"touchcancel":"mouseup",e.EVENT_ORIENTATIONCHANGE=r.AgentUtil.isOrientationChange?"orientationchange":"resize",e.EVENT_SCROLL="scroll",e}();t.EventUtil=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(){}return e.getUrl=function(e,t){return"https://"+e+"/"+t},e.toSrializeString=function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)},e.convertURLParamToString=function(t){var n=[];if(t)for(var r=t.length,i=0;i<r;i++){var o=t[i];n.push(e.toSrializeString(o))}return n.join("&")},e.prototype.requestJSONP=function(e,t,n,i,o){void 0===o&&(o="imcallback");var a="jsonp_tag_"+n,s=e+=(e.indexOf("?",0)>-1?"&":"?")+o+"="+n+"&cashid="+(new Date).getTime(),u=!1,d=null;i&&i.timeoutMilliSec&&i.timeoutMilliSec>0&&r.isFunction(i.handler)&&(d=window.setTimeout(function(){u=!0,i.handler()},i.timeoutMilliSec)),window[n]=function(e){window.clearTimeout(d),u||t(e),window[n]=void 0;try{delete window[n]}catch(e){}var r=document.getElementById(a);r&&r.parentNode&&r.parentNode.removeChild(r)},document.write('<script type="text/javascript" charset="UTF-8" id="'+a+'" src="'+s+'"><\/script>')},e.scheme="https",e}();t.Requester=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(34)),r(n(67)),r(n(69))},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t={method:"GET"}),a?i(e,t):o(e,t)}function i(e,n){return new Promise(function(r,i){var o=new XMLHttpRequest;o.open(n.method,""+t.protocol+e,!0),void 0!=n.headers&&Object.keys(n.headers).forEach(function(e){return o.setRequestHeader(e,n.headers[e])}),o.withCredentials=n.credentials||!1,o.timeout=n.timeout||1e3,o.ontimeout=function(){return i(new Error("request url: "+e+" is timeout."))},o.onerror=function(){return i(new Error("request error occured."))},o.onload=function(){4===o.readyState&&200===o.status?r(o.responseText):i(new Error(o.statusText))},o.send(void 0!=n.body?n.body:null)})}function o(e,n){return new Promise(function(r,i){"undefined"==typeof XDomainRequest&&i(new Error("XDomainRequest is not supported."));var o=new XDomainRequest;o.open(n.method,""+t.protocol+e),o.timeout=n.timeout||1e3,o.ontimeout=function(){return i(new Error("request url: "+e+" is timeout."))},o.onerror=function(){return i(new Error("request error occured."))},o.onload=function(){void 0!==o.responseText?r(o.responseText):i(new Error(o.statusText))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.protocol="https://";var a=function(){return"withCredentials"in new XMLHttpRequest}();t.http=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.mute="mute",e.unmute="unmute",e.pause="pause",e.resume="resume",e.rewind="rewind",e.skip="skip",e.playerExpand="playerExpand",e.playerCollapse="playerCollapse",e.start="start",e.firstQuartile="firstQuartile",e.midpoint="midpoint",e.thirdQuartile="thirdQuartile",e.complete="complete",e.acceptInvitationLinear="acceptInvitationLinear",e.timeSpentViewing="timeSpentViewing",e.otherAdInteraction="otherAdInteraction",e.progress="progress"}(t.VastEvents||(t.VastEvents={}));!function(e){e.impression="impression",e.viewableImpression="viewableImpression",e.click="click",e.error="error"}(t.VastAdditionalEvents||(t.VastAdditionalEvents={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.AdLoaded="AdLoaded",e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdSkipped="AdSkipped",e.AdLinearChange="AdLinearChange",e.AdSizeChange="AdSizeChange",e.AdExpandedChange="AdExpandedChange",e.AdSkippableStateChange="AdSkippableStateChange",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdDurationChange="AdDurationChange",e.AdVolumeChange="AdVolumeChange",e.AdImpression="AdImpression",e.AdVideoStart="AdVideoStart",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidpoint="AdVideoMidpoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdVideoComplete="AdVideoComplete",e.AdClickThru="AdClickThru",e.AdInteraction="AdInteraction",e.AdUserAcceptInvitation="AdUserAcceptInvitation",e.AdUserMinimize="AdUserMinimize",e.AdUserClose="AdUserClose",e.AdPaused="AdPaused",e.AdPlaying="AdPlaying",e.AdLog="AdLog",e.AdError="AdError"}(t.VpaidEvents||(t.VpaidEvents={}));!function(e){e.AdRewind="AdRewind",e.AdExpanded="AdExpanded",e.AdCollapsed="AdCollapsed",e.AdViewableImpression="AdViewableImpression",e.VideoEnded="VideoEnded"}(t.VpaidAdditionalEvents||(t.VpaidAdditionalEvents={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(21),o=n(14),a=n(22),s=n(23),u=n(3),d=n(15),c=n(25),l=n(10),p=n(16),h=n(6);t.Overlay=s.OverlayOptionImpl;var m=(function(){function e(e,t){this.on=e,this.up=t}}(),function(){function e(t){if(this.asn=window.IMobile.incrementGlobalNumber(),this.spotContainerId="",this.requester=new c.Requester,e.validateParam(t),"string"==typeof t.display&&(t.display=u.toEnumValue(t.display,o.SpotFunctionMode)),this.param=t,this.param.option=this.param.option||{},this.param.display===o.SpotFunctionMode.overlay)if(void 0==this.param.option.overlay)this.param.option.overlay=s.OverlayOptionImpl.Default;else if("string"==typeof this.param.option.overlay)this.param.option.overlay=(new s.OverlayOptionImpl).ModeIs(this.param.option.overlay.toString());else{var n=new s.OverlayOptionImpl;"string"==typeof this.param.option.overlay.mode&&n.ModeIs(this.param.option.overlay.mode),"number"==typeof this.param.option.overlay.zIndex&&n.zIndexIs(this.param.option.overlay.zIndex),this.param.option.overlay=n}this.param.option.spotCustomizePoint=this.param.option.spotCustomizePoint||i.defaultSpotCustomPointOption,this.param.option.spotCustomizePoint.enabled=void 0===this.param.option.spotCustomizePoint.enabled||this.param.option.spotCustomizePoint.enabled,this.spotContainerId=e.spotPrefix+this.asn,document.write('<div id="'+this.spotContainerId+'" style="margin:0px!important;overflow:hidden!important;"></div>')}return e.validateParam=function(e){if(!e)throw new Error("require param");if(!e.asid)throw new Error("require asid");if(!e.mid)throw new Error("require mid");if(!e.pid)throw new Error("require pid");if(e.amp&&"boolean"!=typeof e.amp)throw new Error("amp must be boolean")},e.adjustIMobileOverlayContainerSize=function(e,t){for(var n=e.getElementsByTagName("div"),r=0;r<n.length;r++){var i=n.item(r);if(u.startWithString(i.id,"imobile_adspotdiv")&&(i.style.height!==e.style.height||i.style.width!==e.style.width))return i.style.height=e.style.height,i.style.width=e.style.width,void(i.style.padding="0px")}},e.adjustYDNOverlayContainerSize=function(e,t){for(var n=e.getElementsByTagName("div"),r=0;r<n.length;r++){var i=n.item(r);if(u.startWithString(i.id,"yads_dummy_parent")){var o=h.AgentUtil.getSize(e),a=h.AgentUtil.getSize(i);if(a.height!==o.height||a.width!==o.width)return i.style.height=e.style.height,void(i.style.width=e.style.width)}}},e.prototype.documentWriteWithSpotCustomize=function(t,n,r,o){var a={canAdjustOverlaySize:void 0},u={height:n.height,width:n.width};if(t.spotContainerId=e.spotDowWriterPrefix+t.asn,s.OverlayUtil.supportOverlay(t.param)){a.canAdjustOverlaySize=o;var d=t.param.option.overlay;document.write('<div id="'+t.spotContainerId+'" style="margin:0px;overflow:hidden!important;z-index:'+d.zIndex+';">'+n.contents+"</div>");var c=t.getSpot();c.style.width=n.width+"px",c.style.height=n.height+"px",i.tryInvokeSpotCustomizeCallback(t.param,c,a);var l=h.AgentUtil.getSize(c);void 0!==a.canAdjustOverlaySize||u.height===l.height&&u.width===l.width||(a.canAdjustOverlaySize=!1),void 0===a.canAdjustOverlaySize&&(a.canAdjustOverlaySize=o),s.OverlayUtil.implementOverlay(d,c,l,a.canAdjustOverlaySize),this.appendSyncImgElement(n)}else{a.canAdjustOverlaySize=!1,document.write('<div id="'+t.spotContainerId+'" style="margin:0px;overflow:hidden!important;">'+n.contents+"</div>");var c=t.getSpot();i.tryInvokeSpotCustomizeCallback(t.param,c,a),this.appendSyncImgElement(n)}},e.prototype.appendSyncImgElement=function(e){if(e&&e.sync)for(var t=c.Requester.getUrl(r.SSPServerSyncAPI,"sync2.ashx"),n=this.getSpot(),i=0;i<e.sync.length;i++){var o=[];o.push({name:"imsync",value:1}),o.push({name:"dspid",value:e.sync[i]});var a=c.Requester.convertURLParamToString(o),s=document.createElement("img");s.src=t+"?"+a,s.style&&(s.style.visibility="hidden",s.style.padding="0",s.style.display="none"),s.setAttribute("width","0"),s.setAttribute("height","0"),n.appendChild(s)}},e.resolveClientAction=function(t){for(var n in e.clientActions){var r=e.clientActions[n];if(r.mode===t)return r}return{mode:o.ClientActionMode.none,invoke:function(e,t){}}},e.getIdfa=function(e){return e.dvid&&h.AgentUtil.isiphone()?e.dvid:null},e.getGaid=function(e){return e.dvid&&h.AgentUtil.isAndroid()?e.dvid:null},e.resolveAdNetworkOverlayAddtionalAction=function(t){for(var n in e.adNetworkOverlayAddtionalActions){var r=e.adNetworkOverlayAddtionalActions[n];if(r.id===t)return r}return{id:o.AdNetworkId.reserved,canAdjustSize:!1,invoke:function(e,t){}}},e.prototype.buildupRequestBaseParams=function(){var t=[];t.push({name:"pid",value:this.param.pid}),t.push({name:"mid",value:this.param.mid}),t.push({name:"asid",value:this.param.asid}),t.push({name:"asn",value:this.asn});var n=l.getMediaSyncedXid();null!=n&&t.push({name:"xid",value:n}),t.push({name:"ct",value:"true"}),t.push({name:"spec",value:h.AgentUtil.computedClientSpec}),t.push({name:"dpr",value:h.AgentUtil.computedDevicePixelRatio});var r=e.getIdfa(this.param);r&&t.push({name:"idfa",value:r});var i=e.getGaid(this.param);return i&&t.push({name:"gaid",value:i}),t},e.prototype.getSpot=function(){return document.getElementById(this.spotContainerId)},e.prototype.requestJSONP=function(t,n,r,i,o,a){var s=c.Requester.convertURLParamToString(r),u=c.Requester.getUrl(t,"jsonp/"+e.apiVersion+"/"+n+"?"+s),d=(i||"")+"_imcallback_"+this.param.asid+"_"+this.asn;this.requester.requestJSONP(u,o,d,a)},e.prototype.show=function(){var t=this;try{e.synchronizer.startSync()}catch(e){}if(e.timeout.duringTimeout())return void e.timeout.tryCancelTimeout();var n=this.buildupRequestBaseParams();n.push({name:"sf",value:this.param.display}),this.param.display!==o.SpotFunctionMode.overlay?n.push({name:"pos",value:u.getSpotPosition(this.getSpot())}):n.push({name:"overlay",value:this.param.option.overlay.mode}),!0===this.param.amp&&n.push({name:"amp",value:!0}),this.requestJSONP(r.SSPServerRoot,"ssp_spot.ashx",n,void 0,function(n){e.resolveClientAction(n.action).invoke(t,n)},{handler:function(){e.timeout.setOnTimeout(),console.log("on timeout!!")},timeoutMilliSec:e.timeoutMilliSec})},e.sspStorageKey="imp_rto",e.spotPrefix="imp_spot_def_",e.spotDowWriterPrefix="imp_docwritecontainer",e.apiVersion="v2",e.synchronizer=p.createXidSynchronizer({expireMillSec:parseInt(r.XidSyncExpireMillSec,10),suffixAllowOrigin:r.SSPServerXidSyncStorage,xidSyncStorageServer:r.SSPServerXidSyncStorage,xidSyncFrameName:"restoreXidFrame_imp_"}),e.timeoutMilliSec=1e3*parseInt(r.SSPResponseTimeoutSec,10),e.timeout=new a.TimeoutStateManager(d.createMultiStorage(r.CookieDomain,1),e.sspStorageKey,1e3*parseInt(r.TimeoutRecoverySec,10)),e.clientActions={checkCPM:{mode:o.ClientActionMode.checkCPM,invoke:function(e,t){throw new Error("not implemented checkCPM")}},iMCPC:{mode:o.ClientActionMode.iMCPC,invoke:function(e,t){throw new Error("not implemented IMCPC")}},script:{mode:o.ClientActionMode.script,invoke:function(e,t){throw new Error("not implemented script")}},iframe:{mode:o.ClientActionMode.iframe,invoke:function(e,t){throw new Error("not implemented iframe")}},html:{mode:o.ClientActionMode.html,invoke:function(e,t){e.getSpot().innerHTML=t.contents;var n={height:t.height,width:t.width};if(s.OverlayUtil.supportOverlay(e.param)){var r=e.getSpot(),i=e.param.option.overlay;r.style.removeProperty("margin-top"),r.style.removeProperty("margin-right"),r.style.removeProperty("margin-bottom"),r.style.removeProperty("margin-left"),r.style.margin="0",r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.zIndex=i.zIndex.toString(),s.OverlayUtil.implementOverlay(i,r,n,!1)}e.appendSyncImgElement(t)}},documentWrite:{mode:o.ClientActionMode.documentWrite,invoke:function(e,t){e.documentWriteWithSpotCustomize(e,t,!1,!1)}},customTag:{mode:o.ClientActionMode.customTag,invoke:function(e,t){e.documentWriteWithSpotCustomize(e,t,!0,!1)}},adNetworkTag:{mode:o.ClientActionMode.adNetworkTag,invoke:function(t,n){var r=o.AdNetworkId.reserved;n.adnetwork&&n.adnetwork.id&&(r=n.adnetwork.id);var i=e.resolveAdNetworkOverlayAddtionalAction(r);t.documentWriteWithSpotCustomize(t,n,!0,i.canAdjustSize),s.OverlayUtil.supportOverlay(t.param)&&i.invoke(t,n)}}},e.adNetworkOverlayAddtionalActions={imobile:{id:o.AdNetworkId.imobile,canAdjustSize:!0,invoke:function(t,n){var r=t.getSpot();setInterval(function(){e.adjustIMobileOverlayContainerSize(r,n)},300)}},ydn:{id:o.AdNetworkId.ydn,canAdjustSize:!1,invoke:function(t,n){var r=t.getSpot();setInterval(function(){e.adjustYDNOverlayContainerSize(r,n)},500)}}},e}());t.Spot=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(59),i=n(64),o=n(116),a=n(8),s=n(30),u=n(1),d=n(4),c=n(5),l=n(117),p=n(118),h=n(17),m=n(2),f=n(120),v=function(){function e(t){this.param=t,this.spotContainerId="",this.param.asn=window.IMobile.incrementGlobalNumber(),this.logger=o.createLogger(t),this.spotContainerId=e.spotPrefix+this.param.asn;var n='<div id="'+this.spotContainerId+'" style="margin:0px!important;overflow:hidden!important;"></div>';if(r.SpotHelper.mustAsync(this.param)){var i=document.querySelector("#c");i&&(i.innerHTML+=n)}else document.write(n)}return e.prototype.getSpot=function(){return document.getElementById(this.spotContainerId)},e.prototype.show=function(){var t=this;try{e.synchronizer.startSync()}catch(e){}if(e.timeout.duringTimeout())return void e.timeout.tryCancelTimeout();var n=r.SpotHelper.buildupRequestBaseParams(this.param);n.push({name:"sf",value:this.param.display});var o=this.getSpot();o?n.push({name:"pos",value:a.getSpotPosition(o)}):n.push({name:"pos",value:c.spotPosition.unknown}),!0===this.param.amp&&n.push({name:"amp",value:!0});var v=u.NativeDemanderHelper.getIdfa(this.param);v&&n.push({name:"idfa",value:v});var g=u.NativeDemanderHelper.getGaid(this.param);g&&n.push({name:"gaid",value:g}),n.push({name:"viewability",value:h.IabViewable.whetherMeasurementPossible()}),u.NativeDemanderHelper.needEntryMediaUrl(location)&&n.push({name:"nemu",value:!0});var y=new d.Requester;r.SpotHelper.requestJSONP(y,m.IMPServerRoot,"imp_spot.ashx",n,this.param,"spot_deliver",function(e){if(e.status!=l.ApiResponseStatus.ok)return t.logger.w("imp response error code:"+e.error.code+" message:"+e.error.message),void("true"===m.IMPNativeSSPTagCompatibilityMode&&(t.logger.i("retry show legacy spot:"+t.param.asid),new s.Spot(t.param).show()));try{p.executeIdSyncIfPossible(e.result.xid,v,g)}catch(e){t.logger.e("Execute id sync. But runtime error occured.")}var o=function(e){new i.NativeDemanderMultiSlotManager(t.param,e,function(i,o,a){try{var s=void 0;"s"in i&&(s=i.s),r.SpotHelper.sendImpAsync(y,m.IMPServerRoot,e.result.bidid,i.type,i.id,a,n,t.param,t.logger,s)}catch(e){t.logger.e(e)}o.followupRendering()},function(e){t.logger.e(e)},t.logger).execute()};f.enableHeaderBidding(e)?f.executeHeaderBidding(t.param,e).then(function(t){e.result.demander=t[1],o(e)}):o(e)},r.SpotHelper.mustAsync(this.param),{handler:function(){e.timeout.setOnTimeout(),t.logger.w("imp on timeout!!")},timeoutMilliSec:e.timeoutMilliSec})},e.synchronizer=r.SpotHelper.createXidsynchronizer(),e.timeout=r.SpotHelper.createTimeout(),e.timeoutMilliSec=1e3*parseInt(m.SSPResponseTimeoutSec,10),e.spotPrefix="imp_native_spot_def_",e}();t.NativeSpot=v},function(e,t,n){"use strict";function r(){return o(i(32),8)+"-"+o(i(16),4)+"-"+o(16384|i(12),4)+"-"+o(32768|i(14),4)+"-"+o(i(48),12)}function i(e){return e<0?NaN:e<=30?0|Math.random()*(1<<e):e<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<e-30))*(1<<30):NaN}function o(e,t){for(var n=e.toString(16),r=t-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.generateUUID=r},function(e,t,n){"use strict";function r(e){try{return l.toObj(e)}catch(e){return null}}function i(){try{var e=o();return null!=e&&e.synced?e.optout&&1==e.optout?null:e.xid?"string"!=typeof e.xid?null:e.xid.match(/^[0-9a-zA-Z]{8}-[0-9a-zA-Z]{4}-[0-9a-zA-Z]{4}-[0-9a-zA-Z]{4}-[0-9a-zA-Z]{12}$/)?e.xid:null:null:null}catch(e){return null}}function o(){try{if(!window.localStorage)return null;var e=window.localStorage.getItem("imobile_xid");return null==e?null:p.toObj(e)}catch(e){return null}}function a(e){return p.toText(e)}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(11),d=function(){function e(){}return e}();t.XidEntity=d;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(d);t.XidMediaEntity=c;var l=u.createSimpleJSON(),p=u.createSimpleJSON();t.getXidObjFromXidStorage=r,t.getMediaSyncedXid=i,t.getXidObjFromMediaStorage=o,t.getXidTextFromMediaStorage=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i,o,a){this.impid=e,this.cpm=t,this.creative=n,this.zoneid=r,this.width=i,this.height=o,this.native=a}return e.fromWeb=function(t){if(0===t.length)return null;var n=t[0];return new e(n.impressionId,n.cpm,n.creative,n.zoneid,n.width,n.height,n.nativePayload)},e.fromApp=function(t){if(null==t||0===t.slots.length)return null;var n=t.slots[0];return new e(n.impid,n.cpm,n.creative,n.zoneid,n.width,n.height,n.native)},e}();t.CDBResponse=r;!function(e){e.IDFA="IDFA",e.GAID="GAID"}(t.DeviceIdTypes||(t.DeviceIdTypes={}));!function(e){e.Android="android",e.IOs="ios"}(t.DeviceOs||(t.DeviceOs={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(78)),r(n(36))},function(e,t,n){"use strict";function r(e){return void 0!=e&&e.length>=3?{major:parseInt(e[1],10),minor:void 0!=e[2]?parseInt(e[2],10):0,build:void 0!=e[3]?parseInt(e[3],10):0,revision:void 0!=e[4]?parseInt(e[4],10):0}:{major:0,minor:0,build:0,revision:0}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.iOs="iOS",e.android="Android",e.macOs="macOS",e.windows="Windows",e.linux="Linux",e.unknown="unknown"}(i=t.OS||(t.OS={}));var o;!function(e){e.safari="Safari",e.chrome="Chrome",e.gsa="Google Search Appliance",e.firefox="Firefox",e.opera="Opera",e.ie="Internet Explorer",e.edge="Edge",e.browser="Android standard browser",e.iosWebView="iOS WebView",e.unknown="unknown"}(o=t.Browsers||(t.Browsers={}));var a=function(){function e(e){void 0===e&&(e=navigator.userAgent),this.os_=void 0,this.browser_=void 0,this.isPc_=void 0,this.isSp_=void 0,this.isTablet_=void 0,this.isWebView_=void 0,this.isIos_=void 0,this.isAndroid_=void 0,this.isMacOs_=void 0,this.isWindows_=void 0,this.isLinux_=void 0,this.isIphone_=void 0,this.isIpad_=void 0,this.isIpod_=void 0,this.facebook_={isFacebook:void 0,version:void 0},this.line_={isLine:void 0,version:void 0},this.isTwitter_=void 0,this.userAgent=e}return Object.defineProperty(e.prototype,"os",{get:function(){return void 0!=this.os_?this.os_:this.isIos?(this.os_={name:i.iOs,version:r(/OS\s(\d+)_(\d+)_?(\d+)?/.exec(this.userAgent))},this.os_):this.isAndroid?(this.os_={name:i.android,version:r(/Android\s(\d+)\.?(\d+)?\.?(\d+)?/.exec(this.userAgent))},this.os_):this.isMacOs?(this.os_={name:i.macOs,version:r(/OS\sX\s(\d+)_(\d+)_?(\d+)?/.exec(this.userAgent))},this.os_):this.isWindows?(this.os_={name:i.windows,version:r(/Windows\sNT\s(\d+)\.(\d+)/.exec(this.userAgent))},this.os_):this.isLinux?(this.os_={name:i.linux,version:r(null)},this.os_):(this.os_={name:i.unknown,version:r(null)},this.os_)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"browser",{get:function(){if(void 0!=this.browser_)return this.browser_;if(this.isIos){var e=/CriOS\/(\d+)\.(\d+)\.(\d+)\.(\d+)/.exec(this.userAgent);if(void 0!=e&&e.length>=5)return this.browser_={name:o.chrome,version:r(e)},this.browser_;var t=/FxiOS\/(\d+)\.(\d+)/.exec(this.userAgent);if(void 0!=t&&t.length>=3)return this.browser_={name:o.firefox,version:r(t)},this.browser_;var n=/GSA\/(\d+)\.(\d+)\.(\d+)/.exec(this.userAgent);if(void 0!=n&&n.length>=4)return this.browser_={name:o.gsa,version:r(n)},this.browser_;var i=/Safari\/(\d+)\.(\d+)\.?(\d+)?/.exec(this.userAgent);return void 0!=i&&i.length>=4?(this.browser_={name:o.safari,version:r(i)},this.browser_):/AppleWebKit.*Mobile/.test(this.userAgent)?(this.browser_={name:o.iosWebView,version:{major:0,minor:0,build:0,revision:0}},this.browser_):(this.browser_={name:o.unknown,version:r(null)},this.browser_)}if(this.isAndroid){var e=/Chrome\/(\d+)\.(\d+)\.(\d+)\.(\d+)/.exec(this.userAgent);if(void 0!=e&&e.length>=5)return this.browser_={name:o.chrome,version:r(e)},this.browser_;var t=/Firefox\/(\d+)\.(\d+)/.exec(this.userAgent);if(void 0!=t&&t.length>=3)return this.browser_={name:o.firefox,version:r(t)},this.browser_;var a=/Version\/(\d+)\.(\d+)\.(\d+)/.exec(this.userAgent);return!/Opera/.test(this.userAgent)&&void 0!=a&&a.length>=3?(this.browser_={name:o.browser,version:r(a)},this.browser_):(this.browser_={name:o.unknown,version:r(null)},this.browser_)}return this.browser_={name:o.unknown,version:r(null)},this.browser_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPc",{get:function(){return void 0==this.isPc_&&(this.isPc_=this.isWindows||this.isMacOs||this.isLinux),this.isPc_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSp",{get:function(){return void 0==this.isSp_&&(this.isSp_=this.isIphone||this.isIpod||this.isAndroid&&/Mobile/.test(this.userAgent)),this.isSp_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTablet",{get:function(){return void 0==this.isTablet_&&(this.isTablet_=this.isIpad||this.isAndroid&&!/Mobile/.test(this.userAgent)),this.isTablet_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWebView",{get:function(){if(void 0==this.isWebView_){if(this.isAndroid&&/\swv\).*Chrome/.test(this.userAgent))return this.isWebView_=!0,this.isWebView_;if(this.isIos)return this.isWebView_=this.isFacebook||this.isLine||this.isTwitter,this.isWebView_||(this.isWebView_=this.browser.name===o.gsa),this.isWebView_;this.isWebView_=!1}return this.isWebView_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isIos",{get:function(){return void 0==this.isIos_&&(this.isIos_=this.isIphone||this.isIpad||this.isIpod),this.isIos_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return void 0==this.isAndroid_&&(this.isAndroid_=/Android/.test(this.userAgent)),this.isAndroid_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMacOs",{get:function(){return void 0==this.isMacOs_&&(this.isMacOs_=!(this.isIphone||this.isIpad||this.isIpod)&&/Macintosh/.test(this.userAgent)),this.isMacOs_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWindows",{get:function(){return void 0==this.isWindows_&&(this.isWindows_=/Windows\sNT/.test(this.userAgent)),this.isWindows_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLinux",{get:function(){return void 0==this.isLinux_&&(this.isLinux_=/Ubuntu|Linux Mint|Fedora|Gentoo|FreeBSD|OpenBSD|NetBSD/.test(this.userAgent)),this.isLinux_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isIphone",{get:function(){return void 0==this.isIphone_&&(this.isIphone_=/iPhone/.test(this.userAgent)),this.isIphone_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isIpad",{get:function(){return void 0==this.isIpad_&&(this.isIpad_=/iPad/.test(this.userAgent)),this.isIpad_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isIpod",{get:function(){return void 0==this.isIpod_&&(this.isIpod_=/iPod/.test(this.userAgent)),this.isIpod_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFacebook",{get:function(){if(void 0==this.facebook_.isFacebook){var e=/FBAV\/(\d+)\.(\d+)\.(\d+)\.(\d+)\.(\d+)/.exec(this.userAgent);void 0!=e&&e.length>=6?(this.facebook_.isFacebook=!0,this.facebook_.version={major:parseInt(e[1],10),minor:parseInt(e[2],10),build:parseInt(e[3],10),revision:parseInt(e[4],10),patch:parseInt(e[5],10)}):this.facebook_.isFacebook=!1}return this.facebook_.isFacebook},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"facebookVersion",{get:function(){if(this.isFacebook)return this.facebook_.version;throw new Error("`facebookVersion` was called, but it is not the environment of Facebook Application.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLine",{get:function(){if(void 0==this.line_.isLine){var e=/Line\/(\d+)\.(\d+)\.(\d+)/.exec(this.userAgent);void 0!=e&&e.length>=4?(this.line_.isLine=!0,this.line_.version=r(e)):this.line_.isLine=!1}return this.line_.isLine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineVersion",{get:function(){if(this.isLine)return this.line_.version;throw new Error("`lineVersion` was called, but it is not the environment of Line Application.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTwitter",{get:function(){return void 0==this.isTwitter_&&(this.isTwitter_=/Twitter/.test(this.userAgent)),this.isTwitter_},enumerable:!0,configurable:!0}),e}();t.UserAgent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.tracking={"":[{url:""}]}}return e}();t.VastEntity=r},function(e,t,n){"use strict";function r(e){var t=e.split(":").map(function(e){return parseInt(e,10)});return 3600*t[0]+60*t[1]+t[2]}function i(e){if(void 0==e)return 0;var t=e.split(".");return 2===t.length?r(t[0])+parseInt(t[1],10)/1e3:r(t[0])}function o(e){var t=function(e){return("0"+e).substr(-2)},n=t(Math.floor(e/3600));e%=3600;var r=t(Math.floor(e/60));e%=60;var i=Math.floor(e%1*1e3).toString();return n+":"+r+":"+t(Math.floor(e))+"."+i}Object.defineProperty(t,"__esModule",{value:!0}),t.parseSeconds=i,t.toISOString=o},function(e,t,n){"use strict";function r(e){return(new DOMParser).parseFromString(e,"text/xml").documentElement}function i(e,t){var n=e.getAttribute(t);return void 0!=n?n:""}function o(e){return void 0==e||void 0==e.textContent?"":e.textContent.replace(/^(\s|\t|\n\r?)*|(\s|\t|\n\r?)*$/g,"")}function a(e){return void 0==e?[]:Array.prototype.slice.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.textToXML=r,t.parseAttr=i,t.parseNodeText=o,t.nodesToArray=a},function(e,t,n){"use strict";function r(e){console.log("VPAID Method: %c"+e+" %ccalled.","color: green; font-weight: bold","")}function i(e){console.log("VPAID Event: %c"+e+" %ccall.","color: blue; font-weight: bold","")}Object.defineProperty(t,"__esModule",{value:!0}),t.methodLog=r,t.eventLog=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(88)),r(n(89)),r(n(90)),r(n(91))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.DemanderType=r.DemanderType,t.AdNetwork=r.AdNetwork;var i=n(26);t.CDBResponse=i.CDBResponse},function(e,t,n){"use strict";function r(e){if(e.type){if(c.toEnumValue(e.type,u.AdType)===u.AdType.native&&i(e))return void new d.NativeSpot(e).show()}new s.Spot(e).show()}function i(e){if("*"===a.IMPNativeWhiteList)return!0;for(var t=a.IMPNativeWhiteList.split(","),n=0;n<t.length;n++)if(t[n]===e.asid.toString())return!0;return!1}/**
 * @copyright Copyright(c) i-mobile Inc. All Rights Reserved.
 * @license   UNLICENSED
 * @version   1.0.44
 */
Object.defineProperty(t,"__esModule",{value:!0}),n(44),n(55),n(13);var o=n(20),a=n(2),s=n(30),u=n(0),d=n(31),c=n(3);o.setGlobalIncrementCounter(),window.IMobile=window.IMobile||{},window.IMobile.IMP=window.IMobile.IMP||{},void 0==window.IMobile.IMP.showSpot&&(window.IMobile.IMP.showSpot=r),void 0==window.IMobile.IMP.synced&&(window.IMobile.IMP.synced={tapad:!1}),function(e){e.adsbyimobile&&e.adsbyimobile.pop&&e.adsbyimobile.splice(0).forEach(function(e){if("native"!==e.type)return void window.adsbyimobile.push(e);r(e)})}(window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45),i=(n.n(r),n(46)),o=(n.n(i),n(47)),a=(n.n(o),n(48)),s=(n.n(a),n(49)),u=(n.n(s),n(50)),d=(n.n(u),n(51)),c=(n.n(d),n(52)),l=(n.n(c),n(53)),p=(n.n(l),n(54));n.n(p)},function(e,t){Array.prototype.every||(Array.prototype.every=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=arguments[1],i=0;i<n;i++)if(i in t&&!e.call(r,t[i],i,t))return!1;return!0})},function(e,t){Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],i=arguments[1],o=0;o<n;o++)if(o in t){var a=t[o];e.call(i,a,o,t)&&r.push(a)}return r})},function(e,t){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("[object Function]"!={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(n=t),r=0;r<o;){var a;r in i&&(a=i[r],e.call(n,a,r,i)),r++}})},function(e,t){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in t&&t[i]===e)return i;return-1})},function(e,t){Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,i;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=new Array(a),i=0;i<a;){var s,u;i in o&&(s=o[i],u=e.call(n,s,i,o),r[i]=u),i++}return r})},function(e,t){Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null===this||void 0===this)throw new TypeError("Object is null or undefined");var t,n=0,r=this.length>>0;if("function"!=typeof e)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0===r)throw new TypeError("Array length is 0 and no second argument");t=this[0],n=1}else t=arguments[1];for(;n<r;)n in this&&(t=e.call(void 0,t,this[n],n,this)),++n;return t})},function(e,t){Array.prototype.some||(Array.prototype.some=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=arguments[1],i=0;i<n;i++)if(i in t&&e.call(r,t[i],i,t))return!0;return!1})},function(e,t){"function"!=typeof Object.assign&&function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}}()},function(e,t){Object.is||(Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t})},function(e,t){Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)e.call(i,o)&&s.push(o);if(t)for(a=0;a<r;a++)e.call(i,n[a])&&s.push(n[a]);return s}}())},function(e,t,n){"use strict";e.exports=n(56).polyfill()},function(e,t,n){(function(t,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function i(e){H=e}function o(e){q=e}function a(){return void 0!==U?function(){U(u)}:s()}function s(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<L;e+=2){(0,J[e])(J[e+1]),J[e]=void 0,J[e+1]=void 0}L=0}function d(e,t){var n=this,r=new this.constructor(l);void 0===r[Q]&&T(r);var i=n._state;if(i){var o=arguments[i-1];q(function(){return I(i,r,o,n._result)})}else A(n,r,e,t);return r}function c(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(l);return _(n,e),n}function l(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return ee.error=e,ee}}function f(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function v(e,t,n){q(function(e){var r=!1,i=f(n,t,function(n){r||(r=!0,t!==n?_(e,n):b(e,n))},function(t){r||(r=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,S(e,i))},e)}function g(e,t){t._state===Z?b(e,t._result):t._state===$?S(e,t._result):A(t,void 0,function(t){return _(e,t)},function(t){return S(e,t)})}function y(e,t,n){t.constructor===e.constructor&&n===d&&t.constructor.resolve===c?g(e,t):n===ee?(S(e,ee.error),ee.error=null):void 0===n?b(e,t):r(n)?v(e,t,n):b(e,t)}function _(t,n){t===n?S(t,p()):e(n)?y(t,n,m(n)):b(t,n)}function w(e){e._onerror&&e._onerror(e._result),E(e)}function b(e,t){e._state===K&&(e._result=t,e._state=Z,0!==e._subscribers.length&&q(E,e))}function S(e,t){e._state===K&&(e._state=$,e._result=t,q(w,e))}function A(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+Z]=n,i[o+$]=r,0===o&&e._state&&q(E,e)}function E(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?I(n,r,i,o):i(o);e._subscribers.length=0}}function x(e,t){try{return e(t)}catch(e){return ee.error=e,ee}}function I(e,t,n,i){var o=r(n),a=void 0,s=void 0,u=void 0,d=void 0;if(o){if(a=x(n,i),a===ee?(d=!0,s=a.error,a.error=null):u=!0,t===a)return void S(t,h())}else a=i,u=!0;t._state!==K||(o&&u?_(t,a):d?S(t,s):e===Z?b(t,a):e===$&&S(t,a))}function P(e,t){try{t(function(t){_(e,t)},function(t){S(e,t)})}catch(t){S(e,t)}}function O(){return te++}function T(e){e[Q]=te++,e._state=void 0,e._result=void 0,e._subscribers=[]}function k(){return new Error("Array Methods must be provided an Array")}function M(e){return new ne(this,e).promise}function C(e){var t=this;return new t(V(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function N(e){var t=this,n=new t(l);return S(n,e),n}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=re}var j=void 0;j=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var V=j,L=0,U=void 0,H=void 0,q=function(e,t){J[L]=e,J[L+1]=t,2===(L+=2)&&(H?H(u):Y())},W="undefined"!=typeof window?window:void 0,B=W||{},z=B.MutationObserver||B.WebKitMutationObserver,X="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3),Y=void 0;Y=X?function(){return function(){return t.nextTick(u)}}():z?function(){var e=0,t=new z(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():G?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===W?function(){try{var e=Function("return this")().require("vertx");return U=e.runOnLoop||e.runOnContext,a()}catch(e){return s()}}():s();var Q=Math.random().toString(36).substring(2),K=void 0,Z=1,$=2,ee={error:null},te=0,ne=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(l),this.promise[Q]||T(this.promise),V(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&b(this.promise,this._result))):S(this.promise,k())}return e.prototype._enumerate=function(e){for(var t=0;this._state===K&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===c){var i=m(e);if(i===d&&e._state!==K)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===re){var o=new n(l);y(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===K&&(this._remaining--,e===$?S(r,n):this._result[t]=n),0===this._remaining&&b(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;A(e,void 0,function(e){return n._settledAt(Z,t,e)},function(e){return n._settledAt($,t,e)})},e}(),re=function(){function e(t){this[Q]=O(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&R(),this instanceof e?P(this,t):F())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return r(e)?t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return re.prototype.then=d,re.all=M,re.race=C,re.resolve=c,re.reject=N,re._setScheduler=i,re._setAsap=o,re._asap=q,re.polyfill=D,re.Promise=re,re})}).call(t,n(57),n(58))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){f&&h&&(f=!1,h.length?m=h.concat(m):v=-1,m.length&&s())}function s(){if(!f){var e=i(a);f=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,f=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function d(){}var c,l,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var h,m=[],f=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||f||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.prependListener=d,p.prependOnceListener=d,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(33),o=n(61),a=n(62),s=n(63),u=n(8),d=n(2),c=(function(){function e(e,t){this.on=e,this.up=t}}(),function(){function e(){}return e.createXidsynchronizer=function(){return o.createXidSynchronizer({expireMillSec:parseInt(d.XidSyncExpireMillSec,10),suffixAllowOrigin:d.SSPServerXidSyncStorage,xidSyncStorageServer:d.SSPServerXidSyncStorage,xidSyncFrameName:"restoreXidFrame_imp_"})},e.createTimeout=function(){return new a.TimeoutStateManager(s.createMultiStorage(d.CookieDomain,1),e.impStorageKey,1e3*parseInt(d.TimeoutRecoverySec,10))},e.requestJSONP=function(e,t,n,i,o,a,s,u,d){void 0===u&&(u=!1);var c=r.Requester.convertURLParamToString(i),l=r.Requester.getUrl(t,"jsonp/imp/"+n+"?"+c),p=(a||"")+"_imp_callback_"+o.asid+"_"+(o.asn?o.asn:"");e.requestJSONP(l,s,{callbackFunctionId:"imcallback",callbackFunctionName:p},u,d)},e.sendImpAsync=function(e,t,n,i,o,a,s,u,d,c){var l=[];l.push({name:"bidid",value:n}),l.push({name:"demander_type",value:i}),l.push({name:"demander_id",value:o}),a&&l.push({name:"icount",value:a}),void 0!=c&&l.push({name:"hbbc",value:c/100});var p=r.Requester.concatParams(s,l),h=r.Requester.convertURLParamToString(p),m=r.Requester.getUrl(t,"ajax/imp/imp_count.ashx?"+h);e.requestAjax(m,function(e){},!0,!0,null,{timeoutMilliSec:5e3,handler:function(){d.w("imp send imp timeout! type:"+i+", id:"+o)}},function(){d.e("imp send imp error! type:"+i+", id:"+o)})},e.validateParam=function(e){if(!e)throw new Error("require param");if(!e.asid)throw new Error("require asid");if(!e.mid)throw new Error("require mid");if(!e.pid)throw new Error("require pid");if(e.amp&&"boolean"!=typeof e.amp)throw new Error("amp must be boolean");if(e.async&&"boolean"!=typeof e.async)throw new Error("async must be boolean")},e.mustAsync=function(e){return!!e&&(!0===e.amp||!0===e.async)},e.buildupRequestBaseParams=function(e){var t=[];t.push({name:"pid",value:e.pid}),t.push({name:"mid",value:e.mid}),t.push({name:"asid",value:e.asid}),e.asn&&t.push({name:"asn",value:e.asn});var n=i.getMediaSyncedXid();null!=n&&t.push({name:"xid",value:n}),t.push({name:"spec",value:u.AgentUtil.computedClientSpec}),t.push({name:"dpr",value:u.AgentUtil.computedDevicePixelRatio});var r=window.self===window.top,o=!1;if(!r)try{window.top.document}catch(e){o=!0}var a=window.location.href;return o&&(a=window.document.referrer),a=a.replace(/\?.*$/,""),t.push({name:"url",value:a}),t.push({name:"direct",value:+r+""}),t.push({name:"type",value:"native"}),t},e.impStorageKey="imp_rto",e}());t.SpotHelper=c},function(e,t,n){"use strict";function r(e,t){return e<t?-1:e===t?0:1}function i(e,t){return e===t}function o(e){return null===e?"COLLECTION_NULL":u(e)?"COLLECTION_UNDEFINED":d(e)?"$s"+e:"$o"+e.toString()}function a(e,t){if(void 0===t&&(t=","),null===e)return"COLLECTION_NULL";if(u(e))return"COLLECTION_UNDEFINED";if(d(e))return e.toString();var n="{",r=!0;for(var i in e)h(e,i)&&(r?r=!1:n+=t,n=n+i+":"+e[i]);return n+"}"}function s(e){return"function"==typeof e}function u(e){return void 0===e}function d(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return s(e)?function(t,n){return-1*e(t,n)}:function(e,t){return e<t?1:e===t?0:-1}}function l(e){return function(t,n){return 0===e(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.prototype.hasOwnProperty,h=function(e,t){return p.call(e,t)};t.defaultCompare=r,t.defaultEquals=i,t.defaultToString=o,t.makeString=a,t.isFunction=s,t.isUndefined=u,t.isString=d,t.reverseCompareFunction=c,t.compareToEquals=l;var m;!function(e){function t(e,t,n){for(var r=n||i,o=e.length,a=0;a<o;a++)if(r(e[a],t))return a;return-1}function n(e,t,n){for(var r=n||i,o=e.length,a=o-1;a>=0;a--)if(r(e[a],t))return a;return-1}function r(t,n,r){return e.indexOf(t,n,r)>=0}function o(t,n,r){var i=e.indexOf(t,n,r);return!(i<0)&&(t.splice(i,1),!0)}function a(e,t,n){for(var r=n||i,o=e.length,a=0,s=0;s<o;s++)r(e[s],t)&&a++;return a}function s(e,t,n){var r=n||i;if(e.length!==t.length)return!1;for(var o=e.length,a=0;a<o;a++)if(!r(e[a],t[a]))return!1;return!0}function u(e){return e.concat()}function d(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)return!1;var r=e[t];return e[t]=e[n],e[n]=r,!0}function c(e){return"["+e.toString()+"]"}function l(e,t){for(var n=e.length,r=0;r<n;r++)if(!1===t(e[r]))return}e.indexOf=t,e.lastIndexOf=n,e.contains=r,e.remove=o,e.frequency=a,e.equals=s,e.copy=u,e.swap=d,e.toString=c,e.forEach=l}(m=t.arrays||(t.arrays={}));var f=function(){function e(){this.firstNode=null,this.lastNode=null,this.nElements=0}return e.prototype.add=function(e,t){if(u(t)&&(t=this.nElements),t<0||t>this.nElements||u(e))return!1;var n=this.createNode(e);if(0===this.nElements)this.firstNode=n,this.lastNode=n;else if(t===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===t)n.next=this.firstNode,this.firstNode=n;else{var r=this.nodeAtIndex(t-1);n.next=r.next,r.next=n}return this.nElements++,!0},e.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},e.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},e.prototype.elementAtIndex=function(e){var t=this.nodeAtIndex(e);if(null!==t)return t.element},e.prototype.indexOf=function(e,t){var n=t||i;if(u(e))return-1;for(var r=this.firstNode,o=0;null!==r;){if(n(r.element,e))return o;o++,r=r.next}return-1},e.prototype.contains=function(e,t){return this.indexOf(e,t)>=0},e.prototype.remove=function(e,t){var n=t||i;if(this.nElements<1||u(e))return!1;for(var r=null,o=this.firstNode;null!==o;){if(n(o.element,e))return o===this.firstNode?(this.firstNode=this.firstNode.next,o===this.lastNode&&(this.lastNode=null)):o===this.lastNode?(this.lastNode=r,r.next=o.next,o.next=null):(r.next=o.next,o.next=null),this.nElements--,!0;r=o,o=o.next}return!1},e.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},e.prototype.equals=function(t,n){var r=n||i;return t instanceof e&&(this.size()===t.size()&&this.equalsAux(this.firstNode,t.firstNode,r))},e.prototype.equalsAux=function(e,t,n){for(;null!==e;){if(!n(e.element,t.element))return!1;e=e.next,t=t.next}return!0},e.prototype.removeElementAtIndex=function(e){if(!(e<0||e>=this.nElements)){var t;if(1===this.nElements)t=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(e-1);null===n?(t=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(t=this.lastNode.element,this.lastNode=n),null!==n&&(t=n.next.element,n.next=n.next.next)}return this.nElements--,t}},e.prototype.forEach=function(e){for(var t=this.firstNode;null!==t&&!1!==e(t.element);)t=t.next},e.prototype.reverse=function(){for(var e=null,t=this.firstNode,n=null;null!==t;)n=t.next,t.next=e,e=t,t=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},e.prototype.toArray=function(){for(var e=[],t=this.firstNode;null!==t;)e.push(t.element),t=t.next;return e},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){return m.toString(this.toArray())},e.prototype.nodeAtIndex=function(e){if(e<0||e>=this.nElements)return null;if(e===this.nElements-1)return this.lastNode;for(var t=this.firstNode,n=0;n<e;n++)t=t.next;return t},e.prototype.createNode=function(e){return{element:e,next:null}},e}();t.LinkedList=f;var v=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||o}return e.prototype.getByKey=function(e){var t=this.table["$"+this.toStr(e)];if(!u(t))return t.value},e.prototype.add=function(e,t){if(!u(e)&&!u(t)){var n,r="$"+this.toStr(e),i=this.table[r];return u(i)?(this.nElements++,n=void 0):n=i.value,this.table[r]={key:e,value:t},n}},e.prototype.remove=function(e){var t="$"+this.toStr(e),n=this.table[t];if(!u(n))return delete this.table[t],this.nElements--,n.value},e.prototype.keys=function(){var e=[];for(var t in this.table)if(h(this.table,t)){var n=this.table[t];e.push(n.key)}return e},e.prototype.values=function(){var e=[];for(var t in this.table)if(h(this.table,t)){var n=this.table[t];e.push(n.value)}return e},e.prototype.forEach=function(e){for(var t in this.table)if(h(this.table,t)){var n=this.table[t],r=e(n.key,n.value);if(!1===r)return}},e.prototype.containsKey=function(e){return!u(this.getByKey(e))},e.prototype.clear=function(){this.table={},this.nElements=0},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return this.nElements<=0},e.prototype.toString=function(){var e="{";return this.forEach(function(t,n){e=e+"\n\t"+t.toString()+" : "+n.toString()}),e+"\n}"},e}();t.Dictionary=v;var g=function(){function e(){this.list=new f}return e.prototype.push=function(e){return this.list.add(e,0)},e.prototype.add=function(e){return this.list.add(e,0)},e.prototype.pop=function(){return this.list.removeElementAtIndex(0)},e.prototype.peek=function(){return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.isEmpty()},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();t.Stack=g;var y=function(){function e(){this.list=new f}return e.prototype.enqueue=function(e){return this.list.add(e)},e.prototype.add=function(e){return this.list.add(e)},e.prototype.dequeue=function(){if(0!==this.list.size()){var e=this.list.first();return this.list.removeElementAtIndex(0),e}},e.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},e.prototype.size=function(){return this.list.size()},e.prototype.contains=function(e,t){return this.list.contains(e,t)},e.prototype.isEmpty=function(){return this.list.size()<=0},e.prototype.clear=function(){this.list.clear()},e.prototype.forEach=function(e){this.list.forEach(e)},e}();t.Queue=y;var _=function(){function e(e){this.dictionary=new v(e)}return e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.add=function(e){return!this.contains(e)&&!u(e)&&(this.dictionary.add(e,e),!0)},e.prototype.intersection=function(e){var t=this;this.forEach(function(n){return e.contains(n)||t.remove(n),!0})},e.prototype.union=function(e){var t=this;e.forEach(function(e){return t.add(e),!0})},e.prototype.difference=function(e){var t=this;e.forEach(function(e){return t.remove(e),!0})},e.prototype.isSubsetOf=function(e){if(this.size()>e.size())return!1;var t=!0;return this.forEach(function(n){return!!e.contains(n)||(t=!1,!1)}),t},e.prototype.remove=function(e){return!!this.contains(e)&&(this.dictionary.remove(e),!0)},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){return e(n)})},e.prototype.toArray=function(){return this.dictionary.values()},e.prototype.isEmpty=function(){return this.dictionary.isEmpty()},e.prototype.size=function(){return this.dictionary.size()},e.prototype.clear=function(){this.dictionary.clear()},e.prototype.toString=function(){return m.toString(this.toArray())},e}();t.HashSet=_;var w=function(){function e(e){this.toStrF=e||o,this.dictionary=new v(this.toStrF),this.nElements=0}return e.prototype.add=function(e,t){if(void 0===t&&(t=1),u(e)||t<=0)return!1;if(this.contains(e))this.dictionary.getByKey(e).copies+=t;else{var n={value:e,copies:t};this.dictionary.add(e,n)}return this.nElements+=t,!0},e.prototype.count=function(e){return this.contains(e)?this.dictionary.getByKey(e).copies:0},e.prototype.contains=function(e){return this.dictionary.containsKey(e)},e.prototype.remove=function(e,t){if(void 0===t&&(t=1),u(e)||t<=0)return!1;if(this.contains(e)){var n=this.dictionary.getByKey(e);return t>n.copies?this.nElements-=n.copies:this.nElements-=t,n.copies-=t,n.copies<=0&&this.dictionary.remove(e),!0}return!1},e.prototype.toArray=function(){for(var e=[],t=this.dictionary.values(),n=t.length,r=0;r<n;r++)for(var i=t[r],o=i.value,a=i.copies,s=0;s<a;s++)e.push(o);return e},e.prototype.toHashSet=function(){for(var t=new e(this.toStrF),n=this.dictionary.values(),r=n.length,i=0;i<r;i++){var o=n[i].value;t.add(o)}return t},e.prototype.forEach=function(e){this.dictionary.forEach(function(t,n){for(var r=n.value,i=n.copies,o=0;o<i;o++)if(!1===e(r))return!1;return!0})},e.prototype.size=function(){return this.nElements},e.prototype.isEmpty=function(){return 0===this.nElements},e.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},e}();t.List=w},function(e,t,n){"use strict";function r(e){return new a(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=function(){function e(){this.xidSyncFrameName="imp_xidSyncFrame"}return e}();t.XidSynchronizerOption=o;var a=function(){function e(e){this.option=e,this.needSyncToMediaUserFunc=function(){return!1},this.synced=!1}return e.incrementFrameNumber=function(){return++e.frameNumber},e.prototype.startSync=function(){var t=this;if(!this.canSync())return void(this.canNotSyncFunc&&this.canNotSyncFunc());if(!this.needSyncToMedia()&&this.needSyncToMediaUserFunc&&!this.needSyncToMediaUserFunc()){var n=i.getXidObjFromMediaStorage();return void(this.syncedFunc&&this.syncedFunc(n))}this.synced||(this.synced=!0,window.addEventListener?(window.addEventListener("message",function(n){if(e.isRightOrigin(n.origin,t.option.suffixAllowOrigin)){var r=i.getXidObjFromXidStorage(n.data);t.setXidToMediaStorage(r),t.syncedFunc&&t.syncedFunc(r)}},!1),window.addEventListener("load",function(){t.appendRestoreFrame()},!1)):(window.attachEvent("onmessage",function(n){if(e.isRightOrigin(n.origin,t.option.suffixAllowOrigin)){var r=i.getXidObjFromXidStorage(n.data);t.setXidToMediaStorage(r),t.syncedFunc&&t.syncedFunc(r)}}),window.attachEvent("onload",function(){t.appendRestoreFrame()})))},e.prototype.getMediaSyncedXid=function(){return i.getMediaSyncedXid()},e.isRightOrigin=function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n},e.prototype.canSync=function(){try{return!(!window.localStorage||!window.postMessage)}catch(e){return!1}},e.prototype.needSyncToMedia=function(){var e=i.getXidObjFromMediaStorage();return null==e||this.expireXid(e)},e.prototype.setXidToMediaStorage=function(e){try{var t=!1;e&&e.xid&&""!==e.xid&&(t=!0);var n=!1;e&&(!0!==e.optout&&"true"!=e.optout||(n=!0));var r=0==t&&null==i.getXidObjFromMediaStorage()?-1:(new Date).getTime(),o={xid:t&&!n?e.xid:"",synced:t,lastSyncTime:r,optout:n};window.localStorage.setItem("imobile_xid",i.getXidTextFromMediaStorage(o))}catch(e){}},e.prototype.expireXid=function(e){if(!e)return!0;var t=e.lastSyncTime+this.option.expireMillSec;return!t||t<(new Date).getTime()},e.prototype.appendRestoreFrame=function(){var t="https://"+this.option.xidSyncStorageServer+"/RestoreXidToMediaStorage.html",n=document.createElement("iframe");n.src=t,n.name=this.option.xidSyncFrameName+e.incrementFrameNumber(),n.style&&(n.style.visibility="hidden",n.style.padding="0",n.style.display="none"),n.setAttribute("frameBorder","0"),n.setAttribute("scrolling","no"),n.setAttribute("width","0"),n.setAttribute("height","0"),n.setAttribute("marginwidth","0"),n.setAttribute("marginheight","0"),n.setAttribute("vspace","0"),n.setAttribute("hspace","0"),document.body.appendChild(n)},e.frameNumber=0,e}();t.XidSynchronizer=a,t.createXidSynchronizer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=function(){function e(e,t,n){this.storage=e,this.storageKey=t,this.spanMillSec=n,this.jsonConverver=r.createSimpleJSON()}return e.prototype.tryCancelTimeout=function(){var t=this.getTimetouState();t&&e.expired(t,this.spanMillSec)&&this.updateTimeoutState(!1)},e.prototype.setOnTimeout=function(){this.updateTimeoutState(!0)},e.prototype.duringTimeout=function(){var e=this.getTimetouState();return!!e&&e.on},e.prototype.updateTimeoutState=function(e){var t=this.getTimetouState();t||(t={}),e?(t.on=!0,t.up=(new Date).getTime()):(t.on=!1,t.up=0),this.setTimetouState(t)},e.expired=function(e,t){if(!e.up)return!1;var n=e.up;return!n||n+t<(new Date).getTime()},e.prototype.getTimetouState=function(){var e=this.storage.getItem(this.storageKey);return e?this.jsonConverver.toObj(e):null},e.prototype.setTimetouState=function(e){if(e){var t=this.jsonConverver.toText(e);this.storage.setItem(this.storageKey,t)}},e}();t.TimeoutStateManager=i},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=!0),new i(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){if(void 0===n&&(n=!0),this.storages=[],n){navigator.cookieEnabled&&this.storages.push(new o(e,t));try{"localStorage"in window&&this.storages.push(new a)}catch(e){}}else{try{"localStorage"in window&&this.storages.push(new a)}catch(e){}navigator.cookieEnabled&&this.storages.push(new o(e,t))}this.storageLength=this.storages.length}return e.prototype.getStorageName=function(){return e._name},e.prototype.getItem=function(e){if(0==this.validItem(e))return null;for(var t=0;t<this.storageLength;t++){var n=this.storages[t].getItem(e);if(null!=n)return n}return null},e.prototype.getAll=function(e){if(0==this.validItem(e))return null;for(var t=[],n=0;n<this.storageLength;n++){var r=this.storages[n].getItem(e);null!=r&&t.push(r)}return t},e.prototype.setItem=function(e,t){if(0!=this.validItem(e)&&0!=this.validItem(t))for(var n=0;n<this.storageLength;n++)this.storages[n].setItem(e,t)},e.prototype.removeItem=function(e){if(0!=this.validItem(e))for(var t=0;t<this.storageLength;t++)this.storages[t].removeItem(e)},e.prototype.supportList=function(){for(var e="__im__"+100*Math.random(),t=[],n=0;n<this.storageLength;n++)this.storages[n].setItem(e,"1"),null!=this.storages[n].getItem(e)&&(t.push(this.storages[n].getStorageName()),this.storages[n].removeItem(e));return t},e.prototype.available=function(){return this.supportList().length>0},e.prototype.availableSomeFunction=function(e){for(var t=this.supportList(),n=0;n<t.length;n++)if(t==e)return!0;return!1},e.prototype.availableLocalStorage=function(){return this.availableSomeFunction("local storage")},e.prototype.availableCookie=function(){return this.availableSomeFunction("cookie storage")},e.prototype.validItem=function(e){return"string"==typeof e},e._name="multi storage",e}(),o=function(){function e(e,t){this.domain=e,this.expire=t}return e.prototype.getStorageName=function(){return e._name},e.prototype.getItem=function(e){try{return this.getCookie(e)}catch(e){return null}},e.prototype.setItem=function(e,t){try{this.setCookie(e,t,this.expire,this.domain)}catch(e){}},e.prototype.removeItem=function(e){this.setCookie(e,"",-1)},e.prototype.setCookie=function(e,t,n,r){if(void 0===r&&(r=null),!window.navigator.cookieEnabled)return null;var i=n||this.expire,o=r||this.domain,a=new Date;a.setDate(a.getDate()+i),window.document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),";expires="+a.toUTCString(),"; path=/","; domain="+o].join("")},e.prototype.getCookie=function(e){if(window.navigator.cookieEnabled){var t=void 0;return(t=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?decodeURIComponent(t[1]):null}return null},e._name="cookie storage",e}(),a=function(){function e(){}return e.prototype.getStorageName=function(){return e._name},e.prototype.getItem=function(e){try{return window.localStorage.getItem(e)}catch(e){return null}},e.prototype.setItem=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){}},e.prototype.removeItem=function(e){try{window.localStorage.removeItem(e)}catch(e){}},e._name="local storage",e}();t.createMultiStorage=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65),i=n(66),o=n(108),a=n(0),s=n(113);n(17);n(115);var u=function(){function e(e,t,n,r,i){if(this.param=e,this.response=t,this.oncomplete=n,this.onerror=r,this.logger=i,this.state={currentDemanderIndex:0,displayed_slot_count:0,initError:!1,manage_slot_count:t.result.slot_count,succeed_executors:[]},0===t.result.demander.length)return this.state.initError=!0,void r("imp not found demander spot:"+this.param.asid);if(!0===this.param.amp&&(t.result.target_element="#c"),this.target_element=this.findUnusedTargetElement(this.param.override_target_element||t.result.target_element),!this.target_element)return this.state.initError=!0,void r("imp not found target element:"+(this.param.override_target_element||t.result.target_element)+" spot:"+this.param.asid);if(this.param.override_target_element&&0==t.result.target_element.indexOf("#")){var o=t.result.target_element.slice(1);this.target_element.id!=o&&(this.target_element.id=o)}if(this.response.result.template||this.logger.w("imp not found server template spot:"+this.param.asid),this.response.result.slot_count>1){for(var s=!1,u=0;u<t.result.demander.length;u++)t.result.demander[u].content_type===a.DemanderContentType.tag&&(s=!0);s&&this.logger.w("warning multi slot mode exist tag spot:"+this.param.asid)}}return e.prototype.findUnusedTargetElement=function(e){try{for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)if(0==t[n].hasAttribute("im-reserved-rendering"))return t[n].setAttribute("im-reserved-rendering","used"),t[n];return t.length>0&&this.logger.w("all target_element reserved spot:"+this.param.asid),null}catch(t){return this.logger.w("find target_element error spot:"+this.param.asid+" msg:"+t),document.querySelector(e)}},e.prototype.execute=function(){this.state.initError||this.executeInner()},e.prototype.executeInner=function(){var e=this;try{if(this.state.currentDemanderIndex>=this.response.result.demander.length)return this.terminateDemander(),void(0===this.state.displayed_slot_count&&s.enablePassback(this.response)&&(this.target_element.removeAttribute("im-reserved-rendering"),s.executePassback(this.response,this.param,this.logger)));if(this.state.displayed_slot_count>=this.state.manage_slot_count)return void this.terminateDemander();var t=this.getCurrentDemander(),n=this.createNativeDemanderExecutor(t);if(!n)return void this.nextDemander();if(!n.canExecute())return this.logger.w("imp not found target demander:"+t.type+" id:"+t.id+" spot:"+this.param.asid),void this.nextDemander();var i=this.state.manage_slot_count-this.state.displayed_slot_count;n.execute(i,function(i,o,a){var s=function(){try{var s=new r.NativeDemanderRenderer;n.render(o,s,a),n.renderComplete(function(r){e.logger.i("complete:"+i.type+" id:"+i.id+" render_type:"+a+" disp_count:"+r),e.state.succeed_executors.push(n),e.oncomplete(t,n,r),e.state.displayed_slot_count+=r,e.nextDemander()},1e4,function(t,n){e.logger.w("type:"+t.type+" id:"+t.id+" spot:"+e.param.asid+" errorType:"+n.code+" errorMessage:"+n.message),e.nextDemander()})}catch(t){return e.logger.e("unknown error spot:"+e.param.asid+" msg:"+t),void e.nextDemander()}};s()},function(t,n){e.logger.w("type:"+t.type+" id:"+t.id+" spot:"+e.param.asid+" errorType:"+n.code+" errorMessage:"+n.message),n.baidu_result&&(e.response.result.baidu_result=n.baidu_result),e.nextDemander()})}catch(e){return this.logger.e("unknown error spot:"+this.param.asid+" msg:"+e),void this.nextDemander()}},e.prototype.getCurrentDemander=function(){return this.response.result.demander[this.state.currentDemanderIndex]},e.prototype.nextDemander=function(){this.state.currentDemanderIndex++,this.executeInner()},e.prototype.terminateDemander=function(){for(var e=0;e<this.state.succeed_executors.length;e++)this.state.succeed_executors[e].terminate()},e.prototype.createNativeDemanderExecutor=function(e){if(e.type===a.DemanderType.adnetwork){if(e.content_type===a.DemanderContentType.tag)return e.id===a.AdNetwork.IMobile?new i.IMobileTagMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger):e.id===a.AdNetwork.YDN?new i.YdnMultiSlotExecutor(this.target_element,e):e.id===a.AdNetwork.AfiO?new i.AfiOMultiSlotExecutor(this.target_element,e):e.id===a.AdNetwork.GoogleAdSenseMcm?new i.GoogleAdSenseMcmMultiSlotExecutor(this.param,this.target_element,e):e.id===a.AdNetwork.Nend?new i.NendTagSlotExecutor(this.param,this.target_element,e,this.response.result):e.id===a.AdNetwork.AMoAd?new i.AMoAdMultiSlotExecutor(this.param,this.target_element,e,this.response.result):e.id===a.AdNetwork.UpDate?new i.UpDateMultiSlotExecutor(this.param,this.target_element,e,this.response.result):new i.AdnetworkTagMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.content_type===a.DemanderContentType.api){if(e.id===a.AdNetwork.Popin)return new i.PopinMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.AdNetwork.Gunosy)return new i.GunosyMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.AdNetwork.Logly)return new i.LoglyMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.AdNetwork.IMobile)return new i.IMobileApiMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.AdNetwork.CDB)return new i.CDBMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.AdNetwork.ADroute)return new i.ADrouteMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.AdNetwork.Nend)return new i.NendMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.AdNetwork.AkaNe)return new i.AkaNeMultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.AdNetwork.Fam8)return new i.Fam8MultiSlotExecutor(this.param,this.target_element,e,this.response.result,this.logger)}}if(e.type===a.DemanderType.dsp&&e.content_type===a.DemanderContentType.api){if(e.id===a.DSPIdentifer.CADynalystForSP)return new o.CADynalystExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.DSPIdentifer.FreakOutForPC||e.id===a.DSPIdentifer.FreakOutForSP)return new o.FreakOutExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.DSPIdentifer.Criteo)return new o.CriteoExecutor(this.param,this.target_element,e,this.response.result,this.logger);if(e.id===a.DSPIdentifer.Unicorn)return new o.UnicornExecutor(this.param,this.target_element,e,this.response.result,this.logger)}return this.logger.w("imp not found target demander:"+e.type+" id:"+e.id+" spot:"+this.param.asid),null},e}();t.NativeDemanderMultiSlotManager=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){}return e.prototype.replace_template=function(t,n,r,i,o,a){return e.replaseTemplate(t,n,r,i,a)},e.prototype.render=function(t,n,r,i,o){e.render(t,n.result_tag,r,i,o)},e.prototype.append_separator=function(t,n,i){e.render(t,i.separator,n,i,r.AdnetworkRenderingType.DOMFromFragment)},e.replaseTemplate=function(t,n,r,i,o){return e.replaceTemplateInner(t,r,i,o,!0)},e.replaceTemplateInner=function(t,n,r,i,o){var a=r;if(!a)return null;for(var s in t)if(e.canTruncate(s))for(var u,d=new RegExp("{{"+s+"(?::([1-9][0-9]*))?}}","g"),c=a;null!=(u=d.exec(c));){var l=null!=u[1]&&""!=u[1]?Number(u[1]):e.getDefaultMaxLength(s);a=a.replace(u[0],e.truncateWithEllipsis(t[s],l))}else a=a.replace(new RegExp("{{"+s+"}}","g"),t[s]);return o&&(a=a.replace(/{{[!-~]+}}/g,function(e){return""})),i&&(a+=n.separator),a},e.canTruncate=function(e){return"title"===e||"description"===e||"sponsored"===e},e.getDefaultMaxLength=function(e){switch(e){case"title":return 12;case"description":return 35;case"sponsored":return 30;default:return 0}},e.truncateWithEllipsis=function(e,t,n){return void 0===n&&(n="..."),e.length>t?e.substr(0,t)+n:e},e.render=function(t,n,i,o,a){switch(a){case r.AdnetworkRenderingType.InnerHTML:t.innerHTML+=n;break;case r.AdnetworkRenderingType.IFrame:e.renderIFrame(t,n,i,o);break;case r.AdnetworkRenderingType.DOMFromFragment:e.renderDomFromFragment(t,n,i,o);break;case r.AdnetworkRenderingType.DocumentWrite:document.write(n)}},e.renderIFrame=function(e,t,n,r){var i=document.createElement("iframe");i.id="imp_nativeframe_"+n.asn,i.style.width=r.widht+"px",i.style.height=r.height+"px",i.style.padding="0px",i.style.margin="0px",i.style.border="0px",i.frameBorder="no",i.scrolling="no";var o="";if(e.cloneNode){var a=e.cloneNode(!1);o=a.outerHTML}else o=e.outerHTML;var s=!1,u=function(e){if(!s){i.addEventListener?i.removeEventListener("load",u,!1):i.attachEvent&&i.detachEvent("onload",u),s=!0;var n=i.contentDocument?i.contentDocument:i.contentWindow.document;n.open(),n.write("<body>"+o+t+"</body>"),n.body.style.padding="0px",n.body.style.margin="0px",n.close(),setTimeout(function(){try{n&&n.body&&n.body.scrollHeight&&n.body.scrollHeight>0&&n.body.scrollWidth&&n.body.scrollWidth>0&&(i.style.height=n.body.scrollHeight+"px",i.style.width=n.body.scrollWidth+"px")}catch(e){}},500)}};s||(i.addEventListener?i.addEventListener("load",u,!1):i.attachEvent&&i.attachEvent("onload",u),e.appendChild(i))},e.renderDomFromFragment=function(e,t,n,r){var i=document.createDocumentFragment(),o=i.appendChild(document.createElement("div"));o.innerHTML=t;for(var a=document.createDocumentFragment(),s=0;s<o.childNodes.length;s++){var u=o.childNodes[s].cloneNode(!0);if(u.tagName&&"script"===u.tagName.toLowerCase()){var d=document.createElement("script"),c=u;c.type&&(d.type=c.type),c.src?d.src=c.src:d.text=c.text,a.appendChild(d)}else a.appendChild(u)}e.appendChild(a)},e}();t.NativeDemanderRenderer=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(26)),r(n(71)),r(n(72)),r(n(94)),r(n(95)),r(n(96)),r(n(97)),r(n(98)),r(n(99)),r(n(100)),r(n(101)),r(n(102)),r(n(103)),r(n(104)),r(n(105)),r(n(106)),r(n(107))},function(e,t,n){"use strict";function r(e,t){return a(this,void 0,void 0,function(){var n,r,a;return s(this,function(s){switch(s.label){case 0:return null==(n=function(){var e=t.result.demander.filter(function(e){return e.type===u.DemanderType.adnetwork&&e.id===u.AdNetwork.CDB});return e.length>=1?e[0]:null}())?(window.IMobile.IMP.logger.e("API response isn't contained demander id. id: "+u.AdNetwork.CDB),[2,null]):(r=null,t.result.webview?[4,o(e,t,n)]:[3,2]);case 1:return r=s.sent(),[3,4];case 2:return[4,i(e,t,n)];case 3:r=s.sent(),s.label=4;case 4:return null==r?[2,null]:(a=100*r.cpm,[2,Object.assign(n,{s:a,result:r})])}})})}function i(e,t,n){var r=window.IMobile.IMP.logger,i=+n.api_params.zoneid;if(isNaN(i))return r.e(function(t){return t+" demander id: "+u.AdNetwork.CDB+" spot: "+e.asid}("api param zoneid is invalid value: "+n.api_params.zoneid)),null;var o=t.result.target_element,a={placements:[{slotid:o+(y.indexOf(o)<0?"":g++),zoneid:i,nativeCallback:function(){}}]};return y.push(o),new Promise(function(e,t){var n=function(){var t=window.Criteo.GetBidsForAdUnit(a.placements[0].slotid);e(h.CDBResponse.fromWeb(t))};if(window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[],window.Criteo.events.push(function(){window.Criteo.RequestBids(a,n,v)}),"function"!=typeof window.Criteo.RequestBids||"function"!=typeof window.Criteo.GetBidsForAdUnit){var r=document.createElement("script");r.src=d.protocol+m,r.type="text/javascript",r.onerror=function(){return t(new Error("To read the script failed."))},document.head.appendChild(r)}}).catch(function(e){return r.e(e.message),null})}function o(e,t,n){return a(this,void 0,void 0,function(){var r,i,o,a,d,m,_,w,b,S,A,E,x,I;return s(this,function(s){switch(s.label){case 0:return r=function(t){return t+" demander id: "+u.AdNetwork.CDB+" spot: "+e.asid},(i=window.IMobile.IMP.logger,(o=e.dvid)&&""!=o)?(a=n.api_params,d=+a.zoneid,isNaN(d)?(i.e(r("api param zoneid is invalid value: "+a.zoneid)),[2,null]):(m=a.bundleid)&&""!=m&&(_=a.publisherid)&&""!=_?a.overrideTemplate?(w=c.AgentUtil.isiphone()?{deviceid:o,deviceos:h.DeviceOs.IOs,deviceidtype:h.DeviceIdTypes.IDFA}:{deviceid:o,deviceos:h.DeviceOs.Android,deviceidtype:h.DeviceIdTypes.GAID},b=t.result.target_element,S={impid:b+(y.indexOf(b)<0?"":g++),zoneid:d,native:!0},y.push(b),A={bundleid:m,publisherid:_},E=l.createSimpleJSON(),[4,p.http(f,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:E.toText({publisher:A,user:w,slots:[S]}),timeout:v,credentials:!0}).catch(function(e){return"No Content"===e.message?window.IMobile.IMP.logger.w("type: "+n.type+" id: "+n.id+" spot: "+t.result.spotId+" errorMsg: "+e.message):window.IMobile.IMP.logger.e(e.message),null})]):(i.e(r("Not found api params [overrideTemplate].")),[2,null]):(i.e(r("Not found api params [bundleid].")),[2,null])):(i.e(r("WebView don't have IFA.")),[2,null]);case 1:return null==(x=s.sent())?[2,null]:(I=E.toObj(x),[2,h.CDBResponse.fromApp(I)])}})})}var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),d=n(27),c=n(8),l=n(11),p=n(27);n(68);var h=n(34),m="static.criteo.net/js/ld/publishertag.js",f="bidder.criteo.com/cdb?profileId=198",v=2e3,g=0,y=[];t.requestCDB=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(0),a=n(4),s=n(11),u=n(5),d=n(70),c=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.cdbResponse=n,this.api_response=r,this.logger=i,this.impression_json=s.createSimpleJSON()}return e.prototype.canExecute=function(){return!0},e.prototype.convertAdvertisement=function(e,t,n){var o={title:n.product.title,description:n.product.description,click_url:n.product.click_url,image_url:n.product.image.url,sponsored:n.advertiser.description,imp_url:"",adv_domain_url:a.Requester.adjustSecureSchemeUrl(n.advertiser.logo_click_url),adv_domain:n.advertiser.domain,optout_url:a.Requester.adjustSecureSchemeUrl(n.privacy.optout_click_url),optout_image_url:a.Requester.adjustSecureSchemeUrl(n.privacy.optout_image_url),price:n.product.price};return r.NativeDemanderHelper.adjustSecureSchemeUrl(o),o.imp_url=this.impression_json.toText(n.impression_pixels),i.RendererHelper.overrideSponsored(o,this.cdbResponse),this._imageSrcUrl=o.image_url,o},e.prototype.execute=function(e,t,n){this.remaining_slot_count=e;var r=this.cdbResponse.result,i=r.native;if(void 0===i)return void n(this.cdbResponse,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});var a=i.products;if(0===a.length)return void n(this.cdbResponse,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});if(0===i.impression_pixels.length)return void n(this.cdbResponse,{code:o.AdnetworkAPIResponseErrorType.Other,message:"adnw not found impurl!"});for(var s=[],d=0;d<a.length;d++)s.push(this.convertAdvertisement(this.param,this.api_response,{product:a[d],advertiser:i.advertiser,impression_pixels:i.impression_pixels,privacy:i.privacy}));t(this.cdbResponse,u.shuffleArray(s),o.AdnetworkRenderingType.DOMFromFragment)},e.prototype.render=function(e,t,n){for(var o=Math.min(this.remaining_slot_count,e.length),s=0;s<o;s++){var u=e[s],d=r.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,s+1,this.api_response.separator);u.result_tag=t.replace_template(u,this.param,this.api_response,this.get_fixTemplate(),n,d),t.render(this.target_element,u,this.param,this.api_response,n)}if(e.length>0)for(var c=this.impression_json.toObj(e[0].imp_url),l=0;l<c.length;l++)i.RendererHelper.appendImpImageTag(a.Requester.adjustSecureSchemeUrl(c[l].url),this.target_element);this.displayed_count=o},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.cdbResponse.api_params.overrideTemplate},e.prototype.terminate=function(){window.setTimeout(d.makeCriteoImageResizer(this._imageSrcUrl),d.CRITEO_CREATIVE_DELAY)},e}();t.CDBMultiSlotExecutor=c},function(e,t,n){"use strict";function r(e){var t=this,n=document.querySelector('img[src="'+e+'"]');return function(){return o(t,void 0,void 0,function(){var e,t,r,o;return a(this,function(a){switch(a.label){case 0:if(e=window.IMobile.IMP.logger,null==n)return e.l("resize function called. But target element is missing."),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i(n)];case 2:return t=a.sent(),e.l("imp script msg::before: "+JSON.stringify({x:n.width,y:n.height,r:n.height/n.width})+" origin: "+JSON.stringify(t)),n.width>t.width&&(n.style.width=t.width+"px",e.l("imp script msg::image size is wider than original image.")),n.height>t.height&&(n.style.height=t.height+"px",e.l("imp script msg::image size is taller than original image.")),r=t.height/t.width*n.width,n.style.height=r+"px",e.l("imp script msg::after: "+JSON.stringify({x:n.width,y:n.height,r:n.height/n.width})),[3,4];case 3:return o=a.sent(),e.l("imp script msg::image resize process is failed."),[3,4];case 4:return[2]}})})}}function i(e){return new Promise(function(t,n){if(void 0!=e.naturalWidth&&void 0!=e.naturalHeight)return t({width:e.naturalWidth,height:e.naturalHeight});var r=document.createElement("img");r.onload=function(){return t({width:r.width,height:r.height})},r.onerror=function(){return n(new Error("img load failed."))},r.src=e.src})}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CRITEO_CREATIVE_DELAY=500,t.makeCriteoImageResizer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(0),a=n(4),s=n(5),u=n(32),d=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.SP,this.api_response.presentationId)&&(this.demander.api_params?this.demander.api_params.media_id?!!this.demander.api_params.frame_id||(this.logger.e("not found api params [frame_id] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params [media_id] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params by id:"+this.demander.id+" spot:"+this.param.asid),!1))},e.prototype.convertAdvertisement=function(e,t,n){var s={title:n.title,description:n.content,click_url:"",image_url:n.small_image,sponsored:n.pr_sponsor_text,imp_url:""},d=n.bid_id,c=u.generateUUID(),l=u.generateUUID(),p=encodeURIComponent(n.url.replace("{CLICK_ID}",l));return s.click_url="https://adntokyo.gunosy.com/adn/web/click_redirect?bid_id="+d+"&imp_id="+c+"&click_id="+l+"&redirect_to="+p,s.imp_url=a.Requester.getUrl("adntokyo.gunosy.com","adn/web/impression?bid_id="+d+"&imp_id="+c),t.presentationId!==o.SupportPresentation.InFeedSPWide&&t.partnerId!==o.SupportPresentation.InFeedPCWide||(s.image_url=n.big_image),r.NativeDemanderHelper.adjustSecureSchemeUrl(s),i.RendererHelper.overrideSponsored(s,this.demander),s},e.prototype.execute=function(t,n,r){var i=this;this.remaining_slot_count=t;var u=new a.Requester,d=e.buildupRequestBaseParams(this.param,this.demander,this.api_response),c=a.Requester.convertURLParamToString(d),l=a.Requester.getUrl("adntokyo.gunosy.com","adn/web/jsonp/1.2/multi_show?"+c);u.requestJSONP(l,function(e){try{var t=e.response;if(0===t.length)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});for(var a=[],u=0;u<t.length;u++)a.push(i.convertAdvertisement(i.param,i.api_response,t[u]));n(i.demander,s.shuffleArray(a),o.AdnetworkRenderingType.DOMFromFragment)}catch(e){return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api response!"})}},{callbackFunctionId:"callback",callbackFunctionName:"gunosycallback_"+this.param.asid+"_"+this.param.asn,callbackFunctionRootObjectId:e.jsonp_namespace},!0,{timeoutMilliSec:5e3,handler:function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.RequestTimeout,message:"adnw request timeout!"})}})},e.buildupRequestBaseParams=function(t,n,r){var i=[];return i.push({name:"media_id",value:n.api_params.media_id}),i.push({name:"frame_id",value:n.api_params.frame_id}),n.api_params.xid?i.push({name:"user_id",value:n.api_params.xid}):i.push({name:"user_id",value:u.generateUUID()}),i.push({name:"namespace",value:e.jsonp_namespace}),i},e.prototype.render=function(e,t,n){for(var o=Math.min(this.remaining_slot_count,e.length),a=0;a<o;a++){var s=e[a],u=r.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,a+1,this.api_response.separator);s.result_tag=t.replace_template(s,this.param,this.api_response,this.get_fixTemplate(),n,u),t.render(this.target_element,s,this.param,this.api_response,n),i.RendererHelper.appendImpImageTag(s.imp_url,this.target_element)}this.displayed_count=o},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e.jsonp_namespace="imobileimp",e}();t.GunosyMultiSlotExecutor=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=n(7),a=n(0),s=n(4),u=n(2),d=n(73),c=n(8),l=/https?:\/\/(d\.socdm\.com).*/i,p=/^[0-9a-zA-Z]{8}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{12}$/;!function(e){e[e.Success=0]="Success",e[e.Invalid_Parameter=1]="Invalid_Parameter",e[e.Invalid_Spot=2]="Invalid_Spot",e[e.Ad_notFound=3]="Ad_notFound",e[e.UnknownError=99]="UnknownError"}(r||(r={}));var h=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i,this.renderStatus="execution",this.enableMovie="true"===this.demander.api_params.allow_movie,this.enableNative="false"!==this.demander.api_params.allow_native}return e.prototype.canExecute=function(){return!!i.NativeDemanderHelper.canExecute(i.SupportUserAgent.Both,this.api_response.presentationId)},e.prototype.convertAdvertisement=function(e,t,n){var r={title:n.title,description:n.description,click_url:n.clickUrl,image_url:n.imageUrl,sponsored:n.sponsored,imp_url:n.impUrl,video:n.video};return!r.video&&this.api_response.baidu_result&&(r.imp_url+="&baidu_result="+this.api_response.baidu_result.code,r.click_url+="&baidu_result="+this.api_response.baidu_result.code),i.NativeDemanderHelper.adjustSecureSchemeUrl(r),o.RendererHelper.overrideSponsored(r,this.demander),r},e.prototype.execute=function(t,n,i){var o=this;this.remaining_slot_count=t;var d=new s.Requester,c=e.buildupRequestBaseParams(this.param,this.demander,this.api_response,this.remaining_slot_count,this.enableMovie),l=s.Requester.convertURLParamToString(c),p=s.Requester.getUrl(u.IMPNativeSecureIMobileAPIServer,"api/ad_native.ashx?"+l);d.requestJSONP(p,function(e){try{if(0!==e.result.code){var t=r[e.result.code]||"unknown error",s=e.result.message||"";return void i(o.demander,{code:a.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw response error - code:"+t+" - "+s})}if(0===e.ads.length)return void i(o.demander,{code:a.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});for(var u=[],d=0;d<e.ads.length;d++)u.push(o.convertAdvertisement(o.param,o.api_response,e.ads[d]));n(o.demander,u,a.AdnetworkRenderingType.DOMFromFragment)}catch(e){return void i(o.demander,{code:a.AdnetworkAPIResponseErrorType.Other,message:"invalid api response!"})}},{callbackFunctionId:"callback",callbackFunctionName:"impcallback_"+this.param.asid+"_"+this.param.asn},!0,{timeoutMilliSec:5e3,handler:function(){i(o.demander,{code:a.AdnetworkAPIResponseErrorType.RequestTimeout,message:"adnw request timeout!"})}})},e.buildupRequestBaseParams=function(e,t,n,r,o){var a=r;o&&(a=7);var s=[];s.push({name:"partnerId",value:n.partnerId}),s.push({name:"mediaId",value:n.mediaId}),s.push({name:"spotId",value:n.spotId}),s.push({name:"num",value:Math.min(a,7)});var u=i.NativeDemanderHelper.getIdfa(e);u&&s.push({name:"idfa",value:u});var d=i.NativeDemanderHelper.getGaid(e);return d&&s.push({name:"gaid",value:d}),s},e.prototype.render=function(e,t,n){this.displayed_count=0,this.renderNext(e,t,n,0)},e.prototype.completeRenderVideo=function(e,t){this.displayed_count++,this.renderStatus="rendered_video",t&&e.append_separator(this.target_element,this.param,this.api_response)},e.prototype.renderNext=function(e,t,n,r){for(var o=this.remaining_slot_count,a=r;a<e.length&&this.displayed_count!=o;a++){var s=e[a],u=i.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,this.displayed_count+1,this.api_response.separator);if(s.video&&this.enableMovie&&"rendered_video"!==this.renderStatus)return void this.renderVideo(e,t,n,u,a);!s.video&&this.enableNative?(this.renderNative(s,t,n,u),this.displayed_count++):this.logger.w("nothing allow presentation!")}this.renderStatus="complete"},e.prototype.renderComplete=function(e,t,n){var r=this,i=function(){0===r.displayed_count?n(r.demander,{code:a.AdnetworkAPIResponseErrorType.RequestTimeout,message:"nothing rendered ad!"}):e(r.displayed_count)};if("complete"===this.renderStatus)return void i();var o=setInterval(function(){if("complete"===r.renderStatus)return clearInterval(o),void i()},100)},e.prototype.followupRendering=function(){Array.prototype.slice.call(this.target_element.querySelectorAll("a")).forEach(function(e){var t=e.getAttribute("rel");null==t||""===t?e.setAttribute("rel","noopener"):0==/noopener/i.test(t)&&e.setAttribute("rel",t+" noopener")})},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e.prototype.renderNative=function(e,t,n,r){e.result_tag=t.replace_template(e,this.param,this.api_response,this.get_fixTemplate(),n,r),t.render(this.target_element,e,this.param,this.api_response,n),o.RendererHelper.appendImpImageTag(e.imp_url,this.target_element)},e.prototype.renderVideo=function(e,t,n,r,i){var o=this,a=function(){o.completeRenderVideo(t,r);var a=i+1;o.renderNext(e,t,n,a)},s=function(){var r=i+1;o.renderNext(e,t,n,r)},u=void 0!==this.param.dvid&&"00000000-0000-0000-0000-000000000000"!==this.param.dvid&&p.test(this.param.dvid)&&l.test(location.href),h=c.isSpOrTabletWebView(window.navigator.userAgent),m="1"===this.demander.api_params.play_mode,f=void 0!=window.mraid&&/(2\.0|3\.0)/.test(window.mraid.getVersion()),v=void 0;(f||m||h)&&(f||m||!h)&&(!f&&m?v=function(){return!0}:f&&(v=function(){return window.mraid.isViewable()})),d.IMNativeVideoPlayer.create(this.target_element,{vast:e[i].video.vast,playerDom:this.demander.api_params.player_template,publisherCss:this.demander.api_params.site_style,overrideViewableHandler:v,isIgnoreUaCheck:u}).then(function(e){e.execute(),a()}).catch(function(e){o.logger.w(e.message),s()})},e}();t.IMobileApiMultiSlotExecutor=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(74);t.IMNativeVideoPlayer=r.IMNativeVideoPlayer;var i=n(92);t.SUVTNativeVideoPlayer=i.SUVTNativeVideoPlayer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(75))},function(e,t,n){"use strict";function r(e,t){var n=e.userAgent;return!(!n.isSp&&!n.isTablet)&&(n.isIos?100*n.os.version.major+n.os.version.minor>=1002&&(n.browser.name===u.Browsers.safari||n.browser.name===u.Browsers.iosWebView||n.browser.name===u.Browsers.chrome&&n.browser.version.major>=51||n.isFacebook||n.isLine||h.test(t)):!!n.isAndroid&&(n.os.version.major>=5&&n.browser.name===u.Browsers.chrome&&n.browser.version.major>=51))}function i(e){return e.isAndroid?e.os.version.major>=5:!!e.isIos&&100*e.os.version.major+e.os.version.minor>=1001}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(17),u=n(35),d=n(18),c=n(18),l=n(41),p=function(){function e(e,t,n,r,i,o,a){var s=this;this.isSupported_=!1,this.ended_=!1,this.execute=function(){s.vast_.tracking.impression.forEach(function(e){return s.vastTracker_.imgBeacon(e)}),s.vpaid_.startAd();var e,t=s.container_.contentWindow.document,n=t.querySelector("video["+l.Attributes.ui.video+"]"),r=t.querySelector("["+l.Attributes.ui.endcard+"]");e="function"==typeof s.args_.overrideViewableHandler?s.args_.overrideViewableHandler:h.test(window.location.href)?function(){return!0}:s.viewable.availableSf?s.viewable.isInView:function(){return s.viewable.window.document.hasFocus()&&s.viewable.isInView()};var i=function(){n.ended?(s.ended_=!0,void 0!=r&&r.classList.remove(l.Classes.hide)):(s.ended_||void 0==r||r.classList.add(l.Classes.hide),e()?s.vpaid_.resumeAd():s.vpaid_.pauseAd())};window.addEventListener("focus",i),window.setInterval(i,200)},this.init_=function(){var e=l.parsePlayerDom(s.args_.playerDom);if(l.isInvalidPlayerDom(e))return l.Logger.error("invalid player dom."),void(s.isSupported_=!1);var t=l.createStyle(s.args_.publisherCss);try{s.target_.parentNode.insertBefore(t,s.target_)}catch(e){l.Logger.error("try prepend style node but parent node is null.")}var n=e.querySelector("["+l.Attributes.ui.volumeswitch+"]");if(void 0!=n){n.classList.remove(l.Classes.unmute),n.classList.add(l.Classes.mute);for(var r=e.querySelectorAll("["+l.Attributes.action.switchvolume+"]"),i=0,o=r.length;i<o;i++)r[i].onclick=function(e){e.stopPropagation(),s.vpaid_.switchVolume(),0===s.vpaid_.adVolume?(n.classList.remove(l.Classes.unmute),n.classList.add(l.Classes.mute)):(n.classList.remove(l.Classes.mute),n.classList.add(l.Classes.unmute))}}s.vpaid_.subscribe(function(){return window.open(s.vast_.clickThrough)},c.VpaidEvents.AdClickThru);for(var i=0,a=e.querySelectorAll("["+l.Attributes.action.lp+"]"),u=a.length;i<u;i++)a[i].onclick=function(){return s.vpaid_.dispatch(c.VpaidEvents.AdClickThru)};var d=e.querySelector("["+l.Attributes.asset.title+"]");void 0!=d&&(l.fillAsset(d,s.vast_.title),d.hasAttribute(l.Attributes.action.lp)&&(d.onclick=function(){return s.vpaid_.dispatch(c.VpaidEvents.AdClickThru)}));var p=e.querySelector("["+l.Attributes.asset.description+"]");void 0!=p&&(l.fillAsset(p,s.vast_.description),p.hasAttribute(l.Attributes.action.lp)&&(p.onclick=function(){return s.vpaid_.dispatch(c.VpaidEvents.AdClickThru)}));var h=e.querySelector("["+l.Attributes.asset.sponsored+"]");void 0!=h&&l.fillAsset(h,s.vast_.sponsored);var m=e.querySelector("["+l.Attributes.ui.endcard+"]");if(void 0!=m){var f=e.querySelector("["+l.Attributes.action.replay+"]");void 0!=f&&(f.onclick=function(){s.ended_=!1,m.classList.remove(l.Classes.hide),s.vpaid_.resumeAd()})}s.container_.contentWindow.window.getVPAIDAd=function(){return s.vpaid_};var v=s.container_.contentWindow.document;v.body.appendChild(e);var g=v.querySelector("video["+l.Attributes.ui.video+"]");s.vastTracker_=new c.VastTracker(g,s.container_.contentWindow.document),s.vpaid_.subscribeBaseEvents(s.vast_,s.vastTracker_),s.vpaid_.initAd(NaN,NaN,c.ViewModes.normal,NaN,s.vast_,{slot:s.container_,videoSlot:g,videoSlotCanAutoPlay:!1})},this.target_=e,this.vast_=t,this.vpaid_=n,this.user=r,this.viewable=i,this.container_=o,this.args_=a,this.init_()}return e.create=function(t,n){return o(this,void 0,void 0,function(){var o,p,h,m,f;return a(this,function(a){switch(a.label){case 0:if(o=new u.User,!o.isStandardBrowserEnv)throw l.Logger.error("not standard browser envioroments."),new Error("not standard browser envioroments.");if(!(r(o,window.location.href)||n.isIgnoreUaCheck&&i(o.userAgent)))throw l.Logger.error("not supported userAgent."),new Error("not supported userAgent.");return p=function(e){try{e.remove()}catch(e){l.Logger.error(e.message),h.style.opacity="0",h.style.display="none"}},h=l.createContainer(t),[4,s.IabViewable.create(h,{isWait:!0})];case 1:if(m=a.sent(),m.viewableState!==s.ViewableState.available&&void 0===n.overrideViewableHandler)throw p(h),l.Logger.error("player stoped because viewable state is "+m.viewableState),new Error("player stoped because viewable state is "+m.viewableState);return f=function(){try{return c.parse(n.vast||"")}catch(e){throw l.Logger.error(e.message),p(h),new Error(e.message)}}(),[2,new e(t,f,new d.VpaidVideo,o,m,h,n)]}})})},e}();t.IMNativeVideoPlayer=p;var h=/^https?:\/\/pubads\.g\.doubleclick\.net/;t.isSupportedUserAgent=r,t.isSupportOs=i},function(e,t,n){"use strict";function r(e){try{for(var t=window.top.document.querySelectorAll("iframe"),n=0,r=t.length;n<r;n++){var i=t[n];try{if(i.contentWindow.window.inDapIF&&i.contentWindow.document.body.contains(e)&&Object.is(i.contentWindow.self,window.self))return i}catch(e){}}}catch(e){s.Logger.error("Friendly iFrame is true but top window access rejected.")}s.Logger.error("Friendly iFrame is true but not find.")}var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(77);!function(e){e.available="available",e.unavailable="unavailable",e.undetermined="undetermined"}(a=t.ViewableState||(t.ViewableState={}));var u=function(){function e(e){var t=this;if(this.window=window,this.viewableState_=a.unavailable,this.isDirect=Object.is(window.self,window.top),this.availableSf_=!1,this.isInFriendlyIframe=!1,this.getAdArea_=function(){return t.target_.clientWidth*t.target_.clientHeight},this.setAvailableSf_=function(){return void 0!=window.$sf&&void 0!=window.$sf.ext&&(t.availableSf_=!0,t.viewableState_=a.available,t.inViewPercentage_=window.$sf.ext.inViewPercentage),s.Logger.debug("SafeFrame checked.","availableSf: "+t.availableSf),t},this.getHeight_=function(){var e=t.window.pageYOffset+t.window.innerHeight,n=function(){for(var e=t.target_.offsetTop,n=t.target_.offsetParent;void 0!=n;)e+=n.offsetTop,n=n.offsetParent;return e}(),r=n+t.target_.clientHeight;if(r<=e&&t.window.pageYOffset<=n)return t.target_.clientHeight;var i=e-n;if(i>=0&&i<=t.target_.clientHeight)return i;var o=r-t.window.pageYOffset;return o>=0&&o<=t.target_.clientHeight?o:0},this.getWidth_=function(){var e=t.window.pageXOffset+t.window.innerWidth,n=function(){for(var e=t.target_.offsetLeft,n=t.target_.offsetParent;void 0!=n;)e+=n.offsetLeft,n=n.offsetParent;return e}(),r=n+t.target_.clientWidth;if(r<=e&&t.window.pageXOffset<=n)return t.target_.clientWidth;var i=e-n;if(i>=0&&i<=t.target_.clientWidth)return i;var o=r-t.window.pageXOffset;return o>=0&&o<=t.target_.clientWidth?o:0},this.isInView=function(){return t.inViewPercentage_()>=50},this.inViewPercentage_=function(){var e=t.getHeight_()*t.getWidth_()*100/t.getAdArea_();return isNaN(e)?0:e},this.setInViewAction=function(e,n){void 0===n&&(n=500);var r=e.map(function(e){var n=function(){return t.inViewPercentage_()>=e.percentage},r=!1,i=!1,o=void 0;return function(){return r||(n()?i?r:(i=!0,o=setTimeout(function(){e.action(),r=!0},e.duration),r):(void 0!==o&&(clearTimeout(o),i=!1,o=void 0),r))}}),i=void 0;i=setInterval(function(){r.every(function(e){return e()})&&clearInterval(i)},n)},this.isDirect){this.target_=e;var n=this.getAdArea_();if(void 0!=this.target_&&n>0&&n<window.innerWidth*window.innerHeight+1)return this.viewableState_=a.available,this}if(window.self.inDapIF){var i=r(e);if(void 0!=i){this.target_=i,this.isInFriendlyIframe=!0;var n=this.getAdArea_();n>0&&n<window.top.innerWidth*window.top.innerHeight&&(this.viewableState_=a.available,this.window=window.top)}if(this.isInFriendlyIframe)return this}this.setAvailableSf_()}return Object.defineProperty(e.prototype,"viewableState",{get:function(){return this.viewableState_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableSf",{get:function(){return this.availableSf_},enumerable:!0,configurable:!0}),e.create=function(t,n){return i(this,void 0,void 0,function(){var r;return o(this,function(i){switch(i.label){case 0:return r=new e(t),n.isWait?r.viewableState===a.available?[2,r]:[4,new Promise(function(e){return setTimeout(e,n.waitTime||250)})]:[2,r];case 1:return i.sent(),r.setAvailableSf_(),[2,r]}})})},Object.defineProperty(e.prototype,"inViewPercentage",{get:function(){return this.inViewPercentage_},enumerable:!0,configurable:!0}),e.whetherMeasurementPossible=function(){return Object.is(window.self,window.top)||void 0!=window.$sf&&void 0!=window.$sf.ext||window.self.inDapIF},e}();t.IabViewable=u},function(e,t,n){"use strict";function r(e){return function(t){var n=document.createElement("div");n.textContent=t,n.style.color=e,document.getElementsByTagName("body")[0].appendChild(n)}}function i(e){switch(s){case u.pc:switch(!0){case e===o.fatal&&a>=o.fatal:case e===o.error&&a>=o.error:return console.error.bind(console);case e===o.warn&&a>=o.warn:return console.warn.bind(console);case e===o.info&&a>=o.info:return console.info.bind(console);case e===o.debug&&a>=o.debug:return console.log.bind(console);default:return function(){}}case u.sp:switch(!0){case e===o.fatal&&a>=o.fatal:return r("#FF0000");case e===o.error&&a>=o.error:return r("#FFC0CB");case e===o.warn&&a>=o.warn:return r("#EEE8AA");case e===o.info&&a>=o.info:case e===o.debug&&a>=o.debug:return r("#000000");default:return function(){}}default:return function(){}}}Object.defineProperty(t,"__esModule",{value:!0});var o,a=2,s=0;!function(e){e[e.fatal=0]="fatal",e[e.error=1]="error",e[e.warn=2]="warn",e[e.info=3]="info",e[e.debug=4]="debug"}(o=t.LogLevel||(t.LogLevel={}));var u;!function(e){e[e.pc=0]="pc",e[e.sp=1]="sp"}(u=t.LogMode||(t.LogMode={})),t.Logger={fatal:i(o.fatal),error:i(o.error),warn:i(o.warn),info:i(o.info),debug:i(o.debug)}},function(e,t,n){"use strict";function r(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&(navigator.constructor===Navigator&&"undefined"!=typeof window&&window.constructor===Window&&"undefined"!=typeof document&&document.constructor===HTMLDocument)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),o=n(79),a=n(80),s=function(){function e(e){void 0===e&&(e=new i.UserAgent);var t=this;this.isStandardBrowserEnv=r(),this.cookie=new o.Cookie,this.enableCookie=!1,this.enableLocalStorage=!1,this.enableSessionStorage=!1,this.getStorage_=function(){switch(!0){case t.enableSessionStorage:return sessionStorage;case t.enableLocalStorage:return localStorage;case t.enableCookie:return new o.Cookie;default:return new a.EmptyStorage}},this.userAgent=e,this.storage=this.getStorage_(),this.availableStorage=!(this.storage instanceof a.EmptyStorage)}return e}();t.User=s},function(e,t,n){"use strict";function r(e){if(!e)return"";switch(e.constructor){case Number:return e===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+e.toString();case String:return"; expires="+e;case Date:return"; expires="+e.toUTCString();default:return""}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.getItem=function(e){for(var t=decodeURIComponent(e),n=decodeURIComponent(document.cookie).split(/(;\s|\n\r?)/),r=0,i=n.length;r<i;r++)if(new RegExp("^"+t+"=").test(n[r]))return n[r].split("=")[1];return null},this.setItem=function(e,t,n,i,o,a){if(!/^(?:expires|max\-age|path|domain|secure)$/i.test(e)){var s=encodeURIComponent,u=void 0!=o?"; domain="+o+"}":"",d=void 0!=i?"; path="+i:"",c=void 0!=a?"; secure":"";document.cookie=s(e)+"="+s(t)+r(n)+u+d+c}},this.removeItem=function(t){return e.setItem(t,"",Date.now()-864e5)}}return e}();t.Cookie=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.getItem=function(e){return null},this.setItem=function(e,t){},this.removeItem=function(e){}}return e}();t.EmptyStorage=r},function(e,t,n){"use strict";function r(e,t){var n=new a.VastEntity,r=function(){try{return o.textToXML(e)}catch(e){throw new u.VastException(u.VastErrors.XMLparse)}}();if("VAST"!==r.nodeName)throw new u.VastException(u.VastErrors.XMLparse);try{n.version=parseFloat(o.parseAttr(r,"version"))}catch(e){}if(n.version in d)throw new u.VastException(u.VastErrors.unsupportedVersion);var c=function(){var e=r.getElementsByTagName("Ad");if(0===e.length||void 0==e[0])throw new u.VastException(u.VastErrors.noAds);return e[0]}(),l=c.getElementsByTagName("AdSystem")[0];n.adSystem=o.parseNodeText(l),n.adSystemVer=o.parseAttr(l,"version"),n.title=o.parseNodeText(c.getElementsByTagName("AdTitle")[0]),n.description=o.parseNodeText(c.getElementsByTagName("Description")[0]),n.sponsored=o.parseNodeText(c.getElementsByTagName("Advertiser")[0]),n.tracking[s.VastAdditionalEvents.impression]=o.nodesToArray(c.getElementsByTagName("Impression")).map(function(e){return{url:o.parseNodeText(e),data:o.parseAttr(e,"id")}}),n.tracking[s.VastAdditionalEvents.error]=o.nodesToArray(c.getElementsByTagName("Error")).map(function(e){return{url:o.parseNodeText(e)}});var p=c.getElementsByTagName("Creative")[0];n.creativeId=o.parseAttr(p,"adId");var h=function(){var e=p.getElementsByTagName("Linear");if(0===e.length||void 0==e[0])throw new u.VastException(u.VastErrors.linearity);return e[0]}();n.duration=i.parseSeconds(o.parseNodeText(h.getElementsByTagName("Duration")[0])),n.mediaFiles=o.nodesToArray(h.getElementsByTagName("MediaFile")).map(function(e){return{bitrate:parseInt(o.parseAttr(e,"bitrate"),10),delivery:o.parseAttr(e,"delivery"),height:parseFloat(o.parseAttr(e,"height")),id:o.parseAttr(e,"id"),type:o.parseAttr(e,"type"),url:o.parseNodeText(e),width:parseFloat(o.parseAttr(e,"width"))}});try{n.clickThrough=o.parseNodeText(h.getElementsByTagName("ClickThrough")[0])}catch(e){throw new u.VastException(u.VastErrors.XMLInvalidSchema)}if(n.tracking[s.VastAdditionalEvents.click]=o.nodesToArray(h.getElementsByTagName("ClickTracking")).map(function(e){return{url:o.parseNodeText(e)}}),o.nodesToArray(h.getElementsByTagName("Tracking")).forEach(function(e){var t=o.parseAttr(e,"event");void 0==n.tracking[t]&&(n.tracking[t]=[]),n.tracking[t].push({data:t===s.VastEvents.progress?i.parseSeconds(o.parseAttr(e,"offset")):void 0,url:o.parseNodeText(e)})}),null==t)return n;var m=c.querySelector("InLine > Extensions");return t(n,m)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(38),o=n(39),a=n(37),s=n(28),u=n(82),d=[2,3,4];t.parse=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.XMLparse={id:100,msg:"XML parsing error"},e.XMLInvalidSchema={id:101,msg:"VAST schema validation error"},e.unsupportedVersion={id:102,msg:"VAST version of response not supported"},e.trafficking={id:200,msg:"Trafficking error"},e.linearity={id:201,msg:"Video player expecting different linearity"},e.duration={id:202,msg:"Video player expecting different duration"},e.size={id:203,msg:"Video player expecting different size"},e.wrapper={id:300,msg:"General Wrapper error"},e.wrapperTimeout={id:301,msg:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element"},e.wrapperLimit={id:302,msg:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response"},e.noAds={id:303,msg:"No Ads VAST response after one or more Wrappers"},e.generalLinear={id:400,msg:"General Linear error. Video player is unable to display the Linear Ad."},e.fileNotFound={id:401,msg:"File not found. Unable to find Linear/MediaFile from URI."},e.mediaFileTimeout={id:402,msg:"Timeout of MediaFile URI."},e.unsupportedMediaFile={id:403,msg:"Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},e.mediaFileDisplay={id:405,msg:"Problem displaying MediaFile. Video player found a MediaFile with supported type but could not display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, et"},e.generalNonLinear={id:500,msg:"General NonLinearAds error."},e.creativeDimensions={id:501,msg:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."},e.nonLinearFetch={id:502,msg:"Unable to fetch NonLinearAds/NonLinear resource."},e.supportedNonLinearNotFound={id:503,msg:"Could not find NonLinear resource with supported type."},e.generalCompanion={id:600,msg:"General CompanionAds error."},e.companionDimentions={id:601,msg:"Unable to display Companion because creative dimensions do not fit within Companion display area (i.e.; no available space)."},e.companionDisplay={id:602,msg:"Unable to display Required Companion."},e.companionFetch={id:603,msg:"Unable to fetch CompanionAds/Companion resource."},e.supportedCompanionNotFound={id:604,msg:"Could not find Companion resource with supported type."},e.undefined={id:900,msg:"Undefined Error"},e.general={id:901,msg:"General VPAID error"}}(t.VastErrors||(t.VastErrors={}));var r=function(){function e(e){var t=this;this.name="Vast Exception",this.toString=function(){return t.name+" code: "+t.code+" message: "+t.message},this.code=e.id,this.message=e.msg}return e}();t.VastException=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=n(84),o=function(){function e(e,t){var n=this;this.replace_=function(e){return e.replace(i.VastMacros.contentPlayHead,r.toISOString(n.video_.currentTime)).replace(i.VastMacros.cacheBusting,Math.floor(1e8*Math.random()).toString()).replace(i.VastMacros.assetUri,encodeURIComponent(n.video_.currentSrc)).replace(i.VastMacros.timeStamp,encodeURIComponent((new Date).toISOString()).replace(i.VastMacros.errorCode,""))},this.appendChild_=function(e){e.style.width="0px",e.style.height="0px",e.style.margin="0px",e.style.padding="0px",e.style.overflow="hidden",e.style.display="none",n.target_.appendChild(e)},this.iframeBeacon=function(e){var t=document.createElement("iframe");t.src=n.replace_(e.url),n.appendChild_(t)},this.imgBeacon=function(e){var t=document.createElement("img");t.src=n.replace_(e.url),n.appendChild_(t)},this.video_=e,this.target_=t.head}return e}();t.VastTracker=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.errorCode="[ERRORCODE]",e.contentPlayHead="[CONTENTPLAYHEAD]",e.cacheBusting="[CACHEBUSTING]",e.assetUri="[ASSETURI]",e.timeStamp="[TIMESTAMP]"}(t.VastMacros||(t.VastMacros={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.normal="normal",e.thumbnail="thumbnail",e.fullscreen="fullscreen"}(t.ViewModes||(t.ViewModes={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(87),o=(n(40),function(){function e(){var t=this;this.videoSlotCanAutoPlay_=!1,this.reception_=new i.VpaidEventReception,this.dispatch=this.reception_.dispatch,this.lastQuartileIndex_=0,this.adSkippableState_=!1,this.adExpanded=!1,this.timeUpdateHandler_=function(){if(t.reception_.dispatchProgress(t.videoSlot_.currentTime),!(t.lastQuartileIndex_>=e.quartileEvents_.length)){100*t.videoSlot_.currentTime/t.adDuration>=e.quartileEvents_[t.lastQuartileIndex_].value&&(t.dispatch(e.quartileEvents_[t.lastQuartileIndex_].event),t.lastQuartileIndex_++)}},this.updateVideoPlayerSize_=function(){t.videoSlot_.style.width=t.width_+"px",t.videoSlot_.style.height=t.height_+"px"},this.updateVideoSlot_=function(){if(void 0==t.creativeData_||void 0==t.creativeData_.mediaFiles)return void t.dispatch(r.VpaidEvents.AdError);t.videoSlot_.preload="auto",t.videoSlot_.muted=!0,t.videoSlot_.setAttribute("playsinline",""),t.videoSlot_.setAttribute("webkit-playsinline","");var e=t.creativeData_.mediaFiles.filter(function(e){return""!==t.videoSlot_.canPlayType(e.type)});if(0===e.length)return void t.dispatch(r.VpaidEvents.AdError);e.slice().sort(function(e){return e.bitrate}).forEach(function(e){var n=document.createElement("source");n.src=e.url,n.type=e.type,t.videoSlot_.appendChild(n)})},this.handshakeVersion=function(e){return"2.0"},this.initAd=function(e,n,i,o,a,s){isNaN(e+n)||(t.width_=e,t.height_=n,t.updateVideoPlayerSize_()),t.viewMode_=i,t.desiredBitrate_=o,t.creativeData_=a,t.slot_=s.slot,t.videoSlot_=s.videoSlot,t.videoSlotCanAutoPlay_=s.videoSlotCanAutoPlay,t.updateVideoSlot_(),t.videoSlot_.load(),setInterval(t.timeUpdateHandler_,200),t.dispatch(r.VpaidEvents.AdLoaded);var u=function(){t.dispatch(r.VpaidEvents.AdClickThru)};t.videoSlot_.onclick=u},this.resizeAd=function(e,n,i){t.width_=e,t.height_=n,t.viewMode_,t.updateVideoPlayerSize_(),t.dispatch(r.VpaidEvents.AdSizeChange)},this.startAd=function(){try{var e=t.videoSlot_.play();"Promise"in window&&e instanceof Promise?e.then(function(){return t.dispatch(r.VpaidEvents.AdStarted)}).catch(function(){return t.dispatch(r.VpaidEvents.AdError)}):t.dispatch(r.VpaidEvents.AdStarted)}catch(e){t.dispatch(r.VpaidEvents.AdError)}},this.stopAd=function(){t.videoSlot_.paused||(t.videoSlot_.pause(),t.videoSlot_.paused&&t.dispatch(r.VpaidEvents.AdStopped))},this.pauseAd=function(){t.videoSlot_.paused||(t.videoSlot_.pause(),t.videoSlot_.paused&&t.dispatch(r.VpaidEvents.AdPaused))},this.resumeAd=function(){if(t.videoSlot_.paused)try{var e=t.videoSlot_.play();"Promise"in window&&e instanceof Promise?e.then(function(){t.videoSlot_.paused||t.dispatch(r.VpaidEvents.AdPlaying)}).catch(function(){return t.dispatch(r.VpaidEvents.AdError)}):t.dispatch(r.VpaidEvents.AdPlaying)}catch(e){t.dispatch(r.VpaidEvents.AdError)}},this.expandAd=function(){t.dispatch(r.VpaidEvents.AdExpandedChange)},this.collapseAd=function(){t.dispatch(r.VpaidEvents.AdExpandedChange)},this.skipAd=function(){t.dispatch(r.VpaidEvents.AdSkipped)},this.subscribe=this.reception_.subscribe,this.subscribeBaseEvents=this.reception_.subscribeBaseEvents,this.unsubscribe=this.reception_.unsubscribe,this.switchVolume=function(){t.videoSlot_.muted=!t.videoSlot_.muted,t.dispatch(r.VpaidEvents.AdVolumeChange)}}return Object.defineProperty(e.prototype,"adLinear",{get:function(){return void 0!=this.adLinear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adWidth",{get:function(){return this.width_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adHeight",{get:function(){return this.height_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adSkippableState",{get:function(){return this.adSkippableState_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adDuration",{get:function(){return void 0!=this.creativeData_?this.creativeData_.duration:this.videoSlot_.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adVolume",{get:function(){return Number(!this.videoSlot_.muted)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adIcons",{get:function(){return!1},enumerable:!0,configurable:!0}),e.quartileEvents_=[{event:r.VpaidEvents.AdVideoStart,value:.1},{event:r.VpaidEvents.AdVideoFirstQuartile,value:25},{event:r.VpaidEvents.AdVideoMidpoint,value:50},{event:r.VpaidEvents.AdVideoThirdQuartile,value:75},{event:r.VpaidEvents.AdVideoComplete,value:100}],e}());t.VpaidVideo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(28),o=(n(40),function(){function e(){var e=this;this.eventCallbacks_={"":[function(){}]},this.subscribe=function(t,n,r){void 0==e.eventCallbacks_[n]&&(e.eventCallbacks_[n]=[]),e.eventCallbacks_[n].push(void 0!=r?t.bind(r):t)},this.unsubscribe=function(t,n){if(void 0!=e.eventCallbacks_[n]){var r=e.eventCallbacks_[n].indexOf(t);r>=0&&(e.eventCallbacks_[n][r]=function(){})}},this.dispatch=function(t){if(void 0!=e.eventCallbacks_[t]&&0!==e.eventCallbacks_[t].length)for(var n=0,r=e.eventCallbacks_[t].length;n<r;n++)e.eventCallbacks_[t][n]()},this.progressQueue_=[],this.dispatchProgress=function(t){e.progressQueue_.length<=0||t<e.progressQueue_[0].offset||e.progressQueue_.shift().action()},this.subscribeBaseEvents=function(t,n){var o=t.tracking,a=[{vast:i.VastEvents.mute,vpaid:r.VpaidEvents.AdVolumeChange},{vast:i.VastEvents.unmute,vpaid:r.VpaidEvents.AdVolumeChange},{vast:i.VastEvents.pause,vpaid:r.VpaidEvents.AdPaused},{vast:i.VastEvents.resume,vpaid:r.VpaidEvents.AdPlaying},{vast:i.VastEvents.rewind,vpaid:r.VpaidAdditionalEvents.AdRewind},{vast:i.VastEvents.skip,vpaid:r.VpaidEvents.AdSkipped},{vast:i.VastEvents.playerExpand,vpaid:r.VpaidAdditionalEvents.AdExpanded},{vast:i.VastEvents.playerCollapse,vpaid:r.VpaidAdditionalEvents.AdCollapsed},{vast:i.VastEvents.start,vpaid:r.VpaidEvents.AdStarted},{vast:i.VastEvents.firstQuartile,vpaid:r.VpaidEvents.AdVideoFirstQuartile},{vast:i.VastEvents.midpoint,vpaid:r.VpaidEvents.AdVideoMidpoint},{vast:i.VastEvents.thirdQuartile,vpaid:r.VpaidEvents.AdVideoThirdQuartile},{vast:i.VastEvents.complete,vpaid:r.VpaidEvents.AdVideoComplete},{vast:i.VastAdditionalEvents.impression,vpaid:r.VpaidEvents.AdImpression},{vast:i.VastAdditionalEvents.viewableImpression,vpaid:r.VpaidAdditionalEvents.AdViewableImpression},{vast:i.VastAdditionalEvents.click,vpaid:r.VpaidEvents.AdClickThru},{vast:i.VastAdditionalEvents.error,vpaid:r.VpaidEvents.AdError}],s=o[i.VastEvents.progress];"[object Array]"===Object.prototype.toString.call(s)&&(e.progressQueue_=s.filter(function(e){return!isNaN(e.data)}).sort(function(e,t){return e.data>t.data?1:-1}).map(function(e){return{offset:e.data,action:function(){return n.imgBeacon(e)}}})),a.forEach(function(t){"[object Array]"===Object.prototype.toString.call(o[t.vast])&&o[t.vast].forEach(function(r){return e.subscribe(function(){return n.imgBeacon(r)},t.vpaid)})})}}return e}());t.VpaidEventReception=o},function(e,t,n){"use strict";function r(e){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(t,1e3*e)})];case 1:return t.sent(),[2]}})})}var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=r},function(e,t,n){"use strict";function r(e){var t=document.createDocumentFragment(),n=t.appendChild(document.createElement("div"));n.innerHTML=e;for(var r=document.createDocumentFragment(),i=0,o=n.children,a=o.length;i<a;i++){var s=o[i];if(/style/i.test(s.tagName)){var d=document.createElement("style");d.textContent=s.textContent,d.setAttribute(u.template.version,s.getAttribute(u.template.version)||""),r.appendChild(d)}else if(/script/i.test(s.tagName)){var c=s,l=document.createElement("script");void 0!=c.src&&""!=c.src?l.src=c.src:l.text=c.text,r.appendChild(l)}else r.appendChild(s.cloneNode(!0))}return r}function i(e){return void 0==e.querySelector("video["+u.ui.video+"]")||e.querySelectorAll("["+u.action.lp+"]").length<1}function o(e){var t=document.createElement("iframe");return e.appendChild(t),t.contentWindow.document.body.appendChild(s(".hide, .hide > * { display: none; opacity: 0; }")),t}function a(e,t){var n=e.getAttribute(u.trim.max);if(void 0!=n){var r=parseInt(n,10);if(t.length>r)return void(e.textContent=t.substr(0,r)+"...")}e.textContent=t}function s(e){var t=document.createElement("style");return void 0==e?t:(t.textContent=e,t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(){}return e.action={lp:"im-action-lp",replay:"im-action-replay",switchvolume:"im-action-switchvolume"},e.ui={video:"im-ui-video",volumeswitch:"im-ui-volumeswitch",endcard:"im-ui-endcard"},e.asset={title:"im-asset-title",description:"im-asset-description",sponsored:"im-asset-sponsored"},e.trim={max:"im-trim-max"},e.template={version:"im-template-version"},e}();t.Attributes=u;!function(e){e.mute="mute",e.unmute="unmute",e.hide="hide"}(t.Classes||(t.Classes={})),t.parsePlayerDom=r,t.isInvalidPlayerDom=i,t.createContainer=o,t.fillAsset=a,t.createStyle=s},function(e,t,n){"use strict";function r(e){var t=new XMLHttpRequest;try{return t.open("GET",e,!1),t.send(),t.status>=200&&t.status<400?t.responseText:""}catch(e){return console.log(e.message),""}}function i(e){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,new Promise(function(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(e){4===r.readyState&&(r.status>=200&&r.status<400?t(r.responseText):n(r))},r.open("GET",e,!0),r.send()})]})})}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0}),t.getSync=r,t.getAsync=i},function(e,t,n){"use strict";function r(e){return function(t){var n=document.createElement("div");n.textContent=t,n.style.color=e,document.getElementsByTagName("body")[0].appendChild(n)}}function i(e){switch(s){case u.pc:switch(!0){case e===o.fatal&&a>=o.fatal:case e===o.error&&a>=o.error:return console.error.bind(console);case e===o.warn&&a>=o.warn:return console.warn.bind(console);case e===o.info&&a>=o.info:return console.info.bind(console);case e===o.debug&&a>=o.debug:return console.log.bind(console);default:return function(){}}case u.sp:switch(!0){case e===o.fatal&&a>=o.fatal:return r("#FF0000");case e===o.error&&a>=o.error:return r("#FFC0CB");case e===o.warn&&a>=o.warn:return r("#EEE8AA");case e===o.info&&a>=o.info:case e===o.debug&&a>=o.debug:return r("#000000");default:return function(){}}default:return function(){}}}Object.defineProperty(t,"__esModule",{value:!0});var o,a=2,s=0;!function(e){e[e.fatal=0]="fatal",e[e.error=1]="error",e[e.warn=2]="warn",e[e.info=3]="info",e[e.debug=4]="debug"}(o=t.LogLevel||(t.LogLevel={}));var u;!function(e){e[e.pc=0]="pc",e[e.sp=1]="sp"}(u=t.LogMode||(t.LogMode={})),t.Logger={fatal:i(o.fatal),error:i(o.error),warn:i(o.warn),info:i(o.info),debug:i(o.debug)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(93))},function(e,t,n){"use strict";function r(e){var t=e.userAgent;if(!t.isSp&&!t.isTablet)return!1;var n=t.isIos&&10*t.os.version.major+t.os.version.minor>=102&&(t.browser.name===s.Browsers.safari||t.browser.name===s.Browsers.chrome&&t.browser.version.major>=51||t.isFacebook||t.isLine),r=t.isAndroid&&10*t.os.version.major+t.os.version.minor>=44&&t.browser.name===s.Browsers.chrome&&t.browser.version.major>=51;return n||r}var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),s=n(35),u=n(18),d=n(18),c=n(41),l=n(18),p=n(39),h=function(){function e(e,t,n,r,i,o,a){var s=this;this.isSupported_=!1,this.ended_=!1,this.execute=function(){s.vast_.tracking.impression.forEach(function(e){return s.vastTracker_.imgBeacon(e)}),s.vpaid_.startAd();var e=0,t=!1,n=s.container_.contentWindow.document,r=n.querySelector("video["+c.Attributes.ui.video+"]"),i=n.querySelector("["+c.Attributes.ui.endcard+"]"),o=s.viewable.availableSf?s.viewable.isInView:function(){return s.viewable.window.document.hasFocus()&&s.viewable.isInView()},a=function(){r.ended?(s.ended_=!0,void 0!=i&&i.classList.remove(c.Classes.hide)):(s.ended_||void 0==i||i.classList.add(c.Classes.hide),o()?t?s.vpaid_.resumeAd():0===e?(e=Date.now(),s.vpaid_.pauseAd()):Date.now()-e>=1e3&&(s.vastTracker_.imgBeacon(s.vast_.ulizaInview),t=!0,s.vpaid_.resumeAd()):(t||(e=0),s.vpaid_.pauseAd()))};window.addEventListener("focus",a),window.setInterval(a,200)},this.init_=function(){var e=c.parsePlayerDom(s.args_.playerDom);if(c.isInvalidPlayerDom(e))return c.Logger.error("invalid player dom."),void(s.isSupported_=!1);var t=c.createStyle(s.args_.publisherCss);try{s.target_.parentNode.insertBefore(t,s.target_)}catch(e){c.Logger.error("try prepend style node but parent node is null.")}var n=e.querySelector("["+c.Attributes.ui.volumeswitch+"]");if(void 0!=n){n.classList.remove(c.Classes.unmute),n.classList.add(c.Classes.mute);for(var r=e.querySelectorAll("["+c.Attributes.action.switchvolume+"]"),i=0,o=r.length;i<o;i++)r[i].onclick=function(e){e.stopPropagation(),s.vpaid_.switchVolume(),0===s.vpaid_.adVolume?(n.classList.remove(c.Classes.unmute),n.classList.add(c.Classes.mute)):(n.classList.remove(c.Classes.mute),n.classList.add(c.Classes.unmute))}}s.vpaid_.subscribe(function(){return window.open(s.vast_.clickThrough)},d.VpaidEvents.AdClickThru);for(var i=0,a=e.querySelectorAll("["+c.Attributes.action.lp+"]"),u=a.length;i<u;i++)a[i].onclick=function(){return s.vpaid_.dispatch(d.VpaidEvents.AdClickThru)};var l=e.querySelector("["+c.Attributes.asset.title+"]");void 0!=l&&(c.fillAsset(l,s.vast_.title),l.hasAttribute(c.Attributes.action.lp)&&(l.onclick=function(){return s.vpaid_.dispatch(d.VpaidEvents.AdClickThru)}));var p=e.querySelector("["+c.Attributes.asset.description+"]");void 0!=p&&(c.fillAsset(p,s.vast_.description),p.hasAttribute(c.Attributes.action.lp)&&(p.onclick=function(){return s.vpaid_.dispatch(d.VpaidEvents.AdClickThru)}));var h=e.querySelector("["+c.Attributes.asset.sponsored+"]");void 0!=h&&c.fillAsset(h,s.vast_.sponsored);var m=e.querySelector("["+c.Attributes.ui.endcard+"]");if(void 0!=m){var f=e.querySelector("["+c.Attributes.action.replay+"]");void 0!=f&&(f.onclick=function(){s.ended_=!1,m.classList.remove(c.Classes.hide),s.vpaid_.resumeAd()})}s.container_.contentWindow.window.getVPAIDAd=function(){return s.vpaid_};var v=s.container_.contentWindow.document;v.body.appendChild(e);var g=v.querySelector("video["+c.Attributes.ui.video+"]");s.vastTracker_=new d.VastTracker(g,s.container_.contentWindow.document),s.vpaid_.subscribeBaseEvents(s.vast_,s.vastTracker_),s.vpaid_.initAd(NaN,NaN,d.ViewModes.normal,NaN,s.vast_,{slot:s.container_,videoSlot:g,videoSlotCanAutoPlay:!1})},this.target_=e,this.vast_=t,this.vpaid_=n,this.user=r,this.viewable=i,this.container_=o,this.args_=a,this.init_()}return e.create=function(t,n){return i(this,void 0,void 0,function(){var i,d,h,m,f;return o(this,function(o){switch(o.label){case 0:if(i=new s.User,!i.isStandardBrowserEnv)throw c.Logger.error("not standard browser envioroments."),new Error("not standard browser envioroments.");if(!r(i))throw c.Logger.error("not supported userAgent."),new Error("not supported userAgent.");return d=function(e){try{e.remove()}catch(e){c.Logger.error(e.message),h.style.opacity="0",h.style.display="none"}},h=c.createContainer(t),[4,a.IabViewable.create(h,{isWait:!0})];case 1:if(m=o.sent(),m.viewableState!==a.ViewableState.available)throw d(h),c.Logger.error("player stoped because viewable state is "+m.viewableState),new Error("player stoped because viewable state is "+m.viewableState);return f=function(){try{return l.parse(n.vast||"",function(e,t){if(null==t)throw new Error("extension node does not exist.");var n=t.querySelector('Extension > TrackingEvents > Tracking[event="inView"]');if(null==n)throw new Error("inview tracking event does not exist.");return e.ulizaInview={data:"Inview",url:p.parseNodeText(n)},e})}catch(e){throw c.Logger.error(e.message),d(h),new Error(e.message)}}(),[2,new e(t,f,new u.VpaidVideo,i,m,h,n)]}})})},e}();t.SUVTNativeVideoPlayer=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(0),o=n(1),a=function(){function e(e,t,n,r,o){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=o,this.tagAd={click_url:"",description:"",image_url:"",imp_url:"",sponsored:"",title:"",result_tag:this.demander.tag},r.demander[0].id!=i.AdNetwork.IMobile?this.tagWritemode=i.AdnetworkRenderingType.IFrame:this.tagWritemode=i.AdnetworkRenderingType.DocumentWrite}return e.prototype.canExecute=function(){var e=r.AgentUtil.getBrowserInfo();if(e.id===r.BrowserID.ie&&e.ieVersion<=9)return!1;if(this.tagWritemode===i.AdnetworkRenderingType.DocumentWrite){var t=o.canDocWrite();return this.logger.d("imobile tag DOM isLoading:"+o.canDocWrite+" spot:"+this.param.asid),t}return!0!==this.param.amp&&!0!==this.param.async||(this.logger.w("tag not support async spot:"+this.param.asid),!1)},e.prototype.execute=function(e,t,n){this.remaining_slot_count=e;var r=[this.tagAd];o.canDocWrite()?t(this.demander,r,this.tagWritemode):n(this.demander,{code:i.AdnetworkAPIResponseErrorType.Other,message:"tag error: document already closed"})},e.prototype.render=function(e,t,n){t.render(this.target_element,e[0],this.param,this.api_response,n)},e.prototype.renderComplete=function(e,t,n){e(this.remaining_slot_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e}();t.IMobileTagMultiSlotExecutor=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(0),a=n(4),s=n(5),u=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.Both,this.api_response.presentationId)&&(this.demander.api_params?this.demander.api_params.p_id?this.demander.api_params.site?!!this.demander.api_params.media_type||(this.logger.e("not found api params [media_type] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params [site] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params [p_id] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params by id:"+this.demander.id+" spot:"+this.param.asid),!1))},e.prototype.convertAdvertisement=function(e,t,n){var o={title:n.title,description:n.lead,click_url:n.url,image_url:n.image_url,sponsored:n.advertising_subject,imp_url:n.beacon_url};return r.NativeDemanderHelper.adjustSecureSchemeUrl(o),i.RendererHelper.overrideSponsored(o,this.demander),o},e.prototype.execute=function(t,n,r){var i=this;this.remaining_slot_count=t;var u=new a.Requester,d=e.buildupRequestBaseParams(this.param,this.demander,this.api_response,this.remaining_slot_count),c=a.Requester.convertURLParamToString(d),l=a.Requester.getUrl("liftapi.logly.co.jp","lift.json?"+c);u.requestJSONP(l,function(e){try{if(0===e.length)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});for(var t=[],a=0;a<e.length;a++)t.push(i.convertAdvertisement(i.param,i.api_response,e[a]));n(i.demander,s.shuffleArray(t),o.AdnetworkRenderingType.DOMFromFragment)}catch(e){return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api response!"})}},{callbackFunctionId:"callback",callbackFunctionName:"loglycallback_"+this.param.asid+"_"+this.param.asn},!0,{timeoutMilliSec:5e3,handler:function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.RequestTimeout,message:"adnw request timeout!"})}})},e.buildupRequestBaseParams=function(e,t,n,r){var i=[];return i.push({name:"p_id",value:t.api_params.p_id}),i.push({name:"site",value:t.api_params.site}),n.entry_url?i.push({name:"url",value:n.entry_url}):i.push({name:"url",value:location.href}),i.push({name:"ref",value:document.referrer}),i.push({name:"ad_count",value:Math.min(r,10)}),i.push({name:"media_type",value:t.api_params.media_type}),t.api_params.bcat&&i.push({name:"bcat",value:t.api_params.bcat}),t.api_params.badv&&i.push({name:"badv",value:t.api_params.badv}),t.api_params.floor_price&&i.push({name:"floor_price",value:t.api_params.floor_price}),i},e.prototype.render=function(e,t,n){for(var o=Math.min(this.remaining_slot_count,e.length),a=0;a<o;a++){var s=e[a],u=r.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,a+1,this.api_response.separator);s.result_tag=t.replace_template(s,this.param,this.api_response,this.get_fixTemplate(),n,u),t.render(this.target_element,s,this.param,this.api_response,n),i.RendererHelper.appendImpImageTag(s.imp_url,this.target_element)}this.displayed_count=o},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e}();t.LoglyMultiSlotExecutor=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=n(7),a=n(0),s=n(4),u=n(8),d=n(5);!function(e){e[e.description=0]="description",e[e.title=1]="title",e[e.both=2]="both"}(r||(r={}));var c=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i}return e.prototype.canExecute=function(){return!!i.NativeDemanderHelper.canExecute(i.SupportUserAgent.Both,this.api_response.presentationId)&&(this.demander.api_params?!!this.demander.api_params.sex||(this.logger.e("not found api params [sex] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params by id:"+this.demander.id+" spot:"+this.param.asid),!1))},e.prototype.convertAdvertisement=function(e,t,n){var a=n.url+"&extra=m_ch_"+e.asid,s={title:"",description:"",click_url:a,image_url:n.image,sponsored:n.media,imp_url:n.script};if(i.NativeDemanderHelper.adjustSecureSchemeUrl(s),o.RendererHelper.overrideSponsored(s,this.demander),s.description=n.title,this.demander.api_params&&this.demander.api_params.showTitleArea){var u=parseInt(this.demander.api_params.showTitleArea,10);u===r.title&&(s.title=n.title,s.description=""),u===r.description&&(s.title="",s.description=n.title),u===r.both&&(s.title=n.title,s.description=n.title)}return s},e.prototype.execute=function(t,n,r){var i=this;this.remaining_slot_count=t;var o=new s.Requester,u=e.buildupRequestBaseParams(this.param,this.demander,this.api_response,this.remaining_slot_count),c=s.Requester.convertURLParamToString(u),l=s.Requester.getUrl("discoveryplus.popin.cc","popin_discovery/ad?"+c);o.requestJSONP(l,function(t){try{var o=t.ad;if(0===o.length)return void r(i.demander,{code:a.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});var s=[];i.demander.api_params.badv&&(s=i.demander.api_params.badv.split(","));for(var u=[],c=0;c<o.length;c++)!1!==e.tryFilterAdvertisment(o[c],s)?u.push(i.convertAdvertisement(i.param,i.api_response,o[c])):i.logger.d("filterd domain:"+o[c].domain+" by id:"+i.demander.id+" spot:"+i.param.asid);if(0===u.length)return void r(i.demander,{code:a.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found filtered ad!"});n(i.demander,d.shuffleArray(u),a.AdnetworkRenderingType.DOMFromFragment)}catch(e){return void r(i.demander,{code:a.AdnetworkAPIResponseErrorType.Other,message:"invalid api response!"})}},{callbackFunctionId:"callback",callbackFunctionName:"popincallback_"+this.param.asid+"_"+this.param.asn},!0,{timeoutMilliSec:5e3,handler:function(){r(i.demander,{code:a.AdnetworkAPIResponseErrorType.RequestTimeout,message:"adnw request timeout!"})}})},e.tryFilterAdvertisment=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.domain.indexOf(t[n]))return!1;return!0},e.buildupRequestBaseParams=function(t,n,r,i){var o=[];u.AgentUtil.isSmartphoneSupportAgent()?o.push({name:"device",value:"mobile"}):o.push({name:"device",value:"pc"}),o.push({name:"sex",value:n.api_params.sex}),n.api_params.media?o.push({name:"media",value:n.api_params.media}):o.push({name:"media",value:"i-mobile"});var a=i;return n.api_params.badv&&(a=e.MAX_REQUEST_AD_COUNT),o.push({name:"ad",value:Math.min(a,e.MAX_REQUEST_AD_COUNT)}),o.push({name:"agency",value:"popinag"}),o},e.prototype.render=function(e,t,n){for(var r=Math.min(this.remaining_slot_count,e.length),o=0;o<r;o++){var a=e[o],s=i.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,o+1,this.api_response.separator);a.result_tag=t.replace_template(a,this.param,this.api_response,this.get_fixTemplate(),n,s),1===this.api_response.slot_count?this.target_element.classList?this.target_element.classList.add("popInInview"):this.target_element.className+=" popInInview":a.result_tag="<div class = 'popInInview'>"+a.result_tag+"</div>",t.render(this.target_element,a,this.param,this.api_response,n)}if(r>0){var u=document.createElement("script");u.charset="UTF-8",u.src=e[0].imp_url;var d=document.getElementsByTagName("head");if(d&&d.length>0)return d[0].appendChild(u),void(this.displayed_count=r);this.target_element.appendChild(u)}this.displayed_count=r},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e.MAX_REQUEST_AD_COUNT=20,e}();t.PopinMultiSlotExecutor=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(0),o=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i,this.tagAd={click_url:"",description:"",image_url:"",imp_url:"",sponsored:"",title:"",result_tag:this.demander.tag}}return e.prototype.canExecute=function(){if(this.api_response.demander[0].id!=this.demander.id)return!1;var e=r.AgentUtil.getBrowserInfo();return!(e.id===r.BrowserID.ie&&e.ieVersion<=9)&&(!0!==this.param.amp||(this.logger.w("tag not support async spot:"+this.param.asid),!1))},e.prototype.execute=function(e,t,n){this.remaining_slot_count=e;var r=[this.tagAd];t(this.demander,r,i.AdnetworkRenderingType.IFrame)},e.prototype.render=function(e,t,n){t.render(this.target_element,e[0],this.param,this.api_response,n)},e.prototype.renderComplete=function(e,t,n){e(this.remaining_slot_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e}();t.AdnetworkTagMultiSlotExecutor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(12),o=function(){function e(e,t){this._target=e,this._demaner=t}return e.prototype.canExecute=function(){return void 0!=this._demaner.tag},e.prototype.execute=function(e,t,n){t(this._demaner,[],r.AdnetworkRenderingType.IFrame)},e.prototype.render=function(e,t,n){var r=i.makeIframe(document,"100%","100px"),o=r[0],a=r[1];this._target.appendChild(o),a.contentWindow.document.open(),a.contentWindow.document.write('<!DOCTYPE html><html><head><meta name="viewport" initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><style>.yads_ydn_frame_image, .yads_ydn_frame_image div img { text-align: center !important; max-width: 600px !important; width: 100% !important; } div { max-width: 1000px !important; } .yjAdImage { max-width: 600px !important; max-height: 50px !important; display: inline !important; }</style></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" style="background: transparent">'+this._demaner.tag+"</body></html>"),a.contentWindow.document.close(),this._whetherFilled=function(){return null!==a.contentWindow.document.querySelector('div[id^="yads_dummy_parent_"], div[class="yads_ydn_frame_image"]')},this._completeHandler=function(){a.style.height=a.contentWindow.document.body.offsetHeight+"px"},this._cancellationHandler=function(){try{a.parentNode.removeChild(a)}catch(e){a.style.display="none"}}},e.prototype.renderComplete=function(e,t,n){var i=this,o=0,a=window.setInterval(function(){if(i._whetherFilled())return window.clearInterval(a),i._completeHandler(),void e(1);(o+=1)>=2&&(window.clearInterval(a),i._cancellationHandler(),n(i._demaner,{code:r.AdnetworkAPIResponseErrorType.NotfoundAd,message:"ad is not filled specified time."}))},500)},e.prototype.get_fixTemplate=function(){throw new Error("Never be called.")},e.prototype.followupRendering=function(){},e.prototype.terminate=function(){},e}();t.YdnMultiSlotExecutor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(12),o=function(){function e(e,t){this._target=e,this._demaner=t}return e.prototype.canExecute=function(){return void 0!=this._demaner.tag},e.prototype.execute=function(e,t,n){t(this._demaner,[],r.AdnetworkRenderingType.IFrame)},e.prototype.render=function(e,t,n){var r=i.makeIframe(document,"100%","100px"),o=r[0],a=r[1];this._target.appendChild(o),a.contentWindow.document.open(),a.contentWindow.document.write('<!DOCTYPE html><html><head><meta name="viewport" initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" style="background: transparent">'+this._demaner.tag+"</body></html>"),a.contentWindow.document.close(),this._whetherFilled=function(){return null!=a.contentWindow.document.querySelector(".amoad_native")},this._completeHandler=function(){var e=a.contentWindow.document.querySelector("iframe");if(null!=e){a.style.height=e.contentWindow.document.body.offsetHeight+"px",e.contentWindow.document.body.style.margin="0",e.style.width="100%";e.contentWindow.document.querySelector("div").style.width="100%";var t=e.contentWindow.document.querySelector('div[class^="adtemp_ov"] div[class$="_box"]');null!=t&&(t.style.justifyContent="inherit")}},this._cancellationHandler=function(){try{a.parentNode.removeChild(a)}catch(e){a.style.display="none"}}},e.prototype.renderComplete=function(e,t,n){var i=this,o=0,a=window.setInterval(function(){if(i._whetherFilled())return window.clearInterval(a),i._completeHandler(),void e(1);(o+=1)>=6&&(window.clearInterval(a),i._cancellationHandler(),n(i._demaner,{code:r.AdnetworkAPIResponseErrorType.NotfoundAd,message:"ad is not filled specified time."}))},500)},e.prototype.get_fixTemplate=function(){throw new Error("Never be called.")},e.prototype.followupRendering=function(){},e.prototype.terminate=function(){},e}();t.AfiOMultiSlotExecutor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(12),o=n(2),a=n(8),s=function(){function e(e,t,n){this._param=e,this._target=t,this._demander=n}return e.prototype.canExecute=function(){var e=a.AgentUtil.getBrowserInfo().id;return(e===a.BrowserID.chrome||e===a.BrowserID.safari)&&void 0!=this._demander.tag},e.prototype.execute=function(e,t,n){t(this._demander,[],r.AdnetworkRenderingType.IFrame)},e.prototype.render=function(e,t,n){var r=this._findWidthAndHeight(this._demander.tag),a=r[0],s=r[1],u=i.makeIframe(document,a,s),d=(u[0],u[1]);d.src="https://"+o.IMPServerRoot+"/api/imp/create_frame.ashx?tag="+encodeURIComponent(this._escapeHTML(this._demander.tag))+"&asid="+this._param.asid+"&demander_type="+this._demander.type+"&demander_id="+this._demander.id;var c=i.makeIframe(document,a,s),l=c[0],p=c[1];this._target.appendChild(l),p.contentWindow.document.open(),p.contentWindow.document.write('<!DOCTYPE html><html><head><meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta name="referrer" content="no-referrer"></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" style="background: transparent">'+d.outerHTML+"</body></html>"),p.contentWindow.document.close()},e.prototype.renderComplete=function(e,t,n){e(1)},e.prototype.get_fixTemplate=function(){throw new Error("Never be called.")},e.prototype.followupRendering=function(){},e.prototype.terminate=function(){},e.prototype._findWidthAndHeight=function(e){var t=document.createElement("div");t.innerHTML=this._demander.tag;var n=t.querySelector(".adsbygoogle");return[n.style.width,n.style.height]},e.prototype._escapeHTML=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},e}();t.GoogleAdSenseMcmMultiSlotExecutor=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(0),a=n(4),s=n(5),u=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.Both,this.api_response.presentationId)&&(this.demander.api_params?this.demander.api_params.owner_id?!!this.demander.api_params.media_id||(this.logger.e("not found api params [media_id] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params [owner_id] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params by id:"+this.demander.id+" spot:"+this.param.asid),!1))},e.prototype.convertAdvertisement=function(e,t,n){var o={title:n.title,description:n.snippet,click_url:n.click_url,image_url:n.image_url,sponsored:"",imp_url:n.imp_url};return r.NativeDemanderHelper.adjustSecureSchemeUrl(o),i.RendererHelper.overrideSponsored(o,this.demander),o},e.prototype.execute=function(t,n,r){var i=this;this.remaining_slot_count=t;var u=new a.Requester,d=e.buildupRequestBaseParams(this.param,this.demander,this.api_response,this.remaining_slot_count),c=a.Requester.convertURLParamToString(d),l=a.Requester.getUrl("adroute-native.focas.jp","api?"+c);u.requestAjax(l,function(e){try{if(1===e.result.code)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.BadRequest,message:"invalid parameter!\n"+e.result.message});if(2===e.result.code)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid adspot!\n"+e.result.message});if(3===e.result.code)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!\n"+e.result.message});if(99===e.result.code)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"unknown error!\n"+e.result.message});for(var t=[],a=0;a<e.ads.length;a++)t.push(i.convertAdvertisement(i.param,i.api_response,e.ads[a]));n(i.demander,s.shuffleArray(t),o.AdnetworkRenderingType.DOMFromFragment)}catch(e){return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api response!"})}},!1,!0,null,{timeoutMilliSec:5e3,handler:function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.RequestTimeout,message:"adnw request timeout!"})}},function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api request!"})})},e.buildupRequestBaseParams=function(e,t,n,i){var o=[];o.push({name:"owner_id",value:t.api_params.owner_id}),o.push({name:"media_id",value:t.api_params.media_id}),o.push({name:"num",value:i});var a=r.NativeDemanderHelper.getIdfa(e);a&&o.push({name:"ida",value:a});var s=r.NativeDemanderHelper.getGaid(e);return s&&o.push({name:"ida",value:s}),o},e.prototype.render=function(e,t,n){for(var o=Math.min(this.remaining_slot_count,e.length),a=0;a<o;a++){var s=e[a],u=r.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,a+1,this.api_response.separator);s.result_tag=t.replace_template(s,this.param,this.api_response,this.get_fixTemplate(),n,u),t.render(this.target_element,s,this.param,this.api_response,n),i.RendererHelper.appendImpImageTag(s.imp_url,this.target_element)}this.displayed_count=o},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e}();t.ADrouteMultiSlotExecutor=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(0),a=n(4),s=n(5),u=n(0),d=[1,2,3,4],c=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i,this.optoutElementId="im_nend_opt_"+this.param.asid+"_"+this.param.asn+"_",this.optoutElementNum=0,this.adDefine=null}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.SP,this.api_response.presentationId)&&(this.demander.api_params?this.demander.api_params.api_key?!!this.demander.api_params.adspot_id||(this.logger.e("not found api params [adspot_id] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params [api_key] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params by id:"+this.demander.id+" spot:"+this.param.asid),!1))},e.prototype.convertAdvertisement=function(e,t,n){var i={title:n.short_text,description:n.long_text,click_url:n.click_url,image_url:n.logo_image?n.logo_image.image_url:n.ad_image.image_url,sponsored:n.promotion_name,imp_url:n.impression_count_url};return t.presentationId!==u.SupportPresentation.InFeedPCWide&&t.presentationId!==u.SupportPresentation.InFeedSPWide||n.ad_image&&(i.image_url=n.ad_image.image_url),r.NativeDemanderHelper.adjustSecureSchemeUrl(i),i},e.prototype.execute=function(t,n,r){var i=this;this.remaining_slot_count=t;var u=new a.Requester,d=e.buildupRequestBaseParams(this.param,this.demander,this.api_response,this.remaining_slot_count),c=a.Requester.convertURLParamToString(d),l=a.Requester.getUrl("lona.nend.net","nafeed.php?"+c);u.requestJSONP(l,function(e){try{if(200!==e.status_code)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"adnw response error! "+e.status_code+":"+e.message});if(0===e.default_ads.length)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});for(var t=[],a=0;a<e.default_ads.length;a++)t.push(i.convertAdvertisement(i.param,i.api_response,e.default_ads[a]));e.ad_define&&(i.adDefine=e.ad_define),n(i.demander,s.shuffleArray(t),o.AdnetworkRenderingType.DOMFromFragment)}catch(e){return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api response!"})}},{callbackFunctionId:"callback",callbackFunctionName:"nendcallback_"+this.param.asid+"_"+this.param.asn},!0,{timeoutMilliSec:5e3,handler:function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.RequestTimeout,message:"adnw request timeout!"})}})},e.buildupRequestBaseParams=function(e,t,n,r){var i=[];return i.push({name:"api_key",value:t.api_params.api_key}),i.push({name:"adspot_id",value:t.api_params.adspot_id}),i.push({name:"ad_num",value:Math.min(r,5)}),i},e.prototype.render=function(e,t,n){for(var o=Math.min(this.remaining_slot_count,e.length),a=0;a<o;a++){var s=e[a],u=r.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,a+1,this.api_response.separator);s.result_tag=t.replace_template(s,this.param,this.api_response,this.get_fixTemplate(),n,u),t.render(this.target_element,s,this.param,this.api_response,n),i.RendererHelper.appendImpImageTag(s.imp_url,this.target_element)}this.displayed_count=o},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){var e=this;if(this.adDefine&&this.adDefine.ad_define_texts){var t=this.api_response.template;if(!d.some(function(n){if(!e.adDefine.ad_define_texts[n])return!1;for(var r,i=new RegExp("("+e.adDefine.ad_define_texts[n]+")?(?:[^"+e.adDefine.ad_define_texts[n]+"]*?)({{title(?::(?:[1-9][0-9]*))?}})","g"),o=!1;null!=(r=i.exec(e.api_response.template));)null!=r[1]&&(t=t.replace(r[0],r[0].replace(r[1],'<span id="'+e.createOptoutElementId()+'">'+r[1]+"</span>")),o=!0);return o}))for(var n=new RegExp('"('+this.adDefine.ad_define_texts[1]+")?(?:[^"+this.adDefine.ad_define_texts[1]+"]*?)({{title(?::(?:[1-9][0-9]*))?}})","g"),r=void 0;null!=(r=n.exec(this.api_response.template));)t=t.replace(r[0],r[0].replace(r[2],'<span id="'+this.createOptoutElementId()+'">['+this.adDefine.ad_define_texts[1]+"]</span>"+r[2]));return t}},e.prototype.terminate=function(){if(this.adDefine)for(var e=this.adDefine.optout_url,t=0;t<this.optoutElementNum;t++){var n=document.getElementById(this.getOptoutElementId(t));n&&n.addEventListener&&n.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),window.open(e,"_blank")},!1)}},e.prototype.createOptoutElementId=function(){var e=this.optoutElementId+this.optoutElementNum;return this.optoutElementNum++,e},e.prototype.getOptoutElementId=function(e){return this.optoutElementId+e},e}();t.NendMultiSlotExecutor=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(12),a=function(){function e(e,t,n,r){this._param=e,this._target=t,this._demaner=n,this._api=r}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.SP,this._api.presentationId)&&void 0!=this._demaner.tag},e.prototype.execute=function(e,t,n){t(this._demaner,[],i.AdnetworkRenderingType.IFrame)},e.prototype.render=function(e,t,n){var i=o.makeIframe(document,"100%","100px"),a=i[0],s=i[1];this._target.appendChild(a);var u="",d="",c=r.NativeDemanderHelper.getIdfa(this._param);c&&(u="nend_idfa_raw",d=c);var l=r.NativeDemanderHelper.getGaid(this._param);l&&(u="nend_gaid",d=l);var p="";""!==d&&""!==u&&(p='<script type="text/javascript"> var '+u+" = '"+d+"'; <\/script>"),s.contentWindow.document.open(),s.contentWindow.document.write('<!DOCTYPE html><html><head><meta name="viewport" initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><style>.nendAdContainer, div img { text-align: center !important; max-width: 600px !important; width: 100% !important; height: auto !important; } div { max-width: 1000px !important; }</style></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" style="background: transparent">'+p+this._demaner.tag+"</body></html>"),s.contentWindow.document.close(),this._whetherFilled=function(){return null!==s.contentWindow.document.querySelector('div[id^="nend_adspace_"] img')},this._completeHandler=function(){s.style.height=s.contentWindow.document.body.offsetHeight+"px"},this._cancellationHandler=function(){try{s.parentNode.removeChild(s)}catch(e){s.style.display="none"}}},e.prototype.renderComplete=function(e,t,n){var r=this,o=0,a=window.setInterval(function(){if(r._whetherFilled())return window.clearInterval(a),r._completeHandler(),void e(1);(o+=1)>=2&&(window.clearInterval(a),r._cancellationHandler(),n(r._demaner,{code:i.AdnetworkAPIResponseErrorType.NotfoundAd,message:"ad is not filled specified time."}))},500)},e.prototype.get_fixTemplate=function(){throw new Error("Never be called.")},e.prototype.followupRendering=function(){},e.prototype.terminate=function(){},e}();t.NendTagSlotExecutor=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(0),a=n(4),s=n(5),u={iconImage:"ii",wideImage:"bi",textString:"tx",titleString:"ti"},d=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.Both,this.api_response.presentationId)&&(this.demander.api_params?!!this.demander.api_params.sid||(this.logger.e("not found api params [sid] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params by id:"+this.demander.id+" spot:"+this.param.asid),!1))},e.prototype.convertAdvertisement=function(e,t,n){var a=this.api_response.presentationId,s=a===o.SupportPresentation.InFeedPCWide||a===o.SupportPresentation.InFeedSPWide,u={title:decodeURI(n.title),description:decodeURI(n.text),click_url:n.href,image_url:s?n.src:n.iconsrc,sponsored:n.sponsor_name,imp_url:n["imp-url"]};return r.NativeDemanderHelper.adjustSecureSchemeUrl(u),i.RendererHelper.overrideSponsored(u,this.demander),u},e.prototype.execute=function(t,n,r){var i=this;this.remaining_slot_count=t;var u=new a.Requester,d=e.buildupRequestBaseParams(this.param,this.demander,this.api_response,this.remaining_slot_count),c=a.Requester.convertURLParamToString(d),l=a.Requester.getUrl("adn-d.sp.gmossp-sp.jp","ad/json/?"+c);u.requestAjax(l,function(t){try{if(null===t||t.ads&&0===t.ads.length)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});for(var a=i.demander.api_params.badv?i.demander.api_params.badv.split(","):[],u=t.ads,d=[],c=0;c<u.length;c++){var l=e.tryFilterAdvertisment(u[c],a);l.isFilterTargetAd?d.push(i.convertAdvertisement(i.param,i.api_response,u[c])):i.logger.d("filtered domain:"+a[l.badvIdx]+" by id:"+i.demander.id+" spot:"+i.param.asid)}n(i.demander,s.shuffleArray(d),o.AdnetworkRenderingType.DOMFromFragment)}catch(e){return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api response!"})}},!0,!0,null,{timeoutMilliSec:5e3,handler:function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.RequestTimeout,message:"adnw request timeout!"})}},function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api request!"})})},e.tryFilterAdvertisment=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.sponsor_domain.indexOf(t[n]))return{isFilterTargetAd:!1,badvIdx:n};return{isFilterTargetAd:!0,badvIdx:-1}},e.buildupRequestBaseParams=function(e,t,n,i){var a=n.presentationId,s=a===o.SupportPresentation.InFeedPCWide||a===o.SupportPresentation.InFeedSPWide,d=u.wideImage+"|"+u.textString+"|"+u.titleString,c=u.iconImage+"|"+u.textString+"|"+u.titleString,l=[];l.push({name:"sid",value:t.api_params.sid}),l.push({name:"url",value:location.href}),l.push({name:"ssl",value:1}),l.push({name:"mimp",value:1}),l.push({name:"as",value:s?d:c}),l.push({name:"size",value:10}),l.push({name:"sd",value:1});var p=r.NativeDemanderHelper.getIdfa(e);p&&l.push({name:"uid",value:p});var h=r.NativeDemanderHelper.getGaid(e);return h&&l.push({name:"uid",value:h}),l},e.prototype.render=function(e,t,n){for(var o=Math.min(this.remaining_slot_count,e.length),a=0;a<o;a++){var s=e[a],u=r.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,a+1,this.api_response.separator);s.result_tag=t.replace_template(s,this.param,this.api_response,this.get_fixTemplate(),n,u),t.render(this.target_element,s,this.param,this.api_response,n),i.RendererHelper.appendImpImageTag(s.imp_url,this.target_element)}this.displayed_count=o},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e}();t.AkaNeMultiSlotExecutor=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(12),a=function(){function e(e,t,n,r){this._param=e,this._target=t,this._demander=n,this._api=r}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.Both,this._api.presentationId)&&void 0!=this._demander.tag},e.prototype.execute=function(e,t,n){t(this._demander,[],i.AdnetworkRenderingType.IFrame)},e.prototype.render=function(e,t,n){var i=o.makeIframe(document,"100%","100px"),a=i[0],s=i[1];this._target.appendChild(a);var u="",d="",c=r.NativeDemanderHelper.getIdfa(this._param);c&&(u=c,d=", idType: 'idfa'");var l=r.NativeDemanderHelper.getGaid(this._param);l&&(u=l);var p="";this._param.islat&&(p=", optout: "+this._param.islat);var h="";""!==u&&(h='<script type="text/javascript"> window.amoadOption = {idfa: \''+u+"'"+d+p+"}; <\/script>"),s.contentWindow.document.open(),s.contentWindow.document.write('<!DOCTYPE html><html><head><meta name="viewport" initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" style="background: transparent">'+h+this._demander.tag+"</body></html>"),s.contentWindow.document.close(),this._whetherFilled=function(){return s.contentWindow.document.querySelector('div[class="amoad_native"]').children.length>0},this._completeHandler=function(){s.style.height=s.contentWindow.document.body.offsetHeight+"px"},this._cancellationHandler=function(){try{s.parentNode.removeChild(s)}catch(e){s.style.display="none"}}},e.prototype.renderComplete=function(e,t,n){var r=this,o=0,a=window.setInterval(function(){if(r._whetherFilled())return window.clearInterval(a),r._completeHandler(),void e(1);(o+=1)>=2&&(window.clearInterval(a),r._cancellationHandler(),n(r._demander,{code:i.AdnetworkAPIResponseErrorType.NotfoundAd,message:"ad is not filled specified time."}))},500)},e.prototype.get_fixTemplate=function(){throw new Error("Never be called.")},e.prototype.followupRendering=function(){},e.prototype.terminate=function(){},e}();t.AMoAdMultiSlotExecutor=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(12),a=function(){function e(e,t,n,r){this._param=e,this._target=t,this._demaner=n,this._api=r}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.SP,this._api.presentationId)&&void 0!=this._demaner.tag},e.prototype.execute=function(e,t,n){t(this._demaner,[],i.AdnetworkRenderingType.IFrame)},e.prototype.render=function(e,t,n){var r=o.makeIframe(document,"100%","100px"),i=r[0],a=r[1];this._target.appendChild(i),a.contentWindow.document.open(),a.contentWindow.document.write('<!DOCTYPE html><html><head><meta name="viewport" initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" style="background: transparent">'+this._demaner.tag+"</body></html>"),a.contentWindow.document.close(),this._whetherFilled=function(){return null!==a.contentWindow.document.querySelector('div[class^="imagead_frame sid_"] img')||null!==a.contentWindow.document.querySelector('div[class^="imagead_frame sid_"] iframe')},this._completeHandler=function(){a.style.height=a.contentWindow.document.body.offsetHeight+"px"},this._cancellationHandler=function(){try{a.parentNode.removeChild(a)}catch(e){a.style.display="none"}}},e.prototype.renderComplete=function(e,t,n){var r=this,o=0,a=window.setInterval(function(){if(r._whetherFilled())return window.clearInterval(a),r._completeHandler(),void e(1);(o+=1)>=10&&(window.clearInterval(a),r._cancellationHandler(),n(r._demaner,{code:i.AdnetworkAPIResponseErrorType.NotfoundAd,message:"ad is not filled specified time."}))},500)},e.prototype.get_fixTemplate=function(){throw new Error("Never be called.")},e.prototype.followupRendering=function(){},e.prototype.terminate=function(){},e}();t.UpDateMultiSlotExecutor=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),o=n(0),a=n(4),s=function(){function e(e,t,n,r,i){this.param=e,this.target_element=t,this.demander=n,this.api_response=r,this.logger=i}return e.prototype.canExecute=function(){return!!r.NativeDemanderHelper.canExecute(r.SupportUserAgent.Both,this.api_response.presentationId)&&(this.demander.api_params?this.demander.api_params._token?!!this.demander.api_params._loc||(this.logger.e("not found api params [_loc] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params [_token] by id:"+this.demander.id+" spot:"+this.param.asid),!1):(this.logger.e("not found api params by id:"+this.demander.id+" spot:"+this.param.asid),!1))},e.prototype.convertAdvertisement=function(e,t,n){var o={title:n.title_text,description:n.body_text,click_url:n.click_link,image_url:n.image_url,sponsored:n.sponsor_text,imp_url:n.imp_beacon};return r.NativeDemanderHelper.adjustSecureSchemeUrl(o),i.RendererHelper.overrideSponsored(o,this.demander),o},e.prototype.execute=function(t,n,r){var i=this;this.remaining_slot_count=t;var s=new a.Requester,u=e.buildupRequestBaseParams(this.param,this.demander,this.api_response,this.remaining_slot_count),d=a.Requester.convertURLParamToString(u),c=a.Requester.getUrl("fam-8.net","ad/api/deliver?"+d);s.requestAjax(c,function(e){try{if(null===e||e.ads&&0===e.ads.length)return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.NotfoundAd,message:"adnw not found ad!"});for(var t=e.ads,a=[],s=0;s<t.length;s++)a.push(i.convertAdvertisement(i.param,i.api_response,t[s]));n(i.demander,a,o.AdnetworkRenderingType.DOMFromFragment)}catch(e){return void r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api response!"})}},!0,!0,null,{timeoutMilliSec:5e3,handler:function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.RequestTimeout,message:"adnw request timeout!"})}},function(){r(i.demander,{code:o.AdnetworkAPIResponseErrorType.Other,message:"invalid api request!"})})},e.buildupRequestBaseParams=function(e,t,n,r){var i=[];return i.push({name:"_token",value:t.api_params._token}),i.push({name:"_loc",value:t.api_params._loc}),i},e.prototype.render=function(e,t,n){for(var o=Math.min(this.remaining_slot_count,e.length),a=0;a<o;a++){var s=e[a],u=r.NativeDemanderHelper.needUseSeparator(this.remaining_slot_count,a+1,this.api_response.separator);s.result_tag=t.replace_template(s,this.param,this.api_response,this.get_fixTemplate(),n,u),t.render(this.target_element,s,this.param,this.api_response,n),i.RendererHelper.appendImpImageTag(s.imp_url,this.target_element)}this.displayed_count=o},e.prototype.renderComplete=function(e,t,n){e(this.displayed_count)},e.prototype.followupRendering=function(){},e.prototype.get_fixTemplate=function(){return this.api_response.template},e.prototype.terminate=function(){},e}();t.Fam8MultiSlotExecutor=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(109)),r(n(110)),r(n(111)),r(n(112))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i,o)||this;return a.param=t,a.target_element=n,a.demander=r,a.api_response=i,a.logger=o,a.optoutElementId="im_dynalyst_opt_"+a.param.asid+"_"+a.param.asn+"_",a.optoutElementNum=0,a}return r(t,e),t.prototype.get_fixTemplate=function(){for(var e,n=this.api_response.template,r=new RegExp("(PR|)?(?:[^PR]*?)({{title(?::(?:[1-9][0-9]*))?}})","g");null!=(e=r.exec(this.api_response.template));)n=null!=e[1]?n.replace(e[0],e[0].replace(e[1],'<span id="'+this.createOptoutElementId()+'">'+e[1]+"</span>")):n.replace(e[0],e[0].replace(e[2],'<span id="'+this.createOptoutElementId()+'">[PR]</span>'+e[2]));return n='\n<style type="text/css">\n    [id="'+this.target_element.id+'"] img[src^="'+t.imgUrlPrefix+'"] {\n        background-color: #FFFFFF !important;\n    }\n</style>\n'+n},t.prototype.terminate=function(){for(var e=0;e<this.optoutElementNum;e++){var t=document.getElementById(this.getOptoutElementId(e));t&&t.addEventListener&&t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),window.open("https://www.dynalyst.jp/legal/policy/optout.html","_blank")},!1)}},t.prototype.createOptoutElementId=function(){var e=this.optoutElementId+this.optoutElementNum;return this.optoutElementNum++,e},t.prototype.getOptoutElementId=function(e){return this.optoutElementId+e},t.imgUrlPrefix="https://img-proxy.ca-conv.jp",t}(i.DefaultDSPExecutor);t.CADynalystExecutor=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i,o)||this;return a.param=t,a.target_element=n,a.demander=r,a.api_response=i,a.logger=o,a}return r(t,e),t.prototype.get_fixTemplate=function(){if(this.api_response.template.match(/{{sponsored(:[1-9][0-9]*)?}}/))return this.api_response.template;for(var e,t=this.api_response.template,n=new RegExp("(PR|)?(?:[^PR]*?)({{title(?::(?:[1-9][0-9]*))?}})","g");null!=(e=n.exec(this.api_response.template));)null==e[1]&&(t=t.replace(e[0],e[0].replace(e[2],"[PR]"+e[2])));return t},t.prototype.terminate=function(){},t}(i.DefaultDSPExecutor);t.FreakOutExecutor=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(19),a=n(7),s=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i,o)||this;return a.param=t,a.target_element=n,a.demander=r,a.api_response=i,a.logger=o,a}return r(t,e),t.prototype.convertAdvertisement=function(e,t,n){var r={title:n.title,description:n.description,click_url:n.click_url,image_url:n.image_url,sponsored:n.sponsored,imp_url:"",adv_domain:n.adv_domain,adv_domain_url:n.adv_domain_url,optout_url:n.optout_url,optout_image_url:n.optout_image_url,price:n.price,event_trackers:n.event_trackers};return i.NativeDemanderHelper.adjustSecureSchemeUrl(r),a.RendererHelper.overrideSponsored(r,this.demander),r},t.prototype.get_fixTemplate=function(){return this.demander.api_params.overrideTemplate},t.prototype.terminate=function(){},t}(o.DefaultDSPExecutor);t.CriteoExecutor=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i,o)||this;return a.param=t,a.target_element=n,a.demander=r,a.api_response=i,a.logger=o,a}return r(t,e),t}(i.DefaultDSPExecutor);t.UnicornExecutor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(114))},function(e,t,n){"use strict";function r(e){return void 0!=e.task&&void 0!=e.task.passback&&"call-imp"===e.task.passback.mode&&void 0!=e.task.passback.param&&void 0!=e.task.passback.param.asid&&e.task.passback.param.asid!=e.result.spotId}function i(e,t,n){return o(this,void 0,void 0,function(){var r;return a(this,function(i){return r=Object.assign({},t,e.task.passback.param),r.override_target_element=e.result.target_element,r.async=!0,n.i("spot:"+t.asid+" execute passback to spot:"+r.asid),new s.NativeSpot(r).show(),[2]})})}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(31);t.enablePassback=r,t.executePassback=i},function(e,t){},function(e,t,n){"use strict";function r(e){var t=a.toEnumValue(e.logLevel,i);t||(t=a.toEnumValue(o.IMPDefaultLogLevel,i));var n=new s(t);return void 0==window.IMobile.IMP.logger&&(window.IMobile.IMP.logger=n),n}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),a=n(5);!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.info=3]="info",e[e.debug=4]="debug"}(i=t.LoggingLevel||(t.LoggingLevel={}));var s=function(){function e(e){this.level=e}return e.prototype.e=function(e){this.isLoggable(i.error,this.level)&&console.error&&console.error(e)},e.prototype.w=function(e){this.isLoggable(i.warn,this.level)&&console.warn&&console.warn(e)},e.prototype.i=function(e){this.isLoggable(i.info,this.level)&&console.info&&console.info(e)},e.prototype.d=function(e){this.isLoggable(i.debug,this.level)&&console.debug&&console.debug(e)},e.prototype.l=function(e){console.log&&console.log(e)},e.prototype.isLoggable=function(e,t){return t>=e&&!!console},e}();t.Logger=s,t.createLogger=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.ok=200]="ok",e[e.fail=500]="fail"}(t.ApiResponseStatus||(t.ApiResponseStatus={}));!function(e){e[e.invalidParameter=400]="invalidParameter",e[e.forbidden=403]="forbidden",e[e.unknown=999]="unknown"}(t.ApiResponseErrorCode||(t.ApiResponseErrorCode={}))},function(e,t,n){"use strict";function r(e){return u.test(e)&&"00000000-0000-0000-0000-000000000000"!==e}function i(e,t,n,i){if(void 0===i&&(i=window),!window.IMobile.IMP.synced.tapad){if(t&&r(t)){var u=o.makeTrackingPixel(s,{partner_id:[a],partner_typed_did:['{"HARDWARE_IDFA":"'+t+'"}']});return i.document.body.appendChild(u),void(window.IMobile.IMP.synced.tapad=!0)}if(n&&r(n)){var u=o.makeTrackingPixel(s,{partner_id:[a],partner_typed_did:['{"HARDWARE_ANDROID_AD_ID":"'+n+'"}']});return i.document.body.appendChild(u),void(window.IMobile.IMP.synced.tapad=!0)}if(e&&r(e)){var u=o.makeTrackingPixel(s,{partner_id:[a],partner_device_id:[e]});return i.document.body.appendChild(u),void(window.IMobile.IMP.synced.tapad=!0)}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(119),a="3170",s="pixel.tapad.com/idsync/ex/receive",u=/^[0-9a-zA-Z]{8}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{4}\-[0-9a-zA-Z]{12}$/;t.isValidUuid=r,t.executeIdSyncIfPossible=i},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(t).map(function(e){var n=encodeURIComponent(e);return t[e].map(function(e){return n+"="+encodeURIComponent(e)}).join("&")}).join("&"),r=document.createElement("img");return r.src=""+i.protocol+e+(/\?/.test(e)?"&":"?")+n,r.style.width="0px",r.style.height="0px",r.style.margin="0px",r.style.padding="0px",r.style.overflow="hidden",r.style.display="none",r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27);t.makeTrackingPixel=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(121)),r(n(42))},function(e,t,n){"use strict";function r(e){return void 0!=e.task&&void 0!=e.task.hb&&e.task.hb.n.length>=1}function i(e,t,n){var r=window.IMobile.IMP.logger;switch(e){case d.AdNetwork.CDB:return u.requestCDB(t,n);default:return r.e("task.hbidding.n is not expected value contained. id: "+e),Promise.resolve(null)}}function o(e,t){return a(this,void 0,void 0,function(){var n,r,o,a;return s(this,function(s){switch(s.label){case 0:return n=t.task.hb.n,r=t.task.hb.s,o=t.result.demander.slice().filter(function(e){return!(e.type===d.DemanderType.adnetwork&&n.some(function(t){return t===e.id}))}),[4,Promise.all(n.map(function(n){return i(n,e,t)}))];case 1:return a=s.sent(),[2,c.sortScore(o,r,a.filter(function(e){return null!=e}))]}})})}var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var u=n(26),d=n(42),c=n(122);t.enableHeaderBidding=r,t.executeHeaderBidding=o},function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=0);for(var r=e.length,i=n;i<r;i++)if(e[i]<=t)return i;return r}function i(e,t,n){var i=t.slice(),o=e.slice(),a=0;return n.sort(function(e,t){return e.s>=t.s?-1:1}).forEach(function(e){a=r(i,e.s,a),i.splice(a,0,e.s),o.splice(a,0,e)}),[i,o]}Object.defineProperty(t,"__esModule",{value:!0}),t.findAppendIndex=r,t.sortScore=i}])});