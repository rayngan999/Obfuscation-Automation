!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var n,o,i,a=function(e){return e&&e.Math==Math&&e},c=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof e&&e)||Function("return this")(),u=function(e){try{return!!e()}catch(e){return!0}},s=!u((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),f=function(e){return"object"==typeof e?null!==e:"function"==typeof e},l=c.document,d=f(l)&&f(l.createElement),p=function(e){return d?l.createElement(e):{}},h=!s&&!u((function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a})),y=function(e){if(!f(e))throw TypeError(String(e)+" is not an object");return e},v=function(e,t){if(!f(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!f(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!f(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!f(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},m=Object.defineProperty,g={f:s?m:function(e,t,r){if(y(e),t=v(t,!0),y(r),h)try{return m(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},b=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},w=s?function(e,t,r){return g.f(e,t,b(1,r))}:function(e,t,r){return e[t]=r,e},_=function(e,t){try{w(c,e,t)}catch(r){c[e]=t}return t},E=c["__core-js_shared__"]||_("__core-js_shared__",{}),T=r((function(e){(e.exports=function(e,t){return E[e]||(E[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.3.4",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),O={}.hasOwnProperty,P=function(e,t){return O.call(e,t)},S=T("native-function-to-string",Function.toString),M=c.WeakMap,j="function"==typeof M&&/native code/.test(S.call(M)),A=0,I=Math.random(),x=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++A+I).toString(36)},D=T("keys"),C=function(e){return D[e]||(D[e]=x(e))},k={},L=c.WeakMap;if(j){var R=new L,U=R.get,N=R.has,B=R.set;n=function(e,t){return B.call(R,e,t),t},o=function(e){return U.call(R,e)||{}},i=function(e){return N.call(R,e)}}else{var F=C("state");k[F]=!0,n=function(e,t){return w(e,F,t),t},o=function(e){return P(e,F)?e[F]:{}},i=function(e){return P(e,F)}}var q={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!f(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},V=r((function(e){var t=q.get,r=q.enforce,n=String(S).split("toString");T("inspectSource",(function(e){return S.call(e)})),(e.exports=function(e,t,o,i){var a=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||P(o,"name")||w(o,"name",t),r(o).source=n.join("string"==typeof t?t:"")),e!==c?(a?!s&&e[t]&&(u=!0):delete e[t],u?e[t]=o:w(e,t,o)):u?e[t]=o:_(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||S.call(this)}))})),H={}.toString,G=function(e){return H.call(e).slice(8,-1)},W=!!Object.getOwnPropertySymbols&&!u((function(){return!String(Symbol())})),z=c.Symbol,J=T("wks"),X=function(e){return J[e]||(J[e]=W&&z[e]||(W?z:x)("Symbol."+e))},K=X("toStringTag"),Y="Arguments"==G(function(){return arguments}()),Z=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),K))?r:Y?G(t):"Object"==(n=G(t))&&"function"==typeof t.callee?"Arguments":n},$={};$[X("toStringTag")]="z";var Q="[object z]"!==String($)?function(){return"[object "+Z(this)+"]"}:$.toString,ee=Object.prototype;Q!==ee.toString&&V(ee,"toString",Q,{unsafe:!0});var te,re,ne,oe=Math.ceil,ie=Math.floor,ae=function(e){return isNaN(e=+e)?0:(e>0?ie:oe)(e)},ce=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},ue=function(e){return function(t,r){var n,o,i=String(ce(t)),a=ae(r),c=i.length;return a<0||a>=c?e?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):n:e?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},se={codeAt:ue(!1),charAt:ue(!0)},fe={}.propertyIsEnumerable,le=Object.getOwnPropertyDescriptor,de={f:le&&!fe.call({1:2},1)?function(e){var t=le(this,e);return!!t&&t.enumerable}:fe},pe="".split,he=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==G(e)?pe.call(e,""):Object(e)}:Object,ye=function(e){return he(ce(e))},ve=Object.getOwnPropertyDescriptor,me={f:s?ve:function(e,t){if(e=ye(e),t=v(t,!0),h)try{return ve(e,t)}catch(e){}if(P(e,t))return b(!de.f.call(e,t),e[t])}},ge=c,be=function(e){return"function"==typeof e?e:void 0},we=function(e,t){return arguments.length<2?be(ge[e])||be(c[e]):ge[e]&&ge[e][t]||c[e]&&c[e][t]},_e=Math.min,Ee=function(e){return e>0?_e(ae(e),9007199254740991):0},Te=Math.max,Oe=Math.min,Pe=function(e){return function(t,r,n){var o,i=ye(t),a=Ee(i.length),c=function(e,t){var r=ae(e);return r<0?Te(r+t,0):Oe(r,t)}(n,a);if(e&&r!=r){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===r)return e||c||0;return!e&&-1}},Se={includes:Pe(!0),indexOf:Pe(!1)}.indexOf,Me=function(e,t){var r,n=ye(e),o=0,i=[];for(r in n)!P(k,r)&&P(n,r)&&i.push(r);for(;t.length>o;)P(n,r=t[o++])&&(~Se(i,r)||i.push(r));return i},je=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ae=je.concat("length","prototype"),Ie={f:Object.getOwnPropertyNames||function(e){return Me(e,Ae)}},xe={f:Object.getOwnPropertySymbols},De=we("Reflect","ownKeys")||function(e){var t=Ie.f(y(e)),r=xe.f;return r?t.concat(r(e)):t},Ce=function(e,t){for(var r=De(t),n=g.f,o=me.f,i=0;i<r.length;i++){var a=r[i];P(e,a)||n(e,a,o(t,a))}},ke=/#|\.prototype\./,Le=function(e,t){var r=Ue[Re(e)];return r==Be||r!=Ne&&("function"==typeof t?u(t):!!t)},Re=Le.normalize=function(e){return String(e).replace(ke,".").toLowerCase()},Ue=Le.data={},Ne=Le.NATIVE="N",Be=Le.POLYFILL="P",Fe=Le,qe=me.f,Ve=function(e,t){var r,n,o,i,a,u=e.target,s=e.global,f=e.stat;if(r=s?c:f?c[u]||_(u,{}):(c[u]||{}).prototype)for(n in t){if(i=t[n],o=e.noTargetGet?(a=qe(r,n))&&a.value:r[n],!Fe(s?n:u+(f?".":"#")+n,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ce(i,o)}(e.sham||o&&o.sham)&&w(i,"sham",!0),V(r,n,i,e)}},He=!u((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Ge=C("IE_PROTO"),We=Object.prototype,ze=He?Object.getPrototypeOf:function(e){return e=Object(ce(e)),P(e,Ge)?e[Ge]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?We:null},Je=X("iterator"),Xe=!1;[].keys&&("next"in(ne=[].keys())?(re=ze(ze(ne)))!==Object.prototype&&(te=re):Xe=!0),null==te&&(te={}),P(te,Je)||w(te,Je,(function(){return this}));var Ke={IteratorPrototype:te,BUGGY_SAFARI_ITERATORS:Xe},Ye=Object.keys||function(e){return Me(e,je)},Ze=s?Object.defineProperties:function(e,t){y(e);for(var r,n=Ye(t),o=n.length,i=0;o>i;)g.f(e,r=n[i++],t[r]);return e},$e=we("document","documentElement"),Qe=C("IE_PROTO"),et=function(){},tt=function(){var e,t=p("iframe"),r=je.length;for(t.style.display="none",$e.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),tt=e.F;r--;)delete tt.prototype[je[r]];return tt()},rt=Object.create||function(e,t){var r;return null!==e?(et.prototype=y(e),r=new et,et.prototype=null,r[Qe]=e):r=tt(),void 0===t?r:Ze(r,t)};k[Qe]=!0;var nt=g.f,ot=X("toStringTag"),it=function(e,t,r){e&&!P(e=r?e:e.prototype,ot)&&nt(e,ot,{configurable:!0,value:t})},at={},ct=Ke.IteratorPrototype,ut=function(){return this},st=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return y(r),function(e){if(!f(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),ft=Ke.IteratorPrototype,lt=Ke.BUGGY_SAFARI_ITERATORS,dt=X("iterator"),pt=function(){return this},ht=function(e,t,r,n,o,i,a){!function(e,t,r){var n=t+" Iterator";e.prototype=rt(ct,{next:b(1,r)}),it(e,n,!1),at[n]=ut}(r,t,n);var c,u,s,f=function(e){if(e===o&&y)return y;if(!lt&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},l=t+" Iterator",d=!1,p=e.prototype,h=p[dt]||p["@@iterator"]||o&&p[o],y=!lt&&h||f(o),v="Array"==t&&p.entries||h;if(v&&(c=ze(v.call(new e)),ft!==Object.prototype&&c.next&&(ze(c)!==ft&&(st?st(c,ft):"function"!=typeof c[dt]&&w(c,dt,pt)),it(c,l,!0))),"values"==o&&h&&"values"!==h.name&&(d=!0,y=function(){return h.call(this)}),p[dt]!==y&&w(p,dt,y),at[t]=y,o)if(u={values:f("values"),keys:i?y:f("keys"),entries:f("entries")},a)for(s in u)!lt&&!d&&s in p||V(p,s,u[s]);else Ve({target:t,proto:!0,forced:lt||d},u);return u},yt=se.charAt,vt=q.set,mt=q.getterFor("String Iterator");ht(String,"String",(function(e){vt(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=mt(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=yt(r,n),t.index+=e.length,{value:e,done:!1})}));var gt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},bt=X("unscopables"),wt=Array.prototype;null==wt[bt]&&w(wt,bt,rt(null));var _t=function(e){wt[bt][e]=!0},Et=q.set,Tt=q.getterFor("Array Iterator"),Ot=ht(Array,"Array",(function(e,t){Et(this,{type:"Array Iterator",target:ye(e),index:0,kind:t})}),(function(){var e=Tt(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");at.Arguments=at.Array,_t("keys"),_t("values"),_t("entries");var Pt=X("iterator"),St=X("toStringTag"),Mt=Ot.values;for(var jt in gt){var At=c[jt],It=At&&At.prototype;if(It){if(It[Pt]!==Mt)try{w(It,Pt,Mt)}catch(e){It[Pt]=Mt}if(It[St]||w(It,St,jt),gt[jt])for(var xt in Ot)if(It[xt]!==Ot[xt])try{w(It,xt,Ot[xt])}catch(e){It[xt]=Ot[xt]}}}var Dt=c.Promise,Ct=X("species"),kt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Lt=X("iterator"),Rt=Array.prototype,Ut=function(e,t,r){if(kt(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},Nt=X("iterator"),Bt=function(e,t,r,n){try{return n?t(y(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&y(o.call(e)),t}},Ft=r((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,r,n,o,i){var a,c,u,s,f,l,d,p,h=Ut(r,n,o?2:1);if(i)a=e;else{if("function"!=typeof(c=function(e){if(null!=e)return e[Nt]||e["@@iterator"]||at[Z(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(p=c)&&(at.Array===p||Rt[Lt]===p)){for(u=0,s=Ee(e.length);s>u;u++)if((f=o?h(y(d=e[u])[0],d[1]):h(e[u]))&&f instanceof t)return f;return new t(!1)}a=c.call(e)}for(l=a.next;!(d=l.call(a)).done;)if("object"==typeof(f=Bt(a,h,d.value,o))&&f&&f instanceof t)return f;return new t(!1)}).stop=function(e){return new t(!0,e)}})),qt=X("iterator"),Vt=!1;try{var Ht=0,Gt={next:function(){return{done:!!Ht++}},return:function(){Vt=!0}};Gt[qt]=function(){return this},Array.from(Gt,(function(){throw 2}))}catch(e){}var Wt,zt,Jt,Xt=X("species"),Kt=function(e,t){var r,n=y(e).constructor;return void 0===n||null==(r=y(n)[Xt])?t:kt(r)},Yt=we("navigator","userAgent")||"",Zt=c.location,$t=c.setImmediate,Qt=c.clearImmediate,er=c.process,tr=c.MessageChannel,rr=c.Dispatch,nr=0,or={},ir=function(e){if(or.hasOwnProperty(e)){var t=or[e];delete or[e],t()}},ar=function(e){return function(){ir(e)}},cr=function(e){ir(e.data)},ur=function(e){c.postMessage(e+"",Zt.protocol+"//"+Zt.host)};$t&&Qt||($t=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return or[++nr]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Wt(nr),nr},Qt=function(e){delete or[e]},"process"==G(er)?Wt=function(e){er.nextTick(ar(e))}:rr&&rr.now?Wt=function(e){rr.now(ar(e))}:tr&&!/(iphone|ipod|ipad).*applewebkit/i.test(Yt)?(Jt=(zt=new tr).port2,zt.port1.onmessage=cr,Wt=Ut(Jt.postMessage,Jt,1)):!c.addEventListener||"function"!=typeof postMessage||c.importScripts||u(ur)?Wt="onreadystatechange"in p("script")?function(e){$e.appendChild(p("script")).onreadystatechange=function(){$e.removeChild(this),ir(e)}}:function(e){setTimeout(ar(e),0)}:(Wt=ur,c.addEventListener("message",cr,!1)));var sr,fr,lr,dr,pr,hr,yr,vr,mr={set:$t,clear:Qt},gr=me.f,br=mr.set,wr=c.MutationObserver||c.WebKitMutationObserver,_r=c.process,Er=c.Promise,Tr="process"==G(_r),Or=gr(c,"queueMicrotask"),Pr=Or&&Or.value;Pr||(sr=function(){var e,t;for(Tr&&(e=_r.domain)&&e.exit();fr;){t=fr.fn,fr=fr.next;try{t()}catch(e){throw fr?dr():lr=void 0,e}}lr=void 0,e&&e.enter()},Tr?dr=function(){_r.nextTick(sr)}:wr&&!/(iphone|ipod|ipad).*applewebkit/i.test(Yt)?(pr=!0,hr=document.createTextNode(""),new wr(sr).observe(hr,{characterData:!0}),dr=function(){hr.data=pr=!pr}):Er&&Er.resolve?(yr=Er.resolve(void 0),vr=yr.then,dr=function(){vr.call(yr,sr)}):dr=function(){br.call(c,sr)});var Sr,Mr,jr=Pr||function(e){var t={fn:e,next:void 0};lr&&(lr.next=t),fr||(fr=t,dr()),lr=t},Ar=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=kt(t),this.reject=kt(r)},Ir={f:function(e){return new Ar(e)}},xr=function(e,t){if(y(e),f(t)&&t.constructor===e)return t;var r=Ir.f(e);return(0,r.resolve)(t),r.promise},Dr=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Cr=c.process,kr=Cr&&Cr.versions,Lr=kr&&kr.v8;Lr?Mr=(Sr=Lr.split("."))[0]+Sr[1]:Yt&&(Sr=Yt.match(/Chrome\/(\d+)/))&&(Mr=Sr[1]);var Rr,Ur,Nr,Br,Fr=Mr&&+Mr,qr=mr.set,Vr=X("species"),Hr="Promise",Gr=q.get,Wr=q.set,zr=q.getterFor(Hr),Jr=Dt,Xr=c.TypeError,Kr=c.document,Yr=c.process,Zr=we("fetch"),$r=Ir.f,Qr=$r,en="process"==G(Yr),tn=!!(Kr&&Kr.createEvent&&c.dispatchEvent),rn=Fe(Hr,(function(){var e=Jr.resolve(1),t=function(){},r=(e.constructor={})[Vr]=function(e){e(t,t)};return!((en||"function"==typeof PromiseRejectionEvent)&&e.then(t)instanceof r&&66!==Fr)})),nn=rn||!function(e,t){if(!t&&!Vt)return!1;var r=!1;try{var n={};n[qt]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}((function(e){Jr.all(e).catch((function(){}))})),on=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},an=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;jr((function(){for(var o=t.value,i=1==t.state,a=0;n.length>a;){var c,u,s,f=n[a++],l=i?f.ok:f.fail,d=f.resolve,p=f.reject,h=f.domain;try{l?(i||(2===t.rejection&&fn(e,t),t.rejection=1),!0===l?c=o:(h&&h.enter(),c=l(o),h&&(h.exit(),s=!0)),c===f.promise?p(Xr("Promise-chain cycle")):(u=on(c))?u.call(c,d,p):d(c)):p(o)}catch(e){h&&!s&&h.exit(),p(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&un(e,t)}))}},cn=function(e,t,r){var n,o;tn?((n=Kr.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},(o=c["on"+e])?o(n):"unhandledrejection"===e&&function(e,t){var r=c.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}("Unhandled promise rejection",r)},un=function(e,t){qr.call(c,(function(){var r,n=t.value;if(sn(t)&&(r=Dr((function(){en?Yr.emit("unhandledRejection",n,e):cn("unhandledrejection",e,n)})),t.rejection=en||sn(t)?2:1,r.error))throw r.value}))},sn=function(e){return 1!==e.rejection&&!e.parent},fn=function(e,t){qr.call(c,(function(){en?Yr.emit("rejectionHandled",e):cn("rejectionhandled",e,t.value)}))},ln=function(e,t,r,n){return function(o){e(t,r,o,n)}},dn=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,an(e,t,!0))},pn=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw Xr("Promise can't be resolved itself");var o=on(r);o?jr((function(){var n={done:!1};try{o.call(r,ln(pn,e,n,t),ln(dn,e,n,t))}catch(r){dn(e,n,r,t)}})):(t.value=r,t.state=1,an(e,t,!1))}catch(r){dn(e,{done:!1},r,t)}}};rn&&(Jr=function(e){!function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}(this,Jr,Hr),kt(e),Rr.call(this);var t=Gr(this);try{e(ln(pn,this,t),ln(dn,this,t))}catch(e){dn(this,t,e)}},(Rr=function(e){Wr(this,{type:Hr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,r){for(var n in t)V(e,n,t[n],r);return e}(Jr.prototype,{then:function(e,t){var r=zr(this),n=$r(Kt(this,Jr));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=en?Yr.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&an(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),Ur=function(){var e=new Rr,t=Gr(e);this.promise=e,this.resolve=ln(pn,e,t),this.reject=ln(dn,e,t)},Ir.f=$r=function(e){return e===Jr||e===Nr?new Ur(e):Qr(e)},"function"==typeof Dt&&(Br=Dt.prototype.then,V(Dt.prototype,"then",(function(e,t){var r=this;return new Jr((function(e,t){Br.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Zr&&Ve({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return xr(Jr,Zr.apply(c,arguments))}}))),Ve({global:!0,wrap:!0,forced:rn},{Promise:Jr}),it(Jr,Hr,!1),function(e){var t=we(e),r=g.f;s&&t&&!t[Ct]&&r(t,Ct,{configurable:!0,get:function(){return this}})}(Hr),Nr=we(Hr),Ve({target:Hr,stat:!0,forced:rn},{reject:function(e){var t=$r(this);return t.reject.call(void 0,e),t.promise}}),Ve({target:Hr,stat:!0,forced:rn},{resolve:function(e){return xr(this,e)}}),Ve({target:Hr,stat:!0,forced:nn},{all:function(e){var t=this,r=$r(t),n=r.resolve,o=r.reject,i=Dr((function(){var r=kt(t.resolve),i=[],a=0,c=1;Ft(e,(function(e){var u=a++,s=!1;i.push(void 0),c++,r.call(t,e).then((function(e){s||(s=!0,i[u]=e,--c||n(i))}),o)})),--c||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=$r(t),n=r.reject,o=Dr((function(){var o=kt(t.resolve);Ft(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),Ve({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=Ir.f(t),n=r.resolve,o=r.reject,i=Dr((function(){var r=kt(t.resolve),o=[],i=0,a=1;Ft(e,(function(e){var c=i++,u=!1;o.push(void 0),a++,r.call(t,e).then((function(e){u||(u=!0,o[c]={status:"fulfilled",value:e},--a||n(o))}),(function(e){u||(u=!0,o[c]={status:"rejected",reason:e},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}}),Ve({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=Kt(this,we("Promise")),r="function"==typeof e;return this.then(r?function(r){return xr(t,e()).then((function(){return r}))}:e,r?function(r){return xr(t,e()).then((function(){throw r}))}:e)}}),"function"!=typeof Dt||Dt.prototype.finally||V(Dt.prototype,"finally",we("Promise").prototype.finally);ge.Promise;var hn=q.set,yn=q.getterFor("AggregateError"),vn=function(e,t){var r=this;if(!(r instanceof vn))return new vn(e,t);st&&(r=st(new Error(t),ze(r)));var n=[];return Ft(e,n.push,n),s?hn(r,{errors:n,type:"AggregateError"}):r.errors=n,void 0!==t&&w(r,"message",String(t)),r};vn.prototype=rt(Error.prototype,{constructor:b(5,vn),message:b(5,""),name:b(5,"AggregateError"),toString:b(5,(function(){var e=y(this).name;e=void 0===e?"AggregateError":String(e);var t=this.message;return e+": "+(t=void 0===t?"":String(t))}))}),s&&g.f(vn.prototype,"errors",{get:function(){return yn(this).errors},configurable:!0}),Ve({global:!0},{AggregateError:vn}),Ve({target:"Promise",stat:!0},{try:function(e){var t=Ir.f(this),r=Dr(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}});Ve({target:"Promise",stat:!0},{any:function(e){var t=this,r=Ir.f(t),n=r.resolve,o=r.reject,i=Dr((function(){var r=kt(t.resolve),i=[],a=0,c=1,u=!1;Ft(e,(function(e){var s=a++,f=!1;i.push(void 0),c++,r.call(t,e).then((function(e){f||u||(u=!0,n(e))}),(function(e){f||u||(f=!0,i[s]=e,--c||o(new(we("AggregateError"))(i,"No one promise resolved")))}))})),--c||o(new(we("AggregateError"))(i,"No one promise resolved"))}));return i.error&&o(i.value),r.promise}});var mn={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(mn.arrayBuffer)var gn=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],bn=ArrayBuffer.isView||function(e){return e&&gn.indexOf(Object.prototype.toString.call(e))>-1};function wn(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function _n(e){return"string"!=typeof e&&(e=String(e)),e}function En(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return mn.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Tn(e){this.map={},e instanceof Tn?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function On(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function Pn(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function Sn(e){var t=new FileReader,r=Pn(t);return t.readAsArrayBuffer(e),r}function Mn(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function jn(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:mn.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:mn.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:mn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():mn.arrayBuffer&&mn.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=Mn(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):mn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||bn(e))?this._bodyArrayBuffer=Mn(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):mn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},mn.blob&&(this.blob=function(){var e=On(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?On(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Sn)}),this.text=function(){var e=On(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=Pn(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},mn.formData&&(this.formData=function(){return this.text().then(xn)}),this.json=function(){return this.text().then(JSON.parse)},this}Tn.prototype.append=function(e,t){e=wn(e),t=_n(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Tn.prototype.delete=function(e){delete this.map[wn(e)]},Tn.prototype.get=function(e){return e=wn(e),this.has(e)?this.map[e]:null},Tn.prototype.has=function(e){return this.map.hasOwnProperty(wn(e))},Tn.prototype.set=function(e,t){this.map[wn(e)]=_n(t)},Tn.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Tn.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),En(e)},Tn.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),En(e)},Tn.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),En(e)},mn.iterable&&(Tn.prototype[Symbol.iterator]=Tn.prototype.entries);var An=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function In(e,t){var r,n,o=(t=t||{}).body;if(e instanceof In){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Tn(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Tn(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),An.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function xn(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function Dn(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Tn(t.headers),this.url=t.url||"",this._initBody(e)}In.prototype.clone=function(){return new In(this,{body:this._bodyInit})},jn.call(In.prototype),jn.call(Dn.prototype),Dn.prototype.clone=function(){return new Dn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Tn(this.headers),url:this.url})},Dn.error=function(){var e=new Dn(null,{status:0,statusText:""});return e.type="error",e};var Cn=[301,302,303,307,308];Dn.redirect=function(e,t){if(-1===Cn.indexOf(t))throw new RangeError("Invalid status code");return new Dn(null,{status:t,headers:{location:e}})};var kn=self.DOMException;try{new kn}catch(e){(kn=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),kn.prototype.constructor=kn}function Ln(e,t){return new Promise((function(r,n){var o=new In(e,t);if(o.signal&&o.signal.aborted)return n(new kn("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new Tn,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;r(new Dn(o,n))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.onabort=function(){n(new kn("Aborted","AbortError"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&mn.blob&&(i.responseType="blob"),o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}function Rn(e){!function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"loading"!==document.readyState&&e()}))}((function(){var t=window.ShopifyAnalytics;t&&t.lib&&t.lib.ready((function(){e()}))}))}Ln.polyfill=!0,self.fetch||(self.fetch=Ln,self.Headers=Tn,self.Request=In,self.Response=Dn);var Un=[];function Nn(e){return Un.indexOf(e)}function Bn(e,t){Array.prototype.slice.apply(document.querySelectorAll(e)).forEach((function(e){-1===Un.indexOf(e)&&(Un.push(e),t(e))}))}
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Fn=function(e,t){return(Fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var qn=function(){return(qn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Vn(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function Hn(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function Gn(e){return this instanceof Gn?(this.v=e,this):new Gn(e)}var Wn=Object.freeze({__proto__:null,__extends:function(e,t){function r(){this.constructor=e}Fn(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},get __assign(){return qn},__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},__decorate:function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},__param:function(e,t){return function(r,n){t(r,n,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function c(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(a,c)}u((n=n.apply(e,t||[])).next())}))},__generator:function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},__exportStar:function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])},__values:Vn,__read:Hn,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hn(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)n[o]=i[a];return n},__await:Gn,__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=o[e](t)).value instanceof Gn?Promise.resolve(r.value.v).then(u,s):f(i[0][2],r)}catch(e){f(i[0][3],e)}var r}function u(e){c("next",e)}function s(e){c("throw",e)}function f(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:Gn(e[n](t)),done:"return"===n}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=Vn(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}}}),zn=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEVELOPMENT_DOMAIN="http://localhost:8082",t.PRODUCTION_DOMAIN="https://monorail-edge.shopifysvc.com",t.PRODUCE_BATCH_ENDPOINT="/unstable/produce_batch",t.PRODUCE_ENDPOINT="/v1/produce",t.PRODUCTION_CANADA_ENDPOINT="https://monorail-edge-ca.shopifycloud.com/v1/produce",t.extractDomain=function(e){return"https://"+new URL(e).hostname}}));t(zn);zn.DEVELOPMENT_DOMAIN,zn.PRODUCTION_DOMAIN,zn.PRODUCE_BATCH_ENDPOINT,zn.PRODUCE_ENDPOINT,zn.PRODUCTION_CANADA_ENDPOINT,zn.extractDomain;for(var Jn=r((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}})),Xn=[],Kn=0;Kn<256;++Kn)Xn[Kn]=(Kn+256).toString(16).substr(1);var Yn,Zn,$n=function(e,t){var r=t||0,n=Xn;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")},Qn=0,eo=0;var to=function(e,t,r){var n=t&&r||0,o=t||[],i=(e=e||{}).node||Yn,a=void 0!==e.clockseq?e.clockseq:Zn;if(null==i||null==a){var c=Jn();null==i&&(i=Yn=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=Zn=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),s=void 0!==e.nsecs?e.nsecs:eo+1,f=u-Qn+(s-eo)/1e4;if(f<0&&void 0===e.clockseq&&(a=a+1&16383),(f<0||u>Qn)&&void 0===e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qn=u,eo=s,Zn=a;var l=(1e4*(268435455&(u+=122192928e5))+s)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=255&l;var d=u/4294967296*1e4&268435455;o[n++]=d>>>8&255,o[n++]=255&d,o[n++]=d>>>24&15|16,o[n++]=d>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var p=0;p<6;++p)o[n+p]=i[p];return t||$n(o)};var ro=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Jn)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[n+i]=o[i];return t||$n(o)},no=ro;no.v1=to,no.v4=ro;var oo=no,io=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(r){var n=e.call(this,"Error producing to the Monorail Edge. Response received: "+JSON.stringify(r))||this;return n.response=r,Object.setPrototypeOf(n,t.prototype),n}return Wn.__extends(t,e),t}(Error);t.MonorailUnableToProduceError=r;var n=function(e){function t(r){var n=e.call(this,"Error producing to the Monorail Edge. Response received: "+JSON.stringify(r))||this;return Object.setPrototypeOf(n,t.prototype),n.response=r,n}return Wn.__extends(t,e),t}(Error);t.MonorailBatchProduceError=n;var o=function(e){function t(r){var n=e.call(this,"Error completing request. A network failure may have prevented the request from completing. Error: "+r)||this;return Object.setPrototypeOf(n,t.prototype),n}return Wn.__extends(t,e),t}(Error);t.MonorailRequestError=o;var i=function(e){function t(r){var n=e.call(this,""+r)||this;return Object.setPrototypeOf(n,t.prototype),n}return Wn.__extends(t,e),t}(Error);t.MonorailRetriesExceededError=i}));t(io);io.MonorailUnableToProduceError,io.MonorailBatchProduceError,io.MonorailRequestError,io.MonorailRetriesExceededError;var ao=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){void 0===e&&(e=zn.DEVELOPMENT_DOMAIN),this.edgeDomain=e}return e.withEndpoint=function(t){return new e(zn.extractDomain(t))},e.getHeadersFromMetadata=function(e){var t={"Content-Type":"application/json; charset=utf-8","X-Monorail-Edge-Event-Created-At-Ms":(e&&e.eventCreatedAtMs||Date.now()).toString(),"X-Monorail-Edge-Event-Sent-At-Ms":Date.now().toString(),"X-Monorail-Edge-Client-Message-Id":(e&&e.clientMessageId||oo.v4()).toString()};return e&&e.userAgent&&(t["User-Agent"]=e.userAgent),t},e.prototype.produceBatch=function(t){return Wn.__awaiter(this,void 0,void 0,(function(){var r,n,o,i,a,c;return Wn.__generator(this,(function(u){switch(u.label){case 0:r={events:this.convertAllEventsToUnderscoreCase(t),metadata:this.toUnderscoreCase(t.metadata)},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,fetch(this.produceBatchEndpoint(),{method:"post",headers:e.getHeadersFromMetadata(t.metadata),body:JSON.stringify(r)})];case 2:return n=u.sent(),[3,4];case 3:throw o=u.sent(),new io.MonorailRequestError(o);case 4:return 207!==n.status?[3,6]:[4,n.json()];case 5:throw i=u.sent(),new io.MonorailBatchProduceError(i);case 6:return n.ok?[3,8]:(a=io.MonorailUnableToProduceError.bind,c={status:n.status},[4,n.text()]);case 7:throw new(a.apply(io.MonorailUnableToProduceError,[void 0,(c.message=u.sent(),c)]));case 8:return[2,{status:n.status}]}}))}))},e.prototype.produce=function(t){return Wn.__awaiter(this,void 0,void 0,(function(){var r,n,o,i,a;return Wn.__generator(this,(function(c){switch(c.label){case 0:r={schema_id:t.schemaId,payload:this.toUnderscoreCase(t.payload)},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,fetch(this.produceEndpoint(),{method:"post",headers:e.getHeadersFromMetadata(t.metadata),body:JSON.stringify(r)})];case 2:return n=c.sent(),[3,4];case 3:throw o=c.sent(),new io.MonorailRequestError(o);case 4:if(!n)throw new io.MonorailUnableToProduceError({message:"No response from edge"});return n.ok?[3,6]:(i=io.MonorailUnableToProduceError.bind,a={status:n.status},[4,n.text()]);case 5:throw new(i.apply(io.MonorailUnableToProduceError,[void 0,(a.message=c.sent(),a)]));case 6:return[2,{status:n.status}]}}))}))},e.prototype.produceBatchEndpoint=function(){return this.edgeDomain+zn.PRODUCE_BATCH_ENDPOINT},e.prototype.produceEndpoint=function(){return this.edgeDomain+zn.PRODUCE_ENDPOINT},e.prototype.convertAllEventsToUnderscoreCase=function(e){var t=this;return e.events.map((function(e){return{schema_id:e.schemaId,payload:t.toUnderscoreCase(e.payload),metadata:t.toUnderscoreCase(e.metadata)}}))},e.prototype.toUnderscoreCase=function(e){var t=this;return e?Object.keys(e).map((function(r){var n;return(n={})[t.convertStringToUnderscoreCase(r)]=e[r],n})).reduce((function(e,t){return Wn.__assign({},e,t)})):e},e.prototype.convertStringToUnderscoreCase=function(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()},e}();t.HttpProducer=r}));t(ao);ao.HttpProducer;var co=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){this.sendToConsole=t,t&&e.printWelcomeMessage(t)}return e.printWelcomeMessage=function(e){console.log("%cð from Monorail%c\n\nWe've noticed that you're"+(e?"":" not")+" running in debug mode. As such, we will "+(e?"produce":"not produce")+" Monorail events to the console. \n\nIf you want Monorail events to "+(e?"stop":"start")+" appearing here, %cset debugMode="+(!e).toString()+"%c, for the Monorail Log Producer in your code.","font-size: large;","font-size: normal;","font-weight: bold;","font-weight: normal;")},e.prototype.produce=function(e){return this.sendToConsole&&console.log("Monorail event produced",e),new Promise((function(t){t(e)}))},e.prototype.produceBatch=function(e){return this.sendToConsole&&console.log("Monorail Batch event produced",e),new Promise((function(t){t(e)}))},e}();t.LogProducer=r}));t(co);co.LogProducer;var uo=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCompositeMonorailEvent=function(e){return void 0!==e.schemaId}}));t(uo);uo.isCompositeMonorailEvent;var so=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.producer=e}return e.prototype.do=function(e,t){return uo.isCompositeMonorailEvent(e)?this.producer.produce(e):this.producer.produceBatch(e)},e}();t.ProducerMiddleware=r}));t(so);so.ProducerMiddleware;var fo=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t,r){this.producer=t,this.middleware=r,this.executeChain=e.buildMiddlewareChain(this.middleware.concat(new so.ProducerMiddleware(t)))}return e.createLogProducer=function(t){return new e(new co.LogProducer(t.debugMode),t.middleware||[])},e.createHttpProducerWithEndpoint=function(t,r){return void 0===r&&(r=[]),new e(ao.HttpProducer.withEndpoint(t),r)},e.createHttpProducer=function(t){return new e(t.production?new ao.HttpProducer(zn.PRODUCTION_DOMAIN):new ao.HttpProducer(zn.DEVELOPMENT_DOMAIN),t.middleware||[])},e.buildMiddlewareChain=function(e,t){var r=this;return void 0===t&&(t=0),t===e.length?this.identityFn:function(n){return e[t].do(n,r.buildMiddlewareChain(e,t+1))}},e.prototype.produce=function(e){return e.metadata=Wn.__assign({eventCreatedAtMs:Date.now(),clientMessageId:oo.v4()},e.metadata),this.executeChain(e)},e.prototype.produceBatch=function(e){return this.executeChain(e)},e}();t.Monorail=r}));t(fo);fo.Monorail;var lo=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===e&&(e=3),void 0===t&&(t=150),this.maxRetries=e,this.delayMs=t}return e.prototype.do=function(e,t){return Wn.__awaiter(this,void 0,void 0,(function(){var r,n,o,i,a;return Wn.__generator(this,(function(c){switch(c.label){case 0:r=0,c.label=1;case 1:if(!(r<this.maxRetries))return[3,7];o=void 0,c.label=2;case 2:return c.trys.push([2,4,,6]),[4,t(e)];case 3:return o=c.sent(),[3,6];case 4:if(i=c.sent(),n=n||new Error,n=new Error(n.message+" Retry count:"+(r+1)+" Error msg:"+i.message+"\n"),i instanceof io.MonorailUnableToProduceError&&(a=i.response.status)&&a>=400&&a<500)throw i;return[4,this.delay(this.delayMs*Math.pow(2,r))];case 5:return c.sent(),r++,[3,1];case 6:return[2,o];case 7:throw n?n.message="Retry count of "+this.maxRetries+" exceeded. Failed with error: \n"+n.message+" Aborting request for "+JSON.stringify(e):n=new Error,new io.MonorailRetriesExceededError(n)}}))}))},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e}();t.RetryMiddleware=r}));t(lo);lo.RetryMiddleware;var po=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Monorail=fo.Monorail,t.MonorailRequestError=io.MonorailRequestError,t.MonorailUnableToProduceError=io.MonorailUnableToProduceError,t.MonorailRetriesExceededError=io.MonorailRetriesExceededError,t.RetryMiddleware=lo.RetryMiddleware}));t(po);var ho=po.Monorail,yo=(po.MonorailRequestError,po.MonorailUnableToProduceError,po.MonorailRetriesExceededError,po.RetryMiddleware);function vo(){return window.location.href}function mo(){var e=function(){try{return window.ShopifyAnalytics.meta.page}catch(e){return null}}()||{},t=e.resourceType,r=void 0===t?null:t,n=e.resourceId;return{resourceType:r,resourceId:void 0===n?null:n}}var go,bo=null,wo='script#shopify-features[type="application/json"]';function _o(){if(!bo){var e=document.head.querySelector(wo)||document.querySelector(wo);if(!e)return null;bo=JSON.parse(e.innerHTML).shopId}return bo}function Eo(){try{return window.ShopifyAnalytics.lib.user().traits().uniqToken}catch(e){return null}}function To(){try{return window.ShopifyAnalytics.lib.trekkie.defaultAttributes.visitToken}catch(e){return null}}function Oo(){if(go)return qn(qn({},go),{pageUrl:vo()});var e=mo(),t=e.resourceId,r=e.resourceType;return go={shopId:_o(),uniqToken:Eo(),sessionToken:To(),pageUrl:vo(),resourceType:r,resourceId:t}}var Po=ho.createHttpProducer({production:!0,middleware:[new yo(5,200)]}),So=function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_ar_created/1.0",payload:qn(qn({},t),e)})},Mo=function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_ar_invoked/1.0",payload:qn(qn({},t),e)})},jo="html_anchor",Ao=So,Io=Mo,xo=0;function Do(e){var t=e.anchor,r=e.arElementType,n=xo++,o=t.href||"";t.addEventListener("click",(function(){Io({src:o,sessionSourceId:n,invoker:jo,arType:r})})),Ao({arElementType:r,sessionSourceId:n,src:o})}var Co='a[rel="ar"]';Rn((function(){Bn(Co,(function(e){Do({anchor:e,arElementType:"ar_quicklook"})}))}));var ko='a[href*="package=com.google.ar.core;action=android.intent.action.VIEW;"]';Rn((function(){Bn(ko,(function(e){Do({anchor:e,arElementType:"scene_viewer"})}))}));var Lo={trackCreated:function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_model_viewer_created/1.0",payload:qn(qn({},t),e)})},trackLoaded:function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_model_viewer_loaded/1.0",payload:qn(qn({},t),e)})},trackFailed:function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_model_viewer_failed/1.0",payload:qn(qn({},t),e)})},trackInteract:function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_model_viewer_interact/1.0",payload:qn(qn({},t),e)})}},Ro=0;var Uo="model-viewer";Rn((function(){Bn(Uo,(function(e){!function(e){var t=e.modelViewer,r=e.trackCreated,n=e.trackLoaded,o=e.trackFailed,i=e.trackInteract,a=Ro++,c=t.src||"",u=t.iosSrc,s=Date.now(),f=!1;r({sessionModelViewerId:a,src:c,iosSrc:u}),t.addEventListener("load",(function(){n({sessionModelViewerId:a,src:c,timeToLoaded:(Date.now()-s)/1e3})})),t.addEventListener("error",(function(e){var t=e.detail.type;o({sessionModelViewerId:a,src:c,type:t})})),t.addEventListener("camera-change",(function(e){f||"user-interaction"===e.detail.source&&(f=!0,i({sessionModelViewerId:a,src:c}))})),t.addEventListener("progress",(function(){t.src!==c&&(c=t.src||"",f=!1,s=Date.now())}))}(qn({modelViewer:e},Lo))}))}));var No=So,Bo=Mo,Fo=function(){Bn("[data-shopify-xr]:not([data-shopify-xr-hidden])",(function(e){e.hasAttribute("data-shopify-xr-hidden")||No({arElementType:"shopify_xr",sessionSourceId:Nn(e),src:"unknown"})}))};document.addEventListener("shopify_xr_launch",(function(e){var t=e.detail,r=t.xrMode,n=t.srcUrl,o=t.element,i=null;"not_supported"!==r&&(o&&(i=Nn(o)),-1!==i&&Bo({arType:r,invoker:"shopify_xr",sessionSourceId:i,src:n}))})),document.addEventListener("shopify_xr_enabled",(function(e){Fo()})),Rn((function(){Fo()}));var qo={trackCreated:function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_video_created/4.0",payload:qn(qn({},t),e)})},trackCanPlay:function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_video_canplay/3.0",payload:qn(qn({},t),e)})},trackProgress:function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_video_progress/3.0",payload:qn(qn({},t),e)})}},Vo=function(){function e(e){var t=e.videoDuration,r=e.startTime,n=e.endTime;this.videoDuration=t,this._startTime=r,this._endTime=n,n||(this._endTime=r)}return Object.defineProperty(e.prototype,"startTime",{get:function(){return this._startTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endTime",{get:function(){return this._endTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percentage",{get:function(){return(this._endTime-this._startTime)/this.videoDuration},enumerable:!0,configurable:!0}),e.prototype.isTimeInSegment=function(e){return e>=this._startTime&&e<=this._endTime},e.prototype.extendSegment=function(e){return e<this._startTime?(this._startTime=e,!0):e>this._endTime&&(this._endTime=e,!0)},e}();function Ho(e){var t=[new Vo({videoDuration:e,startTime:0})],r=t[0];function n(e){for(var r=0;r<t.length;r++)if(t[r].isTimeInSegment(e))return t[r];return null}return{get percentage(){return 0===t.length?0:t.reduce((function(e,t){return e+t.percentage}),0)},seek:function(o){var i=n(o);if(!i)return r=new Vo({videoDuration:e,startTime:o}),void t.push(r);r=i},addTime:function(o){var i=n(o);i&&i!==r&&(r=function(r,n){for(var o=t.length-1;o>=0;o--)t[o]!==r&&t[o]!==n||t.splice(o,1);var i=r.startTime<n.startTime?r.startTime:n.startTime,a=r.endTime>n.endTime?r.endTime:n.endTime,c=new Vo({videoDuration:e,startTime:i,endTime:a});return t.push(c),c}(i,r)),r.extendSegment(o)}}}var Go=[1e3,2e3,3e3,5e3,7e3],Wo=3,zo="progress",Jo="canplay",Xo=!0,Ko="html_video",Yo="cdn.shopify.com/videos",Zo=0;function $o(e){var t,r,n=e.video,o=e.trackCreated,i=e.trackCanPlay,a=e.trackProgress,c=Zo++,u=-1,s=-1,f=0;function l(e){var t,o;(void 0===e&&(e=!1),r)&&(r.addTime(n.currentTime),(n.currentTime>=n.duration||e||(t=Go.length,o=Math.min(f,t-1),!(Date.now()-u<Go[o])))&&s!==n.currentTime&&(a({currentSrc:n.currentSrc,time:n.currentTime,duration:n.duration,percentageWatched:r.percentage,sessionVideoId:c,videoType:Ko}),f+=1,s=n.currentTime,u=Date.now(),1==r.percentage&&(n.removeEventListener("timeupdate",v),n.removeEventListener("seeked",y))))}function d(){void 0===t&&(t=Date.now())}function p(){d(),n.removeEventListener(zo,p)}function h(){d(),r=Ho(n.duration),n.removeEventListener(Jo,h),i({currentSrc:n.currentSrc,timeToCanplay:(Date.now()-t)/1e3,sessionVideoId:c,videoType:Ko})}function y(){r.seek(n.currentTime)}function v(){l()}n.currentSrc?o({currentSrc:n.currentSrc,sessionVideoId:c,canTrack:Xo,videoType:Ko}):n.addEventListener("loadstart",(function(){o({currentSrc:n.currentSrc,sessionVideoId:c,canTrack:Xo,videoType:Ko})})),function(e){return e.currentSrc&&e.currentSrc.includes(Yo)}(n)&&(n.addEventListener("seeked",y),n.addEventListener("timeupdate",v),window.addEventListener("beforeunload",(function(){l(!0)})),n.readyState<Wo?(n.addEventListener(zo,p),n.addEventListener(Jo,h)):(p(),h()))}var Qo="video";Rn((function(){Bn(Qo,(function(e){$o(qn({video:e},qo))}))}));var ei="youtube",ti={trackCreated:function(e){var t=Oo();return Po.produce({schemaId:"online_store_media_video_created/4.0",payload:qn(qn({},t),e)})}},ri=0;function ni(e){var t=e.videoType,r=e.querySelector,n=e.determineCanTrack;Bn(r,(function(e){var r=e,o=!0;n&&(o=n(r)),function(e){var t=e.videoType,r=e.videoIframe,n=e.trackCreated,o=e.canTrack,i=ri++;n({currentSrc:r.src,sessionVideoId:i,canTrack:o,videoType:t})}(qn({videoType:t,videoIframe:r,canTrack:o},ti))}))}var oi='iframe[src^="https://www.youtube.com/embed/"]';Rn((function(){ni({querySelector:oi,videoType:ei,determineCanTrack:function(e){return!!(t=e.src)&&t.split("?").pop().includes("enablejsapi=1");var t}})}));var ii="vimeo",ai='iframe[src^="https://player.vimeo.com/video/"]';Rn((function(){ni({querySelector:ai,videoType:ii})}))}();
//# sourceMappingURL=analytics-legacy.js.map
