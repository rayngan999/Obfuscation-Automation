var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(a,b){function c(a){a=a||function(){},reqwest({url:"https://fragment.tmall.com/umsite/data_products",data:{},type:"json",crossOrigin:!0,error:function(a){console.log("API error: [/data/products] "+a)},success:function(b){console.log("data_products: ",b),a(b)}})}!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("reqwest",this,function(){function c(a){var b=A.exec(a.url);return b=b&&b[1]||w.location.protocol,z.test(b)?B.test(a.request.status):!!a.request.response}function d(a,b,d){return function(){return a._aborted?d(a.request):a._timedOut?d(a.request,"Request is aborted: timeout"):void(a.request&&4==a.request[C]&&(a.request.onreadystatechange=I,c(a)?b(a.request):d(a.request)))}}function f(a,b){var c,d=b.headers||{};d.Accept=d.Accept||K.accept[b.type]||K.accept["*"];var e="undefined"!=typeof FormData&&b.data instanceof FormData;for(c in b.crossOrigin||d[E]||(d[E]=K.requestedWith),d[D]||e||(d[D]=b.contentType||K.contentType),d)d.hasOwnProperty(c)&&"setRequestHeader"in a&&a.setRequestHeader(c,d[c])}function g(a,b){"undefined"!=typeof b.withCredentials&&"undefined"!=typeof a.withCredentials&&(a.withCredentials=!!b.withCredentials)}function h(a,b){return a+(/\?/.test(a)?"&":"?")+b}function j(b,d,e,g){var j=F++,i=b.jsonpCallback||"callback",k=b.jsonpCallbackName||m.getcallbackPrefix(j),n=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),o=g.match(n),a=x.createElement("script"),f=0,l=-1!==navigator.userAgent.indexOf("MSIE 10.0");return o?"?"===o[3]?g=g.replace(n,"$1="+k):k=o[3]:g=h(g,i+"="+k),w[k]=function(b){a.data=b},a.type="text/javascript",a.src=g,a.async=!0,"undefined"!=typeof a.onreadystatechange&&!l&&(a.htmlFor=a.id="_reqwest_"+j),a.onload=a.onreadystatechange=function(){return a[C]&&"complete"!==a[C]&&"loaded"!==a[C]||f?!1:void(a.onload=a.onreadystatechange=null,a.onclick&&a.onclick(),d(a.data),y.removeChild(a),f=1)},y.appendChild(a),{abort:function(){a.onload=a.onreadystatechange=null,e({},"Request is aborted: timeout",{}),y.removeChild(a),f=1}}}function e(a,b){var c,e=this.o,k=(e.method||"GET").toUpperCase(),l="string"==typeof e?e:e.url,i=!1!==e.processData&&e.data&&"string"!=typeof e.data?m.toQueryString(e.data):e.data||null,o=!1;return("jsonp"==e.type||"GET"==k)&&i&&(l=h(l,i),i=null),"jsonp"==e.type?j(e,a,b,l):(c=e.xhr&&e.xhr(e)||L(e),c.open(k,l,!1!==e.async),f(c,e),g(c,e),w[H]&&c instanceof w[H]?(c.onload=a,c.onerror=b,c.onprogress=function(){},o=!0):c.onreadystatechange=d(this,a,b),e.before&&e.before(c),o?setTimeout(function(){c.send(i)},200):c.send(i),c)}function i(a,b){this.o=a,this.fn=b,l.apply(this,arguments)}function k(a){return null===a?void 0:a.match("json")?"json":a.match("javascript")?"js":a.match("text")?"html":a.match("xml")?"xml":void 0}function l(a,b){function c(b){for(a.timeout&&clearTimeout(h.timeout),h.timeout=null;0<h._completeHandlers.length;)h._completeHandlers.shift()(b)}function d(d){var e=a.type||d&&k(d.getResponseHeader("Content-Type"));d="jsonp"===e?d:h.request;var f,i;try{f=M.dataFilter(d.responseText,e),i=f,d.responseText=i}catch(a){}if(i)switch(e){case"json":try{d=w.JSON?w.JSON.parse(i):eval("("+i+")")}catch(a){return g(d,"Could not parse JSON in response",a)}break;case"js":d=eval(i);break;case"html":d=i;break;case"xml":d=d.responseXML&&d.responseXML.parseError&&d.responseXML.parseError.errorCode&&d.responseXML.parseError.reason?null:d.responseXML;}for(h._responseArgs.resp=d,h._fulfilled=!0,b(d),h._successHandler(d);0<h._fulfillmentHandlers.length;)d=h._fulfillmentHandlers.shift()(d);c(d)}function f(){h._timedOut=!0,h.request.abort()}function g(a,b,d){for(a=h.request,h._responseArgs.resp=a,h._responseArgs.msg=b,h._responseArgs.t=d,h._erred=!0;0<h._errorHandlers.length;)h._errorHandlers.shift()(a,b,d);c(a)}this.url="string"==typeof a?a:a.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var h=this;b=b||function(){},a.timeout&&(this.timeout=setTimeout(function(){f()},a.timeout)),a.success&&(this._successHandler=function(){a.success.apply(a,arguments)}),a.error&&this._errorHandlers.push(function(){a.error.apply(a,arguments)}),a.complete&&this._completeHandlers.push(function(){a.complete.apply(a,arguments)}),this.request=e.call(this,d,g)}function m(a,b){return new i(a,b)}function p(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function o(b,c){var d,e,f,g,a=b.name,h=b.tagName.toLowerCase(),j=function(b){b&&!b.disabled&&c(a,p(b.attributes.value&&b.attributes.value.specified?b.value:b.text))};if(!b.disabled&&a)switch(h){case"input":/reset|button|image|file/i.test(b.type)||(d=/checkbox/i.test(b.type),e=/radio/i.test(b.type),f=b.value,(!d&&!e||b.checked)&&c(a,p(d&&""===f?"on":f)));break;case"textarea":c(a,p(b.value));break;case"select":if("select-one"===b.type.toLowerCase())j(0<=b.selectedIndex?b.options[b.selectedIndex]:null);else for(g=0;b.length&&g<b.length;g++)b.options[g].selected&&j(b.options[g]);}}function n(){var a,b,c=this,d=function(a,b){var d,e,f;for(d=0;d<b.length;d++)for(f=a[u](b[d]),e=0;e<f.length;e++)o(f[e],c)};for(b=0;b<arguments.length;b++)a=arguments[b],/input|select|textarea/i.test(a.tagName)&&o(a,c),d(a,["input","select","textarea"])}function q(){return m.toQueryString(m.serializeArray.apply(null,arguments))}function r(){var a={};return n.apply(function(b,c){b in a?(a[b]&&!J(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function v(a,b,c,d){var e,f,g,h=/\[\]$/;if(J(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):v(a+"["+("object"==("undefined"==typeof g?"undefined":_typeof(g))?f:"")+"]",g,c,d);else if(b&&"[object Object]"===b.toString())for(e in b)v(a+"["+e+"]",b[e],c,d);else d(a,b)}var w=a;if("document"in w)var x=b,u="getElementsByTagName",y=x[u]("head")[0];else{var s;try{s=require("xhr2")}catch(a){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var z=/^http/,A=/(^\w+):\/\//,B=/^(20\d|1223)$/,C="readyState",D="Content-Type",E="X-Requested-With",F=0,G="XMLHttpRequest",H="XDomainRequest",I=function(){},J="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},K={contentType:"application/x-www-form-urlencoded",requestedWith:G,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},L=function(b){if(!0===b.crossOrigin){var c=w[G]?new XMLHttpRequest:null;if(c&&"withCredentials"in c)return c;if(w[H]){var d=/^https?/;if(a.location.href.match(d)[0]!==b.url.match(d)[0])throw new Error("XDomainRequest: requests must be targeted to the same scheme as the hosting page.");return new XDomainRequest}throw new Error("Browser does not support cross-origin requests")}return w[G]?new XMLHttpRequest:s?new s:new ActiveXObject("Microsoft.XMLHTTP")},M={dataFilter:function(a){return a}};return i.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){l.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this},catch:function(a){return this.fail(a)}},m.serializeArray=function(){var a=[];return n.apply(function(b,c){a.push({name:b,value:c})},arguments),a},m.serialize=function(){if(0===arguments.length)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),b="map"==a?r:"array"==a?m.serializeArray:q,b.apply(null,c)},m.toQueryString=function(a,b){var c,d,f=[],g=encodeURIComponent,e=function(a,b){b="function"==typeof b?b():null==b?"":b,f[f.length]=g(a)+"="+g(b)};if(J(a))for(d=0;a&&d<a.length;d++)e(a[d].name,a[d].value);else for(c in a)a.hasOwnProperty(c)&&v(c,a[c],b||!1,e);return f.join("&").replace(/%20/g,"+")},m.getcallbackPrefix=function(){return"reqwest_"+ +new Date+(Math.random()+"").slice(-6)},m.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new i(a,b)},m.ajaxSetup=function(a){for(var b in a=a||{},a)M[b]=a[b]},m});var d=function(){};d.prototype={init:function(){this.config=a.umengMessageConfig||{},this.demo=a.umengMessageDemo,this.createDom()},createDom:function(){this.dom=b.createElement("div"),this.dom.className="umeng_message",!this.config.hide||(this.dom.style.display="none");var a=this.config&&this.config.dom||{},c=a.right||0,d=a.bottom||24,e=a.zIndex||2147483647;this.dom.style.right=c+"px",this.dom.style.bottom=d+"px",this.dom.style.zIndex=e,b.body.appendChild(this.dom),this.createIcons(),this.createMi()},loadCSS:function(){},loadJS:function(a){var c=b.createElement("script");c.setAttribute("src",a),b.getElementsByTagName("head")[0].appendChild(c)},createIcons:function(){this.icons=b.createElement("ul"),this.icons.className="umeng_message_icons",this.dom.appendChild(this.icons)},createService:function(){var a=this,c=function(){var b=a.dom.classList;b.remove("active_service")},d=function d(f){for(var e=f.target;e&&e.parentNode&&e!==a.dom;)e=e.parentNode;e!==a.dom&&(c(),b.body.removeEventListener("click",d,!1))},e=b.createElement("li");e.className="umeng_message_icon_service",e.innerHTML="\n\t\t\t\t\t<span class=\"umeng_message_icon\"><i class=\"umeng_message_iconfont\" style=\"font-size:24px;\">&#xe622;</i></span>\n\t\t  \t\t\t<span class=\"umeng_message_text\">\u5728\u7EBF<br/>\u5BA2\u670D</span>\n\t\t  \t\t",this.icons.insertBefore(e,this.formDom),e.addEventListener("click",function(){var c=a.dom.classList;c.remove("active_code"),c.remove("active_app_code"),c.remove("active_form"),c.contains("active_service")?c.remove("active_service"):c.add("active_service"),b.body.addEventListener("click",d,!1)},!1),this.dplus(e,"mouseenter","gndj_rkxf",{rkmc:"\u5728\u7EBF\u5BA2\u670D"}),this.dplus(e,"click","gndj_rk",{rkmc:"\u5728\u7EBF\u5BA2\u670D"})},createLink:function(a){var c=b.createElement("li");c.innerHTML="\n\t\t\t\t<a href=\"//account.umeng.com/feedback\" target=\"_blank\">\n\t\t\t\t\t<span class=\"umeng_message_icon\">\n\t\t  \t\t\t\t<i class=\"umeng_message_iconfont\">&#xe605;</i>\n\t\t  \t\t\t</span>\n\t\t  \t\t\t<span class=\"umeng_message_text\">\u53CD\u9988<br/>\u4E2D\u5FC3</span>\n\t\t  \t\t\t"+(!0===a.data?"<sup>&bull;</sup>":"")+"\n\t\t\t\t</a>\n\t\t  \t\t",c.className="umeng_message_icon_links",this.icons.insertBefore(c,this.codeDom),this.dplus(c,"mouseenter","gndj_rkxf",{rkmc:"\u53CD\u9988\u4E2D\u5FC3"}),this.dplus(c,"mousedown","gndj_rk",{rkmc:"\u53CD\u9988\u4E2D\u5FC3"},!0)},createForm:function(){var a=this,c=function(){var b=a.dom.classList;b.remove("active_form")},d=function d(f){for(var e=f.target;e&&e.parentNode&&e!==a.dom;)e=e.parentNode;e!==a.dom&&(c(),b.body.removeEventListener("click",d,!1))},e=function(){a.formData={questionInfo:"",ticketCategoryId:"",company:"",name:"",telephone:"",ticketTemplateId:""},Object.keys(a.formChild).map(function(b){a.formChild[b].classList.remove("error"),a.formChild[b].value=""}),b.querySelector(".umeng_message_form_inner").classList.remove("sending"),b.querySelector(".umeng_message_form_inner").classList.remove("success"),b.querySelector(".umeng_message_form_inner").classList.remove("error")},f=b.createElement("li");f.innerHTML="\n\t\t\t\t<span class=\"umeng_message_icon\"><i class=\"umeng_message_iconfont\">&#xe613;</i></span>\n    \t\t\t<span class=\"umeng_message_text\">\u5546\u52A1<br/>\u54A8\u8BE2</span>\n\t\t\t",f.className="umeng_message_icon_form",this.icons.appendChild(f),this.formDom=f,f.addEventListener("click",function(){var c=a.dom.classList;c.remove("active_code"),c.remove("active_app_code"),c.remove("active_service"),c.contains("active_form")?c.remove("active_form"):c.add("active_form"),b.body.addEventListener("click",d,!1)},!1);var g=b.createElement("div");g.className="umeng_message_form",g.innerHTML="\n\t\t\t\t<div class=\"umeng_message_form_title\">\u8BF7\u8F93\u5165\u5982\u4E0B\u54A8\u8BE2\u5185\u5BB9\uFF1A</div>\n\t\t\t\t<div class=\"umeng_message_form_inner"+(this.isLogin?" islogin":"")+"\">\n\t\t\t\t\t<div class=\"umeng_message_form_item umeng_message_form_select_wrapper\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"\u9009\u62E9\u8981\u54A8\u8BE2\u7684\u4EA7\u54C1\uFF08\u5FC5\u586B\uFF09\" disabled/>\n\t\t\t\t\t\t\t<i class=\"umeng_message_iconfont\">&#xe61a;</i>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<ul class=\"umeng_message_form_select\">\n\t\t\t\t\t\t\t<li>\u52A0\u8F7D\u4E2D...</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"umeng_message_form_item umeng_message_form_item_company\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"\u8F93\u5165\u4F60\u7684\u516C\u53F8\u6216\u4EA7\u54C1\u540D\u79F0\"/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"umeng_message_form_item umeng_message_form_item_name\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"\u8054\u7CFB\u4EBA\u59D3\u540D\uFF08\u5FC5\u586B\uFF09\"/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"umeng_message_form_item  umeng_message_form_item_telephone\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"\u8054\u7CFB\u4EBA\u624B\u673A\u53F7\uFF08\u5FC5\u586B\uFF09\"/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"umeng_message_form_item\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<textarea placeholder=\"\u8BF7\u63CF\u8FF0\u60A8\u7684\u8BE6\u7EC6\u8BC9\u6C42\uFF08\u5FC5\u586B\uFF09\" class=\"umeng_message_form_item_questionInfo\"></textarea>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"umeng_message_form_footer\">\n\t\t\t\t\t\t<button>\u63D0 \u4EA4</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"umeng_message_form_loading\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<svg class=\"lds-spinner\" width=\"100px\"  height=\"100px\"  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\" style=\"background: none;\"><g transform=\"rotate(0 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.9166666666666666s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(30 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.8333333333333334s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(60 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.75s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(90 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.6666666666666666s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(120 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.5833333333333334s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(150 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.5s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(180 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.4166666666666667s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(210 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.3333333333333333s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(240 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.25s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(270 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.16666666666666666s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(300 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"-0.08333333333333333s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g><g transform=\"rotate(330 50 50)\">\n  <rect x=\"47\" y=\"24\" rx=\"9.4\" ry=\"4.8\" width=\"6\" height=\"12\" fill=\"#449cfa\">\n    <animate attributeName=\"opacity\" values=\"1;0\" times=\"0;1\" dur=\"1s\" begin=\"0s\" repeatCount=\"indefinite\"></animate>\n  </rect>\n</g></svg>\n<p>\u63D0\u4EA4\u4E2D...</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"umeng_message_form_error\"></div>\n\t\t\t\t\t<div class=\"umeng_message_form_info\">\n\t\t\t\t\t\t\u63D0\u4EA4\u6210\u529F\uFF01\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t",this.dom.appendChild(g),f.style.display="none",this.createAppDownload(),this.createCode(),this.createScrollTop();var h=g.querySelector(".umeng_message_form_footer > button");this.formData={questionInfo:"",ticketCategoryId:"",company:"",name:"",telephone:"",ticketTemplateId:""},this.formChild={ticketCategoryId:g.querySelector(".umeng_message_form_select_wrapper input"),questionInfo:g.querySelector(".umeng_message_form_item_questionInfo"),company:g.querySelector(".umeng_message_form_item_company input"),name:g.querySelector(".umeng_message_form_item_name input"),telephone:g.querySelector(".umeng_message_form_item_telephone input")},Object.keys(this.formChild).map(function(b){"ticketCategoryId"!==b&&(a.formChild[b].onkeyup=function(){i(b,a.formChild[b])},a.formChild[b].onblur=function(){setTimeout(function(){j(b,a.formChild[b])},50)})});var i=function(b,c){a.formData[b]=c.value},j=function(b,c){a.formData[b]&&""!=a.formData[b]?c.classList.remove("error"):c.classList.add("error")};b.querySelector(".umeng_message_form_error").onclick=function(){e()},b.querySelector(".umeng_message_form_info").onclick=function(){e()},h.onclick=function(){if(Object.keys(a.formChild).map(function(b){a.isLogin?("ticketCategoryId"===b||"questionInfo"===b)&&j(b,a.formChild[b]):j(b,a.formChild[b])}),!g.querySelector(".error")){var c=b.querySelector(".umeng_message_form_inner");c.classList.add("sending");var d=a.formData,e=d.questionInfo,f=d.ticketCategoryId,h=d.ticketTemplateId,i=d.company,k=d.name,l=d.telephone,m=new XMLHttpRequest;m.open("post","//account.umeng.com/api/ticket/create",!0),m.withCredentials=!0,m.onload=function(){4===m.readyState&&(c.classList.remove("sending"),200===m.status?c.classList.add("success"):(c.classList.add("error"),c.querySelector(".umeng_message_form_error").innerHTML=JSON.parse(m.responseText).msg))},m.onerror=function(){c.classList.remove("sending"),c.classList.add("error"),c.querySelector(".umeng_message_form_error").innerHTML="\u672A\u77E5\u9519\u8BEF\uFF0C\u8BF7\u5237\u65B0\u6216\u8005\u8054\u7CFB\u5BA2\u670D\uFF01"},m.send(JSON.stringify({questionInfo:e,ticketCategoryId:f,ticketTemplateId:h,data:{company:i,name:k,telephone:l}}))}}},createTicketCategoryTree:function(a){var c=this,d=this.dom.getElementsByClassName("umeng_message_form_select_wrapper")[0],e=d.getElementsByTagName("label")[0],f=d.getElementsByTagName("input")[0],g=d.getElementsByTagName("ul")[0];g.innerHTML="",a.map(function(a){var d=b.createElement("li");d.innerHTML=a.name,g.appendChild(d),d.onclick=function(){f.value=a.name,c.formData.ticketCategoryId=a.id,c.formChild.ticketCategoryId.classList.remove("error");var b=a.children.filter(function(a){return"\u5546\u52A1\u54A8\u8BE2"==a.name});c.formData.ticketTemplateId=b[0]&&b[0].id,h()}});var h=function(){d.classList.remove("active")},i=function a(c){for(var e=c.target;e&&e.parentNode&&e!==d;)e=e.parentNode;e!==d&&(h(),b.body.removeEventListener("click",a,!1))};e.onclick=function(){d.classList.add("active"),b.body.addEventListener("click",i,!1)}},createCode:function(){var a=this,c=function(){var b=a.dom.classList;b.remove("active_code")},d=function d(f){for(var e=f.target;e&&e.parentNode&&e!==a.dom;)e=e.parentNode;e!==a.dom&&(c(),b.body.removeEventListener("click",d,!1))},e=b.createElement("li");e.innerHTML="\n\t\t\t\t<span class=\"umeng_message_icon\"><i class=\"umeng_message_iconfont\">&#xe67e;</i></span>\n    \t\t\t<span class=\"umeng_message_text\">\u5173\u6CE8<br/>\u6211\u4EEC</span>\n\t\t\t",e.className="umeng_message_icon_code",this.icons.appendChild(e),this.codeDom=e;var f=b.createElement("div");f.className="umeng_message_code",f.innerHTML="\n\t\t\t\t<div>\n\t\t\t\t\t<img src=\"//img.alicdn.com/tfs/TB1wPbsaYGYBuNjy0FoXXciBFXa-176-176.png\" alt=\"\" />\n\t\t\t\t\t<p>\u53CB\u76DF\u5168\u57DF\u6570\u636E</p>\n\t\t\t\t\t<span>\u524D\u6CBF\u7684\u6570\u636E\u884C\u4E1A\u65B0\u98CE\u5411</span>\n\t\t\t\t</div>\n\t\t\t",this.dom.appendChild(f),e.addEventListener("click",function(){var c=a.dom.classList;c.remove("active_service"),c.remove("active_form"),c.remove("active_app_code"),c.contains("active_code")?c.remove("active_code"):c.add("active_code"),b.body.addEventListener("click",d,!1)},!1),this.dplus(e,"mouseenter","gndj_rkxf",{rkmc:"\u4E8C\u7EF4\u7801"}),this.dplus(e,"click","gndj_rkxf",{rkmc:"\u4E8C\u7EF4\u7801"})},createAppDownload:function(){var a=this,c=this.config||{},d=c.qrCode||{},e=!d.hide;if(e){var f=function(){var c=a.dom.classList;c.remove("active_service"),c.remove("active_form"),c.remove("active_code"),c.contains("active_app_code")?c.remove("active_app_code"):c.add("active_app_code"),b.body.addEventListener("click",h,!1)},g=function(){var b=a.dom.classList;b.remove("active_app_code")},h=function c(d){for(var e=d.target;e&&e.parentNode&&e!==a.dom;)e=e.parentNode;e!==a.dom&&(g(),b.body.removeEventListener("click",c,!1))},i=b.createElement("li");i.innerHTML="\n\t\t\t\t<span class=\"umeng_message_icon\">"+(d.btn||"\u638C\u4E0A<br>\u53CB\u76DF")+"</span>\n\t\t\t\t\t<span class=\"umeng_message_text\">"+(d.btnHover||"\u638C\u4E0A<br>\u53CB\u76DF")+"</span>\n\t\t\t",i.className="umeng_message_icon_app_code",this.icons.appendChild(i),this.codeDom=i;var j=b.createElement("div");if(j.className="umeng_message_app_code",!(0<Object.keys(d).length))j.innerHTML="\n\t\t\t\t<div style=\"margin-right: 20px;\">\n\t\t\t\t\t<img src=\""+(d.img||"//img.alicdn.com/tfs/TB1tmkCctTfau8jSZFwXXX1mVXa-1280-1280.png")+"\" alt=\"\" />\n\t\t\t\t\t<p>"+(d.title||"\u5FAE\u4FE1\u626B\u4E00\u626B")+"</p>\n\t\t\t\t\t<span>"+(d.desc||"\u65B9\u4FBF\u5FEB\u6377\u5B9E\u65F6\u6570\u636E\u67E5\u770B")+"</span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<img src=\""+(d.img2||"//img.alicdn.com/imgextra/i1/O1CN01ITWZbt1wBi1AComkd_!!6000000006270-0-tps-258-258.jpg")+"\" alt=\"\" />\n\t\t\t\t\t<p>"+(d.title2||"\u53CB\u5C0F\u76DF\u6570\u636E\u5B98")+"</p>\n\t\t\t\t\t<span>"+(d.desc2||"\u4E86\u89E3\u6700\u65B0\u4EA7\u54C1\u52A8\u6001")+"</span>\n\t\t\t\t</div>";else if(d.extra){var k=d.extra.reduce(function(a,b){return a+("\n\t\t\t\t\t\t<div style=\"margin-left: 20px;\">\n\t\t\t\t\t\t\t<img src=\""+(b.img||"//img.alicdn.com/tfs/TB1tmkCctTfau8jSZFwXXX1mVXa-1280-1280.png")+"\" alt=\"\" />\n\t\t\t\t\t\t\t<p>"+(b.title||"\u5FAE\u4FE1\u626B\u4E00\u626B")+"</p>\n\t\t\t\t\t\t\t<span>"+(b.desc||"\u65B9\u4FBF\u5FEB\u6377\u5B9E\u65F6\u6570\u636E\u67E5\u770B")+"</span>\n\t\t\t\t\t\t</div>")},"\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img src=\""+(d.img||"//img.alicdn.com/tfs/TB1tmkCctTfau8jSZFwXXX1mVXa-1280-1280.png")+"\" alt=\"\" />\n\t\t\t\t\t\t<p>"+(d.title||"\u5FAE\u4FE1\u626B\u4E00\u626B")+"</p>\n\t\t\t\t\t\t<span>"+(d.desc||"\u65B9\u4FBF\u5FEB\u6377\u5B9E\u65F6\u6570\u636E\u67E5\u770B")+"</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t");j.innerHTML=k}else console.log("qrConf2",d),j.innerHTML="\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img src=\""+(d.img||"//img.alicdn.com/tfs/TB1tmkCctTfau8jSZFwXXX1mVXa-1280-1280.png")+"\" alt=\"\" />\n\t\t\t\t\t\t<p>"+(d.title||"\u5FAE\u4FE1\u626B\u4E00\u626B")+"</p>\n\t\t\t\t\t\t<span>"+(d.desc||"\u65B9\u4FBF\u5FEB\u6377\u5B9E\u65F6\u6570\u636E\u67E5\u770B")+"</span>\n\t\t\t\t\t</div>\n\t\t\t\t";this.dom.appendChild(j),i.addEventListener("mouseover",f,!1),i.addEventListener("mouseout",f,!1),this.dplus(i,"mouseenter","gndj_rkxf_hover",{rkmc:d.btnHover||"app\u4E0B\u8F7D"}),this.dplus(i,"click","gndj_rkxf",{rkmc:d.btnHover||"app\u4E0B\u8F7D"})}},createScrollTop:function(){var c=this.config&&this.config.scroll||{},d=!1!==c.show;if(!d)return null;var e=c.target||b.documentElement,f=c.visibilityHeight||100,g=b.createElement("li");g.style.display=0<(e.scrollTop||b.body.scrollTop)-f?"block":"none",g.innerHTML="\n\t\t\t\t<span class=\"umeng_message_icon\"><i class=\"umeng_message_iconfont\">&#xe895;</i></span>\n    \t\t\t<span class=\"umeng_message_text\">\u8FD4\u56DE<br/>\u9876\u90E8</span>\n\t\t\t",g.addEventListener("click",function(){var a=setInterval(function(){var c=Math.floor(.8*(e.scrollTop||b.body.scrollTop));e.scrollTop=c,b.body.scrollTop=c,5>c&&clearInterval(a)},20)}.bind(this),!1),this.icons.appendChild(g),this.scrollDom=g;var h;a.addEventListener("scroll",function(){clearTimeout(h),h=setTimeout(function(){g.style.display=0<(e.scrollTop||b.body.scrollTop)-f?"block":"none"},100)},!1),this.dplus(g,"mouseenter","gndj_rkxf",{rkmc:"\u56DE\u5230\u9876\u90E8"}),this.dplus(g,"click","gndj_rkxf",{rkmc:"\u56DE\u5230\u9876\u90E8"})},createServicePopup:function(c,d){var e=this;this.tab=[],this.list=[];var f=b.querySelector(".umeng_message_container")||b.createElement("div");f.className="umeng_message_container",f.innerHTML=null,this.servicePop=b.createElement("div"),this.servicePop.className="umeng_message_inner";var g=b.createElement("div");g.className="umeng_message_title",g.innerHTML="\u9009\u62E9\u8981\u54A8\u8BE2\u7684\u4EA7\u54C1\uFF1A";var h=b.createElement("ul");h.className="umeng_message_tab",c.map(function(a,c){var d=b.createElement("li");d.innerHTML=a.name,d.addEventListener("click",e.showContainer.bind(e,c),!1),h.appendChild(d),e.tab.push(d)});var i=b.createElement("div");i.className="umeng_message_lists",c.map(function(a){var c=b.createElement("div");c.className="umeng_message_list";var f=b.createElement("ul");if(f.className="umeng_message_list_ul",a.list_prods.map(function(a){if("adplus_taotrack"!==a.code){var c=b.createElement("li");if(c.innerHTML="<a href=\"javascript:;\" title=\""+a.name+" - "+a.title+"\"><span>"+a.name+"</span></a>",f.appendChild(c),a.alicare_outer_link)c.addEventListener("click",e.jumpUrl.bind(e,a.alicare_outer_link),!1);else{var g=d+"&from="+a.alicare_from+"&sourceId=1523174451";c.addEventListener("click",e.showMi.bind(e,g),!1)}e.dplus(c,"click","zxcp_gndj",{cplm:a.name})}}),c.appendChild(f),a.phoneNum){var g=b.createElement("div");g.className="umeng_message_phone",g.innerHTML="\u70ED\u7EBF\u7535\u8BDD\uFF1A"+a.phoneNum,c.appendChild(g)}i.appendChild(c),e.list.push(c)}),f.appendChild(g),this.servicePop.appendChild(h),this.servicePop.appendChild(i),f.appendChild(this.servicePop),this.dom.appendChild(f);var j=0;c.map(function(b,c){-1!==a.location.href.indexOf(b.code)&&(j=c)}),this.showContainer(j)},showContainer:function(a){var b=this;a=a||0,this.tab.map(function(c,d){a===d?(c.classList.add("active"),b.list[d].classList.add("active")):(c.classList.remove("active"),b.list[d].classList.remove("active"))})},createMi:function(){this.mi=b.createElement("div"),this.mi.className="umeng_message_mi",this.dom.appendChild(this.mi);var c=b.createElement("div");c.className="umeng_message_mi_close umeng_message_iconfont",c.innerHTML="&#xe789;",this.mi.appendChild(c),c.addEventListener("click",this.closeMi.bind(this),!1),this.iframe=b.createElement("iframe"),this.iframe.style.cssText="width:100%;height:100%;border:0 none;",this.iframe.scrolling="no",this.mi.appendChild(this.iframe),a.addEventListener("message",function(b){var c;try{c=JSON.parse(b.data)}catch(a){c={}}var d=c,e=d.code,f=d.source;102===e&&"alicare-dialog"===f&&a.location.reload()})},showMi:function(b){if(!this.isLogin)return void(a.location.href="//passport.umeng.com/login?redirectURL="+encodeURIComponent(a.location.href));var c=e.aliMeURL+"?callback=umengMessageRefreshAliMiURL";umengMessage.loadJS(c),this.iframe.src=b,this.mi.classList.remove("hide"),this.mi.classList.add("show"),this.dom.classList.remove("active_service")},jumpUrl:function(b){if(!this.isLogin)return void(a.location.href="//passport.umeng.com/login?redirectURL="+encodeURIComponent(a.location.href));a.open(b)},closeMi:function(){this.mi.classList.remove("show"),this.mi.classList.add("hide")},dplus:function(c,d,e,f,g){c.addEventListener(d,function(){var c=a.dplus||{track:function(c,a){console.log(c,a)},track_links:function(d,a,b){console.log(d,a,b)}};g?(console.log(b.querySelector(".umeng_message_icon_links a")),c.track_links(".umeng_message_icon_links a",e,f,function(){},500)):c.track(e,f)},!1)},showService:function(a){a.dom&&this.servicePop&&a.dom.appendChild(this.servicePop);for(var b=this.servicePop.getElementsByClassName("umeng_message_lists")[0].getElementsByTagName("li"),c=0;c<b.length;c++)b[c].style.width=a.itemWidth,a.event.map(function(a){b[c].addEventListener(a.trigger,a.callback,!1)})}};var e={loginInfo:"//passport.umeng.com/api/user/publicHeader",menuData:"//www.umeng.com/tms/jsonp/www/data/products",messageExist:"//account.umeng.com/api/ticket/message/exist",ticketExist:"//account.umeng.com/api/ticket/exist",aliMeURL:"//passport.umeng.com/api/user/aliMeUrl",ticketCategoryTree:"//account.umeng.com/api/ticket/category/tree"};a.umengMessage=new d;var f=function(){umengMessage.init(),!0===a.umengMessageDemo&&(e.loginInfo="//dip.alibaba-inc.com/api/v2/services/schema/mock/73568",e.messageExist="//dip.alibaba-inc.com/api/v2/services/schema/mock/73556",e.ticketExist="//dip.alibaba-inc.com/api/v2/services/schema/mock/73486",e.aliMeURL="//dip.alibaba-inc.com/api/v2/services/schema/mock/73963",e.ticketCategoryTree="//dip.alibaba-inc.com/api/v2/services/schema/mock/73534");var b;a.umengMessageGetLoginInfo=function(a){var d=null!=a.data.umplus_uc_loginid&&null!=a.data.umplus_uc_token||"taobao"==a.data.source;umengMessage.isLogin=d,umengMessage.createForm(),umengMessage.createService(),c(function(a){b=a||[];var c=e.aliMeURL+"?callback=umengMessageGetAliMiURL";umengMessage.loadJS(c)});var f=e.ticketExist+"?callback=umengMessageGetTicketData";umengMessage.loadJS(f);e.ticketCategoryTree+"?callback=umengMessageGetTicketCategoryTreeURL"},a.umengMessageGetTicketCategoryTreeURL=function(a){a&&a.data&&a.data[0]&&umengMessage.createTicketCategoryTree(a.data)},a.umengMessageGetAliMiURL=function(c){var d=c&&c.data&&c.data.url||"";umengMessage.createServicePopup(b,d),a.umengMessageGetAliMiURL=void 0},a.umengMessageRefreshAliMiURL=function(a){console.log("umengMessageRefreshAliMiURL",a);var c=a&&a.data&&a.data.url||"";umengMessage.createServicePopup(b,c)},a.umengMessageGetMessageData=function(b){umengMessage.createLink(b),a.umengMessageGetMessageData=void 0},a.umengMessageGetTicketData=function(a){if(a&&a.data&&!0===a.data){var b=e.messageExist+"?callback=umengMessageGetMessageData";umengMessage.loadJS(b)}};var d=e.loginInfo+"?callback=umengMessageGetLoginInfo";umengMessage.loadJS(d)},g={versions:function(){var a=navigator.userAgent,b=navigator.appVersion;return{trident:-1<a.indexOf("Trident"),presto:-1<a.indexOf("Presto"),webKit:-1<a.indexOf("AppleWebKit"),gecko:-1<a.indexOf("Gecko")&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<a.indexOf("Android")||-1<a.indexOf("Linux"),iPhone:-1<a.indexOf("iPhone"),iPad:-1<a.indexOf("iPad"),webApp:-1==a.indexOf("Safari")}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};if(g.versions.android||g.versions.iPhone||!!a.ActiveXObject&&b.documentMode&&10>parseInt(b.documentMode));else if(!0===a.umengMessageDemo)f();else{var h=b.getElementsByTagName("SCRIPT"),j="";if(h&&0<h.length)for(var k in h)h[k].src&&h[k].src.match(/umeng_message\.js$/)&&(j=h[k].src.replace(/(.*)umeng_message\.js$/,"$1"));var i=b.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",j+"umeng_message.css"),b.getElementsByTagName("head")[0].appendChild(i),i.addEventListener("load",function(){f()},!1)}})(window,document);