var objectUtil=(function(){var objectUtil={};var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var MAX_SAFE_INTEGER=9007199254740991;var identity=function(x){return x;};var arrayFrom=Array.from||function(arrayLike,map,context){if(map===undefined){map=identity;}
return Array.prototype.map.call(arrayLike,map,context);};var defaultResolver=function(){return JSON.stringify(arrayFrom(arguments));};var keyExists=function(key,object){return Object.prototype.hasOwnProperty.call(object,key);};var memoise=function(handler,resolver){var keyMaker=((resolver===undefined||typeof resolver!=="function")?defaultResolver:resolver);var cache=Object.create(null);var memoised=function(){var key=keyMaker.apply(this,arguments);var value=cache[key];if(!keyExists(key,cache)){value=handler.apply(this,arguments);cache[key]=value;}
return value;};return memoised;};var stringToPath=memoise(function(string){var result=[];if(string.charCodeAt(0)===46){result.push('');}
string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):(number||match));});return result;});var isIndex=function(value,length){var type=typeof value;var len=((length===null||length===undefined)?MAX_SAFE_INTEGER:length);return((type==="number"||(type==="string"&&/^(?:0|[1-9]\d*)$/.test(value)))&&value>=0&&value%1===0&&value<len);};function baseSet(object,path,value){var paths=stringToPath(path);var index=-1;var length=paths.length;var lastIndex=length-1;var nested=object;var key;var newValue;var objectValue;while(nested!==null&&nested!==undefined&&(index+1)<length){index+=1;key=paths[index];objectValue=nested[key];newValue=value;if(index!==lastIndex){newValue=((objectValue&&typeof objectValue==="object")?objectValue:(isIndex(paths[index+1])?[]:{}));}
nested[key]=newValue;nested=nested[key];}
return object;}
objectUtil.set=function(object,path,value){return((object===null||object===undefined)?object:baseSet(object,path,value));};function baseGet(object,path){var paths=stringToPath(path);var index=0;var length=paths.length;while(object!==null&&object!==undefined&&index<length){object=object[paths[index]];index+=1;}
return((index&&index===length)?object:undefined);}
objectUtil.get=function(object,path,defaultValue){var result=((object===null||object===undefined)?undefined:baseGet(object,path));return(result===undefined?defaultValue:result);};function hasPath(object,path){var paths=stringToPath(path);var index=-1;var length=paths.length;var result=false;var key;while(index+1<length){index+=1;key=paths[index];if(object===null||object===undefined||!keyExists(key,object)){result=false;break;}else{result=true;object=object[key];}}
if(result||index+1!==length){return result;}
length=((object===null||object===undefined)?0:object.length);return(length&&isIndex(key,length)&&Array.isArray(object));}
objectUtil.has=function(object,path){return(object!==null&&object!==undefined&&hasPath(object,path));};objectUtil.fromEntries=function(entries){return entries.reduce(function(object,pair){object[pair[0]]=pair[1];return object;},{});};return objectUtil;}());;(function(){"use strict";var arrayProto=Array.prototype;var stringProto=String.prototype;var objectProto=Object.prototype;var elementProto=window.Element&&Element.prototype;var nodeListProto=window.NodeList&&NodeList.prototype;function includes(search){return this.indexOf.apply(this,arguments)>-1;}
function addProperty(source,name,value){Object.defineProperty(source,name,{configurable:true,enumerable:false,writable:true,value:value});}
function findIndex(array,handler,context){var index=-1;if(typeof handler!=="function"){throw new TypeError(objectProto.toString.call(handler)+" is not a function");}
arrayProto.every.call(array,function(item,i,arr){if(handler.call(context,item,i,arr)){index=i;}
return index<0;});return index;}
if(typeof arrayProto.includes!=="function"){addProperty(arrayProto,"includes",includes);}
if(typeof stringProto.includes!=="function"){addProperty(stringProto,"includes",includes);}
if(typeof arrayProto.findIndex!=="function"){addProperty(arrayProto,"findIndex",function(handler){return findIndex(this,handler,arguments[1]);});addProperty(arrayProto,"find",function(handler){return this[findIndex(this,handler,arguments[1])];});}
if(elementProto){if(typeof elementProto.closest!=="function"){addProperty(elementProto,"closest",function(selector){var element=this;var closest=null;if(document.documentElement.contains(element)){do{if(element.matches(selector)){closest=element;break;}
element=element.parentElement||element.parentNode;}while(element!==null);}
return closest;});}
if(typeof elementProto.matches!=="function"){addProperty(elementProto,"matches",(elementProto.matchesSelector||elementProto.msMatchesSelector||elementProto.webkitMatchesSelector||elementProto.mozMatchesSelector||elementProto.oMatchesSelector||function(selector){var doc=this.document||this.ownerDocument;var elements=doc.querySelectorAll(selector);var isMatch=false;var il=elements.length;while(il){il-=1;if(elements[il]===this){isMatch=true;break;}}
return isMatch;}));}}
if(nodeListProto){if(typeof nodeListProto.forEach!=="function"){addProperty(nodeListProto,"forEach",function(handler,context){Array.prototype.forEach.call(this,handler,context);});}}}());;
/*! https://github.com/w3c/IntersectionObserver */
(function(window,document){'use strict';if('IntersectionObserver'in window&&'IntersectionObserverEntry'in window&&'intersectionRatio'in window.IntersectionObserverEntry.prototype){if(!('isIntersecting'in window.IntersectionObserverEntry.prototype)){Object.defineProperty(window.IntersectionObserverEntry.prototype,'isIntersecting',{get:function(){return this.intersectionRatio>0;}});}
return;}
var registry=[];function IntersectionObserverEntry(entry){this.time=entry.time;this.target=entry.target;this.rootBounds=entry.rootBounds;this.boundingClientRect=entry.boundingClientRect;this.intersectionRect=entry.intersectionRect||getEmptyRect();this.isIntersecting=!!entry.intersectionRect;var targetRect=this.boundingClientRect;var targetArea=targetRect.width*targetRect.height;var intersectionRect=this.intersectionRect;var intersectionArea=intersectionRect.width*intersectionRect.height;if(targetArea){this.intersectionRatio=Number((intersectionArea/targetArea).toFixed(4));}else{this.intersectionRatio=this.isIntersecting?1:0;}}
function IntersectionObserver(callback,opt_options){var options=opt_options||{};if(typeof callback!='function'){throw new Error('callback must be a function');}
if(options.root&&options.root.nodeType!=1){throw new Error('root must be an Element');}
this._checkForIntersections=throttle(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=callback;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(options.rootMargin);this.thresholds=this._initThresholds(options.threshold);this.root=options.root||null;this.rootMargin=this._rootMarginValues.map(function(margin){return margin.value+margin.unit;}).join(' ');}
IntersectionObserver.prototype.THROTTLE_TIMEOUT=100;IntersectionObserver.prototype.POLL_INTERVAL=null;IntersectionObserver.prototype.USE_MUTATION_OBSERVER=true;IntersectionObserver.prototype.observe=function(target){var isTargetAlreadyObserved=this._observationTargets.some(function(item){return item.element==target;});if(isTargetAlreadyObserved){return;}
if(!(target&&target.nodeType==1)){throw new Error('target must be an Element');}
this._registerInstance();this._observationTargets.push({element:target,entry:null});this._monitorIntersections();this._checkForIntersections();};IntersectionObserver.prototype.unobserve=function(target){this._observationTargets=this._observationTargets.filter(function(item){return item.element!=target;});if(!this._observationTargets.length){this._unmonitorIntersections();this._unregisterInstance();}};IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();this._unregisterInstance();};IntersectionObserver.prototype.takeRecords=function(){var records=this._queuedEntries.slice();this._queuedEntries=[];return records;};IntersectionObserver.prototype._initThresholds=function(opt_threshold){var threshold=opt_threshold||[0];if(!Array.isArray(threshold))threshold=[threshold];return threshold.sort().filter(function(t,i,a){if(typeof t!='number'||isNaN(t)||t<0||t>1){throw new Error('threshold must be a number between 0 and 1 inclusively');}
return t!==a[i-1];});};IntersectionObserver.prototype._parseRootMargin=function(opt_rootMargin){var marginString=opt_rootMargin||'0px';var margins=marginString.split(/\s+/).map(function(margin){var parts=/^(-?\d*\.?\d+)(px|%)$/.exec(margin);if(!parts){throw new Error('rootMargin must be specified in pixels or percent');}
return{value:parseFloat(parts[1]),unit:parts[2]};});margins[1]=margins[1]||margins[0];margins[2]=margins[2]||margins[0];margins[3]=margins[3]||margins[1];return margins;};IntersectionObserver.prototype._monitorIntersections=function(){if(!this._monitoringIntersections){this._monitoringIntersections=true;if(this.POLL_INTERVAL){this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL);}
else{addEvent(window,'resize',this._checkForIntersections,true);addEvent(document,'scroll',this._checkForIntersections,true);if(this.USE_MUTATION_OBSERVER&&'MutationObserver'in window){this._domObserver=new MutationObserver(this._checkForIntersections);this._domObserver.observe(document,{attributes:true,childList:true,characterData:true,subtree:true});}}}};IntersectionObserver.prototype._unmonitorIntersections=function(){if(this._monitoringIntersections){this._monitoringIntersections=false;clearInterval(this._monitoringInterval);this._monitoringInterval=null;removeEvent(window,'resize',this._checkForIntersections,true);removeEvent(document,'scroll',this._checkForIntersections,true);if(this._domObserver){this._domObserver.disconnect();this._domObserver=null;}}};IntersectionObserver.prototype._checkForIntersections=function(){var rootIsInDom=this._rootIsInDom();var rootRect=rootIsInDom?this._getRootRect():getEmptyRect();this._observationTargets.forEach(function(item){var target=item.element;var targetRect=getBoundingClientRect(target);var rootContainsTarget=this._rootContainsTarget(target);var oldEntry=item.entry;var intersectionRect=rootIsInDom&&rootContainsTarget&&this._computeTargetAndRootIntersection(target,rootRect);var newEntry=item.entry=new IntersectionObserverEntry({time:now(),target:target,boundingClientRect:targetRect,rootBounds:rootRect,intersectionRect:intersectionRect});if(!oldEntry){this._queuedEntries.push(newEntry);}else if(rootIsInDom&&rootContainsTarget){if(this._hasCrossedThreshold(oldEntry,newEntry)){this._queuedEntries.push(newEntry);}}else{if(oldEntry&&oldEntry.isIntersecting){this._queuedEntries.push(newEntry);}}},this);if(this._queuedEntries.length){this._callback(this.takeRecords(),this);}};IntersectionObserver.prototype._computeTargetAndRootIntersection=function(target,rootRect){if(window.getComputedStyle(target).display=='none')return;var targetRect=getBoundingClientRect(target);var intersectionRect=targetRect;var parent=getParentNode(target);var atRoot=false;while(!atRoot){var parentRect=null;var parentComputedStyle=parent.nodeType==1?window.getComputedStyle(parent):{};if(parentComputedStyle.display=='none')return;if(parent==this.root||parent==document){atRoot=true;parentRect=rootRect;}else{if(parent!=document.body&&parent!=document.documentElement&&parentComputedStyle.overflow!='visible'){parentRect=getBoundingClientRect(parent);}}
if(parentRect){intersectionRect=computeRectIntersection(parentRect,intersectionRect);if(!intersectionRect)break;}
parent=getParentNode(parent);}
return intersectionRect;};IntersectionObserver.prototype._getRootRect=function(){var rootRect;if(this.root){rootRect=getBoundingClientRect(this.root);}else{var html=document.documentElement;var body=document.body;rootRect={top:0,left:0,right:html.clientWidth||body.clientWidth,width:html.clientWidth||body.clientWidth,bottom:html.clientHeight||body.clientHeight,height:html.clientHeight||body.clientHeight};}
return this._expandRectByRootMargin(rootRect);};IntersectionObserver.prototype._expandRectByRootMargin=function(rect){var margins=this._rootMarginValues.map(function(margin,i){return margin.unit=='px'?margin.value:margin.value*(i%2?rect.width:rect.height)/100;});var newRect={top:rect.top-margins[0],right:rect.right+margins[1],bottom:rect.bottom+margins[2],left:rect.left-margins[3]};newRect.width=newRect.right-newRect.left;newRect.height=newRect.bottom-newRect.top;return newRect;};IntersectionObserver.prototype._hasCrossedThreshold=function(oldEntry,newEntry){var oldRatio=oldEntry&&oldEntry.isIntersecting?oldEntry.intersectionRatio||0:-1;var newRatio=newEntry.isIntersecting?newEntry.intersectionRatio||0:-1;if(oldRatio===newRatio)return;for(var i=0;i<this.thresholds.length;i++){var threshold=this.thresholds[i];if(threshold==oldRatio||threshold==newRatio||threshold<oldRatio!==threshold<newRatio){return true;}}};IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(document,this.root);};IntersectionObserver.prototype._rootContainsTarget=function(target){return containsDeep(this.root||document,target);};IntersectionObserver.prototype._registerInstance=function(){if(registry.indexOf(this)<0){registry.push(this);}};IntersectionObserver.prototype._unregisterInstance=function(){var index=registry.indexOf(this);if(index!=-1)registry.splice(index,1);};function now(){return window.performance&&performance.now&&performance.now();}
function throttle(fn,timeout){var timer=null;return function(){if(!timer){timer=setTimeout(function(){fn();timer=null;},timeout);}};}
function addEvent(node,event,fn,opt_useCapture){if(typeof node.addEventListener=='function'){node.addEventListener(event,fn,opt_useCapture||false);}
else if(typeof node.attachEvent=='function'){node.attachEvent('on'+event,fn);}}
function removeEvent(node,event,fn,opt_useCapture){if(typeof node.removeEventListener=='function'){node.removeEventListener(event,fn,opt_useCapture||false);}
else if(typeof node.detatchEvent=='function'){node.detatchEvent('on'+event,fn);}}
function computeRectIntersection(rect1,rect2){var top=Math.max(rect1.top,rect2.top);var bottom=Math.min(rect1.bottom,rect2.bottom);var left=Math.max(rect1.left,rect2.left);var right=Math.min(rect1.right,rect2.right);var width=right-left;var height=bottom-top;return(width>=0&&height>=0)&&{top:top,bottom:bottom,left:left,right:right,width:width,height:height};}
function getBoundingClientRect(el){var rect;try{rect=el.getBoundingClientRect();}catch(err){}
if(!rect)return getEmptyRect();if(!(rect.width&&rect.height)){rect={top:rect.top,right:rect.right,bottom:rect.bottom,left:rect.left,width:rect.right-rect.left,height:rect.bottom-rect.top};}
return rect;}
function getEmptyRect(){return{top:0,bottom:0,left:0,right:0,width:0,height:0};}
function containsDeep(parent,child){var node=child;while(node){if(node==parent)return true;node=getParentNode(node);}
return false;}
function getParentNode(node){var parent=node.parentNode;if(parent&&parent.nodeType==11&&parent.host){return parent.host;}
if(parent&&parent.assignedSlot){return parent.assignedSlot.parentNode;}
return parent;}
window.IntersectionObserver=IntersectionObserver;window.IntersectionObserverEntry=IntersectionObserverEntry;}(window,document));;(function(){"use strict";if(typeof EPSON.numberUnformat!=="function"){EPSON.numberUnformat=function(number){var formatted=String(number);var parts=[];if(/,\d{2}$/.test(formatted)){parts=formatted.split(",");}else if(/\.\d{2}$/.test(formatted)){parts=formatted.split(".");}else{parts=[formatted,0];}
parts[0]=Number(parts[0].replace(/[\s.,]+/g,""))||0;parts[1]=Number(parts[1])||0;return parts[0]+(parts[1]/100);};EPSON.uncurrency=function(text){var matches=text.match(/(?:\d{0,3}[\s.,]+)*[\s.,]?\d{2}?/);var number=0;if(matches&&matches[0]){number=EPSON.numberUnformat(matches[0].trim());}
return number;};}}());;EPSON.adobeUtil=(function(GLOBAL){"use strict";var MARKED_LINK="js-adobe-tracked-link";var IGNORE_INPUT="js-adobe-ignore-input";var IGNORE_FORM="js-adobe-ignore-form";var adobeUtil={MARKED_LINK:MARKED_LINK,IGNORE_INPUT:IGNORE_INPUT,IGNORE_FORM:IGNORE_FORM,VALID_LINK:("a[href]"
+":not([href=\"\"])"
+":not([href^=\"javascript:\"])"
+":not([href^=\"#\"])"
+":not(.popup_maker)"
+":not(."+MARKED_LINK+")"),VALID_FORM:("form"
+":not(.at_ignore)"
+":not(.consumableForm)"
+":not(.languageSelectForm)"
+":not(.buy-button)"
+":not(."+IGNORE_FORM+")"),VALID_INPUTS:("input"
+":not([type=\"file\"])"
+":not([type=\"image\"])"
+":not([type=\"submit\"])"
+":not([disabled])"
+":not(."+IGNORE_INPUT+")"
+",select"
+":not([disabled])"
+":not(."+IGNORE_INPUT+")"
+",textarea"
+":not([disabled])"
+":not(."+IGNORE_INPUT+")"),VIDEO_PERCENTAGES:[0,25,50,75,100],config:{objectName:"digitalData",libraryName:"_satellite"},jQdoc:$(document),getAttributes:function(element){return(element?GLOBAL.objectUtil.fromEntries(GLOBAL.arrayUtil.pluck(element.attributes,"name","value")):{});},findParents:function(element){var parents=[];while(element&&element.nodeType===Node.ELEMENT_NODE){parents.push(element);element=element.parentNode;}
return parents;},findFirstParentHeading:function(element){var heading;var childHeadings=element.querySelectorAll("h1,h2,h3,h4,h5,h6");EPSON.adobeUtil.findParents(element).some(function(parent){var availableHeadings=GLOBAL.arrayUtil.diff(parent.querySelectorAll("h1,h2,h3,h4,h5,h6"),childHeadings);if(availableHeadings.length){heading=availableHeadings[0];}
return heading;});return heading;},findFirstPopupHeading:function(element){return $(element).closest(".popup").find("h1,h2,h3,h4,h5,h6")[0];},findNearestHeading:function(element,isOnlyElement){var heading=(EPSON.adobeUtil.findFirstPopupHeading(element)||EPSON.adobeUtil.findFirstParentHeading(element));return(isOnlyElement?heading:EPSON.adobeUtil.cleanText(heading&&heading.textContent));},cleanText:function(text){var string=text;if(typeof string!=="string"){string=((text===null||text===undefined)?"":String(text));}
return string.trim().replace(/\s+/g," ");}};return adobeUtil;}(window));;EPSON.AdobeForm=(function(GLOBAL){"use strict";function toCamelCase(string){return string.replace(/\-([a-z])/g,function(ignore,letter){return letter.toUpperCase();});}
function toUpperCaseFirst(string){return string.charAt(0).toUpperCase()+string.slice(1);}
var AdobeForm=EPSON.createClass({init:function(form){this.form=form;this.jQform=$(form);this.inputSelector=EPSON.adobeUtil.VALID_INPUTS;this.observe();this.discoverEverything();if(form&&typeof form==="object"){EPSON.AdobeForm.formMap.set(form,this);}},observe:function(){EPSON.AdobeForm.observe(this.form);},discoverEverything:function(){this.type=this.discoverType();this.name=this.discoverName();this.trackingName=this.discoverTrackingName();this.activeListeners=this.discoverActiveListeners();this.eventActions=this.discoverEventActions();this.isApplicable=this.discoverApplicability();this.maxViews=this.discoverMaxViews();this.setValidatorAdapter(this.discoverValidator());},discoverType:function(){var jQform=this.jQform;var action=jQform.attr("action")||"";var type="other";var data=jQform.data("form-type");if(data){type=data;}else if(jQform.hasClass("footer_form")){type="newsletter";}else if(action.includes("Epson.RegistrationFeed/RegistrationFeed.aspx")||action.includes("/viewcon/corporatesite/misc/contact/send/")||action.includes("https://cim1.epson.eu/netagent/cimlogin.aspx")){type="contact";}
return type;},discoverName:function(){var form=this.form;var jQform=this.jQform;var action=jQform.attr("action")||"";var name="generic form";var data=jQform.data("form-name");var heading;if(data){name=data;}else if(jQform.hasClass("footer_form")){name="newsletter registration footer";}else if(action.includes("viewcon/corporatesite/myepson/registration")){name="my epson";}else if(form&&(form instanceof Element)){heading=EPSON.adobeUtil.findNearestHeading(form,true);if(heading){name=EPSON.adobeUtil.cleanText(heading.textContent);this.heading=heading;}}
return name;},discoverTrackingName:function(){var jQform=this.jQform;var action=jQform.attr("action")||"";var trackingName="form";var data=jQform.data("form-tracking-name");if(data){trackingName=data;}else if(action.includes("viewcon/corporatesite/myepson/registration")){trackingName="registration";}
return trackingName;},discoverActiveListeners:function(){return{submit:true,focusin:true,"form-invalid":true,"form-view":true};},discoverEventActions:function(){var jQform=this.jQform;var action=jQform.attr("action")||"";var eventActions={start:"formStart",complete:"formComplete",errors:"formErrors",view:"formView"};if(action.includes("viewcon/corporatesite/myepson/registration")){eventActions={start:"reg start",complete:"reg complete",errors:"reg errors",view:"reg view"};}
return eventActions;},discoverApplicability:function(){var isApplicable=true;var jQform=this.jQform;var action=jQform.attr("action")||"";var data=jQform.data("form-applicability");if(data){isApplicable=data.trim()!=="false";}else if(action.includes("/viewcon/corporatesite/checkout/buynow")||action.includes("/viewcon/corporatesite/checkout/basket")||(action.includes("/checkout/")&&jQform.data("step"))){isApplicable=false;}
return isApplicable;},discoverMaxViews:function(){var data=this.jQform.data("form-views");return((/^\d+$/).test(data)?(Number(data)||0):EPSON.AdobeForm.defaultMaxViews);},discoverValidator:function(){var adapters=EPSON.AdobeForm.validatorAdapters;var validator;var il=adapters.length;var form=this.form;while(il&&form){il-=1;if(adapters[il].check(form)){validator=new adapters[il].Adapter(form);break;}}
return validator;},setValidatorAdapter:function(validator){if(validator){if(!(validator instanceof EPSON.AdobeValidatorAdapter)){throw new TypeError("EPSON.Adobe: validator adapter must be a sub class of "
+"EPSON.AdobeValidatorAdapter");}
this.validator=validator;}},listensFor:function(eventType){return this.activeListeners[eventType]&&this.isApplicable;},stopListeningFor:function(eventType){this.activeListeners[eventType]=false;},handleEvent:function(type,e){var upperType=toUpperCaseFirst(toCamelCase(type));var method="handle"+upperType;var getData="getData"+upperType;if(!this[method]){throw new ReferenceError("EPSON.AdobeForm: Unable to find a handler for '"
+type
+"' event");}
if(method==="handleEvent"||method==="handleEventIfListening"){throw new Error("EPSON.AdobeForm: Calling handleEvent or "
+"handleEventIfListening would cause an infinite loop");}
this[method](e,this[getData]());},handleEventIfListening:function(e,type){if(type===undefined){type=e.type;}
if(this.listensFor(type)){this.handleEvent(type,e);}},track:function(info){EPSON.adobe.setEventAndTrack($.extend({eventName:this.name,eventAction:"",type:this.type,errors:""},info),this.trackingName);},getValidator:function(){var validator=this.validator;if(validator===undefined){validator=this.jQform.data("validator");this.validator=validator||null;}
return validator;},getEventFields:function(){var eventFields=[];if(this.form){this.form.querySelectorAll(this.inputSelector).forEach(function(input){if(!input.matches("[type=\"checkbox\"],[type=\"radio\"]")||!input.checked){eventFields.push(input.name+":"+input.value);}});}
return eventFields.join(",");},handleSubmit:function(e,data){var that=this;var validator=that.validator;if(validator){window.requestAnimationFrame(function(){if(validator.hasErrors()){that.handleEventIfListening({},"form-invalid")}else{that.track(data);}});}else{that.track(data);}},getDataSubmit:function(){return{eventAction:this.eventActions.complete,eventFields:this.getEventFields()};},handleFocusin:function(e,data){this.track(data);this.stopListeningFor(e?e.type:"focusin");},getDataFocusin:function(){return{eventAction:this.eventActions.start};},handleFormInvalid:function(e,data){if(data){this.track(data);}},getDataFormInvalid:function(){var validator=this.validator;var data;if(validator&&validator.hasErrors()){data={eventAction:this.eventActions.errors,errors:validator.getErrors().map(function(error){return error.element.name+":"+error.message;},this).join(",")};}
return data;},handleFormView:function(e,data){var maxViews=this.maxViews;if(maxViews<0||maxViews>0){this.track(data);maxViews-=1;if(maxViews===0){this.stopListeningFor("form-view");}
if(maxViews>=0){this.maxViews=maxViews;}}},getDataFormView:function(){return{eventAction:this.eventActions.view};}});$.extend(AdobeForm,{defaultMaxViews:5,isActive:true,formMap:new WeakMap(),disabledSelectors:[],observer:new IntersectionObserver(function(entries,obs){entries.forEach(function(entry){if(entry.isIntersecting){$(entry.target).trigger("form-view");}});}),observedElements:new WeakMap(),validatorAdapters:[],observe:function(form){var map=EPSON.AdobeForm.observedElements;if((form instanceof Element)&&!map.has(form)){map.set(form,true);EPSON.AdobeForm.observer.observe(form);}},getInstanceByForm:function(form){return EPSON.AdobeForm.formMap.get(form);},getOrCreate:function(form){var instance=EPSON.AdobeForm.getInstanceByForm(form);if(form&&!instance){instance=new AdobeForm(form);}
return instance;},eventTargetLookups:Object.freeze({submit:function(target){return target;},focusin:function(target){return target.form;},"form-invalid":function(target){return(target.matches("form")?target:target.form);},"form-view":function(target){return target;}}),handleDelegatedEvent:function(e){var type=e.type;var lookup;var form;var instance;if(EPSON.AdobeForm.isActive){lookup=EPSON.AdobeForm.eventTargetLookups[type];form=lookup(e.target);if(form===undefined){}else{instance=(form.matches(EPSON.adobeUtil.VALID_FORM)&&EPSON.AdobeForm.getOrCreate(form));if(instance){instance.handleEventIfListening(e,type);}}}},setActive:function(isActive){EPSON.AdobeForm.isActive=isActive;},disableFormForChild:function(selector){EPSON.AdobeForm.disabledSelectors.push(selector);},undisableFormForChild:function(selector){var disabledSelectors=EPSON.AdobeForm.disabledSelectors;EPSON.AdobeForm.disabledSelectors=disabledSelectors.filter(function(disabled){return disabled!==selector;});},getDisabledSelectors:function(){return EPSON.AdobeForm.disabledSelectors.concat();},addValidatorAdapter:function(Adapter,check){if(!check&&Adapter.check){check=Adapter.check;}
if(typeof check!=="function"){throw new ReferenceError("EPSON.AdobeForm: validator adapters need a check function");}
EPSON.AdobeForm.validatorAdapters.push({Adapter:Adapter,check:check});}});return AdobeForm;}(window));;EPSON.AdobeCalculatorForm=(function(){"use strict";var AdobeCalculatorForm=EPSON.createClass(EPSON.AdobeForm,{init:function(form,calculatorName){EPSON.AdobeForm.prototype.init.call(this,form);this.calculatorName=calculatorName;},discoverTrackingName:function(){return"calculator-click";},track:function(info){EPSON.adobe.setEventAndTrack($.extend({eventName:"",eventAction:"tool interaction",calculatorName:this.calculatorName},info),this.trackingName);},getDataSubmit:function(){return $.extend(EPSON.AdobeForm.prototype.getDataSubmit.call(this),{eventName:"cal complete"});},getDataFocusin:function(){return $.extend(EPSON.AdobeForm.prototype.getDataFocusin.call(this),{eventName:"cal start"});},getDataFormView:function(){return $.extend(EPSON.AdobeForm.prototype.getDataFormView.call(this),{eventName:"cal view"});},getDataFormInvalid:function(){return $.extend(EPSON.AdobeForm.prototype.getDataFormInvalid.call(this),{eventName:"cal error"});}});return AdobeCalculatorForm;}());;EPSON.AdobeValidatorAdapter=(function(){"use strict";var Adapter=EPSON.createClass({type:"abstract",init:function(form){this.form=form;},getErrors:function(){return[];},hasErrors:function(){return this.getErrors().length>0;}});Adapter.check=function(form){return false;};return Adapter;}());;EPSON.AdobeValidatorAdapterNative=(function(){var Adapter=EPSON.createClass(EPSON.AdobeValidatorAdapter,{type:"native",getErrors:function(){var errors=[];this.form.querySelectorAll("input,select,textarea").forEach(function(input){if(!input.validity.valid){errors.push({element:input,message:input.validationMessage});}});return errors;}});Adapter.check=function(form){return(!form.matches("[novalidate]")&&("reportValidity"in form));};EPSON.AdobeForm.addValidatorAdapter(Adapter);return Adapter;}());;EPSON.AdobeValidatorAdapterJquery=(function(){var Adapter=EPSON.createClass(EPSON.AdobeValidatorAdapter,{type:"jquery",init:function(form){this.validator=$(form).data("validator");},getErrors:function(){return this.validator.errorList;}});Adapter.check=function(form){return(window.jQuery&&jQuery.fn.validate&&jQuery(form).data("validator"));};EPSON.AdobeForm.addValidatorAdapter(Adapter);return Adapter;}());;EPSON.AdobeTimeline=(function(){"use strict";var constructors=[];var AdobeTimeline=EPSON.createClass({init:function(percentages,element){this.element=element;this.times=percentages.map(this.normalisePercentage,this).sort(function(a,b){return a-b;});this.flags=percentages.reduce(function(flags,percentage){flags[percentage]=false;return flags;},{});this.eventName=this.discoverEventName();this.eventActions=this.discoverEventActions();this.videoName=this.discoverVideoName();this.videoId=this.discoverVideoId();this.trackingNames=this.discoverTrackingNames();this.setup();},normalisePercentage:function(percentage){return Math.round(percentage);},discoverEventName:function(){return this.element.dataset.videoEventName||"video";},discoverEventActions:function(){var data=this.element.dataset.videoEventActions;if(data){data=JSON.parse(data);}else{data={"0":"video start","100":"video complete"};}
return data;},discoverVideoName:function(){return this.element.dataset.videoName||"";},discoverVideoId:function(){return this.element.dataset.videoId||"";},discoverTrackingNames:function(){var data=this.element.dataset.videoTrackingNames;if(data){data=JSON.parse(data);}else{data={"0":"video start","100":"video complete"};}
return data;},setup:function(){return;},startTicking:function(){this.isTicking=true;this.tick();},stopTicking:function(){this.isTicking=false;},tick:function(){var that=this;that.checkPercentage(that.getPercent());window.requestAnimationFrame(function(){if(that.isTicking){that.tick();}});},getPercent:function(){throw new Error("EPSON.AdobeTimeline#getPercent() has not been set.");},checkPercentage:function(percentage){var round=this.normalisePercentage(percentage);var times=this.times;var flags=this.flags;var i=0;var il=times.length;while(i<il&&round>=times[i]){if(flags[round]===false){this.track(round);flags[round]=true;}
i+=1;}},track:function(percentage){var eventAction=(this.eventActions[percentage]||("video milestone "+percentage));var trackingName=this.trackingNames[percentage]||eventAction;EPSON.adobe.setEventAndTrack({eventName:this.eventName,eventAction:eventAction,videoName:this.videoName,videoID:this.videoId},trackingName);},reset:function(percentages){if(percentages===undefined){percentages=Object.keys(this.flags);}else if(!Array.isArray(percentages)){percentages=[percentages];}
percentages.forEach(function(flag){if(this.flags[flag]){this.flags[flag]=false;}},this);}});$.extend(AdobeTimeline,{timelineMap:new WeakMap(),addConstructor:function(Constructor,test){constructors.push({C:Constructor,t:test});},create:function(element,Constructor,percentages){var instance;var data;if(!Constructor){data=constructors.find(function(c){return c.t(element);});if(data){Constructor=data.C;}else{throw new Error("EPSON.AdobeTimeline.create() - unable to identify the "
+"timeline constructor to use. Please define it.");}}
if(!percentages){percentages=EPSON.adobeUtil.VIDEO_PERCENTAGES;}
instance=new Constructor(percentages,element);EPSON.AdobeTimeline.timelineMap.set(element,instance);return instance;}});return AdobeTimeline;}());;EPSON.AdobeTimelineVideo=(function(){"use strict";var AdobeTimelineVideo=EPSON.createClass(EPSON.AdobeTimeline,{setup:function(){var that=this;that.element.addEventListener("play",function(){that.startTicking();});that.element.addEventListener("pause",function(){that.stopTicking();});that.element.addEventListener("ended",function(){that.stopTicking();});},getPercent:function(){return(this.element.currentTime/this.element.duration)*100;}});EPSON.AdobeTimeline.addConstructor(AdobeTimelineVideo,function(element){return element.matches("video");});return AdobeTimelineVideo;}());;EPSON.AdobeTimelineYoutube=(function(){"use strict";var AdobeTimelineYoutube=EPSON.createClass(EPSON.AdobeTimeline,{setup:function(){var that=this;var element=that.element;if(!window.YT){throw new ReferenceError("EPSON.AdobeTimelineYoutube#setup() "
+"YouTube API is not included on the page");}
this.player=YT.get(element.id)||new YT.Player(element);this.player.addEventListener("onStateChange",function(e){switch(e.data){case YT.PlayerState.PLAYING:that.startTicking();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:that.stopTicking();break;}});},getPercent:function(){var player=this.player;return(player.getCurrentTime()/player.getDuration())*100;}});EPSON.AdobeTimeline.addConstructor(AdobeTimelineYoutube,function(element){return element.matches("iframe[src^=\"https://www.youtube.\"]");});return AdobeTimelineYoutube;}());;EPSON.AdobeTracking=(function(GLOBAL){"use strict";var AdobeTracking=EPSON.createClass({init:function(settings){this.object=this.getFromGlobal(settings.objectName);this.library=this.getFromGlobal(settings.libraryName);},getFromGlobal:function(name){var object=GLOBAL[name];if(!name){throw new TypeError("EPSON.AdobeTracking: Name not provided");}
if(!object){throw new ReferenceError("EPSON.AdobeTracking: Cannot find "+name+" variable");}
return object;},track:function(name){var type=typeof name;if(type!=="string"){throw new TypeError("EPSON.AdobeTracking: Name must be a string, given "+type);}
this.log("EPSON.AdobeTracking#track(%o)\ninstance = %o",name,this);this.library.track(name);},set:function(path,value){GLOBAL.objectUtil.set(this.object,path,value);this.log("EPSON.AdobeTracking#set(%o, %o)"+"\nobject is now %o"+"\ninstance = %o",path,value,JSON.parse(JSON.stringify(this.object)),this);},get:function(path,defaultValue){return GLOBAL.objectUtil.get(this.object,path,defaultValue);},has:function(path){return GLOBAL.objectUtil.has(this.object,path);},setEventAndTrack:function(data,name,path){this.set(path||"event[0].eventInfo",data);this.track(name);},connectForm:function(form){return EPSON.AdobeForm.getOrCreate(form);},disconnectForm:function(form,preventFuture){var instance=EPSON.AdobeForm[preventFuture?"getOrCreate":"getInstanceByForm"](form);if(instance){Object.keys(EPSON.AdobeForm.eventTargetLookups).forEach(function(eventName){instance.stopListeningFor(eventName);});}},disconnectFormChild:function(selector){EPSON.AdobeForm.disableFormForChild(selector);},addValidatorAdapter:function(Adapter,check){EPSON.AdobeForm.addValidatorAdapter(Adapter,check);},ignoreInput:function(input){input.classList.add(EPSON.adobeUtil.IGNORE_INPUT);},disconnectLink:function(link){var anchor=link.closest("a");if(anchor){anchor.classList.add(EPSON.adobeUtil.MARKED_LINK);}},log:function(){if(this.debug){console.log.apply(console,arguments);}},connectVideo:function(element,Constructor){return EPSON.AdobeTimeline.create(element,Constructor);},resetVideo:function(element){var timeline=EPSON.AdobeTimeline.timelineMap.get(element);if(timeline){timeline.reset();}else{console.warn("Unable to find a timeline for %o",element);}}});return AdobeTracking;}(window));;EPSON.adobe=new EPSON.AdobeTracking(EPSON.adobeUtil.config);;(function(jQdoc){"use strict";EPSON.adobe.disconnectFormChild("button[name^=\"buynow\"]");EPSON.adobe.disconnectFormChild("select[name^=\"buynow_sku_bundle\"]");EPSON.adobe.disconnectFormChild(".select[data-select-name^=\"buynow_sku_bundle\"]");jQdoc.on("click","button[name^=\"buynow\"]",function(){var jQparent=$(this).closest(".product-listing");var data={productId:this.name.replace(/\D/g,""),productName:jQparent.find("h1,h2,h3,h4,h5,h6").text(),productCategory:EPSON.adobe.get("filter.filter",(EPSON.adobe.get("page.pageName","").split(":").slice(-1)[0]||"product")),productType:"type",productClassification:"classification of the product",};var product;var href;var jQprice=jQparent.find(".price_incl_vat:not(.pricestrikethrough)");var jQselect;var rollup;if(this.name==="buynowir"){jQparent=$(this).closest("form");jQselect=jQparent.find("select");rollup=jQparent.data("price");data.productQuantity=jQselect.val()||"1";data.productPrice=(rollup?(rollup*data.productQuantity):"");data.productId=jQselect.attr("name").replace(/\D/g,"");data.productCategory="bundle";data.productType="";data.productClassification="";data.productName=(jQparent.closest(".product__bundles").find(".product__bundles__title").text()||"");}else if(window.SOLR&&jQparent.length){href=jQparent.find("a").attr("href");product=SOLR.products.results.find(function(result){return result.link_s===href;});data={productId:href.replace(/\D+/g,""),productName:product.name_s||"",productCategory:product.category_s||"",productType:(product.device_b?"device":product.type_s)||"",productClassification:product.classification_s||""};}
if(jQprice.length){data.productPrice=EPSON.uncurrency(jQprice.text());}
EPSON.adobe.disconnectForm(this.form);EPSON.adobe.setEventAndTrack($.extend({eventName:"add to basket",eventAction:"cart-addition",productQuantity:"1"},data),"cart-add");});jQdoc.on("submit","#storebutton,.consumableForm",function(){var form=this;var attributes=EPSON.adobeUtil.getAttributes(form);var dropdown=form.querySelector("select[name^=\"buynow\"]");var productId=(dropdown?dropdown.name.replace(/\D/g,""):form.querySelector("button[data-productid]").dataset.productid);var quantity=(dropdown?dropdown.value:"1");EPSON.adobe.disconnectForm(form);EPSON.adobe.setEventAndTrack({eventName:"add to basket",eventAction:"cart-addition",productId:productId,productName:attributes["data-wt.pn"]||"",productCategory:attributes["data-wt.pc"]||"",productType:attributes["data-wt.z_ptype"]||"",productClassification:attributes["data-wt.z_pclass"]||"",productQuantity:quantity,productPrice:attributes["data-price"]||""},"cart-add");});jQdoc.on("click","#dealer-list a:not(.hatch-popup-buy)",function(e){var form=document.getElementById("storebutton");var attributes=EPSON.adobeUtil.getAttributes(form);var productId=form.querySelector("button[data-productid]").dataset.productid;var image=e.target.closest("li").querySelector("img");var storeName=(image?image.getAttribute("alt"):"");EPSON.adobe.disconnectForm(form);EPSON.adobe.setEventAndTrack({eventName:"external store buy now",eventAction:"ext store buy",productId:productId,productName:attributes["data-wt.pn"]||"",productCategory:attributes["data-wt.pc"]||"",productType:attributes["data-wt.z_ptype"]||"",productClassification:attributes["data-wt.z_pclass"]||"",productQuantity:"1",productPrice:attributes["data-price"]||"",externalPrice:"",externalStoreName:storeName},"buy-external");});function trackProductRemove(element,quantity){var product=element.closest(".basket-item,.br-row__product");var attributes=EPSON.adobeUtil.getAttributes(product);var quantityInput;var productIdElement=product.querySelector("[data-productid]");var productId=attributes["data-wt.pn_sku"]||"";var productName=attributes["data-wt.pn"]||"";var productNameElement;if(quantity===undefined){quantityInput=(product&&product.querySelector("select[name^=\"quantities\"]"));quantity=(quantityInput?(quantityInput.dataset.previousValue||quantityInput.value||""):"");}
if(productIdElement){productId=productIdElement.dataset.productid;productNameElement=productIdElement.querySelector(".description p");if(productNameElement){productName=EPSON.adobeUtil.cleanText(productNameElement.textContent)||productName;}}
EPSON.adobe.setEventAndTrack({eventName:"remove from basket",eventAction:"cart-remove",product:[{productInfo:{productId:productId,productName:productName,productCategory:attributes["data-wt.pc"]||"",productType:attributes["data-wt.z_ptype"]||"",productClassification:attributes["data-wt.z_pclass"]||"",productPrice:((attributes["data-wt.tx_sr"]||0)*(quantity||1)),productQuantity:String(quantity)}}]},"cart-remove");}
jQdoc.on("click",EPSON.adobeUtil.VALID_LINK+",.deleteItemButton",function(){if((/\bbasket\?delete=1\b/).test(this.getAttribute("href"))||this.classList.contains("deleteItemButton")){trackProductRemove(this);}}).on("focus","select[name^=\"quantities\"]",function(){this.dataset.previousValue=this.value;}).on("change","select[name^=\"quantities\"]",function(){var quantity=this.value;var previousQuantity=this.dataset.previousValue;var attributes;if(quantity<previousQuantity){trackProductRemove(this,previousQuantity-quantity);}else if(quantity>previousQuantity){attributes=EPSON.adobeUtil.getAttributes(this.closest(".basket-item,.br-row__product"));EPSON.adobe.disconnectForm(this.form,true);EPSON.adobe.setEventAndTrack({eventName:"add to basket",eventAction:"cart-addition",productId:attributes["data-wt.pn_sku"]||"",productName:attributes["data-wt.pn"]||"",productCategory:attributes["data-wt.pc"]||"",productType:attributes["data-wt.z_ptype"]||"",productClassification:attributes["data-wt.z_pclass"]||"",productQuantity:String(quantity-previousQuantity),productPrice:attributes["data-wt.tx_sr"]||""},"cart-add");}});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";$(function(){$(".ecoTank_select .printer_tile").on("click",function(){window.setTimeout(function(){$("#ecoTank_calculator_form").each(function(){var form=this;var calculatorForm=new EPSON.AdobeCalculatorForm(form,"EcoTank Calculator");var isSubmitSent=false;function trackResults(){if(!isSubmitSent&&document.documentElement.contains(form)){calculatorForm.handleEventIfListening({},"submit");isSubmitSent=true;}}
calculatorForm.handleEventIfListening({},"focusin");calculatorForm.stopListeningFor("submit");jQdoc.on("calculator-results",trackResults);$(form).on("click",".recalculate",function(){jQdoc.off("calculator-results",trackResults);}).data("adobe-calculator-form",calculatorForm);});},301);});$(".co2-calculator").each(function(){var container=this;var calculatorForm=new EPSON.AdobeCalculatorForm(container,"CO2 Calculator");var Co2Adapter=EPSON.createClass(EPSON.AdobeValidatorAdapter,{getErrors:function(){var errors=[];var form=this.form;$("input,label,.select_display",form).each(function(){var jQthis=$(this);var element=this;var borderColor=window.getComputedStyle(this,null).getPropertyValue("border-color").toLowerCase();if(borderColor==="rgb(255, 0, 0)"||borderColor==="red"||borderColor==="#f00"||borderColor==="#ff0000"){if(jQthis.is(".select_display")){element=$(("select[name=\""
+jQthis.closest(".select").data("select-name")
+"\"]"),form)[0];}else if(jQthis.is("label")){element=$("input[id=\""+jQthis.attr("for")+"\"]",form)[0];}
if(element){errors.push({element:element,message:"This field is required"});}}});return errors;}});calculatorForm.setValidatorAdapter(new Co2Adapter(container));$(container).on("focusin",function(e){if(!e.target.closest("form")){calculatorForm.handleEventIfListening(e);}}).on("click",".do-submit",function(e){calculatorForm.handleEventIfListening(e,"submit");}).data("adobe-calculator-form",calculatorForm);});$(".lw__selectLabel #start_compare").closest("form").each(function(){var form=this;var calculatorForm=new EPSON.AdobeCalculatorForm(form,"LabelWorks Calculator");$(".startButton",form).on("click",function(){calculatorForm.handleEventIfListening({},"focusin");});$(form).data("adobe-calculator-form",calculatorForm);});$("#savings-calculator-form,#tco-holder").each(function(){var jQform=$(this);var name=(jQform.is("#savings-calculator-form")?"EPA Calculator":"WorkForce Pro TCO Calculator");jQform.data("adobe-calculator-form",new EPSON.AdobeCalculatorForm(jQform[0],name));});$("#projector-type").closest("#select_projector").each(function(){var container=this;var jQcontainer=$(this);var calculatorForm=new EPSON.AdobeCalculatorForm(container,"Display TCO Calculator");var isStarted=false;var isCompleted=false;$("input",container).on("focus",function(){if(!isStarted){calculatorForm.handleEventIfListening({},"focusin");isStarted=true;}});$(".select,.rs-control,.left_arrow,.right_arrow",container).on("click",function(){if(!isStarted){calculatorForm.handleEventIfListening({},"focusin");isStarted=true;}});$(".js-show-results",container).on("click",function(){if(!isCompleted){calculatorForm.handleEventIfListening({},"submit");isCompleted=true;}});jQcontainer.on("form-view",function(){calculatorForm.handleEventIfListening({},"form-view");}).data("adobe-calculator-form",calculatorForm);});$(".lens_selector .calculator_holder").each(function(){var container=this;var jQcontainer=$(this);var calculatorForm=new EPSON.AdobeCalculatorForm(container,"Lens Distance Calculator");var isStarted=false;var isCompleted=false;jQcontainer.on("click",".grey_selection",function(){if(!isStarted){calculatorForm.handleEventIfListening({},"focusin");isStarted=true;}});$("#tab-data .button_next").on("click",function(){if(!isCompleted){calculatorForm.handleEventIfListening({},"submit");isCompleted=true;}});jQcontainer.data("adobe-calculator-form",calculatorForm);});$("#ideal-sreen").each(function(){var container=this;var jQcontainer=$(this);var calculatorForm=new EPSON.AdobeCalculatorForm(container,"Display Size Matters Calculator");var isStarted=false;function calStart(){if(!isStarted){calculatorForm.handleEventIfListening({},"focusin");isStarted=true;}}
jQcontainer.on("focus","input",calStart).on("input","input,select",calStart).data("adobe-calculator-form",calculatorForm);});});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";var checkoutData=EPSON.checkoutData||{};var checkoutStepsTracked=[];var checkoutSteps=[{eventName:"order summary",eventAction:"",pageName:"",track:""},{eventName:"",eventAction:"",pageName:"",track:""},{eventName:"login",eventAction:"checkout-login",pageName:"epson:transaction:checkout:login",track:"checkout-login"},{eventName:"checkout: delivery details",eventAction:"delivery details",pageName:"epson:transaction:checkout:delivery details",track:"checkout-delivery-detail-PV"},{eventName:"checkout: Billing details",eventAction:"billing details",pageName:"epson:transaction:checkout:billing details",track:"checkout-billing-detail-PV"},{eventName:"checkout: payment details",eventAction:"payment details",pageName:"epson:transaction:checkout:payment details",track:"checkout-payment-detail-PV"},{eventName:"purchase",eventAction:"",pageName:"",track:""}];jQdoc.on("formProcess",function(){jQdoc.one("formProcessAjaxComplete",function(e){window.setTimeout(function(){var currentStep=checkoutData.currentStep;var step=checkoutSteps[currentStep]||{};var jQdouble=$("#double-your-order");var trackingData={eventName:"",eventAction:"",pageName:"",product:[]};if(!checkoutStepsTracked[currentStep]){checkoutStepsTracked[currentStep]=true;$.extend(trackingData,{eventName:step.eventName,eventAction:step.eventAction,pageName:step.pageName,product:EPSON.checkoutBasketData});EPSON.adobe.setEventAndTrack(trackingData,step.track);if(currentStep===4&&!checkoutData.isCUG&&jQdouble.length){EPSON.adobe.setEventAndTrack({eventName:"double your order",eventAction:"checkout - double-order-overlay",pageName:"epson:transaction:checkout:double your order"},"double-order");jQdouble.on("click",EPSON.adobeUtil.VALID_LINK,function(){var href=this.getAttribute("href");var product=EPSON.checkoutBasketData||[];if(href.includes("double_your_order=1")){product=product.map(function(prod){return $.extend({},prod,{productQuantity:String(prod.productQuantity*2)});});EPSON.adobe.setEventAndTrack({eventName:"double order",eventAction:"cart-double-order-click",product:product},"double-order");}});}}},0);});});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";function getParameter(name,search){var n=name.replace(/[\[]/,'\\[').replace(/[\]]/,'\\]');var s=(search===undefined?window.location.search:search);var regex=new RegExp('[\\?&]'+n+'=([^&#]*)');var results=regex.exec(s);return(results===null?"":window.decodeURIComponent(results[1].replace(/\+/g," ")));}
function getAfterLast(string,lastString){return string.substr(string.lastIndexOf(lastString)+lastString.length);}
jQdoc.on("click","a.pdf-link",function(){var jQform=$(this).next().find("form");var dropdown;var eventName="";var fileName="";var option;if(jQform.length&&!jQform.data("adobe-tracked")){EPSON.adobe.disconnectForm(jQform[0],true);dropdown=jQform.find("[name=\"download\"]")[0];if(dropdown&&dropdown.selectedIndex>-1){option=dropdown.options[dropdown.selectedIndex];eventName=EPSON.adobeUtil.cleanText(option.textContent);fileName=getAfterLast(option.value,"/");}
jQform.data("adobe-tracked",true).on("submit",function(){EPSON.adobe.setEventAndTrack({eventName:eventName,eventAction:"Download Click",neonID:"",fileName:fileName},"download-click");});}}).on("click",EPSON.adobeUtil.VALID_LINK,function(){var href=this.getAttribute("href").trim();var neonID=this.dataset.downloadNeonId||"";var matches;var fileName=this.download||"";var isFileLink=(/\.(?:pdf|pptx?|docx?|xlsx?|png|jpe?g)$/).test(href);if(isFileLink||href.includes("/download.php?")||href.includes("/datasheet.php?")||href.includes("/getpdf.php?")||href.includes("/pressdownloads.php?")||this.matches("[download]")){if(!neonID){matches=href.match(/id=(\d+)\b/);if(matches&&matches[1]){neonID=matches[1];}}
if(!fileName){if(isFileLink){fileName=getAfterLast(href,"/");}else if(this.search.length&&(/\bname=\b/).test(this.search)){fileName=getParameter("name",this.search);}else{fileName=EPSON.adobeUtil.cleanText(this.textContent);}}
EPSON.adobe.setEventAndTrack({eventName:EPSON.adobeUtil.cleanText($(this).is(".datasheet a")?$(this).closest(".datasheet").find("h5").text():(this.dataset.downloadName||this.textContent)),eventAction:"Download Click",neonID:neonID,fileName:fileName},"download-click");}});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";var rawSelector=":([a-z]+)\\(([^)]*)\\)";var SELECTOR=new RegExp(rawSelector,"i");var GLOBAL_SELECTOR=new RegExp(rawSelector,"gi");function memoize(func,resolver,cache){if(resolver===undefined){resolver=function(){return JSON.stringify(Array.prototype.slice.call(arguments));}}
if(cache===undefined){cache={};}
return function(){var context=this;var args=arguments;var key=resolver.apply(context,arguments);if(!Object.prototype.hasOwnProperty.call(cache,key)){cache[key]=func.apply(context,args);}
return cache[key];};}
function parseSelector(selector){var parts=selector.match(GLOBAL_SELECTOR);return(parts===null?function(start){var func=GLOBAL.objectUtil.get(window,selector);if(typeof func==="function"){return func(start);}else{throw new Error("Epson Adobe cannot parse \""+selector+"\" or the "
+"global value is undefined or not a function");}}:function(start){return parts.reduce(function(jQresult,part){var sections=part.match(SELECTOR);var method=sections[1];var selector=sections[2];return(selector===""?jQresult[method]():jQresult[method](selector));},$(start));});}
var parse=memoize(parseSelector);function parseAttr(jQparent,attr,input,defaultParsing){return(jQparent.is("["+attr+"]")?parse(jQparent.attr(attr))(input):defaultParsing(input));}
function getLabel(input){return $("label[for=\""+input.id+"\"]");}
function getEmpty(){return $();}
$(".solr-sidebar,#resourcesSidebar,#HubListings").each(function(){var jQparent=$(this);if(!jQparent.is(".js-adobe-filter")&&!jQparent.find(".js-adobe.filter").length&&!jQparent.closest(".js-adobe.filter").length){jQparent.addClass("js-adobe-filter").attr("data-filter-group-path",(jQparent.is("#resourcesSidebar")?":closest(.filter-collapsible):find(h4)":":closest(.filter-group):parent():find(h4)"));}});jQdoc.on("change",(".js-adobe-filter input[type=\"checkbox\"],"
+".js-adobe-filter input[type=\"radio\"]"),function(){var jQparent=$(this).closest(".js-adobe-filter");var jQlabel=parseAttr(jQparent,"data-filter-label-path",this,getLabel);var jQgroup=parseAttr(jQparent,"data-filter-group-path",this,getEmpty);EPSON.adobe.setEventAndTrack({eventName:(this.checked?"filter applied":"filter removed"),eventAction:"filter interaction",filterName:EPSON.adobeUtil.cleanText(jQlabel.text()),filterCategory:EPSON.adobeUtil.cleanText(jQgroup.text())},"filter-applied");});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";function trackNavigationClick(eventName,tabDetail,tabType){EPSON.adobe.setEventAndTrack({eventName:eventName||"",eventAction:"Navigation Click",tabDetail:tabDetail||"",tabType:tabType||""},"nav-click");}
jQdoc.on("click",".site-header "+EPSON.adobeUtil.VALID_LINK+":not(.basket_count)",function(){var jQtrigger=$(this);var jQanchor=jQtrigger.closest("li[class]:not([class=\"\"])").find("a").eq(0);var jQbasket=jQtrigger.closest(".drop-down__basket");if(jQbasket.length){jQanchor=jQbasket.find("h5");}
trackNavigationClick(EPSON.adobeUtil.cleanText(this.textContent),EPSON.adobeUtil.cleanText(jQanchor.text()),"header_nav");}).on("click",".footer-nav a",function(){var jQtitle=$(this).closest("ul").closest("li").find("h4").eq(0);trackNavigationClick(EPSON.adobeUtil.cleanText(this.textContent),EPSON.adobeUtil.cleanText(jQtitle.text()),"footer_nav");});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";function trackCTAClick(eventName,tabDetail,tabType){EPSON.adobe.setEventAndTrack({eventName:eventName||"",eventAction:"Product CTA",tabDetail:tabDetail||"",tabType:tabType||""},"nav-click");}
$(".page-nav a,.store-nav a,.mwd_anchorpoint_navi a").on("click",function(){var tabDetail="";var jQanchor=$(this);if(jQanchor.is(".page-nav a")){tabDetail=jQanchor.closest(".page-nav").find(".info-wrapper,.product-info").text();}else if(jQanchor.is(".mwd_anchorpoint_navi a")){tabDetail=jQanchor.closest(".mwd_anchorpoint_navi").find(".mwd_name").text();}
EPSON.adobe.disconnectLink(this);trackCTAClick(EPSON.adobeUtil.cleanText(this.textContent),EPSON.adobeUtil.cleanText(tabDetail),"sub_header_nav");});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";if(window.SOLR){jQdoc.on("click",(".product-listing a,"
+"label[for^=\"compare\"],"
+".product-rating>a[href$=\"#reviews\"]"),function(){var href=(this.getAttribute("href")||"").trim();var elementHref=this.closest(".product-listing").querySelector(EPSON.adobeUtil.VALID_LINK).getAttribute("href").trim();var eventName="";var eventAction="CTA Click";var trackingCall="product-cta";var product=SOLR.products.results.find(function(result){return result.link_s===elementHref;});var input;if(/#find\-dealer$/.test(href)){eventName="find a dealer";}else if(href==="#requestcallback"){eventName="request a call back";}else if(href==="#quickview"){eventName="quick view";eventAction="Prod QV Click";trackingCall="product-quickView";}else if(/#reviews$/.test(href)){eventName="PLP Review Click";}else if(this.nodeName.toLowerCase()==="label"){input=document.querySelector("input[id=\""+this.getAttribute("for")+"\"]");eventName=((input&&input.checked)?"remove from compare":"add to compare");}
if(product){EPSON.adobe.setEventAndTrack({eventName:eventName,eventAction:eventAction,productId:elementHref.replace(/\D+/g,""),productName:product.name_s,productCategory:product.category_s,productType:(product.device_b?"device":product.type_s),productClassification:product.classification_s},trackingCall);}});}else{jQdoc.on("change",("input[name^=\"compare\"],"
+"#range input[type=\"checkbox\"][data-product-id]"),function(){var isEcoTank=this.matches("[data-product-id]:not([name])");var productId=(isEcoTank?this.dataset.productId:this.value);var productName=EPSON.adobeUtil.cleanText(isEcoTank?$(this).closest("section[data-id]").find(".rangeTitle").text():$(this).closest("a").data("target"));EPSON.adobe.setEventAndTrack({eventName:(this.checked?"add to compare":"remove from compare"),eventAction:"CTA Click",productId:productId,productName:productName,productCategory:"",productType:"",productClassification:""},"product-cta");});}
jQdoc.on("click",".remove-compare",function(){var parent=this.closest(".compare-product");EPSON.adobe.setEventAndTrack({eventName:"remove from compare",eventAction:"CTA Click",productId:parent.querySelector(EPSON.adobeUtil.VALID_LINK).getAttribute("href").replace(/\D+/g,""),productName:EPSON.adobeUtil.cleanText(parent.querySelector("h4").textContent),productCategory:"",productType:"",productClassification:""},"product-cta");});jQdoc.on("click",".hero-summary a[href=\"#find-dealer\"],.hero-summary .requestcallback",function(e){var jQbutton=$(this);var jQsummary=jQbutton.closest(".hero-summary");var productId=$("#productID").data("productid");var jQinfo=$("#storebutton,#storebuttoninfo");var attributes=(jQinfo.length?EPSON.adobeUtil.getAttributes(jQinfo[0]):{});EPSON.adobe.setEventAndTrack({eventName:(jQbutton.hasClass("requestcallback")?"request a call back":"find a dealer"),eventAction:"CTA Click",productId:productId||"",productName:EPSON.adobeUtil.cleanText(jQsummary.find("h1").text()),productCategory:attributes["data-wt.pc"]||"",productType:attributes["data-wt.z_ptype"]||"",productClassification:attributes["data-wt.z_pclass"]||""},"product-cta");});jQdoc.on("click",("#hero-tabs-main a[href=\"#images\"],.gallery-images-link,"
+"#hero-tabs-main a[href=\"#360-view\"],.gallery-views-link,"
+"#hero-tabs-main a[href=\"#video_0\"],.gallery-videos-link"),function(e){var jQsummary=$(".hero-summary");var productId=$("#productID").data("productid");var jQinfo=$("#storebutton");var attributes=(jQinfo.length?EPSON.adobeUtil.getAttributes(jQinfo[0]):{});var eventName="Products: View Gallery Clicks";var jQtrigger=$(e.target);if(jQtrigger.is("a[href=\"#360-view\"]")){eventName="Products: 360 View Click";}else if(jQtrigger.is("a[href=\"#video_0\"],.gallery-videos-link")){eventName="Products: View Video Click";}
EPSON.adobe.setEventAndTrack({eventName:eventName,eventAction:"CTA Click",productId:productId||"",productName:EPSON.adobeUtil.cleanText(jQsummary.find("h1").text()),productCategory:attributes["data-wt.pc"]||"",productType:attributes["data-wt.z_ptype"]||"",productClassification:attributes["data-wt.z_pclass"]||""},"product-cta");});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";jQdoc.on("submit",EPSON.adobeUtil.VALID_FORM,function(){if(this.action.includes("viewcon/corporatesite/myepson/registration")){EPSON.adobe.disconnectForm(this);EPSON.adobe.setEventAndTrack({eventName:"my epson",eventAction:"reg complete",contactId:"",customerType:"",optionStatus:"status",flag:"flag"},"registration");}});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";var jQform=$("#product_search,.ink-search-form");var jQinput=jQform.find("[name=\"product\"],[name=\"search\"]");jQform.on("click","a",function(){var jQa=$(this);EPSON.adobe.disconnectLink(this);EPSON.adobe.setEventAndTrack({eventName:"suggested search",eventAction:"suggested search click",search:{type:jQa.attr("href").trim(),term:jQinput.val(),clicked:EPSON.adobeUtil.cleanText(jQa.text())}},"search-cta");});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";var IGNORE_CLASS="js-adobe-ignore-video";function getYouTubeId(src){var match=src.match(/\/embed\/([\w\-]+)\b/);return((match&&match.length)?match[1]:"");}
$("video:not(."+IGNORE_CLASS+")").each(function(){var video=this;var jQvideo=$(video);var name=video.dataset.videoName||"";var id=video.dataset.videoId||video.currentSrc;if(!name){if(jQvideo.closest(".hero-slider").length){name=EPSON.adobeUtil.cleanText(jQvideo.closest(".site-wrapper").find(".breadcrumb .current").text());}else{name=EPSON.adobeUtil.findNearestHeading(video);}}
jQvideo.attr({"data-video-name":name,"data-video-id":id}).addClass(IGNORE_CLASS);EPSON.AdobeTimeline.create(video);});$("iframe[src^=\"https://www.youtube.\"]:not(."+IGNORE_CLASS+")").each(function(){var iframe=this;var jQiframe=$(iframe);var name=iframe.dataset.videoName||"";var src=jQiframe.attr("src");var id=iframe.dataset.videoId||getYouTubeId(src);var heading;if(!name){name=EPSON.adobeUtil.findNearestHeading(iframe);}
if(!src.includes("enablejsapi=1")&&!jQiframe.is("[enablejsapi=\"1\"]")){console.warn(("Epson Adobe tracking."
+"YouTube API not activated for this iframe: %o"
+"\nVideo name = %o, Video ID = %o"),iframe,name,id);}
jQiframe.attr({"data-video-name":name,"data-video-id":id}).addClass(IGNORE_CLASS);EPSON.AdobeTimeline.create(iframe);});$(function(){var resetOnClose=["resourcesVideo"];resetOnClose.forEach(function(id){var popup=EPSON.getPopupInstance(id);if(popup){popup.bindShow(function(){$("video,iframe",popup.element).each(function(){var timeline=EPSON.AdobeTimeline.timelineMap.get(this);var src;if(timeline){src=this.getAttribute("src");timeline.videoName=EPSON.adobeUtil.findNearestHeading(this)
timeline.videoId=(this.matches("video")?(this.currentSrc||src||""):getYouTubeId(src));}});});popup.bindHide(function(){$("video,iframe",popup.element).each(function(){var timeline=EPSON.AdobeTimeline.timelineMap.get(this);if(timeline){timeline.reset();}});});}});});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";var AdobeForm=EPSON.AdobeForm;var RequestValidationAdapter=EPSON.createClass(EPSON.AdobeValidatorAdapter,{type:"requestcallback",getErrors:function(){var errors=[];var form=this.form;var jQinputs=$("input,select,textarea",form);$("label[id$=\"-error\"]:visible",form).each(function(){var jQlabel=$(this);var jQinput=jQinputs.filter("[id=\""+jQlabel.attr("id").slice(0,-6)+"\"]");if(!jQinput.length){jQinput=jQlabel.parent().find("input,select,textarea");}
if(!jQinput.length){return;}
errors.push({element:jQinput[0],message:jQlabel.text()});});return errors;}});RequestValidationAdapter.check=function(form){return form.id==="requestcallback_form";};AdobeForm.addValidatorAdapter(RequestValidationAdapter);$(function(){var jQform=$("#requestcallback_form");if(!jQform.length){return;}
var form=jQform[0];var triggerError=$.debounce(50,function(){jQform.trigger("form-invalid");});jQform.on({haserrors:function(){triggerError();},formproceed:function(){jQform.find("label[id$=\"-error\"]").css("display","none");jQform.triggerHandler("submit");}});var observer=new IntersectionObserver(function(entries,obs){entries.forEach(function(entry){if(entry.isIntersecting&&($(EPSON.adobeUtil.VALID_INPUTS,entry.target).filter(":visible").length)){$(entry.target).trigger("form-view");}});});observer.observe(form);AdobeForm.observedElements.set(form,true);});}(EPSON.adobeUtil.jQdoc));;(function(jQdoc){"use strict";var isTab=false;function starifySelectors(selectors){return selectors.map(function(selector){return selector+" *,"+selector;}).join(",");}
jQdoc.on("keydown keyup",function(e){var isKeyup=e.type==="keyup";if(e.key==="Tab"){EPSON.AdobeForm.setActive(isKeyup);isTab=!isKeyup;if(isKeyup){$(document.activeElement).trigger("focusin");}}}).on("mousedown focusin",function(e){var jQtarget=$(e.target);var form;if((e.type==="mousedown"||isTab||jQtarget.data("epsonfield"))&&jQtarget.is(starifySelectors(EPSON.AdobeForm.getDisabledSelectors()))){form=e.target.form;if(!form&&jQtarget.is(starifySelectors([".select"]))){form=jQtarget.closest("form")[0];}
EPSON.adobe.disconnectForm(form,true);}});$(function(){var jQforms=$(EPSON.adobeUtil.VALID_FORM);jQforms.on(Object.keys(EPSON.AdobeForm.eventTargetLookups).join(" "),EPSON.AdobeForm.handleDelegatedEvent);jQforms.each(function(){EPSON.AdobeForm.observe(this);});});}(EPSON.adobeUtil.jQdoc));;