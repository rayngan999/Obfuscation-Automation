!function(e,t,m){function a(e,t,a){this.callback=a||f.callback,this.errors=[],this.fields={},this.form=this._formByNameOrNode(e)||{},this.messages={},this.handlers={},this.conditionals={};for(var r=0,s=t.length;r<s;r++){var n=t[r];if((n.name||n.names)&&n.rules)if(n.names)for(var i=0,o=n.names.length;i<o;i++)this._addField(n,n.names[i]);else this._addField(n,n.name);else console.warn("validate.js: The following field is being skipped due to a misconfiguration:"),console.warn(n),console.warn("Check to ensure you have properly configured a name and rules for this field")}var l,u=this.form.onsubmit;this.form.onsubmit=(l=this,function(e){return l._validateForm(e)&&(u===m||null===u||u())})}function s(e,t){var a;if(!(0<e.length)||"radio"!==e[0].type&&"checkbox"!==e[0].type)return e[t];for(a=0,elementLength=e.length;a<elementLength;a++)if(e[a].checked)return e[a][t]}var f={messages:{required:"O campo %s Ã© obrigatÃ³rio.",matches:"Os campos %s e %s nÃ£o sÃ£o iguais.",default:"O campo %s ainda estÃ¡ configurado como padrÃ£o, por favor mude.",valid_email:"O campo %s nÃ£o Ã© um email vÃ¡lido.",valid_emails:"O campo %s precisa que todos os emails sejam vÃ¡lidos.",min_length:"O campo %s precisa ter pelo menos %s caracteres.",max_length:"O campo %s nÃ£o deve exceder %s caracteres.",exact_length:"O campo %s precisa ter exatamente %s caracteres.",greater_than:"O campo %s precisa ser um nÃºmero maior que %s.",less_than:"O campo %s precisa ser um nÃºmero menor que %s.",alpha:"O campo %s precisa conter somente letras.",alpha_numeric:"O campo %s precisa conter somente letra ou nÃºmero.",alpha_dash:"O campo %s precisa conter somente nÃºmero, letra, traÃ§o e traÃ§o-inferior.",numeric:"O campo %s deve conter apenas nÃºmeros.",integer:"O campo %s deve conter apenasr valores inteiros.",decimal:"O campo %s deve cnoter apenas valores decimais.",is_natural:"O campo %s deve conter apenas nÃºmeros positivos.",is_natural_no_zero:"O campo %s deve conter um nÃºmero maior que zero.",valid_ip:"O campo %s deve ser um IP vÃ¡lido.",valid_base64:"O campo %s deve conter um base64 vÃ¡lido.",valid_credit_card:"O campo %s deve ser um cartÃ£o de crÃ©dito vÃ¡lido.",is_file_type:"O campo %s deve conter apenas arquivos do(s) tipo(s) %s.",valid_url:"O campo %s deve ser uma URL vÃ¡lida.",greater_than_date:"O campo %s precisa ter uma data maior que %s.",less_than_date:"O campo %s precisa ter uma data menor que %s.",greater_than_or_equal_date:"O campo %s precisa ter uma data que Ã© maior ou igual Ã  %s.",less_than_or_equal_date:"O campo %s precisa ter uma data que Ã© menor ou igual Ã  %s."},callback:function(e){}},v=/^(.+?)\[(.+)\]$/,r=/^[0-9]+$/,n=/^\-?[0-9]+$/,i=/^\-?[0-9]*\.?[0-9]+$/,o=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,l=/^[a-z0-9]+$/i,u=/^[a-z0-9_\-]+$/i,d=/^[0-9]+$/i,c=/^[1-9][0-9]*$/i,p=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,h=/[^a-zA-Z0-9\/\+=]/i,_=/^[\d\-\s]+$/,g=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,y=/\d{4}-\d{1,2}-\d{1,2}/;a.prototype.setMessage=function(e,t){return this.messages[e]=t,this},a.prototype.setRules=function(e){this.fields={};for(var t=0,a=e.length;t<a;t++){var r=e[t];if((r.name||r.names)&&r.rules)if(r.names)for(var s=0,n=r.names.length;s<n;s++)this._addField(r,r.names[s]);else this._addField(r,r.name);else console.warn("validate.js: The following field is being skipped due to a misconfiguration:"),console.warn(r),console.warn("Check to ensure you have properly configured a name and rules for this field")}return this},a.prototype.registerCallback=function(e,t){return e&&"string"==typeof e&&t&&"function"==typeof t&&(this.handlers[e]=t),this},a.prototype.registerConditional=function(e,t){return e&&"string"==typeof e&&t&&"function"==typeof t&&(this.conditionals[e]=t),this},a.prototype._formByNameOrNode=function(e){return"object"==typeof e?e:t.forms[e]},a.prototype._addField=function(e,t){this.fields[t]={name:t,display:e.display||t,rules:e.rules,depends:e.depends,id:null,element:null,type:null,value:null,checked:null}},a.prototype._validateForm=function(e){for(var t in this.errors=[],this.fields){var a,r;this.fields.hasOwnProperty(t)&&(a=this.fields[t]||{},!(r=this.form[a.name])||r===m||r.disabled||r.readOnly||(a.id=s(r,"id"),a.element=r,a.type=0<r.length?r[0].type:r.type,a.value=s(r,"value"),a.checked=s(r,"checked"),a.depends&&"function"==typeof a.depends?a.depends.call(this,a)&&this._validateField(a):a.depends&&"string"==typeof a.depends&&this.conditionals[a.depends]&&!this.conditionals[a.depends].call(this,a)||this._validateField(a)))}return"function"==typeof this.callback&&this.callback(this.errors,e),0<this.errors.length&&(e&&e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)),!0},a.prototype._validateField=function(e){var t,a=e.rules.split("|"),r=e.rules.indexOf("required"),s=!e.value||""===e.value||e.value===m,n=0;for(ruleLength=a.length;n<ruleLength;n++){var i=a[n],o=null,l=!1,u=v.exec(i);if((-1!==r||-1!==i.indexOf("!callback_")||!s)&&(u&&u.length&&(i=u[1]?u[1]:"",o=u[2]?u[2]:""),"!"===i.charAt(0)&&(i=i.substring(1,i.length)),"function"==typeof this._hooks[i]?this._hooks[i].apply(this,[e,o])||(l=!0):"callback_"===i.substring(0,9)&&(i=i.substring(9,i.length),"function"==typeof this.handlers[i]&&!1===this.handlers[i].apply(this,[e.value,o,e])&&(l=!0)),l)){var d,c=this.messages[e.name+"."+i]||this.messages[i]||f.messages[i],p="An error has occurred with the "+e.display+" field.";for(c&&(p=c.replace("%s",e.display),o&&(p=p.replace("%s",this.fields[o]?this.fields[o].display:o))),t=0;t<this.errors.length;t+=1)e.id===this.errors[t].id&&(d=this.errors[t]);var h=d||{id:e.id,display:e.display,element:e.element,name:e.name,message:p,messages:[],rule:i};h.messages.push(p),d||this.errors.push(h)}}},a.prototype._getValidDate=function(e){if(!e.match("today")&&!e.match(y))return!1;var t,a=new Date;return e.match("today")||(t=e.split("-"),a.setFullYear(t[0]),a.setMonth(t[1]-1),a.setDate(t[2])),a},a.prototype._hooks={required:function(e){var t=e.value;return"checkbox"===e.type||"radio"===e.type?!0===e.checked:null!==t&&""!==t},default:function(e,t){return e.value!==t},matches:function(e,t){var a=this.form[t];return!!a&&e.value===a.value},valid_email:function(e){return o.test(e.value)},valid_emails:function(e){for(var t=e.value.split(/\s*,\s*/g),a=0,r=t.length;a<r;a++)if(!o.test(t[a]))return!1;return!0},min_length:function(e,t){return!!r.test(t)&&e.value.length>=parseInt(t,10)},max_length:function(e,t){return!!r.test(t)&&e.value.length<=parseInt(t,10)},exact_length:function(e,t){return!!r.test(t)&&e.value.length===parseInt(t,10)},greater_than:function(e,t){return!!i.test(e.value)&&parseFloat(e.value)>parseFloat(t)},less_than:function(e,t){return!!i.test(e.value)&&parseFloat(e.value)<parseFloat(t)},alpha:function(e){return alphaRegex.test(e.value)},alpha_numeric:function(e){return l.test(e.value)},alpha_dash:function(e){return u.test(e.value)},numeric:function(e){return r.test(e.value)},integer:function(e){return n.test(e.value)},decimal:function(e){return i.test(e.value)},is_natural:function(e){return d.test(e.value)},is_natural_no_zero:function(e){return c.test(e.value)},valid_ip:function(e){return p.test(e.value)},valid_base64:function(e){return h.test(e.value)},valid_url:function(e){return g.test(e.value)},valid_credit_card:function(e){if(!_.test(e.value))return!1;for(var t=0,a=0,r=!1,s=e.value.replace(/\D/g,""),n=s.length-1;0<=n;n--){var i=s.charAt(n),a=parseInt(i,10);r&&9<(a*=2)&&(a-=9),t+=a,r=!r}return t%10==0},is_file_type:function(e,t){if("file"!==e.type)return!0;for(var a=e.value.substr(e.value.lastIndexOf(".")+1),r=t.split(","),s=!1,n=0,i=r.length;n<i;n++)a.toUpperCase()==r[n].toUpperCase()&&(s=!0);return s},greater_than_date:function(e,t){var a=this._getValidDate(e.value),r=this._getValidDate(t);return!(!r||!a)&&r<a},less_than_date:function(e,t){var a=this._getValidDate(e.value),r=this._getValidDate(t);return!(!r||!a)&&a<r},greater_than_or_equal_date:function(e,t){var a=this._getValidDate(e.value),r=this._getValidDate(t);return!(!r||!a)&&r<=a},less_than_or_equal_date:function(e,t){var a=this._getValidDate(e.value),r=this._getValidDate(t);return!(!r||!a)&&a<=r}},e.FormValidator=a}(window,document),"undefined"!=typeof module&&module.exports&&(module.exports=FormValidator);