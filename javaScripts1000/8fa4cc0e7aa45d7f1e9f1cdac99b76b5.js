webpackJsonp([15,118,119,120,121],{147:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(808),i=e(807),r=e(809),s=e(806);n.default={namespaced:!0,state:o.default,mutations:r.default,actions:s.default,getters:i.default}},806:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(31),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(){return t.get("/"+n+"/bonus/statistic/total/")}},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(){return t.get("/"+n+"/vars/?keys[]=page_trading.discounts")}},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(e){return t.get("/"+n+"/bonus/discount/list/?discounts="+e)}},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(){return t.get("/"+n+"/bonus/client/status/list/")}},a=e(135);n.default={REQUEST_STATISTICS:function(t,n){var e=t.commit;return this.api.route(i,n)().then(a.a).then(function(t){t&&e("SET_STATISTICS",t)}).catch(this.pushError("REQUEST_STATISTICS"))},BONUS_CLIENT_STATUS:function(t,n){var e=t.commit;return this.api.route(u,n)().then(a.a).then(function(t){t&&e("SET_BONUS_CLIENT_STATUS",t)}).catch(this.pushError("BONUS_CLIENT_STATUS"))},REQUEST_TRADING_DISCOUNTS:function(t,n){var e=this,o=t.commit;return this.api.route(r,n)().then(a.a).then(function(t){if(!t||!t.vars["page_trading.discounts"])throw new Error("Discounts aliases not found");return e.api.route(s,n)(t.vars["page_trading.discounts"])}).then(a.a).then(function(t){if(!t)throw new Error("Trading discounts not found");o("SET_TRADING_DISCOUNTS",t)}).catch(this.pushError("REQUEST_TRADING_DISCOUNTS"))}}},807:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={paidToClients:function(t){return t.statistics.conversionTotalSum+t.statistics.compensationTotalSum},totalBonuses:function(t){return t.statistics.discountTotalCount},webSocketUrl:function(t){return t.statistics.webSocketUrl},tradingDiscounts:function(t){return t.tradingDiscounts},bonusClientStatus:function(t){return t.bonusClientStatus}}},808:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return{statistics:{compensationTotalSum:0,conversionTotalSum:0,discountTotalCount:0,webSocketUrl:""},tradingDiscounts:[],bonusClientStatus:[]}}},809:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(39),i=e.n(o);n.default={SET_STATISTICS:function(t,n){var e="";if(n.subscriber&&n.subscriber.web_socket&&n.subscriber.web_socket.parts){var o=n.subscriber.web_socket.parts,i=o.scheme,r=o.port,s=o.path,u=o.query;e=i.replace("http","ws")+"://{domain}:"+r+s+u}t.statistics={compensationTotalSum:n.compensation_total_sum,conversionTotalSum:n.conversion_total_sum,discountTotalCount:n.discount_total_count,webSocketUrl:e}},SET_BONUS_CLIENT_STATUS:function(t,n){t.bonusClientStatus=i()(n).map(function(t){return{id:n[t].id,name:n[t].name,factor:n[t].factor,minBalance:n[t].minBalance,freeDepositDiscountFactor:n[t].freeDepositDiscountFactor,freeProDiscountFactor:n[t].freeProDiscountFactor,freeSpreadDiscountFactor:n[t].freeSpreadDiscountFactor}})},SET_TRADING_DISCOUNTS:function(t,n){t.tradingDiscounts=i()(n).map(function(t){return{alias:n[t].alias,text:n[t].name,value:n[t].maxPercent,pathName:"promo_bonus_alpari_cashback",hashParams:"#"+n[t].alias}})}}}});