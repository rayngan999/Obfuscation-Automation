!function(e,H){void 0===e.vocento&&(e.vocento={}),void 0===e.vocento.comment&&(e.vocento.comments={});var t,N,c,a,s,l,m,d,E=e.vocento.comments,u="comments-container",g="commento-main-area",p="commento-login",T="comments-login-box-container",I="commento-login-box",C="commento-login-box-email-subtitle",S="commento-login-box-email-input",v="commento-login-box-password-input",f="commento-login-box-name-input",h="commento-login-box-website-input",L="commento-login-box-email-button",D="commento-login-box-forgot-link-container",M="commento-login-box-login-link-container",V="commento-login-box-sso-pretext",B="commento-login-box-sso-buttton-container",A="commento-login-box-hr1",O="commento-login-box-oauth-pretext",R="commento-login-box-oauth-buttons-container",_="commento-login-box-hr2",b="commento-mod-tools",y="commento-mod-tools-lock-button",x="commento-error",k="commento-logged-container",w="commento-pre-comments-area",j="commento-comments-area",P="commento-textarea-super-container-",U="commento-textarea-container-",q="commento-textarea-",z="commento-anonymous-checkbox-",r="commento-sort-policy-",G="comment-short-options-container",o="commento-comment-social-",W="commento-comment-card-",Y="commento-comment-body-",J="commento-comment-text-",F="commento-comment-subtitle-",X="commento-comment-timeago-",$="commento-comment-score-",K="commento-comment-options-",Q="commento-comment-edit-",Z="commento-comment-reply-",ee="commento-comment-reply-box-",oe="commento-replies-container",ne="commento-comment-collapse-",te="commento-comment-upvote-",ie="commento-comment-downvote-",re="commento-comment-approve-",ce="commento-comment-remove-",ae="commento-comment-sticky-",se="commento-comment-reply-area-",me="commento-comment-children-",de="commento-comment-contents-",le="commento-comment-name-",ue="commento-submit-button-",ge="commento-markdown-button-",pe="commento-markdown-help-",i="commento-show-more-comments",ve="commento-comments-opinion",fe="commento-pending-token",he="commento-self-request",n=-1<H.location.search.indexOf("commento_debug=1"),be=-1<H.location.search.indexOf("original=1"),ye="vocento-comments-header",xe=86400,ke="abc",we="ppll",Te="https://comments.vocento.com",Ie="https://comments.vocento.com",Ce=null,Se=null,Le=null,De=!0,Me="false",He=!1,Ne=!1,Ee=[],Ve={},Be={},Ae=!0,Oe=!1,Re=!1,_e=!1,je=!1,Pe="none",Ue={},qe={},ze={},Ge=!1,We="login",Ye=!1,Je="dateDesc",Fe=void 0,Xe=null,$e=null,Ke=!1,Qe=1,Ze=[],eo=[],oo=[],no=[],to=[],io=!1,ro={categoryID:"",containerID:"",streamID:"",streamTags:"",streamTitle:"",streamURL:"",context:"",deviceType:"auto",enabledSharedProviders:"facebook,twitter,linkedin",lang:"es",pageSize:10,sort:"dateDesc",onBeforeCommentSubmitted:void 0,onCommentSubmitted:void 0,onCommentVoted:void 0,onError:void 0,onLoad:void 0,onSiteLoginClicked:void 0,onGetStreamInfo:void 0,templates:{commentsPlugin:"",header:"",updates:"",composebox:"",comment:""},group:we,version:2};function co(e){return H.getElementById(e)}function ao(e,o){e.prepend(o)}function so(e,o){null!=o&&e.appendChild(o)}function mo(e,o){e.parentNode.insertBefore(o,e.nextSibling)}function lo(e){e.insertBefore(e.lastChild,e.firstChild)}function uo(e,o){e.classList.add("commento-"+o)}function go(e,o){null!==e&&e.classList.remove("commento-"+o)}function po(e,o){null!==e&&e.classList.remove(o)}function vo(e){return H.createElement(e)}function fo(e,o){if(!e.hasChildNodes())return null;for(var n=e.childNodes,t=0;t<n.length;t++)if(n[t].id===o)return n[t]}function ho(e,o,n){var t,i=H.createElement(e);return n instanceof HTMLElement?i.appendChild(n):Array.isArray(n)?n.forEach(function(e){i.appendChild(e)}):null!=n&&""!==n&&i.appendChild(H.createTextNode(n)),t=i,"object"==typeof(o=o)&&o&&Object.entries(o).forEach(function(e){t.setAttribute(e[0],e[1])}),i}function bo(e){null!==e&&e.parentNode.removeChild(e)}function yo(e,o){o=e.attributes[o];if(void 0!==o)return o.value}function xo(e){if(null!==e){var o=e.cloneNode(!0);if(null!==e.parentNode)return e.parentNode.replaceChild(o,e),o}return e}function ko(e,o,n){e.addEventListener("click",function(){o(n)},!1)}function wo(e,o,n){e.setAttribute(o,n)}function To(e,o){e.classList.add(o)}function Io(e){var o=co(se+e);return null!=o?o:ho("div",{class:"gig-comment-replies voc-comments-name voc-answer row",id:se+e})}function Co(){return null!=s||((e="root")!==e?Io(e):(s=co(j),we===ro.group&&"root"===e&&null===s?s=ho("div",{class:"gig-comments-comments",id:j}):ro.group)),s;var e}function So(e,o,n){var t=null;we===n&&("suscriptor"!==o&&"trial"!==o||(t=ho("span",{class:"sign-on2-comments"})),so(e,t="periodista"===o?ho("span",{class:"sign-on2-comments-journalist"}):t))}function Lo(e){var o;n&&(o=(new Date).toISOString(),"object"==typeof e?console.log(o+" commento:",e):console.log(o+" commento:"+e))}function Do(e,o,n){var t=new XMLHttpRequest;t.open("POST",e,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){n(JSON.parse(t.response))},t.send(JSON.stringify(o))}function Mo(e,o){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){o(JSON.parse(n.response))},n.send(null)}function Ho(e,o){"function"==typeof e&&e(o)}function No(e){"function"==typeof e&&e()}function Eo(e,o){var n,t=new Date;t.setTime(t.getTime()+31536e6),n="; expires="+t.toUTCString(),H.cookie=e+"="+o+n+"; path=/"}function Vo(e,o){localStorage.setItem(e,o)}function Bo(e){return localStorage.getItem(e)}function Ao(e){localStorage.removeItem(e)}function Oo(){var e=function(e){if(2===(e=("; "+H.cookie).split("; "+e+"=")).length)return e.pop().split(";").shift()}("voc_commenter_token");return void 0===e?"anonymous":e}E.onBeforeCommentSubmitted=function(e){Ze.push(e)},E.onCommentsLoaded=function(e){oo.push(e)},E.onCommentVoted=function(e){no.push(e)},E.onSiteLoginClicked=function(e){to.push(e)},E.getStreamInfo=function(e){var o={streamIDs:[],categoryId:"",threadLimit:100,onError:void 0,onStreamInfoLoaded:void 0},o=Object.assign(o,e);"function"==typeof e.callback&&"function"!=typeof e.onStreamInfoLoaded&&(o.onStreamInfoLoaded=e.callback);e={success:!1,message:""};if(void 0!==o.categoryID&&""!==o.categoryID||(o.categoryID="default"),void 0===o.streamIDs||""===o.streamIDs||!Array.isArray(o.streamIDs))return e.message="Invalid StreamsIDs",Ho(o.onError,e),e;e=o.streamIDs.map(function(e){return encodeURIComponent(e)}),e=Jo({domain:parent.location.host,streamIds:e,categoryId:o.categoryID});Mo(Te+"/api/comment/stream-info?"+e,function(e){e.success||Ho(o.onError,e),Ho(o.onStreamInfoLoaded,e)})},E.showOptions=function(){E.version(),console.info(ro)},E.version=function(){console.info("Commento Widget Version:2.1.0-rc2")},E.showCommentsUI=function(e){var o={success:!1,message:""};if(void 0!==(ro=Object.assign(ro,e)).categoryID&&""!==ro.categoryID||(ro.categoryId="default"),void 0===ro.streamID||""===ro.streamID)return o.message="invalid StreamId",Ho(ro.onError,o),o;void 0!==ro.containerID&&""!==ro.containerID&&(u=ro.containerID),"function"==typeof ro.onBeforeCommentSubmitted&&Ze.push(ro.onBeforeCommentSubmitted),"function"==typeof ro.onSiteLoginClicked&&to.push(ro.onSiteLoginClicked),"function"==typeof ro.onCommentSubmitted&&eo.push(ro.onCommentSubmitted),"function"==typeof ro.onCommentVoted&&no.push(ro.onCommentVoted),"function"==typeof ro.onLoad&&(Lo("Calling onLoad Callback"),Ho(ro.onLoad,{status:!0,message:"Widget Load Success"})),Lo("showCommentsUI calls refreshAll"),Sn(void 0)};var Ro=function(e){Lo("onSiteLoginClicked Callback Triggered");var o={context:ro.context};e=Object.assign(e,o),$e.trigger("vocuser:commento:login-clicked",e);for(var n=0;n<to.length;n++)to[n](e)};function _o(){Eo("voc_commenter_token","anonymous"),Ao(fe),Ao(he),Oe=He=!1,Fe=void 0}function jo(){return He=!1,He="anonymous"!==Oo()?!0:He}function Po(){window.open(Te+"/profile?commenterToken="+Oo(),"_blank")}function Uo(e){window.open(Te+"/unsubscribe?unsubscribeSecretHex="+e,"_blank")}function qo(e,o){Be[e.commenterId]=e,Fe=e.commenterId;var n,t=vo("div"),i=vo("div"),r="undefined"!==e.link?vo("a"):vo("div"),c=vo("div"),a=vo("div"),s=vo("div");t.id=k,uo(t,"logged-container"),uo(i,"logged-in-as"),uo(r,"name"),uo(c,"profile-button"),uo(a,"profile-button"),uo(s,"profile-button"),r.innerText=e.name,c.innerText="Notification Settings",a.innerText="Edit Profile",s.innerText="Logout",ko(s,E.logout),ko(c,Uo,o.unsubscribeSecretHex),ko(a,Po),wo(t,"style","display: none"),e.link,"undefined"===e.photo||""===e.photo?wo(n=vo("img"),"src",Ie+"/images/default_avatar.png"):wo(n=vo("img"),"src",e.photo),wo(n,"loading","lazy"),uo(n,"avatar-img"),uo(n,"gig-comment-img"),"commento"===e.provider&&Ke&&(so(t,a),so(t,s),so(i,n),so(i,r),so(t,i),so(t,c),ao(Se,t)),He=!0}function zo(n){var e,o;jo()?null==(e=function(){Lo("getStoredSelfResponse");var e=Bo(he);if(Lo("stored response="+e),null===e)return null;try{var o=JSON.parse(e)}catch(e){return console.info("commento: invalid self storage"),null}return void 0===o.timeStamp||void 0===o.response?(Ao(he),null):((new Date).getTime()-o.timeStamp)/1e3>=xe?null:(Lo(o.response),o.response)}())?(o={commenterToken:Oo()},Do(Te+"/api/commenter/self",o,function(e){return e.success?(o=e,o={timeStamp:(new Date).getTime(),response:o},o=JSON.stringify(o),Vo(he,o),void Go(n,e)):(Eo("voc_commenter_token","anonymous"),void No(n));var o})):Go(n,e):No(n)}function Go(e,o){qo(o.commenter,o.email),Hn(),No(e)}function Wo(e,o){var n,t,i=vo("link"),r=H.getElementsByTagName("head")[0];i.type="text/css",wo(i,"href",e),wo(i,"rel","stylesheet"),n=o,i.addEventListener("load",function(){n(t)}),so(r,i)}function Yo(){if(null!=ro.streamId&&""!==ro.streamId)return ro.streamId;var e=yo(Ce,"data-voc-comments-stream-id");return null!=e&&""!==e?e:window.vocento&&window.vocento.site&&window.vocento.site.content&&window.vocento.site.content.newsId&&null!=window.vocento.site.content.newsId?window.vocento.site.content.newsId:null}function Jo(e){var o,n=!0,t="";for(o in e)t=n?o+"="+e[o]:t+"&"+o+"="+e[o],n=!1;return t}function Fo(){return new Promise(function(n,t){if(!(Le=Yo()))return t("[commento]: streamId is not defined"),void console.error("[commento]: streamId is not defined");var i={commenterToken:"anonymous",domain:parent.location.host,streamId:encodeURIComponent(Le),pageSize:ro.pageSize,page:Qe,sort:Je},e=Jo(i);$e.trigger("vocento.vocuser:commento:comments_fetched",i),Mo(Te+"/api/comment/list?"+e,function(e){if(!e.success)return Ko(e.message),void t(e.message);Qo(),$e.trigger("vocento.vocuser:commento:comments_loaded",{commenterToken:i.commenterToken,domain:parent.location.host,streamId:Le,comments:e.comments});for(var o=0;o<oo.length;o++)oo[o](e);n(e)})})}function Xo(t){Fo().then(function(e){var o,n;Ae=e.requireIdentification,Oe=e.isModerator,Re=e.isFrozen,je=e.attributes.isLocked,Pe=e.attributes.stickyCommentHex,Ee=e.comments,Be=Object.assign({},Be,e.commenters),ze=e.configuredOauths,ro.pageSize*Qe<e.attributes.commentThreadCount&&null==(n=co(i))&&(we===ro.group&&(o=m,(n=ho("div",{id:i,style:"display: block",class:"gig-comments-more voc-comments-more",role:"button"})).innerHTML="Mostrar mÃ¡s"),ke===ro.group&&(o=c,(n=ho("span",{id:i,style:"display: block",class:"gig-comments-more",role:"button"})).innerHTML="Mostrar mÃ¡s comentarios"),wo(n,"data-voc-vtm-id","btncomentar"),wo(n,"data-voc-vtm-info","mas-comentarios"),ko(n,$o,null),so(o,n)),Qe++,No(t)})}function $o(){Fo().then(function(e){Ee=e.comments,Be=Object.assign({},Be,e.commenters),function(e){var o=xn(),n=gn(yn(e),"root");if(n)if(be)so(o,n);else for(;n.hasChildNodes();)o.appendChild(n.firstChild)}(Ee),Qe*ro.pageSize>=e.attributes.commentThreadCount&&(void 0!==(e=co(i))&&e&&wo(e,"style","display:none")),Qe++})}function Ko(e){var o=co(x);o.innerText=e,wo(o,"style","display: block;")}function Qo(){wo(co(x),"style","display: none;")}function Zo(e){var o=co(P+e),n=co(ge+e),t=vo("table"),i=vo("tr"),r=vo("td"),c=vo("td"),a=vo("tr"),s=vo("td"),m=vo("td"),d=vo("tr"),l=vo("td"),u=vo("td"),g=vo("tr"),p=vo("td"),v=vo("td"),f=vo("tr"),h=vo("td"),b=vo("td"),y=vo("tr"),x=vo("td"),k=vo("td");t.id=pe+e,uo(t,"markdown-help"),s.innerHTML="<b>bold</b>",m.innerHTML="surround text with <pre>**two asterisks**</pre>",r.innerHTML="<i>italics</i>",c.innerHTML="surround text with <pre>*asterisks*</pre>",l.innerHTML="<pre>code</pre>",u.innerHTML="surround text with <pre>`backticks`</pre>",p.innerHTML="<strike>strikethrough</strike>",v.innerHTML="surround text with <pre>~~two tilde characters~~</pre>",h.innerHTML='<a href="https://example.com">hyperlink</a>',b.innerHTML="<pre>[hyperlink](https://example.com)</pre> or just a bare URL",x.innerHTML="<blockquote>quote</blockquote>",k.innerHTML="prefix with <pre>&gt;</pre>",ko(xo(n),en,e),so(i,r),so(i,c),so(t,i),so(a,s),so(a,m),so(t,a),so(f,h),so(f,b),so(t,f),so(d,l),so(d,u),so(t,d),so(g,p),so(g,v),so(t,g),so(y,x),so(y,k),so(t,y),so(o,t)}function en(e){var o=co(ge+e),n=co(pe+e);ko(o=xo(o),Zo,e),bo(n)}function on(e){var o=co(ee+e),e=co(Z+e);e.title="Responder",e.innerText="Responder",o.innerHTML="",po(o,"gig-comment-replybox-open"),To(o,"voc-comments-name"),To(o,"voc-answer"),To(o,"row"),To(o,"gig-comment-replybox-closed")}function nn(e){var o,n,t,i;Re||je||((o="root"===e?l:co(ee+e)).innerHTML="",i=function(e){e=ho("div",{id:q+e,class:"gig-composebox-textarea",contenteditable:"true",role:"textarea",ariaMultiline:"true",dataPlaceHolder:"Escribir un comentario",ariaLabel:"Escribir un comentario",ariaRequired:"true"});return wo(e,"arial-multiline","true"),wo(e,"data-place-holder","Escribir un comentario"),wo(e,"aria-label","Escribir un comentario"),wo(e,"aria-required","true"),e}(e),n=ho("div",{class:"gig-composebox-editor"},[ho("ul",{class:"gig-composebox-sidebar"}),i,ho("p")]),we===ro.group&&(t=function(e){var o=ho("div",{class:"voc-buttons"}),n=ho("button",{id:ue+e,type:"button",class:"gig-composebox-post voc-send button submit-button",role:"button",tabindex:0});wo(n,"data-voc-vtm-id","btncomentar"),wo(n,"data-voc-vtm-info","root"===e?"envio-comentario":"responder-comentario");n.innerText="Enviar",ko(n,Tn,e);var t=ho("div",{class:"gig-composebox-site-login",role:"button"}),e=!0;Ne||(e=!1);e=ho("div",{class:"gig-composebox-login",hidden:e},t);return t.innerText="Iniciar SesiÃ³n",ho("div",{class:"gig-composebox-logout",role:"button"}).innerText="CerrarSesion",so(o,n),so(o,e),o}(e),so(o,n),so(o,t)),ke===ro.group&&(i=ho("span",{class:"gig-composebox-site-login accion",role:"button"},"Inicia sesiÃ³n o regÃ­strate para comentar"),t=ho("div",{class:"acceso-comentarios gigya-logged-out"},[ho("span",{class:"commentResponse"},"Deja tu comentario en esta noticia"),ho("span",{class:"boton esquinas fondo-azul"},i)]),ko(i,Ro,{}),wo(i=ho("span",{class:"gig-composebox-post gig-comments-button",role:"button"},"Enviar Comentario"),"data-voc-vtm-id","btncomentar"),wo(i,"data-voc-vtm-info","root"===e?"envio-comentario":"responder-comentario"),ko(i,Tn,e),i=ho("div",{class:"enviar-comentario gigya-logged-in"},[n,i]),so(o,t),so(o,i)),"root"!==e&&(To(o,"gig-comment-replybox-open"),po(o,"gig-comment-replybox-closed")))}function tn(e,o){if(!be)return nn(e);var n=vo("div"),t=vo("div"),i=vo("textarea"),r=vo("div"),c=vo("input"),a=vo("label"),s=ho("div",{class:"voc-buttons"}),m=ho("button",{type:"button",class:"gig-composebox-post voc-send",role:"button",tabindex:0});so(s,m),"root"===e?so(l,commentBox):so(co(be?J+e:ee+e),s);var d,s=vo("a");return n.id=P+e,t.id=U+e,i.id=q+e,c.id=z+e,m.id=ue+e,s.id=ge+e,uo(t,"textarea-container"),uo(r,"round-check"),uo(r,"anonymous-checkbox-container"),uo(m,"button"),uo(m,"submit-button"),uo(s,"markdown-button"),uo(n,"button-margin"),wo(i,"placeholder","AÃ±adir comentarios"),wo(c,"type","checkbox"),wo(a,"for",z+e),a.innerText="Comment anonymously",m.innerText=!0===o?"Save Changes":"Enviar",s.innerHTML="<b>M &#8595;</b> &nbsp; Markdown",Ge&&(c.checked=!0,c.setAttribute("disabled",!0)),i.oninput=(d=i,function(){d.style.height="",d.style.height=Math.min(Math.max(d.scrollHeight,75),400)+"px"}),ko(m,!0===o?hn:Tn,e),ko(s,Zo,e),so(t,i),so(n,t),so(r,c),so(r,a),Ae||!0===o||so(n,r),n}E.config=function(e){e&&(ro=Object.assign(ro,e))},E.logout=function(){_o(),Sn()},E.getCommenterToken=Oo,E.streamId=Yo;var rn=["dateDesc","dateAsc","votesDesc"],cn={dateDesc:"MÃ¡s reciente",dateAsc:"MÃ¡s antiguo",votesDesc:"MÃ¡s Votado"};function an(e){var o;po(co(r+Je),"gig-comments-sortbox-selected"),Je=e,Qe=1,o=co(ve),e=co(j),o.style.height=e.clientHeight+"px",xn().innerHTML="",Xo(function(){kn(),co(ve).style.height="100%"}),To(co(r+Je),"gig-comments-sortbox-selected"),"ppll"===ro.group&&(co(G).hidden=!0)}function sn(e){e.hidden=!e.hidden}function mn(){if(be){var e,o=vo("div"),n=vo("div");for(e in uo(o,"sort-policy-buttons-container"),uo(n,"sort-policy-buttons"),cn){var t=vo("a");t.id=r+e,uo(t,"sort-policy-button"),e===Je&&uo(t,"sort-policy-button-selected"),t.innerText=cn[e],ko(t,an,e),so(n,t)}return so(o,n),o}!function(){var e=ho("div",{class:"gig-comments-sort voc-order",role:"button"});e.innerText="Ordenar",e.hidden=!0;var o=ho("li",{class:"gig-comments-sortbox-selected",id:r+rn[0],role:"button"}),n=ho("li",{class:"",id:r+rn[1],role:"button"}),t=ho("li",{id:r+rn[2],role:"button"}),i=ho("ul",{id:G,hidden:!0},[o,n,t]);o.innerText=cn.dateDesc,n.innerText=cn.dateAsc,t.innerText=cn.votesDesc,wo(o,"data-sort",rn[0]),wo(n,"data-sort",rn[1]),wo(t,"data-sort",rn[2]),ko(o,an,yo(o,"data-sort")),ko(n,an,yo(n,"data-sort")),ko(t,an,yo(t,"data-sort")),ko(e,sn,i),t=ho("div",{class:"gig-comments-container gig-comments-sortbox gig-comments-sortbox-transition voc-sort-items",style:"left: 180px, opacity: 1"},i),i=d,we===ro.group&&(so(i,e),so(i,t))}()}function dn(e){var o=vo("div");return uo(o,"moderation-notice"),o.innerHTML=e,o}function ln(e,o){var n=2592e6,o=e-o;return o<5e3?"ahora":o<12e4?"Hace "+Math.round(o/1e3)+" segundos":o<72e5?"Hace "+Math.round(o/6e4)+" minutos":o<1728e5?"Hace "+Math.round(o/36e5)+" horas":o<5184e6?"Hace "+Math.round(o/864e5)+" dÃ­as":o<62208e6?"Hace "+Math.round(o/n)+" meses":"Hace "+Math.round(o/31104e6)+" aÃ±os"}E.commentNew=function(i,r,c){var a,s,m,e,d;io?Lo("multi comment control executed"):(a=co(P+i),s=co(q+i),m=co(Z+i),""!==(d=be?s.value:s.innerText)?(go(s,"red-border"),e={commenterToken:r,streamId:Le,categoryId:ro.categoryID,domain:parent.location.host,parentCommentId:i,markdown:d},function(e){Lo("onBeforeCommentSubmittedTrigger Callback Triggered");var o={context:ro.context};e=Object.assign(e,o);for(var n=0;n<Ze.length;n++)Ze[n](e)}(Object.assign({context:ro.context,commentText:d},e)),io=!0,Do(Te+"/api/comment/new",e,function(e){var o,n,t;io=!1,e.success?(Qo(),function(e){Lo("onCommentSubmittedTrigger Callback Triggered");for(var o=0;o<eo.length;o++)eo[o](e)}({comment:{ID:e.commentId,commentText:e.html}}),n="","pending"===e.state?n="Your comment is under moderation.":"flagged"===e.state&&(n="Your comment was flagged as spam and is under moderation."),""!==n&&ao(co(be?P+i:x),dn(n)),void 0!==(o=Fe)&&"anonymous"!==r||(o="anonymous"),o=gn({root:[n={commentId:e.commentId,commenterId:o,markdown:d,html:e.html,parentCommentId:"root",score:0,state:"approved",direction:0,creationDate:new Date}]},"root"),Ve[e.commentId]=n,"root"!==i?(be?a.replaceWith(o):(so(n=null===(n=co(se+i))?Io(i):n,o.firstChild),lo(n),on(i)),Ue[i]=!1,uo(m,"option-reply"),go(m,"option-cancel"),m.title="Reply to this comment",ko(m,E.replyShow,i)):be?(s.value="",mo(co(w),o)):(s.innerText="",null==(t=co(j))?so(co(ve),o):(so(t,o.firstChild),lo(t))),t={url:parent.location.href,title:H.title,isLocked:je,stickyCommentHex:Pe},t={commenterToken:Oo(),domain:parent.location.host,streamId:encodeURIComponent(Le),attributes:t},Do(Te+"/api/page/basic-update",t,function(e){e.success?Qo():Ko(e.message)}),No(c)):Ko(e.message)})):uo(s,"red-border"))};var un={votesDesc:function(e,o){return o.score-e.score},dateDesc:function(e,o){return e.creationDate<o.creationDate?1:-1},dateAsc:function(e,o){return e.creationDate<o.creationDate?-1:1}};function gn(C,S){var e=C[S];if(!e||!e.length)return null;e.sort(function(e,o){return e.deleted||e.commentId!==Pe?o.deleted||o.commentId!==Pe?un[Je](e,o):1/0:-1/0});var L=(new Date).getTime(),D=vo("div"),M=vo("div");return e.forEach(function(e){var o=Be[e.commenterId],n=vo("div"),t=vo("div"),i=vo("div"),r=vo("div"),c=vo("div"),a=vo("div"),s=vo("div"),m=vo("div"),d=vo("button"),l=vo("button"),u=vo("button"),g=vo("button"),p=vo("button"),v=vo("button"),f=vo("button"),h=vo("button"),b=gn(C,e.commentId),y=vo("div"),x=function(e){for(var o=["#396ab1","#da7c30","#3e9651","#cc2529","#922428","#6b4c9a","#535154"],n=0,t=0;t<e.length;t++)n+=e.charCodeAt(t);return o[n%o.length]}(e.commenterId+"-"+o.name),k=vo("div");n.id=W+e.commentId,a.id=Y+e.commentId,s.id=J+e.commentId,i.id=F+e.commentId,r.id=X+e.commentId,c.id=$+e.commentId,m.id=K+e.commentId,d.id=Q+e.commentId,l.id=Z+e.commentId,u.id=ne+e.commentId,g.id=te+e.commentId,p.id=ie+e.commentId,v.id=re+e.commentId,f.id=ce+e.commentId,h.id=ae+e.commentId,b&&(b.id=me+e.commentId),y.id=de+e.commentId,k.id=le+e.commentId,u.title="Colapsar hijos",g.title="Voto Positivo",p.title="Voto negativo",d.title="Editar",l.title="Responder",v.title="Aprobar",f.title="Borrar",Pe===e.commentId?h.title=Oe?"Unsticky":"This comment has been stickied":h.title="Sticky",r.title=e.creationDate.toString(),n.style.borderLeft="2px solid "+x,e.deleted?k.innerText="[deleted]":(k.innerText=o.nickName,""===o.nickName&&(k.innerText=o.name)),s.innerHTML=e.html,r.innerHTML=ln(L,e.creationDate),c.innerText=e.score+" puntos";x=pn(o);uo(n,"card"),Oe&&"approved"!==e.state&&uo(n,"dark-card"),o.isModerator&&uo(k,"moderator"),"flagged"===e.state&&uo(k,"flagged"),uo(t,"header"),uo(k,"name"),uo(i,"subtitle"),uo(r,"timeago"),uo(c,"score"),uo(a,"body"),uo(m,"options"),Xe&&uo(m,"options-mobile"),uo(d,"option-button"),uo(d,"option-edit"),uo(l,"option-button"),uo(l,"option-reply"),uo(u,"option-button"),uo(u,"option-collapse"),uo(g,"option-button"),uo(g,"option-upvote"),uo(p,"option-button"),uo(p,"option-downvote"),uo(v,"option-button"),uo(v,"option-approve"),uo(f,"option-button"),uo(f,"option-remove"),uo(h,"option-button"),Pe===e.commentId?uo(h,"option-unsticky"):uo(h,"option-sticky"),jo()&&(0<e.direction?uo(g,"upvoted"):e.direction<0&&uo(p,"downvoted")),ko(d,E.editShow,e.commentId),ko(u,E.commentCollapse,e.commentId),ko(v,E.commentApprove,e.commentId),ko(f,E.commentDelete,e.commentId),ko(h,E.commentSticky,e.commentId);d=vn(g,p,e.commentId,0),g=d[0],p=d[1];ko(l,E.replyShow,e.commentId),"undefined"!==o.link&&"https://undefined"!==o.link&&""!==o.link&&wo(k,"href",o.link),so(m,u),e.deleted||(d=vo("span"),u=vo("span"),d.innerText=void 0===e.posVotes?0:e.posVotes,u.innerText=void 0===e.negVotes?0:e.negVotes,so(g,d),so(p,u),so(m,p),so(m,g)),e.commenterId===Fe||e.deleted||so(m,l),!e.deleted&&Oe&&"root"===S&&so(m,h),!e.deleted&&Oe&&so(m,f),Oe&&"approved"!==e.state&&so(m,v),e.deleted||Oe||Pe!==e.commentId||so(m,h),wo(m,"style","width: "+45*(m.childNodes.length+1)+"px;");for(var w=0;w<m.childNodes.length;w++)wo(m.childNodes[w],"style","right: "+45*w+"px;");if(so(i,c),so(i,r),Xe||so(t,m),so(t,x),so(t,k),so(t,i),so(a,s),so(y,a),Xe&&(so(y,m),uo(a=vo("div"),"options-clearfix"),so(y,a)),!e.deleted||"true"!==N&&null!==b)if(be)b&&(uo(b,"body"),so(y,b)),so(n,t),so(n,y),so(D,n);else{var T,k=Object.assign({},{nickname:k,profileUrl:o.link,replyCount:0},e);if(b&&(k.replyCount=b.childNodes.length),we===ro.group&&(T=function(e,o){var n=ln((new Date).getTime(),e.creationDate),t=null!==o.nickName&&""!==o.nickName?o.nickName:o.name,i=pn(o),r=Vn(e.commentId),c=ho("div",{class:"gig-comment-body",id:r.text}),a=ho("span",{class:"gig-comment-time voc-clock",id:r.timeago}),s=ho("div",{class:"gig-comment-username",id:r.nickname}),m=ho("figure",{class:"gig-comment-photo col-xs-2 col-sm-1",id:r.photo}),d=ho("a",{class:"gig-comment-replyLink voc-reply eloriginal",id:r.reply},"Responder"),l=ho("a",{class:"gig-comment-shareLink voc-reply",style:"display:none"},"Compartir"),u=ho("a",{class:"gig-comment-vote-pos",id:r.upvote}),g=ho("a",{class:"gig-comment-vote-neg",id:r.downvote});c.innerHTML=e.html,a.innerText=n,s.innerText=t,l.hidden=!0,So(s,o.userType,"ppll"),so(m,i),u.innerText=void 0===e.posVotes?0:e.posVotes,g.innerText=void 0===e.negVotes?0:e.negVotes,Re||je||(vn(u,g,e.commentId,0),ko(d,E.replyShow,e.commentId));i=ho("div",{class:"gig-comment-replybox gig-comment-replybox-closed",id:r.replybox}),i=ho("div",{class:"voc-comments-name row",id:r.card},[ho("i",{class:"voc-icons answer-icon"}),m,ho("div",{class:"voc-name-left"},[s,a]),ho("div",{class:"voc-comment"},[c]),ho("div",{class:"voc-comments-social"},[ho("div",{class:"voc-social-left"},[d]),ho("div",{class:"voc-social-right"},[u,g])]),i]),r=ho("div",{id:r.replyarea,class:"gig-comment-replies voc-comments-name voc-answer row"}),r=ho("div",{class:"gig-comment"},[i,r]);wo(r,"data-comment-id",e.commentId),"suscriptor"===o.userType&&wo(r,"data-tag-suscriptor","1");return r}(k,o)),ke===ro.group&&(T=function(e,o){var n=Vn(e.commentId),t=function(e,o){var n=Vn(e.commentId),t=ln((new Date).getTime(),e.creationDate),i=null!==o.nickName&&""!==o.nickName?o.nickName:o.name,e=ho("span",{class:"gig-comment-time voc-clock",id:n.timeago}),n=ho("span",{class:"gig-comment-username",id:n.nickname});e.innerText=t,n.innerText=i,So(n,o.userType,ke);n=ho("div",{class:"gig-comment-header-left"},ho("span",{},[n,ho("span",{class:"comment-time"},"  "),e])),e=ho("div",{class:"gig-comment-header-right"},ho("div",{class:"gig-comment-viaProvider",style:"display:none"}));return ho("div",{class:"gig-comment-header"},[n,e])}(e,o),i=function(e){var o=Vn(e.commentId),n=ho("li",{class:"gig-comment-likeLink",id:o.like},"Me gusta"),t=ho("li",{class:"gig-comment-replyLink",id:o.reply},ho("a",{},"Responder")),i=ho("li",{class:"gig-comment-deleteLink",style:"display:none"},ho("a",{},"Borrar")),r=ho("li",{class:"gig-comment-shareLink",style:"display:none"},ho("a",{},"Compartir"));r.hidden=!0,n.hidden=!0;var c=ho("div",{class:"gig-comment-repliesArrow-text"},e.replyCount+" respuestas"),n=ho("li",{id:ne+e.commentId,class:"gig-comment-replyesArrow",hidden:!1,style:"display:block"},[c,ho("div",{class:"gig-comment-repliesArrow-img"})]);ko(n,E.commentCollapse,e.commentId),0===e.replyCount&&(n.hidden=!0,wo(n,"style","display:none"));c=ho("a",{class:"alter gig-comment-vote-pos fa fa-thumbs-o-up gig-comment-vote-with-value",href:"javascript:void(0);",id:o.upvote}),o=ho("a",{class:"alter gig-comment-vote-neg  a fa-thumbs-o-down gig-comment-vote-with-value",href:"javascript:void(0);",id:o.downvote});c.innerText=void 0===e.posVotes?0:e.posVotes,o.innerText=void 0===e.negVotes?0:e.negVotes,wo(c,"data-voc-vtm-id","btncomentar"),wo(c,"data-voc-vtm-info","like"),wo(c,"data-btn","like-comment"),wo(o,"data-voc-vtm-id","btncomentar"),wo(o,"data-voc-vtm-info","dislike"),wo(o,"data-btn","like-comment"),Re||je||(vn(c,o,e.commentId,0),ko(t,E.replyShow,e.commentId));o=ho("li",{class:"gig-comments-link-lastVisible"},[ho("div",{class:"gig-comments-vote-total"}),c,o]),o=ho("ul",{class:"gig-comments-linksContainer"},[t,i,r,n,o]);return ho("div",{class:"gig-comment-footer"},[ho("div",{class:"gig-comment-footer-left"},[o,ho("div",{class:"social-inserted"})])])}(e),r=ho("div",{class:"gig-comment-body",id:n.text}),c=H.createElement("div");c.innerHTML=e.html;c=c.textContent||c.innerText||"";r.innerText=c;c=pn(o),t=ho("div",{class:"gig-comment-content"},[t,ho("div",{class:"gig-comment-status"}),r,ho("div",{class:"gig-comment-mediaItem"})]),r="",o=o.userType;r="suscriptor"===o||"trial"===o?"suscriptor":"",r="periodista"===o&&"suscriptor"!==r?o:r;i=ho("div",{class:"gig-comment-data",id:n.repliescontainer},[ho("div",{class:"gig-comment-self-data "+r},[t,i]),ho("div",{class:"gig-comment-replybox",id:n.replybox}),ho("div",{id:n.replyarea,class:"gig-comment-replies voc-comments-name voc-answer row"})]);return ho("div",{class:"gig-comment"},ho("article",{class:"gris-oscuro",id:n.card},[ho("div",{class:"gig-comment-title"}),ho("div",{class:"gig-comment-photo",id:n.photo},c),i]))}(k,o)),Lo(M),b){var I,k=se+e.commentId;for(we===ro.group&&(I=fo(T,k)),ke===ro.group&&(o=W+e.commentId,e=oe+e.commentId,o=fo(T,o),e=fo(o,e),I=fo(e,k));b.hasChildNodes();)I.appendChild(b.firstChild)}so(M,T)}}),0!==M.childNodes.length||be?be?0===D.childNodes.length?null:D:M:null}function pn(e){var o=vo("img");return uo(o,"avatar-img"),To(o,"gig-comment-img"),"undefined"===e.photo||""===e.photo?wo(o,"src",Ie+"/images/default_avatar.png"):wo(o,"src",e.photo),o}function vn(e,o,n,t){return e=xo(e),o=xo(o),0<t?(ko(e,E.vote,[n,[1,0]]),ko(o,E.vote,[n,[1,-1]])):t<0?(ko(e,E.vote,[n,[-1,1]]),ko(o,E.vote,[n,[-1,0]])):(ko(e,E.vote,[n,[0,1]]),ko(o,E.vote,[n,[0,-1]])),[e,o]}function fn(e){var o=e[0],n=e[1][1],t=co(te+o),i=co(ie+o),e={commenterToken:Oo(),commentId:o,direction:n},o=vn(t,i,o,0),t=o[0],i=o[1];go(t,"upvoted"),go(i,"downvoted"),0<n?uo(t,"upvoted"):n<0&&uo(i,"downvoted"),Do(Te+"/api/comment/vote",e,function(e){var o,n;e.success?(Qo(),o=t.firstChild,n=i.firstChild,be?(o.innerText=e.comment.posVotes.toString(),n.innerText=e.comment.negVotes.toString()):(t.innerText=e.comment.posVotes.toString(),i.innerText=e.comment.negVotes.toString()),function(e){Lo("onCommentVotedTrigger Callback Triggered"),$e.trigger("vocento.vocuser:commento:comment_voted",e);for(var o=0;o<no.length;o++)no[o](e)}(e)):(n=e.message,"You cannot vote on your own comment"===e.message&&(n="No puede votar sus propios comentarios"),Ko(n="Commenter has voted same twice"===e.message?"Ya ha realizado esta votaciÃ³n":n),go(t,"upvoted"),go(i,"downvoted"))})}function hn(t){var e,o=co(q+t),i=o.value;""!==i?(go(o,"red-border"),e={commenterToken:Oo(),commentId:t,markdown:i},Do(Te+"/api/comment/edit",e,function(e){var o,n;e.success?(Qo(),Ve[t].markdown=i,Ve[t].html=e.html,n=co(Q+t),(o=co(P+t)).innerHTML=Ve[t].html,o.id=J+t,delete qe[t],uo(n,"option-edit"),go(n,"option-cancel"),n.title="Edit comment",ko(n=xo(n),E.editShow,t),n="","unapproved"===e.state?n="Your comment is under moderation.":"flagged"===e.state&&(n="Your comment was flagged as spam and is under moderation."),""!==n&&ao(co(P+t),dn(n))):Ko(e.message)})):uo(o,"red-border")}function bn(e){be?mo(co(J+e),tn(e)):nn(e),Ue[e]=!0;var o=co(Z+e);go(o,"option-reply"),uo(o,"option-cancel"),o.title="Cancelar",o.innerText="Cancelar",ko(o=xo(o),E.replyCollapse,e)}function yn(e){var n={};return e.forEach(function(e){var o=e.parentCommentId;o in n||(n[o]=[]),e.creationDate=new Date(e.creationDate),n[o].push(e),Ve[e.commentId]={html:e.html,markdown:e.markdown}}),n}function xn(){var e=null;return be?null==(e=co(j))&&(e=vo("div")):e=Co(),e}function kn(){var e=xn();e.innerHTML="";var o=gn(yn(Ee),"root");if(o)if(be)so(e,o);else for(;o.hasChildNodes();)e.appendChild(o.firstChild)}function wn(e){jo()?E.commentNew(e,Oo()):ze.sso&&Ne&&!jo()?Cn(!1).then(function(){E.commentNew(e,Oo())}).catch(function(){console.error("can not validate the token")}):E.loginBoxShow(e)}function Tn(e){var o,n;Ae?wn(e):(n=co(z+e),""!==(o=co(q+e)).value?(go(o,"red-border"),n.checked?(n=e,_e=!0,E.commentNew(n,"anonymous")):wn(e)):uo(o,"red-border"))}function In(t){return new Promise(function(o,n){Lo("getSSOAuthenticationParams called");var e="commenterToken="+t+"&domain="+parent.location.host;Mo(Te+"/api/oauth/gigya/redirect?"+e,function(e){e.success?o({hmac:e.oauth.hmac,token:e.oauth.token}):n(e.message)})})}function Cn(o){return new Promise(function(o,n){Lo("getToken()"),Mo(Te+"/api/commenter/token/new",function(e){e.success?(Lo("getToken() Setting Cookie"),Eo("voc_commenter_token",e.commenterToken),Vo(fe,e.commenterToken),o(e.commenterToken)):n(e.message)})}).then(In).then(function(e){return e=e,Lo("firing validate token event"),Lo(e),e={hmac:e.hmac,token:e.token},$e.trigger("vocuser:commento:validate-token",{data:e}),Nn(o)}).catch(function(e){Ko(e),console.error(e)})}function Sn(e){co(u).innerHTML="",Ue={},E.main(e)}function Ln(e,o,n){Do(Te+"/api/commenter/login",{email:e,password:o},function(e){return e.success?(Qo(),Eo("voc_commenter_token",e.commenterToken),qo(e.commenter,e.email),Hn(),bo(co(p)),void(null!==n?E.commentNew(n,e.commenterToken,function(){E.loginBoxClose(),Xo(kn)}):(E.loginBoxClose(),Xo(kn)))):(E.loginBoxClose(),void Ko(e.message))})}function Dn(o){var e={url:parent.location.href,title:H.title,isLocked:je,stickyCommentHex:Pe},e={commenterToken:Oo(),domain:parent.location.host,streamId:encodeURIComponent(Le),attributes:e};Do(Te+"/api/page/update",e,function(e){e.success?(Qo(),No(o)):Ko(e.message)})}function Mn(){void 0===t?Hn():Wo(t,Hn)}function Hn(){var e=co(g),o=co(b),n=co(k);wo(e,"style",""),Oe&&wo(o,"style",""),n&&wo(n,"style","")}function Nn(n){return Lo("waiting for token-validated event"),Ne||Ro({}),new Promise(function(e,o){$e.when("vocuser:commento:token-validated-promised").then(function(){Lo("commento vocuser:commento:token-validated-promised received, reload comments="+n),zo(function(){"anonymous"!==Oo()&&(bo(co(p)),Ao(fe),n&&(Qe=1,Xo(kn)))}),e(),setTimeout(function(){o("token-validated Timeout happend")},2e3)})})}function En(){for(var e,o=H.getElementsByTagName("script"),n=0;n<o.length;n++)o[n].src.match(/\/js\/commento\.js$/)&&(void 0!==(e=yo(o[n],"data-page-id"))&&(Le=e),t=yo(o[n],"data-css-override"),e=yo(o[n],"data-auto-init"),Me=void 0!==e?e:Me,void 0!==(e=yo(o[n],"data-id-root"))&&(u=e),De=yo(o[n],"data-no-fonts"),N=yo(o[n],"data-hide-deleted"))}function Vn(e){return{card:W+e,body:Y+e,text:J+e,subtitle:F+e,timeago:X+e,score:$+e,options:K+e,edit:Q+e,reply:Z+e,replyarea:se+e,replybox:ee+e,collapse:ne+e,upvote:te+e,downvote:ie+e,approve:re+e,remove:ce+e,sticky:ae+e,photo:"commento-comment-photo-"+e,nickname:le+e,social:o+e,like:"commento-like-link-"+e,delete:"commento-delete-link-"+e,repliescontainer:oe+e}}E.commentApprove=function(i){var e={commenterToken:Oo(),commentId:i};Do(Te+"/api/comment/approve",e,function(e){var o,n,t;e.success?(Qo(),o=co(W+i),n=co(le+i),t=co(re+i),go(o,"dark-card"),go(n,"flagged"),bo(t)):Ko(e.message)})},E.commentDelete=function(o){var e;confirm("Are you sure you want to delete this comment?")&&(e={commenterToken:Oo(),commentId:o},Do(Te+"/api/comment/delete",e,function(e){e.success?(Qo(),co(J+o).innerText="[deleted]"):Ko(e.message)}))},E.vote=function(e){ze.sso&&Ne&&!jo()?Cn(!1).then(function(){fn(e)}).catch(function(){console.error("can not validate the token")}):(jo()||E.loginBoxShow(),fn(e))},E.editShow=function(e){var o;e in qe&&qe[e]||(o=co(J+e),qe[e]=!0,o.replaceWith(tn(e,!0)),co(q+e).value=Ve[e].markdown,go(o=co(Q+e),"option-edit"),uo(o,"option-cancel"),o.title="Cancel edit",ko(o=xo(o),E.editCollapse,e))},E.editCollapse=function(e){var o=co(Q+e),n=co(P+e);n.innerHTML=Ve[e].html,n.id=J+e,delete qe[e],uo(o,"option-edit"),go(o,"option-cancel"),o.title="Edit comment",ko(o=xo(o),E.editShow,e)},E.replyShow=function(e){e in Ue&&Ue[e]||(ze.sso&&Ne&&!jo()?Cn(!1).then(function(){bn(e)}).catch(function(){console.error("can not validate the token")}):bn(e))},E.replyCollapse=function(e){var o=co(Z+e);be?co(P+e).remove():on(e),delete Ue[e],uo(o,"option-reply"),go(o,"option-cancel"),o.title="Responder",o.innerText="Responder",ko(o=xo(o),E.replyShow,e)},E.commentCollapse=function(e){if(!be)return sn(o=co(se+e)),po(n=co(ne+e),"gig-comment-repliesArrow-collapsed"),void(o.hidden&&To(n,"gig-comment-repliesArrow-collapsed"));var o=co(me+e),n=co(ne+e);o&&uo(o,"hidden"),go(n,"option-collapse"),uo(n,"option-uncollapse"),n.title="Expand children",ko(n=xo(n),E.commentUncollapse,e)},E.commentUncollapse=function(e){var o=co(me+e),n=co(ne+e);o&&go(o,"hidden"),go(n,"option-uncollapse"),uo(n,"option-collapse"),n.title="Collapse children",ko(n=xo(n),E.commentCollapse,e)},E.commentoAuth=function(e){var n=e.provider,t=e.id,i=window.open("","_blank");Mo(Te+"/api/commenter/token/new",function(o){var e;o.success?(Qo(),Eo("voc_commenter_token",o.commenterToken),i.location=Te+"/api/oauth/"+n+"/redirect?commenterToken="+o.commenterToken,e=setInterval(function(){i.closed&&(clearInterval(e),zo(function(){var e=co(k);e&&wo(e,"style",""),"anonymous"!==Oo()&&bo(co(p)),null!==t?E.commentNew(t,o.commenterToken,function(){E.loginBoxClose(),Xo(kn)}):(E.loginBoxClose(),Xo(kn))}))},250)):Ko(o.message)})},E.popupRender=function(n){Ne&&console.log("Usuario autenticado en Gigya");var e=co(T),o=vo("div"),t=vo("div"),i=vo("div"),r=vo("div"),c=vo("hr"),a=vo("div"),s=vo("div"),m=vo("div"),d=vo("hr"),l=vo("div"),u=vo("div"),g=vo("div"),p=vo("input"),v=vo("button"),f=vo("div"),h=vo("a"),b=vo("div"),y=vo("a"),x=vo("div");o.id=I,l.id=C,p.id=S,v.id=L,f.id=D,b.id=M,i.id=B,t.id=V,c.id=A,a.id=O,s.id=R,d.id=_,uo(e,"login-box-container"),uo(o,"login-box"),uo(l,"login-box-subtitle"),uo(u,"email-container"),uo(g,"email"),uo(p,"input"),uo(v,"email-button"),uo(f,"forgot-link-container"),uo(h,"forgot-link"),uo(b,"login-link-container"),uo(y,"login-link"),uo(t,"login-box-subtitle"),uo(i,"oauth-buttons-container"),uo(r,"oauth-buttons"),uo(a,"login-box-subtitle"),uo(s,"oauth-buttons-container"),uo(m,"oauth-buttons"),uo(x,"login-box-close"),uo(Se,"root-min-height"),h.innerText="Forgot your password?",y.innerText="Don't have an account? Sign up.",l.innerText="Login with your email address",v.innerText="Continue",a.innerText="Proceed with social login",t.innerText="Proceed with "+parent.location.host+" authentication",ko(v,E.passwordAsk,n),ko(h,E.forgotPassword,n),ko(y,E.popupSwitch,n),ko(x,E.loginBoxClose),wo(e,"style","display: none; opacity: 0;"),wo(p,"name","email"),wo(p,"placeholder","Email address"),wo(p,"type","text");var k,w=0;["google","twitter","github","gitlab"].forEach(function(e){var o;ze[e]&&(uo(o=vo("button"),"button"),uo(o,e+"-button"),o.innerText=e,ko(o,E.commentoAuth,{provider:e,id:n}),so(m,o),w++)}),ze.sso&&(uo(k=vo("button"),"button"),uo(k,"sso-button"),k.innerText="Single Sign-On",ko(k,E.commentoAuth,{provider:"sso",id:n}),so(r,k),so(i,r),so(o,t),so(o,i),(0<w||ze.commento)&&so(o,c)),Ye=0<w&&(so(o,a),so(s,m),so(o,s),!0),so(g,p),so(g,v),so(u,g),so(f,h),so(b,y),0<w&&ze.commento&&so(o,d),ze.commento&&(so(o,l),so(o,u),so(o,f),so(o,b)),so(o,x),We="login",e.innerHTML="",so(e,o)},E.forgotPassword=function(){window.open("","_blank").location=Te+"/forgot?commenter=true",E.loginBoxClose()},E.popupSwitch=function(e){var o=co(C);Ye&&(bo(co(R)),bo(co(O)),bo(co(A)),bo(co(_))),ze.sso&&(bo(co(B)),bo(co(V)),bo(co(A)),bo(co(_))),bo(co(M)),bo(co(D)),o.innerText="Create an account",We="signup",E.passwordAsk(e),co(S).focus()},E.login=function(e){var o=co(S),n=co(v);Ln(o.value,n.value,e)},E.signup=function(o){var n=co(S),e=co(f),t=co(h),i=co(v),t={email:n.value,name:e.value,website:t.value,password:i.value,domain:parent.location.host,uid:"",lastName:"",nickName:"",userType:"registrado",tags:""};Do(Te+"/api/commenter/new",t,function(e){return e.success?(Qo(),void Ln(n.value,i.value,o)):(E.loginBoxClose(),void Ko(e.message))})},E.passwordAsk=function(e){var o,n,t,i,r=co(I),c=co(C);bo(co(L)),bo(co(M)),bo(co(D)),Ye&&0<ze.length&&(bo(co(A)),bo(co(_)),bo(co(O)),bo(co(R))),i="signup"===We?(o=["name","website","password"],n=[f,h,v],t=["text","text","password"],["Real Name","Website (Optional)","Password"]):(o=["password"],n=[v],t=["password"],["Password"]),c.innerText="signup"===We?"Finish the rest of your profile to complete.":"Enter your password to log in.";for(var a=0;a<o.length;a++){var s=vo("div"),m=vo("div"),d=vo("input");d.id=n[a],uo(s,"email-container"),uo(m,"email"),uo(d,"input"),wo(d,"name",o[a]),wo(d,"type",t[a]),wo(d,"placeholder",i[a]),so(m,d),so(s,m),"password"===o[a]&&(uo(d=vo("button"),"email-button"),d.innerText=We,ko(d,"signup"===We?E.signup:E.login,e),so(m,d)),so(r,s)}co("signup"===We?f:v).focus()},E.threadLockToggle=function(){var e=co(y);je=!je,e.disabled=!0,Dn(function(){e.disabled=!1,Sn()})},E.commentSticky=function(o){var e;"none"!==Pe&&(go(e=co(ae+Pe),"option-unsticky"),uo(e,"option-sticky")),Pe=Pe===o?"none":o,Dn(function(){var e=co(ae+o);Pe===o?(go(e,"option-sticky"),uo(e,"option-unsticky")):(go(e,"option-unsticky"),uo(e,"option-sticky"))})},E.loginBoxClose=function(){var e=co(g),o=co(T);go(e,"blurred"),go(Se,"root-min-height"),wo(o,"style","display: none")},E.loginBoxShow=function(e){var o,n;ze.sso?jo()||Cn(!0).then(function(){}).catch(function(e){console.log(e)}):(o=co(g),n=co(T),E.popupRender(e),uo(o,"blurred"),wo(n,"style",""),window.location.hash=T,co(S).focus())};var Bn=!(E.main=function(n){Lo("globalComments.main called"),be?(Se=co(u),null===(Ce=Se)?console.log("[commento] error: no root element with ID '"+u+"' found"):(null===Xe&&(Xe=Se.getBoundingClientRect().width<450),uo(Se,"root"),"true"!==De&&uo(Se,"root-font"))):function(){Lo("vocentoMain() called");var e=ro.group;if(Ce=co(u),we!==e&&ke!==e||To(Ce,"gig-comments-container"),Se=function(e){return c=null,we===e&&(c=ho("div",{class:"voc-comments-container"})),c=ke===e?ho("div",{id:"commentsBlock",class:"collapse"}):c}(e),null===Ce||null===Se)return console.error("[commento] error: no root element with ID '"+u+"' found");null===Xe&&(Xe=Ce.getBoundingClientRect().width<450),so(Ce,Se);var o=function(e){var o;return we===e&&(l=ho("div",{class:"gig-comments-composebox"}),o=ho("div",{class:"container voc-comments-form"},ho("form",{class:"form-horizontal"},l))),o=ke===e?l=ho("span",{class:"gig-comments-composebox"}):o}(e);if(a=function(e){var o;return we===e&&(d=ho("div",{class:"gig-comments-header",id:ye}),o=ho("div",{id:ve,class:"container voc-comments-opinion"},[ho("div",{class:"voc-comments-data"},[ho("div",{class:"col-xs-12 col-sm-6 voc-left"},d),ho("div",{class:"col-xs-12 col-sm-6 voc-right"},ho("div",{class:"gig-comments-updates"}))]),ho("div",{class:"gig-comments-comments",id:j})]),m=o),ke===e&&(o=ho("div",{class:"gig-comments-comments",id:j}),s=o),o}(e),null===o||null===a||null===s)return console.error(" [commento] Missing vocento container in mainVocento function, group = "+e);ke===e&&(d=ho("div",{class:"gig-comments-header",id:ye}),so(Se,d)),so(Se,o),so(Se,a)}(),(o=vo("div")).id=T,so(Se,o),(t=vo("div")).id=x,uo(t,"error-box"),wo(t,"style","display: none;"),ao(Se,t),(i=vo("div")).id=g,uo(i,"main-area"),wo(i,"style","display: none"),so(Se,i);var e,o,t,i,r=(e=vo("div"),o=vo("div"),t=vo("a"),i=vo("span"),e.id="commento-footer",uo(e,"footer"),uo(o,"logo-container"),uo(t,"logo"),uo(i,"logo-text"),wo(t,"href","https://commento.io"),wo(t,"target","_blank"),i.innerText="Commento",so(e,o),e);Wo(Ie+"/css/commento.css",Mn),zo(function(){Xo(function(){var e,o;e=vo("div"),o=vo("button"),e.id=b,o.id=y,uo(e,"mod-tools"),o.innerHTML=je?"Unlock Thread":"Lock Thread",ko(o,E.threadLockToggle),wo(e,"style","display: none"),so(e,o),so(Se,e),function(e){var o,n=vo("div"),t=vo("div"),i=co(g),r=vo("div");n.id=p,wo(n,"style","display: none"),r.id=w,uo(n,"login"),uo(t,"login-text"),o=xn(),be?(uo(o,"comments"),o.id=j,o.innerHTML=""):(o=s).innerHTML="",o.innerHTML="",t.innerText="Iniciar SesiÃ³n",ko(t,E.loginBoxShow,null);var c=0;Object.keys(ze).forEach(function(e){ze[e]&&c++}),0<c?so(n,t):Ae||(Ge=!0),je||Re?(t=je?"Los comentarios estÃ¡n cerrados en esta pÃ¡gina. Disculpen las molestias":"Los comentarios estÃ¡n desactivados por mantenimiento. Vuelve a intentarlo mÃ¡s tarde.<br>Disculpa las molestias.",jo()||_e?(ao(co(u),dn(t)),bo(co(p))):(so(i,n),be?so(i,tn("root")):(ao(co(u),dn(t)),nn("root")))):(jo()?bo(co(p)):so(i,n),be?so(i,tn("root")):nn("root")),0<Ee.length&&so(i,mn()),so(i,r),be&&so(i,o),so(Se,i),No(e)}(function(){var e;kn(),so(Se,r),window.location.hash&&(window.location.hash.startsWith("#commento-")?null!==(e=co(W+window.location.hash.split("-")[1]))&&(uo(e,"highlighted-card"),e.scrollIntoView(!0)):window.location.hash.startsWith("#commento")&&Se.scrollIntoView(!0)),Hn(),function(){for(var e=H.getElementsByClassName("commento-name"),o=0;o<e.length;o++)wo(e[o],"style","max-width: "+(e[o].getBoundingClientRect().width+20)+"px;")}(),No(n)})})})});function An(){if(!Bn)if(Bn=!0,En(),$e.when("vocuser:userdata").then(function(e){e=e.responseGetUserInfo;e&&e.user&&e.user.UID&&0===e.errorCode?(bo(co(p)),Ne=!0,Lo("validateUserLoggedInGigya(): user is logged in in Gigya- token not authenticated"),null!==(e=Bo(fe))&&(Lo("validateUserLoggedInGigya(): There is a pending token to validate"),Eo("voc_commenter_token",e),Nn(!1).then(function(){Ao(fe)}))):(Lo("user not logged in, calling globalComments.logout()"),_o())}),$e.trigger("vocento.vocuser:commento:ready"),"true"===Me)E.main(void 0);else if("false"!==Me&&"true"!==Me)throw new Error("[comments] error: invalid value for data-auto-init; allowed values: true, false")}try{!function(){try{window.Voonto.ready.then(function(e){$e=e,An()})}catch(e){throw new Error("Vocento Comments requires Voonto. Check your implementation")}}()}catch(e){console.error(e.message)}}(window,document);