(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2799bbb6"],{"184c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="fas",s="gift",o=512,r=512,c=[],a="f06b",l="M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z";e.definition={prefix:i,iconName:s,icon:[o,r,c,a,l]},e.faGift=e.definition,e.prefix=i,e.iconName=s,e.width=o,e.height=r,e.ligatures=c,e.unicode=a,e.svgPathData=l},"3bae":function(t,e,n){"use strict";n("707c")},4346:function(t,e,n){},"44d4":function(t,e,n){"use strict";n("78ec")},"488b":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"date-select"},[n("validation-provider",{style:t.inlineBlockStyle,attrs:{name:"date",rules:t.dateRules},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,s=e.validated;return[n("input-item",{staticClass:"date-select-content",class:t.dateClass,attrs:{"show-label":!1,value:t.value,"error-texts":t.getDateErrors(i,s)}},[t.includeDay?n("validation-provider",{style:t.inlineBlockStyle,attrs:{name:"day",rules:t.dateUnitRules}},[n("input-item",{class:t.dayClass,attrs:{value:t.selectedDay,"label-text":t.$t("i18n.day")}},[n("div",{staticClass:"select-container",style:t.selectContainerStyle},[n("select",{attrs:{disabled:t.isDisabled},on:{change:function(e){return t.$emit("update:selected-day",e.target.selectedIndex)}}},[n("option",{attrs:{value:"99",disabled:"",selected:"",hidden:""}},[t._v(" "+t._s(t.$t("i18n.day"))+" ")]),t._l(t.daysInTheMonth,(function(e){return n("option",{key:"day"+e,domProps:{value:e,selected:t.selectedDay===e}},[t._v(" "+t._s(e)+" ")])}))],2),n("SvgIcon",{staticClass:"select-container__select-arrow",attrs:{name:"arrow-down",title:"Down Arrow","aria-hide":!0}})],1)])],1):t._e(),n("validation-provider",{style:t.inlineBlockStyle,attrs:{name:"month",rules:t.dateUnitRules}},[n("input-item",{staticClass:"input-item",class:t.monthClass,attrs:{value:t.selectedMonth,"label-text":t.$t("i18n.month")}},[n("div",{staticClass:"select-container",style:t.selectContainerStyle},[n("select",{attrs:{disabled:t.isDisabled},on:{change:function(e){return t.$emit("update:selected-month",e.target.selectedIndex)}}},[n("option",{attrs:{value:"99",disabled:"",selected:"",hidden:""}},[t._v(" "+t._s(t.$t("i18n.month"))+" ")]),t._l(12,(function(e){return n("option",{key:e,domProps:{value:e,selected:t.selectedMonth===e}},[t._v(" "+t._s(t._f("monthName")(e))+" ")])}))],2),n("SvgIcon",{staticClass:"select-container__select-arrow",attrs:{name:"arrow-down",title:"Down Arrow","aria-hide":!0}})],1)])],1),n("validation-provider",{style:t.inlineBlockStyle,attrs:{name:"year",rules:t.dateUnitRules,"use-input-id":t.yearSelectId}},[n("input-item",{staticClass:"input-item",class:t.yearClass,attrs:{value:t.selectedYear,"label-text":t.$t("i18n.year")}},[n("div",{staticClass:"select-container",style:t.selectContainerStyle},[n("select",{attrs:{id:t.yearSelectId,disabled:t.isDisabled},on:{change:function(e){t.$emit("update:selected-year",Number(e.target.value))}}},[n("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v(" "+t._s(t.$t("i18n.year"))+" ")]),t._l(t.years,(function(e){return n("option",{key:e,domProps:{selected:t.selectedYear===e}},[t._v(" "+t._s(e)+" ")])}))],2),n("SvgIcon",{staticClass:"select-container__select-arrow",attrs:{name:"arrow-down",title:"Down Arrow","aria-hide":!0}})],1)])],1)],1)]}}])})],1)},s=[],o=n("9046"),r=n("10e9"),c=n("fe4d"),a=n("c91c");function l(t){return p(t)||d(t)||m(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function p(t){if(Array.isArray(t))return y(t)}function f(t,e){return v(t)||g(t,e)||m(t,e)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,e){if(t){if("string"===typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function g(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var i,s,o=[],r=!0,c=!1;try{for(n=n.call(t);!(r=(i=n.next()).done);r=!0)if(o.push(i.value),e&&o.length===e)break}catch(a){c=!0,s=a}finally{try{r||null==n["return"]||n["return"]()}finally{if(c)throw s}}return o}}function v(t){if(Array.isArray(t))return t}var b=["day","month","year"],_=1900,O=function(){for(var t=(new Date).getFullYear(),e=[],n=t;n>=_;n-=1)e.push(n);return e},T=1,S={components:{InputItem:c["a"],ValidationProvider:a["a"],SvgIcon:r["a"]},props:{selectedDay:{type:Number,default:null},selectedYear:{type:Number,default:null},selectedMonth:{type:Number,validator:function(t){return t>=1&&t<=12},default:null},isDisabled:{type:Boolean,default:!1},includeDay:{type:Boolean,default:!0},dateClass:{type:[Object,Array,String],default:function(){return["lsco-row"]}},dayClass:{type:[Object,Array,String],default:function(){return["lsco-row"]}},monthClass:{type:[Object,Array,String],default:function(){return["lsco-col-xs-9"]}},yearClass:{type:[Object,Array,String],default:function(){return["lsco-col-xs-9 lsco-col-xs-offset-3"]}},errorTextOverrides:{type:Object,validator:function(t){var e=Object.entries(t);if(e.length>3)return!1;for(var n=0;n<e.length;n+=1){var i=f(e[n],2),s=i[0],o=i[1];if(!b.includes(s))return!1;if("string"!==typeof o)return!1}return!0},default:null}},filters:{monthName:function(t){return Object(o["f"])()[t-1]}},data:function(){return{months:Object(o["f"])(),years:O()}},computed:{value:function(){if(!this.selectedMonth||!this.selectedYear)return null;if(this.includeDay&&!this.selectedDay)return null;var t=this.includeDay?this.selectedDay:1;return[this.selectedYear,this.selectedMonth,t]},dateRules:function(){return this.includeDay&&!this.selectedDay?"required":this.value?{min_age:{age:16}}:""},dateUnitRules:function(){return this.fieldSelected?"required":""},fieldSelected:function(){return this.selectedDay||this.selectedMonth||this.selectedYear},dateSelectId:function(){return"date-select-".concat(this.uid)},daySelectId:function(){return"day-select-".concat(this.uid)},yearSelectId:function(){return"year-select-".concat(this.uid)},selectContainerStyle:function(){return this.isDisabled?{color:"#6E6E6E"}:{}},inlineBlockStyle:function(){return{display:"inline-block"}},daysInTheMonth:function(){var t=31;try{t=new Date(this.selectedYear,this.selectedMonth,0).getDate()}catch(e){t=31}return t}},beforeCreate:function(){this.uid=T.toString(),T+=1},methods:{getDateErrors:function(t,e){if(!e)return[];var n=l(t);return!this.value&&this.fieldSelected&&(n=[],n.push(this.$t("i18n.errors.valid_date"))),n}}},I=S,C=(n("7fd0"),n("2877")),N=Object(C["a"])(I,i,s,!1,null,"9bd5231a",null);e["a"]=N.exports},5371:function(t,e,n){},5527:function(t,e,n){},"707c":function(t,e,n){},"78ec":function(t,e,n){},"7fd0":function(t,e,n){"use strict";n("ac6b")},"9d9d":function(t,e,n){},a098:function(t,e,n){"use strict";n("fae7")},a16f:function(t,e,n){"use strict";var i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.validate;return[n("modal-item",{staticClass:"preference-quiz-modal",class:t.rootClassObj,attrs:{"modal-name":"preferenceQuiz"},on:{closeModal:t.close}},[n("template",{slot:"header"},[t.showIntroHeader?n("heading-container",{staticClass:"heading-container-item lsco-col-xs-offset-2 lsco-col-xs-offset-right-2 lsco-col-xs-21 lsco-col-md-7",attrs:{title:t.welcomeToLevisRedTabText},scopedSlots:t._u([{key:"content-above",fn:function(){return[n("svg-icon",{attrs:{name:"red-tab-logo",title:"Levi's Red Tab"}})]},proxy:!0},{key:"details",fn:function(){return[n("div",{staticClass:"heading-details"},[n("span",[t._v(" The Red Tabâ¢ Member Program is free and specially tailored to you. See all your benefits here: ")]),n("a",{attrs:{href:"javascript:;"},on:{click:t.onMRTBClick}},[t._v(" My Red Tabâ¢ Benefits ")]),n("span",[t._v(".")])])]},proxy:!0}],null,!0)}):t._e(),t.showPrevButton?n("div",{staticClass:"prev-button-container"},[n("div",{staticClass:"icon-wrapper"},[n("svg-icon",{attrs:{name:"arrow-left",title:"Go back"}})],1),n("button",{staticClass:"back-btn",on:{click:t.onPreviousClicked}},[t._v(" "+t._s(t.$t("i18n.back"))+" ")])]):t._e()],1),n("div",{attrs:{slot:"body"},slot:"body"},[n("keep-alive",[t.stateName===t.$_states.GENDER_INTRO?n("pref-quiz-gender-intro",{attrs:{"selected-gender":t.selectedClothingTypeValue,"clothing-types":t.clothingTypes,"show-signup-confirmation":t.type===t.$_types.INITIAL},on:{"update:selectedGender":function(e){t.selectedClothingTypeValue=e},"update:selected-gender":function(e){t.selectedClothingTypeValue=e}}}):t._e(),t.stateName===t.$_states.BIRTHDAY?n("pref-quiz-basic",{attrs:{"clothing-types":t.clothingTypes,country:t.country,"first-name":t.firstName,locale:t.locale,"selected-clothing-type-value":t.selectedClothingTypeValue,"selected-month":t.selectedMonth,"selected-year":t.selectedYear},on:{"update:selectedMonth":function(e){t.selectedMonth=e},"update:selected-month":function(e){t.selectedMonth=e},"update:selectedYear":function(e){t.selectedYear=e},"update:selected-year":function(e){t.selectedYear=e},clothingTypeClick:t.updateSelectedClothingType}}):t._e(),t.stateName===t.$_states.FITS_QUIZ?n("pref-quiz-fits",{attrs:{"clothing-types":t.clothingTypesForFits,"fits-data":t.quizData.denim_style,"selected-clothing-type-value":t.selectedClothingTypeValueForFits,"selected-fit-ids":t.selectedFitNames,"selected-clothing-type":t.selectedClothingTypeValue},on:{"update:selectedClothingType":function(e){t.selectedClothingTypeValue=e},"update:selected-clothing-type":function(e){t.selectedClothingTypeValue=e},selectedFitsUpdate:function(e){t.selectedFitNames=arguments[0]}}}):t._e(),t.stateName===t.$_states.TOPICS_QUIZ?n("pref-quiz-topics",{attrs:{"selected-topic-ids":t.selectedTopicNames,"topics-data":t.quizData.shopping_preferences},on:{selectedTopicsUpdate:function(e){t.selectedTopicNames=arguments[0]}}}):t._e()],1),n("buttons-filled-and-text",{staticClass:"pq-buttons lsco-col-xs-offset-2 lsco-col-md-offset-3 lsco-col-xs-20 lsco-col-md-5",attrs:{"button-text":t.nextButtonText,"link-text":t.$t("i18n.skip"),"button-only":t.stateName===t.$_states.GENDER_INTRO||t.stateName===t.$_states.TOPICS_QUIZ},on:{buttonClick:function(e){return t.onNextClicked(i)},linkClick:function(e){return t.onSkipClicked(i)}}})],1)],2)]}}])})},o=[],r=n("2f62"),c=n("ced4"),a=n("1ab3"),l=n("10e9"),u=n("2c0f"),d=n("d9ed"),p=n("5fb0"),f=n("0d6e"),h=n("a862"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"pq-gender lsco-col-xs-24 lsco-col-md-11"},[n("div",[t.showSignupConfirmation?n("div",{staticClass:"body-intro"},[t._v(" "+t._s(t.$t("i18n.oneMoreThing"))+" ")]):n("div",{staticClass:"lsco-col-xs-offset-2 lsco-col-xs-19 lsco-col-md-7",attrs:{id:t.promptId}},[n("svg-icon",{staticClass:"red-tab-icon",attrs:{name:"red-tab-logo",title:"Levi's Red Tab"}}),n("p",{staticClass:"prompt--top lsco-col-xs-21 lsco-col-md-7"},[t._v(" "+t._s(t.$t("i18n.whatStylesShopPrompt"))+" ")])],1),n("div",{staticClass:"img-container"},[n("img",{attrs:{src:t.imgSrcCollection,alt:"SELECT SPECIAL COLLECTION"}}),n("img",{attrs:{src:t.imgSrcNewNow,alt:"SELECT NEW AND NOW"}}),n("img",{attrs:{src:t.imgSrcCustomization,alt:"SELECT CUSTOMIZATION"}})]),t.showSignupConfirmation?[n("div",{staticClass:"blurb lsco-col-xs-offset-2 lsco-col-xs-21 lsco-col-md-7"},[t._v(" "+t._s(t.$t("i18n.prefQuizGenderPrompt"))+" ")]),n("p",{staticClass:"prompt lsco-col-xs-21 lsco-col-md-7",attrs:{id:t.promptId}},[t._v(" "+t._s(t.$t("i18n.whatStylesShopPrompt"))+" ")])]:t._e(),n("div",{staticClass:"radio-btn-container lsco-col-xs-offset-2 lsco-col-xs-20 lsco-col-md-7",class:t.radioClassObj,attrs:{role:"radiogroup","aria-labelledby":t.promptId}},t._l(t.clothingTypes,(function(e){return n("radio-button",{key:e.value,staticClass:"radio-btn lsco-col-xs-offset-2 lsco-col-xs-8 lsco-col-md lsco-col-md-offset-0",attrs:{tabindex:"0",name:e.value,value:e.value,"selected-value":t.selectedGender},on:{clickRadio:function(n){return t.$emit("update:selected-gender",e.value)}},scopedSlots:t._u([{key:"radio-text",fn:function(){return[n("span",{staticClass:"radio-label"},[t._v(" "+t._s(e.text)+" ")])]},proxy:!0}],null,!0)})})),1)],2)])},y=[],g=n("5dc9"),v={shopping_preferences:[{id:"NEW_AND_NOW",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content_NewNow?$full-jpeg$"},{id:"LEVIS_CLASSIC",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content_Classics?$full-jpeg$"},{id:"SPECIAL_COLLECTION",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content_Collections?$full-jpeg$"},{id:"VINTAGE_INSPIRED",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content_Vintage?$full-jpeg$"},{id:"SALE",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content_Sale (1)?$full-jpeg$"},{id:"KIDS",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content_Kids?$full-jpeg$"},{id:"CUSTOMIZATION",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content_Customization?$full-jpeg$"},{id:"INSIDE_LEVIS",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content_Inside?$full-jpeg$"},{id:"Sustainability",img_desktop:"https://lsco.scene7.com/is/image/lsco/Personalization_Content?$full%2Djpeg$"}],denim_style:{men:[{id:"SKINNY_MEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/510SKINNY_M_f?$ZF$"},{id:"SLIM_MEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/511SLIM_M_f?$ZF$"},{id:"TAPER_MEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/501TAPER_M_f?$ZF$"},{id:"STRAIGHT_MEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/514STRAIGHT_M_f?$ZF$"},{id:"BOOTCUT_MEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/517BOOTCUT_M_f?$ZF$"},{id:"RELAXED_MEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/569LOOSESTRAIGHT_M_f?$ZF$"}],women:[{id:"SUPER_SKINNY_WOMEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/MILEHIGHSUPERSKINNY_W_f?$ZF$"},{id:"SKINNY_WOMEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/501SKINNY_W_f?$ZF$"},{id:"SLIM_WOMEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/312SHAPINGSLIM_W_f?$ZF$"},{id:"TAPER_WOMEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/501TAPER_W_f?$ZF$"},{id:"STRAIGHT_WOMEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/CLASSICSTRAIGHT_W_f?$ZF$"},{id:"BOOTCUT_WOMEN",img_desktop:"https://lsco.scene7.com/is/image/lsco/CLASSICBOOTCUT_W_f?$ZF$"}]}};function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _={GENDER_INTRO:"genderIntro",BIRTHDAY:"birthdayQuiz",FITS_QUIZ:"fitsQuiz",TOPICS_QUIZ:"topicsQuiz",SUBMITTING:"submitting"},O=(i={},b(i,_.GENDER_INTRO,"whatStylesShopPrompt"),b(i,_.BIRTHDAY,"enterBirthdayText"),b(i,_.FITS_QUIZ,"denimStyleChoosePrompt"),b(i,_.TOPICS_QUIZ,"shoppingPreferencesDescription"),i),T={WOMEN:"WOMEN",MEN:"MEN",BOTH:"BOTH",DONT_KNOW:"DONT_KNOW"},S={components:{RadioButton:g["a"],SvgIcon:l["a"]},props:{selectedGender:{type:String,default:""},clothingTypes:{type:Object,required:!0},showSignupConfirmation:{type:Boolean,default:!1}},data:function(){return{quizData:v,promptId:"pq-prompt-id"}},computed:{imgSrcCollection:function(){var t=this.quizData.shopping_preferences.find((function(t){var e=t.id;return"SPECIAL_COLLECTION"===e}));return t.img_desktop},imgSrcNewNow:function(){var t=this.quizData.shopping_preferences.find((function(t){var e=t.id;return"NEW_AND_NOW"===e}));return t.img_desktop},imgSrcCustomization:function(){var t=this.quizData.shopping_preferences.find((function(t){var e=t.id;return"CUSTOMIZATION"===e}));return t.img_desktop},radioClassObj:function(){return this.showSignupConfirmation?[]:["margin-top-44"]}},created:function(){this.$_clothingTypes=T}},I=S,C=(n("c4eb"),n("2877")),N=Object(C["a"])(I,m,y,!1,null,"792b8246",null),w=N.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pq-basic lsco-col-xs-offset-2 lsco-col-xs-offset-right-2 lsco-col-xs-19 lsco-col-md-7"},[n("svg-icon",{attrs:{name:"red-tab-logo",title:"Levi's Red Tab"}}),n("div",{staticClass:"pq-intro"},[t._v(" "+t._s(t.$t("i18n.prefQuizHeading"))+" ")]),n("div",{staticClass:"pq-privacy"},[n("router-link",{staticClass:"pq-privacy-link-text",attrs:{to:t.paths.privacyPolicy,target:"_blank"}},[t._v(" "+t._s(t.$t("i18n.viewText"))+" "+t._s(t.$t("i18n.privacyPolicyTitle"))+" ")])],1),n("div",{staticClass:"hr-line"}),n("div",{staticClass:"pq-bday"},[n("div",{staticClass:"pq-bday-txt"},[t._v(" "+t._s(t.$t("i18n.enterBirthdayText"))+" ")]),n("div",{staticClass:"bday-select-container lsco-col-xs-19 lsco-col-md-6"},[n("date-select",{staticClass:"date-select-item",attrs:{"include-day":!1,"is-disabled":!1,"month-class":t.monthClass,"year-class":t.yearClass,"selected-month":t.month,"selected-year":t.year},on:{"update:selectedMonth":function(e){t.month=e},"update:selected-month":function(e){t.month=e},"update:selectedYear":function(e){t.year=e},"update:selected-year":function(e){t.year=e}}})],1)])],1)},P=[],j=n("9046"),$=n("184c"),D=n("488b");function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R=1900,M=function(){for(var t=(new Date).getFullYear(),e=[],n=t;n>=R;n-=1)e.push(n);return e},F={components:{DateSelect:D["a"],SvgIcon:l["a"]},props:{clothingTypes:{type:Object,required:!0},country:{type:String,required:!0},firstName:{type:String,default:""},locale:{type:String,default:"en"},selectedClothingTypeValue:{type:String,default:""},selectedMonth:{type:Number,default:1},selectedYear:{type:Number,default:1900}},filters:{monthName:function(t){return Object(j["f"])()[t-1]}},data:function(){return{giftIcon:$["faGift"],month:null,year:null,months:Object(j["f"])(),years:M()}},computed:x(x({},Object(r["c"])("configState",["paths"])),{},{monthClass:function(){var t=["lsco-col-xs-19 lsco-col-md-6"];return t},yearClass:function(){var t=["lsco-col-xs-19 lsco-col-md-6"];return t}}),watch:{month:function(t){this.$emit("update:selected-month",t)},year:function(t){this.$emit("update:selected-year",t)}},methods:{onYearSelect:function(t){this.$emit("update:selected-year",Number(t.target.value))}}},U=F,z=(n("a098"),Object(C["a"])(U,E,P,!1,null,"750f469f",null)),L=z.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pq-fits lsco-col-md-9"},[n("svg-icon",{attrs:{name:"red-tab-logo",title:"Levi's Red Tab"}}),n("card-select-list",{attrs:{description:t.$t("i18n.denimStyleChoosePrompt"),"list-items":t.fitOptions},on:{itemClick:t.updateSelectedFits}},[n("dropdown-select",{staticClass:"dropdown-select lsco-col-xs-offset-2 lsco-col-xs-19 lsco-col-md-5 lsco-col-md-offset-1",attrs:{items:t.clothingTypes,"label-text":t.$t("i18n.yourDenimFit"),value:t.selectedClothingTypeValue},on:{input:function(e){return t.$emit("update:selected-clothing-type",arguments[0])}}})],1)],1)},G=[],Q=function(t,e){var n=e._c;return n("div",{staticClass:"card-select-list lsco-col-xs-offset-2 lsco-col-xs-offset-right-2 lsco-col-xs-22 lsco-col-md-7"},[n("header",{staticClass:"csl-header"},[e._v(" "+e._s(e.props.title)+" ")]),n("div",{staticClass:"csl-description lsco-col-xs-22 lsco-col-md-7"},[e._v(" "+e._s(e.props.description)+" ")]),e._t("default"),n("div",{staticClass:"csl-img-container"},e._l(e.props.listItems,(function(t){return n("figure",{key:t.id},[n("div",{staticClass:"inner-img-container"},[n("img",{staticClass:"csl-img",attrs:{src:t.src,alt:t.text?"Select "+t.text:""},on:{click:function(n){e.listeners.itemClick(t)}}}),t.selected?n("div",{staticClass:"selected-overlay",on:{click:function(n){n.stopPropagation(),e.listeners.itemClick(t)}}},[n("SvgIcon",{staticClass:"selected-overlay__check-icon",attrs:{"aria-hide":!0,name:"checkmark--style-quiz"}})],1):e._e()]),n("figcaption",{staticClass:"csl-caption"},[e._v(" "+e._s(t.text||"")+" ")])])})),0)],2)},Z=[],q={props:{title:{type:String,default:""},description:{type:String,default:""},listItems:{type:Array,default:function(){return[]},validator:function(t){return t.every((function(t){if(!t.id)throw new Error("Missing list item id.");if(!t.src)throw new Error("Missing list item src.");return!0}))}}},components:{SvgIcon:l["a"]}},Y=q,V=(n("d849"),Object(C["a"])(Y,Q,Z,!0,null,"50cb7c28",null)),H=V.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown-group"},[n("label",{attrs:{for:t.computedId}},[t._v(t._s(t.labelText))]),n("div",{staticClass:"select-container"},[n("select",{staticClass:"form-control",attrs:{disabled:t.isDisabled,id:t.computedId},on:{change:function(e){return t.$emit("input",arguments[0].target.value)}}},t._l(t.list,(function(e){return n("option",{key:e.value,domProps:{value:e.value,selected:e.value===t.value}},[t._v(" "+t._s(e.text)+" ")])})),0),n("svg-icon",{attrs:{name:"arrow-down",title:"Select"}})],1)])},K=[],X=1,J={name:"DropdownSelect",components:{SvgIcon:l["a"]},props:{id:{type:String,default:""},labelText:{type:String,default:""},isDisabled:{type:Boolean,default:!1},items:{type:[Array,Object],default:function(){return[]}},value:{type:String,default:""}},computed:{computedId:function(){return this.id||"dropdown-".concat(this.uuid)},list:function(){return this.items instanceof Object?Object.values(this.items):this.items}},beforeCreate:function(){this.uuid=X.toString(),X+=1}},tt=J,et=(n("b27b"),Object(C["a"])(tt,W,K,!1,null,"55194604",null)),nt=et.exports;function it(t){return ct(t)||rt(t)||ot(t)||st()}function st(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ot(t,e){if(t){if("string"===typeof t)return at(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(t,e):void 0}}function rt(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function ct(t){if(Array.isArray(t))return at(t)}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pt={components:{CardSelectList:H,DropdownSelect:nt,SvgIcon:l["a"]},props:{clothingTypes:{type:Object,required:!0},fitsData:{type:Object,required:!0},selectedClothingTypeValue:{type:String,default:T.BOTH,validator:function(t){var e=T.WOMEN,n=T.MEN,i=T.BOTH;return-1!==[e,n,i].indexOf(t)}},selectedFitIds:{type:Array,default:function(){return[]}}},computed:{processedFitsData:function(){return{men:this.transformFitsData(this.fitsData.men),women:this.transformFitsData(this.fitsData.women)}},selectedFitLookup:function(){return this.selectedFitIds.reduce((function(t,e){return t[e]=!0,t}),{})},fitOptions:function(){var t=this.selectedClothingTypeValue.toLowerCase();return this["".concat(t,"Fits")]},bothFits:function(){return this.womenFits.concat(this.menFits)},menFits:function(){return this.processedFitsData.men},womenFits:function(){return this.processedFitsData.women}},methods:{isFitSelected:function(t){return!0===this.selectedFitLookup[t]},transformFitsData:function(t){var e=this;return t.map((function(t){return ut(ut({},t),{},{selected:!!e.selectedFitLookup[t.id],src:t.img_desktop,text:e.$t("i18n.".concat(t.id))})}))},updateSelectedFits:function(t){var e=t.id;this.selectedFitLookup[e]?this.$emit("selectedFitsUpdate",this.selectedFitIds.filter((function(t){return t!==e}))):this.$emit("selectedFitsUpdate",[].concat(it(this.selectedFitIds),[e]))}}},ft=pt,ht=(n("3bae"),Object(C["a"])(ft,B,G,!1,null,"25b1ede0",null)),mt=ht.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pq-topics lsco-col-md-9"},[n("svg-icon",{attrs:{name:"red-tab-logo",title:"Levi's Red Tab"}}),n("card-select-list",{attrs:{description:t.$t("i18n.shoppingPreferencesDescription"),"list-items":t.topicOptions},on:{itemClick:t.updateSelectedTopics}},[n("div",{staticClass:"pq-select-all",on:{click:t.selectAll}},[t._v(" Select All ")])])],1)},gt=[];function vt(t){return Tt(t)||Ot(t)||_t(t)||bt()}function bt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _t(t,e){if(t){if("string"===typeof t)return St(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(t,e):void 0}}function Ot(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Tt(t){if(Array.isArray(t))return St(t)}function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var It,Ct={components:{CardSelectList:H,SvgIcon:l["a"]},props:{topicsData:{type:Array,default:function(){return[]}},selectedTopicIds:{type:Array,default:function(){return[]}}},computed:{selectedTopicsLookup:function(){return this.selectedTopicIds.reduce((function(t,e){return t[e]=!0,t}),{})},topicOptions:function(){var t=this;return this.topicsData.map((function(e){return{id:e.id,selected:!!t.selectedTopicsLookup[e.id],src:e.img_desktop,text:t.$t("i18n.".concat(e.id))}}))}},methods:{isTopicSelected:function(t){return!0===this.selectedTopicsLookup[t]},selectAll:function(){var t=this.topicsData.map((function(t){return t.id}));this.$emit("selectedTopicsUpdate",t)},updateSelectedTopics:function(t){var e=t.id;this.selectedTopicsLookup[e]?this.$emit("selectedTopicsUpdate",this.selectedTopicIds.filter((function(t){return t!==e}))):this.$emit("selectedTopicsUpdate",[].concat(vt(this.selectedTopicIds),[e]))}}},Nt=Ct,wt=(n("ae8c"),Object(C["a"])(Nt,yt,gt,!1,null,"0b940071",null)),Et=wt.exports;function Pt(t){return kt(t)||Dt(t)||$t(t)||jt()}function jt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $t(t,e){if(t){if("string"===typeof t)return xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(t,e):void 0}}function Dt(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function kt(t){if(Array.isArray(t))return xt(t)}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function At(t,e){if(null==t)return{};var n,i,s=Rt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Rt(t,e){if(null==t)return{};var n,i,s={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(s[n]=t[n]);return s}function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach((function(e){Ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zt={initial:_.GENDER_INTRO,states:(It={},Ut(It,_.GENDER_INTRO,{on:{GO_TO_NEXT:{target:_.BIRTHDAY},GO_TO_FITS_QUIZ:{target:_.FITS_QUIZ}}}),Ut(It,_.BIRTHDAY,{on:{GO_TO_NEXT:{target:_.FITS_QUIZ}}}),Ut(It,_.FITS_QUIZ,{on:{GO_TO_GENDER_QUIZ:{target:_.GENDER_INTRO},GO_TO_PREV:{target:_.BIRTHDAY},GO_TO_NEXT:{target:_.TOPICS_QUIZ}}}),Ut(It,_.TOPICS_QUIZ,{on:{GO_TO_PREV:{target:_.FITS_QUIZ},GO_TO_NEXT:{target:_.SUBMITTING}}}),Ut(It,_.SUBMITTING,{on:{SUBMIT_ERROR:{target:_.TOPICS_QUIZ}}}),It)},Lt=[_.GENDER_INTRO,_.BIRTHDAY,_.FITS_QUIZ,_.TOPICS_QUIZ],Bt={CLOSE:"Close",INTERACTION:"Interaction",STEP:"Step"},Gt={mixins:[Object(c["a"])(zt)],components:{SvgIcon:l["a"],ButtonsFilledAndText:h["a"],HeadingContainer:u["a"],ModalItem:a["default"],PrefQuizGenderIntro:w,PrefQuizBasic:L,PrefQuizFits:mt,PrefQuizTopics:Et,ValidationObserver:f["a"]},props:{type:{type:String,default:p["K"].INITIAL,validate:function(t){Object.values(p["K"]).includes(t)}}},data:function(){return{selectedClothingTypeValue:null,selectedFitNames:[],selectedTopicNames:[],selectedMonth:null,selectedYear:null,quizData:v}},computed:Ft(Ft(Ft(Ft(Ft({},Object(r["d"])("localization",["country","locale"])),Object(r["d"])({firstName:function(t){return t.userProfileState.record.firstName}})),Object(r["c"])("userProfileState",["clothingType","shoppingPreferences","denimStyle","birthday"])),Object(r["c"])("configState",["paths"])),{},{quizAnswersByState:function(){var t;return t={},Ut(t,_.GENDER_INTRO,this.selectedClothingTypeValue),Ut(t,_.BIRTHDAY,{month:this.selectedMonth,year:this.selectedYear}),Ut(t,_.FITS_QUIZ,"".concat(this.selectedClothingTypeValue,":").concat(this.selectedFitNames.join()||null)),Ut(t,_.TOPICS_QUIZ,this.selectedTopicNames.jOIN),t},clothingTypes:function(){return{women:{text:this.$t("i18n.WOMEN"),value:T.WOMEN},men:{text:this.$t("i18n.MEN"),value:T.MEN},both:{text:this.$t("i18n.BOTH"),value:T.BOTH},dontKnow:{text:this.$t("i18n.DONT_KNOW"),value:T.DONT_KNOW}}},clothingTypesForFits:function(){var t=this.clothingTypes,e=(t.dontKnow,At(t,["dontKnow"]));return e},selectedClothingTypeValueForFits:function(){var t=this.clothingTypes,e=t.women,n=t.men,i=t.both;return this.selectedClothingTypeValue===n.value?n.value:this.selectedClothingTypeValue===e.value?e.value:i.value},nextButtonText:function(){var t=this.$t("i18n.save"),e=this.$t("i18n.nextText");return this.stateName===this.$_states.TOPICS_QUIZ?t:e},showPrevButton:function(){var t=this.$_states,e=t.FITS_QUIZ,n=t.TOPICS_QUIZ;return this.stateName===e||this.stateName===n},userParamsForAPI:function(){return{preferences:{clothing_type:this.selectedClothingTypeValue,shopping_preferences:this.selectedTopicNames,denim_style:this.selectedFitNames,birth_date:{month:this.selectedMonth,year:this.selectedYear}}}},showRedTabHeader:function(){return this.type===p["K"].INITIAL&&this.stateName===_.GENDER_INTRO},welcomeToLevisRedTabText:function(){return"".concat(this.$t("i18n.welcomeToText")," LeviâsÂ® Red Tabâ¢")},showIntroHeader:function(){return this.type===p["K"].INITIAL&&this.stateName===_.GENDER_INTRO},rootClassObj:function(){return{"quiz-intro":this.showIntroHeader}}}),watch:{stateName:{handler:function(t){Lt.includes(t)&&this.sendAnalytics(Bt.STEP)},immediate:!0}},created:function(){this.$_states=_,this.$_types=p["K"]},mounted:function(){this.$store.dispatch("userProfileState/shallowUpdateUser",{onBoarded:!0}),this.syncQuiz()},methods:{analyticsPayload:function(t){var e=Lt.indexOf(this.stateName)+1,n=this.$t("i18n.".concat(O[this.stateName])),i=this.quizAnswersByState[this.stateName]||null,s=this.type===p["K"].INITIAL?"popup":"edit";Object(d["m"])(t,n,e,i,s)},onMRTBClick:function(){this.$router.push({path:this.paths.loyaltyCustomer}),this.close()},sendAnalytics:function(t){this.analyticsPayload(t)},syncQuiz:function(){this.selectedMonth=this.birthday.month,this.selectedYear=this.birthday.year,this.selectedFitNames=Pt(this.denimStyle),this.selectedTopicNames=Pt(this.shoppingPreferences),this.selectedClothingTypeValue=this.clothingType},close:function(){this.sendAnalytics(Bt.CLOSE),this.$emit("close")},onPreviousClicked:function(){this.stateName===_.FITS_QUIZ?this.stateService.send("GO_TO_GENDER_QUIZ"):this.stateService.send("GO_TO_PREV")},onNextClicked:function(t){this.sendAnalytics(Bt.INTERACTION),this.stateName===_.TOPICS_QUIZ?this.saveQuiz():this.goToNextQuizScreen(t)},onSkipClicked:function(t){var e=this;return this.validateWithCheck(t).then((function(n){n&&(e.sendAnalytics(Bt.INTERACTION,{skipped:!0}),e.selectedFitNames.length>e.denimStyle.length?e.selectedFitNames.forEach((function(t,n){-1===e.denimStyle.indexOf(t)&&e.selectedFitNames.splice(n)})):e.denimStyle.forEach((function(t){-1===e.selectedFitNames.indexOf(t)&&e.selectedFitNames.push(t)})),e.goToNextQuizScreen(t))}))},goToNextQuizScreen:function(t){var e=this;return this.validateWithCheck(t).then((function(t){t&&(e.stateName===_.GENDER_INTRO&&e.type===p["K"].EDIT?e.stateService.send("GO_TO_FITS_QUIZ"):e.type===p["K"].INITIAL?e.saveQuiz().then((function(){return e.stateService.send("GO_TO_NEXT")})):e.stateService.send("GO_TO_NEXT"))}))},validateWithCheck:function(t){return this.stateName!==_.BIRTHDAY?Promise.resolve(!0):t().then((function(t){var e=t.valid;return e}))},saveQuiz:function(){var t=this;return this.$store.dispatch("userProfileState/shallowUpdateUser",this.userParamsForAPI).then((function(){t.stateName===_.TOPICS_QUIZ&&(t.$emit("submitSuccess"),t.close())})).catch((function(e){throw t.stateService.send("SUBMIT_ERROR"),new Error(e)}))},updateSelectedClothingType:function(t){this.selectedClothingTypeValue===t?this.selectedClothingTypeValue=null:this.selectedClothingTypeValue=t}}},Qt=Gt,Zt=(n("44d4"),Object(C["a"])(Qt,s,o,!1,null,"0c7690fc",null));e["a"]=Zt.exports},ac6b:function(t,e,n){},ae8c:function(t,e,n){"use strict";n("4346")},b27b:function(t,e,n){"use strict";n("9d9d")},c4eb:function(t,e,n){"use strict";n("5527")},ced4:function(t,e,n){"use strict";var i=n("a34a"),s=n.n(i);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n,i,s,o,r){try{var c=t[o](r),a=c.value}catch(l){return void n(l)}c.done?e(a):Promise.resolve(a).then(i,s)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(i,s){var o=t.apply(e,n);function r(t){a(o,i,s,r,c,"next",t)}function c(t){a(o,i,s,r,c,"throw",t)}r(void 0)}))}}var u=function(t){return"string"===typeof t?{type:t}:t},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.states)throw new Error("No states found in state machine config");return{data:function(){return{stateService:null,stateName:t.initial,config:{}}},created:function(){var e=this;this.stateService={send:function(){var n=l(s.a.mark((function n(i,o){var c,a,l,d,p=arguments;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(c=!(p.length>2&&void 0!==p[2])||p[2],a=u(i),c||(e.config={}),o instanceof Object&&(e.config=r(r({},e.config),o)),l=t.states[e.stateName],null!==l&&void 0!==l&&l.on){n.next=7;break}return n.abrupt("return",void 0);case 7:return d=l.on[a.type],e._handleStateMachineEventConfig(d,a),n.abrupt("return",void 0);case 10:case"end":return n.stop()}}),n)})));function i(t,e){return n.apply(this,arguments)}return i}()}},methods:{_handleStateMachineEventConfig:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[].concat(e),s=i.find((function(e){return!e.cond||e.cond(t.config,n)}));s&&this._handleStateMachineEventConfigItem(s)},_handleStateMachineEventConfigItem:function(t){return t.target&&(this.stateName=t.target),t.actions?t.actions({c:this}):null}}}};e["a"]=d},d849:function(t,e,n){"use strict";n("5371")},fae7:function(t,e,n){}}]);