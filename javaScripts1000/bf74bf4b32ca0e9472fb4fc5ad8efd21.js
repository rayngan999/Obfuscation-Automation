define("services/analytics",["FR","jquery","underscore","services/analyticsHelper"],function(e,t,n,i){var a={seen:{},elementsTrackingSeen:t()},r=function(){t(document).on("click",'a[data-track="click"][href]',function(e){void 0===t(e.currentTarget).attr("data-disable-link-delay")&&i.delayLinkRedirect(e,i.getPageExitDelay())});var r=n.throttle(function(){a.elementsTrackingSeen=t('[data-track*="seen"]'),o(a.elementsTrackingSeen)},250);i.whenAnplReady(function(){r()}),e.$el.window.on("click DigitalDataDOM_Ready DigitalDataDOM_Changed",r);var c=n.throttle(function(){o(a.elementsTrackingSeen)},250);e.$el.window.on("scroll scrollstart touchmove resize",c)},o=function(e){e.each(function(){var e=t(this);if(e.is(":visible")){var n=e.attr("id")||"MissingID";if(!(void 0===a.seen[n]||!a.seen[n]))return;c(e)&&(a.seen[n]=!0,e.trigger("seen"))}})};function c(e){var t=e[0].getBoundingClientRect(),n={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};return(Math.min(t.right,n.right)-Math.max(t.left,n.left))*(Math.min(t.bottom,n.bottom)-Math.max(t.top,n.top))>0}return t(function(){r()}),{isElementInViewport:c}});
//# sourceMappingURL=analytics.js.map
