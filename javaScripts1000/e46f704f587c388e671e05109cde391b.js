(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["errors","client-errors-pages-status-error-page"],{"+60N":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f}));n("rB9j"),n("UxlC");var r=n("04Ix"),a=n.n(r),o=n("J2m7"),i=n.n(o),c="mnogo_ru",s=[c],u=a()({},c,'<svg viewBox="0 0 80 24" width="80" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.184 21.901a6.204 6.204 0 00.66.218c1.602.419 3.553-.324 5.161-1.5 1.814-1.32 3.342-2.925 5.158-3.745.035-.016.082-.037.134-.057l.09-.038c.15-.058.33-.123.497-.179v-2.2c-1.919.524-3.913 1.855-5.888 2.8-3.382 1.735-6.067 1.627-8.996-.19v2.718c.997.939 2.002 1.68 3.045 2.118l.14.055zM10.016 7.475c2.263-.243 3.75.066 4.867.577-.002-2.085-.825-2.543-1.41-3.092-.586-.55-.791-1.006-.791-1.598 0-.373.103-.685.233-.931l-.015-.007c-1.715-.617-3.12-.451-4.35.13l-.002.015v-.013c-.784.372-1.504.901-2.202 1.48l-1.071.924C3.675 6.37 2.06 7.732.009 7.695.003 7.81 0 7.932 0 8.059v2.064c.181.016.363.022.546.02 3.08-.038 6.507-2.496 9.47-2.668z" fill="#D2DC00"/><path d="M11.66 12.538l-.022.004-.455.111C7.475 13.566 3.708 15.198 0 13.765v3.244c2.929 1.818 5.614 1.926 8.996.192 1.975-.946 3.97-2.277 5.888-2.801v-2.275c-1.258.004-2.2.172-3.223.413zM6.346 4.035c.698-.578 1.418-1.107 2.202-1.479v.013l.003-.015c1.228-.581 2.634-.747 4.349-.13l.015.007c.125-.233.273-.408.383-.519a.558.558 0 00.164-.37L13.46.856A.855.855 0 0012.6 0H2.283a.856.856 0 00-.86.856v.746c0 .099.048.2.118.268.218.205.661.717.661 1.492 0 .592-.205 1.049-.791 1.598C.86 5.476.1 5.912.009 7.695c2.052.037 3.666-1.324 5.266-2.735l1.07-.925z" fill="#FA3264"/><path d="M11.183 12.653l.455-.11.023-.005c1.023-.24 1.965-.409 3.223-.413V8.06l-.001-.007c-1.116-.51-2.604-.82-4.867-.577-2.963.172-6.39 2.63-9.47 2.668a5.424 5.424 0 01-.546-.02v3.642c3.708 1.433 7.475-.199 11.183-1.112zM2.307 24h10.27c1.337 0 2.307-.92 2.307-2.273V16.6c-.167.056-.348.121-.497.18l-.09.037c-.052.02-.099.041-.134.057-1.816.82-3.344 2.425-5.158 3.746-1.608 1.175-3.56 1.918-5.16 1.5a5.436 5.436 0 01-.66-.219l-.14-.055C2.002 21.408.997 20.666 0 19.728v2C0 23.08.97 24 2.307 24z" fill="#782882"/><path opacity=".4" d="M12.476 1.497c.22 0 .397-.178.397-.397l-.001-.244A.261.261 0 0012.6.6H2.282a.262.262 0 00-.272.256v.275c0 .202.163.366.365.366h10.101z" fill="url(#paint0_linear)"/><path opacity=".4" d="M1.058 22.937c-.285-.278-.47-.685-.47-1.21V8.06c0-.595.056-1.23.36-1.75.059-.1.122-.19.19-.271 0 0 1.576-2.4 6.303-2.4 4.728 0 6.303 2.4 6.303 2.4.084.1.16.208.228.337.173.325.322.825.323 1.678v13.674c0 .525-.184.932-.47 1.21-.288.28-.713.463-1.248.463H2.306c-.536 0-.961-.182-1.249-.463z" fill="url(#paint1_linear)"/><path d="M48.17 16.556c-1.277 0-1.636-1.525-1.636-2.739 0-1.216.36-2.743 1.636-2.743 1.274 0 1.633 1.527 1.633 2.743 0 1.214-.36 2.74-1.633 2.74zm0-7.085c-3.202 0-4.108 2.419-4.108 4.346 0 1.925.906 4.342 4.108 4.342 3.2 0 4.106-2.417 4.106-4.342 0-1.927-.906-4.346-4.106-4.346zM63.681 16.556c-1.274 0-1.634-1.525-1.634-2.739 0-1.216.36-2.743 1.634-2.743 1.276 0 1.636 1.527 1.636 2.743 0 1.214-.36 2.74-1.636 2.74zm0-7.085c-3.201 0-4.105 2.419-4.105 4.346 0 1.925.904 4.342 4.105 4.342 3.2 0 4.107-2.417 4.107-4.342 0-1.927-.907-4.346-4.107-4.346zM42.48 15.925V9.749h-2.23v3.257h-2.66V9.749h-2.23c-.199.07-.598.352-.598.974 0 .568.467.845.597.933v6.3h2.232v-3.255h2.66v.981c0 .669.013 2.45 1.977 2.45 0 0 .808.018 1.36-.436l-.33-1.1s-.778.075-.778-.671zM55.368 15.859c-.253-1.003.916-1.127 2.083-1.84 1.153-.707 1.368-1.835 1.197-2.636-.259-1.21-1.38-2.115-3.063-1.959-1.508.14-2.274.924-2.274.924l.45 1.217c1.637-.69 2.649-.741 2.834.099.171.776-.646 1.035-1.691 1.51-1.941.884-1.991 2.074-1.799 3.084.328 1.723 1.884 1.942 3.018 1.942 1.913 0 2.943-1.018 2.943-1.018l-.448-1.251s-2.95 1.1-3.25-.072zM34.024 17.696l-.33-1.1s-.777.075-.777-.671V9.749h-2.234l-2.329 5.056-2.019-5.056h-2.15c-.346.1-.63.541-.637.917-.01.475.202.778.542.973 0 0-.068 1.838-.275 3.646-.168 1.48-1.303 1.414-1.303 1.414l-.114 1.125c.279.256.838.372 1.214.345 1.211-.09 1.849-.564 2.125-2.24.127-.77.19-2.15.19-2.15l1.745 4.178h1.16l1.851-4.006s.107 1.283.134 1.773c.025.492.152 2.444 1.847 2.444 0 0 .887-.018 1.36-.472zM71.81 10.442l-.006-.697-1.351.005v.006a.611.611 0 00-.386.57c0 .26.159.482.386.571v3.785h1.386v-3.296c.733-.744 1.957-.44 1.957-.44s.134-.817.238-1.238c-1.348-.386-2.223.734-2.223.734zM79.788 13.534s-.511.052-.511-.394V9.736h-1.388v3.408s-.302.347-.902.347c-.36 0-.525-.16-.615-.32a.766.766 0 01-.08-.22c-.011-.062-.011-.1-.011-.1V9.736h-1.389s-.402.183-.402.607c0 .33.208.556.402.627v1.915c0 .12.015.518.226.89.214.373.632.716 1.401.716.951 0 1.283-.343 1.555-.51.116.28.483.605.963.605.594 0 .963-.368.963-.368l-.212-.684z" fill="#782882"/><defs><linearGradient id="paint0_linear" x1="2.009" y1="1.049" x2="12.874" y2="1.049" gradientUnits="userSpaceOnUse"><stop stop-color="#fff" stop-opacity=".8"/><stop offset=".143" stop-color="#fff" stop-opacity="0"/><stop offset=".658" stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#fff" stop-opacity=".8"/></linearGradient><linearGradient id="paint1_linear" x1=".588" y1="13.519" x2="14.295" y2="13.519" gradientUnits="userSpaceOnUse"><stop stop-color="#fff" stop-opacity=".8"/><stop offset=".143" stop-color="#fff" stop-opacity="0"/><stop offset=".658" stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#fff" stop-opacity=".8"/></linearGradient></defs></svg>\n'),l=a()({},c,"Mnogo.ru"),d=a()({},c,"http://mnogo.ru/anketa.html?range=1334"),p=function(e){return e.replace(/\D/g,"")},f=function(e,t){return i()(e,(function(e){return e.partner===t}))}},"+FvS":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n("BezJ"),a=n.n(r),o=n("/zpq");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:302,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw{response:{status:t,location:e,rememberCurrentUrl:n}}}function c(){o.a.isServer()&&i.apply(void 0,arguments)}function s(e){var t=a.a.load("redirectedFrom");return t&&(a.a.remove("redirectedFrom"),a.a.remove("redirectedFrom",{domain:e})),t}},"+Jaz":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("EcSs"),a=n.n(r),o=n("tpxy"),i=n.n(o),c=n("06Pm"),s=n.n(c),u=n("kA7L"),l=n.n(u),d=n("X5/F"),p=n.n(d),f=n("K82H"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("q1tI"),g=n.n(_),b=n("TSYQ"),O=n.n(b),S=(n("28mh"),function(e){p()(n,e);var t=h()(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getClassName",value:function(){var e=this.props,t=e.rank,n=e.looksLike,r=e.kind,a=e.centered,o=e.extraLarge,i=e.className,c=n||t;return O()("heading","heading_".concat(c),"heading_".concat(r),i,{heading_centered:a,heading_extra_large:o})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.rank,r=e.disableHeadingTag,o=i()(e,["children","rank","disableHeadingTag"]);if(r)return g.a.createElement("div",{className:this.getClassName()},t);var c="h".concat(n);return g.a.createElement(c,a()({},o,{className:this.getClassName()}),t)}}]),n}(_.Component));v()(S,"defaultProps",{rank:1,kind:"default",disableHeadingTag:false,centered:false})},"/7tg":function(e,t,n){},"/iVZ":function(e,t,n){"use strict";t.a='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.501 5c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5 7.5-3.358 7.5-7.5-3.358-7.5-7.5-7.5zm0 14c-3.584 0-6.5-2.916-6.5-6.5s2.916-6.5 6.5-6.5 6.5 2.916 6.5 6.5-2.916 6.5-6.5 6.5z"/><path d="m15.147 10.146-3.646 3.646-1.646-1.646c-.195-.195-.512-.195-.707 0s-.195.512 0 .707l2 2c.097.098.225.147.353.147s.256-.049.354-.146l4-4c.195-.195.195-.512 0-.707s-.512-.196-.708-.001z"/></svg>'},"/y9P":function(e,t,n){},"/zpq":function(e,t,n){"use strict";(function(e){n("oVuX"),n("qePV"),n("rB9j"),n("UxlC");var r=n("5PDf"),a=n.n(r),o=n("WxoT"),i=n.n(o),c=e?e.env:window.CLIENT_PARAMS;t.a={requiredBuildParams:["DEV_TOOL","APP_ENV","NODE_ENV","NOTIFIER","GIT_COMMIT","DROP_CONSOLE","SPEED_ANALYZER","CIRCULAR_CHECK","SERVER_ADDRESS","MINIMIZE_CLIENT","BUNDLE_ANALYZER","DEV_TOOL_SERVER","MINIMIZE_SERVER","BUNDLE_ANALYZER_PORT","ROLLBAR_TOKEN_SERVER"],get value(){return this.isClient()?window.CLIENT_PARAMS.env:e.env.APP_ENV},isClient:function(){return"undefined"!=typeof window},isServer:function(){return!this.isClient()},isDevelopment:function(){return"development"===this.value},isStaging:function(){return"staging"===this.value},isProduction:function(){return"production"===this.value},isTest:function(){return"test"===this.value},getParam:function(e){return(c[e]||"").replace(/"/g,"")},getParamAsNumber:function(e){return Number(this.getParam(e))},getParamAsBoolean:function(e){return"true"===this.getParam(e)},getDynamicParam:function(e){if(this.isDevelopment()){var t=this.getParam(e);return"true"===t||"false"===t?t:i()(t)}return"$REPLACE_ME(".concat(e,")")},checkEnvParams:function(e){var t=this,n=a()(e).call(e,(function(e){return!t.getParam(e)}));if(n.length>0)throw new Error("Absent env params: ".concat(n.join("; ")))}}}).call(this,n("8oxB"))},"0A2V":function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return U}));n("oVuX");var r=n("ZbhI"),a=n.n(r),o=n("Kwsy"),i=n.n(o),c=n("RXMP"),s=n.n(c),u=n("6UaR"),l=n.n(u),d=n("o+MX"),p=n.n(d),f=n("WxoT"),h=n.n(f),m=n("nhkr"),v=n.n(m),_=n("FLGM"),g=n.n(_),b=n("YO3V"),O=n.n(b),S=n("UF4K"),E=n.n(S),k=n("06Pm"),y=n.n(k),C=n("kA7L"),A=n.n(C),w=n("04Ix"),R=n.n(w),I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;y()(this,e),R()(this,"limit",void 0),R()(this,"_cache",void 0),R()(this,"size",void 0),R()(this,"head",void 0),R()(this,"tail",void 0),this.limit=t,this._cache=new E.a,this.size=0,this.head=null,this.tail=null}return A()(e,[{key:"set",value:function(e,t){var n={key:e,value:t};this._cache.set(e,n),this.tail?(this.tail.next=n,n.prev=this.tail):this.head=n,this.tail=n,this.size++===this.limit&&this.purge()}},{key:"get",value:function(e){var t=this._cache.get(e),n=t.value;return t===this.tail||(t.next&&(t===this.head&&(this.head=t.next),t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t.next=null,t.prev=this.tail,this.tail&&(this.tail.next=t),this.tail=t),n}},{key:"has",value:function(e){return this._cache.has(e)}},{key:"purge",value:function(){var e=this.head;this.head.next&&(this.head=this.head.next,this.head.prev=null),this._cache.delete(e.key),e.prev=null,e.next=null,this.size--}},{key:"purgeKey",value:function(e){var t=this._cache.get(e);t&&(t===this.head&&(this.head=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),this._cache.delete(e),t=null,this.size--)}}]),e}();function L(e,t){var n;return t=g()(t).call(t,(function(e){return"object"===v()(e)?h()(e):e})).join(","),p()(n="".concat(e,":")).call(n,t)}function T(e,t,n){return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var i=e.apply(void 0,a),c=a[a.length-1];return O()(c)&&c.force||(i.cacheKey=L(t,a),i.invalidateActions=n),i}}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=n.dispatch,o=n.getState;return function(n){return function(c){var u=c.cacheKey,d=c.invalidateActions;if(l()(d)&&s()(d).call(d,(function(e){t[e]=t[e]||{},t[e][u]=true})),!u||"function"!=typeof c){if(c.type in t)for(var p in t[c.type])e.purgeKey(p);return n(c)}if(!e.has(u))return c((function(t){return 0===a()(u).call(u,"".concat(t.type,":"))&&e.set(u,t),r(t)}),o);i()((function(){return n(e.get(u))}))}}}}},"0Cf8":function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return y}));var r=n("kT1S"),a=n.n(r),o=n("04Ix"),i=n.n(o),c=n("FLGM"),s=n.n(c),u=n("ZDpU"),l=n("QkVN"),d=n.n(l),p=n("E+oP"),f=n.n(p),h=n("3L7n"),m=n("RfSM"),v="USER_FOLLOWING",_="USER_FOLLOW",g="USER_UNFOLLOW";function b(e,t){return e.entities.users[t]||{}}function O(e,t){return s()(t).call(t,(function(t){return b(e,t)}))}function S(e,t){var n;return n={},i()(n,u.a,{endpoint:"/p/api/v5/users/".concat(e,"/followings"),options:{method:"post",dontParse:true},onSuccess:function(e){e(Object(h.N)(h.l,t))},types:[v,_]}),i()(n,"data",{login:e}),n}function E(e){var t;return t={},i()(t,u.a,{endpoint:"/p/api/v5/users/".concat(e.login,"/followings"),options:{method:"delete",dontParse:true},onSuccess:function(t){t(Object(h.N)(h.u,{object_type:"user",object_id:e.id}))},types:[v,g]}),i()(t,"data",{login:e.login}),t}var k={};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,n=Object(m.a)(e,t,"users");if(!f()(n))return n;switch(t.type){case _:return a()(a()({},e),{},i()({},t.data.login,d()({},e[t.data.login],{following:true})));case g:return a()(a()({},e),{},i()({},t.data.login,d()({},e[t.data.login],{following:false})));default:return e}}},"0SmT":function(e,t,n){e.exports=n.p+"af60106fba7bf4ab3f2d0221cf8cd224.png"},"0n1c":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p}));var r="book",a="serial",o="audiobook",i="comicbook",c="series",s="bookshelf",u="banner",l="post",d="library",p="mixed"},"0qyx":function(e,t,n){},"1JdC":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("EcSs"),a=n.n(r),o=n("tpxy"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("06Pm"),l=n.n(u),d=n("kA7L"),p=n.n(d),f=n("hO3g"),h=n.n(f),m=n("X5/F"),v=n.n(m),_=n("K82H"),g=n.n(_),b=n("04Ix"),O=n.n(b),S=n("q1tI"),E=n.n(S),k=n("TSYQ"),y=n.n(k),C=(n("wETO"),function(e){v()(n,e);var t=g()(n);function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,s()(e=[this]).call(e,o)),O()(h()(r),"input",void 0),r}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.kind,r=t.error,o=t.icon,c=t.className,s=i()(t,["kind","error","icon","className"]),u=y()("input",n&&"input_".concat(n),{input_icon:o,input_error:r},c),l={};return o&&(l.backgroundImage="url(".concat(o,")")),E.a.createElement("input",a()({className:u,autoComplete:"on",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",ref:function(t){return e.input=t},style:l},s))}},{key:"getElement",value:function(){return this.input}},{key:"getValue",value:function(){return this.input instanceof HTMLInputElement?this.input.value:""}},{key:"setValue",value:function(e){this.input instanceof HTMLInputElement&&(this.input.value=e)}},{key:"focus",value:function(){this.input instanceof HTMLInputElement&&this.input.focus()}},{key:"blur",value:function(){this.input instanceof HTMLInputElement&&this.input.blur()}}]),n}(S.Component))},"1Zzt":function(e,t,n){},"1wMt":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"f",(function(){return A})),n.d(t,"e",(function(){return w})),n.d(t,"c",(function(){return R})),n.d(t,"h",(function(){return I})),n.d(t,"g",(function(){return L})),n.d(t,"d",(function(){return U}));var r=n("04Ix"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=n("XiPH"),s=n("QkVN"),u=n.n(s),l=n("JZM8"),d=n.n(l),p=n("Puqe"),f=n.n(p),h=n("22CO"),m=n("3L7n"),v=n("nJ1H"),_=n("ZDpU"),g=n("F6cB"),b=n("FSMw"),O=b.a.COMICBOOK_CARD_ADDING,S=b.a.COMICBOOK_CARD_ADDED,E=b.a.COMICBOOK_CARD_CHANGING,k=b.a.COMICBOOK_CARD_CHANGED,y=b.a.COMICBOOK_CARD_REMOVING,C=b.a.COMICBOOK_CARD_REMOVED;function A(e,t){return Object(c.denormalize)(t,h.i,e.entities)}function w(e,t){return Object(c.denormalize)(t,h.h,e.entities)||{}}function R(e,t){var n={comic_card:i()(i()({},e),{},{comicbook_uuid:t.uuid})},r=t.bookshelfId;return r&&(n.comicbook={bookshelf_uuid:r}),a()({},_.a,{endpoint:"/p/api/v5/profile/comic_cards",options:{method:"post",data:n},normalize:function(e,t){var n=e.comic_card,r=t.getState,a=n.comicbook.uuid,o=w(r(),a);return n=d()(n,["hidden","progress","state","uuid"]),{comicbook:{uuid:o.uuid,readers_count:o.readers_count+1,comic_card:n}}},onSuccess:function(n,r,a){var o=a.comicbook.comic_card,i={auto:false,comic_id:t.uuid,state:e.state?e.state:"not_finished",is_public:!o.hidden};n(Object(m.N)(m.h,i))},types:[O,S]})}function I(e){return a()({},_.a,{endpoint:"/p/api/v5/profile/comic_cards/".concat(e.uuid),options:{method:"put",data:{comic_card:e}},normalize:function(e){var t=e.comic_card,n=t.comicbook;return{comicbook:{uuid:n.uuid,readers_count:n.readers_count,comic_card:t=d()(t,["hidden","progress","state","uuid"])}}},types:[E,k]})}function L(e){return a()({},_.a,{endpoint:"/p/api/v5/profile/comic_cards/".concat(e.comic_card.uuid),options:{method:"delete"},normalize:function(e,t){var n=e.comic_card,r=t.getState,a=n.comicbook.uuid,o=w(r(),a);return{comicbook:{uuid:o.uuid,comic_card:null,readers_count:o.readers_count-1}}},onSuccess:function(e,t,n){var r=n.comicbook,a=t().currentUser.data.login;e(Object(v.p)(a)),e(Object(m.N)(m.u,{object_type:"comic",object_id:r.uuid}))},types:[y,C]})}function T(e,t){var n=e[t.comicbook.uuid];return i()(i()({},e),{},a()({},n.uuid,i()(i()({},n),{},{comic_card:t.comicbook.comic_card,readers_count:t.comicbook.readers_count})))}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.entities&&t.entities.comicbooks)return u()({},e,t.entities.comicbooks);switch(t.type){case S:case C:case k:return T(e,t);case g.a:if("comicbook"===t.resourceType){var n=e[t.resourceUuid];return i()(i()({},e),{},a()({},t.resourceUuid,i()(i()({},n),{},{impression_uuid:t.impression.uuid,impressions_count:n.impressions_count+1})))}return e;case g.g:if("comicbook"===t.resourceType){var r=e[t.resourceUuid];return r=f()(r),i()(i()({},e),{},a()({},t.resourceUuid,i()(i()({},r),{},{impressions_count:r.impressions_count-1})))}return e;default:return e}}},"1yXu":function(e,t,n){var r={"./apple-touch-icon-114x114.png":"0SmT","./apple-touch-icon-120x120.png":"RL1v","./apple-touch-icon-144x144.png":"oBWf","./apple-touch-icon-152x152.png":"k5oh","./apple-touch-icon-180x180.png":"kY5W","./apple-touch-icon-57x57.png":"xO7V","./apple-touch-icon-60x60.png":"mYrb","./apple-touch-icon-72x72.png":"lzRn","./apple-touch-icon-76x76.png":"3GEo"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="1yXu"},2:function(e,t,n){e.exports=n("4NDp")},"22CO":function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return S})),n.d(t,"o",(function(){return E})),n.d(t,"n",(function(){return k})),n.d(t,"r",(function(){return y})),n.d(t,"s",(function(){return C})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return w})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return I}));var r=n("FLGM"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=n("XiPH"),s=n("Puqe"),u=n.n(s),l={books:"book",comics:"comicbook",audio:"audiobook",podcast:"audiobook"},d=new c.schema.Entity("libraryCards",{},{idAttribute:"uuid"}),p=new c.schema.Array(d),f=new c.schema.Entity("books",{library_card:d},{idAttribute:"uuid",processStrategy:function(e){var t;return u()(i()(i()({},e),{},{resourceType:"serial"===e.source_type?"serial":"book",topics:e.topics&&"string"==typeof e.topics[0]?a()(t=e.topics).call(t,(function(e){return{title:e,uuid:null}})):e.topics,authors:e.authors_objects?e.authors_objects:e.authors}),"authors_objects")}}),h=new c.schema.Array(f),m=new c.schema.Entity("audioCards",{},{idAttribute:"uuid"}),v=new c.schema.Entity("audiobooks",{audio_card:m},{idAttribute:"uuid",processStrategy:function(e){return i()(i()({},e),{},{resourceType:"audiobook"})}}),_=new c.schema.Array(v),g=new c.schema.Entity("authors",{},{idAttribute:"uuid"}),b=new c.schema.Array(g),O=new c.schema.Entity("comicbooks",{},{idAttribute:"uuid",processStrategy:function(e){return i()(i()({},e),{},{resourceType:"comicbook"})}}),S=new c.schema.Array(O),E=new c.schema.Entity("series",{authors:b},{idAttribute:"uuid",processStrategy:function(e){var t;return i()(i()({},e),{},{resourcesTypes:a()(t=e.kinds).call(t,(function(e){return l[e]}))})}}),k=new c.schema.Array(E),y=new c.schema.Entity("users",{},{idAttribute:"login"}),C=new c.schema.Array(y),A=new c.schema.Entity("shelves",{},{idAttribute:"uuid",processStrategy:function(e){var t;e.topics&&"string"==typeof e.topics[0]&&(e.topics=a()(t=e.topics).call(t,(function(e){return{title:e,uuid:null}})));return e}});A.define({creator:y});var w=new c.schema.Array(A),R={book:f,audiobook:v,comicbook:O,series:E,shelf:A},I={books:h,audiobooks:_,comicbooks:S,series:k,shelves:w}},"28mh":function(e,t,n){},"2HMc":function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return y}));var r=n("kT1S"),a=n.n(r),o=n("a0dU"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=(n("ls82"),n("SPx3")),l=n.n(u),d=n("04Ix"),p=n.n(d),f=n("ZDpU"),h="ALL_USER_LANGUAGES_SUCCESS",m="ALL_LIBRARY_LANGUAGES_SUCCESS",v="AVAILABLE_USER_LANGUAGES",_="CURRENT_USER_LANGUAGE_TRANSLATIONS_LOAD",g="CURRENT_USER_LANGUAGE_TRANSLATIONS_LOAD_SUCCESS",b="CURRENT_USER_LANGUAGE_TRANSLATIONS_LOAD_ERROR";function O(){return p()({},f.a,{endpoint:"/p/a/4/locales",modifyResponse:function(e){return{data:e}},types:["ALL_USER_LANGUAGES",h]})}function S(e){return{type:v,data:e}}function E(e){return function(){var t=l()(i.a.mark((function t(n,r){var a,o,c,u,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),u=c.app.pointName,l=c.currentUser,!c.languages.translations[e]){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n(p()({},f.a,{endpoint:s()(a=s()(o="/locales/".concat(u,"/")).call(o,e,"/")).call(a,l.data.country),modifyResponse:function(t){var n=t.data;return"string"==typeof n&&(n=new Function("return ".concat(n))()),{translations:n,locale:e}},types:[_,g,b]}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var k={translations:{},allUserLanguages:[],allLibraryLanguages:[],availableUserLanguages:{all:true},availableLibraryLanguages:{all:true},loaded:false,loading:false,error:null};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return a()(a()({},e),{},{allUserLanguages:t.data});case m:return a()(a()({},e),{},{allLibraryLanguages:t.data});case v:return a()(a()({},e),{},{availableUserLanguages:t.data});case _:return a()(a()({},e),{},{loading:true});case g:return a()(a()({},e),{},{translations:a()(a()({},e.translations),{},p()({},t.locale,t.translations)),loaded:true,loading:false,error:null});case b:return a()(a()({},e),{},{loaded:false,loading:false,error:t.error});default:return e}}},"2Jkp":function(e,t,n){},"2i0I":function(e,t,n){"use strict";var r=n("EcSs"),a=n.n(r),o=n("tpxy"),i=n.n(o),c=n("06Pm"),s=n.n(c),u=n("kA7L"),l=n.n(u),d=n("X5/F"),p=n.n(d),f=n("K82H"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("q1tI"),g=n.n(_),b=n("TSYQ"),O=n.n(b),S=n("va4D"),E=n.n(S),k=n("Puqe"),y=n.n(k),C=(n("JjD4"),n("eixT")),A=n("PpkX"),w=g.a.createElement(C.a,null),R=g.a.createElement(C.a,null),I=g.a.createElement(C.a,null),L=function(e){p()(n,e);var t=h()(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"classes",value:function(){var e,t=this.props,n=t.kind,r=t.type,a=t.disabled,o=t.loading,i=t.hidden,c=t.active,s=t.className,u="twitter"===n?"tw":n,l=u?"button_".concat(u):"",d=r?"button_".concat(r):"";return O()((e={button:true},v()(e,l,u),v()(e,d,r),v()(e,"button_loading",o),v()(e,"button_hidden",i),v()(e,"button_disabled",a),v()(e,"button_active",c),v()(e,s,s),e))}},{key:"renderButton",value:function(){var e=this.props,t=e.children,n=e.icon,r=e.disabled,o=e.loading,c=e.width,s=i()(e,["children","icon","disabled","loading","width"]);return g.a.createElement("button",a()({className:this.classes()},y()(s,["pseudo","active","path","dscvr","type","kind","className"]),{type:"submit",disabled:r||o,style:{minWidth:c}}),n&&g.a.createElement(E.a,{svg:n,className:"button__icon"}),o?w:t)}},{key:"renderPseudo",value:function(){var e=this.props,t=e.children,n=e.icon,r=e.disabled,o=e.loading,c=e.width,s=i()(e,["children","icon","disabled","loading","width"]);return g.a.createElement("div",a()({className:this.classes()},y()(s,["pseudo","active","path","dscvr","type","kind","className"]),{disabled:r||o,style:{minWidth:c}}),n&&g.a.createElement(E.a,{svg:n,className:"button__icon"}),o?R:t)}},{key:"renderLink",value:function(){var e=this.props,t=e.children,n=e.icon,r=e.disabled,o=e.loading,c=e.width,s=e.dscvr,u=e.path,l=e.target,d=i()(e,["children","icon","disabled","loading","width","dscvr","path","target"]);return g.a.createElement(A.a,a()({path:u,className:this.classes()},y()(d,["pseudo","active","type","kind","className"]),{disabled:r||o,style:{minWidth:c},dscvr:s,target:l?"_blank":"_self"}),n&&g.a.createElement(E.a,{svg:n,className:"button__icon"}),o?I:t)}},{key:"render",value:function(){var e=this.props,t=e.pseudo,n=void 0!==t&&t;return e.path?this.renderLink():n?this.renderPseudo():this.renderButton()}}]),n}(_.Component);v()(L,"defaultProps",{disabled:false,loading:false,hidden:false,pseudo:false,active:false,className:""}),t.a=L},"2m0P":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return R}));var r=n("a0dU"),a=n.n(r),o=(n("ls82"),n("SPx3")),i=n.n(o),c=n("04Ix"),s=n.n(c),u=n("kT1S"),l=n.n(u),d=n("Puqe"),p=n.n(d),f=n("QkVN"),h=n.n(f),m=n("ZDpU"),v=n("W6YQ"),_=n("fYg3"),g=n("nJ1H"),b=n("22CO"),O=n("3L7n"),S="AUDIO_CARD_CHANGE",E="AUDIO_CARD_CHANGED",k="AUDIO_CARD_REMOVED";function y(e,t){var n={audio_card:l()(l()({},e),{},{audiobook_uuid:t.uuid})},r=t.bookshelfId;return r&&(n.audiobook={bookshelf_id:r}),s()({},m.a,{endpoint:"/p/api/v5/profile/audio_cards",options:{method:"post",data:n},schema:b.c,responseKey:"audio_card",rawResponseKeys:["audio_card"],modifyResponse:function(e){return{reason:"added",audiobook:{uuid:t.uuid,audio_card:e.result}}},onSuccess:function(n){var r={auto:false,audiobook_id:t.uuid};r.state=e.state?e.state:"not_finished",r.is_public=!e.hidden,n(Object(O.N)(O.b,r))},types:[S,v.a]})}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()({},m.a,{endpoint:"/p/api/v5/profile/audio_cards/".concat(e.uuid),options:{method:"put",data:{audio_card:e}},schema:b.c,responseKey:"audio_card",types:[S,E]})}function A(e,t){return s()({},m.a,{endpoint:"/p/api/v5/profile/audio_cards/".concat(e.uuid),options:{method:"delete"},rawResponseKeys:["audio_card"],onSuccess:(n=i()(a.a.mark((function n(r,o,i){var c,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o(),s=c.currentUser.data.login,n.next=3,r(Object(g.p)(s));case 3:r({type:k,data:e}),r({type:v.a,reason:"removed",audiobook:{uuid:t.uuid,audio_card:i.result}}),r(Object(O.N)(O.u,{object_type:"audiobook",object_id:t.uuid}));case 6:case"end":return n.stop()}}),n)}))),function(e,t,r){return n.apply(this,arguments)}),types:[S]});var n}function w(e){return function(){var t=i()(a.a.mark((function t(n,r){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.audio_card){t.next=5;break}return t.next=4,n(Object(v.c)(e.uuid));case 4:e=Object(_.b)(r(),e.uuid);case 5:return o={uuid:e.audio_card.uuid},t.abrupt("return",n(A(o,e)));case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.entities&&t.entities.audioCards)return h()({},e,t.entities.audioCards);switch(t.type){case k:return p()(e,t.uuid);default:return e}}},"2rBH":function(e,t,n){"use strict";var r=n("o+MX"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("hO3g"),l=n.n(u),d=n("X5/F"),p=n.n(d),f=n("K82H"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("q1tI"),g=n.n(_),b=n("HMs9"),O=n.n(b),S=n("dRu9"),E=n("AOYn"),k=(n("H+Nm"),g.a.createElement("style",null,".lazyload-placeholder { display: none; }")),y=function(e){p()(n,e);var t=h()(n);function n(){var e,r;i()(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return r=t.call.apply(t,a()(e=[this]).call(e,c)),v()(l()(r),"state",{loaded:false}),v()(l()(r),"getSourcesWithParams",(function(e,t,n){var r,o=Object(E.b)(e,v()({},t,n)),i=Object(E.b)(e,v()({},t,2*n));return{src:i,srcSet:a()(r="".concat(o," 1x, ")).call(r,i," 2x")}})),v()(l()(r),"getImageSources",(function(){var e=r.props,t=e.src,n=e.setSizeBy;if(!t)return{src:""};var a={src:t},o=n&&r.props[n];return n&&"number"==typeof o&&(a=r.getSourcesWithParams(t,n,o)),a})),r}return s()(n,[{key:"componentDidMount",value:function(){this.setState({loaded:true})}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.alt,r=e.width,a=e.height,o=this.state.loaded,i=this.getImageSources(),c=i.src,s=i.srcSet,u={width:r,height:a,backgroundImage:t?"url(data:image/png;base64,".concat(t,")"):void 0},l=function(e){return{className:"progressive-image progressive-image_".concat(e),src:c,srcSet:s,alt:n,width:r,height:a}};return g.a.createElement("div",{className:"progressive-cover",style:u},g.a.createElement(O.a,{height:a},g.a.createElement(S.e,{key:c,in:o,timeout:200,mountOnEnter:true,appear:true},(function(e){return g.a.createElement("img",l(e))}))),g.a.createElement("noscript",null,k,g.a.createElement("img",l("entered"))))}}]),n}(_.Component);t.a=y},"2u4x":function(e,t,n){},3:function(e,t){},"3GEo":function(e,t,n){e.exports=n.p+"883fc11206a13fa2c1fa348e57027e9f.png"},"3L7n":function(e,t,n){"use strict";n.d(t,"j",(function(){return u})),n.d(t,"x",(function(){return l})),n.d(t,"D",(function(){return h})),n.d(t,"o",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return _})),n.d(t,"h",(function(){return g})),n.d(t,"l",(function(){return b})),n.d(t,"F",(function(){return O})),n.d(t,"I",(function(){return S})),n.d(t,"J",(function(){return E})),n.d(t,"H",(function(){return k})),n.d(t,"v",(function(){return y})),n.d(t,"i",(function(){return C})),n.d(t,"y",(function(){return A})),n.d(t,"w",(function(){return w})),n.d(t,"m",(function(){return R})),n.d(t,"C",(function(){return I})),n.d(t,"L",(function(){return L})),n.d(t,"n",(function(){return T})),n.d(t,"e",(function(){return U})),n.d(t,"d",(function(){return N})),n.d(t,"f",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"z",(function(){return x})),n.d(t,"B",(function(){return M})),n.d(t,"M",(function(){return j})),n.d(t,"k",(function(){return B})),n.d(t,"q",(function(){return K})),n.d(t,"p",(function(){return H})),n.d(t,"a",(function(){return F})),n.d(t,"E",(function(){return z})),n.d(t,"G",(function(){return G})),n.d(t,"u",(function(){return V})),n.d(t,"A",(function(){return q})),n.d(t,"K",(function(){return W})),n.d(t,"s",(function(){return Y})),n.d(t,"t",(function(){return X})),n.d(t,"r",(function(){return Z})),n.d(t,"O",(function(){return J})),n.d(t,"R",(function(){return $})),n.d(t,"N",(function(){return ee})),n.d(t,"P",(function(){return te})),n.d(t,"Q",(function(){return ne}));var r=n("o+MX"),a=n.n(r),o=n("Vi3r"),i=n.n(o),c=n("/zpq"),s=n("pBR6"),u="Error Shown",l="Recommendations Shown",d="ANALYTICS_DEFER_EVENT",p="ANALYTICS_FLUSH_EVENTS",f="ANALYTICS_EVENT",h="Share Button Pressed",m="Like Button Pressed",v="Book Added",_="Audiobook Added",g="Comic Added",b="User Follow",O="Shelf Follow",S="Subscription Initiated",E="Subscription Successful",k="Subscription Failed",y="Payment Method Selected",C="Duration Selected",A="Recurrent Subscription Stopped",w="Pledge Made",R="Gift Purchased",I="Search Results Loaded",L="Upload Book Button Pressed",T="Impression Created",U="Authentication Popup Shown",N="Authentication Initiated",D="Authentication Successful",P="Authentication Failed",x="Registration Successful",M="Reset Password Requested",j="Verification Code Requested",B="Friend Finder Initiated",K="Mailing Subscriptions Changed",H="Logged Out",F="Account Deleted",z="Shelf Created",G="Shelf Post Created",V="Object Removed",q="Report Error",W="TopAdvert SignUp",Y="Subscription Initiated",X="Subscription Successful",Z="Subscription Failed",Q={events:[]};function J(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case d:return{events:a()(e=[]).call(e,i()(t.events),[n])};case p:return{events:[]};default:return t}}function $(){return function(e){e({type:f,meta:{analytics:{type:"Screen Shown",payload:{}}}}),c.a.isClient()&&e(Object(s.j)(window.location.href))}}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNDEFINED_EVENT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:f,meta:{analytics:{type:e,payload:t}}}}function te(e,t){return{type:d,meta:{analytics:{type:e,payload:t}}}}function ne(){return{type:p}}},"3VNJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));n("rB9j"),n("UxlC");var r=n("o+MX"),a=n.n(r),o=n("+oHS"),i=n.n(o),c=n("KYsz"),s=n.n(c),u=n("UtpJ"),l=n.n(u);function d(e){var t,n;return l()(t=s()(n=i()(e)).call(n,(function(t,n){var r,o;return void 0!==e[n]?a()(r=a()(o="".concat(t)).call(o,n,"=")).call(r,encodeURIComponent(e[n]),"&"):t}),"")).call(t,0,-1)}function p(e){var t=/^(javascript:)+/;return/^(?:https?|ftp):\/\//.test(e)?e:t.test(e)?e.replace(t,""):"http://".concat(e)}},4:function(e,t){},"4BXF":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("o+MX"),a=n.n(r),o=n("B7Kn"),i=function(e,t,n){var r;return t&&e?a()(r="".concat(t)).call(r,n?o.b:o.a):t}},"4NDp":function(e,t,n){"use strict";n.r(t);var r=n("n7LX"),a=n("L3Ur"),o=n("iXuU"),i=n("pBR6"),c=n("2HMc"),s=n("3L7n"),u=n("6wIG"),l=n("yayI"),d=n("lxhJ"),p=n("fzp2"),f=n("8OPv"),h=n("Bd68"),m=n("wpgx"),v={app:i.d,languages:c.a,analytics:s.O,currentUser:u.g,alert:l.a,routing:a.routerReducer,popup:d.c,auth:p.h,subscription:f.c,notifications:h.b,fakePage:m.a},_=Object(o.a)(v),g=n("q1tI"),b=n.n(g),O=n("dtw8"),S=(n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("a0dU")),E=n.n(S),k=n("OBge"),y=n.n(k),C=n("FLGM"),A=n.n(C),w=(n("ls82"),n("06Pm")),R=n.n(w),I=n("kA7L"),L=n.n(I),T=n("X5/F"),U=n.n(T),N=n("K82H"),D=n.n(N),P=n("SPx3"),x=n.n(P),M=n("UIRo"),j=n("UDQ/"),B=n("sI90");n("gMqe");function K(){return(K=x()(E.a.mark((function e(t){var n,r,a,o,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,a=r.dispatch,o=r.getState(),i=o.currentUser,s=A()(n=[c.d(M.a.locales),c.b(M.a.fallbackLocale),c.b(i.data.locale)]).call(n,a),e.next=6,y.a.all(s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=Object(j.a)((function(e){return K.apply(this,arguments)}),{userListener:true,name:"App"})(function(e){U()(n,e);var t=D()(n);function n(){return R()(this,n),t.apply(this,arguments)}return L()(n,[{key:"render",value:function(){return b.a.createElement(B.a,this.props)}}]),n}(g.Component)),F=n("ZD0w"),z=(n("Y9cd"),n("YUtL")),G=n("+Jaz"),V=n("lIV8"),q=n("KShq"),W=b.a.createElement("div",null,b.a.createElement(q.a,{onlyLogo:true}),b.a.createElement(V.a,null,b.a.createElement(z.a,{size:80}),b.a.createElement(G.a,{kind:"kazimir"},b.a.createElement(F.Trans,{id:"errors.browser_header"})),b.a.createElement(z.a,{size:24}),b.a.createElement(F.Trans,{id:"errors.browser_text"}),b.a.createElement(z.a,{size:24}),b.a.createElement("div",{className:"browser-error__item"},b.a.createElement("div",{className:"browser-error__image browser-error__image_chrome"}),b.a.createElement("a",{className:"browser-error__link",href:"https://www.google.com/chrome/"},"Ð¡hrome")),b.a.createElement("div",{className:"browser-error__item"},b.a.createElement("div",{className:"browser-error__image browser-error__image_safari"}),b.a.createElement("a",{className:"browser-error__link",href:"https://www.apple.com/safari/"},"Safari")),b.a.createElement("div",{className:"browser-error__item"},b.a.createElement("div",{className:"browser-error__image browser-error__image_firefox"}),b.a.createElement("a",{className:"browser-error__link",href:"https://www.mozilla.org/en-US/firefox/"},"Firefox")),b.a.createElement("div",{className:"browser-error__item"},b.a.createElement("div",{className:"browser-error__image browser-error__image_edge"}),b.a.createElement("a",{className:"browser-error__link",href:"https://www.microsoft.com/en-us/windows/microsoft-edge"},"Microsoft",b.a.createElement("br",null),"Edge")),b.a.createElement(z.a,{size:"bottom-page"}))),Y=function(e){U()(n,e);var t=D()(n);function n(){return R()(this,n),t.apply(this,arguments)}return L()(n,[{key:"render",value:function(){return W}}]),n}(g.Component),X=b.a.createElement(Y,null),Z=function(e){U()(n,e);var t=D()(n);function n(){return R()(this,n),t.apply(this,arguments)}return L()(n,[{key:"render",value:function(){return X}}]),n}(g.Component),Q=n("uxLo"),J=b.a.createElement(O.Route,{path:"/",component:H},b.a.createElement(O.Redirect,{from:"/languages",to:"/library"}),b.a.createElement(O.Route,{path:"/errors/browser",component:Z}),b.a.createElement(O.Route,{path:"/errors/403",component:Q.default,status:403}),b.a.createElement(O.Route,{path:"/errors/404",component:Q.default,status:404}),b.a.createElement(O.Route,{path:"/errors/500",component:Q.default,status:500}),b.a.createElement(O.Route,{path:"*",component:Q.default}));r.a.init({store:_,routes:J})},"4RM9":function(e,t,n){"use strict";t.a='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m13.4 12 9.3-9.3c.4-.4.4-1 0-1.4s-1-.4-1.4 0l-9.3 9.3-9.3-9.3c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l9.3 9.3-9.3 9.3c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3l9.3-9.3 9.3 9.3c.2.2.5.3.7.3s.5-.1.7-.3c.4-.4.4-1 0-1.4z"/></svg>'},"4ex2":function(e,t,n){"use strict";var r=n("EcSs"),a=n.n(r),o=n("o+MX"),i=n.n(o),c=n("06Pm"),s=n.n(c),u=n("kA7L"),l=n.n(u),d=n("hO3g"),p=n.n(d),f=n("X5/F"),h=n.n(f),m=n("K82H"),v=n.n(m),_=n("04Ix"),g=n.n(_),b=n("q1tI"),O=n.n(b),S=n("/MKj"),E=n("dtw8"),k=n("Rfcb"),y=n.n(k),C=n("AOYn"),A=n("Zp80"),w=n("fzp2"),R=n("va4D"),I=n.n(R),L=n("ZD0w"),T=n("O7i+"),U=n("GwM9"),N=n("RQcy"),D=n("1JdC"),P=n("2i0I"),x=n("YUtL"),M=n("PpkX"),j=n("WQUq"),B=n("ahCH"),K=n("sAtQ"),H=n("eppo"),F=n("RUwt"),z=n("/iVZ"),G=n("/zpq"),V=(n("Iz0Z"),"auth__link"),q=O.a.createElement("br",null),W=O.a.createElement("h3",{className:"auth__header"},O.a.createElement(L.Trans,{id:"auth.join_or_login"})),Y=O.a.createElement(L.Trans,{id:"auth.email_placeholder"}),X=O.a.createElement(L.Trans,{id:"auth.or"}),Z=O.a.createElement(L.Trans,{id:"auth.phone"}),Q=O.a.createElement("h3",{className:"auth__header"},O.a.createElement(L.Trans,{id:"auth.join"})),J=O.a.createElement(x.a,null),$=O.a.createElement(N.a,null),ee=O.a.createElement(x.a,{size:24}),te=O.a.createElement(L.Trans,{id:"buttons.join"}),ne=O.a.createElement(U.a,null),re=O.a.createElement("h3",{className:"auth__header"},O.a.createElement(L.Trans,{id:"auth.reset_password"})),ae=O.a.createElement("p",{className:"auth__instruction"},O.a.createElement(L.Trans,{id:"auth.reset_password_instruction"})),oe=O.a.createElement(L.Trans,{id:"auth.reset_password_button"}),ie=O.a.createElement(L.Trans,{id:"auth.need_help"}),ce=O.a.createElement("h3",{className:"auth__header"},O.a.createElement(L.Trans,{id:"auth.join_or_login"})),se=O.a.createElement(L.Trans,{id:"auth.send_code"}),ue=O.a.createElement(L.Trans,{id:"auth.have_password"}),le=O.a.createElement(x.a,{size:24}),de=O.a.createElement(N.a,null),pe=O.a.createElement(L.Trans,{id:"auth.send_code_again"}),fe=O.a.createElement("div",{key:"linkSent",className:"auth__step"},O.a.createElement("h3",{className:"auth__header"},O.a.createElement(L.Trans,{id:"auth.link_sent"})),O.a.createElement("p",{className:"auth__instruction"},O.a.createElement(L.Trans,{id:"auth.link_sent_instruction"})),O.a.createElement(I.a,{svg:z.a,className:"auth__success-mark"})),he=function(e){h()(n,e);var t=v()(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.initialStep,n=e.currentStep||t;return O.a.createElement("div",{className:"auth"},this["".concat(n,"Step")]&&this["".concat(n,"Step")]())}},{key:"renderCaptchaNotice",value:function(){if(!G.a.isProduction())return null;var e="https://policies.google.com",t={target:"_blank",rel:"noopener noreferrer"};return O.a.createElement("p",{className:"auth__recaptcha"},"This site is protected by reCAPTCHA and the Google",q,O.a.createElement("a",a()({href:"".concat(e,"/privacy")},t),"Privacy Policy")," ","and"," ",O.a.createElement("a",a()({href:"".concat(e,"/terms")},t),"Terms of Service")," ","apply.")}},{key:"socialStep",value:function(){var e=this.props,t=e.changeStep,n=e.onSocialButtonClick,r=e.specialParams,a=e.data;return O.a.createElement("div",{key:"social",className:"auth__step"},W,O.a.createElement(B.a,{onButtonClick:n,specialParams:r,providersConditions:{telenor_bulgaria:Object(T.a)(a.country),yandex:Object(T.c)(a.country),vkontakte:Object(T.b)(a.country)}}),O.a.createElement("p",{className:"auth__subaction"},O.a.createElement("span",{"data-test-id":"auth-with-email",className:V,onClick:function(){return t("email",true)}},Y)," ",X," ",O.a.createElement("span",{"data-test-id":"auth-with-phone",className:V,onClick:function(){return t("phone",true)}},Z)))}},{key:"socialAuthenticatedStep",value:function(){var e=this.props,t=e.changeStep,n=e.auth,r=e.shouldAllowAuth,a=e.loading,o=e.error,i=O.a.createElement("span",{className:"auth__error-link",onClick:function(){return t("email")}}),c=o&&O.a.createElement(L.Trans,{id:o,components:[i]});return O.a.createElement("div",{key:"social-authenticated",className:"auth__step"},Q,O.a.createElement(I.a,{svg:F.a,className:"auth__back",onClick:function(){return t("social")}}),O.a.createElement(K.a,n.socialAuth),J,$,ee,O.a.createElement(P.a,{kind:"primary",disabled:!r,loading:a},te),o&&this.showError(c))}},{key:"emailStep",value:function(){var e=this.props,t=e.changeStep,n=e.isUserRegistrationChecked,r=e.isUserRegistered;return O.a.createElement("div",{key:"email",className:"auth__step"},O.a.createElement("h3",{className:"auth__header"},O.a.createElement(H.a,{isChecked:n,isRegistered:r,role:"header"})),O.a.createElement(I.a,{svg:F.a,className:"auth__back",onClick:function(){return t("social")}}),ne,this.renderCaptchaNotice())}},{key:"resetStep",value:function(){var e=this.props,t=e.changeStep,n=e.lockSubmit,r=e.loading,a=e.error,o=e.i18n,i=e.data,c=e.domain;return O.a.createElement("div",{key:"reset",className:"auth__step"},re,O.a.createElement(I.a,{svg:F.a,className:"auth__back",onClick:function(){return t("email")}}),ae,O.a.createElement(D.a,{type:"text",name:"email",error:Boolean(a),placeholder:o._("auth.email_placeholder"),autoFocus:"true"}),this.showError(a),O.a.createElement(P.a,{type:"submit",disabled:n,loading:r},oe),O.a.createElement("p",{className:"auth__subaction"},O.a.createElement(M.a,{className:V,path:C.d.support(i.locale,c)},ie)))}},{key:"phoneStep",value:function(){var e=this.props,t=e.currentUser.data.country,n=e.changeStep,r=e.lockSubmit,a=e.error,o=e.loading;return O.a.createElement("div",{key:"phone",className:"auth__step"},ce,O.a.createElement(I.a,{svg:F.a,className:"auth__back",onClick:function(){return n("social")}}),O.a.createElement(j.a,{country:t,name:"phone",codeName:"country-code",error:a,autoFocus:true}),this.showError(a),O.a.createElement(P.a,{type:"submit",disabled:r,loading:o},se),O.a.createElement("p",{className:"auth__subaction"},O.a.createElement("span",{className:V,onClick:function(){return n("email",true)}},ue)))}},{key:"codeSentStep",value:function(){var e=this.props,t=e.changeStep,n=e.isUserRegistrationChecked,r=e.isUserRegistered,a=e.shouldShowPreSignupFields,o=e.shouldAllowAuth,i=e.loading,c=e.error,s=e.phone,u=e.resendCode;return O.a.createElement("div",{key:"codeSent",className:"auth__step"},O.a.createElement("h3",{className:"auth__header"},O.a.createElement(H.a,{isChecked:n,isRegistered:r,role:"header"})),O.a.createElement(I.a,{svg:F.a,className:"auth__back",onClick:function(){return t("phone")}}),O.a.createElement("p",{className:"auth__instruction"},O.a.createElement(L.Trans,{id:"auth.code_sent_insturction",values:{phone:s}})),le,O.a.createElement(D.a,{type:"text",inputMode:"numeric",kind:"code",name:"sms-code",error:Boolean(c),autoFocus:"true"}),this.showError(c),a&&de,O.a.createElement(P.a,{type:"submit",disabled:!o,loading:i},O.a.createElement(H.a,{isChecked:n,isRegistered:r,role:"button"})),O.a.createElement("p",{className:"auth__subaction"},O.a.createElement("span",{className:V,onClick:u},pe)))}},{key:"linkSentStep",value:function(){return fe}},{key:"showError",value:function(e){if(e)return O.a.createElement("p",{className:"auth__error"},e)}}]),n}(b.Component);g()(he,"defaultProps",{initialStep:"social"});var me=Object(L.withI18n)({update:true})(he),ve=function(e){h()(n,e);var t=v()(n);function n(){var e,r;s()(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return r=t.call.apply(t,i()(e=[this]).call(e,o)),g()(p()(r),"changeStep",(function(e,t){r.props.dispatch(w.e(e,t))})),g()(p()(r),"resendCode",(function(){var e=r.props,t=e.dispatch,n=e.auth;t(w.o(n.phone))})),r}return l()(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(w.g())}},{key:"render",value:function(){var e=this.props,t=e.auth.currentStep,n=e.location,r=e.giftCode;return t?O.a.createElement(me,a()({},this.props,{changeStep:this.changeStep,resendCode:this.resendCode,currentStep:t},n.pathname===Object(C.n)(C.d.codePage())?{specialParams:{giftCode:r}}:{})):null}}]),n}(b.Component),_e=Object(S.connect)((function(e){return{data:e.currentUser.data,giftCode:e.code.codeValue}})),ge=y()(_e,Object(A.a)({initialStep:"social"}),E.withRouter);t.a=ge(ve)},"55NG":function(e,t,n){"use strict";n("rB9j"),n("Rm1S"),n("UxlC"),n("EnZy"),n("mRH6");var r=n("o+MX"),a=n.n(r),o=n("UtpJ"),i=n.n(o),c=n("zLi2"),s=n.n(c),u=n("AOYn"),l=n("Y9wk"),d="https://bookmate.onelink.me/8LRx";t.a={getDesktopStoreLink:function(e){switch(e){case"ios":return"https://itunes.apple.com/app/bookmate-citat-teper-legko/id386177450";case"android":return"https://play.google.com/store/apps/details?id=com.bookmate";default:u.d.getTheApp()}},getDeepLink:function(e){var t=e.replace(/^([a-z][a-z0-9.+-]*:)?(\/\/)?([a-z][a-z0-9.+-]*)\//,"").split("/");if(t[0].match(/^@/))return this.getAppLink("user",t[0]);if("library"===t[0])return this.getAppLink("showcase");if(t.length>1){var n=s()(t,2),r=n[0],a=n[1];return this.getAppLink(i()(r).call(r,0,-1),a)}return""},getAppLink:function(e,t){var n,r,o,i,c,s,u,d,p,f,h,m=Object(l.b)();switch(e){case"book":return a()(n="bookmate://book?uuid=".concat(t,"&af_sub3=")).call(n,m);case"audiobook":return a()(r="bookmate://audiobook?uuid=".concat(t,"&af_sub3=")).call(r,m);case"comicbook":return a()(o="bookmate://comics?uuid=".concat(t,"&af_sub3=")).call(o,m);case"shelf":return a()(i="bookmate://bookshelf?uuid=".concat(t,"&af_sub3=")).call(i,m);case"quote":return a()(c="bookmate://marker?uuid=".concat(t,"&af_sub3=")).call(c,m);case"impression":return a()(s="bookmate://document_impression?uuid=".concat(t,"&af_sub3=")).call(s,m);case"post":return a()(u="bookmate://bookshelf_document?uuid=".concat(t,"&af_sub3=")).call(u,m);case"user":return a()(d="bookmate://user?login=".concat(t,"&af_sub3=")).call(d,m);case"feed":return"bookmate://feed?af_sub3=".concat(m);case"community":return"bookmate://community?af_sub3=".concat(m);case"createShelf":return"bookmate://create_bookshelf?af_sub3=".concat(m);case"createImpression":return a()(p="bookmate://create_impression?uuid=".concat(t,"&af_sub3=")).call(p,m);case"close":return"bookmate://close?af_sub3=".concat(m);case"achievements":return a()(f="bookmate://achievements?login=".concat(t,"&af_sub3=")).call(f,m);case"author":return a()(h="bookmate://author?uuid=".concat(t,"&af_sub3=")).call(h,m);default:case"showcase":return"bookmate://showcase?af_sub3=".concat(m)}},getStoreLink:function(e){var t,n=e.channel,r=e.campaign,o=void 0===r?"install_app":r,i=e.stage,c=e.isDesktop,s=e.deeplinkPath,l=void 0===s?"bookmate://showcase":s,p=e.pid,f=void 0===p?"Download_app_web":p,h=Object(u.f)({campaign:o,tags:"bm_web",channel:n,stage:i,af_web_dp:c?this.getDesktopStoreLink(n):"",pid:f,af_dp:l});return a()(t="".concat(d)).call(t,h)},getFullLink:function(e){var t,n=e.link,r=e.channel,o=e.campaign,i=e.tag,c=e.utm_source,s=e.utm_medium,l=e.utm_campaign,p=e.pid,f=void 0===p?"Download_app_web":p,h=this.getDeepLink(n),m=Object(u.f)({channel:r||"Email",tags:i,campaign:o,utm_source:c,utm_medium:s,utm_campaign:l,pid:f,af_dp:h});return a()(t="".concat(d)).call(t,m)},getBookStoreLink:function(e){var t=e.uuid,n=e.channel,r=e.campaign,a=e.stage,o=e.isDesktop,i=this.getAppLink("book",t);return this.getStoreLink({channel:n,campaign:r,stage:a,isDesktop:o,deeplinkPath:i})},getAudioBookStoreLink:function(e){var t=e.uuid,n=e.channel,r=e.campaign,a=e.stage,o=e.isDesktop,i=this.getAppLink("audiobook",t);return this.getStoreLink({channel:n,campaign:r,stage:a,isDesktop:o,deeplinkPath:i})},getComicbookStoreLink:function(e){var t=e.uuid,n=e.channel,r=e.campaign,a=e.stage,o=e.isDesktop,i=this.getAppLink("comicbook",t);return this.getStoreLink({channel:n,campaign:r,stage:a,isDesktop:o,deeplinkPath:i})},getShelfStoreLink:function(e){var t=e.uuid,n=e.channel,r=e.campaign,a=e.stage,o=e.isDesktop,i=this.getAppLink("shelf",t);return this.getStoreLink({channel:n,campaign:r,stage:a,isDesktop:o,deeplinkPath:i})}}},"5U8U":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return R})),n.d(t,"f",(function(){return I})),n.d(t,"r",(function(){return L})),n.d(t,"n",(function(){return T})),n.d(t,"p",(function(){return U})),n.d(t,"l",(function(){return N})),n.d(t,"k",(function(){return D})),n.d(t,"e",(function(){return P})),n.d(t,"o",(function(){return x})),n.d(t,"j",(function(){return M})),n.d(t,"t",(function(){return j})),n.d(t,"q",(function(){return B})),n.d(t,"g",(function(){return K})),n.d(t,"s",(function(){return H})),n.d(t,"i",(function(){return F})),n.d(t,"m",(function(){return z})),n.d(t,"h",(function(){return G}));var r=n("MAKL"),a=n.n(r),o=n("5PDf"),i=n.n(o),c=n("FLGM"),s=n.n(c),u=n("o+MX"),l=n.n(u),d=n("Vi3r"),p=n.n(d),f=n("KYsz"),h=n.n(f),m=n("J2m7"),v=n.n(m),_=n("wig9"),g=n.n(_),b=n("E+oP"),O=n.n(b),S=n("+c4W"),E=n.n(S),k=n("xaJk"),y=n.n(k),C=function(e){return y()(e.subscription.loadingStates,(function(e,t){return e||"loading"===t}),false)},A=function(e){return"loading"===e.subscription.loadingStates.userSubscriptions},w=function(e){return"loading"===e.subscription.loadingStates.upgradeCosts},R=function(e){return"success"===e.subscription.loadingStates.products},I=function(e){return e.subscription.products||[]},L=function(e){return"success"===e.subscription.loadingStates.userAccessLevels},T=function(e){return e.subscription.userAccessLevels},U=function(e){return e.subscription.userSubscriptions},N=function(e,t){var n=U(e).recurrents;return v()(n,(function(e){return e.uuid===t}))},D=function(e,t){var n=I(e),r=v()(n,(function(e){return e.id===t}));return r?r.button.plans:[]},P=function(e,t){var n,r,a=I(e),o=K(e);return h()(n=g()(l()(r=[]).call(r,p()(a),[o]))).call(n,(function(e,n){var r=v()(n.button.plans,(function(e){return e.id===t}));return r||e}),null)},x=function(e){var t,n=e.subscription.userAccessLevels;return s()(t=n.expiration_dates).call(t,E()("level"))},M=function(e,t){var n=I(e);return v()(n,(function(e){return e.id===t}))},j=function(e,t){return function(e){return null!==e.subscription.products}(e)&&O()(M(e,t))},B=function(e){return"success"===e.subscription.loadingStates.featuredProduct},K=function(e){return e.subscription.featuredProduct},H=function(e){return"loading"===e.subscription.loadingStates.changeCard},F=function(e,t){var n,r=M(e,t);if(!r)return null;var a=r.upgradeable_from;return a?{recurrentUuid:a,planIds:s()(n=D(e,t)).call(n,(function(e){return e.id})),productId:t}:null},z=function(e){return e.subscription.upgradeSubscription.upgradeOptions},G=function(e){var t,n,r=T(e);return s()(t=i()(n=r.expiration_dates).call(n,(function(e){return 1e3*e.expires_at>a()()}))).call(t,E()("level"))}},"62mN":function(e,t,n){"use strict";var r=n("06Pm"),a=n.n(r),o=n("kA7L"),i=n.n(o),c=n("X5/F"),s=n.n(c),u=n("K82H"),l=n.n(u),d=n("q1tI"),p=n.n(d),f=n("va4D"),h=n.n(f),m=(n("uxpH"),n("4RM9")),v=function(e){s()(n,e);var t=l()(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.kind,n=e.children,r=e.clickHandler,a=t?"back-button_".concat(t):"";return p.a.createElement("div",{className:"back-button ".concat(a)},n,p.a.createElement(h.a,{svg:m.a,className:"back-button__button",onClick:r}))}}]),n}(d.Component);t.a=v},"6OYx":function(e,t,n){"use strict";var r=n("Kwsy"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("hO3g"),l=n.n(u),d=n("X5/F"),p=n.n(d),f=n("K82H"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("q1tI"),g=n.n(_),b=n("va4D"),O=n.n(b),S=n("vN+2"),E=n.n(S),k=n("TSYQ"),y=n.n(k),C=(n("qPNS"),function(e){p()(n,e);var t=h()(n);function n(e){var r;return i()(this,n),r=t.call(this,e),v()(l()(r),"handleClick",(function(e){var t=r.refs.overlay;e.target===t&&r.close()})),v()(l()(r),"handleEsc",(function(e){27===e.keyCode&&(e.preventDefault(),r.close())})),r.state={closing:false},r}return s()(n,[{key:"render",value:function(){var e=y()({overlay:true,overlay_closing:this.state.closing});return g.a.createElement("div",{className:e,ref:"overlay"},this.props.children)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,false),document.addEventListener("keyup",this.handleEsc,false)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,false),document.addEventListener("keyup",this.handleEsc,false)}},{key:"close",value:function(){var e=this.props.onClick,t=void 0===e?E.a:e;this.state.closing||(this.setState({closing:true}),t())}}]),n}(_.Component)),A=n("4RM9"),w=(n("/7tg"),function(e){p()(n,e);var t=h()(n);function n(e){var r;return i()(this,n),r=t.call(this,e),v()(l()(r),"close",(function(){var e=r.props.onClose,t=void 0===e?E.a:e;r.setState({closing:true}),a()(t,200)})),r.state={closing:false},r}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.children,a=e.className,o=e.withoutCloseIcon,i=y()({popup:true,popup_closing:this.state.closing},a);return g.a.createElement(C,{onClick:this.close},g.a.createElement("div",{className:i,style:{width:t,height:n}},!o&&g.a.createElement(O.a,{svg:A.a,className:"popup__close",onClick:this.close}),r))}}]),n}(_.Component));t.a=w},"6ckQ":function(e,t,n){},"6wIG":function(e,t,n){"use strict";n.d(t,"b",(function(){return ue})),n.d(t,"a",(function(){return Ae})),n.d(t,"n",(function(){return we})),n.d(t,"f",(function(){return Re})),n.d(t,"p",(function(){return Ie})),n.d(t,"o",(function(){return Le})),n.d(t,"j",(function(){return Te})),n.d(t,"x",(function(){return Ue})),n.d(t,"l",(function(){return De})),n.d(t,"q",(function(){return Pe})),n.d(t,"u",(function(){return xe})),n.d(t,"t",(function(){return Me})),n.d(t,"w",(function(){return je})),n.d(t,"v",(function(){return Be})),n.d(t,"y",(function(){return Ke})),n.d(t,"d",(function(){return Fe})),n.d(t,"c",(function(){return Ge})),n.d(t,"z",(function(){return Ve})),n.d(t,"e",(function(){return qe})),n.d(t,"r",(function(){return Qe})),n.d(t,"k",(function(){return Je})),n.d(t,"h",(function(){return $e})),n.d(t,"m",(function(){return rt})),n.d(t,"s",(function(){return at})),n.d(t,"i",(function(){return ot})),n.d(t,"g",(function(){return ct}));n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var r=n("5PDf"),a=n.n(r),o=n("OBge"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("kT1S"),l=n.n(u),d=n("04Ix"),p=n.n(d),f=n("a0dU"),h=n.n(f),m=n("mnMc"),v=n.n(m),_=n("YdDX"),g=n.n(_),b=(n("ls82"),n("SPx3")),O=n.n(b),S=n("L3Ur"),E=n("sEfC"),k=n.n(E),y=n("QkVN"),C=n.n(y),A=n("mwIZ"),w=n.n(A),R=n("Puqe"),I=n.n(R),L=n("vN+2"),T=n.n(L),U=n("cr+I"),N=n.n(U),D=n("p+/H"),P=n.n(D),x=n("UIRo"),M=n("/zpq"),j=n("WXbY"),B=n("8OPv"),K=n("2HMc"),H=n("AOYn"),F=n("Jhcc"),z=n("rHpc"),G=n("+60N"),V=n("FSMw"),q=n("Bd68"),W=n("u8yW"),Y=n("3L7n"),X=n("pBR6"),Z=n("yayI"),Q=n("ZDpU"),J=n("Gk1r"),$=n("lxhJ");function ee(){var e=g()(["\n            ","\n            ",""]);return ee=function(){return e},e}var te="CURRENT_USER_LOAD",ne="CURRENT_USER_LOAD_SUCCESS",re="CURRENT_USER_LOAD_ERROR",ae="CURRENT_USER_CHECK_NOTIFICATIONS_SUCCESS",oe="CURRENT_USER_DEVICES_LOAD_SUCCESS",ie="CURRENT_USER_COMPLETELY_LOADED",ce="CURRENT_USER_LOGOUT_SUCCESS",se="CURRENT_USER_LOCALE_CHANGED",ue="CURRENT_USER_LIBRARY_LANGUAGE_CHANGED",le="CURRENT_USER_SETTINGS_UPDATE",de="CURRENT_USER_SOCIALS_UPDATE",pe="CURRENT_USER_UI_UPDATE",fe="CURRENT_USER_AVATAR_LOAD_SUCCESS",he="CURRENT_USER_EMAIL_UPDATE",me="CURRENT_USER_EMAIL_UPDATE_SUCCESS",ve="CURRENT_USER_EMAIL_UPDATE_ERROR",_e="APP_LINK_SEND",ge="APP_LINK_SEND_SUCCESS",be="APP_LINK_SEND_ERROR",Oe="CURRENT_USER_BONUS_CARDS_LOAD",Se="CURRENT_USER_BONUS_CARDS_LOAD_SUCCESS",Ee="CURRENT_USER_BONUS_CARDS_LOAD_ERROR",ke="CURRENT_USER_BONUS_CARD_SET",ye="CURRENT_USER_BONUS_CARD_SET_SUCCESS",Ce="CURRENT_USER_BONUS_CARD_SET_ERROR",Ae="CURRENT_USER_BONUS_CARD_CLOSE_POPUP";function we(e){return function(){var t=O()(h.a.mark((function t(n,r){var a,o,i,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:te}),"/p/api/v5/context",a=r(),o={state:a,method:"get"},i=Object(X.f)(a),c=et(i),t.next=8,j.a.fetch("/p/api/v5/context",o).then((function(t){var r=t.context,o=r.locale,s=r.library_lang,u=t.context,l=u.country,d=u.authenticated,p=u.in_team,f=u.audio,h=u.comics;if(c&&!d&&(o=c,s=c),n({type:ne,currentUser:{auth:d,team:p,data:{country:l,locale:o,library_lang:s,audio:f,comics:h},ui:it.ui}}),p&&n(Object(K.d)({all:true})),M.a.isProduction()&&!e){var m=(a.code||{}).codeValue,_=tt(i,o);_&&m&&(_+=P()(ee(),v()(_).call(_,"?")?"&":"?",N.a.stringify({promo:m}))),_&&n(Object(X.e)(_,{replace:true}))}}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function Re(){return p()({},Q.a,{endpoint:"/p/api/v5/profile/notifications/status",types:["CURRENT_USER_CHECK_NOTIFICATIONS",ae]})}function Ie(){return p()({},Q.a,{endpoint:"/p/api/v5/profile",modifyResponse:function(e){return{currentUser:{auth:true,data:Ne(e.user)}}},types:[te,ne]})}function Le(){return p()({},Q.a,{endpoint:"/p/api/v5/profile/devices",types:["CURRENT_USER_DEVICES_LOAD",oe]})}function Te(e){return p()({},Q.a,{endpoint:"/p/api/v5/profile/devices/".concat(e),options:{method:"delete"},types:["CURRENT_USER_DEVICE_DELETE"]})}function Ue(e,t){return p()({},Q.a,{endpoint:"/p/api/v5/profile/devices/".concat(e),options:{method:"patch",isMultipart:true,dontParse:true,body:t},types:["CURRENT_USER_DEVICE_UPDATE"]})}function Ne(e){var t,n=w()(e,"library_lang.code");n&&e&&(e.library_lang=n);var r=null===(t=e)||void 0===t?void 0:t.mailing_subscriptions;return e=l()(l()({},I()(e,"mailing_subscriptions")),{},{subscription_retention:null==r?void 0:r.retention,subscription_engagement:null==r?void 0:r.engagement,subscription_service:null==r?void 0:r.service})}function De(){return{type:ie}}function Pe(){return function(){var e=O()(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/logout",e.next=3,j.a.fetch("/logout",{state:n(),method:"delete"}).then((function(){t({type:ce}),t(Object($.d)()),t(Object(B.v)()),t(Object(S.push)(H.d.root())),t(Object(Y.N)(Y.p)),t(Object(W.c)())})).catch((function(e){throw t({type:"CURRENT_USER_LOGOUT_ERROR",error:e}),e}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function xe(e,t){return function(){var n=O()(h.a.mark((function n(r,a){var o,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/p/api/v5/locale",r({type:se,locale:e}),o=a(),c=o.currentUser.auth,n.next=6,j.a.fetch("/p/api/v5/locale",{state:o,method:"put",dontParse:true,data:{locale:e}}).then((function(){if(c&&r(Object(B.r)()),M.a.isProduction()&&!t){var n,a,u=Object(H.j)(e);r(Object(X.e)(s()(n=s()(a="".concat(Object(X.f)(o).protocol,"://")).call(a,u)).call(n,o.app.domain,"/library"),{replace:true}))}else{var l=[r(Object(B.h)()),r(K.b(o.currentUser.data.locale))];i.a.all(l)}}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function Me(e){return function(){var t=O()(h.a.mark((function t(n,r){var a,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a="/p/a/4/user",o=r(),i=o.currentUser.auth,n({type:ue,libraryLanguage:e}),i){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,j.a.fetch(a,{state:r(),method:"put",data:{user:{library_lang:e}}});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function je(e){return function(){var t=O()(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:pe,ui:{avatar:{loading:true}}}),t.prev=1,t.next=4,n(We(e,true));case 4:r=t.sent,n({type:fe,ui:{avatar:{loading:false,error:false}},data:{avatar_url:r.avatar_url}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:pe,ui:{avatar:{loading:false,error:t.t0.error.message}}});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function Be(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t({type:le,data:e});var r={user:l()({},e)};n?Xe(r,t):Ye(r,t)}function Ke(e,t,n,r){return He.apply(this,arguments)}function He(){return(He=O()(h.a.mark((function e(t,n,r,a){var o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Object(F.c)(t),!(i=o.error)){e.next=3;break}return e.abrupt("return",a({type:pe,ui:{login:{error:i}}}));case 3:return e.prev=3,e.next=6,Ze(t);case 6:return e.abrupt("return",a({type:pe,ui:{login:{error:"usernameAlreadyTaken"}}}));case 9:if(e.prev=9,e.t0=e.catch(3),confirm(n)){e.next=14;break}return r(),e.abrupt("return");case 14:return e.prev=14,e.next=17,a(We({user:{login:t}}));case 17:a({type:le,data:{login:t},ui:{login:{error:false}}}),a(Object(S.replace)(H.d.settings(t))),e.next=25;break;case 21:throw e.prev=21,e.t1=e.catch(14),e.t1;case 25:case"end":return e.stop()}}),e,null,[[3,9],[14,21]])})))).apply(this,arguments)}function Fe(e,t,n,r){return ze.apply(this,arguments)}function ze(){return(ze=O()(h.a.mark((function e(t,n,r,a){var o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=Object(F.a)(n,r),!(i=o.error)){e.next=4;break}throw{passwordValidationError:i};case 4:return c={user:{onetime_confirmation_password:t,password:n}},a({type:le,ui:{password:{error:false,loading:true}}}),e.next=8,a(We(c));case 8:return e.abrupt("return",a({type:le,ui:{password:{error:false,loading:false}}}));case 11:throw e.prev=11,e.t0=e.catch(0),a({type:pe,ui:{password:{loading:false,error:e.t0.passwordValidationError?e.t0.passwordValidationError:"passwordChangeUnauthorized"}}}),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Ge(e){var t=e.email,n=e.password,r=void 0===n?"":n,a={user:{new_email:t}};return r&&(a.user.password=r),p()({},Q.a,{endpoint:"/p/api/v5/profile/email",options:{method:"put",dontParse:true,data:a},onSuccess:function(e,t){var n=t().currentUser.data.login;e(Object(S.push)(H.d.settings(n))),e(Object(Z.b)("success",{message:"alerts.verification_link_sent"}))},onError:function(e){e(Object(Z.b)("error",{message:"errors.unknown"}))},types:[he,me,ve]})}function Ve(e){return function(){var t=O()(h.a.mark((function t(n,r){var a,o,i,c,s,u,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/p/api/v5/confirm_emails/".concat(e),o=r(),i={method:"put",state:o,dontParse:true},c=o.currentUser.data,s=c.login,u=c.email,l=u?"alerts.email_updated":"alerts.email_added",t.prev=5,t.next=8,j.a.fetch(a,i);case 8:return s&&n(Object(S.replace)(H.d.settings(s))),n(Object(Z.b)("success",{message:l})),t.next=12,n(Ie());case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5),s&&n(Object(S.replace)(H.d.settings(s))),n(Object(Z.b)("error",{message:"errors.unknown"}));case 18:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e,n){return t.apply(this,arguments)}}()}function qe(e){return function(){var t=O()(h.a.mark((function t(n,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/p/api/v5/profile/phone",a={state:r(),method:"put",data:e},t.prev=2,n({type:pe,ui:{phone:{loading:true,confirmationCodeError:false}}}),t.next=6,j.a.fetch("/p/api/v5/profile/phone",a);case 6:n({type:le,ui:{phone:{loading:false}},data:{phone_number:e.phone_number}}),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(2),n({type:pe,ui:{phone:{confirmationCodeError:t.t0.error.message,loading:false}}}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()}function We(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=O()(h.a.mark((function n(r,a){var o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/p/a/4/user",(o={}).state=a(),o.method="put",t?(o.isMultipart=true,o.body=e):o.data=e,n.next=7,j.a.fetch("/p/a/4/user",o);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var Ye=k()((function(e,t){return t(We(e))}),1e3),Xe=k()((function(e,t){return t(We(e))}),100);function Ze(e){var t="/p/api/v5/users/".concat(e);return j.a.fetch(t,{method:"get"})}function Qe(e){return function(){var t=O()(h.a.mark((function t(n,r){var a,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/p/api/v5/profile/phone/send_code",a={state:r(),method:"post",data:e},t.prev=2,n({type:pe,ui:{phone:{phoneNumberError:false,loading:true}}}),t.next=6,j.a.fetch("/p/api/v5/profile/phone/send_code",a);case 6:return o=t.sent,n({type:pe,ui:{phone:{loading:false}}}),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(2),n({type:pe,ui:{phone:{loading:false,phoneNumberError:t.t0.error.message}}}),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,n){return t.apply(this,arguments)}}()}function Je(e){return function(){var t=O()(h.a.mark((function t(n,r){var a,o,i,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/p/api/v5/profile/authentication_providers/".concat(e),o={method:"delete",state:r()},t.prev=2,t.next=5,j.a.fetch(a,o);case 5:i=t.sent,c=i.user.social_networks,n({type:de,data:{social_networks:c}}),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(2),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()}function $e(e){return function(){var t=O()(h.a.mark((function t(n,r){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/p/a/4/user",a={method:"delete",state:r(),data:e},n({type:pe,ui:{deleteAccount:{loading:true,error:false}}}),t.prev=3,t.next=6,j.a.fetch("/p/a/4/user",a);case 6:return n(Object(Y.N)(Y.a)),t.abrupt("return",n(Pe()));case 10:t.prev=10,t.t0=t.catch(3),n({type:pe,ui:{deleteAccount:{loading:false,error:t.t0.error.message}}});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()}function et(e){var t=e.host,n=e.query;return n&&n.lang?n.lang:Object(H.i)(t)}function tt(e,t){var n=e.host,r=e.protocol,a=e.url,o=e.ua.ua;if(!Object(z.a)(o)){var i=Object(H.i)(n);if((i||t!==x.a.fallbackLocale)&&i!==t){var c,u,l,d=Object(H.j)(t),p=s()(c=s()(u=s()(l="".concat(r,"://")).call(l,d)).call(u,Object(H.e)(n))).call(c,a);if(!d&&!i)return;return M.a.isClient()&&(p+=window.location.hash),p}}}function nt(e,t){var n={};return t&&(n.team=true),l()(l()({},e),n)}function rt(){return p()({},Q.a,{endpoint:"/p/api/v5/profile/bonus_cards",modifyResponse:function(e){var t;return{bonus_cards:a()(t=e.bonus_cards).call(t,(function(e){return v()(G.b).call(G.b,e.partner)}))}},types:[Oe,Se,Ee]})}function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.a;return p()({},Q.a,{endpoint:"/p/api/v5/profile/bonus_cards",options:{method:"post",dontParse:true,data:{partner:e,number:t}},onSuccess:function(e){e(rt()),e(Object(Z.b)("success",{message:"alerts.bonus_card_added"})),n()},types:[ke,ye,Ce]})}function ot(e){return p()({},Q.a,{endpoint:"/p/api/v5/profile/bonus_cards/".concat(e),options:{method:"delete",dontParse:true},onSuccess:function(e){e(rt()),e(Object(Z.b)("success",{message:"alerts.bonus_card_deleted"}))},types:["CURRENT_USER_BONUS_CARD_DELETE","CURRENT_USER_BONUS_CARD_DELETE_SUCCESS"]})}var it={ui:{avatar:{loading:false,error:false},login:{error:false},password:{loading:false,error:false},email:{loading:false,error:false},phone:{loading:false,phoneNumberError:false,confirmationCodeError:false},deleteAccount:{loading:false,error:false},mailingSubscription:{loading:false,error:false},myBooks:{layout:"grid"},devices:{data:[]}},data:{id:null,login:"",name:"",email:"",locale:"en",country:"",library_lang:"",audio:false,comics:false,avatar_url:"",avatar:{large:"",small:""},social_networks:[],subscription_retention:false,subscription_engagement:false,subscription_service:false,bonusCards:[]},auth:false,loading:false,loaded:false,completelyLoaded:false,error:null,socialProvider:"",smsLink:{success:false,loading:false,error:""}};function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return l()(l()({},e),{},{loading:true,completelyLoaded:false});case ne:return nt(l()(l()({},e),{},{auth:t.currentUser.auth,data:l()(l()({},e.data),t.currentUser.data),loading:false,loaded:true,error:null}),t.currentUser.team);case re:return l()(l()({},e),{},{loading:false,loaded:true});case ie:return l()(l()({},e),{},{completelyLoaded:true});case oe:return l()(l()({},e),{},{ui:l()(l()({},e.ui),{},{devices:{loaded:true,data:t.devices}})});case V.a.AUTH_FORM_LOGIN_SUCCESS:case J.a:return l()(l()({},e),{},{auth:true,loading:false,loaded:true,data:l()(l()({},e.data),Ne(t.data))});case ce:return l()(l()({},it),{},{data:l()(l()({},it.data),{},{locale:e.data.locale,country:e.data.country}),socialProvider:""});case V.a.SOCIAL_AUTH_SUCCESS:return l()(l()({},e),{},{auth:true,socialProvider:t.provider});case se:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{locale:t.locale})});case ue:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{library_lang:t.libraryLanguage})});case pe:return l()(l()({},e),{},{ui:C()(l()({},e.ui),l()({},t.ui))});case fe:return l()(l()({},e),{},{ui:l()(l()({},e.ui),t.ui),data:l()(l()({},e.data),t.data)});case le:return l()(l()({},e),{},{data:C()({},e.data,t.data),ui:C()({},e.ui,t.ui)});case de:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{social_networks:t.data.social_networks})});case he:return l()(l()({},e),{},{ui:C()({},e.ui,{email:{loading:true,error:false}})});case me:return l()(l()({},e),{},{ui:C()({},e.ui,{email:{loading:false,error:false}})});case ve:return l()(l()({},e),{},{ui:C()({},e.ui,{email:{loading:false,error:t.error.message}})});case _e:return l()(l()({},e),{},{smsLink:{success:false,loading:true,error:""}});case ge:return l()(l()({},e),{},{smsLink:{success:true,loading:false,error:""}});case be:return l()(l()({},e),{},{smsLink:{success:false,loading:false,error:t.error}});case ae:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{has_unread_notifications:t.has_unread_notifications})});case q.a:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{has_unread_notifications:false})});case Oe:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{bonusCards:{loading:true}})});case Se:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{bonusCards:{cards:t.bonus_cards,loading:false}})});case Ee:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{bonusCards:{loading:false}})});case ke:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{bonusCards:l()(l()({},e.data.bonusCards),{},{loading:true})})});case ye:case Ae:case Ce:return l()(l()({},e),{},{data:l()(l()({},e.data),{},{bonusCards:l()(l()({},e.data.bonusCards),{},{loading:false})})});default:return e}}},"7Dde":function(e,t,n){},"7HZP":function(e,t,n){},"84C4":function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return K})),n.d(t,"d",(function(){return H})),n.d(t,"i",(function(){return z})),n.d(t,"j",(function(){return G})),n.d(t,"f",(function(){return q})),n.d(t,"g",(function(){return W})),n.d(t,"k",(function(){return Y})),n.d(t,"l",(function(){return X})),n.d(t,"n",(function(){return Q})),n.d(t,"o",(function(){return J})),n.d(t,"h",(function(){return $})),n.d(t,"m",(function(){return ee})),n.d(t,"e",(function(){return re}));var r=n("a0dU"),a=n.n(r),o=(n("ls82"),n("SPx3")),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("04Ix"),l=n.n(u),d=n("FLGM"),p=n.n(d),f=n("kT1S"),h=n.n(f),m=n("mnMc"),v=n.n(m),_=n("XiPH"),g=n("QkVN"),b=n.n(g),O=n("Puqe"),S=n.n(O),E=n("J2m7"),k=n.n(E),y=n("ZDpU"),C=n("AOYn"),A=n("+FvS"),w=n("3L7n"),R=n("qUSF"),I=n("1wMt"),L=n("22CO"),T=n("ZUvS"),U=n("F6cB"),N=n("yayI"),D=n("lSWr"),P=n("MJ/v"),x="POST_LOADING",M="POST_LOADED",j="POST_LIKED",B="POST_ADDED",K="POST_CHANGED",H="POST_REMOVED",F=new _.schema.Union({book:L.f,comicbook:L.h,quote:T.h,impression:U.l,audiobook:L.a},(function(e,t){return t.resourceType})),z=new _.schema.Entity("posts",{creator:L.r,resource:F},{idAttribute:"uuid"}),G=new _.schema.Array(z),V=Object(C.c)("post");function q(e,t){return Object(_.denormalize)(e,z,t)}function W(e,t){return Object(_.denormalize)(e,G,t)}function Y(e){var t;return v()(t=["impression","quote","marker"]).call(t,e.resource_type)&&(e.resource.embeddedResourceType=e.resource.resource_type),h()(h()({},e),{},{resourceType:"marker"===e.resource_type?"quote":e.resource_type})}function X(e){return p()(e).call(e,(function(e){return Y(e)}))}function Z(e,t,n){return k()(n,(function(n){return n.resourceType===t&&n.resource.id===e}))}function Q(e){return e.substring(0,e.length-1)}var J=Object(D.a)((function(e,t){var n;return n={},l()(n,y.a,{endpoint:"/p/api/v5/posts/".concat(e,"/likers"),options:{method:t?"delete":"post",dontParse:true},onSuccess:function(t){t(Object(w.N)(w.o,{object_type:"shelf_post",object_id:e}))},types:["POST_LIKE",j]}),l()(n,"uuid",e),l()(n,"liked",t),n}),j);function $(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.ignoreError,o=void 0!==a&&a;return l()({},y.a,{endpoint:s()(n="/p/api/v5/bookshelves/".concat(e,"/posts/")).call(n,t),normalize:function(e,n){var r=n.getState,a=e.post.uuid;if(t!==a){var o=r().app.url;Object(A.c)(V(a,o),301)}var i=Y(e.post),c=Object(_.normalize)(i,z);return{post:i,result:c.result,entities:c.entities}},types:[x,M],ignoreError:o})}function ee(e,t){return function(){var n=i()(a.a.mark((function n(r,o){var i,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o(),n.next=3,r(l()({},y.a,{endpoint:s()(i="/p/api/v5/bookshelves/".concat(e,"/posts/")).call(i,t),options:{method:"delete",dontParse:true},modifyResponse:function(){var n=q(t,c.entities).resource.resourceType;return{uuid:t,shelfUuid:e,resourceType:n}},onSuccess:function(e){var n=q(t,c.entities).resource,r=n.resourceType,a="alerts.post_".concat(r,"_deleted");e(Object(N.b)("success",{message:a,values:te(n)})),e(Object(w.N)(w.u,{object_type:"shelf_post",object_id:t}))},types:["POST_REMOVE",H]}));case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function te(e){var t;return v()(t=["book","audiobook","comicbook"]).call(t,e.resourceType)?{title:e.title}:"quote"===e.resourceType?{title:e.book.title}:{}}var ne={};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;if(t.entities&&t.entities.posts)return b()({},e,t.entities.posts);switch(t.type){case B:return h()(h()({},e),{},l()({},t.post.uuid,t.post));case K:var n=e[t.post.uuid];return h()(h()({},e),{},l()({},t.post.uuid,h()(h()({},n),t.post)));case H:return S()(e,t.uuid);case j:var r=e[t.uuid];return t.liked!==r.liked?e:h()(h()({},e),{},l()({},t.uuid,h()(h()({},r),{},{likes:t.liked?r.likes-1:r.likes+1,liked:!t.liked})));case R.a:var a;if(!v()(a=["added","removed"]).call(a,t.reason))return e;var o=Z(t.book.uuid,"book",e);return o?h()(h()({},e),{},l()({},o.uuid,h()(h()({},o),{},{readers_count:"added"===t.reason?o.readers_count+1:o.readers_count-1}))):e;case I.a:case I.b:var i=Z(t.comicbook.uuid,"comicbook",e);return i?h()(h()({},e),{},l()({},i.uuid,h()(h()({},i),{},{readers_count:t.type===I.a?i.readers_count+1:i.readers_count-1}))):e;case P.a:case P.b:var c=e[t.resourceUuid];return c?h()(h()({},e),{},l()({},t.resourceUuid,h()(h()({},c),{},{comments_count:Math.max(c.comments_count+(t.type===P.a?1:-1),0)}))):e;default:return e}}},"8OPv":function(e,t,n){"use strict";n.d(t,"v",(function(){return B})),n.d(t,"r",(function(){return le})),n.d(t,"q",(function(){return de})),n.d(t,"k",(function(){return pe})),n.d(t,"l",(function(){return fe})),n.d(t,"h",(function(){return he})),n.d(t,"p",(function(){return me})),n.d(t,"g",(function(){return ve})),n.d(t,"s",(function(){return _e})),n.d(t,"m",(function(){return ge})),n.d(t,"u",(function(){return be})),n.d(t,"n",(function(){return Oe})),n.d(t,"i",(function(){return Se})),n.d(t,"t",(function(){return Ee})),n.d(t,"f",(function(){return ke})),n.d(t,"j",(function(){return ye})),n.d(t,"o",(function(){return Ce})),n.d(t,"d",(function(){return we})),n.d(t,"b",(function(){return Re})),n.d(t,"a",(function(){return Ie})),n.d(t,"e",(function(){return Le}));n("sMBO");var r,a,o=n("FLGM"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("mnMc"),l=n.n(u),d=n("kT1S"),p=n.n(d),f=n("a0dU"),h=n.n(f),m=(n("ls82"),n("SPx3")),v=n.n(m),_=n("04Ix"),g=n.n(_),b=n("i7Pf"),O=n("D1y2"),S=n.n(O),E=n("ZDpU"),k=n("L3Ur"),y=n("yayI"),C=n("3L7n"),A=n("pBR6"),w=n("AOYn"),R=n("NCkO"),I="not requested",L="loading",T="success",U="error",N=Object(b.b)("PLANS_LOAD"),D=Object(b.b)("PLANS_LOAD_SUCCESS"),P=Object(b.b)("PLANS_LOAD_ERROR"),x=Object(b.b)("SUBSCRIPTION_ACCESS_LEVELS_LOAD"),M=Object(b.b)("SUBSCRIPTION_ACCESS_LEVELS_LOAD_SUCCESS"),j=Object(b.b)("SUBSCRIPTION_ACCESS_LEVELS_LOAD_ERROR"),B=Object(b.b)("SUBSCRIPTION_ACCESS_LEVELS_CLEAR"),K=Object(b.b)("SUBSCRIPTION_PRODUCTS_LOAD"),H=Object(b.b)("SUBSCRIPTION_PRODUCTS_LOAD_SUCCESS"),F=Object(b.b)("SUBSCRIPTION_PRODUCTS_LOAD_ERROR"),z=Object(b.b)("SUBSCRIPTION_FEATURED_PRODUCT_LOAD"),G=Object(b.b)("SUBSCRIPTION_FEATURED_PRODUCT_LOAD_SUCCESS"),V=Object(b.b)("SUBSCRIPTION_FEATURED_PRODUCT_LOAD_ERROR"),q=Object(b.b)("SPECIAL_OFFER_PLAN_LOAD"),W=Object(b.b)("SPECIAL_OFFER_PLAN_LOAD_SUCCESS"),Y=Object(b.b)("SPECIAL_OFFER_PLAN_LOAD_ERROR"),X=Object(b.b)("CURRENT_USER_SUBSCRIPTIONS_LOAD"),Z=Object(b.b)("CURRENT_USER_SUBSCRIPTIONS_LOAD_SUCCESS"),Q=Object(b.b)("CURRENT_USER_SUBSCRIPTIONS_LOAD_ERROR"),J=Object(b.b)("UPGRADE_COSTS_LOAD"),$=Object(b.b)("UPGRADE_COSTS_LOAD_SUCCESS"),ee=Object(b.b)("UPGRADE_COSTS_LOAD_ERROR"),te=Object(b.b)("DELETE_SUBSCRIPTION"),ne=Object(b.b)("DELETE_SUBSCRIPTION_SUCCESS"),re=Object(b.b)("DELETE_SUBSCRIPTION_ERROR"),ae=Object(b.b)("CHARGE_FOR_RECURRENT"),oe=Object(b.b)("CHARGE_FOR_RECURRENT_SUCCESS"),ie=Object(b.b)("CHARGE_FOR_RECURRENT_ERROR"),ce=Object(b.b)("CHANGE_CARD"),se=Object(b.b)("CHANGE_CARD_SUCCESS"),ue=Object(b.b)("CHANGE_CARD_ERROR");function le(){return g()({},E.a,{endpoint:"/p/api/v5/profile/subscriptions",types:[X,Z,Q]})}function de(){return g()({},E.a,{endpoint:"/p/api/v5/profile/access_levels",types:[x,M,j]})}var pe=function(){return function(){var e=v()(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/p/api/v5/payments/plans/web",e.next=3,t(g()({},E.a,{endpoint:"/p/api/v5/payments/plans/web",types:[N,D,P]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe=function(){return g()({},E.a,{endpoint:"/p/api/v5/payments/products/web",modifyResponse:function(e){return{products:Te(e)}},types:[K,H,F]})},he=function(){return g()({},E.a,{endpoint:"/p/api/v5/payments/featured_product/web",modifyResponse:function(e){return{featured_product:Te(e)}},types:[z,G,V]})};function me(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};n.variant&&(r.data={variant:n.variant});var a={id:n.variant||"cheap_trial",system:"trial_3_months",trial:true};return t={},g()(t,E.a,{endpoint:"/p/api/v5/payments/plans/cheap_trial",options:r,preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),a)}},types:[q,W,Y]}),g()(t,"name",e||R.e.specialOffersNames.THREE_MONTHS),t}function ve(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/black_friday",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.BLACK_FRIDAY),e}function _e(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/webgains",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.WEBGAINS),e}function ge(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/regular_webgains",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plans[0]),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.REGULAR_WEBGAINS),e}function be(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/yandex",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.YANDEX_PLUS),e}function Oe(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/spiir",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.SPIIR),e}function Se(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/min_mave",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.MIN_MAVE),e}function Ee(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/weekly",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.WEEKLY),e}function ke(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/special_audio",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.AUDIO),e}function ye(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/mnogo_ru",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.MNOGO_RU),e}function Ce(){var e,t={trial:false};return e={},g()(e,E.a,{endpoint:"/p/api/v5/payments/plans/black_friday",preserveError:true,modifyResponse:function(e){return{plan:p()(p()({},e.plan),t)}},types:[q,W,Y]}),g()(e,"name",R.e.specialOffersNames.SUMMER),e}function Ae(e){switch(e){case"tele2ru":case"tele2rurecurrent":return"tele2_ru";case"mts_by":case"mtsbyrecurrent":return"mts_by";case"azercell":case"azercellrecurrent":return"azercell";case"kcell":case"kcellrecurrent":case"kcellbundlerecurrent":return"kcell";case"android_inapp":case"androidinapp":return"android";case"paypal":return"paypal";case"cards":return"stripe";case"beeline_uz":return"beeline_uz";case"vodafone":return"vodafone"}}function we(e,t,n){return function(){var r=v()(h.a.mark((function r(a){var o,i,c,u;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=Ae(e)){r.next=4;break}throw a(Object(y.b)("error",{message:"errors.unknown"})),new Error('There is no unsubscribe url for a subscription of a "'.concat(e,'" type'));case 4:return u=l()(o=["stripe","android","paypal","beeline_uz","vodafone"]).call(o,c)?s()(i="/p/api/v5/payments/subscriptions/".concat(c,"/")).call(i,t):"/p/payments/".concat(c),r.next=7,a(g()({},E.a,{endpoint:u,options:{method:"delete",dontParse:true},onSuccess:function(e){e(le()),e(fe()),"function"==typeof n&&n()},types:[te,ne,re]}));case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}function Re(e,t){var n="/p/api/v5/payments/stripe/subscriptions/".concat(e,"/charge");return g()({},E.a,{endpoint:n,options:{method:"post"},onSuccess:function(e,n,r){var a=r.redirect_url;e(a?Object(A.e)(a):Object(k.push)(w.d.subscriptionSuccess({path:t,type:"subsc"})))},types:[ae,oe,ie]})}function Ie(e,t,n){var r="/p/api/v5/payments/stripe/subscriptions/".concat(e,"/default_card");return g()({},E.a,{endpoint:r,options:{method:"post",data:{source:t}},onSuccess:function(e){e(le()),e(Object(y.b)("success",{message:"subscription.payment_information_updated"})),n()},onError:function(e,t,n){e(Object(C.N)(C.j,{client_message:n.error.message,endpoint:r}))},types:[ce,se,ue]})}function Le(e){var t,n=e.recurrentUuid,r=e.planIds,a=e.productId,o="/p/api/v5/payments/stripe/subscriptions/".concat(n,"/upgrade_costs"),c=Object(w.m)({plan_uuids:r}),u=s()(t="".concat(o,"?")).call(t,c);return g()({},E.a,{endpoint:u,options:{method:"get"},normalize:function(e){var t=e.upgrade_costs,r=i()(t).call(t,(function(e){return S()(e,"plan.productId",a)}));return{payload:{recurrentUuid:n,upgradeOptions:r}}},types:[J,$,ee]})}function Te(e){var t,n=function(e,t){var n;return p()(p()({},e),{},{plans:i()(n=e.plans).call(n,(function(e){return p()(p()({},e),{},{productId:t})}))})},r=function(e){return p()(p()({},e),{},{button:e.buttons?n(e.buttons[0],e.id):n(e.button,e.id)})};return e.featured_product?r(e.featured_product):e.products?i()(t=e.products).call(t,r):void 0}var Ue={loadingStates:(r={userAccessLevels:I,products:I,featuredProduct:I,userSubscriptions:I,changeCard:I,deleteSubscription:I,chargeForRecurrent:I,upgradeCosts:I},g()(r,R.e.specialOffersNames.MIN_MAVE,I),g()(r,R.e.specialOffersNames.BLACK_FRIDAY,I),g()(r,R.e.specialOffersNames.WEEKLY,I),g()(r,R.e.specialOffersNames.THREE_MONTHS,I),g()(r,R.e.specialOffersNames.MAILRU,I),r),loading:false,error:void 0,plans:[],products:null,featuredProduct:null,upgradeOptions:[],specialOffer:{},userAccessLevels:{expiration_dates:[],active_recurrents:[]},userSubscriptions:{recurrents:[],non_recurrents:[]},upgradeSubscription:{recurrentUuid:null,upgradeOptions:[]}},Ne=Object(b.c)(Ue,(a={},g()(a,X,(function(e){return S()(e,"loadingStates.userSubscriptions",L)})),g()(a,Z,(function(e,t){var n=t.payload;S()(e,"loadingStates.userSubscriptions",T),e.userSubscriptions=n.subscriptions})),g()(a,Q,(function(e){return S()(e,"loadingStates.userSubscriptions",U)})),g()(a,x,(function(e){return S()(e,"loadingStates.userAccessLevels",L)})),g()(a,j,(function(e){return S()(e,"loadingStates.userAccessLevels",U)})),g()(a,M,(function(e,t){var n=t.payload;S()(e,"loadingStates.userAccessLevels",T),e.userAccessLevels=n.access_levels})),g()(a,B,(function(e){e.userAccessLevels={expiration_dates:[],active_recurrents:[]}})),g()(a,K,(function(e){return S()(e,"loadingStates.products",L)})),g()(a,F,(function(e){return S()(e,"loadingStates.products",U)})),g()(a,H,(function(e,t){var n=t.payload;S()(e,"loadingStates.products",T),e.products=n.products})),g()(a,z,(function(e){return S()(e,"loadingStates.featuredProduct",L)})),g()(a,V,(function(e){return S()(e,"loadingStates.featuredProduct",U)})),g()(a,G,(function(e,t){var n=t.payload;S()(e,"loadingStates.featuredProduct",T),e.featuredProduct=n.featured_product})),g()(a,D,(function(e,t){var n=t.payload;e.plans=n.plans})),g()(a,P,(function(e){e.error=U,e.plans=[]})),g()(a,N,(function(e){return S()(e,"loadingStates.plans",L)})),g()(a,q,(function(e,t){var n=t.payload;return S()(e,"loadingStates[".concat(n.name,"]"),L)})),g()(a,W,(function(e,t){var n=t.payload;S()(e,"loadingStates[".concat(n.name,"]"),T),e.specialOffer=p()(p()({},e.specialOffer),{},g()({},n.name,{plan:n.plan,error:null}))})),g()(a,Y,(function(e,t){var n=t.payload;S()(e,"loadingStates[".concat(n.name,"]"),U),e.specialOffer=p()(p()({},e.specialOffer),{},g()({},n.name,{plan:null,error:n.error}))})),g()(a,J,(function(e){S()(e.loadingStates,"upgradeCosts",L),e.upgradeSubscription=p()({},Ue.upgradeSubscription)})),g()(a,$,(function(e,t){var n=t.payload;S()(e.loadingStates,"upgradeCosts",T),e.upgradeSubscription=n.payload})),g()(a,ee,(function(e){S()(e.loadingStates,"upgradeCosts",U)})),g()(a,ce,(function(e){return S()(e,"loadingStates.changeCard",L)})),g()(a,se,(function(e){return S()(e,"loadingStates.changeCard",T)})),g()(a,ue,(function(e){return S()(e,"loadingStates.changeCard",U)})),g()(a,te,(function(e){return S()(e,"loadingStates.deleteSubscription",L)})),g()(a,ne,(function(e){return S()(e,"loadingStates.deleteSubscription",T)})),g()(a,re,(function(e){return S()(e,"loadingStates.deleteSubscription",U)})),g()(a,ae,(function(e){return S()(e,"loadingStates.chargeForRecurrent",L)})),g()(a,oe,(function(e){return S()(e,"loadingStates.chargeForRecurrent",T)})),g()(a,ie,(function(e){return S()(e,"loadingStates.chargeForRecurrent",U)})),a));t.c=Ne},"9CiP":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n("+oHS"),a=n.n(r),o=n("o+MX"),i=n.n(o),c=n("Nv8T"),s=(n("07d7"),n("JfAA"),n("04Ix")),u=n.n(s),l=n("mnMc"),d=n.n(l),p=n("YdDX"),f=n.n(p),h=n("WxoT"),m=n.n(h),v=(n("RXMP"),n("p+/H")),_=n.n(v),g=(n("skmB"),n("cr+I")),b=n.n(g);function O(){var e=f()(["\n  ","\n  ","\n  ","\n"]);return O=function(){return e},e}var S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mobileState";return _()(O(),e,d()(e).call(e,"?")?"&":"?",b.a.stringify(u()({},n,m()(t))))},E=function(e,t){return S("/connect/".concat(e),t)};n("oVuX"),n("FLGM"),n("6UaR"),n("5PDf");function k(){var e=f()(["\n    No params for social provider "," found,\n    list of available providers: ","\n  "]);return k=function(){return e},e}var y=function(e,t){return e&&t?_()(k(),e,t.join(", ")):"provider isnât supported"},C=/ip(hone|ad|od)|android|windows phone|blackberry/i,A=function(e,t){var n,r,o,s,u,l,d,p,f,h,m=c.a[e];if(!m)throw new Error(y(e,a()(c.a)));C.test(window.navigator.userAgent)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.backUrl||(t.backUrl=window.location.href),window.location.assign(E(e,t))}(e,t):(n=m,r=null==t?void 0:t.isConnecting,l=n.width,d=n.height,p=n.path,f=screen.height/2-d/2,h=screen.width/2-l/2,window.open(r?S(p,{isConnecting:r,fromDesktop:true}):p,"",i()(o=i()(s=i()(u="width=".concat(l,",height=")).call(u,d,",top=")).call(s,f,",left=")).call(o,h)))}},ADqK:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("q1tI"),a=n.n(r),o=n("ZD0w"),i=n("va4D"),c=n.n(i),s=n("PpkX"),u=(n("RtR1"),a.a.createElement(c.a,{svg:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)">\n<path d="M8 12.8C8.2944 12.8 8.53333 12.5838 8.53333 12.3175L8.53333 6.52698C8.53333 6.26062 8.2944 6.04444 8 6.04444C7.7056 6.04444 7.46666 6.26062 7.46666 6.52698L7.46666 12.3175C7.46666 12.5838 7.7056 12.8 8 12.8Z" fill="white" fill-opacity="0.6"/>\n<path d="M8.00002 4.8C8.49093 4.8 8.8889 4.40203 8.8889 3.91111C8.8889 3.42019 8.49094 3.02222 8.00002 3.02222C7.5091 3.02222 7.11113 3.42019 7.11113 3.91111C7.11113 4.40203 7.5091 4.8 8.00002 4.8Z" fill="white" fill-opacity="0.6"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4181 16 16 12.4181 16 8C16 3.58187 12.4181 3.86245e-07 8 0C3.58186 -3.86246e-07 3.86246e-07 3.58186 0 8C-3.86245e-07 12.4181 3.58186 16 8 16ZM8 1.06667C11.8229 1.06667 14.9333 4.17707 14.9333 8C14.9333 11.8229 11.8229 14.9333 8 14.9333C4.17706 14.9333 1.06667 11.8229 1.06667 8C1.06667 4.17707 4.17707 1.06667 8 1.06667Z" fill="white" fill-opacity="0.6"/>\n<path d="M8.03333 6.55131L8.03333 12.2931C8.02637 12.2965 8.01538 12.3 8 12.3C7.98462 12.3 7.97362 12.2965 7.96666 12.2931L7.96666 6.55131C7.97362 6.54792 7.98462 6.54444 8 6.54444C8.01538 6.54444 8.02637 6.54792 8.03333 6.55131ZM8.3889 3.91111C8.3889 4.12589 8.21479 4.3 8.00002 4.3C7.78524 4.3 7.61113 4.12589 7.61113 3.91111C7.61113 3.69634 7.78524 3.52222 8.00002 3.52222C8.21479 3.52222 8.3889 3.69634 8.3889 3.91111ZM15.5 8C15.5 12.142 12.142 15.5 8 15.5C3.85801 15.5 0.5 12.142 0.5 8C0.5 3.85801 3.85801 0.5 8 0.5C12.142 0.5 15.5 3.85801 15.5 8ZM15.4333 8C15.4333 3.90093 12.0991 0.566667 8 0.566666C3.90092 0.566666 0.566667 3.90092 0.566666 8C0.566666 12.0991 3.90092 15.4333 8 15.4333C12.0991 15.4333 15.4333 12.0991 15.4333 8Z" stroke="white" stroke-opacity="0.6"/>\n</g>\n<defs>\n<clipPath id="clip0">\n<rect width="16" height="16" fill="white" transform="translate(16 16) rotate(-180)"/>\n</clipPath>\n</defs>\n</svg>\n'})),l=function(e){var t=e.limitedSubscription,n=e.showInfo,r=e.username,i=t.maximum,c=t.used;return a.a.createElement(s.a,{path:"/@".concat(r,"/subscription/current-period-in-limit")},a.a.createElement("div",{className:"limited-subscription__info"},a.a.createElement("span",null,a.a.createElement(o.Trans,{id:"subscription.books_in_limit",values:{available:i-c,maximum:i}})),a.a.createElement("span",{className:"info-icon",onClick:n},u)))}},AOYn:function(e,t,n){"use strict";n.d(t,"n",(function(){return x})),n.d(t,"g",(function(){return M})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return B})),n.d(t,"m",(function(){return K})),n.d(t,"b",(function(){return H})),n.d(t,"i",(function(){return F})),n.d(t,"j",(function(){return z})),n.d(t,"k",(function(){return G})),n.d(t,"c",(function(){return V})),n.d(t,"h",(function(){return q})),n.d(t,"e",(function(){return W})),n.d(t,"l",(function(){return Y}));n("oVuX"),n("TWNs"),n("rB9j"),n("JfAA"),n("UxlC"),n("EnZy");var r=n("FLGM"),a=n.n(r),o=n("UtpJ"),i=n.n(o),c=n("nhkr"),s=n.n(c),u=n("6UaR"),l=n.n(u),d=n("+oHS"),p=n.n(d),f=n("ZbhI"),h=n.n(f),m=n("MAKL"),v=n.n(m),_=n("o+MX"),g=n.n(_),b=n("mnMc"),O=n.n(b),S=n("GBY4"),E=n.n(S),k=n("3WF5"),y=n.n(k),C=n("d8FT"),A=n.n(C),w=n("E+oP"),R=n.n(w),I=n("UIRo"),L=n("3VNJ"),T=n("bm4j"),U=n("iaTU"),N="https://",D="https://canvas.bookmate.com";function P(e){var t;return O()(t=["ru","az","da"]).call(t,e)?e:"en-us"}function x(e){return e.replace(/\/+$/,"")}function M(e){if(-1!==h()(e).call(e,"bookmate")){var t,n=E()(e,{}),r=n.pathname,a=n.query;return a?g()(t="".concat(r)).call(t,a):r}return e}function j(e,t){var n,r,a,o,i,c=E()(e,{}),s=c.pathname,u=c.query,l=c.hash;return u?g()(n=g()(r=g()(a="".concat(s)).call(a,u,"&dscvr=")).call(r,t)).call(n,l):g()(o=g()(i="".concat(s,"?dscvr=")).call(i,t)).call(o,l)}function B(e){var t=K(A()(e,(function(e){return Boolean(e)})));return t?"?".concat(t):""}function K(e){return p()(e).length?y()(e,(function(e,t){return l()(e)?function(e,t){var n=new RegExp("\\[\\]$");return e=n.test(e)?e:"".concat(e,"[]"),a()(t).call(t,(function(t){var n;return g()(n="".concat(e,"=")).call(n,encodeURIComponent(t))})).join("&")}(t,e):e&&"object"===s()(e)?function(e,t){var n;return a()(n=p()(t)).call(n,(function(n){var r,a;return g()(r=g()(a="".concat(e,"[")).call(a,n,"]=")).call(r,t[n])})).join("&")}(t,e):g()(n="".concat(t,"=")).call(n,encodeURIComponent(e));var n})).join("&"):""}function H(e,t){var n,r=B(t);return""===r?e:(r=O()(e).call(e,"?")?"&".concat(i()(r).call(r,1)):r,g()(n="".concat(e)).call(n,r))}function F(e){var t=e.split(".")[0];return Object(T.b)(t)?t:""}function z(e){return Object(T.b)(e)?"".concat(e,"."):""}function G(e){return"https://a.bmstatic.com/iu/".concat(e)}function V(e){var t=new RegExp("/".concat(e,"s/([^/]+)/?(.*)$"));return function(n,r){var a;return r.replace(t,g()(a="/".concat(e,"s/")).call(a,n,"/$2"))}}function q(e){var t,n=e.basePath,r=e.seriesUuid,a=e.prefferedPath;return a||(r?g()(t="".concat(n,"?from_series=")).call(t,r):n)}function W(e){var t=Object(U.a)(e);return"LISTED"!==t.type?e:[t.domain,t.topLevelDomains[0]].join(".")}function Y(e,t,n){var r,a,o,i,c,s,u=n?"username=".concat(n,"&"):"",l=t?"utm_source=".concat(t):"utm_source=na",d=O()(e).call(e,"?")?"&":"?";return g()(r=g()(a=g()(o=g()(i=g()(c=g()(s="".concat(e)).call(s,d)).call(c,u)).call(i,l,"&")).call(o,"utm_campaign=usersreferral","&")).call(a,"utm_content=web","&")).call(r,"utm_medium=referral")}t.d={root:function(){return"/"},absoluteRoot:function(e){return"https://".concat(e)},absoluteRootWithSubdomain:function(e,t){return e===I.a.fallbackLocale?this.absoluteRoot(t):g()(n=g()(r="".concat(N)).call(r,e,".")).call(n,t);var n,r},login:function(){return"/login"},user:function(e){return"/@".concat(e)},userBooks:function(e,t){var n;return g()(n="".concat(this.user(e),"/books/")).call(n,t)},userBooksAll:function(e){return"".concat(this.user(e),"/books/all")},userBooksRecent:function(e){return"".concat(this.user(e),"/books/recent")},userBooksReadLater:function(e){return"".concat(this.user(e),"/books/not_finished")},userBooksFinished:function(e){return"".concat(this.user(e),"/books/finished")},userBooksUploads:function(e){return"".concat(this.user(e),"/books/uploads")},userAudioBooks:function(e,t){var n;return g()(n="".concat(this.user(e),"/audiobooks/")).call(n,t)},userAudioBooksAll:function(e){return"".concat(this.user(e),"/audiobooks/all")},userAudioBooksRecent:function(e){return"".concat(this.user(e),"/audiobooks/recent")},userAudioBooksNotFinished:function(e){return"".concat(this.user(e),"/audiobooks/not_finished")},userAudioBooksFinished:function(e){return"".concat(this.user(e),"/audiobooks/finished")},userComicbooks:function(e,t){var n;return g()(n="".concat(this.user(e),"/comics/")).call(n,t)},userShelves:function(e){return"".concat(this.user(e),"/bookshelves/created")},userShelvesFollowing:function(e){return"".concat(this.user(e),"/bookshelves/following")},userSeries:function(e){return"".concat(this.user(e),"/series")},userImpressions:function(e){return"".concat(this.user(e),"/impressions")},userQuotes:function(e){return"".concat(this.user(e),"/quotes")},userBookQuotes:function(e,t,n){var r,a;return g()(r=g()(a="".concat(this.user(e),"/books/")).call(a,t,"/quotes")).call(r,n?"?is_serial=true":"")},userFollowers:function(e){return"".concat(this.user(e),"/connections/followers")},userFollowing:function(e){return"".concat(this.user(e),"/connections/following")},userAchievements:function(e,t){var n;return g()(n="/@".concat(e,"/achievements/")).call(n,t)},userFinishedBooksForYear:function(e,t){return"".concat(this.userAchievements(e,t),"/finished-books")},userFriendsAchievements:function(e,t){return"".concat(this.userAchievements(e,t),"/following")},userPledgeSharingPage:function(e,t){return"".concat(this.userAchievements(e,t),"/pledge-card")},userTrophies:function(e){return"/@".concat(e,"/achievements/trophies")},userTrophy:function(e,t){var n;return g()(n="".concat(this.userTrophies(e),"/")).call(n,t)},settings:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g()(t="".concat(this.user(e),"/settings")).call(t,n&&"#".concat(n))},settingsDevices:function(e){return"".concat(this.settings(e),"/devices")},settingsMails:function(e){return"".concat(this.settings(e),"/email-notifications")},settingsBonusCards:function(e){return"".concat(this.settings(e),"/bonus-cards")},profile:function(e){return"".concat(this.user(e),"/profile")},changePassword:function(e){return"".concat(this.settings(e),"/change-password")},resetPassword:function(){return"/reset-password"},changeEmail:function(e){return"".concat(this.settings(e),"/change-email")},changePhone:function(e){return"".concat(this.settings(e),"/change-phone")},changeCard:function(e,t){var n;return g()(n="".concat(this.user(e),"/change-card/")).call(n,t)},deleteAccount:function(e){return"".concat(this.settings(e),"/delete-account")},library:function(e){return"/library".concat(R()(e)?"":"?".concat(Object(L.a)(e)))},bookshelves:function(e){return"/bookshelves/all".concat(R()(e)?"":"?".concat(Object(L.a)(e)))},libraryFilters:function(){return"/library/filters"},showcaseBooks:function(){return"/books"},showcaseAudiobooks:function(){return"/audiobooks"},showcaseComicbooks:function(){return"/comicbooks"},showcaseSection:function(e,t){var n;return g()(n="".concat(e,"/s-")).call(n,t)},stripePaymentComplete:function(e){var t,n=e?B(e):"";return g()(t="".concat(this.subscription(),"/complete")).call(t,n)},manageSubscriptions:function(){return"/manage-subscriptions"},subscription:function(e){return"/subscription".concat(e?"?path=".concat(e):"")},subscriptionFeaturedProduct:function(e){var t=e?B(e):"";return"/subscription/featured-product".concat(t)},subscriptionMaster:function(){return"/subscription/master"},subscriptionSuccess:function(e){var t,n=e?B(e):"";return g()(t="".concat(this.subscription(),"/success")).call(t,n)},subscriptionKind:function(e,t){var n,r;return g()(n=g()(r="".concat(this.subscription(),"/")).call(r,e)).call(n,t?"?path=".concat(t):"")},subscriptionUpgrade:function(e,t){var n;return g()(n="".concat(this.subscriptionKind(e),"/upgrade?path=")).call(n,t)},specialOffer:function(e){var t;if(R()(e))return"";var n=e.campaign,r=e.planName,a=r?"?plan=".concat(r):"";return g()(t="/special-offers/".concat(n)).call(t,a)},specialOfferPayment:function(e){var t;if(R()(e))return"";var n=e.campaign,r=B({plan:e.planName,sign_in_token:e.signInToken,click_id:e.click_id});return g()(t="".concat(this.specialOffer({campaign:n}),"/payment")).call(t,r)},specialOfferSuccess:function(e){var t=e.campaign;return"".concat(this.specialOffer({campaign:t}),"/success")},threeMonthsOffer:function(){return"/special-offers/three_months/payment?description=true"},friendsFeed:function(){return"/feed/friends"},communityFeed:function(){return"/feed/explore"},search:function(){return"/search"},searchAll:function(e){return"/search/all/".concat(encodeURIComponent(e))},searchBooks:function(e){return"/search/books/".concat(encodeURIComponent(e))},searchAudioBooks:function(e){return"/search/audiobooks/".concat(encodeURIComponent(e))},searchComicbooks:function(e){return"/search/comicbooks/".concat(encodeURIComponent(e))},searchSeries:function(e){return"/search/series/".concat(encodeURIComponent(e))},searchAuthors:function(e){return"/search/authors/".concat(encodeURIComponent(e))},searchBookshelves:function(e){return"/search/bookshelves/".concat(encodeURIComponent(e))},searchUsers:function(e){return"/search/users/".concat(encodeURIComponent(e))},book:function(e){return"/books/".concat(e)},serial:function(e){return"/serials/".concat(e)},bookWithDomain:function(e,t,n){var r,a;return t?g()(r="".concat(this.absoluteRootWithSubdomain(t,n))).call(r,this.book(e)):g()(a="".concat(this.absoluteRoot(n))).call(a,this.book(e))},serialWithDomain:function(e,t,n){var r,a;return t?g()(r="".concat(this.absoluteRootWithSubdomain(t,n))).call(r,this.serial(e)):g()(a="".concat(this.absoluteRoot(n))).call(a,this.serial(e))},comicbook:function(e){return"/comicbooks/".concat(e)},comicbookWithDomain:function(e,t,n){var r,a;return t?g()(r="".concat(this.absoluteRootWithSubdomain(t,n))).call(r,this.comicbook(e)):g()(a="".concat(this.absoluteRoot(n))).call(a,this.comicbook(e))},comicbookImpressions:function(e){return"".concat(this.comicbook(e),"/impressions")},comicbookImpressionForm:function(e){return"".concat(this.comicbookImpressions(e),"/form")},comicbookReaders:function(e){return"".concat(this.comicbook(e),"/readers")},comicbookRelated:function(e){return"".concat(this.comicbook(e),"/related")},comicbookShelves:function(e){return"".concat(this.comicbook(e),"/shelves")},comicbookAddToShelf:function(e){return"".concat(this.comicbook(e),"/add_to_shelf")},audioBook:function(e){return"/audiobooks/".concat(e)},audioBookWithDomain:function(e,t,n){var r,a;return t?g()(r="".concat(this.absoluteRootWithSubdomain(t,n))).call(r,this.audioBook(e)):g()(a="".concat(this.absoluteRoot(n))).call(a,this.audioBook(e))},audioBookImpressions:function(e){return"".concat(this.audioBook(e),"/impressions")},audioBookImpressionForm:function(e){return"".concat(this.audioBookImpressions(e),"/form")},audioBookListeners:function(e){return"".concat(this.audioBook(e),"/listeners")},audioBookAddToShelf:function(e){return"".concat(this.audioBook(e),"/add_to_shelf")},audioBookRelated:function(e){return"".concat(this.audioBook(e),"/related")},bookReaders:function(e){return"".concat(this.book(e),"/readers")},bookShelves:function(e){return"".concat(this.book(e),"/shelves")},bookQuotes:function(e){return"".concat(this.book(e),"/quotes")},bookQuote:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i="/quotes/".concat(e);return r&&(i=g()(t="".concat(this.absoluteRoot(a))).call(t,i)),g()(n="".concat(i)).call(n,o)},quoteAddToShelf:function(e){return"/quotes/".concat(e,"/add_to_shelf")},bookImpressions:function(e){return"".concat(this.book(e),"/impressions")},bookImpressionForm:function(e){return"".concat(this.bookImpressions(e),"/form")},bookAddToShelf:function(e){return"".concat(this.book(e),"/add_to_shelf")},impression:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i="/impressions/".concat(e);return r&&(i=g()(t="".concat(this.absoluteRoot(a))).call(t,i)),g()(n="".concat(i)).call(n,o)},impressionAddToShelf:function(e){return"/impressions/".concat(e,"/add_to_shelf")},bookRelated:function(e){return"".concat(this.book(e),"/related")},serialRelated:function(e){return"".concat(this.serial(e),"/related")},serialReaders:function(e){return"".concat(this.serial(e),"/readers")},serialShelves:function(e){return"".concat(this.serial(e),"/shelves")},serialQuotes:function(e){return"".concat(this.serial(e),"/quotes")},serialImpressions:function(e){return"".concat(this.serial(e),"/impressions")},serialImpressionForm:function(e){return"".concat(this.serialImpressions(e),"/form")},serialEpisodes:function(e){return"".concat(this.serial(e),"/episodes")},serialAddToShelf:function(e){return"".concat(this.serial(e),"/add_to_shelf")},resource:function(e,t){switch(t){case"book":return this.book(e);case"audiobook":return this.audioBook(e);case"comicbook":return this.comicbook(e);case"serial":return this.serial(e)}},resourceRelated:function(e,t){switch(t){case"book":return this.bookRelated(e);case"audiobook":return this.audioBookRelated(e);case"comicbook":return this.comicbookRelated(e)}},promo:function(e,t){var n;return t?g()(n="/code?promo=".concat(e,"&dscvr=")).call(n,t):"/code?promo=".concat(e)},personalCodeSharing:function(e){return"/code/personal/".concat(e)},codePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/code/".concat(e)},sitemapPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"books",t=arguments.length>1?arguments[1]:void 0;return x(["/sitemap",e,t].join("/"))},shelf:function(e,t){var n,r="/bookshelves/".concat(e);return t&&(r=g()(n="".concat(this.absoluteRoot(t))).call(n,r)),r},shelfWithDomain:function(e,t,n){var r,a;return t?g()(r="".concat(this.absoluteRootWithSubdomain(t,n))).call(r,this.shelf(e)):g()(a="".concat(this.absoluteRoot(n))).call(a,this.shelf(e))},shelfNew:function(){return"/bookshelves/new"},shelfEdit:function(e){return"".concat(this.shelf(e),"/edit")},shelfAddResource:function(e,t){var n=e.shelfId,r=e.resourceType,a=e.resourceId;switch(r){case"books":return this.shelfAddBook(n,a,t);case"serials":return this.shelfAddSerial(n,a,t);case"audiobooks":return this.shelfAddAudiobook(n,a,t);case"comicbooks":return this.shelfAddComicbook(n,a,t);case"quotes":return this.shelfAddQuote(n,a,t);case"impressions":return this.shelfAddImpression(n,a,t)}},searchPickedBooks:function(e,t){var n,r=t?B(t):"";return g()(n="".concat(e,"/books")).call(n,r)},searchPickedAudiobooks:function(e,t){var n,r=t?B(t):"";return g()(n="".concat(e,"/audiobooks")).call(n,r)},searchPickedComicbooks:function(e,t){var n,r=t?B(t):"";return g()(n="".concat(e,"/comicbooks")).call(n,r)},addBookOnShelf:function(e,t){var n,r=t?B(t):"";return t?g()(n="".concat(this.shelf(e),"/add")).call(n,r):"".concat(this.shelf(e),"/add")},shelfChooseAllToAdd:function(e,t){var n,r=t?B(t):"";return g()(n="".concat(this.shelf(e),"/add")).call(n,r)},shelfChooseBooksToAdd:function(e,t){var n,r=t?B(t):"";return g()(n="".concat(this.shelf(e),"/add/books")).call(n,r)},shelfChooseSerialsToAdd:function(e,t){var n,r=t?B(t):"";return g()(n="".concat(this.shelf(e),"/add/serials")).call(n,r)},shelfChooseAudiobooksToAdd:function(e,t){var n,r=t?B(t):"";return g()(n="".concat(this.shelf(e),"/add/audiobooks")).call(n,r)},shelfChooseComicbooksToAdd:function(e,t){var n,r=t?B(t):"";return g()(n="".concat(this.shelf(e),"/add/comicbooks")).call(n,r)},shelfAddBook:function(e,t,n){var r,a,o=n?B(n):"";return g()(r=g()(a="".concat(this.shelf(e),"/add/books/")).call(a,t)).call(r,o)},shelfAddSerial:function(e,t,n){var r,a,o=n?B(n):"";return g()(r=g()(a="".concat(this.shelf(e),"/add/serials/")).call(a,t)).call(r,o)},shelfAddAudiobook:function(e,t,n){var r,a,o=n?B(n):"";return g()(r=g()(a="".concat(this.shelf(e),"/add/audiobooks/")).call(a,t)).call(r,o)},shelfAddComicbook:function(e,t,n){var r,a,o=n?B(n):"";return g()(r=g()(a="".concat(this.shelf(e),"/add/comicbooks/")).call(a,t)).call(r,o)},shelfAddQuote:function(e,t,n){var r,a,o=n?B(n):"";return g()(r=g()(a="".concat(this.shelf(e),"/add/quotes/")).call(a,t)).call(r,o)},shelfAddImpression:function(e,t,n){var r,a,o=n?B(n):"";return g()(r=g()(a="".concat(this.shelf(e),"/add/impressions/")).call(a,t)).call(r,o)},shelfBooks:function(e){return"".concat(this.shelf(e),"/books")},shelfPosts:function(e){return"".concat(this.shelf(e),"/posts")},shelfPost:function(e,t,n){var r,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return g()(r=g()(a="".concat(this.shelf(e,n),"/posts/")).call(a,t)).call(r,o)},shelfPostEdit:function(e,t){return"".concat(this.shelfPost(e,t),"/edit")},shelfFollowers:function(e){return"".concat(this.shelf(e),"/followers")},series:function(e){return"/series/".concat(e)},seriesFollowers:function(e){return"".concat(this.series(e),"/followers")},seriesEpisodes:function(e){return"".concat(this.series(e),"/episodes")},topicPage:function(e){return"/topics/".concat(e)},topicHierarchy:function(e){var t,n,r,a,o,i,c=e.topic,s=e.resourceType,u=e.subtopic,l=e.section,d={topic:g()(t="/".concat(s,"/t-")).call(t,c),all:g()(n="/".concat(s,"/t-")).call(n,c,"/all"),subtopic:"",section:""};u&&(d.subtopic=g()(r=g()(a="/".concat(s,"/t-")).call(a,c,"/t-")).call(r,u));l&&(d.section=g()(o=g()(i="/".concat(s,"/t-")).call(i,c,"/s-")).call(o,l));return d},freeTopicPage:function(e){var t,n={ru:"ÐÐµÑÐ¿Ð»Ð°ÑÐ½Ð¾",en:"Read%20for%20free",kk:"Ð¢ÐµÐ³ÑÐ½",nl:"Gratis%20boeken",es:"Libros%20gratis",id:"Buku%20gratis"},r=O()(t=["ru","kk","nl","es","id"]).call(t,e)?n[e]:n.en;return"/topics/".concat(r)},author:function(e){return"/authors/".concat(e)},authorWorks:function(e){var t,n,r=e.authorId,a=e.role,o=e.worksType;return g()(t=g()(n="/authors/".concat(r,"/")).call(n,a,"/")).call(t,o)},authorMediaLinks:function(e){return"/authors/".concat(e,"/media-links")},authorLanguageVariants:function(e){return"".concat(this.author(e),"/languages")},webReader:function(e,t){var n,r,a,o=t.replace(/^www(\d+)\./,"reader$1."),i="";o!==t?i=g()(n=g()(r="".concat(N)).call(r,o,"/")).call(n,e):i=g()(a="".concat(N,"reader.bookmate.com/")).call(a,e);return i},reader:function(e,t){var n,r,a,o="";(o=g()(n="reader/".concat(e,"?resource=")).call(n,t.resourceType),t.seriesUuid)&&(o=g()(r="".concat(o,"&from_series=")).call(r,t.seriesUuid));t.serialInfo&&(o=g()(a="".concat(o,"&")).call(a,t.serialInfo));return"/".concat(o)},getSerialReaderQuery:function(e){var t,n,r,a=(null==e||null===(t=e.library_card)||void 0===t?void 0:t.current_episode_position)||1,o=(null==e||null===(n=e.library_card)||void 0===n?void 0:n.current_episode_uuid)||"";return g()(r="episode=".concat(a,"&episode_uuid=")).call(r,o)},publisher:function(e){return"https://publisher.".concat(e)},about:function(){return"/about"},contacts:function(){return"/about/contacts"},jobs:function(){return"/about/jobs"},legal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/about/legal".concat(e)},press:function(){return"/about/press"},support:function(e){return"https://support.bookmate.com/hc/".concat(P(e))},supportSubscriptionLinks:function(e){var t,n,r={default:"en-us",ru:"ru-ru",da:"da-dk"},a={default:{googleplay:"203232607",settings:"202136933"},az:{googleplay:"115007236127",settings:"115007235887"}},o="az"===(e=P(e))?a.az:a.default;return{appstore:"https://support.apple.com/".concat(r[e]||r.default,"/HT202039"),googleplay:g()(t="https://support.bookmate.com/hc/".concat(e,"/articles/")).call(t,o.googleplay),settings:g()(n="https://support.bookmate.com/hc/".concat(e,"/articles/")).call(n,o.settings)}},gifts:function(){return"/gifts"},giftsActivationSuccess:function(){return"/gifts/success"},giftsSuggestBook:function(){return"/gifts/suggest-book"},newGift:function(){return"/gifts/new"},newGiftWithSuggestedBook:function(e){return"/gifts?suggested-book=".concat(e)},giftsCustomisation:function(){return"/gifts/customise"},giftsPayment:function(){return"/gifts/payment"},giftsPaymentSuccess:function(){return"/gifts/payment/success"},giftsPaymentFail:function(){return"/gifts/payment/fail"},giftsPaymentComplete:function(){return"/gifts/payment/complete"},giftsPaymentAgreement:function(){return"/gifts/payment/agreement"},"giftÐ¡ard":function(e){return"/gifts/".concat(e)},browserError:function(){return"/errors/browser"},statusError:function(e){return"/errors/".concat(e)},mailing:function(){return"/mailing"},upload:function(e){return"link"===e?"/upload/from-external-link":"/upload"},getTheApp:function(){return"/gettheapp"},notifications:function(){return"/notifications"},reportProblem:function(e){return"/report-problem?resource=".concat(e)},canvasQuote:function(e){var t,n,r,a=e.quoteId,o=e.mode;return g()(t=g()(n=g()(r="".concat(D,"/quotes/")).call(r,a,"?mode=")).call(n,o,"&")).call(t,v()())},canvasBook:function(e){var t,n,r,a=e.bookId,o=e.mode;return g()(t=g()(n=g()(r="".concat(D,"/books/")).call(r,a,"?mode=")).call(n,o,"&")).call(t,v()())},canvasAudiobook:function(e){var t,n,r,a=e.audiobookId,o=e.mode;return g()(t=g()(n=g()(r="".concat(D,"/audiobooks/")).call(r,a,"?mode=")).call(n,o,"&")).call(t,v()())},canvasAuthor:function(e){var t,n,r,a=e.authorId,o=e.mode;return g()(t=g()(n=g()(r="".concat(D,"/authors/")).call(r,a,"?mode=")).call(n,o,"&")).call(t,v()())},canvasShelf:function(e){var t,n,r,a,o=e.shelfId,i=e.mode,c=e.timestamp;return g()(t=g()(n=g()(r=g()(a="".concat(D,"/shelves/")).call(a,o,"?mode=")).call(r,i,"&")).call(n,c,"&")).call(t,v()())},canvasComicbook:function(e){var t,n,r,a=e.comicbookId,o=e.mode;return g()(t=g()(n=g()(r="".concat(D,"/comicbooks/")).call(r,a,"?mode=")).call(n,o,"&")).call(t,v()())},canvasPost:function(e){var t,n,r,a=e.shelfId,o=e.postId,i=e.mode;return g()(t=g()(n=g()(r="".concat(D,"/shelves/")).call(r,a,"/posts/")).call(n,o,"?mode=")).call(t,i)},canvasImpression:function(e){var t,n,r,a=e.impressionId,o=e.mode,i=e.language;return g()(t=g()(n=g()(r="".concat(D,"/impressions/")).call(r,a,"?mode=")).call(n,o,"&lang=")).call(t,i)},canvasUser:function(e){var t,n,r=e.username,a=e.mode;return g()(t=g()(n="".concat(D,"/users/")).call(n,r,"?mode=")).call(t,a)},canvasSeries:function(e){var t,n,r=e.seriesId,a=e.mode;return g()(t=g()(n="".concat(D,"/series/")).call(n,r,"?mode=")).call(t,a)},bigbook:function(e){return"/bigbook/".concat(e)},readerPodcast:function(){return"/specials/reader-podcast"},referralLanding:function(e){return"/join/@".concat(e)},manageSubscriptionsInItunes:function(){return"itms-apps://apps.apple.com/account/subscriptions"}}},AQy6:function(e,t,n){},AYGL:function(e,t,n){e.exports=n.p+"febe47705eb5154ccbd257da0b66b011.png"},AqIe:function(e){e.exports=JSON.parse('{"cookieBasic":"Cookies are required for basic functions (for instance, sign in to the system)","cookiePerformance":"Allow cookies to measure performance (for instance, Google Analytics)","cookieMarketing":"Allow the use of cookies for marketing purposes (for instance, Facebook and Google)"}')},B7Kn:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=200,a=" â Bookmate",o=" | Bookmate"},Bd68:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return S}));var r=n("04Ix"),a=n.n(r),o=n("o+MX"),i=n.n(o),c=n("Vi3r"),s=n.n(c),u=n("kT1S"),l=n.n(u),d=n("FLGM"),p=n.n(d),f=n("ZDpU"),h="NOTIFICATIONS_LOAD",m="NOTIFICATIONS_LOAD_SUCCESS",v="NOTIFICATIONS_MARK_AS_READ",_={data:[],page:null};function g(e){return p()(e).call(e,(function(e){return l()(l()({},e),{},{activist:e.activist.user})}))}function b(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return l()(l()({},t),{},{data:n.append?i()(e=[]).call(e,s()(t.data),s()(n.data)):n.data,page:n.nextPage});default:return t}}function O(){return a()({},f.a,{endpoint:"/p/api/v5/profile/notifications/status",options:{method:"put",data:{notifications:{status:true}}},types:["NOTIFICATIONS_MARK",v]})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.p,n=e.pp,r=e.append,o=void 0!==r&&r,i={p:t||1,pp:n||5,serializer:"flexible"};return a()({},f.a,{endpoint:"/p/api/v5/profile/notifications",options:{data:i},modifyResponse:function(e){return{data:g(e.notifications),append:o,nextPage:e.notifications.length?t+1:null}},types:[h,m]})}},CuFz:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));n("sMBO");var r=n("EcSs"),a=n.n(r),o=n("FLGM"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("06Pm"),l=n.n(u),d=n("kA7L"),p=n.n(d),f=n("hO3g"),h=n.n(f),m=n("X5/F"),v=n.n(m),_=n("K82H"),g=n.n(_),b=n("04Ix"),O=n.n(b),S=n("q1tI"),E=n.n(S),k=n("vN+2"),y=n.n(k),C=n("TSYQ"),A=n.n(C),w=n("mqLZ"),R=n("mhdu"),I=n("3L7n"),L=function(e){v()(n,e);var t=g()(n);function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,s()(e=[this]).call(e,o)),O()(h()(r),"onItemClick",(function(){var e=r.props,t=e.item.analytics,n=e.dispatch;t&&n(Object(I.N)(I.D,t))})),r}return p()(n,[{key:"render",value:function(){return E.a.createElement("div",{onClick:this.onItemClick},this.props.children)}}]),n}(S.Component),T=Object(R.a)(L),U=n("va4D"),N=n.n(U),D=n("srPO"),P=(n("FM1t"),E.a.createElement(N.a,{svg:D.a,className:"dropdown__item-mark"})),x=function(e){v()(n,e);var t=g()(n);function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,s()(e=[this]).call(e,o)),O()(h()(r),"handleTouchMove",(function(e){r.props.hidden||e.preventDefault()})),O()(h()(r),"handleClickOutside",(function(e){var t=r.props,n=t.onClose,a=t.hidden,o="touchend"===e.type&&e.touches.length>0?e.touches[0]:e.target,i=r.refs.dropdown.parentNode;a||i.contains(o)||n()})),r}return p()(n,[{key:"render",value:function(){var e,t=this.props,n=t.items,r=t.hidden,a=t.position,o=t.children,i=r?"dropdown_hidden":"";return E.a.createElement("div",{"data-test-id":"dropdown",className:s()(e="dropdown ".concat(i," dropdown_")).call(e,a),ref:"dropdown"},o||this.renderItems(n))}},{key:"renderItems",value:function(e){return i()(e).call(e,(function(e,t){var n={};return e.actionName&&(n["data-action"]=e.actionName),E.a.createElement(T,{key:t,item:e},E.a.createElement("div",a()({className:"dropdown__item",onClick:e.action},n),e.icon&&E.a.createElement(N.a,{svg:e.icon,className:A()(O()({"dropdown__item-icon":true},"dropdown__item-icon-".concat(e.name),e.name))}),E.a.createElement("span",{className:"dropdown__item-title","data-test-id":e.title},e.title),e.selected&&P))}))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.app;e.hidden||w.a.isMobileSize(t)||this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props,t=e.position,n=e.offsetTop,r=e.offsetRight,a=this.refs.dropdown;if(a){var o=a.offsetWidth,i=a.parentNode.offsetWidth;switch(t){case"top-right":a.style.left="-".concat(o-i/2-30,"px");break;case"top-right-offset":a.style.left="-".concat(r,"px");break;case"top-left":a.style.left="-".concat(30,"px");break;case"top-center":a.style.left="".concat(-o/2+i/2,"px")}n&&(a.style.top="".concat(n,"px"))}}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,true),document.addEventListener("touchend",this.handleClickOutside,true),document.addEventListener("touchmove",this.handleTouchMove,false)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,true),document.removeEventListener("touchend",this.handleClickOutside,true),document.removeEventListener("touchmove",this.handleTouchMove,false),this.props.onClose()}}]),n}(S.Component);O()(x,"defaultProps",{position:"top-center",onClose:y.a});var M=Object(R.a)(x)},DRjp:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("04Ix"),a=n.n(r),o=n("a0dU"),i=n.n(o),c=(n("ls82"),n("SPx3")),s=n.n(c),u=n("XiPH"),l=n("+FvS"),d=n("ZDpU"),p=n("22CO"),f=n("FSMw"),h=n("AOYn"),m=n("fJzK"),v=Object(h.c)("book");function _(e){return a()({},d.a,{endpoint:"/p/api/v5/books/".concat(e),normalize:(t=s()(i.a.mark((function t(n,r){var a,o,c,s,d,f,h,_;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.book,o=r.dispatch,c=r.getState,s=a.uuid,d=c().app.url,!(e!==s)){t.next=8;break}Object(l.c)(v(s,d),301),t.next=13;break;case 8:if(f=Object(u.normalize)(a,p.f),h=f.result,_=f.entities,!a.library_card_uuid){t.next=12;break}return t.next=12,o(Object(m.a)(a.library_card_uuid));case 12:return t.abrupt("return",{result:h,entities:_,library_card_uuid:a.library_card_uuid,in_library:a.in_library});case 13:case"end":return t.stop()}}),t)}))),function(e,n){return t.apply(this,arguments)}),types:[f.a.BOOK_LOAD,f.a.BOOK_LOAD_SUCCESS,f.a.BOOK_LOAD_ERROR]});var t}},"E/HD":function(e,t,n){"use strict";var r=n("mnMc"),a=n.n(r),o=n("o+MX"),i=n.n(o),c=n("06Pm"),s=n.n(c),u=n("kA7L"),l=n.n(u),d=n("hO3g"),p=n.n(d),f=n("X5/F"),h=n.n(f),m=n("K82H"),v=n.n(m),_=n("04Ix"),g=n.n(_),b=n("q1tI"),O=n.n(b),S=n("/MKj"),E=n("L3Ur"),k=n("AOYn"),y=n("62mN"),C=n("avY4"),A=O.a.createElement(C.a,null),w=function(e){h()(n,e);var t=v()(n);function n(){var e,r;s()(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return r=t.call.apply(t,i()(e=[this]).call(e,o)),g()(p()(r),"onClick",(function(){var e=r.props,t=e.dispatch,n=e.onClose;n?n():t(r.canGoBack()?Object(E.goBack)():Object(E.push)(k.d.library()))})),r}return l()(n,[{key:"render",value:function(){var e,t=this.props,n=t.currentUser.auth,r=t.kind;return O.a.createElement(y.a,{clickHandler:this.onClick,kind:r},n&&!a()(e=["without-avatar"]).call(e,r)&&A)}},{key:"canGoBack",value:function(){return window.history.length>2}}]),n}(b.Component),R=Object(S.connect)((function(e){return{currentUser:e.currentUser}}));t.a=R(w)},EEXL:function(e,t,n){"use strict";t.a='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m38.2 8h-28.4c-1 0-1.8.8-1.8 1.8v28.5c0 1 .8 1.8 1.8 1.8h15.3v-12.5h-4.2v-4.8h4.2v-3.6c0-4.1 2.5-6.4 6.2-6.4 1.8 0 3.3.1 3.7.2v4.3h-2.6c-2 0-2.4 1-2.4 2.4v3.1h4.8l-.6 4.8h-4.2v12.4h8.2c1 0 1.8-.8 1.8-1.8v-28.4c0-1-.8-1.8-1.8-1.8" fill-rule="evenodd"/></svg>'},F6cB:function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"e",(function(){return N})),n.d(t,"b",(function(){return D})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return M})),n.d(t,"d",(function(){return K})),n.d(t,"c",(function(){return H})),n.d(t,"l",(function(){return z})),n.d(t,"m",(function(){return G})),n.d(t,"h",(function(){return q})),n.d(t,"k",(function(){return W})),n.d(t,"j",(function(){return Y})),n.d(t,"p",(function(){return Z})),n.d(t,"q",(function(){return Q})),n.d(t,"n",(function(){return J})),n.d(t,"o",(function(){return $})),n.d(t,"r",(function(){return ee})),n.d(t,"i",(function(){return ne}));var r=n("a0dU"),a=n.n(r),o=(n("ls82"),n("SPx3")),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("FLGM"),l=n.n(u),d=n("04Ix"),p=n.n(d),f=n("kT1S"),h=n.n(f),m=n("XiPH"),v=n("E+oP"),_=n.n(v),g=n("Puqe"),b=n.n(g),O=n("noZS"),S=n.n(O),E=n("vN+2"),k=n.n(E),y=n("G4qV"),C=n("ZDpU"),A=n("X2uE"),w=n("22CO"),R=n("3L7n"),I=n("MJ/v"),L=n("lSWr"),T=n("RfSM"),U="IMPRESSION_ADDED",N="IMPRESSION_LIKED",D="IMPRESSION_CHANGED",P="IMPRESSION_REMOVE",x="IMPRESSION_REMOVED",M="IMPRESSION_LOADING",j="IMPRESSION_LOADED",B="IMPRESSION_LOAD_FAILURE",K="IMPRESSION_CURRENT_USER_LOADED",H="IMPRESSION_CURRENT_USER_CLEAN",F=new m.schema.Union({book:w.f,audiobook:w.a,comicbook:w.h},(function(e,t){return t.embeddedResourceType})),z=new m.schema.Entity("impressions",{creator:w.r,emotions:A.c,resource:F},{idAttribute:"uuid",processStrategy:function(e){return h()(h()({},e),{},{embeddedResourceType:e.resource_type,resourceType:"impression"})}}),G=new m.schema.Array(z),V=function(e){return e.entities};function q(e,t,n){return S()(e,(function(e){return h()(h()({},e),{},p()({},n,t))}))}var W=Object(y.a)((function(e,t){return t}),V,(function(e,t){return Object(m.denormalize)(e,G,t)})),Y=Object(y.a)((function(e,t){return t}),V,(function(e,t){return Object(m.denormalize)(e,z,t)}));function X(e){return h()(h()({},e),{},{embeddedResourceType:e.resource_type})}function Z(e){return l()(e).call(e,(function(e){return X(e)}))}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.a;return p()({},C.a,{endpoint:"/p/api/v5/impressions/".concat(e),options:{method:"delete"},modifyResponse:function(){return{uuid:e,resourceUuid:t.resource.uuid,resourceType:t.resource.resourceType}},onSuccess:function(t){n(),t(Object(R.N)(R.u,{object_type:"impression",object_id:e})),t({type:H})},types:[P,x]})}function J(e){var t,n,r=e.resourceUuid,o=e.resourceType,c=e.onSuccess,u=void 0===c?k.a:c,l=e.onError,d=void 0===l?k.a:l;return p()({},C.a,{endpoint:s()(t="/p/api/v5/".concat(o,"s/")).call(t,r,"/impression"),normalize:(n=i()(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.normalize)(X(t.impression),z),r=n.result,o=n.entities,e.abrupt("return",{result:r,entities:o,impression:o.impressions[r]});case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onSuccess:function(e,t,n){e({data:{resourceUuid:r,resourceType:o,uuid:n.impression.uuid},type:K}),u(e,t,n)},onError:d,preserveError:true,types:[M,j,B]})}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=i()(a.a.mark((function n(r,o){var c,s,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=Y(o(),e),s=t.ignoreError,u=void 0!==s&&s,!c){n.next=5;break}return r({type:j,impression:c}),n.abrupt("return");case 5:return n.next=7,r(p()({},C.a,{endpoint:"/p/api/v5/impressions/".concat(e),normalize:function(){var e=i()(a.a.mark((function e(t){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.normalize)(X(t.impression),z),r=n.result,o=n.entities,e.abrupt("return",{result:r,entities:o,impression:o.impressions[r]});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),types:[M,j,B],ignoreError:u}));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var ee=Object(L.a)((function(e,t){return p()({},C.a,{endpoint:"/p/api/v5/impressions/".concat(e,"/likers"),options:{method:t?"delete":"post",dontParse:true},modifyResponse:function(){return{uuid:e,liked:t}},onSuccess:function(t){t(Object(R.N)(R.o,{object_type:"impression",object_id:e}))},types:["IMPRESSION_LIKE",N]})}),N),te={};function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=Object(T.a)(e,t,"impressions");if(!_()(n))return n;switch(t.type){case U:return h()(h()({},e),{},p()({},t.impression.uuid,t.impression));case D:var r=e[t.impression.uuid];return h()(h()({},e),{},p()({},t.impression.uuid,h()(h()({},r),t.impression)));case x:return b()(e,t.uuid);case N:var a=e[t.uuid];return t.liked!==a.liked?e:h()(h()({},e),{},p()({},t.uuid,h()(h()({},a),{},{likes_count:t.liked?a.likes_count-1:a.likes_count+1,liked:!t.liked})));case I.a:case I.b:var o=e[t.resourceUuid];return o?h()(h()({},e),{},p()({},t.resourceUuid,h()(h()({},o),{},{comments_count:Math.max(o.comments_count+(t.type===I.a?1:-1),0)}))):e;default:return e}}},FM1t:function(e,t,n){},FSMw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("jHxK"),a={BIGBOOK_2017_SHELF_ID:r[2017],POSITIVE_SHELF_ID:"CsHUNz99",NEGATIVE_SHELF_ID:"zfCSqmH8",AUTH_FORM_LOCK_SUBMIT:"AUTH_FORM_LOCK_SUBMIT",AUTH_FORM_UNLOCK_SUBMIT:"AUTH_FORM_UNLOCK_SUBMIT",AUTH_FORM_CHANGE_STEP:"AUTH_FORM_CHANGE_STEP",AUTH_FORM_CHANGE_FLOW:"AUTH_FORM_CHANGE_FLOW",AUTH_FORM_CHANGE_PHONE:"AUTH_FORM_CHANGE_PHONE",AUTH_FORM_ERROR:"AUTH_FORM_ERROR",AUTH_FORM_LOADING:"AUTH_FORM_LOADING",AUTH_FORM_LOGIN_SUCCESS:"AUTH_FORM_LOGIN_SUCCESS",AUTH_FORM_RESET_CREDENTIAL:"AUTH_FORM_RESET_CREDENTIAL",AUTH_FORM_RESET_PASSWORD:"AUTH_FORM_RESET_PASSWORD",AUTH_FORM_SYNC_VALUES:"AUTH_FORM_SYNC_VALUES",AUTH_FORM_CLEAR:"AUTH_FORM_CLEAR",SOCIAL_AUTH_INIT:"SOCIAL_AUTH_INIT",SOCIAL_AUTH_SUCCESS:"SOCIAL_AUTH_SUCCESS",AUTH_PASSWORD_RESET:"AUTH_PASSWORD_RESET",AUTH_CHECK_IF_REGISTERED:"AUTH_CHECK_IF_REGISTERED",AUTH_CHECK_IF_REGISTERED_SUCCESS:"AUTH_CHECK_IF_REGISTERED_SUCCESS",AUTH_ACCEPT_DATA_FROM_SOCIAL_NETWORK:"AUTH_ACCEPT_DATA_FROM_SOCIAL_NETWORK",AUTH_UPDATE_PRE_SIGNUP_FIELDS:"AUTH_UPDATE_PRE_SIGNUP_FIELDS",BOOK_LOAD:"BOOK_LOAD",BOOK_LOAD_SUCCESS:"BOOK_LOAD_SUCCESS",BOOK_LOAD_ERROR:"BOOK_LOAD_ERROR",BOOK_CHANGED:"BOOK_CHANGED",BOOK_READERS_LOAD:"BOOK_READERS_LOAD",BOOK_READERS_LOAD_SUCCESS:"BOOK_READERS_LOAD_SUCCESS",BOOK_SHELVES_LOAD:"BOOK_SHELVES_LOAD",BOOK_SHELVES_LOAD_SUCCESS:"BOOK_SHELVES_LOAD_SUCCESS",BOOK_RELATED_LOAD:"BOOK_RELATED_LOAD",BOOK_RELATED_LOAD_SUCCESS:"BOOK_RELATED_LOAD_SUCCESS",BOOK_QUOTES_LOAD:"BOOK_QUOTES_LOAD",BOOK_QUOTES_LOAD_SUCCESS:"BOOK_QUOTES_LOAD_SUCCESS",BOOK_IMPRESSIONS_LOAD:"BOOK_IMPRESSIONS_LOAD",BOOK_IMPRESSIONS_LOAD_SUCCESS:"BOOK_IMPRESSIONS_LOAD_SUCCESS",BOOK_REMOVED_FROM_WISHLIST:"BOOK_REMOVED_FROM_WISHLIST",BOOK_REMOVED_FROM_WISHLIST_SUCCESS:"BOOK_REMOVED_FROM_WISHLIST_SUCCESS",BOOK_ADD_TO_WISHLIST:"BOOK_ADD_TO_WISHLIST",BOOK_ADD_TO_WISHLIST_SUCCESS:"BOOK_ADD_TO_WISHLIST_SUCCESS",BOOK_OTHER_VERSIONS_LOAD:"BOOK_OTHER_VERSIONS_LOAD",BOOK_OTHER_VERSIONS_LOAD_SUCCESS:"BOOK_OTHER_VERSIONS_LOAD_SUCCESS",BOOK_EMOTION_RATING_LOAD:"BOOK_EMOTION_RATING_LOAD",BOOK_EMOTION_RATING_LOAD_SUCCESS:"BOOK_EMOTION_RATING_LOAD_SUCCESS",BOOK_SERIES_EPISODES_LOAD:"BOOK_SERIES_EPISODES_LOAD",BOOK_SERIES_EPISODES_LOAD_SUCCESS:"BOOK_SERIES_EPISODES_LOAD_SUCCESS",COMICBOOK_CARD_ADDING:"COMICBOOK_CARD_ADDING",COMICBOOK_CARD_ADDED:"COMICBOOK_CARD_ADDED",COMICBOOK_CARD_CHANGING:"COMICBOOK_CARD_CHANGING",COMICBOOK_CARD_CHANGED:"COMICBOOK_CARD_CHANGED",COMICBOOK_CARD_REMOVING:"COMICBOOK_CARD_REMOVING",COMICBOOK_CARD_REMOVED:"COMICBOOK_CARD_REMOVED",AUDIOBOOK_LOAD:"AUDIOBOOK_LOAD",AUDIOBOOK_LOAD_SUCCESS:"AUDIOBOOK_LOAD_SUCCESS",AUDIOBOOK_LOAD_ERROR:"AUDIOBOOK_LOAD_ERROR",AUDIOBOOK_CHANGED:"AUDIOBOOK_CHANGED",AUDIOBOOK_LISTENERS_LOAD:"AUDIOBOOK_LISTENERS_LOAD",AUDIOBOOK_LISTENERS_LOAD_SUCCESS:"AUDIOBOOK_LISTENERS_LOAD_SUCCESS",AUDIOBOOK_RELATED_LOAD:"AUDIOBOOK_RELATED_LOAD",AUDIOBOOK_RELATED_LOAD_SUCCESS:"AUDIOBOOK_RELATED_LOAD_SUCCESS",AUDIOBOOK_IMPRESSIONS_LOAD_ERROR:"AUDIOBOOK_IMPRESSIONS_LOAD_ERROR",AUDIOBOOK_IMPRESSIONS_LOAD:"AUDIOBOOK_IMPRESSIONS_LOAD",AUDIOBOOK_IMPRESSIONS_LOAD_SUCCESS:"AUDIOBOOK_IMPRESSIONS_LOAD_SUCCESS",AUDIOBOOK_OTHER_VERSIONS_LOAD:"AUDIOBOOK_OTHER_VERSIONS_LOAD",AUDIOBOOK_OTHER_VERSIONS_LOAD_SUCCESS:"AUDIOBOOK_OTHER_VERSIONS_LOAD_SUCCESS",AUDIOBOOK_EMOTION_RATING_LOAD:"AUDIOBOOK_EMOTION_RATING_LOAD",AUDIOBOOK_EMOTION_RATING_LOAD_SUCCESS:"AUDIOBOOK_EMOTION_RATING_LOAD_SUCCESS",AUDIOBOOK_SERIES_EPISODES_LOAD:"AUDIOBOOK_SERIES_EPISODES_LOAD",AUDIOBOOK_SERIES_EPISODES_LOAD_SUCCESS:"AUDIOBOOK_SERIES_EPISODES_LOAD_SUCCESS"}},Gk1r:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return R})),n.d(t,"b",(function(){return I})),n.d(t,"g",(function(){return L})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return P}));n("oVuX"),n("sMBO"),n("rB9j"),n("Rm1S");var r=n("o+MX"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=n("a0dU"),s=n.n(c),u=(n("ls82"),n("SPx3")),l=n.n(u),d=n("WXbY"),p=n("L3Ur"),f=n("AOYn"),h=n("yayI"),m=n("wFvi"),v=n("FSMw"),_=n("/zpq"),g="MNO_SET_NAME",b="MNO_SET_PHONE_NUMBER",O="MNO_SHOW_CODE_FIELD",S="MNO_PHONE_NUMBER_CHECKING",E="MNO_PHONE_NUMBER_CHECK_ERROR",k="MNO_SMS_CODE_RESENDING",y="MNO_SMS_CODE_VALIDATING",C="MNO_SMS_CODE_VALIDATED",A="MNO_CODE_VALIDATION_ERROR";function w(e){return{type:g,data:{name:e}}}function R(e,t){var n=function(e,t){var n=/\d/g,r=e.match(n);if(!r)return"";r=r.join(""),"activ"===t&&r.length<11&&(r="7".concat(r));return"+".concat(r)}(e,t),r={};r.phoneNumber=n;var a=Object(m.b)(n);return a&&(r.country=a.code),{type:b,data:r}}function I(e,t){return function(){var n=l()(s.a.mark((function n(r,a){var o,i,c,u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i={number:e},n.t0=t,n.next="activ_audio"===n.t0?4:6;break;case 4:return o="/p/api/v5/landings/kcell/audio/send_confirmation_code",n.abrupt("break",7);case 6:o="/p/".concat(t,"/check_number");case 7:return c=a(),r({type:S}),n.prev=9,n.next=12,d.a.fetch(o,{state:c,method:"post",data:i});case 12:U(n.sent,r),n.next=22;break;case 16:throw n.prev=16,n.t1=n.catch(9),u="string"==typeof n.t1.error?n.t1.error:n.t1.error.message,r({type:E}),r(Object(h.b)("error",{message:u})),n.t1;case 22:case"end":return n.stop()}}),n,null,[[9,16]])})));return function(e,t){return n.apply(this,arguments)}}()}function L(e,t,n){return function(){var r=l()(s.a.mark((function r(a,o){var i,c,u;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c={number:e,code:t},u=o(),r.t0=n,r.next="activ_audio"===r.t0?5:7;break;case 5:return i="/p/api/v5/landings/kcell/audio/subscribe",r.abrupt("break",8);case 7:i="/p/".concat(n,"/validate_code");case 8:return r.next=10,a({type:y});case 10:return r.prev=10,r.next=13,d.a.fetch(i,{state:u,method:"post",data:c});case 13:U(r.sent,a,"vodafone"===n,n),r.next=23;break;case 18:throw r.prev=18,r.t1=r.catch(10),a({type:A}),a(Object(h.b)("error",{message:r.t1.error})),r.t1;case 23:case"end":return r.stop()}}),r,null,[[10,18]])})));return function(e,t){return r.apply(this,arguments)}}()}function T(e,t){return function(){var n=l()(s.a.mark((function n(r){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:k}),r(I(e,t));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function U(e,t){return N.apply(this,arguments)}function N(){return(N=l()(s.a.mark((function e(t,n){var r,o,i,c,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>2&&void 0!==u[2]&&u[2],o=u.length>3&&void 0!==u[3]?u[3]:"",e.t0=t.action,e.next="show_code_page"===e.t0||"activation_sent"===e.t0?5:"show_success_page"===e.t0?7:"redirect_with_informer"===e.t0||"redirect_without_informer"===e.t0?11:14;break;case 5:return n({type:O}),e.abrupt("break",14);case 7:return e.next=9,n({type:r?v.a.AUTH_FORM_LOGIN_SUCCESS:C,data:{login:t.login}});case 9:return r&&o&&(_.a.isProduction()&&"vodafone"===o?window.location.href="https://uk.bookmate.com/".concat(o,"/success"):window.location.href=a()(i="".concat(window.location.origin,"/")).call(i,o,"/success")),e.abrupt("break",14);case 11:return n({type:r?v.a.AUTH_FORM_LOGIN_SUCCESS:C,data:{login:t.login}}),r?window.location.href=a()(c="".concat(window.location.origin)).call(c,f.d.library()):n(Object(p.push)(f.d.library())),e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D={ui:{loading:false,showSMSField:false,resendingSMSCode:false,isSuccess:false},name:"",phoneNumber:"",smsCode:"",country:""};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return i()(i()({},e),{},{name:t.data.name});case b:return i()(i()({},e),t.data);case S:case y:return i()(i()({},e),{},{ui:i()(i()({},e.ui),{},{loading:true})});case E:case A:return i()(i()({},e),{},{ui:i()(i()({},e.ui),{},{loading:false})});case O:return i()(i()({},e),{},{ui:i()(i()({},e.ui),{},{loading:false,showSMSField:true})});case k:return i()(i()({},e),{},{ui:i()(i()({},e.ui),{},{loading:true,showSMSField:true})});case C:return i()(i()({},e),{},{ui:i()(i()({},e.ui),{},{loading:false,showSMSField:false,isSuccess:true})});default:return e}}},GwM9:function(e,t,n){"use strict";var r=n("o+MX"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("hO3g"),l=n.n(u),d=n("X5/F"),p=n.n(d),f=n("K82H"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("q1tI"),g=n.n(_),b=n("/MKj"),O=n("H5rt"),S=n("fzp2"),E=n("EcSs"),k=n.n(E),y=n("ZD0w"),C=n("Rfcb"),A=n.n(C),w=(n("0qyx"),n("RQcy")),R=n("PpkX"),I=n("sAtQ"),L=n("1JdC"),T=(n("sMBO"),n("Kwsy")),U=n.n(T),N=n("eixT"),D=n("gYkH"),P=(n("Vo54"),g.a.createElement("div",{className:"credential-input__loader"},g.a.createElement(N.a,{color:"gray"}))),x=function(e){p()(n,e);var t=h()(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"componentDidMount",value:function(){this.checkIfAutocompleted()}},{key:"checkIfAutocompleted",value:function(){var e=this.refs.input,t=e.getElement();U()((function(){if(e.getValue()){var n=document.createEvent("Event");n.initEvent("change",false,true);var r=document.createEvent("Event");r.initEvent("blur",false,true),t.form.dispatchEvent(n),t.dispatchEvent(r)}}),D.a)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.userpic,r=e.inputProps,a=e.onBlur,o=e.onChange;return g.a.createElement("div",{className:"credential-input"},t&&this.renderLoader(),n&&this.renderUserPic(n),g.a.createElement(L.a,k()({},r,{"data-test-id":"credential-input-".concat(r.name),type:"text",onBlur:a,onChange:o,ref:"input",kind:t||n?"with-userpic":""})))}},{key:"renderLoader",value:function(){return P}},{key:"renderUserPic",value:function(e){return g.a.createElement("img",{className:"credential-input__userpic",src:e})}}]),n}(_.Component);v()(x,"defaultProps",{loading:false,userpic:""});var M=n("2i0I"),j=n("ahCH"),B=n("YUtL"),K=n("eppo"),H=n("O7i+"),F=n("AOYn"),z=n("lxhJ"),G=g.a.createElement(y.Trans,{id:"auth.forgot_password"}),V=g.a.createElement(w.a,null),q=g.a.createElement(B.a,null),W=g.a.createElement(w.a,null),Y=g.a.createElement(B.a,{size:24}),X=g.a.createElement(y.Trans,{id:"buttons.join"}),Z=function(e){p()(n,e);var t=h()(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return g.a.createElement("div",{className:"login-form"},this.renderCurrentStep())}},{key:"renderCurrentStep",value:function(){var e=this.props,t=e.withAuth,n=e.currentStep;return t&&"socialAuthenticated"===n?this.renderSocialAuthenticatedStep():this.renderEmailStep()}},{key:"renderEmailStep",value:function(){var e=this.props,t=e.i18n,n=e.dispatch,r=e.shouldShowPreSignupFields,a=e.shouldAllowAuth,o=e.error,i=e.loading,c=e.isUserRegistrationChecked,s=e.isUserRegistered,u=e.credentialInputProps,l=e.withAuth;return g.a.createElement(g.a.Fragment,null,g.a.createElement(x,k()({inputProps:{name:"email",placeholder:t._("auth.email_placeholder"),autoFocus:true}},u)),g.a.createElement(L.a,{type:"password",name:"password","data-test-id":"credential-input-password",placeholder:t._("auth.password_placeholder")}),g.a.createElement(R.a,{className:"login-form__subaction",path:F.d.resetPassword(),onClick:function(){return n(Object(z.d)())}},G),r&&V,this.showError(o),g.a.createElement(M.a,{type:"submit","data-test-id":"credential-submit",disabled:!a,loading:i,kind:s?void 0:"primary"},g.a.createElement(K.a,{isChecked:c,isRegistered:s,role:"button"})),l&&this.renderAllLoginOptions())}},{key:"renderSocialAuthenticatedStep",value:function(){var e=this.props,t=e.changeStep,n=e.shouldAllowAuth,r=e.socialAuth,a=e.error,o=e.loading,i=g.a.createElement("span",{className:"auth__error-link",onClick:function(){return t("email")}}),c=a&&g.a.createElement(y.Trans,{id:a,components:[i]});return g.a.createElement(g.a.Fragment,null,g.a.createElement(I.a,r),q,W,Y,g.a.createElement(M.a,{kind:"primary",disabled:!n,loading:o},X),a&&this.showError(c))}},{key:"showError",value:function(e){if(e)return g.a.createElement("p",{className:"login-form__error"},e)}},{key:"renderAllLoginOptions",value:function(){var e=this.props,t=e.country,n=e.onSocialButtonClick;return g.a.createElement("div",null,g.a.createElement("span",{className:"login-form__social"},g.a.createElement(j.a,{onButtonClick:n,kind:"links",providersConditions:{yandex:Object(H.c)(t),vkontakte:Object(H.b)(t)}})))}}]),n}(_.PureComponent);v()(Z,"defaultProps",{withAuth:false});var Q=A()(Object(y.withI18n)({update:true}))(Z),J=function(e){p()(n,e);var t=h()(n);function n(){var e,r;i()(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return r=t.call.apply(t,a()(e=[this]).call(e,c)),v()(l()(r),"onCredentialChange",(function(){var e=r.props,t=e.dispatch;e.auth.userIsRegistered&&t(S.m())})),v()(l()(r),"onCredentialEntered",(function(e){var t=e.currentTarget;if(t instanceof HTMLInputElement){var n=t.value;"string"==typeof n&&n.length&&r.props.dispatch(S.f({credential:n,channel:"email"}))}})),v()(l()(r),"onSocialButtonClick",(function(e){r.props.dispatch(S.j(e))})),v()(l()(r),"changeStep",(function(e){r.props.dispatch(S.e(e))})),r}return s()(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(S.m())}},{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.currentUser.data.country,r=e.auth,a=r.currentStep,o=r.socialAuth,i=r.error,c=r.loading,s=r.ui.checkingIfRegistered,u=r.userpic,l=e.shouldShowPreSignupFields,d=e.shouldAllowAuth,p=e.isUserRegistrationChecked,f=e.isUserRegistered,h=e.withAuth;return g.a.createElement(Q,{dispatch:t,withAuth:h,currentStep:a,socialAuth:o,shouldShowPreSignupFields:l,shouldAllowAuth:d,loading:c,error:i,changeStep:this.changeStep,isUserRegistrationChecked:p,isUserRegistered:f,country:n,onSocialButtonClick:this.onSocialButtonClick,credentialInputProps:{loading:s,userpic:u,onChange:this.onCredentialChange,onBlur:this.onCredentialEntered}})}}]),n}(_.Component);v()(J,"defaultProps",{withAuth:false});t.a=Object(b.connect)((function(e){return{auth:e.auth,currentUser:e.currentUser,shouldShowPreSignupFields:Object(O.e)(e),shouldAllowAuth:Object(O.c)(e),isUserRegistrationChecked:Object(O.b)(e),isUserRegistered:Object(O.a)(e)}}))(J)},"H+Nm":function(e,t,n){},H5rt:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("mwIZ"),a=n.n(r),o=n("Jhcc");function i(e){return"email"===a()(e,"auth.currentStep")||a()(e,"auth.socialAuth.email_provided")||Boolean(a()(e,"auth.socialAuth.rawOauthResponse.email"))}function c(e){return!e.auth.userIsRegistered&&"signup"===e.auth.flow}function s(e){var t=e.auth,n="signup"===t.flow&&!function(e){var t=e.auth.preSignupFields,n=t.acceptTermsOfService,r=t.isOfLegalAge;return n&&r}(e),r="email"===t.currentStep&&!Object(o.b)(t.password),a="codeSent"===t.currentStep&&!t.smsCode.length;return!n&&!r&&!a}function u(e){return e.auth.userRegistrationChecked&&e.auth.userIsRegistered}function l(e){return e.auth.userRegistrationChecked}},H68O:function(e,t,n){"use strict";t.a='<svg height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m17.844 4h-11.688c-1.191 0-2.156.965-2.156 2.156v11.688c0 1.191.965 2.156 2.156 2.156h5.764l.01-5.717h-1.484c-.193 0-.35-.156-.352-.35l-.006-1.844c-.002-.193.156-.352.35-.352h1.482v-1.779c0-2.066 1.263-3.192 3.106-3.192h1.513c.193 0 .351.157.351.351v1.553c0 .193-.157.35-.351.351h-.928c-1.003 0-1.197.476-1.197 1.175v1.542h2.203c.21 0 .373.184.348.393l-.219 1.842c-.021.178-.17.311-.348.311h-1.975l-.009 5.716h3.43c1.191 0 2.156-.965 2.156-2.156v-11.688c0-1.191-.965-2.156-2.156-2.156z" fill="#447ed1"/></svg>'},IWyS:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return k}));var r=n("a0dU"),a=n.n(r),o=n("04Ix"),i=n.n(o),c=(n("ls82"),n("SPx3")),s=n.n(c),u=n("kT1S"),l=n.n(u),d=n("ZDpU"),p=n("L3Ur"),f=n("AOYn"),h=n("8OPv"),m=n("3L7n"),v="CODE_SET",_="CODE_CHECKED",g="CODE_CHECKING";function b(e){var t=e.codeValue,n=e.redirectUrl,r=e.autocomplete,a=void 0!==r&&r,o=n?{redirectUrl:n}:{};return{type:v,data:l()({codeValue:t,autocomplete:a},o)}}function O(e){var t=e.codeValue,n=e.redirect_to,r=void 0===n?"":n;return function(){var e=s()(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(m.N)(m.I,{sub_type:"code",is_trial:false})),e.next=3,n(i()({},d.a,{endpoint:"/p/api/v5/profile/promocodes",options:{method:"post",data:{code:t}},normalize:function(e){var t=e.status,n=e.credit_card_prompt;return"activated"!==t?{data:{status:t,credit_card_prompt:n}}:{type:_,data:{status:t}}},onSuccess:function(e,t,n){e(Object(m.N)(m.J,{payment_method:"code",is_trial:false})),e(Object(h.r)()),e(Object(h.q)()),e(S({action:n.data.status,redirect:r}))},onError:function(e,t,n){var a=n.error.message,o={payment_method:"code",is_trial:false};o.reason="string"==typeof n?n:n.error.message,e({type:_,data:{error:a}}),e(Object(m.N)(m.H,o)),e(S({action:"error",redirect:r}))},types:[g,_,"CODE_CHECKING"]}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function S(e){var t=e.action,n=e.redirect,r=void 0===n?"":n;return function(){var e=s()(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="requires_credit_card"===e.t0?3:"share_with_friend"===e.t0?4:"activated"===e.t0?5:"3d_secure_flow_initiated"===e.t0?6:"error"===e.t0?7:8;break;case 3:return e.abrupt("return",n(Object(p.push)(f.d.codePage("".concat(r,"subscription")))));case 4:return e.abrupt("return",n(Object(p.push)(f.d.codePage("".concat(r,"share")))));case 5:return e.abrupt("return",n(Object(p.push)(f.d.codePage("".concat(r,"success")))));case 6:return e.abrupt("return",n(Object(p.push)(r)));case 7:return e.abrupt("return","gorkypark/"===r&&n(Object(p.push)(f.d.codePage("".concat(r,"error")))));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var E={codeValue:"",status:"",autocomplete:false,loading:false,error:null,credit_card_prompt:{}};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return l()(l()({},e),t.data);case _:return l()(l()({},e),{},{loading:false},t.data);case g:return l()(l()({},e),{},{loading:true});default:return e}}},IX2L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=6},Iz0Z:function(e,t,n){},Jhcc:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("526F"),a=n.n(r),o=n("IX2L");function i(e){var t={success:false},n=function(e){return e.length<3?{error:"usernameLengthTooShort"}:e.length>23?{error:"usernameLengthTooLong"}:{}}(e);if(n.error)return a()({},t,n);var r=function(e){return/^[a-z]/i.test(e)?{}:{error:"usernameFirstCharacterNotLetter"}}(e);if(r.error)return a()({},t,r);var o=function(e){return/^(?:[a-z0-9]+)$/i.test(e)?{}:{error:"usernameContainsInadmissibleCharacters"}}(e);return o.error?a()({},t,o):{success:true}}function c(e,t){var n={success:false},r=function(e,t){return e!==t?{error:"newPasswordsDoNotMatch"}:{}}(e,t);if(r.error)return a()({},n,r);var o=function(e){return 0===e.length?{error:"passwordCannotBeEmpty"}:{}}(e);return o.error?a()({},n,o):{success:true}}function s(e){var t=e.oldPassword,n=e.newPassword,r=e.newPasswordConfirmed,a=!t||Boolean(t.length),o=u(n);return a&&o&&n===r}function u(e){return Boolean(e&&e.length>=o.a)}},JjD4:function(e,t,n){},JyEa:function(e,t,n){},KShq:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n.n(r),o=n("AOYn"),i=(n("Nyfa"),n("vwQR")),c=n("E/HD");function s(e){var t=e.logoKind,n=e.onClose,r=e.onlyLogo;return a.a.createElement("div",{className:"minimal-header"},a.a.createElement("div",{className:"minimal-header__logo"},a.a.createElement(i.a,{href:"".concat(o.d.root()),kind:t})),!r&&a.a.createElement("div",{className:"minimal-header__back-button minimal-header__back-button_".concat(t)},a.a.createElement(c.a,{onClose:n})))}s.defaultProps={onlyLogo:false,logoKind:"default"}},Lssk:function(e,t,n){"use strict";var r=n("EcSs"),a=n.n(r),o=n("q1tI"),i=n.n(o);t.a=function(e){return i.a.forwardRef((function(t,n){var r={};return"function"==typeof n&&(r.forwardedRef=n),i.a.createElement(e,a()({},t,r))}))}},LyUv:function(e,t,n){},"MJ/v":function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return K})),n.d(t,"h",(function(){return H})),n.d(t,"g",(function(){return F})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return V}));var r=n("Vi3r"),a=n.n(r),o=n("+oHS"),i=n.n(o),c=n("KYsz"),s=n.n(c),u=n("5PDf"),l=n.n(u),d=n("04Ix"),p=n.n(d),f=n("o+MX"),h=n.n(f),m=n("kT1S"),v=n.n(m),_=n("FLGM"),g=n.n(_),b=n("XiPH"),O=n("vN+2"),S=n.n(O),E=n("Puqe"),k=n.n(E),y=n("ScP9"),C=n.n(y),A=n("ZDpU"),w=n("22CO"),R=n("0Cf8"),I=n("3L7n"),L=n("lSWr"),T=new b.schema.Entity("comments",{creator:w.r},{idAttribute:"uuid"}),U=new b.schema.Array(T),N="COMMENTS_LOADING",D="COMMENTS_LOADED",P="COMMENT_LIKED",x="COMMENT_REMOVED",M="COMMENT_ADD",j="COMMENT_ADDED";function B(e,t){return g()(t).call(t,(function(t){return function(e,t){var n=e.entities.comments[t];if(n)return v()(v()({},n),{},{creator:Object(R.e)(e,n.creator)})}(e,t)}))}function K(e,t){var n;return p()({},A.a,{endpoint:h()(n="/p/api/v5/".concat(e,"/")).call(n,t,"/comments"),schema:U,responseKey:"comments",types:[N,D]})}var H=Object(L.a)((function(e,t){return p()({},A.a,{endpoint:"/p/api/v5/comments/".concat(e,"/likers"),options:{method:t?"delete":"post",dontParse:true},modifyResponse:function(){return{uuid:e,liked:t,meta:{analytics:{type:I.o,payload:{object_type:"comment",object_id:e}}}}},types:["COMMENT_LIKE",P]})}),P);function F(e){var t=e.uuid,n=e.resourceUuid;return p()({},A.a,{endpoint:"/p/api/v5/comments/".concat(t),options:{method:"delete",dontParse:true},modifyResponse:function(){return{uuid:t,resourceUuid:n}},types:["COMMENT_REMOVE",x]})}function z(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.a,r=e.resourceType,a=e.resourceUuid,o=e.content,i=e.parent,c={comment:{content:o}};return i&&(c=v()(v()({},c),{},{comment:v()(v()({},c.comment),{},{parent_uuid:i.uuid})})),p()({},A.a,{endpoint:h()(t="/p/api/v5/".concat(r,"/")).call(t,a,"/comments"),options:{method:"post",data:c},schema:T,responseKey:"comment",modifyResponse:function(e){return{resourceUuid:a,uuid:e.result}},onSuccess:function(){n();var e=document.querySelectorAll(".card_thread");e.length&&C()(e[e.length-1].offsetTop-100,{speed:1e3})},types:[M,j]})}var G={ids:[]};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return v()(v()({},e),{},{ids:[]});case D:return v()(v()(v()({},e),t.entities.comments),{},{ids:t.result});case x:var n,r=k()(e,t.uuid);return v()(v()({},r),{},{ids:l()(n=e.ids).call(n,(function(e){return e!==t.uuid}))});case P:var o=e[t.uuid];return t.liked!==o.liked?e:v()(v()({},e),{},p()({},t.uuid,v()(v()({},o),{},{likes_count:t.liked?o.likes_count-1:o.likes_count+1,liked:!t.liked})));case j:var c,u,d=t.entities.comments;return d=s()(c=i()(d)).call(c,(function(e,t){return e[t]=v()(v()({},d[t]),{},{recentlyAdded:true}),e}),{}),v()(v()(v()({},e),d),{},{ids:h()(u=[]).call(u,a()(e.ids),[t.uuid])});default:return e}}},N3O5:function(e,t,n){"use strict";var r=n("06Pm"),a=n.n(r),o=n("kA7L"),i=n.n(o),c=n("X5/F"),s=n.n(c),u=n("K82H"),l=n.n(u),d=n("q1tI"),p=n.n(d),f=n("ZD0w"),h=(n("AQy6"),n("mhdu")),m=n("AOYn"),v=n("PpkX"),_=p.a.createElement(f.Trans,{id:"footer.about"}),g=p.a.createElement(f.Trans,{id:"header.library_link"}),b=p.a.createElement(f.Trans,{id:"header.subscription_link"}),O=p.a.createElement(f.Trans,{id:"footer.publisher"}),S=p.a.createElement(f.Trans,{id:"footer.contact"}),E=p.a.createElement(f.Trans,{id:"footer.jobs"}),k=p.a.createElement(f.Trans,{id:"footer.help"}),y=p.a.createElement(f.Trans,{id:"footer.legal"}),C=p.a.createElement(f.Trans,{id:"sitemap.head_title"}),A=function(e){s()(n,e);var t=l()(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.kind,n=e.locale,r=e.auth,a=e.domain;return p.a.createElement("ul",{className:"footer__links footer__links_".concat(t),"data-test-id":"footer-links"},p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.about(),className:"footer__link"},_)),p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.library(),className:"footer__link"},g)),!r&&p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.subscription(),className:"footer__link"},b)),"ru"===n&&p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.publisher(a),className:"footer__link"},O)),p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.contacts(),className:"footer__link"},S)),p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.jobs(),className:"footer__link"},E)),p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.support(n,a),className:"footer__link"},k)),p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.legal(),className:"footer__link"},y)),p.a.createElement("li",{className:"footer__links-item"},p.a.createElement(v.a,{path:m.d.sitemapPage(),className:"footer__link"},C)))}}]),n}(d.Component);t.a=Object(h.a)(A)},NCkO:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return g}));var r=n("MAKL"),a=n.n(r),o=n("xS4f"),i=n.n(o),c=n("mnMc"),s=n.n(c),u=n("J2m7"),l=n.n(u),d=n("q1tI"),p=n.n(d),f=n("AOYn"),h=n("VW5q"),m="webgains",v="regular_webgains",_="black-friday";t.e={specialOffersNames:{MIN_MAVE:"min-mave",WEEKLY:"weekly",THREE_MONTHS:"three_months",MAILRU:"mailru",YANDEX_PLUS:"yandex",SPIIR:"spiir",WEBGAINS:m,REGULAR_WEBGAINS:v,AUDIO:"audio",BLACK_FRIDAY:_,MNOGO_RU:"mnogo_ru",SUMMER:"summer"},readablePrice:function(e){var t,n=e.locale,r=e.currency,a=e.currencyDisplay,o=void 0===a?"symbol":a,i=e.price,c=(i/=100)-Math.floor(i)>0,u=r&&s()(h.a).call(h.a,r)?"code":o;return t=c?{style:"currency",currency:r,currencyDisplay:u}:{style:"currency",currency:r,currencyDisplay:u,maximumFractionDigits:0,minimumFractionDigits:0},new Intl.NumberFormat(n,r?t:{}).format(i)},specialOfferPrice:function(e,t,n){var r=e.specialOffer[n].plan;return r?this.readablePrice({locale:t,currency:r.currency,price:r.price}):""},isAutorenewableRecurrent:function(e){return e.autorenew_enabled},isAppleRecurrentSubscription:function(e){return"inapp"===e.system},isUncancellableBundle:function(e){return this.isYouseeSubscription(e)||this.isTelmoreSubscription(e)||this.isPlusbogSubscription(e)},isStripeSubscription:function(e){return"cards"===e.system},isNonExpiredSubscription:function(e){return Boolean(e.next_billing_at&&1e3*e.next_billing_at>(new Date).getTime())},isYouseeSubscription:function(e){return"youseebundlerecurrent"===e.system},isTelmoreSubscription:function(e){return"telmorebundlerecurrent"===e.system},isPlusbogSubscription:function(e){return"plusbogbundlerecurrent"===e.system},isLimitedSubscription:function(e){return e.content_limits},hasAnySubscriptions:function(e){return this.hasActiveSubscriptions(e)||this.hasOngoingRecurrents(e)},hasActiveSubscriptions:function(e){var t;return i()(t=e.expiration_dates).call(t,(function(e){return 1e3*e.expires_at>a()()}))},hasOngoingRecurrents:function(e){return e.active_recurrents.length>0},hasActiveYouseeSubscription:function(e){var t;return i()(t=e.active_recurrents).call(t,(function(e){return"youseebundlerecurrent"===e.system}))},isFeaturedProductAvailable:function(e){return Boolean(e.featuredProduct)},isProductUpgradable:function(e){return"string"==typeof e.upgradeable_from},getPreselectedPlan:function(e){return l()(e,(function(e){return"cards"===e.system&&"1_year"===e.duration}))},hasRecurrentRenewalFailed:function(e){var t=e.subscribed_till;if(!t)return false;var n=1e3*t;return a()()-n>0},getSubscriptionPagePath:function(e){return this.hasAnySubscriptions(e)?f.d.manageSubscriptions():f.d.subscription()},getCurrentSpecialOffer:function(e,t){return e[t]||{plan:null,error:null}}};var g=p.a.createContext("plans")},Nv8T:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));n("oVuX");var r=n("kT1S"),a=n.n(r),o=n("xQqG"),i=n("noZS"),c=n.n(i),s={facebook:{authUrl:"https://www.facebook.com/dialog/oauth",accessUrl:"https://graph.facebook.com/oauth/access_token",key:e.env.FACEBOOK_KEY,secret:e.env.FACEBOOK_SECRET,scope:["user_friends","email"],customParams:{display:"popup"},windowParams:{width:600,height:260}},twitter:{requestUrl:"https://api.twitter.com/oauth/request_token",authUrl:"https://api.twitter.com/oauth/authenticate",accessUrl:"https://api.twitter.com/oauth/access_token",key:e.env.TWITTER_KEY,secret:e.env.TWITTER_SECRET,flow:"oauth1",windowParams:{width:760,height:380}},vkontakte:{authUrl:"https://oauth.vk.com/authorize",accessUrl:"https://oauth.vk.com/access_token",key:e.env.VK_KEY,secret:e.env.VK_SECRET,scope:["friends","offline","notify","email","wall","groups"],redirectProviderName:"vk",customParams:{display:"touch",image_size:"original"},windowParams:{width:700,height:300}},google:{authUrl:"https://accounts.google.com/o/oauth2/auth",accessUrl:"https://accounts.google.com/o/oauth2/token",key:e.env.GOOGLE_KEY,secret:e.env.GOOGLE_SECRET,scope:["profile","email"],scopeDelimiter:function(e){return e.join(" ")},windowParams:{width:445,height:615}},yandex:{authUrl:"https://oauth.yandex.ru/authorize",accessUrl:"https://oauth.yandex.ru/token",key:e.env.YANDEX_KEY,secret:e.env.YANDEX_SECRET,windowParams:{width:360,height:572}},telenor_bulgaria:{authUrl:"https://id.telenor.bg/oauth/authorize",key:e.env.TELENOR_KEY,scope:["openid"],scopeDelimiter:function(e){return e},redirectProviderName:"telenor",customParams:{ui_locales:"bg",code_challenge:o.a},passThruParams:["code_challenge"],windowParams:{width:521,height:717}},apple:{authUrl:"https://appleid.apple.com/auth/authorize",key:e.env.APPLE_IDENTIFIER,customParams:{response_mode:"form_post",team_id:e.env.APPLE_TEAM_ID,key_id:e.env.APPLE_KEY_ID},scopeDelimiter:function(e){return e.join(" ")},scope:["name","email"],windowParams:{width:521,height:717}}},u=a()({},c()(s,(function(e,t){return a()({path:"/connect/".concat(t)},e.windowParams)})))}).call(this,n("8oxB"))},Nyfa:function(e,t,n){},"O7i+":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("mnMc"),a=n.n(r),o=["bg"],i=["ru","by","kz","am","az","kg","tj","uz","md","ge","il"];function c(e){return a()(o).call(o,e)}function s(e){return a()(i).call(i,e)}function u(e){return"ua"!==e}},PDQI:function(e,t,n){"use strict";t.a=[]},PQlw:function(e,t,n){},PpkX:function(e,t,n){"use strict";n("rB9j"),n("UxlC");var r=n("EcSs"),a=n.n(r),o=n("ZbhI"),i=n.n(o),c=n("tpxy"),s=n.n(c),u=n("o+MX"),l=n.n(u),d=n("06Pm"),p=n.n(d),f=n("kA7L"),h=n.n(f),m=n("hO3g"),v=n.n(m),_=n("X5/F"),g=n.n(_),b=n("K82H"),O=n.n(b),S=n("04Ix"),E=n.n(S),k=n("q1tI"),y=n.n(k),C=n("/MKj"),A=n("L3Ur"),w=n("dtw8"),R=n("lxhJ"),I=n("Puqe"),L=n.n(I),T=(n("kv7x"),n("AOYn")),U=function(e){g()(n,e);var t=O()(n);function n(){var e,r;p()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,l()(e=[this]).call(e,o)),E()(v()(r),"handleClick",(function(e){var t=r.props,n=t.auth,a=t.path,o=t.onClick,i=t.dispatch,c=t.loginWall,s=t.replace,u=t.pseudo,l=o;if(s&&(l=function(){return i(Object(A.replace)(a))}),c&&!n)e.persist(),e.preventDefault(),i(Object(R.e)({callback:function(){if(l)return l(e);i(Object(A.push)(a))}}));else if(u)l&&l(e),i(Object(A.push)(a));else if(l)return l(e)})),E()(v()(r),"handleClickOutside",(function(e){var t=r.props.onClick;if(t)return t(e)})),r}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.dscvr,r=e.children,o=e.activeClassName,c=e.forceDefaultBehaviour,u=e.pseudo,l=e.onlyActiveOnIndex,d=s()(e,["path","dscvr","children","activeClassName","forceDefaultBehaviour","pseudo","onlyActiveOnIndex"]),p=L()(d,["dispatch","replace","loginWall","auth","currentPath"]);return u?this.renderPseudoLink(p):0===i()(t).call(t,"http")?y.a.createElement("a",a()({href:t},p,{onClick:this.handleClickOutside,rel:"noopener noreferrer",target:"_blank"}),r):c?y.a.createElement("a",a()({href:t},p,{onClick:this.handleClick}),r):y.a.createElement(w.Link,a()({to:n?Object(T.a)(t,n):t},p,{onClick:this.handleClick,activeClassName:o,onlyActiveOnIndex:l}),r)}},{key:"renderPseudoLink",value:function(e){var t,n=this.props,r=n.path,o=n.children,i=n.activeClassName,c=n.currentPath;return e.onClick||(e.onClick=this.handleClick),e.className=e.className?"".concat(e.className," linka_pseudo"):"linka_pseudo",e.className=c===r&&i?l()(t="".concat(e.className," ")).call(t,i):e.className,y.a.createElement("span",a()({onClick:this.handleClick},e),o)}}]),n}(k.Component);E()(U,"defaultProps",{loginWall:false});var N=Object(C.connect)((function(e){return{auth:e.currentUser.auth,currentPath:e.app.url}}));t.a=N(U)},RL1v:function(e,t,n){e.exports=n.p+"157ddda56ea8e707fd21a37c966b1e76.png"},RQcy:function(e,t,n){"use strict";var r=n("o+MX"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("hO3g"),l=n.n(u),d=n("X5/F"),p=n.n(d),f=n("K82H"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("q1tI"),g=n.n(_),b=n("/MKj"),O=n("H5rt"),S=n("fzp2"),E=n("ZD0w"),k=n("AOYn"),y=n("vFd1"),C=n("PpkX"),A=n("YUtL"),w=g.a.createElement(A.a,null),R=g.a.createElement(A.a,null),I=g.a.createElement(E.Trans,{id:"auth.checkbox_age"}),L=g.a.createElement(E.Trans,{id:"auth.checkbox_emails"}),T=function(e){p()(n,e);var t=h()(n);function n(){var e,r;i()(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return r=t.call.apply(t,a()(e=[this]).call(e,c)),v()(l()(r),"updateCheckbox",(function(e){return function(){r.props.updatePreSignupFields(v()({},e,!r.props[e]))}})),r}return s()(n,[{key:"render",value:function(){return g.a.createElement("div",{className:"signup-checkboxes"},g.a.createElement(y.a,{checked:this.props.acceptTermsOfService,id:"signup-checkboxes-legal","data-test-id":"signup-checkboxes-legal",label:this.renderLegalLabel(),onChange:this.updateCheckbox("acceptTermsOfService")}),w,g.a.createElement(y.a,{checked:this.props.isOfLegalAge,id:"signup-checkboxes-age","data-test-id":"signup-checkboxes-age",label:this.renderAgeLabel(),onChange:this.updateCheckbox("isOfLegalAge")}),this.props.showEmailsCheckbox&&g.a.createElement(g.a.Fragment,null,R,g.a.createElement(y.a,{checked:this.props.agreeToReceiveEmails,id:"signup-checkboxes-emails","data-test-id":"signup-checkboxes-age",label:this.renderEmailsLabel(),onChange:this.updateCheckbox("agreeToReceiveEmails")})))}},{key:"renderLegalLabel",value:function(){var e=g.a.createElement(C.a,{path:k.d.legal("#terms_of_use"),target:"_blank"});return g.a.createElement(E.Trans,{id:"auth.checkbox_legal",components:[e]})}},{key:"renderAgeLabel",value:function(){return I}},{key:"renderEmailsLabel",value:function(){return L}}]),n}(_.PureComponent),U=function(e){p()(n,e);var t=h()(n);function n(){var e,r;i()(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return r=t.call.apply(t,a()(e=[this]).call(e,c)),v()(l()(r),"updatePreSignupFields",(function(e){r.props.updatePreSignupFields(e)})),r}return s()(n,[{key:"render",value:function(){return g.a.createElement(T,{acceptTermsOfService:this.props.acceptTermsOfService,isOfLegalAge:this.props.isOfLegalAge,agreeToReceiveEmails:this.props.agreeToReceiveEmails,showEmailsCheckbox:this.props.showEmailsCheckbox,updatePreSignupFields:this.updatePreSignupFields})}}]),n}(_.PureComponent),N={updatePreSignupFields:S.t};t.a=Object(b.connect)((function(e){return{acceptTermsOfService:e.auth.preSignupFields.acceptTermsOfService,isOfLegalAge:e.auth.preSignupFields.isOfLegalAge,agreeToReceiveEmails:e.auth.preSignupFields.agreeToReceiveEmails,showEmailsCheckbox:Object(O.d)(e)}}),N)(U)},RUwt:function(e,t,n){"use strict";t.a='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="m27.3 36.6c-.3 0-.5-.1-.7-.3l-11.3-11.3c-.4-.4-.4-1 0-1.4l11.3-11.3c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-10.6 10.6 10.6 10.6c.4.4.4 1 0 1.4-.2.2-.4.3-.7.3z"/></svg>'},RfSM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QkVN"),a=n.n(r),o=function(e,t,n){var r;return t.entities&&t.entities[n]?a()({},e,t.entities[n]):(null===(r=t.payload)||void 0===r?void 0:r.entities)?a()({},e,t.payload.entities[n]):{}}},Ril3:function(e){e.exports=JSON.parse('[{"dial_code":"+93","code":"AF"},{"dial_code":"+358","code":"AX"},{"dial_code":"+355","code":"AL"},{"dial_code":"+213","code":"DZ"},{"dial_code":"+1 684","code":"AS"},{"dial_code":"+376","code":"AD"},{"dial_code":"+244","code":"AO"},{"dial_code":"+1 264","code":"AI"},{"dial_code":"+672","code":"AQ"},{"dial_code":"+1268","code":"AG"},{"dial_code":"+54","code":"AR"},{"dial_code":"+374","code":"AM"},{"dial_code":"+297","code":"AW"},{"dial_code":"+61","code":"AU"},{"dial_code":"+43","code":"AT"},{"dial_code":"+994","code":"AZ"},{"dial_code":"+1 242","code":"BS"},{"dial_code":"+973","code":"BH"},{"dial_code":"+880","code":"BD"},{"dial_code":"+1 246","code":"BB"},{"dial_code":"+375","code":"BY"},{"dial_code":"+32","code":"BE"},{"dial_code":"+501","code":"BZ"},{"dial_code":"+229","code":"BJ"},{"dial_code":"+1 441","code":"BM"},{"dial_code":"+975","code":"BT"},{"dial_code":"+591","code":"BO"},{"dial_code":"+387","code":"BA"},{"dial_code":"+267","code":"BW"},{"dial_code":"+55","code":"BR"},{"dial_code":"+246","code":"IO"},{"dial_code":"+673","code":"BN"},{"dial_code":"+359","code":"BG"},{"dial_code":"+226","code":"BF"},{"dial_code":"+257","code":"BI"},{"dial_code":"+855","code":"KH"},{"dial_code":"+237","code":"CM"},{"dial_code":"+1","code":"CA"},{"dial_code":"+238","code":"CV"},{"dial_code":"+ 345","code":"KY"},{"dial_code":"+236","code":"CF"},{"dial_code":"+235","code":"TD"},{"dial_code":"+56","code":"CL"},{"dial_code":"+86","code":"CN"},{"dial_code":"+61","code":"CX"},{"dial_code":"+61","code":"CC"},{"dial_code":"+57","code":"CO"},{"dial_code":"+269","code":"KM"},{"dial_code":"+242","code":"CG"},{"dial_code":"+243","code":"CD"},{"dial_code":"+682","code":"CK"},{"dial_code":"+506","code":"CR"},{"dial_code":"+225","code":"CI"},{"dial_code":"+385","code":"HR"},{"dial_code":"+53","code":"CU"},{"dial_code":"+357","code":"CY"},{"dial_code":"+420","code":"CZ"},{"dial_code":"+45","code":"DK"},{"dial_code":"+253","code":"DJ"},{"dial_code":"+1 767","code":"DM"},{"dial_code":"+1 849","code":"DO"},{"dial_code":"+593","code":"EC"},{"dial_code":"+20","code":"EG"},{"dial_code":"+503","code":"SV"},{"dial_code":"+240","code":"GQ"},{"dial_code":"+291","code":"ER"},{"dial_code":"+372","code":"EE"},{"dial_code":"+251","code":"ET"},{"dial_code":"+500","code":"FK"},{"dial_code":"+298","code":"FO"},{"dial_code":"+679","code":"FJ"},{"dial_code":"+358","code":"FI"},{"dial_code":"+33","code":"FR"},{"dial_code":"+594","code":"GF"},{"dial_code":"+689","code":"PF"},{"dial_code":"+241","code":"GA"},{"dial_code":"+220","code":"GM"},{"dial_code":"+995","code":"GE"},{"dial_code":"+49","code":"DE"},{"dial_code":"+233","code":"GH"},{"dial_code":"+350","code":"GI"},{"dial_code":"+30","code":"GR"},{"dial_code":"+299","code":"GL"},{"dial_code":"+1 473","code":"GD"},{"dial_code":"+590","code":"GP"},{"dial_code":"+1 671","code":"GU"},{"dial_code":"+502","code":"GT"},{"dial_code":"+44","code":"GG"},{"dial_code":"+224","code":"GN"},{"dial_code":"+245","code":"GW"},{"dial_code":"+595","code":"GY"},{"dial_code":"+509","code":"HT"},{"dial_code":"+379","code":"VA"},{"dial_code":"+504","code":"HN"},{"dial_code":"+852","code":"HK"},{"dial_code":"+36","code":"HU"},{"dial_code":"+354","code":"IS"},{"dial_code":"+91","code":"IN"},{"dial_code":"+62","code":"ID"},{"dial_code":"+98","code":"IR"},{"dial_code":"+964","code":"IQ"},{"dial_code":"+353","code":"IE"},{"dial_code":"+44","code":"IM"},{"dial_code":"+972","code":"IL"},{"dial_code":"+39","code":"IT"},{"dial_code":"+1 876","code":"JM"},{"dial_code":"+81","code":"JP"},{"dial_code":"+44","code":"JE"},{"dial_code":"+962","code":"JO"},{"dial_code":"+7 7","code":"KZ"},{"dial_code":"+254","code":"KE"},{"dial_code":"+686","code":"KI"},{"dial_code":"+850","code":"KP"},{"dial_code":"+82","code":"KR"},{"dial_code":"+965","code":"KW"},{"dial_code":"+996","code":"KG"},{"dial_code":"+856","code":"LA"},{"dial_code":"+371","code":"LV"},{"dial_code":"+961","code":"LB"},{"dial_code":"+266","code":"LS"},{"dial_code":"+231","code":"LR"},{"dial_code":"+218","code":"LY"},{"dial_code":"+423","code":"LI"},{"dial_code":"+370","code":"LT"},{"dial_code":"+352","code":"LU"},{"dial_code":"+853","code":"MO"},{"dial_code":"+389","code":"MK"},{"dial_code":"+261","code":"MG"},{"dial_code":"+265","code":"MW"},{"dial_code":"+60","code":"MY"},{"dial_code":"+960","code":"MV"},{"dial_code":"+223","code":"ML"},{"dial_code":"+356","code":"MT"},{"dial_code":"+692","code":"MH"},{"dial_code":"+596","code":"MQ"},{"dial_code":"+222","code":"MR"},{"dial_code":"+230","code":"MU"},{"dial_code":"+262","code":"YT"},{"dial_code":"+52","code":"MX"},{"dial_code":"+691","code":"FM"},{"dial_code":"+373","code":"MD"},{"dial_code":"+377","code":"MC"},{"dial_code":"+976","code":"MN"},{"dial_code":"+382","code":"ME"},{"dial_code":"+1664","code":"MS"},{"dial_code":"+212","code":"MA"},{"dial_code":"+258","code":"MZ"},{"dial_code":"+95","code":"MM"},{"dial_code":"+264","code":"NA"},{"dial_code":"+674","code":"NR"},{"dial_code":"+977","code":"NP"},{"dial_code":"+31","code":"NL"},{"dial_code":"+599","code":"AN"},{"dial_code":"+687","code":"NC"},{"dial_code":"+64","code":"NZ"},{"dial_code":"+505","code":"NI"},{"dial_code":"+227","code":"NE"},{"dial_code":"+234","code":"NG"},{"dial_code":"+683","code":"NU"},{"dial_code":"+672","code":"NF"},{"dial_code":"+1 670","code":"MP"},{"dial_code":"+47","code":"NO"},{"dial_code":"+968","code":"OM"},{"dial_code":"+92","code":"PK"},{"dial_code":"+680","code":"PW"},{"dial_code":"+970","code":"PS"},{"dial_code":"+507","code":"PA"},{"dial_code":"+675","code":"PG"},{"dial_code":"+595","code":"PY"},{"dial_code":"+51","code":"PE"},{"dial_code":"+63","code":"PH"},{"dial_code":"+872","code":"PN"},{"dial_code":"+48","code":"PL"},{"dial_code":"+351","code":"PT"},{"dial_code":"+1 939","code":"PR"},{"dial_code":"+974","code":"QA"},{"dial_code":"+40","code":"RO"},{"dial_code":"+7","code":"RU"},{"dial_code":"+250","code":"RW"},{"dial_code":"+262","code":"RE"},{"dial_code":"+590","code":"BL"},{"dial_code":"+290","code":"SH"},{"dial_code":"+1 869","code":"KN"},{"dial_code":"+1 758","code":"LC"},{"dial_code":"+590","code":"MF"},{"dial_code":"+508","code":"PM"},{"dial_code":"+1 784","code":"VC"},{"dial_code":"+685","code":"WS"},{"dial_code":"+378","code":"SM"},{"dial_code":"+239","code":"ST"},{"dial_code":"+966","code":"SA"},{"dial_code":"+221","code":"SN"},{"dial_code":"+381","code":"RS"},{"dial_code":"+248","code":"SC"},{"dial_code":"+232","code":"SL"},{"dial_code":"+65","code":"SG"},{"dial_code":"+421","code":"SK"},{"dial_code":"+386","code":"SI"},{"dial_code":"+677","code":"SB"},{"dial_code":"+252","code":"SO"},{"dial_code":"+27","code":"ZA"},{"dial_code":"+500","code":"GS"},{"dial_code":"+34","code":"ES"},{"dial_code":"+94","code":"LK"},{"dial_code":"+249","code":"SD"},{"dial_code":"+597","code":"SR"},{"dial_code":"+47","code":"SJ"},{"dial_code":"+268","code":"SZ"},{"dial_code":"+46","code":"SE"},{"dial_code":"+41","code":"CH"},{"dial_code":"+963","code":"SY"},{"dial_code":"+886","code":"TW"},{"dial_code":"+992","code":"TJ"},{"dial_code":"+255","code":"TZ"},{"dial_code":"+66","code":"TH"},{"dial_code":"+670","code":"TL"},{"dial_code":"+228","code":"TG"},{"dial_code":"+690","code":"TK"},{"dial_code":"+676","code":"TO"},{"dial_code":"+1 868","code":"TT"},{"dial_code":"+216","code":"TN"},{"dial_code":"+90","code":"TR"},{"dial_code":"+993","code":"TM"},{"dial_code":"+1 649","code":"TC"},{"dial_code":"+688","code":"TV"},{"dial_code":"+256","code":"UG"},{"dial_code":"+380","code":"UA"},{"dial_code":"+971","code":"AE"},{"dial_code":"+44","code":"GB"},{"dial_code":"+1","code":"US"},{"dial_code":"+598","code":"UY"},{"dial_code":"+998","code":"UZ"},{"dial_code":"+678","code":"VU"},{"dial_code":"+58","code":"VE"},{"dial_code":"+84","code":"VN"},{"dial_code":"+1 284","code":"VG"},{"dial_code":"+1 340","code":"VI"},{"dial_code":"+681","code":"WF"},{"dial_code":"+967","code":"YE"},{"dial_code":"+260","code":"ZM"},{"dial_code":"+263","code":"ZW"}]')},RtR1:function(e,t,n){},"SE+v":function(e,t,n){"use strict";t.a='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m42.4 12.9c-1.3.6-2.8 1-4.3 1.2 1.5-.9 2.7-2.4 3.3-4.1-1.4.9-3 1.5-4.7 1.8-1.4-1.5-3.3-2.4-5.4-2.4-4.1 0-7.4 3.3-7.4 7.5 0 .6.1 1.2.2 1.7-6.2-.3-11.6-3.3-15.3-7.8-.6 1.1-1 2.4-1 3.8 0 2.6 1.3 4.9 3.3 6.2-1.2 0-2.4-.4-3.4-.9v.1c0 3.6 2.6 6.6 5.9 7.3-.6.2-1.3.3-2 .3-.5 0-.9 0-1.4-.1.9 3 3.7 5.1 6.9 5.2-2.5 2-5.7 3.2-9.2 3.2-.6 0-1.2 0-1.8-.1 3.3 2.1 7.2 3.4 11.3 3.4 13.6 0 21.1-11.4 21.1-21.3v-1c1.6-1.2 2.9-2.5 3.9-4" fill-rule="evenodd"/></svg>'},SUqr:function(e,t,n){var r={"./favicon-16x16.png":"AYGL","./favicon-32x32.png":"b4gv","./favicon-96x96.png":"rRRq"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="SUqr"},Stko:function(e,t,n){"use strict";var r=n("WxoT"),a=n.n(r),o=n("je13"),i=n.n(o),c=n("5nml"),s=n.n(c);i.a.addPlugin(s.a);t.a={get _time(){return(new Date).getTime()},set:function(e,t,n){if(n)if("session"===n)try{window.sessionStorage.setItem(e,a()(t)),i.a.set(e,{value:t,expiration:"session",time:this._time})}catch(n){i.a.set(e,{value:t,expiration:864e5,time:this._time})}else"number"==typeof n&&i.a.set(e,{value:t,expiration:n,time:this._time});else i.a.set(e,t)},get:function(e){var t=i.a.get(e);if(!t)return null;if(t.expiration){if("session"===t.expiration)try{var n=window.sessionStorage.getItem(e);try{n=JSON.parse(n)}catch(e){}return n}catch(e){return this._time-t.time>t.expiration?null:t.value}return this._time-t.time>t.expiration?null:t.value}return t},remove:function(e){var t=i.a.get(e);if(t){if("session"===t.expiration)try{window.sessionStorage.removeItem(e)}catch(e){}i.a.remove(e)}},clear:function(){i.a.clear()}}},Tw59:function(e,t,n){"use strict";t.a='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill-rule="evenodd"><path d="m42.1 24.9c0-1.3-.1-2.5-.3-3.7h-17v7h9.7c-.4 2.2-1.7 4.2-3.6 5.4v4.5h5.8c3.5-3.1 5.4-7.7 5.4-13.2z" fill="#4285f4"/><path d="m24.9 42.5c4.9 0 8.9-1.6 11.9-4.4l-5.8-4.5c-1.6 1.1-3.7 1.7-6.1 1.7-4.7 0-8.7-3.2-10.1-7.4h-6v4.7c2.9 5.9 9 9.9 16.1 9.9z" fill="#34a853"/><path d="m14.8 27.9c-.4-1.1-.6-2.2-.6-3.4s.2-2.3.6-3.4v-4.7h-6a18.225 18.225 0 0 0 0 16.2z" fill="#fbbc05"/><path d="m24.9 13.7c2.6 0 5 .9 6.9 2.7l5.2-5.2c-3.1-2.9-7.2-4.7-12-4.7-7 0-13.1 4-16.1 9.9l6 4.7c1.3-4.3 5.3-7.4 10-7.4z" fill="#ea4335"/></g></svg>'},"UDQ/":function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));n("sMBO");var r=n("a0dU"),a=n.n(r),o=(n("ls82"),n("SPx3")),i=n.n(o),c=n("xS4f"),s=n.n(c),u=n("6UaR"),l=n.n(u),d=n("06Pm"),p=n.n(d),f=n("kA7L"),h=n.n(f),m=n("X5/F"),v=n.n(m),_=n("K82H"),g=n.n(_),b=n("04Ix"),O=n.n(b),S=n("17x9"),E=n.n(S),k=n("q1tI"),y=n.n(k),C=n("/MKj"),A=n("dtw8"),w=n("Mj6V"),R=n.n(w),I=n("Puqe"),L=n.n(I),T=n("Rfcb"),U=n.n(T),N=n("/zpq");function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=function(r){v()(u,r);var o,c=g()(u);function u(){return p()(this,u),c.apply(this,arguments)}return h()(u,[{key:"componentDidMount",value:function(){this.props.isFirstRender&&!N.a.isDevelopment()||this.prepare()}},{key:"componentDidUpdate",value:function(e){this.observedParamsUpdated(e)&&this.prepare()}},{key:"observedParamsUpdated",value:function(e){var n=this,r=t.updateParams,a=t.userListener,o=r;return!(!o&&!a)&&(!!this.hasUserChanged(e)||("string"==typeof o&&(o=[o]),l()(o)?s()(o).call(o,(function(t){return e.params[t]!==n.props.params[t]})):"function"==typeof o?o(e,this.props):void 0))}},{key:"hasUserChanged",value:function(e){var t=e.userLogin,n=e.socialProvider,r=this.props,a=r.userLogin,o=r.socialProvider;return o?o!==n:a!==t}},{key:"prepare",value:(o=i()(a.a.mark((function t(){var n,r,o,i,c,s,u=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},r=this.context.store,o=this.props,i=o.params,c=o.location,s=o.router,R.a.status>0?R.a.inc():R.a.start(),t.next=5,e({store:r,params:i,location:c,options:n,router:s});case 5:R.a.done();case 6:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"render",value:function(){return y.a.createElement(n,L()(this.props,["isFirstRender","socialProvider","userLogin"]))}}]),u}(k.Component);return O()(r,"prepareComponent",e),O()(r,"contextTypes",{store:E.a.object.isRequired}),O()(r,"name",t.name||"component"),U()(Object(C.connect)((function(e){return{isFirstRender:e.app.firstRender,socialProvider:e.currentUser.socialProvider,userLogin:e.currentUser.data.login}})),A.withRouter)(r)}}},UE52:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r,a,o=n("UIRo"),i=n("VxVM"),c={elementErrors:{invalid_number:"invalid_card_number_short",incomplete_number:"incomplete_card_number_short",incomplete_cvc:"incomplete_cvc_short",incomplete_expiry:"incomplete_expiration_date_short",invalid_expiry_month_past:"invalid_expiration_date_short",invalid_expiry_year_past:"invalid_expiration_date_short",invalid_expiry_year:"invalid_expiration_date_short"},apiErrors:{invalid_number:"invalid_card_number",incorrect_number:"invalid_card_number",invalid_expiry_year:"invalid_expiration_date",invalid_expiry_month:"invalid_expiration_date",invalid_cvc:"card_verification_failed",expired_card:"invalid_expiration_date",card_declined:"card_verification_failed"}};function s(e){var t=document.createElement("script");t.defer=true,t.onload=function(){r||(r=Stripe(o.a.stripeKey)),e(Object(i.g)())},t.onerror=function(){e(Object(i.f)())},t.src="https://js.stripe.com/v3/",document.body&&document.body.appendChild(t)}function u(){return r}function l(){return a||(a=r.elements({locale:"en"})),a}function d(e){if(e){var t=e.code;return c.elementErrors[t]}}function p(e){if(e){var t=e.code;return c.apiErrors[t]}}},UIRo:function(e,t,n){"use strict";n("oVuX");var r=n("kT1S"),a=n.n(r),o=n("FLGM"),i=n.n(o),c=n("Puqe"),s=n.n(c),u=n("/zpq"),l=n("t9W9"),d=u.a.isProduction(),p=["az","da","de","en","es","id","kk","nl","pt","ru","sr","sv","tr","vi","uk","bg","uz"],f={socialAuthPath:"/social_auth/",vanguardApiPath:"/vanguard-api/",serverRendering:false,locales:p,fallbackLocale:"en",polyfills:"default,symbol,Object.entries,IntersectionObserver,IntersectionObserverEntry,".concat(i()(p).call(p,(function(e){return"Intl.~locale.".concat(e)})).join(",")),googleTagManagerId:"GTM-PKTFKV7",yandexMetrikaId:"1646337",facebookPixelId:"845791652126566",stripeKey:"pk_test_fHobGL7NXEJqVtn5yRAy3RmW00HesgLTf2",recaptchaSiteKey:"6Lf6DjUUAAAAALV8LrKt0rsrYBU5rp2ey_iQOwUs",AWSIdentityPoolId:"us-east-1:2271f934-6e5f-486c-af83-3469b1984edd",AMAappId:"bdd505eeec6243b48f0dbfbeaed887ca",AMAappTitle:"Bookmate Web Test",AppStoreID:386177450,HoneybadgerClientKey:"21e30bc7",styles:a()(a()({},l),{},{bp:s()(l.bp,"oneColumn")})},h=a()(a()({},f),{},{recaptchaSiteKey:"6LcfnzkUAAAAAJKth-YTP4TpmLU3GlQcjIGmHZ4w",googleTagManagerId:d?"GTM-PTBB3D":f.googleTagManagerId,AMAappId:d?"32c82f00fdd94c84b37716c423a7a467":f.AMAappId,stripeKey:d?"pk_live_AGSr5KQVBiXFKVzIV8ECr3kr00YtCZn8uh":f.stripeKey,serverRendering:true}),m=f;u.a.isTest()?m=f:u.a.isClient()?m=window.CLIENT_PARAMS.config:u.a.isDevelopment()||(m=h),t.a=m},VW5q:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));n("TWNs"),n("rB9j"),n("JfAA");var r=String.fromCharCode(160),a=new RegExp(r,"g"),o=["MXN"]},Vo54:function(e,t,n){},VxVM:function(e,t,n){"use strict";n.d(t,"g",(function(){return U})),n.d(t,"f",(function(){return N})),n.d(t,"n",(function(){return D})),n.d(t,"d",(function(){return P})),n.d(t,"l",(function(){return x})),n.d(t,"k",(function(){return M})),n.d(t,"c",(function(){return j})),n.d(t,"o",(function(){return B})),n.d(t,"h",(function(){return H})),n.d(t,"a",(function(){return F})),n.d(t,"i",(function(){return z})),n.d(t,"m",(function(){return G})),n.d(t,"j",(function(){return V})),n.d(t,"b",(function(){return q})),n.d(t,"e",(function(){return Y}));var r=n("a0dU"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=(n("ls82"),n("SPx3")),s=n.n(c),u=n("WXbY"),l=n("L3Ur"),d=n("AOYn"),p=n("5U8U"),f=n("pBR6"),h=n("+FvS"),m=n("kh3K"),v=n("IWyS"),_=n("3L7n"),g=n("8OPv"),b=n("yayI"),O=n("NCkO"),S="POST_STRIPE_DATA_SUCCESS",E="POST_STRIPE_DATA",k="POST_STRIPE_DATA_ERROR",y="STRIPE_SCRIPT_LOAD_SUCCESS",C="STRIPE_SCRIPT_LOAD_FAILURE",A="CLEAR_STRIPE_ERROR",w="STRIPE_3D_SECURE_ERROR";function R(e,t){return I.apply(this,arguments)}function I(){return(I=s()(a.a.mark((function e(t,n){var r,o,c,s,u,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.plan,o=n.dispatch,c=n.successPageParams,s=n.onSuccess,!("3d_secure_flow_initiated"===t.status)){e.next=4;break}return u=t.redirect_url,e.abrupt("return",o(Object(f.e)(u)));case 4:if(!s){e.next=8;break}return e.next=7,s();case 7:return e.abrupt("return",K({plan:r,dispatch:o}));case 8:return K({plan:r,dispatch:o}),p="success_with_reminder"===t.status?{reminder:true}:{},e.abrupt("return",o(Object(l.push)(d.d.subscriptionSuccess(i()(i()({},p),c)))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return T.apply(this,arguments)}function T(){return(T=s()(a.a.mark((function e(t,n){var r,o,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.plan,o=n.dispatch,i="string"==typeof t?t:t.error.message,c=Object(m.b)(r,i),o(Object(_.N)(_.H,c)),o({type:k,data:{loading:false,error:"string"==typeof t?t:t.error}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return{type:y}}function N(){return{type:C}}function D(e){return{type:w,data:e}}function P(e,t){return function(){var n=s()(a.a.mark((function n(r,o){var c,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c="/p/api/v5/payments/stripe/".concat(e,"_subscriptions/complete"),s={path:t.path,type:t.type},n.next=4,u.a.fetch(c,{state:o(),method:"post",data:t}).then((function(){Object(h.c)(d.d.subscriptionSuccess(i()({},s)))}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function x(e){return function(){var t=s()(a.a.mark((function t(n,r){var o,i,c,s,p,h,m,v,_;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.click_id,i=e.campaign,c="/p/api/v5/payments/stripe/".concat(i,"_subscriptions"),s=r(),p=s.subscription.specialOffer[e.campaign].plan,h={type:"subsc",click_id:o,campaign:i},m=i===O.d?{source:e.sourceId,return_url:d.d.stripePaymentComplete(h),click_id:o}:{plan:p.id,source:e.sourceId,return_url:d.d.stripePaymentComplete(h),click_id:o},n({type:E,data:{loading:true}}),t.prev=7,t.next=10,u.a.fetch(c,{state:r(),method:"post",data:m});case 10:v=t.sent,(_=v.redirect_url)?n(Object(f.e)(_)):(n(Object(l.push)(d.d.specialOfferSuccess({campaign:i}))),K({plan:p,dispatch:n})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),L(t.t0,{plan:p,dispatch:n});case 18:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e,n){return t.apply(this,arguments)}}()}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{specialOffer:null};return function(){var n=s()(a.a.mark((function n(r,o){var i,c,s,l,f,h,m,v,g;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.specialOffer,c=t.onSuccess,"/p/api/v5/payments/stripe/secure_subscriptions",s=e.path,l=o(),f=i?l.subscription.specialOffer[i].plan:Object(p.e)(l,e.plan),h={path:s,type:i||f&&f.trial?"trial":"subsc"},m={plan:e.plan,source:e.sourceId,return_url:d.d.stripePaymentComplete(h)},r({type:E,data:{loading:true}}),n.prev=8,n.next=11,u.a.fetch("/p/api/v5/payments/stripe/secure_subscriptions",{state:o(),method:"post",data:m});case 11:v=n.sent,g={billing_user_subscription_id:v.billing_user_subscription_id},r(Object(_.N)(_.J,g)),R(v,{plan:f,dispatch:r,successPageParams:h,onSuccess:c}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(8),L(n.t0,{plan:f,dispatch:r});case 20:case"end":return n.stop()}}),n,null,[[8,17]])})));return function(e,t){return n.apply(this,arguments)}}()}function j(e){return function(){var t=s()(a.a.mark((function t(n,r){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/p/api/v5/payments/stripe/secure_subscriptions/complete",o={path:e.path,type:e.type},t.next=4,u.a.fetch("/p/api/v5/payments/stripe/secure_subscriptions/complete",{state:r(),method:"post",data:e}).then((function(e){var t="success_with_reminder"===e.status?{reminder:true}:{},r={billing_user_subscription_id:e.billing_user_subscription_id};n(Object(_.N)(_.J,r)),Object(h.c)(d.d.subscriptionSuccess(i()(i()({},t),o)))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function B(e){return function(){var t=s()(a.a.mark((function t(n,r){var o,c,s,p,h,v,g,O,S,E,k,y;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.recurrentSubscriptionId,c=e.upgradeOption,s="/p/api/v5/payments/stripe/subscriptions/".concat(o),p=c.plan.id,h=c.proration_date,v={path:e.path,type:"subsc"},t.prev=5,t.next=8,u.a.fetch(s,{state:r(),method:"put",data:{plan:p,proration_date:h}});case 8:g=t.sent,O=g.redirect_url,S=g.billing_user_subscription_id,O?n(Object(f.e)(O)):(E=Object(m.a)(c),n(Object(_.N)(_.J,i()(i()({},E),{},{billing_user_subscription_id:S}))),K({dispatch:n,withAnalytics:false}),n(Object(l.replace)(d.d.subscriptionSuccess(v)))),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(5),k="string"==typeof t.t0?t.t0:t.t0.error.message,y=Object(m.a)(c,k),n(Object(_.N)(_.H,y)),n(Object(b.b)("error",{message:k}));case 20:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e,n){return t.apply(this,arguments)}}()}function K(e){var t=e.plan,n=e.dispatch,r=e.withAnalytics,a=void 0===r||r;if(n(Object(g.r)()),n(Object(g.q)()),n(Object(g.l)()),n(Object(g.h)()),t&&a){var o=Object(m.b)(t);n(Object(_.N)(_.J,o))}n({type:S,data:{loading:false,error:null}})}function H(e,t){return function(){var n=s()(a.a.mark((function n(r,o){var i,c,s,p,h,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=o(),c=i.subscription.specialOffer[e.campaign].plan,r({type:E,data:{loading:true}}),s={variant:e.variant,source:e.sourceId,return_url:d.d.stripePaymentComplete({cheap_trial:true,campaign:e.campaign,plan:e.variant})},n.prev=4,n.next=7,u.a.fetch("/p/api/v5/payments/stripe/cheap_trials",{state:i,method:"post",data:s});case 7:p=n.sent,h=p.redirect_url,m=p.kind,t(),h?r(Object(f.e)(h)):m&&(K({plan:c,dispatch:r}),r(Object(l.push)(d.d.subscriptionSuccess()))),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),L(n.t0,{plan:c,dispatch:r});case 17:case"end":return n.stop()}}),n,null,[[4,14]])})));return function(e,t){return n.apply(this,arguments)}}()}function F(e){return function(){var t=s()(a.a.mark((function t(n,r){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/p/api/v5/payments/stripe/cheap_trials/complete",o={path:e.path,type:e.type},t.prev=2,t.next=5,u.a.fetch("/p/api/v5/payments/stripe/cheap_trials/complete",{state:r(),method:"post",data:e});case 5:Object(h.c)(d.d.subscriptionSuccess(o)),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(2),t.t0;case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}()}function z(e){return function(){var t=s()(a.a.mark((function t(n,r){var o,i,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/p/api/v5/payments/stripe/deferred_subscriptions",n({type:E,data:{loading:true}}),o={source:e.sourceId,promo_uuid:e.promo_uuid,return_url:d.d.codePage("complete")},t.prev=3,t.next=6,u.a.fetch("/p/api/v5/payments/stripe/deferred_subscriptions",{state:r(),method:"post",data:o});case 6:i=t.sent,n({type:S,data:{loading:false,error:null}}),"success"===i.status?(c={billing_user_subscription_id:i.billing_user_subscription_id},n(Object(_.N)(_.J,c)),n(Object(v.c)({action:"activated"}))):n(Object(f.e)(i.redirect_url)),t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(3),(s={}).reason="string"==typeof t.t0?t.t0:t.t0.error.message,n(Object(_.N)(_.H,s)),n({type:k,data:{loading:false,error:t.t0.error}}),t.t0;case 18:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}function G(e){return function(){var t=s()(a.a.mark((function t(n,r){var o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/p/api/v5/payments/stripe/deferred_subscriptions/complete",t.prev=1,t.next=4,u.a.fetch("/p/api/v5/payments/stripe/deferred_subscriptions/complete",{state:r(),method:"post",data:e});case 4:o=t.sent,i={billing_user_subscription_id:o.billing_user_subscription_id},n(Object(_.N)(_.J,i)),Object(h.c)(d.d.codePage("success")),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(1),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()}function V(e,t){return function(){var n=s()(a.a.mark((function n(r,o){var i,c,s,l,p,f,h,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.specialOffer,c=t.onSuccess,s="/p/api/v5/payments/".concat(i,"/subscribe"),l=e.path,p=o(),f=p.subscription.specialOffer[i].plan,h={path:l,type:"subsc",campaign:i,email:e.email},m={plan:e.plan,email:e.email,source:e.sourceId,return_url:d.d.stripePaymentComplete(h)},r({type:E,data:{loading:true}}),n.prev=8,n.next=11,u.a.fetch(s,{state:o(),method:"post",data:m});case 11:R(n.sent,{plan:f,dispatch:r,successPageParams:h,onSuccess:c}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(8),L(n.t0,{plan:f,dispatch:r});case 18:case"end":return n.stop()}}),n,null,[[8,15]])})));return function(e,t){return n.apply(this,arguments)}}()}function q(e,t){return function(){var n=s()(a.a.mark((function n(r,o){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="/p/api/v5/payments/".concat(t,"/complete"),n.next=3,u.a.fetch(i,{state:o(),method:"post",data:e}).then((function(){Object(h.c)(d.d.specialOfferSuccess({campaign:t}))}));case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var W={loading:false,error:null,scriptLoaded:false,scriptLoadingFailed:false,threeDSecureError:""};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case S:return i()(i()({},e),t.data);case C:return i()(i()({},e),{},{scriptLoadingFailed:true});case k:return i()(i()({},e),t.data);case y:return i()(i()({},e),{},{scriptLoaded:true});case A:return i()(i()({},e),{},{error:null});case w:return i()(i()({},e),t.data);default:return e}}},W6YQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return z})),n.d(t,"f",(function(){return G})),n.d(t,"i",(function(){return V})),n.d(t,"h",(function(){return q})),n.d(t,"e",(function(){return W})),n.d(t,"d",(function(){return Y})),n.d(t,"g",(function(){return X})),n.d(t,"b",(function(){return Q}));var r=n("5PDf"),a=n.n(r),o=n("Vi3r"),i=n.n(o),c=n("a0dU"),s=n.n(c),u=n("kT1S"),l=n.n(u),d=(n("ls82"),n("SPx3")),p=n.n(d),f=n("o+MX"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("XiPH"),g=n("0A2V"),b=n("AOYn"),O=n("+FvS"),S=n("ZDpU"),E=n("FSMw"),k=n("22CO"),y=n("F6cB"),C=n("bSTM"),A=E.a.AUDIOBOOK_LOAD,w=E.a.AUDIOBOOK_LOAD_SUCCESS,R=E.a.AUDIOBOOK_LOAD_ERROR,I=E.a.AUDIOBOOK_CHANGED,L=E.a.AUDIOBOOK_LISTENERS_LOAD,T=E.a.AUDIOBOOK_LISTENERS_LOAD_SUCCESS,U=E.a.AUDIOBOOK_RELATED_LOAD,N=E.a.AUDIOBOOK_RELATED_LOAD_SUCCESS,D=E.a.AUDIOBOOK_IMPRESSIONS_LOAD,P=E.a.AUDIOBOOK_IMPRESSIONS_LOAD_SUCCESS,x=E.a.AUDIOBOOK_OTHER_VERSIONS_LOAD,M=E.a.AUDIOBOOK_OTHER_VERSIONS_LOAD_SUCCESS,j=E.a.AUDIOBOOK_EMOTION_RATING_LOAD,B=E.a.AUDIOBOOK_EMOTION_RATING_LOAD_SUCCESS,K=E.a.AUDIOBOOK_SERIES_EPISODES_LOAD,H=E.a.AUDIOBOOK_SERIES_EPISODES_LOAD_SUCCESS,F=Object(b.c)("audiobook");function z(e){return v()({},S.a,{endpoint:"/p/api/v5/audiobooks/".concat(e),normalize:function(t,n){var r=t.audiobook,a=n.getState,o=r.uuid,i=a().app.url;if(e===o){var c=Object(_.normalize)(r,k.a);return{result:c.result,entities:c.entities}}Object(O.c)(F(o,i),301)},types:[A,w,R]})}var G=Object(g.a)((function(e){var t=e.uuid,n=e.p,r=void 0===n?1:n,a=e.pp,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return v()({},S.a,{endpoint:"/p/api/v5/audiobooks/".concat(t,"/listeners"),options:{data:{page:r,per_page:o}},schema:k.s,responseKey:"users",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:[L,T]})}),T,[I]),V=Object(g.a)((function(e){var t=e.uuid,n=e.p,r=void 0===n?1:n,a=e.pp,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return v()({},S.a,{endpoint:"/p/api/v5/audiobooks/".concat(t,"/related"),options:{data:{page:r,per_page:o}},schema:k.b,responseKey:"audiobooks",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:[U,N]})}),N,[I]),q=Object(g.a)((function(e,t){var n;return v()({},S.a,{endpoint:h()(n="/p/api/v5/audiobooks/".concat(e,"/variants/")).call(n,t),schema:"audiobook"===t?k.b:k.g,responseKey:"".concat(t,"s"),modifyResponse:function(){return{resourceType:t}},types:[x,M]})}),M,[I]),W=Object(g.a)((function(e){var t,n=e.uuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,c=e.index,u=void 0!==c&&c,d=e.append,f=void 0!==d&&d;return v()({},S.a,{endpoint:"/p/api/v5/audiobooks/".concat(n,"/impressions"),options:{data:{page:a,per_page:i}},normalize:(t=p()(s.a.mark((function e(t){var r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.normalize)(Object(y.p)(t.impressions),y.m),o=r.result,i=r.entities,e.abrupt("return",{result:o,entities:l()(l()({},i),{},{impressions:Object(y.h)(i.impressions,n,"audiobook")}),updateField:u?"impressionsIndex":"impressions",index:u,append:f,nextPage:o.length?a+1:null});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),types:[D,P]})}),P);function Y(e){return v()({},S.a,{endpoint:"/p/api/v5/audiobooks/".concat(e,"/emotion_ratings"),types:[j,B]})}var X=Object(g.a)((function(e){var t=e.uuid,n=e.seriesUuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,c=e.append,s=void 0!==c&&c,u={page:a,per_page:i};return n&&(u.series_uuid=n),v()({},S.a,{endpoint:"/p/api/v5/audiobooks/".concat(t,"/more_in_series"),options:{data:u},normalize:function(e){var t=e.parts,n=Object(C.b)(t),r=n.result;return{result:r,entities:n.entities,append:s,nextPage:r.length?a+1:null}},types:[K,H]})}),H,[I]),Z={loading:true,uuid:"",listeners:[],related:[],otherVersions:{books:[],audiobooks:[]},impressions:[],impressionsIndex:[],otherEpisodes:[],pages:{listeners:1,related:1,impressions:1,impressionsIndex:1,otherEpisodes:1},emotionRating:[],currentUserImpressionUuid:null};function Q(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(r.type){case A:return l()(l()({},n),{},{uuid:"",loading:true,listeners:[],pages:Z.pages});case w:return l()(l()({},n),{},{loading:false,uuid:r.result,error:null});case R:return l()(l()({},n),{},{loading:false,uuid:"",error:r.error});case P:var o,c,s=r.updateField,u=r.result,d=r.index,p=r.append;return l()(l()({},n),{},(c={},v()(c,s,d||!p?u:h()(o=[]).call(o,i()(n[s]),i()(u))),v()(c,"pages",l()(l()({},n.pages),{},v()({},s,r.nextPage))),c));case H:var f;return l()(l()({},n),{},{otherEpisodes:r.append?h()(f=[]).call(f,i()(n.otherEpisodes),i()(r.result)):r.result,pages:l()(l()({},n.pages),{},{otherEpisodes:r.nextPage})});case y.g:var m,_;return"audiobook"===r.resourceType?l()(l()({},n),{},{impressionsIndex:a()(m=n.impressionsIndex).call(m,(function(e){return e!==r.uuid})),impressions:a()(_=n.impressions).call(_,(function(e){return e!==r.uuid}))}):n;case T:return l()(l()({},n),{},{listeners:r.append?h()(e=[]).call(e,i()(n.listeners),i()(r.result)):r.result,pages:l()(l()({},n.pages),{},{listeners:r.nextPage})});case N:return l()(l()({},n),{},{related:r.append?h()(t=[]).call(t,i()(n.related),i()(r.result)):r.result,pages:l()(l()({},n.pages),{},{related:r.nextPage})});case M:var g="".concat(r.resourceType,"s");return l()(l()({},n),{},{otherVersions:l()(l()({},n.otherVersions),{},v()({},g,r.result))});case B:return l()(l()({},n),{},{emotionRating:r.emotion_ratings});case y.d:var b=r.data,O=b.resourceUuid,S=b.resourceType,E=b.uuid;return"audiobook"===S&&O===n.uuid?l()(l()({},n),{},{currentUserImpressionUuid:E}):n;case y.c:return l()(l()({},n),{},{currentUserImpressionUuid:null});default:return n}}},WQUq:function(e,t,n){"use strict";n("sMBO"),n("TWNs"),n("rB9j"),n("JfAA"),n("UxlC");var r=n("EcSs"),a=n.n(r),o=n("tpxy"),i=n.n(o),c=n("ZbhI"),s=n.n(c),u=n("o+MX"),l=n.n(u),d=n("RKTd"),p=n.n(d),f=n("guyh"),h=n.n(f),m=n("Vi3r"),v=n.n(m),_=n("FLGM"),g=n.n(_),b=n("Kwsy"),O=n.n(b),S=n("06Pm"),E=n.n(S),k=n("kA7L"),y=n.n(k),C=n("hO3g"),A=n.n(C),w=n("X5/F"),R=n.n(w),I=n("K82H"),L=n.n(I),T=n("04Ix"),U=n.n(T),N=n("q1tI"),D=n.n(N),P=n("ZD0w"),x=n("vN+2"),M=n.n(x),j=n("J2m7"),B=n.n(j),K=n("Puqe"),H=n.n(K),F=n("Rfcb"),z=n.n(F),G=n("TSYQ"),V=n.n(G),q=n("Lssk"),W=n("va4D"),Y=n.n(W),X=(n("umHO"),n("Ril3")),Z=n("wFvi"),Q=n("RUwt"),J=D.a.createElement("div",{className:"phone-input__header"},D.a.createElement(P.Trans,{id:"countries.select_country"})),$=function(e){R()(n,e);var t=L()(n);function n(e){var r;return E()(this,n),r=t.call(this,e),U()(A()(r),"currentFilter",""),U()(A()(r),"shouldResetFilter",true),U()(A()(r),"lastTimeout",null),U()(A()(r),"sortedCountries",[]),U()(A()(r),"sortedCountriesByCode",[]),U()(A()(r),"activeCountryCodeElement",null),U()(A()(r),"phoneElement",null),U()(A()(r),"countryCodesListElement",null),U()(A()(r),"state",{selectShown:false,code:r.getCountryCode(r.props.country),highlightedCountryCode:r.props.country,phoneNumber:""}),U()(A()(r),"handleCodeClick",(function(){r.setState({selectShown:!r.state.selectShown})})),U()(A()(r),"handleOptionClick",(function(e){r.changeCode(e.currentTarget)})),U()(A()(r),"handleClickOutside",(function(e){if(r.state.selectShown){var t;if(e){var n=e.target;if(!(n instanceof Element))return;r.countryCodesListElement&&!r.countryCodesListElement.contains(n)&&(t=true)}else t=true;t&&r.setState({selectShown:false})}})),U()(A()(r),"handleKeydownOptions",(function(e){if(r.state.selectShown){var t={UP:38,DOWN:40,ENTER:13,ESC:27,BS:8};switch(e.keyCode){case t.UP:e.preventDefault(),r.moveUp();break;case t.DOWN:e.preventDefault(),r.moveDown();break;case t.ENTER:e.preventDefault(),r.changeCode(e.target);break;case t.ESC:e.preventDefault(),r.handleClickOutside();break;case t.BS:r.resetFilterValue()}}})),U()(A()(r),"handleKeypressOptions",(function(e){if(r.state.selectShown){e.preventDefault(),e.stopPropagation();var t=String.fromCharCode(e.charCode);r.currentFilter=r.shouldResetFilter?t:r.currentFilter+t,r.shouldResetFilter=false,r.lastTimeout&&clearTimeout(r.lastTimeout),r.lastTimeout=O()((function(){r.resetFilterValue()}),300),r.changeActiveCountry(r.currentFilter)}})),U()(A()(r),"handleInputChange",(function(e){var t=r.props,n=t.onInput,a=t.readOnly,o=e.currentTarget.value;a&&"string"==typeof o&&o.length>9||(n(o),r.setState({phoneNumber:o}))})),e.forwardedRef(A()(r)),r.initializeCountryCodes(e),r}return y()(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,true),document.addEventListener("keydown",this.handleKeydownOptions),document.addEventListener("keypress",this.handleKeypressOptions)}},{key:"componentDidUpdate",value:function(){this.activeCountryCodeElement instanceof HTMLElement&&this.scrollTo(this.activeCountryCodeElement)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,true),document.removeEventListener("keydown",this.handleKeydownOptions),document.removeEventListener("keypress",this.handleKeypressOptions)}},{key:"initializeCountryCodes",value:function(e){var t=e.i18n,n=g()(X).call(X,(function(e){var n=e.code,r=e.dial_code;return{code:n,name:t._("countries.".concat(n)),dial_code:r}}));this.sortedCountries=v()(h()(n).call(n,(function(e,t){return e.name.localeCompare(t.name)}))),this.sortedCountriesByCode=v()(h()(n).call(n,(function(e,t){return e.dial_code-t.dial_code})))}},{key:"getCountryCode",value:function(e){var t=new RegExp("^".concat(e,"$"),"i"),n=B()(X,(function(e){return t.test(e.code)}));return n?n.dial_code:"+7"}},{key:"setPhoneNumber",value:function(e){var t=e.phoneNumber,n=e.country;if(t&&n&&!this.state.phoneNumber){var r=Object(Z.a)(t,n);r&&this.setState({phoneNumber:r})}}},{key:"getFullPhoneNumber",value:function(){var e=this.state.phoneNumber;if(e=p()(e).call(e)){var t,n=this.state.code.replace(/\s/g,"");return l()(t="".concat(n)).call(t,e)}return""}},{key:"scrollTo",value:function(e){e&&e.parentElement&&(e.scrollTop=e.parentElement.getBoundingClientRect().top,e.focus())}},{key:"isSameCountry",value:function(e,t){return!(!e||!t)&&e.toLowerCase()===t.toLowerCase()}},{key:"getNewIndex",value:function(e){var t,n=this,r=e.down,a=B()(this.sortedCountries,(function(e){return n.isSameCountry(e.code,n.state.highlightedCountryCode)})),o=s()(t=this.sortedCountries).call(t,a);return r?o===this.sortedCountries.length-1?0:o+1:0===o?this.sortedCountries.length-1:o-1}},{key:"moveUp",value:function(){var e=this.sortedCountries[this.getNewIndex({down:false})].code;this.setState({highlightedCountryCode:e})}},{key:"moveDown",value:function(){var e=this.sortedCountries[this.getNewIndex({down:true})].code;this.setState({highlightedCountryCode:e})}},{key:"changeActiveCountry",value:function(e){var t=B()(this.sortedCountries,(function(t){return t.name.substring(0,e.length).toLowerCase()===e.toLowerCase()}));t||(t=B()(this.sortedCountriesByCode,(function(t){return t.dial_code.replace(" ","").substring(1,e.length+1)===e}))),t&&this.setState({highlightedCountryCode:t.code})}},{key:"resetFilterValue",value:function(){this.shouldResetFilter=true,this.lastTimeout=null,this.currentFilter=""}},{key:"changeCode",value:function(e){if(e instanceof HTMLElement){var t=e.querySelector(".phone-input-option__code"),n=t&&t.textContent,r=t&&t.dataset?t.dataset.code:"";this.setState({selectShown:false,code:n||"",highlightedCountryCode:r}),this.phoneElement&&this.phoneElement.focus()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.codeName,r=t.placeholder,o=t.readOnly,c=i()(t,["codeName","placeholder","readOnly"]),s=this.state,u=s.code,l=s.selectShown;return D.a.createElement("div",{className:"phone-input"},D.a.createElement("div",{className:"phone-input__wrapper"},D.a.createElement("div",{className:V()("phone-input__code",{"phone-input__code_readonly":o,"phone-input__code_shown-dropdown":l}),onClick:o?void 0:this.handleCodeClick},o?D.a.createElement("div",{className:"phone-input__code__value-wrapper"},u):u,D.a.createElement("input",{type:"hidden",name:n,value:u})),D.a.createElement("input",a()({className:"phone-input__input",inputMode:"tel",placeholder:r},H()(c,["country","intl","error","phoneNumber","onInput","i18nHash","forwardedRef"]),{ref:function(t){return e.phoneElement=t},onChange:this.handleInputChange,value:this.state.phoneNumber}))),this.state.selectShown?this.renderCodeSelect():null)}},{key:"renderCodeSelect",value:function(){var e,t=this;return D.a.createElement("div",{className:"phone-input__select-wrapper"},D.a.createElement(Y.a,{svg:Q.a,className:"phone-input__back",onClick:this.handleClickOutside}),J,D.a.createElement("ul",{className:"phone-input__select",ref:function(e){return t.countryCodesListElement=e}},g()(e=this.sortedCountries).call(e,(function(e){var n,r=t.isSameCountry(e.code,t.state.highlightedCountryCode),a=r?"phone-input-option phone-input-option_active":"phone-input-option";return n=r?function(e){t.activeCountryCodeElement=e}:M.a,D.a.createElement("li",{className:a,key:e.code,onClick:t.handleOptionClick,ref:n,tabIndex:0},D.a.createElement("span",{className:"phone-input-option__name",title:e.name},e.name),D.a.createElement("span",{className:"phone-input-option__code","data-code":"".concat(e.code)},e.dial_code))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.phoneNumber,r=e.country;if(!n||!r||t.phoneNumber)return null;var a=Object(Z.a)(n,r);return a?{phoneNumber:a}:null}}]),n}(N.Component);U()($,"defaultProps",{onInput:M.a,forwardedRef:M.a,placeholder:""});var ee=z()(q.a,Object(P.withI18n)({update:true}));t.a=ee($)},WXbY:function(e,t,n){"use strict";n("oVuX");var r=n("a0dU"),a=n.n(r),o=(n("ls82"),n("SPx3")),i=n.n(o),c=n("mnMc"),s=n.n(c),u=n("o+MX"),l=n.n(u),d=n("WxoT"),p=n.n(d),f=n("kT1S"),h=n.n(f),m=n("+oHS"),v=n.n(m),_=(n("526F"),n("QkVN")),g=n.n(_),b=n("LpSC"),O=n.n(b),S=n("Puqe"),E=n.n(S),k=n("79/T"),y=n.n(k),C=n("/zpq"),A=(n("rB9j"),n("EnZy"),n("u6S6"),n("04Ix")),w=n.n(A),R=n("KYsz"),I=n.n(R),L=n("xlHU"),T=n.n(L),U=n("mwIZ"),N=n.n(U);function D(e,t){var n=e.path,r=T()(e),a=e.modifier;return t=n?N()(t,n):t,I()(r).call(r,(function(e,n){var r=N()(t,n);return r?h()(h()({},e),{},w()({},a(n),r)):e}),{})}var P=n("AOYn"),x=C.a.isClient()?window.location:null;function M(e){if(e.error.code)return e.response={status:e.error.code},e;var t=e.error.messages?e.error.messages.join(". "):e.error.message,n=new Error(t);return n.response=e,n}var j;t.a=(j=O.a,{getDefaultOptions:function(e){var t=e.state,n=e.isMultipart,r=e.fingerprint,a={};return n||(a={accept:"application/json","content-type":"application/json"}),t&&(a=h()(h()({},a),{},{"x-csrf-token":t.app.csrfToken}),r&&r.length>0&&(a["x-device-fingerprint"]=r),t.recaptcha&&t.recaptcha.userToken&&(a["x-recaptcha-user-token"]=t.recaptcha.userToken)),{headers:a,credentials:"same-origin"}},normalizeFetchMethod:function(e){var t=e.method,n=void 0===t?"GET":t;return h()(h()({},e),{},{method:n.toUpperCase()})},withoutExtraFields:function(e){return E()(e,["data","cors"])},getDataAsJson:function(e){return p()(e)},getCompleteUri:function(e,t){var n,r,a=t.data,o=t.method,i="";if(!t.cors){var c,u=C.a.isClient()?x.origin:"http://localhost:23708";e=l()(c="".concat(u)).call(c,e)}return a&&v()(a).length>0&&"GET"===o&&(i=l()(r="".concat(s()(e).call(e,"?")?"&":"?")).call(r,Object(P.m)(a))),l()(n="".concat(e)).call(n,i)},getCompleteOptions:function(e){var t=e.data,n=e.isMultipart,r=e.method,a=e.cors;return!n&&t&&"GET"!==r&&(e.body=this.getDataAsJson(t)),a&&(e.mode="cors"),g()(this.getDefaultOptions(e),e,{method:r})},checkResponse:function(e,t){return i()(a.a.mark((function n(){var r,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.ok){n.next=13;break}if(!(t.dontParse||204===e.status)){n.next=3;break}return n.abrupt("return",e);case 3:return n.next=5,e.json();case 5:if(!(e=n.sent).error){n.next=10;break}throw M(e);case 10:return n.abrupt("return",e);case 11:n.next=29;break;case 13:return n.prev=13,n.next=16,e.json();case 16:((r=n.sent).error||r.errors)&&(r.response={status:e.status}),n.next=24;break;case 20:n.prev=20,n.t0=n.catch(13),(o=new Error(e.statusText)).response=e;case 24:if(!r){n.next=28;break}throw r;case 28:throw o;case 29:case"end":return n.stop()}}),n,null,[[13,20]])})))()},fetch:function(e,t){var n=this,r=t.state;if(t.data=g()({},t.data,function(e){return D({path:"app",keys:["authToken","revokeAccessToken"],modifier:y.a},e)}(r)),r&&r.currentUser){var a=r.currentUser,o=a.data.library_lang;!a.auth&&Boolean(o)&&(t.data=g()(t.data,{lang:o}))}return t=this.getCompleteOptions(this.normalizeFetchMethod(t)),e=this.getCompleteUri(e,t),t=this.withoutExtraFields(t),j(e,t).then((function(e){return n.checkResponse(e,t)}))}})},X12x:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n("XiPH"),a=n("QkVN"),o=n.n(a),i=new r.schema.Entity("banners",{},{idAttribute:"tag"}),c={};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return t.entities&&t.entities.banners?o()({},e,t.entities.banners):(t.type,e)}},X2uE:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return C}));var r=n("04Ix"),a=n.n(r),o=n("FLGM"),i=n.n(o),c=n("XiPH"),s=n("E+oP"),u=n.n(s),l=n("P/G1"),d=n.n(l),p=n("G4qV"),f=n("0A2V"),h=n("ZDpU"),m=n("RfSM"),v=new c.schema.Entity("emotions",{},{idAttribute:"name"}),_=new c.schema.Array(v),g="EMOTIONS_LOADED",b=function(e){return e.entities},O=Object(p.a)(b,(function(e,t){return t}),(function(e,t){return e.emotions[t]||{}}));function S(e,t){return i()(t).call(t,(function(t){return O(e,t)}))}var E=Object(p.a)(b,(function(e){return d()(e.emotions)})),k=Object(f.a)((function(){return a()({},h.a,{endpoint:"/p/a/4/d/impressions/emotions",schema:new c.schema.Array(v),responseKey:"objects",types:["EMOTIONS_LOAD",g]})}),g),y={};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=Object(m.a)(e,t,"emotions");return u()(n)?e:n}},XVgV:function(e,t,n){},Y9cd:function(e,t,n){},Y9wk:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return C}));n("sMBO"),n("rB9j"),n("Rm1S"),n("hByQ");var r=n("kT1S"),a=n.n(r),o=n("GBY4"),i=n.n(o),c=n("ZYNy"),s=n.n(c),u=n("BezJ"),l=n.n(u),d=n("Puqe"),p=n.n(d),f=n("QkVN"),h=n.n(f),m=n("TP7S"),v=n.n(m),_=n("+pV9"),g=n("/zpq"),b=n("UIRo"),O=n("5U8U"),S=n("3L7n"),E=n("AOYn"),k="aws-client-id";function y(){return l.a.load(k)}function C(){return function(e){return function(t){var n=e(t);if(!t||!t.meta||!t.meta.analytics)return n;var r=t.meta.analytics,a=r.type,o=r.payload;return e(Object(S.P)(a,o))}}}t.a=function(){var e=y(),t={dependenciesHref:n("wdIs"),region:"us-east-1",identityPoolId:b.a.AWSIdentityPoolId,appId:b.a.AMAappId,appTitle:b.a.AMAappTitle,autoSubmitEvents:true,clientOptions:{maxRetries:3}};return e&&(t.clientId=e),_.initialize(t).then((function(t){v()(e)&&function(e){var t={maxAge:31536e3,domain:".".concat(Object(E.e)(window.location.hostname)),path:"/"};l.a.save(k,e,t)}(t.client.storage.cache.AWSMobileAnalyticsClientId)})),s()((function(e,t){var n=e.type,r=e.payload;r=p()(h()(function(e){var t,n,r=e.currentUser.data,o=r.id,c=r.country,s=r.library_lang,u=r.locale,l=e.app,d=l.ua,p=d.browser,f=d.device,h=l.currentLocationHref,m=l.previousLocationHref,v=l.utmParams,_=window,g=_.screen,b=_.document,S=_.location,E=m||h,k=b.referrer||E,y=i()(k).host;return a()({user_id:o,subscription_country:c,library_lang:s,locale:u,browser:p.name,browser_version:p.major,device_type:f.type||"desktop",screen_width:g.width,screen_height:g.height,referring_domain:y,referrer:k,current_url:S.href,subscription:Object(O.o)(e),dscvr:(t=S.search,n=t.match(/[?&]dscvr=([^&]+)/),n?n[1]:"")},v)}(t),r),["token"]),_.recordEvent(n,r),function(e,t){if(e===S.J&&!g.a.isDevelopment()&&"function"==typeof window.fbq){var n=t.currency,r=t.price,a=t.payment_method,o=t.is_trial,i=t.sub_type;o&&(i="".concat(i,"_trial")),"trial_3_months"===a&&(i="".concat(i,"_3_months")),window.fbq("track","Purchase",{currency:n,value:r,content_type:i})}}(n,r),window.dataLayer&&function(e,t){window.dataLayer.push({event:"awsLite_".concat(e),payload:t})}(n,r)}))}},YUtL:function(e,t,n){"use strict";var r=n("nhkr"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("X5/F"),l=n.n(u),d=n("K82H"),p=n.n(d),f=n("04Ix"),h=n.n(f),m=n("q1tI"),v=n.n(m),_=(n("7HZP"),n("mhdu")),g=function(e){l()(n,e);var t=p()(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.app,n=e.size;if("string"==typeof n)switch(n){case"top-page":n={desktopLarge:48,desktopMedium:48,desktop:48,tablet:32,mobile:32};break;case"top-page-compact":n={desktopLarge:48,desktopMedium:48,desktop:32,tablet:32,mobile:16};break;case"after-heading":n={desktopLarge:40,desktopMedium:40,desktop:40,tablet:32,mobile:16};break;case"bottom-page":n={desktopLarge:64,desktopMedium:64,desktop:64,tablet:64,mobile:64};break;default:n=16}var r="object"===a()(n)?n[t.size]:n;return v.a.createElement("div",{className:"spacer spacer_".concat(r)})}}]),n}(m.Component);h()(g,"defaultProps",{size:16}),t.a=Object(_.a)(g)},ZDpU:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return E}));n("07d7"),n("JfAA");var r=n("zLi2"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=n("x1GB"),s=n.n(c),u=n("6UaR"),l=n.n(u),d=n("nhkr"),p=n.n(d),f=n("JZM8"),h=n.n(f),m=n("vN+2"),v=n.n(m),_=n("/zpq"),g=n("XiPH"),b=n("yayI"),O=n("6wIG"),S="CALL_API",E="CALL_API_ERROR",k=function(e,t){var n=t.schema,r=t.responseKey,a=t.rawResponseKeys,o=t.modifyResponse,c=e;if("string"==typeof r&&(c=c[r]),n){if("object"!==p()(n))throw new Error("Specify a valid schema.");if(c=Object(g.normalize)(c,n),a){if(!l()(a)||!s()(a).call(a,(function(e){return"string"==typeof e})))throw new Error("responseKeys should be a string array.");c=i()(i()({},c),h()(e[r],a))}}if(o){if("function"!=typeof o)throw new Error("modifyResponse should be a function");c=i()(i()({},c),o(c))}return c},y=function(e){return function(t,n){var r=n.options,a=n.schema,o=n.normalize,i=n.responseKey,c=n.rawResponseKeys,s=n.modifyResponse,u=n.dispatch,l=n.getState;return e.fetch(t,r).then((function(e){return(o||k)(e,{schema:a,responseKey:i,rawResponseKeys:c,dispatch:u,getState:l,modifyResponse:s})}))}};t.c=function(e){return function(t){return function(n){return function(r){var o=r[S];if(void 0===o)return n(r);var c=o.endpoint,s=o.options,u=void 0===s?{}:s,d=o.schema,f=o.responseKey,h=o.rawResponseKeys,m=o.preserveError,g=void 0!==m&&m,k=o.onSuccess,C=void 0===k?v.a:k,A=o.onError,w=void 0===A?v.a:A,R=o.normalize,I=o.modifyResponse,L=o.types,T=o.ignoreError,U=void 0!==T&&T,N=c,D=u;if("function"==typeof N&&(N=N(t.getState())),"string"!=typeof N)throw new Error("Specify a string endpoint URL.");if(!l()(L)||L.length<1||L.length>3)throw new Error("Expected an array of 1-3 action types.");if("function"==typeof R&&"object"===p()(d))throw new Error("Specify either normalize or schema but not both.");var P=t.dispatch,x=t.getState;D=i()({state:x()},D);var M=function(e){var t=i()(i()({},r),e);return delete t[S],"string"!=typeof e.type?(delete t.type,e.type(t)):t},j=a()(L,3),B=j[0],K=j[1],H=j[2],F=void 0===H?E:H;return n(M({type:B})),y(e)(N,{options:D,schema:d,responseKey:f,rawResponseKeys:h,modifyResponse:I,normalize:R,dispatch:P,getState:x,ignoreError:U}).then((function(e){K&&n(function(e){return M(i()(i()({},e),{},{type:K}))}(e)),C(P,x,e)}),(function(e){U||(!function(e){var t,r,a,o;if(g)return n(M({type:F,error:e}));if(401===(null===(t=e)||void 0===t||null===(r=t.response)||void 0===r?void 0:r.status)||"logout"===(null===(a=e)||void 0===a?void 0:a.action))return n(Object(O.q)());if(_.a.isServer())throw e;"string"==typeof e.error?o=e.error:e.error&&"object"===p()(e.error)?o=e.error.message:(F=E,o="errors.unknown"),F===E&&"TypeError: NetworkError when attempting to fetch resource."!==e.toString()&&(n(Object(b.b)("error",{message:o})),e={error:{message:o}}),n(M(i()({type:F},e)))}(e),w(P,x,e))}))}}}}},ZUvS:function(e,t,n){"use strict";n.d(t,"h",(function(){return w})),n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return U})),n.d(t,"f",(function(){return N})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"i",(function(){return M})),n.d(t,"j",(function(){return j})),n.d(t,"c",(function(){return K}));var r=n("a0dU"),a=n.n(r),o=n("04Ix"),i=n.n(o),c=(n("ls82"),n("SPx3")),s=n.n(c),u=n("FLGM"),l=n.n(u),d=n("kT1S"),p=n.n(d),f=n("XiPH"),h=n("E+oP"),m=n.n(h),v=n("Puqe"),_=n.n(v),g=n("vN+2"),b=n.n(g),O=n("G4qV"),S=n("22CO"),E=n("3L7n"),k=n("ZDpU"),y=n("lSWr"),C=n("RfSM"),A=n("MJ/v"),w=new f.schema.Entity("quotes",{book:S.f,creator:S.r},{idAttribute:"uuid",processStrategy:function(e){return p()(p()({},e),{},{resourceType:"quote"})}}),R="QUOTE_LOADING",I="QUOTE_LOADED",L="QUOTE_LIKED",T="QUOTE_REMOVE",U="QUOTE_REMOVED";function N(e,t){return l()(t).call(t,(function(t){return D(e,t)}))}var D=Object(O.a)((function(e,t){return t}),(function(e){return e.entities}),(function(e,t){return Object(f.denormalize)(e,w,t)}));function P(e,t){return l()(t).call(t,(function(t){return function(e,t){var n=t.id,r=t.count;return{quote:D(e,n),count:r}}(e,t)}))}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=s()(a.a.mark((function n(r,o){var c,s,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=D(o(),e),s=t.ignoreError,u=void 0!==s&&s,!c){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,r(i()({},k.a,{endpoint:"/p/api/v5/quotes/".concat(e),schema:w,responseKey:"quote",types:[R,I],ignoreError:u}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function M(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.a;return n={},i()(n,k.a,{endpoint:"/p/a/4/m/".concat(e),options:{method:"delete",dontParse:true},onSuccess:function(t){r(),t(Object(E.N)(E.u,{object_type:"quote",object_id:e}))},types:[T,U]}),i()(n,"uuid",e),i()(n,"bookUuid",t),n}var j=Object(y.a)((function(e,t){var n;return n={},i()(n,k.a,{endpoint:"/p/api/v5/quotes/".concat(e,"/likers"),options:{method:t?"delete":"post",dontParse:true},onSuccess:function(t){t(Object(E.N)(E.o,{object_type:"quote",object_id:e}))},types:["QUOTE_LIKE",L]}),i()(n,"uuid",e),i()(n,"liked",t),n}),L),B={};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=Object(C.a)(e,t,"quotes");if(!m()(n))return n;switch(t.type){case U:return _()(e,t.uuid);case L:var r=e[t.uuid];return t.liked!==r.liked?e:p()(p()({},e),{},i()({},t.uuid,p()(p()({},r),{},{likes_count:t.liked?r.likes_count-1:r.likes_count+1,liked:!t.liked})));case A.a:case A.b:var a=e[t.resourceUuid];return a?p()(p()({},e),{},i()({},t.resourceUuid,p()(p()({},a),{},{comments_count:Math.max(a.comments_count+(t.type===A.a?1:-1),0)}))):e;default:return e}}},Zp80:function(e,t,n){"use strict";n.d(t,"a",(function(){return ve}));var r,a=n("EcSs"),o=n.n(a),i=n("Kwsy"),c=n.n(i),s=n("5PDf"),u=n.n(s),l=n("x1GB"),d=n.n(l),p=n("RKTd"),f=n.n(p),h=n("kT1S"),m=n.n(h),v=n("Vi3r"),_=n.n(v),g=n("KYsz"),b=n.n(g),O=n("mnMc"),S=n.n(O),E=n("o+MX"),k=n.n(E),y=n("06Pm"),C=n.n(y),A=n("kA7L"),w=n.n(A),R=n("hO3g"),I=n.n(R),L=n("X5/F"),T=n.n(L),U=n("K82H"),N=n.n(U),D=n("04Ix"),P=n.n(D),x=n("q1tI"),M=n.n(x),j=n("/MKj"),B=n("u6S6"),K=n.n(B),H=n("H5rt"),F=n("3L7n"),z=n("fzp2"),G=n("a0dU"),V=n.n(G),q=(n("ls82"),n("SPx3")),W=n.n(q),Y=n("vN+2"),X=n.n(Y),Z=n("Rfcb"),Q=n.n(Z),J=n("myih"),$=n("Lssk"),ee=n("IeeE"),te=n.n(ee),ne=n("TSYQ"),re=n.n(ne),ae=n("mwIZ"),oe=n.n(ae),ie=n("UIRo"),ce=(n("nIC1"),"__bmRecaptchaOnLoadCb"),se=function(){return"undefined"!=typeof window&&void 0!==window.grecaptcha},ue=function(e){T()(n,e);var t=N()(n);function n(){var e,a;C()(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return a=t.call.apply(t,k()(e=[this]).call(e,i)),P()(I()(a),"recaptchaContainer",null),P()(I()(a),"state",{isReady:se()}),P()(I()(a),"initializeRecaptcha",(function(){a.recaptchaContainer&&(r=window.grecaptcha.render(a.recaptchaContainer,{sitekey:ie.a.recaptchaSiteKey,callback:a.verificationCallback,hl:a.props.locale,size:"invisible"}))})),P()(I()(a),"verificationCallback",(function(e){a.props.verificationCallback(e)})),a}return w()(n,[{key:"componentDidMount",value:function(){this.state.isReady?this.initializeRecaptcha():this.addRecaptchaScript()}},{key:"componentWillUnmount",value:function(){this.reset()}},{key:"addRecaptchaScript",value:function(){var e=this;window.__bmRecaptchaOnLoadCb=function(){e.setState({isReady:true}),e.initializeRecaptcha()};var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src="https://www.google.com/recaptcha/api.js?onload=".concat(ce),t.appendChild(n)}},{key:"verify",value:function(){if(window.grecaptcha){window.grecaptcha.execute(r);var e=te()((function(){var t=document.querySelector('iframe[src*="recaptcha/api2/bframe"]'),n=oe()(t,"parentElement.parentElement");n&&(n.classList.add("recaptcha-question-container"),clearInterval(e))}),100)}}},{key:"getUserToken",value:function(){if(window.grecaptcha)return window.grecaptcha.getResponse(r)}},{key:"reset",value:function(){window.grecaptcha&&void 0!==r&&window.grecaptcha.reset(r)}},{key:"render",value:function(){var e=this,t=this.props.hidden,n=re()("recaptcha-container",{"recaptcha-container_hidden":t});return M.a.createElement("div",{ref:function(t){return e.recaptchaContainer=t},className:n})}}]),n}(x.Component),le=function(e){T()(n,e);var t=N()(n);function n(e){var r;return C()(this,n),r=t.call(this,e),P()(I()(r),"recaptcha",null),P()(I()(r),"continueServerSideVerification",function(){var e=W()(V.a.mark((function e(t){var n,a,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.props,a=n.dispatch,o=n.verificationCallback,a(Object(J.c)(t)),o(),a(Object(J.a)());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.forwardedRef(I()(r)),r}return w()(n,[{key:"verify",value:function(){this.recaptcha&&this.recaptcha.verify()}},{key:"hasPerformedClientSideValidation",value:function(){return!!this.recaptcha&&Boolean(this.recaptcha.getUserToken())}},{key:"reset",value:function(){if(this.recaptcha)return this.recaptcha.reset()}},{key:"render",value:function(){var e=this,t=this.props,n=t.locale,r=t.hidden;return M.a.createElement(ue,{ref:function(t){return e.recaptcha=t},verificationCallback:this.continueServerSideVerification,locale:n,hidden:r})}}]),n}(x.Component);P()(le,"defaultProps",{forwardedRef:X.a});var de=Object(j.connect)((function(e){return{recaptcha:e.recaptcha}})),pe=Q()($.a,de)(le);function fe(e,t){e?e.hasPerformedClientSideValidation()?(e.reset(),e.verify()):"function"==typeof e.verify&&e.verify():t()}var he=n("/zpq"),me=n("gYkH");function ve(e){return function(t){var n=function(n){T()(a,n);var r=N()(a);function a(){var e,t;C()(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=r.call.apply(r,k()(e=[this]).call(e,o)),P()(I()(t),"form",null),P()(I()(t),"recaptchaBox",null),P()(I()(t),"submitForm",(function(){t.synchronizeWithRedux(),t.props.dispatch(z.i())})),P()(I()(t),"handleSubmit",(function(e){e.preventDefault(),t.shouldUseRecaptcha()?fe(t.recaptchaBox,t.submitForm):t.submitForm()})),P()(I()(t),"handleChange",(function(){var e=t.props.dispatch;t.form&&(t.synchronizeWithRedux(),t.validate(t.form)?e(z.s()):e(z.k()))})),P()(I()(t),"handleSocialButtonClick",(function(e){t.props.dispatch(z.j(e))})),t}return w()(a,[{key:"componentDidMount",value:function(){var t=this.props.dispatch;t(Object(F.N)(F.e)),t(z.e(e.initialStep)),this.detectAutofill()}},{key:"componentWillUnmount",value:function(){this.props.dispatch(z.e(e.initialStep))}},{key:"shouldUseRecaptcha",value:function(){var e;if(!he.a.isProduction())return false;var t=this.props.auth.currentStep;return S()(e=["phone","email"]).call(e,t)}},{key:"synchronizeWithRedux",value:function(){var e;if(this.form){var t=this.props.dispatch,n=b()(e=_()(this.form.elements)).call(e,(function(e,t){var n,r=t.getAttribute("name");return(r=r&&K()(r))&&t instanceof HTMLInputElement?m()(m()({},e),{},P()({},r,f()(n=t.value).call(n))):e}),{});t(z.r(n))}}},{key:"validate",value:function(e){var t,n;return!(!e||!e.elements)&&d()(t=u()(n=_()(e.elements)).call(n,(function(e){return"INPUT"===e.nodeName}))).call(t,(function(e){try{return"password"===e.type&&e.value.length>3||"password"!==e.type&&e.value.length>0||e.matches(":-webkit-autofill")}catch(e){return false}}))}},{key:"shouldLockSubmit",value:function(){return this.props.auth.ui.currentFormLockSubmit}},{key:"detectAutofill",value:function(){var e=this;c()((function(){e.handleChange()}),me.a)}},{key:"render",value:function(){var e=this,n=this.props.auth,r=n.loading,a=n.error,i=n.phone,c=n.locale;return M.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:this.handleSubmit,onChange:this.handleChange},M.a.createElement(t,o()({},this.props,{withAuth:true,lockSubmit:this.shouldLockSubmit(),loading:r,error:a,phone:i,onSocialButtonClick:this.handleSocialButtonClick})),this.shouldUseRecaptcha()&&M.a.createElement(pe,{ref:function(t){return e.recaptchaBox=t},locale:c,verificationCallback:this.submitForm,hidden:true}))}}]),a}(x.Component);return Object(j.connect)((function(e){return{auth:e.auth,currentUser:e.currentUser,shouldShowPreSignupFields:Object(H.e)(e),shouldAllowAuth:Object(H.c)(e),isUserRegistrationChecked:Object(H.b)(e),isUserRegistered:Object(H.a)(e),locale:e.currentUser.data.locale}}))(n)}}},ahCH:function(e,t,n){"use strict";n("sMBO"),n("07d7"),n("JfAA");var r=n("FLGM"),a=n.n(r),o=n("zLi2"),i=n.n(o),c=n("eLKs"),s=n.n(c),u=n("o+MX"),l=n.n(u),d=n("06Pm"),p=n.n(d),f=n("kA7L"),h=n.n(f),m=n("hO3g"),v=n.n(m),_=n("X5/F"),g=n.n(_),b=n("K82H"),O=n.n(b),S=n("04Ix"),E=n.n(S),k=n("q1tI"),y=n.n(k),C=n("ZD0w"),A=n("va4D"),w=n.n(A),R=n("cr+I"),I=n.n(R),L=n("GBY4"),T=n.n(L),U=n("Mn35"),N=n.n(U),D=(n("dDf5"),n("9CiP")),P=n("Vi3r"),x=n.n(P),M=n("mnMc"),j=n.n(M),B=n("5PDf"),K=n.n(B),H=n("+oHS"),F=n.n(H),z=n("d8FT"),G=n.n(z),V=n("EEXL"),q=n("SE+v"),W=n("oY30"),Y=n("Tw59"),X=n("gdMI"),Z=n("riko"),Q=n("zbQm"),J=[{name:"telenor_bulgaria",title:"Telenor",icon:X.a},{name:"yandex",title:"Yandex",icon:Z.a}],$=n("2i0I"),ee=n("mhdu"),te=y.a.createElement("div",{className:"auth-providers__title"},y.a.createElement(C.Trans,{id:"auth.login_with"})),ne=y.a.createElement(C.Trans,{id:"auth.more"}),re=function(e){g()(n,e);var t=O()(n);function n(){var e,r;p()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,l()(e=[this]).call(e,o)),E()(v()(r),"state",{restProvidersShown:false}),E()(v()(r),"showAllProviders",(function(){r.state.restProvidersShown||r.setState({restProvidersShown:true})})),E()(v()(r),"renderButton",(function(e,t){var n;return e.disabled?null:y.a.createElement("div",{className:"auth-providers__button",key:t},y.a.createElement($.a,{kind:e.name,icon:e.icon,onClick:s()(n=r.authorize).call(n,v()(r),e.name,e)},e.title||y.a.createElement(C.Trans,{id:"auth.".concat(e.name)})))})),E()(v()(r),"renderLink",(function(e,t){var n;return e.disabled?null:y.a.createElement("span",{key:t},y.a.createElement("span",{className:"auth-providers__link",onClick:s()(n=r.authorize).call(n,v()(r),e.name,e)},y.a.createElement(w.a,{className:"auth-providers__icon auth-providers__icon-".concat(e.name),svg:e.icon})))})),E()(v()(r),"renderTitle",(function(){return te})),r}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.kind,n=e.providersConditions,r=this.state.restProvidersShown,o="auth-providers_".concat(t),c=function(e){var t,n=F()(G()(e,Boolean)),r=K()(J).call(J,(function(e){return j()(n).call(n,e.name)}));return l()(t=[]).call(t,x()(r),[{name:"facebook",title:"Facebook",icon:V.a},{name:"vkontakte",title:"VK",icon:W.a,disabled:!(null==e?void 0:e.vkontakte)},{name:"google",title:"Google",icon:Y.a},{name:"twitter",title:"Twitter",icon:q.a,isMore:true},{name:"apple",title:"Apple",icon:Q.a,isMore:true}])}(n),s=N()(c,{isMore:true}),u=i()(s,2),d=u[0],p=u[1],f="links"===t?this.renderLink:this.renderButton;return y.a.createElement("div",{className:"auth-providers ".concat(o)},"links"===t&&this.renderTitle(),y.a.createElement("div",{className:"auth-providers__wrapper"},a()(p).call(p,f),d.length&&r?a()(d).call(d,f):y.a.createElement($.a,{className:"auth-providers__button_more",onClick:this.showAllProviders,kind:"inline"},ne)))}},{key:"authorize",value:function(e,t,n){var r={},a=this.props,o=a.onButtonClick,i=a.specialParams,c=a.app;if(c&&c.fingerprint&&(r.fingerprint=c.fingerprint),n.preventDefault(),o(t.title),i&&i.giftCode){var s=T()(window.location.href),u=I.a.parse(s.query);u.promo=i.giftCode,s.set("query",u),r.backUrl=s.toString()}Object(D.a)(e,r)}}]),n}(k.PureComponent);E()(re,"defaultProps",{kind:"default"});t.a=Object(ee.a)(re)},avY4:function(e,t,n){"use strict";var r=n("o+MX"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("hO3g"),l=n.n(u),d=n("X5/F"),p=n.n(d),f=n("K82H"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("q1tI"),g=n.n(_),b=n("/MKj"),O=n("AOYn"),S=n("mqLZ"),E=n("NCkO"),k=n("6wIG"),y=n("CuFz"),C=n("ZD0w"),A=n("TSYQ"),w=n.n(A),R=(n("vYpU"),n("PpkX")),I=n("N3O5"),L=n("ADqK"),T=g.a.createElement(C.Trans,{id:"miscellaneous.my_achievements"}),U=g.a.createElement(C.Trans,{id:"header.settings_link"}),N=g.a.createElement(C.Trans,{id:"notifications.header"}),D=g.a.createElement(C.Trans,{id:"header.upload_title"}),P=g.a.createElement(C.Trans,{id:"header.logout_link"}),x=g.a.createElement("hr",{className:"header-dropdown__separator"});function M(e){var t=e.user,n=e.hasSubscription,r=e.handleLogout,a=e.dscvr,o=e.domain,i=e.limitedSubscription,c=e.showInfo,s=n?O.d.manageSubscriptions():O.d.subscription();return g.a.createElement("div",{className:"header-dropdown"},g.a.createElement("div",{className:"header-dropdown__item"},i&&g.a.createElement(L.a,{showInfo:c,limitedSubscription:i,username:t.login}),g.a.createElement(R.a,{path:s,className:"header-dropdown__item-link","data-test-id":"header-buy-subscription-link",dscvr:a},g.a.createElement(C.Trans,{id:n?"header.manage_subscription_link":"header.buy_subscription_link"}))),g.a.createElement("div",{className:"header-dropdown__item"},g.a.createElement(R.a,{path:O.d.userAchievements(t.login,(new Date).getFullYear()),className:"header-dropdown__item-link",id:"header-achievements-link",dscvr:a},T," â¨")),g.a.createElement("div",{className:"header-dropdown__item"},g.a.createElement(R.a,{path:O.d.settings(t.login),className:"header-dropdown__item-link","data-test-id":"header-settings-link",dscvr:a},U)),g.a.createElement("div",{className:"header-dropdown__item"},g.a.createElement(R.a,{path:O.d.notifications(),className:w()("header-dropdown__item-link",{"unread-alert":t.has_unread_notifications}),"data-test-id":"header-notifications"},N)),g.a.createElement("div",{className:"header-dropdown__item"},g.a.createElement(R.a,{path:O.d.upload(),className:"header-dropdown__item-link","data-test-id":"header-upload"},D)),g.a.createElement("div",{className:"header-dropdown__item"},g.a.createElement("span",{className:"header-dropdown__item-link",onClick:r,"data-test-id":"header-logout-link"},P)),x,g.a.createElement(I.a,{kind:"header-dropdown",domain:o}))}var j=n("jGqO"),B=n("lxhJ"),K=function(e){p()(n,e);var t=h()(n);function n(){var e,r;i()(this,n);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return r=t.call.apply(t,a()(e=[this]).call(e,c)),v()(l()(r),"state",{dropdownShown:false}),v()(l()(r),"showDropdown",(function(){r.setState({dropdownShown:true})})),v()(l()(r),"hideDropdown",(function(){r.setState({dropdownShown:false})})),v()(l()(r),"handleLogout",(function(e){e.preventDefault(),r.props.dispatch(Object(k.q)())})),v()(l()(r),"showInfo",(function(e){e.preventDefault(),r.props.dispatch(Object(B.e)({kind:"limited"}))})),r}return s()(n,[{key:"render",value:function(){var e=this.props.app;return S.a.isMobileSize(e)?this.renderMobile():this.renderDesktop()}},{key:"renderDesktop",value:function(){var e=this.props,t=e.currentUser.data,n=e.subscription.userAccessLevels,r=e.app,a=E.e.hasAnySubscriptions(n),o=E.e.isLimitedSubscription(n);return g.a.createElement("div",{onMouseEnter:this.showDropdown,onClick:this.showDropdown,onMouseLeave:this.hideDropdown},g.a.createElement(j.a,{user:t,lazyLoading:false}),g.a.createElement(y.a,{position:"top-right",offsetTop:36,onClose:this.hideDropdown,hidden:!this.state.dropdownShown},g.a.createElement(M,{user:t,hasSubscription:a,limitedSubscription:o,showInfo:this.showInfo,handleLogout:this.handleLogout,dscvr:"header_dropdown",domain:r.domain})))}},{key:"renderMobile",value:function(){var e=this.props.currentUser.data;return g.a.createElement(R.a,{path:O.d.profile(e.login),activeClassName:"header__nav-link_active"},g.a.createElement(j.a,{user:e,size:24,lazyLoading:false}))}}]),n}(_.PureComponent),H=Object(b.connect)((function(e){return{app:e.app,currentUser:e.currentUser,subscription:e.subscription}}));t.a=H(K)},b4gv:function(e,t,n){e.exports=n.p+"2d97244aee8dd8088bd6ae0e1de61dc2.png"},bKhN:function(e,t,n){var r={"./az.js":"cCGX","./bg.js":"EhSs","./da.js":"c5md","./de.js":"MjjA","./en.js":"6BCy","./es.js":"rPmp","./id.js":"FQVS","./kk.js":"0CnE","./nl.js":"PwRx","./pt.js":"RWyf","./ru.js":"s7q3","./sr.js":"lg08","./sv.js":"AgsB","./tr.js":"+s/9","./uk.js":"NFTh","./uz.js":"xlI4","./vi.js":"fRB1"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="bKhN"},bSTM:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return O}));var r=n("04Ix"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=n("FLGM"),s=n.n(c),u=n("XiPH"),l=n("QkVN"),d=n.n(l),p=n("Puqe"),f=n.n(p),h=n("J2m7"),m=n.n(h),v=n("afOK"),_=n.n(v),g=n("22CO");function b(e,t){return e&&0===e.length?null:m()(e,(function(e){return e.uuid===t}))||_()(e)}function O(e){var t={};return{result:s()(e).call(e,(function(e){var n="".concat(e.resource_type,"s"),r=function(e){var t=e.resource,n=e.resource_type,r=e.position,a=e.position_label,o=Object(u.normalize)(t,g.l[n]);return{resource:{uuid:o.result},entities:o.entities,resource_type:n,position:r,position_label:a}}(e);return t=i()(i()({},t),{},a()({},n,d()(t[n],r.entities[n]))),f()(r,"entities")})),entities:t}}},bm4j:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("mnMc"),a=n.n(r),o=n("UIRo");function i(e){var t;return!!e&&Boolean(a()(t=o.a.locales).call(t,e)&&e!==o.a.fallbackLocale)}function c(e){return e&&i(e)?e:o.a.fallbackLocale}},c2Z0:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("07d7"),a=n.n(r),o=n("5s+n"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("06Pm"),l=n.n(u),d=n("kA7L"),p=n.n(d),f=n("hO3g"),h=n.n(f),m=n("X5/F"),v=n.n(m),_=n("K82H"),g=n.n(_),b=n("04Ix"),O=n.n(b),S=n("q1tI"),E=n.n(S),k=n("MKeS"),y=n("YUtL"),C=n("ki0w"),A=n.n(C),w=Object(k.a)({resolved:{},chunkName:function(){return"client-shared-boxes-nav-box"},isReady:function(e){var t=this.resolve(e);return true===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("client-shared-boxes-nav-box").then(n.bind(null,"bJ3x"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=false,this.importAsync(e).then((function(e){return t.resolved[n]=true,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"bJ3x"}},{fallback:null}),R=Object(k.a)({resolved:{},chunkName:function(){return"client-bookmate-pages-get-the-app-page"},isReady:function(e){var t=this.resolve(e);return true===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e("commons~client-bookmate-boxes-audiobook-index-box~client-bookmate-boxes-audiobook-related-box~client~3fce7d8e"),n.e("commons~client-bookmate-pages-get-the-app-page~253ae210"),n.e("client-bookmate-pages-get-the-app-page")]).then(n.bind(null,"pU3E"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=false,this.importAsync(e).then((function(e){return t.resolved[n]=true,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"pU3E"}},{fallback:null}),I=Object(k.a)({resolved:{},chunkName:function(){return"client-bookmate-blocks-subtopics-all"},isReady:function(e){var t=this.resolve(e);return true===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("client-bookmate-blocks-subtopics-all").then(n.bind(null,"AlaA"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=false,this.importAsync(e).then((function(e){return t.resolved[n]=true,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"AlaA"}},{fallback:null}),L=Object(k.a)({resolved:{},chunkName:function(){return"client-bookmate-blocks-gift-agreement"},isReady:function(e){var t=this.resolve(e);return true===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e("client-bookmate-blocks-gift-agreement").then(n.bind(null,"DhFf"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=false,this.importAsync(e).then((function(e){return t.resolved[n]=true,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"DhFf"}},{fallback:null}),T={nav:w,getTheApp:R,subtopics:I,terms:L},U=E.a.createElement(y.a,{size:"bottom-page"}),N=function(e){v()(n,e);var t=g()(n);function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,s()(e=[this]).call(e,o)),O()(h()(r),"node",void 0),O()(h()(r),"handleFocus",(function(e){e.stopPropagation();var t=e.relatedTarget;r.node&&t instanceof Node&&!r.node.contains(t)&&r.node.focus()})),O()(h()(r),"handleEscape",(function(e){"Escape"!==e.key&&27!==e.which||r.props.onClose()})),r}return p()(n,[{key:"componentDidMount",value:function(){this.toggleOverflow(true);var e=this.node;e&&(e.focus(),e.addEventListener("focusout",this.handleFocus))}},{key:"componentWillUnmount",value:function(){this.toggleOverflow(false),this.node&&this.node.removeEventListener("focusout",this.handleFocus)}},{key:"toggleOverflow",value:function(e){document.body&&(e?document.body.classList.add("no-overflow"):document.body.classList.remove("no-overflow"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.page,r=t.onClose,a=t.params,o=T[n];return E.a.createElement("div",{className:"fake-page",onKeyDown:this.handleEscape,ref:function(t){return e.node=t},tabIndex:-1},E.a.createElement(o,{onClose:r,params:a}),U)}}]),n}(S.PureComponent)},dDf5:function(e,t,n){},"dw+2":function(e,t,n){},earH:function(e,t,n){"use strict";n.d(t,"b",(function(){return P})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return M})),n.d(t,"g",(function(){return j})),n.d(t,"d",(function(){return B})),n.d(t,"c",(function(){return K})),n.d(t,"e",(function(){return H})),n.d(t,"a",(function(){return z}));var r=n("5PDf"),a=n.n(r),o=n("o+MX"),i=n.n(o),c=n("Vi3r"),s=n.n(c),u=n("a0dU"),l=n.n(u),d=n("kT1S"),p=n.n(d),f=(n("ls82"),n("SPx3")),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("XiPH"),g=n("+FvS"),b=n("AOYn"),O=n("0A2V"),S=n("ZDpU"),E=n("22CO"),k=n("bSTM"),y=n("F6cB"),C="COMICBOOK_LOAD",A="COMICBOOK_LOAD_SUCCESS",w="COMICBOOK_LOAD_ERROR",R="COMICBOOK_READERS_LOAD_SUCCESS",I="COMICBOOK_SHELVES_LOAD_SUCCESS",L="COMICBOOK_RELATED_LOAD_SUCCESS",T="COMICBOOK_IMPRESSIONS_LOAD_SUCCESS",U="COMICBOOK_EMOTION_RATING_LOAD_SUCCESS",N="COMICBOOK_SERIES_EPISODES_LOAD_SUCCESS",D=Object(b.c)("comicbook");function P(e){return v()({},S.a,{endpoint:"/p/api/v5/comicbooks/".concat(e),normalize:function(t,n){var r=t.comicbook,a=n.getState,o=r.uuid,i=a().app.url;if(e===o){var c=Object(_.normalize)(r,E.h);return{result:c.result,entities:c.entities}}Object(g.c)(D(o,i),301)},types:[C,A,w]})}var x=Object(O.a)((function(e){var t=e.uuid,n=e.page,r=void 0===n?1:n,a=e.per_page,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return v()({},S.a,{endpoint:"/p/api/v5/comicbooks/".concat(t,"/readers"),options:{data:{page:r,per_page:o}},schema:E.s,responseKey:"users",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:["COMICBOOK_READERS_LOAD",R]})}),R),M=Object(O.a)((function(e){var t=e.uuid,n=e.page,r=void 0===n?1:n,a=e.per_page,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return v()({},S.a,{endpoint:"/p/api/v5/comicbooks/".concat(t,"/bookshelves"),options:{data:{page:r,per_page:o}},schema:E.q,responseKey:"bookshelves",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:["COMICBOOK_SHELVES_LOAD",I]})}),I),j=Object(O.a)((function(e){var t=e.bookshelfUuid,n=e.page,r=void 0===n?1:n,a=e.per_page,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return v()({},S.a,{endpoint:"/p/api/v5/bookshelves/".concat(t,"/comicbooks"),options:{data:{page:r,per_page:o}},schema:E.i,responseKey:"comicbooks",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:["COMICBOOK_RELATED_LOAD",L]})}),L),B=Object(O.a)((function(e){var t,n=e.uuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,c=e.index,s=void 0!==c&&c,u=e.append,d=void 0!==u&&u;return v()({},S.a,{endpoint:"/p/api/v5/comicbooks/".concat(n,"/impressions"),options:{data:{page:a,per_page:i}},normalize:(t=h()(l.a.mark((function e(t){var r,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.normalize)(Object(y.p)(t.impressions),y.m),o=r.result,i=r.entities,e.abrupt("return",{result:o,entities:p()(p()({},i),{},{impressions:Object(y.h)(i.impressions,n,"comicbook")}),updateField:s?"impressionsIndex":"impressions",index:s,append:d,nextPage:o.length?a+1:null});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),types:["COMICBOOK_IMPRESSIONS_LOAD",T]})}),T);function K(e){return v()({},S.a,{endpoint:"/p/api/v5/comicbooks/".concat(e,"/emotion_ratings"),types:["COMICBOOK_EMOTION_RATING_LOAD",U]})}var H=Object(O.a)((function(e){var t=e.uuid,n=e.seriesUuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,c=e.append,s=void 0!==c&&c,u={page:a,per_page:i};return n&&(u.series_uuid=n),v()({},S.a,{endpoint:"/p/api/v5/comicbooks/".concat(t,"/more_in_series"),options:{data:u},normalize:function(e){var t=e.parts,n=Object(k.b)(t),r=n.result;return{result:r,entities:n.entities,append:s,nextPage:r.length?a+1:null}},types:["COMICBOOK_SERIES_EPISODES_LOAD",N]})}),N),F={loading:false,uuid:"",readers:[],shelves:[],related:[],otherEpisodes:[],impressions:[],impressionsIndex:[],pages:{readers:1,shelves:1,related:1,impressions:1,impressionsIndex:1,otherEpisodes:1},emotionRating:[],currentUserImpressionUuid:null};function z(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case C:return p()(p()({},r),{},{uuid:"",loading:true});case A:return p()(p()({},r),{},{loading:false,uuid:o.result,error:null});case w:return p()(p()({},r),{},{loading:false,uuid:"",error:o.error});case R:return p()(p()({},r),{},{readers:o.append?i()(e=[]).call(e,s()(r.readers),s()(o.result)):o.result,pages:p()(p()({},r.pages),{},{readers:o.nextPage})});case I:return p()(p()({},r),{},{shelves:o.append?i()(t=[]).call(t,s()(r.shelves),s()(o.result)):o.result,pages:p()(p()({},r.pages),{},{shelves:o.nextPage})});case L:return p()(p()({},r),{},{related:o.append?i()(n=[]).call(n,s()(r.related),s()(o.result)):o.result,pages:p()(p()({},r.pages),{},{related:o.nextPage})});case T:var c,u,l=o.updateField,d=o.result,f=o.index,h=o.append;return p()(p()({},r),{},(u={},v()(u,l,f||!h?d:i()(c=[]).call(c,s()(r[l]),s()(d))),v()(u,"pages",p()(p()({},r.pages),{},v()({},l,o.nextPage))),u));case y.g:var m,_;return"comicbook"===o.resourceType?p()(p()({},r),{},{impressionsIndex:a()(m=r.impressionsIndex).call(m,(function(e){return e!==o.uuid})),impressions:a()(_=r.impressions).call(_,(function(e){return e!==o.uuid}))}):r;case U:return p()(p()({},r),{},{emotionRating:o.emotion_ratings});case y.d:var g=o.data,b=g.resourceUuid,O=g.resourceType,S=g.uuid;return"comicbook"===O&&b===r.uuid?p()(p()({},r),{},{currentUserImpressionUuid:S}):r;case y.c:return p()(p()({},r),{},{currentUserImpressionUuid:null});case N:var E;return p()(p()({},r),{},{otherEpisodes:o.append?i()(E=[]).call(E,s()(r.otherEpisodes),s()(o.result)):o.result,pages:p()(p()({},r.pages),{},{otherEpisodes:o.nextPage})});default:return r}}},eixT:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("o+MX"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("X5/F"),l=n.n(u),d=n("K82H"),p=n.n(d),f=n("04Ix"),h=n.n(f),m=n("q1tI"),v=n.n(m),_=(n("2Jkp"),{white:"#fff",gray:"#d8d4d0"}),g=function(e){l()(n,e);var t=p()(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.size,o=n.strokeWidth,i=n.color,c=n.kind,s=r,u=o;"big"===c&&(s=48,u=4);var l=n.centered?"loader_centered":"";return v.a.createElement("div",{className:a()(e="loader loader_".concat(c," ")).call(e,l),style:{width:s,height:s}},v.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:s,width:s,viewBox:a()(t="0 0 ".concat(s," ")).call(t,s)},v.a.createElement("circle",{cx:s/2,cy:s/2,r:s/2-u/2,strokeWidth:u,stroke:_[i]})))}}]),n}(m.Component);h()(g,"defaultProps",{color:"white",kind:"default",strokeWidth:2,size:24,centered:false})},eppo:function(e,t,n){"use strict";var r=n("06Pm"),a=n.n(r),o=n("kA7L"),i=n.n(o),c=n("X5/F"),s=n.n(c),u=n("K82H"),l=n.n(u),d=n("q1tI"),p=n.n(d),f=n("ZD0w"),h=p.a.createElement(f.Trans,{id:"auth.join_or_login"}),m=function(e){s()(n,e);var t=l()(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.isChecked,n=e.isRegistered,r=e.role;if("header"!==r||t){if(n){var a="header"===r?"auth.login":"buttons.login";return p.a.createElement(f.Trans,{id:a})}var o="header"===r?"auth.join":"buttons.join";return p.a.createElement(f.Trans,{id:o})}return h}}]),n}(d.PureComponent);t.a=m},"f/wR":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return S}));var r=n("04Ix"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=n("526F"),s=n.n(c),u=n("d8FT"),l=n.n(u),d=n("Puqe"),p=n.n(d),f=n("noZS"),h=n.n(f),m=n("3EZw"),v=n.n(m),_=n("PDQI"),g="BANNERS_GET_INITIAL",b="BANNERS_SHOW";function O(e){var t=E(e);return l()(e.banners,t)}function S(){return function(e,t){var n=E(t()),r=["component","showPredicate"],a=l()(_.a,(function(e){return e.active}));a=h()(_.a,(function(e,t){return s()({},p()(e,r),{show:n(e,t)})})),e({type:g,banners:a})}}var E=v()((function(e,t,n){return t.shouldCheckShowPredicate&&"function"==typeof _.a[n].showPredicate?_.a[n].showPredicate(e):Boolean(t.show)})),k={};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.banners;case b:return i()(i()({},e),{},a()({},t.bannerName,i()(i()({},e[t.bannerName]),{},{show:true})));default:return e}}},fJzK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("04Ix"),a=n.n(r),o=n("ZDpU"),i=n("22CO"),c=n("mEEO");function s(e){return a()({},o.a,{endpoint:"/p/api/v5/profile/library_cards/".concat(e),schema:i.k,responseKey:"library_card",types:[c.c,c.d]})}},fYg3:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b}));var r=n("04Ix"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=n("XiPH"),s=n("QkVN"),u=n.n(s),l=n("Puqe"),d=n.n(l),p=n("22CO"),f=n("W6YQ"),h=n("F6cB");function m(e,t){return Object(c.denormalize)(t,p.b,e.entities)}function v(e,t){return Object(c.denormalize)(t,p.a,e.entities)}function _(e,t){return e+{added:1,updated:0,removed:-1}[t]}var g={};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;if(t.entities&&t.entities.audiobooks)return u()({},e,t.entities.audiobooks);switch(t.type){case f.a:var n=t.audiobook,r=t.reason,o=e[n.uuid];return o?i()(i()({},e),{},a()({},n.uuid,i()(i()(i()({},o),n),{},{listeners_count:_(o.listeners_count,r)}))):e;case h.a:if("audiobook"===t.resourceType){var c=e[t.resourceUuid];return i()(i()({},e),{},a()({},t.resourceUuid,i()(i()({},c),{},{impression_uuid:t.impression.uuid,impressions_count:c.impressions_count+1})))}return e;case h.g:if("audiobook"===t.resourceType){var s=e[t.resourceUuid];return s=d()(s,"impression_uuid"),i()(i()({},e),{},a()({},t.resourceUuid,i()(i()({},s),{},{impressions_count:s.impressions_count-1})))}return e;default:return e}}},fzp2:function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"c",(function(){return Z})),n.d(t,"b",(function(){return ne})),n.d(t,"k",(function(){return ie})),n.d(t,"s",(function(){return ce})),n.d(t,"e",(function(){return se})),n.d(t,"q",(function(){return ue})),n.d(t,"l",(function(){return le})),n.d(t,"i",(function(){return de})),n.d(t,"r",(function(){return pe})),n.d(t,"o",(function(){return me})),n.d(t,"d",(function(){return ve})),n.d(t,"n",(function(){return ge})),n.d(t,"p",(function(){return be})),n.d(t,"j",(function(){return Oe})),n.d(t,"g",(function(){return Se})),n.d(t,"f",(function(){return ke})),n.d(t,"m",(function(){return ye})),n.d(t,"t",(function(){return Ce})),n.d(t,"h",(function(){return Te}));n("sMBO");var r=n("kT1S"),a=n.n(r),o=n("04Ix"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("mnMc"),l=n.n(u),d=n("a0dU"),p=n.n(d),f=(n("ls82"),n("SPx3")),h=n.n(f),m=n("ZDpU"),v=n("QkVN"),_=n.n(v),g=n("mwIZ"),b=n.n(g),O=n("JZM8"),S=n.n(O),E=n("BezJ"),k=n.n(E),y=n("WXbY"),C=n("6wIG"),A=n("3L7n"),w=n("yayI"),R=n("u8yW"),I=n("lxhJ"),L=n("pBR6"),T=n("FSMw"),U=(n("rB9j"),n("hByQ"),n("+oHS"),n("x1GB"),n("GBY4")),N=n.n(U),D=(n("cr+I"),n("/zpq"));function P(e){if(e.url){var t=new N.a(e.url);return{pathname:t.pathname,query:t.search}}return{pathname:"",query:""}}var x=function(e){var t=e.app;return D.a.isServer()?P(t).pathname:e.routing.locationBeforeTransitions.pathname},M=T.a.AUTH_FORM_LOCK_SUBMIT,j=T.a.AUTH_FORM_UNLOCK_SUBMIT,B=T.a.AUTH_FORM_CHANGE_STEP,K=T.a.AUTH_FORM_CHANGE_FLOW,H=T.a.AUTH_FORM_CHANGE_PHONE,F=T.a.AUTH_FORM_ERROR,z=T.a.AUTH_FORM_LOADING,G=T.a.AUTH_FORM_LOGIN_SUCCESS,V=T.a.AUTH_FORM_RESET_CREDENTIAL,q=T.a.AUTH_FORM_RESET_PASSWORD,W=T.a.AUTH_FORM_SYNC_VALUES,Y=T.a.AUTH_FORM_CLEAR,X=T.a.SOCIAL_AUTH_INIT,Z=T.a.SOCIAL_AUTH_SUCCESS,Q=T.a.AUTH_PASSWORD_RESET,J=T.a.AUTH_CHECK_IF_REGISTERED,$=T.a.AUTH_CHECK_IF_REGISTERED_SUCCESS,ee=T.a.AUTH_ACCEPT_DATA_FROM_SOCIAL_NETWORK,te=T.a.AUTH_UPDATE_PRE_SIGNUP_FIELDS,ne="NEW_FLOW_CALLBACK",re="SIGN_IN_WITH_TOKEN_START",ae="SIGN_IN_WITH_TOKEN_SUCCESS",oe="SIGN_IN_WITH_TOKEN_ERROR";function ie(){return{type:M}}function ce(){return{type:j}}function se(e,t){return function(){var n=h()(p.a.mark((function n(r){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:B,step:e}),t&&r(Object(A.N)(A.d,{source:e}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function ue(e,t){return function(){var n=h()(p.a.mark((function n(r,a){var o,i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={user:e?{token_type:"sign_in_token",token_value:e}:{token_type:"access_token",token_value:t}},i="/p/api/v5/sign_in/token",n.next=5,r(Object(L.c)(a().app.url));case 5:return n.next=7,r(fe(o,i,"token"));case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function le(){return{type:re}}function de(){return function(){var e=h()(p.a.mark((function e(t,n){var r,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),o=a.auth.currentStep,l()(r=["email","codeSent","socialAuthenticated"]).call(r,o)?t(function(){var e=h()(p.a.mark((function e(t,n){var r,a,o,i,c,s,u,l,d,f,h,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n()).auth.userRegistrationChecked){e.next=7;break}if(a=Ee(r.auth)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,ke(a);case 7:if(r=n(),o=r.auth,i=o.flow,!("email"===(c=o.currentStep))){e.next=19;break}return s={user:{credential:o.email,password:o.password}},"signup"===i&&(s={user:{email:o.email,password:o.password}}),u=he(i,c),e.next=16,t(fe(s,u,"email"));case 16:return e.abrupt("return",e.sent);case 19:if(!("codeSent"===c)){e.next=27;break}return l={user:{phone_number:o.phone,confirmation_code:o.smsCode}},d=he(i,c),e.next=24,t(fe(l,d,"phone"));case 24:return e.abrupt("return",e.sent);case 27:if(!("social"===c||"socialAuthenticated"===c)){e.next=35;break}return f={user:Ae(o.socialAuth)},(h=b()(o,"socialAuth.rawOauthResponse.email"))&&(f.user.oauth_email=h),m=he(i,c),e.next=34,t(fe(f,m,o.socialAuth.provider));case 34:return e.abrupt("return",e.sent);case 35:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):"phone"===o?t(function(){var e=h()(p.a.mark((function e(t,n){var r,a,o,i,c,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),!("phone"===(a=r.auth).currentStep)){e.next=8;break}return e.next=4,t(ke({credential:s()(o="".concat(a.countryCode)).call(o,a.phone),channel:"phone"}));case 4:return i=a.phone,c=a.countryCode,u=c+i,e.next=8,t(me(u));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):"reset"===o&&t(ge());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function pe(e){return{type:W,payload:e}}function fe(e,t,n){return function(r,o){var c=o(),s=c.auth,u=c.app.fingerprint,l=s.flow;"token"===n&&(l="login");var d="signup"===l?"registration":"login";"signup"===l&&(e=function(e,t){return a()(a()({},e),{},{confirmations:{confirmation_terms_of_service:t.preSignupFields.acceptTermsOfService,confirmation_adult:t.preSignupFields.isOfLegalAge,confirmation_marketing_newsletters:t.preSignupFields.agreeToReceiveEmails}})}(e,s)),r(i()({},m.a,{endpoint:t,options:{method:"post",data:e,fingerprint:u},modifyResponse:function(e){return{data:e.user}},onSuccess:function(e){!function(e,t){var n=k.a.load("topAdvertPin");e&&n&&t(Object(A.N)(A.K,{pin:n})),k.a.remove("topAdvertPin")}("signup"===l,e),"signup"===l&&e((function(e){e(Object(A.N)(A.z,{}))})),e(Object(A.N)(A.f,{source:we(n),context:d,custom:true})),e(Se()),e(Object(R.c)()),e({type:ae})},onError:function(e,t,r){var a=r.error,o={source:we(n),context:d};a&&a.message&&(o.reason=a.message),e(Object(A.N)(A.c,o)),e({type:oe})},types:[z,G,F]}))}}function he(e,t){var n="signup"===e?"sign_up":"sign_in";switch(t){case"email":return"/p/api/v5/".concat(n,"/password");case"codeSent":return"/p/api/v5/".concat(n,"/code");case"social":case"socialAuthenticated":return"/p/api/v5/".concat(n,"/oauth");default:return""}}function me(e){var t;return t={},i()(t,m.a,{endpoint:"/p/api/v5/send_code",options:{method:"post",data:{phone_number:e}},onSuccess:function(e){e(Object(A.N)(A.M)),e(se("codeSent"))},types:[z,H,F]}),i()(t,"phone",e),t}function ve(e){return function(){var t=h()(p.a.mark((function t(n,r){var o,i,c,s,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(o=r()).currentUser.auth){t.next=4;break}return(null===(i=e.mobileState)||void 0===i?void 0:i.isConnecting)&&n(_e(e)),t.abrupt("return");case 4:return c=Ae(e),t.next=7,y.a.fetch("/p/api/v5/sign_in/oauth/registered",{data:c});case 7:(s=t.sent).registered?(n({type:K,flow:"login"}),n(fe({user:c},"/p/api/v5/sign_in/oauth",e.provider))):(o.popup.authHidden&&"/login"!==x(o)&&n(Object(I.e)()),u="telenor_bulgaria"!==e.provider||s.name?s.name||e.provider:"telenor",n({type:ee,registered:false,payload:a()(a()({},S()(e,["providerTokenData","provider","rawOauthResponse"])),{},{name:u,userpic:s.userpic,email_provided:s.email_provided})}),n(se("socialAuthenticated")));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function _e(e){return i()({},m.a,{endpoint:"/p/api/v5/profile/authentication_providers",options:{method:"post",data:a()({},Ae(e)),dontParse:true},onSuccess:function(t){t(Object(C.p)()),t(Object(A.N)(A.f,{source:we(e.provider),context:"friend_finder",custom:true}))},onError:function(t,n,r){var a=b()(r,"error.message"),o={source:we(e.provider),context:"friend_finder"};a&&(o.reason=a,t(Object(w.b)("error",{message:a}))),t(Object(A.N)(A.c,o))},types:[z,G,F]})}function ge(e){return function(t,n){e||(e=n().auth.email);var r={user:{credential:e}};t(i()({},m.a,{endpoint:"/p/api/v5/sign_in/reset_password",options:{method:"post",data:r},onSuccess:function(e){e(Object(A.N)(A.B)),e(se("linkSent"))},types:[z,q,F]}))}}function be(e){return i()({},m.a,{endpoint:"/p/a/4/u/change_password",options:{method:"post",data:e},modifyResponse:function(){return{ui:{loading:false,success:true}}},onSuccess:function(e){return e(se("passwordReset"))},types:[z,Q]})}function Oe(e){return{type:X,meta:{analytics:{type:"Authentication Initiated",payload:{source:e}}}}}function Se(){return{type:Y}}function Ee(e){var t=e.currentStep;return"email"===t?{credential:e.email,channel:"email"}:"codeSent"===t?{credential:e.phone,channel:"phone"}:void 0}function ke(e){var t=e.credential,n="email"===e.channel?"/p/api/v5/sign_in/credentials/registered":"/p/api/v5/sign_in/phones/registered";return i()({},m.a,{endpoint:n,options:{data:{credential:t}},types:[J,$,F]})}function ye(){return{type:V}}function Ce(e){return{type:te,payload:e}}function Ae(e){var t=e.provider,n=e.providerTokenData,r=e.oauth_name;return r?{provider:t,provider_token_data:n,oauth_name:r}:{provider:t,provider_token_data:n}}function we(e){return"vkontakte"===e.toLowerCase()?"vk":e.toLowerCase()}function Re(e){var t;if(l()(t=["email","phone","social"]).call(t,e))return{flow:"signup",userIsRegistered:false,userRegistrationChecked:false}}function Ie(e,t){var n=t.error,r=n.message,a=n.type;return"socialAuthenticated"===e.currentStep&&"email_already_taken"===a?"auth.".concat(a):r}var Le={ui:{checkingIfRegistered:false,currentFormLockSubmit:true},loading:false,currentStep:null,flow:"signup",error:null,userIsRegistered:false,userRegistrationChecked:false,userpic:"",email:"",password:"",phone:"",countryCode:"",smsCode:"",socialAuth:null,preSignupFields:{acceptTermsOfService:false,isOfLegalAge:false,agreeToReceiveEmails:false},signInWithToken:{loading:false}};function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return a()(a()({},e),{},{ui:a()(a()({},e.ui),{},{currentFormLockSubmit:true})});case j:return a()(a()({},e),{},{ui:a()(a()({},e.ui),{},{currentFormLockSubmit:false})});case K:return a()(a()({},e),{},{flow:t.flow});case B:return a()(a()({},e),{},{ui:a()(a()({},e.ui),{},{currentFormLockSubmit:true}),error:null,loading:false,currentStep:t.step},Re(t.step));case W:return a()(a()({},e),t.payload);case H:return a()(a()({},e),{},{phone:t.phone});case z:return a()(a()({},e),{},{loading:true,error:null});case G:return a()(a()({},e),{},{currentStep:null,loading:false});case Y:return Le;case F:return a()(a()({},e),{},{ui:a()(a()({},e.ui),{},{checkingIfRegistered:false}),loading:false,error:Ie(e,t)});case m.b:return a()(a()({},e),{},{ui:a()(a()({},e.ui),{},{checkingIfRegistered:false}),loading:false});case Q:return a()(a()({},e),{},{ui:_()({},e.ui,t.ui)});case J:return a()(a()({},e),{},{ui:a()(a()({},e.ui),{},{checkingIfRegistered:true})});case $:return a()(a()({},e),{},{ui:a()(a()({},e.ui),{},{checkingIfRegistered:false}),userIsRegistered:t.registered,userRegistrationChecked:true,flow:t.registered?"login":"signup",userpic:t.userpic});case V:return a()(a()({},e),{},{ui:a()(a()({},e.ui),{},{checkingIfRegistered:false}),userpic:"",userIsRegistered:false,userRegistrationChecked:false});case ee:return a()(a()({},e),{},{socialAuth:t.payload,userRegistrationChecked:true,registered:t.registered});case te:return a()(a()({},e),{},{preSignupFields:a()(a()({},e.preSignupFields),t.payload)});case re:return a()(a()({},e),{},{signInWithToken:{loading:true}});case ae:case oe:return a()(a()({},e),{},{signInWithToken:{loading:false}});default:return e}}},gMqe:function(e,t,n){},gYkH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=300},gdMI:function(e,t,n){"use strict";t.a='<svg width="32" height="29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.1693 8.87073c.1523-.11254.556-.40617.6155-.45016.097-.65172.3359-1.74951.8908-2.8739.5967-1.21033 1.5533-2.54651 2.8875-3.43456 1.1193-.7438 2.9657-1.561262 4.3907-1.863078 1.1683-.2475912 2.2626-.294654 3.1983-.2107594C30.0809.210154 31.1481.74933 31.6812 1.44913c.2002.26396.3108.58624.3181.79496.0125.34683-.145.80211-.6509 1.24614-.4945.43379-1.547.97604-2.9887 1.44974-1.4938.49006-3.5321 1.0098-5.5673 1.4702-1.7056.38571-3.0868.8236-3.8879 1.11927-.2379.08799-.3943.15859-.604.25169-.1283.30079-.4235 1.107-.4976 1.53056 1.4928.58624 2.4608 1.35971 3.2098 1.96231.9712.7806 2.0989 1.6994 3.4915 3.363 1.2695 1.5162 3.3371 4.4259 4.0861 7.2497.8209 3.0938.3046 6.0342-1.4719 6.8527-1.7442.8032-4.0715-.357-5.703-2.0216-1.5543-1.5858-2.6382-3.4479-3.6584-6.3167-.8794-2.4728-1.2382-6.0547-1.2361-7.927.001-.622.001-.9955.025-1.5602-.7146-.4502-1.5501-.4256-2.4942.1094-1.7233.9771-3.5061 3.0775-4.45536 4.1764-.41518.4808-.9764 1.1827-1.571 1.9162-.7855.9689-1.6482 1.9808-2.43892 2.5445-1.18712.8471-3.09402 1.2032-4.42927.266-.750033-.5248-1.1443491-1.5101-1.1568671-2.5127-.0083453-.7131.1679491-1.3536.5278401-1.9777.446474-.7745 1.181907-1.6042 2.352337-2.5547 1.20798-.9812 3.13575-2.083 5.06664-2.8483 2.9459-1.16636 6.1192-1.53672 8.2222-1.16227z" fill="#22bee7"/></svg>\n'},iCat:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n("o+MX"),a=n.n(r),o=n("XiPH"),i=n("22CO"),c=n("X12x"),s=n("84C4"),u=n("zYzk"),l=new o.schema.Entity("showcaseSections",{},{idAttribute:function(e){var t;return a()(t="".concat(e.slug,"-")).call(t,e.showcase_tag)}}),d=new o.schema.Array({books:i.f,audiobooks:i.a,comicbooks:i.h,shelves:i.p,banners:c.b,posts:s.i,series:i.o},(function(e,t){return Object(u.n)(t.objects_type)}));l.define({objects:d});var p=new o.schema.Array(l)},iV31:function(e,t,n){"use strict";var r=n("06Pm"),a=n.n(r),o=n("kA7L"),i=n.n(o),c=n("X5/F"),s=n.n(c),u=n("K82H"),l=n.n(u),d=n("04Ix"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("rid2"),v=n("4BXF"),_=function(e){s()(n,e);var t=l()(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.disableSuffix,r=Object(v.a)(!n,t);return h.a.createElement(m.a,{title:r})}}]),n}(f.Component);p()(_,"defaultProps",{disableSuffix:false}),t.a=_},iXuU:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("o+MX"),a=n.n(r),o=n("i7Pf"),i=n("dtw8"),c=n("L3Ur"),s=n("/zpq"),u=n("WXbY"),l=n("0A2V"),d=n("ZDpU"),p=n("Y9wk"),f=(n("rB9j"),n("UxlC"),n("+FvS")),h=n("pBR6");function m(){var e=false;return function(t){return function(n){if(n.type!==h.a||e)return t(n);var r=n.location,a=n.status,o=n.replace;if(!r)throw new Error("External redirect location should be defined");s.a.isServer()?Object(f.b)(r,a):window.location[o?"replace":"assign"](r),e=true}}}var v=n("lxhJ"),_=n("fzp2"),g=null;function b(){return function(e){return function(t){return t.type===_.b&&(g=t.callback),t.type===v.b&&(g=t.callback),t.type===_.a&&"function"==typeof g&&(g(),g=null),t.type===v.a&&(g=null),e(t)}}}function O(e){var t,n=[];s.a.getParamAsBoolean("DISABLE_ANALYTICS")||n.push(s.a.isClient()?Object(p.a)():p.c);var r=a()(t=[Object(d.c)(u.a),Object(c.routerMiddleware)(i.browserHistory)]).call(t,n,[b,m]);return s.a.isClient()&&window.CLIENT_PARAMS.initialState?function(e,t){return e.unshift(Object(l.b)()),Object(o.a)({reducer:t,middleware:function(t){return t({immutableCheck:{ignoredPaths:["upload.files"]},serializableCheck:false}).prepend(e)},devTools:!s.a.isProduction(),preloadedState:window.CLIENT_PARAMS.initialState})}(r,e):function(t){var n=t.initialState;return Object(o.a)({reducer:e,middleware:function(e){return e({immutableCheck:{ignoredPaths:["upload.files"]},serializableCheck:false}).prepend(r)},preloadedState:n})}}},jGqO:function(e,t,n){"use strict";n("sMBO"),n("yWo2");var r=n("mnMc"),a=n.n(r),o=n("nhkr"),i=n.n(o),c=n("06Pm"),s=n.n(c),u=n("kA7L"),l=n.n(u),d=n("X5/F"),p=n.n(d),f=n("K82H"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("q1tI"),g=n.n(_),b=n("mwIZ"),O=n.n(b),S=(n("LyUv"),n("mhdu")),E=n("2rBH"),k=function(e){p()(n,e);var t=h()(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getSizeKind",value:function(){var e=this.props,t=e.app,n=e.size;return"object"===i()(n)?n[t.size]:n}},{key:"getSrc",value:function(){var e=this.props.user;if(e.avatar_url)return e.avatar_url;if(null!=O()(e,"image.large"))return O()(e,"image.large");if(e.avatar&&e.avatar.large&&e.avatar.small){var t,n=e.avatar,r=n.small,o=n.large;return a()(t=[24,40]).call(t,this.getSizeKind())?r:o}return""}},{key:"getAlt",value:function(){var e=this.props.user;return e.name?e.name:e.login?e.login:""}},{key:"render",value:function(){var e=this.getSizeKind();return g.a.createElement("div",{className:"user-avatar user-avatar_".concat(e)},this.props.lazyLoading?g.a.createElement(E.a,{src:this.getSrc(),placeholder:"",width:e,height:e,alt:this.getAlt()}):g.a.createElement("img",{src:this.getSrc(),alt:this.getAlt()}))}}]),n}(_.Component);v()(k,"defaultProps",{size:40,lazyLoading:true}),t.a=Object(S.a)(k)},jHxK:function(e){e.exports=JSON.parse('{"2015":"BS1KFw3f","2016":"qIrkpPHC","2017":"V4nLDvp7"}')},k0TX:function(e,t,n){},k5oh:function(e,t,n){e.exports=n.p+"c5084f11952483e0601a73aa28b3a8e8.png"},kWLw:function(e,t,n){"use strict";n.d(t,"p",(function(){return B})),n.d(t,"q",(function(){return $})),n.d(t,"a",(function(){return le})),n.d(t,"i",(function(){return de})),n.d(t,"d",(function(){return pe})),n.d(t,"f",(function(){return fe})),n.d(t,"c",(function(){return he})),n.d(t,"e",(function(){return me})),n.d(t,"g",(function(){return ve})),n.d(t,"k",(function(){return _e})),n.d(t,"h",(function(){return ge})),n.d(t,"n",(function(){return be})),n.d(t,"l",(function(){return Oe})),n.d(t,"o",(function(){return Se})),n.d(t,"j",(function(){return Ee})),n.d(t,"m",(function(){return ke}));var r,a=n("Vi3r"),o=n.n(a),i=n("kT1S"),c=n.n(i),s=n("o+MX"),u=n.n(s),l=n("5PDf"),d=n.n(l),p=n("04Ix"),f=n.n(p),h=n("a0dU"),m=n.n(h),v=(n("ls82"),n("SPx3")),_=n.n(v),g=n("XiPH"),b=n("i7Pf"),O=n("vN+2"),S=n.n(O),E=n("0A2V"),k=n("+FvS"),y=n("3VNJ"),C=n("ZDpU"),A=n("mY86"),w=n("fJzK"),R=n("ZUvS"),I=n("F6cB"),L=n("MJ/v"),T=n("FSMw"),U=n("22CO"),N=n("AOYn"),D=n("zS1G"),P=Object(N.c)("serial"),x=Object(b.b)("SERIAL_LOAD"),M=Object(b.b)("SERIAL_LOAD_SUCCESS"),j=Object(b.b)("SERIAL_LOAD_ERROR"),B=Object(b.b)("SERIAL_CHANGED"),K=Object(b.b)("SERIAL_READERS_LOAD"),H=Object(b.b)("SERIAL_READERS_LOAD_SUCCESS"),F=Object(b.b)("SERIAL_SHELVES_LOAD"),z=Object(b.b)("SERIAL_SHELVES_LOAD_SUCCESS"),G=Object(b.b)("SERIAL_RELATED_LOAD"),V=Object(b.b)("SERIAL_RELATED_LOAD_SUCCESS"),q=Object(b.b)("SERIAL_QUOTES_LOAD"),W=Object(b.b)("SERIAL_QUOTES_LOAD_SUCCESS"),Y=Object(b.b)("SERIAL_IMPRESSIONS_LOAD"),X=Object(b.b)("SERIAL_IMPRESSIONS_LOAD_SUCCESS"),Z=Object(b.b)("SERIAL_OTHER_VERSIONS_LOAD"),Q=Object(b.b)("SERIAL_OTHER_VERSIONS_LOAD_SUCCESS"),J=Object(b.b)("SERIAL_REMOVED_FROM_WISHLIST"),$=Object(b.b)("SERIAL_REMOVED_FROM_WISHLIST_SUCCESS"),ee=Object(b.b)("SERIAL_ADD_TO_WISHLIST"),te=Object(b.b)("SERIAL_ADD_TO_WISHLIST_SUCCESS"),ne=Object(b.b)("SERIAL_EMOTION_RATING_LOAD"),re=Object(b.b)("SERIAL_EMOTION_RATING_LOAD_SUCCESS"),ae=Object(b.b)("SERIAL_EPISODES_LOAD"),oe=Object(b.b)("SERIAL_EPISODES_LOAD_SUCCESS"),ie=Object(b.b)("SERIAL_STATE_LOAD"),ce=Object(b.b)("SERIAL_STATE_LOAD_SUCCESS"),se=Object(b.b)("SERIAL_SEEN_MARK_PENDING"),ue=Object(b.b)("SERIAL_SEEN_MARK_COMPLETED"),le=Object(b.b)("CLEAR_SERIAL_EPISODES");function de(e){return f()({},C.a,{endpoint:"/p/api/v5/books/".concat(e),normalize:(t=_()(m.a.mark((function t(n,r){var a,o,i,c,s,u,l,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.book,o=r.dispatch,i=r.getState,c=a.uuid,s=i().app.url,!(e!==c)){t.next=8;break}Object(k.c)(P(c,s),301),t.next=13;break;case 8:if(u=Object(g.normalize)(a,U.f),l=u.result,d=u.entities,!a.library_card_uuid){t.next=12;break}return t.next=12,o(Object(w.a)(a.library_card_uuid));case 12:return t.abrupt("return",{result:l,entities:d,library_card_uuid:a.library_card_uuid,in_library:a.in_library});case 13:case"end":return t.stop()}}),t)}))),function(e,n){return t.apply(this,arguments)}),types:[x,M,j]});var t}function pe(e){var t,n,r=e.uuid,a=e.page,o=void 0===a?1:a,i=e.per_page,s=void 0===i?20:i,l=e.order,p=e.append,h=void 0===p||p,m=d()(e),v=void 0===m?"all":m,_=Object(y.a)({page:o,per_page:s,order:l}),b="all"===v?"":"/unfinished";return f()({},C.a,{endpoint:u()(t=u()(n="/p/api/v5/books/".concat(r,"/episodes")).call(n,b,"?")).call(t,_),normalize:function(e,t){var n=t.getState,a=Object(g.normalize)(e.episodes,U.g),i=a.result,s=a.entities,u=Object(D.a)(n(),r);return u.episodes=i,{result:i,append:h,filter:v,nextPage:i.length?o+1:null,entities:c()(c()({},s),{},{books:c()(c()({},Object(g.normalize)(u,U.f).entities.books),s.books)})}},responseKey:"episodes",types:[ae,oe,C.b]})}var fe=Object(E.a)((function(e){var t,n=e.uuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,c=e.index,s=void 0!==c&&c,u=e.append,l=void 0!==u&&u;return t=s?{page:a,per_page:i,top:true}:{page:a,per_page:i},f()({},C.a,{endpoint:"/p/api/v5/books/".concat(n,"/quotes"),options:{data:t},schema:new g.schema.Array(R.h),responseKey:"quotes",modifyResponse:function(e){return{updateField:s?"quotesIndex":"quotes",index:s,append:l,nextPage:e.result.length?a+1:null}},types:[q,W]})}),W,[R.a,R.b,L.a,L.b]);function he(e){return f()({},C.a,{endpoint:"/p/api/v5/books/".concat(e,"/emotion_ratings"),types:[ne,re]})}var me=Object(E.a)((function(e){var t,n=e.uuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,s=e.index,u=void 0!==s&&s,l=e.append,d=void 0!==l&&l;return f()({},C.a,{endpoint:"/p/api/v5/books/".concat(n,"/impressions"),options:{data:{page:a,per_page:i}},normalize:(t=_()(m.a.mark((function e(t){var r,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(g.normalize)(Object(I.p)(t.impressions),I.m),o=r.result,i=r.entities,e.abrupt("return",{result:o,entities:c()(c()({},i),{},{impressions:Object(I.h)(i.impressions,n,"book")}),updateField:u?"impressionsIndex":"impressions",index:u,append:d,nextPage:o.length?a+1:null});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),types:[Y,X]})}),X,[I.a,I.b,I.g,I.e,L.a,L.b]),ve=Object(E.a)((function(e){var t=e.uuid,n=e.p,r=void 0===n?1:n,a=e.pp,o=void 0===a?15:a,i=e.append,c=void 0!==i&&i;return f()({},C.a,{endpoint:"/p/api/v5/books/".concat(t,"/readers"),options:{data:{page:r,per_page:o}},schema:U.s,responseKey:"users",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:[K,H]})}),H,[B]),_e=Object(E.a)((function(e){var t=e.uuid,n=e.p,r=void 0===n?1:n,a=e.pp,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return f()({},C.a,{endpoint:"/p/api/v5/books/".concat(t,"/bookshelves"),options:{data:{page:r,per_page:o}},schema:new g.schema.Array(U.p),responseKey:"bookshelves",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:[F,z]})}),z),ge=Object(E.a)((function(e){var t=e.uuid,n=e.p,r=void 0===n?1:n,a=e.pp,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return f()({},C.a,{endpoint:"/p/api/v5/books/".concat(t,"/related"),options:{data:{page:r,per_page:o}},schema:U.g,responseKey:"books",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:[G,V]})}),V,[T.a.BOOK_CHANGED]);function be(e,t){var n={uuid:t||e.library_card_uuid,public:false};return e.in_library?Object(A.g)(n):Object(A.a)(n,e)}function Oe(e,t){var n={uuid:t||e.library_card_uuid,state:"finished"};return e.in_library?Object(A.g)(n):Object(A.a)(n,e)}function Se(e){return f()({},C.a,{endpoint:"/p/api/v5/wishlisted_books/".concat(e.uuid),options:{method:"delete",dontParse:true},modifyResponse:function(){return{uuid:e.uuid}},types:[J,$]})}function Ee(e){return f()({},C.a,{endpoint:"/p/api/v5/books/".concat(e,"/state"),normalize:function(t,n){var r=n.getState,a=Object(D.a)(r(),e);return a.serialState=t,{state:t,entities:Object(g.normalize)(a,U.f).entities}},types:[ie,ce]})}function ke(e){return f()({},C.a,{endpoint:"/p/api/v5/books/".concat(e,"/mark_as_seen"),options:{method:"put"},types:[se,ue,C.b]})}var ye={loading:true,uuid:"",in_wishlist:void 0,library_card_uuid:"",episodes:{all:[],allEpisodesPage:1,unfinished:[],unfinishedEpisodesPage:1},impressionsIndex:[],impressions:[],quotesIndex:[],quotes:[],shelves:[],related:[],otherEpisodes:[],otherVersions:{serial:[]},readers:[],pages:{impressions:1,quotes:1,related:1,readers:1,shelves:1,otherEpisodes:1},emotionRating:[],currentUserImpressionUuid:null,state:{completed:false,finished:false}},Ce=Object(b.c)(ye,(r={},f()(r,x,(function(e){e.loading=true})),f()(r,M,(function(e,t){var n=t.payload;return c()(c()({},e),{},{loading:false,library_card_uuid:n.library_card_uuid,uuid:n.result,error:null})})),f()(r,j,(function(e,t){var n=t.payload;return c()(c()({},e),{},{loading:false,uuid:"",error:n.error})})),f()(r,ae,S.a),f()(r,oe,(function(e,t){var n,r,a=t.payload,i=a.result,s=a.append,l=a.nextPage,p=d()(a);return c()(c()({},e),{},{episodes:c()(c()({},e.episodes),{},(r={},f()(r,p,s?u()(n=[]).call(n,o()(e.episodes[p]),o()(i)):i),f()(r,"".concat(p,"EpisodesPage"),l),r))})})),f()(r,K,S.a),f()(r,H,(function(e,t){var n,r=t.payload;return c()(c()({},e),{},{readers:r.append?u()(n=[]).call(n,o()(e.readers),o()(r.result)):r.result,pages:c()(c()({},e.pages),{},{readers:r.nextPage})})})),f()(r,F,S.a),f()(r,z,(function(e,t){var n,r=t.payload;return c()(c()({},e),{},{shelves:r.append?u()(n=[]).call(n,o()(e.shelves),o()(r.result)):r.result,pages:c()(c()({},e.pages),{},{shelves:r.nextPage})})})),f()(r,G,S.a),f()(r,V,(function(e,t){var n,r=t.payload;return c()(c()({},e),{},{related:r.append?u()(n=[]).call(n,o()(e.related),o()(r.result)):r.result,pages:c()(c()({},e.pages),{},{related:r.nextPage})})})),f()(r,Y,S.a),f()(r,X,Ae),f()(r,q,S.a),f()(r,W,Ae),f()(r,R.b,(function(e,t){var n,r;return c()(c()({},e),{},{quotesIndex:d()(n=e.quotesIndex).call(n,(function(e){return e!==t.uuid})),quotes:d()(r=e.quotes).call(r,(function(e){return e!==t.uuid}))})})),f()(r,I.g,(function(e,t){var n,r;"serial"===t.resourceType&&(e.impressionsIndex=d()(n=e.impressionsIndex).call(n,(function(e){return e!==t.uuid})),e.impressions=d()(r=e.impressions).call(r,(function(e){return e!==t.uuid})))})),f()(r,B,(function(e,t){var n=t.payload;n.serial.uuid===e.uuid&&(e.library_card_uuid=n.serial.library_card_uuid)})),f()(r,ne,S.a),f()(r,re,(function(e,t){var n=t.payload;e.emotionRating=n.emotion_ratings})),f()(r,I.d,(function(e,t){var n=t.data,r=n.resourceUuid,a=n.resourceType,o=n.uuid;"serial"===a&&r===e.uuid&&(e.currentUserImpressionUuid=o)})),f()(r,I.c,(function(e){e.currentUserImpressionUuid=null})),f()(r,Z,S.a),f()(r,Q,S.a),f()(r,J,S.a),f()(r,ee,S.a),f()(r,te,S.a),f()(r,ie,S.a),f()(r,ce,(function(e,t){var n=t.payload;e.serialState=n.state})),f()(r,se,S.a),f()(r,ue,S.a),f()(r,le,(function(e){e.episodes=ye.episodes})),r));function Ae(e,t){var n,r,a=t.payload,i=a.updateField,s=a.result,l=a.index,d=a.append;return c()(c()({},e),{},(r={},f()(r,i,l||!d?s:u()(n=[]).call(n,o()(e[i]),o()(s))),f()(r,"pages",c()(c()({},e.pages),{},f()({},i,a.nextPage))),r))}t.b=Ce},kY5W:function(e,t,n){e.exports=n.p+"0d01e1fa009c0b206680c8e3e5d59e96.png"},kh3K:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n("kT1S"),a=n.n(r),o=n("mwIZ"),i=n.n(o);function c(e,t){if(e){var n=i()(e,"productId","")||i()(e,"kind",""),r={};e.price&&e.currency&&(r.currency=e.currency,r.price=e.price/100);var o=a()({duration:e.duration,payment_method:e.system,sub_type:n,is_trial:e.trial,billing_plan_id:e.id},r);return t&&(o.reason=t),o}}function s(e,t){var n=e.plan,r=n.id,a=n.productId,o=n.system,c=n.duration,s=n.price,u=n.currency,l=n.discount_percent,d=n.analytics,p={plan_id:r,sub_type:a,is_trial:false,duration:c,price:s,currency:u,discount:l,payment_method:o,previous_sub_type:i()(d,"process_data.previous_sub_type",""),previous_duration:i()(d,"process_data.previous_duration",""),previous_payment_method:i()(d,"process_data.previous_payment_method",""),previous_plan_id:i()(d,"process_data.previous_plan_id","")};return t&&(p.reason=t),p}},ki0w:function(e,t,n){},kv7x:function(e,t,n){},lIV8:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("06Pm"),a=n.n(r),o=n("kA7L"),i=n.n(o),c=n("X5/F"),s=n.n(c),u=n("K82H"),l=n.n(u),d=n("04Ix"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("TSYQ"),v=n.n(m),_=(n("XVgV"),function(e){s()(n,e);var t=l()(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.className,r=e.centered,a=e.autoWidth,o=e.style,i=v()("layout-column",t&&"layout-column_".concat(t),p()({"layout-column_centered":r,"layout-column_single":!t,"layout-column_auto-width":a},n,n));return t?h.a.createElement("div",{className:i},this.props.children):h.a.createElement("div",{style:o,className:i},h.a.createElement("div",{className:"layout-column__inner"},this.props.children))}}]),n}(f.Component));p()(_,"defaultProps",{autoWidth:false,centered:false,className:""})},lSWr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("DzJC"),a=n.n(r),o=function(e,t){var n=a()((function(t,n,r){return r(e(t,n))}),1e3);return function(e,r,a){a({type:t,liked:r,uuid:e}),n(e,r,a)}}},lxhJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n("04Ix"),a=n.n(r),o=n("kT1S"),i=n.n(o),c=n("fzp2"),s=n("mwIZ"),u=n.n(s),l="POPUP_HIDE",d="POPUP_SHOW";function p(e){return{type:d,callback:u()(e,"callback")||null,payload:{kind:u()(e,"kind")||"auth"}}}function f(){return{type:l}}var h={authHidden:true,limitedHidden:true,yandexHidden:true};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.c:case c.a:case l:return h;case d:return i()(i()({},e),{},a()({},"".concat(t.payload.kind,"Hidden"),false));default:return e}}},lzRn:function(e,t,n){e.exports=n.p+"63663016455e3c1c35974f162886b766.png"},mEEO:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c}));var r="LIBRARY_CARD_LOAD",a="LIBRARY_CARD_LOAD_SUCCESS",o="LIBRARY_CARD_CREATED",i="LIBRARY_CARD_CHANGED",c="LIBRARY_CARD_REMOVED"},mURl:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("o+MX"),a=n.n(r),o=n("vf0a");function i(e){var t;switch(e){case"en":return"en_US";case"sv":return"sv_SE";default:return a()(t="".concat(e,"_")).call(t,e.toUpperCase())}}function c(e){if(Object(o.b)(e))return["es","en"];switch(e){case"by":case"ru":return["ru","en"];case"uk":return["uk","en"];case"sr":return["sr","en"];case"az":return["az","tr","en"];case"tr":return["tr","en"];case"kz":return["ru","kk","en"];case"id":return["id","en"];case"dk":return["da","en"];case"nl":return["nl","en"];case"bg":return["bg","en"];case"uz":return["uz","ru"];default:return["en","es"]}}},mY86:function(e,t,n){"use strict";n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return R})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return U})),n.d(t,"b",(function(){return N}));var r=n("RXMP"),a=n.n(r),o=n("a0dU"),i=n.n(o),c=(n("ls82"),n("SPx3")),s=n.n(c),u=n("04Ix"),l=n.n(u),d=n("XiPH"),p=n("Puqe"),f=n.n(p),h=n("E+oP"),m=n.n(h),v=n("ZDpU"),_=n("FSMw"),g=n("zS1G"),b=n("3L7n"),O=n("kWLw"),S=n("nJ1H"),E=n("22CO"),k=n("mEEO"),y=n("DRjp"),C=n("RfSM");function A(e,t){return Object(d.denormalize)(t,E.k,e.entities)||[]}function w(e,t){return Object(d.denormalize)(t,E.j,e.entities)||{}}function R(e,t){var n=t.book_uuid||t.uuid,r=t.bookshelfId,a={lc:e,book_uuid:n};r&&(a.book={bookshelf_id:r});var o={state:e.state?e.state:"not_finished",is_public:"boolean"!=typeof e.public||e.public,auto:false,book_id:n};return l()({},v.a,{endpoint:"/p/api/v5/profile/library_cards",options:{method:"post",data:a},schema:E.j,responseKey:"library_card",onSuccess:function(e,r,a){e(Object(b.N)(b.g,o)),"serial"===t.resourceType?e(Object(O.p)({reason:"added",serial:{uuid:n,library_card:a.result,in_library:true,library_card_uuid:a.result}})):e({type:_.a.BOOK_CHANGED,reason:"added",book:{uuid:n,library_card:a.result,in_library:true,library_card_uuid:a.result}})},types:[k.c,k.b]})}function I(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()({},v.a,{endpoint:"/p/api/v5/profile/library_cards/".concat(t.uuid),options:{method:"put",data:{lc:t}},schema:E.j,responseKey:"library_card",onSuccess:(e=s()(i.a.mark((function e(n,r,a){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r().currentUser.data.login,e.next=3,n(Object(S.p)(o));case 3:n({type:k.a,entities:a.entities,data:t});case 4:case"end":return e.stop()}}),e)}))),function(t,n,r){return e.apply(this,arguments)}),types:[k.c]})}function L(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return l()({},v.a,{endpoint:"/p/api/v5/profile/library_cards/".concat(t.uuid),options:{method:"delete",dontParse:true},types:[k.c],onSuccess:(e=s()(i.a.mark((function e(r,a){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a().currentUser.data.login,e.next=3,r(Object(S.p)(o));case 3:r({type:k.e,data:t}),r({type:_.a.BOOK_CHANGED,reason:"removed",book:{uuid:n,library_card:null,library_card_uuid:null,in_library:false}}),r(Object(b.N)(b.u,{object_type:"book",object_id:n}));case 6:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})})}var T=function(e){var t=e.episodes;return function(e,n){var r=n();a()(t).call(t,(function(t){var n=Object(g.a)(r,t);n.library_card&&e(L(n.library_card,t))}))}};function U(e){return function(){var t=s()(i.a.mark((function t(n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.library_card_uuid){t.next=5;break}return t.next=4,n(Object(y.a)(e.uuid));case 4:e=Object(g.a)(r(),e.uuid);case 5:return t.abrupt("return",n(L({uuid:e.library_card_uuid},e.uuid)));case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(C.a)(e,t,"libraryCards");if(!m()(n))return n;switch(t.type){case k.e:return f()(e,t.data.uuid);default:return e}}},mYrb:function(e,t,n){e.exports=n.p+"8edaea292cec0effbc6089daa4e1a8c7.png"},mhdu:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("kT1S"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("X5/F"),l=n.n(u),d=n("K82H"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("/MKj"),v=n("G4qV"),_=n("mqLZ"),g=Object(v.a)((function(e){return e.app.os}),(function(e){return e.app.size}),(function(e,t){return _.a.withApp({os:e,size:t})}));function b(e){var t=function(t){l()(r,t);var n=p()(r);function r(){return i()(this,r),n.apply(this,arguments)}return s()(r,[{key:"render",value:function(){return h.a.createElement(e,this.props)}}]),r}(f.Component);return Object(m.connect)((function(e){return a()({app:e.app,auth:e.currentUser.auth,country:e.currentUser.data.country,username:e.currentUser.data.login,locale:e.currentUser.data.locale,library_lang:e.currentUser.data.library_lang,team:e.currentUser.team,subscriptionState:e.subscription},g(e))}))(t)}},mqLZ:function(e,t,n){"use strict";var r=n("eLKs"),a=n.n(r),o=n("+oHS"),i=n.n(o),c=n("KYsz"),s=n.n(c),u=n("Puqe"),l=n.n(u);t.a={withApp:function(e){var t,n=this;return s()(t=i()(l()(this,["withApp","getNativeOsName"]))).call(t,(function(t,r){var o;return t[r]=a()(o=n[r]).call(o,n,e),t}),{})},isMobileOS:function(e){var t=e.os;return this.isWinPhone({os:t})||this.isIOS({os:t})||this.isAndroid({os:t})},getNativeOsName:function(e){return{ios:"iOS",android:"Android",wp:"Windows Phone"}[e]},getOsName:function(e){return{iOS:"ios",Android:"android","Windows Phone":"wp"}[e.os]},isIOS:function(e){return e.os===this.getNativeOsName("ios")},isAndroid:function(e){return e.os===this.getNativeOsName("android")},isWinPhone:function(e){return e.os===this.getNativeOsName("wp")},isWindows:function(e){return"Windows"===e.os},isDesktopAllSizes:function(e){var t=e.size;return"desktop"===t||"desktopMedium"===t||"desktopLarge"===t},isDesktopSize:function(e){return"desktop"===e.size},isDesktopMediumSize:function(e){return"desktopMedium"===e.size},isDesktopLargeSize:function(e){return"desktopLarge"===e.size},isTabletSize:function(e){return"tablet"===e.size},isMobileSize:function(e){return"mobile"===e.size},isOneColumnSize:function(e){var t=e.size;return"mobile"===t||"tablet"===t}}},mu5A:function(e,t,n){},myih:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("kT1S"),a=n.n(r),o="RECAPTCHA_SET_USER_TOKEN",i="RECAPTCHA_CLEAR_USER_TOKEN";function c(e){return{type:o,token:e}}function s(){return{type:i}}var u={userToken:null};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return a()(a()({},e),{},{userToken:t.token});case i:return a()(a()({},e),{},{userToken:null});default:return e}}},n7LX:function(e,t,n){"use strict";(function(e){n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var r=n("OBge"),a=n.n(r),o=n("RXMP"),i=n.n(o),c=n("wSSu"),s=n.n(c),u=n("MKeS"),l=n("UIRo"),d=n("qUZg"),p=n("2HMc");e.IntlRelativeFormat=n("7Inb");var f=n("bKhN");t.a={init:function(e){var t=e.store,n=e.routes,r=e.locales,o=void 0===r?l.a.locales:r;i()(o).call(o,(function(e){return f("./".concat(e,".js"))}));var c=t.getState().currentUser.data.locale,h=l.a.serverRendering?s.a.hydrate:s.a.render;a.a.all([l.a.serverRendering?new a.a(u.b):a.a.resolve(),t.dispatch(Object(p.b)(c))]).then((function(){h(Object(d.a)({store:t,routes:n}),document.getElementById("app-container"))}))}}}).call(this,n("yLpj"))},nIC1:function(e,t,n){},nJ1H:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"e",(function(){return D})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return M})),n.d(t,"d",(function(){return j})),n.d(t,"g",(function(){return pe})),n.d(t,"j",(function(){return me})),n.d(t,"k",(function(){return ve})),n.d(t,"p",(function(){return _e})),n.d(t,"n",(function(){return be})),n.d(t,"l",(function(){return Oe})),n.d(t,"o",(function(){return Se})),n.d(t,"v",(function(){return Ee})),n.d(t,"x",(function(){return ke})),n.d(t,"y",(function(){return ye})),n.d(t,"u",(function(){return Ce})),n.d(t,"s",(function(){return Ae})),n.d(t,"m",(function(){return we})),n.d(t,"t",(function(){return Re})),n.d(t,"r",(function(){return Ie})),n.d(t,"q",(function(){return Le})),n.d(t,"w",(function(){return Te})),n.d(t,"h",(function(){return Ne})),n.d(t,"i",(function(){return Pe}));var r=n("kT1S"),a=n.n(r),o=n("5PDf"),i=n.n(o),c=n("Vi3r"),s=n.n(c),u=n("KYsz"),l=n.n(u),d=n("o+MX"),p=n.n(d),f=n("a0dU"),h=n.n(f),m=n("04Ix"),v=n.n(m),_=(n("ls82"),n("SPx3")),g=n.n(_),b=n("FLGM"),O=n.n(b),S=n("ZDpU"),E=n("XiPH"),k=n("QkVN"),y=n.n(k),C=n("noZS"),A=n.n(C),w=n("ZUvS"),R=n("F6cB"),I=n("FSMw"),L=n("kWLw"),T=n("0Cf8"),U=n("22CO"),N="all",D="recent",P="finished",x="not_finished",M="uploads",j="reading",B="USER_LOAD_SUCCESS",K="USER_COUNTERS_LOAD_SUCCESS",H="USER_BOOKS_LOAD",F="USER_BOOKS_LOAD_SUCCESS",z="USER_AUDIOBOOKS_LOAD",G="USER_AUDIOBOOKS_LOAD_SUCCESS",V="USER_COMICBOOKS_LOAD",q="USER_COMICBOOKS_LOAD_SUCCESS",W="USER_RECENT_CONTENTS_LOAD_SUCCESS",Y="USER_SHELVES_LOAD",X="USER_SHELVES_LOAD_SUCCESS",Z="USER_SHELVES_FOLLOWING_LOAD",Q="USER_SHELVES_FOLLOWING_LOAD_SUCCESS",J="USER_QUOTES_LOAD",$="USER_QUOTES_LOAD_SUCCESS",ee="USER_GROUPED_QUOTES_LOAD_SUCCESS",te="USER_IMPRESSIONS_LOAD_SUCCESS",ne="USER_FOLLOWERS_LOAD",re="USER_FOLLOWERS_LOAD_SUCCESS",ae="USER_FOLLOWING_LOAD",oe="USER_FOLLOWING_LOAD_SUCCESS",ie="USER_SERIES_LOAD",ce="USER_SERIES_LOAD_SUCCESS",se="USER_SERIES_LOAD_ERROR",ue="USER_IMPORT_REMOVED",le="CHANGE_LAYOUT",de={book:U.f,audiobook:U.a,comicbook:U.h};function pe(e,t){return y()({},e.user,Object(T.e)(e,t))}function fe(e,t){var n=e.currentUser,r=n.auth,a=n.data.login;return r&&t===a}function he(e,t){return fe(e,t)?"/p/api/v5/profile":"/p/api/v5/users/".concat(t)}function me(e,t){var n=e.entities;return O()(t).call(t,(function(e){var t=e.type,r=e.id;return{type:t,entity:Object(E.denormalize)(r,de[t],n)}}))}function ve(e){return function(){var t=g()(h.a.mark((function t(n,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(v()({},S.a,{endpoint:"/p/api/v5/users/".concat(e),normalize:function(e){var t=e.user,n=Object(E.normalize)(t,U.r),a=n.result;return{entities:n.entities,data:{login:a,myself:fe(r(),a)}}},types:["USER_LOAD",B]}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function _e(e){return function(){var t=g()(h.a.mark((function t(n,r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(v()({},S.a,{endpoint:"".concat(he(r(),e),"/counters"),normalize:function(e){return{data:e.counters}},types:["USER_COUNTERS_LOAD",K]}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function ge(e,t){return"books"===e?{recent:"reading",finished:"finished",not_finished:"later",uploads:"uploaded"}[t]:"audiobooks"===e?{recent:"listening",finished:"finished",not_finished:"added"}[t]:"comicbooks"===e?{recent:"reading",finished:"finished",not_finished:"added"}[t]:void 0}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var o=g()(h.a.mark((function o(i,c){var s,u,l;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u=(u=t?ge("books",t):void 0)?"/".concat(u):"",l=p()(s="".concat(he(c(),e),"/books")).call(s,u),o.next=5,i(v()({},S.a,{endpoint:l,options:{data:{page:n,per_page:r}},schema:U.g,responseKey:"books",modifyResponse:function(e){return{append:a,nextPage:e.result.length?n+1:null,filter:t||N}},types:[H,F]}));case 5:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}()}function Oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var o=g()(h.a.mark((function o(i,c){var s,u,l;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u=(u=t?ge("audiobooks",t):void 0)?"/".concat(u):"",l=p()(s="".concat(he(c(),e),"/audiobooks")).call(s,u),o.next=5,i(v()({},S.a,{endpoint:l,options:{data:{page:n,per_page:r}},schema:U.b,responseKey:"audiobooks",modifyResponse:function(e){return{append:a,nextPage:e.result.length?n+1:null,filter:t||N}},types:[z,G]}));case 5:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}()}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var o=g()(h.a.mark((function o(i,c){var s,u,l;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u=(u=t?ge("comicbooks",t):void 0)?"/".concat(u):"",l=p()(s="".concat(he(c(),e),"/comicbooks")).call(s,u),o.next=5,i(v()({},S.a,{endpoint:l,options:{data:{page:n,per_page:r}},schema:U.i,responseKey:"comicbooks",modifyResponse:function(e){return{append:a,nextPage:e.result.length?n+1:null,filter:t||N}},types:[V,q]}));case 5:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}()}function Ee(e){return v()({},S.a,{endpoint:"/p/api/v5/users/".concat(e,"/recent_contents"),normalize:function(e){var t=e.recent_contents,n={result:[],entities:{}};return l()(t).call(t,(function(e,t){var n,r=de[t.type],a=Object(E.normalize)(t.entity,r),o=a.result,i=a.entities,c={type:t.type,id:o};return e.result=p()(n=[]).call(n,s()(e.result),[c]),e.entities=y()({},e.entities,i),e}),n),{result:n.result,entities:n.entities}},types:["USER_RECENT_CONTENTS_LOAD",W]})}function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var a=g()(h.a.mark((function a(o,i){var c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c="".concat(he(i(),e),"/bookshelves"),a.next=3,o(v()({},S.a,{endpoint:c,options:{data:{page:t,per_page:n}},schema:new E.schema.Array(U.p),responseKey:"bookshelves",modifyResponse:function(e){return{append:r,nextPage:e.result.length?t+1:null}},types:[Y,X]}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var a=g()(h.a.mark((function a(o,i){var c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c="".concat(he(i(),e),"/bookshelves/following"),a.next=3,o(v()({},S.a,{endpoint:c,options:{data:{page:t,per_page:n}},schema:new E.schema.Array(U.p),responseKey:"bookshelves",modifyResponse:function(e){return{append:r,nextPage:e.result.length?t+1:null}},types:[Z,Q]}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var a=g()(h.a.mark((function a(o,i){var c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c="".concat(he(i(),e),"/quotes"),a.next=3,o(v()({},S.a,{endpoint:c,options:{data:{page:t,per_page:n}},schema:new E.schema.Array(w.h),responseKey:"quotes",modifyResponse:function(e){return{append:r,nextPage:e.result.length?t+1:null}},types:[J,$]}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var a=g()(h.a.mark((function a(o,i){var c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c="".concat(he(i(),e),"/quotes/grouped"),a.next=3,o(v()({},S.a,{endpoint:c,options:{data:{page:t,per_page:n}},normalize:function(e){var n,a=l()(n=e.quotes).call(n,(function(e,t){var n=Object(E.normalize)(t.quote,w.h);return e.result.push({count:t.all_quotes_count,id:n.result}),e.entities=y()({},e.entities,n.entities),e}),{result:[],entities:{}}),o=a.result;return{result:o,entities:a.entities,append:r,nextPage:o.length?t+1:null}},types:[J,ee]}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var o=g()(h.a.mark((function o(i){var c;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c="/p/api/v5/books/".concat(t,"/quotes"),o.next=3,i(v()({},S.a,{endpoint:c,options:{data:{page:n,per_page:r,user_login:e}},normalize:function(e){if(0===e.quotes.length&&1===n)throw{response:{status:404}};var t=Object(E.normalize)(e.quotes,new E.schema.Array(w.h)),r=t.result;return{result:r,entities:t.entities,append:a,nextPage:r.length?n+1:null}},onError:function(e,t,n){throw{response:{status:n.code}}},types:[J,$]}));case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}function Re(e){var t=e.username,n=e.page,r=void 0===n?1:n,a=e.per_page,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return function(){var e=g()(h.a.mark((function e(n,a){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(he(a(),t),"/impressions"),e.next=3,n(v()({},S.a,{endpoint:i,options:{data:{page:r,per_page:o}},normalize:function(){var e=g()(h.a.mark((function e(t){var n,a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(E.normalize)(Object(R.p)(t.impressions),R.m),a=n.result,o=n.entities,e.abrupt("return",{result:a,entities:o,append:c,nextPage:a.length?r+1:null});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),types:["USER_IMPRESSIONS_LOAD",te]}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a="/p/api/v5/users/".concat(e,"/followings");return v()({},S.a,{endpoint:a,options:{data:{page:t,per_page:n}},schema:U.s,responseKey:"users",modifyResponse:function(e){return{data:{ids:e.result,nextPage:e.result.length?t+1:null,append:r}}},types:[ae,oe]})}function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return v()({},S.a,{endpoint:"/p/api/v5/users/".concat(e,"/followers"),options:{data:{page:t,per_page:n}},schema:U.s,responseKey:"users",modifyResponse:function(e){return{data:{ids:e.result,nextPage:e.result.length?t+1:null,append:r}}},types:[ne,re]})}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return v()({},S.a,{endpoint:"/p/api/v5/users/".concat(e,"/series/following"),options:{data:{page:t,per_page:n}},schema:U.n,responseKey:"series",modifyResponse:function(e){return{data:{ids:e.result,nextPage:e.result.length?t+1:null,append:r}}},types:[ie,ce,se]})}function Ue(e,t){return A()(t,(function(t){return i()(t).call(t,(function(t){return t!==e}))}))}function Ne(e){return{type:le,layout:e}}var De={ui:{layout:"grid",loaded:{}},login:"",myself:false,counters:{reading:0,total:0,finished:0,read_later:0,uploaded:0,impressions:0,quotes:0,bookshelves:0,following_bookshelves:0},followings_count:0,followers_count:0,recentItems:[],books:{all:[],recent:[],finished:[],not_finished:[],uploaded:[]},audiobooks:{all:[],recent:[],finished:[],not_finished:[]},comicbooks:{all:[],recent:[],finished:[],not_finished:[]},shelves:{created:[],following:[]},series:[],quotes:[],grouped_quotes:[],impressions:[],followingUsers:[],followersUsers:[],pages:{books:{all:1,recent:1,not_finished:1,finished:1,uploaded:1},audiobooks:{all:1,recent:1,not_finished:1,finished:1},comicbooks:{all:1,recent:1,not_finished:1,finished:1},shelves:{created:1,following:1},series:1,impressions:1,quotes:1,grouped_quotes:1,followingUsers:1,followersUsers:1}};function Pe(){var e,t,n,r,o,c,u,l,d,f,h,m,_=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(g.type){case B:return a()(a()(a()({},_),g.data),{},{ui:a()({layout:"grid"},_.ui)});case K:return a()(a()({},_),{},{counters:g.data});case F:return a()(a()({},_),{},{ui:a()(a()({},_.ui),{},{loaded:a()(a()({},_.ui.loaded),{},{books:a()(a()({},_.ui.loaded.books),{},v()({},i()(g),true))})}),books:a()(a()({},_.books),{},v()({},i()(g),g.append?p()(e=[]).call(e,s()(_.books[i()(g)]),s()(g.result)):g.result)),pages:a()(a()({},_.pages),{},{books:v()({},i()(g),g.nextPage)})});case G:return a()(a()({},_),{},{ui:a()(a()({},_.ui),{},{loaded:a()(a()({},_.ui.loaded),{},{audiobooks:a()(a()({},_.ui.loaded.audiobooks),{},v()({},i()(g),true))})}),audiobooks:a()(a()({},_.audiobooks),{},v()({},i()(g),g.append?p()(t=[]).call(t,s()(_.audiobooks[i()(g)]),s()(g.result)):g.result)),pages:a()(a()({},_.pages),{},{audiobooks:v()({},i()(g),g.nextPage)})});case q:return a()(a()({},_),{},{ui:a()(a()({},_.ui),{},{loaded:a()(a()({},_.ui.loaded),{},{comicbooks:a()(a()({},_.ui.loaded.comicbooks),{},v()({},i()(g),true))})}),comicbooks:a()(a()({},_.comicbooks),{},v()({},i()(g),g.append?p()(n=[]).call(n,s()(_.comicbooks[i()(g)]),s()(g.result)):g.result)),pages:a()(a()({},_.pages),{},{comicbooks:v()({},i()(g),g.nextPage)})});case W:return a()(a()({},_),{},{recentItems:g.result});case X:return a()(a()({},_),{},{shelves:a()(a()({},_.shelves),{},{created:g.append?p()(r=[]).call(r,s()(_.shelves.created),s()(g.result)):g.result}),pages:a()(a()({},_.pages),{},{shelves:{created:g.nextPage}})});case Q:return a()(a()({},_),{},{shelves:a()(a()({},_.shelves),{},{following:g.append?p()(o=[]).call(o,s()(_.shelves.following),s()(g.result)):g.result}),pages:a()(a()({},_.pages),{},{shelves:{following:g.nextPage}})});case ce:return a()(a()({},_),{},{series:g.append?p()(c=[]).call(c,s()(_.series),s()(g.result)):g.result,pages:a()(a()({},_.pages),{},{series:g.nextPage})});case $:return a()(a()({},_),{},{quotes:g.append?p()(u=[]).call(u,s()(_.quotes),s()(g.result)):g.result,pages:a()(a()({},_.pages),{},{quotes:g.nextPage})});case ee:return a()(a()({},_),{},{grouped_quotes:g.append?p()(l=[]).call(l,s()(_.grouped_quotes),s()(g.result)):g.result,pages:a()(a()({},_.pages),{},{grouped_quotes:g.nextPage})});case te:return a()(a()({},_),{},{impressions:g.append?p()(d=[]).call(d,s()(_.impressions),s()(g.result)):g.result,pages:a()(a()({},_.pages),{},{impressions:g.nextPage})});case oe:return a()(a()({},_),{},{followingUsers:g.data.append?p()(f=[]).call(f,s()(_.followingUsers),s()(g.data.ids)):g.data.ids,pages:a()(a()({},_.pages),{},{followingUsers:g.data.nextPage})});case re:return a()(a()({},_),{},{followersUsers:g.data.append?p()(h=[]).call(h,s()(_.followersUsers),s()(g.data.ids)):g.data.ids,pages:a()(a()({},_.pages),{},{followersUsers:g.data.nextPage})});case T.a:var b;return _.myself?a()(a()({},_),{},{followingUsers:p()(b=[g.data.login]).call(b,s()(_.followingUsers))}):_;case T.b:var O;return _.myself?a()(a()({},_),{},{followingUsers:i()(O=_.followingUsers).call(O,(function(e){return e!==g.data.login}))}):_;case w.b:var S,E,k=g.uuid;return a()(a()({},_),{},{counters:a()(a()({},_.counters),{},{quotes:_.counters.quotes-1}),quotes:i()(S=_.quotes).call(S,(function(e){return e!==k})),grouped_quotes:i()(E=_.grouped_quotes).call(E,(function(e){return e.id!==k}))});case R.g:var y,C=g.uuid;return a()(a()({},_),{},{counters:a()(a()({},_.counters),{},{impressions:_.counters.impressions-1}),impressions:i()(y=_.impressions).call(y,(function(e){return e!==C}))});case ue:return a()(a()({},_),{},{counters:a()(a()({},_.counters),{},{uploaded:_.counters.uploaded-1}),imports:i()(m=_.imports).call(m,(function(e){return e.uuid!==g.uuid}))});case I.a.BOOK_CHANGED:case[L.p]:return"removed"===g.reason&&_.myself?a()(a()({},_),{},{books:Ue(g.book.uuid,_.books)}):_;case I.a.AUDIOBOOK_CHANGED:return"removed"===g.reason&&_.myself?a()(a()({},_),{},{audiobooks:Ue(g.audiobook.uuid,_.audiobooks)}):_;case I.a.COMICBOOK_CARD_REMOVED:return _.myself?a()(a()({},_),{},{comicbooks:Ue(g.comicbook.uuid,_.comicbooks)}):_;case le:return a()(a()({},_),{},{ui:a()(a()({},_.ui),{},{layout:g.layout})});default:return _}}},oBWf:function(e,t,n){e.exports=n.p+"03a956590c4c8685003f8739eb6cf1fb.png"},oY30:function(e,t,n){"use strict";t.a='<svg viewBox="0 0 283.5 283.5" xmlns="http://www.w3.org/2000/svg"><path d="M172.5 41.5H111c-56.2 0-69.5 13.3-69.5 69.5v61.6c0 56.2 13.3 69.5 69.5 69.5h61.6c56.2 0 69.5-13.3 69.5-69.5V111c-.1-56.2-13.5-69.5-69.6-69.5zm30.9 143.1h-14.6c-5.5 0-7.2-4.4-17.1-14.4-8.6-8.3-12.5-9.5-14.6-9.5-3 0-3.8.8-3.8 5v13.2c0 3.5-1.1 5.7-10.5 5.7-15.4 0-32.5-9.3-44.6-26.7-18.1-25.5-23.1-44.6-23.1-48.5 0-2.1.8-4.1 5-4.1h14.6c3.7 0 5.1 1.7 6.5 5.7 7.2 20.8 19.2 39.1 24.2 39.1 1.8 0 2.7-.8 2.7-5.5v-21.5c-.6-9.9-5.8-10.8-5.8-14.3 0-1.7 1.4-3.4 3.7-3.4h22.9c3.1 0 4.2 1.7 4.2 5.4v29c0 3.1 1.4 4.2 2.3 4.2 1.8 0 3.4-1.1 6.8-4.5 10.5-11.7 18-29.9 18-29.9 1-2.1 2.7-4.1 6.4-4.1h14.6c4.4 0 5.4 2.3 4.4 5.4-1.8 8.5-19.7 33.7-19.7 33.7-1.6 2.5-2.1 3.7 0 6.5 1.6 2.1 6.7 6.5 10 10.5 6.2 7.1 11 13 12.3 17.1 1.4 3.7-.7 5.9-4.8 5.9z"/></svg>'},oYY5:function(e,t,n){},pBR6:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return A})),n.d(t,"h",(function(){return R})),n.d(t,"g",(function(){return I})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return T})),n.d(t,"e",(function(){return U})),n.d(t,"l",(function(){return N})),n.d(t,"k",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return x}));n("rB9j"),n("UxlC");var r=n("kT1S"),a=n.n(r),o=n("04Ix"),i=n.n(o),c=n("ZDpU"),s=n("cr+I"),u=n.n(s),l=n("L3Ur"),d=n("noZS"),p=n.n(d),f=n("YS3K"),h="FIRST_RENDER_END",m="DISPLAY_RESIZE",v="BOOK_SHOWN",_="LOCATION_HREF",g="UTM_PARAMS",b="FINGERPRINT",O="CLEAR_TOKENS",S="LOAD_FEATURE_FLAGS_SUCCESS",E="LOAD_FEATURE_FLAGS_ERROR",k="EXTERNAL_REDIRECT",y="new_flow_web",C=[y];function A(e){return e.app}var w={firstRender:true,pointName:"",requestId:"",headers:{},size:"desktop",os:"",browser:"",signInToken:"",accessToken:"",authToken:"",revokeAccessToken:"",fingerprint:"",mobileOS:false,bookShownCount:0,currentLocationHref:"",previousLocationHref:"",isBookmateApp:false,utmParams:{},featureFlags:{}};function R(){return{type:h}}function I(){return i()({},c.a,{endpoint:"/p/api/v5/features?".concat(u.a.stringify({names:C},{arrayFormat:"bracket"})),types:["LOAD_FEATURE_FLAGS",S,E]})}function L(e){return{type:m,size:e}}function T(e){return{type:_,data:e}}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.status,r=void 0===n?302:n,a=t.replace,o=void 0!==a&&a;return{type:k,status:r,location:e,replace:o}}function N(e){return function(t){t({type:g,utmParams:e})}}function D(e){return function(t){t({type:b,fingerprint:e})}}function P(e){return function(t){t(Object(l.replace)("".concat(e.replace(/sign_in_token=\w+&?/,"")))),t({type:O})}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return a()(a()({},e),{},{firstRender:false});case S:return a()(a()({},e),{},{featureFlags:p()(Object(f.keyBy)("name",t.features),"enabled")});case E:return a()(a()({},e),{},{featureFlags:w.featureFlags});case m:return a()(a()({},e),{},{size:t.size});case v:return a()(a()({},e),{},{bookShownCount:t.count});case _:return a()(a()({},e),{},{previousLocationHref:e.currentLocationHref,currentLocationHref:t.data});case g:return a()(a()({},e),{},{utmParams:t.utmParams});case b:return a()(a()({},e),{},{fingerprint:t.fingerprint});case O:return a()(a()({},e),{},{signInToken:"",accessToken:""});default:return e}}},qHus:function(e,t,n){"use strict";n.d(t,"q",(function(){return _})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return O})),n.d(t,"e",(function(){return S})),n.d(t,"h",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return C})),n.d(t,"k",(function(){return A})),n.d(t,"i",(function(){return w})),n.d(t,"l",(function(){return R})),n.d(t,"j",(function(){return I})),n.d(t,"o",(function(){return L})),n.d(t,"n",(function(){return T})),n.d(t,"p",(function(){return U})),n.d(t,"a",(function(){return N}));n("eLKs");var r=n("mnMc"),a=n.n(r),o=n("KYsz"),i=n.n(o),c=n("22CO"),s=n("qUSF"),u=n("mY86"),l=n("W6YQ"),d=n("earH"),p=n("kWLw"),f=n("zS1G"),h=n("fYg3"),m=n("1wMt"),v=n("2m0P"),_=(n("55NG"),{BOOK:"book",COMICBOOK:"comicbook",AUDIOBOOK:"audiobook",SERIAL:"serial",QUOTE:"quote",IMPRESSION:"impression"});function g(e){switch(e){case"serial":case"book":return c.f;case"audiobook":return c.a;case"comicbook":return c.h}}function b(e){switch(e){case"serial":case"book":return f.a;case"audiobook":return h.b;case"comicbook":return m.e}}function O(e){switch(e){case"serial":case"book":return f.b;case"audiobook":return h.c;case"comicbook":return m.f}}function S(e){switch(e){case"book":return s.f;case"audiobook":return l.e;case"comicbook":return d.d;case"serial":return p.e}}function E(e){switch(e){case"book":return s.g;case"audiobook":return l.g;case"comicbook":return d.e}}function k(e){switch(e){case"book":return s.d;case"audiobook":return l.c;case"comicbook":return d.b;case"serial":return p.i}}function y(e){return i()(e).call(e,(function(e,t){var n;return a()(n=["book","audiobook","comicbook","serial"]).call(n,t.resourceType)&&e.push(t.resource),e}),[])}var C={book:s.g,audiobook:l.g,comicbook:d.e},A={book:function(e){return Object(s.k)(e)},serial:function(e){return Object(p.h)(e)}},w={book:function(e){return Object(s.i)(e)},serial:function(e){return Object(p.f)(e)}},R={book:function(e){return Object(s.l)(e)},serial:function(e){return Object(p.k)(e)}},I={book:function(e){return Object(s.j)(e)},serial:function(e){return Object(p.g)(e)}},L={book:function(e,t){return Object(s.n)(e,t)},serial:function(e,t){return Object(p.n)(e,t)}},T={book:function(e,t){return Object(s.m)(e,t)},serial:function(e,t){return Object(p.l)(e,t)}},U={book:function(e){return Object(s.o)(e)},serial:function(e){return Object(p.o)(e)}},N={book:function(e){return Object(u.a)({},e)},serial:function(e){return Object(u.a)({},e)},comicbook:function(e){return Object(m.c)({},e)},audiobook:function(e){return Object(v.a)({},e)}}},qPNS:function(e,t,n){},qUSF:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"d",(function(){return J})),n.d(t,"i",(function(){return $})),n.d(t,"e",(function(){return ee})),n.d(t,"f",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"l",(function(){return re})),n.d(t,"k",(function(){return ae})),n.d(t,"h",(function(){return oe})),n.d(t,"g",(function(){return ie})),n.d(t,"n",(function(){return ce})),n.d(t,"m",(function(){return se})),n.d(t,"b",(function(){return ue})),n.d(t,"o",(function(){return le})),n.d(t,"c",(function(){return pe}));var r=n("5PDf"),a=n.n(r),o=n("Vi3r"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("a0dU"),l=n.n(u),d=n("kT1S"),p=n.n(d),f=(n("ls82"),n("SPx3")),h=n.n(f),m=n("04Ix"),v=n.n(m),_=n("XiPH"),g=n("0A2V"),b=n("ZDpU"),O=n("mY86"),S=n("ZUvS"),E=n("F6cB"),k=n("MJ/v"),y=n("22CO"),C=n("bSTM"),A=n("FSMw"),w=n("DRjp"),R=A.a.BOOK_LOAD,I=A.a.BOOK_LOAD_SUCCESS,L=A.a.BOOK_LOAD_ERROR,T=A.a.BOOK_CHANGED,U=A.a.BOOK_READERS_LOAD,N=A.a.BOOK_READERS_LOAD_SUCCESS,D=A.a.BOOK_SHELVES_LOAD,P=A.a.BOOK_SHELVES_LOAD_SUCCESS,x=A.a.BOOK_RELATED_LOAD,M=A.a.BOOK_RELATED_LOAD_SUCCESS,j=A.a.BOOK_QUOTES_LOAD,B=A.a.BOOK_QUOTES_LOAD_SUCCESS,K=A.a.BOOK_IMPRESSIONS_LOAD,H=A.a.BOOK_IMPRESSIONS_LOAD_SUCCESS,F=A.a.BOOK_REMOVED_FROM_WISHLIST,z=A.a.BOOK_REMOVED_FROM_WISHLIST_SUCCESS,G=A.a.BOOK_ADD_TO_WISHLIST,V=A.a.BOOK_ADD_TO_WISHLIST_SUCCESS,q=A.a.BOOK_OTHER_VERSIONS_LOAD,W=A.a.BOOK_OTHER_VERSIONS_LOAD_SUCCESS,Y=A.a.BOOK_EMOTION_RATING_LOAD,X=A.a.BOOK_EMOTION_RATING_LOAD_SUCCESS,Z=A.a.BOOK_SERIES_EPISODES_LOAD,Q=A.a.BOOK_SERIES_EPISODES_LOAD_SUCCESS,J=w.a,$=Object(g.a)((function(e){var t,n=e.uuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,c=e.index,s=void 0!==c&&c,u=e.append,l=void 0!==u&&u;return t=s?{page:a,per_page:i,top:true}:{page:a,per_page:i},v()({},b.a,{endpoint:"/p/api/v5/books/".concat(n,"/quotes"),options:{data:t},schema:new _.schema.Array(S.h),responseKey:"quotes",modifyResponse:function(e){return{updateField:s?"quotesIndex":"quotes",index:s,append:l,nextPage:e.result.length?a+1:null}},types:[j,B]})}),B,[S.a,S.b,k.a,k.b]);function ee(e){return v()({},b.a,{endpoint:"/p/api/v5/books/".concat(e,"/emotion_ratings"),types:[Y,X]})}var te=Object(g.a)((function(e){var t,n=e.uuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,c=e.index,s=void 0!==c&&c,u=e.append,d=void 0!==u&&u;return v()({},b.a,{endpoint:"/p/api/v5/books/".concat(n,"/impressions"),options:{data:{page:a,per_page:i}},normalize:(t=h()(l.a.mark((function e(t){var r,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_.normalize)(Object(E.p)(t.impressions),E.m),o=r.result,i=r.entities,e.abrupt("return",{result:o,entities:p()(p()({},i),{},{impressions:Object(E.h)(i.impressions,n,"book")}),updateField:s?"impressionsIndex":"impressions",index:s,append:d,nextPage:o.length?a+1:null});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),types:[K,H]})}),H,[E.a,E.b,E.g,E.e,k.a,k.b]),ne=Object(g.a)((function(e){var t=e.uuid,n=e.p,r=void 0===n?1:n,a=e.pp,o=void 0===a?15:a,i=e.append,c=void 0!==i&&i;return v()({},b.a,{endpoint:"/p/api/v5/books/".concat(t,"/readers"),options:{data:{page:r,per_page:o}},schema:y.s,responseKey:"users",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:[U,N]})}),N,[T]),re=Object(g.a)((function(e){var t=e.uuid,n=e.p,r=void 0===n?1:n,a=e.pp,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return v()({},b.a,{endpoint:"/p/api/v5/books/".concat(t,"/bookshelves"),options:{data:{page:r,per_page:o}},schema:new _.schema.Array(y.p),responseKey:"bookshelves",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:[D,P]})}),P),ae=Object(g.a)((function(e){var t=e.uuid,n=e.p,r=void 0===n?1:n,a=e.pp,o=void 0===a?20:a,i=e.append,c=void 0!==i&&i;return v()({},b.a,{endpoint:"/p/api/v5/books/".concat(t,"/related"),options:{data:{page:r,per_page:o}},schema:y.g,responseKey:"books",modifyResponse:function(e){return{append:c,nextPage:e.result.length?r+1:null}},types:[x,M]})}),M,[T]),oe=Object(g.a)((function(e,t){var n;return v()({},b.a,{endpoint:s()(n="/p/api/v5/books/".concat(e,"/variants/")).call(n,t),schema:"book"===t?y.g:y.b,responseKey:"".concat(t,"s"),modifyResponse:function(){return{resourceType:t}},types:[q,W]})}),W,[T]),ie=Object(g.a)((function(e){var t=e.uuid,n=e.seriesUuid,r=e.p,a=void 0===r?1:r,o=e.pp,i=void 0===o?20:o,c=e.append,s=void 0!==c&&c,u={page:a,per_page:i};return n&&(u.series_uuid=n),v()({},b.a,{endpoint:"/p/api/v5/books/".concat(t,"/more_in_series"),options:{data:u},normalize:function(e){var t=e.parts,n=Object(C.b)(t),r=n.result;return{result:r,entities:n.entities,append:s,nextPage:r.length?a+1:null}},types:[Z,Q]})}),Q,[T]);function ce(e,t){var n={uuid:t||e.library_card_uuid,public:false};return e.in_library?Object(O.g)(n):Object(O.a)(n,e)}function se(e,t){var n={uuid:t||e.library_card_uuid,state:"finished"};return e.in_library?Object(O.g)(n):Object(O.a)(n,e)}function ue(e){return v()({},b.a,{endpoint:"/p/api/v5/wishlisted_books",options:{method:"post",data:{uuid:e.uuid}},schema:y.f,responseKey:"wishlisted_book",types:[G,V]})}function le(e){return v()({},b.a,{endpoint:"/p/api/v5/wishlisted_books/".concat(e.uuid),options:{method:"delete",dontParse:true},modifyResponse:function(){return{uuid:e.uuid}},types:[F,z]})}var de={loading:true,uuid:"",in_wishlist:void 0,library_card_uuid:"",impressionsIndex:[],impressions:[],quotesIndex:[],quotes:[],shelves:[],related:[],otherEpisodes:[],otherVersions:{book:[],audiobook:[]},readers:[],pages:{impressions:1,quotes:1,related:1,readers:1,shelves:1,otherEpisodes:1},emotionRating:[],currentUserImpressionUuid:null};function pe(){var e,t,n,r,o,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(u.type){case R:return p()(p()({},c),{},{uuid:"",loading:true,impressions:[],quotes:[],shelves:[],related:[],readers:[],pages:de.pages});case I:return p()(p()({},c),{},{loading:false,library_card_uuid:u.library_card_uuid,uuid:u.result,error:null});case L:return p()(p()({},c),{},{loading:false,uuid:"",error:u.error});case N:return p()(p()({},c),{},{readers:u.append?s()(e=[]).call(e,i()(c.readers),i()(u.result)):u.result,pages:p()(p()({},c.pages),{},{readers:u.nextPage})});case P:return p()(p()({},c),{},{shelves:u.append?s()(t=[]).call(t,i()(c.shelves),i()(u.result)):u.result,pages:p()(p()({},c.pages),{},{shelves:u.nextPage})});case M:return p()(p()({},c),{},{related:u.append?s()(n=[]).call(n,i()(c.related),i()(u.result)):u.result,pages:p()(p()({},c.pages),{},{related:u.nextPage})});case W:var l="".concat(u.resourceType,"s");return p()(p()({},c),{},{otherVersions:p()(p()({},c.otherVersions),{},v()({},l,u.result))});case Q:var d;return p()(p()({},c),{},{otherEpisodes:u.append?s()(d=[]).call(d,i()(c.otherEpisodes),i()(u.result)):u.result,pages:p()(p()({},c.pages),{},{otherEpisodes:u.nextPage})});case H:case B:var f,h,m=u.updateField,_=u.result,g=u.index,b=u.append;return p()(p()({},c),{},(h={},v()(h,m,g||!b?_:s()(f=[]).call(f,i()(c[m]),i()(_))),v()(h,"pages",p()(p()({},c.pages),{},v()({},m,u.nextPage))),h));case S.b:return p()(p()({},c),{},{quotesIndex:a()(r=c.quotesIndex).call(r,(function(e){return e!==u.uuid})),quotes:a()(o=c.quotes).call(o,(function(e){return e!==u.uuid}))});case E.g:var O,k;return"book"===u.resourceType?p()(p()({},c),{},{impressionsIndex:a()(O=c.impressionsIndex).call(O,(function(e){return e!==u.uuid})),impressions:a()(k=c.impressions).call(k,(function(e){return e!==u.uuid}))}):c;case T:return u.book.uuid!==c.uuid?c:p()(p()({},c),{},{library_card_uuid:u.book.library_card_uuid});case X:return p()(p()({},c),{},{emotionRating:u.emotion_ratings});case E.d:var y=u.data,C=y.resourceUuid,A=y.resourceType,w=y.uuid;return"book"===A&&C===c.uuid?p()(p()({},c),{},{currentUserImpressionUuid:w}):c;case E.c:return p()(p()({},c),{},{currentUserImpressionUuid:null});default:return c}}},qUZg:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));n("rB9j"),n("UxlC"),n("hByQ");var r=n("o+MX"),a=n.n(r),o=n("Kwsy"),i=n.n(o),c=n("eLKs"),s=n.n(c),u=n("xS4f"),l=n.n(u),d=n("q1tI"),p=n.n(d),f=n("dtw8"),h=n("L3Ur"),m=n("/MKj"),v=n("rid2"),_=n("gw59"),g=n.n(_),b=n("UIRo"),O=(n("sMBO"),"errors");var S=n("mnMc"),E=n.n(S),k=n("04Ix"),y=n.n(k),C=n("kT1S"),A=n.n(C),w=n("+oHS"),R=n.n(w),I=n("KYsz"),L=n.n(I),T=n("06Pm"),U=n.n(T),N=n("kA7L"),D=n.n(N),P=n("X5/F"),x=n.n(P),M=n("K82H"),j=n.n(M),B=n("ZD0w"),K=function(e){x()(n,e);var t=j()(n);function n(){return U()(this,n),t.apply(this,arguments)}return D()(n,[{key:"shouldComponentUpdate",value:function(e){return Boolean(e.translations[e.locale])}},{key:"prepareCatalogs",value:function(){var e,t=this.props.translations;return L()(e=R()(t)).call(e,(function(e,n){return A()(A()({},e),{},y()({},n,{languageData:t[n]&&t[n].languageData||void 0,messages:t[n]?t[n].messages||t[n]:{}}))}),{})}},{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.locale,a=E()(e=b.a.locales).call(e,r)?r:b.a.fallbackLocale;return p.a.createElement(B.I18nProvider,{language:a,catalogs:this.prepareCatalogs()},n)}}]),n}(d.Component),H=Object(m.connect)((function(e){return{translations:e.languages.translations,locale:e.currentUser.data.locale}}))(K),F=n("pBR6"),z=n("3L7n");function G(e){return{utm_source:e.query.utm_source,utm_medium:e.query.utm_medium,utm_campaign:e.query.utm_campaign}}function V(e){var t=e.store,n=e.routes,r=e.history;return p.a.createElement(v.b,null,p.a.createElement(m.Provider,{store:t},p.a.createElement(H,null,p.a.createElement(f.Router,{routes:n,history:r,render:Object(f.applyRouterMiddleware)(g()((function(e,t){var n;return!l()(n=t.routes).call(n,(function(e){return e.ignoreScrollBehavior}))})))}))))}function q(e){var t=e.store,n=e.routes;t="function"==typeof t?t():t;var r=Object(h.syncHistoryWithStore)(f.browserHistory,t),a=G(r.getCurrentLocation());return t.dispatch(Object(F.l)(a)),t.dispatch(Object(z.R)()),r.listen(s()(W).call(W,null,t,n)),p.a.createElement(V,{store:t,routes:n,history:r})}function W(e,t,n){Object(f.match)({routes:t,location:n},(function(t,r,o){var c,s,u=e.getState().app,l=u.pointName,d=u.firstRender,p=u.previousLocationHref,f=G(n);e.dispatch(Object(F.l)(f)),e.dispatch(Object(z.R)()),function(e,t){var n,r=window["yaCounter".concat(b.a.yandexMetrikaId)];r&&r.hit(a()(n="".concat(e.pathname)).call(n,e.search),{referer:document.referrer||t})}(n,p),d||o&&l!==O||window.location.reload(true),n.hash&&(c=n.hash.replace("#",""),(s=document.getElementById(c))&&i()((function(){s.scrollIntoView()}),50))}))}},qt1I:function(e,t,n){"use strict";n.d(t,"k",(function(){return W})),n.d(t,"g",(function(){return X})),n.d(t,"j",(function(){return Z})),n.d(t,"c",(function(){return Q})),n.d(t,"i",(function(){return J})),n.d(t,"d",(function(){return $})),n.d(t,"e",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"l",(function(){return re})),n.d(t,"m",(function(){return ae})),n.d(t,"b",(function(){return oe})),n.d(t,"f",(function(){return ce}));var r=n("mnMc"),a=n.n(r),o=n("04Ix"),i=n.n(o),c=n("KYsz"),s=n.n(c),u=n("FLGM"),l=n.n(u),d=n("kT1S"),p=n.n(d),f=n("5PDf"),h=n.n(f),m=n("XiPH"),v=n("ZDpU"),_=n("L3Ur"),g=n("J2m7"),b=n.n(g),O=n("qPyV"),S=n.n(O),E=n("Puqe"),k=n.n(E),y=n("AOYn"),C=n("qHus"),A=n("pBR6"),w=n("6wIG"),R=n("3L7n"),I=["v_first__summer","v_second","v_third__summer","v_fourth__summer","v_fifth__summer","v_sixth"],L="GIFTS_CARD_NEXT_STEP_EMAIL",T="GIFTS_CARD_CONTENT_UPDATED",U="GIFTS_CARD_THEME_UPDATED",N="GIFTS_ADD_BOOK_SUGGESTION",D="GIFTS_CARD_CREATE",P="GIFTS_CARD_CREATE_SUCCESS",x="GIFTS_CARD_CREATE_ERROR",M="GIFTS_PLANS_LOAD_SUCCESS",j="GIFTS_PLANS_LOAD_ERROR",B="GIFTS_CHANGE_KIND",K="GIFTS_CHANGE_PLAN",H="GIFT_CARD_ACTIVATE",F="GIFT_CARD_LOAD_SUCCESS",z="GIFT_PAYMENT_COMPLETE",G="GIFT_PAYMENT_COMPLETE_SUCCESS",V="GIFT_PAYMENT_COMPLETE_ERROR",q="GIFT_CARD_SENDER_DATA_SET";function W(){return{type:L,data:{stepEmail:true}}}function Y(e){var t={};if(e&&e.resource){var n=Object(C.g)(e.resource_type),r=Object(m.normalize)(e.resource,n),a=r.result,o=r.entities;e.resource=a,t.entities=o}return p()(p()({},t),{},{gift_card:e})}function X(e){var t=e.gifts.gift_card,n=p()({},t);if(n.resource&&n.resource_type){var r=Object(C.g)(n.resource_type);n.resource=Object(m.denormalize)(n.resource,r,e.entities)}return n}function Z(e){var t=e.email,n=e.emailGiftRecipient,r=e.deliverAt;return{type:q,data:{senderEmail:t,recipientEmail:n,deliverAt:r}}}function Q(e){return{type:K,data:{planId:e}}}function J(){return i()({},v.a,{endpoint:"/p/api/v5/payments/plans/gifts",normalize:function(e){var t,n,r=l()(t=S()(e.plans,"kind")).call(t,(function(e){return e.kind})),o=s()(r).call(r,(function(t,n){var r,a=l()(r=function(e,t){return h()(e).call(e,(function(e){return e.kind===t}))}(e.plans,n)).call(r,(function(e){return p()(p()({},e),{},{system:e.system||"cards",trial:false})})),o=b()(a,(function(e){return e.preselected}))||a[0];return p()(p()({},t),{},i()({},n,{plans:a,planId:o.id,suggestedItemId:"",suggestedItemType:""}))}),{});return n=a()(r).call(r,"master")?"master":a()(r).call(r,"premium")?"premium":r[0],{data:{kinds:p()({},o),kind:n,availableKinds:r,loading:false,error:""}}},types:["GIFTS_PLANS_LOAD",M,j]})}function $(e){return i()({},v.a,{endpoint:"/p/api/v5/gifts/complete",options:{method:"post",data:e},normalize:function(e){var t=Y(e.gift_card);return{entities:t.entities,data:{gift_card:t.gift_card,loading:false,error:""}}},preserveError:true,types:[z,G,V]})}function ee(e){var t=k()(e,"kind");return i()({},v.a,{endpoint:"/p/api/v5/gifts",options:{method:"post",data:p()(p()({},t),{},{return_url:y.d.giftsPaymentComplete()})},normalize:function(e,t){var n=t.dispatch;if("3d_secure_flow_initiated"===e.status)return n(Object(A.e)(e.redirect_url)),{data:{gift_card:ie.gift_card,loading:false,error:""}};var r=Y(e.gift_card);return{entities:r.entities,data:{gift_card:r.gift_card,loading:false,error:""}}},types:[D,P,x]})}function te(e){var t=e.billing_promo,n={payment_method:"gift",duration:t.duration,sub_type:t.kind,is_trial:false};return i()({},v.a,{endpoint:"/p/api/v5/profile/promocodes",options:{method:"post",data:{code:t.uuid}},onSuccess:function(e){e(Object(R.N)(R.J,n)),e(Object(w.p)()),e(Object(_.push)(y.d.giftsActivationSuccess()))},onError:function(e,t,r){n.reason="string"==typeof r?r:r.error.message,e(Object(R.N)(R.H,n))},types:[H,"GIFT_CARD_ACTIVATE_SUCCESS"]})}function ne(e){return i()({},v.a,{endpoint:"/p/api/v5/gift_cards/".concat(e),normalize:function(e){var t=e.gift_card,n={};if(t&&t.resource){var r=Object(C.g)(t.resource_type),a=Object(m.normalize)(t.resource,r),o=a.result,i=a.entities;t.resource=o,n.entities=i}return p()({data:{gift_card:t,loading:false,error:""}},n)},types:["GIFT_CARD_LOAD",F]})}function re(e){return{type:T,text:e}}function ae(e){return{type:U,theme:e}}function oe(e,t){return{type:N,uuid:e,resourceType:t}}var ie={kind:"premium",availableKinds:[],kinds:{},themes:I,senderEmail:"",card:{content:"",background:I[0]},gift_card:{uuid:"",billing_promo:{duration:"",uuid:"",kind:""},resource:"",resource_type:"",content:"",user:null},error:"",loading:false,isComplete:false,stepEmail:false};function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return p()(p()({},e),{},{card:p()(p()({},e.card),{},{content:t.text})});case U:return p()(p()({},e),{},{card:p()(p()({},e.card),{},{background:t.theme})});case N:return p()(p()({},e),{},{kinds:p()(p()({},e.kinds),{},i()({},e.kind,p()(p()({},e.kinds[e.kind]),{},{suggestedItemId:t.uuid,suggestedItemType:t.resourceType})))});case M:return p()(p()({},e),{},{kind:t.data.kind,kinds:t.data.kinds,availableKinds:t.data.availableKinds,loading:t.data.loading,error:t.data.error});case j:return p()(p()({},e),{},{loading:false,error:t.data.error});case P:return p()(p()({},e),{},{loading:false,gift_card:t.data.gift_card});case x:return p()(p()({},e),{},{loading:false,error:t.error.message});case K:return p()(p()({},e),{},{kinds:p()(p()({},e.kinds),{},i()({},e.kind,p()(p()({},e.kinds[e.kind]),{},{planId:t.data.planId})))});case B:return p()(p()({},e),{},{kind:t.data.kind});case F:return p()(p()({},e),{},{gift_card:t.data.gift_card});case H:case D:return p()(p()({},e),{},{loading:true});case z:return p()(p()({},e),{},{isComplete:false});case G:return p()(p()({},e),{},{gift_card:t.data.gift_card,isComplete:true});case V:return p()(p()({},e),{},{error:t.error.message,isComplete:true});case q:var n=t.data,r=n.senderEmail,a=n.recipientEmail,o=n.deliverAt;return p()(p()({},e),{},{senderEmail:r,recipientEmail:a,deliverAt:o});case L:return p()(p()({},e),{},{stepEmail:true});default:return e}}},rHpc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("xS4f"),a=n.n(r);function o(e){var t;return a()(t=[i,c,s]).call(t,(function(t){return t(e)}))}function i(e){return/googlebot/i.test(e)}function c(e){return/yandex.+\/bots/.test(e)}function s(e){var t=[/bingbot/i,/msnbot/i];return a()(t).call(t,(function(t){return t.test(e)}))}},rRRq:function(e,t,n){e.exports=n.p+"d9805dba119c775dccdab264ab3c10d8.png"},riko:function(e,t,n){"use strict";t.a='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.9945 14.3354L9.52945 22H7L10.8063 13.8048C9.01663 12.9092 7.82467 11.2869 7.82467 8.29307C7.82467 4.09826 10.5222 2 13.7325 2H17V22H14.8119V14.3354H12.9945ZM14.8119 3.81849H13.6476C11.8857 3.81849 10.1826 4.96486 10.1826 8.29478C10.1826 11.5121 11.7453 12.5459 13.6476 12.5459H14.8119V3.81849Z" fill="black"/>\n</svg>\n'},sAtQ:function(e,t,n){"use strict";n("sMBO");var r=n("q1tI"),a=n.n(r),o=n("va4D"),i=n.n(o),c=n("vu0S"),s=n("H68O"),u=n("Tw59"),l=n("gdMI"),d=n("riko"),p=n("zbQm"),f=(n("7Dde"),{facebook:s.a,twitter:c.a,vkontakte:'<svg height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m11.807 17.206h1.076s.324-.036.49-.22c.153-.168.148-.482.148-.482s-.021-1.477.649-1.694c.661-.214 1.51 1.427 2.408 2.058.68.478 1.196.373 1.196.373l2.403-.034s1.258-.079.662-1.091c-.049-.082-.348-.747-1.787-2.113-1.508-1.432-1.306-1.199.51-3.674 1.105-1.507 1.548-2.427 1.41-2.821-.132-.377-.945-.278-.945-.278l-2.707.018s-.2-.028-.35.063c-.145.089-.238.297-.238.297s-.429 1.166-1 2.158c-1.205 2.093-1.688 2.203-1.884 2.073-.458-.303-.344-1.217-.344-1.866 0-2.028.301-2.874-.586-3.092-.294-.073-.511-.121-1.263-.128-.965-.011-1.782.002-2.245.234-.309.154-.545.498-.4.518.178.024.584.111.799.411.277.386.268 1.252.268 1.252s.158 2.387-.373 2.684c-.364.203-.865-.212-1.939-2.11-.552-.973-.968-2.048-.968-2.048s-.08-.201-.223-.308c-.174-.131-.416-.172-.416-.172l-2.572.017s-.385.011-.527.183c-.126.153-.01.469-.01.469s2.014 4.817 4.293 7.245c2.091 2.224 4.465 2.078 4.465 2.078z" fill="#579eda"/></svg>',yandex:d.a,google:u.a,telenor_bulgaria:l.a,apple:p.a});t.a=function(e){var t=f[e.provider];if(!t)throw new Error("There is no socialIcon for social network ".concat(e.provider));return a.a.createElement("div",{className:"social-userinfo-plate"},a.a.createElement("div",{className:"social-userinfo-plate__icon"},a.a.createElement(i.a,{svg:t})),a.a.createElement("div",{className:"social-userinfo-plate__name"},e.name),a.a.createElement("div",{className:"social-userinfo-plate__avatar"},a.a.createElement("img",{src:e.userpic})))}},sI90:function(e,t,n){"use strict";n.d(t,"b",(function(){return Nt}));n("4mDm"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ");var r=n("mnMc"),a=n.n(r),o=n("EcSs"),i=n.n(o),c=n("o+MX"),s=n.n(c),u=n("a0dU"),l=n.n(u),d=n("OBge"),p=n.n(d),f=(n("ls82"),n("+oHS")),h=n.n(f),m=n("RXMP"),v=n.n(m),_=n("Kwsy"),g=n.n(_),b=n("06Pm"),O=n.n(b),S=n("kA7L"),E=n.n(S),k=n("3SUL"),y=n.n(k),C=n("hO3g"),A=n.n(C),w=n("X5/F"),R=n.n(w),I=n("K82H"),L=n.n(I),T=n("04Ix"),U=n.n(T),N=n("SPx3"),D=n.n(N),P=(n("dw+2"),n("2u4x"),n("zoqU"),n("q1tI")),x=n.n(P),M=n("/MKj"),j=n("L3Ur"),B=n("GBY4"),K=n.n(B),H=n("cr+I"),F=n.n(H),z=n("Puqe"),G=n.n(z),V=n("mwIZ"),q=n.n(V),W=n("UIRo"),Y=n("/zpq"),X=n("2HMc"),Z=n("6wIG"),Q=n("fzp2"),J=n("pBR6"),$=n("3L7n"),ee=n("lxhJ"),te=n("wpgx"),ne=n("8OPv"),re=n("f/wR"),ae=n("qt1I"),oe=n("mURl"),ie=(n("oVuX"),n("FLGM")),ce=n.n(ie),se=n("6BPK"),ue=n.n(se);function le(e){return de.apply(this,arguments)}function de(){return(de=D()(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.a.getPromise();case 2:n=e.sent,r=ue.a.x64hash128(ce()(n).call(n,(function(e){return e.value})).join(),31),t(Object(J.k)(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=n("kT1S"),fe=n.n(pe),he=n("YdDX"),me=n.n(he),ve=n("p+/H"),_e=n.n(ve),ge=n("Stko");function be(){var e=me()(["\n    window.dataLayer = window.dataLayer || [];\n    function gtag() {dataLayer.push(arguments)};\n    gtag('consent', 'default', {'ad_storage': '","','analytics_storage': '","', wait_for_update: 5000});\n  "]);return be=function(){return e},e}function Oe(){var e=me()(["\n    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','","');\n  "]);return Oe=function(){return e},e}function Se(){return _e()(Oe(),W.a.googleTagManagerId)}function Ee(){var e=ge.a.get("bm_cookie_consent"),t=e&&e.cookieMarketing?"granted":"denied",n=e&&e.cookiePerformance?"granted":"denied";return _e()(be(),t,n)}function ke(){window.dataLayer.push({event:"Consent Update"})}function ye(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ce()){var n=fe()(fe()({},e&&{ad_storage:"granted"}),t&&{analytics_storage:"granted"});window.gtag("consent","update",n)}}function Ce(){return Boolean(window.gtag)}function Ae(e){var t,n,r=document.createElement("script"),a=!/@.+?\/settings/.test(e);r.async=true,r.type="text/javascript",r.text=s()(t=s()(n="(function (d, w, c) {           (w[c] = w[c] || []).push(function() {               try {                   w.yaCounter".concat(W.a.yandexMetrikaId," = new Ya.Metrika({                       id:")).call(n,W.a.yandexMetrikaId,",                       clickmap:false,                       trackLinks:true,                       accurateTrackBounce:true,                       webvisor: ")).call(t,a,'                  });               } catch(e) { }           });           var n = d.getElementsByTagName("script")[0],               s = d.createElement("script"),               f = function () { n.parentNode.insertBefore(s, n); };           s.type = "text/javascript";           s.async = true;           s.src = "https://mc.yandex.ru/metrika/watch.js";           if (w.opera == "[object Opera]") {               d.addEventListener("DOMContentLoaded", f, false);           } else { f(); }       })(document, window, "yandex_metrika_callbacks");'),document.body.appendChild(r)}var we=n("UE52"),Re=n("6OYx"),Ie=(n("rB9j"),n("EnZy"),n("5PDf")),Le=n.n(Ie),Te=n("UtpJ"),Ue=n.n(Te),Ne=n("Vi3r"),De=n.n(Ne),Pe=n("rid2"),xe=function(e){R()(r,e);var t=L()(r);function r(){var e,n;O()(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=t.call.apply(t,s()(e=[this]).call(e,o)),U()(A()(n),"state",{htmlClass:"no-js"}),n}return E()(r,[{key:"componentDidMount",value:function(){var e=window.CSS&&CSS.supports("display","flex")?"":"no-flex-wrap";this.setState({htmlClass:"".concat(e)})}},{key:"render",value:function(){var e,t=this.props,n=t.title,r=t.url,a=t.lang,o=t.gtag,i=t.locale,c=t.alternateLocale,u=t.gtagHelper,l=this.state.htmlClass;return x.a.createElement(Pe.a,{htmlAttributes:{lang:a,class:l},title:n,meta:[{charset:"utf-8"},{"http-equiv":"X-UA-Compatible",content:"IE=edge"},{"http-equiv":"cleartype",content:"on"},{name:"google-site-verification",content:"oBqTwVeuzOLy2mFJ8fP6GkyzEODF-xUrC3X6Gdz823s"},{name:"yandex-verification",content:"760d5a846e1d1c4d"},{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, viewport-fit=cover"},{name:"HandheldFriendly",content:"True"},{name:"msapplication-config",content:"".concat("https://vanguardassets.bmstatic.com/assets/","favicons/browserconfig.xml")},{name:"theme-color",content:"#ffffff"},{name:"keywords",content:"Bookmate"},{property:"al:ios:app_name",content:"Bookmate"},{property:"al:ios:app_store_id",content:"386177450"},{property:"al:android:app_name",content:"Bookmate"},{property:"al:android:package",content:"com.bookmate"},{property:"twitter:site",content:"@bookmate_ru"},{property:"twitter:image",content:"".concat("https://vanguardassets.bmstatic.com/assets/","sharing/main.png?v4")},{property:"twitter:app:name:iphone",content:"Bookmate"},{property:"twitter:app:id:iphone",content:"386177450"},{property:"twitter:app:name:googleplay",content:"Bookmate"},{property:"twitter:app:id:googleplay",content:"com.bookmate"},{property:"og:site_name",content:"Bookmate"},{property:"og:url",content:Me(r)},{property:"og:image",content:"".concat("https://vanguardassets.bmstatic.com/assets/","sharing/main.png?v4")},{property:"og:locale",content:i},{property:"og:locale:alternate",content:c},{property:"fb:app_id",content:"124791507543584"},{name:"ahrefs-site-verification",content:"a2f8cb50a16d3eadea976e3827748aaff260e3e4b2f5e1dc46a72a24fcb4ea24"}],link:s()(e=[{rel:"manifest",href:"".concat("https://vanguardassets.bmstatic.com/assets/","favicons/manifest.json")},{rel:"mask-icon",href:"".concat("https://vanguardassets.bmstatic.com/assets/","favicons/safari-pinned-tab.svg"),color:"#9D7760"},{rel:"shortcut icon",href:"".concat("https://vanguardassets.bmstatic.com/assets/","favicons/favicon.ico")}]).call(e,De()(this.generateFavicons(["16x16","32x32","96x96"],["57x57","60x60","72x72","76x76","114x114","120x120","144x144","152x152","180x180"])),[{rel:"canonical",href:Me(r)}],De()(Y.a.isProduction()&&"/"===r.pathname?je(r):[]))},!Y.a.isDevelopment()&&!false&&x.a.createElement("script",null,u()),!Y.a.isDevelopment()&&!false&&x.a.createElement("script",null,o()))}},{key:"generateFavicons",value:function(e,t){var r=[{rel:"apple-touch-icon",href:n("xIqf")}];return v()(t).call(t,(function(e){r.push({rel:"apple-touch-icon",href:n("1yXu")("./apple-touch-icon-".concat(e,".png")),sizes:e})})),v()(e).call(e,(function(e){r.push({rel:"icon",href:n("SUqr")("./favicon-".concat(e,".png")),sizes:e,type:"image/png"})})),r}}]),r}(P.Component);function Me(e){var t,n,r,o=e.protocol,i=e.host,c=e.pathname,u=e.query,l=e.locale,d=void 0===l?"":l;if(d){var p,f,h,m=i.split("."),v="en"===d?"":"".concat(d,".");i=a()(p=W.a.locales).call(p,m[0])?s()(f="".concat(v)).call(f,Ue()(m).call(m,1).join(".")):s()(h="".concat(v)).call(h,i)}return u=u.lang?"?lang=".concat(u.lang):"",s()(t=s()(n=s()(r="".concat(o,"://")).call(r,i)).call(n,c)).call(t,u)}function je(e){var t,n,r,o,i=e.protocol,c=e.host;c=function(e){var t,n=e.host,r=n.split(".");return a()(t=W.a.locales).call(t,r[0])?"".concat(Ue()(r).call(r,1).join(".")):n}({host:c});var u=[{rel:"alternate",hreflang:"en",href:s()(t="".concat(i,"://")).call(t,c)},{rel:"alternate",hreflang:"x-default",href:s()(n="".concat(i,"://")).call(n,c)}],l=ce()(r=Le()(o=W.a.locales).call(o,(function(e){return"en"!==e}))).call(r,(function(e){var t,n;return{rel:"alternate",hreflang:e,href:s()(t=s()(n="".concat(i,"://")).call(n,e,".")).call(t,c)}}));return s()(u).call(u,l)}var Be=n("xS4f"),Ke=n.n(Be),He=n("pPxq"),Fe=n.n(He),ze=n("ZD0w"),Ge=n("dtw8"),Ve=n("AOYn"),qe=n("PpkX"),We=n("YUtL"),Ye=n("vFd1"),Xe=(n("6ckQ"),n("AqIe")),Ze=n.t(Xe,2),Qe=x.a.createElement(We.a,{size:8}),Je=x.a.createElement(ze.Trans,{id:"cookies-message.accept-chosen"}),$e=function(e){R()(n,e);var t=L()(n);function n(e){var r;return O()(this,n),r=t.call(this,e),U()(A()(r),"onAcceptAll",(function(){var e=r.state.cookiesConsent;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=true);ge.a.set("bm_cookie_consent",fe()({},e)),ge.a.set("bm_cookie_consent_given",true),r.setState({cookiesConsent:e,display:false}),ke(),ye(e.cookieMarketing,e.cookiePerformance)})),U()(A()(r),"onAcceptChosen",(function(){var e=r.state.cookiesConsent;ge.a.set("bm_cookie_consent",fe()({},e)),ge.a.set("bm_cookie_consent_given",true),r.setState({display:false}),ke(),ye(e.cookieMarketing,e.cookiePerformance)})),U()(A()(r),"toggleSettings",(function(){r.setState({displayCookieSettings:!r.state.displayCookieSettings})})),U()(A()(r),"onCheckboxChange",(function(e){var t=fe()({},r.state.cookiesConsent);t[e]=!t[e],r.setState({cookiesConsent:t})})),U()(A()(r),"renderCheckboxes",(function(){var e,t=Le()(e=h()(Ze)).call(e,(function(e){return Fe()(e).call(e,"cookie")})),n=ce()(t).call(t,(function(e){var t=x.a.createElement(ze.Trans,{id:"cookies-types.".concat(e)}),n="cookieBasic"===e;return x.a.createElement(Ye.a,{checked:r.state.cookiesConsent[e],id:e,label:t,onChange:function(){return r.onCheckboxChange(e)},isDisabled:n})}));return x.a.createElement("div",{className:"cookies-message__checkboxes"},Qe,n)})),r.state={display:false,displayCookieSettings:false,cookiesConsent:{cookieBasic:true,cookiePerformance:false,cookieMarketing:false}},r}return E()(n,[{key:"componentDidMount",value:function(){var e=!(ge.a.get("bm_cookie_consent_given")||ge.a.get("bm_cookie_consent"));this.setState({display:e}),ge.a.get("bm_cookie_consent")||ge.a.set("bm_cookie_consent",fe()({},this.state.cookiesConsent))}},{key:"disabledAtCurrentPage",value:function(){var e=this.props,t=e.disabledAt,n=e.router.location.pathname;return null==t?void 0:Ke()(t).call(t,(function(e){return a()(n).call(n,e)}))}},{key:"render",value:function(){var e=this.state,t=e.display,n=e.displayCookieSettings;if(!t||this.disabledAtCurrentPage())return null;var r=x.a.createElement(qe.a,{className:"cookies-message__link",path:Ve.d.legal("#cookies")}),a=x.a.createElement("span",{onClick:this.toggleSettings,className:"cookies-message__link"}),o=n?"cookies-message.accept-all":"cookies-message.accept";return x.a.createElement("div",{className:"cookies-message",ref:"cookies_message"},x.a.createElement("img",{className:"cookies-message__image",src:"".concat("https://vanguardassets.bmstatic.com/assets/","/cookies/cookies.svg")}),x.a.createElement("div",{className:"cookies-message__text"},x.a.createElement(ze.Trans,{id:"cookies-message.text",components:[r,a]})),n&&this.renderCheckboxes(),x.a.createElement("div",{className:"cookies-message__buttons"},x.a.createElement("div",{className:"cookies-message__button cookies-message__button_primary",onClick:this.onAcceptAll},x.a.createElement(ze.Trans,{id:o})),n&&x.a.createElement("div",{className:"cookies-message__button cookies-message__button_secondary",onClick:this.onAcceptChosen},Je)))}}]),n}(x.a.Component);U()($e,"defaultProps",{disabledAt:[]});var et=Object(Ge.withRouter)($e),tt=n("4ex2"),nt=n("mhdu"),rt=n("9CiP"),at=n("2i0I"),ot=n("riko"),it=(n("JyEa"),"yandex"),ct=x.a.createElement(We.a,null),st=x.a.createElement("div",{className:"auth-provider__logo auth-provider__logo-yandex"}),ut=x.a.createElement(We.a,{size:40}),lt=x.a.createElement("div",{className:"auth-provider__image auth-provider__image-yandex"}),dt=x.a.createElement(We.a,{size:40}),pt=x.a.createElement("div",{className:"auth-provider__caption auth-provider__caption-yandex"},x.a.createElement(ze.Trans,{id:"auth.login_yandex_for_more"})),ft=x.a.createElement(We.a,{size:40}),ht=x.a.createElement(We.a,{size:48}),mt=x.a.createElement(ze.Trans,{id:"auth.login_with_".concat(it)}),vt=function(e){R()(n,e);var t=L()(n);function n(){var e,r;O()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,s()(e=[this]).call(e,o)),U()(A()(r),"yandexLogIn",(function(){var e=window.location.href,t=e.length,n=Ue()(e).call(e,0,t-"?yandexPopup=true".length);Object(rt.a)(it,{backUrl:n,YandexPopupHidden:true})})),r}return E()(n,[{key:"render",value:function(){return x.a.createElement("div",{className:"popup__yandex","data-test-id":"yandex-popup"},ct,st,ut,lt,dt,pt,ft,this.renderButton(),ht)}},{key:"renderButton",value:function(){return x.a.createElement(at.a,{className:"button_yandex-popup","data-test-id":"auth-button-".concat(it),kind:it,icon:ot.a,onClick:this.yandexLogIn},mt)}}]),n}(P.PureComponent),_t=Object(nt.a)(vt),gt=n("j6J1"),bt=n.n(gt),Ot=(n("1Zzt"),function(e){R()(n,e);var t=L()(n);function n(){return O()(this,n),t.apply(this,arguments)}return E()(n,[{key:"getMessage",value:function(e){switch(e){case"invalid CSRF token":return"alerts.invalid_session";default:return e}}},{key:"render",value:function(){var e=this.props.alert,t=e.kind,n=e.message,r=bt()(e),a=e.components;return x.a.createElement("div",{className:"alert alert_".concat(t)},x.a.createElement("div",{className:"alert__message"},x.a.createElement(ze.Trans,{id:this.getMessage(n),values:r,components:a})))}}]),n}(P.Component)),St=n("c2Z0"),Et=(n("/y9P"),"[data-tooltip]");function kt(e){return e/2}var yt=function(e){R()(n,e);var t=L()(n);function n(){var e,r;O()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=t.call.apply(t,s()(e=[this]).call(e,o)),U()(A()(r),"state",{hidden:true,content:"",target:null,position:{top:0,left:0},pointerPosition:{top:0,left:"50%"}}),U()(A()(r),"handleMouseOver",(function(e){var t=e.target;if(t instanceof Element&&(!t||t.nodeType===Node.ELEMENT_NODE)){var n=r.state.hidden,a=t.closest(Et);n&&a&&r.setState({target:a,content:a.getAttribute("title")||""},(function(){a.setAttribute("title","");var e=r.getPositions(a);e&&r.setState({hidden:false,position:e.tooltip,pointerPosition:e.pointer})}))}})),U()(A()(r),"handleMouseOut",(function(e){var t=e.target;if(t instanceof Element&&t&&"contains"in t){var n=r.state,a=n.target,o=n.content;n.hidden&&t!==a&&!t.contains(a)||(r.setState({hidden:true,target:null}),a&&a.setAttribute("title",o))}})),U()(A()(r),"handleResize",(function(){var e=r.state,t=e.target,n=e.content;e.hidden||(r.setState({hidden:true,target:null}),t&&t.setAttribute("title",n))})),r}return E()(n,[{key:"getPositions",value:function(e){var t=this.refs.tooltip;if(t&&e){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=window.pageYOffset+n.bottom,o=0;a+r.height+20>window.innerHeight+window.scrollY&&(a=window.pageYOffset+n.top-r.height-20,o=r.height);var i=window.pageXOffset+n.left-kt(r.width-n.width),c="50%";return i<8&&(i=window.pageXOffset+n.left+kt(n.width)-8,c=kt(n.width)-2),i+r.width>window.innerWidth&&(i=n.left-r.width+kt(n.width)+8,c=r.width-kt(n.width)+2),{tooltip:{top:a,left:i},pointer:{top:o,left:c}}}}},{key:"componentDidMount",value:function(){document.addEventListener("mouseover",this.handleMouseOver),document.addEventListener("mouseout",this.handleMouseOut),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseover",this.handleMouseOver),document.removeEventListener("mouseout",this.handleMouseOut),window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this.state,t=e.content,n=e.hidden,r=e.position,a=e.pointerPosition;return x.a.createElement("div",{className:"tooltip ".concat(n?"tooltip_hidden":""),style:r,ref:"tooltip"},x.a.createElement("div",{className:"tooltip__pointer",style:a,ref:"pointer"}),t)}}]),n}(P.Component),Ct=n("PDQI"),At=Object(M.connect)((function(e){return{banners:Object(re.b)(e)}}))(function(e){R()(n,e);var t=L()(n);function n(){return O()(this,n),t.apply(this,arguments)}return E()(n,[{key:"render",value:function(){var e,t=this.props.banners;return t=ce()(e=h()(t)).call(e,(function(e,t){var n=Ct.a[e].component;return x.a.createElement(n,{key:t})})),x.a.createElement("div",null,t)}}]),n}(P.Component)),wt=n("eixT"),Rt=n("dwco"),It=n.n(Rt),Lt=(n("mu5A"),["limited_info_fragment","limited_info_per_period","limited_info_my_books","limited_info_tariff"]),Tt=function(e){var t=e.maxCount;return x.a.createElement("div",{className:"limited-subscription__popup"},ce()(Lt).call(Lt,(function(e){return x.a.createElement("div",{className:"limited-subscription__popup-item",key:e},x.a.createElement(ze.Trans,{id:"subscription.".concat(e),values:{maxCount:t}}))})))},Ut=/^https?:\/\/(\w+\.)*bookmate\./;function Nt(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=D()(l.a.mark((function e(t){var n,r,o,i,c,s,u,d,f,h,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,o=t.location,i=r.dispatch,c="kcell_emails"===o.query.special||a()(n=o.pathname).call(n,"fivedaysreader"),e.next=5,i(Z.n(c));case 5:if(s=r.getState(),u=s.currentUser,d=s.app,f=d.signInToken,h=d.accessToken,!(!u.auth&&(f||h))){e.next=9;break}return e.next=9,i(Q.l());case 9:return m=[i(X.d(W.a.locales)),i(Object(re.c)()),i(X.b(u.data.locale)),i(X.b(W.a.fallbackLocale)),i(Object(ne.h)()),i(Object(J.g)())],u.auth&&(m.push(i(Z.p())),m.push(i(Object(ne.q)())),m.push(i(Z.f()))),e.next=13,p.a.all(m);case 13:i(Z.l());case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pt=Object(M.connect)((function(e){var t,n;return{app:e.app,auth:e.currentUser.auth,signInWithToken:null===(t=e.auth)||void 0===t?void 0:t.signInWithToken,locale:e.currentUser.data.locale,libraryLanguage:e.currentUser.data.library_lang,country:e.currentUser.data.country,analytics:e.analytics,alert:e.alert,popup:e.popup,fakePage:e.fakePage,limitedSubscription:null===(n=e.subscription.userAccessLevels)||void 0===n?void 0:n.content_limits}})),xt=x.a.createElement(We.a,{size:40}),Mt=x.a.createElement(wt.a,{color:"gray",kind:"big",centered:true}),jt=x.a.createElement(At,null),Bt=x.a.createElement(tt.a,null),Kt=x.a.createElement(_t,null),Ht=x.a.createElement(yt,null),Ft=function(e){R()(r,e);var t,n=L()(r);function r(e){var t;if(O()(this,r),t=n.call(this,e),U()(A()(t),"changeAppDeviceTimeout",null),U()(A()(t),"handleMessage",(function(e,n){var r,a,o=e.origin,i=e.data,c=t.props.dispatch;i.goto&&c(Object(j.push)(i.goto)),(n||Ut.test(o))&&((null==i||null===(r=i.mobileState)||void 0===r?void 0:r.fingerprint)&&c(Object(J.k)(i.mobileState.fingerprint)),(null==i||null===(a=i.mobileState)||void 0===a?void 0:a.yandexPopupHidden)&&c(Object(ee.d)()),(null==i?void 0:i.provider)&&(null==i?void 0:i.providerTokenData)&&c(Object(Q.d)(i)))})),U()(A()(t),"handleMediaQuery",(function(){var e=t.props,n=e.app,r=e.dispatch;clearTimeout(t.changeAppDeviceTimeout),t.changeAppDeviceTimeout=g()((function(){var e;v()(e=h()(W.a.styles.bp)).call(e,(function(e){var t=W.a.styles.bp[e];window.matchMedia(t).matches&&n.size!==e&&r(Object(J.i)(e))}))}),15)})),U()(A()(t),"hidePopup",(function(){t.props.dispatch(Object(ee.d)())})),U()(A()(t),"closeFakePage",(function(){(0,t.props.dispatch)(Object(te.b)())})),"undefined"==typeof window)return y()(t);var a=q()(e,"location.query.socialAuthPayload","");try{var o=JSON.parse(a);o.provider&&o.providerTokenData&&t.handleMessage({data:o},true)}catch(e){}return t.cleanQueryParams(),t}return E()(r,[{key:"componentDidMount",value:(t=D()(l.a.mark((function e(){var t,n,r,a,o,i,c,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.dispatch,r=t.auth,a=t.app,o=a.url,i=a.signInToken,c=a.accessToken,s=a.fingerprint,u=[n(Object(ne.l)()),n(Object(ae.i)())],p.a.all(u),Y.a.isClient()&&It.a.polyfill(),this.markFirstRender(),this.addMediaQueryListeners(),this.addMessageListeners(),this.flushAnalyticsEvents(),Object(we.e)(n),false||(Ae(o),l=void 0,(l=document.createElement("script")).type="text/javascript",l.text="!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?     n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;     n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;     t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,     document,'script','//connect.facebook.net/en_US/fbevents.js');     fbq('init', '".concat(W.a.facebookPixelId,"');     fbq('track', 'PageView');"),document.body.appendChild(l)),s){e.next=16;break}return e.next=15,le(n);case 15:s=this.props.app.fingerprint;case 16:!r&&s&&(i||c)&&n(Q.q(i,c));case 17:case"end":return e.stop()}var l}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){var t=e.location,n=e.auth,r=this.props,a=r.location,o=r.fakePage,i=r.auth,c=r.dispatch,s=r.app,u=s.signInToken,l=s.accessToken,d=s.url;i&&(u||l)&&c(Object(J.c)(d)),n!==i&&(c(Object(ne.l)()),c(Object(ae.i)())),t.pathname===a.pathname||o.hidden||this.closeFakePage()}},{key:"componentWillUnmount",value:function(){this.removeMediaQueryListeners(),this.removeMessageListeners()}},{key:"cleanQueryParams",value:function(){var e;if(!Y.a.isServer()){var t=this.props.dispatch,n=new K.a(window.location.href),r=F.a.stringify(G()(F.a.parse(n.query),["socialAuthPayload"]));n.set("query",r),t(Object(j.replace)(s()(e="".concat(n.pathname,"?")).call(e,F.a.stringify(n.query))))}}},{key:"markFirstRender",value:function(){(0,this.props.dispatch)(Object(J.h)())}},{key:"flushAnalyticsEvents",value:function(){var e=this.props,t=e.dispatch,n=e.analytics.events;n&&n.length&&v()(n).call(n,t),t(Object($.Q)())}},{key:"addMediaQueryListeners",value:function(){this.handleMediaQuery(),window.addEventListener("resize",this.handleMediaQuery)}},{key:"removeMediaQueryListeners",value:function(){clearTimeout(this.changeAppDeviceTimeout),window.removeEventListener("resize",this.handleMediaQuery)}},{key:"addMessageListeners",value:function(){window.addEventListener("message",this.handleMessage,false)}},{key:"removeMessageListeners",value:function(){window.removeEventListener("message",this.handleMessage,false)}},{key:"renderHead",value:function(){var e=this.props,t=e.app,n=t.protocol,r=t.host,a=e.location,o=a.pathname,i=a.query,c=e.locale,s=void 0===c?"":c;return x.a.createElement(xe,{title:"Bookmate",url:{protocol:n,host:r,pathname:o,query:i},lang:s,locale:Object(oe.a)(s),alternateLocale:Object(oe.a)("en"===s?"ru":"en"),gtagHelper:Ee,gtag:Se})}},{key:"getPopup",value:function(e,t){return x.a.createElement(Re.a,i()({onClose:this.hidePopup},t),e)}},{key:"renderAlert",value:function(){var e=this.props.alert;return x.a.createElement(Ot,{alert:e})}},{key:"renderFakePage",value:function(){var e=this.props.fakePage;return e.onClose||(e.onClose=this.closeFakePage),x.a.createElement(St.a,e)}},{key:"render",value:function(){var e,t=this.props,n=t.app,r=t.signInWithToken,a=t.children,o=t.alert,i=t.popup,c=t.locale,u=t.country,l=t.fakePage,d=t.limitedSubscription;return(null==r?void 0:r.loading)?x.a.createElement(x.a.Fragment,null,xt,Mt):x.a.createElement("div",{className:s()(e="locale-".concat(c," country-")).call(e,u)},x.a.createElement(et,{app:n,country:u,disabledAt:["specials/good_news","special-offers/black-friday"]}),jt,this.renderHead(),!o.hidden&&this.renderAlert(),!i.authHidden&&this.getPopup(Bt),!i.yandexHidden&&this.getPopup(Kt),d&&!i.limitedHidden&&this.getPopup(x.a.createElement(Tt,{maxCount:d.maximum}),{withoutCloseIcon:true,className:"limited-popup__overlay"}),!l.hidden&&this.renderFakePage(),Ht,a)}}]),r}(P.Component);t.a=Pt(Ft)},srPO:function(e,t,n){"use strict";t.a='<svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m20.414 7.5-10.414 10.414-6.414-6.414 1.414-1.414 5 5 9-9z" fill-rule="nonzero"/></svg>'},t9W9:function(e){e.exports=JSON.parse('{"bp":{"oneColumn":"screen and (max-width: 1023px)","desktopLarge":"screen and (min-width: 1600px)","desktopMedium":"screen and (min-width: 1296px) and (max-width: 1599px)","desktop":"screen and (min-width: 1024px) and (max-width: 1295px)","tablet":"screen and (min-width: 768px) and (max-width: 1023px)","mobile":"screen and (max-width: 767px)"}}')},u8yW:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return R})),n.d(t,"f",(function(){return I})),n.d(t,"i",(function(){return L})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return U})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return D})),n.d(t,"e",(function(){return x}));var r=n("Vi3r"),a=n.n(r),o=n("o+MX"),i=n.n(o),c=n("04Ix"),s=n.n(c),u=n("kT1S"),l=n.n(u),d=n("XiPH"),p=n("UIRo"),f=n("0A2V"),h=n("ZDpU"),m=n("iCat"),v=n("AOYn"),_="LOAD_SHOWCASE_ROOT_NAVIGATION",g="LOAD_SHOWCASE_ROOT_NAVIGATION_SUCCESS",b="SET_SHOWCASE_PARAMS",O="LOAD_SHOWCASE_NAVIGATION",S="LOAD_SHOWCASE_NAVIGATION_ERROR",E="LOAD_SHOWCASE_NAVIGATION_SUCCESS",k="LOAD_SHOWCASE_SECTIONS",y="LOAD_SHOWCASE_SECTIONS_ERROR",C="LOAD_SHOWCASE_SECTIONS_SUCCESS",A="CLEAN_SHOWCASE",w=1,R=10,I=Object(f.a)((function(e){var t=e||p.a.fallbackLocale;return s()({},h.a,{endpoint:"/p/api/v5/showcases/".concat(t,"/root_navigation"),modifyResponse:function(e){return l()(l()({},e),{},{language:t})},types:[_,g,"LOAD_SHOWCASE_ROOT_NAVIGATION_ERROR"]})}),g);function L(e,t){var n=t.slug,r=t.language,a=t.contentType;return{type:b,slug:n,language:r,contentType:a,currentSlug:e}}var T=Object(f.a)((function(e){var t,n=e.currentSlug;return t={},s()(t,h.a,{endpoint:function(e){var t,r,a=e.showcase.content[n],o=a.language,c=a.slug,s=a.contentType;return i()(t=i()(r="/p/api/v5/showcases/".concat(o,"/")).call(r,c,"/")).call(t,s,"/navigation")},types:[O,E,S]}),s()(t,"currentSlug",n),t}),E),U=Object(f.a)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.currentSlug,r=t.withHierarchy,a=t.data,o=void 0===a?{from:w,limit:R}:a;return e={},s()(e,h.a,{endpoint:function(e){var t,a,c=e.showcase.content[n],s=c.language,u=c.slug,d=c.contentType,p=o;r&&(p=l()(l()({},p),{},{"components[]":"hierarchy"}));var f=Object(v.b)(i()(t=i()(a="/p/api/v5/showcases/".concat(s,"/")).call(a,u,"/")).call(t,d,"/content"),p);return f},normalize:function(e){var t=e.meta,n=t.next_section_id,a=t.has_topics,i=e.showcase,c=i.sections,s=i.title,u=i.uuid,p=i.background,f=i.components,h=Object(d.normalize)(c,m.b),v=h.result,_=h.entities;return l()(l()({},o),{},{next_section_id:n,has_topics:a,title:s,uuid:u,background:p,hierarchy:r&&f?f.hierarchy:null,result:v,entities:_})},types:[k,C,y]}),s()(e,"currentSlug",n),e}),C);function N(e){return s()({},h.a,{endpoint:"/p/api/v5/banners/".concat(e),options:{method:"delete"},types:["SHOWCASE_BANNER_CLOSE","SHOWCASE_BANNER_CLOSE_SUCCESS"]})}var D=function(){return{type:A}},P={rootNavigation:{language:p.a.fallbackLocale,items:[],loading:false},content:{}};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return P;case _:return l()(l()({},e),{},{rootNavigation:l()(l()({},e.rootNavigation),{},{loading:true})});case g:return l()(l()({},e),{},{rootNavigation:{language:t.language,items:t.navigation.positions,loading:false}});case b:var n=e.content[t.currentSlug];return n&&n.language===t.language?e:l()(l()({},e),{},{content:l()(l()({},e.content),{},s()({},t.currentSlug,{language:t.language,contentType:t.contentType,slug:t.slug,limit:R,loadSectionsFrom:w,sections:{items:[],loading:false},navigation:{items:[],loading:false}}))});case O:var r=e.content[t.currentSlug];return l()(l()({},e),{},{content:l()(l()({},e.content),{},s()({},t.currentSlug,l()(l()({},r),{},{navigation:l()(l()({},r.navigation),{},{loading:true})})))});case E:var o=e.content[t.currentSlug];return l()(l()({},e),{},{content:l()(l()({},e.content),{},s()({},t.currentSlug,l()(l()({},o),{},{navigation:{items:t.navigation.positions,loading:false}})))});case S:var c=e.content[t.currentSlug];return l()(l()({},e),{},{content:l()(l()({},e.content),{},s()({},t.currentSlug,l()(l()({},c),{},{navigation:{items:[],loading:false}})))});case k:var u=e.content[t.currentSlug];return l()(l()({},e),{},{content:l()(l()({},e.content),{},s()({},t.currentSlug,l()(l()({},u),{},{sections:l()(l()({},u.sections),{},{loading:true})})))});case C:var d,p=e.content[t.currentSlug];return l()(l()({},e),{},{content:l()(l()({},e.content),{},s()({},t.currentSlug,l()(l()({},p),{},{background:t.background,title:t.title,hasTopics:t.has_topics,uuid:t.uuid,sections:{items:t.from>1?i()(d=[]).call(d,a()(p.sections.items),a()(t.result)):t.result,loading:false},hierarchy:t.hierarchy,loadSectionsFrom:t.next_section_id,limit:t.limit})))});case y:var f=e.content[t.currentSlug];return l()(l()({},e),{},{content:l()(l()({},e.content),{},s()({},t.currentSlug,l()(l()({},f),{},{sections:{items:[],loading:false}})))});default:return e}}},umHO:function(e,t,n){},uxLo:function(e,t,n){"use strict";n.r(t);var r=n("06Pm"),a=n.n(r),o=n("kA7L"),i=n.n(o),c=n("X5/F"),s=n.n(c),u=n("K82H"),l=n.n(u),d=n("q1tI"),p=n.n(d),f=n("/MKj"),h=n("ZD0w"),m=n("Rfcb"),v=n.n(m),_=n("KShq"),g=n("iV31"),b=n("o+MX"),O=n.n(b),S=n("mnMc"),E=n.n(S),k=n("AOYn"),y=n("YUtL"),C=n("+Jaz"),A=n("va4D"),w=n.n(A),R=(n("PQlw"),p.a.createElement("div",{className:"error-cartoon"},p.a.createElement(w.a,{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="165.72" height="180.21" viewBox="0 0 165.72 180.21">\n  <path d="M143.91,491.19a17.87,17.87,0,0,1,1.17-4.71c6.37-15.74,23.41-18.38,38.36-15.81,18.76,3.24,35.35,9.05,54.65,5.93,18.93-3.05,43-13.3,60.74-1.52,8.58,5.68,13.57,17.58,8.95,26.79-2.36,4.69-6.8,8.07-11.59,10.24-12.17,5.5-26.37,3.85-39.26.35s-25.4-8.75-38.67-10.25c-18.26-2.06-36.49,3.12-54.82,4.42-5.24.38-11,.28-15.07-3C144.78,500.68,143.42,495.85,143.91,491.19Z" transform="translate(-143.82 -343.74)" fill="#5887e0"/>\n  <path d="M198.17,374.32l-3.3,20.6.13,0c1.15-1.52,2.3-3,3.44-4.55l6.3-8.42c.72-1,1.41-2,2.16-2.9a1,1,0,0,1,.78-.37.7.7,0,0,1,.47,1c-.56,1.66-1.05,3.35-1.62,5-1.42,4.07-2.87,8.12-4.28,12.19-.38,1.09-.65,2.2-1,3.43.75-.19,1.42-.34,2.08-.53q7.11-1.95,14.23-3.93c1.71-.47,3.42-1,5.14-1.43a3.76,3.76,0,0,1,2.37-.15,23.37,23.37,0,0,0,2.63.62l0,.21-21.66,13.24,3.55.68,6.91,1.34c2.56.5,5.12,1,7.68,1.46s5.17,1,7.76,1.48c1.05.18,1.32,1,1.78,1.89-9.3,2.62-10.73,25.62-9.27,27.05.47.45.49.81,0,1.23l-.1.12c-1.5,1.63-1.51,1.66-3.58.88-3-1.13-5.9-2.3-8.85-3.46q-3.39-1.35-6.77-2.73c-.76-.31-1.51-.66-2.42-1.05,0,1.53,0,2.88.07,4.23.11,5.11.23,10.21.33,15.31a.73.73,0,0,1-.16.5c-1.31,1.41-2.64,2.82-4.08,4.36-3.06-7.4-6-14.66-9.11-22.08-1.43,1.59-2.74,3-4,4.49l-12,13.41c-1.38,1.54-2.79,3-4.12,4.64-.57.68-1,.14-1.54,0s-.36-.6-.3-.9c.36-1.78.77-3.56,1.16-5.35s.77-3.56,1.16-5.35l1.17-5.5c.35-1.63.68-3.26,1.06-5-.63.22-1.14.37-1.63.57-3,1.24-5.93,2.51-8.9,3.75q-5.94,2.48-11.9,4.93c-1,.4-1.09-.63-1.71-1l16.3-16-4.36-.84-8.69-1.6-6.16-1.1c-.51-.09-1-.07-1-.86s.33-1,1-1.07c5.69-.94,11.37-1.92,17.18-2.91a4.75,4.75,0,0,0-.34-.65q-4.33-5.69-8.69-11.36c-2.29-3-4.58-6-6.89-9a1,1,0,0,1,0-1.49,1.41,1.41,0,0,1,.28,0l6,1.93q4.56,1.45,9.13,2.88c1.15.36,2.31.67,3.57,1-.09-.21-.15-.41-.23-.6-1.49-3.22-3-6.43-4.47-9.64-1.85-4-3.67-8-5.5-12-.59-1.29-1.15-2.59-1.74-3.88-.18-.39-.34-.73.15-1s.79-.58,1.31,0c1.38,1.43,2.83,2.8,4.23,4.21l10.1,10.15,2.84,2.84c.2.2.42.36.74.62l.77-4.88q1.08-6.72,2.15-13.44c.19-1.21.39-2.42.54-3.64a2.27,2.27,0,0,1,1-1.75c1.13-.74,2.21-1.55,3.28-2.31,1.54,7.94,3.06,15.83,4.61,23.84.18-.17.28-.22.31-.3.88-2.13,1.73-4.27,2.62-6.39,1.22-2.89,2.47-5.76,3.7-8.64.51-1.21,1-2.43,1.47-3.64.29-.7.57-1.41.92-2.08a.87.87,0,0,1,.62-.31c1-.08,2-.12,3-.17Z" transform="translate(-143.82 -343.74)" fill="#d5e5df"/>\n  <g id="EF7MwZ.tif">\n    <path d="M282.13,363c-3.11-.88-6.2-1.81-9.3-2.73-.21-.06-.4-.17-.81-.34l7.67-6.89L278,350.46l-8.18,6.6c0-2.77,0-5.56,0-8.34a3.89,3.89,0,0,0-.07-1.17c-1.25,0-2.5,0-3.75,0a1.48,1.48,0,0,0,0,.21c0,3,0,6,0,9v1c-4.14-1.75-8.09-3.68-12.44-4.66-.3,1.7-.64,3.41-1,5.1a31.14,31.14,0,0,1,4.86,1.08c2.28.85,4.44,2,6.65,3.08.17.08.31.18.51.3L256,371.87l2.42,2.11,7.31-7.92.27.17v11l3.28.22v-13c3.9,1.87,8,1.95,12,2.79.25-1.41.54-2.82.84-4.22Z" transform="translate(-143.82 -343.74)" fill="#cca40a"/>\n    <path d="M302.33,459.8c.55,1.38,1.06,2.63,1.5,3.9a1,1,0,0,1-.21.85c-4.26,4.87-8.66,9.63-12.79,14.6-5.91,7.11-10.86,14.79-14,23.62-1.74,4.93-3.82,9.74-5.24,14.78-.53,1.89-.91,3.83-1.35,5.75l-.16.65c-2.31-1.49-4.58-2.94-6.82-4.43a.91.91,0,0,1-.25-.77,93.69,93.69,0,0,1,7-20.3,96,96,0,0,1,15.4-21.77c5.12-5.67,10.53-11,16.15-16.2C301.77,460.27,302,460.08,302.33,459.8Z" transform="translate(-143.82 -343.74)" fill="#fb7b07"/>\n  </g>\n  <path d="M274.48,515.61a.3.3,0,0,0,0-.16c1.69,0,3.38,0,5.06,0a1.67,1.67,0,0,1,.52.17Z" transform="translate(-143.82 -343.74)" fill="#abc2ef"/><path d="M214.69,364.5a.62.62,0,0,1-.61-.6L214,352.25l-5.87,4.31a.59.59,0,0,1-.65,0,.61.61,0,0,1-.31-.56l.7-11.73a.6.6,0,1,1,1.2.07l-.62,10.45,5.79-4.25a.58.58,0,0,1,.62-.05.6.6,0,0,1,.34.53l.12,12.83a.61.61,0,0,1-.6.61Z" transform="translate(-143.82 -343.74)"/>\n  <path class="error_cartoon__arms-fill" transform="translate(-143.82 -342)" fill="#fff" d="M270,434.81a21.79,21.79,0,0,0-4.48-2.77c-1-.49-2-1-2.89-1.58a26.46,26.46,0,0,1-7.07-6.87,61.21,61.21,0,0,1-5.83-10.71c-1-2.13-2-4.33-3.12-6.39a23.92,23.92,0,0,0-22.53-13.67c-7.84.14-13.75,6.3-13.75,6.3a27.7,27.7,0,0,0-5.12,7.09l-.15.27c-1.14,2.07-2.15,4.27-3.12,6.39a62,62,0,0,1-5.83,10.72,26.43,26.43,0,0,1-7.08,6.86c-.91.58-1.92,1.09-2.88,1.59a22,22,0,0,0-4.49,2.76c-1.18,1-3.1,3.47-1.91,5.31a2.24,2.24,0,0,0,1.49,1.08c1.83.36,4.39-1.42,5.77-2.37a.6.6,0,0,1,.71,0,.63.63,0,0,1,.21.68,24.91,24.91,0,0,0-.88,12,5.14,5.14,0,0,0,1.77,3.49,2.49,2.49,0,0,0,1.58.45,25.76,25.76,0,0,1,.93-11.56.61.61,0,0,1,1.15.39,25,25,0,0,0-.75,12c.34,2.17,1,3.51,1.94,4a3.11,3.11,0,0,0,2.7-.3c-1.49-4.67-.16-12.75.49-14.57a.61.61,0,1,1,1.14.41c-.77,2.12-2.2,12.54.41,15.55a2.1,2.1,0,0,0,2.2.69c2.11-.43,2.34-2.92,2.41-5.89,0-.5,0-1,.06-1.38,1.27-17.54,11.4-46.53,11.83-47.75a.57.57,0,0,1,.58-.41h20.6v0a.53.53,0,0,1,.22,0c.32.12.32.12,2,5.29.93,2.8,2.34,7.19,3.79,12.19,2.57,8.85,5.78,21.35,6.46,30.66,0,.41,0,.87,0,1.37.07,3,.3,5.47,2.41,5.9a2.11,2.11,0,0,0,2.21-.69c2.6-3,1.18-13.43.41-15.56a.6.6,0,1,1,1.13-.41c.66,1.82,2,9.91.5,14.57a3.07,3.07,0,0,0,2.7.3c.94-.47,1.59-1.82,1.94-4a25,25,0,0,0-.75-12,.6.6,0,1,1,1.14-.39,25.62,25.62,0,0,1,.93,11.56,2.56,2.56,0,0,0,1.59-.45,5.18,5.18,0,0,0,1.77-3.49,25.07,25.07,0,0,0-.88-12.05.6.6,0,0,1,.92-.69c1.37,1,3.93,2.73,5.77,2.37a2.28,2.28,0,0,0,1.49-1.07C273.13,438.27,271.21,435.84,270,434.81Z"/>\n  <path d="M207.5,365a.61.61,0,0,1-.42-.16l-10.93-10.42a.6.6,0,1,1,.83-.87L207.91,364a.61.61,0,0,1,0,.86A.6.6,0,0,1,207.5,365Z" transform="translate(-143.82 -343.74)"/>\n  <path d="M203.13,367a.55.55,0,0,1-.28-.07l-9.56-4.82a.6.6,0,1,1,.54-1.08l9.57,4.83a.6.6,0,0,1-.27,1.14Z" transform="translate(-143.82 -343.74)"/>\n  <path class="error-cartoon__right-eyebrow" d="M232.81,373.49a.6.6,0,0,1-.52-.3,3,3,0,0,0-2.13-1.18,3.34,3.34,0,0,0-2.73.7.59.59,0,0,1-.85,0,.6.6,0,0,1,0-.85,4.52,4.52,0,0,1,3.73-1,4.11,4.11,0,0,1,3,1.76.6.6,0,0,1-.21.82A.59.59,0,0,1,232.81,373.49Z" transform="translate(-143.82 -343.74)"/>\n  <path class="error-cartoon__left-eyebrow" d="M218.11,373.66a.62.62,0,0,1-.32-.09.61.61,0,0,1-.2-.83,4.54,4.54,0,0,1,3.32-2,4.11,4.11,0,0,1,3.36.9.6.6,0,0,1,0,.85.61.61,0,0,1-.86,0,2.91,2.91,0,0,0-2.37-.57,3.33,3.33,0,0,0-2.44,1.41A.61.61,0,0,1,218.11,373.66Z" transform="translate(-143.82 -343.74)"/>\n  <path d="M-16.26,397.31" transform="translate(-143.82 -343.74)"/>\n  <path class="error-cartoon__arms-outline" transform="translate(-143.82 -342)" d="M270.81,433.9a22.56,22.56,0,0,0-4.73-2.93c-1-.51-1.92-1-2.79-1.53a25.42,25.42,0,0,1-6.75-6.56,60.33,60.33,0,0,1-5.7-10.51c-1-2.14-2-4.36-3.16-6.46,0,0-6.9-14.91-23.61-14.09,0,0-8.72.21-14.57,6.43a29.15,29.15,0,0,0-5.34,7.38l-.15.27c-1.15,2.11-2.17,4.32-3.16,6.47a60.75,60.75,0,0,1-5.71,10.51,25.2,25.2,0,0,1-6.74,6.55c-.87.55-1.81,1-2.79,1.54a22.68,22.68,0,0,0-4.73,2.92c-2.1,1.83-3.57,4.66-2.13,6.88a3.42,3.42,0,0,0,2.27,1.6c1.75.35,3.72-.63,5.28-1.62a26.69,26.69,0,0,0-.43,11,6.27,6.27,0,0,0,2.26,4.29,3.72,3.72,0,0,0,2.17.68l.28,0c.42,2.51,1.25,4.06,2.55,4.71a3.06,3.06,0,0,0,1.44.34,5.43,5.43,0,0,0,2.26-.59,5.32,5.32,0,0,0,.67,1.06,3.23,3.23,0,0,0,2.53,1.17,4,4,0,0,0,.83-.09c3.23-.65,3.32-4.5,3.38-7,0-.48,0-.93,0-1.32,1.25-17.12,11-45.33,11.73-47.35h19.55c.7,2,10.57,30.14,11.82,47.36,0,.39,0,.83.05,1.31.07,2.55.16,6.39,3.38,7.05a4.14,4.14,0,0,0,.84.09,3.24,3.24,0,0,0,2.52-1.17,4.9,4.9,0,0,0,.67-1.06,5.48,5.48,0,0,0,2.26.58,3.17,3.17,0,0,0,1.44-.33c1.3-.66,2.13-2.2,2.56-4.72l.28,0a3.68,3.68,0,0,0,2.16-.67,6.35,6.35,0,0,0,2.27-4.3,26.7,26.7,0,0,0-.44-11c1.57,1,3.54,2,5.29,1.63a3.49,3.49,0,0,0,2.27-1.61C274.37,438.56,272.9,435.72,270.81,433.9Zm1.11,6.22a2.24,2.24,0,0,1-1.48,1.07c-1.84.36-4.4-1.41-5.78-2.37a.6.6,0,0,0-.7,0,.61.61,0,0,0-.21.68,25.07,25.07,0,0,1,.88,12.05,5.18,5.18,0,0,1-1.77,3.49,2.56,2.56,0,0,1-1.59.45,25.62,25.62,0,0,0-.93-11.56.6.6,0,1,0-1.14.39,25.09,25.09,0,0,1,.75,12c-.35,2.17-1,3.52-1.94,4a3.09,3.09,0,0,1-2.71-.3c1.5-4.66.17-12.75-.49-14.57a.6.6,0,1,0-1.13.41c.77,2.13,2.19,12.54-.41,15.56a2.11,2.11,0,0,1-2.21.69c-2.11-.43-2.34-2.93-2.41-5.9,0-.5,0-1-.05-1.37-.68-9.31-3.89-21.81-6.46-30.66-1.46-5-2.86-9.39-3.79-12.19-1.71-5.17-1.71-5.17-2-5.29a.55.55,0,0,0-.22,0v0H215.5a.62.62,0,0,0-.27.05.65.65,0,0,0-.31.36c-.43,1.22-10.56,30.21-11.83,47.75,0,.41,0,.88-.06,1.38-.07,3-.3,5.46-2.41,5.89a2.1,2.1,0,0,1-2.2-.69c-2.61-3-1.18-13.43-.41-15.55a.61.61,0,1,0-1.14-.41c-.66,1.82-2,9.9-.49,14.57a3.11,3.11,0,0,1-2.7.3c-1-.48-1.6-1.82-1.94-4a25,25,0,0,1,.75-12,.61.61,0,0,0-1.15-.39,25.76,25.76,0,0,0-.93,11.56,2.49,2.49,0,0,1-1.58-.45,5.1,5.1,0,0,1-1.77-3.49,25,25,0,0,1,.87-12,.61.61,0,0,0-.2-.68.6.6,0,0,0-.71,0c-1.38.95-3.94,2.73-5.77,2.37a2.24,2.24,0,0,1-1.49-1.08c-1.19-1.84.73-4.28,1.91-5.31a22,22,0,0,1,4.49-2.76c1-.5,2-1,2.88-1.59a26.43,26.43,0,0,0,7.08-6.86,61.25,61.25,0,0,0,5.82-10.72c1-2.12,2-4.32,3.13-6.39l.15-.27a27.7,27.7,0,0,1,5.12-7.09s5.91-6.16,13.75-6.3a23.92,23.92,0,0,1,22.53,13.67c1.13,2.06,2.14,4.26,3.12,6.39a60.56,60.56,0,0,0,5.83,10.71,26.46,26.46,0,0,0,7.07,6.87c.92.58,1.92,1.09,2.89,1.58a21.79,21.79,0,0,1,4.48,2.77C271.2,435.84,273.12,438.27,271.92,440.12Z"/>\n  <path d="M204.39,474.4a41.36,41.36,0,0,0-5.52,2.63c-4.67,2.88-6.74,5.85-6.33,9.08.37,2.94,3,4.43,7.65,4.43h19.42V463.31h-3.48C215.92,469.54,209.81,472.12,204.39,474.4Z" transform="translate(-143.82 -343.74)" fill="#fff"/>\n  <polygon points="72.33 118.37 75.79 118.37 75.79 89.99 72.19 89.99 72.33 118.37" fill="#fff"/>\n  <path d="M235.61,378.8a8,8,0,0,0-6.36-2.76c-3.38,0-7.32,1.58-11,4.66a18.59,18.59,0,0,0-6.26,9,8.38,8.38,0,0,0,1.38,7.71c3.62,4.3,10.91,3.5,17.34-1.9S239.22,383.11,235.61,378.8Z" transform="translate(-143.82 -343.74)" fill="#fff"/>\n  <path d="M252.55,477.19a40.74,40.74,0,0,0-5.48-2.62c-5.46-2.3-11.64-4.91-11.62-11.26H220.81v27.23h29.08c3.16,0,8.52-.56,9-4.27C259.29,483,257.22,480.07,252.55,477.19Z" transform="translate(-143.82 -343.74)" fill="#fff"/>\n  <polygon points="91.6 63.76 81.89 56.62 72.19 63.76 72.19 88.79 91.6 88.79 91.6 63.76" fill="#fff"/>\n  <polygon points="76.99 118.37 91.63 118.37 91.6 89.99 76.99 89.99 76.99 118.37" fill="#fff"/>\n  <path d="M253.22,476.15a43.23,43.23,0,0,0-5.65-2.69c-5.38-2.27-10.94-4.62-10.89-10.22v-.54h0l0-29.57h0V407.18a.61.61,0,0,0-.25-.49l-9.63-7.08a24.79,24.79,0,0,0,4.77-3.14c7-5.85,9.08-13.61,5-18.45s-12.07-4.11-19,1.74a19.77,19.77,0,0,0-6.64,9.66,9.49,9.49,0,0,0,1.62,8.79,9.17,9.17,0,0,0,7.27,3.19,14.1,14.1,0,0,0,3-.34l-7.66,5.63a.61.61,0,0,0-.25.49v25.94h0l.13,29.95c0,5.59-5.63,7.94-11,10.21a41.23,41.23,0,0,0-5.68,2.71c-5,3.1-7.36,6.56-6.89,10.25s3.51,5.48,8.84,5.48h49.7c3.55,0,9.6-.69,10.18-5.32C260.58,482.72,258.26,479.26,253.22,476.15Zm-39.79-78.71a8.36,8.36,0,0,1-1.38-7.71,18.5,18.5,0,0,1,6.25-9c3.67-3.08,7.6-4.66,11-4.66a8,8,0,0,1,6.35,2.76c3.62,4.31,1.57,11.35-4.87,16.75S217,401.74,213.43,397.44Zm22,64.66H220.85V433.72h14.6Zm-15.83,28.43H200.23c-4.71,0-7.28-1.49-7.65-4.43-.41-3.23,1.66-6.2,6.33-9.08a41.36,41.36,0,0,1,5.52-2.63c5.41-2.28,11.53-4.86,11.74-11.09h3.48Zm0-28.43h-3.47l-.13-28.38h3.6Zm-3.6-29.59v-25l9.7-7.13,9.7,7.13v25Zm42.87,53.75c-.47,3.71-5.84,4.27-9,4.27H220.85V463.3h14.64c0,6.35,6.15,9,11.61,11.26a42.15,42.15,0,0,1,5.49,2.62C257.26,480.06,259.33,483,258.92,486.26Z" transform="translate(-143.82 -343.74)"/>\n  <circle cx="84.86" cy="38.29" r="1.3"/>\n  <circle cx="77.06" cy="38.62" r="1.3"/>\n  <path d="M223.78,394.72h-.38a.62.62,0,0,1-.56-.65.61.61,0,0,1,.64-.56c.73.05,2.75-.05,3.38-1.09a.59.59,0,0,1,.82-.21.61.61,0,0,1,.21.83C227,394.56,224.68,394.72,223.78,394.72Z" transform="translate(-143.82 -343.74)"/>\n  <path d="M222.92,391.37a6.21,6.21,0,0,1-1.29-.13A2.24,2.24,0,0,1,220,390a2.29,2.29,0,0,1,.19-2.05,10.34,10.34,0,0,1,1.3-1.72,30.93,30.93,0,0,1,3.16-3.06.61.61,0,0,1,.85.07.59.59,0,0,1-.07.85,30.69,30.69,0,0,0-3,2.94,9.06,9.06,0,0,0-1.15,1.52,1.09,1.09,0,0,0-.13,1,1,1,0,0,0,.78.54,9.1,9.1,0,0,0,3.78-.3l.61-.15a.61.61,0,0,1,.73.45.61.61,0,0,1-.44.73l-.63.15A14.28,14.28,0,0,1,222.92,391.37Z" transform="translate(-143.82 -343.74)"/>\n</svg>\n',className:"error-cartoon__image"})));var I=function(){return R},L=n("lIV8"),T=n("2i0I"),U=(n("k0TX"),[403,404,500]),N=p.a.createElement(y.a,{size:56}),D=p.a.createElement(I,null),P=p.a.createElement(y.a,{size:24}),x=p.a.createElement(y.a,{size:16}),M=p.a.createElement(y.a,{size:24}),j=p.a.createElement(y.a,{size:"bottom-page"}),B=p.a.createElement(h.Trans,{id:"buttons.explore_library"}),K=function(e){s()(n,e);var t=l()(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getStatus",value:function(){var e=this.props.status;return E()(U).call(U,e)?e:500}},{key:"render",value:function(){var e=this.props.domain,t=this.getStatus();return p.a.createElement("div",{className:"status-error"},p.a.createElement(L.a,null,N,D,P,p.a.createElement(C.a,null,p.a.createElement(h.Trans,{id:"errors.".concat(t,"_header")})),x,p.a.createElement(h.Trans,{id:"errors.".concat(t,"_text")}),M,this.renderButtonToLibrary(t,e),j))}},{key:"renderButtonToLibrary",value:function(e,t){if(404===e||403===e){var n,r=O()(n="".concat(k.d.absoluteRoot(t))).call(n,k.d.library());return p.a.createElement(T.a,{path:r,kind:"inline"},B)}}}]),n}(d.Component),H=p.a.createElement(_.a,{onlyLogo:true}),F=function(e){s()(n,e);var t=l()(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getResponseStatus",value:function(){var e=this.props.resStatus;return this.props.route.status||e}},{key:"render",value:function(){var e=this.props.domain,t=this.getResponseStatus();return p.a.createElement(d.Fragment,null,this.renderTitle(t),H,p.a.createElement(K,{status:t,domain:e}))}},{key:"renderTitle",value:function(e){var t=this.props.i18n;return 404===e&&p.a.createElement(g.a,null,t._("errors.404_title"))}}]),n}(d.Component),z=v()(Object(f.connect)((function(e){return{resStatus:e.app.resStatus,domain:e.app.domain}})),Object(h.withI18n)({update:true}));t.default=z(F)},uxpH:function(e,t,n){},vFd1:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("sMBO");var r=n("EcSs"),a=n.n(r),o=n("06Pm"),i=n.n(o),c=n("kA7L"),s=n.n(c),u=n("X5/F"),l=n.n(u),d=n("K82H"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("va4D"),v=n.n(m),_=(n("zB/E"),n("srPO")),g=h.a.createElement("span",{className:"checkbox__box"},h.a.createElement("span",{className:"checkbox__checkmark"},h.a.createElement(v.a,{svg:_.a}))),b=function(e){l()(n,e);var t=p()(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return h.a.createElement("div",{className:"checkbox"},h.a.createElement("input",a()({type:"checkbox",name:this.props.name,id:this.props.id,checked:this.props.checked,value:this.props.value||this.props.checked,onChange:this.props.onChange,disabled:this.props.isDisabled},this.props)),h.a.createElement("label",{htmlFor:this.props.id},g,h.a.createElement("span",{className:"checkbox__label"},this.props.label)))}}]),n}(f.Component)},vYpU:function(e,t,n){},vf0a:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("mnMc"),a=n.n(r),o=["at","be","bg","hr","cy","cz","dk","ee","fl","fr","de","gr","hu","ie","it","lv","lt","lu","mt","nl","pl","pt","ro","sk","sl","es","se","gb"],i=["br","mx","gt","co","py","hn","ni","sv","bo","pe","ar","ve","cl","ec","pa","uy"];function c(e){return a()(o).call(o,e)}function s(e){return a()(i).call(i,e)}},vu0S:function(e,t,n){"use strict";t.a='<svg height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m20.5 6.657c-.625.281-1.298.471-2.004.556.721-.438 1.273-1.129 1.534-1.955-.674.405-1.421.699-2.214.857-.636-.686-1.543-1.115-2.546-1.115-1.926 0-3.488 1.583-3.488 3.534 0 .277.031.547.091.806-2.899-.148-5.47-1.554-7.189-3.694-.301.522-.473 1.13-.473 1.778 0 1.226.616 2.308 1.551 2.941-.57-.018-1.109-.177-1.579-.442v.045c0 1.712 1.202 3.141 2.798 3.466-.293.08-.602.123-.919.123-.226 0-.443-.021-.655-.062.443 1.404 1.73 2.426 3.258 2.455-1.194.947-2.698 1.512-4.332 1.512-.281 0-.56-.016-.832-.049 1.542 1.002 3.376 1.587 5.345 1.587 6.416 0 9.924-5.385 9.924-10.056 0-.153-.004-.306-.01-.457.681-.499 1.273-1.121 1.74-1.83z" fill="#5bd4f3"/></svg>'},vwQR:function(e,t,n){"use strict";var r=n("06Pm"),a=n.n(r),o=n("kA7L"),i=n.n(o),c=n("X5/F"),s=n.n(c),u=n("K82H"),l=n.n(u),d=n("04Ix"),p=n.n(d),f=n("q1tI"),h=n.n(f),m=n("va4D"),v=n.n(m),_=(n("oYY5"),n("PpkX")),g=function(e){s()(n,e);var t=l()(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getIcon",value:function(){switch(this.props.kind){case"fullWhite":return'<svg width="138" height="22" viewBox="0 0 138 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M117.659 17.5415V10.7093H115.33V10.4161L120.262 5.45581H120.539V8.53495H123.277V10.7093H120.539V17.2807C120.539 18.3794 121.063 18.8826 121.968 18.8826C122.541 18.8826 122.968 18.8111 123.374 18.6426V20.9369C122.922 21.1031 122.303 21.2485 121.421 21.2485C118.945 21.2462 117.659 19.9075 117.659 17.5415Z" fill="white"/>\n<path d="M25.2455 3.9624H31.3253C34.8176 3.9624 36.8834 5.29654 36.8834 8.39645V8.49109C36.8834 10.183 36.124 11.5194 34.199 12.115C36.5026 12.6158 37.5967 13.8784 37.5967 16.1428V16.2374C37.5967 19.4089 35.5054 21.0061 31.7777 21.0061H25.2455V3.9624ZM30.9444 11.1386C33.0357 11.1386 33.8435 10.3746 33.8435 8.6342V8.53956C33.8435 6.91921 32.9179 6.22675 30.8983 6.22675H28.3315V11.1386H30.9444ZM31.3968 18.7441C33.5111 18.7441 34.4852 17.7908 34.4852 16.0274V15.9327C34.4852 14.1693 33.5111 13.2852 31.1822 13.2852H28.3315V18.7441H31.3968Z" fill="white"/>\n<path d="M39.4963 14.9055V14.7139C39.4963 10.8523 42.2292 8.27637 45.8854 8.27637C49.5208 8.27637 52.2514 10.8269 52.2514 14.6424V14.834C52.2514 18.721 49.5208 21.2461 45.8623 21.2461C42.2039 21.2461 39.4963 18.6956 39.4963 14.9055ZM49.3062 14.857V14.6909C49.3062 12.1149 48.0228 10.543 45.8854 10.543C43.748 10.543 42.4416 12.0918 42.4416 14.6678V14.8594C42.4416 17.4099 43.6996 19.0072 45.8854 19.0072C48.0228 19.0049 49.3062 17.4076 49.3062 14.857Z" fill="white"/>\n<path d="M54.0357 14.9055V14.7139C54.0357 10.8523 56.7686 8.27637 60.4248 8.27637C64.0602 8.27637 66.7908 10.8269 66.7908 14.6424V14.834C66.7908 18.721 64.0602 21.2461 60.4017 21.2461C56.7432 21.2461 54.0357 18.6956 54.0357 14.9055ZM63.8455 14.857V14.6909C63.8455 12.1149 62.5622 10.543 60.4248 10.543C58.2874 10.543 56.981 12.0918 56.981 14.6678V14.8594C56.981 17.4099 58.2389 19.0072 60.4248 19.0072C62.5622 19.0049 63.8455 17.4076 63.8455 14.857Z" fill="white"/>\n<path d="M69.3783 2.77124H72.2543V14.0237L76.6953 8.53943H79.8298L75.008 14.2615L80.2361 21.0083H76.9099L72.2543 14.8824V21.0083H69.3783V2.77124Z" fill="white"/>\n<path d="M82.2049 8.5395H85.0786V10.4461C85.6718 9.27813 87.0267 8.27637 88.8548 8.27637C90.4706 8.27637 91.7539 8.96652 92.3702 10.5176C93.3212 8.96883 95.0316 8.27637 96.5757 8.27637C98.8562 8.27637 100.71 9.68206 100.71 13.1167V21.0084H97.836V13.3082C97.836 11.4732 97.0512 10.6861 95.6271 10.6861C94.2006 10.6861 92.8942 11.6394 92.8942 13.546V21.0084H90.0205V13.3082C90.0205 11.4732 89.2126 10.6861 87.8115 10.6861C86.3874 10.6861 85.0809 11.6394 85.0809 13.546V21.0084H82.2072V8.5395H82.2049Z" fill="white"/>\n<path d="M103.108 17.5507C103.108 14.6424 105.91 13.5945 109.474 13.5945H111.018V12.9505C111.018 11.2816 110.448 10.4461 108.761 10.4461C107.265 10.4461 106.529 11.1616 106.386 12.4011H103.607C103.844 9.49279 106.148 8.27637 108.927 8.27637C111.706 8.27637 113.892 9.42123 113.892 12.8304V21.0084H111.064V19.4827C110.256 20.556 109.165 21.2461 107.265 21.2461C104.985 21.2461 103.108 20.1498 103.108 17.5507ZM111.016 16.6459V15.4064H109.543C107.357 15.4064 105.956 15.9073 105.956 17.433C105.956 18.4809 106.526 19.1734 107.951 19.1734C109.712 19.1734 111.016 18.2432 111.016 16.6459Z" fill="white"/>\n<path d="M125.126 14.9055V14.7139C125.126 10.8523 127.762 8.27637 131.303 8.27637C134.391 8.27637 137.17 10.1114 137.17 14.5708V15.4041H128.073C128.168 17.7654 129.357 19.0995 131.494 19.0995C133.228 19.0995 134.13 18.4094 134.345 17.1929H137.124C136.72 19.8151 134.606 21.2461 131.423 21.2461C127.762 21.2461 125.126 18.8387 125.126 14.9055ZM134.317 13.4744C134.174 11.3278 133.082 10.3745 131.3 10.3745C129.567 10.3745 128.401 11.5425 128.117 13.4744H134.317Z" fill="white"/>\n<path d="M11.8164 14.43C10.9001 16.0065 9.4759 16.7036 7.98019 16.7036C4.98877 16.7036 2.76135 14.5431 2.76135 11.3024V11.1408C2.76135 10.9885 2.76828 10.8477 2.77751 10.6999L15.6342 10.7022V0.5L7.97096 6.22664L0.307739 0.5V21.5H15.6342V16.7013C14.1477 16.6966 12.832 15.9996 11.8164 14.43Z" fill="white"/>\n<path d="M7.98253 14.9424C9.48979 14.9424 10.4108 14.1438 10.5331 12.3411H5.05804C5.2981 13.9637 6.51683 14.9424 7.98253 14.9424Z" fill="white"/>\n<path d="M13.1044 12.3411H18.6441C18.4041 13.9637 17.1184 14.9424 15.6527 14.9424C14.1477 14.9424 13.2245 14.1415 13.1044 12.3411Z" fill="white"/>\n</svg>\n';case"white":return'<svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="m21.9 26.5c-1.7 3-4.5 4.3-7.3 4.3-5.7 0-9.9-4.1-9.9-10.3v-.3c0-.3 0-.6 0-.8h24.5v-19.4l-14.6 10.9-14.6-10.9v40h29.2v-9.1c-2.8 0-5.3-1.4-7.3-4.4z"/><path d="m14.6 27.5c2.9 0 4.6-1.5 4.9-5h-10.5c.5 3.1 2.8 5 5.6 5zm9.8-4.9h10.6c-.5 3.1-2.9 5-5.7 5-2.9-.1-4.7-1.6-4.9-5z"/></g></svg>';case"black":return'<svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="m21.9 26.5c-1.7 3-4.5 4.3-7.3 4.3-5.7 0-9.9-4.1-9.9-10.3v-.3c0-.3 0-.6 0-.8h24.5v-19.4l-14.6 10.9-14.6-10.9v40h29.2v-9.1c-2.8 0-5.3-1.4-7.3-4.4z"/><path d="m14.6 27.5c2.9 0 4.6-1.5 4.9-5h-10.5c.5 3.1 2.8 5 5.6 5zm9.8-4.9h10.6c-.5 3.1-2.9 5-5.7 5-2.9-.1-4.7-1.6-4.9-5z"/></svg>';default:return'<svg viewBox="124 126.5 40 40" xmlns="http://www.w3.org/2000/svg"><path d="m154 126.5-15 11-15-11v40h30z" fill="#9d7760"/><path d="m148.9 148.8h10.8c-.5 3.2-3 5.1-5.8 5.1-3-.1-4.8-1.6-5-5.1zm-15.7 0h10.6c-.2 3.5-2 5.1-5 5.1-2.7-.1-5.1-2-5.6-5.1zm-4.4-3.2v1.2c0 6.3 4.3 10.5 10.2 10.5 2.9 0 5.7-1.4 7.5-4.4 2 3.1 4.6 4.4 7.5 4.4 5.8 0 10.2-4.2 10.2-10.5v-1.1z" fill="#020302"/></svg>'}}},{key:"render",value:function(){var e=this.props,t=e.href,n=e.size,r=n?"logo_size_".concat(n):"";return t?h.a.createElement(_.a,{path:t,className:"logo ".concat(r),forceDefaultBehaviour:true},h.a.createElement(v.a,{svg:this.getIcon()})):h.a.createElement("div",{className:"logo ".concat(r)},h.a.createElement(v.a,{svg:this.getIcon()}))}}]),n}(f.Component);p()(g,"defaultProps",{kind:"default"});t.a=g},wETO:function(e,t,n){},wFvi:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));n("rB9j"),n("UxlC");var r=n("5PDf"),a=n.n(r),o=n("Xdxp"),i=n.n(o),c=n("Ril3");function s(e){var t=a()(c).call(c,(function(t){var n=t.dial_code.replace(/\s/g,"");return i()(e,n)}))[0];if(t){var n=t.dial_code,r=t.code,o=n.replace(/\s/g,"");return{phoneNumber:e.substring(o.length),code:r}}}function u(e,t){var n=a()(c).call(c,(function(e){return e.code.toLowerCase()===t.toLowerCase()}))[0];if(n){var r=n.dial_code;return r=r.replace(/\s/g,""),e.substring(r.length)}}},wpgx:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r="FAKE_PAGE_SHOW",a="FAKE_PAGE_HIDE";function o(e,t){return{type:r,page:e,params:t}}function i(){return{type:a}}var c={hidden:true,page:null};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return{hidden:false,page:t.page,params:t.params};case a:return c;default:return e}}},xIqf:function(e,t,n){e.exports=n.p+"6855a08c0707fd087555341b672c4160.png"},xO7V:function(e,t,n){e.exports=n.p+"76e385f15a2a5fc0e5b6a7051c0b0986.png"},yayI:function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var r=n("Kwsy"),a=n.n(r),o=n("j6J1"),i=n.n(o),c=n("kT1S"),s=n.n(c),u=n("i7Pf"),l={kind:"",hidden:true,message:"",values:{},components:[]},d=Object(u.d)({name:"alert",initialState:l,reducers:{alertShow:function(e,t){var n=t.payload;return s()({hidden:false},n)},alertHide:function(){return l}}}),p=d.actions,f=p.alertShow,h=p.alertHide;function m(e,t){var n=t.message,r=t.timeout,o=void 0===r?5e3:r,c=i()(t),s=void 0===c?{}:c,u=t.components,l=void 0===u?[]:u;return function(t){t(f({kind:e,message:n,values:s,components:l})),a()((function(){return t(h())}),o)}}t.a=d.reducer},"zB/E":function(e,t,n){},zS1G:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n("G4qV"),a=n("XiPH"),o=n("22CO"),i=function(e){return e.entities},c=Object(r.a)((function(e,t){return t}),i,(function(e,t){return Object(a.denormalize)(e,o.g,t)})),s=Object(r.a)((function(e,t){return t}),i,(function(e,t){return Object(a.denormalize)(e,o.f,t)||{}}))},zYzk:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"n",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"k",(function(){return S})),n.d(t,"h",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"m",(function(){return y})),n.d(t,"b",(function(){return C})),n.d(t,"j",(function(){return A})),n.d(t,"i",(function(){return w})),n.d(t,"e",(function(){return R})),n.d(t,"d",(function(){return I})),n.d(t,"l",(function(){return L}));n("rB9j"),n("Rm1S"),n("EnZy");var r=n("KYsz"),a=n.n(r),o=n("mnMc"),i=n.n(o),c=n("UtpJ"),s=n.n(c),u=n("o+MX"),l=n.n(u),d=n("J2m7"),p=n.n(d),f=n("/zpq"),h=n("AOYn"),m=n("0n1c"),v=[m.c,m.a,m.e,m.g],_={books:m.c,audiobooks:m.a,comicbooks:m.e,library:m.g},g="originals";function b(e){return e===m.d?"shelves":e===m.g||e===m.j?e:"".concat(e,"s")}function O(e){var t,n=e.contentType,r=e.language;return l()(t="".concat(n,"-")).call(t,r)}function S(e){var t,n,r=e.language,a=e.slug,o=e.contentType;return l()(t=l()(n="".concat(r,"-")).call(n,a,"-")).call(t,o)}function E(e,t){var n;return l()(n="".concat(e,"-")).call(n,t)}function k(e){return e.split("/")[1]}function y(e,t){var n=e.match(/(\S*)-(\S{2})/),r=t===m.f?m.g:s()(t).call(t,0,t.length-1);return n&&i()(v).call(v,r)?{slug:n[1],language:n[2],contentType:r}:null}function C(e,t){return f.a.isServer()&&e.currentUser.data.library_lang!==t}function A(e){return e===m.g?m.f:"".concat(e,"s")}function w(e,t){return t===g?"/".concat(g):e===m.g?h.d.library():"/".concat(e,"s")}function R(e,t){return p()(e,(function(e){return e.params.content_type===t&&e.params.slug!==g}))||null}function I(e){return _[e]||m.g}var L=function(e){return e&&a()(e).call(e,(function(e,t){var n;return e?l()(n="".concat(e," | ")).call(n,t.title):t.title}),"")}},zbQm:function(e,t,n){"use strict";t.a='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 16 20" fill="none">\n<path d="M8.22266 4.38461C9.05469 4.38461 10.0977 3.80483 10.7188 3.03179C11.2812 2.33121 11.6914 1.35283 11.6914 0.374443C11.6914 0.241576 11.6797 0.108709 11.6562 0C10.7305 0.0362365 9.61719 0.640177 8.94922 1.44946C8.42188 2.06548 7.94141 3.03179 7.94141 4.02225C7.94141 4.1672 7.96484 4.31214 7.97656 4.36046C8.03516 4.37254 8.12891 4.38461 8.22266 4.38461ZM5.29297 19C6.42969 19 6.93359 18.2149 8.35156 18.2149C9.79297 18.2149 10.1094 18.9758 11.375 18.9758C12.6172 18.9758 13.4492 17.7921 14.2344 16.6325C15.1133 15.3039 15.4766 13.9994 15.5 13.939C15.418 13.9148 13.0391 12.9123 13.0391 10.0979C13.0391 7.65798 14.9141 6.5588 15.0195 6.47425C13.7773 4.63827 11.8906 4.58996 11.375 4.58996C9.98047 4.58996 8.84375 5.45963 8.12891 5.45963C7.35547 5.45963 6.33594 4.63827 5.12891 4.63827C2.83203 4.63827 0.5 6.59504 0.5 10.2912C0.5 12.5861 1.36719 15.014 2.43359 16.5842C3.34766 17.9129 4.14453 19 5.29297 19Z" fill="white"/>\n</svg>\n'},zoqU:function(e,t,n){}},[[2,"runtime-errors","commons~bookmate~errors~vendor~d939e436","commons~bookmate~errors~vendor~ec8c427e","commons~bookmate~errors~253ae210","commons~bookmate~errors~d939e436","commons~bookmate~errors~b5906859","commons~bookmate~errors~1f20a385","commons~bookmate~errors~7d359b94","commons~bookmate~errors~b58f7129","commons~bookmate~errors~cfbf0a2e"]]]);
//# sourceMappingURL=errors.build.48076540ee1cfe6e6134.min.js.map