jQuery(function(){"use strict";var
$=jQuery.noConflict(),html_tag=$(document.documentElement),aside_id=$(document.getElementById('aside')),footer_id=$(document.getElementById('footer')),nav_id=$(document.getElementById('nav')),skip_id=document.getElementById('skip'),sub_id=$(document.getElementById('sub')),top_id=$(document.getElementById('top')),a_tag_external=document.querySelectorAll('a[rel*="external"]'),cols_a=$(document.getElementsByClassName('cols-a')),form_children=document.querySelectorAll('form > *'),form_poll=$(document.getElementsByClassName('form-poll')),form_filter=$(document.getElementsByClassName('form-filter')),textarea_tag=$(document.getElementsByTagName('textarea')),loadRes=function(u,c,i){if(html_tag.is('.'+i)){c();return true;}
var s=document.createElement('script');s.src=u;s.async=true;s.onload=c;document.body.appendChild(s);html_tag.not('.'+i).addClass(i);return true;},Default={async:{links:function(){if(a_tag_external.length){Array.from(a_tag_external).forEach(function(el){el.setAttribute('rel','external noopener');el.addEventListener('click',function(e){e.preventDefault();window.open(this.attributes.href.value);});});}
if(skip_id){Array.from(skip_id.querySelectorAll('a')).forEach(function(el){el.setAttribute('aria-hidden',true);el.addEventListener('focus',function(){this.setAttribute('aria-hidden',false);});el.addEventListener('blur',function(){this.setAttribute('aria-hidden',true);});});}},forms:function(){if(form_children.length){Array.from(form_children).forEach(function(el,i){el.style.zIndex=(form_children.length-i);});}
if(form_poll.length){form_poll.find('a:has(.icon-x)').on('click',function(){$(this).closest('.form-poll').removeClass('success');return false;});form_poll.filter('form').validate({highlight:function(element){$(element).attr('aria-describedby',$(element).attr('data-id')).parent().addClass('has-error');$(element).next('.error').attr('id',$(element).attr('data-id'));$(element.form).each(function(){if($(this).find('.has-error').length){$(this).addClass('is-error');}else{$(this).removeClass('is-error');}});},unhighlight:function(element){$(element).removeAttr('aria-describedby').parent().removeClass('has-error');$(element.form).each(function(){if($(this).find('.has-error').length){$(this).addClass('is-error');}else{$(this).removeClass('is-error');}});},errorPlacement:function(error,element){error.appendTo(element.parent());},errorElement:'em',submitHandler:function(form){if($(form).is('.form-poll')){$(form).addClass('success');}else{$(form).submit();}}});}
if(form_filter.length){form_filter.find('a.toggle').on('click',function(){$(this).closest('.form-filter').toggleClass('toggle');return false;});}
if(textarea_tag.length){textarea_tag.filter('[maxlength]').maxlength();}},responsive:function(){var desktop_hide=Array.from(document.getElementsByClassName('desktop-hide')),desktop_only=Array.from(document.getElementsByClassName('desktop-only')),tablet_hide=Array.from(document.getElementsByClassName('tablet-hide')),tablet_only=Array.from(document.getElementsByClassName('tablet-only')),mobile_hide=Array.from(document.getElementsByClassName('mobile-hide')),mobile_only=Array.from(document.getElementsByClassName('mobile-only'));enquire.register('screen and (min-width: 1001px)',function(){if(desktop_only.length||tablet_hide.length||mobile_hide.length){ariaRemove(desktop_only.concat(tablet_hide).concat(mobile_hide));}
if(desktop_hide.length||tablet_only.length||mobile_only.length){ariaAdd(desktop_hide.concat(tablet_only).concat(mobile_only));}
if(sub_id.length){sub_id.trigger('detach.ScrollToFixed').scrollToFixed({marginTop:62});}}).register('screen and (min-width: 761px) and (max-width: 1000px)',function(){if(desktop_hide.length||tablet_only.length||mobile_hide.length){ariaRemove(desktop_hide.concat(tablet_only).concat(mobile_hide));}
if(desktop_only.length||tablet_hide.length||mobile_only.length){ariaAdd(desktop_only.concat(tablet_hide).concat(mobile_only));}
if(sub_id.length){sub_id.trigger('detach.ScrollToFixed').scrollToFixed({marginTop:46});}}).register('screen and (max-width: 760px)',function(){if(desktop_hide.length||tablet_hide.length||mobile_only.length){ariaRemove(desktop_hide.concat(tablet_hide).concat(mobile_only));}
if(desktop_only.length||tablet_only.length||mobile_hide.length){ariaAdd(desktop_only.concat(tablet_only).concat(mobile_hide));}
if(skip_id){Array.from(skip_id.querySelectorAll('a[href="#nav"], a[href="#mobile"]')).forEach(function(el){el.setAttribute('href','#mobile');});}
if(sub_id.length){sub_id.trigger('detach.ScrollToFixed').scrollToFixed({marginTop:144});}}).register('screen and (min-width: 761px)',function(){if(skip_id){Array.from(skip_id.querySelectorAll('a[href="#nav"], a[href="#mobile"]')).forEach(function(el){el.setAttribute('href','#nav');});}}).register('screen and (min-width: 1161px)',function(){if(cols_a.length){cols_a.children('.sticky').add(cols_a.children('aside').children('.sticky')).each(function(){$(this).trigger('detach.ScrollToFixed').scrollToFixed({marginTop:110,limit:function(){var limit=parseFloat($(this).closest('.cols-a').offset().top)-parseFloat($(this).outerHeight())+parseFloat($(this).closest('.cols-a').outerHeight());return limit;},});});}}).register('screen and (min-width: 1001px) and (max-width: 1160px)',function(){if(cols_a.length){cols_a.children('.sticky').add(cols_a.children('aside').children('.sticky')).each(function(){$(this).trigger('detach.ScrollToFixed').scrollToFixed({marginTop:95,limit:function(){var limit=parseFloat($(this).closest('.cols-a').offset().top)-parseFloat($(this).outerHeight())+parseFloat($(this).closest('.cols-a').outerHeight());return limit;},});});}}).register('screen and (max-width: 1000px)',function(){if(cols_a.length){cols_a.children('.sticky').add(cols_a.children('aside').children('.sticky')).each(function(){$(this).trigger('detach.ScrollToFixed').scrollToFixed({marginTop:71,limit:function(){var limit=parseFloat($(this).closest('.cols-a').offset().top)-parseFloat($(this).outerHeight())+parseFloat($(this).closest('.cols-a').outerHeight());return limit;},});});}});},top:function(){nav_id.scrollToFixed({preFixed:function(){html_tag.addClass('is-fixed');},postFixed:function(){html_tag.removeClass('is-fixed');}});nav_id.find('li > div').siblings('a').on('click',function(e){e.preventDefault();console.log('hiiiiii');if($(this).parent().is('.toggle')){$(this).attr('aria-expanded',false).parent().removeClass('toggle').children('ul').attr({'aria-hidden':true,'focusable':false});}else{$(this).attr('aria-expanded',false).parents('ul:first').children('li.toggle').removeClass('toggle').children('ul').attr({'aria-hidden':true,'focusable':false});$(this).attr('aria-expanded',true).parent().addClass('toggle').children('ul').attr({'aria-hidden':false,'focusable':true});}
return false;});nav_id.find('li > div > a.close').on('click',function(e){nav_id.find('li > div').siblings('a').click();return false;});if(sub_id.length){top_id.add(nav_id).append('<a class="toggle-sub" href="./"></a>');$(document.getElementsByClassName('toggle-sub')).on('click',function(){if(html_tag.is('.sub-active')){html_tag.removeClass('sub-active');}else{html_tag.addClass('sub-active');sub_id.scrollTop(-1000);}
html_tag.removeClass('search-active');return false;});}
if(nav_id.is(':has(form)')){html_tag.addClass('has-search');top_id.add(nav_id).append('<a class="toggle-search" href="./"></a>');$(document.getElementsByClassName('toggle-search')).on('click',function(){if(html_tag.is('.search-active')){html_tag.removeClass('search-active');}else{html_tag.addClass('search-active');nav_id.find('input')[0].focus();}
html_tag.removeClass('sub-active');return false;});}
top_id.find('#logo a').clone().addClass('logo').prependTo(nav_id.add(footer_id));},popups:function(){var loadPopup=function(id){loadRes('/js/popup.js',function(){if($.fn.semanticPopup!==undefined){var cde=$(document.querySelectorAll('[class^="popup-"]:not(html)'));if(cde&&!html_tag.is('.spi')){cde.semanticPopup();}
$.openPopup(id);}},'popup-loaded');},dt=decodeURIComponent(document.location.hash.substring(1));loadPopup($(this).attr('data-popup'));$(document.querySelectorAll('a[data-popup]')).on('click',function(){loadPopup($(this).attr('data-popup'));return false;});if(document.location.hash.length){if(dt){loadPopup(dt.replace(/^\!/,''));}}},miscellaneous:function(){if(aside_id.length){aside_id.after('<a class="toggle-aside" href="./"></a> <a id="shadow" href="./"></a>').next('a.toggle-aside').add('a[href="#comment"]').on('click',function(){html_tag.toggleClass('aside-active');return false;});}
$(document.getElementById('shadow')).on('click',function(){html_tag.removeClass('aside-active');return false;});}}};Default.async.links();Default.async.forms();Default.async.top();Default.async.popups();Default.async.miscellaneous();Default.async.responsive();let loginSuccess=window.kvars.loginSuccess;if(loginSuccess){$('a[href="#comment"]').click();}});