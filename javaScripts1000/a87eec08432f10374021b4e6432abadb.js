/*! For license information please see js-plugin-payrollemployeeportalui~c1807361.js.LICENSE.txt */
(window.webpackJsonppayroll_employee_portal_ui=window.webpackJsonppayroll_employee_portal_ui||[]).push([[10],{105:function(e,t,i){"use strict";i.d(t,"d",(function(){return m})),i.d(t,"f",(function(){return g})),i.d(t,"b",(function(){return f})),i.d(t,"e",(function(){return b})),i.d(t,"c",(function(){return y})),i.d(t,"a",(function(){return I}));var n=i(6),a=i.n(n),s=i(10),r=i.n(s),o=i(186),c=i.n(o),l=i(187),u=i.n(l),p=i(38);const d=r.a.img.withConfig({displayName:"StyledComponents__PlannedMaintenanceImg",componentId:"sc-1k3pxd3-0"})(["height:180px;margin-top:40px;"]),h=r.a.img.withConfig({displayName:"StyledComponents__WarningIconImg",componentId:"sc-1k3pxd3-1"})(["height:124px;margin-top:40px;padding:0 24px;@media (max-width:768px){padding:0;height:60px;}"]),m=()=>a.a.createElement(d,{src:Object(p.q)(c.a)}),g=()=>a.a.createElement(h,{src:Object(p.q)(u.a)}),f=r.a.div.withConfig({displayName:"StyledComponents__ColumnPageWrapperDiv",componentId:"sc-1k3pxd3-2"})(["display:flex;flex-grow:1;flex-direction:column;align-items:center;padding:12px;"]),b=r.a.div.withConfig({displayName:"StyledComponents__RowPageWrapperDiv",componentId:"sc-1k3pxd3-3"})(["display:flex;flex-grow:1;flex-direction:row;align-items:center;justify-content:center;padding:12px;@media (max-width:768px){flex-direction:column;}"]),y=r.a.h1.withConfig({displayName:"StyledComponents__HeaderH1",componentId:"sc-1k3pxd3-4"})(["max-width:700px;text-align:center;font-weight:bold;font-size:36px;line-height:48px;@media (max-width:768px){font-size:24px;line-height:32px;}"]),I=r.a.div.withConfig({displayName:"StyledComponents__BodyDiv",componentId:"sc-1k3pxd3-5"})(["font-size:19px;line-height:24px;text-align:center;padding-top:20px;max-width:600px;"]);r.a.span.withConfig({displayName:"StyledComponents__NoBreakSpan",componentId:"sc-1k3pxd3-6"})(["white-space:nowrap;"])},113:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(6),a=i.n(n),s=i(7),r=i.n(s),o=i(10),c=i.n(o),l=i(105);const u=e=>{let{header:t,body:i}=e;return a.a.createElement(p,null,a.a.createElement(l.e,null,a.a.createElement(l.f,null),a.a.createElement("div",null,a.a.createElement(l.c,null,t),a.a.createElement(l.a,null,i))))},p=c()(l.b).withConfig({displayName:"WarningIconErrorPage__VerticalCenterDiv",componentId:"yhub7o-0"})(["justify-content:center;margin-top:9%;"]);u.propTypes={header:r.a.string,body:r.a.string}},114:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(6),a=i.n(n),s=i(7),r=i.n(s),o=i(8),c=i(91);const l=e=>{const t=e.intl;return a.a.createElement(c.a,{showHeaderLogo:!0,workforceHeaderMessage:t.messages.workforce_header,workforceMessage:t.messages.scheduled_maintenance_header,workforceSubMessage:t.messages.scheduled_maintenance_body})};l.propTypes={sandbox:r.a.object.isRequired,intl:o.intlShape}},135:function(e,t,i){"use strict";var n=i(35),a=i.n(n),s=i(267),r=i(183),o=i(266),c=i(39),l=i(206),u=i(136),p=i(57),d=i(37),h=i(69);function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){a()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}t.a=class{constructor(e){a()(this,"attachConsumerRealm",(e,t,i,n)=>{const{logInvitationError:a,logInvitationInfo:r}=this.createLoggersForInvitation(e,i);if(Object(s.a)(i.type,d.w.ONLINE)){if(Object(s.a)(i.userType,d.w.EMPLOYEE))return this.papiV2Service.attachConsumerRealmToEmployee({employeeId:i.employeeRecordId,consumerRealmId:t,companyRealmId:i.companyRealmId,inviteLinkCountry:i.inviteLinkCountry}).then(e=>{this.showLoadingSpinner&&this.showLoadingSpinner(!1),this.handleAttachConsumerRealmResultWithoutWorkerhub(e,{logInvitationError:a,logInvitationInfo:r},n)});if(Object(s.a)(i.userType,d.w.CONTRACTOR))return this.papiV2Service.attachConsumerRealmToContractor({contractorId:i.employeeRecordId,consumerRealmId:t,companyRealmId:i.companyRealmId,inviteLinkCountry:i.inviteLinkCountry}).then(e=>{this.showLoadingSpinner&&this.showLoadingSpinner(!1),this.handleAttachConsumerRealmResultWithoutWorkerhub(e,{logInvitationError:a,logInvitationInfo:r},n)})}if(Object(s.a)(i.type,d.w.DESKTOP))return this.pspV2Service.attachConsumerRealm(i.employeeRecordId,i.companyRecordId,t).then(e=>{this.showLoadingSpinner&&this.showLoadingSpinner(!1),this.handleAttachConsumerRealmResultWithoutWorkerhub(e,{logInvitationError:a,logInvitationInfo:r},n)})}),a()(this,"handleAttachConsumerRealmResultWithoutWorkerhub",(e,t)=>{let{logInvitationError:i,logInvitationInfo:n}=t;if(200!==Object(r.a)(e,"status")&&(Object(o.a)(e)||e.error)){const t=Object(r.a)(e.error,"response",{});i("attach CFR failed",{failureReason:JSON.stringify(Object(r.a)(e,"error"))}),this.isCFRAlreadyAttached(t)?(localStorage.removeItem("inviteQueryParams"),this.handleConsumerRealmAttachFail&&this.handleConsumerRealmAttachFail(p.a)):this.updateIsConsumerRealmAttachSuccess&&(localStorage.removeItem("inviteQueryParams"),this.setAttachCFRDateForQualtrics({isCFRAttached:!0}),this.updateIsConsumerRealmAttachSuccess({isAttachCFRSuccess:!0}))}else localStorage.removeItem("inviteQueryParams"),n("attach CFR succeeded",{result:e}),this.updateIsConsumerRealmAttachSuccess&&(this.setAttachCFRDateForQualtrics({isCFRAttached:!0}),this.updateIsConsumerRealmAttachSuccess({isAttachCFRSuccess:!0}))}),a()(this,"isCFRAlreadyAttached",e=>{const t=Object(r.a)(e,"status"),i=Object(r.a)(e,"data.errors",[]).filter(e=>{const t=Object(r.a)(e,"code"),i=Object(r.a)(e,"detail");return t===d.w.ERROR_CODE&&(i.includes(d.w.EMPLOYEE_CFR_ALREADY_EXISTS)||i.includes(d.w.CONTRACTOR_CFR_ALREADY_EXISTS))});return 400===t&&i.length>0}),a()(this,"handleUnattachedCFR",(e,t)=>{if(!Object(o.a)(t)){const i=Object(h.a)();!Object(o.a)(i)&&Object(s.a)(e,i.authId)&&(this.sandbox.logger.error("Event=RETRY_ATTACH_CFR authID=".concat(e," consumerRealmId=").concat(t)),this.attachConsumerRealm(e,t,i))}});const{sandbox:t,showLoadingSpinner:i,handleConsumerRealmAttachFail:n,updateIsConsumerRealmAttachSuccess:m,setAttachCFRDateForQualtrics:g}=e;this.sandbox=t,this.showLoadingSpinner=i,this.handleConsumerRealmAttachFail=n,this.updateIsConsumerRealmAttachSuccess=m,this.setAttachCFRDateForQualtrics=g;const f=c.a.get();this.papiV2Service=new l.a(this.sandbox,f),this.pspV2Service=new u.a(this.sandbox,f)}createLoggersForInvitation(e,t){var i=this;return{logInvitationError:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.sandbox.logger.error(n,g({eventType:"WorkforceInvitation",userId:e,queryParams:t},a))},logInvitationInfo:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.sandbox.logger.warn(n,g({eventType:"WorkforceInvitation",userId:e,queryParams:t},a))}}}}},143:function(e,t,i){},185:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={EMAIL_NOTIFICATION_PREFERENCES:"emailNotificationPreferences"}},209:function(e,t,i){"use strict";var n=i(57),a=i(42);t.a={asyncServicesStatus:{iusScript:n.i,checkInvitationStatus:n.i},checkInvitationParams:{qParams:{[a.b]:void 0,[a.c]:void 0,[a.j]:void 0,[a.e]:void 0,[a.d]:void 0,[a.n]:void 0},isInvitationLink:!1,isReturningUser:!1,isAttachCFRSuccess:!1}}},210:function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i.d(t,"c",(function(){return d})),i.d(t,"b",(function(){return m}));var n=i(35),a=i.n(n),s=i(57),r=i(42),o=i(84);function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){a()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const u={iusScript:s.i,checkInvitationStatus:s.i};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.g:return l(l({},e),{},{iusScript:s.k});case s.h:return l(l({},e),{},{iusScript:s.l});case s.f:return l(l({},e),{},{iusScript:s.e});case s.c:return l(l({},e),{},{checkInvitationStatus:s.k});case s.d:return l(l({},e),{},{checkInvitationStatus:s.l});case s.b:const i=t.error===s.a?{checkInvitationStatusFailureDetail:s.a}:{};return l(l(l({},e),i),{},{checkInvitationStatus:s.e});case o.d:return l(l({},e),{},{checkInvitationStatus:s.i});default:return e}}function d(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.j:return t.show;default:return e}}const h={qParams:{[r.b]:void 0,[r.c]:void 0,[r.j]:void 0,[r.e]:void 0,[r.d]:void 0,[r.n]:void 0},isInvitationLink:!1,isReturningUser:!1,isAttachCFRSuccess:!1};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.m:return l(l({},e),t.value);case o.d:return h;default:return e}}},228:function(e,t,i){"use strict";var n=i(6),a=i.n(n),s=i(7),r=i.n(s),o=i(72);const c=e=>{let{sandbox:t,activeEmployer:i,employeeDetails:n,shouldDisplayModal:s}=e;return a.a.createElement(o.a,{activeEmployer:i,employeeDetails:n,sandbox:t,changeActiveWidget:()=>{},widgetId:"workforce-widgets-ui/wf-ck",shouldDisplayModal:s})};c.propTypes={changeActiveWidget:r.a.func.isRequired,sandbox:r.a.object.isRequired,employeeDetails:r.a.object.isRequired,activeEmployer:r.a.object.isRequired,shouldDisplayModal:r.a.bool.isRequired},t.a=c},229:function(e,t,i){"use strict";var n=i(6),a=i.n(n),s=i(7),r=i.n(s),o=i(72);const c={changeActiveWidget:r.a.func.isRequired,sandbox:r.a.object.isRequired,employeeDetails:r.a.object.isRequired,activeEmployer:r.a.object.isRequired,isTurboCashDisplayed:r.a.object.isRequired},l=e=>{let{sandbox:t,activeEmployer:i,employeeDetails:n,changeActiveWidget:s,isTurboCashDisplayed:r}=e;return a.a.createElement(o.a,{activeEmployer:i,changeActiveWidget:s,employeeDetails:n,sandbox:t,widgetId:"turbo-cash-payroll-plugin/turbo-cash-widget",isTurboCashDisplayed:r})};l.propTypes=c,t.a=l},232:function(e,t,i){"use strict";var n=i(113);i.d(t,"a",(function(){return n.a}));i(114)},233:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(6),a=i.n(n),s=i(7),r=i.n(s),o=i(8),c=i(91);const l=e=>{const t=e.intl;return a.a.createElement(c.a,{showHeaderLogo:!0,workforceHeaderMessage:t.messages.workforce_header,workforceMessage:t.messages.unsupported_browser_header,workforceSubMessage:t.messages.unsupported_browser_body})};l.propTypes={sandbox:r.a.object.isRequired,intl:o.intlShape}},254:function(e,t,i){"use strict";i.d(t,"a",(function(){return le}));var n=i(6),a=i.n(n),s=i(9),r=i.n(s),o=i(11),c=i(287),l=i(103),u=i(57);const p=e=>e.asyncServicesStatus.iusScript,d=e=>e.asyncServicesStatus.checkInvitationStatus,h=e=>e.asyncServicesStatus.checkInvitationStatusFailureDetail,m=e=>e.checkInvitationParams.isInvitationLink,g=e=>e.isMobile,f=e=>e.checkInvitationParams.qParams,b=e=>e.checkInvitationParams.isAttachCFRSuccess,y=e=>e.showLoadingSpinner;var I=i(41),v=i.n(I),R=i(35),C=i.n(R),S=i(283),E=i(268),O=i(280),k=i(7),w=i.n(k),_=i(266),A=i(183),j=i(92),q=i.n(j),x=i(42),N=i(48),P=i(40),U=i(45),L=i(39),D=i(46);const T=[];class F extends a.a.Component{componentDidMount(){window.intuit&&window.intuit.ius.signIn&&this.configureSignIn()}configureSignIn(){var e;window.intuit.ius.signIn.setup({contactUsLink:N.a.format("urls.support.url"),offeringId:x.i,privacyStatementLink:L.a.get().privacy_link,accountRecoveryLink:()=>{Object(P.d)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.accountRecoveryUrl,search:U.a.location.search})},onLoad:()=>{Object(P.b)({pageName:x.l.SIGNIN,activityDetails:{isMobile:"".concat(this.props.isMobile),isInvitation:"false"},trackingObject:{employeeRecordId:"",companyRecordId:""}}),this.props.sessionExpired&&$("#ius-sign-in-error").removeClass("ius-hide");try{document.getElementById("ius-sign-in-submit-btn").onclick=function(){Object(D.b)(this.props.sandbox,"ius-signin")}}catch(e){}},showPin:!1,persistCookie:!0,showRememberMe:!0,enableRememberMe:!0,enableInvitationFlow:!1,enableSetRealm:!0,onSignInSuccess:()=>{const e=document.getElementById("ius-sign-in-widget");e&&(e.style.display="none"),this.props.onAuthentication(),Object(P.m)()},termsOfServiceUrl:L.a.get().eula_endpoint,termsOfServiceLink:L.a.get().eula_endpoint,customerSupportLink:N.a.format("urls.support.url"),errorMessageOverride:[{responseCode:"INVALID_ACTIVATION_STATE",message:N.a.format("IUSWidget.error.message")}],contentOverride:(e=this.props.sessionExpired,e&&T.push({id:"ius-sign-in-error",content:N.a.format("IUSWidget.sessionExpiry.message")}),T),enableVerifyLogin:!0,onContinueWithThisAccountClick:()=>{this.props.onAuthentication()},signInWithAnotherAccountLink:this.props.pluginConfig.iusConfig.signInUrl})}render(){return a.a.createElement("div",{id:"ius-sign-in-widget"})}}F.propTypes={isMobile:w.a.bool.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({accountRecoveryUrl:w.a.string.isRequired,signInUrl:w.a.string.isRequired})}),onAuthentication:w.a.func.isRequired,sessionExpired:w.a.bool.isRequired,sandbox:w.a.shape({extensions:w.a.shape({qbo:w.a.shape({timing:w.a.shape({actionStarted:w.a.func.isRequired}).isRequired}).isRequired}).isRequired}).isRequired};var M=i(60);class W extends a.a.Component{constructor(){super(...arguments),C()(this,"configureInvitationSignIn",()=>{const e=[{id:"ius-sign-in-header",content:N.a.format("IUSwidget.signin.title")},{id:"ius-sign-in-submit-btn-text",content:N.a.format("IUSwidget.buttonlabel.signin")},{id:"ius-label-pin",content:N.a.format("IUSwidget.pin.label")},{id:"ius-pin",content:N.a.format("IUSWidget.pin.placeholder")},{id:"ius-status-pin",content:N.a.format("IUSWidget.pin.message")}];this.props.sessionExpired&&e.push({id:"ius-sign-in-error",content:N.a.format("IUSWidget.sessionExpiry.message")}),window.intuit.ius.signIn.setup({contactUsLink:N.a.format("urls.support.url"),offeringId:x.i,privacyStatementLink:L.a.get().privacy_link,accountRecoveryLink:()=>{Object(P.d)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.accountRecoveryUrl,search:U.a.location.search})},signUpLink:()=>{Object(P.e)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.signUpUrl,search:U.a.location.search})},showName:!1,showPin:!1,userIdToPrefill:this.props.employeeEmail,isUserIdReadonly:!1,contentOverride:e,persistCookie:!0,showRememberMe:!0,rememberMeExpires:365,enableRememberMe:!0,enableSetRealm:!0,enableInvitationFlow:!0,enableUserInviteActions:!0,onSignInSuccess:()=>{},onInvitationSuccessContinueClick:()=>{Object(P.b)({pageName:x.l.SIGNIN_CONTINUE,activityDetails:{isMobile:"".concat(this.props.isMobile),isInvitation:"true"},trackingObject:this.props.attachCFRRequestObj}),this.props.getWorkerHubAttachCFRData();const e=document.getElementById("ius-sign-in-widget");e&&(e.style.display="none")},onLoad:()=>{const e=document.getElementById("ius-pin");e&&(e.onkeydown=e=>Object(M.e)(e,x.h),e.onkeyup=e=>Object(M.e)(e,x.h)),Object(P.b)({pageName:x.l.SIGNIN,activityDetails:{isMobile:"".concat(this.props.isMobile),isInvitation:"true"},trackingObject:this.props.attachCFRRequestObj})},termsOfServiceUrl:L.a.get().eula_endpoint,termsOfServiceLink:L.a.get().eula_endpoint,customerSupportLink:N.a.format("urls.support.url"),errorMessageOverride:[{responseCode:"INVALID_ACTIVATION_STATE",message:N.a.format("IUSWidget.error.message")}]})})}componentDidMount(){window.intuit&&window.intuit.ius.signIn&&this.configureInvitationSignIn()}render(){return a.a.createElement("div",{id:"ius-sign-in-widget"})}}W.propTypes={isMobile:w.a.bool.isRequired,employeeEmail:w.a.string.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({accountRecoveryUrl:w.a.string.isRequired,signUpUrl:w.a.string.isRequired})}),sessionExpired:w.a.bool.isRequired,attachCFRRequestObj:w.a.object.isRequired,sandbox:w.a.object.isRequired,getWorkerHubAttachCFRData:w.a.func.isRequired};class V extends a.a.Component{constructor(e){super(e),this.state={renderPreloadIframe:!1}}componentDidMount(){this.props.isAttachCFRSuccess||this.setState({renderPreloadIframe:!0})}renderSignInForm(){return this.props.isInvitationLink?a.a.createElement(W,this.props):a.a.createElement(F,this.props)}renderPreloadPaycheckAssetIframe(){return this.state.renderPreloadIframe?a.a.createElement("iframe",{title:"paycheck-preload",height:0,width:0,src:this.props.pluginConfig.iusConfig.preloadPaycheckUrl}):null}render(){return this.props.isAttachCFRSuccess?(Object(P.b)({pageName:x.l.ATTACH_CFR_SUCCESS_ON_SIGN_UP,activityDetails:{isMobile:"".concat(this.props.isMobile),isInvitation:"true"},trackingObject:this.props.attachCFRRequestObj}),this.props.onAuthentication(),null):a.a.createElement("div",{className:"ius-widget-style"},a.a.createElement("div",{className:"sign-in"},a.a.createElement("div",{className:"title"},a.a.createElement("span",{className:"title-text"},this.props.isRedirectedFromPCR?N.a.format("IUSwidget.maintitle.PCRToQBWorkforce.signIn"):N.a.format("IUSwidget.maintitle.QBWorkforce.signIn"))),a.a.createElement("span",{className:"existing-account-info"},N.a.format("signin.displayline.1"))),a.a.createElement("div",{className:"site-logos"},a.a.createElement("div",{className:"site-logo-tt"}),a.a.createElement("div",{className:"site-logo-mint"}),a.a.createElement("div",{className:"site-logo-qbo"})),this.renderSignInForm(),this.renderPreloadPaycheckAssetIframe())}}V.propTypes={isInvitationLink:w.a.bool.isRequired,isMobile:w.a.bool.isRequired,isAttachCFRSuccess:w.a.bool.isRequired,onAuthentication:w.a.func.isRequired,attachCFRRequestObj:w.a.object.isRequired,isRedirectedFromPCR:w.a.bool.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({preloadPaycheckUrl:w.a.string.isRequired}).isRequired}).isRequired};class H extends a.a.Component{constructor(){super(...arguments),C()(this,"configureSignUp",()=>{window.intuit.ius.signUp.setup({offeringId:x.i,privacyStatementLink:L.a.get().privacy_link,onSignUpSuccess:()=>{const e=document.getElementById("ius-sign-up-widget");e&&(e.style.display="none"),this.props.onHandleSuccessfulSignUp(),this.props.onAuthentication()},isLowSecurity:!0,showName:!1,contactUsLink:N.a.format("cus.urls.support.url"),persistCookie:!0,rememberMeExpires:365,showMobilePhone:!1,enableUpToDateUserInfo:!1,termsOfServiceUrl:L.a.get().eula_endpoint,termsOfServiceLink:L.a.get().eula_endpoint,customerSupportLink:N.a.format("urls.support.url"),accountRecoveryLink:()=>{Object(P.f)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.accountRecoveryUrl,search:U.a.location.search})},signInLink:()=>{Object(P.g)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.signInUrl,search:U.a.location.search})},onLoad:()=>{Object(P.b)({pageName:x.l.SIGNUP,activityDetails:{isMobile:"".concat(this.props.isMobile),isInvitation:"false"},trackingObject:{employeeRecordId:"",companyRecordId:""}})},errorMessageOverride:[{responseCode:"INVALID_ACTIVATION_STATE",message:N.a.format("IUSWidget.error.message")}]})})}componentDidMount(){window.intuit&&window.intuit.ius.signUp&&this.configureSignUp()}render(){return a.a.createElement("div",{id:"ius-sign-up-widget"})}}H.propTypes={isMobile:w.a.bool.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({accountRecoveryUrl:w.a.string.isRequired,signInUrl:w.a.string.isRequired})}),onAuthentication:w.a.func.isRequired,onHandleSuccessfulSignUp:w.a.func.isRequired};class Q extends a.a.Component{constructor(){super(...arguments),C()(this,"configureInvitationSignUp",()=>{const e=[{id:"ius-sign-in-header",content:N.a.format("IUSwidget.signup.title")},{id:"ius-sign-in-submit-btn-text",content:N.a.format("IUSwidget.buttonlabel.signup")},{id:"ius-label-pin",content:N.a.format("IUSwidget.pin.label")},{id:"ius-pin",content:N.a.format("IUSWidget.pin.placeholder")},{id:"ius-status-pin",content:N.a.format("IUSWidget.pin.message")}];window.intuit.ius.signUp.setup({offeringId:x.i,privacyStatementLink:L.a.get().privacy_link,onLoad:()=>{const e=document.getElementById("ius-pin");e&&(e.onkeydown=e=>Object(M.e)(e,x.h),e.onkeyup=e=>Object(M.e)(e,x.h));const{isMobile:t,attachCFRRequestObj:i,sandbox:n}=this.props;Object(P.u)(n,t,i)},onSignUpSuccess:()=>{this.props.onHandleSuccessfulSignUp()},onInvitationSuccessContinueClick:()=>{const{isMobile:e,attachCFRRequestObj:t}=this.props;Object(P.w)(e,t),this.props.getWorkerHubAttachCFRData();const i=document.getElementById("ius-sign-up-widget");i&&(i.style.display="none")},onSetRealmFail:()=>{},isLowSecurity:!0,showName:!1,contactUsLink:N.a.format("cus.urls.support.url"),contentOverride:e,persistCookie:!0,hasProvisionalId:!0,rememberMeExpires:365,showMobilePhone:!1,enableUpToDateUserInfo:!1,showPin:!1,userIdToPrefill:this.props.employeeEmail,isUserIdReadonly:!0,enableInvitationFlow:!0,enableUserInviteActions:!0,termsOfServiceUrl:L.a.get().eula_endpoint,termsOfServiceLink:L.a.get().eula_endpoint,customerSupportLink:N.a.format("urls.support.url"),accountRecoveryLink:()=>{Object(P.f)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.accountRecoveryUrl,search:U.a.location.search})},signInLink:()=>{Object(P.g)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.signInUrl,search:U.a.location.search})},errorMessageOverride:[{responseCode:"INVALID_ACTIVATION_STATE",message:N.a.format("IUSWidget.error.message")}]})})}componentDidMount(){window.intuit&&window.intuit.ius.signUp&&this.configureInvitationSignUp()}render(){return a.a.createElement("div",{id:"ius-sign-up-widget"})}}Q.propTypes={isMobile:w.a.bool.isRequired,employeeEmail:w.a.string.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({accountRecoveryUrl:w.a.string.isRequired,signInUrl:w.a.string.isRequired})}),attachCFRRequestObj:w.a.object.isRequired,sandbox:w.a.object.isRequired,getWorkerHubAttachCFRData:w.a.func.isRequired,onHandleSuccessfulSignUp:w.a.func.isRequired};class G extends a.a.Component{constructor(e){super(e),C()(this,"handleTransitionToSignIn",()=>{U.a.push({pathname:this.props.pluginConfig.iusConfig.signInUrl,search:U.a.location.search})}),C()(this,"handleSuccessfulSignUp",()=>{this.setState({showSignInLink:!1})}),C()(this,"renderSignInLink",()=>{if(this.state.showSignInLink)return a.a.createElement("span",{className:"signup-to-signin-container"},a.a.createElement("a",{className:"signup-to-signin-link",onClick:this.handleTransitionToSignIn},N.a.format("signup.displayline")))}),this.state={showSignInLink:!0}}renderSignUpForm(){return this.props.isInvitationLink?a.a.createElement(Q,v()({},this.props,{onHandleSuccessfulSignUp:this.handleSuccessfulSignUp})):a.a.createElement(H,v()({},this.props,{onHandleSuccessfulSignUp:this.handleSuccessfulSignUp}))}render(){return this.props.isAttachCFRSuccess?(Object(P.b)({pageName:x.l.ATTACH_CFR_SUCCESS_ON_SIGN_UP,activityDetails:{isMobile:"".concat(this.props.isMobile),isInvitation:"true"},trackingObject:this.props.attachCFRRequestObj}),this.props.onAuthentication(),null):a.a.createElement("div",{className:"ius-widget-style"},a.a.createElement("div",{className:"sign-up"},a.a.createElement("div",{className:"title"},a.a.createElement("span",{className:"title-text"},N.a.format("IUSwidget.maintitle.QBWorkforce.signUp")))),this.renderSignUpForm(),this.renderSignInLink(),a.a.createElement("div",{className:"site-logos"},a.a.createElement("div",{className:"site-logo-tt"}),a.a.createElement("div",{className:"site-logo-mint"}),a.a.createElement("div",{className:"site-logo-qbo"})))}}G.propTypes={isInvitationLink:w.a.bool.isRequired,isMobile:w.a.bool.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({signInUrl:w.a.string.isRequired})}),isAttachCFRSuccess:w.a.bool.isRequired,onAuthentication:w.a.func.isRequired,attachCFRRequestObj:w.a.object.isRequired,checkInvitationStatus:w.a.string.isRequired,sandbox:w.a.object.isRequired};class B extends a.a.Component{constructor(){super(...arguments),C()(this,"handleTransitionToSignIn",()=>{Object(P.a)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.signInUrl,search:U.a.location.search})}),C()(this,"configureAccountRecovery",()=>{window.intuit.ius.accountRecovery.setup({cancelLink:this.handleTransitionToSignIn,signInLink:this.handleTransitionToSignIn,offeringId:x.i,persistCookie:!0,enableUserInviteActions:!1,onRecoveryCompleteSuccess:()=>{this.props.onAuthentication()},onLoad:()=>{Object(P.c)({pageName:x.l.ACCOUNTRECOVERY,activityDetails:{isMobile:"".concat(this.props.isMobile)}})},termsOfServiceUrl:L.a.get().eula_endpoint,termsOfServiceLink:L.a.get().eula_endpoint,customerSupportLink:N.a.format("urls.support.url"),redirectUrl:"".concat(this.props.pluginConfig.iusConfig.accountRecoveryRedirectUrl).concat(this.props.pluginConfig.iusConfig.signInUrl)})})}componentDidMount(){window.intuit&&window.intuit.ius.accountRecovery&&this.configureAccountRecovery()}render(){return a.a.createElement("div",{className:"ius-widget-style"},a.a.createElement("div",{id:"ius-account-recovery-widget"}),";")}}B.propTypes={isMobile:w.a.bool.isRequired,onAuthentication:w.a.func.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({signInUrl:w.a.string.isRequired,accountRecoveryRedirectUrl:w.a.string.isRequired})})};class Y extends a.a.Component{constructor(e){super(e),C()(this,"handleTransitionToSignIn",()=>{Object(P.a)({isMobile:"".concat(this.props.isMobile)}),U.a.push({pathname:this.props.pluginConfig.iusConfig.signInUrl,search:U.a.location.search})}),C()(this,"configureAccountRecovery",()=>{window.intuit.ius.accountRecovery.setup({cancelLink:this.handleTransitionToSignIn,signInLink:this.handleTransitionToSignIn,offeringId:x.i,persistCookie:!0,enableUserInviteActions:!0,onRecoveryCompleteSuccess:()=>{this.props.getWorkerHubAttachCFRData(),this.setState({showWidget:!1})},onInvitationSuccessContinueClick:()=>{this.props.sandbox.logger.info("Event=onInvitationSuccessContinueClick")},onLoad:()=>{Object(P.c)({pageName:x.l.ACCOUNTRECOVERY,activityDetails:{isMobile:"".concat(this.props.isMobile)}})},termsOfServiceUrl:L.a.get().eula_endpoint,termsOfServiceLink:L.a.get().eula_endpoint,customerSupportLink:N.a.format("urls.support.url"),redirectUrl:"".concat(this.props.pluginConfig.iusConfig.accountRecoveryRedirectUrl).concat(this.props.pluginConfig.iusConfig.signInUrl)})}),this.state={showWidget:!0}}componentDidMount(){window.intuit&&window.intuit.ius.accountRecovery&&this.configureAccountRecovery()}render(){return this.props.isAttachCFRSuccess&&(Object(P.b)({pageName:x.l.ATTACH_CFR_SUCCESS_ON_ACCOUNT_RECOVERY,activityDetails:{isMobile:"".concat(this.props.isMobile),isInvitation:"true"},trackingObject:this.props.attachCFRRequestObj}),this.props.onAuthentication()),a.a.createElement("div",{className:"ius-widget-style"},this.state.showWidget?a.a.createElement("div",{id:"ius-account-recovery-widget"}):null)}}Y.propTypes={isMobile:w.a.bool.isRequired,onAuthentication:w.a.func.isRequired,isAttachCFRSuccess:w.a.bool.isRequired,getWorkerHubAttachCFRData:w.a.func.isRequired,attachCFRRequestObj:w.a.object.isRequired,sandbox:w.a.object.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({signInUrl:w.a.string.isRequired,accountRecoveryRedirectUrl:w.a.string.isRequired})})};class K extends a.a.Component{render(){return a.a.createElement("div",{className:"error"},a.a.createElement("div",{className:"error-header"},a.a.createElement("div",{className:"error-header-warning-icon"}),a.a.createElement("h2",{className:"error-header-text"},N.a.format("errorpage.title"))),a.a.createElement("span",{className:"error-text"},N.a.format("errorpage.displayline.1")),a.a.createElement("span",{className:"error-text"},N.a.format("errorpage.displayline.2")))}}var X=i(104);class z extends a.a.Component{render(){return a.a.createElement("div",{className:"header-logo-new"})}}class J extends a.a.Component{render(){const e=(new Date).getFullYear();return a.a.createElement("div",{className:"site-footer"},a.a.createElement("p",{className:"site-footer-copyright"},"Â©"," ".concat(e," ").concat(N.a.format("footer.copywrite.title"))),a.a.createElement("p",{className:"site-footer-trademark"},N.a.format("footer.copywrite.displayline.1.QBWorkforce"),a.a.createElement("br",null),N.a.format("footer.copywrite.displayline.2")),a.a.createElement("p",{className:"site-footer-links"},a.a.createElement("a",{target:"_blank",href:N.a.format("urls.legal.url"),rel:"noreferrer"},N.a.format("urls.legal.display"))," ","|",a.a.createElement("a",{target:"_blank",href:N.a.format("urls.terms.url"),rel:"noreferrer"},N.a.format("urls.terms.display"))," ","|",a.a.createElement("a",{target:"_blank",href:N.a.format("urls.privacy.url"),rel:"noreferrer"},N.a.format("urls.privacy.display"))," ","|",a.a.createElement("a",{target:"_blank",href:N.a.format("urls.intuit.url"),rel:"noreferrer"},N.a.format("urls.intuit.display"))," ","|",a.a.createElement("a",{target:"_blank",href:N.a.format("urls.support.url"),rel:"noreferrer"},N.a.format("urls.support.display"))))}}var Z=i(125),ee=i(37),te=i(163),ie=i(38),ne=i(135);function ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function se(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(i),!0).forEach((function(t){C()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class re extends a.a.Component{static getDerivedStateFromProps(e){return e.isInvitationLink&&e.iusScriptStatus===u.i&&e.checkInvitationStatus===u.l&&e.handleIUSScriptLoad(),{}}constructor(e){var t;super(e),t=this,C()(this,"getWorkerHubAttachCFRData",()=>{const e=this.getQueryParams(U.a.location.search),t=Object(ie.i)("userIdentifier");return this.addUserRecordIDToCookie(e,t),this.createAndAttachCFR(t,e)}),C()(this,"addUserRecordIDToCookie",(e,t)=>{const i="".concat(t,",").concat(e.employeeRecordId,",").concat(e.companyRecordId,",").concat(e.companyRealmId,",").concat(e.inviteLinkCountry,",").concat(e.type,",").concat(e.userType);localStorage.setItem("inviteQueryParams",i)}),C()(this,"createLoggersForInvitation",(e,i)=>({logInvitationError:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.props.sandbox.logger.error(n,se({eventType:"WorkforceInvitation",userId:e,queryParams:i},a))},logInvitationInfo:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.props.sandbox.logger.warn(n,se({eventType:"WorkforceInvitation",userId:e,queryParams:i},a))}})),C()(this,"signInConfig",()=>a.a.createElement(V,{pluginConfig:this.props.pluginConfig,isInvitationLink:this.props.isInvitationLink,isAttachCFRSuccess:this.props.isAttachCFRSuccess,onAuthentication:this.handleAuthentication,getWorkerHubAttachCFRData:this.getWorkerHubAttachCFRData,attachCFRRequestObj:this.getQueryParams(U.a.location.search),isMobile:this.props.isMobile,sessionExpired:this.props.sessionExpired,checkInvitationStatus:this.props.checkInvitationStatus,sandbox:this.props.sandbox,isRedirectedFromPCR:Object(M.d)(U.a.location.search)})),C()(this,"signUpConfig",()=>a.a.createElement(G,{pluginConfig:this.props.pluginConfig,isInvitationLink:this.props.isInvitationLink,isAttachCFRSuccess:this.props.isAttachCFRSuccess,onAuthentication:this.handleAuthentication,getWorkerHubAttachCFRData:this.getWorkerHubAttachCFRData,attachCFRRequestObj:this.getQueryParams(U.a.location.search),isMobile:this.props.isMobile,checkInvitationStatus:this.props.checkInvitationStatus,sandbox:this.props.sandbox})),C()(this,"accountRecoveryConfig",()=>this.props.isInvitationLink?a.a.createElement(Y,{pluginConfig:this.props.pluginConfig,isMobile:this.props.isMobile,sandbox:this.props.sandbox,onAuthentication:this.handleAuthentication,isAttachCFRSuccess:this.props.isAttachCFRSuccess,getWorkerHubAttachCFRData:this.getWorkerHubAttachCFRData,attachCFRRequestObj:this.getQueryParams(U.a.location.search)}):a.a.createElement(B,{pluginConfig:this.props.pluginConfig,isMobile:this.props.isMobile,sandbox:this.props.sandbox,onAuthentication:this.handleAuthentication})),C()(this,"handleAuthentication",()=>{U.a.push(this.props.pluginConfig.iusConfig.portalUrl)});const i=U.a.location.search,n=L.a.get();this.iusService=new te.a(this.props.sandbox,n);const s={sandbox:this.props.sandbox,showLoadingSpinner:this.props.showLoadingSpinner,handleConsumerRealmAttachFail:this.props.handleConsumerRealmAttachFail,updateIsConsumerRealmAttachSuccess:this.props.updateIsConsumerRealmAttachSuccess,setAttachCFRDateForQualtrics:this.props.setAttachCFRDateForQualtrics};this.IUSHelper=new ne.a(s),this.fetchSignInSource(i),!Object(_.a)(i)&&Object(M.c)(i)&&this.props.checkInvitationStatus===u.i?(this.props.updateIsInvitationLink(!0),this.props.handleInvitationSuccess(),this.props.updateCheckInvitationParams(this.getQueryParams(i))):this.props.iusScriptStatus===u.i&&this.props.handleIUSScriptLoad()}trimQueryParams(e){if(e)return e.replace(/\s+/g,"")}getQueryParams(e){const t={},i=q.a.parse(e);return!Object(_.a)(i)&&Object.keys(i).length>1&&(t.companyName=this.trimQueryParams(i[x.b]),t.companyRecordId=this.trimQueryParams(i[x.c]),t.employeeRecordId=this.trimQueryParams(i[x.e]),t.companyRealmId=this.trimQueryParams(i[x.j]),t.type=this.trimQueryParams(i[x.n]),t.inviteLinkCountry=this.trimQueryParams(i[x.k]),t.invitationId=this.trimQueryParams(i[x.f]),e.includes(x.o)?t.userType=this.trimQueryParams(i[x.o]):t.userType="EE"),t}fetchSignInSource(e){const t=q.a.parse(e);!Object(_.a)(t)&&t[x.m]&&localStorage.setItem(ee.K,t[x.m])}createAndAttachCFR(e,t){const{logInvitationError:i,logInvitationInfo:n}=this.createLoggersForInvitation(e,t);return n("starting create and attach CFR"),this.props.showLoadingSpinner(!0),this.iusService.createConsumerRealm(e,t.inviteLinkCountry).then(a=>{if(a.error){if(i("create CFR failed",{failureReason:Object(A.a)(a,"error.response.data.responseCode",a.error)}),Object(A.a)(a,"error.response.data.responseCode","").includes("REALM_MAX_LIMIT_EXCEEDED"))return i("create CFR failed with REALM_MAX_LIMIT_EXCEEDED"),this.bulkLookupRealmsAndAttachConsumerRealm(e,t,{logInvitationError:i,logInvitationInfo:n});this.props.showLoadingSpinner(!1),this.props.handleConsumerRealmAttachFail(a.error)}else Object(_.a)(a)?(i("create CFR failed with empty response"),this.props.showLoadingSpinner(!1),this.props.handleConsumerRealmAttachFail()):(n("create CFR succeeded",{result:a}),this.IUSHelper.attachConsumerRealm(e,a.realmId,t,{logInvitationError:i,logInvitationInfo:n}))})}bulkLookupRealmsAndAttachConsumerRealm(e,t,i){let{logInvitationError:n,logInvitationInfo:a}=i;this.iusService.getConsumerRealmAndProductList(e).then(i=>{const s=i.consumerRealmId;if(a("bulk_lookup_realms returned result",{bulkLookupResult:i}),null!==s)return this.IUSHelper.attachConsumerRealm(e,s,t,{logInvitationError:n,logInvitationInfo:a});n("bulk_lookup_realms returned no consumer realm id")})}render(){return this.props.checkInvitationStatus===u.b?a.a.createElement("div",{className:"ius-wrapper-container"},a.a.createElement("div",{className:"error-page"},a.a.createElement(Z.b,v()({},this.props,{mainErrorMessage:ee.C.ATTACH_CFR_CALL_FAIL_ERROR_MESSAGE,subErrorMessage:ee.C.ATTACH_CFR_CALL_FAIL_SUB_ERROR_MESSAGE,sandbox:this.props.sandbox})))):this.props.iusScriptStatus===u.l&&!this.props.isInvitationLink||this.props.iusScriptStatus===u.l&&this.props.checkInvitationStatus===u.l&&this.props.isInvitationLink&&!this.props.isLoading?a.a.createElement("div",{className:"ius-wrapper-container"},a.a.createElement(z,null),a.a.createElement(S.a,null,a.a.createElement(E.a,{path:this.props.pluginConfig.iusConfig.signInUrl,component:this.signInConfig}),a.a.createElement(E.a,{path:this.props.pluginConfig.iusConfig.signUpUrl,component:this.signUpConfig}),a.a.createElement(E.a,{path:this.props.pluginConfig.iusConfig.accountRecoveryUrl,component:this.accountRecoveryConfig}),a.a.createElement(O.a,{to:this.props.pluginConfig.iusConfig.signInUrl})),a.a.createElement(J,null)):this.props.iusScriptStatus===u.e||this.props.checkInvitationStatus===u.e?this.props.invitationErrorDetails===u.a?a.a.createElement(Z.a,{mainErrorMessageText:N.a.format("email_already_in_use_in_company_message_1"),subErrorMessageText:N.a.format("email_already_in_use_in_company_message_2",{company_name:this.props.qParams.companyName}),isMobile:this.props.isMobile}):a.a.createElement(K,null):a.a.createElement("div",{className:"ius-wrapper-container"},a.a.createElement(X.a,null))}}re.propTypes={iusScriptStatus:w.a.string.isRequired,checkInvitationStatus:w.a.string.isRequired,invitationErrorDetails:w.a.string,isInvitationLink:w.a.bool.isRequired,isMobile:w.a.bool.isRequired,handleIUSScriptLoad:w.a.func.isRequired,updateIsInvitationLink:w.a.func.isRequired,pluginConfig:w.a.shape({iusConfig:w.a.shape({signInUrl:w.a.string.isRequired,signUpUrl:w.a.string.isRequired,accountRecoveryUrl:w.a.string.isRequired,errorUrl:w.a.string.isRequired,portalUrl:w.a.string.isRequired})}),sessionExpired:w.a.bool.isRequired,handleInvitationSuccess:w.a.func.isRequired,updateCheckInvitationParams:w.a.func.isRequired,updateIsConsumerRealmAttachSuccess:w.a.func.isRequired,handleConsumerRealmAttachFail:w.a.func.isRequired,qParams:w.a.string.isRequired,isAttachCFRSuccess:w.a.bool.isRequired,showLoadingSpinner:w.a.func.isRequired,isLoading:w.a.bool.isRequired,sandbox:w.a.object.isRequired,setAttachCFRDateForQualtrics:w.a.func};var oe=Object(c.a)(Object(o.connect)((function(e){return{iusScriptStatus:p(e),checkInvitationStatus:d(e),invitationErrorDetails:h(e),isInvitationLink:m(e),isMobile:g(e),qParams:f(e),isAttachCFRSuccess:b(e),isLoading:y(e)}}),(function(e,t){return{handleIUSScriptLoad:()=>{e(Object(l.a)(t.pluginConfig.iusConfig))},updateIsInvitationLink:t=>{e(Object(u.t)({isInvitationLink:t}))},handleInvitationSuccess:()=>{e(Object(u.o)())},updateCheckInvitationParams:t=>{e(Object(u.t)({qParams:t}))},handleConsumerRealmAttachFail:t=>{e(Object(u.n)(t))},updateIsConsumerRealmAttachSuccess:t=>{e(Object(u.t)({isAttachCFRSuccess:t}))},showLoadingSpinner:t=>{e(Object(u.s)(t))}}}))(re)),ce=i(58);class le extends r.a{constructor(e){super(e),this.st=Date.now()}componentDidMount(){Object(l.b)();const e=Date.now();Object(D.f)(ce.a.RUM_EMPLOYEE_IUS_WIDGET_READY,e-this.st),this.ready()}render(){return a.a.createElement(oe,this.props)}}},255:function(e,t,i){"use strict";i.d(t,"a",(function(){return X}));var n=i(35),a=i.n(n),s=i(6),r=i.n(s),o=i(9),c=i.n(o),l=i(7),u=i.n(l),p=i(8),d=i(15),h=i(37),m=i(183),g=i(38);class f extends r.a.Component{render(){return r.a.createElement("div",{className:"settings-list-content"},r.a.createElement("div",{className:"list-card"},r.a.createElement("div",{className:"list-sub-container"},r.a.createElement("div",{className:"errorMessage"},Object(g.p)(this.props.intl,"preferences_main_error_message"),r.a.createElement("a",{href:h.B},Object(g.p)(this.props.intl,"preferences_sub_error_message_1"))," ",Object(g.p)(this.props.intl,"preferences_sub_error_message_2")))))}}a()(f,"propTypes",{intl:p.intlShape});class b extends r.a.Component{render(){return r.a.createElement("div",{className:"settings-list-content"},r.a.createElement("div",{className:"list-card"},r.a.createElement("div",{className:"list-sub-container"},Object(g.p)(this.props.intl,"preferences_no_preference_message"))))}}a()(b,"propTypes",{intl:p.intlShape});var y=i(104),I=i(26),v=i.n(I),R=i(40);class C extends r.a.Component{constructor(e){super(e),a()(this,"handleSavePaystubNotificationPreference",()=>{const{sandbox:e,employeeDetails:t}=this.props,{isChecked:i}=this.state;this.props.updatePaystubNotificationPreference(i),Object(R.o)(e,t,i)}),a()(this,"handlePaystubNotificationCheckboxClick",()=>{const{consumerRealmId:e,employerId:t}=this.props.employeeDetails,{isChecked:i}=this.state;this.setState({isChecked:!i}),Object(R.h)(!i,e,t)}),this.state={isChecked:this.props.paystubNotificationPreferenceValue}}render(){return r.a.createElement("div",{className:"settings-list-content"},r.a.createElement("div",{className:"settings-list-header"},r.a.createElement("span",null,Object(g.p)(this.props.intl,"preferences_email_notification_label"))),r.a.createElement("div",{className:"list-card"},r.a.createElement("div",{className:"list-sub-container"},r.a.createElement("div",{className:"email-preference-checkbox"},r.a.createElement(v.a,{theme:"quickbooks",checked:this.state.isChecked,onChange:this.handlePaystubNotificationCheckboxClick},r.a.createElement("span",{className:"email-preference-label"},Object(g.p)(this.props.intl,"preferences_paystub_message")))),this.state.isChecked===this.props.paystubNotificationPreferenceValue?null:r.a.createElement("div",{className:"email-preference-save-button"},r.a.createElement("button",{onClick:this.handleSavePaystubNotificationPreference,className:"ha-button ha-button-primary"},Object(g.p)(this.props.intl,"preferences_save_button"))))))}}C.propTypes={intl:p.intlShape,paystubNotificationPreferenceValue:u.a.bool.isRequired,updatePaystubNotificationPreference:u.a.func.isRequired,sandbox:u.a.object.isRequired,employeeDetails:u.a.shape({consumerRealmId:u.a.string.isRequired,employerId:u.a.string.isRequired})};var S=i(41),E=i.n(S),O=i(266),k=i(284),w=i(71),_=i.n(w),A=i(12),j=i.n(A);function q(){const e=_()(["\n    query employeeAddress($employeeGlobalId: ID!) {\n      node(id: $employeeGlobalId) {\n        ... on Network_Contact {\n          id\n          contactMethods {\n            addresses {\n              addressComponents {\n                name\n                value\n              }\n            }\n          }\n        }\n      }\n    }\n"]);return q=function(){return e},e}const x=j()(q());var N=i(18);function P(){const e=_()(['\n    mutation UpdateEmployeePreferences($employeeGlobalId: String!, $entityVersion: String!, $receivePaystubEmailNotificationsValue: Boolean!) {\n      updateNetwork_Contact(input: {clientMutationId: "", networkContact: {\n          id: $employeeGlobalId, entityVersion: $entityVersion, profiles: {\n              employee: {applicationPreferences: {receivePaystubEmailNotifications: $receivePaystubEmailNotificationsValue}}\n          }\n        }}) {\n        networkContact {\n          id\n          displayName\n          entityVersion\n          profiles {\n            employee {\n              applicationPreferences {\n                receivePaystubEmailNotifications\n              }\n    \t\t}\n          }\n        }\n      }\n    }\n']);return P=function(){return e},e}const U=j()(P());function L(){const e=_()(["\n    query employeeApplicationPreferences($employeeGlobalId: ID!){\n        node(id:$employeeGlobalId) {\n            ... on Network_Contact {\n                id\n                entityVersion\n                profiles {\n                    employee {\n                        applicationPreferences {\n                            receivePaystubEmailNotifications\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]);return L=function(){return e},e}const D=j()(L()),T=e=>Object(m.a)(e,"node.profiles.employee.applicationPreferences.receivePaystubEmailNotifications"),F=e=>Object(m.a)(e,"node.entityVersion"),M={sandbox:u.a.shape({logger:u.a.shape({error:u.a.func.isRequired}).isRequired}),employeeGlobalId:u.a.string.isRequired};var W=e=>{class t extends r.a.Component{static getDerivedStateFromProps(e){const{data:t,updateData:i,updatePreferenceValue:n}=e.applicationPreferences;return t.loading||null!==t.value||i.called||n(!0),null}initialQueryOrUpdateOnNotFoundIsStillLoading(e){let{data:t,updateData:i}=e;const n=!i.called||i.loading;return t.loading||null===t.value&&n}render(){const{data:t,updateData:i,updatePreferenceValue:n}=this.props.applicationPreferences;return r.a.createElement(e,E()({},this.props,{applicationPreferences:{updateData:i,updatePreferenceValue:n,data:{value:t.value,loading:this.initialQueryOrUpdateOnNotFoundIsStillLoading({data:t,updateData:i})}}}))}}return t.propTypes={applicationPreferences:u.a.shape({data:u.a.shape({value:u.a.bool,loading:u.a.bool.isRequired}),updateData:u.a.shape({value:u.a.bool,loading:u.a.bool.isRequired,called:u.a.bool.isRequired}),updatePreferenceValue:u.a.func.isRequired}).isRequired},t},V=i(136);const H={sandbox:u.a.object.isRequired,pluginConfig:u.a.object.isRequired,consumerRealmId:u.a.string.isRequired,employeeGlobalId:u.a.string.isRequired};class Q extends r.a.Component{render(){const e=Object(m.a)(this.props,"employeeHasValidAddress.loading",!1),t=Object(m.a)(this.props,"employeeHasValidAddress.value",!0),{data:i,updateData:n,updatePreferenceValue:a}=this.props.applicationPreferences;return i.loading||n.loading||e?r.a.createElement("div",{className:"preferences-spinner-view"},r.a.createElement(y.a,null)):!1===t?r.a.createElement(b,{intl:this.props.intl}):!0===i.value||!1===i.value?r.a.createElement(C,{intl:this.props.intl,paystubNotificationPreferenceValue:i.value,updatePaystubNotificationPreference:a,sandbox:this.props.sandbox,employeeDetails:this.props.employeeDetails}):r.a.createElement(f,{intl:this.props.intl})}}a()(Q,"propTypes",{intl:p.intlShape,applicationPreferences:u.a.shape({updatePreferenceValue:u.a.func.isRequired,data:u.a.shape({value:u.a.bool,loading:u.a.bool.isRequired}).isRequired,updateData:u.a.shape({value:u.a.bool,loading:u.a.bool.isRequired,called:u.a.bool.isRequired})}).isRequired,employeeHasValidAddress:u.a.shape({loading:u.a.bool.isRequired,value:u.a.bool}),sandbox:u.a.object.isRequired,pluginConfig:u.a.object.isRequired,consumerRealmId:u.a.string.isRequired,employeeGlobalId:u.a.string.isRequired,employeeDetails:u.a.shape({consumerRealmId:u.a.string.isRequired,employerId:u.a.string.isRequired})});const G=(e=>{var t,i;return i=t=class extends r.a.Component{hasAllAddressComponents(e){return e.some(e=>{const t=e.addressComponents;return["addressLine1","city","region","postalCode","country"].every(e=>!Object(O.a)(Object(k.a)(t,{name:e})))})}render(){return r.a.createElement(d.Query,{query:x,errorPolicy:"all",variables:{employeeGlobalId:this.props.employeeGlobalId}},t=>{const i=(n=t.data,Object(m.a)(n,"node.contactMethods",[]).filter(e=>!Object(O.a)(e.addresses)).map(e=>e.addresses).reduce((e,t)=>e.concat(t),[]));var n;const a=this.hasAllAddressComponents(i);return r.a.createElement(e,E()({},this.props,{employeeHasValidAddress:{loading:t.loading,error:t.error,value:a}}))})}},a()(t,"propTypes",{sandbox:u.a.shape({logger:u.a.shape({error:u.a.func.isRequired}).isRequired}),employeeGlobalId:u.a.string.isRequired}),i})((e=>{class t extends r.a.Component{render(){return r.a.createElement(d.Query,{query:D,errorPolicy:"all",variables:{employeeGlobalId:this.props.employeeGlobalId},notifyOnNetworkStatusChange:!0},t=>{t.error&&this.props.sandbox.logger.error("preferences query failed with error: ".concat(t.error));return r.a.createElement(d.Mutation,{mutation:U,onError:e=>{this.props.sandbox.logger.error("preferences mutation failed with error: ".concat(e)),t.refetch()}},(i,n)=>{const a=t.networkStatus!==N.NetworkStatus.ready&&t.networkStatus!==N.NetworkStatus.error;return r.a.createElement(e,E()({},this.props,{applicationPreferences:{updateData:{value:(s=n.data,Object(m.a)(s,"updateNetwork_Contact.networkContact.profiles.employee.applicationPreferences.receivePaystubEmailNotifications")),loading:n.loading,called:n.called},updatePreferenceValue:function(e){var n;i({variables:{employeeGlobalId:(n=t.data,Object(m.a)(n,"node.id")),entityVersion:F(t.data),receivePaystubEmailNotificationsValue:e}})},data:{value:T(t.data),loading:a}}}));var s})})}}return t.propTypes=M,t})(W(Q))),B=(Y=Q,K=$=class extends r.a.Component{constructor(e){super(e),a()(this,"setDesktopEmployeePreference",e=>{this.setState({updateData:{loading:!0,called:!0}});const t=this.parseDesktopEmployeeGlobalId(this.props.employeeGlobalId);this.pspV2Service.setEmployeeEmailPreferences(t,this.props.consumerRealmId,e).then(e=>{e.error?this.setState({updateData:{loading:!1,value:void 0,called:!0}}):this.setState({data:{value:e.value,loading:!1},updateData:{value:e.value,loading:!1,called:!0}})})}),this.pspV2Service=new V.a(e.sandbox,e.pluginConfig),this.state={data:{loading:!0},updateData:{called:!1,loading:!1}}}componentDidMount(){const e=this.parseDesktopEmployeeGlobalId(this.props.employeeGlobalId);this.pspV2Service.getDesktopEmployeePreferencesAndSetIfNotFound(e,this.props.consumerRealmId,!0).then(e=>{e.error?this.setState({data:{loading:!1}}):this.setState({data:{value:e.value,loading:!1}})})}parseDesktopEmployeeGlobalId(e){return e.substring(e.lastIndexOf(":")+1,e.lastIndexOf("_"))}render(){return r.a.createElement(Y,E()({},this.props,{applicationPreferences:{updatePreferenceValue:this.setDesktopEmployeePreference,data:this.state.data,updateData:this.state.updateData}}))}},a()($,"propTypes",H),K);var Y,$,K;i(143);class X extends c.a{constructor(){super(...arguments),a()(this,"renderPreferencesBySourceSystem",()=>this.props.sourceSystem===h.h?r.a.createElement(B,{sandbox:this.props.sandbox,pluginConfig:this.props.pluginConfig,consumerRealmId:this.props.consumerRealmId,intl:this.props.intl,sourceSystem:this.props.sourceSystem,employeeGlobalId:this.props.employeeGlobalId,employeeDetails:this.props.employeeDetails}):r.a.createElement(G,{sandbox:this.props.sandbox,pluginConfig:this.props.pluginConfig,consumerRealmId:this.props.consumerRealmId,intl:this.props.intl,sourceSystem:this.props.sourceSystem,employeeGlobalId:this.props.employeeGlobalId,employeeDetails:this.props.employeeDetails}))}render(){return r.a.createElement(d.ApolloProvider,{client:this.props.sandbox.employeePortal.apolloClient},r.a.createElement("div",{className:"employee-preferences"},r.a.createElement("div",{className:"settings-list-container"},this.renderPreferencesBySourceSystem())))}}a()(X,"propTypes",{sandbox:u.a.object.isRequired,pluginConfig:u.a.shape({paychecks_endpoint:u.a.string.isRequired}),consumerRealmId:u.a.string.isRequired,employeeId:u.a.string.isRequired,intl:p.intlShape,sourceSystem:u.a.oneOf([h.v,h.h]).isRequired,employeeGlobalId:u.a.string.isRequired,employeeDetails:u.a.shape({consumerRealmId:u.a.string.isRequired,employerId:u.a.string.isRequired})})},259:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(7),a=i.n(n),s=i(140),r=i(38),o=i(159),c="ZN_e8uVOeDwI1mI3gp",l="QBO Payroll Workforce PRS Website/App Feedback",u="Workforce Paychecks",p="Quickbooks Payroll Workforce",d=i(266);function h(e,t,i){const n=function(e,t){return Object(d.a)(e)||Object(d.a)(t)?null:new o.SurveyAPI(e,t)}({agentId:Object(r.i)("userIdentifier"),surveyId:c,surveyName:l,eventName:u,serviceName:p,authId:Object(r.i)("userIdentifier"),eventData:{creationDate:i},sandbox:e,handleOnLoad:o.qualtrics.runQualtricsSiteIntercept,handleOnError:o.qualtrics.unloadQualtricsSiteIntercept},t);Object(d.a)(n)||function(e){e.showSurvey().then(t=>{t&&e.launchSurvey()})}(n)}var m=i(64),g=i(61);const f=e=>{const{sandbox:t,activeEmployer:i,employeeDetails:n,attachCFRDate:a}=e;if(Object(d.a)(t)||Object(d.a)(i)||Object(d.a)(n))return null;const o=Object(s.a)(Object(r.g)(i,"product","en")),c=Object(g.a)(t)||"dev";return h(t,{consumerRealmId:Object(r.g)(n,"consumerRealmId",null),authId:Object(r.i)("userIdentifier"),employerName:Object(r.g)(i,"employerName",null),companyRealmId:Object(r.g)(i,"employerId",null),region:Object(m.a)(Object(r.g)(i,"product",null)),product:Object(r.g)(i,"sourceSystem",null),language:o,Environment:c},a),null};f.propTypes={sandbox:a.a.object.isRequired,activeEmployer:a.a.object.isRequired,employeeDetails:a.a.object.isRequired,attachCFRDate:a.a.string.isRequired}},263:function(e,t,i){"use strict";var n=i(35),a=i.n(n),s=i(7),r=i.n(s),o=i(6),c=i.n(o),l=i(8),u=i(183),p=i(9),d=i.n(p);function h(){return window}function m(e,t){h().UserVoice.push([e,t])}var g=i(38),f=i(285),b=i(64);const y=e=>{if(Object(f.a)(e,"context")){const t=Object(u.a)(e,"context").getCompanyInfo();return Object(u.a)(t,"l10Info.locale")}return""},I=()=>{const e=h().navigator;return-1!==e.userAgent.indexOf("OPR")||-1!==e.userAgent.indexOf("Opera")?"Opera":-1!==e.userAgent.indexOf("Chrome")?"Chrome":-1!==e.userAgent.indexOf("Safari")?"Safari":-1!==e.userAgent.indexOf("Firefox")?"Firefox":-1!==e.userAgent.indexOf("Trident")?"IE":"unknown browser"},v=()=>{const e=h().navigator;let t="Unknown OS";return-1!==e.appVersion.indexOf("Win")&&(t="Windows"),-1!==e.appVersion.indexOf("Mac")&&(t="MacOS"),t},R=()=>{const e=h();return e.screen?"".concat(e.screen.width,"x").concat(e.screen.height,"(").concat(e.screen.availWidth,"x").concat(e.screen.availHeight,")"):""},C=(e,t)=>{const i="MacOS"===v()?"true":"",n="Windows"===v()?"true":"",a=h(),s=Object(g.i)("userIdentifier"),r=Object(b.a)(Object(u.a)(t,"product"));return Object.assign({},{userId:s,companyLocale:y(e),companyRegion:r,isQBOMacFeedback:i,isQBOWinFeedback:n,browser:I(),referrer:a.location.href,userAgent:a.navigator.userAgent,screenResolution:R(),workflow:"workforce"})},S=(e,t,i)=>({mode:"contact",accent_color:"#2ca01c",locale:y(e),forum_id:168199,menu_enabled:!0,contact_enabled:!1,screenshot_enabled:!0,smartvote_enabled:!1,post_idea_enabled:!1,strings:i,ticket_custom_fields:C(e,t)});var E=i(40);class O extends d.a{constructor(){super(...arguments),a()(this,"handleClick",e=>{let{target:t}=e;const{consumerRealmId:i,employerId:n}=this.props.employeeDetails;((e,t)=>{m(e?"hide":"show",{target:t})})(!!document.querySelector(".uv-popover:not(.uv-is-hidden)"),t),Object(E.t)(Object(g.j)(this.props.activeWidget,this.props.intl),i,n)}),a()(this,"renderLabel",()=>{if(!Object(u.a)(this.props,"isMobile",!1))return c.a.createElement("span",{className:"hidden-md-down label"},Object(g.p)(this.props.intl,"portal_header_feedback_button"))})}componentDidMount(){((e,t,i)=>{const n=h();if(n.UserVoice)return;const a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="//widget.uservoice.com/5SytiYyrEoStsXof7g09w.js",document.head.appendChild(a),n.UserVoice=[],m("set",S(e,t,i))})(this.props.sandbox,this.props.activeEmployer,this.widgetContent)}componentWillUnmount(){m("hide")}componentDidUpdate(){m("set",S(this.props.sandbox,this.props.activeEmployer,this.widgetContent))}get widgetContent(){return{contact_title:Object(g.p)(this.props.intl,"feedback_contact_title"),contact_message_placeholder:Object(g.p)(this.props.intl,"feedback_contact_message_placeholder"),contact_details_title:Object(g.p)(this.props.intl,"feedback_contact_details_title"),contact_submit_button:Object(g.p)(this.props.intl,"feedback_contact_submit_button"),contact_success_title:Object(g.p)(this.props.intl,"feedback_contact_success_title"),contact_success_body:Object(g.p)(this.props.intl,"feedback_contact_success_body")}}render(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{id:"feedbackButton",className:"global-header-item-button",onClick:this.handleClick},c.a.createElement("i",{className:"hi hi-announce"}),this.renderLabel()))}}a()(O,"propTypes",{isMobile:r.a.bool.isRequired,sandbox:r.a.object.isRequired,activeEmployer:r.a.shape({product:r.a.string}),intl:l.intlShape,activeWidget:r.a.string.isRequired,employeeDetails:r.a.shape({consumerRealmId:r.a.string.isRequired,employerId:r.a.string.isRequired})});t.a=O},57:function(e,t,i){"use strict";i.d(t,"k",(function(){return n})),i.d(t,"l",(function(){return a})),i.d(t,"e",(function(){return s})),i.d(t,"i",(function(){return r})),i.d(t,"g",(function(){return o})),i.d(t,"h",(function(){return c})),i.d(t,"f",(function(){return l})),i.d(t,"j",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"d",(function(){return d})),i.d(t,"b",(function(){return h})),i.d(t,"m",(function(){return m})),i.d(t,"q",(function(){return g})),i.d(t,"r",(function(){return f})),i.d(t,"p",(function(){return b})),i.d(t,"s",(function(){return y})),i.d(t,"o",(function(){return I})),i.d(t,"a",(function(){return v})),i.d(t,"n",(function(){return R})),i.d(t,"t",(function(){return C}));const n="ASYNC_STARTED",a="ASYNC_SUCCESS",s="ASYNC_FAIL",r="ASYNC_NOT_STARTED",o="LOAD_IUS_SCRIPTS_REQUEST",c="LOAD_IUS_SCRIPTS_SUCCESS",l="LOAD_IUS_SCRIPTS_FAILURE",u="SHOW_LOADING_SPINNER",p="CHECK_INVITATION_STATUS_CHECK",d="CHECK_INVITATION_STATUS_SUCCESS",h="CHECK_INVITATION_STATUS_FAILURE",m="UPDATE_CHECK_INVITATION_PARAMS";function g(){return{type:o}}function f(){return{type:c}}function b(e){return{type:l,error:e}}function y(e){return{type:u,show:e}}function I(){return{type:d}}const v="CFR_ALREADY_ATTACHED";function R(e){return{type:h,error:e}}function C(e){return{type:m,value:e}}},91:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i(6),a=i.n(n),s=i(7),r=i.n(s),o=i(10),c=i.n(o),l=i(126),u=i.n(l),p=i(105);const d=e=>{const t=e.headerMessage?a.a.createElement(m,null,e.headerMessage):null,i=e.showLogo?a.a.createElement(h,{src:u.a}):null;return a.a.createElement(p.b,null,i,t)};d.propTypes={headerMessage:r.a.string.isRequired,showLogo:r.a.bool},d.defaultProps={showLogo:!1};const h=c.a.img.withConfig({displayName:"WorkforceHeader__QBOLogoImg",componentId:"jrypln-0"})(["height:29px;margin-top:40px;align-self:flex-start;@media (max-width:768px){align-self:center;}"]),m=c.a.h1.withConfig({displayName:"WorkforceHeader__WorkforceHeaderH1",componentId:"jrypln-1"})(["max-width:950px;text-align:center;font-weight:bold;font-size:32pt;@media (max-width:768px){max-width:300px;font-size:24pt;}"]),g=e=>{let{showHeaderLogo:t,workforceHeaderMessage:i,workforceMessage:n,workforceSubMessage:s,workforceLinkedMessage:r,resourceUrl:o}=e;return a.a.createElement(p.b,null,a.a.createElement(d,{headerMessage:i,showLogo:t}),a.a.createElement(p.d,null),a.a.createElement(p.c,null,n),a.a.createElement(p.a,null,s),a.a.createElement("a",{href:o,target:"_blank",rel:"noreferrer"},a.a.createElement(p.a,null,r)))};g.propTypes={showHeaderLogo:r.a.bool,workforceHeaderMessage:r.a.string,workforceMessage:r.a.string.isRequired,workforceSubMessage:r.a.string.isRequired,workforceLinkedMessage:r.a.string,resourceUrl:r.a.string}}}]);
//# sourceMappingURL=js-plugin-payrollemployeeportalui~c1807361.js.map