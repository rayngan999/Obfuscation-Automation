!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(module,__webpack_exports__,__webpack_require__){"use strict";var _adManager_AdServingConfig__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var slot=[],delaySendRequest=100,DefaultApiTimeout=1500;function isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function getApiData(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:DefaultApiTimeout,r=(Date.now(),e),i=new Promise((function(e){setTimeout(e,a,{timeout:!0})}));return Promise.race([window.fetch(r,t),i]).then((function(e){return!e.timeout&&e.json()})).then((function(e){if(e)return"function"==typeof n&&n(e),Date.now(),e})).catch((function(e){}))}function getFetchOptionsPostJson(e){return{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}}function getApiData2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DefaultApiTimeout,a=(Date.now(),e),r={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify("{'a':'123'}")},i=new Promise((function(e){setTimeout(e,n,{timeout:!0})}));return Promise.race([window.fetch(a,r),i]).then((function(e){return!e.timeout&&e.json()})).then((function(e){if(e)return"function"==typeof t&&t(e),Date.now(),e})).catch((function(e){}))}function callTrackingApi(e){var t=this.getFetchOptionsPostJson(e);try{fetch("".concat("https://data.breaktime.com.tw/track/events/"),t)}catch(e){}}function getRandomSeq(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)+""+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function getRandomValueRange(e){return Math.floor(Math.random()*e)}function getRatioIndex(_randomRatio){var ratioIndex=-1;if("object"==_typeof(_randomRatio)&&_randomRatio.length>1){for(var ratio=eval(_randomRatio.join("+")),ratioTable=function(e,t){for(var n=[],a=0;a<e.length;a++)for(var r=0;r<e[a];r++)n.push(a);return n},randomValue=Math.ceil(Math.random().toFixed(2)*ratio);randomValue<0||randomValue>=ratio;)randomValue=Math.ceil(Math.random().toFixed(2)*ratio);ratioIndex=ratioTable(_randomRatio,ratio)[randomValue]}else ratioIndex=0;return ratioIndex}function getTopLayer(e,t){for(var n=e,a=t,r=0;r<20;){if(a&&a.parentNode&&a.parentNode.className&&a.parentNode.className.toLowerCase().indexOf(n.toLowerCase())>-1)return a;a=a.parentNode||!1,r++}return t}function initialSizeArray(e,t){var n=[];t.sort(i);var a=/[^a-zA-Z]/g,r=/[^0-9]/g;function i(e,t){var n=parseInt(e,10),i=parseInt(t,10);if(isNaN(n)&&isNaN(i)){var o=e.replace(a,""),s=t.replace(a,"");if(o===s){var c=parseInt(e.replace(r,""),10),d=parseInt(t.replace(r,""),10);return c===d?0:c>d?1:-1}return o>s?1:-1}return isNaN(n)?1:isNaN(i)?-1:i>n?1:-1}for(var o=0;o<t.length;o++)if(t[o].length>1)if("number"==typeof t[o][0]){if(1===t[o][0]){n.push(t[o]);continue}e>=t[o][0]&&n.push(t[o])}else n.push(t[o]);else n.push(t[o]);return n.sort(i),1,1,n.reduce((function(e,t,n,a){if(1!=t[1])return a;a.unshift(a[n]),a.splice(n+1,1)})),n}function getElementWidth(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=document.querySelector(t);return e.offsetWidth||n&&n.offsetWidth||document.body.offsetWidth}function delay(e){return new Promise((function(t,n){setTimeout(t,e)}))}function getSpecifyHost(){return window.location.hostname}function checkExcludePage(e){var t={},n=isExcludePage("home",e.home)||!1,a=isExcludePage("all",e.all)||!1,r=isExcludePage("inread",e.inread)||!1;return t.home=n,t.all=a,t.inread=r,t}function isExcludePage(e,t){var n=!1;if(t){var a=t,r=window.top.location.href.toLowerCase();r=(r=(r=new URL(r)).hostname+r.pathname).endsWith("/")?r.substr(0,r.length-1):r,n=a.filter((function(e){return e})).find((function(t){return t=t.endsWith("/")?t.substr(0,t.length-1):t,"home"==e?r==t.toLowerCase()||r==encodeURI(t).toLowerCase():(t=t.endsWith("/")?t.substr(0,t.length-1):t,r.indexOf(t.toLowerCase())>-1||r.indexOf(encodeURI(t).toLowerCase())>-1)}))}return!!n}function getParamValue(e){return(new URL(window.location.href).searchParams.get(e)||"").toString()}function getUrlParamValue(e,t){return(new URL(e).searchParams.get(t)||"").toString()}function getTimestamp(){return Math.floor(Date.now()/1e3)}function objArryToObj(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return e.forEach((function(e,a,r){n[e.key]=e.value||t&&getTargetingValue(e.key)||""})),n}function getDefaultTargeting(e){var t={"zi-forbid":"","zi-category":"","zi-web":"","zi-path":"","zi-partner":"","zi-campaign":"","zi-curation":""};return initTargetingValue(e=e&&Object.assign(e,t)||t)}function initTargetingValue(e){return e&&Object.keys(e).forEach((function(t,n,a){e[t]=getTargetingValue(t)})),e}function getTargetingValue(e){var t="";switch(e.toLowerCase()){case"zi-web":case"ziweb":t=getSpecifyHost();break;case"zi-path":case"zipath":t=window.top.location.pathname;break;case"zi-partner":t=_adManager_AdServingConfig__WEBPACK_IMPORTED_MODULE_0__.a.getInstance().getPartnerId()||"";break;case"zi-curation":t="none"}return t}__webpack_exports__.a={isMobile:isMobile,initialSizeArray:initialSizeArray,getElementWidth:getElementWidth,delay:delay,getRandomSeq:getRandomSeq,getRandomValueRange:getRandomValueRange,getRatioIndex:getRatioIndex,getApiData:getApiData,callTrackingApi:callTrackingApi,checkExcludePage:checkExcludePage,getFetchOptionsPostJson:getFetchOptionsPostJson,getParamValue:getParamValue,getUrlParamValue:getUrlParamValue,getTimestamp:getTimestamp,objArryToObj:objArryToObj,getDefaultTargeting:getDefaultTargeting,initTargetingValue:initTargetingValue,getSpecifyHost:getSpecifyHost,getTopLayer:getTopLayer}},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var i,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.partnerId=""}return r(e,null,[{key:"getInstance",value:function(){return i=i||new e}}]),r(e,[{key:"setPartnerId",value:function(e){this.partnerId=e}},{key:"getPartnerId",value:function(){return this.partnerId}}]),e}();t.a=o},function(e,t){!function(t){"use strict";var n,a=Object.prototype,r=a.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",d="object"==typeof e,u=t.regeneratorRuntime;if(u)d&&(e.exports=u);else{(u=t.regeneratorRuntime=d?e.exports:{}).wrap=w;var l="suspendedStart",f="suspendedYield",g="executing",p="completed",h={},m={};m[o]=function(){return this};var b=Object.getPrototypeOf,v=b&&b(b(A([])));v&&v!==a&&r.call(v,o)&&(m=v);var y=S.prototype=_.prototype=Object.create(m);T.prototype=y.constructor=S,S.constructor=T,S[c]=T.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(y),e},u.awrap=function(e){return{__await:e}},O(R.prototype),R.prototype[s]=function(){return this},u.AsyncIterator=R,u.async=function(e,t,n,a){var r=new R(w(e,t,n,a));return u.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(y),y[c]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},u.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,r){return s.type="throw",s.arg=e,t.next=a,r&&(t.method="next",t.arg=n),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),d=r.call(o,"finallyLoc");if(c&&d){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:A(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=n),h}}}function w(e,t,n,a){var r=t&&t.prototype instanceof _?t:_,i=Object.create(r.prototype),o=new P(a||[]);return i._invoke=function(e,t,n){var a=l;return function(r,i){if(a===g)throw new Error("Generator is already running");if(a===p){if("throw"===r)throw i;return j()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===l)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=g;var c=k(e,t,n);if("normal"===c.type){if(a=n.done?p:f,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=p,n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function _(){}function T(){}function S(){}function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function R(e){var t;this._invoke=function(n,a){function i(){return new Promise((function(t,i){!function t(n,a,i,o){var s=k(e[n],e,a);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?Promise.resolve(d.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}(n,a,t,i)}))}return t=t?t.then(i,i):i()}}function x(e,t){var a=e.iterator[t.method];if(a===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=k(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";n.r(t),n(2);var a=n(0),r=window.navigator.appVersion,i=navigator.appName,o=window.navigator.userAgent,s=window.navigator.platform;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=new function(){var e,t,n,a,c,d;this.OSName=(d="",-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(s)?d="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(s)?d="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(s)?d="Windows":/Android/.test(o)?d="Android":!d&&/Linux/.test(s)&&(d="Linux"),d||""),this.browser=(e={},t=i,n=""+parseFloat(r),a=parseInt(r,10),c=!1,-1!=(c=o.indexOf("Opera"))?(t="Opera",n=o.substring(c+6),-1!=(c=o.indexOf("Version"))&&(n=o.substring(c+8))):-1!=(c=o.indexOf("MSIE"))?(t="IE",n=o.substring(c+5)):-1!=(c=o.indexOf("Chrome"))?(t="Chrome",n=o.substring(c+7)):-1!=(c=o.indexOf("Safari"))?(t="Safari",n=o.substring(c+7),-1!=(c=o.indexOf("Version"))&&(n=o.substring(c+8))):-1!=(c=o.indexOf("Firefox"))&&(t="Firefox",n=o.substring(c+8)),e.name=t||"",e.majorVersion=a||"",e.fullVersion=n||"",e||{}),this.device=(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"desktop")||""},u={os:d.OSName||"",browser:d.browser.name||"",url:window.location.href,device:d.device||""};function l(e){Object.assign(e,u);var t=function(e){return Object.keys(e).forEach((function(t){"null"!=e[t]&&""!=e[t]||delete e[t]})),e}(e);return a.a.callTrackingApi(t)}var f={adTrack:l,adTrackRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ad-fd-request";return e.event=t,l(e)},adTrackResponse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ad-fd-response";return e.event=t,l(e)},adTrackImpression:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ad-impression";return e.event=t,l(e)},adTrackClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ad-click";return e.event=t,l(e)},adObjectParser:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t",a="";return Object.keys(t).forEach((function(r,i,o){"object"==c(t[r])?a+=r+":{"+e(t[r]," ")+"}"+(i!=o.length-1&&n||""):a+=r+":["+t[r]+"]"+(i!=o.length-1&&n||"")})),a}};function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var p,h=[],m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"sendDfpRequest",value:function(e){var t,n=e.targeting;window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){for(var a in t=googletag.defineSlot(e.adSlot,e.adSize,e.adContainer.id).addService(googletag.pubads()),n)t.setTargeting(a,n[a]);googletag.pubads().addEventListener("slotRenderEnded",(function(t){t.slot.getSlotElementId()==e.adContainer.id&&t.isEmpty&&(window.btadimplog+="ad is empty "+e.adContainer.id+" <> "+e.adSlot+"\n")})),googletag.pubads().enableLazyLoad(),googletag.pubads().enableSingleRequest(),googletag.enableServices()}));var a=document.createElement("script");a.innerHTML='googletag.cmd.push(function() { googletag.display("'.concat(e.adContainer.id,'");});'),e.adContainer.appendChild(a),h.push(t)}},{key:"sendDfpOopInterstitialRequest",value:function(e){var t,n=e.targeting;setTimeout((function(){window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){if(t=googletag.defineOutOfPageSlot(e.adSlot,googletag.enums.OutOfPageFormat.INTERSTITIAL)){for(var a in n)t.setTargeting(a,n[a]);t.addService(googletag.pubads())}googletag.pubads().enableSingleRequest(),googletag.pubads().enableLazyLoad(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.cmd.push((function(){googletag.display(t)})),googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([t])})),h.push(t)}),100)}},{key:"sendDfpOopAllFloatRequest",value:function(e){var t,n=e.targeting;setTimeout((function(){window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){if(t=googletag.defineOutOfPageSlot(e.adSlot,e.adId).addService(googletag.pubads()))for(var a in n)t.setTargeting(a,n[a]);googletag.pubads().enableSingleRequest(),googletag.pubads().enableLazyLoad(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.cmd.push((function(){googletag.display(e.adId)})),googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([t])})),h.push(t)}),100)}}],null&&g(t.prototype,null),n&&g(t,n),e}(),b={DOM:{appendAfterElement:function(e,t){e.parentNode.lastElementChild==e?e.parentNode.appendChild(t):e.parentNode.insertBefore(t,e.nextSibling)},appendBeforeElement:function(e,t){e.parentNode.insertBefore(t,e)},appendChild:function(e,t){e.appendChild(t)},generateTag:function(e){var t=document.createElement(e.tagName);for(var n in e.attributes)e.attributes[n]&&t.setAttribute(n,e.attributes[n]);return t.innerHTML=e.innerHTML||"",t},toBeFirstChild:function(e,t){var n=e.firstChild;n?this.appendBeforeElement(n,t):this.appendChild(e,t)}}};function v(e,t,n,a,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){v(i,a,r,o,s,"next",e)}function s(e){v(i,a,r,o,s,"throw",e)}o(void 0)}))}}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetElement=t.element||"",this.apiConfigResponseBodyData=t.adConfig||"",this.apiAdResponseBodyData=t.adResponseBodyData,this.trackObj=t.trackObj,this.adSize=this.apiConfigResponseBodyData.sizes||"",this.outOfPageString="outOfPage",this.isOutOfPage=this.adSize.indexOf(this.outOfPageString)>-1,this.isRunScript=!1,this.targeting=this.apiConfigResponseBodyData.targeting,this.inReadAdSlotName=t.inReadAdSlotName||"",this.inReadAdBt=t.inReadAdBt||"",this.adTracking=f,this.DOM=b.DOM,this.process()}return k(e,null,[{key:"getInstance",value:function(t){return p=p||new e(t)}}]),k(e,[{key:"process",value:function(){var e=y(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adSize&&this.adSize.length>0&&this.apiAdResponseBodyData&&this.apiAdResponseBodyData.data&&(this.apiAdResponseBodyData.data.ads&&Object.keys(this.apiAdResponseBodyData.data.ads)||[]).forEach(function(){var e=y(regeneratorRuntime.mark((function e(n,a,r){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(setTimeout((function(){}),50),"none"!==t.apiAdResponseBodyData.data.ads[n]){e.next=3;break}return e.abrupt("return",!1);case 3:e.t0=t.apiAdResponseBodyData.data.ads[n].source,e.next="admanager"===e.t0?6:"custom"===e.t0?20:24;break;case 6:if(!t.isOutOfPage){e.next=18;break}i={adSlot:t.getAdSlot(t.apiAdResponseBodyData.data.ads[n].adUnits),adSlotSize:t.apiAdResponseBodyData.data.ads[n].adUnits.sizes,adSlotId:"div-gpt-ad-"+t.apiAdResponseBodyData.data.ads[n].adUnits.adunitId+"-0",targeting:t.targeting},o=t.apiAdResponseBodyData.data.ads[n].outOfPageType,e.t1=o,e.next="allfloat"===e.t1?12:"interstitial"===e.t1?14:16;break;case 12:return m.generateAdsOutOfPage(i),e.abrupt("break",16);case 14:return m.sendDfpOopInterstitialRequest(i),e.abrupt("break",16);case 16:e.next=19;break;case 18:t.admanager(t.apiAdResponseBodyData.data.ads[n].adUnits);case 19:return e.abrupt("break",24);case 20:return t.isRunScript="additional"!==t.apiConfigResponseBodyData.adType,e.next=23,t.custom(t.apiAdResponseBodyData.data.ads[n].ad,Object.assign({},t.trackObj));case 23:return e.abrupt("break",24);case 24:return e.next=26,t.adTracking.adTrackImpression(Object.assign({},t.trackObj));case 26:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"admanager",value:function(){var e=y(regeneratorRuntime.mark((function e(t){var n,r,i,o,s,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r=a.a.getElementWidth(this.targetElement),(i={}).adSlot=this.getAdSlot(n),i.adSize=this.adSize&&this.adSize.length>1?a.a.initialSizeArray(r,this.adSize):this.adSize,i.adContainer=this.targetElement,i.targeting=this.targeting,m.sendDfpRequest(i),this.apiConfigResponseBodyData.sticky&&((o={}).sticky={},o.sticky.footerSelector=this.apiConfigResponseBodyData.sticky.footerSelector,o.sticky.defaultTop=this.apiConfigResponseBodyData.sticky.defaultTop,s=new T.StickyHandler(o)||"",setTimeout((function(){var e=c.targetElement;e&&(s.initBeforeElement(s,c.targetElement),s.scrollEventHandler(s,e))}),200));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"custom",value:function(){var e=y(regeneratorRuntime.mark((function e(t,n){var a,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{1,this.isOutOfPage?(a=document.createElement("script"),r=document.getElementsByTagName("script")[0],a.innerHTML=t,r&&r.parentNode&&r.parentNode.insertBefore(a,r)):this.isRunScript?this.apiConfigResponseBodyData.inread?((a=document.createElement("script")).innerHTML=t,this.DOM.appendChild(this.targetElement,a)):(a=document.createElement("script"),r=this.targetElement.appendChild(a),a.innerHTML=t):(this.targetElement.innerHTML=t,this.targetElement.addEventListener("click",(function(e){i.adTracking.adTrackClick(Object.assign({},n))})))}catch(e){}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAdSlot",value:function(e){var t="";return e&&(t="/".concat(e.dfpid)+(e.childDfpid?",".concat(e.childDfpid,"/"):"/")+e.adunitCode),t}}]),e}(),T={StickyHandler:function(e){this.footerSelector=e.sticky.footerSelector,this.defaultTop=e.sticky.defaultTop,this.baseElement=document.createElement("div"),this.footer=document.querySelector(this.footerSelector),this.baseTop=0,this.stickyBottom=0,this.isHideSticky=!1,this.stickedBottom=0,this.footerTop=0,this.stickyFixedLeft=0,this.initBeforeElement=function(e,t){t.parentNode.insertBefore(e.baseElement,t)},this.init=function(e){e.appendChild(this.baseElement)},this.scrollEventHandler=function(e,t){window.addEventListener("scroll",(function(){e.footer&&(e.footerTop=e.footer.getBoundingClientRect().top),e.orgStyleCssText=t.style.cssText,e.baseTop=e.baseElement.getBoundingClientRect().top,e.stickyBottom=t.getBoundingClientRect().bottom+100,e.isHideSticky=e.stickedBottom>e.footerTop,0==e.stickyFixedLeft&&(e.stickyFixedLeft=t.getBoundingClientRect().left),e.baseTop-e.defaultTop<=0&&!e.isHideSticky?(e.stickedBottom=0==e.stickedBottom&&e.stickyBottom,t.style.position="fixed",t.style.top=e.defaultTop+"px",t.style.width="inherit",t.style.left=e.stickyFixedLeft+(t.parentNode.getBoundingClientRect().width-t.getBoundingClientRect().width)/2+"px"):(t.style.position="",t.style.top="",t.style.left="")}))}},InListPreHandler:function(e,t){var n=[];if(t){e.inlist.ENABLE_2ADS_PER_ROW;var r=a.a.isMobile?e.inlist.MB.beginItem:e.inlist.PC.beginItem,i=a.a.isMobile?e.inlist.MB.interval:e.inlist.PC.interval,o=a.a.isMobile?e.inlist.MB.maxNumOfSet:e.inlist.PC.maxNumOfSet,s=t.length>r?1+Math.floor((t.length-r)/i):0;s=s>o&&0!==o?o:s;for(var c=0;c<s;c++){var d=0===c?t[r-1]:t[c*i+r-1];n.push(d)}}return n},initAdParentContainer:function(e){var t=document.createElement(e.tagName);return t.className=e.className||"",t.style.cssText=e.styleText,t},InReadHandler:function(e,t){Date.now();var n=t,a=e.btBeginPa||0,r=e.btInterval||9,i=n[n.length-1].bt,o=0,s=!1,c=!1;if(n.forEach((function(e,t,n){var d;if(e.orgIndex=t,c=t==n.length-1,d=!1,e.bt>=a+r*o&&(d=!0,o++),d||c){if(e.bt>i-3&&!c)return!1;s?e.adSlotName=c?"pb":"nm":(e.adSlotName="pa",s=!0)}})),n){var d=e.custom;if(d)for(var u=n[Math.ceil((n.length-1)*d.customOptions.inreadLocation)].orgIndex,l=u;l<t.length;l++)if(t[l].bt>t[u].bt+d.customOptions.inreadLocationAfterBt){t[l].adSlotName="custom";break}(n=n.filter((function(e,t,n){return e.adSlotName}))).length>=3&&(n[Math.ceil(.5*(n.length-2))].adSlotName="pm")}return Date.now(),n},InReadCalculatorHandler:function(e,t){var n=[],a=["TABLE","CENTER","BLOCKQUOTE","FIGURE"].concat(e.excludeTags),r=["info","wp-caption"].concat(e.excludeClasses),i=0,o=function(e){var t=e.nodeName,a="#text"!==e.nodeName?e.innerHTML.trim():e.innerHTML;if("IMG"===t)i+=2,n.push({element:e,bt:i});else if(["P","DIV"].indexOf(t)>-1&&a&&"&nbsp;"!==a){var r=e.querySelector("img"),o=e.innerText.trim();r?(i+=o?3:2,n.push({element:e,bt:i})):(i+=1,n.push({element:e,bt:i}))}};return function e(t){var n,i,s=t.className.split(/\s+/),c=r;if(a.indexOf(t.nodeName)>-1?i=!0:c.forEach((function(e){s.find((function(t){if(e===t)return i=!0}))})),!i&&t.querySelector("p, div, img, br")&&(n=!0),n)for(var d=0;d<t.children.length;d++)e(t.children[d]);else i||(["P","DIV"].indexOf(t.nodeName)>-1&&t.innerHTML.trim()&&"&nbsp;"!==t.innerHTML.trim()||"IMG"===t.nodeName||"BR"===t.nodeName&&t.previousSibling&&"BR"!==t.previousSibling.nodeName&&("#text"!==t.previousSibling.nodeName||t.previousSibling.nodeValue.trim()))&&o(t)}(t),n},checkElementVisibility:function(e){if(e&&e.style&&"none"==e.style.display)return!0;var t=window.top.innerHeight,n=e.offsetHeight,a="";return a=window.frameElement?window.frameElement.getBoundingClientRect().top+e.getBoundingClientRect().top:e.getBoundingClientRect().top,a=isNaN(a)?a:parseInt(a,10),parseInt(a,10)+1500>-n&&parseInt(a,10)-1500<=t},checkAllElementsVisibility:function(e,t){t.forEach((function(n,a){e(n.element)&&n.element&&(new _(n),t.splice(a,1))}))}},S=n(1);function O(e,t,n,a,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){O(i,a,r,o,s,"next",e)}function s(e){O(i,a,r,o,s,"throw",e)}o(void 0)}))}}var x=1e3;function E(){return(E=R(regeneratorRuntime.mark((function e(){var t,n,r,i,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:P,n=c.length>1&&void 0!==c[1]?c[1]:x,r=a.a.getSpecifyHost(),i="?domain="+r+"&pid="+(S.a.getInstance().getPartnerId()||"")+"&device="+(a.a.isMobile()?"mobile":"desktop"),o="".concat("//powerads.breaktime.com.tw/v1/bt/config")+i,e.next=7,a.a.getApiData(o,{},t,n);case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=R(regeneratorRuntime.mark((function e(t){var n,r,i,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:P,r=c.length>2&&void 0!==c[2]?c[2]:x,i="".concat("//powerads.breaktime.com.tw/v1/bt/ad"),o=a.a.getFetchOptionsPostJson(t),e.next=6,a.a.getApiData(i,o,n,r);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){}var A={getWebConfig:function(){return E.apply(this,arguments)},getAdConfig:function(e){return C.apply(this,arguments)},defaultCb:P,getPostJson:function(e){var t={};return t.website=e.wid,t.code={},t},getFakeAdData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a={},r={};switch(e){case"Zi_ad_a_H":r.ads={"5fbf73e71e6146c8c5016a03":{lid:"000001",sizes:[[970,250]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_a_H",sizes:[[970,250]],adunitId:"1550908041727"}}};break;case"Zi_ad_a_F":r.ads={"9sfe9werqwe93jeqwvampc":{lid:"000002",sizes:[[336,280],[660,150],[728,90],[1,1],[300,250],[320,50],[970,90],"fluid",[400,150],[970,250],[320,100],[580,133]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_a_F",sizes:[[336,280],[660,150],[728,90],[1,1],[300,250],[320,50],[970,90],"fluid",[400,150],[970,250],[320,100],[580,133]],adunitId:"8402357937841"}}};break;case"Zi_ad_a_SB":r.ads={"3dfokge9ad67adsfas2mlvn":{lid:"000003",sizes:["fluid",[336,280],[160,600],[300,250],[300,600],[1,1]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_a_SB",sizes:["fluid",[336,280],[160,600],[300,250],[300,600],[1,1]],adunitId:"3934902334435"}}};break;case"Zi_ad_a_SBS":r.ads={q03sldkf02rfjeor3042jfe:{lid:"000004",sizes:["fluid",[300,600],[160,600],[300,250],[336,280]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_a_SBS",sizes:["fluid",[300,600],[160,600],[300,250],[336,280]],adunitId:"3934902333857"}}};break;default:switch(t){case"inlist":r.ads={"5fbf73e71e6146c8c5978978":{lid:"000005",sizes:["fluid",[300,600],[160,600],[300,250],[336,280]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_li_il",sizes:[[320,100],[320,50],"fluid",[468,60],[1,1],[336,280],[300,250],[728,90]],adunitId:"3934902978978"}}};break;case"inread":switch(n){case"pa":r.ads={"5fbf73e71e6146c8c5016123":{lid:"inread-001",sizes:[[468,60],[970,90],[336,280],[300,250],[320,50],[1,1],"fluid",[970,250],[320,100],[730,250],[728,90],[640,360],[320,480]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_ar_iR_Pa",sizes:[[468,60],[970,90],[336,280],[300,250],[320,50],[1,1],"fluid",[970,250],[320,100],[730,250],[728,90],[640,360],[320,480]],adunitId:"21770516678"}}};break;case"pb":r.ads={"5fbf73e71e6146c8c5016456":{lid:"inread-002",sizes:[[640,360],[1,1],[336,280],"fluid",[320,100],[468,60],[970,250],[730,250],[320,480],[320,50],[300,250],[728,90],[970,90]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_ar_iR_Pb",sizes:[[640,360],[1,1],[336,280],"fluid",[320,100],[468,60],[970,250],[730,250],[320,480],[320,50],[300,250],[728,90],[970,90]],adunitId:"21770516789"}}};break;case"nm":r.ads={"5fbf73e71e6146c8c5016789":{lid:"inread-003",sizes:[[1,1],[320,480],[336,280],"fluid",[320,50],[320,100],[300,250],[728,90],[468,60],[970,90],[970,250]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_ar_iR_N",sizes:[[1,1],[320,480],[336,280],"fluid",[320,50],[320,100],[300,250],[728,90],[468,60],[970,90],[970,250]],adunitId:"21770516068"}}};break;case"pm":r.ads={"5fbf73e71e6146c8c5016000":{lid:"inread-004",sizes:[[320,100],[336,280],[728,90],"fluid",[320,480],[300,250],[970,250],[970,90],[320,50],[468,60],[1,1]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_ar_iR_Pm",sizes:[[320,100],[336,280],[728,90],"fluid",[320,480],[300,250],[970,250],[970,90],[320,50],[468,60],[1,1]],adunitId:"21770516978"}}}}break;case"additional":r.ads={"5fbf73e71e6146c8c5016a00":{ad:"\n  var w_adbot = (top !== self) ? window.top : window, d_adbot = w_adbot.document;\n  w_adbot._adbot_partner_id = 'a662b8e1787c0457ca20ad38a81f3dc6';\n  w_adbot._adbot_keywords = [];\n  w_adbot._adbot_slots = ['bottomfloat'];\n  w_adbot._adbot_color = '';\n  w_adbot._adbot_label = 'bottomfloat';\n  w_adbot._adbot_ext_propeller = {\n    enabled_hour_start: 21,    \n    enabled_hour_end: 8,       \n    normaltime_ratio: 0,     \n    normaltime_se_ratio: 100,   \n    normaltime_fb_ratio: 100,   \n    hottime_ratio: 40,     \n    hottime_se_ratio: 100,      \n    hottime_fb_ratio: 100,      \n    d_normaltime_ratio: 0,    \n    d_normaltime_se_ratio: 70, \n    d_normaltime_fb_ratio: 70, \n    d_hottime_ratio: 70,       \n    d_hottime_se_ratio: 70,    \n    d_hottime_fb_ratio: 70     \n  };\n  var script = w_adbot.document.createElement('script');\n  script.type = 'text/javascript'\n  script.src = 'https://brain.adbot.tw/js/bootstrap.min.js';\n  script.setAttribute('charset', 'utf-8');\n  w_adbot.document.getElementsByTagName('head')[0].appendChild(script);\n\n",lid:"5fcddc54616869a1a17ff760",sizes:[[64,34]],source:"custom"}}}}return a.data=r,a}};function j(e,t,n,a,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){j(i,a,r,o,s,"next",e)}function s(e){j(i,a,r,o,s,"throw",e)}o(void 0)}))}}function B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var D,L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ISRETRY=!1,this.adTrackRequestObj={},this.adTrackObj={domain:a.a.getSpecifyHost(),request_id:"",version:""}}var t,n;return t=e,(n=[{key:"initApiAdRequestBody",value:function(e){var t=e.elementWidth,n=e.sizes.length>1&&e.sizes.indexOf("outOfPage")<0?a.a.initialSizeArray(t,e.sizes):e.sizes,r={website:e.wid,domain:a.a.getSpecifyHost(),bt_code:e.bt_code,device:a.a.isMobile()?"mobile":"desktop",request_id:e.request_id||"",version:e.version||"",code:{}};return r.code[e.cid]={},r.code[e.cid].size=n,r.code[e.cid].targeting=a.a.getDefaultTargeting(e.targeting),this.adTrackRequestObj={domain:r.domain,request_id:r.request_id,bt_code:r.bt_code,size:JSON.stringify(n),version:r.version},r}},{key:"getAdTrackObj",value:function(){return this.adTrackObj}},{key:"getData",value:function(){var e=I(regeneratorRuntime.mark((function e(t){var n,a,r,i,o,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=3,a=1,r=this.initApiAdRequestBody(t),e.next=5,A.getAdConfig(r,f.adTrackRequest(Object.assign({},this.adTrackRequestObj)));case 5:i=e.sent;case 6:if(!(this.ISRETRY&&!i&&a<n)){e.next=14;break}return e.next=9,A.getAdConfig(r,f.adTrackRequest(Object.assign({},this.adTrackRequestObj)));case 9:i=e.sent,a++,e.next=6;break;case 14:return i&&i.data&&(o=i.data.ads&&Object.keys(i.data.ads)||[])&&o.length>0&&o.forEach(function(){var e=I(regeneratorRuntime.mark((function e(n,a,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.adTrackObj.request_id=t.request_id,s.adTrackObj.version=t.version,"none"===i.data.ads[n]?(s.adTrackObj.lineitem="none",s.adTrackObj.bt_code=t.bt_code,s.adTrackObj.size="none",s.adTrackObj.source="none"):(s.adTrackObj.lineitem=i.data.ads[n].line_item||"",s.adTrackObj.bt_code=i.data.ads[n].bt_code||t.bt_code,s.adTrackObj.size=JSON.stringify(i.data.ads[n].sizes)||"",s.adTrackObj.source=i.data.ads[n].source||""),f.adTrackResponse(Object.assign({},s.adTrackObj));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}])&&B(t.prototype,n),e}();function N(e,t,n,a,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function z(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}var q,V=0,H=0,W=0,F=0,U=0,J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultAdTagName="DIV",this.adTagClassName="adsbybtadsv",this.DOM=b.DOM}return z(e,null,[{key:"getInstance",value:function(){return D=D||new e}}]),z(e,[{key:"start",value:function(e){e&&(this.adType=e.adConfig&&e.adConfig.adType?e.adConfig.adType:"",this.adResponseDataAds=!!(e.adResponseBodyData&&e.adResponseBodyData.data&&e.adResponseBodyData.data.ads)&&e.adResponseBodyData.data.ads,this.adResponseBodyObjectKeys=this.adResponseDataAds?Object.keys(this.adResponseDataAds):[],this.processAdTag(e))}},{key:"processAdTag",value:function(e){var t=this;this.adResponseBodyObjectKeys.forEach(function(){var n,r=(n=regeneratorRuntime.mark((function n(r,i,o){var s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"none"!=t.adResponseDataAds[r]&&(e.element?((c=document.createElement(t.defaultAdTagName)).style.cssText="text-align: center; "+(a.a.isMobile()?e.adConfig.defineStyleTextMb:e.adConfig.defineStyleTextPc),c.id=t.getAdTagId(t.adType),"inlist"==t.adType||"inread"==t.adType?((s=t.DOM.generateTag(e.adConfig.inread&&e.adConfig.inread.adParentContainer||e.adConfig.inlist&&e.adConfig.inlist.adParentContainer)).className="".concat(s.className," ").concat(t.adTagClassName),e.inReadAdSlotName&&"pa"==e.inReadAdSlotName&&0==e.adConfig.inread.btBeginPa?t.DOM.appendBeforeElement(e.element,s):t.DOM.appendAfterElement(e.element,s),t.DOM.appendChild(s,c),e.element=c,t.adProcessor(e),(e.adConfig.inlist&&e.adConfig.inlist.ENABLE_2ADS_PER_ROW||e.adConfig.inread&&e.adConfig.inread.ENABLE_2ADS_PER_ROW)&&((c=document.createElement(t.defaultAdTagName)).style.cssText=a.a.isMobile()?e.adConfig.defineStyleTextMb:e.adConfig.defineStyleTextPc,c.id=t.getAdTagId(t.adType),t.DOM.appendChild(s,c),e.element=c,t.adProcessor(e))):(c.className="".concat(t.adTagClassName," ").concat(a.a.isMobile()?e.adConfig.defineClassNameMb:e.adConfig.defineClassNamePc),t.DOM.appendChild(e.element,c),e.element=c,t.adProcessor(e))):t.adProcessor(e));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,r){var i=n.apply(e,t);function o(e){N(i,a,r,o,s,"next",e)}function s(e){N(i,a,r,o,s,"throw",e)}o(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}())}},{key:"adProcessor",value:function(e){e.adConfig.isLazyLoad&&e.adConfig.targetTag?window.btScanElementsContainer.push(e):new _(e)}},{key:"getAdParentContainer",value:function(e){var t=!1;return e&&(t=this.DOM.generateTag(e)),t}},{key:"getAdTagId",value:function(e){var t,n;switch(e){case"fixed":t="div-bt-ad-21795511880-",n=H+=1;break;case"inlist":t="div-bt-ad-21795533880-",n=W+=1;break;case"inread":t="div-bt-ad-21795522880-",n=F+=1;break;case"additional":t="div-bt-ad-21795544880-",n=U+=1;break;default:t="div-bt-ad-21795500880-",n=V+=1}return t+(1==(n+"").length?"0"+n:n)}}],[{key:"generateAdsOutOfPage",value:function(e,t,n){var a=t.targeting,r={adSlot:n.adSlot||"",adSize:n.adSlotSize||[],adId:n.adSlotId||"",targeting:a};if(e&&"allfloat"==e){var i=document.createElement("div");i.id=r.adId,document.body.insertBefore(i,document.body.firstChild),m.sendDfpOopAllFloatRequest(r)}else m.sendDfpOopInterstitialRequest(r)}}]),e}();function G(e,t,n,a,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){G(i,a,r,o,s,"next",e)}function s(e){G(i,a,r,o,s,"throw",e)}o(void 0)}))}}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Y(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inReadElements=this.inReadElements&&this.inReadElements.length>0?this.inReadElements:[]}return Y(e,null,[{key:"getInstance",value:function(){return q=q||new e}}]),Y(e,[{key:"init",value:function(){var e=K(regeneratorRuntime.mark((function e(t){var n,r,i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}location.search.indexOf("dbg=1"),e.t0=t.adType,e.next="fixed"===e.t0?5:"inlist"===e.t0?8:"inread"===e.t0?11:"additional"===e.t0?14:16;break;case 5:return(n=document.querySelectorAll("."+t.targetTag+", #"+t.targetTag))&&n.forEach((function(e,n,r){t.elementWidth=a.a.getElementWidth(e);var i={element:e,adConfig:t};o.do(i)})),e.abrupt("break",17);case 8:return(n=document.querySelectorAll(t.inlist.cssSelector))&&(r=new T.InListPreHandler(t,n)).length>0&&r.forEach((function(e,n,r){t.elementWidth=a.a.getElementWidth(e,t.inlist.cssSelector);var i={element:e,adConfig:t};o.do(i)})),e.abrupt("break",17);case 11:return(n=document.querySelector(t.inread.cssSelector||".Zi_ad_ar_iR"))&&(this.inReadElements=this.inReadElements.length>0?this.inReadElements:new T.InReadCalculatorHandler(t.inread,n),this.inReadElements&&this.inReadElements.length>0&&new T.InReadHandler(t.inread,this.inReadElements.slice()).forEach((function(e,n,r){var i=Object.assign({},t);i.elementWidth=a.a.getElementWidth(e.element,t.inread.cssSelector);var s=i.inread["sub-adunit"].filter((function(t){return t.inReadType==e.adSlotName}));if(s.length>0){i.cid=s[0].cid,i.sizes=s[0].sizes,i.isLazyLoad=s[0].isLazyLoad,i.inReadType=s[0].inReadType,i.bt_code=s[0].bt_code;var c={element:e.element,adConfig:i,inReadAdSlotName:e.adSlotName||"",inReadAdBt:e.bt||""};o.do(c)}}))),e.abrupt("break",17);case 14:return t.targetTag?(n=document.querySelectorAll("."+t.targetTag+", #"+t.targetTag))&&n.forEach((function(e,n,r){t.elementWidth=a.a.getElementWidth(e);var i={element:e,adConfig:t};o.do(i)})):(i={element:"",adConfig:t},this.do(i)),e.abrupt("break",17);case 16:case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"do",value:function(){var e=K(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new L,e.next=3,n.getData(t.adConfig);case 3:a=e.sent,t.adResponseBodyData=a,t.trackObj=n.getAdTrackObj(),J.getInstance().start(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),X=50,$=Date.now();function ee(e){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=e,document.head.querySelectorAll("script")[0]?document.head.querySelectorAll("script")[0].parentNode.insertBefore(t,document.head.querySelectorAll("script")[0]):document.head.appendChild(t)}var te={initialDirectAdsense:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return new Promise((function(t,n){setTimeout((function(){t(ee("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"))}),e)}))},initialDoubleClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return new Promise((function(t,n){setTimeout((function(){t(ee("//www.googletagservices.com/tag/js/gpt.js"))}),e)}))},injectAdsUnitInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return new Promise((function(t,n){setTimeout((function(){t(ee("//power.adhacker.online/general/std_au_20.js?t="+$))}),e)}))},injectPmpCfg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return new Promise((function(t,n){setTimeout((function(){t(ee("//power.adhacker.online/pmp/pmp_ads_cfg.js?t="))}),e)}))},injectPmpMain:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return new Promise((function(t,n){setTimeout((function(){t(ee("//power.adhacker.online/pmp/pmp_ads.js?t="))}),e)}))},isInjectedResource:function(e){for(var t=e,n=document.querySelectorAll("script"),a=!1,r=0;r<n.length;r++)if(n[r].src.indexOf(t)>-1){a=!0;break}return a},injectBucketJs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;return new Promise((function(n,a){setTimeout((function(){n(ee("https://power.adhacker.online/ps/excl/"+e+".js?t="+$))}),t)}))},injectJs:ee};function ne(e,t,n,a,r,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}var ae,re=!1,ie=a.a.getParamValue("btprvmd")||localStorage.getItem("btprvmd"),oe=ie&&!isNaN(ie),se=S.a.getInstance(),ce=document.currentScript,de=(location.search.indexOf("dbg=1"),a.a.getUrlParamValue(ce.src,"spj"));se.setPartnerId(de),window.btadimpdbgcd="iocjqw04kc83kgijj6wql3x",window.btadimplog="",window.btScanElementsContainer=window.btScanElementsContainer||[],(ae=regeneratorRuntime.mark((function e(){var t,n,r,i,o,s,c,d,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe){e.next=9;break}if(t="//power.adhacker.online/general/gl_preview_"+ie+".js",ce.src.indexOf("gl_preview_")>-1){e.next=9;break}return t="".concat(t,"?spj=").concat(de),e.next=8,te.injectJs(t);case 8:return e.abrupt("return");case 9:return n=3,r=1,e.next=13,A.getWebConfig();case 13:if(e.t0=e.sent,e.t0){e.next=16;break}e.t0=!1;case 16:i=e.t0,o={};case 18:if(i||!(r<n)){e.next=28;break}return e.next=21,A.getWebConfig();case 21:if(e.t1=e.sent,e.t1){e.next=24;break}e.t1=!1;case 24:i=e.t1,r++,e.next=18;break;case 28:if(!(i&&i.status&&i.data)){e.next=56;break}if(s=function(){btScanElementsContainer.length>0&&T.checkAllElementsVisibility(T.checkElementVisibility,btScanElementsContainer)},window.addEventListener("scroll",s),o=i.data,c=o.website_config||"",d=c&&c.wid||"",u=c&&c.exclude&&a.a.checkExcludePage(c.exclude)||{},l=o.request_id||"",f=o.version||"",!(u&&u.home||u.all)){e.next=50;break}return e.abrupt("return");case 50:return e.next=52,te.initialDirectAdsense();case 52:return e.next=54,te.initialDoubleClick();case 54:re=!0,o.ad_config&&o.ad_config.forEach((function(e,t,n){var a,r,i;u.inread&&"inread"==e.adType||(e.wid=d,e.request_id=l,e.version=f,a=e,r=0,i=setInterval((function(){re&&r<1&&(r++,clearInterval(i),Q.getInstance().init(a))}),50))}));case 56:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var r=ae.apply(e,t);function i(e){ne(r,n,a,i,o,"next",e)}function o(e){ne(r,n,a,i,o,"throw",e)}i(void 0)}))})()}]);