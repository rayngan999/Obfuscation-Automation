!function(){var c,d,e,f,a={DEBUG:!1,LIB_VERSION:"1.6.8"},b_contains=function(e,t){if("[object Array]"!==Object.prototype.toString.apply(e))return-1;if(!e&&!t)return-1;for(var r=0;r<e.length;r++)if("function"==typeof e[r].indexOf&&0<e[r].indexOf(t))return r;return-1},j=((c="undefined"==typeof window?{navigator:{userAgent:""},document:{}}:window).document,c.navigator.userAgent);e=c.device,d={},c.device=d,j=j.toLowerCase(),d.ios=function(){return d.iphone()||d.ipod()||d.ipad()},d.iphone=function(){return!d.windows()&&f("iphone")},d.ipod=function(){return f("ipod")},d.ipad=function(){return f("ipad")},d.android=function(){return!d.windows()&&f("android")},d.androidPhone=function(){return d.android()&&f("mobile")},d.androidTablet=function(){return d.android()&&!f("mobile")},d.blackberry=function(){return f("blackberry")||f("bb10")||f("rim")},d.blackberryPhone=function(){return d.blackberry()&&!f("tablet")},d.blackberryTablet=function(){return d.blackberry()&&f("tablet")},d.windows=function(){return f("windows")},d.windowsPhone=function(){return d.windows()&&f("phone")},d.windowsTablet=function(){return d.windows()&&f("touch")&&!d.windowsPhone()},d.fxos=function(){return(f("(mobile;")||f("(tablet;"))&&f("; rv:")},d.fxosPhone=function(){return d.fxos()&&f("mobile")},d.fxosTablet=function(){return d.fxos()&&f("tablet")},d.meego=function(){return f("meego")},d.cordova=function(){return c.cordova&&"file:"===location.protocol},d.nodeWebkit=function(){return"object"==typeof c.process},d.mobile=function(){return d.androidPhone()||d.iphone()||d.ipod()||d.windowsPhone()||d.blackberryPhone()||d.fxosPhone()||d.meego()},d.tablet=function(){return d.ipad()||d.androidTablet()||d.blackberryTablet()||d.windowsTablet()||d.fxosTablet()},d.desktop=function(){return!d.tablet()&&!d.mobile()},d.television=function(){var e,t=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"];for(e=0;e<t.length;){if(f(t[e]))return!0;e++}return!1},d.portrait=function(){return 1<c.innerHeight/c.innerWidth},d.landscape=function(){return c.innerHeight/c.innerWidth<1},d.noConflict=function(){return c.device=e,this},f=function(e){return-1!==j.indexOf(e)},d.devicePlatform=function(){var e="web";return d.ios()?d.ipad()?e="iPad":d.iphone()?e="iPhone":d.ipod()&&(e="iPod touch"):e=d.android()?d.androidTablet()?"Tablet":"Phone":d.blackberry()?d.blackberryTablet()?"Tablet":"Phone":d.windows()?d.windowsTablet()?"Tablet":d.windowsPhone()?"Phone":"web":d.fxos()?d.fxosTablet()?"Tablet":"Phone":d.meego()?"Phone":"web",e},d.deviceModel=function(){var e="";if(d.android()){var t=c.navigator.userAgent.split(";"),r=b_contains(t,"Build/");-1<r&&(e=t[r].substring(0,t[r].indexOf("Build/")))}else d.ios()&&d.iphone()&&(e="iPhone");return e},Object.prototype.hasOwnProperty.call(c,"onorientationchange");var l,k=d;l="undefined"==typeof window?{navigator:{}}:window;var I,n=Array.prototype,p=Function.prototype,q=Object.prototype,r=n.slice,s=q.hasOwnProperty,t=l.console,v=(l.navigator,l.document),w=p.bind,x=n.forEach,y=n.indexOf,z=Array.isArray,A={},B={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C_log=function(){if(a.DEBUG&&!B.isUndefined(t)&&t)try{t.log.apply(t,arguments)}catch(e){B.each(arguments,function(e){t.log(e)})}},C_error=function(){if(a.DEBUG&&!B.isUndefined(t)&&t){var r=["DATracker error:"].concat(B.toArray(arguments));try{t.error.apply(t,r)}catch(e){B.each(r,function(e){t.error(e)})}}},C_critical=function(){if(!B.isUndefined(t)&&t){var r=["DATracker error:"].concat(B.toArray(arguments));try{t.error.apply(t,r)}catch(e){B.each(r,function(e){t.error(e)})}}},D="-1",E=l.external,F=l.navigator.userAgent||"",G=l.navigator.appVersion||"",H=l.navigator.vendor||"",J=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,K=/\bbb10\b.+?\bversion\/([\d.]+)/,L=/\bblackberry\b.+\bversion\/([\d.]+)/,M=/\bblackberry\d+\/([\d.]+)/;function N(e){return Object.prototype.toString.call(e)}var R=[["nokia",function(e){return-1!==e.indexOf("nokia ")?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],["samsung",function(e){return-1!==e.indexOf("samsung")?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return-1!==e.indexOf("windows phone ")||-1!==e.indexOf("xblwp")||-1!==e.indexOf("zunewp")||-1!==e.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm\b|redmi[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",function(e){return 0<=e.indexOf("meizu")?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9cx]{1,4})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(e){var t=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return-1!==e.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:t.test(e)?t:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(e){return-1!==e.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(e){return/\bzte\-[tu]/.test(e)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(e){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(e){return 0<=e.indexOf("blackberry")?/\bblackberry\s?(\d+)/:"bb10"}]],S=[["wp",function(e){return-1!==e.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==e.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==e.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["iOS",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==e.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["Android",function(e){return 0<=e.indexOf("android")?/\bandroid[ \/-]?([0-9.x]+)?/:0<=e.indexOf("adr")?0<=e.indexOf("mqqbrowser")?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(e){var t=e.match(K)||e.match(L)||e.match(M);return t?{version:t[1]}:"blackberry"}]],T=[["edgehtml",/edge\/([0-9.]+)/],["trident",J],["blink",function(){return"chrome"in l&&"CSS"in l&&/\bapplewebkit[\/]?([0-9.+]+)/}],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(e){var t;if(t=e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/))return{version:t[1]+"."+t[2]}}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],U=[["edge",/edge\/([0-9.]+)/],["sogou",function(e){return 0<=e.indexOf("sogoumobilebrowser")?/sogoumobilebrowser\/([0-9.]+)/:0<=e.indexOf("sogoumse")||/ se ([0-9.x]+)/}],["theworld",function(){var e=V("theworld");return void 0!==e?e:"theworld"}],["360",function(e){var t=V("360se");return void 0!==t?t:-1!==e.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["maxthon",function(){try{if(E&&(E.mxVersion||E.max_version))return{version:E.mxVersion||E.max_version}}catch(e){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(e){if(0<=e.indexOf("liebaofast"))return/\bliebaofast\/([0-9.]+)/;if(-1===e.indexOf("lbbrowser"))return!1;var t;try{E&&E.LiebaoGetVersion&&(t=E.LiebaoGetVersion())}catch(e){}return{version:t||D}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",J],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(e){var t=/\bopera.+version\/([0-9.ab]+)/;return t.test(e)?t:/\bopr\/([0-9.]+)/}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(e){return 0<e.indexOf("aliapp")?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(e){return 0<=e.indexOf("ucbrowser/")?/\bucbrowser\/([0-9.]+)/:0<=e.indexOf("ubrowser/")?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:0<=e.indexOf("ucweb")?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){if(-1!==e.indexOf("android"))return/\bversion\/([0-9.]+(?: beta)?)/}],["blackberry",function(e){var t=e.match(K)||e.match(L)||e.match(M);return t?{version:t[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]];function V(e){if(E)try{var t=E.twGetRunPath.toLowerCase(),r=E.twGetSecurityID(l),n=E.twGetVersion(r);if(t&&-1===t.indexOf(e))return!1;if(n)return{version:n}}catch(e){}}function X(e,t,r){var n="[object Function]"===N(t)?t.call(null,r):t;if(!n)return null;var i={name:e,version:D,codename:""},a=N(n);if(!0===n)return i;if("[object String]"===a){if(-1!==r.indexOf(n))return i}else{if("[object Object]"===N(n))return n.hasOwnProperty("version")&&(i.version=n.version),i;if(n.exec){var o=n.exec(r);if(o)return 2<=o.length&&o[1]?i.version=o[1].replace(/_/g,"."):i.version=D,i}}}var Y={name:"",version:""};function Z(r,e,t,n){var i=Y;!function(e,t){for(var r=0,n=e.length;r<n&&!1!==t.call(e,e[r],r);r++);}(e,function(e){var t=X(e[0],e[1],r);if(t)return i=t,!1}),t.call(n,i.name,i.version)}var Ze,$e,af,hf,_e,bf,cf,df,ef,ff;function _(e){var t=null,r=null,o=e||{};window.hubbledata_app_js_bridge_call_js=function(e){t=e,B.isJSONString(t)&&(t=JSON.parse(t)),r&&r(t)};return{getAppStatus:function(e){if(function(){if(/hubbledata-sdk-ios/.test(navigator.userAgent)){o.pageOpenScene="App";var e=document.createElement("iframe");e.setAttribute("src","hubbledata://getAppInfo"),document.documentElement.appendChild(e),e.parentNode.removeChild(e),e=null}}(),"object"==typeof window.HubbleData_APP_JS_Bridge&&window.HubbleData_APP_JS_Bridge.hubbledata_call_app&&(o.pageOpenScene="App",t=HubbleData_APP_JS_Bridge.hubbledata_call_app(),B.isJSONString(t)&&(t=JSON.parse(t))),!e)return t;null===t?r=e:e(t)},getSendCall:function(e,t,r,n){var i,a;e=B.JSONDecode(e),B.include(["da_session_close","da_session_start","da_activate","da_u_login","da_u_logout","da_u_signup"],t)?"function"==typeof n&&n():"object"==typeof window.HubbleData_APP_JS_Bridge&&window.HubbleData_APP_JS_Bridge.hubbledata_track?(o.pageOpenScene="App",e.pageOpenScene="App",e=B.JSONEncode(e),window.HubbleData_APP_JS_Bridge.hubbledata_track(e)):/hubbledata-sdk-ios/.test(navigator.userAgent)?(o.pageOpenScene="App",e.pageOpenScene="App",e=B.JSONEncode(e),i=e,(a=document.createElement("iframe")).setAttribute("src","hubbledata://trackEvent?event="+encodeURIComponent(i)),document.documentElement.appendChild(a),a.parentNode.removeChild(a),a=null):"function"==typeof n&&n(),"function"==typeof r&&r()}}}I=function(e){e=(e||"").toLowerCase();var i={};Z(e,R,function(e,t){var r=parseFloat(t);i.device={name:e,version:r,fullVersion:t},i.device[e]=r},i),Z(e,S,function(e,t){var r=parseFloat(t);i.os={name:e,version:r,fullVersion:t},i.os[e]=r},i);var a=function(e){if(!J.test(e))return null;var t,r,n,i,a;if(-1!==e.indexOf("trident/")&&(t=/\btrident\/([0-9.]+)/.exec(e))&&2<=t.length){n=t[1];var o=t[1].split(".");o[0]=parseInt(o[0],10)+4,a=o.join(".")}i=(t=J.exec(e))[1];var s=t[1].split(".");return void 0===a&&(a=i),s[0]=parseInt(s[0],10)-4,r=s.join("."),void 0===n&&(n=r),{browserVersion:a,browserMode:i,engineVersion:n,engineMode:r,compatible:n!==r}}(e);return Z(e,T,function(e,t){var r=t;a&&(t=a.engineVersion||a.engineMode,r=a.engineMode);var n=parseFloat(t);i.engine={name:e,version:n,fullVersion:t,mode:parseFloat(r),fullMode:r,compatible:!!a&&a.compatible},i.engine[e]=n},i),Z(e,U,function(e,t){var r=t;a&&("ie"===e&&(t=a.browserVersion),r=a.browserMode);var n=parseFloat(t);i.browser={name:e,version:n,fullVersion:t,mode:parseFloat(r),fullMode:r,compatible:!!a&&a.compatible},i.browser[e]=n},i),i}(F+" "+G+" "+H),B.trim=function(e){if(e)return e.replace(/(^\s*)|(\s*$)/g,"")},B.checkTime=function(e){return!!e&&!!/^(\d{4})-(\d{2})-(\d{2})$/.test(e)},B.bind=function(i,a){var o,s;if(w&&i.bind===w)return w.apply(i,r.call(arguments,1));if(!B.isFunction(i))throw new TypeError;return o=r.call(arguments,2),s=function(){if(!(this instanceof s))return i.apply(a,o.concat(r.call(arguments)));var e={};e.prototype=i.prototype;var t=new e;e.prototype=null;var n=i.apply(t,o.concat(r.call(arguments)));return Object(n)===n?n:t}},B.bind_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=B.bind(e[t],e))},B.each=function(e,t,r){if(null!=e)if(x&&e.forEach===x)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===A)return}else for(var a in e)if(s.call(e,a)&&t.call(r,e[a],a,e)===A)return},B.escapeHTML=function(e){var t=e;return t&&B.isString(t)&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t},B.extend=function(n){return B.each(r.call(arguments,1),function(e){for(var t in e)void 0!==e[t]&&(n[t]=e[t])}),n},B.deepMerge=function(e,t){var r;for(r in t)e[r]=e[r]&&"[object Object]"===e[r].toString()?B.deepMerge(e[r],t[r]):e[r]=t[r];return e},B.isArray=z||function(e){return"[object Array]"===Object.prototype.toString.apply(e)},B.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},B.isArguments=function(e){return!(!e||!s.call(e,"callee"))},B.toArray=function(e){return e?e.toArray?e.toArray():B.isArray(e)?r.call(e):B.isArguments(e)?r.call(e):B.values(e):[]},B.values=function(e){var t=[];return null===e||B.each(e,function(e){t[t.length]=e}),t},B.identity=function(e){return e},B.include=function(e,t){var r=!1;return null===e?r:y&&e.indexOf===y?-1!=e.indexOf(t):(B.each(e,function(e){if(r||(r=e===t))return A}),r)},B.includes=function(e,t){return-1!==e.indexOf(t)},B.inherit=function(e,t){return e.prototype=new t,(e.prototype.constructor=e).superclass=t.prototype,e},B.isObject=function(e){return e===Object(e)&&!B.isArray(e)},B.isEmptyObject=function(e){if(B.isObject(e)){for(var t in e)if(s.call(e,t))return!1;return!0}return!1},B.isUndefined=function(e){return void 0===e},B.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},B.isDate=function(e){return"[object Date]"==N.call(e)},B.isNumber=function(e){return"[object Number]"==N.call(e)},B.isElement=function(e){return!(!e||1!==e.nodeType)},B.encodeDates=function(r){return B.each(r,function(e,t){B.isDate(e)?r[t]=B.formatDate(e):B.isObject(e)&&(r[t]=B.encodeDates(e))}),r},B.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},B.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},B.safewrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){C_critical("Implementation error. Please contact support@DATracker.com.")}}},B.safewrap_class=function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=B.safewrap(e.prototype[t[r]])},B.safewrap_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=B.safewrap(e[t]))},B.strip_empty_properties=function(e){var r={};return B.each(e,function(e,t){B.isString(e)&&0<e.length&&(r[t]=e)}),r},B.truncate=function(e,r){var n;return"string"==typeof e?n=e.slice(0,r):B.isArray(e)?(n=[],B.each(e,function(e){n.push(B.truncate(e,r))})):B.isObject(e)?(n={},B.each(e,function(e,t){n[t]=B.truncate(e,r)})):n=e,n},B.JSONEncode=function(e){var f=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},p=function(e,t){var r="",n=0,i="",a="",o=0,c=r,u=[],l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),typeof l){case"string":return f(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(r+="    ",u=[],"[object Array]"===N.apply(l)){for(o=l.length,n=0;n<o;n+=1)u[n]=p(n,l)||"null";return a=0===u.length?"[]":r?"[\n"+r+u.join(",\n"+r)+"\n"+c+"]":"["+u.join(",")+"]",r=c,a}for(i in l)s.call(l,i)&&(a=p(i,l))&&u.push(f(i)+(r?": ":":")+a);return a=0===u.length?"{}":r?"{"+u.join(",")+c+"}":"{"+u.join(",")+"}",r=c,a}};return p("",{"":e})},B.JSONDecode=(_e={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},bf=function(e){throw{name:"SyntaxError",message:e,at:Ze,text:af}},cf=function(e){return e&&e!==$e&&bf("Expected '"+e+"' instead of '"+$e+"'"),$e=af.charAt(Ze),Ze+=1,$e},df=function(){var e,t="";for("-"===$e&&cf(t="-");"0"<=$e&&$e<="9";)t+=$e,cf();if("."===$e)for(t+=".";cf()&&"0"<=$e&&$e<="9";)t+=$e;if("e"===$e||"E"===$e)for(t+=$e,cf(),"-"!==$e&&"+"!==$e||(t+=$e,cf());"0"<=$e&&$e<="9";)t+=$e,cf();if(e=+t,isFinite(e))return e;bf("Bad number")},ef=function(){var e,t,r,n="";if('"'===$e)for(;cf();){if('"'===$e)return cf(),n;if("\\"===$e)if(cf(),"u"===$e){for(t=r=0;t<4&&(e=parseInt(cf(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof _e[$e])break;n+=_e[$e]}else n+=$e}bf("Bad string")},ff=function(){for(;$e&&$e<=" ";)cf()},hf=function(){switch(ff(),$e){case"{":return function(){var e,t={};if("{"===$e){if(cf("{"),ff(),"}"===$e)return cf("}"),t;for(;$e;){if(e=ef(),ff(),cf(":"),Object.hasOwnProperty.call(t,e)&&bf('Duplicate key "'+e+'"'),t[e]=hf(),ff(),"}"===$e)return cf("}"),t;cf(","),ff()}}bf("Bad object")}();case"[":return function(){var e=[];if("["===$e){if(cf("["),ff(),"]"===$e)return cf("]"),e;for(;$e;){if(e.push(hf()),ff(),"]"===$e)return cf("]"),e;cf(","),ff()}}bf("Bad array")}();case'"':return ef();case"-":return df();default:return"0"<=$e&&$e<="9"?df():function(){switch($e){case"t":return cf("t"),cf("r"),cf("u"),cf("e"),!0;case"f":return cf("f"),cf("a"),cf("l"),cf("s"),cf("e"),!1;case"n":return cf("n"),cf("u"),cf("l"),cf("l"),null}bf('Unexpected "'+$e+'"')}()}},function(e){var t;return af=e,Ze=0,$e=" ",t=hf(),ff(),$e&&bf("Syntax error"),t}),B.base64Encode=function(e){var t,r,n,i,a,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,c=0,u="",l=[];if(!e)return e;for(e=B.utf8Encode(e);t=(a=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,r=a>>12&63,n=a>>6&63,i=63&a,l[c++]=o.charAt(t)+o.charAt(r)+o.charAt(n)+o.charAt(i),s<e.length;);switch(u=l.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},B.utf8Encode=function(e){var t,r,n,i,a="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<n;i++){var o=e.charCodeAt(i),s=null;o<128?r++:s=127<o&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),null!==s&&(t<r&&(a+=e.substring(t,r)),a+=s,t=r=i+1)}return t<r&&(a+=e.substring(t,e.length)),a},B.sha1=function(e){var i=0,a=8;function t(e){return o(r(n(e),e.length*a))}function r(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var r,n=Array(80),i=1732584193,a=-271733879,o=-1732584194,s=271733878,c=-1009589776,u=0;u<e.length;u+=16){for(var l=i,f=a,p=o,d=s,_=c,h=0;h<80;h++){n[h]=h<16?e[u+h]:v(n[h-3]^n[h-8]^n[h-14]^n[h-16],1);var g=m(m(v(i,5),b(h,a,o,s)),m(m(c,n[h]),(r=h)<20?1518500249:r<40?1859775393:r<60?-1894007588:-899497514));c=s,s=o,o=v(a,30),a=i,i=g}i=m(i,l),a=m(a,f),o=m(o,p),s=m(s,d),c=m(c,_)}return Array(i,a,o,s,c)}function b(e,t,r,n){return e<20?t&r|~t&n:e<40?t^r^n:e<60?t&r|t&n|r&n:t^r^n}function m(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function v(e,t){return e<<t|e>>>32-t}function n(e){for(var t=Array(),r=(1<<a)-1,n=0;n<e.length*a;n+=a)t[n>>5]|=(e.charCodeAt(n/a)&r)<<24-n%32;return t}function o(e){for(var t=i?"0123456789ABCDEF":"0123456789abcdef",r="",n=0;n<4*e.length;n++)r+=t.charAt(e[n>>2]>>8*(3-n%4)+4&15)+t.charAt(e[n>>2]>>8*(3-n%4)&15);return r}return t(e)},B.UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},B.isBlockedUA=function(e){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)},B.HTTPBuildQuery=function(e,t){var r,n,i=[];return B.isUndefined(t)&&(t="&"),B.each(e,function(e,t){r=encodeURIComponent(e.toString()),n=encodeURIComponent(t),i[i.length]=n+"="+r}),i.join(t)},B.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":decodeURIComponent(r[1]).replace(/\+/g," ")},B.getHashParam=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},B.cookie={get:function(e){for(var t=e+"=",r=v.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=B.JSONDecode(B.cookie.get(e))||{}}catch(e){}return t},set_seconds:function(e,t,r,n,i){var a="",o="",s="";if(n){var c=v.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";a=u?"; domain=."+u:""}if(r){var l=new Date;l.setTime(l.getTime()+1e3*r),o="; expires="+l.toGMTString()}i&&(s="; secure"),v.cookie=e+"="+encodeURIComponent(t)+o+"; path=/"+a+s},set:function(e,t,r,n,i){var a="",o="",s="";if(n){var c=v.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";a=u?"; domain=."+u:""}if(r){var l=new Date;l.setTime(l.getTime()+24*r*60*60*1e3),o="; expires="+l.toGMTString()}i&&(s="; secure");var f=e+"="+encodeURIComponent(t)+o+"; path=/"+a+s;return v.cookie=f},remove:function(e,t){B.cookie.set(e,"",-1,t)}},B.localStorage={error:function(e){C_error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(e){B.localStorage.error(e)}return null},parse:function(e){try{return B.JSONDecode(B.localStorage.get(e))||{}}catch(e){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){B.localStorage.error(e)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(e){B.localStorage.error(e)}}},B.register_event=function(){function l(e){return e&&(e.preventDefault=l.preventDefault,e.stopPropagation=l.stopPropagation),e}return l.preventDefault=function(){this.returnValue=!1},l.stopPropagation=function(){this.cancelBubble=!0},function(e,t,r,n,i){var a,o,s;if(e)if(e.addEventListener&&!n)e.addEventListener(t,r,!!i);else{var c="on"+t,u=e[c];e[c]=(a=e,o=r,s=u,function(e){if(e=e||l(window.event)){var t,r,n=!0;return B.isFunction(s)&&(t=s(e)),r=o.call(a,e),!1!==t&&!1!==r||(n=!1),n}})}else C_error("No valid element provided to register_event")}}(),B.register_hash_event=function(e){B.register_event(window,"hashchange",e)},B.dom_query=function(){function S(e){return e.all?e.all:e.getElementsByTagName("*")}var x=/[\t\r\n]/g;return function(e){return B.isElement(e)?[e]:B.isObject(e)&&!B.isUndefined(e.length)?e:function(e){if(!v.getElementsByTagName)return[];var t,r,n,i,a,o,s,c,u,l,f,p,d=e.split(" "),_=[v];for(o=0;o<d.length;o++)if(-1<(t=d[o].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")){n=(r=t.split("#"))[0];var h=r[1],g=v.getElementById(h);if(!g||n&&g.nodeName.toLowerCase()!=n)return[];_=[g]}else if(-1<t.indexOf(".")){n=(r=t.split("."))[0];var b=r[1];for(n||(n="*"),i=[],s=a=0;s<_.length;s++)for(u="*"==n?S(_[s]):_[s].getElementsByTagName(n),c=0;c<u.length;c++)i[a++]=u[c];for(_=[],s=l=0;s<i.length;s++)i[s].className&&B.isString(i[s].className)&&(f=i[s],p=" "+b+" ",0<=(" "+f.className+" ").replace(x," ").indexOf(p))&&(_[l++]=i[s])}else{var m=t.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/);if(m){n=m[1];var y,k=m[2],w=m[3],T=m[4];for(n||(n="*"),i=[],s=a=0;s<_.length;s++)for(u="*"==n?S(_[s]):_[s].getElementsByTagName(n),c=0;c<u.length;c++)i[a++]=u[c];switch(_=[],l=0,w){case"=":y=function(e){return e.getAttribute(k)==T};break;case"~":y=function(e){return e.getAttribute(k).match(new RegExp("\\b"+T+"\\b"))};break;case"|":y=function(e){return e.getAttribute(k).match(new RegExp("^"+T+"-?"))};break;case"^":y=function(e){return 0===e.getAttribute(k).indexOf(T)};break;case"$":y=function(e){return e.getAttribute(k).lastIndexOf(T)==e.getAttribute(k).length-T.length};break;case"*":y=function(e){return-1<e.getAttribute(k).indexOf(T)};break;default:y=function(e){return e.getAttribute(k)}}for(_=[],s=l=0;s<i.length;s++)y(i[s])&&(_[l++]=i[s])}else{for(n=t,i=[],s=a=0;s<_.length;s++)for(u=_[s].getElementsByTagName(n),c=0;c<u.length;c++)i[a++]=u[c];_=i}}return _}.call(this,e)}}(),B.info={referringDomain:function(e){var t=e.split("/");return 3<=t.length?t[2]:""},properties:function(){var e={"5.0":"Win2000",5.1:"WinXP",5.2:"Win2003","6.0":"WindowsVista",6.1:"Win7",6.2:"Win8",6.3:"Win8.1","10.0":"Win10"},t=k.devicePlatform()||"web",r=k.deviceModel(),n=k.windows(),i=I.os.name+" "+I.os.fullVersion;return n&&e[I.os.fullVersion]&&(i=e[I.os.fullVersion]),B.extend(B.strip_empty_properties({deviceModel:r,deviceOs:I.os.name,deviceOsVersion:i,browser:I.browser.name,referrer:v.referrer,referring_domain:B.info.referringDomain(v.referrer),devicePlatform:t,currentDomain:B.info.referringDomain(window.location.href)}),{current_url:window.location.href,title:v.title||"",url_path:window.location.pathname||"",browser_version:I.browser.fullVersion,screen_height:screen.height,screen_width:screen.width,hb_lib:t,lib_version:a.LIB_VERSION})}},B.size=function(e){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r},B.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},B.get_host=function(e){var t="";null==e&&(e=window.location.href);var r=e.match(/.*\:\/\/([^\/]*).*/);return null!=r&&(t=r[1]),t},B.sessionStorage={isSupport:function(){var t=!0,e="__hubbledatasupport__",r="testIsSupportStorage";try{t=!(!sessionStorage||!sessionStorage.setItem)&&(sessionStorage.setItem(e,r),sessionStorage.removeItem(e,r),!0)}catch(e){t=!1}return t}},B.loadScript=function(e){e=B.extend({success:function(){},error:function(){},appendCall:function(e){v.getElementsByTagName("head")[0].appendChild(e)}},e);var t=null;"css"===e.type&&((t=v.createElement("link")).rel="stylesheet",t.href=e.url),"js"===e.type&&((t=v.createElement("script")).async="async",t.setAttribute("charset","UTF-8"),t.src=e.url,t.type="text/javascript"),t.onload=t.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e.success(),t.onload=t.onreadystatechange=null)},t.onerror=function(){e.error(),t.onerror=null},e.appendCall(t)},B.ry=function(e){return new B.ry.init(e)},B.ry.init=function(e){this.ele=e},B.ry.init.prototype={addClass:function(e){return-1===(" "+this.ele.className+" ").indexOf(" "+e+" ")&&(this.ele.className=this.ele.className+(""===this.ele.className?"":" ")+e),this},removeClass:function(e){var t=" "+this.ele.className+" ";return-1!==t.indexOf(" "+e+" ")&&(this.ele.className=t.replace(" "+e+" "," ").slice(1,-1)),this},hasClass:function(e){return-1!==(" "+this.ele.className+" ").indexOf(" "+e+" ")},attr:function(e,t){return"string"==typeof e&&B.isUndefined(t)?this.ele.getAttribute(e):("string"==typeof e&&(t=String(t),this.ele.setAttribute(e,t)),this)},offset:function(){var e=this.ele.getBoundingClientRect();if(e.width||e.height){var t=this.ele.ownerDocument.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var e=this.ele.getBoundingClientRect();return{width:e.width,height:e.height}}catch(e){return{width:0,height:0}}},getStyle:function(e){return this.ele.currentStyle?this.ele.currentStyle[e]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(e)},wrap:function(e){var t=v.createElement(e);return this.ele.parentNode.insertBefore(t,this.ele),t.appendChild(this.ele),B.ry(t)},getCssStyle:function(e){var t=this.ele.style.getPropertyValue(e);if(t)return t;var r=null;if("function"==typeof window.getMatchedCSSRules&&(r=getMatchedCSSRules(this.ele)),!r||!B.isArray(r))return null;for(var n=r.length-1;0<=n;n--){if(t=r[n].style.getPropertyValue(e))return t}},sibling:function(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(e){return this.sibling(this.ele,"previousSibling")},siblings:function(e){return this.siblings((this.ele.parentNode||{}).firstChild,this.ele)},children:function(e){return this.siblings(this.ele.firstChild)},parent:function(){var e=this.ele.parentNode;return e=e&&11!==e.nodeType?e:null,B.ry(e)}},B.addEvent=function(){function c(e){return e&&(e.preventDefault=c.preventDefault,e.stopPropagation=c.stopPropagation,e._getPath=c._getPath),e}c._getPath=function(){var r=this;return this.path||this.composedPath&&this.composedPath()||function(){try{var e=r.target,t=[e];if(null===e||null===e.parentElement)return[];for(;null!==e.parentElement;)e=e.parentElement,t.unshift(e);return t}catch(e){return[]}}()},c.preventDefault=function(){this.returnValue=!1},c.stopPropagation=function(){this.cancelBubble=!0};(function(e,t,r){if(e&&e.addEventListener)e.addEventListener(t,function(e){e._getPath=c._getPath,r.call(this,e)},!1);else{var n="on"+t,i=e[n];e[n]=(a=e,o=r,s=i,function(e){if(e=e||c(window.event)){e.target=e.srcElement;var t,r,n=!0;return"function"==typeof s&&(t=s(e)),r=o.call(a,e),!1!==t&&!1!==r||(n=!1),n}})}var a,o,s}).apply(null,arguments)},B.getEleInfo=function(e,t,r){if(!e.target||!t)return!1;var n=e.target,i=n.tagName.toLowerCase(),a={};a.type=i;var o="";return n.textContent?o=B.trim(n.textContent):n.innerText&&(o=B.trim(n.innerText)),o&&(o=o.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),a.text=o||"","input"===i&&("button"===n.type||"submit"===n.type?a.text=n.value||"":t&&"function"==typeof t.collect_input&&t.collect_input(n,r)&&(a.text=n.value||"")),a=B.strip_empty_properties(a)},B.ajax={post:function(e,t,r,n){var i=this;i.callback=r||function(e){};try{var a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("Content-type","application/json"),a.withCredentials=!0,a.ontimeout=function(){i.callback({status:0,error:!0,message:"request "+e+" time out"})},a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)i.callback(B.JSONDecode(a.responseText));else{var e="Bad HTTP status: "+a.status+" "+a.statusText;i.callback({status:0,error:!0,message:e})}},a.timeout=n||5e3,a.send(B.JSONEncode(t))}catch(e){}},get:function(e,t){try{var r=new XMLHttpRequest;r.open("GET",e,!0),r.withCredentials=!0,r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status)t&&t(B.JSONDecode(r.responseText));else if(t){var e="Bad HTTP status: "+r.status+" "+r.statusText;t({status:0,error:!0,message:e})}},r.send(null)}catch(e){}}},B.innerEvent={on:function(e,t){this._list||(this._list={}),this._list[e]||(this._list[e]=[]),this._list[e].push(t)},off:function(e){this._list||(this._list={}),this._list[e]&&delete this._list[e]},trigger:function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=this._list&&this._list[t];if(r&&0!==r.length)for(var n=0;n<r.length;n++)"function"==typeof r[n]&&r[n].apply(this,e)}},B.toArray=B.toArray,B.isObject=B.isObject,B.JSONEncode=B.JSONEncode,B.JSONDecode=B.JSONDecode,B.isBlockedUA=B.isBlockedUA,B.isEmptyObject=B.isEmptyObject,B.info=B.info,B.info.properties=B.info.properties,B.sessionStorage=B.sessionStorage,B.sessionStorage.isSupport=B.sessionStorage.isSupport,B.loadScript=B.loadScript,B.ry=B.ry,B.addEvent=B.addEvent,B.getEleInfo=B.getEleInfo,B.ajax=B.ajax;var aa={data:{campaign:{utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_term:"",promotional_id:""},isCampaign:!1,isAdClick:!1,campaignParamsSaved:!1,APPKEY:""},init:function(e,t){void 0!==e&&(this.data.APPKEY=e,this.DATracker=t,this.checkCampaign(),this.checkAdClick(),this.setParams(),this.data.isCampaign&&this.save())},campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term promotional_id".split(" "),t="",r={};return B.each(e,function(e){(t=B.getQueryParam(document.URL,e)).length&&(r[e]=t)}),r},setParams:function(){var e={};if(this.data.isCampaign)e=this.campaignParams();else{var t=B.cookie.get("hb_"+this.data.APPKEY+"_u");t&&(e=B.JSONDecode(t))}this.data.campaign=B.extend(this.data.campaign,e)},getParams:function(){return this.setParams(),this.changeParams()},checkCampaign:function(){var e=this.campaignParams();void 0!==e.utm_source&&void 0!==e.utm_medium&&void 0!==e.utm_campaign&&(this.data.isCampaign=!0)},checkAdClick:function(){var e=B.getQueryParam(document.URL,"t_rs");this.data.isCampaign&&document.referrer&&!e&&(this.data.isAdClick=!0)},save:function(){this.data.campaignParamsSaved||(B.cookie.set("hb_"+this.data.APPKEY+"_u",B.JSONEncode(this.data.campaign),30,this.DATracker.get_config("cross_subdomain_cookie")),this.data.campaignParamsSaved=!0)},changeParams:function(){var e=this.data.campaign,t={utmSource:e.utm_source,utmMedium:e.utm_medium,promotionalID:e.promotional_id,utmCampaign:e.utm_campaign,utmContent:e.utm_content,utmTerm:e.utm_term};return t.utmSource||delete t.utmSource,t.utmMedium||delete t.utmMedium,t.promotionalID||delete t.promotionalID,t.utmCampaign||delete t.utmCampaign,t.utmContent||delete t.utmContent,t.utmTerm||delete t.utmTerm,t}};function ba(e,t,r){if(e[t]){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);r.apply(this,e),n.apply(this,e)}}else e[t]=function(){var e=Array.prototype.slice.call(arguments);r.apply(this,e)}}function ca(){return location.pathname+location.search}var da={config:{mode:"hash",track_replace_state:!1,callback_fn:function(){}},init:function(e){this.config=B.extend(this.config,e||{}),this.path=ca(),this.event()},event:function(){if("history"===this.config.mode){if(!history.pushState||!window.addEventListener)return;ba(history,"pushState",B.bind(this.pushStateOverride,this)),ba(history,"replaceState",B.bind(this.replaceStateOverride,this)),window.addEventListener("popstate",B.bind(this.handlePopState,this))}else"hash"===this.config.mode&&B.register_hash_event(B.bind(this.handleHashState,this))},pushStateOverride:function(){this.handleUrlChange(!0)},replaceStateOverride:function(){this.handleUrlChange(!1)},handlePopState:function(){this.handleUrlChange(!0)},handleHashState:function(){this.handleUrlChange(!0)},handleUrlChange:function(r){var n=this;setTimeout(function(){if("hash"===n.config.mode)"function"==typeof n.config.callback_fn&&n.config.callback_fn.call();else if("history"===n.config.mode){var e=n.path,t=ca();e!=t&&n.shouldTrackUrlChange(t,e)&&(n.path=t,(r||n.config.track_replace_state)&&"function"==typeof n.config.callback_fn&&n.config.callback_fn.call())}},0)},shouldTrackUrlChange:function(e,t){return!(!e||!t)}},ea={data:{secondLevelSource:"",outsideReferer:!1,APPKEY:""},init:function(e){void 0!==e&&(this.data.APPKEY=e,this.checkReferer(),this.setParams(),this.save())},checkReferer:function(){document.referrer&&B.get_host(document.referrer)!=window.location.host&&(this.data.outsideReferer=!0)},setParams:function(){var e=B.cookie.get("hb_"+this.data.APPKEY+"_source");e||(e=""),this.data.outsideReferer&&(e=B.get_host(document.referrer)),this.data.secondLevelSource=e},save:function(){this.data.outsideReferer&&B.cookie.set("hb_"+this.data.APPKEY+"_source",this.data.secondLevelSource,30,!0)},getParams:function(){return{secondLevelSource:this.data.secondLevelSource}}},fa={getDomIndex:function(e){var t=[].indexOf;if(!e.parentNode)return-1;var r=e.parentNode.children;if(!r)return-1;var n=r.length;if(t)return t.call(r,e);for(var i=0;i<n;++i)if(e==r[i])return i;return-1},selector:function(e){var t=e.parentNode&&9==e.parentNode.nodeType?-1:this.getDomIndex(e);return e.id?"#"+e.id:e.tagName.toLowerCase()+(~t?":nth-child("+(t+1)+")":"")},getDomSelector:function(e,t){if(!e||!e.parentNode||!e.parentNode.children)return!1;t=t&&t.join?t:[];var r=e.nodeName.toLowerCase();return e&&"body"!==r&&1==e.nodeType?(t.unshift(this.selector(e)),e.id?t.join(" > "):this.getDomSelector(e.parentNode,t)):(t.unshift("body"),t.join(" > "))},na:function(){var e=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(e)?0:e,10)},i:function(){var t=0;try{t=o.documentElement.scrollTop||m.pageYOffset,t=isNaN(t)?0:t}catch(e){t=0}return parseInt(t,10)},getBrowserWidth:function(){var e=window.innerWidth||document.body.clientWidth;return isNaN(e)?0:parseInt(e,10)},getBrowserHeight:function(){var e=window.innerHeight||document.body.clientHeight;return isNaN(e)?0:parseInt(e,10)},getScrollWidth:function(){var e=parseInt(document.body.scrollWidth,10);return isNaN(e)?0:e},W:function(e){var t=parseInt(+e.clientX+ +this.na(),10);e=parseInt(+e.clientY+ +this.i(),10);return{x:isNaN(t)?0:t,y:isNaN(e)?0:e}},start:function(e,t,r){var n,i=this.DATracker.config.heatmap,a=!1;if(i&&i.collect_element&&!i.collect_element(t,this))return!1;if(i&&i.set_collect_element_path&&B.isFunction(i.set_collect_element_path)&&(a=!0),a){if(!(n=i.set_collect_element_path(t,this)))return C_error("æ åç´ path"),!1}else n=this.getDomSelector(t);var o,s=B.getEleInfo({target:t},i,this);if(s.path=n||"",i&&i.custom_property){var c=i.custom_property(t);B.isObject(c)&&(s=B.extend(s,c))}if("a"===r&&i&&!0===i.isTrackLink)o=B.sha1(s.path),this.trackLink({event:e,target:t},o,s);else if(s.path)try{o=B.sha1(s.path),this.DATracker.track(o,s,void 0,"auto")}catch(e){}},trackLink:function(e,n,i){var a=null,o=this;if((e=e||{}).ele&&(a=e.ele),e.event&&(a=e.target?e.target:e.event.target),i=i||{},!a||"object"!=typeof a)return!1;if(!a.href||/^javascript/.test(a.href)||a.target||a.download||a.onclick)return o.DATracker.track(n,i,void 0,"auto"),!1;e.event&&function(e){e.stopPropagation(),e.preventDefault();var t=!1;function r(){t||(t=!0,location.href=a.href)}setTimeout(r,1e3),o.DATracker.track(n,i,r,"auto")}(e.event)},hasElement:function(e){var t=e._getPath();if(B.isArray(t)&&0<t.length)for(var r=0;r<t.length;r++)if(t[r]&&t[r].tagName&&"a"===t[r].tagName.toLowerCase())return t[r];return!1},trackHeatmap:function(e){if("object"==typeof e&&e.tagName){var t=e.tagName.toLowerCase(),r=e.parentNode.tagName.toLowerCase();"button"!==t&&"a"!==t&&"a"!==r&&"button"!==r&&"input"!==t&&"textarea"!==t&&this.start(null,e,t)}},initHeatmap:function(){var o=this,e=o.DATracker.config.heatmap;return!(!B.isObject(e)||"default"!==e.clickmap)&&(!(B.isFunction(e.collect_url)&&!e.collect_url())&&("all"===e.collect_elements?e.collect_elements="all":e.collect_elements="interact",void("all"===e.collect_elements?B.addEvent(document,"click",function(e){var t=e||window.event;if(!t)return!1;var r=t.target||t.srcElement;if("object"!=typeof r)return!1;if("string"!=typeof r.tagName)return!1;var n=r.tagName.toLowerCase();if("body"===n.toLowerCase()||"html"===n.toLowerCase())return!1;if(!r||!r.parentNode||!r.parentNode.children)return!1;var i=r.parentNode.tagName.toLowerCase();"a"===i||"button"===i?o.start(t,r.parentNode,r.parentNode.tagName.toLowerCase()):o.start(t,r,n)}):B.addEvent(document,"click",function(e){var t=e||window.event;if(!t)return!1;var r=t.target||t.srcElement;if("object"!=typeof r)return!1;if("string"!=typeof r.tagName)return!1;var n=r.tagName.toLowerCase();if("body"===n.toLowerCase()||"html"===n.toLowerCase())return!1;if(!r||!r.parentNode||!r.parentNode.children)return!1;var i=r.parentNode;if("a"===n||"button"===n||"input"===n||"textarea"===n)o.start(t,r,n);else if("button"===i.tagName.toLowerCase()||"a"===i.tagName.toLowerCase())o.start(t,i,r.parentNode.tagName.toLowerCase());else if("area"===n&&"map"===i.tagName.toLowerCase()&&B.ry(i).prev().tagName&&"img"===B.ry(i).prev().tagName.toLowerCase())o.start(t,B.ry(i).prev(),B.ry(i).prev().tagName.toLowerCase());else{var a=o.hasElement(e);a&&o.start(t,a,a.tagName.toLowerCase())}}))))},prepare:function(e){var t=location.href.match(/hubble_heatmap_id=([^&#]+)/),r=this,n=r.DATracker.config.heatmap_url,i=r.DATracker.config.heatmap_getdateUrl,a=r.DATracker.config.heatmap,o=3e3;function s(e){n?B.loadScript({success:function(){setTimeout(function(){"undefined"!=typeof hubble_jssdk_heatmap_render&&hubble_jssdk_heatmap_render(r.DATracker,e,i)},o||3e3)},error:function(){},type:"js",url:n+"?_="+Math.random()}):C_error("æ²¡ææå®heatmap_urlçè·¯å¾")}B.isObject(a)&&(o=a.loadTimeout),t&&t[0]&&t[1]?(r.DATracker.set_config({hubble_render_mode:!0}),B.sessionStorage.isSupport()&&sessionStorage.setItem("hubble_heatmap_id",t[1]),s(t[1])):B.sessionStorage.isSupport()&&"string"==typeof sessionStorage.getItem("hubble_heatmap_id")?(r.DATracker.set_config({hubble_render_mode:!0}),s(sessionStorage.getItem("hubble_heatmap_id"))):(e(),B.isObject(a)&&(r.initHeatmap(),r.DATracker.track_heatmap=B.bind(r.trackHeatmap,r)))},init:function(e,t){e&&t&&(this.DATracker=e,(this.DATracker.heatmap=this).DATracker.track_heatmap=function(){},this.prepare(t))}};function ga(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function ia(e,t,r,n,i,a){return ga((o=ga(ga(t,e),ga(n,a)))<<(s=i)|o>>>32-s,r);var o,s}function ja(e,t,r,n,i,a,o){return ia(t&r|~t&n,e,t,i,a,o)}function ka(e,t,r,n,i,a,o){return ia(t&n|r&~n,e,t,i,a,o)}function la(e,t,r,n,i,a,o){return ia(t^r^n,e,t,i,a,o)}function ma(e,t,r,n,i,a,o){return ia(r^(t|~n),e,t,i,a,o)}function na(e,t){var r,n,i,a,o;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,c=-271733879,u=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)c=ma(c=ma(c=ma(c=ma(c=la(c=la(c=la(c=la(c=ka(c=ka(c=ka(c=ka(c=ja(c=ja(c=ja(c=ja(i=c,u=ja(a=u,l=ja(o=l,s=ja(n=s,c,u,l,e[r],7,-680876936),c,u,e[r+1],12,-389564586),s,c,e[r+2],17,606105819),l,s,e[r+3],22,-1044525330),u=ja(u,l=ja(l,s=ja(s,c,u,l,e[r+4],7,-176418897),c,u,e[r+5],12,1200080426),s,c,e[r+6],17,-1473231341),l,s,e[r+7],22,-45705983),u=ja(u,l=ja(l,s=ja(s,c,u,l,e[r+8],7,1770035416),c,u,e[r+9],12,-1958414417),s,c,e[r+10],17,-42063),l,s,e[r+11],22,-1990404162),u=ja(u,l=ja(l,s=ja(s,c,u,l,e[r+12],7,1804603682),c,u,e[r+13],12,-40341101),s,c,e[r+14],17,-1502002290),l,s,e[r+15],22,1236535329),u=ka(u,l=ka(l,s=ka(s,c,u,l,e[r+1],5,-165796510),c,u,e[r+6],9,-1069501632),s,c,e[r+11],14,643717713),l,s,e[r],20,-373897302),u=ka(u,l=ka(l,s=ka(s,c,u,l,e[r+5],5,-701558691),c,u,e[r+10],9,38016083),s,c,e[r+15],14,-660478335),l,s,e[r+4],20,-405537848),u=ka(u,l=ka(l,s=ka(s,c,u,l,e[r+9],5,568446438),c,u,e[r+14],9,-1019803690),s,c,e[r+3],14,-187363961),l,s,e[r+8],20,1163531501),u=ka(u,l=ka(l,s=ka(s,c,u,l,e[r+13],5,-1444681467),c,u,e[r+2],9,-51403784),s,c,e[r+7],14,1735328473),l,s,e[r+12],20,-1926607734),u=la(u,l=la(l,s=la(s,c,u,l,e[r+5],4,-378558),c,u,e[r+8],11,-2022574463),s,c,e[r+11],16,1839030562),l,s,e[r+14],23,-35309556),u=la(u,l=la(l,s=la(s,c,u,l,e[r+1],4,-1530992060),c,u,e[r+4],11,1272893353),s,c,e[r+7],16,-155497632),l,s,e[r+10],23,-1094730640),u=la(u,l=la(l,s=la(s,c,u,l,e[r+13],4,681279174),c,u,e[r],11,-358537222),s,c,e[r+3],16,-722521979),l,s,e[r+6],23,76029189),u=la(u,l=la(l,s=la(s,c,u,l,e[r+9],4,-640364487),c,u,e[r+12],11,-421815835),s,c,e[r+15],16,530742520),l,s,e[r+2],23,-995338651),u=ma(u,l=ma(l,s=ma(s,c,u,l,e[r],6,-198630844),c,u,e[r+7],10,1126891415),s,c,e[r+14],15,-1416354905),l,s,e[r+5],21,-57434055),u=ma(u,l=ma(l,s=ma(s,c,u,l,e[r+12],6,1700485571),c,u,e[r+3],10,-1894986606),s,c,e[r+10],15,-1051523),l,s,e[r+1],21,-2054922799),u=ma(u,l=ma(l,s=ma(s,c,u,l,e[r+8],6,1873313359),c,u,e[r+15],10,-30611744),s,c,e[r+6],15,-1560198380),l,s,e[r+13],21,1309151649),u=ma(u,l=ma(l,s=ma(s,c,u,l,e[r+4],6,-145523070),c,u,e[r+11],10,-1120210379),s,c,e[r+2],15,718787259),l,s,e[r+9],21,-343485551),s=ga(s,n),c=ga(c,i),u=ga(u,a),l=ga(l,o);return[s,c,u,l]}function oa(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function pa(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function sa(e){var t,r,n="0123456789abcdef",i="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function ta(e){return unescape(encodeURIComponent(e))}function ua(e){return oa(na(pa(t=ta(e)),8*t.length));var t}function wa(e,t){return function(e,t){var r,n,i=pa(e),a=[],o=[];for(a[15]=o[15]=void 0,16<i.length&&(i=na(i,8*e.length)),r=0;r<16;r+=1)a[r]=909522486^i[r],o[r]=1549556828^i[r];return n=na(a.concat(pa(t)),512+8*t.length),oa(na(o.concat(n),640))}(ta(e),ta(t))}function ya(e,t,r){return t?r?wa(t,e):sa(wa(t,e)):r?ua(e):sa(ua(e))}var Ea,Fa,za=function(e){return e=e.substring(8,24)},Aa={_queue:[],_callbackList:[],_loadControlComplete:!1,init:function(e){if(e){var t=this;t.DATracker=e;var r=t.DATracker.get_config("abtest")||{};t._control=null,t._isTestDebug()&&(r.interval_mins_abtest=0,t.DATracker.set_config({abtest:r}),t._loadControlJs(),r.enable_abtest?t._prepare(function(){"function"==typeof hubbleData_render_mode_fn&&(t._control=new hubbleData_render_mode_fn(t.DATracker,{type:"abtest_debug",data:{hubble_abtest_debug_key:t.getDebugKeyData()}}).control,B.each(t._queue,function(e){t.debugTrack(e)}),t._queue=[])}):t._prepare(function(){"function"==typeof hubbleData_render_mode_fn&&new hubbleData_render_mode_fn(t.DATracker,{type:"abtest_debug_but_abtest_disable"})}))}},_isTestDebug:function(){var e=location.href.match(/hubble_abtest_debug_key=([^&#]+)/),t=!1;return e&&e[0]&&e[1]?(t=!0,B.sessionStorage.isSupport()&&sessionStorage.setItem("hubble_abtest_debug_key",e[1])):B.sessionStorage.isSupport()&&"string"==typeof sessionStorage.getItem("hubble_abtest_debug_key")&&sessionStorage.getItem("hubble_abtest_debug_key")&&(t=!0),t},_loadControlJs:function(){var t=this,e=t.DATracker.config.control_js_url;e?B.loadScript({success:function(){t._loadControlComplete=!0,B.each(t._callbackList,function(e){e.call(t)}),t._callbackList=[]},error:function(){},type:"js",url:e+"?_="+Math.random()}):C_error("æ²¡ææå®control_js_urlçè·¯å¾")},_prepare:function(e){this._loadControlComplete||e&&this._callbackList.push(e),e&&e.call(this)},getDebugKeyData:function(){var e=location.href.match(/hubble_abtest_debug_key=([^&#]+)/),t="";return e&&e[0]&&e[1]?t=e[1]:B.sessionStorage.isSupport()&&"string"==typeof sessionStorage.getItem("hubble_abtest_debug_key")&&(t=sessionStorage.getItem("hubble_abtest_debug_key")),t},debugTrack:function(e){try{this._control?this._control.addEvent(e):this._queue.push(e)}catch(e){C_error(e)}},debugNoData:function(){var e=this;e._isTestDebug()&&e._prepare(function(){"function"==typeof hubbleData_render_mode_fn&&new hubbleData_render_mode_fn(e.DATracker,{type:"abtest_debug_abtest_no_data"})})}},Ba={multilinkArr:[],isTestDebug:Aa._isTestDebug,setMultilinkArr:function(e){this.multilinkArr=e||[]},jump:function(e,t){e=e||this.getVariable();var r=this.getNowUrl(),n=!0,i=this.getNowProtocolDommainAndPath();e?(1==e.type&&(i!==e.url&&i+"/"!==e.url||(n=!1)),e.url!==r&&e.url!==r+"/"&&n?(this.isTestDebug()&&(e.url+=-1<e.url.indexOf("?")?"&":"?",e.url=e.url+"hubble_abtest_debug_key="+Aa.getDebugKeyData()),window.location.href=e.url):t&&t()):t&&t()},getNowUrl:function(){var e,t=window.location.href;return this.isTestDebug()&&(-1<t.indexOf("?hubble_abtest_debug_key=")?e=t.match(/\?hubble_abtest_debug_key=([^&#]+)/):-1<t.indexOf("&hubble_abtest_debug_key=")&&(e=t.match(/\&hubble_abtest_debug_key=([^&#]+)/)),e&&e[0]&&(t=t.replace(e[0],""))),t},getNowProtocolDommainAndPath:function(){return("https:"==document.location.protocol?"https://":"http://")+B.info.referringDomain(window.location.href)+window.location.pathname},getVariable:function(){for(var e=this.getNowProtocolDommainAndPath(),t=this.getNowUrl(),r=za(ya(e)),n=za(ya(e+"/")),i=za(ya(t)),a=za(ya(t+"/")),o=[],s=[],c=0;c<this.multilinkArr.length;c++){var u=this.multilinkArr[c][0].replace(new RegExp("^\\$","g"),"");t!==e&&(u===i||u===a)?o.push({variable:this.multilinkArr[c][0],url:this.multilinkArr[c][1],type:0,key:u===i?t:t+"/"}):u!==r&&u!==n||s.push({variable:this.multilinkArr[c][0],url:this.multilinkArr[c][1],type:1,key:u===r?e:e+"/"})}return o.length?o[0]:s.length?s[0]:null}},Ca={_visualizationArr:[],_settimeNum:0,_loadControlJs:function(e){var t=this.DATracker.config.control_js_url;t?B.loadScript({success:function(){"function"==typeof e&&e()},error:function(){},type:"js",url:t+"?_="+Math.random()}):C_error("æ²¡ææå®control_js_urlçè·¯å¾")},isEditor:function(){var e=location.href.match(/hubble_abtest_editor_key=([^&#]+)/),t=!1;return e&&e[0]&&e[1]&&(t=!0),t},_querySelector:function(e,t){try{return(t||document).querySelector(e)}catch(e){return null}},_getNowUrl:function(){var e,t=window.location.href;return this.isTestDebug()&&(-1<t.indexOf("?hubble_abtest_debug_key=")?e=t.match(/\?hubble_abtest_debug_key=([^&#]+)/):-1<t.indexOf("&hubble_abtest_debug_key=")&&(e=t.match(/\&hubble_abtest_debug_key=([^&#]+)/)),e&&e[0]&&(t=t.replace(e[0],""))),t},_setType:function(){C_log(this._visualizationArr);try{for(var e=0;e<this._visualizationArr.length;e+=1)if(this._visualizationArr[e][1])if(this._visualizationArr[e][1]=B.JSONDecode(this._visualizationArr[e][1]),this._visualizationArr[e][1].pattern){try{this._visualizationArr[e][1].pattern=B.JSONDecode(this._visualizationArr[e][1].pattern)}catch(e){C_error(e)}this._visualizationArr[e][2]=0}else this._visualizationArr[e][2]=1;else this._visualizationArr[e][2]=1}catch(e){C_error(e)}},_filtrateElementItem:function(e,t){var r=!0;return e.nodeName!==t.nodeName.toLocaleUpperCase()&&(r=!1),r},_resetConfig:function(e){var n=[];return B.each(e,function(e,t){var r=e.variations;B.each(r,function(e,t){n.push(e)})}),n},init:function(e,t){if(e){var r=this;if(r.DATracker=e,r.ABTEST=t,this.isEditor()){var n=r.DATracker.get_config("abtest")||{};r._loadControlJs(function(){if("function"==typeof hubbleData_render_mode_fn){n.enable_abtest?new hubbleData_render_mode_fn(r.DATracker,{type:"abtest_editor"}):new hubbleData_render_mode_fn(r.DATracker,{type:"abtest_editor_but_abtest_disable"});try{r.ABTEST._showPage()}catch(e){}}})}}},isTestDebug:Aa._isTestDebug,setVisualizationArr:function(e){this._visualizationArr=e||[],this._setType()},_hidePathStyleSet:function(e){var t="";B.each(e,function(e){t+=e.selector+"{opacity:0 !important;}"});var r=document.getElementById("_hb_abtesting_path_hides");if(r)r.styleSheet?r.styleSheet.cssText=t:(r.innerText="",r.appendChild(document.createTextNode(t)));else{var n=document.createElement("style"),i=document.getElementsByTagName("head")[0];n.setAttribute("id","_hb_abtesting_path_hides"),n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=t:(n.innerText="",n.appendChild(document.createTextNode(t))),i.appendChild(n)}},render:function(e){if(e){var a=this;clearTimeout(a._settimeNum);var t=this._resetConfig(e),o=[],s=function(r,e){B.each(e.css,function(e,t){r.style[t]=e}),B.each(e.attributes,function(e,t){r.setAttribute(t,e)}),B.each(e,function(e,t){B.include(["css","attributes","nodeName","selector"],t)||(r[t]=e)})};try{for(var r=0;r<t.length;r+=1)if(t[r].selector){var n=this._querySelector(t[r].selector),i=t[r];n?this._filtrateElementItem(i,n)&&s(n,i):o.push(t[r])}}catch(e){C_error(e)}var c=function(){var e=0,t=[];a._hidePathStyleSet(o);for(var r=0;r<o.length;r+=1){if(o[r].selector){var n=a._querySelector(o[r].selector),i=o[r];n?a._filtrateElementItem(i,n)&&s(n,i):t.push(o[r])}e++}o=t,0<e?a._settimeNum=setTimeout(function(){c()},0):clearTimeout(a._settimeNum),a._hidePathStyleSet(o)};c()}},getVariables:function(){for(var ar=this,br=[],cr=function(e){var t=!1;if(!e)return t;var r=ar._getNowUrl(),n=za(ya(r+"/")),i=za(ya(r)),a=e[0].replace(new RegExp("^\\%","g"),"");return a!==i&&a!==n||(t=!0),t},dr=function(nr){var or=!1;if(!nr)return or;var pr=nr[1].pattern;if(pr){var qr=pr.conditions;if("OR"===pr.relation||""===pr.relation)for(var rr=0;rr<qr.length;rr+=1){var sr=qr[rr]||{},tr=sr.field,ur=sr.func,vr=sr.params,wr=ar._getNowUrl();if("URL"===tr){if("EQUAL"===ur&&(B.include(vr,wr)||B.include(vr,wr+"/"))){or=!0;break}if("CONTAIN"===ur&&(-1<wr.indexOf(vr[0])||-1<(wr+"/").indexOf(vr[0]))){or=!0;break}if("REG_MATCH"===ur)try{var yr=eval(vr[0]);if(yr.test(wr)||yr.test(wr+"/")){or=!0;break}}catch(e){C_error(e)}}}}return or},er=0;er<ar._visualizationArr.length;er+=1){var fr=ar._visualizationArr[er][2],gr=!1;1===fr?gr=cr(ar._visualizationArr[er]):0===fr&&(gr=dr(ar._visualizationArr[er])),gr&&br.push({variations:ar._visualizationArr[er][1].variations||[],type:2,variable:ar._visualizationArr[er][0]})}return br}},Da={data:{experiments:[],variables:{}},abtest_config:{enable_abtest:!1,interval_mins_abtest:60,default_variables:{},url:"",multilinkTimeOutMs:300,timeoutMs:500,hasCacheRender:!1},_default_variables:{},_getVariableInfoComplete:!1,_queue:[],_showPage:function(){"undefined"!=typeof DATrackerABTestingLeadCode&&DATrackerABTestingLeadCode&&DATrackerABTestingLeadCode.showPage&&DATrackerABTestingLeadCode.showPage()},init:function(e){if(!e)return null;this.DATracker=e,Aa.init(this.DATracker),Ca.init(this.DATracker,this),this.localStorageName="hb_"+this.DATracker.get_config("token")+"_abtest";var r=Ca.isEditor(),n=this,t=function(){try{var e=n.DATracker.get_config("abtest")||{};if(n._default_variables=e.default_variables||{},n.abtest_config=B.deepMerge(n.abtest_config,e),n.abtest_config.enable_abtest)if(n.data.variables=n.abtest_config.default_variables,r)n._getVariableInfoComplete=!0;else if(n._checkUpdateTime())n.async_get_variable();else{var t=n._getLocalStorageData();n.data=t.data,n._getVariableInfoComplete=!0,n._dataClass()}}catch(e){r?(n._getVariableInfoComplete=!0,n._showPage()):n.async_get_variable()}};t(),B.innerEvent.on("singlePage:change",function(){t()})},debugTrack:function(e){Aa.debugTrack(e)},_dataClass:function(){if(!this._getVariableInfoComplete)return!1;var r=this,e=r.data.variables,t=[],n=[];for(var i in e)e.hasOwnProperty(i)&&(3===r._getExperimentType(i)&&t.push([i,e[i]]),2===r._getExperimentType(i)&&n.push([i,e[i]]));Ba.setMultilinkArr(t),Ca.setVisualizationArr(n);var a=Ba.getVariable(),o=Ca.getVariables();if(a){r.get_variation(function(e){try{var t=function(){Ba.jump(a,r._showPage)};setTimeout(t,e.abtest_config.multilinkTimeOutMs),e.get(a.variable,window.location.href,t,{variableObj:a})}catch(e){r._showPage(),C_error(e)}})}else{if(o.length){r.get_variation(function(e){try{Ca.render(o);for(var t=0;t<o.length;t+=1){var r=o[t];e.get(r.variable,{},function(){},{variableObj:r})}}catch(e){C_error(e)}})}r._showPage()}},isTestDebug:function(){return Aa._isTestDebug()},isEditor:function(){return Ca.isEditor()},getDebugKeyData:function(){return Aa.getDebugKeyData()},_saveLocal:function(){var e={data:this.data};try{this.abtest_config.interval_mins_abtest&&B.localStorage.set(this.localStorageName,JSON.stringify(e))}catch(e){}},_getLocalStorageData:function(){var t;try{t=JSON.parse(B.localStorage.get(this.localStorageName))}catch(e){t=null}return t},_checkUpdateTime:function(){var t=!0;try{var e=this.abtest_config.interval_mins_abtest,r=this._getLocalStorageData().data.updatedTime/1e3;1*(new Date).getTime()/1e3<=r+60*e&&(t=!1)}catch(e){t=!0}return t},_getExperimentType:function(e){var t=1;try{0===e.indexOf("$")&&(t=3),0===e.indexOf("%")&&(t=2)}catch(e){C_error(e)}return t},_variableToFindExperiment:function(e){for(var t,r={$experimentId:[],$versionId:[],$experimentType:this._getExperimentType(e)},n=0;n<this.data.experiments.length;n++){var i=this.data.experiments[n].experimentId,a=this.data.experiments[n].versionId,o=this.data.experiments[n].variables;B.include(o,e)&&(B.include(r.$experimentId,i)||r.$experimentId.push(i),B.include(r.$versionId,a)||r.$versionId.push(a))}return r.$experimentId=r.$experimentId.join(","),r.$versionId=r.$versionId.join(","),3===r.$experimentType?(t=Ba.getVariable())&&(r.$source=t.key,r.$target=t.url):2===r.$experimentType||(r[e]=this.data.variables[e]),r},_track_abtest:function(e,t){e&&this.DATracker.track("da_abtest",e,t||function(){})},_getUserId:function(){var e=this.DATracker.get_user_id()||this.DATracker.get_distinct_id();return this.isTestDebug()&&(e=this.getDebugKeyData()),e},get:function(e,t,r,n){try{if(void 0===this.data.variables[e])return t;var i=this._variableToFindExperiment(e)||{};return i.$experimentId&&i.$versionId&&i.$experimentType?this._track_abtest(i,r):"function"==typeof r&&r(),this.data.variables[e]}catch(e){return t}},get_variation:function(e){if(!this._getVariableInfoComplete)return this._queue.push(arguments),!1;"function"==typeof e&&e(this)},async_get_variable:function(){if(this.isEditor())this._getVariableInfoComplete=!0;else try{var e=this.abtest_config;if(e.enable_abtest){var r=this,t=r._getUserId(),n=r.DATracker.get_config("token");r._getVariableInfoComplete=!1;var i=r.DATracker.get_config("api_host")+"/cc/a_exp",a=500;try{a=r.abtest_config.timeoutMs}catch(e){a=500}e.url&&(i=e.url);var o=B.extend({},B.info.properties(),r.DATracker.persistence.properties());B.ajax.post(i,{userId:t,appKey:n,property:{deviceOs:o.deviceOs,deviceOsVersion:o.deviceOsVersion,screenWidth:o.screen_width,screenHeight:o.screen_height,devicePlatform:o.hb_lib,pageOpenScene:r.DATracker.pageOpenScene}},B.bind(function(e){if(this._getVariableInfoComplete=!0,e.error)this.isTestDebug()&&Aa.debugNoData();else if(200===e.code){var t=B.JSONDecode(B.JSONEncode(this._default_variables));this.data.experiments=e.data.experiments,this.data.variables=B.deepMerge(t,e.data.variables),this.data.updatedTime=(new Date).getTime(),this._saveLocal(),this._dataClass(),this.isTestDebug()&&(e.data.experiments.length||Aa.debugNoData())}this._queue.length&&(B.each(r._queue,function(e){r.get_variation.apply(r,Array.prototype.slice.call(e))}),r._queue=[])},r),a)}}catch(e){}},is_abtest_debug:Aa._isTestDebug,get_hubble_abtest_debug_key_str:function(){var e="";return Aa._isTestDebug()&&(e="hubble_abtest_debug_key="+Aa.getDebugKeyData()),e},hasLocalCache:function(){return!this._checkUpdateTime()}},Ka="DATracker",La="__mps",Ma="__mpso",Na="__mpa",Oa="__mpap",Pa="__mpu",Qa="attributes",Ra="attributes",Sa="attributes",Ta="attributes",Ua="$union",Wa="costTime",Xa=[La,Ma,Na,Oa,Pa,"$people_distinct_id",Wa],Ya=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Za=!Ya&&-1===F.indexOf("MSIE")&&-1===F.indexOf("Mozilla"),$a={api_host:"https://hubble.netease.com",app_host:"https://hubble.netease.com",autotrack:!1,cdn:"https://hubble.netease.com",cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,track_links_timeout:300,cookie_expiration:730,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,property_blacklist:[],session_interval_mins:30,is_single_page:!1,single_page_config:{mode:"hash",track_replace_state:!1},pageview:!0,use_app_track:!1,hubble_render_mode:!1,heatmap_url:"https://hubble.netease.com/track/w/heatmap/heatmap.js",heatmap_getdateUrl:"https://hubble.netease.com/hwi/heatmap/query",send_error:!1,control_js_url:"https://hubble.netease.com/track/w/control/control.js",visualization_editor_js_url:"https://hubble.netease.com/track/w/visualization/visualization.js",truncateLength:-1},ab={da_session_start:{dataType:"ie"},da_session_close:{dataType:"ie"},da_u_login:{dataType:"ie"},da_u_logout:{dataType:"ie"},da_u_signup:{dataType:"ie"},da_user_profile:{dataType:"ie"},da_screen:{dataType:"pv"},da_ad_click:{dataType:"ie"},da_activate:{dataType:"ie"},da_abtest:{dataType:"ie"},da_send_error:{dataType:"ie"}},bb=!1,cb=function(){};cb.prototype.create_properties=function(){},cb.prototype.event_handler=function(){},cb.prototype.after_track_handler=function(){},cb.prototype.init=function(e){return this.mp=e,this},cb.prototype.track=function(e,i,a,o){var s=this,t=B.dom_query(e);if(0!==t.length)return B.each(t,function(e){B.register_event(e,this.override_event,function(e){var t={},r=s.create_properties(a,this),n=s.mp.get_config("track_links_timeout");s.event_handler(e,this,t),window.setTimeout(s.track_callback(o,r,t,!0),n),s.mp.track(i,r,s.track_callback(o,r,t))})},this),!0;C_error("The DOM query ("+e+") returned 0 elements")},cb.prototype.track_callback=function(e,t,r,n){n=n||!1;var i=this;return function(){r.callback_fired||(r.callback_fired=!0,e&&!1===e(n,t)||i.after_track_handler(t,r,n))}},cb.prototype.create_properties=function(e,t){return"function"==typeof e?e(t):B.extend({},e)};var db=function(){this.override_event="click"};B.inherit(db,cb),db.prototype.create_properties=function(e,t){var r=db.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r},db.prototype.event_handler=function(e,t,r){r.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,r.href=t.href,r.new_tab||e.preventDefault()},db.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var eb=function(e){this.props={},e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_hubble";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(C_critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie");"localStorage"===t&&function(){var t=!0;try{var e="__hbssupport__";B.localStorage.set(e,"xyz"),"xyz"!==B.localStorage.get(e)&&(t=!1),B.localStorage.remove(e)}catch(e){t=!1}return t||C_error("localStorage unsupported; falling back to cookie store"),t}()?this.storage=B.localStorage:this.storage=B.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};eb.prototype.properties=function(){var r={};return B.each(this.props,function(e,t){B.include(Xa,t)||(r[t]=e)}),r},eb.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=B.extend({},e))}},eb.prototype.upgrade=function(e){var t,r,n=e.upgrade;n&&(t="mp_super_properties","string"==typeof n&&(t=n),r=this.storage.parse(t),this.storage.remove(t),this.storage.remove(t,!0),r&&(this.props=B.extend(this.props,r.all,r.events))),e.cookie_name||"DATracker"===e.name||(t="mp_"+e.token+"_"+e.name,(r=this.storage.parse(t))&&(this.storage.remove(t),this.storage.remove(t,!0),this.register_once(r))),this.storage===B.localStorage&&(r=B.cookie.parse(this.name),B.cookie.remove(this.name),B.cookie.remove(this.name,!0),r&&this.register_once(r))},eb.prototype.save=function(){this.disabled||this.storage.set(this.name,B.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure)},eb.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},eb.prototype.clear=function(){this.remove(),this.props={}},eb.prototype.register_once=function(e,r,t){return!!B.isObject(e)&&(void 0===r&&(r="None"),this.expire_days=void 0===t?this.default_expiry:t,B.each(e,function(e,t){this.props[t]&&this.props[t]!==r||(this.props[t]=e)},this),this.save(),!0)},eb.prototype.register=function(e,t){return!!B.isObject(e)&&(this.expire_days=void 0===t?this.default_expiry:t,B.extend(this.props,e),this.save(),!0)},eb.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())},eb.prototype.safe_merge=function(r){return B.each(this.props,function(e,t){t in r||(r[t]=e)}),r},eb.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},eb.prototype.set_disabled=function(e){this.disabled=e,this.disabled&&this.remove()},eb.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},eb.prototype.get_cross_subdomain=function(){return this.cross_subdomain},eb.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},eb.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],i=this._get_or_create_queue(Qa),a=this._get_or_create_queue(Ra),o=this._get_or_create_queue(Sa),s=this._get_or_create_queue(Ua),c=this._get_or_create_queue(Ta,[]);r===La?(B.extend(i,n),this._pop_from_people_queue(Sa,n),this._pop_from_people_queue(Ua,n)):r===Ma?B.each(n,function(e,t){t in a||(a[t]=e)}):r===Na?B.each(n,function(e,t){t in i?i[t]+=e:(t in o||(o[t]=0),o[t]+=e)},this):r===Pa?B.each(n,function(e,t){B.isArray(e)&&(t in s||(s[t]=[]),s[t]=s[t].concat(e))}):r===Oa&&c.push(n),C_log("æå°æ°æ®:"),C_log(t),this.save()},eb.prototype._pop_from_people_queue=function(e,t){var r=this._get_queue(e);B.isUndefined(r)||(B.each(t,function(e,t){delete r[t]},this),this.save())},eb.prototype._get_queue_key=function(e){return e===Qa?La:e===Ra?Ma:e===Sa?Na:e===Ta?Oa:e===Ua?Pa:void C_error("Invalid queue:",e)},eb.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]},eb.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=B.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)},eb.prototype.set_event_timer=function(e,t){var r=this.props[Wa]||{};r[e]=t,this.props[Wa]=r,this.save()},eb.prototype.remove_event_timer=function(e){var t=(this.props[Wa]||{})[e];return B.isUndefined(t)||(delete this.props[Wa][e],this.save()),t};var fb=function(){},gb=function(){},hb=Da,ib=function(e,t,r){var n,i=r===Ka?Fa:Fa[r];if(i&&0===Ea||i&&2===Ea)n=i;else{if(i&&!B.isArray(i))return void C_error("You have already initialized "+r);n=new fb}return n._init(e,t,r),n.people=new gb,n.people._init(n),n.abtest=hb,n.abtest.init(n),a.DEBUG=a.DEBUG||n.get_config("debug"),n.__autotrack_enabled=n.get_config("autotrack"),!B.isUndefined(i)&&B.isArray(i)&&(n._execute_array.call(n.people,i.people),n._execute_array(i),n._execute_array.call(n.abtest,i.abtest)),n};fb.prototype.init=function(e,t,r){if(B.isUndefined(r))C_error("You must name your new library: init(token, config, name)");else{if(r!==Ka){var n=ib(e,t,r);return(Fa[r]=n)._loaded(),n}C_error("You must initialize the main DATracker object right after you include the DATracker js snippet")}},fb.prototype._init=function(e,t,r){var i=this;i.__loaded=!0,i.config={},void 0!==t&&void 0!==t.single_page_config&&void 0===t.single_page_config.track_replace_state&&(t.single_page_config.track_replace_state=$a.single_page_config.track_replace_state),i.pageOpenScene="Browser",i.set_config(B.extend({},$a,t,{name:r,token:e,callback_fn:(r===Ka?r:Ka+"."+r)+"._jsc"})),ea.init(e),aa.init(e,this),i._jsc=function(){},i.__dom_loaded_queue=[],i.__request_queue=[],i.__disabled_events=[],i._flags={disable_all_events:!1},i.persistence=i.cookie=new eb(i.config),i.cookie.register({sessionReferrer:document.referrer}),i.cookie.register_once({updatedTime:0,sessionStartTime:0}),i.cookie.register_once({sendNumClass:{allNum:0,errSendNum:0}});var n=i.get_config("heatmap");B.isObject(n)&&(n.clickmap=n.clickmap||"default");var a=_(i);i.get_appStatus=function(t){a.getAppStatus(function(e){try{"function"==typeof t&&t(e)}catch(e){}})},i._get_SendCall=function(e,t,r,n){if(i.get_config("hubble_render_mode"))return!1;a.getSendCall(e,t,r,n)},fa.init(i,function(){hb.isTestDebug()||hb.isEditor()?i.set_config({hubble_render_mode:!0}):i.set_config({hubble_render_mode:!1}),i._loaded(),i._send_da_activate(),aa.data.isAdClick&&i._ad_click(),i.get_config("is_single_page")&&(i.cookie.register({currentReferrer:location.href}),i._single_page()),i.get_config("track_pageview")?i.track_pageview():i._session()})},fb.prototype._sendNativeCall=function(e,t,r,n){this.get_config("use_app_track")&&"function"==typeof this._get_SendCall&&this._get_SendCall(e,t,r,n)},fb.prototype._ad_click=function(){return this.track("da_ad_click")},fb.prototype._session=function(e){var t=1*this.cookie.props.sessionStartTime/1e3,r=1*this.cookie.props.updatedTime/1e3,n=(this.cookie.props.sessionUuid,(new Date).getTime()),i=1*n/1e3,a=!this._check_referer();(0==t||i>r+60*this.config.session_interval_mins||a)&&(0==t||this._track_da_session_close(),this.cookie.register({sessionUuid:B.UUID(),sessionStartTime:(new Date).getTime()}),this._track_da_session_start()),this.cookie.register({updatedTime:n}),"function"==typeof e&&e()},fb.prototype._track_da_session_start=function(e){return this.track("da_session_start")},fb.prototype._track_da_session_close=function(e){var t=(new Date).getTime()-1,r=this.cookie.props.sessionStartTime;this.cookie.props.LASTEVENT&&this.cookie.props.LASTEVENT.time&&(t=this.cookie.props.LASTEVENT.time+1);var n=t,i=n-r;return this.track("da_session_close",{sessionCloseTime:n,sessionTotalLength:i})},fb.prototype._check_referer=function(){var e=this.cookie.props.sessionReferrer,t=!0;return e?B.get_host(e)!=window.location.host&&(t=!1):t=!0,t},fb.prototype._single_page=function(){var e=this,t=location.href,r=function(){},n=function(){B.innerEvent.trigger("singlePage:change")};"hash"===this.get_config("single_page_config").mode?r=function(){e.cookie.register({sessionReferrer:t}),e._single_pageview(),t=location.href,n()}:"history"===this.get_config("single_page_config").mode&&(r=function(){e._single_pageview(),n()}),da.init({mode:this.get_config("single_page_config").mode,callback_fn:r,track_replace_state:this.get_config("single_page_config").track_replace_state})},fb.prototype._loaded=function(){this.get_config("loaded")(this)},fb.prototype._dom_loaded=function(){B.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),B.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue},fb.prototype._track_dom=function(e,t){if(this.get_config("img"))return C_error("You can't use DOM tracking functions with img = true."),!1;if(!bb)return this.__dom_loaded_queue.push([e,t]),!1;var r=(new e).init(this);return r.track.apply(r,t)},fb.prototype._prepare_callback=function(t,r){if(B.isUndefined(t))return null;if(Ya){return function(e){t(e,r)}}var n=this._jsc,i=""+Math.floor(1e8*Math.random()),e=this.get_config("callback_fn")+"["+i+"]";return n[i]=function(e){delete n[i],t(e,r)},e},fb.prototype._send_request=function(e,t,r,n,i){if(Za)this.__request_queue.push(arguments);else{var a=this.get_config("verbose");if(t.verbose&&(a=!0),this.get_config("test")&&(t.test=1),a&&(t.verbose=1),this.get_config("img")&&(t.img=1,e+="da.gif"),Ya||(r?t.callback=r:(a||this.get_config("test"))&&(t.callback="(function(){})")),t._=(new Date).getTime().toString(),e+="?"+B.HTTPBuildQuery(t),"img"in t){var o=document.createElement("img");o.src=e,o.width=1,o.height=1,"function"==typeof r&&r(0),o.onload=function(){this.onload=null},o.onerror=function(){this.onerror=null},o.onabort=function(){this.onabort=null}}else if(Ya)try{var s=new XMLHttpRequest;s.open("GET",e,!0),s.withCredentials=!1,s.onreadystatechange=function(){if(4===s.readyState)if(i&&i(),200===s.status)r&&r(a?B.JSONDecode(s.responseText):Number(s.responseText));else{var e="Bad HTTP status: "+s.status+" "+s.statusText;C_error(e),r&&r(a?{status:0,error:e}:0),n&&n({state:s.status,statusText:s.statusText})}},s.send(null)}catch(e){C_error(e),i&&i(),n&&n({state:"notSend",statusText:e})}else{var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.defer=!0,c.src=e;var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(c,u)}}},fb.prototype._execute_array=function(e){var t,r=[],n=[],i=[];B.each(e,function(e){e&&(t=e[0],"function"==typeof e?e.call(this):B.isArray(e)&&"alias"===t?r.push(e):B.isArray(e)&&-1!==t.indexOf("track")&&"function"==typeof this[t]?i.push(e):n.push(e))},this);var a=function(e,t){B.each(e,function(e){B.isFunction(this[e[0]])&&this[e[0]].apply(this,e.slice(1))},t)};a(r,this),a(n,this),a(i,this)},fb.prototype.push=function(e){this._execute_array([e])},fb.prototype.disable=function(e){void 0===e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},fb.prototype.track=function(r,t,e,n){if("function"!=typeof e&&(e=function(){}),B.isUndefined(r))C_error("No event name provided to DATracker.track");else{if(!this._event_is_disabled(r)){this.cookie.load(),t=t||{};var i={},a=B.JSONDecode(B.JSONEncode(t)),o=this.persistence.remove_event_timer(r);if(!B.isUndefined(o)){var s=(new Date).getTime()-o;i[Wa]=s}"da_session_close"==r&&(i.sessionCloseTime=a.sessionCloseTime,i.sessionTotalLength=a.sessionTotalLength,delete a.sessionCloseTime,delete a.sessionTotalLength),t=B.extend({},B.info.properties(),this.persistence.properties(),i);var c=this.get_config("property_blacklist");B.isArray(c)?B.each(c,function(e){delete t[e]}):C_error("Invalid value for property_blacklist config: "+c);var u="e";ab[r]?u=ab[r].dataType:n&&(u=n),B.include(["da_session_start","da_session_close","da_activate"],r)||this._session(),"e"===u&&(this._check_referer()||this.cookie.register({sessionReferrer:location.href})),this.get_config("is_single_page")||B.include(["da_activate","da_session_close"],r)&&this.cookie.register({sessionReferrer:location.href}),this.get_config("is_single_page")&&t.sessionReferrer!=t.referrer&&(t.referrer=t.sessionReferrer,t.referring_domain=B.info.referringDomain(t.sessionReferrer));var l=(new Date).getTime();"da_session_close"==r&&(l=t.sessionCloseTime),"da_session_start"==r&&(l=t.sessionStartTime),this.register_once({persistedTime:l},"");var f={dataType:u,sessionUuid:this.cookie.props.sessionUuid,userId:this.persistence.props.user_id,currentUrl:t.current_url,referrer:t.referrer,referrerDomain:t.referring_domain,sdkVersion:t.lib_version,sdkType:"js",deviceOs:t.deviceOs,deviceOsVersion:t.deviceOsVersion,devicePlatform:t.hb_lib,browser:t.browser,browserVersion:t.browser_version,screenWidth:t.screen_width,screenHeight:t.screen_height,sessionTotalLength:t.sessionTotalLength,eventId:r,appKey:this.get_config("token"),time:l,persistedTime:this.cookie.props.persistedTime,deviceUdid:this.get_distinct_id(),deviceModel:B.trim(t.deviceModel),pageTitle:t.title,urlPath:t.url_path,currentDomain:t.currentDomain,pageOpenScene:this.pageOpenScene},p=aa.getParams(),d=ea.getParams();if(f=B.extend(f,p),f=B.extend(f,d),"e"===u&&(a=B.extend({},this.cookie.props.superProperties||{},a)),"pv"===u&&"object"==typeof this.pageview_attributes&&(a=B.extend({},this.pageview_attributes||{},a)),f.attributes=a,B.size(f.attributes)||delete f.attributes,f.referrer||delete f.referrer,f.referrerDomain||delete f.referrerDomain,f.pageTitle||delete f.pageTitle,f.urlPath||delete f.urlPath,f.userId||delete f.userId,t[Wa]&&(f[Wa]=t[Wa],delete t[Wa]),this.get_config("hubble_render_mode"))return hb.debugTrack(f),!1;var _=this.get_config("truncateLength"),h=f;"[object Number]"===Object.prototype.toString.call(_)&&0<_&&(h=B.truncate(f,_));var g=B.JSONEncode(h),b=B.base64Encode(g),m=B.sha1(this.get_config("token"));C_log(Ka+" REQUEST:"),C_log(h);var v=this,y=function(){var e=v.cookie.props.sendNumClass;"da_session_start"===r&&(e.allNum=0,e.errSendNum=0),"da_send_error"!==r&&"da_activate"!==r&&(e.allNum+=1),v.cookie.register({sendNumClass:e})},k=function(e){if("da_send_error"!==r&&"da_activate"!==r){var t=v.cookie.props.sendNumClass.errSendNum;v.cookie.props.sendNumClass.allNum;"da_session_start"===r&&(t=0),t+=1,v.get_config("send_error")&&(e=B.extend({eventId:r,time:l,allNum:v.cookie.props.sendNumClass.allNum,errSendNum:t},e),v.track("da_send_error",e)),v.cookie.register({sendNumClass:{allNum:v.cookie.props.sendNumClass.allNum,errSendNum:t}})}},w=function(){v._send_request(v.get_config("api_host")+"/track/w/",{data:b,appKey:m},v._prepare_callback(e,h),k,y)};return this.get_config("use_app_track")?this._sendNativeCall(g,r,e,w):w(),this.get_config("debug")&&B.isFunction(this.debug)&&(this.get_config("use_app_track")&&B.include(["da_session_close","da_session_start","da_activate","da_u_login","da_u_logout","da_u_signup"],r)||this.debug({data:b})),B.include(["da_session_close","da_session_start"],r)||this.cookie.register({LASTEVENT:{eventId:r,time:l}}),h}e(0)}},fb.prototype.track_pageview=function(t,e,r){B.isUndefined(e)&&(e=document.location.href);var n=this;this._session(function(){var e=n.track("da_screen",B.extend({},t));"function"==typeof r&&r(e)})},fb.prototype._send_da_activate=function(){var e={};return this.get_distinct_id()||(this.register_once({deviceUdid:B.UUID()},""),e=this.track("da_activate")),e},fb.prototype.register_attributes=function(e){if("object"==typeof e){var t=this.cookie.props.superProperties||{};t=B.extend({},t,e),this.register({superProperties:t})}},fb.prototype.register_attributes_once=function(e){if("object"==typeof e){var t=this.cookie.props.superProperties||{};t=B.extend({},e,t),this.register({superProperties:t})}},fb.prototype.current_attributes=function(e){"function"==typeof e&&e(this.cookie.props.superProperties||{})},fb.prototype.unregister_attributes=function(e){if("string"==typeof e){var t=this.cookie.props.superProperties||{};delete t[e],this.register({superProperties:t})}},fb.prototype.clear_attributes=function(){this.register({superProperties:{}})},fb.prototype.single_pageview=function(){},fb.prototype._single_pageview=function(){var e=location.href,t=this.cookie.props.currentReferrer||location.href;this.get_config("is_single_page")&&("hash"!==this.get_config("single_page_config").mode&&"history"!==this.get_config("single_page_config").mode&&"memoryhistory"!==this.get_config("single_page_config").mode||this.cookie.register({sessionReferrer:t,currentReferrer:e}),this.track_pageview({},e))},fb.prototype.track_links=function(){return this._track_dom.call(this,db,arguments)},fb.prototype.time_event=function(e){B.isUndefined(e)?C_error("No event name provided to DATracker.time_event"):this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime())},fb.prototype.register=function(e,t){this.persistence.register(e,t)},fb.prototype.register_once=function(e,t,r){this.persistence.register_once(e,t,r)},fb.prototype.unregister=function(e){this.persistence.unregister(e)},fb.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)},fb.prototype.signup=function(e){var t=this.get_user_id();if((t=null==t?"":t)!=e)return this._register_single("user_id",e),this.track("da_u_signup",{oldUserId:t,newUserId:e})},fb.prototype.login=function(e){var t=this.signup(e),r=this.track("da_u_login");return this._register_single("user_id",e),{data_signup:t,data_login:r}},fb.prototype.logout=function(e){this.unregister("user_id");var t=!1;function r(){t||(t=!0,"function"==typeof e&&e())}return setTimeout(r,this.get_config("track_links_timeout")),this.track("da_u_logout",{},r)},fb.prototype.set_userId=function(e){this._register_single("user_id",e)},fb.prototype.reset=function(){this.persistence.clear(),this.register_once({deviceUdid:B.UUID()},"")},fb.prototype.get_distinct_id=function(){return this.get_property("deviceUdid")},fb.prototype.get_user_id=function(){return this.get_property("user_id")},fb.prototype.set_config=function(e){B.isObject(e)&&(B.extend(this.config,e),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),a.DEBUG=a.DEBUG||this.get_config("debug"))},fb.prototype.get_config=function(e){return this.config[e]},fb.prototype.get_property=function(e){return this.persistence.props[e]},fb.prototype.toString=function(){var e=this.get_config("name");return e!==Ka&&(e=Ka+"."+e),e},fb.prototype._event_is_disabled=function(e){return B.isBlockedUA(F)||this._flags.disable_all_events||B.include(this.__disabled_events,e)},gb.prototype._init=function(e){this._DATracker=e},gb.prototype.set=function(e,t,r){var n={},i={};return B.isObject(e)?(B.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,void 0===i.$userProfile&&(i.$type="profile_set",i={$userProfile:i}),n[Qa]=i,this._send_request(n,r)},gb.prototype.set_once=function(e,t,r){var n={},i={};return B.isObject(e)?(B.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,void 0===i.$userProfile&&(i.$type="profile_set_once",i={$userProfile:i}),n[Ra]=i,this._send_request(n,r)},gb.prototype.set_realname=function(e){this.set({$realName:e})},gb.prototype.set_country=function(e){this.set({$country:e})},gb.prototype.set_province=function(e){this.set({$region:e})},gb.prototype.set_region=function(e){this.set({$region:e})},gb.prototype.set_city=function(e){this.set({$city:e})},gb.prototype.set_age=function(e){this.set({$age:e})},gb.prototype.set_gender=function(e){0!=e&&1!=e&&2!=e||this.set({$gender:e})},gb.prototype.set_birthday=function(e){B.checkTime(e)&&this.set({$birthday:e})},gb.prototype.set_account=function(e){this.set({$account:e})},gb.prototype.set_populationWithAccount=function(e,t,r,n){e&&t&&r&&n&&B.checkTime(r)&&this.set({$account:e,$realName:t,$birthday:r,$gender:n})},gb.prototype.set_location=function(e,t,r){e&&t&&r&&this.set({$country:e,$region:t,$city:r})},gb.prototype.append=function(e,t,r){var n={},i={};return B.isObject(e)?(B.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,void 0===i.$userProfile&&(i.$type="profile_append",i={$userProfile:i}),n[Ra]=i,this._send_request(n,r)},gb.prototype.toString=function(){return this._DATracker.toString()+".people"},gb.prototype._send_request=function(e,t){if(this._DATracker.cookie.props.hubble_render_mode)return!1;e.dataType="ie",e.appKey=this._get_config("token"),e.deviceUdid=this._DATracker.get_distinct_id(),e.userId=this._DATracker.get_user_id(),e.time=(new Date).getTime(),e.sdkType="js",e.eventId="da_user_profile",e.persistedTime=this._DATracker.cookie.props.persistedTime,e.pageOpenScene="Browser";var r=aa.getParams(),n=ea.getParams();e=B.extend(e,r),e=B.extend(e,n);var i=B.encodeDates(e),a=this._DATracker.get_config("truncateLength"),o=i;"[object Number]"===Object.prototype.toString.call(a)&&0<a&&(o=B.truncate(i,a));var s=B.JSONEncode(i),c=B.base64Encode(s);C_log("æå°æ°æ®:"),C_log(o);var u=B.sha1(this._DATracker.get_config("token")),l=this,f=function(){l._DATracker._send_request(l._get_config("api_host")+"/track/w/",{data:c,appKey:u},l._DATracker._prepare_callback(t,o))};return this._DATracker.get_config("use_app_track")?this._DATracker._sendNativeCall(s,"$da_user_profile",t,f):f(),this._DATracker.get_config("debug")&&B.isFunction(this._DATracker.debug)&&this._DATracker.debug({data:c}),o},gb.prototype._get_config=function(e){return this._DATracker.get_config(e)},gb.prototype._user_logined=function(){return void 0!==this._DATracker.get_user_id()},gb.prototype._enqueue=function(e){Qa in e?this._DATracker.persistence._add_to_people_queue(Qa,e):Ra in e?this._DATracker.persistence._add_to_people_queue(Ra,e):Sa in e?this._DATracker.persistence._add_to_people_queue(Sa,e):Ta in e?this._DATracker.persistence._add_to_people_queue(Ta,e):Ua in e?this._DATracker.persistence._add_to_people_queue(Ua,e):C_error("Invalid call to _enqueue():",e)},gb.prototype._is_reserved_property=function(e){return"$deviceUdid"===e||"$token"===e},fb.prototype.init=fb.prototype.init,fb.prototype.reset=fb.prototype.reset,fb.prototype.disable=fb.prototype.disable,fb.prototype.time_event=fb.prototype.time_event,fb.prototype.track=fb.prototype.track,fb.prototype.track_links=fb.prototype.track_links,fb.prototype.track_pageview=fb.prototype.track_pageview,fb.prototype.register=fb.prototype.register,fb.prototype.register_once=fb.prototype.register_once,fb.prototype.unregister=fb.prototype.unregister,fb.prototype.alias=fb.prototype.alias,fb.prototype.set_config=fb.prototype.set_config,fb.prototype.get_config=fb.prototype.get_config,fb.prototype.get_property=fb.prototype.get_property,fb.prototype.get_distinct_id=fb.prototype.get_distinct_id,fb.prototype.toString=fb.prototype.toString,fb.prototype.login=fb.prototype.login,fb.prototype.logout=fb.prototype.logout,fb.prototype.get_user_id=fb.prototype.get_user_id,fb.prototype.register_attributes=fb.prototype.register_attributes,fb.prototype.register_attributes_once=fb.prototype.register_attributes_once,fb.prototype.clear_attributes=fb.prototype.clear_attributes,fb.prototype.unregister_attributes=fb.prototype.unregister_attributes,fb.prototype.current_attributes=fb.prototype.current_attributes,eb.prototype.properties=eb.prototype.properties,eb.prototype.get_cross_subdomain=eb.prototype.get_cross_subdomain,eb.prototype.clear=eb.prototype.clear,gb.prototype.set=gb.prototype.set,gb.prototype.set_once=gb.prototype.set_once,gb.prototype.append=gb.prototype.append,gb.prototype.toString=gb.prototype.toString;var jb={},lb=function(){Fa.init=function(e,t,r){if(r)return Fa[r]||(Fa[r]=jb[r]=ib(e,t,r),Fa[r]._loaded()),Fa[r];var n=Fa;jb[Ka]?n=jb[Ka]:e&&((n=ib(e,t,Ka))._loaded(),jb[Ka]=n),Fa=n,1!==Ea&&2!==Ea||(window[Ka]=Fa),B.each(jb,function(e,t){t!==Ka&&(Fa[t]=e)}),Fa._=B}};Ea=1,Fa=window[Ka],B.isUndefined(Fa)?C_critical('"DATracker" object not initialized. Ensure you are using the latest version of the DATracker JS Library along with the snippet we provide.'):Fa.__loaded||Fa.config&&Fa.persistence?C_error("DATracker library has already been downloaded at least once."):(Fa.__SV||0)<1.1?C_critical("Version mismatch; please ensure you're using the latest version of the DATracker code snippet."):(B.each(Fa._i,function(e){e&&B.isArray(e)&&(jb[e[e.length-1]]=ib.apply(this,e))}),lb(),Fa.init(),B.each(jb,function(e){e._loaded()}),function(){function e(){e.done||(Za=!(bb=e.done=!0),B.each(jb,function(e){e._dom_loaded()}))}if(document.addEventListener)"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e);var t=!1;try{t=null===window.frameElement}catch(e){}document.documentElement.doScroll&&t&&function t(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}()}B.register_event(window,"load",e,!0)}())}();