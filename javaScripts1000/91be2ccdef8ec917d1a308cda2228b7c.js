var cincopa=cincopa||{};cincopa.baseTimer=cincopa.baseTimer||new Date();cincopa.isnull=function(b){return typeof b=="undefined"||b==null||b==""};cincopa.fontsList=cincopa.fontsList||{roboto:{font:"https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap","font-family":"'Roboto', sans-serif;"},lato:{font:"https://fonts.googleapis.com/css?family=Lato:400,700&display=swap","font-family":"'Lato', sans-serif;"},opensans:{font:"https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap","font-family":"'Open Sans', sans-serif;"},oswald:{font:"https://fonts.googleapis.com/css?family=Oswald:400,500,600&display=swap","font-family":"'Oswald', sans-serif;"},montserrat:{font:"https://fonts.googleapis.com/css?family=Montserrat:400,600,700&display=swap","font-family":"'Montserrat', sans-serif;"}};cincopa.rtcdn="rtcdn.cincopa.com";cincopa.inBetween=function(e,d,b){var c=e.indexOf(d);if(c==-1){return null}var g=e.indexOf(b,c+d.length);if(g==-1||(b==null||b=="")){return e.substr(c+d.length)}return e.substr(c+d.length,g-c-d.length)};cincopa.short_ua=function(){var b="desk";var c=navigator.userAgent.toLowerCase();if(c.indexOf("ipad")>-1){b="ipad"}else{if(c.indexOf("iphone")>-1){b="iphone"}else{if(c.indexOf("android")>-1){b="android"}}}return b}();cincopa.traceit=function(d,b){try{d="["+(Math.round(((new Date()).getTime()-cincopa.baseTimer)/100)/10)+"] "+d;if(typeof d=="object"){console.dir(d,b)}else{console.log(d,b)}}catch(c){}};cincopa.json_stringify=JSON.stringify||(function(){var b=document.createElement("iframe");document.body.appendChild(b);var c=b.contentWindow.JSON;document.body.removeChild(b);return c.stringify})();cincopa.json_parse=JSON.parse||(function(){var b=document.createElement("iframe");document.body.appendChild(b);var c=b.contentWindow.JSON;document.body.removeChild(b);return c.parse})();cincopa.send_beacon=function(c){var d=new XMLHttpRequest();var b="";if(cincopa.analytics_filter_ip){b+="&analytics_filter_ip="+cincopa.analytics_filter_ip}if(cincopa.analytics_anonymize_ip){b+="&analytics_anonymize_ip="+cincopa.analytics_anonymize_ip}if(b!=""){c+=(c.indexOf("?")>-1?"":"?")+b}d.open("get",c,true);d.send()};cincopa.trace=function(c,b){b=b||"";if(!window.console||!window.cincopa._debug){return}cincopa.traceit(c,b)};cincopa.get_root_loader=function(){var b=document.getElementsByTagName("script");for(var d=b.length-1;d>=0;d--){var c=b[d].src.indexOf("libasync");if(c>-1){var e=b[d].src.substring(0,c);return e}}return parent.location.protocol+"//"+cincopa.rtcdn+"/"};cincopa.location_blocked=function(){try{if(parent.location.href){return false}}catch(b){}return true}();cincopa.is_ie=function(){return navigator.userAgent.match(/MSIE/)||!!navigator.userAgent.match(/Trident.*rv\:11\./)};cincopa.hasTouch=function(){var b=navigator.userAgent.toLowerCase();return("ontouchstart" in window&&b.match(/chrome/gi)===null)||("ontouchstart" in window&&b.match(/chrome/gi)!==null&&/android|iphone|ipad|ipod/i.test(b))};cincopa.copyToClipboard=function(e,d){if(navigator.userAgent.indexOf("Chrome")!=-1||navigator.userAgent.indexOf("Firefox")!=-1){var c={intercept:false,hook:function(g){if(c.intercept){g.preventDefault();g.clipboardData.setData("text/plain",e);g.clipboardData.setData("text/html",e);c.intercept=false}}};window.addEventListener("copy",c.hook);c.intercept=true;document.execCommand("copy");window.removeEventListener("copy",c.hook)}else{var b=d.createElement("input");b.setAttribute("value",e);d.body.appendChild(b);b.select();d.execCommand("copy");d.body.removeChild(b)}};cincopa.location=function(){if(cincopa.location_blocked){return document.referrer}else{return parent.location.href}}();cincopa.disable_analytics=cincopa.disable_analytics||false;cincopa.wizard_mode=cincopa.wizard_mode||false;cincopa.disable_cookies=cincopa.disable_cookies||false;cincopa.setCookie=function(b){if(!cincopa.disable_cookies){document.cookie=b}};cincopa.analytics_callback=cincopa.analytics_callback||"";cincopa.analytics_filter_ip=cincopa.analytics_filter_ip||null;cincopa.analytics_anonymize_ip=cincopa.analytics_anonymize_ip||null;cincopa.analytics_persistent=cincopa.analytics_persistent||{mode:"off"};cincopa.disable_cdn=cincopa.disable_cdn||false;cincopa._debug=cincopa._debug||(cincopa.inBetween(location.search,"cpdebug=","&")=="true")||(cincopa.inBetween(document.cookie,"cpdebug=",";")=="true");cincopa.registeredFunctions=cincopa.registeredFunctions||[];cincopa.registerEvent=cincopa.registerEvent||function(b,c,d){for(f in cincopa.registeredFunctions){if(cincopa.registeredFunctions[f].func==b&&cincopa.registeredFunctions[f].filter==c){return}}cincopa.registeredFunctions.push({func:b,filter:c,priority:d!=null?d:99});cincopa.registeredFunctions.sort(function(e,g){return(e.priority!=null?e.priority:99)-(g.priority!=null?g.priority:99)})};if(!String.prototype.startsWith){String.prototype.startsWith=function(c,b){b=b||0;return this.indexOf(c,b)===b};String.prototype.endsWith=function(b){return this.indexOf(b,this.length-b.length)!==-1}}cincopa._ROOT_LOADER=cincopa._ROOT_LOADER||cincopa.get_root_loader();cincopa._ROOT_PROTOCOL=cincopa._ROOT_PROTOCOL||function(){var b=cincopa._ROOT_LOADER.indexOf("://");return cincopa._ROOT_LOADER.substring(0,b+1)}();cincopa._ROOT_ANALYTICS=cincopa._ROOT_ANALYTICS||cincopa._ROOT_PROTOCOL+"//analytics.cincopa.com";cincopa._ROOT_LOADER_STATIC=cincopa._ROOT_LOADER_STATIC||function(e){var d="https:";var c=e.substring(e.indexOf("cincopa.com/")+11);try{if(parent.location.protocol!="https:"&&parent.location.protocol){d="http:"}}catch(b){d=e.substring(0,e.indexOf("//"))}if(cincopa._ROOT_LOADER.indexOf("//rt")>-1){return d+"//rt"+(cincopa.disable_cdn?"":"cdn")+".cincopa.com"+c}else{return d+"//www"+(cincopa.disable_cdn?"":"cdn")+".cincopa.com"+c}}(cincopa._ROOT_LOADER);cincopa._AJAX=cincopa._AJAX||cincopa._ROOT_LOADER_STATIC.replace("/runtime/","/runtimeze/");cincopa._HOST=cincopa._HOST||cincopa._ROOT_LOADER_STATIC.replace("/runtime/","/runtimeze/");cincopa._JSON=cincopa._JSON||cincopa._AJAX+"json.aspx";cincopa._JSONV2=cincopa._JSONV2||(cincopa._ROOT_PROTOCOL+"//"+cincopa.rtcdn+"/jsonv2.aspx");cincopa.traceit("Cincopa Library loaded "+cincopa._ROOT_LOADER_STATIC,"");cincopa.set_debug=function(b){try{console.log(cincopa.inBetween(document.cookie,"cpdebug=",";"))}catch(c){}if(typeof b=="undefined"){return}window.cincopa._debug=b;var e=new Date();e.setDate(e.getDate()+70);cincopa.setCookie("cpdebug="+b+"; expires="+e.toGMTString()+"; path=/")};cincopa._wp_filesadded=cincopa._wp_filesadded||"";cincopa.loadJSFile=function(b){if(b.toLowerCase().indexOf("//")==-1){b=_cincopa_url+b}cincopa.trace("loadJSFile "+b);if(true){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src",b);document.getElementsByTagName("head")[0].appendChild(c);cincopa._wp_filesadded+="["+b+"]"}};cincopa.loadCSSFile=function(b){if(b.toLowerCase().indexOf("//")==-1){b=_cincopa_url+b}cincopa.trace("loadCSSFile "+b);if(cincopa._wp_filesadded.indexOf("["+b+"]")==-1){var c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",b);document.getElementsByTagName("head")[0].appendChild(c);cincopa._wp_filesadded+="["+b+"]"}};cincopa.logError=function(e,b,d){try{if(!d){d="http://"+b+"/"+cincopa.location.replace("?","@").replace("#","@")}d+="|"+navigator.userAgent;cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=rtlogerror&fid="+e+"&setref="+encodeURIComponent(d));cincopa.traceit("CINCOPA LOG ERROR : "+e+" data: "+b,"")}catch(c){}};cincopa.logException=function(b){try{cincopa.trace(b);cincopa.logError("exception-"+name,b.toString()+" "+b.stack.split("\n")[1].trim())}catch(b){}};cincopa.logFeature=function(e,c){if(cincopa.disable_analytics){return}try{var d=cincopa.location;if(c){d="http://"+c+"/"+d}cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=rtfeatures&fid="+e+"&ttl=192&setref="+encodeURIComponent(d))}catch(b){}};cincopa.parseqs=function(c){if(c==""){return{}}var d={};for(var e=0;e<c.length;++e){var g=c[e].indexOf("=");if(g==-1){d[c[e]]=""}else{d[c[e].substring(0,g)]=decodeURIComponent(c[e].substring(g+1).replace(/\+/g," "))}}return d};cincopa.csvToObject=function(b){var h=b.split("\n");var l=[];var d=h[0].split(",");for(var e=1;e<h.length;e++){var k={};var c=h[e].match(/({.*?}|[^{,]+)(?=\s*,|\s*$)/g);for(var g=0;g<d.length;g++){k[d[g].trim()]=c[g]?c[g].trim():null}l.push(k)}return l};cincopa.detectMediaElementLib=function(){var c=document.getElementsByTagName("link");for(var b=0;b<c.length;b++){if(c[b].rel==="stylesheet"&&c[b].href&&(c[b].href.indexOf("mediaelementplayer.min.css")>-1||c[b].href.indexOf("mediaelementplayer.css")>-1)){return true}}return false};cincopa.hexToRgbA=function(d){if(d.indexOf("#")!==0){d="#"+d}var b;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(d)){b=d.substring(1).split("");if(b.length==3){b=[b[0],b[0],b[1],b[1],b[2],b[2]]}b="0x"+b.join("");return[(b>>16)&255,(b>>8)&255,b&255]}throw new Error("Bad Hex")};try{cincopa.qs=cincopa.qa||cincopa.parseqs(window.location.search.substr(1).split("&"));cincopa.hash=cincopa.hash||cincopa.parseqs(window.location.hash.substr(1).split("&"))}catch(ex){}cincopa.debug_flags=cincopa.debug_flags||(function(){if(!cincopa.qs.cpdebug){return{}}return cincopa.parseqs(cincopa.qs.cpdebug.split(","))})();if(cincopa.debug_flags.set_rtcdn==""){cincopa.rtcdn="rt.cincopa.com"}else{if(cincopa.debug_flags.set_rtcdn!=null){cincopa.rtcdn=cincopa.debug_flags.set_rtcdn}}var zeSkins=zeSkins||[];var zeGalleryArray=zeGalleryArray||[];cincopa.getGalleryById=function(b){for(var c in zeGalleryArray){if(zeGalleryArray[c].loaderParams._object==b||zeGalleryArray[c].loaderParams._object=="cp_lightbox_wrap_obj_"+b){return zeGalleryArray[c].getSkin().go}else{if(zeGalleryArray[c].loaderParams._fid==b){return zeGalleryArray[c].getSkin().go}}}return null};var _cp_go_hooks=new Object();var _cp_last_gallery=_cp_last_gallery||0;var _wp_widget_js_array=_wp_widget_js_array||[];var _cp_preloaded_files=_cp_preloaded_files||new Object();cincopa.cprtv2=function(c){var b=c.loaderParams._fid;var h=null;if(!cincopa.qs.cprtv2){if(cincopa.qs.cpoverridefid){b=cincopa.qs.cpoverridefid}var l=cincopa._ROOT_PROTOCOL+"//"+cincopa.rtcdn+"/meta_json.aspx?ver=v2json&id="+c.loaderParams._id+"&fid="+b;if(cincopa.location){l+="&setrefhost="+cincopa.location.match(/:\/\/(.[^/]+)/)[1]}if(cincopa.qs.cpdebug!=null){l+="&cpdebug="+cincopa.qs.cpdebug}}else{var l=cincopa._ROOT_PROTOCOL+"//"+cincopa.rtcdn+"/meta_json.aspx";if(b.indexOf("!")>-1){var k=b.split("!");h=k[0];var e=k[1];l+="?rid="+e+"&template="+h}else{if(b.indexOf("@")>-1){var k=b.split("@");h=k[0];var b=k[1];l+="?fid="+b+"&template="+h}else{l+="?fid="+b+"&template="+b}}}var g="";if(cincopa.location_blocked){g="&setref="+encodeURIComponent(cincopa.location)}l+=g;var d=function(v){try{if(typeof v==="string"&&v==""){cincopa.logError("cdnissue2","resnull")}}catch(m){}var q=(typeof v==="string"||v instanceof String)?cincopa.json_parse(v):v;c.acc=q.acc;if(q.args.old_skin=="true"){cincopa.traceit("Cincopa : Old skin detected");var w="";if(cincopa.location_blocked){w="&setref="+encodeURIComponent(cincopa.location)}var x=cincopa._ROOT_LOADER_STATIC+"widgetasync.aspx?id="+c.loaderParams._id+w;x+="&fid="+c.loaderParams._fid;x+=cp_add_override();cincopa.loadJSFile(x);return}c.json_url=cincopa._JSONV2;c.args=q.args;if(Object.keys&&Object.keys(c.args).length>0&&q.preload){c.args.id=c.loaderParams._id;c.args.preloader_js='"'+cincopa._ROOT_PROTOCOL+q.preload.js+'"';c.args.preloader_css='"'+cincopa._ROOT_PROTOCOL+q.preload.css+'"'}if(Object.keys(q.media).length>0){c.loaderParams._feedjson=q.media}if(cincopa.qs.cpdisablepreload||!q.preload||!q.preload.js){c.onArgs()}else{c.onSkinEvent("runtime.on-args");c.onSkinEvent("runtime.internal-on-args");var o=c.args.iframe;if((o===undefined||o==="")&&c.args.template_args!=null){o=c.args.template_args.iframe}for(var u in cincopa.hash){if(u.startsWith("cpoiframe")){o=cincopa.hash[u]}}if(o===undefined){o=false}else{o=o.toString().toLowerCase()=="true"}if(o){c.onArgs(null,true)}else{c.loadjscssfile("https:"+q.preload.js,"js","head",function(){c.onArgs(null,true)});c.loadjscssfile("https:"+q.preload.css,"css","head",function(){})}}};if(c.loaderParams._meta){d(c.loaderParams._meta)}else{Ajax(l,{http_method:"GET"},d)}};cincopa.boot_all=function(){for(var b=0;b<_cpmp.length;b++){cincopa.boot_gallery(_cpmp[b])}_cpmp=[]};cincopa.boot_gallery=function(h){if(cincopa.qs.cpdebug=="stopall"){alert("stopall");return}if(!getElement(h._object)){cincopa.traceit("CINCOPA ERROR : MISSING DIV (try to embed again to fix) - div: "+h._object+" gallery: "+h._fid,h);cincopa.logError("trackmissingdiv1",h._fid);return}h._id="_cp_"+_cp_last_gallery++;var b=new GalleryObject(h);zeGalleryArray[h._id]=b;if(h._iframeParentObject){b.iframeParentObject=h._iframeParentObject}if(h._args){cincopa.trace("loading args directly into go object");b.onArgs(h._args);return}var d="";if(cincopa.location_blocked){d="&setref="+encodeURIComponent(cincopa.location)}var g=cincopa._ROOT_LOADER_STATIC+"widgetasync.aspx?id="+h._id+d;if(h._fid!=null){if(!h._fid.startsWith("rrid")&&!(h._fid.indexOf("!liveid")>-1)){h._fid=unescape(h._fid).replace("[cincopa","").replace(/[\s\+\[\]]/g,"")}if(h._fid.startsWith("rrid")){h._fid=h._fid.replace(/!/g,":");var e=h._fid.split(":");var c=h._fid.substring(5,h._fid.length-2-e[e.length-2].length-e[e.length-1].length);g+="&rrid="+c+"&uid="+e[e.length-2]+"&template="+e[e.length-1]}else{if(h._fid.indexOf("!liveid")>-1){var e=h._fid.split("!");g+="&liveid="+e[1].split(/:|-/)[1]+"&template="+e[0]}else{if(!cincopa.qs.cprtv1){cincopa.cprtv2(b);return}else{g+="&fid="+h._fid}}}}else{g+="&rrid="+h._rrid+"&uid="+h._uid+"&template="+h._template}g+=cp_add_override();cincopa.loadJSFile(g)};function cp_load_widget(b,d,c){var e=[];e._object=d;e._fid=b;cincopa.boot_gallery(e)}function getElement(b){return(document.getElementById)?document.getElementById(b):document.all[b]}function cp_add_override(){var c=function(d){if(cincopa.qs&&cincopa.qs[d]){b+="&"+d+"="+cincopa.qs[d];cincopa.trace("override "+d+"="+cincopa.qs[d])}};var b="";c("cptemplate");c("cpskin");c("cpdisablepreload");c("cpenableinline");return b}function wp_widget_show(b,e){try{b.id=zeGalleryArray[b.id].loaderParams._object}catch(c){}var d=new GalleryObject(new Object());d.loadjscssfile(cincopa._ROOT_LOADER_STATIC+"libasync_old.js?aas","js","body",function(){wp_widget_show_old(b,e)})}cincopa.testtrack=function(uid){if(cincopa.location.split(/\?|#/g)[0].indexOf("cincopa.com")>-1){return}var lf=eval(atob("WyJicmlnaHRjb3ZlIiwieW91dHViZSIsInZpbWVvIiwid2lzdGlhIiwidnphYXIiLCJzcHJvdXR2aWRlbyIsImRyb3BzaG90cyIsInZpZGRsZXIiLCJpcGxheWVyaGQiLCJrYWx0dXJhIiwidmlkYmVvIiwiandwbGF5ZXIiLCJkYWlseW1vdGlvbiIsIm9veWFsYSIsInZpZHlhcmQiLCJsaXZlcGVyc29uIiwiaW50ZXJjb20iLCJtYXJrZXRvIiwiaHVic3BvdCIsInBhcmRvdCIsImVsb3F1ZSIsIm1vb2RsZSIsImFjdC1vbiIsImNsaWNrdGFsZSIsImhvdGphciIsImx1Y2t5b3JhbmdlIiwic2hvcGlmeSIsImJpZ2NvbW1lcmNlIiwicHJlc3Rhc2hvcCIsIm1hZ2VudG8iLCJkcnVwYWwiLCJtaWNyb3NvZnQiLCJzaGFyZXBvaW50Iiwic2FsZXNmb3JjZSIsIm1peHBhbmVsIiwia2lzc21ldHJpY3MiLCJ3b29jb21tZXJjZSIsIndpeCIsImp3cGxhdGZvcm0iLCJjbGlja2Z1bm5lbHMiLCJrdy5jb20iLCJzaGFycHNwcmluZyIsImRvY2VibyJd"));var found=new Object();var lists=[];lists.push(document.getElementsByTagName("script"));lists.push(document.getElementsByTagName("iframe"));for(var lx in lists){for(var s=lists[lx].length-1;s>=0;s--){var src=lists[lx][s].src.toLowerCase();for(var lfi in lf){if(src.indexOf(lf[lfi])>-1){found[lf[lfi]]=null}}}}if(cincopa.location.indexOf(".ebay")>-1){found.ebay=null}for(var f in found){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=track&fid="+f+"&setref="+encodeURIComponent("http://"+uid+"/"+cincopa.location))}for(var lfi in lf){if(cincopa.location.indexOf(lf[lfi])>-1){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=trackurl&fid=trackurl_"+lf[lfi]+"&setref="+encodeURIComponent("http://"+uid+"/"+cincopa.location))}}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){for(var b=0;b<this.length;b++){if(this[b]===c){return b}}return -1}}function trace(c,b){cincopa.trace(c,b)}function getElement(b){return(document.getElementById)?document.getElementById(b):document.all[b]}function GalleryObject(params){var self=this;this.loaderParams=params;this.saveJSONPars=null;this.skinPath=null;this.skin=null;this.args=null;this.acc=null;this.galleryEditPanel=null;this.iframeParentObject=null;this.iframeParentId=null;this.url_params={};this.uid=null;this.json_url=cincopa._JSON;try{this.loaderParams._id=this.loaderParams._id||this.loaderParams._object}catch(ex){}try{var tmpsplit=location.search.substring(1).split("&");for(var x=0;x<tmpsplit.length;x++){var tmp=tmpsplit[x].split("=");this.url_params[tmp[0]]=tmp[1]}}catch(ex){}function _trace(msg){return cincopa.trace("GO [ "+self.loaderParams._object+" ] : "+msg)}this.arg_misc_group={misc:{name:"Misc",desc:"Add-on settings for the gallery, availalble only for pro users."}};this.arg_misc={allow_download:{group:"misc",name:"Allow Download",type:"list",values:{no:"No",original:"Original files",resized:"Web version"},desc:"Allow user to download and save all files.<br>* Resized zip contains photos resized to 600x450, videos in mp4 format and music in original sampling."},domain_lock:{group:"misc",type:"text",name:"Domain Lock",desc:"Allow this gallery to appear only in the domains on this list. This will prevent others from grabbing your gallery to their site. <br>Type a list of domains separated by comma or leave empty to allow all domains.<br>No need for <i>http://</i><br>For example: <i>mydomain.com,blogspot.com</i>"},domain_lock_msg:{group:"misc",type:"text",name:"Domain Lock Message",desc:"Message to be displayed when the gallery is locked, leave empty to keep the default message."},password:{group:"misc",type:"text",name:"Password",desc:"Protected your gallery with a password. Give it to your users and only they will be able to access the content."},iframe:{group:"misc",type:"bool",name:"iframe",desc:"Enable this option if the gallery is not working properly inside a page and the gallery will be placed in a HTML iframe."},ga_event:{group:"misc",type:"list",name:"Track Events With GA",values:{off:"Off (default)",on:"On"},desc:"When On the gallery will post events directly to your Google Analytics account where you can get detailed infromation about user engagement."},allow_search:{group:"misc",type:"list",name:"Search box",values:{no:"No (default)",yes:"Yes"},desc:"Add a search box above the gallery to allow user to search the gallery."},allow_tabs:{group:"misc",type:"bool",name:"Tabs",desc:"Group items by tag."},allow_tabs_layout:{group:"misc",type:"list",name:"Tabs Layout",values:{"theme-1":"Theme 1","theme-2":"Theme 2","theme-3":"Theme 3","theme-4":"Theme 4","theme-5":"Theme 5","theme-6":"Theme 6","theme-7":"Theme 7","theme-8":"Theme 8"},desc:"Tabs Layout",enableExp:"param.allow_tabs == 'true'"},allow_tabs_tags:{group:"misc",type:"tag",name:"Customize tags and order",desc:"Add a list of tags you would like to appear as tabs and then drag & drop to change the order. Use 'no-tag' to include items without any tag. Use 'All' to add a special tab with all items.",enableExp:"param.allow_tabs == 'true'"},allow_fixpos:{group:"misc",type:"list",name:"Fix Position",values:{no:"No (default)",cp_fixedLeftTop:"Left top",cp_fixedLeftBottom:"Left bottom",cp_fixedRightTop:"Right top",cp_fixedRightBottom:"Right bottom"},desc:"Fix the gallery to the corner of the page.",enableExp:"param.allow_lightbox == 'no'"},allow_margins:{group:"misc",type:"num",name:"Gallery margins",desc:"Define the margin size of gallery from the screen.",enableExp:"param.allow_lightbox == 'no'"},allow_lightbox:{group:"misc",type:"list",name:"Open gallery in lightbox",values:{no:"No (default)",thumbnail:"thumbnail",video_thumbnail:"video thumbnail",text:"text"},desc:"Open gallery in lightbox"},allow_lightbox_text:{group:"misc",type:"text",name:"Lightbox button text",desc:"Lightbox button text",enableExp:"param.allow_lightbox == 'text'"},allow_lightbox_size:{group:"misc",type:"list",name:"Lightbox thumbnail size",values:{small:"small 224:140",medium:"medium 440:275"},desc:"Lightbox thumbnail size",enableExp:"param.allow_lightbox == 'thumbnail' || param.allow_lightbox == 'video_thumbnail'"}};this.arg_misc_defaults={cooliris:"no",allow_download:"no",domain_lock:"",password:"",ga_event:"off",allow_search:"no",allow_fixpos:"no",allow_tabs:false,allow_tabs_layout:"theme-1",allow_tabs_tags:"",allow_margins:0,allow_lightbox:"no",allow_lightbox_text:"Open gallery",allow_lightbox_size:"small"};this.arg_template_group={template:{name:"Template",desc:""}};this.arg_template_map={tmpl_unique_name:{group:"template",type:"text",name:"Unique Name",desc:""},tmpl_description:{group:"template",type:"text",name:"Description",desc:""},tmpl_author:{group:"template",type:"text",name:"Author",desc:""},tmpl_visible:{group:"template",type:"list",values:{publicc:"Public",privatee:"Private"},name:"Visible",desc:""},tmpl_license:{group:"template",type:"num",name:"License",desc:""},tmpl_type:{group:"template",type:"text",name:"Type",desc:""},tmpl_support_photo:{group:"template",type:"bool",name:"Support Photo",desc:""},tmpl_support_video:{group:"template",type:"bool",name:"Support Video",desc:""},tmpl_support_audio:{group:"template",type:"bool",name:"Support Audio",desc:""},tmpl_poster_url:{group:"template",type:"text",name:"Poster URL",desc:""},tmpl_demo_fid:{group:"template",type:"text",name:"Demo Fid",desc:""},tmpl_demo_html:{group:"template",type:"html",name:"Demo HTML",desc:""}};this.arg_overlay_group={overlay:{name:"Overlay",desc:"Overlay settings for the gallery."}};this.arg_overlay={overlay_type:{group:"overlay",type:"list",name:"Overlay type",values:{off:"Off",button:"CTA button",watermark:"Watermark",poster_logo:"Overlay on poster",custom:"Custom"},desc:"Overlay type"},overlay_button_title:{group:"overlay",type:"text",name:"Overlay title",desc:"Overlay title",removeExp:"param.overlay_type != 'button'"},overlay_button_text:{group:"overlay",type:"text",name:"Button text",desc:"Text of button",removeExp:"param.overlay_type != 'button'"},overlay_button_color:{group:"overlay",type:"color",name:"Button color",desc:"Color of the button",removeExp:"param.overlay_type != 'button'"},overlay_button_text_color:{group:"overlay",type:"color",name:"Text color",desc:"Color of the text",removeExp:"param.overlay_type != 'button'"},overlay_watermark_url:{group:"overlay",type:"text",name:"Watermark image URL",desc:"Location of an external jpg, png or gif image to show in a corner of the display.",removeExp:"param.overlay_type != 'watermark'"},overlay_watermark_position:{group:"overlay",type:"list",name:"Watermark position",values:{top_left:"top left",top_right:"top right",bottom_left:"bottom left",bottom_right:"bottom right",},desc:"Watermark Position",removeExp:"param.overlay_type != 'watermark'"},overlay_link:{group:"overlay",type:"text",name:"Click url",desc:"Open URL on click.",removeExp:"param.overlay_type != 'button' && param.overlay_type != 'watermark'"},overlay_target:{group:"overlay",type:"bool",name:"Open url in new tab",desc:"Open link in current tab or new tab.",removeExp:"param.overlay_type != 'button' && param.overlay_type != 'watermark'"},overlay_html:{group:"overlay",type:"textarea",name:"Overlay html",desc:"Custom html of overlay",removeExp:"param.overlay_type != 'custom'"},overlay_poster_type:{group:"overlay",type:"list",name:"Overlay type",values:{overlay:"Colored Overlay",image:"Image"},desc:"Choose a transparent colored overlay with customization color or a global preview video poster image for all assets in this gallery",removeExp:"param.overlay_type != 'poster_logo'"},overlay_poster_overlay_bg:{group:"overlay",type:"color",name:"Overlay color",desc:"Match the overlay color to your brand or website color theme",removeExp:"param.overlay_type != 'poster_logo' || param.overlay_poster_type != 'overlay'"},overlay_poster_logo_url:{group:"overlay",type:"text",name:"Image URL",desc:"Location of an external jpg, png or gif image to show on poster",removeExp:"param.overlay_type != 'poster_logo' || param.overlay_poster_type != 'image'"},overlay_time:{group:"overlay",type:"list",name:"Overlay time",values:{onload:"on load",at_sec:"after X seconds",onhover:" on mouse hover",onclick:"on click"},desc:"Overlay show time",removeExp:"param.overlay_type == 'off' || param.overlay_type == 'poster_logo'"},overlay_sec:{group:"overlay",type:"text",name:"Show delay",desc:"Delay in seconds for overlay appearance",removeExp:"param.overlay_time != 'at_sec'"}};this.arg_overlay_defaults={overlay_type:"off",overlay_button_color:"0066CC",overlay_button_text_color:"ffffff",overlay_target:true,overlay_link:"",overlay_button_title:"Title",overlay_button_text:"Button text",overlay_watermark_url:"",overlay_watermark_position:"top_left",overlay_poster_type:"overlay",overlay_poster_overlay_bg:"000000",overlay_html:"",overlay_time:"onload"};this.initialize=function(){this.skin=null;cincopa.trace("GalleryObject - "+this.loaderParams._object+" - "+this.loaderParams._gid);this.loadjscssfile(cincopa._AJAX+"args.aspx?id="+this.loaderParams._object+"&fid="+this.loaderParams._gid,"js")};this.getCSSCode=function(name){var style=this.args["css_"+name];if(style&&style.length){style=style.replace(/~skin_path~/g,this.skinPath);style=style.replace(/~gallery_div~/g,this.loaderParams._object);style=style.replace(/~assets_path~/g,cincopa._HOST+"/assets/");var i=style.indexOf("~arg_");while(i>-1){var t=style.indexOf("~",i+1);if(t==-1){break}var markup=style.substring(i,t);var argname=markup.substr(5,markup.length-1);var argvalue="";try{argvalue=this.args[argname]}catch(ex){}style=style.substring(0,i)+argvalue+style.substring(t+1);i=style.indexOf("~arg_")}style="<style type='text/css' id='cp_custom_css_"+this.loaderParams._object+"'>"+style+"</style>";if(navigator.appVersion.match(/MSIE (8|7)/)){style="<br style='display:none;' />"+style}}else{style=""}return style};this.drawErrorBox=function(msg){var htm="<div style=width:600px;height:120px;color:red;font-size:14px;text-align:center;background-color:#f5f5f5;><br>"+msg+"</div>";this.args.widget_w=600;this.args.widget_h=200;this.setGalleryHTML(htm)};this.checkSEOCompliance=function(){try{cincopa.traceit("debug "+this.loaderParams._feedjson);for(var i=0;i<this.loaderParams._feedjson.items.length;i++){if(this.loaderParams._feedjson.items[i].title.length<15||this.loaderParams._feedjson.items[i].description.length<150){cincopa.logError("seo_guidelines_failed",this.uid);this.drawErrorBox("<table><tr><td><img style='height:70px;' src='"+this.loaderParams._feedjson.items[i].thumbnail_url+"' /></td><td>Asset (id "+this.loaderParams._feedjson.items[i].rid+") not compatible with our SEO guidelines.<br>Change title and description to 15 and 150 characters.<br>Once corrected please allow 1-2 minutes for the asset to go live.<br>For more info contact us at support@cincopa.com</td></tr></table>");return false}else{cincopa.logError("seo_guidelines_pass",this.uid)}}}catch(ex){}return true};this.onArgs=function(args,skipEvents){_trace("onArgs");if(this.acc){if(this.acc.user){this.uid=this.acc.user.uid;if(this.acc.user.status=="suspended"){cincopa.logError("user_suspended",this.uid);this.drawErrorBox("Gallery is offline<br>Click to <a style='color: green;font-weight: 700;' href='https://www.cincopa.com/about-gallery-offline?uid="+this.uid+"&utm_source=graybox&utm_medium=ref&utm_campaign=suspended'>restore your gallery</a> or contact us at support@cincopa.com");return}else{if(this.acc.user.status=="abuser"){cincopa.logError("user_abuser",this.uid);this.drawErrorBox("Cincopa trial has expired<br>Please <a href='https://www.cincopa.com/about-gallery-offline?uid="+this.uid+"&utm_source=graybox&utm_medium=ref&utm_campaign=abuser'>upgrade</a> to re-enable this gallery");return}else{if(this.acc.user.status=="domain_locked"){cincopa.logError("user_domain_locked",this.uid);this.drawErrorBox(this.acc.user.status_msg);cincopa.logFeature("domain-lock-happend",this.uid);return}else{if(this.acc.user.status=="outoftraffic"){cincopa.logError("user_outoftraffic",this.uid);this.drawErrorBox("Gallery is offline<br>Click to <a style='color: green;font-weight: 700;' href='https://www.cincopa.com/about-gallery-offline?uid="+this.uid+"&utm_source=graybox&utm_medium=ref&utm_campaign=outoftraffic'>restore your gallery</a> or contact us at support@cincopa.com");return}else{if(this.acc.user.status=="outofstorage"&&(this.acc.user.plan_name=="free"||this.acc.user.plan_name=="imagesforlife"||this.acc.user.plan_name=="professional")){cincopa.logError("user_free_outoftraffic",this.uid);this.drawErrorBox("Gallery is offline - out of quota <br>Click to <a style='color: green;font-weight: 700;' href='https://www.cincopa.com/about-gallery-offline?uid="+this.uid+"&utm_source=graybox&utm_medium=ref&utm_campaign=outofstorage-free'>restore your gallery</a> or contact us at support@cincopa.com");return}else{if(this.acc.user.status=="outofstorage"){}else{if(this.acc.user.plan_name=="trial"&&this.acc.user.admin_attributes!=null&&this.acc.user.admin_attributes.indexOf(",shck:")>-1){if(!this.checkSEOCompliance()){return}}}}}}}}if(this.acc.user.integration&&this.acc.user.integration.hubspot&&this.acc.user.integration.hubspot=="active"){cincopa.registerEvent("cincopa.cp_hubspot_integration","video.*",0);cincopa.registerEvent("cincopa.cp_hubspot_integration","emailgate.*",0);cincopa.logFeature("hubspot-active",this.uid)}if(this.acc.user.settings&&this.acc.user.settings["analytics.filter_ip"]!=""){cincopa.analytics_filter_ip=this.acc.user.settings["analytics.filter_ip"]}if(this.acc.user.settings&&this.acc.user.settings["analytics.anonymize_ip"]=="on"){cincopa.analytics_anonymize_ip=this.acc.user.settings["analytics.anonymize_ip"]}if(this.acc.user.settings&&this.acc.user.settings["branding.player_main_color_enable"]=="on"){(args!=null?args:this.args).theme_color_main=this.acc.user.settings["branding.player_main_color"];var rgb=cincopa.hexToRgbA(this.acc.user.settings["branding.player_main_color"]);(args!=null?args:this.args).theme_color_main_2="rgba("+Math.max(rgb[0]-60,0)+","+Math.max(rgb[1]-60,0)+","+Math.max(rgb[2]-60,0)+",1)";(args!=null?args:this.args).theme_color_main_bg="rgba("+Math.max(rgb[0]-10,0)+","+Math.max(rgb[1]-10,0)+","+Math.max(rgb[2]-10,0)+",0.3)"}if(this.acc.user.settings&&this.acc.user.settings["runtime.ga_event"]){(args!=null?args:this.args).ga_event=this.acc.user.settings["runtime.ga_event"]}if(this.acc.user.settings&&this.acc.user.settings["runtime.right_click_copy_embed"]){(args!=null?args:this.args).right_click_copy_embed=this.acc.user.settings["runtime.right_click_copy_embed"]=="on"?true:false}if(this.acc.user.settings&&this.acc.user.settings["runtime.force_native_player"]){(args!=null?args:this.args).forceNativeVideo=this.acc.user.settings["runtime.force_native_player"]=="on"?true:false}}else{cincopa.logError("gallery_not_ready","unknow_user");this.drawErrorBox("Gallery is empty");return}}if(args!=null){this.args=args}if(!this.uid&&this.args&&this.args.cmapath){this.uid=this.args.cmapath.split("%")[0]}if(Object.keys&&Object.keys(this.args).length===0){cincopa.logError("gallery_not_found","unknow_user");this.drawErrorBox("Gallery not found");return}for(var n in cincopa.hash){if(n.startsWith("cpo")){this.args[n.substring(3)]=cincopa.hash[n]==="false"?false:cincopa.hash[n]==="true"?true:cincopa.hash[n]}}if(this.args&&this.args.domain_lock&&this.args.domain_lock!=""){cincopa.logFeature("domain-lock",this.uid)}if(this.args&&this.args.password&&this.args.password!=""){cincopa.logFeature("password",this.uid)}if(this.args&&this.args.hide_controls&&this.args.hide_controls=="true"){cincopa.logFeature("hide-controls",this.uid)}if(this.args&&this.args.player_watermark_on_off&&this.args.player_watermark_on_off=="true"){cincopa.logFeature("player-watermark",this.uid)}if(this.args&&this.args.watermark_position&&this.args.watermark_position!="no"){cincopa.logFeature("watermark",this.uid)}if(this.args&&this.args.always_on_top&&this.args.always_on_top=="true"){cincopa.logFeature("always-on-top",this.uid)}if(this.args&&this.args.autostart&&this.args.autostart!="false"){cincopa.logFeature("autostart",this.uid)}if(this.args&&this.args.ga_event&&this.args.ga_event=="on"){cincopa.logFeature("ga-event",this.uid)}if(!skipEvents){this.onSkinEvent("runtime.on-args");this.onSkinEvent("runtime.internal-on-args")}if(!this.args.haltLoadSkin){this.startLoadSkin()}};this.startLoadSkin=function(){var isiframe=this.args.iframe;if((isiframe===undefined||isiframe==="")&&this.args.template_args!=null){isiframe=this.args.template_args.iframe}if(isiframe===undefined){isiframe=false}else{isiframe=isiframe.toString().toLowerCase()=="true"}if(cincopa.detectMediaElementLib()){isiframe=true;this.args.iframe=true}if(isiframe&&this.iframeParentObject==null){this.loadIFrameSkin()}else{this.loadSkin()}};this.loadArgs=function(){if(location.href.indexOf("zemaketemplate=")>-1){this.skin.arg_groups=this.merge_json(this.skin.arg_groups,this.arg_template_group);this.skin.arg_map=this.merge_json(this.skin.arg_map,this.arg_template_map)}var args_map=this.skin.arg_map;var args_defaults=this.skin.arg_defaults;var temp_args={};for(var n in args_defaults){temp_args[n]=args_defaults[n]}for(var n in this.args.template_args){temp_args[n]=this.args.template_args[n]}for(var n in this.arg_misc_defaults){temp_args[n]=this.arg_misc_defaults[n]}for(var n in this.arg_overlay_defaults){temp_args[n]=this.arg_overlay_defaults[n]}var user_permit=this.args.permit;if(this.acc){user_permit=this.acc.user.permit}for(var n in this.args){var par_permit=0;try{if(args_map[n]){par_permit=eval(args_map[n].permit)}}catch(ex){}if(typeof par_permit=="undefined"){par_permit=0}if(par_permit<=user_permit){temp_args[n]=this.args[n]}}var normalize=function(obj){for(var n in obj){if(args_map[n]&&args_map[n].type=="bool"){obj[n]=obj[n]==="true"||obj[n]===true}else{if(obj[n]&&obj[n].type=="num"){obj[n]=parseInt(obj[n])}}}};normalize(temp_args);normalize(temp_args.template_args);this.args=temp_args};this.loadIFrameSkin=function(){var w=600,h=450;if(this.args.widget_w){w=this.args.widget_w}if(this.args.widget_h){h=this.args.widget_h}if(this.args.allow_lightbox=="javascript"){w=0;h=0}var ifrm='<iframe id="zeiframe_'+this.loaderParams._object+'" allowfullscreen scrolling=no frameborder=0 vspace=0 hspace=0 marginwidth=0 marginheight=0 width='+w+"px height="+h+"px></iframe>";this.setGalleryHTML(ifrm,true);cincopa.trace("Creating iframe zeiframe_"+this.loaderParams._object);var zeiframe=document.getElementById("zeiframe_"+this.loaderParams._object);zeiframe.width="100%";var doc=zeiframe.contentDocument;if(doc==undefined||doc==null){doc=zeiframe.contentWindow.document}var htm="";var writeto=function(what){htm+=what;htm+="\n"};writeto('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html>\n<head>');writeto(unescape("%3Cscript type='text/javascript'%3Ecincopa = {disable_cookies:window.parent.cincopa.disable_cookies, disable_analytics:window.parent.cincopa.disable_analytics, wizard_mode: window.parent.cincopa.wizard_mode};%3C/script%3E"));writeto('<script type="text/javascript" src="'+cincopa._ROOT_LOADER+'libasync.js"> </script>');writeto(unescape("%3Cscript type='text/javascript'%3Ecincopa = window.parent.cincopa;%3C/script%3E"));writeto(unescape("%3Cscript type='text/javascript'%3E"));writeto("var _gallery_args = {");for(var n in this.args){if(n!="template_args"){writeto(n+":'"+this.args[n].toString().replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/'/g,"\\'")+"',")}}writeto("template_args : {");for(var n in this.args.template_args){if(n!="gmdss"){writeto(n+":'"+this.args.template_args[n].toString().replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/'/g,"\\'")+"',")}}writeto("gmdss:'y' }};");writeto(unescape("%3C/script%3E"));writeto("</head><body  marginheight=0 marginwidth=0 style='margin-top: 0px;'>");writeto("<div id='inneriframe'></div>");writeto(unescape("%3Cscript defer type='text/javascript'%3E"));writeto("var zeo = [];");writeto("zeo['_object'] = 'inneriframe';");writeto("zeo['_id'] = 'inneriframe';");if(this.loaderParams._feedjson!=null){writeto("zeo['_feedjson'] = "+cincopa.json_stringify(this.loaderParams._feedjson).replace(/</g,"&lt;").replace(/>/g,"&gt;")+";")}writeto("zeo['_fid'] = '"+this.loaderParams._fid+"';");writeto("zeo['_args'] = _gallery_args;");writeto("zeo['_iframeParentObject'] = '"+this.loaderParams._object+"';");writeto("zeo['_iframeParentId'] = '"+this.loaderParams._id+"';");writeto("var go = new GalleryObject(zeo);");writeto("zeGalleryArray['inneriframe'] = go");writeto("go.iframeParentObject = '"+this.loaderParams._object+"';");writeto("go.iframeParentId = '"+this.loaderParams._id+"';");writeto("go.json_url = '"+this.json_url+"';");if(this.acc){writeto("go.acc = "+cincopa.json_stringify(this.acc)+";")}if(this.args.preloader_js&&!cincopa.qs.cpdisablepreload){writeto("go.args = _gallery_args;");writeto("go.loadjscssfile("+this.args.preloader_js+", 'js', 'head', function() {(zeGalleryArray['inneriframe']).onArgs(); });");writeto("go.loadjscssfile("+this.args.preloader_css+", 'css', 'head', function() {}); ")}else{writeto("go.onArgs(zeo['_args']);")}if(typeof this.args.fonts!="undefined"&&this.args.fonts!="no"){writeto("go.loadjscssfile('"+this.args.fonts+"', 'font', 'head'); ")}writeto(unescape("%3C/script%3E"));writeto("</body>\n</html>");cincopa.trace(htm);doc.open();doc.write(htm);doc.close()};this.getParentIframeObject=function(){if(!this.iframeParentId){return null}return parent.document.getElementById("zeiframe_"+parent.zeGalleryArray[this.iframeParentId].loaderParams._object)};this.loadSkin=function(){if(this.args.exception){if(this.args.exception=="galleryempty"){var msg="Gallery Is Empty";if(this.args.logged_user=="owner"){msg+="<br><br>Click 'Edit' at the top left of this box<br>and then click 'Add Media File' at the menu on the right."}var htm="<div style=width:600px;height:200px;color:red;font-size:14px;text-align:center;background-color:#f5f5f5;><br><br><br>"+msg+"</div>";this.args.widget_w=600;this.args.widget_h=200;this.setGalleryHTML(htm);if(this.onSkinInit){this.onSkinInit()}return}}if(typeof this.args.fonts!="undefined"&&this.args.fonts!="no"){this.loadjscssfile(this.args.fonts,"font","head")}if(typeof this.url_params.zeskinpath!=="undefined"){this.skinPath=this.url_params.zeskinpath}else{if(this.args.skin_code.charAt(0)=="/"){this.skinPath="//"+cincopa.rtcdn+"/fpskins"+this.args.skin_code+"/"}else{this.skinPath=cincopa._HOST+this.args.skin_code+"/"}}if(this.loaderParams._dev_path){this.skinPath=this.loaderParams._dev_path}if(typeof zeSkins[this.getSkinName(this.args.skin_code)]=="undefined"){var skinfile=this.skinPath+"skin.js";if(location.href.indexOf("zetestskin=")>-1){skinfile=this.skinPath+"skin_test.js"}this.loadjscssfile(skinfile,"js","head",function(){self.initSkin()})}else{this.initSkin()}};this.getSkinName=function(skin_code){if(this.args.skin_code.charAt(0)=="/"){return this.args.skin_code.split("/")[1]}return skin_code};this.initSkin=function(){_trace("initializing skin");this.skin=new zeSkins[this.getSkinName(this.args.skin_code)];this.skin.init(this);if(this.onSkinInit){this.onSkinInit()}if(this.iframeParentId!=null&&parent.zeGalleryArray[this.iframeParentId].onSkinInit){parent.zeGalleryArray[this.iframeParentId].onSkinInit()}};this.getMediaJSON=function(par){if(par!=null){this.saveJSONPars=par}if(this.loaderParams._feedjson){this.MediaJSON=this.loaderParams._feedjson;var that=this;setTimeout(function(){that.zeOnMediaJSON()},0)}else{var jsonlink=this.json_url;if(this.loaderParams._feedurl){jsonlink=this.loaderParams._feedurl}jsonlink+="?callback=zeOnMediaJSON";jsonlink+="&wid="+this.loaderParams._id;if(!this.loaderParams._fid||this.loaderParams._fid.startsWith("rrid:")){jsonlink+="&fid="+this.args.fid;if(this.acc){cincopa.logError("cprtv2","_fid_null")}}else{if(this.args.liveid){var tmp=this.loaderParams._fid.split("!");jsonlink+="&fid="+tmp[0]+"!&liveid="+tmp[1].split(/:|-/)[1]}else{jsonlink+="&fid="+this.loaderParams._fid}}jsonlink+="&thumb="+this.saveJSONPars.thumb;jsonlink+="&content="+this.saveJSONPars.content;if(this.saveJSONPars.details){jsonlink+="&details="+this.saveJSONPars.details}if(this.saveJSONPars.password){jsonlink+="&password="+this.saveJSONPars.password}else{var pass=cincopa.inBetween(document.cookie,"pass"+this.args.fid+"=",";");if(pass){jsonlink+="&password="+pass}}if(this.args._access_key){jsonlink+="&openpassword="+this.args._access_key+":"+encodeURIComponent(this.args.password)}if(this.loaderParams._feedparams){jsonlink+=this.loaderParams._feedparams}if(this.args.extra_assets){jsonlink+="&extra="+this.args.extra_assets}if(this.loaderParams._rid){jsonlink+="&rid="+this.loaderParams._rid}if(cincopa.qs&&cincopa.qs.cpversions){jsonlink+="&versions="+cincopa.qs.cpversions}if(cincopa.qs&&cincopa.qs.cpm3u8url){jsonlink+="&cpm3u8url="+cincopa.qs.cpm3u8url}this.loadjscssfile(jsonlink,"js")}};this.zeOnMediaJSON=function(){_trace("zeOnMediaJSON");if(this.MediaJSON.errorcode=="bad_password"){this.loadjscssfile(cincopa._ROOT_LOADER_STATIC+"md5.js","js","body");this.promtPassword(this.skin.go.loaderParams._object);return}else{if(this.MediaJSON.errorcode){this.setGalleryHTML("<b>"+this.MediaJSON.errormessage+"</b>");_trace("json error - "+this.MediaJSON.errormessage);return}else{if(this.args.allow_lightbox!=="no"&&!this.lightModeEnabled){this.showLightbox(this.skin.go.loaderParams._object);return}}}if(this.args.iframe){window.removeEventListener("resize",this.resizeIFrame)}this.onSkinEvent("runtime.on-media-json");if((this.args.course_progress&&this.args.course_progress=="track")||(this.args.channel_progress&&this.args.channel_progress=="track")){if(cincopa.analytics_persistent.mode!="localstorage"){cincopa.analytics_persistent.mode="cookie"}cincopa.registerEvent("cincopa.cp_pbar","runtime.on-html-loaded",0);cincopa.registerEvent("cincopa.cp_pbar","video.timeupdate",0)}if(cincopa.analytics_persistent.mode=="cookie"||cincopa.analytics_persistent.mode=="localstorage"){try{for(var i=0;i<this.MediaJSON.items.length;i++){if(this.MediaJSON.items[i]["content_type"].startsWith("video")){this.init_video_play_stats({uid:this.uid,item:this.MediaJSON.items[i]});if(cincopa.analytics_persistent.mode=="localstorage"){var key="cphmps_"+this.uid+"_"+this.MediaJSON.items[i].rid;var d=localStorage.getItem(key)}else{var d=cincopa.inBetween(document.cookie,"cphmps_"+this.uid+"_"+this.MediaJSON.items[i].rid+"=",";")}if(d){d=JSON.parse(atob(d));this.set_video_play_stats({uid:this.uid,item:this.MediaJSON.items[i]},d.hmrange);cincopa.cp_media_hm[this.uid][this.MediaJSON.items[i].rid].lastpos=d.lastpos}}}}catch(ex){cincopa.trace("debug exception "+ex)}}if(!this.args.haltLoadMedia){this.startLoadMedia()}};this.startLoadMedia=function(){this.skin.onMediaJSON(this.MediaJSON)};this.resizeIFrame=function(){var iframe=parent.document.getElementById("zeiframe_"+self.loaderParams._iframeParentObject);if(iframe){iframe.style.height=iframe.contentWindow.document.body.scrollHeight+"px"}};var promt_shown=false;this.promtPassword=function(containerID){var that=this;var fid=this.loaderParams._fid;var thumbnail_url="//www.cincopa.com/media-platform/api/thumb.aspx?size=xlarge&fid="+fid;var passwordDivContainer=document.createElement("div");passwordDivContainer.className="ze_password_promt_container";this.promtPassword.passwordDivContainer=passwordDivContainer;var thumbnail=new Image();thumbnail.onload=function(){passwordDivContainer.appendChild(this);if(that.args.iframe){that.resizeIFrame()}};thumbnail.src=thumbnail_url;var container=document.getElementById(containerID);var passwordDivContainerInner=document.createElement("div");passwordDivContainerInner.className="ze_password_promt_container_inner";this.promtPassword.passwordDivContainerInner=passwordDivContainerInner;var passwordDivContainerIcon=document.createElement("i");passwordDivContainerIcon.className="ze_password_lock_icon";var passwordDivContainerHead=document.createElement("h1");passwordDivContainerHead.innerHTML=that.args.password_text?that.args.password_text:"Please enter a password";var passChildContWrap=document.createElement("div");passChildContWrap.className="ze_password_field_wrap";var passChildCont=document.createElement("div");passChildCont.className="ze_password_field "+(self.promtPassword.eyeActive?"ze_password_text_field":"");var passInput=document.createElement("input");passInput.type=self.promtPassword.eyeActive?"text":"password";passInput.name="ze_password";passInput.placeholder="Password";passInput.className="ze_password_input";passInput.value=this.promtPassword.submittedPass?this.promtPassword.submittedPass:"";passInput.oninput=function(){passwordDivContainerInner.classList.remove("ze_password_error")};var passEye=document.createElement("i");passEye.className="ze_password_field_eye";passEye.style.color="#"+that.args.theme_color_main;passEye.onclick=function(){if(passInput.type==="password"){passInput.type="text";passChildCont.classList.add("ze_password_text_field");self.promtPassword.eyeActive=true}else{passInput.type="password";passChildCont.classList.remove("ze_password_text_field");self.promtPassword.eyeActive=false}};var passSubmitCont=document.createElement("div");passSubmitCont.className="ze_submit_field";var passSubmitBtn=document.createElement("a");passSubmitBtn.href="javascript:void(0)";passSubmitBtn.className="ze_password_submit_btn";passSubmitBtn.style["background-color"]="#"+that.args.theme_color_main;passSubmitBtn.innerHTML="Continue";passChildCont.appendChild(passInput);passChildCont.appendChild(passEye);passSubmitCont.appendChild(passSubmitBtn);passwordDivContainerInner.appendChild(passwordDivContainerIcon);passwordDivContainerInner.appendChild(passwordDivContainerHead);if(promt_shown==true){passwordDivContainerInner.classList.add("ze_password_error")}passChildContWrap.appendChild(passChildCont);passChildContWrap.appendChild(passSubmitCont);passwordDivContainerInner.appendChild(passChildContWrap);passwordDivContainer.appendChild(passwordDivContainerInner);var overlay=document.createElement("div");overlay.className="ze_password_overlay";passwordDivContainer.appendChild(overlay);container.innerHTML="";container.appendChild(passwordDivContainer);promt_shown=true;this.onSkinEvent("runtime.on-password-shown");passInput.onkeypress=function(e){var key="which" in e?e.which:e.keyCode;if(key==13){onPasswordSubmit();return false}};passSubmitBtn.onclick=function(){onPasswordSubmit()};function onPasswordSubmit(){var value=passInput.value;self.promtPassword.submittedPass=value;var f=new Date();f.setDate(f.getDate()+7);cincopa.setCookie("pass"+self.args.fid+"="+hex_md5(value)+"; expires="+f.toGMTString());self.saveJSONPars.password=hex_md5(value);self.cleanPromtPassword(self.skin.go.loaderParams._object);self.getMediaJSON()}if(this.args.auto_resize){window.removeEventListener("resize",self.promtPassword.onResize);window.addEventListener("resize",self.promtPassword.onResize);self.promtPassword.onResize()}if(this.args.iframe){window.parent.removeEventListener("resize",this.resizeIFrame);window.parent.addEventListener("resize",this.resizeIFrame)}};this.promtPassword.submittedPass="";self.promtPassword.eyeActive=false;self.promtPassword.onResize=function(){var calculate=function(num,in_min,in_max,out_min,out_max){var res=(num-in_min)*(out_max-out_min)/(in_max-in_min)+out_min;return Math.max(out_min,Math.min(out_max,res))};var container=self.promtPassword.passwordDivContainer;var width=container.offsetWidth;var scale=calculate(width,100,1200,50,100);self.promtPassword.passwordDivContainerInner.style.transform="scale("+scale/100+")"};this.cleanPromtPassword=function(containerID){var doc=this.detectIframeDocument();var container=doc.getElementById(containerID);var passPromtElement=container.querySelector(".ze_password_promt_container");if(passPromtElement){passPromtElement.parentNode.removeChild(passPromtElement)}};this.showLightbox=function(_object){var obj=getElement(_object);var that=this;var items=this.MediaJSON.items;var lightboxOpened=false,lightboxOpenedOnce=false;if(items.length){if(typeof this.args.fonts!="undefined"&&this.args.fonts!="no"){obj.classList.add("cp-font-"+this.args.fonts);this.loadjscssfile(this.args.fonts,"font","head")}var thewind=this.getContentWindow();thewind.addEventListener("keyup",function(event){var key="which" in event?event.which:event.keyCode;if(event.isComposing||key===27){if(typeof that.skin.onEsc=="function"&&that.skin.onEsc.activeListener===true){that.skin.onEsc(event)}else{closePopup()}return}});function closePopup(){if(!lightboxOpened){return}try{that.skin.player.$media[0].pause()}catch(ex){}fixedContainer.style.display="none";fixedOverlay.style.display="none";closeBtn.style.display="none";doc.body.className=doc.body.className.replace(new RegExp("(\\s|^)cp_overflow_hidden(\\s|$)")," ");lightboxOpened=false;if(that.args.iframe){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.cancelFullScreen){document.cancelFullScreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}}}}}try{window.dispatchEvent(new Event("resize"))}catch(ex){}}if(typeof that.skin.on_cp_lightbox_close=="function"){that.skin.on_cp_lightbox_close()}}var firstOpen=true;function openPopup(index){fixedContainer.style.display="block";fixedOverlay.style.display="block";closeBtn.style.display="block";that.lightModeEnabled=true;that.loaderParams._object="cp_lightbox_wrap_obj_"+_object;if(firstOpen){that.getMediaJSON();firstOpen=false}doc.body.className+=" cp_overflow_hidden";try{window.dispatchEvent(new Event("resize"))}catch(ex){}lightboxOpened=lightboxOpenedOnce=true;if(that.args.iframe){closeFullScreen()}if(typeof that.skin.on_cp_lightbox_open=="function"){that.skin.on_cp_lightbox_open(index)}}that.startPopupSkin=openPopup;that.closePopupSkin=closePopup;function closeFullScreen(){if(fixedContainerWrap.requestFullscreen){fixedContainerWrap.requestFullscreen()}else{if(fixedContainerWrap.mozRequestFullScreen){fixedContainerWrap.mozRequestFullScreen()}else{if(fixedContainerWrap.webkitRequestFullScreen){fixedContainerWrap.webkitRequestFullScreen()}else{if(fixedContainerWrap.msRequestFullscreen){fixedContainerWrap.msRequestFullscreen()}}}}}this.onSkinEvent("runtime.on-thumbnail-shown");var doc=that.detectIframeDocument();obj.style.overflow="visible";obj.innerHTML="";var thumb=this.MediaJSON.items[0].thumbnail_url;try{thumb=this.MediaJSON.items[0].versions.jpg_1200x900.url}catch(ex){}var img=new Image();img.src=thumb;img.onload=function(){if(this.width<this.height){button.className=button.className+" portrait"}};var fixedContainer=document.createElement("div");fixedContainer.className="cp_lightbox_wrap";var newObj=document.createElement("div");newObj.className="cp_lightbox_wrap_obj";newObj.id="cp_lightbox_wrap_obj_"+_object;fixedContainer.appendChild(newObj);var closeBtn=document.createElement("a");closeBtn.className="cp_lightbox_close_btn";closeBtn.onclick=function(){closePopup()};var fixedOverlay=document.createElement("div");fixedOverlay.className="cp_lightbox_overlay";fixedOverlay.onclick=function(){closePopup()};var button=document.createElement("div");if(that.args.allow_lightbox_fullscreen){fixedContainer.classList.add("cp_lightbox_wrap_fullscreen")}if(that.args.allow_lightbox=="thumbnail"||that.args.allow_lightbox=="video_thumbnail"||that.args.allow_lightbox=="live_poster"){button.className="cp_lightbox_btn";var button_inner=document.createElement("div");button_inner.className="cp_lightbox_btn_inner";var video_play_btn=document.createElement("i");video_play_btn.className="cp_lightbox_video_btn_play";var playButtonColor=that.args.theme_color_main||that.args.theme_color;if(playButtonColor){var styleForPlayButton=document.createElement("style");styleForPlayButton.innerHTML="#cp_lightbox_btn_id_name_"+that.skin.go.loaderParams._object+".cp_lightbox_btn.cp_lightbox_video_btn i.cp_lightbox_video_btn_play{  text-shadow: 6px 6px 40px #"+playButtonColor+", -6px -6px 40px #"+playButtonColor+", 6px -6px 40px #"+playButtonColor+", -6px 6px 40px #"+playButtonColor+";}";var playButtonColor_2=that.args.theme_color_main_2||that.args.theme_color_2;if(playButtonColor_2){styleForPlayButton.innerHTML+="#cp_lightbox_btn_id_name_"+that.skin.go.loaderParams._object+".cp_lightbox_btn.cp_lightbox_video_btn:hover i.cp_lightbox_video_btn_play{						 text-shadow: 6px 6px 40px #004a93, -6px -6px 40px "+playButtonColor_2+", 6px -6px 40px "+playButtonColor_2+", -6px 6px 40px "+playButtonColor_2+";}"}button.appendChild(styleForPlayButton)}if(that.args.allow_lightbox=="video_thumbnail"){button.className+=" cp_lightbox_video_btn";button.style.display="none";button_inner.appendChild(video_play_btn)}var button_img=document.createElement("img");button_img.src=thumb;button_img.onload=function(){button.style.display="block"};button.appendChild(button_inner);button_inner.appendChild(button_img);if(typeof that.args.allow_lightbox_thumbnail_properties!="undefined"){obj.classList.add("cp_thumbnail_properties_"+that.args.allow_lightbox_thumbnail_properties)}if(that.args.allow_lightbox_thumbnail_properties==="fixed"){if(!parseInt(that.args.allow_lightbox_thumbnail_size_w)||!parseInt(that.args.allow_lightbox_thumbnail_size_h)){button.className+=" cp_lightbox_btn_small"}else{button.style.width=that.args.allow_lightbox_thumbnail_size_w+"px";button_inner.style.height=that.args.allow_lightbox_thumbnail_size_h+"px";if(that.args.allow_lightbox_thumbnail_size_w){var scale=8;var fontSize=Math.max(Math.min(100,Math.round(that.args.allow_lightbox_thumbnail_size_w/scale)),20);video_play_btn.style.fontSize=fontSize+"px"}}}else{if(that.args.allow_lightbox_thumbnail_properties==="responsive"){button.style.width="100%";button.style.height="auto"}else{if(that.args.allow_lightbox_size=="small"||that.args.allow_lightbox_size=="medium"){button.className+=" cp_lightbox_btn_"+that.args.allow_lightbox_size}}}}else{if(that.args.allow_lightbox=="text"){button.className="cp_lightbox_btn_btn";button.innerHTML="<p>"+that.args.allow_lightbox_text+"</p>"}else{if(that.args.allow_lightbox=="cincopa_popup"){button.className="cp_lightbox_btn_btn";button.innerHTML=that.args.allow_lightbox_text}}}button.onclick=function(){openPopup()};if(that.args.allow_lightbox=="onexit"&&!that.args.iframe){var c=function(e){var a;e=null!=e?e:window.event;a=e.relatedTarget||e.toElement;return(!a||"HTML"===a.nodeName)&&e.clientY<100?!0:!1};doc.addEventListener("mouseout",function(e){if(c(e)&&!lightboxOpened&&!lightboxOpenedOnce&&!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(navigator.userAgent))){openPopup()}})}button.setAttribute("id","cp_lightbox_btn_id_name_"+this.skin.go.loaderParams._object);obj.appendChild(button);this.onSkinEvent("context_menu.init",{div_id:"cp_lightbox_btn_id_name_"+this.skin.go.loaderParams._object});if(that.args.iframe){var onfullscreenchange=function(e){var fullscreenElement=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;if(fullscreenElement==null){closePopup()}else{try{parent.window.dispatchEvent(new Event("resize"))}catch(ex){}}};document.addEventListener("fullscreenchange",onfullscreenchange);document.addEventListener("mozfullscreenchange",onfullscreenchange);document.addEventListener("webkitfullscreenchange",onfullscreenchange)}var parentObj;var wrapElement=document.createElement("div");wrapElement.className="cp_outer_wrap";if(!this.args.iframe){parentObj=getElement(this.skin.go.loaderParams._object);obj.appendChild(fixedOverlay);wrapElement.appendChild(fixedContainer);wrapElement.appendChild(closeBtn);doc.body.appendChild(wrapElement)}else{parentObj=this.getParentIframeObject();var fixedContainerWrap=document.createElement("div");fixedContainerWrap.appendChild(fixedContainer);wrapElement.appendChild(fixedContainerWrap);wrapElement.appendChild(closeBtn);doc.body.appendChild(wrapElement)}if(this.args.allow_lightbox=="javascript"){parentObj.style.width=0;parentObj.style.height=0}if(!this.videoThumbnailActivated){this.showVideoThumbnail(obj)}if(typeof that.skin.on_cp_lightbox_init=="function"){that.skin.on_cp_lightbox_init()}}};this.showVideoThumbnail=function(obj){if(this.videoThumbnailActivated||this.args.allow_lightbox!="video_thumbnail"){return}var that=this;var item=that.MediaJSON.items[0];if(!item){return}var tL;if(item.timeline){try{tL=JSON.parse(item.timeline)}catch(ex){}}var start,end;if(tL&&tL.video_thumbnail){if(typeof tL.video_thumbnail.start!=="undefined"){start=tL.video_thumbnail.start}if(typeof tL.video_thumbnail.end!=="undefined"){end=tL.video_thumbnail.end}}obj.classList.add("cp_live_poster");if(typeof this.args.live_poster_title!="undefined"){obj.classList.add("cp_live_poster_with_overlay")}this.videoThumbnailActivated=true;var videoOverlay=document.createElement("div");videoOverlay.className="cp_video_thumbnail_overlay";var videoOverlayBg=document.createElement("div");videoOverlayBg.className="cp_video_thumbnail_overlay_bg";var bgColor=that.args.theme_color_main||that.args.theme_color;if(bgColor){videoOverlayBg.style["background-color"]="#"+bgColor}var videoOverlayContent=document.createElement("div");videoOverlayContent.className="cp_video_thumbnail_overlay_content";var titleEl=document.createElement("p");titleEl.className="cp_video_thumbnail_title";titleEl.innerHTML=that.args.live_poster_title||"";var buttonEl=document.createElement("a");buttonEl.className="cp_video_thumbnail_button";if(bgColor){buttonEl.style.background="#"+bgColor}buttonEl.innerHTML=that.MediaJSON.items.length+" Videos";videoOverlay.appendChild(videoOverlayBg);videoOverlay.appendChild(videoOverlayContent);if(that.args.live_poster_title!=""){videoOverlayContent.appendChild(titleEl)}if(typeof this.args.live_poster_title!="undefined"){videoOverlayContent.appendChild(buttonEl)}var container=document.createElement("div");container.className="cp_video_thumbnail_container";var whereNeedtoAppend=obj.querySelector(".cp_lightbox_btn_inner");whereNeedtoAppend.style.position="relative";whereNeedtoAppend.appendChild(container);var video=document.createElement("video");video.className="cp_video_thumbnail";video.muted=true;video.controls=false;if(typeof start!="undefined"||typeof end!="undefined"){obj.classList.add("cp_live_poster_video");container.appendChild(video)}container.appendChild(videoOverlay);if(typeof start==="undefined"||typeof end==="undefined"){return}var dataURI="";dataURI=masterM3u8DataUri(createM3u8Arr(item));if(dataURI&&is_ie()==11&&(/(Windows 8.1|Windows NT 6.3)/.test(navigator.appVersion)||/(Windows 10.0|Windows NT 10.0)/.test(navigator.appVersion))){dataURI="//www.cincopa.com/media-platform/runtimeze/m3u8.aspx?rid="+json.item.rid}if(isHlsSupported()&&dataURI){var hlsOptions={maxMaxBufferLength:parseInt(this.args.hls_max_buffer_length),autoStartLoad:false};var hls=new Hls(hlsOptions);hls.loadSource(dataURI);hls.attachMedia(video);hls.on(Hls.Events.MANIFEST_PARSED,function(){var videoLevel;videoLevel=getVideoLevel({item:item},hls,obj);hls.loadLevel=videoLevel;hls.startLoad(start);video.play()})}else{if(dataURI&&isNativeHls()){video.src=dataURI}else{video.src=getContentUrl(item)}var played=false;video.addEventListener("loadedmetadata",function(){if(!played){this.currentTime=start;this.play();played=true}})}video.addEventListener("timeupdate",function(){if(this.currentTime>end){this.currentTime=start}});function getContentUrl(item){var url="";if(item.versions&&item.versions.mp4_hd&&item.versions.mp4_hd.url){url=item.versions.mp4_hd.url}if(!url&&item.versions&&item.versions.original&&item.versions.original.url){url=item.versions.original.url}if(!url){url=item.content_url}return url}function createM3u8Arr(item){var m3u8Arr=[];var ratio=item.aspect_ratio;var counter=10;var versions=item.versions;for(var key in versions){if(versions.hasOwnProperty(key)&&versions[key].mime=="application/x-mpegURL"&&key.indexOf("ts_")!=-1){var resolution="";var h=parseInt(versions[key].name);var w=ratio*h;resolution=w+"X"+h;m3u8Arr.push({url:versions[key].url,display_name:versions[key].name,resolution:resolution,bandwidth:counter});counter++}}return m3u8Arr}function masterM3u8DataUri(m3u8Arr){if(m3u8Arr.length){var e=masterM3u8ContentFromAssets(m3u8Arr);return"data:application/x-mpegURL;base64,"+base64Encode(e)}return false}function masterM3u8ContentFromAssets(m3u8Arr){for(var e="#EXTM3U",s=[],a=0;a<m3u8Arr.length;a++){var i=m3u8Arr[a];s.push("#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH="+i.bandwidth+",RESOLUTION="+i.resolution+",NAME="+i.display_name+"\n"+i.url)}return e+"\n"+s.join("\n")}function isHlsSupported(){var supported=true;if(typeof Hls=="undefined"||!Hls.isSupported()){supported=false}if(!that.args.enable_hls){supported=false}if(is_ie()&&!is_ie_hls_supported()){supported=false}var chr=function(){return !(!/Chrome/.test(navigator.userAgent)||!/Google Inc/.test(navigator.vendor))&&{version:chromeVersion()}};var chromeVersion=function(){var e=navigator.userAgent.match(/\bChrome\/([^\s]+)/);return e&&e[1]};if(chr()&&parseInt(chr().version)<=50){supported=false}return supported}function isNativeHls(){var riphone=/(iphone)/i,ripad=/(ipad)/i,rwebkit=/(webkit)[ \/]([^\s]+)/i;var iphone=riphone.test(navigator.userAgent);var ipad=ripad.test(navigator.userAgent);var safari=rwebkit.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)&&!ipad&&!iphone;return iphone||ipad||safari}function is_ie(){var ua=window.navigator.userAgent;var edge=ua.indexOf("Edge/");var msie=ua.indexOf("MSIE ");if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)))}else{if(!!navigator.userAgent.match(/Trident.*rv\:11\./)){return 11}else{if(edge>0){return(parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10))}}}return false}function is_ie_hls_supported(){var ua=window.navigator.userAgent;var edge=ua.indexOf("Edge/");var msie=ua.indexOf("MSIE ");if(msie>0){var ver=parseInt(ua.substring(msie+5,ua.indexOf(".",msie)));if(ver<11){return false}}else{if(!!navigator.userAgent.match(/Trident.*rv\:11\./)){if(navigator&&(/(Windows 8.1|Windows NT 6.3)/.test(navigator.appVersion)||/(Windows 10.0|Windows NT 10.0)/.test(navigator.appVersion))){return true}}else{if(edge>0){return true}}}return false}function base64Encode(text){var BASE64_KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(var t=0,n="";t<text.length;){var r=text.charCodeAt(t++),a=text.charCodeAt(t++),u=text.charCodeAt(t++),l=r>>2,o=(3&r)<<4|a>>4,s=(15&a)<<2|u>>6,i=63&u;isNaN(a)?s=i=64:isNaN(u)&&(i=64),n=n+BASE64_KEY_STR.charAt(l)+BASE64_KEY_STR.charAt(o)+BASE64_KEY_STR.charAt(s)+BASE64_KEY_STR.charAt(i)}return n}function getVideoLevel(json,hls,obj){var videoLevel;var h=obj.offsetHeight;var m3u8Arr=createM3u8Arr(json.item);if(json.item.isVR){videoLevel=getHlsLevel(10000,m3u8Arr);hls.disableResize=false}else{for(var m=0;m<m3u8Arr.length;m++){if(m3u8Arr[m].display_name==zeQuery.cookie("cincopavideoQuality")){videoLevel=m;hls.disableResize=true;break}}if(videoLevel==null){videoLevel=getHlsLevel(h,m3u8Arr);hls.disableResize=false}}return videoLevel}function getHlsLevel(height,m3u8Arr){var sizes=[];if(!m3u8Arr.length){return false}var gt=[],lt=[];for(var i=0;i<m3u8Arr.length;i++){var s=parseInt(m3u8Arr[i].display_name);if(!isNaN(s)){if(s<height){lt.push(s)}else{gt.push(s)}}}var nearSize;if(gt.length){nearSize=Math.min.apply(null,gt)}else{if(lt.length){nearSize=Math.max.apply(null,lt)}}var videoLevel;if(nearSize){for(var j=0;j<m3u8Arr.length;j++){var s=parseInt(m3u8Arr[j].display_name);if(m3u8Arr[j].display_name==nearSize+"p"){videoLevel=j;break}}}else{}return videoLevel}};this.getMediaRSSURL=function(par){var link=cincopa._AJAX+"rss200.aspx?fid="+this.args.fid;link+="&thumb="+par.thumb;link+="&content="+par.content;return link};this.buildTabs=function(gallery){var that=gallery;var tabsStr=this.args.allow_tabs_tags;if(this.args.allow_tabs_tags){var tabsArr=tabsStr.split(",").map(function(el){var trimmed=el.trim();return{name:trimmed.indexOf("(")>-1&&trimmed.indexOf(")")>-1?trimmed.substring(0,trimmed.indexOf("(")).trim():trimmed,title:trimmed.indexOf("(")>-1&&trimmed.indexOf(")")>-1?trimmed.substring(trimmed.indexOf("(")+1,trimmed.indexOf(")")).trim():trimmed}})}else{var tabsArr=[];var items=that.MediaJSON.items;for(var i=0;i<that.MediaJSON.items.length;i++){var current=that.MediaJSON.items[i];var currentTags=current.tags.split(",");for(var j=0;j<currentTags.length;j++){if(currentTags[j]!==""&&tabsArr.indexOf(currentTags[j])===-1){tabsArr.push(currentTags[j])}}}tabsArr=tabsArr.map(function(el){var trimmed=el.trim();return{name:trimmed,title:trimmed}})}var tabsList=document.createElement("ul");tabsList.className="cp_tabs_list";var firstLi=null;for(var i=0;i<tabsArr.length;i++){(function(tab,index){var li=document.createElement("li");li.className="cp_tabs_list_item";li.innerHTML=tab.title;li.onclick=function(){if(li.className.indexOf(" active")>-1){return true}if(tab.name.toLowerCase()==="all"){that.doSearch("clear")}else{that.doSearch("search",tab.name,true)}removeActiveClass(tabsList);li.className+=" active";if(that.args.iframe){that.resizeIFrame()}};tabsList.appendChild(li);if(index===0){firstLi=li}})(tabsArr[i],i)}if(firstLi){setTimeout(function(){firstLi.click()},0)}function removeActiveClass(rootElement){var elements=rootElement.getElementsByClassName("cp_tabs_list_item");for(var i=0;i<elements.length;i++){elements[i].className=elements[i].className.replace(/\bactive\b/g,"")}}return tabsList};this.buildSearchDiv=function(){var that=this;var searchCont=document.createElement("div");searchCont.className="ze_search_cont";searchCont.id="ze_search_cont"+this.loaderParams._object;var searchInput=document.createElement("input");searchInput.type="text";searchInput.className="ze_searchBox";searchInput.value=(that.MediaJSON&&typeof that.MediaJSON.searchVal!="undefined")?that.MediaJSON.searchVal:"";searchInput.style.display="none";searchInput.placeholder="search";var searchClear=document.createElement("span");searchClear.className="ze_search_clear";searchClear.style.cursor="pointer";searchClear.innerHTML="X";searchClear.style.display="none";searchClear.onclick=function(){this.style.display="none";searchInput.value="";searchInput.style.display="none";that.doSearch("clear")};searchCont.appendChild(searchInput);searchCont.appendChild(searchClear);searchInput.onkeyup=function(e){var key="which" in e?e.which:e.keyCode;if(key==27){searchClear.style.display="none";searchInput.value="";searchInput.style.display="none";that.doSearch("clear");return false}searchClear.style.display="inline-block";var value=this.value;if(value.replace(/^\s+|\s+$/g,"")==""){this.setAttribute("data-stop","true")}that.doSearch("search",value)};return searchCont};this.doSearch=function(searchCase,value,byTagOnly){var that=this;if(this.args.iframe=="true"){that=document.getElementById("zeiframe_"+this.loaderParams._object).contentWindow.go}that.orig_json=that.orig_json||that.MediaJSON;if(searchCase=="clear"){delete that.orig_json.searchVal;that.skin.onMediaJSON(that.orig_json);if(that.skin.isready>2){that.skin.start()}}else{function filterarray(t,fun){var len=t.length>>>0;var res=[];var thisp=arguments[1];if(t.sortedByTag){for(var j in t){for(var i=0;i<t[j].length;i++){var val=t[j][i];if(fun.call(thisp,val,i,t)){res.push(val)}}}}else{for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisp,val,i,t)){res.push(val)}}}}return res}sortedArray=filterarray(that.orig_json.items,function(element){testValue=value.toLowerCase();if(!byTagOnly){return element.title.toLowerCase().indexOf(testValue)>-1||element.description.toLowerCase().indexOf(testValue)>-1||((typeof element.tags!="undefined")?(element.tags.toLowerCase().indexOf(testValue)>-1):false)}else{return((!element.tags&&testValue==="no-tag")||(testValue!=="no-tag"&&typeof element.tags!="undefined"&&(element.tags.toLowerCase().indexOf(testValue)>-1))?true:false)}});var doc=this.detectIframeDocument();var $gallery=doc.getElementById(this.loaderParams._object);if(sortedArray.length==0){$gallery.classList.add("cp-search-noresult");return}else{$gallery.classList.remove("cp-search-noresult")}if(value.replace(/^\s+|\s+$/g,"")==""){that.orig_json.searchVal="";that.skin.onMediaJSON(that.orig_json)}else{that.skin.onMediaJSON({description:that.orig_json.description,title:that.orig_json.title,items:sortedArray,searchVal:value})}if(that.skin.isready>2){that.skin.start()}}};this.stripScripts=function(s){s=s.replace(/\%3C/g,"<").replace(/\%3E/g,">");var div=document.createElement("div");div.innerHTML=s;var scripts=div.getElementsByTagName("script");var i=scripts.length;var scripts_block=[];while(i--){scripts_block.push(scripts[i]);scripts[i].parentNode.removeChild(scripts[i])}return{text:div.innerHTML,scripts:scripts_block}};this.buildUpperPanel=function(){var upper_panel="";if(_cp_go_hooks["before-building-upper-panel"]){upper_panel+=_cp_go_hooks["before-building-upper-panel"](this)}if(this.args.allow_search=="yes"){upper_panel+=" <div id='cp-search-div-"+this.loaderParams._object+"'></div> "}if(this.args.allow_download=="original"||this.args.allow_download=="resized"){var url="https://www.cincopa.com/media-platform/runtime/download.aspx?fid=";if(this.args.cmapath){url+=this.args.cmapath.split("%2F")[1]}upper_panel+=" <a class='cp-download-all-link' href='"+url+"'>Download</a> "}if(this.args.allow_tabs===true||this.args.allow_tabs==="true"){var layout=this.args.allow_tabs_layout||"theme-1";upper_panel+=" <div id='cp-tabs-div-"+this.loaderParams._object+"' class='cp-tabs-div "+layout+"'></div> "}return upper_panel};this.buildLowerPanel=function(){var lower_panel="";var plan_name=this.args.plan_name;if(this.acc&&this.acc.user){plan_name=this.acc.user.plan_name}if(plan_name=="free"){lower_panel='<div style="clear:both;"><a href="//www.cincopa.com/?utm_campaign=viral_pro_skins&afc=mplp1" style="vertical-align: middle;display: inline-block;"><img style="padding:0px;margin:0px;border:0px;width:236px;height:30px;" border=0 alt="Powered By Cincopa" src="'+cincopa._ROOT_LOADER_STATIC+'bycincopa.png" /></a>';lower_panel+='<div style="display: inline-block; vertical-align: middle; margin: 0 .2em 0 1em; position: relative; margin-bottom: 5px;"><div class="g-plusone" data-size="medium" data-href="https://plus.google.com/111463929396015329416"></div></div>';lower_panel+='<iframe allowtransparency="true" frameborder="0" scrolling="no" style="vertical-align: middle;overflow:hidden;border:0px none;width:92px;height:20px;margin-bottom:5px;" src="https://www.facebook.com/plugins/like.php?href='+encodeURIComponent("https://www.facebook.com/cincopa")+'&layout=button_count&show_faces=false&width=100&action=like&font=arial&layout=button_count"></iframe>';lower_panel+="</div>"}return lower_panel};this.setGalleryHTML=function(htm,isIframeCode){this.onSkinEvent("runtime.on-load-html");function buildUpperPanelContent(gal){if(lower_panel!=""){var po=document.createElement("script");po.type="text/javascript";po.async=true;po.src="https://apis.google.com/js/plusone.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)}if(doc.getElementById("cp-search-div-"+gal.loaderParams._object)){doc.getElementById("cp-search-div-"+gal.loaderParams._object).appendChild(gal.buildSearchDiv())}if(doc.getElementById("cp-tabs-div-"+gal.loaderParams._object)){doc.getElementById("cp-tabs-div-"+gal.loaderParams._object).appendChild(gal.buildTabs(gal))}}var doc=this.detectIframeDocument();var obj=doc.getElementById(this.loaderParams._object);var obj_cover=null;var g=obj;if(!isIframeCode&&(this.args.iframe||this.iframeParentObject)){g=window.parent.document.getElementById(this.loaderParams._iframeParentObject)}var is_new_embed=false;if(g){obj_cover=g.getElementsByTagName("img")[0];is_new_embed=(" "+g.className+" ").replace(/[\n\t]/g," ").indexOf(" cincopa-fadein ")>-1}if(!this.args.allow_lightbox||this.args.allow_lightbox=="no"){if(this.args.allow_fixpos!="no"&&obj){obj.className+=" "+this.args.allow_fixpos}if(this.args.allow_margins&&obj){var margin=parseFloat(this.args.allow_margins);obj.style.margin=margin+"px auto"}}var inner="<div style='width:"+this.args.widget_w+"px;height:"+this.args.widget_h+"px;' id='inner_"+this.loaderParams._object+"' class='cp_reset_style "+(this.iframeParentObject?"cp_iframe":"")+"'>";inner+=htm;inner+="</div><div style='clear:both;'></div>";var upper_panel=this.buildUpperPanel();var lower_panel=this.buildLowerPanel();if(upper_panel!=""){upper_panel="<div class='cp-upper-panel'>"+upper_panel+"</div>"}if(this.iframeParentObject&&!this.galleryFrameLoaded){var ifrm=parent.document.getElementById("zeiframe_"+this.iframeParentObject);if(ifrm!==null){ifrm.style.width=this.args.widget_w?this.args.widget_w+"px":"";ifrm.style.height=this.args.widget_h?this.args.widget_h+"px":""}inner=upper_panel+inner+lower_panel;obj.insertAdjacentHTML("beforeend",inner);buildUpperPanelContent(this);this.galleryFrameLoaded=true}else{if(this.galleryFrameLoaded){obj=doc.getElementById("inner_"+this.loaderParams._object);obj.innerHTML=htm}else{if(this.galleryFrameLoaded){obj=doc.getElementById("inner_"+this.loaderParams._object);obj.innerHTML+=htm}else{if(!isIframeCode){inner=upper_panel+inner+lower_panel;this.galleryFrameLoaded=true}if(obj){if(is_new_embed){obj.insertAdjacentHTML("beforeend",inner)}else{obj.innerHTML=inner}}else{return}try{cincopa.testtrack(this.uid)}catch(ex){}if(!isIframeCode){buildUpperPanelContent(this)}}}}if(typeof this.args.fonts!="undefined"&&this.args.fonts!="no"){obj.classList.add("cp-font-"+this.args.fonts)}if(is_new_embed&&obj_cover){obj.style.position="relative";obj_cover.parentNode.style.background="#fff";obj_cover.parentNode.style.position="absolute";obj_cover.parentNode.style.top="0";obj_cover.parentNode.style.left="0";obj_cover.parentNode.style.zIndex="10";obj_cover.parentNode.style.transition="opacity 800ms ease 0s";if(!isIframeCode){setTimeout(function(){obj_cover.parentNode.style.opacity="0";setTimeout(function(){obj_cover.parentNode&&obj_cover.parentNode.removeChild(obj_cover)},800)},400)}}this.onSkinEvent("runtime.on-html-loaded")};this.loadSkinCSS=function(cssname){this.loadjscssfile(this.skinPath+cssname,"css")};this.loadSkinJS=function(jsname){this.loadjscssfile(this.skinPath+jsname,"js","head")};this.loadSkinJSSequence=function(jsnames,callback){var self=this;var ns=[];for(var i=0;i<jsnames.length;i++){var name=jsnames[i];ns.push(this.skinPath+name)}return this.loadScript(ns,callback)};this.loadjscssfile=function(filename,filetype,where,onloadfunc){var filepath=filename;try{filepath=filepath.split(".cincopa.com")[1]}catch(ex){}if(_cp_preloaded_files[filepath]==true){if(onloadfunc!=null){_trace("preloaded "+filename+"...");onloadfunc()}else{_trace("preloaded (without callback) "+filename+"...")}return}else{_trace("loading "+filename+"...");cincopa.halt_preloader_alert=cincopa.halt_preloader_alert||false;if(!cincopa.halt_preloader_alert&&!cincopa.qs.cpdisablepreload&&filename.indexOf("preload.js")==-1&&filename.indexOf("preload.css")==-1&&filename.indexOf("jsonv2.aspx")==-1&&filename.indexOf("libasync_old.js")==-1&&filename.indexOf("json.aspx")==-1&&filename.indexOf(".gif")==-1&&filename.indexOf(".png")==-1&&filename.indexOf(".svg")==-1){cincopa.logError("preloader_missing6",filepath);cincopa.halt_preloader_alert=true}}var fileref;if(filetype=="js"){fileref=document.createElement("script");fileref.setAttribute("type","text/javascript");var fp=filename;fileref.setAttribute("src",fp);if(typeof onloadfunc!="undefined"){if(fileref.attachEvent){fileref.onreadystatechange=function(){if(fileref.readyState=="loaded"||fileref.readyState=="complete"){onloadfunc()}};fileref.attachEvent("onerror",function(){cincopa.trace("js load error: "+filename)})}else{if(fileref.addEventListener){fileref.addEventListener("load",onloadfunc,false);fileref.addEventListener("error",function(){cincopa.trace("js load error: "+filename)},false)}}}}else{if(filetype=="css"){fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("type","text/css");fileref.setAttribute("href",filename)}else{if(filetype=="font"){function doesFontExist(doc,filename){var fontName=cincopa.fontsList[filename]["font-family"];var fontExist=false;var allLinks=doc.querySelectorAll('link[data-fontname="'+filename+'"]');for(var i=0;i<allLinks.length;i++){if(allLinks[i].getAttribute("data-fontname")==filename){fontExist=true;break}}if(fontExist){return fontExist}var canvas=doc.createElement("canvas");var context=canvas.getContext("2d");var text="abcdefghijklmnopqrstuvwxyz0123456789";context.font="72px monospace";var baselineSize=context.measureText(text).width;context.font="72px "+fontName.split(",")[0]+", monospace";var newSize=context.measureText(text).width;delete canvas;if(newSize==baselineSize){return false}else{return true}}var fonthref="";if(filename!="no"&&typeof cincopa.fontsList[filename]!="undefined"){if(doesFontExist(this.detectIframeDocument(),filename)){return}fonthref=cincopa.fontsList[filename].font;fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("href",fonthref);fileref.setAttribute("data-fontname",filename)}}}}if(typeof fileref!="undefined"){if(where=="head"){document.getElementsByTagName("head")[0].appendChild(fileref)}else{document.getElementsByTagName("body")[0].appendChild(fileref)}}};this.loadScript=function(){var self=this;var scripts=[];var callback=null;for(var i=0;i<arguments.length;i++){var v=arguments[i];switch(typeof v){case"string":scripts.push(v);break;case"function":callback=v;break}if(v instanceof Array){for(var n=0;n<v.length;n++){scripts.push(v[n])}}}if(scripts.length==0){if(callback){callback()}this.onSkinEvent("skin.loadjscssfile");return}var script=scripts.shift();this.loadjscssfile(script,"js","body",function(){_trace("LOADED: "+script);self.loadScript(scripts,callback)});return true};this.namedSize=function(w,h){var thumb="small";if(w<=100&&h<=75){thumb="small"}else{if(w<=200&&h<=150){thumb="medium"}else{if(w<=600&&h<=450){thumb="large"}else{thumb="xlarge"}}}return thumb};this.pushEventToGA=function(label){if(this.args.ga_event!="on"){return}try{cincopa.trace("pushEventToGA - "+this.MediaJSON.title+" ("+this.args.fid+") label - "+label);if(typeof parent.window._gaq!="undefined"){parent.window._gaq.push(["_trackEvent","Cincopa Galleries",this.MediaJSON.title+" ("+this.args.fid+")",label])}else{if(typeof parent.window.ga!="undefined"){trackerName=parent.window.ga.getAll()[0].get("name");parent.window.ga(trackerName+".send","event","Cincopa Galleries",this.MediaJSON.title+" ("+this.args.fid+")",label)}else{if(typeof parent.window.__gaTracker!="undefined"){parent.window.__gaTracker("send","event","Cincopa Galleries",this.MediaJSON.title+" ("+this.args.fid+")",label)}}}}catch(ex){}};this.init_video_play_stats=function(data){cincopa.cp_media_hm[data.uid]=cincopa.cp_media_hm[data.uid]||{};cincopa.cp_media_hm[data.uid][data.item.rid]=cincopa.cp_media_hm[data.uid][data.item.rid]||{};cincopa.cp_media_hm[data.uid][data.item.rid]["hmid"]=cincopa.cp_media_hm[data.uid][data.item.rid]["hmid"]||((new Date()).getTime()+":"+Math.random().toString().substring(2));cincopa.cp_media_hm[data.uid][data.item.rid]["hm"]=cincopa.cp_media_hm[data.uid][data.item.rid]["hm"]||[];cincopa.cp_media_hm[data.uid][data.item.rid]["dur"]=cincopa.cp_media_hm[data.uid][data.item.rid]["dur"]||cincopa.cp_hmsToSecondsOnly(data.item.duration);cincopa.cp_media_hm[data.uid][data.item.rid]["cap"]=cincopa.cp_media_hm[data.uid][data.item.rid]["cap"]||data.item.title;cincopa.cp_media_hm[data.uid][data.item.rid]["firstsend"]=cincopa.cp_media_hm[data.uid][data.item.rid]["firstsend"]||false;cincopa.cp_media_hm[data.uid][data.item.rid]["lastpos"]=cincopa.cp_media_hm[data.uid][data.item.rid]["lastpos"]||-1;cincopa.cp_media_hm[data.uid][data.item.rid]["commit"]=false};this.get_all_video_play_stats=function(){var prog={};for(var i=0;i<this.MediaJSON.items.length;i++){var item=this.MediaJSON.items[i];if(item.content_type.startsWith("video")&&cincopa.cp_media_hm[this.uid][item.rid].lastpos>-1){prog[item.rid]=this.get_video_play_stats({second:cincopa.cp_media_hm[this.uid][item.rid].lastpos,uid:this.uid,item:item})}}return prog};this.get_video_play_stats=function(eventData){var tmp={current_progress_sec:eventData.second,completion_sec:this.getContentWindow().cincopa.cp_media_hm[eventData.uid]?this.getContentWindow().cincopa.cp_media_hm[eventData.uid][eventData.item.rid].totaluniqueseconds:null,duration_sec:cincopa.cp_hmsToSecondsOnly(eventData.item.duration),hm_range:this.getContentWindow().cincopa.cp_media_hm[eventData.uid]?this.getContentWindow().cincopa.cp_media_hm[eventData.uid][eventData.item.rid].hmrange:null};tmp.completion_percent=Math.ceil(tmp.completion_sec/tmp.duration_sec*100);tmp.current_completion_percent=Math.ceil((tmp.current_progress_sec+1)/tmp.duration_sec*100);return tmp};this.set_video_play_stats=function(eventData,hm_range){var thewind=this.getContentWindow();var item=thewind.cincopa.cp_media_hm[eventData.uid][eventData.item.rid];item.commit=false;item.totaluniqueseconds=0;item.hmrange=hm_range;var pair=hm_range.split(",");for(var i=0;i<pair.length;i++){var prange=pair[i].split(":");var range=prange[0].split("-");var times=prange.length==1?1:parseInt(prange[1]);if(range.length==1){item.hm[parseInt(range[0])]=times;item.totaluniqueseconds++}else{for(var x=parseInt(range[0]);x<=parseInt(range[1]);x++){item.hm[x]=times;item.totaluniqueseconds++}}}};this.getContentWindow=function(){if(this.args.iframe=="true"){var zeiframe=document.getElementById("zeiframe_"+this.loaderParams._object);if(zeiframe){return zeiframe.contentWindow}}else{return window}};this.detectIframeDocument=function(){var doc=document;if(this.args.iframe=="true"){var zeiframe=document.getElementById("zeiframe_"+this.loaderParams._object);if(zeiframe){var doc=zeiframe.contentDocument;if(doc==undefined||doc==null){doc=zeiframe.contentWindow.document}}}else{try{var iframes=parent.document.getElementsByTagName("iframe");if(iframes!=null){for(var i=0;i<iframes.length;i++){if(iframes[i].getAttribute("data-cincoiframe")==this.args.fid&&this.args.fid){var doc=iframes[i].contentDocument;if(doc==undefined||doc==null){doc=iframes[i].contentWindow.document}break}}}}catch(ex){}}return doc};this.trackEvent=function(label){this.onSkinEvent("skin."+label.toLowerCase().replace(/ /g,"-"),"obsolete trackEvent() from skin")};this.onSkinEvent=function(name,data){var nspace=name.substr(0,name.indexOf("."));var gallery=this;data=data||{};data.id=gallery.args.fid;data.container_id=gallery.args.id;try{data.uid=gallery.uid}catch(ex){data.uid="unknown"}var wind=window;try{if(parent.location.protocol&&typeof parent.cincopa!=="undefined"&&window.location.hostname!="www.cincopa.com"){wind=parent.window}}catch(ex){}try{if(wind.cincopa._debug){cincopa.trace("onSkinEvent - "+name,data)}for(var i=0;i<wind.cincopa.registeredFunctions.length;i++){if(wind.cincopa.registeredFunctions[i].filter=="*"){try{eval(wind.cincopa.registeredFunctions[i].func)(name,data,gallery)}catch(ex){cincopa.logException(name,ex)}}else{if(wind.cincopa.registeredFunctions[i].filter.indexOf(name)>-1||wind.cincopa.registeredFunctions[i].filter.indexOf(nspace+".*")>-1){try{eval(wind.cincopa.registeredFunctions[i].func)(name,data,gallery)}catch(ex){cincopa.logException(name,ex)}}}}}catch(ex){cincopa.trace(ex)}};this.isIOS=function(){return navigator.userAgent.indexOf("iPod;")>-1||navigator.userAgent.indexOf("iPhone;")>-1||navigator.userAgent.indexOf("iPad;")>-1};this.isAndroid=function(){return navigator.userAgent.indexOf("Linux; U; Android")>-1};this.isFlash=function(major,minor,build){if(major==null){major=0}if(minor==null){minor=0}if(build==null){build=0}function getFlashVersion(desc){var matches=desc.match(/[\d]+/g);matches.length=3;return matches}var hasFlash=false;var flashVersion;if(navigator.plugins&&navigator.plugins.length){var plugin=navigator.plugins["Shockwave Flash"];if(plugin){hasFlash=true;if(plugin.description){flashVersion=getFlashVersion(plugin.description)}}if(navigator.plugins["Shockwave Flash 2.0"]){hasFlash=true;flashVersion="2.0.0.11"}}else{if(navigator.mimeTypes&&navigator.mimeTypes.length){var mimeType=navigator.mimeTypes["application/x-shockwave-flash"];hasFlash=mimeType&&mimeType.enabledPlugin;if(hasFlash){flashVersion=getFlashVersion(mimeType.enabledPlugin.description)}}else{try{var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");hasFlash=true;flashVersion=getFlashVersion(ax.GetVariable("$version"))}catch(e){try{var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");hasFlash=true;flashVersion="6.0.21"}catch(e){try{var ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");hasFlash=true;flashVersion=getFlashVersion(ax.GetVariable("$version"))}catch(e){}}}}}if(major==null||!hasFlash){return hasFlash}if(major<flashVersion[0]||(major==flashVersion[0]&&minor<flashVersion[1])||(major==flashVersion[0]&&minor==flashVersion[1]&&build<=flashVersion[2])){return true}return false};this.getSkin=function(){var zeiframe=document.getElementById("zeiframe_"+this.loaderParams._object);if(zeiframe){return zeiframe.contentWindow.zeGalleryArray.inneriframe.skin}return this.skin};this.reportProblem=function(div_id){var doc=this.detectIframeDocument();var container=doc.getElementById(div_id);var position=window.getComputedStyle(container).getPropertyValue("position");if(position!="fixed"&&position!="absolute"){container.style.position="relative"}var reportDiv=document.createElement("div");reportDiv.className="ze_overlay_placeholder";reportDiv.id="ze_report_placeholder";var reportdivCont=document.createElement("div");reportdivCont.className="ze_overlay_container_div";var reportdivContainerContent=document.createElement("div");reportdivContainerContent.className="ze_overlay_container_report_content";var reportdivForm=document.createElement("div");reportdivForm.className="ze_htmloverlay_report_form";var reportdivFormTitle=document.createElement("p");reportdivFormTitle.className="ze_htmloverlay_report_form_text";reportdivFormTitle.innerHTML="Oops something went wrong? which of these best describes the problem?";var reportdivTextarea=document.createElement("textarea");reportdivTextarea.placeholder="";var reportdivDropdown=document.createElement("select");reportdivDropdown.name="problem_category";var reportdivDropdownOptions=["Video/audio fails to play","Gallery doesn't load at all","Video/audio plays but frequently stutters","Video has poor quality","Image doesn't load","Other"];reportdivDropdown.innerHTML="<option value=''>Choose one</option>";for(var i=0;i<reportdivDropdownOptions.length;i++){reportdivDropdown.innerHTML+="<option value='"+reportdivDropdownOptions[i]+"'>"+reportdivDropdownOptions[i]+"</option>"}var reportdivSendBtn=document.createElement("input");reportdivSendBtn.type="submit";reportdivSendBtn.value="Send";reportdivSendBtn.className="ze_reportProblemCancel";var reportdivCncBtn=document.createElement("input");reportdivCncBtn.type="submit";reportdivCncBtn.value="Cancel";reportdivCncBtn.className="ze_reportProblemSubmit";var reportdivErrorMsg=document.createElement("p");reportdivErrorMsg.className="ze_report_form_error_msg";reportdivErrorMsg.innerHTML="Please select a category";reportdivErrorMsg.style.display="none";reportdivForm.appendChild(reportdivFormTitle);reportdivForm.appendChild(reportdivDropdown);reportdivForm.appendChild(reportdivTextarea);reportdivForm.appendChild(reportdivSendBtn);reportdivForm.appendChild(reportdivCncBtn);reportdivForm.appendChild(reportdivErrorMsg);reportdivContainerContent.appendChild(reportdivForm);reportdivCont.appendChild(reportdivContainerContent);reportDiv.appendChild(reportdivCont);container.appendChild(reportDiv);var eventName=cincopa.hasTouch()?"touchstart":"click";reportdivCncBtn.addEventListener(eventName,function(e){e.preventDefault();e.stopPropagation();reportDiv.outerHTML="";delete reportDiv});reportdivSendBtn.addEventListener(eventName,function(e){e.preventDefault();e.stopPropagation();reportdivErrorMsg.style.display="none";reportdivDropdown.className="";var url="https://www.cincopa.com/media-platform/send-report-email";var details=reportdivTextarea.value?reportdivTextarea.value:"";var problem_category=reportdivDropdown.value?reportdivDropdown.value:"";if(problem_category){var params={http_method:"GET",title:"Report a problem",action:"Report a problem",pagepath:location.href,problem_category:problem_category,details:details};Ajax(url,params,function(res){});reportDiv.outerHTML="";delete reportDiv}else{reportdivErrorMsg.style.display="inline-block";reportdivDropdown.className="problem_error_style"}});reportDiv.addEventListener("contextmenu",function(e){e.preventDefault();e.stopPropagation()})};this.copyLinkAndThumb=function(gal){var doc=this.detectIframeDocument();var text="";var href=location.origin+location.pathname,thumb="https://www.cincopa.com/media-platform/api/thumb.aspx?size=large&fid="+this.loaderParams._fid+"&trs=play",title=gal.args.folder_name;if(location.search){href+=location.search+"&cpembed="+this.loaderParams._fid}else{href+="?cpembed="+this.loaderParams._fid}if(this.loaderParams._fid&&this.loaderParams._fid.indexOf("!")>-1&&!this.loaderParams._fid.startsWith("rrid:")){if(this.MediaJSON.items[0]){title=this.MediaJSON.items[0].title||title}}text+='<p><a href="'+href+'"><img src="'+thumb+'" width="400" height="250" style="width: 400px; height: 250px;"></a></p>';text+='<p><a href="'+href+'">'+title+"</a></p>";cincopa.copyToClipboard(text,doc)};function query(op,params,callback){if(typeof params=="function"){callback=params;params={}}params.fid=self.args.fid;params.logged_user_cred=self.args.logged_user_cred;new Ajax(cincopa._AJAX+op,params,function(r){function json(data){try{return eval("("+data+");")}catch(e){return{error:"Invalid JSON format\n"+data,success:false}}}callback(json(r))})}function pquery(op,params,callback){if(pquery.count===undefined){pquery.count=0}else{pquery.count++}var callback_name="__pquery_temp_callback_"+pquery.count;window[callback_name]=function(){callback.apply(this,arguments);try{delete window[callback_name]}catch(e){window[callback_name]=undefined}};params.callback=callback_name;go.loadScript(op+"?"+params_encode(params));function params_encode(params){var out=[];for(var k in params){var v=params[k];out.push(k+"="+encodeURIComponent(v))}return out.join("&")}}this.merge_json=function(o1,o2,o3){var o={};for(var z in o1){o[z]=o1[z]}for(var z in o2){o[z]=o2[z]}for(var z in o3){o[z]=o3[z]}return o}}function zeOnMediaJSON(d,c){var b=zeGalleryArray[d];b.MediaJSON=c;b.zeOnMediaJSON()}function Ajax(k,d,b){var c=k.match(/http:\/\/([\w\d-\.]+)/);if(c){c=c[0]}if(navigator.userAgent.match(/MSIE/)){h()}else{g()}function h(){var l=new XDomainRequest();l.open("post",k);l.onload=function(){b(l.responseText)};l.send(e(d))}function g(){var n=new XMLHttpRequest();var o="POST";var m="application/x-www-form-urlencoded";if(d.http_method){o=d.http_method;delete d.http_method}if(d.dataType=="json"){m="application/json; charset=UTF-8";delete d.dataType}if(o.indexOf("_JSON")>-1){d=cincopa.json_stringify(d);o=o.split("_")[0];m="application/json; charset=UTF-8"}else{d=e(d)}if(o=="GET"&&d!=""){k+="?"+d}var l="";if(cincopa.analytics_filter_ip){l+="&analytics_filter_ip="+cincopa.analytics_filter_ip}if(cincopa.analytics_anonymize_ip){l+="&analytics_anonymize_ip="+cincopa.analytics_anonymize_ip}if(l!=""){k+=(k.indexOf("?")>-1?"":"?")+l}n.open(o,k,true);if(o=="POST"||o=="PUT"){n.setRequestHeader("Content-type",m);n.send(d)}else{n.send(null)}n.onreadystatechange=function(){cincopa.trace("Ajax onreadystatechsange "+n.readyState+" "+n.status);if(n.readyState==4){switch(n.status){case 200:case 201:case 204:b(n.responseText);break;default:cincopa.trace("http request failed: "+n.status)}}}}function e(n){var m=[];for(var l in n){var o=n[l];m.push(l+"="+encodeURIComponent(o))}return m.join("&")}}cincopa.measure_what={"libasync.js":{},"widgetasync.aspx":{},"json.aspx":{},"meta_json.aspx":{},"preload.aspx?type=js":{},"preload.aspx?type=css":{}};cincopa.measure_send={url:cincopa.location,d:[]};cincopa.measure_benchmark={src:atob("aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9jaHJvbWUvYXNzZXRzL2NvbW1vbi9pbWFnZXMvbWFycXVlZS9iZW5lZml0cy00LmpwZw=="),sent:false,ok:false,limit:1200};cincopa.measure_alert=function(){if(!window.performance.getEntries||!window.performance.getEntries){cincopa.trace("performance api isn't supported");return}try{var c=window.performance.getEntries();for(var b in c){if(c[b].name.indexOf(cincopa.measure_benchmark.src)>-1&&!cincopa.measure_benchmark.ok){cincopa.measure_benchmark.ok=c[b].duration<cincopa.measure_benchmark.limit;cincopa.measure_send.benchmark=Math.round(c[b].duration)}else{for(var h in cincopa.measure_what){if(!cincopa.measure_what[h]["found"]&&c[b].name.toString().indexOf(h)>-1&&c[b].duration>8000){cincopa.trace("measure "+h,c[b]);cincopa.measure_what[h]["found"]=true;var g=c[b].name.split(/[\/:]/);cincopa.measure_send.d.push({name:h,dur:Math.round(c[b].duration),proto:g[0],host:g[3]})}}}}if(cincopa.measure_send.d.length>0){if(!cincopa.measure_benchmark.sent){var e=new Image(1,1);e.src=cincopa.measure_benchmark.src+"?rand="+Math.random();cincopa.measure_benchmark.sent=true}else{if(cincopa.measure_benchmark.ok){cincopa.trace("sending ",cincopa.json_stringify(cincopa.measure_send));cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/os.aspx?a="+cincopa.json_stringify(cincopa.measure_send));cincopa.measure_send.d=[]}}}}catch(d){}setTimeout(cincopa.measure_alert,5000)};cincopa.cpmeasure=function(){var l=false;try{var d=[];var e=window.performance.getEntries();var c=0;for(var b in e){var k=null;if(e[b].name.toString().indexOf(".cdn.cincopa.com")>-1){k="ec"}else{if(e[b].name.toString().indexOf("preload.aspx?type=js")>-1){k="preloadjs"}else{if(e[b].name.toString().indexOf("preload.aspx?type=css")>-1){k="preloadcss"}else{if(e[b].name.toString().indexOf("widgetasync.aspx")>-1){k="widgetasync"}else{if(e[b].name.toString().indexOf("json.aspx")>-1){k="json"}else{if(e[b].name.toString().indexOf("libasync.js")>-1){k="libasync"}else{if(e[b].name.toString().indexOf(".netdna-ssl.com")>-1){k="nd"}}}}}}}if(k!=null){k=k+(cincopa._ROOT_PROTOCOL=="https:"?"-s":"");var h={};cincopa.trace(e[b]);h.d=Math.round(e[b].domainLookupEnd-e[b].domainLookupStart);h.c=Math.round(e[b].connectEnd-e[b].connectStart);h.rq=Math.round(e[b].responseStart-e[b].requestStart);h.rs=Math.round(e[b].responseEnd-e[b].responseStart);h.z=Math.round(e[b].duration);if(h.d==0&&h.c==0&&h.rq==0&&h.rs==0){continue}if(h.d==0){delete h.d}if(h.c==0){delete h.c}if(h.rq==0){delete h.rq}if(h.rs==0){delete h.rs}if(h.z==0){delete h.z}h.n=k;cincopa.trace("Performance "+cincopa.json_stringify(h));if(h.z>30){d.push(h);c++;if(c>=10){if(l){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/os.aspx?s="+cincopa.json_stringify(d))}c=0;d=[]}}}}if(l){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/os.aspx?s="+cincopa.json_stringify(d))}}catch(g){}};cincopa.registerEvent("cincopa.cp_evt_mediaplay","video.*",0);cincopa.registerEvent("cincopa.cp_evt_mediaplay","audio.*",0);cincopa.registerEvent("cincopa.cp_evt_mediaplay","chromecast.*",0);cincopa.cp_evt_mediaplay=function(e,b,d){if((e=="video.load"||e=="audio.load")&&!cincopa.disable_analytics){try{var g="";if(cincopa.location_blocked){g="&setref="+encodeURIComponent(cincopa.location)}var k="unknown";try{k=b.version.name}catch(c){}var h=d.uid;cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid="+h+"&fid=ohit"+b.item.rid+g+"&mtc=rid"+h+",ridtotals|host|sua|cc&mtce=vid_res,"+k)}catch(c){}}if(e=="chromecast.detected"){}};cincopa.emailgate={skip:function(g){g.emailgateskip=true;var d=g.detectIframeDocument();var h="ze_htmloverlay_placeholder_"+g.loaderParams._object;var c=d.getElementById(h);if(c){c.style.opacity="0"}var b=d.getElementById(g.loaderParams._object);if(b){setTimeout(function(){cincopa.emailgate.hide(g);b.classList.remove("cp_form_opened_transition")},500)}b.classList.remove("cp_form_opened");var e=document.createEvent("CustomEvent");e.initCustomEvent("resize",true,true);window.dispatchEvent(e);if(g.playerAPI){g.playerAPI.play()}},hide:function(c){var d="ze_htmloverlay_placeholder_"+c.loaderParams._object;var b=c.detectIframeDocument().getElementById(d);if(b){b.innerHTML="";b.style.display="none"}}};cincopa.registerEvent(function(u,n,A){var l="ze_htmloverlay_placeholder_"+A.loaderParams._object;var N=n.overlay.params;var o=A.detectIframeDocument();var g=o.getElementById(l);if(!g){return}var C="";var W="";var c,G,z="";if(typeof N=="undefined"){c=true;G=false}else{c=N.allowSkip;G=N.isDefaultForm;z=N.listId}var y=N.formFields||[];y=y.sort(function(X,Y){return X.displayOrder-Y.displayOrder});if(G){C+="<div class='ze_htmloverlay_form'>";if(N.upper_html){C+="<p id='ze_htmloverlay_form_upper'>"+N.upper_html+"</p>"}var P=y.filter(function(X){return X.required===true}).length;var J;for(var D=0;D<y.length;D++){if(y[D]["name"]!="submit"){if(!W){W+=y[D]["name"]}else{W+=","+y[D]["name"]}}var B=y[D].hidden?"cp-hide":"";if(y[D].label&&y[D].required){J=y[D].label+" *"}else{J=y[D].label}if(A.args.html_overlay_placeholder!=="title_and_placeholder"&&(y[D].fieldType==="text"||y[D].fieldType==="textarea"||y[D].fieldType==="select")){J=""}if(y[D].fieldType==="text"){C+="<div data-index='"+D+"' class='ze_htmloverlay_form_wrap "+B+"' id='"+(y[D].name?"ze_htmloverlay_form_wrap_"+y[D].name:"")+"'><label class='text-label' for='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name:"")+"'>"+(J||"")+"</label><input data-name='"+y[D].name+"' data-required='"+y[D].required+"' type='text' id='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name:"")+"' name='"+(y[D].name||"")+"' placeholder='"+(y[D].placeholder||y[D].label||"")+"' value='"+(y[D].defaultValue||"")+"' /></div>"}else{if(y[D].fieldType==="submit"){C+="<div data-index='"+D+"' class='ze_htmloverlay_form_wrap "+B+"' id='"+(y[D].name?"ze_htmloverlay_form_wrap_"+y[D].name:"")+"'><label class='text-label'></label><input type='submit' id='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name:"")+"' name='"+(y[D].name||"")+"' value='"+(N.button_text||"")+"' />"+(P?"<span class='error-message'>Please fill out all required fields</span>":"")+"</div>"}else{if(y[D].fieldType==="textarea"){C+="<div data-index='"+D+"' class='ze_htmloverlay_form_wrap "+B+"' id='"+(y[D].name?"ze_htmloverlay_form_wrap_"+y[D].name:"")+"'><label class='text-label' for='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name:"")+"'>"+(J||"")+"</label><textarea data-name='"+y[D].name+"' data-required='"+y[D].required+"' type='text' id='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name:"")+"' name='"+(y[D].name||"")+"' placeholder='"+(y[D].placeholder||y[D].label||"")+"' >"+(y[D].defaultValue||"")+"</textarea></div>"}else{if(y[D].fieldType==="checkbox"){C+="<div data-index='"+D+"' class='ze_htmloverlay_form_wrap ze_htmloverlay_form_wrap_list "+B+"' id='"+(y[D].name?"ze_htmloverlay_form_wrap_"+y[D].name:"")+"'>";C+="<span>"+(J||"")+"</span>";if(y[D].options){for(var L in y[D].options){C+="<label class='ze_htmloverlay_form_checkbox_wrap'>";C+="<input data-name='"+y[D].name+"' type='checkbox' id='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name+"_"+L:"")+"' name='"+(y[D].name||"")+"' value='"+y[D].options[L].value+"' />";C+="<span>"+y[D].options[L].label+"</span>";C+="</label>"}}C+="</div>"}else{if(y[D].fieldType==="booleancheckbox"){C+="<div data-index='"+D+"' class='ze_htmloverlay_form_wrap ze_htmloverlay_form_wrap_list "+B+"' id='"+(y[D].name?"ze_htmloverlay_form_wrap_"+y[D].name:"")+"'>";C+="<label class='ze_htmloverlay_form_checkbox_wrap'>";C+="<input class='booleancheckbox' data-name='"+y[D].name+"' type='checkbox' data-required='"+y[D].required+"' id='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name:"")+"' name='"+(y[D].name||"")+"' />";C+="<span>"+J||"</span>";C+="</label>";C+="</div>"}else{if(y[D].fieldType==="radio"){C+="<div data-index='"+D+"' class='ze_htmloverlay_form_wrap ze_htmloverlay_form_wrap_list "+B+"' id='"+(y[D].name?"ze_htmloverlay_form_wrap_"+y[D].name:"")+"'>";C+="<span>"+(J||"")+"</span>";if(y[D].options){for(var L=0;L<y[D].options.length;L++){var d="";if((!y[D].defaultValue&&L==0)||(y[D].defaultValue&&y[D].options[L].value===y[D].defaultValue)){d=" checked "}C+="<label class='ze_htmloverlay_form_checkbox_wrap'>";C+="<input data-name='"+y[D].name+"' data-required='"+y[D].required+"' type='radio' id='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name+"_"+L:"")+"' name='"+(y[D].name||"")+"' value='"+y[D].options[L].value+"' "+d+" />";C+="<span>"+y[D].options[L].label+"</span>";C+="</label>"}}C+="</div>"}else{if(y[D].fieldType==="select"){C+="<div data-index='"+D+"' class='ze_htmloverlay_form_wrap ze_htmloverlay_form_wrap_list "+B+"' id='"+(y[D].name?"ze_htmloverlay_form_wrap_"+y[D].name:"")+"'>";if(!J){C+="<label class='text-label'></label>"}else{C+="<span>"+(J||" ")+"</span>"}if(y[D].options){C+="<select data-name='"+y[D].name+"' data-required='"+y[D].required+"' id='"+(y[D].name?"ze_htmloverlay_form_"+y[D].name+"_"+L:"")+"' name='"+(y[D].name||"")+"'>";if(y[D].unselectedLabel){C+="<option value=''>"+y[D].unselectedLabel+"</option>"}for(var L in y[D].options){var M=y[D].options[L].value.replace(/'/g,'"');C+="<option value='"+M+"'>"+y[D].options[L].label+"</option>"}C+="</select>"}C+="</div>"}}}}}}}}if(N.upper_html){C+="<p id='ze_htmloverlay_form_lower'>"+N.lower_html+"</p>"}C+="</div>"}else{C=A.args.html_overlay_html}cincopa.logFeature("emailgate");var H=y.some(function(X){return X.isSmartField===true});var T=false;var m=cincopa.inBetween(document.cookie,"cp_leadgen_"+z+"=",";");if(m&&!cincopa.wizard_mode){valueForCookieArray=W.split(",");for(var D=0;D<valueForCookieArray.length;D++){var V=valueForCookieArray[D];if(m&&m.indexOf(V)==-1){T=false;break}else{T=true}}}if(T&&!H){return}cincopa.emailgate.hide(A);if(c){var e=document.createElement("a");e.innerHTML="X";e.className="ze_overlay_close_btn";g.appendChild(e);e.onclick=function(){A.onSkinEvent("emailgate.skip",n)}}var h=document.createElement("div");h.className="ze_overlay_container_div "+A.args.html_overlay_fields;if(!G){h.className+=" ze_overlay_container_div_custom_form"}var k=document.createElement("div");k.className="ze_overlay_container_div_content";var O=A.stripScripts(C);k.innerHTML=O.text;h.appendChild(k);g.style.opacity="1";g.style.display="block";g.appendChild(h);for(var I=0;I<O.scripts.length;I++){var Q=document.createElement("script");Q.type="text/javascript";if(O.scripts[I].src){Q.src=O.scripts[I].src}Q.text=O.scripts[I].text;g.appendChild(Q)}var w=g.querySelectorAll(".ze_htmloverlay_form_wrap");for(var v=0;v<w.length;v++){var E=w[v].getAttribute("data-index");E=parseInt(E);var x=y[E].fieldWidth||"50";w[v].style.width=x+"%"}if(G){var S=g.querySelector('input[type="submit"]');var F=g.querySelectorAll("input");var U=g.querySelectorAll("textarea");var R=g.querySelectorAll("select");var K=Array.prototype.slice.call(F).concat(Array.prototype.slice.call(U)).concat(Array.prototype.slice.call(R));for(var D=0;D<K.length;D++){if(K[D]){K[D].addEventListener("keydown",function(X){X.stopPropagation()})}}S.addEventListener("click",function(X){X.preventDefault();var ac={containerId:l,listId:N.listId};var ad=g.querySelectorAll("input[type='text']");var ag=g.querySelectorAll("textarea");var ab=g.querySelectorAll("input[type='checkbox']:not(.booleancheckbox)");var aa=g.querySelectorAll("input[type='checkbox'].booleancheckbox");var ae=g.querySelectorAll("input[type='radio']");var af=g.querySelectorAll("select");var ak=Array.prototype.slice.call(ad).concat(Array.prototype.slice.call(ag)).concat(Array.prototype.slice.call(af));var aj=Array.prototype.slice.call(ab).concat(Array.prototype.slice.call(ae));ac.values={};var ai=true;var Y="";for(var ah=0;ah<ak.length;ah++){if(ak[ah]){var al=ak[ah].getAttribute("data-name");var an=ak[ah].getAttribute("data-required");if(al){ac.values[al]=ak[ah].value}if(an==="true"){if(!ak[ah].value){ai=false;Y="Please fill out all required fields";ak[ah].classList.add("invalid")}else{ak[ah].classList.remove("invalid")}}if(al&&al.indexOf("email")>-1){var am=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!am.test(ak[ah].value)){ai=false;Y="Please enter valid email address";ak[ah].classList.add("invalid")}else{ak[ah].classList.remove("invalid")}}}}for(var ah=0;ah<aj.length;ah++){if(aj[ah]){var al=aj[ah].getAttribute("data-name");if(al&&aj[ah].checked){ac.values[al]=ac.values[al]?ac.values[al]+","+aj[ah].value:aj[ah].value}}}for(var ah=0;ah<aa.length;ah++){if(aa[ah]){var an=aa[ah].getAttribute("data-required");var al=aa[ah].getAttribute("data-name");if(al){ac.values[al]=aa[ah].checked}if(an==="true"){if(!aa[ah].checked){ai=false;Y="Please fill out all required fields";aa[ah].classList.add("invalid")}else{aa[ah].classList.remove("invalid")}}}}n.formData=ac;if(ai){h.classList.remove("with-error-msg");A.onSkinEvent("emailgate.submit",n);var Z=new Date();Z.setDate(Z.getDate()+30);cincopa.setCookie("cp_leadgen_"+N.listId+"="+W+"; path=/; expires="+Z.toGMTString());cincopa.emailgate.skip(A)}else{h.querySelector(".error-message").innerHTML=Y;h.classList.add("with-error-msg")}return false},false);var b=o.getElementById(A.loaderParams._object);if(b){b.classList.add("cp_form_opened");b.classList.add("cp_form_opened_transition")}var q=document.createEvent("CustomEvent");q.initCustomEvent("resize",true,true);window.dispatchEvent(q)}},"emailgate.show",0);cincopa.registerEvent(function(c,b,d){cincopa.emailgate.skip(d)},"emailgate.skip",0);cincopa.registerEvent(function(c,b,d){cincopa.emailgate.hide(d)},"emailgate.hide",0);cincopa.registerEvent(function(c,b,g){var n="";if(cincopa.location_blocked){n="&setref="+encodeURIComponent(cincopa.location)}try{var k="";try{if(b.formData.listId==""){k+="listid-is-null "}if(g.acc&&g.acc.user&&g.acc.user.integration&&g.acc.user.integration.hubspot&&g.acc.user.integration.hubspot=="active"){k+="hubspot-active ";var h=cincopa.inBetween(document.cookie,"hubspotutk=",";");if(!h){k+="hubspot-pixel-missing "}else{k+="hubspot-pixel-found "}}}catch(d){k+="exception "+d}var m={values:b.formData.values,fid:g.args.fid,uid:g.uid,rid:b.item.rid,mediatitle:b.item.title,hmid:cincopa.cp_media_hm[b.uid][b.item.rid]["hmid"],notes:k};cincopa.send_beacon("https://www.cincopa.com/media-platform/emailgate_ajax.aspx?j="+encodeURIComponent(cincopa.json_stringify(m))+n)}catch(d){}cincopa.logFeature("email-submit",b.uid);var e=new Date();e.setDate(e.getDate()+1000);cincopa.setCookie("cp_ud="+btoa(JSON.stringify(b.formData.values))+"; expires="+e.toGMTString()+"; path=/");if(b.formData.listId!=""){var q=cincopa._ROOT_LOADER.replace("/runtime","")+"email_integration_ajax.aspx";var l={http_method:"GET",cmd:"addmember",uid:g.uid,listid:b.formData.listId,company:"n/a",mediarid:b.item.rid,mediatitle:b.item.title};for(var e in b.formData.values){l[e]=b.formData.values[e]}if(true){Ajax(q,l,function(u){})}else{}}var o={};o.ckid=cincopa.cp_media_sessionid;o.uid=b.uid;o.rid=templastrid;o.hmid=cincopa.cp_media_hm[o.uid][o.rid]["hmid"];o.ud={name:((b.formData.values.first==null?"":b.formData.values.first)+" "+(b.formData.values.last==null?"":b.formData.values.last)).trim(),email:(b.formData.values.email==null?"":b.formData.values.email)};o.evt={t:"u",s:"eg",p:cincopa.cp_media_hm[o.uid][o.rid]["lastpos"]};if(cincopa.disable_analytics){cincopa.trace("NOT SENDING "+cincopa.json_stringify(o))}else{var n="";if(cincopa.location_blocked){n="&setref="+encodeURIComponent(cincopa.location)}cincopa.trace(cincopa.json_stringify(o));cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/ohm.aspx?j="+encodeURIComponent(cincopa.json_stringify(o))+n)}},"emailgate.submit",0);cincopa.registerEvent("cincopa.cp_evt_gaevent","runtime.*",0);cincopa.registerEvent("cincopa.cp_evt_gaevent","skin.*",0);cincopa.registerEvent("cincopa.cp_evt_gaevent","video.*",0);cincopa.registerEvent("cincopa.cp_evt_gaevent","audio.*",0);cincopa.cp_evt_gaevent=function(v,h,n){if(v=="runtime.internal-on-args"){try{if(n.args.override_analytics_load){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid="+n.args.override_analytics_load.uid+"&fid="+n.args.override_analytics_load.fid+"&setref="+encodeURIComponent(n.args.override_analytics_load.setref))}else{if(n.loaderParams._fid.indexOf("!")==-1){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid="+n.args.cmapath.replace("%2F","&fid=")+"&setref="+encodeURIComponent(cincopa.location))}else{if(n.args.liveid){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid="+n.args.cmapath.replace("%2F","&fid=")+"&setref="+encodeURIComponent(cincopa.location))}}}}catch(m){}if(n.args.vast&&n.args.vast!=""){cincopa.logFeature("vast")}if(n.args.allow_lightbox&&n.args.allow_lightbox!="no"){n.args.iframe=false}if((n.args.prepostroll=="true"||n.args.prepostroll==true)&&n.args.prerollAssetID&&n.args.prerollAssetID!=""){if(n.args.extra_assets){n.args.extra_assets+=","+n.args.prerollAssetID}else{n.args.extra_assets=n.args.prerollAssetID}if(n.args.prepostroll==true){cincopa.logFeature("preroll2-hm")}cincopa.logFeature("preroll2")}if((n.args.prepostroll=="true"||n.args.prepostroll==true)&&n.args.postrollAssetID&&n.args.postrollAssetID!=""){if(n.args.extra_assets){n.args.extra_assets+=","+n.args.postrollAssetID}else{n.args.extra_assets=n.args.postrollAssetID}if(n.args.prepostroll==true){cincopa.logFeature("postroll2-hm")}cincopa.logFeature("postroll2")}try{if(!cincopa.disable_analytics){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=rtskins&fid=skin-"+n.args.template+"&ttl=192&setref="+encodeURIComponent(cincopa.location.replace("?","@").replace("#","@")))}}catch(m){}}else{if(v=="runtime.on-media-json"){n.pushEventToGA("gallery.view");if(true){var y=function(d){r="";s="H:M:S".split(":");a=d.split(":");while(p=a.pop()){r=p+s.pop()+r}return"PT"+r};for(var q=0;q<n.MediaJSON.items.length;q++){if(n.MediaJSON.items[q].content_type=="image/jpeg"&&n.MediaJSON.items[q]["versions"]["jpg_600x450"]){if(true){var u={"@context":"http://schema.org/","@type":"ImageObject"};u["@id"]=n.MediaJSON.items[q].rid;u.name=n.MediaJSON.items[q].title.replace(/_|-|\\. /g," ");u.caption=n.MediaJSON.items[q].title.replace(/_|-|\\. /g," ");u.description=n.MediaJSON.items[q].description+".";u.thumbnailUrl=n.MediaJSON.items[q]["versions"]["jpg_600x450"].url;u.contentUrl=n.MediaJSON.items[q]["versions"]["jpg_1200x900"].url;u.uploadDate=n.MediaJSON.items[q].modified;var c=cincopa.json_stringify(u);var w=document.createElement("script");w.setAttribute("id","cpjsonld"+n.MediaJSON.items[q].rid);w.setAttribute("type","application/ld+json");try{w.appendChild(document.createTextNode(c))}catch(l){s.text=c}var o=document.getElementsByTagName("head").item(0);o.appendChild(w)}}else{if(n.MediaJSON.items[q].content_type=="video/mp4"&&n.MediaJSON.items[q]["versions"]["jpg_600x450"]){var u={"@context":"http://schema.org/","@type":"VideoObject"};u["@id"]=n.MediaJSON.items[q].rid;u.duration=y(n.MediaJSON.items[q].duration);u.name=n.MediaJSON.items[q].title.replace(/_|-|\\. /g," ");u.description=n.MediaJSON.items[q].description+".";u.thumbnailUrl=n.MediaJSON.items[q]["versions"]["jpg_600x450"].url;if(n.MediaJSON.items[q]["versions"]["mp4_hd"]){u.contentUrl=n.MediaJSON.items[q]["versions"]["mp4_hd"].url}u.uploadDate=n.MediaJSON.items[q].modified;var c=cincopa.json_stringify(u);var w=document.createElement("script");w.setAttribute("id","cpjsonld"+n.MediaJSON.items[q].rid);w.setAttribute("type","application/ld+json");try{w.appendChild(document.createTextNode(c))}catch(l){s.text=c}var o=document.getElementsByTagName("head").item(0);o.appendChild(w);try{for(var x=0;x<n.MediaJSON.items[q].extra_files.length;x++){if(n.MediaJSON.items[q].extra_files[x].type.startsWith("subtitle-")){cincopa.logFeature(n.MediaJSON.items[q].extra_files[x].type);var b=new XMLHttpRequest();b.rid=n.MediaJSON.items[q].rid;b.open("GET",n.MediaJSON.items[q].extra_files[x].url);b.onreadystatechange=function(){function d(e){function A(C){return C.replace(/^\s+|\s+$/g,"")}srt=e.replace(/\r\n|\r|\n/g,"\n");srt=A(srt);var z=srt.split("\n\n");var B="";for(s in z){if(typeof z[s]=="string"){st=z[s].trim().split("\n")}if(st.length>=2){t=st[2];if(st.length>2){for(j=3;j<st.length;j++){t+=" "+st[j]}}B+=t+",\n "}}return B}if(this.readyState===4){txt=d(this.responseText);jsonldx=document.getElementById("cpjsonld"+this.rid);u=cincopa.json_parse(jsonldx.innerHTML);if(u.transcript){u.transcript+="\n\n "+txt}else{u.transcript=txt}jsonldx.innerHTML=cincopa.json_stringify(u)}};b.send()}}}catch(l){}}}}}}else{if((v=="video.play"||v=="audio.play")&&h.item&&h.second==0){n.pushEventToGA(v+" "+h.item.title+" ("+h.item.rid+")")}else{if((v=="video.timeupdate"||v=="audio.timeupdate")&&h.item&&h.item.duration){var k=h.item.duration.split(":");var g=0;for(var q=1;k.length-q>=0;q++){g+=(parseInt(k[k.length-q].split(".")[0])*(Math.pow(60,q-1)))}if(Math.round(g/4)==h.second){n.pushEventToGA(v.split(".")[0]+".play 25% "+h.item.title+" ("+h.item.rid+")")}else{if(Math.round(g/2)==h.second){n.pushEventToGA(v.split(".")[0]+".play 50% "+h.item.title+" ("+h.item.rid+")")}else{if(Math.round(g/4*3)==h.second){n.pushEventToGA(v.split(".")[0]+".play 75% "+h.item.title+" ("+h.item.rid+")")}}}}else{if(v=="video.ended"||v=="audio.ended"){n.pushEventToGA(v.split(".")[0]+".play 100% "+h.item.title+" ("+h.item.rid+")")}}}}}if(v=="runtime.on-media-json"){if(n.args.prerollAssetID&&n.args.prerollAssetID!=""){n.args.prerollVideoUrl=n.MediaJSON.extra[0].content_url;if(n.args.postrollAssetID&&n.args.postrollAssetID!=""){n.args.postrollVideoUrl=n.MediaJSON.extra[1].content_url}}else{if(n.args.postrollAssetID&&n.args.postrollAssetID!=""){n.args.postrollVideoUrl=n.MediaJSON.extra[0].content_url}}}};try{if(parent.window.cp_library_onload){parent.window.cp_library_onload()}}catch(ex){}cincopa.cp_media_sessionid=cincopa.cp_media_sessionid||cincopa.inBetween(document.cookie,"cp_sessionid=",";");if(cincopa.cp_media_sessionid==null){cincopa.cp_media_sessionid=Math.random().toString().substring(2);cincopa.setCookie("cp_sessionid="+cincopa.cp_media_sessionid+"; path=/; max-age=157680000")}cincopa.cp_media_hm=cincopa.cp_media_hm||{};cincopa.cp_media_next_commit=null;cincopa.registerEvent("cincopa.cp_evt_media_hm","video.*",0);cincopa.cp_hmsToSecondsOnly=function(e){if(!e){return""}var c=e.split(":"),d=0,b=1;while(c.length>0){d+=b*parseInt(c.pop(),10);b*=60}return d+(e.indexOf(".")>-1?1:0)};var templastrid="";cincopa.cp_evt_media_hm=function(m,c,h){if(c.item.liveid||h.args.skin_code=="/bgvideo/1"){return}var k=function(){h.init_video_play_stats(c);templastrid=c.item.rid};if(m=="video.load"){k();cincopa.cp_update_and_send_stats("send_init");cincopa.trace("cp_evt_media_hm INIT")}else{if((m=="video.timeupdate"&&c.second>0)||(m=="video.play"&&c.second==0)){k();cincopa.cp_media_hm[c.uid][c.item.rid]["commit"]=false;cincopa.cp_media_hm[c.uid][c.item.rid]["hm"][c.second]=(isNaN(cincopa.cp_media_hm[c.uid][c.item.rid]["hm"][c.second])?0:cincopa.cp_media_hm[c.uid][c.item.rid]["hm"][c.second])+1;cincopa.cp_media_hm[c.uid][c.item.rid]["lastpos"]=c.second;var o=(m=="video.play"||(cincopa.cp_media_next_commit!=null&&cincopa.cp_media_next_commit<(new Date())));cincopa.cp_update_and_send_stats(o?"send":"update");if(o){cincopa.cp_media_next_commit=null}if(cincopa.cp_media_next_commit==null){cincopa.cp_media_next_commit=new Date();var n=5;try{n+=cincopa.cp_media_hm[c.uid][c.item.rid]["dur"]/400}catch(e){}cincopa.cp_media_next_commit.setSeconds(cincopa.cp_media_next_commit.getSeconds()+n)}}else{if(m=="video.ended"||m=="video.pause"){cincopa.cp_update_and_send_stats("send");cincopa.cp_media_next_commit=null}}}if(m=="video.timeupdate"&&(cincopa.analytics_persistent.mode=="cookie"||cincopa.analytics_persistent.mode=="localstorage")){cincopa.cp_media_hm.persist_cookie=5;var g=new Date();g.setDate(g.getDate()+5);var b=cincopa.cp_media_hm[c.uid][c.item.rid];b={hmrange:b.hmrange,lastpos:b.lastpos};if(cincopa.analytics_persistent.mode=="cookie"){cincopa.setCookie("cphmps_"+c.uid+"_"+c.item.rid+"="+btoa(JSON.stringify(b))+"; expires="+g.toGMTString()+"; path=/")}else{var l="cphmps_"+c.uid+"_"+c.item.rid;var q=btoa(JSON.stringify(b));localStorage.setItem(l,q)}}};cincopa.cp_update_and_send_stats=function(l){for(uid in cincopa.cp_media_hm){for(rid in cincopa.cp_media_hm[uid]){if(cincopa.cp_media_hm[uid][rid]["commit"]){continue}var k={};k.ckid=cincopa.cp_media_sessionid;k.uid=uid;k.hmid=cincopa.cp_media_hm[uid][rid]["hmid"];k.rid=rid;cincopa.cp_media_hm[uid][rid].totaluniqueseconds=0;if(l!="send_init"){var e=-2;var h=-2;var g=0;var d="";for(sec in cincopa.cp_media_hm[uid][rid]["hm"]){sec=parseInt(sec);if(isNaN(sec)){continue}cincopa.cp_media_hm[uid][rid].totaluniqueseconds++;if(g!=cincopa.cp_media_hm[uid][rid]["hm"][sec]){if(e>-2){if(h!=e){d+="-"+e}if(g>1){d+=":"+g}}d+=(e>-2?",":"")+sec;h=sec}else{if(e+1<sec){if(h!=e){d+="-"+e}if(g>1){d+=":"+g}d+=(e>-2?",":"")+sec;h=sec}}e=sec;g=cincopa.cp_media_hm[uid][rid]["hm"][sec]}if(cincopa.cp_media_hm[uid][rid].totaluniqueseconds>0){if(h!=e){d+="-"+e}if(g>1){d+=":"+g}cincopa.cp_media_hm[uid][rid].hmrange=d;k.hm=d;k.prg=cincopa.cp_media_hm[uid][rid].totaluniqueseconds}}if(l=="send_init"||l=="send"){if(!cincopa.cp_media_hm[uid][rid]["firstsend"]&&cincopa.cp_media_hm[uid][rid].totaluniqueseconds>0){k.name=cincopa.cp_media_hm[uid][rid]["cap"];k.dur=cincopa.cp_media_hm[uid][rid]["dur"];if(cincopa.qs&&cincopa.qs.cpud){try{k.ud=cincopa.json_parse(cincopa.qs.cpud)}catch(c){}}else{if(cincopa.qs&&cincopa.qs.cpeud){try{k.ud=cincopa.json_parse(atob(cincopa.qs.cpeud))}catch(c){}}else{if(cincopa.qs&&(cincopa.qs.cpudemail||cincopa.qs.cpudname||cincopa.qs.cpudaccid)){k.ud={};if(cincopa.qs.cpudemail){k.ud.email=cincopa.qs.cpudemail}if(cincopa.qs.cpudname){k.ud.name=cincopa.qs.cpudname}if(cincopa.qs.cpudaccid){k.ud.acc_id=cincopa.qs.cpudaccid}}else{if(cincopa.hash&&(cincopa.hash.cpudemail||cincopa.hash.cpudname||cincopa.hash.cpudaccid)){k.ud={};if(cincopa.hash.cpudemail){k.ud.email=cincopa.hash.cpudemail}if(cincopa.hash.cpudname){k.ud.name=cincopa.hash.cpudname}if(cincopa.hash.cpudaccid){k.ud.acc_id=cincopa.hash.cpudaccid}}else{if(cincopa.analytics){k.ud=cincopa.analytics}}}}}cincopa.cp_media_hm[uid][rid]["firstsend"]=true}if(cincopa.disable_analytics){cincopa.trace("NOT SENDING "+cincopa.json_stringify(k))}else{var b=cincopa._ROOT_ANALYTICS+"/ohm.aspx?";if(cincopa.hash.cpcallback||cincopa.analytics_callback!=""){b+="h=d&"}b+="j="+encodeURIComponent(cincopa.json_stringify(k));if(cincopa.location_blocked){b+="&setref="+encodeURIComponent(cincopa.location)}cincopa.trace(cincopa.json_stringify(k));cincopa.send_beacon(b);cincopa.cp_media_hm[uid][rid]["commit"]=true}}}}};cincopa.registerEvent(function(eventName,data,gallery){if(data.item.timeline){eval("var timeLineObj = "+cincopa.decodeXml(data.item.timeline));if(typeof timeLineObj.annotation!="undefined"){var annotationArray=cincopa.orderByTime(timeLineObj.annotation)?cincopa.orderByTime(timeLineObj.annotation):[];for(var a in annotationArray){for(var ind=0;ind<annotationArray[a].value.length;ind++){var annotation={index:ind,time:annotationArray[a].time,value:annotationArray[a].value[ind]};data.annotation=annotation;var elem=gallery.detectIframeDocument().getElementById("ze-annotation_"+gallery.loaderParams._object+"_"+annotationArray[a].time+"_"+ind);if(cincopa.cp_hmsToSecondsOnly(annotationArray[a].time)<=data.second&&cincopa.cp_hmsToSecondsOnly(annotationArray[a].value[ind].end)>=data.second){if(elem==null&&!annotationArray[a].value[ind].skipped&&annotationArray[a].value[ind].type!="timeline"){gallery.onSkinEvent("annotation.show",data)}}else{if(elem!=null){gallery.onSkinEvent("annotation.hide",data)}}}}}if(typeof timeLineObj.calltoaction!="undefined"){var cta=cincopa.orderByTime(timeLineObj.calltoaction);for(var ind=0;ind<cta.length;ind++){var time=cta[ind].time=="preroll"||cta[ind].time=="postroll"?cta[ind].time:cincopa.cp_hmsToSecondsOnly(cta[ind].time);if(time==data.second){data.overlay={link:cta[ind].value.link,text:cta[ind].value.desc,time:cta[ind].time,image:cta[ind].value.type==="image"?cta[ind].value.image:""};if(cta[ind].value.enabled!==false&&(cta[ind].value.desc||cta[ind].value.image)){try{gallery.skin.player.$media[0].pause()}catch(ex){}gallery.onSkinEvent("cta.show",data)}break}}}}},"video.timeupdate",0);cincopa.registerEvent(function(eventName,data,gallery){var ctaShowed=false;if(data.item.timeline){eval("var timeLineObj = "+cincopa.decodeXml(data.item.timeline));if(typeof timeLineObj.calltoaction!="undefined"){var cta=cincopa.orderByTime(timeLineObj.calltoaction);for(var ind=0;ind<cta.length;ind++){if(cta[ind].time=="postroll"){data.overlay={link:cta[ind].value.link,text:cta[ind].value.desc,time:cta[ind].time,image:cta[ind].value.type==="image"?cta[ind].value.image:""};data.second="postroll";if(cta[ind].value.enabled!==false&&(cta[ind].value.desc||cta[ind].value.image)){gallery.onSkinEvent("cta.show",data);ctaShowed=true}break}}}}gallery.ctaShowed=ctaShowed},"video.ended",0);cincopa.registerEvent(function(eventName,data,gallery){if(data.item.timeline){gallery.onSkinEvent("chapter.show",data);data.annotation={type:"timeline"};gallery.onSkinEvent("annotation.show",data);eval("var timeLineObj = "+cincopa.decodeXml(data.item.timeline));if(typeof timeLineObj.calltoaction!="undefined"){var cta=cincopa.orderByTime(timeLineObj.calltoaction);for(var ind=0;ind<cta.length;ind++){if(cta[ind].time=="preroll"){data.overlay={link:cta[ind].value.link,text:cta[ind].value.desc,time:cta[ind].time,image:cta[ind].value.type==="image"?cta[ind].value.image:""};if(cta[ind].value.enabled!==false&&(cta[ind].value.desc||cta[ind].value.image)){gallery.onSkinEvent("cta.show",data);gallery.args.autostart=false}break}}}if(typeof timeLineObj.video_thumbnail!="undefined"){cincopa.logFeature("video_thumbnail")}if(typeof timeLineObj.start_end!="undefined"){cincopa.logFeature("video_trimming")}if(typeof timeLineObj.chapter!="undefined"){cincopa.logFeature("video_chapter")}if(typeof timeLineObj.calltoaction!="undefined"){cincopa.logFeature("video_cta")}if(typeof timeLineObj.annotation!="undefined"){cincopa.logFeature("annotation")}}},"video.load",0);cincopa.registerEvent(function(g,d,h){var b=h.detectIframeDocument().getElementById("ze_annotation_placeholder_"+h.loaderParams._object+"_"+h.skin.player.id);if(b){b.innerHTML=""}if(h.skin.player){var k;var c=h.skin.player.controls[0];if(c){k=typeof c.getElementsByClassName("mejs-time-rail")!="undefined"?c.getElementsByClassName("mejs-time-rail")[0]:"";if(k){var e=k.getElementsByClassName("tl_annotation_section");if(e){while(e[0]){e[0].parentNode.removeChild(e[0])}}}}h.onSkinEvent("chapter.hide",d)}},"video.unload",0);cincopa.registerEvent(function(k,h,l){var g="ze_htmloverlay_placeholder_"+l.loaderParams._object+"_"+l.skin.player.id;var c=l.detectIframeDocument().getElementById(g);if(!c){return}l.onSkinEvent("cta.hide",h);var b=document.createElement("a");b.innerHTML="X";b.className="ze_overlay_close_btn ze_overlay_close_cta";c.appendChild(b);b.onclick=function(){l.onSkinEvent("cta.skip",h)};c.setAttribute("data-time",h.overlay.time);var d=document.createElement("div");d.className="ze_overlay_container_div";if(h.overlay.image){d.classList.add("ze_cta_image")}var e=document.createElement("div");e.className="ze_overlay_container_div_content";var m=document.createElement("div");m.className="ze_cta_cont";var n=document.createElement("p");n.id="ze_cta_text";n.innerHTML="";var o=document.createElement("div");var v,u;if(h.overlay.image){o.innerHTML="<img src='"+h.overlay.image+"'>";v=o.childNodes;u=Object.assign([],v)}else{o.innerHTML=h.overlay.text.trim();v=o.childNodes;u=Object.assign([],v)}for(var q=0;q<u.length;q++){if(u[q].tagName&&u[q].tagName.toLowerCase()=="script"){var w=document.createElement("script");if(u[q].src){w.src=u[q].src}else{w.innerHTML=u[q].innerText}l.detectIframeDocument().head.appendChild(w)}else{n.appendChild(u[q])}}if(h.overlay.link){n.onclick=function(){window.open(h.overlay.link,"_blank");h.skipAction="linkclick";l.onSkinEvent("cta.skip",h)}}m.appendChild(n);e.appendChild(m);d.appendChild(e);c.style.display="block";c.appendChild(d)},"cta.show",0);cincopa.registerEvent(function(d,c,e){var b=e.detectIframeDocument().getElementById("ze_htmloverlay_placeholder_"+e.loaderParams._object+"_"+e.skin.player.id);if(b){b.innerHTML="";b.style.display="none"}},"cta.hide",0);cincopa.registerEvent(function(eventName,data,gallery){var elem=gallery.detectIframeDocument().getElementById("ze_htmloverlay_placeholder_"+gallery.loaderParams._object+"_"+gallery.skin.player.id);var time=elem.getAttribute("data-time");if(data.skipAction=="linkclick"||time=="preroll"){if(data.item.timeline){eval("var timeLineObj = "+cincopa.decodeXml(data.item.timeline));if(typeof timeLineObj.calltoaction!="undefined"&&typeof timeLineObj.calltoaction[time]!="undefined"){delete timeLineObj.calltoaction[time]}data.item.timeline=cincopa.json_stringify(timeLineObj)}}gallery.onSkinEvent("cta.hide",data);if(typeof gallery.skin.do_play=="function"){gallery.skin.do_play(data)}},"cta.skip",0);cincopa.registerEvent(function(eventName,data,gallery){var container=gallery.detectIframeDocument().getElementById("ze_annotation_placeholder_"+gallery.loaderParams._object+"_"+gallery.skin.player.id);if(!container){return}if(data.annotation.type=="timeline"){if(gallery.skin.player){var timeRial,timeRialwidth;var controls=gallery.skin.player.controls[0];if(controls){timeRial=typeof controls.getElementsByClassName("mejs-time-rail")!="undefined"?controls.getElementsByClassName("mejs-time-rail")[0]:"";if(timeRial){var timeTotal=typeof timeRial.getElementsByClassName("mejs-time-total")!="undefined"?timeRial.getElementsByClassName("mejs-time-total")[0]:"";if(timeTotal){timeRialwidth=timeTotal.offsetWidth}}}if(timeRial&&timeRialwidth){eval("var timeLineObj = "+cincopa.decodeXml(data.item.timeline));if(typeof timeLineObj.annotation!="undefined"){var annotationArray=cincopa.orderByTime(timeLineObj.annotation)?cincopa.orderByTime(timeLineObj.annotation):[];for(var a in annotationArray){for(var ind=0;ind<annotationArray[a].value.length;ind++){if(annotationArray[a].value[ind].type!="timeline"){continue}var time=annotationArray[a].time;var bgColor=annotationArray[a].value[ind].bgcolor.replace("0x","#");var color=annotationArray[a].value[ind].color.replace("0x","#");var fontSize=annotationArray[a].value[ind].font;var fontStyle=annotationArray[a].value[ind].fontStyle;var duration=cincopa.cp_hmsToSecondsOnly(data.item.duration)||gallery.skin.player.media.duration;var width=gallery.skin.player.media.width*parseInt(annotationArray[a].value[ind].width)/100;var height=gallery.skin.player.media.height*parseInt(annotationArray[a].value[ind].height)/100;var timePxSize=timeRialwidth/duration;var text=annotationArray[a].value[ind].desc;var tlClick="",tlIcon;if(annotationArray[a].value[ind].link){var link=annotationArray[a].value[ind].link;var blank=annotationArray[a].value[ind].blank?"_blank":"_self";tlClick="window.open('"+link+"','"+blank+"')";tlIcon=document.createElement("i");tlIcon.className="ze-annotation-icon"}var sectionLeft=parseInt(cincopa.cp_hmsToSecondsOnly(time))*timePxSize;var sectionInfo=document.createElement("div");sectionInfo.className="ze_tl_annotation_title";sectionInfo.style.fontSize=fontSize;sectionInfo.innerHTML=text;if(fontStyle=="shadow"){sectionInfo.style.fontWeight="bold"}else{if(fontStyle=="shadow"){sectionInfo.style.fontWeight="bold";sectionInfo.style.textShadow="1px 1px 3px rgba(0,0,0,0.6)"}else{if(fontStyle=="italic"){sectionInfo.style.fontStyle="italic"}else{if(fontStyle=="underline"){sectionInfo.style.textDecoration="underline"}}}}var tlSection=document.createElement("div");tlSection.className="tl_annotation_section";tlSection.style.backgroundColor=bgColor;tlSection.style.left=sectionLeft+"px";tlSection.setAttribute("data-time",time);var tlSectionInner=document.createElement("div");tlSectionInner.className="tl_section_annotation_info";tlSectionInner.style.backgroundColor=bgColor;tlSectionInner.style.color=color;tlSectionInner.style.width=width+"px";tlSectionInner.style.height=height+"px";tlSectionInner.appendChild(sectionInfo);if(tlIcon){tlSectionInner.appendChild(tlIcon)}if(tlClick){tlSection.setAttribute("onclick",tlClick)}tlSection.appendChild(tlSectionInner);timeRial.insertBefore(tlSection,timeRial.firstChild)}}}}return}}var containerDiv=document.createElement("div");containerDiv.className="ze-annotation ze-annotation-"+data.annotation.value.type+" ";containerDiv.id="ze-annotation_"+gallery.loaderParams._object+"_"+data.annotation.time+"_"+data.annotation.index;var containerDivContent=document.createElement("div");containerDivContent.className="ze-annotation-text ";if(data.annotation.value.type!="spotlight"){containerDivContent.innerHTML=data.annotation.value.desc}if(data.annotation.value.type==="title"){containerDiv.style.backgroundColor=data.annotation.value.bgcolor.replace("0x","#")}containerDiv.style.top=data.annotation.value.top+"%";containerDiv.style.left=data.annotation.value.left+"%";containerDiv.style.width=data.annotation.value.width+"%";containerDiv.style.height=data.annotation.value.height+"%";containerDiv.style.color=data.annotation.value.color.replace("0x","#");containerDiv.style.fontSize=data.annotation.value.font;if(data.annotation.value.type=="label"){containerDiv.className+="ze-annotation-label-off";containerDiv.onmouseover=function(){this.className=this.className.replace("ze-annotation-label-off","")};containerDiv.onmouseout=function(){if(this.className.indexOf("ze-annotation-label-off")==-1){this.className+="ze-annotation-label-off"}};if(data.annotation.value.bgcolor){containerDiv.style.borderColor=data.annotation.value.bgcolor.replace("0x","#");containerDivContent.style.backgroundColor=data.annotation.value.bgcolor.replace("0x","#")}}else{if(data.annotation.value.type=="note"){var opacityDiv=document.createElement("div");opacityDiv.className="ze-annotation-opacity";if(data.annotation.value.bgcolor){containerDiv.style.borderColor=data.annotation.value.bgcolor.replace("0x","#");opacityDiv.style.backgroundColor=data.annotation.value.bgcolor.replace("0x","#")}containerDiv.appendChild(opacityDiv)}else{if(data.annotation.value.type=="spotlight"){if(data.annotation.value.bgcolor){containerDiv.style.borderColor=data.annotation.value.bgcolor.replace("0x","#")}var spotlightTitle=document.createElement("div");spotlightTitle.className="ze-annotation ze-spotlight-title";spotlightTitle.setAttribute("data-connected",data.annotation.time+"_"+data.annotation.index);spotlightTitle.style.top=data.annotation.value.top_sp+"%";spotlightTitle.style.left=data.annotation.value.left_sp+"%";spotlightTitle.style.width=data.annotation.value.width_sp+"%";spotlightTitle.style.height=data.annotation.value.height_sp+"%";spotlightTitle.style.color=data.annotation.value.color.replace("0x","#");spotlightTitle.style.fontSize=data.annotation.value.font;spotlightTitle.style.display="none";var spotlightTitleContent=document.createElement("div");spotlightTitleContent.className="ze-annotation-text";spotlightTitleContent.innerHTML=data.annotation.value.desc;spotlightTitle.appendChild(spotlightTitleContent);container.appendChild(spotlightTitle);containerDiv.onmouseover=function(){spotlightTitle.style.display="block"};containerDiv.onmouseout=function(){spotlightTitle.style.display="none"}}}}var textCont=data.annotation.value.type=="spotlight"?spotlightTitle:containerDivContent;if(data.annotation.value.fontStyle=="bold"){textCont.style.fontWeight="bold"}else{if(data.annotation.value.fontStyle=="shadow"){textCont.style.fontWeight="bold";textCont.style.textShadow="1px 1px 3px rgba(0,0,0,0.6)"}else{if(data.annotation.value.fontStyle=="italic"){textCont.style.fontStyle="italic"}else{if(data.annotation.value.fontStyle=="underline"){textCont.style.textDecoration="underline"}}}}if(data.annotation.value.link){var link=data.annotation.value.link;var blank=data.annotation.value.blank?"_blank":"_self";var annotationLink=document.createElement("i");annotationLink.className="ze-annotation-icon";containerDiv.style.cursor="pointer";containerDiv.onclick=function(){window.open(link,blank)};if(data.annotation.value.tooltip){var tooltip=document.createElement("span");tooltip.className="ze-annotation-tooltip";tooltip.innerHTML=link;if(typeof data.annotation.value.tooltipColor!="undefined"){tooltip.style.color=data.annotation.value.tooltipColor.replace("0x","#")}if(typeof data.annotation.value.tooltipBgColor!="undefined"){tooltip.style.backgroundColor=data.annotation.value.tooltipBgColor.replace("0x","#")}containerDivContent.onmouseover=function(){this.nextSibling.style.display="inline-block"};containerDivContent.onmouseout=function(){this.nextSibling.style.display="none"}}}var closeBtn=document.createElement("a");closeBtn.className="ze-annotation-close";closeBtn.innerHTML="X";closeBtn.id="ze-annotation-close"+gallery.loaderParams._object+"_"+data.annotation.time+"_"+data.annotation.index;closeBtn.onclick=function(e){e.stopPropagation();var splittedId=this.id.split("_");var time=splittedId[splittedId.length-2];var ind=splittedId[splittedId.length-1];var annotation={index:ind,time:time};data.annotation=annotation;gallery.onSkinEvent("annotation.skip",data)};containerDiv.appendChild(containerDivContent);if(tooltip){containerDiv.appendChild(tooltip)}if(annotationLink){containerDiv.appendChild(annotationLink)}containerDiv.appendChild(closeBtn);container.style.display="block";container.appendChild(containerDiv)},"annotation.show",0);cincopa.registerEvent(function(g,c,h){var d=h.detectIframeDocument();var b=d.getElementById("ze_annotation_placeholder_"+h.loaderParams._object+"_"+h.skin.player.id);var e=d.getElementById("ze-annotation_"+h.loaderParams._object+"_"+c.annotation.time+"_"+c.annotation.index);var l=false;if((" "+e.className+" ").indexOf(" ze-annotation-spotlight ")>-1){l=true}if(e){b.removeChild(e)}if(l){var m=b.getElementsByClassName("ze-spotlight-title");if(m){for(var k=0;k<m.length;k++){if(m[k].getAttribute("data-connected")==c.annotation.time+"_"+c.annotation.index){b.removeChild(m[k])}break}}}},"annotation.hide",0);cincopa.registerEvent(function(eventName,data,gallery){var elem=gallery.detectIframeDocument().getElementById("ze-annotation_"+gallery.loaderParams._object+"_"+data.annotation.time+"_"+data.annotation.index);if(data.item.timeline){eval("var timeLineObj = "+cincopa.decodeXml(data.item.timeline));if(typeof timeLineObj.annotation!="undefined"&&typeof timeLineObj.annotation[data.annotation.time]!="undefined"){timeLineObj.annotation[data.annotation.time][data.annotation.index].skipped=true}data.item.timeline=cincopa.json_stringify(timeLineObj)}gallery.onSkinEvent("annotation.hide",data)},"annotation.skip",0);cincopa.registerEvent(function(eventName,data,gallery){if(gallery.skin.player){var timeRial,timeRialwidth;var controls=gallery.skin.player.controls[0];if(controls){var oldClass=controls.className;controls.className="";timeRial=typeof controls.getElementsByClassName("mejs-time-rail")!="undefined"?controls.getElementsByClassName("mejs-time-rail")[0]:"";if(timeRial){var timeTotal=typeof timeRial.getElementsByClassName("mejs-time-total")!="undefined"?timeRial.getElementsByClassName("mejs-time-total")[0]:"";if(timeTotal){timeRialwidth=timeTotal.offsetWidth||timeRial.offsetWidth}}controls.className=oldClass}if(timeRial&&timeRialwidth){eval("var timeLineObj = "+cincopa.decodeXml(data.item.timeline));if(typeof timeLineObj.chapter!="undefined"&&(typeof gallery.args.tl_storyboard=="undefined"||gallery.args.tl_storyboard=="off")&&gallery.args.chapter){var st_url="";if(data.item.versions&&data.item.versions.jpg_sb_200x150){st_url=data.item.versions.jpg_sb_200x150.url}var chaptersArray=cincopa.orderByTime(timeLineObj.chapter)?cincopa.orderByTime(timeLineObj.chapter):[];for(var ind=0;ind<chaptersArray.length;ind++){var time=chaptersArray[ind].time;var title=chaptersArray[ind]["value"].title||"";var desc=chaptersArray[ind]["value"].desc||"";var duration=cincopa.cp_hmsToSecondsOnly(data.item.duration)||gallery.skin.player.media.duration;var timePxSize=timeRialwidth/duration;var sectionLeft=parseInt(cincopa.cp_hmsToSecondsOnly(time))*timePxSize;var chapterInfo=document.createElement("div");chapterInfo.className="ze_tl_chapter_info";var chapterTitle=document.createElement("span");chapterTitle.className="ze_tl_chapter_title";chapterTitle.innerText=title;var chapterDesc=document.createElement("span");chapterDesc.className="ze_tl_chapter_description";chapterDesc.innerText=desc;if(st_url){var chapterThumb=document.createElement("div");chapterThumb.className="ze_tl_chapter_thumb";chapterInfo.appendChild(chapterThumb);chapterThumb.style.backgroundImage="url("+st_url+")";chapterThumb.style.backgroundRepeat="no-repeat";var sb_w=200,sb_h=150;var aspect_ratio=data.item.aspect_ratio?parseFloat(data.item.aspect_ratio):1.33;var diff=0;if(aspect_ratio>1){var chapterThumbH=sb_w/aspect_ratio;diff=(150-chapterThumbH)/2;chapterThumb.style.height=chapterThumbH+"px"}else{var diff=0;var chapterThumbW=parseInt(sb_h*aspect_ratio);chapterThumb.style.height=sb_h+"px"}var row,col;var frameC=duration<=120?1:(duration>120&&duration<=300?2:(duration>300&&duration<=900?5:10));var frameCount=Math.ceil(duration/frameC);var maxOffset=200;var frameWidth=duration/frameCount;var index=Math.floor(cincopa.cp_hmsToSecondsOnly(time)/frameWidth);if(index<10){col=index}else{col=index%10}row=parseInt(index/10);if(aspect_ratio>1){var positionY=-diff+(-row*sb_h);chapterThumb.style.backgroundPositionX=(-col*sb_w)+"px";chapterThumb.style.backgroundPositionY=positionY+"px"}else{var positionX=-diff+(-col*sb_w);chapterThumb.style.backgroundPositionX=positionX+"px";chapterThumb.style.backgroundPositionY=(-row*sb_h)+"px"}}chapterInfo.appendChild(chapterTitle);chapterInfo.appendChild(chapterDesc);var chapterSection=document.createElement("div");chapterSection.className="ze_tl_chapter_section";chapterSection.setAttribute("data-time",time);chapterSection.appendChild(chapterInfo);chapterSection.style.left=sectionLeft*100/timeRialwidth+"%";timeRial.insertBefore(chapterSection,timeRial.firstChild);(function(chapterSection,chapterInfo,timeTotal,time){chapterSection.onmouseover=function(){var chapterInfoWidth=200;var timeRialwidth=timeTotal.offsetWidth;var timePxSize=timeRialwidth/duration;var sectionLeft=parseInt(cincopa.cp_hmsToSecondsOnly(time))*timePxSize;if(timeRialwidth-sectionLeft<chapterInfoWidth){chapterInfo.style.marginLeft=(timeRialwidth-sectionLeft-chapterInfoWidth)+"px"}else{chapterInfo.style.marginLeft=0+"px"}};chapterSection.onclick=function(){if(gallery.playerAPI){gallery.playerAPI.setCurrentTime(parseInt(cincopa.cp_hmsToSecondsOnly(time)))}}})(chapterSection,chapterInfo,timeTotal,time)}}}}},"chapter.show",0);cincopa.registerEvent(function(g,e,h){var c=h.detectIframeDocument().getElementById("ze_annotation_placeholder_"+h.loaderParams._object+"_"+h.skin.player.id);if(c){c.innerHTML=""}if(h.skin.player){var k;var d=h.skin.player.controls[0];if(d){k=typeof d.getElementsByClassName("mejs-time-rail")!="undefined"?d.getElementsByClassName("mejs-time-rail")[0]:"";if(k){var b=k.getElementsByClassName("ze_tl_chapter_section");if(b){while(b[0]){b[0].parentNode.removeChild(b[0])}}}}}},"chapter.hide",0);cincopa.registerEvent(function(c,b,d){d.onSkinEvent("chapter.hide",{});d.onSkinEvent("chapter.show",b);if(d.skin&&typeof d.skin.buildChapters=="function"){d.skin.buildChapters(b.item,d.skin.player)}},"chapter.update",0);cincopa.registerEvent(function(k,d,m){var e=m.detectIframeDocument();var b=e.getElementById(d.containerId||m.loaderParams._object);var v=m.skin.player;var q={fb:{url:"https://www.facebook.com/share.php?u={ADDRESS}",icon:"icon-fb",show:(String(m.args.facebook_share)==="false"?false:true),classPrefix:"fb"},twitter:{url:"https://twitter.com/home?status={ADDRESS}",icon:"icon-twitter",show:(String(m.args.twitter_share)==="false"?false:true),classPrefix:"tw"},linkedin:{url:"https://www.linkedin.com/shareArticle?mini=true&url={ADDRESS}",icon:"icon-linkedin",show:(String(m.args.linkedin_share)==="false"?false:true),classPrefix:"li"},pinterest:{url:"https://pinterest.com/pin/create/button/?url={ADDRESS}",icon:"icon-pinterest",show:(String(m.args.pinterest_share)==="false"?false:true),classPrefix:"pn"},email:{url:"mailto:?subject=Cincopa share&body={ADDRESS} shared from Cincopa https://www.cincopa.com",icon:"icon-email",show:(String(m.args.email_share)==="false"?false:true),classPrefix:"em"},};if(v){var o=v.layers[0];var c=v.controls?v.controls[0]:null;if(!o){return}var F=o.getElementsByClassName("share-layer-wrap");if(F.length>0){F=F[0];var C=F.getElementsByClassName("share-layer");if(C&&C.length>0){C[0].parentNode.removeChild(C[0])}var A=document.createElement("div");A.className="share-layer";A.style.display="block";var z=document.createElement("div");z.className="share-close";var G="";if(m.args.share_url){G=m.args.share_url}else{G=d.share_url}G=(m.args.share_links_to==="specific"&&m.args.share_page_url)?encodeURIComponent(m.args.share_page_url):encodeURIComponent(G);var h="";if(m.args.embed_code){h='<p class="share-title">Embed</p><p class="share-link embed-link">'+(m.args.embed_url?m.args.embed_url.replace(/>/g,"&gt;").replace(/</g,"&lt;"):"")+"</p>"}var H="";for(var w in q){if(!q.hasOwnProperty(w)||!q[w]["show"]){continue}H+='<li class="ze_'+q[w]["classPrefix"]+'"><span class="'+q[w]["classPrefix"]+'-share" onclick="window.open(\''+q[w]["url"].replace("{ADDRESS}",G)+"', '_blank')\"><i class=\""+q[w]["icon"]+'"></i></span></li>'}var B='<div class="share-wrap"><p class="share-title">'+(m.args.share_title?m.args.share_title:"Share")+'</p><p class="share-link">'+decodeURIComponent(G)+'</p><ul class="share-icons">'+H+"</ul>"+h+"</div>";A.innerHTML=B;A.appendChild(z);F.appendChild(A);var y=F.getElementsByClassName("share-button");if(y.length>0){y=y[0];y.style.display="none"}var g=F.getElementsByClassName("download-button");if(g.length>0){g=g[0];g.style.display="none"}var u=o.getElementsByClassName("mejs-overlay-button");if(u.length>0){u=u[0];u.style.display="none"}if(c&&c.className.indexOf("cp-hide")===-1){c.className+=" cp-hide"}if(b.className.indexOf("shareBlockOpened")==-1){b.className+=" shareBlockOpened"}try{if(v.isFullScreen){v.exitFullScreen()}if(y){if(v.$media[0].paused){y.setAttribute("data-paused","true")}else{y.setAttribute("data-paused","false")}}if(v.media.pluginType!="flash"){v.$media[0].pause()}else{v.pause()}}catch(l){}z.onclick=function(){m.onSkinEvent("share.hide",d)};if(typeof m.shareHandleKeyUp=="undefined"){m.shareHandleKeyUp=function(I){if(I.which==27){m.onSkinEvent("share.hide",d)}}}e.removeEventListener("keyup",m.shareHandleKeyUp,true);e.addEventListener("keyup",m.shareHandleKeyUp,true);function x(I){if("undefined"!=typeof window.getSelection&&"undefined"!=typeof e.createRange){var M=e.defaultView||window;var L=e.createRange();L.selectNodeContents(I);var J=M.getSelection();J.removeAllRanges(),J.addRange(L)}else{if("undefined"!=typeof e.selection&&"undefined"!=typeof e.body.createTextRange){var K=e.body.createTextRange();K.moveToElementText(I),K.select()}}}var E=F.getElementsByClassName("share-link");for(var n=0;n<E.length;n++){var D=E[n];D.onclick=function(){x(D)}}}}},"share.show",0);cincopa.registerEvent(function(g,d,k){var b=k.detectIframeDocument().getElementById(d.containerId||k.loaderParams._object);var n=k.skin.player;if(n){var l=n.layers[0];var c=n.controls?n.controls[0]:null;if(!l){return}var u=l.getElementsByClassName("share-layer-wrap");if(u.length>0){u=u[0];var q=u.getElementsByClassName("share-layer");if(q&&q.length>0){q=q[0];q.parentNode.removeChild(q)}var o=u.getElementsByClassName("share-button");if(o.length>0){o=o[0];o.style.display="block";if(o&&o.getAttribute("data-paused")!="true"){try{if(n.media.pluginType!="flash"){n.$media[0].play()}else{n.play()}}catch(h){}}}var e=u.getElementsByClassName("download-button");if(e.length>0){e=e[0];e.style.display="block"}var m=l.getElementsByClassName("mejs-overlay-button");if(m.length>0){m=m[0];m.style.display="block"}if(c&&c.className.indexOf("cp-hide")>-1){c.className=c.className.replace(new RegExp("(?:^|\\s)cp-hide(?:\\s|$)")," ")}setTimeout(function(){if(b&&b.className.indexOf("shareBlockOpened")>-1){b.className=b.className.replace(new RegExp("(?:^|\\s)shareBlockOpened(?:\\s|$)")," ")}},200)}}},"share.hide",0);cincopa.contextMenu=function(g,o,h){if(h&&h.args&&h.args.disable_context_menu){return}var d=h.detectIframeDocument();h.contextMenuTarget=null;var c=d.getElementById("cincopaContextMenus");var q=false,l=false,u=null,n=false;if(c==null){c=d.createElement("div");c.id="cincopaContextMenus",d.body.appendChild(c)}g=cincopa.json_parse(cincopa.json_stringify(g));if(d.getElementById("context"+g)){}else{var b=d.createElement("div");b.id="context"+g;b.className="cp-contextMenu";var v=d.createElement("ul");v.className="cp-contextMenu-dropdown cp-contextMenu-border";for(var k=0;k<o.length;k++){var m=d.createElement("a");if(cincopa.hasTouch()){m.ontouchstart=o[k].callback}else{m.onmousedown=o[k].callback}m.href="javascript:void(0);";m.innerHTML=o[k].title;v.appendChild(m)}b.appendChild(v);if(c!=null){c.appendChild(b)}}var e=d.getElementById(g);if(e!=null){if(!cincopa.hasTouch()){e.addEventListener("contextmenu",function(w){w.preventDefault();w.stopPropagation();l=true;setTimeout(function(){d.getElementById("context"+g).style.display="block";d.getElementById("context"+g).style.left=w.pageX+"px";d.getElementById("context"+g).style.top=w.pageY+"px";h.contextMenuTarget=w.target},70)})}else{e.addEventListener("contextmenu",function(w){w.preventDefault();w.stopPropagation()});e.addEventListener("touchstart",function(w){q=true;u=setTimeout(function(){if(q&&!l){d.getElementById("context"+g).style.display="block";d.getElementById("context"+g).style.left=w.changedTouches[0].pageX+"px";d.getElementById("context"+g).style.top=w.changedTouches[0].pageY+"px";h.contextMenuTarget=w.target;n=true}},1000)});e.addEventListener("touchmove",function(w){clearTimeout(u);q=false});e.addEventListener("touchend",function(w){if(n){w.preventDefault();n=false}clearTimeout(u);q=false})}}if(cincopa.hasTouch()){d.body.addEventListener("touchstart",function(w){if(d.getElementById("context"+g)){setTimeout(function(){d.getElementById("context"+g).style.display="none"},70)}return false},false)}else{d.body.addEventListener("mousedown",function(w){if(d.getElementById("context"+g)){setTimeout(function(){d.getElementById("context"+g).style.display="none"},70)}return false},false)}d.body.addEventListener("focusout",function(w){if(d.getElementById("context"+g)){setTimeout(function(){d.getElementById("context"+g).style.display="none"},70)}})};cincopa.registerEvent(function(g,d,h){var e=d.div_id;var n=true,m=true,l=false;var b="",c="",q="About Cincopa",u="//www.cincopa.com/?afc=rc",o=false;if(h.acc&&h.acc.user){u+=","+h.acc.user.plan_name.substring(0,2)}if(h.args.allow_change_about_cincopa_text&&h.args.allow_change_about_cincopa_text!="Powered by Cincopa"&&h.args.allow_change_about_cincopa_text!="About Cincopa"){b=h.args.allow_change_about_cincopa_text}if(h.args.allow_change_about_cincopa_url&&h.args.allow_change_about_cincopa_url!="//www.cincopa.com"){c=h.args.allow_change_about_cincopa_url}if(h.acc&&h.acc.user&&h.acc.user.features&&h.acc.user.features["skin-hide-right-click-about-cincopa"]&&h.acc.user.features["skin-hide-right-click-about-cincopa"].value=="true"){n=false}if(h.args.right_click=="download"||h.args.right_click_download==true){o=true}if(h.args.right_click_report){m=true}if(h.args.right_click_copy_embed){l=true}m=true;var k=[];if(b){k.push({title:b,callback:function(){window.open(c,"_blank")}})}if(l){k.push({title:"Copy link and thumbnail",callback:function(){h.copyLinkAndThumb(h)}})}if(o){k.push({title:"Download",callback:function(){var v="";if(typeof d.rcd_cb=="function"){v=d.rcd_cb(h.contextMenuTarget)}if(v){window.open(v,"_self")}}})}if(m){k.push({title:"Report a problem",callback:function(){h.reportProblem(e)}})}if(n){k.push({title:q,callback:function(){window.open(u,"_blank")}})}cincopa.contextMenu(e,k,h)},"context_menu.init",0);cincopa.registerEvent(function(l,k,m){var q=k.type;if(!q||q=="off"){return}var b=m.detectIframeDocument().getElementById(m.loaderParams._object);var n=m.detectIframeDocument().getElementById("big-video-wrap_"+m.loaderParams._object)!==null;if(n){b=m.detectIframeDocument().getElementById("big-video-wrap_"+m.loaderParams._object)}var o=window.getComputedStyle(b).getPropertyValue("position");if(o!="fixed"&&o!="absolute"){b.style.position="relative"}var c;if(q=="button"){c=document.createElement("div");c.className="ze_overlay_button ze_overlay";var h=document.createElement("div");h.className="ze_overlay_button_inner";h.style.color="#"+m.args.overlay_button_text_color;var e=document.createElement("span");e.className="ze_overlay_button_title";e.innerHTML=m.args.overlay_button_title;var d=document.createElement("a");d.innerHTML=m.args.overlay_button_text;d.style.backgroundColor="#"+m.args.overlay_button_color;d.className="ze_overlay_button_button";d.onclick=function(){if(m.args.overlay_link){window.open(m.args.overlay_link,m.args.overlay_target?"_blank":"_self")}};h.appendChild(e);h.appendChild(d);c.appendChild(h)}else{if(q=="watermark"){c=document.createElement("div");c.className="ze_overlay_watermark ze_overlay";var g=document.createElement("img");g.src=m.args.overlay_watermark_url;c.onclick=function(){if(m.args.overlay_link){window.open(m.args.overlay_link,m.args.overlay_target?"_blank":"_self")}};if(m.args.overlay_watermark_position=="bottom_left"){c.style.left=0;c.style.bottom=0}else{if(m.args.overlay_watermark_position=="bottom_right"){c.style.right=0;c.style.bottom=0}else{if(m.args.overlay_watermark_position=="top_left"){c.style.left=0;c.style.top=0}else{if(m.args.overlay_watermark_position=="top_right"){c.style.right=0;c.style.top=0}}}}c.appendChild(g)}else{if(q=="custom"){c=document.createElement("div");c.className="ze_overlay_html ze_overlay";if(m.args.overlay_html){c.innerHTML=m.args.overlay_html}}}}if(c){b.appendChild(c)}},"overlay.show",0);cincopa.registerEvent(function(e,c,g){var d=c.div_id;var b=g.detectIframeDocument().getElementById(d);if(!b){return}var k=b.getElementsByClassName("ze_overlay");for(var h=0;h<k.length;h++){k[h].parentNode.removeChild(k[h])}},"overlay.hide",0);cincopa.registerEvent(function(g,e,h){if(typeof h.args.overlay_type=="undefined"||h.args.overlay_type=="off"){return}var c={type:h.args.overlay_type};if(h.args.overlay_time=="onload"){h.onSkinEvent("overlay.show",c)}else{if(h.args.overlay_time=="onclick"){var b=h.detectIframeDocument().getElementById(h.loaderParams._object);if(b){var l=window.getComputedStyle(b).getPropertyValue("position");if(l!="fixed"&&l!="absolute"){b.style.position="relative"}var k=document.createElement("div");k.className="overlay_click_overlay";k.onclick=function(){h.onSkinEvent("overlay.show",c);k.parentNode.removeChild(k)};b.appendChild(k)}}else{if(h.args.overlay_time=="onhover"){var b=h.detectIframeDocument().getElementById(h.loaderParams._object);if(b){b.onmouseenter=function(){h.onSkinEvent("overlay.show",c)};b.onmouseleave=function(){h.onSkinEvent("overlay.hide",{div_id:h.loaderParams._object})}}}else{if(h.args.overlay_time=="at_sec"){var m=parseInt(h.args.overlay_sec);setTimeout(function(){h.onSkinEvent("overlay.show",c)},m*1000)}}}}},"runtime.on-html-loaded",0);cincopa.registerEvent(function(c,b,d){if(d.args.overlay_type=="poster_logo"){var h=d.skin.player;if(h){var e=h.layers?h.layers[0]:null;if(!e){return}var l=e.getElementsByClassName("mejs-poster");if(l.length>0){l=l[0];if(d.args.overlay_poster_type=="image"&&d.args.overlay_poster_logo_url){l.style.backgroundImage="url("+d.args.overlay_poster_logo_url+")";var k=l.getElementsByTagName("img");if(k.length>0){k=k[0];k.src=d.args.overlay_poster_logo_url}}else{if(d.args.overlay_poster_type=="overlay"){var g=l.getElementsByClassName("ze-mejs-poster-overlay");if(g.length==0){g=document.createElement("div");g.className="ze-mejs-poster-overlay";l.appendChild(g);if(d.args.overlay_poster_overlay_bg){g.style.background="#"+d.args.overlay_poster_overlay_bg;g.style.opacity="0.4"}}}}}}}},"video.load",0);cincopa.registerEvent(function(e,c,g){var b=cincopa.qs.cpembed||"";if(cincopa.qs.cpembed===g.loaderParams._fid){var d=document.getElementById(g.loaderParams._object);if(d){setTimeout(function(){d.scrollIntoView()},1000)}}},"runtime.on-html-loaded",0);var sendbuffercount=0;var errortimer=null;cincopa.registerEvent("cincopa.cp_evt_stats","video.*",0);cincopa.cp_evt_stats=function(e,b,d){if(e=="video.error"){if(b.error_hls&&b.error_hls.details=="manifestParsingError"){try{}catch(c){}}else{if(b.error_hls&&b.error_hls.details=="bufferStalledError"){if(!errortimer){if(sendbuffercount<5){errortimer=setTimeout(function(){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=videostats&fid=vftu"+b.uid+"&setref="+encodeURIComponent("http://"+b.item.rid+"/evtBuffer"+sendbuffercount+cincopa.short_ua));sendbuffercount++;errortimer=null;cincopa.trace("errortimer "+sendbuffercount)},2000)}}}}}else{if(e=="video.timeupdate"){try{clearTimeout(errortimer);errortimer=null}catch(c){}}}};cincopa.orderByTime=function(e){var d=[];for(var b in e){if(e[b] instanceof Array){var g=[];for(var c=0;c<e[b].length;c++){g.push(e[b][c])}}else{g=e[b]}d.push({time:b,value:g})}d.sort(function(h,k){return cincopa.cp_hmsToSecondsOnly(h.time)-cincopa.cp_hmsToSecondsOnly(k.time)});return d};cincopa.decodeXml=function(b){escaped_one_to_xml_special_map={"&amp;":"&","&quot;":'"',"&lt;":"<","&gt;":">"};return b.replace(/(&quot;|&lt;|&gt;|&amp;)/g,function(d,c){return escaped_one_to_xml_special_map[c]})};setTimeout(cincopa.measure_alert,10000);cincopa.registerEvent("cincopa.cp_track_fail_load","runtime.*",0);cincopa.cp_track_fail_load=function(d,b,c){if(d=="runtime.internal-on-args"){c.__track_fail_load=setTimeout(function(){cincopa.logError("fail_load1","timeout");cincopa.traceit("gallery failed","")},10000)}else{if(d=="runtime.on-html-loaded"){if(c.__track_fail_load){clearTimeout(c.__track_fail_load);c.__track_fail_load=null}}}};cincopa.registerEvent(function(e,d,g){if(d.uid=="AcFA_CB76nb5"||d.uid=="AQDAtmQV2i12"){g.args.allow_change_about_cincopa_url="//www.cincopa.com/he/video-hosting"}if((g.acc&&g.acc.user&&g.acc.user.plan_name=="free"&&g.args.template=="AoIAMJd_cbRb")||cincopa.hash.cpaddlogo){g.args.player_watermark_on_off=true;g.args.player_watermark="//wwwcdn.cincopa.com/_cms/design15/images/cincopa-cs-logo.png";g.args.player_watermark_link="//www.cincopa.com";g.args.new_page=true;cincopa.logError("free_video_player","timeout")}if(g.args&&g.args.player_watermark&&g.args.player_watermark.indexOf("images/acme.png")>-1&&g.args.player_watermark_on_off=="true"){cincopa.logError("old_amce_logo","whatever")}var b=false;var c=null;if(g.args.iframe==true||g.args.iframe=="true"){c=g.detectIframeDocument().getElementById(g.loaderParams._object)}else{c=getElement(g.loaderParams._object)}if(c&&c.className.indexOf("cincopa_popup")>-1){b=true}if(b&&c){g.args.iframe=false;g.args.allow_lightbox="cincopa_popup";g.args.allow_lightbox_text=c.innerHTML||"Watch the video";c.addEventListener("click",function(h){h.stopPropagation();h.preventDefault()})}},"runtime.on-args",0);cincopa.registerEvent(function(d,c,e){if((e.acc.user.plan_name=="free"&&e.args.template=="AoIAMJd_cbRb")||cincopa.hash.cpaddlogo){var h=e.skin.player;if(h){var b=h.controls?h.controls[0]:null;if(!b){return}var g=b.getElementsByClassName("mejs-player-logo-button");if(g&&g.length>0){g=g[0];g.style.width="auto";g.style.height=(b.offsetHeight-20)+"px";g.style.marginTop="8px";g.style.marginBottom="14px";g.style.marginRight="6px"}}}},"video.load",0);cincopa.concurrency_counter=cincopa.concurrency_counter||{video:0,lastplay:null,sliding_window:[],did_autostart:false};cincopa.registerEvent("cincopa.cp_handle_concurrency","runtime.*",0);cincopa.registerEvent("cincopa.cp_handle_concurrency","video.*",0);cincopa.registerEvent("cincopa.cp_handle_concurrency","audio.*",0);cincopa.cp_handle_concurrency=function(g,c,e){var b=cincopa;if(e.args.iframe==true||e.args.iframe=="true"){var b=window.parent.cincopa}if(g=="runtime.internal-on-args"&&e.args.skin_code=="/mediaelement/1"){b.concurrency_counter.sliding_window.push(Date.now());for(i=0;i<b.concurrency_counter.sliding_window.length;){if(Date.now()-b.concurrency_counter.sliding_window[i]>10000){b.concurrency_counter.sliding_window.shift()}else{i++}}if(b.concurrency_counter.sliding_window.length>2&&!e.iframeParentId){e.args.fast_start=false;cincopa.traceit("Cincopa alert - high concurrency detected")}}if(g=="runtime.internal-on-args"&&e.args.skin_code=="/mediaelement/1"&&++b.concurrency_counter.video>2){}else{if(g=="video.play"&&e.args.skin_code=="/mediaelement/1"){if(b.concurrency_counter.lastplay&&b.concurrency_counter.lastplay!=e){b.concurrency_counter.lastplay.playerAPI.pause()}b.concurrency_counter.lastplay=e}}if(g=="runtime.internal-on-args"&&e.args.skin_code=="/mediaelement/1"&&cincopa.hash.autostart=="true"){e.args.autostart="true";e.args.autoStart="true";e.args.video_autoplay="true";b.concurrency_counter.did_autostart=true;cincopa.traceit("Set autostart "+e.args.fid,e)}try{if(g=="runtime.internal-on-args"){if(cincopa.hash.cpohls_max_buffer_length){}else{if(e.acc.user.settings["runtime.hls_max_buffer_length"]){e.args.hls_max_buffer_length=parseInt(e.acc.user.settings["runtime.hls_max_buffer_length"])}else{e.args.hls_max_buffer_length=40}}if(cincopa.hash.cpohls_max_fast_start_buffer_length){}else{if(e.acc.user.settings["runtime.hls_max_fast_start_buffer_length"]){e.args.hls_max_fast_start_buffer_length=parseInt(e.acc.user.settings["runtime.hls_max_fast_start_buffer_length"])}else{e.args.hls_max_fast_start_buffer_length=9}}if(e.acc.user.settings["runtime.hls_fast_start"]=="false"){e.args.fast_start=false}}}catch(d){}};cincopa.hubspot_integration=cincopa.hubspot_integration||{};cincopa.cp_hubspot_integration_api_endpoint="https://i974bvx12k.execute-api.us-east-1.amazonaws.com/latest/hubspot/api";cincopa.cp_hubspot_integration=function(h,c,e){if(c.item.liveid||e.args.skin_code=="/bgvideo/1"){return}var g=cincopa.inBetween(document.cookie,"hubspotutk=",";");if(!g){return}var l=null;if(h=="video.timeupdate"||h=="video.play"||h=="video.pause"||h=="video.ended"){var d=cincopa.cp_hmsToSecondsOnly(c.item.duration);var k=Math.round(cincopa.cp_media_hm[c.uid][c.item.rid].totaluniqueseconds/d*100);cincopa.hubspot_integration[c.item.rid]=cincopa.hubspot_integration[c.item.rid]||{lastSentPercent:-1,lastSentSecs:-1};if(h=="video.timeupdate"&&(k==cincopa.hubspot_integration[c.item.rid].lastSentPercent||cincopa.cp_media_hm[c.uid][c.item.rid].totaluniqueseconds<cincopa.hubspot_integration[c.item.rid].lastSentSecs+4)){return}cincopa.hubspot_integration[c.item.rid].lastSentPercent=k;cincopa.hubspot_integration[c.item.rid].lastSentSecs=cincopa.cp_media_hm[c.uid][c.item.rid].totaluniqueseconds;l={http_method:"PUT_JSON",id:cincopa.cp_media_hm[c.uid][c.item.rid]["hmid"],eventTypeId:19189,utk:g,percentWatched:k,mediaId:c.item.id,mediaRid:c.item.rid,mediaTitle:c.item.title,mediaUrl:c.item.content_url,timelineIFrame:{linkLabel:"View video",iframeLabel:c.item.title,iframeUri:"https://api.cincopa.com/v2/analytics.single_heatmap_iframe?api_token=1163760iou04m0qzuvzikzpb3sverp54qwe&date="+(new Date()).toISOString().slice(0,-14)+"&zone=0&hm="+cincopa.cp_media_hm[c.uid][c.item.rid]["hmid"]+"&uid="+c.uid+"&disable_editor=y",width:600,height:650}};cincopa.logFeature("hubspot-event",c.uid)}else{if(h=="emailgate.submit"){l={http_method:"PUT_JSON",id:cincopa.cp_media_hm[c.uid][c.item.rid]["hmid"],eventTypeId:19048,utk:g,mediaId:c.item.id,mediaRid:c.item.rid,mediaTitle:c.item.title,firstName:c.formData.values.firstName||c.formData.values.firstname||c.formData.values.first,lastName:c.formData.values.lastName||c.formData.values.lastname||c.formData.values.last,email:c.formData.values.email,hubspotPortalID:e.args.html_overlay_hubspot_portalid,hubspotFormID:e.args.html_overlay_hubspotid};delete l.listId;cincopa.logFeature("hubspot-submit",c.uid)}}if(l&&!cincopa.disable_analytics){var b=43261;Ajax(cincopa.cp_hubspot_integration_api_endpoint+"/integrations/v1/"+b+"/timeline/event?uid="+c.uid,l,function(m){cincopa.trace("hubspot-event",m);if(e.acc&&e.acc.user&&e.acc.user.uid&&e.acc.user.integration&&e.acc.user.integration.hubspot&&e.acc.user.integration.hubspot=="active"&&h=="emailgate.submit"){cincopa.cp_hubspot_integration_get_contact(e.acc.user.uid,function(){if(cincopa.hubspot_integration.last_contact_request){if(((cincopa.hubspot_integration.last_contact_request.properties.email&&cincopa.hubspot_integration.last_contact_request.properties.email.value)||c.formData.values.email)&&cincopa.hubspot_integration.last_contact_request.vid){var n={http_method:"POST_JSON",properties:[]};for(var o in c.formData.values){n.properties.push({property:o,value:c.formData.values[o]})}Ajax(cincopa.cp_hubspot_integration_api_endpoint+"/contacts/v1/contact/vid/"+cincopa.hubspot_integration.last_contact_request.vid+"/profile?uid="+uid,n,function(q){cincopa.trace("hubspot-event-contact-update",q)})}}})}})}};cincopa.cp_hubspot_integration_get_contact=function(d,b){var c=cincopa.inBetween(document.cookie,"hubspotutk=",";");if(!c){b();return null}Ajax(cincopa.cp_hubspot_integration_api_endpoint+"/contacts/v1/contact/utk/"+c+"/profile?uid="+d,{http_method:"GET"},function(e){e=cincopa.json_parse(e);cincopa.trace("hubspot-contact: ",e);cincopa.hubspot_integration.last_contact_request=e;if(typeof b==="function"){b()}})};cincopa.cp_upsales_integration=function(g,b,e){if(!_uaq||g!="video.play"){return}var d=Object.assign({},window.upsalesSettings);var c=[(new Date()).toISOString().slice(0,-14),cincopa.cp_media_hm[b.uid][b.item.rid]["hmid"],b.uid,];d.eid=c.join(",");d.v=b.item.title;console.log("event",d);_uaq("umc="+JSON.stringify(d))};cincopa.registerEvent("cincopa.cp_emailgate_event","video.*",0);cincopa.registerEvent("cincopa.cp_emailgate_event","runtime.*",0);cincopa.registerEvent("cincopa.cp_emailgate_event","hubspot.load",0);cincopa.cp_emailgate_event=function(m,d,g){if(g.args.html_overlay_type=="none"||!g.args.html_overlay_type){return}function n(u,v){if(v.length<2){return}u.overlay={params:{allowSkip:g.args.html_overlay_skip==false||g.args.html_overlay_skip=="false"?false:true,isDefaultForm:g.args.html_overlay_type=="form"?true:false,listId:g.args.html_overlay_listid,name:g.args.html_overlay_name,upper_html:g.args.html_overlay_upper,lower_html:g.args.html_overlay_lower,button_text:g.args.html_overlay_button_text,formFields:v}};g.playerAPI.pause();var w=(/iPad|iPhone|iPod/.test(navigator.platform)||(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1))&&!window.MSStream;if(w&&g.playerAPI.isFullScreen()){g.playerAPI.exitFullScreen()}g.onSkinEvent("emailgate.show",u)}var q="";if(g.args.html_overlay_fields=="only_email"){q="email"}else{if(g.args.html_overlay_fields=="not_only_email"){q="first,email,last"}else{if(g.args.html_overlay_fields=="csv"){var b=cincopa.csvToObject(g.args.html_overlay_csv);b.map(function(u,v){if(!q){q+=u.name}else{q+=","+u.name}})}}}function o(w){var x=[];if(g.args.html_overlay_fields=="only_email"){x=x.concat([{name:"email",displayOrder:1,label:"Email",placeholder:"Email",fieldType:"text",fieldWidth:"75",required:true},{name:"submit",label:g.args.html_overlay_button_text?g.args.html_overlay_button_text:"Submit",displayOrder:2,placeholder:"",fieldType:"submit",fieldWidth:"25"}])}else{if(g.args.html_overlay_fields=="not_only_email"){x=x.concat([{name:"first",displayOrder:1,label:"First Name",placeholder:"First Name",fieldType:"text",fieldWidth:"50"},{name:"last",displayOrder:2,label:"Last Name",placeholder:"Last Name",fieldType:"text",fieldWidth:"50"},{name:"email",displayOrder:3,label:"Email",placeholder:"Email Address",fieldType:"text",fieldWidth:"75",required:true},{name:"submit",label:g.args.html_overlay_button_text?g.args.html_overlay_button_text:"Submit",displayOrder:4,placeholder:"",fieldType:"submit",fieldWidth:"25"}])}else{if(g.args.html_overlay_fields=="csv"){var v=cincopa.csvToObject(g.args.html_overlay_csv);v.map(function(z,B){z.displayOrder=B+1;z.required=z.required==="true"?true:false;if(z.options){z.options=z.options.replace("{","").replace("}","");var D=[];var E=z.options.split(",");for(var A=0;A<E.length;A++){var C=E[A].split(":");D.push({label:C[0].trim(),value:C[1].trim()})}z.options=D}return z});x=v.concat([{name:"submit",label:"Submit",displayOrder:(v.length+1),placeholder:"",fieldType:"submit",fieldWidth:"100"}])}else{if(g.args.html_overlay_fields=="hubspot"||g.args.html_overlay_fields=="json"){var u=g.acc&&g.acc.user&&g.acc.user.uid&&g.acc.user.integration&&g.acc.user.integration.hubspot&&g.acc.user.integration.hubspot=="active";if(g.args.html_overlay_fields=="hubspot"&&u&&g.args.html_overlay_hubspot_live){Ajax(cincopa.cp_hubspot_integration_api_endpoint+"/forms/v2/forms/"+g.args.html_overlay_hubspotid+"?uid="+g.acc.user.uid,{dataType:"json",http_method:"GET"},function(C){var A=JSON.parse(C);var B=[];if(A.formFieldGroups){var z=A.formFieldGroups.map(function(D){return D.fields});B.fields=[].concat.apply([],z);B.fields=B.fields.concat([{name:"submit",label:A.submitText?A.submitText:"Submit",displayOrder:700,placeholder:"",fieldType:"submit",fieldWidth:"100"}]);g.args.html_overlay_formFields=B}y()})}else{g.args.html_overlay_formFields=cincopa.json_parse(g.args.html_overlay_formFields);y()}function y(){if(g.args.html_overlay_formFields){var z=g.args.html_overlay_formFields;x=z.fields;var A=x.filter(function(B){return !B.isSmartField||B.name==="submit"});if(u){cincopa.cp_hubspot_integration_get_contact(g.acc.user.uid,function(){if(cincopa.hubspot_integration.last_contact_request&&cincopa.hubspot_integration.last_contact_request.properties){A=A.filter(function(D){return typeof cincopa.hubspot_integration.last_contact_request.properties[D.name]==="undefined"});var B=A.filter(function(D){return D.required}).length;if(A.length==1||!B){var C=x.filter(function(D){return D.isSmartField||D.name==="submit"});C=C.filter(function(D){return typeof cincopa.hubspot_integration.last_contact_request.properties[D.name]==="undefined"});x=C}else{x=A}}n(w,x)});return}else{x=A;n(w,x)}}else{return}}}}}}n(w,x)}function l(w){var x=false;if(typeof g.args.html_overlay_name!="undefined"&&!cincopa.wizard_mode){var u=cincopa.inBetween(document.cookie,"cp_leadgen_"+g.args.html_overlay_listid+"=",";");if(u){valueForCookieArray=q.split(",");for(var v=0;v<valueForCookieArray.length;v++){var y=valueForCookieArray[v];if(u&&u.indexOf(y)==-1){x=false;break}else{x=true}}}}return x&&g.args.html_overlay_fields!=="hubspot"}if(m==="video.load"){if(g.args.html_overlay_show=="before_first"&&!l(d.item.rid)&&!g.emailgateskip){if(!g.overlayFirstRid||(g.MediaJSON.items.length&&g.MediaJSON.items[0].rid===d.item.rid)){o(d);if(g.MediaJSON.items[0].rid===d.item.rid){delete g.overlayFirstRid}else{g.overlayFirstRid=d.item.rid}}else{if(d.item.rid==g.overlayFirstRid){o(d)}}}g.showSubscribeForm=true}else{if(m==="video.timeupdate"){if(g.showSubscribeForm&&g.args.html_overlay_show&&!l(d.item.rid)){var e=g.playerAPI.duration();var c=~~g.playerAPI.currentTime();if((g.args.html_overlay_show=="on_25"&&e/4<c)||(g.args.html_overlay_show=="on_50"&&e/2<c)||(g.args.html_overlay_show=="on_75"&&e*3/4<c)||(g.args.html_overlay_show.indexOf("on_at_")>-1&&c>=cincopa.cp_hmsToSecondsOnly(g.args.html_overlay_show.replace("on_at_","")))){g.showSubscribeForm=false;o(d)}}}else{if(m==="video.ended"){var h=g.MediaJSON.items[0].rid===d.item.rid;var k=g.MediaJSON.items[g.MediaJSON.items.length-1].rid===d.item.rid;if(g.args.html_overlay_show=="on_first"&&h&&!l(d.item.rid)){o(d)}else{if(g.args.html_overlay_show=="on_last"&&k&&!l(d.item.rid)){o(d)}else{if(g.args.html_overlay_show=="on_each"&&!l(d.item.rid)){o(d)}}}}else{if(m==="hubspot.load"){o(d)}else{if(m==="runtime.internal-on-args"){if(g.args.html_overlay_disabled=="false"||g.args.html_overlay_disabled==false){g.args.html_overlay_type="none"}if(g.MediaJSON&&g.MediaJSON.items&&g.MediaJSON.items[0]){if(!l(g.MediaJSON.items[0].rid)&&g.args.html_overlay_show=="before_first"){g.args.autostart=false}}}else{if(m==="runtime.on-media-json"){if(g.args){if(!l(g.MediaJSON.items[0].rid)&&g.args.html_overlay_show=="before_first"){g.args.autostart=false}}}}}}}}};cincopa.registerEvent(function(c,b,d){var e=d.loaderParams._object;(function(l){var g=document.getElementById(l);var h;function k(m){return(m.offsetParent===null)}if(g&&k(g)&&!d.hiddenContainerInterval){d.hiddenContainerInterval=setInterval(function(){if(g&&!k(g)){var m=document.createEvent("CustomEvent");m.initCustomEvent("resize",true,true,{action:"hiddenContainer"});window.dispatchEvent(m);clearInterval(d.hiddenContainerInterval)}},1000)}})(e)},"runtime.on-html-loaded",0);cincopa.registerEvent(function(c,b,d){if(!b.player){return}var e=b.player.layers?b.player.layers[0]:null;if(!e){return}var h=e.getElementsByClassName("mejs-poster");if(h.length>0){h=h[0];if(b.posterURL){h.style.backgroundImage=b.posterURL;var k=h.getElementsByTagName("img");if(k.length>0){k=k[0];k.setAttribute("src",b.posterURL)}else{k=document.createElement("img");k.src=b.posterURL;h.appendChild(k)}}h.style.display="block"}var g=e.getElementsByClassName("mejs-overlay-play");if(g.length>0){g=g[0];g.style.display="block"}},"player.failed",0);cincopa.registerEvent(function(c,b,d){if(d.args.iframe){d.resizeIFrame()}},"skin.on-resize",0);var _cpmp=_cpmp||[];cincopa.boot_all();if(typeof _zel!="undefined"){cincopa.logFeature("old_zel");for(var i=0;i<_zel.length;i++){var go=new GalleryObject(_zel[i]);_zel[i]["_id"]="_cp_"+_cp_last_gallery++;zeGalleryArray[_zel[i]["_id"]]=go;if(_zel[i]["_iframeParentObject"]){go.iframeParentObject=_zel[i]["_iframeParentObject"]}if(_zel[i]["_args"]){cincopa.trace("loading args directly into go object");go.onArgs(_zel[i]["_args"])}else{go.initialize()}}_zel=[]}cincopa.registerEvent(function(e,c,d){if(d.args.allow_lightbox!=="no"&&!d.lightModeEnabled){var g=d.getSkin();var b;if(d.args.iframe==true){b=d.detectIframeDocument().getElementById(d.loaderParams._object)}else{b=getElement(g.go.loaderParams._object)}if(b.getElementsByClassName("cp_lightbox_wrap").length){d.showVideoThumbnail(b)}return}},"skin.loadjscssfile",0);cincopa.registerEvent(function(g,b,d){var c=e(b.item);if(c.indexOf("?")>-1){c=c.replace(/&amp;/g,"&")+"&m=y"}else{c=c.replace(/&amp;/g,"&")+"?m=y"}if(c.indexOf("?o=")>-1){c=c.replace("o=1","o=0").replace("o=2","o=0").replace("o=3","o=0").replace("o=4","o=0").replace("o=6","o=0").replace(".mp4?","?")}window.open(c,"_self");cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=download-"+uid+"&fid=rid-"+b.item.rid+"&setref="+encodeURIComponent(cincopa.location));d.pushEventToGA("item download "+b.item.rid);function e(h){var k="";if(h.versions&&h.versions.mp4_hd&&h.versions.mp4_hd.url){k=h.versions.mp4_hd.url}if(!k&&h.versions&&h.versions.original&&h.versions.original.url){k=h.versions.original.url}if(!k){k=h.content_url}return k}},"item.download",0);cincopa.cp_pbar=function(e,b,c){if(e=="video.timeupdate"){var g=c.get_video_play_stats(b);cincopa.createProgressBarContainer(c,b.item.rid,g)}else{if(e=="runtime.on-html-loaded"){var h=c.get_all_video_play_stats();for(var d in h){if(h.hasOwnProperty(d)){cincopa.createProgressBarContainer(c,d,h[d])}}}}};cincopa.createProgressBarContainer=function createProgressBarContainer(g,l,n){var c,k;var c,k;var h=n.hm_range;var d=n.duration_sec;var b=n.completion_percent;var m=g.getSkin();if(g.args.iframe==true){c=g.detectIframeDocument().getElementById(g.loaderParams._object)}else{c=document.getElementById(m.go.loaderParams._object)}var e;if(g.args.channel_progress){e=c.querySelectorAll('.playlistContainer a[data-rid="'+l+'"] .pl_item_thumb')}else{e=c.querySelectorAll('.playlistContainer a[data-rid="'+l+'"]')}for(i=0;i<e.length;++i){k=e[i].querySelector(".video-progress-bar-container");if(!k){k=document.createElement("div");k.className="video-progress-bar-container";e[i].appendChild(k)}if(b>=98){e[i].classList.add("video-progress-completed")}k.innerHTML=cincopa.createProgressBars(h,d)}};cincopa.createProgressBars=function(o,d,c){var l=o.split(",");var b=[],g="";for(var h=0;h<l.length;h++){var m=l[h];if(l[h].indexOf(":")>-1){m=l[h].split(":")[0]}var n=parseInt(m.split("-")[0]);var e=parseInt(m.split("-")[1]||n)+1;var q=(e-n)*100/d;var k=n/d*100;g+='<div class="video-progress-bar" style="left:'+k+"%;width:"+q+'%;"> </div>'}return g};/* memcache */