/**
 * Stackla is made available under a commercial licence
 * and is subject to Stackla's Terms of Service.
 *
 * Refer to https://stackla.com/terms-of-service/ 
 * or contact support@stackla.com for further clarification.
 *
 * Built on 2021-08-02 14:08:45
 */
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="https://staging-assetscdn.stackla.com/media/js/dist/",b(b.s=2099)}({1:function(a,b){a.exports=_},115:function(a,b){a.exports=Stackla},117:function(a,b,c){"use strict";(function(a){function d(a){try{if(window.self!==window.top){var b=l.a.parse(a.data);f(b.action,b)}}catch(a){}}function e(a,b){n.a.on(a,function(a,c){return b(c)})}function f(a,b){n.a.emit(a,[b])}function g(a){window.parent.postMessage(l.a.stringify(a),"*")}function h(){window.addEventListener?window.addEventListener("message",d,!1):window.attachEvent("onmessage",d)}function i(a,b,c){if(!a)throw new Error("namespace cannot be empty");var d=a+":",e={};return p.a.each(b,function(a,b){e[d+b]=function(b){var e=b.callbackId,f=d+"actionCallback";r.a.resolve(!0).then(function(){return a.apply(null,b.args)}).then(function(a){c({action:f,callbackId:e,data:{result:a}})}).catch(function(a){c({action:f,callbackId:e,data:{error:{code:a.code,message:a.message,stack:a.stack}}})})}}),e}function j(a,b,c){var d=i(b,a,c);p.a.each(d,function(a,b){e(b,a)})}c.d(b,"d",function(){return h}),c.d(b,"c",function(){return e}),c.d(b,"a",function(){return f}),c.d(b,"f",function(){return g}),c.d(b,"b",function(){return j}),c.d(b,"e",function(){return i});var k=c(235),l=c.n(k),m=c(171),n=c.n(m),o=c(1),p=c.n(o),q=c(160),r=c.n(q);!function(){var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0;b&&b(a)}(),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,!function(){var a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;a&&(a.register(d,"handleMessage","/home/ec2-user/workspace/staging/stackla-web/app/media/js/common/cross-frame/callee.js"),a.register(e,"onMessage","/home/ec2-user/workspace/staging/stackla-web/app/media/js/common/cross-frame/callee.js"),a.register(f,"emitMessage","/home/ec2-user/workspace/staging/stackla-web/app/media/js/common/cross-frame/callee.js"),a.register(g,"sendMessageToParent","/home/ec2-user/workspace/staging/stackla-web/app/media/js/common/cross-frame/callee.js"),a.register(h,"patchGlobal","/home/ec2-user/workspace/staging/stackla-web/app/media/js/common/cross-frame/callee.js"),a.register(i,"prepareMethodHandlers","/home/ec2-user/workspace/staging/stackla-web/app/media/js/common/cross-frame/callee.js"),a.register(j,"exportMethods","/home/ec2-user/workspace/staging/stackla-web/app/media/js/common/cross-frame/callee.js"))}(),function(){var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0;b&&b(a)}()}).call(this,c(2)(a))},1509:function(a,b,c){"use strict";(function(a){function d(a,b,c){var d=Math.round(a/b);return a/d-c+c/d}function e(a,b,c){return Math.round(a/b)*c}c.d(b,"b",function(){return d}),c.d(b,"a",function(){return e}),function(){var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0;b&&b(a)}(),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,!function(){var a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;a&&(a.register(d,"getTileSize","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/base_grid/utils.js"),a.register(e,"getRequiredTilesTotal","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/base_grid/utils.js"))}(),function(){var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0;b&&b(a)}()}).call(this,c(2)(a))},160:function(a,b,c){(function(b,c,d){a.exports=function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof _dereq_&&_dereq_;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof _dereq_&&_dereq_,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=new c(a),d=b.promise();return b.setHowMany(1),b.setUnwrap(),b.init(),d}var c=a._SomePromiseArray;a.any=function(a){return b(a)},a.prototype.any=function(){return b(this)}}},{}],2:[function(a,c,d){"use strict";function e(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new j(16),this._normalQueue=new j(16),this._haveDrainedQueues=!1;var a=this;this.drainQueues=function(){a._drainQueues()},this._schedule=i}function f(a){for(;a.length()>0;)g(a)}function g(a){var b=a.shift();if("function"!=typeof b)b._settlePromises();else{var c=a.shift(),d=a.shift();b.call(c,d)}}var h;try{throw new Error}catch(a){h=a}var i=a("./schedule"),j=a("./queue");e.prototype.setScheduler=function(a){var b=this._schedule;return this._schedule=a,this._customScheduler=!0,b},e.prototype.hasCustomScheduler=function(){return this._customScheduler},e.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},e.prototype.fatalError=function(a,c){c?(b.stderr.write("Fatal "+(a instanceof Error?a.stack:a)+"\n"),b.exit(2)):this.throwLater(a)},e.prototype.throwLater=function(a,b){if(1===arguments.length&&(b=a,a=function(){throw b}),"undefined"!=typeof setTimeout)setTimeout(function(){a(b)},0);else try{this._schedule(function(){a(b)})}catch(a){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},e.prototype.invokeLater=function(a,b,c){this._lateQueue.push(a,b,c),this._queueTick()},e.prototype.invoke=function(a,b,c){this._normalQueue.push(a,b,c),this._queueTick()},e.prototype.settlePromises=function(a){this._normalQueue._pushOne(a),this._queueTick()},e.prototype._drainQueues=function(){f(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,f(this._lateQueue)},e.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},e.prototype._reset=function(){this._isTickUsed=!1},c.exports=e,c.exports.firstLineError=h},{"./queue":26,"./schedule":29}],3:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e=!1,f=function(a,b){this._reject(b)},g=function(a,b){b.promiseRejectionQueued=!0,b.bindingPromise._then(f,f,null,this,a)},h=function(a,b){0==(50397184&this._bitField)&&this._resolveCallback(b.target)},i=function(a,b){b.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(f){e||(e=!0,a.prototype._propagateFrom=d.propagateFromFunction(),a.prototype._boundValue=d.boundValueFunction());var j=c(f),k=new a(b);k._propagateFrom(this,1);var l=this._target();if(k._setBoundTo(j),j instanceof a){var m={promiseRejectionQueued:!1,promise:k,target:l,bindingPromise:j};l._then(b,g,void 0,k,m),j._then(h,i,void 0,k,m),k._setOnCancel(j)}else k._resolveCallback(l);return k},a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField=2097152|this._bitField,this._boundTo=a):this._bitField=-2097153&this._bitField},a.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},a.bind=function(b,c){return a.resolve(c).bind(b)}}},{}],4:[function(a,b,c){"use strict";var d;"undefined"!=typeof Promise&&(d=Promise);var e=a("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=d)}catch(a){}return e},b.exports=e},{"./promise":22}],5:[function(a,b,c){"use strict";var d=Object.create;if(d){var e=d(null),f=d(null);e[" size"]=f[" size"]=0}b.exports=function(b){function c(a){var c=this.pop(),d=function(a,c){var d;if(null!=a&&(d=a[c]),"function"!=typeof d){var e="Object "+f.classString(a)+" has no method '"+f.toString(c)+"'";throw new b.TypeError(e)}return d}(a,c);return d.apply(a,this)}function d(a){return a[this]}function e(a){var b=+this;return b<0&&(b=Math.max(0,b+a.length)),a[b]}var f=a("./util"),g=f.canEvaluate;f.isIdentifier,b.prototype.call=function(a){var b=[].slice.call(arguments,1);return b.push(a),this._then(c,void 0,void 0,b,void 0)},b.prototype.get=function(a){var b,c="number"==typeof a;if(c)b=e;else if(g){var f=(void 0)(a);b=null!==f?f:d}else b=d;return this._then(b,void 0,void 0,a,void 0)}}},{"./util":36}],6:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util"),g=f.tryCatch,h=f.errorObj,i=b._async;b.prototype.break=b.prototype.cancel=function(){if(!e.cancellation())return this._warn("cancellation is disabled");for(var a=this,b=a;a._isCancellable();){if(!a._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var c=a._cancellationParent;if(null==c||!c._isCancellable()){a._isFollowing()?a._followee().cancel():a._cancelBranched();break}a._isFollowing()&&a._followee().cancel(),a._setWillBeCancelled(),b=a,a=c}},b.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},b.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},b.prototype._cancelBy=function(a){return a===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},b.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},b.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),i.invoke(this._cancelPromises,this,void 0))},b.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},b.prototype._unsetOnCancel=function(){this._onCancelField=void 0},b.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},b.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},b.prototype._doInvokeOnCancel=function(a,b){if(f.isArray(a))for(var c=0;c<a.length;++c)this._doInvokeOnCancel(a[c],b);else if(void 0!==a)if("function"==typeof a){if(!b){var d=g(a).call(this._boundValue());d===h&&(this._attachExtraTrace(d.e),i.throwLater(d.e))}}else a._resultCancelled(this)},b.prototype._invokeOnCancel=function(){var a=this._onCancel();this._unsetOnCancel(),i.invoke(this._doInvokeOnCancel,this,a)},b.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},b.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(a,b,c){"use strict";b.exports=function(b){var c=a("./util"),d=a("./es5").keys,e=c.tryCatch,f=c.errorObj;return function(a,g,h){return function(i){var j=h._boundValue();a:for(var k=0;k<a.length;++k){var l=a[k];if(l===Error||null!=l&&l.prototype instanceof Error){if(i instanceof l)return e(g).call(j,i)}else if("function"==typeof l){var m=e(l).call(j,i);if(m===f)return m;if(m)return e(g).call(j,i)}else if(c.isObject(i)){for(var n=d(l),o=0;o<n.length;++o){var p=n[o];if(l[p]!=i[p])continue a}return e(g).call(j,i)}}return b}}}},{"./es5":13,"./util":36}],8:[function(a,b,c){"use strict";b.exports=function(a){function b(){this._trace=new b.CapturedTrace(c())}function c(){var a=e.length-1;if(a>=0)return e[a]}var d=!1,e=[];return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},b.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,e.push(this._trace))},b.prototype._popContext=function(){if(void 0!==this._trace){var a=e.pop(),b=a._promiseCreated;return a._promiseCreated=null,b}return null},b.CapturedTrace=null,b.create=function(){if(d)return new b},b.deactivateLongStackTraces=function(){},b.activateLongStackTraces=function(){var e=a.prototype._pushContext,f=a.prototype._popContext,g=a._peekContext,h=a.prototype._peekContext,i=a.prototype._promiseCreated;b.deactivateLongStackTraces=function(){a.prototype._pushContext=e,a.prototype._popContext=f,a._peekContext=g,a.prototype._peekContext=h,a.prototype._promiseCreated=i,d=!1},d=!0,a.prototype._pushContext=b.prototype._pushContext,a.prototype._popContext=b.prototype._popContext,a._peekContext=a.prototype._peekContext=c,a.prototype._promiseCreated=function(){var a=this._peekContext();a&&null==a._promiseCreated&&(a._promiseCreated=this)}},b}},{}],9:[function(a,c,d){"use strict";c.exports=function(c,d,e,f){function g(a,b){return{promise:b}}function h(){return!1}function i(a,b,c){var d=this;try{a(b,c,function(a){if("function"!=typeof a)throw new TypeError("onCancel must be a function, got: "+H.toString(a));d._attachCancellationCallback(a)})}catch(a){return a}}function j(a){if(!this._isCancellable())return this;var b=this._onCancel();void 0!==b?H.isArray(b)?b.push(a):this._setOnCancel([b,a]):this._setOnCancel(a)}function k(){return this._onCancelField}function l(a){this._onCancelField=a}function m(){this._cancellationParent=void 0,this._onCancelField=void 0}function n(a,b){if(0!=(1&b)){this._cancellationParent=a;var c=a._branchesRemainingToCancel;void 0===c&&(c=0),a._branchesRemainingToCancel=c+1}0!=(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)}function o(){var a=this._boundTo;return void 0!==a&&a instanceof c?a.isFulfilled()?a.value():void 0:a}function p(){this._trace=new A(this._peekContext())}function q(a,b){if(J(a)){var c=this._trace;if(void 0!==c&&b&&(c=c._parent),void 0!==c)c.attachExtraTrace(a);else if(!a.__stackCleaned__){var d=u(a);H.notEnumerableProp(a,"stack",d.message+"\n"+d.stack.join("\n")),H.notEnumerableProp(a,"__stackCleaned__",!0)}}}function r(){this._trace=void 0}function s(a,b,d){if(ca.warnings){var e,f=new G(a);if(b)d._attachExtraTrace(f);else if(ca.longStackTraces&&(e=c._peekContext()))e.attachExtraTrace(f);else{var g=u(f);f.stack=g.message+"\n"+g.stack.join("\n")}Z("warning",f)||v(f,"",!0)}}function t(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e="    (No stack trace)"===d||N.test(d),f=e&&_(d);e&&!f&&(P&&" "!==d.charAt(0)&&(d="    "+d),b.push(d))}return b}function u(a){var b=a.stack,c=a.toString();return b="string"==typeof b&&b.length>0?function(a){for(var b=a.stack.replace(/\s+$/g,"").split("\n"),c=0;c<b.length;++c){var d=b[c];if("    (No stack trace)"===d||N.test(d))break}return c>0&&"SyntaxError"!=a.name&&(b=b.slice(c)),b}(a):["    (No stack trace)"],{message:c,stack:"SyntaxError"==a.name?b:t(b)}}function v(a,b,c){if("undefined"!=typeof console){var d;if(H.isObject(a)){var e=a.stack;d=b+O(e,a)}else d=b+String(a);"function"==typeof D?D(d,c):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(d)}}function w(a,b,c,d){var e=!1;try{"function"==typeof b&&(e=!0,"rejectionHandled"===a?b(d):b(c,d))}catch(a){F.throwLater(a)}"unhandledRejection"===a?Z(a,c,d)||e||v(c,"Unhandled rejection "):Z(a,d)}function x(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{if(b=a&&"function"==typeof a.toString?a.toString():H.toString(a),/\[object [a-zA-Z0-9$_]+\]/.test(b))try{var c=JSON.stringify(a);b=c}catch(a){}0===b.length&&(b="(empty array)")}return"(<"+function(a){return a.length<41?a:a.substr(0,38)+"..."}(b)+">, no stack trace)"}function y(){return"function"==typeof ba}function z(a){var b=a.match(aa);if(b)return{fileName:b[1],line:parseInt(b[2],10)}}function A(a){this._parent=a,this._promisesCreated=0;var b=this._length=1+(void 0===a?0:a._length);ba(this,A),b>32&&this.uncycle()}var B,C,D,E,F=c._async,G=a("./errors").Warning,H=a("./util"),I=a("./es5"),J=H.canAttachTrace,K=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,L=/\((?:timers\.js):\d+:\d+\)/,M=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,N=null,O=null,P=!1,Q=!(0==H.env("BLUEBIRD_DEBUG")),R=!(0==H.env("BLUEBIRD_WARNINGS")||!Q&&!H.env("BLUEBIRD_WARNINGS")),S=!(0==H.env("BLUEBIRD_LONG_STACK_TRACES")||!Q&&!H.env("BLUEBIRD_LONG_STACK_TRACES")),T=0!=H.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(R||!!H.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){function a(){for(var a=0;a<d.length;++a)d[a]._notifyUnhandledRejection();b()}function b(){d.length=0}var d=[];E="object"==typeof document&&document.createElement?function(){function b(){if(document.body){var a=document.createElement("iframe");document.body.appendChild(a),a.contentWindow&&a.contentWindow.setTimeout&&(c=a.contentWindow.setTimeout),document.body.removeChild(a)}}var c;return b(),function(e){d.push(e),c?c(a,1):b()}}():function(b){d.push(b),setTimeout(a,1)},I.defineProperty(c,"_unhandledRejectionCheck",{value:a}),I.defineProperty(c,"_unhandledRejectionClear",{value:b})}(),c.prototype.suppressUnhandledRejections=function(){var a=this._target();a._bitField=-1048577&a._bitField|524288},c.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),E(this))},c.prototype._notifyUnhandledRejectionIsHandled=function(){w("rejectionHandled",B,void 0,this)},c.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},c.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},c.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._settledValue();this._setUnhandledRejectionIsNotified(),w("unhandledRejection",C,a,this)}},c.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},c.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},c.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},c.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},c.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},c.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},c.prototype._warn=function(a,b,c){return s(a,b,c||this)},c.onPossiblyUnhandledRejection=function(a){var b=c._getContext();C=H.contextBind(b,a)},c.onUnhandledRejectionHandled=function(a){var b=c._getContext();B=H.contextBind(b,a)};var U=function(){};c.longStackTraces=function(){if(F.haveItemsQueued()&&!ca.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ca.longStackTraces&&y()){var a=c.prototype._captureStackTrace,b=c.prototype._attachExtraTrace,e=c.prototype._dereferenceTrace;ca.longStackTraces=!0,U=function(){if(F.haveItemsQueued()&&!ca.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");c.prototype._captureStackTrace=a,c.prototype._attachExtraTrace=b,c.prototype._dereferenceTrace=e,d.deactivateLongStackTraces(),ca.longStackTraces=!1},c.prototype._captureStackTrace=p,c.prototype._attachExtraTrace=q,c.prototype._dereferenceTrace=r,d.activateLongStackTraces()}},c.hasLongStackTraces=function(){return ca.longStackTraces&&y()};var V={unhandledrejection:{before:function(){var a=H.global.onunhandledrejection;return H.global.onunhandledrejection=null,a},after:function(a){H.global.onunhandledrejection=a}},rejectionhandled:{before:function(){var a=H.global.onrejectionhandled;return H.global.onrejectionhandled=null,a},after:function(a){H.global.onrejectionhandled=a}}},W=function(){var a=function(a,b){if(!a)return!H.global.dispatchEvent(b);var c;try{return c=a.before(),!H.global.dispatchEvent(b)}finally{a.after(c)}};try{if("function"==typeof CustomEvent){var b=new CustomEvent("CustomEvent");return H.global.dispatchEvent(b),function(b,c){b=b.toLowerCase();var d={detail:c,cancelable:!0},e=new CustomEvent(b,d);return I.defineProperty(e,"promise",{value:c.promise}),I.defineProperty(e,"reason",{value:c.reason}),a(V[b],e)}}if("function"==typeof Event){var b=new Event("CustomEvent");return H.global.dispatchEvent(b),function(b,c){b=b.toLowerCase();var d=new Event(b,{cancelable:!0});return d.detail=c,I.defineProperty(d,"promise",{value:c.promise}),I.defineProperty(d,"reason",{value:c.reason}),a(V[b],d)}}var b=document.createEvent("CustomEvent");return b.initCustomEvent("testingtheevent",!1,!0,{}),H.global.dispatchEvent(b),function(b,c){b=b.toLowerCase();var d=document.createEvent("CustomEvent");return d.initCustomEvent(b,!1,!0,c),a(V[b],d)}}catch(a){}return function(){return!1}}(),X=H.isNode?function(){return b.emit.apply(b,arguments)}:H.global?function(a){var b="on"+a.toLowerCase(),c=H.global[b];return!!c&&(c.apply(H.global,[].slice.call(arguments,1)),!0)}:function(){return!1},Y={promiseCreated:g,promiseFulfilled:g,promiseRejected:g,promiseResolved:g,promiseCancelled:g,promiseChained:function(a,b,c){return{promise:b,child:c}},warning:function(a,b){return{warning:b}},unhandledRejection:function(a,b,c){return{reason:b,promise:c}},rejectionHandled:g},Z=function(a){var b=!1;try{b=X.apply(null,arguments)}catch(a){F.throwLater(a),b=!0}var c=!1;try{c=W(a,Y[a].apply(null,arguments))}catch(a){F.throwLater(a),c=!0}return c||b};c.config=function(a){if("longStackTraces"in(a=Object(a))&&(a.longStackTraces?c.longStackTraces():!a.longStackTraces&&c.hasLongStackTraces()&&U()),"warnings"in a){var b=a.warnings;ca.warnings=!!b,T=ca.warnings,H.isObject(b)&&"wForgottenReturn"in b&&(T=!!b.wForgottenReturn)}if("cancellation"in a&&a.cancellation&&!ca.cancellation){if(F.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");c.prototype._clearCancellationData=m,c.prototype._propagateFrom=n,c.prototype._onCancel=k,c.prototype._setOnCancel=l,c.prototype._attachCancellationCallback=j,c.prototype._execute=i,$=n,ca.cancellation=!0}if("monitoring"in a&&(a.monitoring&&!ca.monitoring?(ca.monitoring=!0,c.prototype._fireEvent=Z):!a.monitoring&&ca.monitoring&&(ca.monitoring=!1,c.prototype._fireEvent=h)),"asyncHooks"in a&&H.nodeSupportsAsyncResource){var d=ca.asyncHooks,g=!!a.asyncHooks;d!==g&&(ca.asyncHooks=g,g?e():f())}return c},c.prototype._fireEvent=h,c.prototype._execute=function(a,b,c){try{a(b,c)}catch(a){return a}},c.prototype._onCancel=function(){},c.prototype._setOnCancel=function(a){},c.prototype._attachCancellationCallback=function(a){},c.prototype._captureStackTrace=function(){},c.prototype._attachExtraTrace=function(){},c.prototype._dereferenceTrace=function(){},c.prototype._clearCancellationData=function(){},c.prototype._propagateFrom=function(a,b){};var $=function(a,b){0!=(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)},_=function(){return!1},aa=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;H.inherits(A,Error),d.CapturedTrace=A,A.prototype.uncycle=function(){var a=this._length;if(!(a<2)){for(var b=[],c={},d=0,e=this;void 0!==e;++d)b.push(e),e=e._parent;for(var d=(a=this._length=d)-1;d>=0;--d){var f=b[d].stack;void 0===c[f]&&(c[f]=d)}for(var d=0;d<a;++d){var g=b[d].stack,h=c[g];if(void 0!==h&&h!==d){h>0&&(b[h-1]._parent=void 0,b[h-1]._length=1),b[d]._parent=void 0,b[d]._length=1;var i=d>0?b[d-1]:this;h<a-1?(i._parent=b[h+1],i._parent.uncycle(),i._length=i._parent._length+1):(i._parent=void 0,i._length=1);for(var j=i._length+1,k=d-2;k>=0;--k)b[k]._length=j,j++;return}}}},A.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var b=u(a),c=b.message,d=[b.stack],e=this;void 0!==e;)d.push(t(e.stack.split("\n"))),e=e._parent;!function(a){for(var b=a[0],c=1;c<a.length;++c){for(var d=a[c],e=b.length-1,f=b[e],g=-1,h=d.length-1;h>=0;--h)if(d[h]===f){g=h;break}for(var h=g;h>=0;--h){var i=d[h];if(b[e]!==i)break;b.pop(),e--}b=d}}(d),function(a){for(var b=0;b<a.length;++b)(0===a[b].length||b+1<a.length&&a[b][0]===a[b+1][0])&&(a.splice(b,1),b--)}(d),H.notEnumerableProp(a,"stack",function(a,b){for(var c=0;c<b.length-1;++c)b[c].push("From previous event:"),b[c]=b[c].join("\n");return c<b.length&&(b[c]=b[c].join("\n")),a+"\n"+b.join("\n")}(c,d)),H.notEnumerableProp(a,"__stackCleaned__",!0)}};var ba=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"==typeof a?a:void 0!==b.name&&void 0!==b.message?b.toString():x(b)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,N=a,O=b;var c=Error.captureStackTrace;return _=function(a){return K.test(a)},function(a,b){Error.stackTraceLimit+=6,c(a,b),Error.stackTraceLimit-=6}}var d,e=new Error;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return N=/@/,O=b,P=!0,function(a){a.stack=(new Error).stack};try{throw new Error}catch(a){d="stack"in a}return"stack"in e||!d||"number"!=typeof Error.stackTraceLimit?(O=function(a,b){return"string"==typeof a?a:"object"!=typeof b&&"function"!=typeof b||void 0===b.name||void 0===b.message?x(b):b.toString()},null):(N=a,O=b,function(a){Error.stackTraceLimit+=6;try{throw new Error}catch(b){a.stack=b.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(D=function(a){console.warn(a)},H.isNode&&b.stderr.isTTY?D=function(a,b){var c=b?"[33m":"[31m";console.warn(c+a+"[0m\n")}:H.isNode||"string"!=typeof(new Error).stack||(D=function(a,b){console.warn("%c"+a,b?"color: darkorange":"color: red")}));var ca={warnings:R,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return S&&c.longStackTraces(),{asyncHooks:function(){return ca.asyncHooks},longStackTraces:function(){return ca.longStackTraces},warnings:function(){return ca.warnings},cancellation:function(){return ca.cancellation},monitoring:function(){return ca.monitoring},propagateFromFunction:function(){return $},boundValueFunction:function(){return o},checkForgottenReturns:function(a,b,c,d,e){if(void 0===a&&null!==b&&T){if(void 0!==e&&e._returnedNonUndefined())return;if(0==(65535&d._bitField))return;c&&(c+=" ");var f="",g="";if(b._trace){for(var h=b._trace.stack.split("\n"),i=t(h),j=i.length-1;j>=0;--j){var k=i[j];if(!L.test(k)){var l=k.match(M);l&&(f="at "+l[1]+":"+l[2]+":"+l[3]+" ");break}}if(i.length>0)for(var m=i[0],j=0;j<h.length;++j)if(h[j]===m){j>0&&(g="\n"+h[j-1]);break}}var n="a promise was created in a "+c+"handler "+f+"but was not returned from it, see http://goo.gl/rRqMUw"+g;d._warn(n,!0,b)}},setBounds:function(a,b){if(y()){for(var c,d,e=(a.stack||"").split("\n"),f=(b.stack||"").split("\n"),g=-1,h=-1,i=0;i<e.length;++i){var j=z(e[i]);if(j){c=j.fileName,g=j.line;break}}for(var i=0;i<f.length;++i){var j=z(f[i]);if(j){d=j.fileName,h=j.line;break}}g<0||h<0||!c||!d||c!==d||g>=h||(_=function(a){if(K.test(a))return!0;var b=z(a);return!!(b&&b.fileName===c&&g<=b.line&&b.line<=h)})}},warn:s,deprecated:function(a,b){var c=a+" is deprecated and will be removed in a future version.";return b&&(c+=" Use "+b+" instead."),s(c)},CapturedTrace:A,fireDomEvent:W,fireGlobalEvent:X}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(a,b,c){"use strict";b.exports=function(a){function b(){return this.value}function c(){throw this.reason}a.prototype.return=a.prototype.thenReturn=function(c){return c instanceof a&&c.suppressUnhandledRejections(),this._then(b,void 0,void 0,{value:c},void 0)},a.prototype.throw=a.prototype.thenThrow=function(a){return this._then(c,void 0,void 0,{reason:a},void 0)},a.prototype.catchThrow=function(a){if(arguments.length<=1)return this._then(void 0,c,void 0,{reason:a},void 0);var b=arguments[1];return this.caught(a,function(){throw b})},a.prototype.catchReturn=function(c){if(arguments.length<=1)return c instanceof a&&c.suppressUnhandledRejections(),this._then(void 0,b,void 0,{value:c},void 0);var d=arguments[1];return d instanceof a&&d.suppressUnhandledRejections(),this.caught(c,function(){return d})}}},{}],11:[function(a,b,c){"use strict";b.exports=function(a,b){function c(){return e(this)}var d=a.reduce,e=a.all;a.prototype.each=function(a){return d(this,a,b,0)._then(c,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(a){return d(this,a,b,b)},a.each=function(a,e){return d(a,e,b,0)._then(c,void 0,void 0,a,void 0)},a.mapSeries=function(a,c){return d(a,c,b,b)}}},{}],12:[function(a,b,c){"use strict";function d(a,b){function c(d){return this instanceof c?(l(this,"message","string"==typeof d?d:b),l(this,"name",a),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this),void 0):new c(d)}return k(c,Error),c}function e(a){return this instanceof e?(l(this,"name","OperationalError"),l(this,"message",a),this.cause=a,this.isOperational=!0,a instanceof Error?(l(this,"message",a.message),l(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),void 0):new e(a)}var f,g,h=a("./es5"),i=h.freeze,j=a("./util"),k=j.inherits,l=j.notEnumerableProp,m=d("Warning","warning"),n=d("CancellationError","cancellation error"),o=d("TimeoutError","timeout error"),p=d("AggregateError","aggregate error");try{f=TypeError,g=RangeError}catch(a){f=d("TypeError","type error"),g=d("RangeError","range error")}for(var q="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),r=0;r<q.length;++r)"function"==typeof Array.prototype[q[r]]&&(p.prototype[q[r]]=Array.prototype[q[r]]);h.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var s=0;p.prototype.toString=function(){var a=Array(4*s+1).join(" "),b="\n"+a+"AggregateError of:\n";s++,a=Array(4*s+1).join(" ");for(var c=0;c<this.length;++c){for(var d=this[c]===this?"[Circular AggregateError]":this[c]+"",e=d.split("\n"),f=0;f<e.length;++f)e[f]=a+e[f];d=e.join("\n"),b+=d+"\n"}return s--,b},k(e,Error);var t=Error.__BluebirdErrorTypes__;t||(t=i({CancellationError:n,TimeoutError:o,OperationalError:e,RejectionError:e,AggregateError:p}),h.defineProperty(Error,"__BluebirdErrorTypes__",{value:t,writable:!1,enumerable:!1,configurable:!1})),b.exports={Error:Error,TypeError:f,RangeError:g,CancellationError:t.CancellationError,OperationalError:t.OperationalError,TimeoutError:t.TimeoutError,AggregateError:t.AggregateError,Warning:m}},{"./es5":13,"./util":36}],13:[function(a,b,c){var d=function(){"use strict";return void 0===this}();if(d)b.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:d,propertyIsWritable:function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return!(c&&!c.writable&&!c.set)}};else{var e={}.hasOwnProperty,f={}.toString,g={}.constructor.prototype,h=function(a){var b=[];for(var c in a)e.call(a,c)&&b.push(c);return b};b.exports={isArray:function(a){try{return"[object Array]"===f.call(a)}catch(a){return!1}},keys:h,names:h,defineProperty:function(a,b,c){return a[b]=c.value,a},getDescriptor:function(a,b){return{value:a[b]}},freeze:function(a){return a},getPrototypeOf:function(a){try{return Object(a).constructor.prototype}catch(a){return g}},isES5:d,propertyIsWritable:function(){return!0}}}},{}],14:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.map;a.prototype.filter=function(a,d){return c(this,a,d,b)},a.filter=function(a,d,e){return c(a,d,e,b)}}},{}],15:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a,b,c){this.promise=a,this.type=b,this.handler=c,this.called=!1,this.cancelPromise=null}function f(a){this.finallyHandler=a}function g(a,b){return null!=a.cancelPromise&&(arguments.length>1?a.cancelPromise._reject(b):a.cancelPromise._cancel(),a.cancelPromise=null,!0)}function h(){return j.call(this,this.promise._target()._settledValue())}function i(a){if(!g(this,a))return m.e=a,
m}function j(a){var e=this.promise,j=this.handler;if(!this.called){this.called=!0;var k=this.isFinallyHandler()?j.call(e._boundValue()):j.call(e._boundValue(),a);if(k===d)return k;if(void 0!==k){e._setReturnedNonUndefined();var n=c(k,e);if(n instanceof b){if(null!=this.cancelPromise){if(n._isCancelled()){var o=new l("late cancellation observer");return e._attachExtraTrace(o),m.e=o,m}n.isPending()&&n._attachCancellationCallback(new f(this))}return n._then(h,i,void 0,this,void 0)}}}return e.isRejected()?(g(this),m.e=a,m):(g(this),a)}var k=a("./util"),l=b.CancellationError,m=k.errorObj,n=a("./catch_filter")(d);return e.prototype.isFinallyHandler=function(){return 0===this.type},f.prototype._resultCancelled=function(){g(this.finallyHandler)},b.prototype._passThrough=function(a,b,c,d){return"function"!=typeof a?this.then():this._then(c,d,void 0,new e(this,b,a),void 0)},b.prototype.lastly=b.prototype.finally=function(a){return this._passThrough(a,0,j,j)},b.prototype.tap=function(a){return this._passThrough(a,1,j)},b.prototype.tapCatch=function(a){var c=arguments.length;if(1===c)return this._passThrough(a,1,void 0,j);var d,e=new Array(c-1),f=0;for(d=0;d<c-1;++d){var g=arguments[d];if(!k.isObject(g))return b.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+k.classString(g)));e[f++]=g}e.length=f;var h=arguments[d];return this._passThrough(n(e,h,this),1,void 0,j)},e}},{"./catch_filter":7,"./util":36}],16:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,e,f){if(g.cancellation()){var h=new b(d),i=this._finallyPromise=new b(d);this._promise=h.lastly(function(){return i}),h._captureStackTrace(),h._setOnCancel(this)}else{var j=this._promise=new b(d);j._captureStackTrace()}this._stack=f,this._generatorFunction=a,this._receiver=c,this._generator=void 0,this._yieldHandlers="function"==typeof e?[e].concat(n):n,this._yieldedPromise=null,this._cancellationPhase=!1}var i=a("./errors"),j=i.TypeError,k=a("./util"),l=k.errorObj,m=k.tryCatch,n=[];k.inherits(h,f),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,g.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var a,c=void 0!==this._generator.return;if(c)this._promise._pushContext(),a=m(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var d=new b.CancellationError("generator .return() sentinel");b.coroutine.returnSentinel=d,this._promise._attachExtraTrace(d),this._promise._pushContext(),a=m(this._generator.throw).call(this._generator,d),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(a)}},h.prototype._promiseFulfilled=function(a){this._yieldedPromise=null,this._promise._pushContext();var b=m(this._generator.next).call(this._generator,a);this._promise._popContext(),this._continue(b)},h.prototype._promiseRejected=function(a){this._yieldedPromise=null,this._promise._attachExtraTrace(a),this._promise._pushContext();var b=m(this._generator.throw).call(this._generator,a);this._promise._popContext(),this._continue(b)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof b){var a=this._yieldedPromise;this._yieldedPromise=null,a.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(a){var c=this._promise;if(a===l)return this._cleanup(),this._cancellationPhase?c.cancel():c._rejectCallback(a.e,!1);var d=a.value;if(!0===a.done)return this._cleanup(),this._cancellationPhase?c.cancel():c._resolveCallback(d);var f=e(d,this._promise);if(f instanceof b||null!==(f=function(a,c,d){for(var f=0;f<c.length;++f){d._pushContext();var g=m(c[f])(a);if(d._popContext(),g===l){d._pushContext();var h=b.reject(l.e);return d._popContext(),h}var i=e(g,d);if(i instanceof b)return i}return null}(f,this._yieldHandlers,this._promise))){var g=(f=f._target())._bitField;0==(50397184&g)?(this._yieldedPromise=f,f._proxy(this,null)):0!=(33554432&g)?b._async.invoke(this._promiseFulfilled,this,f._value()):0!=(16777216&g)?b._async.invoke(this._promiseRejected,this,f._reason()):this._promiseCancelled()}else this._promiseRejected(new j("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(d))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},b.coroutine=function(a,b){if("function"!=typeof a)throw new j("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var c=Object(b).yieldHandler,d=h,e=(new Error).stack;return function(){var b=a.apply(this,arguments),f=new d(void 0,void 0,c,e),g=f.promise();return f._generator=b,f._promiseFulfilled(void 0),g}},b.coroutine.addYieldHandler=function(a){if("function"!=typeof a)throw new j("expecting a function but got "+k.classString(a));n.push(a)},b.spawn=function(a){if(g.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof a)return c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var d=new h(a,this),e=d.promise();return d._run(b.spawn),e}}},{"./errors":12,"./util":36}],17:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){var g=a("./util");g.canEvaluate,g.tryCatch,g.errorObj,b.join=function(){var a,b=arguments.length-1;b>0&&"function"==typeof arguments[b]&&(a=arguments[b]);var d=[].slice.call(arguments);a&&d.pop();var e=new c(d).promise();return void 0!==a?e.spread(a):e}}},{"./util":36}],18:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,d,e){this.constructor$(a),this._promise._captureStackTrace();var g=b._getContext();if(this._callback=j.contextBind(g,c),this._preservedValues=e===f?new Array(this.length()):null,this._limit=d,this._inFlight=0,this._queue=[],m.invoke(this._asyncInit,this,void 0),j.isArray(a))for(var h=0;h<a.length;++h){var i=a[h];i instanceof b&&i.suppressUnhandledRejections()}}function i(a,c,e,f){if("function"!=typeof c)return d("expecting a function but got "+j.classString(c));var g=0;if(void 0!==e){if("object"!=typeof e||null===e)return b.reject(new TypeError("options argument must be an object but it is "+j.classString(e)));if("number"!=typeof e.concurrency)return b.reject(new TypeError("'concurrency' must be a number but it is "+j.classString(e.concurrency)));g=e.concurrency}return g="number"==typeof g&&isFinite(g)&&g>=1?g:0,new h(a,c,g,f).promise()}var j=a("./util"),k=j.tryCatch,l=j.errorObj,m=b._async;j.inherits(h,c),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(a,c){var d=this._values,f=this.length(),h=this._preservedValues,i=this._limit;if(c<0){if(d[c=-1*c-1]=a,i>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(i>=1&&this._inFlight>=i)return d[c]=a,this._queue.push(c),!1;null!==h&&(h[c]=a);var j=this._promise,m=this._callback,n=j._boundValue();j._pushContext();var o=k(m).call(n,a,c,f),p=j._popContext();if(g.checkForgottenReturns(o,p,null!==h?"Promise.filter":"Promise.map",j),o===l)return this._reject(o.e),!0;var q=e(o,this._promise);if(q instanceof b){var r=(q=q._target())._bitField;if(0==(50397184&r))return i>=1&&this._inFlight++,d[c]=q,q._proxy(this,-1*(c+1)),!1;if(0==(33554432&r))return 0!=(16777216&r)?(this._reject(q._reason()),!0):(this._cancel(),!0);o=q._value()}d[c]=o}var s=++this._totalResolved;return s>=f&&(null!==h?this._filter(d,h):this._resolve(d),!0)},h.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,c=this._values;a.length>0&&this._inFlight<b;){if(this._isResolved())return;var d=a.pop();this._promiseFulfilled(c[d],d)}},h.prototype._filter=function(a,b){for(var c=b.length,d=new Array(c),e=0,f=0;f<c;++f)a[f]&&(d[e++]=b[f]);d.length=e,this._resolve(d)},h.prototype.preservedValues=function(){return this._preservedValues},b.prototype.map=function(a,b){return i(this,a,b,null)},b.map=function(a,b,c,d){return i(a,b,c,d)}}},{"./util":36}],19:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){var g=a("./util"),h=g.tryCatch;b.method=function(a){if("function"!=typeof a)throw new b.TypeError("expecting a function but got "+g.classString(a));return function(){var d=new b(c);d._captureStackTrace(),d._pushContext();var e=h(a).apply(this,arguments),g=d._popContext();return f.checkForgottenReturns(e,g,"Promise.method",d),d._resolveFromSyncValue(e),d}},b.attempt=b.try=function(a){if("function"!=typeof a)return e("expecting a function but got "+g.classString(a));var d,i=new b(c);if(i._captureStackTrace(),i._pushContext(),arguments.length>1){f.deprecated("calling Promise.try with more than 1 argument");var j=arguments[1],k=arguments[2];d=g.isArray(j)?h(a).apply(k,j):h(a).call(k,j)}else d=h(a)();var l=i._popContext();return f.checkForgottenReturns(d,l,"Promise.try",i),i._resolveFromSyncValue(d),i},b.prototype._resolveFromSyncValue=function(a){a===g.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}},{"./util":36}],20:[function(a,b,c){"use strict";function d(a){var b;if(function(a){return a instanceof Error&&i.getPrototypeOf(a)===Error.prototype}(a)){(b=new h(a)).name=a.name,b.message=a.message,b.stack=a.stack;for(var c=i.keys(a),d=0;d<c.length;++d){var f=c[d];j.test(f)||(b[f]=a[f])}return b}return e.markAsOriginatingFromRejection(a),a}var e=a("./util"),f=e.maybeWrapAsError,g=a("./errors"),h=g.OperationalError,i=a("./es5"),j=/^(?:name|message|stack|cause)$/;b.exports=function(a,b){return function(c,e){if(null!==a){if(c){var g=d(f(c));a._attachExtraTrace(g),a._reject(g)}else if(b){var h=[].slice.call(arguments,1);a._fulfill(h)}else a._fulfill(e);a=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b){if(!f.isArray(a))return d.call(this,a,b);var c=h(b).apply(this._boundValue(),[null].concat(a));c===i&&g.throwLater(c.e)}function d(a,b){var c=this._boundValue(),d=void 0===a?h(b).call(c,null):h(b).call(c,null,a);d===i&&g.throwLater(d.e)}function e(a,b){if(!a){var c=new Error(a+"");c.cause=a,a=c}var d=h(b).call(this._boundValue(),a);d===i&&g.throwLater(d.e)}var f=a("./util"),g=b._async,h=f.tryCatch,i=f.errorObj;b.prototype.asCallback=b.prototype.nodeify=function(a,b){if("function"==typeof a){var f=d;void 0!==b&&Object(b).spread&&(f=c),this._then(f,e,void 0,this,a)}return this}}},{"./util":36}],22:[function(a,c,d){"use strict";c.exports=function(){function d(){}function e(a){a!==y&&function(a,b){if(null==a||a.constructor!==e)throw new w("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof b)throw new w("expecting a function but got "+m.classString(b))}(this,a),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(a),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function f(a){this.promise._resolveCallback(a)}function g(a){this.promise._rejectCallback(a,!1)}function h(a){var b=new e(y);b._fulfillmentHandler0=a,b._rejectionHandler0=a,b._promise0=a,b._receiver0=a}var i=function(){return new w("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},j=function(){return new e.PromiseInspection(this._target())},k=function(a){return e.reject(new w(a))},l={},m=a("./util");m.setReflectHandler(j);var n=function(){var a=b.domain;return void 0===a?null:a},o=function(){return{domain:n(),async:null}},p=m.isNode&&m.nodeSupportsAsyncResource?a("async_hooks").AsyncResource:null,q=function(){return{domain:n(),async:new p("Bluebird::Promise")}},r=m.isNode?o:function(){return null};m.notEnumerableProp(e,"_getContext",r);var s=a("./es5"),t=a("./async"),u=new t;s.defineProperty(e,"_async",{value:u});var v=a("./errors"),w=e.TypeError=v.TypeError;e.RangeError=v.RangeError;var x=e.CancellationError=v.CancellationError;e.TimeoutError=v.TimeoutError,e.OperationalError=v.OperationalError,e.RejectionError=v.OperationalError,e.AggregateError=v.AggregateError;var y=function(){},z={},A={},B=a("./thenables")(e,y),C=a("./promise_array")(e,y,B,k,d),D=a("./context")(e),E=D.create,F=a("./debuggability")(e,D,function(){r=q,m.notEnumerableProp(e,"_getContext",q)},function(){r=o,m.notEnumerableProp(e,"_getContext",o)}),G=(F.CapturedTrace,a("./finally")(e,B,A)),H=a("./catch_filter")(A),I=a("./nodeback"),J=m.errorObj,K=m.tryCatch;return e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype.catch=function(a){var b=arguments.length;if(b>1){var c,d=new Array(b-1),e=0;for(c=0;c<b-1;++c){var f=arguments[c];if(!m.isObject(f))return k("Catch statement predicate: expecting an object but got "+m.classString(f));d[e++]=f}if(d.length=e,"function"!=typeof(a=arguments[c]))throw new w("The last argument to .catch() must be a function, got "+m.toString(a));return this.then(void 0,H(d,a,this))}return this.then(void 0,a)},e.prototype.reflect=function(){return this._then(j,j,void 0,this,void 0)},e.prototype.then=function(a,b){if(F.warnings()&&arguments.length>0&&"function"!=typeof a&&"function"!=typeof b){var c=".then() only accepts functions but was passed: "+m.classString(a);arguments.length>1&&(c+=", "+m.classString(b)),this._warn(c)}return this._then(a,b,void 0,void 0,void 0)},e.prototype.done=function(a,b){var c=this._then(a,b,void 0,void 0,void 0);c._setIsFinal()},e.prototype.spread=function(a){return"function"!=typeof a?k("expecting a function but got "+m.classString(a)):this.all()._then(a,void 0,void 0,z,void 0)},e.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0),a},e.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new C(this).promise()},e.prototype.error=function(a){return this.caught(m.originatesFromRejection,a)},e.getNewLibraryCopy=c.exports,e.is=function(a){return a instanceof e},e.fromNode=e.fromCallback=function(a){var b=new e(y);b._captureStackTrace();var c=arguments.length>1&&!!Object(arguments[1]).multiArgs,d=K(a)(I(b,c));return d===J&&b._rejectCallback(d.e,!0),b._isFateSealed()||b._setAsyncGuaranteed(),b},e.all=function(a){return new C(a).promise()},e.cast=function(a){var b=B(a);return b instanceof e||((b=new e(y))._captureStackTrace(),b._setFulfilled(),b._rejectionHandler0=a),b},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(a){var b=new e(y);return b._captureStackTrace(),b._rejectCallback(a,!0),b},e.setScheduler=function(a){if("function"!=typeof a)throw new w("expecting a function but got "+m.classString(a));return u.setScheduler(a)},e.prototype._then=function(a,b,c,d,f){var g=void 0!==f,h=g?f:new e(y),i=this._target(),j=i._bitField;g||(h._propagateFrom(this,3),h._captureStackTrace(),void 0===d&&0!=(2097152&this._bitField)&&(d=0!=(50397184&j)?this._boundValue():i===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,h));var k=r();if(0!=(50397184&j)){var l,n,o=i._settlePromiseCtx;0!=(33554432&j)?(n=i._rejectionHandler0,l=a):0!=(16777216&j)?(n=i._fulfillmentHandler0,l=b,i._unsetRejectionIsUnhandled()):(o=i._settlePromiseLateCancellationObserver,n=new x("late cancellation observer"),i._attachExtraTrace(n),l=b),u.invoke(o,i,{handler:m.contextBind(k,l),promise:h,receiver:d,value:n})}else i._addCallbacks(a,b,h,d,k);return h},e.prototype._length=function(){return 65535&this._bitField},e.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},e.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},e.prototype._setLength=function(a){this._bitField=-65536&this._bitField|65535&a},e.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},e.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},e.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},e.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},e.prototype._isFinal=function(){return(4194304&this._bitField)>0},e.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},e.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},e.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},e.prototype._setAsyncGuaranteed=function(){if(!u.hasCustomScheduler()){var a=this._bitField;this._bitField=a|(536870912&a)>>2^134217728}},e.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},e.prototype._receiverAt=function(a){var b=0===a?this._receiver0:this[4*a-4+3];if(b!==l)return void 0===b&&this._isBound()?this._boundValue():b},e.prototype._promiseAt=function(a){return this[4*a-4+2]},e.prototype._fulfillmentHandlerAt=function(a){return this[4*a-4+0]},e.prototype._rejectionHandlerAt=function(a){return this[4*a-4+1]},e.prototype._boundValue=function(){},e.prototype._migrateCallback0=function(a){a._bitField;var b=a._fulfillmentHandler0,c=a._rejectionHandler0,d=a._promise0,e=a._receiverAt(0);void 0===e&&(e=l),this._addCallbacks(b,c,d,e,null)},e.prototype._migrateCallbackAt=function(a,b){var c=a._fulfillmentHandlerAt(b),d=a._rejectionHandlerAt(b),e=a._promiseAt(b),f=a._receiverAt(b);void 0===f&&(f=l),this._addCallbacks(c,d,e,f,null)},e.prototype._addCallbacks=function(a,b,c,d,e){var f=this._length();if(f>=65531&&(f=0,this._setLength(0)),0===f)this._promise0=c,this._receiver0=d,"function"==typeof a&&(this._fulfillmentHandler0=m.contextBind(e,a)),"function"==typeof b&&(this._rejectionHandler0=m.contextBind(e,b));else{var g=4*f-4;this[g+2]=c,this[g+3]=d,"function"==typeof a&&(this[g+0]=m.contextBind(e,a)),"function"==typeof b&&(this[g+1]=m.contextBind(e,b))}return this._setLength(f+1),f},e.prototype._proxy=function(a,b){this._addCallbacks(void 0,void 0,b,a,null)},e.prototype._resolveCallback=function(a,b){if(0==(117506048&this._bitField)){if(a===this)return this._rejectCallback(i(),!1);var c=B(a,this);if(!(c instanceof e))return this._fulfill(a);b&&this._propagateFrom(c,2);var d=c._target();if(d!==this){var f=d._bitField;if(0==(50397184&f)){var g=this._length();g>0&&d._migrateCallback0(this);for(var h=1;h<g;++h)d._migrateCallbackAt(this,h);this._setFollowing(),this._setLength(0),this._setFollowee(c)}else if(0!=(33554432&f))this._fulfill(d._value());else if(0!=(16777216&f))this._reject(d._reason());else{var j=new x("late cancellation observer");d._attachExtraTrace(j),this._reject(j)}}else this._reject(i())}},e.prototype._rejectCallback=function(a,b,c){var d=m.ensureErrorObject(a),e=d===a;if(!e&&!c&&F.warnings()){var f="a promise was rejected with a non-error: "+m.classString(a);this._warn(f,!0)}this._attachExtraTrace(d,!!b&&e),this._reject(a)},e.prototype._resolveFromExecutor=function(a){if(a!==y){var b=this;this._captureStackTrace(),this._pushContext();var c=!0,d=this._execute(a,function(a){b._resolveCallback(a)},function(a){b._rejectCallback(a,c)});c=!1,this._popContext(),void 0!==d&&b._rejectCallback(d,!0)}},e.prototype._settlePromiseFromHandler=function(a,b,c,d){var e=d._bitField;if(0==(65536&e)){var f;d._pushContext(),b===z?c&&"number"==typeof c.length?f=K(a).apply(this._boundValue(),c):(f=J).e=new w("cannot .spread() a non-array: "+m.classString(c)):f=K(a).call(b,c);var g=d._popContext();0==(65536&(e=d._bitField))&&(f===A?d._reject(c):f===J?d._rejectCallback(f.e,!1):(F.checkForgottenReturns(f,g,"",d,this),d._resolveCallback(f)))}},e.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a},e.prototype._followee=function(){return this._rejectionHandler0},e.prototype._setFollowee=function(a){this._rejectionHandler0=a},e.prototype._settlePromise=function(a,b,c,f){var g=a instanceof e,h=this._bitField,i=0!=(134217728&h);0!=(65536&h)?(g&&a._invokeInternalOnCancel(),c instanceof G&&c.isFinallyHandler()?(c.cancelPromise=a,K(b).call(c,f)===J&&a._reject(J.e)):b===j?a._fulfill(j.call(c)):c instanceof d?c._promiseCancelled(a):g||a instanceof C?a._cancel():c.cancel()):"function"==typeof b?g?(i&&a._setAsyncGuaranteed(),this._settlePromiseFromHandler(b,c,f,a)):b.call(c,f,a):c instanceof d?c._isResolved()||(0!=(33554432&h)?c._promiseFulfilled(f,a):c._promiseRejected(f,a)):g&&(i&&a._setAsyncGuaranteed(),0!=(33554432&h)?a._fulfill(f):a._reject(f))},e.prototype._settlePromiseLateCancellationObserver=function(a){var b=a.handler,c=a.promise,d=a.receiver,f=a.value;"function"==typeof b?c instanceof e?this._settlePromiseFromHandler(b,d,f,c):b.call(d,f,c):c instanceof e&&c._reject(f)},e.prototype._settlePromiseCtx=function(a){this._settlePromise(a.promise,a.handler,a.receiver,a.value)},e.prototype._settlePromise0=function(a,b,c){var d=this._promise0,e=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(d,a,e,b)},e.prototype._clearCallbackDataAtIndex=function(a){var b=4*a-4;this[b+2]=this[b+3]=this[b+0]=this[b+1]=void 0},e.prototype._fulfill=function(a){var b=this._bitField;if(!((117506048&b)>>>16)){if(a===this){var c=i();return this._attachExtraTrace(c),this._reject(c)}this._setFulfilled(),this._rejectionHandler0=a,(65535&b)>0&&(0!=(134217728&b)?this._settlePromises():u.settlePromises(this),this._dereferenceTrace())}},e.prototype._reject=function(a){var b=this._bitField;if(!((117506048&b)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=a,this._isFinal())return u.fatalError(a,m.isNode);(65535&b)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},e.prototype._fulfillPromises=function(a,b){for(var c=1;c<a;c++){var d=this._fulfillmentHandlerAt(c),e=this._promiseAt(c),f=this._receiverAt(c);this._clearCallbackDataAtIndex(c),this._settlePromise(e,d,f,b)}},e.prototype._rejectPromises=function(a,b){for(var c=1;c<a;c++){var d=this._rejectionHandlerAt(c),e=this._promiseAt(c),f=this._receiverAt(c);this._clearCallbackDataAtIndex(c),this._settlePromise(e,d,f,b)}},e.prototype._settlePromises=function(){var a=this._bitField,b=65535&a;if(b>0){if(0!=(16842752&a)){var c=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,c,a),this._rejectPromises(b,c)}else{var d=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,d,a),this._fulfillPromises(b,d)}this._setLength(0)}this._clearCancellationData()},e.prototype._settledValue=function(){var a=this._bitField;return 0!=(33554432&a)?this._rejectionHandler0:0!=(16777216&a)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&s.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),e.defer=e.pending=function(){F.deprecated("Promise.defer","new Promise");var a=new e(y);return{promise:a,resolve:f,reject:g}},m.notEnumerableProp(e,"_makeSelfResolutionError",i),a("./method")(e,y,B,k,F),a("./bind")(e,y,B,F),a("./cancel")(e,C,k,F),a("./direct_resolve")(e),a("./synchronous_inspection")(e),a("./join")(e,C,B,y,u),e.Promise=e,e.version="3.7.1",a("./call_get.js")(e),a("./generators.js")(e,k,y,B,d,F),a("./map.js")(e,C,k,B,y,F),a("./nodeify.js")(e),a("./promisify.js")(e,y),a("./props.js")(e,C,B,k),a("./race.js")(e,y,B,k),a("./reduce.js")(e,C,k,B,y,F),a("./settle.js")(e,C,F),a("./some.js")(e,C,k),a("./timers.js")(e,y,F),a("./using.js")(e,k,B,E,y,F),a("./any.js")(e),a("./each.js")(e,y),a("./filter.js")(e,y),m.toFastProperties(e),m.toFastProperties(e.prototype),h({a:1}),h({b:2}),h({c:3}),h(1),h(function(){}),h(void 0),h(!1),h(new e(y)),F.setBounds(t.firstLineError,m.lastLineError),e}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a){var d=this._promise=new b(c);a instanceof b&&(d._propagateFrom(a,3),a.suppressUnhandledRejections()),d._setOnCancel(this),this._values=a,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var h=a("./util");return h.isArray,h.inherits(g,f),g.prototype.length=function(){return this._length},g.prototype.promise=function(){return this._promise},g.prototype._init=function a(c,f){var g=d(this._values,this._promise);if(g instanceof b){var i=(g=g._target())._bitField;if(this._values=g,0==(50397184&i))return this._promise._setAsyncGuaranteed(),g._then(a,this._reject,void 0,this,f);if(0==(33554432&i))return 0!=(16777216&i)?this._reject(g._reason()):this._cancel();g=g._value()}if(null!==(g=h.asArray(g)))0!==g.length?this._iterate(g):-5===f?this._resolveEmptyArray():this._resolve(function(a){switch(a){case-2:return[];case-3:return{};case-6:return new Map}}(f));else{var j=e("expecting an array or an iterable object but got "+h.classString(g)).reason();this._promise._rejectCallback(j,!1)}},g.prototype._iterate=function(a){var c=this.getActualLength(a.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var e=this._promise,f=!1,g=null,h=0;h<c;++h){var i=d(a[h],e);i instanceof b?(i=i._target(),g=i._bitField):g=null,f?null!==g&&i.suppressUnhandledRejections():null!==g?0==(50397184&g)?(i._proxy(this,h),this._values[h]=i):f=0!=(33554432&g)?this._promiseFulfilled(i._value(),h):0!=(16777216&g)?this._promiseRejected(i._reason(),h):this._promiseCancelled(h):f=this._promiseFulfilled(i,h)}f||e._setAsyncGuaranteed()},g.prototype._isResolved=function(){return null===this._values},g.prototype._resolve=function(a){this._values=null,this._promise._fulfill(a)},g.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},g.prototype._reject=function(a){this._values=null,this._promise._rejectCallback(a,!1)},g.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;return c>=this._length&&(this._resolve(this._values),!0)},g.prototype._promiseCancelled=function(){return this._cancel(),!0},g.prototype._promiseRejected=function(a){return this._totalResolved++,this._reject(a),!0},g.prototype._resultCancelled=function(){if(!this._isResolved()){var a=this._values;if(this._cancel(),a instanceof b)a.cancel();else for(var c=0;c<a.length;++c)a[c]instanceof b&&a[c].cancel()}},g.prototype.shouldCopyValues=function(){return!0},g.prototype.getActualLength=function(a){return a},g}},{"./util":36}],24:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){return!q.test(a)}function e(a){try{return!0===a.__isPromisified__}catch(a){return!1}}function f(a,b,c){var d=j.getDataPropertyOrDefault(a,b+c,p);return!!d&&e(d)}function g(a,b,c,d){for(var g=j.inheritedDataKeys(a),h=[],i=0;i<g.length;++i){var k=g[i],l=a[k],m=d===r||r(k,l,a);"function"!=typeof l||e(l)||f(a,k,b)||!d(k,l,a,m)||h.push(k,l)}return function(a,b,c){for(var d=0;d<a.length;d+=2){var e=a[d];if(c.test(e))for(var f=e.replace(c,""),g=0;g<a.length;g+=2)if(a[g]===f)throw new o("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",b))}}(h,b,c),h}function h(a,b,c,d,e){for(var f=new RegExp(s(b)+"$"),h=g(a,b,f,c),k=0,l=h.length;k<l;k+=2){var m=h[k],n=h[k+1],o=m+b;if(d===t)a[o]=t(m,i,m,n,b,e);else{var p=d(n,function(){return t(m,i,m,n,b,e)});j.notEnumerableProp(p,"__isPromisified__",!0),a[o]=p}}return j.toFastProperties(a),a}var i={},j=a("./util"),k=a("./nodeback"),l=j.withAppended,m=j.maybeWrapAsError,n=j.canEvaluate,o=a("./errors").TypeError,p={__isPromisified__:!0},q=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),r=function(a){return j.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==a},s=function(a){return a.replace(/([$])/,"\\$")},t=n?void 0:function(a,d,e,f,g,h){function n(){var e=d;d===i&&(e=this);var f=new b(c);f._captureStackTrace();var g="string"==typeof p&&this!==o?this[p]:a,j=k(f,h);try{g.apply(e,l(arguments,j))}catch(a){f._rejectCallback(m(a),!0,!0)}return f._isFateSealed()||f._setAsyncGuaranteed(),f}var o=function(){return this}(),p=a;return"string"==typeof p&&(a=f),j.notEnumerableProp(n,"__isPromisified__",!0),n};b.promisify=function(a,b){if("function"!=typeof a)throw new o("expecting a function but got "+j.classString(a));if(e(a))return a;var c=void 0===(b=Object(b)).context?i:b.context,f=!!b.multiArgs,g=function(a,b,c){return t(a,b,void 0,a,null,c)}(a,c,f);return j.copyDescriptors(a,g,d),g},b.promisifyAll=function(a,b){if("function"!=typeof a&&"object"!=typeof a)throw new o("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var c=!!(b=Object(b)).multiArgs,d=b.suffix;"string"!=typeof d&&(d="Async");var e=b.filter;"function"!=typeof e&&(e=r);var f=b.promisifier;if("function"!=typeof f&&(f=t),!j.isIdentifier(d))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var g=j.inheritedDataKeys(a),i=0;i<g.length;++i){var k=a[g[i]];"constructor"!==g[i]&&j.isClass(k)&&(h(k.prototype,d,e,f,c),h(k,d,e,f,c))}return h(a,d,e,f,c)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){var b,c=!1;if(void 0!==h&&a instanceof h)b=l(a),c=!0;else{var d=k.keys(a),e=d.length;b=new Array(2*e);for(var f=0;f<e;++f){var g=d[f];b[f]=a[g],b[f+e]=g}}this.constructor$(b),this._isMap=c,this._init$(void 0,c?-6:-3)}function g(a){var c,g=d(a);return j(g)?(c=g instanceof b?g._then(b.props,void 0,void 0,void 0,void 0):new f(g).promise(),g instanceof b&&c._propagateFrom(g,2),c):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var h,i=a("./util"),j=i.isObject,k=a("./es5");"function"==typeof Map&&(h=Map);var l=function(){function a(a,d){this[b]=a,this[b+c]=d,b++}var b=0,c=0;return function(d){c=d.size,b=0;var e=new Array(2*d.size);return d.forEach(a,e),e}}();i.inherits(f,c),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;if(c>=this._length){var d;if(this._isMap)d=function(a){for(var b=new h,c=a.length/2|0,d=0;d<c;++d){var e=a[c+d],f=a[d];b.set(e,f)}return b}(this._values);else{d={};for(var e=this.length(),f=0,g=this.length();f<g;++f)d[this._values[f+e]]=this._values[f]}return this._resolve(d),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(a){return a>>1},b.prototype.props=function(){return g(this)},b.props=function(a){return g(a)}}},{"./es5":13,"./util":36}],26:[function(a,b,c){"use strict";function d(a){this._capacity=a,this._length=0,this._front=0}d.prototype._willBeOverCapacity=function(a){return this._capacity<a},d.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);var c=this._front+b&this._capacity-1;this[c]=a,this._length=b+1},d.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),void this._pushOne(c);var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},d.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},d.prototype.length=function(){return this._length},d.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)},
d.prototype._resizeTo=function(a){var b=this._capacity;this._capacity=a;var c=this._front,d=this._length,e=c+d&b-1;!function(a,b,c,d,e){for(var f=0;f<e;++f)c[f+d]=a[f+b],a[f+b]=void 0}(this,0,this,b,e)},b.exports=d},{}],27:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,f){var i=d(a);if(i instanceof b)return h(i);if(null===(a=g.asArray(a)))return e("expecting an array or an iterable object but got "+g.classString(a));var j=new b(c);void 0!==f&&j._propagateFrom(f,3);for(var k=j._fulfill,l=j._reject,m=0,n=a.length;m<n;++m){var o=a[m];(void 0!==o||m in a)&&b.cast(o)._then(k,l,void 0,j,null)}return j}var g=a("./util"),h=function(a){return a.then(function(b){return f(b,a)})};b.race=function(a){return f(a,void 0)},b.prototype.race=function(){return f(this,void 0)}}},{"./util":36}],28:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a,c,d,e){this.constructor$(a);var g=b._getContext();this._fn=m.contextBind(g,c),void 0!==d&&(d=b.resolve(d))._attachCancellationCallback(this),this._initialValue=d,this._currentCancellable=null,this._eachValues=e===f?Array(this._length):0===e?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function i(a,b){this.isFulfilled()?b._resolve(a):b._reject(a)}function j(a,b,c,e){if("function"!=typeof b)return d("expecting a function but got "+m.classString(b));var f=new h(a,b,c,e);return f.promise()}function k(a){this.accum=a,this.array._gotAccum(a);var c=e(this.value,this.array._promise);return c instanceof b?(this.array._currentCancellable=c,c._then(l,void 0,void 0,this,void 0)):l.call(this,c)}function l(a){var c,d=this.array,e=d._promise,f=n(d._fn);e._pushContext(),(c=void 0!==d._eachValues?f.call(e._boundValue(),a,this.index,this.length):f.call(e._boundValue(),this.accum,a,this.index,this.length))instanceof b&&(d._currentCancellable=c);var h=e._popContext();return g.checkForgottenReturns(c,h,void 0!==d._eachValues?"Promise.each":"Promise.reduce",e),c}var m=a("./util"),n=m.tryCatch;m.inherits(h,c),h.prototype._gotAccum=function(a){void 0!==this._eachValues&&null!==this._eachValues&&a!==f&&this._eachValues.push(a)},h.prototype._eachComplete=function(a){return null!==this._eachValues&&this._eachValues.push(a),this._eachValues},h.prototype._init=function(){},h.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},h.prototype.shouldCopyValues=function(){return!1},h.prototype._resolve=function(a){this._promise._resolveCallback(a),this._values=null},h.prototype._resultCancelled=function(a){return a===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof b&&this._currentCancellable.cancel(),this._initialValue instanceof b&&this._initialValue.cancel()))},h.prototype._iterate=function(a){var c,d;this._values=a;var e=a.length;void 0!==this._initialValue?(c=this._initialValue,d=0):(c=b.resolve(a[0]),d=1),this._currentCancellable=c;for(var f=d;f<e;++f){var g=a[f];g instanceof b&&g.suppressUnhandledRejections()}if(!c.isRejected())for(;d<e;++d){var h={accum:null,value:a[d],index:d,length:e,array:this};c=c._then(k,void 0,void 0,h,void 0),0==(127&d)&&c._setNoAsyncGuarantee()}void 0!==this._eachValues&&(c=c._then(this._eachComplete,void 0,void 0,this,void 0)),c._then(i,i,void 0,c,this)},b.prototype.reduce=function(a,b){return j(this,a,b,null)},b.reduce=function(a,b,c,d){return j(a,b,c,d)}}},{"./util":36}],29:[function(a,e,f){"use strict";var g,h=a("./util"),i=h.getNativePromise();if(h.isNode&&"undefined"==typeof MutationObserver){var j=c.setImmediate,k=b.nextTick;g=h.isRecentNode?function(a){j.call(c,a)}:function(a){k.call(b,a)}}else if("function"==typeof i&&"function"==typeof i.resolve){var l=i.resolve();g=function(a){l.then(a)}}else g="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var a=document.createElement("div"),b={attributes:!0},c=!1,d=document.createElement("div"),e=new MutationObserver(function(){a.classList.toggle("foo"),c=!1});return e.observe(d,b),function(e){var f=new MutationObserver(function(){f.disconnect(),e()});f.observe(a,b),c||(c=!0,d.classList.toggle("foo"))}}():void 0!==d?function(a){d(a)}:"undefined"!=typeof setTimeout?function(a){setTimeout(a,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};e.exports=g},{"./util":36}],30:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a)}var f=b.PromiseInspection,g=a("./util");g.inherits(e,c),e.prototype._promiseResolved=function(a,b){this._values[a]=b;var c=++this._totalResolved;return c>=this._length&&(this._resolve(this._values),!0)},e.prototype._promiseFulfilled=function(a,b){var c=new f;return c._bitField=33554432,c._settledValueField=a,this._promiseResolved(b,c)},e.prototype._promiseRejected=function(a,b){var c=new f;return c._bitField=16777216,c._settledValueField=a,this._promiseResolved(b,c)},b.settle=function(a){return d.deprecated(".settle()",".reflect()"),new e(a).promise()},b.allSettled=function(a){return new e(a).promise()},b.prototype.settle=function(){return b.settle(this)}}},{"./util":36}],31:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(a,b){if((0|b)!==b||b<0)return d("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var c=new e(a),f=c.promise();return c.setHowMany(b),c.init(),f}var g=a("./util"),h=a("./errors").RangeError,i=a("./errors").AggregateError,j=g.isArray,k={};g.inherits(e,c),e.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var a=j(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},e.prototype.init=function(){this._initialized=!0,this._init()},e.prototype.setUnwrap=function(){this._unwrap=!0},e.prototype.howMany=function(){return this._howMany},e.prototype.setHowMany=function(a){this._howMany=a},e.prototype._promiseFulfilled=function(a){return this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},e.prototype._promiseRejected=function(a){return this._addRejected(a),this._checkOutcome()},e.prototype._promiseCancelled=function(){return this._values instanceof b||null==this._values?this._cancel():(this._addRejected(k),this._checkOutcome())},e.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var a=new i,b=this.length();b<this._values.length;++b)this._values[b]!==k&&a.push(this._values[b]);return a.length>0?this._reject(a):this._cancel(),!0}return!1},e.prototype._fulfilled=function(){return this._totalResolved},e.prototype._rejected=function(){return this._values.length-this.length()},e.prototype._addRejected=function(a){this._values.push(a)},e.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},e.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},e.prototype._getRangeError=function(a){var b="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new h(b)},e.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},b.some=function(a,b){return f(a,b)},b.prototype.some=function(a){return f(this,a)},b._SomePromiseArray=e}},{"./errors":12,"./util":36}],32:[function(a,b,c){"use strict";b.exports=function(a){function b(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValueField=a._isFateSealed()?a._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}b.prototype._settledValue=function(){return this._settledValueField};var c=b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},d=b.prototype.error=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},e=b.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},f=b.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},g=b.prototype.isPending=function(){return 0==(50397184&this._bitField)},h=b.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};b.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},a.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},a.prototype._isCancelled=function(){return this._target().__isCancelled()},a.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},a.prototype.isPending=function(){return g.call(this._target())},a.prototype.isRejected=function(){return f.call(this._target())},a.prototype.isFulfilled=function(){return e.call(this._target())},a.prototype.isResolved=function(){return h.call(this._target())},a.prototype.value=function(){return c.call(this._target())},a.prototype.reason=function(){var a=this._target();return a._unsetRejectionIsUnhandled(),d.call(a)},a.prototype._value=function(){return this._settledValue()},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},a.PromiseInspection=b}},{}],33:[function(a,b,c){"use strict";b.exports=function(b,c){var d=a("./util"),e=d.errorObj,f=d.isObject,g={}.hasOwnProperty;return function(a,h){if(f(a)){if(a instanceof b)return a;var i=function(a){try{return function(a){return a.then}(a)}catch(a){return e.e=a,e}}(a);if(i===e){h&&h._pushContext();var j=b.reject(i.e);return h&&h._popContext(),j}if("function"==typeof i){if(function(a){try{return g.call(a,"_promise0")}catch(a){return!1}}(a)){var j=new b(c);return a._then(j._fulfill,j._reject,void 0,j,null),j}return function(a,f,g){var h=new b(c),i=h;g&&g._pushContext(),h._captureStackTrace(),g&&g._popContext();var j=!0,k=d.tryCatch(f).call(a,function(a){h&&(h._resolveCallback(a),h=null)},function(a){h&&(h._rejectCallback(a,j,!0),h=null)});return j=!1,h&&k===e&&(h._rejectCallback(k.e,!0,!0),h=null),i}(a,i,h)}}return a}}},{"./util":36}],34:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.handle=a}function f(a){return clearTimeout(this.handle),a}function g(a){throw clearTimeout(this.handle),a}var h=a("./util"),i=b.TimeoutError;e.prototype._resultCancelled=function(){clearTimeout(this.handle)};var j=function(a){return k(+this).thenReturn(a)},k=b.delay=function(a,f){var g,h;return void 0!==f?(g=b.resolve(f)._then(j,null,null,a,void 0),d.cancellation()&&f instanceof b&&g._setOnCancel(f)):(g=new b(c),h=setTimeout(function(){g._fulfill()},+a),d.cancellation()&&g._setOnCancel(new e(h)),g._captureStackTrace()),g._setAsyncGuaranteed(),g};b.prototype.delay=function(a){return k(a,this)},b.prototype.timeout=function(a,b){var c,j;a=+a;var k=new e(setTimeout(function(){c.isPending()&&function(a,b,c){var d;d="string"!=typeof b?b instanceof Error?b:new i("operation timed out"):new i(b),h.markAsOriginatingFromRejection(d),a._attachExtraTrace(d),a._reject(d),null!=c&&c.cancel()}(c,b,j)},a));return d.cancellation()?(j=this.then(),(c=j._then(f,g,void 0,k,void 0))._setOnCancel(k)):c=this._then(f,g,void 0,k,void 0),c}}},{"./util":36}],35:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f,g){function h(a){setTimeout(function(){throw a},0)}function i(a,c){var e=0,g=a.length,i=new b(f);return function f(){if(e>=g)return i._fulfill();var j=function(a){var b=d(a);return b!==a&&"function"==typeof a._isDisposable&&"function"==typeof a._getDisposer&&a._isDisposable()&&b._setDisposable(a._getDisposer()),b}(a[e++]);if(j instanceof b&&j._isDisposable()){try{j=d(j._getDisposer().tryDispose(c),a.promise)}catch(a){return h(a)}if(j instanceof b)return j._then(f,h,null,null,null)}f()}(),i}function j(a,b,c){this._data=a,this._promise=b,this._context=c}function k(a,b,c){this.constructor$(a,b,c)}function l(a){return j.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}function m(a){this.length=a,this.promise=null,this[a-1]=null}var n=a("./util"),o=a("./errors").TypeError,p=a("./util").inherits,q=n.errorObj,r=n.tryCatch,s={};j.prototype.data=function(){return this._data},j.prototype.promise=function(){return this._promise},j.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():s},j.prototype.tryDispose=function(a){var b=this.resource(),c=this._context;void 0!==c&&c._pushContext();var d=b!==s?this.doDispose(b,a):null;return void 0!==c&&c._popContext(),this._promise._unsetDisposable(),this._data=null,d},j.isDisposer=function(a){return null!=a&&"function"==typeof a.resource&&"function"==typeof a.tryDispose},p(k,j),k.prototype.doDispose=function(a,b){var c=this.data();return c.call(a,a,b)},m.prototype._resultCancelled=function(){for(var a=this.length,c=0;c<a;++c){var d=this[c];d instanceof b&&d.cancel()}},b.using=function(){var a=arguments.length;if(a<2)return c("you must pass at least 2 arguments to Promise.using");var e,f=arguments[a-1];if("function"!=typeof f)return c("expecting a function but got "+n.classString(f));var h=!0;2===a&&Array.isArray(arguments[0])?(e=arguments[0],a=e.length,h=!1):(e=arguments,a--);for(var k=new m(a),o=0;o<a;++o){var p=e[o];if(j.isDisposer(p)){var s=p;(p=p.promise())._setDisposable(s)}else{var t=d(p);t instanceof b&&(p=t._then(l,null,null,{resources:k,index:o},void 0))}k[o]=p}for(var u=new Array(k.length),o=0;o<u.length;++o)u[o]=b.resolve(k[o]).reflect();var v=b.all(u).then(function(a){for(var b=0;b<a.length;++b){var c=a[b];if(c.isRejected())return q.e=c.error(),q;if(!c.isFulfilled())return void v.cancel();a[b]=c.value()}w._pushContext(),f=r(f);var d=h?f.apply(void 0,a):f(a),e=w._popContext();return g.checkForgottenReturns(d,e,"Promise.using",w),d}),w=v.lastly(function(){var a=new b.PromiseInspection(v);return i(k,a)});return k.promise=w,w._setOnCancel(k),w},b.prototype._setDisposable=function(a){this._bitField=131072|this._bitField,this._disposer=a},b.prototype._isDisposable=function(){return(131072&this._bitField)>0},b.prototype._getDisposer=function(){return this._disposer},b.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},b.prototype.disposer=function(a){if("function"==typeof a)return new k(a,this,e());throw new o}}},{"./errors":12,"./util":36}],36:[function(a,d,e){"use strict";function f(){try{var a=C;return C=null,a.apply(this,arguments)}catch(a){return F.e=a,F}}function g(a){return C=a,f}function h(a){return null==a||!0===a||!1===a||"string"==typeof a||"number"==typeof a}function i(a){return"function"==typeof a||"object"==typeof a&&null!==a}function j(a){return h(a)?new Error(s(a)):a}function k(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;c<d;++c)e[c]=a[c];return e[c]=b,e}function l(a,b,c){if(!D.isES5)return{}.hasOwnProperty.call(a,b)?a[b]:void 0;var d=Object.getOwnPropertyDescriptor(a,b);return null!=d?null==d.get&&null==d.set?d.value:c:void 0}function m(a,b,c){if(h(a))return a;var d={value:c,configurable:!0,enumerable:!1,writable:!0};return D.defineProperty(a,b,d),a}function n(a){throw a}function o(a){try{if("function"==typeof a){var b=D.names(a.prototype),c=D.isES5&&b.length>1,d=b.length>0&&!(1===b.length&&"constructor"===b[0]),e=J.test(a+"")&&D.names(a).length>0;if(c||d||e)return!0}return!1}catch(a){return!1}}function p(a){function b(){}function c(){return typeof d.foo}b.prototype=a;var d=new b;return c(),c(),a}function q(a){return K.test(a)}function r(a,b,c){for(var d=new Array(a),e=0;e<a;++e)d[e]=b+e+c;return d}function s(a){try{return a+""}catch(a){return"[no string representation]"}}function t(a){return a instanceof Error||null!==a&&"object"==typeof a&&"string"==typeof a.message&&"string"==typeof a.name}function u(a){try{m(a,"isOperational",!0)}catch(a){}}function v(a){return null!=a&&(a instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===a.isOperational)}function w(a){return t(a)&&D.propertyIsWritable(a,"stack")}function x(a){return{}.toString.call(a)}function y(a,b,c){for(var d=D.names(a),e=0;e<d.length;++e){var f=d[e];if(c(f))try{D.defineProperty(b,f,D.getDescriptor(a,f))}catch(a){}}}function z(a){return Q?Object({NODE_ENV:"production"})[a]:void 0}function A(){if("function"==typeof Promise)try{var a=new Promise(function(){});if("[object Promise]"===x(a))return Promise}catch(a){}}function B(a,b){if(null===a||"function"!=typeof b||b===O)return b;null!==a.domain&&(b=a.domain.bind(b));var c=a.async;if(null!==c){var d=b;b=function(){var a=new Array(2).concat([].slice.call(arguments));return a[0]=d,a[1]=this,c.runInAsyncScope.apply(c,a)}}return b}var C,D=a("./es5"),E="undefined"==typeof navigator,F={e:{}},G="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==c?c:void 0!==this?this:null,H=function(a,b){function c(){for(var c in this.constructor=a,this.constructor$=b,b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype},I=function(){var a=[Array.prototype,Object.prototype,Function.prototype],b=function(b){for(var c=0;c<a.length;++c)if(a[c]===b)return!0;return!1};if(D.isES5){var c=Object.getOwnPropertyNames;return function(a){for(var d=[],e=Object.create(null);null!=a&&!b(a);){var f;try{f=c(a)}catch(a){return d}for(var g=0;g<f.length;++g){var h=f[g];if(!e[h]){e[h]=!0;var i=Object.getOwnPropertyDescriptor(a,h);null!=i&&null==i.get&&null==i.set&&d.push(h)}}a=D.getPrototypeOf(a)}return d}}var d={}.hasOwnProperty;return function(c){if(b(c))return[];var e=[];a:for(var f in c)if(d.call(c,f))e.push(f);else{for(var g=0;g<a.length;++g)if(d.call(a[g],f))continue a;e.push(f)}return e}}(),J=/this\s*\.\s*\S+\s*=/,K=/^[a-z$_][a-z$_0-9]*$/i,L="stack"in new Error?function(a){return w(a)?a:new Error(s(a))}:function(a){if(w(a))return a;try{throw new Error(s(a))}catch(a){return a}},M=function(a){return D.isArray(a)?a:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(a){return Array.from(a)}:function(a){for(var b,c=[],d=a[Symbol.iterator]();!(b=d.next()).done;)c.push(b.value);return c};M=function(a){return D.isArray(a)?a:null!=a&&"function"==typeof a[Symbol.iterator]?N(a):null}}var O,P=void 0!==b&&"[object process]"===x(b).toLowerCase(),Q=void 0!==b&&!0,R={setReflectHandler:function(a){O=a},isClass:o,isIdentifier:q,inheritedDataKeys:I,getDataPropertyOrDefault:l,thrower:n,isArray:D.isArray,asArray:M,notEnumerableProp:m,isPrimitive:h,isObject:i,isError:t,canEvaluate:E,errorObj:F,tryCatch:g,inherits:H,withAppended:k,maybeWrapAsError:j,toFastProperties:p,filledRange:r,toString:s,canAttachTrace:w,ensureErrorObject:L,originatesFromRejection:v,markAsOriginatingFromRejection:u,classString:x,copyDescriptors:y,isNode:P,hasEnvVariables:Q,env:z,global:G,getNativePromise:A,contextBind:B};R.isRecentNode=R.isNode&&function(){var a;return b.versions&&b.versions.node?a=b.versions.node.split(".").map(Number):b.version&&(a=b.version.split(".").map(Number)),0===a[0]&&a[1]>10||a[0]>0}(),R.nodeSupportsAsyncResource=R.isNode&&function(){var b=!1;try{var c=a("async_hooks").AsyncResource;b="function"==typeof c.prototype.runInAsyncScope}catch(a){b=!1}return b}(),R.isNode&&R.toFastProperties(b);try{throw new Error}catch(a){R.lastLineError=a}d.exports=R},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,c(87),c(28),c(358).setImmediate)},171:function(a,b,c){var d,e,f;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,!function(c,g){"use strict";e=[],void 0===(f="function"==typeof(d=function(){var a=[];return{on:function(b,c){if(!b||!c)throw new Error("Both event type and callback are required parameters");return a[b]||(a[b]=[]),a[b].push(c),this},remove:function(b,c){if(!b||!c)throw new Error("Both event type and callback are required parameters");if(a[b]){var d=a[b].indexOf(c);-1!==d&&a[b].splice(d,1)}return this},emit:function(b,c,d){var e,f=0;if(c=void 0!==c?c:[],c="[object Array]"===Object.prototype.toString.call(c)?c:[c],d="function"==typeof d?d:function(){},c.unshift({type:b,target:this,preventDefault:function(){c._prevented=!0}}),!b)throw new Error("Lacks of type parameter");if(a[b]&&a[b].length)for(e in a[b])a[b].hasOwnProperty(e)&&(a[b][e].apply(this,c),f+=1);if(a["*"]&&a["*"].length)for(e in a["*"])a["*"].hasOwnProperty(e)&&(a["*"][e].apply(this,c),f+=1);return c._prevented||d(),0!==f}}})?d.apply(b,e):d)||(a.exports=f)}()},2:function(a,b){a.exports=function(a){if(!a.webpackPolyfill){var b=Object.create(a);b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),Object.defineProperty(b,"exports",{enumerable:!0}),b.webpackPolyfill=1}return b}},20:function(a,b){a.exports=jQuery},204:function(a,b,c){(function(a){function b(a){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,!function(c,d){"use strict";"object"===b(a)&&a.exports?a.exports=d():_.set(c,"Stackla.Widget.Interaction",d())}(this,function(){"use strict";function a(a,b,e,f){var g=b._id?b._id.$id:null,h=c(a),i=$.cookie(h);if(h){g="vote"===a?d(g,f):g,i=_.isString(i)?i.split(","):[],i=e?_.union(i,[g]):_.without(i,g);var j=new Date((new Date).getTime()+36e5);$.cookie(h,i.join(","),{expires:j,path:"/; SameSite=None",secure:!0})}}function b(b,c,d,e){var f=b.id,h="like"===c?"numUps":"numDowns",i=b[h]+d,j=!1,k=$(".tile[data-id="+f+"] .tile-interaction-"+c);return b?(j=g(c,b,e),d>0?j=!0:d<0&&(j=!1),function(d){j=d?g(c,b,e):j,j=!!i&&j,b[h]=i,k.length&&(k.toggleClass("on",j),k.find(".tile-interaction-count").text(i||"")),a(c,b,j,e)}):$.noop}function c(a){var b=null;switch(a){case"up":case"like":b="votedUp";break;case"down":case"dislike":b="votedDown";break;case"vote":b="votedCompetitionStac9392"}return b}function d(a,b){return _.get(b,"style.parent_page_permission")?(a=[getUrlVars().data_user_id,b.stack_id,a].join(","),CryptoJS.MD5(a).toString().substr(0,6)):a}function e(a,c,d,e){var h,j=$.Deferred(),k="like"===c?"dislike":"like",l=b(a,c,0,d),m=b(a,k,0,d),n=g(c,a,d),o=!n;return b(a,c,n?-1:1,d)(),g(k,a,d)?(b(a,k,-1,d)(),h=function(a){l(a),m(a)}):h=function(a){l(a)},i(a.id,c,o,d).then(function(a){a.success?j.resolve(a):j.reject(a.error,h)},function(a,b,c){j.reject(c,h)}).always(function(){if(_.isFunction(e)){var b={};b[c]={on:g(c,a,d),count:a[f(c)]},b[k]={on:g(k,a,d),count:a[f(k)]},e(b)}}),j}function f(a){return"like"===a?"numUps":"numDowns"}function d(a,b){return _.get(b,"style.parent_page_permission")?(a=[getUrlVars().data_user_id,b.stack_id,a].join(","),CryptoJS.MD5(a).toString().substr(0,6)):a}function g(a,b,e){var f=c(a),g=b._id?b._id.$id:null,h=$.cookie(f);return!!f&&(g="vote"===a?d(g,e):g,h=_.isString(h)?h.split(","):[],_.contains(h,g))}function h(b,c,d){var e,f=b.id,h=b.numVotes+c,i=$(".tile[data-id="+f+"] .tile-interaction-vote");return b?(e=g("vote",b,d),function(){b.vote=h,e=1===c||e,i.length&&(i.toggleClass("on",e),i.find(".tile-interaction-count").text(h||"")),a("vote",b,e,d)}):$.noop}function i(a,b,c,d){var e=$.param({wid:d.guid,tile:a,up:"like"===b?"up":"down",add:c?1:0});return $.ajax({url:"/widget/like_dislike/"+d.id,data:e,type:"POST"})}function j(a,b,c){var d,e,f,i=a.id,j=b.id,k=$.Deferred(),l=b.style.parent_page_permissions,m=g("vote",a,b),n=a.numVotes?parseInt(a.numVotes):0,o=getUrlVars();return m?k.reject("A vote has already been registered from this IP address."):(d="/widget/competition_vote/"+j,e=["wid="+b.guid,"tile_id="+i,"addordelete=1"],!l||o.data_user_id&&o.data_user_hash?(l&&(e.push("data_user_id="+o.data_user_id),e.push("data_user_hash="+o.data_user_hash),e.push("data_user_name="+(o.data_user_name||""))),f=h(a,0,b),h(a,1,b)(),$.ajax({url:d,type:"POST",data:e.join("&")}).then(function(a){a.success?k.resolve(a):k.reject(a.error,f)},function(a,b,c){k.reject(c,f)}).always(function(){_.isFunction(c)&&c({vote:{on:!0,count:n+1}})}),k):k.reject("Oops, an error occurred with the vote interaction: Invalid user ID and hash combination."))}return{addCookie:a,bindLikeDislike:function(a,b,c,d){var f,g=!1;f=function(a){var b=$(a.currentTarget),f=b.data("id"),h=b.data("action"),i=c(),j=_.find(i,{id:f});a.stopPropagation(),"like"!==h&&"dislike"!==h||g||(g=!0,e(j,h,d).then(function(){$(document).trigger("tileLike",[{_id:f}])},function(a,b){window.alert(a),b&&b("You have voted."===a)}).always(function(){g=!1}))},$(a).on("click",b,f)},bindVote:function(a,b,c,d){var e,f=!1;e=function(a){var b=$(a.currentTarget),e=b.data("id"),g=b.data("action"),h=c(),i=_.find(h,{id:e});a.stopPropagation(),"vote"===g&&(f||(f=!0,j(i,d).then(function(){$(document).trigger("tileVote",[{_id:e}])},function(a,b){window.alert(a),b&&b("You have voted."===a)}).always(function(){f=!1})))},$(a).on("click",b,e)},checkVote:function(a,b){return!(!a||!b)&&_.some(b,function(b){return _.intersection(a.tags,b.voting_tags).length>0})},fnUpdateLikeDislike:b,getCookieKey:c,getVoteId:d,hasCookie:g,likeDislike:e,sync:i,vote:j}})}).call(this,c(97)(a))},2099:function(a,b,c){"use strict";c.r(b),function(a){c(525);var b=c(20),d=c.n(b),e=c(362),f=c.n(e),g=c(115),h=c.n(g),i=c(620),j=c.n(i),k=c(171),l=c(360),m=c(204),n=c(1509);!function(){var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0;b&&b(a)}(),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o=h.a.createClass(h.a.Plugin.Widget,{toString:function(){return"GridWidget"},loadMoreTiles:function(){var a=this;if(!this.isLoading&&this.hasMoreDataToLoad){this.log("loadMoreTiles() is executed");var b=this.$container,c=this.photoHeight,d=this.availableRows,e=this.tileData;if(!(Object(n.a)(b.width(),c,d)>e.length))return this.log("loadMoreTiles() - Load from cache"),void this.resize();this.log("loadMoreTiles() - Load from server"),this.uiSetLoadMore(!1),this.isLoading=!0,this.uiSetLoadMore(!0),this.loadMore().then(function(b,c,d,e){a.isLoading=!1,e.length<a.tiles_per_page&&(a.hasMoreDataToLoad=!1),a.uiSetLoadMore(!1),a.resize()})}},resize:function(){var a=this;this.log("resize() is executed");var b=this.$container,c=this.margin,e=d()("body"),f=Object(n.b)(b.width(),this.photoHeight,c),g=0,h=0,i=Object(n.a)(this.$container.width(),this.photoHeight,this.availableRows),j=this.tileData.slice(0,i),k=0;j.forEach(function(b,d){var e=b.$el;e||(e=a.$queue.find("[data-id=".concat(b.id,"]")),a.$container.append(e),b.$el=e),e.css({height:f,left:g,position:"absolute",opacity:1,top:h,width:f}),e.find(".tile-caption").dotdotdot(),j.length!==d+1?g+f+c<a.$container.width()?(g+=f+c,Math.abs(g+f-a.$container.width())<1&&(k+=1)):(k+=1,g=0,h+=f+c):k=1}),b.css("height",h+f+"px"),e.height()!==this.prevHeight&&(this.postMessage("resize",{height:e.height()+"px"}),this.prevHeight=e.height()),this.hasMoreTilesToShow=i<this.tileData.length,k>0&&i<this.tileData.length&&this.tileData.slice(i).forEach(function(b){a.$container.find(".tile[data-id=".concat(b.id,"]")).css({left:0,opacity:0,top:0})}),h-=c,j.length<i&&!this.isLoading&&this.hasMoreDataToLoad&&this.loadMoreTiles(),this.hasMoreDataToLoad||this.hasMoreTilesToShow||this.$loadMore&&this.$loadMore.remove()},resizeWrapper:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var b=a.width;b&&(this.$container.width(b),this.$loadMore&&this.$loadMore.width(b))}},scrollToPageBottom:function(){this.isLoading||"scroll"!==this.loadMoreType||(this.hasMoreDataToLoad||this.hasMoreTilesToShow)&&(this.log("scrollToPageBottom() is executed"),this.availableRows+=this.rows,this.hasMoreDataToLoad?this.loadMoreTiles():this.resize())},trackPerformance:function(a){if(a.init_timestamp){var b=h.a.WidgetProfiling,c=this.$container,d=this.dataBeforeLoadTime,e=this.dataLoadTime,f=this.requestParams,g=this.renderTime,i=this.stackConfig,j=this.widgetConfig,k=this.widgetId,l=new Date(parseInt(a.init_timestamp,10)),m=a.parent_host,n=a.parent_url;c.imagesLoaded(function(){var a={id:k,initTime:l,benchmarks:{apiRequest:d,apiReceive:e,render:g,image:new Date},name:j.name,params:f,parentHost:m,parentUrl:n,stack:j.short_name,type:j.widget_type_name};i.enable_track_widget_load_time&&b.track(a)})}},uiSetLoadMore:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],b=this.$loadMore;b&&(a?(b.html(b.data("loadingText")),b.addClass("active")):(b.html(b.data("text")),b.removeClass("active")))},handleDataLoad:function(a,b,c){this.log("handleDataLoad() is executed"),this.isLoading=!1,this.hasMoreDataToLoad=c.length>=this.tiles_per_page,this.cachedData=_.clone(b)},handleLoadMoreClick:function(){this.isLoading||"button"!==this.loadMoreType||(this.hasMoreDataToLoad||this.hasMoreTilesToShow)&&(this.log("handleLoadMoreClick() is executed"),this.availableRows+=this.rows,this.hasMoreDataToLoad?this.loadMoreTiles():this.resize())},handleMessage:function(a){var b,c=this;if(window.self!==window.top&&(a.data||_.isString(a.data))){try{b=JSON.parse(a.data)}catch(a){}if(b&&"initComplete"===b.action&&(this.trackPerformance({init_timestamp:b.init_timestamp,embed_timestamp:b.embed_timestamp,parent_host:b.parent_host,parent_url:b.parent_url}),"scroll"===this.loadMoreType)){var e=b.doc_height;!function a(){c.isLoading?setTimeout(a,300):e>d()(document.body).height()&&c.loadMoreTiles()}()}}},handleUserClick:function(a){var b=this;this.log("handleUserClick() is executed"),a.stopPropagation();var c=d()(a.currentTarget).parents(".tile").data("id"),e=_.find(this.allTiles,{id:c}),f=this.widgetId;Object(k.emit)("userClick",[{tileData:e,widgetId:f}],function(){b.postMessage("userClick",{tileData:e})})},initializer:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(this.log("initializer() is executed (Stackla.GridWidget)"),this.widgetConfig=_.cloneDeep(a),this.cachedData=[],this.hasMoreDataToLoad=!0,this.hasMoreTilesToShow=!0,this.stackId=a.stack_id||"",this.requestParams=a.request_params||{},this.stackConfig=a.stack_config||{},this.style=a.style||{},this.tileSize=a.style.tile_size||"medium",this.margin=_.isUndefined(a.style.margin)?10:a.style.margin,this.rows=a.style.rows||3,this.background=a.style.widget_background||"transparent",this.lightboxConfig=a.config.lightbox||{},this.lightboxCustomJs=a.lightbox_custom_js||"",this.lightboxCustomCss=a.lightbox_custom_css||"",this.widgetId=a.widget_id,this.template=_.get(a,"custom_templates.tile.template"),this.$queue=d()(".queue"),this.$track=d()("body > .track"),this.$container=d()(".container"),this.isLoading=!1,this.photoHeight=360,this.loadMoreType=_.get(this.widgetConfig,"style.load_more_type","button"),this.tileData=[],this.availableRows=this.rows,this.tileSize){case"small":this.photoHeight=160;break;case"medium":this.photoHeight=240;break;case"large":default:this.photoHeight=360}this.mountCss(),this.bind()},bind:function(){var a=this;this.log("bind() is executed");var b=d()(window);d()(document).on("dataBeforeLoad",function(){a.dataBeforeLoadTime=new Date}),this.on("dataLoad",function(){a.dataLoadTime=new Date}),this.on("load",this.handleDataLoad.bind(this)),this.$track.on("click",".load-more--button",this.handleLoadMoreClick.bind(this)).on("click",".tile-user-link",this.handleUserClick.bind(this)),b.resize(_.debounce(this.resize.bind(this),300)),window.addEventListener("message",d.a.proxy(this.handleMessage,this),!1),Object(l.a)({interactionSend:function(b){
var c,d=b.tile_id,e=_.find(a.allTiles,{id:d}),f=b.type;switch(c=function(b){a.postMessage("interactionSendCallback",{tile_id:d,tileData:e,widgetId:a.widgetId,filterId:a.filterId,type:f,data:b})},f){case"like":case"dislike":Object(m.likeDislike)(e,f,a.widgetConfig,c).fail(function(a,b){window.alert(a),b()});break;case"vote":Object(m.vote)(e,a.widgetConfig,c).fail(function(a,b){window.alert(a),b()})}}})},iterate:function(a){this.log("iterate() is executed");var b=Object(n.b)(this.$container.width(),this.photoHeight,this.margin);return a.photo_height=b,a.photo_width=b,a.image_src=a.image_s||a.image,a.image_src||"audio"!==a.media||(a.image_src="https://assetscdn.stackla.com/media/images/common/audio-fallback.png"),_.find(this.tileData,function(b){return b.id===a.id})||this.tileData.push(a),a},append:function(a,b){return this.log("append() is executed"),0===this.$queue.find("[data-id=".concat(b.id,"]")).length&&a},renderLoadMore:function(){if(this.log("renderLoadMore() is executed"),this.hasMoreDataToLoad||this.hasMoreTilesToShow){var a=this.$track,b=this.loadMoreType,c=this.widgetConfig.strings,e="button"===b?c.load_more||"Load more":c.loading||"Loading...";this.$loadMore=d()(f.a.render(j.a,{type:b,text:e,loading_text:c.loading||"Loading..."})),this.$loadMore.css("marginTop","".concat(this.style.margin,"px")),a.append(this.$loadMore)}},render:function(){this.log("render() is executed"),"static"!==this.loadMoreType&&this.renderLoadMore(),this.resize(),d()(document.body).css("background",this.background);var a=this.widgetConfig;this.postMessage("initComplete",{widgetType:"vertical",externalJs:a.external_js,lightboxCustomCss:a.lightbox_custom_css,lightboxCustomJs:a.lightbox_custom_js,name:a.name,options:a.config.lightbox}),this.renderTime=new Date}});h.a.GridWidget=o,function(){var a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;a&&(a.register("transparent","BACKGROUND","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/base_grid/index.entry.js"),a.register("medium","TILE_SIZE","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/base_grid/index.entry.js"),a.register(3,"ROWS","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/base_grid/index.entry.js"),a.register(10,"MARGIN","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/base_grid/index.entry.js"),a.register(o,"GridWidget","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/base_grid/index.entry.js"))}(),function(){var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0;b&&b(a)}()}.call(this,c(2)(a))},235:function(module,exports){var JSON=window.JSON;void 0===window.JSON&&(JSON=window.JSON={}),JSON.stringify=JSON.stringify||function(a){var b=typeof a;if("object"!=b||null===a)return"string"==b&&(a='"'+a+'"'),String(a);var c,d,e=[],f=a&&a.constructor==Array;for(c in a)"string"==(b=typeof(d=a[c]))?d='"'+d+'"':"object"==b&&null!==d&&(d=JSON.stringify(d)),e.push((f?"":'"'+c+'":')+String(d));return(f?"[":"{")+String(e)+(f?"]":"}")},JSON.parse=JSON.parse||function(str){var p;return""===str&&(str='""'),eval("p="+str+";"),p},Object.create||(Object.create=function(){function a(){}return function(b){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}()),module.exports=JSON},28:function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},358:function(a,b,c){(function(a){function d(a,b){this._id=a,this._clearFn=b}var e=void 0!==a&&a||"undefined"!=typeof self&&self||window,f=Function.prototype.apply;b.setTimeout=function(){return new d(f.call(setTimeout,e,arguments),clearTimeout)},b.setInterval=function(){return new d(f.call(setInterval,e,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(e,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(363),b.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==a&&a.setImmediate||this&&this.setImmediate,b.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==a&&a.clearImmediate||this&&this.clearImmediate}).call(this,c(28))},360:function(a,b,c){"use strict";(function(a){function d(a){g.a.each(a,function(a,b){h.c(b,a)})}function e(a,b){a=h.e("stackla:widget",a,function(a){b.sendMessageToParent(a)}),g.a.each(a,function(a,b){h.c(b,a)})}c.d(b,"a",function(){return d}),c.d(b,"b",function(){return e});var f=c(1),g=c.n(f),h=c(117);!function(){var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0;b&&b(a)}(),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,h.d(),function(){var a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;a&&(a.register(d,"exportWidgetLegacyPerformActions","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/cross-site.js"),a.register(e,"exportWidgetMethods","/home/ec2-user/workspace/staging/stackla-web/app/media/js/widget/cross-site.js"))}(),function(){var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0;b&&b(a)}()}).call(this,c(2)(a))},362:function(a,b,c){var d,e,f;!function(c,g){"object"==typeof b&&b&&"string"!=typeof b.nodeName?g(b):(e=[b],void 0===(f="function"==typeof(d=g)?d.apply(b,e):d)||(a.exports=f))}(0,function(a){function b(a){return"function"==typeof a}function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function d(a,b){return null!=a&&"object"==typeof a&&b in a}function e(a,b){return null!=a&&"object"!=typeof a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function f(a){return!function(a,b){return l.call(a,b)}(m,a)}function g(a){this.string=a,this.tail=a,this.pos=0}function h(a,b){this.view=a,this.cache={".":this.view},this.parent=b}function i(){this.cache={}}var j=Object.prototype.toString,k=Array.isArray||function(a){return"[object Array]"===j.call(a)},l=RegExp.prototype.test,m=/\S/,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},o=/\s*/,p=/\s+/,q=/\s*=/,r=/\s*\}/,s=/#|\^|\/|>|\{|&|=|!/;g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(a){var b=this.tail.match(a);if(!b||0!==b.index)return"";var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c},g.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},h.prototype.push=function(a){return new h(a,this)},h.prototype.lookup=function(a){var c,f=this.cache;if(f.hasOwnProperty(a))c=f[a];else{for(var g,h,i,j=this,k=!1;j;){if(a.indexOf(".")>0)for(g=j.view,h=a.split("."),i=0;null!=g&&i<h.length;)i===h.length-1&&(k=d(g,h[i])||e(g,h[i])),g=g[h[i++]];else g=j.view[a],k=d(j.view,a);if(k){c=g;break}j=j.parent}f[a]=c}return b(c)&&(c=c.call(this.view)),c},i.prototype.clearCache=function(){this.cache={}},i.prototype.parse=function(b,d){var e=this.cache,h=b+":"+(d||a.tags).join(":"),i=e[h];return null==i&&(i=e[h]=function(b,d){function e(){if(u&&!v)for(;t.length;)delete n[t.pop()];else t=[];u=!1,v=!1}function h(a){if("string"==typeof a&&(a=a.split(p,2)),!k(a)||2!==a.length)throw new Error("Invalid tags: "+a);i=new RegExp(c(a[0])+"\\s*"),j=new RegExp("\\s*"+c(a[1])),l=new RegExp("\\s*"+c("}"+a[1]))}if(!b)return[];var i,j,l,m=[],n=[],t=[],u=!1,v=!1;h(d||a.tags);for(var w,x,y,z,A,B,C=new g(b);!C.eos();){if(w=C.pos,y=C.scanUntil(i))for(var D=0,E=y.length;D<E;++D)f(z=y.charAt(D))?t.push(n.length):v=!0,n.push(["text",z,w,w+1]),w+=1,"\n"===z&&e();if(!C.scan(i))break;if(u=!0,x=C.scan(s)||"name",C.scan(o),"="===x?(y=C.scanUntil(q),C.scan(q),C.scanUntil(j)):"{"===x?(y=C.scanUntil(l),C.scan(r),C.scanUntil(j),x="&"):y=C.scanUntil(j),!C.scan(j))throw new Error("Unclosed tag at "+C.pos);if(A=[x,y,w,C.pos],n.push(A),"#"===x||"^"===x)m.push(A);else if("/"===x){if(!(B=m.pop()))throw new Error('Unopened section "'+y+'" at '+w);if(B[1]!==y)throw new Error('Unclosed section "'+B[1]+'" at '+w)}else"name"===x||"{"===x||"&"===x?v=!0:"="===x&&h(y)}if(B=m.pop())throw new Error('Unclosed section "'+B[1]+'" at '+C.pos);return function(a){for(var b,c=[],d=c,e=[],f=0,g=a.length;f<g;++f)switch((b=a[f])[0]){case"#":case"^":d.push(b),e.push(b),d=b[4]=[];break;case"/":e.pop()[5]=b[2],d=e.length>0?e[e.length-1][4]:c;break;default:d.push(b)}return c}(function(a){for(var b,c,d=[],e=0,f=a.length;e<f;++e)(b=a[e])&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(d.push(b),c=b));return d}(n))}(b,d)),i},i.prototype.render=function(a,b,c,d){var e=this.parse(a,d),f=b instanceof h?b:new h(b);return this.renderTokens(e,f,c,a,d)},i.prototype.renderTokens=function(a,b,c,d,e){for(var f,g,h,i="",j=0,k=a.length;j<k;++j)h=void 0,"#"===(g=(f=a[j])[0])?h=this.renderSection(f,b,c,d):"^"===g?h=this.renderInverted(f,b,c,d):">"===g?h=this.renderPartial(f,b,c,e):"&"===g?h=this.unescapedValue(f,b):"name"===g?h=this.escapedValue(f,b):"text"===g&&(h=this.rawValue(f)),void 0!==h&&(i+=h);return i},i.prototype.renderSection=function(a,c,d,e){var f=this,g="",h=c.lookup(a[1]);if(h){if(k(h))for(var i=0,j=h.length;i<j;++i)g+=this.renderTokens(a[4],c.push(h[i]),d,e);else if("object"==typeof h||"string"==typeof h||"number"==typeof h)g+=this.renderTokens(a[4],c.push(h),d,e);else if(b(h)){if("string"!=typeof e)throw new Error("Cannot use higher-order sections without the original template");null!=(h=h.call(c.view,e.slice(a[3],a[5]),function(a){return f.render(a,c,d)}))&&(g+=h)}else g+=this.renderTokens(a[4],c,d,e);return g}},i.prototype.renderInverted=function(a,b,c,d){var e=b.lookup(a[1]);if(!e||k(e)&&0===e.length)return this.renderTokens(a[4],b,c,d)},i.prototype.renderPartial=function(a,c,d,e){if(d){var f=b(d)?d(a[1]):d[a[1]];return null!=f?this.renderTokens(this.parse(f,e),c,d,f):void 0}},i.prototype.unescapedValue=function(a,b){var c=b.lookup(a[1]);if(null!=c)return c},i.prototype.escapedValue=function(b,c){var d=c.lookup(b[1]);if(null!=d)return a.escape(d)},i.prototype.rawValue=function(a){return a[1]},a.name="mustache.js",a.version="3.0.1",a.tags=["{{","}}"];var t=new i;return a.clearCache=function(){return t.clearCache()},a.parse=function(a,b){return t.parse(a,b)},a.render=function(a,b,c,d){if("string"!=typeof a)throw new TypeError('Invalid template! Template should be a "string" but "'+function(a){return k(a)?"array":typeof a}(a)+'" was given as the first argument for mustache#render(template, view, partials)');return t.render(a,b,c,d)},a.to_html=function(c,d,e,f){var g=a.render(c,d,e);return b(f)?void f(g):g},a.escape=function(a){return String(a).replace(/[&<>"'`=\/]/g,function(a){return n[a]})},a.Scanner=g,a.Context=h,a.Writer=i,a})},363:function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){delete h[a]}function e(a){if(i)setTimeout(e,0,a);else{var b=h[a];if(b){i=!0;try{!function(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}(b)}finally{d(a),i=!1}}}}if(!a.setImmediate){var f,g=1,h={},i=!1,j=a.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(a);k=k&&k.setTimeout?k:a,"[object process]"==={}.toString.call(a.process)?f=function(a){b.nextTick(function(){e(a)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}()?function(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&e(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),f=function(c){a.postMessage(b+c,"*")}}():a.MessageChannel?function(){var a=new MessageChannel;a.port1.onmessage=function(a){e(a.data)},f=function(b){a.port2.postMessage(b)}}():j&&"onreadystatechange"in j.createElement("script")?function(){var a=j.documentElement;f=function(b){var c=j.createElement("script");c.onreadystatechange=function(){e(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}():f=function(a){setTimeout(e,0,a)},k.setImmediate=function(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return h[g]=d,f(g),g++},k.clearImmediate=d}}("undefined"==typeof self?void 0===a?this:a:self)}).call(this,c(28),c(87))},525:function(a,b){!function(a,b){function c(a,b){return a.innerHeight()>b.maxHeight}function d(b,c){for(;a.inArray(b.slice(-1),c.lastCharacter.remove)>-1;)b=b.slice(0,-1);return a.inArray(b.slice(-1),c.lastCharacter.noEllipsis)<0&&(b+=c.ellipsis),b}function e(a){return{width:a.innerWidth(),height:a.innerHeight()}}function f(a,b){a.innerText?a.innerText=b:a.nodeValue?a.nodeValue=b:a.textContent&&(a.textContent=b)}function g(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function h(a){do a=a.previousSibling;while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function i(b,c,d){var e,f=b&&b[0];if(f){if(!d){if(3===f.nodeType)return f;if(a.trim(b.text()))return i(b.contents().last(),c)}for(e=h(f);!e;){if((b=b.parent()).is(c)||!b.length)return!1;e=h(b[0])}if(e)return i(a(e),c)}return!1}if(!a.fn.dotdotdot){a.fn.dotdotdot=function(b){if(0==this.length)return a.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){a(this).dotdotdot(b)});var h=this;h.data("dotdotdot")&&h.trigger("destroy.dot"),h.data("dotdotdot-style",h.attr("style")||""),h.css("word-wrap","break-word"),"nowrap"===h.css("white-space")&&h.css("white-space","normal"),h.bind_events=function(){return h.bind("update.dot",function(b,e){b.preventDefault(),b.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:function(a){for(var b=a.innerHeight(),c=["paddingTop","paddingBottom"],d=0,e=c.length;d<e;d++){var f=parseInt(a.css(c[d]),10);isNaN(f)&&(f=0),b-=f}return b}(h),l.maxHeight+=l.tolerance,void 0!==e&&(("string"==typeof e||e instanceof HTMLElement)&&(e=a("<div />").append(e).contents()),e instanceof a&&(k=e)),(p=h.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(k.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var j=!1,n=!1;return m.afterElement&&((j=m.afterElement.clone(!0)).show(),m.afterElement.detach()),c(p,l)&&(n="children"==l.wrap?function(a,b,d){var e=a.children(),f=!1;a.empty();for(var g=0,h=e.length;g<h;g++){var i=e.eq(g);if(a.append(i),d&&a.append(d),c(a,b)){i.remove(),f=!0;break}d&&d.detach()}return f}(p,l,j):function b(e,h,j,k,l){var m=!1;return e.contents().detach().each(function(){var n=this,o=a(n);if(void 0===n||3==n.nodeType&&0==a.trim(n.data).length)return!0;if(o.is("script, .dotdotdot-keep"))e.append(o);else{if(m)return!0;e.append(o),l&&e[e.is("table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](l),c(j,k)&&((m=3==n.nodeType?function(b,e,h,j,k){var l=b[0];if(!l)return!1;var m=g(l),n=-1!==m.indexOf(" ")?" ":"ã",o="letter"==j.wrap?"":n,p=m.split(o),q=-1,r=-1,s=0,t=p.length-1;for(j.fallbackToLetter&&0==s&&0==t&&(o="",p=m.split(o),t=p.length-1);s<=t&&(0!=s||0!=t);){var u=Math.floor((s+t)/2);if(u==r)break;r=u,f(l,p.slice(0,r+1).join(o)+j.ellipsis),c(h,j)?(t=r,j.fallbackToLetter&&0==s&&0==t&&(o="",p=p[0].split(o),q=-1,r=-1,s=0,t=p.length-1)):(q=r,s=r)}if(-1==q||1==p.length&&0==p[0].length){var v=b.parent();b.detach();var w=k&&k.closest(v).length?k.length:0;v.contents().length>w?l=i(v.contents().eq(-1-w),e):(l=i(v,e,!0),w||v.detach()),l&&(m=d(g(l),j),f(l,m),w&&k&&a(l).parent().append(k))}else m=d(p.slice(0,q+1).join(o),j),f(l,m);return!0}(o,h,j,k,l):b(o,h,j,k,l))||(o.detach(),m=!0)),m||l&&l.detach()}}),m}(p,h,p,l,j)),p.replaceWith(p.contents()),p=null,a.isFunction(l.callback)&&l.callback.call(h[0],n,k),m.isTruncated=n,n}).bind("isTruncated.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(h[0],m.isTruncated),m.isTruncated}).bind("originalContent.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(h[0],k),k}).bind("destroy.dot",function(a){a.preventDefault(),a.stopPropagation(),h.unwatch().unbind_events().contents().detach().end().append(k).attr("style",h.data("dotdotdot-style")||"").data("dotdotdot",!1)}),h},h.unbind_events=function(){return h.unbind(".dot"),h},h.watch=function(){if(h.unwatch(),"window"==l.watch){var b=a(window),c=b.width(),d=b.height();b.bind("resize.dot"+m.dotId,function(){c==b.width()&&d==b.height()&&l.windowResizeFix||(c=b.width(),d=b.height(),o&&clearInterval(o),o=setTimeout(function(){h.trigger("update.dot")},100))})}else n=e(h),o=setInterval(function(){if(h.is(":visible")){var a=e(h);n.width==a.width&&n.height==a.height||(h.trigger("update.dot"),n=a)}},500);return h},h.unwatch=function(){return a(window).unbind("resize.dot"+m.dotId),o&&clearInterval(o),h};var k=h.contents(),l=a.extend(!0,{},a.fn.dotdotdot.defaults,b),m={},n={},o=null,p=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=a.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=a.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),m.afterElement=function(b,c){return!!b&&("string"==typeof b?!!(b=a(b,c)).length&&b:!!b.jquery&&b)}(l.after,h),m.isTruncated=!1,m.dotId=j++,h.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&h.watch(),h},a.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},a.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","ã",",",";",".","!","?"],noEllipsis:[]}},a.fn.dotdotdot.debug=function(a){};var j=1,k=a.fn.html;a.fn.html=function(b){return void 0!=b&&!a.isFunction(b)&&this.data("dotdotdot")?this.trigger("update",[b]):k.apply(this,arguments)};var l=a.fn.text;a.fn.text=function(b){return void 0!=b&&!a.isFunction(b)&&this.data("dotdotdot")?(b=a("<div />").text(b).html(),this.trigger("update",[b])):l.apply(this,arguments)}}}(jQuery)},620:function(a,b){a.exports='<div\n    class="load-more load-more--{{type}}"\n    data-text="{{text}}"\n    data-loading="false"\n    data-loading-text="{{loading_text}}">\n    {{text}}\n</div>\n'},87:function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(j===setTimeout)return setTimeout(a,0);if((j===c||!j)&&setTimeout)return j=setTimeout,setTimeout(a,0);try{return j(a,0)}catch(b){try{return j.call(null,a,0)}catch(b){return j.call(this,a,0)}}}function f(){o&&m&&(o=!1,m.length?n=m.concat(n):p=-1,n.length&&g())}function g(){if(!o){var a=e(f);o=!0;for(var b=n.length;b;){for(m=n,n=[];++p<b;)m&&m[p].run();p=-1,b=n.length}m=null,o=!1,function(a){if(k===clearTimeout)return clearTimeout(a);if((k===d||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(a);try{k(a)}catch(b){try{return k.call(null,a)}catch(b){return k.call(this,a)}}}(a)}}function h(a,b){this.fun=a,this.array=b}function i(){}var j,k,l=a.exports={};!function(){try{j="function"==typeof setTimeout?setTimeout:c}catch(a){j=c}try{k="function"==typeof clearTimeout?clearTimeout:d}catch(a){k=d}}();var m,n=[],o=!1,p=-1;l.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];n.push(new h(a,b)),1!==n.length||o||e(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(a){return[]},l.binding=function(a){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(a){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},97:function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}}});