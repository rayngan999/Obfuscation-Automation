/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
!function(e){var t,r,i;"function"==typeof define&&define.amd&&(define("mktui-jscookie",e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),t||(r=window.Cookies,(i=window.Cookies=e()).noConflict=function(){return window.Cookies=r,i})}(function(){function s(){for(var e=0,t={};e<arguments.length;e++){var r,i=arguments[e];for(r in i)t[r]=i[r]}return t}function d(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(c){function o(){}function r(e,t,r){if("undefined"!=typeof document){"number"==typeof(r=s({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(+new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=c.write?c.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var n,a="";for(n in r)r[n]&&(a+="; "+n,!0!==r[n]&&(a+="="+r[n].split(";")[0]));return document.cookie=e+"="+t+a}}function t(e,t){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],n=0;n<i.length;n++){var a=i[n].split("="),o=a.slice(1).join("=");t||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var s=d(a[0]),o=(c.read||c)(o,s)||d(o);if(t)try{o=JSON.parse(o)}catch(e){}if(r[s]=o,e===s)break}catch(e){}}return e?r[e]:r}}return o.set=r,o.get=function(e){return t(e,!1)},o.getJSON=function(e){return t(e,!0)},o.remove=function(e,t){r(e,"",s(t,{expires:-1}))},o.defaults={},o.withConverter=e,o}(function(){})}),function(e){function o(e,t,r,i,n){this._listener=t,this._isOnce=r,this.context=i,this._signal=e,this._priority=n||0}function i(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function t(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){t.prototype.dispatch.apply(e,arguments)}}o.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(t=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,t),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},t.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,r,i){var n,a=this._indexOfListener(e,r);if(-1!==a){if((n=this._bindings[a]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else n=new o(this,e,t,r,i),this._addBinding(n);return this.memorize&&this._prevParams&&n.execute(this._prevParams),n},_addBinding:function(e){for(var t=this._bindings.length;--t,this._bindings[t]&&e._priority<=this._bindings[t]._priority;);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var r,i=this._bindings.length;i--;)if((r=this._bindings[i])._listener===e&&r.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,r){return i(e,"add"),this._registerListener(e,!1,t,r)},addOnce:function(e,t,r){return i(e,"addOnce"),this._registerListener(e,!0,t,r)},remove:function(e,t){i(e,"remove");t=this._indexOfListener(e,t);return-1!==t&&(this._bindings[t]._destroy(),this._bindings.splice(t,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=t),r)for(e=this._bindings.slice(),this._shouldPropagate=!0;e[--r]&&this._shouldPropagate&&!1!==e[r].execute(t););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var r=t;r.Signal=t,"function"==typeof define&&define.amd?define("slotplacement-libs/signal",[],function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:e.signals=r}(this);var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},__extends=this&&this.__extends||function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__awaiter=this&&this.__awaiter||function(e,o,s,c){return new(s=s||Promise)(function(r,t){function i(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,n)}a((c=c.apply(e,o||[])).next())})},__generator=this&&this.__generator||function(r,i){var n,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=i.call(r,s)}catch(e){t=[6,e],a=0}finally{n=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};define("slotplacement/clientconfig",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={}}),define("mktui-fx/common/adConfig",["require","exports","slotplacement/slotplacementconfig","slotplacement/clientconfig"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=__importDefault(r),i=__importDefault(i);var n=function(){this.isAnalyticsEnabled=!1,this.adTrackingDisabled=!1,this.isPixelTagEnabled=!1,this.loggingEnabled=!1,this.debugEnabled=!1,this.duplicateImpressionTracking=!1,this.eci="",this.pfid="",this.frameworkVersion="8_0_0_07072021_170007",this.borrowingPowerPlacements=["bpheader","lobtile1","lobtile2","lobtile3"]},i=__assign(__assign({},r.default),i.default),a=i.loggingEnabled,o=i.debugEnabled,s=i.adTrackingDisabled,c=i.isAnalyticsEnabled,d=i.isPixelTagEnabled,l=i.duplicateImpressionTracking,i=__rest(i,["loggingEnabled","debugEnabled","adTrackingDisabled","isAnalyticsEnabled","isPixelTagEnabled","duplicateImpressionTracking"]);var u=function(){try{return localStorage&&localStorage.getItem("mktuiForceDebug")}catch(e){return!1}}();t.adConfig=__assign(__assign(__assign({},new n),i),{adBlockerDetected:"N",get loggingEnabled(){return window.console&&a&&"true"===a},get debugEnabled(){return window.console&&o&&"true"===o},get adTrackingDisabled(){return s&&"true"===s},get isAnalyticsEnabled(){return c&&"true"===c},get isPixelTagEnabled(){return d&&"true"===d},get duplicateImpressionTracking(){return l&&"true"===l},get isDebugEnabled(){return window.console&&(this.debugEnabled||u)},isLoggingEnabled:function(){return window.console&&this.loggingEnabled}})}),define("mktui-fx/ads/decision/DecisionRecord",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(){this.turl="",this.ctype="html",this.dynamicData={},this.url="",this.targetsize="",this.target="",this.status=!1,this.privateDestination=!1}t.DecisionRecord=r}),define("mktui-fx/util/commonUtils",["require","exports","mktui-fx/common/adConfig"],function(e,t,r){"use strict";function n(e){var t="",e=e&&e.dynamicData?Object.keys(e.dynamicData):[];return 0<e.length&&(t=e[0]),t}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(i,n,a){var o;return void 0===n&&(n=100),void 0===a&&(a=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null;o?clearTimeout(o):a&&i.apply(r,e),o=setTimeout(function(){a||i.apply(r,e),o=null},n)}},t.strictEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape)},t.isCrossDomain=function(e){var t=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,e=t.exec(e.toLowerCase());return(t=t.exec(document.location.protocol+"//"+document.location.host))&&e&&(t[1]!=e[1]||t[2]!=e[2]||(t[3]||("http:"===t[1]?80:443))!=(e[3]||("http:"===e[1]?80:443)))},t.replaceContentServerHost=function(e){return e.replace(/\"\//g,'"'+r.adConfig.contentServer+"/").replace(/\'\//g,"'"+r.adConfig.contentServer+"/")},t.addQueryParameterToUrl=function(e,t){return e+((/[?&]/.test(e)?"&":"?")+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"))},t.generateValueArray=function(t){return"function"==typeof Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})},t.getJSONObj=function(e){try{return JSON.parse(e)}catch(e){return!1}},t.cleanObject=function(e){var t,r=Object.assign({},e);for(t in r)r[t]||delete r[t];return r},t.replaceDynamicDataForNonPersonalizedAd=function(e,t){var r,i=n(e);return i&&(r=new RegExp("{{"+i+"}}","g"),t=t.replace(r,e.dynamicData[i])),t},t.getDynamicKey=n,t.isArray=function(e){return Array.isArray(e)},t.isEmptyObject=function(e){return!e||0===Object.keys(e).length},t.isPlainObject=function(e){return"object"==typeof e&&null!=e&&!(e.constructor&&!Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))},t.groupItemsByKey=function(e,r){void 0===e&&(e=[]);var i={};return e&&e.forEach(function(e){var t=e[r]||"";i[t]=i[t]||[],i[t].push(e)}),i},t.isFunction=function(e){return"function"==typeof e},t.Deferred=function(){var r={},e=new Promise(function(e,t){r.resolve=e,r.reject=t});return r.promise=function(){return e},r},t.objAssign=Object.assign||__assign}),define("mktui-fx/ads/topic",["require","exports","slotplacement-libs/signal","mktui-fx/util/commonUtils"],function(e,t,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n={},a=(i=r.Signal,__extends(o,i),o.prototype.clear=function(){return this.forget.apply(this,arguments)},o.prototype.once=function(){return this.addOnce.apply(this,arguments)},o.prototype.publish=function(e){return this.dispatch.apply(this,arguments)},o.prototype.subscribe=function(e,t,r){return this.add.apply(this,arguments)},o.prototype.unsubscribe=function(){return this.remove.apply(this,arguments)},o);function o(e){var t=i.call(this)||this;return t.memorize=!0,t.name=e||"",t}function l(e){var t=e&&n[e];return t||(t=new a(e),e&&(n[e]=t)),t}(t.Topic=l).Channel=a,l.channels=n,l.exists=function(e){return!!n[e]},l.publish=function(e,t){for(var r=e.split(" "),i=0,n=r.length;i<n;i++){var a=l(r[i]);a.publish.apply(a,t||[])}},l.subscribe=function(e,t,r){var i,n,a={},o={},s=0;d.isPlainObject(e)?(a=e,r=Array.prototype.pop.call(arguments),t=void 0):a[e]=t;for(var c in a)!function(e){var t=a[e];i=l(e),r=r||i,n=function(){t.apply(r,arguments)},i.subscribe(n),o[e]=n,s++}(c);return 1===s?o[e]:o},l.unsubscribe=function(e,t){var r,i={};for(r in d.isPlainObject(e)?i=e:i[e]=t,i){var n=i[r];l(r).unsubscribe(n)}}}),define("mktui-fx/ads/analytics/AnalyticsChannels",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.AnalyticsChannels||(t.AnalyticsChannels={})).impressionChannel="requestAdvertisementActionsDisplay",t.clickChannel="requestAdvertisementDetails"}),define("mktui-fx/ads/analytics/AnalyticsEvents",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.AnalyticsEvents||(t.AnalyticsEvents={})).impression="impression",t.click="click"}),define("mktui-fx/common/adEvents",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.AdEvents||(t.AdEvents={})).adError="adError",t.adUpdate="adUpdate",t.adFailover="adFailover",t.adCollectionError="adCollectionError",t.adCollectionUpdate="adCollectionUpdate",t.trackfailOverImpression="trackfailOverImpression",t.trackAdImpression="trackAdImpression",t.trackfailOverClick="trackfailOverClick",t.trackAdClick="trackAdClick"}),define("mktui-fx/util/featureDetection",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsCookies=function(){return void 0!==document.cookie},t.supportsXhrCORS=function(){return XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}}),define("mktui-fx/util/CookieReader",["require","exports","mktui-jscookie","mktui-fx/util/commonUtils"],function(e,t,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=__importStar(n);var r=window.document.domain,i=window.location.protocol,o=/localhost|127\.0\.0\.1/.test(r),s=/\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/.test(r),c=/https/.test(i),i=function(){var e;o||(s?e=r:r&&-1!==r.indexOf(".")&&(e="."+r.split(".").slice(-2).join(".")));return e}(),d={};t.CookieReader=function(i,e){var t=i&&d[i];return t||(t={settings:e||{},erase:function(e){var t=a.objAssign({},this.settings,e||{});try{n.remove(i,t)}catch(e){}},read:function(){var e;try{e=n.get(i)}catch(e){}return e},write:function(e,t){var r=a.objAssign({},this.settings,t||{});try{n.set(i,e,r)}catch(e){}}},i&&(d[i]=t)),t},n.default=a.objAssign({path:"/",secure:c,raw:!0},i?{domain:i}:{}),t.readCookie=function(e){return t.CookieReader(e).read()}}),define("mktui-fx/environment/VFirstCookie",["require","exports","mktui-fx/util/featureDetection","mktui-fx/util/CookieReader"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VFirstCookie=void 0,r.supportsCookies()&&(t.VFirstCookie=function(){var t=i.CookieReader("v1st"),r=/^\w+$/;return{read:function(){var e=t.read();return r.test(e)||(e=void 0),e}}})}),define("mktui-fx/environment/PersonaCookie",["require","exports","mktui-fx/util/featureDetection","mktui-fx/util/CookieReader","mktui-fx/util/commonUtils"],function(e,t,r,i,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f,n,a=function(){this.pfid="",this.ECI="",this.locale="",this.segment="",this.zip=""};t.Persona=a,r.supportsCookies()&&(window.document,f=function(e,t){if(-1===e.indexOf(t))return e;var r=e.charAt(e.length-1)===t,i=r&&e.charAt(e.length-2)===t;return(r&&!i?e.substring(0,e.length-1):e).split(t)},n=function(e,t,r){var i=r[e];if(i)for(var n=0,a=i.length;n<a;n++)if(t==i[n])return"Y";return"N"},t.PersonaCookie=function(){return{read:function(e){void 0===e&&(e=!1);var t=i.CookieReader("PC_1_0").read();if(!e)try{(t=function(e){for(var t=f(unescape(e),"|"),r={},i=0,n=t.length;i<n;i++){var a=t[i].split("="),o=a[0],s=f(decodeURIComponent(a[1]),"&");if(u.isArray(s))for(var c=0,d=s.length;c<d;c++){var l=(l=s.shift()).split(",");s.push(l)}else s=f(s,",");r[o]=s}return r}(t)).pplr=n("ppl","A",t),t.fieir=n("fiei","Y",t),t.fpeir=n("fpei","Y",t),t.sieir=n("siei","Y",t),t.tieir=n("tiei","Y",t),t.accounts=function(e){var t={};if(e)for(var r=0,i=e.length;r<i;r++){var n=e[r];t[n[0]]={},t[n[0]].uratc=n[1],t[n[0]].rwdb=n[2]}return t}(t.accts)}catch(e){}return __assign(__assign({},new a),t)}}})}),define("mktui-fx/common/adConstants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adConstants={analytics:{defaultAdId:"62146166",web:{adEventCode:"13"}},apiErrors:{noData:"No_Data",noResponseKeys:"No_Response_Keys",noStatusCode:"No_Status_Code"},contentErrors:{noData:"No_Data"},cardlyricsApiNames:{hash:"Hash_Api",secToken:"SecurityToken_Api",getOfferCountDetail:"GetOfferCountDetail_Api",getSession:"getSession_Api",getOffers:"getOffers_Api"},httpStatusTimeout:0,httpReadyStateTimeout:0,httpStatusOk:200,httpReadyStateOk:4,ssv_channel:"web",clientId:"mkt-adf-version-8_0_0_07072021_170007",dynamicAdCheck:"/services/creatives/private/native-dynamic-ads",adImpression:"adimpression",cidVersionMapping:{"1.0":"1.0/{{channel}}",1.1:"1.1/{{channel}}/{{language}}"},cookies:{iosEci:"primaryECI",androidEci:"primaryEci",profileId:"profileId"},analyticsClickEventDelayMillis:200,defaultFetchTimeout:1e4,genericTimeoutErrorMessage:"timeout"}}),define("mktui-fx/environment/channelEnvironment",["require","exports","mktui-fx/environment/VFirstCookie","mktui-fx/environment/PersonaCookie","mktui-fx/common/adConfig","mktui-fx/util/CookieReader","mktui-fx/common/adConstants","mktui-fx/util/commonUtils"],function(e,t,r,i,n,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(d.prototype.getVFirstId=function(){return r.VFirstCookie().read()||""},d.prototype.getResolvedEci=function(){return this.getPersona().ECI||n.adConfig.eci||a.CookieReader(o.adConstants.cookies.iosEci).read()||a.CookieReader(o.adConstants.cookies.androidEci).read()||""},d.prototype.getResolvedProfileId=function(){return this.getPersona().pfid||n.adConfig.pfid||a.CookieReader(o.adConstants.cookies.profileId).read()||""},d.prototype.getPersona=function(){return s.isFunction(i.PersonaCookie)?i.PersonaCookie().read():new i.Persona},d.prototype.getChannel=function(){return this.isCXO()?"cxo":"public"},d.prototype.isCXO=function(){return window.Blue&&window.Blue.version},d.prototype.getTemplateBundleByChannel=function(e){return n.adConfig.templateBundlesByChannel[e]},d);function d(){}t.ChannelEnvironment=c,t.channelEnvironment=new c}),define("mktui-fx/ads/analytics/analyticsLiteService",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.isAnalyticsReportingSupported=function(){return window.analyticsLite&&window.analyticsLite.hooks&&window.analyticsLite.hooks.convertReportingJsData},i.prototype.sendImpression=function(e){window.analyticsLite.hooks.convertReportingJsData(e)},i.prototype.isAdOperationSupported=function(){return window.analyticsLite&&window.analyticsLite.hooks&&window.analyticsLite.hooks.sendAdOperation},i.prototype.sendAdOperation=function(e){window.analyticsLite.hooks.sendAdOperation(e)},i.prototype.isAdLogSupported=function(){return window.analyticsLite&&window.analyticsLite.hooks&&window.analyticsLite.hooks.logger},i.prototype.sendAdLog=function(e){window.analyticsLite.hooks.logger(e)},i);function i(){}t.AnalyticsLiteService=r,t.analyticsLiteService=new r}),define("mktui-fx/common/AdOperationType",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.AdOperationType||(t.AdOperationType={})).decision_fail="decision_fail",t.decision_timeout_fail="decision_timeout_fail",t.content_fail="content_fail",t.ad_data_fail="ad_data_fail",t.api_data_fail="api_data_fail",t.data_replace_fail="data_replace_fail",t.creative_mismatch="creative_mismatch",t.duplicate_impression="duplicate_impression",t.duplicate_click="duplicate_click",t.failover_service_error="failover_service_error",t.no_page_id="no_page_id",t.cardlytics_error="cardlytics_error",t.cardlytics_content_fail="cardlytics_content_fail",t.midas_turl_missing="midas_turl_missing",t.template_bundle_load_fail="template_bundle_load_fail",t.preview_template_bundle_load_fail="preview_template_bundle_load_fail",t.failover_ad_load="failover_ad_load",t.no_decision_url="no_decision_url",t.plc_config_fail="plc_config_fail",t.ad_render="ad_render",t.ad_error="ad_error",t.personalization_data_load_fail="personalization_data_load_fail"}),define("mktui-fx/common/AdEvent",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){this.eventType=e}t.AdEvent=r}),define("mktui-fx/util/Logger",["require","exports","mktui-fx/common/adConfig","mktui-fx/environment/channelEnvironment","mktui-fx/ads/analytics/analyticsLiteService","mktui-fx/common/AdOperationType","mktui-fx/util/commonUtils"],function(e,t,i,n,r,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={};t.Logger={logOperationalEvent:function(t){n.channelEnvironment.isCXO()?window.require(["blue/log"],function(e){o.isEmptyObject(s)&&(s=e("[ad-framework-messages]")),s.error(t)}):r.analyticsLiteService.isAdLogSupported()?r.analyticsLiteService.sendAdLog({logType:"log",message:t}):i.adConfig.isLoggingEnabled()&&console.log(t)},logErrorMsgObject:function(e,t){t.adBlockerDetected=i.adConfig.adBlockerDetected,t.adfError=!0,t.eventType=a.AdOperationType.ad_error,t.errorType=e,t.fxVersion=i.adConfig.frameworkVersion,t.userAgent=window.navigator.userAgent,t.channel||(t.channel=n.channelEnvironment.isCXO()?"cxo":"public"),this.logOperationalEvent(t)},logDebugMsg:function(t,r){n.channelEnvironment.isCXO()&&window.require(["blue/log"],function(e){o.isEmptyObject(s)&&(s=e("[ad-framework-messages]")),s.debug(t,r)}),i.adConfig.isDebugEnabled&&console.log(t,r)},logMsg:function(e,t){i.adConfig.isLoggingEnabled()&&console.log(e,t)},debugMsg:function(e,t){i.adConfig.isDebugEnabled&&console.log(e,t||"")},errorMsg:function(e,t){i.adConfig.isDebugEnabled&&console.error("[AdFramework Error] "+e,t||"")}}}),define("mktui-fx/ads/content/failover/IFailoverDetail",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/content/failover/IPlacementFailover",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/util/cors",["require","exports","mktui-fx/util/commonUtils","mktui-fx/common/adConstants","mktui-fx/util/Logger"],function(e,t,r,l,u){"use strict";function f(e){if(e.ok)return 0<=e.headers.get("content-type").indexOf("application/json")?e.json():e.text();e={textStatus:e.textStatus||"error",statusText:e.statusText||"",status:e.status,readyState:e.readyState||l.adConstants.httpReadyStateOk};return Promise.reject(e)}function p(t){return Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}Object.defineProperty(t,"__esModule",{value:!0});t.CORS=function(i,e){void 0===e&&(e={});var n,a=e.method||"GET",o=e.headers,s=e.timeout||l.adConstants.defaultFetchTimeout,c=window.AbortController&&new AbortController,d=c&&c.signal,t="";return 0<=["GET","HEAD","DELETE"].indexOf(a)&&e.data?t="?"+p(e.data):o&&"application/x-www-form-urlencoded"===o["Content-Type"]?n=p(e.data):e.data&&(n=r.isPlainObject(e.data)?JSON.stringify(e.data):e.data),i+=t,new Promise(function(e,t){var r=setTimeout(function(){u.Logger.debugMsg(l.adConstants.genericTimeoutErrorMessage+" : "+i),c&&c.abort();var e={textStatus:l.adConstants.genericTimeoutErrorMessage,statusText:l.adConstants.genericTimeoutErrorMessage,status:l.adConstants.httpStatusTimeout,readyState:l.adConstants.httpReadyStateTimeout};t(e)},s);fetch(i,{method:a,signal:d,headers:o,body:n}).then(e,t).finally(function(){return clearTimeout(r)})}).then(f)}}),define("mktui-fx/common/AdEventBuilder",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.getEvent=function(){return this.adEvent},i.prototype.errorType=function(e){return this.adEvent.errorType=e,this},i.prototype.eventDetails=function(e){return void 0===e&&(e=""),this.adEvent.eventDetails=e,this},i.prototype.failoverReason=function(e){return void 0===e&&(e=""),this.adEvent.failoverReason=e,this},i.prototype.httpStatus=function(e){return void 0===e&&(e=-100),this.adEvent.httpStatus=e,this},i.prototype.httpReady=function(e){return void 0===e&&(e=-100),this.adEvent.httpReady=e,this},i.prototype.respTime=function(e){return void 0===e&&(e=-1),this.adEvent.respTime=e,this},i.prototype.respStatus=function(e){return void 0===e&&(e=""),this.adEvent.respStatus=e,this},i.prototype.pageId=function(e){return void 0===e&&(e=""),this.adEvent.pageId=e,this},i.prototype.placementId=function(e){return void 0===e&&(e=""),this.adEvent.placementId=e,this},i.prototype.creativeId=function(e){return void 0===e&&(e=""),this.adEvent.creativeId=e,this},i.prototype.adfTraceId=function(e){return void 0===e&&(e=""),this.adEvent.adfTraceId=e,this},i.prototype.midasId=function(e){return void 0===e&&(e=""),this.adEvent.midasId=e,this},i.prototype.interactionId=function(e){return void 0===e&&(e=""),this.adEvent.interactionId=e,this},i.prototype.cid=function(e){return void 0===e&&(e=""),this.adEvent.cid=e,this},i.prototype.targetUrl=function(e){return void 0===e&&(e=""),this.adEvent.targetUrl=e,this},i.prototype.offerKey=function(e){return void 0===e&&(e=""),this.adEvent.offerKey=e,this},i.prototype.userAgent=function(e){return this.adEvent.userAgent=e,this},i.prototype.fxVersion=function(e){return this.adEvent.fxVersion=e,this},i.prototype.componentPath=function(e){return this.adEvent.componentPath=e,this},i);function i(){this.adEvent={}}t.AdEventBuilder=r}),define("mktui-fx/ads/content/failover/failover.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/util/cors","mktui-fx/common/AdOperationType","mktui-fx/util/Logger","mktui-fx/common/AdEventBuilder","mktui-fx/util/commonUtils"],function(e,t,r,i,d,l,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p={};function n(n,a){var o=f.Deferred();if(r.adConfig.failOverAdServiceUrl){var s=r.adConfig.failOverAdServiceUrl+"."+n+".json",e={timeout:r.adConfig.timeoutFailover},c=Date.now();return i.CORS(s,e).then(function(e){e=m(e);p[n]=e,o.resolve(e)},function(e){var t=e.textStatus,r=void 0===t?"error":t,i=e.statusText,t=e.status,e=e.readyState;l.Logger.logErrorMsgObject(d.AdOperationType.failover_service_error,(new u.AdEventBuilder).pageId(n).placementId(a.pid||a.placement||"").failoverReason(a.failoverReason||"").adfTraceId(a.adf_traceid||"").midasId(a.midas_id||"").eventDetails(i+"|"+r).targetUrl(s).httpStatus(t).httpReady(e).respTime(Date.now()-c).getEvent()),o.reject(i+"Error")}),o.promise()}o.reject("Failover Url is not defined")}function m(e){var t={};return e.success&&e.result.failOverDetails&&0<e.result.failOverDetails.length&&e.result.failOverDetails.forEach(function(e){e.slotId&&e.failoverAdId&&e.failoverAdUrl&&(t[e.slotId]={failoverAdId:e.failoverAdId,failoverAdUrl:e.failoverAdUrl})}),t}function a(e){return{creativeId:e.failoverAdId,cid:e.failoverAdUrl,timestamp:Date.now()}}t.failoverService={getFailOverAdData:function(e,t){void 0===t&&(t={});var r=f.Deferred();return e?p[e]?(r.resolve(p[e]),r.promise()):n(e,t):(r.reject("Error - pageId is undefined"),r.promise())},createDecisionRecord:a,getFailoverDetailsByPlacement:m,transformFailoverToDecisionResponse:function(t){void 0===t&&(t={});var r={};return Object.keys(t).forEach(function(e){r[e]=a(t[e])}),r},fetchFailover:n}}),define("mktui-fx/common/AdLabels",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.AdLabels||(t.AdLabels={})).defaultAd="default",t.decisionEngine="midas"}),define("mktui-fx/util/formatter",["require","exports","mktui-fx/util/Logger"],function(e,t,r){"use strict";function o(e,t){return!1===isNaN(e)?(100*parseFloat(e)).toFixed(t)+"%":e}function s(e){return(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"/"+(e.getDate()<10?"0"+e.getDate():e.getDate())}function c(e){if(!e||"string"!=typeof e)return r.Logger.errorMsg("Invalid value",e),e;try{return s(new Date(e.replace(/-/g,"/")))}catch(e){r.Logger.errorMsg("Error converting the date: ",e)}return e}function d(e){return Number(e)==e&&e%1==0}function l(e){return Number(e)===e&&e%1!=0}function u(e){return!1===isNaN(e)?parseInt(e).toLocaleString("en"):e}function f(e,t){if(d(e))return"$"+(t?e.toFixed(2):e).toLocaleString("en");if(l(e)){t=String(e).split(".");return"$"+(2==t.length?Number(t[0]).toLocaleString("en")+"."+function(e,t){if(e.length>=t)return e;for(var r=e,i=0;i<t-e.length;i++)r+="0";return r}(t[1].substring(0,2),2):Number(t[0]).toLocaleString("en"))}return e}function i(e,t,r){if(null!=e&&null!=e&&t)switch("string"==typeof t&&(t=t.toLowerCase()),t){case"emergencyfundamount":case"moneytoinvestamount":case"totalprimarycardbalance":case"averageinvestmentbalance":case"totalprimarydepositbalance":case"averagemonthlycontributionamount":case"payment":case"downpayment":case"homeprice":case"examplecreditamountwithoriginationfee":case"creditamount":case"creditlimitincrease":case"cashoutamount":return a=e,!1===isNaN(a)?"$"+parseInt(a).toLocaleString("en"):a;case"rate":case"annualpercentagerate":return o(e,"gr_home_mortgage_refinance_cashout"===(r=(r=r||"").toLowerCase())||"gr_home_mortgage_purchase"===r||"df_home_mortgage_refinance_cashout"===r||"df_home_mortgage_refinance_rateterm"===r||"pq_home_mortgage_refinance_cashout"===r||"pq_home_mortgage_refinance_rateterm"===r||"pq_home_mortgage_purchase"===r||"gr1_home_mortgage_refinance_rateterm_digitalrefi"===r||"gr1_home_mortgage_purchase_fma"===r||"gr1_home_mortgage_refinance_cashout_fma"===r||"gr1_home_mortgage_refinance_rateterm_fhassl"===r||"gr1_home_mortgage_refinance_rateterm_fma"===r||"gr1_home_equitylineofcredit"===r||"df_home_mortgage_purchase"===r?3:2);case"downpaymentpercentage":return o(e,0);case"exampleannualpercentageratewithoriginationfee":return o(e,2);case"currentrate":return o(e,3);case"newinterestrate":return a=e,!(r=3)===isNaN(a)?parseFloat(a).toFixed(r)+"%":a;case"exampletermmonthswithoriginationfee":return e;case"expirydate":return c(e);case"retdetexpired":case"rettileexpired":case"cptileexpired":case"cpdetexpired":return function(e,t){var r=["Jan","Feb","Mar","APR","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];try{var i=e.slice(6,-2),i=/^\d+$/.test(i)?parseInt(i):i,i=new Date(i);switch(t){case"rettileexpired":case"cpdetexpired":return r[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear();case"retdetexpired":return s(i)+"/"+i.getFullYear();case"cptileexpired":return r[i.getMonth()]+" "+i.getDate()}}catch(e){console.log("Date Format Error",e)}return e}(e,t);case"totalearned":return Number.isInteger(e)?e.toFixed(2):e;case"offeredamount":return!d(n=e)&&l(n)?n.toFixed(2):n;case"adofferscount":return 100<=(n=e)?"99+":n;case"ratediscountinpoints":return parseFloat(e);case"arn":case"totalamount":case"newcreditlineamount":case"creditlineincreaseamount":case"potentialcashback":case"monthlypaymentreduction":return function(e){if(!isNaN(e))return"$"+Math.floor(e).toLocaleString("en")}(e);case"pointscashvalue":return f(e,!1);case"potentialpoints":case"pointsbalance":return u(e);case"marketinggenerationtimestamp":return function(e){try{return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric"}).format(new Date(e))}catch(e){return"--"}}(e);case"rewardbalanceasofdate":return i=e,i+="T00:00:00",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(i));case"totalrewardbalance":case"potentialrewardbalance":return u(e);case"pcliproduct":return(i=e)&&"string"==typeof i?i.toLowerCase().split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "):""}var i,n,a;return e}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.version="1.0",this.format=i};t.Formatter=n,t.formatter=new n}),define("mktui-fx/ads/personalization/PersonalizationParameter",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/content/contentHelper",["require","exports","mktui-fx/common/adConfig","mktui-fx/environment/channelEnvironment","mktui-fx/util/Logger","mktui-fx/ads/topic","mktui-fx/common/AdLabels","mktui-fx/common/adConstants","mktui-fx/util/formatter","mktui-fx/util/commonUtils"],function(e,m,t,r,y,g,v,i,n,a){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var o=(s.prototype.appendRPIForEmulationMode=function(e,t){var r=t.requestedPersonId,i=t.emulationTokenIdentifier,t={};return r&&-1===e.indexOf("rpi=")&&(t.rpi=r),i&&"null"!==i&&(t.emulationTokenIdentifier=i),e=a.isEmptyObject(t)?e:a.addQueryParameterToUrl(e,t)},s.prototype.appendContentServerHostToImagePaths=function(e){e.result.en.prefixImage.includes("http")||(e.result.en.prefixImage=m.contentHelper.contentServer+e.result.en.prefixImage),e.result.es.prefixImage.includes("http")||(e.result.es.prefixImage=m.contentHelper.contentServer+e.result.es.prefixImage)},s.prototype.getContentLocation=function(e){var t=e||"";return"/"==e.charAt(0)&&(t=m.contentHelper.contentServer+e),t=(t=(t=(t=t.replace("jcr:content","_jcr_content")).replace("{{content_placeholder}}",i.adConstants.cidVersionMapping[m.contentHelper.getContentApiVersion()])).replace(/{{channel}}/g,r.channelEnvironment.getChannel())).replace(/{{extension}}/g,m.contentHelper.getContentFormat())},s.prototype.setAdVariationData=function(e){var t={};return t.adVariantData=e.adVariationContext,t.html=e.html,t.offerKey=e.offerKey||e.personalizedFor,t.lob=e.lob,t.disclosure=e.disclosure||!1,t.offerApiUrl=e.serviceUrl,t.broadcastParams=e.broadcastParams,t},s.prototype.evaluateDynamicAd=function(e,t){var r,i,n=t.audiences?t.audiences.split(","):[],a=JSON.parse(e);if(a&&a.result&&a.result.permutations)for(var o=0,s=a.result.permutations;o<s.length;o++){var c=s[o];if(""!=c.rules){for(var d="",l=0,u=c.rules.split(" ");l<u.length;l++){var f,p=u[l];-1!==p.indexOf("hA")?(f=p.substring(4,p.length-2),d+=-1<n.indexOf(f)):d+=p}if(new Function("return "+d)()){r=m.contentHelper.setAdVariationData(c);break}}else r=m.contentHelper.setAdVariationData(c)}return a&&a.ads&&a.ads[0]&&(e=a.ads[0].adVariationContext,i=JSON.stringify(a.ads[0].content),i=__assign({adVariationContext:e,html:i},a.ads[0].data),r=m.contentHelper.setAdVariationData(i)),t.trackVariation&&((i={}).adLabel=v.AdLabels.decisionEngine,y.Logger.debugMsg("[AdSummary] trackAdVariation Event Published for PID:",t.pid),g.Topic("trackAdVariation").publish(t.pid,i,r.adVariantData,t.pageId)),r},s.prototype.replaceReferenceVariables=function(e,t,r,i){var n=e.match(/{{(\w+\s*.\w+)*}}/g);if(n)for(var a=0,o=n;a<o.length;a++){var s=o[a],c=this.extractReferenceVariable(s),d=this.resolveRefVarValue(c,i,t,r);if(!d)throw y.Logger.errorMsg("Reference variable could not be replaced: ",c),"AD-Error Reference variable could not be replaced:  "+c;s=new RegExp(s,"g");e=e.replace(s,d)}return e},s.prototype.extractReferenceVariable=function(e){e=e.substring(e.lastIndexOf("{{")+2);return e.substring(e.lastIndexOf("_")+1,e.indexOf("}}"))},s.prototype.resolveRefVarValue=function(e,t,r,i){i=n.formatter.format(r[e],e,i);return t[e]||t.dynamicData&&t.dynamicData[e]||t.broadcastParams&&t.broadcastParams[e]||i},s.prototype.adVariantFromJSON=function(e,t,r){return void 0===r&&(r={}),a.isCrossDomain(t)&&(t=void 0,e=(m.contentHelper.checkComponentPathExists(e)?(t=JSON.parse(e)).ads[0].content=JSON.parse(m.contentHelper.replaceContentServer(JSON.stringify(t.ads[0].content))):(t=JSON.parse(e)).result.permutations[0].html=m.contentHelper.replaceContentServer(t.result.permutations[0].html),JSON.stringify(t))),m.contentHelper.evaluateDynamicAd(e,r)},s.prototype.replaceContentServer=function(e){return e=e&&(e=e.replace(/\"\//g,'"'+m.contentHelper.contentServer+"/")).replace(/\'\//g,"'"+m.contentHelper.contentServer+"/")},s.prototype.checkComponentPathExists=function(e){if(e&&a.getJSONObj(e)){e=JSON.parse(e);return e&&e.template&&e.template.componentPath}},s.prototype.checkForPersonalizedKey=function(e){return void 0===e&&(e={}),e.offerKey||e.personalizedFor},s.prototype.getContentApiVersion=function(){return"1.0"},s.prototype.getContentFormat=function(){return r.channelEnvironment.isCXO()?"json":"html"},s);function s(){this.contentServer=t.adConfig.contentServer}m.ContentHelper=o,m.contentHelper=new o}),define("mktui-fx/ads/personalization/OfferResponse",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(){}t.OfferResponseOfferDetails=r}),define("mktui-fx/ads/personalization/personalizationHelper.service",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isOfferDataAvailable=function(e){return"SUCCESS"===e.code&&void 0!==e.offers&&0<Object.keys(e.offers).length&&void 0===e.offers.faultCode},t.isOfferDataImpression=function(e){return!e.insightType},t.isVastOfferDataAvailable=function(e,t){return e&&Object.keys(e).length&&e[t]&&Object.keys(e[t]).length}}),define("mktui-fx/ads/content/ContentResponse",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/personalization/icon.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/util/cors","mktui-fx/environment/channelEnvironment","mktui-fx/ads/personalization/personalizationHelper.service","mktui-fx/util/commonUtils"],function(e,t,s,c,d,l,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iconService={getPersonalizationData:function(e,t){var i=f.Deferred(),r=l.channelEnvironment.getResolvedEci(),n=l.channelEnvironment.getResolvedProfileId(),a=t.cid||"",o=""+t.midas_id,t=""+t.midas_id,t={timeout:s.adConfig.timeoutOfferApi,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-jpmc-csrf-token":"NONE","profile-id":n},xhrFields:{withCredentials:!1},data:{eci:r,cid:a,adf_traceid:o,midas_id:t}};return d.CORS(s.adConfig.iconOfferServiceUrl,t).then(function(e){var t;u.isOfferDataAvailable(e)?(t=u.isOfferDataImpression(e.offers),i.resolve({response:e.offers,requireOfferDataImpression:t})):i.reject({details:c.adConstants.apiErrors.noData,crmodsStatus:e.code||c.adConstants.apiErrors.noStatusCode,httpStatus:c.adConstants.httpStatusOk,httpReadyState:c.adConstants.httpReadyStateOk})},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.status,e=e.readyState;i.reject({details:"Error-"+(r||""),httpStatus:t,httpReadyState:e})}),i.promise()}}}),define("mktui-fx/ads/personalization/legacydata.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/util/cors","mktui-fx/environment/channelEnvironment","mktui-fx/util/commonUtils"],function(e,t,c,d,l,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={insights:"personalizedinsights",borrowingPower:"offerbylob"},p="CIG_",m="SUCCESS";function y(e){return e&&-1<e.indexOf(r.borrowingPower)}function g(e){return e&&-1<e.indexOf(r.insights)}function v(e){return e&&"null"!==e.toLowerCase()}t.legacyDataService={getPersonalizationData:function(n,e){var t,r,i,a,o,s=f.Deferred();return v(n.apiUrl)?(t=n,r=e,i=u.channelEnvironment.getResolvedEci(),a=u.channelEnvironment.getResolvedProfileId(),o=""+r.midas_id,e=""+r.midas_id,r={timeout:c.adConfig.timeoutOfferApi,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-jpmc-csrf-token":"NONE"},xhrFields:{withCredentials:!1}},g(t.apiUrl)?(r.url=t.apiUrl,r.data={profileId:a,context:t.personalizedKey,adf_traceid:o,midas_id:e}):(y(t.apiUrl)?(a=t.lob||"",r.url=t.apiUrl.replace(/{{lob}}/g,a)):r.url=t.apiUrl,r.data={eci:i,adf_traceid:o,midas_id:e}),r=r,l.CORS(r.url,r).then(function(e){var t,r,i;t=n,r=s,(e=e).code!==m||void 0===e.offers||void 0===e.offers[t.personalizedKey]||y(t.apiUrl)?e.code===m&&void 0!==e.offers&&y(t.apiUrl)?0<(i=Object.keys(e.offers)).length?r.resolve({response:e.offers[i[0]],requireOfferDataImpression:!0}):r.reject({details:d.adConstants.apiErrors.noResponseKeys,crmodsStatus:e.code,httpStatus:d.adConstants.httpStatusOk,httpReadyState:d.adConstants.httpReadyStateOk}):null!=e.insights&&null!=e.insights[0]?(i=e.insights[0]).insightType===p+t.personalizedKey&&r.resolve({response:i.insightDetails}):r.reject({details:d.adConstants.apiErrors.noData,crmodsStatus:e.code||d.adConstants.apiErrors.noStatusCode,httpStatus:d.adConstants.httpStatusOk,httpReadyState:d.adConstants.httpReadyStateOk}):r.resolve({response:e.offers[t.personalizedKey],requireOfferDataImpression:!0})},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.status,e=e.readyState;s.reject({details:"Error-"+(r||""),httpStatus:t,httpReadyState:e})})):s.reject({details:"Error- Url undefined in the content response",httpStatus:"--",httpReadyState:"--"}),s.promise()}},t._privateFunctionsLegacyData={isApiUrlDefined:v,isBorrowingPower:y,isBespokeOffer:g}}),define("mktui-fx/common/Channels",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.Channels||(t.Channels={})).public="Public",t.cxo="CXO",t.cap="CAP"}),define("mktui-fx/ads/personalization/VastErrorResponse",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/personalization/vast.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/common/adConstants","mktui-fx/util/cors","mktui-fx/environment/channelEnvironment","mktui-fx/ads/personalization/personalizationHelper.service","mktui-fx/util/commonUtils"],function(e,t,n,a,o,s,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vastService={getPersonalizationData:function(t,e){var r=d.Deferred(),i=s.channelEnvironment.getResolvedEci(),i={timeout:n.adConfig.timeoutOfferApi,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-jpmc-csrf-token":"NONE"},xhrFields:{withCredentials:!1},data:{eci:i}};return o.CORS(n.adConfig.vastOfferServiceUrl,i).then(function(e){c.isVastOfferDataAvailable(e,t.personalizedKey)?r.resolve({response:e[t.personalizedKey],requireOfferDataImpression:!0}):r.reject({details:a.adConstants.apiErrors.noData,crmodsStatus:e.errorCode||a.adConstants.apiErrors.noStatusCode,httpStatus:a.adConstants.httpStatusOk,httpReadyState:a.adConstants.httpReadyStateOk})},function(e){var t=e.errorDescription,t=void 0===t?"Error":t,e=e.errorCode;r.reject({details:"Error-"+t,httpStatus:e,httpReadyState:a.adConstants.httpReadyStateOk})}),r.promise()}}}),define("mktui-fx/ads/personalization/personalization.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/util/Logger","mktui-fx/ads/personalization/icon.service","mktui-fx/ads/personalization/legacydata.service","mktui-fx/common/Channels","mktui-fx/ads/personalization/vast.service"],function(e,t,r,s,i,n,a,o){"use strict";function c(e,t){return r.adConfig.iconPageIds[e]&&-1<r.adConfig.iconPageIds[e].indexOf(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isICONEnabled=c,t.personalizationService={logPersonalizedError:function(e){var t=e.errorType,r=e.errorDetails,i=e.contentLocation,n=e.dataReqStartTime,a=e.adVariation,o=e.placementId,e=e.decisionResultToUse;s.Logger.logErrorMsgObject(t,{details:r&&r.details,httpStatus:r&&r.httpStatus,crmodsStatus:r&&r.crmodsStatus,httpReadyState:r&&r.httpReadyState,offerApiUrl:a.offerApiUrl,offerKey:a.offerKey,cid:i,placementId:o,channel:e.channelId||"",respTime:Date.now()-n,creativeId:e.creativeId||"--",interactionID:e.interactionID||"--",midasId:e.midas_id,adfTraceId:e.adf_traceid})},getPersonalizationData:function(e,t){var r=t.pid||t.placement||"";return e.apiUrl=e.offerApiUrl||e.serviceUrl||"",e.personalizedKey=e.offerKey||e.personalizedFor||"",(t.channelId&&t.channelId===a.Channels.cap?o.vastService:c(t.pageId,r)?i.iconService:n.legacyDataService).getPersonalizationData(e,t)}}}),define("mktui-fx/ads/content/PlacementContext",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/decision/DecisionResponse",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/analytics/adDataStore",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i={},n=(a.prototype.getPageData=function(e){return r[e]},a.prototype.getPlacementData=function(e,t){return r[e]?r[e][t]:""},a.prototype.addPage=function(e,t){r[e]=t},a.prototype.setOfferId=function(e,t,r){t=e+"/"+t;!i[t]&&r&&(i[t]=r)},a.prototype.getOfferId=function(e,t){return i[e+"/"+t]},a);function a(){}t.AdDataStore=n,t.adDataStore=new n}),define("mktui-fx/ads/content/contentLoadService",["require","exports","mktui-fx/environment/channelEnvironment","mktui-fx/ads/topic","mktui-fx/common/AdOperationType","mktui-fx/util/Logger","mktui-fx/util/cors","mktui-fx/common/adConstants","mktui-fx/util/commonUtils"],function(e,s,d,l,u,f,c,p,m){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=(r.prototype.load=function(t,r){var i=Date.now(),n=m.Deferred(),a=r&&(r.pid||r.placement||""),o={pageId:r.pageId||"",placementId:a,cid:t,creativeId:r.creativeId||"",interactionID:r.interactionID||"",midasId:r.midas_id||"",adfTraceId:r.adf_traceid||"",details:p.adConstants.contentErrors.noData,httpStatus:p.adConstants.httpStatusOk,httpReadyState:p.adConstants.httpReadyStateOk};return f.Logger.debugMsg("[AdSummary] Started loading content for CID: "+t+"; pid: "+a),c.CORS(t).then(function(e){e=m.isPlainObject(e)?JSON.stringify(e):e;e.trim()?(f.Logger.debugMsg("[AdSummary] Content loaded successfully for CID: "+t+"; pid: "+a),n.resolve(e)):(f.Logger.errorMsg("Content could not be loaded for CID: "+t+"; pid: "+a),o.respTime=Date.now()-i,f.Logger.logErrorMsgObject(u.AdOperationType.content_fail,o),n.reject(r.optionalFailover||!1))},function(e){s.contentLoadService.handleAjaxError(__assign(__assign({adParameterOptions:r,contentLocation:t},e),{errorDetails:o,reqStartTime:i})),n.reject(r.optionalFailover||!1)}),n.promise()},r.prototype.handleAjaxError=function(e){var t=e.adParameterOptions,r=e.contentLocation,i=e.errorDetails,n=e.textStatus,a=void 0===n?"error":n,o=e.status,s=e.readyState,c=e.statusText,n=e.reqStartTime,e=t&&(t.pid||t.placement||"");d.channelEnvironment.isCXO()&&(t?l.Topic("trackfailOverImpression").publish(u.AdOperationType.content_fail,t.pageId,e):l.Topic("trackfailOverImpression").publish(u.AdOperationType.content_fail),f.Logger.logMsg("Slot Placement - [trackfailOverImpression] Event Published for URL:",r)),f.Logger.errorMsg("Content fail for CID: "+r+"; pid: "+e),i.respTime=Date.now()-n,i.details=c+"|"+a,i.httpStatus=o,i.httpReadyState=s,i.cid=r,i.placementId=e,f.Logger.logErrorMsgObject(u.AdOperationType.content_fail,i)},r);function r(){}s.ContentLoadService=t,s.contentLoadService=new t}),define("mktui-fx/ads/client/AdComponent",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/content/templateResolver",["require","exports","mktui-fx/util/commonUtils","mktui-fx/environment/channelEnvironment","mktui-fx/util/Logger","mktui-fx/common/AdOperationType"],function(e,t,r,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(s.prototype.getTemplateHtml=function(e){var t=r.Deferred();return this.loadTemplateBundle(e).then(function(e){t.resolve(e)},t.reject),t.promise()},s.prototype.getTemplateBundleUrl=function(e,t){return e||(t&&i.channelEnvironment.getTemplateBundleByChannel(t)?i.channelEnvironment.getTemplateBundleByChannel(t):i.channelEnvironment.isCXO()?i.channelEnvironment.getTemplateBundleByChannel(i.channelEnvironment.getChannel().toUpperCase()):void 0)},s.prototype.loadTemplateBundle=function(i){var e=this,n=r.Deferred(),a=i.componentPath,t=this.getTemplateBundleUrl(i.templateBundleUrl,i.channelId);return o.Logger.debugMsg("[AdSummary] Loading template bundle by channel",t),t?window.require([t],function(){window.require([a],function(r){return __awaiter(e,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,r.component.getTemplateHtml(i).catch(function(e){o.Logger.errorMsg("Could not load the template HTML: ",e),n.reject({success:!1,errorDetails:"Error getting template html for "+a})})];case 1:return t=e.sent(),n.resolve({success:!0,html:t}),[2]}})})},function(e){o.Logger.errorMsg("Could not load the component in template bundle: ",e),n.reject({success:!1,errorDetails:"[AdSummary] Error loading the Ad component in template bundle in componentPath: "+a})})},function(e){o.Logger.errorMsg("Could not load the template bundle: ",e),n.reject({success:!1,errorDetails:"[AdSummary] Error loading the template bundle: "+t})}):n.reject({success:!1,errorDetails:"[AdSummary] Error loading the template bundle - No Value defined"}),n.promise()},s.prototype.preLoadTemplateBundle=function(e){var r=this.getTemplateBundleUrl("",e);r?window.require([r],function(){o.Logger.debugMsg("[AdSummary] Successfully loaded template bundle by channel:"+e,r)},function(e){var t={eventDetails:"[AdSummary] Error loading the template bundle by channel: "+r};o.Logger.logErrorMsgObject(n.AdOperationType.preview_template_bundle_load_fail,t)}):o.Logger.logErrorMsgObject(n.AdOperationType.preview_template_bundle_load_fail,{eventDetails:"[AdSummary] Error loading the template bundle - No Value defined"})},s);function s(){}t.TemplateResolver=a,t.templateResolver=new a}),define("mktui-fx/ads/content/contentAggregatorService",["require","exports","mktui-fx/util/commonUtils","mktui-fx/environment/channelEnvironment","mktui-fx/ads/personalization/personalization.service","mktui-fx/util/Logger","mktui-fx/common/adConstants","mktui-fx/common/AdOperationType","mktui-fx/ads/analytics/adDataStore","mktui-fx/ads/content/contentHelper","mktui-fx/common/adConfig","mktui-fx/ads/content/contentLoadService","mktui-fx/ads/content/failover/failover.service","mktui-fx/ads/topic","mktui-fx/util/commonUtils","mktui-fx/ads/content/templateResolver"],function(e,m,o,t,f,u,y,g,s,p,r,i,c,d,v,n){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var a=(l.prototype.processAdCollectionDynamicVariables=function(e,t,r){var i={},e=o.isCrossDomain(t)?o.replaceContentServerHost(e):e;return r.evaluateDynamicAd?(r=p.contentHelper.evaluateDynamicAd(e,r),i.adVariantData=r.adVariantData,i.content=r.html):i.content=e,i},l.prototype.processDynamicVariables=function(e,t,r,i){e=o.isCrossDomain(t)?o.replaceContentServerHost(e):e;return(e=i?m.contentAggregatorService.getDynamicAd(e):e).replace("${jpmcPageVar.clickThruUrl}",r)},l.prototype.getAdContentForConvoDeck=function(e,t,r){var i=e.replace("${jpmcPageVar.clickThruUrl}",r.clickThroughUrl),e=o.getJSONObj(i),i=v.Deferred();return e?(o.isCrossDomain(t)&&p.contentHelper.appendContentServerHostToImagePaths(e),m.contentAggregatorService.getPersonalizedData(e.result,JSON.stringify(e),{adParameterOptions:r})):(i.reject("Invalid non-JSON response for cid "+t),i.promise())},l.prototype.loadContentForBlueAd=function(a,t,o,s){void 0===o&&(o=!1),void 0===s&&(s={});var c=t.adParameterOptions,d=t.decisionResultToUse,l=v.Deferred();return i.contentLoadService.load(a,c).then(function(e){var t=p.contentHelper.adVariantFromJSON(e,a,c);t&&t.offerApiUrl&&c.isEmulationUser&&(t.offerApiUrl=p.contentHelper.appendRPIForEmulationMode(t.offerApiUrl,c));var r=t.html.replace("${jpmcPageVar.clickThruUrl}",c.clickThroughUrl),i={contentLocation:a,isFailover:o,failoverAdObject:s,adParameterOptions:c,decisionResultToUse:d},n=p.contentHelper.checkComponentPathExists(e);m.contentAggregatorService.getPersonalizedData(t,r,i).then(function(e){n?m.contentAggregatorService.loadTemplateHtml(n,e).then(l.resolve,function(e){void 0===e&&(e={});var t={componentPath:n,pageId:c.pageId,placementId:c.pid,cid:c.cid,eventDetails:e.errorDetails||""};u.Logger.logErrorMsgObject(g.AdOperationType.template_bundle_load_fail,t),l.reject(e)}):l.resolve(e)},l.reject)},function(e){o?l.reject():m.contentAggregatorService.manageFailover(g.AdOperationType.content_fail,t).then(l.resolve,l.reject)}),l.promise()},l.prototype.loadTemplateHtml=function(e,t){var r=v.Deferred(),e={componentPath:e,content:o.getJSONObj(t.contentToRender)};return n.templateResolver.getTemplateHtml(e).then(function(e){t.contentToRender=(null===e||void 0===e?void 0:e.html)||"",r.resolve(t)},r.reject),r.promise()},l.prototype.getPersonalizedData=function(r,i,n){void 0===i&&(i="");var a=v.Deferred(),o=n.adParameterOptions,s=n.contentLocation,c=n.isFailover,d=n.failoverAdObject,l=t.channelEnvironment.getResolvedEci();if(p.contentHelper.checkForPersonalizedKey(r)){var u=Date.now();f.personalizationService.getPersonalizationData(r,o).then(function(e){var t=e.response,e=e.requireOfferDataImpression,e=__assign(__assign({adParameterOptions:o,contentLocation:s,response:t,requireOfferDataImpression:e,eci:l,adVariation:r,isFailover:c,failoverAdObject:d},n),{html:i});m.contentAggregatorService.personalizationDataSuccess(u,e).then(a.resolve,a.reject)},function(e){var t;r.offerKey?(t=__assign({contentLocation:s,adVariation:r,isFailover:c},n),m.contentAggregatorService.personalizationDataError(g.AdOperationType.api_data_fail,e,u,t).then(function(e){return a.resolve(e)},function(){return a.reject("getPersonalizationData: "+(e&&e.details)+"| timetaken: "+(Date.now()-u))})):a.reject()})}else try{var e=this.replaceDynamicData(r,i,n,l,c,d);a.resolve(e)}catch(e){a.reject(e)}return a.promise()},l.prototype.replaceDynamicData=function(e,t,r,i,n,a){void 0===t&&(t=""),t=(t=o.replaceDynamicDataForNonPersonalizedAd(r.adParameterOptions,t)).replace(/{{eci}}/g,i);i=e.broadcastParams||{};return{success:!0,contentToRender:t=p.contentHelper.replaceReferenceVariables(t,e,"",i),adVariantData:e.adVariantData,disclosure:e.disclosure,isFailover:n,failoverAdObject:a,broadcastParams:e.broadcastParams}},l.prototype.manageFailover=function(a,o){return __awaiter(this,void 0,void 0,function(){var t,r,i,n;return __generator(this,function(e){switch(e.label){case 0:t=o.adParameterOptions,r=v.Deferred(),e.label=1;case 1:return e.trys.push([1,3,,4]),i=__assign(__assign({},t),{failoverReason:a}),[4,c.failoverService.getFailOverAdData(t.pageId,i)];case 2:return i=e.sent(),(i=i[t.pid])?(n=c.failoverService.createDecisionRecord(i),i=p.contentHelper.getContentLocation(i.failoverAdUrl),m.contentAggregatorService.loadContentForBlueAd(i,o,!0,n).then(function(e){r.resolve(e)},function(){return r.reject()})):r.reject(),[3,4];case 3:return n=e.sent(),r.reject(n),[3,4];case 4:return d.Topic("trackfailOverImpression").publish(a,t.pageId,t.pid),u.Logger.logMsg("Slot Placement - [trackfailOverImpression] Event Published"),[2,r.promise()]}})})},l.prototype.checkFailover=function(e,t,r){var i=v.Deferred();return e?i.reject():m.contentAggregatorService.manageFailover(t,r).then(i.resolve,i.reject),i.promise()},l.prototype.personalizationDataSuccess=function(e,t){var r=v.Deferred(),i=t.contentLocation,n=void 0===i?"":i,a=t.response,o=t.requireOfferDataImpression,s=t.eci,c=t.adVariation,d=t.isFailover,l=void 0!==d&&d,u=t.failoverAdObject,f=t.adParameterOptions,p=t.html,i=c.offerKey||c.personalizedFor||"",d=c.broadcastParams||{},n={html:p,response:a,offerKey:i,broadcastParams:d,eci:s,requireOfferDataImpression:o,adParameterOptions:f,contentLocation:n,isFailover:l,failoverAdObject:u},n=m.contentAggregatorService.processPersonalizationData(f,n);if(n){d={success:!0,contentToRender:n,adVariantData:c,disclosure:c.disclosure,isFailover:l,failoverAdObject:u,broadcastParams:d};r.resolve(d)}else if(c.offerKey){a={httpStatus:y.adConstants.httpStatusOk,httpReadyState:y.adConstants.httpReadyStateOk,details:JSON.stringify(a)};return m.contentAggregatorService.personalizationDataError(g.AdOperationType.data_replace_fail,a,e,t)}return r.promise()},l.prototype.personalizationDataError=function(e,t,r,i){var n=i.contentLocation,a=i.adVariation,o=i.isFailover,s=void 0!==o&&o,o=i.adParameterOptions,i=i.decisionResultToUse;return f.personalizationService.logPersonalizedError({errorType:e,errorDetails:t,contentLocation:n,dataReqStartTime:r,adVariation:a,placementId:o.pid,decisionResultToUse:i||o||{}}),m.contentAggregatorService.checkFailover(s,e,{adParameterOptions:o})},l.prototype.processPersonalizationData=function(e,t){var r=t.response,i=t.offerKey,n=void 0===i?"":i,a=t.eci,o=void 0===a?"":a,i=t.requireOfferDataImpression,a=t.broadcastParams,a=void 0===a?{}:a,t=t.html,t=void 0===t?"":t;e.eci=o;o="object"==typeof r?r:JSON.parse(r),a=__assign(__assign({},e),a);return(t=p.contentHelper.replaceReferenceVariables(t,o,n,a))&&i&&s.adDataStore.setOfferId(e.pageId,e.pid,r.offerId),u.Logger.debugMsg("Processed Offer Response",e.midas_id),t},l.prototype.getDynamicAd=function(e){return p.contentHelper.evaluateDynamicAd(e,{trackVariation:!1}).html},l);function l(){this.contentServer=r.adConfig.contentServer}m.ContentAggregatorService=a,m.contentAggregatorService=new a}),define("mktui-fx/ads/content/content.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/common/adConstants","mktui-fx/environment/channelEnvironment","mktui-fx/ads/content/failover/failover.service","mktui-fx/ads/content/contentHelper","mktui-fx/ads/content/contentAggregatorService","mktui-fx/ads/content/contentLoadService","mktui-fx/util/commonUtils"],function(e,a,t,d,l,s,u,f,p,m,y,g){"use strict";Object.defineProperty(a,"__esModule",{value:!0});t.adConfig.contentServer;r.prototype.loadAd=function(e,t,r,i,n){var a=__assign({cid:e||""},n),o=p.contentHelper.getContentLocation(e);0<=e.indexOf(s.adConstants.dynamicAdCheck)?y.contentLoadService.load(o,a).then(function(e){e=m.contentAggregatorService.processDynamicVariables(e,o,i,!0);d.Logger.debugMsg("[Ad Summary] Successfully loaded Ad for PID",a.pid),t(e)},function(e){d.Logger.errorMsg("Error loading Ad for PID: "+a.pid+"; Error Message: ",e),r(e)}):y.contentLoadService.load(o,a).then(function(e){m.contentAggregatorService.getAdContentForConvoDeck(e,o,a).then(function(e){e=e.contentToRender;d.Logger.debugMsg("[Ad Summary] Successfully loaded Ad for PID",a.pid),t(e)},function(e){d.Logger.errorMsg("Error loading Ad for PID: "+a.pid+"; Error Message: ",e),r(e)})},function(e){d.Logger.errorMsg("Error loading Ad for PID: "+a.pid+"; Error Message: ",e),r(e)})},r.prototype.loadBlueAd=function(e,o,t,r,i){var i=i||{},s=__assign({clickThroughUrl:null,trackVariation:!0,creativeId:i.creativeId||"--",interactionID:i.interactionID||"--",midas_id:i.midas_id||"",adf_traceid:i.adf_traceid||"",dynamicData:i.dynamicData||{},cid:e||""},r),n=p.contentHelper.getContentLocation(e);-1!==e.indexOf(".dynamic.html")?y.contentLoadService.load(n,s).then(function(e){e=m.contentAggregatorService.processDynamicVariables(e,n,s.clickThroughUrl,!1);d.Logger.debugMsg("[Ad Summary] Successfully loaded Ad for PID",s.pid),o(e)},function(e){d.Logger.errorMsg("Error loading Ad for PID: "+s.pid+"; Error Message: ",e),t(e)}):(i={adParameterOptions:s,decisionResultToUse:i},m.contentAggregatorService.loadContentForBlueAd(n,i).then(function(e){var t=e.contentToRender,r=e.adVariantData,i=e.disclosure,n=e.isFailover,a=e.failoverAdObject,e=e.broadcastParams;d.Logger.debugMsg("[Ad Summary] Successfully loaded Ad for PID",s.pid),o(t,r,i,n,a,e)},function(e){d.Logger.errorMsg("Error loading Ad for PID: "+s.pid+"; Error Message: ",e),t(e)}))},r.prototype.loadFailoverAd=function(a,o,s,c){return __awaiter(this,void 0,void 0,function(){var t,r,i,n;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t={failoverReason:l.AdOperationType.failover_ad_load},[4,f.failoverService.getFailOverAdData(a,t)];case 1:return n=e.sent(),(n=n[o])?(r=f.failoverService.createDecisionRecord(n),i=p.contentHelper.getContentLocation(n.failoverAdUrl),y.contentLoadService.load(i,{}).then(function(e){var t=p.contentHelper.adVariantFromJSON(e,i),e=u.channelEnvironment.getResolvedEci(),e=t.html.replace("{{eci}}",e);s(e,t.adVariantData,t.disclosure,!0,r)},function(e){c()})):c(),[3,3];case 2:return n=e.sent(),c(n),[3,3];case 3:return d.Logger.logErrorMsgObject(l.AdOperationType.failover_ad_load,{pageId:a,placementId:o}),d.Logger.logMsg("Slot Placement - [trackfailOverImpression] Event Published"),[2]}})})},r.prototype.getFailoverContentPaths=function(s){return __awaiter(this,void 0,void 0,function(){var t,r,i,n,a,o;return __generator(this,function(e){switch(e.label){case 0:t={},r={},i=g.Deferred(),e.label=1;case 1:return e.trys.push([1,3,,4]),n={failoverReason:l.AdOperationType.content_fail},[4,f.failoverService.getFailOverAdData(s,n)];case 2:return(a=e.sent())&&0<Object.keys(a).length&&Object.keys(a).forEach(function(e){t[e]=a[e].failoverAdUrl,r[e]=a[e].failoverAdId}),0<Object.keys(t).length?(o={failoverAdUrls:t,failoverAdIds:r},i.resolve(o)):i.reject(),[3,4];case 3:return o=e.sent(),i.reject(o),[3,4];case 4:return[2,i.promise()]}})})},r.prototype.loadAdCollectionContent=function(a,o){var e,s=[],c={failoverAdIds:o.failoverAdIds||{},adVariationArray:{},contentArray:{}};for(e in a)!function(t){var r,e=a[t],i=g.Deferred(),n=p.contentHelper.getContentLocation(e);e&&(r=__assign({clickThroughUrl:null,trackVariation:!0,pid:t},o),y.contentLoadService.load(n,r).then(function(e){e=m.contentAggregatorService.processAdCollectionDynamicVariables(e,n,r);c.contentArray[t]=e.content,e.adVariantData&&(c.adVariationArray[t]=e.adVariantData),i.resolve(c)},function(e){i.reject(e)}),s.push(i.promise()))}(e);return Promise.all(s)},r.prototype.loadAdCollection=function(e,r){var t=g.Deferred(),i=__assign({evaluateDynamicAd:!1},r);return a.contentService.loadAdCollectionContent(e,i).then(function(e){d.Logger.debugMsg("[AdSummary] Successfully loaded adCollection content for PageId:",i.pageId),e&&e.length&&(e={contentArray:(e=e[0]).contentArray,adVariationArray:e.adVariationArray,failoverAdIds:e.failoverAdIds},t.resolve(e))},function(){a.contentService.getFailoverContentPaths(r.pageId).then(function(e){var t=e.failoverAdUrls,e=e.failoverAdIds;r.failoverAdIds=e,a.contentService.loadAdCollection(t,r)},function(){t.reject()})}),t.promise()},r.prototype.loadBlueAdCollection=function(e,i,r,t){var n=__assign({loadFailover:!1,evaluateDynamicAd:!0},t);n.loadFailover?a.contentService.getFailoverContentPaths(n.pageId).then(function(e){var t=e.failoverAdUrls,e=e.failoverAdIds;n.failoverAdIds=e,a.contentService.loadAdCollection(t,n).then(function(e){var t=e.contentArray,r=e.adVariationArray,e=e.failoverAdIds;i(t,r,e)},function(){r()})},r):a.contentService.loadAdCollection(e,n).then(function(e){var t=e.contentArray,r=e.adVariationArray,e=e.failoverAdIds;i(t,r,e)},function(){r()})},t=r;function r(){this.settings={cache:!0}}a.ContentService=t,a.contentService=new t}),define("mktui-fx/common/adSizes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adSizes={"iab-pop-medrec":{width:300,height:250},"iab-pop-wideskyscraper":{width:160,height:600},"iab-pop-leaderboard":{width:728,height:90},"iab-pop-halfpage":{width:300,height:600},"iab-large-portrait":{width:300,height:1050},"iab-large-billboard":{width:970,height:250},"iab-small-rectangle":{width:180,height:150},"iab-small-button1":{width:120,height:90},"iab-small-button2":{width:120,height:60},"iab-small-microbar":{width:88,height:31},"pb-tile":{width:250,height:65},"pb-tile1":{width:232,height:100},"pb-tile2":{width:232,height:200},"pb-medrec":{width:226,height:157},"pb-halfpage":{width:720,height:360},"cig-navad":{width:155,height:90},"cig-banner":{width:379,height:75},"cig-widebanner":{width:530,height:75},"cig-tout":{width:46,height:88},"cig-halfpage":{width:720,height:700},"cig-marque":{width:572,height:150},"cig-masthead":{width:680,height:287},"cig-carousel":{width:867,height:200},"cig-smallmarquee":{width:350,height:150},"cig-hero-marquee":{width:600,height:250},banw:{width:575,height:350},ban:{width:375,height:35},rtnv1:{width:155,height:90},rtnv2:{width:155,height:90},nvann:{width:155,height:90},interstitial:{width:833,height:380},ur_primary_bnr:{width:894,height:392},ur_dual_bnr:{width:440,height:205},ur_quad_bnr:{width:219,height:195},ur_footer_bnr:{width:468,height:215},"ur-hero-main":{width:716,height:300},"ur-hero-travel":{width:650,height:325},"ur-tile-travel":{width:345,height:204},"pb-tile3":{width:474,height:200},"ur-tile-mobile":{width:575,height:223},"cig-hero-marquee2":{width:960,height:250},"cig-hero-marquee3":{width:930,height:490}}}),define("mktui-fx/ads/client/AdParameters",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/client/clientRequestHelper.service",["require","exports","mktui-fx/environment/channelEnvironment","mktui-fx/common/adConstants","mktui-fx/util/commonUtils"],function(e,t,n,a,r){"use strict";function i(e){return e?(e+"").substr(0,5):""}function o(e){return void 0!==e&&r.isArray(e)?e.join(";"):e}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPageId=function(e){return!!e},t.isValidDecisionUrl=function(e){return void 0!==e},t.processAdParameters=function(e){var t={},r=n.channelEnvironment.getPersona();return"object"==typeof e&&(t.eci=e.eci||n.channelEnvironment.getResolvedEci(),t.pfid=e.pfid||r.pfid,t.zip=i(e.zip||r.zip),t.cigseg=e.cigseg||r.segment,t.locale=e.locale||r.locale,t.product=e.product,t.userType=e.userType,t.sitebrand=e.sitebrand,t.siteacct=e.siteacct,t.pnpc=e.pnpc,t.pageLayout=e.pageLayout,t.origin=e.origin,t.products=o(e.products),t.pnpcs=o(e.pnpcs),t.lids=o(e.lids),t.accttype=e.accttype),t},t.processZipCode=i,t.parsePageQueryParams=function(e){var r={};return e.forEach(function(e){var t=e.split("=");2===t.length&&(e=t[0],t=t[1],r[e]=decodeURIComponent(t.replace(/\+/g," ")))}),r},t.getMultiValueParam=o,t.generateRequestTraceId=function(e){var t=a.adConstants.ssv_channel,r=a.adConstants.clientId,i=e.eci||n.channelEnvironment.getResolvedEci()||n.channelEnvironment.getVFirstId(),e=Math.floor(1e8*Math.random());return[t,r,i,Date.now(),e].join("_")}}),define("mktui-fx/ads/client/AdType",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.AdType||(t.AdType={})).adCollection="adCollection",t.ad="ad"}),define("mktui-fx/ads/placement/spinner/SpinnerType",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.SpinnerType||(t.SpinnerType={})).placementSpinner="placement-spinner",t.overlaySpinner="overlay-spinner",t.spinner="spinner"}),define("mktui-fx/ads/placement/spinner/SpinnerConfig",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/placement/spinner/Spinner",["require","exports","mktui-fx/common/adConfig"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r.adConfig.loadingImagePath,r=(n.prototype.show=function(){this.spinnerConfig.element.style.position="relative";var e=document.createElement("div");e.className="jpui spinner",this.spinnerConfig.element.appendChild(e)},n.prototype.hide=function(){this.spinnerConfig.element.removeAttribute("style");var e=this.spinnerConfig.element.querySelector(".jpui.spinner");e&&e.parentNode&&e.parentNode.removeChild(e)},n);function n(e){this.spinnerConfig=e}t.PlacementSpinner=r;a.prototype.show=function(){var e=document.createElement("div");e.className="jpui spinner",this.spinnerConfig.element.appendChild(e)},a.prototype.hide=function(){var e=this.spinnerConfig.element.querySelector(".jpui.spinner");e.parentNode&&e.parentNode.removeChild(e)},r=a;function a(e){this.spinnerConfig=e}t.OverlaySpinner=r;o.prototype.show=function(){var e;this.spinnerConfig.spinnerType&&(e={background:'url("'+i+'") no-repeat scroll center center',border:"1px solid #D5DCE2",opacity:"0.75",overflow:"hidden",display:"block"},e=this.spinnerConfig.spinnerType.responsive?__assign(__assign({},e),{"min-height":"60px"}):__assign(__assign({},e),{width:this.spinnerConfig.width,height:this.spinnerConfig.height}),this.applyStyles(e))},o.prototype.hide=function(){var e;this.spinnerConfig.spinnerType&&(e={background:"none",opacity:"1",border:"none",display:"block",overflow:"visible"},this.spinnerConfig.spinnerType.responsive||(e=__assign(__assign({},e),{width:this.spinnerConfig.width,height:this.spinnerConfig.height})),this.applyStyles(e))},o.prototype.applyStyles=function(e){var t,r=this.spinnerConfig.element;for(t in e)r.style[t]=e[t]},r=o;function o(e){this.spinnerConfig=e}t.DefaultSpinner=r}),define("mktui-fx/ads/placement/spinner/SpinnerFactory",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/placement/spinner/SpinnerType","mktui-fx/ads/placement/spinner/Spinner"],function(e,t,i,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.prototype.createSpinner=function(e){var t,r=this.createSpinnerConfig(e);switch(e.loadingView){case n.SpinnerType.placementSpinner:t=new a.PlacementSpinner(r);break;case n.SpinnerType.overlaySpinner:t=new a.OverlaySpinner(r);break;case n.SpinnerType.spinner:t=new a.DefaultSpinner(r);break;default:return}return t.show(),t},o.prototype.createSpinnerConfig=function(e){if(e.pid)i.Logger.logMsg("Slot Placement - Configuring new Slot Placement for PID:",e.pid),t=e.pid,r=document.querySelector("#"+t);else{if(!(e.pids&&0<e.pids.length))return void i.Logger.logMsg("Slot Placement - [InitializePlacementError] Invalid API call - pid or pids must be passed");i.Logger.logMsg("Slot Placement - Configuring new Slot Placement for an array of PID's:",e.pids),t=e.pids[0];var t=document.querySelector("#"+t),r=t&&t.parentElement&&t.parentElement.parentElement}return{element:r,spinnerType:{loadingView:e.loadingView,responsive:e.responsive}}},o);function o(){}t.SpinnerFactory=r,t.spinnerFactory=new r}),define("mktui-fx/ads/placement/PlacementDataRecord",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/placement/AdCollectionPlacementRenderer",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/analytics/TrackingService","mktui-fx/common/adConfig","mktui-fx/common/Channels"],function(e,t,r,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(s.prototype.render=function(){var e=this.pid,t=this.placementData,r=this.slot;this.showDebugMsg(),n.trackingService.invokeAdImpression(e,t,r),r.options.pid=e,r.options&&r.options.adRequest&&r.options.adRequest.channelId===a.Channels.cap||this.assignTrackClickForAdCollection(e,t,r)},s.prototype.assignTrackClickForAdCollection=function(t,r,i){var e=document.querySelectorAll("[data-pt-id="+t+"]");0<e.length?e.forEach(function(e){n.trackingService.clickThroughMgr(e,t,r,i)}):(e=document.querySelector("div #"+t),n.trackingService.clickThroughMgr(e,t,r,i))},s.prototype.showDebugMsg=function(){var e=this.placementData,t=this.pid;i.adConfig.isDebugEnabled&&(e.failover?r.Logger.debugMsg("[AdSummary] Ad Collection failover template successfully rendered on UI for PID: "+t):r.Logger.debugMsg("[AdSummary] Ad Collection template successfully rendered on UI for PID: "+t+"; midasId "+e.midas_id))},s);function s(e){this.pid="",this.pid=e.pid,this.placementData=e.data,this.slot=e.slot}t.AdCollectionPlacementRenderer=o}),define("mktui-fx/ads/placement/SinglePlacementRenderer",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/analytics/TrackingService","mktui-fx/common/Channels"],function(e,t,i,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.prototype.render=function(){var e=this.pid,t=this.placementData,r=this.slot;i.Logger.debugMsg("[AdSummary] Ad template successfully rendered on UI for PID: "+e+"; midasId: "+t.midas_id),n.trackingService.invokeAdImpression(e,t,r),r.options.pid=e,r.options&&r.options.adRequest&&r.options.adRequest.channelId===a.Channels.cap||n.trackingService.clickThroughMgr(r.element,e,t,r)},o);function o(e){this.pid="",this.pid=e.pid,this.placementData=e.data,this.slot=e.slot}t.SinglePlacementRenderer=r}),define("mktui-fx/ads/client/AdOptions",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/client/AdRequest",["require","exports","mktui-fx/ads/client/AdType","mktui-fx/util/commonUtils"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a.prototype.isAdCollection=function(){return this.callerContext===r.AdType.adCollection},a);function a(e){this.pageId="",this.adParams={},this.placements=[],i.objAssign(this,e)}t.AdRequest=n}),define("mktui-fx/ads/content/contentResolver",["require","exports","mktui-fx/util/commonUtils","mktui-fx/util/Logger","mktui-fx/ads/content/contentHelper","mktui-fx/common/adConfig","mktui-fx/ads/content/contentLoadService","mktui-fx/ads/personalization/personalization.service","mktui-fx/common/AdOperationType","mktui-fx/common/adConstants"],function(e,p,m,s,y,t,o,g,v,i){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var r=(n.prototype.resolvePlacementContent=function(n,a){return __awaiter(this,void 0,void 0,function(){var t,r,i;return __generator(this,function(e){switch(e.label){case 0:return r=n.cid||"",t={cid:r||"",pageId:a.pageId,pid:n.placement||n.pid||"",creativeId:n.creativeId||"--",midas_id:n.midas_id||"",adf_traceid:n.adf_traceid||"",clickThroughUrl:"",interactionID:n.interactionID||"--",placement:n.placement||"",audiences:"",trackVariation:!0,channelId:a.channelId||""},s.Logger.debugMsg("[AdSummary] Load ad fired for CID:",r),i=y.contentHelper.getContentLocation(r),[4,o.contentLoadService.load(i,t)];case 1:return r=e.sent(),r=m.isCrossDomain(i)?m.replaceContentServerHost(r):r,(i=m.getJSONObj(r))?[4,this.getContentWithPersonalization(i,JSON.stringify(i),t)]:[2,r];case 2:return[2,e.sent()]}})})},n.prototype.getContentWithPersonalization=function(l,e,u){var f;return void 0===e&&(e=""),__awaiter(this,void 0,void 0,function(){var t,r,i,n,a,o,s,c,d;return __generator(this,function(e){switch(e.label){case 0:if(t=m.isEmptyObject(null===(f=null===(f=l)||void 0===f?void 0:f.ads[0])||void 0===f?void 0:f.data)?"":l.ads[0].data,r=y.contentHelper.checkForPersonalizedKey(t),i=(null===(f=u)||void 0===f?void 0:f.cid)||"",n=!1,a={offerKey:r,offerApiUrl:(null===(f=t)||void 0===f?void 0:f.serviceUrl)||""},d=Date.now(),o="",!r)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g.personalizationService.getPersonalizationData(t,u)];case 2:return c=e.sent(),o=(null===(f=c)||void 0===f?void 0:f.response)||"",[3,4];case 3:return s=e.sent(),c={contentLocation:i,adVariation:a,isFailover:n,adParameterOptions:u},p.contentResolver.personalizationDataError(v.AdOperationType.api_data_fail,s,d,c),[2];case 4:return d={personalizedKey:r,personalisedResponse:o,adVariation:a,adData:t,contentResponse:l,adParameterOptions:u,contentLocation:i,isFailover:n,dataReqStartTime:d},[2,l=p.contentResolver.resolveDynamicVariables(d)]}})})},n.prototype.resolveDynamicVariables=function(t){var e="";try{var r=t.personalizedKey?__assign({},t.adParameterOptions):t.contentResponse.broadcastParams||{},i=t.personalizedKey&&t.personalisedResponse,n=i?t.personalisedResponse:t.adData,i=i?t.personalizedKey:"",e=JSON.parse(y.contentHelper.replaceReferenceVariables(JSON.stringify(t.contentResponse),n,i,r))}catch(e){return void p.contentResolver.logPersonalisationDataError(e,t,t.dataReqStartTime)}return e},n.prototype.logPersonalisationDataError=function(e,t,r){e={details:e||"Error: Reference variable could not be replaced",httpStatus:i.adConstants.httpStatusOk,httpReadyState:i.adConstants.httpReadyStateOk};p.contentResolver.personalizationDataError(v.AdOperationType.data_replace_fail,e,r,t)},n.prototype.personalizationDataError=function(e,t,r,i){var n=i.contentLocation,a=i.adVariation,o=i.isFailover,o=i.adParameterOptions,i=i.decisionResultToUse;s.Logger.errorMsg("Error in personalisation service: ",t.details),g.personalizationService.logPersonalizedError({errorType:e,errorDetails:t,contentLocation:n,dataReqStartTime:r,adVariation:a,placementId:o.pid,decisionResultToUse:i||o||{}})},n);function n(){this.contentServer=t.adConfig.contentServer}p.ContentResolver=r,p.contentResolver=new r}),define("mktui-fx/ads/placement/adClickHandler",["require","exports","mktui-fx/ads/topic","mktui-fx/common/adEvents"],function(e,t,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.setClickHandlerForAd=function(t,r,i){var e,n=this;!r||(e=document.querySelector("#"+r))&&e.addEventListener("click",function(e){a.Topic(o.AdEvents.trackAdClick).publish(r,t.options,t.adVariantData,t.pageId),n.clickEventHandler(e,i)})},i.prototype.clickEventHandler=function(e,t){var r,i=this.getElementWithClickAttributes(e.target);i&&(e=i.getAttribute("mktui-click"),i=i.getAttribute("mktui-param"),r=[],i&&r.push(i),e=(i=this.getSemanticAttributes(e))[0],i[1],(i=i[2])&&i.split(",").forEach(function(e){r.push(e)}),"function"==typeof t&&t(r))},i.prototype.getElementWithClickAttributes=function(e){for(;e&&e!==document;){if(e.getAttribute("mktui-click"))return e;var t=e.getAttribute("on-click");if(t)return e.setAttribute("mktui-click",t),e;e=e.parentNode}},i.prototype.getSemanticAttributes=function(e){var t="",r=e,i="",n=e.indexOf("-");-1!=n&&(t=e.substr(0,n),r=e.substr(n+1));n=r.indexOf(":");return-1!=n&&(i=r.substr(n+1),r=r.substr(0,n)),[r,t,i]},i);function i(){}t.AdClickHandler=r,t.adClickHandler=new r}),define("mktui-fx/ads/placement/PlacementService",["require","exports","mktui-fx/common/adSizes","mktui-fx/common/AdLabels","mktui-fx/ads/content/contentResolver","mktui-fx/ads/content/templateResolver","mktui-fx/ads/placement/placementHelper","mktui-fx/ads/placement/adClickHandler","mktui-fx/util/Logger","mktui-fx/common/AdOperationType"],function(e,t,i,n,c,d,a,l,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={size:null,failoverTreatment:"hide",failoverAdId:"",failoverAdUrl:"",responsive:!0},o=(s.prototype.isContainerSizeZero=function(e,t){return 0==e||0==t},s.prototype.initializePlacement=function(e){var t=i.adSizes[e.size]?i.adSizes[e.size].width:0,r=i.adSizes[e.size]?i.adSizes[e.size].height:0;this.adLabel=n.AdLabels.decisionEngine,this.adVariantData={},e.isDisabled||this.isContainerSizeZero(t,r)&&this.options.responsive},s.prototype.load=function(a,o){var s;return __awaiter(this,void 0,void 0,function(){var t,r,i,n;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,c.contentResolver.resolvePlacementContent(a,o)];case 1:return n=e.sent(),[3,3];case 2:return r=e.sent(),u.Logger.errorMsg("Error while fetching Ad data for PID: "+a.placement+"; Error Message: "+r),[3,3];case 3:if(!n)return[2];t=this.buildPlacementContext(n,o),e.label=4;case 4:return e.trys.push([4,6,,7]),[4,d.templateResolver.getTemplateHtml(t)];case 5:return i=e.sent(),[3,7];case 6:return r=e.sent(),r={componentPath:t.componentPath,pageId:o.pageId,placementId:a.placement,cid:a.cid,channel:t.channelId,eventDetails:r.errorDetails||"Error getting template html"},u.Logger.logErrorMsgObject(f.AdOperationType.template_bundle_load_fail,r),[3,7];case 7:return null!==(s=i)&&void 0!==s&&s.success&&(this.render(a,i.html),a.placement&&(i=o.options?o.options.adClickHandler:"",l.adClickHandler.setClickHandlerForAd(this,a.placement,i)),n=(Array.isArray(n.ads)?n.ads[0]:n.ads).adVariationContext,this.adVariantData=n||{},this.registerTracking(a,o)),[2]}})})},s.prototype.buildPlacementContext=function(e,t){var r=e&&e.template.componentPath,i=t.channelId,n=t.options&&t.options.templateBundleUrl,t={};return e&&e.ads&&(t=(Array.isArray(e.ads)?e.ads[0]:e.ads).content),{componentPath:r,content:t,channelId:i,templateBundleUrl:n}},s.prototype.track=function(e,t,r,i){var n=e.match(/\?/)?"&":"?";return i=this.options.pid||i,e+=n+t+"="+r+"&jp_aid_p="+this.pageId+"/"+i,this[t]=r,e},s);function s(e){var i=this;this.pageId=null,this.render=function(e,t){i.options.creativeId=e.creativeId;e=document.querySelector("#"+e.placement);e&&(e.innerHTML=t)},this.registerTracking=function(e,t){var r=t.callerContext,t=i.options.pid||e.placement;a.placementHelper.handlePlacementComplete(t,i.adVariantData,r,e,i)},this.options=__assign(__assign({},r),e),this.pageId=this.options.pageId,this.options.pid&&(this.element=document.querySelector("#"+this.options.pid)),this.initializePlacement(e)}t.PlacementService=o}),define("mktui-fx/ads/placement/placementHelper",["require","exports","mktui-fx/common/AdLabels","mktui-fx/util/Logger","mktui-fx/ads/client/AdType","mktui-fx/ads/placement/AdCollectionPlacementRenderer","mktui-fx/ads/placement/SinglePlacementRenderer","mktui-fx/common/AdOperationType"],function(e,o,i,a,s,c,d,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=(r.prototype.setPidDataUrlForMidas=function(e,t){var r=e.adLabel===i.AdLabels.decisionEngine;t.url&&t.turl&&t.wa_aid&&r&&-1===t.url.lastIndexOf("jp_aid_a")&&(t.url=e.track(t.url,"jp_aid_a",t.creativeId||t.wa_aid))},r.prototype.processFailOverAdData=function(e,t,r){e&&e[r.options.pid]&&(e=e[r.options.pid],r.options.failoverAdUrlApi=e.failoverAdUrl,r.options.failoverAdIdApi=e.failoverAdId),r.options.failoverAdUrlApi?(r.adLabel=i.AdLabels.defaultAd,r.options.adLabel=i.AdLabels.defaultAd,t.cid=r.options.failoverAdUrlApi,t.turl=null,t.url=null,r.getAd(t,!0)):"hide"===r.options.failoverTreatment&&(r.element.style.display="none")},r.prototype.handlePlacementComplete=function(e,t,r,i,n){var a="";r===s.AdType.adCollection&&i.pid==e?a=s.AdType.adCollection:n.options.pid&&!n.options.pids&&e===n.options.pid&&(a=s.AdType.ad),a&&o.placementHelper.adPlacementComplete(e,t,a,i,n)},r.prototype.adPlacementComplete=function(e,t,r,i,n){n.adVariantData=t;e={pid:e,data:i,slot:n};r===s.AdType.adCollection?new c.AdCollectionPlacementRenderer(e).render():r===s.AdType.ad&&new d.SinglePlacementRenderer(e).render(),n.options.adLabel=n.adLabel;i={adfTraceId:i.adf_traceid,cid:i.cid,creativeId:i.creativeId,midasId:i.midas_id,interactionId:i.interactionID,placementId:i.placement,eventType:l.AdOperationType.ad_render};a.Logger.logOperationalEvent(i)},r);function r(){}o.PlacementHelper=t,o.placementHelper=new t}),define("mktui-fx/util/domUtils",["require","exports","mktui-fx/util/Logger","mktui-fx/util/cors"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a.prototype.invokePixelTag=function(t){r.Logger.debugMsg("[AdSummary] - Invoking the get call for URL: ",t),i.CORS(t).then(function(e){return r.Logger.debugMsg("[AdSummary] - Analytics event sent through AJAX for URL: ",t)},function(e){return r.Logger.debugMsg("[AdSummary] - Analytics event sent through AJAX is failed for URL: "+t+" with Error: "+e)})},a.prototype.computeAreaOverlap=function(e,t){t=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top)),e=(e.right-e.left)*(e.bottom-e.top);return t&&e?t/e:0},a.prototype.checkAreaImpression=function(e,t){e=e&&e.getBoundingClientRect();return 50<=(e?100*this.computeAreaOverlap(e,t):0)},a.prototype.isElementInViewport=function(e){var t=e&&e.parentElement,r={left:0,top:0,right:window.innerWidth,bottom:window.innerHeight};return!!this.checkAreaImpression(e,r)&&(!(t&&null!=t.getAttribute("aria-hidden"))||"false"==t.getAttribute("aria-hidden"))},a.prototype.hasClass=function(e,t){return e&&t&&e.classList.contains(t)},a.prototype.addClass=function(e,t){e&&t&&e.classList.add(t)},a.prototype.updateHtml=function(e,t){window.jQuery?window.jQuery(e).html(t):e.innerHTML=t},a.prototype.pauseBrowser=function(e){for(var t=Date.now();Date.now()-t<e;);},a);function a(){}t.DomUtil=n,t.domUtil=new n}),define("mktui-fx/ads/placement/placement",["require","exports","mktui-fx/common/adConfig","mktui-fx/ads/content/content.service","mktui-fx/util/Logger","mktui-fx/ads/topic","mktui-fx/common/adSizes","mktui-fx/ads/client/clientRequestHelper.service","mktui-fx/util/commonUtils","mktui-fx/common/adEvents","mktui-fx/ads/client/AdType","mktui-fx/ads/content/failover/failover.service","mktui-fx/common/AdLabels","mktui-fx/common/AdOperationType","mktui-fx/ads/placement/spinner/SpinnerFactory","mktui-fx/ads/placement/placementHelper","mktui-fx/ads/content/contentHelper","mktui-fx/ads/content/contentLoadService","mktui-fx/ads/analytics/TrackingService","mktui-fx/util/domUtils"],function(e,t,r,m,y,s,a,i,o,c,d,n,l,u,f,g,v,h,C,k){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r.adConfig.excludedQueryPassforwardParams,i.parsePageQueryParams(window.location.search.substr(1).split("&"));var A={size:null,failoverTreatment:"hide",failoverAdId:"",failoverAdUrl:"",loadingView:"placement-spinner",responsive:!0},i=(p.prototype.isContainerSizeZero=function(e,t){return 0==e||0==t},p);function p(e){var p=this;this.pageId=null,this.getAdCollection=function(e,r,t,i){p.pageId=t;var n={},a={},o=!1;a.pageId=t;for(var s=p,c=function(e,t){t&&(r.failoverAdIds=t),s.renderAdCollection(r,e,i)},d=function(){return i.hide()},l=0,u=e.pids;l<u.length;l++){var f=u[l];if(p.element=document.querySelector("#"+f),y.Logger.debugMsg("[AdSummary] AdCollection rendered for PID: "+f+"; midasId: "+(r&&r[f]&&r[f].midas_id||"")),!r[f]){y.Logger.logMsg("Slot Placement - [adCollectionUpdateError] RF response does not match for this placement: ",f),i.hide(),o=!0;break}if(!r[f].cid){y.Logger.logMsg("Slot Placement - [adCollectionUpdateError] RF response has empty cid for this placement: ",f),o=!0,m.contentService.getFailoverContentPaths(t).then(function(e){var t=e.failoverAdUrls,e=e.failoverAdIds;a.failoverAdIds=e,m.contentService.loadAdCollection(t,a).then(function(e){var t=e.contentArray,e=e.adVariationArray;c(t,e)},d)},d);break}n[f]=r[f].cid}o||m.contentService.loadAdCollection(n,a).then(function(e){var t=e.contentArray,e=e.adVariationArray;c(t,e)},d)},this.initializePlacement=function(e){p.options=__assign(__assign({},A),e);var i,t=a.adSizes[e.size]?a.adSizes[e.size].width:0,r=a.adSizes[e.size]?a.adSizes[e.size].height:0,n=__assign(__assign({},A),e);p.adVariantData={},p.adLabel=l.AdLabels.decisionEngine,e.isDisabled||p.isContainerSizeZero(t,r)&&!n.responsive||(i=f.spinnerFactory.createSpinner(n),s.Topic.subscribe(c.AdEvents.adUpdate,p.handleAdUpdate),s.Topic.subscribe(c.AdEvents.adError,p.handleAdError),s.Topic.subscribe(c.AdEvents.adCollectionUpdate,function(e,t,r){p.handleAdCollectionUpdate(e,t,r,i)}),s.Topic.subscribe(c.AdEvents.adCollectionError,function(e,t,r){p.handleAdCollectionError(e,t,r,i)}))},this.handleAdUpdate=function(e,t,r){var i=p.options.pid,n=t[i];i&&r!=d.AdType.adCollection&&(p.pageId=e,null==n?(p.options.failoverReason=u.AdOperationType.plc_config_fail,p.adDataFail({}),y.Logger.logErrorMsgObject(u.AdOperationType.plc_config_fail,{placementId:i,currentPlacements:Object.keys(t)})):n.cid?(y.Logger.debugMsg("[AdSummary] Rendering ad for PID: "+i+"; midasId: "+n.midas_id),p.getAd(n)):"hide"===p.options.failoverTreatment?p.element.style.display="none":p.adDataFail(n))},this.handleAdError=function(e,t,r){p.options.pid&&t!=d.AdType.adCollection&&null==p.options.pids&&(p.pageId=e,p.options.failoverReason=r,y.Logger.debugMsg("[AdSummary] Loading ad data fail for PID:",p.options.pid),p.adDataFail({}))},this.handleAdCollectionError=function(e,t,r,i){var n,a,o,s;p.options.pids&&0<p.options.pids.length&&t==d.AdType.adCollection&&p.options.pageId===e&&(p.pageId=e,p.options.failoverReason=r,n={},(a={}).pageId=e,o=p,s=function(){return i.hide()},y.Logger.debugMsg("[AdSummary] Getting failover content of adCollection for an array of placement ID's:",p.options.pids),m.contentService.getFailoverContentPaths(p.options.pageId).then(function(e){var t=e.failoverAdUrls,e=e.failoverAdIds;a.failoverAdIds=e,m.contentService.loadAdCollection(t,a).then(function(e){var t=e.contentArray,e=e.adVariationArray;t=t,(e=e)&&(n.failoverAdIds=e),o.renderAdCollection(n,t,i)},s)},s))},this.handleAdCollectionUpdate=function(e,t,r,i){if(p.options.pids&&0<p.options.pids.length&&r===d.AdType.adCollection){if(y.Logger.debugMsg("[AdSummary]  Rendering adCollection for an array of placement ID's:",p.options.pids),void 0===p.options.pageId)return s.Topic(c.AdEvents.adCollectionError).publish("error","","Page Id not defined"),void y.Logger.logErrorMsgObject("no-page-id",{adErrorCollectionUpdate:!0,pageId:"--"});p.options.pageId==e&&p.getAdCollection(p.options,t,e,i)}},this.getAd=function(t,e){t.ctype&&(t.ctype=t.ctype.toLowerCase());var r=p;g.placementHelper.setPidDataUrlForMidas(r,t);var i=t.cid||"",e={cid:i,optionalFailover:e||""};y.Logger.debugMsg("[AdSummary] Load ad fired for CID:",i);var n=v.contentHelper.getContentLocation(i);h.contentLoadService.load(n,e).then(function(e){e=o.isCrossDomain(n)?o.replaceContentServerHost(e):e;e=e,r.options.failoverAdIdApi&&r.options.failoverAdUrlApi&&(r.options.failoverAdId=r.options.failoverAdIdApi,r.options.failoverAdUrl=r.options.failoverAdUrlApi),r.render(t,e)},function(e){e=e,r.options.failoverReason=u.AdOperationType.content_fail,e?"hide"===r.options.failoverTreatment&&(r.element.style.display="none"):r.adDataFail(t)})},this.track=function(e,t,r,i){var n=e.match(/\?/)?"&":"?";return i=p.options.pid||i,e+=n+t+"="+r+"&jp_aid_p="+p.pageId+"/"+i,p[t]=r,e},this.invokeClientConfigAdFailure=function(){var e=new Array,t=p;t.options.failoverAdUrl?(t.adLabel=l.AdLabels.defaultAd,t.options.adLabel=l.AdLabels.defaultAd,e.cid=t.options.failoverAdUrl,e.turl=null,e.url=null,t.getAd(e,!0)):"hide"===t.options.failoverTreatment&&(t.element.style.display="none")},this.adDataFail=function(t){var r=p,e=r.options.failoverReason||u.AdOperationType.ad_data_fail,e=__assign(__assign({},t),{failoverReason:e});n.failoverService.getFailOverAdData(""+p.pageId,e).then(function(e){g.placementHelper.processFailOverAdData(e,t,r)},function(e){r.invokeClientConfigAdFailure()})},this.renderAdCollection=function(e,t,r){var i,n=p;for(i in t){var a=t[i],o={};e.failoverAdIds&&Object.keys(e.failoverAdIds).length?(n.options.failOverAdIds=e.failoverAdIds,o.pid=i,o.ctype="html",o.failover=!0):0<Object.keys(e).length&&((o=e[i]).pid=i,o.ctype=e[i].ctype||"html"),n.element=document.querySelector("#"+i),n.render(o,a)}r.hide(),s.Topic("adCarouselRendered").publish("success",n.pageId)},this.render=function(i,e){p.options.creativeId=i.creativeId;var n=p;e=o.replaceDynamicDataForNonPersonalizedAd(i,e),k.domUtil.updateHtml(p.element,e),s.Topic.subscribe("placementComplete",function(e,t,r){g.placementHelper.handlePlacementComplete(e,t,r,i,n)}),n.options.responsive||(s.Topic(c.AdEvents.trackAdImpression).publish(n.options.pid,n.options,null,n.pageId),y.Logger.debugMsg("[AdSummary] Assigning track click: "+n.options.pid+"; midasId "+(n.options.midas_id||"")),C.trackingService.clickThroughMgr(n.element,n.options.pid,i,n))},this.arguments=__assign(__assign({},A),e),this.arguments.pid&&(this.element=document.querySelector("#"+this.arguments.pid)),this.initializePlacement(e)}t.Slot=i}),define("mktui-fx/ads/placement/popupSizes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={small:{width:200,height:200},medium:{width:980,height:600},large:{width:1006,height:600}};t.getPopupWindowSize=function(e){return r[e]?"width="+r[e].width+", height="+r[e].height+",toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes":""}}),define("mktui-fx/util/NamespacedEventHandler",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.addEventListener=function(e,t,r,i){this.namespaces[t]=r,e.addEventListener(t.split(".")[0],r,i||!1)},i.prototype.removeEventListener=function(e,t){e.removeEventListener(t.split(".")[0],this.namespaces[t]),delete this.namespaces[t]},i);function i(){this.namespaces={}}t.eventHandler=new r}),define("mktui-fx/ads/analytics/TrackingService",["require","exports","mktui-fx/ads/topic","mktui-fx/common/adEvents","mktui-fx/util/Logger","mktui-fx/common/adConstants","mktui-fx/util/domUtils","mktui-fx/common/AdLabels","mktui-fx/util/commonUtils","mktui-fx/ads/placement/popupSizes","mktui-fx/util/NamespacedEventHandler"],function(e,c,a,o,s,d,l,u,n,t,f){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var r=(i.prototype.invokeAdImpression=function(e,t,r){var i=document.querySelector("#"+e);i&&(c.trackingService.shouldSendImpression(i)&&(r.options.creativeId=t.creativeId,r.options.location=t.location,c.trackingService.saveAdImpression(i,e,t,r)),window.addEventListener("scroll",n.debounce(function(){c.trackingService.shouldSendImpression(i)&&c.trackingService.saveAdImpression(i,e,t,r)},1e3)),window.addEventListener("click",n.debounce(function(){c.trackingService.invokeAdImpressionOnWindowClick(i,e,t,r)},1e3)))},i.prototype.saveAdImpression=function(e,t,r,i){s.Logger.debugMsg("[AdSummary] Ad impression detected in viewport: "+t+"; midasId: "+(r.midas_id||"")),a.Topic(o.AdEvents.trackAdImpression).publish(t,i.options,i.adVariantData,i.pageId),l.domUtil.addClass(e,d.adConstants.adImpression)},i.prototype.invokeAdImpressionOnWindowClick=function(t,e,r,i){var n,a=e;c.trackingService.shouldSendImpression(t)?(c.trackingService.saveAdImpression(t,a,r,i),0<(n=document.querySelectorAll('[data-pt-id="'+a+'"]')).length&&n.forEach(function(e){l.domUtil.isElementInViewport(t)&&l.domUtil.addClass(t,d.adConstants.adImpression)})):0<(n=document.querySelectorAll('[data-pt-id="'+a+'"]')).length&&n.forEach(function(e){c.trackingService.shouldSendImpression(e)&&(c.trackingService.saveAdImpression(e,a,r,i),l.domUtil.addClass(e,d.adConstants.adImpression))})},i.prototype.trackClick=function(e,t,r){var i=e.currentTarget.href,n=i.substr(i.lastIndexOf("jp_aid_p")),i=n.substr(n.lastIndexOf("/")+1),n=t.options.failOverAdIds;t.options.adLabel=n&&0<Object.keys(n).length?u.AdLabels.defaultAd:t.adLabel,s.Logger.debugMsg("[AdSummary] trackAdClick Event Published for PID:",i),a.Topic(o.AdEvents.trackAdClick).publish(i,t.options,t.adVariantData,t.pageId),r.isPopup&&(window.open(e.currentTarget.href,"popup",r.targetSize),e.preventDefault())},i.prototype.clickThroughMgr=function(e,i,n,a){var o={vendorAd:!n.failover&&a.adLabel==u.AdLabels.decisionEngine,isHtml:"html"==n.ctype,isPopup:"window"==(n.target&&n.target.toLowerCase()||""),targetSize:n.targetsize&&t.getPopupWindowSize(n.targetsize)||""},e=e.querySelectorAll("a"),s=a.options.weblinkClickHandler;e.forEach(function(e){var t,r=e.getAttribute("href");!o.vendorAd&&r&&-1===r.lastIndexOf("jp_aid_a")&&(t=a.options.failOverAdIds&&a.options.failOverAdIds[i]||a.options.failoverAdId,e.setAttribute("href",a.track(r,"jp_aid_a",t,i))),o.vendorAd&&r&&o.isHtml&&-1===r.lastIndexOf("jp_aid_a")&&e.setAttribute("href",a.track(r,"jp_aid_a",n.creativeId||n.wa_aid,i)),s&&"function"==typeof s&&f.eventHandler.addEventListener(e,"click.slotplacement",s),f.eventHandler.addEventListener(e,"click.slotplacement",function(e){return c.trackingService.trackClick(e,a,o)})})},i.prototype.isImpressionReported=function(e){return l.domUtil.hasClass(e,d.adConstants.adImpression)},i.prototype.shouldSendImpression=function(e){return!l.domUtil.hasClass(e,d.adConstants.adImpression)&&l.domUtil.isElementInViewport(e)},i);function i(){}c.TrackingService=r,c.trackingService=new r}),define("mktui-fx/ads/analytics/impressionErrorHelper",["require","exports","mktui-fx/util/Logger","mktui-fx/common/adConfig","mktui-fx/common/AdOperationType","mktui-fx/environment/channelEnvironment"],function(e,a,o,s,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={};a.impressionErrorHelper={handleImpressionError:function(e,t,r,i){var n=(n=RegExp("[?&]ssv_random=([^&]*)").exec(i.turl))?decodeURIComponent(n[1].replace(/\+/g," ")):"";return!!(s.adConfig.duplicateImpressionTracking&&d.channelEnvironment.isCXO()&&a.impressionErrorHelper.checkDuplicateImpression(i.interactionID,i.creativeId,n)&&(a.impressionErrorHelper.logImpressionError(c.AdOperationType.duplicate_impression,e,t,r,i),a.impressionErrorHelper.isBPPlacement(t)))||(r.creativeId!==i.creativeId&&a.impressionErrorHelper.logImpressionError(c.AdOperationType.creative_mismatch,e,t,r,i),!1)},logImpressionError:function(e,t,r,i,n){var a={midasCreativeId:n.creativeId||"--",adobeCreativeId:i.creativeId||"--",pageId:t||"--",placementId:r||"--",interactionID:n.interactionID||"--",midasId:n.midas_id||"--",adfTraceId:n.adf_traceid||"--"};setTimeout(function(){o.Logger.logErrorMsgObject(e,a)},1e3)},checkDuplicateImpression:function(e,t,r){if(e&&t&&r){r=e+"|"+t+"|"+r;if(i[r])return!0;i[r]=!0}return!1},isBPPlacement:function(e){var t=s.adConfig.borrowingPowerPlacements;return e&&0<=t.indexOf(e.toLowerCase())}}}),define("mktui-fx/ads/analytics/reportingDecisionEngine",["require","exports","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/ads/analytics/adDataStore","mktui-fx/ads/analytics/impressionErrorHelper","mktui-fx/util/domUtils","mktui-fx/common/AdLabels","mktui-fx/environment/channelEnvironment","mktui-fx/common/adConstants"],function(e,t,n,a,o,s,c,d,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(u.prototype.sendClickEventToMidas=function(e,t,r,i){if(t.turl)return t.turl=this.addV1stIfNotExists(t.turl),c.domUtil.invokePixelTag(t.turl),void c.domUtil.pauseBrowser(l.adConstants.analyticsClickEventDelayMillis);t={creativeId:t.creativeId||"--",pageId:r||"--",placementId:e||"--",midasId:i.midasId||"",interactionID:t.interactionID||"--"};n.Logger.logErrorMsgObject(a.AdOperationType.midas_turl_missing,t)},u.prototype.sendImpressionToDecisionEngine=function(e,t,r){void 0===t&&(t={});var i=o.adDataStore.getPageData(r)?o.adDataStore.getPlacementData(r,e):null;t.adLabel&&t.adLabel===d.AdLabels.defaultAd?n.Logger.debugMsg("Failover Ad. Skipping midas impression for placementId ",e):i&&(i.turl?s.impressionErrorHelper.handleImpressionError(r,e,t,i)||(t=i.turl.replace("/click","/view"),t=this.addV1stIfNotExists(t),c.domUtil.invokePixelTag(t)):(i={creativeId:i.creativeId||"--",pageId:r||"--",placementId:e||"--",interactionID:i.interactionID||"--"},n.Logger.logErrorMsgObject(a.AdOperationType.midas_turl_missing,i)))},u.prototype.addV1stIfNotExists=function(e){var t=0<e.indexOf("ssv_v1st="),r=i.channelEnvironment.getVFirstId();return t||!r?e:e+("&ssv_v1st="+i.channelEnvironment.getVFirstId())},u);function u(){}t.ReportingDecisionEngine=r,t.reportingDecisionEngine=new r}),define("mktui-fx/ads/analytics/reportingPrivate",["require","exports","mktui-fx/ads/analytics/AnalyticsChannels","mktui-fx/util/Logger","mktui-fx/ads/analytics/adDataStore","mktui-fx/common/adConstants"],function(e,s,c,d,l,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=(r.prototype.handleFailoverEvent=function(e,t,r,i,n){void 0===n&&(n={creativeId:a.adConstants.analytics.defaultAdId,midas_id:""});t={placement:i,adId:n.creativeId,midasId:n.midas_id,tagMap:r,failoverReason:t};s.reportingPrivate.sendPayloadToAnalytics(e,t),d.Logger.debugMsg("Slot Placement - [Failover Ad Impression] Fired for pageId:",r)},r.prototype.handlePrivateAdImpression=function(e,t,r,i){var n,a=l.adDataStore.getOfferId(i,e),o=l.adDataStore.getPageData(i)?l.adDataStore.getPlacementData(i,e):null;o&&(n=o.creativeId,o=o.location,a={placement:e||"",adId:t.creativeId||n||"",midasId:t.midasId||"",location:t.location||o||"",variations:r||"",tagMap:i,offerId:a||""},s.reportingPrivate.sendPayloadToAnalytics(c.AnalyticsChannels.impressionChannel,a),d.Logger.debugMsg("[AdSummary] Ad Impression sent to Analytics for pid: "+a.placement+"; midasId: "+a.midasId))},r.prototype.sendPayloadToAnalytics=function(t,r){window.require(["blue/event/channel/analytics"],function(e){e.emit(t,r)})},r);function r(){}s.ReportingPrivate=t,s.reportingPrivate=new t}),define("mktui-fx/ads/analytics/reportingPublicSite",["require","exports","mktui-fx/common/adConfig","mktui-fx/util/commonUtils","mktui-fx/ads/analytics/AnalyticsEvents","mktui-fx/util/Logger","mktui-fx/ads/analytics/adDataStore","mktui-fx/util/domUtils","mktui-fx/common/AdLabels","mktui-fx/common/adConstants","mktui-fx/ads/analytics/analyticsLiteService"],function(e,t,r,c,d,l,u,o,f,p,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a.prototype.handlePublicAdImpression=function(e,t,r,i){var n,a,o,s=u.adDataStore.getPageData(i)?u.adDataStore.getPlacementData(i,e):null,t=__assign({},t);t.adLabel===f.AdLabels.defaultAd||t.failOverAdIds?(n=t.failOverAdIds&&t.failOverAdIds[e]?t.failOverAdIds[e]:t.failoverAdId,o=t.failoverReason):s&&(n=s.creativeId||s.wa_aid,a=s.midas_id),n&&(o={event:d.AnalyticsEvents.impression,wa_aid:n,pageId:i,placementId:e,midasId:a||"",adVariantData:r,failoverReason:o},this.sendBehavioralAnalytics(o),l.Logger.debugMsg("[AdSummary] Ad Impression sent to Adobe for pid: "+o.placementId+"; midasId: "+o.midasId))},a.prototype.sendClickEventToAdobe=function(e,t,r,i,n){var a=__assign({},i),i=a.adLabel===f.AdLabels.defaultAd;(t||i)&&(i=a.failOverAdIds&&a.failOverAdIds[e]||a.failoverAdId,i=t?t.creativeId||t.wa_aid:i,a={event:d.AnalyticsEvents.click,wa_aid:i,pageId:r,placementId:e,midasId:t?t.midas_id:"",adVariantData:n,failoverReason:a.failoverReason},this.sendBehavioralAnalytics(a),o.domUtil.pauseBrowser(p.adConstants.analyticsClickEventDelayMillis),l.Logger.debugMsg("[AdSummary] Ad Click sent to Adobe for pid: "+a.placementId+"; midasId: "+a.midasId))},a.prototype.sendBehavioralAnalytics=function(e){e=this.createPixelUrl(e);this.sendAnalyticsToAdobeAnalytics(e)},a.prototype.sendAnalyticsToAdobeAnalytics=function(e){r.adConfig.isAnalyticsEnabled&&i.analyticsLiteService.isAnalyticsReportingSupported()&&i.analyticsLiteService.sendImpression(e)},a.prototype.createBaseTrackingPixelUrl=function(){return r.adConfig.trackingPixelImagePath+"&wa_cb="+this.random},a.prototype.constructQueryParameters=function(t){return Object.keys(t).filter(function(e){return void 0!==t[e]&&""!==t[e]}).map(function(e){return t[e]?"&"+e+"="+t[e]:""}).join("")},a.prototype.createPixelUrl=function(e){var t=e.event,r=e.wa_aid,i=e.pageId,n=e.placementId,a=e.midasId,o=e.adVariantData,s=e.failoverReason,e=void 0===s?"":s,s=((s={})[t===d.AnalyticsEvents.impression?"wa_aid_i":t===d.AnalyticsEvents.click?"wa_aid_lnk":""]=r,s.jp_aid_p=i+(n?"/"+n:""),s.jp_aid_c=o||"",s.wa_tp=p.adConstants.analytics.web.adEventCode,s.wa_uri=c.strictEncodeURIComponent(document.location.href),s.wa_ad_fi=e,s.midas_id=a||"",s);return this.createBaseTrackingPixelUrl()+this.constructQueryParameters(s)},a);function a(){this.random=Math.floor(9e8*Math.random())+1e8}t.ReportingPublicSite=n,t.reportingPublicSite=new n}),define("mktui-fx/ads/analytics/tracking",["require","exports","mktui-fx/ads/topic","mktui-fx/common/adEvents","mktui-fx/ads/analytics/reportingPublicSite","mktui-fx/ads/analytics/reportingPrivate","mktui-fx/environment/channelEnvironment","mktui-fx/ads/analytics/reportingDecisionEngine","mktui-fx/ads/analytics/adDataStore","mktui-fx/ads/analytics/AnalyticsChannels"],function(e,t,r,i,a,n,o,s,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(u.prototype.subscribeToAdEvents=function(){r.Topic.subscribe(i.AdEvents.trackAdImpression,this.handleAdImpression.bind(this)),r.Topic.subscribe(i.AdEvents.trackAdClick,this.handleAdClick.bind(this)),r.Topic.subscribe(i.AdEvents.trackfailOverImpression,function(e,t,r,i){n.reportingPrivate.handleFailoverEvent(d.AnalyticsChannels.impressionChannel,e,t,r,i)}),r.Topic.subscribe(i.AdEvents.trackfailOverClick,function(e,t,r,i){n.reportingPrivate.handleFailoverEvent(d.AnalyticsChannels.clickChannel,e,t,r,i)})},u.prototype.handleAdImpression=function(e,t,r,i){void 0===t&&(t={}),o.channelEnvironment.isCXO()?n.reportingPrivate.handlePrivateAdImpression(e,t,r,i):a.reportingPublicSite.handlePublicAdImpression(e,t,r,i),c.adDataStore.getPageData(i)&&!t.isFailoverAdContent&&s.reportingDecisionEngine.sendImpressionToDecisionEngine(e,t,i)},u.prototype.handleAdClick=function(e,t,r,i){var n;void 0===t&&(t={}),!c.adDataStore.getPageData(i)||t.isFailoverAdContent||(n=c.adDataStore.getPlacementData(i,e))&&(s.reportingDecisionEngine.sendClickEventToMidas(e,n,i,t),o.channelEnvironment.isCXO()||a.reportingPublicSite.sendClickEventToAdobe(e,n,i,t,r))},u);function u(){}t.AdTracking=l,t.adTracking=new l}),define("mktui-fx/ads/placement/placementConfig",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/client/AdClient",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/client/AdPreviewRequest",["require","exports","mktui-fx/ads/client/AdType","mktui-fx/util/commonUtils"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a.prototype.isAdCollection=function(){return this.callerContext===r.AdType.adCollection},a);function a(e){this.placements=[],i.objAssign(this,e)}t.AdPreviewRequest=n}),define("mktui-fx/ads/decision/midas.provider",["require","exports","mktui-fx/environment/channelEnvironment","mktui-fx/common/adConfig","mktui-fx/util/cors","mktui-fx/ads/client/clientRequestHelper.service","mktui-fx/common/adConstants","mktui-fx/common/AdOperationType","mktui-fx/util/Logger","mktui-fx/util/commonUtils"],function(e,t,u,n,r,i,a,f,p,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={prefixSsv:"ssv_",prefixSsvm:"ssvm_",multiValueParam:["lids","products","pnpcs"]};function m(e){e=e.offers.filter(function(e){return!!e.cid}).map(function(e){return e.placement+": "+e.midas_id+" ; AdID: "+e.creativeId+" ; cid: "+e.cid}).join("\n");p.Logger.debugMsg("[AdSummary]: Decision Response ",e)}function c(e){return-1<s.multiValueParam.indexOf(e)}function y(r){var i={};return Object.keys(r).forEach(function(e){var t=c(e)?s.prefixSsvm:s.prefixSsv;i[t+e]=r[e]||""}),i}t.fetchDecisionFromMidas=function(s,e){var c=o.Deferred(),t=y(e),d=Date.now(),l=i.generateRequestTraceId(e),t={timeout:n.adConfig.timeout,data:__assign(__assign({},t),{ssv_v1st:u.channelEnvironment.getVFirstId(),ssv_adf_traceid:l,ssv_channel:a.adConstants.ssv_channel,ssv_random:Math.floor(998*Math.random()+1),pageID:s,time:Date.now()})};return r.CORS(n.adConfig.MIDASDecisionUrl,t).then(function(e){e=function(e){if(e&&e.offers&&e.offers.length){n.adConfig.isDebugEnabled&&m(e);for(var t={},r=0;r<e.offers.length;r++){var i=e.offers[r];t[i.placement]=i}return t}return e}(e);c.resolve(e)},function(e){var t,r=e.textStatus,i=void 0===r?"error":r,n=e.statusText,a=e.status,o=e.readyState,t=(r=(t={pageId:s,adfTraceId:l,requestStartTime:d,httpStatusDetails:{status:a,readyState:o},textStatus:i,errorThrown:n}).pageId,e=t.adfTraceId,a=t.requestStartTime,o=t.httpStatusDetails,i=t.textStatus,n=t.errorThrown,t="timeout"===i?f.AdOperationType.decision_timeout_fail:f.AdOperationType.decision_fail,a=Date.now()-a,n=(i||"")+","+(n||""),p.Logger.logErrorMsgObject(t,{pageId:r,respTime:a,details:n,httpStatus:o.status,httpReadyState:o.readyState,channel:u.channelEnvironment.getChannel(),adfTraceId:e}),t);c.reject(t)}),c.promise()},t._privateFunctionsMidasProvider={printDebugDecisionResponse:m,isMultiValueParam:c,createSsvParams:y}}),define("mktui-fx/ads/client/DecisionService",["require","exports","mktui-fx/common/adConfig","mktui-fx/ads/topic","mktui-fx/util/Logger","mktui-fx/environment/channelEnvironment","mktui-fx/ads/client/clientRequestHelper.service","mktui-fx/common/adEvents","mktui-fx/ads/decision/midas.provider","mktui-fx/ads/content/failover/failover.service","mktui-fx/ads/analytics/adDataStore","mktui-fx/common/AdOperationType"],function(e,t,a,o,s,c,i,d,n,l,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=(p.prototype.setLibIds=function(e){this.libIds=e},p.prototype.makeDecisionCall=function(){var e=this.adRequest,t=e.pageId,e=e.adParams;this.libIds&&(e.lids=i.getMultiValueParam(this.libIds)),s.Logger.logDebugMsg("Slot Placement - Calling midas with Page Id:",t);var r=this;n.fetchDecisionFromMidas(t,e).then(function(e){return r.handleDecisionSuccess(e)},function(e){return r.handleDecisionError(e)})},p.prototype.handleDecisionSuccess=function(e){var t=this.adRequest,r=t.pageId,i=t.callerContext;(t.isAdCollection()?o.Topic(d.AdEvents.adCollectionUpdate):o.Topic(d.AdEvents.adUpdate)).publish(r,e,i),s.Logger.logMsg("[AdSummary] adUpdate Event Published for Page Id:",r),this.createAdtracker(r,e),s.Logger.debugMsg("[AdSummary] Decision Success for pageId",r)},p.prototype.handleDecisionError=function(t){var r=this.adRequest,e=r.pageId;r.callerContext;s.Logger.debugMsg("[AdSummary] Decision Fail: Fetching failover ads for pageId",e);var i=this,n={failoverReason:u.AdOperationType.decision_fail};l.failoverService.getFailOverAdData(e,n).then(function(e){i.publishFailures(r,t,e),a.adConfig.isDebugEnabled&&s.Logger.debugMsg("[AdSummary] Failover Ads received successfully for PIDs",Object.keys(e))},function(){i.publishFailures(r,t),s.Logger.debugMsg("[AdSummary] Error getting failover Ads for pageId",e)}),this.createAdtracker(e,{}),window.Blue&&window.Blue.version&&"test_cpo_secure_exploreproducts"!=e&&"cpo_secure_exploreproducts"!=e&&(s.Logger.logMsg("[AdSummary] Decision Error: tracking failover impression for pageId:",e),o.Topic(d.AdEvents.trackfailOverImpression).publish(t,e))},p.prototype.createAdtracker=function(e,t){r.adDataStore.addPage(e,t),s.Logger.debugMsg("[AdSummary] Created Ad Tracker for Page Id:",e)},p.prototype.publishFailures=function(e,t,r){var i=e.pageId,n=e.callerContext;c.channelEnvironment.isCXO()?r?(r=l.failoverService.transformFailoverToDecisionResponse(r),o.Topic(d.AdEvents.adFailover).publish(i,n,t,r)):o.Topic(d.AdEvents.adError).publish(i,n,t):(e=e.isAdCollection()?d.AdEvents.adCollectionError:d.AdEvents.adError,o.Topic(e).publish(i,n,t))},p);function p(e){this.adRequest=e}t.DecisionService=f}),define("mktui-fx/ads/dso/dsolib.provider",["require","exports","mktui-fx/environment/channelEnvironment","mktui-fx/common/adConfig","mktui-fx/util/cors","mktui-fx/util/Logger","mktui-fx/util/commonUtils"],function(e,t,i,n,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDsoLibraryIds=function(){var r=s.Deferred(),e={headers:{"Content-Type":"application/json","x-jpmc-csrf-token":"NONE"},cache:"no-cache",data:{enterpriseID:i.channelEnvironment.getResolvedEci()},timeout:n.adConfig.timeoutDSOApi,method:"POST"};return a.CORS(n.adConfig.dsoOfferServiceUrl,e).then(function(e){e.status&&"true"===e.status&&null!=e.libId&&""!=e.libId?r.resolve(e.libId):r.reject(null)},function(e){var t=e.textStatus,t=void 0===t?"error":t,e=e.statusText;o.Logger.errorMsg("Error getting library ids ",t+", "+e),r.reject(null)}),r.promise()}}),define("mktui-fx/ads/client/client.service",["require","exports","mktui-fx/common/adConfig","mktui-fx/ads/topic","mktui-fx/util/Logger","mktui-fx/common/AdOperationType","mktui-fx/ads/analytics/tracking","mktui-fx/environment/channelEnvironment","mktui-fx/ads/client/clientRequestHelper.service","mktui-fx/ads/dso/dsolib.provider","mktui-fx/common/adEvents","mktui-fx/ads/client/AdRequest","mktui-fx/ads/analytics/adDataStore","mktui-fx/ads/client/DecisionService","mktui-fx/ads/client/PlacementDecisionService","mktui-fx/util/commonUtils","mktui-fx/util/NamespacedEventHandler","mktui-fx/ads/content/templateResolver"],function(e,t,d,l,p,u,r,f,m,y,g,v,i,h,C,k,A,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var x={},S="";r.adTracking.subscribeToAdEvents(),t.clientService={init:function(e,t,r,i){var n,a,o,s,c;void 0===t&&(t={}),(d.adConfig.botUserAgents||[]).some(function(e){return 0<=navigator.userAgent.toLowerCase().indexOf(e.toLowerCase())})?p.Logger.logMsg("Suppressing call to Midas due to presence of automation bots"):(p.Logger.logMsg("Slot Placement - Service.init() called with Page Id:",e),S=e,m.isValidPageId(e)?(m.isValidDecisionUrl(d.adConfig.MIDASDecisionUrl)||(a=e,"adCollection"!=(c=r)?(p.Logger.logErrorMsgObject(u.AdOperationType.no_decision_url,{pageId:a}),l.Topic(g.AdEvents.adError).publish(a,c,u.AdOperationType.no_decision_url)):(p.Logger.logErrorMsgObject(u.AdOperationType.no_decision_url,{adErrorCollection:!0,pageId:a}),l.Topic(g.AdEvents.adCollectionError).publish(a,c,u.AdOperationType.no_decision_url))),n=m.processAdParameters(t),a=n,c=f.channelEnvironment.getPersona(),d.adConfig.eci=a.eci||f.channelEnvironment.getResolvedEci(),d.adConfig.pfid=c.pfid||"",c=i&&i.options,i&&c&&c.loadPlacementsImmediate?(o=new v.AdRequest({pageId:e,adParams:n,options:c,placements:i.placements,channelId:i.channelId,callerContext:r}),s=new C.PlacementDecisionService(o),b.templateResolver.preLoadTemplateBundle(null===o||void 0===o?void 0:o.channelId)):(o=new v.AdRequest({pageId:e,adParams:n,callerContext:r}),s=new h.DecisionService(o)),t.DSO_flag?y.fetchDsoLibraryIds().then(function(e){s.setLibIds(e),s.makeDecisionCall()},function(){return s.makeDecisionCall()}):s.makeDecisionCall()):"adCollection"!=r?p.Logger.logErrorMsgObject(u.AdOperationType.no_page_id,{pageId:"--"}):p.Logger.logErrorMsgObject(u.AdOperationType.no_page_id,{adErrorCollection:!0,pageId:"--"}))},destroy:function(e){if(""!==S&&S===e)for(var t in p.Logger.logMsg("Slot Placement - Destroying Page Id:",e),S="",!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i];("string"==typeof a||k.isArray(a))&&r.push(a)}for(var o=0,s=r;o<s.length;o++){var c=s[o];if(void 0!==x[c]){p.Logger.debugMsg("Slot Placement - Destroying Event Handlers for Placement:",c);for(var d=document.querySelector("#"+c),l=0,u=d.children;l<u.length;l++){var f=u[l];A.eventHandler.removeEventListener(f,"click.slotplacement")}x[c]=null,delete x[c]}}}(k.generateValueArray(x)),e=e,p.Logger.debugMsg("Slot Placement - Destroying Ad Tracker for Page Id:",e),i.adDataStore.addPage(e,{}),l.Topic.channels){var r=l.Topic.channels[t];p.Logger.debugMsg("Slot Placement - Destroying Topic Channel:",r.name),l.Topic.channels[t]=null,delete l.Topic.channels[t]}},registerPlacement:function(e){void 0===x[e]&&(x[e]=e)}}}),define("mktui-fx/ads/client/PreviewHelperService",["require","exports","mktui-fx/ads/content/templateResolver","mktui-fx/util/commonUtils","mktui-fx/ads/content/contentHelper","mktui-fx/util/Logger","mktui-fx/common/AdOperationType"],function(e,t,d,l,n,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.invokePlacement=function(e,t){for(var r=0,i=t.placements;r<i.length;r++){var n=i[r].pid;n&&this.loadPreview(e,t,n)}},i.prototype.loadPreview=function(a,o,s){var c;return __awaiter(this,void 0,void 0,function(){var t,r,i,n;return __generator(this,function(e){switch(e.label){case 0:t=l.replaceContentServerHost(JSON.stringify(a));try{a=this.getPreviewContentWithPersonalization(t,o)}catch(e){console.log("[AdSummary] Error while fetching Ad data for PID",e),a=l.getJSONObj(t)}if(!a)return[2];r=this.buildPlacementContext(a,o),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,d.templateResolver.getTemplateHtml(r)];case 2:return i=e.sent(),[3,4];case 3:return n=e.sent(),n={componentPath:r.componentPath,placementId:s.placement,cid:s.cid,channel:r.channelId,eventDetails:n.errorDetails||"Error getting template html"},u.Logger.logErrorMsgObject(f.AdOperationType.preview_template_bundle_load_fail,n),[3,4];case 4:return null!==(c=i)&&void 0!==c&&c.success&&this.render(s,i.html),[2]}})})},i.prototype.buildPlacementContext=function(e,t){var r=e&&e.template.componentPath,i=t.channelId,n=t.options&&t.options.templateBundleUrl,t={};return e&&e.ads&&(t=(Array.isArray(e.ads)?e.ads[0]:e.ads).content),{componentPath:r,content:t,channelId:i,templateBundleUrl:n}},i.prototype.getPreviewContentWithPersonalization=function(e,t){var r=e,i=l.getJSONObj(e);if(!i)return r;e=__assign({},i.ads[0].data),t=__assign({},t);return(i=n.contentHelper.replaceReferenceVariables(JSON.stringify(i),e,e.offerKey,t))?JSON.parse(i):l.getJSONObj(r)},i);function i(){this.render=function(e,t){e=document.querySelector("#"+e);e&&(e.innerHTML=t)}}t.PreviewHelperService=r}),define("mktui-fx/ads/client/adframeworkclient",["require","exports","mktui-fx/common/adConfig","mktui-fx/ads/client/clientRequestHelper.service","mktui-fx/ads/client/client.service","mktui-fx/ads/placement/PlacementService","mktui-fx/ads/client/PreviewHelperService"],function(e,t,r,i,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r.adConfig.excludedQueryPassforwardParams,i.parsePageQueryParams(window.location.search.substr(1).split("&"));var s={size:null,failoverTreatment:"hide",failoverAdId:"",failoverAdUrl:"",loadingView:"placement-spinner",responsive:!0},i=(c.getInstance=function(){return c.mktObj||(c.mktObj=new c),c.mktObj},c.prototype.initAdsForPage=function(e){n.clientService.init(e.pageId,e.parameters,e.callerContext||"",e)},c.prototype.loadPlacement=function(e){this.placementDetails=__assign(__assign({},s),e),this.placementDetails.pid&&(this.element=document.querySelector("#"+this.placementDetails.pid))},c.prototype.invokePlacement=function(e,t,r){e=__assign(__assign(__assign({},s),e),{pageId:r.pageId,adRequest:r});new a.PlacementService(e).load(t,r)},c.prototype.initAemPreview=function(e,t){(new o.PreviewHelperService).invokePlacement(e,t)},c);function c(){this.pageId=null}t.MktAdLoader=i}),define("mktui-fx/ads/client/PlacementDecisionService",["require","exports","mktui-fx/util/Logger","mktui-fx/ads/client/DecisionService","mktui-fx/ads/client/adframeworkclient"],function(e,t,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=r.DecisionService,__extends(a,n),a.prototype.handleDecisionSuccess=function(e){var t=this.adRequest,r=t.pageId;t.callerContext;i.Logger.logMsg("[AdSummary] Fetching AEM content immediately for placement for Page Id:",r),this.invokeLoadPlacement(e),this.createAdtracker(r,e),i.Logger.debugMsg("[AdSummary] Decision Success for pageId",r)},a.prototype.invokeLoadPlacement=function(e){for(var t=this.adRequest,r=0,i=t.placements;r<i.length;r++){var n=i[r],a=e[n.pid];a&&o.MktAdLoader.getInstance().invokePlacement(n,a,t)}},a);function a(e){var t=n.call(this,e)||this;return t.adRequest=e,t}t.PlacementDecisionService=r}),define("mktui-fx/ads/personalization/dataSettings.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/ads/personalization/offerResponse.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/CardlyticsOfferState",["require","exports"],function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.CardlyticsOfferState||(t.CardlyticsOfferState={})).NotActivated="NotActivated",r.Activated="Activated",r.redeemed="redeemed",r.expired="expired",r.available="available",r.slideIn="dashboard",r.added="added",r.all="all",(t=t.CardlyticsOfferStateText||(t.CardlyticsOfferStateText={})).expired="Expired",t.redeemed="Redeemed"}),define("mktui-fx/cardlytics/CardlyticsStore",["require","exports","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/util/commonUtils"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a.prototype.getAccounts=function(){return Object.keys(this.acctToCDLXMap)},a.prototype.getWinningAccount=function(){try{var r=i.cleanObject(this.acctToCDLXMap);return Object.keys(r).reduce(function(e,t){return r[e].AdCount>r[t].AdCount?e:t})}catch(e){return""}},a.prototype.getSourceCustomerId=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].SourceCustomerId},a.prototype.getSecToken=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].TokenId},a.prototype.getAdCount=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].AdCount},a.prototype.getIsOptIn=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].isOptIn},a.prototype.getOfferList=function(e){return this.acctToCDLXMap[e]&&this.acctToCDLXMap[e].offerList},a.prototype.setIsOptIn=function(e,t){this.acctToCDLXMap[e].isOptIn=t},a.prototype.setOfferList=function(e,t){this.acctToCDLXMap[e].offerList=t},a.prototype.setCDLXDetails=function(e,t){this.acctToCDLXMap[e]=t},a);function a(){this.offerState=r.CardlyticsOfferState.all,this.activeAccountIds=[],this.acctToCDLXMap={}}t.CardlyticsStore=n,t.cardlyticsStore=new n}),define("mktui-fx/cardlytics/model/AccountLookupMap.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(){this.maskNumber="",this.nickname="",this.isBusinessAccount=!1}t.Account=r}),define("mktui-fx/cardlytics/model/CardlyticsToken",["require","exports","mktui-fx/cardlytics/model/AccountLookupMap.interface"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=r.Account,__extends(n,i),n);function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.accountId="",e.count=0,e.securityToken="",e.location=0,e.IsOptedIn=!1,e}t.CardlyticsToken=r}),define("mktui-fx/cardlytics/util/CardlyticsPages",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.CardlyticsPages||(t.CardlyticsPages={})).OvdDashboard="OvdDashboard",t.OvdSlideIn="OvdSlideIn",t.ClassicDashboard="ClassicDashboard",t.ClassicSlideIn="ClassicSlideIn",t.OfferDetails="offerDetails",t.AllOffers="AllOffers",t.TotalRewards="TotalRewards"}),define("mktui-fx/cardlytics/cardlyticsconfig",["require","exports","slotplacement/clientconfig","slotplacement/slotplacementconfig","mktui-fx/util/commonUtils"],function(e,t,r,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=__importDefault(r),i=__importDefault(i),t.cardlyticsConfig={dpsHashApiUrl:(n.isEmptyObject(r.default)||void 0===r.default.dpsHashApiUrl?i:r).default.dpsHashApiUrl,timeOutDsoHashApi:(n.isEmptyObject(r.default)||void 0===r.default.timeOutDsoHashApi?i:r).default.timeOutDsoHashApi,timeOutCardlyticsApi:(n.isEmptyObject(r.default)||void 0===r.default.timeOutCardlyticsApi?i:r).default.timeOutCardlyticsApi,cardlyticsServiceUrl:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsServiceUrl?i:r).default.cardlyticsServiceUrl,cardlyticsChannel:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsChannel?i:r).default.cardlyticsChannel,cardlyticsDisplayType:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsDisplayType?i:r).default.cardlyticsDisplayType,cardlyticsTranasctionId:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsTranasctionId?i:r).default.cardlyticsTranasctionId,cardlyticsOfferCountLevel:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsOfferCountLevel?i:r).default.cardlyticsOfferCountLevel,cardlyticsMaxOffers:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsMaxOffers?i:r).default.cardlyticsMaxOffers,cardlyticsRedemeptionLookback:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsRedemeptionLookback?i:r).default.cardlyticsRedemeptionLookback,cardlyticsExpiredLookback:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsExpiredLookback?i:r).default.cardlyticsExpiredLookback,cardlyticsOfferTileTemplateUrlEN:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsOfferTileTemplateUrlEN?i:r).default.cardlyticsOfferTileTemplateUrlEN,cardlyticsOfferTileTemplateUrlES:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsOfferTileTemplateUrlES?i:r).default.cardlyticsOfferTileTemplateUrlES,cardlyticsOfferDetailTemplateUrlEN:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsOfferDetailTemplateUrlEN?i:r).default.cardlyticsOfferDetailTemplateUrlEN,cardlyticsOfferDetailTemplateUrlEs:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsOfferDetailTemplateUrlEs?i:r).default.cardlyticsOfferDetailTemplateUrlEs,cardlyticsImageHost:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsImageHost?i:r).default.cardlyticsImageHost,contentServer:(n.isEmptyObject(r.default)||void 0===r.default.contentServer?i:r).default.contentServer,marketingCxoAdsUi:(n.isEmptyObject(r.default)||void 0===r.default.marketingCxoAdsUi?i:r).default.marketingCxoAdsUi,cardlyticsDisplayTypeOffer:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsDisplayTypeOffer?i:r).default.cardlyticsDisplayTypeOffer,cardlyticsDisplayTypeOther:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsDisplayTypeOther?i:r).default.cardlyticsDisplayTypeOther,cardlyticsRedemeptionLookbackAvailable:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsRedemeptionLookbackAvailable?i:r).default.cardlyticsRedemeptionLookbackAvailable,cardlyticsExpiredLookbackAvailable:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsExpiredLookbackAvailable?i:r).default.cardlyticsExpiredLookbackAvailable,cardlyticsRedemeptionLookbackRedeemed:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsRedemeptionLookbackRedeemed?i:r).default.cardlyticsRedemeptionLookbackRedeemed,cardlyticsExpiredLookbackRedeemed:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsExpiredLookbackRedeemed?i:r).default.cardlyticsExpiredLookbackRedeemed,cardlyticsRedemeptionLookbackExpired:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsRedemeptionLookbackExpired?i:r).default.cardlyticsRedemeptionLookbackExpired,cardlyticsExpiredLookbackExpired:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsExpiredLookbackExpired?i:r).default.cardlyticsExpiredLookbackExpired,cardlyticsRedemeptionLookbackGetCount:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsRedemeptionLookbackGetCount?i:r).default.cardlyticsRedemeptionLookbackGetCount,cardlyticsExpiredLookbackGetCount:(n.isEmptyObject(r.default)||void 0===r.default.cardlyticsExpiredLookbackGetCount?i:r).default.cardlyticsExpiredLookbackGetCount,showExpiredState:(n.isEmptyObject(r.default)||void 0===r.default.showExpiredState?i:r).default.showExpiredState,isLogCardlyticsError:(n.isEmptyObject(r.default)||void 0===r.default.isLogCardlyticsError?i:r).default.isLogCardlyticsError,ovdTagMapCode:["cxo_account_dashboard","test_cxo_account_dashboard","test_cbo_overview_executive","cbo_overview_executive","test_jpo_summary","jpo_summary"],classicDashboardTagMapCode:["cpo_dashboard_retail","test_cpodashboard_retail","cpo_dashboard_card","test_cpodashboard_card","test_cbo_dashboard_retail","cbo_dashboard_retail"],offerDetailsTagMapCode:["cxo_cdlx_offer_details","test_cxo_cdlx_offer_details"],seeAllOffersTagMapCode:["cxo_cdlx_rewards_summary","test_cxo_cdlx_rewards_summary"],cardlyticsOfferState:{0:"none",1:"Not Activated",2:"Activated",3:"Redeemed",4:"Expired",5:"Parked"},cardlyticsMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cardlyticslocation:{OvdDashboard:11,ClassicDashboard:8,classic:8,OvdSlideIn:11,ClassicSlideIn:8,"ovd-singlepage":11,"dashboard-singlepage":8,AllOffers:7,"debit-widget":12,"credit-widget":13,CHK:12,DDA:12,PPA:12,PPX:12,PPG:12,BAC:13,OLM:13,PAC:13,BCC:13}}}),define("mktui-fx/cardlytics/util/cardlyticsConstants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cardlyticsConstants={cardlyticsApiNames:{hash:"Hash_Api",secToken:"SecurityToken_Api",multiSecToken:"multiSecurityToken_Api",getOfferCountDetail:"GetOfferCountDetail_Api",getSession:"getSession_Api",getOffers:"getOffers_Api"},cardlyticsImpressionEvents:{dislayElementExpanded:"DisplayElementExpanded API",MarkMultipleServed:"MarkMultipleServed API",UrlLinkClicked:"UrlLinkClicked API",RewardSummaryLinkClicked:"RewardSummaryLinkClicked API"},cardlyticsPlacementId:{allOfferPlacementIds:["cardlyticsAvailableOffers","cardlyticsAllOffers","cardlyticsAddedOffers","cardlyticsRedeemedOffers","cardlyticsExpiredOffers","cardlyticsRewardsEarned"],rewardsEarnedPlacementIds:["cardlyticsAvailableRewardsEarned","cardlyticsAllRewardsEarned","cardlyticsAddedRewardsEarned","cardlyticsRedeemedRewardsEarned","cardlyticsExpiredRewardsEarned"]},cardlyticsCategoryList:{en:{0:"All",1:"Entertainment",2:"Dining",3:"Shopping",4:"Services",5:"Travel",6:"Other"},es:{0:"Todas",1:"Entretenimiento",2:"Restaurantes",3:"Compras",4:"Servicios",5:"Viajes",6:"Otros"}},showExpiredState:4,dashboardAccountId:"dashboardAccountId",sourceCustomerId:"sourceCustomerId",securityToken:"securityToken",cardlyticsLocation:"cardlyticsLocation",offerCount:"offerCount",offerList:"offerList",IsOptedIn:"IsOptedIn",extraData:"Chase Cardlytics",offerState:"offerState",availableDisplayType:"Offer",redeemedDisplayType:"Redemption",expiredDisplayType:"Offer Cannot Activate",cardlyticsExtraData:"Chase Cardlytics",topicCardlyticsOfferList:"cardlyticsOfferList",limitNumberOfOffersCustom:"Custom",limitNumberOfOffersAll:"All",maxOffersSlideIn:2,enableSuppressionFalse:!1,maxOffersDashboard:6,maxOffersAllOffers:0,carouselCTA:"Add to card",slideInCTA:"+ Add to card",accountIds:"accountIds",offerIdValue:"offerIdValue",badgeText:"New",fewBorderDays:3,fewDaysText:"fewDays",lastDay:"Last day",daysLeft:"days left",odHeader:"Offer Details",expiresText:"Expires",backText:"back",carouselContentLabels:{en:{offerTitle:"Chase Offers",seeAllOffers:"See all offers",showMore:"See more offers",totalEarnedToDate:"Amount Earned to Date",important:"Important",errorMessage:"Chase Offers is not available",forText:"For ",defaultAd:{defaultAdTitle:"Chase Offers",defaultAdContent:"Use your card and check back here for offers from various merchants",defaultAdLink:"Go to Chase Offers",defaultAdImage:'<img alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAACrBJREFUeAHtnQtsU9cZgP//+vptJ5AApaEhPEabFJLSBASt1A36ouvabYW166RVbNIkpqGyiobEoevWrSUklIdGN6kRmtS11djKCtugQx0bQbApagnNwwEK4blQaEcTQuwktmP77D/Xccjj2vG1rx9xcqSbe30e//nP5//cex6/bxBSKNy3nRmdbjCIZhAFX48IbrdWUk+v7/NrTF5vN3gtenDVrcfeVFEbk6HI0+8xTev5nmIf+pYzhsXA4C5ENo8xMEeiDyJ0U7lWQDhD5T7RME3tvLmmT/Y8g75IyquZJ2EAS6pYppv1rELwrSRQD1AjMtRsCMnqIrDHGGj26tH0/gkb3lRZvqy4uAJkZCaF1T2PI/OvJmhPAjCDrBaqR6KLYO5nKPzeXm76O5KZql5Fv8C4AFxWy8Qbdd3f8wGzEbS746V8ZHLxlAawavJ95t1HlqM3sjKR51Id4IIq5/fJ4l4li5sVuRrxz0kWeYks8uUWm+VdNWtTDeCC151F2Md+w4Dx+1vqBsR/g4hrWzZYmtVQMmaAJTVM6+5wbELA9XTP06ihVLxl0D3RR1/0dn2W9aUTa7AvlvpiAli42TWHgeePNAxZHIsSSSuLcBxB96y9wnAhWh2EaAveU+2g4YinYczC4w2nL563oWizY1W0HKICWFTl/KnPD3+mStUey0XbjljKZfgB9hRVOl+IRoiiLiyN66oc1fTNbYimspQvI8BWe7m1TMm4URHAwkrHm3TzXZPyIGJQkB6GNfaN1h9HKiLiLryg0rEp3eFxaLyNRZudlZECjMgCCyud6xn4t0UqNB3yIQgv2jdato/WllEBFlZ1f50x/wdA89rRhKVVOs2fEYVv2G3mg+HaFRbK4m09ub0eLx+qZIcTkrZpCO1GnXjv8RdNbaHaGPIeyGcYLo/3vXELjxMjw+EMOAvFAD03nOW0ILA0VMHxEs8ZcBah2ivbhUu2uOa6vX0t9BUkaP0ulHqpEo8uvahdcKLMcH64RrJdmOD9dgLeYFTMEGAyOC5wPQLgPZXdTxC8FSOzjvcYtiLAZiiHEQBpo+fnQ7NMfAoSkGMzBCCNwB+jJ8/YXJoKtjKeZ2IjMRpUxxCAfmAvDUqbuJQhMJzRwFO4uNpR4PGxUzJlJqKGEdDqcH5DqVViNWCBfT78wbB8Ex9DEPB6cHUwSbLAVxgT3q9yttF6X04wQY3ztwpFWFGghbwsAQwhx/Jq1CQvo8vF4NPPaeW3sQ9OtKnntEDrhVdX2Sy5ryD6JYALNzuWeRmrlVdDeWxOJsJrTxhg8UwRPnODr6kbNO0xbd0o14G2MSFPD6zIDCxTBPxDvQd31LrBpdLOsIi4vLHCekTkqpHMh5WrKF/CpAN46zkzMxiQrT0Hwj86IZk7dUiV40+oX60t0bFsC2LpPpe84gpj+5kdke6BCOwhheVDZi99UA9TLQjPnZXghcyXqATecd+4CvBaG+CKfC2syJdsJubqg8xwyU6W0eN0ttNKbMySp5gRatdZWM01wK2fxayj6gL2FYDf2OvHb+/qHhh9RFsJLf17TRZLtuDqdZaoAY8rUpIr9VY82hWtWvEtd/QmCHOnCJhpjL0ezoyzE2i5Jj92cQEJU6jr8tCaMu6PAb2Cf8/265VtGhi9BZOiOnN2gp+cG6MqLVNI6O8YfbTRmorB0+/kplGHH3B2As19VbPAVIQWV52IHQ1nIIdMMWEhk26Tj0wKVHeGupS9J3zVvacvQHfTGXiqcBrsa7wG98/JgnPtPeDIyQFzcXJdDzk7evIya/gmqJs6g8aJm2cHZO76PDxAv8sN1989AOD3wdyFk6GnpRWmTS+AixevQvt/7KC7Yzpop2Wpq6AiacwqkvElFKAS/XzOXlh851SYRK75c27PhEcW5cFXZnDzZZB3WyZ86ugGSCJAzk4EhgQwgX1YAUELdffbJpugvcsFNfsD/pCH6i9LEvhUTa8hl3UF8lTPSuz44DlFn5kATqJzoO5CyHZPW8IgqbteNB2haTZ0kgFOD6llEhO4Bd49Kxu+7Bw5sNSQ9Zm0CAleoxhCg3z/u0T600kdOCUBuqlvFM+ZApPMeijIy4bTl9vhrtwsuNbhhE6nB2qHNCfxHxiymwIg60x81ZHV6NNq4U+Hz0j3vw5H4D5Yf/YL2Hu0FXYdaAYHX2tJYiDvmS4+Jk9ZgJoMM2Q8UAKCyQjcGtGghz6ksb9OD6Z7C0Cfe3sS8UlVt/On8PlUfQpzFSc9/lXp2E3Xub9YCh/xyAcBpvBzkgP5q50SUMMakqzHmK2ePOBOisyvaYQEjqbaPAAvkM3zcF6dxeGAsCT81YB4UrzDbGq54nR61VoTHK0dDhrbfXBjtFxjIR39epOxRTi4Dt00jCFPrMQEvhS3lOY+/JipT0yd8amF1X+0LvAUprE00Iw9MWEWQXuHViD58ezUxNQZj1oExINcrrS0KKCwNx6VpLVMprkFsKnC3ECT80tp3WAVG0cbStdXVhiPc5GSBUqyESasMELINHx5m3slDAUIwlsRlh/f2YieoNHVBCEMWKDdZrFTN5b6dTBx4jySAD1w/9VYZmgNpgwA5BGCgK8HEybOIQgIjPzHb4UhAJvKrbU0ppFujreyTFwFCZD11TeXWf8a/MzPQwDyCHqJza/4eSKMJCBocMRPYUcAbNpoPkD3wr+NLD6+Y/jzQeqhwzDIOhSJWu06r8f7MM2PTcPyx/zxC1qD33olIKaBNtXGREB0i1ooldN1hAXyTA2lxssgsF/KFYg1rp0c62poP5gfHztilZaY8rRs/3LQJ3p4jbIAeSbdZOsOOn08vECsn2kfCHJpc50f3Esh1QPNOo6ttJm3hdIzJED+PhVBI64if+D/hSocTfw82oc8XBQ41iR9RX7UFnShVlwdnHXI5Q4JkGduLjddISP5LncmlCucznG8zRpBeKZ5g/FiuHaGBcgLckdqQCwLJyQd02i/4/kmm+XD0do2KkAuwF5h2UHvENgymrB0SSc/x20tFdY3I2lPRAC5IHoBQ/l4gEhd940mm3VDJPB4nogB8swSRBSq+XVaBsRN9M6YdUpevKMIIIdG3dlGo3IbbXNL62FpAZIvUaFQRt32Z0rboxhgAGJGNWjwMVp4aFdaYerlx2vUbR9trrBEtRIVFUAOoaXcckgE7SIy97G7MY9wQK9jRdSr/hntFxs1QF5hY4XxUvZ0y/3UpXcQSNrxHRuBdHXT8XxLRcaTJ0ozvoxFa9nFBCUCj/wQuX/B+oVbnG+bdMj3VWaHK99BQ/Ld/XObRme4nPFJu9LDOmZPFZ7a+yPzUTVqoJmpeoF+Lit82Am/3nARHur1QYF6klWR1DbLCK8emg+/I+tT7QGoKsBgM/l7BvPr4Zv0Y1obf3FNMD5J5xZBgJ05WfDOkdlSb1FVjbgAHKxh/nG2zCsNe+BRciWOe31S3Sj5fe8nL+CdZ0rw8GB91L5OTINI6/n1bCatpX6H/HCepmOJ6jAD0OqoQX8RBdhzuhgvqw1LTl7CAA6uPP80y/b1wjKyk69RF19ESiwgqORupCBw53iAk1S2juy6jib/x84V43UFElTJmhSAcprf2chm0BudZxGIqTTBtPr9ElAOFQUGTiZAN4Hi/3Dgv1odnD85Hzvk5CQ67v8whi8x0J45hwAAAABJRU5ErkJggg==">'},carouselAda:{forwardNav:"Next carousel slide",backwardNav:"Previous carousel slide",currentSlidePosition:"Slide {x} of {y}",currentSelection:"Current selection",updatesContentAbove:"Updates content above"},disclaimerHeader:"Disclaimer",disclaimerBody:"Chase is only responsible for posting the statement credit to your account based on the data it receives from its third-party service provider. It is possible that a merchant may split your purchase into multiple transactions. In this case you may only receive your statement credit on the first transaction amount. If this occurs, please call the number on the back of your card. The statement credit will appear on your statement within 14 business days of Chaseâs receipt of this information."},es:{offerTitle:"Ofertas de Chase",seeAllOffers:"Ver todas las ofertas",showMore:"Ver mÃ¡s ofertas",totalEarnedToDate:"Cantidad acumulada hasta la fecha",importantEs:"Importante",errorMessage:"Las Ofertas de Chase no estÃ¡n disponibles",forText:"Para ",defaultAd:{defaultAdTitle:"Ofertas de Chase",defaultAdContent:"Usa tu tarjeta, luego vuelve aquÃ­ para ver las ofertas de varios comercios",defaultAdLink:"Ir a Ofertas de Chase",defaultAdImage:'<img alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAACrBJREFUeAHtnQtsU9cZgP//+vptJ5AApaEhPEabFJLSBASt1A36ouvabYW166RVbNIkpqGyiobEoevWrSUklIdGN6kRmtS11djKCtugQx0bQbApagnNwwEK4blQaEcTQuwktmP77D/Xccjj2vG1rx9xcqSbe30e//nP5//cex6/bxBSKNy3nRmdbjCIZhAFX48IbrdWUk+v7/NrTF5vN3gtenDVrcfeVFEbk6HI0+8xTev5nmIf+pYzhsXA4C5ENo8xMEeiDyJ0U7lWQDhD5T7RME3tvLmmT/Y8g75IyquZJ2EAS6pYppv1rELwrSRQD1AjMtRsCMnqIrDHGGj26tH0/gkb3lRZvqy4uAJkZCaF1T2PI/OvJmhPAjCDrBaqR6KLYO5nKPzeXm76O5KZql5Fv8C4AFxWy8Qbdd3f8wGzEbS746V8ZHLxlAawavJ95t1HlqM3sjKR51Id4IIq5/fJ4l4li5sVuRrxz0kWeYks8uUWm+VdNWtTDeCC151F2Md+w4Dx+1vqBsR/g4hrWzZYmtVQMmaAJTVM6+5wbELA9XTP06ihVLxl0D3RR1/0dn2W9aUTa7AvlvpiAli42TWHgeePNAxZHIsSSSuLcBxB96y9wnAhWh2EaAveU+2g4YinYczC4w2nL563oWizY1W0HKICWFTl/KnPD3+mStUey0XbjljKZfgB9hRVOl+IRoiiLiyN66oc1fTNbYimspQvI8BWe7m1TMm4URHAwkrHm3TzXZPyIGJQkB6GNfaN1h9HKiLiLryg0rEp3eFxaLyNRZudlZECjMgCCyud6xn4t0UqNB3yIQgv2jdato/WllEBFlZ1f50x/wdA89rRhKVVOs2fEYVv2G3mg+HaFRbK4m09ub0eLx+qZIcTkrZpCO1GnXjv8RdNbaHaGPIeyGcYLo/3vXELjxMjw+EMOAvFAD03nOW0ILA0VMHxEs8ZcBah2ivbhUu2uOa6vX0t9BUkaP0ulHqpEo8uvahdcKLMcH64RrJdmOD9dgLeYFTMEGAyOC5wPQLgPZXdTxC8FSOzjvcYtiLAZiiHEQBpo+fnQ7NMfAoSkGMzBCCNwB+jJ8/YXJoKtjKeZ2IjMRpUxxCAfmAvDUqbuJQhMJzRwFO4uNpR4PGxUzJlJqKGEdDqcH5DqVViNWCBfT78wbB8Ex9DEPB6cHUwSbLAVxgT3q9yttF6X04wQY3ztwpFWFGghbwsAQwhx/Jq1CQvo8vF4NPPaeW3sQ9OtKnntEDrhVdX2Sy5ryD6JYALNzuWeRmrlVdDeWxOJsJrTxhg8UwRPnODr6kbNO0xbd0o14G2MSFPD6zIDCxTBPxDvQd31LrBpdLOsIi4vLHCekTkqpHMh5WrKF/CpAN46zkzMxiQrT0Hwj86IZk7dUiV40+oX60t0bFsC2LpPpe84gpj+5kdke6BCOwhheVDZi99UA9TLQjPnZXghcyXqATecd+4CvBaG+CKfC2syJdsJubqg8xwyU6W0eN0ttNKbMySp5gRatdZWM01wK2fxayj6gL2FYDf2OvHb+/qHhh9RFsJLf17TRZLtuDqdZaoAY8rUpIr9VY82hWtWvEtd/QmCHOnCJhpjL0ezoyzE2i5Jj92cQEJU6jr8tCaMu6PAb2Cf8/265VtGhi9BZOiOnN2gp+cG6MqLVNI6O8YfbTRmorB0+/kplGHH3B2As19VbPAVIQWV52IHQ1nIIdMMWEhk26Tj0wKVHeGupS9J3zVvacvQHfTGXiqcBrsa7wG98/JgnPtPeDIyQFzcXJdDzk7evIya/gmqJs6g8aJm2cHZO76PDxAv8sN1989AOD3wdyFk6GnpRWmTS+AixevQvt/7KC7Yzpop2Wpq6AiacwqkvElFKAS/XzOXlh851SYRK75c27PhEcW5cFXZnDzZZB3WyZ86ugGSCJAzk4EhgQwgX1YAUELdffbJpugvcsFNfsD/pCH6i9LEvhUTa8hl3UF8lTPSuz44DlFn5kATqJzoO5CyHZPW8IgqbteNB2haTZ0kgFOD6llEhO4Bd49Kxu+7Bw5sNSQ9Zm0CAleoxhCg3z/u0T600kdOCUBuqlvFM+ZApPMeijIy4bTl9vhrtwsuNbhhE6nB2qHNCfxHxiymwIg60x81ZHV6NNq4U+Hz0j3vw5H4D5Yf/YL2Hu0FXYdaAYHX2tJYiDvmS4+Jk9ZgJoMM2Q8UAKCyQjcGtGghz6ksb9OD6Z7C0Cfe3sS8UlVt/On8PlUfQpzFSc9/lXp2E3Xub9YCh/xyAcBpvBzkgP5q50SUMMakqzHmK2ePOBOisyvaYQEjqbaPAAvkM3zcF6dxeGAsCT81YB4UrzDbGq54nR61VoTHK0dDhrbfXBjtFxjIR39epOxRTi4Dt00jCFPrMQEvhS3lOY+/JipT0yd8amF1X+0LvAUprE00Iw9MWEWQXuHViD58ezUxNQZj1oExINcrrS0KKCwNx6VpLVMprkFsKnC3ECT80tp3WAVG0cbStdXVhiPc5GSBUqyESasMELINHx5m3slDAUIwlsRlh/f2YieoNHVBCEMWKDdZrFTN5b6dTBx4jySAD1w/9VYZmgNpgwA5BGCgK8HEybOIQgIjPzHb4UhAJvKrbU0ppFujreyTFwFCZD11TeXWf8a/MzPQwDyCHqJza/4eSKMJCBocMRPYUcAbNpoPkD3wr+NLD6+Y/jzQeqhwzDIOhSJWu06r8f7MM2PTcPyx/zxC1qD33olIKaBNtXGREB0i1ooldN1hAXyTA2lxssgsF/KFYg1rp0c62poP5gfHztilZaY8rRs/3LQJ3p4jbIAeSbdZOsOOn08vECsn2kfCHJpc50f3Esh1QPNOo6ttJm3hdIzJED+PhVBI64if+D/hSocTfw82oc8XBQ41iR9RX7UFnShVlwdnHXI5Q4JkGduLjddISP5LncmlCucznG8zRpBeKZ5g/FiuHaGBcgLckdqQCwLJyQd02i/4/kmm+XD0do2KkAuwF5h2UHvENgymrB0SSc/x20tFdY3I2lPRAC5IHoBQ/l4gEhd940mm3VDJPB4nogB8swSRBSq+XVaBsRN9M6YdUpevKMIIIdG3dlGo3IbbXNL62FpAZIvUaFQRt32Z0rboxhgAGJGNWjwMVp4aFdaYerlx2vUbR9trrBEtRIVFUAOoaXcckgE7SIy97G7MY9wQK9jRdSr/hntFxs1QF5hY4XxUvZ0y/3UpXcQSNrxHRuBdHXT8XxLRcaTJ0ozvoxFa9nFBCUCj/wQuX/B+oVbnG+bdMj3VWaHK99BQ/Ld/XObRme4nPFJu9LDOmZPFZ7a+yPzUTVqoJmpeoF+Lit82Am/3nARHur1QYF6klWR1DbLCK8emg+/I+tT7QGoKsBgM/l7BvPr4Zv0Y1obf3FNMD5J5xZBgJ05WfDOkdlSb1FVjbgAHKxh/nG2zCsNe+BRciWOe31S3Sj5fe8nL+CdZ0rw8GB91L5OTINI6/n1bCatpX6H/HCepmOJ6jAD0OqoQX8RBdhzuhgvqw1LTl7CAA6uPP80y/b1wjKyk69RF19ESiwgqORupCBw53iAk1S2juy6jib/x84V43UFElTJmhSAcprf2chm0BudZxGIqTTBtPr9ElAOFQUGTiZAN4Hi/3Dgv1odnD85Hzvk5CQ67v8whi8x0J45hwAAAABJRU5ErkJggg==">'},carouselAda:{forwardNav:"Diapositiva del carrusel siguiente, actualiza contenido arriba",backwardNav:"Diapositiva del carrusel anterior, actualiza contenido arriba",currentSlidePosition:"Diapositiva {x} de {y}",currentSelection:"SelecciÃ³n actual",updatesContentAbove:"Actualiza contenido arriba"},disclaimerHeader:"Descargo de responsabilidad",disclaimerBody:"Chase es responsable Ãºnicamente del registro del crÃ©dito en el estado de cuenta en tu cuenta segÃºn los datos que recibe de su proveedor de servicio independiente. Es posible que un comercio divida tu compra en mÃºltiples transacciones. En este caso, es posible que solo recibas tu crÃ©dito en el estado de cuenta sobre la cantidad de la primera transacciÃ³n. Si esto ocurre, por favor, llama al nÃºmero que estÃ¡ al reverso de tu tarjeta. El crÃ©dito en el estado de cuenta aparecerÃ¡ en tu estado de cuenta dentro de los 14 dÃ­as hÃ¡biles a partir de la recepciÃ³n de esta informaciÃ³n por parte de Chase."}}}}),define("mktui-fx/cardlytics/model/SourceCustomerInfo.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/DisplayKey",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.DisplayKey||(t.DisplayKey={})).available="DisplayOffers",t.redeemed="Redemptions",t.expired="ExpiredOffers"}),define("mktui-fx/cardlytics/model/CardlyticsLocale",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.CardlyticsLocale||(t.CardlyticsLocale={})).EN="en_us",t.ES="es_us"}),define("mktui-fx/cardlytics/util/cardlyticsutil",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/ads/topic","mktui-fx/cardlytics/model/CardlyticsToken","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/model/DisplayKey","mktui-fx/cardlytics/model/CardlyticsLocale"],function(e,t,r,o,i,n,s,c,a,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cardlyticsUtil={setAccountInfo:function(e,t,r){var i=new n.CardlyticsToken;return r?(i.accountId=e,i.count=r.AdCount):(i.accountId=e,i.count=a.cardlyticsStore.getAdCount(e)),i.securityToken=t,i},setTokenStorage:function(r,i){for(var e in r)!function(t){var e=i.filter(function(e){return e.SourceCustomerId===r[t]}),e=0<e.length?e[0]:null;a.cardlyticsStore.setCDLXDetails(t,e)}(e)},getWinningAccountIdFromCache:function(e){try{return 1===Object.keys(e).length?Object.keys(e)[0]:a.cardlyticsStore.getWinningAccount()}catch(e){return null}},getAccountIds:function(){return a.cardlyticsStore.getAccounts()},getActiveSecurityToken:function(){var e=a.cardlyticsStore.activeAccountIds;if(1<e.length){var t=a.cardlyticsStore.getWinningAccount()?a.cardlyticsStore.getWinningAccount():"";return t?a.cardlyticsStore.getSecToken(t):""}return a.cardlyticsStore.getSecToken(e[0])},deleteTopic:function(e){delete i.Topic.channels[e]},allReplace:function(e,t,r,i){for(var n in r==(s.CardlyticsPages.OvdSlideIn||s.CardlyticsPages.ClassicSlideIn)&&"Added"==i?e=e.replace("jpui sixersoffers","jpui sixersoffers dashboard"):r===(s.CardlyticsPages.OvdSlideIn||s.CardlyticsPages.ClassicSlideIn)&&i===o.cardlyticsConstants.slideInCTA&&(e=e.replace("jpui sixersoffers added","jpui sixersoffers added dashboard")),t)e="{{reference-zCDLX.EarnedAmount_EarnedAmount}}"!=n?e.replace(new RegExp(n,"g"),t[n]):e.replace(n,t[n]);return e},setCarouselSummaryInfo:function(e,t,r,i){var n=void 0!==t.nickname?t.nickname:"",a=void 0!==t.maskNumber?".."+t.maskNumber:"",o="For ";t.language===l.CardlyticsLocale.ES&&(o="Para "),e.accountInfo=o+n+" ("+a+")",e.isSingleAccount=!1,i==(s.CardlyticsPages.OvdSlideIn||s.CardlyticsPages.ClassicSlideIn)&&(e.isSingleAccount=!0),e.totalOffers=t.count,e.accountId=t.accountId,e.categoryId="Available"},carouselSummaryInfo:function(e,t){var r={},i=e.nickname||"",n=e.maskNumber?".."+e.maskNumber:"",a=(e.language===l.CardlyticsLocale.ES?o.cardlyticsConstants.carouselContentLabels.es:o.cardlyticsConstants.carouselContentLabels.en).forText;return r.accountInfo=a+i+" ("+n+")",r.isSingleAccount=t,r.totalOffers=e.count,r.accountId=e.accountId,r.categoryId=c.CardlyticsOfferState.all,r},getOfferState:function(e){var t={offerState:"Added",offerStateClass:"jpui confirmation icon"};return void 0!==e.EarnedDate&&(t.offerState="Redeemed",t.offerStateClass="jpui confirmation icon"),t},getOfferValue:function(e,t,r){return t?Number(e)+"%":"earned"===r||e%1!=0?"$"+Number(e).toFixed(2):"$"+Math.round(100*e)/100},getCustomDate:function(e,t){e=(e=(e=(e=e.replace(/\//g,"")).replace(/\//g,"")).replace("Date(","")).replace(")",""),e=parseInt(e);e=new Date(e);return"due"==t?e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear():"earned"==t?r.cardlyticsConfig.cardlyticsMonths[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear():void 0},getAdResponseByOfferId:function(e,t){var r={};e.DisplayOffers&&0<e.DisplayOffers.length?e=e.DisplayOffers:e.Redemptions&&0<e.Redemptions.length?e=e.Redemptions:e.ExpiredOffers&&0<e.ExpiredOffers.length&&(e=e.ExpiredOffers);for(var i=0;i<e.length;i++)if(e[i].OfferId==t){r=e[i];break}return r},parsePostMessage:function(e){var t=document.createElement("div");t.id="tmp_div",t.innerHTML=e;for(var r=t.getElementsByTagName("a"),i=0;i<r.length;i++){var n={},a=r[i].getAttribute("href").split("?");r[i].setAttribute("href","javascript:void(0);"),r[i].setAttribute("target","_self"),r[i].setAttribute("alt","Opens dialog"),0<a.length&&(r[i].setAttribute("blue-click","requestUrlLinkClick"),void 0!==a[1]&&(n.navKey="requestCardAnalyticsMerchantSite",n.params={},n.params.rawAppend={},n.params.rawAppend.metchantUrl="?"+a[1],r[i].setAttribute("blue-param",JSON.stringify(n)),r[i].setAttribute("id","cardlytics_third_party_link")))}return t.innerHTML},getViewProperty:function(e){var t=d.DisplayKey.available;return e&&e.toLowerCase()===c.CardlyticsOfferState.all?(a.cardlyticsStore.offerState=c.CardlyticsOfferState.all,t=d.DisplayKey.available):e&&e.toLowerCase()===c.CardlyticsOfferState.added?(a.cardlyticsStore.offerState=c.CardlyticsOfferState.added,t=d.DisplayKey.available):e&&e.toLowerCase()===c.CardlyticsOfferState.redeemed?(a.cardlyticsStore.offerState=c.CardlyticsOfferState.redeemed,t=d.DisplayKey.redeemed):e&&e.toLowerCase()===c.CardlyticsOfferState.expired&&(a.cardlyticsStore.offerState=c.CardlyticsOfferState.expired,t=d.DisplayKey.expired),t},getCardlyticsToken:function(e,t,r){var i=e.sourceCustomerIds[t];return r.d.Tokens.find(function(e){return e.SourceCustomerId===i})}}}),define("mktui-fx/cardlytics/model/CardlyticsOffer.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/OfferList.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/AccountHelper",["require","exports","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/util/commonUtils","mktui-fx/cardlytics/model/DisplayKey","mktui-fx/cardlytics/model/CardlyticsLocale"],function(e,t,i,n,a,o,s,c,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(u.prototype.getEligibleAccounts=function(e){var r=[];if(e)return 0<e.length&&e.forEach(function(e,t){i.cardlyticsStore.getSecToken(e)&&r.push(e)}),r},u.prototype.getCategoryList=function(e,t,r){void 0===r&&(r="");var r=o.cardlyticsUtil.getViewProperty(r),i=t===l.CardlyticsLocale.ES?s.cardlyticsConstants.cardlyticsCategoryList.es:s.cardlyticsConstants.cardlyticsCategoryList.en,e=r===d.DisplayKey.redeemed?e[r].map(function(e){return e.Offer}):e[r],n=c.groupItemsByKey(e,"CategoryId"),r=Object.keys(n).map(function(e){return{categoryId:e,categoryName:i[e],count:n[e].length}}),e={categoryId:"0",categoryName:i[0],count:e?e.length:0};return r.unshift(e),r},u.prototype.getOfferDetailsAccountInfo=function(e){var t={},e=1==e.length?e[0]:i.cardlyticsStore.getWinningAccount();return t.accountId=e,t.securityToken=i.cardlyticsStore.getSecToken(e),t.location=i.cardlyticsStore.offerLocation||"",t},u.prototype.setActiveAccountinfo=function(e,t,r){return r!==n.CardlyticsPages.OvdDashboard&&r!==n.CardlyticsPages.ClassicDashboard||(e.maskNumber=t[e.accountId].maskNumber,e.nickname=t[e.accountId].nickname),e.location=a.cardlyticsConfig.cardlyticslocation[r],i.cardlyticsStore.offerLocation=e.location,e},u.shared=new u,u);function u(){}t.AccountHelper=r}),define("mktui-fx/cardlytics/model/ErrorData",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/CardlyticsError",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/util/Logger","mktui-fx/common/AdOperationType"],function(e,t,r,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(o.prototype.logCardlyticsError=function(e,t){r.cardlyticsConfig.isLogCardlyticsError&&"true"===r.cardlyticsConfig.isLogCardlyticsError&&(e={API:t||"--",accountId:e.accountId||"--",httpStatus:e.status||"--",textStatus:e.textStatus||"--",errorThrown:e.errorThrown||"--",details:e.details||"--",responseData:e.responseData||"--"},i.Logger.logErrorMsgObject(n.AdOperationType.cardlytics_error,e))},o.shared=new o,o);function o(){}t.CardlyticsError=a}),define("mktui-fx/cardlytics/model/CardlyticsParameter.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/util/CardlyticsApiEndpoint",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.CardlyticsApiEndpoint||(t.CardlyticsApiEndpoint={})).secToken="/SecurityService.asmx/GetSecurityToken",t.multiSecToken="/ExtendedSecurityService.asmx/GetSecurityTokens",t.getOfferCountDetail="/public/BankServiceApi45Ex.asmx/GetOfferCountDetail",t.getSession="/public/BankServiceApi43.asmx/StartSession",t.getOffers="/public/BankServiceApi45Ex.asmx/GetOffers"}),define("mktui-fx/cardlytics/model/CardlyticsErrors",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.CardlyticsErrors||(t.CardlyticsErrors={})).CustomerNotFoundException="CustomerNotFoundException",t.ChaseOfferNotAvailable="Chase Offers is not available",t.SourceCustomerIdNotAvailable="Source customer Id is not available for this account",t.ResponseFormatError="Response is not as per the expected format",t.UserNotEligible="User is not eligible for Cardlytics",t.SourceCustomerIdApiFailure="sourceCustomerId API failure",t.SecurityTokenAPiFailure="securityToken API failure",t.initSessionApiFailure="initSession API failure",t.initSessionFailure="Failed to Init the CDLX session",t.MultiSecurityTokenAPiFailure="Multi securityToken API failure",t.getOffersAPiFailure="Get Offers API failure",t.getOffersFailure="Failed to provide the CDLX OFfers",t.ZeroOffer="Zero Offer",t.APIFailure="API Failure",t.DisplayElementExpandedEventFailure="DisplayElementExpanded Event failure",t.DisplayElementExpandedFailure="DisplayElementExpanded failure",t.UrlLInkClickedEventFailure="UrlLink Clicked Event failure",t.UrlLInkClickedFailure="UrlLink Clicked failure",t.RewardSummaryLinkClickedEventFailure="RewardSummaryLinkClicked event failure",t.RewardSummaryLinkClickedFailure="RewardSummaryLinkClicked failure",t.MarkMultipleServedEventFailure="MarkMultipleServed event failure",t.MarkMultipleServedFailure="MarkMultipleServed failure"}),define("mktui-fx/cardlytics/api/multiSecurityToken.provider",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/CardlyticsApiEndpoint","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/util/cors","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/CardlyticsError","mktui-fx/util/commonUtils"],function(e,t,a,o,r,s,c,i,d){"use strict";function l(e,t){i.CardlyticsError.shared.logCardlyticsError(e,r.cardlyticsConstants.cardlyticsApiNames.multiSecToken),t.reject(e.errorThrown||"")}Object.defineProperty(t,"__esModule",{value:!0}),t.getMultiSecurityTokens=function(n){return __awaiter(this,void 0,void 0,function(){var i,t,r;return __generator(this,function(e){return i=d.Deferred(),0<n.length?(r=JSON.stringify({sourceCustomerIds:n}),t={headers:{"Content-Type":"application/json"},data:r,timeout:a.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},r=a.cardlyticsConfig.cardlyticsServiceUrl+o.CardlyticsApiEndpoint.multiSecToken,s.CORS(r,t).then(function(e){var t,r;r=i,null!==(e=null===(e=(t=e).d)||void 0===e?void 0:e.Tokens)&&void 0!==e&&e.length&&r.resolve(t)},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.statusText,e=e.status;l({accountId:n,textStatus:r,errorThrown:t,httpStatus:e,details:c.CardlyticsErrors.MultiSecurityTokenAPiFailure},i)})):l({accountId:n,details:c.CardlyticsErrors.UserNotEligible},i),[2,i.promise()]})})},t.handleMultiSecurityTokenFailure=l}),define("mktui-fx/cardlytics/api/sourceCustomerId.provider",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/util/cors","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/CardlyticsError","mktui-fx/util/commonUtils"],function(e,t,r,i,a,o,n,s){"use strict";function c(e,t){n.CardlyticsError.shared.logCardlyticsError(e,i.cardlyticsConstants.cardlyticsApiNames.hash),t.resolve(null)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSourceCustomerId=function(i){var n=s.Deferred(),e={headers:{"Content-Type":"application/json","x-jpmc-csrf-token":"NONE"},data:JSON.stringify({accountid:i}),timeout:r.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"};return a.CORS(r.cardlyticsConfig.dpsHashApiUrl,e).then(function(e){!function(e,t,r){if(e.success&&e.result.sourceCustomerId)return r.resolve(e.result.sourceCustomerId);c({accountId:t,details:o.CardlyticsErrors.SourceCustomerIdNotAvailable,responseData:e},r)}(e,i,n)},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.statusText,e=e.status;c({accountId:i,textStatus:r,errorThrown:t,httpStatus:e,details:o.CardlyticsErrors.SourceCustomerIdApiFailure},n)}),n.promise()}}),define("mktui-fx/cardlytics/api/initSession.provider",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/util/cors","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/util/CardlyticsApiEndpoint","mktui-fx/cardlytics/CardlyticsError","mktui-fx/util/commonUtils"],function(e,t,a,o,s,c,d,r,l){"use strict";function u(e,t){r.CardlyticsError.shared.logCardlyticsError(e,o.cardlyticsConstants.cardlyticsApiNames.getSession),t.reject(e.errorThrown||"")}Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionInfo=function(n){return __awaiter(this,void 0,void 0,function(){var i,t,r;return __generator(this,function(e){return i=l.Deferred(),r=JSON.stringify({SecurityToken:n,Channel:a.cardlyticsConfig.cardlyticsChannel,ExtraData:o.cardlyticsConstants.extraData}),t={headers:{"Content-Type":"application/json"},data:r,timeout:a.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},r=a.cardlyticsConfig.cardlyticsServiceUrl+d.CardlyticsApiEndpoint.getSession,s.CORS(r,t).then(function(e){!function(e,t,r){var i;if(null!==(i=e.d)&&void 0!==i&&i.IsOptedIn)return r.resolve(e.d);u({accountId:t,details:c.CardlyticsErrors.initSessionFailure,responseData:e},r)}(e,n,i)},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.statusText,e=e.status;u({accountId:n,textStatus:r,errorThrown:t,httpStatus:e,details:c.CardlyticsErrors.initSessionApiFailure},i)}),[2,i.promise()]})})}}),define("mktui-fx/cardlytics/api/getOffers.provider",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/util/CardlyticsApiEndpoint","mktui-fx/util/cors","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/CardlyticsError","mktui-fx/util/commonUtils"],function(e,t,c,d,l,u,f,p,m,r,y){"use strict";function g(e,t){r.CardlyticsError.shared.logCardlyticsError(e,d.cardlyticsConstants.cardlyticsApiNames.getOffers),t.reject(e.errorThrown)}Object.defineProperty(t,"__esModule",{value:!0}),t.getOffers=function(n,a,o,s){return __awaiter(this,void 0,void 0,function(){var i,t,r;return __generator(this,function(e){return i=y.Deferred(),r=function(e,t,r,i){e={securityToken:e.securityToken,offerStates:function(e){var t=[];switch(e){case p.CardlyticsOfferState.redeemed:t=[p.CardlyticsOfferState.redeemed];break;case p.CardlyticsOfferState.expired:t=[p.CardlyticsOfferState.expired];break;case p.CardlyticsOfferState.added:t=[p.CardlyticsOfferState.Activated];break;default:t=[p.CardlyticsOfferState.NotActivated,p.CardlyticsOfferState.Activated]}return t}(r.toLowerCase()),limits:function(e,t,r){var i;e!==m.CardlyticsPages.OvdDashboard&&e!==m.CardlyticsPages.ClassicDashboard||t.toLowerCase()!==p.CardlyticsOfferState.all?e!==m.CardlyticsPages.OvdSlideIn&&e!==m.CardlyticsPages.ClassicSlideIn||t.toLowerCase()!==p.CardlyticsOfferState.all?e!==m.CardlyticsPages.AllOffers||t.toLowerCase()!==p.CardlyticsOfferState.all&&t.toLowerCase()!==p.CardlyticsOfferState.available&&t.toLowerCase()!==p.CardlyticsOfferState.added?e===m.CardlyticsPages.AllOffers&&t.toLowerCase()===p.CardlyticsOfferState.redeemed?i={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersAll,MaxOffers:d.cardlyticsConstants.maxOffersAllOffers,RedemptionLookback:c.cardlyticsConfig.cardlyticsRedemeptionLookbackRedeemed,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackRedeemed,EnableSuppression:d.cardlyticsConstants.enableSuppressionFalse}:e===m.CardlyticsPages.AllOffers&&t.toLowerCase()===p.CardlyticsOfferState.expired&&(i={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersAll,MaxOffers:d.cardlyticsConstants.maxOffersAllOffers,RedemptionLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackExpired,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackExpired,EnableSuppression:d.cardlyticsConstants.enableSuppressionFalse}):i={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersAll,MaxOffers:d.cardlyticsConstants.maxOffersAllOffers,RedemptionLookback:c.cardlyticsConfig.cardlyticsRedemeptionLookbackAvailable,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackAvailable,EnableSuppression:d.cardlyticsConstants.enableSuppressionFalse}:i={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersCustom,MaxOffers:d.cardlyticsConstants.maxOffersSlideIn,RedemptionLookback:c.cardlyticsConfig.cardlyticsRedemeptionLookbackAvailable,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackAvailable,EnableSuppression:d.cardlyticsConstants.enableSuppressionFalse}:i={LimitNumberOfOffers:d.cardlyticsConstants.limitNumberOfOffersCustom,MaxOffers:d.cardlyticsConstants.maxOffersDashboard,RedemptionLookback:c.cardlyticsConfig.cardlyticsRedemeptionLookbackAvailable,ExpiredLookback:c.cardlyticsConfig.cardlyticsExpiredLookbackAvailable,EnableSuppression:1<r.length};return i}(t,r,i),offerType:0,location:e.location,channel:c.cardlyticsConfig.cardlyticsChannel,data:{ExtraData:d.cardlyticsConstants.extraData}};return JSON.stringify(e)}(n,a,o,s),t={headers:{"Content-Type":"application/json"},data:r,timeout:c.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},r=c.cardlyticsConfig.cardlyticsServiceUrl+l.CardlyticsApiEndpoint.getOffers,u.CORS(r,t).then(function(e){!function(e,t,r){if(e.d)return r.resolve(e.d);g({accountId:t,details:f.CardlyticsErrors.getOffersFailure,responseData:e},r)}(e,n.securityToken,i)},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.statusText,e=e.status;g({accountId:n.securityToken,textStatus:r,errorThrown:t,httpStatus:e,details:f.CardlyticsErrors.getOffersAPiFailure},i)}),[2,i.promise()]})})}}),define("mktui-fx/cardlytics/api/CardlyticsService",["require","exports","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/api/multiSecurityToken.provider","mktui-fx/util/commonUtils","mktui-fx/cardlytics/api/sourceCustomerId.provider","mktui-fx/cardlytics/api/initSession.provider","mktui-fx/cardlytics/api/getOffers.provider","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/util/CardlyticsPages"],function(e,t,a,o,s,l,i,c,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n.prototype.getSourceCustomerIdService=function(s,c,d){return __awaiter(this,void 0,void 0,function(){var t,r,i,n,a,o;return __generator(this,function(e){switch(e.label){case 0:if(t={},r="",c==f.CardlyticsPages.AllOffers){if(o=u.cardlyticsStore.getSourceCustomerId(s[0]))return t[s[0]]=o,[2,{sourceCustomerIds:t,activeAccount:r}];r=s[0],s=d.requiredAdData.accountIdList}i=0,n=s,e.label=1;case 1:return i<n.length?(a=n[i],(o=u.cardlyticsStore.getSourceCustomerId(a))?(t[a]=o,[3,4]):[3,2]):[3,5];case 2:return[4,l.getSourceCustomerId(a)];case 3:(o=e.sent())&&(t[a]=o),e.label=4;case 4:return i++,[3,1];case 5:return[2,{sourceCustomerIds:t,activeAccount:r}]}})})},n.prototype.getMultiSecurityTokenService=function(n){return __awaiter(this,void 0,void 0,function(){var t,r,i;return __generator(this,function(e){switch(e.label){case 0:return(t=a.cardlyticsUtil.getWinningAccountIdFromCache(n.sourceCustomerIds),r=t?u.cardlyticsStore.getSecToken(t):"")?[2,a.cardlyticsUtil.setAccountInfo(t,r)]:(i=s.generateValueArray(n.sourceCustomerIds),[4,o.getMultiSecurityTokens(i)]);case 1:return i=e.sent(),[2,this.handleMultiSecurityTokenSuccess(n,i)]}})})},n.prototype.handleMultiSecurityTokenSuccess=function(e,t){a.cardlyticsUtil.setTokenStorage(e.sourceCustomerIds,t.d.Tokens);var r=e.activeAccount||u.cardlyticsStore.getWinningAccount(),t=a.cardlyticsUtil.getCardlyticsToken(e,r,t);return a.cardlyticsUtil.setAccountInfo(r,t.TokenId,t)},n.prototype.getSessionInfoService=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return(t=u.cardlyticsStore.getIsOptIn(r.accountId))?[2,t]:[4,i.getSessionInfo(r.securityToken)];case 1:return t=e.sent(),u.cardlyticsStore.setIsOptIn(r.accountId,t.IsOptedIn),[2,t.IsOptedIn]}})})},n.prototype.getAllOffersService=function(r,i,n,a){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,c.getOffers(r,i,n,a)];case 1:return t=e.sent(),u.cardlyticsStore.setOfferList(r.accountId,JSON.stringify(t)),[2,t]}})})},n.shared=new n,n);function n(){}t.CardlyticsService=r}),define("mktui-fx/cardlytics/event/cardlyticsimpression",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/util/cors","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/CardlyticsError","mktui-fx/cardlytics/model/CardlyticsErrors"],function(e,t,u,f,p,m,y,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.invokeElementExpandedEvent=function(e,i,t,n){var r=y.cardlyticsStore.offerState||"",a=p.cardlyticsConstants.availableDisplayType;r===m.CardlyticsOfferState.redeemed?a=p.cardlyticsConstants.redeemedDisplayType:r===m.CardlyticsOfferState.expired&&(a=p.cardlyticsConstants.expiredDisplayType);e={SecurityToken:i.securityToken||"",Channel:u.cardlyticsConfig.cardlyticsChannel,Location:i.location||"",OfferId:e||"",DisplayType:a,TransactionId:u.cardlyticsConfig.cardlyticsTranasctionId,ExtraData:p.cardlyticsConstants.cardlyticsExtraData},a=u.cardlyticsConfig.cardlyticsServiceUrl+"/public/BankServiceApi43.asmx/DisplayElementExpanded",e={headers:{"Content-Type":"application/json"},data:e,timeout:u.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"};f.CORS(a,e).then(function(e){e.d?t(e.d):(e={accountId:i.securityToken,details:v.CardlyticsErrors.DisplayElementExpandedFailure,responseData:e},g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.dislayElementExpanded),n())},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.statusText,e=e.status,e={accountId:i.securityToken,textStatus:r,errorThrown:t,httpStatus:e,details:v.CardlyticsErrors.SourceCustomerIdApiFailure};g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.dislayElementExpanded),n()})},i.prototype.invokeUrlLinkClickedEvent=function(e,i,t,n){var r;void 0!==i.securityToken&&void 0!==i.location&&((r={}).SecurityToken=i.securityToken||"",r.Channel=u.cardlyticsConfig.cardlyticsChannel,r.Location=i.location||"",r.OfferId=e,r.DisplayType=u.cardlyticsConfig.cardlyticsDisplayTypeOffer,r.TransactionId=u.cardlyticsConfig.cardlyticsTranasctionId,r.ExtraData="Chase Cardlytics",e=u.cardlyticsConfig.cardlyticsServiceUrl+"/public/BankServiceApi43.asmx/UrlLinkClicked",r={headers:{"Content-Type":"application/json"},data:r,timeout:u.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},f.CORS(e,r).then(function(e){e.d?t(e.d):(e={accountId:i.securityToken,details:v.CardlyticsErrors.UrlLInkClickedFailure,responseData:e},g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.UrlLinkClicked),n())},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.statusText,e=e.status,e={accountId:i.securityToken,textStatus:r,errorThrown:t,httpStatus:e,details:v.CardlyticsErrors.UrlLInkClickedEventFailure};g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.UrlLinkClicked),n()}))},i.prototype.invokeRewardsSummaryLinkClickedEvent=function(i,t,r){var e,n;void 0!==i.securityToken&&void 0!==i.location?((n={}).SecurityToken=i.securityToken||"",n.Channel=u.cardlyticsConfig.cardlyticsChannel,n.Location=i.location||"",n.OfferId="0",n.DisplayType=u.cardlyticsConfig.cardlyticsDisplayTypeOther,n.TransactionId=u.cardlyticsConfig.cardlyticsTranasctionId,n.ExtraData="Chase Cardlytics",e=u.cardlyticsConfig.cardlyticsServiceUrl+"/public/BankServiceApi43.asmx/RewardSummaryLinkClicked",n={headers:{"Content-Type":"application/json"},data:n,timeout:u.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"},f.CORS(e,n).then(function(e){e.d?t(e.d):(e={accountId:i.securityToken,details:v.CardlyticsErrors.RewardSummaryLinkClickedFailure,responseData:e},g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.RewardSummaryLinkClicked),r())},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.statusText,e=e.status,e={accountId:i.securityToken,textStatus:r,errorThrown:t,httpStatus:e,details:v.CardlyticsErrors.RewardSummaryLinkClickedEventFailure};g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.RewardSummaryLinkClicked)})):r()},i.prototype.invokeMultipleViewEvent=function(e,i,t,r){if(void 0!==i.securityToken&&void 0!==i.location){var n=y.cardlyticsStore.offerState||"",a=p.cardlyticsConstants.availableDisplayType;n===m.CardlyticsOfferState.redeemed?a=p.cardlyticsConstants.redeemedDisplayType:n===m.CardlyticsOfferState.expired&&(a=p.cardlyticsConstants.expiredDisplayType);var o={};o.SecurityToken=i.securityToken||"",o.Channel=u.cardlyticsConfig.cardlyticsChannel,o.DisplayServings=[];for(var s=0,c=e;s<c.length;s++){var d=c[s],l={};l.DisplayTypeId=d.id||d||"",l.Transactionid=u.cardlyticsConfig.cardlyticsTranasctionId,l.Location=i.location,l.DisplayType=a,l.OfferChecksum=d.checkSum||"",o.DisplayServings.push(l)}o.ExtraData=p.cardlyticsConstants.cardlyticsExtraData;n=u.cardlyticsConfig.cardlyticsServiceUrl+"/public/BankServiceApi43.asmx/MarkMultipleServed",e={headers:{"Content-Type":"application/json"},data:o,timeout:u.cardlyticsConfig.timeOutCardlyticsApi,method:"POST"};f.CORS(n,e).then(function(e){e.d?t(e.d):(e={accountId:i.securityToken,details:v.CardlyticsErrors.MarkMultipleServedFailure,responseData:e},g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.MarkMultipleServed),r())},function(e){var t=e.textStatus,r=void 0===t?"error":t,t=e.statusText,e=e.status,e={accountId:i.securityToken,textStatus:r,errorThrown:t,httpStatus:e,details:v.CardlyticsErrors.MarkMultipleServedEventFailure};g.CardlyticsError.shared.logCardlyticsError(e,p.cardlyticsConstants.cardlyticsImpressionEvents.MarkMultipleServed)})}},i);function i(){}t.CardlyticsImpression=r}),define("mktui-fx/cardlytics/model/CardlyticsTopic",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.CardlyticsTopic||(t.CardlyticsTopic={})).trackSeeAllClick="trackSeeAllClick",t.cardlyticsMultipleView="cardlyticsMultipleView",t.trackUrlLinkClick="trackUrlLinkClick"}),define("mktui-fx/cardlytics/event/CardlyticsEvents",["require","exports","mktui-fx/cardlytics/event/cardlyticsimpression","mktui-fx/ads/topic","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/model/CardlyticsTopic","mktui-fx/util/commonUtils"],function(e,t,a,o,n,s,r,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(d.prototype.elementExpanded=function(i,n){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){return t=new a.CardlyticsImpression,r=c.Deferred(),i&&t.invokeElementExpandedEvent(i,n,function(e){e?r.resolve(!0):r.reject(!1)},function(){r.reject(!1)}),[2,r.promise()]})})},d.prototype.rewardsSummaryLinkClick=function(n){return __awaiter(this,void 0,void 0,function(){var t,r,i;return __generator(this,function(e){return t=new a.CardlyticsImpression,(r=[]).securityToken=s.cardlyticsStore.getSecToken(n),r.location=s.cardlyticsStore.offerLocation,i=c.Deferred(),t.invokeRewardsSummaryLinkClickedEvent(r,function(e){e?(o.Topic("rewardsSummaryClickEvent").publish(!0),i.resolve(!0)):(o.Topic("rewardsSummaryClickEvent").publish(!1),i.reject(!1))},function(){o.Topic("rewardsSummaryClickEvent").publish(!1),i.reject(!1)}),[2,i.promise()]})})},d.prototype.multipleView=function(i,n){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){return t=new a.CardlyticsImpression,r=c.Deferred(),n.location=s.cardlyticsStore.offerLocation||0,t.invokeMultipleViewEvent(i,n,function(e){e?(o.Topic("multipleViewEvent").publish(!0),r.resolve(!0)):(o.Topic("multipleViewEvent").publish(!1),r.reject(!1))},function(){o.Topic("multipleViewEvent").publish(!1),r.reject(!1)}),[2,r.promise()]})})},d.prototype.urlLinkClick=function(t,e){var r=new a.CardlyticsImpression;e.location=s.cardlyticsStore.offerLocation||0;var i=c.Deferred();return t&&r.invokeUrlLinkClickedEvent(t,e,function(e){e?(o.Topic("urlLinkClickedEvent").publish(t,!0),i.resolve(!0)):(o.Topic("urlLinkClickedEvent").publish(t,!1),i.reject(!1))},function(){o.Topic("urlLinkClickedEvent").publish(t,!1),i.reject(!1)}),i.promise()},d.shared=new d,d);function d(){var i=this;o.Topic.exists(r.CardlyticsTopic.trackSeeAllClick)||o.Topic(r.CardlyticsTopic.trackSeeAllClick).subscribe(function(e){void 0!==e&&void 0!==e.adData.value.params.dynamicParams.accountId&&i.rewardsSummaryLinkClick(e.adData.value.params.dynamicParams.accountId)}),o.Topic.exists(r.CardlyticsTopic.cardlyticsMultipleView)||o.Topic(r.CardlyticsTopic.cardlyticsMultipleView).subscribe(function(e,t){var r={};r.securityToken=n.cardlyticsUtil.getActiveSecurityToken()?n.cardlyticsUtil.getActiveSecurityToken():"",r.securityToken&&i.multipleView(t,r)}),o.Topic.exists(r.CardlyticsTopic.trackUrlLinkClick)||o.Topic(r.CardlyticsTopic.trackUrlLinkClick).subscribe(function(){var e={};e.securityToken=n.cardlyticsUtil.getActiveSecurityToken()?n.cardlyticsUtil.getActiveSecurityToken():"";var t=s.cardlyticsStore.offerId||0;t&&e.securityToken&&i.urlLinkClick(t,e)})}t.CardlyticsEvents=i}),define("mktui-fx/cardlytics/model/OfferTile.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/CardlyticsTileAction",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t=t.CardlyticsTileAction||(t.CardlyticsTileAction={})).addedCTA="Added",t.addToCardCTA="Add to card"}),define("mktui-fx/cardlytics/view/offerViewProps",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/cardlytics/model/DisplayKey","mktui-fx/cardlytics/model/CardlyticsTileAction"],function(e,t,r,d,l,u,f,p,m){"use strict";function y(e,t){return{imgId:e.MerchantName,image:r.cardlyticsConfig.cardlyticsImageHost+"?ImageId="+e.ImageId,offerCheckSum:e.CheckSum,offerId:e.OfferId,accountId:t.accountId,webUIPath:r.cardlyticsConfig.marketingCxoAdsUi}}function g(e){var t,r,i,n,a,o;return e.PostMessage=e.PostMessage||(null!==(t=null===e||void 0===e?void 0:e.Offer)&&void 0!==t&&t.PostMessage?e.Offer.PostMessage:""),e.EndDate=e.EndDate||(null!==(r=null===e||void 0===e?void 0:e.Offer)&&void 0!==r&&r.EndDate?e.Offer.EndDate:""),e.OfferId=e.OfferId||(null!=(null===(r=null===e||void 0===e?void 0:e.Offer)||void 0===r?void 0:r.OfferId)?e.Offer.OfferId:0),e.MerchantName=e.MerchantName||(null!==(i=null===e||void 0===e?void 0:e.Offer)&&void 0!==i&&i.MerchantName?e.Offer.MerchantName:""),e.OfferedAmount=e.OfferedAmount||(null!==(i=null===e||void 0===e?void 0:e.Offer)&&void 0!==i&&i.OfferedAmount?e.Offer.OfferedAmount:0),e.IsPercentageOffer=e.IsPercentageOffer||!(null===(n=null===e||void 0===e?void 0:e.Offer)||void 0===n||!n.IsPercentageOffer)&&e.Offer.IsPercentageOffer,e.DaysLeft=e.DaysLeft||(null!==(n=null===e||void 0===e?void 0:e.Offer)&&void 0!==n&&n.DaysLeft?e.Offer.DaysLeft:0),e.ImageId=e.ImageId||(null!==(a=null===e||void 0===e?void 0:e.Offer)&&void 0!==a&&a.ImageId?e.Offer.ImageId:""),e.FirstServedEvents=e.FirstServedEvents||(null===(a=null===e||void 0===e?void 0:e.Offer)||void 0===a?void 0:a.FirstServedEvents),e.ActivatedDate=e.ActivatedDate||(null!==(o=null===e||void 0===e?void 0:e.Offer)&&void 0!==o&&o.ActivatedDate?e.Offer.ActivatedDate:""),e.CategoryId=e.CategoryId||(null!==(o=null===e||void 0===e?void 0:e.Offer)&&void 0!==o&&o.CategoryId?e.Offer.CategoryId:0),e}Object.defineProperty(t,"__esModule",{value:!0}),t.getOfferViewInfo=function(e,a,o,s){var c=[];return e.forEach(function(e,t){var r,i,n=function(e,t,r,i){var n={};switch(r){case p.DisplayKey.redeemed:n=function(e,t){var r=y(e=g(e),t),i="",n="";e.EarnedDate&&(i=e.EarnedDate?u.cardlyticsUtil.getCustomDate(e.EarnedDate,"earned"):"");e.EarnedAmount&&(n=u.cardlyticsUtil.getOfferValue(e.EarnedAmount,!1,"earned"));t=f.CardlyticsOfferState.redeemed,e=f.CardlyticsOfferStateText.redeemed,e={completedDate:i,offerType:t,isRegular:!1,cashBack:n,offerTypeText:e};return __assign(__assign({},r),e)}(e,t);break;case p.DisplayKey.expired:n=function(e,t){var r={};{var i,n,a;e.State===l.cardlyticsConstants.showExpiredState&&(i=y(e,t),n="",e.EndDate&&(n=e.EndDate?u.cardlyticsUtil.getCustomDate(e.EndDate,"earned"):""),a=e.OfferedAmount?u.cardlyticsUtil.getOfferValue(e.OfferedAmount,e.IsPercentageOffer)+" back":"",t=f.CardlyticsOfferState.expired,e=f.CardlyticsOfferStateText.expired,e={completedDate:n,offerType:t,isRegular:!1,cashBack:a,offerTypeText:e},r=__assign(__assign({},i),e))}return r}(e,t);break;default:n=function(e,t,r){var i=y(e,t),n=!e.FirstServedEvents,a=l.cardlyticsConstants.badgeText,o=e.ActivatedDate?m.CardlyticsTileAction.addedCTA:m.CardlyticsTileAction.addToCardCTA,s=null!=e.DaysLeft&&e.DaysLeft<=l.cardlyticsConstants.fewBorderDays?l.cardlyticsConstants.fewDaysText:"",c=null!=e.DaysLeft&&e.DaysLeft<=1?l.cardlyticsConstants.lastDay:e.DaysLeft+" "+l.cardlyticsConstants.daysLeft,t=e.OfferedAmount?u.cardlyticsUtil.getOfferValue(e.OfferedAmount,e.IsPercentageOffer)+" back":"",r=function(e){return e==d.CardlyticsPages.OvdSlideIn||e==d.CardlyticsPages.ClassicSlideIn}(r)?f.CardlyticsOfferState.slideIn:"",e=!!e.ActivatedDate,e={isNew:n,badgeText:a,ctaText:o,fewDays:s,daysLeftText:c,cashBack:t,offerType:r,isAddedOffer:e,isRegular:!0};return __assign(__assign({},i),e)}(e,t,i)}return n}(e,a,o,s);0<Object.keys(n).length&&(r=a,i=e,e=n,(n={}).placementId="placement"+t,n.offerTileProps=e,n.offerId=i.OfferId,n.accountId=r.accountId,n.categoryId=i.CategoryId,n=n,c.push(n))}),c},t.getFormattedValues=g}),define("mktui-fx/cardlytics/view/cardlyticstemplate",["require","exports","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/util/Logger","mktui-fx/ads/topic","mktui-fx/util/cors","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/common/AdOperationType","mktui-fx/cardlytics/view/offerViewProps","mktui-fx/cardlytics/model/DisplayKey","mktui-fx/cardlytics/model/CardlyticsOfferState","mktui-fx/util/commonUtils","mktui-fx/cardlytics/model/CardlyticsLocale","mktui-fx/environment/channelEnvironment"],function(e,t,d,l,n,c,a,u,f,p,o,m,y,g,v,h,r){"use strict";function C(e){n.Logger.debugMsg("[AdSummary] Loading template bundle for sixers"),window.require([r.channelEnvironment.getTemplateBundleByChannel("CXO")],e,function(e){n.Logger.errorMsg("Error while loading the Sixers Template",e)})}Object.defineProperty(t,"__esModule",{value:!0});var i=(s.prototype.getOfferTemplate=function(t,r,i){a.CORS(t).then(function(e){e=v.isPlainObject(e)?JSON.stringify(e):e,r(e)},function(e){n.Logger.logErrorMsgObject(o.AdOperationType.cardlytics_content_fail,{cid:t}),i()})},s.prototype.offerTiletemplateHandler=function(e,t,r,i,n){var a=v.Deferred(),o=i===p.CardlyticsPages.OvdSlideIn||i===p.CardlyticsPages.ClassicSlideIn,s=[];return e.language=t,n||(s=m.getOfferViewInfo(r.DisplayOffers,e,y.DisplayKey.available,i)),this.renderOfferCarousel(e,s,o,function(e){a.resolve(e)}),a.promise()},s.prototype.offerDetailsTemplateHandler=function(n,a,o){return __awaiter(this,void 0,void 0,function(){function t(e){r.resolve(e)}var r,i;return __generator(this,function(e){return r=v.Deferred(),o=m.getFormattedValues(o),i=this.offerDetailsParams(o,n,a),this.renderOfferDetail(i,t),[2,r.promise()]})})},s.prototype.offerDetailsParams=function(e,t,r){var i="",n="",a=l.cardlyticsUtil.getCustomDate(e.EndDate,"due");e.EarnedAmount?(i=l.cardlyticsUtil.getOfferValue(e.OfferedAmount,e.IsPercentageOffer,"earned")+" "+u.cardlyticsConstants.backText,a=u.cardlyticsConstants.expiresText+" "+a):n=l.cardlyticsUtil.getOfferValue(e.OfferedAmount,e.IsPercentageOffer)+" "+u.cardlyticsConstants.backText;var o=null!=e.DaysLeft&&e.DaysLeft<=1?u.cardlyticsConstants.lastDay:e.DaysLeft+" "+u.cardlyticsConstants.daysLeft,s=l.cardlyticsUtil.getOfferState(e),c=l.cardlyticsUtil.parsePostMessage(e.PostMessage),r=r===h.CardlyticsLocale.ES?u.cardlyticsConstants.carouselContentLabels.es:u.cardlyticsConstants.carouselContentLabels.en;return{image:d.cardlyticsConfig.cardlyticsImageHost+"?ImageId="+e.ImageId,imageAltText:e.MerchantName,merchantName:e.MerchantName,cashBack:n,redeemedCashBack:i,offerStatus:s.offerState,daysLeft:o,expiration:a,odBodyCopy:c,offerDetailType:e.EarnedAmount?g.CardlyticsOfferState.redeemed:g.CardlyticsOfferState.available,odHeader:u.cardlyticsConstants.odHeader,contentLabels:r}},s.prototype.allOffersTemplateHandler=function(t,r,i,n){var a,e,o=this,s=v.Deferred();return i[n]&&0<i[n].length?(a=[],e=d.cardlyticsConfig.contentServer+d.cardlyticsConfig.cardlyticsOfferTileTemplateUrlEN,r===h.CardlyticsLocale.ES&&(e=d.cardlyticsConfig.contentServer+d.cardlyticsConfig.cardlyticsOfferTileTemplateUrlEN),this.getOfferTemplate(e,function(e){JSON.parse(e).carouselContentLabels,JSON.parse(e).result.offer;a=m.getOfferViewInfo(i[n],t,n),o.loadAllOffersComponent(a,r,function(e){s.resolve(e)})},function(){s.reject(f.CardlyticsErrors.APIFailure)})):s.reject(f.CardlyticsErrors.ZeroOffer),s.promise()},s.prototype.renderGenericError=function(r,n){var a=this;this.getAEMContentLabel().then(function(e){var t=d.cardlyticsConfig.marketingCxoAdsUi;window.requirejs.config({paths:{"marcom-ads-ui-bundles":t}});var i=a.getContentLabels(r,e);C(function(){window.require(["marcom-ads-ui/common/error/componentFactory"],function(e){var t=document.createDocumentFragment(),r={contentLabels:i,errorMessage:i.errorMessage,onComponentReady:function(){n(t)}};e.createErrorComponent(r,t)})})})},s.prototype.renderOfferCarousel=function(e,i,n,a){var o=l.cardlyticsUtil.carouselSummaryInfo(e,n),t=d.cardlyticsConfig.marketingCxoAdsUi;window.requirejs.config({paths:{"marcom-ads-ui-bundles":t}});var s=e.language===h.CardlyticsLocale.ES?u.cardlyticsConstants.carouselContentLabels.es:u.cardlyticsConstants.carouselContentLabels.en;C(function(){window.require(["marcom-ads-ui/merchant-offers/offer-carousel/componentFactory","marcom-ads-ui/mktuiStyles"],function(e,t){var r=document.createDocumentFragment(),t={offerList:i,isSingleAccount:n,offerSummary:o,contentLabels:s,eventSource:c.Topic,styleCss:t,onComponentReady:function(){a(r)}};e.createOfferCarousel(t,r)})})},s.prototype.renderOfferDetail=function(i,n){var e=d.cardlyticsConfig.marketingCxoAdsUi;window.requirejs.config({paths:{"marcom-ads-ui-bundles":e}}),C(function(){window.require(["marcom-ads-ui/merchant-offers/offer-details/componentFactory"],function(e,t){var r=document.createDocumentFragment();i.onComponentReady=function(){n(r)};e.offerDetails(i,r)})})},s.prototype.loadAllOffersComponent=function(i,e,n){var t=e===h.CardlyticsLocale.ES?u.cardlyticsConstants.carouselContentLabels.es:u.cardlyticsConstants.carouselContentLabels.en,r=d.cardlyticsConfig.marketingCxoAdsUi;window.requirejs.config({paths:{"marcom-ads-ui-bundles":r}});var a=this.getContentLabels(e,t);C(function(){window.require(["marcom-ads-ui/merchant-offers/all-offers/componentFactory","marcom-ads-ui/mktuiStyles"],function(e,t){var r=document.createDocumentFragment(),t={offerList:i,contentLabels:a,eventSource:c.Topic,styleCss:t,errorMessage:"",onComponentReady:function(){n(r)}};e.createAllOffers(t,r)})})},s.prototype.getAEMContentLabel=function(){var t=v.Deferred(),r={},e=d.cardlyticsConfig.contentServer+d.cardlyticsConfig.cardlyticsOfferTileTemplateUrlEN;return this.getOfferTemplate(e,function(e){r=JSON.parse(e).carouselContentLabels,t.resolve(r)},function(){t.resolve(r)}),t.promise()},s.prototype.loadAllOffersErrorComponent=function(a,o){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(e){return(r=this).getAEMContentLabel().then(function(e){var t=d.cardlyticsConfig.marketingCxoAdsUi,i=[];window.requirejs.config({paths:{"marcom-ads-ui-bundles":t}});var n=r.getContentLabels(a.cardlyticsRequest.cardlyticsParameter.requiredAdData.locale,e);C(function(){window.require(["marcom-ads-ui/merchant-offers/all-offers/componentFactory","marcom-ads-ui/mktuiStyles"],function(e,t){var r=document.createDocumentFragment(),t={offerList:i,contentLabels:n,eventSource:c.Topic,styleCss:t,errorMessage:n.errorMessage||f.CardlyticsErrors.ChaseOfferNotAvailable,onComponentReady:function(){o(r,a)}};e.createAllOffers(t,r)})})}),[2]})})},s.prototype.loadTotalEarnedComponent=function(n,r,a){var o=this;this.getAEMContentLabel().then(function(e){var t=d.cardlyticsConfig.marketingCxoAdsUi;window.requirejs.config({paths:{"marcom-ads-ui-bundles":t}});var i=o.getContentLabels(r.language,e);C(function(){window.require(["marcom-ads-ui/merchant-offers/offer-rewards/componentFactory","marcom-ads-ui/mktuiStyles"],function(e,t){var r=document.createDocumentFragment(),t={totalEarnedToDate:+n.Enrollment.TotalEarned,contentLabels:i,styleCss:t,onComponentReady:function(){a(r)}};e.createTotalEarned(t,r)})})}),l.cardlyticsUtil.deleteTopic(u.cardlyticsConstants.topicCardlyticsOfferList)},s.prototype.getContentLabels=function(e,t){return e===h.CardlyticsLocale.ES?u.cardlyticsConstants.carouselContentLabels.es:u.cardlyticsConstants.carouselContentLabels.en},s);function s(){}t.CardlyticsTemplate=i}),define("mktui-fx/cardlytics/view/DetailView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/util/cardlyticsutil","mktui-fx/cardlytics/CardlyticsStore"],function(e,t,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.load=function(r,i){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=new n.CardlyticsTemplate,o.cardlyticsStore.offerId=i.requiredAdData.offerId||0,[4,t.offerDetailsTemplateHandler(r.accountId,i.requiredAdData.locale,a.cardlyticsUtil.getAdResponseByOfferId(JSON.parse(o.cardlyticsStore.getOfferList(r.accountId)),i.requiredAdData.offerId))];case 1:return[2,e.sent()]}})})},i);function i(){}t.DetailView=r}),define("mktui-fx/cardlytics/view/TotalRewardsView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/ads/topic","mktui-fx/cardlytics/util/cardlyticsConstants"],function(e,t,u,f,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a.prototype.load=function(n,a,t,o){var s={};s.language=a.requiredAdData.locale;var c=[];a.placementId=a.placementId||"";var d={requestId:a.requestId||""};function l(e){t(e,d,a.placementId)}r.Topic(i.cardlyticsConstants.topicCardlyticsOfferList).subscribe(function(e,t){var r=f.cardlyticsStore.getSecToken(n[0]),i=new u.CardlyticsTemplate;r?(s.accountId=n[0],s.securityToken=r,t.securityToken==s.securityToken&&e?i.loadTotalEarnedComponent(e,s,l):o(a.placementId,c,d)):o(a.placementId,c,d)})},a);function a(){}t.TotalRewardsView=n}),define("mktui-fx/cardlytics/view/DashboardView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/model/CardlyticsOfferState"],function(e,t,s,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.load=function(i,n,a,o){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return t=new s.CardlyticsTemplate,c.cardlyticsStore.offerState=d.CardlyticsOfferState.all,r=!(a.DisplayOffers&&0<a.DisplayOffers.length),[4,t.offerTiletemplateHandler(i,n.requiredAdData.locale,a,o,r)];case 1:return[2,e.sent()]}})})},i);function i(){}t.DashboardView=r}),define("mktui-fx/cardlytics/view/SlideInView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/model/CardlyticsOfferState"],function(e,t,s,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.load=function(i,n,a,o){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return t=new s.CardlyticsTemplate,c.cardlyticsStore.offerState=d.CardlyticsOfferState.all,r=!(a.DisplayOffers&&0<a.DisplayOffers.length),[4,t.offerTiletemplateHandler(i,n.requiredAdData.locale,a,o,r)];case 1:return[2,e.sent()]}})})},i);function i(){}t.SlideInView=r}),define("mktui-fx/cardlytics/view/AllOffersView",["require","exports","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/ads/topic","mktui-fx/cardlytics/util/cardlyticsConstants","mktui-fx/cardlytics/util/cardlyticsutil"],function(e,t,o,s,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(i.prototype.load=function(i,n,a,e){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return t=new o.CardlyticsTemplate,s.Topic(c.cardlyticsConstants.topicCardlyticsOfferList).publish(a,i),r=d.cardlyticsUtil.getViewProperty(n.requiredAdData.categoryId||""),[4,t.allOffersTemplateHandler(i,n.requiredAdData.locale,a,r)];case 1:return[2,e.sent()]}})})},i);function i(){}t.AllOffersView=r}),define("mktui-fx/cardlytics/model/CardlyticsRequest",["require","exports","mktui-fx/cardlytics/model/CardlyticsOfferState"],function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t,r,i,n){return this.type="",this.pageId="",this.pageId=e,this.accountLookupMap=t,this.cardlyticsParameter=r,this.successFunction=i,this.errorFunction=n,this.adParameter={requestId:r.requestId||""},this.accountIds=Object.keys(t),this.state=r.requiredAdData.categoryId?r.requiredAdData.categoryId.toLowerCase():a.CardlyticsOfferState.all,this}t.CardlyticsRequest=r}),define("mktui-fx/cardlytics/view/CardlyticsViewFactory",["require","exports","mktui-fx/cardlytics/api/CardlyticsService","mktui-fx/cardlytics/event/CardlyticsEvents","mktui-fx/cardlytics/AccountHelper","mktui-fx/cardlytics/util/CardlyticsPages","mktui-fx/cardlytics/view/DetailView","mktui-fx/cardlytics/view/TotalRewardsView","mktui-fx/cardlytics/view/DashboardView","mktui-fx/cardlytics/view/SlideInView","mktui-fx/cardlytics/view/AllOffersView","mktui-fx/cardlytics/model/CardlyticsErrors","mktui-fx/cardlytics/view/cardlyticstemplate","mktui-fx/cardlytics/cardlyticsconfig","mktui-fx/cardlytics/CardlyticsStore","mktui-fx/cardlytics/util/cardlyticsConstants"],function(e,t,d,l,u,f,p,m,y,g,v,h,r,i,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(s.prototype.createView=function(e){return this.cardlyticsRequest=e,n.cardlyticsStore.activeAccountIds=e.accountIds,this.type=this.getPageType(e.pageId,e.cardlyticsParameter),this},s.prototype.loadView=function(){return __awaiter(this,void 0,void 0,function(){var t,r,i,n,a,o,s,c=this;return __generator(this,function(e){switch(e.label){case 0:this.eligibleAccounts=[],e.label=1;case 1:switch(e.trys.push([1,23,,24]),this.type){case f.CardlyticsPages.OvdDashboard:case f.CardlyticsPages.ClassicDashboard:case f.CardlyticsPages.OvdSlideIn:case f.CardlyticsPages.ClassicSlideIn:case f.CardlyticsPages.AllOffers:return[3,2];case f.CardlyticsPages.TotalRewards:return[3,15];case f.CardlyticsPages.OfferDetails:return[3,16]}return[3,21];case 2:return t=!1,r=void 0,[4,d.CardlyticsService.shared.getSourceCustomerIdService(this.cardlyticsRequest.accountIds,this.type,this.cardlyticsRequest.cardlyticsParameter).catch(function(e){return c.failureHandler(e,c.type)})];case 3:return i=e.sent(),n=this,[4,d.CardlyticsService.shared.getMultiSecurityTokenService(i).catch(function(e){return c.failureHandler(e,c.type)})];case 4:return n.accountInfo=e.sent(),[4,d.CardlyticsService.shared.getSessionInfoService(this.accountInfo).catch(function(e){return c.cardlyticsRequest.errorFunction(c.cardlyticsRequest.cardlyticsParameter.placementId,c.eligibleAccounts,c.cardlyticsRequest.adParameter)})];case 5:return e.sent()?(o=this.type===f.CardlyticsPages.OvdSlideIn||this.type===f.CardlyticsPages.ClassicSlideIn?this.cardlyticsRequest.cardlyticsParameter.requiredAdData.siteacct:this.type,this.accountInfo=u.AccountHelper.shared.setActiveAccountinfo(this.accountInfo,this.cardlyticsRequest.accountLookupMap,o),[4,d.CardlyticsService.shared.getAllOffersService(this.accountInfo,this.type,this.cardlyticsRequest.state,this.cardlyticsRequest.accountIds).catch(function(e){return c.failureHandler(e,c.type)})]):[3,13];case 6:return(a=e.sent(),this.eligibleAccounts=u.AccountHelper.shared.getEligibleAccounts(this.cardlyticsRequest.cardlyticsParameter.requiredAdData.accountIdList),this.type!==f.CardlyticsPages.OvdDashboard&&this.type!==f.CardlyticsPages.ClassicDashboard)?[3,8]:[4,(new y.DashboardView).load(this.accountInfo,this.cardlyticsRequest.cardlyticsParameter,a,this.type).catch(function(e){return c.failureHandler(e,c.type)})];case 7:return r=e.sent(),[3,12];case 8:return this.type!==f.CardlyticsPages.OvdSlideIn&&this.type!==f.CardlyticsPages.ClassicSlideIn?[3,10]:[4,(new g.SlideInView).load(this.accountInfo,this.cardlyticsRequest.cardlyticsParameter,a,this.type).catch(function(e){return c.failureHandler(e,c.type)})];case 9:return r=e.sent(),[3,12];case 10:return this.type!==f.CardlyticsPages.AllOffers?[3,12]:(o=this.cardlyticsRequest.cardlyticsParameter.requiredAdData,this.categoryList=u.AccountHelper.shared.getCategoryList(a,o.locale,o.categoryId),[4,(new v.AllOffersView).load(this.accountInfo,this.cardlyticsRequest.cardlyticsParameter,a,this.type).catch(function(e){return c.failureHandler(e,c.type)})]);case 11:r=e.sent(),e.label=12;case 12:return this.cardlyticsRequest.successFunction(r,this.cardlyticsRequest.adParameter,this.cardlyticsRequest.cardlyticsParameter.placementId,t,this.eligibleAccounts,this.categoryList),[3,14];case 13:this.failureHandler(h.CardlyticsErrors.initSessionApiFailure,this.type),e.label=14;case 14:return[3,22];case 15:return(new m.TotalRewardsView).load(this.cardlyticsRequest.accountIds,this.cardlyticsRequest.cardlyticsParameter,this.cardlyticsRequest.successFunction,this.cardlyticsRequest.errorFunction),[3,22];case 16:return this.accountInfo=u.AccountHelper.shared.getOfferDetailsAccountInfo(this.cardlyticsRequest.accountIds),[4,l.CardlyticsEvents.shared.elementExpanded(this.cardlyticsRequest.cardlyticsParameter.requiredAdData.offerId,this.accountInfo).catch(function(e){return c.failureHandler(e,c.type)})];case 17:return e.sent()?[4,(new p.DetailView).load(this.accountInfo,this.cardlyticsRequest.cardlyticsParameter).catch(function(e){return c.failureHandler(e,c.type)})]:[3,19];case 18:return s=e.sent(),this.cardlyticsRequest.successFunction(s,this.cardlyticsRequest.adParameter,this.cardlyticsRequest.cardlyticsParameter.placementId),[3,20];case 19:this.cardlyticsRequest.errorFunction(this.cardlyticsRequest.cardlyticsParameter.placementId,this.eligibleAccounts,this.cardlyticsRequest.adParameter),e.label=20;case 20:case 21:return[3,22];case 22:return[3,24];case 23:return s=e.sent(),this.failureHandler(s,this.type),[3,24];case 24:return[2]}})})},s.prototype.getPageType=function(e,t){var r;return this.isOvdDashboard(e,t)?r=f.CardlyticsPages.OvdDashboard:this.isClassicDashboard(e,t)?r=f.CardlyticsPages.ClassicDashboard:this.isOvdSlideInView(e,t)?r=f.CardlyticsPages.OvdSlideIn:this.isClassicSlideInView(e,t)?r=f.CardlyticsPages.ClassicSlideIn:this.isOfferDetails(e,t)?r=f.CardlyticsPages.OfferDetails:this.isAllOffers(e,t)?r=f.CardlyticsPages.AllOffers:this.isTotalRewards(e,t)&&(r=f.CardlyticsPages.TotalRewards),r},s.prototype.isOvdDashboard=function(e,t){return 0<=i.cardlyticsConfig.ovdTagMapCode.indexOf(e)&&!t.requiredAdData.siteacct},s.prototype.isClassicDashboard=function(e,t){return 0<=i.cardlyticsConfig.classicDashboardTagMapCode.indexOf(e)&&!t.requiredAdData.siteacct},s.prototype.isOvdSlideInView=function(e,t){return 0<=i.cardlyticsConfig.ovdTagMapCode.indexOf(e)&&t.requiredAdData.siteacct&&!t.requiredAdData.offerId},s.prototype.isClassicSlideInView=function(e,t){return 0<=i.cardlyticsConfig.classicDashboardTagMapCode.indexOf(e)&&t.requiredAdData.siteacct&&!t.requiredAdData.offerId},s.prototype.isAllOffers=function(e,t){return 0<=i.cardlyticsConfig.seeAllOffersTagMapCode.indexOf(e)&&0<=a.cardlyticsConstants.cardlyticsPlacementId.allOfferPlacementIds.indexOf(t.placementId)},s.prototype.isOfferDetails=function(e,t){return 0<=i.cardlyticsConfig.offerDetailsTagMapCode.indexOf(e)&&t.requiredAdData.offerId},s.prototype.isTotalRewards=function(e,t){return 0<=i.cardlyticsConfig.seeAllOffersTagMapCode.indexOf(e)&&0<=a.cardlyticsConstants.cardlyticsPlacementId.rewardsEarnedPlacementIds.indexOf(t.placementId)},s.prototype.allOfferErrorComponent=function(e,t){t.cardlyticsRequest.successFunction(e,t.cardlyticsRequest.adParameter,t.cardlyticsRequest.cardlyticsParameter.placementId,!0,t.eligibleAccounts)},s.prototype.failureHandler=function(e,t){t===f.CardlyticsPages.AllOffers&&e!==h.CardlyticsErrors.ZeroOffer?(new r.CardlyticsTemplate).loadAllOffersErrorComponent(this,this.allOfferErrorComponent):this.cardlyticsRequest.errorFunction(this.cardlyticsRequest.cardlyticsParameter.placementId,this.eligibleAccounts,this.cardlyticsRequest.adParameter)},s);function s(){}t.CardlyticsViewFactory=o}),define("mktui-fx/cardlytics/cardlyticsinit",["require","exports","mktui-fx/cardlytics/view/CardlyticsViewFactory","mktui-fx/cardlytics/model/CardlyticsRequest"],function(e,t,s,c){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0});var i=new(r.prototype.loadCDLXOffer=function(r,i,n,a,o){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return t=new c.CardlyticsRequest(r,i,n,a,o),(new s.CardlyticsViewFactory).createView(t).loadView(),[2]})})},r);t.cardlyticsInit={loadCardlyticsOffer:i.loadCDLXOffer}}),define("mktui-fx/cardlytics/model/CardlyticsRequest.interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/cardlytics/model/TokenResponse",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("mktui-fx/util/detectAdBlocker",["require","exports","mktui-fx/common/adConfig"],function(e,t,r){"use strict";function i(){r.adConfig.adBlockerDetected=function(){var e,t="N";try{(e=document.createElement("div")).innerHTML="&nbsp;",e.className="adsbox",document.body.appendChild(e),0===e.offsetHeight&&(t="Y")}catch(e){t="error: "+e}finally{e&&e.remove()}return t}()}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAdBlocker=function(){"complete"===document.readyState?i():document.onreadystatechange=i}}),define("slotplacement/service",["mktui-fx/ads/client/client.service"],function(e){return e.clientService}),define("slotplacement/contentprovider",["mktui-fx/ads/content/content.service"],function(e){return e.contentService}),define("slotplacement/topic",["mktui-fx/ads/topic"],function(e){return e.Topic}),define("slotplacement/placement",["mktui-fx/ads/placement/placement"],function(e){return e.Slot}),define("mktui-fx/adframeworkclient",["mktui-fx/ads/client/adframeworkclient"],function(e){return e.MktAdLoader}),define("slotplacement/cardlyticsinit",["mktui-fx/cardlytics/cardlyticsinit"],function(e){return e.cardlyticsInit}),require(["mktui-fx/util/detectAdBlocker"],function(e){e.detectAdBlocker()});