function getTabbables(a){return Array.prototype.slice.call(a.querySelectorAll("input,select,textarea,button,a,[tabindex]")).filter(function(b){if(b.hasAttribute("tabindex")){var c=parseInt(b.getAttribute("tabindex"),10);if(isNaN(c)||c<0){return false}return true}else{return true}})}function simulateTab(e,c,b){var d=getTabbables(c);var a=d.indexOf(e);if(a===0&&b==-1){return}if(a==d.length-1&&b==1){return}var f=d[a+b];f.focus()}$("#Prods").on("focus",function(){$(".hdrNavMenu").triggerHandler("mouseover")});$("#Prods").on("keydown",function(a){if(a.which==9&&a.shiftKey){$(".hdrNavMenu").triggerHandler("mouseout")
}return true});$("#Mfrs").on("focus",(function(){$(".hdrNavMenu").triggerHandler("mouseout")}));$("#ProdsHome").on("keydown",function(a){if(a.which==9&&!a.shiftKey){$(".hdrNavMenuLst1 a").first().trigger("focus").triggerHandler("mouseover");return false}return true});$(".hdrNavMenu a").on("focus",function(){$(this).parent("li").triggerHandler("mouseover")});$(document).on("keydown",function(a){if(a.which!=40){return true}if($(".hdrNavMenuLst1").is(":visible")&&$(":focus").length===0){$(".hdrNavMenuLst1 a").first().trigger("focus").triggerHandler("mouseover");
return false}return true});window._hookedUpAfterMegaMenu=null;function getLastVisibleTabbable$InNavBar(){var b=getTabbables(document.getElementById("header-navigation"));var c=b.length-1;var a;while(c>=0){$thisItem=$(b[c]);if($thisItem.is(":visible")){a=$thisItem;break}c-=1}return a}function hookUpTabAroundMegaMenu(){$lastVisibleTabbableInNavBar=getLastVisibleTabbable$InNavBar();if($lastVisibleTabbableInNavBar.length>0){var a=getTabbables(document.getElementById("ProdMenuSideArea"));window._hookedUpAfterMegaMenu=a[0];
var b=$(window._hookedUpAfterMegaMenu);$lastVisibleTabbableInNavBar.on("keydown",function(c){if(c.which==9&&!c.shiftKey){b.trigger("focus");return false}return true});b.on("keydown",function(c){if(c.which==9&&c.shiftKey){$lastVisibleTabbableInNavBar.trigger("focus");return false}return true})}}if($("#ProdsHome").length>0){hookUpTabAroundMegaMenu()}window.correctTabbingAroundMenu=function(){if(window._hookedUpAfterMegaMenu){$lastVisibleTabbableInNavBar=getLastVisibleTabbable$InNavBar();var a=$._data($lastVisibleTabbableInNavBar.get(0),"events");
var b=$._data(window._hookedUpAfterMegaMenu,"events");if(a.keydown&&b.keydown){$lastVisibleTabbableInNavBar.off("keydown",a.keydown[0].handler);$(window._hookedUpAfterMegaMenu).off("keydown",b.keydown[0].handler);hookUpTabAroundMegaMenu()}}};$("#mega-new-products").on("keydown",(function(f){var c=$(":focus");if(c.length>0&&c.get(0).id=="mega-new-products"){if(f.which==9){if(f.shiftKey){$("#new_prods a").first().trigger("focus");return false}else{$("#mega-new-products a").first().trigger("focus");return false
}}else{return true}}else{if(f.which==9){var d=getTabbables($("#mega-new-products").get(0));var b=d.indexOf(f.target);if(b==-1){return true}var a;if(f.shiftKey){if(b==0){a=$("#new_prods a").first()}else{a=$(d[b-1])}}else{if(b==d.length-1){a=$($(".hdrNavMenuLst1 a").get(1))}else{a=$(d[b+1])}}a.first().trigger("focus");return false}else{if(f.which==37){$(".hdrNavMenuLst1 a").first().trigger("focus")}else{return true}}}}));$(".hdrNavMenu").on("keydown",function(g){if(g.which==38||g.which==39||g.which==40||g.which==27||g.which==9){}else{return true
}if(g.which==27){$(".hdrNavMenu").triggerHandler("mouseout");$(".hdrNavLnks ul a").first().trigger("focus")}var d=$(":focus");if(d.length==0){return}if(g.which==9){if($("#ProdsHome").length>0&&d.parent().next().length==0&&d.parent().parent().hasClass("hdrNavMenuLst1")){$(".hdrNavMenu").triggerHandler("mouseout");$(".hdrNavLnks ul a").first().trigger("focus");return false}if(d.parent().next().length==0&&d.parent().parent().hasClass("hdrNavMenuLst1")&&!g.shiftKey){$(".hdrNavMenu").triggerHandler("mouseout");return true
}if($(".hdrNavMenuLst1 a").get(0)==d.get(0)&&g.shiftKey){$(".hdrNavMenu").triggerHandler("mouseout");$("#header-navigation a").first().trigger("focus");return false}return true}if(g.which==38){if($(".hdrNavMenuLst1 a").get(0)==d.get(0)){$(".hdrNavMenu").triggerHandler("mouseout");$(".hdrNavLnks ul a").first().trigger("focus")}else{simulateTab(d.get(0),this,-1)}}else{if(g.which==40){simulateTab(d.get(0),this,1)}else{if(g.which==39){var c=d.parent("li").data("submenuId");var b=document.getElementById(c);var f=getTabbables(b);
f[0].focus()}}}return false});$(".catFlyouts").on("keydown",function(d){if(d.which==37||d.which==38||d.which==39||d.which==40||d.which==27||d.which==9){}else{return true}if(d.which==27){$(".hdrNavMenu").triggerHandler("mouseout");$(".hdrNavLnks ul a").first().trigger("focus");return false}var c=$(":focus");if(c.length==0){return true}if(d.which==9){if(c.parent().next().length===0){var f=c.parents(".subCategoryFlyout");var a=$('li[data-submenu-id="'+f.attr("id")+'"]');a.next().find("a").trigger("focus");return false
}else{if(c.parent().prev().length===0&&d.shiftKey){var f=c.parents(".subCategoryFlyout");var a=$('li[data-submenu-id="'+f.attr("id")+'"]');a.find("a").trigger("focus");return false}else{return true}}}var b=c.parents(".listSubCats");if(b.length==0){if(c.parents("#new_prods").length>0){return true}else{return true}}if(d.which==38){simulateTab(c.get(0),b.get(0),-1)}else{if(d.which==40){simulateTab(c.get(0),b.get(0),1)}else{if(d.which==39){}else{if(d.which==37){var f=c.parents(".subCategoryFlyout");var a=$('li[data-submenu-id="'+f.attr("id")+'"]');
a.find("a").trigger("focus")}}}}return false});