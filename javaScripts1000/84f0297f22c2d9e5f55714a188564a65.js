(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1367:function(e,t,n){var l=n(759);e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,t,l,i,u){var r,a=e.lambda,c=e.escapeExpression,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="list-item '+c(a(null!=t?o(t,"type"):t,t))+'">\n  <span class="filter-tag filter-'+c(a(null!=t?o(t,"type"):t,t))+'" title="'+c(a(null!=t?o(t,"value"):t,t))+" "+c(a(null!=t?o(t,"type"):t,t))+' filter">\n    <span class="search-tag">'+c(a(null!=t?o(t,"value"):t,t))+'</span>\n    <a class="filter-action close-icon" href="#" title="Remove '+c(a(null!=t?o(t,"value"):t,t))+" "+c(a(null!=t?o(t,"type"):t,t))+' filter">'+(null!=(r=e.invokePartial(n(1368),t,{name:"icons/24px/cancel",data:u,helpers:l,partials:i,decorators:e.decorators}))?r:"")+"</a>\n  </span>\n</div>\n"},usePartial:!0,useData:!0})},1368:function(e,t,n){var l=n(759);e.exports=(l.default||l).template({1:function(e,t,n,l,i){var u,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' role="img" aria-label="'+e.escapeExpression("function"==typeof(u=null!=(u=r(n,"aria-label")||(null!=t?r(t,"aria-label"):t))?u:e.hooks.helperMissing)?u.call(null!=t?t:e.nullContext||{},{name:"aria-label",hash:{},data:i,loc:{start:{line:1,column:124},end:{line:1,column:138}}}):u)+'"'},3:function(e,t,n,l,i){return' aria-hidden="true"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,i){var u,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"'+(null!=(u=r(n,"if").call(null!=t?t:e.nullContext||{},null!=t?r(t,"aria-label"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i,loc:{start:{line:1,column:82},end:{line:1,column:173}}}))?u:"")+'><path fill="#FFF" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>\n'},useData:!0})},257:function(e,t,n){"use strict";n.r(t);var l=n(1),i=n.n(l),u=n(5),r=n.n(u),a=n(4),c=n(773),o=n(1367),s=n.n(o);function d(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var h=function(e){return e.split(",").map((function(e){return e.trim()})).filter((function(e){return e.match(/^[a-zA-Z]+$/)}))},p=function(e,t){return t.indexOf(e)>-1},f=function(e,t){var n={type:t,value:e};return i()(i()(s()(n)).html())},v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$searchByIngredientForm=t,this.$tagListInclude=t.find(".tag-list-include"),this.$tagListExclude=t.find(".tag-list-exclude"),this.$searchButton=t.find(".search-button"),this.$keywordInput=t.find(".keywords"),this.$includeButton=t.find(".add-include"),this.$excludeButton=t.find(".add-exclude"),this.$includeInput=t.find(".include-ingredients"),this.$excludeInput=t.find(".exclude-ingredients"),this.included=[],this.excluded=[]}var t,n,l;return t=e,(n=[{key:"handleEvents",value:function(){r()(a.Q).subscribe(this.onKeyUp.bind(this)),r()(a.o).subscribe(this.onClick.bind(this))}},{key:"onClick",value:function(e,t){return Object(c.a)(t,this.$searchButton)?(e.preventDefault(),this.submit()):Object(c.a)(t,this.$includeButton)?(e.preventDefault(),this.addIncludedItem()):Object(c.a)(t,this.$excludeButton)?(e.preventDefault(),this.addExcludedItem()):t.closest(".filter-included").length?(e.preventDefault(),e.stopPropagation(),this.removeIncludedItem(t.closest(".filter-included"))):t.closest(".filter-excluded").length?(e.preventDefault(),e.stopPropagation(),this.removeExcludedItem(t.closest(".filter-excluded"))):null}},{key:"onKeyUp",value:function(e,t){return Object(c.a)(t,this.$keywordInput)&&(""===this.$keywordInput.val().trim()?this.$keywordInput.closest(".primary").addClass("error"):this.$keywordInput.closest(".primary").removeClass("error")),null}},{key:"addToIncluded",value:function(e){var t=this,n=e.filter((function(e){return!p(e,t.included)}));this.included=this.included.concat(n),n.forEach((function(e){return t.$tagListInclude.append(f(e,"included"))})),this.$tagListInclude.css("margin-bottom","32px")}},{key:"addToExcluded",value:function(e){var t=this,n=e.filter((function(e){return!p(e,t.excluded)}));this.excluded=this.excluded.concat(n),n.forEach((function(e){return t.$tagListExclude.append(f(e,"excluded"))})),this.$tagListExclude.css("margin-bottom","32px")}},{key:"addIncludedItem",value:function(){this.addToIncluded(h(this.$includeInput.val())),this.$includeInput.val(null)}},{key:"addExcludedItem",value:function(){this.addToExcluded(h(this.$excludeInput.val())),this.$excludeInput.val(null)}},{key:"removeIncludedItem",value:function(e){var t=e.find(".search-tag").text();e.remove(),this.removeFromIncluded(t)}},{key:"removeExcludedItem",value:function(e){var t=e.find(".search-tag").text();e.remove(),this.removeFromExcluded(t)}},{key:"removeFromIncluded",value:function(e){this.included.splice(this.included.indexOf(e),1)}},{key:"removeFromExcluded",value:function(e){this.excluded.splice(this.excluded.indexOf(e),1)}},{key:"submit",value:function(){var e=h(this.$keywordInput.val()).join(",");if(e.length>0){this.$keywordInput.closest(".primary").removeClass("error"),this.addIncludedItem(),this.addExcludedItem();var t=this.included.join(","),n=this.excluded.join(","),l="".concat("https://www.allrecipes.com/search/results/","?WT=").concat(e,"&IngIncl=").concat(t,"&ingExcl=").concat(n,"&sort=re");window.location.href=l}else this.$keywordInput.closest(".primary").addClass("error"),this.$keywordInput.focus()}},{key:"init",value:function(){this.$keywordInput.val(null),this.$includeInput.val(null),this.$excludeInput.val(null),this.handleEvents()}}])&&d(t.prototype,n),l&&d(t,l),e}();t.default=function(){var e=new v(i()(".component.search-by-ingredient"));r()(a.V).subscribe((function(){return e.init()}))}},773:function(e,t,n){"use strict";t.a=function(e,t){return e.is(t)||t.has(e).length>0}}}]);
//# sourceMappingURL=52-52.js.map