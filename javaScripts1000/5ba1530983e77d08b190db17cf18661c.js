(window.klaviyoOnsiteJSONP=window.klaviyoOnsiteJSONP||[]).push([[15],{"../../node_modules/core-js/modules/_fails-is-regexp.js":function(e,t,n){var r=n("../../node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},"../../node_modules/core-js/modules/_string-context.js":function(e,t,n){var r=n("../../node_modules/core-js/modules/_is-regexp.js"),o=n("../../node_modules/core-js/modules/_defined.js");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},"../../node_modules/core-js/modules/es6.function.name.js":function(e,t,n){var r=n("../../node_modules/core-js/modules/_object-dp.js").f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n("../../node_modules/core-js/modules/_descriptors.js")&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},"../../node_modules/core-js/modules/es6.regexp.match.js":function(e,t,n){"use strict";var r=n("../../node_modules/core-js/modules/_an-object.js"),o=n("../../node_modules/core-js/modules/_to-length.js"),i=n("../../node_modules/core-js/modules/_advance-string-index.js"),a=n("../../node_modules/core-js/modules/_regexp-exec-abstract.js");n("../../node_modules/core-js/modules/_fix-re-wks.js")("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var d,m=[],f=0;null!==(d=a(u,c));){var v=String(d[0]);m[f]=v,""===v&&(u.lastIndex=i(c,o(u.lastIndex),l)),f++}return 0===f?null:m}]}))},"../../node_modules/core-js/modules/es6.string.starts-with.js":function(e,t,n){"use strict";var r=n("../../node_modules/core-js/modules/_export.js"),o=n("../../node_modules/core-js/modules/_to-length.js"),i=n("../../node_modules/core-js/modules/_string-context.js"),a="".startsWith;r(r.P+r.F*n("../../node_modules/core-js/modules/_fails-is-regexp.js")("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},"../onsite-profiling/src/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"configureRumProfiler",(function(){return se})),n.d(t,"createBatchedTelemetricsLogger",(function(){return $})),n.d(t,"logToTelemetrics",(function(){return Z}));n("../../node_modules/core-js/modules/es6.regexp.replace.js"),n("../../node_modules/core-js/modules/es6.regexp.match.js"),n("../../node_modules/core-js/modules/es6.function.name.js"),n("../../node_modules/core-js/modules/es6.string.starts-with.js");var r,o={t:!1,i:!1,o:15e3},i=window,a=i.console,s=document,u=i.navigator,c=i.performance,l=function(){return u.deviceMemory},d=function(){return u.hardwareConcurrency},m=function(){return c&&!!c.getEntriesByType&&!!c.now&&!!c.mark},f="4g",v=!1,p=function(){return!!(d()&&d()<=4)||!!(l()&&l()<=4)},g=function(e,t){return!!p()||!!["slow-2g","2g","3g"].includes(e)||!!t},h={u:!1},y=function(e){s.hidden&&(e(),h.u=s.hidden)},j=function(e){return parseFloat(e.toFixed(2))},_=function(e){return"number"!=typeof e?null:j(e/Math.pow(1024,2))},T=[1e3,2500],b=[2500,4e3],k=[100,300],w=[.1,.25],S=[300,600],x={fp:T,fcp:T,lcp:b,lcpFinal:b,fid:k,fidVitals:k,cls:w,clsFinal:w,tbt:S,tbt5S:S,tbt10S:S,tbtFinal:S},E=function(e,t){return x[e]?t<=x[e][0]?"good":t<=x[e][1]?"needsImprovement":"poor":null},P=function(e,t,n){var r;r=function(){h.u&&e.indexOf("Final")<0||!o.analyticsTracker||o.analyticsTracker({metricName:e,data:t,eventProperties:n||{},navigatorInformation:u?{deviceMemory:l()||0,hardwareConcurrency:d()||0,serviceWorkerStatus:"serviceWorker"in u?u.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:p(),isLowEndExperience:g(f,v)}:{},vitalsScore:E(e,t)})},"requestIdleCallback"in i?i.requestIdleCallback(r,{timeout:3e3}):r()},O=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=j(t[e]))})),P(e,t,n)},I=function(e,t,n){var r=j(e);r<=o.o&&r>=0&&P(t,r,n)},B={},F={value:0},M={value:0},W={value:0},D={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},L={value:0},C=function(e){var t=e.pop();t&&!t.s&&t.value&&(F.value+=t.value)},G={},N=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){a.warn("Perfume.js:",e)}return null},R=function(e){G[e]&&G[e].disconnect(),delete G[e]},q=function(e){var t=e.pop();t&&(I(t.processingStart-t.startTime,"fidVitals",{performanceEntry:t}),I(t.duration,"fid",{performanceEntry:t})),R(1),I(W.value,"lcp"),G[3]&&"function"==typeof G[3].takeRecords&&G[3].takeRecords(),I(F.value,"cls"),I(L.value,"tbt"),setTimeout((function(){I(L.value,"tbt5S")}),5e3),setTimeout((function(){I(L.value,"tbt10S"),O("dataConsumption",D.value)}),1e4)},z=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<M.value)){var t=e.duration-50;t>0&&(L.value+=t)}}))},J=function(e){e.forEach((function(e){"first-paint"===e.name?I(e.startTime,"fp"):"first-contentful-paint"===e.name&&(M.value=e.startTime,I(M.value,"fcp"),G[4]=N("longtask",z),R(0))}))},A=function(e){var t=e.pop();t&&(W.value=t.renderTime||t.loadTime)},U=function(e){e.forEach((function(e){e.identifier&&I(e.startTime,e.identifier)}))},V=function(e){e.forEach((function(e){if(o.t&&O("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;D.value[e.initiatorType]+=t,D.value.total+=t}}))},H=function(){G[2]&&(I(W.value,"lcpFinal"),R(2)),G[3]&&("function"==typeof G[3].takeRecords&&G[3].takeRecords(),I(F.value,"clsFinal"),R(3)),G[4]&&(I(L.value,"tbtFinal"),R(4))},K=function(e){var t="usageDetails"in e?e.usageDetails:{};O("storageEstimate",{quota:_(e.quota),usage:_(e.usage),caches:_(t.caches),indexedDB:_(t.indexedDB),serviceWorker:_(t.serviceWorkerRegistrations)})},Q=function(){function e(e){void 0===e&&(e={}),this.l="5.3.0",o.analyticsTracker=e.analyticsTracker,o.t=!!e.resourceTiming,o.i=!!e.elementTiming,o.o=e.maxMeasureTime||o.o,m()&&("PerformanceObserver"in i&&(G[0]=N("paint",J),G[1]=N("first-input",q),G[2]=N("largest-contentful-paint",A),o.t&&N("resource",V),G[3]=N("layout-shift",C),o.i&&N("element",U)),void 0!==s.hidden&&s.addEventListener("visibilitychange",y.bind(this,H)),O("navigationTiming",function(){if(!m())return{};var e=c.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart}}()),O("networkInformation",function(){if("connection"in u){var e=u.connection;return"object"!=typeof e?{}:(f=e.effectiveType,v=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),u&&u.storage&&"function"==typeof u.storage.estimate&&u.storage.estimate().then(K))}return e.prototype.start=function(e){m()&&!B[e]&&(B[e]=!0,c.mark("mark_"+e+"_start"),h.u=!1)},e.prototype.end=function(e,t){void 0===t&&(t={}),m()&&B[e]&&(c.mark("mark_"+e+"_end"),delete B[e],O(e,j(function(e){c.measure(e,"mark_"+e+"_start","mark_"+e+"_end");var t=c.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e)),t))},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete B[e],c.clearMarks&&(c.clearMarks("mark_"+e+"_start"),c.clearMarks("mark_"+e+"_end"))},e}(),X=n("../config/lib/client.json"),Y=(n("../../node_modules/core-js/modules/es6.promise.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/unfetch/dist/unfetch.mjs")),Z=function(e){var t=e.sample,n=void 0===t?1:t,r=e.metricGroup,o=e.events;return Math.random()<=n?Object(Y.a)("".concat(X.API.telemetricsUrl,"/v1/metric"),{method:"POST",body:JSON.stringify({metricGroup:r,events:o})}):Promise.resolve()},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.batchInterval,n=void 0===t?2e3:t,r={},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.beacon,n=void 0!==t&&t;for(var o in r)if(r.hasOwnProperty(o)){var i={metricGroup:o,events:r[o]};n?window.navigator.sendBeacon("".concat(X.API.telemetricsUrl,"/v1/metric"),JSON.stringify(i)):Z(i)}r={}},i=function(e){var t=e.metricGroup,n=e.events,o=e.sample,i=void 0===o?1:o;if(Math.random()>i)return r;var a={};for(var s in r)r.hasOwnProperty(s)&&(a[s]=r[s]);return a[t]=a[t]?a[t].concat(n):n,a},a=setInterval(o,n);return document.addEventListener("visibilitychange",(function(){"visibilityState"in document&&"hidden"===document.visibilityState&&"navigator"in window&&"sendBeacon"in window.navigator?(o({beacon:!0}),clearInterval(a)):"visible"===document.visibilityState&&(a=setInterval(o,n))})),function(e){var t=e.batch,n=void 0===t||t,o=e.sample,a=void 0===o?1:o,s=e.metricGroup,u=e.events;n?r=i({sample:a,metricGroup:s,events:u}):Z({sample:a,metricGroup:s,events:u})}};function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=(ee(r={},"app",1),ee(r,"onsite",.01),r),ne=["main.js","klaviyo.js"],re=["cls","fid","fcp","fp","lcp","resourceTiming","tbt"],oe=["resourceTiming"],ie={cls:"cumulativeLayoutShift",fid:"firstInputDelay",fcp:"firstContentfulPaint",fp:"firstPaint",lcp:"largestContentfulPaint",resourceTiming:"resourceTiming",tbt:"totalBlockingTime"},ae=function(e,t,n){if("app"===e){var r=function(e){return-1!==re.indexOf(e)}(t),o="resourceTiming"!==t||n.name.startsWith(X.fender.publicPath);return r&&o}var i=function(e){return-1!==oe.indexOf(e)}(t),a="resourceTiming"!==t||n.name.startsWith(X.onsiteModules.publicPath);return i&&a},se=function(e){if(!X.onsiteModules.profilingEnabled)return null;var t=$(),n="",r=te[e];return{perfume:new Q({resourceTiming:!0,analyticsTracker:function(o){var i=o.data,a=o.metricName;if(ae(e,a,i)){var s="rum-metrics-".concat(e),u=ie[a],c=function(e,t){for(var n=[],r=0;r<e.length;r+=1){var o=e[r],i={metric:t?"".concat(o.metric,".").concat(t):o.metric,statsd:o.statsd,sample:o.sample};n.push(i)}return n}(function(e,t,n){return"resourceTiming"===e?[{metric:e,statsd:{type:"timing",value:t.duration},sample:n}]:[{metric:e,statsd:{type:"timing",value:t},sample:n}]}(u,i,r),n);if("resourceTiming"===u){var l=function(e,t,n){for(var r=t,o=function(e){var t=e.name.match(/.*\/([^?]+)(\?)?/);return t?t[1]:e.name}(r),i=0;i<ne.length;i+=1){var a=ne[i];if(-1!==o.indexOf(a))return{metric:"".concat(e,"ByFile.").concat(o.replace(".","-")),statsd:{type:"timing",value:r.duration},sample:n}}return null}(u,i,r);l&&c.push(l)}t({metricGroup:s,events:c,sample:r})}}}),updateCurrentRouteName:function(e){n=e}}}}}]);
