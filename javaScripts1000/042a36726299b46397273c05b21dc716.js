;/* Version 59191791453ae6311081a09b4cf33c2d v:21.7.0.3493, c:d626be58889f8c74a2ebed6f32c5f9673d093698, b:21.7.0.3493 */(function(){/*


 Copyright (c) 2013, AppDynamics, Inc. All rights reserved.

 Derivative of Google Episodes:

 Copyright 2010 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 See the source code here:
 http://code.google.com/p/episodes/
*/
new function(){var g=window.ADRUM;if(g&&g.q&&!0!==window["adrum-disable"]){var x=window.console,A=x&&"function"==typeof x.log?x:{log:function(){}},t=this&&this.Tc||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b])};return function(l,a){function b(){this.constructor=l}d(l,a);l.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}}();(function(d){(function(l){l.toJSONString=
function(a){function b(d){return d.replace(/\s/g,"")===e}var k={a:[1,2,3,"str"]},e='{"a":[1,2,3,"str"]}';if("undefined"!==typeof JSON&&JSON&&l.isFunction(JSON.stringify)&&b(JSON.stringify(k)))return JSON.stringify(a);if("undefined"!==typeof Object&&Object&&l.isFunction(Object.toJSON)&&b(Object.toJSON(k)))return Object.toJSON(a);d.log("M261");return null};l.kd=function(a,b,k){var e=a,c=k;"xhr"===k&&(e=document.createElement("div"),a.appendChild(e),c="xhr_"+a.getElementsByTagName("div").length);a=document.createElement("p");
a.innerHTML="Script loaded from "+d.conf.adrumExtUrl+". Metrics collected are:";e.appendChild(a);a=document.createElement("table");a.id="ADRUM_"+c;var c=document.createElement("tbody"),h;for(h in b){k=document.createElement("tr");var l=document.createElement("td");l.innerHTML=h;l.className="name";var f=document.createElement("td");f.innerHTML=String(b[h]);f.className="value";k.appendChild(l);k.appendChild(f);c.appendChild(k)}a.appendChild(c);e.appendChild(a)};l.dumpObject=function(){function d(b,
k){try{if("object"!=typeof b)return String(b);if(0<=l.Zb(k,b))return"Already visited";k.push(b);var e;if(l.isArray(b)){for(var c="[ ",h=0;h<b.length;h++)0!=h&&(c+=", "),c+=d(b[h],k);e=c+" ]"}else{var c="{ ",h=!0,n;for(n in b)h?h=!1:c+=", ",c+=d(n,k)+" => "+d(b[n],k);e=c+" }"}return e}catch(f){return"dumpObject failed: "+f}}return function(b){return d(b,[])}}();l.Zb=l.isFunction(Array.prototype.indexOf)?function(d,b){return d.indexOf(b)}:function(d,b){for(var k=0;k<d.length;k++)if(d[k]==b)return k;
return-1};l.compareWindows=function(d,b){return d==b};l.zd=function(d,b,k,e,c){if(!l.isDefined(b))return b;if(l.isArray(b)){d=[];for(var h=0,n=b.length;h<n;h++)d[h]=l.zd(h,b[h],k,e,c);return d}if(l.isFunction(b))return b;if(l.isObject(b)){d={};for(h in b)l.hasOwnPropertyDefined(b,h)&&(d[k(h)]=c&&c(h)?b[h]:l.zd(h,b[h],k,e,c));return d}return e(d,b)};l.bm=function(d){var b=[],k;for(k in d)l.hasOwnPropertyDefined(d,k)&&b.push([k,d[k]]);return b};l.nn=function(){try{localStorage.setItem("try","try");
var d=localStorage.getItem("try");localStorage.removeItem("try");return"try"===d}catch(b){return!1}};l.mn=function(){try{var d=l.toJSONString({v:1});return 1===JSON.parse(d).v}catch(b){return!1}};l.on=function(){return l.isFunction(window.postMessage)};l.Xj=function(d,b){var k=document.createElement("div");k.innerHTML='<iframe id="'+b+'" src='+d+' width="0" height="0" tabindex="-1" title="empty" style="display: none;"></iframe>';document.body.appendChild(k);return document.getElementById(b)};l.nh=
function(d,b){l.isDefined(b)&&(d.parentPageName=b)};l.Fd=function(d){return l.isNumber(d)&&isFinite(d)&&Math.floor(d)===d}})(d.utils||(d.utils={}))})(g||(g={}));(function(d){(function(d){d.zh=function(d){return/^[0-9]+$/.test(d)?Number(d):null};d.jg=function(d){return"number"===typeof d&&!isNaN(d)&&isFinite(d)}})(d.utils||(d.utils={}))})(g||(g={}));(function(d){(function(l){function a(c){var e=c.split("\r\n"),k=/^\s*ADRUM_(\d+): (.+)\s*$/i;c=[];for(var b=0;b<e.length;b++){var l=e[b];try{var a=k.exec(l);
a&&c.push([Number(a[1]),a[2]])}catch(g){d.exception(g,"M264",l)}}Array.prototype.sort.call(c,function(d,c){return d[0]-c[0]});a=[];for(e=0;e<c.length;e++)a.push(c[e][1]);return a}var b=d.utils.hasOwnPropertyDefined,k=null,e=null;l.Vf=function(){e||(e=l.Dg(l.Vd(l.cookieMetadataChunks),l.Vd(d.footerMetadataChunks)));return e};l.getPageGUID=function(){var c=d.monitor.DOMEventsMonitor,e=d.utils.isObject(c.currentBasePage)&&d.utils.isFunction(c.currentBasePage.guid);if(!k){var b=l.Vf();k=b&&b.clientRequestGUID||
(e?c.currentBasePage.guid():d.utils.generateGUID())}return k};l.Zk=function(c){c=a(c);d.log("M262",c);return l.Dg(l.Vd(c))};l.Dg=function(c,e){function k(c){for(var e=0;e<c.length;e++){var h=c[e];h!=b&&0>d.utils.Zb(v,h)&&v.push(h)}}if(!c||0>=c.Ra.length)return null;e||(e=c);var b;if(0<e.Ra.length){if(b=e.Ra[0],0>d.utils.Zb(c.Ra,b))return null}else return d.error("M263"),null;var a=e.serverSnapshotType||c.serverSnapshotType,g=e.hasEntryPointErrors||c.hasEntryPointErrors,v=[];k(c.Ra);k(e.Ra);var s=
{clientRequestGUID:b,btGlobalAccountName:c.btGlobalAccountName};0<v.length&&(s.otherClientRequestGUIDs=v);0<l.Cg(c.btTime,e.btTime).length&&(s.btTime=l.Cg(c.btTime,e.btTime));null!==a&&(s.serverSnapshotType=a);null!==g&&(s.hasEntryPointErrors=g);return s};l.Cg=function(d,e){for(var k=d.concat(e),l={},a={},g=0;g<k.length;g++){var v=k[g];v.id in l||(l[v.id]=-1);l[v.id]=Math.max(l[v.id],v.duration);v.id in a||(a[v.id]=-1);a[v.id]=Math.max(a[v.id],v.ert)}var k=[],s;for(s in l)b(l,s)&&k.push({id:s,duration:l[s],
ert:a[s]});return k};l.Vd=function(c){if(!d.utils.isArray(c))return null;for(var e=[],k=null,b=[],l=null,a=null,g=0;g<c.length;g++){var s=c[g];if("string"!==typeof s)return null;s=s.replace(/^"|"$/g,"");s=decodeURIComponent(s).split(",")[0].replace(/^\s+|\s+$/g,"").split(":");if(2===s.length){var r=s[1];switch(s[0]){case "clientRequestGUID":case "g":e.push(r);break;case "btId":case "i":b.push({id:r,duration:-1,ert:-1});break;case "btDuration":case "d":if(0===b.length)return null;s=d.utils.zh(r);if(!d.utils.jg(s)||
-1>s)return null;b[b.length-1].duration=s;break;case "btERT":case "e":if(0===b.length)return null;s=d.utils.zh(r);if(!d.utils.jg(s)||-1>s)return null;b[b.length-1].ert=s;break;case "serverSnapshotType":case "s":l=r;break;case "globalAccountName":case "n":k=r;break;case "hasEntryPointErrors":case "h":a=r}}}return 0===e.length?null:{Ra:e,btGlobalAccountName:k,btTime:b,serverSnapshotType:l,hasEntryPointErrors:a}};l.dp=a})(d.correlation||(d.correlation={}))})(g||(g={}));(function(d){var l=d.conf||(d.conf=
{});l.ho=3E3;l.useDebugBeaconParams=d.isDebug;l.mj=1E3;l.Ki=2;l.Ji=5;l.Di=5;l.Ei=20;l.Ne=5E3;l.mb=512;l.hi=10;l.gi=64;l.Vi=10;l.Ui=10;l.Qi=300;l.Ni=2048;l.nb=2048;l.ob=760;l.vg={eumAppKey:"ky",userPageName:"un",clientRequestGUID:"cg",otherClientRequestGUIDs:"og",baseGUID:"bg",parentGUID:"mg",parentPageUrl:"mu",parentPageType:"mt",parentLifecyclePhase:"pp",pageType:"pt",pageUrl:"pu",pageReferrer:"pr",pageTitle:"pl",pageName:"pn",httpHeaders:"hh",parameter:"pa",navOrXhrMetrics:"mn",cookieMetrics:"mc",
backTimeGap:"bd",resourceTimingInfo:"rt",userData:"ud",userDataLong:"udl",userDataDouble:"udd",userDataBoolean:"udb",userDataDate:"udt",errors:"er",ajaxError:"ae",xhrStatus:"xs",btTime:"bt",btGlobalAccountName:"btgan",serverSnapshotType:"ss",hasEntryPointErrors:"se",dataType:"dt",geoCountry:"gc",geoRegion:"gr",geoCity:"gt",localIP:"lp",ip:"ip",BEACONS:"B",ver:"vr",eom:"em",agentId:"ai",rootGUID:"rg",events:"es",guids:"gs",urlParts:"up",sequenceId:"si",eventType:"et",eventGUID:"eg",parentType:"at",
serverMetadata:"sm",eventUrl:"eu",line:"ln",message:"dm",duration:"dn",id:"id",ert:"ert",parentUrl:"au",parentPageName:"an",geo:"ge",metrics:"mx",timestamp:"ts",country:"c",region:"r",city:"t",method:"md",clientId:"ci"}})(g||(g={}));(function(d){d=d.beacons||(d.beacons={});d.numBeaconsSent=0;d.beaconsSent=[]})(g||(g={}));(function(d){(function(l){var a=function(){function b(){}b.prototype.send=function(k,e,c){e=(e?d.conf.beaconUrlHttps:d.conf.beaconUrlHttp)+d.conf.corsEndpointPath+"/"+d.conf.appKey+
"/adrum";var b=d.utils.toJSONString(k);navigator.sendBeacon&&c&&b?(navigator.sendBeacon(e,b),d.isDebug&&l.beaconsSent.push(k),l.numBeaconsSent+=1):(d.utils.isFunction(d.xhrConstructor)&&d.utils.isFunction(d.xhrOpen)?(c=new d.xhrConstructor,d.xhrOpen.call(c,"POST",e)):(c=new XMLHttpRequest,c.open("POST",e)),c.setRequestHeader("Content-type","text/plain"),null!=b&&(d.utils.isFunction(d.xhrConstructor)&&d.utils.isFunction(d.xhrSend)?d.xhrSend.call(c,b):c.send(b),d.log("M265",e),d.log("\n"),d.log("<hr/>"),
d.isDebug&&l.beaconsSent.push(k),l.numBeaconsSent+=1))};return b}();l.bi=a})(d.beacons||(d.beacons={}))})(g||(g={}));g||(g={});(function(d){var l=function(){function l(d,k,e){this.lc=d;this.pl=k;this.me=e}l.prototype.wd=function(){try{return l.Qf(this.pl.ADRUM)}catch(b){return d.error("M266"),l.Qf(d)}};l.Qf=function(d){return d.correlation.getPageGUID()};return l}();d.Yh=l})(g||(g={}));(function(d){d.beacons||(d.beacons={})})(g||(g={}));(function(d){(function(d){var a=function(){function b(){this.bc=
[];this.ld={}}b.prototype.gc=function(k){if(!k)return"";if(d.hasOwnPropertyDefined(this.ld,k))return this.ld[k];var e=this.bc.length;this.ld[k]=e;this.bc[e]=k;return e};return b}();d.Me=a})(d.utils||(d.utils={}))})(g||(g={}));(function(d){(function(l){var a=d.utils.map,b=function(){function d(){}d.hn=function(d){d=(d||"").match(/([^:\/?#]+:\/\/)?([^?#]+)?(\?[^#]*)?(#[\s\S]*)?/);var c={};d[1]&&(c.protocol=d[1].substring(0,d[1].length-3));d[2]&&(c.path=d[2]);d[3]&&(c.Im=d[3]);d[4]&&(c.anchor=d[4]);
return c};d.lk=function(e,c){var b=d.hn(e),l="";b.protocol&&(l+=c.gc(b.protocol),l+="://");b.path&&(l+=a(b.path.split("/"),c.gc,c).join("/"));return l+=a([b.Im,b.anchor],function(d){return d?d[0]+c.gc(d.slice(1)):""},c).join("")};d.jk=function(d,c){return""+c.gc(d)};return d}();l.ze=b})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){(function(l){(function(l){function b(){var c=null,k=null;try{c=localStorage[e]}catch(b){}if(c)try{c=k=JSON.parse(c),d.utils.isObject(c)&&d.utils.isNumber(c[n])&&
-1<c[n]?f=k:d.error("M267")}catch(l){d.log(l,"M268");try{delete localStorage[e]}catch(h){d.log(h,"M269")}}}function k(){try{var k=d.channel,b=f[c]||f[h],l=k&&k.ba&&k.ba.$&&k.ba.$.id||(d.utils.isString(b)?b:d.utils.generateGUID());f[c]=f[h]=l;localStorage[e]=d.utils.toJSONString(f)}catch(a){}}var e="ADRUM_CLIENTINFO",c="agentId",h="clientId",n="seqId",f;b();f||(f={seqId:0});k();l.Ik=function(){b();var d=f[n]++;k();return d}})(l.of||(l.of={}))})(d.mh||(d.mh={}))})(g||(g={}));(function(d){(function(l){var a=
function(){function b(){this.urlCapture={filterURLQuery:!1};this.Wg=/;jsessionid=[^/?]+/;l.mergeJSON(this.urlCapture,d.conf.userConf.urlCapture);l.isBoolean(this.urlCapture.filterURLQuery)||l.isArray(this.urlCapture.filterURLQuery)||(d.log("M270"),this.urlCapture.filterURLQuery=!1)}b.fn=function(d){for(var e=0,c=0;c<d.length;c++)e=(e<<5)-e+d.charCodeAt(c),e|=0;return e};b.prototype.Uk=function(d){var e="",c,b;if(!l.isString(d))return"";c=d.indexOf("?")+1;0<c&&(b=d.indexOf("#"),0>b?e=d.substring(c):
c<=b&&(e=d.substring(c,b)));return e};b.prototype.qk=function(d){var e="",c=this.urlCapture.filterURLQuery,b={},a=0,f,g,p;if(!l.isString(d)||""===d)return"";if(!1===c)return d;f=this.Uk(d);if(""===f)return d;if(l.isArray(c)){for(p=0;p<c.length;p++)b[c[p]]=!0;c=f+"&";for(p=0;p<c.length;p++)switch(c[p]){case "=":g=c.substring(a,p);break;case "&":case ";":g=g||c.substring(a,p),p++,b[g]||(e+=c.substring(a,p)),a=p,g=null}e=e.substring(0,e.length-1)}""==e&&(f="?"+f);return d.replace(f,e)};b.prototype.Aa=
function(d){if(null===d||void 0===d)return null;if(""===d)return"";var e=d.match(this.Wg),c=d;if(null!=e){var b=d.indexOf("?");if(0>b||b>e.index)c=d.replace(this.Wg,"")}return c=this.qk(c)};b.prototype.Df=function(d){if(null===d||void 0===d)return null;var e=d.indexOf("?"),c=d.indexOf("#");0>e&&(e=Number.MAX_VALUE);0>c&&(c=Number.MAX_VALUE);return d.substring(0,Math.min(e,c))};b.prototype.om=function(d){if(null===d||void 0===d)return null;var e=this.Df(d);d=b.fn(d.substring(e.length));return e+(d?
"?hash="+d:"")};return b}();l.lo=a;l.ca=new a})(d.utils||(d.utils={}))})(g||(g={}));(function(d){(function(l){(function(l){var b=function(){function b(e,c,k){var l=this;this.Mm=0;this.Zd=[];this.Yf=!1;this.fl=k;d.utils.addEventListener(window,"message",function(d){l.tm(d)});this.el=d.utils.Xj(c,e)}b.prototype.tm=function(e){var c;try{if(c=JSON.parse(e.data),"ADRUM_XD"!==c.name)d.log("M271");else if(!0===c.success)if(-1===c.id&&"iframe-ready"===c.data)this.Yf=!0,this.fl();else{if(this.Zd[c.id])this.Zd[c.id](c.data)}else d.error("M272",
e.data)}catch(b){d.log("M273",b)}};b.prototype.send=function(e,c,b,k){if(this.Yf){var l=this.Mm++;this.Zd[l]=k;this.el.contentWindow.postMessage(d.utils.toJSONString({id:l,action:e,key:c,value:b}),"*")}};b.prototype.generateGUID=function(d,c){this.send("generateGUID",d,null,c)};return b}();l.di=b})(l.yh||(l.yh={}))})(d.Ph||(d.Ph={}))})(g||(g={}));(function(d){(function(l){var a=function(){function e(){this.df=new b(e.Uh);this.Oh=new b(e.Wh);this.Xn=new k(e.Vh)}e.prototype.init=function(c){this.channel=
c;d.utils.nn()&&d.utils.mn()?d.utils.on()&&e.Vl()?this.yn():this.Hh():e.Eg=!0};e.prototype.Hh=function(){var c=this.df.load();e.Tl(c)||(c={ver:d.conf.agentVer,id:d.utils.generateGUID()},this.df.save(c));e.$=c};e.prototype.yn=function(){var c=this,b=this.Oh.load();e.Ul(b)?e.$=b:(d.log("M274"),this.Xn.load(function(b){e.og(b)?(b={ver:d.conf.agentVer,id:b,ttl:(new Date).getTime()+e.ii},c.Oh.save(b),e.$=b,d.log("M275")):d.log("M276")}),d.utils.tryPeriodically(e.Zc,function(){return c.isReady()},function(){return c.onReady()},
function(){return c.Rd()}))};e.Vl=function(){return d.conf.userConf&&d.conf.userConf.xd&&d.conf.userConf.xd.enable};e.Tl=function(d){return d&&d.id&&0<d.id.length};e.Ul=function(d){return d&&e.og(d.id)&&d.ttl>(new Date).getTime()};e.og=function(c){return d.utils.isString(c)&&0<c.length&&0===c.indexOf("XD_")};e.prototype.isReady=function(){return e.Eg||d.utils.isDefined(e.$)};e.prototype.onReady=function(){this.channel.onResolverReady()};e.prototype.Rd=function(){d.log("M277");this.Hh();this.channel.onResolverReady()};
e.Zc=function(d){return 10<d?-1:[1,50,100,500][d-1]||1E3};return e}();a.Uh="ADRUM_AGENT_INFO";a.Wh="ADRUM_XD_AGENT_INFO";a.Vh="ADRUM_XD_AGENT_ID";a.ii=6048E5;a.Eg=!1;l.ba=a;var b=function(){function e(d){this.cf=d}e.prototype.load=function(){var c=null;try{var e=localStorage.getItem(this.cf);e&&(c=JSON.parse(e))}catch(b){d.exception(b,"M278")}return c};e.prototype.save=function(c){try{var e=d.utils.toJSONString(c);e&&localStorage.setItem(this.cf,e)}catch(b){d.exception(b,"M279")}};return e}(),k=function(){function e(d){this.zj=
d}e.prototype.load=function(c){var e=this;try{var b=new d.Ph.yh.di("cross-domain-store-server-iframe",d.conf.adrumXdUrl,function(){b.generateGUID(e.zj,c)})}catch(k){d.exception(k,"M280")}};return e}()})(d.channel||(d.channel={}))})(g||(g={}));(function(d){(function(l){var a=d.utils.isString,b=d.utils.isNumber,k=function(){function e(){}e.prototype.uc=function(c,b,k){c={ver:d.conf.agentVer,dataType:"R",rootGUID:k.wd(),events:c};d.channel.ba.$&&d.channel.ba.$.id&&(c.agentId=d.channel.ba.$.id);b&&(c.geo=
b);return e.Cm(c)};e.Cm=function(c){d.isDebug||(c=e.Tj(c));return c};e.Tj=function(c){var k=new d.utils.Me,n=new d.utils.Me;c=d.utils.zd(null,c,e.yd,function(c,g){if(!a(g))return g;if(e.Sl(c)){var p=e.Ml(c)&&b(d.conf.userConf.maxUrlLength)?d.conf.userConf.maxUrlLength:d.conf.mb;g=e.ie(g,p);g=l.ze.lk(g,k)}else g=e.Ll(c)?e.ie(g,d.conf.ob):e.ie(g,d.conf.Ni);e.Gl(c)&&(g=l.ze.jk(g,n));return g},e.em);c[e.yd("guids")]=n.bc;c[e.yd("urlParts")]=k.bc;return c};e.Sl=function(d){return"eventUrl"==d||"parentUrl"==
d||"pageReferrer"==d||"pageUrl"==d||"u"==d};e.Gl=function(d){return"eventGUID"==d||"parentGUID"==d||"rootGUID"==d||"clientRequestGUID"==d};e.Ll=function(d){return"userPageName"==d};e.ie=function(d,e){return d.length>e?d.substr(0,e-3)+"...":d};e.Ml=function(d){return"eventUrl"==d||"parentUrl"==d||"pageReferrer"==d};e.yd=function(c){if(d.conf.useDebugBeaconParams)return c;var e=d.conf.vg[c];return"undefined"===typeof e?c:e};e.em=function(d){d=""+d;return 0===d.indexOf("userData")||"parameter"===d};
return e}();l.ai=k})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){(function(l){var a=function(){function b(){}b.prototype.send=function(d,e){for(var c=0;c<d.length;c++)this.Xm(d[c],e)};b.prototype.Xm=function(b,e){var c=(e?d.conf.beaconUrlHttps:d.conf.beaconUrlHttp)+d.conf.imageEndpointPath,a=document.createElement("img");a.K=!0;try{a.src=c+b}catch(n){}d.isDebug&&l.beaconsSent.push(b);l.numBeaconsSent+=1};return b}();l.zi=a})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){(function(d){d.Jb=
function(d,b){if(3>=b)return"...";d.length>b&&(d=d.substring(0,b-3)+"...");return d};d.Dh=function(d,b){if(3>=b)return"...";d.length>b&&(d=d.substring(0,(b-3)/2)+"..."+d.substring(d.length-(b-3)/2,d.length));return d};d.un=function(a,b){a.length<=b||(a=d.Jb(a,b-1),a+=":");return a};d.sn=function(a,b,k,e,c,h){a=d.un(a,e);k=d.Jb(k,c);a.length+b.length+k.length>h-3&&(b=d.Jb(b,h-3-a.length-k.length));return 0<k.length?a+"//"+b+":"+k:a+"//"+b};d.tn=function(a,b,k){a=d.map(a,function(c){return d.Dh(c,b)});
if(a.length>k){var e=a[0];a=a.slice(a.length-k);a.unshift("...");""==e&&a.unshift(e)}return a};d.vn=function(a,b,k,e,c){e=d.sn(a.protocol,a.hostname,a.port,e,c,b);k--;c=d.Jb(a.search,b);k--;var h=d.Jb(a.hash,b);k--;a=a.pathname.split("/");var n="";0<a.length&&(n=a.pop(),n=d.Dh(n,b),k--);a=d.tn(a,b,k);return 0==a.length?e+n+c+h:e+a.join("/")+"/"+n+c+h}})(d.utils||(d.utils={}))})(g||(g={}));(function(d){(function(d){var a=function(){function d(){}d.Dd=function(){for(var k=0;k<d.Fe.length;k++)d.sa[d.Fe[k]]=
d.Z.ti;for(k=0;k<d.De.length;k++)d.sa[d.De[k]]=d.Z.mi;d.sa.js=d.Z.gj;d.sa.css=d.Z.CSS;d.sa.svg=d.Z.ij;d.sa.html=d.Z.Ee;d.sa.htm=d.Z.Ee};d.rd=function(d){return d.duration?d.duration:d.responseEnd&&d.startTime?d.responseEnd-d.startTime:-1};d.Tf=function(k,e){function c(c){var e=Object.keys(d.Z).map(function(c){return d.Z[c]});return c&&-1<e.indexOf(c)}var l,a=k.pathname;return a&&-1!=(l=a.lastIndexOf("."))?d.sa[a.substring(l+1,a.length).toLowerCase()]||(c(e)?e:d.Z.OTHER):c(e)?e:d.Z.OTHER};return d}();
a.Z={ti:"img",gj:"script",CSS:"css",ij:"svg",Ee:"html",mi:"font",OTHER:"other"};a.Fe="bmp gif jpeg jpg png webp".split(" ");a.De=["ttf","woff","otf","eot"];a.sa={};d.pb=a;a.Dd()})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(d){var a=function(){function d(k){function e(d){c.marks.push(0==k[d]?-1:Math.round(k[d]-c.Hg))}this.marks=[];var c=this;this.Hg=k.startTime;this.Cl(k)?(this.Gf=d.Ae,e("startTime"),e("fetchStart")):(this.Gf=d.Ue,e("startTime"),e("redirectStart"),e("redirectEnd"),
e("fetchStart"),e("domainLookupStart"),e("domainLookupEnd"),e("connectStart"),e("secureConnectionStart"),e("connectEnd"),e("requestStart"),e("responseStart"));e("responseEnd")}d.Kk=function(){var k={};k[d.Ue]=d.fj;k[d.Ae]=d.ci;return k};d.prototype.Cl=function(d){return this.Ia(d.redirectStart)&&this.Ia(d.redirectEnd)&&(this.Ia(d.domainLookupStart)||this.Ia(d.domainLookupEnd)||this.Ia(d.connectStart)||this.Ia(d.connectEnd))&&this.Ia(d.secureConnectionStart)};d.prototype.Ia=function(d){return!d||0===
d};return d}();a.Ue=1;a.Ae=2;a.fj="startTime redirectStart redirectEnd fetchStart dnsLookupStart dnsLookupEnd connectStart secureConnectionStart connectEnd requestStart responseStart responseEnd".split(" ");a.ci=["startTime","fetchStart","responseEnd"];d.Te=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(d){var a=function(){function d(){}d.prototype.Dc=function(d,e){if(d)return d.slice(0,e)};return d}();d.oi=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(d){var a=
function(){function b(){}b.prototype.Dc=function(b,e){if(b){if(b.length<=e)return b;for(var c=[],a=0;a<b.length;a++)c.push({$d:b[a],index:a});c.sort(function(c,e){return-(d.pb.rd(c.$d)-d.pb.rd(e.$d))});c=c.slice(0,e);c.sort(function(d,c){return d.index-c.index});for(var n=[],a=0;a<c.length;a++)n.push(c[a].$d);return n}};return b}();d.We=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(d){var a=function(){function b(){}b.prototype.Dc=function(b,e){if(b){if(b.length<=e)return b;for(var c=
1,a=Math.floor(Number.MAX_VALUE/4),n=b.length;c<a;){for(var g=b.length-1;0<=g;g--)if(d.pb.rd(b[g])<c&&(b.splice(g,1),n--),n<=e)return b;c*=4}return(new d.We).Dc(b,e)}};return b}();d.ej=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(l){var a=d.utils.hasOwnPropertyDefined,b=function(){function e(c,b,a){this.version=2;this.resourceTimingInfo={};this.ag={};this.bg={};this.ah={};this.bh={};this.ae=[];this.tj=function(c,e,b){if(c&&e&&0<e.length){this.qn=c;for(var a=new k,h=new k,n=0;n<
e.length;n++){var g=e[n],f=d.utils.parseURI(d.utils.ca.Aa(g.name)),y=g.initiatorType,C=l.pb.Tf(f,y),B=new l.Te(g);this.ae.push({u:this.wn(f),i:a.Of(this.bg,y),r:h.Of(this.bh,C),f:B.Gf,o:this.Bk(0===n&&g.isBase,B.Hg,c,b),m:B.marks,e:d.utils.isDefined(g.encodedBodySize)?g.encodedBodySize:-1,d:d.utils.isDefined(g.decodedBodySize)?g.decodedBodySize:-1,s:d.utils.isDefined(g.transferSize)?g.transferSize:-1,p:d.utils.isDefined(g.nextHopProtocol)?g.nextHopProtocol:""})}}};var g=e.Ck();this.Oj(g,c);c=this.Tm(g,
c);this.tj(b||d.monitor.navMonitor.navTiming&&d.monitor.navMonitor.navTiming.navigationStart,c,a);this.clearResourceTimings()}e.Dd=function(){var c=d.conf.userConf&&d.conf.userConf.resTiming&&d.conf.userConf.resTiming.sampler;e.Sm=c&&"FirstN"==c?new l.oi:c&&"TopN"==c?new l.We:new l.ej};e.prototype.Zf=function(d,e){d[e]=d[e]?d[e]+1:1};e.prototype.wn=function(c){return d.utils.vn(c,"number"===typeof d.conf.userConf.maxResUrlSegmentLength?d.conf.userConf.maxResUrlSegmentLength:d.conf.gi,"number"===typeof d.conf.userConf.maxResUrlSegmentNumber?
d.conf.userConf.maxResUrlSegmentNumber:d.conf.hi,d.conf.Vi,d.conf.Ui)};e.prototype.Oj=function(d,e){d&&this.$f(d);if(e&&0<e.length)for(var b=0;b<e.length;b++)this.$f(e[b])};e.prototype.$f=function(e){var b=d.utils.parseURI(d.utils.ca.Aa(e.name));e=e.initiatorType;b=l.pb.Tf(b,e);this.Zf(this.ag,e);this.Zf(this.ah,b)};e.prototype.Tm=function(c,b){if(b&&0<b.length){var k=d.conf.userConf&&d.conf.userConf.resTiming&&d.conf.userConf.resTiming.maxNum||d.conf.Qi;c&&k--;b=e.Sm.Dc(b,k);c&&b.unshift(c)}return b};
e.prototype.Bk=function(e,b,k,l){return e?1:d.utils.isDefined(l)?Math.round(b+k-l):Math.round(b)};e.prototype.build=function(){return 0==this.ae.length?null:{v:this.version,ic:this.ag,it:this.bg,rc:this.ah,rt:this.bh,f:l.Te.Kk(),t:this.qn,r:this.ae}};e.Ck=function(){var e=d.monitor.navMonitor.navTiming,b=null;if(e){var b={},k;for(k in e)a(e,k)&&(b[k]=e[k]);b.initiatorType="other";b.name=document.URL;b.navigationStart&&!b.startTime&&(b.startTime=b.navigationStart);b.isBase=!0}return b};e.prototype.clearResourceTimings=
function(){d.conf.userConf&&d.conf.userConf.resTiming&&d.conf.userConf.resTiming.clearResTimingOnBeaconSend&&d.monitor.resourceMonitor.clearResourceTimings()};return e}();l.ResourceTimingInfoBuilder=b;var k=function(){function d(){this.hm=1}d.prototype.Of=function(d,e){d[e]||(d[e]=this.hm++);return d[e]};return d}();b.Dd()})(d.events||(d.events={}))})(g||(g={}));(function(d){d.events||(d.events={})})(g||(g={}));(function(d){(function(l){var a=function(){function b(){}b.prototype.H=function(b,e){void 0===
e&&(e={});var c={eventGUID:b.guid(),eventType:b.type(),eventUrl:d.utils.ca.Aa(b.url()||document.URL),timestamp:d.utils.now()};b.type()!==d.EventType.PageView&&d.utils.mergeJSON(c,{parentGUID:b.parentGUID()||d.correlation.getPageGUID(),parentUrl:d.utils.ca.Aa(b.parentUrl()||document.URL),parentType:b.parentType()||(d.utils.compareWindows(top,window)?d.EventType.PageView:d.EventType.IFRAME)});var a=d.EventType[b.type()],a=l.ia.bl(a,d.conf.userConf,e,d.conf.nb),g;for(g in a)c[g]=a[g];return c};return b}();
l.kb=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(l){var a=d.utils.isNumber,b=d.utils.isString,k=d.utils.isObject,e=d.utils.Fd,c=d.utils.isBoolean,h=function(){function e(){}e.Pd=function(e,c){var b=!1;if(k(e)){var l=d.utils.toJSONString(e);if(!l||l.length<=c)b=!0}return b};e.ge=function(d,c,k){if(b(c))if(c.length>k)e.cb(d,k,c.length);else return c;else e.Kd(d,"string")};e.xc=function(d,c){return function(b,l,a){if(k(l)){var h,g;for(g in l)d(l[g])?(h=h||{},h[g]=l[g]):e.Kd(b,c,
g);if(h){if(e.Pd(h,a))return h;e.cb(b,a)}}else e.Kd(b,"object")}};e.Kd=function(e,c,b){d.log("M282",e,c,b?", field name "+b:"")};e.cb=function(e,c,b){d.log("M283",e,b?" ("+b+" exceeds "+c+")":"")};return e}();h.bl=function(e,c,b,l){if(c=c&&c.userEventInfo&&c.userEventInfo[e]){try{var a=d.utils.isFunction(c)?c.call(null,b):c}catch(g){d.exception(g,"M284",e),A.error("Error detected executing adrum userEventInfo")}if(k(a))return h.On(a,l)}};h.On=function(d,e){var c={},b;for(b in h.Ef)if(b in d){var k=
h.Ef[b](b,d[b],e);k&&(c[b]=k)}return c};h.rm=h.xc(b,"string");h.qm=h.xc(e,"integer");h.Fg=h.xc(a,"number");h.pm=h.xc(c,"boolean");h.Ef={userPageName:h.ge,userData:h.rm,userDataLong:h.qm,userDataDouble:h.Fg,userDataBoolean:h.pm,userDataDate:h.Fg};l.ia=h})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(l){var a=d.utils.isDefined,b=function(b){function e(){return null!==b&&b.apply(this,arguments)||this}t(e,b);e.setPageName=function(d){e.Ba=d};e.addUserData=function(d,b){e.Kb=e.Kb||{};e.Kb[d]=
b};e.prototype.H=function(c){var h=b.prototype.H.call(this,c||new l.PageView),g=this.Nk(),f=this.Dk();d.conf.viz&&(g&&d.utils.kd(document.getElementById(d.conf.viz),g,"navtime"),d.utils.kd(document.getElementById(d.conf.viz),f,"cookie"));f.PLC=1;g&&(g.PLC=1,g.VCT=d.utils.isDefined(c)?e.Uc(c.vct):0,d.conf.spa2&&(g.PCT=d.utils.isDefined(c)?e.Uc(c.pct):0));g&&g.DPT&&0>=g.DPT&&(g.DPT=0,this.zn(g,f));d.monitor.ErrorMonitor.hadErrors&&(f.EPM=1,g&&(g.EPM=1));d.utils.mergeJSON(h,{eventGUID:d.correlation.getPageGUID(),
eventType:d.utils.compareWindows(top,window)?d.EventType.PageView:d.EventType.IFRAME,cookieMetrics:f});c=-1;g&&g.timestamp?c=g.timestamp:f&&f.timestamp&&(c=f.timestamp);0<c&&d.utils.mergeJSON(h,{timestamp:c});g&&(h.metrics=g);document.referrer&&null!==document.referrer&&0<document.referrer.length&&(h.pageReferrer=d.utils.ca.Aa(document.referrer));g=e.Rk();0<g.length&&(h.pageTitle=g);g=d.correlation.Vf();null!==g&&(h.serverMetadata=g);g=0<d.monitor.resourceMonitor.basePageResourceBuffer.length?(new l.ResourceTimingInfoBuilder(d.monitor.resourceMonitor.basePageResourceBuffer)).build():
null;null!==g&&(h.resourceTimingInfo=g);!a(h.userData)&&a(e.Kb)&&(l.ia.Pd(e.Kb,d.conf.nb)?h.userData=e.Kb:l.ia.cb("userData",d.conf.nb));!a(h.userPageName)&&a(e.Ba)&&(l.ia.ge("userPageName",e.Ba,d.conf.ob)?h.userPageName=e.Ba:l.ia.cb("userPageName",d.conf.ob));h.backTimeGap=d.conf.backTimeGap;e.userPageName=h.userPageName;return h};e.prototype.zn=function(d,e){for(var b="PLT FBT FET DRT PRT DOM".split(" "),k=0;k<b.length;k++){var l=b[k];!e[l]&&d[l]&&(e[l]=d[l])}};e.prototype.Nk=function(){if(!d.monitor.navMonitor.navTiming)return null;
var c={},b=e.Rf(d.monitor.navMonitor.navTiming,c,"NT"),k=l.metricSpec[d.EventType.PageView],a;for(a in k){var g=k[a];b.add(g.name,g.start,g.end)}c.timestamp=d.monitor.navMonitor.navTiming.navigationStart-d.conf.backTimeGap;return c};e.prototype.Dk=function(){var c={};d.commands.marks&&(e.Rf(d.commands.marks,c,"CK").add("PLT","starttime","onload").add("FBT","starttime","firstbyte").add("FET","firstbyte","onload").add("DRT","firstbyte","onready").add("PRT","onready","onload").add("DOM","starttime",
"onready"),c.timestamp=d.commands.marks.starttime?d.commands.marks.starttime:d.commands.marks.firstbyte,c.timestamp-=d.conf.backTimeGap);return c};e.Rk=function(){var e=d.conf.userConf,e=e&&e.page,b;b=e&&"captureTitle"in e?e.captureTitle:!0;var k,l;e&&(k="title"in e,l=e.title);k=b?k?d.utils.isFunction(l)?l():l:document.title:"";if(d.utils.isString(k))return k;d.log("M285",typeof k);return""};e.rj=function(e,b,k,l,a,g){b=l[b];k=l[k];b&&k?a[e]=k-b:d.log("M286",g,e,b,k)};e.Uc=function(e){return d.utils.isDefined(e)?
e+d.conf.backTimeGap:e};e.An=function(b,k){"PLT"!=b&&"FBT"!=b&&"SCT"!=b&&"DOM"!=b||!d.utils.isNumber(k[b])||(k[b]=e.Uc(k[b]))};e.Rf=function(d,b,k){var l={add:function(a,g,v){e.rj(a,g,v,d,b,k);e.An(a,b);return l}};return l};return e}(l.kb);l.ta=b})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(l){(function(l){function b(c,l){var a,f=l[c],p=typeof f;r.push(c);var B=s[r.join(".")];if(d.utils.isFunction(B))a=B(f);else switch(p){case "string":a="number"==typeof B?m(f,e,B):e(f);break;case "number":a=
n(f);break;case "object":if(f)if(d.utils.isArray(f))a=g(f,!1,!1);else{a=[];for(var w in f)v(f,w)&&(p=b(w,f))&&(k(c)&&"timestamp"==w||a.push({pc:w,v:p}));if(k(c)){for(f=0;f<a.length;f++)a[f]=a[f].pc+e(":")+a[f].v;a=e("{")+a.join(e(","))+e("}")}else{for(f=0;f<a.length;f++)w=a[f],p=w.pc,d.conf.useDebugBeaconParams||((B=d.conf.vg[w.pc])?p=B:d.error("M287",w.pc)),a[f]=p+"="+w.v;a=a.join("&")}}else a=null}r.pop();return a}function k(d){return"navOrXhrMetrics"==d||"cookieMetrics"==d}function e(d){return"undefined"===
typeof d||null===d||0===d.length?null:encodeURIComponent(d)}function c(d){return encodeURIComponent(encodeURIComponent(d))}function g(d,c,l){void 0===c&&(c=!1);void 0===l&&(l=!0);if(0===d.length)return null;var k=[];if(c)k=d;else for(c=0;c<d.length;c++)k.push(b(c,d));return e("[")+k.join(e(","))+e(l?">":"]")}function n(d){d=Math.round(d);d<l.Re&&(d=l.Re);d>l.Oe&&(d=l.Oe);return e(d)}function f(d,b){if(d>b||0>d)d=l.Zi;return e(d)}function m(e,b,c,l){void 0===l&&(l=!0);if("undefined"===typeof e||null===
e||0===e.length)return null;var k=3<=c?"...":"";d.assert(c>=k.length);for(var a=!1,g=null;;){try{g=b(e);if(null===g)return null;if(g.length<=c)break}catch(h){}var f;a?f=e.length-1:(a=!0,f=c-=k.length);var n=l?0:Math.max(e.length-f,0);e=e.substr(n,f)}a&&(g=l?g+k:k+g);return g}function p(e,b,c){if(0==c)return l.Qc;if(b<e)return 0;b=l.Qc+(b-e)/c;d.assert(b>=l.Qc);d.log("M288",e,b);return b}var v=d.utils.hasOwnPropertyDefined;l.Zi=-1;l.mb=180;l.Si=50;l.Ti=50;l.Mi=40;l.Qc=50;l.Ai=50;l.Qe=128;l.Hi=30;l.Ii=
30;l.Gi=30;l.Oi=8;l.Re=-99999;l.Oe=999999;l.Bi=2E3;l.Ri=2;l.Ci=99999999;var s={".pageUrl":l.mb,".parentPageUrl":l.mb,".pageReferrer":l.mb,".pageTitle":l.Si,".userPageName":l.Ti,".geoCountry":l.Hi,".geoRegion":l.Ii,".geoCity":l.Gi,".localIP":l.Oi,".otherClientRequestGUIDs":function(d){d=d||[];var e=d.slice(0,l.Ri);return g(e,!1,e.length<d.length)},".btTime":function(e){e=e||[];for(var b=e.slice(0,d.conf.Di),c=[],k=0;k<b.length;k++){var p=b[k];c.push(g([f(Number(p[0]),l.Ci),n(p[1]),n(p[2])],!0,!1))}return g(c,
!0,b.length<e.length)},".ajaxError":function(d){return g([c(d[0]),m(d[1],c,l.Ai)],!0,!1)},".userData":function(d){d=d||[];for(var e=!1,b=0,k=[],f=0;f<d.length;f++){var n=d[f];k[f]=g([c(n[0]),c(n[1])],!0,!1);b+=k[f].length;if(b>l.Qe){e=!0;break}}for(;;){d=g(k,!0,e);if(null===d||d.length<=l.Qe)return d;k.pop();e=!0}}},r=[];l.ik=function(e,k){void 0===k&&(k=!0);r=[];var f=[];e.errors&&(f=e.errors,e.errors=null);var s=b("",{"":e});if(f&&0<f.length){for(var v=p(k?870:354,l.Bi-s.length,f.length),B=[],w=
0;w<f.length;w++){var t=f[w],x=d.utils.ca.Df(d.utils.ca.Aa(t[0]));B.push(g([m(x,c,l.Mi,!1),d.utils.Fd(t[1])?n(t[1]):-1,m(t[2],c,v)],!0,!1))}f=g(B,!0,!1);s+="&errors="+f}return s};l.Fo=b;l.op=e;l.element=c;l.xo=g;l.zo=n;l.cp=f;l.truncate=m;l.kp=p})(l.Le||(l.Le={}))})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){(function(l){var a=d.utils.hasOwnPropertyDefined,b=d.utils.Zb,k=function(){function e(){}e.prototype.uc=function(b,k,a){for(var g=[],m=[],p=null,v=[],s=0;s<b.length;s++){var r=b[s];
if(r.eventType===d.EventType.Error){var t=r;m.push([r.eventUrl+"",d.utils.Fd(t.line)?t.line:void 0,t.message+""])}else{if(r.eventType===d.EventType.PageView||r.eventType===d.EventType.IFRAME)p=r;v.push(r)}}b=v;if(0<m.length)for(p&&(p.errors=m.splice(0,d.conf.Ki));0<m.length;)r=m.splice(0,d.conf.Ji),p=e.vm.H(),p.errors=r,p.isErrorEvent=!0,p.cookieMetrics=null,p.metrics=null,p.resourceTimingInfo=null,b.push(p);for(m=0;m<b.length;m++)r=b[m],d.log("M289"),r.resourceTimingInfo=null,e.vk(r,k,a),p=e.transform(r),
g.push(l.Le.ik(p,r.isErrorEvent));return g};e.vk=function(e,b,l){e.ver=this.ui;e.rootGUID=l.wd();e.geo=b;e.dataType="R";e.eom=1;e.eumAppKey=d.conf.appKey;e.PLC=1};e.transform=function(d){var b={};e.Kh("",{"":d},b);return b};e.Kh=function(c,l,k){l=l[c];var g=e.sg[c];if("metrics"===c||"cookieMetrics"===c)k[g]=l;else if("btTime"===c&&d.utils.isArray(l)&&0<l.length){c=[];for(var m=0;m<l.length;m++)c.push([l[m].id,l[m].duration,l[m].ert]);k[g]=c}else if("userData"===c&&d.utils.isObject(l))k[g]=d.utils.bm(l);
else if(!(c&&-1<b(["userDataLong","userDataDouble","userDataBoolean","userDataDate"],c)))if(d.utils.isObject(l))for(m in l)a(l,m)&&e.Kh(m,l,k);else e.sg[c]&&("eventType"===c&&l>d.EventType.Ajax&&(l=d.utils.compareWindows(top,window)?d.EventType.PageView:d.EventType.IFRAME),k[g]=l)};return e}();k.vm=new d.events.ta;k.ui=3;k.sg={eumAppKey:"eumAppKey",userPageName:"userPageName",rootGUID:"baseGUID",parentGUID:"parentGUID",parentUrl:"parentPageUrl",parentType:"parentPageType",parentLifecyclePhase:"parentLifecyclePhase",
eventType:"pageType",eventUrl:"pageUrl",pageReferrer:"pageReferrer",pageTitle:"pageTitle",metrics:"navOrXhrMetrics",xhrMetrics:"navOrXhrMetrics",resourceTimingInfo:"resourceTimingInfo",cookieMetrics:"cookieMetrics",userData:"userData",errors:"errors",ajaxError:"ajaxError",dataType:"dataType",country:"geoCountry",region:"geoRegion",city:"geoCity",localIP:"localIP",ver:"ver",eom:"eom",eventGUID:"clientRequestGUID",otherClientRequestGUIDs:"otherClientRequestGUIDs",btTime:"btTime",serverSnapshotType:"serverSnapshotType",
hasEntryPointErrors:"hasEntryPointErrors"};l.yi=k})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){(function(d){var a=function(){function d(){}d.prototype.send=function(){};return d}();d.li=a})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){(function(d){var a=function(){function d(){}d.prototype.uc=function(){return null};return d}();d.ki=a})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){(function(l){var a=function(){function b(d){this.Xl=d}b.prototype.send=function(b){try{this.Xl.postMessage(d.utils.toJSONString(b)),
d.log("M290"),l.numBeaconsSent+=1}catch(e){d.log("M291")}};return b}();l.ri=a})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){(function(l){var a=function(){function b(){}b.prototype.uc=function(b,e,c){b={ver:d.conf.agentVer,dataType:"R",rootGUID:c.wd(),events:b};d.channel.ba.$&&d.channel.ba.$.id&&(b.agentId=d.channel.ba.$.id);e&&(b.geo=e);return b};return b}();l.qi=a})(d.beacons||(d.beacons={}))})(g||(g={}));(function(d){var l=function(){function l(){}l.qf=function(b,l){if(!b)return null;var e=
b.ADRUM.lifecycle;if(!e||!e.getPhaseCallbackTime)return null;var c=l.getPhaseCallbackTime("AT_ONLOAD"),e=e.getPhaseCallbackTime("AT_ONLOAD"),a=null==e;return null==c?(d.error("M292"),null):d.lifecycle.getPhaseID(a||c<=e?"AFTER_FIRST_BYTE":"AFTER_ONLOAD")};return l}();d.bj=l;d.cPLPI=l.qf})(g||(g={}));(function(d){(function(l){var a=function(){function b(b){this.ready=!1;this.geoResolverUrl=b;d.utils.isString(b)&&0<d.utils.trim(b).length&&(this.geoResolverUrl=b+"/resolve.js")}b.prototype.init=function(b){this.channel=
b;if(this.fd()&&(d.geo=this.le(),this.Aj()||this.zc()&&!this.If())){this.channel.be(d.geo.result);return}this.If()?(this.zc()&&(this.geoResolverUrl+="?ip="+encodeURIComponent(d.conf.userConf.geo.localIP)),this.Ln()):(this.ready=!0,this.channel.onResolverReady())};b.prototype.fd=function(){return d.utils.isDefined(d.conf.userConf)&&d.utils.isDefined(d.conf.userConf.geo)};b.prototype.zc=function(){return this.fd()&&d.utils.isDefined(d.conf.userConf.geo.localIP)&&!d.utils.isDefined(d.conf.userConf.geo.city)&&
!d.utils.isDefined(d.conf.userConf.geo.region)&&!d.utils.isDefined(d.conf.userConf.geo.country)};b.prototype.le=function(){return{failed:!1,result:{country:d.conf.userConf.geo.country,region:d.conf.userConf.geo.region,city:d.conf.userConf.geo.city,localIP:this.kk(d.conf.userConf.geo.localIP)}}};b.prototype.Aj=function(){return this.fd()&&d.utils.isDefined(d.conf.userConf.geo.localIP)&&d.utils.isDefined(d.conf.userConf.geo.city)&&d.utils.isDefined(d.conf.userConf.geo.region)&&d.utils.isDefined(d.conf.userConf.geo.country)};
b.prototype.If=function(){return d.utils.isString(this.geoResolverUrl)&&0<d.utils.trim(this.geoResolverUrl).length};b.prototype.kk=function(d){if(null==d||0==d.length)return null;d=d.split(".");if(4!=d.length)return null;for(var e=[],b=0;b<d.length;b++){var l=parseInt(d[b]);if(isNaN(l)||0>l||255<l)return null;e.push(("0"+l.toString(16)).slice(-2))}return e.join("")};b.prototype.Ln=function(){d.geo={failed:!1,result:null};d.utils.loadScriptAsync(this.geoResolverUrl);var l=this;d.utils.tryPeriodically(b.Zc,
function(){return l.isReady()},function(){l.onReady()},function(){l.Rd()})};b.prototype.isReady=function(){this.ready||(this.ready=d.geo&&(d.geo.failed||null!==d.geo.result))||d.log("M293");return this.ready};b.prototype.onReady=function(){d.geo.failed?(d.log("M294"),this.zc()&&(d.geo=this.le())):(d.assert("object"===typeof d.geo.result),d.log("M295",d.geo.result));d.geo&&d.geo.result&&this.channel.be(d.geo.result);this.channel.onResolverReady()};b.prototype.Rd=function(){d.log("M296");this.zc()&&
(d.geo=this.le());d.geo&&d.geo.result&&this.channel.be(d.geo.result);this.ready=!0;this.channel.onResolverReady()};b.Zc=function(d){return 10<d?-1:[1,50,100,500][d-1]||1E3};return b}();l.pi=a})(d.channel||(d.channel={}))})(g||(g={}));(function(d){(function(l){var a=function(){function b(){this.ready=!1;this.channel=null}b.prototype.init=function(l){this.channel=l;b.ea=b.ea||b.yk();this.ready=!b.ea.lc;var e=this;if(b.ea.lc)d.log("M297"),b.ea.lc.ADRUM.command("listenForOkToSendChildFrameBeacons",function(){d.log("M298");
e.ready=!0;e.onReady()});else e.onReady()};b.prototype.isReady=function(){this.isReady||d.log("M299");return this.ready};b.prototype.onReady=function(){this.channel.Ym(b.ea);this.channel.onResolverReady()};b.yk=function(){for(var l=window,e,c=b.qg(l),a=window;a.parent&&!d.utils.compareWindows(a,a.parent);){a=a.parent;c=c||b.qg(a);try{a.ADRUM&&(e=e||a,l=a)}catch(g){}}return new d.Yh(e,l,c)};b.qg=function(d){try{return 0==d.document.URL.indexOf("https:")}catch(e){}};return b}();a.ea=null;l.Zh=a})(d.channel||
(d.channel={}))})(g||(g={}));(function(d){(function(l){var a=function(){function b(e,c,k){this.events=[];this.Ga={};this.dc=NaN;this.za=[];this.qd=!1;this.bufferMode=d.conf.userConf&&d.conf.userConf.channel&&"undefined"!==typeof d.conf.userConf.channel.bufferMode?d.conf.userConf.channel.bufferMode:!0;this.Ec=-1;this.rn=e;this.Ij=c;this.za.push(new l.pi(k));this.za.push(new l.Zh);this.za.push(new l.ba)}b.create=function(){var e,c;e=b.Am();d.utils.isDefined(e)?(e=new d.beacons.ri(e),c=new d.beacons.qi):
d.utils.isCORSSupported()&&!d.conf.sendImageBeacon?(e=new d.beacons.bi,c=new d.beacons.ai):d.conf.neverSendImageBeacon?(d.log("M300"),e=new d.beacons.li,c=new d.beacons.ki):(e=new d.beacons.zi,c=new d.beacons.yi);e=new b(e,c,d.conf.geoResolverUrl);e.init();return e};b.prototype.init=function(){for(var d=0;d<this.za.length;d++)this.za[d].init(this)};b.prototype.Rn=function(e){return(e.parentType===d.EventType.VPageView||e.parentType===d.EventType.NG_VIRTUAL_PAGE)&&null!==this.Ga[e.parentGUID]};b.prototype.Wd=
function(e){var b=e.parentGUID;if(!d.utils.isDefined(this.Ga[b])){this.Ga[b]=[];var l=this,k=e.eventGUID;d.utils.oSTO(function(){l.jd(k)},1E4)}this.Ga[b].push(e)};b.prototype.report=function(e,c){e.sequenceId=d.mh.of.Ik();e.timestamp=e.timestamp||d.utils.now();this.Rn(e)?this.Wd(e):this.events.push(e);1==this.events.length&&(this.dc=d.utils.now());var l=e.parentGUID;l&&l!==d.correlation.getPageGUID()||this.jd(e.eventGUID);b.Hl(e)&&(this.qd=!0);this.je(c)};b.prototype.jd=function(d){var b=this.Ga[d];
this.Ga[d]=null;if(b&&0!=b.length)for(this.events=this.events.concat(b),d=0;d<b.length;d++)this.jd(b[d].eventGUID)};b.prototype.Kl=function(e){return e.eventType===d.EventType.PageView||e.eventType===d.EventType.IFRAME};b.prototype.Jj=function(){for(var e=0;e<this.events.length;e++){var b=this.events[e];0===b.eventType&&d.monitor.DOMEventsMonitor.currentBasePage&&(d.monitor.DOMEventsMonitor.currentBasePage.isBeaconSent=!0);if(this.Kl(b)){var l=this.ea.lc;l&&(b.parentLifecyclePhase=d.bj.qf(l,d.lifecycle),
b.parentGUID=l.ADRUM.correlation.getPageGUID(),b.parentUrl=d.utils.ca.Aa(l.document.URL),d.utils.isDefined(l.ADRUM.events.ta.userPageName)&&(b.wm=l.ADRUM.events.ta.userPageName),b.parentType=d.utils.compareWindows(top,l)?d.EventType.PageView:d.EventType.IFRAME)}}};b.prototype.sendBeacon=function(b){if(0==this.events.length)d.log("M301");else{this.Jj();var c=this.me(this.events,this.ea),l=this.Ij.uc(this.events,this.xk,this.ea);this.rn.send(l,c,b);this.events=[];this.dc=Number.POSITIVE_INFINITY}};
b.prototype.onResolverReady=function(){this.je()};b.prototype.be=function(d){this.xk=d};b.prototype.Ym=function(d){this.ea=d};b.prototype.addResolver=function(d){d.init(this);this.za.push(d)};b.prototype.Pm=function(){for(var d=0;d<this.za.length;d++)if(!this.za[d].isReady())return!1;return!0};b.prototype.rg=function(){return this.dc+d.conf.Ne>d.utils.now()};b.prototype.Pl=function(){return this.events.length<d.conf.Ei};b.prototype.me=function(b,c){if(c.me||d.conf.userConf.useHTTPSAlways)return!0;
for(var l=0;l<b.length;l++){var k=b[l];if(k.eventUrl&&0==k.eventUrl.indexOf("https:"))return!0}return!1};b.prototype.getEventsWithParentGUID=function(d){return this.Ga[d]||[]};b.prototype.je=function(b){if(this.Pm())if(!b&&this.Qn()){if(this.rg()&&0<this.events.length&&0>this.Ec){var c=this;this.Ec=d.utils.oSTO(function(){c.je()},d.conf.Ne+this.dc-d.utils.now())}}else clearTimeout(this.Ec),this.Ec=-1,this.qd=!1,this.sendBeacon(b)};b.Hl=function(b){return b.eventType===d.EventType.PageView||b.eventType===
d.EventType.IFRAME||b.eventType===d.EventType.VPageView};b.prototype.Qn=function(){return this.bufferMode&&!this.qd&&this.Pl()&&this.rg()};b.Bm=function(){if(d.utils.isDefined(window.webkit)&&d.utils.isDefined(window.webkit.messageHandlers)&&d.utils.isDefined(window.webkit.messageHandlers.ADEUM_js_handler)&&d.utils.isFunction(window.webkit.messageHandlers.ADEUM_js_handler.postMessage))return window.webkit.messageHandlers.ADEUM_js_handler};b.zm=function(){if(d.utils.isDefined(window.ADEUM_js_handler)&&
d.utils.isFunction(window.ADEUM_js_handler.postMessage))return window.ADEUM_js_handler};b.Am=function(){return b.zm()||b.Bm()};return b}();l.Channel=a;var b=a.create();l.getChannel=function(){return b};l.report=function(d,e){b.report(d,e)};l.addResolver=function(d){b.addResolver(d)};l.getEventsWithParentGUID=function(d){return b.getEventsWithParentGUID(d)};l.sendBeacon=function(d){return b.sendBeacon(d)}})(d.channel||(d.channel={}))})(g||(g={}));(function(d){var l=function(){function l(){}l.Ng=function(){return window.attachEvent?
d.utils.isFunction(window.addEventListener)?this.ne:this.Ah:this.Fh};l.Mg=function(b){var k=null;switch(l.Ng()){case l.Fh:k=b.parentPhase();break;case l.ne:k=d.lifecycle.findPhaseAtNominalTime(b.getSendTime());break;case l.Ah:k=null}return d.lifecycle.getPhaseID(k)};return l}();l.Fh="uCT";l.ne="uNET";l.Ah="tIA";d.Ub=l})(g||(g={}));(function(d){(function(l){var a=d.utils.hasOwnPropertyDefined,b=function(b){function e(){return null!==b&&b.apply(this,arguments)||this}t(e,b);e.prototype.H=function(c){var a=
b.prototype.H.call(this,c,e.getContext(c)),g=c.url(),f=c.getSendTime(),m=c.getFirstByteTime(),p=c.getRespAvailTime(),v=c.getRespProcTime(),s=c.parentPhase();d.assert(null!==g&&null!==f&&null!==m&&null!==p&&null!==v,"M302",g,f,m,p,v,s);if(null===g||null===f||null===m||null===p||null===v)return null;g=c.error();f={PLC:1,FBT:m-f,DDT:p-m,DPT:v-p,PLT:v-f,ARE:g?1:0};m=c.url();if(!e.Wl(f,m))return null;d.conf.viz&&d.utils.kd(document.getElementById(d.conf.viz),f,"xhr");d.utils.mergeJSON(a,{eventUrl:d.utils.ca.Aa(m),
parentLifecyclePhase:c.parentPhaseId(),metrics:f,method:c.method(),timestamp:c.timestamp(),ajaxError:g&&[g.status,g.msg||""],xhrStatus:c.xhrStatus()});(c=c.parameter())&&l.ia.Pd(c,d.conf.nb)?a.parameter=c:c&&l.ia.cb("parameter",d.conf.nb);a.parentType==d.EventType.VPageView&&d.conf.spa2?d.utils.nh(a,l.Ob.userPageName):d.utils.nh(a,l.ta.userPageName);return a};e.getData=function(b){if(d.utils.isDefined(b)&&d.utils.isDefined(b.data))return b.data};e.getContext=function(d){return{url:d.url()||"",method:d.method()||
"",data:e.getData(d.dataObject())||""}};e.Wl=function(b,e){for(var l in b)if(a(b,l)){var k=b[l];if(0>k)return d.error("M303",l,k,e),!1}return!0};return e}(l.kb);l.Ye=b})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(l){var a=function(b){function l(){return null!==b&&b.apply(this,arguments)||this}t(l,b);l.prototype.H=function(e){var l=b.prototype.H.call(this,e);l&&(e=e.allResponseHeaders()||"",(e=d.correlation.Zk(e))&&null!==e&&null!==e.clientRequestGUID&&(l.eventGUID=e.clientRequestGUID),
null!==e&&(l.serverMetadata=e));return l};return l}(l.Ye);l.Th=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(l){var a=function(b){function k(){return null!==b&&b.apply(this,arguments)||this}t(k,b);k.prototype.H=function(e){var c=b.prototype.H.call(this,e);d.utils.mergeJSON(c,{message:e.msg()||"",timestamp:e.timestamp(),line:e.line(),stack:e.stack(),parentPageName:c.parentType==d.EventType.VPageView&&d.conf.spa2?l.Ob.userPageName:l.ta.userPageName});d.utils.isString(c.userPageName)||
(c.userPageName=c.wm);return c};return k}(l.kb);l.aj=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(d){(function(a){a.build=function(b){var k={},e=d.metricSpec[b.type()],c;for(c in e){var a=e[c];if(null!==a.name&&b.perf.getEntryByName(a.start)&&b.perf.getEntryByName(a.end)){b.perf.measure(a.name,a.start,a.end);var g=b.perf.getEntryByName(a.name);k[a.name]=g&&0<=g.duration&&g.duration||null}}for(c in k)k[c]=Math.round(k[c]);return k}})(d.Rc||(d.Rc={}))})(d.events||(d.events={}))})(g||
(g={}));(function(d){(function(d){var a=function(b){function k(){return null!==b&&b.apply(this,arguments)||this}t(k,b);k.prototype.H=function(e){var c=b.prototype.H.call(this,e),k=d.Rc.build(e);k.PLC=1;c.metrics=k;c.timestamp=e.timestamp();e=(new d.ResourceTimingInfoBuilder(e.resTiming())).build();null!==e&&(c.resourceTimingInfo=e);return c};return k}(d.kb);d.Xe=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(l){var a=function(b){function k(){return null!==b&&b.apply(this,arguments)||
this}t(k,b);k.setPageName=function(d){k.Ba=d};k.prototype.H=function(e){var c=b.prototype.H.call(this,e),a=l.Rc.build(e);a.PLT=e.timestamp()-e.startTime;a.VCT=e.vct;a.PLC=1;c.metrics=a;c.timestamp=e.timestamp();a=(new l.ResourceTimingInfoBuilder(e.resTiming(),null,e.startTime)).build();null!==a&&(c.resourceTimingInfo=a);d.utils.isDefined(e.userPageName)&&(c.userPageName=e.userPageName);!d.utils.isDefined(c.userPageName)&&d.utils.isDefined(k.Ba)&&(l.ia.ge("userPageName",k.Ba,d.conf.ob)?c.userPageName=
k.Ba:l.ia.cb("userPageName",d.conf.ob),k.Ba=void 0);return c};return k}(l.kb);l.Ob=a})(d.events||(d.events={}))})(g||(g={}));(function(d){(function(d){var a=function(d){function l(){return null!==d&&d.apply(this,arguments)||this}t(l,d);l.prototype.H=function(e){var l=d.prototype.H.call(this,e);l&&(l.metrics.VDC=e.digestCount()||0);return l};return l}(d.Xe);d.Yi=a})(d.events||(d.events={}))})(g||(g={}));(function(d){var l=d.events||(d.events={});l.Xg={};d=[{Qa:l.PageView,Ka:new l.ta},{Qa:l.Ajax,Ka:new l.Ye},
{Qa:l.AdrumAjax,Ka:new l.Th},{Qa:l.Error,Ka:new l.aj},{Qa:l.VPageView,Ka:new l.Xe},{Qa:l.AnySpaVPageView,Ka:new l.Ob},{Qa:d.ng.NgVPageView,Ka:new l.Yi}];for(var a=0;a<d.length;a++){var b=d[a];b.Qa.prototype._regId=a;l.Xg[a]=b.Ka}})(g||(g={}));(function(d){(function(l){l.reportEvent=function(l,b){if(d.utils.isDefined(d.conf.isReportingPaused)&&d.conf.isReportingPaused)d.log("M304");else{var k=d.events.Xg[l._regId];k?(k=k.H(l),d.utils.isDefined(k)&&(d.log("M306",d.EventType[l.type()]),d.channel.report(k,
b))):d.log("M305",d.EventType[l.type()])}}})(d.reporter||(d.reporter={}))})(g||(g={}));(function(d){(function(l){var a=function(){function b(){this.ready=!1}b.prototype.onReady=function(){this.ready=!0;this.channel.onResolverReady()};b.prototype.isReady=function(){this.ready||d.log("M307");return this.ready};b.prototype.init=function(d){this.channel=d};return b}();l.oj=a})(d.commands||(d.commands={}))})(g||(g={}));(function(d){(function(l){var a=new l.oj;d.channel.addResolver(a);l.marks={};l.mark=
function(b,a){d.log("M308",b,a);l.marks[b]=a};l.quickReportOnLoad=function(b){a.onReady();d.reporter.reportEvent(b,!0)};l.reportOnload=function(b){d.utils.oSTO(function(){d.log("M309");d.reporter.reportEvent(b);a.onReady()},d.conf.mj)};l.reportEvent=function(){d.reporter.reportEvent.apply(d.reporter,arguments)};l.addResolver=function(b){d.channel.addResolver(b)};l.reportXhr=function(b,l){d.log("M310");d.Ub.Ng()==d.Ub.ne?(d.log("M311"),d.utils.oSTO(function(){b.parentPhaseId(d.Ub.Mg(b));d.reporter.reportEvent(b)},
0)):(b.parentPhaseId(d.Ub.Mg(b)),d.reporter.reportEvent(b,l))};l.listenForOkToSendChildFrameBeacons=function(b){d.log("M312");try{b()}catch(l){d.exception(l,"M313")}};l.reportPageError=function(b){var l=b.url();d.log("M314",b.msg(),l,b.line(),b.stack());l&&0!==l.length||b.url("CROSSORIGIN");d.reporter.reportEvent(b)};l.setPageName=function(b){d.utils.isString(b)&&0<d.utils.trim(b).length&&d.events.ta.setPageName(b)};l.setVirtualPageName=function(b){d.utils.isString(b)&&0<d.utils.trim(b).length&&d.conf.spa2&&
d.events.Ob.setPageName(b)};l.addUserData=function(b,l){d.utils.isDefined(b)&&d.utils.isDefined(l)&&d.events.ta.addUserData(b,l)};l.call=function(d){d()}})(d.commands||(d.commands={}))})(g||(g={}));(function(d){(function(d){d.Af=function(a){return encodeURIComponent(d.ca.om(a))}})(d.utils||(d.utils={}))})(g||(g={}));(function(d){(function(l){var a=function(){function b(){}b.prototype.setUp=function(){this.dm();d.utils.addEventListener(window,"pagehide",b.te);d.utils.addEventListener(window,"beforeunload",
b.te);d.utils.addEventListener(window,"unload",b.te)};b.prototype.dm=function(){(this.startTime=b.tk()||b.sk())&&d.commands.mark("starttime",this.startTime)};b.tk=function(){var b;try{if(d.utils.isDefined(window.external)&&d.utils.isNumber(window.external.pageT))b=(new Date).getTime()-window.external.pageT;else if(d.utils.isDefined(window.gtbExternal)&&d.utils.isFunction(window.gtbExternal.pageT)){var e=window.gtbExternal.pageT();d.utils.isNumber(e)&&(b=(new Date).getTime()-e)}else d.utils.isDefined(window.chrome)&&
d.utils.isFunction(window.chrome.csi)&&(e=window.chrome.csi(),d.utils.isDefined(e)&&d.utils.isNumber(e.pageT)&&(b=(new Date).getTime()-e.pageT));b&&(b=Math.round(b),d.log("M315",b))}catch(l){d.exception(l,"M316")}return b};b.sk=function(){var b=d.correlation.startTimeCookie;if(b){d.log("M317",b.startTime,b.startPage);var e=d.utils.Af(document.referrer);if(e===b.startPage)if(isNaN(b.startTime))d.log("M318",b.startTime);else return b.startTime;else d.log("M319",e,b.startPage)}else d.log("M320")};b.gk=
function(b,e){var l=document.domain,a="https:"===document.location.protocol,g="ADRUM=s="+Number(new Date)+"&r="+d.utils.Af(document.location.href),f=g+";path=/;samesite=lax";a&&(f+=";secure");d.log("M321",g);if(!d.conf.useStrictDomainCookies){for(var a=b(),l=l.split("."),m="",p=l.length-1;0<=p;p--){m="."+l[p]+m;d.log("M322",m);e(f+";domain="+m);var v=b();if(v!=a&&0<=v.indexOf(g)){d.log("M323");d.log("M324");return}}d.log("M325")}d.log("M326");e(f);d.log("M327")};return b}();a.te=function(){var d=
!1;return function(){d||(d=!0,a.gk(function(){return document.cookie},function(d){document.cookie=d}))}}();l.ko=a;l.kn=new a})(d.monitor||(d.monitor={}))})(g||(g={}));(function(d){d.log("M328");d.monitor.kn.setUp();d.monitor.domEventsMonitor.setUpOnBeforeUnload();d.q.processQ();d.initEXTDone=!0;d.log("M329")})(g||(g={}))}};})();
