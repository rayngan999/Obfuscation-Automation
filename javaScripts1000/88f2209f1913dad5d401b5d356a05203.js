(self.webpackChunkweb_shell=self.webpackChunkweb_shell||[]).push([[6646],{6646:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Q});var i=n(292),o=n(8912),r=n(9341),s=n(5447),a=n(5958),l=n(9297),c=n.n(l);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var t,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(i);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function s(){return u(this,s),r.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){return c().createElement("div",{key:"main_content",className:"main"},c().createElement("div",{className:"body-container"},c().createElement("div",{className:"body","data-id":"bodyNode",role:"main"},this.props.renderWidget())))}}])&&p(t.prototype,n),s}(c().PureComponent);var m=n(5827),b=n(9498),_=n(4829);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}let E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,n,i,o,r=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(i);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function s(){return w(this,s),r.apply(this,arguments)}return t=s,(n=[{key:"onApplicationReady",value:function(){"undefined"!=typeof window&&window.addEventListener("keydown",this._listener.bind(this),!1)}},{key:"_listener",value:function(e){!e.ctrlKey||!e.altKey||"KeyQ"!==e.code&&"Equal"!==e.code||this.getCorePlugin("navigationManager").then((t=>{"KeyQ"===e.code?t.navigate("pluginDevTool"):t.navigate("appDevTools")})).catch((()=>{}))}}])&&y(t.prototype,n),s}(n(3003).Z);var O=n(6177),x=n(2395);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={getEmbeddedAppInfo:()=>_.Z.getPropertyValue("embeddedAppInfo"),_getContext(e){if(!e)return m.Z.error("WEB-VIEW-MOBILE - Cannot contruct context for extension action event",new Error("Context args is null")),{};const{plugin:t,widget:n}=e,{id:i}=t,{descriptor:o}=n,{id:r,version:s}=o;return{widgetId:r,pluginId:i,widgetVersion:s}},isWebViewMobile:()=>_.Z.isMobileShell(),_createActionEvent(e,t,n,i){return{category:"extensionAction",command:"invokeAction",typeName:"extensionAction.invokeAction",payload:{nameSpace:e,action:t,data:{args:i}},context:this._getContext(n)}},invokeAction(e,t,n){for(var i=arguments.length,o=new Array(i>3?i-3:0),r=3;r<i;r++)o[r-3]=arguments[r];return this._getStub(e,t,n)(...o)},_getStub(e,t,n){var i=this;return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return Promise.resolve().then((()=>"undefined"!=typeof window&&window.MobileShell.messageNative(i._createActionEvent(e,t,n,r)))).catch((e=>{throw m.Z.error("WEB-VIEW-MOBILE - Error while invoking an sandbox extension ".concat(t,". Error: ").concat(e.message),e),e}))}},generateAPIStubs(e,t,n){const i=this.getEmbeddedAppInfo(),o=i&&i.extensionActionsHandled;if(o){const i=o.reduce(((t,i)=>(i.nameSpace===e&&(t[i.action]=this._getStub(i.nameSpace,i.action,n)),t)),{});return A(A({},t),i)}return t}};function D(e){return Object.keys(e)[0]}var Z=n(6179);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F=(e,t)=>{e.sandboxAppContext=k(k({},e.sandboxAppContext),t),window.__shellInternal.applicationContext=k(k({},window.__shellInternal.applicationContext),t)};var M=n(5793);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const V=()=>n.e(8155).then(n.bind(n,8155)),U=()=>Promise.all([n.e(2852),n.e(6384)]).then(n.bind(n,6384)),W=()=>Promise.resolve().then(n.bind(n,9262)),K=()=>n.e(9427).then(n.bind(n,9427)),H=()=>{try{s.Z.sendEvents(),"undefined"!=typeof window&&m.Z.sendEvents(window.__shellInternal.logger.deferredLogs).then((()=>{window.__shellInternal.logger.deferredLogs=[],window.__shellInternal.logger._isSdkInitialized=!0}))}catch(e){m.Z.error("Failed to flush log events",{},e)}};function Q(){let e;try{e=M.Z.initializeRumReporter(),e&&m.Z.log("Shell - successfully initialized RUM module")}catch(e){m.Z.error("Shell - failed to initialize RUM module",{},e)}const t=(t,n,i)=>{e&&e.measure(t,n,i)};try{s.Z.markAndMeasureFromPageTiming("SHELL_LOAD"),t("fetchStart","shellLoad"),s.Z.measure("SHELL_SERVICE_RESPONSE_COMPLETE","fetchStart","responseEnd"),s.Z.measureFromPageTiming("SHELL_SERVICE_RESPONSE_COMPLETE","undefined"!=typeof window&&window.performance.timing.responseEnd)}catch(e){m.Z.error("Shell - performance util error",{},e,"",{})}let l,c,u=null,p="warn-and-above",g=Promise.resolve(),d=Promise.resolve(),f=Promise.resolve(),w=Promise.resolve();return _.Z.isExperimentApplicable("log-and-above-default-logger-enabled")&&(p="log-and-above"),p=p,o.Z.getLogger().on(p,m.Z.webShellLogHandler.bind(m.Z)),"undefined"!=typeof window&&window.__shellInternal.setupRequireErrorHandler(m.Z),"undefined"!=typeof window&&window.__shellInternal.setupUnhandledErrorHandler(m.Z),Promise.all([n.e(8908),n.e(8670),n.e(9547),n.e(447)]).then(n.bind(n,447)).then((e=>{let{default:o}=e,y=!1;return o.get().then((e=>{s.Z.markAndMeasureFromPageTiming("APP_CONFIG_LOAD");const t=e;t.logLevel=p;const o={appContext:"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.applicationContext||void 0,customContext:"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.customContext||null},h=_.Z.isMobileShell(),v=(()=>{const e=new URLSearchParams("undefined"!=typeof window&&window.location.search),t=_.Z.isExperimentApplicable("enable-dynamic-context-fetch"),n=null===("undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.applicationContext&&window.__shellInternal.applicationContext.userAuthInfo),i=_.Z.getAppExperienceData("iamOptions"),o=(_.Z.getAppExperienceData("enableIAMSSO")||_.Z.getAppExperienceData("enableSSO"))&&i&&i.optionalAuth,r="T"===e.get("backup");return t&&r&&o&&n})();let I,P;if(_.Z.isExperimentApplicable("page-load-nav-started")&&W().then((e=>{let{default:t}=e;t.get("app-route-change-started").subscribe((e=>{var t,n;const i=null==e||null===(t=e.routeChangeRequest)||void 0===t||null===(n=t.path)||void 0===n?void 0:n.split("?")[0];s.Z.pageInitiated("PAGE_LOAD:/".concat(i))}))})).catch((e=>{m.Z.error("Failed to subscribe to app-route-change-started for PAGE_LOAD tracking",{},e,"",{})})),_.Z.isExperimentApplicable("enable-subscription-to-plugin-events")&&W().then((e=>{let{default:t}=e;[r.Z.getPluginStartLoadTopic(),r.Z.getPluginFinishLoadTopic(),r.Z.getPluginAfterStartTopic()].forEach((e=>{const n=t.get(e);n&&n.subscribe((t=>{const{pluginConfig:{id:n=""}={}}=t,i={pluginId:n};m.Z.log(e,i,null,n,i)}))}))})).catch((e=>{m.Z.error("Failed to subscribe to plugin load topics",{},e,"",{})})),t.AppController){if(c=new t.AppController(o),"function"==typeof c.getLocaleOverride&&t.sandboxAppContext&&t.sandboxAppContext.localizationInfo){const e=c.getLocaleOverride();"string"==typeof e&&e.length>1?("undefined"!=typeof window&&(window.__shellInternal.applicationContext.localizationInfo.locale=e),t.sandboxAppContext.localizationInfo.locale=e):m.Z.error("Failed to set locale override from app plugin. Make sure the locale is a valid language code and is of String type. Locale Override: ".concat(e),{},null,"",{})}if("function"==typeof c.processPluginsConfig&&(t.pluginsConfig=c.processPluginsConfig(t.pluginsConfig)||t.pluginsConfig),"function"==typeof c.getCorePlugins){const e=c.getCorePlugins();t.corePlugins=function(e,t){const n=["layoutManager","navigationManager"];if(e=e||[],t=t||[],_.Z.isQboApp()){const i=[...e];return t.forEach((t=>{const o=D(t),r=function(e,t){const n=D(e);return t.findIndex((e=>D(e)===n))}(t,e);r>=0&&n.includes(o)?i[r]=t:r<0&&i.push(t)})),i}return[...e,...t]}(t.corePlugins,e),y=_.Z.isQboApp()&&t.corePlugins.findIndex((e=>"layoutManager"===D(e)))>=0}if(h&&"function"==typeof c.getWebViewMobileCustomizations){const{webShellInterfaceCustomizations:e,navigateOnStart:n}=c.getWebViewMobileCustomizations();t.navigateOnStart=!!n,(0,O.A)(x.nD,e)}if("function"==typeof c.getAppDelegates){const e=c.getAppDelegates();h?I=e.mobile:Array.isArray(e)?t.appDelegates=[...t.appDelegates,...e]:t.appDelegates=[...t.appDelegates,...e.web]}if("function"==typeof c.getTempSandboxFactoryOverride&&_.Z.isExperimentApplicable("sandbox-override")){const e=new(c.getTempSandboxFactoryOverride())(t.sandboxFactory);t.sandboxFactory=e}if("function"==typeof c.getShellLayout&&(u=c.getShellLayout()||null),"function"==typeof c.getTempDefaultWidgetRouteController&&_.Z.isQboApp()&&(t.defaultWidgetRouteController=c.getTempDefaultWidgetRouteController()),"function"==typeof c.getAppConfigExtensions&&(t.extended=c.getAppConfigExtensions()),"function"==typeof c.getSandboxExtensions&&(h&&_.Z.isExperimentApplicable("enable-mobile-sandbox-extensions")&&(t.shellEmbeddedHelper=S),t.sandboxExtensions=c.getSandboxExtensions()),t.webShell={},"function"==typeof c.getLoggingCustomization){const e=c.getLoggingCustomization();m.Z.setAppCustomization(e)}if("function"==typeof c.getPerformanceCustomization){const e=c.getPerformanceCustomization();s.Z.setAppCustomization(e)}if("function"==typeof c.getAnalyticsCustomization){const e=c.getAnalyticsCustomization();b.default.setAppCustomization(e)}if("function"==typeof c.getWebEventsConfig&&(t.corePlugins=[...t.corePlugins,{webEventsManager:V}],t.webEventsConfig=c.getWebEventsConfig()),"function"==typeof c.getExperimentCustomization&&a.Z.setAppCustomization(c.getExperimentCustomization()),"function"==typeof c.setAppLogger){const e=()=>{const e={};return["debug","log","info","warn","error","fatal"].forEach((n=>{e[n]=(e,i,o)=>{m.Z[n](e,i,o,t.appPluginId)}})),e};c.setAppLogger(e())}v&&"function"==typeof c.getDynamicUserContext&&(0,O.A)(x.Te,c.getDynamicUserContext)}if(v&&(m.Z.warn("Loading shell in failover mode",{},null,"",{}),f=(e=>Promise.resolve().then((()=>{if(!_.Z.getAppExperienceData("appApiKey")){const e="Web App's API Key is not provided in the Web App Configuration",t=new Error(e);return m.Z.error(e,{},t),Promise.reject(t)}const t=(()=>{const e=_.Z.getAppExperienceData("iusOptions"),t={default:{preprod:"https://accounts-e2e.platform.intuit.com",prod:"https://accounts.platform.intuit.com"},tax:{preprod:"https://accounts-tax-e2e.platform.intuit.com",prod:"https://accounts-tax.platform.intuit.com"}},n=e&&"tax"===e.isolation?t.tax:t.default,i="prod"===_.Z.getEnvironment()?"prod":"preprod";return"".concat(n[i],"/v1/users/me")})();return fetch(t,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json;charset=UTF-8",Accept:"application/json",Authorization:"Intuit_APIKey intuit_apikey=".concat(_.Z.getAppExperienceData("appApiKey")),intuit_tid:_.Z.createGuid()}}).then((e=>{if(!e.ok){const t=new Error(e.statusText);throw t.response=e,t}return e.json()})).then((t=>{const n=Z.Z.convert(t);F(e,n)})).catch((n=>{const i="Failed to fetch user context in failover mode url: ".concat(t," ").concat(n.response&&n.response.status?"status: ".concat(n.response.status):"");return n.response&&401===n.response.status?(m.Z.error(i,{},n.response),F(e,{userAuthInfo:null,userProfileInfo:null})):(m.Z.error("".concat(i,": ").concat(n.message),{},n),Promise.reject(n))}))})).catch((t=>{m.Z.error("Error while fetching user context in failover mode",{},t);const n=(0,O.f)(x.Te);if(n)return Promise.resolve().then((()=>n())).then((t=>F(e,t))).catch((e=>{const{message:t}=e;throw e.message="Error while fetching user context in failover mode from App Plugin. Error: ".concat(t),e}));throw t})))(t)),_.Z.isTracingEnabled(!0)&&(t.performance={openTelFormat:!0}),h){const e=()=>Promise.all([n.e(8908),n.e(2852),n.e(9594)]).then(n.bind(n,9594));t.appDelegates.push(e),I&&t.appDelegates.push(...I),t.navigateOnStart=t.navigateOnStart||!1}if(l=new i.Z(t),c&&"function"==typeof c.getAppEventHooks){try{P=c.getAppEventHooks()}catch(e){const t=e instanceof Error?e:new Error;throw t.message="Failed to fetch AppEventHooks from AppController: ".concat(t.message),t}if(!P)throw new Error("Failed to initialize AppEventHooks class: no class was returned")}if(P&&"function"==typeof P.onNavigationError&&_.Z.isExperimentApplicable("enable-navigation-error-response-handler")&&(d=l.getCorePlugin("navigationManager").then((e=>{e.setNavigationErrorEventHandler(P.onNavigationError)}))),c&&"function"==typeof c.getDataFetcherConfig&&l.hasCorePlugin("dataFetcher")){const e=c.getDataFetcherConfig();l.getCorePlugin("dataFetcher").then((t=>{t.setAppConfig(e)})).catch((e=>{m.Z.error("Failed to initialize datafetcher config: ".concat(e.message),{},e,"",{})}))}return g=n.e(7494).then(n.bind(n,7494)).then((e=>{let{default:t}=e;const n=t.getWidgetLifecycleTopic();if(_.Z.isExperimentApplicable("widget-lifecycle-shell-log")&&n.subscribe((e=>{const{eventName:t,pluginConfig:n}=e,i=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["eventName","pluginConfig"]),o=n.id||"",r=n.version||"",s=z(z({},i),{},{pluginId:o,pluginVersion:r});m.Z.log(t,s,null,o,s)})),P&&"function"==typeof P.handleWidgetLifecycleEvent&&n.subscribe((e=>{try{P.handleWidgetLifecycleEvent(e)}catch(e){throw e.message="Failed to handle widget lifecycle event with AppEventHooks::handleWidgetLifecycleEvent: ".concat(e.message),e}})),!_.Z.isExperimentApplicable("disable-widget-performance-profiling")){t.setDoWidgetProfiling(!0);const e=t.getWidgetPerformanceTopic();l.getCorePlugin("appDelegateManager").then((t=>{e.subscribe((e=>{t&&t.getActionCreators&&t.getActionCreators().performanceEvents.dispatchRecord(e._metadata,{type:"profile",profile:e})}))})).catch((e=>{m.Z.error("Failed to initialize widget profiling: ".concat(e.message),{},e,"",{})}))}})),y||l.addCorePlugin("layoutManager",U),"prod"!==_.Z.getEnvironment()&&(l.addCorePlugin("devToolsLayoutShortcut",E),_.Z.getShellExperiments(x.NM)&&l.addCorePlugin(x.jA,K)),h&&_.Z.isExperimentApplicable("enable-pubsub-mobile-delegate")&&(w=Promise.all([W(),n.e(8333).then(n.bind(n,8333))]).then((e=>{let[{default:t},n]=e;return l.getCorePlugin("appDelegateManager").then((e=>{t.subscribeAll(n.getMobileSubscriberCallback(e))}))})).catch((e=>{throw m.Z.error("WEB-VIEW-MOBILE - Failed to subscribe mobile subscriber",{},e,"",{}),e}))),Promise.all([d,g,f,w])})).then((()=>!y&&l.getCorePlugin("layoutManager"))).then((e=>{e&&(u?e.addLayout("shell",u):e.addLayout("shell",h))})).then((()=>(t("fetchStart","appConfigure"),s.Z.markAndMeasureFromPageTiming("APPLICATION_CONFIGURE"),c&&"function"==typeof c.onBeforeStart&&_.Z.isQboApp()&&c.onBeforeStart(l)))).then((()=>(_.Z.isQboApp()&&s.Z.markAndMeasureFromPageTiming("APPLICATION_BEFORE_START"),l.start().then((()=>{if(t("fetchStart","appStart"),s.Z.markAndMeasureFromPageTiming("APPLICATION_START"),_.Z.isExperimentApplicable("app-plugin-sandbox")&&c&&"function"==typeof c.onAppPluginSandboxInit){const e=__shellInternal&&__shellInternal.appExperience,t=e&&e.appPlugin,n=_.Z.getPlugin(t),i=l.getSandboxFactory();i&&i.create&&n&&c.onAppPluginSandboxInit(i.create({config:n}))}var e,i,o,r;return async function(e){const t=_.Z.getAppExperienceData("analyticsV2");if(!(t&&t.segment&&t.segment.loadAdobeVisitorAPI))return;const i=Date.now();try{m.Z.log("Going to load the adobe visitor api ".concat(i," ms"));const{default:t}=await n.e(378).then(n.bind(n,378)),o=await t.getAdobeVisitorInstance(e);m.Z.log("Successfully loaded adobe Visitor API in ".concat(Date.now()-i," ms"),{marketingCloudVisitorID:o.marketingCloudVisitorID})}catch(e){m.Z.error("Unexpected Error while loading Adobe Visitor API JS, errored out in ".concat(Date.now()-i," ms"),{},e)}}(_.Z.getEnvironment()),"undefined"!=typeof window&&window.addEventListener("page_ready",(()=>{s.Z.markAndMeasureFromPageTiming("FIRST_PAGE_LOAD"),s.Z.measure("SHELL_LOAD_TO_PAGE_READY:".concat(window.location.pathname),"SHELL_LOAD"),m.Z.log("Shell - application bootstrapped successfully!",{},null,"",{})}),{once:!0}),"undefined"!=typeof window&&window.addEventListener("page_ready",(()=>{H()})),"undefined"!=typeof window&&_.Z.isExperimentApplicable("identify-call-on-initialization")&&null!==(e=window)&&void 0!==e&&null!==(i=e.__shellInternal)&&void 0!==i&&null!==(o=i.applicationContext)&&void 0!==o&&null!==(r=o.userAuthInfo)&&void 0!==r&&r.authId&&n.e(654).then(n.bind(n,654)).then((e=>{let{default:t}=e;(new t).handleAction({command:"track",context:{},payload:{eventData:{type:"identify"}}})})).catch((e=>{m.Z.error("Failed to trigger analytics identify call",{},e,"",{})})),s.Z.markAndMeasureFromPageTiming("SHELL_SETUP_COMPLETE"),H(),l}))))).catch((e=>{m.Z.error("Shell - Application Bootstrap failed",{},e,"",{}),H(),"prod"!==_.Z.getEnvironment()&&Promise.all([n.e(9547),n.e(737)]).then(n.bind(n,9858)).then((t=>{let{showError:n}=t;n(e)}))}))}))}},9055:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4829);const o=e=>{switch(e){case"local":case"dev":case"e2e":case"perf":case"qal":case"qa":return"https://rum-e2e.api.intuit.com/v1/trace";case"prd":default:return"https://rum.api.intuit.com/v1/trace"}},r=e=>{switch(e){case"local":return"preprdakyres9YqU49VeirC1FDqgw8C9ZtNcjibQ";default:return window.__shellInternal&&window.__shellInternal.OILConfigs&&window.__shellInternal.OILConfigs.key}},s=()=>{let e=i.Z.getEnvironment();return e&&"unknown"!==e||(e="local"),{url:o(e),apiKey:r(e),batchConfig:{bufferTimeout:1e4,maxRetries:2}}}},3978:(e,t,n)=>{"use strict";n.d(t,{BN:()=>i,z9:()=>o,uh:()=>r,mL:()=>s});const i=Object.freeze({maxItems:64}),o=e=>{const t="undefined"!=typeof window?window.__shellInternal&&window.__shellInternal.OILConfigs:void 0;return{appId:"Intuit.shell.appfhostedshell",apiKey:t&&t.key||"",env:e}},r=()=>({appId:"Intuit.utilities.default",apiKey:"preprdakyresX9M43dws9Wfg6IfJFQt13j265dlm",env:"e2e"}),s=()=>({appId:"Intuit.utilities.default",apiKey:"prdakyresXH4j4NJCZ9v9VNlWeHC2rOjtVdObGKT",env:"prod"})},236:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,{Z:()=>o});let o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._executionQueue=[],this._module=void 0,this._shouldQueueExecutions=!0}var t,n;return t=e,(n=[{key:"setModule",value:function(e){this._module=e}},{key:"execute",value:function(e,t){this._shouldQueueExecutions?this._executionQueue.push({method:e,args:t}):this._doExecution(e,t)}},{key:"removeFromQueue",value:function(){this._executionQueue&&this._executionQueue.length&&this._executionQueue.pop()}},{key:"triggerExecutions",value:function(){if(void 0===this._module)throw new Error("no module loaded");this._executionQueue.forEach((e=>{const t=e.method,{args:n}=e;this._doExecution(t,n)})),this._flushQueue(),this._shouldQueueExecutions=!1}},{key:"_doExecution",value:function(e,t){try{Array.isArray(t)?this._module[e](...t):this._module[e]()}catch(e){console.error(e)}}},{key:"hasQueuedExecutions",value:function(){return 0!==this._executionQueue.length}},{key:"_flushQueue",value:function(){this._executionQueue=[]}},{key:"isExecutionsQueued",value:function(){return this._shouldQueueExecutions}}])&&i(t.prototype,n),e}()},1128:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(8912),o=n(4829),r=n(3978);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const{levels:u}=i.Z,p=(0,r.uh)(),g=(0,r.mL)(),d=()=>{const{logger:e=console}="undefined"!=typeof window&&window.__shellInternal||{};return e};let f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.SHELL_ENVIRONMENT=o.Z.getEnvironment(),this.SHELL_CONFIG=(0,r.z9)(this.SHELL_ENVIRONMENT),"function"==typeof t?this._loggingCustomizationClass=t||null:(this._shellLoggingCustomization=t||null,this._loggingCustomizationClass=n||null),this._oilV1Enabled=o.Z.isExperimentApplicable(o.Z.experiences.enableOILV1),this._appLoggerConfig=null,this._sendAppLogs=!0,this._intuitLogger=null}var t,i;return t=e,(i=[{key:"handleAction",value:function(e){let t,n,i,r=!1;({context:t}=e),e.payload?(n=e.payload,({context:{pluginId:i}}=e)):(r=!0,n=e,({sourcePluginId:i}=e));const{message:s,props:a,exception:l,level:c,options:u}=n,p=o.Z.getCompleteEventContext(t);p.pluginId||(p.pluginId=i||"");const g={msgProps:a,appProps:this._getAppProps(),context:p,queued:e.queued||!1,flushLogsImmediately:u&&u.flushLogsImmediately||!1};if(!this._filterLogging(c,s,g,l))return Promise.resolve(!1);const d=g&&g.msgProps&&g.msgProps.isShellLog;if(!this._oilV1Enabled){const e=[];if(r&&(o.Z.shouldPostShellLogs(i,c)||d)&&e.push(this.SHELL_CONFIG.appId),i&&"web-shell"!==i){const t=o.Z.getPluginOILAppId(i);t&&e.push(t)}return this._getLoggerConfiguration(!this._oilV1Enabled).then((t=>(t&&t.appId&&this._sendAppLogs&&e.push(t.appId),g.destination=e,0===e.length?Promise.resolve():Promise.resolve(this._executeAction(c,s,g,l,u)))))}return Promise.resolve(this._executeAction(c,s,g,l,u))}},{key:"_executeAction",value:function(e,t,n,i,o){switch(e){case u.DEBUG:this._intuitLogger.debug(t,n);break;case u.INFO:this._intuitLogger.info(t,n);break;case u.LOG:this._intuitLogger.log(t,n);break;case u.WARN:this._intuitLogger.warn(t,n);break;case u.ERROR:i?this._intuitLogger.error(t,n,i,null,o):this._intuitLogger.error(t,n);break;case u.FATAL:i?this._intuitLogger.fatal(t,n,i,null,o):this._intuitLogger.fatal(t,n,null,null,o);break;default:this._intuitLogger.log(t,n)}}},{key:"_getAppProps",value:function(){const e=this._appLoggingCustomization;if(!e||"function"!=typeof e.getAppProps)return null;let t=null;try{t=e.getAppProps()}catch(e){this._intuitLogger?this._intuitLogger.error("Function call for getAppPros has an issue",{},e):console.error("Function call for getAppPros has an issue",e)}return t}},{key:"_filterLogging",value:function(e,t,n,i){if(!this._appLoggingCustomization){if(!this._loggingCustomizationClass)return!0;this._appLoggingCustomization=new this._loggingCustomizationClass({env:this.SHELL_ENVIRONMENT})}const o=this._appLoggingCustomization;let r=!0;const s=JSON.parse(JSON.stringify(n));if(s.msgProps&&!0===s.msgProps.isShellLog)return!0;if(!o||"function"!=typeof o.filterLogging)return!0;try{r=o.filterLogging(e,t,s,i)}catch(e){this._intuitLogger?this._intuitLogger.error("Function call for filterLogging has an issue",{},e):console.error("Function call for filterLogging has an issue",e)}return r}},{key:"initializeLogger",value:function(){const e=this;return Promise.resolve().then(n.t.bind(n,5004,23)).then((t=>(e._intuitLogger=new t.LoggingUtility,e._getLoggerConfiguration(!1).then((t=>Promise.resolve(e._setLoggerConfiguration(a(a({},t),{},{reliableTransmission:r.BN,oilVersion:e._oilV1Enabled?"v1":"v2"}))))).catch((e=>{throw e})))))}},{key:"_setLoggerConfiguration",value:function(e){this._intuitLogger.setConfiguration(e)}},{key:"_handleUnavailableCustomizations",value:function(){if("prod"!==this.SHELL_ENVIRONMENT)return d().error("No Logging configs specified.\n        In pre-production, sending logs to the OIL splunk dashboard.\n        Please NOTE: The events will be lost in production\n        Please add Logging configs in your app plugin."),this._appLoggerConfig=p,Promise.resolve(p);const e="No Logging configs specified in you app. Please add Logging configs in your Web App Config in DevPortal or App Plugin. The events will be lost in production";return this._oilV1Enabled?Promise.reject(new Error(e)):(d().error(e),this._sendAppLogs=!1,Promise.resolve(g))}},{key:"_getConfigFromAppExperience",value:function(){const e=o.Z.getAppExperienceData("loggingV2");return e&&e.oil&&e.oil.appId&&e.oil.apiKey?{appId:e.oil.appId,apiKey:e.oil.apiKey,env:this.SHELL_ENVIRONMENT}:null}},{key:"_getLoggerConfigWithoutAppPluginOverride",value:function(){const e=this._getConfigFromAppExperience();return e?(this._appLoggerConfig=e,Promise.resolve(e)):this._handleUnavailableCustomizations()}},{key:"_getAppLoggerConfig",value:function(){const e=this;if(!this._loggingCustomizationClass)return this._getLoggerConfigWithoutAppPluginOverride();const t={env:this.SHELL_ENVIRONMENT};return this._appLoggingCustomization=new this._loggingCustomizationClass(t),"function"!=typeof this._appLoggingCustomization.getConfig?this._getLoggerConfigWithoutAppPluginOverride():Promise.resolve(this._appLoggingCustomization.getConfig()).then((t=>"APP_ID"===t.appId||"API_KEY"===t.apiKey?e._getLoggerConfigWithoutAppPluginOverride():Promise.resolve(t))).then((t=>{const n=a(a({},t),{},{env:t&&t.env||e.SHELL_ENVIRONMENT,oilVersion:e._oilV1Enabled?"v1":"v2"});return e._appLoggerConfig=n,t}))}},{key:"_getLoggerConfiguration",value:function(e){return this._shellLoggingCustomization&&!e?Promise.resolve(this._shellLoggingCustomization):this._appLoggerConfig?Promise.resolve(this._appLoggerConfig):this._getAppLoggerConfig()}}])&&c(t.prototype,i),e}()},6179:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const i={NONE:"NONE",MAIN:"MAIN",WORK:"WORK",HOME:"HOME",MOBILE:"MOBILE",FAX:"FAX",RECOVERY:"RECOVERY"},o={convert(e){if(!e||"object"!=typeof e)return{userProfileInfo:{firstName:"",lastName:"",email:"",phone:[],userName:""},userAuthInfo:{authId:null}};const{username:t="",fullName:n=[],email:o={},userId:r=null}=e,s=o.address||"";let a=[];const[l]=n,{givenName:c="",surName:u=""}=l||{};return Array.isArray(e.phone)&&(a=e.phone.filter((e=>i[e.type]&&"string"==typeof e.phoneNumber)).map((e=>({phoneNumber:e.phoneNumber,type:i[e.type]})))),{userProfileInfo:{firstName:c,lastName:u,userName:t,email:s,phone:a},userAuthInfo:{authId:r}}}}},9498:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={async _getSegmentAnalyticsInstance(){if(this._segmentAnalyticsInstance)return this._segmentAnalyticsInstance;const e=(await n.e(5534).then(n.bind(n,5534))).default;return this._segmentAnalyticsInstance=new e(this._appCustomization),this._segmentAnalyticsInstance},async _getWebSDKAnalyticsInstance(){if(this._webSDKAnalyticsInstance)return this._webSDKAnalyticsInstance;const e=(await n.e(4706).then(n.bind(n,4706))).default;return this._webSDKAnalyticsInstance=new e(this._appCustomization),this._webSDKAnalyticsInstance},setAppCustomization(e){this._appCustomization=e||null},async track(e,t){const n=await this._getSegmentAnalyticsInstance();return n?n.handleEvent(e,t):Promise.reject(new Error("Unable to handle event as segmentAnalyticsInstance is not defined"))},async trackEvent(e,t){const n=await this._getWebSDKAnalyticsInstance();return n?n.handleEvent(e,t):Promise.reject(new Error("Unable to handle event as webSDKAnalyticsInstance is not defined"))}}},6177:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,f:()=>r});const i={},o=(e,t)=>{i[e]=t},r=e=>i[e]?i[e]:null},4829:(e,t,n)=>{"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>v});const s={};function a(e){return"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.pluginsInfo&&window.__shellInternal.pluginsInfo.plugins&&window.__shellInternal.pluginsInfo.plugins[e]||{}}function l(e){return"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.appExperience&&window.__shellInternal.appExperience[e]||null}function c(){return"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.applicationContext||null}function u(e){return"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.shellExperiments&&window.__shellInternal.shellExperiments[e]||!1}function p(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u(e)===t}const g={enableOILV1:"enable-oilv-1",enableMobileMode:"enable-mobile-mode",enableTracing:"enable-tracing-rum",disableFCILogging:"disable-fci-logging",disablePerformanceLogging:"disable-performance-logging",tracingLoad25:"enable-tracing-rum-load-25",tracingLoad50:"enable-tracing-rum-load-50",tracingLoad75:"enable-tracing-rum-load-75",tracingLoad100:"enable-tracing-rum-load-100",enableRUM:"enable-rum",rumLoad25:"enable-rum-load-25",rumLoad50:"enable-rum-load-50",rumLoad75:"enable-rum-load-75",rumLoad100:"enable-rum-load-100"};function d(){if("undefined"==typeof window)return!1;const e=new URLSearchParams(window.location.search),t={};return e.forEach(((e,n)=>{n.startsWith("_embeddedMobile")&&(t[n]=e)})),(!!window.MobileShell||t&&"true"===t._embeddedMobile)&&p(g.enableMobileMode)}function f(){return"undefined"!=typeof window&&window.MobileShell&&window.MobileShell.embeddedAppInfo||null}function h(){let e="WEB";return d()&&(e="WEB-VIEW-MOBILE"),{clientMode:e,embeddedAppInfo:f()}}const m={};function b(e){if("undefined"!=typeof window&&!Object.prototype.hasOwnProperty.call(m,e))try{const t=window[e];t.setItem("_".concat(e,"Check"),"check"),t.removeItem("_".concat(e,"Check")),m[e]=!0}catch(t){m[e]=!1}return m[e]}function _(){return b("localStorage")}function w(){return b("sessionStorage")}function y(e){const t=_();return t&&"true"===localStorage.getItem(g["".concat(e,"Load100")])||p(g["".concat(e,"Load100")])?1:t&&"true"===localStorage.getItem(g["".concat(e,"Load75")])||p(g["".concat(e,"Load75")])?.75:t&&"true"===localStorage.getItem(g["".concat(e,"Load50")])||p(g["".concat(e,"Load50")])?.5:t&&"true"===localStorage.getItem(g["".concat(e,"Load25")])||p(g["".concat(e,"Load25")])?.25:0}const v={loadAMDModule:function(e){return"undefined"==typeof window?Promise.resolve():new Promise(((t,n)=>{try{window.require([e],t,n)}catch(e){n(e)}}))},getEnvironment:function(){return"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.environment||"unknown"},getIusOfferingEnvironment:function(){var e,t;return"prod"===(null===(e=c())||void 0===e?void 0:e.environment)?"prd":null===(t=c())||void 0===t?void 0:t.environment},getCompleteEventContext:function(e){const t=o({pluginId:e&&e.pluginId||"",widgetId:e&&e.widgetId||"",sandboxType:e&&e.sandboxType||"",widgetVersion:e&&e.widgetVersion||""},function(){const e=l("appPlugin"),{clientMode:t}=h(),n={appExpId:l("id")||"",route:"undefined"!=typeof window&&window.location.pathname||null,url:"undefined"!=typeof window&&window.location.href||null,referrer:"undefined"!=typeof document&&document.referrer||null,userAgent:"undefined"!=typeof window&&window.navigator.userAgent||null,browserInfo:"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.browserInfo?window.__shellInternal.browserInfo:null,shellVersion:a("web-shell").version,deviceMemory:"undefined"!=typeof window&&window.navigator.deviceMemory||null,cores:"undefined"!=typeof window&&window.navigator.hardwareConcurrency||null,appPlugin:l("appPlugin")||"",appPluginVersion:a(e).version||"",clientMode:t,isOffline:"undefined"!=typeof window&&!window.navigator.onLine,assetId:l("assetId")||"",target:void 0};return Object.keys(n).filter((e=>["boolean","number"].includes(typeof n[e])||Boolean(n[e]))).reduce(((e,t)=>o(o({},e),{},{[t]:n[t]})),{})}()),n=a(t.pluginId);return n?(t.pluginVersion=n.version||"",t.pluginLabel=n.label||""):(t.pluginVersion="",t.pluginLabel=""),e&&"boolean"==typeof e.isFirstLoad&&(t.isFirstLoad=e.isFirstLoad),t},getAppExperienceData:l,getAppContext:c,getAuthId:function(){const e="undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.applicationContext||void 0;return e&&e.userAuthInfo&&e.userAuthInfo.authId},getPluginExperimentAssignments:e=>{const t="undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.applicationContext&&window.__shellInternal.applicationContext.experimentAssignments||void 0;return t&&t[e]},getPlugin:a,getPluginAssetData:function(e){let t="",n="";if(e){const i=a(e);i&&i.assetId&&(t=i.assetId),i&&i.assetAlias&&(n=i.assetAlias)}return{pluginAssetId:t,pluginAssetAlias:n}},isExperimentApplicable:p,experiences:g,isLocalStorageSupported:_,isSessionStorageSupported:w,_supportedBrowserFeatures:m,getLoadPercent:y,isTracingEnabled:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=f();if(!e&&t&&Array.isArray(t.enabledFeatures)&&t.enabledFeatures.includes("fci"))return!1;const n=_(),i=w(),o=n&&"true"===localStorage.getItem(g.enableTracing)||p(g.enableTracing);if(!o)return!1;const r=i&&sessionStorage.getItem("intuit-trace-enabled");if(r)return"true"===r;const s=Math.random()<y("tracing");return s?i&&sessionStorage.setItem("intuit-trace-enabled","true"):i&&sessionStorage.setItem("intuit-trace-enabled","false"),s},isRUMEnabled:function(){const e=_(),t=w();if(!(e&&"true"===localStorage.getItem(g.enableRUM)||p(g.enableRUM)))return t&&sessionStorage.setItem("intuit-rum-enabled","false"),!1;const n=t&&sessionStorage.getItem("intuit-rum-enabled");if(n)return"true"===n;const i=Math.random()<y("rum");return i?t&&sessionStorage.setItem("intuit-rum-enabled","true"):t&&sessionStorage.setItem("intuit-rum-enabled","false"),i},isFCILoggingDisabled:function(){return p(g.disableFCILogging)||_()&&"true"===localStorage.getItem(g.disableFCILogging)},isPerformanceLoggingDisabled:function(){return p(g.disablePerformanceLogging)||_()&&"true"===localStorage.getItem(g.disablePerformanceLogging)},getPluginOILAppId:function(e){const t=a(e);return t&&t.extendedProperties&&t.extendedProperties.loggingV2&&t.extendedProperties.loggingV2.oil&&t.extendedProperties.loggingV2.oil.appId?t.extendedProperties.loggingV2.oil.appId:null},shouldPostShellLogs:function(e,t){return!e||"web-shell"===e||t<4&&"web-shell"!==e},getShellExperiments:u,getPluginOILPerformanceAppId:function(e){const t=a(e);return t&&t.extendedProperties&&t.extendedProperties.performance&&t.extendedProperties.performance.oil&&t.extendedProperties.performance.oil.appId?t.extendedProperties.performance.oil.appId:null},isMobileShell:d,getPlatformInfo:h,setPropertyValue:function(e,t){s[e]=t},getPropertyValue:function(e){return s[e]},isQboApp:function(){return["qbo-web-app-experience"].includes(l("id"))},getEmbeddedAppInfo:f,createGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}},2395:(e,t,n)=>{"use strict";n.d(t,{NM:()=>i,jA:()=>o,Bp:()=>s,p$:()=>a,Yq:()=>l,KT:()=>c,Te:()=>u,nD:()=>p,W7:()=>g});const i="enable-plugin-identifier",o="debugToolsShortcut",r="Plugin Highlighter widget",s="".concat(r," - Invoked"),a="".concat(r," - Removed"),l="".concat(r," - Fetch Success"),c="".concat(r," - Fetch Fail"),u="userContextFromAppPlugin",p="WebShellInterfaceCustomizations",g="not_started"},5958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(5827);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a,l,c;const u={handleAction(e){return this[e.command](e.payload)},setAppCustomization(e){a=e||null},async requestExperiment(e){const{businessUnit:t,entityId:o,context:s,assignmentFilter:u,assignmentOptions:p,environment:g}=e;let d={};a&&(d=a.getAppCustomContext(),l=a.getSuppressExperimentAssignmentsFlag());const f=r(r({},d),s);return l?Promise.resolve([]):(c||(c=(await n.e(977).then(n.bind(n,977))).default),c.getIXPAssignmentsByFilter(t,o,f,u,p,g).catch((e=>{throw i.Z.error("IXP: Shell - requestExperiment - failed to request experiment",{},e),e})))}}},5827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(8912),o=n(1128),r=n(236),s=n(3978),a=n(4829);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{levels:p}=i.Z,g=a.Z.getEnvironment(),d=(0,s.z9)(g),f=a.Z.experiences.enableOILV1,h={_isOILV1Enabled:()=>a.Z.isExperimentApplicable(f),_initLoggerInstances(){let e=null,t=null;return t=this._appLoggerInstance||this._initIntuitLogger(this._appCustomization,null).then((e=>(this._appDeferredExec.setModule(e),this._appLoggerInstance=e,e))).catch((e=>(this.error("unable to initialize logger for app",{},e,"",null),this._appLoggerInstance=null,this._appLoggerInstance))),this._isOILV1Enabled()&&(d.oilVersion="v1",e=this._shellLoggerInstance||this._initIntuitLogger(d,this._appCustomization).then((e=>(this._shellLoggerInstance=e,e))).catch((e=>(this.error("unable to initialize logger for shell",{},e,"",null),this._shellLoggerInstance=null,this._shellLoggerInstance)))),Promise.all([t,e])},async _initIntuitLogger(e,t){const n=new o.Z(e,t);return await n.initializeLogger(),n},_initDeferredExecutors(){this._appDeferredExec||(this._appDeferredExec=new r.Z)},_postShellLogs(e,t){const{message:n,props:i,exception:o,sourcePluginId:r,context:s,destination:a}=t;this._shellLoggerInstance?this._shellLoggerInstance.handleAction(t):"undefined"!=typeof window&&window.__shellInternal.logger[e](n,i,o,r,s,a)},_queueAppLogs(e){this.handleAction(e)},_handleLogging(e,t){const{sourcePluginId:n,level:i}=t;this._queueAppLogs(t),this._isOILV1Enabled()&&a.Z.shouldPostShellLogs(n,i)&&this._postShellLogs(e,t)},_generateEventPayload:(e,t,n,i,o,r)=>({message:e,level:t,props:c(c({},n),{},{isShellLog:!0}),exception:i,sourcePluginId:o,context:r,options:{flushLogsImmediately:t===p.ERROR||t===p.FATAL}}),handleAction(e){this._initDeferredExecutors();const t=c(c({},e),{},{queued:this._appDeferredExec.isExecutionsQueued()});this._appDeferredExec.execute("handleAction",[t])},sendEvents(e){return this._initDeferredExecutors(),this._initLoggerInstances().then((t=>{let[n]=t;Array.isArray(e)&&e.length>0&&e.forEach((e=>{this.handleAction(e)})),n&&this._appDeferredExec.triggerExecutions()}))},setAppCustomization(e){this._appCustomization=e||null},webShellLogHandler(e){const t=e.sourcePluginId||"",n=e.context||{};switch(e.level){case p.DEBUG:this.debug(e.message,e.props,e.exception,t,n);break;case p.INFO:this.info(e.message,e.props,e.exception,t,n);break;case p.LOG:this.log(e.message,e.props,e.exception,t,n);break;case p.WARN:this.warn(e.message,e.props,e.exception,t,n);break;case p.ERROR:this.error(e.message,e.props,e.exception,t,n);break;case p.FATAL:this.fatal(e.message,e.props,e.exception,t,n);break;default:this.log(e.message,e.props,e.exception,t,n)}},debug(e,t,n,i,o){const r=this._generateEventPayload(e,5,t,n,i,o);this._handleLogging("debug",r)},log(e,t,n,i,o){const r=this._generateEventPayload(e,4,t,n,i,o);this._handleLogging("log",r)},info(e,t,n,i,o){const r=this._generateEventPayload(e,4,t,n,i,o);this._handleLogging("info",r)},warn(e,t,n,i,o){const r=this._generateEventPayload(e,3,t,n,i,o);this._handleLogging("warn",r)},error(e,t,n,i,o){const r=this._generateEventPayload(e,2,t,n,i,o);this._handleLogging("error",r)},fatal(e,t,n,i,o){const r=this._generateEventPayload(e,1,t,n,i,o);this._handleLogging("fatal",r)}}},5447:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(236),o=n(4829),r=n(5827),s=n(3978);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const l=(0,s.uh)(),c=(0,s.mL)();let u,p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);const{isOobPerfDisabled:i,isCustomPerfDisabled:r,isFciDisabled:a}=(()=>{const e=o.Z.isTracingEnabled(),t=o.Z.isRUMEnabled(),n=o.Z.isPerformanceLoggingDisabled(),i=o.Z.isFCILoggingDisabled();let r=!1,s=!1,a=!1;return t&&n&&(r=!0,e&&(s=!0)),e&&i&&(a=!0),{isOobPerfDisabled:r,isCustomPerfDisabled:s,isFciDisabled:a}})();this._isOobPerfDisabled=i,this._isCustomPerfDisabled=r,this._isFciDisabled=a,this._environment=o.Z.getEnvironment(),this._shellConfig=(0,s.z9)(this._environment),this._userTimingInstance=null,this._PerformanceCustomizationClass=t,this._shellConfigOverride=n,this._shouldSendAppPerfLogs=!0}var t,i;return t=e,(i=[{key:"initPerformanceSdk",value:function(){return this._isOILV1Enabled()?this._shellConfigOverride?this._initUserTimingInstance(this._shellConfigOverride):this._getAppRumConfig(this._environment).then((e=>this._initUserTimingInstance(e))):this._getAppRumConfig(this._environment).then((e=>{this._appConfig=e;const t=e.apiKey&&e.appId&&e.env?e:this._shellConfigOverride||this._shellConfig;return this._initUserTimingInstance(t)}))}},{key:"_isOILV1Enabled",value:function(){return o.Z.isExperimentApplicable(o.Z.experiences.enableOILV1)}},{key:"_getLogDestination",value:function(e){const t=[];if(!this._isOILV1Enabled()&&(this._appConfig&&this._appConfig.appId!==this._shellConfig.appId&&this._shouldSendAppPerfLogs&&t.push(this._appConfig.appId),"web-shell"===e&&t.push(this._shellConfig.appId),e&&"web-shell"!==e)){const n=o.Z.getPluginOILPerformanceAppId(e);n&&t.push(n)}return t}},{key:"_getAppProps",value:function(){const e={env:this._environment};if(this._perfCustomization=this._perfCustomization||this._PerformanceCustomizationClass&&new this._PerformanceCustomizationClass(e),!this._perfCustomization||"function"!=typeof this._perfCustomization.getAppProps)return null;let t=null;try{t=this._perfCustomization.getAppProps()}catch(e){r.Z&&r.Z.error?r.Z.error("Function call for getAppProps has an issue",{},e,"",{}):console.error("Function call for getAppProps has an issue",e)}return t}},{key:"_getDefaultConfig",value:function(e,t,n){if("prod"===e){const e="No RUM configs specified in you app. Please add RUM/performance configs in your Web App Config in DevPortal or App Plugin. The events will be lost in production";return this._isOILV1Enabled()?Promise.reject(new Error(e)):(this._shouldSendAppPerfLogs=!1,r.Z.error(e,{},n,"",{}),Promise.resolve(t))}return r.Z.error("No RUM configs specified.\n      In pre-production, sending RUM events to the ".concat(t?"Shell":"default OIL"," splunk dashboard.\n      Please NOTE: The events will be lost in production\n      Please add RUM configs in your app plugin."),{},n,"",{}),Promise.resolve(t)}},{key:"_getConfigFromAppExperience",value:function(){const e=o.Z.getAppExperienceData("performance");return e&&e.oil&&e.oil.appId&&e.oil.apiKey?{appId:e.oil.appId,apiKey:e.oil.apiKey}:null}},{key:"_getAppRumConfig",value:function(e){const t="prod"===e?c:l;if(!this._PerformanceCustomizationClass){const n=this._getConfigFromAppExperience();return n?(n.env=this._environment,Promise.resolve(n)):this._getDefaultConfig(e,t,null)}if(this._perfCustomization=this._perfCustomization||new this._PerformanceCustomizationClass({env:e}),!this._perfCustomization.getConfig){const n=this._getConfigFromAppExperience();return n?(n.env=this._environment,Promise.resolve(n)):this._getDefaultConfig(e,t,null)}return Promise.resolve(this._perfCustomization.getConfig()).then((t=>t?(t.env=t.env||this._environment,t):this._getDefaultConfig(e,this._shellConfig,null))).catch((t=>this._getDefaultConfig(e,this._shellConfig,t)))}},{key:"_initUserTimingInstance",value:function(e){const t=this;return Promise.resolve().then(n.t.bind(n,9073,23)).then((n=>{const{IntuitPerformance:i,Config:o}=n,r=this._isOILV1Enabled()?"v1":"v2",s=e?new o(e.env,e.apiKey,e.appId,r):null,{userTiming:a}=new i(s);return t._userTimingInstance=a,a}))}},{key:"handleProfiling",value:function(e){if(this._isFciDisabled&&this._isCustomPerfDisabled)return;let t;if(t=e.payload?e.payload:e,this._isFciDisabled&&t.profileType&&"customerInteraction"===t.profileType)return;if(this._isCustomPerfDisabled&&t.profileType&&"profile"===t.profileType)return;const n=e.context||null,i=n&&n.pluginId,{profile:r,options:s}=t;let a=null;const l=this._getLogDestination(i);a=l.length>0?{destination:l}:null,(this._isOILV1Enabled()||l.length>0)&&this._userTimingInstance.saveProfile(r,this._getAppProps(),o.Z.getCompleteEventContext(n),a,s)}},{key:"measureFromPageTiming",value:function(e,t,n,i){this._isOobPerfDisabled||this._userTimingInstance.measureFromPageTiming(e,t,{},this._getAppProps(),n,i,this._isOILV1Enabled()?null:{destination:this._getLogDestination(n&&n.pluginId)})}},{key:"pageInitiated",value:function(e,t){this._isOobPerfDisabled||this._userTimingInstance.pageInitiated(e,t)}},{key:"actionInitiated",value:function(e,t){this._userTimingInstance.actionInitiated(e,t)}},{key:"pageCompleted",value:function(e,t){this._isOobPerfDisabled||this._userTimingInstance.pageCompleted(null,this._getAppProps(),e,t,this._isOILV1Enabled()?null:{destination:this._getLogDestination(e&&e.pluginId)})}},{key:"actionCompleted",value:function(e,t,n){this._userTimingInstance.actionCompleted(e,null,this._getAppProps(),t,n,this._isOILV1Enabled()?null:{destination:this._getLogDestination(t&&t.pluginId)})}}])&&a(t.prototype,i),e}();const g=()=>u||(u=Promise.all([n.e(5605),n.e(1608)]).then(n.bind(n,1608)).then((e=>new(0,e.default))),u),d=o.Z.getEnvironment(),f=(0,s.z9)(d),h={_isFirstLoad:!0,_isOILV1Enabled:()=>o.Z.isExperimentApplicable(o.Z.experiences.enableOILV1),setAppCustomization(e){this._PerformanceCustomization=e||null},_initDeferredExecutors(){if(o.Z.isTracingEnabled()&&!this._traceDeferredExec&&(this._traceDeferredExec=new i.Z),this._isOILV1Enabled()){if(this._shellDeferredExec&&this._appDeferredExec)return;this._shellDeferredExec=new i.Z}else if(this._appDeferredExec)return;this._appDeferredExec=new i.Z},async _initIntuitPerformance(e){const t=new p(this._PerformanceCustomization,e);return await t.initPerformanceSdk(),t},_initIntuitTracePerformance:()=>g(),_initPerformanceInstances(){let e=null,t=null,n=null;return this._appDeferredExec||this._initDeferredExecutors(),t=this._appPerformanceInstance||this._initIntuitPerformance().then((e=>(this._appDeferredExec.setModule(e),this._appPerformanceInstance=e,this._appPerformanceInstance))).catch((e=>(r.Z.error("Unable to initialize app userTiming instance",{},e),this._appPerformanceInstance=null,this._appPerformanceInstance))),this._isOILV1Enabled()&&(e=this._shellPerformanceInstance||this._initIntuitPerformance(f).then((e=>(this._shellDeferredExec.setModule(e),this._shellPerformanceInstance=e,this._shellPerformanceInstance))).catch((e=>(r.Z.error("Unable to initialize userTiming instance",{},e),this._shellPerformanceInstance=null,this._shellPerformanceInstance)))),o.Z.isTracingEnabled()&&(n=this._traceInstance||this._initIntuitTracePerformance().then((e=>(this._traceDeferredExec.setModule(e),this._traceInstance=e,this._traceInstance))).catch((e=>(r.Z.error("RUM: Unable to initialize trace instance",{},e),this._traceInstance=null,this._traceInstance)))),Promise.all([t,e,n])},sendEvents(){return this._initPerformanceInstances().then((e=>{let[t,n,i]=e;t&&this._appDeferredExec.triggerExecutions(),this._isOILV1Enabled()&&n&&this._shellDeferredExec.triggerExecutions(),i&&this._traceDeferredExec.triggerExecutions()}))},_executeUserTimingAPIs(e,t){this._initDeferredExecutors(),this._appDeferredExec.execute(e,t),this._isOILV1Enabled()&&this._shellDeferredExec.execute(e,t)},handleAction(e){this._isOILV1Enabled()?this._shellDeferredExec.execute("handleProfiling",[e]):this._appDeferredExec.execute("handleProfiling",[e]),o.Z.isTracingEnabled()&&this._traceDeferredExec.execute("handleProfiling",[e])},measureFromPageTiming(e,t){const n=o.Z.getCompleteEventContext({pluginId:"web-shell",isFirstLoad:this._isFirstLoad});this._executeUserTimingAPIs("measureFromPageTiming",[e,"fetchStart",n,t||Date.now()])},markAndMeasureFromPageTiming(e){this.mark(e),this.measureFromPageTiming(e)},pageInitiated(e){this._executeUserTimingAPIs("pageInitiated",[e,Date.now()])},actionInitiated(e){this._executeUserTimingAPIs("actionInitiated",[e,Date.now()])},pageCompleted(){const e=o.Z.getCompleteEventContext({pluginId:"web-shell",isFirstLoad:this._isFirstLoad});this._isFirstLoad=!1,this.mark("PAGE_LOAD:".concat("undefined"!=typeof window&&window.location.pathname||"")),this._executeUserTimingAPIs("pageCompleted",[e,Date.now()])},actionCompleted(e){const t=o.Z.getCompleteEventContext({pluginId:"web-shell"});this.mark(e),this._executeUserTimingAPIs("actionCompleted",[e,t,Date.now()])},mark(e){e&&"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.mark&&window.performance.mark(e)},measure(e,t,n){e&&"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.measure&&(n?window.performance.measure(e,t,n):window.performance.measure(e,t))}}},5793:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(4372),o=n(9262),r=n(5827),s=n(4829),a=n(9055);const l=()=>{const{url:e}=(0,a.Z)(),t=[e];return window.__shellInternal&&window.__shellInternal.OILConfigs&&(window.__shellInternal.OILConfigs.endpoint&&t.push(window.__shellInternal.OILConfigs.endpoint),window.__shellInternal.OILConfigs.endpointV2&&t.push(window.__shellInternal.OILConfigs.endpointV2)),t},c=e=>{switch(e){case"dev":case"e2e":case"perf":case"qal":case"qa":return"https://rum-e2e.api.intuit.com/v1/rum/web";case"prd":default:return"https://rum.api.intuit.com/v1/rum/web"}},u=()=>window.__shellInternal&&window.__shellInternal.OILConfigs&&window.__shellInternal.OILConfigs.key,p=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Z.getEnvironment();return e=t&&"unknown"!==t?t:"prd",{url:c(e),apiKey:u(),excludeFetchResources:l()}};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h,m=!1;const b="shellNavigationStart";function _(){h&&(o.default.get("app-route-change-requested").subscribe((()=>{h.mark(b)})),o.default.get("widget-performance-topic").subscribe((e=>{if(!e||!e._profileName||"string"!=typeof e._profileName)return;const t="undefined"!=typeof window&&window.location.pathname||"",n="undefined"!=typeof window&&window.location.href||"",i="undefined"!=typeof document&&document.referrer||"",{_profileName:o,_mainSpan:r,_metadata:a}=e;r&&o.includes("widget-load::")&&(h.keyedMark(o,"widgetLoadStart",r.startTime),h.keyedMeasure(o,"widgetLoadStart","widgetLoadTime",d(d(d({},a),s.Z.getPluginAssetData(a.pluginId)),{},{route:t,url:n,referrer:i}),r.endTime)),r&&o.includes("widget-render::")&&(h.keyedMark(o,"widgetReadyStart",r.startTime),h.keyedMeasure(o,"widgetReadyStart","widgetReadyTime",d(d(d({},a),s.Z.getPluginAssetData(a.pluginId)),{},{route:t,url:n,referrer:i}),r.endTime))})))}const w={initializeRumReporter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!s.Z.isRUMEnabled())return;const{url:t,apiKey:n,excludeFetchResources:o}=p();return h=new i.Z.RumReporter(d({logger:{log:(e,t)=>{r.Z.info(e,t)},error:(e,t)=>{r.Z.error(e,{},t)},warn:(e,t)=>{r.Z.warn(e,{},t)}},apiURL:t,apiHeaders:{authorization:"Intuit_APIKey intuit_apikey=".concat(n,", intuit_apkey_version=1.0")},reportNavigation:!0,reportResources:!0,reportWebVitals:!0,includeInterface:!0,enableProtobuf:!1,waitForFirstPageTags:!0,tags:d(d({},s.Z.getCompleteEventContext()),{},{env:s.Z.getEnvironment(),domain:"undefined"!=typeof window&&window.location.hostname||""}),initialCacheTime:1e3,cacheTime:5e3,excludeFetchResources:o},e)),m=!1,_(),h},registerEventListeners:_,getRumReporter:function(){return h},setFirstPageRecorded:function(){m=!0},isFirstPageRecorded:function(){return m},NAV_START_MARK_NAME:b}}}]);
//# sourceMappingURL=6646.js.map