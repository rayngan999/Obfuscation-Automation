define("components/tabbedBookingWidget",["FR","jquery","underscore","services/responsiveUtil","services/adobeTargetHelper","components/sharedUI/loadingSpinner"],function(t,e,o,d,n,a){var i={},r={setDefaultActiveProduct:function(){i.titleSection.first().removeClass("hidden"),i.productDesktopSelector.first().addClass("active"),i.productDesktopContents.first().removeClass("hidden"),i.productDesktopName.first().removeClass("c109__productname--v1"),i.productDesktopName.first().addClass("c109__productname--v2"),r.firstProductShouldBeOpenOnMobile()&&(r.openFirstProductOnMobile(),i.productMobileName.first().removeClass("c109__productname--v1"),i.productMobileName.first().addClass("c109__productname--v2"))},firstProductShouldBeOpenOnMobile:function(){return"false"===i.productMobileContainer.data("initial-collapse").toLowerCase()},openFirstProductOnMobile:function(){i.tabbedBookingWidget.find(".panel-collapse").first().addClass("in"),i.productMobileNameContainer.first().removeClass("collapsed")},updateTitleSection:function(t){i.titleSection.addClass("hidden"),r.findProductByContainer(".tabbed_booking_widget__title_section",e(t.currentTarget).attr("data-product")).removeClass("hidden")},updateDesktopView:function(t){var o=r.findProductByContainer(".tabbed_booking_widget__desktop__product",e(t.currentTarget).attr("data-product"));o.hasClass("active")||(r.updateDesktopProductName(o),r.updateDesktopProductContents(o),r.updateDesktopClassName(i.productDesktopName,o),r.updateStartDate(o))},updateDesktopProductName:function(t){i.productDesktopSelector.removeClass("active"),t.addClass("active")},updateDesktopProductContents:function(t){i.productDesktopContents.addClass("hidden"),r.findProductByContainer(".tabbed_booking_widget__desktop__product_contents",t.attr("data-product")).removeClass("hidden")},updateDesktopClassName:function(t,e){t.removeClass("c109__productname--v2").addClass("c109__productname--v1"),e.find(".tabbed_booking_widget__product_name").addClass("c109__productname--v2").removeClass("c109__productname--v1")},updateStartDate:function(t){var e=r.findProductByContainer(".tabbed_booking_widget__desktop__product_contents",t.attr("data-product"));if(e.length>0){var o=e.find('div[data-component-element="bdyBookingWidget_StartDate"]');o&&o.length>0&&e.trigger("set-start-date-in-datepicker",[o])}},updateStartDateMobile:function(t){var e=r.findProductByContainer(".tabbed_booking_widget__mobile__product_name",t.attr("data-product")).closest(".tabbed_booking_widget__mobile__product");if(e.length>0){var o=e.find('div[data-component-element="bdyBookingWidget_StartDate"]');o&&o.length>0&&e.trigger("set-start-date-in-datepicker",[o])}},updateEndDate:function(t){var e=r.findProductByContainer(".tabbed_booking_widget__desktop__product_contents",t.attr("data-product"));if(e.length>0){var o=e.find('div[data-component-element="bdyBookingWidget_EndDate"]');o&&o.length>0&&e.trigger("set-end-date-in-datepicker",[o,1])}},updateEndDateMobile:function(t){var e=r.findProductByContainer(".tabbed_booking_widget__mobile__product_name",t.attr("data-product")).closest(".tabbed_booking_widget__mobile__product");if(e.length>0){var o=e.find('div[data-component-element="bdyBookingWidget_EndDate"]');o&&o.length>0&&e.trigger("set-end-date-in-datepicker",[o,1])}},updateStartAndEndDatesOnInit:function(){var t=i.tabbedBookingWidget.find(".active").attr("data-product");if(t&&t>0){var e=r.findProductByContainer(".tabbed_booking_widget__desktop__product",t);e&&e.length>0&&(r.updateStartDate(e),r.updateEndDate(e));var o=r.findProductByContainer(".tabbed_booking_widget__mobile__product_name",t);o&&o.length>0&&(r.updateStartDateMobile(o),r.updateEndDateMobile(o))}},updateMobileView:function(t){var o=r.findProductByContainer(".tabbed_booking_widget__mobile__product_name",e(t.currentTarget).attr("data-product"));r.updateMobileAccordion(t),r.updateMobileClassName(i.productMobileName,o),r.updateStartDateMobile(o)},updateMobileAccordion:function(t){i.tabbedBookingWidget.find(".panel-collapse").collapse("hide"),e(e(t.currentTarget).data("target")).collapse("show")},updateMobileClassName:function(t,e){t.removeClass("c109__productname--v2").addClass("c109__productname--v1"),o.delay(function(){e.parents(".tabbed_booking_widget__mobile__product_name_container").hasClass("collapsed")||(e.find(".tabbed_booking_widget__product_name").addClass("c109__productname--v2").removeClass("c109__productname--v1"),r.scrollToActiveElement(e))},100)},scrollToActiveElement:function(e){o.delay(function(){d.isPhone()&&t.$el.htmlBody.animate({scrollTop:e.offset().top-t.$el.mainNav.outerHeight(!0)-30},500)},150,e)},findProductByContainer:function(t,e){return i.tabbedBookingWidget.find(t+"[data-product="+e+"]")}};var c=function(){var t;i.tabbedBookingWidget=e(".tabbed_booking_widget"),i.titleSection=i.tabbedBookingWidget.find(".tabbed_booking_widget__title_section"),i.productDesktopSelector=i.tabbedBookingWidget.find(".tabbed_booking_widget__desktop__product"),i.productDesktopName=i.tabbedBookingWidget.find(".tabbed_booking_widget__desktop__product_name"),i.productMobileSelector=i.tabbedBookingWidget.find(".tabbed_booking_widget__mobile__product_name"),i.productMobileName=i.tabbedBookingWidget.find(".tabbed_booking_widget__mobile__product_name--inline"),i.productMobileContainer=i.tabbedBookingWidget.find(".tabbed_booking_widget__mobile__product_container"),i.productMobileNameContainer=i.tabbedBookingWidget.find(".tabbed_booking_widget__mobile__product_name_container"),i.productDesktopContents=i.tabbedBookingWidget.find(".tabbed_booking_widget__desktop__product_contents"),i.tabbedBookingWidget.length&&(0!==(t=i.tabbedBookingWidget.find(".tabbed_booking_widget__desktop__product, .tabbed_booking_widget__mobile__product_name").has(".icon-checkout-vacationdeal-container")).index()&&t.on("click",function o(d){e(d.currentTarget).hasClass("active")||(n.sendTargetNotification({mboxNames:["TBWLodgingTab"]}),t.off("click",o))}),i.productDesktopSelector.on("click",function(t){t.preventDefault(),r.updateTitleSection(t),r.updateDesktopView(t),r.updateMobileView(t)}),i.productMobileSelector.on("click",function(t){t.preventDefault(),r.updateTitleSection(t),r.updateDesktopView(t),r.updateMobileView(t)}),r.setDefaultActiveProduct(),setTimeout(function(){r.updateStartAndEndDatesOnInit()},0))};e(function(){return c()})});
//# sourceMappingURL=tabbedBookingWidget.js.map
