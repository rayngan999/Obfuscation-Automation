var QueueIt,QueueIt,QueueIt,QueueIt,QueueIt,QueueIt,QueueIt,QueueIt;!function(e){(e.Javascript||(e.Javascript={})).Version="2.0.26"}(QueueIt=QueueIt||{}),function(e){!function(e){var t=(p.retrieveEnvInfoFromScriptTag=function(){if(p.environemntVariable)return p.environemntVariable;try{for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var r=e[t],n=r.getAttribute("data-queueit-c");if(n){var o=r.getAttribute("data-queueit-host")||"",i="true"==(r.getAttribute("data-queueit-intercept")||"").toLowerCase(),a=null!==r.getAttribute("data-queueit-interceptvnext"),u=r.getAttribute("data-queueit-intercept-domain")||"",s=r.getAttribute("data-queueit-jshost")||"",l="true"==(r.getAttribute("data-queueit-nocachereq")||"").toLowerCase(),d="true"==(r.getAttribute("data-queueit-noautorun")||"").toLowerCase(),c=r.getAttribute("data-queueit-ku-redirect-headername")||"",g="true"===(r.getAttribute("data-queueit-spa")||"").toLowerCase();return p.environemntVariable={cid:n,intercept:i,interceptVNext:a,host:o,jsHost:s,noCacheRequest:l,noAutorun:d,domainToIntercept:u,queueitKURedirectHeaderName:c,isSPA:g}}}}catch(e){console.warn(e)}return null},p.cleanUp=function(){p.environemntVariable=void 0},p);function p(){}e.EnvironmentHelper=t;function r(){}e.EnvironmentInfo=r}(e.Tools||(e.Tools={}))}(QueueIt=QueueIt||{}),function(e){var t,r,n;function o(){}t=e.Javascript||(e.Javascript={}),r=t.KnownUser||(t.KnownUser={}),o.getAjaxHeader=function(e){return["x-queueit-ajaxpageurl",encodeURIComponent(e)]},o.getUrlFromFetchArguments=function(e){return e instanceof Request?e.url:String(e)},o.getRedirectHeaderName=function(e){return e&&e.queueitKURedirectHeaderName?e.queueitKURedirectHeaderName:"x-queueit-redirect"},o.addAjaxRedirectParameter=function(e){var t=e.indexOf("&t=");return-1===t?(-1===e.indexOf("?")&&(e+="?"),e+="&_jsar=1"):e=e.substring(0,t)+"&_jsar=1"+e.substring(t),e},o.defaultRedirector=function(t){return function(e){-1===e.indexOf("_jsar=1")&&(e=o.addAjaxRedirectParameter(e)),t.href=e,document.close()}},o.tryGetQueueItRedirectHeaderFromFetch=function(e,t){return e.headers.get(t)||""},o.tryGetQueueItRedirectHeaderFromXHR=function(e,t){var r="",n=t.toLowerCase();return("function"!=typeof e.getAllResponseHeaders||0<=(e.getAllResponseHeaders().toLowerCase()||"").indexOf(n))&&(r=e.getResponseHeader(t)),r},o.isUrlDomainMatchingOrIsRelativeURL=function(e,t){if(!new RegExp("^(?:[a-z]+:)?//","i").test(e))return!0;if(t){var r=document.createElement("a");if(r.href=e,-1<r.hostname.indexOf(t))return!0}return!1},n=o,r.RequestInterceptHelper=n}(QueueIt=QueueIt||{}),function(e){var t,g,r;function n(){}t=e.Javascript||(e.Javascript={}),g=t.KnownUser||(t.KnownUser={}),n.interceptOpen=function(u,e,s,l,t){void 0===s&&(s=null),void 0===l&&(l=null),void 0===t&&(t=null);var d=g.RequestInterceptHelper.getRedirectHeaderName(e);if(t=t||window.location,l=l||g.RequestInterceptHelper.defaultRedirector(t),s=s||function(){return t.href},("function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest)&&XMLHttpRequest.prototype){var c=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,t,r,n,o){var i=this,a=!1;try{(a=g.RequestInterceptHelper.isUrlDomainMatchingOrIsRelativeURL(t,u))&&i.addEventListener("readystatechange",function(){return function(e){if(e.readyState===XMLHttpRequest.DONE)try{var t=g.RequestInterceptHelper.tryGetQueueItRedirectHeaderFromXHR(e,d);t&&l(decodeURIComponent(t))}catch(e){console.log("getResponseHeader('"+d+"') error"+e)}}(i)})}catch(e){console.warn(e)}finally{c.apply(i,arguments),a&&i.setRequestHeader.apply(i,g.RequestInterceptHelper.getAjaxHeader(s()))}}}},r=n,g.AjaxInterceptor=r}(QueueIt=QueueIt||{}),function(e){var t,d,r;function c(){}t=e.Javascript||(e.Javascript={}),d=t.KnownUser||(t.KnownUser={}),c.addEventListener=function(n){return function(e,t,r){"readystatechange"==e?(this.listeners=this.listeners||[],this.listeners.push(t)):n.AddEventListener.apply(this,arguments)}},c.removeEventListener=function(n){return function(e,t,r){"readystatechange"==e?(this.listeners=this.listeners||[],this.listeners=this.listeners.filter(function(e){return e!==t})):n.RemoveEventListener.apply(this,arguments)}},c.open=function(l){return function(e,t,r,n,o){var i=this;i.redirect=l.Redirect,i.redirectHeaderName=l.RedirectHeaderName;try{i.shouldBeIntercepted=d.RequestInterceptHelper.isUrlDomainMatchingOrIsRelativeURL(t,l.InterceptDomain),l.AddEventListener.apply(i,["readystatechange",c.stateUpdatedHandler])}catch(e){console.warn("Couldn't setup open intercept: ",e)}finally{if(l.Open.apply(i,arguments),i.shouldBeIntercepted){var a=d.RequestInterceptHelper.getAjaxHeader(l.GetCurrentUrl()),u=a[0],s=a[1];i.setRequestHeader(u,s)}}}},c.invokeListeners=function(e,t){for(var r=0;r<(e.listeners||[]).length;r++)e.listeners[r].apply(e,arguments)},c.interceptOpen=function(e,t,r,n,o){void 0===r&&(r=null),void 0===n&&(n=null),void 0===o&&(o=null);var i=d.RequestInterceptHelper.getRedirectHeaderName(t);if(o=o||window.location,n=n||d.RequestInterceptHelper.defaultRedirector(o),r=r||function(){return window.location.href},("function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest)&&XMLHttpRequest.prototype){var a={Open:XMLHttpRequest.prototype.open,AddEventListener:XMLHttpRequest.prototype.addEventListener,RemoveEventListener:XMLHttpRequest.prototype.removeEventListener,GetCurrentUrl:r,Redirect:n,RedirectHeaderName:i,InterceptDomain:e};XMLHttpRequest.prototype.addEventListener=c.addEventListener(a),XMLHttpRequest.prototype.removeEventListener=c.removeEventListener(a),XMLHttpRequest.prototype.open=c.open(a)}},c.stateUpdatedHandler=function(e){var t=this;if(!t.wasIntercepted)if(t.shouldBeIntercepted){if(t.readyState==XMLHttpRequest.HEADERS_RECEIVED||t.readyState==XMLHttpRequest.DONE)try{var r=d.RequestInterceptHelper.tryGetQueueItRedirectHeaderFromXHR(t,t.redirectHeaderName);if(r)return t.wasIntercepted=!0,t.onreadystatechange=c.stateUpdatedHandler.bind(t),t.onload=c.stateUpdatedHandler.bind(t),void t.redirect(decodeURIComponent(r))}catch(e){console.log("getResponseHeader('"+t.redirectHeaderName+"') error"+e,e)}c.invokeListeners(t,arguments)}else c.invokeListeners(t,arguments)},r=c,d.AjaxVNextInterceptor=r}(QueueIt=QueueIt||{}),function(e){var t,p,r;function f(){}t=e.Javascript||(e.Javascript={}),p=t.KnownUser||(t.KnownUser={}),f.responseHandler=function(r,n){return function(e){try{var t=p.RequestInterceptHelper.tryGetQueueItRedirectHeaderFromFetch(e,n);return t?(r(decodeURIComponent(t)),new Promise(function(){})):e}catch(e){throw console.warn("fetch response header ('"+n+"') error"+e),e}}},f.addQueueItHeadersToFetchRequest=function(e,t,r){var n=p.RequestInterceptHelper.getAjaxHeader(r),o=n[0],i=n[1];return e instanceof Request?e.headers.set(o,i):"string"==typeof e&&((t=t||{}).headers=t.headers||{},t.headers[o]=i),null!=t&&"object"==typeof t&&"no-cors"==t.mode&&console.warn("when no-cors is used, custom queue-it headers can't be used"),[e,t]},f.interceptFetch=function(u,e,s,l,t){void 0===s&&(s=null),void 0===l&&(l=null),void 0===t&&(t=null);var d=window,r="function"==typeof d.fetch;if(t=t||window.location,r){var c=p.RequestInterceptHelper.getRedirectHeaderName(e),g=d.fetch;l=l||p.RequestInterceptHelper.defaultRedirector(t),s=s||function(){return t.href},d.fetch=function(e,t){var r=p.RequestInterceptHelper.getUrlFromFetchArguments(e),n=!1;try{n=p.RequestInterceptHelper.isUrlDomainMatchingOrIsRelativeURL(r,u)}catch(e){console.warn(e)}if(!n)return g.apply(d,arguments);var o=f.addQueueItHeadersToFetchRequest(e,t,s()),i=o[0],a=o[1];return g.apply(d,[i,a]).then(f.responseHandler(l,c))}}},r=f,p.FetchInterceptor=r}(QueueIt=QueueIt||{}),function(i){var e;(function(e){var t=(o.tryInitQueueClientFromToken=function(e,t){if(void 0===t&&(t=null),t=t||window.location.href,e&&e.cid){var r=o.getQueueITToken(t);if(r&&r.eventId&&i.Javascript.QueueClient&&!window.myQueueClient){var n={removeTokenFromUrl:!0};e.host&&(n.host=e.host),window.myQueueClient=window.queueClient(e.cid,r.eventId,n)}}},o.getQueueITToken=function(e){var t=/queueittoken=([^&]*)/i.exec(e);if(!t||!t[1])return null;var r=new a;r.rawQueueItToken=t[1];for(var n=0,o=r.rawQueueItToken.split("~");n<o.length;n++){var i=o[n].split("_");"e"===i[0].toLowerCase()&&(r.eventId=i[1])}return r},o);function o(){}e.UrlQueueClientInitializer=t;var a=function(){};e.QueueItToken=a})((e=i.Javascript||(i.Javascript={})).KnownUser||(e.KnownUser={}))}(QueueIt=QueueIt||{}),function(e){var t,r;t=e.Javascript||(e.Javascript={}),function(e){function t(){}e.QueueClientEventConfig=t;var r=(n.AllowTParameter="AllowTParameter",n.EventTargetUrl="EventTargetUrl",n.ForcedTargetUrl="ForcedTargetUrl",n.ForecedTargetUrl="ForecedTargetUrl",n);function n(){}e.RedirectionLogic=r;var o=(i.UrlValidator="UrlValidator",i.CookieValidator="CookieValidator",i.JSVariableValidator="JSVariableValidator",i.UserAgentValidator="UserAgentValidator",i);function i(){}e.ValidatorType=o;var a=(u.Equals="Equals",u.Contains="Contains",u.ContainsAny="ContainsAny",u.EqualsAny="EqualsAny",u.NotEquals="NotEquals",u.NotContains="NotContains",u.IgEquals="IgEquals",u.IgContains="IgContains",u);function u(){}e.ComparisonOperatorType=a;var s=(l.PagePath="PagePath",l.HostName="HostName",l.PageUrl="PageUrl",l);function l(){}e.UrlPartSelectorType=s;var d=(c.CancelAction="Cancel",c.QueueAction="Queue",c.IgnoreAction="Ignore",c);function c(){}e.ActionType=d}((r=t.IntegrationConfig||(t.IntegrationConfig={})).Model||(r.Model={}))}(QueueIt=QueueIt||{});var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),QueueIt,QueueIt;if(!function(QueueIt){var Javascript;!function(Javascript){var IntegrationConfig;!function(IntegrationConfig){function isNumber(e){var t;return("number"!=typeof(t=parseFloat(e))||!isNaN(t))&&isFinite(e)}var IntegrationPointBase=(id.CreateIntegrationPoint=function(e,t){return void 0===t&&(t=Trigger.CreateTrigger),new(id.getActionType(e)===IntegrationConfig.Model.ActionType.QueueAction?IntegrationPointQueue:id.getActionType(e)===IntegrationConfig.Model.ActionType.CancelAction?IntegrationPointCancel:IntegrationPointIgnore)(e,t)},id.prototype.initTriggers=function(){this._triggers=new Array;for(var e=0,t=this.model.triggers;e<t.length;e++){var r=t[e];this._triggers.push(this._triggerFactory(r))}},id.prototype.evaluate=function(){for(var e=0,t=this._triggers;e<t.length;e++)if(t[e].evaluate())return!0;return!1},id.prototype.getActionType=function(){return id.getActionType(this.model)},id.getActionType=function(e){return e.actionType?e.actionType:IntegrationConfig.Model.ActionType.QueueAction},id);function id(e,t){this.model=e,this._triggerFactory=t,this.initTriggers()}IntegrationConfig.IntegrationPointBase=IntegrationPointBase;var IntegrationPointQueue=function(_super){function IntegrationPointQueue(e,t){return _super.call(this,e,t)||this}return __extends(IntegrationPointQueue,_super),IntegrationPointQueue.prototype.getQueueClientConfig=function(customerId){var result=new IntegrationConfig.Model.QueueClientEventConfig;result.eventId=this.model.eventId,result.cookieDomain=this.model.cookieDomain,result.culture=this.model.culture,result.extendValidity=this.model.extendValidity,result.layoutName=this.model.layoutName,result.validity=this.model.validity,this.model.queueDomain&&(result.host=this.model.queueDomain),this.model.removeTokenFromUrl&&(result.removeTokenFromUrl=!0,result.queryStringPrefix=this.model.queryStringPrefix);var that=this;return this.model.onVerified&&(result.onVerified=function(){!function(customerId,eventId,waitingRoomId){eval(that.model.onVerified)}(customerId,that.model.eventId,that.model.eventId)}),this.model.onDisabled&&(result.onDisabled=function(){!function(customerId,eventId,waitingRoomId){eval(that.model.onDisabled)}(customerId,that.model.eventId,that.model.eventId)}),this.model.onTimeout&&(result.onTimeout=function(){!function(customerId,eventId,waitingRoomId){eval(that.model.onTimeout)}(customerId,that.model.eventId,that.model.eventId)}),this.model.redirectLogic==IntegrationConfig.Model.RedirectionLogic.EventTargetUrl||1==this.model.redirectLogic?(result.useEventTargetUrl=!0,result.targetUrl=null):this.model.redirectLogic==IntegrationConfig.Model.RedirectionLogic.ForcedTargetUrl||this.model.redirectLogic==IntegrationConfig.Model.RedirectionLogic.ForecedTargetUrl||2==this.model.redirectLogic?(result.useEventTargetUrl=!1,result.targetUrl=this.model.forcedTargetUrl):this.model.redirectLogic!=IntegrationConfig.Model.RedirectionLogic.AllowTParameter&&0!=this.model.redirectLogic||(result.useEventTargetUrl=!1,result.targetUrl=null),result},IntegrationPointQueue}(IntegrationPointBase);IntegrationConfig.IntegrationPointQueue=IntegrationPointQueue;var IntegrationPointCancel=(wd=IntegrationPointBase,__extends(xd,wd),xd.prototype.getEventId=function(){return this.model.eventId},xd.prototype.getCookieDomain=function(){return this.model.cookieDomain},xd.prototype.getQueueDomain=function(){return this.model.queueDomain},xd),wd;function xd(e,t){return wd.call(this,e,t)||this}IntegrationConfig.IntegrationPointCancel=IntegrationPointCancel;var IntegrationPointIgnore=(Ad=IntegrationPointBase,__extends(Bd,Ad),Bd),Ad;function Bd(e,t){return Ad.call(this,e,t)||this}IntegrationConfig.IntegrationPointIgnore=IntegrationPointIgnore;var Trigger=(Ed.CreateTrigger=function(e,t){return void 0===t&&(t=ValidatorBase.CreateValidator),new Ed(e,t)},Ed.prototype.initOperators=function(){this._expersions=new Array;for(var e=0,t=this._triggerModel.triggerParts;e<t.length;e++){var r=t[e];this._expersions.push(this._triggerPartFactory(r))}},Ed.prototype.evaluate=function(){if("and"==this.logicalOperator.toLowerCase()){for(var e=0,t=this._expersions;e<t.length;e++)if(!t[e].evaluate())return!1;return!0}if("or"!=this.logicalOperator.toLowerCase())throw"Not supported logical operator";for(var r=0,n=this._expersions;r<n.length;r++)if(n[r].evaluate())return!0;return!1},Ed);function Ed(e,t){this._triggerModel=e,this._triggerPartFactory=t,this.logicalOperator=e.logicalOperator||"And",this.initOperators()}IntegrationConfig.Trigger=Trigger;var ValidatorBase=(Rd.CreateValidator=function(e){switch(e.validatorType=e.validatorType||"UrlValidator",e.validatorType){case IntegrationConfig.Model.ValidatorType.UrlValidator:return new UrlValidator(e);case IntegrationConfig.Model.ValidatorType.CookieValidator:return new CookieValidator(e);case IntegrationConfig.Model.ValidatorType.JSVariableValidator:return new JSVariableValidator(e);case IntegrationConfig.Model.ValidatorType.UserAgentValidator:return new UserAgentValidator(e);default:return new FalsyValidator(e)}},Rd.getDocumentCookie=function(){return document.cookie},Rd.getWindowLocation=function(){return window.location},Rd.getJSVariableValue=function(e){return window[e]},Rd.getUserAgent=function(){return window.navigator.userAgent},Rd);function Rd(e){this.triggerPartModel=e}IntegrationConfig.ValidatorBase=ValidatorBase;var UrlValidator=(Vd=ValidatorBase,__extends(Wd,Vd),Wd.prototype.evaluate=function(){return ComparisonOperator.evaluate(this.triggerPartModel.operator,this.getUrlPart(),this.triggerPartModel.valueToCompare,this.triggerPartModel.isNegative,this.triggerPartModel.isIgnoreCase,this.triggerPartModel.valuesToCompare)},Wd.prototype.getUrlPart=function(){var e=ValidatorBase.getWindowLocation();switch(this.triggerPartModel.urlPart){case IntegrationConfig.Model.UrlPartSelectorType.HostName:return e.hostname;case IntegrationConfig.Model.UrlPartSelectorType.PagePath:return e.pathname;case IntegrationConfig.Model.UrlPartSelectorType.PageUrl:return e.href;default:throw"Not supported url part selector"+this.triggerPartModel.urlPart}},Wd),Vd;function Wd(e){return Vd.call(this,e)||this}IntegrationConfig.UrlValidator=UrlValidator;var CookieValidator=(Zd=ValidatorBase,__extends($d,Zd),$d.prototype.evaluate=function(){var e=this.getCookie(this.triggerPartModel.cookieName);return ComparisonOperator.evaluate(this.triggerPartModel.operator,e,this.triggerPartModel.valueToCompare,this.triggerPartModel.isNegative,this.triggerPartModel.isIgnoreCase,this.triggerPartModel.valuesToCompare)},$d.prototype.getCookie=function(e){for(var t=e+"=",r=ValidatorBase.getDocumentCookie().split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},$d),Zd;function $d(e){return Zd.call(this,e)||this}IntegrationConfig.CookieValidator=CookieValidator;var JSVariableValidator=(he=ValidatorBase,__extends(ie,he),ie.prototype.evaluate=function(){return ComparisonOperator.evaluate(this.triggerPartModel.operator,ValidatorBase.getJSVariableValue(this.triggerPartModel.variableName),this.triggerPartModel.valueToCompare,this.triggerPartModel.isNegative,this.triggerPartModel.isIgnoreCase,this.triggerPartModel.valuesToCompare)},ie),he;function ie(e){return he.call(this,e)||this}IntegrationConfig.JSVariableValidator=JSVariableValidator;var UserAgentValidator=(ke=ValidatorBase,__extends(le,ke),le.prototype.evaluate=function(){return ComparisonOperator.evaluate(this.triggerPartModel.operator,ValidatorBase.getUserAgent(),this.triggerPartModel.valueToCompare,this.triggerPartModel.isNegative,this.triggerPartModel.isIgnoreCase,this.triggerPartModel.valuesToCompare)},le),ke;function le(e){return ke.call(this,e)||this}IntegrationConfig.UserAgentValidator=UserAgentValidator;var FalsyValidator=(ne=ValidatorBase,__extends(oe,ne),oe.prototype.evaluate=function(){return!1},oe),ne;function oe(e){return ne.call(this,e)||this}IntegrationConfig.FalsyValidator=FalsyValidator;var ComparisonOperator=(qe.containsAny=function(e,t,r,n){for(var o=0,i=n||[];o<i.length;o++)if(qe.contains(!1,t,r,i[o]))return!e;return e},qe.equalsAny=function(e,t,r,n){for(var o=0,i=n||[];o<i.length;o++)if(qe.equals(!1,t,r,i[o]))return!e;return e},qe.contains=function(e,t,r,n){if("*"==n&&r&&0<r.length)return!0;var o=!1;return o=t?-1<r.toUpperCase().indexOf(n.toUpperCase()):-1<r.indexOf(n),e?!o:o},qe.equals=function(e,t,r,n){var o=!1;return o=t?r.toUpperCase()===n.toUpperCase():r===n,e?!o:o},qe.evaluate=function(e,t,r,n,o,i){var a=String(t);if(null==n)return this.evaluate_1_0_0_1(e,a,String(r));switch(e){case IntegrationConfig.Model.ComparisonOperatorType.Equals:return qe.equals(n,o,a,String(r));case IntegrationConfig.Model.ComparisonOperatorType.Contains:return qe.contains(n,o,a,String(r));case IntegrationConfig.Model.ComparisonOperatorType.ContainsAny:return qe.containsAny(n,o,a,i);case IntegrationConfig.Model.ComparisonOperatorType.EqualsAny:return qe.equalsAny(n,o,a,i);default:throw"Not supported  operator : "+e}},qe.evaluate_1_0_0_1=function(e,t,r){switch(e){case IntegrationConfig.Model.ComparisonOperatorType.Equals:return qe.equals(!1,!1,t,r);case IntegrationConfig.Model.ComparisonOperatorType.NotEquals:return qe.equals(!0,!1,t,r);case IntegrationConfig.Model.ComparisonOperatorType.Contains:return qe.contains(!1,!1,t,r);case IntegrationConfig.Model.ComparisonOperatorType.NotContains:return qe.contains(!0,!1,t,r);case IntegrationConfig.Model.ComparisonOperatorType.IgEquals:return qe.equals(!1,!0,t,r);case IntegrationConfig.Model.ComparisonOperatorType.IgContains:return qe.contains(!1,!0,t,r);default:throw"Not supported  operator : "+e}},qe);function qe(){}function getDefaultWindowProtocol(){return window.location.protocol}function applyIntegrationConfig(e,t,r){if(void 0===t&&(t=IntegrationPointBase.CreateIntegrationPoint),void 0===r&&(r=null),e){for(var n=0,o=e.integrations;n<o.length;n++){var i=t(o[n]);if(i.evaluate()){if(i.getActionType()===IntegrationConfig.Model.ActionType.QueueAction){var a=i.getQueueClientConfig(e.customerId);window.myQueueClient=window.queueClient(e.customerId,a.eventId,a)}else if(i.getActionType()===IntegrationConfig.Model.ActionType.CancelAction){var u=i;r=r||getDefaultWindowProtocol;var s=u.getQueueDomain();s=s||e.customerId+".queue-it.net",new QueueIt.Javascript.CookieManager(e.customerId,u.getEventId(),r()+"//"+s,u.getCookieDomain()).cancelQueueId()}else if(i.getActionType()===IntegrationConfig.Model.ActionType.IgnoreAction){var l=QueueIt.Tools.EnvironmentHelper.retrieveEnvInfoFromScriptTag();(l.intercept||l.interceptVNext)&&QueueIt.Javascript.KnownUser.UrlQueueClientInitializer.tryInitQueueClientFromToken(l)}return}}var d=QueueIt.Tools.EnvironmentHelper.retrieveEnvInfoFromScriptTag();(d.intercept||d.interceptVNext)&&QueueIt.Javascript.KnownUser.UrlQueueClientInitializer.tryInitQueueClientFromToken(d)}}function loadIntegrationConfig(e){void 0===e&&(e=new Date);var t=QueueIt.Tools.EnvironmentHelper.retrieveEnvInfoFromScriptTag();t.noAutorun||loadIntegrationConfigFromServer(e,t)}function loadIntegrationConfigFromServer(e,t){if(void 0===e&&(e=new Date),void 0===t&&(t=null),!(t=t||QueueIt.Tools.EnvironmentHelper.retrieveEnvInfoFromScriptTag()))throw"No queueit attribute is found in script tag";var r="";if(t.noCacheRequest)r=e.getTime().toString();else{var n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),a=e.getHours(),u=Math.floor(e.getMinutes()/5);r=n+""+(o<10?"0"+o:o)+(i<10?"0"+i:i)+(a<10?"0":a)+a+(u<10?"0"+u:u)}var s=document.createElement("script");s.type="text/javascript",s.src=getIntegrationConfigUrl(t)+"?versionTimestamp="+r,document.getElementsByTagName("head")[0].appendChild(s)}function getIntegrationConfigUrl(e){if(!e||!e.cid)throw"customer id is not found";var t="https://assets.queue-it.net/";return e.jsHost&&(t=e.jsHost),t+e.cid+"/integrationconfig/javascript/queueclientConfig.js"}function initQueueClient(e){applyIntegrationConfig(e)}function validateUser(e){void 0===e&&(e=!1),e?loadIntegrationConfigFromServer():window.queueit_clientside_config&&applyIntegrationConfig(window.queueit_clientside_config)}function isIntegrationConfigReady(){return!!window.queueit_clientside_config}function getIntegrationConfig(){return window.queueit_clientside_config}IntegrationConfig.ComparisonOperator=ComparisonOperator,IntegrationConfig.applyIntegrationConfig=applyIntegrationConfig,IntegrationConfig.loadIntegrationConfig=loadIntegrationConfig,IntegrationConfig.loadIntegrationConfigFromServer=loadIntegrationConfigFromServer,QueueIt.Javascript.PageEventIntegration={initQueueClient:applyIntegrationConfig},IntegrationConfig.initQueueClient=initQueueClient,QueueIt.validateUser=validateUser,QueueIt.getIntegrationConfig=getIntegrationConfig,QueueIt.isIntegrationConfigReady=isIntegrationConfigReady}(IntegrationConfig=Javascript.IntegrationConfig||(Javascript.IntegrationConfig={}))}(Javascript=QueueIt.Javascript||(QueueIt.Javascript={}))}(QueueIt=QueueIt||{}),function(i){var e,t;function r(){}e=i.Tools||(i.Tools={}),r.setup=function(n){if(n){var e="function"==typeof n.pushState,o=n.pushState;e&&(n.pushState=function(e,t,r){o.apply(n,arguments),i.validateUser()})}else console.warn("browser doesn't support history")},t=r,e.SpaHelper=t}(QueueIt=QueueIt||{}),QueueIt.Javascript.IntegrationConfig.isInitialized)console.log("IntegrationConfigLoader is already initialized!");else{var en=QueueIt.Tools.EnvironmentHelper.retrieveEnvInfoFromScriptTag();en&&en.cid&&(en.interceptVNext?QueueIt.Javascript.KnownUser.AjaxVNextInterceptor.interceptOpen(en.domainToIntercept,en):en.intercept&&QueueIt.Javascript.KnownUser.AjaxInterceptor.interceptOpen(en.domainToIntercept,en),(en.interceptVNext||en.intercept)&&QueueIt.Javascript.KnownUser.FetchInterceptor.interceptFetch(en.domainToIntercept,en),en.isSPA&&QueueIt.Tools.SpaHelper.setup(history)),QueueIt.Javascript.IntegrationConfig.loadIntegrationConfig(),QueueIt.Javascript.IntegrationConfig.isInitialized=!0}