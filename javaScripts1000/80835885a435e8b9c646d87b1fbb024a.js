window._idx = window._idx || []; _idx.send = _idx.send ? _idx.send : function () { }; _idx.post = function (obj) { _idx.push(obj); _idx.send() }; _idx.get1P = function (str) { try { return typeof (Storage) !== "undefined" ? JSON.parse(window.localStorage.getItem(str)) : JSON.parse(document.cookie[str]); } catch (e) { } }; _idx.getSavedIdx = function () { var o = _idx.get1P("_idx"); return o && typeof o == "object" ? o : {}; }; _idx.getIdx = function () { var o = _idx.getSavedIdx(); return o.idx ? o.idx : ""; }; _idx.getSavedIdes = function () { var o = _idx.get1P("_idxe"); return Array.isArray(o) ? o : []; }; _idx.getIdes = function () { var o = _idx.getSavedIdes(); return o.length > 0 ? o.map(a => a.ide) : []; }; _idx.pid = "IDX-O7N9ZY";var t2 = document.createElement("script");t2.src = "https://resources-rt.idx.lat/T2.min.js";t2.defer=true;document.getElementsByTagName("head")[0].appendChild(t2);
var _w=window,_d=document;if(void 0===_rely||void 0===_rely.def){if(void 0===_rely)var _rely=[];_rely.def=!0,_rely.timeout=2e3,_rely.postMessage=!0,_rely.ptc="https:"==_w.location.protocol?"https":"http",_rely.options=_rely.options?_rely.options:{},_rely.options.spa_autoreload=void 0===_rely.options.spa_autoreload||_rely.options.spa_autoreload,_rely.x=encodeURIComponent,_rely.iframeCount=0,_rely.referer="",_rely.h="api.retargetly.com",_rely.postIdx=function (i,n,_){if(!_idx||"function"!=typeof _idx.post)return;let d="";if(-1===["nid_sh5","mb_sh5","ml_sh5"].indexOf(n)&&(-1!==["nid_sh2","nid_raw"].indexOf(n)?i&&(d=i+"_nids"):d=-1!==["mb_sh2","mb_raw"].indexOf(n)?"phones":-1!==["ml_sh2","ml_raw"].indexOf(n)?"emails":n,d)){let i={};i[d]=_[n],_idx.post(i)}},_rely.idxCountry="HK",_rely.postPiiIdx=true;let e=[];for(let r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);_rely.bytesToUuid=function(r,t){let i=t||0,o=e;return[o[r[i++]],o[r[i++]],o[r[i++]],o[r[i++]],"-",o[r[i++]],o[r[i++]],"-",o[r[i++]],o[r[i++]],"-",o[r[i++]],o[r[i++]],"-",o[r[i++]],o[r[i++]],o[r[i++]],o[r[i++]],o[r[i++]],o[r[i++]]].join("")},_rely.getRandomBytes=function(e){let r=self.crypto||self.msCrypto,t=new Uint8Array(e);for(let i=0;i<e;i+=65536)r.getRandomValues(t.subarray(i,i+Math.min(e-i,65536)));return t},_rely.uuiV4=function(e,r,t){let i=r&&t||0;"string"==typeof e&&(r="binary"===e?new Array(16):null,e=null),e=e||{};let o=_rely.getRandomBytes(16);if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,r)for(let e=0;e<16;++e)r[i+e]=o[e];return r||_rely.bytesToUuid(o)},_rely.generateRelyId=function(){return _rely.uuiV4()},_rely.generateAndSaveRelyId=function(){let e=_rely.generateRelyId();return _rely.saveLocalUserId(e),e},_rely.stack=[],_rely.stack.next=function(){if(this.gprc())return null;for(var e=0;e<this.length;e++)if(!this[e].sent)return this[e].sent=!0,this[e];return null},_rely.stack.gprc=function(){for(var e=0;e<this.length;e++)if(this[e].processing)return this[e];return null},_rely.callback=function(){var e=this.stack.gprc();e&&!e.processed&&(e.processing=!1,e.processed=!0,this.stack_call())},_rely.pts=function(e){if("pageview"!=e.type&&"formtags"!=e.type)for(var r=0;r<this.stack.length;r++)if(JSON.stringify(this.stack[r])==JSON.stringify(e))return!1;return this.stack.push(e),!0};try{var eventMethod=_w.addEventListener?"addEventListener":"attachEvent",eventer=_w[eventMethod],messageEvent="attachEvent"==eventMethod?"onmessage":"message";eventer(messageEvent,(function(e){if(e.origin==_rely.ptc+"://"+_rely.h&&void 0!==e.data){var r=(e.data+"").split("|");r.length>0&&("ok"==r[0]?_rely.callback():"sg"==r[0]&&_rely.saveSegmentsInLocalStorageAndFirstPartyCookies(r[1]))}}),!1)}catch(e){_rely.postMessage=!1}_rely.get_client=function(e){for(var r in e)if("pid"==r)return e[r];return this.pid?this.pid:null},_rely.send=function(){var e,r,t,i,o=_rely,l={},s={},n=["tags","sec","gender","age","born","map","ml_sh5","ml_sh2","mb_sh5","mb_sh2","nid_sh5","nid_sh2","ml_raw","mb_raw","nid_raw","external_id","custom"];if(void 0!==o&&void 0!==o.length&&(e=o.length)>0)for(var _=0;_<e;_++){r=o[_];var a=this.get_client(r);if(a&&(void 0===l[a]&&(l[a]={params:[]}),"object"==typeof r))for(t in r)if(-1!==n.indexOf(t)){if("map"===t)s[a]={id:this.x(r[t])};else if("custom"===t){if(r[t]&&"object"==typeof r[t])for(i in r[t])l[a].params.push("custom_"+i+"="+this.x(r[t][i]))}else l[a].params.push(t+"="+this.x(r[t]));this.postPiiIdx&&"function"==typeof this.postIdx&&this.postIdx(this.idxCountry,t,r)}}if(Object.keys(l).length>0)for(t in l)this.pts({pid:t,type:"data",value:l[t].params.join("&")});else!this.postMessage&&this.sic&&this.pid&&this.pts({type:"sic",pid:this.pid});if(Object.keys(l).length>0)for(t in s)this.pts({type:"map",pid:t,value:s[t].id});this.stack_call(),this.length=0},_rely.getIdx=()=>{try{return _idx.getIdx()}catch(e){return""}},_rely.stack_call=function(){var e=this.stack.next();if(null!==e){var r="script",t="",i="";if(void 0!==_rely.options&&void 0!==_rely.options.limit_drop&&(i=_rely.options.limit_drop),"pageview"==e.type?(r="iframe",t=this.ptc+"://"+this.h+"/api?id="+e.pid+"&src="+e.s+"&url="+this.x(e.pv_obj.url)+"&browserUrl="+this.x(e.pv_obj.browserUrl)+"&ref="+this.x(e.pv_obj.referrer)+"&utmz="+this.x(e.pv_obj.utmz)+"&n="+this.x(e.pv_obj.title)+"&md="+this.x(e.pv_obj.description)+"&mk="+this.x(e.pv_obj.keywords)+"&il="+e.pv_obj.ilvl+"&limit_drop="+i+"&userid="+_rely.getLocalUserId()+"&idx="+encodeURIComponent(_rely.getIdx())):"data"==e.type?t=this.ptc+"://"+this.h+"/data?id="+e.pid+"&"+e.value+"&userid="+_rely.getLocalUserId()+"&idx="+encodeURIComponent(_rely.getIdx()):"formtags"==e.type?t=this.ptc+"://"+this.h+"/formtags?id="+e.pid:"sic"==e.type?t=this.ptc+"://"+this.h+"/cks?id="+e.pid:"map"==e.type&&(r="image",t=this.ptc+"://"+this.h+"/map?pid="+e.pid+"&mid="+e.value+"&rt=img&limit_drop="+i),""!=t){var o=null;"iframe"==r?(this.iframeCount++,(o=_d.createElement("iframe")).setAttribute("id","rely-iframe-"+this.iframeCount),o.src=t,o.style.display="none"):"script"==r?(o=_d.createElement("script")).src=t:"image"==r&&((o=_d.createElement("img")).src=t),null!==o?(o.referrerPolicy="no-referrer-when-downgrade",e.processing=!0,o.onload=function(){this.callback()}.bind(this),setTimeout(function(){this.callback()}.bind(this),_rely.timeout),_d.body.appendChild(o)):this.callback()}}},_rely.pvo=function(){var e,r={},t=_w.parent!==_w.self?_w.parent===_w.top?1:2:0,i={ilvl:t,url:0==t?_d.location.href:1==t?_d.referrer:"",referrer:0==t?_d.referrer:"",title:0==t?_d.title:"",description:"",keywords:""};i.url=_rely.getUrl(i.url),i.browserUrl=_rely.browserUrl;try{r=_w.top.document,i.url=_d.top.location.href,i.referrer=r.referrer,i.title=r.title||""}catch(e){}this.referer&&(i.referrer=this.referer);for(var o=r.getElementsByTagName?r.getElementsByTagName("meta"):[],l=0;l<o.length;l++)"keywords"==o[l].name&&o[l].content?i.keywords=o[l].content.replace(/^\s+|\s+$/g,"").substr(0,100):"description"==o[l].name&&o[l].content&&(i.description=o[l].content.replace(/^\s+|\s+$/g,"").substr(0,300));return _d.cookie&&(e=_d.cookie.match(/.*__utmz=([^;]*)/))?i.utmz=e[1]:i.utmz="",i},_rely.oldURL=_d.location.href,_rely.udts=200,_rely.udact=!1,_rely.rpv=function(){this.spv(this.pvo())},_rely.udtc=function(){_rely.udact=!0;var e=_rely.getUrl(_d.location.href);_rely.oldURL!=e&&(_rely.rpid(),_rely.referer=_rely.oldURL,_rely.oldURL=e,_rely.rpv()),setTimeout(_rely.udtc,_rely.udts)},_rely.rpid=function(){for(var e=0;e<_rl_ids.length;e++)_rl_ids[e].processed=!1},_rely.spv=function(e){var r,t=0;if("undefined"!=typeof _rl_ids){_rely.rmrid();for(var i=0;i<_rl_ids.length;i++)_rl_ids[i].processed||(t=_rl_ids[i].pid,r=0,"number"==typeof _rl_ids[i].src&&(r=_rl_ids[i].src),t&&(_rely.pid=t,this.pts({type:"pageview",pid:t,s:r,pv_obj:e}),_rl_ids[i].processed=!0))}0!=this.stack.length&&(this.length>0&&this.send(),this.stack_call())},_rely.svid=function(){var e,r;if("undefined"==typeof _rl_ids&&(_rl_ids=[]),"number"==typeof _rl_id&&_rl_id>99)e=_rl_id,r=0,"number"==typeof _rl_src&&(r=_rl_src),_rl_ids.push({pid:e,src:r});else if(0==_rl_ids.length){var t=_d.getElementsByTagName("script"),i=t[t.length-1].getAttribute("src",2);i&&(e=i.match(/.*\?id=(\d\d\d+)/))&&_rl_ids.push({pid:e[1],src:0})}_rely.rmrid()},_rely.rmrid=function(){for(var e=_rl_ids.length-1;e>=0;e--)this.erid(_rl_ids[e].pid,_rl_ids[e].src,e)&&_rl_ids.splice(e)},_rely.erid=function(e,r,t){for(var i=0;i<_rl_ids.length;i++)if(i!=t&&_rl_ids[i].pid==e&&_rl_ids[i].src==r)return!0;return!1},_rely.parseCookies=function(e){let r={};return e.split(/\s*;\s*/).forEach((function(e){e=e.split(/\s*=\s*/),r[e[0]]=e.splice(1).join("=")})),r},_rely.cookies=function(){return _rely.parseCookies(document.cookie)},_rely.getCookieUserId=function(){let e=_rely.cookies();return e?e._rlid:""},_rely.getLocalStorageUserId=()=>{try{return localStorage.getItem("_rlid")}catch(e){return""}},_rely.getLocalStorageOrCookieUserId=()=>{let e=_rely.getLocalStorageUserId();return e||_rely.getCookieUserId()},_rely.saveLocalUserId=function(e){_rely.saveInLocalStorageAndFirstPartyCookie("_rlid",e)},_rely.cookieStringify=e=>Object.keys(e).map(r=>`${r}=${e[r]}`).join(";"),_rely.getElementFromLocalStorageOrCookies=e=>_rely.getElementFromLocalStorage(e)||_rely.getElementFromCookies(e),_rely.getElementFromLocalStorage=e=>{try{return localStorage.getItem(e)||""}catch(e){return""}},_rely.getElementFromCookies=e=>{try{return _rely.cookies()[e]}catch(e){return""}},_rely.saveInLocalStorage=(e,r)=>{try{localStorage&&localStorage.setItem(e,r)}catch(e){}},_rely.putInFirstPartyCookie=(e,r)=>{try{const t={};t[e]=r,t.path="/",t.expires=new Date((new Date).getTime()+7776e6).toUTCString(),document.cookie=_rely.cookieStringify(t)}catch(e){}},_rely.saveInFirstPartyCookies=(e,r)=>{try{_rely.options&&_rely.options.enableFirstPartyCookies&&_rely.putInFirstPartyCookie(e,r)}catch(e){}},_rely.saveInLocalStorageAndFirstPartyCookie=(e,r)=>{_rely.saveInLocalStorage(e,r),_rely.saveInFirstPartyCookies(e,r)},_rely.saveSegmentsInLocalStorageAndFirstPartyCookies=e=>{try{_rely.saveInLocalStorage("_rl_sg",e)}catch(e){}try{_rely.putInFirstPartyCookie("_rl_sg",e)}catch(e){}},_rely.getLocalUserId=()=>{let e=_rely.getLocalStorageOrCookieUserId();return e||_rely.generateAndSaveRelyId()},_rely.reloadFormTags=function(){"object"==typeof _rl_ids&&"object"==typeof _rl_ids[0]&&_rl_ids[0].pid&&(this.pts({type:"formtags",pid:_rl_ids[0].pid}),this.stack_call())},_rely.getUrl=function(e){if(void 0!==_rely.options&&void 0!==_rely.options.url&&""!==_rely.options.url){if(/^(((H|h)(T|t)(T|t)(P|p)(S|s)?):\/\/)?[-a-zA-Z0-9@:%._\+~#=]{2,100}\.[a-zA-Z]{2,10}(\/([-a-zA-Z0-9@:%_\+.~#?&//=]*))?/.test(_rely.options.url))return _rely.browserUrl=_d.location.href,_rely.options.url;console.error("Invalid URL on option. It will be ignored.")}return e}}_rely.svid(),void 0!==_rely.options&&_rely.options.spa_autoreload&&!_rely.udact&&_rely.udtc(),_rely.rpv();
