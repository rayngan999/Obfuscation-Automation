(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')
module.exports=factory();else if(typeof define==='function'&&define.amd)
define("whatInput",[],factory);else if(typeof exports==='object')
exports["whatInput"]=factory();else
root["whatInput"]=factory();})(this,function(){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])
return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0);})
([function(module,exports){module.exports=(function(){var docElem=document.documentElement;var currentInput='initial';var currentIntent=null;var formInputs=['input','select','textarea'];var ignoreMap=[16,17,18,91,93];var inputMap={'keyup':'keyboard','mousedown':'mouse','mousemove':'mouse','MSPointerDown':'pointer','MSPointerMove':'pointer','pointerdown':'pointer','pointermove':'pointer','touchstart':'touch'};var inputTypes=[];var isBuffering=false;var pointerMap={2:'touch',3:'touch',4:'mouse'};var touchTimer=null;var setUp=function(){inputMap[detectWheel()]='mouse';addListeners();setInput();};var addListeners=function(){if(window.PointerEvent){docElem.addEventListener('pointerdown',updateInput);docElem.addEventListener('pointermove',setIntent);}else if(window.MSPointerEvent){docElem.addEventListener('MSPointerDown',updateInput);docElem.addEventListener('MSPointerMove',setIntent);}else{docElem.addEventListener('mousedown',updateInput);docElem.addEventListener('mousemove',setIntent);if('ontouchstart'in window){docElem.addEventListener('touchstart',touchBuffer);}}
docElem.addEventListener(detectWheel(),setIntent);docElem.addEventListener('keydown',updateInput);docElem.addEventListener('keyup',updateInput);};var updateInput=function(event){if(!isBuffering){var eventKey=event.which;var value=inputMap[event.type];if(value==='pointer')value=pointerType(event);if(currentInput!==value||currentIntent!==value){var activeInput=(document.activeElement&&formInputs.indexOf(document.activeElement.nodeName.toLowerCase())===-1)?true:false;if(value==='touch'||(value==='mouse'&&ignoreMap.indexOf(eventKey)===-1)||(value==='keyboard'&&activeInput)){currentInput=currentIntent=value;setInput();}}}};var setInput=function(){docElem.setAttribute('data-whatinput',currentInput);docElem.setAttribute('data-whatintent',currentInput);if(inputTypes.indexOf(currentInput)===-1){inputTypes.push(currentInput);docElem.className+=' whatinput-types-'+currentInput;}};var setIntent=function(event){if(!isBuffering){var value=inputMap[event.type];if(value==='pointer')value=pointerType(event);if(currentIntent!==value){currentIntent=value;docElem.setAttribute('data-whatintent',currentIntent);}}};var touchBuffer=function(event){window.clearTimeout(touchTimer);updateInput(event);isBuffering=true;touchTimer=window.setTimeout(function(){isBuffering=false;},200);};var pointerType=function(event){if(typeof event.pointerType==='number'){return pointerMap[event.pointerType];}else{return(event.pointerType==='pen')?'touch':event.pointerType;}};var detectWheel=function(){return 'onwheel'in document.createElement('div')?'wheel':document.onmousewheel!==undefined?'mousewheel':'DOMMouseScroll';};if('addEventListener'in window&&Array.prototype.indexOf){setUp();}
return{ask:function(opt){return(opt==='loose')?currentIntent:currentInput;},types:function(){return inputTypes;}};}());}])});;