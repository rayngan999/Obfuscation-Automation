monetate.c.cr({"data": "/* KIBOPatch(Synchrony Modal) START */\n(function(){\n    //Setup monetateQ\n    window.monetateQ = window.monetateQ || [];\n\n    setUpTest();\n\n    //***Start adding functions after this line\n    function setUpTest(){\n        //Setup synchrony modals\n        \n        //Global Header - desktop\n        popUpSynchrony(\"#wrapper .top-banner .header-main ul .header-financing a\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYHDRPQ\",true);\n        updateInnerText(\"#wrapper .top-banner .header-main ul .header-financing a\",\"Prequalify for Financing\");\n        //Set the minWidth\n        if( document.querySelector(\"#wrapper .top-banner .header-main ul .header-financing .util-text-container\") ){\n            document.querySelector(\"#wrapper .top-banner .header-main ul .header-financing .util-text-container\").style.minWidth = \"84px\";\n        }\n        //Global Header - mobile\n        popUpSynchrony(\".mobile-utility-nav ul li.mobile-util-link a[aria-label='Click to learn more about our financing options']\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYHDRPQ\",true);\n        \n        //Mini-cart - desktop only\n        popUpSynchrony(\"#mini-cart .mini-cart-content .mini-cart-totals .mini-cart-slot .html-slot-container\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYHOMECARTPQ\",true);\n        //disable clicks\n        disableClick(\"#mini-cart .mini-cart-content .mini-cart-totals .mini-cart-slot .html-slot-container *\");\n    \n        //Check URL and apply accordingly\n        if( window?.location?.pathname ){\n            let URLPath = window.location.pathname;\n\n            //Deals LP\n            if( URLPath.substr(0,20) === \"/c/deals/\" ){\n                //A1 Hero Image\n                popUpSynchrony(\".financing-dk2, .financing-mb2\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYOFFERSDEALSHUPQ\",true);\n                //Mid-page banner\n                popUpSynchrony(\".finance-dk a, .finance-mb a\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYOFFERSDEALSPQ\",true);\n            }\n            //PLP\n            else if( URLPath.indexOf(\"/c/\") > -1 || URLPath.indexOf(\"search/\") > -1 ){\n                //As low as modals\n                initObserve(\".finance-dialog-content .as-low-as-link .as-low-as-apply-now\",value=>{\n                    popUpSynchrony(\".finance-dialog-content .as-low-as-link .as-low-as-apply-now\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYMOPAPQ\",true);\n                });\n                //PLP Banner\n                onPLPAjaxComplete(()=>{\n                    popUpSynchrony(\"#in-grid-advertisement-global-slot-2 a:not([modal='no-modal'])\", \"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYPLPPQ\", true);\n                });\n            }\n            //PDP\n            else if( URLPath.indexOf(\"/p/\") > -1 ){\n                //As low as modals\n                initObserve(\".finance-dialog-content .as-low-as-link .as-low-as-apply-now\",value=>{\n                    popUpSynchrony(\".finance-dialog-content .as-low-as-link .as-low-as-apply-now\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYPRDPPQ\",true);\n                });\n            }\n            //Homepage\n            else if( URLPath.substr(0,3) === \"/\" ){\n                //A1 Hero Image\n                popUpSynchrony(\".financing-dk2, .financing-mb2\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYHOMEHUPQ\",true);\n                //Mid-page banner\n                popUpSynchrony(\".finance-dk a, .finance-mb a\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYHOMEPQ\",true);\n            }\n            //Cart\n            else if( URLPath.indexOf(\"/cart/\") > -1 ){\n                //As low as modals\n                initObserve(\".finance-dialog-content .as-low-as-link .as-low-as-apply-now\",value=>{\n                    popUpSynchrony(\".finance-dialog-content .as-low-as-link a.as-low-as-apply-now\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYCARTMOPAPQ\",true);\n                });\n                //Update Apply Now link text to Prequalify now\n                updateInnerText(\".cart-as-low-as .apply-online a\",\"Prequalify Now\");\n                //Prequalify text and stop event bubble\n                popUpSynchrony(\".cart-as-low-as .apply-online a\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYCARTPQ\",true);\n                setUpClick(\".cart-as-low-as .apply-online a\",e=>{\n                    e.stopPropagation();\n                });\n            }\n            //Financing LP\n            else if( URLPath.substr(0,20) === \"/financing/\" ){\n                //Prequal button\n                popUpSynchrony(\".financing-lp-dk-prequalify, .financing-lp-mb-prequalify\",\" https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYLANDPQ\",true);\n                //Apply now button\n                popUpSynchrony(\".financing-lp-dk-apply, .financing-lp-mb-apply, [aria-describedby='6Month-Modal'] .ui-widget-content > p:nth-child(4) > a, [aria-describedby='12Month-Modal'] .ui-widget-content > p:nth-child(4) > a, [aria-describedby='18MonthModal'] .ui-widget-content > p:nth-child(4) > a, [aria-describedby='24MonthModal'] .ui-widget-content > p:nth-child(4) > a, [aria-describedby='60MonthModal'] .ui-widget-content > p:nth-child(4) > a, [aria-describedby='72MonthModal'] .ui-widget-content > p:nth-child(4) > a, [aria-describedby='76MonthModal'] .ui-widget-content > p:nth-child(4) > a, [aria-describedby='84MonthModal'] .ui-widget-content > p:nth-child(4) > a, [aria-describedby='96MonthModal'] .ui-widget-content > p:nth-child(4) > a\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&client=Ashley%20Furniture%20HomeStore&icid=Financing-Synchrony-Apply&siteCode=ASHLEYLAND\",true);\n            }\n            //Billing\n            else if( URLPath.substr(0,20) === \"/billing/\" ){\n                //Update Apply Now link text to Prequalify Now\n                updateInnerText(\".ashley-advantage-card-apply a\",\"Prequalify Now\");\n                //Prequal link\n                popUpSynchrony(\".ashley-advantage-card-apply a\", \"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYPAYMENTPQ\", true);\n                //hide the card under order summary\n                if( document.querySelector(\".checkout-order-totals .checkout-form-block\") ){\n                    document.querySelector(\".checkout-order-totals .checkout-form-block\").style.display = \"none\";\n                }\n            }\n            //Orange LP\n            else if( URLPath.indexOf(\"/orange-rewards/\") > -1 ){\n                popUpSynchrony(\"#primary > section:nth-child(1) > section:nth-child(4) > div > a:nth-child(1):not([modal='no-modal']),#primary > section:nth-child(1) > section:nth-child(7) > div > a:nth-child(1):not([modal='no-modal'])\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&client=Ashley%20Furniture%20HomeStore&icid=Financing-Synchrony-Apply&siteCode=ASHLEYORANGE\",true);\n            }\n            //This is home your way LP\n            else if( URLPath.indexOf(\"/this-is-home-your-way/\") > -1 ){\n                popUpSynchrony(\".finance-dk a\",\"https://etail.mysynchrony.com/eapply/eapply.action?uniqueId=565510A04C0A508AC067D9B072C9D4F57DB34A98269D02B5&preQual=Y&siteCode=ASHLEYTIHYWPQ\",true);\n            }\n            else if( URLPath.indexOf(\"/check-out/\") > -1 || URLPath.indexOf(\"/shipping/\") > -1 ){\n                //hide the card under order summary\n                if( document.querySelector(\".checkout-order-totals .checkout-form-block\") ){\n                    document.querySelector(\".checkout-order-totals .checkout-form-block\").style.display = \"none\";\n                }\n            }\n        }\n    }\n    \n    function popUpSynchrony(e,t=null,n=!1){!document.querySelector(\"#ss-synchrony-style-div\")&&document.\n    querySelector(\"body\")&&document.querySelector(\"body\").insertAdjacentHTML(\"beforeend\",`<div id=\n    \"ss-synchrony-style-div\"style=\"display:none;\"><style>#syf-child-closer{position:fixed;top:40px;\n    right:40px;}#syf-child-closer.active{display:block;cursor:pointer;z-index:999999;}\n    #syf-child-closer.idle{display:none;}#syf-opaque-client{position:fixed;top:0;left:0;height:100%;\n    width:100%;}#syf-opaque-client.idle{display:none;}#syf-opaque-client.active{display:block;\n    background:none;background-color:rgba(39,59,73,.9);cursor:pointer;z-index:999998;}#syf-parent-image\n    {align-self:center;width:75%;height:50px;}.syf-parent{width:400px;max-width:90%;align-self:center;}\n    .syf-parent-text{align-self:center;color:black;text-align:center;height:75px;width:80%;font-family:\n    \"Open Sans\",Arial,sans-serif;}#syf-parent-text-wrapper{background-color:#FAC610;display:flex;\n    flex-direction:column;justify-content:center;}#syf-parent-text2{text-decoration:underline;}\n    #syf-parent-wrapper{position:absolute;top:calc(2*(100%-300px)/3);width:100%;display:flex;\n    flex-direction:column;justify-content:center;}#syf-parent-logo-wrapper{background-color:#FFFFFF;\n    height:150px;border-radius:10px 10px 0 0;display:flex;flex-direction:column;justify-content:center;}\n    </style></div>`);var r=function(e){if(\"object\"==typeof e&&e.dApplyOpener&&e.dApplyUrl&&(\"string\"==\n    typeof e.dApplyOpener||Array.isArray(e.dApplyOpener))&&(\"string\"==typeof e.dApplyUrl||\"function\"==\n    typeof e.dApplyUrl)){var t,n,r=Array.isArray(e.dApplyOpener)?e.dApplyOpener:new Array(e.dApplyOpener),\n    i=e.dApplyUrl,o=function(){t&&t.close()},l=function(){t&&t.closed&&window.clearInterval(n)},s=function(\n    e){\"syf-child-handshake\"==e.data&&t?t.postMessage(\"syf-parent-handshake\",\"*\"):\"syf-close-me\"==e.data&&\n    o()},p=function(){window.addEventListener(\"message\",s);let e=Math.max(100,Math.min(700,3*window.\n    outerWidth/4)),r=Math.max(100,Math.min(800,3*window.outerHeight/4)),o=`menubar=no,toolbar=no,\n    location=no,personalbar=no,scrollbars=yes`;o+=\",width=\"+e,o+=\",height=\"+r,o+=\",left=\"+((window.\n    outerWidth-e)/2+window.screenX),o+=\",top=\"+((window.outerHeight-r)/2+window.screenY);let p=null;p=\n    \"function\"==typeof i?i():i,(t=window.open(p,\"dApplyWindow\",o))&&(n=window.setInterval(l,500))};r.\n    forEach(function(e){document.getElementById(e).addEventListener(\"click\",p)})}};if(\"string\"==typeof \n    e){let o=document.querySelectorAll(e);if(o&&o.length>0)for(let e=0;o.length>e;e++)o[e]&&i(o[e],t,n,\n    r)}else if(\"object\"==typeof e)if(e&&void 0===e.length)i(e,t,n,r);else if(e&&e.length>0)for(each of \n    e)i(each,t,n,r);function i(e,t,n,r){if(e&&e.classList&&!1===e.classList.contains(\"ss-synch-set\")){\n    e.classList.add(\"ss-synch-set\");let i=null,o=null;if(\"string\"==typeof e.getAttribute(\"id\")?i=e.\n    getAttribute(\"id\"):(i=\"ss-rand-\"+Math.random().toString(36).substr(2,5),e.setAttribute(\"id\",i)),1==\n    n&&\"string\"==typeof t?o=t:e&&\"string\"==typeof e.getAttribute(\"href\")?o=e.getAttribute(\"href\"):e&&\n    \"string\"==typeof t&&(o=t),\"string\"==typeof e.getAttribute(\"href\")&&e.removeAttribute(\"href\"),\n    \"string\"==typeof e.getAttribute(\"target\")&&e.removeAttribute(\"target\"),\"string\"==typeof i&&\"string\"==\n    typeof o){e.style.cursor=\"pointer\",r({dApplyOpener:i,dApplyUrl:o})}}}}\n    \n    function updateInnerText(e,t){if(\"string\"==typeof e&&\"string\"==typeof t){let n=document.\n    querySelectorAll(e);n&&n.length>0&&n.forEach(e=>{e&&e.innerText!==t&&(e.innerText=t)})}}\n\n    function disableClick(e){let t=null;\"string\"==typeof e?t=document.querySelectorAll(e):\"object\"==typeof e&&(t=\n    e.length>0?e:[e]),t&&t.length>0&&t.forEach(e=>{e&&e.style&&\"none\"!==e.style.pointerEvents&&e.style.pointerEvents})}\n\n    //Callback must use arg for the current element to handle\n    //Selector: string of selector(s) could be multiple, Callback: function must use an arg to represent current element, AttrName: OPTIONAL-class name to identify already existing elems, SelectorOrElemToObserve: OPTIONAL-root elem to observe default is body.\n    function initObserve(e,t,l=\"mut-observer-set\",o=\"body\"){let n=null;\"string\"==typeof e&&(n=e.split(\n    \",\"));let r=null;\"string\"==typeof o?r=document.querySelector(o):\"object\"==typeof o&&(r=o.length>0?\n    o:[o]);let c=function(e){console.log(\"dynamicObs default callback (nothing happens). This value:\"),\n    console.log(e)};\"function\"==typeof t&&(c=t);let s=\"mut-observer-set\";\"string\"==typeof l&&(s=l),n&&\n    n.length>0&&n.forEach(e=>{let t=document.querySelectorAll(e+\":not([\"+s+\"='true'])\");t&&t.length>0&&\n    t.forEach(e=>{console.log(\"Calling callback...\"),c(e),e&&e.setAttribute(s,\"true\")})});let u={\n    childList:!0,subtree:!0,attributes:!1,attributeOldValue:!1};new MutationObserver((e,t)=>{e.forEach(\n    e=>{e&&e.addedNodes&&e.addedNodes.length>0&&n&&n.length>0&&n.forEach(e=>{let l=document.\n    querySelectorAll(e+\":not([\"+s+\"='true'])\");l&&l.length>0&&(t.disconnect(),l.forEach(e=>{c(e),e&&e.\n    setAttribute(s,\"true\")}),t.observe(r,u))})})}).observe(r,u)}\n\n    //Pass callback function\n    function onPLPAjaxComplete(t){let s=\"kibo-ajax-set-\"+Math.random().toString(36).substr(2,9),e=\n    document.querySelector(\"#wrapper\");if(\"function\"==typeof t&&s&&e&&!1===e.classList.contains(s)){e.\n    classList.add(s);let a=document.querySelector(\"#primary\");a&&!1===a.classList.contains(s)&&(a.\n    classList.add(s),t()),$(document).ajaxComplete(()=>{let e=document.querySelector(\"#primary\");e&&!\n    1===e.classList.contains(s)&&(e.classList.add(s),t())})}}\n\n    function setUpClick(t,e,n){let c=null,s=\"kb-click-set\",i=function(){};\"string\"==typeof t?c=document.\n    querySelectorAll(t):\"object\"==typeof t&&(c=t.length>0?t:[t]),\"string\"==typeof e?(s=e,\"function\"==\n    typeof n&&(i=n)):\"function\"==typeof e&&(i=e,\"string\"==typeof n&&(s=n)),c&&c.length>0&&c.forEach(t=>{\n    t&&t.classList&&!1===t.classList.contains(s)&&(t.classList.add(s),t.addEventListener(\"click\",t=>{i(t)}))})}\n\n})();\n/* KIBOPatch(Synchrony Modal) END */\n", "ref": "1300/3615981.js"});