function closeErrorMessage(){$(".err").removeClass("err");$(".form-error").removeClass("form-error")}function openErrorMessage(a){$("#err").html(a);$("#err").show()}function validateDefault(){closeErrorMessage();return true}function showJsonResponseLogin(a){if(typeof a.errors=="undefined"){if(typeof a.homepage!="undefined"){parent.location.href=a.homepage}else{parent.location.reload()}}else{$(".message-yellow").hide();showErrors(a);scrollTop("#err")}}function loginSubmit(){if(validateDefault()){var a={success:showJsonResponseLogin,dataType:"json"};var b=$("#form-login");b.ajaxForm(a);b.submit()}}function showJsonResponseModalLogin(e){if(typeof e.errors=="undefined"){if(typeof e.homepage!="undefined"){parent.location.href=e.homepage}else{var b=$("#request").val();var f=parent.location.href;var h=$("#redirect").val();if(h=="list"){var c=$("#citems").val();var a=$("#items").val();var g=$("#quantities").val();if(c!=null&&c!=""){location.href="/global/modals/list.jsp?citems="+c+"&modal=true"}else{location.href="/global/modals/list.jsp?items="+a+"&quantities="+g+"&modal=true"}}else{if(h=="copy"){var d=$("#giftlistId").val();location.href="/global/modals/list-new.jsp?giftlistId="+d+"&modal=true"}else{if((b==null||b=="")||(f.indexOf("catalog")==-1)){b=parent.location.href}parent.location.replace(b)}}}}else{showErrors(e)}}function loginModalSubmit(){if(validateDefault()){var a={success:showJsonResponseModalLogin,dataType:"json",error:showErrorStatus};var b=$("#form-login");b.ajaxForm(a);b.submit()}}function showErrorStatus(b,a){console.log("Status code::"+a);console.log("Error data::"+b);handleJSError()}function showErrors(d){var b="";var f=new Array();var e=new Array();for(var c=0;c<d.errors.length;c++){if(indexOf(e,d.errors[c])==-1){e.push(d.errors[c]);if(b==""){b=d.errors[c]}else{b=b+"<br />"+d.errors[c]}}f.push(d.properties[c])}if(b!=""){openErrorMessage(b)}for(var a=0;a<f.length;a++){$("#"+f[a]).addClass("form-error")}}function logoutSubmit(){var a=$("#form-logout");a.submit()}function indexOf(c,b){for(var a=0;a<c.length;a++){if(c[a]==b){return a}}return -1}function showJsonResponseModalForgotPassword(a){if(typeof a.errors=="undefined"){if(a.redirectPage!="undefined"){window.location.href=a.redirectPage}else{window.location.href="/account/login.jsp?resetEmail=true"}}else{showErrors(a)}}function forgotPasswordSubmit(){if(validateDefault()){var a={success:showJsonResponseModalForgotPassword,dataType:"json"};var b=$("#form-forgot-password");b.ajaxForm(a);b.submit()}}function showJsonResponseBeforeForgotPassword(a){if(a.ok=="ok"){$("#err").hide();$("#security-question").html("<strong>"+a.securityQuestion+"</strong>");$("#security-question-hid").val(a.securityQuestion);$("#email-second").val(a.email);$("#form-before-forgot-password").hide();$("#form-forgot-password").show()}else{showErrors(a)}}function beforeForgotPasswordSubmit(){if(validateDefault()){var a={success:showJsonResponseBeforeForgotPassword,dataType:"json"};var b=$("#form-before-forgot-password");b.ajaxForm(a);b.submit()}}function showChat(){window.open("http://www.livehelpnow.net/livechat.asp?c=24984&zzwindow=0&d=28538&custom1=&custom2=&custom3=",null,"height=600,width=550,status=no,toolbar=no,menubar=no,location=no,resizable=yes")}function showPrintModal(){$.modal('<iframe src="/global/modals/print-page.jsp?modal=true" height="175" width="370" scrolling="auto">',{overlayClose:true});return false}function showPrintPage(){$.modal.close();print()}function showLoginModal(a){$.modal('<iframe src="/global/modals/login.jsp?page='+a+'&modal=true" height="310" width="400" scrolling="auto">',{overlayClose:true})}function checkSubmit(b,a){if(b&&b.keyCode==13){if(funcName!="loginSubmit"){a.call()}}}function toggleAll(a,d){var c=$('input[type="checkbox"][name="'+d+'"]');if(c){for(var b=0;b<c.length;b++){c[b].checked=a.checked}}}function showPassword(){var a=document.getElementById("password");if(a.type==="password"){a.type="text";$("#show-password").html("HIDE")}else{a.type="password";$("#show-password").html("SHOW")}}function createAccount(){if(validateDefault()){var a={success:createAccountSuccess,dataType:"json"};var b=$("#register-form");b.ajaxForm(a);b.submit()}}function createAccountSuccess(a){if(typeof a.errors=="undefined"){location.href=a.redirectPage}else{showErrors(a,"#err");scrollTop("#err")}}function updateUserProfile(){if(validateDefault()){var a={success:updateUserProfileSuccess,dataType:"json"};var b=$("#update");b.ajaxForm(a);b.submit()}}function updateUserProfileSuccess(a){if(typeof a.errors=="undefined"){parent.location.href="/account/profile.jsp?success=true"}else{$(".message-green").hide();showErrors(a);scrollTop("#err")}}function intUserReg(){if(validateDefault()){$("#intUserReg").hide();$("#customerType").hide();$("#cust-type").val("international");$("#nonIntUserMsg").hide();$("#intUserMsg").show();$("#err").hide()}}function loginCheckoutSubmit(){dataString=$("#form-login").serialize();$.ajax({type:"POST",data:dataString,dataType:"json",success:function(a){if(typeof a.errors=="undefined"){if(typeof a.homepage!="undefined"){parent.location.href=a.homepage}else{parent.location.reload()}}else{showErrors(a);scrollTop("#err")}},error:function(b,c,a){handleAjaxError(xhr.status)}});return false}function submitIntl(){if(validateDefault()){var a={success:showJsonResponseIntl,dataType:"json",type:"POST"};var b=$("#int-checkout");b.ajaxForm(a);b.submit()}}function showJsonResponseIntl(a){if(typeof a.errors=="undefined"){if(typeof a.url!="undefined"){parent.location.href=a.url}else{parent.location.reload()}}else{showErrors(a,"#err");highlightErrors(a);scrollTop("#err")}}function highlightErrors(d){var c="";var e=new Array();for(var b=0;b<d.errors.length;b++){e.push(d.erorrCodes[b])}for(var a=0;a<e.length;a++){$("#"+e[a]).addClass("form-error")}}function setBillingSameAsShipping(){if($("#blankCheckbox").is(":checked")){$("#billingAddress").val($("#shippingAddress").val());$("#billingAddress").attr("readonly",true)}else{$("#billingAddress").val("");$("#billingAddress").attr("readonly",false)}}function scrollTop(a){$("html, body").animate({scrollTop:$("#err").offset().top},"slow")}function submitUseAddress(a){var c={success:showJsonResponseUseAddress,dataType:"json",type:"POST"};var d=$("#useAddressForm");var a=$("#useAddress_"+a).attr("data-id");var b=$("#useAddress_"+a).attr("data-type");$("#contactInfoId").val(a);$("#addressType").val(b);d.ajaxForm(c);d.submit()}function showJsonResponseUseAddress(b){if(typeof b.errors=="undefined"){var a=$("#successUrl").val();if(a){parent.location.href=a}else{parent.location.reload()}}else{showErrors(b,"#err")}};