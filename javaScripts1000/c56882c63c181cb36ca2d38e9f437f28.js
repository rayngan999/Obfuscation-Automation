function html5ModeConfig(e){window.history&&history.pushState?e.html5Mode(!0):e.html5Mode(!1).hashPrefix("!")}Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var u=o[a],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(n[u]=i[u])}}return n}}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)e.call(i,o)&&s.push(o);if(t)for(a=0;a<r;a++)e.call(i,n[a])&&s.push(n[a]);return s}}()),Array.prototype.reduce||(Array.prototype.reduce=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,i=0;if(arguments.length>=2)t=arguments[1];else{for(;i<r&&!(i in n);)i++;if(i>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[i++]}for(;i<r;i++)i in n&&(t=e(t,n[i],i,n));return t}),Array.prototype.fill||(Array.prototype.fill=function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,r=arguments[1]>>0,i=r<0?Math.max(n+r,0):Math.min(r,n),o=arguments[2],a=void 0===o?n:o>>0,s=a<0?Math.max(n+a,0):Math.min(a,n);i<s;)t[i]=e,i++;return t}),Object.freeze||(Object.freeze=function(e){if(Object(e)!==e)throw new TypeError("Object.freeze can only be called on Objects.");return e}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=e.document,i=n.slice,o=n.concat,a=n.push,s=n.indexOf,u={},c=u.toString,l=u.hasOwnProperty,d={},f="1.12.4",p=function(e,t){return new p.fn.init(e,t)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,g=/-([\da-z])/gi,v=function(e,t){return t.toUpperCase()};function y(e){var t=!!e&&"length"in e&&e.length,n=p.type(e);return"function"!==n&&!p.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}p.fn=p.prototype={jquery:f,constructor:p,selector:"",length:0,toArray:function(){return i.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:i.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return p.each(this,e)},map:function(e){return this.pushStack(p.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||p.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(c&&n&&(p.isPlainObject(n)||(t=p.isArray(n)))?(t?(t=!1,o=e&&p.isArray(e)?e:[]):o=e&&p.isPlainObject(e)?e:{},a[r]=p.extend(c,o,n)):void 0!==n&&(a[r]=n));return a},p.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray||function(e){return"array"===p.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!p.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==p.type(e)||e.nodeType||p.isWindow(e))return!1;try{if(e.constructor&&!l.call(e,"constructor")&&!l.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!d.ownFirst)for(t in e)return l.call(e,t);for(t in e);return void 0===t||l.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":typeof e},globalEval:function(t){t&&p.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(m,"ms-").replace(g,v)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(y(e))for(n=e.length;n>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(h,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(y(Object(e))?p.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(s)return s.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;o>i;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(y(e))for(r=e.length;r>a;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(o=e[t],t=e,e=o),p.isFunction(e)?(n=i.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(i.call(arguments)))}).guid=e.guid=e.guid||p.guid++,r):void 0},now:function(){return+new Date},support:d}),"function"==typeof Symbol&&(p.fn[Symbol.iterator]=n[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var w=function(e){var t,n,r,i,o,a,s,u,c,l,d,f,p,h,m,g,v,y,w,C="sizzle"+1*new Date,b=e.document,E=0,$=0,S=oe(),T=oe(),k=oe(),x=function(e,t){return e===t&&(d=!0),0},P=1<<31,A={}.hasOwnProperty,M=[],D=M.pop,O=M.push,_=M.push,N=M.slice,I=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",V="\\["+L+"*("+H+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+L+"*\\]",F=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",U=new RegExp(L+"+","g"),j=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),B=new RegExp("^"+L+"*,"+L+"*"),q=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),W=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),z=new RegExp(F),Y=new RegExp("^"+H+"$"),G={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){f()};try{_.apply(M=N.call(b.childNodes),b.childNodes),M[b.childNodes.length].nodeType}catch(e){_={apply:M.length?function(e,t){O.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,i){var o,s,c,l,d,h,v,y,E=t&&t.ownerDocument,$=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==$&&9!==$&&11!==$)return r;if(!i&&((t?t.ownerDocument||t:b)!==p&&f(t),t=t||p,m)){if(11!==$&&(h=X.exec(e)))if(o=h[1]){if(9===$){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(E&&(c=E.getElementById(o))&&w(t,c)&&c.id===o)return r.push(c),r}else{if(h[2])return _.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!k[e+" "]&&(!g||!g.test(e))){if(1!==$)E=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(ee,"\\$&"):t.setAttribute("id",l=C),s=(v=a(e)).length,d=Y.test(l)?"#"+l:"[id='"+l+"']";s--;)v[s]=d+" "+me(v[s]);y=v.join(","),E=Q.test(e)&&pe(t.parentNode)||t}if(y)try{return _.apply(r,E.querySelectorAll(y)),r}catch(e){}finally{l===C&&t.removeAttribute("id")}}}return u(e.replace(j,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ae(e){return e[C]=!0,e}function se(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||P)-(~e.sourceIndex||P);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return ae(function(t){return t=+t,ae(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=ie.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:b;return a!==p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,m=!o(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=se(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=se(function(e){return h.appendChild(e).id=C,!p.getElementsByName||!p.getElementsByName(C).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&m?t.getElementsByClassName(e):void 0},v=[],g=[],(n.qsa=J.test(p.querySelectorAll))&&(se(function(e){h.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+C+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||g.push(".#.+[+~]")}),se(function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=J.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",F)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(h.compareDocumentPosition),w=t||J.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===b&&w(b,e)?-1:t===p||t.ownerDocument===b&&w(b,t)?1:l?I(l,e)-I(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:l?I(l,e)-I(l,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ce(a[r],s[r]):a[r]===b?-1:s[r]===b?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(W,"='$1']"),n.matchesSelector&&m&&!k[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),w(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(x),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,w=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(w=(p=(c=(l=(d=(f=g)[C]||(f[C]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===E&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(w=p=0)||h.pop();)if(1===f.nodeType&&++w&&f===t){l[e]=[E,p,w];break}}else if(y&&(w=p=(c=(l=(d=(f=t)[C]||(f[C]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===E&&c[1]),!1===w)for(;(f=++p&&f&&f[m]||(w=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++w||(y&&((l=(d=f[C]||(f[C]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[E,w]),f!==t)););return(w-=i)===r||w%r==0&&w/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[C]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=I(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ae(function(e){var t=[],n=[],r=s(e.replace(j,"$1"));return r[C]?ae(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return ie(e,t).length>0}}),contains:ae(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ae(function(e){return Y.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[0>n?n+t:n]}),even:fe(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:fe(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=le(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function he(){}function me(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function ge(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c,l=[E,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=(c=t[C]||(t[C]={}))[t.uniqueID]||(c[t.uniqueID]={}))[r])&&s[0]===E&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;u>s;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function we(e,t,n,r,i,o){return r&&!r[C]&&(r=we(r)),i&&!i[C]&&(i=we(i,o)),ae(function(o,a,s,u){var c,l,d,f=[],p=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;i>r;r++)ie(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:ye(m,f,e,s,u),v=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(c=ye(v,p),r(c,[],s,u),l=c.length;l--;)(d=c[l])&&(v[p[l]]=!(g[p[l]]=d));if(o){if(i||e){if(i){for(c=[],l=v.length;l--;)(d=v[l])&&c.push(g[l]=d);i(null,v=[],c,u)}for(l=v.length;l--;)(d=v[l])&&(c=i?I(o,d):f[l])>-1&&(o[c]=!(a[c]=d))}}else v=ye(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):_.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=ge(function(e){return e===t},s,!0),d=ge(function(e){return I(t,e)>-1},s,!0),f=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):d(e,n,r));return t=null,i}];o>u;u++)if(n=r.relative[e[u].type])f=[ge(ve(f),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[C]){for(i=++u;o>i&&!r.relative[e[i].type];i++);return we(u>1&&ve(f),u>1&&me(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(j,"$1"),n,i>u&&Ce(e.slice(u,i)),o>i&&Ce(e=e.slice(i)),o>i&&me(e))}f.push(n)}return ve(f)}function be(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var d,h,g,v=0,y="0",w=o&&[],C=[],b=c,$=o||i&&r.find.TAG("*",l),S=E+=null==b?1:Math.random()||.1,T=$.length;for(l&&(c=a===p||a||l);y!==T&&null!=(d=$[y]);y++){if(i&&d){for(h=0,a||d.ownerDocument===p||(f(d),s=!m);g=e[h++];)if(g(d,a||p,s)){u.push(d);break}l&&(E=S)}n&&((d=!g&&d)&&v--,o&&w.push(d))}if(v+=y,n&&y!==v){for(h=0;g=t[h++];)g(w,C,a,s);if(o){if(v>0)for(;y--;)w[y]||C[y]||(C[y]=D.call(u));C=ye(C)}_.apply(u,C),l&&!o&&C.length>0&&v+t.length>1&&ie.uniqueSort(u)}return l&&(E=S,c=b),w};return n?ae(o):o}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=ie.tokenize=function(e,t){var n,i,o,a,s,u,c,l=T[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=B.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(j," ")}),s=s.slice(n.length)),r.filter)!(i=G[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):T(e,u).slice(0)},s=ie.compile=function(e,t){var n,r=[],i=[],o=k[e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)(o=Ce(t[n]))[C]?r.push(o):i.push(o);(o=k(e,be(i,r))).selector=e}return o},u=ie.select=function(e,t,i,o){var u,c,l,d,f,p="function"==typeof e&&e,h=!o&&a(e=p.selector||e);if(i=i||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(u=G.needsContext.test(e)?0:c.length;u--&&(l=c[u],!r.relative[d=l.type]);)if((f=r.find[d])&&(o=f(l.matches[0].replace(te,ne),Q.test(c[0].type)&&pe(t.parentNode)||t))){if(c.splice(u,1),!(e=o.length&&me(c)))return _.apply(i,o),i;break}}return(p||s(e,h))(o,t,!m,i,!t||Q.test(e)&&pe(t.parentNode)||t),i},n.sortStable=C.split("").sort(x).join("")===C,n.detectDuplicates=!!d,f(),n.sortDetached=se(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||ue(R,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(e);p.find=w,p.expr=w.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=w.uniqueSort,p.text=w.getText,p.isXMLDoc=w.isXML,p.contains=w.contains;var C=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&p(e).is(n))break;r.push(e)}return r},b=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},E=p.expr.match.needsContext,$=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,S=/^.[^:#\[\.,]*$/;function T(e,t,n){if(p.isFunction(t))return p.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return p.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(S.test(t))return p.filter(t,e,n);t=p.filter(t,e)}return p.grep(e,function(e){return p.inArray(e,t)>-1!==n})}p.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?p.find.matchesSelector(r,e)?[r]:[]:p.find.matches(e,p.grep(t,function(e){return 1===e.nodeType}))},p.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(p(e).filter(function(){for(t=0;i>t;t++)if(p.contains(r[t],this))return!0}));for(t=0;i>t;t++)p.find(e,r[t],n);return(n=this.pushStack(i>1?p.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&E.test(e)?p(e):e||[],!1).length}});var k,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:x.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),$.test(i[1])&&p.isPlainObject(t))for(i in t)p.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=r.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return k.find(e);this.length=1,this[0]=o}return this.context=r,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==n.ready?n.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,k=p(r);var P=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}p.fn.extend({has:function(e){var t,n=p(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(p.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=E.test(e)||"string"!=typeof e?p(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&p.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?p.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?p.inArray(this[0],p(e)):p.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return b((e.parentNode||{}).firstChild,e)},children:function(e){return b(e.firstChild)},contents:function(e){return p.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:p.merge([],e.childNodes)}},function(e,t){p.fn[e]=function(n,r){var i=p.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=p.filter(r,i)),this.length>1&&(A[e]||(i=p.uniqueSort(i)),P.test(e)&&(i=i.reverse())),this.pushStack(i)}});var D,O,_=/\S+/g;function N(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",I),e.removeEventListener("load",I)):(r.detachEvent("onreadystatechange",I),e.detachEvent("onload",I))}function I(){(r.addEventListener||"load"===e.event.type||"complete"===r.readyState)&&(N(),p.ready())}for(O in p.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return p.each(e.match(_)||[],function(e,n){t[n]=!0}),t}(e):p.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){p.each(n,function(n,r){p.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==p.type(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return p.each(arguments,function(e,t){for(var n;(n=p.inArray(t,o,n))>-1;)o.splice(n,1),s>=n&&s--}),this},has:function(e){return e?p.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred(function(n){p.each(t,function(t,o){var a=p.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?p.extend(e,r):r}},i={};return r.pipe=r.then,p.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,o=0,a=i.call(arguments),s=a.length,u=1!==s||e&&p.isFunction(e.promise)?s:0,c=1===u?e:p.Deferred(),l=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?i.call(arguments):o,r===t?c.notifyWith(n,r):--u||c.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>o;o++)a[o]&&p.isFunction(a[o].promise)?a[o].promise().progress(l(o,n,t)).done(l(o,r,a)).fail(c.reject):--u;return u||c.resolveWith(r,a),c.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(D.resolveWith(r,[p]),p.fn.triggerHandler&&(p(r).triggerHandler("ready"),p(r).off("ready"))))}}),p.ready.promise=function(t){if(!D)if(D=p.Deferred(),"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll)e.setTimeout(p.ready);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",I),e.addEventListener("load",I);else{r.attachEvent("onreadystatechange",I),e.attachEvent("onload",I);var n=!1;try{n=null==e.frameElement&&r.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!p.isReady){try{n.doScroll("left")}catch(n){return e.setTimeout(t,50)}N(),p.ready()}}()}return D.promise(t)},p.ready.promise(),p(d))break;d.ownFirst="0"===O,d.inlineBlockNeedsLayout=!1,p(function(){var e,t,n,i;(n=r.getElementsByTagName("body")[0])&&n.style&&(t=r.createElement("div"),(i=r.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",d.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=r.createElement("div");d.deleteExpando=!0;try{delete e.test}catch(e){d.deleteExpando=!1}e=null}();var R=function(e){var t=p.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},L=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/([A-Z])/g;function V(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(H,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:L.test(n)?p.parseJSON(n):n)}catch(e){}p.data(e,t,n)}else n=void 0}return n}function F(e){var t;for(t in e)if(("data"!==t||!p.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function U(e,t,r,i){if(R(e)){var o,a,s=p.expando,u=e.nodeType,c=u?p.cache:e,l=u?e[s]:e[s]&&s;if(l&&c[l]&&(i||c[l].data)||void 0!==r||"string"!=typeof t)return l||(l=u?e[s]=n.pop()||p.guid++:s),c[l]||(c[l]=u?{}:{toJSON:p.noop}),"object"!=typeof t&&"function"!=typeof t||(i?c[l]=p.extend(c[l],t):c[l].data=p.extend(c[l].data,t)),a=c[l],i||(a.data||(a.data={}),a=a.data),void 0!==r&&(a[p.camelCase(t)]=r),"string"==typeof t?null==(o=a[t])&&(o=a[p.camelCase(t)]):o=a,o}}function j(e,t,n){if(R(e)){var r,i,o=e.nodeType,a=o?p.cache:e,s=o?e[p.expando]:p.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){p.isArray(t)?t=t.concat(p.map(t,p.camelCase)):t in r?t=[t]:t=(t=p.camelCase(t))in r?[t]:t.split(" "),i=t.length;for(;i--;)delete r[t[i]];if(n?!F(r):!p.isEmptyObject(r))return}(n||(delete a[s].data,F(a[s])))&&(o?p.cleanData([e],!0):d.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?p.cache[e[p.expando]]:e[p.expando])&&!F(e)},data:function(e,t,n){return U(e,t,n)},removeData:function(e,t){return j(e,t)},_data:function(e,t,n){return U(e,t,n,!0)},_removeData:function(e,t){return j(e,t,!0)}}),p.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=p.data(o),1===o.nodeType&&!p._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&V(o,r=p.camelCase(r.slice(5)),i[r]));p._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){p.data(this,e)}):arguments.length>1?this.each(function(){p.data(this,e,t)}):o?V(o,e,p.data(o,e)):void 0},removeData:function(e){return this.each(function(){p.removeData(this,e)})}}),p.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=p._data(e,t),n&&(!r||p.isArray(n)?r=p._data(e,t,p.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=p.queue(e,t),r=n.length,i=n.shift(),o=p._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){p.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return p._data(e,n)||p._data(e,n,{empty:p.Callbacks("once memory").add(function(){p._removeData(e,t+"queue"),p._removeData(e,n)})})}}),p.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?p.queue(this[0],e):void 0===t?this:this.each(function(){var n=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&p.dequeue(this,e)})},dequeue:function(e){return this.each(function(){p.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=p.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=p._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),function(){var e;d.shrinkWrapBlocks=function(){return null!=e?e:(e=!1,(n=r.getElementsByTagName("body")[0])&&n.style?(t=r.createElement("div"),(i=r.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(r.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0);var t,n,i}}();var B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,q=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),W=["Top","Right","Bottom","Left"],z=function(e,t){return e=t||e,"none"===p.css(e,"display")||!p.contains(e.ownerDocument,e)};function Y(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return p.css(e,t,"")},u=s(),c=n&&n[3]||(p.cssNumber[t]?"":"px"),l=(p.cssNumber[t]||"px"!==c&&+u)&&q.exec(p.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do{l/=o=o||".5",p.style(e,t,l+c)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var G=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===p.type(n))for(s in i=!0,n)G(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,p.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(p(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o},K=/^(?:checkbox|radio)$/i,Z=/<([\w:-]+)/,J=/^$|\/(?:java|ecma)script/i,X=/^\s+/,Q="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ee(e){var t=Q.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}!function(){var e=r.createElement("div"),t=r.createDocumentFragment(),n=r.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d.leadingWhitespace=3===e.firstChild.nodeType,d.tbody=!e.getElementsByTagName("tbody").length,d.htmlSerialize=!!e.getElementsByTagName("link").length,d.html5Clone="<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),d.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),(n=r.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),d.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,d.noCloneEvent=!!e.addEventListener,e[p.expando]=1,d.attributes=!e.getAttribute(p.expando)}();var te={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function ne(e,t){var n,r,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||p.nodeName(r,t)?o.push(r):p.merge(o,ne(r,t));return void 0===t||t&&p.nodeName(e,t)?p.merge([e],o):o}function re(e,t){for(var n,r=0;null!=(n=e[r]);r++)p._data(n,"globalEval",!t||p._data(t[r],"globalEval"))}te.optgroup=te.option,te.tbody=te.tfoot=te.colgroup=te.caption=te.thead,te.th=te.td;var ie=/<|&#?\w+;/,oe=/<tbody/i;function ae(e){K.test(e.type)&&(e.defaultChecked=e.checked)}function se(e,t,n,r,i){for(var o,a,s,u,c,l,f,h=e.length,m=ee(t),g=[],v=0;h>v;v++)if((a=e[v])||0===a)if("object"===p.type(a))p.merge(g,a.nodeType?[a]:a);else if(ie.test(a)){for(u=u||m.appendChild(t.createElement("div")),c=(Z.exec(a)||["",""])[1].toLowerCase(),f=te[c]||te._default,u.innerHTML=f[1]+p.htmlPrefilter(a)+f[2],o=f[0];o--;)u=u.lastChild;if(!d.leadingWhitespace&&X.test(a)&&g.push(t.createTextNode(X.exec(a)[0])),!d.tbody)for(o=(a="table"!==c||oe.test(a)?"<table>"!==f[1]||oe.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)p.nodeName(l=a.childNodes[o],"tbody")&&!l.childNodes.length&&a.removeChild(l);for(p.merge(g,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=m.lastChild}else g.push(t.createTextNode(a));for(u&&m.removeChild(u),d.appendChecked||p.grep(ne(g,"input"),ae),v=0;a=g[v++];)if(r&&p.inArray(a,r)>-1)i&&i.push(a);else if(s=p.contains(a.ownerDocument,a),u=ne(m.appendChild(a),"script"),s&&re(u),n)for(o=0;a=u[o++];)J.test(a.type||"")&&n.push(a);return u=null,m}!function(){var t,n,i=r.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(d[t]=n in e)||(i.setAttribute(n,"t"),d[t]=!1===i.attributes[n].expando);i=null}();var ue=/^(?:input|select|textarea)$/i,ce=/^key/,le=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,de=/^(?:focusinfocus|focusoutblur)$/,fe=/^([^.]*)(?:\.(.+)|)/;function pe(){return!0}function he(){return!1}function me(){try{return r.activeElement}catch(e){}}function ge(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ge(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=he;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return p().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=p.guid++)),e.each(function(){p.event.add(this,t,i,r,n)})}p.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,d,f,h,m,g,v=p._data(e);if(v){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=p.guid++),(a=v.events)||(a=v.events={}),(l=v.handle)||((l=v.handle=function(e){return void 0===p||e&&p.event.triggered===e.type?void 0:p.event.dispatch.apply(l.elem,arguments)}).elem=e),s=(t=(t||"").match(_)||[""]).length;s--;)h=g=(o=fe.exec(t[s])||[])[1],m=(o[2]||"").split(".").sort(),h&&(c=p.event.special[h]||{},h=(i?c.delegateType:c.bindType)||h,c=p.event.special[h]||{},d=p.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&p.expr.match.needsContext.test(i),namespace:m.join(".")},u),(f=a[h])||((f=a[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,m,l)||(e.addEventListener?e.addEventListener(h,l,!1):e.attachEvent&&e.attachEvent("on"+h,l))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),p.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,c,l,d,f,h,m,g,v=p.hasData(e)&&p._data(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(_)||[""]).length;c--;)if(h=g=(s=fe.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h){for(d=p.event.special[h]||{},f=l[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,m,v.handle)||p.removeEvent(e,h,v.handle),delete l[h])}else for(h in l)p.event.remove(e,h+t[c],n,r,!0);p.isEmptyObject(l)&&(delete v.handle,p._removeData(e,"events"))}},trigger:function(t,n,i,o){var a,s,u,c,d,f,h,m=[i||r],g=l.call(t,"type")?t.type:t,v=l.call(t,"namespace")?t.namespace.split("."):[];if(u=f=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!de.test(g+p.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),s=g.indexOf(":")<0&&"on"+g,(t=t[p.expando]?t:new p.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:p.makeArray(n,[t]),d=p.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!p.isWindow(i)){for(c=d.delegateType||g,de.test(c+g)||(u=u.parentNode);u;u=u.parentNode)m.push(u),f=u;f===(i.ownerDocument||r)&&m.push(f.defaultView||f.parentWindow||e)}for(h=0;(u=m[h++])&&!t.isPropagationStopped();)t.type=h>1?c:d.bindType||g,(a=(p._data(u,"events")||{})[t.type]&&p._data(u,"handle"))&&a.apply(u,n),(a=s&&u[s])&&a.apply&&R(u)&&(t.result=a.apply(u,n),!1===t.result&&t.preventDefault());if(t.type=g,!o&&!t.isDefaultPrevented()&&(!d._default||!1===d._default.apply(m.pop(),n))&&R(i)&&s&&i[g]&&!p.isWindow(i)){(f=i[s])&&(i[s]=null),p.event.triggered=g;try{i[g]()}catch(e){}p.event.triggered=void 0,f&&(i[s]=f)}return t.result}},dispatch:function(e){e=p.event.fix(e);var t,n,r,o,a,s=[],u=i.call(arguments),c=(p._data(this,"events")||{})[e.type]||[],l=p.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,c),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(r=((p.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;s>n;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?p(i,this).index(u)>-1:p.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[p.expando])return e;var t,n,i,o=e.type,a=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=le.test(o)?this.mouseHooks:ce.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new p.Event(a),t=i.length;t--;)e[n=i[t]]=a[n];return e.target||(e.target=a.srcElement||r),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(i=e.target.ownerDocument||r).documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==me()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===me()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return p.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=p.extend(new p.Event,n,{type:e,isSimulated:!0});p.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},p.removeEvent=r.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},p.Event=function(e,t){return this instanceof p.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?pe:he):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(e,t)},p.Event.prototype={constructor:p.Event,isDefaultPrevented:he,isPropagationStopped:he,isImmediatePropagationStopped:he,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=pe,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=pe,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=pe,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||p.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),d.submit||(p.event.special.submit={setup:function(){return!p.nodeName(this,"form")&&void p.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=p.nodeName(t,"input")||p.nodeName(t,"button")?p.prop(t,"form"):void 0;n&&!p._data(n,"submit")&&(p.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),p._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&p.event.simulate("submit",this.parentNode,e))},teardown:function(){return!p.nodeName(this,"form")&&void p.event.remove(this,"._submit")}}),d.change||(p.event.special.change={setup:function(){return ue.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(p.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),p.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),p.event.simulate("change",this,e)})),!1):void p.event.add(this,"beforeactivate._change",function(e){var t=e.target;ue.test(t.nodeName)&&!p._data(t,"change")&&(p.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||p.event.simulate("change",this.parentNode,e)}),p._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return p.event.remove(this,"._change"),!ue.test(this.nodeName)}}),d.focusin||p.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){p.event.simulate(t,e.target,p.event.fix(e))};p.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=p._data(r,t);i||r.addEventListener(e,n,!0),p._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=p._data(r,t)-1;i?p._data(r,t,i):(r.removeEventListener(e,n,!0),p._removeData(r,t))}}}),p.fn.extend({on:function(e,t,n,r){return ge(this,e,t,n,r)},one:function(e,t,n,r){return ge(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,p(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=he),this.each(function(){p.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){p.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?p.event.trigger(e,t,n,!0):void 0}});var ve=/ jQuery\d+="(?:null|\d+)"/g,ye=new RegExp("<(?:"+Q+")[\\s/>]","i"),we=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ce=/<script|<style|<link/i,be=/checked\s*(?:[^=]|=\s*.checked.)/i,Ee=/^true\/(.*)/,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Se=ee(r).appendChild(r.createElement("div"));function Te(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ke(e){return e.type=(null!==p.find.attr(e,"type"))+"/"+e.type,e}function xe(e){var t=Ee.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pe(e,t){if(1===t.nodeType&&p.hasData(e)){var n,r,i,o=p._data(e),a=p._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;i>r;r++)p.event.add(t,n,s[n][r]);a.data&&(a.data=p.extend({},a.data))}}function Ae(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!d.noCloneEvent&&t[p.expando]){for(r in(i=p._data(t)).events)p.removeEvent(t,r,i.handle);t.removeAttribute(p.expando)}"script"===n&&t.text!==e.text?(ke(t).text=e.text,xe(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),d.html5Clone&&e.innerHTML&&!p.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&K.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Me(e,t,n,r){t=o.apply([],t);var i,a,s,u,c,l,f=0,h=e.length,m=h-1,g=t[0],v=p.isFunction(g);if(v||h>1&&"string"==typeof g&&!d.checkClone&&be.test(g))return e.each(function(i){var o=e.eq(i);v&&(t[0]=g.call(this,i,o.html())),Me(o,t,n,r)});if(h&&(i=(l=se(t,e[0].ownerDocument,!1,e,r)).firstChild,1===l.childNodes.length&&(l=i),i||r)){for(s=(u=p.map(ne(l,"script"),ke)).length;h>f;f++)a=l,f!==m&&(a=p.clone(a,!0,!0),s&&p.merge(u,ne(a,"script"))),n.call(e[f],a,f);if(s)for(c=u[u.length-1].ownerDocument,p.map(u,xe),f=0;s>f;f++)a=u[f],J.test(a.type||"")&&!p._data(a,"globalEval")&&p.contains(c,a)&&(a.src?p._evalUrl&&p._evalUrl(a.src):p.globalEval((a.text||a.textContent||a.innerHTML||"").replace($e,"")));l=i=null}return e}function De(e,t,n){for(var r,i=t?p.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||p.cleanData(ne(r)),r.parentNode&&(n&&p.contains(r.ownerDocument,r)&&re(ne(r,"script")),r.parentNode.removeChild(r));return e}p.extend({htmlPrefilter:function(e){return e.replace(we,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u=p.contains(e.ownerDocument,e);if(d.html5Clone||p.isXMLDoc(e)||!ye.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Se.innerHTML=e.outerHTML,Se.removeChild(o=Se.firstChild)),!(d.noCloneEvent&&d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(r=ne(o),s=ne(e),a=0;null!=(i=s[a]);++a)r[a]&&Ae(i,r[a]);if(t)if(n)for(s=s||ne(e),r=r||ne(o),a=0;null!=(i=s[a]);a++)Pe(i,r[a]);else Pe(e,o);return(r=ne(o,"script")).length>0&&re(r,!u&&ne(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var r,i,o,a,s=0,u=p.expando,c=p.cache,l=d.attributes,f=p.event.special;null!=(r=e[s]);s++)if((t||R(r))&&(a=(o=r[u])&&c[o])){if(a.events)for(i in a.events)f[i]?p.event.remove(r,i):p.removeEvent(r,i,a.handle);c[o]&&(delete c[o],l||void 0===r.removeAttribute?r[u]=void 0:r.removeAttribute(u),n.push(o))}}}),p.fn.extend({domManip:Me,detach:function(e){return De(this,e,!0)},remove:function(e){return De(this,e)},text:function(e){return G(this,function(e){return void 0===e?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(e))},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Te(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Te(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&p.cleanData(ne(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&p.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return p.clone(this,e,t)})},html:function(e){return G(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(ve,""):void 0;if("string"==typeof e&&!Ce.test(e)&&(d.htmlSerialize||!ye.test(e))&&(d.leadingWhitespace||!X.test(e))&&!te[(Z.exec(e)||["",""])[1].toLowerCase()]){e=p.htmlPrefilter(e);try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(p.cleanData(ne(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,function(t){var n=this.parentNode;p.inArray(this,e)<0&&(p.cleanData(ne(this)),n&&n.replaceChild(t,this))},e)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){p.fn[e]=function(e){for(var n,r=0,i=[],o=p(e),s=o.length-1;s>=r;r++)n=r===s?this:this.clone(!0),p(o[r])[t](n),a.apply(i,n.get());return this.pushStack(i)}});var Oe,_e={HTML:"block",BODY:"block"};function Ne(e,t){var n=p(t.createElement(e)).appendTo(t.body),r=p.css(n[0],"display");return n.detach(),r}function Ie(e){var t=r,n=_e[e];return n||("none"!==(n=Ne(e,t))&&n||((t=((Oe=(Oe||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Oe[0].contentDocument).document).write(),t.close(),n=Ne(e,t),Oe.detach()),_e[e]=n),n}var Re=/^margin/,Le=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),He=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},Ve=r.documentElement;!function(){var t,n,i,o,a,s,u=r.createElement("div"),c=r.createElement("div");if(c.style){function l(){var l,d,f=r.documentElement;f.appendChild(u),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=i=s=!1,n=a=!0,e.getComputedStyle&&(d=e.getComputedStyle(c),t="1%"!==(d||{}).top,s="2px"===(d||{}).marginLeft,i="4px"===(d||{width:"4px"}).width,c.style.marginRight="50%",n="4px"===(d||{marginRight:"4px"}).marginRight,(l=c.appendChild(r.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",l.style.marginRight=l.style.width="0",c.style.width="1px",a=!parseFloat((e.getComputedStyle(l)||{}).marginRight),c.removeChild(l)),c.style.display="none",(o=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(l=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===l[0].offsetHeight)&&(l[0].style.display="",l[1].style.display="none",o=0===l[0].offsetHeight)),f.removeChild(u)}c.style.cssText="float:left;opacity:.5",d.opacity="0.5"===c.style.opacity,d.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===c.style.backgroundClip,(u=r.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",u.appendChild(c),d.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,p.extend(d,{reliableHiddenOffsets:function(){return null==t&&l(),o},boxSizingReliable:function(){return null==t&&l(),i},pixelMarginRight:function(){return null==t&&l(),n},pixelPosition:function(){return null==t&&l(),t},reliableMarginRight:function(){return null==t&&l(),a},reliableMarginLeft:function(){return null==t&&l(),s}})}}();var Fe,Ue,je=/^(top|right|bottom|left)$/;function Be(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}e.getComputedStyle?(Fe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ue=function(e,t,n){var r,i,o,a,s=e.style;return""!==(a=(n=n||Fe(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||p.contains(e.ownerDocument,e)||(a=p.style(e,t)),n&&!d.pixelMarginRight()&&Le.test(a)&&Re.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):Ve.currentStyle&&(Fe=function(e){return e.currentStyle},Ue=function(e,t,n){var r,i,o,a,s=e.style;return null==(a=(n=n||Fe(e))?n[t]:void 0)&&s&&s[t]&&(a=s[t]),Le.test(a)&&!je.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var qe=/alpha\([^)]*\)/i,We=/opacity\s*=\s*([^)]*)/i,ze=/^(none|table(?!-c[ea]).+)/,Ye=new RegExp("^("+B+")(.*)$","i"),Ge={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Ze=["Webkit","O","Moz","ms"],Je=r.createElement("div").style;function Xe(e){if(e in Je)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in Je)return e}function Qe(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)(r=e[a]).style&&(o[a]=p._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&z(r)&&(o[a]=p._data(r,"olddisplay",Ie(r.nodeName)))):(i=z(r),(n&&"none"!==n||!i)&&p._data(r,"olddisplay",i?n:p.css(r,"display"))));for(a=0;s>a;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function et(e,t,n){var r=Ye.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function tt(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=p.css(e,n+W[o],!0,i)),r?("content"===n&&(a-=p.css(e,"padding"+W[o],!0,i)),"margin"!==n&&(a-=p.css(e,"border"+W[o]+"Width",!0,i))):(a+=p.css(e,"padding"+W[o],!0,i),"padding"!==n&&(a+=p.css(e,"border"+W[o]+"Width",!0,i)));return a}function nt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Fe(e),a=d.boxSizing&&"border-box"===p.css(e,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=Ue(e,t,o))||null==i)&&(i=e.style[t]),Le.test(i))return i;r=a&&(d.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+tt(e,t,n||(a?"border":"content"),r,o)+"px"}function rt(e,t,n,r,i){return new rt.prototype.init(e,t,n,r,i)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:d.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=p.camelCase(t),u=e.style;if(t=p.cssProps[s]||(p.cssProps[s]=Xe(s)||s),a=p.cssHooks[t]||p.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if("string"===(o=typeof n)&&(i=q.exec(n))&&i[1]&&(n=Y(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(p.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=Xe(s)||s),(a=p.cssHooks[t]||p.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ue(e,t,r)),"normal"===o&&t in Ke&&(o=Ke[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),p.each(["height","width"],function(e,t){p.cssHooks[t]={get:function(e,n,r){return n?ze.test(p.css(e,"display"))&&0===e.offsetWidth?He(e,Ge,function(){return nt(e,t,r)}):nt(e,t,r):void 0},set:function(e,n,r){var i=r&&Fe(e);return et(0,n,r?tt(e,t,r,d.boxSizing&&"border-box"===p.css(e,"boxSizing",!1,i),i):0)}}}),d.opacity||(p.cssHooks.opacity={get:function(e,t){return We.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=p.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===p.trim(o.replace(qe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=qe.test(o)?o.replace(qe,i):o+" "+i)}}),p.cssHooks.marginRight=Be(d.reliableMarginRight,function(e,t){return t?He(e,{display:"inline-block"},Ue,[e,"marginRight"]):void 0}),p.cssHooks.marginLeft=Be(d.reliableMarginLeft,function(e,t){return t?(parseFloat(Ue(e,"marginLeft"))||(p.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-He(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),p.each({margin:"",padding:"",border:"Width"},function(e,t){p.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+W[r]+t]=o[r]||o[r-2]||o[0];return i}},Re.test(e)||(p.cssHooks[e+t].set=et)}),p.fn.extend({css:function(e,t){return G(this,function(e,t,n){var r,i,o={},a=0;if(p.isArray(t)){for(r=Fe(e),i=t.length;i>a;a++)o[t[a]]=p.css(e,t[a],!1,r);return o}return void 0!==n?p.style(e,t,n):p.css(e,t)},e,t,arguments.length>1)},show:function(){return Qe(this,!0)},hide:function(){return Qe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){z(this)?p(this).show():p(this).hide()})}}),p.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||p.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(p.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[p.cssProps[e.prop]]&&!p.cssHooks[e.prop]?e.elem[e.prop]=e.now:p.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},p.fx=rt.prototype.init,p.fx.step={};var it,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function ut(){return e.setTimeout(function(){it=void 0}),it=p.now()}function ct(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)r["margin"+(n=W[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function lt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function dt(e,t,n){var r,i,o=0,a=dt.prefilters.length,s=p.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=it||ut(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;a>o;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),1>r&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var r=p.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=p.camelCase(n)],o=e[n],p.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=p.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);a>o;o++)if(r=dt.prefilters[o].call(c,e,l,c.opts))return p.isFunction(r.stop)&&(p._queueHooks(c.elem,c.opts.queue).stop=p.proxy(r.stop,r)),r;return p.map(l,lt,c),p.isFunction(c.opts.start)&&c.opts.start.call(e,c),p.fx.timer(p.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}p.Animation=p.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Y(n.elem,e,q.exec(t),n),n}]},tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.match(_);for(var n,r=0,i=e.length;i>r;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,c,l=this,f={},h=e.style,m=e.nodeType&&z(e),g=p._data(e,"fxshow");for(r in n.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=p.css(e,"display"))?p._data(e,"olddisplay")||Ie(e.nodeName):c)&&"none"===p.css(e,"float")&&(d.inlineBlockNeedsLayout&&"inline"!==Ie(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.shrinkWrapBlocks()||l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(i=t[r],at.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||p.style(e,r)}else c=void 0;if(p.isEmptyObject(f))"inline"===("none"===c?Ie(e.nodeName):c)&&(h.display=c);else for(r in g?"hidden"in g&&(m=g.hidden):g=p._data(e,"fxshow",{}),o&&(g.hidden=!m),m?p(e).show():l.done(function(){p(e).hide()}),l.done(function(){var t;for(t in p._removeData(e,"fxshow"),f)p.style(e,t,f[t])}),f)a=lt(m?g[r]:0,r,l),r in g||(g[r]=a.start,m&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),p.speed=function(e,t,n){var r=e&&"object"==typeof e?p.extend({},e):{complete:n||!n&&t||p.isFunction(e)&&e,duration:e,easing:n&&t||t&&!p.isFunction(t)&&t};return r.duration=p.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in p.fx.speeds?p.fx.speeds[r.duration]:p.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p.isFunction(r.old)&&r.old.call(this),r.queue&&p.dequeue(this,r.queue)},r},p.fn.extend({fadeTo:function(e,t,n,r){return this.filter(z).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=p.isEmptyObject(e),o=p.speed(t,n,r),a=function(){var t=dt(this,p.extend({},e),o);(i||p._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=p.timers,a=p._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&st.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||p.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=p._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=p.timers,a=r?r.length:0;for(n.finish=!0,p.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),p.each(["toggle","show","hide"],function(e,t){var n=p.fn[t];p.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,r,i)}}),p.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){p.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),p.timers=[],p.fx.tick=function(){var e,t=p.timers,n=0;for(it=p.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||p.fx.stop(),it=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){ot||(ot=e.setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){e.clearInterval(ot),ot=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(t,n){return t=p.fx&&p.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e,t=r.createElement("input"),n=r.createElement("div"),i=r.createElement("select"),o=i.appendChild(r.createElement("option"));(n=r.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),(e=n.getElementsByTagName("a")[0]).style.cssText="top:1px",d.getSetAttribute="t"!==n.className,d.style=/top/.test(e.getAttribute("style")),d.hrefNormalized="/a"===e.getAttribute("href"),d.checkOn=!!t.value,d.optSelected=o.selected,d.enctype=!!r.createElement("form").enctype,i.disabled=!0,d.optDisabled=!o.disabled,(t=r.createElement("input")).setAttribute("value",""),d.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),d.radioValue="t"===t.value}();var ft=/\r/g,pt=/[\x20\t\r\n\f]+/g;p.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=p.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,p(this).val()):e)?i="":"number"==typeof i?i+="":p.isArray(i)&&(i=p.map(i,function(e){return null==e?"":e+""})),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=p.valHooks[i.type]||p.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ft,""):null==n?"":n:void 0}}),p.extend({valHooks:{option:{get:function(e){var t=p.find.attr(e,"value");return null!=t?t:p.trim(p.text(e)).replace(pt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(((n=r[u]).selected||u===i)&&(d.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!p.nodeName(n.parentNode,"optgroup"))){if(t=p(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=p.makeArray(t),a=i.length;a--;)if(r=i[a],p.inArray(p.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(e,t){return p.isArray(t)?e.checked=p.inArray(p(e).val(),t)>-1:void 0}},d.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ht,mt,gt=p.expr.attrHandle,vt=/^(?:checked|selected)$/i,yt=d.getSetAttribute,wt=d.input;p.fn.extend({attr:function(e,t){return G(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){p.removeAttr(this,e)})}}),p.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?p.prop(e,t,n):(1===o&&p.isXMLDoc(e)||(t=t.toLowerCase(),i=p.attrHooks[t]||(p.expr.match.bool.test(t)?mt:ht)),void 0!==n?null===n?void p.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=p.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&p.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(_);if(o&&1===e.nodeType)for(;n=o[i++];)r=p.propFix[n]||n,p.expr.match.bool.test(n)?wt&&yt||!vt.test(n)?e[r]=!1:e[p.camelCase("default-"+n)]=e[r]=!1:p.attr(e,n,""),e.removeAttribute(yt?n:r)}}),mt={set:function(e,t,n){return!1===t?p.removeAttr(e,n):wt&&yt||!vt.test(n)?e.setAttribute(!yt&&p.propFix[n]||n,n):e[p.camelCase("default-"+n)]=e[n]=!0,n}},p.each(p.expr.match.bool.source.match(/\w+/g),function(e,t){var n=gt[t]||p.find.attr;wt&&yt||!vt.test(t)?gt[t]=function(e,t,r){var i,o;return r||(o=gt[t],gt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,gt[t]=o),i}:gt[t]=function(e,t,n){return n?void 0:e[p.camelCase("default-"+t)]?t.toLowerCase():null}}),wt&&yt||(p.attrHooks.value={set:function(e,t,n){return p.nodeName(e,"input")?void(e.defaultValue=t):ht&&ht.set(e,t,n)}}),yt||(ht={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},gt.id=gt.name=gt.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},p.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:ht.set},p.attrHooks.contenteditable={set:function(e,t,n){ht.set(e,""!==t&&t,n)}},p.each(["width","height"],function(e,t){p.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),d.style||(p.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ct=/^(?:input|select|textarea|button|object)$/i,bt=/^(?:a|area)$/i;p.fn.extend({prop:function(e,t){return G(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return e=p.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),p.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&p.isXMLDoc(e)||(t=p.propFix[t]||t,i=p.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=p.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.hrefNormalized||p.each(["href","src"],function(e,t){p.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),d.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this}),d.enctype||(p.propFix.enctype="encoding");var Et=/[\t\r\n\f]/g;function $t(e){return p.attr(e,"class")||""}p.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(p.isFunction(e))return this.each(function(t){p(this).addClass(e.call(this,t,$t(this)))});if("string"==typeof e&&e)for(t=e.match(_)||[];n=this[u++];)if(i=$t(n),r=1===n.nodeType&&(" "+i+" ").replace(Et," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=p.trim(r))&&p.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(p.isFunction(e))return this.each(function(t){p(this).removeClass(e.call(this,t,$t(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_)||[];n=this[u++];)if(i=$t(n),r=1===n.nodeType&&(" "+i+" ").replace(Et," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=p.trim(r))&&p.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each(function(n){p(this).toggleClass(e.call(this,n,$t(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=p(this),o=e.match(_)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=$t(this))&&p._data(this,"__className__",t),p.attr(this,"class",t||!1===e?"":p._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+$t(n)+" ").replace(Et," ").indexOf(t)>-1)return!0;return!1}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){p.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var St=e.location,Tt=p.now(),kt=/\?/,xt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;p.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=p.trim(t+"");return i&&!p.trim(i.replace(xt,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():p.error("Invalid JSON: "+t)},p.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new e.DOMParser).parseFromString(t,"text/xml"):((n=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+t),n};var Pt=/#.*$/,At=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dt=/^(?:GET|HEAD)$/,Ot=/^\/\//,_t=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Nt={},It={},Rt="*/".concat("*"),Lt=St.href,Ht=_t.exec(Lt.toLowerCase())||[];function Vt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(_)||[];if(p.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ft(e,t,n,r){var i={},o=e===It;function a(s){var u;return i[s]=!0,p.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Ut(e,t){var n,r,i=p.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&p.extend(!0,e,n),e}function jt(e){return e.style&&e.style.display||p.css(e,"display")}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ht[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,p.ajaxSettings),t):Ut(p.ajaxSettings,e)},ajaxPrefilter:Vt(Nt),ajaxTransport:Vt(It),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,i,o,a,s,u,c,l,d=p.ajaxSetup({},n),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?p(f):p.event,m=p.Deferred(),g=p.Callbacks("once memory"),v=d.statusCode||{},y={},w={},C=0,b="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!l)for(l={};t=Mt.exec(a);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=w[n]=w[n]||e,y[e]=t),this},overrideMimeType:function(e){return C||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>C)for(t in e)v[t]=[v[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||b;return c&&c.abort(t),$(0,t),this}};if(m.promise(E).complete=g.add,E.success=E.done,E.error=E.fail,d.url=((t||d.url||Lt)+"").replace(Pt,"").replace(Ot,Ht[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=p.trim(d.dataType||"*").toLowerCase().match(_)||[""],null==d.crossDomain&&(r=_t.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Ht[1]&&r[2]===Ht[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Ht[3]||("http:"===Ht[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=p.param(d.data,d.traditional)),Ft(Nt,d,n,E),2===C)return E;for(i in(u=p.event&&d.global)&&0==p.active++&&p.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Dt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(kt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=At.test(o)?o.replace(At,"$1_="+Tt++):o+(kt.test(o)?"&":"?")+"_="+Tt++)),d.ifModified&&(p.lastModified[o]&&E.setRequestHeader("If-Modified-Since",p.lastModified[o]),p.etag[o]&&E.setRequestHeader("If-None-Match",p.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Rt+"; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(!1===d.beforeSend.call(f,E,d)||2===C))return E.abort();for(i in b="abort",{success:1,error:1,complete:1})E[i](d[i]);if(c=Ft(It,d,n,E)){if(E.readyState=1,u&&h.trigger("ajaxSend",[E,d]),2===C)return E;d.async&&d.timeout>0&&(s=e.setTimeout(function(){E.abort("timeout")},d.timeout));try{C=1,c.send(y,$)}catch(e){if(!(2>C))throw e;$(-1,e)}}else $(-1,"No Transport");function $(t,n,r,i){var l,y,w,b,$,S=n;2!==C&&(C=2,s&&e.clearTimeout(s),c=void 0,a=i||"",E.readyState=t>0?4:0,l=t>=200&&300>t||304===t,r&&(b=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}(d,E,r)),b=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,b,E,l),l?(d.ifModified&&(($=E.getResponseHeader("Last-Modified"))&&(p.lastModified[o]=$),($=E.getResponseHeader("etag"))&&(p.etag[o]=$)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=b.state,y=b.data,l=!(w=b.error))):(w=S,!t&&S||(S="error",0>t&&(t=0))),E.status=t,E.statusText=(n||S)+"",l?m.resolveWith(f,[y,S,E]):m.rejectWith(f,[E,S,w]),E.statusCode(v),v=void 0,u&&h.trigger(l?"ajaxSuccess":"ajaxError",[E,d,l?y:w]),g.fireWith(f,[E,S]),u&&(h.trigger("ajaxComplete",[E,d]),--p.active||p.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return p.get(e,t,n,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],function(e,t){p[t]=function(e,n,r,i){return p.isFunction(n)&&(i=i||r,r=n,n=void 0),p.ajax(p.extend({url:e,type:t,dataType:i,data:n,success:r},p.isPlainObject(e)&&e))}}),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){if(p.isFunction(e))return this.each(function(t){p(this).wrapAll(e.call(this,t))});if(this[0]){var t=p(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return p.isFunction(e)?this.each(function(t){p(this).wrapInner(e.call(this,t))}):this.each(function(){var t=p(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=p.isFunction(e);return this.each(function(n){p(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}}),p.expr.filters.hidden=function(e){return d.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function(e){if(!p.contains(e.ownerDocument||r,e))return!0;for(;e&&1===e.nodeType;){if("none"===jt(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}(e)},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var Bt=/%20/g,qt=/\[\]$/,Wt=/\r?\n/g,zt=/^(?:submit|button|image|reset|file)$/i,Yt=/^(?:input|select|textarea|keygen)/i;function Gt(e,t,n,r){var i;if(p.isArray(t))p.each(t,function(t,i){n||qt.test(e)?r(e,i):Gt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==p.type(t))r(e,t);else for(i in t)Gt(e+"["+i+"]",t[i],n,r)}p.param=function(e,t){var n,r=[],i=function(e,t){t=p.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,function(){i(this.name,this.value)});else for(n in e)Gt(n,e[n],t,i);return r.join("&").replace(Bt,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&Yt.test(this.nodeName)&&!zt.test(e)&&(this.checked||!K.test(e))}).map(function(e,t){var n=p(this).val();return null==n?null:p.isArray(n)?p.map(n,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:n.replace(Wt,"\r\n")}}).get()}}),p.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?Qt():r.documentMode>8?Xt():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Xt()||Qt()}:Xt;var Kt=0,Zt={},Jt=p.ajaxSettings.xhr();function Xt(){try{return new e.XMLHttpRequest}catch(e){}}function Qt(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zt)Zt[e](void 0,!0)}),d.cors=!!Jt&&"withCredentials"in Jt,(Jt=d.ajax=!!Jt)&&p.ajaxTransport(function(t){var n;if(!t.crossDomain||d.cors)return{send:function(r,i){var o,a=t.xhr(),s=++Kt;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)void 0!==r[o]&&a.setRequestHeader(o,r[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var o,u,c;if(n&&(r||4===a.readyState))if(delete Zt[s],n=void 0,a.onreadystatechange=p.noop,r)4!==a.readyState&&a.abort();else{c={},o=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{u=a.statusText}catch(e){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&i(o,u,c,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=Zt[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),p.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=r.head||p("head")[0]||r.documentElement;return{send:function(i,o){(t=r.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||p.expando+"_"+Tt++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(tn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||p.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?p(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&p.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),p.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||r;var i=$.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=se([e],t,o),o&&o.length&&p(o).remove(),p.merge([],i.childNodes))};var nn=p.fn.load;function rn(e){return p.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}p.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=p.trim(e.slice(s,e.length)),e=e.slice(0,s)),p.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&p.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?p("<div>").append(p.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){p.fn[t]=function(e){return this.on(t,e)}}),p.expr.filters.animated=function(e){return p.grep(p.timers,function(t){return e===t.elem}).length},p.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=p.css(e,"position"),l=p(e),d={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=p.css(e,"top"),u=p.css(e,"left"),("absolute"===c||"fixed"===c)&&p.inArray("auto",[o,u])>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),p.isFunction(t)&&(t=t.call(e,n,p.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):l.css(d)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){p.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,p.contains(t,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=rn(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===p.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(n=e.offset()),n.top+=p.css(e[0],"borderTopWidth",!0),n.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-p.css(r,"marginTop",!0),left:t.left-n.left-p.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||Ve})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);p.fn[e]=function(r){return G(this,function(e,r,i){var o=rn(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?p(o).scrollLeft():i,n?i:p(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),p.each(["top","left"],function(e,t){p.cssHooks[t]=Be(d.pixelPosition,function(e,n){return n?(n=Ue(e,t),Le.test(n)?p(e).position()[t]+"px":n):void 0})}),p.each({Height:"height",Width:"width"},function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){p.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return G(this,function(t,n,r){var i;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?p.css(t,n,a):p.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),p.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var on=e.jQuery,an=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=an),t&&e.jQuery===p&&(e.jQuery=on),p},t||(e.jQuery=e.$=p),p}),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;o[n]||(o[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function i(t,n,i,o){if(Object.defineProperty)try{return void Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}})}catch(e){}e._definePropertyBroken=!0,t[n]=i}e.migrateVersion="1.4.1";var o={};e.migrateWarnings=[],e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;i(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,i,o,u){var c=i.toLowerCase(),h=t&&t.nodeType;return u&&(s.length<4&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(h)&&(a?i in a:e.isFunction(e.fn[i])))?e(t)[i](o):("type"===i&&o!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&f.test(c)&&(e.attrHooks[c]={get:function(t,r){var i,o=e.prop(t,r);return!0===o||"boolean"!=typeof o&&(i=t.getAttributeNode(r))&&!1!==i.nodeValue?r.toLowerCase():n},set:function(t,n,r){var i;return!1===n?e.removeAttr(t,r):((i=e.propFix[r]||r)in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(c)&&r("jQuery.fn.attr('"+c+"') might use property instead of attribute")),s.call(e,t,i,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?c.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value', val) no longer sets properties"),void(e.value=t))}};var h,m,g,v=e.fn.init,y=e.find,w=e.parseJSON,C=/^\s*</,b=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,E=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,$=/^([^<]*)(<[\w\W]+>)([^>]*)$/;for(g in e.fn.init=function(t,i,o){var a,s;return t&&"string"==typeof t&&!e.isPlainObject(i)&&(a=$.exec(e.trim(t)))&&a[0]&&(C.test(t)||r("$(html) HTML strings must start with '<' character"),a[3]&&r("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),i&&i.context&&i.context.nodeType&&(i=i.context),e.parseHTML)?v.call(this,e.parseHTML(a[2],i&&i.ownerDocument||i||document,!0),i,o):(s=v.apply(this,arguments),t&&t.selector!==n?(s.selector=t.selector,s.context=t.context):(s.selector="string"==typeof t?t:"",t&&(s.context=t.nodeType?t:i||document)),s)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&b.test(e))try{document.querySelector(e)}catch(n){e=e.replace(E,function(e,t,n,r){return"["+t+n+'"'+r+'"]'});try{document.querySelector(e),r("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(e){r("Attribute selector with '#' was not fixed: "+t[0])}}return y.apply(this,t)},y)Object.prototype.hasOwnProperty.call(y,g)&&(e.find[g]=y[g]);e.parseJSON=function(e){return e?w.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(m={},(h=e.uaMatch(navigator.userAgent)).browser&&(m[h.browser]=!0,m.version=h.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),i(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel="CSS1Compat"===document.compatMode,i(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),i(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){var o=e.fn.init.call(this,r,i,n);return o instanceof t?o:t(o)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.fn.size=function(){return r("jQuery.fn.size() is deprecated; use the .length property"),this.length};var S=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,n){var r=e.cssHooks[n]&&e.cssHooks[n].get;r&&(e.cssHooks[n].get=function(){var e;return S=!0,e=r.apply(this,arguments),S=!1,e})}),e.swap=function(e,t,n,i){var o,a,s={};for(a in S||r("jQuery.swap() is undocumented and deprecated"),t)s[a]=e.style[a],e.style[a]=t[a];for(a in o=n.apply(e,i||[]),t)e.style[a]=s[a];return o},e.ajaxSetup({converters:{"text json":e.parseJSON}});var T=e.fn.data;e.fn.data=function(t){var i,o,a=this[0];return!a||"events"!==t||1!==arguments.length||(i=e.data(a,t),o=e._data(a,t),i!==n&&i!==o||o===n)?T.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),o)};var k=/\/(java|ecma)script/i;e.clean||(e.clean=function(t,n,i,o){n=(n=!(n=n||document).nodeType&&n[0]||n).ownerDocument||n,r("jQuery.clean() is deprecated");var a,s,u,c,l=[];if(e.merge(l,e.buildFragment(t,n).childNodes),i)for(u=function(e){return!e.type||k.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):void 0},a=0;null!=(s=l[a]);a++)e.nodeName(s,"script")&&u(s)||(i.appendChild(s),void 0!==s.getElementsByTagName&&(c=e.grep(e.merge([],s.getElementsByTagName("script")),u),l.splice.apply(l,[a+1,0].concat(c)),a+=c.length));return l});var x=e.event.add,P=e.event.remove,A=e.event.trigger,M=e.fn.toggle,D=e.fn.live,O=e.fn.die,_=e.fn.load,N="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",I=new RegExp("\\b(?:"+N+")\\b"),R=/(?:^|\s)hover(\.\S+|)\b/,L=function(t){return"string"!=typeof t||e.event.special.hover?t:(R.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(R,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&i(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,o){e!==document&&I.test(t)&&r("AJAX events should be attached to document: "+t),x.call(this,e,L(t||""),n,i,o)},e.event.remove=function(e,t,n,r,i){P.call(this,e,L(t)||"",n,r,i)},e.each(["load","unload","error"],function(t,n){e.fn[n]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===n&&"string"==typeof e[0]?_.apply(this,e):(r("jQuery.fn."+n+"() is deprecated"),e.splice(0,0,n),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return M.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,o=t.guid||e.guid++,a=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(s.guid=o;a<i.length;)i[a++].guid=o;return this.click(s)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),D?D.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),O?O.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return n||I.test(e)||r("Global events are undocumented and deprecated"),A.call(this,e,t,n||document,i)},e.each(N.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,Array.prototype.slice.call(arguments,1),t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}}),e.event.special.ready={setup:function(){this===document&&r("'ready' event is deprecated")}};var H=e.fn.andSelf||e.fn.addBack,V=e.fn.find;if(e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),H.apply(this,arguments)},e.fn.find=function(e){var t=V.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t},e.Callbacks){var F=e.Deferred,U=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var n=F(),i=n.promise();return n.pipe=i.pipe=function(){var t=arguments;return r("deferred.pipe() is deprecated"),e.Deferred(function(r){e.each(U,function(o,a){var s=e.isFunction(t[o])&&t[o];n[a[1]](function(){var t=s&&s.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[a[0]+"With"](this===i?r.promise():this,s?[t]:arguments)})}),t=null}).promise()},n.isResolved=function(){return r("deferred.isResolved is deprecated"),"resolved"===n.state()},n.isRejected=function(){return r("deferred.isRejected is deprecated"),"rejected"===n.state()},t&&t.call(n,n),n}}}(jQuery,window),function(e){var t,n,r,i,o=1,a=this,s="postMessage",u="addEventListener",c=a[s];e[s]=function(t,n,r){n&&(t="string"==typeof t?t:e.param(t),r=r||parent,c?r[s](t,n.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):n&&(r.location=n.replace(/#.*$/,"")+"#"+ +new Date+o+++"&"+t))},e.receiveMessage=i=function(o,s,l){c?(o&&(r&&i(),r=function(t){if("string"==typeof s&&t.origin!==s||e.isFunction(s)&&!1===s(t.origin))return!1;o(t)}),a[u]?a[o?u:"removeEventListener"]("message",r,!1):a[o?"attachEvent":"detachEvent"]("onmessage",r)):(t&&clearInterval(t),t=null,o&&(l="number"==typeof s?s:"number"==typeof l?l:100,t=setInterval(function(){var e=document.location.hash,t=/^#?\d+&/;e!==n&&t.test(e)&&(n=e,o({data:e.replace(t,"")}))},l)))}}(jQuery),function(e){var t,n;void 0===e.tinypass&&(e.tinypass={}),tinypass.uploadFile2=function(e,t){},tinypass.setMessageDashboard=function(e,t){return"error"===e?tinypass.__setErrorMessageDashboard(t):tinypass.__setMessage(e,t)},tinypass.__buildAlertPopupDashboard=function(e,t){if(t){var n=$('<div class="notification error"><span class="message">'+t+'</span><button type="button" class="close close-alert-dashboard">&times;</button></div>');$(document.body).append(n),n.css("marginLeft",-n.outerWidth()/2),n.addClass("in"),$(".close-alert-dashboard").unbind("click").click(function(){$(this).parent().remove(),tinypass.__buildAlertPopupDashboard()})}for(var r=$(".notification"),i=0,o=0;o<r.length;o++)$(r[o]),0!==o?$(r[o]).css({top:90+i+"px"}):$(r[o]).css({top:"90px"}),i+=$(r[o]).outerHeight()+10},tinypass.__setErrorMessageDashboard=function(e){if($(".modal-body").is(":visible"))$(".modal-body  .alert").remove(),$(".modal-body").prepend(tinypass.__buildAlertPopup("error",e));else if($("#popup").is(":visible"))$("#popup #popup-content .alert").remove(),$("#popup #popup-content").prepend(tinypass.__buildAlertPopup("error",e));else if($(".modal .modal-body").length>0){for(var t=$(".modal .modal-body"),n=!1,r=0;r<t.length;r++){var i=t[r];$(i).is(":visible")&&($(".alert",i).remove(),$(i).prepend($('<div class="row"></div>').append(tinypass.__buildAlertPopup("error",e))),n=!0)}n||($(".container .main").length>0?tinypass.__buildAlertPopupDashboard("error",e):tinypass.__setMessage("error",e))}else if($(".container .main").length>0)tinypass.__buildAlertPopupDashboard("error",e);else if($("#payscreen #alert").length>0){$("#payscreen #alert").html(e)}else tinypass.__setMessage("error",e)},tinypass.setMessage=function(e,t){return"error"===e?tinypass.__setErrorMessage(t):tinypass.__setMessage(e,t)},tinypass.hideMessage=function(){$(".alert-top").remove(),$(".tinypass-alert-messase").remove(),$(".notification.error").remove()},tinypass.__buildAlertPopup=function(e,t){return $('<div class="alert alert-block alert-'+e+' tinypass-alert-messase"></div>').append('<button type="button" class="close" data-dismiss="alert">&times;</button>').append(t)},tinypass.__setErrorMessage=function(e){if($(".modal-body").is(":visible"))$(".modal-body  .alert").remove(),$(".modal-body").prepend(tinypass.__buildAlertPopup("error",e));else if($("#popup").is(":visible"))$("#popup #popup-content .alert").remove(),$("#popup #popup-content").prepend(tinypass.__buildAlertPopup("error",e));else if($(".modal .modal-body").length>0){for(var t=$(".modal .modal-body"),n=!1,r=0;r<t.length;r++){var i=t[r];$(i).is(":visible")&&($(".alert",i).remove(),$(i).prepend($('<div class="row"></div>').append(tinypass.__buildAlertPopup("error",e))),n=!0)}n||($(".container .main").length>0?($(".container .main .alert").remove(),$(".container .main").prepend($('<div class="row"></div>').append(tinypass.__buildAlertPopup("error",e)))):tinypass.__setMessage("error",e))}else if($(".container .main").length>0)$(".container .main .alert").remove(),$(".container .main").prepend($('<div class="row"></div>').append(tinypass.__buildAlertPopup("error",e))),setTimeout(function(){$(".container .main .alert").fadeOut(2e3)},1e3);else if($("#payscreen #alert").length>0){$("#payscreen #alert").html(e)}else tinypass.__setMessage("error",e)},tinypass.__setMessage=function(t,n,r){var i=$('<div class="notification"><i class="icon-check-white status"></i><span class="message">'+n+"</span></div>");$(document.body).append(i),e.innerWidth>648&&i.css("marginLeft",-i.outerWidth()/2),i.addClass("in"),setTimeout(function(){i.removeClass("in")},1600),setTimeout(function(){i.remove()},3200)},tinypass.setOpacity=function(e,t){$(e).css("filter","alpha(opacity="+100*t+")").css("-khtml-opacity",t).css("-moz-opacity",t).css("opacity",t)},tinypass.showWaitPanel=function(e){if(e||(e={}),tinypass.hideWaitPanel(),$("body").append($('<div id="waitPanel">'+(e.title?e.title:"Loading...")+"</div>").css("display","block")),e.modal){var t=$('<div id="tinypassModalWindow"/>');t.css("position","fixed").css("left","0").css("top","0").css("width","100%").css("height","100%").css("z-index","1000"),e.opacity?tinypass.setOpacity(t.css("background-color",e.background?e.background:"white"),e.opacity):t.css("background-color","transparent"),$("body").append(t)}},tinypass.hideWaitPanel=function(){$("#waitPanel").remove(),$("#tinypassModalWindow").remove()},tinypass.__buildPopup=function(){return $('<div id="popup" class="modal hide fade" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;"><div id="popup-title" class="modal-header"></div><div id="popup-content" class="modal-body"></div><div id="popup-controls" class="modal-footer"></div></div>')},tinypass.updateMetaRefresh=function(e){e&&(n=e),n&&!isNaN(n)&&(clearTimeout(t),t=setTimeout("window.location.reload()",n))},tinypass.__initNewlyAddedContent=function(e){tinypass.__initToolTips(e)},$(document).ready(function(){var e=$("body");e.append(tinypass.__buildPopup()),e.ajaxStart(function(){tinypass.updateMetaRefresh(),tinypass.showWaitPanel()}),e.ajaxStop(function(){tinypass.hideWaitPanel()}),$("table.row-alternate").each(function(){$(this).find("tr:even").find("td").toggleClass("line-item-alt",!0),$(this).find("tr:odd").find("td").toggleClass("line-item-alt2",!0)}),tinypass.__initNewlyAddedContent(e),function(e){var t=new Array;e.Watermark={ShowAll:function(){for(var e=0;e<t.length;e++)""===t[e].obj.val()?(t[e].obj.val(t[e].text),t[e].obj.toggleClass("watermark",!0)):t[e].obj.toggleClass("watermark",!1)},HideAll:function(){for(var e=0;e<t.length;e++)t[e].obj.val()===t[e].text&&t[e].obj.val("")}},e.fn.Watermark=function(n){return this.each(function(){var r=e(this);function i(){0===r.val().length&&r.toggleClass("watermark",!0).val(n)}t[t.length]={text:n,obj:r},r.focus(function(){r.hasClass("watermark")&&r.toggleClass("watermark",!1).val("")}),r.blur(i),i()})}}(jQuery)}),tinypass.__initToolTips=function(e){$(e).find('*[data-toggle="tooltip"]').each(function(){var e=$(this);e.attr("title")||e.attr("title",e.html()),e.tooltip({html:!0})})},tinypass.hasFlash=function(){try{return ZeroClipboard.detectFlashSupport()}catch(e){}return!1},tinypass.copyToClipboard=function(e,t){var n,r,i;try{if(!tinypass.hasFlash())return null;for(var o in r=$(e),(i={}).moviePath="/js/ZeroClipboard.swf",t)i[o]=t[o];return(n=new ZeroClipboard(r,i)).glue(r),n}catch(e){}},tinypass.initImageCropper=function(e,t,n,r){},tinypass.cropImage=function(e,t,n,r,i,o,a,s,u,c){},tinypass.stripSpaces=function(e){return null==e?e:e.replace(/\s+/g,"")},tinypass.ccLuhnCheck=function(e){if(!e.match(/^\d+$/))return!1;for(var t=e.length,n=1&t,r=0,i=0;i<t;i++){var o=parseInt(e.charAt(i));1&i^n||(o*=2)>9&&(o-=9),r+=o}return r%10==0},tinypass.convertCurrencyAndFormat=function(e,t){try{if(!e||e.match(/.*[^0-9.].*/))return"?.??";if(!t||t.match(/.*[^0-9.].*/))return"?.??";var n=parseFloat(e)/parseFloat(t);return 0===n||isNaN(n)?"?.??":n=(Math.ceil(Math.round(1e4*n)/100)/100).toFixed(2).replace(/[.]00$/,"")}catch(e){return"?.??"}};try{$(document).ready(function(){$(e).on("resize",function(){$("#left-nav").find("#left-nav-panel").height($(e).height()-121)}),$(e).trigger("resize")})}catch(e){}}(window),function(e,t,n){"use strict";function r(e){return function(){var t,n=arguments[0];n="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.2.22/"+(e?e+"/":"")+n;for(t=1;t<arguments.length;t++)n=n+(1==t?"?":"&")+"p"+(t-1)+"="+encodeURIComponent("function"==typeof arguments[t]?arguments[t].toString().replace(/ \{[\s\S]*$/,""):void 0===arguments[t]?"undefined":"string"!=typeof arguments[t]?JSON.stringify(arguments[t]):arguments[t]);return Error(n)}}function i(e){if(null==e||S(e))return!1;var t=e.length;return!(1!==e.nodeType||!t)||(w(e)||Yt(e)||0===t||"number"==typeof t&&0<t&&t-1 in e)}function o(e,t,n){var r;if(e)if(E(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r);else if(Yt(e)||i(e))for(r=0;r<e.length;r++)t.call(n,e[r],r);else if(e.forEach&&e.forEach!==o)e.forEach(t,n);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function a(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n.sort()}function s(e){return function(t,n){e(n,t)}}function u(){for(var e,t=zt.length;t;){if(57==(e=zt[--t].charCodeAt(0)))return zt[t]="A",zt.join("");if(90!=e)return zt[t]=String.fromCharCode(e+1),zt.join("");zt[t]="0"}return zt.unshift("0"),zt.join("")}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e){var t=e.$$hashKey;return o(arguments,function(t){t!==e&&o(t,function(t,n){e[n]=t})}),c(e,t),e}function d(e){return parseInt(e,10)}function f(e,t){return l(new(l(function(){},{prototype:e})),t)}function p(){}function h(e){return e}function m(e){return function(){return e}}function g(e){return void 0===e}function v(e){return void 0!==e}function y(e){return null!=e&&"object"==typeof e}function w(e){return"string"==typeof e}function C(e){return"number"==typeof e}function b(e){return"[object Date]"===Bt.call(e)}function E(e){return"function"==typeof e}function $(e){return"[object RegExp]"===Bt.call(e)}function S(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function T(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function k(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function x(e,t){var n=k(e,t);return 0<=n&&e.splice(n,1),t}function P(e,t,n,r){if(S(e)||e&&e.$evalAsync&&e.$watch)throw qt("cpws");if(t){if(e===t)throw qt("cpi");if(n=n||[],r=r||[],y(e)){var i=k(n,e);if(-1!==i)return r[i];n.push(e),r.push(t)}if(Yt(e))for(var a=t.length=0;a<e.length;a++)i=P(e[a],null,n,r),y(e[a])&&(n.push(e[a]),r.push(i)),t.push(i);else{var s=t.$$hashKey;for(a in o(t,function(e,n){delete t[n]}),e)i=P(e[a],null,n,r),y(e[a])&&(n.push(e[a]),r.push(i)),t[a]=i;c(t,s)}}else(t=e)&&(Yt(e)?t=P(e,[],n,r):b(e)?t=new Date(e.getTime()):$(e)?(t=RegExp(e.source,e.toString().match(/[^\/]*$/)[0])).lastIndex=e.lastIndex:y(e)&&(t=P(e,{},n,r)));return t}function A(e,t){if(Yt(e)){t=t||[];for(var n=0;n<e.length;n++)t[n]=e[n]}else if(y(e))for(n in t=t||{},e)!Vt.call(e,n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function M(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var r,i=typeof e;if(i==typeof t&&"object"==i){if(!Yt(e)){if(b(e))return b(t)&&e.getTime()==t.getTime();if($(e)&&$(t))return e.toString()==t.toString();if(e&&e.$evalAsync&&e.$watch||t&&t.$evalAsync&&t.$watch||S(e)||S(t)||Yt(t))return!1;for(r in i={},e)if("$"!==r.charAt(0)&&!E(e[r])){if(!M(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!i.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==n&&!E(t[r]))return!1;return!0}if(!Yt(t))return!1;if((i=e.length)==t.length){for(r=0;r<i;r++)if(!M(e[r],t[r]))return!1;return!0}}return!1}function D(e,t){var n=2<arguments.length?Ut.call(arguments,2):[];return!E(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Ut.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function O(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)?i=n:S(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":r&&r.$evalAsync&&r.$watch&&(i="$SCOPE"),i}function _(e,t){return void 0===e?n:JSON.stringify(e,O,t?"  ":null)}function N(e){return w(e)?JSON.parse(e):e}function I(e){return"function"==typeof e?e=!0:e&&0!==e.length?e=!("f"==(e=Ht(""+e))||"0"==e||"false"==e||"no"==e||"n"==e||"[]"==e):e=!1,e}function R(e){e=_t(e).clone();try{e.empty()}catch(e){}var t=_t("<div>").append(e).html();try{return 3===e[0].nodeType?Ht(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ht(t)})}catch(e){return Ht(t)}}function L(e){try{return decodeURIComponent(e)}catch(e){}}function H(e){var t,n,r={};return o((e||"").split("&"),function(e){e&&(t=e.replace(/\+/g,"%20").split("="),v(n=L(t[0]))&&(e=!v(t[1])||L(t[1]),Vt.call(r,n)?Yt(r[n])?r[n].push(e):r[n]=[r[n],e]:r[n]=e))}),r}function V(e){var t=[];return o(e,function(e,n){Yt(e)?o(e,function(e){t.push(U(n,!0)+(!0===e?"":"="+U(e,!0)))}):t.push(U(n,!0)+(!0===e?"":"="+U(e,!0)))}),t.length?t.join("&"):""}function F(e){return U(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function U(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function j(n,r){var i=function(){if((n=_t(n)).injector()){var e=n[0]===t?"document":R(n);throw qt("btstrpd",e)}return(r=r||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.unshift("ng"),(e=me(r)).invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r,i){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},a=/^NG_DEFER_BOOTSTRAP!/;if(e&&!a.test(e.name))return i();e.name=e.name.replace(a,""),Wt.resumeBootstrap=function(e){o(e,function(e){r.push(e)}),i()}}function B(e,t){return t=t||"_",e.replace(Zt,function(e,n){return(n?t:"")+e.toLowerCase()})}function q(e,t,n){if(!e)throw qt("areq",t||"?",n||"required");return e}function W(e,t,n){return n&&Yt(e)&&(e=e[e.length-1]),q(E(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function z(e,t){if("hasOwnProperty"===e)throw qt("badname",t)}function Y(e,t,n){if(!t)return e;for(var r,i=e,o=(t=t.split(".")).length,a=0;a<o;a++)r=t[a],e&&(e=(i=e)[r]);return!n&&E(e)?D(i,e):e}function G(e){var t=e[0];if(t===(e=e[e.length-1]))return _t(t);var n=[t];do{if(!(t=t.nextSibling))break;n.push(t)}while(t!==e);return _t(n)}function K(e){return e.replace(nn,function(e,t,n,r){return r?n.toUpperCase():n}).replace(rn,"Moz$1")}function Z(e,t,n,r){function i(e){var i,a,s,u,c,l,d=n&&e?[this.filter(e)]:[this],f=t;if(!r||null!=e)for(;d.length;)for(a=0,s=(i=d.shift()).length;a<s;a++)for(u=_t(i[a]),f?u.triggerHandler("$destroy"):f=!f,c=0,u=(l=u.children()).length;c<u;c++)d.push(Nt(l[c]));return o.apply(this,arguments)}var o=(o=Nt.fn[e]).$original||o;i.$original=o,Nt.fn[e]=i}function J(e){if(e instanceof J)return e;if(w(e)&&(e=Gt(e)),!(this instanceof J)){if(w(e)&&"<"!=e.charAt(0))throw on("nosel");return new J(e)}if(w(e)){var n,r=e;if(e=t,n=an.exec(r))e=[e.createElement(n[1])];else{var i,o=e;if(e=o.createDocumentFragment(),n=[],sn.test(r)){for(o=e.appendChild(o.createElement("div")),i=(un.exec(r)||["",""])[1].toLowerCase(),i=ln[i]||ln._default,o.innerHTML="<div>&#160;</div>"+i[1]+r.replace(cn,"<$1></$2>")+i[2],o.removeChild(o.firstChild),r=i[0];r--;)o=o.lastChild;for(r=0,i=o.childNodes.length;r<i;++r)n.push(o.childNodes[r]);(o=e.firstChild).textContent=""}else n.push(o.createTextNode(r));e.textContent="",e.innerHTML="",e=n}se(this,e),_t(t.createDocumentFragment()).append(this)}else se(this,e)}function X(e){return e.cloneNode(!0)}function Q(e){te(e);var t=0;for(e=e.childNodes||[];t<e.length;t++)Q(e[t])}function ee(e,t,n,r){if(v(r))throw on("offargs");var i=ne(e,"events");ne(e,"handle")&&(g(t)?o(i,function(t,n){tn(e,n,t),delete i[n]}):o(t.split(" "),function(t){g(n)?(tn(e,t,i[t]),delete i[t]):x(i[t]||[],n)}))}function te(e,t){var r=e.ng339,i=Xt[r];i&&(t?delete Xt[r].data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ee(e)),delete Xt[r],e.ng339=n))}function ne(e,t,n){var r=e.ng339;r=Xt[r||-1];if(!v(n))return r&&r[t];r||(e.ng339=r=++Qt,r=Xt[r]={}),r[t]=n}function re(e,t,n){var r=ne(e,"data"),i=v(n),o=!i&&v(t),a=o&&!y(t);if(r||a||ne(e,"data",r={}),i)r[t]=n;else{if(!o)return r;if(a)return r&&r[t];l(r,t)}}function ie(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function oe(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Gt((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Gt(t)+" "," ")))})}function ae(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Gt(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Gt(n))}}function se(e,t){if(t){t=t.nodeName||!v(t.length)||S(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function ue(e,t){return ce(e,"$"+(t||"ngController")+"Controller")}function ce(e,t,r){for(9==e.nodeType&&(e=e.documentElement),t=Yt(t)?t:[t];e;){for(var i=0,o=t.length;i<o;i++)if((r=_t.data(e,t[i]))!==n)return r;e=e.parentNode||11===e.nodeType&&e.host}}function le(e){for(var t=0,n=e.childNodes;t<n.length;t++)Q(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function de(e,t){var n=fn[t.toLowerCase()];return n&&pn[e.nodeName]&&n}function fe(e,t){var r,i=typeof e;return"function"==i||"object"==i&&null!==e?"function"==typeof(r=e.$$hashKey)?r=e.$$hashKey():r===n&&(r=e.$$hashKey=(t||u)()):r=e,i+":"+r}function pe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function he(e){var t,n;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&o((n=(n=e.toString().replace(vn,"")).match(hn))[1].split(mn),function(e){e.replace(gn,function(e,n,r){t.push(r)})}),e.$inject=t):Yt(e)?(W(e[n=e.length-1],"fn"),t=e.slice(0,n)):W(e,"fn",!0),t}function me(e){function t(e){return function(t,n){if(!y(t))return e(t,n);o(t,s(e))}}function n(e,t){if(z(e,"service"),(E(t)||Yt(t))&&(t=f.instantiate(t)),!t.$get)throw yn("pget",e);return d[e+u]=t}function r(e,t){return n(e,{$get:t})}function i(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===a)throw yn("cdep",n+" <- "+c.join(" <- "));return e[n]}try{return c.unshift(n),e[n]=a,e[n]=t(n)}catch(t){throw e[n]===a&&delete e[n],t}finally{c.shift()}}function r(e,t,r){var i,o,a,s=[],u=he(e);for(o=0,i=u.length;o<i;o++){if("string"!=typeof(a=u[o]))throw yn("itkn",a);s.push(r&&r.hasOwnProperty(a)?r[a]:n(a))}return Yt(e)&&(e=e[i]),e.apply(t,s)}return{invoke:r,instantiate:function(e,t){var n,i=function(){};return i.prototype=(Yt(e)?e[e.length-1]:e).prototype,y(n=r(e,i=new i,t))||E(n)?n:i},get:n,annotate:he,has:function(t){return d.hasOwnProperty(t+u)||e.hasOwnProperty(t)}}}var a={},u="Provider",c=[],l=new pe([],!0),d={$provide:{provider:t(n),factory:t(r),service:t(function(e,t){return r(e,["$injector",function(e){return e.instantiate(t)}])}),value:t(function(e,t){return r(e,m(t))}),constant:t(function(e,t){z(e,"constant"),d[e]=t,h[e]=t}),decorator:function(e,t){var n=f.get(e+u),r=n.$get;n.$get=function(){var e=g.invoke(r,n);return g.invoke(t,null,{$delegate:e})}}}},f=d.$injector=i(d,function(){throw yn("unpr",c.join(" <- "))}),h={},g=h.$injector=i(h,function(e){return e=f.get(e+u),g.invoke(e.$get,e)});return o(function e(t){var n,r,i,a,s=[];return o(t,function(t){if(!l.get(t)){l.put(t,!0);try{if(w(t))for(n=It(t),s=s.concat(e(n.requires)).concat(n._runBlocks),r=n._invokeQueue,i=0,a=r.length;i<a;i++){var o=r[i],u=f.get(o[0]);u[o[1]].apply(u,o[2])}else E(t)?s.push(f.invoke(t)):Yt(t)?s.push(f.invoke(t)):W(t,"module")}catch(e){throw Yt(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),yn("modulerr",t,e.stack||e.message||e)}}}),s}(e),function(e){g.invoke(e||p)}),g}function ge(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(){var e,r=n.hash();r?(e=a.getElementById(r))?e.scrollIntoView():(e=function(e){var t=null;return o(e,function(e){t||"a"!==Ht(e.nodeName)||(t=e)}),t}(a.getElementsByName(r)))?e.scrollIntoView():"top"===r&&t.scrollTo(0,0):t.scrollTo(0,0)}var a=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(i)}),i}]}function ve(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function ye(e,t,r,i){function a(e){try{e.apply(null,Ut.call(arguments,1))}finally{if(0===--v)for(;y.length;)try{y.pop()()}catch(e){r.error(e)}}}function s(){S=null,E!=u.url()&&(E=u.url(),o(T,function(e){e(u.url())}))}var u=this,c=t[0],l=e.location,d=e.history,f=e.setTimeout,h=e.clearTimeout,m={};u.isMock=!1;var v=0,y=[];u.$$completeOutstandingRequest=a,u.$$incOutstandingRequestCount=function(){v++},u.notifyWhenNoOutstandingRequests=function(e){o(b,function(e){e()}),0===v?e():y.push(e)};var C,b=[];u.addPollFn=function(e){return g(C)&&function(e,t){!function n(){o(b,function(e){e()}),C=t(n,e)}()}(100,f),b.push(e),e};var E=l.href,$=t.find("base"),S=null;u.url=function(t,n){return l!==e.location&&(l=e.location),d!==e.history&&(d=e.history),t?E!=t?(E=t,i.history?n?d.replaceState(null,"",t):(d.pushState(null,"",t),$.attr("href",$.attr("href"))):(S=t,n?l.replace(t):l.href=t),u):void 0:S||l.href.replace(/%27/g,"'")};var T=[],k=!1;u.onUrlChange=function(t){return k||(i.history&&_t(e).on("popstate",s),i.hashchange?_t(e).on("hashchange",s):u.addPollFn(s),k=!0),T.push(t),t},u.baseHref=function(){var e=$.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var x={},P="",A=u.baseHref();u.cookies=function(e,t){var i,o,a,s;if(!e){if(c.cookie!==P)for(i=(P=c.cookie).split("; "),x={},a=0;a<i.length;a++)0<(s=(o=i[a]).indexOf("="))&&(e=unescape(o.substring(0,s)),x[e]===n&&(x[e]=unescape(o.substring(s+1))));return x}t===n?c.cookie=escape(e)+"=;path="+A+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(t)&&(4096<(i=(c.cookie=escape(e)+"="+escape(t)+";path="+A).length+1)&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},u.defer=function(e,t){var n;return v++,n=f(function(){delete m[n],a(e)},t||0),m[n]=!0,n},u.defer.cancel=function(e){return!!m[e]&&(delete m[e],h(e),a(p),!0)}}function we(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new ye(e,r,t,n)}]}function Ce(){this.$get=function(){function e(e,n){function i(e){e!=f&&(p?p==e&&(p=e.n):p=e,o(e.n,e.p),o(e,f),(f=e).n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid",e);var a=0,s=l({},n,{id:e}),u={},c=n&&n.capacity||Number.MAX_VALUE,d={},f=null,p=null;return t[e]={put:function(e,t){c<Number.MAX_VALUE&&i(d[e]||(d[e]={key:e}));if(!g(t))return e in u||a++,u[e]=t,a>c&&this.remove(p.key),t},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return u[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==f&&(f=t.p),t==p&&(p=t.n),o(t.n,t.p),delete d[e]}delete u[e],a--},removeAll:function(){u={},a=0,d={},f=p=null},destroy:function(){d=s=u=null,delete t[e]},info:function(){return l({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function be(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ee(e,r){var i={},a="Directive",u=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,c=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,d=/^(on[a-z]+|formaction)$/;this.directive=function t(n,r){return z(n,"directive"),w(n)?(q(r,"directiveFactory"),i.hasOwnProperty(n)||(i[n]=[],e.factory(n+a,["$injector","$exceptionHandler",function(e,t){var r=[];return o(i[n],function(i,o){try{var a=e.invoke(i);E(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"A",r.push(a)}catch(e){t(e)}}),r}])),i[n].push(r)):o(n,s(t)),this},this.aHrefSanitizationWhitelist=function(e){return v(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,s,p,m,g,v,C,b,$,S,T){function k(e,t,n,r,i){e instanceof _t||(e=_t(e)),o(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=_t(t).wrap("<span></span>").parent()[0])});var a=P(e,t,e,n,r,i);return x(e,"ng-scope"),function(t,n,r,i){q(t,"scope");var s=n?dn.clone.call(e):e;o(r,function(e,t){s.data("$"+t+"Controller",e)}),r=0;for(var u=s.length;r<u;r++){var c=s[r].nodeType;1!==c&&9!==c||s.eq(r).data("$scope",t)}return n&&n(s,t),a&&a(t,s,s,i),s}}function x(e,t){try{e.addClass(t)}catch(e){}}function P(e,t,r,i,o,a){for(var s,u,c,l,d=[],f=0;f<e.length;f++)s=new K,(a=(u=O(e[f],[],s,0===f?i:n,o)).length?I(u,e[f],s,t,r,null,[],[],a):null)&&a.scope&&x(s.$$element,"ng-scope"),s=a&&a.terminal||!(c=e[f].childNodes)||!c.length?null:P(c,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:t),d.push(a,s),l=l||a||s,a=null;return l?function(e,r,i,o){var a,s,u,c,l,f;a=r.length;var p=Array(a);for(c=0;c<a;c++)p[c]=r[c];for(f=c=0,l=d.length;c<l;f++)s=p[f],r=d[c++],a=d[c++],r?(r.scope?(u=e.$new(),_t.data(s,"$scope",u)):u=e,r(a,u,s,i,r.transcludeOnThisElement?D(e,r.transclude,o):!r.templateOnThisElement&&o?o:!o&&t?D(e,t):null)):a&&a(e,s.childNodes,n,o)}:null}function D(e,t,n){return function(r,i,o){var a=!1;return r||(a=(r=e.$new()).$$transcluded=!0),i=t(r,i,o,n),a&&i.on("$destroy",function(){r.$destroy()}),i}}function O(e,t,n,r,i){var o,a=n.$attr;switch(e.nodeType){case 1:H(t,$e(Rt(e).toLowerCase()),"E",r,i);for(var s,l,d,f=e.attributes,p=0,h=f&&f.length;p<h;p++){var m=!1,g=!1;if(s=f[p],!Ot||8<=Ot||s.specified){o=s.name,l=Gt(s.value),s=$e(o),(d=ee.test(s))&&(o=B(s.substr(6),"-"));var v=s.replace(/(Start|End)$/,"");s===v+"Start"&&(m=o,g=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),a[s=$e(o.toLowerCase())]=o,!d&&n.hasOwnProperty(s)||(n[s]=l,de(e,s)&&(n[s]=!0)),z(e,t,l,s),H(t,s,"A",r,i,m,g)}}if(w(e=e.className)&&""!==e)for(;o=c.exec(e);)H(t,s=$e(o[2]),"C",r,i)&&(n[s]=Gt(o[3])),e=e.substr(o.index+o[0].length);break;case 3:W(t,e.nodeValue);break;case 8:try{(o=u.exec(e.nodeValue))&&(H(t,s=$e(o[1]),"M",r,i)&&(n[s]=Gt(o[2])))}catch(e){}}return t.sort(U),t}function _(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw bn("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(0<i);else r.push(e);return _t(r)}function N(e,t,n){return function(r,i,o,a,s){return i=_(i[0],t,n),e(r,i,o,a,s)}}function I(e,i,a,u,c,l,d,f,p){function h(e,t,n,r){e&&(n&&(e=N(e,n,r)),e.require=$.require,e.directiveName=S,(H===$||$.$$isolateScope)&&(e=G(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=N(t,n,r)),t.require=$.require,t.directiveName=S,(H===$||$.$$isolateScope)&&(t=G(t,{isolateScope:!0})),f.push(t))}function m(e,t,n,r){var i,a="data",s=!1;if(w(t)){for(;"^"==(i=t.charAt(0))||"?"==i;)t=t.substr(1),"^"==i&&(a="inheritedData"),s=s||"?"==i;if(i=null,r&&"data"===a&&(i=r[t]),!(i=i||n[a]("$"+t+"Controller"))&&!s)throw bn("ctreq",t,e)}else Yt(t)&&(i=[],o(t,function(t){i.push(m(e,t,n,r))}));return i}function C(e,t,u,c,l){var p,h,y,w,C,b,E,$={};if(p=i===u?a:A(a,new K(_t(u),a.$attr)),h=p.$$element,H){var S=/^\s*([@=&])(\??)\s*(\w*)\s*$/;b=t.$new(!0),!U||U!==H&&U!==H.$$originalDirective?h.data("$isolateScopeNoTemplate",b):h.data("$isolateScope",b),x(h,"ng-isolate-scope"),o(H.scope,function(e,n){var i,o,a,s,u=(l=e.match(S)||[])[3]||n,c="?"==l[2],l=l[1];switch(b.$$isolateBindings[n]=l+u,l){case"@":p.$observe(u,function(e){b[n]=e}),p.$$observers[u].$$scope=t,p[u]&&(b[n]=r(p[u])(t));break;case"=":if(c&&!p[u])break;o=g(p[u]),s=o.literal?M:function(e,t){return e===t||e!=e&&t!=t},a=o.assign||function(){throw i=b[n]=o(t),bn("nonassign",p[u],H.name)},i=b[n]=o(t),b.$watch(function(){var e=o(t);return s(e,b[n])||(s(e,i)?a(t,e=b[n]):b[n]=e),i=e},null,o.literal);break;case"&":o=g(p[u]),b[n]=function(e){return o(t,e)};break;default:throw bn("iscp",H.name,n,e)}})}for(E=l&&function(e,t){var r;return 2>arguments.length&&(t=e,e=n),z&&(r=$),l(e,t,r)},I&&o(I,function(e){var n,r={$scope:e===H||e.$$isolateScope?b:t,$element:h,$attrs:p,$transclude:E};"@"==(C=e.controller)&&(C=p[e.name]),n=v(C,r),$[e.name]=n,z||h.data("$"+e.name+"Controller",n),e.controllerAs&&(r.$scope[e.controllerAs]=n)}),c=0,y=d.length;c<y;c++)try{(w=d[c])(w.isolateScope?b:t,h,p,w.require&&m(w.directiveName,w.require,h,$),E)}catch(e){s(e,R(h))}for(c=t,H&&(H.template||null===H.templateUrl)&&(c=b),e&&e(c,u.childNodes,n,l),c=f.length-1;0<=c;c--)try{(w=f[c])(w.isolateScope?b:t,h,p,w.require&&m(w.directiveName,w.require,h,$),E)}catch(e){s(e,R(h))}}p=p||{};for(var b,$,S,T,P,D=-Number.MAX_VALUE,I=p.controllerDirectives,H=p.newIsolateScopeDirective,U=p.templateDirective,B=p.nonTlbTranscludeDirective,q=!1,W=!1,z=p.hasElementTranscludeDirective,Z=a.$$element=_t(i),J=u,ee=0,te=e.length;ee<te;ee++){var ne=($=e[ee]).$$start,re=$.$$end;if(ne&&(Z=_(i,ne,re)),T=n,D>$.priority)break;if((T=$.scope)&&(b=b||$,$.templateUrl||(j("new/isolated scope",H,$,Z),y(T)&&(H=$))),S=$.name,!$.templateUrl&&$.controller&&(T=$.controller,j("'"+S+"' controller",(I=I||{})[S],$,Z),I[S]=$),(T=$.transclude)&&(q=!0,$.$$tlb||(j("transclusion",B,$,Z),B=$),"element"==T?(z=!0,D=$.priority,T=Z,Z=a.$$element=_t(t.createComment(" "+S+": "+a[S]+" ")),i=Z[0],Y(c,Ut.call(T,0),i),J=k(T,u,D,l&&l.name,{nonTlbTranscludeDirective:B})):(T=_t(X(i)).contents(),Z.empty(),J=k(T,u))),$.template)if(W=!0,j("template",U,$,Z),U=$,T=E($.template)?$.template(Z,a):$.template,T=Q(T),$.replace){if(l=$,T=sn.test(T)?_t(Gt(T)):[],i=T[0],1!=T.length||1!==i.nodeType)throw bn("tplrt",S,"");Y(c,Z,i),T=O(i,[],te={$attr:{}});var ie=e.splice(ee+1,e.length-(ee+1));H&&L(T),e=e.concat(T).concat(ie),V(a,te),te=e.length}else Z.html(T);if($.templateUrl)W=!0,j("template",U,$,Z),U=$,$.replace&&(l=$),C=F(e.splice(ee,e.length-ee),Z,a,c,q&&J,d,f,{controllerDirectives:I,newIsolateScopeDirective:H,templateDirective:U,nonTlbTranscludeDirective:B}),te=e.length;else if($.compile)try{E(P=$.compile(Z,a,J))?h(null,P,ne,re):P&&h(P.pre,P.post,ne,re)}catch(e){s(e,R(Z))}$.terminal&&(C.terminal=!0,D=Math.max(D,$.priority))}return C.scope=b&&!0===b.scope,C.transcludeOnThisElement=q,C.templateOnThisElement=W,C.transclude=J,p.hasElementTranscludeDirective=z,C}function L(e){for(var t=0,n=e.length;t<n;t++)e[t]=f(e[t],{$$isolateScope:!0})}function H(t,r,o,u,c,l,d){if(r===c)return null;if(c=null,i.hasOwnProperty(r))for(var p,h=0,m=(r=e.get(r+a)).length;h<m;h++)try{p=r[h],(u===n||u>p.priority)&&-1!=p.restrict.indexOf(o)&&(l&&(p=f(p,{$$start:l,$$end:d})),t.push(p),c=p)}catch(e){s(e)}return c}function V(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(x(i,t),e.class=(e.class?e.class+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function F(e,t,n,r,i,a,s,u){var c,d,f=[],h=t[0],g=e.shift(),v=l({},g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),w=E(g.templateUrl)?g.templateUrl(t,n):g.templateUrl;return t.empty(),p.get($.getTrustedResourceUrl(w),{cache:m}).success(function(l){var p,m;if(l=Q(l),g.replace){if(l=sn.test(l)?_t(Gt(l)):[],p=l[0],1!=l.length||1!==p.nodeType)throw bn("tplrt",g.name,w);l={$attr:{}},Y(r,t,p);var C=O(p,[],l);y(g.scope)&&L(C),e=C.concat(e),V(n,l)}else p=h,t.html(l);for(e.unshift(v),c=I(e,p,n,i,t,g,a,s,u),o(r,function(e,n){e==p&&(r[n]=t[0])}),d=P(t[0].childNodes,i);f.length;){l=f.shift(),m=f.shift();var b=f.shift(),E=f.shift();C=t[0];if(m!==h){var $=m.className;u.hasElementTranscludeDirective&&g.replace||(C=X(p)),Y(b,_t(m),C),x(_t(C),$)}m=c.transcludeOnThisElement?D(l,c.transclude,E):E,c(d,l,C,r,m)}f=null}).error(function(e,t,n,r){throw bn("tpload",r.url)}),function(e,t,n,r,i){e=i,f?(f.push(t),f.push(n),f.push(r),f.push(e)):(c.transcludeOnThisElement&&(e=D(t,c.transclude,i)),c(d,t,n,r,e))}}function U(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function j(e,t,n,r){if(t)throw bn("multidir",t.name,n.name,e,R(r))}function W(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent().length;return t&&x(e.parent(),"ng-binding"),function(e,r){var i=r.parent(),o=i.data("$binding")||[];o.push(n),i.data("$binding",o),t||x(i,"ng-binding"),e.$watch(n,function(e){r[0].nodeValue=e})}}})}function z(e,t,n,i){var o=r(n,!0);if(o){if("multiple"===i&&"SELECT"===Rt(e))throw bn("selmulti",R(e));t.push({priority:100,compile:function(){return{pre:function(t,n,a){if(n=a.$$observers||(a.$$observers={}),d.test(i))throw bn("nodomevents");(o=r(a[i],!0,function(e,t){if("srcdoc"==t)return $.HTML;var n=Rt(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?$.RESOURCE_URL:void 0}(e,i)))&&(a[i]=o(t),(n[i]||(n[i]=[])).$$inter=!0,(a.$$observers&&a.$$observers[i].$$scope||t).$watch(o,function(e,t){"class"===i&&e!=t?a.$updateClass(e,t):a.$set(i,e)}))}}}})}}function Y(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]==a){e[i++]=r,o=i+s-1;for(var c=e.length;i<c;i++,o++)o<c?e[i]=e[o]:delete e[i];e.length-=s-1;break}for(u&&u.replaceChild(r,a),(e=t.createDocumentFragment()).appendChild(a),r[_t.expando]=a[_t.expando],a=1,s=n.length;a<s;a++)u=n[a],_t(u).remove(),e.appendChild(u),delete n[a];n[0]=r,n.length=1}function G(e,t){return l(function(){return e.apply(null,arguments)},e,t)}var K=function(e,t){this.$$element=e,this.$attr=t||{}};K.prototype={$normalize:$e,$addClass:function(e){e&&0<e.length&&S.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&S.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Se(e,t),r=Se(t,e);0===n.length?S.removeClass(this.$$element,r):0===r.length?S.addClass(this.$$element,n):S.setClass(this.$$element,n,r)},$set:function(e,t,r,i){var a=de(this.$$element[0],e);a&&(this.$$element.prop(e,t),i=a),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=B(e,"-")),("A"===(a=Rt(this.$$element))&&"href"===e||"IMG"===a&&"src"===e)&&(this[e]=t=T(t,"src"===e)),!1!==r&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t)),(r=this.$$observers)&&o(r[e],function(e){try{e(t)}catch(e){s(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),C.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var Z=r.startSymbol(),J=r.endSymbol(),Q="{{"==Z||"}}"==J?h:function(e){return e.replace(/\{\{/g,Z).replace(/}}/g,J)},ee=/^ngAttr[A-Z]/;return k}]}function $e(e){return K(e.replace(En,""))}function Se(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),o=0;e:for(;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(0<n.length?" ":"")+a}return n}function Te(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){z(t,"controller"),y(t)?l(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(o,a){var s,u,c;if(w(o)&&(u=(s=o.match(t))[1],c=s[3],W(o=e.hasOwnProperty(u)?e[u]:Y(a.$scope,u,!0)||Y(i,u,!0),u,!0)),s=n.instantiate(o,a),c){if(!a||"object"!=typeof a.$scope)throw r("$controller")("noscp",u||o.name,c);a.$scope[c]=s}return s}}]}function ke(){this.$get=["$window",function(e){return _t(e.document)}]}function xe(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Pe(e){var t,n,r,i={};return e?(o(e.split("\n"),function(e){r=e.indexOf(":"),t=Ht(Gt(e.substr(0,r))),n=Gt(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function Ae(e){var t=y(e)?e:n;return function(n){return t||(t=Pe(e)),n?t[Ht(n)]||null:t}}function Me(e,t,n){return E(n)?n(e,t):(o(n,function(n){e=n(e,t)}),e)}function De(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},s=this.defaults={transformResponse:[function(n){return w(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=N(n))),n}],transformRequest:[function(e){return y(e)&&"[object File]"!==Bt.call(e)&&"[object Blob]"!==Bt.call(e)?_(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:A(i),put:A(i),patch:A(i)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},u=this.interceptors=[],c=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,i,d,f){function p(e){function t(e){var t=l({},e,{data:Me(e.data,e.headers,r.transformResponse)});return 200<=e.status&&300>e.status?t:d.reject(t)}var r={method:"get",transformRequest:s.transformRequest,transformResponse:s.transformResponse},i=function(e){var t,n,r=s.headers,i=l({},e.headers);r=l({},r.common,r[Ht(e.method)]);e:for(t in r){for(n in e=Ht(t),i)if(Ht(n)===e)continue e;i[t]=r[t]}return function(e){var t;o(e,function(n,r){E(n)&&(null!=(t=n())?e[r]=t:delete e[r])})}(i),i}(e);l(r,e),r.headers=i,r.method=Ft(r.method);var a=[function(e){i=e.headers;var n=Me(e.data,Ae(i),e.transformRequest);return g(n)&&o(i,function(e,t){"content-type"===Ht(t)&&delete i[t]}),g(e.withCredentials)&&!g(s.withCredentials)&&(e.withCredentials=s.withCredentials),h(e,n,i).then(t,t)},n],u=d.when(r);for(o($,function(e){(e.request||e.requestError)&&a.unshift(e.request,e.requestError),(e.response||e.responseError)&&a.push(e.response,e.responseError)});a.length;){e=a.shift();var c=a.shift();u=u.then(e,c)}return u.success=function(e){return u.then(function(t){e(t.data,t.status,t.headers,r)}),u},u.error=function(e){return u.then(null,function(t){e(t.data,t.status,t.headers,r)}),u},u}function h(r,o,a){function u(e,t,n,i){(200<=(t=Math.max(t,0))&&300>t?h.resolve:h.reject)({data:e,status:t,headers:Ae(n),config:r,statusText:i})}function c(){var e=k(p.pendingRequests,r);-1!==e&&p.pendingRequests.splice(e,1)}var l,f,h=d.defer(),w=h.promise,b=m(r.url,r.params);if(p.pendingRequests.push(r),w.then(c,c),!r.cache&&!s.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(l=y(r.cache)?r.cache:y(s.cache)?s.cache:C),l)if(v(f=l.get(b))){if(f&&E(f.then))return f.then(c,c),f;Yt(f)?u(f[1],f[0],A(f[2]),f[3]):u(f,200,{},"OK")}else l.put(b,w);return g(f)&&((f=ft(r.url)?t.cookies()[r.xsrfCookieName||s.xsrfCookieName]:n)&&(a[r.xsrfHeaderName||s.xsrfHeaderName]=f),e(r.method,b,o,function(e,t,n,r){l&&(200<=e&&300>e?l.put(b,[e,t,Pe(n),r]):l.remove(b)),u(t,e,n,r),i.$$phase||i.$apply()},a,r.timeout,r.withCredentials,r.responseType)),w}function m(e,t){if(!t)return e;var n=[];return function(e,t,n){for(var r=a(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i])}(t,function(e,t){null===e||g(e)||(Yt(e)||(e=[e]),o(e,function(e){y(e)&&(b(e)?e=e.toISOString():y(e)&&(e=_(e))),n.push(U(t)+"="+U(e))}))}),0<n.length&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var C=r("$http"),$=[];return o(u,function(e){$.unshift(w(e)?f.get(e):f.invoke(e))}),o(c,function(e,t){var n=w(e)?f.get(e):f.invoke(e);$.splice(t,0,{response:function(e){return n(d.when(e))},responseError:function(e){return n(d.reject(e))}})}),p.pendingRequests=[],function(e){o(arguments,function(e){p[e]=function(t,n){return p(l(n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){p[e]=function(t,n,r){return p(l(r||{},{method:e,url:t,data:n}))}})}("post","put"),p.defaults=s,p}]}function Oe(t){if(8>=Ot&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw r("$httpBackend")("noxhr")}function _e(){this.$get=["$browser","$window","$document",function(e,t,n){return function(e,t,n,r,i){function a(e,t,n){var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){tn(o,"load",a),tn(o,"error",a),i.body.removeChild(o),o=null;var s=-1,u="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},en(o,"load",a),en(o,"error",a),8>=Ot&&(o.onreadystatechange=function(){w(o.readyState)&&/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=null,a({type:"load"}))}),i.body.appendChild(o),a}var s=-1;return function(i,u,c,l,d,f,h,m){function g(){w=s,b&&b(),$&&$.abort()}function y(t,r,i,o,a){S&&n.cancel(S),b=$=null,0===r&&(r=i?200:"file"==dt(u).protocol?404:0),t(1223===r?204:r,i,o,a||""),e.$$completeOutstandingRequest(p)}var w;if(e.$$incOutstandingRequestCount(),u=u||e.url(),"jsonp"==Ht(i)){var C="_"+(r.counter++).toString(36);r[C]=function(e){r[C].data=e,r[C].called=!0};var b=a(u.replace("JSON_CALLBACK","angular.callbacks."+C),C,function(e,t){y(l,e,r[C].data,"",t),r[C]=p})}else{var $=t(i);if($.open(i,u,!0),o(d,function(e,t){v(e)&&$.setRequestHeader(t,e)}),$.onreadystatechange=function(){if($&&4==$.readyState){var e=null,t=null,n="";w!==s&&(e=$.getAllResponseHeaders(),t="response"in $?$.response:$.responseText),w===s&&10>Ot||(n=$.statusText),y(l,w||$.status,t,e,n)}},h&&($.withCredentials=!0),m)try{$.responseType=m}catch(e){if("json"!==m)throw e}$.send(c||null)}if(0<f)var S=n(g,f);else f&&E(f.then)&&f.then(g)}}(e,Oe,e.defer,t.angular.callbacks,n[0])}]}function Ne(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(o,u,c){for(var l,d,f=0,p=[],h=o.length,m=!1,g=[];f<h;)-1!=(l=o.indexOf(e,f))&&-1!=(d=o.indexOf(t,l+a))?(f!=l&&p.push(o.substring(f,l)),p.push(f=n(m=o.substring(l+a,d))),f.exp=m,f=d+s,m=!0):(f!=h&&p.push(o.substring(f)),f=h);if((h=p.length)||(p.push(""),h=1),c&&1<p.length)throw $n("noconcat",o);if(!u||m)return g.length=h,(f=function(e){try{for(var t,n=0,a=h;n<a;n++){if("function"==typeof(t=p[n]))if(t=t(e),null==(t=c?i.getTrusted(c,t):i.valueOf(t)))t="";else switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=_(t)}g[n]=t}return g.join("")}catch(t){e=$n("interr",o,t.toString()),r(e)}}).exp=o,f.parts=p,f}var a=e.length,s=t.length;return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function Ie(){this.$get=["$rootScope","$window","$q",function(e,t,n){function r(r,o,a,s){var u=t.setInterval,c=t.clearInterval,l=n.defer(),d=l.promise,f=0,p=v(s)&&!s;return a=v(a)?a:0,d.then(null,null,r),d.$$intervalId=u(function(){l.notify(f++),0<a&&f>=a&&(l.resolve(f),c(d.$$intervalId),delete i[d.$$intervalId]),p||e.$apply()},o),i[d.$$intervalId]=l,d}var i={};return r.cancel=function(e){return!!(e&&e.$$intervalId in i)&&(i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0)},r}]}function Re(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function Le(e){for(var t=(e=e.split("/")).length;t--;)e[t]=F(e[t]);return e.join("/")}function He(e,t,n){e=dt(e,n),t.$$protocol=e.protocol,t.$$host=e.hostname,t.$$port=d(e.port)||Tn[e.protocol]||null}function Ve(e,t,n){var r="/"!==e.charAt(0);r&&(e="/"+e),e=dt(e,n),t.$$path=decodeURIComponent(r&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),t.$$search=H(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Fe(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Ue(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function je(e){return e.substr(0,Ue(e).lastIndexOf("/")+1)}function Be(e,t){this.$$html5=!0,t=t||"";var r=je(e);He(e,this,e),this.$$parse=function(t){var n=Fe(r,t);if(!w(n))throw kn("ipthprfx",t,r);Ve(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=V(this.$$search),t=this.$$hash?"#"+F(this.$$hash):"";this.$$url=Le(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$rewrite=function(i){var o;return(o=Fe(e,i))!==n?(i=o,(o=Fe(t,o))!==n?r+(Fe("/",o)||o):e+i):(o=Fe(r,i))!==n?r+o:r==i+"/"?r:void 0}}function qe(e,t){var n=je(e);He(e,this,e),this.$$parse=function(r){var i;if(!w(i="#"==(i=Fe(e,r)||Fe(n,r)).charAt(0)?Fe(t,i):this.$$html5?i:""))throw kn("ihshprfx",r,t);Ve(i,this,e),r=this.$$path;var o=/^\/[A-Z]:(\/.*)/;0===i.indexOf(e)&&(i=i.replace(e,"")),o.exec(i)||(r=(i=o.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var n=V(this.$$search),r=this.$$hash?"#"+F(this.$$hash):"";this.$$url=Le(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){if(Ue(e)==Ue(t))return t}}function We(e,t){this.$$html5=!0,qe.apply(this,arguments);var n=je(e);this.$$rewrite=function(r){var i;return e==Ue(r)?r:(i=Fe(n,r))?e+t+i:n===r+"/"?n:void 0},this.$$compose=function(){var n=V(this.$$search),r=this.$$hash?"#"+F(this.$$hash):"";this.$$url=Le(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function ze(e){return function(){return this[e]}}function Ye(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ge(){var t="",n=!1;this.hashPrefix=function(e){return v(e)?(t=e,this):t},this.html5Mode=function(e){return v(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,o,a){function s(e){r.$broadcast("$locationChangeSuccess",u.absUrl(),e)}var u,c,l,d=i.baseHref(),f=i.url();n?(l=f.substring(0,f.indexOf("/",f.indexOf("//")+2))+(d||"/"),c=o.history?Be:We):(l=Ue(f),c=qe),(u=new c(l,"#"+t)).$$parse(u.$$rewrite(f));var p=/^\s*(javascript|mailto):/i;a.on("click",function(n){if(!n.ctrlKey&&!n.metaKey&&2!=n.which){for(var o=_t(n.target);"a"!==Ht(o[0].nodeName);)if(o[0]===a[0]||!(o=o.parent())[0])return;var s=o.prop("href");if(y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=dt(s.animVal).href),!p.test(s)){if(c===We)if(0>(f=o.attr("href")||o.attr("xlink:href")).indexOf("://"))if(s="#"+t,"/"==f[0])s=l+s+f;else if("#"==f[0])s=l+s+(u.path()||"/")+f;else{for(var d=u.path().split("/"),f=f.split("/"),h=0;h<f.length;h++)"."!=f[h]&&(".."==f[h]?d.pop():f[h].length&&d.push(f[h]));s=l+s+d.join("/")}d=u.$$rewrite(s),s&&!o.attr("target")&&d&&!n.isDefaultPrevented()&&(n.preventDefault(),d!=i.url()&&(u.$$parse(d),r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}}),u.absUrl()!=f&&i.url(u.absUrl(),!0),i.onUrlChange(function(e){u.absUrl()!=e&&(r.$evalAsync(function(){var t=u.absUrl();u.$$parse(e),r.$broadcast("$locationChangeStart",e,t).defaultPrevented?(u.$$parse(t),i.url(t)):s(t)}),r.$$phase||r.$digest())});var h=0;return r.$watch(function(){var e=i.url(),t=u.$$replace;return h&&e==u.absUrl()||(h++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",u.absUrl(),e).defaultPrevented?u.$$parse(e):(i.url(u.absUrl(),t),s(e))})),u.$$replace=!1,h}),u}]}function Ke(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){var t=n.console||{},r=t[e]||t.log||p;e=!1;try{e=!!r.apply}catch(e){}return e?function(){var e=[];return o(arguments,function(t){e.push(function(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Ze(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Pn("isecfld",t);return e}function Je(e,t){if(e){if(e.constructor===e)throw Pn("isecfn",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw Pn("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Pn("isecdom",t);if(e===Object)throw Pn("isecobj",t)}return e}function Xe(e,t,r,i,o){o=o||{},t=t.split(".");for(var a,s=0;1<t.length;s++){var u=e[a=Ze(t.shift(),i)];u||(u={},e[a]=u),(e=u).then&&o.unwrapPromises&&(xn(i),"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return a=Ze(t.shift(),i),Je(e,i),Je(e[a],i),e[a]=r}function Qe(e,t,r,i,o,a,s){return Ze(e,a),Ze(t,a),Ze(r,a),Ze(i,a),Ze(o,a),s.unwrapPromises?function(s,u){var c,l=u&&u.hasOwnProperty(e)?u:s;return null==l?l:((l=l[e])&&l.then&&(xn(a),"$$v"in l||((c=l).$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),t?null==l?n:((l=l[t])&&l.then&&(xn(a),"$$v"in l||((c=l).$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),r?null==l?n:((l=l[r])&&l.then&&(xn(a),"$$v"in l||((c=l).$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),i?null==l?n:((l=l[i])&&l.then&&(xn(a),"$$v"in l||((c=l).$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),o?null==l?n:((l=l[o])&&l.then&&(xn(a),"$$v"in l||((c=l).$$v=n,c.then(function(e){c.$$v=e})),l=l.$$v),l):l):l):l):l)}:function(a,s){var u=s&&s.hasOwnProperty(e)?s:a;return null==u?u:(u=u[e],t?null==u?n:(u=u[t],r?null==u?n:(u=u[r],i?null==u?n:(u=u[i],o?null==u?n:u=u[o]:u):u):u):u)}}function et(e,t,r){if(Ln.hasOwnProperty(e))return Ln[e];var i,a=e.split("."),s=a.length;if(t.csp)i=6>s?Qe(a[0],a[1],a[2],a[3],a[4],r,t):function(e,i){var o,u=0;do{o=Qe(a[u++],a[u++],a[u++],a[u++],a[u++],r,t)(e,i),i=n,e=o}while(u<s);return o};else{var u="var p;\n";o(a,function(e,n){Ze(e,r),u+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"];\n'+(t.unwrapPromises?'if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});u=u+"return s;";var c=new Function("s","k","pw",u);c.toString=m(u),i=t.unwrapPromises?function(e,t){return c(e,t,xn)}:c}return"hasOwnProperty"!==e&&(Ln[e]=i),i}function tt(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return v(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return v(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return t.csp=r.csp,xn=function(e){t.logPromiseWarnings&&!An.hasOwnProperty(e)&&(An[e]=!0,i.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r){var i;switch(typeof r){case"string":return e.hasOwnProperty(r)?e[r]:(i=new In(t),i=new Rn(i,n,t).parse(r),"hasOwnProperty"!==r&&(e[r]=i),i);case"function":return r;default:return p}}}]}function nt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return function(e,t){function r(e){return e}function i(e){return u(e)}var a=function(){var o,u,l=[];return u={resolve:function(t){if(l){var r=l;l=n,o=s(t),r.length&&e(function(){for(var e,t=0,n=r.length;t<n;t++)e=r[t],o.then(e[0],e[1],e[2])})}},reject:function(e){u.resolve(c(e))},notify:function(t){if(l){var n=l;l.length&&e(function(){for(var e=0,r=n.length;e<r;e++)n[e][2](t)})}},promise:{then:function(e,n,s){var u=a(),c=function(n){try{u.resolve((E(e)?e:r)(n))}catch(e){u.reject(e),t(e)}},d=function(e){try{u.resolve((E(n)?n:i)(e))}catch(e){u.reject(e),t(e)}},f=function(e){try{u.notify((E(s)?s:r)(e))}catch(e){t(e)}};return l?l.push([c,d,f]):o.then(c,d,f),u.promise},catch:function(e){return this.then(null,e)},finally:function(e){function t(e,t){var n=a();return t?n.resolve(e):n.reject(e),n.promise}function n(n,i){var o=null;try{o=(e||r)()}catch(e){return t(e,!1)}return o&&E(o.then)?o.then(function(){return t(n,i)},function(e){return t(e,!1)}):t(n,i)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},s=function(t){return t&&E(t.then)?t:{then:function(n){var r=a();return e(function(){r.resolve(n(t))}),r.promise}}},u=function(e){var t=a();return t.reject(e),t.promise},c=function(n){return{then:function(r,o){var s=a();return e(function(){try{s.resolve((E(o)?o:i)(n))}catch(e){s.reject(e),t(e)}}),s.promise}}};return{defer:a,reject:u,when:function(n,o,c,l){var d,f=a(),p=function(e){try{return(E(o)?o:r)(e)}catch(e){return t(e),u(e)}},h=function(e){try{return(E(c)?c:i)(e)}catch(e){return t(e),u(e)}},m=function(e){try{return(E(l)?l:r)(e)}catch(e){t(e)}};return e(function(){s(n).then(function(e){d||(d=!0,f.resolve(s(e).then(p,h,m)))},function(e){d||(d=!0,f.resolve(h(e)))},function(e){d||f.notify(m(e))})}),f.promise},all:function(e){var t=a(),n=0,r=Yt(e)?[]:{};return o(e,function(e,i){n++,s(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}}}(function(t){e.$evalAsync(t)},t)}]}function rt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function it(){var e=10,t=r("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,a,s,c){function l(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.this=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function d(e){if(g.$$phase)throw t("inprog",g.$$phase);g.$$phase=e}function f(e,t){var n=s(e);return W(n,t),n}function h(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function m(){}l.prototype={constructor:l,$new:function(e){return e?((e=new l).$root=this.$root,e.$$asyncQueue=this.$$asyncQueue,e.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=u(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),e=new this.$$childScopeClass),e.this=e,e.$parent=this,e.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=e:this.$$childHead=this.$$childTail=e,e},$watch:function(e,t,r){var i=f(e,"watch"),o=this.$$watchers,a={fn:t,last:m,get:i,exp:e,eq:!!r};if(n=null,!E(t)){var s=f(t||p,"listener");a.fn=function(e,t,n){s(n)}}if("string"==typeof e&&i.constant){var u=a.fn;a.fn=function(e,t,n){u.call(this,e,t,n),x(o,a)}}return o||(o=this.$$watchers=[]),o.unshift(a),function(){x(o,a),n=null}},$watchCollection:function(e,t){var n,r,o,a=this,u=1<t.length,c=0,l=s(e),d=[],f={},p=!0,h=0;return this.$watch(function(){var e,t;if(y(n=l(a)))if(i(n))for(r!==d&&(h=(r=d).length=0,c++),e=n.length,h!==e&&(c++,r.length=h=e),t=0;t<e;t++)r[t]!=r[t]&&n[t]!=n[t]||r[t]===n[t]||(c++,r[t]=n[t]);else{for(t in r!==f&&(r=f={},h=0,c++),e=0,n)n.hasOwnProperty(t)&&(e++,r.hasOwnProperty(t)?r[t]!=r[t]&&n[t]!=n[t]||r[t]===n[t]||(c++,r[t]=n[t]):(h++,r[t]=n[t],c++));if(h>e)for(t in c++,r)r.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(h--,delete r[t])}else r!==n&&(r=n,c++);return c},function(){if(p?(p=!1,t(n,n,a)):t(n,o,a),u)if(y(n))if(i(n)){o=Array(n.length);for(var e=0;e<n.length;e++)o[e]=n[e]}else for(e in o={},n)Vt.call(n,e)&&(o[e]=n[e]);else o=n})},$digest:function(){var r,i,o,s,u,c,l,f,p,h,v=this.$$asyncQueue,y=this.$$postDigestQueue,w=e,C=[];d("$digest"),n=null;do{for(c=!1,l=this;v.length;){try{(h=v.shift()).scope.$eval(h.expression)}catch(e){g.$$phase=null,a(e)}n=null}e:do{if(s=l.$$watchers)for(u=s.length;u--;)try{if(r=s[u])if((i=r.get(l))===(o=r.last)||(r.eq?M(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(r===n){c=!1;break e}}else c=!0,n=r,r.last=r.eq?P(i,null):i,r.fn(i,o===m?i:o,l),5>w&&(C[f=4-w]||(C[f]=[]),p=E(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,p+="; newVal: "+_(i)+"; oldVal: "+_(o),C[f].push(p))}catch(e){g.$$phase=null,a(e)}if(!(s=l.$$childHead||l!==this&&l.$$nextSibling))for(;l!==this&&!(s=l.$$nextSibling);)l=l.$parent}while(l=s);if((c||v.length)&&!w--)throw g.$$phase=null,t("infdig",e,_(C))}while(c||v.length);for(g.$$phase=null;y.length;)try{y.shift()()}catch(e){a(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==g&&(o(this.$$listenerCount,D(null,h,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=p,this.$on=this.$watch=function(){return p})}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){g.$$phase||g.$$asyncQueue.length||c.defer(function(){g.$$asyncQueue.length&&g.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(e){a(e)}finally{g.$$phase=null;try{g.$digest()}catch(e){throw a(e),e}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){n[k(n,t)]=null,h(i,1,e)}},$emit:function(e,t){var n,r,i,o=[],s=this,u=!1,c={name:e,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=[c].concat(Ut.call(arguments,1));do{for(n=s.$$listeners[e]||o,c.currentScope=s,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,l)}catch(e){a(e)}else n.splice(r,1),r--,i--;if(u)break;s=s.$parent}while(s);return c},$broadcast:function(e,t){for(var n,r,i=this,o=this,s={name:e,targetScope:this,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},u=[s].concat(Ut.call(arguments,1));i=o;){for(s.currentScope=i,n=0,r=(o=i.$$listeners[e]||[]).length;n<r;n++)if(o[n])try{o[n].apply(null,u)}catch(e){a(e)}else o.splice(n,1),n--,r--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==this&&i.$$nextSibling))for(;i!==this&&!(o=i.$$nextSibling);)i=i.$parent}return s}};var g=new l;return g}]}function ot(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return Ot&&!(8<=Ot)||(""===(i=dt(n).href)||i.match(o))?n:"unsafe:"+i}}}function at(e){var t=[];return v(e)&&o(e,function(e){t.push(function(e){if("self"===e)return e;if(w(e)){if(-1<e.indexOf("***"))throw Hn("iwcard",e);return e=e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+e+"$")}if($(e))return RegExp("^"+e.source+"$");throw Hn("imatcher")}(e))}),t}function st(){this.SCE_CONTEXTS=Vn;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=at(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=at(e)),t},this.$get=["$injector",function(r){function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var o=function(e){throw Hn("unsafe")};r.has("$sanitize")&&(o=r.get("$sanitize"));var a=i(),s={};return s[Vn.HTML]=i(a),s[Vn.CSS]=i(a),s[Vn.URL]=i(a),s[Vn.JS]=i(a),s[Vn.RESOURCE_URL]=i(s[Vn.URL]),{trustAs:function(e,t){var r=s.hasOwnProperty(e)?s[e]:null;if(!r)throw Hn("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Hn("itype",e);return new r(t)},getTrusted:function(r,i){if(null===i||i===n||""===i)return i;if((c=s.hasOwnProperty(r)?s[r]:null)&&i instanceof c)return i.$$unwrapTrustedValue();if(r===Vn.RESOURCE_URL){var a,u,c=dt(i.toString()),l=!1;for(a=0,u=e.length;a<u;a++)if("self"===e[a]?ft(c):e[a].exec(c.href)){l=!0;break}if(l)for(a=0,u=t.length;a<u;a++)if("self"===t[a]?ft(c):t[a].exec(c.href)){l=!1;break}if(l)return i;throw Hn("insecurl",i.toString())}if(r===Vn.HTML)return o(i);throw Hn("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function ut(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&8>n.msieDocumentMode)throw Hn("iequirks");var i=A(Vn);i.isEnabled=function(){return e},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=h),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:function(t,n){return i.getTrusted(e,r(t,n))}};var a=i.parseAs,s=i.getTrusted,u=i.trustAs;return o(Vn,function(e,t){var n=Ht(t);i[K("parse_as_"+n)]=function(t){return a(e,t)},i[K("get_trusted_"+n)]=function(t){return s(e,t)},i[K("trust_as_"+n)]=function(t){return u(e,t)}}),i}]}function ct(){this.$get=["$window","$document",function(e,t){var n,r={},i=d((/android (\d+)/.exec(Ht((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.documentMode,u=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=a.body&&a.body.style,l=!1,f=!1;if(c){for(var p in c)if(l=u.exec(p)){n=(n=l[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!i||l&&f||(l=w(a.body.style.webkitTransition),f=w(a.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>i||o),hashchange:"onhashchange"in e&&(!s||7<s),hasEvent:function(e){if("input"==e&&9==Ot)return!1;if(g(r[e])){var t=a.createElement("div");r[e]="on"+e in t}return r[e]},csp:Kt(),vendorPrefix:n,transitions:l,animations:f,android:i,msie:Ot,msieDocumentMode:s}}]}function lt(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function i(i,a,s){var u=n.defer(),c=u.promise,l=v(s)&&!s;return a=t.defer(function(){try{u.resolve(i())}catch(e){u.reject(e),r(e)}finally{delete o[c.$$timeoutId]}l||e.$apply()},a),c.$$timeoutId=a,o[a]=u,c}var o={};return i.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},i}]}function dt(e,t){var n=e;return Ot&&(Fn.setAttribute("href",n),n=Fn.href),Fn.setAttribute("href",n),{href:Fn.href,protocol:Fn.protocol?Fn.protocol.replace(/:$/,""):"",host:Fn.host,search:Fn.search?Fn.search.replace(/^\?/,""):"",hash:Fn.hash?Fn.hash.replace(/^#/,""):"",hostname:Fn.hostname,port:Fn.port,pathname:"/"===Fn.pathname.charAt(0)?Fn.pathname:"/"+Fn.pathname}}function ft(e){return(e=w(e)?dt(e):e).protocol===Un.protocol&&e.host===Un.host}function pt(){this.$get=m(e)}function ht(e){function t(r,i){if(y(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",gt),t("date",Et),t("filter",mt),t("json",$t),t("limitTo",St),t("lowercase",zn),t("number",vt),t("orderBy",Tt),t("uppercase",Yn)}function mt(){return function(e,t,n){if(!Yt(e))return e;var r=typeof n,i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(e,t){return Wt.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var r in e)if("$"!==r.charAt(0)&&Vt.call(e,r)&&n(e[r],t[r]))return!0;return!1}return t=(""+t).toLowerCase(),-1<(""+e).toLowerCase().indexOf(t)});var o=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if("$"!==r.charAt(0)&&o(e[r],t))return!0}return!1;case"array":for(r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var a in t)!function(e){void 0!==t[e]&&i.push(function(n){return o("$"==e?n:n&&n[e],t[e])})}(a);break;case"function":i.push(t);break;default:return e}for(r=[],a=0;a<e.length;a++){var s=e[a];i.check(s)&&r.push(s)}return r}}function gt(e){var t=e.NUMBER_FORMATS;return function(e,n){return g(n)&&(n=t.CURRENCY_SYM),yt(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function vt(e){var t=e.NUMBER_FORMATS;return function(e,n){return yt(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function yt(e,t,n,r,i){if(null==e||!isFinite(e)||y(e))return"";var o=0>e,a=(e=Math.abs(e))+"",s="",u=[],c=!1;-1!==a.indexOf("e")&&((l=a.match(/([\d\.]+)e(-?)(\d+)/))&&"-"==l[2]&&l[3]>i+1?(a="0",e=0):(s=a,c=!0));if(c)0<i&&-1<e&&1>e&&(s=e.toFixed(i));else{a=(a.split(jn)[1]||"").length,g(i)&&(i=Math.min(Math.max(t.minFrac,a),t.maxFrac)),a=(e=(""+(e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i))).split(jn))[0],e=e[1]||"";var l=0,d=t.lgSize,f=t.gSize;if(a.length>=d+f)for(l=a.length-d,c=0;c<l;c++)0==(l-c)%f&&0!==c&&(s+=n),s+=a.charAt(c);for(c=l;c<a.length;c++)0==(a.length-c)%d&&0!==c&&(s+=n),s+=a.charAt(c);for(;e.length<i;)e+="0";i&&"0"!==i&&(s+=r+e.substr(0,i))}return u.push(o?t.negPre:t.posPre),u.push(s),u.push(o?t.negSuf:t.posSuf),u.join("")}function wt(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Ct(e,t,n,r){return n=n||0,function(i){return i=i["get"+e](),(0<n||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),wt(i,t,r)}}function bt(e,t){return function(n,r){var i=n["get"+e]();return r[Ft(t?"SHORT"+e:e)][i]}}function Et(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,o=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=d(t[9]+t[10]),i=d(t[9]+t[11])),o.call(e,d(t[1]),d(t[2])-1,d(t[3])),r=d(t[4]||0)-r,i=d(t[5]||0)-i,o=d(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),a.call(e,r,i,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i,a,s="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=Wn.test(n)?d(n):t(n)),C(n)&&(n=new Date(n)),!b(n))return n;for(;r;)(a=qn.exec(r))?r=(u=u.concat(Ut.call(a,1))).pop():(u.push(r),r=null);return o(u,function(t){i=Bn[t],s+=i?i(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function $t(){return function(e){return _(e,!0)}}function St(){return function(e,t){if(!Yt(e)&&!w(e))return e;if(t=1/0===Math.abs(Number(t))?Number(t):d(t),w(e))return t?0<=t?e.slice(0,t):e.slice(t,e.length):"";var n,r,i=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),0<t?(n=0,r=t):(n=e.length+t,r=e.length);n<r;n++)i.push(e[n]);return i}}function Tt(e){return function(t,n,r){function i(e,t){return I(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,r=typeof t;return n==r?(b(e)&&b(t)&&(e=e.valueOf(),t=t.valueOf()),"string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:e<t?-1:1):n<r?-1:1}if(!Yt(t)||!n)return t;n=function(e,t,n){var r=[];return o(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r}(n=Yt(n)?n:[n],function(t){var n=!1,r=t||h;if(w(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0),t=t.substring(1)),(r=e(t)).constant)){var o=r();return i(function(e,t){return a(e[o],t[o])},n)}return i(function(e,t){return a(r(e),r(t))},n)});for(var s=[],u=0;u<t.length;u++)s.push(t[u]);return s.sort(i(function(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0},r))}}function kt(e){return E(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function xt(e,t,n,r){function i(t,n){n=n?"-"+B(n,"-"):"",r.removeClass(e,(t?sr:ar)+n),r.addClass(e,(t?ar:sr)+n)}var a=this,s=e.parent().controller("form")||Zn,u=0,c=a.$error={},l=[];a.$name=t.name||t.ngForm,a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,s.$addControl(a),e.addClass(ur),i(!0),a.$addControl=function(e){z(e.$name,"input"),l.push(e),e.$name&&(a[e.$name]=e)},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(c,function(t,n){a.$setValidity(n,!0,e)}),x(l,e)},a.$setValidity=function(e,t,n){var r=c[e];if(t)r&&(x(r,n),r.length||(--u||(i(t),a.$valid=!0,a.$invalid=!1),c[e]=!1,i(!0,e),s.$setValidity(e,!0,a)));else{if(u||i(t),r){if(-1!=k(r,n))return}else c[e]=r=[],u++,i(!1,e),s.$setValidity(e,!1,a);r.push(n),a.$valid=!1,a.$invalid=!0}},a.$setDirty=function(){r.removeClass(e,ur),r.addClass(e,cr),a.$dirty=!0,a.$pristine=!1,s.$setDirty()},a.$setPristine=function(){r.removeClass(e,cr),r.addClass(e,ur),a.$dirty=!1,a.$pristine=!0,o(l,function(e){e.$setPristine()})}}function Pt(e,t,r,i){return e.$setValidity(t,r),r?i:n}function At(e,t){var n;if(t)for(n=0;n<t.length;++n)if(e[t[n]])return!0;return!1}function Mt(e,t,n,i,o,a){var s=t.prop(Lt),u=t[0].placeholder,c={};if(i.$$validityState=s,!o.android){var l=!1;t.on("compositionstart",function(e){l=!0}),t.on("compositionend",function(){l=!1,f()})}var f=function(r){if(!l){var o=t.val();Ot&&"input"===(r||c).type&&t[0].placeholder!==u?u=t[0].placeholder:(I(n.ngTrim||"T")&&(o=Gt(o)),r=s&&i.$$hasNativeValidators,(i.$viewValue!==o||""===o&&r)&&(e.$$phase?i.$setViewValue(o):e.$apply(function(){i.$setViewValue(o)})))}};if(o.hasEvent("input"))t.on("input",f);else{var p,h=function(){p||(p=a.defer(function(){f(),p=null}))};t.on("keydown",function(e){91===(e=e.keyCode)||15<e&&19>e||37<=e&&40>=e||h()}),o.hasEvent("paste")&&t.on("paste cut",h)}t.on("change",f),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)};var m=n.ngPattern;if(m&&((o=m.match(/^\/(.*)\/([gim]*)$/))?(m=RegExp(o[1],o[2]),o=function(e){return Pt(i,"pattern",i.$isEmpty(e)||m.test(e),e)}):o=function(n){var o=e.$eval(m);if(!o||!o.test)throw r("ngPattern")("noregexp",m,o,R(t));return Pt(i,"pattern",i.$isEmpty(n)||o.test(n),n)},i.$formatters.push(o),i.$parsers.push(o)),n.ngMinlength){var g=d(n.ngMinlength);o=function(e){return Pt(i,"minlength",i.$isEmpty(e)||e.length>=g,e)},i.$parsers.push(o),i.$formatters.push(o)}if(n.ngMaxlength){var v=d(n.ngMaxlength);o=function(e){return Pt(i,"maxlength",i.$isEmpty(e)||e.length<=v,e)},i.$parsers.push(o),i.$formatters.push(o)}}function Dt(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){if(!Yt(e)){if(w(e))return e.split(" ");if(y(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}}return e}return{restrict:"AC",link:function(a,s,u){function c(e,t){var n=s.data("$classCounts")||{},r=[];return o(e,function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function l(e){if(!0===t||a.$index%2===t){var o=i(e||[]);if(d){if(!M(e,d)){var l=i(d);f=r(o,l),o=c(o=r(l,o),-1);0===(f=c(f,1)).length?n.removeClass(s,o):0===o.length?n.addClass(s,f):n.setClass(s,f,o)}}else{var f=c(o,1);u.$addClass(f)}}d=A(e)}var d;a.$watch(u[e],l,!0),u.$observe("class",function(t){l(a.$eval(u[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[e]));o===t?(o=c(s,1),u.$addClass(o)):(o=c(s,-1),u.$removeClass(o))}})}}}]}var Ot,_t,Nt,It,Rt,Lt="validity",Ht=function(e){return w(e)?e.toLowerCase():e},Vt=Object.prototype.hasOwnProperty,Ft=function(e){return w(e)?e.toUpperCase():e},Ut=[].slice,jt=[].push,Bt=Object.prototype.toString,qt=r("ng"),Wt=e.angular||(e.angular={}),zt=["0","0","0"];Ot=d((/msie (\d+)/.exec(Ht(navigator.userAgent))||[])[1]),isNaN(Ot)&&(Ot=d((/trident\/.*; rv:(\d+)/.exec(Ht(navigator.userAgent))||[])[1])),p.$inject=[],h.$inject=[];var Yt=E(Array.isArray)?Array.isArray:function(e){return"[object Array]"===Bt.call(e)},Gt=String.prototype.trim?function(e){return w(e)?e.trim():e}:function(e){return w(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e};Rt=9>Ot?function(e){return(e=e.nodeName?e:e[0]).scopeName&&"HTML"!=e.scopeName?Ft(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var Kt=function(){if(v(Kt.isActive_))return Kt.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return Kt.isActive_=e},Zt=/[A-Z]/g,Jt={full:"1.2.22",major:1,minor:2,dot:22,codeName:"finicky-pleasure"};J.expando="ng339";var Xt=J.cache={},Qt=1,en=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},tn=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)};J._data=function(e){return this.cache[e[this.expando]]||{}};var nn=/([\:\-\_]+(.))/g,rn=/^moz([A-Z])/,on=r("jqLite"),an=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,sn=/<|&#?\w+;/,un=/<([\w:]+)/,cn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ln={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ln.optgroup=ln.option,ln.tbody=ln.tfoot=ln.colgroup=ln.caption=ln.thead,ln.th=ln.td;var dn=J.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),J(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return _t(0<=e?this[e]:this[this.length+e])},length:0,push:jt,sort:[].sort,splice:[].splice},fn={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){fn[Ht(e)]=e});var pn={};o("input select option textarea button form details".split(" "),function(e){pn[Ft(e)]=!0}),o({data:re,removeData:te},function(e,t){J[t]=e}),o({data:re,inheritedData:ce,scope:function(e){return _t.data(e,"$scope")||ce(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return _t.data(e,"$isolateScope")||_t.data(e,"$isolateScopeNoTemplate")},controller:ue,injector:function(e){return ce(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:ie,css:function(e,t,r){var i;if(t=K(t),!v(r))return 8>=Ot&&(""===(i=e.currentStyle&&e.currentStyle[t])&&(i="auto")),i=i||e.style[t],8>=Ot&&(i=""===i?n:i),i;e.style[t]=r},attr:function(e,t,r){var i=Ht(t);if(fn[i]){if(!v(r))return e[t]||(e.attributes.getNamedItem(t)||p).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(v(r))e.setAttribute(t,r);else if(e.getAttribute)return null===(e=e.getAttribute(t,2))?n:e},prop:function(e,t,n){if(!v(n))return e[t];e[t]=n},text:function(){function e(e,n){var r=t[e.nodeType];if(g(n))return r?e[r]:"";e[r]=n}var t=[];return 9>Ot?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(g(t)){if("SELECT"===Rt(e)&&e.multiple){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(g(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)Q(r[n]);e.innerHTML=t},empty:le},function(e,t){J.prototype[t]=function(t,r){var i,o,a=this.length;if(e!==le&&(2==e.length&&e!==ie&&e!==ue?t:r)===n){if(y(t)){for(i=0;i<a;i++)if(e===re)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(a=(i=e.$dv)===n?Math.min(a,1):a,o=0;o<a;o++){var s=e(this[o],t,r);i=i?i+s:s}return i}for(i=0;i<a;i++)e(this[i],t,r);return this}}),o({removeData:te,dealoc:Q,on:function e(n,r,i,a){if(v(a))throw on("onargs");var s=ne(n,"events"),u=ne(n,"handle");s||ne(n,"events",s={}),u||ne(n,"handle",u=function(e,n){var r=function(r,i){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t),g(r.defaultPrevented)){var a=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,a.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||!1===r.returnValue},o(A(n[i||r.type]||[]),function(t){t.call(e,r)}),8>=Ot?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}(n,s)),o(r.split(" "),function(r){var o=s[r];if(!o){if("mouseenter"==r||"mouseleave"==r){var a=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};s[r]=[],e(n,{mouseleave:"mouseout",mouseenter:"mouseover"}[r],function(e){var t=e.relatedTarget;t&&(t===this||a(this,t))||u(e,r)})}else en(n,r,u),s[r]=[];o=s[r]}o.push(i)})},off:ee,one:function(e,t,n){(e=_t(e)).on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Q(e),o(new J(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){o(new J(t),function(t){1!==e.nodeType&&11!==e.nodeType||e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;o(new J(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=_t(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){Q(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;o(new J(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:ae,removeClass:oe,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;g(r)&&(r=!ie(e,t)),(r?ae:oe)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(e=e.nextSibling;null!=e&&1!==e.nodeType;)e=e.nextSibling;return e},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:X,triggerHandler:function(e,t,n){var r,i;r=t.type||t;var a=(ne(e,"events")||{})[r];a&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopPropagation:p,type:r,target:e},t.type&&(r=l(r,t)),t=A(a),i=n?[r].concat(n):[r],o(t,function(t){t.apply(e,i)}))}},function(e,t){J.prototype[t]=function(t,n,r){for(var i,o=0;o<this.length;o++)g(i)?v(i=e(this[o],t,n,r))&&(i=_t(i)):se(i,e(this[o],t,n,r));return v(i)?i:this},J.prototype.bind=J.prototype.on,J.prototype.unbind=J.prototype.off}),pe.prototype={put:function(e,t){this[fe(e,this.nextUid)]=t},get:function(e){return this[fe(e,this.nextUid)]},remove:function(e){var t=this[e=fe(e,this.nextUid)];return delete this[e],t}};var hn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,mn=/,/,gn=/^\s*(_?)(\S+?)\1\s*$/,vn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,yn=r("$injector"),wn=r("$animate"),Cn=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw wn("notcsel",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){return{enter:function(e,n,r,i){r?r.after(e):(n&&n[0]||(n=r.parent()),n.append(e)),i&&t(i)},leave:function(e,n){e.remove(),n&&t(n)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(e,n,r){n=w(n)?n:Yt(n)?n.join(" "):"",o(e,function(e){ae(e,n)}),r&&t(r)},removeClass:function(e,n,r){n=w(n)?n:Yt(n)?n.join(" "):"",o(e,function(e){oe(e,n)}),r&&t(r)},setClass:function(e,n,r,i){o(e,function(e){ae(e,n),oe(e,r)}),i&&t(i)},enabled:p}}]}],bn=r("$compile");Ee.$inject=["$provide","$$sanitizeUriProvider"];var En=/^(x[\:\-_]|data[\:\-_])/i,$n=r("$interpolate"),Sn=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Tn={http:80,https:443,ftp:21},kn=r("$location");We.prototype=qe.prototype=Be.prototype={$$html5:!1,$$replace:!1,absUrl:ze("$$absUrl"),url:function(e,t){if(g(e))return this.$$url;var n=Sn.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:ze("$$protocol"),host:ze("$$host"),port:ze("$$port"),path:Ye("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e))this.$$search=H(e);else{if(!y(e))throw kn("isrcharg");o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:g(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ye("$$hash",h),replace:function(){return this.$$replace=!0,this}};var xn,Pn=r("$parse"),An={},Mn=Function.prototype.call,Dn=Function.prototype.apply,On=Function.prototype.bind,_n={null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:p,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),v(r)?v(i)?r+i:r:v(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(v(n)?n:0)-(v(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":p,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Nn={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},In=function(e){this.options=e};In.prototype={constructor:In,lex:function(e){for(this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=(e=this.ch+this.peek())+this.peek(2),r=_n[this.ch],i=_n[e],o=_n[t];o?(this.tokens.push({index:this.index,text:t,fn:o}),this.index+=3):i?(this.tokens.push({index:this.index,text:e,fn:i}),this.index+=2):r?(this.tokens.push({index:this.index,text:this.ch,fn:r}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdent:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,Pn("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Ht(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e*=1,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,r,i=this,o="",a=this.index;this.index<this.text.length&&("."===(r=this.text.charAt(this.index))||this.isIdent(r)||this.isNumber(r));)"."===r&&(e=this.index),o+=r,this.index++;if(e)for(t=this.index;t<this.text.length;){if("("===(r=this.text.charAt(t))){n=o.substr(e-a+1),o=o.substr(0,e-a),this.index=t;break}if(!this.isWhitespace(r))break;t++}if(a={index:a,text:o},_n.hasOwnProperty(o))a.fn=_n[o],a.literal=!0,a.constant=!0;else{var s=et(o,this.options,this.text);a.fn=l(function(e,t){return s(e,t)},{assign:function(e,t){return Xe(e,o,t,i.text,i.options)}})}this.tokens.push(a),n&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:n}))},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);r=r+o;if(i)"u"===o?((i=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=Nn[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,string:n,literal:!0,constant:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Rn=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};Rn.ZERO=l(function(){return 0},{constant:!0}),Rn.prototype={constructor:Rn,parse:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var e,t;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var n=this.expect();(e=n.fn)||this.throwError("not a primary expression",n),e.literal=!!n.literal,e.constant=!!n.constant}for(;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,t),t=null):"["===n.text?(t=e,e=this.objectIndex(e)):"."===n.text?(t=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw Pn("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw Pn("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(0<this.tokens.length){var i=this.tokens[0],o=i.text;if(o===e||o===t||o===n||o===r||!(e||t||n||r))return i}return!1},expect:function(e,t,n,r){return!!(e=this.peek(e,t,n,r))&&(this.tokens.shift(),e)},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return l(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return l(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return l(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0;i<e.length;i++){var o=e[i];o&&(r=o(t,n))}return r}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var r=function(e,r,i){i=[i];for(var o=0;o<n.length;o++)i.push(n[o](e,r));return t.apply(e,i)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,r){return n.assign(t,e(t,r),r)}):n},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")?(e=this.assignment(),(t=this.expect(":"))?this.ternaryFn(n,e,this.assignment()):void this.throwError("expected :",t)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(Rn.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=et(n,this.options,this.text);return l(function(t,n,i){return r(i||e(t,n))},{assign:function(r,i,o){return(o=e(r,o))||e.assign(r,o={}),Xe(o,n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();return this.consume("]"),l(function(i,o){var a,s=e(i,o),u=r(i,o);return Ze(u,t.text),s?((s=Je(s[u],t.text))&&s.then&&t.options.unwrapPromises&&(a=s,"$$v"in s||(a.$$v=n,a.then(function(e){a.$$v=e})),s=s.$$v),s):n},{assign:function(n,i,o){var a=Ze(r(n,o),t.text);return(o=Je(e(n,o),t.text))||e.assign(n,o={}),o[a]=i}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do{n.push(this.expression())}while(this.expect(","));this.consume(")");var r=this;return function(i,o){for(var a=[],s=t?t(i,o):i,u=0;u<n.length;u++)a.push(n[u](i,o));u=e(i,o,s)||p,Je(s,r.text);var c=r.text;if(u){if(u.constructor===u)throw Pn("isecfn",c);if(u===Mn||u===Dn||On&&u===On)throw Pn("isecff",c)}return Je(a=u.apply?u.apply(s,a):u(a[0],a[1],a[2],a[3],a[4]),r.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),l(function(t,n){for(var r=[],i=0;i<e.length;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=(n=this.expect()).string||n.text;this.consume(":");var r=this.expression();e.push({key:n,value:r}),r.constant||(t=!1)}while(this.expect(","));return this.consume("}"),l(function(t,n){for(var r={},i=0;i<e.length;i++){var o=e[i];r[o.key]=o.value(t,n)}return r},{literal:!0,constant:t})}};var Ln={},Hn=r("$sce"),Vn={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Fn=t.createElement("a"),Un=dt(e.location.href);ht.$inject=["$provide"],gt.$inject=["$locale"],vt.$inject=["$locale"];var jn=".",Bn={yyyy:Ct("FullYear",4),yy:Ct("FullYear",2,0,!0),y:Ct("FullYear",1),MMMM:bt("Month"),MMM:bt("Month",!0),MM:Ct("Month",2,1),M:Ct("Month",1,1),dd:Ct("Date",2),d:Ct("Date",1),HH:Ct("Hours",2),H:Ct("Hours",1),hh:Ct("Hours",2,-12),h:Ct("Hours",1,-12),mm:Ct("Minutes",2),m:Ct("Minutes",1),ss:Ct("Seconds",2),s:Ct("Seconds",1),sss:Ct("Milliseconds",3),EEEE:bt("Day"),EEE:bt("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){return(0<=(e=-1*e.getTimezoneOffset())?"+":"")+(wt(Math[0<e?"floor":"ceil"](e/60),2)+wt(Math.abs(e%60),2))}},qn=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Wn=/^\-?\d+$/;Et.$inject=["$locale"];var zn=m(Ht),Yn=m(Ft);Tt.$inject=["$parse"];var Gn=m({restrict:"E",compile:function(e,n){if(8>=Ot&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),!n.href&&!n.xlinkHref&&!n.name)return function(e,t){var n="[object SVGAnimatedString]"===Bt.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Kn={};o(fn,function(e,t){if("multiple"!=e){var n=$e("ng-"+t);Kn[n]=function(){return{priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),o(["src","srcset","href"],function(e){var t=$e("ng-"+e);Kn[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Bt.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(e){e&&(i.$set(a,e),Ot&&o&&r.prop(o,i[a]))})}}}});var Zn={$addControl:p,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p};xt.$inject=["$element","$attrs","$scope","$animate"];var Jn=function(e){return["$timeout",function(t){return{name:"form",restrict:e?"EAC":"E",controller:xt,compile:function(){return{pre:function(e,r,i,o){if(!i.action){var a=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};en(r[0],"submit",a),r.on("$destroy",function(){t(function(){tn(r[0],"submit",a)},0,!1)})}var s=r.parent().controller("form"),u=i.name||i.ngForm;u&&Xe(e,u,o,u),s&&r.on("$destroy",function(){s.$removeControl(o),u&&Xe(e,u,n,u),l(o,Zn)})}}}}}]},Xn=Jn(),Qn=Jn(!0),er=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,tr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,nr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,rr={text:Mt,number:function(e,t,r,i,o,a){Mt(e,t,r,i,o,a),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||nr.test(e)?(i.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),function(e,t,n,r,i){y(i)&&(e.$$hasNativeValidators=!0,e.$parsers.push(function(o){if(e.$error[t]||At(i,r)||!At(i,n))return o;e.$setValidity(t,!1)}))}(i,"number",ir,null,i.$$validityState),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e}),r.min&&(e=function(e){var t=parseFloat(r.min);return Pt(i,"min",i.$isEmpty(e)||e>=t,e)},i.$parsers.push(e),i.$formatters.push(e)),r.max&&(e=function(e){var t=parseFloat(r.max);return Pt(i,"max",i.$isEmpty(e)||e<=t,e)},i.$parsers.push(e),i.$formatters.push(e)),i.$formatters.push(function(e){return Pt(i,"number",i.$isEmpty(e)||C(e),e)})},url:function(e,t,n,r,i,o){Mt(e,t,n,r,i,o),e=function(e){return Pt(r,"url",r.$isEmpty(e)||er.test(e),e)},r.$formatters.push(e),r.$parsers.push(e)},email:function(e,t,n,r,i,o){Mt(e,t,n,r,i,o),e=function(e){return Pt(r,"email",r.$isEmpty(e)||tr.test(e),e)},r.$formatters.push(e),r.$parsers.push(e)},radio:function(e,t,n,r){g(n.name)&&t.attr("name",u()),t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r){var i=n.ngTrueValue,o=n.ngFalseValue;w(i)||(i=!0),w(o)||(o=!1),t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:o})},hidden:p,button:p,submit:p,reset:p,file:p},ir=["badInput"],or=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,i,o){o&&(rr[Ht(i.type)]||rr.text)(n,r,i,o,t,e)}}}],ar="ng-valid",sr="ng-invalid",ur="ng-pristine",cr="ng-dirty",lr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,i,a,s){function u(e,t){t=t?"-"+B(t,"-"):"",s.removeClass(i,(e?sr:ar)+t),s.addClass(i,(e?ar:sr)+t)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=a(n.ngModel),l=c.assign;if(!l)throw r("ngModel")("nonassign",n.ngModel,R(i));this.$render=p,this.$isEmpty=function(e){return g(e)||""===e||null===e||e!=e};var d=i.inheritedData("$formController")||Zn,f=0,h=this.$error={};i.addClass(ur),u(!0),this.$setValidity=function(e,t){h[e]!==!t&&(t?(h[e]&&f--,f||(u(!0),this.$valid=!0,this.$invalid=!1)):(u(!1),this.$invalid=!0,this.$valid=!1,f++),h[e]=!t,u(t,e),d.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,s.removeClass(i,cr),s.addClass(i,ur)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,s.removeClass(i,ur),s.addClass(i,cr),d.$setDirty()),o(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,l(e,n),o(this.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}}))};var m=this;e.$watch(function(){var t=c(e);if(m.$modelValue!==t){var n=m.$formatters,r=n.length;for(m.$modelValue=t;r--;)t=n[r](t);m.$viewValue!==t&&(m.$viewValue=t,m.$render())}return t})}],dr=function(){return{require:["ngModel","^?form"],controller:lr,link:function(e,t,n,r){var i=r[0],o=r[1]||Zn;o.$addControl(i),e.$on("$destroy",function(){o.$removeControl(i)})}}},fr=m({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),pr=function(){return{require:"?ngModel",link:function(e,t,n,r){if(r){n.required=!0;var i=function(e){if(!n.required||!r.$isEmpty(e))return r.$setValidity("required",!0),e;r.$setValidity("required",!1)};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}}},hr=function(){return{require:"ngModel",link:function(e,t,r,i){var a=(e=/\/(.*)\//.exec(r.ngList))&&RegExp(e[1])||r.ngList||",";i.$parsers.push(function(e){if(!g(e)){var t=[];return e&&o(e.split(a),function(e){e&&t.push(Gt(e))}),t}}),i.$formatters.push(function(e){return Yt(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},mr=/^(true|false|\d+)$/,gr=function(){return{priority:100,compile:function(e,t){return mr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},vr=kt({compile:function(e){return e.addClass("ng-binding"),function(e,t,r){t.data("$binding",r.ngBind),e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}}}),yr=["$interpolate",function(e){return function(t,n,r){t=e(n.attr(r.$attr.ngBindTemplate)),n.addClass("ng-binding").data("$binding",t),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],wr=["$sce","$parse",function(e,t){return{compile:function(n){return n.addClass("ng-binding"),function(n,r,i){r.data("$binding",i.ngBindHtml);var o=t(i.ngBindHtml);n.$watch(function(){return(o(n)||"").toString()},function(t){r.html(e.getTrustedHtml(o(n))||"")})}}}}],Cr=Dt("",!0),br=Dt("Odd",0),Er=Dt("Even",1),$r=kt({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Sr=[function(){return{scope:!0,controller:"@",priority:500}}],Tr={};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=$e("ng-"+e);Tr[t]=["$parse",function(n){return{compile:function(r,i){var o=n(i[t]);return function(t,n){n.on(Ht(e),function(e){t.$apply(function(){o(t,{$event:e})})})}}}}]});var kr=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(o){I(o)?u||(u=n.$new(),a(u,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)})):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=G(s.clone),e.leave(c,function(){c=null}),s=null))})}}}],xr=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Wt.noop,compile:function(o,a){var s=a.ngInclude||a.src,u=a.onload||"",c=a.autoscroll;return function(o,a,l,d,f){var p,h,m,g=0,y=function(){h&&(h.remove(),h=null),p&&(p.$destroy(),p=null),m&&(r.leave(m,function(){h=null}),h=m,m=null)};o.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!v(c)||c&&!o.$eval(c)||n()},l=++g;i?(e.get(i,{cache:t}).success(function(e){if(l===g){var t=o.$new();d.template=e,e=f(t,function(e){y(),r.enter(e,null,a,s)}),m=e,(p=t).$emit("$includeContentLoaded"),o.$eval(u)}}).error(function(){l===g&&y()}),o.$emit("$includeContentRequested")):(y(),d.template=null)})}}}}],Pr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,r,i){n.html(i.template),e(n.contents())(t)}}}],Ar=kt({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Mr=kt({terminal:!0,priority:1e3}),Dr=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,a){var s=a.count,u=a.$attr.when&&i.attr(a.$attr.when),c=a.offset||0,l=r.$eval(u)||{},d={},f=t.startSymbol(),p=t.endSymbol(),h=/^when(Minus)?(.+)$/;o(a,function(e,t){h.test(t)&&(l[Ht(t.replace("when","").replace("Minus","-"))]=i.attr(a.$attr[t]))}),o(l,function(e,r){d[r]=t(e.replace(n,f+s+"-"+c+p))}),r.$watch(function(){var t=parseFloat(r.$eval(s));return isNaN(t)?"":(t in l||(t=e.pluralCat(t-c)),d[t](r,i,!0))},function(e){i.text(e)})}}}],Or=["$parse","$animate",function(e,n){var a=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,s,u,c,l){var d,f,p,h,m,g,v=u.ngRepeat,y=v.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),w={$id:fe};if(!y)throw a("iexp",v);if(u=y[1],c=y[2],(y=y[3])?(d=e(y),f=function(e,t,n){return g&&(w[g]=e),w[m]=t,w.$index=n,d(r,w)}):(p=function(e,t){return fe(t)},h=function(e){return e}),!(y=u.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/)))throw a("iidexp",u);m=y[3]||y[1],g=y[2];var C={};r.$watchCollection(c,function(e){var u,c,d,y,w,b,E,$,S,T=s[0],k={},x=[];if(i(e))$=e,d=f||p;else{for(b in d=f||h,$=[],e)e.hasOwnProperty(b)&&"$"!=b.charAt(0)&&$.push(b);$.sort()}for(y=$.length,c=x.length=$.length,u=0;u<c;u++)if(z(E=d(b=e===$?u:$[u],E=e[b],u),"`track by` id"),C.hasOwnProperty(E))S=C[E],delete C[E],k[E]=S,x[u]=S;else{if(k.hasOwnProperty(E))throw o(x,function(e){e&&e.scope&&(C[e.id]=e)}),a("dupes",v,E);x[u]={id:E},k[E]=!1}for(b in C)C.hasOwnProperty(b)&&(u=G((S=C[b]).clone),n.leave(u),o(u,function(e){e.$$NG_REMOVED=!0}),S.scope.$destroy());for(u=0,c=$.length;u<c;u++){if(E=e[b=e===$?u:$[u]],S=x[u],x[u-1]&&(T=x[u-1].clone[x[u-1].clone.length-1]),S.scope){w=S.scope,d=T;do{d=d.nextSibling}while(d&&d.$$NG_REMOVED);S.clone[0]!=d&&n.move(G(S.clone),null,_t(T)),T=S.clone[S.clone.length-1]}else w=r.$new();w[m]=E,g&&(w[g]=b),w.$index=u,w.$first=0===u,w.$last=u===y-1,w.$middle=!(w.$first||w.$last),w.$odd=!(w.$even=0==(1&u)),S.scope||l(w,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+v+" "),n.enter(e,null,_t(T)),T=e,S.scope=w,S.clone=e,k[S.id]=S})}C=k})}}}],_r=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(t){e[I(t)?"removeClass":"addClass"](n,"ng-hide")})}}],Nr=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(t){e[I(t)?"addClass":"removeClass"](n,"ng-hide")})}}],Ir=kt(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Rr=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var a=[],s=[],u=[],c=[];t.$watch(r.ngSwitch||r.on,function(n){var l,d;for(l=0,d=u.length;l<d;++l)u[l].remove();for(l=u.length=0,d=c.length;l<d;++l){var f=s[l];c[l].$destroy(),u[l]=f,e.leave(f,function(){u.splice(l,1)})}s.length=0,c.length=0,(a=i.cases["!"+n]||i.cases["?"])&&(t.$eval(r.change),o(a,function(n){var r=t.$new();c.push(r),n.transclude(r,function(t){var r=n.element;s.push(t),e.enter(t,r.parent(),r)})}))})}}}],Lr=kt({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Hr=kt({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Vr=kt({link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan",R(t));o(function(e){t.empty(),t.append(e)})}}),Fr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Ur=r("ngOptions"),jr=m({terminal:!0}),Br=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i=this,o={},a=s;i.databound=n.ngModel,i.init=function(e,t,n){a=e,r=n},i.addOption=function(t){z(t,'"option value"'),o[t]=!0,a.$viewValue==t&&(e.val(t),r.parent()&&r.remove())},i.removeOption=function(e){this.hasOption(e)&&(delete o[e],a.$viewValue==e&&this.renderUnknownOption(e))},i.renderUnknownOption=function(t){t="? "+fe(t)+" ?",r.val(t),e.prepend(r),e.val(t),r.prop("selected",!0)},i.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){i.renderUnknownOption=p})}],link:function(s,u,c,l){if(l[1]){var d=l[0];l=l[1];var f,p=c.multiple,h=c.ngOptions,m=!1,y=_t(t.createElement("option")),w=_t(t.createElement("optgroup")),C=y.clone();c=0;for(var b=u.children(),E=b.length;c<E;c++)if(""===b[c].value){f=m=b.eq(c);break}d.init(l,m,C),p&&(l.$isEmpty=function(e){return!e||0===e.length}),h?function(t,o,s){function u(){var e,n,r,i,u,c={"":[]},h=[""];r=s.$modelValue,i=b(t)||[];var S,T,k,x,P,A=f?a(i):i;if(T={},k=!1,p)if(n=s.$modelValue,E&&Yt(n))for(k=new pe([]),e={},u=0;u<n.length;u++)e[d]=n[u],k.put(E(t,e),n[u]);else k=new pe(n);for(u=k,k=0;k<(S=A.length);k++){if(n=k,f){if("$"===(n=A[k]).charAt(0))continue;T[f]=n}T[d]=i[n],(n=c[e=g(t,T)||""])||(n=c[e]=[],h.push(e)),p?e=v(u.remove(E?E(t,T):C(t,T))):(E?((e={})[d]=r,e=E(t,e)===E(t,T)):e=r===C(t,T),u=u||e),x=v(x=l(t,T))?x:"",n.push({id:E?E(t,T):f?A[k]:k,label:x,selected:e})}for(p||(m||null===r?c[""].unshift({id:"",label:"",selected:!u}):u||c[""].unshift({id:"?",label:"",selected:!0})),T=0,A=h.length;T<A;T++){for(n=c[e=h[T]],$.length<=T?(i=[r={element:w.clone().attr("label",e),label:n.label}],$.push(i),o.append(r.element)):(r=(i=$[T])[0]).label!=e&&r.element.attr("label",r.label=e),x=null,k=0,S=n.length;k<S;k++)e=n[k],(u=i[k+1])?(x=u.element,u.label!==e.label&&x.text(u.label=e.label),u.id!==e.id&&x.val(u.id=e.id),x[0].selected!==e.selected&&(x.prop("selected",u.selected=e.selected),Ot&&x.prop("selected",u.selected))):(""===e.id&&m?P=m:(P=y.clone()).val(e.id).prop("selected",e.selected).attr("selected",e.selected).text(e.label),i.push({element:P,label:e.label,id:e.id,selected:e.selected}),x?x.after(P):r.element.append(P),x=P);for(k++;i.length>k;)i.pop().element.remove()}for(;$.length>T;)$.pop()[0].element.remove()}var c;if(!(c=h.match(i)))throw Ur("iexp",h,R(o));var l=r(c[2]||c[1]),d=c[4]||c[6],f=c[5],g=r(c[3]||""),C=r(c[2]?c[1]:d),b=r(c[7]),E=c[8]?r(c[8]):null,$=[[{element:o,label:""}]];m&&(e(m)(t),m.removeClass("ng-scope"),m.remove()),o.empty(),o.on("change",function(){t.$apply(function(){var e,r,i,a,c,l,h,m,g=b(t)||[],v={};if(p){for(i=[],c=0,h=$.length;c<h;c++)for(a=1,l=(e=$[c]).length;a<l;a++)if((r=e[a].element)[0].selected){if(r=r.val(),f&&(v[f]=r),E)for(m=0;m<g.length&&(v[d]=g[m],E(t,v)!=r);m++);else v[d]=g[r];i.push(C(t,v))}}else if("?"==(r=o.val()))i=n;else if(""===r)i=null;else if(E){for(m=0;m<g.length;m++)if(v[d]=g[m],E(t,v)==r){i=C(t,v);break}}else v[d]=g[r],f&&(v[f]=r),i=C(t,v);s.$setViewValue(i),u()})}),s.$render=u,t.$watchCollection(b,u),p&&t.$watchCollection(function(){return s.$modelValue},u)}(s,u,l):p?function(e,t,n){var r;n.$render=function(){var e=new pe(n.$viewValue);o(t.find("option"),function(t){t.selected=v(e.get(t.value))})},e.$watch(function(){M(r,n.$viewValue)||(r=A(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}(s,u,l):function(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(C.parent()&&C.remove(),t.val(e),""===e&&f.prop("selected",!0)):g(e)&&f?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(t.val())})})}(s,u,l,d)}}}}],qr=["$interpolate",function(e){var t={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,r){if(g(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o=n.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.databound?n.prop("selected",!1):a=t,i?e.$watch(i,function(e,t){r.$set("value",e),e!==t&&a.removeOption(t),a.addOption(e)}):a.addOption(r.value),n.on("$destroy",function(){a.removeOption(r.value)})}}}}],Wr=m({restrict:"E",terminal:!0});e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((Nt=e.jQuery)&&Nt.fn.on?(_t=Nt,l(Nt.fn,{scope:dn.scope,isolateScope:dn.isolateScope,controller:dn.controller,injector:dn.injector,inheritedData:dn.inheritedData}),Z("remove",!0,!0,!1),Z("empty",!1,!1,!1),Z("html",!1,!1,!0)):_t=J,Wt.element=_t,function(t){l(t,{bootstrap:j,copy:P,extend:l,equals:M,element:_t,forEach:o,injector:me,noop:p,bind:D,toJson:_,fromJson:N,identity:h,isUndefined:g,isDefined:v,isString:w,isFunction:E,isObject:y,isNumber:C,isElement:T,isArray:Yt,version:Jt,isDate:b,lowercase:Ht,uppercase:Ft,callbacks:{counter:0},$$minErr:r,$$csp:Kt}),It=function(e){var t=r("$injector"),n=r("ng");return(e=e.angular||(e.angular={})).$$minErr=e.$$minErr||r,e.module||(e.module=function(){var e={};return function(r,i,o){if("hasOwnProperty"===r)throw n("badname","module");return i&&e.hasOwnProperty(r)&&(e[r]=null),e[r]||(e[r]=function(){function e(e,t,r){return function(){return n[r||"push"]([e,t,arguments]),u}}if(!i)throw t("nomod",r);var n=[],a=[],s=e("$injector","invoke"),u={_invokeQueue:n,_runBlocks:a,requires:i,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return a.push(e),this}};return o&&s(o),u}())}}())}(e);try{It("ngLocale")}catch(e){It("ngLocale",[]).provider("$locale",Re)}It("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:ot}),e.provider("$compile",Ee).directive({a:Gn,input:or,textarea:or,form:Xn,script:Fr,select:Br,style:Wr,option:qr,ngBind:vr,ngBindHtml:wr,ngBindTemplate:yr,ngClass:Cr,ngClassEven:Er,ngClassOdd:br,ngCloak:$r,ngController:Sr,ngForm:Qn,ngHide:Nr,ngIf:kr,ngInclude:xr,ngInit:Ar,ngNonBindable:Mr,ngPluralize:Dr,ngRepeat:Or,ngShow:_r,ngStyle:Ir,ngSwitch:Rr,ngSwitchWhen:Lr,ngSwitchDefault:Hr,ngOptions:jr,ngTransclude:Vr,ngModel:dr,ngList:hr,ngChange:fr,required:pr,ngRequired:pr,ngValue:gr}).directive({ngInclude:Pr}).directive(Kn).directive(Tr),e.provider({$anchorScroll:ge,$animate:Cn,$browser:we,$cacheFactory:Ce,$controller:Te,$document:ke,$exceptionHandler:xe,$filter:ht,$interpolate:Ne,$interval:Ie,$http:De,$httpBackend:_e,$location:Ge,$log:Ke,$parse:tt,$rootScope:it,$q:nt,$sce:ut,$sceDelegate:st,$sniffer:ct,$templateCache:be,$timeout:lt,$window:pt,$$rAF:rt,$$asyncCallback:ve})}])}(Wt),_t(t).ready(function(){!function(e,n){function r(e){e&&s.push(e)}var i,a,s=[e],u=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;o(u,function(n){u[n]=!0,r(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(o(e.querySelectorAll("."+n),r),o(e.querySelectorAll("."+n+"\\:"),r),o(e.querySelectorAll("["+n+"]"),r))}),o(s,function(e){if(!i){var t=c.exec(" "+e.className+" ");t?(i=e,a=(t[2]||"").replace(/\s+/g,",")):o(e.attributes,function(t){!i&&u[t.name]&&(i=e,a=t.value)})}}),i&&n(i,a?[a]:[])}(t,j)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),function(e,t,n){"use strict";function r(e){var t,n={};for(e=e.split(","),t=0;t<e.length;t++)n[e[t]]=!0;return n}function i(e){if(!e)return"";var t=x.exec(e);e=t[1];var n=t[3];return(t=t[2])&&(k.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in k?k.textContent:k.innerText),e+t+n}function o(e){return e.replace(/&/g,"&amp;").replace(g,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+((e=e.charCodeAt(1))-56320)+65536)+";"}).replace(v,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,a,s){e=t.lowercase(e),!r&&E[e]&&(r=e),r||!0!==$[e]||(i("<"),i(e),t.forEach(a,function(r,a){var s=t.lowercase(a),u="img"===e&&"src"===s||"background"===s;!0!==T[s]||!0===S[s]&&!n(r,u)||(i(" "),i(a),i('="'),i(o(r)),i('"'))}),i(s?"/>":">"))},end:function(e){e=t.lowercase(e),r||!0!==$[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(o(e))}}}var s=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,c=/^<\/\s*([\w:-]+)[^>]*>/,l=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,d=/^</,f=/^<\//,p=/\x3c!--(.*?)--\x3e/g,h=/<!DOCTYPE([^>]*?)>/i,m=/<!\[CDATA\[(.*?)]]\x3e/g,g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/([^\#-~| |!])/g,y=r("area,br,col,hr,img,wbr");e=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=r("rp,rt");var w=t.extend({},n,e),C=t.extend({},e,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),b=t.extend({},n,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=r("script,style"),$=t.extend({},y,C,b,w),S=r("background,cite,href,longdesc,src,usemap"),T=t.extend({},S,r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),k=document.createElement("pre"),x=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(n){var r=[];return function(e,n){function r(e,r,a,s){if(r=t.lowercase(r),C[r])for(;$.last()&&b[$.last()];)o(0,$.last());w[r]&&$.last()==r&&o(0,r),(s=y[r]||!!s)||$.push(r);var u={};a.replace(l,function(e,t,n,r,o){u[t]=i(n||r||o||"")}),n.start&&n.start(r,u,s)}function o(e,r){var i,o=0;if(r=t.lowercase(r))for(o=$.length-1;0<=o&&$[o]!=r;o--);if(0<=o){for(i=$.length-1;i>=o;i--)n.end&&n.end($[i]);$.length=o}}"string"!=typeof e&&(e=null==e?"":""+e);var a,g,v,$=[],S=e;for($.last=function(){return $[$.length-1]};e;){if(v="",g=!0,$.last()&&E[$.last()]?(e=e.replace(RegExp("(.*)<\\s*\\/\\s*"+$.last()+"[^>]*>","i"),function(e,t){return t=t.replace(p,"$1").replace(m,"$1"),n.chars&&n.chars(i(t)),""}),o(0,$.last())):(0===e.indexOf("\x3c!--")?0<=(a=e.indexOf("--",4))&&e.lastIndexOf("--\x3e",a)===a&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),g=!1):h.test(e)?(a=e.match(h))&&(e=e.replace(a[0],""),g=!1):f.test(e)?(a=e.match(c))&&(e=e.substring(a[0].length),a[0].replace(c,o),g=!1):d.test(e)&&((a=e.match(u))?(a[4]&&(e=e.substring(a[0].length),a[0].replace(u,r)),g=!1):(v+="<",e=e.substring(1))),g&&(v+=0>(a=e.indexOf("<"))?e:e.substring(0,a),e=0>a?"":e.substring(a),n.chars&&n.chars(i(v)))),e==S)throw s("badparse",e);S=e}o()}(n,a(r,function(t,n){return!/^unsafe/.test(e(t,n))})),r.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,r=/^mailto:/;return function(i,o){function s(e){e&&p.push(function(e){var n=[];return a(n,t.noop).chars(e),n.join("")}(e))}function u(e,n){p.push("<a "),t.isDefined(o)&&(p.push('target="'),p.push(o),p.push('" ')),p.push('href="'),p.push(e),p.push('">'),s(n),p.push("</a>")}if(!i)return i;for(var c,l,d,f=i,p=[];c=f.match(n);)l=c[0],c[2]==c[3]&&(l="mailto:"+l),d=c.index,s(f.substr(0,d)),u(l,c[0].replace(r,"")),f=f.substring(d+c[0].length);return s(f),e(p.join(""))}}])}(window,window.angular),function(){"use strict";var e="placeholder"in document.createElement("input"),t=angular.module("html5.placeholder",[]),n=function(e,t){var n=e.getAttributeNode(t);return n?n.nodeValue:n};t.factory("placeholder",function(){var t;if(e)t=function(e,t){t&&t({back:function(){}})};else{var r="placeholderTmp"+ +new Date,i={commit:function(e){angular.forEach(e,function(e){var t,i=angular.element(e);t=n(e,"placeholder"),i.val()==t&&(i.data(r,i.val()),i.val(""))})},doRollback:function(e){angular.forEach(e,function(e){var t,n=angular.element(e);(t=n.data(r))&&(n.val(t),n.data(r,null))})}};t=function(e,t){var n;e.length&&"form"==e[0].tagName.toLowerCase()?(n=e.find("input"),n=function(e,t){return angular.forEach(t,function(t){e.push(t)}),e}(e.find("textarea"),n)):n=e,i.commit(n),t&&t({back:function(){i.doRollback(n)}})}}return{ensure:t}}),e||t.directive("placeholder",[function(){var e,t,r,i,o="_placeholder_"+ +new Date,a="focus",s="blur",u=/msie 9/i.test(navigator.userAgent);return r=function(e){"password"==e.data(o).type&&e.attr("type","text")},i=function(e){"password"==e.data(o).type&&e.attr("type","password")},e=function(){var e=angular.element(this);e.val()==n(this,"placeholder")&&(e.val(""),i(e))},t=function(){var e=angular.element(this);""==e.val()&&(e.val(n(this,"placeholder")),r(e))},{link:function(n,c,l){n.$watch("ready",function(){return"password"!=c.attr("type")||u?(c.val(l.placeholder).data(o,{type:(c.attr("type")||"").toLowerCase()}).bind(a,e).bind(s,t),r(c),void n.$on("$destroy",function(){c.unbind(a,e).unbind(s,t),i(c)})):{}})}}}])}(),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,n){var r,i={},o={},a=!1,s=t.copy,u=t.isUndefined;return n.addPollFn(function(){var t=n.cookies();r!=t&&(r=t,s(t,o),s(t,i),a&&e.$apply())})(),a=!0,e.$watch(function(){var e,r,a;for(e in o)u(i[e])&&n.cookies(e,void 0);for(e in i)r=i[e],t.isString(r)||(r=""+r,i[e]=r),r!==o[e]&&(n.cookies(e,r),a=!0);if(a)for(e in r=n.cookies(),i)i[e]!==r[e]&&(u(r[e])?delete i[e]:i[e]=r[e])}),i}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){return(n=e[n])?t.fromJson(n):n},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(0,function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){function t(e,t,n,o,a,c,l){function d(e,t){i===n&&(angular.forEach(e,function(n,r){t[r]?angular.isArray(t[r])&&(e[r].length=t[r].length):delete e[r]}),angular.forEach(t,function(n,r){angular.isArray(t[r])||angular.isObject(t[r])?(e[r]||(e[r]=angular.isArray(t[r])?[]:{}),d(e[r],t[r])):e[r]=t[r]}))}if(u[n])return u[n];var f,p=a.defer();return n===i?p.resolve(t):(f=c.get(n))?(i=n,o.$evalAsync(function(){d(t,f),r.put(s,n),o.$broadcast("$localeChangeSuccess",n,t),p.resolve(t)})):(i=n,u[n]=p.promise,function(e,t,n,r){var i=document.createElement("script"),o=document.getElementsByTagName("body")[0],a=!1;i.type="text/javascript",i.readyState?i.onreadystatechange=function(){("complete"===i.readyState||"loaded"===i.readyState)&&(i.onreadystatechange=null,r(function(){a||(a=!0,o.removeChild(i),t())},30,!1))}:(i.onload=function(){a||(a=!0,o.removeChild(i),t())},i.onerror=function(){a||(a=!0,o.removeChild(i),n())}),i.src=e,i.async=!1,o.appendChild(i)}(e,function(){var e=angular.injector(["ngLocale"]).get("$locale");d(t,e),c.put(n,e),delete u[n],o.$apply(function(){r.put(s,n),o.$broadcast("$localeChangeSuccess",n,t),p.resolve(t)})},function(){delete u[n],o.$apply(function(){i===n&&(i=t.id),o.$broadcast("$localeChangeError",n),p.reject(n)})},l)),p.promise}var n,r,i,o="angular/i18n/angular-locale_{{locale}}.js",a="tmhDynamicLocaleStorageCache",s=e,u={};this.localeLocationPattern=function(e){return e?(o=e,this):o},this.useStorage=function(e){a=e},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(e){n=e},this.storageKey=function(e){return e?(s=e,this):s},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,u,c,l,d,f,p){function h(n){return t(m({locale:n}),l,n,e,d,f,p)}var m=c(o);return r=u.get(a),e.$evalAsync(function(){var e;(e=r.get(s)||n)&&h(e)}),{set:h,get:function(){return i}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"}),angular.module("tp.i18n",["ajaxServices","ngCookies","tmh.dynamicLocale","tinypassServices"]).config(["tmhDynamicLocaleProvider",function(e){e.localeLocationPattern("/libs/angular-1.2.22/i18n/angular-locale_{{locale | replaceUnderscoreToDash}}.js")}]).run(["lang",function(e){var t=TPParam.TRANSLATION_CONFIG&&TPParam.TRANSLATION_CONFIG.initialLocaleId||"en_US";e.update(t)}]).directive("autoFocus",["$timeout",function(e){return{restrict:"AC",link:function(t,n){var r=n[0];e(function(){var e=r.value;r.value="",r.focus(),r.value=e},100)}}}]).directive("t",["$compile","lang","getTextFromLocales",function(e,t,n){var r=/^arg(\d+)$/i;return{restrict:"AE",compile:function(i,o){var a=i.html(),s=[];return angular.forEach(o,function(e,t){var n=t.match(r);n&&n[1]&&(s[n[1]]=e)}),function(r,i,o){var u=t.getTemplateContext(),c=o.context?o.context:u;function l(o,u,l){if(o){var d=n(o,u,l);i.empty().append(t.formatString(d(c,a),s)),e(i.contents())(r)}}l(),t.on(l),r.$on("$destroy",function(){t.off(l)})}}}}]).directive("languageSelector",["lang",function(e){return{restrict:"E",scope:{},template:'<div ng-show="areLanguagesAvailable()" class="language-selector">   <div id="language-label" class="language-selector__label" ng-click="toggleMenu()">{{locale | shortLocale}}</div>   <ul id="language-list" class="language-selector__list" ng-class="{\'show\': opened === true, \'hide\': opened === false}">       <li class="language-selector__list-item" ng-repeat="(index, value) in languages | filter:showAvailableLanguage" ng-click="changeLanguage(value.locale)">           <div class="language-selector__country" ng-class="{\'selected\': value.locale === locale}">{{value.localized}}             <span class="language-selector__country-image language-selector__country-image--{{value.locale | getCountryCode}}"></span>           </div>       </li>   </ul></div>',link:function(e,t){function n(n){jQuery(n.target)[0]!==t.find("#language-label")[0]&&(e.opened=!1,jQuery(window).off("click"),e.$apply())}e.toggleMenu=function(){e.opened=!e.opened,jQuery(window).off("click"),jQuery(window).on("click",n)},e.opened=!1},controller:["$scope",function(t){function n(e){t.locale=e}function r(e){t.languages=e.sort(function(e,t){return e.localized.toLowerCase()===t.localized.toLowerCase()?0:e.localized.toLowerCase()>t.localized.toLowerCase()?1:-1})}t.languages=[],t.locale=null,t.showAvailableLanguage=function(e){return!!e.isEnabled&&e},t.changeLanguage=function(n){t.locale=n,e.update(t.locale)},t.isLanguagesEnabled=TPParam.TRANSLATION_CONFIG.isEnabled,e.on(n),t.$on("$destroy",function(){e.off(n)}),e.list().then(r),t.areLanguagesAvailable=function(){return t.isLanguagesEnabled&&t.languages.length>1}}]}}]).filter("shortLocale",function(){return function(e){var t=e.toUpperCase().split("_");return t[0]+"-"+t[1]}}).filter("t",["lang",function(e){return function(t,n){var r=e.getTemplateContext();return e.trc(r,t,n)}}]).filter("tc",["lang",function(e){return function(t,n,r){return e.trc(n,t,r)}}]).filter("replaceUnderscoreToDash",function(){return function(e){return e.toString().toLowerCase().replace("_","-")}}).filter("replaceDashToUnderscore",function(){return function(e){var t;return null===e.match(/\-/g)?e:((t=e.toUpperCase().split("-"))[0]=t[0].toLowerCase(),t.join("_"))}}).filter("getCountryCode",function(){return function(e){return e.match(/\w{2}$/)[0].toLowerCase()}}).factory("getTextFromLocales",[function(){return function(e,t,n){return function(r,i){var o,a=(r=r?r+"":"")+i,s=n&&n[t],u=n&&n[e],c=u&&(u[a]||u[i]);return void 0===c&&(o=s&&(s[a]||s[i])),c||o||i}}}]).factory("lang",["tpHTTP","$q","$locale","$cookies","tmhDynamicLocale","resolveLocale","cookieLang","$rootScope","$filter","getTextFromLocales",function(e,t,n,r,i,o,a,s,u,c){var l,d=o(),f=!1,p=["en_US","en_GB","pt_PT","es_CO","pt_BR","fr_CA","ja_JP","zz_ZZ"],h=[],m=null,g=TPParam.TRANSLATION_CONFIG&&TPParam.TRANSLATION_CONFIG.systemDefaultLocale||"en_US",v={translationMapStatic:{},translationMapDynamic:{}},y={},w={};return s.$on("CHECK_UPDATED_LANGUAGE",S),E(),D(),{update:A,on:function(e,t){h.push(e),t||e(d,g,y)},off:function(e){var t=h.indexOf(e);-1!==t&&h.splice(t,1)},tr:function(e){for(var t=new Array(arguments.length-1),n=0;n<t.length;++n)t[n]=arguments[n+1];return T(c(d,g,y)(null,e),t)},trc:function(e,t,n){var r;if(angular.isArray(n))r=n;else{r=new Array(arguments.length-2);for(var i=0;i<r.length;++i)r[i]=arguments[i+2]}return T(c(d,g,y)(e,t),r)},list:function(){if(!TPParam.TRANSLATION_CONFIG.isEnabled)return t.when([]);m||(m=t.when(TPParam.TRANSLATION_CONFIG.languages).then(function(e){return e,A(d),e}));return m},formatString:T,getLang:C,getTemplateContext:function(){return window.TPParam.TRANSLATION_CONFIG&&window.TPParam.TRANSLATION_CONFIG.templateContext||""},getCorrectStartWeekDay:function(){var e=C()||d;return-1===p.indexOf(e)},getLanguageTag:b};function C(){return f&&d||""}function b(){return(C()||d).replace("_","-")}function E(){$(),l=setInterval(S,500)}function $(){l&&clearInterval(l)}function S(){var e=a.getCookie("LANG_CHANGED");e&&e!==d&&'""'!==e&&A(e)}function T(e,t){return angular.isUndefined(e)||null===e?e:e.replace(/<t([^>]+)?>|<\/t>/g,"").replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}function k(e){y[d]=e,h.forEach(function(e){e(d,g,y)})}function x(e,n){var r,i,o,a=t.defer();return e&&((r=document.querySelector('script[src*="'+e+'"]'))||(i=document.getElementsByTagName("head"))&&i.length&&(o=i[0])&&((r=document.createElement("script")).onload=function(){return window["translation"+n]?a.resolve(window["translation"+n]):a.reject("Unable to load")},r.setAttribute("src",e),r.setAttribute("type","text/javascript"),r.setAttribute("charset","utf-8"),o.appendChild(r))),a.promise}function P(e){var n="/ng/common/i18n/platform-translation-map_"+e+".js?version="+TPParam.TRANSLATION_CONFIG.version,r=TPParam.TRANSLATION_CONFIG.loadTranslationUrl+"&language="+e,i=window["translation_static_"+e];return TPParam.TRANSLATION_CONFIG.isStatic?i?t.when(i):x(n,"_static_"+e).then(function(){return t.when(window["translation_static_"+e])}):t.all({translationMapStatic:x(n,"_static_"+e).then(function(e){return e}),translationMapDynamic:x(r,"_dynamic_"+e).then(function(e){return e})}).then(function(e){return v.translationMapStatic=e.translationMapStatic,v.translationMapDynamic=e.translationMapDynamic,t.when(angular.extend({},e.translationMapStatic,e.translationMapDynamic))}).catch(function(t){y=function(e,t){var n=[],r={};"string"==typeof t&&(n=[t]);angular.isArray(t)&&(n=[].concat(t));angular.isArray(e)&&e.forEach(function(e,t){r[t]=e});angular.isObject(e)&&!angular.isArray(e)&&(r=angular.extend({},e));return n.forEach(function(e){delete r[e]}),r}(y,e)})}function A(e){if($(),!TPParam.TRANSLATION_CONFIG||!TPParam.TRANSLATION_CONFIG.isEnabled)return a.removeCookie("LANG"),void a.removeCookie("LANG_CHANGED");angular.isUndefined(e)&&(e=a.getCookie("LANG")||g),function(e){d=e,f=!0,a.setCookie("LANG",d,1500),a.setCookie("LANG_CHANGED",d,1);var t=u("replaceUnderscoreToDash")(e);w[t]||n.id!==t||(w[t]=angular.copy(n));w[t]&&function e(t,n){angular.forEach(t,function(e,r){n[r]?angular.isArray(n[r])&&(t[r].length=n[r].length):delete t[r]});angular.forEach(n,function(r,i){angular.isArray(n[i])||angular.isObject(n[i])?(t[i]||(t[i]=angular.isArray(n[i])?[]:{}),e(t[i],n[i])):t[i]=n[i]})}(n,w[t]);e!==TPParam.TRANSLATION_CONFIG.initialLocaleId&&(w[t]||i.set(t).then(function(e){w[e.id]=angular.copy(e)}),function(e){window.TPParam.TRANSLATION_CONFIG&&window.TPParam.TRANSLATION_CONFIG.initialLocaleId&&(window.TPParam.TRANSLATION_CONFIG.initialLocaleId=e)}(d))}(e),D(),E(),function(e){if(void 0===y[g])return t.all(M(e),M(g));return M(e)}(e).then(k).then(function(){s.$broadcast("EVENT_I18N_LOCALE_CHANGED")})}function M(e){var n=window["translation_static_"+e],r=window["translation_dynamic_"+e];return y[e]?t.when(y[e]):n||r?(y[e]=angular.extend({},n,r),t.when(y[e])):P(e).then(function(t){return y[e]=t,t})}function D(){if("undefined"!=typeof moment)try{var e=b();switch(e){case"zz-ZZ":e="x-pseudo";break;case"sr-RS":e="sr-cyrl"}moment.locale?moment.locale(e):moment.lang(e)}catch(e){}}}]).factory("resolveLocale",["$cookies","$locale","tmhDynamicLocale","$filter","cookieLang",function(e,t,n,r,i){return function(){i.getCookie("LANG");return"en_US"}}]).factory("cookieLang",["TinypassService",function(e){return{getCookie:t,setCookie:function(t,n,r){var i,o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),i="expires="+o.toUTCString(),document.cookie=t+"="+n+"; "+i+"; domain="+e.getTopDomain()+"; path=/;"+e.getCookieSameSiteAndSecureAttrString()},removeCookie:function(t){var n="expires="+new Date("February 02, 1972 02:02:02").toUTCString();document.cookie=t+"=; "+n+"; domain="+e.getTopDomain()+"; path=/;"+e.getCookieSameSiteAndSecureAttrString()},getCountryCode:function(){if(null===t("LANG")||void 0===t("LANG")||""===t("LANG"))return"us";return t("LANG").split("_")[1].toLowerCase()},getLanguageCode:function(){if(null===t("LANG")||void 0===t("LANG")||""===t("LANG"))return"en";return t("LANG").split("_")[0]}};function t(e){var t=("; "+document.cookie).split("; "+e+"=");if(t.length>1)return t.pop().split(";").shift()}}]),function(){var dateServices=angular.module("dateServices",[]),withoutSpinnerHeaderName="Piano-request-without-spinner";function isIncludesWithoutSpinnerHeader(e){return!!(e&&e.config&&e.config.headers||{})[withoutSpinnerHeaderName]}dateServices.factory("fromIsoToJsDate",function(){return function(e,t){if(t.length){for(var n=t.length-1;n>=0;n--)t[n][e]&&(t[n][e]=moment(t[n][e]).format());return t}return t[e]&&(t[e]=moment(t[e]).format()),t[e]}}),dateServices.factory("timeStampToDate",function(){return function(e){return e?e&&e<1e10?new Date(1e3*e):new Date(e):e}}),dateServices.factory("TimezoneService",function(){return{SEND_DATETIME_FORMAT:"YYYY-MM-DDTHH:mm:ssZZ",dateToTimezonedMoment:function(e){return moment.tz(e,TPParam.CLIENT_TIMEZONE)},dateToClientTimezoneMoment:function(e){return moment.tz({year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()},TPParam.CLIENT_TIMEZONE)},datesToTimezonedStringsRange:function(e,t){return{from:this.dateToClientTimezoneMoment(e).startOf("day").format(this.SEND_DATETIME_FORMAT),to:this.dateToClientTimezoneMoment(t).endOf("day").format(this.SEND_DATETIME_FORMAT)}},momentToDate:function(e){return new Date(e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second())}}}),dateServices.factory("ISODatetimeService",function(){return{ISO8601_DATE_FORMAT:"YYYY-MM-DD",ISO8601_DATETIME_FORMAT:"YYYY-MM-DD HH:MM",dateToString:function(e){return moment.tz?moment.tz(e,TPParam.CLIENT_TIMEZONE).format(this.ISO8601_DATE_FORMAT):moment(e).format(this.ISO8601_DATE_FORMAT)},datetimeToString:function(e){return moment.tz?moment.tz(e,TPParam.CLIENT_TIMEZONE).format(this.ISO8601_DATETIME_FORMAT):moment(e).format(this.ISO8601_DATETIME_FORMAT)}}});var ajaxServices=angular.module("ajaxServices",[]);ajaxServices.config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.common["Ng-Request"]="1",e.interceptors.push("tpHttpInterceptor");e.defaults.transformRequest.push(function(e,t){var n=t&&t();return n&&n[withoutSpinnerHeaderName]||tinypass.withoutWaitPanel?e:(tinypass.showWaitPanel(),e)})}]),ajaxServices.factory("tpHttpInterceptor",["$q",function(e){return{response:function(e){return e.data&&(e.data.models&&(e.models=e.data.models),e.data.errors&&(e.errors=e.data.errors)),tinypass.updateMetaRefresh(),isIncludesWithoutSpinnerHeader(e)||tinypass.hideWaitPanel(),e},responseError:function(t){return t.data&&(t.data.models&&(t.models=t.data.models),t.data.errors&&(t.errors=t.data.errors)),isIncludesWithoutSpinnerHeader(t)||tinypass.hideWaitPanel(),e.reject(t)}}}]),ajaxServices.factory("repeatHTTP",["$q",function(e){var t=function(n,r){var i=(r=r||{}).defer,o=r.attempt||0,a=r.times||1,s=r.cancelConfig||{};return i?(n().then(function(e){i.resolve(e)}).catch(function(e){s.cancel||(o>=a?i.reject(e):t(n,_.assign(r,{attempt:o+1})))}),i.promise):(Log.info("defer is required"),e.reject())};return t}]),ajaxServices.factory("tpHTTP",["$http","$window","$q","$rootScope",function($http,$window,$q,$rootScope){var f=function(e,t){!t&&(e.url=$window.TPConfig.PATH+e.url);var n=$http(e);return n.then(f.processHeaders),n};return f.get=function(e,t){e=$window.TPConfig.PATH+e;var n=$http.get(e,t);return n.then(f.processHeaders),n},f.post=function(e,t,n){e=$window.TPConfig.PATH+e;var r=$http.post(e,t,n);return r.then(f.processHeaders),r},f.jsonp=function(e,t){return(t=t||{}).callback=t.callback||"JSON_CALLBACK",$http.jsonp(e,{params:t}).then(function(e){return e.data})},f.processResponse=function(e){return e.data&&e.data.models&&(e.models=e.data.models),e.data&&e.data.errors&&(e.errors=e.data.errors),e},f.processResponseCatch=function(e){return e.data&&e.data.models&&(e.models=e.data.models),e.data&&e.data.errors&&(e.errors=e.data.errors),$q.reject(e)},f.processHeaders=function(response){var headers=response.headers();if(headers.execute_js_after)try{eval(headers.execute_js_after)}catch(e){}return response},f.extractErrors=function(e,t,n){e&&(e.errors||e.modalErrors)&&(n.formErrors=e.errors&&e.errors.length?e.errors:e.modalErrors,angular.forEach(n.formErrors,function(e){var n=e.field,r=(e.key,e.msg);t&&t[n]&&(angular.element("#"+n).focus(),t[n].$setValidity("error",!1),t[n].$error.msg=r)}))},f.resetFormErrors=function(e,t,n){try{n&&(n.errors=[],n.modalErrors=[]),angular.forEach(t.formErrors,function(t){e[t.field].$setValidity("error",!0),e[t.field].$setPristine()}),delete t.formErrors,e.$setPristine(),t.$$phase||t.$apply()}catch(e){Log.info("Could not reset form errors!",e)}},f.setFieldsValid=function(e,t){try{angular.forEach(e,function(e,t){0!=t.indexOf("$")&&(e.$setValidity("error",!0),e.$setPristine())}),e.$setPristine(),t.$$phase||t.$apply()}catch(e){Log.info("Could not reset form errors!",e)}},f.extractModels=function(e,t){if(e&&e.models)for(var n in e.models)t[n]=e.models[n];if(e&&e.routes)for(var r in void 0===t.routes&&(t.routes={}),e.routes)t.routes[r]=e.routes[r]},f.promiseResponse=function(e,t){var n=$q.defer();return t.errors=[],e.then(function(e){if(e&&e.errors&&angular.copy(e.errors,t.errors),e&&e.models)for(var r in e.models)e.models.hasOwnProperty(r)&&(t[r]=e.models[r]);n.resolve()}).catch(function(e){e&&e.errors&&angular.copy(e.errors,t.errors),n.reject()}),n.promise},f.extractModelsTo=function(e){return function(t){f.extractModels(t.data,e)}},f.successHander=function(e){return function(t){e.resolve({data:t,ok:!0})}},f.errorHander=function(e){return function(t){e.resolve({data:t,ok:!1})}},f.promiser=function(e){var t=$q.defer();return e.then(f.successHander(t)).catch(f.errorHander(t)),t.promise},f.buildUrl=function(e,t){if(!t)return e;var n=[];return function(e,t,n){for(var r=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i])}(t,function(e,t){null!=e&&null!=e&&(angular.isObject(e)&&(e=angular.toJson(e)),n.push(encodeURIComponent(t)+"="+encodeURIComponent(e)))}),e+(-1==e.indexOf("?")?"?":"&")+n.join("&")},f}]);var tinypassService=angular.module("tinypassServices",[]);function _setCookie(e,t,n,r,i,o,a){var s=new Date;s.setTime(s.getTime());var u=new Date(s.getTime()+n);document.cookie=e+"="+t+(n?";expires="+u.toGMTString():"")+(r?";path="+r:"")+(i?";domain="+i:"")+(o?";secure":"")+(a?";samesite="+a:"none")}function _getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}tinypassService.factory("TinypassService",["$q",function(e){var t;function n(){return t||(t=function(){try{return window.self!==window.top}catch(e){return!0}}()?" samesite=none; ":" samesite=lax; ","https:"===window.location.protocol&&(t+=" secure;"),t)}function r(){var e,t,r="weird_get_top_level_domain=cookie",i=document.location.hostname.split(".");if(1===i.length)return i[0];if(4===i.length&&!isNaN(i[0])&&!isNaN(i[3]))return document.location.hostname;for(e=i.length-1;e>=0;e--){t="."+i.slice(e).join(".");var o=n();if(document.cookie=r+";domain="+t+";"+o,document.cookie.indexOf(r)>-1)return document.cookie=r.split("=")[0]+"=;domain="+t+";expires=Thu, 01 Jan 1970 00:00:01 GMT;"+o,t}}return{setMessage:function(e,t){tinypass.setMessageDashboard(e,t)},hideMessage:function(){tinypass.hideMessage()},cropImage:function(e,t,n,r,i,o,a,s,u){tinypass.cropImage(e,t,n,r,i,o,a,s,u)},getISODate:function(e,t){var n,r;return n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59),{from:moment(n).format("YYYY-MM-DDTHH:mm:ssZZ"),to:moment(r).format("YYYY-MM-DDTHH:mm:ssZZ")}},reduceZeros:function(e){var t=(e=Math.round(e))/1e3+"";return 0!=e&&(t=(t=(t=(t+(t.indexOf(".")<0?".":"")+"000").replace(/(\..{3}).*$/,"$1")).substring(0,t.length-Math.min(3,(e+"").length-2)).replace(/[.]$/,"")).split("").reverse().join("").replace(/((\d{3})(?!($|-|.*[.])))/g,"$1,").split("").reverse().join("")),t},generateRandomString:function(e){e=e||10;for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},generateSuccessMessage:function(e){return function(){tinypass.setMessage("success",e)}},generateErrorMessage:function(t){return function(){return tinypass.setMessage("error",t),e.reject()}},showRequestError:function(t){return tinypass.setMessage("error",t.data.errors[0].msg),e.reject(t)},showRequestErrorDashboard:function(t){return tinypass.setMessageDashboard("error",t.data.errors[0].msg),e.reject(t)},getInMinorUnits:function(e){return e?Math.round(100*e):0},getCurrencyByCode:function(e){if(""==e)return"$";var t;switch(e){case"USD":t="$";break;case"EUR":t="";break;case"AUD":t="$";break;case"GBP":t="";break;case"JPY":t="";break;default:t=e}return t},setCookie:function(e,t,i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3);var a="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+a+"; domain= "+r()+"; path=/;"+n()},getCookie:function(e){var t=("; "+document.cookie).split("; "+e+"=");if(t.length>1)return t.pop().split(";").shift()},getTopDomain:r,getCookieSameSiteAndSecureAttrString:n}}]),tinypassService.factory("LangUtils",[function(){return{getPersonalName:function(e,t,n){var r=e.getLang();return!["zz_ZZ","ja_JP"].some(function(e){return e===r})?[t,n].filter(function(e){return!!e}).join(" "):[n,t].filter(function(e){return!!e}).join(" ")}}}]),tinypassService.factory("modalConfirm",["$rootScope","$modal",function(e,t){return function(n,r,i,o){var a=e.$new();a.title=n,a.msg=r;var s={scope:a,templateUrl:"/libs/tinypass/_confirm_popup.shtml"},u=t.open(s);function c(e){u.close(e)}return a.onOk=function(){_.isFunction(o)?o().then(c):c(i)},u.result}}]),tinypassService.factory("UpdatePerfectScrollbar",["UpdateSpecificScrollbar",function(e){return function(t){if(t&&t.target&&t.target.nodeName){var n,r,i=$(t.target);if("input"==t.target.nodeName.toLowerCase()){var o=i.parents(".tp-dropdown__container"),a=i.parents(".dropdown-menu");return void(a.length>0?a:o).find(".ps-container").each(function(){var e=$(this);e.is(":visible")&&e.scrollTop(0)})}n=i.parent().outerHeight(!0),r=i.parents(".ps-container"),e(r,n)}}}]),tinypassService.factory("UpdateSpecificScrollbar",function(){return function(e,t){var n=e.children().height(),r=e.height(),i=e.scrollTop();i+r+t>=n&&n>=r&&e.scrollTop(i-t)}}),tinypassService.factory("iframeService",["$rootElement",function(e){return{injectHiddenIframe:t,injectHiddenIframeWithTimeout:function(e,n,r,i){var o=t(e,n),a=window.setTimeout(function(){angular.element("#"+e).remove(),i&&i()},r||15e3);return{iframe:o,cancel:function(){window.clearTimeout(a)}}},injectIframe:function(e,t,r){var i=t?' src="'+t+'" ':"";return n(angular.element("<iframe "+i+"></iframe>"),e,r,{backgroundColor:"transparent",border:"0",width:"100%",height:"100%",position:"relative",zIndex:4})},injectRealIframe:function(e,t,r){return n(angular.element(t),e,r,{backgroundColor:"#ffffff",border:"0",width:"100%",height:"100%",position:"relative",zIndex:1})},injectHungTimeoutIframe:function(e,n){return window.setTimeout(function(){var r=t(e),i=r.contentWindow?r.contentWindow.document:r.contentDocument;i.open("text/html","replace"),i.write('<html>    <head>        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">        <script type="text/javascript">            function submitform() {                document.forms["page_return"].submit();            }        <\/script>    </head>    <body onload="submitform()">        <form name="page_return" method="post" action="'+n+'">            <input type="hidden" name="resultCode" value="999">            <input type="hidden" name="message" value="Request timeout">        </form>    </body></html>'),i.close()},15e3)},appendContentToIframe:function(e,t){var n=e.contentWindow?e.contentWindow.document:e.contentDocument;n.open("text/html","replace"),n.write(t),n.close()},getAncestorOrigins:function(){var e=document.location.ancestorOrigins;if(!e){var t=document.referrer,n=t.split("/");e={0:n[0]+"//"+n[2],length:1}}return e}};function t(t,n){var r=n?' src="'+n+'" ':"";angular.element("#"+t).remove();var i=angular.element('<iframe id="'+t+'"'+r+' style="display: none"></iframe>')[0];return e.append(i),i}function n(e,t,n,r){angular.element("#"+t).remove(),e.attr({allowtransparency:"true",id:t}).css(r);var i=e[0];return n.append(i),i}}]);var selectFactory=angular.module("selectFactory",["ajaxServices"]);selectFactory.factory("selectServiceFactory",["tpHTTP","$timeout",function(e,t){return function(n){var r={},i=!!n.invalidateUpdate,o={search:function(n){var a=r[n];a&&!o.instantUpdate||(a=function(n){r[n]=function(t){var n=o.buildParams(t);return e.post(o.endpoint,n).then(o.extractItems).catch(function(e){})}(n),o.instantUpdate=!1,i&&t(function(){delete r[n]},1e3);return r[n]}(n));return a}};return angular.extend(o,n),o}}]),selectFactory.factory("selectDirectiveFactory",["$timeout","UpdatePerfectScrollbar","$perfectScrollBarService",function(e,t,n){return function(r){return{restrict:"AE",replace:!0,transclude:!0,scope:{ngModel:"=",item:"=",clickFn:"=?",searchFn:"=?",clickOnClose:"=?"},require:"ngModel",templateUrl:r.templateUrl,link:function(i,o,a,s){var u,c={};if(i.disabled="true"==a.ngDisabled,i.disabled)return;i.closeOnSelect=void 0!==a.closeOnSelect,i.multiple=void 0!==a.multiple,i.excludeSelected=void 0!==a.excludeSelected,i.showCheckbox=i.multiple&&!i.excludeSelected,i.model={filter:"",list:[],selected:{}},i.onSearch=l,i.searchItems=p,i.updateScrollBar=f,i.cancelClick=function(e){e.stopPropagation(),e.preventDefault()},i.closeDropdown=function(){$(".dropdown.open",o).removeClass("open")},i.setItem=function(e,t){if(_.isUndefined(e.disabled)||!e.disabled){if(i.multiple){var n=angular.copy(i.ngModel||[]),r=d(e,n);null===r?n.push(e):n.splice(r,1),i.ngModel=n,s.$setViewValue(i.ngModel)}else i.ngModel=e,s.$setViewValue(i.ngModel);i.closeOnSelect&&(i.closeDropdown(),i.clickOnClose&&i.clickOnClose(i.ngModel)),f(t)}},i.modelContains=function(e){return null!==d(e,i.ngModel||[])},i.setFocusAfterClick=function(){$("input:first",o).focus()},i.onOpen=function(e){i.clickFn&&i.clickFn(p),function(e){e&&!c[e]&&(c[e]=!0,n.notify("update-perfect-scrollbar"))}(e)},i.selectAll=function(){if(i.multiple){var e=i.ngModel||[],t=[];e.length||(t=angular.copy(i.model.list)),i.ngModel=t,s.$setViewValue(i.ngModel)}},l(),i.multiple&&i.$watch("ngModel",function(){!function(){var e={};if(!i.multiple)return;if(!i.ngModel||!Array.isArray(i.ngModel)||i.ngModel.length<=0)return void(i.model.selected=null);i.ngModel.forEach(function(t){e[t[r.idProperty]]=!0}),i.model.selected=e}()},!0);function l(t){u&&e.cancel(u);var n=i.model.filter?300:0;u=e(function(){p(t)},n)}function d(e,t){for(var n=t.length,i=0;i<n;i++)if(t[i][r.idProperty]===e[r.idProperty])return i;return null}function f(e){t(e)}function p(e){var t=i.searchFn||r.searchService.search;t&&t(i.model.filter).then(function(t){t.forEach(function(e){e.id=e[r.idProperty]}),i.model.list=t,e&&i.updateScrollBar(e)})}}}}}]);var loggingModule=angular.module("loggingModule",["ajaxServices"]);loggingModule.factory("loggingService",["tpHTTP",function(e){var t={logToServer:function(t){try{var n=new Error;e.post(TPParam.LOG_ERROR,{description:t,url:window.location.href,trace:n.stack})}catch(e){}}};return t}]),angular.module("paymentFormModule",[]).factory("loaderService",function(){return{showLoader:function(){var e=document.getElementById("pp-loader");e&&(e.style.display="block")},hideLoader:function(){var e=document.getElementById("pp-loader");e&&(e.style.display="none")}}})}(),String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var n="{"+t+"}";e=e.replace(n,arguments[t])}return e},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){return function(t,n,r){var i=t.$eval(r.uiEvent);angular.forEach(i,function(r,i){var o=e(r);n.bind(i,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),o(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){return function(e,t){var n=e;if(angular.isString(n)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var r=t.length;n=n.replace(/\$([0-9]+)/g,function(e,n){return(n=parseInt(n,10))>=0&&r>n?t[n]:e})}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,r){return{restrict:"ECA",terminal:!0,compile:function(i,o){var a=o.uiInclude||o.src,s=o.fragment||"",u=o.onload||"",c=o.autoscroll;return function(i,o){function l(){var l=++f,h=i.$eval(a),m=i.$eval(s);h?e.get(h,{cache:t}).success(function(e){var t;l===f&&(d&&d.$destroy(),d=i.$new(),t=m?angular.element("<div/>").html(e).find(m):angular.element("<div/>").html(e).contents(),o.html(t),r(t)(d),!angular.isDefined(c)||c&&!i.$eval(c)||n(),d.$emit("$includeContentLoaded"),i.$eval(u))}).error(function(){l===f&&p()}):p()}var d,f=0,p=function(){d&&(d.$destroy(),d=null),o.html("")};i.$watch(s,l),i.$watch(a,l)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t){return!1!==t&&angular.isString(e)?n[t=t||"humanize"](e):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){return{restrict:"A",compile:function(n,r){if(!angular.isFunction(n[r.uiJq]))throw new Error('ui-jq: The "'+r.uiJq+'" function does not exist');var i=e&&e[r.uiJq];return function(e,n,r){function o(){t(function(){n[r.uiJq].apply(n,a)},0,!1)}var a=[];r.uiOptions?(a=e.$eval("["+r.uiOptions+"]"),angular.isObject(i)&&angular.isObject(a[0])&&(a[0]=angular.extend({},i,a[0]))):i&&(a=[i]),r.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),r.uiRefresh&&e.$watch(r.uiRefresh,function(){o()}),o()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"};return function(n,r,i,o){var a,s=[];a=r.$eval(o["ui"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(n)]),angular.forEach(a,function(t,n){var r,i;i=e(t),angular.forEach(n.split(" "),function(e){r={expression:i,keys:{}},angular.forEach(e.split("-"),function(e){r.keys[e]=!0}),s.push(r)})}),i.bind(n,function(e){var i=!(!e.metaKey||e.ctrlKey),o=!!e.altKey,a=!!e.ctrlKey,u=!!e.shiftKey,c=e.keyCode;"keypress"===n&&!u&&c>=97&&122>=c&&(c-=32),angular.forEach(s,function(n){var s=n.keys[t[c]]||n.keys[c.toString()],l=!!n.keys.meta,d=!!n.keys.alt,f=!!n.keys.ctrl,p=!!n.keys.shift;s&&l===i&&d===o&&f===a&&p===u&&r.$apply(function(){n.expression(r,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,r){e("keydown",t,n,r)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,r){e("keypress",t,n,r)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,r){e("keyup",t,n,r)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}}).directive("uiMask",["uiMaskConfig",function(e){return{priority:100,require:"ngModel",restrict:"A",compile:function(){var t=e;return function(e,n,r,i){function o(){return P=!1,A&&(n.unbind("blur",l),n.unbind("mousedown",d),n.unbind("mouseup",d),n.unbind("input",p),n.unbind("keyup",p),n.unbind("click",p),n.unbind("focus",p),A=!1),angular.isDefined(M)?n.attr("placeholder",M):n.removeAttr("placeholder"),angular.isDefined(D)?n.attr("maxlength",D):n.removeAttr("maxlength"),n.val(i.$modelValue),i.$viewValue=i.$modelValue,!1}function a(e){return!e.length||e.length>=C}function s(e){var t="",n=v.slice();return e=e.toString(),angular.forEach(w,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function u(e){var t="",n=g.slice();return angular.forEach(y.split(""),function(r,i){e.length&&i===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=r}),t}function c(e){var t=r.placeholder;return void 0!==t&&t[e]?t[e]:"_"}function l(){k=0,x=0,$&&0!==b.length||(E="",n.val(""),e.$apply(function(){i.$setViewValue("")}))}function d(e){"mousedown"===e.type?n.bind("mouseout",f):n.unbind("mouseout",f)}function f(){x=m(this),n.unbind("mouseout",f)}function p(t){var r=(t=t||{}).which,o=t.type;if(16!==r&&91!==r){var a,c=n.val(),l=S,d=s(c),f=T,p=!1,v=function(e){if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",-e.value.length),t.text.length}return 0}(this)||0,y=k||0,w=v-y,C=g[0],b=g[d.length]||g.slice().shift(),E=x||0,$=m(this)>0,P=E>0,A=c.length>l.length||E&&c.length>l.length-E,M=c.length<l.length||E&&c.length===l.length-E,D=r>=37&&40>=r&&t.shiftKey,O=8===r||"keyup"!==o&&M&&-1===w,_=46===r||"keyup"!==o&&M&&0===w&&!P,N=(37===r||O||"click"===o)&&v>C;if(x=m(this),!D&&(!$||"click"!==o&&"keyup"!==o)){if("input"===o&&M&&!P&&d===f){for(;O&&v>C&&!h(v);)v--;for(;_&&b>v&&-1===g.indexOf(v);)v++;var I=g.indexOf(v);d=d.substring(0,I)+d.substring(I+1),p=!0}for(a=u(d),S=a,T=d,n.val(a),p&&e.$apply(function(){i.$setViewValue(d)}),A&&C>=v&&(v=C+1),N&&v--,v=v>b?b:C>v?C:v;!h(v)&&v>C&&b>v;)v+=N?-1:1;(N&&b>v||A&&!h(y))&&v++,k=v,function(e,t){if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}(this,v)}}}function h(e){return g.indexOf(e)>-1}function m(e){return void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0}var g,v,y,w,C,b,E,$,S,T,k,x,P=!1,A=!1,M=r.placeholder,D=r.maxlength,O={};r.uiOptions?(O=e.$eval("["+r.uiOptions+"]"),angular.isObject(O[0])&&(O=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]?angular.extend(t[n],e[n]):t[n]=angular.copy(e[n]));return t}(t,O[0]))):O=t,r.$observe("uiMask",function(e){return angular.isDefined(e)?(function(e){var t=0;if(g=[],v=[],y="","string"==typeof e){C=0;var n=!1,r=e.split("");angular.forEach(r,function(e,r){O.maskDefinitions[e]?(g.push(t),y+=c(r),v.push(O.maskDefinitions[e]),t++,n||C++):"?"===e?n=!0:(y+=e,t++)})}g.push(g.slice().pop()+1),w=y.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_"),P=g.length>1}(e),P?(function(){b=T=s(i.$modelValue||""),E=S=u(b);var e=($=a(b))&&b.length?E:"";r.maxlength&&n.attr("maxlength",2*g[g.length-1]),n.attr("placeholder",y),n.val(e),i.$viewValue=e}(),A||(n.bind("blur",l),n.bind("mousedown mouseup",d),n.bind("input keyup click focus",p),A=!0),!0):o()):o()}),r.$observe("placeholder",function(e){angular.isDefined(e)&&(y=e,P&&p())}),i.$formatters.push(function(e){return P?(b=s(e||""),$=a(b),i.$setValidity("mask",$),$&&b.length?u(b):void 0):e}),i.$parsers.push(function(e){return P?(b=s(e||""),$=a(b),i.$viewValue=b.length?u(b):"",i.$setValidity("mask",$),""===b&&void 0!==i.$error.required&&i.$setValidity("required",!1),$?b:void 0):e}),n.bind("mousedown mouseup",d),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&((r=Number(arguments[1]))!=r?r=0:0!==r&&1/0!==r&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,n,r,i){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){r.uiReset?i.$setViewValue(e.$eval(r.uiReset)):i.$setViewValue(t),i.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){return{restrict:"AC",scope:!0,compile:function(n,r){var i;if(r.uiRoute)i="uiRoute";else if(r.ngHref)i="ngHref";else{if(!r.href)throw new Error("uiRoute missing a route or href property on "+n[0]);i="href"}return function(n,r,o){function a(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1)),(c=function(){u(n,e.path().indexOf(t)>-1)})()}function s(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1)),(c=function(){var r=new RegExp("^"+t+"$",["i"]);u(n,r.test(e.path()))})()}var u=t(o.ngModel||o.routeModel||"$uiRoute").assign,c=angular.noop;switch(i){case"uiRoute":o.uiRoute?s(o.uiRoute):o.$observe("uiRoute",s);break;case"ngHref":o.ngHref?a(o.ngHref):o.$observe("ngHref",a);break;case"href":a(o.href)}n.$on("$routeChangeSuccess",function(){c()}),n.$on("$stateChangeSuccess",function(){c()})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){"use strict";return{require:"^?uiScrollfixTarget",link:function(t,n,r,i){function o(){var t;angular.isDefined(e.pageYOffset)?t=e.pageYOffset:t=(document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body).scrollTop;!n.hasClass("ui-scrollfix")&&t>r.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<r.uiScrollfix&&n.removeClass("ui-scrollfix")}var a=n[0].offsetTop,s=i&&i.$element||angular.element(e);r.uiScrollfix?"string"==typeof r.uiScrollfix&&("-"===r.uiScrollfix.charAt(0)?r.uiScrollfix=a-parseFloat(r.uiScrollfix.substr(1)):"+"===r.uiScrollfix.charAt(0)&&(r.uiScrollfix=a+parseFloat(r.uiScrollfix.substr(1)))):r.uiScrollfix=a,s.on("scroll",o),t.$on("$destroy",function(){s.off("scroll",o)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["a",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){return function(t,n){if(!1===n)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var r=[],i=angular.isString(n)?e(n):function(e){return e},o=function(e){return angular.isObject(e)?i(e):e};angular.forEach(t,function(e){for(var t=!1,n=0;n<r.length;n++)if(angular.equals(o(r[n]),o(e))){t=!0;break}t||r.push(e)}),t=r}return t}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i,o={},a=e.$eval(n.uiValidate);a&&(angular.isString(a)&&(a={validator:a}),angular.forEach(a,function(t,n){i=function(i){var o=e.$eval(t,{$value:i});return angular.isObject(o)&&angular.isFunction(o.then)?(o.then(function(){r.$setValidity(n,!0)},function(){r.$setValidity(n,!1)}),i):o?(r.$setValidity(n,!0),i):void r.$setValidity(n,!1)},o[n]=i,r.$formatters.push(i),r.$parsers.push(i)}),n.uiValidateWatch&&function(t){angular.isString(t)?e.$watch(t,function(){angular.forEach(o,function(e){e(r.$modelValue)})}):angular.isArray(t)?angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(o,function(e){e(r.$modelValue)})})}):angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){o[n](r.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){o[n](r.$modelValue)})})})}(e.$eval(n.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.showhide","ui.unique","ui.validate"]),function(e,t){var n=(e.ieShivDebug,["ngInclude","ngPluralize","ngView","ngSwitch","uiCurrency","uiCodemirror","uiDate","uiEvent","uiKeypress","uiKeyup","uiKeydown","uiMask","uiMapInfoWindow","uiMapMarker","uiMapPolyline","uiMapPolygon","uiMapRectangle","uiMapCircle","uiMapGroundOverlay","uiModal","uiReset","uiScrollfix","uiSelect2","uiShow","uiHide","uiToggle","uiSortable","uiTinymce"]);e.myCustomTags=e.myCustomTags||[],n.push.apply(n,e.myCustomTags);for(var r=function(e){var t=[],n=e.replace(/([A-Z])/g,function(e){return" "+e.toLowerCase()}).split(" ");if(1===n.length){var r=n[0];t.push(r),t.push("x-"+r),t.push("data-"+r)}else{var i=n[0],o=n.slice(1).join("-");t.push(i+":"+o),t.push(i+"-"+o),t.push("x-"+i+"-"+o),t.push("data-"+i+"-"+o)}return t},i=0,o=n.length;o>i;i++)for(var a=r(n[i]),s=0,u=a.length;u>s;s++){var c=a[s];t.createElement(c)}}(window,document),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return A(new(A(function(){},{prototype:e})),t)}function i(e){return P(arguments,function(t){t!==e&&P(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(0>(r=0>r?Math.ceil(r):Math.floor(r))&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function a(e,t,n,r){var i,a=function(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}(n,r),s={},u=[];for(var c in a)if(a[c].params&&a[c].params.length)for(var l in i=a[c].params)o(u,i[l])>=0||(u.push(i[l]),s[i[l]]=e[i[l]]);return A({},s,t)}function s(e,t){var n={};return P(e,function(e){var r=t[e];n[e]=null!=r?String(r):null}),n}function u(e,t,n){if(!n)for(var r in n=[],e)n.push(r);for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var r=1,o=2,a={},s=[],u=a,c=A(e.when(a),{$$promises:a,$$values:a});this.study=function(a){function l(e){return k(e)&&e.then&&e.$$promises}if(!k(a))throw new Error("'invocables' must be an object");var d=[],f=[],p={};return P(a,function e(n,i){if(p[i]!==o){if(f.push(i),p[i]===r)throw f.splice(0,f.indexOf(i)),new Error("Cyclic dependency: "+f.join(" -> "));if(p[i]=r,T(n))d.push(i,[function(){return t.get(n)}],s);else{var u=t.annotate(n);P(u,function(t){t!==i&&a.hasOwnProperty(t)&&e(a[t],t)}),d.push(i,n,u)}f.pop(),p[i]=o}}),a=f=p=null,function(r,o,a){function s(){--y||(w||i(v,o.$$values),m.$$values=v,m.$$promises=!0,h.resolve(v))}function f(e){m.$$failure=e,h.reject(e)}function p(n,i,o){function u(e){l.reject(e),f(e)}function c(){if(!$(m.$$failure))try{l.resolve(t.invoke(i,a,v)),l.promise.then(function(e){v[n]=e,s()},u)}catch(e){u(e)}}var l=e.defer(),d=0;P(o,function(e){g.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(d++,g[e].then(function(t){v[e]=t,--d||c()},u))}),d||c(),g[n]=l.promise}if(l(r)&&a===n&&(a=o,o=r,r=null),r){if(!k(r))throw new Error("'locals' must be an object")}else r=u;if(o){if(!l(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=c;var h=e.defer(),m=h.promise,g=m.$$promises={},v=A({},r),y=1+d.length/3,w=!1;if($(o.$$failure))return f(o.$$failure),m;o.$$values?(w=i(v,o.$$values),s()):(A(g,o.$$promises),o.then(s,f));for(var C=0,b=d.length;b>C;C+=3)r.hasOwnProperty(d[C])?s():p(d[C],d[C+1],d[C+2]);return m}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function l(e,t,n){this.fromConfig=function(e,t,n){return $(e.template)?this.fromString(e.template,t):$(e.templateUrl)?this.fromUrl(e.templateUrl,t):$(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return S(e)?e(t):e},this.fromUrl=function(n,r){return S(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function d(e){function t(t){if(!/^\w+(-+\w+)*$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(u[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");u[t]=!0,f.push(t)}function n(e){return e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var r,i,o,a,s=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u={},c="^",l=0,d=this.segments=[],f=this.params=[];for(this.source=e;(r=s.exec(e))&&(i=r[2]||r[3],o=r[4]||("*"==r[1]?".*":"[^/]*"),!((a=e.substring(l,r.index)).indexOf("?")>=0));)c+=n(a)+"("+o+")",t(i),d.push(a),l=s.lastIndex;var p=(a=e.substring(l)).indexOf("?");if(p>=0){var h=this.sourceSearch=a.substring(p);a=a.substring(0,p),this.sourcePath=e.substring(0,l+p),P(h.substring(1).split(/[&?]/),t)}else this.sourcePath=e,this.sourceSearch="";c+=n(a)+"$",d.push(a),this.regexp=new RegExp(c),this.prefix=d[0]}function f(e){function t(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function n(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!$(r)||r}var r=[],i=null;this.rule=function(e){if(!S(e))throw new Error("'rule' must be a function");return r.push(e),this},this.otherwise=function(e){if(T(e)){var t=e;e=function(){return t}}else if(!S(e))throw new Error("'rule' must be a function");return i=e,this},this.when=function(r,i){var o,a=T(i);if(T(r)&&(r=e.compile(r)),!a&&!S(i)&&!x(i))throw new Error("invalid 'handler' in when()");var s={matcher:function(t,r){return a&&(o=e.compile(r),r=["$match",function(e){return o.format(e)}]),A(function(e,i){return n(e,r,t.exec(i.path(),i.search()))},{prefix:T(t.prefix)?t.prefix:""})},regex:function(e,r){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(o=r,r=["$match",function(e){return function(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}(o,e)}]),A(function(t,i){return n(t,r,e.exec(i.path()))},{prefix:t(e)})}},u={matcher:e.isMatcher(r),regex:r instanceof RegExp};for(var c in u)if(u[c])return this.rule(s[c](r,i));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(e,t,n){function o(t){function o(t){var r=t(n,e);return!!r&&(T(r)&&e.replace().url(r),!0)}if(!t||!t.defaultPrevented){var a,s=r.length;for(a=0;s>a;a++)if(o(r[a]))return;i&&o(i)}}return t.$on("$locationChangeSuccess",o),{sync:function(){o()}}}]}function p(e,i,o){function c(e,t){var r=T(e),i=r?e:e.name;if(function(e){return 0===e.indexOf(".")||0===e.indexOf("^")}(i)){if(!t)throw new Error("No reference point given for path '"+i+"'");for(var o=i.split("."),a=0,s=o.length,u=t;s>a;a++)if(""!==o[a]||0!==a){if("^"!==o[a])break;if(!u.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;o=o.slice(a).join("."),i=u.name+(u.name&&o?".":"")+o}var c=h[i];return!c||!r&&(r||c!==e&&c.self!==e)?n:c}function l(t){var n=(t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}})).name;if(!T(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(h.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):T(t.parent)?t.parent:"";if(i&&!h[i])return function(e,t){m[e]||(m[e]=[]),m[e].push(t)}(i,t.self);for(var o in v)S(v[o])&&(t[o]=v[o](t,v.$delegates[o]));if(h[n]=t,!t[g]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){p.$current.navigable==t&&u(e,n)||p.transitionTo(t,e,{location:!1})}]),m[n])for(var a=0;a<m[n].length;a++)l(m[n][a]);return t}function d(e,i,l,d,m,v,y,w,C){function b(){y.url()!==N&&(y.url(N),y.replace())}function E(e,n,r,o,a){var s=r?n:function(e,t){var n={};return P(e,function(e){n[e]=t[e]}),n}(e.params,n),u={$stateParams:s};a.resolve=m.resolve(e.resolve,u,a.resolve,e);var c=[a.resolve.then(function(e){a.globals=e})];return o&&c.push(o),P(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return l.load(r,{view:n,locals:u,params:s,notify:!1})||""}],c.push(m.resolve(i,u,a.resolve,e).then(function(o){if(S(n.controllerProvider)||x(n.controllerProvider)){var s=t.extend({},i,u);o.$$controller=d.invoke(n.controllerProvider,null,s)}else o.$$controller=n.controller;o.$$state=e,o.$$controllerAs=n.controllerAs,a[r]=o}))}),i.all(c).then(function(){return a})}var k=i.reject(new Error("transition superseded")),D=i.reject(new Error("transition prevented")),O=i.reject(new Error("transition aborted")),_=i.reject(new Error("transition failed")),N=y.url(),I=C.baseHref();return f.locals={resolve:null,globals:{$stateParams:{}}},(p={params:{},current:f.self,$current:f,transition:null}).reload=function(){p.transitionTo(p.current,v,{reload:!0,inherit:!1,notify:!1})},p.go=function(e,t,n){return this.transitionTo(e,t,A({inherit:!0,relative:p.$current},n))},p.transitionTo=function(t,n,o){n=n||{},o=A({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var l,h=p.$current,m=p.params,w=h.path,C=c(t,o.relative);if(!$(C)){var S={to:t,toParams:n,options:o};if((l=e.$broadcast("$stateNotFound",S,h.self,m)).defaultPrevented)return b(),O;if(l.retry){if(o.$retry)return b(),_;var T=p.transition=i.when(l.retry);return T.then(function(){return T!==p.transition?k:(S.options.$retry=!0,p.transitionTo(S.to,S.toParams,S.options))},function(){return O}),b(),T}if(t=S.to,n=S.toParams,o=S.options,C=c(t,o.relative),!$(C)){if(o.relative)throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'");throw new Error("No such state '"+t+"'")}}if(C[g])throw new Error("Cannot transition to abstract state '"+t+"'");o.inherit&&(n=a(v,n||{},p.$current,C));var x,P,I=(t=C).path,R=f.locals,L=[];for(P=I[x=0];P&&P===w[x]&&u(n,m,P.ownParams)&&!o.reload;P=I[++x])R=L[x]=P.locals;if(function(e,t,n,r){return e===t&&(n===t.locals&&!r.reload||!1===e.self.reloadOnSearch)||void 0}(t,h,R,o))return!1!==t.self.reloadOnSearch&&b(),p.transition=null,i.when(p.current);if(n=s(t.params,n||{}),o.notify&&(l=e.$broadcast("$stateChangeStart",t.self,n,h.self,m)).defaultPrevented)return b(),D;for(var H=i.when(R),V=x;V<I.length;P=I[++V])R=L[V]=r(R),H=E(P,n,P===t,H,R);var F=p.transition=H.then(function(){var r,i,a;if(p.transition!==F)return k;for(r=w.length-1;r>=x;r--)(a=w[r]).self.onExit&&d.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=x;r<I.length;r++)(i=I[r]).locals=L[r],i.self.onEnter&&d.invoke(i.self.onEnter,i.self,i.locals.globals);if(p.transition!==F)return k;p.$current=t,p.current=t.self,p.params=n,M(p.params,v),p.transition=null;var s=t.navigable;return o.location&&s&&(y.url(s.url.format(s.locals.globals.$stateParams)),"replace"===o.location&&y.replace()),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,h.self,m),N=y.url(),p.current},function(r){return p.transition!==F?k:(p.transition=null,e.$broadcast("$stateChangeError",t.self,n,h.self,m,r),b(),i.reject(r))});return F},p.is=function(e,r){var i=c(e);return $(i)?p.$current===i&&(!$(r)||null===r||t.equals(v,r)):n},p.includes=function(e,r){if(T(e)&&function(e){return e.indexOf("*")>-1}(e)){if(!function(e){var t=e.split("."),n=p.$current.name.split(".");if("**"===t[0]&&(n=n.slice(n.indexOf(t[1]))).unshift("**"),"**"===t[t.length-1]&&(n.splice(n.indexOf(t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return n.join("")===t.join("")}(e))return!1;e=p.$current.name}var i=c(e);if(!$(i))return n;if(!$(p.$current.includes[i.name]))return!1;var o=!0;return t.forEach(r,function(e,t){$(v[t])&&v[t]===e||(o=!1)}),o},p.href=function(e,t,n){var r=c(e,(n=A({lossy:!0,inherit:!1,absolute:!1,relative:p.$current},n||{})).relative);if(!$(r))return null;t=a(v,t||{},p.$current,r);var i=r&&n.lossy?r.navigable:r,u=i&&i.url?i.url.format(s(r.params,t||{})):null;return!o.html5Mode()&&u&&(u="#"+o.hashPrefix()+u),"/"!==I&&(o.html5Mode()?u=I.slice(0,-1)+u:n.absolute&&(u=I.slice(1)+u)),n.absolute&&u&&(u=y.protocol()+"://"+y.host()+(80==y.port()||443==y.port()?"":":"+y.port())+(!o.html5Mode()&&u?"/":"")+u),u},p.get=function(e,t){if(!$(e)){var n=[];return P(h,function(e){n.push(e.self)}),n}var r=c(e,t);return r&&r.self?r.self:null},p}var f,p,h={},m={},g="abstract",v={parent:function(e){if($(e.parent)&&e.parent)return c(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?c(t[1]):f},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=A({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url;if(T(t))return"^"==t.charAt(0)?i.compile(t.substring(1)):(e.parent.navigable||f).url.concat(t);if(i.isMatcher(t)||null==t)return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},params:function(e){if(!e.params)return e.url?e.url.parameters():e.parent.params;if(!x(e.params))throw new Error("Invalid params in state '"+e+"'");if(e.url)throw new Error("Both params and url specicified in state '"+e+"'");return e.params},views:function(e){var t={};return P($(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},ownParams:function(e){if(!e.parent)return e.params;var t={};P(e.params,function(e){t[e]=!0}),P(e.parent.params,function(n){if(!t[n])throw new Error("Missing required parameter '"+n+"' in state '"+e.name+"'");t[n]=!1});var n=[];return P(t,function(e,t){e&&n.push(t)}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?A({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};(f=l({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){return T(e)&&!$(t)?v[e]:S(t)&&T(e)?(v[e]&&!v.$delegates[e]&&(v.$delegates[e]=v[e]),v[e]=t,this):this},this.state=function(e,t){return k(e)?t=e:t.name=e,l(t),this},this.$get=d,d.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter","$browser"]}function h(){function e(e,t){return{load:function(n,r){var i;return(r=A({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},r)).view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function m(e,n,r){function i(e,t){if(s)return{enter:function(e,t,n){s.enter(e,null,t,n)},leave:function(e,t){s.leave(e,t)}};if(a){var n=a&&a(t,e);return{enter:function(e,t,r){n.enter(e,null,t),r()},leave:function(e,t){n.leave(e),t()}}}return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}}var o=n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}},a=o("$animator"),s=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,a){return function(n,o,s){function u(){l&&(l.remove(),l=null),f&&(f.$destroy(),f=null),d&&(g.leave(d,function(){l=null}),l=d,d=null)}function c(i){var s=n.$new(),c=d&&d.data("$uiViewName"),l=c&&e.$current&&e.$current.locals[c];if(i||l!==p){var v=a(s,function(e){g.enter(e,o,function(){(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),u()});p=e.$current.locals[v.data("$uiViewName")],d=v,(f=s).$emit("$viewContentLoaded"),f.$eval(h)}}var l,d,f,p,h=s.onload||"",m=s.autoscroll,g=i(s,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}}}function g(e,t,n){return{restrict:"ECA",priority:-400,compile:function(r){var i=r.html();return function(r,o,a){var s=a.uiView||a.name||"",u=o.inheritedData("$uiView");s.indexOf("@")<0&&(s=s+"@"+(u?u.state.name:"")),o.data("$uiViewName",s);var c=n.$current,l=c&&c.locals[s];if(l){o.data("$uiView",{name:s,state:l.$$state}),o.html(l.$template?l.$template:i);var d=e(o.contents());if(l.$$controller){l.$scope=r;var f=t(l.$$controller,l);l.$$controllerAs&&(r[l.$$controllerAs]=f),o.data("$ngControllerController",f),o.children().data("$ngControllerController",f)}d(r)}}}}}function v(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function y(e,n){var r=["location","inherit","reload"];return{restrict:"A",require:"?^uiSrefActive",link:function(i,o,a,s){var u=function(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}(a.uiSref),c=null,l=v(o)||e.$current,d="FORM"===o[0].nodeName,f=d?"action":"href",p=!0,h={relative:l},m=i.$eval(a.uiSrefOpts)||{};t.forEach(r,function(e){e in m&&(h[e]=m[e])});var g=function(t){if(t&&(c=t),p){var n=e.href(u.state,c,h);return s&&s.$$setStateInfo(u.state,c),n?void(o[0][f]=n):(p=!1,!1)}};u.paramExpr&&(i.$watch(u.paramExpr,function(e){e!==c&&g(e)},!0),c=i.$eval(u.paramExpr)),g(),d||o.bind("click",function(t){(t.which||t.button)>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target")||(n(function(){e.go(u.state,c,h)}),t.preventDefault())})}}}function w(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(r,i,o){function a(){e.$current.self!==s||c&&!u(c,t)?i.removeClass(l):i.addClass(l)}var s,c,l;l=n(o.uiSrefActive||"",!1)(r),this.$$setStateInfo=function(t,n){s=e.get(t,v(i)),c=n,a()},r.$on("$stateChangeSuccess",a)}]}}function C(e){return function(t){return e.is(t)}}function b(e){return function(t){return e.includes(t)}}function E(e,t){function i(e){this.locals=e.locals.globals,this.params=this.locals.$stateParams}function o(){this.locals=null,this.params=null}function a(e,t,r){function i(e){return""!==e.name?e:n}var o={routes:s,params:r,current:n};return t.$on("$stateChangeStart",function(e,n,r,o){t.$broadcast("$routeChangeStart",i(n),i(o))}),t.$on("$stateChangeSuccess",function(e,n,r,a){o.current=i(n),t.$broadcast("$routeChangeSuccess",i(n),i(a)),M(r,o.params)}),t.$on("$stateChangeError",function(e,n,r,o,a,s){t.$broadcast("$routeChangeError",i(n),i(o),s)}),o}var s=[];i.$inject=["$$state"],this.when=function(n,a){if(null!=a.redirectTo){var u,c=a.redirectTo;if(T(c))u=c;else{if(!S(c))throw new Error("Invalid 'redirectTo' in when()");u=function(e,t){return c(e,t.path(),t.search())}}t.when(n,u)}else e.state(r(a,{parent:null,name:"route:"+encodeURIComponent(n),url:n,onEnter:i,onExit:o}));return s.push(a),this},this.$get=a,a.$inject=["$state","$rootScope","$routeParams"]}var $=t.isDefined,S=t.isFunction,T=t.isString,k=t.isObject,x=t.isArray,P=t.forEach,A=t.extend,M=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),c.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",c),l.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",l),d.prototype.concat=function(e){return new d(this.sourcePath+e+this.sourceSearch)},d.prototype.toString=function(){return this.source},d.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;var r,i=this.params,o=i.length,a=this.segments.length-1,s={};if(a!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;a>r;r++)s[i[r]]=n[r+1];for(;o>r;r++)s[i[r]]=t[i[r]];return s},d.prototype.parameters=function(){return this.params},d.prototype.format=function(e){var t=this.segments,n=this.params;if(!e)return t.join("");var r,i,o,a=t.length-1,s=n.length,u=t[0];for(r=0;a>r;r++)null!=(o=e[n[r]])&&(u+=encodeURIComponent(o)),u+=t[r+1];for(;s>r;r++)null!=(o=e[n[r]])&&(u+=(i?"&":"?")+n[r]+"="+encodeURIComponent(o),i=!0);return u},t.module("ui.router.util").provider("$urlMatcherFactory",function(){this.compile=function(e){return new d(e)},this.isMatcher=function(e){return k(e)&&S(e.exec)&&S(e.format)&&S(e.concat)},this.$get=function(){return this}}),f.$inject=["$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",f),p.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",p),h.$inject=[],t.module("ui.router.state").provider("$view",h),t.module("ui.router.state").provider("$uiViewScroll",function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}),m.$inject=["$state","$injector","$uiViewScroll"],g.$inject=["$compile","$controller","$state"],t.module("ui.router.state").directive("uiView",m),t.module("ui.router.state").directive("uiView",g),y.$inject=["$state","$timeout"],w.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",y).directive("uiSrefActive",w),C.$inject=["$state"],b.$inject=["$state"],t.module("ui.router.state").filter("isState",C).filter("includedByState",b),E.$inject=["$stateProvider","$urlRouterProvider"],t.module("ui.router.compat").provider("$route",E).directive("ngView",m)}(window,window.angular),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.anime=t()}(this,function(){"use strict";var e={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},t={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},n=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],r={CSS:{},springs:{}};function i(e,t,n){return Math.min(Math.max(e,t),n)}function o(e,t){return e.indexOf(t)>-1}function a(e,t){return e.apply(null,t)}var s={arr:function(e){return Array.isArray(e)},obj:function(e){return o(Object.prototype.toString.call(e),"Object")},pth:function(e){return s.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||s.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return s.hex(e)||s.rgb(e)||s.hsl(e)},key:function(n){return!e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&"targets"!==n&&"keyframes"!==n}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function c(e,t){var n=u(e),o=i(s.und(n[0])?1:n[0],.1,100),a=i(s.und(n[1])?100:n[1],.1,100),c=i(s.und(n[2])?10:n[2],.1,100),l=i(s.und(n[3])?0:n[3],.1,100),d=Math.sqrt(a/o),f=c/(2*Math.sqrt(a*o)),p=f<1?d*Math.sqrt(1-f*f):0,h=1,m=f<1?(f*d-l)/p:-l+d;function g(e){var n=t?t*e/1e3:e;return n=f<1?Math.exp(-n*f*d)*(h*Math.cos(p*n)+m*Math.sin(p*n)):(h+m*n)*Math.exp(-n*d),0===e||1===e?e:1-n}return t?g:function(){var t=r.springs[e];if(t)return t;for(var n=0,i=0;;)if(1===g(n+=1/6)){if(++i>=16)break}else i=0;var o=n*(1/6)*1e3;return r.springs[e]=o,o}}function l(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var d,f,p=function(){var e=11,t=1/(e-1);function n(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function i(e){return 3*e}function o(e,t,o){return((n(t,o)*e+r(t,o))*e+i(t))*e}function a(e,t,o){return 3*n(t,o)*e*e+2*r(t,o)*e+i(t)}return function(n,r,i,s){if(0<=n&&n<=1&&0<=i&&i<=1){var u=new Float32Array(e);if(n!==r||i!==s)for(var c=0;c<e;++c)u[c]=o(c*t,n,i);return function(e){return n===r&&i===s?e:0===e||1===e?e:o(l(e),r,s)}}function l(r){for(var s=0,c=1,l=e-1;c!==l&&u[c]<=r;++c)s+=t;var d=s+(r-u[--c])/(u[c+1]-u[c])*t,f=a(d,n,i);return f>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var s=a(t,n,r);if(0===s)return t;t-=(o(t,n,r)-e)/s}return t}(r,d,n,i):0===f?d:function(e,t,n,r,i){for(var a,s,u=0;(a=o(s=t+(n-t)/2,r,i)-e)>0?n=s:t=s,Math.abs(a)>1e-7&&++u<10;);return s}(r,s,s+t,n,i)}}}(),h=(d={linear:function(){return function(e){return e}}},f={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=i(e,1,10),r=i(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){f[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(f).forEach(function(e){var t=f[e];d["easeIn"+e]=t,d["easeOut"+e]=function(e,n){return function(r){return 1-t(e,n)(1-r)}},d["easeInOut"+e]=function(e,n){return function(r){return r<.5?t(e,n)(2*r)/2:1-t(e,n)(-2*r+2)/2}}}),d);function m(e,t){if(s.fnc(e))return e;var n=e.split("(")[0],r=h[n],i=u(e);switch(n){case"spring":return c(e,t);case"cubicBezier":return a(p,i);case"steps":return a(l,i);default:return a(r,i)}}function g(e){try{return document.querySelectorAll(e)}catch(e){return}}function v(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in e){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i}function y(e){return e.reduce(function(e,t){return e.concat(s.arr(t)?y(t):t)},[])}function w(e){return s.arr(e)?e:(s.str(e)&&(e=g(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function C(e,t){return e.some(function(e){return e===t})}function b(e){var t={};for(var n in e)t[n]=e[n];return t}function E(e,t){var n=b(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function $(e,t){var n=b(e);for(var r in t)n[r]=s.und(e[r])?t[r]:e[r];return n}function S(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function T(e,t){return s.fnc(e)?e(t.target,t.id,t.total):e}function k(e,t){return e.getAttribute(t)}function x(e,t,n){if(C([n,"deg","rad","turn"],S(t)))return t;var i=r.CSS[t+n];if(!s.und(i))return i;var o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=100+n;var u=100/o.offsetWidth;a.removeChild(o);var c=u*parseFloat(t);return r.CSS[t+n]=c,c}function P(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?x(e,i,n):i}}function A(e,t){return s.dom(e)&&!s.inp(e)&&(k(e,t)||s.svg(e)&&e[t])?"attribute":s.dom(e)&&C(n,t)?"transform":s.dom(e)&&"transform"!==t&&P(e,t)?"css":null!=e[t]?"object":void 0}function M(e){if(s.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;t=r.exec(n);)i.set(t[1],t[2]);return i}}function D(e,t,n,r){switch(A(e,t)){case"transform":return function(e,t,n,r){var i,a=o(t,"scale")?1:0+(o(i=t,"translate")||"perspective"===i?"px":o(i,"rotate")||o(i,"skew")?"deg":void 0),s=M(e).get(t)||a;return n&&(n.transforms.list.set(t,s),n.transforms.last=t),r?x(e,s,r):s}(e,t,r,n);case"css":return P(e,t,n);case"attribute":return k(e,t);default:return e[t]||0}}function O(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=S(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function _(e,t){if(s.col(e))return function(e){return s.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:s.hex(e)?(r=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"):s.hsl(e)?function(e){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,u=i[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==a)t=n=r=s;else{var l=s<.5?s*(1+a):s+a-s*a,d=2*s-l;t=c(d,l,o+1/3),n=c(d,l,o),r=c(d,l,o-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+u+")"}(e):void 0;var t,n,r,i}(e);if(/\s/g.test(e))return e;var n=S(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function N(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function I(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);i>0&&(r+=N(t,o)),t=o}return r}function R(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return o=e,2*Math.PI*k(o,"r");case"rect":return 2*k(i=e,"width")+2*k(i,"height");case"line":return N({x:k(r=e,"x1"),y:k(r,"y1")},{x:k(r,"x2"),y:k(r,"y2")});case"polyline":return I(e);case"polygon":return n=(t=e).points,I(t)+N(n.getItem(n.numberOfItems-1),n.getItem(0))}var t,n,r,i,o}function L(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;s.svg(t)&&s.svg(t.parentNode);)t=t.parentNode;return t}(e),i=r.getBoundingClientRect(),o=k(r,"viewBox"),a=i.width,u=i.height,c=n.viewBox||(o?o.split(" "):[0,0,a,u]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:a/c[2],h:u/c[3]}}function H(e,t){function n(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var r=L(e.el,e.svg),i=n(),o=n(-1),a=n(1);switch(e.property){case"x":return(i.x-r.x)*r.w;case"y":return(i.y-r.y)*r.h;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function V(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=_(s.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:s.str(e)||t?r.split(n):[]}}function F(e){return v(e?y(s.arr(e)?e.map(w):w(e)):[],function(e,t,n){return n.indexOf(e)===t})}function U(e){var t=F(e);return t.map(function(e,n){return{target:e,id:n,total:t.length,transforms:{list:M(e)}}})}function j(e,t){var n=b(t);if(/^spring/.test(n.easing)&&(n.duration=c(n.easing)),s.arr(e)){var r=e.length;2!==r||s.obj(e[0])?s.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}var i=s.arr(e)?e:[e];return i.map(function(e,n){var r=s.obj(e)&&!s.pth(e)?e:{value:e};return s.und(r.delay)&&(r.delay=n?0:t.delay),s.und(r.endDelay)&&(r.endDelay=n===i.length-1?t.endDelay:0),r}).map(function(e){return $(e,n)})}function B(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=$(function(e){for(var t=v(y(e.map(function(e){return Object.keys(e)})),function(e){return s.key(e)}).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),n={},r=function(r){var i=t[r];n[i]=e.map(function(e){var t={};for(var n in e)s.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t})},i=0;i<t.length;i++)r(i);return n}(r),t)),t)s.key(i)&&n.push({name:i,tweens:j(t[i],e)});return n}var q={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var o="";r.list.forEach(function(e,t){o+=t+"("+e+") "}),e.style.transform=o}}};function W(e,t){U(e).forEach(function(e){for(var n in t){var r=T(t[n],e),i=e.target,o=S(r),a=D(i,n,o,e),s=O(_(r,o||S(a)),a),u=A(i,n);q[u](i,n,s,e.transforms,!0)}})}function z(e,t){return v(y(e.map(function(e){return t.map(function(t){return function(e,t){var n=A(e.target,t.name);if(n){var r=function(e,t){var n;return e.tweens.map(function(r){var i=function(e,t){var n={};for(var r in e){var i=T(e[r],t);s.arr(i)&&1===(i=i.map(function(e){return T(e,t)})).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),o=i.value,a=s.arr(o)?o[1]:o,u=S(a),c=D(t.target,e.name,u,t),l=n?n.to.original:c,d=s.arr(o)?o[0]:l,f=S(d)||S(c),p=u||f;return s.und(a)&&(a=l),i.from=V(d,p),i.to=V(O(a,d),p),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=m(i.easing,i.duration),i.isPath=s.pth(o),i.isColor=s.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)})})),function(e){return!s.und(e)})}function Y(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map(function(e){return r(e)+e.duration})):t.duration,i.delay=n?Math.min.apply(Math,e.map(function(e){return r(e)+e.delay})):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map(function(e){return r(e)+e.duration-e.endDelay})):t.endDelay,i}var G,K=0,Z=[],J=[],X=function(){function e(){G=requestAnimationFrame(t)}function t(t){var n=Z.length;if(n){for(var r=0;r<n;){var i=Z[r];if(i.paused){var o=Z.indexOf(i);o>-1&&(Z.splice(o,1),n=Z.length)}else i.tick(t);r++}e()}else G=cancelAnimationFrame(G)}return e}();function Q(n){void 0===n&&(n={});var r,o=0,a=0,s=0,u=0,c=null;function l(e){var t=window.Promise&&new Promise(function(e){return c=e});return e.finished=t,t}var d,f,p,h,m,g,y,w,C=(f=E(e,d=n),h=B(p=E(t,d),d),y=Y(g=z(m=U(d.targets),h),p),w=K,K++,$(f,{id:w,children:[],animatables:m,animations:g,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));function b(){var e=C.direction;"alternate"!==e&&(C.direction="normal"!==e?"normal":"reverse"),C.reversed=!C.reversed,r.forEach(function(e){return e.reversed=C.reversed})}function S(e){return C.reversed?C.duration-e:e}function T(){o=0,a=S(C.currentTime)*(1/Q.speed)}function k(e,t){t&&t.seek(e-t.timelineOffset)}function x(e){for(var t=0,n=C.animations,r=n.length;t<r;){var o=n[t],a=o.animatable,s=o.tweens,u=s.length-1,c=s[u];u&&(c=v(s,function(t){return e<t.end})[0]||c);for(var l=i(e-c.start-c.delay,0,c.duration)/c.duration,d=isNaN(l)?1:c.easing(l),f=c.to.strings,p=c.round,h=[],m=c.to.numbers.length,g=void 0,y=0;y<m;y++){var w=void 0,b=c.to.numbers[y],E=c.from.numbers[y]||0;w=c.isPath?H(c.value,d*b):E+d*(b-E),p&&(c.isColor&&y>2||(w=Math.round(w*p)/p)),h.push(w)}var $=f.length;if($){g=f[0];for(var S=0;S<$;S++){f[S];var T=f[S+1],k=h[S];isNaN(k)||(g+=T?k+T:k+" ")}}else g=h[0];q[o.type](a.target,o.property,g,a.transforms),o.currentValue=g,t++}}function P(e){C[e]&&!C.passThrough&&C[e](C)}function A(e){var t=C.duration,n=C.delay,d=t-C.endDelay,f=S(e);C.progress=i(f/t*100,0,100),C.reversePlayback=f<C.currentTime,r&&function(e){if(C.reversePlayback)for(var t=u;t--;)k(e,r[t]);else for(var n=0;n<u;n++)k(e,r[n])}(f),!C.began&&C.currentTime>0&&(C.began=!0,P("begin")),!C.loopBegan&&C.currentTime>0&&(C.loopBegan=!0,P("loopBegin")),f<=n&&0!==C.currentTime&&x(0),(f>=d&&C.currentTime!==t||!t)&&x(t),f>n&&f<d?(C.changeBegan||(C.changeBegan=!0,C.changeCompleted=!1,P("changeBegin")),P("change"),x(f)):C.changeBegan&&(C.changeCompleted=!0,C.changeBegan=!1,P("changeComplete")),C.currentTime=i(f,0,t),C.began&&P("update"),e>=t&&(a=0,C.remaining&&!0!==C.remaining&&C.remaining--,C.remaining?(o=s,P("loopComplete"),C.loopBegan=!1,"alternate"===C.direction&&b()):(C.paused=!0,C.completed||(C.completed=!0,P("loopComplete"),P("complete"),!C.passThrough&&"Promise"in window&&(c(),l(C)))))}return l(C),C.reset=function(){var e=C.direction;C.passThrough=!1,C.currentTime=0,C.progress=0,C.paused=!0,C.began=!1,C.loopBegan=!1,C.changeBegan=!1,C.completed=!1,C.changeCompleted=!1,C.reversePlayback=!1,C.reversed="reverse"===e,C.remaining=C.loop,r=C.children;for(var t=u=r.length;t--;)C.children[t].reset();(C.reversed&&!0!==C.loop||"alternate"===e&&1===C.loop)&&C.remaining++,x(C.reversed?C.duration:0)},C.set=function(e,t){return W(e,t),C},C.tick=function(e){s=e,o||(o=s),A((s+(a-o))*Q.speed)},C.seek=function(e){A(S(e))},C.pause=function(){C.paused=!0,T()},C.play=function(){C.paused&&(C.completed&&C.reset(),C.paused=!1,Z.push(C),T(),G||X())},C.reverse=function(){b(),T()},C.restart=function(){C.reset(),C.play()},C.reset(),C.autoplay&&C.play(),C}function ee(e,t){for(var n=t.length;n--;)C(e,t[n].animatable.target)&&t.splice(n,1)}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(Z.forEach(function(e){return e.pause()}),J=Z.slice(0),Q.running=Z=[]):J.forEach(function(e){return e.play()})}),Q.version="3.1.0",Q.speed=1,Q.running=Z,Q.remove=function(e){for(var t=F(e),n=Z.length;n--;){var r=Z[n],i=r.animations,o=r.children;ee(t,i);for(var a=o.length;a--;){var s=o[a],u=s.animations;ee(t,u),u.length||s.children.length||o.splice(a,1)}i.length||o.length||r.pause()}},Q.get=D,Q.set=W,Q.convertPx=x,Q.path=function(e,t){var n=s.str(e)?g(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:L(n),totalLength:R(n)*(r/100)}}},Q.setDashoffset=function(e){var t=R(e);return e.setAttribute("stroke-dasharray",t),t},Q.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?m(t.easing):null,i=t.grid,o=t.axis,a=t.from||0,u="first"===a,c="center"===a,l="last"===a,d=s.arr(e),f=d?parseFloat(e[0]):parseFloat(e),p=d?parseFloat(e[1]):0,h=S(d?e[1]:e)||0,g=t.start||0+(d?f:0),v=[],y=0;return function(e,t,s){if(u&&(a=0),c&&(a=(s-1)/2),l&&(a=s-1),!v.length){for(var m=0;m<s;m++){if(i){var w=c?(i[0]-1)/2:a%i[0],C=c?(i[1]-1)/2:Math.floor(a/i[0]),b=w-m%i[0],E=C-Math.floor(m/i[0]),$=Math.sqrt(b*b+E*E);"x"===o&&($=-b),"y"===o&&($=-E),v.push($)}else v.push(Math.abs(a-m));y=Math.max.apply(Math,v)}r&&(v=v.map(function(e){return r(e/y)*y})),"reverse"===n&&(v=v.map(function(e){return o?e<0?-1*e:-e:Math.abs(y-e)}))}return g+(d?(p-f)/y:f)*(Math.round(100*v[t])/100)+h}},Q.timeline=function(e){void 0===e&&(e={});var n=Q(e);return n.duration=0,n.add=function(r,i){var o=Z.indexOf(n),a=n.children;function u(e){e.passThrough=!0}o>-1&&Z.splice(o,1);for(var c=0;c<a.length;c++)u(a[c]);var l=$(r,E(t,e));l.targets=l.targets||e.targets;var d=n.duration;l.autoplay=!1,l.direction=n.direction,l.timelineOffset=s.und(i)?d:O(i,d),u(n),n.seek(l.timelineOffset);var f=Q(l);u(f),a.push(f);var p=Y(a,e);return n.delay=p.delay,n.endDelay=p.endDelay,n.duration=p.duration,n.seek(0),n.reset(),n.autoplay&&n.play(),n},n},Q.easing=m,Q.penner=h,Q.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Q});var pnErrorWatcher=function(){return new function(){var e=[];function t(t){var n={userAgent:navigator.userAgent};if(t instanceof Error&&(n.stack=t.stack,n.message=t.message),t instanceof Event){var r=t,i="error"in r&&r.error;n.stack=i?r.error.stack:"n/a",n.message=i?r.error.message:"n/a"}var o,a=getParameterByName("widget");n.tags=a?[a]:["unknown"],o=n,-1===e.map(JSON.stringify).indexOf(JSON.stringify(o))&&e.push(n)}function n(e){try{t(e)}catch(e){console.warn("Can not log an error, something went wrong: ",e)}}this.manualLog=function(e){try{t(e)}catch(t){console.warn("Can not log an error, something went wrong: ",t,e)}},this.watchUnhandled=function(){window.addEventListener&&window.addEventListener("error",n)},this.reset=function(){window.removeEventListener("error",n)},this.getErrors=function(){return e.map(function(e){return Object.assign({},e)})}}}(),errorHandler=function(e){function t(){this.sender=null,this.event=null,this.params=null}var n=1e4;try{return new function(){var r={whitelistUrls:[]};function i(){try{var n=e.getErrors().filter(function(e){return r.whitelistUrls.some(function(t){return e.stack&&e.stack.match(t)})});if(0===n.length)return;!function(e){try{var n=window.opener||window.parent,r=Object.assign(new t,{sender:getParameterByName("iframeId"),event:"EVENT_TP_ERROR_HANDLER",params:e});n&&n.postMessage(JSON.stringify(r),"*")}catch(e){console.warn("Can not post message errors to parent: ",e)}}(n)}catch(e){console.warn("Errors can not be sent: ",e)}}function o(){e.watchUnhandled(),setTimeout(function(){i(),e.reset()},n)}this.setConfig=function(e){r=Object.assign(r,e)},this.start=function(){try{o()}catch(e){console.warn("Error logger can not be started: ",e)}}}}catch(e){console.warn("Can't initiate errorHandler: ",e)}}(pnErrorWatcher);function tpDatepickerService(){return{buildCalendarSkeleton:function(r,i,o,a){var s=[],u=null,c=null,l=new Date;l.setHours(0,0,0),o.innerFromDateStart&&o.innerFromDateStart.setHours(0,0,0,0);o.innerFromDateEnd&&o.innerFromDateEnd.setHours(0,0,0,0);a.innerToDateStart&&a.innerToDateStart.setHours(0,0,0,0);a.innerToDateEnd&&a.innerToDateEnd.setHours(0,0,0,0);for(var d=!1,f=r.numColumn*r.numRow;f>0;f--){var p=null,h=null,m=!1,g=!1;switch(r.unit){default:case"d":p=new Date(i.viewDateStart.getFullYear(),i.viewDateStart.getMonth(),f*r.unitRange-(r.unitRange-1),0,0,0,0),h=new Date(i.viewDateEnd.getFullYear(),i.viewDateEnd.getMonth(),f*r.unitRange,0,0,0);break;case"m":p=new Date(i.viewDateStart.getFullYear(),f*r.unitRange-(r.unitRange-1)-1,1),h=new Date(i.viewDateStart.getFullYear(),f*r.unitRange,0)}o.innerFromDateStart>=p&&o.innerFromDateEnd<=h&&(g=!0),p>=o.innerFromDateEnd&&h<=a.innerToDateStart&&(g=!0),a.innerToDateStart>=p&&a.innerToDateEnd<=h&&(g=!0),p>=o.innerFromDateStart&&h<=a.innerToDateEnd&&(g=!0),p>i.viewDateEnd&&(m=!0),d=e(p,l),s.unshift({currentDateStart:p,currentDateOver:h,selectRange:g,disabled:t(p,r),out:m,today:d,selectToday:d&&r.currentDayHighlight,firstSelectDay:!1,lastSelectDay:!1})}if("d"===r.unit&&1===r.unitRange&&7===r.numColumn)for(var v=s[0].currentDateStart.getDay(),f=v>=r.startDay?v-r.startDay:7-(r.startDay-v);f--;){var y=new Date(s[0].currentDateStart.getTime());y.setDate(s[0].currentDateStart.getDate()-1),p=new Date(y.getTime()),h=new Date(p.getTime());var g=!1;o.innerFromDateStart&&a.innerToDateEnd&&(u=new Date(o.innerFromDateStart.getTime()).setHours(0,0,0,0),c=new Date(a.innerToDateEnd.getTime()).setHours(0,0,0,0),p>=u&&h<=c&&(g=!0)),s.unshift({currentDateStart:p,currentDateOver:h,selectRange:g,disabled:t(p,r),out:!0,today:!1,firstSelectDay:!1,lastSelectDay:!1}),s.pop()}var w=null;for(f=s.length;f--;)s[f].index=f,w&&s[f].selectRange&&!w.selectRange&&(s[f].lastSelectDay=!0),!w&&s[f].selectRange&&s[f].currentDateOver>=a.innerToDateEnd&&(s[f].lastSelectDay=!0),w&&!s[f].selectRange&&w.selectRange&&(s[f+1].firstSelectDay=!0),!s[f-1]&&s[f].selectRange&&s[f].currentDateStart<=o.innerFromDateStart&&(s[f].firstSelectDay=!0),w=s[f];for(var C=[],b=0;b<r.numRow;b++){C[b]=[];for(var E=0;E<r.numColumn;E++){if(C[b][E]=s[E+b*r.numColumn],r.markerColumn)for(var $=r.markerColumn.length;$--;)r.markerColumn[$].numb-1===E&&(C[b][E].markerColumn=r.markerColumn[$].name||"marker-column");if(r.markerRow)for(var $=r.markerRow.length;$--;)r.markerRow[$].numb-1===b&&(C[b][E].markerRow=r.markerRow[$].name||"marker-row");C[b][E].markerDay=n(C[b][E],r.markerDays)}}return s=null,C},isSameDay:e};function e(e,t){return e.getDate()<=t.getDate()&&e.getMonth()<=t.getMonth()&&e.getFullYear()<=t.getFullYear()&&e.getDate()>=t.getDate()&&e.getMonth()>=t.getMonth()&&e.getFullYear()>=t.getFullYear()}function t(e,t){var n=t.limitDateNotBefore,r=t.limitDateNotAfter;return n&&r?n>e||e>r:n?n>e:!!r&&r<e}function n(e,t){var n=!1;if(t){var r=new Date(e.currentDateStart.getFullYear(),0,0),i=Math.floor((e.currentDateStart-r)/864e5);r=new Date(e.currentDateOver.getFullYear(),0,0);for(var o=Math.floor((e.currentDateOver-r)/864e5),a=t.length;a--;)if(t[a]>=i&&t[a]<=o){n=!0;break}}return n}}!function(e){try{var t=[/\w*\.tinypass\.com/,/localhost/],n=localStorage.getItem("__tp-tinypassErrorHandlerTestMode"),r=location&&location.hostname;n&&r&&t.push(new RegExp(r)),e.setConfig({whitelistUrls:t}),e.start()}catch(e){console.warn("Can't configure errorHandler: ",e)}}(errorHandler),angular.module("tp.ui.datepicker",["tp.ui.timepicker","tp.i18n","datetime","ngInputDate"]).directive("tpDatepicker",tpDatepicker).directive("tpDatepickerInline",tpDatepickerInline).factory("tpDatepickerService",tpDatepickerService).run(tpTemplates);var datepickerScope={openCalendar:"=?openCalendar",disable:"=?disable",changeState:"&?changeState",fromDate:"=fromDate",toDate:"=toDate",pickClick:"&?pickClick",applyClick:"&?applyClick",changeTab:"&?changeTab",options:"=?options",activeTab:"=?activeTab",openTab:"=?openTab",initialEmpty:"&?initialEmpty"},datepickerInlineScope={fromDate:"=fromDate",toDate:"=toDate",pickClick:"&?pickClick",options:"=?options",currentFromDate:"=",currentToDate:"="};function tpDatepickerInline(){return{scope:datepickerInlineScope,controller:["$scope","$timeout","tpDatepickerService","lang","datetimePlaceholder",function(e,t,n,r,i){datepickerController(e,t,n,r,i),e.$watch(function(){return e.getSelectedFromDate()},function(t){e.currentFromDate=t}),e.$watch(function(){return e.getSelectedToDate()},function(t){e.currentToDate=new Date(t.getTime()+e.activeCalendar.diffDateEnd)})}],templateUrl:"template/datepicker/datepicker-inline.html",restrict:"A"}}function tpDatepicker(e,t,n,r){return{scope:datepickerScope,link:function(r,i,o){r.openCalendar=!!r.openCalendar,i.find("input[type=date]").prop("type","text"),n(function(){r.contentLoaded=!0}),r.showCalendar=function(){if(r.openCalendar=!r.openCalendar,!0===r.disable)r.openCalendar=!1,a();else if(r.openCalendar){if(r.positionUpdated=!1,r.fromDate){var o=new Date(r.fromDate).getHours(),c=new Date(r.fromDate).getMinutes();r.$broadcast("time-updated",{hours:o,minutes:c})}n(function(){var n=i.find(".calendar"),o=i.find(".extended"),a=n.offset().top+n.innerHeight()>t.innerHeight,c=o.offset().top<n.innerHeight(),l=1;if(c&&a){var d=n.innerHeight(),f=t.innerHeight-(o.offset().top+o.innerHeight()),p=o.offset().top,h=f>p;l=((h?f:p)-10)/(n.innerHeight()+19);var m=(d-d*l)/2-19*l;n[0].style.setProperty("transform","scale("+l+")"),n[0].style.setProperty("margin-top","-"+m+"px")}else if(a){var m=n.offset().top-o.offset().top+n.innerHeight()+9;n[0].classList.add("top"),n[0].style.setProperty("top","-"+m+"px")}if(o.offset().left+o.innerWidth()/2<n.innerWidth()*l/2)n.offset({left:20});else if(o.offset().left+n.innerWidth()*l/2+o.innerWidth()/2>t.innerWidth)n.offset({left:t.innerWidth-n.innerWidth()*l-20});else{var g=n.innerWidth()*l,v=(o.innerWidth()-g)/2,y=(n.innerWidth()-g)/2,w=-y+v;n[0].style.setProperty("left",w+"px")}e.bind("click",s),e.bind("keyup",u),r.positionUpdated=!0},10),n(function(){r.changeState&&r.changeState()},10)}else a(),n(function(){r.changeState&&r.changeState()},10)},r.openCalendar&&(r.openCalendar=!1,r.showCalendar());function a(){e.unbind("click",s),e.unbind("keyup",u)}function s(e){r.$apply(function(){r.showCalendar()})}function u(e){switch(e.keyCode){case 27:r.$apply(function(){r.showCalendar()});break;case 37:r.$apply(function(){r.changeLeft(-1),r.changeRight(-1)});break;case 39:r.$apply(function(){r.changeRight(1),r.changeLeft(1)})}}r.updatePosition=function(){n(function(){var e=i.find(".calendar"),n=i.find(".extended");i.find(".dtpicker-input");n.offset().left+n.innerWidth()/2<e.innerWidth()/2?e.offset({left:20}):n.offset().left+e.innerWidth()/2+n.innerWidth()/2>t.innerWidth?e.offset({left:t.innerWidth-e.innerWidth()-20}):e.offset({left:n.offset().left+n.innerWidth()/2-e.innerWidth()/2})},10)},(i.find(".calendar").length?i.find(".calendar"):i).click(function(e){e.stopPropagation()})},controller:["$scope","$timeout","tpDatepickerService","lang","datetimePlaceholder",datepickerController],templateUrl:"template/datepicker/datepicker-custom.html",restrict:"A",transclude:!0}}function datepickerController(e,t,n,r,i){i.year="yyyy",i.month="mm",i.day="dd",i.date="dd",function(){e.options||(e.options={});e.options.mainOptions||(e.options.mainOptions={});"boolean"!=typeof e.options.mainOptions.showPanelTab&&(e.options.mainOptions.showPanelTab=!1);"boolean"!=typeof e.options.mainOptions.instantChanges&&(e.options.mainOptions.instantChanges=!1);"boolean"!=typeof e.options.mainOptions.showPanelCustomButton&&(e.options.mainOptions.showPanelCustomButton=!1);e.options.mainOptions.customPanel||(e.options.mainOptions.customPanel={});e.options.mainOptions.customPanel.dateFormat||(e.options.mainOptions.customPanel.dateFormat="MMM d, yyyy");e.options.mainOptions.startTab||(e.options.mainOptions.startTab=0);e.options.mainOptions.applyButton||(e.options.mainOptions.applyButton={});"string"!=typeof e.options.mainOptions.applyButton.title&&(e.options.mainOptions.applyButton.title=r.tr("Apply selected dates"));"boolean"!=typeof e.options.mainOptions.applyButton.enable&&(e.options.mainOptions.applyButton.enable=!0);e.options.mainOptions.closeButton||(e.options.mainOptions.closeButton={});"string"!=typeof e.options.mainOptions.closeButton.title&&(e.options.mainOptions.closeButton.title="Cancel");"boolean"!=typeof e.options.mainOptions.applyClose&&(e.options.mainOptions.applyClose=!0);e.options.mainOptions.time||(e.options.mainOptions.time={});"boolean"!=typeof e.options.mainOptions.time.enabled&&(e.options.mainOptions.time.enabled=!1);"boolean"!=typeof e.options.mainOptions.time.timeFormat12hours&&(e.options.mainOptions.time.timeFormat12hours=!0);e.options.mainOptions.time.minutesStep||(e.options.mainOptions.time.minutesStep=15);"boolean"!=typeof e.options.mainOptions.time.showTimezone&&(e.options.mainOptions.time.showTimezone=!0);e.options.calendarOptions||(e.options.calendarOptions=[{}]);for(var t=e.options.calendarOptions.length;t--;)e.options.calendarOptions[t].calendarUnitTitle||(e.options.calendarOptions[t].calendarUnitTitle="MMM d, yyyy"),"boolean"!=typeof e.options.calendarOptions[t].calendarUnitTitleRange&&(e.options.calendarOptions[t].calendarUnitTitleRange=!1),e.options.calendarOptions[t].calendarUnit||(e.options.calendarOptions[t].calendarUnit="m"),e.options.calendarOptions[t].calendarUnitCount||(e.options.calendarOptions[t].calendarUnitCount=1),e.options.calendarOptions[t].oneCanvasCalendar||(e.options.calendarOptions[t].oneCanvasCalendar=!1),e.options.calendarOptions[t].unit||(e.options.calendarOptions[t].unit="d"),e.options.calendarOptions[t].unitTitle||(e.options.calendarOptions[t].unitTitle={},e.options.calendarOptions[t].unitTitle.type="date"),"date"===e.options.calendarOptions[t].unitTitle.type&&"string"!=typeof e.options.calendarOptions[t].unitTitle.title&&(e.options.calendarOptions[t].unitTitle.title="d"),"boolean"!=typeof e.options.calendarOptions[t].unitTitleRange&&(e.options.calendarOptions[t].unitTitleRange=!1),("number"!=typeof e.options.calendarOptions[t].startDay||e.options.calendarOptions[t].startDay<0||e.options.calendarOptions[t].startDay>6)&&(e.options.calendarOptions[t].startDay=0),"number"!=typeof e.options.calendarOptions[t].unitRange&&(e.options.calendarOptions[t].unitRange=1),"string"!=typeof e.options.calendarOptions[t].unitSelectRange&&"boolean"!=typeof e.options.calendarOptions[t].unitSelectRange&&(e.options.calendarOptions[t].unitSelectRange=!1),"boolean"!=typeof e.options.calendarOptions[t].enableOneClickRange&&(e.options.calendarOptions[t].enableOneClickRange=!1),"boolean"!=typeof e.options.calendarOptions[t].viewDayOfWeek&&(e.options.calendarOptions[t].viewDayOfWeek="d"===e.options.calendarOptions[t].unit),"number"!=typeof e.options.calendarOptions[t].numColumn&&(e.options.calendarOptions[t].numColumn=7),"number"!=typeof e.options.calendarOptions[t].numRow&&(e.options.calendarOptions[t].numRow=6),e.options.calendarOptions[t].customButtonSelect||(e.options.calendarOptions[t].customButtonSelect=[]),e.options.calendarOptions[t].customButtonCallback||(e.options.calendarOptions[t].customButtonCallback=[]),"boolean"!=typeof e.options.calendarOptions[t].showArrow&&(e.options.calendarOptions[t].showArrow=!0),"boolean"!=typeof e.options.calendarOptions[t].showExtraArrow&&(e.options.calendarOptions[t].showExtraArrow=!1),e.options.calendarOptions[t].limitDateNotBefore instanceof Date?e.options.calendarOptions[t].limitDateNotBefore.setHours(0,0,0,0):e.options.calendarOptions[t].limitDateNotBefore=void 0,e.options.calendarOptions[t].limitDateNotAfter instanceof Date?e.options.calendarOptions[t].limitDateNotAfter.setHours(0,0,0,0):e.options.calendarOptions[t].limitDateNotAfter=void 0,e.options.calendarOptions[t].diffDateEnd||(e.options.calendarOptions[t].diffDateEnd=0),"boolean"!=typeof e.options.calendarOptions[t].currentDayHighlight&&(e.options.calendarOptions[t].currentDayHighlight=!0),"boolean"!=typeof e.options.calendarOptions[t].selectYear&&(e.options.calendarOptions[t].selectYear=!1)}();var o;new Date;function a(){if(e.activeCalendar.startDay>=0){e.dayNames=[];for(var t=7;t--;){var n=new Date,r=n.getDay(),i=e.activeCalendar.startDay-r;n.setDate(n.getDate()+i+6-t),e.dayNames.push(n)}}}e.dirtyDate=!1,e.hideArrow=!1,e.activeTab=e.options.mainOptions.startTab?e.options.mainOptions.startTab:0,e.dayNames=[],e.options.calendarOptions&&(e.activeCalendar=angular.copy(e.options.calendarOptions[e.activeTab]),e.openTab=e.activeCalendar,a()),e.years=[],e.yearInputName="year_hash"+(new Date).getTime(),o=(new Date).getFullYear(),e.years=Array.apply(null,new Array(100)).map(function(e,t){return o-t}),e.$watch("fromDate",function(){v(),b()}),e.$watch("toDate",function(){v(),b()});var s=null,u=null,c=null,l=null,d=null,f=null,p=null,h=null;function m(t){return function(e,t,n){var r=null,i=null,o=null;switch(t){default:case"m":(r=g(e)).setDate(1),i=g(r),r.setMonth(r.getMonth()*n+1),r.setDate(r.getDate()-1),o=g(r);break;case"y":r=g(e),i=new Date(r.getFullYear(),0,1),o=new Date(r.getFullYear()+(n-1),11,31)}return i.setHours(0,0,0,0),o.setHours(0,0,0,0),{dateStart:i,dateOver:o}}(t,e.activeCalendar.calendarUnit,e.activeCalendar.calendarUnitCount)}function g(e){return e?e instanceof Date?new Date(e.getTime()):"string"==typeof e?new Date(e):null:null}function v(){s=u=g(e.fromDate),c=l=g(e.toDate),function(){d=null,f=null,p=null,h=null;var t=null;e.fromDate?(t=g(e.fromDate),d=m(t).dateStart,f=m(t).dateOver):e.toDate?(t=g(e.toDate),d=m(t).dateStart,f=m(t).dateOver):(d=m(new Date).dateStart,f=m(new Date).dateOver);var n=g(d);switch(e.activeCalendar.calendarUnit){default:case"m":n.setMonth(n.getMonth()+e.activeCalendar.calendarUnitCount);break;case"y":n.setFullYear(n.getFullYear()+e.activeCalendar.calendarUnitCount)}e.toDate&&e.toDate>=n?(t=new Date(e.toDate.getTime()),p=m(t).dateStart,h=m(t).dateOver):(p=m(n).dateStart,h=m(n).dateOver);var r=new Date(f.getTime());r.setDate(r.getDate()+1),r.setHours(0,0,0,0),e.hideArrow=r>=p,e.activeCalendar.oneCanvasCalendar&&(e.hideArrow=!1),e.viewDateLeftStart=d,e.viewDateLeftEnd=f,e.viewDateRightStart=p,e.viewDateRightEnd=h}()}function y(t){var n=m(t);p=n.dateStart,h=n.dateOver;var r=new Date(f.getTime());r.setDate(r.getDate()+1),e.hideArrow=r>=p,e.viewDateRightStart=p,e.viewDateRightEnd=h,b()}function w(t){d=m(t).dateStart,f=m(t).dateOver;var n=new Date(f.getTime());n.setDate(n.getDate()+1),e.hideArrow=n>=p,e.activeCalendar.oneCanvasCalendar&&(e.hideArrow=!1),e.viewDateLeftStart=d,e.viewDateLeftEnd=f,b()}function C(e,t,n){var r;return(r=new Date(n>0?t:e)).setDate(r.getDate()+n),r.setDate(1),r}v(),e.clickTab=function(n){e.activeTab=n,e.activeCalendar=e.options.calendarOptions[n],v(),b(),a(),e.dirtyDate=!1,e.updatePosition(),e.openTab=e.activeCalendar,t(function(){e.changeTab&&e.changeTab()},10)},e.clickDate=function(n){if(e.activeCalendar.unitSelectRange)switch(e.activeCalendar.unitSelectRange){default:case"w":("d"!==e.activeCalendar.unit||"d"===e.activeCalendar.unit&&1===e.activeCalendar.unitRange)&&(n.currentDateStart.getDay()>=e.activeCalendar.startDay?n.currentDateStart.setDate(n.currentDateStart.getDate()-(n.currentDateStart.getDay()-e.activeCalendar.startDay)):n.currentDateStart.setDate(n.currentDateStart.getDate()-(7-(e.activeCalendar.startDay-n.currentDateStart.getDay()))),n.currentDateOver.getDay()>=e.activeCalendar.startDay?n.currentDateOver.setDate(n.currentDateOver.getDate()+(6+e.activeCalendar.startDay-n.currentDateOver.getDay())):e.activeCalendar.startDay>n.currentDateOver.getDay()&&n.currentDateOver.setDate(n.currentDateOver.getDate()+(e.activeCalendar.startDay-n.currentDateOver.getDay()-1)));break;case"m":1!==n.currentDateStart.getDate()&&n.currentDateStart.setDate(1);var r=new Date;r.setMonth(r.getMonth()-1),r.setDate(0),n.currentDateOver.getDate()!==r.getDate()&&n.currentDateOver.setDate(r.getDate());break;case"y":0!==n.currentDateStart.getMonth()&&(n.currentDateStart.setMonth(0),n.currentDateStart.setDate(1)),11!==n.currentDateOver.getMonth()&&(n.currentDateOver.setMonth(12),n.currentDateOver.setDate(0))}if(n.disabled)return!1;n.selectRange||!s||!u||s.getTime()!==c.getTime()||u.getTime()!==l.getTime()||e.activeCalendar.enableOneClickRange?(s=new Date(n.currentDateStart.getTime()),u=new Date(n.currentDateOver.getTime()),c=new Date(n.currentDateStart.getTime()),l=new Date(n.currentDateOver.getTime())):n.currentDateStart>=s||n.currentDateOver>=u?(c=new Date(n.currentDateStart.getTime()),l=new Date(n.currentDateOver.getTime())):(s=new Date(n.currentDateStart.getTime()),u=new Date(n.currentDateOver.getTime())),e.options.mainOptions.instantChanges?e.applySelect():(b(),e.dirtyDate=!0),t(function(){e.pickClick&&e.pickClick()},0)},e.changeLeft=function(t){e.activeCalendar.oneCanvasCalendar&&e.changeRight(t);var n=C(d,f,t);new Date(n)>=p&&(n=new Date(p)).setDate(n.getDate()-1),w(n)},e.changeRight=function(e){var t=C(p,h,e);t<=f&&(t=new Date(f)).setDate(t.getDate()+1),y(t)},e.changeLeftInterim=function(t,n){e.activeCalendar.oneCanvasCalendar&&e.changeRightInterim(t,n);var r=new Date(d);r.setYear(r.getFullYear()+t),new Date(r)>=p&&((r=new Date(f)).setDate(1),r.setMonth(p.getMonth()-1),r.setYear(p.getFullYear())),w(r)},e.changeRightInterim=function(e){var t=new Date(h);t.setYear(t.getFullYear()+e),t<=f&&(t=new Date(f)).setDate(t.getDate()+1),y(t)},e.onYearChange=function(t){var n=e.viewDateLeftStart.getFullYear(),r=parseInt(t.year)-n;e.changeLeftInterim(r,"y")},e.customSelectButton=function(t){function n(e,t){var n={};return n.fromDate=e,n.toDate=t,n}switch(t){case"today":t=n(new Date,new Date);break;case"yesterday":var r=new Date,i=(a=-1,(s=new Date(r)).setDate(s.getDate()+a),s);t=n(i,i);break;case"week":t=n(new Date,new Date);var o=new Date;o.getDay()>=e.activeCalendar.startDay?t.fromDate.setDate(o.getDate()-(o.getDay()-e.activeCalendar.startDay)):t.fromDate.setDate(o.getDate()-(7-(e.activeCalendar.startDay-o.getDay()))),o.getDay()>=e.activeCalendar.startDay?t.toDate.setDate(o.getDate()+(6+e.activeCalendar.startDay-o.getDay())):e.activeCalendar.startDay>o.getDay()&&t.toDate.setDate(o.getDate()+(e.activeCalendar.startDay-o.getDay()-1));break;case"7days":(t=n(new Date,new Date)).fromDate.setDate(t.toDate.getDate()-6);break;case"month":(t=n(new Date,new Date)).fromDate.setMonth(t.fromDate.getMonth()-1),t.fromDate.setDate(1),t.toDate.setDate(0);break;case"30days":(t=n(new Date,new Date)).fromDate.setDate(t.fromDate.getDate()-29);break;case"year":(t=n(new Date,new Date)).toDate.setDate(0),t.fromDate.setDate(t.fromDate.getDate()-364);break;case"365days":(t=n(new Date,new Date)).fromDate.setFullYear(t.fromDate.getFullYear()-1)}var a,s;e.fromDate=new Date(t.fromDate.getTime()),e.toDate=new Date(t.toDate.getTime()),e.clickDate({currentDateStart:e.fromDate,currentDateOver:e.fromDate,selectRange:!0}),e.clickDate({currentDateStart:e.toDate,currentDateOver:e.toDate,selectRange:!1}),v(),b(),e.dirtyDate=!1},e.customButtonClick=function(t){t(function(t,n){e.fromDate=t,e.toDate=n})&&e.showCalendar()},e.applySelect=function(n){!n||n.target.className.indexOf("dtpicker-cancel")?(e.options.mainOptions.time.enabled?("[object Date]"===Object.prototype.toString.call(s)&&(e.fromDate=new Date(s.setHours(e.hours,e.minutes,0,0))),"[object Date]"===Object.prototype.toString.call(l)&&(e.toDate=new Date(l.setHours(e.hours,e.minutes,0,0)))):(e.fromDate=s?new Date(s.getTime()):null,e.toDate=l?new Date(l.getTime()+e.activeCalendar.diffDateEnd):null),e.dirtyDate=!1,v(),b(),t(function(){e.applyClick&&e.applyClick()},0),e.options.mainOptions.applyClose&&e.openCalendar&&e.showCalendar()):e.openCalendar&&e.showCalendar()};var b=function(){e.skeletonLeft=n.buildCalendarSkeleton(e.activeCalendar,{viewDateEnd:f,viewDateStart:d},{innerFromDateStart:s,innerFromDateEnd:u},{innerToDateStart:c,innerToDateEnd:l}),e.skeletonRight=n.buildCalendarSkeleton(e.activeCalendar,{viewDateEnd:h,viewDateStart:p},{innerFromDateStart:s,innerFromDateEnd:u},{innerToDateStart:c,innerToDateEnd:l})};b(),e.getSelectedFromDate=function(){return s},e.getSelectedToDate=function(){return l}}function tpTemplates(e){var t='<div class="dtpicker-content">\t<div class="calendar-canva">\t\t<div class="dtpicker-head">\t\t\t<div class="dtpicker-title">\t\t\t\t<div class="dtpicker-pager dtpicker-pager-left">\t\t\t\t\t<div ng-if="activeCalendar.showExtraArrow"  ng-click="changeLeftInterim(-1,\'y\')"  class="dtpicker-prev-year"><i class="icon-arrow-double-datepicker-left"></i></div>\t\t\t\t\t<div ng-if="activeCalendar.showArrow" ng-click="changeLeft(-1)" class="dtpicker-prev-month"><i class="icon-arrow-datepicker-left"></i></div>\t\t\t\t</div>\t\t\t\t<div class="dtpicker-month">\t\t\t\t\t<span>{{viewDateLeftStart | date:activeCalendar.calendarUnitTitle}}</span> \t\t\t\t\t<span ng-if="activeCalendar.calendarUnitTitleRange"> &mdash; {{viewDateLeftEnd | date:activeCalendar.calendarUnitTitle}}</span>\t\t\t\t\t<div class="dtpicker-year" ng-if="activeCalendar.selectYear">\t\t\t\t\t\t<select ng-change="onYearChange(activeCalendar)" ng-model="activeCalendar.year">\t\t\t\t\t\t\t<option ng-repeat="year in years">{{ year }}</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="dtpicker-pager dtpicker-pager-right">\t\t\t\t\t<div \t\t\t\t\t\tng-hide="hideArrow"\t\t\t\t\t\tng-if="activeCalendar.showArrow"\t\t\t\t\t\tng-click="changeLeft(1)"\t\t\t\t\t\tclass="dtpicker-next-month">\t\t\t\t\t\t<i class="icon-arrow-datepicker-right"></i>\t\t\t\t\t</div>\t\t\t\t\t<div ng-if="activeCalendar.showExtraArrow"  ng-hide="hideArrow" ng-click="changeLeftInterim(1,\'y\')" class="dtpicker-next-year"><i class="icon-arrow-double-datepicker-right"></i></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div ng-if="activeCalendar.viewDayOfWeek" class="dtpicker-dayname clearfix">\t\t\t\t<div ng-repeat="dayname in dayNames track by $index" class="dayname-list">{{dayname | date:"EEE" | limitTo: 1}}</div>\t\t\t</div>\t\t</div>\t\t<table class="dtpicker-body">\t\t\t<tr class="dtpicker-row" ng-repeat="str in skeletonLeft">\t\t\t\t<td  \t\t\t\t\tng-class="\t\t\t\t\t{\'out-day\': day.out, \t\t\t\t\t\'select-day\': day.selectRange, \t\t\t\t\t\'today\': day.today, \t\t\t\t\t\'select-today\':  day.selectToday, \t\t\t\t\t\'range-day\': day.selectRange, \t\t\t\t\t\'change-date\': dirtyDate, \t\t\t\t\t\'first-select-day\': (day.firstSelectDay), \t\t\t\t\t\'last-select-day\': (day.lastSelectDay), \t\t\t\t\t\'disabled-day\': (day.disabled), \t\t\t\t\t\'marker-day\': (day.markerDay), \t\t\t\t\t\'marker-column\': (day.markerColumn), \t\t\t\t\t\'marker-row\': (day.markerRow)}" \t\t\t\t\tng-click="clickDate(day)"\t\t\t\t\tclass="calendar-day {{day.markerColumn}} {{day.markerRow}}"\t\t\t\t\tng-repeat="day in str track by $index">\t\t\t\t\t<div ng-if="activeCalendar.unitTitle.type === \'date\'">\t\t\t\t\t\t<span>\t\t\t\t\t\t\t{{day.currentDateStart | date:activeCalendar.unitTitle.title}} <em class="inline" ng-if="activeCalendar.unitTitleRange">- {{day.currentDateOver | date:activeCalendar.unitTitle.title}}</em>\t\t\t\t\t\t</span>\t\t\t\t\t</div>\t\t\t\t\t<div ng-if="activeCalendar.unitTitle.type === \'index\'">\t\t\t\t\t\t<span>\t\t\t\t\t\t\t<span>{{activeCalendar.unitTitle.Ltitle}}</span>\t\t\t\t\t\t\t<span>{{day.index + 1}}</span>\t\t\t\t\t\t\t<span>{{activeCalendar.unitTitle.Rtitle}}</span>\t\t\t\t\t\t</span>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t</table>\t</div>\t<div ng-if="!activeCalendar.oneCanvasCalendar" class="calendar-canva">\t\t<div class="dtpicker-head">\t\t\t<div class="dtpicker-title">\t\t\t\t<div class="dtpicker-pager dtpicker-pager-left">\t\t\t\t\t<div ng-if="activeCalendar.showExtraArrow"  ng-hide="hideArrow" ng-click="changeRightInterim(-1,\'y\')" class="dtpicker-prev-year"><i class="icon-arrow-double-datepicker-left"></i></div>\t\t\t\t\t<div \t\t\t\t\t\tng-hide="hideArrow"\t\t\t\t\t\tng-if="activeCalendar.showArrow"\t\t\t\t\t\tng-click="changeRight(-1)"\t\t\t\t\t\tclass="dtpicker-prev-month">\t\t\t\t\t\t\t<i class="icon-arrow-datepicker-left"></i>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="dtpicker-month">\t\t\t\t\t<span>{{viewDateRightStart | date:activeCalendar.calendarUnitTitle}}</span> \t\t\t\t\t<span ng-if="activeCalendar.calendarUnitTitleRange"> &mdash; {{viewDateRightEnd | date:activeCalendar.calendarUnitTitle}}</span>\t\t\t\t</div>\t\t\t\t<div class="dtpicker-pager dtpicker-pager-right">\t\t\t\t\t<div ng-if="activeCalendar.showArrow" ng-click="changeRight(1)" class="dtpicker-next-month"><i class="icon-arrow-datepicker-right"></i></div>\t\t\t\t\t<div ng-if="activeCalendar.showExtraArrow"  ng-click="changeRightInterim(1,\'y\')" class="dtpicker-next-year"><i class="icon-arrow-double-datepicker-right"></i></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div ng-if="activeCalendar.viewDayOfWeek" class="dtpicker-dayname clearfix">\t\t\t\t<div ng-repeat="dayname in dayNames track by $index" class="dayname-list">{{dayname | date:"EEE" | limitTo: 1}}</div>\t\t\t</div>\t\t</div>\t\t<table class="dtpicker-body">\t\t\t<tr class="dtpicker-row" ng-repeat="str in skeletonRight">\t\t\t\t<td  \t\t\t\tng-class="\t\t\t\t{\'out-day\': day.out, \t\t\t\t\'select-day\': day.selectRange, \t\t\t\t\'today\': day.today, \t\t\t\t\'select-today\':  day.selectToday, \t\t\t\t\'range-day\': day.selectRange, \t\t\t\t\'change-date\': dirtyDate, \t\t\t\t\'first-select-day\': (day.firstSelectDay), \t\t\t\t\'last-select-day\': (day.lastSelectDay), \t\t\t\t\'disabled-day\': (day.disabled), \t\t\t\t\'marker-day\': (day.markerDay), \t\t\t\t\'marker-column\': (day.markerColumn), \t\t\t\t\'marker-row\': (day.markerRow)}" \t\t\t\tng-click="clickDate(day)"\t\t\t\tclass="calendar-day {{day.markerColumn}} {{day.markerRow}}"\t\t\t\tng-repeat="day in str track by $index">\t\t\t\t\t<div ng-if="activeCalendar.unitTitle.type === \'date\'">\t\t\t\t\t\t<span>\t\t\t\t\t\t\t{{day.currentDateStart | date:activeCalendar.unitTitle.title}} <em class="inline" ng-if="activeCalendar.unitTitleRange">- {{day.currentDateOver | date:activeCalendar.unitTitle.title}}</em>\t\t\t\t\t\t</span>\t\t\t\t\t</div>\t\t\t\t\t<div ng-if="activeCalendar.unitTitle.type === \'index\'">\t\t\t\t\t\t<span>\t\t\t\t\t\t\t<span>{{activeCalendar.unitTitle.Ltitle}}</span>\t\t\t\t\t\t\t<span>{{day.index + 1}}</span>\t\t\t\t\t\t\t<span>{{activeCalendar.unitTitle.Rtitle}}</span>\t\t\t\t\t\t</span>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t</table>\t</div>\t<div ng-if="options.mainOptions.showPanelCustomButton && (activeCalendar.customButtonSelect.length || activeCalendar.customButtonCallback.length)" class="calendar-canva additional-canva">\t\t<div class="dtpicker-head">\t\t\t<div class="dtpicker-title">\t\t\t\t<div class="dtpicker-month">{{options.mainOptions.customPanel.title}}</div>\t\t\t</div>\t\t\t<div class="dtpicker-dayname clearfix">\t\t\t\t<div class="dtpicker-daterange">{{fromDate | date:options.mainOptions.customPanel.dateFormat}} - {{toDate | date:options.mainOptions.customPanel.dateFormat}}</div>\t\t\t</div>\t\t</div>\t\t<div class="dtpicker-body">\t\t\t<div class="dtpicker-buttons clearfix">\t\t\t\t<button ng-repeat="customButton in activeCalendar.customButtonSelect" class="btn btn-small btn-uppercased custom-select" ng-click="customSelectButton(customButton.diff())">{{ customButton.buttonName || customButton.butttonName }}</button>\t\t\t\t<button ng-repeat="customButton in activeCalendar.customButtonCallback" class="btn btn-small btn-uppercased custom-select" ng-click="customButtonClick(customButton.callback)">{{customButton.buttonName}}</button>\t\t\t</div>\t\t</div>\t</div></div>';e.put("template/datepicker/datepicker-inline.html",'<div class="tp-datepicker extended custom inline">'+t+"</div>"),e.put("template/datepicker/datepicker-custom.html",'<div class="tp-datepicker extended custom">\t<div ng-click="showCalendar()" class="dtpicker-input">\t\t<div ng-transclude></div>\t</div>\t<div ng-show="openCalendar" class="calendar" ng-animate="\'animate\'" ng-animate-children  animate="animate" ng-class="{\'tabs-on\': options.mainOptions.showPanelTab, \'hidden-on-load\': !contentLoaded, \'hidden-on-position-updated\': !positionUpdated}">\t\t<div class="dtpicker-tabs" ng-if="options.mainOptions.showPanelTab">\t\t\t<div ng-click="clickTab($index)" ng-class="{active: activeTab === $index}" ng-repeat="optionItem in options.calendarOptions" ng-if="options.mainOptions.showPanelTab" class="dtpicker-tab">\t\t\t\t{{optionItem.calendarCaption || optionItem.calendarTitle}}\t\t\t</div>\t\t</div>   <div ng-class="{\'datepicker-body\': true, \'initial-empty\': initialEmpty}" ng-if="openCalendar || !initialEmpty">'+t+'   </div>\t\t<div ng-show="options.mainOptions.time.enabled" id="dtpicker-time" class="dtpicker-time">\t\t\t<tp-time options="options.mainOptions.time" hours="hours" minutes="minutes"></tp-time>\t\t</div>\t\t<div ng-show="!options.mainOptions.hideApplySelect" ng-click="applySelect($event)" class="dtpicker-submit">\t\t\t<div ng-if="options.mainOptions.applyButton.enable">{{options.mainOptions.applyButton.title}}</div>\t\t\t<div ng-if="options.mainOptions.closeButton.enable" class="dtpicker-cancel">{{options.mainOptions.closeButton.title}}</div>\t\t</div>\t</div></div>')}function tpTime(){return{scope:{hours:"=?",minutes:"=?",options:"=?"},controller:"tpTimeController",restrict:"AE",replace:!0,template:'<div id="time-wrapper" class="time-wrapper" ng-show="options.enabled"><div class="time-inputs-wrapper"><input type="text" ng-model="viewHours" id="hours" maxlength="2" ng-blur="onBlurHours($event)" ng-keydown="onKeyDownHours($event)" ng-keyup="onKeyUpHours($event)" /><input type="text" ng-model="viewMinutes" id="minutes" maxlength="2" ng-blur="onBlurMinutes($event)" ng-keydown="onKeyDownMinutes($event)" ng-keyup="onKeyUpMinutes($event)" /></div><div ng-show="options.timeFormat12hours" class="meridian-select-wrapper"><select ng-model="meridiem" ng-change="updateTime()" ng-options="key for (key, value) in meridiems" class="light"></select></div><div ng-show="options.showTimezone" class="timezone-wrapper">GMT {{timezone}}</div></div>'}}function tpTimeController(e,t){e.options=angular.extend({enabled:!0,timeFormat12hours:!0,minutesStep:15,showTimezone:!0},e.options);var n,r,i,o=t.trc("publisher.dashboard","AM"),a=t.trc("publisher.dashboard","PM");if(e.options.enabled){var s,u=new Date;e.meridiems={},e.meridiems[o]=1,e.meridiems[a]=2;var c,l,d=46,f=8,p=9,h=37,m=38,g=39,v=40,y=16,w=48,C=57,b=_.isUndefined(e.hours)?u.getHours():e.hours,E=_.isUndefined(e.minutes)?u.getMinutes():e.minutes,$=e.options.timeFormat12hours?12:24,S=60,T=e.options.minutesStep,k=!1;e.$on("time-updated",function(e,t){b=t.hours,E=t.minutes,x()}),x(),e.onKeyDownHours=function(t){V(t),_.isNaN(e.viewHours)||""===e.viewHours||(c=e.viewHours);switch(t.keyCode){case m:M();break;case v:D()}},e.onKeyUpHours=function(t){R(t),function(t){var n=N(e.viewHours,c),r=t.which||t.keyCode;e.options.timeFormat12hours&&0===n&&(e.viewHours=$);H("hours",n)&&(e.viewHours=A(n));(n>$||L(c,r))&&(e.viewHours="");n===$&&(e.viewHours=function(t){return t!==$||e.options.timeFormat12hours?t:A(0)}($))}(t),F(),I(t)},e.onKeyDownMinutes=function(t){V(t),_.isNaN(e.viewMinutes)||""===e.viewMinutes||(l=e.viewMinutes);switch(t.keyCode){case m:n=N(e.viewMinutes,l),(n+=T||1)>S-1?(M(),e.viewMinutes=A(n-S)):e.viewMinutes=A(n);break;case v:!function(){var t=N(e.viewMinutes,l);(t-=T||1)<0?(D(),e.viewMinutes=A(t+S)):e.viewMinutes=A(t)}()}var n},e.onKeyUpMinutes=function(t){R(t),function(t){var n=_.parseInt(e.viewMinutes,10),r=t.which||t.keyCode;H("minutes",n)&&(e.viewMinutes=A(n));(n>S||L(l,r))&&(e.viewMinutes="")}(t),F(),I(t)},e.onBlurHours=function(){var t=parseInt(e.viewHours,10),n=e.options.timeFormat12hours?12:23;!_.isNaN(e.viewHours)&&t>n&&(P(n),e.hours=n)},e.onBlurMinutes=function(){var t=parseInt(e.viewMinutes,10);!_.isNaN(e.viewHours)&&t>59&&(e.viewMinutes=A(59),e.minutes=59)},e.updateTime=F,e.timezone=(n=u.getTimezoneOffset(),r=Math.abs(n),i=Math.floor(r/S),(n<0?"+":"-")+i)}function x(){P(b),e.viewMinutes=A(E),e.hours=_.parseInt(b,10),e.minutes=_.parseInt(E,10)}function P(t){if(e.options.timeFormat12hours){var n=angular.copy(function(t){var n=t,r=e.meridiems[o];t>12&&(n=t-12);t>=12&&(r=e.meridiems[a]);0===t&&(n=12);return[n,r]}(t));e.viewHours=A(n[0]),e.meridiem=n[1]}else e.viewHours=A(t)}function A(e){return 1===e.toString().length?"0"+e:e}function M(){s=N(e.viewHours,c),e.options.timeFormat12hours?(s===$-1&&(e.meridiem=O()),s>=$&&(s=0)):s===$-1&&(s=-1),e.viewHours=A(s+1)}function D(){s=N(e.viewHours,c),e.options.timeFormat12hours?(s===$&&(e.meridiem=O()),s<=1&&(s=$+1)):s<=0&&(s=$),e.viewHours=A(s-1)}function O(){return e.meridiem===e.meridiems[o]?e.meridiems[a]:e.meridiems[o]}function N(e,t){var n=_.parseInt(e,10);return(_.isNaN(n)||""===n)&&(n=_.parseInt(t,10)),n}function I(e){switch(e.which||e.keyCode){case h:case g:e.preventDefault(),e.stopPropagation()}}function R(e){(e.which||e.keyCode)===y&&(k=!1)}function L(e,t){return e<10&&(t===f||t===d)}function H(t,n){return"hours"===t?1===n.toString().length&&(e.options.timeFormat12hours?n>1:n>2||0===n):1===n.toString().length&&n>5}function V(e){var t=e.which||e.keyCode;(t<w&&t!=p&&t!=f&&t!=h&&t!=g&&t!=d||t>C||k&&t!=h&&k&&t!=g)&&e.preventDefault(),t===y&&(k=!0)}function F(){var t=N(e.viewHours,c),n=N(e.viewMinutes,l);e.hours=function(t){var n=t;(e.meridiem===e.meridiems[o]&&t>12||e.meridiem===e.meridiems[o]&&12===t)&&(n=t-12);e.meridiem===e.meridiems[a]&&t<12&&(n=t+12);return n}(t),e.minutes=n}}function tpTimepicker(e,t,n,r){return{scope:{time:"=?",options:"=?"},link:function(i,o,a){function s(){i.$apply(function(){i.closeWidget()})}function u(e){switch(e.keyCode){case 27:i.$apply(function(){i.closeWidget()})}}i.texts={title:r.trc("publisher.dashboard","Set time"),apply:r.trc("publisher.dashboard","Apply"),cancel:r.trc("publisher.dashboard","Cancel")},i.model={openWidget:!1},i.model.openWidget=!1,"undefined"!=typeof moment?i.model.time=moment(i.time).zone(0):i.model.time=i.model.time.utc().valueOf(),i.tpTimeValues={hours:i.model.time.hour(),minutes:i.model.time.minutes()},i.$broadcast("time-updated",i.tpTimeValues),i.showWidget=function(){i.model.openWidget=!i.model.openWidget,i.model.openWidget&&(n(function(){var n=o.find(".tp-timepicker-wrapper"),r=o.find(".tp-timepicker");r.offset().left+r.innerWidth()/2<n.innerWidth()/2?n.offset({left:20}):r.offset().left+n.innerWidth()/2+r.innerWidth()/2>e.innerWidth?n.offset({left:e.innerWidth-n.innerWidth()-20}):n.offset({left:r.offset().left+r.innerWidth()/2-n.innerWidth()/2}),t.bind("click",s),t.bind("keyup",u)},10),i.$broadcast("time-updated",i.tpTimeValues))},i.closeWidget=function(){i.model.openWidget=!1,t.unbind("click",s),t.unbind("keyup",u)},i.setNewTime=function(){i.model.time.hour(i.tpTimeValues.hours),i.model.time.minutes(i.tpTimeValues.minutes),i.time=i.model.time.utc().valueOf(),i.closeWidget(),i.$broadcast("time-updated",i.tpTimeValues)},o.find(".tp-timepicker-wrapper").click(function(e){e.stopPropagation()})},controller:["$scope",function(e){e.tpTimeOptions={showTimezone:!1}}],restrict:"AE",template:'<div class="tp-timepicker">   <div class="tp-timepicker-handler" ng-click="showWidget()">      {{model.time | tpDateMoment:"hh:mm A":0}}   </div>   <div ng-hide="!model.openWidget" class="tp-timepicker-wrapper">       <div class="tp-timepicker-header">{{texts.title}}</div>       <div class="tp-timepicker-body"><tp-time hours="tpTimeValues.hours" minutes="tpTimeValues.minutes" options="tpTimeOptions"></tp-time></div>       <div class="tp-timepicker-footer"><div class="tp-timepicker-footer-btn tp-timepicker-btn-cancel" ng-click="closeWidget()">{{texts.cancel}}</div><div class="tp-timepicker-footer-btn tp-timepicker-btn-apply" ng-click="setNewTime()">{{texts.apply}}</div></div>   </div></div>'}}tpDatepicker.$inject=["$document","$window","$timeout","$q"],tpTemplates.$inject=["$templateCache"],function(e,t){"use strict";var n="yyyy-MM-dd";function r(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}t.module("ngInputDate",["ng"]).factory("inputDate",function(){return{ExtractDate:r}}).directive("input",["dateFilter","$timeout",function(e,t){return{restrict:"EA",require:"?ngModel",link:function(t,r,i,o){if(void 0!==i.type&&"date"===i.type&&o){var a=void 0!==i.time&&void 0!==i.timeFormat?i.timeFormat:i.dateFormat||n;o.$formatters.unshift(function(t){return e(t,a)}),o.$parsers.unshift(function(e){return function(e,t){if(void 0===e||""===e)return null;var r,i,o;if(t===n){var a=e.split("-");if(3!==a.length)return null;r=parseInt(a[0],10),i=parseInt(a[1],10),o=parseInt(a[2],10)}else if("function"==typeof moment){var s=moment(e,t.toUpperCase());r=s.year(),i=s.month()+1,o=s.date()}return i&&r&&o?new Date(r,i-1,o):null}(e,a)})}}}}])}(window,angular),function(e){"use strict";e.module("datetime",[]),e.module("datetime").constant("datetimePlaceholder",{year:"(year)",yearShort:"(year)",month:"(month)",date:"(date)",day:"(day)",hour:"(hour)",hour12:"(hour12)",minute:"(minute)",second:"(second)",millisecond:"(millisecond)",ampm:"(AM/PM)",week:"(week)"});var t={exports:{}};!function(e){void 0!==t&&(t.exports=e);var n="listeners",r={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var n=this;return r.originalListener=t,a(n,e).push(r),n;function r(){o.call(n,e,r),t.apply(this,arguments)}},off:o,emit:function(e,t){var n=this,r=a(n,e,!0);if(!r)return!1;var i=arguments.length;if(1===i)r.forEach(function(e){e.call(n)});else if(2===i)r.forEach(function(e){e.call(n,t)});else{var o=Array.prototype.slice.call(arguments,1);r.forEach(function(e){e.apply(n,o)})}return!!r.length}};function i(e){for(var t in r)e[t]=r[t];return e}function o(e,t){var r,i=this;if(arguments.length){if(t){if(r=a(i,e,!0)){if(!(r=r.filter(function(e){return e!==t&&e.originalListener!==t})).length)return o.call(i,e);i[n][e]=r}}else if((r=i[n])&&(delete r[e],!Object.keys(r).length))return o.call(i)}else delete i[n];return i}function a(e,t,r){if(!r||e[n]){var i=e[n]||(e[n]={});return i[t]||(i[t]=[])}}i(e.prototype),e.mixin=i}(function e(){if(!(this instanceof e))return new e});var n=t.exports,r=function(e,t,n){var r;if((e=""+e).length>n)e=e.substr(e.length-n);else if(e.length<t)for(r=e.length;r<t;r++)e="0"+e;return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function u(e,t,n){for(var r=0,i=e.toUpperCase(),o=n.toUpperCase();i[t+r]&&i[t+r]==o[r];)r++;return e.substr(t,r)}function c(e,t,n){var i=function(e,t,n){var i,o,a,s;if("static"==t.type)return e.startsWith(t.value,n)?{viewValue:t.value}:{err:2,code:"TEXT_MISMATCH",message:"Pattern value mismatch"};if("number"==t.type)return null==(a=function(e,t){var n=(e=e.substring(t)).match(/^\d+/);return n&&n[0]}(e,n))?{err:1,code:"NUMBER_MISMATCH",message:"Invalid number",viewValue:""}:a.length<t.minLength?{err:1,code:"NUMBER_TOOSHORT",message:"The length of number is too short",value:+a,viewValue:a,properValue:r(+a,t.minLength,t.maxLength)}:(a.length>t.maxLength&&(a=a.substr(0,t.maxLength)),+a<t.min?{err:1,code:"NUMBER_TOOSMALL",message:"The number is too small",value:+a,viewValue:a,properValue:r(t.min,t.minLength,t.maxLength)}:a.length>t.minLength&&"0"==a[0]?{err:1,code:"LEADING_ZERO",message:"The number has too many leading zero",value:+a,viewValue:a,properValue:r(+a,t.minLength,t.maxLength)}:+a>t.max?{err:1,code:"NUMBER_TOOLARGE",message:"The number is too large",value:+a,viewValue:a,properValue:r(t.max,t.minLength,t.maxLength)}:{value:+a,viewValue:a});if("select"==t.type){for(o="",s=0;s<t.select.length;s++)(i=u(e,n,t.select[s]))&&i.length>o.length&&(a=s,o=i);return o?o!=t.select[a]?{err:1,code:"SELECT_INCOMPLETE",message:"Incomplete select",value:a+1,viewValue:o,selected:t.select[a]}:{value:a+1,viewValue:o}:{err:1,code:"SELECT_MISMATCH",message:"Invalid select",viewValue:""}}throw"Unknown token type: "+t.type}(e,t,n);return i.err&&"static"!=t.type&&e.startsWith(t.placeholder,n)&&(1<i.err||i.viewValue.length<=t.placeholder.length)?{empty:!0,viewValue:t.placeholder}:i}function l(e,t){var n,r,i=0,o=[],a=e,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){if(s){if(u>=a.length)break;n=a[u++]}else{if((u=a.next()).done)break;n=u.value}if((r=c(t,n.token,i)).node=n,r.pos=i,r.token=n.token,2<=r.err)throw r.text=t,r;i+=r.viewValue.length,o.push(r)}var l=o[o.length-1];if(l.pos+l.viewValue.length<t.length)throw{code:"TEXT_TOOLONG",message:"Text is too long",text:t};return o}function d(e,t){if("static"==t.type)return{viewValue:t.value};var n=t.extract(e);if("number"==t.type)return{value:n,viewValue:r(n,t.minLength,t.maxLength)};if("select"==t.type)return{value:n,viewValue:t.select[n-1]};throw"Unknown type to format: "+t.type}function f(e,t,n){var r,i,o=[],a=t,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){if(s){if(u>=a.length)break;i=a[u++]}else{if((u=a.next()).done)break;i=u.value}r=d(e,i.token),"static"!=i.token.type&&i.empty&&!n&&(r.value=null,r.viewValue=i.token.placeholder),o.push(r)}return o}var p=function(){function e(t,n){o(this,e),this.parser=t,this.token=n,this.value=null,this.viewValue=n.value,this.offset=0,this.next=null,this.prev=null,this.nextEdit=null,this.prevEdit=null,this.empty=!0}return e.prototype.unset=function(){"static"==this.token.type||this.parser.noEmpty||(this.empty=!0,this.parser.setValue(this.parser.value,!1))},e.prototype.parse=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=c(e,this.token,t);if(n.err)throw n.node=this,n.token=this.token,n;if(this.parser.noEmpty&&n.empty)throw{code:"NOT_INIT_FORBIDDEN",message:"Empty node is forbidden",node:this};if(n.empty)this.unset();else{this.empty=!1;var r=m(this.parser.copyValue(this.parser.value),this.token,n.value,this.parser);this.parser.setValue(r,!1)}},e.prototype.add=function(e){var t,n,r,i=this.parser.copyValue(this.parser.value);this.empty=!1,i=h(i,this.token,e,this.parser),t=this.token.extract(i),"number"==this.token.type?(n=this.token.min,r=this.token.max):"select"==this.token.type&&(n=1,r=this.token.select.length),t<n&&(i=m(i,this.token,n,this.parser)),r<t&&(i=m(i,this.token,r,this.parser)),this.parser.setValue(i,!1)},e}();function h(e,t,n,r){return"object"==(void 0===e?"undefined":i(e))?(t.add(e,n,r),e):t.add(e,n,r)}function m(e,t,n,r){return"object"==(void 0===e?"undefined":i(e))?(t.restore(e,n,r),e):t.restore(e,n,r)}function g(e){return e}var v=function(e){function t(){o(this,t);var n=s(this,e.call(this));return n._constructor.apply(n,arguments),n.initialize(),n}return a(t,e),t.prototype._constructor=function(e){var t=e.tokens,n=e.noEmpty,r=void 0!==n&&n,i=e.value,o=e.text,a=e.copyValue,s=void 0===a?g:a;if(!t||!t.length)throw new Error("option.tokens is required");this.tokens=t,this.nodes=function(e,t){var n,r,i,o=[],a=t,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){if(s){if(u>=a.length)break;n=a[u++]}else{if((u=a.next()).done)break;n=u.value}o.push(new p(e,n))}for(r=0;r<o.length;r++)o[r].next=o[r+1]||null,o[r].prev=o[r-1]||null;for(i=null,r=0;r<o.length;r++)o[r].prevEdit=i,"static"!=o[r].token.type&&(i=o[r]);for(i=null,r=o.length-1;0<=r;r--)o[r].nextEdit=i,"static"!=o[r].token.type&&(i=o[r]);return o}(this,t),this.nameMap=function(e){var t=new Map,n=e,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o,s=t.get(a.token.name);s||(s=[],t.set(a.token.name,s)),s.push(a)}return t}(this.nodes),this.value=i,this.text=o,this.noEmpty=r,this.copyValue=s,this.err=!1},t.prototype.initialize=function(){this.setValue(this.value)},t.prototype.parse=function(e){if(!e)throw{code:"EMPTY",message:"The input is empty",oldText:this.text};var t,n;t=l(this.nodes,e);var r,i=[];for(r=this.err?l(this.nodes,this.text):this.nodes,n=0;n<t.length;n++)t[n].empty||t[n].viewValue==r[n].viewValue||(t[n].token=this.nodes[n].token,i.push(t[n]));var o=t.filter(function(e){return e.empty}),a=t.filter(function(e){return e.err});for(n=0;n<t.length;n++)this.nodes[n].value=t[n].value,this.nodes[n].viewValue=t[n].viewValue,this.nodes[n].offset=t[n].pos,this.nodes[n].empty=t[n].empty;if(a.length)throw this.err=!0,a[0];this.err=!1,i.sort(function(e,t){return t.empty?-1:e.empty?1:(t.token.prior||0)-(e.token.prior||0)});var s,u=this.copyValue(this.value),c=i,d=Array.isArray(c),p=0;for(c=d?c:c[Symbol.iterator]();;){if(d){if(p>=c.length)break;s=c[p++]}else{if((p=c.next()).done)break;s=p.value}u=m(u,s.token,s.value,this)}var h=f(u,t).map(function(e){return e.viewValue}).join("");if(e!=h)throw this.err=!0,{code:"INCONSISTENT_INPUT",message:"Successfully parsed but the output text doesn't match the input",text:e,oldText:this.text,properText:h};if(this.text=e,this.value=u,this.emit("change",this.value),o.length)throw{code:"NOT_INIT",message:"Some nodes are empty",text:e,node:o[0]};return this},t.prototype.setValue=function(e){var t,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=f(e,this.nodes,n),i=0,o="";for(t=0;t<r.length;t++)this.nodes[t].value=r[t].value,this.nodes[t].viewValue=r[t].viewValue,this.nodes[t].offset=i,this.nodes[t].empty=!n&&this.nodes[t].empty,i+=this.nodes[t].viewValue.length,o+=this.nodes[t].viewValue;return this.value=e,this.text=o,this.emit("change",this.value),this},t.prototype.isEmpty=function(e){var t,n;if(e)try{t=l(this.nodes,e)}catch(e){return!1}else t=this.nodes;for(n=0;n<t.length;n++)if("static"!=this.nodes[n].token.type&&!t[n].empty)return!1;return!0},t.prototype.isInit=function(){var e,t=this.nodes,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){if(n){if(r>=t.length)break;e=t[r++]}else{if((r=t.next()).done)break;e=r.value}if("static"!=e.token.type&&e.empty)return!1}return!0},t.prototype.unset=function(){var e,t=this.nodes,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){if(n){if(r>=t.length)break;e=t[r++]}else{if((r=t.next()).done)break;e=r.value}e.empty=!0}return this.setValue(this.value,!1),this},t.prototype.getText=function(){return this.text},t.prototype.getValue=function(){return this.value},t.prototype.getNodes=function(e){return e?this.nameMap.get(e):this.nodes},t}(n);function y(e,t){if(t.length){var n=w(t,e).map(function(e){return e.node}),r=n[0],i=n[1];return r==i?r:e-r.offset-r.viewValue.length<=i.offset-e?r:i}}function w(e,t){var n,r,i,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,a=e,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){if(s){if(u>=a.length)break;n=a[u++]}else{if((u=a.next()).done)break;n=u.value}n.offset<=t&&(r={node:n,pos:t-n.offset}),n.offset+n.viewValue.length>=o&&!i&&(i={node:n,pos:o-n.offset})}if(!i){var c=e[e.length-1];i={node:c,pos:c.viewValue.length}}return r||(r={node:e[0],pos:0}),r.pos>r.node.viewValue.length&&(r.pos=r.node.viewValue.length),[r,i]}var C=function(){function e(t,n){o(this,e),this.el=t,this.nodes=n,this.range={node:y(0,this.nodes),start:0,end:"end"}}return e.prototype.selectNearestNode=function(){var e=this.el.getSelection();e&&this.select({node:y(e.start,this.nodes),start:0,end:"end"})},e.prototype.select=function(e){(e=Object.assign(this.range,e)).node&&this.el.setSelection(e.node.offset+e.start,e.node.offset+("end"==e.end?e.node.viewValue.length:e.end))},e.prototype.hasNext=function(){if(this.range.node)return this.range.node.nextEdit},e.prototype.hasPrev=function(){if(this.range.node)return this.range.node.prevEdit},e.prototype.selectNext=function(){var e=this.hasNext(),t={start:0,end:"end"};e&&(t.node=e),this.select(t)},e.prototype.selectPrev=function(){var e=this.hasPrev(),t={start:0,end:"end"};e&&(t.node=e),this.select(t)},e.prototype.get=function(){if(this.nodes.length){var e=this.el.getSelection();if(e){var t=w(this.nodes,e.start,e.end),n=t[0],r=t[1];n.node==r.node&&(this.range={node:n.node,start:n.pos,end:r.pos})}}},e.prototype.atNodeEnd=function(){if(this.range.node){this.get();var e=this.range.node.viewValue.length,t=this.range.node.token.maxLength,n="end"==this.range.start?e:this.range.start;return n==("end"==this.range.end?e:this.range.end)&&n==(null!=t?t:e)||!e}},e.prototype.atNodeStart=function(){if(this.range.node){this.get();var e=this.range.node.viewValue.length,t="end"==this.range.start?e:this.range.start;return t==("end"==this.range.end?e:this.range.end)&&0==t}},e}(),b=function(e){function t(){o(this,t);var n=s(this,e.call(this));return n._constructor.apply(n,arguments),n.initialize(),n}return a(t,e),t.prototype._constructor=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";this.el=e,this.tp=t,this.separators=n,this.sel=new C(e,t.getNodes().filter(function(e){return"static"!=e.token.type}))},t.prototype.initialize=function(){var e=this;this.el.on("mousedown",function(){e.mousedown=!0}),this.el.on("focus",function(){e.mousedown||setTimeout(function(){e.sel.select({start:0,end:"end"})})}),this.el.on("click",function(){e.mousedown=!1,e.sel.selectNearestNode()}),this.el.on("input",function(){e.digest(null,e.el.val())}),this.el.on("keydown",function(t){t.altKey||t.ctrlKey||(37==t.keyCode||9==t.keyCode&&t.shiftKey&&e.sel.hasPrev()?(t.preventDefault(),e.tryFixingError(),e.sel.selectPrev()):39==t.keyCode||9==t.keyCode&&!t.shiftKey&&e.sel.hasNext()?(t.preventDefault(),e.tryFixingError(),e.sel.selectNext()):38==t.keyCode?(t.preventDefault(),e.sel.selectNearestNode(),e.sel.range.node&&e.sel.range.node.add(1),e.val(e.tp.getText()),e.sel.select({start:0,end:"end"})):40==t.keyCode?(t.preventDefault(),e.sel.selectNearestNode(),e.sel.range.node&&e.sel.range.node.add(-1),e.val(e.tp.getText()),e.sel.select({start:0,end:"end"})):36==t.keyCode||35==t.keyCode?setTimeout(function(){return e.sel.selectNearestNode()}):46==t.keyCode?e.sel.atNodeEnd()&&(t.preventDefault(),e.tryFixingError(),e.sel.selectNext()):8==t.keyCode&&e.sel.atNodeStart()&&(t.preventDefault(),e.tryFixingError(),e.sel.selectPrev()))}),this.el.on("keypress",function(t){var n=null==t.charCode?t.keyCode:t.charCode,r=String.fromCharCode(n),i=e.separators,o=e.sel.range.node;if(o&&o.next&&"static"==o.next.token.type&&(i+=o.next.viewValue[0]),i.includes(r))return t.preventDefault(),e.tryFixingError(),void e.sel.selectNext();setTimeout(function(){e.sel.atNodeEnd()&&e.sel.range.node.viewValue&&(e.tryFixingError(),e.sel.selectNext())})}),this.el.on("blur",function(){setTimeout(function(){e.tryFixingError()})}),this.tp.on("change",function(){e.err||e.inDigest||(e.val(e.tp.getText()),e.sel.select())});var t=this.el.val();t?this.digest(null,t,!0):this.val(this.tp.getText())},t.prototype.errorViewLength=function(){return this.err&&null!=this.err.viewValue?this.err.viewValue.length:void 0},t.prototype.val=function(e){this.el.val()!=e&&this.el.val(e),this.err=null},t.prototype.tryFixingError=function(){this.err&&(this.err.properValue?this.digest(this.err.node,this.err.properValue,!0):this.err.node&&(this.err.node.unset(),this.digest(null,this.tp.getText())))},t.prototype.digest=function(e,t,n){var r,i=10;for(this.inDigest=!0;i--;){this.err=null;try{e?e.parse(t):this.tp.parse(t)}catch(i){if(this.emit("digest",i),this.sel.get(),"NOT_INIT"==i.code)break;if(this.err=i,!n&&("NUMBER_TOOSHORT"==i.code||"NUMBER_TOOSMALL"==i.code||"NUMBER_MISMATCH"==i.code||"SELECT_MISMATCH"==i.code||"LEADING_ZERO"==i.code))break;if("SELECT_INCOMPLETE"==i.code){e=i.node,t=i.selected,r={end:"end"};continue}null!=i.properValue?(e=i.node,t=i.properValue):null!=i.properText?(e=null,t=i.properText):("EMPTY"==i.code&&this.tp.unset(),i.node&&i.node.unset(),e=null,t=this.tp.getText(),r={start:0,end:"end"});continue}break}if(this.err||(this.val(this.tp.getText()),i<9&&this.sel.select(r)),this.inDigest=!1,i<0)throw new Error("InputMask.digest crashed! Infinite loop on "+t)},t}(n),E=v,$=b;function S(t,n){var i=t.DATETIME_FORMATS,a=/yyyy|yy|y|M{1,4}|dd?|EEEE?|HH?|hh?|mm?|ss?|([.,])sss|a|Z{1,2}|ww|w|'(([^']+|'')*)'/g,s={y:{minLength:1,maxLength:4,max:9999,min:0,name:"year",type:"number"},yy:{minLength:2,maxLength:2,name:"yearShort",type:"number"},yyyy:{minLength:4,maxLength:4,max:9999,min:0,name:"year",type:"number"},MMMM:{name:"month",type:"select",select:i.MONTH},MMM:{name:"month",type:"select",select:i.SHORTMONTH},MM:{minLength:2,maxLength:2,name:"month",type:"number"},M:{minLength:1,maxLength:2,name:"month",type:"number",min:1},dd:{minLength:2,maxLength:2,name:"date",type:"number"},d:{minLength:1,maxLength:2,name:"date",type:"number",min:1},EEEE:{name:"day",type:"select",select:b(i.DAY)},EEE:{name:"day",type:"select",select:b(i.SHORTDAY)},HH:{minLength:2,maxLength:2,name:"hour",type:"number"},H:{minLength:1,maxLength:2,name:"hour",type:"number"},hh:{minLength:2,maxLength:2,name:"hour12",type:"number"},h:{minLength:1,maxLength:2,name:"hour12",type:"number"},mm:{minLength:2,maxLength:2,name:"minute",type:"number"},m:{minLength:1,maxLength:2,name:"minute",type:"number"},ss:{minLength:2,maxLength:2,name:"second",type:"number"},s:{minLength:1,maxLength:2,name:"second",type:"number"},sss:{minLength:3,maxLength:3,name:"millisecond",type:"number"},a:{name:"ampm",type:"select",select:i.AMPMS},ww:{minLength:2,maxLength:2,max:53,name:"week",type:"number"},w:{minLength:1,maxLength:2,max:53,name:"week",type:"number"},Z:{name:"timezone",type:"static"},ZZ:{name:"timezone",type:"static",colon:!0},string:{name:"string",type:"static"}},u={year:{extract:function(e){var t=e.getFullYear()%1e4;return 0<=t?t:0},restore:function(e,t){return e.setFullYear(t)},add:function(e,t){return e.setFullYear(e.getFullYear()+t)},prior:7},yearShort:{extract:function(e){var t=e.getFullYear()%100;return 0<=t?t:t+100},restore:function(e,t){return e.setFullYear(t)},add:function(e,t){return e.setFullYear(e.getFullYear()+t)},prior:7},month:{extract:function(e){return e.getMonth()+1},restore:function(e,t){e.setMonth(t-1),e.getMonth()==t&&e.setDate(0)},add:function(e,t){t=e.getMonth()+t,e.setMonth(t),e.getMonth()==t+1&&e.setDate(0)},prior:5},date:{extract:function(e){return e.getDate()},restore:function(e,t,n){var r=e.getMonth();if(e.setDate(t),e.getMonth()!=r&&t<=31){var i=n.getNodes("month");i&&i.every(function(e){return e.empty})&&e.setDate(t)}},add:function(e,t,n){this.restore(e,e.getDate()+t,n)},prior:4},day:{extract:function(e){return e.getDay()||7},restore:function(e,t){var n=e.getMonth(),r=t-(e.getDay()||7);e.setDate(e.getDate()+r),e.getMonth()!=n&&(0<r?e.setDate(e.getDate()-7):e.setDate(e.getDate()+7))},add:function(e,t){return e.setDate(e.getDate()+t)},prior:4},hour:{extract:function(e){return e.getHours()},restore:function(e,t){return e.setHours(t)},add:function(e,t){return e.setHours(e.getHours()+t)},prior:2},hour12:{extract:function(e){return e.getHours()%12||12},restore:function(e,t){t%=12,12<=e.getHours()&&(t+=12),e.setHours(t)},add:function(e,t){return e.setHours(e.getHours()+t)},prior:2},ampm:{extract:function(e){return e.getHours()<12?1:2},restore:function(e,t){var n=e.getHours();n<12==1<t&&e.setHours((n+12)%24)},add:function(e,t){return e.setHours(e.getHours()+12*t)},prior:3},minute:{extract:function(e){return e.getMinutes()},restore:function(e,t){return e.setMinutes(t)},add:function(e,t){return e.setMinutes(e.getMinutes()+t)},prior:0},second:{extract:function(e){return e.getSeconds()},restore:function(e,t){return e.setSeconds(t)},add:function(e,t){return e.setSeconds(e.getSeconds()+t)},prior:1},millisecond:{extract:function(e){return e.getMilliseconds()},restore:function(e,t){return e.setMilliseconds(t)},add:function(e,t){return e.setMilliseconds(e.getMilliseconds()+t)},prior:1},week:{extract:S,restore:function(e,t){return e.setDate(e.getDate()+7*(t-S(e)))},add:function(e,t){return e.setDate(e.getDate()+7*t)},prior:6}};for(var c in u)u[c].placeholder=n[c];var l=Object.values(s),d=Array.isArray(l),f=0;for(l=d?l:l[Symbol.iterator]();;){var p;if(d){if(f>=l.length)break;p=l[f++]}else{if((f=l.next()).done)break;p=f.value}var h=p;u[h.name]&&e.extend(h,u[h.name])}var m,g,v,y,w,C=(g=0<=(m=-(new Date).getTimezoneOffset())?"+":"-",v=Math.abs(m),y=Math.floor(v/60),w=v%60,g+r(y,2,2)+r(w,2,2));function b(e){var t,n=[];for(t=1;t<e.length;t++)n.push(e[t]);return n.push(e[0]),n}function $(t){for(var n,r=[],i=0;n=a.exec(t);)if(n.index>i&&(r.push(e.extend({value:t.substring(i,n.index)},s.string)),i=n.index),n.index==i){if(n[1])r.push(e.extend({value:n[1]},s.string)),r.push(s.sss);else if(n[2])r.push(e.extend({value:n[2].replace("''","'")},s.string));else if("timezone"==s[n[0]].name){var o=C;s[n[0]].colon&&(o=T(o)),r.push(e.extend({value:o},s[n[0]]))}else r.push(s[n[0]]);i=a.lastIndex}return i<t.length&&r.push(e.extend({value:t.substring(i)},s.string)),r}function S(e){var t=new Date(e.getFullYear(),0,1),n=new Date(t.getTime());4<n.getDay()?n.setDate(n.getDate()+(1-n.getDay())+7):n.setDate(n.getDate()+(1-n.getDay()));var r=e.getTime()-n.getTime();return Math.floor(r/6048e5)}function T(e){return":"==e[3]?e:e.substr(0,3)+":"+e.substr(3,2)}function k(e){return":"!=e[3]?e:e.substr(0,3)+e.substr(4,2)}var x=function(){function e(t){o(this,e),this.tp=t,this.timezone=C,this.timezoneNodes=this.tp.nodes.filter(function(e){return"timezone"==e.token.name})}return e.prototype.parse=function(e){return this.tp.parse(e),this},e.prototype.getText=function(){return this.tp.getText()},e.prototype.setDate=function(e,t){return this.tp.setValue(function(e,t){var n=(60*+(t=k(t)).substr(1,2)+ +t.substr(3,2))*(t[0]+"1");return new Date(e.getTime()+60*(n- -e.getTimezoneOffset())*1e3)}(e,this.timezone),t),this},e.prototype.getDate=function(){return e=this.tp.getValue(),t=this.timezone,n=(60*+(t=k(t)).substr(1,2)+ +t.substr(3,2))*(t[0]+"1"),new Date(e.getTime()+60*(-e.getTimezoneOffset()-n)*1e3);var e,t,n},e.prototype.setTimezone=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:C;if(e!=this.timezone){var t=this.getDate();this.timezone=e;var n=this.timezoneNodes,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;a.token.colon?a.token.value=T(e):a.token.value=k(e)}return this.setDate(t,!1)}},e.prototype.isEmpty=function(){return this.tp.isEmpty.apply(this.tp,arguments)},e.prototype.isInit=function(){return this.tp.isInit.apply(this.tp,arguments)},e.prototype.unset=function(){return this.tp.unset(),this},e}();return function(e){var t,n=$(i[e]||e);t=n.some(function(e){return"yearShort"==e.name})?function(e){return function(t){e.apply(this,arguments);var n=t.getFullYear();n<0&&t.setFullYear(n+100)}}:function(e){return function(t){e.apply(this,arguments);var n=t.getFullYear();n<0&&t.setFullYear(0),9999<n&&t.setFullYear(9999)}};var r=n,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var u=s;u.add&&(u.add=t(u.add)),u.restore&&(u.restore=t(u.restore))}var c=new E({tokens:n,value:new Date,copyValue:function(e){return new Date(e.getTime())}});return new x(c)}}function T(t,n,r){var i=function(){function t(e,n){o(this,t),this.el=e,this.doc=n}return t.prototype.on=function(e,t){if("input"!=e)return this.el.on(e,t)},t.prototype.getSelection=function(){var t=this.el[0];if(this.doc.activeElement==t){var n=t.selectionStart,r=t.selectionEnd;return e.isDefined(n)&&e.isDefined(r)?{start:n,end:r}:this.getSelectionIE()}},t.prototype.getSelectionIE=function(){var e=this.el[0],t=this.doc.selection.createRange().getBookmark(),n=e.createTextRange(),r=n.duplicate();n.moveToBookmark(t),r.setEndPoint("EndToStart",n);var i=r.text.length;return{start:i,end:i+n.text.length}},t.prototype.setSelection=function(e,t){var n=this.el[0];this.doc.activeElement==n&&(n.setSelectionRange?n.setSelectionRange(e,t):this.setSelectionIE(e,t))},t.prototype.setSelectionIE=function(e,t){var n=this.el[0].createTextRange();n.moveStart("character",e),n.collapse(),n.moveEnd("character",t-e),n.select()},t.prototype.val=function(){var e;return(e=this.el).val.apply(e,arguments)},t}();return{restrict:"A",require:"?ngModel",link:function(n,o,a,s){if(!s)return!1;a.ngTrim="false";var u,c=t(a.datetime),l=a.datetimeModel&&t(a.datetimeModel),d=new i(o,r[0]),f=new $(d,c.tp,a.datetimeSeparator);function p(e){e&&!u?(u=!0,c.setTimezone("+0000"),l&&l.setTimezone("+0000")):!e&&u&&(u=!1,c.setTimezone(),l&&l.setTimezone())}function h(e){c.setTimezone(e),l&&l.setTimezone(e)}function m(t){return!(!s.$isEmpty(t)&&!s.$isEmpty(a.min))||(e.isDate(t)||(t=l.getDate()),t>=new Date(a.min))}function g(t){return!(!s.$isEmpty(t)&&!s.$isEmpty(a.max))||(e.isDate(t)||(t=l.getDate()),t<=new Date(a.max))}function v(e){return s.$validate?s.$validate():(s.$setValidity("min",m(e)),s.$setValidity("max",g(e))),!s.$error.min&&!s.$error.max}f.on("digest",function(e){"NOT_INIT"!=e.code&&s.$setValidity("datetime",!1)}),c.tp.on("change",function(){n.$evalAsync(function(){f.err?s.$setValidity("datetime",!1):(c.isInit()||c.isEmpty()?s.$setValidity("datetime",!0):s.$setValidity("datetime",!1),c.getText()!=s.$viewValue&&s.$setViewValue(c.getText()))})}),e.isDefined(a.datetimeUtc)&&(0<a.datetimeUtc.length?n.$watch(a.datetimeUtc,p):p(!0)),e.isDefined(a.datetimeTimezone)&&(/^[+-]\d{2}:?\d{2}$/.test(a.datetimeTimezone)?h(a.datetimeTimezone):n.$watch(a.datetimeTimezone,h)),s.$validators&&(s.$validators.min=m,s.$validators.max=g),a.$observe("min",function(){v(c.getDate())}),a.$observe("max",function(){v(c.getDate())}),s.$render=function(){},s.$isEmpty=function(e){return!e||"string"==typeof e&&c.isEmpty(e)},s.$parsers.unshift(function(t){if(e.isUndefined(t)&&(t=c.getText()),!e.isString(t))return t;if(f.digest(null,t),c.isInit()){var n=c.getDate();return s.$validate||v(n)?l?l.setDate(n).getText():new Date(n.getTime()):void 0}}),s.$formatters.push(function(t){return s.$setValidity("datetime",!0),t?function(t){return!(!e.isDate(t)||l)||!(!e.isString(t)||!l)}(t)?(l&&(t=l.parse(t).getDate()),s.$validate||v(t),c.setDate(t).getText()):t:(c.unset(),n.$evalAsync(function(){s.$setViewValue(c.getText())}),c.getText())})},priority:100}}e.module("datetime").factory("datetime",S),S.$inject=["$locale","datetimePlaceholder"],e.module("datetime").directive("datetime",T),T.$inject=["datetime","$log","$document"]}(angular),angular.module("tp.ui.timepicker",[]).directive("tpTime",tpTime).controller("tpTimeController",tpTimeController).directive("tpTimepicker",tpTimepicker),tpTimeController.$inject=["$scope","lang"],tpTimepicker.$inject=["$window","$document","$timeout","lang"],angular.module("authModule",[]).factory("auth",[function(){return{}}]).directive("authComponent",[function(){return{}}]).directive("authCustomLogin",[function(){return{}}]).directive("authState",[function(){return{}}]),angular.module("condeProviderModule",[]).factory("condeProvider",[function(){return{}}]),angular.module("pianoIdProviderModule",["generalModule"]).factory("pianoIdProvider",["$sce","$window","$q","lang","errorService","eventService","ngEventService","userService","containerService",function(e,t,n,r,i,o,a,s,u){var c=!1;let l=null,d=null;var f,p,h,m,g={},v={},y={};function w(e,t){f=t||f;var n=e.find("iframe")[0];n&&o.customPostMessage("lang",{lang:f},h,n.contentWindow)}function C(e,t){if(0!==e.height){var n={height:e.height+"px"},r=t.find("#piano-id-container, iframe");e.animate?r.animate(n,200):r.css(n),u.resize()}}function b(e){var t=e.parent(),n=e.find("iframe"),r={width:t.width(),center:u.getCenterScreen(),originUrl:u.getOriginUrl()};o.customPostMessage("resize",r,h,n[0].contentWindow),w(e)}function E(e,t,n){var r={trackingId:t,formName:n},i={event:e.event,params:$.extend({},e.params,r),iframeId:getParameterByName("iframeId")};o.postMessage("pianoIdEvent",i)}return v.init=function(e){g=e,v.setOrigin(g.pianoIdUrl),y={aid:g.aid,checkout:g.checkout,customFormParams:g.customFormParams,isPasswordlessCheckoutEnabled:g.isPasswordlessCheckoutEnabled(),isPreventPasswordlessLogin:g.isPreventPasswordlessLogin,isSingleStepEnabled:g.isSingleStepEnabled(),affiliateIssuerId:g.getAffiliateIssuerId(),userLoginEmail:g.userLoginEmail,passwordlessSetPaymentEmail:g.passwordlessSetPaymentEmail,isSentLoginEmail:g.isSentLoginEmail,isSingleStepFormShown:function(){return!!m&&g.isSingleStepFormShown(m)},userToken:g.userToken,getPageView:g.getPageView}},v.setStage=function(e){l=e},v.getStage=function(){return l},v.setPreloaderHeight=function(e){d=e},v.getPreloaderHeight=function(){return d},v.setViewCtrl=function(e){m=e},v.getWidgetOptions=function(){return g},v.setOrigin=function(e){var t;h=0===(t=p=e).indexOf("http")?t:document.location.origin||document.location.href},v.register=function(){},v.login=function(){},v.resetPassword=function(){},v.isNewUser=function(){return c},v.setupDoubleOptInParams=function(e,t){return g.getDoubleOptInParams&&g.getDoubleOptInParams().then(function(n){var r=e.find("iframe")[0];if(r){var i={tbc:n.tbc,termId:n.params.termId,showOfferParams:JSON.stringify(n.params)};o.customPostMessage("setupDoubleOptInParams",i,t,r.contentWindow)}})},v.authPianoIdController=function(n,l){n.id="piano-id-"+_randomString(5);var d=["G18rIJWQ2G","45L2BaS6pu"];r.on(function(e){w(l,e)});var m=y.customFormParams;n.formName=m().formName,N(),n.error_msg=r.trc("checkout.platform","You should sign in or sign up first");var S=a.subscribe(n.id+"-loginSuccess",function(e,t){!function(e,t){var n=t.user;n.firstName=n.given_name,n.lastName=n.family_name,n.valid=!0,n.confirmed=!(t.user&&t.user.email_confirmation_required),n.uid=n.sub,c=!!t.registration;var r=u.getOriginUrl();s.checkUser({aid:e,url:r,userToken:t.token,fromUserIdentity:!0}).then(function(e){return e.models.token_list}).catch(function(){return null}).then(function(e){s.onExternalLogin({token_list:e,cookie_domain:t.cookie_domain,user_token:t.token,params:t.user,user:n,registration:c,extendExpiredAccessEnabled:t.extendExpiredAccessEnabled,stage:t.stage})})}(y.aid,t)}),T=a.subscribe(n.id+"-resize",function(e,t){C(t,l)}),k=a.subscribe(n.id+"-customEvent",function(e,t){o.customEvent("customEvent",t)}),x=a.subscribe(n.id+"-loginResponse",function(e,t){a.fire("pianoIdSingleStepLoginResponse",t)}),P=a.subscribe("submitPianoIdLoginForm",function(){var e=l.find("iframe");o.customPostMessage("submitLoginForm",null,h,e[0].contentWindow)}),A=a.subscribe("updatePianoIdAuthIframeUrl",function(){N()}),M=a.subscribe(n.id+"-loaded",function(e,t){b(l),v.setupDoubleOptInParams(l,h)}),D=a.subscribe(n.id+"-pianoIdEvent",function(e,t){"passwordlessEmailSent"===t.event&&g.passwordlessEmailSentHandler(t.params.loginTokenId),E(t,m().trackingId,t.params.formName)}),O={preventExternalLogin:!0};function _(){return d.indexOf(y.aid)>=0?"index3.html":""}function N(){var r=function(e,r){e+=_();var i=u.rootElement.width(),o={aid:y.aid,checkout:y.checkout,template:y.template,sender:r,origin:document.location.origin||document.location.href,width:i,lang:f||"",stage:v.getStage()||y.affiliateIssuerId,site:t.TPParam.params.url,screen:s.isUserValid()&&!s.isUserConfirmed()?"email_is_not_confirmed":y.isSentLoginEmail()?"passwordless_confirmation":y.isPasswordlessCheckoutEnabled?"login":"register",create_passwordless_user:y.isPasswordlessCheckoutEnabled&&!y.isPreventPasswordlessLogin(),single_step:y.isSingleStepFormShown(),display_mode:"inline",tbc:y.getPageView&&y.getPageView().tbc,page_view_id:y.getPageView&&y.getPageView().pageViewId};return v.getPreloaderHeight()&&(o.preloader_height=v.getPreloaderHeight()),n.formName?o.form_name=n.formName:y.userLoginEmail()&&(o.email=y.userLoginEmail(),y.passwordlessSetPaymentEmail()),[e,$.param(o)].join("?")}(p,n.id);n.url=e.trustAsResourceUrl(r)}s.getConfig().fillLoginRequiredEventParams(O),o.loginRequiredEvent(O),n.unsubscribeNgEventService=function(){S(),T(),k(),x(),P(),A(),M(),D(),i(n).reset()}},v.formPianoIdController=function(t,i){var s,c=n.defer(),l=!1;t.isFormHidden=!0,t.id="piano-id-"+_randomString(5);var d=y.customFormParams;t.formName=d().formName,t.hideIfComplete=d().hideCompletedFields,r.on(function(e){w(i,e)});var m=function(e,n){var r=u.rootElement.width(),i={form_name:t.formName,hide_if_complete:t.hideIfComplete,aid:y.aid,checkout:y.checkout,sender:n,origin:document.location.origin||document.location.href,width:r,lang:f||"",stage:v.getStage()||y.affiliateIssuerId,passwordless:y.isPasswordlessCheckoutEnabled,tbc:y.getPageView||y.getPageView().tbc,page_view_id:y.getPageView||y.getPageView().pageViewId};v.getPreloaderHeight()&&(i.preloader_height=v.getPreloaderHeight());y.userToken&&(i.access_token=y.userToken);return[e,$.param(i)].join("?")}(p+"form",t.id),g=a.subscribe(t.id+"-profileUpdated",function(e,t){l=!0,s&&s.resolve(!0)}),S=a.subscribe(t.id+"-change",function(e,t){l=!1}),T=a.subscribe(t.id+"-profileUpdatedError",function(e,t){l=!1,s&&s.resolve(!1)}),k=a.subscribe(t.id+"-pianoIdEvent",function(e,n){"cfFormImpression"===n.event&&t.$apply(function(){t.isFormHidden=!1}),E(n,d().trackingId,n.params.formName)}),x=a.subscribe(t.id+"-resize",function(e,t){C(t,i)}),P=a.subscribe(t.id+"-loaded",function(e,t){b(i),c.resolve()}),A=a.subscribe(t.id+"-stateReady",function(e,t){var n=i.find("iframe");o.customPostMessage("setToken",y.userToken,h,n[0].contentWindow)});t.url=e.trustAsResourceUrl(m),t._isValid=function(){return c.promise.then(function(){if(t.isFullFilled||l)return!0;var e=i.find("iframe");return l||(s=n.defer(),o.customPostMessage("submit",{},h,e[0].contentWindow)),s.promise})},t.unsubscribeNgEventService=function(){g(),S(),T(),k(),x(),P(),A()}},v.emailConfirmationRequiredController=function(n,i){n.id="piano-id-"+_randomString(5),r.on(function(e){w(i,e)});var o=function(e,n){var r=u.rootElement.width(),i={aid:y.aid,sender:n,origin:document.location.origin||document.location.href,site:t.TPParam.params.url,screen:"email_confirmation_required",checkout:y.checkout,width:r,lang:f||"",passwordless:y.isPasswordlessCheckoutEnabled,stage:v.getStage()||y.affiliateIssuerId,access_token:y.userToken,tbc:y.getPageView||y.getPageView().tbc,page_view_id:y.getPageView||y.getPageView().pageViewId};v.getPreloaderHeight()&&(i.preloader_height=v.getPreloaderHeight());return[e,$.param(i)].join("?")}(p,n.id);n.url=e.trustAsResourceUrl(o);var s=y.customFormParams,c=a.subscribe(n.id+"-resize",function(e,t){C(t,i)}),l=a.subscribe(n.id+"-loaded",function(){b(i),v.setupDoubleOptInParams(i,h)}),d=a.subscribe(n.id+"-pianoIdEvent",function(e,t){E(t,s().trackingId)});n.$on("$destroy",function(){c(),l(),d()})},v}]).directive("pianoId",["userService","pianoIdProvider","$injector",function(e,t,n){return{restrict:"EA",require:"?^view",template:'<div id="piano-id-container">  <auth-piano-id ng-if="authIsExist()"></auth-piano-id>  <form-piano-id ng-if="formIsExist()"></form-piano-id></div>',link:function(r,i,o,a){var s;let u=!!o.stage,c=null;try{s=n.get("viewService")}catch(e){}r.formIsExist=function(){return e.isUserValid()&&!t.isNewUser()&&t.getWidgetOptions().widgetSpecificCheckIfVisible()},r.authIsExist=function(){return(!a||s.isActive(a.stateName))&&!(e.isUserValid()&&e.isUserConfirmed())&&(!u||u&&c)},r.isUserValid=e.isUserValid,t.setPreloaderHeight(o.preloaderHeight),u&&r.$watch(o.stage,function(e){c=e,t.setStage(c)})}}}]).directive("emailConfirmationRequired",["pianoIdProvider","$injector",function(e,t){return{restrict:"EA",scope:{},require:"^view",template:'<iframe id="{{id}}" ng-src="{{url}}" style="width:100%;"></iframe>',link:function(n,r,i,o){var a;try{a=t.get("viewService")}catch(e){}a.isActive(o.stateName)?(o&&e.setViewCtrl(o),e.emailConfirmationRequiredController(n,r)):r.remove()}}}]).directive("authPianoId",["pianoIdProvider","errorService",function(e,t){return{restrict:"EA",scope:{},require:"?^view",template:'<iframe id="{{id}}" ng-src="{{url}}" style="width:100%;"></iframe>',link:function(n,r,i,o){var a=e.getWidgetOptions();o&&(e.setViewCtrl(o),"auth"!==o.stateName&&(o.registerComponentController(n,{passwordlessLoginForm:a.isPasswordlessCheckoutEnabled}),n._isValid=function(){return t(n).reset(),!!a.isSingleStepEnabled()||(t(n).global(n.error_msg),!1)},n.$on("$destroy",function(){o.unregisterComponentController(n)}))),e.authPianoIdController(n,r)}}}]).directive("formPianoId",["pianoIdProvider",function(e){return{restrict:"EA",require:"?^view",scope:{},template:'<iframe ng-hide="isFormHidden" id="{{id}}" ng-src="{{url}}" style="width:100%;"></iframe>',link:function(t,n,r,i){if(i){if(e.setViewCtrl(i),"auth"===i.stateName)return void n.remove();i.registerComponentController(t)}t.$on("$destroy",function(){t.isFullFilled=!0,i&&i&&i.unregisterComponentController(t)}),e.formPianoIdController(t,n)}}}]),angular.module("creditRedemptionModule",["generalModule"]).factory("creditRedemptionService",["eventService","userService",function(e,t){const n={affiliateState:{}};function r(){return n.affiliateState&&n.affiliateState.creditStates&&n.affiliateState.creditStates.length>0?n.affiliateState.creditStates[0]:null}return n.setAffiliateState=function(e){n.affiliateState=e},n.affiliateCredits=function(){const e=r();return e?e.total-e.spent:0},n.affiliateCreditsTotal=function(){const e=r();return e?e.total:0},n.affiliateCreditExpirationTime=function(){const e=r();let t=null,n=new Date;return e&&(t=function(e){let t=null;return e&&e.length?(e.forEach(function(e){(!t||t.exp>e.exp)&&(t=e)}),t):t}(e.redeemedItems)),t&&t.exp&&(n=new Date(1e3*t.exp)),n},n.redeemAffiliateCredit=function(){const t=r();t&&e.postMessage("redeemAffiliateCredit",{cid:t.cid,itemId:n.affiliateState.redemptionCandidateItemId,newRedemptionMethod:n.redemptionMethod()})},n.toggleRedemptionMethod=function(){const e=r();e&&(e.redemptionMethod="A"===e.redemptionMethod?"M":"A")},n.redemptionMethod=function(){const e=r();return e?e.redemptionMethod:null},n.setupScope=function(e){e.affiliateState=n.affiliateState,e.affiliateCredits=n.affiliateCredits,e.affiliateCreditsTotal=n.affiliateCreditsTotal,e.affiliateCreditExpirationTime=n.affiliateCreditExpirationTime,e.redeemAffiliateCredit=n.redeemAffiliateCredit,e.toggleRedemptionMethod=n.toggleRedemptionMethod,e.redemptionMethod=n.redemptionMethod},n}]),angular.module("datesModule",[]).service("dateUtils",[function(){return{}}]),angular.module("country.selector",[]).directive("dynamicHtml",[function(){return{}}]).directive("tpCallingCodeSelector",[function(){return{}}]).directive("tpCountrySelector",[function(){return{}}]).factory("CountrySelectorCtrl",[function(){return{}}]).directive("tpStateSelector",[function(){return{}}]).factory("StateSelectorCtrl",[function(){return{}}]),angular.module("billing.address",[]).directive("billingAddressComponent",[function(){return{}}]);var passwordless=angular.module("passwordlessModule",["checkoutModule"]);passwordless.factory("passwordlessService",["tpHTTP","ngEventService","viewService","containerService","userService","eventService","$q","errorService","$rootScope","lang","$window","checkoutGoTo",function(e,t,n,r,i,o,a,s,u,c,l,d){var f,p,h={email:"",error:""};function m(l){if(0===h.email.length)return s(u).global(c.trc("checkout.platform","Email format is not valid")),l.reject(),l.promise;var d=t.subscribe("gigyaHide",function(e,t){d(),t.afterLogin||l.reject()});p.getDoubleOptInParams().then(function(e){return{tbc:e.tbc,pageViewId:e.pageViewId,termId:e.params.termId,showOfferParams:JSON.stringify(e.params),url:r.getOriginUrl()}}).then(function(t){return function(t){var r={aid:TPParam.params.aid,email:h.email,"g-recaptcha-response":f};return Object.assign(r,t),h.error="",e.post(TPParam.LOGIN_PASSWORDLESS_USER,r).then(function(e){var t,r=e.models.user||{};"auth"===n.getActiveState()&&n.viewStack.pop(),r.userExist?(t=r.sentLoginEmail,p.config.isExistPasswordlessUser=!0,i.isPianoIdUserProvider()?p.config.isSentLoginEmail=t:i.isGigyaUserProvider()?(i.onLoginSuccess(function(){g()},!0),i.login()):util.log("[PASSWORDLESS] Unsupported user provider")):function(e){if(i.isPianoIdUserProvider()){var t={};Object.assign(t,e.userModel,{rememberMe:!1}),i.onExternalLogin({token_list:e.tokenList,cookie_domain:e.cookieDomain,user_token:e.accessToken,user:t,params:t,registration:!0}).then(function(){g()})}else i.isGigyaUserProvider()?(i.onLoginSuccess(function(){g()},!0),o.gigyaPasswordlessLoginEvent({accessTokenName:e.accessToken,accessToken:e.accessToken})):util.log("[PASSWORDLESS] Unsupported user provider")}(r)}).catch(function(e){return h.error=e&&e.errors&&e.errors.length&&e.errors[0].msg,"auth"!==n.getActiveState()&&s(u).global(h.error),a.reject(h.error)})}(t)}).catch(function(){l.reject()})}function g(){p.reload()}return{data:h,onCaptchaResolve:function(e){f=e},onCaptchaReady:function(e){e},loginUser:function(e){p=e;var r=a.defer(),o=i.isGigyaUserProvider()&&p.isPasswordlessCheckoutEnabled()&&!i.isUserValid(),l=i.isPianoIdUserProvider()&&p.isSingleStepEnabled()&&!i.isUserValid();return(o||l)&&n.isPasswordlessFormState(n.getActiveState())?(p.onUserChanged().then(function(){r.resolve()}),l&&function(e,n){s(u).reset(),p.config.isSentLoginEmail=!1,p.config.preventPasswordlessLogin=!1,t.fire("submitPianoIdLoginForm");var r=t.subscribe("pianoIdSingleStepLoginResponse",function(t,i){if(r(),i.loggedIn||i.userCreated)return p.onUserChanged().then(function(){n.resolve()});i.usual_user?s(u).global(c.tr("Enter your password, please")):i.email_sent&&(p.config.isSentLoginEmail=!0,p.config.preventPasswordlessLogin=!0,d.gotoAuthState(e)),n.reject()})}(e,r),o&&m(r)):r.resolve(),r.promise},saveCheckoutParams:function(t,n){t.getDoubleOptInParams().then(function(r){r.paymentMethodNonce=t.input.paymentMethodNonce||"",r.paymentMethodInstrumentId=t.input.paymentMethodInstrumentId||"",function(t,n,r){var i={loginTokenId:t,oid:n.params.oid,termId:n.params.termId,tbc:n.tbc,nonce:n.paymentMethodNonce,instrumentId:n.paymentMethodInstrumentId,showOfferParams:JSON.stringify(n.params)};(function(e,t){e.input&&"boolean"==typeof e.input.areTaxesCalculated&&(t.areTaxesCalculated=e.input.areTaxesCalculated)})(r,i),function(e,t){"boolean"==typeof t.areTaxesCalculated?t.autoComplete=!(!e.paymentMethodNonce&&!e.paymentMethodInstrumentId&&t.areTaxesCalculated):t.autoComplete=!(!e.paymentMethodNonce&&!e.paymentMethodInstrumentId)}(n,i),e({method:"post",url:l.TPParam.SAVE_CHECKOUT_PARAMS,data:i})}(n,r,t)}).catch(function(e){console.error(e)})},updatePianoIdIframe:function(){t.fire("updatePianoIdAuthIframeUrl")},setPaymentEmail:function(e,t){e.config.userLoginEmail=t||""}}}]),passwordless.directive("passwordlessSingleStepCaptcha",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/passwordless-single-step-captcha.html",scope:{},controller:["$scope","passwordlessService","checkout","userService",function(e,t,n,r){angular.extend(e,BaseComponentController),e.data=t.data,e.recaptchaKey=TPParam.RECAPTCHA_SITE_KEY,e.onCaptchaResolve=t.onCaptchaResolve,e.onCaptchaReady=t.onCaptchaReady,e.isCaptchaVerificationRequired=function(){return n.isSingleStepEnabled()&&n.config.passwordlessCaptchaEnabled&&!r.isUserValid()}}],link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),passwordless.directive("passwordlessLogin",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/passwordless-login.html",scope:{},controller:["$scope","passwordlessService","checkout","viewService",function(e,t,n,r){angular.extend(e,BaseComponentController),e.data=t.data,e.recaptchaKey=TPParam.RECAPTCHA_SITE_KEY,e.onCaptchaResolve=t.onCaptchaResolve,e.onCaptchaReady=t.onCaptchaReady,e.isSingleStepEnabled=function(){return n.isSingleStepEnabled()&&"auth"!==r.getActiveState()},e.loginUser=function(){return n.passwordlessServiceLogin()}}],link:function(e,t,n,r){r.registerComponentController(e,{passwordlessLoginForm:!0}),r.extendScope(e)}}}),passwordless.directive("passwordlessPaymentMethods",function(){return{restrict:"A",template:'<div ng-if="isUsedForTerm(paymentMethodIds.applePayBt)" class="pn-passwordless-offer-boilerplate__applepay-btn" apple-pay-through-braintree-form-component term-id="{{termId}}"></div>\n<new-flow-components-c-h ng-if="isUsedForTerm(paymentMethodIds.applePayStripe)" payment-source="paymentMethodIds.applePayStripe" term-id="{{termId}}" class="pn-passwordless-offer--applepay-button-container"></new-flow-components-c-h>\n<new-flow-components-c-h ng-if="isUsedForTerm(paymentMethodIds.applePayPayWay)" payment-source="paymentMethodIds.applePayPayWay" term-id="{{termId}}" class="pn-passwordless-offer--applepay-button-container"></new-flow-components-c-h>',scope:{termId:"@"},controller:["$scope","checkout",function(e,t){e.paymentMethodIds={applePayBt:APPLE_PAY_BT,applePayStripe:STRIPE_APPLEPAY,applePayPayWay:PAYWAY_APPLEPAY};var n,r=(n=t._findTerm(e.termId),(n.isSubscription?n.subscriptionPaymentMethods:n.oneOffPaymentMethods)||[]).find(function(e){return"apple_pay"===e.paymentTypeId});e.isUsedForTerm=function(e){return r&&r.id===e}}]}}),angular.module("billingConfigModule",[]).factory("billingConfig",[function(){return{}}]).directive("billingCountry",[function(){return{}}]),angular.module("consentModule",[]).directive("consentsList",[function(){return{}}]).directive("consentBox",[function(){return{}}]).factory("checkConsents",[function(){return{}}]),angular.module("redemptionModule",[]).factory("redeemRedemptionCodeService",[function(){return{}}]).factory("redemptionService",[function(){return{}}]).directive("redemptionComponent",[function(){return{}}]).directive("redemptionCodeAndInfo",[function(){return{}}]).directive("redeemCodeInput",[function(){return{}}]).directive("redemptionPrintAddress",[function(){return{}}]),angular.module("subscriptionReactivationModule",[]).factory("reactivateSubscriptionService",[function(){return{}}]).directive("reactivateSubscriptionComponent",[function(){return{}}]),angular.module("giftModule",[]).factory("giftService",[function(){return{}}]).directive("giftFormComponent",[function(){return{}}]).directive("giftInputTime",[function(){return{}}]).directive("giftInputName",[function(){return{}}]).directive("giftInputEmail",[function(){return{}}]).directive("giftInputMessage",[function(){return{}}]),angular.module("upgradeModule",[]).factory("upgradeService",[function(){return{}}]).directive("completeUpgradeComponent",[function(){return{}}]).directive("upgradePurchaseReceipt",[function(){return{}}]).directive("upgradeSharedSubscriptionComponent",[function(){return{}}]);var antifraudCaptchaV3=angular.module("antifraudCaptchaV3Module",[]);antifraudCaptchaV3.factory("captchaV3Service",["eventService","ngEventService","$q",function(e,t,n){var r=!1;function i(){return r}return{isCaptchaV3Enabled:i,getCaptchaV3Enabled:function(){var n=t.subscribe("captcha-v3-enabled-value",function(e,t){var i;n(),i=t.isEnabled,r=i});e.postMessage("get-captcha-v3-enabled")},getCaptchaV3Token:function(r){var o=n.defer();if(i()){var a=t.subscribe("captcha-v3-token",function(e,t){a(),o.resolve(t.token)});e.postMessage("get-captcha-v3-token",{action:r})}else o.resolve();return o.promise}}}]),angular.module("antifraudCaptchaV2Module",[]).factory("captchaV2Service",[function(){return{}}]).directive("paymentMethodCaptcha",[function(){return{}}]),angular.module("sharedSubscriptionModule",[]).directive("sharedSubscriptionComponent",[function(){return{}}]).directive("sharedSubscriptionFormComponent",[function(){return{}}]).directive("redeemSharedSubscriptionComponent",[function(){return{}}]),angular.module("sharedSubscriptionCommonModule",[]).factory("sharedSubscriptionService",[function(){return{}}]).factory("ssHelpers",[function(){return{}}]).factory("ssComponentController",[function(){return{}}]).factory("ssFormComponentController",[function(){return{}}]),angular.module("continueThreeDSPurchaseModule",[]).directive("continueThreeDSPurchaseComponent",[function(){return{}}]),angular.module("tpConfirmModule",[]).directive("tpDropConfirm",[function(){return{}}]),angular.module("passThroughModule",[]).directive("passThroughFormComponent",[function(){return{}}]),angular.module("registrationServiceModule",[]).factory("registrationService",[function(){return{}}]);var swgModule=angular.module("swgModule",["generalModule","tp.i18n"]);swgModule.factory("swgService",["tpHTTP","$q","$window","ngEventService","lang","eventService",function(e,t,n,r,i,o){var a,s={};return r.subscribe("swgCheckoutComplete",function(e,t){a&&a.resolve(t)}),s.isAvailableForTerm=function(e){return e.sku},s.startCheckout=function(e){return a&&a.reject(),a=t.defer(),o.postMessage("swgCheckoutStart",{sku:e.sku,termId:e.termId}),a.promise},s.getUiConfig=function(){return{name:"swg",class:"swg-button",title:i.trc("checkout.platform","Subscribe with Google")}},s}]);var promocode=angular.module("promocodeModule",["checkoutModule","tp.i18n"]),EVENT_PROMO_CODE_INIT="PROMO_CODE_INIT",EVENT_PROMO_CODE_STATUS_CHANGE="PROMO_CODE_STATUS_CHANGE",EVENT_PROMO_CODE_INPUT_CLICK="EVENT_PROMO_CODE_INPUT_CLICK",EVENT_REAPPLY_PROMO_CODE="EVENT_REAPPLY_PROMO_CODE",EVENT_RESET_PROMO_CODE="EVENT_RESET_PROMO_CODE";promocode.factory("promoCodeService",["tpHTTP","$rootScope","$q","$window","checkout","checkoutUpdatesService","statsService",function(e,t,n,r,i,o,a){return{data:{price:null,verified:!1,resultState:i.input.promoCodeId?"VALIDCODE":null,verifiedPromoCode:{},promoCode:{state:"PROMO_CODE_APPLY",loading:!1,validating:!1,visible:!0,code:""},term:{},isPromoCodeAnon:!1},verify:function(t,o,s,u){return a.getStatsPayload().then(function(a){var c=n.defer();return e({method:"post",url:r.TPParam.PROMO_CODE_VERIFY,params:{aid:t,code:o,termId:s,oid:u,zipCode:i.input.zipCode,countryCode:i.getBillingCountryCode(),billingZipCode:i.getBillingZipCode(),residenceCountryCode:i.getResidenceCountryCode(),userToken:i.params.userToken},data:a}).then(function(e){i.mergeStats(e),c.resolve({data:e,ok:!0})}).catch(function(e){c.resolve({data:e,ok:!1})}),c.promise})},revert:function(t,s){return a.getStatsPayload().then(function(a){var u=n.defer();return e({method:"post",url:r.TPParam.PROMO_CODE_REVERT,params:{promoCodeId:t,oid:s},data:a}).then(function(e){i.mergeStats(e),i.flags.selectedTerm.isZero=!1,o.updatePaymentMethods(!0,i),u.resolve({data:e,ok:!0})}).catch(function(e){u.resolve({data:e,ok:!1})}),u.promise})},isAnonPromoCode:function(t,o,s){return a.getStatsPayload().then(function(a){var u=n.defer();return e({method:"post",url:r.TPParam.PROMO_CODE_IS_ANON,params:{code:t,termId:o,aid:s},data:a}).then(function(e){i.mergeStats(e),u.resolve({data:e,ok:!0})}).catch(function(e){u.resolve({data:e,ok:!1})}),u.promise})},handleZeroPrice:function(e){e&&(i.flags.selectedPaymentMethod={}||i.flags.selectedPaymentMethod,i.flags.selectedPaymentSource={}||i.flags.selectedPaymentSource,i.flags.selectedPaymentMethod.id=ZERO),o.updatePaymentMethods(!0,i)}}}]),promocode.directive("promoCodeComponent",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/promo-code-component.html",scope:{skipValidation:"@",term:"="},link:function(e,t,n,r){r.registerComponentController(e),t.on("$destroy",function(){r.unregisterComponentController(e)})},controller:["$scope","$element","promoCodeService","checkout","tpHTTP","ngEventService","modalService","errorService","$timeout","shakeService","lang","purchaseService","userService","passwordlessService","$q","checkoutGoTo",function(e,t,n,r,i,o,a,s,u,c,l,d,f,p,h,m){angular.extend(e,BaseComponentController),e.PROMO_CODE_APPLY="PROMO_CODE_APPLY",e.PROMO_CODE_RESULT="PROMO_CODE_RESULT",e.PROMO_CODE_RESULT_STATE={VALIDCODE:"VALIDCODE",INVALIDCODE:"INVALIDCODE",UNLOCKED:"UNLOCKED",ANOTHERTERM:"ANOTHERTERM",ANOTHERESOURCE:"ANOTHERESOURCE"};var g=!1,v=!1,y=function(){v=!1,s(e).reset(),e.price=n.data.price,e.verified=n.data.verified,e.input=r.input,e.promoCode=n.data.promoCode,e.selectedTerm=e.term||r.flags.selectedTerm,(null===e.input.promoCode||n.data.term.termId&&e.selectedTerm.termId!==n.data.term.termId)&&w(),angular.copy(e.selectedTerm,n.data.term),e.resultState=n.data.resultState,e.verifiedPromoCode=n.data.verifiedPromoCode,o.fire(EVENT_PROMO_CODE_INIT),r.params.promoCode&&(e.promoCode.code=r.params.promoCode,e.apply()),u(function(){t.find(".promo-code-description-enter").show(),t.find(".promo-code-description-error").hide()},0)};function w(){v=!1,r.resetDiscount(),e.promoCode.state=e.PROMO_CODE_APPLY,e.promoCode.loading=!1,e.promoCode.validating=!1,e.promoCode.code="",e.resultState=null,n.data.resultState=null}e.isNeedApplyAfterReload=!1,e.apply=function(){if(v=!0,!e.input.promoCode)return e.resultState=e.PROMO_CODE_RESULT_STATE.INVALIDCODE,void(r.isSelectedTermLocked()||s(e).component({field:"promocode",message:l.trc("checkout.platform","Promo code is required")}));if(r.isPromoCodeApplyWithoutUserEnabled()){var t=e.term||r.getSelectedTerm();n.isAnonPromoCode(r.input.promoCode,t.termId,r.getAid()).then(function(e){e.ok?e.data.models.isPromoCodeAnon?u():r.passwordlessServiceLogin().then(u):c()})}else r.passwordlessServiceLogin().then(u);function u(){if(!r.isPromoCodeApplyWithoutUserEnabled()&&!r.isUserValid()){if(!r.isSelectedTermLocked())return void s(e).global(l.trc("checkout.platform","You should sign in or sign up first"));if(m.gotoAuthState(r,null,function(){e.isNeedApplyAfterReload&&(m.gotoLockedPromoCode(r),e.isNeedApplyAfterReload=!1,e.apply())},!0))return void(e.isNeedApplyAfterReload=!0)}e.selectedTerm=e.term||r.flags.selectedTerm,e.promoCode.validating=!0;var t=e.term||r.getSelectedTerm();(function(e){return r.input.oid?Promise.resolve():function(e){return r.createOrder(r.params.aid,r.params.offerId,r.params.templateId,r.params.userToken,e.termId).then(function(e){return e.errors&&e.errors.length>0?h.reject(e):e})}(e).then(function(e){r.input.oid=e.models.oid})})(t).then(function(){!function(t,u){g=!1,n.verify(r.getAid(),r.input.promoCode,t.termId,u).then(function(u){r.softResetDiscount().then(function(){if(s(e).reset(),u.ok){i.extractModels(u.data,e),i.extractModels(u.data,n.data),e.promoCode.state=e.PROMO_CODE_RESULT;var f=u.data.models;e.resultState===e.PROMO_CODE_RESULT_STATE.VALIDCODE?function(t,i){r.discountSelectedTerm(t.chargeAmount,t.chargeCurrency,t.chargeDisplayAmount,t.promotionBillingPlan,t.verifiedPromoCode.promoCodeId,i.termId),r.reload(void 0,!0).then(function(){r.sendGoogleAnalyticsEvent({eventAction:"promoApplied",eventLabel:"Promo applied",params:{offerId:r.config.offerId,templateId:r.config.offerTemplateId,templateVariantId:r.config.offerTemplateVariantId,promotionId:t.verifiedPromoCode.promotionId}}),n.handleZeroPrice(e.isZero),o.fire(EVENT_CHECKOUT_PRICE_CHANGED)})}(f,t):e.resultState===e.PROMO_CODE_RESULT_STATE.UNLOCKED?function(t,i){r.discountSelectedTerm(t.chargeAmount,t.chargeCurrency,t.chargeDisplayAmount,t.promotionBillingPlan,t.verifiedPromoCode.promoCodeId,i.termId),r.reload(void 0,!0).then(function(){r.input.validUnlockPromoCode=!0,m.gotoNextState(r,d,!1,!0,!0),r.sendGoogleAnalyticsEvent({eventAction:"promoApplied",eventLabel:"Promo applied",params:{offerId:r.config.offerId,templateId:r.config.offerTemplateId,templateVariantId:r.config.offerTemplateVariantId,promotionId:t.verifiedPromoCode.promotionId}}),n.handleZeroPrice(e.isZero),o.fire(EVENT_CHECKOUT_PRICE_CHANGED)})}(f,t):e.resultState===e.PROMO_CODE_RESULT_STATE.ANOTHERTERM?function(e){var t=e.otherTerms[0],n=e.verifiedPromoCode;a.openDialog({templateUrl:"/widget/checkout/component/partials/promo-code-another-term-dialog.html",controller:["$scope","$modalInstance",function(e,i){e.otherTerm=t,e.verifiedPromoCode=n,e.selectTerm=function(){i.close(),r.checkoutWithNewTerm(t)}}]})}(f):e.resultState===e.PROMO_CODE_RESULT_STATE.ANOTHERESOURCE?function(t){var n=e.otherTerms[0],i=e.otherTermOfferPubId,o=t.verifiedPromoCode;a.openDialog({templateUrl:"/widget/checkout/component/partials/promo-code-another-term-dialog.html",controller:["$scope","$modalInstance",function(e,t){e.otherTerm=n,e.verifiedPromoCode=o,e.selectTerm=function(){t.close(),r.reload({offerId:i,termId:n.termId}).then(function(){r.checkoutWithNewTerm(n,i)})}}]})}(f):e.resultState===e.PROMO_CODE_RESULT_STATE.INVALIDCODE&&(r.resetDiscount(),r.sendGoogleAnalyticsEvent({eventAction:"promoInvalid",eventLabel:"Promo invalid",params:{offerId:r.config.offerId,templateId:r.config.offerTemplateId,templateVariantId:r.config.offerTemplateVariantId,code:e.input.promoCode}}),r.isSelectedTermLocked()||s(e).component({field:"promocode",message:l.trc("checkout.platform","Your promo code is not valid")}))}else c();e.promoCode.validating=!1})})}(t,r.input.oid)})}function c(){r.input.promoCode=null,e.promoCode.state=e.PROMO_CODE_APPLY,e.promoCode.loading=!1,e.promoCode.validating=!1,e.promoCode.code="",s(e).global(l.trc("checkout.platform","Can not validate promo code"))}},e.revert=function(){var t=r.input.oid;n.revert(e.verifiedPromoCode.promoCodeId,t).then(function(t){t.ok?w():s(e).global(l.trc("checkout.platform","Can not revert promo code"))})},e.isPromoCodeAvailable=function(){return r.isPromoCodeAvailable(e.term)},e.isPromoCodeValid=function(){return n.data.resultState===e.PROMO_CODE_RESULT_STATE.VALIDCODE},Helper.wrapMethod("isSelectedTermLocked",r,e);var C=o.subscribe(EVENT_RESET_PROMO_CODE,function(){v=!1}),b=o.subscribe(EVENT_CHECKOUT_TERM_SELECTED,function(){y()}),E=o.subscribe(EVENT_REAPPLY_PROMO_CODE,function(){v&&e.apply()}),$=o.subscribe("logout",function(){w()});e.inputClick=function(){o.fire(EVENT_PROMO_CODE_INPUT_CLICK),t.find(".promo-code-description-enter").show(),t.find(".promo-code-description-error").hide()},e.$watch(function(){return e.resultState===e.PROMO_CODE_RESULT_STATE.INVALIDCODE&&!g},function(){e.resultState!==e.PROMO_CODE_RESULT_STATE.INVALIDCODE||g||(o.fire(EVENT_PROMO_CODE_STATUS_CHANGE),t.find(".promo-code-description-enter").hide(),t.find(".promo-code-description-error").show(),g=!0)}),e.unsubscribeNgEventService=function(){C(),E(),b(),$()},y()}]}}),promocode.directive("animateLockedPromoCode",function(){return{scope:!1,controller:["$scope","$element","ngEventService","shakeService","$timeout","checkout","lang",function(e,t,n,r,i,o,a){var s=n.subscribe(EVENT_PROMO_CODE_INIT,function(){i(function(){t.find(".promo-code-description-enter").show(),t.find(".promo-code-description-error").hide()},0)}),u=n.subscribe(EVENT_PROMO_CODE_INPUT_CLICK,function(){i(function(){t.find(".promo-code-description-enter").show(),t.find(".promo-code-description-error").hide(),t.find(".promo-code-apply").html(a.trc("checkout.platform","Apply"))},0)}),c=n.subscribe(EVENT_PROMO_CODE_STATUS_CHANGE,function(){o.isSelectedTermLocked()&&i(function(){var e=t.find(".promo-code-lock"),n=t.find(".promo-code-description-enter"),i=t.find(".promo-code-description-error");n.show(),i.hide(),n.css({position:"relative"}),i.css({position:"relative"}),r.shake(e),n.animate({top:-15,opacity:0},600,function(){n.hide(),n.animate({top:0,opacity:1},3),i.animate({top:-15,opacity:0},3,function(){i.show(),i.animate({top:0,opacity:1},600,function(){o.resize(),t.find(".promo-code-apply").html(a.trc("checkout.platform","Try again !"))})})})},0)});e.$on("$destroy",function(){s(),u(),c()})}]}}),angular.module("experianModule",[]).factory("experianService",[function(){return{}}]).directive("experianBillingAddress",[function(){return{}}]),angular.module("paymentProviderModule",[]).factory("creditCardUtils",[function(){return{}}]),angular.module("paymentServiceModule",[]).factory("paymentService",[function(){return{}}]),angular.module("purchaseServiceDataModule",[]).factory("purchaseServiceData",[function(){return{}}]),angular.module("purchaseServiceModule",[]).factory("purchaseService",[function(){return{}}]),angular.module("paymentProviders",[]).factory("spreedlyIntegrationService",[function(){return{}}]).factory("utilsService",[function(){return{}}]),angular.module("termGateServiceModule",[]).factory("termGateService",[function(){return{}}]),angular.module("alreadyHasAccessModule",[]).directive("alreadyHasAccessComponent",[function(){return{}}]),angular.module("confirmationModule",[]).directive("confirmationComponent",[function(){return{}}]),angular.module("bankSecureModule",[]).directive("bankSecureComponent",[function(){return{}}]).factory("paymentProvider",[function(){return{}}]),angular.module("paymentProviderModule").factory("passwordlessPaymentService",[function(){return{}}]),angular.module("paypalExpressCheckoutProviderModule",[]).factory("paypalExpressCheckoutProvider",[function(){return{}}]).directive("paypalExpressCheckoutProviderFormComponent",[function(){return{}}]),angular.module("paypalExpressCheckout",[]).factory("paypalExpressCheckoutService",[function(){return{}}]),angular.module("creditCardModule",[]).factory("creditCard",[function(){return{}}]).factory("creditCardService",[function(){return{}}]).directive("ccFormComponent",[function(){return{}}]),angular.module("payPalModule",[]).factory("payPal",[function(){return{}}]).directive("paypalFormComponent",[function(){return{}}]),angular.module("dwollaModule",[]).factory("dwolla",[function(){return{}}]).directive("dwollaFormComponent",[function(){return{}}]),angular.module("amazonmwsModule",[]).factory("amazonmws",[function(){return{}}]).directive("amazonFormComponent",[function(){return{}}]),angular.module("coinbaseModule",[]).factory("coinbase",[function(){return{}}]).directive("coinbaseFormComponent",[function(){return{}}]),angular.module("mockModule",[]).factory("mock",[function(){return{}}]).directive("mockFormComponent",[function(){return{}}]),angular.module("openpayCashModule",[]).factory("openpayCashService",[function(){return{}}]).factory("openpayCashProvider",[function(){return{}}]).directive("openpayCashFormComponent",[function(){return{}}]).directive("openpayBillControls",[function(){return{}}]),angular.module("zeroModule",[]).factory("zero",[function(){return{}}]).directive("zeroFormComponent",[function(){return{}}]),angular.module("payWhatYouWantModule",[]).factory("payWhatYouWantData",[function(){return{}}]).directive("payWhatYouWantFormComponent",[function(){return{}}]),angular.module("externalVerificationModule",[]).factory("externalVerificationService",[function(){return{}}]).directive("externalVerificationComponent",[function(){return{}}]).controller("externalApiFieldsetCtrl",[function(){return{}}]).directive("externalApiFieldset",[function(){return{}}]).directive("externalApiFieldsetList",[function(){return{}}]).directive("externalApiFieldsetExists",[function(){return{}}]).directive("externalApiFieldsetNew",[function(){return{}}]).directive("externalApiFieldsetForm",[function(){return{}}]).directive("externalApiFieldsetField",[function(){return{}}]).directive("externalApiFieldsetInput",[function(){return{}}]).directive("externalApiFieldsetHint",[function(){return{}}]).directive("inject",[function(){return{}}]),angular.module("printAddressModule",[]).factory("printAddressService",[function(){return{}}]).directive("printAddressComponent",[function(){return{}}]),angular.module("checkoutMockModule",[]),angular.module("payPalBtModule",[]).factory("payPalBt",[function(){return{}}]).factory("payPalBtService",[function(){return{}}]).directive("paypalThroughBraintreeFormComponent",[function(){return{}}]),angular.module("applePayBtModule",[]).factory("applePayBt",[function(){return{}}]).factory("applePayBtService",[function(){return{}}]).directive("applePayThroughBraintreeFormComponent",[function(){return{}}]),angular.module("worldPayModule",[]).factory("worldPayRxml",[function(){return{}}]).directive("worldpayRxmlFormComponent",[function(){return{}}]),angular.module("worldPayHppModule",[]).factory("worldPayHpp",[function(){return{}}]).directive("worldpayHppFormComponent",[function(){return{}}]),angular.module("worldPayTokenModule",[]).factory("worldPayToken",[function(){return{}}]).directive("worldpayTokenFormComponent",[function(){return{}}]),angular.module("spreedlyDefaultStrategyModule",[]).factory("spreedlyDefaultStrategy",[function(){return{}}]),angular.module("spreedlyPayULatamStrategyModule",[]).factory("spreedlyPayULatamStrategy",[function(){return{}}]),angular.module("spreedlyModule",[]).factory("spreedly",[function(){return{}}]).directive("spreedlyFormComponent",[function(){return{}}]),angular.module("edgilPaywayProviderModule",[]).factory("edgilPaywayProvider",[function(){return{}}]).factory("edgilCreditCardService",[function(){return{}}]).directive("edgilPaywayProviderFormComponent",[function(){return{}}]),angular.module("eigenProviderModule",[]).factory("eigenProvider",[function(){return{}}]).factory("eigenCreditCardService",[function(){return{}}]).directive("eigenProviderFormComponent",[function(){return{}}]),angular.module("braintreeCommonModule",[]).factory("braintreeFactory",[function(){return{}}]),angular.module("datatransCommonModule",[]).factory("datatransIntegrationService",[function(){return{}}]),angular.module("datatransPostfinanceCommonModule",[]).factory("datatransPostfinanceIntegrationService",[function(){return{}}]),angular.module("easypayCommonModule",[]).factory("easypayBoletoService",[function(){return{}}]).factory("easypayDirectDebitService",[function(){return{}}]),angular.module("eigenCommonModule",[]).factory("eigenMiraSecureV2",[function(){return{}}]).factory("eigenMiraSecureV3",[function(){return{}}]).factory("eigenService",[function(){return{}}]).factory("eigenServiceV2",[function(){return{}}]).factory("eigenServiceV3",[function(){return{}}]),angular.module("klarnaCommonModule",[]).factory("klarnaService",[function(){return{}}]),angular.module("obiCommonModule",[]).factory("obiIntegrationService",[function(){return{}}]).factory("obiPaypalIntegrationService",[function(){return{}}]),angular.module("providersModuleCH",[]).factory("eventsServiceCH",[function(){return{}}]).factory("providersServiceCH",[function(){return{}}]).directive("newFlowComponentsCH",[function(){return{}}]).service("ppCreditCardActionsService",[function(){return{}}]).directive("dynamicBaseInputsComponent",[function(){return{}}]),angular.module("applepayssModuleCH",[]).factory("applepayssProviderCH",[function(){return{}}]).directive("applepayssComponentCH",[function(){return{}}]),angular.module("applepaystripeModuleCH",[]).factory("applepaystripeProviderCH",[function(){return{}}]).directive("applepaystripeComponentCH",[function(){return{}}]),angular.module("applepaywayModuleCH",[]).factory("applepaywayProviderCH",[function(){return{}}]).directive("applepaywayComponentCH",[function(){return{}}]),angular.module("cybersourceModuleCH",[]).factory("cybersourceCardServiceCH",[function(){return{}}]).factory("cybersourceProviderCH",[function(){return{}}]).directive("cybersourceComponentCH",[function(){return{}}]),angular.module("cybersourcetmsModuleCH",[]).factory("cybersourcetmsCardServiceCH",[function(){return{}}]).factory("cybersourcetmsProviderCH",[function(){return{}}]).directive("cybersourcetmsComponentCH",[function(){return{}}]),angular.module("edgilModuleCH",[]).factory("edgilCardServiceCH",[function(){return{}}]).factory("edgilProviderCH",[function(){return{}}]).directive("edgilComponentCH",[function(){return{}}]),angular.module("onetModuleCH",[]).factory("onetCardServiceCH",[function(){return{}}]).factory("onetProviderCH",[function(){return{}}]).directive("onetComponentCH",[function(){return{}}]),angular.module("stripeModuleCH",[]).factory("stripeCardServiceCH",[function(){return{}}]).factory("stripeProviderCH",[function(){return{}}]).directive("stripeComponentCH",[function(){return{}}]),angular.module("wirecardModuleCH",[]).factory("wirecardCardServiceCH",[function(){return{}}]).factory("wirecardProviderCH",[function(){return{}}]).directive("wirecardComponentCH",[function(){return{}}]),angular.module("gocardlessddModuleCH",[]).factory("gocardlessddCardServiceCH",[function(){return{}}]).factory("gocardlessddProviderCH",[function(){return{}}]).directive("gocardlessddComponentCH",[function(){return{}}]),angular.module("gmoModuleCH",[]).factory("gmoCardServiceCH",[function(){return{}}]).factory("gmoProviderCH",[function(){return{}}]).directive("gmoComponentCH",[function(){return{}}]),angular.module("bancardModuleCH",[]).factory("bancardCardServiceCH",[function(){return{}}]).factory("bancardProviderCH",[function(){return{}}]).directive("bancardComponentCH",[function(){return{}}]),angular.module("paymentezModuleCH",[]).factory("paymentezCardServiceCH",[function(){return{}}]).factory("paymentezProviderCH",[function(){return{}}]).directive("paymentezComponentCH",[function(){return{}}]),angular.module("payuindiaccModuleCH",[]).factory("payuindiaccCardServiceCH",[function(){return{}}]).factory("payuindiaccProviderCH",[function(){return{}}]).directive("payuindiaccComponentCH",[function(){return{}}]),angular.module("payuindiaupiModuleCH",[]).factory("payuindiaupiProviderCH",[function(){return{}}]).directive("payuindiaupiComponentCH",[function(){return{}}]),angular.module("payuindianbModuleCH",[]).factory("payuindianbProviderCH",[function(){return{}}]).directive("payuindianbComponentCH",[function(){return{}}]),angular.module("payuchileccModuleCH",[]).factory("payuchileccCardServiceCH",[function(){return{}}]).factory("payuchileccProviderCH",[function(){return{}}]).factory("payuchileccDropdownsCH",[function(){return{}}]).directive("payuchileccComponentCH",[function(){return{}}]),angular.module("payubrazilccModuleCH",[]).factory("payubrazilccCardServiceCH",[function(){return{}}]).factory("payubrazilccProviderCH",[function(){return{}}]).factory("payubrazilccDropdownsCH",[function(){return{}}]).directive("payubrazilccComponentCH",[function(){return{}}]),angular.module("payucolombiaccModuleCH",[]).factory("payucolombiaccCardServiceCH",[function(){return{}}]).factory("payucolombiaccProviderCH",[function(){return{}}]).factory("payucolombiaccDropdownsCH",[function(){return{}}]).directive("payucolombiaccComponentCH",[function(){return{}}]),angular.module("payucolombiapseModuleCH",[]).factory("payucolombiapseProviderCH",[function(){return{}}]).factory("payucolombiapseDropdownsCH",[function(){return{}}]).directive("payucolombiapseComponentCH",[function(){return{}}]),angular.module("payuperuccModuleCH",[]).factory("payuperuccCardServiceCH",[function(){return{}}]).factory("payuperuccProviderCH",[function(){return{}}]).directive("payuperuccComponentCH",[function(){return{}}]),angular.module("payuargentinaccModuleCH",[]).factory("payuargentinaccCardServiceCH",[function(){return{}}]).factory("payuargentinaccProviderCH",[function(){return{}}]).factory("payuargentinaccDropdownsCH",[function(){return{}}]).directive("payuargentinaccComponentCH",[function(){return{}}]),angular.module("datatranstwintModuleCH",[]).factory("datatranstwintIntegrationServiceCH",[function(){return{}}]).factory("datatranstwintProviderCH",[function(){return{}}]).directive("datatranstwintComponentCH",[function(){return{}}]),angular.module("datatransgooglepayModuleCH",[]).factory("datatransgooglepayIntegrationServiceCH",[function(){return{}}]).factory("datatransgooglepayProviderCH",[function(){return{}}]).directive("datatransgooglepayComponentCH",[function(){return{}}]),angular.module("datatransapplepayModuleCH",[]).factory("datatransapplepayIntegrationServiceCH",[function(){return{}}]).factory("datatransapplepayProviderCH",[function(){return{}}]).directive("datatransapplepayComponentCH",[function(){return{}}]),angular.module("volgaModuleCH",[]).factory("volgaProviderCH",[function(){return{}}]).directive("volgaComponentCH",[function(){return{}}]),angular.module("datatranspaypalModuleCH",[]).factory("datatranspaypalIntegrationServiceCH",[function(){return{}}]).factory("datatranspaypalProviderCH",[function(){return{}}]).directive("datatranspaypalComponentCH",[function(){return{}}]),angular.module("datatransCheckoutModule",[]).factory("datatransProvider",[function(){return{}}]).directive("datatransFormComponent",[function(){return{}}]),angular.module("datatransPostfinanceCheckoutModule",[]).factory("datatransPostfinanceProvider",[function(){return{}}]).directive("datatransPostfinanceFormComponent",[function(){return{}}]),angular.module("easypayCheckoutModule",[]).factory("easypayBoletoProvider",[function(){return{}}]).factory("easypayDirectDebitProvider",[function(){return{}}]).factory("easypayMbwayProvider",[function(){return{}}]).factory("easypayMultibancoProvider",[function(){return{}}]).directive("easypayBillControls",[function(){return{}}]).directive("easypayBoletoFormComponent",[function(){return{}}]).directive("easypayDirectDebitProviderFormComponent",[function(){return{}}]).directive("easypayMbwayFormComponent",[function(){return{}}]).directive("easypayMultibancoFormComponent",[function(){return{}}]),angular.module("klarnaCheckoutModule",[]).factory("klarnaProvider",[function(){return{}}]).directive("klarnaFormComponent",[function(){return{}}]),angular.module("obiCheckoutModule",[]).factory("obiProvider",[function(){return{}}]).factory("obiCheckoutService",[function(){return{}}]).directive("obiFormComponent",[function(){return{}}]),angular.module("obiPaypalCheckoutModule",[]).factory("obiPaypalProvider",[function(){return{}}]).directive("obiPaypalFormComponent",[function(){return{}}]);var tpComponentsModule=angular.module("tpComponentsModule",["generalModule","containerServiceModule"]);tpComponentsModule.directive("a",["trackExternalEvent","getTrackingId","addQueryParameterToUrl","$timeout","ngEventService",function(e,t,n,r,i){return{restrict:"E",link:function(o,a){var s;r(function(){var e=a.attr("href");function o(){var e=void 0===a.attr("noptid"),r=t();e&&r&&a.attr("href",n(a.attr("href"),"_ptid",r))}e&&0===e.indexOf("http")&&("_parent"!==a.attr("target")&&"_top"!==a.attr("target")&&a.attr("target","_blank"),o(),s=i.subscribe(EVENT_TRACKING_ID_CHANGED,function(){r(function(){o()})}))}),a.on("click",function(t){if("click"===t.type){var n=a.attr("href")||"";0===n.lastIndexOf("http",0)&&e("EXTERNAL_LINK",decodeURI(function(e){var t=e.split(/[?#]/)[0],n=t.length-1;return"/"===t[n]&&(t=t.slice(0,n)),t}(n)),{href:encodeURI(n)})}}),o.$on("$destroy",function(){s&&s()})}}}]),tpComponentsModule.directive("radioTrackBy",function(){return{restrict:"A",scope:{ngModel:"=",ngValue:"=",radioTrackBy:"@"},link:function(e){e.ngValue[e.radioTrackBy]===e.ngModel[e.radioTrackBy]&&(e.ngModel=e.ngValue)}}}),tpComponentsModule.factory("getExternalEventParams",function(){return function(e){var t,n={};for(var r in e)e.hasOwnProperty(r)&&0===r.indexOf("externalEvent")&&"externalEvent"!==r&&(n[(t=r.split("externalEvent")[1],t.charAt(0).toLowerCase()+t.slice(1))]=e[r]);return n}}),tpComponentsModule.directive("externalEvent",["eventService","getExternalEventParams","trackExternalEvent",function(e,t,n){return{restrict:"A",link:function(r,i,o){i.on("submit click",function(r){if(~["click","submit"].indexOf(r.type)){var i=t(o);n("EXTERNAL_EVENT",o.externalEvent,i),e.customEvent("customEvent",{eventName:o.externalEvent,params:t(o)})}})}}}]),tpComponentsModule.directive("showIf",["$animate",function(e){return{restrict:"A",link:function(e,t,n){e.$watch(n.showIf,function(e){t.html(toBoolean(e)?e:""),t.toggleClass("ng-hide",toBoolean(e))})}}}]),tpComponentsModule.factory("checkMobile",["$q","$timeout","containerService",function(e,t,n){return function(){return n.getNewWidth()<=600}}]),tpComponentsModule.directive("mobile",["checkMobile",function(e){return{restrict:"A",transclude:!0,scope:{},template:'<div class="mobile-mode" ng-if="check()" ng-transclude></div>',controller:["$scope",function(t){t.check=function(){return e()}}]}}]),tpComponentsModule.directive("desktop",["checkMobile",function(e){return{restrict:"A",transclude:!0,scope:{},template:'<div class="desktop-mode" ng-if="check()" ng-transclude></div>',controller:["$scope",function(t){t.check=function(){return!e()}}]}}]),tpComponentsModule.directive("onEnter",["$parse",function(e){return function(t,n,r){var i=e(r.onEnter);n.bind("keyup",function(e){13===e.keyCode&&t.$apply(function(){i(t,{$event:e})})})}}]),tpComponentsModule.directive("errorMessage",["$parse",function(e){return{scope:!1,controller:["$scope","$element","$attrs","ngEventService","errorService","shakeService",function(e,t,n,r,i,o){var a=i(e).TYPES,s=i(e).getId(),u=n.name,c=n.errorMessage,l=null,d=function(){l&&l.remove(),t.removeClass("error")},f=r.subscribe(EVENT_ERRORS_CHANGED,function(){d();var n=null,r=i(e).errors();angular.forEach(r,function(e){angular.isObject(e)&&e.field===u&&e.type===a.COMPONENT&&(n=e)}),!t.is(":visible")||!n||n.displayed&&n.displayedOn!==s||(n.displayed=!0,"shake"===c?(o.shake(t),t.addClass("error")):(l=$("<div class='"+c+"'>"+n.message+"</div>"),t.after(l),t.addClass("error")))});t.click(function(){d()}),e.$on("$destroy",function(){f()})}]}}]),tpComponentsModule.directive("config",["containerService","configService",function(e,t){return{restrict:"E",link:function(n,r,i){isNumber(i.width)&&(e.setConfigWidth(i.width),e.resize());var o=!1;angular.forEach(i,function(e,n){var r;r="$",n.substr(0,r.length)!==r&&(o=!0,t.setProperty(n,e))}),o&&t.changed()}}}]),tpComponentsModule.directive("hideIfBlank",["$animate",function(e){return{link:function(e,t){e.$watch(function(){},function(){var e=t.text().replace(/[\s\uFEFF\xA0\n]/gim,""),n=0===t.children().length&&""===e;t.toggleClass("ng-hide",n)})}}}]),tpComponentsModule.directive("reCaptcha",["ngEventService","checkMobile","containerService",function(e,t,n){var r=3;return{restrict:"EA",template:"",scope:{key:"@",showResetButton:"=?",onResolve:"&?",onReady:"&?",onExpired:"&?"},link:function(e,i){var o=!1;if(!e.key)return void console.warn("There is no re-captcha site-key. See more: https://developers.google.com/recaptcha/docs/display");function a(t){if(0!==t)try{var n=grecaptcha.render(i.get(0),{sitekey:e.key,callback:l,"expired-callback":function(){e.onExpired&&e.onExpired()}});e.showResetButton&&(i.addClass("re-captcha--right-padded"),c(n)),$(window).on("resize",_.debounce(s,300)),e.onReady&&e.onReady({id:n})}catch(e){setTimeout(function(){a(t--)},1e3)}else console.warn("ReCaptcha can't be initialized")}function s(){u(),function(){var e=n.getNewWidth()>320;if(!o)return void i.removeClass("re-captcha--mobile re-captcha--mobile-wide");e?i.addClass("re-captcha--mobile-wide"):i.removeClass("re-captcha--mobile-wide");i.addClass("re-captcha--mobile")}()}function u(){o=t()}function c(e){if(grecaptcha&&grecaptcha.reset){var t=document.createElement("div");t.className="reset-icon pn-icon--refresh",t.onclick=function(){grecaptcha.reset(e),c(e)},n=t,angular.element(".reset-icon.pn-icon--refresh").length||i.append(n)}var n}function l(t){i.addClass("captcha-resolved"),e.onResolve&&e.$apply(function(){e.onResolve({response:t})})}a(r),u(),e.resolve=l}}}]),tpComponentsModule.directive("ngEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.ngEnter)}),t.preventDefault())})}}),angular.module("exceptionHandler",[]).factory("$exceptionHandler",["$log",function(e){return function(t,n){e.warn(t);var r=window.pnErrorWatcher;r&&r.manualLog(t)}}]),window.PP_LIST={PAYPAL:1,CREDIT_CARD:4,DWOLLA:7,AMAZON:8,COINBASE:9,MOCK:5,ZERO:0,PAYPAL_BT:11,WORLDPAY_HPP:12,WORLDPAY_PAYPAL:13,WORLDPAY_IDEAL:14,WORLDPAY_ELV:15,SPREEDLY_CC:16,SPREEDLY_STRIPE_CC:17,SPREEDLY_BEANSTREAM:18,EDGIL_PAYWAY:19,WORLDPAY_CC_TOKEN:20,SPREEDLY_PAYU_LATAM:21,PAYPAL_EXPRESS_CHECKOUT:22,SPREEDLY_OPENPAY:23,EIGEN:24,APPLE_PAY_BT:25,OPENPAY_CASH:26,EASYPAY_MULTIBANCO:28,EASYPAY_MBWAY:29,EASYPAY_DIRECT_DEBIT:30,EASYPAY_BOLETO:31,KLARNA:32,OBI:33,OBI_PAYPAL:34,DATATRANS:35,DATATRANS_POSTFINANCE:36,ONET:37,APPLE_PAY_SS:38,CYBER_SOURCE:39,STRIPE:40,STRIPE_APPLEPAY:41,PAYWAY_APPLEPAY:42,WIRECARD:45,VOLGA:63},angular.extend(window,window.PP_LIST);var generalModule=angular.module("generalModule",["ui.router","ajaxServices","ngSanitize"]);function getMonths(){return{"01":"1 - Jan","02":"2 - Feb","03":"3 - Mar","04":"4 - Apr","05":"5 - May","06":"6 - Jun","07":"7 - Jul","08":"8 - Aug","09":"9 - Sept",10:"10 - Oct",11:"11 - Nov",12:"12 - Dec"}}function getYears(){for(var e=(new Date).getFullYear(),t={},n=e;n<e+13;++n){t[(n+"").substring(2)]=n}return t}function isString(e){return"string"==typeof e}function isNumber(e){return e&&""!==e&&!isNaN(e)}function lowercase(e){return isString(e)?e.toLowerCase():e}function toBoolean(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=lowercase(""+e);e=!("f"===t||"0"===t||"false"===t||"no"===t||"n"===t||"[]"===t)}else e=!1;return e}function _randomString(e){e||(e=5);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}generalModule.factory("cookieService",function(){var e={getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},setCookie:function(e,t,n,r){var i=e+"="+t+";expires="+n;r&&(i+=";path="+r),document.cookie=i},eraseCookie:function(e,t){this.setCookie(e,"",(new Date).toUTCString(),t)}};return e});var util={debug:getParameterByName("debug"),log:function(){if(util.debug&&void 0!==window.console&&void 0!==window.console.log){var e=arguments;(function(){var e=["__webdriver_evaluate","__selenium_evaluate","__webdriver_script_function","__webdriver_script_func","__webdriver_script_fn","__fxdriver_evaluate","__driver_unwrapped","__webdriver_unwrapped","__driver_evaluate","__selenium_unwrapped","__fxdriver_unwrapped"],t=["_phantom","__nightmare","_selenium","callPhantom","callSelenium","_Selenium_IDE_Recorder"];for(var n in t){var r=t[n];if(window[r])return!0}for(var i in e){var o=e[i];if(window.document[o])return!0}for(var a in window.document)if(a.match(/\$[a-z]dc_/)&&window.document[a].cache_)return!0;return!!(window.external&&window.external.toString&&window.external.toString()&&-1!==window.external.toString().indexOf("Sequentum")||window.document.documentElement.getAttribute("selenium")||window.document.documentElement.getAttribute("webdriver")||window.document.documentElement.getAttribute("driver"))})()&&(e=function(e){var t="";try{for(var n=0;n<e.length;n++)try{t+=JSON.stringify(e[n])+", "}catch(e){t+=""+e}return e=[t]}catch(t){return e}}(e)),"object"==typeof window.console.log?window.console.log.apply.call(console.log,console,e):console.log.apply(console,e)}}},urlParams=null;function getParameterByName(e){if(!urlParams){var t,n=/\+/g,r=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(n," "))},o=window.location.search.substring(1);for(urlParams={};t=r.exec(o);)urlParams[i(t[1])]=i(t[2])}var a=urlParams[e];return!a&&window.TPParam&&window.TPParam.params&&(a=window.TPParam.params[e]),a}function getQueryParamInStringByName(e,t){var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function getIntParam(e,t){var n=getParameterByName(e);return void 0!==n&&isNaN(n)?t:new Number(n)}BaseComponentController={_isValid:function(){return!0},displayErrors:function(e,t,n,r){if(t){if(!Array.isArray(t))return r.checkoutPaymentErrorEvent(t.message),n(e).global(t.message);for(var i=0;i<t.length;i++){var o=t[i].msg||t[i].message;o&&""!==o.trim()&&(n(e).global(o),r.checkoutPaymentErrorEvent(o))}}}};var EVENT_CHECKOUT_PAYMENT_METHODS_CHANGED="EVENT_CHECKOUT_PAYMENT_METHODS_CHANGED",EVENT_CHECKOUT_TERM_SELECTED="EVENT_CHECKOUT_TERM_SELECTED",EVENT_APPLY_REDEEM_CODE="EVENT_APPLY_REDEEM_CODE",EVENT_CHECKOUT_CONSENT_CHANGED="EVENT_CHECKOUT_CONSENT_CHANGED",EVENT_CHECKOUT_PRICE_CHANGED="EVENT_CHECKOUT_PRICE_CHANGED",EVENT_CHECKOUT_REDEEM_DONE="EVENT_CHECKOUT_REDEEM_DONE",EVENT_APPLE_PAY_CAN_MAKE_PAYMENTS="EVENT_APPLE_PAY_CAN_MAKE_PAYMENTS",EVENT_BILLING_COUNTRY_SELECTED="EVENT_BILLING_COUNTRY_SELECTED",EVENT_COUNTRY_OF_RESIDENCE_SELECTED="EVENT_COUNTRY_OF_RESIDENCE_SELECTED",EVENT_SAME_RESIDENCE_CHECKBOX_CHANGED="EVENT_SAME_RESIDENCE_CHECKBOX_CHANGED",EVENT_BILLING_FROM_TAX_REQUEST="EVENT_BILLING_FROM_TAX_REQUEST",EVENT_USER_ACCESS_CHANGED="EVENT_USER_ACCESS_CHANGED",EVENT_ERRORS_CHANGED="EVENT_ERRORS_CHANGED",EVENT_TERMINAL_ERROR="EVENT_TERMINAL_ERROR",EVENT_CONFIG_RELOAD="EVENT_CONFIG_RELOAD",EVENT_STATS_TRACKED="EVENT_STATS_TRACKED",EVENT_TRACKING_ID_CHANGED="EVENT_TRACKING_ID_CHANGED",EVENT_PAY_WITH_NEW_CHANGED="EVENT_PAY_WITH_NEW_CHANGED",EVENT_PAY_WHAT_YOU_WANT_SHOULD_BE_APPLIED="EVENT_PAY_WHAT_YOU_WANT_SHOULD_BE_APPLIED",EVENT_EXPERIAN_ADDRESS_CHANGED="EVENT_EXPERIAN_ADDRESS_CHANGED",EVENT_TAX_RESET_ERRORS="EVENT_TAX_RESET_ERRORS",EVENT_HIGHLIGHT_ERROR_FIELDS="EVENT_HIGHLIGHT_ERROR_FIELDS",ENABLE_SAVE_BUTTON="ENABLE_SAVE_BUTTON",DISABLE_SAVE_BUTTON="DISABLE_SAVE_BUTTON",EVENT_SETUP_CUSTOM_VARIABLES="setupCustomVariables",EVENT_SETUP_AFFILIATE_STATE="setupAffiliateState",EVENT_SETUP_EVT_FIELDS="setupEVTFields",EVENT_ADD_CARD="EVENT_ADD_CARD",EVENT_INIT_BANCARD="EVENT_INIT_BANCARD",EVENT_GOTO_PREVIOUS_STATE="EVENT_GOTO_PREVIOUS_STATE";generalModule.factory("ngEventService",["$rootScope",function(e){var t={fire:function(t,n,r,i,o,a){if(!t||""===t)throw new Error("eventName is required");util.log("[NG EVENT SERVICE] Firing event:",arguments),e.$broadcast(t,n,r,i,o,a)},subscribe:function(t,n){if(!t||""===t)throw new Error("eventName is required");if(!n)throw new Error("callback is required");return e.$on(t,n)}};return t}]),generalModule.factory("stateService",function(){var e={active:!(TPParam&&TPParam.params?TPParam.params:{}).preload};return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}),generalModule.factory("eventLogger",["$http","$window",function(e,t){var n={log:"https://api.tinypass.com/api/v3/anon/error/log"};function r(r,o){try{var a=function(){var e={aid:null,offerId:null,gaTrackingId:null},n=location.href.match(/aid=([\w\d]+)&/),r=location.href.match(/offerId=([\w\d]+)&/);return n&&(e.aid=n[1]),r&&(e.offerId=r[1]),t.ga&&t.ga(function(t){e.gaTrackingId=t.get("trackingId")}),e}(),s=function(e,t,n){var r,i,o=[];try{r="string"==typeof t?{message:t}:JSON.stringify(t)}catch(e){r="parse error"}try{i=JSON.stringify(n)}catch(e){i="meta error"}return o.push("=====checkout event====="),o.push("eventName: "+e),t&&o.push("payload: "+r),o.push("meta: "+i),o.push("=====event body end====="),o.join("\n")}(r,o,a);if(!a)return;if("lGr3ciYmC7"!==a.aid&&"6qv8OniKQO"!==a.aid)return;e({method:"POST",url:n.log,data:"log_message="+i(s),headers:{"Content-Type":"application/x-www-form-urlencoded","Piano-request-without-spinner":1}})}catch(e){console.warn("can't log event due to:",e)}}function i(e){var t=getParameterByName("widget"),n=[{message:e,tags:t?[t]:[]}];return JSON.stringify(n)}return{logGaEvent:function(e){r("gaEvent",e)},logGaFailedEvent:function(e){r("gaEvent [FAILED]",e)},logEvent:r}}]),generalModule.factory("gaService",["$window","stateService","integrationEventsService","eventLogger","eventService",function(e,t,n,r,i){var o=["showOffer","termSelected","promoApplied","promoInvalid","loginSuccess","loginFailed","registrationFailed","registrationSuccess","checkoutSuccess"],a={sendGoogleAnalyticsEvent:function(e){if(e){e.eventCategory=e.eventAction;var t=" ";e.eventAction="",angular.forEach(e.params,function(n,r){n&&(e.eventAction+=t+r+"_"+n,t="____",e.eventLabel+=" "+r+":"+n)});var n={};-1!==o.indexOf(e.eventCategory)&&(n.nonInteraction=!0);var a={eventCategory:e.eventCategory,eventAction:e.eventAction,eventLabel:e.eventLabel};i.emitGAEvent(Object.assign(a,n)),r.logGaEvent(e)}}};return a}]),generalModule.factory("statsService",["ngEventService","stateService","$q","$http",function(e,t,n,r){var i={},o=null,a=null,s=[],u=[],c=[],l=!1,d=null,f="tpcc_",p="terms",h=["aid","userProvider","userToken","url","tags","tbc","contentCreated","contentSection","contentAuthor","experienceId","experienceExecutionId","experienceActionId","pageViewId","visitId","trackingId","previewTemplateVersion","offerId","checkoutFlowId","offerTemplateId","templateId","templateVariantId","offerTemplateVariantId","templatePubId","templateVersionPubId","templateVersion","templateCategory","isPasswordlessCheckoutEnabled","isSingleStepEnabled","isDoubleOptInEnabled","affiliateState"];function m(){if(a)return n.when(y());var e=n.defer();return s.push(e),e.promise}function g(){if(a)return n.when(v());var e=n.defer();return u.push(e),e.promise}function v(){return l?{checkoutStats:i}:{initStatParams:a}}function y(){return{checkoutStats:i,initStatParams:a}}function w(e){m().then(function(){angular.extend(i,e)})}function C(e){d=e}return e.subscribe("trackStat",function(n,m){if(function(e){if(e&&e.preview){var t=e.preview;return"string"==typeof t?"true"===t:t}return!1}(m))return l=!0,w(m,{},{}),void C();function g(e,t){e&&$.each(e,function(e,n){0===e.indexOf(f)&&(t[e]=n)})}function w(e,t,n){i=t,o=e,a=n}function C(){s.forEach(function(e){e.resolve(y())}),s=[],u.forEach(function(e){e.resolve(v())}),u=[],c.forEach(function(e){e.resolve(o)}),c=[],e.fire(EVENT_STATS_TRACKED,{params:o,stat:i})}t.set("active",!0),TPParam.TRACK_SHOW&&(a=function(e,t){var n={};return function(e,t,n){h.forEach(function(r){e&&e[r]?n[r]=e[r]:t&&t[r]&&(n[r]=t[r])})}(e,t,n),function(e,t,n){var r;if(e&&e[p]?r=e[p]:t&&t[p]&&(r=t[p]),Array.isArray(r)){var i=[];r.forEach(function(e){e&&i.push(e.termId)}),n.termIds=i}}(e,t,n),g(t,n),g(e,n),function(e){e.checkoutView=d}(n),n}(m,TPParam.config),w(m,i,a),C(),r({method:"POST",url:function(){let e=TPParam.TRACK_SHOW,t=getParameterByName("lang");t&&(e=e+"?lang="+t);return e}(),data:{initStatParams:a},headers:{"Piano-request-without-spinner":1}}).then(function(e){l=!0,w(m,e.data.models.stats,a)}))}),{getStatsPayload:g,getStats:m,mergeStats:w,getParams:function(){var e=n.defer();return o?e.resolve(o):c.push(e),e.promise},trackView:function(e){C(e),"offer"!==e&&TPParam.TRACK_VIEW&&g().then(function(t){r({method:"POST",url:TPParam.TRACK_VIEW,params:{view:e},data:t,headers:{"Piano-request-without-spinner":1}}).then(function(e){e&&e.models&&e.models.checkoutStats&&w(e.models.checkoutStats)})})},setCheckoutView:C,getPageView:function(){let e=y(),t=null;e&&e.initStatParams&&(t=e.initStatParams.tbc);let n=null;return e&&e.initStatParams&&(n=e.initStatParams.pageViewId),{tbc:t,pageViewId:n}}}}]),generalModule.factory("browserIdService",["ngEventService","$q",function(e,t){var n=t.defer();return e.subscribe("passBrowserId",function(e,t){n.resolve(t.browserId)}),{getBrowserId:function(){return n.promise}}}]),generalModule.factory("configService",["ngEventService",function(e){var t={};return{get:function(){return t},setProperty:function(e,n){t[e]=n},changed:function(){e.fire(EVENT_CONFIG_RELOAD,t)}}}]),generalModule.factory("apiService",["$http",function(e){var t={method:"post",headers:{"Piano-request-without-spinner":1}};return{call:function(n,r,i){var o=angular.copy(t);return o.url="/api/v3"+n,i&&(o.method=i),o.params=r,e(o)}}}]),generalModule.factory("modalService",["$rootScope","$q","$http","$templateCache","$injector","$timeout","$document","$compile","$controller",function(e,t,n,r,i,o,a,s,u){var c={},l={created:!1,visible:!1,domEl:null},d={created:!1,scope:null,domEl:null};return c.openDialog=function(o){var c,f,p,h={close:function(e){!function(e,t,n){var r=t.speed||600;l.created&&l.visible&&($(l.domEl).animate({opacity:0},r,"swing"),$(l.domEl).removeClass("active"),l.visible=!1),d.created&&$(d.domEl).animate({opacity:0,marginTop:0},r,"swing",function(){$(d.domEl).removeClass("active"),$(d.domEl).removeClass("error"),d.domEl.remove(),d.scope.$destroy(),d.scope=null,d.domEl=null,d.created=!1,n&&n()})}(0,o,e)}};if(util.log("MODAL OPTIONS",o),!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");t.all([(p=o,p.template?t.when(p.template):n.get(p.templateUrl,{cache:r}).then(function(e){return e.data}))].concat((c=o.resolve,f=[],angular.forEach(c,function(e,n){(angular.isFunction(e)||angular.isArray(e))&&f.push(t.when(i.invoke(e)))}),f))).then(function(t){var n=(o.scope||e).$new();n.close=h.close;var r={},i=1;o.controller&&(r.$scope=n,r.$modalInstance=h,angular.forEach(o.resolve,function(e,n){r[n]=t[i++]}),u(o.controller,r)),function(t,n,r){var i=a.find("body").eq(0);if(!l.created){var o=e.$new(!0),u=s('<div class="modal-overlay"></div> ')(o);i.append(u),l.created=!0,l.domEl=u}if(!l.visible){var c=$(l.domEl),f=r.speed||600;c.addClass("active"),c.animate({opacity:.7},f),l.visible=!0}var p=angular.element('<div class="modal '+(r.class||"")+'"></div>');p.addClass("active"),p.animate({opacity:1},f),p.html(n.content);var h=s(p)(n.scope);d.created=!0,d.scope=n.scope,d.domEl=p,i.append(h)}(0,{scope:n,content:t[0]},o)})},c.getModalEl=function(){return d?d.domEl:null},c}]),generalModule.factory("shakeService",function(){var e={shake:function(e){for(var t=Math.random()<.5?-2:2,n=0;n<10;n++)$(e).animate({"margin-left":(t=-t)+"px"},10+2*n);$(e).animate({"margin-left":0},5)}};return e}),generalModule.factory("EventManager",function(){return function(){var e={};return{emit:function(t,n){r(t);var i=e[t];if(!i)return void console.info("Event `",t,"` with no subscribers was emitted.");i.forEach(function(e){e.call(this,n)})},subscribe:t,getEventSubscriptionFunc:function(e){return t.bind(null,e)},unsubscribe:n};function t(t,i){r(t),function(e){if("function"!=typeof e)throw new TypeError("Expected callback to be a function, but got "+e)}(i);var o=e[t];return o||(o=e[t]=[]),o.push(i),n.bind(null,t,i)}function n(t,n){r(t);var i=e[t];if(i){var o=i.indexOf(n);-1!==o?i.splice(o,1):console.warn("Given callback was not found for the event `{0}`.".format(t))}else console.warn("Attempt to unsubscribe from the unknown event `{0}`.".format(t))}function r(e){if(!e)throw new TypeError("Expected event name to be a non-empty string, but got "+e)}}}),generalModule.directive("customScript",function(){return{restrict:"A",scope:{},link:function(e,t,n){var r=document.createElement("script");r.type="text/javascript",r.innerText=t.text(),r.innerHTML=t.text(),t.empty(),document.getElementsByTagName("body")[0].appendChild(r)}}}),generalModule.directive("boilerplateCloseButton",["configService",function(e){return{restrict:"E",transclude:!0,replace:!0,template:"<div ng-if='isShowBoilerplateCloseButton()' class='boilerplate-close-button' ng-click='close()'></div>",link:function(t,n,r){t.isShowBoilerplateCloseButton=function(){var t=e.get().closeButtonType;return"false"!==getParameterByName("showCloseButton")&&"boilerplate"===t}}}}]),generalModule.directive("pnSticky",["$timeout","$interval","utilsService",function(e,t,n){return{restrict:"A",link:function(e,r){var i=r.parent(),o=i[0];i.scroll(n.throttle(function(){c(),o.scrollHeight>o.clientHeight?u||(r.css({position:"fixed",bottom:"0"}),u=!0):u&&(r.css({position:"static",bottom:""}),u=!1)},200));var a=t(function(){o.scrollHeight>o.clientHeight&&(r.css({position:"fixed",bottom:"0"}),c())},100,100),s=!1,u=!1;function c(){s||(t.cancel(a),s=!0)}e.$on("$destroy",c)}}}]),generalModule.factory("windowStateService",[function(){return{checkIframeOrChildWindow:function(){return!0}}}]),generalModule.factory("exposeTemplateParams",function(){return function(e){var t=["aid","debug","displayMode","iframeId","offerId","tags","templateId","templateVariantId","url","width"].concat(["trackingId","experienceId","experienceExecutionId","experienceActionId"]),n={};return angular.forEach(t,function(t){e[t]&&(n[t]=e[t])}),n}}),generalModule.factory("exposeCustomVariables",function(){return function(e){var t={};try{t=JSON.parse(e)}catch(e){}return t}}),generalModule.factory("exposeCustomCookies",function(){return function(e){var t={};try{t=JSON.parse(e)}catch(e){}return t}}),generalModule.factory("exposeActiveMeters",function(){return function(e){var t=[];try{t=JSON.parse(e)}catch(e){}return t}}),generalModule.service("integrationEventsService",function(){this.dispatchLocal=function(e,t){IntegrationEvents.dispatchLocal(e,t)},this.listenExternal=function(e,t){IntegrationEvents.listenExternal(e,t)},this.listenLocal=function(e,t){IntegrationEvents.listenLocal(e,t)}}),generalModule.factory("topLocation",["$window","eventService","$q",function(e,t,n){var r=function(){var r=n.defer();return t.postMessage("getLocation",{resultCallback:function(t){var n=e.document.createElement("a");n.href=t.result,r.resolve(n)}}),r.promise};return r.hash=function(e){t.postMessage("setLocationHash",{hash:e})},r}]),generalModule.factory("addQueryParameterToUrl",function(){return function(e,t,n){var r,i;e.indexOf("#")>0?(i=e.indexOf("#"),r=e.substring(e.indexOf("#"),e.length)):(r="",i=e.length);var o=e.substring(0,i).split("?"),a="?";if(o.length>1){var s=o[1];s.length&&(a+=s+"&")}return a+=t+"="+encodeURIComponent(n),o[0]+a+r}}),generalModule.factory("setupTrackingId",["ngEventService",function(e){return function(t){var n=piano._getTrackingId();piano._setTrackingId(t),n!==t&&e.fire(EVENT_TRACKING_ID_CHANGED,t)}}]),generalModule.service("utilsService",["cookieService",function(e){this.isIphone=function(){return/iPhone/.test(navigator.userAgent)&&!window.MSStream},this.isIOS=function(){return!!navigator.platform&&/iP(ad|hone|od)/.test(navigator.platform)},this.isFbOrInstagramApp=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1},this.contains=function(e,t){return angular.isArray(e)?e.some(function(e){return e===t}):(util.log("method contains() works only with Arrays"),!1)},this.last=function(e){if(angular.isArray(e))return e[e.length-1];util.log("method last() works only with Arrays")},this.forEach=function(e,t){return angular.isArray(e)?(e.forEach(function(e,n){t(e,n)}),e):angular.isObject(e)?(Object.keys(e).forEach(function(n){t(e[n],n)}),e):e},this.map=function(e,t){return angular.isArray(e)?e.map(function(e,n){return t(e,n)}):angular.isObject(e)?Object.keys(e).map(function(n){return t(e[n],n)}):[]},this.reduce=function(e,t,n){if(angular.isArray(e))return e.reduce(t,n)},this.find=function(e,t){if(angular.isArray(e))return e.find(t);util.log("method find() works only with Arrays")},this.filter=function(e,t){return angular.isArray(e)?e.filter(t):(util.log("method filter() works only with Arrays"),[])},this.omit=function(e,t){var n=[],r={};return"string"==typeof t&&(n=[t]),angular.isArray(t)&&(n=[].concat(t)),angular.isArray(e)&&e.forEach(function(e,t){r[t]=e}),angular.isObject(e)&&!angular.isArray(e)&&(r=angular.extend({},e)),n.forEach(function(e){delete r[e]}),r},this.debounce=function(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,o)},t),a&&e.apply(i,o)}},this.setExtendExpiredAccessCookie=function(t,n){var r=new Date;r.setMonth(r.getMonth()+6),e.setCookie(t+"__eea",n?"true":"false",r.toUTCString(),"/")},this.removeExtendExpiredAccessCookie=function(t){e.eraseCookie(t+"__eea","/")},this.jwtDecode=function(e,t){if(!e)return"";var n=!0===(t=t||{}).header?0:1;return JSON.parse(i(e.split(".")[n]))};var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError";var r=window.atob&&window.atob.bind(window)||function(e){var r=String(e).replace(/=+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,a=0,s=0,u="";o=r.charAt(s++);~o&&(i=a%4?64*i+o:o,a++%4)?u+=String.fromCharCode(255&i>>(-2*a&6)):0)o=t.indexOf(o);return u};var i=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(e){return r(t)}};this.throttle=function(e,t){var n,r,i=!1;return function o(){if(i)return n=arguments,void(r=this);e.apply(this,arguments),i=!0,setTimeout(function(){i=!1,n&&(o.apply(r,n),n=r=null)},t)}},this.combine=function(e){return function(){e.forEach(function(e){"function"==typeof e&&e()})}};var o=/^([_A-Za-z0-9-&^=%'"!?*+./#\\$]+)@([_A-Za-z0-9-&^=%'"!?*+./#\\]+)\.([_A-Za-z0-9-+.]+)$/;this.isEmailValid=function(e){var t=e&&e.trim();return!!t&&(!(t.length>255)&&o.test(t))},this.queryStringToMap=function(e){var t={};if(!e)return t;for(var n,r=/\+/g,i=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(r," "))};n=i.exec(e);)t[o(n[1])]=o(n[2]);return t}}]),generalModule.factory("getTrackingId",function(){return function(){return piano._getTrackingId()}}),generalModule.factory("trackExternalEvent",function(){return function(e,t,n){piano._logAutoMicroConversion(e,t,n)}}),generalModule.factory("interceptAjax",["lang",function(e){tinypass.waitLockedBy=null,tinypass.withoutWaitPanel=!1;var t=null;return tinypass.showWaitPanel=function(e,t){"function"==typeof window.CustomEvent&&document.dispatchEvent(new CustomEvent("EVENT_SHOW_WAIT_PANEL",{detail:{id:e,content:t}}))},tinypass.hideWaitPanel=function(e){(!e&&"others"===tinypass.waitLockedBy||e===tinypass.waitLockedBy)&&(t&&(t.stop(),t.remove()),tinypass.waitLockedBy=null)},{appendLoaderTo:function(n){document.addEventListener("EVENT_SHOW_WAIT_PANEL",function(r){!function(r){if(tinypass.withoutWaitPanel||tinypass.waitLockedBy)return;tinypass.waitLockedBy=r.detail.id||"others",t&&t.remove();t=r.detail.content?$('<div id="waitParent">'+r.detail.content+"</div>"):$('<div id="waitParent"><div id="waitPanel">'+e.tr("Loading...")+"</div></div>");$("."+n).prepend(t)}(r)})}}}]),generalModule.factory("keysService",[function(){return{isEscape:function(e){return"Esc"===e||"Escape"===e},isEnter:function(e){return"Enter"===e}}}]),generalModule.filter("encodeURIComponent",["$window",function(e){return e.encodeURIComponent}]);var Helper=function(){};Helper.wrapMethod=function(e,t,n){n[e]=function(n,r,i){return t[e](n,r,i)}};var IntegrationEvents=function(){var e={"externalApiFieldset.change":"externalApiFieldset.change","ga.created":"ga.created","ga.performance.tracker.created":"ga.performance.tracker.created"},t="_piano_._local_.",n="_piano_._external_.";function r(e){return t+e}function i(e){return n+e}function o(t){if(!(t in e))throw new Error("event "+t+" is not recognized")}function a(e){var t=angular.isDate(e),n=angular.isArray(e),r=angular.isObject(e);return t?new Date(e):n?angular.copy(e,[]):r&&!n?angular.copy(e,{}):e}return{dispatchLocal:function(e,t){o(e),document.dispatchEvent(new CustomEvent(r(e),{detail:a(t)}))},dispatchExternal:function(e,t){o(e),document.dispatchEvent(new CustomEvent(i(e),{detail:a(t)}))},listenLocal:function(e,t){document.addEventListener(r(e),function(e){t(e)})},listenExternal:function(e,t){document.addEventListener(i(e),function(e){t(e)})}}}();Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return i;i++}return-1}});var piano=function(e){var t={},n={listen:function(t,n){e.listenLocal(t,n)},externalEvent:function(t,n){e.dispatchExternal(t,n)},_setTrackingId:function(e){t.trackingId=e},_getTrackingId:function(){return t.trackingId}},r=function(e,n){if(t.trackingId)switch(((TPParam||{}).params||{}).os||"desktop"){case"ios":case"android":i(e,n);break;default:parent.postMessage(JSON.stringify({event:"iframeLogRequest",url:e,queryParams:n}),"*")}},i=function(e,t){var n=[];for(var r in t){var i=t[r];n.push(encodeURIComponent(r)+"="+encodeURIComponent("object"==typeof i?JSON.stringify(i):i))}var o=e+"?"+(n=n.join("&"));if(!util.debug&&navigator.sendBeacon)navigator.sendBeacon(o);else{var a=new XMLHttpRequest;a.open("GET",o,!1),a.send()}};n._logAutoMicroConversion=function(e,n,i){var o={tracking_id:t.trackingId,event_type:e,event_group_id:n,custom_params:i||""};void 0!==n?void 0!==e?r("/api/v3/conversion/logAutoMicroConversion",o):util.log("Parameter eventType is required to log micro conversion."):util.log("Parameter eventGroupId is required to log micro conversion.")},n.logFunnelStep=function(e,n,i){var o={tracking_id:t.trackingId,step_number:e,step_name:n,custom_params:i||""};void 0!==e?void 0!==n?r("/api/v3/conversion/logFunnelStep",o):util.log("Parameter stepName is required to log funnel step."):util.log("Parameter stepNumber is required to log funnel step.")},n.logMicroConversion=function(e,n){var i={tracking_id:t.trackingId,event_group_id:e,custom_params:n||""};void 0!==e?r("/api/v3/conversion/logMicroConversion",i):util.log("Parameter eventGroupId is required to log micro conversion.")};var o=function(e,n,i,o,a,s,u){var c={tracking_id:t.trackingId,term_id:e,term_name:n};void 0!==e?void 0!==n?(void 0!==i&&(c.step_number=i),void 0!==o&&(c.amount=o),void 0!==a&&(c.currency=a),void 0!==s&&(c.custom_params=s),void 0!==u&&(c.conversion_category=u),r("/api/v3/conversion/log",c)):util.log("Parameter termName is required to log conversion."):util.log("Parameter termId is required to log conversion.")};return n.logConversion=function(e){"object"==typeof e?o(e.term_id,e.term_name,e.step_number,e.amount,e.currency,e.custom_params,e.conversion_category):o.apply(this,arguments)},n.reloadTemplateWithUserToken=function(e){},n}(IntegrationEvents),containerServiceModule=angular.module("containerServiceModule",["ui.router","ngSanitize","generalModule"]);containerServiceModule.factory("containerService",["$window","$rootScope","$rootElement","$timeout","$interval","$document","eventService","errorService","windowStateService","ngEventService",function(e,t,n,r,i,o,a,s,u,c){var l={},d={};function f(e,t,n){var r=function(e,t){var n=e.document?e.document.body:e.body,r=t.documentElement||{};return Math.max(n.scrollHeight,r.scrollHeight,n.offsetHeight,r.offsetHeight,n.clientHeight,r.clientHeight)}(e,t);r!==n.lastHeight&&(n.lastHeight=r,l.resize())}return l.$rootScope=t,l.rootElement=n,$(document).on("focus","input, textarea, select",function(){a.postMessage("inputFocus")}).on("blur","input, textarea, select",function(){a.postMessage("inputBlur")}),l.getConfig=function(){return{container:this._getConfigFn().container}},l.getPreferredWidth=function(){return this.preferredWidth},l.setPreferredWidth=function(e){this.preferredWidth=e},l.setConfigWidth=function(e){this.widthFromConfigDirective=e},l.init=function(e,t){this._getConfigFn=t;var n=getParameterByName("displayMode");this.isModal="modal"===n,this.isPopup="popup"===n,this.isInline="inline"===n,this.isPreview=!!getParameterByName("preview"),this.isOpenedFromInlineCheckout="true"===getParameterByName("isOpenedFromInlineCheckout"),this.container=this.getConfig().container,this.suggestedWidth=getIntParam("width",1),this.preferredWidth=e.preferredWidth,l.clearResizeHandler(),l.initResizeHandler(this.container)},l.clearResizeHandler=function(){d.interval&&i.cancel(d.interval),d.handleResizeIFrame&&d.handleResizeIFrame.remove(),d.resizeObs&&d.resizeObs.disconnect(),d.loaded&&d.loaded(),d={}},l.initResizeHandler=function(e){var t=document.createElement("iframe");d.handleResizeIFrame=t;e.css("position","relative"),t.width="100%",t.height="100%",t.setAttribute("style","position: absolute !important; z-index: -1 !important;"),e.prepend(t);var n=t.contentWindow||t.contentDocument,r=t.contentDocument||{},o=f.bind(this,n,r,{lastHeight:-1});if("function"==typeof ResizeObserver){var a=new ResizeObserver(o);a.observe(t),d.resizeObs=a}else n.onresize=o;d.interval=i(o,500),window.onload=function(){l.resize()},l.onReady(function(){l.resize()}),d.loaded=c.subscribe("loaded",function(){l.resize()})},l.onReady=function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&e()})},c.subscribe("RESIZE_MODAL_CHECKOUT",function(e,t){var n=t.iframe,r=t.width;setTimeout(function(){l.suggestedWidth=r,n.config.width&&(l.suggestedWidth=r<n.config.width?r:n.config.width),l.resize()},100)}),l.resize=function(){var e=l.rootElement.height(),t=l.rootElement[0].parentElement?l.rootElement[0].parentElement.clientHeight:0,n=e||t;if(l.isModal||l.isPopup||l.isPreview){var r=l.getNewWidth();angular.element("body").css("min-width",r),angular.element("body").width(r),l.rootElement.width(r),l.container.width(r),a.resizeEvent({width:r,height:n}),setTimeout(l.scrollTop,500)}else a.resizeEvent({height:n})},l.scrollTop=function(){document.defaultView.scrollTo(0,0)},l.getNewWidth=function(){if(l.isModal||l.isPopup){this.widthFromConfigDirective&&(l.preferredWidth=this.widthFromConfigDirective);var e=l.suggestedWidth;return(l.preferredWidth<=e||isNaN(e))&&(e=l.preferredWidth),parseInt(e)}return parseInt(l.suggestedWidth)},l.getCenterScreen=function(e,t){e=e||0,t=t||0;var n=parseInt(getParameterByName("parentWidth"),10),r=parseInt(getParameterByName("parentDualScreenLeft"),10),i=parseInt(getParameterByName("parentDualScreenTop"),10);return{left:n/2-e/2+r,top:parseInt(getParameterByName("parentOuterHeight"),10)/2-t/2+i}},l.getOriginUrl=function(){return getParameterByName("url")},l.purge=function(e){try{l.rootElement.remove()}catch(e){}a.purgeEvent(e)},l.close=function(e){try{l.rootElement.remove()}catch(e){}a.closeEvent(e)},l}]);var tpDrop=function(e,t,n,r,i,o,a,s,u,c){var l=".tp-dropdown__container",d=".search-query",f=".tp-dropdown__list",p=".tp-dropdown__link",h=".tp-dropdown__select",m="Enter",g="Escape",v="ArrowDown",y="ArrowUp",w="INPUT";return function(e){return r.all({tpl:(t=e,t.template?r.when(t.template):i.get(t.templateUrl,{cache:o}).then(function(e){return e.data})),opts:r.when(e)}).then(E);var t};function C(e,t){var n="right"===t.side||"left"===t.side,r=n?"top":"left",i=n?"height":"width",o=n?"outerHeight":"outerWidth",a="left"===r?function(e,t,n,r,i){var o={};return o[e]=b(r)?function(e,t,n,r,i){var o=i.centerOn[n](),a=i.style[t];return c(i.centerOn,e)+(o-a)}(e,t,n,0,i):c(i.centerOn,e),o}(r,i,o,e,t):function(e,t,n,r,i){var o={};return o[e]=b(r)?c(i.centerOn,e)+i.centerOn[n]()/2-i.style[t]/2+(i.centerOn[n]()-i.style[t]):c(i.centerOn,e)+i.centerOn[n]()/2-i.style[t]/2,o}(r,i,o,e,t);return a="right"===t.side?u("left","outerWidth",t,a):"left"===t.side?s("right","width","left","scrollLeft",e,t,a):"top"===t.side?s("bottom","height","top","scrollTop",e,t,a):u("top","outerHeight",t,a);function s(e,t,n,r,i,o,a){return a[e]=i[t]()-c(o.centerOn,n)-i[r](),a}function u(e,t,n,r){return r[e]=c(n.centerOn,e)+n.centerOn[t](),r}function c(e,t){return e.offset()[t]}}function b(e){return"rtl"===e.context.dir}function E(e){var i,o,b=r.defer(),E=e.tpl,S=e.opts||{style:{width:200}},T=function(e){if(e.centerOn){var n=e.centerOn.parents().filter(function(){var e=$(this).css("position");return("fixed"===e||"absolute"===e)&&!1===$(this).hasClass("modal")}).last();return n.length>0?n:t.find("body")}return t.find("body")}(S),k=(S.scope||n).$new(),x=t.find("body");k.$close=O,k.$dismiss=_,(S.rejecter||function(){var e=r.defer();return t.on("click",function n(r){t.off("click",n),r&&(r.preventDefault(),r.stopPropagation()),e.reject()}),e.promise}()).then(_,_),S.controller&&a(S.controller,{$scope:k});var P=s(angular.element(E))(k);T.append(P),x.addClass("component-opened");var A=function(){var e;!function(e,t){switch(e.side){case"right":e.centerOn.offset().left+e.centerOn.width()+t.width()>window.innerWidth&&(e.side="left");break;case"left":e.centerOn.offset().left-t.width()<0&&(e.side="right");break;case"bottom":e.centerOn.offset().top+e.centerOn.height()+t.height()>window.innerHeight&&(e.side="top");break;case"top":e.centerOn.offset().top-t.height()<0&&(e.side="bottom")}}(S,P),o=S.side||"bottom",i=function(e,t){return t.centerOn?C(e,t):function(e,t){return{left:e.width()/2-t.style.width/2,top:e.height()/2-t.style.height/2}}(e,t)}(T,S),P.css({display:"block",position:"absolute"}).on("click",function(e){e.preventDefault(),e.stopPropagation(),S.closeOnSelect&&_()}).addClass(o).addClass(S.cl).css(i).css(S.style),(e=angular.element(l)).is(":visible")&&e.find(d).focus(),angular.element(f).on("keydown",function(e){!function(e){switch(e.key){case g:O();break;case m:e.target.click();break;case v:e.preventDefault(),e.target.nextElementSibling?e.target.nextElementSibling.focus():e.target.tagName===w&&angular.element(p).first().focus();break;case y:e.preventDefault(),e.target.previousElementSibling?e.target.previousElementSibling.focus():e.target.tagName!==w&&angular.element(d).focus()}}(e)})};if(k.type&&"enchained"===k.type){var M=u(A,50),D=function(){u.cancel(M)};b.promise.then(D,D)}else c(A,0);return b.promise;function O(e){P.remove(),b.resolve(e),x.removeClass("component-opened"),angular.element(h).focus()}function _(e){P.remove(),b.reject(e),x.removeClass("component-opened")}}};tpDrop.$inject=["$injector","$document","$rootScope","$q","$http","$templateCache","$controller","$compile","$interval","$timeout"],angular.module("tpDrop.module",["ngSanitize","generalModule"]).factory("tpDrop",tpDrop);var userServiceModule=angular.module("userServiceModule",["ui.router","ajaxServices","ngSanitize","generalModule","tp.i18n"]);userServiceModule.factory("userService",["$rootScope","$rootElement","$q","tpHTTP","eventService","ngEventService","errorService","gaService","lang","utilsService","cookieService",function(e,t,n,r,i,o,a,s,u,c,l){var d=_randomString(16),f=null,p=!1,h=[],m=function(){return{app:{},user:{},stats:{},fillLoginIframeParams:y,fillLoginRequiredParamsToGoogleAnalytics:y,fillLoginRequiredEventParams:y,fillLoginSuccessEventParams:y}},g={};g.$rootScope=e,g.rootElement=t;var v,y=function(){};function w(){var e=window.TPParam.params||window.TPParam.app||g.getConfig().app;return e?e.userProvider:""}function C(e){return e.extendExpiredAccessEnabled&&c.setExtendExpiredAccessCookie(g.getConfig().app.aid,e.extendExpiredAccessEnabled),g.loginSuccessNoPostMessage(e).then(function(){v&&v.resolve(e)})}return g.getConfig=function(){return{app:m().app,user:m().user,stats:m().stats,fillLoginIframeParams:m().fillLoginIframeParams||y,fillLoginRequiredParamsToGoogleAnalytics:m().fillLoginRequiredParamsToGoogleAnalytics||y,fillLoginRequiredEventParams:m().fillLoginRequiredEventParams||y,fillLoginSuccessEventParams:m().fillLoginSuccessEventParams||y}},g.init=function(e){if(m=e,!TPParam.LOGIN)throw"Login handler URL (variable TPParam.LOGIN) is not set"},g.isUserValid=function(){return g.getConfig().user&&!0===g.getConfig().user.valid},g.getUserUid=function(){return g.getConfig().user&&g.getConfig().user.uid},g.isUserReadOnly=function(){if(this.isPianoIdUserProvider())return!1;var e=l.getCookie(g.getConfig().app.aid+"__eea"),t=g.getConfig().user;return"true"===e&&Date.now()>parseInt(t.login_timestamp,10)+t.token_expiration},g.isUserConfirmed=function(){return g.getConfig().user&&!1!==g.getConfig().user.confirmed},g.allowLogout=function(){return g.isUserValid()&&g.isProviderAllowLogout()},g.allowLogin=function(){return g.allowTinypassAccountsLogin()||g.isGigyaUserProvider()},g.allowTinypassAccountsLogin=function(){var e=g.getConfig().app;return e&&e.useTinypassAccounts},g.isPublisherUserRefProvider=function(){return"publisher_user_ref"===w()},g.isGigyaUserProvider=function(){return"gigya"===w()},g.isCondeUserProvider=function(){return"conde"===w()},g.isPianoIdUserProvider=function(){return"piano_id"===w()},g.isPianoIdLiteUserProvider=function(){return"piano_id_lite"===w()},g.isJanrainUserProvider=function(){return"janrain"===w()},g.allowMyAccountLogin=function(){return g.allowTinypassAccountsLogin()},g.allowTinypassAccountsLogout=function(){return g.isProviderAllowLogout()&&g.isUserValid()},g.isProviderAllowLogout=function(){return g.allowTinypassAccountsLogin()||g.isCondeUserProvider()||g.isPianoIdUserProvider()||g.isGigyaUserProvider()||g.isJanrainUserProvider()},g.logout=function(){g.isProviderAllowLogout()&&i.postMessage("logout",{closeOnLogout:getParameterByName("closeOnLogout")}),c.removeExtendExpiredAccessCookie(g.getConfig().app.aid),p=!1},g.loginSuccessNoPostMessage=function(e){return function(e){var t=n.defer();p?t.reject(!1):(p=!0,e||(e={}),g.getConfig().fillLoginSuccessEventParams(e),e.resultCallback=function(){angular.forEach(h,function(t){t.callback(e)}),h=c.filter(h,function(e){return!e.oneTime}),t.resolve(e)},i.postMessage("loginSuccess",e));return t.promise}(e)},g.onUserProfileUpdated=function(e){i.postMessage("userProfileUpdateSuccess",e)},g.register=function(){return g.login("register")},g.checkUser=function(e){return r({method:"get",url:"/checkout/user/check",params:e})},g.login=function(e,t){e||(e="login");var r=getParameterByName("aid"),c=getParameterByName("url"),l=(v=n.defer()).promise;if(i.postMessage("loginStart",{}),l.finally(function(){i.postMessage("loginEnd",{})}),util.log("[USER SERVICE] Cannot continue without valid user...sending loginRequiredEvent"),g.allowTinypassAccountsLogin()){p=!1;var h={displayMode:"popup",aid:r,width:360,height:660,state:e,iframeId:"login-"+_randomString(10),host_url:c,url:window.location.href};g.getConfig().fillLoginIframeParams(h);var m=TPParam.LOGIN+"?"+$.param(h,!0)+"#/"+e;f=function(e,t){var n=parseInt(getParameterByName("parentWidth"),10),r=parseInt(getParameterByName("parentHeight"),10),i=e.width?e.width:n,o=e.height?e.height:r,a=parseInt(getParameterByName("parentDualScreenLeft"),10),s=parseInt(getParameterByName("parentDualScreenTop"),10),u=n/2-i/2+a,c=parseInt(getParameterByName("parentOuterHeight"),10)/2-o/2+s,l=window.open(t,d,"scrollbars=yes,status=0,toolbar=0,resizable=1, width="+i+", height="+o+", top="+c+", left="+u);return window.focus&&l.focus(),l}(h,m),o.subscribe("readyToSubmitStats",function(){i.customPostMessage("submitStats",g.getConfig().stats,document.location.origin,f)}),o.subscribe("loginSuccess",function(e,t){if((t=t||{}).reloadAfterLogin=!0,v.resolve(t),C(t),f&&!1===f.closed){try{f.document.body.innerHTML=null}catch(e){}f.close()}})}else{var y={aid:r};g.getConfig().fillLoginRequiredParamsToGoogleAnalytics(y),s.sendGoogleAnalyticsEvent({eventAction:"loginRequired",eventLabel:"Login required",params:y});var w={};w.startScreen=e,g.getConfig().fillLoginRequiredEventParams(w),function(e,t){if(t)return Object.assign(e,t)}(w,t),i.loginRequiredEvent(w).then(function(e){(e.callbackNotFound||!1!==e.result)&&(v.reject(!1),a().terminal(u.trc("checkout.platform","Cannot start checkout. User not logged in")))})}return v.promise},g.onLoginSuccess=function(e,t){e&&h.push({callback:e,oneTime:t})},g.cleanSuccessLoginCallbacks=function(){h=c.filter(h,function(e){return!e.oneTime})},g.loginSuccessPosted=function(){return p},g.setLoginSuccessPosted=function(e){p=e},g.onExternalLogin=C,o.subscribe("changeLocale",function(e,t){t&&t.locale&&u.list().then(function(e){for(var n in e)if(e[n].locale===t.locale){u.update(t.locale);break}})}),o.subscribe("externalLoginSuccess",function(e,t){(t=t||{}).reloadAfterLogin=!0,C(t)}),g.userChanged=function(e){v&&v.resolve(e)},g}]);var eventModule=angular.module("eventModule",["generalModule"]);eventModule.factory("eventService",["$window","$rootScope","$q","configService",function(e,t,n,r){var i={};function o(){return getParameterByName("iframeId")}return i.last=null,i.resultCallbacks={},i.postMessage=function(t,n){var r=((TPParam||{}).params||{}).os||"desktop";try{switch(r){case"ios":!function(e,t){window.webkit.messageHandlers[e].postMessage(t)}(t,n);break;case"android":!function(e,t){var n=JSON.stringify(t);PianoAndroid[e](n)}(t,n);break;default:!function(t,n){var r={};i.parentURL=getParameterByName("url"),i.parentURL||(i.parentURL=window.location!==window.parent.location?document.referrer:document.location.href);if(r.sender=o(),r.displayMode=getParameterByName("displayMode"),r.recipient="opener",r.event=t,r.params=n,n&&n.resultCallback){var a=_randomString(16);r.params.resultCallbackId=a,i.resultCallbacks[a]=n.resultCallback,delete n.resultCallback}util.log("[EVENT SERVICE] Post message:"+t,r),$.postMessage(JSON.stringify(r),i.parentURL,"popup"===r.displayMode?e.opener:e.parent)}(t,n)}}catch(e){util.log("[EVENT SERVICE] Event wasn't expected: ",t)}},i.customPostMessage=function(e,t,n,r){var i={};i.sender=o(),i.event=e,i.params=t,util.log("[EVENT SERVICE] Custom post message:"+e,i),$.postMessage(JSON.stringify(i),n,r)},i.resizeEvent=function(e){if(e.iframeId=o(),null===i.last)i.postMessage("loaded",e),i.last=e;else if(e.height!==i.last.height||e.width!==i.last.width){var t=r.get().closeButtonType;void 0!==t&&(e.closeButtonType=t),i.postMessage("resize",e),i.last=e}},i.purgeEvent=function(e){i.postMessage("purge",e)},i.closeEvent=function(e){i.postMessage("close",e)},i.closeAndRefreshEvent=function(e){i.postMessage("closeAndRefresh",e)},i.checkoutStateChange=function(e,t){i.postMessage("checkoutStateChange",{stateName:e,offerId:TPParam.config.offerId,term:t})},i.startCheckoutEvent=function(e){i.postMessage("startCheckout",e)},i.startThreeDBankSecure=function(){i.postMessage("startThreeDBankSecure")},i.loginRequiredEvent=function(e){var t=n.defer();return e.resultCallback=function(e){t.resolve(e)},i.postMessage("loginRequired",e),t.promise},i.initContext=function(){var e=n.defer();return i.postMessage("initContext",{resultCallback:function(t){e.resolve(t)}}),e.promise},i.gigyaPasswordlessLoginEvent=function(e){e.iframeId=o(),i.postMessage("gigyaPasswordlessLogin",e)},i.customEvent=function(e,t){i.postMessage(e,t)},i.systemErrorEvent=function(e){i.postMessage("error",e)},i.submitPayment=function(e){i.postMessage("submitPayment",e)},i.completeEvent=function(e){i.postMessage("complete",e)},i.alreadyPurchasedEvent=function(e){i.postMessage("alreadyPurchased",e)},i.checkoutPaymentErrorEvent=function(e){i.postMessage("checkoutPaymentError",{message:e})},i.loginEvent=function(e){i.postMessage("login",e)},i.registerEvent=function(e){i.postMessage("register",e)},i.getParentSize=function(){i.postMessage("parentSize")},i.isMobileDevice=function(){return TPParam&&TPParam.params&&("ios"===TPParam.params.os||"android"===TPParam.params.os)},i.emitGAEvent=function(e){i.postMessage("emitGAEvent",e)},i.emitMetricsEvent=function(e){i.postMessage("emitMetricsEvent",e)},$().ready(function(){$.receiveMessage(function(e){var n;try{if(util.log("[EVENT SERVICE] Received message:",e),-1!==["https://core.spreedly.com","https://jsl.prod.obi.aol.com","https://pay.datatrans.com","https://vpos.infonet.com.py:8888","https://vpos.infonet.com.py","https://flex.cybersource.com","https://testflex.cybersource.com"].indexOf(e.origin))return;(n=JSON.parse(e.data)).sender&&0===n.sender.indexOf("piano-id-")&&(n.event=n.sender+"-"+n.event),"init-social"===n.eventName&&(n={event:"init-social",params:n}),t.$broadcast(n.event,n.params),n.params&&n.params.resultCallbackId&&i.resultCallbacks[n.params.resultCallbackId]&&(i.resultCallbacks[n.params.resultCallbackId](n.params),delete i.resultCallbacks[n.params.resultCallbackId])}catch(t){return void util.log("[EVENT SERVICE][Could not parse message:",e)}})}),i}]);var errorModule=angular.module("errorModule",["generalModule"]);errorModule.factory("errorService",["$rootScope","eventService","ngEventService",function(e,t,n){var r={},i={GLOBAL:"global",COMPONENT:"component",TERMINAL:"terminal"};return function(o){var a={},s=null;return a.error=function(e,t){if(!o)throw Error("The $scope is undefined");var r=t;r||(r={}),angular.isString(r)&&(r={message:t}),r.type=e,r.errorInstanceId=o.errorInstanceId,s.errors.push(r),n.fire(EVENT_ERRORS_CHANGED)},a.global=function(e){a.error(i.GLOBAL,e)},a.globals=function(e){angular.forEach(e,function(e){a.error(i.GLOBAL,e)})},a.component=function(e){a.error(i.COMPONENT,e)},a.components=function(e){angular.forEach(e,function(e){a.error(i.COMPONENT,e)})},a.terminal=function(r){var a=r;a||(a={}),angular.isString(a)&&(a={message:r}),a.type=i.TERMINAL,o&&(a.errorInstanceId=o.errorInstanceId),n.fire(EVENT_TERMINAL_ERROR,a),e.terminalError=a.message,e.terminalErrorHeading=a.heading,t.systemErrorEvent({message:a.message})},a.reset=function(){o&&s.errors.length>0&&(s.errors=[],n.fire(EVENT_ERRORS_CHANGED,o.errorInstanceId))},a.errors=function(e){var t=[];if(o){var n=function(r){angular.forEach(r.errors,function(e){t.push(e)}),e||angular.forEach(r.children,function(e){n(e)})};n(s)}else angular.forEach(r,function(e){angular.forEach(e.errors,function(e){t.push(e)})});return t},a.childrenErrors=function(){var e=[];if(o){var t=function(n){angular.forEach(n.errors,function(t){e.push(t)}),angular.forEach(n.children,function(e){t(e)})};angular.forEach(s.children,function(e){t(e)})}else e=[];return e},a.resetDisplayed=function(){var e=a.getId();angular.forEach(r,function(t){var n=[];angular.forEach(t.errors,function(t){t.displayedOn!==e&&n.push(t)}),t.errors=n}),n.fire(EVENT_ERRORS_CHANGED,o.errorInstanceId)},a.TYPES=i,a.getId=function(){return o?o.errorInstanceId:null},function(){var e,t,n;if(o){if(!((n=o)&&n.$evalAsync&&n.$watch))throw Error("The first parameter should be scope");o.errorInstanceId?s=r[o.errorInstanceId]:(o.errorInstanceId=_randomString(16),s={children:[],errors:[],errorInstanceId:o.errorInstanceId,$id:o.$id},r[o.errorInstanceId]=s,(e=(t=function(e){return e?e.errorInstanceId?e.errorInstanceId:e.$parent?t(e.$parent):void 0:null})(o.$parent))&&r[e].children.push(s))}}(),a}}]);var dependencies=["exceptionHandler","generalModule","tpComponentsModule","antifraudCaptchaV3Module","antifraudCaptchaV2Module","checkoutModule","giftModule","promocodeModule","redemptionModule","externalVerificationModule","authModule","passThroughModule","country.selector","billing.address","tpDrop.module","tp.i18n","paymentProviderModule","consentModule","html5.placeholder","amazonmwsModule","coinbaseModule","creditCardModule","mockModule","dwollaModule","paymentServiceModule","payPalModule","applePayBtModule","payWhatYouWantModule","spreedlyModule","alreadyHasAccessModule","zeroModule","confirmationModule","checkoutMockModule","bankSecureModule","sharedSubscriptionModule","continueThreeDSPurchaseModule","printAddressModule","providersModuleCH","upgradeModule","subscriptionReactivationModule","creditRedemptionModule"],checkoutComponentsModule=angular.module("checkoutComponentsModule",dependencies);checkoutComponentsModule.constant("COMPONENT_TO_OPTIONS_MAP",{"account-header-component":{},"term-selector-component":{termSelector:!0},"promo-code-component":{},"pay-what-you-want-form-component":{},"auth-component":{},"payment-form-component":{paymentForm:!0},"already-has-access-component":{},"external-verification-component":{},"print-address-component":{},"confirmation-component":{},"gift-form-component":{},"redemption-component":{redemptionForm:!0},"reactivate-subscription-component":{reactivationForm:!0},"complete-upgrade-component":{}}),checkoutComponentsModule.directive("view",["$animate","checkout","COMPONENT_TO_OPTIONS_MAP","$compile","viewService","$timeout","performanceMetricsService","billingConfig","checkoutGoTo","creditRedemptionService",function(e,t,n,r,i,o,a,s,u,c){var l="lazy-transclude",d='<div>    <div error-list=""></div>    <div class="'+l+'"></div>     <div class="clearfix"></div></div>';function f(e){var t=NodeFilter?NodeFilter.SHOW_ELEMENT:1,r=function e(t,n){var r=n||[],i=t.nextNode();return i?e(t,r.concat(i)):r}(document.createNodeIterator(e.get(0),t,null,null),null).map(function(e){return Array.prototype.slice.call(e.attributes)}).filter(function(e){return e.length}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.name});return Object.keys(n).filter(function(e){return-1!==r.indexOf(e)}).reduce(function(e,t){return angular.extend(e,n[t])},{})}return{restrict:"A",replace:!0,template:function(e,t){var n=f(e),r=e.get(0).innerHTML.trim();return i.registerState(t.view,n,r),d},link:function(e,n,s,u){var c="view-"+s.view,d=i.getStateManager(s.view);e.isPreviewMod=t.isPreviewMod,n.addClass("view "+c),n.attr("id",c),u.setViewAsInactive=function(){n.removeClass("view-show")},u.setViewAsActive=function(){if(n.addClass("view-show"),!n.hasClass("view-showed")){var t=function(e){return e.find("."+l)}(n);n.addClass("view-showed"),t.append(d.template),r(t.contents())(e),o(function(){a.onViewRendered(s.view)},0)}}},controller:["$scope","$q","$element","$attrs","ngEventService","viewService","$timeout","exposeTemplateParams","exposeCustomVariables","exposeActiveMeters","exposeCustomCookies","userService","giftService","redemptionService","setupTrackingId","statsService","browserIdService","offerStateService","isMobileUserAgent","creditRedemptionService",function(e,n,r,i,o,a,u,c,l,d,f,p,h,m,g,v,y,w,C,b){var E=this;this.options={hasTermSelector:!1,hasPaymentForm:!1,hasRedemptionForm:!1,hasPasswordlessLoginForm:!1},this.active=!1,this.components=[],this.stateName=i.view,this.name="view-"+this.stateName,this.registerComponentController=function(e,t){e.providerName&&(this.components=this.components.filter(function(t){return e.providerName!==t.providerName})),t&&this.registerComponentOptions(t),this.components.push(e)},this.unregisterComponentController=function(e){this.components=this.components.filter(function(t){return t.$id===e.$id&&e.unsubscribeNgEventService&&e.unsubscribeNgEventService(),t.$id!==e.$id})},this.registerComponentOptions=function(e){e&&e.termSelector&&(E.options.hasTermSelector=e.termSelector),e&&e.paymentForm&&(E.options.hasPaymentForm=e.paymentForm),e&&e.redemptionForm&&(E.options.hasRedemptionForm=e.redemptionForm),e&&e.reactivationForm&&(E.options.hasReactivationForm=e.reactivationForm),e&&e.passwordlessLoginForm&&(E.options.hasPasswordlessLoginForm=e.passwordlessLoginForm)},this._isValid=function(){var e=n.defer(),t=[];return angular.forEach(this.components,function(e){(!e._validateViewOnCompletePurchase||e._validateViewOnCompletePurchase&&e._validateViewOnCompletePurchase())&&e._isValid&&t.push(n.when(e._isValid()))}),n.all(t).then(function(t){var n=!0;angular.forEach(t,function(e){!1===e&&(util.log('["'+E.name+'" validation] component is not valid'),n=!1)}),e.resolve(n)},function(){util.log('["'+E.name+'" validation] validation has failed with rejection'),e.resolve(!1)}),e.promise},this.extendScope=function(n){function r(){n.app=t.config.app,n.terms=t.config.terms,n.user=t.config.user,n.passwordlessCaptchaEnabled=t.config.passwordlessCaptchaEnabled,n.input=t.input,n.billingConfig=s,n.access=t.access,n.selectedTerm=t.flags.selectedTerm,n.flags=t.flags,n.allowLogout=t.allowLogout,n.isShowBoilerplateCloseButton=t.isShowBoilerplateCloseButton,n.giftEmailParams=h.form,n.voucher=m.voucher,n.externalCheckoutConfig=t.getExternalCheckoutConfig(),n.gotoOfferState=w.gotoOfferState,n.getOfferState=w.getOfferState,n.preselectTermId=t.preselectTermId,n.startCheckoutWithPreselectedTerm=t.startCheckoutWithPreselectedTerm,b.setupScope&&b.setupScope(n),v.getParams().then(function(t){var r={};angular.extend(r,TPParam.params),angular.extend(r,t),n.params=c(r),n.custom=l(r.customVariables||{}),n.customCookies=f(r.customCookies||{}),n.activeMeters=d(r.activeMeters||[]),y.getBrowserId().then(function(t){e.browserId=t})})}Helper.wrapMethod("startCheckout",t,n),Helper.wrapMethod("startRedemption",t,n),Helper.wrapMethod("allowRedemption",t,n),Helper.wrapMethod("canInitCheckoutWithAnon",t,n),Helper.wrapMethod("isUserValid",t,n),Helper.wrapMethod("isNewCustomer",t,n),Helper.wrapMethod("allowTinypassAccountsLogin",t,n),Helper.wrapMethod("allowTinypassAccountsLogout",t,n),Helper.wrapMethod("allowTinypassAccountsLogout1",t,n),Helper.wrapMethod("logout",t,n),Helper.wrapMethod("login",t,n),Helper.wrapMethod("register",t,n),Helper.wrapMethod("isSelectedTermLocked",t,n),Helper.wrapMethod("isPaymentMethod",t,n),Helper.wrapMethod("isSupportedWorldpayCcMethod",t,n),Helper.wrapMethod("isSupportedSpreedlyCcMethod",t,n),Helper.wrapMethod("isPaymentMethodSelected",t,n),Helper.wrapMethod("isMockUsed",t,n),Helper.wrapMethod("selectPaymentMethod",t,n),Helper.wrapMethod("resetPaymentSelection",t,n),Helper.wrapMethod("close",t,n),Helper.wrapMethod("canSelectPaymentMethod",t,n),Helper.wrapMethod("isPayWhatYouWantTerm",t,n),Helper.wrapMethod("isConfirmStepEnabled",t,n),Helper.wrapMethod("selectTerm",t,n),Helper.wrapMethod("isPasswordlessCheckoutEnabled",t,n),Helper.wrapMethod("isDoubleOptInEnabled",t,n),Helper.wrapMethod("isVatEuEnabled",t,n),Helper.wrapMethod("isVatCanadaEnabled",t,n),Helper.wrapMethod("isTaxUsEnabled",t,n),Helper.wrapMethod("isUsBillingCountry",t,n),Helper.wrapMethod("isUsBillingCountryLabel",t,n),Helper.wrapMethod("isEuBillingCountryLabel",t,n),Helper.wrapMethod("isBillingCountryEnabled",t,n),Helper.wrapMethod("getBillingAddressEnabled",t,n),Helper.wrapMethod("isOneSourceTaxEnabled",t,n),Helper.wrapMethod("isAvalaraTaxEnabled",t,n),Helper.wrapMethod("isUsSelected",t,n),Helper.wrapMethod("isCanadaSelected",t,n),Helper.wrapMethod("isBillingAddressAvailableForSelectedCountry",t,n),Helper.wrapMethod("isPaymentTerm",t,n),Helper.wrapMethod("isTermSelected",t,n),Helper.wrapMethod("isExternalTerm",t,n),Helper.wrapMethod("isGiftTerm",t,n),Helper.wrapMethod("isPayableTerm",t,n),Helper.wrapMethod("isChargingTerm",t,n),Helper.wrapMethod("hasTax",t,n),Helper.wrapMethod("toggleVatColumn",t,n),Helper.wrapMethod("isVatColumnAvailable",t,n),Helper.wrapMethod("isTaxColumnVisible",t,n),Helper.wrapMethod("isVatColumnVisible",t,n),Helper.wrapMethod("getVatLabel",t,n),Helper.wrapMethod("gotoAuthState",t,n),Helper.wrapMethod("hasAccess",t,n),Helper.wrapMethod("isUpgradeOffer",t,n),Helper.wrapMethod("isExternalCheckoutAvailable",t,n),Helper.wrapMethod("startExternalCheckout",t,n),Helper.wrapMethod("isPromoCodeAvailable",t,n),r(),n.isAuthorizationSupportedByPaymentMethod=function(){var e=t.flags.selectedPaymentMethod;return!e||e&&!0===e.authSupported},n.getFreeTrialType=function(){var e=t.getSelectedTerm(),n=e.originalBillingPlan?e.originalBillingPlan.billingPlanTable:null,r=e.billingPlanTable.some(function(e,t){return"true"===e.isFree&&(!n||"true"===n[t].isFree)}),i=e.billingPlanTable.some(function(e,t){return"true"===e.isFree&&n&&"false"===n[t].isFree});return r&&i?"FREE_TRIAL_TERM_PROMO":r?"FREE_TRIAL_TERM":i?"FREE_TRIAL_PROMO":"NOT_FREE_TRIAL"},n.getPayableTermType=function(){var e=t.getSelectedTerm();return t.isPayableTerm(e)?!t.alreadyPurchased()&&e.isSubscription&&e.hasFreeTrial?"FREE_TRIAL_SUBSCRIPTION":!t.alreadyPurchased()&&e.hasFreeTrial?"FREE_TRIAL":"PAYABLE":"NOT_PAYABLE_TERM"},n.getTaxType=function(){if(t.hasTax()){if(t.isTaxCnbcEnabled())return"CNBC";if(t.isVatEuEnabled())return"EU";if(t.isTaxUsEnabled())return"US";if(t.isVatCanadaEnabled()&&t.input.canadianTaxes.length>1)return"MANY_RATE_CA";if(t.isVatCanadaEnabled()&&1===t.input.canadianTaxes.length)return"ONE_RATE_CA"}return"NONE"},n.getReceiptType=function(){return t.isUpgradeOffer()?"UpgradePurchase":t.isPaymentMethod(OPENPAY_CASH)?"OpenpayCash":t.isPaymentMethod(EASYPAY_MULTIBANCO)?"EasypayMultibanco":t.isPaymentMethod(EASYPAY_MBWAY)?"EasypayMbway":t.isPaymentMethod(EASYPAY_DIRECT_DEBIT)?"EasypayDirectDebit":t.isPaymentMethod(EASYPAY_BOLETO)?"EasypayBoleto":t.isPaymentMethod(ONET)?"Onet":t.isPaymentMethod(VOLGA)?"Volga":t.isGiftTerm(t.flags.selectedTerm)?"GiftPurchase":n.isRedemption()?"GiftRedemption":t.isExternalTerm(t.flags.selectedTerm)?"External":t.isRegistrationTerm(t.flags.selectedTerm)?"Registration":"Purchase"},n.getReceiptTemplateConfig=function(){var e={footer:!0};return t.isPaymentMethod(EASYPAY_BOLETO)?(e.footer=!1,e):e},n.isRedemption=function(){return m.state===m.STATE_DONE},n.getSelectedPaymentMethodName=function(){return t.flags.selectedPaymentMethod?t.flags.selectedPaymentMethod.name:null},n.isApplePayPaymentMethod=function(){return t.isPasswordlessCheckoutEnabled()&&n.getSelectedPaymentMethodName()&&n.getSelectedPaymentMethodName().toLowerCase().includes("apple pay")},n.isTermDiscounted=function(){return t.flags.isDiscounted},n.isMobileUserAgent=C,n.isGigyaUserProvider=p.isGigyaUserProvider,n.allowLogin=p.allowLogin,n.allowInvalidUser=function(){return t.canInitCheckoutWithAnon()||"offer"===a.getActiveState()&&(p.allowTinypassAccountsLogin()||p.isGigyaUserProvider())};var i=o.subscribe(EVENT_CHECKOUT_RELOADED,function(){r()}),g=o.subscribe(EVENT_VIEW_ACTIVATED,function(){u(function(){t.resize()})}),E=o.subscribe(EVENT_CHECKOUT_TERM_SELECTED,function(){r()}),$=o.subscribe(EVENT_CHECKOUT_PRICE_CHANGED,function(){r()}),S=o.subscribe(EVENT_STATS_TRACKED,function(){r()});n.unsubscribeNgEventService=function(){i(),g(),E(),$(),S()}},this.extendScope(e),a.registerView(this),this.registerComponentOptions(a.getStateManager(this.stateName).options)}]}}]),checkoutComponentsModule.factory("isMobileUserAgent",function(){return function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}),checkoutComponentsModule.directive("autoCloseApplePayReceipt",["checkout","eventService",function(e,t){return{restrict:"A",scope:{closingDelay:"@?",transitionTimeUp:"@?",transitionTimeDown:"@?",animationOffsetBottom:"@?",animationOffsetTop:"@?",animationContainerSize:"@?"},link:{pre:function(){t.postMessage("toggleIframeShadow",{isEnabled:!1})},post:function(n,r){var i,o=anime.timeline({}),a=!1,s=r.find("button.apple-pay-receipt__close");function u(){n.closingDelay=n.closingDelay?parseInt(n.closingDelay,10):4e3,n.transitionTimeUp=n.transitionTimeUp?parseInt(n.transitionTimeUp,10):1300,n.transitionTimeDown=n.transitionTimeDown?parseInt(n.transitionTimeDown,10):1300,n.animationOffsetBottom=n.animationOffsetBottom?parseInt(n.animationOffsetBottom,10):300,n.animationOffsetTop=n.animationOffsetTop?parseInt(n.animationOffsetTop,10):100,n.animationContainerSize=n.animationContainerSize?parseInt(n.animationContainerSize,10):560,r.parent().height(n.animationContainerSize),i=r.parent().height()-n.animationOffsetBottom,o.add({targets:".apple-pay-receipt-animation-container",keyframes:[{opacity:0},{translateY:i,opacity:0},{translateY:n.animationOffsetTop,opacity:1,duration:n.transitionTimeUp}],easing:"easeInOutSine"}).add({targets:".in .circle",strokeDashoffset:[anime.setDashoffset,0],easing:"easeInOutSine",duration:n.transitionTimeUp+200},n.transitionTimeUp/3).add({targets:".in .check",strokeDashoffset:[anime.setDashoffset,0],easing:"easeInOutSine",duration:600,complete:function(){s.toggleClass("apple-pay-button--disabled",!1)}},n.transitionTimeUp).add({targets:".apple-pay-receipt-animation-container",keyframes:[{translateY:n.animationOffsetTop,opacity:1},{translateY:i,opacity:0}],duration:n.transitionTimeDown,easing:"easeInOutSine",delay:100,begin:o.pause,complete:c}),setTimeout(l,n.closingDelay)}function c(){e.close(function(){t.postMessage("toggleIframeShadow",{isEnabled:!0})})}function l(){a||(a=!0,s.toggleClass("apple-pay-button--disabled",!0),o.play())}r.ready(function(){u()}),s.on("click touch",function(){l()})}}}}]),checkoutComponentsModule.directive("errorMsg",["errorService",function(e){return{restrict:"A",require:["^view","ngModel"],scope:{msg:"@errorMsg"},link:function(t,n,r,i){var o=i[0],a=i[1];t._isValid=function(){e(t).reset();var n=!0;return a.$error&&angular.forEach(a.$error,function(e,t){e&&(n=!1)}),n||e(t).global(t.msg),n},o.registerComponentController(t)}}}]),checkoutComponentsModule.directive("termSelectorComponent",["checkout","$sce",function(e,t){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/term-selector-component.html",link:function(e,t,n,r){r.registerComponentController(e,{termSelector:!0}),t.attr("id","term-selector-component"),e.extendScope=function(){r.extendScope(e)},e.extendScope(),t.on("$destroy",function(){r.unregisterComponentController(e)})},controller:["$scope","$timeout","ngEventService",function(t,n,r){angular.extend(t,BaseComponentController),t.isTermDiscounted=function(){return e.flags.isDiscounted},t.isUnlimInterval=function(e){return e&&2147483647===parseInt(e.cycles,10)},angular.forEach(e.config.terms,function(e,n){t["term"+(n+1)]=e}),t._isValid=function(){return e.isTermSelected()};var i=r.subscribe(EVENT_CHECKOUT_RELOADED,function(){t.extendScope()});t.unsubscribeNgEventService=function(){i()}}]}}]),checkoutComponentsModule.directive("dynamicName",["$parse",function(e){return{restrict:"A",priority:1e4,controller:["$scope","$element","$attrs",function(t,n,r){var i=e(r.dynamicName)(t);delete r.dynamicName,n.removeAttr("data-dynamic-name"),n.removeAttr("dynamic-name"),r.$set("name",i)}]}}]),checkoutComponentsModule.directive("paymentFormComponent",["checkout","providersServiceCH","captchaV2Service","captchaV3Service",function(e,t,n,r){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/payment-form-component.html",transclude:!0,link:function(e,t,i,o){o.registerComponentController(e,{paymentForm:!0}),t.attr("id","payment-form-component"),o.extendScope(e),e.isCaptchaV3Enabled=r.isCaptchaV3Enabled(),e.isCaptchaV3Enabled&&(n.subscribeToCaptchaRequiredChanges(function(t){e.isCaptchaV2Required=t}),n.subscribeToCaptchaUnresolvedChanges(function(t){e.isCaptchaV2Unresolved=t})),t.on("$destroy",function(){o.unregisterComponentController(e),n.clearCaptchaListeners()})},controller:["$scope",function(n){angular.extend(n,BaseComponentController),Helper.wrapMethod("isPaymentMethodRequired",e,n),Helper.wrapMethod("isZeroPayment",e,n),Helper.wrapMethod("isSelectedTermAutoRenewChoiceAvailable",e,n),n.hasNewFlow=function(){var n=e.flags.selectedPaymentMethod&&e.flags.selectedPaymentMethod.id,r=n===EDGIL_PAYWAY;return t.hasNewFlow(n)&&!r},n.input=e.input}]}}]),checkoutComponentsModule.directive("paymentMethodSelectorComponent",["checkout","ngEventService",function(e,t){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/payment-method-selector-component.html",link:function(e,t,n,r){r.registerComponentController(e),t.attr("id","payment-method-selector-component"),t.on("$destroy",function(){r.unregisterComponentController(e)})},controller:["$scope",function(n){angular.extend(n,BaseComponentController),n.paymentMethods=e.input.paymentMethods,n.selectedPaymentMethod=null;var r=t.subscribe(EVENT_CHECKOUT_PAYMENT_METHODS_CHANGED,function(e,t){util.log("[PM SELECTOR] Got new payment method event",t),n.paymentMethods=t});n.unsubscribeNgEventService=function(){r()},n.selectPaymentMethod=function(t){return n.hasErrors()&&n.reset(),n.selectedPaymentMethod=t,e.selectPaymentMethod.apply(e,Array.prototype.slice.call(arguments))},Helper.wrapMethod("isPaymentMethod",e,n),Helper.wrapMethod("isPaymentMethodSelected",e,n),Helper.wrapMethod("resetPaymentSelection",e,n),Helper.wrapMethod("canSelectPaymentMethod",e,n),Helper.wrapMethod("isPaymentMethodRequired",e,n),Helper.wrapMethod("isZeroPayment",e,n),n._isValid=function(){return e.isPaymentMethodSelected()},n.getCurrencyClass=function(){return e.getSelectedTerm().chargeCurrency.toLowerCase()}}]}}]),checkoutComponentsModule.directive("closeButton",["checkout",function(e){return{restrict:"A",require:"^view",replace:!0,templateUrl:"/widget/checkout/component/partials/close-button-component.html",scope:{title:"@",usePrimaryColor:"=?"},link:function(t,n,r,i){i.registerComponentController(t),n.on("click",function(){t.$apply(function(){e.close()})}),n.on("$destroy",function(){i.unregisterComponentController(t)})},controller:["$scope",function(e){angular.extend(e,BaseComponentController)}]}}]),checkoutComponentsModule.directive("nextButton",["viewService",function(e){return{restrict:"A",require:"^view",replace:!0,templateUrl:"/widget/checkout/component/partials/next-button-component.html",scope:{title:"@"},link:function(t,n,r,i){i.registerComponentController(t),n.on("click",function(){t.$apply(function(){e.gotoNextView()})}),n.on("$destroy",function(){i.unregisterComponentController(t)})},controller:["$scope",function(e){angular.extend(e,BaseComponentController)}]}}]),checkoutComponentsModule.directive("previousButton",["viewService","ngEventService",function(e,t){return{restrict:"A",require:"^view",replace:!0,templateUrl:"/widget/checkout/component/partials/previous-button-component.html",scope:{title:"@"},link:function(n,r,i,o){o.registerComponentController(n),r.on("click",function(){t.fire(EVENT_GOTO_PREVIOUS_STATE,{isConfirmation:e.isActive("confirmation")}),n.$apply(function(){e.gotoPreviousState()})}),r.on("$destroy",function(){o.unregisterComponentController(n)})},controller:["$scope",function(t){angular.extend(t,BaseComponentController),t.hasPreviousState=e.hasPreviousState}]}}]),checkoutComponentsModule.directive("errorList",function(){return{restrict:"A",templateUrl:"/widget/checkout/component/partials/error-list-component.html",scope:!1,controller:["$scope","ngEventService","errorService","$timeout","$rootScope",function(e,t,n,r,i){e.errors=[];var o=n(e).getId(),a=t.subscribe(EVENT_ERRORS_CHANGED,function(){e.errors.length=0,r(function(){var t=[],a=n(i).errors(!0);angular.forEach(a,function(e){e.displayed&&e.displayedOn!==o||(t.push(e),e.displayed=!0,e.displayedOn=o)});a=n(e).errors(!0);angular.forEach(a,function(e){e.displayed&&e.displayedOn!==o||(t.push(e),e.displayed=!0,e.displayedOn=o)}),r(function(){var r=n(e).childrenErrors();angular.forEach(r,function(e){e.displayed&&e.displayedOn!==o||(t.push(e),e.displayed=!0,e.displayedOn=o)}),t.length>0&&(e.errors=t)},0)},0)});e.$on("$destroy",function(){a()}),e.reset=function(){n(e).resetDisplayed()},e.hasErrors=function(){return e.errors&&e.errors.length},e.hasOneError=function(){return e.errors&&1===e.errors.length}}]}}),checkoutComponentsModule.directive("completePurchaseButton",["checkout","ngEventService",function(e,t){return{restrict:"A",require:"^view",replace:!0,templateUrl:"/widget/checkout/component/partials/complete-purchase-button-component.html",scope:{title:"@",isDisabled:"="},link:function(n,r,i,o){var a=!1,s=t.subscribe("PURCHASE_FAILED",function(){a=!1});o.registerComponentController(n),r.on("click",function(){n.isDisabled||a||(a=!0,e.completePayment().finally(function(){a=!1}))}),r.on("$destroy",function(){o.unregisterComponentController(n),s()})},controller:["$scope",function(e){angular.extend(e,BaseComponentController)}]}}]),checkoutComponentsModule.directive("gotoConfirmationButton",["checkout",function(e){return{restrict:"A",require:"^view",replace:!0,templateUrl:"/widget/checkout/component/partials/goto-confirmation-component.html",scope:{title:"@",isDisabled:"=?"},link:function(t,n,r,i){var o=!1;i.registerComponentController(t),n.on("click",function(){t.isDisabled||o||(o=!0,e.confirmPayment().finally(function(){o=!1}))}),n.on("$destroy",function(){i.unregisterComponentController(t)})},controller:["$scope",function(e){angular.extend(e,BaseComponentController)}]}}]),checkoutComponentsModule.directive("accountHeaderComponent",["checkout",function(e){return{restrict:"A",templateUrl:"/widget/checkout/component/partials/account-header-component.html",replace:!0,link:function(e,t,n){e.noLanguage=n.hasOwnProperty("noLanguage")},controller:["$scope",function(t){t.login=e.login,t.logout=e.logout,t.isUserValid=e.isUserValid,t.allowTinypassAccountsLogin=e.allowTinypassAccountsLogin,t.allowTinypassAccountsLogout=e.allowTinypassAccountsLogout}]}}]),checkoutComponentsModule.directive("debugger",["checkout",function(e){return{restrict:"A",templateUrl:"/widget/checkout/component/partials/debugger.html",link:function(e){e.$watch(function(){return e.log.length},function(){$("#debugger #log-output").scrollTop(1e10)})},controller:["$scopes",function(t){t.app=e.config.app,t.terms=e.config.terms,t.log=e.log,t.input=e.input,t.access=e.access}]}}]),checkoutComponentsModule.directive("checkout",["checkout","eventService",function(e,t){return{restrict:"A",template:'<div ng-if="isContextLoaded" ng-transclude=""></div>',transclude:!0,link:function(e,t){t.addClass("checkout")},controller:["$scope","$element","$attrs",function(n,r,i){var o="context"===getParameterByName("initMode");n.isContextLoaded=!o;var a={preferredWidth:i.width,preferredHeight:i.height};o?t.initContext().then(function(t){n.isContextLoaded=!0,a=angular.extend({},a,t),e.init(n,a)}):(n.isContextLoaded=!0,e.init(n,a))}]}}]),checkoutComponentsModule.directive("purchaseReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/purchase-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("registrationReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/registration-receipt-component.html",scope:{},link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("externalReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/external-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("giftRedemptionReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/gift-redemption-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("giftPurchaseReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/gift-purchase-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("openpayCashReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/openpay-cash-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("easypayMultibancoReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/easypay-multibanco-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("easypayMbwayReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/easypay-mbway-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("easypayDirectDebitReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/easypay-direct-debit-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("easypayBoletoReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/easypay-boleto-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("onetReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/onet-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("volgaReceipt",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/volga-receipt-component.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("canadianTaxes",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/canadian-taxes.html",link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.directive("canadianHint",function(){return{restrict:"A",require:"^view",templateUrl:"/widget/checkout/component/partials/canadian-taxes-hint.html",scope:{},controller:["$scope",function(e){angular.extend(e,BaseComponentController)}],link:function(e,t,n,r){r.registerComponentController(e),r.extendScope(e),t.on("$destroy",function(){r.unregisterComponentController(e)})}}}),checkoutComponentsModule.factory("offerStateService",["containerService","eventService","checkout",function(e,t,n){var r=getParameterByName("offerState"),i=[];return{registerState:function(e){r||(r=e),i.push(e)},getOfferState:function(){return r},gotoOfferState:function(i){if(e.isInline)return n.params.offerState=i,void t.startCheckoutEvent(n.params);r=i}}}]),checkoutComponentsModule.directive("offerState",function(){return{restrict:"A",replace:!0,transclude:!0,template:'<div><div class="offer-state" ng-if="state === getOfferState()"  > <div ng-transclude></div></div></div>',controller:["$scope","offerStateService",function(e,t){e.state="",e.registerState=function(n){e.state=n,t.registerState(n)},e.gotoOfferState=t.gotoOfferState,e.getOfferState=t.getOfferState}],link:function(e,t,n){e.registerState(n.offerState)}}}),checkoutComponentsModule.directive("hideIfNoPaymentMethods",function(){return{restrict:"A",scope:{subscriptionPaymentMethods:"="},link:function(e,t){e.subscriptionPaymentMethods&&e.subscriptionPaymentMethods.length||t.remove()}}}),checkoutComponentsModule.directive("boilerplateLoginDropdown",function(){return{restrict:"E",replace:!0,templateUrl:"/widget/checkout/component/partials/boilerplate-login-dropdown.html",controller:["$scope","$document",function(e,t){e.isDropdownOpen=!1,e.logoutToggle=function(){e.isDropdownOpen=!e.isDropdownOpen},e.displayUserName=function(e){return e.firstName&&e.lastName?e.firstName+" "+e.lastName:e.firstName||e.lastName?e.firstName||e.lastName:e.email},t.on("click",function(){e.isDropdownOpen&&(e.isDropdownOpen=!1,e.$apply())})}]}}),checkoutComponentsModule.directive("addressSelector",function(){return{restrict:"E",scope:{getAddressesList:"=",getStructuredAddress:"=?",showManually:"=?",setInputValue:"=?",disabled:"=?",preselectedRegion:"=?",inputPlaceholder:"@",isStatic:"@"},replace:!0,templateUrl:"/widget/checkout/component/partials/address-selector.html",link:function(e,t){document.addEventListener("click",function(n){e.isDropdownOpen&&0===t[0].getElementsByClassName(n.target.className).length&&(e.isDropdownOpen=!1,e.validInput||e.isStatic||""===e.query||(e.hasError=!0,e.showManually(e.hasError)),e.$apply())})},controller:["$scope","ngEventService",function(e,t){e.isDropdownOpen=!1,e.validInput=!1,e.hasError=!1,e.query="",e.lastQuery="",e.blockInput=!1,e.searchTimeout=null,e.searchResults=e.isStatic?e.getAddressesList():[];var n=t.subscribe("PAYMENT_BILLING_PLAN_TABLE_UPDATE",function(){e.isStatic||(e.query="",e.validInput=!1,e.hasError=!1)});e.$on("$destroy",function(){n()}),e.search=function(){if(e.blockInput&&(e.query=e.lastQuery),e.validInput=!1,e.hasError=!1,!e.isStatic&&""===e.query)return e.setInputValue({}),void e.showManually(e.hasError);e.isDropdownOpen=!0,e.isStatic||(e.searchResults=[],clearTimeout(e.searchTimeout),e.searchTimeout=setTimeout(function(){tinypass.withoutWaitPanel=!0,e.blockInput=!0,e.lastQuery=e.query,e.getAddressesList(e.query).then(function(t){e.setInputValue({}),e.searchResults=t.models.addresses||[],e.hasError=0===e.searchResults.length,e.showManually(e.hasError)}).finally(function(){e.blockInput=!1,tinypass.withoutWaitPanel=!1})},700))},e.getFullAddress=function(t){e.isStatic?e.setInputValue(t):(e.validInput=!0,e.getStructuredAddress(t.id).then(function(t){e.setInputValue(t.models.address)})),e.query=e.getItem(t),e.isDropdownOpen=!1},e.getItem=function(t){return e.isStatic?t.regionName:t.suggestion}}]}}),checkoutComponentsModule.directive("banner",["eventService",function(e){return{restrict:"A",link:function(t,n){e.postMessage("bannerInit"),n.on("$destroy",function(){e.postMessage("bannerDestroy")})}}}]);var checkoutService=angular.module("checkoutServiceModule",["checkoutModule"]);checkoutService.factory("checkoutService",["tpHTTP","$q","$window","statsService",function(e,t,n,r){var i={getOffer$:null,isTimeOutDelay:!1,getOffer:function(o,a){return r.getStatsPayload().then(function(r){return!0===i.isTimeOutDelay?i.getOffer$.promise:(i.getOffer$=t.defer(),i.isTimeOutDelay=!0,setTimeout(function(){i.isTimeOutDelay=!1;var t=i.getOffer$;i.getOffer$=null,e({method:"post",url:n.TPParam.GET_OFFER,params:o,data:r}).then(function(e){a.mergeStats(e),t.resolve(e)}).catch(function(e){t.reject(e)}).finally(function(){t=null})},10),i.getOffer$.promise)})},getAccess:function(i,o){return r.getStatsPayload().then(function(r){var a=o?o.termId:null;return e({method:"post",url:n.TPParam.GET_ACCESS,params:{aid:i.params.aid,offerId:i.params.offerId,termId:a,userToken:i.params.userToken,userProvider:i.params.userProvider,zone:i.params.zone,preview:i.params.preview,checkoutFlowId:i.params.checkoutFlowId,countryCode:i.getBillingCountryCode(),residenceCountryCode:i.getResidenceCountryCode(),billingZipCode:i.getBillingZipCode(),zipCode:i.input.zipCode,upgradedTermId:i.params.targetedTermId},data:r}).catch(function(e){t.reject(e)})})},getUserResource:function(i){return r.getStats().then(function(r){var o={aid:i.params.aid,userToken:i.params.userToken,userProvider:i.params.userProvider,tbc:r.initStatParams.tbc,pageViewId:r.initStatParams.pageViewId};return e({method:"post",url:n.TPParam.GET_USER_RESOURCES,params:o,data:{checkoutStats:i.stats}}).catch(function(e){t.reject(e)})})},setAsDefaultPaymentMethod:function(t){return e({method:"post",url:n.TPParam.APPLY_DEFAULT_PAYMENT_METHOD,params:t})},createOrder:function(t,i,o,a,s,u){return r.getStatsPayload().then(function(r){return e({method:"post",url:n.TPParam.CREATE_ORDER,params:{aid:t,offer_id:i,offer_template_id:o,userToken:a,term_id:s,zone:u.params.zone,experienceId:u.params.experienceId,preview:u.params.preview,oid:u.input.oid,checkoutFlowId:u.params.checkoutFlowId,countryCode:u.getBillingCountryCode(),residenceCountryCode:u.getResidenceCountryCode(),billingZipCode:u.getBillingZipCode(),zipCode:u.input.zipCode,upgradedTermId:u.params.targetedTermId,reactivateSubscriptionId:u.params.reactivateSubscriptionId},data:r}).then(function(e){return u.mergeStats(e),e})})},restoreCheckoutObjects:function(t){return e({method:"post",url:n.TPParam.RESTORE_CHECKOUT_OBJECTS,params:{oid:t},data:{}})},getTaxCountries:function(r){var i={aid:r.params.aid,lang:r.getLang()};return e({method:"post",url:n.TPParam.GET_TAX_COUNTRIES,params:i}).catch(function(e){t.reject(e)})},getExperianAddressValue:function(t,r,i){return e({method:"post",url:n.TPParam.EXPERIAN_SEARCH,params:{query:t,country:r,aid:i.aid,userToken:i.userToken,userProvider:i.userProvider,userRef:i.userRef,janrainCaptureToken:i.janrainCaptureToken}})},verifyAvalaraAddress:function(t,r){r.region||(r.region={});var i=angular.copy(r);return delete i.country.regions,e({method:"post",url:n.TPParam.AVALARA_ADDRESS_VERIFY,params:{aid:t.aid,billingAddress:i,userToken:t.userToken,userProvider:t.userProvider}})},getStructuredExperianAddress:function(t,r,i){return e({method:"post",url:n.TPParam.EXPERIAN_FORMAT,params:{id:t,country:r,aid:i.aid,userToken:i.userToken,userProvider:i.userProvider,userRef:i.userRef,janrainCaptureToken:i.janrainCaptureToken}})},billingAddressApply:function(t,r,i,o){var a={addressLine1:r.addressLine1,addressLine2:r.addressLine2,addressLine3:r.addressLine3,city:r.city,regionName:r.region.regionName,region:{pubId:r.region.pubId,regionName:r.region.regionName},postalCode:r.postalCode,country:{pubId:r.country.pubId,countryCode:r.country.countryCode},verified:r.isVerified,providerType:o};return r.region.pubId||delete a.region,e({method:"post",url:n.TPParam.BILLING_ADDRESS_APPLY,params:{oid:t,aid:i.aid,billingAddress:a,userToken:i.userToken,userProvider:i.userProvider,userRef:i.userRef,janrainCaptureToken:i.janrainCaptureToken}})},getTaxRegions:function(t){return e({method:"post",url:n.TPParam.COUNTRIES_AND_REGIONS,params:{aid:t.aid,userToken:t.userToken,userProvider:t.userProvider,userRef:t.userRef,janrainCaptureToken:t.janrainCaptureToken}})}};return i}]);var viewService=angular.module("viewServiceModule",["checkoutModule"]);viewService.factory("viewService",["$q","$document","$window","$rootScope","$state","eventService","ngEventService","lang","errorService","userService","utilsService","$injector","statsService",function(e,t,n,r,i,o,a,s,u,c,l,d,f){var p={views:[],viewStack:[]};if(p.$stateProvider=window.$stateProvider,p.startState=null,p.steps=[],p.disabled=!1,p.preventStateChange=!1,p.stateManager={},d.has("$transitions")){var h=d.get("$transitions");h.onStart({to:!0},function(e,t){return p._viewStateChange({},e.to(),e.params(),e.from()),!1}),h.onError({},function(){util.log("NOT FOUND STATE")})}else p.viewStateChangeListener=r.$on("$stateChangeStart",function(e,t,n,r){e.preventDefault(),p._viewStateChange(e,t,n,r)}),r.$on("$stateNotFound",function(){util.log("NOT FOUND STATE")});function m(e,t,n){var r=null;if(angular.forEach(p.views,function(e){e.options[t]&&(r=e)}),r)return p.gotoState(r.stateName,e),r.stateName;throw new Error(n)}return p._viewStateChange=function(e,t,i,s){if(!p.preventStateChange){for(var c=0;c<n.document.styleSheets.length;c++){var l=n.document.styleSheets[c],d=(l.ownerNode?l.ownerNode:l.owningElement).getAttribute("tp-style");null!==d&&d.indexOf("-custom-style")>-1&&(l.disabled=!0)}angular.forEach(p.views,function(e){if(e.active=!1,e.setViewAsInactive(),e.stateName===t.name){f.trackView(e.stateName),e.active=!0,e.setViewAsActive();for(var r=0;r<n.document.styleSheets.length;r++){var i=n.document.styleSheets[r],o=(i.ownerNode?i.ownerNode:i.owningElement).getAttribute("tp-style");"offer"!==t.name&&"checkout-custom-style"===o&&(i.disabled=!1),o===t.name+"-custom-style"&&(i.disabled=!1)}}});var h,m=window.navigator.userAgent,g=m.indexOf("MSIE"),v=m.indexOf("Trident/"),y=m.indexOf("Edge/");if(g>0||v>0||y>0)var w=setInterval(function(){var e=$("input:visible:focus").first();e.length?(e.blur().focus(),clearInterval(w)):$("input:visible").first().focus()},1e3);p.viewStack.length>i.step&&(h=p.viewStack[i.step].params),u(r).resetDisplayed(),a.fire(EVENT_VIEW_ACTIVATED,t,h),o.postMessage(EVENT_VIEW_ACTIVATED)}},p.registerState=function(e,t,n){p.stateManager[e]={options:t||{},template:n||""}},p.getStateManager=function(e){return p.stateManager[e]},p.isActive=function(e){var t=!1;return angular.forEach(p.views,function(n){n.stateName===e&&(t=n.active)}),t},p.registerView=function(e){e.stateName.match(/^state/)&&p.steps.push(e.stateName),"error"===e.stateName&&(p.errorView=e),p.$stateProvider.state(e.stateName,{url:"/"+e.stateName+"/:step"});for(var t=0;t<p.views.length;t++)if(p.views[t].stateName===e.stateName)return void(p.views[t]=e);p.views.push(e)},p._saveHistoryAndGoToState=function(e,t){if(p.isViewExists(e)){var n=l.last(p.viewStack);return(n&&"auth"===n.stateName||n&&"state2"===n.stateName&&"alreadyHasAccess"===e)&&p.viewStack.pop(),n&&n.stateName===e&&p.viewStack.pop(),e===p.startState&&(p.viewStack=[]),t&&t.term?o.checkoutStateChange(e,t.term):o.checkoutStateChange(e),p.viewStack.push({stateName:e,params:t}),i.go(e,{step:p.viewStack.length-1},{location:"replace",reload:!1})}u(r).terminal(s.trc("checkout.platform","Error. State {0} doesn't exist",e))},p.saveHistory=function(e,t){p.viewStack.push({stateName:e,params:t})},p.gotoState=function(e,t){return p._saveHistoryAndGoToState(e,t)},p._validateCurrentView=function(){util.log("[ViewService] validateCurrentView");for(var t=e.defer(),n=[],r=0;r<p.views.length;r++)p.views[r].stateName===i.current.name&&n.push(e.when(p.views[r]._isValid()));return e.all(n).then(function(e){var n=!0;angular.forEach(e,function(e){!1===e&&(util.log('[ViewService] view for state "'+i.current.name+'" is not valid'),n=!1)}),util.log("[ViewService] validateCurrentView result = ",n),n?t.resolve():t.reject()},function(){util.log("[ViewService] validateCurrentView has failed with rejection"),t.reject()}),t.promise},p.setStartState=function(e){p.startState=e,f.setCheckoutView(p.startState)},p.getActiveState=function(){for(var e=0;e<p.views.length;e++)if(p.views[e].active)return p.views[e].stateName;return null},p.getViews=function(){return p.views},p.isViewExists=function(e){var t=!1;return p.getViews().forEach(function(n){n.stateName===e&&(t=!0)}),t},p._validateViews=function(){util.log("[ViewService] validateViews");var t=e.defer(),n=[];return angular.forEach(p.views,function(t){t._isValid&&n.push(e.when(t._isValid()))}),e.all(n).then(function(e){var n=!0;angular.forEach(e,function(e){!1===e&&(util.log("[ViewService] view is not valid"),n=!1)}),util.log("[ViewService] validateViews result = ",n),n?t.resolve():t.reject()},function(){util.log("[ViewService] validateViews has failed with rejection"),t.reject()}),t.promise},p.gotoPaymentStateFromBankSecureState=function(){"confirmation"===p.getActiveState()?p.gotoPaymentState():p.gotoPreviousState()},p._gotoNextState=function(e){for(var t=-1,n=0;n<p.views.length;n++)p.steps[n]===i.current.name&&(t=n+1);t>0&&t<p.steps.length&&p._saveHistoryAndGoToState(p.steps[t],e)},p.gotoPreviousState=function(){if(p.viewStack.length>1){var e=p.viewStack.pop();"auth"!==e.stateName&&"state2"!==e.stateName||c.cleanSuccessLoginCallbacks();var t=p.viewStack[p.viewStack.length-1];o.checkoutStateChange(t.stateName),i.go(t.stateName,{step:p.viewStack.length-1},{location:"replace"})}},p.hasPreviousState=function(){return!1===p.disabled&&p.viewStack&&p.viewStack.length>1},p.gotoNextView=function(e){p.notify("Next button clicked"),p._validateCurrentView().then(function(){p._gotoNextState(e)})},p.notify=function(e){},p.isTermSelectorState=function(e){var t=!1;return angular.forEach(p.views,function(n){n.options.hasTermSelector&&n.stateName===e&&(t=!0)}),t},p.isPaymentFormState=function(e){var t=!1;return angular.forEach(p.views,function(n){n.options.hasPaymentForm&&n.stateName===e&&(t=!0)}),t},p.isPasswordlessFormState=function(e){var t=!1;return angular.forEach(p.views,function(n){n.options.hasPasswordlessLoginForm&&n.stateName===e&&(t=!0)}),t},p.gotoRedemptionState=function(e){m(e,"hasRedemptionForm",s.trc("checkout.platform","Not found redemption view"))},p.gotoSubscriptionReactivationState=function(e){var t=s.trc("checkout.platform","Not found subscription reactivation view");p.disable(!0),m(e,"hasReactivationForm",t)},p.gotoTermSelectorState=function(e){var t=null;if(angular.forEach(p.views,function(e){e.options.hasTermSelector&&(t=e)}),t)return p.gotoState(t.stateName,e),t.stateName;throw new Error(s.trc("checkout.platform","Not found term selector view"))},p.gotoPaymentState=function(e){var t=null;if(angular.forEach(p.views,function(e){e.options.hasPaymentForm&&(t=e)}),t)return p.gotoState(t.stateName,e),t.stateName;throw new Error(s.trc("checkout.platform","Not found term selector view"))},p.disable=function(e){p.disabled=!0,p.preventStateChange=!e},p.reset=function(){p.viewStack.length>=1&&(p.viewStack[0].stateName===p.startState?p.viewStack=[p.viewStack[0]]:p.viewStack=[])},p}]);var checkoutUpdates=angular.module("checkoutUpdatesModule",["checkoutModule"]);checkoutUpdates.factory("checkoutUpdatesService",["ngEventService","containerService","$q",function(e,t,n){var r={updateSelectedTerm:function(e){var t,n=e.getSelectedTerm();n&&(t=e._findTerm(n))&&(angular.forEach(e.config.terms,function(e){e.selected=!1}),t.selected=!0,angular.copy(t,e.flags.selectedTerm),t.isCustomPriceAvailable||e.input.chargeAmount!==e.flags.selectedTerm.chargeAmount||(e.input.chargeAmount=e.flags.selectedTerm.chargeAmount,e.input.chargeDisplayAmount=e.flags.selectedTerm.chargeDisplayAmount),e.input.chargeAmountInMinorUnit=e.flags.selectedTerm.chargeAmountInMinorUnit,e.input.chargeAmountAndTax=e.flags.selectedTerm.chargeAmount,e.input.chargeDisplayAmountAndTax=e.flags.selectedTerm.chargeDisplayAmount,e.input.chargeCurrency=e.flags.selectedTerm.chargeCurrency,e.input.canadianTaxes=e.canadianTaxes())},updatePaymentMethods:function(t,r){var i=r.flags.selectedTerm.isSubscription?r.flags.selectedTerm.subscriptionPaymentMethods:r.flags.selectedTerm.oneOffPaymentMethods;r.flags.selectedTerm.isZero&&!r.flags.selectedTerm.isSchedule&&(i=[{id:ZERO}]),i||(i=[]),util.log("[CHECKOUT] Selecting new payment methods list",i),angular.copy(i,r.input.paymentMethods),function(){if(!r.flags.applePayCanMakePayments){var e=[];angular.forEach(r.input.paymentMethods,function(t){"apple_pay"!==t.paymentTypeId&&e.push(t)}),angular.copy(e,r.input.paymentMethods)}}();var o,a=!t;if(r.input.paymentMethods&&1===r.input.paymentMethods.length&&void 0!==r.input.paymentMethods[0].id)o=r.selectPaymentMethod(r.input.paymentMethods[0],a);else if(r.flags.selectedPaymentMethod&&void 0!==r.flags.selectedPaymentMethod.id)o=r.selectPaymentMethod(r.flags.selectedPaymentMethod,a);else{var s,u=window.ApplePaySession;angular.forEach(r.input.paymentMethods,function(e){"apple_pay"===e.paymentTypeId&&(s=e)}),u&&s&&(o=r.selectPaymentMethod(s,!1))}return o?n.all([o]).then(function(){r.isZeroPayment()||e.fire(EVENT_CHECKOUT_PAYMENT_METHODS_CHANGED,r.input.paymentMethods)}):(r.isZeroPayment()||e.fire(EVENT_CHECKOUT_PAYMENT_METHODS_CHANGED,r.input.paymentMethods),n.when(!1))},updatePromoCode:function(){e.fire(EVENT_REAPPLY_PROMO_CODE)},updatePayWhatYouWant:function(){e.fire(EVENT_REAPPLY_PAY_WANT_YOU_WANT)},updatePreferredWith:function(e,n){t.setPreferredWidth(e),n.resize()}};return r}]);var metricModule=angular.module("performanceMetricsModule",["generalModule"]);metricModule.factory("performanceMetricsService",["$window","stateService","integrationEventsService","eventLogger","eventService","ngEventService",function(e,t,n,r,i,o){var a={},s={loadtime:200,rendering:{total:200,scripting:200}},u="EVENT_TP_PERFORMANCE_DATA",c=[{resourceRegExp:new RegExp("/checkout/offer/show"),label:"showOffer"},{resourceRegExp:new RegExp("/api/tinypass.min.js$"),label:"tinypassMinJS"},{resourceRegExp:new RegExp("/xbuilder/experience/execute"),label:"experienceExecute"}],l={};function d(e){var t=function(e){if(f(e))return{loadtime:"resource"===e.entryType?e.responseEnd-e.startTime:e.duration,dnsLookup:e.domainLookupEnd-e.domainLookupStart,tcp:e.connectEnd-e.connectStart,ttfb:e.responseStart-e.startTime,fetchStart:e.fetchStart,initiatorType:e.initiatorType,resource:e.name,responseEnd:e.responseEnd}}(e),n=function(e){var t=e.name,n=c.find(function(e){return t.match(e.resourceRegExp)});return n&&n.label}(e);t.loadtime<s.loadtime||(p("fetchStart",t.fetchStart,e.initiatorType,n),p("load",t.loadtime,e.initiatorType,n))}function f(e){return"script"===e.initiatorType||"iframe"===e.initiatorType}function p(e,t,n,r){var o;o={metricName:e,metricValue:t,metricType:n,metricLabel:r},i.emitMetricsEvent({hitType:"timing",timingCategory:o.metricType,timingVar:o.metricName,timingValue:Math.round(o.metricValue),timingLabel:o.metricLabel})}return o.subscribe(u,function(e,t){d(t.entry)}),window.performance&&"function"==typeof performance.getEntries&&performance.getEntries().forEach(function(e){!function(e){(function(e){return c.some(function(t){return e.name.match(t.resourceRegExp)})&&f(e)})(e)&&d(e)}(e)}),a.onViewRendered=function(e){var t,n;"offer"!==e||l.offer||(l[e]=Date.now(),t=l[e]-TPPerformance.documentParseStart,n=l[e]-TPPerformance.domContentLoaded,t>s.rendering.total&&p("rendering",t,"viewRendering","offerScreen:totalTime"),n>s.rendering.scripting&&p("rendering",n,"viewRendering","offerScreen:scripting"))},a}]),angular.element(document).ready(function(){window.TPInjector=angular.bootstrap(document.getElementById("ng-app"),["checkoutComponentsModule"],{strictDi:!0})});var EVENT_VIEW_ACTIVATED="EVENT_VIEW_ACTIVATED",EVENT_VIEW_CHANGED="EVENT_VIEW_CHANGED",EVENT_APPLY_REDEEM_CODE="EVENT_APPLY_REDEEM_CODE",EVENT_CHECKOUT_STARTED="EVENT_CHECKOUT_STARTED",EVENT_CHECKOUT_RELOADED="EVENT_CHECKOUT_RELOADED",EVENT_CHECKOUT_SUCCESS="EVENT_CHECKOUT_SUCCESS",EVENT_REAPPLY_PROMO_CODE="EVENT_REAPPLY_PROMO_CODE",EVENT_RESET_PROMO_CODE="EVENT_RESET_PROMO_CODE",EVENT_REAPPLY_PAY_WANT_YOU_WANT="EVENT_REAPPLY_PAY_WANT_YOU_WANT",REACTIVATE_SUB_QUERY_PARAM="reactivate_sub";window.angular=angular;var checkoutModule=angular.module("checkoutModule",["ui.router","ajaxServices","purchaseServiceModule","ngSanitize","generalModule","eventModule","errorModule","performanceMetricsModule","checkoutUpdatesModule","checkoutServiceModule","checkoutGoToModule","viewServiceModule","passwordlessModule","experianModule","billingConfigModule","userServiceModule","containerServiceModule","tpComponentsModule","tp.i18n","consentModule","authModule","swgModule","pianoIdProviderModule","creditRedemptionModule"]);checkoutModule.config(["$compileProvider","$qProvider","$stateProvider","$httpProvider",function(e,t,n,r){e.debugInfoEnabled&&e.debugInfoEnabled(!1),e.commentDirectivesEnabled&&e.commentDirectivesEnabled(!1),e.cssClassDirectivesEnabled&&e.cssClassDirectivesEnabled(!1),t.errorOnUnhandledRejections&&t.errorOnUnhandledRejections(!1),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|data|local|ftp|mailto|file|javascript|sms):/),r.interceptors.push(["$templateCache",function(e){return{request:function(t){return"GET"===t.method&&void 0===e.get(t.url)&&(t.url.indexOf("/widget/checkout/component")>=0||t.url.indexOf("/frontend/providers/components")>=0)&&(util.log("%c[CHECKOUT] Error: there is no template in $templateCache - ".concat(t.url),"color: red;"),e.put(t.url,"")),t}}}]),window.$stateProvider=n}]),checkoutModule.run(["interceptAjax",function(e){e.appendLoaderTo("checkout")}]),checkoutModule.factory("checkout",["$window","$rootScope","$state","$rootElement","eventService","purchaseService","$timeout","ngEventService","$q","viewService","$document","modalService","errorService","windowStateService","userService","containerService","tpHTTP","gaService","lang","checkConsents","configService","trackExternalEvent","utilsService","eventLogger","auth","statsService","swgService","setupTrackingId","performanceMetricsService","passwordlessService","externalVerificationService","billingConfig","checkoutService","checkoutUpdatesService","checkoutGoTo","captchaV3Service","pianoIdProvider","creditRedemptionService",function(e,t,n,r,i,o,a,s,u,c,l,d,f,p,h,m,g,v,y,w,C,b,E,$,S,T,k,x,P,A,M,D,O,_,N,I,R,L){angular.extend(t,window.PP_LIST);var H=null,V={name:"",details:[],startedAt:null,renewsOn:null,alreadyPurchased:null,canBeRenewed:null,canBeRenewedUsingExistedUPI:null,renewChargeAmount:null,renewChargeCurrency:null,renewChargeDisplayAmount:null,inRenewal:null},F={id:null,externalApiConfigurationId:null,externalApiFields:[],externalApiUserLocation:null},U={name:"CheckoutService"};U.$rootScope=t,U.rootElement=r,U.log=[],U.flags={},U.input={},U.internal={checkAccessAndGotoAlreadyPurchaseScreen:W};var j={oid:null,autoRenew:!0,chargeDisplayAmount:null,chargeAmount:null,chargeCurrency:"USD",originalChargeAmount:null,originalChargeCurrency:null,originalChargeDisplayAmount:null,promotionBillingPlan:null,isTermLockedByPromocode:!1,paymentMethods:[],receipt:{},user_data:{first_name:null,last_name:null},termId:null,offerId:null,zipCode:null,confirmated:{billingPlan:null,chargeAmount:null,taxAmount:null,total:null,taxRate:null,hstRate:null,hstAmount:null,qstRate:null,qstAmount:null,pstRate:null,pstAmount:null,gstRate:null,gstAmount:null},credit_card:{},paypalBt:{},applePayBt:{},consents:[],canadianTaxes:[],customFormTermId:null};U.setUpiId=function(e){var t=null===e&&null===U.input.upiId,n=U.input.upiId!==e;U.flags.isPaymentMethodChanged=t||n,U.input.upiId=e},U.getUpiId=function(){return U.input.upiId},angular.copy(j,U.input),U.termGate={},U.access={},angular.copy(V,U.access),U.flags.applePayCanMakePayments=!1,U.flags.selectedTerm={};var B={};function q(){return getQueryParamInStringByName(getParameterByName("url"),REACTIVATE_SUB_QUERY_PARAM)}function W(e){return e=e||U.getSelectedTerm(),O.getAccess(U,e).then(function(e){if(e.data.models.alreadyPurchased)if(m.isModal||m.isPopup)G(e.data);else{if(U.params.noNeedStartCheckoutAfterLogin)return void delete U.params.noNeedStartCheckoutAfterLogin;U._findTerm(e.data.models.sourceTermId)?U.startCheckout(e.data.models.sourceTermId):U.config.terms&&U.config.terms.length&&U.config.terms[0]&&U.config.terms[0].termId&&U.startCheckout(U.config.terms[0].termId)}return e.data.models.alreadyPurchased})}function z(){if(U.params.userToken=null,de({}),U.config.checkoutAuthenticationInSeparateState&&U.getSelectedTerm()&&U._unselectTerm(),U.resetAssociatedData(),U.config.isRedemption&&!U.params.startFromInlineCheckout&&c.isActive("redemption"))c.gotoState("redemption");else if((U.isPrintAddressPopulated()||"printAddress"===c.getActiveState())&&U.getSelectedTerm()){U.termGate.adrCollectionSucceeded=!1;let e=U.getSelectedTerm().termId;U._unselectTerm(),c.reset(),U.startCheckout(e)}else c.gotoState("offer")}function Y(){U.flags.isDiscounted=!1,U.input.originalChargeAmount=U.input.chargeAmount,U.input.originalChargeCurrency=U.input.chargeCurrency,U.input.originalChargeDisplayAmount=U.input.chargeDisplayAmount}function G(e,t,n){util.log("[CHECKOUT] already purchased",e);var r={alreadyPurchased:e.models.alreadyPurchased,name:e.models.name,details:e.models.details.split(";"),startedAt:e.models.startedAt,renewsOn:e.models.renewsOn,expiresOn:e.models.expiresOn,canBeRenewed:e.models.canBeRenewed,canBeRenewedUsingExistedUPI:e.models.canBeRenewedUsingExistedUPI,renewChargeAmount:e.models.renewChargeAmount,renewChargeCurrency:e.models.renewChargeCurrency,renewChargeDisplayAmount:e.models.renewChargeDisplayAmount,sourceTermId:e.models.sourceTermId,sourceTerm:e.models.sourceTerm,renewBillingCountryCode:e.models.renewBillingCountryCode,renewBillingZipCode:e.models.renewBillingZipCode,renewResidenceCountryCode:e.models.renewResidenceCountryCode,renewHasTax:e.models.renewHasTax};if(angular.copy(r,U.access),U._selectTerm(r.sourceTerm,!0),r.canBeRenewed&&(U.input.chargeAmount=r.renewChargeAmount,U.input.chargeCurrency=r.renewChargeCurrency,U.input.chargeDisplayAmount=r.renewChargeDisplayAmount,Y(),U.config.hasTax=r.renewHasTax),D.renewBillingCountryCode=r.renewBillingCountryCode,D.renewBillingZipCode=r.renewBillingZipCode,D.renewResidenceCountryCode=r.renewResidenceCountryCode,U.config.hasTax=r.renewHasTax,e.models.renewalBillingPlan&&(U.getSelectedTerm().billingPlanTable=e.models.renewalBillingPlan),e.models.nextPeriodBillingPlan&&(U.getSelectedTerm().nextPeriodBillingPlanTable=e.models.nextPeriodBillingPlan),e.models.renewalBillingPlanModel){var o=U.getSelectedTerm();angular.forEach(e.models.renewalBillingPlanModel,function(e,t){o[t]=e})}e.models.renewalOriginalBillingPlanModel&&(U._findTerm(U.getSelectedTerm()).originalBillingPlan=e.models.renewalOriginalBillingPlanModel),s.fire(EVENT_USER_ACCESS_CHANGED),function(e){var t,n=U.getSelectedTerm();if(n&&n.resource)t=n.resource.rid;else if(e.models.sourceTermId){var r=U._findTerm(e.models.sourceTermId);r&&r.resource&&(t=r.resource.rid)}i.alreadyPurchasedEvent({rid:t})}(e),n||N.gotoAlreadyHasAccess(U)}angular.copy(B,U.flags.selectedTerm),U.flags.isRenewNow=!1,U.flags.selectedPaymentMethod=null,U.flags.termComplete=!1,U.flags.paymentComplete=!1,U.flags.termSelectorActivated=!1,U.flags.receiptActivated=!1,U.flags.hasLoginRequiredCallback=!1,U.flags.autoCompleteRegistrationTerm=!0,U.flags.needUpdateUserResources=!1,U.flags.isPaymentMethodChanged=!0,U.flags.affiliateState={},U.flags.isCaptchaV3Enabled=!1,U.config={terms:[{}],originalTerms:[{}],additionalTerms:[{}],userResources:[{}]},U.GAProccesses=0,U.params={},U.redemptionLoginRequiredParams={state:null,form:{redeemCode:null}},U.closeButtonTypes={default:"default",boilerplate:"boilerplate"},U.SYSTEM_ERROR_CODES={100:y.trc("checkout.platform","Please try again later"),101:y.trc("checkout.platform","Your payment is being processed. Try to refresh the page in 30 seconds")},U.init=function(e,t){var n,r,o;c.setStartState((n="true"===getParameterByName("isCheckout"),r=void 0===getParameterByName("termId"),o=getParameterByName("offerState"),U.params.reactivateSubscriptionId=q(),n&&r&&!o&&!U.params.reactivateSubscriptionId?"state1":"offer")),I.getCaptchaV3Enabled&&I.getCaptchaV3Enabled();var u=t.preferredWidth||450;U.flags.hasLoginRequiredCallback="true"===getParameterByName("hasLoginRequiredCallback"),U.initConfig(),angular.copy(j,U.input);var l=getParameterByName("gaAccount"),d=getParameterByName("gaClientId");l&&d&&me(l,d),U.params.rurl_3ds&&window.TPParam.FULL_REDIRECT_3DS_ENABLED&&(U.input.rurl_3ds=U.params.rurl_3ds,c.setStartState("continueThreeDSPurchase"),O.restoreCheckoutObjects(U.params.oid).then(function(e){U.flags.selectedTerm=e.models.currentTerm,U.flags.selectedPaymentMethod=e.models.paymentMethod})),U.params.oid&&(U.input.oid=U.params.oid),U.params.promoCode&&(U.input.promoCode=U.params.promoCode),U.params.promoCodeId&&(U.input.promoCodeId=U.params.promoCodeId),U.params.promoCodeTermId&&(U.input.promoCodeTermId=U.params.promoCodeTermId),t.affiliateState&&(U.flags.affiliateState=t.affiliateState,L.setAffiliateState&&L.setAffiliateState(t.affiliateState)),this.config.isRedemption&&c.setStartState("redemption"),U.params.reactivateSubscriptionId=q();var p=getQueryParamInStringByName(getParameterByName("url"),"shared_account_code");p||(p=U.params.shared_account_code||U.params.sharedAccountCode),p&&(U.params.shared_account_code=p,c.setStartState("redeemSharedSubscription")),"true"===getParameterByName("isAuth")&&(c.setStartState("auth"),S.currentState.name=getParameterByName("authStartScreen")||"login");var g=angular.element("#checkout-container");m.init({preferredWidth:u},function(){return{container:g}}),h.init(function(){return{app:U.config.app,user:U.config.user,stats:T.getPageView(),fillLoginIframeParams:function(e){e.offerId=U.config.offerId,e.templateId=U.config.offerTemplateId,e.templateVariantId=U.config.offerTemplateVariantId,e.gaClientId=U.params.gaClientId,e.email=U.config.sharedAccountEmail},fillLoginRequiredParamsToGoogleAnalytics:function(e){e.offerId=U.config.offerId,e.templateId=U.config.offerTemplateId,e.templateVariantId=U.config.offerTemplateVariantId},fillLoginRequiredEventParams:function(e){e.term=U._findTerm(U.params.termId||H),e.isRedemption=U.params.isRedemption,e.termId=H,e.currentState=c.getActiveState(),e.affiliateState=L.affiliateState,e.redemption={},angular.copy(U.redemptionLoginRequiredParams,e.redemption),U.params.shared_account_code&&(e.sharedAccountCode=U.params.shared_account_code),U.params.reactivateSubscriptionId&&(e.reactivateSubscriptionId=U.params.reactivateSubscriptionId)},fillLoginSuccessEventParams:function(e){e.termId=H}}});var v={aid:U.getAid(),pianoIdUrl:U.params.pianoIdUrl||"https://id.tinypass.com/id/",checkout:1,getDoubleOptInParams:function(){return U.getDoubleOptInParams()},customFormParams:U.getCustomFormParams,passwordlessEmailSentHandler:function(e){A.saveCheckoutParams(U,e)},isPasswordlessCheckoutEnabled:U.isPasswordlessCheckoutEnabled,isPreventPasswordlessLogin:U.isPreventPasswordlessLogin,isSingleStepEnabled:U.isSingleStepEnabled,getAffiliateIssuerId:function(){},userLoginEmail:function(){return U.config.userLoginEmail},passwordlessSetPaymentEmail:function(){A.setPaymentEmail(U)},isSentLoginEmail:function(){return U.config.isSentLoginEmail},isSingleStepFormShown:function(e){return U.isSingleStepEnabled()&&"auth"!==e.stateName},userToken:U.params.userToken,widgetSpecificCheckIfVisible:function(){return!!U.getCustomFormParams().formName&&U.isPaymentMethodRequired()&&(U.canSelectPaymentMethod()||U.isPaymentMethodSelected())},getPageView:T.getPageView};function w(){"true"===getParameterByName("reloadAfterLogin")&&W()}R.init(v),h.onLoginSuccess(function(e){U.params.userToken=e.user_token,de(e.user),function(){if(!U.isAutoCompleteRegistrationTerm())return!1;!U.isTermSelected()&&U.config.terms&&1===U.config.terms.length&&"registration"===U.config.terms[0].type&&(e=U.config.terms[0],U.reload({}).then(function(){if(U.isUserValid()&&h.isUserConfirmed()){var t=U._findTerm(e);return U.selectTerm(t)}return!1}));var e}()},!1),TPParam.error?f().terminal(TPParam.error):(TPParam.config&&TPParam.config.consoleError&&util.log("%c[CHECKOUT] Error: ".concat(TPParam.config.consoleError),"color: red;"),util.log("[CHECKOUT] Startup params",this.params),util.log("[CHECKOUT] Startup config",this.config),U.input.user_data.first_name=U.config.user.firstName,U.input.user_data.last_name=U.config.user.lastName,"true"===getParameterByName("allowReturnToStartState")&&c.saveHistory(c.startState),U.params.voucherCode&&s.fire(EVENT_APPLY_REDEEM_CODE,{}),t.isReload||(s.fire(EVENT_CHECKOUT_STARTED),U.params.termId?a(function(){var e=U._findTerm(U.params.termId);e&&e.newCustomersOnly&&!U.isNewCustomer()?f().terminal(y.trc("term.name",e.name)+" "+y.trc("checkout.platform","is restricted for new customers only")+" "):(c.setStartState("state1"),U.startCheckout(U.params.termId),w())},0):"offer"===c.startState?a(function(){U.startShowOffer(),w()},0):"redemption"===c.startState?a(function(){i.startCheckoutEvent(U.params),U.startRedemption()},0):"redeemSharedSubscription"===c.startState?a(function(){i.startCheckoutEvent(U.params),N.gotoRedeemSharedSubscriptionState()},0):"auth"===c.startState?a(function(){N.gotoAuthState(U,null,function(){U.close()},!0)},0):"continueThreeDSPurchase"===c.startState?a(function(){i.startCheckoutEvent(U.params),N.gotoContinueThreeDSPurchaseState()},0):a(function(){N.gotoCheckoutStart(U),w()},0)),T.getParams().then(function(e){x(e.trackingId),s.fire("updatePianoIdAuthIframeUrl")}))},U.initConfig=function(){if(window.TPParam&&window.TPParam.config&&angular.copy(window.TPParam.config,U.config),window.TPParam&&window.TPParam.params&&angular.copy(window.TPParam.params,U.params),U.params.userToken&&h.isPianoIdUserProvider()){var e=E.jwtDecode(U.params.userToken);U.config.user.login_timestamp=e.login_timestamp,U.config.user.token_expiration=1e3*(e.exp-e.iat)}angular.copy(U.config.consents,j.consents)},U.isUserValid=function(){return h.isUserValid()},U.isNewCustomer=function(){return U.config.isNewCustomer},U.isExternalCheckoutAvailable=function(e){return!!k.isAvailableForTerm&&k.isAvailableForTerm(e)},U.isTermAllowedToSelect=function(e){return!U.isTermRestrictedForNewCustomers(e,U.isNewCustomer())&&!U.hasAccess(U,e.resource.rid)},U.isTermRestrictedForNewCustomers=function(e,t){var n=e.newCustomersOnly&&!t;return n&&f(U.$rootScope).global(y.trc("term.name",e.name)+" "+y.trc("checkout.platform","is restricted for new customers only")+" "),n},U.isSelectedTermLocked=function(){return U.flags&&U.flags.selectedTerm&&U.input&&U.input.isTermLockedByPromocode&&!U.input.validUnlockPromoCode&&!U.access.alreadyPurchased},U.isPaymentMethodRequired=function(){return U.getSelectedTerm().isPaymentMethodRequired},U.isRequirePrintAddress=function(){var e=U.isGiftTerm(U._findTerm(U.input.termId));return U.termGate.adrCollectionEnabled&&!U.termGate.adrCollectionSucceeded&&!e},U.isZeroPayment=function(){return U.flags&&U.flags.selectedPaymentMethod&&U.flags.selectedPaymentMethod.id===ZERO},U.isTermSelected=function(){return U.flags.selectedTerm&&U.flags.selectedTerm.selected},U.isPaymentMethod=function(e){return U.isPaymentMethodSelected()&&U.flags.selectedPaymentMethod.id===e&&!U.isMockUsed()},U.isPaymentMethodSelected=function(){return null!=U.flags.selectedPaymentMethod},U.WORLDPAY_PP_LIST=[window.WORLDPAY_PAYPAL,window.WORLDPAY_IDEAL,window.WORLDPAY_ELV],U.isSupportedWorldpayCcMethod=function(){return U.WORLDPAY_PP_LIST.findIndex(function(e){return U.isPaymentMethod(e)})>=0},U.SPREEDLY_PP_LIST=[window.SPREEDLY_CC,window.SPREEDLY_STRIPE_CC,window.SPREEDLY_BEANSTREAM,window.SPREEDLY_PAYU_LATAM,window.SPREEDLY_OPENPAY],U.isSupportedSpreedlyCcMethod=function(){return U.SPREEDLY_PP_LIST.findIndex(function(e){return U.isPaymentMethod(e)})>=0},U.isPayWhatYouWantTerm=function(){return U.flags.selectedTerm.billingPlanTable&&1===U.flags.selectedTerm.billingPlanTable.length&&"true"===U.flags.selectedTerm.billingPlanTable[0].isPayWhatYouWant},U.isPaymentTerm=function(e){return e&&"payment"===e.type},U.isExternalTerm=function(e){return e&&"external"===e.type},U.isGiftTerm=function(e){return e&&"gift"===e.type},U.isPayableTerm=function(e){return U.isPaymentTerm(e)||U.isGiftTerm(e)},U.isChargingTerm=function(e){return e&&!e.isZero&&!e.hasFreeTrial&&U.isPayableTerm(e)},U.isRegistrationTerm=function(e){return e&&"registration"===e.type},U.isSelectedTermAutoRenewChoiceAvailable=function(){return U.flags.selectedTerm.isSubscription&&!U.flags.selectedTerm.forceAutoRenew&&(U.access&&!U.access.alreadyPurchased||!U.access)&&"gift"!==U.flags.selectedTerm.type},U.isConfirmStepEnabled=function(){return U.config.isConfirmStepEnabled&&(U.hasTax()||U.isTaxCnbcEnabled())},U.isDoubleOptInEnabled=function(){return U.config.isDoubleOptInEnabled},U.passwordlessServiceLogin=function(){if(!U.isUserValid()&&A.loginUser)return A.loginUser(U);var e=u.defer();return e.resolve(),e.promise},U.isPasswordlessCheckoutEnabled=function(){return U.config.isPasswordlessCheckoutEnabled},U.isPreventPasswordlessLogin=function(){return U.config.preventPasswordlessLogin},U.isPrintAddressPopulated=function(){return U.termGate&&U.termGate.adrCollectionEnabled&&U.termGate.adrCollectionSucceeded},U.isSingleStepEnabled=function(){return U.config.isSingleStepEnabled&&U.isPasswordlessCheckoutEnabled()},U.isPromoCodeApplyWithoutUserEnabled=function(){return U.config.isPromoCodeApplyWithoutUserEnabled},U.isPasswordlessCheckoutEnabledAndUserInvalid=function(){return U.config.isPasswordlessCheckoutEnabled&&!U.isUserValid()},U.isAutoEmailDetectionEnabled=function(){return U.config.isAutoDetectEmailEnabled},U.isMockUsed=function(){return U.config&&U.config.useMock},U.isPreviewMod=function(){return U.params&&U.params.preview&&(!0===U.params.preview||"true"===U.params.preview)},U.isPromoCodeAvailable=function(e){var t=e||U.getSelectedTerm();return!t.isCustomPriceAvailable&&t.allowPromoCodes&&!U.input.validUnlockPromoCode&&(U.access||U.access&&!U.access.alreadyPurchased)},U.isSameResidence=function(){return D.sameResidence},U.isTaxEnabled=function(){return!(!U.config.taxSupports||!U.config.taxSupports.length)},U.isTaxCnbcEnabled=function(){return E.contains(U.config.taxSupports,"tax.cnbc")},U.isVatEuEnabled=function(){var e=E.contains(U.config.taxSupports,"vat.eu")||E.contains(U.config.taxSupports,"avalara.vat.eu");return e&&U.config.taxSupports.length>1?"vat.eu"===D.countryTaxSupport||"avalara.vat.eu"===D.countryTaxSupport:e},U.isBillingCountryEnabled=function(){return U.isVatMXEnabled()||U.isVatAUEnabled()||U.isVatNOEnabled()||U.isVatJPEnabled()||U.isVatChEnabled()||U.isVatCanadaEnabled()||U.isVatEuEnabled()||U.isTaxUsEnabled()||U.isCustomVatEnabled()},U.isEuBillingCountryLabel=function(){return D.needResidence},U.isUsBillingCountry=function(){return!1===D.needResidence},U.isUsBillingCountryLabel=function(){return!D.needResidence},U.getBillingAddressEnabled=function(){return U.input.billingAddressEnabled},U.getConfigForBillingAddress=function(){return{billingLabel:y.trc("checkout.platform","Your billing address"),billingConfig:D,billingRegions:U.input.billingAddressesRegions,onZipChanged:U.reload,dontBlockFieldsOnPrefilled:!0,checkFields:!0}},U.isVatMXEnabled=function(){return(E.contains(U.config.taxSupports,"vat.mx")||E.contains(U.config.taxSupports,"avalara.vat.mx"))&&!U.isVatEuEnabled()},U.isVatAUEnabled=function(){return(E.contains(U.config.taxSupports,"vat.au")||E.contains(U.config.taxSupports,"avalara.vat.au"))&&!U.isVatEuEnabled()},U.isVatNOEnabled=function(){return(E.contains(U.config.taxSupports,"vat.no")||E.contains(U.config.taxSupports,"avalara.vat.no"))&&!U.isVatEuEnabled()},U.isVatJPEnabled=function(){return(E.contains(U.config.taxSupports,"vat.jp")||E.contains(U.config.taxSupports,"avalara.vat.jp"))&&!U.isVatEuEnabled()},U.isVatChEnabled=function(){return(E.contains(U.config.taxSupports,"vat.ch")||E.contains(U.config.taxSupports,"avalara.vat.ch"))&&!U.isVatEuEnabled()},U.isCustomVatEnabled=function(){return(E.contains(U.config.taxSupports,"custom.vat")||E.contains(U.config.taxSupports,"avalara.custom.vat"))&&!U.isVatEuEnabled()},U.isVatCanadaEnabled=function(){return(E.contains(U.config.taxSupports,"vat.canada")||E.contains(U.config.taxSupports,"avalara.vat.canada"))&&!U.isVatEuEnabled()},U.isTaxUsEnabled=function(){return(E.contains(U.config.taxSupports,"tax.us")||E.contains(U.config.taxSupports,"avalara.tax.us")||E.contains(U.config.taxSupports,"onesource.tax.us"))&&!U.isVatEuEnabled()},U.isAvalaraTaxEnabled=function(){return E.contains(U.config.taxSupports,"avalara.tax.us")||E.contains(U.config.taxSupports,"avalara.vat.canada")},U.isBillingAddressAvailableForSelectedCountry=function(){return-1!==D.billingAddressCountries.indexOf(D.countryCode)},U.isOneSourceTaxEnabled=function(){return E.contains(U.config.taxSupports,"onesource.tax.us")},U.isUsSelected=function(){return"US"===D.countryCode},U.isCanadaSelected=function(){return"CA"===D.countryCode},U.isVatColumnVisible=function(){return U.hasTax()&&D.taxIncludeBilling&&D.showVAT},U.isVatColumnAvailable=function(){return U.hasTax()&&D.taxIncludeBilling},U.isTaxColumnVisible=function(){return U.hasTax()&&!D.taxIncludeBilling},U.applyTax=function(e,t,n){var r=u.defer();return function(e){D.updateByCountryCode(U,e.countryCode),e.residenceCountryCode=D.needResidence?e.countryCode:null,U.input.zipCode=e.zipCode;var t={billingCountryCode:e.countryCode,residenceCountryCode:e.residenceCountryCode,residenceZipCode:e.zipCode,billingZipCode:e.billingZipCode};D.updateFromTaxRequest(U,t)}(t),g({method:"post",url:TPParam.APPLY_TAX_ACTION,params:{aid:U.getAid(),oid:U.input.oid,countryCode:U.getBillingCountryCode(),zipCode:U.getBillingZipCode(),billingZipCode:U.getBillingZipCode(),residenceCountryCode:U.getResidenceCountryCode()}}).then(function(){!n&&i.postMessage("applyTaxCompleted",t),r.resolve(t)}).catch(function(t){!n&&i.postMessage("applyTaxFailed"),re(e,t.errors),r.reject()}),r.promise},U.isAutoCompleteRegistrationTerm=function(){return U.flags.autoCompleteRegistrationTerm},U.isShowBoilerplateCloseButton=function(){var e=C.get().closeButtonType,t="false"!==getParameterByName("showCloseButton"),n=e===U.closeButtonTypes.boilerplate;return t&&n},U.hasExternalVerificationGate=function(){return U.termGate.externalApiConfigurationId&&"accepted"!==U.termGate.externalVerificationStatus},U.hasAccess=function(e){return U.flags.needUpdateUserResources&&(U.flags.needUpdateUserResources=!1,O.getUserResource(U).then(function(e){angular.copy(e.data.models.userResources,U.config.userResources)})),U.config.userResources.indexOf(e)>-1},U.hasResources=function(e){if(!e)return!1;if(!U.flags.selectedTerm||!U.flags.selectedTerm.resource||!U.flags.selectedTerm.resource.rid)return!1;var t=[];return"string"==typeof e&&(t=e.indexOf(",")>=0?e.replace(/\s/gm,"").split(","):[e]),Array.isArray(e)&&(t=e.slice(0)),t.some(function(e){return e===U.flags.selectedTerm.resource.rid})},U.hasMultiplePaymentMethods=function(){return U.input.paymentMethods&&U.input.paymentMethods.length>1},U.hasTax=function(){return U.config.hasTax},U.hasOnlyOneTerm=function(){return U.config.terms&&1===U.config.terms.length},U.reloadIfNeed=function(){fe.apply(U,arguments)},U.getGeoCountryCode=function(){return window.TPParam.GEO_COUNTRY_CODE},U.getCustomFormParams=function(){var e,t={},n=window.TPParam.params.formNameByTermId;if(n){var r=JSON.parse(n),i=U.input.customFormTermId;i&&(e=r[i])}return e&&(t.formName=e,t.hideCompletedFields=window.TPParam.params.hideCompletedFields||!1),t.trackingId=window.TPParam.params.trackingId,t},U.mergeStats=function(e){e&&e.models&&e.models.checkoutStats&&T.mergeStats(e.models.checkoutStats)},U.resize=function(){m.resize()},U.getPreferredWidth=function(){return m.getPreferredWidth()},U.allowTinypassAccountsLogin=function(){return h.allowTinypassAccountsLogin()},U.allowLogout=function(){return!U.isUpgradeOffer()&&("receipt"!==c.getActiveState()&&h.allowLogout())},U.allowTinypassAccountsLogout=function(){return"receipt"!==c.getActiveState()&&h.allowTinypassAccountsLogout()},U.logout=function(){h.logout(),z()},U.resetAssociatedData=function(){s.fire(EVENT_RESET_PROMO_CODE)},U.sendGoogleAnalyticsEvent=function(e){e&&e.params&&(e.params.aid=U.getAid()),v.sendGoogleAnalyticsEvent(e)},U.register=function(){return U.login("register")},U.login=function(e){return function(){if(h.isCondeUserProvider()){var t=e||"login";if(m.isModal){var n=u.defer();return S.currentState.name=t,N.gotoAuthState(U,null,function(){"auth"===c.getActiveState()&&c.gotoPreviousState(),n.resolve()},!0),n.promise}var r={};return angular.copy(U.params,r),r.isAuth=!0,r.authStartScreen=t,i.startCheckoutEvent(r),u.reject()}return h.login(e).then(function(e){var t=e.user;return fe(!0,!1,t)})}().then(W)},U.startRedemption=function(){function e(e){e?c.gotoRedemptionState():i.startCheckoutEvent(U.params)}U.flags.inStartCheckoutFlow=!0,U.params.isRedemption=!0,U.params.startFromInlineCheckout=!1,m.isModal||m.isPopup?(i.startCheckoutEvent(U.params),e(!0)):(U.params.termId=null,U.params.startFromInlineCheckout=!0,e(!1)),U.flags.inStartCheckoutFlow=!1},U.gotoRedemptionState=function(){c.gotoRedemptionState()},U.startSubscriptionReactivation=function(){U.params.termId=null,U.params.startFromInlineCheckout=m.isInline,U.params.startFromInlineCheckout?i.startCheckoutEvent(U.params):c.gotoSubscriptionReactivationState()},U.startExternalCheckout=function(e){k.startCheckout(e).then(function(){U.sendGoogleAnalyticsEvent({eventAction:"externalReceiptDisplayed",eventLabel:"External receipt displayed",params:{offerId:U.config.offerId,templateId:U.config.offerTemplateId,templateVariantId:U.config.offerTemplateVariantId}})})},U.addTermTypeToParams=function(e,t){var n=U._findTerm(t);return n?Object.assign({},e,{type:n.type}):e},U.getExternalCheckoutConfig=function(){return k.getUiConfig?k.getUiConfig():{}},U.startCheckout=function(e){var t=e&&"object"==typeof e?e.termId:e;if(H=t,U.canCheckout()||U.isPasswordlessCheckoutEnabled()){if(U.notify("[CHECKOUT] Starting checkout with termId:"+t),T.mergeStats({promo_code:"",promotion_id:"",promo_state:0}),U.input.promotionBillingPlan=null,t&&(U.params.termId=t),U.input.oid&&(U.params.oid=U.input.oid),U.input.promoCodeId&&(U.params.promoCodeId=U.input.promoCodeId),U.input.promoCodeTermId&&(U.params.promoCodeTermId=U.input.promoCodeTermId),U.flags.affiliateState&&(U.params.affiliateState=U.flags.affiliateState),i.startCheckoutEvent(U.addTermTypeToParams(U.params,e)),!m.isInline)if(t){var n=U._findTerm(t);n&&U.selectTerm(n)}else N.gotoCheckoutStart(U)}else h.loginSuccessPosted()||h.login("register").then(function(e){return fe(!0,!1,e.user)}).then(function(){h.isPublisherUserRefProvider()||U.startCheckout(t)})},U.allowRedemption=function(){return U.config.redemptionEnabled},U.systemError=function(e){i.systemErrorEvent({message:e})},U.notify=function(e,t){util.log.apply(console,arguments)},U.canCheckout=function(){return!(U.config.settings.requiresValidUser&&!1===U.isUserValid()&&!U.canInitCheckoutWithAnon())||U.isPasswordlessCheckoutEnabled()},U.onAlreadyPurchased=G,U.preselectTermId=function(e){U.flags.preselectedTermId=e},U.startCheckoutWithPreselectedTerm=function(){if(f(U.$rootScope).reset(),U.flags.preselectedTermId)return U.startCheckout(U.flags.preselectedTermId);f(U.$rootScope).global(y.trc("checkout.platform","Please select a plan before continuing"))},U.selectTerm=function(e,t,n,r,a){if("inline"===window.TPParam.params.displayMode)return U.startCheckout(e),u.reject();var s=t;if(s||(s=U.params.offerId),"string"==typeof e&&!(e=U._findTerm(e)))return f(U.$rootScope).reset(),f(U.$rootScope).global(y.trc("checkout.platform","Term not found")),U.enabledCheckout(),u.reject();if(e.termId===U.input.termId&&!a)return U.enabledCheckout(),u.reject();if(!U.canCheckout())return U.enabledCheckout(),u.reject();var l=e;return f(U.$rootScope).reset(),U.isTermRestrictedForNewCustomers(l,U.isNewCustomer())?(U.enabledCheckout(),u.reject()):l.restrictCheckoutProcess?(l.sellDate?f(U.$rootScope).global(y.trc("term.name",l.name)+" "+y.trc("checkout.platform","sales start on")+" "+l.sellDate):l.hasFinishedSales?f(U.$rootScope).global(y.trc("term.name",l.name)+" "+y.trc("checkout.platform","sales of the old season has finished and the sales of new season have not started yet")):f(U.$rootScope).global(y.trc("term.name",l.name)+" "+y.trc("checkout.platform","sales have not started yet")),U.enabledCheckout(),u.reject()):(U.input.termId=e.termId,U.input.offerId=s,U.input.customFormTermId=e.termId,angular.copy(V,U.access),p().then(function(t){if((U.isRequirePrintAddress()||"registration"===l.type||U.isPasswordlessCheckoutEnabled()&&!U.isSingleStepEnabled()||!U.isPasswordlessCheckoutEnabled()&&U.config.checkoutAuthenticationInSeparateState)&&!U.isUserValid()||h.isUserReadOnly()){var n=u.defer();return N.gotoAuthState(U,function(){H=e.termId,U.input.customFormTermId=e.termId},function(){h.isUserValid()&&!h.isUserConfirmed()?n.reject():n.resolve(t)},!0),n.promise}return u.when(t)}).then(function(){var e=u.defer();return W(l).then(function(t){t?e.reject():e.resolve()}),e.promise}).then(function(e){d(e)}));function d(t,a){t&&t.models.alreadyPurchased&&!U.isUpgradeOffer()?G(t,l.termId,r):a||(h.isUserValid()&&!h.isUserConfirmed()?c.gotoState("user-non-confirmed"):(U._selectTerm(e,n,r),i.postMessage("selectTerm",{alreadyPurchased:U.access.alreadyPurchased}),"registration"===e.type?o.purchaseStarting(U,e):N.gotoNextState(U,o,r)))}function p(){return U.disableCheckout(),o.createOrder(U,e.termId,s,U.params.templateId).then(function(e){if(util.log("[CHECKOUT] order created",e),U.input.oid=e.models.oid,U.input.billingAddressEnabled=e.models.billingAddressEnabled,U.input.cyberSourceCollectCardholderName=e.models.cyberSourceCollectCardholderName,U.input.sharedAccountCount=e.models.sourceTerm?e.models.sourceTerm.sharedAccountCount:0,U.input.isTermLockedByPromocode=e.models.isTermLockedByPromocode,angular.copy(V,U.access),angular.copy(F,U.termGate),angular.copy(e.models.user,U.config.user),U.input.billingAddressEnabled&&(D.zipCode="",D.geoZipCode="",D.billingAddressFields=e.models.billingAddressFields||{},D.billingAddressCountries=Object.keys(D.billingAddressFields),O.getTaxRegions(U.params).then(function(e){U.input.billingAddressesRegions=e.models.countries,U.isAvalaraTaxEnabled()&&(U.input.billingAddressConfig=U.getConfigForBillingAddress())})),U.params.userToken&&h.isPianoIdUserProvider()){var t=E.jwtDecode(U.params.userToken);U.config.user.login_timestamp=t.login_timestamp,U.config.user.token_expiration=1e3*(t.exp-t.iat)}var n={id:e.models.termGateId,externalApiTitle:e.models.externalApiTitle,externalApiApplyButtonName:e.models.externalApiApplyButtonName,externalApiVerifyNew:e.models.externalApiVerifyNew,externalApiConfigurationId:e.models.externalApiConfigurationId,externalApiFields:e.models.externalApiFields,externalVerificationStatus:e.models.externalVerificationStatus,externalVerificationConversionId:e.models.externalVerificationConversionId,externalApiSource:e.models.externalApiSource,externalApiFieldCountry:e.models.externalApiFieldCountry,externalApiSavedForms:e.models.externalApiSavedForms,externalApiPrepopulationForm:e.models.externalApiPrepopulationForm,adrCollectionAvailableAddresses:e.models.adrCollectionAvailableAddresses,adrCollectionCountries:e.models.adrCollectionCountries,adrCollectionEnabled:e.models.adrCollectionEnabled,adrDefaultCountry:e.models.adrDefaultCountry,adrPrepopulationForm:e.models.adrPrepopulationForm};return n.externalApiFields&&n.externalApiFields.length&&angular.forEach(n.externalApiFields,function(e){e.value=e.defaultValue}),angular.copy(n,U.termGate),U.flags.isDiscounted=!1,u.when(e)}).catch(function(e){var t;return"object"==typeof e&&(e.errors&&e.errors.length?t=e.errors[0].message||e.errors[0].msg:e.message&&(t=e.message)),t?getParameterByName("termId")?f().terminal(y.trc("service.error.codes",t)):f(U.$rootScope).global(y.trc("service.error.codes",t)):f().terminal(y.trc("checkout.platform","Create order failed")),U._unselectTerm(),u.reject(e)}).finally(function(){U.enabledCheckout()})}},U.checkoutWithNewTerm=function(e,t){U.selectTerm(e,t,!0,!1),"gift"===e.type?N.gotoGiftParams(U):N.gotoPaymentState(U,o,e,t)},U.getWidthTerm=function(){return m.getNewWidth()},U.softResetDiscount=function(){return!0===U.flags.isDiscounted?(U.resetDiscount(),_.updatePaymentMethods(!0,U)):u.when(!1)},U.resetDiscount=function(){if(U.flags.isDiscounted=!1,U.input.promoCodeId=null,U.input.promoCodeTermId=null,U.input.promoCode=null,U.input.originalChargeAmount&&(U.input.chargeAmount=U.input.originalChargeAmount,U.input.chargeCurrency=U.input.originalChargeCurrency,U.input.chargeDisplayAmount=U.input.originalChargeDisplayAmount,U.input.promotionBillingPlan=null,delete U.input.originalChargeAmount,delete U.input.originalChargeCurrency,delete U.input.originalChargeDisplayAmount),angular.forEach(this.config.terms,function(e){e.originalBillingPlan&&(angular.forEach(e.originalBillingPlan,function(t,n){e[n]=t}),delete e.originalBillingPlan)}),_.updateSelectedTerm(U),U.isZeroPayment()){var e=null;U.input.paymentMethods&&1==U.input.paymentMethods.length&&(e=U.input.paymentMethods[0]),U.flags.selectedPaymentMethod=e}return s.fire(EVENT_CHECKOUT_PRICE_CHANGED,{origin:"resetDiscount"}),u.when(!1)},U.getAid=function(){return U.params.aid},U.getDoubleOptInParams=function(){return T.getStats().then(function(e){var t={};return angular.copy(U.params,t),U.getLoginTermId()&&(t.termId=U.getLoginTermId()),U.input.oid&&(t.oid=U.input.oid),M.passwordlessEVFields&&(t.externalVerificationFields=M.passwordlessEVFields),{tbc:e.initStatParams.tbc,pageViewId:e.initStatParams.pageViewId,params:t}})},U.discountSelectedTerm=function(e,t,n,r,i,o){util.log("[CHECKOUT] Discounting selected with:",e,t,n),Y(),U.flags.isDiscounted=!0,U.input.chargeAmount=e,U.input.chargeCurrency=t,U.input.chargeDisplayAmount=n,U.input.promotionBillingPlan=r,U.input.promoCodeId=i,U.input.promoCodeTermId=o},U._selectTerm=function(e,t,n){var r;if(t&&e?(r=e,this.config.terms.push(e)):r=U._findTerm(e),r){if(util.log("[CHECKOUT] Selecting term",r),angular.forEach(this.config.terms,function(e){e.selected=!1}),r.selected=!0,angular.copy(r,U.flags.selectedTerm),U.input.chargeAmount=U.flags.selectedTerm.chargeAmount,U.input.chargeCurrency=U.flags.selectedTerm.chargeCurrency,U.input.chargeDisplayAmount=U.flags.selectedTerm.chargeDisplayAmount,U.input.canadianTaxes=U.canadianTaxes(),U.input.customFormTermId=U.flags.selectedTerm.termId,U.params.termId=U.flags.selectedTerm.termId,n)return;angular.copy({},U.flags.selectedPaymentMethod),s.fire(EVENT_CHECKOUT_TERM_SELECTED,r);var o={termName:r.name,termId:r.termId,resourceName:r.resource.name,resourceId:r.resource.rid};i.customEvent("checkoutSelectTerm",o),U.sendGoogleAnalyticsEvent({eventAction:"termSelected",eventLabel:"Term selected",params:{offerId:U.config.offerId,templateId:U.config.offerTemplateId,templateVariantId:U.config.offerTemplateVariantId,termId:r.termId}})}else util.log("Did not find existing term for",e)},U._unselectTerm=function(){angular.forEach(this.config.terms,function(e){e.selected=!1});U.flags.selectedTerm;var e=U.input.zipCode,t=U.input.promoCode;angular.copy(j,U.input),angular.copy(B,U.flags.selectedTerm),angular.copy(j.consents,U.input.consents),U.params.termId=null,U.input.user_data.first_name=U.config.user.firstName,U.input.user_data.last_name=U.config.user.lastName,U.input.zipCode=e,U.input.customFormTermId=null,U.input.promoCode=t},U._findTerm=function(e){if(null===e)return null;var t=e;"object"==typeof e&&e.termId&&(t=e.termId);var n=null;return angular.forEach(this.config.terms,function(e){e&&e.termId===t&&(U.notify("[CHECKOUT] Found existing term:"+t),n=e)}),n};var K,Z=!1;U.initPurchase=function(e){var t=e||{purchaseInitiated:!1};return Z=!0,o.initiatePurchase(U).then(function(){return t.purchaseInitiated=!0,t}).finally(function(){Z=!1})},U.getCaptchaV3Token=function(e){var t=u.defer();if(U.isCaptchaV3Enabled()){var n=s.subscribe("captcha-v3-token",function(e,r){n(),t.resolve(r.token)});i.postMessage("get-captcha-v3-token",{action:e})}else t.resolve();return t.promise},U.selectPaymentMethod=function(e,t){if(!0===Z)return u.when(!1);U.flags.selectedPaymentMethod=null,angular.forEach(this.input.paymentMethods,function(t){t.selected=!1,e&&t.id===e.id&&(U.notify("[CHECKOUT] Payment method selected:"+e.name),t.selected=!0,U.flags.selectedPaymentMethod=t)});var n={purchaseInitiated:!1};return!U.flags.selectedPaymentMethod||t||Z?n:(Z=!0,o.initiatePurchase(U).then(function(){return n.purchaseInitiated=!0,n}).finally(function(){Z=!1}))},U.selectPaymentMethodById=function(e,t){var n=le(e);return U.selectPaymentMethod(n,t)},U.startRenewal=function(){U.flags.isRenewNow=!0,U.access&&U.access.alreadyPurchased&&!U.access.canBeRenewed?U._showSubscriptionHasAlreadyRenewed():(U.access.inRenewal=!0,N.gotoPaymentState(U,o,U.flags.selectedTerm))},U.isRefreshBillingInfoNeeded=function(){return U.flags.isPaymentMethodChanged},U.startShowOffer=function(){c.gotoState("offer")},U.onUserChanged=function(){var e=u.defer(),t=h.isUserValid(),n=s.subscribe(EVENT_CHECKOUT_RELOADED,function(){var r=h.isUserValid();t!==r&&(n(),o.waitInitPurchase().then(function(){e.resolve(r)}))});return e.promise},U.close=function(e){e&&e(),m.close({alreadyPurchased:U.access.alreadyPurchased,completePayment:U.flags.termComplete})},U.canInitCheckoutWithAnon=function(){return U.config.app&&!0===U.config.app.canInitCheckoutWithAnon},U.fireCheckoutPaymentErrorEvent=function(){var e=f(t).errors(!1);angular.forEach(e,function(e){i.checkoutPaymentErrorEvent(e.message)})};var J=function(){K.resolve(),U.enabledCheckout()},X=function(){K.reject(),U.enabledCheckout()},Q=function(e){$.logEvent("successPurchase",{async_processing:e?e.async_processing:"params not provided"}),"true"===e.async_processing?(util.log("[CHECKOUT] Asynchronous processing. Completing and granting provisional access",e),angular.copy(JSON.parse(e.receipt),U.input.receipt),U.sendGoogleAnalyticsEvent({eventAction:"checkoutSuccess",eventLabel:"Checkout success",params:{offerId:U.offerId,templateId:U.config.offerTemplateId,templateVariantId:U.config.offerTemplateVariantId}}),i.completeEvent(U.addTermTypeToParams(U.input.receipt,U.input.receipt.termId)),ie(U.input.receipt).finally(J)):(util.log("[CHECKOUT] completing term",e),U._completeTerm(e).finally(J))},ee=function(e){if("object"==typeof e&&e.models&&e.models.alreadyPurchased)return G(e,U.getSelectedTerm().termId,!1),void X();var n;"object"==typeof e?e.errors&&e.errors.length?n=e.errors[0].message||e.errors[0].msg:e.message&&(n=e.message):"string"==typeof e&&(n=e),n&&(f(t).global(y.trc("service.error.codes",n)),U.fireCheckoutPaymentErrorEvent()),U.getBillingAddressEnabled()&&-1!==["18003","18005"].indexOf(e.errors[0].code)&&(D.postalCodeError=!0),X(),o.initiatePurchase(U)};U.completePaymentThreeDS=function(){o.completePurchaseThreeDS(U,Q,ee)},U.reInitPurchase=function(){o.initiatePurchase(U)},U.completePayment=function(){return i.submitPayment({term:U._findTerm(U.params.termId)}),K=u.defer(),U.disableCheckout(),f(U.$rootScope).reset(),c._validateViews().then(function(){f(U.$rootScope).reset();return U.checkConsents(!0).then(function(){return ne()}).then(function(e){return!U.getBillingAddressEnabled()||D.billingAddressPrefilled||U.isAvalaraTaxEnabled()&&!U.isBillingAddressAvailableForSelectedCountry()?u.when(!0):D.billingAddress.postalCode?(e&&e.models&&(D.billingAddress=e.models.billingAddress,D.billingAddress.isVerified=!0,D.zipCode=D.billingAddress.postalCode),O.billingAddressApply(U.input.oid,D.billingAddress,U.params,U.isAvalaraTaxEnabled()?"Avalara":U.isOneSourceTaxEnabled()?"Experian":void 0)):(D.billingAddress.isVerified?f(t).global(y.tr("Address is required")):D.billingAddress.region.regionName?f(t).global(y.tr("Postal code is required")):f(t).global(y.tr("Area is required")),D.postalCodeError=!0,u.reject())}).then(function(){return U.passwordlessServiceLogin()}).then(function(){return oe()}).then(function(){return he()}).then(function(){return o.processPurchase(U,Q,ee)}).catch(function(e){e&&e.errors&&e.errors.length>0&&e.errors[0].msg&&f(t).global(y.trc("service.error.codes",e.errors[0].msg)),X()})}).catch(function(){util.log("[CHECKOUT] Validation on completePayment has failed"),U.fireCheckoutPaymentErrorEvent(),X()}),K.promise},U.confirmPayment=function(){var e=u.defer();return U.disableCheckout(),f(t).reset(),c._validateViews().then(function(){U.checkConsents(!1).then(function(){return ne()}).then(function(e){return e&&e.models&&(D.billingAddress=e.models.billingAddress,D.zipCode=D.billingAddress.postalCode),U.passwordlessServiceLogin()}).then(function(){return he()}).then(function(){return o.confirmPayment(U)}).then(function(t){var n=U.input.confirmated,r=t.models;n.billingPlan=r.billingPlan,n.nextPeriodBillingPlanTable=r.nextPeriodBillingPlan,n.taxAmount=r.taxAmount,n.chargeAmount=r.chargeAmount,n.amount=r.amount,n.total=r.total,n.taxRate=r.taxRate,n.taxAmount=r.taxAmount,n.hstRate=r.hstRate,n.hstAmount=r.hstAmount,n.qstRate=r.qstRate,n.qstAmount=r.qstAmount,n.pstRate=r.pstRate,n.pstAmount=r.pstAmount,n.gstRate=r.gstRate,n.gstAmount=r.gstAmount,U.input.canadianTaxes=U.canadianTaxes(),N.gotoConfirmation(U).finally(function(){e.resolve()})}).catch(function(n){n&&n.errors&&n.errors.length>0&&n.errors[0].msg?f(t).global(y.trc("service.error.codes",n.errors[0].msg)):n&&n.isCheckConsentsError||"BraintreeError"===n||f().terminal(y.tr("Confirmation order failed")),e.reject()})},function(){util.log("[CHECKOUT] Validation on confirmPayment has failed"),U.fireCheckoutPaymentErrorEvent(),e.reject()}),e.promise.finally(function(){U.enabledCheckout()})};var te,ne=function(){if(U.getBillingAddressEnabled()&&U.isAvalaraTaxEnabled()&&(!D.countryCode||!D.sameResidence&&!D.residenceCountryCode))return D.countrySelectorError=!0,u.reject({errors:[{msg:y.tr("Please select a billing country")}]});if(!D.billingAddressFields||!U.isAvalaraTaxEnabled()||D.billingAddressPrefilled||!U.isBillingAddressAvailableForSelectedCountry())return u.when(!0);if(!D.zipCode)return D.postalCodeError=!0,u.reject({errors:[{msg:y.tr("Please enter a postal code")}]});for(var e=0;e<D.requiredBillingAddressFieldsAnchors.length;e+=1){var t=D.requiredBillingAddressFieldsAnchors[e],n=!1;if(("regionName"===t||D.billingAddress[t])&&("regionName"!==t||D.billingAddress.region.regionName)||(n=!0),n)return u.reject({errors:[{msg:y.tr("Please fill required fields")}]})}return O.verifyAvalaraAddress(U.params,D.billingAddress)},re=function(e){e&&e.length&&(angular.forEach(e,function(e){e.message=e.msg}),f(U.$rootScope).globals(e))};function ie(e){return"number"!=typeof U.input.sharedAccountCount||U.isGiftTerm(U.getSelectedTerm())?N.gotoReceipt(U):(U.input.sharedAccounts=e.sharedAccounts,U.input.termConversionId=e.termConversionId,N.gotoSharedSubscriptionState())}function oe(){var e=U.getSelectedTerm();return e&&e.newCustomersOnly&&!U.isNewCustomer()?(f().terminal(y.trc("term.name",e.name)+" "+y.trc("checkout.platform","is restricted for new customers only")+" "),u.reject(!1)):u.when(!0)}U.checkConsents=function(e){var t=u.defer(),n=o.checkConsentsFunction(),r={isCheckConsentsError:!0};return n&&!0===e?n(U).then(function(){s.fire(EVENT_CHECKOUT_CONSENT_CHANGED),t.resolve()}).catch(function(e){re(e),t.reject(r)}):w.isNeeded(U)?(U.isPasswordlessCheckoutEnabled()&&-1!==["offer","auth"].indexOf(c.getActiveState())&&angular.forEach(U.input.consents,function(e){e.required&&(e.checked=!0)}),w(U).then(function(){s.fire(EVENT_CHECKOUT_CONSENT_CHANGED),t.resolve()}).catch(function(e){re(e.errors),t.reject(r)})):t.resolve(),t.promise},U._showSubscriptionHasAlreadyRenewed=function(){f().terminal(y.trc("checkout.platform","The subscription has already been renewed"))},U._completeTerm=function(e){var n=u.defer();return e.first_name=U.input.user_data.first_name,e.last_name=U.input.user_data.last_name,e.url=U.params.url,e.device_data=U.input.braintreeDeviceData,f(t).reset(),o.completePurchase(U,U.input.oid,e,function(e){$.logEvent("completePurchaseSuccess"),U.flags.termComplete=!0,angular.copy(e.receipt,U.input.receipt),U.sendGoogleAnalyticsEvent({eventAction:"checkoutSuccess",eventLabel:"Checkout success",params:{offerId:U.config.offerId,templateId:U.config.offerTemplateId,templateVariantId:U.config.offerTemplateVariantId}}),i.completeEvent(U.addTermTypeToParams(U.input.receipt,U.input.receipt.termId)),ie(e.receipt).finally(function(){s.fire(EVENT_CHECKOUT_SUCCESS),n.resolve()}),document.cookie="ch_sid=; Path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",U.enabledCheckout()},function(e){var t;($.logEvent("completePurchaseError"),"object"==typeof e&&e.models&&e.models.renewalSubscriptionLockException)?U._showSubscriptionHasAlreadyRenewed():(Array.isArray(e)?e.length?t=e[0].message||e[0].msg:e.message&&(t=e.message):"string"==typeof e&&(t=e),t&&f().terminal(t),U.enabledCheckout(),n.reject())}),n.promise},U.getSelectedTerm=function(){return this.flags.selectedTerm},U.getLoginTermId=function(){return H},U.getPaymentMethodId=function(){return this.flags&&this.flags.selectedPaymentMethod&&this.flags.selectedPaymentMethod.id},U.goToPasswordlessLoginState=function(e,t){var n=!1;c.gotoState("passwordlessLogin");var r=s.subscribe("passwordlessLoginLoad",function(){r(),e&&e()}),i=s.subscribe("passwordlessLoginSuccess",function(){i(),n=!0,t&&t()});return n},U.setAsDefaultPaymentMethod=function(e){return O.setAsDefaultPaymentMethod(e).then(function(e){var t=e.data.models,n=t&&t.applyResult&&t.applyResult.updateFailedSubscriptionPubIds||{},r=t&&t.applyResult&&t.applyResult.updatedSubscriptionPubIds||[];return Object.keys(n).length>0?(console.error(n),f(U.$rootScope).reset(),r.length>0?f(U.$rootScope).global(y.trc("checkout.platform","Could not apply payment method to all subscriptions")):f(U.$rootScope).global(y.trc("checkout.platform","Could not apply payment method"))):0===r.length&&f(U.$rootScope).global(y.trc("checkout.platform","No active subscriptions")),{updated:r.length,failed:Object.keys(n).length}}).catch(function(e){f(U.$rootScope).reset(),f(U.$rootScope).global(e.data.errors[0].msg)})},U.canSelectPaymentMethod=function(){return U.input.paymentMethods&&U.input.paymentMethods.length>1&&!U.isZeroPayment()},U.resetPaymentSelection=function(){angular.forEach(this.input.paymentMethods,function(e){e.selected=!1}),U.flags.selectedPaymentMethod=null},U.disableCheckout=function(){tinypass.showWaitPanel("checkoutDisable",'<div id="lock-modal-overlay"></div>')},U.enabledCheckout=function(){tinypass.hideWaitPanel("checkoutDisable")},U.reload=function(e,t){var n=pe(e);return n.countryCode=U.getBillingCountryCode(),n.residenceCountryCode=U.getResidenceCountryCode(),n.billingZipCode=U.getBillingZipCode(),n.zipCode=U.input.zipCode,n.oid=U.input.oid,n.promoCodeId=U.input.promoCodeId,n.promoCodeTermId=U.input.promoCodeTermId,U.flags.selectedPaymentMethod&&void 0!==U.flags.selectedPaymentMethod.id&&(n.paySourceId=U.flags.selectedPaymentMethod.id),n.city=void 0,D&&D.billingAddress&&D.billingAddress.city&&(n.city=D.billingAddress.city),O.getOffer(n,U).then(function(e){util.log("CHECKOUT - RELOAD",getParameterByName("iframeId"),e);var r=!1;return window.TPParam.config=e.models.config,window.TPParam.params=n,U.initConfig(),_.updateSelectedTerm(U),de(U.config.user),!U.isUserValid()&&h.loginSuccessPosted()&&h.setLoginSuccessPosted(!1),!U.config.settings.requiresValidUser||U.isUserValid()||U.canInitCheckoutWithAnon()&&!U.isPrintAddressPopulated()&&"printAddress"!==c.getActiveState()||U.isPasswordlessCheckoutEnabled()&&!U.isPrintAddressPopulated()&&"printAddress"!==c.getActiveState()||c.isActive("auth")||z(),_.updatePayWhatYouWant(),e.models.alreadyPurchased&&U.getSelectedTerm()&&(G(e,U.getSelectedTerm().termId,t),r=!0),oe(),s.fire(EVENT_CHECKOUT_RELOADED),!r},function(e){var t=e&&e.errors&&e.errors.length&&e.errors[0].msg;return t?f().terminal(y.trc("service.error.codes",t)):f().terminal(y.trc("checkout.platform","Reload failed")),console.warn(e),util.log("CHECKOUT - RELOAD ERROR",getParameterByName("iframeId"),e),!1})},U.getBillingCountryCode=function(){return D.countryCode},U.getRequiredZipCode=function(){return D.requiredZipCode||!1},U.getBillingZipCode=function(){return D.zipCode||D.billingAddress&&D.billingAddress.postalCode},U.getIfDuplicateZipCodeIsHidden=function(){return D.isDuplicateZipCodeHidden},U.getResidenceCountryCode=function(){return D.residenceCountryCode},U.getVatLabel=function(){return D.vatLabel},U.toggleVatColumn=function(){D.showVAT=!D.showVAT},U.alreadyPurchased=function(){return U.access&&U.access.alreadyPurchased},U.canadianTaxes=function(){var e=U.input.confirmated,t=[];return e&&(n("HST",e.hstRate,e.hstAmount),n("QST",e.qstRate,e.qstAmount),n("PST",e.pstRate,e.pstAmount),n("GST",e.gstRate,e.gstAmount)),t;function n(e,n,r){n&&n>0&&t.push({name:e,rate:n,amount:r})}},U.setCustomConfirmationUrl=function(e){te=e},U.getCustomOrDefaultConfirmationUrl=function(e){return te||e},U.getPasswordlessEmail=function(){return A.data.email},U.getLang=function(){return se},U.isShowBoilerplateCloseButton=function(){var e=C.get().closeButtonType,t="false"!==getParameterByName("showCloseButton"),n=e===U.closeButtonTypes.boilerplate;return t&&n},U.getTermChargeAmount=function(e){return U.isFreeTrial(e)&&e.authorizationAmount||e.chargeAmount},U.getSelectedTermChargeAmounts=function(e,t){var n,r,i=U.getSelectedTerm(),o=e||i.authorizationAmount,a=U.isFreeTrial(i),s=Math.max(U.input.chargeAmountAndTax||0,U.input.chargeAmount||0);if(o=a&&o||s||U.input.originalChargeAmount,t){var u=a?o:s;n=a?o+" "+U.input.chargeCurrency:U.input.chargeDisplayAmountAndTax||U.input.chargeDisplayAmount;var c=i.billingPlanTable;r=c&&c.length>0?Math.max.apply(Math,c.map(function(e){return a&&e.originalPriceValue||e.priceAndTax})):U.input.originalChargeAmount||i.chargeAmount}return{amount:o,verifyAmount:t&&u<r?r:o,chargeDisplayAmount:u<r?n:void 0}},U.isFreeTrial=function(e){return!U.isChargingTerm(e)},s.subscribe("successfullyCreditRedeem",function(e,t){util.log("[CHECKOUT] redeem credit successfully: ",t)}),s.subscribe("creditRedeemFailed",function(e,t){let n=t&&t.message;f().terminal(y.trc("checkout.platform","Cannot redeem credit: ")+n),util.log("%c[CHECKOUT] Cannot redeem credit: ".concat(n),"color: red;")}),s.subscribe(EVENT_TERMINAL_ERROR,function(e,t){c.disable()}),s.subscribe(EVENT_APPLE_PAY_CAN_MAKE_PAYMENTS,function(e,t){U.flags.applePayCanMakePayments=t.canMakePayments}),s.subscribe(EVENT_SETUP_CUSTOM_VARIABLES,function(e,t){U.config.customVariables=t,window.TPParam.params.customVariables=t}),s.subscribe(EVENT_SETUP_EVT_FIELDS,function(e,t){M.setExternalVerificationFields&&M.setExternalVerificationFields(t)});var ae,se,ue=!1,ce=!1;function le(e){for(var t=0;t<U.input.paymentMethods.length;t++){var n=U.input.paymentMethods[t];if(n.id===e)return n}}function de(e){if(e!==U.config.user&&(angular.copy(e,U.config.user),U.params.userToken&&h.isPianoIdUserProvider())){var t=E.jwtDecode(U.params.userToken);U.config.user.login_timestamp=t.login_timestamp,U.config.user.token_expiration=1e3*(t.exp-t.iat)}h.userChanged(e)}function fe(e,t,n,r,i){return e&&n?U.config.hasTermForNewCustomerBillingPlan?U.reload(i,r):(de(n),a(function(){if(angular.copy(n,U.config.user),U.params.userToken&&h.isPianoIdUserProvider()){var e=E.jwtDecode(U.params.userToken);U.config.user.login_timestamp=e.login_timestamp,U.config.user.token_expiration=1e3*(e.exp-e.iat)}U.flags.needUpdateUserResources=!0,s.fire(EVENT_CHECKOUT_RELOADED)},0)):e&&t?a(function(){de({valid:!0}),s.fire(EVENT_CHECKOUT_RELOADED)},0):U.reload(i,r)}function pe(e){var t=e||{};angular.forEach(["userToken","isRedemption","startFromInlineCheckout"],function(e){var n=U.params[e];void 0!==t[e]&&(n=t[e]),t[e]=n});var n=U.getSelectedTerm();return t.termId=n&&n.termId||t.termId,angular.forEach(window.TPParam.params,function(e,n){void 0===t[n]&&(t[n]=e)}),t.lang=se,t}function he(){var e=u.when();return angular.forEach(c.views,function(t){angular.forEach(t.components,function(t){U.isPaymentMethod(t.PAYMENT_PROVIDER_ID)&&t.customActionOnCompletePurchase&&(e=t.customActionOnCompletePurchase())})}),e}function me(e,t){var n=new RegExp("^UA-[0-9a-zA-Z]*-[0-9a-zA-Z]*$").test(e),r=new RegExp("([{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?)|([0-9]*\\.[0-9]*)").test(t);if(!U.gaAppended&&n&&r)try{var i=document.createElement("script");i.innerHTML="(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', '"+e+"', {  'storage': 'none',  'clientId': '"+t+"'});",document.head.appendChild(i),U.gaAppended=!0}catch(e){}}return s.subscribe(EVENT_VIEW_ACTIVATED,function(e,t,n){if("offer"===t.name&&ue&&(U.softResetDiscount(),U.sendGoogleAnalyticsEvent({eventAction:"checkoutRestarted",eventLabel:"Checkout restarted",params:{offerId:U.config.offerId,templateId:U.config.offerTemplateId,templateVariantId:U.config.offerTemplateVariantId}})),"offer"===t.name&&(ue=!0,U.sendGoogleAnalyticsEvent({eventAction:"showOffer",eventLabel:"Show offer",params:{offerId:U.config.offerId,templateId:U.config.offerTemplateId,templateVariantId:U.config.offerTemplateVariantId}}),U.params.reactivateSubscriptionId&&U.startSubscriptionReactivation()),"state1"===t.name&&ce&&U.softResetDiscount(),"state1"===t.name&&(ce=!0),"externalVerification"!==t.name||U.hasExternalVerificationGate())if("state2"===t.name&&U.alreadyPurchased()&&!U.access.inRenewal)c.gotoPreviousState();else if("lockedPromoCode"!==t.name||U.isPromoCodeAvailable())if("auth"===t.name&&U.isUserValid())c.gotoPreviousState();else if((!c.isTermSelectorState(t.name)||n&&n.termId)&&"offer"!==t.name){if("state2"===t.name&&n.paySource){var r=le(+n.paySource);U.selectPaymentMethod(r)}}else U._unselectTerm();else c.gotoPreviousState();else a(function(){N.gotoCheckoutStart(U)},0)}),s.subscribe("pianoIdLoginSuccess",function(e,t){t.extendExpiredAccessEnabled&&E.setExtendExpiredAccessCookie(U.getAid(),t.extendExpiredAccessEnabled)}),s.subscribe("setExtendExpiredAccess",function(e,t){t&&E.setExtendExpiredAccessCookie(U.getAid(),t)}),s.subscribe("reloadOffer",function(e,t){var n=c.getActiveState(),r=c.isPaymentFormState(n)||"auth"===n||"offer"===n;t&&t.noNeedStartCheckout&&(delete t.noNeedStartCheckout,r=!1);var i=!r&&"auth"===n,o=(t=pe(t)).reloadAfterLogin,a=t.preventReloadAfterLogin,s=t.user;U.params.userToken=t.userToken,fe(o,a,s,i,t)}),s.subscribe(EVENT_CONFIG_RELOAD,function(){var e=!0;"false"!==C.get().autoCompleteRegistrationTerm&&!1!==C.get().autoCompleteRegistrationTerm||(e=!1),U.flags.autoCompleteRegistrationTerm=e}),y.on(function(e){se&&e===se||i.postMessage("langChangedWithinOffer",{lang:e}),se=e,ae&&e!==ae&&U.reload(null,!0),ae=e,s.fire("langChanged")}),s.subscribe("langChanged",function(e,t){t&&t.lang&&(se=t.lang,y.update(t.lang)),l[0].documentElement.setAttribute("dir","he_IL"===se?"rtl":"ltr")}),s.subscribe("checkProccessesForClose",function(){b("EXTERNAL_EVENT","close"),m.purge({alreadyPurchased:U.access.alreadyPurchased,completePayment:U.flags.termComplete})}),s.subscribe("startDirectCheckout",function(){U.hasOnlyOneTerm()&&a(function(){U.startCheckout(U.config.terms[0])},0)}),s.subscribe("gaAppended",function(e,t){me(t.gaAccount,t.clientId)}),s.subscribe("captcha-v3-enabled-value",function(e,t){var n;n=t.isEnabled,U.flags.isCaptchaV3Enabled=n}),U.createOrder=function(e,t,n,r,i){return O.createOrder(e,t,n,r,i,U)},U.isUpgradeOffer=function(){return"UPGRADE"===U.config.checkoutFlowType},U.getUpgradeOfferId=function(){return U.params.checkoutFlowId},U}]),angular.module("tp.directives",[]).directive("tpclipboard",[function(){return{}}]).directive("tpUploader",[function(){return{}}]).directive("ignoreDirty",[function(){return{}}]).directive("fakeInput",[function(){return{}}]).directive("tpImageCrop",[function(){return{}}]).directive("tpShow",[function(){return{}}]).directive("fadey",[function(){return{}}]).directive("animatePosition",[function(){return{}}]).directive("animateMargin",[function(){return{}}]).directive("iframeContainer",[function(){return{}}]).directive("errorSection",[function(){return{}}]).directive("warningSection",[function(){return{}}]).directive("autoSelect",[function(){return{}}]).directive("zeroClipboard",[function(){return{}}]).directive("selectAllCheckbox",[function(){return{}}]).directive("tpDisableEnter",[function(){return{}}]).directive("tpDecimalFilter",[function(){return{}}]).directive("searchInput",[function(){return{}}]).directive("tpCurrencyInput",[function(){return{}}]).directive("preventTypingNonNumber",[function(){return{}}]).directive("tpDropDown",[function(){return{}}]).directive("tpUnitPopover",[function(){return{}}]).directive("tpCharLimit",[function(){return{}}]).directive("onEnter",[function(){return{}}]).directive("tpHeaderDescription",[function(){return{}}]).directive("d3Planet",[function(){return{}}]).directive("translationsProgressMeter",[function(){return{}}]).directive("translationsTotal",[function(){return{}}]).directive("setIframeHeightOnload",[function(){return{}}]).directive("tpInfiniteScroll",[function(){return{}}]).filter("tpDateFormatFilter",[function(){return{}}]),angular.module("tp.ui.address",[]).filter("formatAddress",[function(){return{}}]).directive("regionSelect",[function(){return{}}]),angular.module("tp.ui.grid",[]).filter("toCssClass",[function(){return{}}]).directive("tpGrid",[function(){return{}}]),angular.module("tp.ui.cc",[]).directive("tpCreditCardForm",[function(){return{}}]),angular.module("checkoutGoToModule",[]).factory("checkoutGoTo",[function(){return{}}]);
'use strict';
angular.module("ngLocale", [], ["$provide", function($provide) {
var PLURAL_CATEGORY = {ZERO: "zero", ONE: "one", TWO: "two", FEW: "few", MANY: "many", OTHER: "other"};
$provide.value("$locale", {
  "DATETIME_FORMATS": {
    "AMPMS": [
      "AM",
      "PM"
    ],
    "DAY": [
      "Sunday",
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday"
    ],
    "MONTH": [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July",
      "August",
      "September",
      "October",
      "November",
      "December"
    ],
    "SHORTDAY": [
      "Sun",
      "Mon",
      "Tue",
      "Wed",
      "Thu",
      "Fri",
      "Sat"
    ],
    "SHORTMONTH": [
      "Jan",
      "Feb",
      "Mar",
      "Apr",
      "May",
      "Jun",
      "Jul",
      "Aug",
      "Sep",
      "Oct",
      "Nov",
      "Dec"
    ],
    "fullDate": "EEEE, MMMM d, y",
    "longDate": "MMMM d, y",
    "medium": "MMM d, y h:mm:ss a",
    "mediumDate": "MMM d, y",
    "mediumTime": "h:mm:ss a",
    "short": "M/d/yy h:mm a",
    "shortDate": "M/d/yy",
    "shortTime": "h:mm a"
  },
  "NUMBER_FORMATS": {
    "CURRENCY_SYM": "$",
    "DECIMAL_SEP": ".",
    "GROUP_SEP": ",",
    "PATTERNS": [
      {
        "gSize": 3,
        "lgSize": 3,
        "macFrac": 0,
        "maxFrac": 3,
        "minFrac": 0,
        "minInt": 1,
        "negPre": "-",
        "negSuf": "",
        "posPre": "",
        "posSuf": ""
      },
      {
        "gSize": 3,
        "lgSize": 3,
        "macFrac": 0,
        "maxFrac": 2,
        "minFrac": 2,
        "minInt": 1,
        "negPre": "(\u00a4",
        "negSuf": ")",
        "posPre": "\u00a4",
        "posSuf": ""
      }
    ]
  },
  "id": "en-us",
  "pluralCat": function (n) {  if (n == 1) {   return PLURAL_CATEGORY.ONE;  }  return PLURAL_CATEGORY.OTHER;}
});
}]);
