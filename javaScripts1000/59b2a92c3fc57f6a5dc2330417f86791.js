webpackJsonp([25,94,95,96],{156:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e(837),n=e(838),o=e(836);a.default={namespaced:!0,state:r.default,mutations:n.default,actions:o.default}},836:function(t,a,e){"use strict";function r(t){return N.a.get("/"+t+"/forex_instruments/cbr_exchange_rates/list/")}function n(t){return N.a.get("/"+t+"/forex_instruments/cbr_exchange_rates/list/?isMain=true")}function o(t,a,e){return N.a.get("/"+t+"/forex_instruments/cbr_exchange_rates/history/?alias="+a+"&interval="+e)}function _(t,a){return N.a.get("/"+t+"/forex_instruments/cbr_exchange_rates/related/?alias="+a)}function s(t,a){return N.a.get("/"+t+"/forex_instruments/rates/?symbolsGroup="+a)}function T(t,a){return N.a.get("/"+t+"/forex_instruments/rates/item/?symbol="+a.replace("-",""))}function E(t,a){return N.a.get("/"+t+"/forex_instruments/rates/groups/"+a+"/")}function S(t,a,e){return N.a.get("/"+t+"/forex_instruments/rates/?symbolsGroup="+a+"&toSymbol="+e)}function i(t,a,e){return N.a.get("/"+t+"/forex_instruments/rates/item/?symbol="+a+"&toSymbol="+e)}function c(t,a,e,r){return N.a.get("/"+t+"/forex_instruments/rates/history/?symbol="+a+"&toSymbol="+e+"&interval="+r)}function u(t){return N.a.get("/"+t+"/forex_instruments/rates/subscriber/")}Object.defineProperty(a,"__esModule",{value:!0});var R=e(25),l=e.n(R),I=e(39),m=e.n(I),A=e(26),f=e.n(A),N=e(31),O=function(t){return t&&t.data.data};a.default={FETCH_FOREX_INSTRUMENTS_LIST:function(t,a){var e=t.commit;return r(a.locale).then(function(t){m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_LIST",{data:t.data.data})}).catch(function(t){400!==t.status&&404!==t.status||e("SET_CURRENT_PAGE_IS_DISABLED",!0,{root:!0}),e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_LIST"},{root:!0})})},FETCH_FOREX_INSTRUMENTS_MAIN:function(t,a){var e=t.commit;return n(a.locale).then(function(t){m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_MAIN",{data:t.data.data})}).catch(function(t){e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_MAIN"},{root:!0})})},FETCH_FOREX_INSTRUMENTS_HISTORY:function(t,a){var e=t.commit,r=a.locale,n=a.alias,_=a.interval;return o(r,n,_).then(function(t){m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_HISTORY",{data:t.data.data,alias:n,interval:_})}).catch(function(t){return 400!==t.status&&404!==t.status||e("SET_CURRENT_PAGE_IS_DISABLED",!0,{root:!0}),e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_HISTORY"},{root:!0}),!0})},FETCH_FOREX_INSTRUMENTS_RELATED:function(t,a){var e=t.commit,r=a.locale,n=a.alias;return _(r,n).then(function(t){m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_RELATED",{data:t.data.data,alias:n})}).catch(function(t){400!==t.status&&404!==t.status||e("SET_CURRENT_PAGE_IS_DISABLED",!0,{root:!0}),e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_RELATED"},{root:!0})})},FETCH_FOREX_INSTRUMENTS_FOREX_MARKETS:function(t,a){var e=t.commit,r=t.rootState;return s(a.locale,a.alias).then(function(t){m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_FOREX_MARKETS",{data:t.data.data,route:r.route.path})}).catch(function(t){e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_FOREX_MARKETS"},{root:!0})})},FETCH_FOREX_INSTRUMENTS_FOREX_MARKETS_ITEM:function(t,a){var e=t.commit;return T(a.locale,a.item).then(function(t){e("SET_CURRENT_PAGE_IS_DISABLED",!1,{root:!0}),m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_FOREX_MARKETS_ITEM",{data:t.data.data})}).catch(function(t){400===t.status&&e("SET_CURRENT_PAGE_IS_DISABLED",!0,{root:!0}),400!==t.status&&404!==t.status||e("SET_CURRENT_PAGE_IS_DISABLED",!0,{root:!0}),t.status>=500?e("SET_FOREX_INSTRUMENTS_FOREX_MARKETS_ITEM_UNAVAILABLE_STATUS",!0):e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_FOREX_MARKETS_ITEM"},{root:!0})})},FETCH_FOREX_INSTRUMENTS_FOREX_MARKETS_QUOTES:function(t,a){var e=t.commit,r=a.locale,n=a.alias;return E(r,n).then(function(t){m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_FOREX_MARKETS_QUOTES",{data:t.data.data,route:"/"+r+"/markets/forex/"})}).catch(function(t){e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_FOREX_MARKETS_QUOTES"},{root:!0})})},FETCH_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS:function(t,a){var e=t.commit;return S(a.locale,a.alias,a.toSymbol).then(function(t){m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS",{data:t.data.data})}).catch(function(t){t.status>=500?e("SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_UNAVAILABLE_STATUS",!0):e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS"},{root:!0})})},FETCH_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_ITEM:function(t,a){var e=t.commit;return i(a.locale,a.symbol,a.toSymbol).then(function(t){e("SET_CURRENT_PAGE_IS_DISABLED",!1,{root:!0}),m()(t.data.data).length>0&&e("SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_ITEM",{data:t.data.data})}).catch(function(t){400===t.status&&e("SET_CURRENT_PAGE_IS_DISABLED",!0,{root:!0}),400!==t.status&&404!==t.status||e("SET_CURRENT_PAGE_IS_DISABLED",!0,{root:!0}),t.status>=500?e("SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_ITEM_UNAVAILABLE_STATUS",!0):e("PUSH_ERRORS",{error:t,nameAction:"FETCH_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_ITEM"},{root:!0})})},FETCH_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_HISTORY:function(t,a){var e=this,r=t.commit,n=a.locale,o=a.symbol,_=a.toSymbol,s=a.interval;if(a.isRobot){var T=[{ts:f()().unix(),value:1}];return r("SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_HISTORY",{data:T}),l.a.resolve()}return c(n,o,_,s).then(O).then(function(t){t&&r("SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_HISTORY",{data:t})}).catch(function(t){t.status>=500?r("SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_HISTORY_UNAVAILABLE_STATUS",!0):e.pushError("FETCH_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_HISTORY")})},FETCH_SUBSCRIBER:function(t,a){var e=t.commit;return u(a.locale).then(function(t){m()(t.data.data).length>0&&e("SET_SUBSCRIBER",{data:t.data.data})}).catch(function(t){e("PUSH_ERRORS",{error:t,nameAction:"FETCH_SUBSCRIBER"},{root:!0})})}}},837:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return{otherRates:{},majorRates:{},historyRates:{},relatedCurrency:{},forexMarkets:{},forexMarketsItem:{breadcrumb:"",headerTitle:"",chartTitle:"",ctaTitle:"",seoTitle:"",seoDescription:"",instrument:{},popularInstruments:[],otherInstruments:[]},isForexMarketsItemUnavailable:!1,forexMarketsQuotes:{forex:[],goods:[],indices:[]},cryptoAnalytics:{},isCryptoAnalyticsUnavailable:!1,cryptoAnalyticsItem:{breadcrumb:"",headerTitle:"",chartTitle:"",ctaTitle:"",seoTitle:"",seoDescription:"",instrument:{},otherInstruments:[]},isCryptoAnalyticsItemUnavailable:!1,cryptoAnalyticsHistory:{},isCryptoAnalyticsHistoryUnavailable:!1,websocketUrl:""}}},838:function(t,a,e){"use strict";function r(t){return t?u()(t).reduce(function(a,e){return 0!==t[e]&&(a[e]=t[e]),a},{}):{}}function n(t,a){var e=t.price>t.openPrice;if(t.arrow="arrow-"+(e?"green":"red"),t.diffColor=e?"green":"red",t.direction=e,a){var r=t.symbolDisplay.toLowerCase().split("/");t.link=""+a+r[0]+"-"+r[1]}return t}function o(t){var a={};return t.forEach(function(t){var e=t.isCrypto?""+t.symbol+t.toSymbol:t.symbol;a[e]=t}),a}Object.defineProperty(a,"__esModule",{value:!0});var _=e(133),s=e.n(_),T=e(37),E=e.n(T),S=e(42),i=e.n(S),c=e(39),u=e.n(c),R=e(26),l=e.n(R);a.default={SET_FOREX_INSTRUMENTS_LIST:function(t,a){var e=a.data;t.otherRates=e},SET_FOREX_INSTRUMENTS_MAIN:function(t,a){var e=a.data;t.majorRates=e},SET_FOREX_INSTRUMENTS_HISTORY:function(t,a){var e=a.data,r=a.alias,n=a.interval;t.historyRates[r]||(t.historyRates[r]={}),t.historyRates[r][n]=e},SET_FOREX_INSTRUMENTS_RELATED:function(t,a){var e=a.data,r=a.alias;t.relatedCurrency[r]=e},SET_FOREX_INSTRUMENTS_FOREX_MARKETS:function(t,a){var e=a.data,r=a.route,o={};e=i()(e).sort(function(t,a){return t.symbol.toLowerCase()<a.symbol.toLowerCase()?-1:1}),e.forEach(function(t){var a=t.symbol;o[a]=n(t,r)}),t.forexMarkets=o},SOCKET_FOREX_MARKETS:function(t,a){var e=a.data,r=a.route,o=t.forexMarkets,_=E()({},o[e.symbol],e);o[e.symbol]=n(_,r)},SET_FOREX_INSTRUMENTS_FOREX_MARKETS_ITEM:function(t,a){var e=a.data;u()(e.texts).forEach(function(a){t.forexMarketsItem[a]=e.texts[a]}),t.forexMarketsItem.instrument=e.instrument,t.forexMarketsItem.instrument.direction=e.instrument.price>e.instrument.openPrice?"green":"red",t.forexMarketsItem.popularInstruments=o(e.additionalData.popularInstruments),t.forexMarketsItem.otherInstruments=o(e.additionalData.otherInstruments)},SET_FOREX_INSTRUMENTS_FOREX_MARKETS_ITEM_UNAVAILABLE_STATUS:function(t,a){t.isForexMarketsItemUnavailable=a},SOCKET_FOREX_MARKETS_ITEM:function(t,a){var e=a.symbol,r=t.forexMarketsItem;r.instrument.symbol===e&&(r.instrument=n(E()({},r.instrument,a))),r.popularInstruments[e]&&(r.popularInstruments[e]=n(E()({},r.popularInstruments[e],a))),r.otherInstruments[e]&&(r.otherInstruments[e]=n(E()({},r.otherInstruments[e],a)))},SET_FOREX_INSTRUMENTS_FOREX_MARKETS_QUOTES:function(t,a){var e=a.data,r=a.route,o={},_=u()(t.forexMarketsQuotes);_.forEach(function(t){e.rates[t]=e.rates[t].sort(function(t,a){return t.symbol.toLowerCase()<a.symbol.toLowerCase()?-1:1})}),u()(e.rates).forEach(function(t){_.includes(t)&&(o[t]={},e.rates[t].forEach(function(a){var e=a.symbol;o[t][e]=n(a,r)}))}),t.forexMarketsQuotes=o;var s=e.subscriber.parts,T=s.scheme,E=s.port,S=s.path,i=s.query;t.websocketUrl=T+"://{domain}:"+E+S+i},SOCKET_FOREX_MARKETS_QUOTES:function(t,a){var e=a.newQuoteData,r=a.category,o=e.symbol;t.forexMarketsQuotes[r][o]=s()(t.forexMarketsQuotes[r][o],n(e))},PREPARE_FOREX_MARKETS_QUOTES:function(t){i()(t.forexMarkets?t.forexMarkets:{}).forEach(function(t){t.changePercent=parseFloat(t.changePercent).toFixed(2),t.change=parseFloat(t.change).toFixed(4)})},SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS:function(t,a){var e=a.data;t.cryptoAnalytics=e.reduce(function(t,a){return t[""+a.symbol+a.toSymbol]=a,t},{})},SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_UNAVAILABLE_STATUS:function(t,a){t.isCryptoAnalyticsUnavailable=a},SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_ITEM:function(t,a){var e=a.data;u()(e.texts).forEach(function(a){t.cryptoAnalyticsItem[a]=e.texts[a]}),t.cryptoAnalyticsItem.instrument=e.instrument,t.cryptoAnalyticsItem.otherInstruments=o(e.additionalData.otherInstruments)},SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_ITEM_UNAVAILABLE_STATUS:function(t,a){t.isCryptoAnalyticsItemUnavailable=a},SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_HISTORY:function(t,a){var e=a.data;if(e&&u()(e).length){var r={series:[],categories:[]};e.forEach(function(t){r.categories.push(l.a.unix(t.ts).format("DD MMM HH:mm")),r.series.push(t.value)}),t.cryptoAnalyticsHistory=r}},SET_FOREX_INSTRUMENTS_CRYPTO_ANALYTICS_HISTORY_UNAVAILABLE_STATUS:function(t,a){t.isCryptoAnalyticsHistoryUnavailable=a},SOCKET_CRYPTO_ANALYTICS:function(t,a){var e=""+a.symbol+a.toSymbol;t.cryptoAnalytics[e]=E()({},t.cryptoAnalytics[e],r(a))},SOCKET_CRYPTO_ANALYTICS_ITEM:function(t,a){var e=""+a.symbol+a.toSymbol;""+t.cryptoAnalyticsItem.instrument.symbol+t.cryptoAnalyticsItem.instrument.toSymbol===e&&(t.cryptoAnalyticsItem.instrument=E()({},t.cryptoAnalyticsItem.instrument,r(a))),t.cryptoAnalyticsItem.otherInstruments[e]&&(t.cryptoAnalyticsItem.otherInstruments[e]=E()({},t.cryptoAnalyticsItem.otherInstruments[e],r(a)))},SET_SUBSCRIBER:function(t,a){var e=a.data.parts,r=e.scheme,n=e.port,o=e.path,_=e.query;t.websocketUrl=r+"://{domain}:"+n+o+_}}}});