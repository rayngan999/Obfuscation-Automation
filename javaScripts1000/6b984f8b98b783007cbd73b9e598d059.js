(self.sitewideWebpack=self.sitewideWebpack||[]).push([[1179],{91494:function(e,n,t){"use strict";t.r(n),t.d(n,{CertonaContext:function(){return m},CertonaProvider:function(){return x}});var r=t(87757),i=t.n(r),u=t(92137),a=t(28481),o=t(63804),c=t.n(o),s=t(6610),f=t(5991),h=function(){function e(n){if((0,s.Z)(this,e),this._maxConcurrency=n,this._queue=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}return(0,f.Z)(e,[{key:"acquire",value:function(){var e=this,n=this.isLocked(),t=new Promise((function(n){return e._queue.push(n)}));return n||this._dispatch(),t}},{key:"runExclusive",value:function(e){return n=this,t=void 0,i=void 0,u=r.mark((function n(){var t,i,u,o;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.acquire();case 2:return t=n.sent,i=(0,a.Z)(t,2),u=i[0],o=i[1],n.prev=6,n.next=9,e(u);case 9:return n.abrupt("return",n.sent);case 10:return n.prev=10,o(),n.finish(10);case 13:case"end":return n.stop()}}),n,this,[[6,,10,13]])})),new(i||(i=Promise))((function(e,r){function a(e){try{c(u.next(e))}catch(e){r(e)}}function o(e){try{c(u.throw(e))}catch(e){r(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}c((u=u.apply(n,t||[])).next())}));var n,t,i,u}},{key:"isLocked",value:function(){return this._value<=0}},{key:"release",value:function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}}},{key:"_dispatch",value:function(){var e=this,n=this._queue.shift();if(n){var t=!1;this._currentReleaser=function(){t||(t=!0,e._value++,e._dispatch())},n([this._value--,this._currentReleaser])}}}]),e}(),v=function(){function e(){(0,s.Z)(this,e),this._semaphore=new h(1)}return(0,f.Z)(e,[{key:"acquire",value:function(){return e=this,n=void 0,t=void 0,i=r.mark((function e(){var n,t,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._semaphore.acquire();case 2:return n=e.sent,t=(0,a.Z)(n,2),i=t[1],e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})),new(t||(t=Promise))((function(r,u){function a(e){try{c(i.next(e))}catch(e){u(e)}}function o(e){try{c(i.throw(e))}catch(e){u(e)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,o)}c((i=i.apply(e,n||[])).next())}));var e,n,t,i}},{key:"runExclusive",value:function(e){return this._semaphore.runExclusive((function(){return e()}))}},{key:"isLocked",value:function(){return this._semaphore.isLocked()}},{key:"release",value:function(){this._semaphore.release()}}]),e}(),l=t(83518),p=t(70917);function d(e,n){window.certonaCache||(window.certonaCache={}),window.certonaCache[e]=n}var w=function(){var e=(0,u.Z)(i().mark((function e(n){var t,r,u,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=u=n.pagetype,void 0,!(a=null===(c=window.certonaCache)||void 0===c?void 0:c[i])){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,new Promise((function(e){!function n(){window.callCertona&&window.certona?e():setTimeout(n,250,e)}()}));case 6:return Object.assign(window.certona,n),o=new l.Deferred,window.certonaRecommendations=function(e){return d(u,e),o.resolve(e)},null===(t=(r=window).callCertona)||void 0===t||t.call(r),e.abrupt("return",o.promise);case 11:case"end":return e.stop()}var i,c}),e)})));return function(n){return e.apply(this,arguments)}}(),k={data:{}},m=c().createContext(k);function x(e){var n=e.children,t=e.errorLogger,r=e.globalCertonaConfig,c=e.pageType,s=(0,o.useState)(k),f=(0,a.Z)(s,2),h=f[0],l=f[1],d=(0,o.useMemo)((function(){return{pagetype:null==c?void 0:c.toUpperCase()}}),[c]),x=null!=r?r:d;return(0,o.useEffect)((function(){!function(){var e=(0,u.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.certonaLock||(window.certonaLock=new v),window.certonaLock.acquire();case 2:return n=e.sent,e.prev=3,e.next=6,w(x);case 6:r=e.sent,l({data:r.resonance}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t(e.t0);case 13:return e.prev=13,n(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}()()}),[t,x]),(0,p.jsx)(m.Provider,{value:h},n)}},50567:function(e,n,t){"use strict";t.r(n);var r=t(91494);n.default=r.CertonaProvider}}]);