(function(){'use strict';window.addEventListener('popstate',function(event){if(event.state&&event.state.raven){window.location.reload();}},false);})();;(function(window,document,undefined){var classes=[];var tests=[];var ModernizrProto={_version:'3.3.1',_config:{'classPrefix':'','enableClasses':true,'enableJSClass':true,'usePrefixes':true},_q:[],on:function(test,cb){var self=this;setTimeout(function(){cb(self[test]);},0);},addTest:function(name,fn,options){tests.push({name:name,fn:fn,options:options});},addAsyncTest:function(fn){tests.push({name:null,fn:fn});}};var Modernizr=function(){};Modernizr.prototype=ModernizrProto;Modernizr=new Modernizr();function is(obj,type){return typeof obj===type;};function testRunner(){var featureNames;var feature;var aliasIdx;var result;var nameIdx;var featureName;var featureNameSplit;for(var featureIdx in tests){if(tests.hasOwnProperty(featureIdx)){featureNames=[];feature=tests[featureIdx];if(feature.name){featureNames.push(feature.name.toLowerCase());if(feature.options&&feature.options.aliases&&feature.options.aliases.length){for(aliasIdx=0;aliasIdx<feature.options.aliases.length;aliasIdx++){featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());}}}
result=is(feature.fn,'function')?feature.fn():feature.fn;for(nameIdx=0;nameIdx<featureNames.length;nameIdx++){featureName=featureNames[nameIdx];featureNameSplit=featureName.split('.');if(featureNameSplit.length===1){Modernizr[featureNameSplit[0]]=result;}else{if(Modernizr[featureNameSplit[0]]&&!(Modernizr[featureNameSplit[0]]instanceof Boolean)){Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]]);}
Modernizr[featureNameSplit[0]][featureNameSplit[1]]=result;}
classes.push((result?'':'no-')+featureNameSplit.join('-'));}}}};var docElement=document.documentElement;var isSVG=docElement.nodeName.toLowerCase()==='svg';function setClasses(classes){var className=docElement.className;var classPrefix=Modernizr._config.classPrefix||'';if(isSVG){className=className.baseVal;}
if(Modernizr._config.enableJSClass){var reJS=new RegExp('(^|\\s)'+classPrefix+'no-js(\\s|$)');className=className.replace(reJS,'$1'+classPrefix+'js$2');}
if(Modernizr._config.enableClasses){className+=' '+classPrefix+classes.join(' '+classPrefix);isSVG?docElement.className.baseVal=className:docElement.className=className;}};var omPrefixes='Moz O ms Webkit';var domPrefixes=(ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(' '):[]);ModernizrProto._domPrefixes=domPrefixes;var hasOwnProp;(function(){var _hasOwnProperty=({}).hasOwnProperty;if(!is(_hasOwnProperty,'undefined')&&!is(_hasOwnProperty.call,'undefined')){hasOwnProp=function(object,property){return _hasOwnProperty.call(object,property);};}
else{hasOwnProp=function(object,property){return((property in object)&&is(object.constructor.prototype[property],'undefined'));};}})();ModernizrProto._l={};ModernizrProto.on=function(feature,cb){if(!this._l[feature]){this._l[feature]=[];}
this._l[feature].push(cb);if(Modernizr.hasOwnProperty(feature)){setTimeout(function(){Modernizr._trigger(feature,Modernizr[feature]);},0);}};ModernizrProto._trigger=function(feature,res){if(!this._l[feature]){return;}
var cbs=this._l[feature];setTimeout(function(){var i,cb;for(i=0;i<cbs.length;i++){cb=cbs[i];cb(res);}},0);delete this._l[feature];};function addTest(feature,test){if(typeof feature=='object'){for(var key in feature){if(hasOwnProp(feature,key)){addTest(key,feature[key]);}}}else{feature=feature.toLowerCase();var featureNameSplit=feature.split('.');var last=Modernizr[featureNameSplit[0]];if(featureNameSplit.length==2){last=last[featureNameSplit[1]];}
if(typeof last!='undefined'){return Modernizr;}
test=typeof test=='function'?test():test;if(featureNameSplit.length==1){Modernizr[featureNameSplit[0]]=test;}else{if(Modernizr[featureNameSplit[0]]&&!(Modernizr[featureNameSplit[0]]instanceof Boolean)){Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]]);}
Modernizr[featureNameSplit[0]][featureNameSplit[1]]=test;}
setClasses([(!!test&&test!=false?'':'no-')+featureNameSplit.join('-')]);Modernizr._trigger(feature,test);}
return Modernizr;}
Modernizr._q.push(function(){ModernizrProto.addTest=addTest;});var prefixes=(ModernizrProto._config.usePrefixes?' -webkit- -moz- -o- -ms- '.split(' '):['','']);ModernizrProto._prefixes=prefixes;function createElement(){if(typeof document.createElement!=='function'){return document.createElement(arguments[0]);}else if(isSVG){return document.createElementNS.call(document,'http://www.w3.org/2000/svg',arguments[0]);}else{return document.createElement.apply(document,arguments);}};function getBody(){var body=document.body;if(!body){body=createElement(isSVG?'svg':'body');body.fake=true;}
return body;};function injectElementWithStyles(rule,callback,nodes,testnames){var mod='modernizr';var style;var ret;var node;var docOverflow;var div=createElement('div');var body=getBody();if(parseInt(nodes,10)){while(nodes--){node=createElement('div');node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node);}}
style=createElement('style');style.type='text/css';style.id='s'+mod;(!body.fake?div:body).appendChild(style);body.appendChild(div);if(style.styleSheet){style.styleSheet.cssText=rule;}else{style.appendChild(document.createTextNode(rule));}
div.id=mod;if(body.fake){body.style.background='';body.style.overflow='hidden';docOverflow=docElement.style.overflow;docElement.style.overflow='hidden';docElement.appendChild(body);}
ret=callback(div,rule);if(body.fake){body.parentNode.removeChild(body);docElement.style.overflow=docOverflow;docElement.offsetHeight;}else{div.parentNode.removeChild(div);}
return!!ret;};var mq=(function(){var matchMedia=window.matchMedia||window.msMatchMedia;if(matchMedia){return function(mq){var mql=matchMedia(mq);return mql&&mql.matches||false;};}
return function(mq){var bool=false;injectElementWithStyles('@media '+mq+' { #modernizr { position: absolute; } }',function(node){bool=(window.getComputedStyle?window.getComputedStyle(node,null):node.currentStyle).position=='absolute';});return bool;};})();ModernizrProto.mq=mq;var testStyles=ModernizrProto.testStyles=injectElementWithStyles;Modernizr.addTest('touchevents',function(){var bool;if(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch){bool=true;}else{var query=['@media (',prefixes.join('touch-enabled),('),'heartz',')','{#modernizr{top:9px;position:absolute}}'].join('');testStyles(query,function(node){bool=node.offsetTop===9;});}
return bool;});var cssomPrefixes=(ModernizrProto._config.usePrefixes?omPrefixes.split(' '):[]);ModernizrProto._cssomPrefixes=cssomPrefixes;function contains(str,substr){return!!~(''+str).indexOf(substr);};function cssToDOM(name){return name.replace(/([a-z])-([a-z])/g,function(str,m1,m2){return m1+m2.toUpperCase();}).replace(/^-/,'');};Modernizr.addTest('csspositionsticky',function(){var prop='position:';var value='sticky';var el=createElement('a');var mStyle=el.style;mStyle.cssText=prop+prefixes.join(value+';'+prop).slice(0,-prop.length);return mStyle.position.indexOf(value)!==-1;});function fnBind(fn,that){return function(){return fn.apply(that,arguments);};};function testDOMProps(props,obj,elem){var item;for(var i in props){if(props[i]in obj){if(elem===false){return props[i];}
item=obj[props[i]];if(is(item,'function')){return fnBind(item,elem||obj);}
return item;}}
return false;};var modElem={elem:createElement('modernizr')};Modernizr._q.push(function(){delete modElem.elem;});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style;});function domToCSS(name){return name.replace(/([A-Z])/g,function(str,m1){return'-'+m1.toLowerCase();}).replace(/^ms-/,'-ms-');};function nativeTestProps(props,value){var i=props.length;if('CSS'in window&&'supports'in window.CSS){while(i--){if(window.CSS.supports(domToCSS(props[i]),value)){return true;}}
return false;}
else if('CSSSupportsRule'in window){var conditionText=[];while(i--){conditionText.push('('+domToCSS(props[i])+':'+value+')');}
conditionText=conditionText.join(' or ');return injectElementWithStyles('@supports ('+conditionText+') { #modernizr { position: absolute; } }',function(node){return getComputedStyle(node,null).position=='absolute';});}
return undefined;};function testProps(props,prefixed,value,skipValueTest){skipValueTest=is(skipValueTest,'undefined')?false:skipValueTest;if(!is(value,'undefined')){var result=nativeTestProps(props,value);if(!is(result,'undefined')){return result;}}
var afterInit,i,propsLength,prop,before;var elems=['modernizr','tspan','samp'];while(!mStyle.style&&elems.length){afterInit=true;mStyle.modElem=createElement(elems.shift());mStyle.style=mStyle.modElem.style;}
function cleanElems(){if(afterInit){delete mStyle.style;delete mStyle.modElem;}}
propsLength=props.length;for(i=0;i<propsLength;i++){prop=props[i];before=mStyle.style[prop];if(contains(prop,'-')){prop=cssToDOM(prop);}
if(mStyle.style[prop]!==undefined){if(!skipValueTest&&!is(value,'undefined')){try{mStyle.style[prop]=value;}catch(e){}
if(mStyle.style[prop]!=before){cleanElems();return prefixed=='pfx'?prop:true;}}
else{cleanElems();return prefixed=='pfx'?prop:true;}}}
cleanElems();return false;};var testProp=ModernizrProto.testProp=function(prop,value,useValue){return testProps([prop],undefined,value,useValue);};function testPropsAll(prop,prefixed,elem,value,skipValueTest){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+' '+cssomPrefixes.join(ucProp+' ')+ucProp).split(' ');if(is(prefixed,'string')||is(prefixed,'undefined')){return testProps(props,prefixed,value,skipValueTest);}else{props=(prop+' '+(domPrefixes).join(ucProp+' ')+ucProp).split(' ');return testDOMProps(props,prefixed,elem);}}
ModernizrProto.testAllProps=testPropsAll;function testAllProps(prop,value,skipValueTest){return testPropsAll(prop,undefined,undefined,value,skipValueTest);}
ModernizrProto.testAllProps=testAllProps;Modernizr.addTest('flexbox',testAllProps('flexBasis','1px',true));testRunner();setClasses(classes);delete ModernizrProto.addTest;delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++){Modernizr._q[i]();}
window.Modernizr=Modernizr;;})(window,document);(function(Modernizr){'use strict';var scrollbarWidth=null;var scrollbarHeight=null;function calcBodyScrollbars(){var scrollDiv;var documentBody=document.body;scrollDiv=document.createElement('div');scrollDiv.style.position='absolute';scrollDiv.style.height='100px';scrollDiv.style.left='-99999px';scrollDiv.style.overflow='scroll';scrollDiv.style.width='100px';documentBody.appendChild(scrollDiv);scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;scrollbarHeight=scrollDiv.offsetHeight-scrollDiv.clientHeight;documentBody.removeChild(scrollDiv);}
Backbone.Webshop.Device={isTouchDevice:function(){return Modernizr.touchevents&&this.devicePixelRatio()>1;},devicePixelRatio:function(){return window.devicePixelRatio||(window.screen.deviceXDPI&&window.screen.logicalXDPI&&window.screen.deviceXDPI/window.screen.logicalXDPI)||1;},deviceName:function(){if(bowser.ios||bowser.blackberry){return bowser.name;}else if(bowser.android){return'Android';}else if(bowser.windowsphone){return'Windows Mobile';}
return'PC';},_hoverSelectorSupported:null,isHoverSelectorSupported:function(){if(this._hoverSelectorSupported===null){this._hoverSelectorSupported=false;if(document.querySelector){try{document.querySelector('body:hover');this._hoverSelectorSupported=true;}catch(_e){}}}
return this._hoverSelectorSupported;},_pointerEventsSupported:null,isPointerEventsSupported:function(){if(this._pointerEventsSupported===null){var element=document.createElement('x');element.style.cssText='pointer-events:auto';return element.style.pointerEvents==='auto';}
return this._pointerEventsSupported;},_passiveEventsSupported:null,isPassiveEventsSupported:function(){if(this._passiveEventsSupported===null){this._passiveEventsSupported=false;try{var that=this;var opts=Object.defineProperty({},'passive',{get:function(){that._passiveEventsSupported=true;}});window.addEventListener('test',null,opts);}catch(e){}}
return this._passiveEventsSupported;},getBodyScrollbarWidth:function(){if(scrollbarWidth===null){calcBodyScrollbars();}
return scrollbarWidth;},getBodyScrollbarHeight:function(){if(scrollbarHeight===null){calcBodyScrollbars();}
return scrollbarHeight;},_transitionEndEventName:null,getSupportedTransitionEndEventName:function(){if(this._transitionEndEventName!==null){return this._transitionEndEventName;}
var i;var el=document.createElement('div');var transitions={'transition':'transitionend','OTransition':'otransitionend','MozTransition':'transitionend','WebkitTransition':'webkitTransitionEnd'};for(i in transitions){if(transitions.hasOwnProperty(i)&&el.style[i]!==undefined){return this._transitionEndEventName=transitions[i];}}
return this._transitionEndEventName=undefined;},_fixIpadBugWithCancelBodyScrollingFixed:false,fixIpadBugWithCancelBodyScrolling:function(){if(!this._fixIpadBugWithCancelBodyScrollingFixed){window.addEventListener('touchmove',function(){},false);this._fixIpadBugWithCancelBodyScrollingFixed=true;}}}})(Modernizr);(function(Modernizr){'use strict';Modernizr.addTest('webshop-touch',function(){return Backbone.Webshop.Device.isTouchDevice();});})(Modernizr);if(!Date.now){Date.now=function now(){return new Date().getTime();};}
window.requestAnimationFrame||function(window){'use strict';window.requestAnimationFrame=window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(){var fps=60;var delay=1000/fps;var animationStartTime=Date.now();var previousCallTime=animationStartTime;return function requestAnimationFrame(callback){var requestTime=Date.now();var timeout=Math.max(0,delay-(requestTime-previousCallTime));var timeToCall=requestTime+timeout;previousCallTime=timeToCall;return window.setTimeout(function onAnimationFrame(){callback(timeToCall-animationStartTime);},timeout);};}();window.cancelAnimationFrame=window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||function cancelAnimationFrame(id){window.clearTimeout(id);};}(this);if(!String.prototype.startsWith){String.prototype.startsWith=function(search,pos){return this.substr(!pos||pos<0?0:+pos,search.length)===search;};}