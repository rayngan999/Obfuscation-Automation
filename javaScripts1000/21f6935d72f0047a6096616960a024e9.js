/*!
 * Copyright (c) 2021 by Marfeel Solutions (http://www.marfeel.com)
 * All Rights Reserved.
 * 
 * NOTICE:  All information contained herein is, and remains
 * the property of Marfeel Solutions S.L and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Marfeel Solutions S.L and its
 * suppliers and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Marfeel Solutions SL.
 * 
 */!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=window;function a(e){if(e.length>1){for(var t=e.substring(1).split("&"),r=[],n=0;n<t.length;++n)!/^utm_/.test(t[n])&&r.push(t[n]);return r.join("&")}return null}function o(e){return e?self.URL&&self.URL.prototype.hasOwnProperty("origin")?function(e){return new self.URL(e)}(e):function(e){var t=document.createElement("a");return t.href=e,t}(e):e}function i(e,t){for(var r=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r}var l=null;function f(e,t){var r,n,a=window.innerWidth/1024,o=90===Math.abs(window.orientation)?"landscape":"portrait";r="s"===t?.56*(n="portrait"===o?270:240):.53*(n="portrait"===o?140:100),e.height=r*a+"px",e.width=n*a+"px"}function c(e){var t=window.innerWidth,r=document.createElement("div"),n=r.style;return f(n,e),r.className="mrf-marfeelBadge",n.position="fixed",n.display="block",n.bottom="60px",n.right=0,n.zIndex=2147483647,n.backgroundImage="url("+function(e){return"https://"+window.marfeel.GardaCUtil.getMarfeelHost()+"/statics/marfeel/garda/mrf-badge-dflt."+e+".png"}(e)+")",n.backgroundSize="100% 100%",n.webkitBorderTopLeftRadius="6px",n.webkitBorderBottomLeftRadius="6px",setInterval((function(){var e=window.innerWidth;t!==e&&(t=e,f(n))}),2e3),r.addEventListener("touchend",(function(e){e.stopPropagation(),window.marfeel.GardaC.reloadMarfeel()})),r}function s(){return/Android 4\.[0-4]/gi.test(window.marfeel.GardaCUtil.navigatorUserAgent)&&!/Chrome/i.test(window.marfeel.GardaCUtil.navigatorUserAgent)}var d={getDeviceType:function(){if(!l){var e=window.marfeel.GardaCUtil.navigatorUserAgent,t=window.marfeel.GardaCUtil.windowWidth,r=window.marfeel.GardaCUtil.windowHeight,n=t>r?"landscape":"portrait",a="portrait"===n&&t<=635||"landscape"===n&&r<=635;/ipad/i.test(e)?l="l":/ip(hone|od)|android.*(mobile|mini)/i.test(e)||/\bSilk\b/i.test(e)?l="s":/android (?!(1|2|3)\.)[0-9](?!.*mobile)/i.test(e)?l=a?"s":"l":this.isEnabled()||(l=window.marfeel.GardaCUtil.windowInnerWidth<=480?"s":"l")}return l},setDeviceType:function(e){l=e},userWantsMarfeel:function(){return!/marfeelgarda=no|fromt=yes/i.test(window.marfeel.GardaCUtil.locationSearch+";"+window.marfeel.GardaCUtil.documentCookie)},showMarfeelBadge:function(){var e=function e(){window.removeEventListener("DOMContentLoaded",e),document.getElementsByTagName("body")[0].appendChild(c(window.marfeel.GardaC.getDeviceType()))};"interactive"===document.readyState||"complete"===document.readyState?e.call(this):window.addEventListener("DOMContentLoaded",e)},reloadMarfeel:function(){this.cleanMarfeelCookie(),document.location.search=document.location.search.replace("fromt=yes","")},cleanMarfeelCookie:function(){window.marfeel.GardaCUtil.setCookieValue("fromt","no",Number.MAX_SAFE_INTEGER),window.marfeel.GardaCUtil.setCookieValue("FromMarfeelOnError","NO",Number.MAX_SAFE_INTEGER),window.marfeel.GardaCUtil.setCookieValue("MarfeelGarda","YES",Number.MAX_SAFE_INTEGER)},setCookieValue:function(e,t,r){var n=e+"="+t;n+=";expires="+new Date(Date.now()+r).toGMTString(),n+=";domain="+this.documentDomain,n+=";path=/",document.cookie=n},getMarfeelHost:function(){return window.mrf.host},getThemeForDevice:function(){return document.location.hostname.indexOf("newsone.gr")>=0&&"s"===l&&s()?"amp/":""},isEnabled:function(){return!/marfeelgarda=off/i.test(window.marfeel.GardaCUtil.locationSearch)},getMarfeelCt:function(){var e=document.head.querySelector("[data-mrf-script]");return e&&e.dataset.mrfCt?e.dataset.mrfCt:null}};var u={features:{}};function m(){var e=function(e){var t,r,a=n.document.cookie.split(";");for(t=0;t<a.length;t+=1)if((r=(r=a[t]).split("="))[0].trim()===e.trim())return r[1];return null}("mrf-features");return null===e?u:JSON.parse(e)}function p(){var e,t=((e=document.getElementById("mrf-features-json"))?JSON.parse(e.innerHTML):{features:{}}).features;try{var r=m().features;return r?Object.assign({},t,r):t}catch(e){return t}}function h(e){return!!p()[e]}var g=n.document,w=n.location;n.marfeel=n.marfeel||{},n.mrf=n.mrf||{};var v=n.marfeel.GardaC={},y=n.marfeel.GardaCUtil={};function b(e,t,r,n){var a=new XMLHttpRequest,o=n||{};a.timeout=o.timeout||1e4,a.open("POST",e),a.setRequestHeader("Content-type",o.contentType),o.withCredentials&&(a.withCredentials=!0),a.onreadystatechange=function(){4===a.readyState&&r()},a.send(t)}function x(e,t,r){return"v=1&tid="+e+"&cid="+t+"&t=event&ec=Error&ea=GardaC-Sync_"+r+"&el="+y.locationHref+"&ev=0"}function M(){return/bb10/i.test(y.navigatorUserAgent)||/windows phone/i.test(y.navigatorUserAgent)}function C(){return"https://"+(y.getMarfeelHost()+"/"+v.getThemeForDevice()+y.documentDomain+y.locationPathname+y.locationSearch).replace(/\/+/g,"/")}i(y,{locationHostname:w.hostname,locationHref:w.href,locationSearch:w.search,locationPathname:w.pathname,navigatorUserAgent:n.navigator.userAgent,documentDomain:g.domain,documentReferrer:g.referrer,documentCookie:g.cookie,windowWidth:n.screen.width,windowInnerWidth:n.innerWidth,windowHeight:n.screen.height,getMarfeelHost:d.getMarfeelHost,getMarfeelName:function(){return n.mrf.name||null},showBadge:function(){return!(M()||!1===n.mrf.showBadge)},setCookieValue:d.setCookieValue,hasCookie:function(e){return g.cookie.indexOf(e)>=0},getMarfeelUrl:function(e){var t=o(n.mrf.transfUrl?n.mrf.transfUrl(C()):C()),r=this.getMarfeelName(),i=d.getMarfeelCt(),l=function(e){for(var t="",r=0;r<e.length;++r)t+=e[r]?"&"+e[r]:"";return t.substring(1)}(["marfeeldt=".concat(e),r&&"marfeeln=".concat(r),i&&"marfeelct=".concat(i),a(t.search)]);return t.origin+t.pathname+"?"+l},trackError:function(e,t){var r=y.generateUUID(),n=3,a=function(){!--n&&t&&t()},o="http://www.google-analytics.com/collect",i={contentType:"application/x-www-form-urlencoded"},l="https://cosmos.marfeel.com/varys_errors-"+Date.now()+"/event",f=JSON.stringify(function(e,t){return{msg:"GardaC-Sync_"+e+": "+y.locationHref,dl:y.locationHref,dh:y.getMarfeelHost(),ua:y.navigatorUserAgent,mdt:v.getDeviceType(),cid:t,type:"gardaerror",ts:Date.now(),referrer:y.documentReferrer,xplib:h("useMarfeelXPAsALibrary")}}(e,r));b(o,x("UA-27070218-1",r,e),a,i),b(o,x("UA-27070218-13",r,e),a,i),b(l,f,a,{contentType:"application/json"})},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}),i(v,{getDeviceType:d.getDeviceType,setDeviceType:d.setDeviceType,getThemeForDevice:d.getThemeForDevice,isEnabled:d.isEnabled,userWantsMarfeel:d.userWantsMarfeel,cleanMarfeelCookie:d.cleanMarfeelCookie,isExtractable:function(){var e=g.head.querySelector('meta[name="mrf-extractable"]');return!e||"false"!==e.getAttribute("content")},shouldShowMarfeel:function(){if(!n.mrf.ab)return!0;var e="mrf-ab-"+n.mrf.ab;if(y.hasCookie(e+"="))return y.hasCookie(e+"=true");var t=Math.random()<n.mrf.ab;return y.setCookieValue(e,t,2592e6),t},reloadMarfeel:d.reloadMarfeel,redirectToMarfeel:function(){var e=y.getMarfeelUrl(this.getDeviceType()),t=new XMLHttpRequest,r=g.createElement("iframe");if(r.id="mrf-tenantSrcIframe",r.style.display="none",t.open("GET",e,!1),t.send(),200===t.status){var n=g.open();n.write(t.responseText),n.body.appendChild(r),n.write('<plaintext id="mrf-tenantSrcWrapper" style="display:none">'),r.contentDocument.body.appendChild(n.getElementById("mrf-tenantSrcWrapper")),n.close()}else(t.status>=500||function(e){return 0===e.status&&e.getAllResponseHeaders()}(t))&&y.trackError(t.status)},showMarfeelBadge:d.showMarfeelBadge,installDesktopScript:function(){var e=y.locationPathname.split("/"),t=g.createElement("script");t.src="https://".concat(d.getMarfeelHost(),"/").concat(y.locationHostname)+(n.mrf.multi&&e.length>1&&e[1].length?"/"+e[1]:"")+"/main.d.js",t.async=!0,g.head.appendChild(t)},readConfiguration:function(){var e=g.head.querySelector("[data-mrf-script]");return!!e&&(n.mrf.host=e.getAttribute("data-mrf-host"),n.mrf.dt=e.getAttribute("data-mrf-dt")||3,n.mrf.multi=e.getAttribute("data-mrf-multi"),e.hasAttribute("data-mrf-ab")&&(n.mrf.ab=e.getAttribute("data-mrf-ab")),!0)},perform:function(){(function(e,t){if(M())return!1;var r="l"===e&&2&t,n="s"===e&&1&t,a=y.locationSearch.indexOf("marfeelcherokee")>=0;return r||n||a})(this.getDeviceType(),n.mrf.dt)&&this.isExtractable()&&this.shouldShowMarfeel()?this.userWantsMarfeel()?this.redirectToMarfeel():this.isEnabled()&&y.showBadge()&&this.showMarfeelBadge():this.installDesktopScript()}}),v.readConfiguration()&&v.perform()}]);