"use strict";var appZipCode=function(){function d(e){return e.replace(/(\d{5})(\d)/,"$1-$2")}function n(e){var o=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return o?o[2]:null}function r(e){document.querySelector(".text").classList.add("hide");var o=document.querySelector(".text__sucess"),t=o.querySelector("span");t&&(t.innerText=d(e)),o.classList.remove("hide"),document.querySelector(".zipcode-content__block--text")?(document.querySelector(".zipcode-content__block--text").innerHTML='Enviar para: <span class="zipcode-value">'+d(e)+"</span>",document.querySelector(".zipcode-content__block--text").classList.add("filled")):document.querySelector(".zipcode-content__text").innerHTML="Enviar para <span class='zipcode-value'>"+d(e)+"</span>"}function u(e){e?""!==document.querySelector(i).value?(document.querySelector(o).classList.remove("hide"),document.querySelector(a).classList.add("hide"),document.querySelector(t).classList.add("hide")):(document.querySelector(o).classList.add("hide"),document.querySelector(t).classList.add("hide"),document.querySelector(a).classList.remove("hide")):(document.querySelector(o).classList.add("hide"),document.querySelector(a).classList.add("hide"),document.querySelector(t).classList.add("hide"),function(){var e=document.querySelector(i),o=document.querySelector(b);e.closest(".zip__code-box").classList.add("hide"),o.classList.add("hide"),e=e.value.replace(/[^\d]+/g,"");var t=document.querySelector(s),c=t?t.querySelector("span"):null;c&&(c.innerText="OK");var d=new Date;d.setMonth(d.getMonth()+1);var n="expires="+d.toUTCString();document.cookie="zipcode="+e+";"+n+";path=/",window.freedom.nsPubSub.pub("zipcodeCookie.reinit"),r(e)}())}function e(){""!==document.querySelector(i).value?document.querySelector(p+" label").classList.remove("hide"):document.querySelector(p+" label").classList.add("hide")}function c(e){var o,t=document.querySelector(s),c=t?t.querySelector("span"):null;n("zipcode")?c&&(c.innerText="Alterar"):c&&(c.innerText="Consultar"),document.querySelector(".text__sucess").classList.add("hide"),document.querySelector(".text").classList.remove("hide"),document.querySelector(".zip__code-box").classList.remove("hide"),document.querySelector(i).setAttribute("value",(o="",o=null!==n("zipcode")?n("zipcode"):document.querySelector(i).value,d(o))),document.querySelector(p+" label").classList.remove("hide"),n("uname")?document.querySelector(b).classList.add("hide"):document.querySelector(b).classList.remove("hide"),e?document.querySelector(".zip__code--rules").classList.remove("hide"):document.querySelector(".zip__code--rules").classList.add("hide"),window.freedom.nsPubSub.pub(m,"show"),document.querySelector(l).classList.remove("hide")}var i="[data-zip-code-input]",s="[data-zip-code-submit]",o=".zip__code-err",t=".zip__code-fail-err",a=".zip__code-empty",l=".zipcode-content .zip__code--container",p=".zip__code-box",m="overlay.display",S=".zip__code--tooltip",b=".zip__code-user",y=document.querySelector("section[data-free-shipping-by-zipcode]"),h=document.querySelector("section[data-get-zipcode-info]"),w=dataLayer[0].page?dataLayer[0].page.pageID.toLowerCase():"others",q=!0;function v(){var e,o,t;(t=document.querySelector(".zip__code-user--button"))&&(e=window.location.pathname||"",o=window.location.search||"",t.href=e&&"/"!==e?"/login?redirect="+e+o:"/login"),c()}var f;try{!function(){document.querySelector(".zipcode-content__block").addEventListener("click",v);document.querySelector(s).addEventListener("click",function(e){var o,t,c=this.querySelector(".text");e.preventDefault(),e.stopPropagation(),c&&"OK"===c.innerText?(t=document.querySelector("button[data-zip-code-submit] span"),document.querySelector(l).classList.add("hide"),window.freedom.nsPubSub.pub(m,"hide"),t&&(t.innerText="ALTERAR"),document.querySelector(S)&&(document.querySelector(S).classList.remove("hide"),setTimeout(function(){document.querySelector(S).classList.add("hide")},5e3)),"product"===w&&window.freedom.nsPubSub.pub("Shipping.restart"),(y||h)&&(o=n("zipcode"),window.zipcodeAPIsAjax=!1,window.freedom.nsPubSub.pub("nsLoading.show",document.body),window.FREESHIPPING_BANNER_CUSTOM_ACTION&&window.freedom.nsPubSub.pub("customBannerAction.zipcodeChanged"),window.freedom.nsPubSub.pub("checkFreeShippingEligibility",o),window.freedom.nsPubSub.pub("getZipcodeFullInfo",o))):!function(e,o){if(""===e)return!1;var t=e.replace(/\D/g,""),c=/^[0-9]{8}$/;return"es-AR"===o?c=/^[0-9]{4}$/:"es-MX"===o&&(c=/^[0-9]{5}$/),c.test(t)}(document.querySelector(i).value,document.querySelector("html").getAttribute("lang"))?u(!0):u(!1)}),window.freedom.live("#overlay","click",function(){var e,o,t=document.querySelector(".zip__code--calculate .text");window.freedom.nsPubSub.pub(m,"hide"),document.querySelector(l).classList.add("hide"),t&&"OK"===t.innerText?("product"===w&&window.freedom.nsPubSub.pub("Shipping.restart"),(y||h)&&(e=n("zipcode"),window.zipcodeAPIsAjax=!1,window.freedom.nsPubSub.pub("nsLoading.show",document.body),window.FREESHIPPING_BANNER_CUSTOM_ACTION&&window.freedom.nsPubSub.pub("customBannerAction.zipcodeChanged"),window.freedom.nsPubSub.pub("checkFreeShippingEligibility",e),window.freedom.nsPubSub.pub("getZipcodeFullInfo",e))):(o=document.querySelector(".shipping__delivery-date[doubts-interaction]"))&&o.removeAttribute("doubts-interaction")}),window.freedom.live(i,"click",function(){q&&(q=!1,document.querySelector(i).addEventListener("input",function(){e()}),document.querySelector(i).addEventListener("blur",function(){e()}))})}(),document.querySelector(i).addEventListener("keyup",function(e){var o=(o=e.target.value.replace(/[^\d]+/g,"")).replace(/(\d{5})(\d)/,"$1-$2");e.target.value=o}),n("zipcode")&&(f=n("zipcode"),r(f)),window.freedom.nsPubSub.sub("changeHeaderZipcode",r),window.freedom.nsPubSub.sub("changeHeaderZipcode",function(e){document.querySelector(i).value=e.replace(/(\d{5})(\d)/,"$1-$2")}),window.freedom.nsPubSub.sub("insertZipcode.showModal",c),window.freedom.nsPubSub.sub("Doubts.InsertZipcode.open",v)}catch(e){console.error("ERROR | Shipping "+e)}}();