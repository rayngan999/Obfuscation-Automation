(function(c,q){var r=(q.BridIframeBurst?c.top:c).document,a=Brid.Util,b=Brid.Sprite,t=Brid.Button,z=Brid.Tweener.Tween,A=Brid.Tweener.Easing,d=Brid.isMobilePlatform,f=a.canUseVector,l=a.createElement,B=Brid.event,u=a.css,w=Brid.OSPlayer.positionType;Brid.OSControlBar=b.extend({default:{children:{controlBarLeft:{},controlBarBg:{},controlBarRight:{},playToggle:{},muteToggle:{},volumeControl:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},adTimeDisplay:{},fullscreenToggle:{},brand:{}}},init:function C(p,
b){this.default.children||(this.config.children={});a.merge(this.default.children,p.config.controlsPlugins);C.base.call(this,p,b);!1===p.config.controls&&this.hide();p.addOnce("ready",this.$f(this.onPlayerReady));p.add("fullscreenchange",this.$f(this.onFullScreenChange))},enabled:!0,listenersState:!1,createElement:function p(){return p.base.call(this,"div",{className:"brid-controls"})},onPlayerReady:function(){if(this.enabled){var a=this.player;a.add("enableInteraction",this.$f(this.onEnableControls));
a.add(["beforeStart","start"],this.$f(this.onNewContent));a.add("disableInteraction",this.$f(this.onDisableInteraction))}},onNewContent:function(){this.toggleListeners(!1);this.onEnableControls()},toggleListeners:function(b){var c=b?"add":"remove";this.listenersState!==b&&(this.listenersState=b,a.hasTouch()&&(this[c](["touchstart","touchmove"],this.$f(this.onMouseOver)),this[c]("touchend",this.$f(this.onMouseOut))),d||(this[c](["mousemove","mouseover"],this.$f(this.onMouseOver)),this[c]("mouseout",
this.$f(this.onMouseOut))),this.player[c]("show",this.$f(this.fadeIn)),this.player[c]("hide",this.$f(this.fadeOut)))},fadeIn:function(){d?setTimeout(this.$f(function(){this.player.addClass("brid-visible-controls")}),200):this.player.addClass("brid-visible-controls");this.fsDispatched=!1},fadeOut:function(){this.player.removeClass("brid-visible-controls")},onMouseOver:function(){this.player.lockShow()},onMouseOut:function(){this.player.unlockShow()},onEnableControls:function(){var a=this.player;this.enabled=
!0;this.el.style.background="";this.el.style.backgroundColor="";this.el.style.border="";this.el.style.pointerEvents="";this.controlBarLeft.el.style.display="";this.controlBarBg.el.style.display="";this.controlBarRight.el.style.display="";d&&a.positionType===w.IN_GLIDE||this.toggleListeners(!0)},onFullScreenChange:function(){this.fsDispatched=!0;this.fIn&&this.fIn.stop()},onDisableInteraction:function(){this.el.style.background="none";this.el.style.backgroundColor="none";this.el.style.border="none";
this.el.style.pointerEvents="none";this.controlBarLeft.hide();this.controlBarBg.hide();this.controlBarRight.hide()},resetSkin:function D(){D.base.call(this)}});Brid.ControlBarLeft=b.extend({createElement:function E(){return E.base.call(this,"div",{className:"brid-controls-left"})}});Brid.ControlBarBg=b.extend({createElement:function F(){return F.base.call(this,"div",{className:"brid-controls-middle"})}});Brid.ControlBarRight=b.extend({createElement:function G(){return G.base.call(this,"div",{className:"brid-controls-right"})}});
Brid.TouchOverlay=b.extend({currentListener:"remove",init:function H(a,m){H.base.call(this,a,m);a.add(["disableInteraction","adStart"],this.$f(this.onDisableInteraction));a.add(["enableInteraction","adEnd"],this.$f(this.onEnableInteraction));a.add(["ended","newContent"],this.$f(this.reset));a.addOnce("ready",this.$f(this.onPlayerReady));this.add("mouseover",this.$f(function(){this.player.mouseOver()}))},createElement:function I(){return I.base.call(this,"div",{className:"brid-touch-overlay"})},onPlayerReady:function(){d&&
this.add("touchend",this.$f(this.onTouchEnd));d&&!this.player.config.slide_inview||this.add("click",this.$f(this.onClick));this.reset()},reset:function(){var a=this.player;if(a.officialTech()){var m="remove";this.show()}else m="add",this.hide();this.currentListener!=m&&(this.currentListener=m,a[m]("show",this.$f(this.hide)),a[m]("hide",this.$f(this.show)))},show:function m(){d&&this.player.tech.support.hasPoster||m.base.call(this)},onClick:function(a){this.player.trigger("userInteraction");this.player.togglePlay(a)},
onTouchEnd:function(){var a=this.player;a.inFocus?(a.inFocus=!1,a.trigger("hide")):(a.inFocus=!0,a.trigger("show"));if(isMobilePlatfor&&!this.player.config.slide_inview)this.onClick()},onDisableInteraction:function(a){this.hide();"adStart"==a.type&&this.player.Advertising&&!this.player.Advertising.isLinear()&&this.player.addOnce(["enableInteraction"],this.$f(this.hide))},onEnableInteraction:function(){var a=this.player,b=a.techName;a.officialTech()&&"flash"!=b&&this.show()}});Brid.PlayToggle=t.extend({svg_play:"24.3 27.2'><path fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3' d='M0.2,27.2V0.2l24.1,13.7L0.2,27.2z'/><path fill='#fff' d='M0.2,27.2V0.2l24.1,13.7L0.2,27.2z'/>",
svg_pause:"20.4 20'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><rect x='3.8' y='3.1' width='3.9' height='13.2'/><rect x='12' y='3.1' width='3.9' height='13.2'/></g><g><rect x='3.8' y='3.1' fill='#FFFFFF' width='3.9' height='13.2'/><rect x='12' y='3.1' fill='#FFFFFF' width='3.9' height='13.2'/></g>",svg_repeat:"20.4 20'><path transform='scale(1.05)' fill='#000' opacity='0.3' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/><path fill='#FFFFFF' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/>",
default:{title:"Toggle Playback"},init:function J(h,b){h.config.translate&&h.config.translate.toggle_play&&(this.default.title=h.config.translate.toggle_play);J.base.call(this,h,b);this.el.innerHTML=a.generateSVG(this.player.config.Skin.PlayToggle||this.svg_play,this.player.id);this.animParams={scale:1,op:1};this.scaleDownAnim=(new z(this.animParams)).to({scale:.01,op:0},80).easing(A.Quadratic.Out).onUpdate(this.$f(this.onTweenUpdate));this.scaleUpAnim=(new z(this.animParams)).to({scale:1,op:1},80).easing(A.Quadratic.Out).onUpdate(this.$f(this.onTweenUpdate));
this.state=0;h.add(["play","start","playing"],this.$f(this.onPlay));h.add("pause",this.$f(this.onPause));h.add("ended",this.$f(this.onEnd));h.add("adEnd",this.$f(this.onAdEnded));d&&h.add("newContent",this.$f(this.onPause));this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor)},appendClassName:function h(){return"brid-play-control brid-control "+h.base.call(this)},onTweenUpdate:function(){var a="scale("+this.animParams.scale+")";this.css({webkitTransform:a,mozTransform:a,
transform:a,opacity:this.animParams.op})},onClick:function(a){this.player.trigger("userInteraction");this.player.togglePlay(a)},onPlay:function(){Brid.log("PlayToggle onPlay this.state",this.state);1!=this.state&&this.scaleDownAnim&&this.scaleUpAnim&&(this.state=1,this.scaleDownAnim.start().onComplete(this.$f(function(){f()?(this.el.innerHTML=a.generateSVG(this.player.config.Skin.Pause||this.svg_pause,this.player.id),this.primaryColor&&this.setPrimaryColor(this.primaryColor)):(a.removeClass(this.el,
"brid-paused"),a.removeClass(this.el,"brid-replay"),a.addClass(this.el,"brid-playing"));this.scaleUpAnim.start()})))},onPause:function(){Brid.log("PlayToggle onPause this.state",this.state);0!=this.state&&this.scaleDownAnim&&this.scaleUpAnim&&(this.state=0,this.scaleDownAnim.start().onComplete(this.$f(function(){f()?(this.el.innerHTML=a.generateSVG(this.player.config.Skin.PlayToggle||this.svg_play,this.player.id),this.primaryColor&&this.setPrimaryColor(this.primaryColor)):(a.removeClass(this.el,"brid-playing"),
a.removeClass(this.el,"brid-replay"),a.addClass(this.el,"brid-paused"));this.scaleUpAnim.start()})))},onEnd:function(){var b=this.player;Brid.log("PlayToggle onEnd this.state",this.state);!b.isNextQueued()&&!b.currentSource.intro_video&&this.scaleDownAnim&&this.scaleUpAnim&&2!=this.state&&(this.state=2,this.scaleUpAnim.stop(),this.scaleDownAnim.start().onComplete(this.$f(function(){f()?(this.el.innerHTML=a.generateSVG(b.config.Skin.Repeat||this.svg_repeat,b.id),this.primaryColor&&this.setPrimaryColor(this.primaryColor)):
(a.removeClass(this.el,"brid-playing"),a.removeClass(this.el,"brid-paused"),a.addClass(this.el,"brid-replay"));this.scaleUpAnim&&this.scaleUpAnim.start()})))},onAdEnded:function(){if(this.player.ended())this.onEnd()},setPrimaryColor:function(a){this.primaryColor=a;if(this.player.config.Skin.id&&1==this.player.config.Skin.id)if(0==this.state||2==this.state){var b=this.el.getElementsByTagName("path")[1];b&&b.setAttribute("fill",a)}else if(1==this.state){var b=this.el.getElementsByTagName("rect")[2],
c=this.el.getElementsByTagName("rect")[3];b&&b.setAttribute("fill",a);c&&c.setAttribute("fill",a)}},destroy:function K(){this.scaleDownAnim&&(this.scaleDownAnim.stop(),this.scaleDownAnim=null);this.scaleUpAnim&&(this.scaleUpAnim.stop(),this.scaleUpAnim=null);K.base.call(this)}});Brid.Brand=t.extend({svg:"16.9 16.5'><path fill='#ff0000' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><path class='brand-bg' fill='#999' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><g><path fill='#FFF' d='M2.2,6.3c0.2,0,0.4-0.1,1-0.2C3.8,5.9,4,5.9,4.6,5.8c-0.1,0.4-0.1,1-0.1,1.6C4.4,8.2,4.4,9,4.4,9.1 c0,0.2,0,1,0,1.2c0,0.7,0,1,0.1,1.3c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.2,0.3,0.2,0.5,0.2c0.2-0.1,0.4-0.3,0.4-0.5v-0.1 c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2c0-0.3,0-0.6,0-0.8c0,0,0-0.3,0-0.6c0-0.2,0-0.5,0-1c0-0.2,0-0.4,0-1.1c0-0.5,0-1.3,0.1-1.9 c0,0,0,0,0.1,0c0.1,0,0.4-0.1,0.8-0.1c0.5-0.1,1.3-0.1,1.6-0.2c0.1,0,0.3-0.1,0.3-0.1V5.3c0,0,0-0.1,0-0.3c0-0.1,0-0.1,0-0.1V4.8 c0.1,0,0-0.1,0-0.1c-0.1,0-0.1-0.1-0.1-0.1L8.3,4.5c-0.1,0,0,0-0.1,0c-0.1,0-0.2,0-0.2,0s0,0-0.1,0C7.6,4.6,6.3,4.8,5.5,4.9 C4.5,5.1,3,5.4,2.1,5.6c-0.2,0-0.2,0.2-0.2,0c0,0.1,0,0.2,0,0.2c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0.1,0.2C2,6.2,2.1,6.3,2.2,6.3z'/><path fill='#FFF' d='M9.9,10.8c0.2,0.5,0.7,1.3,1.2,1.3c0.6,0,0.8-0.9,1.1-1.6C12.6,9.6,12.8,9,13,8.4c0.2-0.6,1-2.6,1.1-2.8 c0.1,0,0.2-0.3,0.3-0.3c0.1-0.1,0.2-0.3,0-0.4c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.3-0.2-0.4-0.2c-0.1,0-0.3,0.1-0.5,0.2 C13.1,4.6,13,4.7,13,4.8c0,0.1-0.1,0.3-0.1,0.4c0,0-0.1,0.6-0.3,1.2C12.4,7,12.2,7.5,12,8c-0.2,0.4-0.5,1.3-0.8,1.9 c-0.2,0.4-0.3,0.6-0.4,0.6c-0.1,0-0.3-0.7-0.4-1.3c-0.1-0.7-0.3-1.5-0.3-2c0-0.4-0.1-1.4-0.1-1.7S9.8,5,9.7,4.9 c-0.1,0-0.3-0.1-0.4-0.1c-0.2,0-0.4,0.4-0.4,0.7c0,0.2,0,0.3,0,0.4c0,0,0,0.1,0,0.2C9,6.7,9.2,7.8,9.3,8.6 C9.5,9.4,9.7,10.3,9.9,10.8z'/></g>",
default:{title:"brid.tv"},init:function L(b,c){b.config.Partner.brand&&(L.base.call(this,b,c),this.el.innerHTML=a.generateSVG(this.player.config.Skin.Brand||this.svg,this.player.id),this.onMouseOut(),b.config.primaryColor&&this.setPrimaryColor(b.config.primaryColor))},appendClassName:function M(){return"brid-brand brid-control "+M.base.call(this)},onClick:function(){c.open("https://www.brid.tv","_blank");this.player.trigger("userInteractionLow")},setPrimaryColor:function(a){if(this.player.config.Skin.id&&
1==this.player.config.Skin.id){var b=this.el.getElementsByTagName("path")[0];b&&b.setAttribute("fill",a)}}});Brid.FullscreenToggle=t.extend({svg:"18.5 12.2'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><path d='M0,0h18.5v12.2H0V0z M17.1,1.4H1.4v9.3h15.6V1.4z'/><rect x='9.2' y='3.7' width='5.4' height='3.5'/></g><g><path fill='#FFFFFF' d='M0,0h18.5v12.2H0V0z M17.1,1.4H1.4v9.3h15.6V1.4z'/><rect x='9.2' y='3.7' fill='#FFFFFF' width='5.4' height='3.5'/></g>",svg_off:"18.483 12.199'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><path d='M18.4,12.1H0V0h18.4V12.1z M1.4,10.7h15.6V1.4H1.4V10.7z'/><rect x='3.8' y='4.9' width='5.4' height='3.5'/></g><g><path fill='#FFFFFF' d='M18.4,12.1H0V0h18.4V12.1z M1.4,10.7h15.6V1.4H1.4V10.7z'/><rect x='3.8' y='4.9' fill='#FFFFFF' width='5.4' height='3.5'/></g>",
default:{title:"Toggle Fullscreen"},init:function N(b,c){0!=b.config.fullscreen&&(b.config.translate&&b.config.translate.toggle_fullscreen&&(this.default.title=b.config.translate.toggle_fullscreen),N.base.call(this,b,c),this.el.innerHTML=a.generateSVG(this.player.config.Skin.FullscreenToggle||this.svg,this.player.id),this.state=0,b.add("fullscreenchange",this.$f(this.onFullScreenChange)))},appendClassName:function O(){return"brid-fullscreen-control brid-control "+O.base.call(this)},onClick:function(){this.player.toggleFullScreen(!this.player.isFullScreen);
this.player.trigger("userInteractionLow")},onFullScreenChange:function(){var b=this.player,c=b.isFullScreen?this.player.config.Skin.FullscreenOff||this.svg_off:this.player.config.Skin.FullscreenToggle||this.svg,g=b.isFullScreen?1:0;f()&&this.state!=g&&(this.state=g,this.el.innerHTML=a.generateSVG(c,b.id))}});Brid.Slider=b.extend({init:function P(a,b){P.base.call(this,a,b);a.add(this.updateEvent,this.$f(this.update));a.add("enableInteraction",this.$f(this.onEnableInteraction));this.toggleInteraction(!0);
this.update()},enabled:!1,down:!1,startUpdating:function(){this.player.add(this.updateEvent,this.$f(this.update))},stopUpdating:function(){this.player.remove(this.updateEvent,this.$f(this.update))},createElement:function g(b,c){c=a.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return g.base.call(this,b,c)},toggleInteraction:function(a){this.enabled!=a&&(a=(this.enabled=a)?"add":"remove",this[a]("touchstart",this.$f(this.onTouchStart)),this[a]("mousedown",
this.$f(this.onMouseDown)))},onDisableInteraction:function(){this.toggleInteraction(!1)},onEnableInteraction:function(){this.toggleInteraction(!0)},toggleUpDown:function(b,c){b?a.blockTextSelection():a.unblockTextSelection();var g=b?"add":"remove";this.down=b;q.addEventListener?(BEvent[g](r,"mousemove",proxy(this,this.onMouseMove)),BEvent[g](r,"mouseup",proxy(this,this.onMouseUp))):(BEvent[g](this.bar.el,"mousemove",proxy(this,this.onMouseMove)),BEvent[g](this.bar.el,["mouseup","losecapture"],proxy(this,
this.onMouseUp)),this.bar.el.setCapture());a.stopEvent(c)},onMouseDown:function(a){this.down||(this.toggleUpDown(!0,a),this.onMouseMove(a))},onMouseUp:function(a){this.toggleUpDown(!1,a)},toggleTouch:function(b,c){b?a.blockTextSelection():a.unblockTextSelection();var g=b?"add":"remove";this.down=b;BEvent[g](r,"touchend",proxy(this,this.onTouchEnd));BEvent[g](r,"touchmove",proxy(this,this.onTouchMove));a.stopEvent(c)},onTouchStart:function(b){a.blockTextSelection();this.down||(this.toggleTouch(!0,
b),this.onTouchMove(b))},onTouchEnd:function(a){this.toggleTouch(!1,a)},update:function(){var b=this.getPercent(),c=this.scrubber,x=this.bar;isNaN(b)&&(b=0);c&&u(c,{left:a.round(100*b,2)+"%"});u(x,{width:a.round(100*(b-this.player.bufferedStart()),2)+"%",left:a.round(100*this.player.bufferedStart(),2)+"%"})},scrollTo:function(a){var b=this.el,c=Brid.findPosX(b);return Math.max(0,Math.min(1,((a.pageX?a.pageX:a.clientX)-c)/b.offsetWidth))}});Brid.VolumeControl=b.extend({default:{children:{volumeBarBg:{},
volumeBar:{}}},knobFree:!0,mouseOver:!1,init:function Q(a,b){Q.base.call(this,a,b);(0==a.config.volume||d)&&this.hide();a.add("knobToggle",this.$f(this.onKnobToggle));a.add("volumeOver",this.$f(this.onVolumeOver));a.add("volumeOut",this.$f(this.onVolumeOut));this.add("mouseover",this.$f(this.onOver));this.add("mouseout",this.$f(this.onOut))},createElement:function x(){return x.base.call(this,"div",{className:"brid-volume-control brid-volume-hidden"})},onPlayerResize:function(){350>=this.player.el.offsetWidth?
this.hide():this.show()},onVolumeOver:function(){1==this.player.config.Skin.id?this.removeClass("brid-volume-hidden"):this.addClass("over")},onVolumeOut:function(){1==this.player.config.Skin.id?this.knobFree&&!this.mouseOver&&this.addClass("brid-volume-hidden"):this.removeClass("over")},onOver:function(){1==this.player.config.Skin.id&&(this.mouseOver=!0);this.player.trigger("volumeOver")},onOut:function(){1==this.player.config.Skin.id&&(this.mouseOver=!1);this.player.trigger("volumeOut")},onKnobToggle:function(){1==
this.player.config.Skin.id&&(this.knobFree=!this.knobFree,this.onVolumeOut())}});Brid.VolumeBar=Brid.Slider.extend({default:{children:{bar:{childClass:"VolumeLevel"},knob:{}}},updateEvent:"volumechange",init:function R(a,b){R.base.call(this,a,b);a.add("vast.adVolumeChange",this.$f(this.update));this.add("mousedown",this.$f(this.onMouseDown));a.addOnce("ready",this.$f(this.onPlayerReady))},createElement:function S(){this.el&&(this.el.innerHTML="");var b=this.player.config.Skin;var e=f()&&"undefined"!==
typeof b[this.config.name]?a.generateSVG(b[this.config.name],this.player.id):"";var c=S.base.call(this,"div",{className:"brid-volume-bar",innerHTML:e});if(1!=b.id)for(var k=0;7>k;k++)e="",f()&&"undefined"!==typeof b.VolumeLevelOff&&(e=a.generateSVG(b.VolumeLevelOff,this.player.id)),e=l("div",{className:"bar-bracket",innerHTML:e}),BEvent.add(e,"mouseover",this.$f(this.onBracketOver)),BEvent.add(e,"mouseout",this.$f(this.onBracketOut)),c.appendChild(e);this.el&&(this.el.innerHTML=c.innerHTML);return c},
onPlayerReady:function(){var b=l("div",{className:"level-bracket"});this.el.appendChild(b);if(b){var c=a.rgbValues("rgb(255, 255, 255)"),e=u(b,"background-color");e&&(e="rgb(0, 0, 0)"!=e&&"rgba(0, 0, 0, 0)"!=e?a.rgbValues(e):!1,c&&e&&(this.endColor=a.rgbToHsl(e.r,e.g,e.b),this.startColor=a.rgbToHsl(c.r,c.g,c.b)))}this.el.removeChild(b);this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor);this.update()},setPrimaryColor:function(b){if(this.player.config.Skin.id&&1==
this.player.config.Skin.id){var c="rgb(0, 0, 0)"!=b&&"rgba(0, 0, 0, 0)"!=b?a.rgbValues(b):!1;Brid.log("VolumeBar setPrimaryColor",b,c);c&&(this.endColor=a.rgbToHsl(c.r,c.g,c.b));this.update()}},resetSkin:function(){this.startColor=this.endColor=null;this.createElement();this.el.style.background="";this.bar=new Brid.VolumeLevel(this.player);this.knob=new Brid.Knob(this.player);this.addChild(this.bar);this.addChild(this.knob);setTimeout(this.$f(this.onPlayerReady),100)},onBracketOver:function(b){a.removeClass(b.currentTarget,
"out");a.addClass(b.currentTarget,"over")},onBracketOut:function(b){a.removeClass(b.currentTarget,"over");a.addClass(b.currentTarget,"out")},onMouseMove:function(b){this.player.muted(!1);var c=this.scrollTo(b);1!=this.player.config.Skin.id&&(c=.08>c?0:c,c=.92<c?1:c);this.player.config.hover_volume=0;this.player.volume(c);this.player.trigger("userInteractionLow");1==this.player.config.Skin.id&&this.player.trigger("repositionKnob");a.stopEvent(b)},getPercent:function(){return this.player.volume()},
stepForward:function(){this.player.config.hover_volume=0;this.player.volume(this.player.volume()+.1);1==this.player.config.Skin.id&&this.player.trigger("repositionKnob")},stepBack:function(){this.player.config.hover_volume=0;this.player.volume(this.player.volume()-.1);1==this.player.config.Skin.id&&this.player.trigger("repositionKnob")},update:function(){var b=this.getPercent(),c=this.bar,e=this.player;if(isNaN(b)||e.muted())b=0;if(1!=this.player.config.Skin.id){c.el.innerHTML="";var d=Math.ceil(7*
b)}if(this.startColor&&this.endColor){var k=a.interpolate(this.startColor,this.endColor,.9<b?1:b);k=a.hslToRgb(k[0],k[1],k[2])}if(1!=this.player.config.Skin.id)for(b=0;b<d;b++){var n="";f()&&"undefined"!=typeof e.config.Skin.VolumeLevelOn&&(n=a.generateSVG(e.config.Skin.VolumeLevelOn,e.id));n=l("div",{className:"level-bracket",innerHTML:n});BEvent.add(n,"mouseover",this.$f(this.onBracketOver));BEvent.add(n,"mouseout",this.$f(this.onBracketOut));k&&u(n,{"background-color":k});c.el.appendChild(n)}else this.player.trigger("repositionKnob"),
0==this.state?.4<=b&&(e.trigger("svgchange"),this.state=1):.4>b&&(e.trigger("svgchange"),this.state=0)},scrollTo:function(a){var b=this.player.config.Skin&&"undefined"!==typeof this.player.config.Skin.volumeRotation&&1!=this.player.audioFile?this.player.config.Skin.volumeRotation:!1,c=this.el,d=b?Brid.findPosY(c):Brid.findPosX(c),c=b&&1!=this.player.config.Skin.id?c.offsetHeight:c.offsetWidth;a=b?a.pageY?a.pageY:a.clientY:a.pageX?a.pageX:a.clientX;return b?1-Math.max(0,Math.min(1,(a-d)/c)):Math.max(0,
Math.min(1,(a-d)/c))}});Brid.Knob=b.extend({updateEvent:"volumechange",capturedButton:null,init:function T(a,b){0!=a.config.volume&&(a.config.translate&&a.config.translate.toggle_mute&&(this.title=a.config.translate.toggle_mute),T.base.call(this,a,b),this.player.add("repositionKnob",this.$f(this.onRepositionKnob)),this.add("mousedown",this.$f(this.onButtonDown)))},createElement:function e(){return e.base.call(this,"div",{className:"brid-knob",innerHTML:" "})},onButtonDown:function(a){this.el==a.target&&
(this.capturedButton=a.target,this.f=this.onButtonUp.bind(this),c.addEventListener?c.addEventListener("mouseup",this.f,!0):this.capturedButton.setCapture&&(this.f=this.onButtonLoseCapture.bind(this),this.capturedButton.attachEvent("onlosecapture",this.f),this.capturedButton.setCapture()));this.addClass("brid-selected");this.player.touch.el.focus();this.player.trigger("knobToggle")},onButtonUp:function(){c.removeEventListener?c.removeEventListener("mouseup",this.f,!0):this.capturedButton.releaseCapture&&
(this.capturedButton.detachEvent("onlosecapture",this.f),this.capturedButton.releaseCapture());this.capturedButton=null;this.removeClass("brid-selected");this.player.trigger("knobToggle")},onButtonLoseCapture:function(){this.onButtonUp()},onRepositionKnob:function(){var a=this.player.muted()?0:this.player.volume();this.el.style.left=88*a-8.5+"px";this.el.parentElement.style.background="linear-gradient(90deg, rgba(255,255,255,0.9) "+91*a+"%, rgba(0,0,0,0) "+(100*a+1)+"%, rgba(255,255,255,0.5) "+(100*
a+2)+"%, rgba(255,255,255,0.5) 100%)"}});Brid.VolumeBarBg=b.extend({createElement:function U(){return U.base.call(this,"div",{className:"brid-volume-bar-bg"})}});Brid.VolumeLevel=b.extend({createElement:function k(){return k.base.call(this,"div",{className:"brid-volume-level"})}});Brid.MuteToggle=t.extend({svg_toggle:"16 16'><g fill='#000' transform='scale(1.03) translate(0 0.2)' opacity='0.3'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><path class=toggle-svg d='M11,13.91c2.837-0.477,5-2.938,5-5.91s-2.163-5.433-5-5.91v1.011C13.279,3.566,15,5.585,15,8s-1.721,4.434-4,4.899V13.91z'/><path d='M11,9.722v1.094c1.163-0.413,2-1.512,2-2.816s-0.837-2.403-2-2.816v1.094C11.595,6.625,12,7.263,12,8  C12,8.737,11.595,9.375,11,9.722z'/></g><g fill='#fff'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><path class=toggle-svg d='M11,13.91c2.837-0.477,5-2.938,5-5.91s-2.163-5.433-5-5.91v1.011C13.279,3.566,15,5.585,15,8s-1.721,4.434-4,4.899V13.91z'/><path d='M11,9.722v1.094c1.163-0.413,2-1.512,2-2.816s-0.837-2.403-2-2.816v1.094C11.595,6.625,12,7.263,12,8  C12,8.737,11.595,9.375,11,9.722z'/></g>",
svg_muted:"16 16'><g fill='#000' transform='scale(1.03) translate(0 0.2)' opacity='0.3'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><polygon points='14.646,5.646 13,7.293 11.354,5.646 10.646,6.354 12.293,8 10.646,9.646 11.354,10.354 13,8.707 14.646,10.354 15.354,9.646 13.707,8 15.354,6.354 '/></g><g fill='#fff'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><polygon points='14.646,5.646 13,7.293 11.354,5.646 10.646,6.354 12.293,8 10.646,9.646 11.354,10.354 13,8.707 14.646,10.354 15.354,9.646 13.707,8 15.354,6.354 '/></g>",
default:{title:"Toggle Mute Video"},init:function n(b,c){0!=b.config.volume&&(b.config.translate&&b.config.translate.toggle_mute&&(this.default.title=b.config.translate.toggle_mute),n.base.call(this,b,c),this.el.innerHTML=a.generateSVG(this.player.config.Skin.MuteToggle||this.svg_toggle,this.player.id),b.add(["volumechange","adStart","enableInteraction"],this.$f(this.onVolumeChange)),this.add("mouseover",this.$f(this.onOver)),this.add("mouseout",this.$f(this.onOut)),this.player.add("svgchange",this.$f(this.onSvgChange)),
this.onVolumeChange())},appendClassName:function V(){return"brid-mute-control brid-control "+V.base.call(this)},onClick:function(){var a=this.player;d?(a.muted(a.muted()?!1:!0),a.volume(a.muted()?0:1)):(a.config.hover_volume=0,a.muted(!(a.muted()||0==a.volume())));a.trigger("userInteractionLow")},onVolumeChange:function(){var b=this.player,c=b.volume(),d="on",v=b.config.Skin;if(0==c||b.muted())d="off";f()?this.el.innerHTML=a.generateSVG("on"===d?v.MuteToggle||this.svg_toggle:v.Muted||this.svg_muted,
b.id):(a.each.call(this,["on","off"],function(b){a.removeClass(this.el,"brid-vol-"+b)}),a.addClass(this.el,"brid-vol-"+d))},onSvgChange:function(){a.hasClass(this.el,"go-toggle-svg")?this.removeClass("go-toggle-svg"):this.addClass("go-toggle-svg")},onOver:function(){this.player.trigger("volumeOver")},onOut:function(){this.player.trigger("volumeOut")},resetSkin:function W(){W.base.call(this);this.onVolumeChange()}});Brid.CurrentTimeDisplay=b.extend({init:function X(a,b){X.base.call(this,a,b);a.add(["timeupdate",
"beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent));a.add("newContent",this.$f(this.onNewContent))},createElement:function v(){var a=v.base.call(this,"div",{className:"brid-current-time brid-time-controls"});this.content=l("div",{className:"brid-current-time-display",innerHTML:"00:00"});a.appendChild(l("div").appendChild(this.content));return a},updateContent:function(){var b=this.player,c=b.currentTime()||0;this.content.innerHTML=a.formatTime(c,b.duration())},onNewContent:function(){this.content.innerHTML=
a.formatTime(0)}});Brid.DurationDisplay=b.extend({init:function Y(a,b){Y.base.call(this,a,b);a.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent));a.add("newContent",this.$f(this.onNewContent))},createElement:function Z(){var a=Z.base.call(this,"div",{className:"brid-duration brid-time-controls"});this.content=l("div",{className:"brid-duration-display",innerHTML:"00:00"});a.appendChild(l("div").appendChild(this.content));return a},updateContent:function(){this.player.duration()&&
(this.content.innerHTML=a.formatTime(this.player.duration()))},onNewContent:function(){this.content.innerHTML=a.formatTime(this.player.currentSource.duration||0);this.player.addOnce("waiting",this.$f(this.updateContent))}});Brid.TimeDivider=b.extend({init:function aa(a,b){aa.base.call(this,a,b);a.add("newContent",this.$f(this.onNewContent))},createElement:function ba(){return ba.base.call(this,"div",{className:"brid-time-controls brid-time-divider",innerHTML:"<div><span>/</span></div>"})},onNewContent:function(){this.show()}});
Brid.AdTimeDisplay=b.extend({init:function ca(a,b){ca.base.call(this,a,b);a.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent))},createElement:function da(){return da.base.call(this,"div",{className:"brid-adtime brid-time-controls"})},updateContent:function(){var a=this.player,b=a.currentTime()||0,c=a.duration();if(a.getAdInProgress()){a=Math.round(c-b);if(3600<=a)a=Math.floor(a/3600)+"h";else if(60<=a)a=Math.floor(a/60)+"m";else if(0<a)a=Math.max(1,a)+
"s";else{this.el.innerHTML="";return}this.el.innerHTML=(this.player.config.translate&&this.player.config.translate.ad_ends_in||"Ad ends in ")+a}else""!=this.el.innerHTML&&(this.el.innerHTML="")}});Brid.AdInfo=b.extend({init:function ea(a,b){ea.base.call(this,a,b);this.hide();this.title_loading_ad=a.config.translate&&a.config.translate.loading_ad||"Loading Ad";this.title_advertisement=a.config.translate&&a.config.translate.ad||"Ad";this.title_ad_will_start=a.config.translate&&a.config.translate.ad_starts_soon||
"Ad starts soon";a.add(["newContent","ended","adEnd","adError","adPreloaded"],this.$f(this.hide));a.add("adStartsSoon",this.$f(this.onAdStartsSoon));a.add("adStart",this.$f(function(){this.player.bannerMode?this.hide():this.player.getAdInProgress()&&(this.el.innerHTML=this.title_advertisement,this.show())}));a.add("vpaidStart",this.$f(function(){this.player.config.vpaid_advertisement||this.hide()}));a.add("requestAd",this.$f(function(){this.el.innerHTML=this.title_loading_ad;this.show()}))},createElement:function y(){return y.base.call(this,
"div",{className:"brid-ad-info",innerHTML:this.title_advertisement})},onAdStartsSoon:function(){this.el.innerHTML=this.title_ad_will_start;this.show();this.player.addOnce("hideAdInfo",this.$f(this.hide))}});Brid.PrebidBannerAd=Brid.Class.extend({slotRendered:!1,init:function(b){this.player=b;this.player.add("adImpression",a.$f(this,this.onAdImpression))},loadBanner:function(b){this.bannerSlotHolder&&this.bannerSlotHolder.parentNode.removeChild(this.bannerSlotHolder);Brid.log("OSPlayer loadBanner, adTag",
b);this.adTag="string"==typeof b?{url:b}:b[0]?b[0]:b;this.adTag.url=this.adTag.url.split("<|>")[0];b=this.bannerSlotHolder=q.createElement("div");var d=q.createElement("iframe"),f=this.close=new Brid.Close(this.player,{name:"Close"});f.hide();f.addClass("brid-prebid-banner-close");f.addOnce("close",a.$f(this,function(){this.player.closed=!0;this.player.fadeOutParent()}));this.player.trigger("adUnitRequest",{at:"4",baid:this.adTag.id,pp:0,wp:0});var y="<body><style>html,body{margin:0;padding:0}</style><script>window.onload=function(){var cnt=0;function checkIframeSizes(){var iframes=document.querySelectorAll('iframe');iframes.forEach(function(i){if(i.clientWidth!=0&&i.clientHeight!=0){window.parent.postMessage({event:'bannerResize',w:i.clientWidth,h:i.clientHeight},'*');clearInterval(th);}});if(cnt++>=300)clearInterval(th);}var th=setInterval(checkIframeSizes,50);};\x3c/script>"+
this.adTag.url+"</body>";b.className="brid-prebid-banner";b.appendChild(f.el);b.appendChild(d);this.player.playerHolder.el.parentNode.insertBefore(b,this.player.playerHolder.el);this.slotRendered=!1;d.style.display="block";d.style.border="0";d.style.width="1px";d.style.height="1px";d.contentWindow.document.open();d.contentWindow.document.write(y);d.contentWindow.document.close();var l=function(a){"bannerResize"==a.data.event&&(d.style.width=a.data.w+"px",d.style.height=a.data.h+"px",c.removeEventListener("message",
l),Brid.log("OSPlayer setting prebid banner iframe size to",a.data.w,a.data.h),this.slotRendered=!0,this.player.Prebid&&!this.player.Prebid.lastAdImpression&&(this.show(),this.player.fadeInParent()))}.bind(this);c.addEventListener("message",l)},onAdImpression:function(){this.player.close&&this.playerXClosed&&this.player.close.show();this.player.removeClass("brid-prebid-anyad");this.player.bannerMode=!1},show:function(){Brid.log("OSPlayer show banner",this.player.config.type,this.player.positionType,
w.IN_GLIDE);this.player.bannerMode=!0;this.player.removeClass("brid-onad");this.player.addClass("brid-prebid-anyad");a.addClass(this.player.parentEl,"brid-prebid-anyad-parent");"incontent"==this.player.config.type&&this.player.positionType==w.IN_GLIDE&&this.player.SlideInView&&this.player.SlideInView._toDefault();this.player.close&&(this.close.show(),this.player.close.hide(),this.playerXClosed=!0)}});c.$bp.plugin("bridoscontrols",function(a){a=a||this;a.isReady?a.addChild(new c.$bp.OSControlBar(a,
config)):c.$bp.Util.merge(a.config.children,{controls:{childClass:"OSControlBar"}})});B.trigger(q,"bridpluginloaded")})(window,document);
