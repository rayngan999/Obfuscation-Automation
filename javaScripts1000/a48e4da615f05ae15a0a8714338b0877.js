(this["webpackJsonp@zmedia/zmp3-desktop"]=this["webpackJsonp@zmedia/zmp3-desktop"]||[]).push([[30],{1445:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function u(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var f=this,h=Date.now()-a;function d(){a=Date.now(),n.apply(f,c)}function p(){i=void 0}o||(r&&!i&&d(),s(),void 0===r&&h>e?d():!0!==t&&(i=setTimeout(r?p:d,void 0===r?e-h:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),u.cancel=function(){s(),o=!0},u}e.debounce=function(e,n,r){return void 0===r?t(e,n,!1):t(e,r,!1!==n)},e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1464:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(14),a=n.n(o),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e;c(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o.state={},o.styles={ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}},o.elements={},o.onResize=o.onResize.bind(o),o.onTruncate=o.onTruncate.bind(o),o.calcTargetWidth=o.calcTargetWidth.bind(o),o.measureWidth=o.measureWidth.bind(o),o.getLines=o.getLines.bind(o),o.renderLine=o.renderLine.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.elements.text,t=this.calcTargetWidth,n=this.onResize,r=document.createElement("canvas");this.canvasContext=r.getContext("2d"),t((function(){e&&e.parentNode.removeChild(e)})),window.addEventListener("resize",n)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.forceUpdate(),this.props.width!==e.width&&this.calcTargetWidth()}},{key:"componentWillUnmount",value:function(){var e=this.elements.ellipsis,t=this.onResize,n=this.timeout;e.parentNode.removeChild(e),window.removeEventListener("resize",t),window.cancelAnimationFrame(n)}},{key:"innerText",value:function(e){var t=document.createElement("div"),n="innerText"in window.HTMLElement.prototype?"innerText":"textContent";t.innerHTML=e.innerHTML.replace(/\r\n|\r|\n/g," ");var r=t[n],i=document.createElement("div");return i.innerHTML="foo<br/>bar","foo\nbar"!==i[n].replace(/\r\n|\r/g,"\n")&&(t.innerHTML=t.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),r=t[n]),r}},{key:"onResize",value:function(){this.calcTargetWidth()}},{key:"onTruncate",value:function(e){var t=this.props.onTruncate;"function"===typeof t&&(this.timeout=window.requestAnimationFrame((function(){t(e)})))}},{key:"calcTargetWidth",value:function(e){var t=this.elements.target,n=this.calcTargetWidth,r=this.canvasContext,i=this.props.width;if(t){var o=i||Math.floor(t.parentNode.getBoundingClientRect().width);if(!o)return window.requestAnimationFrame((function(){return n(e)}));var a=window.getComputedStyle(t),s=[a["font-weight"],a["font-style"],a["font-size"],a["font-family"]].join(" ");r.font=s,this.setState({targetWidth:o},e)}}},{key:"measureWidth",value:function(e){return this.canvasContext.measureText(e).width}},{key:"ellipsisWidth",value:function(e){return e.offsetWidth}},{key:"trimRight",value:function(e){return e.replace(/\s+$/,"")}},{key:"getLines",value:function(){for(var e=this.elements,t=this.props,n=t.lines,r=t.ellipsis,o=t.trimWhitespace,a=this.state.targetWidth,s=this.innerText,u=this.measureWidth,c=this.onTruncate,l=this.trimRight,f=[],h=s(e.text).split("\n").map((function(e){return e.split(" ")})),d=!0,p=this.ellipsisWidth(this.elements.ellipsis),v=1;v<=n;v++){var m=h[0];if(0!==m.length){var g=m.join(" ");if(u(g)<=a&&1===h.length){d=!1,f.push(g);break}if(v===n){for(var y=m.join(" "),b=0,x=y.length-1;b<=x;){var $=Math.floor((b+x)/2);u(y.slice(0,$+1))+p<=a?b=$+1:x=$-1}var C=y.slice(0,b);if(o)for(C=l(C);!C.length&&f.length;){C=l(f.pop())}g=i.a.createElement("span",null,C,r)}else{for(var T=0,I=m.length-1;T<=I;){var w=Math.floor((T+I)/2);u(m.slice(0,w+1).join(" "))<=a?T=w+1:I=w-1}if(0===T){v=n-1;continue}g=m.slice(0,T).join(" "),h[0].splice(0,T)}f.push(g)}else f.push(),h.shift(),v--}return c(d),f}},{key:"renderLine",value:function(e,t,n){if(t===n.length-1)return i.a.createElement("span",{key:t},e);var r=i.a.createElement("br",{key:t+"br"});return e?[i.a.createElement("span",{key:t},e),r]:r}},{key:"render",value:function(){var e=this,t=this.elements.target,n=this.props,r=n.children,o=n.ellipsis,a=n.lines,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["children","ellipsis","lines"]),c=this.state.targetWidth,l=this.getLines,f=this.renderLine,h=this.onTruncate,d=void 0;return"undefined"!==typeof window&&!(!t||!c)&&(a>0?d=l().map(f):(d=r,h(!1))),delete u.onTruncate,delete u.trimWhitespace,i.a.createElement("span",s({},u,{ref:function(t){e.elements.target=t}}),i.a.createElement("span",null,d),i.a.createElement("span",{ref:function(t){e.elements.text=t}},r),i.a.createElement("span",{ref:function(t){e.elements.ellipsis=t},style:this.styles.ellipsis},o))}}]),t}(r.Component);f.propTypes={children:a.a.node,ellipsis:a.a.node,lines:a.a.oneOfType([a.a.oneOf([!1]),a.a.number]),trimWhitespace:a.a.bool,width:a.a.number,onTruncate:a.a.func},f.defaultProps={children:"",ellipsis:"\u2026",lines:1,trimWhitespace:!1,width:0},t.a=f},1496:function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}n.d(t,"a",(function(){return r}))},1498:function(e,t,n){"use strict";var r=n(0),i=n(93),o=["mousedown","touchstart"];t.a=function(e,t,n){void 0===n&&(n=o);var a=Object(r.useRef)(t);Object(r.useEffect)((function(){a.current=t}),[t]),Object(r.useEffect)((function(){for(var t=function(t){var n=e.current;n&&!n.contains(t.target)&&a.current(t)},r=0,o=n;r<o.length;r++){var s=o[r];Object(i.c)(document,s,t)}return function(){for(var e=0,r=n;e<r.length;e++){var o=r[e];Object(i.b)(document,o,t)}}}),[n,e])}},1499:function(e,t,n){"use strict";var r=n(0),i=n(1445),o=n(93),a=["mousemove","mousedown","resize","keydown","touchstart","wheel"];t.a=function(e,t,n){void 0===e&&(e=6e4),void 0===t&&(t=!1),void 0===n&&(n=a);var s=Object(r.useState)(t),u=s[0],c=s[1];return Object(r.useEffect)((function(){for(var t,r=!0,a=u,s=function(e){r&&(a=e,c(e))},l=Object(i.throttle)(50,(function(){a&&s(!1),clearTimeout(t),t=setTimeout((function(){return s(!0)}),e)})),f=function(){document.hidden||l()},h=0;h<n.length;h++)Object(o.c)(window,n[h],l);return Object(o.c)(document,"visibilitychange",f),t=setTimeout((function(){return s(!0)}),e),function(){r=!1;for(var e=0;e<n.length;e++)Object(o.b)(window,n[e],l);Object(o.b)(document,"visibilitychange",f)}}),[e,n]),u}},1527:function(e,t,n){"use strict";n.d(t,"a",(function(){return ce}));var r=n(0),i=n(1462),o=Object(r.createContext)(void 0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return(f=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function h(e){var t="function"===typeof Map?new Map:void 0;return(h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e,t){return t(e)}:1===t.length?t[0]:function(e,n){var r=function(e){return n(e)};t.slice().reverse().forEach((function(e){var t=r;r=function(n){return e(n,t)}})),r(e)}}function m(e){return function(){var t=v.apply(void 0,arguments);return g(e,t)}}function g(e,t){var n=function(n){return e((function(e){return t(e,n)}))};return{subscribe:n,pipe:m(n)}}function y(e,t){void 0===t&&(t=!0);var n=[],r=e,i=function(e){return n.push(e),void 0!==r&&e(r),function(){n=n.filter((function(t){return t!==e}))}};return{next:function(e){t&&e===r||(r=e,n.forEach((function(t){return t(e)})))},subscribe:i,pipe:m(i),subscribers:n}}function b(){var e=[],t=function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}};return{next:function(t){e.forEach((function(e){return e(t)}))},subscribe:t,pipe:m(t),subscribers:e}}function x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array(t.length).fill(!1),i=Array(t.length),o=[],a=function(e){r.every((function(e){return e}))&&e.forEach((function(e){return e(i)}))};t.forEach((function(e,t){e.subscribe((function(e){r[t]=!0,i[t]=e,a(o)}))}));var s=function(e){return o.push(e),a([e]),function(){o=o.filter((function(t){return t!==e}))}};return{subscribe:s,pipe:m(s)}}function $(e){return function(t,n){n(e(t))}}function C(e){return function(t,n){return n(e)}}function T(e){return function(t,n){e>0?e--:n(t)}}function I(e){return function(t,n){e(t)&&n(t)}}function w(e){var t;return void 0===e&&(e=function(e,t){return e!==t}),function(n,r){e(t,n)&&(t=n,r(n))}}function k(e,t){var n=t;return function(t,r){r(n=e(n,t))}}function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array(t.length).fill(!1),i=Array(t.length);return t.forEach((function(e,t){e.subscribe((function(e){i[t]=e,r[t]=!0}))})),function(e,t){r.every((function(e){return e}))&&t([e].concat(i))}}var j=function(e){var t=y(!1);return e.pipe(T(1),w(),C(!0)).subscribe(t.next),e.pipe(T(1),C(!1),function(e){var t,n;return function(r,i){t=r,n&&clearTimeout(n),n=setTimeout((function(){i(t)}),e)}}(200)).subscribe(t.next),t};var H=new(function(){function e(){this.level=0}var t=e.prototype;return t.rebalance=function(){return this},t.adjust=function(){return this},t.shift=function(){return this},t.remove=function(){return this},t.find=function(){},t.findWith=function(){},t.findMax=function(){return-1/0},t.findMaxValue=function(){},t.insert=function(e,t){return new M({key:e,value:t,level:1})},t.walkWithin=function(){return[]},t.walk=function(){return[]},t.ranges=function(){return[]},t.rangesWithin=function(){return[]},t.empty=function(){return!0},t.isSingle=function(){return!0},t.isInvariant=function(){return!0},t.keys=function(){return[]},e}());Object.freeze(H);var S=function(e){function t(t){return e.call(this,"Unreachable case: "+t)||this}return s(t,e),t}(h(Error)),M=function(){function e(e){var t=e.key,n=e.value,r=e.level,i=e.left,o=void 0===i?H:i,a=e.right,s=void 0===a?H:a;this.key=t,this.value=n,this.level=r,this.left=o,this.right=s}var t=e.prototype;return t.shift=function(e){return this.clone({key:this.key+e,left:this.left.shift(e),right:this.right.shift(e)})},t.remove=function(e){var t=this.left,n=this.right;if(e===this.key){if(t.empty())return n;if(n.empty())return t;var r=t.last(),i=r[0],o=r[1];return this.clone({key:i,value:o,left:t.deleteLast()}).adjust()}return e<this.key?this.clone({left:t.remove(e)}).adjust():this.clone({right:n.remove(e)}).adjust()},t.empty=function(){return!1},t.find=function(e){return e===this.key?this.value:e<this.key?this.left.find(e):this.right.find(e)},t.findWith=function(e){var t=e(this.value);switch(t){case-1:return this.left.findWith(e);case 0:return[this.key,this.value];case 1:return this.right.findWith(e);default:throw new S(t)}},t.findMax=function(e){if(this.key===e)return e;if(this.key<e){var t=this.right.findMax(e);return t===-1/0?this.key:t}return this.left.findMax(e)},t.findMaxValue=function(e){if(this.key===e)return this.value;if(this.key<e){var t=this.right.findMaxValue(e);return void 0===t?this.value:t}return this.left.findMaxValue(e)},t.insert=function(e,t){return e===this.key?this.clone({key:e,value:t}):e<this.key?this.clone({left:this.left.insert(e,t)}).rebalance():this.clone({right:this.right.insert(e,t)}).rebalance()},t.walkWithin=function(e,t){var n=this.key,r=this.value,i=[];return n>e&&(i=i.concat(this.left.walkWithin(e,t))),n>=e&&n<=t&&i.push({key:n,value:r}),n<=t&&(i=i.concat(this.right.walkWithin(e,t))),i},t.walk=function(){return[].concat(this.left.walk(),[{key:this.key,value:this.value}],this.right.walk())},t.last=function(){return this.right.empty()?[this.key,this.value]:this.right.last()},t.deleteLast=function(){return this.right.empty()?this.left:this.clone({right:this.right.deleteLast()}).adjust()},t.clone=function(t){return new e({key:void 0!==t.key?t.key:this.key,value:void 0!==t.value?t.value:this.value,level:void 0!==t.level?t.level:this.level,left:void 0!==t.left?t.left:this.left,right:void 0!==t.right?t.right:this.right})},t.isSingle=function(){return this.level>this.right.level},t.rebalance=function(){return this.skew().split()},t.adjust=function(){var e=this.left,t=this.right,n=this.level;if(t.level>=n-1&&e.level>=n-1)return this;if(n>t.level+1){if(e.isSingle())return this.clone({level:n-1}).skew();if(e.empty()||e.right.empty())throw new Error("Unexpected empty nodes");return e.right.clone({left:e.clone({right:e.right.left}),right:this.clone({left:e.right.right,level:n-1}),level:n})}if(this.isSingle())return this.clone({level:n-1}).split();if(t.empty()||t.left.empty())throw new Error("Unexpected empty nodes");var r=t.left,i=r.isSingle()?t.level-1:t.level;return r.clone({left:this.clone({right:r.left,level:n-1}),right:t.clone({left:r.right,level:i}).split(),level:r.level+1})},t.isInvariant=function(){var e=this.left,t=this.right,n=this.level;return n===e.level+1&&((n===t.level||n===t.level+1)&&(!(!t.empty()&&n<=t.right.level)&&(e.isInvariant()&&t.isInvariant())))},t.keys=function(){return[].concat(this.left.keys(),[this.key],this.right.keys())},t.ranges=function(){return this.toRanges(this.walk())},t.rangesWithin=function(e,t){return this.toRanges(this.walkWithin(e,t))},t.toRanges=function(e){if(0===e.length)return[];for(var t=e[0],n=t.key,r=t.value,i=[],o=1;o<=e.length;o++){var a=e[o],s=a?a.key-1:1/0;i.push({start:n,end:s,value:r}),a&&(n=a.key,r=a.value)}return i},t.split=function(){var e=this.right,t=this.level;return e.empty()||e.right.empty()||e.level!==t||e.right.level!==t?this:e.clone({left:this.clone({right:e.left}),level:t+1})},t.skew=function(){var e=this.left;return e.empty()||e.level!==this.level?this:e.clone({right:this.clone({left:e.right})})},e}(),R=function(){function e(e){this.root=e}e.empty=function(){return new e(H)};var t=e.prototype;return t.find=function(e){return this.root.find(e)},t.findMax=function(e){return this.root.findMax(e)},t.findMaxValue=function(e){if(this.empty())throw new Error("Searching for max value in an empty tree");return this.root.findMaxValue(e)},t.findWith=function(e){return this.root.findWith(e)},t.insert=function(t,n){return new e(this.root.insert(t,n))},t.remove=function(t){return new e(this.root.remove(t))},t.shift=function(t){if(this.empty())return this;var n=this.root.findMaxValue(1/0);return new e(this.root.shift(t).insert(0,n))},t.empty=function(){return this.root.empty()},t.keys=function(){return this.root.keys()},t.walk=function(){return this.root.walk()},t.walkWithin=function(e,t){var n=this.root.findMax(e);return this.root.walkWithin(n,t)},t.ranges=function(){return this.root.ranges()},t.rangesWithin=function(e,t){var n=this.root.findMax(e);return this.root.rangesWithin(n,t)},t.isInvariant=function(){return this.root.isInvariant()},e}(),E=function(){function e(){}return e.prototype.transpose=function(e){return e.map((function(e){return{groupIndex:0,index:e.index,offset:e.offset,size:e.size,transposedIndex:e.index,type:"item"}}))},e}(),L=function(){function e(e){this.count=e.reduce((function(e,t){return e+t+1}),0);for(var t,n=R.empty(),r=0,i=0,o=p(e);!(t=o()).done;){var a=t.value;n=n.insert(i,[r,i]),r++,i+=a+1}this.tree=n}var t=e.prototype;return t.totalCount=function(){return this.count},t.transpose=function(e){var t=this;return e.map((function(e){var n=t.tree.find(e.index);if(n)return{groupIndex:n[0],index:e.index,offset:e.offset,size:e.size,type:"group"};var r=t.tree.findMaxValue(e.index)[0];return{groupIndex:r,index:e.index,offset:e.offset,size:e.size,transposedIndex:e.index-r-1,type:"item"}}))},t.groupIndices=function(){return this.tree.keys()},e}();var z=function(e){return e.length>0?e[0].offset:0};var W=function(){function e(e,t,n,r){if(void 0===t&&(t=R.empty()),void 0===n&&(n=[]),void 0===r&&(r=0),this.initialTopMostItemIndex=0,this.rangeSize=0,this.maxRangeSize=1/0,this.rangeSizeExceededCallback=function(){},this.rangeTree=e,this.nanIndices=n,this.initialTopMostItemIndex=r,t.empty())for(var i,o=0,a=!1,s=p(e.ranges());!(i=s()).done;){var u=i.value,c=u.start,l=u.end,f=u.value;this.rangeSize++,isNaN(f)?(this.nanIndices.push(c),a||(t=t.insert(o,{startIndex:c,endIndex:1/0,size:f})),a=!0):a||(t=t.insert(o,{startIndex:c,endIndex:l,size:f}),o+=(l-c+1)*f)}this.offsetTree=t}e.create=function(){return new e(R.empty())};var t=e.prototype;return t.empty=function(){return this.rangeTree.empty()},t.fromTree=function(t){return new e(t,void 0,void 0,this.initialTopMostItemIndex)},t.insert=function(e,t,n){var r=this.rangeTree;if(r.empty())return this.fromTree(r.insert(0,n));if(this.rangeSize>this.maxRangeSize)return this.rangeSizeExceededCallback(),this.fromTree(R.empty().insert(0,this.getDefaultSize()));if(this.nanIndices.length&&this.nanIndices.indexOf(t)>-1){if(r.find(this.nanIndices[0]-1)===n)return this.fromTree(R.empty().insert(0,n));for(var i,o=p(this.nanIndices);!(i=o()).done;){var a=i.value;r=r.insert(a,n)}return this.fromTree(r)}var s=r.rangesWithin(e-1,t+1);if(s.some((function(r){return r.start===e&&(r.end===t||r.end===1/0)&&r.value===n})))return this;for(var u,c=!1,l=!1,f=p(s);!(u=f()).done;){var h=u.value,d=h.start,v=h.end,m=h.value;c?(t>=d||n===m)&&(r=r.remove(d)):(l=m!==n,c=!0),v>t&&t>=d&&(m===n||isNaN(m)||(r=r.insert(t+1,m)))}return l&&(r=r.insert(e,n)),r===this.rangeTree?this:this.fromTree(r)},t.insertSpots=function(t,n){if(this.empty()){for(var r,i=this.rangeTree,o=p(t);!(r=o()).done;){var a=r.value;i=i.insert(a,n).insert(a+1,NaN)}return new e(i)}throw new Error("attempting to overwrite non-empty tree")},t.offsetOf=function(e){if(this.offsetTree.empty())return 0;var t=this.offsetTree.findWith((function(t){return t.startIndex>e?-1:t.endIndex<e?1:0}));if(t){var n=t[0],r=t[1],i=r.startIndex,o=r.size;return n+(e-i)*o}throw new Error("Requested offset outside of the known ones, index: "+e)},t.itemAt=function(e){return{index:e,size:this.rangeTree.findMaxValue(e),offset:NaN}},t.indexRange=function(e,t){if(this.rangeTree.empty())return[{index:this.initialTopMostItemIndex,size:0,offset:NaN}];for(var n,r=[],i=p(this.rangeTree.rangesWithin(e,t));!(n=i()).done;)for(var o=n.value,a=Math.max(e,o.start),s="undefined"===typeof o.end?1/0:o.end,u=Math.min(t,s),c=a;c<=u;c++)r.push({index:c,size:o.value,offset:NaN});return r},t.range=function(e,t,n,r){if(void 0===n&&(n=0),void 0===r&&(r=1/0),this.offsetTree.empty())return[{index:this.initialTopMostItemIndex,size:0,offset:0}];for(var i,o=[],a=p(this.offsetTree.rangesWithin(e,t));!(i=a()).done;){var s=i.value,u=s.start,c=s.value,l=c.startIndex,f=c.endIndex,h=c.size,d=u,v=l;if(u<e&&(d+=((v+=Math.floor((e-u)/h))-l)*h),v<n&&(d+=(n-v)*h,v=n),isNaN(h))return o.push({index:v,size:0,offset:d}),o;f=Math.min(f,r);for(var m=v;m<=f&&!(d>t);m++)o.push({index:m,size:h,offset:d}),d+=h}return o},t.total=function(e){for(var t,n=0,r=p(this.rangeTree.rangesWithin(0,e));!(t=r()).done;){var i=t.value,o=i.start,a=i.end,s=i.value;n+=((a=Math.min(a,e))-o+1)*(isNaN(s)?0:s)}return n},t.getOffsets=function(e){var t=this,n=R.empty();return e.forEach((function(e){var r=t.offsetOf(e);n=n.insert(r,e)})),new N(n)},t.setInitialIndex=function(t){return new e(this.rangeTree,this.offsetTree,this.nanIndices,t)},t.getDefaultSize=function(){return this.rangeTree.findMaxValue(1/0)},t.adjustForPrependedItems=function(e){return this.fromTree(this.rangeTree.shift(e))},t.configureMaxRangeSize=function(e,t){this.maxRangeSize=e,this.rangeSizeExceededCallback=t},e}(),N=function(){function e(e){this.tree=e}var t=e.prototype;return t.findMaxValue=function(e){return this.tree.findMaxValue(e)},t.empty=function(){return this.tree.empty()},e}();function P(e){var t=e.totalCount,n=e.itemHeight,r=e.defaultItemHeight,i=e.initialTopMostItemIndex,o=e.viewportHeight$,a=e.scrollTop$,s=e.topList$,u=e.transposer$,c=y(0),l=y(0),f=y(t),h=y(),d=function(e){var t=e.itemHeights$,n=e.viewportHeight$,r=y(),i=y(!1),o=r.subscribe((function(e){t.next([{start:0,end:0,size:30}]),n.next(30*e),i.next(!0),o()}));return{initialItemCount$:r,pendingRenderAfterInitial$:i}}({itemHeights$:h,viewportHeight$:o}),v=d.pendingRenderAfterInitial$,m=d.initialItemCount$,g=b(),C=W.create();n&&(C=C.insert(0,0,n)),r&&(C=C.insert(0,0,r)),i&&(C=C.setInitialIndex(i));var T=y(C),w=function(e){var t=e.offsetList$,n=e.scrollTop$,r=e.topList$,i=e.transposer$,o=y([]),a=x(t,o).pipe($((function(e){var t=e[0],n=e[1];return t.getOffsets(n)})));return x(t,a,n).pipe(I((function(e){return!e[1].empty()&&!e[0].empty()})),O(r,i),$((function(e){var t=e[0],n=t[0],r=t[1],i=t[2],o=e[1],a=e[2],s=r.findMaxValue(Math.max(i,0));if(1===o.length&&o[0].index===s)return o;var u=n.itemAt(s);return a.transpose([u])}))).subscribe(r.next),{stickyItems$:o}}({offsetList$:T,scrollTop$:a,topList$:s,transposer$:u}).stickyItems$,k=x(T,f,c,l).pipe($((function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t.total(n-1)+r+i})));return n||h.pipe(O(T,w,v)).subscribe((function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=n;i&&(o=W.create(),i=!1);for(var a,s=p(t);!(a=s()).done;){var u=a.value,c=u.start,l=u.end,f=u.size;o=o.empty()&&c===l&&r.indexOf(c)>-1?o.insertSpots(r,f):o.insert(c,l,f)}o!==n?(T.next(o),g.next([!0,o])):g.next([!1,o])})),{totalCount$:f,offsetList$:T,totalHeight$:k,headerHeight$:c,footerHeight$:l,initialItemCount$:m,itemHeights$:h,stickyItems$:w,heightsChanged$:g}}function A(e){var t=e.isScrolling$,n=e.scrollTop$,r=e.rangeChanged$,i=y(0),o=y(!1),a=y(!1);return t.pipe(I((function(e){return!e})),C(0)).subscribe(i.next),n.pipe(function(e){var t,n;return function(r,i){t=r,n||(n=setTimeout((function(){n=void 0,i(t)}),e))}}(100),k((function(e,t){return[e[1],t]}),[0,0]),$((function(e){var t=e[0];return e[1]-t}))).subscribe(i.next),i.pipe(O(a,o,r),I((function(e){return!!e[1]})),$((function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=n.exit,a=n.enter;if(r){if(o(t,i))return!1}else if(a(t,i))return!0;return r})),w()).subscribe(o.next),x(o,i,r).pipe(O(a)).subscribe((function(e){var t=e[0],n=t[0],r=t[1],i=t[2],o=e[1];return n&&o&&o.change(r,i)})),{isSeeking$:o,scrollSeekConfiguration$:a,scrollVelocity$:i}}function F(e){var t=e.offsetList$,n=e.topListHeight$,r=e.stickyItems$,i=e.viewportHeight$,o=e.totalCount$,a=e.totalHeight$,s=e.initialTopMostItemIndex,u=e.heightsChanged$,c=e.scrollTop$,l=b(),f=y(!1),h=y(!0),d=b(),p=function(e){var t=e.initialTopMostItemIndex,n=e.scrollToIndex$,r=e.scrollTop$,i=e.scrollTo$,o=e.offsetList$,a=y(!t);return r.pipe(O(i,a)).subscribe((function(e){var t=e[0],n=e[1],r=e[2];t!==n.top||r||setTimeout((function(){a.next(!0)}))})),o.pipe(O(a)).subscribe((function(e){e[1]||setTimeout((function(){n.next(t)}))})),{scrolledToTopMostItem$:a}}({scrollTo$:d,offsetList$:t,scrollToIndex$:l,scrollTop$:c,initialTopMostItemIndex:s}).scrolledToTopMostItem$;return u.pipe(O(p)).subscribe((function(e){var t=e[0][0],n=e[1];!t&&n&&(f.next(!1),h.next(!0))})),l.pipe(O(t,n,r,i,o,a),$((function(e){var t,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6];if(!r.empty()){"number"===typeof n&&(n={index:n,align:"start",behavior:"auto"});var c=n,f=c.index,d=c.align,p=void 0===d?"start":d;f=Math.max(0,f,Math.min(s-1,f));var v=r.offsetOf(f);return"end"===p?v=v-a+r.itemAt(f).size:"center"===p?v=Math.round(v-a/2+r.itemAt(f).size/2):-1===o.indexOf(f)&&(v-=i),h.next(!1),{top:Math.max(0,Math.min(v,Math.floor(u-a))),behavior:null!==(t=n.behavior)&&void 0!==t?t:"auto"}}setTimeout((function(){return l.next(n)}))})),I((function(e){return void 0!==e}))).subscribe(d.next),c.pipe(O(h)).subscribe((function(e){e[1]||(h.next(!0),f.next(!0))})),t.pipe(O(f,l)).subscribe((function(e){var t=e[1],n=e[2];t&&l.next(n)})),{scrollToIndex$:l,scrollTo$:d,scrolledToTopMostItem$:p}}function _(e){var t;return function(n){t&&t(),n&&(t=e.subscribe(n))}}function V(e){return e.next}var B=function(e){var t=e.overscan,n=void 0===t?0:t,i=e.totalCount,o=void 0===i?0:i,s=e.itemHeight,u=e.initialTopMostItemIndex,c=e.defaultItemHeight,l=y(new E),f=y(0),h=y(0,!1),d=j(h),p=function(){var e=y([]),t=e.pipe($((function(e){return e.reduce((function(e,t){return e+t.size}),0)}))),n=e.pipe($((function(e){return e.length&&e[e.length-1].index+1})));return{topList$:e,topListHeight$:t,minListIndex$:n}}(),v=p.topList$,m=p.minListIndex$,g=p.topListHeight$,C=P({totalCount:o,itemHeight:s,defaultItemHeight:c,initialTopMostItemIndex:u,viewportHeight$:f,scrollTop$:h,transposer$:l,topList$:v}),T=C.stickyItems$,H=C.initialItemCount$,S=C.itemHeights$,M=C.offsetList$,R=C.totalCount$,W=C.headerHeight$,N=C.footerHeight$,B=C.totalHeight$,D=C.heightsChanged$,K=function(e){var t=e.transposer$,n=e.stickyItems$,r=e.totalCount$,i=y(),o=n.pipe();return i.subscribe((function(e){var i=new L(e);t.next(i),r.next(i.totalCount()),n.next(i.groupIndices())})),{groupCounts$:i,groupIndices$:o}}({totalCount$:R,transposer$:l,stickyItems$:T}),U=K.groupCounts$,q=K.groupIndices$,G=function(e){var t,n=e.totalHeight$,r=e.viewportHeight$,i=e.scrollTop$,o=y(!1);return x(i,r,n).pipe($((function(e){var t=e[0],n=e[1],r=e[2];return 0!==n&&(t===r-n||r<=n)}))).subscribe((function(e){clearTimeout(t),e?o.next(!0):t=setTimeout((function(){return o.next(!1)}))})),{scrolledToBottom$:o}}({totalHeight$:B,viewportHeight$:f,scrollTop$:h}).scrolledToBottom$,J=F({initialTopMostItemIndex:u,scrollTop$:h,offsetList$:M,viewportHeight$:f,totalHeight$:B,stickyItems$:T,totalCount$:R,topListHeight$:g,heightsChanged$:D}),Y=J.scrolledToTopMostItem$,Q=J.scrollToIndex$,X=J.scrollTo$,Z=function(e){var t=e.overscan,n=e.defaultItemHeight,r=e.viewportHeight$,i=e.scrollTop$,o=e.topListHeight$,a=e.headerHeight$,s=e.footerHeight$,u=e.minListIndex$,c=e.totalCount$,l=e.offsetList$,f=e.scrolledToTopMostItem$,h=e.transposer$,d=e.totalHeight$,p=y(0),v=b(),m=b(),g=y([]),C=y(0);x(i,d,r).pipe($((function(e){var t=e[0],n=e[1],r=e[2];return Math.max(0,Math.min(t,n-r))}))).subscribe(C.next),x(r,C,o,p,a,s,u,c,l,f,h).pipe(k((function(e,r){var i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],f=r[7],h=r[8],d=r[9],p=r[10],v=e.length;if(0===f)return[];var m=z(e),g=m-o+s-u-c-a,y=Math.max(f-1,0),b=v>0&&(e[0].index<l||e[v-1].index>y);if(g<i||b){var x=o+i+2*t-1;e=p.transpose(h.range(o,x,l,y))}if(m>o){var $=Math.max(o-2*t,0),C=o+i-1;e=p.transpose(h.range($,C,l,y))}return e.length>1&&!d&&!n?[]:e}),[]),w()).subscribe(g.next);var T=x(g,i,o).pipe($((function(e){var t=e[0];return z(t)})));C.subscribe((function(e){0===e&&v.next(e)}));var I=0;return g.pipe($((function(e){return e.length?e[e.length-1].index:0}))).pipe(O(c)).subscribe((function(e){var t=e[0],n=e[1];0!==n&&t===n-1&&I!==t&&(I=t,m.next(t))})),{list$:g,listOffset$:T,listHeight$:p,startReached$:v,endReached$:m}}({overscan:n,defaultItemHeight:c,viewportHeight$:f,scrollTop$:h,totalHeight$:B,topListHeight$:g,headerHeight$:W,footerHeight$:N,minListIndex$:m,totalCount$:R,offsetList$:M,scrolledToTopMostItem$:Y,transposer$:l}),ee=Z.listHeight$,te=Z.list$,ne=Z.listOffset$,re=Z.startReached$,ie=Z.endReached$,oe=function(e){var t=e.offsetList$,n=e.scrollTop$,r=e.scrollTo$,i=b(),o=y(!1);return i.pipe(O(t,n,o)).subscribe((function(e){var n=e[0],i=e[1],a=e[2];e[3]||i.empty()||(o.next(!0),t.next(i.adjustForPrependedItems(n)),setTimeout((function(){r.next({top:n*i.getDefaultSize()+a}),o.next(!1)})))})),{adjustForPrependedItems$:i,adjustmentInProgress$:o}}({offsetList$:M,scrollTop$:h,scrollTo$:X}),ae=oe.adjustForPrependedItems$,se=oe.adjustmentInProgress$,ue=function(e){var t=e.list$,n=e.offsetList$,r=e.scrollTop$,i=e.scrollTo$,o=y(null),a=y(1/0);return n.pipe(O(a,r,t)).subscribe((function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t.configureMaxRangeSize(n,(function(){o.next({index:i[0].index,offset:r-i[0].offset})}))})),n.pipe(O(o)).subscribe((function(e){var t=e[0],n=e[1];if(null!==n){var r=t.offsetOf(n.index)+n.offset;i.next({top:r}),o.next(null)}})),{maxRangeSize$:a}}({scrollTo$:X,offsetList$:M,scrollTop$:h,list$:te}).maxRangeSize$,ce=function(e){var t=e.topList$,n=e.transposer$,r=e.viewportHeight$,i=e.totalCount$,o=e.offsetList$,a=y();return x(o,a,i,r).pipe(I((function(e){return e[1]>0&&e[3]>0})),O(n),$((function(e){var t=e[0],n=t[0],r=t[1],i=t[2],o=e[1],a=Math.max(0,Math.min(r-1,i));return o.transpose(n.indexRange(0,a))}))).subscribe(t.next),{topItemCount$:a}}({offsetList$:M,totalCount$:R,transposer$:l,viewportHeight$:f,topList$:v}).topItemCount$,le=function(e){var t=e.scrollToIndex$,n=e.scrolledToBottom$,r=e.totalCount$,i=y(!1);return x(i,r).pipe(O(n)).subscribe((function(e){var n=e[0],r=n[0],i=n[1],o=e[1];r&&o&&setTimeout((function(){t.next({index:i-1,align:"end",behavior:"auto"})}))})),{followOutput$:i}}({totalCount$:R,scrollToIndex$:Q,scrolledToBottom$:G}).followOutput$,fe=ne.pipe($((function(e){return-e}))),he=b();te.pipe(O(se),I((function(e){var t=e[0],n=e[1];return 0!==t.length&&!n})),$((function(e){var t=e[0];return{startIndex:t[0].index,endIndex:t[t.length-1].index}})),w((function(e,t){return!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex}))).subscribe(he.next);var de=A({scrollTop$:h,isScrolling$:d,rangeChanged$:he}),pe=de.isSeeking$,ve=de.scrollVelocity$,me=de.scrollSeekConfiguration$,ge=B.pipe($((function(e){return Math.min(e,15e6)}))),ye=x(B,ge,f).pipe($((function(e){var t=e[0],n=e[1],r=e[2];return t===n||n===r?1:(t-r)/(n-r)}))),be=y(0,!1),xe=x(ne,ye).pipe($((function(e){return e[0]/e[1]})));x(be,ye).pipe($((function(e){return e[0]*e[1]}))).subscribe(h.next);var $e=y((function(e){return e})),Ce=y((function(e,t){return e})),Te=y((function(e){return e})),Ie=y("div"),we=y("div"),ke=y(!1),Oe=y(Symbol("data-key"));return x(Ce,Te,me,$e,Ie,we,Oe).pipe($((function(e){var t=e[0],n=e[1],i=e[2],o=e[3],s=e[4],u=e[5];return{render:function(e,c){var l,f=c.key,h=c.renderPlaceholder,d=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(c,["key","renderPlaceholder"]);return o&&(f=o(e.index)),"group"===e.type?Object(r.createElement)(u,a({key:f},d),n(e.groupIndex)):(l=i&&h?Object(r.createElement)(i.placeholder,{height:d["data-known-size"],index:e.index}):t(e.transposedIndex,e.groupIndex),Object(r.createElement)(s,a({},d,{key:f}),l))}}}))).subscribe(ke.next),{groupCounts:V(U),itemHeights:V(S),headerHeight:V(W),footerHeight:V(N),listHeight:V(ee),viewportHeight:V(f),scrollTop:V(be),topItemCount:V(ce),totalCount:V(R),scrollToIndex:V(Q),initialItemCount:V(H),followOutput:V(le),adjustForPrependedItems:V(ae),maxRangeSize:V(ue),scrollSeekConfiguration:V(me),renderProp:V(Ce),groupRenderProp:V(Te),computeItemKey:V($e),itemContainer:V(Ie),groupContainer:V(we),dataKey:V(Oe),itemRender:_(ke),list:_(te),isSeeking:_(pe),scrollVelocity:_(ve),itemsRendered:_(te),topList:_(v),listOffset:_(xe),totalHeight:_(ge),startReached:_(re),endReached:_(ie),atBottomStateChange:_(G),totalListHeightChanged:_(B),rangeChanged:_(he),isScrolling:_(d),stickyItems:_(T),groupIndices:_(q),stickyItemsOffset:_(fe),scrollTo:_(X)}},D={top:0,position:"absolute",height:"100%",width:"100%"},K=function(e,t,n){var o=Object(r.useRef)(null),a=Object(r.useRef)(0),s=new i.a((function(t){var r=Math.round(t[0].contentRect.height);n&&(a.current=window.requestAnimationFrame((function(){var e=t[0].target;document.body.contains(e)&&n(e)}))),e(r)}));return Object(r.useEffect)((function(){return function(){return window.cancelAnimationFrame(a.current)}}),[]),function(e){e?(s.observe(e),t&&t(e),o.current=e):(s.unobserve(o.current),o.current=null)}};function U(e,t){var n=Object(r.useState)(function(e,t){return function(){var n=t;return e((function(e){n=e})),n}}(e,t)),i=n[0],o=n[1];return Object(r.useEffect)((function(){return e(o),function(){return e(void 0)}}),[e]),i}function q(e){var t,n=!1;return function(){return n||(n=!0,t=e()),t}}var G=q((function(){var e=document.createElement("div");return e.style.position="-webkit-sticky","-webkit-sticky"===e.style.position?"-webkit-sticky":"sticky"})),J=function(e){var t=e.height;return Object(r.createElement)("div",{style:{height:t+"px",position:"absolute",top:0}},"\xa0")},Y=Object(r.memo)((function(e){var t=e.emptyComponent,n=Object(r.useContext)(o),i=n.isSeeking,a=n.topList,s=n.list,u=n.itemRender,c=U(s,[]),l=U(a,[]),f=U(u,!1),h=U(i,!1),d=[],p=0,v=[],m=l.reduce((function(e,t){return e+t.size}),0);return l.forEach((function(e,t){var n=e.index;v.push(n);var r={top:p+"px",marginTop:0===t?-m+"px":void 0,zIndex:2,position:G()},i={key:n,"data-index":n,"data-known-size":e.size,renderPlaceholder:h,style:r};f&&d.push(f.render(e,i)),p+=e.size})),c.forEach((function(e){v.indexOf(e.index)>-1||f&&d.push(f.render(e,{key:e.index,"data-index":e.index,"data-known-size":e.size,renderPlaceholder:h}))})),0===d.length&&t?Object(r.createElement)(t):Object(r.createElement)(r.Fragment,null,d)})),Q={height:"100%",overflowY:"auto",WebkitOverflowScrolling:"touch",position:"relative",outline:"none"},X=function(e){var t=e.className,n=e.style,i=e.reportScrollTop,o=e.scrollTo,a=e.children,s=Object(r.useRef)(null),u=Object(r.useRef)(null),c=Object(r.useRef)(),l=Object(r.useCallback)((function(e){var t=e.target.scrollTop;c.current=t,null!==u.current?u.current===t&&(u.current=null,i(t)):i(t)}),[i]),f=Object(r.useCallback)((function(e){e?(e.addEventListener("scroll",l,{passive:!0}),s.current=e):s.current&&s.current.removeEventListener("scroll",l)}),[l]);return o((function(e){c.current!==e.top&&("smooth"===e.behavior&&(u.current=e.top),s.current&&s.current.scrollTo(e))})),Object(r.createElement)("div",{ref:f,style:n,tabIndex:0,className:t},a)},Z=function(e){var t=e.children,n=e.style,i=e.className,o=e.ScrollContainer,s=void 0===o?X:o,u=e.scrollTop,c=e.scrollTo;return Object(r.createElement)(s,{style:a({},Q,n),reportScrollTop:u,scrollTo:c,className:i},t)},ee=function(e){var t=e.children,n=e.headerRef;return Object(r.createElement)("header",{ref:n},t)},te=function(e){var t=e.children,n=e.footerRef;return Object(r.createElement)("footer",{ref:n},t)},ne=function(e){var t=e.children,n=e.listRef,i=e.style;return Object(r.createElement)("div",{ref:n,style:i},t)},re=function(e){var t=e.header,n=e.HeaderContainer,i=void 0===n?ee:n,a=K(Object(r.useContext)(o).headerHeight);return Object(r.createElement)(i,{headerRef:a},t())},ie=function(e){var t=e.footer,n=e.FooterContainer,i=void 0===n?te:n,a=K(Object(r.useContext)(o).footerHeight);return Object(r.createElement)(i,{footerRef:a},t())},oe=function(e){var t=e.fixedItemHeight,n=e.children,i=e.ListContainer,a=Object(r.useContext)(o),s=a.listHeight,u=a.itemHeights,c={marginTop:U(a.listOffset,0)+"px"},l=K(s,(function(){}),(function(e){if(!t){var n=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.item(n);if(i&&void 0!==i.dataset.index){var o=parseInt(i.dataset.index),a=parseInt(i.dataset.knownSize),s=i.offsetHeight;if(s!==a&&0!==s){var u=t[t.length-1];0===t.length||u.size!==s||u.end!==o-1?t.push({start:o,end:o,size:s}):t[t.length-1].end++}}}return t}(e.children);u(n)}}));return Object(r.createElement)(i,{listRef:l,style:c},n)},ae=function(e){var t=e.style,n=e.header,i=e.footer,a=e.fixedItemHeight,s=e.ScrollContainer,u=e.ListContainer,c=e.HeaderContainer,l=e.FooterContainer,f=e.className,h=e.emptyComponent,d=Object(r.useContext)(o),p=d.scrollTo,v=d.scrollTop,m=d.totalHeight,g=d.viewportHeight,y=U(m,0),b=K(g);return Object(r.createElement)(Z,{style:t,ScrollContainer:s,className:f,scrollTo:p,scrollTop:function(e){v(Math.max(e,0))}},Object(r.createElement)("div",{ref:b,style:D},Object(r.createElement)(oe,{fixedItemHeight:a,ListContainer:u},n&&Object(r.createElement)(re,{header:n,HeaderContainer:c}),Object(r.createElement)(Y,{emptyComponent:h}),i&&Object(r.createElement)(ie,{footer:i,FooterContainer:l}))),Object(r.createElement)(J,{height:y}))},se={},ue=Object(r.memo)((function(e){var t=e.contextValue,n=e.style,i=e.className,a=e.header,s=e.footer,u=e.itemHeight,c=e.ScrollContainer,l=e.ListContainer,f=e.HeaderContainer,h=e.FooterContainer,d=e.emptyComponent;return Object(r.createElement)(o.Provider,{value:t},Object(r.createElement)(ae,{style:n||se,className:i,header:a,footer:s,fixedItemHeight:void 0!==u,ScrollContainer:c,HeaderContainer:f,FooterContainer:h,ListContainer:l||ne,emptyComponent:d}))})),ce=Object(r.forwardRef)((function(e,t){var n=Object(r.useState)((function(){return B(e)}))[0];return Object(r.useImperativeHandle)(t,(function(){return{scrollToIndex:function(e){n.scrollToIndex(e)},adjustForPrependedItems:function(e){n.adjustForPrependedItems(e)}}}),[n]),Object(r.useEffect)((function(){return n.isScrolling(e.scrollingStateChange),n.atBottomStateChange(e.atBottomStateChange),n.startReached(e.startReached),n.endReached(e.endReached),n.topItemCount(e.topItems||0),n.totalCount(e.totalCount),e.initialItemCount&&n.initialItemCount(e.initialItemCount),n.itemsRendered(e.itemsRendered),n.totalListHeightChanged(e.totalListHeightChanged),n.followOutput(!!e.followOutput),n.maxRangeSize(e.maxHeightCacheSize||1/0),n.rangeChanged(e.rangeChanged),n.scrollSeekConfiguration(e.scrollSeek),n.computeItemKey(e.computeItemKey||function(e){return e}),n.itemContainer(e.ItemContainer||"div"),n.renderProp(e.item),n.dataKey(e.dataKey),function(){n.itemsRendered(void 0),n.totalListHeightChanged(void 0)}}),[n,e.scrollingStateChange,e.atBottomStateChange,e.startReached,e.endReached,e.topItems,e.totalCount,e.initialItemCount,e.itemsRendered,e.totalListHeightChanged,e.followOutput,e.maxHeightCacheSize,e.rangeChanged,e.scrollSeek,e.item,e.ItemContainer,e.computeItemKey,e.dataKey]),Object(r.createElement)(ue,{contextValue:n,style:e.style,className:e.className,header:e.header,footer:e.footer,itemHeight:e.itemHeight,ScrollContainer:e.ScrollContainer,HeaderContainer:e.HeaderContainer,FooterContainer:e.FooterContainer,ListContainer:e.ListContainer,emptyComponent:e.emptyComponent})}));ce.displayName="Virtuoso",Object(r.forwardRef)((function(e,t){var n=Object(r.useState)(B(e))[0];return Object(r.useImperativeHandle)(t,(function(){return{scrollToIndex:function(e){n.scrollToIndex(e)}}}),[n]),Object(r.useEffect)((function(){return n.startReached(e.startReached),n.endReached(e.endReached),n.rangeChanged(e.rangeChanged),n.atBottomStateChange(e.atBottomStateChange),n.isScrolling(e.scrollingStateChange),n.groupCounts(e.groupCounts),n.groupIndices(e.groupIndices),n.itemsRendered(e.itemsRendered),n.totalListHeightChanged(e.totalListHeightChanged),n.renderProp(e.item),n.groupRenderProp(e.group),n.itemContainer(e.ItemContainer||"div"),n.groupContainer(e.GroupContainer||"div"),n.scrollSeekConfiguration(e.scrollSeek),function(){n.itemsRendered(void 0),n.totalListHeightChanged(void 0)}}),[n,e.startReached,e.endReached,e.rangeChanged,e.atBottomStateChange,e.scrollingStateChange,e.groupCounts,e.groupIndices,e.itemsRendered,e.totalListHeightChanged,e.item,e.group,e.GroupContainer,e.ItemContainer,e.scrollSeek]),Object(r.createElement)(ue,{contextValue:n,style:e.style,className:e.className,header:e.header,footer:e.footer,itemHeight:e.itemHeight,ScrollContainer:e.ScrollContainer,HeaderContainer:e.HeaderContainer,FooterContainer:e.FooterContainer,ListContainer:e.ListContainer})})).displayName="GroupedVirtuoso";var le=Math.ceil,fe=Math.floor,he=Math.min,de=Math.max,pe=function(e){return le(e)-e<.03?le(e):fe(e)},ve=function(e){void 0===e&&(e=0);var t=y(!1),n=y([0,0,void 0,void 0,void 0,void 0]),i=y(0),o=y(0),a=y(0),s=y([0,de(e-1,0)]),u=y(0),c=y(0),l=b(),f=b();x(n,o,a,i).pipe(O(s)).subscribe((function(e){var t=e[0],n=t[0],r=n[0],i=n[1],o=n[2],a=n[3],l=t[1],h=t[2],d=t[3],p=e[1];if(void 0!==o&&void 0!==a){if(0===d)return s.next([0,-1]),c.next(0),void f.next({startIndex:0,endIndex:-1});var v=p[0],m=p[1],g=pe(r/o),y=function(e,t){return void 0===t&&(t=fe),t(e/g)},b=function(e){var t=e?[0,h]:[h,0],n=t[1],r=g*fe((l-t[0])/a),o=g*le((l+i+n)/a)-1;o=he(d-1,o),r=he(o,de(0,r)),s.next([r,o]),c.next(y(r)*a),f.next({startIndex:r,endIndex:o})},x=a*y(v),$=a*y(m)+a;d<m-1?b(!0):x>l?b(!1):$<l+i&&b(!0),u.next(a*y(d-m-1,le))}}));var h=l.pipe(O(n,i),$((function(e){var t=e[0],n=e[1],r=n[0],i=n[1],o=n[2],a=n[3],s=e[2];if(void 0===o||void 0===a)return{top:0,behavior:"auto"};"number"===typeof t&&(t={index:t,align:"start"});var u=t,c=u.index,l=u.align,f=void 0===l?"start":l,h=u.behavior,d=void 0===h?"auto":h;c=Math.max(0,c,Math.min(s-1,c));var p=pe(r/o),v=fe(c/p)*a;return"end"===f?v=v-i+a:"center"===f&&(v=Math.round(v-i/2+a/2)),{top:v,behavior:d}}))),d=j(o),p=b(),v=0;s.pipe(O(i)).subscribe((function(e){var t=e[0][1],n=e[1];0!==n&&t===n-1&&v!==t&&(v=t,p.next(t))}));var m=A({scrollTop$:o,isScrolling$:d,rangeChanged$:f}),g=m.isSeeking$,C=m.scrollSeekConfiguration$;return x(s,g,C,n).pipe($((function(e){var t=e[0],n=t[0],i=t[1],o=e[1],a=e[2],s=e[3][5];return{render:function(e,t,u,c){for(var l=[],f=n;f<=i;f++){var h=c(f),d=void 0;d=a&&o&&s?Object(r.createElement)(a.placeholder,{height:s,index:f}):e(f),l.push(Object(r.createElement)(u,{key:h,className:t},d))}return l}}}))).subscribe(t.next),{gridDimensions:V(n),totalCount:V(i),scrollTop:V(o),overscan:V(a),scrollToIndex:V(l),scrollSeekConfiguration:V(C),itemsRender:_(t),itemRange:_(s),remainingHeight:_(u),listOffset:_(c),scrollTo:_(h),isScrolling:_(d),endReached:_(p),rangeChanged:_(f)}},me=(r.PureComponent,function(e){var t=e.ScrollContainer,n=e.ItemContainer,o=void 0===n?"div":n,a=e.ListContainer,s=void 0===a?"div":a,u=e.className,c=e.item,l=e.itemClassName,f=void 0===l?"virtuoso-grid-item":l,h=e.listClassName,d=void 0===h?"virtuoso-grid-list":h,p=e.engine,v=e.style,m=void 0===v?{height:"100%"}:v,g=e.computeItemKey,y=void 0===g?function(e){return e}:g,b=p.listOffset,x=p.remainingHeight,$=p.gridDimensions,C=p.scrollTo,T=p.scrollTop,I=p.itemsRender,w=U(x,0),k={paddingTop:U(b,0)+"px",paddingBottom:w+"px"},O=U(I,!1),j=function(e){var t=Object(r.useRef)(null),n=Object(r.useRef)([0,0]),o=new i.a((function(t){var r=t[0].contentRect,i=r.width,o=r.height;n.current[0]===i&&n.current[1]===o||(n.current=[i,o],e({element:t[0].target,width:Math.round(i),height:Math.round(o)}))}));return function(e){e?(o.observe(e),t.current=e):(o.unobserve(t.current),t.current=null)}}((function(e){var t=e.element,n=e.width,r=e.height,i=t.firstChild.firstChild,o=i.firstChild;$([n,r,i.offsetWidth,i.offsetHeight,o.offsetWidth,o.offsetHeight])}));return Object(r.createElement)(Z,{style:m,ScrollContainer:t,className:u,scrollTo:C,scrollTop:T},Object(r.createElement)("div",{ref:j,style:D},Object(r.createElement)(s,{style:k,className:d},O.render(c,f,o,y))))})}}]);