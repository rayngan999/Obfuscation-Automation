var itemsRaccomandatore=null;!function(){var e,n,t,a,o,s,i,r;function l(n){n.preventDefault(),n.stopImmediatePropagation(),i.classList.contains("gz-header-search-opened")?(i.classList.remove("gz-header-search-opened"),setTimeout(()=>{search_container.style.display="none"},50),e.blur()):(e.focus(),e.placeholder=s,search_container.style.display="flex",setTimeout(()=>{i.classList.add("gz-header-search-opened")},50),"desktop"!=device&&window.addEventListener("scroll",d,!1))}function c(n){0!=e.value.length?search_container.classList.add("gz-header-search-active"):search_container.classList.remove("gz-header-search-active")}function d(n){(window.scrollY||window.pageYOffset||document.documentElement.scrollTop)>r&&i.classList.contains("gz-header-search-opened")&&(i.classList.remove("gz-header-search-opened"),e.placeholder="",e.blur())}"undefined"==typeof GZheader&&(GZheader={}),GZheader.search=function(d){a=void 0!==d&&Object.keys(d).length>0?d:{},search_container=document.getElementsByClassName("gz-header-search-container")[0],e=document.getElementsByClassName("gz-header-search-input")[0],n=document.getElementsByClassName("gz-header-search-form")[0],t=document.getElementById("gz-header-search"),o=document.getElementById("gz-header-search-close"),s=a.placeholder?a.placeholder:dictionary.searchARecipe,i=document.getElementById("gz-header"),0,r=50,e.addEventListener("input",c,!1),t&&o&&(t.addEventListener("click",l,!1),o.addEventListener("click",l,!1),a.submitCallback&&n.addEventListener("submit",function(e){window[a.submitCallback](e)},!1)),s&&a.visible&&(e.placeholder=s)}}(),function(){"undefined"==typeof GZheader&&(GZheader={}),GZheader.social=function(e){var n=document.getElementById("gz-header-overlay-social");if(void 0!==e&&e.length>0){var t=function(e){for(var n=e,t="",a=0;a<n.length;a++){var o="";switch(n[a].className){case"gz-header-facebook":o='<span class="gz-icon"><svg viewBox="0 0 9 19"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#facebook-black" /></svg></span>';break;case"gz-header-blog":o='<span class="gz-icon"><svg viewBox="0 0 23 34"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#blog" /></svg></span>';break;case"gz-header-pinterest":o='<span class="gz-icon"><svg viewBox="0 0 16 20"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#pinterest-black" /></svg></span>';break;case"gz-header-twitter":o='<span class="gz-icon"><svg viewBox="0 0 22 18"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#twitter-black" /></svg></span>';break;case"gz-header-youtube":o='<span class="gz-icon"><svg viewBox="0 0 23 28"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#youtube-black" /></svg></span>';break;case"gz-header-instagram":o='<span class="gz-icon"><svg viewBox="0 0 25 25"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#instagram" /></svg></span>'}t+='<a href="'+n[a].url+'" class="gz-header-social-channel '+n[a].className+'" title="'+n[a].name+'" target="_blank" rel="nofollow">'+o+"</a>"}return t}(e);""!=t&&(n.innerHTML=t,n.classList.remove("gz-header-hidden"))}}}(),function(){var e;"undefined"==typeof GZheader&&(GZheader={}),GZheader.login=function(){e=document.getElementById("gz-header-overlay-login"),login_user_icon=e.querySelector(".gz-header-user-login > a .gz-icon"),isLogged||(login_user_icon.innerHTML='<svg viewBox="0 0 29 25"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#account-white" /></svg>')}}(),function(){"undefined"==typeof GZheader&&(GZheader={});var e,n,t,a,o,s,i,r,l,c,d,g,u,m;function h(e){if(e&&(e.preventDefault(),e.stopImmediatePropagation()),n.classList.contains("gz-header-user-overlay-opened"))n.classList.remove("gz-header-user-overlay-opened"),window.scrollTo(0,m),document.removeEventListener("touchmove",v,!1),z();else{0==s.innerHTML.trim().length&&postTcfReady(y),m=window.pageYOffset,n.classList.add("gz-header-user-overlay-opened"),document.addEventListener("touchmove",v,!1);var t="Apertura modale "+(isLogged?"loggato":"sloggato");ga("send","event","Login",t,window.location.href,{nonInteraction:!0})}}function v(n){(function(n,t){for(;n.parentNode&&n.parentElement!==e;)if((n=n.parentNode).classList.contains(t))return n;return null})(n.target,"gz-header-user-overlay-opened")||n.preventDefault()}function p(e){n.classList.contains("gz-header-user-overlay-opened")&&(n.classList.remove("gz-header-user-overlay-opened"),document.removeEventListener("touchmove",v,!1),z())}function f(e){var n=document.getElementById("gz-user-login-redirect"),t=document.getElementById("gz-header-user-social-login-btn-fb"),a=document.getElementById("gz-header-user-social-login-btn-apple"),o="",s=e.detail.action,i=!!e.detail.modal,r=redirectUrl+"?GZmodal="+i+"#"+s;"listaspesa"==s?o=dictionary.loginShoppingListMessage:"fotocommenti"==s?o=dictionary.loginPhotoCommentsMessage:"collezioni"==s?o=dictionary.loginCookbookMessage:"commenti"==s&&(o=dictionary.loginCommentsMessage),n.value=r,t.setAttribute("href",fbLoginUrl+"&state="+btoa(r)),a.setAttribute("href",appleLoginUrl+"&state="+btoa(r)),g.innerHTML=o,g.classList.add("active"),h()}function z(){if(setTimeout(function(){i.scrollTop=0},300),!isLogged){var e=document.getElementById("gz-user-login-redirect"),n=document.getElementById("gz-header-user-social-login-btn-fb"),t=document.getElementById("gz-header-user-social-login-btn-apple");e.value=redirectUrl,n.setAttribute("href",fbLoginUrl),t.setAttribute("href",appleLoginUrl+"&state="+btoa(redirectUrl)),g.innerHTML="",g.classList.remove("active")}}async function y(){if(itemsRaccomandatore)b();else{let e=function(e){const n=document.cookie.split(";").reduce((e,n)=>{const[t,a]=n.split("=").map(e=>e.trim());return t&&a&&(e[t]=decodeURIComponent(a)),e},{});return e?n[e]||"":n}("raccomandatore")||null;e?localStorage.setItem("raccomandatore",encodeURIComponent(e)):localStorage.getItem("raccomandatore")&&(e=localStorage.getItem("raccomandatore"));let n=localStorage.getItem("kxkuid")||null,t=localStorage.getItem("localEtsId")||null;jsonToPost={},e&&(e=JSON.parse(decodeURIComponent(e))).items&&e.items.length>0&&(jsonToPost=e,jsonToPost.page=0,jsonToPost.url=document.location.href),jsonToPost.ids={uid:t,kx:n},jsonToPost.ctx="login",console.log("[Raccomandatore] jsonToPost",jsonToPost),console.log("[Raccomandatore] jsonToPost1",JSON.stringify(jsonToPost));let a=await fetch("https://x77l9u4vif.execute-api.eu-west-1.amazonaws.com/prod/api/recommender/gz/v1/login/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(jsonToPost)});itemsRaccomandatore=await a.json(),console.log("[Raccomandatore] Risultati Fetch Login",itemsRaccomandatore),b()}}function b(){var e=itemsRaccomandatore?itemsRaccomandatore.nodo_out:null;e&&s&&function(e){for(var n="",t=0;t<e.length;t++){var a=w(e[t],t);n+=a}s.innerHTML=s.innerHTML+n,s.parentNode.classList.add("processed"),document.querySelectorAll(".gz-card-raccomandatore a").forEach(e=>{e.addEventListener("click",n=>{var t=e.getAttribute("href")+"#"+e.closest(".gz-card-raccomandatore").getAttribute("data-index");ga("send","event","Login","Click sui suggeriti",t,{nonInteraction:!0})})})}(e)}function w(e,n){var t="",a=e.t_has_special_image?"_sp":"";return"O"==e.tipo?(t+='<article class="gz-card gz-card-horizontal gz-card-horizontal-mobile gz-card-raccomandatore" data-ets-algo="'+e.algo+'" data-ets-tipo="'+e.tipo+'" data-index="'+(n+1)+'"><div class="gz-image-recipe gz-video"><a href="'+e.url+'" title="'+e.titolo+'"><picture><img src="'+e.img+'" width="400" height="400" alt="'+e.titolo+'" class="lazyload" loading="lazy" /></picture>',e.label&&(t+='\x3c!-- div class="gz-label gz-orange">'+e.label+"</div --\x3e"),e.benessere&&(t+='<div class="gz-label gz-benessere">BENESSERE</div>'),t+='</a></div><div class="gz-content-recipe-horizontal">',t+='<div class="gz-wrap-recipe-top">',t+='<div class="gz-title"><a href="'+e.url+'" title="'+e.titolo+'">'+e.titolo+"</a></div>",(e.fb_like||e.fb_video_views)&&(t+='<ul class="gz-data-recipe top">',e.fb_like&&(t+='<li class="gz-single-data-recipe"><span class="gz-icon gz-icon-likesocial"><svg viewBox="0 0 18 18"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#likesocial-blu" /></svg></span>'+e.fb_like+"</li>"),e.fb_video_views&&(t+='<li class="gz-single-data-recipe"><span class="gz-icon gz-icon-view"><svg viewBox="0 0 21 12"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#view-blu" /></svg></span>'+e.fb_video_views+"</li>"),t+="</ul>"),t+="</div></article>"):(t+='<article class="gz-card gz-card-horizontal gz-card-horizontal-mobile gz-card-raccomandatore" data-ets-algo="'+e.algo+'" data-ets-tipo="'+e.tipo+'" data-index="'+(n+1)+'"><div class="gz-image-recipe gz-'+e.type+'"><a href="'+e.url+'" title="'+e.titolo+'"><picture><img src="'+e.img+"foto_hd/hd360x300"+a+'.jpg" width="360" height="300" alt="'+e.titolo+'" class="lazyload" loading="lazy" /></picture>',e.label&&(t+='\x3c!-- div class="gz-label gz-orange">'+e.label+"</div --\x3e"),e.benessere&&(t+='<div class="gz-label gz-benessere">BENESSERE</div>'),t+='</a></div><div class="gz-content-recipe-horizontal">',t+='<div class="gz-title"><a href="'+e.url+'" title="'+e.titolo+'">'+e.titolo+"</a></div>",(e.num_commenti||e.rating_average)&&(t+='<ul class="gz-data-recipe top">',e.num_commenti&&(t+='<li class="gz-single-data-recipe">',e.num_commenti>=200?t+='<span class="gz-icon"><svg viewBox="0 0 17 18"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#commento-orange" /></svg></span>':t+='<span class="gz-icon"><svg viewBox="0 0 24 25"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#commento-grey" /></svg></span>',t+=e.num_commenti+"</li>"),e.rating_average&&(t+='<li class="gz-single-data-recipe">',e.rating_average>=4.3?t+='<span class="gz-icon"><svg viewBox="0 0 18 16"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#voto-orange" /></svg></span>':t+='<span class="gz-icon"><svg viewBox="0 0 21 20"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#voto-grey" /></svg></span>',t+=e.rating_average+"</li>"),t+="</ul>"),t+="</div></article>"),t}GZheader.userMenu=function(){e=document.getElementsByTagName("html")[0],n=document.getElementsByTagName("body")[0],t=document.getElementById("gz-header-user-overlay-close"),a=document.getElementById("gz-header-user-overlay-close-panel"),s=document.getElementById("gz-raccomandatore-login"),i=document.getElementById("gz-header-user-overlay-container"),r=document.getElementById("gz-header-user-login"),l=document.getElementById("gz-header-user-login-menu"),c=document.getElementById("gz-header-user-login-container"),d=document.getElementById("gz-header-user-login-title"),g=document.getElementById("gz-header-user-login-message"),u=document.getElementById("gz-header-user-login-content"),user_header_overlay=document.getElementById("gz-header-user-overlay"),r&&(isLogged?(n.classList.add("gz-logged"),r.innerHTML='<span class="gz-icon gz-icon-search-inactive"><svg viewBox="0 0 35 34"><use xlink:href="#user-white" /></svg></span><span class="gz-icon gz-icon-search-active"><svg viewBox="0 0 35 34"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#user-noanimation-white" /></svg></span>',d.innerHTML='<a href="//www.giallozafferano.it/utente/index/" title="'+dictionary.userMenuTitle+'">'+uData.split("&&_&&")[0]+"</a>",u.innerHTML='<ul class="gz-header-user-info"><li><a href="//www.giallozafferano.it/utente/ricettari.php" class="gz-ricettari" title="'+dictionary.userMenuCookbook+'"><span class="gz-icon"><svg viewBox="0 0 26 22"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#like" /></svg></span>'+dictionary.userMenuCookbook+'</a></li><li><a href="//www.giallozafferano.it/utente/fatte-da-me.php" class="gz-fattedame" title="'+dictionary.userMenuMadeByMe+'"><span class="gz-icon"><svg viewBox="0 0 26 27"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#fotocommento" /></svg></span>'+dictionary.userMenuMadeByMe+'</a></li><li><a href="//www.giallozafferano.it/utente/lista-della-spesa-dettaglio.php" class="gz-spesa" title="'+dictionary.userMenuShoppingList+'"><span class="gz-icon"><svg viewBox="0 0 29 25"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#spesa-new" /></svg></span>'+dictionary.userMenuShoppingList+'</a></li><li><a href="//www.giallozafferano.it/utente/modifica-dati/" class="gz-modifica" title="'+dictionary.userMenuEdit+'"><span class="gz-icon"><svg viewBox="0 0 24 24"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#modifica-new" /></svg></span>'+dictionary.userMenuEdit+'</a></li><li class="gz-logout"><a href="//www.giallozafferano.it/utente/logout.php" title="'+dictionary.userMenuLogOut+'">'+dictionary.userMenuLogOut+"</a></li></ul>"):(l.innerHTML='<a href="'+registrationUrl+'" class="gz-button gz-button-small gz-button-orange gz-uppercase">'+dictionary.loginRegister+'</a><div class="gz-button gz-button-small gz-button-with-arrow gz-uppercase gz-button-top" id="gz-button-user-top">'+dictionary.loginEnter+'</div><div class="gz-header-user-overlay-close gz-header-close-user-login" id="gz-header-close-user-login"></div>',u.innerHTML='<div class="gz-header-user-registration"><span class="gz-header-user-registration-label">'+dictionary.loginNotRegistered+'</span><a href="'+registrationUrl+'" class="gz-button gz-button-small gz-button-orange gz-uppercase">'+dictionary.loginRegisterNow+'</a></div><div class="gz-header-user-separator"><span>oppure login</span></div><div class="gz-header-user-social-login"><a href="'+fbLoginUrl+'" class="gz-header-user-social-login-btn-fb" id="gz-header-user-social-login-btn-fb"><span class="gz-icon"><svg viewBox="0 0 28 28"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#login-facebook" /></svg></span><span class="gz-btn-label">'+dictionary.loginFacebookSignIn+'</span></a><a href="'+appleLoginUrl+"&state="+btoa(redirectUrl)+'" class="gz-header-user-social-login-btn-apple" id="gz-header-user-social-login-btn-apple"><span class="gz-icon"><svg viewBox="0 0 16 19"><use xlink:href="/style/images/icons.svg?cb='+nonce+'#login-apple" /></svg></span><span class="gz-btn-label">'+dictionary.loginAppleSignIn+'</span></a></div><form class="gz-header-user-form-login" method="post" action="'+loginUrl+'"><input type="hidden" name="redirect" id="gz-user-login-redirect" value="'+redirectUrl+'"><div class="gz-header-user-input"><label for="username" class="gz-header-user-label">'+dictionary.loginUsername+'</label><input name="username" type="text" placeholder="" id="username" required></div><div class="gz-header-user-input"><label for="password" class="gz-header-user-label">'+dictionary.loginPassword+'</label><input name="password" type="password" placeholder="" id="password" required></div><div class="gz-header-user-bottom-login"><div class="gz-header-user-recover-pwd">'+dictionary.loginForgotPassword+' <a href="'+recoverPwdUrl+'">'+dictionary.loginRecover+'</a></div><button class="gz-button gz-button-small gz-button-orange gz-uppercase gz-header-user-button" id="gz-header-user-button">'+dictionary.loginSignIn+"</button></div>",new window.IntersectionObserver(e=>{e[0].isIntersecting?l.classList.remove("active"):l.classList.add("active")}).observe(c),document.getElementById("gz-button-user-top").addEventListener("click",function(){i.scrollTop=0},!1),document.addEventListener("setLogin",f,!1),document.getElementById("gz-header-user-button").addEventListener("click",function(){""!=document.querySelector(".gz-header-user-input #username").value&&""!=document.querySelector(".gz-header-user-input #password").value&&ga("send","event","Login","Click accedi campi pieni",window.location.href,{nonInteraction:!0})},!1)),function(){o=document.querySelectorAll(".gz-header-close-user-login"),r.addEventListener("click",h,!1),t.addEventListener("click",h,!1),a.addEventListener("click",p,!1);for(var e=0;e<o.length;e++)o[e].addEventListener("click",p,!1);document.addEventListener("openLogin",h,!1)}())}}(),function(){var e,n,t;function a(){e.offsetWidth==n.offsetWidth+60?t.classList.remove("gz-header-hidden"):t.classList.add("gz-header-hidden")}"undefined"==typeof GZheader&&(GZheader={}),GZheader.calcNavigationWidth=function(){(e=document.getElementById("gz-header-nav"))&&(t=document.getElementById("gz-header-nav-overflow-menu"),(n=e.querySelector(".gz-header-nav > ul")).style.width="auto",a(),window.addEventListener("scroll",a,!1),window.addEventListener("resize",a,!1))}}(),function(){"undefined"==typeof GZheader&&(GZheader={});var e,n,t="gz-header-";GZheader.populateOverlay=function(a,o){e=document.getElementById(t+a),n=document.getElementById(t+o),e&&n&&(n.innerHTML=e.innerHTML)}}(),function(){"undefined"==typeof GZheader&&(GZheader={});var e,n="gz-header-";GZheader.hideComponent=function(t){(e=document.getElementById(n+t))&&e.classList.add("gz-header-hidden")}}(),function(){var e;function n(e){var n=document.getElementById("gz-header-"+e).querySelectorAll(".selected");if(n.length>0)for(var t=n[n.length-1],a="nav"==e?1:0;a<n.length;a++)n[a]!=t&&n[a].classList.contains("selected")&&n[a].classList.remove("selected")}function t(e){var n=e;n.classList.contains("selected")&&n.classList.add("opened");for(var t=n.querySelectorAll(".gz-header-has-children a"),o=0;o<t.length;o++)t[o].addEventListener("click",function(e){e.stopPropagation()});n.addEventListener("click",a,!1)}function a(e){e.preventDefault(),e.stopPropagation();this.classList.contains("opened")?this.classList.remove("opened"):(!function(){var e=document.getElementById("gz-header-overlay-nav").querySelectorAll(".opened");if(e.length)for(var n=0;n<e.length;n++)e[n].classList.remove("opened")}(),this.classList.add("opened"))}"undefined"==typeof GZheader&&(GZheader={}),GZheader.menuManager=function(){if(document.getElementById("gz-header-nav")&&document.getElementById("gz-header-overlay-nav")){e=document.querySelectorAll(".gz-header-has-children");for(var a=0;a<e.length;a++)t(e[a]);n("nav"),n("overlay-nav")}}}(),function(){var e,n,t,a,o;function s(){var t=0+(document.getElementById("mh2021")?document.getElementById("mh2021").firstElementChild.offsetHeight:0),s=t-window.pageYOffset,i=window.pageYOffset;e.classList.contains("pushing")||(s<=0&&!o?(e.classList.add("gz-sticky"),n.classList.add("gz-header-sticky"),o=!0):o&&i<=t&&(e.classList.remove("gz-sticky"),n.classList.remove("gz-header-sticky"),o=!1)),a&&function(){if(!e.classList.contains("pushing"))for(var t=0;t<a.length;t++){var o=a[t];n.classList.contains("gz-header-sticky")?o.style.top="auto":o.style.top=55+(document.getElementById("mh2021")?document.getElementById("mh2021").firstElementChild.offsetHeight:0)}}()}"undefined"==typeof GZheader&&(GZheader={}),GZheader.stickyHeader=function(){e=document.getElementsByTagName("body")[0],n=document.getElementById("gz-header"),t=document.getElementById("gz-header-nav"),a=t?t.querySelectorAll("ul:first-child > .gz-header-has-children > ul"):null,document.getElementById("gpt_strip_adv"),document.getElementById("av-pushdown-wrapper"),o=!1,window.addEventListener("scroll",s)}}(),function(){"undefined"==typeof GZheader&&(GZheader={});var e,n,t,a,o,s,i,r;function l(n){n.preventDefault(),n.stopImmediatePropagation(),e.classList.contains("gz-header-overlay-opened")?(e.classList.remove("gz-header-overlay-opened"),window.scrollTo(0,r),document.removeEventListener("touchmove",c,!1)):(r=window.pageYOffset,e.classList.add("gz-header-overlay-opened"),document.addEventListener("touchmove",c,!1))}function c(e){(function(e,t){for(;e.parentNode&&e.parentElement!==n;)if((e=e.parentNode).classList.contains(t))return e;return null})(e.target,"gz-header-overlay-opened")||e.preventDefault()}function d(n){e.classList.contains("gz-header-overlay-opened")&&(e.classList.remove("gz-header-overlay-opened"),document.removeEventListener("touchmove",c,!1))}GZheader.handlers=function(){n=document.getElementsByTagName("html")[0],e=document.getElementsByTagName("body")[0],t=document.getElementById("gz-header-hamburger"),user_login=document.getElementById("gz-header-user-login"),s=document.getElementsByClassName("gz-header-open-menu"),a=document.getElementById("gz-header-overlay-close"),o=document.getElementById("gz-header-overlay-close-panel"),i=document.getElementById("gz-header-nav-overflow-menu"),header_overlay=document.getElementById("gz-header-overlay"),function(){t.addEventListener("click",l,!1);for(var e=0;e<s.length;e++)s[e].addEventListener("click",l,!1);a.addEventListener("click",l,!1),i&&i.addEventListener("click",l,!1),o.addEventListener("click",d,!1)}()}}(),function(e){if(void 0!==e){var n=JSON.parse(JSON.stringify(e));for(var t in GZheader.menuManager(),GZheader.stickyHeader(),GZheader.userMenu(),GZheader.handlers(),n)"topstrip"!==t&&(n[t]?(GZheader.populateOverlay(t,"overlay-"+t),GZheader[t]&&("boolean"!=typeof n[t]?GZheader[t](n[t]):GZheader[t]())):GZheader.hideComponent(t));GZheader.calcNavigationWidth()}}(GZheaderOptions);
//# sourceMappingURL=gzheader.min.js.map