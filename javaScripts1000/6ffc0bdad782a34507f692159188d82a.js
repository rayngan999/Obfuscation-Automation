define(["vendor/modernizr","vendor/ender/qwery","vendor/ender/reqwest","vendor/ender/bean","vendor/ender/bonzo","vendor/json2","modules/id.error","modules/id.event","modules/id.base64","configuration"],function(e,t,n,o,i,r,s,a,l,d){"use strict";var c,u={},f={};return a&&(f=a),s&&(u=new s,u.init(d)),o.setSelectorEngine(t),c={event:{constants:f.constants,subscribe:function(e,t,n,o){return f.subscribe(e,t,n,o)},unsubscribe:function(e,t,n){return f.unsubscribe(e,t,n)},publish:function(e){return f.publish.apply(e,arguments)}},windowWidthChangeHandler:function(){var e;void 0!==window.onorientationchange?c.dom.bind(window,"orientationchange",c.utils.throttle(function(){c.event.publish(c.event.constants.WINDOW_WIDTH_CHANGED,null)},250,{leading:!1})):(e=c.utils.currentWindowWidth(),c.dom.bind(window,"resize",c.utils.throttle(function(){c.utils.currentWindowWidth()!==e&&(c.event.publish(c.event.constants.WINDOW_WIDTH_CHANGED,null),e=c.utils.currentWindowWidth())},900,{leading:!1})))},module:{parseConfiguration:function(e){var t;return e&&e.getAttribute&&(t=e.getAttribute(c.constants.MODULE_CONFIGURATION_DATA_ATTRIBUTE)||null,null!==t&&(t=JSON.parse(t))),t||{}},writeConfiguration:function(e,t){return e&&e.setAttribute&&t&&e.setAttribute(c.constants.MODULE_CONFIGURATION_DATA_ATTRIBUTE,JSON.stringify(t)),e},moduleDefinition:function(e,t,n){return{id:t&&"function"==typeof t?t(e):t,container:n||{},guid:c.utils.guid(),configuration:void 0===n?{}:c.module.parseConfiguration(n)}}},initComponents:function(e,t){function n(e){return"modules/id."+e}e||(e="html");var o,i,r,s,a,l,u=[];if((void 0===t||null===t)&&(u=this.dom.$(this.constants.MODULE_SELECTOR_DATA_ATTRIBUTE,e),t=[]),this.windowWidthChangeHandler(),d.globalModules&&"html"===e)for(o=0,i=d.globalModules.length;i>o;o+=1)l=d.globalModules[o],a=this.module.moduleDefinition(l,n),t.push(a);for(o=0,i=u.length;i>o;o+=1){r=u[o],s=r.getAttribute(this.constants.MODULE_DATA_ATTRIBUTE);try{a=c.module.moduleDefinition(s,n,r),a.configuration.lazyInit!==!0&&t.push(a)}catch(f){this.utils.log("Unable to create moduleDefinition for module: "+n(s),f.message)}}this.startAll(t)},startAll:function(e){function t(e){define(e.guid,function(){return{container:e.container,configuration:e.configuration,moduleId:e.id}})}function n(e,t){c.utils.log("init "+e.moduleId,e);try{var n,o=c.utils.timer();o.s(e.moduleId),c.utils.typeEqual(t,"function")?n=new t:t.module&&(n=new t.module),n.conf&&c.utils.extend(n.conf,e.configuration),n.init(e.container),c.utils.log(o.e())}catch(i){u.log(i.message,e.moduleId,i.stack)}}var o,i,r,s;for(o=0,i=e.length;i>o;o+=1){r=e[o],t(r);try{require([r.guid,r.id],n)}catch(a){s="could not init module: ",c.configuration.isDebugMode?alert(s+a):this.utils.log(s,a)}}},constants:{MODULE_DATA_ATTRIBUTE:"data-id-module",MODULE_SELECTOR_DATA_ATTRIBUTE:"[data-id-module]",MODULE_CONFIGURATION_DATA_ATTRIBUTE:"data-id-mconf"},breakpoints:{GTE_MOBILE_LANDSCAPE:480,GTE_BIGMOBILE_LANDSCAPE:640,GTE_TABLET_LANDSCAPE:900},ajax:n,dom:{util:i,$:function(e,n){var o=i(t(e,n));return o},closest:function(e,t){var n="tag";for("."===e.charAt(0)||"#"===e.charAt(0)?(n="classOrId",e=e.substr(1)):"data-"===e.substring(0,5)&&(n="dataAttr");null!==t&&t[0];){if("tag"===n&&t[0].tagName.toLowerCase()===e.toLowerCase()||"dataAttr"===n&&t[0].getAttribute(e)||"classOrId"===n&&(t[0].id===e||t.hasClass(e)))return t;t=c.dom.$(t.parent())}return null},parents:function(e,t,n){var o,i=n||[];return o=c.dom.closest(e,c.dom.$(t.parent())),null!==o&&(i.push(o[0]),c.dom.parents(e,o,i)),c.dom.$(i)},closestParentPosition:function(e){if(null!==e&&e[0])for(e=c.dom.$(e.parent());null!==e&&e[0];){if("relative"===e.css("position")||"absolute"===e.css("position"))return e;e=c.dom.$(e.parent())}return null},children:function(e){var t,n=[];if(null!==e&&e[0])for(t=0;e[0].childNodes.length>t;t+=1)1===e[0].childNodes[t].nodeType&&n.push(e[0].childNodes[t]);return n},bind:function(e,t,n){if(e&&t){c.utils.typeEqual(t,"function")&&(n=t);var i,r=c.dom.$(e);for(i=0;r.length>i;i+=1)o.add(r[i],t,n)}else c.utils.log("wrong arguments for bind")},unbind:function(e,t,n){if(e&&t){c.utils.typeEqual(t,"function")&&(n=t);var i,r=c.dom.$(e);for(i=0;r.length>i;i+=1)o.remove(r[i],t,n)}else c.utils.log("wrong arguments for unbind")},trigger:function(e,t){e&&t?o.fire(e,t):c.utils.log("wrong arguments for fire")},totalHeight:function(e){return e.dim().height+parseInt(e.css("margin-top"),10)+parseInt(e.css("margin-bottom"),10)},innerWidth:function(e){return e.dim().width-parseInt(e.css("padding-left"),10)-parseInt(e.css("padding-right"),10)},totalWidth:function(e){var t=e.currentStyle||window.getComputedStyle(e);return(e.getBoundingClientRect()&&e.getBoundingClientRect().width||e.offsetWidth)+parseFloat(t.marginLeft)+parseFloat(t.marginRight)}},utils:{timer:function(){var e=[];return{s:function(t){e.unshift({n:t,t:new Date})},e:function(t){return t=e.shift(),new Date-t.t+"ms|"+t.n}}},typeEqual:function(e,t){return c.utils.type(e).toLowerCase()===t},type:function(e){var t=Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1];return t},log:function(){if(c.configuration.isDebugMode&&!window.jasmine){var e,t=[];for(e=0;arguments.length>e;e+=1)t.push(arguments[e]);void 0!==window.console&&console.info(Array.prototype.slice.call(t))}},guid:function(){var e=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},extend:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},inArray:function(e,t){var n,o=t.length;for(n=0;o>n;n+=1)if(t[n]===e)return!0;return!1},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},throttle:function(e,t,n){var o,i,r,s,a=null,l=0;return n=n||{},s=function(){l=n.leading===!1?0:new Date,a=null,r=e.apply(o,i)},function(){var d,c=new Date;return l||n.leading!==!1||(l=c),d=t-(c-l),o=this,i=arguments,0>=d?(clearTimeout(a),a=null,l=c,r=e.apply(o,i)):a||n.trailing===!1||(a=setTimeout(s,d)),r}},debounce:function(e,t,n){var o,i,r,s,a,l;return l=function(){var d=(Date.now()||(new Date).getTime())-s;t>d&&d>=0?o=setTimeout(l,t-d):(o=null,n||(a=e.apply(r,i),o||(r=i=null)))},function(){r=this,i=arguments,s=Date.now()||(new Date).getTime();var d=n&&!o;return o||(o=setTimeout(l,t)),d&&(a=e.apply(r,i),r=i=null),a}},base64:l,currentWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},currentWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},currentDocumentHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,t.clientHeight)},supportsRespImg:function(){var e=new window.Image;return void 0!==e&&void 0!==e.sizes&&void 0!==e.srcset},stringToCamelCase:function(e){return("string"==typeof e?e:"").toLowerCase().replace(/^\s+/g,"").replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()})}},feature:window.Modernizr,device:{},template:{render:function(e,t){var n,o;for(n in t)t.hasOwnProperty(n)&&(o=RegExp("{{"+n+"}}","g"),e=e.replace(o,t[n]));return e}},configuration:d,error:u}});