!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=9)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.SCRIPT_NAME="talon.js",t.METRICS_BEACON_DOMAIN="https://beap-bc.yahoo.com/ym?",t.IN_VIEW_PERCENTAGE="inViewPercentage",t.RESIZE_EVENT_NAME="resize",t.UNLOAD_EVENT_NAME="unload",t.BEFOREUNLOAD_EVENT_NAME="beforeunload",t.LOAD_EVENT_NAME="load",t.VISIBILITY_CHANGE_EVENT_NAME="visibilitychange",t.GET_ATTRIBUTE="getAttribute",t.CONTROL_A="",t.CONTROL_B="",t.HIDDEN_STRING="hidden",t.VISIBLE_STRING="visible",t[t.BEAP_ATTR_SIZE=255]="BEAP_ATTR_SIZE",t[t.FINE_TIMEOUT_DEFAULT=100]="FINE_TIMEOUT_DEFAULT",t[t.COARSE_TIMEOUT_DEFAULT=750]="COARSE_TIMEOUT_DEFAULT",t[t.TAG_SIZE=1]="TAG_SIZE",t[t.GRID_SIZE=5]="GRID_SIZE",t[t.BIG_AD_SIZE_THRESHOLD=242500]="BIG_AD_SIZE_THRESHOLD",t[t.THRESHOLD_BIG_PERCENTAGE=30]="THRESHOLD_BIG_PERCENTAGE",t[t.THRESHOLD_SMALL_PERCENTAGE=50]="THRESHOLD_SMALL_PERCENTAGE",t[t.MAX_INTERSECTION_RATIO=1]="MAX_INTERSECTION_RATIO",t[t.INTERSECTION_OBSERVER_THRESHOLD_STEP=.05]="INTERSECTION_OBSERVER_THRESHOLD_STEP",t[t.AD_LATENCY_MARGIN=100]="AD_LATENCY_MARGIN",t[t.AD_SIZE_WIDTH_THRESHOLD=20]="AD_SIZE_WIDTH_THRESHOLD",t[t.AD_SIZE_HEIGHT_THRESHOLD=20]="AD_SIZE_HEIGHT_THRESHOLD",t[t.AD_SIZE_WIDTH_THRESHOLD_MOAT=5]="AD_SIZE_WIDTH_THRESHOLD_MOAT",t[t.AD_SIZE_HEIGHT_THRESHOLD_MOAT=5]="AD_SIZE_HEIGHT_THRESHOLD_MOAT",t.PARENT_AD_ID="parentAdId",t.CHILD_AD_ID="childAdId",t.GRANDCHILD_AD_ID="grandchildAdId"}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(t,e){void 0===t&&(t=window),void 0===e&&(e=location),this.win=t,this.doc=t.document,this.nav=this.get_prop(this.win,"navigator",null),this.platform=this.get_prop(this.nav,"platform",""),this.loc=e,this.agent=this.get_prop(this.nav,"userAgent",""),this.match=this.agent.match(/(opera|chrome|safari|firefox|msie|trident|jsdom(?=\/))\/?\s*([\d\.]+)/i),this.browser=RegExp.$1.toLowerCase(),this.version=parseFloat(this.agent.match(/version\/([\d]+)/i)&&RegExp.$1||this.match&&this.match[2]||""),this.device=this.agent.match(/((ip)(hone|ad|od)|playbook|hp-tablet)/i)&&RegExp.$1.toLowerCase()||"desktop",this.os=this.agent.match(/(android|blackberry|bb10|macintosh|webos|windows)/i)&&RegExp.$1.toLowerCase()||null,this.isWebView=!1,this.isOneLevelDown=!1,this.isInFrame=!1,this.hasTopAccess=!1,this.isSafeFrame=!1,this.setWindowLevelInfo(),this.setHasTopAccess(),this.setScrollWindow(),this.setIsSafeFrame(),this.setIsWebView(),this.setBrowserInt(),this.setDocumentVisibilityInfo()}return t.clearInstance=function(){t.INSTANCE=void 0},t.getInstance=function(e,n){return void 0===e&&(e=window),void 0===n&&(n=location),t.INSTANCE||(t.INSTANCE=new t(e,n)),t.INSTANCE},t.prototype.get_prop=function(t,e,n){var r=n||"";try{r=t&&e in t?t[e]:r}catch(t){}return r},t.prototype.setWindowLevelInfo=function(){try{var t=this.win.parent,e=this.win.top;this.isOneLevelDown=!(!e||!t||e!=t||e==this.win),this.isInFrame=!(!t||t==this.win)}catch(t){}},t.prototype.setHasTopAccess=function(){try{this.hasTopAccess=!!this.win.top.document}catch(t){}},t.prototype.setScrollWindow=function(){this.scrollWindow=this.hasTopAccess&&this.isOneLevelDown?this.win.parent:this.win},t.prototype.setIsWebView=function(){try{this.isWebView=/((iPhone|iPod|iPad).*AppleWebKit(?!.*(Safari|CriOS)))/i.test(this.agent)||"chrome"===this.browser&&(/wv\).* Chrome.* Mobile/i.test(this.agent)||/Version\/\d*\.\d* (?:Chrome.* Mobile)?/i.test(this.agent))||/(MSAppHost\/.*|WebView)/.test(this.agent)}catch(t){}},t.prototype.setIsSafeFrame=function(){this.isSafeFrame=this.win.$sf&&this.win.$sf.ext&&"function"==typeof this.win.$sf.ext[r.Constants.IN_VIEW_PERCENTAGE]||!1},t.prototype.setBrowserInt=function(){-1!==this.agent.indexOf("Chrome/")?this.browserInt=1:-1!==this.agent.indexOf("Firefox/")?this.browserInt=2:-1!==this.agent.indexOf("; MSIE")?this.browserInt=3:-1!==this.agent.indexOf("Safari/")?this.browserInt=4:-1!==this.agent.indexOf("WebKit")?this.browserInt=5:-1!==this.agent.indexOf("Gecko")?this.browserInt=6:this.browserInt=7},t.prototype.setDocumentVisibilityInfo=function(){void 0!==this.doc.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==this.doc.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):void 0!==this.doc.webkitHidden?(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"):void 0!==this.doc.msHidden&&(this.hidden="msHidden",this.visibilityChange="msvisibilitychange")},t.prototype.getOpacityFromElement=function(t){var e="1";try{var n=(this.win.getComputedStyle&&this.win.getComputedStyle(t,null)||t.currentStyle).opacity;""!==n&&(e=n)}catch(t){}return parseFloat(e)},t.prototype.opacityIsBelowThreshold=function(t,e){return this.getOpacityFromElement(t)<=e},t.prototype.getAnyElementOpacityAboveThreshold=function(t,e,n,r){if(r=r||function(){return!0},this.opacityIsBelowThreshold(t,e)){for(var i=0;i<n.length;i++)for(var o=t.getElementsByTagName(n[i]),s=0;s<o.length;s++)if(!this.opacityIsBelowThreshold(o[s],e)&&r(o[s]))return o[s]}else if(r(t))return t},t.prototype.isInteger=function(t){return t===+t&&t===(0|t)},t.prototype.getSizeFromElement=function(t){var e={width:0,height:0,valid:!0};try{var n=this.win.getComputedStyle&&this.win.getComputedStyle(t,null)||t.currentStyle;e.width=parseFloat(n.width)||0,e.height=parseFloat(n.height)||0}catch(t){e.width=0,e.height=0,e.valid=!1}return e},t.prototype.sizeIsBelowThreshold=function(t,e,n){var r=this.getSizeFromElement(t);return r.width<=e||r.height<=n},t.prototype.getAnyElementAboveSizeThreshold=function(t,e,n,r,i){if(i=i||function(){return!0},this.sizeIsBelowThreshold(t,n,r)){for(var o=0;o<e.length;o++)for(var s=t.getElementsByTagName(e[o]),a=0;a<s.length;a++)if(!this.sizeIsBelowThreshold(s[a],n,r)&&i(s[a]))return s[a]}else if(i(t))return t},t.prototype.setAdSize=function(t,e){if(arguments.length>0&&this.isInteger(t)&&this.isInteger(e))this.width=t,this.height=e;else{var n=void 0,i=void 0;if(this.isInFrame)try{n=this.doc.documentElement&&Math.max(this.doc.documentElement.clientWidth,this.doc.documentElement.scrollWidth)||this.win.frameElement&&this.win.frameElement.width||null,i=this.doc.documentElement&&Math.max(this.doc.documentElement.clientHeight,this.doc.documentElement.scrollHeight)||this.win.frameElement&&this.win.frameElement.height||null}catch(t){n=this.win.innerWidth||this.doc.body&&this.doc.body.clientWidth||null,i=this.win.innerHeight||this.doc.body&&this.doc.body.clientHeight||null}else{var o=this.getSizeFromElement(this.adWrapperElement);n=o.width||null,i=o.height||null}this.width=n,this.height=i}this.isBigAd=this.width*this.height>=r.Constants.BIG_AD_SIZE_THRESHOLD,this.thresholdPercentage=this.isBigAd?r.Constants.THRESHOLD_BIG_PERCENTAGE:r.Constants.THRESHOLD_SMALL_PERCENTAGE},t.prototype.setup=function(t){if(this.adElement=t,this.adWrapperElement=t,this.adWrapperElement);else{if(!this.isInFrame)throw new Error("Failed to get adWrapperElement!");if(this.hasTopAccess)try{this.adWrapperElement=this.win.frameElement}catch(t){this.adWrapperElement=null}else{this.adWrapperElement=this.doc.body||null;var e=this.getAnyElementAboveSizeThreshold(this.adWrapperElement,["div","video"],r.Constants.AD_SIZE_WIDTH_THRESHOLD,r.Constants.AD_SIZE_HEIGHT_THRESHOLD);e&&(this.adWrapperElement=e)}}return null!==this.adElement&&void 0!==this.adElement&&null!==this.adWrapperElement&&void 0!==this.adWrapperElement},t}();e.BrowserData=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.paramMap={},this.metricsHeader="",this.methodInstance=t}return t.prototype.constructMetricsData=function(){return this.privateConstructMetricsData(this.paramMap,this.metricsHeader)},t.prototype.privateConstructMetricsData=function(t,e){var n="";n+=e+"$";var r=!0;for(var i in t)r?(n+=i+"="+t[i],r=!1):n+=":"+i+"="+t[i];return n},t}();e.Metrics=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(4),o=n(1),s=function(){function t(t){this.currentTimestamp=0,this.lastTimestamp=0,this.totalInViewTime=0,this.maxInViewTime=0,this.lastTotalInViewTime=0,this.isCurrentlyInView=!1,this.browserData=o.BrowserData.getInstance(),this.adWrapperElement=t}return t.prototype.init=function(){var t=this;i.Utils.registerListener(r.Constants.VISIBILITY_CHANGE_EVENT_NAME,function(){t.currentEntry&&t.inViewListenerCallback({time:(new Date).getTime(),intersectionRatio:t.currentEntry.intersectionRatio,boundingClientRect:t.currentEntry.boundingClientRect,intersectionRect:t.currentEntry.intersectionRect,isIntersecting:t.currentEntry.isIntersecting,rootBounds:t.currentEntry.rootBounds,target:t.currentEntry.target})},this.browserData.doc),this.registerInViewListener()},t.prototype.inViewListenerCallback=function(t){this.currentEntry=t,this.currentTimeStamp=t.time,this.updateInViewPercentage(t),this.isInView()&&!this.browserData.doc.hidden?(this.updateTimestamps(),this.isCurrentlyInView,this.isCurrentlyInView=!0):(this.isCurrentlyInView,this.resetTimestamps(),this.isCurrentlyInView=!1)},t.prototype.resetTimestamps=function(){this.updateTimestamps(),this.lastTimestamp=this.totalInViewTime=0},t.prototype.updateTimestamps=function(){this.lastTimestamp>0&&(this.totalInViewTime+=this.currentTimestamp-this.lastTimestamp,this.maxInViewTime<this.totalInViewTime&&(this.maxInViewTime=this.totalInViewTime),this.lastTotalInViewTime=this.totalInViewTime),this.lastTimestamp=this.currentTimestamp},t.prototype.isInView=function(){return this.inViewPercentage>=this.browserData.thresholdPercentage},t.prototype.updateInViewPercentage=function(t){this.inViewPercentage=t.intersectionRatio,this.maxInViewPercentage<this.inViewPercentage&&(this.maxInViewPercentage=this.inViewPercentage)},t}();e.Methods=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(){}return t.registerListener=function(t,e,n){var r=n||window;r.addEventListener?r.addEventListener(t,e):r.attachEvent&&r.attachEvent("on"+t,e)},t.getDomain=function(t){var e,n="";if(t&&"string"==typeof t)try{(e=t.match(/^https?:\/\/([-\w\.]*)(:\d+)?([\/\?#]|$)/))&&e[1]&&(n=e[1])}catch(t){n=""}return n},t.getTagCoordinates=function(t,e){var n,i,o,s,a=t>r.Constants.TAG_SIZE?t-r.Constants.TAG_SIZE:0,c=e>r.Constants.TAG_SIZE?e-r.Constants.TAG_SIZE:0,h=[],u={};for(n=.5;n<r.Constants.GRID_SIZE;n+=1)for(o=Math.round(n*a/r.Constants.GRID_SIZE),i=.5;i<r.Constants.GRID_SIZE;i+=1)u[s=o+"_"+Math.round(i*c/r.Constants.GRID_SIZE)]||(h.push(s),u[s]=1);return h},t}();e.Utils=i},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=n(0),a=function(t){function e(e){var n=t.call(this,e)||this;return n.fineTimeout=s.Constants.FINE_TIMEOUT_DEFAULT,n.coarseTimeout=s.Constants.COARSE_TIMEOUT_DEFAULT,n.measurementBucket="0",n}return i(e,t),e.prototype.canApplyMethod=function(t){return!0},e.prototype.registerInViewListener=function(){var t=this;this.timeout=this.notInViewTimerWrapper(function(){t.fireInViewListenerCallback()})},e.prototype.fireInViewListenerCallback=function(){var t={intersectionRatio:this.getInViewPercentage(),time:(new Date).getTime()},e=this;this.inViewListenerCallback(t),this.timeout=this[this.isCurrentlyInView?"inViewTimerWrapper":"notInViewTimerWrapper"](function(){e.fireInViewListenerCallback()})},e.prototype.getInViewPercentage=function(){return 0},e.prototype.notInViewTimerWrapper=function(t){return setTimeout(t,this.coarseTimeout)},e.prototype.inViewTimerWrapper=function(t){return setTimeout(t,this.fineTimeout)},e.prototype.cleanup=function(){clearTimeout(this.timeout)},e}(o.Methods);e.RegularCheckMethod=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(13),o=n(14),s=n(15),a=n(0),c=n(1),h=n(16),u=n(17),p=n(20),l=n(22),f=n(23),d=n(24),m=n(25),y=n(26),_=n(27),g=n(28),w=n(29),b=n(30),v=n(31),T=n(32),E=n(33),I=function(){function t(t){var e=this;this.browserData=c.BrowserData.getInstance(),this.methods=[_.MraidMethod,r.IntersectionObserverMethod,g.AmpMethod,w.DirectGeometricMethod,b.FriendlyFrameGeometricMethod,s.SafeFrameMethod,v.FirefoxPaintMethod,T.PerfMethod,E.NotMeasurableMethod],this.hasFiredMetricsBeacon=!1,this.unloadHandler=function(){e.fireMetricsBeacon(),window.removeEventListener(a.Constants.UNLOAD_EVENT_NAME,e.unloadHandler)},this.beforeunloadHandler=function(){e.fireMetricsBeacon(),window.removeEventListener(a.Constants.BEFOREUNLOAD_EVENT_NAME,e.beforeunloadHandler)},this.beaconUrl=t.beaconUrl,this.viewId=t.viewId,this.adSystem=t.adSystem}return t.prototype.getMetrics=function(){return new i.AdMetrics(this.methodInstance,this.beaconUrl,this.adSystem,this.adLoadTime).constructMetricsData()+","+new h.DeviceMetrics(this.methodInstance).constructMetricsData()+","+new u.BrowserMetrics(this.methodInstance).constructMetricsData()+","+new l.SupplyMetrics(this.methodInstance).constructMetricsData()+","+new f.NetworkMetrics(this.methodInstance).constructMetricsData()+","+new o.SignalsMetrics(this.methodInstance,this.browserData.pageStartTime,this.adLoadTime).constructMetricsData()+","+new d.PrivacyMetrics(this.methodInstance).constructMetricsData()+","+new m.UserMetrics(this.methodInstance).constructMetricsData()+","+new p.ScriptMetrics(this.methodInstance).constructMetricsData()+","+new y.OtherMetrics(this.methodInstance).constructMetricsData()},t.prototype.getMeasurementMethod=function(t){for(var e=0,n=this.methods;e<n.length;e++){var r=n[e];if(r.prototype.canApplyMethod(this.browserData))return new r(t)}},t.prototype.fireMetricsBeacon=function(){if(!this.hasFiredMetricsBeacon){var t=this.getMetrics();try{this.fireBeacon(t)}catch(t){}this.methodInstance.cleanup()}this.hasFiredMetricsBeacon=!0},t.prototype.fireBeacon=function(t){var e=this.beaconUrl.replace("${talonjsparams}",t);if(this.browserData.win.navigator.sendBeacon)try{navigator.sendBeacon(e)}catch(t){(new Image).src=e}else(new Image).src=e},t}();e.Ads=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(){this.browserData=r.BrowserData.getInstance(),this.nav=this.browserData.nav,this.doc=this.browserData.doc,this.HONEYPOT_TAGS=[{nodeName:"button"},{nodeName:"a",additionalSetup:function(t){t.setAttribute("href","https://yahoo.com")}},{nodeName:"input"}],this.signals=[{getData:function(){return this.nav.plugins instanceof PluginArray&&0!==this.nav.plugins.length?0:1}.bind(this)},{getData:function(){return""===String(this.nav.languages)?1:0}.bind(this)},{value:0,bits:3,init:function(t){var e=this.doc.createElement("div");e.style.position="absolute",e.style.width="0",e.style.height="0",e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.overflow="hidden",this.browserData.adWrapperElement.appendChild(e);for(var n=function(n){(function(){var r=n,i=this.doc.createElement(this.HONEYPOT_TAGS[n].nodeName);i.onclick=function(){t.value|=1<<r},this.HONEYPOT_TAGS[n].additionalSetup&&this.HONEYPOT_TAGS[n].additionalSetup(i),e.appendChild(i)}).bind(r)()},r=this,i=0;i<this.HONEYPOT_TAGS.length;i++)n(i)}.bind(this)}]}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.initAutomatedBrowser=function(){for(var t=0;t<this.signals.length;t++)if(this.signals[t].init)try{this.signals[t].init(this.signals[t])}catch(t){}},t.prototype.getAutomatedBrowserData=function(){for(var t=0,e=0,n=0;n<this.signals.length;n++){var r=void 0,i=1;if(this.signals[n].getData)try{r=this.signals[n].getData()}catch(t){}else r=this.signals[n].value;this.signals[n].bits&&(i=this.signals[n].bits),t+=r<<e,e+=i}return t},t}();e.AutomatedBrowser=i},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.setBrowserMeasurement(),this.registerInViewListener()},e.prototype.setBrowserMeasurement=function(){1===this.browserData.browserInt||4===this.browserData.browserInt||5===this.browserData.browserInt||7===this.browserData.browserInt?this.browserMeasurement=e.measureWebkit:2!==this.browserData.browserInt&&3!==this.browserData.browserInt&&6!==this.browserData.browserInt||(this.browserMeasurement=e.measureGecko)},e.measureWebkit=function(t){var e={x:0,y:0};return t.x>=t.scrlX&&t.x+t.halfWidth<t.scrlX+t.viewportWidth?e.x=t.scrlX+t.viewportWidth-t.x:t.x+t.halfWidth>t.scrlX&&t.x+t.adWidth<=t.scrlX+t.viewportWidth?e.x=t.x+t.adWidth-t.scrlX:t.x<t.scrlX&&t.x+t.adWidth>t.scrlX+t.viewportWidth&&t.viewportWidth>=t.halfWidth&&(e.x=t.viewportWidth),t.y>=t.scrlY&&t.y+t.halfHeight<t.scrlY+t.viewportHeight?e.y=t.scrlY+t.viewportHeight-t.y:t.y+t.halfHeight>t.scrlY&&t.y+t.adHeight<=t.scrlY+t.viewportHeight?e.y=t.y+t.adHeight-t.scrlY:t.y<t.scrlY&&t.y+t.adHeight>t.scrlY+t.viewportHeight&&t.viewportHeight>=t.halfHeight&&(e.y=t.viewportHeight),e},e.measureGecko=function(t){return t.scrlX=0,t.scrlY=0,e.measureWebkit(t)},e.prototype.getInViewPercentage=function(){try{return this.calculate({bcr:this.getBoundingClientRect(),adWidth:this.browserData.width,adHeight:this.browserData.height})}catch(t){}return 0},e.prototype.getBoundingClientRect=function(){return this.adWrapperElement.getBoundingClientRect()},e.prototype.calculate=function(t){var e,n=t.bcr,r=t.adWidth,i=t.adHeight,o=r&&i?r*i:0,s=this.browserData.win.parent,a=s.document,c=a.body,h={};return h.x=Math.round(n.left+c.scrollLeft),h.y=Math.round(n.top+c.scrollTop),h.adWidth=r,h.adHeight=i,h.halfWidth=Math.floor(r/2),h.halfHeight=Math.floor(i/2),h.viewportWidth=Math.max(a.documentElement.clientWidth,this.browserData.win.innerWidth||0),h.viewportHeight=Math.max(a.documentElement.clientHeight,this.browserData.win.innerHeight||0),h.scrlX=s.scrollX,h.scrlY=s.scrollY,(e=this.browserMeasurement(h)).x>r&&(e.x=r),e.y>i&&(e.y=i),o?Math.round(100*e.x*e.y/o):0},e}(n(5).RegularCheckMethod);e.GeometricMethod=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=window;i.OATH&&i.OATH.TalonJs||(i.OATH=i.OATH||{},i.OATH.TalonJs={init:function(t){try{(new r.AdFactory).getAd(t).init()}catch(t){}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(34),o=function(){function t(){}return t.prototype.getAd=function(t){switch(t.configs.adType){case"DISPLAY":return i.DisplayAd.getInstance(t);case"VIDEO":return new r.VideoAd(t);default:throw new Error("Invalid ad type!")}},t}();e.AdFactory=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.getAdElement=function(){},e.prototype.init=function(){},e}(n(6).Ads);e.VideoAd=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=n(0),a=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="7",n}return i(e,t),e.prototype.canApplyMethod=function(t){return!t.isWebView&&t.win.IntersectionObserver&&!t.isSafeFrame},e.prototype.registerInViewListener=function(){for(var t=this,e=[],n=this.browserData.thresholdPercentage/100;n<s.Constants.MAX_INTERSECTION_RATIO;n+=s.Constants.INTERSECTION_OBSERVER_THRESHOLD_STEP)e.push(n);e.push(s.Constants.MAX_INTERSECTION_RATIO),this.observer=new this.browserData.win.IntersectionObserver(function(e){for(var n,r=0;r<e.length;r++)if(e[r].target===t.adWrapperElement){n=e[r];break}n&&t.inViewListenerCallback({intersectionRatio:100*n.intersectionRatio,time:(new Date).getTime(),boundingClientRect:n.boundingClientRect,intersectionRect:n.intersectionRect,isIntersecting:n.isIntersecting,rootBounds:n.rootBounds,target:n.target})},{threshold:e}),this.observer.observe(this.adWrapperElement)},e.prototype.cleanup=function(){this.observer&&this.observer.disconnect()},e}(o.Methods);e.IntersectionObserverMethod=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(1),a=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.beaconUrl=n,o.adSystem=r,o.metricsHeader="ad",o.adLoadTime=i,o.getParamMap(),o}return i(e,t),e.prototype.getSek=function(){var t,e;return this.beaconUrl&&-1!==(t=this.beaconUrl.indexOf("sek$"))?(-1===(e=this.beaconUrl.indexOf(",",t+"sek$".length))&&(e=this.beaconUrl.length),this.beaconUrl.substring(t+"sek$".length,e)):""},e.prototype.getAdLoadTime=function(){return this.adLoadTime?this.adLoadTime.toString():""},e.getAdLoaded=function(){var t,n,r=3,i=[],o=[],s=[],a=[],c=[],h=[];if(e.browserData.win&&e.browserData.win.performance&&e.browserData.win.performance.getEntriesByType&&"function"==typeof e.browserData.win.performance.getEntriesByType&&(i=e.getListOfElementAttributes("img","src"),s=e.getListOfElementAttributes("script","src"),c=e.getListOfElementAttributes("object","data"),(t=window.performance.getEntriesByType("resource"))&&t.length)){for(n=0;n<t.length;n++)"img"===t[n].initiatorType?o.push(t[n].name):"script"===t[n].initiatorType?a.push(t[n].name):"object"===t[n].initiatorType&&h.push(t[n].name);e.findMatch(i,o)||(r=2),e.findMatch(s,a)||(r=2),e.findMatch(c,h)||(r=2),2!==r&&(r=1)}return r},e.getListOfElementAttributes=function(t,n){var r,i,o,s=[];for(r=e.browserData.doc.getElementsByTagName(t),i=0;i<r.length;i++)(o=r[i].getAttribute(n))&&s.push(o);return s},e.findMatch=function(t,e){var n,r,i,o=t.length,s=e.length;if(o!==s)return!1;for(n=0;n<o;n++){for(i=!1,r=0;r<s;r++)-1!==t[n].indexOf(e[r])&&(i=!0);if(!i)return!1}return!0},e.prototype.getParamMap=function(){this.paramMap.sek=this.getSek(),this.paramMap.ls=this.methodInstance.measurementBucket,this.paramMap.as=this.adSystem,this.paramMap.lt=this.getAdLoadTime(),this.paramMap.aw=String(e.browserData.width),this.paramMap.ah=String(e.browserData.height),this.paramMap.al=e.getAdLoaded().toString()},e.browserData=s.BrowserData.getInstance(),e}(o.Metrics);e.AdMetrics=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(0),a=n(1),c=n(7),h=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.pageStartTime=n,i.adLoadTime=r,i.metricsHeader="sg",i.getParamMap(),i}return i(e,t),e.getAdIsHidden=function(){return(e.getAdIsInvisibleByThreshold(s.Constants.AD_SIZE_WIDTH_THRESHOLD,s.Constants.AD_SIZE_HEIGHT_THRESHOLD)<<1)+(e.getAdIsInvisibleByThreshold(s.Constants.AD_SIZE_WIDTH_THRESHOLD_MOAT,s.Constants.AD_SIZE_HEIGHT_THRESHOLD_MOAT)<<2)+(e.getAdIsTransparent()<<3)},e.getAdIsInvisibleByThreshold=function(t,e){var n;try{n=this.browserData.getAnyElementAboveSizeThreshold(this.browserData.adWrapperElement,["div","video","iframe"],t,e)}catch(t){}return n?0:1},e.getAdIsTransparent=function(){return e.browserData.getAnyElementOpacityAboveThreshold(e.browserData.adWrapperElement,0,["div","iframe"])?0:1},e.prototype.getParamMap=function(){this.paramMap.aih=e.getAdIsHidden().toString(),this.paramMap.ab=c.AutomatedBrowser.getInstance().getAutomatedBrowserData().toString()},e.browserData=a.BrowserData.getInstance(),e}(o.Metrics);e.SignalsMetrics=h},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(0),a=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="1",n.coarseTimeout=s.Constants.FINE_TIMEOUT_DEFAULT,n}return i(e,t),e.prototype.canApplyMethod=function(t){return!t.isWebView&&t.isSafeFrame},e.prototype.getInViewPercentage=function(){return this.browserData.win.$sf.ext[s.Constants.IN_VIEW_PERCENTAGE]()},e}(o.RegularCheckMethod);e.SafeFrameMethod=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.browserData=s.BrowserData.getInstance(),n.metricsHeader="dv",n.getParamMap(),n}return i(e,t),e.prototype.getBatteryStatus=function(t){var e;try{e=t.battery||t.mozBattery||t.webkitBattery||t.getBattery}catch(t){}return e?"1":"0"},e.prototype.getParamMap=function(){this.paramMap.pf=this.browserData.platform,this.paramMap.bt=this.getBatteryStatus(this.browserData.nav)},e}(o.Metrics);e.DeviceMetrics=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(18),a=n(19),c=n(1),h=function(t){function e(e){var n=t.call(this,e)||this;return n.metricsHeader="br",n.getParamMap(),n}return i(e,t),e.prototype.getDomainsData=function(){var t={count:-1,hash:""},n={},r=[];if(e.browserData.win.performance&&e.browserData.win.URL)try{t.count=0,(r=(r=r.concat(e.browserData.win.performance.getEntriesByType("resource"))).concat(e.browserData.win.performance.getEntriesByType("frame"))).forEach(function(r){var i=new e.browserData.win.URL(r.name);n[i.host]||(n[i.host]=1,t.count++)}),t.hash=s.Md5.hashStr(Object.keys(n).sort().join(":"))}catch(t){}return t},e.getAudioContext=function(){var t;try{t=e.browserData.win.OfflineAudioContext||e.browserData.win.webkitOfflineAudioContext}catch(t){}return t?"1":"0"},e.getWebGL=function(){var t,n;try{t=e.browserData.doc.createElement("canvas")}catch(t){}try{n=!!e.browserData.win.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){}return n?"1":"0"},e.prototype.getParamMap=function(){var t=this.getDomainsData();this.paramMap.plgn=encodeURIComponent(t.hash),this.paramMap.plgnl=t.count.toString(),this.paramMap.ac=e.getAudioContext(),this.paramMap.wg=e.getWebGL();var n=a.IncongruousBrowser.getInstance().getFeatureFields();this.paramMap.apif=n.apif.toString(),this.paramMap.cslm=n.cslm.toString(),this.paramMap.cslf=n.cslf.toString(),this.paramMap.csrm=n.csrm.toString(),this.paramMap.csrf=n.csrf.toString()},e.browserData=c.BrowserData.getInstance(),e}(o.Metrics);e.BrowserMetrics=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var n,r,i,o,s=t.hexChars,a=t.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=e[o],i=0;i<8;i+=2)a[r+1+i]=s.charAt(15&n),n>>>=4,a[r+0+i]=s.charAt(15&n),n>>>=4;return a.join("")},t._md5cycle=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+e[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+e[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+e[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+e[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+e[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+e[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+i|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n,r,i=this._buffer8,o=this._buffer32,s=this._bufferLength;for(r=0;r<e.length;r+=1){if((n=e.charCodeAt(r))<128)i[s++]=n;else if(n<2048)i[s++]=192+(n>>>6),i[s++]=63&n|128;else if(n<55296||n>56319)i[s++]=224+(n>>>12),i[s++]=n>>>6&63|128,i[s++]=63&n|128;else{if((n=1024*(n-55296)+(e.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[s++]=240+(n>>>18),i[s++]=n>>>12&63|128,i[s++]=n>>>6&63|128,i[s++]=63&n|128}s>=64&&(this._dataLength+=64,t._md5cycle(this._state,o),s-=64,o[0]=o[16])}return this._bufferLength=s,this},t.prototype.appendAsciiStr=function(e){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,s=0;;){for(n=Math.min(e.length-s,64-o);n--;)r[o++]=e.charCodeAt(s++);if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},t.prototype.appendByteArray=function(e){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,s=0;;){for(n=Math.min(e.length-s,64-o);n--;)r[o++]=e[s++];if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},t.prototype.getState=function(){var t=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}},t.prototype.setState=function(t){var e,n=t.buffer,r=t.state,i=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],e=0;e<n.length;e+=1)this._buffer8[e]=n.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var n,r=this._bufferLength,i=this._buffer8,o=this._buffer32,s=1+(r>>2);if(this._dataLength+=r,i[r]=128,i[r+1]=i[r+2]=i[r+3]=0,o.set(t.buffer32Identity.subarray(s),s),r>55&&(t._md5cycle(this._state,o),o.set(t.buffer32Identity)),(n=8*this._dataLength)<=4294967295)o[14]=n;else{var a=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===a)return;var c=parseInt(a[2],16),h=parseInt(a[1],16)||0;o[14]=c,o[15]=h}return t._md5cycle(this._state,o),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();e.Md5=r,r.hashStr("hello")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(){this.toStringRegExp=this.getToStringRegExp("toString");var t=r.BrowserData.getInstance();this.win=t.win,this.doc=t.doc,this.loc=t.loc,this.nav=t.nav,this.API_FEATURES=[{type:"api",name:"ancestorOrigins",base:this.loc,mockCheck:function(t,e){return this.toStringMockCheck(this.win,"DOMStringList")||!(t[e]instanceof this.win.DOMStringList)}},{type:"api",name:"WritableStream",base:this.win},{type:"api",name:"SharedWorker",base:this.win},{type:"api",name:"AudioContext",base:this.win},{type:"api",name:"AmbientLightSensor",base:this.win},{type:"api",name:"PointerEvent",base:this.win},{type:"api",name:"ondeviceproximity",base:this.win,mockCheck:function(){return!1}},{type:"api",name:"openDatabase",base:this.win},{type:"api",name:"getGamepads",base:this.nav},{type:"api",name:"share",base:this.nav},{type:"api",name:"registerProtocolHandler",base:this.nav},{type:"api",name:"type",base:this.nav&&this.nav.connection,mockCheck:function(){return this.toStringMockCheck(this.win,"NetworkInformation")}},{type:"api",fieldName:"query",base:this.nav&&this.nav.permissions},{type:"api",name:"toBlob",base:this.canvas}],this.CSS_SELECTOR_FEATURES=[{type:"css-selector",selector:"div:-webkit-full-screen"},{type:"css-selector",selector:"div:dir(ltr)"},{type:"css-selector",selector:"div::backdrop"}],this.CSS_RULE_FEATURES=[{type:"css-rule",rule:"caret-color: transparent"},{type:"css-rule",rule:"-ms-wrap-flow: both"},{type:"css-rule",rule:"background: filter(url(img.jpg), blur(5px))"},{type:"css-rule",rule:"display: flow-root"},{type:"css-rule",rule:"font-smoothing: antialiased"},{type:"css-rule",rule:"-webkit-font-smoothing: antialiased"},{type:"css-rule",rule:"-moz-osx-font-smoothing: grayscale"}]}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.getToStringRegExp=function(t){return new RegExp("function "+t+"\\s*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}")},t.prototype.toStringMockCheck=function(t,e){var n=this.getToStringRegExp(e);try{return!n.test(t[e].toString())||!this.toStringRegExp.test(t[e].toString.toString())}catch(t){return!0}},t.prototype.apiCheck=function(t,e,n){try{return t&&e in t?n(t,e)?2:1:0}catch(t){}return 3},t.prototype.cssSelectorCheck=function(t){try{return this.doc.querySelector(t),1}catch(t){}return 0},t.prototype.cssRuleCheck=function(t){try{return this.win.CSS.supports("( "+t+" )")?1:0}catch(t){}return 3},t.prototype.checkFeature=function(t){var e;switch(t.type){case"api":e=this.apiCheck(t.base,t.name,t.mockCheck||this.toStringMockCheck);break;case"css-selector":e=this.cssSelectorCheck(t.selector);break;case"css-rule":e=this.cssRuleCheck(t.rule);break;default:e=3}return e},t.prototype.checkFeatures=function(t,e){for(var n=0,r=0;r<t.length;r++){var i=this.checkFeature(t[r]);if(i>=e)return-1;n=i+e*n}return n},t.prototype.getFeatureFields=function(){var t="querySelector"in this.doc&&!this.toStringMockCheck(this.doc,"querySelector"),e="CSS"in this.win&&"supports"in this.win.CSS&&!this.toStringMockCheck(this.win.CSS,"supports"),n={apif:0,cslm:0,cslf:0,csrm:0,csrf:0};n.apif=this.checkFeatures(this.API_FEATURES,4);var r=t?this.checkFeatures(this.CSS_SELECTOR_FEATURES,2):-1;-1!==r?(n.cslm=0,n.cslf=r):(n.cslm=1,n.cslf=0);var i=e?this.checkFeatures(this.CSS_RULE_FEATURES,2):-1;return-1!==i?(n.csrm=0,n.csrf=i):(n.csrm=1,n.csrf=0),n},t}();e.IncongruousBrowser=i},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(21),a=function(t){function e(e){var n=t.call(this,e)||this;return n.metricsHeader="sc",n.getParamMap(),n}return i(e,t),e.prototype.getParamMap=function(){this.paramMap.sv=s.version},e}(o.Metrics);e.ScriptMetrics=a},function(t){t.exports={name:"@vzmi/talonjs",version:"1.0.31",description:"Talonjs core module",main:"server.js",dependencies:{express:"^4.17.1","source-map-loader":"^1.1.0","ts-loader":"^6.0.4","ts-md5":"^1.2.7",typescript:"^3.5.2"},devDependencies:{"@types/config":"^0.0.36","@types/del":"^3.0.0","@types/fancy-log":"^1.3.0","@types/jest":"^24.0.25","@types/jsdom":"^12.2.4","@types/minimist":"^1.2.0","@types/mocha":"^5.2.5","@types/randomstring":"1.1.5","@types/socket.io-client":"^1.4.32","@types/webdriverio":"^4.10.1","@wdio/cli":"^5.17.0",config:"^3.2.4",jest:"^24.9.0","jest-each":"^24.9.0",minimist:"^1.2.0",mocha:"^5.2.0","mocha-junit-reporter":"^1.18.0","mocha-multi-reporters":"^1.1.7",randomstring:"^1.1.5","selenium-standalone":"^6.17.0",should:"^13.2.3","socket.io-client":"^2.1.1","ts-jest":"^24.2.0","ts-node":"^7.0.1","uglifyjs-webpack-plugin":"^1.2.4","wdio-junit-reporter":"^0.4.4","wdio-mocha-framework":"^0.6.3","wdio-sauce-service":"^0.4.11","wdio-selenium-standalone-service":"0.0.10","wdio-spec-reporter":"^0.1.5",webdriverio:"^4.14.0",webpack:"^4.35.2","webpack-cli":"^3.3.8","webpack-dev-middleware":"^3.7.0","ykeykey-getkey":"^3.0.9","ykeykey-setup":"^1.0.5"},scripts:{test:"./node_modules/.bin/wdio tests/functional/wdio.conf.js",start:"node server.js",build:"npx webpack"},keywords:["talonjs"]}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(4),a=n(1),c=function(t){function e(e){var n=t.call(this,e)||this;return n.metricsHeader="sp",n.getParamMap(),n}return i(e,t),e.prototype.getAncestorOrigins=function(t){var e,n,r="";try{(n=t&&t.ancestorOrigins)?((e=n.length)&&(r=s.Utils.getDomain(n[e-1])),this.sao=e||0):this.sao=-1}catch(t){r="",this.sao=-1}return r},e.prototype.getParamMap=function(){this.paramMap.ao=this.getAncestorOrigins(a.BrowserData.getInstance().loc),this.paramMap.sao=this.sao.toString()},e}(o.Metrics);e.SupplyMetrics=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.metricsHeader="nw",n.getParamMap(),n}return i(e,t),e.getDownlinkMax=function(t){var e=t.connection||t.webkitConnection;return e&&e.type&&e.downlinkMax?e.downlinkMax.toString():""},e.prototype.getParamMap=function(){this.paramMap.dlm=e.getDownlinkMax(s.BrowserData.getInstance().nav)},e}(o.Metrics);e.NetworkMetrics=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.metricsHeader="pr",n.getParamMap(),n}return i(e,t),e.prototype.getParamMap=function(){},e}(n(2).Metrics);e.PrivacyMetrics=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.metricsHeader="us",n.getParamMap(),n}return i(e,t),e.prototype.getParamMap=function(){},e}(n(2).Metrics);e.UserMetrics=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.metricsHeader="ot",n.getParamMap(),n}return i(e,t),e.prototype.getParamMap=function(){},e}(n(2).Metrics);e.OtherMetrics=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="8",n}return i(e,t),e.prototype.canApplyMethod=function(t){return t.isWebView&&void 0!==t.win.mraid},e.prototype.registerInViewListener=function(){var t=this;t.mraidVersion=this.browserData.win.mraid.getVersion&&this.browserData.win.mraid.getVersion(),"3.0"===t.mraidVersion?(this.viewableChangeEventListener=function(e){t.inViewListenerCallback({time:(new Date).getTime(),intersectionRatio:e,boundingClientRect:void 0,intersectionRect:void 0,isIntersecting:void 0,rootBounds:void 0,target:void 0})},this.browserData.win.mraid.addEventListener("exposureChange",this.viewableChangeEventListener)):(this.viewableChangeEventListener=function(){t.inViewListenerCallback({time:(new Date).getTime(),intersectionRatio:this.browserData.win.mraid.isViewable()?100:0,boundingClientRect:void 0,intersectionRect:void 0,isIntersecting:void 0,rootBounds:void 0,target:void 0})},this.browserData.win.mraid.addEventListener("viewableChange",this.viewableChangeEventListener))},e.prototype.cleanup=function(){"3.0"===this.mraidVersion?this.browserData.win.mraid.removeEventListener("exposureChange",this.viewableChangeEventListener):this.browserData.win.mraid.removeEventListener("viewableChange",this.viewableChangeEventListener)},e}(n(3).Methods);e.MraidMethod=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="9",n}return i(e,t),e.prototype.canApplyMethod=function(t){return!t.isWebView&&!t.isSafeFrame&&void 0!==t.win.context&&void 0!==t.win.context.observeIntersection},e.prototype.registerInViewListener=function(){var t=this;t.cleanup=this.browserData.win.context.observeIntersection(function(e){e.sort(function(t,e){return e.time-t.time}).forEach(function(e){t.inViewListenerCallback({time:e.time,intersectionRatio:100*e.intersectionRatio,boundingClientRect:e.boundingClientRect,intersectionRect:e.intersectionRect,isIntersecting:e.isIntersecting,rootBounds:e.rootBounds,target:e.target})})})},e.prototype.cleanup=function(){},e}(n(3).Methods);e.AmpMethod=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="6",n}return i(e,t),e.prototype.canApplyMethod=function(t){return!t.isWebView&&!t.isInFrame},e}(n(8).GeometricMethod);e.DirectGeometricMethod=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="2",n}return i(e,t),e.prototype.getBoundingClientRect=function(){if(this.adWrapperElement.ownerDocument===this.browserData.doc){var t=this.adWrapperElement.getBoundingClientRect(),e={left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width,height:t.height};try{if(this.browserData.win.frameElement!==this.adWrapperElement){var n=this.browserData.win.frameElement.getBoundingClientRect();e.left+=n.left,e.right+=n.left,e.top+=n.top,e.bottom+=n.top}}catch(t){}return e}return this.adWrapperElement.getBoundingClientRect()},e.prototype.canApplyMethod=function(t){return!t.isWebView&&t.hasTopAccess&&t.isOneLevelDown},e}(n(8).GeometricMethod);e.FriendlyFrameGeometricMethod=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(4),a=n(0),c=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="3",n}return i(e,t),e.prototype.canApplyMethod=function(t){return!t.isWebView&&"mozPaintCount"in t.win},e.prototype.init=function(){this.lastMozPaintCounts={},this.paintCounts={},this.paintTimestamps={},this.lastPaintCounts={},this.lastPaintTimestamps={},this.appendTags(),this.paint(),this.registerInViewListener()},e.prototype.appendTags=function(){var t;for(this.tags=s.Utils.getTagCoordinates(this.browserData.width,this.browserData.height),this.numTag=this.tags.length,this.tagArray=[],t=0;t<this.numTag;t++)this.tagArray.push(this.createIFrameTag(this.tags[t]));for(t=0;t<this.numTag;t++)this.browserData.doc.body.appendChild(this.tagArray[t])},e.prototype.createIFrameTag=function(t){var e,n=t.split("_");return 2===n.length&&((e=this.browserData.doc.createElement("iframe")).style.cssText="width:"+a.Constants.TAG_SIZE+"px;height:"+a.Constants.TAG_SIZE+"px;left:"+n[0]+"px;top:"+n[1]+"px;position:absolute;background-color:transparent;",e.scrolling="no",e.allowtransparency="true",e.hidefocus="true",e.setAttribute("frameBorder","0"),e.id=t,this.lastMozPaintCounts[t]=0,this.paintCounts[t]=0,this.paintTimestamps[t]=0,this.lastPaintCounts[t]=0,this.lastPaintTimestamps[t]=0),e},e.prototype.toggleTagVisibility=function(t){var e=this.browserData.doc.getElementById(t);e&&(e.style.visibility=e.style.visibility===a.Constants.HIDDEN_STRING?a.Constants.VISIBLE_STRING:a.Constants.HIDDEN_STRING)},e.prototype.waitForUpdatedTimestamp=function(t,e){var n,r;if(this.paintTimestamps[e]=t,t>this.lastPaintTimestamps[e]&&(r=this.browserData.doc.getElementById(e))){try{(n=r.contentWindow).document||(n=null)}catch(t){n=null}n&&n.mozPaintCount>this.lastMozPaintCounts[e]&&(this.paintCounts[e]+=1,this.lastMozPaintCounts[e]=n.mozPaintCount)}},e.prototype.animate=function(t){var e=this.browserData.win.requestAnimationFrame||this.browserData.win.mozRequestAnimationFrame||null;this.toggleTagVisibility(t);var n=this;e&&e(function(e){n.waitForUpdatedTimestamp(e,t)})},e.prototype.paint=function(){var t;for(t=0;t<this.numTag;t++)this.animate(this.tags[t])},e.prototype.updatePaintCounts=function(){var t,e,n=0;for(t=0;t<this.numTag;t++)e=this.tags[t],this.paintTimestamps[e]>this.lastPaintTimestamps[e]&&(this.paintCounts[e]>this.lastPaintCounts[e]&&(n+=1),this.lastPaintCounts[e]=this.paintCounts[e],this.lastPaintTimestamps[e]=this.paintTimestamps[e]);return n},e.prototype.getInViewPercentage=function(){var t=this.updatePaintCounts();return this.paint(),this.numTag?100*t/this.numTag:0},e.prototype.notInViewTimerWrapper=function(t){var e=this;return setTimeout(function(){e.paint(),e.timeout=setTimeout(t,.5*e.coarseTimeout)},.5*this.coarseTimeout)},e.prototype.inViewTimerWrapper=function(t){var e=this;return setTimeout(function(){e.paint(),e.timeout=setTimeout(t,.5*e.fineTimeout)},.5*this.fineTimeout)},e.prototype.cleanup=function(){t.prototype.cleanup.call(this),this.removeTags()},e.prototype.reset=function(){this.removeTags(),this.appendTags()},e.prototype.removeTags=function(){for(var t=0;t<this.numTag;t++)this.browserData.doc.body.removeChild(this.tagArray[t])},e}(o.RegularCheckMethod);e.FirefoxPaintMethod=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(4),a=n(0),c=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="10",n}return i(e,t),e.prototype.canApplyMethod=function(t){return!t.isWebView&&"requestAnimationFrame"in t.win&&"cancelAnimationFrame"in t.win&&"safari"===t.browser&&Number(t.version)>=10},e.prototype.init=function(){this.painted={},this.appendTags(),this.setupHandlers(),this.registerInViewListener()},e.prototype.appendTags=function(){var t;for(this.tags=s.Utils.getTagCoordinates(this.browserData.width,this.browserData.height),this.numTag=this.tags.length,this.tagArray=[],t=0;t<this.numTag;t++)this.tagArray.push(this.createIFrameTag(this.tags[t]));for(t=0;t<this.numTag;t++)this.browserData.doc.body.appendChild(this.tagArray[t])},e.prototype.createIFrameTag=function(t){var e,n=t.split("_");return 2===n.length&&((e=this.browserData.doc.createElement("iframe")).style.cssText="width:"+a.Constants.TAG_SIZE+"px;height:"+a.Constants.TAG_SIZE+"px;left:"+n[0]+"px;top:"+n[1]+"px;position:absolute;background-color:transparent;",e.scrolling="no",e.allowtransparency="true",e.hidefocus="true",e.setAttribute("frameBorder","0"),e.id=t,this.painted[t]=0),e},e.prototype.getInViewPercentage=function(){for(var t=0,e=0;e<this.numTag;e++)t+=this.painted[e],this.painted[e]=0;return this.setupHandlers(),this.numTag?100*t/this.numTag:0},e.prototype.setupHandlers=function(){for(var t=0;t<this.numTag;t++)this.setupHandlerPerTag(t)},e.prototype.setupHandlerPerTag=function(t){var e=this.tagArray[t].contentWindow,n=this;e&&(e.prevTimestamp=(new Date).getTime(),e.animationFrameRequest&&(e.cancelAnimationFrame(e.animationFrameRequest),this.painted[t]=0),e.animationFrameRequest=e.requestAnimationFrame(function(){var r=(new Date).getTime();r-e.prevTimestamp<n.fineTimeout/2?n.painted[t]=1:n.painted[t]=0,e.prevTimestamp=r}))},e.prototype.notInViewTimerWrapper=function(t){var e=this;return setTimeout(function(){e.setupHandlers(),e.timeout=setTimeout(t,.5*e.coarseTimeout)},.5*this.coarseTimeout)},e.prototype.inViewTimerWrapper=function(t){var e=this;return setTimeout(function(){e.setupHandlers(),e.timeout=setTimeout(t,.5*e.fineTimeout)},.5*this.fineTimeout)},e.prototype.cleanup=function(){t.prototype.cleanup.call(this),this.removeTags()},e.prototype.reset=function(){this.removeTags(),this.appendTags()},e.prototype.removeTags=function(){for(var t=0;t<this.numTag;t++)this.browserData.doc.body.removeChild(this.tagArray[t])},e}(o.RegularCheckMethod);e.PerfMethod=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.measurementBucket="5",n}return i(e,t),e.prototype.init=function(){},e.prototype.canApplyMethod=function(t){return!0},e.prototype.registerInViewListener=function(){},e.prototype.cleanup=function(){},e}(n(3).Methods);e.NotMeasurableMethod=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=n(0),a=n(4),c=n(1),h=n(7),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.browserData=n,r}return i(e,t),e.getInstance=function(t,n){return void 0===n&&(n=c.BrowserData.getInstance()),new e(t,n)},e.prototype.getAdElement=function(){return this.browserData.doc.getElementById(this.viewId)},e.prototype.init=function(){if(this.beaconUrl&&""!==this.beaconUrl){var t=this.getAdElement();this.browserData.setup(t),this.browserData.setAdSize();var e=this;a.Utils.registerListener(s.Constants.LOAD_EVENT_NAME,function(){e.adLoadTime=(new Date).getTime()-e.browserData.pageStartTime}),this.methodInstance=this.getMeasurementMethod(this.browserData.adWrapperElement),a.Utils.registerListener(s.Constants.RESIZE_EVENT_NAME,function(){e.browserData.setAdSize()}),this.methodInstance.init(),a.Utils.registerListener(s.Constants.UNLOAD_EVENT_NAME,this.unloadHandler),a.Utils.registerListener(s.Constants.BEFOREUNLOAD_EVENT_NAME,this.beforeunloadHandler),h.AutomatedBrowser.getInstance().initAutomatedBrowser()}},e}(o.Ads);e.DisplayAd=u}]);