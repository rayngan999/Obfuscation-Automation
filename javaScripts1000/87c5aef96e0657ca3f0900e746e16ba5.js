(this.webpackJsonpCSW=this.webpackJsonpCSW||[]).push([[6],{67:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(9),c=n.n(r),l=n(11);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=function(e){var t=e.loaderMessage,n=e.className,r=e.isAnimated,c=void 0!==r&&r;if(!t)return null;var l="csw-loader ".concat(n||""," ").concat(c?"csw-loader-animated":"");return a.f.createElement("div",o({},e,{className:l}),a.f.createElement("div",{className:"csw-loader-text",title:t},t),c&&a.f.createElement("div",{className:"csw-loader-anim","aria-hidden":"true"}))},s=function(){return a.f.createElement("div",{className:"csw-err"},c.a.t("ERROR"))},u=n(0),m=n(1),f="modal-bottom",d="modal-right",b=function(e){var t=e.children,n=e.className,r=e.direction,c=e.theme,l=e.showModal,o=e.onClose,i=e.openFocusRef,s=e.closeFocusRef,d=e.ariaLabeledById,b=e.id,p=e.focusable,w=void 0!==p&&p,h=e.escapable,E=void 0===h||h;if(!t)return null;var v=r||f,y=Object(m.T)(c)?"theme-".concat(c):"theme-".concat(u.y.Dark),N=l?"show-modal":"",g="csw-modal ".concat(y," ").concat(v," ").concat(N," ").concat(n||""),O="csw-modal-glass ".concat(l?"show-glass":""," ").concat(o?"glass-closable":""),A=o||function(){};Object(a.j)((function(){l&&w&&setTimeout(S,u.h.WidgetMenuFocusDelay)}),[l,w]);var S=function(){var e=l?i:s;return w&&Object(m.V)(e)};return[l?a.f.createElement("div",{className:O,key:"modal-glass",onClick:A}," "):null,a.f.createElement("div",{className:g,role:"dialog",key:"modal-container",id:b,"aria-hidden":!l,"aria-labelledby":d,onKeyUp:function(e){return E&&e&&e.keyCode===u.n.Escape&&A()}},a.f.createElement("div",{className:"csw-modal-content"},t))]};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var h=function(e){var t=e.onComplianceAgree,n=e.complianceUrl,r=e.showModal,l=e.theme,o=e.closeFocusRef,i=e.id,s=e.focusable,d=void 0!==s&&s;if(!t&&!n)return null;var w=Object(a.m)(null),h=Object(a.m)(null),E=p(Object(a.n)(!1),2),v=E[0],y=E[1];Object(a.j)((function(){!1===r&&y(!1)}),[r]);var N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n?m.G:m.F;return a(e,[u.n.Tab],(function(){return Object(m.V)(t)}))},g=function(e){y(!0),t(e)};return a.f.createElement(b,{id:i,className:"csw-compliance-modal",showModal:r,direction:f,theme:l,openFocusRef:w,closeFocusRef:o,focusable:d,ariaLabeledById:"".concat(i,"-heading"),escapable:!1},a.f.createElement("div",{className:"csw-compliance-modal-message"},a.f.createElement("div",{className:"h3 outline",role:"heading","aria-level":"1",ref:w,tabIndex:"0",id:"".concat(i,"-heading"),onKeyDown:function(e){return N(e,h,!0)}},c.a.t("COMPLIANCE_MODAL_TITLE")),a.f.createElement("p",null,a.f.createElement("span",null,c.a.t("COMPLIANCE_MODAL_MESSAGE"))," ",a.f.createElement("a",{className:"csw-compliance-link outline",href:n,target:"_blank",rel:"noopener noreferrer"},c.a.t("PRIVACY_POLICY_CIVICSCIENCE")))),r&&a.f.createElement("div",{className:"csw-btns csw-stretch"},a.f.createElement("button",{type:"button",role:"button",className:"csw-btn outline",tabIndex:"0",disabled:v,onClick:function(){return g(!0)}},c.a.t("BUTTON_I_AGREE")),a.f.createElement("button",{type:"button",ref:h,role:"button",className:"csw-btn csw-btn-first outline",tabIndex:"0",disabled:v,onKeyDown:function(e){return N(e,w)},onClick:function(){return g(!1)}},c.a.t("BUTTON_I_DISAGREE"))))},E=n(14),v=Object(l.connect)("questionsData,resultResponseCount",E.a)((function(e){var t=e.questionsData,n=e.resultResponseCount,r=e.getFinish;return Object(a.j)((function(){t.questions&&n===t.sessionLength&&r()}),[t,n]),a.f.createElement(i,{loaderMessage:c.a.t("CALCULATING_RESULTS"),isAnimated:!0})})),y=Object(l.connect)("bootstrap,config,widgetState",E.a)((function(e){var t=e.widgetState,n=e.bootstrap,r=void 0===n?{}:n,l=e.config,o=void 0===l?{}:l;if(!o||!t)return null;var i=r.contextualTargetHiddenState,s=o.position,m=t===u.B.TargetAdmin,f=t===u.B.BlacklistAdmin,d=t===u.B.QuestionAdmin,b=t===u.B.QuestionsNone,p=!m&&!d,w=function(){parent.location.reload(!0)},h=function(){return a.f.createElement("div",{className:"csw-btns csw-stretch"},a.f.createElement("button",{type:"button",role:"button",className:"csw-btn outline",onClick:w},"Refresh this page"))};return a.f.createElement("section",{className:"csw-intro"},m&&a.f.createElement("div",{className:"csw-intro-target-admin"},a.f.createElement("div",{className:"h2 h-trim",role:"heading","aria-level":"1"},"Configure Polling Widget"),a.f.createElement("div",{className:"csw-intro-detail"},a.f.createElement("p",null,"You can see this polling widget because you are one of its administrators. Regular visitors will not see this until it is configured.")),i===u.l.AdminPosition&&a.f.createElement("div",{className:"csw-intro-target-admin-position"},s?a.f.createElement("div",{className:"csw-intro-detail"},a.f.createElement("p",null,"Use the gear icon in the bottom right corner to proceed with the configuration, and then...")):a.f.createElement("div",{className:"csw-intro-detail"},a.f.createElement("p",null,a.f.createElement("strong",null,"A successful position could not be found"),", use the position icon in the upper right to proceed with configuration, and then...")),a.f.createElement(h,null))),f&&a.f.createElement("div",{className:"csw-intro-target-admin"},a.f.createElement("div",{className:"h2 h-trim",role:"heading","aria-level":"1"},"Hidden Polling Widget"),a.f.createElement("div",{className:"csw-intro-detail"},a.f.createElement("p",null,"You can see this polling widget because you are one of its administrators. Regular visitors may not see it in this page due to it containing blacklisted HTML elements defined in the target configuration.")),a.f.createElement(h,null)),d&&a.f.createElement("div",{className:"csw-intro-question-admin"},a.f.createElement("div",{className:"h2 h-trim",role:"heading","aria-level":"1"},"Ask a Question"),a.f.createElement("div",{className:"csw-intro-detail"},a.f.createElement("p",null,"You can see this polling widget because you are its administrator. Regular visitors will not see this widget until a question is asked."),a.f.createElement("p",null,"Use the gear icon in the bottom right corner to ask a page-level question, and then...")),a.f.createElement(h,null)),p&&b&&a.f.createElement("div",{className:"csw-intro-empty"},a.f.createElement("div",{className:"h2 h-trim",role:"heading","aria-level":"1"},c.a.t("OPINION_EXPERT")),a.f.createElement("div",{className:"csw-intro-detail"},a.f.createElement("p",null,c.a.t("NO_MORE_QUESTIONS_EXPLANATION")))))})),N=function(){return a.f.createElement("div",{className:"csw-thank-you"},a.f.createElement("div",{className:"h2 h-trim",role:"heading","aria-level":"1"},c.a.t("THANK_YOU_TITLE")),a.f.createElement("div",{className:"csw-thank-you-detail"},c.a.t("THANK_YOU_BODY")))},g=function(e){var t=e.summary;return t?a.f.createElement("div",{className:"csw-quiz-summary"},a.f.createElement("div",{className:"csw-quiz-summary-detail",role:"heading","aria-level":"1"},c.a.t("QUIZ_SUMMARY_YOU_ANSWERED")),a.f.createElement("div",{className:"h2 h-trim",role:"heading","aria-level":"2"},c.a.t("QUIZ_SUMMARY_CORRECT_OUT_OF_TOTAL",{countCorrect:t.countCorrect,countTotal:t.countTotal})),a.f.createElement("div",{className:"csw-quiz-summary-detail"},c.a.t("QUIZ_SUMMARY_QUESTIONS_CORRECTLY"))):null},O=function(e){var t=e.summary;return t?a.f.createElement("div",{className:"csw-text-summary"},a.f.createElement("div",{className:"h2 h-trim",role:"heading","aria-level":"1"},t.text),a.f.createElement("div",{className:"csw-text-summary-detail"},t.body)):null},A=Object(l.connect)("finishData,config,results",E.a)((function(e){var t=e.finishData,n=e.config,r=e.results,l=e.getQuestions,o=e.focusable,i=Object(a.m)(null),s=t.summary,f=n.natures,d=n.portalUrl,b=s?s.type:u.w.None,p=Object(m.g)(f,u.q.ResultsDisabled),w=r.length<=0||p;Object(a.j)((function(){h()}),[]);var h=function(){o&&Object(m.V)(i)};return a.f.createElement("section",{className:"csw-summary",ref:i,tabIndex:"-1"},w?a.f.createElement("div",{className:"csw-summary-detail"},a.f.createElement(N,null)):a.f.createElement("div",{className:"csw-summary-detail"},b===u.w.Quiz&a.f.createElement(g,{summary:s}),b===u.w.Text&a.f.createElement(O,{summary:s})),a.f.createElement("div",{className:"csw-btns csw-stretch"},d?a.f.createElement("a",{className:"csw-btn csw-btn-primary",target:"_blank",rel:"noopener noreferrer",href:d},c.a.t("BUTTON_GO")):a.f.createElement("button",{type:"button",role:"button",className:"csw-btn csw-btn-primary csw-btn-restart",onClick:function(){l({reset:!0})}},c.a.t("BUTTON_ANSWER_MORE_QUESTIONS"))))}));Object(l.connect)("hp",E.a)((function(e){var t=e.hpId,n=e.hpLabelId,r=e.hpPlaceholderId,l=e.hp,o=e.setHp;return a.f.createElement("fieldset",{className:"csw-hp","aria-hidden":"true","aria-describedby":"".concat(t,"-adlbl"),style:{padding:0,margin:0,opacity:0,position:"absolute",height:0,width:0,zIndex:-1,top:0,left:0,overflow:"hidden"}},a.f.createElement("label",{id:"".concat(t,"-lbl"),htmlFor:t,tabIndex:"-1"},a.f.createElement("input",{type:"checkbox",id:t,name:t,onChange:function(e){return o(e&&e.target&&(!Object(m.L)(e.target.value)||e.target.checked))},autoComplete:"off",tabIndex:"-1",placeholder:c.a.t(r),maxLength:"100","aria-describedby":"".concat(t,"-adlbl"),style:{padding:0,margin:0,height:0,width:0,overflow:"hidden"},value:"",defaultChecked:l}),a.f.createElement("span",null,c.a.t(n))),a.f.createElement("span",{id:"".concat(t,"-adlbl"),className:"sr-only"},c.a.t("SPEC_MSG")))}));function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var x=function(e){return a.f.createElement("i",S({className:"csw-i csw-i-up-caret","aria-hidden":"true"},e)," ")},j=function(e){return a.f.createElement("i",S({className:"csw-i csw-i-down-caret","aria-hidden":"true"},e)," ")},C=function(e){return a.f.createElement("i",S({className:"csw-i csw-i-left-caret","aria-hidden":"true"},e)," ")},I=function(e){return a.f.createElement("i",S({className:"csw-i csw-i-check ".concat(e.iconClassName?e.iconClassName:""),"aria-hidden":"true"},e)," ")},_=function(e){return a.f.createElement("i",S({className:"csw-icon csw-icon-cross ".concat(e.iconClassName?e.iconClassName:""),"aria-hidden":"true"},e)," ")},T=function(e){return a.f.createElement("i",S({className:"csw-i csw-i-cs-logo","aria-hidden":"true"},e)," ")},k=function(e){return a.f.createElement("i",S({className:"csw-i csw-i-lightbulb","aria-hidden":"true"},e)," ")},R=function(e){return a.f.createElement("i",S({className:"csw-i csw-i-headheart","aria-hidden":"true"},e)," ")},q=function(e){return a.f.createElement("i",S({className:"csw-i csw-i-media","aria-hidden":"true"},e)," ")},U=function(e){return a.f.createElement("i",S({className:"csw-icon csw-icon-menu-dots ".concat(e.iconClassName?e.iconClassName:""),"aria-hidden":"true"},e))},L=function(e){return a.f.createElement("i",S({className:"csw-icon csw-icon-share2 ".concat(e.iconClassName?e.iconClassName:""),"aria-hidden":"true"},e))},M=function(e){return a.f.createElement("i",S({className:"csw-icon csw-icon-twitter ".concat(e.iconClassName?e.iconClassName:""),"aria-hidden":"true"},e))},D=function(e){return a.f.createElement("i",S({className:"csw-icon csw-icon-facebook2 ".concat(e.iconClassName?e.iconClassName:""),"aria-hidden":"true"},e))},P=function(e){return a.f.createElement("i",S({className:"csw-icon csw-icon-linkedIn ".concat(e.iconClassName?e.iconClassName:""),"aria-hidden":"true"},e))};function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var H=u.n.Enter,Y=u.n.BackSpace,W=u.n.Delete,K=u.n.DownArrow,Q=u.n.RightArrow,G=function(e){var t=e.className,n=e.placeholder,r=void 0===n?c.a.t("AUTOCOMPLETE_YOUR_ANSWER"):n,l=e.options,o=void 0===l?[]:l,i=e.initialValue,s=void 0===i?"":i,f=e.onSelectChoice,d=Object(a.m)(null),b=Object(a.m)(null),p=Object(a.m)(null),w=B(Object(a.n)([]),2),h=w[0],E=w[1],v=B(Object(a.n)(!1),2),y=v[0],N=v[1],g=B(Object(a.n)(s),2),O=g[0],A=g[1],S=B(Object(a.n)(null),2),x=S[0],j=S[1],C=Object(m.J)(o)&&o.length>0,I=Object(m.J)(h)&&h.length>0,T=!Object(m.P)(x)&&!Object(m.P)(O),k="csw-autocomplete-results ".concat(y?"expand":"collapse"),R={display:y?"block":"none"},q=["csw-autocomplete"];!Object(m.P)(t)&&q.push(t),T&&q.push("with-suggestion");var U=q.join(" "),L=function(e){return o.find((function(t){var n=t.text;return Object(m.R)(n)&&Object(m.R)(e)&&n.toLowerCase()===e.toLowerCase()}))},M=function(e){return Object(m.p)(o,"id",e)},D=function(e,t){E(e.filter((function(e){return e.text.toLowerCase().includes(t?t.toLowerCase():null)})))};Object(a.j)((function(){C&&O&&D(o,O)}),[C,o,O]),Object(a.j)((function(){var e;x&&(null==p||null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}),[p,x]);var P=function(){setTimeout((function(){var e;d&&d.current&&(null===(e=d.current)||void 0===e||e.focus())}),u.h.AutoCompleteDelay)},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return setTimeout((function(){d&&d.current&&N(t)}),u.h.AutoCompleteDelay)},G=function(e){var t=e.target.firstChild.data,n=L(t);A(t),Object(m.P)(n)||(j(n.id),f(n),P())},V=function(){j(null),A(null),f(null),N(!0),C&&D(o,null),P()};return a.f.createElement("div",{className:U},a.f.createElement("input",{value:O,className:"csw-select outline csw-autocomplete-text-input",type:"text",autoComplete:"off",onInput:function(e){var t,n=e.target.value;(A(n),n.length>0)?(T&&b&&b.current&&(null===(t=b.current)||void 0===t||t.focus()),N(!T)):(j(null),f(null))},onKeyUp:function(e){if(y){var t=M(x),n=L(O),a=Object(m.fb)(t||n),r=a.id,c=a.text,l=o.indexOf(a),i=e.keyCode,s=I?h:o,u=function(e){var t=s[e],n=Object(m.fb)(t).id;j(n),N(!0)};switch(i){case H:A(c),j(r),f(a),!Object(m.P)(r)&&N(!1);break;case K:var d=l+1;u(d>=s.length?0:d);break;case Q:var b=l-1;u(b<0?s.length-1:b);break;case W:V()}}},onKeyDown:function(e){var t=function(){T&&(e.preventDefault(),V())};switch(e.keyCode){case Y:case W:t()}},onFocus:function(e){return F(e,!T)},onBlur:function(e){return F(e,!1)},placeholder:r,ref:d,readOnly:T}),T&&a.f.createElement("button",{type:"button",onClick:V,onFocus:function(e){return F(e,!0)},className:"csw-btn csw-autocomplete-clear-btn outline",ref:b,title:c.a.t("AUTOCOMPLETE_CLEAR_YOUR_ANSWER"),"aria-label":c.a.t("AUTOCOMPLETE_CLEAR_YOUR_ANSWER")},a.f.createElement(_,null)),a.f.createElement("div",{className:k,style:R},(I?h:o).map((function(e,t){var n=e.text,r=e.id===Object(m.fb)(M(x)).id,c="csw-autocomplete-result ".concat(r?"active":"");return a.f.createElement("button",{key:"csw-auto-complete-option-".concat(t),type:"button",onClick:G,className:c,ref:r?p:null},n)}))))},V=function(e){var t=e.radioName,n=e.option,r=e.onRadioSelected,c=e.isEmoji,l=e.isImage,o=e.isDisabled,i=n.id,s=n.text,u=n.selected,f=n.img,d="".concat(t,"-").concat(i),b=!Object(m.P)(f),p=[];l&&p.push("csw-q-rdo-img-o"),c&&p.push("csw-q-rdo-emoji-o");var w=p.join(" "),h=function(e){if(!o)return Object(m.C)(e,(function(){return r(n)}))};return a.f.createElement("li",{className:"csw-q-rdo-o csw-q-option ".concat(w),"aria-labelledby":"".concat(d,"-lbl")},a.f.createElement("input",{className:"csw-q-rdo-input csw-q-option-input sr-only outline-trigger",type:"radio",name:t,id:d,value:s,disabled:o,defaultChecked:u,"aria-hidden":!0,"aria-checked":u,onChange:function(){if(!o)return r(n)},onKeyUp:h}),a.f.createElement("label",{className:"csw-q-rdo-lbl csw-q-option-lbl outline",id:"".concat(d,"-lbl"),htmlFor:d,onClick:function(){if(!o)return r(n,!0)},onKeyUp:h,role:"radio","aria-disabled":o,"aria-checked":u},l&&b&&a.f.createElement("figure",null,a.f.createElement("img",{className:"csw-q-rdo-img-file",alt:s,src:f,onLoad:function(){var e=Object(m.m)("resize",!0);window.dispatchEvent(e)}}),a.f.createElement("figcaption",{className:"csw-q-rdo-img-txt"},s)),c&&a.f.createElement("i",{className:"csw-q-rdo-emoji-txt",role:"img"},s),!(c||l)&&a.f.createElement(a.f.Fragment,null,a.f.createElement("span",{className:"csw-q-rdo-chk csw-option-check-border","aria-hidden":"true"}," "),a.f.createElement("span",{className:"csw-q-rdo-txt"},s))))},z=function(e){var t=e.radioName,n=e.option,r=e.isDisabled,c=n.id,l=n.text,o=n.selected;return a.f.createElement("option",{id:t,name:t,className:"csw-select-option csw-q-rdo-s-o",value:c,disabled:r,selected:o},l)};function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var J=Object(l.connect)("",E.a)((function(e){var t=e.labelId,n=e.question,r=e.onOptionChanged,l=e.isDisabled,o=n.id,i=n.options,s=n.text,f=n.subtype,d=f===u.r.Image,b=f===u.r.Emoji,p=f===u.r.Select,w=f===u.r.AutoComplete,h=$(Object(a.n)(null),2),E=h[0],v=h[1],y=[];d&&y.push("csw-q-rdo-img"),b&&y.push("csw-q-rdo-emoji"),p&&y.push("csw-q-rdo-select"),w&&y.push("csw-q-rdo-select");var N=y.join(" "),g=function(){return i&&i.map((function(e,t){var n="csw-q-rdo-".concat(o),c="".concat(n,"-").concat(e.id,"-").concat(t);return p?a.f.createElement(z,{key:c,i:t,radioName:n,option:e,isDisabled:l}):a.f.createElement(V,{key:c,i:t,radioName:n,option:e,onRadioSelected:function(e,t){return r({option:e,autoAdvance:t})},isEmoji:b,isImage:d,isDisabled:l})}))||[]};return a.f.createElement("fieldset",{className:"csw-fieldset csw-q-rdo ".concat(N)},a.f.createElement("legend",{className:"sr-only","aria-hidden":!0},s),p&&a.f.createElement("select",{className:"csw-select csw-select-90 csw-select-center csw-q-rdo-s outline",onClick:function(e){!l&&e&&e.stopPropagation()},onChange:function(e){if(!l&&e){var t=e.target.value;return v(t),r({option:t&&Object(m.p)(i,"id",t),autoAdvance:!1})}},disabled:l,"aria-labelledby":t,defaultValue:"placeholder",value:E},a.f.createElement("option",{disabled:!0,value:"placeholder",className:"csw-select-option-placeholder"},c.a.t("SELECT_YOUR_ANSWER")),g()),w&&a.f.createElement(G,{options:i&&i.map((function(e){return{id:e.id,text:e.text}}))||[],onSelectChoice:function(e){var t=Object(m.fb)(e).id,n=t&&Object(m.p)(i,"id",t);return r({option:n,autoAdvance:!1})}}),!p&&!w&&a.f.createElement("ul",{className:"csw-option-list","aria-labelledby":t,role:"radiogroup"},g()))})),X=function(e){var t=e.checkboxName,n=e.option,r=e.onCheckboxChange,c=e.isDisabled,l=n.id,o=n.qid,i=n.text,s=n.selected,u=o||"none",f="".concat(t,"-").concat(l,"-").concat(u);return a.f.createElement("li",{className:"csw-q-cbx-o csw-q-option","aria-labelledby":"".concat(f,"-lbl")},a.f.createElement("input",{className:"csw-q-cbx-input csw-q-option-input sr-only outline-trigger",type:"checkbox",name:t,id:f,value:i,checked:s,disabled:c,onChange:function(){if(!c)return r(n)},"aria-hidden":!0}),a.f.createElement("label",{className:"csw-q-cbx-lbl csw-q-option-lbl outline",id:"".concat(f,"-lbl"),htmlFor:f,onKeyUp:function(e){if(!c)return Object(m.C)(e,(function(){return r(n)}))},role:"checkbox","aria-checked":s,"aria-disabled":c},a.f.createElement("span",{className:"csw-q-cbx-chk csw-option-check-border","aria-hidden":"true"}," "),a.f.createElement("span",{className:"csw-q-cbx-txt"},i)))},ee=Object(l.connect)("questionsData",E.a)((function(e){var t=e.question,n=e.onOptionChanged,r=e.isDisabled,c=t.options,l=t.id,o=t.text,i=Object(m.db)(l,"cb/","");return a.f.createElement("fieldset",{className:"csw-fieldset csw-q-cbx"},a.f.createElement("legend",{className:"sr-only","aria-hidden":!0},o),a.f.createElement("ul",{className:"csw-option-list",role:"group"},c&&c.map((function(e,t){var c="csw-q-cbx-".concat(i),l="".concat(c,"-").concat(e.id,"-").concat(t);return a.f.createElement(X,{key:l,i:t,checkboxName:c,option:e,isDisabled:r,onCheckboxChange:function(e){return n({option:e})}})}))))})),te=function(e){var t=e.rowId,n=e.row,r=e.columns,c=e.onOptionSelected,l=e.isDisabled,o=n.text,i=n.options,s="".concat(t,"-text"),u=function(e,t){if(!l)return Object(m.C)(e,(function(){return c(t,n)}))};return a.f.createElement("div",{className:"csw-q-flex-mtrx-row",id:t},a.f.createElement("div",{className:"csw-q-flex-mtrx-row-title",role:"heading","aria-level":"2",id:s},o),a.f.createElement("ul",{className:"csw-q-flex-mtrx-o-list csw-option-list",role:"radiogroup","aria-labelledby":s},i&&i.map((function(e,o){var i=e.id,s=e.text,m=e.selected,f="csw-q-o-".concat(t,"-").concat(i),d="".concat(f,"-").concat(o),b=r[o].text;return a.f.createElement("li",{className:"csw-q-flex-mtrx-o",key:d,role:"radio","aria-checked":m,"aria-labelledby":"".concat(f,"-lbl")},a.f.createElement("input",{className:"csw-q-flex-mtrx-rdo-input sr-only outline-trigger",type:"radio",id:f,name:t,value:s,defaultChecked:m,onChange:function(){return function(e){if(!l)return c(e,n)}(e)},disabled:l,onKeyUp:function(t){return u(t,e)},tabIndex:"3"}),a.f.createElement("label",{className:"csw-q-flex-mtrx-lbl outline",id:"".concat(f,"-lbl"),htmlFor:f,onKeyUp:function(t){return u(t,e)},tabIndex:"0","aria-label":s,"aria-disabled":l},a.f.createElement("span",{className:"csw-q-flex-mtrx-chk csw-option-check-border","aria-hidden":"true"}," "),a.f.createElement("span",{className:"csw-q-flex-mtrx-txt"},b)))}))))},ne=Object(l.connect)("",E.a)((function(e){var t=e.question,n=e.onOptionChanged,r=e.isDisabled,c=t.rows,l=t.columns,o=t.id,i=t.text,s=Object(m.db)(o,"/","-");return a.f.createElement("fieldset",{className:"csw-fieldset csw-q-flex-mtrx"},a.f.createElement("legend",{className:"sr-only","aria-hidden":!0},i),c&&c.map((function(e,t){var c="".concat(s,"-").concat(t);return a.f.createElement(te,{key:c,rowId:c,row:e,columns:l,isDisabled:r,onOptionSelected:function(e,t){return n({option:e,row:t})}})})))})),ae=function(e){var t=e.rowId,n=e.row,r=e.onOptionSelected,c=e.isDisabled,l=n.text,o=n.options,i="".concat(t,"-text"),s=function(e,t){if(!c)return Object(m.C)(e,(function(){return r(t,n)}))};return a.f.createElement("div",{className:"csw-q-mtrx-row",id:t},a.f.createElement("ul",{className:"csw-q-mtrx-o-list csw-option-list",role:"radiogroup","aria-labelledby":i},a.f.createElement("li",{className:"csw-q-mtrx-o",role:"heading","aria-level":"2",id:i},l),o&&o.map((function(e,o){var u=e.id,m=e.text,f=e.selected,d="csw-q-o-".concat(t,"-").concat(u),b="".concat(d,"-").concat(o);return a.f.createElement("li",{className:"csw-q-mtrx-o",key:b,"aria-labelledby":"".concat(d,"-lbl")},a.f.createElement("input",{className:"csw-q-mtrx-rdo-input sr-only outline-trigger",type:"radio",id:d,name:t,value:m,defaultChecked:f,onChange:function(){return function(e){if(!c)return r(e,n)}(e)},"aria-hidden":!0,"aria-label":m,"aria-describedby":i,disabled:c,onKeyUp:function(t){return s(t,e)},tabIndex:"-1"}),a.f.createElement("label",{className:"csw-q-mtrx-lbl outline",id:"".concat(d,"-lbl"),htmlFor:d,onKeyUp:function(t){return s(t,e)},tabIndex:"0","aria-label":"".concat(m," ").concat(l),"aria-describedby":i,role:"radio","aria-checked":f,"aria-disabled":c},a.f.createElement("span",{className:"csw-q-mtrx-chk csw-option-check-border","aria-hidden":"true"}," ")))}))))},re=function(e){var t=e.colId,n=e.columns;return a.f.createElement("div",{className:"csw-q-mtrx-headers"},a.f.createElement("div",{className:"csw-q-mtrx-header csw-q-mtrx-header-space"}," "),n&&n.map((function(e,n){var r=e.text,c="".concat(t,"-").concat(n);return a.f.createElement("div",{className:"csw-q-mtrx-header",key:c},r)})))},ce=Object(l.connect)("",E.a)((function(e){var t=e.question,n=e.onOptionChanged,r=e.isDisabled,c=t.rows,l=t.columns,o=t.id,i=t.text,s=Object(m.db)(o,"/","-");return Object(m.M)(t)?a.f.createElement(ne,{question:t,isDisabled:r}):a.f.createElement("fieldset",{className:"csw-fieldset csw-q-mtrx"},a.f.createElement("legend",{className:"sr-only","aria-hidden":!0},i),a.f.createElement(re,{columns:l,colId:"csw-q-mtrx-hdr-".concat(s)}),c&&c.map((function(e,t){var c="".concat(s,"-").concat(t);return a.f.createElement(ae,{key:c,rowId:c,row:e,columns:l,isDisabled:r,onOptionSelected:function(e,t){return n({option:e,row:t})}})})))})),le=function(e){var t=e.rowId,n=e.row,r=e.columns,c=e.onOptionSelected,l=e.isDisabled,o=n.text,i=n.options,s="".concat(t,"-text"),u=function(e,t){if(!l)return Object(m.C)(e,(function(){return c(t,n)}))},f=function(e){var t="csw-q-val-".concat(isNaN(e)?"NaN":20*Math.ceil(Math.abs(e)/20)),n="csw-q-sign",a=null;return isNaN(e)?a="".concat(n,"-NaN"):0===e?a="".concat(n,"-none"):e>0?a="".concat(n,"-plus"):e<0&&(a="".concat(n,"-minus")),"".concat(a," ").concat(t)};return a.f.createElement("div",{className:"csw-q-spect-row",id:t},a.f.createElement("div",{className:"csw-q-spect-row-heading",role:"heading","aria-level":"2",id:s},o),a.f.createElement("ul",{className:"csw-q-spect-o-list csw-option-list",role:"radiogroup","aria-labelledby":s},r&&r.map((function(e,r){var m=i[r],d=m.id,b=m.selected,p=e.text,w=e.value,h="csw-q-spect-o-".concat(t,"-").concat(d),E="".concat(h,"-").concat(r);return a.f.createElement("li",{className:"csw-q-spect-o",key:E,"aria-labelledby":"".concat(h,"-lbl")},a.f.createElement("input",{className:"csw-q-spect-rdo-input sr-only outline-trigger",type:"radio",id:h,name:t,value:p,defaultChecked:b,onChange:function(){return function(e){if(!l)return c(e,n)}(m)},onKeyUp:function(e){return u(e,m)},disabled:l,"aria-hidden":!0,tabIndex:"-1"}),a.f.createElement("label",{className:"csw-q-spect-lbl outline ".concat(f(w)),htmlFor:h,id:"".concat(h,"-lbl"),onKeyUp:function(e){return u(e,m)},tabIndex:"0","aria-label":"".concat(p," ").concat(o),"aria-describedby":s,role:"radio","aria-checked":b,"aria-disabled":l},a.f.createElement("span",{className:"csw-q-spect-chk csw-option-check-border","aria-hidden":"true"}," "),a.f.createElement("span",{className:"csw-q-spect-txt"},p)))}))))},oe=Object(l.connect)("",E.a)((function(e){var t=e.question,n=e.onOptionChanged,r=e.isDisabled,c=t.rows,l=t.columns,o=t.text,i=t.id;return a.f.createElement("fieldset",{className:"csw-fieldset csw-q-spect"},a.f.createElement("legend",{className:"sr-only","aria-hidden":!0},o),c&&c.map((function(e,t){var c="csw-q-spect-".concat(i,"-").concat(t),o="csw-q-spect-key-".concat(i,"-").concat(t);return a.f.createElement(le,{key:o,rowId:c,row:e,columns:l,isDisabled:r,onOptionSelected:function(e,t){return n({option:e,row:t})}})})))}));function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ue=Object(l.connect)("submitState",E.a)((function(e){var t=e.question,n=e.onTextChanged,r=e.isDisabled,l=t.id,o=t.text;if(t.type!==u.s.Text)return null;var i=ie(Object(a.n)(255),2),s=i[0],f=i[1],d=ie(Object(a.n)(255),2),b=d[0],p=d[1],w=ie(Object(a.n)(null),2),h=w[0],E=w[1],v="csw-q-text-".concat(l);Object(a.j)((function(){y(u.x.ZipMin,u.x.ZipMax)}),[]);var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"digit",a=Object(m.A)(e,t,n);f(e),p(t),E(a)},N=function(e){if(e){var a=e.target.value;n({question:t,text:a,validationRegEx:h})}};return a.f.createElement("fieldset",{className:"csw-fieldset csw-q-text"},a.f.createElement("legend",{className:"sr-only","aria-hidden":!0},o),h&&a.f.createElement("input",{className:"csw-text-input outline csw-q-text-input",type:"text",name:v,id:l,minLength:s,maxLength:b,autoComplete:"off",placeholder:c.a.t("ZIP_CODE_PLACEHOLDER"),onBlur:N,onChange:N,onKeyUp:N,disabled:r}))})),me=function(e){var t=e.question,n=e.questionState,r=void 0===n?{}:n,l=e.topFocusRef,o=e.onSubmit,i=e.isSubmitting,s=void 0!==i&&i;if(!t)return null;var m=t||{},f=m.id,d=m.text,b=m.type,p=r.submitEnabled,w=r.showResultsButton,h=r.isDisabled,E=void 0===h||h,v="csw-q-".concat(f),y=["csw-question"];s&&y.push("csw-q-wait");var N=y.join(" "),g=["csw-btn csw-btn-primary csw-btn-submit outline"];(s||E)&&g.push("csw-btn-wait");var O=g.join(" ");return a.f.createElement("form",{role:"form",autoComplete:"off",className:N,"aria-disabled":E,onSubmit:function(e){return e.preventDefault()}},a.f.createElement("div",{className:"csw-question-wrapper csw-scroll-section"},a.f.createElement("div",{className:"csw-question-text csw-title-text outline",id:v,role:"heading","aria-level":"1",title:d,ref:E?null:l,tabIndex:"0"},a.f.createElement("span",null,d)),!1,t&&b===u.s.Radio&&a.f.createElement(J,{labelId:v,question:t,isDisabled:E}),t&&b===u.s.Checkbox&&a.f.createElement(ee,{question:t,isDisabled:E}),t&&b===u.s.Matrix&&a.f.createElement(ce,{question:t,isDisabled:E}),t&&b===u.s.Spectrum&&a.f.createElement(oe,{question:t,isDisabled:E}),t&&b===u.s.Text&&a.f.createElement(ue,{question:t,isDisabled:E})),a.f.createElement("div",{className:"csw-scroll-shadow"}),a.f.createElement("div",{className:"csw-question-btns csw-btns csw-stretch"},a.f.createElement("button",{type:"button",role:"button",disabled:!p||E,className:O,tabIndex:"0",onClick:function(){!s&&o()}},c.a.t(w?"BUTTON_SEE_RESULTS":"BUTTON_NEXT"))))};function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var be=function(e){var t=e.option,n=e.isImage,r=e.isActive,l=fe(Object(a.n)(!1),2),o=l[0],i=l[1],s=t.text,f=t.percent,d=t.answered,b=t.quiz,p=t.img,w={width:isNaN(f)?0:"".concat(f,"%")},h="csw-option-result-item-percent-".concat(f," ").concat(o?"csw-loaded":"csw-loading"),E=d?"option-answered":"option-not-answered",v=!Object(m.O)(b),y=v&&b.correct,N=v?"quiz-result-option":"result-option",g=v?y?"option-fill-correct":"option-fill-incorrect":"option-fill";setTimeout((function(){return i(r)}),u.h.ResultItemAnimMS);return a.f.createElement("div",{className:"csw-option-result-item outline ".concat(h," ").concat(N," ").concat(E,"\n        ").concat(n?"csw-option-result-item-img":""),tabIndex:"0","aria-label":c.a.t(d?"RESULT_ANSWERED_LBL":"RESULT_NOT_ANSWERED_LBL",{percent:f,text:s})},a.f.createElement("div",{className:"csw-option-result-item-bar"},a.f.createElement("div",{className:"csw-option-result-item-fill-wrapper",style:w},a.f.createElement("div",{className:"csw-option-result-item-fill ".concat(g)}," ")),a.f.createElement("div",{className:"csw-option-result-item-text"},v&&y&&a.f.createElement(I,{iconClassName:"csw-i-success"}),v&&!y&&a.f.createElement(_,{iconClassName:"csw-i-danger"}),n?a.f.createElement("figure",null,a.f.createElement("img",{className:"csw-option-result-item-img-file",alt:s,src:p,onLoad:function(){var e=Object(m.m)("resize",!0);window.dispatchEvent(e)}}),a.f.createElement("figcaption",{className:"csw-option-result-item-img-txt"},s)):a.f.createElement("span",null,s)),a.f.createElement("div",{className:"csw-option-result-item-percent"},f,"%")),a.f.createElement("div",{className:"csw-option-result-item-answer ".concat(E)},d&&a.f.createElement(C,{title:c.a.t("YOUR_ANSWER"),"aria-label":c.a.t("YOUR_ANSWER"),role:"img","aria-hidden":"false"})))};function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var he=function(e){var t=e.result,n=e.isActive,r=t.options,l=t.id,o=t.role,i=t.quiz,s=t.subtype,f=pe(Object(a.n)(!1),2),d=f[0],b=f[1],p=o&&"quiz"===o,w=p&&i&&i.correct,h=w?"QUIZ_RIGHT_ANSWER":"QUIZ_WRONG_ANSWER",E=s===u.r.Image,v=s===u.r.Select,y=Object(m.cb)(r,"answered","desc"),N=y.length>3,g=[];p&&g.push("csw-quiz-result"),E&&g.push("csw-option-result-img"),v&&g.push("csw-option-result-select"),v&&d&&g.push("csw-option-result-select-expanded");var O=g.join(" "),A=Object(m.db)(l,"/","-");return a.f.createElement("div",{className:"csw-option-result ".concat(O)},p&&a.f.createElement("div",{className:w?"csw-success":"csw-fail"},c.a.t(h)),y&&y.map((function(e,t){var r=e.answered;return!v||d||t<3||r?a.f.createElement(be,{option:e,key:"csw-r-option-row-".concat(A,"-").concat(t),isImage:E,isActive:n}):null})),N&&a.f.createElement("div",{className:"csw-option-result-tools"},v&&a.f.createElement("button",{type:"button",className:"csw-btn csw-btn-link outline csw-result-expander",onClick:function(){return b(!d)},"aria-expanded":d},a.f.createElement("span",{className:"csw-btn-txt"},c.a.t(d?"RESULT_COLLAPSE":"RESULT_EXPAND")),d?a.f.createElement(x,null):a.f.createElement(j,null))))},Ee=function(e){var t,n=e.columns,r=e.columnValues,c=e.answeredIndex,l=void 0===c?0:c,o=function(e,t){var n,a=0===e?[170,170,170]:e>0?[120,226,120]:[255,131,131],c=(.9*Math.abs(e)/100+.1).toFixed(2);return n=0===t?"0%":t===r.length-1?"100%":"".concat(Math.round(100*(t+.5)/r.length),"%"),"rgba(".concat(a.join(","),", ").concat(c,") ").concat(n)};return a.f.createElement("div",{className:"csw-r-spect-columns"},a.f.createElement("div",{className:"csw-r-spect-columns-values",style:(t=r.map(o),{backgroundImage:"linear-gradient(to right, ".concat(t.join(", "),")")})},n&&n.map((function(e,t){var n=e.text,r=t===l,c=Object(m.db)(n," ","-");return a.f.createElement("div",{className:"csw-r-spect-column ".concat(r?"csw-r-spect-column-answered":""),key:"csw-r-spect-o-column-".concat(c,"-").concat(t)},n)}))))};function ve(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||Ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Oe=function(e){var t=e.row,n=e.columns,r=t.text,l=t.options,o=t.average,i=ye(Object(a.n)(0),2),s=i[0],u=i[1],f=n?n.map((function(e){return e.value})):[],d=Math.min.apply(Math,ve(f)),b=Math.max.apply(Math,ve(f)),p=Object(m.ab)(d,b,o),w=l&&l.find((function(e,t){var n=e.answered;return n&&u(t),n}));return a.f.createElement("div",{className:"csw-r-spect-row outline",tabIndex:"0","aria-label":w?c.a.t("RESULT_ANSWERED_SPEC_LBL",{percent:w.percent,text:w.text,averageRating:p}):""},a.f.createElement("div",{className:"csw-r-spect-row-text",role:"heading","aria-level":"2"},r),a.f.createElement("div",{className:"csw-r-spect-answers"},a.f.createElement("div",{className:"csw-r-spect-user-answers"},l&&l.map((function(e,t){var n=e.answered;return a.f.createElement("div",{className:"csw-r-spect-row-user-answer",key:"csw-r-spect-o-".concat(t)},n&&a.f.createElement("div",{className:"csw-r-spect-row-user-answered"},a.f.createElement("div",{className:"csw-r-spect-row-user-answered-lbl"},c.a.t("RATING_YOUR_RATING")),a.f.createElement(j,{title:c.a.t("RATING_YOUR_RATING")})))}))),n&&a.f.createElement(Ee,{columns:n,columnValues:f,answeredIndex:s}),a.f.createElement("div",{className:"csw-r-spect-row-avg-rating-wrapper"},a.f.createElement("div",{className:"csw-r-spect-row-avg-rating",style:{right:"".concat(p,"%")}},a.f.createElement(x,{title:c.a.t("RATING_AVERAGE")}),a.f.createElement("div",{className:"csw-r-spect-row-avg-rating-lbl"},c.a.t("RATING_AVERAGE"))))))},Ae=function(e){var t=e.result,n=t.columns,r=t.rows,c=t.id,l=Object(m.db)(c,"/","-");return a.f.createElement("div",{className:"csw-r-spect"},a.f.createElement("div",{className:"csw-r-spect-rows"},r&&r.map((function(e,t){return a.f.createElement(Oe,{row:e,columns:n,key:"csw-r-spect-row-".concat(l,"-").concat(t)})}))))},Se=function(e){var t=e.columns;return a.f.createElement("div",{className:"csw-r-mtrx-headers"},a.f.createElement("div",{className:"csw-r-mtrx-header csw-r-mtrx-header-space"}," "),t&&t.map((function(e,t){var n=e.text;return a.f.createElement("div",{className:"csw-r-mtrx-header",key:"col-hdr-".concat(t)},n)})))};function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ce=function(e){var t=e.row,n=e.isActive,r=t.text,l=t.options,o=xe(Object(a.n)(!1),2),i=o[0],s=o[1],m=l&&l.find((function(e){return e.answered}));return setTimeout((function(){return s(n)}),u.h.ResultItemAnimMS),a.f.createElement("div",{className:"csw-r-mtrx-row outline",tabIndex:"0","aria-label":m?c.a.t("RESULT_ANSWERED_MTRX_LBL",{percent:m.percent,text:m.text}):""},a.f.createElement("div",{className:"csw-r-mtrx-row-top"},a.f.createElement("div",{className:"csw-r-mtrx-o csw-r-mtrx-row-text",role:"heading","aria-level":"2"},r),l&&l.map((function(e,t){var n=e.percent,r=e.answered,l={height:isNaN(n)?0:"".concat(i?n:0,"%")},o="csw-r-mtrx-o-percent-".concat(n),s=r?"option-answered":"option-not-answered",u={bottom:isNaN(n)?0:"".concat(i?n:0,"%")};return a.f.createElement("div",{className:"csw-r-mtrx-o ".concat(o),key:"csw-r-mtrx-o-".concat(t)},a.f.createElement("div",{className:"csw-r-mtrx-o-chart-fill-wrapper"},a.f.createElement("div",{className:"csw-r-mtrx-o-answer ".concat(s),style:u},r&&a.f.createElement(j,{title:c.a.t("YOUR_ANSWER"),role:"img","aria-label":c.a.t("YOUR_ANSWER"),"aria-hidden":"false"})),a.f.createElement("div",{className:"csw-r-mtrx-o-chart-fill",style:l}," ")))}))),a.f.createElement("div",{className:"csw-r-mtrx-row-bottom"},a.f.createElement("div",{className:"csw-r-mtrx-o csw-r-mtrx-row-space"}," "),l&&l.map((function(e,t){var n=e.percent;return a.f.createElement("div",{className:"csw-r-mtrx-o csw-r-mtrx-o-percent",key:"csw-r-mtrx-o-percent-".concat(t)},n,"%")}))))},Ie=function(e){var t=e.result,n=e.isActive,r=t.columns,c=t.rows,l=t.id,o=Object(m.db)(l,"/","-");return a.f.createElement("div",{className:"csw-r-mtrx"},r&&a.f.createElement(Se,{columns:r}),a.f.createElement("div",{className:"csw-r-mtrx-rows"},c&&c.map((function(e,t){return a.f.createElement(Ce,{row:e,key:"csw-r-mtrx-row-".concat(o,"-").concat(t),isActive:n})}))))};function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ke=function(e){var t=e.captionType,n=e.captionBody,r=_e(Object(a.n)(null),2),l=r[0],o=r[1];Object(a.j)((function(){n&&!l&&Object(m.eb)(n,{ALLOWED_ATTR:["href","target"]},!0).then((function(e){return o({__html:"".concat(e)})}))}),[n]);var i=function(){return t&&Object(m.g)([u.d.Insight,u.d.Quiz,u.d.Trending],t)};return Object(m.P)(l)?null:a.f.createElement("div",{className:"csw-caption outline",tabIndex:"0"},i()&&a.f.createElement("div",{className:"csw-caption-icon"},t===u.d.Insight&&a.f.createElement(k,null),t===u.d.Quiz&&a.f.createElement(R,null),t===u.d.Trending&&a.f.createElement(q,null)),a.f.createElement("div",{className:"csw-caption-text"},i()&&a.f.createElement("div",{className:"csw-caption-title font-special"},t===u.d.Insight&&c.a.t("CAPTION_TITLE_INSIGHT"),t===u.d.Quiz&&c.a.t("CAPTION_TITLE_QUIZ"),t===u.d.Trending&&c.a.t("CAPTION_TITLE_TRENDING")),l&&a.f.createElement("div",{className:"csw-caption-text-body",dangerouslySetInnerHTML:l})))},Re=Object(l.connect)("",E.a)((function(e){var t=e.result,n=e.resultState,r=void 0===n?{}:n,l=e.portalUrl,o=e.learnUrl,i=e.onNextResult,s=e.onPreviousResult,f=e.onAfterShowingResults,d=e.getQuestions,b=e.jot,p=e.topFocusRef;if(!t)return null;var w=t.text,h=t.type,E=t.id,v=t.caption,y=t.total,N=r.isHidden,g=r.hasAdFinale,O=r.hasFinish,A=r.hasPrevious,S=r.hasNext,x=r.hasOnlyOne,j=r.isActive,C=void 0!==j&&j,I="csw-r-".concat(E),_=y>50,T=Object(m.P)(l)&&O&&!g,k=l&&O&&!g;return Object(a.j)((function(){!N&&O&&b({space:"poll",type:u.m.LastResult,data:{more:T,portal:k,aFin:g}})}),[N,O]),a.f.createElement("div",{className:"csw-result"},a.f.createElement("div",{className:"csw-result-wrapper csw-scroll-section".concat(N?" csw-result-hidden":"")},a.f.createElement("div",{className:"csw-result-question-text csw-title-text outline",id:I,role:"heading","aria-level":"1",title:w,tabIndex:"0",ref:C?p:null},w),(h===u.s.Radio||h===u.s.Checkbox)&&a.f.createElement(he,{result:t,isActive:C}),h===u.s.Matrix&&a.f.createElement(Ie,{result:t,isActive:C}),h===u.s.Spectrum&&a.f.createElement(Ae,{result:t}),_&&a.f.createElement("div",{className:"csw-result-response-total"},a.f.createElement("span",{className:"csw-result-response-total-text"},c.a.t("RESULT_RESPONSE_TOTAL",{total:Number(y).toLocaleString()})),!Object(m.P)(o)&&a.f.createElement("a",{className:"csw-learn-more-link outline",target:"_blank",rel:"noopener noreferrer",href:o},c.a.t("LEARN_MORE"))),v&&a.f.createElement(ke,{captionType:v.type,captionBody:v.body})),a.f.createElement("div",{className:"csw-scroll-shadow"}),C&&a.f.createElement("div",{className:"csw-result-btns csw-btns csw-stretch"},S&&a.f.createElement("button",{type:"button",className:"csw-btn csw-btn-primary csw-btn-next outline",tabIndex:"0",onClick:i},c.a.t("BUTTON_NEXT")),T&&a.f.createElement("button",{type:"button",className:"csw-btn csw-btn-primary csw-btn-next csw-btn-restart outline",tabIndex:"0",onClick:function(){f(),d({reset:!0})}},c.a.t(x?"BUTTON_ANSWER_MORE_QUESTIONS":"BUTTON_MORE")),k&&a.f.createElement("a",{className:"csw-btn csw-btn-primary csw-btn-next outline",target:"_blank",rel:"noopener noreferrer",href:l},c.a.t("BUTTON_GO")),g&&a.f.createElement("button",{type:"button",className:"csw-btn csw-btn-primary csw-btn-next outline",tabIndex:"0",onClick:f},c.a.t("BUTTON_MORE")),A&&a.f.createElement("button",{type:"button",className:"csw-btn csw-btn-first outline",tabIndex:"0",onClick:s},c.a.t("BUTTON_BACK"))))}));function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Le=function(e){var t=e.cardState,n=e.className,r=e.children,c=e.onActivate,l=e.cardKey;if(!r)return null;var o=t.isActive,i=void 0!==o&&o,s=t.isNext,f=void 0!==s&&s,d=t.isPrevious,b=void 0!==d&&d,p=qe(Object(a.n)(!1),2),w=p[0],h=p[1],E=["csw-card"];E.push(i?"csw-active":"csw-inactive"),f&&E.push("csw-next"),b&&E.push("csw-previous"),n&&E.push(n);var v=E.join(" "),y=null,N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y=setTimeout((function(){i&&null!==e&&c({height:Object(m.v)(e,40),cardKey:l,isResize:t})}),u.h.DeckRefreshHeightMS)},g=function(){var e=O?O.current:null;e&&N(e,!0)};Object(a.k)((function(){return window.addEventListener("resize",g),function(){y&&clearTimeout(y),window.removeEventListener("resize",g)}}),[]),Object(a.j)((function(){return h(i)}),[t]);var O=Object(a.h)((function(e){i&&!w&&N(e)}),[w,t]);return a.f.createElement("div",{className:v,ref:i?O:null,"aria-hidden":!i},r)},Me=function(e){var t=e.progressTypeText,n=e.progressNum,r=void 0===n?0:n,l=e.totalNum,o=void 0===l?0:l,i=!((isNaN(r)||0===r)&&(isNaN(o)||0===o)),s=[];if(i)for(var u=0;u<o;u++)s.push(a.f.createElement("div",{className:"csw-progress-dot ".concat(u===r-1?"csw-active":""),key:u}));return a.f.createElement("div",{className:"csw-deck-progress"},i?a.f.createElement("div",{className:"csw-deck-has-progress"},t&&a.f.createElement("div",{className:"csw-deck-progress-prefix"},a.f.createElement("span",null,JSON.stringify(o)," "),a.f.createElement("span",null,c.a.t(1===o?t:"".concat(t,"S")))),a.f.createElement("div",{className:"csw-deck-progress-dots"},s)):a.f.createElement("div",{className:"csw-deck-no-progress"}," "))},De=void 0;function Pe(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||Fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ye=Object(l.connect)("adEngageEnabled,bootstrap,config,instanceId,\n  questionsData,questionIndex,servedIds,submitIds,\n  results,resultIndex,finishData,\n  complianceState,submitState,widgetState",E.a)((function(e){var t,n=e.adEngageEnabled,r=e.bootstrap,l=e.config,o=e.instanceId,s=e.questionsData,f=void 0===s?{}:s,d=e.questionIndex,b=e.servedIds,p=void 0===b?[]:b,w=e.submitIds,h=void 0===w?[]:w,E=e.results,N=e.resultIndex,g=e.finishData,O=e.complianceState,S=e.submitState,x=e.widgetState,j=e.getResults,C=e.getQuestions,I=e.jot,_=e.setServedIds,T=e.setShareableLink,k=e.setSubmitIds,R=e.setSubmitState,q=e.focusable,U=e.resultsDisabled,L=void 0!==U&&U,M=e.isCarousel,D=void 0!==M&&M,P=e.isFixed,B=void 0!==P&&P,F=x===u.B.Finish,H=x===u.B.Questions,Y=x===u.B.Results,W=x===u.B.QuestionsLoading,K=x===u.B.QuestionsNone||x===u.B.TargetAdmin||x===u.B.QuestionAdmin||x===u.B.BlacklistAdmin,Q=x===u.B.Summary&&g,G=r.id,V=l.portalUrl,z=l.learnUrl,$=Object(a.m)(null),Z=Be(Object(a.n)(!1),2),J=Z[0],X=Z[1],ee=Be(Object(a.n)(null),2),te=ee[0],ne=ee[1],ae=Be(Object(a.n)(null),2),re=ae[0],ce=ae[1],le=!B&&D,oe=m.gb.complianceStateOk(O),ie=f&&f.questions&&Object(m.J)(f.questions)&&f.questions.length>0,se=ie&&d<f.questions.length,ue=!se&&H,fe=se?f.questions[d].id:null,de=H?f.questions.find((function(e){return e.id===fe})):{},be=ie&&d===f.sessionLength-1,pe=H&&S>u.v.NotReady,we=Object(m.g)(h,fe),he=(de||{}).role,Ee=ie&&{index:d,length:f.sessionLength,id:fe,role:he},ve=H&&oe&&!J&&(t=u.v.Auto,S===t),ye=Object(m.J)(E)&&N>=0,Ne=ye?E.length:0,ge=ye&&E[N],Oe=(ge||{}).id,Ae=ye&&N<Ne-1,Se=ye&&N>0,xe=ye&&1===Ne,je=ye&&N===Ne-1,Ce=ye&&Object(m.H)(n,l,E,N);Object(a.j)((function(){H&&!ue&&(fe&&ve&&ke(),Object(m.g)(p,fe)||(I({space:"poll",type:u.m.Served,data:{},question:de}),Ee&&Object(m.o)(o,De,u.i.QuestionAsked,!1,Ee),_([].concat(Pe(p),[fe])),!be&&C({questionIndex:d+1})))}),[H,ve,fe,ue]),Object(a.j)((function(){var e=H&&de?de:Y&&ge?ge:null,t=e&&m.hb.getShareLink(G,e,o),n=e&&m.hb.getShareText(G,e,o);return T(t&&n?{href:t,text:n,shareable:e}:null),function(){T(null)}}),[H,de,Y,Oe]);var Ie,_e,Te,ke=function(){var e=Object(m.A)(u.x.ZipMin,u.x.ZipMax);pe&&Object(m.Q)(de,f.questions,fe,e)&&(oe&&!J?we||(X(!0),!we&&k([].concat(Pe(h),[fe])),I({space:"poll",type:u.m.Submit,data:{},question:de}),be&&I({space:"poll",type:u.m.Finished}),Ee&&Object(m.o)(o,De,u.i.QuestionAnswered,!1,Ee),setTimeout((function(){return oe&&j({questionsData:f,question:de,currQuestionId:fe}),void X(!1)}),u.h.SubmitTransitionMS)):oe||R(u.v.Auto))},qe=function(e){var t=e.height,n=e.cardKey,a=e.isResize;ne(t),n!==re&&!a&&q&&Object(m.V)($),ce(n)};return a.f.createElement(a.f.Fragment,null,D&&(Ie=H&&ie?d+1:Y&&ye?N+1:0,_e=H&&ie?f.sessionLength:Y&&ye?E.length:0,Te=H?"PROGRESS_QUESTION":Y?"PROGRESS_RESULT":null,Ie?a.f.createElement(Me,{progressTypeText:Te,progressNum:Ie,totalNum:_e}):a.f.createElement(Me,null)),a.f.createElement("div",{className:"csw-deck",style:{height:le&&te?te:null}},a.f.createElement("div",{className:"".concat(D?"csw-carousel":"csw-single")},(H||Y)&&a.f.createElement("div",{className:"csw-question-id","data-qid":H&&fe||Y&&Oe}),a.f.createElement("div",{className:"csw-deck-cards"},(W||ue)&&a.f.createElement(Le,{onActivate:qe,cardState:{isActive:!0},cardKey:"fetch-question-loader-card"},a.f.createElement(i,{loaderMessage:c.a.t("FETCHING_QUESTIONS"),isAnimated:!0})),K&&a.f.createElement(Le,{onActivate:qe,cardState:{isActive:!0},cardKey:"intro-card"},a.f.createElement(y,null)),a.f.createElement(a.f.Fragment,null,ie&&f.questions.map((function(e,t){var n=H&&e&&e.id===fe,r=H&&t>=0&&d===t+1,c=H&&t>0&&d===t-1,l=(Y&&0===N||F)&&t===f.sessionLength-1;return(n||D&&(n||r||c||l))&&e?a.f.createElement(Le,{onActivate:qe,cardState:{isActive:n,isNext:c,isPrevious:r||l},cardKey:"question-card-".concat(e.id,"_").concat(t)},a.f.createElement(me,{key:"question-".concat(e.id,"_").concat(t),question:e,questionState:{showResultsButton:oe&&be&&!L,submitEnabled:pe,isDisabled:!n},onSubmit:ke,onActivate:qe,topFocusRef:$,isSubmitting:J})):null})),F&&a.f.createElement(Le,{onActivate:qe,cardState:{isActive:!0},cardKey:"finish-loader-card"},a.f.createElement(v,null)),ye&&E.map((function(e,t){var n=Y&&e&&e.id===Oe,r=t>=0&&N===t+1,c=(be||Y)&&t>0&&N===t-1;return(n||D&&(n||r||c))&&e?a.f.createElement(Le,{cardState:{isActive:n,isNext:c,isPrevious:r},onActivate:qe,cardKey:"result-".concat(e.id,"_").concat(t)},a.f.createElement(Re,{key:"result-".concat(e.id,"_").concat(t),result:e,resultState:{isHidden:!Y,hasOnlyOne:xe,hasNext:Ae,hasPrevious:Se,hasFinish:je,hasAdFinale:Ce,isActive:n},portalUrl:V,learnUrl:z,topFocusRef:$})):null}))),Q&&a.f.createElement(Le,{onActivate:qe,cardState:{isActive:!0},cardKey:"summary-card"},a.f.createElement(A,{focusable:q}))))))})),We=function(e){var t=e.targetId,n=e.publisherUrl;if(!t||!n)return null;var r="?utm_source=".concat(t,"&utm_medium=widget&utm_campaign=get_widget"),l="".concat(n).concat(r);return a.f.createElement("div",{className:"csw-callout toggle-hover"},a.f.createElement("a",{"aria-label":c.a.t("ADD_THIS_WIDGET"),title:c.a.t("ADD_THIS_WIDGET"),href:l,target:"_blank",rel:"noopener noreferrer",className:"csw-callout-link outline"},a.f.createElement("span",{className:"csw-callout-txt hover-show"},c.a.t("GET")),a.f.createElement(T,null)))},Ke=function(e){var t=e.complianceUrl;return t?a.f.createElement("div",{className:"csw-compliance"},a.f.createElement("span",null,c.a.t("POWERED_BY_CIVICSCIENCE")," | "),a.f.createElement("a",{href:t,className:"csw-compliance-link outline",target:"_blank",rel:"noopener noreferrer"},c.a.t("PRIVACY_POLICY"))):null};function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ve=Object(l.connect)("shareableLink",E.a)((function(e){var t=e.shareableLink,n=e.shareBtnText,r=e.jot;if(!t)return null;var l=t.href,o=t.text,i=t.shareable,s=Qe(Object(a.n)(!1),2),f=s[0],d=s[1],b=c.a.t("SHARE_ACTION_COPY"),p=Qe(Object(a.n)(b),2),w=p[0],h=p[1],E=Object(a.m)(null),v=[];f&&v.push("csw-show-share-tools");var y=v.join(" "),N=function(e){m.hb.shareSocial(e,l,o),r({space:"poll",type:u.m.Share,data:{to:e,question:i}})};return a.f.createElement("div",{className:"csw-share"},a.f.createElement("button",{type:"button",onClick:function(){d(!f),h(b)},className:"csw-btn-link csw-share-btn csw-share-tools-btn outline ".concat(v),title:n,"aria-label":n},a.f.createElement("span",{className:"csw-btn-txt"},n),a.f.createElement(L,{iconClassName:"csw-share-icon"})),a.f.createElement("section",{className:"csw-share-tools ".concat(y)},a.f.createElement("label",{className:"csw-share-copy-lbl"},a.f.createElement("span",{className:"csw-share-copy-lbl-txt"},c.a.t("SHARE_COPY_LBL"),":"),a.f.createElement("input",{className:"csw-share-copy outline",value:l,ref:E,onClick:function(){return Object(m.l)(document,l,(function(){var e;h(c.a.t("SHARE_ACTION_COPIED")),null==E||null===(e=E.current)||void 0===e||e.select(),r({space:"poll",type:u.m.Share,data:{to:u.t.Copy,question:i}})}))},readOnly:!0}),a.f.createElement("span",{className:"csw-share-copy-message"},w)),a.f.createElement("div",{className:"csw-share-social"},a.f.createElement("span",{className:"csw-share-social-lbl-txt"},c.a.t("SHARE_SOC_LBL"),":"),a.f.createElement("button",{type:"button",onClick:function(){return N(u.t.Twitter)},className:"csw-share-btn outline",title:c.a.t("SHARE_SOC_TWITTER"),"aria-label":c.a.t("SHARE_SOC_TWITTER")},a.f.createElement(M,{iconClassName:"csw-share-icon"})),a.f.createElement("button",{type:"button",onClick:function(){return N(u.t.Facebook)},className:"csw-share-btn outline",title:c.a.t("SHARE_SOC_FACEBOOK"),"aria-label":c.a.t("SHARE_SOC_FACEBOOK")},a.f.createElement(D,{iconClassName:"csw-share-icon"})),a.f.createElement("button",{type:"button",onClick:function(){return N(u.t.LinkedIn)},className:"csw-share-btn outline",title:c.a.t("SHARE_SOC_LINKEDIN"),"aria-label":c.a.t("SHARE_SOC_LINKEDIN")},a.f.createElement(P,{iconClassName:"csw-share-icon"})))))})),ze=n(4);function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Je=Object(l.connect)("hostname,shareableLink",E.a)((function(e){var t=e.id,n=e.hostname,r=e.shareableLink,l=e.targetId,o=e.complianceUrl,i=e.partnerName,s=e.privacyPolicyUrl,f=e.showModal,p=e.onClose,w=e.compliance,h=e.complianceState,E=e.onComplianceAgree,v=e.theme,y=e.closeFocusRef,N=e.focusable,g=void 0!==N&&N,O=e.jot;if(!l&&!o)return null;var A=ze.a.protocol,S=ze.a.widgetHistoryEndpoint,x=ze.a.majorVersion,j=ze.a.publisherUrl,C="".concat(A).concat(n).concat(S),I=Object(a.m)(null),T=Object(a.m)(null),k=Object(a.m)(null),R=Object(a.m)(null),q=$e(Object(a.n)(!1),2),U=q[0],L=q[1],M=m.gb.complianceCheckOn(w),D=m.gb.needsComplianceResponse(w,h),P=function(){if(D)return null;var e=Object(m.u)(),t={mv:x,target:l,backupAlias:e};return"".concat(C,"?").concat(Object(m.U)(t))}(),B=function(){if(D)return null;var e=Object(m.u)();return m.gb.buildManageAnswersUrl(n,w,e)}();Object(a.j)((function(){g&&setTimeout(F,u.h.WidgetMenuFocusDelay)}),[U]);var F=function(){var e=U?k:e;g&&Object(m.V)(e)},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n?m.G:m.F;return a(e,[u.n.Tab],(function(){return Object(m.V)(t)}))};return a.f.createElement(b,{id:t,className:"csw-menu-modal",showModal:f,direction:d,onClose:p,theme:v,openFocusRef:I,closeFocusRef:y,focusable:g,ariaLabeledById:"".concat(t,"-heading")},a.f.createElement("header",{ref:I,tabIndex:"-1",onKeyDown:function(e){return H(e,R,!0)}},a.f.createElement("span",{role:"heading","aria-level":"1",id:"".concat(t,"-heading")},c.a.t("MENU_TITLE")),a.f.createElement("button",{type:"button",className:"csw-menu-btn csw-btn csw-btn-icon outline",onClick:p,"aria-label":c.a.t("MENU_CLOSE"),title:c.a.t("MENU_CLOSE")},a.f.createElement(_,null),a.f.createElement("span",{className:"sr-only"},c.a.t("MENU_CLOSE")))),a.f.createElement("div",{className:"csw-modal-scroll"},a.f.createElement("ul",null,!D&&B&&a.f.createElement("li",null,a.f.createElement("a",{className:"csw-menu-link outline",href:B,onClick:function(){O({space:"poll",type:u.m.MenuHistory})},target:"_blank",rel:"noopener noreferrer"},c.a.t("COMPLIANCE_MANAGE_ANSWERS"))),!D&&P&&a.f.createElement("li",null,a.f.createElement("a",{className:"csw-menu-link outline",href:P},c.a.t("DOWNLOAD_ANSWERS"))),!Object(m.P)(s)&&a.f.createElement("li",null,a.f.createElement("a",{className:"csw-menu-link outline",href:s,target:"_blank",rel:"noopener noreferrer"},i?c.a.t("COMPLIANCE_PARTNER_PRIVACY_POLICY",{partnerName:i}):c.a.t("COMPLIANCE_PUBLISHER_PRIVACY_POLICY"))),f&&M&&!D&&a.f.createElement("li",null,a.f.createElement("button",{type:"button",className:"csw-menu-link csw-btn-link outline",ref:T,onClick:function(){!U&&O({space:"poll",type:u.m.MenuOo}),L(!U)},"aria-expanded":U,"aria-controls":"".concat(t,"-opt-out-menu")},c.a.t("COMPLIANCE_OPT_OUT"))),f&&a.f.createElement("li",{id:"".concat(t,"-opt-out-menu"),hidden:!U,"aria-hidden":!U,className:U?"show":"hide"},U&&a.f.createElement("section",{className:"csw-menu-compliance outline",ref:k,tabIndex:"0"},a.f.createElement("div",{className:"csw-menu-compliance-message","aria-level":"2",role:"heading"},c.a.t("COMPLIANCE_OPT_OUT_MESSAGE")),a.f.createElement("div",{className:"csw-btns csw-stretch"},a.f.createElement("button",{type:"button",className:"csw-btn csw-btn-sm outline",onClick:function(){O({space:"poll",type:u.m.MenuOoN}),L(!1)}},c.a.t("BUTTON_OPT_OUT_NO")),a.f.createElement("button",{type:"button",className:"csw-btn csw-btn-sm outline",onClick:function(){O({space:"poll",type:u.m.MenuOoY}),L(!1),E(!1),p()}},c.a.t("BUTTON_OPT_OUT_YES"))))),r&&a.f.createElement("li",null,a.f.createElement(Ve,{shareBtnText:c.a.t("SHARE")})))),a.f.createElement("footer",{className:"csw-menu-modal-footer ".concat(Object(m.P)(o)?"csw-flex-end":"")},!Object(m.P)(o)&&a.f.createElement(Ke,{complianceUrl:o}),a.f.createElement(We,{publisherUrl:j,targetId:l}),a.f.createElement("button",{type:"button",className:"csw-menu-btn csw-btn csw-btn-icon outline sr-only sr-only-focusable",ref:R,onKeyDown:function(e){return H(e,I)},onClick:p,"aria-label":c.a.t("MENU_CLOSE"),title:c.a.t("MENU_CLOSE")},a.f.createElement(_,null),a.f.createElement("span",{className:"sr-only"},c.a.t("MENU_CLOSE")))))}));function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var tt=function(e){var t=e.showTools,n=void 0!==t&&t,r=e.positionableOn,c=e.positionable,l=void 0===c?{}:c,o=e.onHideTools;if(!n)return null;var i=Xe(Object(a.n)(!1),2),s=i[0],u=i[1];return a.f.createElement(a.f.Fragment,null,a.f.createElement("div",{className:"csw-editable-tools ".concat(s?"csw-show-tools":""),"data-civicscience-widget-positionable-on":r,"data-civicscience-widget-position-resettable":r&&!Object(m.P)(l.p)},a.f.createElement("div",{className:"csw-editable-menu-top-actions"},a.f.createElement("button",{type:"button",className:"csw-editable-menu-btn outline",title:"View widget without editable tools","aria-label":"View widget without editable tools",onClick:function(){return!!o&&o()}},a.f.createElement("span",{className:"csw-i"},"ð")),a.f.createElement("button",{type:"button",className:"csw-editable-menu-btn outline",title:"Close editable menu","aria-label":"Close editable menu",onClick:function(){return u(!1)}},a.f.createElement(_,null)))),a.f.createElement("button",{type:"button",className:"csw-editable-menu-btn csw-editable-menu-toggle outline",title:s?"Hide editable menu":"Show editable menu","aria-label":s?"Hide editable menu":"Show editable menu",onClick:function(){return u(!s)}},s?a.f.createElement(j,null):a.f.createElement(x,null)))};function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=Object(l.connect)("bootstrap,config,instanceId,complianceState,submitState,widgetState,\n  questionsData,widgetViewable,results,darkMode",E.a)((function(e){var t=e.bootstrap,n=void 0===t?{}:t,r=e.config,l=void 0===r?{}:r,o=e.instanceId,f=e.complianceState,d=e.submitState,b=e.widgetState,p=e.questionsData,w=void 0===p?{}:p,E=e.widgetViewable,v=e.results,y=void 0===v?[]:v,N=e.setComplianceState,g=e.jot,O=e.frameName,A=e.theme,S=e.isFixed,x=e.darkMode;if(b===u.B.Hidden)return null;var j=n.id,C=n.e,I=l.natures,_=l.delayed,T=l.partnerName,k=l.partnerWidgetCss,R=l.privacyPolicyUrl,q=l.fontData,L=l.compliance,M=l.positionable,D=l.type,P=j&&j.toString(),B=ze.a.isDebugMode,F=nt(Object(a.n)(!1),2),H=F[0],Y=F[1],W=nt(Object(a.n)(!1),2),K=W[0],Q=W[1],G=nt(Object(a.n)(!1),2),V=G[0],z=G[1],$=C&&K&&!V,Z=nt(Object(a.n)(!1),2),J=Z[0],X=Z[1],ee=nt(Object(a.n)(!1),2),te=ee[0],ne=ee[1],ae=nt(Object(a.n)(null),2),re=ae[0],ce=ae[1],le=nt(Object(a.n)(!1),2),oe=le[0],ie=le[1],se=nt(Object(a.n)(null),2),ue=se[0],me=se[1],fe=Object(a.m)(null),de=Object(a.m)(null),be=!E||b<u.B.Hidden,pe=b>u.B.Hidden,we=b===u.B.Error,he=!we&&pe&&E,Ee=Object(m.g)(I,u.q.ResultsDisabled),ve=d>u.v.Ready,ye=m.gb.complianceUrl(l),Ne=he&&m.gb.needsComplianceResponse(L,f),ge=J||te?"csw-under-modal":"",Oe=A===u.y.CarouselDark||A===u.y.CarouselLight||D===u.C.UserSite,Ae=!0===M.on,Se=b===u.B.QuestionsLoading,xe=b===u.B.QuestionsNone||b===u.B.TargetAdmin||b===u.B.QuestionAdmin||b===u.B.BlacklistAdmin,je=b===u.B.Questions&&Object(m.J)(w.questions)&&w.questions.length>0,Ce=b===u.B.Results&&Object(m.J)(y)&&y.length>0,Ie=b===u.B.Finish,_e=b===u.B.Summary,Te=xe||Se||je||Ce||Ie||_e,ke=[ge];$&&ke.push("csw-editable-tools-wrapper"),V&&ke.push("hide");var Re=ke.join(" "),qe=[];Oe&&qe.push("csw-type-carousel"),x&&qe.push("csw-dark-mode");var Ue=qe.join(" ");Object(a.j)((function(){if(m.ib.hasStyleOverrides(k)){var e=k.title;if(!re){var t=m.ib.sanitizedWidgetStyles(k);t&&Object(m.eb)(t,null,!0).then((function(e){return ce({__html:"".concat(e),styleText:"".concat(e)})}))}e&&!ue&&Object(m.eb)(e,{ALLOWED_ATTR:["href","target"]},!0).then((function(e){return me(e?{__html:"".concat(e)}:null)}))}q&&!oe&&(ie(!0),Object(m.f)(q,O)),pe&&C&&!K&&(Q(!0),Object(m.j)(o,n))}),[pe,l,n,K,C]),Object(a.j)((function(){var e=Ne&&ve;X(e),e&&g({space:"poll",type:u.m.ComplianceShown})}),[Ne,d,ve,f]);var Le,Me=Object(a.h)((function(e){e&&re&&re.styleText&&(e.textContent=re.styleText)}),[re]),De=function(){!H&&Y(!0)},Pe=function(e){var t=m.gb.complianceCheckOn(L),n=t?L.version:m.gb.DefaultComplianceVersion;return N({complianceState:e?u.e.Accepted:u.e.NotAccepted,complianceVersion:n,saveComplianceAnswer:t})},Be=function(){!te&&g({space:"poll",type:u.m.MenuOpen}),ne(!te)},Fe=function(){ne(!1),H&&Object(m.V)(fe)};return Le=[],_&&Le.push(a.f.createElement("div",{className:"csw-delayed-message",key:"csw-delayed-".concat(o)},c.a.t("LOADING_CONTINUED"))),Le.push(a.f.createElement("div",{className:"csw ".concat(Ue),key:"csw-".concat(o),onClick:De,onKeyUp:De},re&&a.f.createElement("style",{id:"csw-style-overrides",ref:Me}),(pe||_)&&a.f.createElement("header",{className:"csw-header ".concat(ue?"csw-header-title":"csw-header-no-title"," ").concat(ge),ref:de,tabIndex:"0","aria-labelledby":"csw-header-txt-".concat(j)},a.f.createElement("span",{className:"csw-header-txt",id:"csw-header-txt-".concat(j),dangerouslySetInnerHTML:ue}),!be&&a.f.createElement("button",{type:"button",className:"csw-menu-btn csw-btn csw-btn-icon outline",ref:fe,onClick:Be,"aria-expanded":te,"aria-haspopup":"true","aria-controls":"csw-menu-modal-".concat(P),"aria-label":c.a.t("MENU_OPEN"),title:c.a.t("MENU_OPEN")},a.f.createElement(U,null),a.f.createElement("span",{className:"sr-only"},c.a.t("MENU_OPEN")))),a.f.createElement("div",{role:"main","aria-label":c.a.t("SURVEY_MAIN"),className:"csw-data-scroll ".concat(ge," ").concat(S?"csw-fix-scroll":"")},be&&a.f.createElement(i,{className:"csw-config-loading",loaderMessage:_?c.a.t("LOADING_SURVEY_DELAYED"):c.a.t("LOADING_SURVEY"),isAnimated:!_}),B&&we&&a.f.createElement(s,null),he&&a.f.createElement("div",{className:"csw-data"},Te&&a.f.createElement(Ye,{focusable:H,resultsDisabled:Ee,isCarousel:Oe,isFixed:S}))),he&&a.f.createElement(Je,{id:"csw-menu-modal-".concat(P),targetId:P,complianceUrl:ye,partnerName:T,privacyPolicyUrl:R,showModal:te,onClose:Fe,closeFocusRef:de,theme:A,complianceState:f,compliance:L,onComplianceAgree:Pe,focusable:H}),Ne&&a.f.createElement(h,{id:"csw-compliance-modal-".concat(j),onComplianceAgree:Pe,complianceUrl:ye,showModal:J,closeFocusRef:de,theme:A,focusable:H}),a.f.createElement("div",{className:"civsci-widget ".concat(Re)},$&&a.f.createElement(tt,{positionable:M,showTools:$,positionableOn:Ae,onHideTools:function(){return z(!0)}})),$&&a.f.createElement("div",{className:"csw-editable-tools-spacer"}))),a.f.createElement(a.f.Fragment,null,Le)}))}}]);
//# sourceMappingURL=csw-widget.5.3.8.js.map