var cxCandyObj={version:"2021-08-02 06:26:07",renderTemplateHost:"http://cdn.cxpublic.com/",envType:"",env:"prod",initialized:!1,userId:null,meta:{},persistedQueryId:"c77e57f707a8285372fa005966570578c63489b3",sites:{"onboarding.cxpublic.com":"9222363238898586877","www.local.wsj.com":"9222363238898586877"},sharedAccounts:{"8eebc7c7d60311c7c3936557c944228b90dbca842b100398efea4a169aa12fe7":"starbucks"},graphicsTestId:18,initialize:function(){this.siteLogoInfo={"9222318613852486900":{name:"Wall Street Journal",imgLink:"http://www.wsj.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/wsj_logo.svg",preferredWidth:"150"},"9222325317970825873":{name:"Market Watch",imgLink:"http://www.marketwatch.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/mw_logo.svg",preferredWidth:"100"},"1144071410389139719":{name:"Mansion Global",imgLink:"http://www.mansionglobal.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/mg_logo.svg",preferredWidth:"140"},"1142953111780883056":{name:"Realtor",imgLink:"http://www.realtor.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/realtor_logo.svg",preferredWidth:"85"}};[{name:"cXenseParse:wsj-keyword",separator:","},{name:"cXenseParse:author",separator:"|"}].forEach(function(e){var t=document.head.querySelector("meta[name='"+e.name+"']");t&&!t.getAttribute("data-separator")&&t.setAttribute("data-separator",e.separator)});var e=this.getMetaTagValue("cx_pv_id");e&&cX.setRandomId(e),cX.addEventListener(window,"message",cxdj.renderCallback),cxdj.meta=cxdj.readPageContext(),cxdj.meta&&cxdj.meta.ab_bucket&&(50<=(e=parseInt(cxdj.meta.ab_bucket))&&cX.requireActivityEvents(),86===e&&cxdj.loadPianoScript())},isSubscriber:function(e){return"prosubscriber"===e||"procbsubscriber"===e||"subscriber"===e},getSiteId:function(e){return this.getSiteIdForTopDomain(cxdj.meta.topDomain,e,cxdj.meta.edition)},getSiteIdForTopDomain:function(e,t,n){var r=t===e?"":t.slice(0,t.lastIndexOf("."+e));switch(e){case"wsj.com":if(0===window.location.pathname.indexOf("/market-data/quotes/"))return"1137428874877849937";switch(n){case"naus":return-1<["","graphics","www","store"].indexOf(r)?"9222318613852486900":"quotes"===r?"1137428874877849937":"deloitte"===r?"1135177142006008713":"partners"===r?"1135132405600019683":"onboarding"===r?"1135108723701486695":"jp"===r?"9222335528673021906":cxdj.sites[t]||"1134002947328204066";case"asiajp":return"9222335528673021906";case"asiacn":return"9222335528567651934";case"asiacn_hant":return"1135189930654442767"}break;case"marketwatch.com":return"bigcharts"===r?"1132882648552401441":"www.stg"===r?"1138573015853471556":"9222325317970825873";case"barrons.com":return"partners"===r?"1131774050934839824":-1<["dev.partners","stg.partners","sbx.partners"].indexOf(r)?"1132899956055435449":"9222325317970825875";case"realtor.com":return"1142953111780883056";case"fnlondon.com":return"1139592114930554183";case"penews.com":return"1133979867428110118";case"heatst.com":return"1140711674266969838";case"wsjplus.com":return"1144060886250044680";case"wsjcs-dev.com":return"1132877656863055436";case"moneyish.com":return"1131757219286375810";case"wsj.net":if(0===window.location.pathname.indexOf("/newsletter/"))return"1136293312189049388";break;case"mansionglobal.com":switch(n){case"naus":return"1144071410389139719";case"europees":return"1140714022692008822";default:return"1134007940894473081"}case"huanyuju.com":return"1140714022692008823";case"dowjones.com":return"1134008299188968078"}return cxdj.sites[t]||"1131751141886830816"},reportEvent:function(e,t,n,r){var c=null,s="0",s=e&&e.length&&0===e.indexOf("https://store.wsj.com")?(cX.initializePage(),cxdj.sites["store.wsj.com"]):cxdj.getSiteId(window.location.hostname);cX.setSiteId(n||s),cX.setCustomParameters(cxdj.meta),t&&cX.setCustomParameters(t),cxdj.isSubscriber(cxdj.meta.subscriber)&&cxdj.userId&&cX.setUserProfileParameters({knownSubscriber:1}),e&&e.length&&(c={location:e}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent(c,r)},reportHOKTestImpression:function(e,t){cX.callQueue.push(["invoke",function(){cX.setEventAttributes({origin:"wsj-hok",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("hokImpression",{hokTestId:e,hokTestVariant:t})}])},reportFunnelEvent:function(c,s){cX.callQueue.push(["invoke",function(){var e,t="default";"object"!=typeof c&&(c={});cX.library.parseUrlArgs();c.eventType&&(t=c.eventType),cX.setEventAttributes({origin:"wsj-funnel",persistedQueryId:cxdj.persistedQueryId}),s&&(e={callback:s});var n,r={conversionType:"subscription"};for(n in c)"eventType"!==n&&c.hasOwnProperty(n)&&(r[n]=c[n]);cX.sendEvent(t,r,e)}])},reportCustomConversion:function(e,t){cX.callQueue.push(["invoke",function(){cX.setEventAttributes({origin:"wsj-conversion",persistedQueryId:cxdj.persistedQueryId}),t=t||{},cX.sendEvent(e,t)}])},reportMissingDiv:function(e){cX.setEventAttributes({origin:"wsj-event",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("missingDiv",{divId:e})},reportInteractionEvent:function(t,n,r){cX.callQueue.push(["invoke",function(){var e;n=n||{},cX.setEventAttributes({origin:"wsj-placement",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent(t,n,e=r?{callback:r}:e)}])},annotateUserProfile:function(e,t){e=e||"default",cX.initializePage();t=t?window.location.href:"http://event.wsj.com";t+=-1<t.indexOf("?")?"&":"?et="+e,cX.setUserProfileParameters({useraction:e}),cX.sendPageViewEvent({location:t})},trackPolicy:function(e,t){cX.initializePage(),cX.setUserProfileParameters({policy:e||"unknown"});var n=cxdj.meta.topDomain;t&&cX.setSiteId(cxdj.getSiteIdForTopDomain(n=t,t)),cX.sendPageViewEvent({location:"http://policy."+n+"/"}),"mwcpoct2017"===e&&window.localStorage&&window.localStorage.setItem("cx-gdpr-accepted","true")},reportVisibility:function(e,t){cX.callQueue.push(["invoke",function(){cX.trackElement({elementId:e,trigger:{on:function(e){return.2<=e.visibility.timeSome},callback:function(e){cX.setEventAttributes({origin:"wsj-visibility",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("widgetVisible",{widgetName:t})}}})}])},reportScrollDepth:function(){var e=null,r=0;function t(){var e,t=(document.documentElement.scrollHeight||document.body.clientHeight)-window.innerHeight,n=document.documentElement.scrollTop||document.body.scrollTop;0==t?e=100:(e=parseInt(n/t*100),e-=e%10),r<e&&(r=e,cX.setEventAttributes({origin:"wsj-scroll-depth",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("pageScrollDepth",{depth:""+e,pos:n}))}window.addEventListener("scroll",function(){e&&clearTimeout(e),e=setTimeout(t,50)})},trackKnownElements:function(){for(var e=[{divId:"cx-user-headlines",name:"cx-user-headlines"},{divId:"cx-live-qa-subscribe-button",name:"cx-live-qa-subscribe-button"}],t=0;t<e.length;t++){var n=e[t].divId,r=e[t].name;document.getElementById(n)&&this.reportVisibility(n,r)}},isExcludedWidgetSection:function(e){return-1!==["JournalReports:CollegeRankings","JournalReports:CollegeRankingsHighlights","JournalReports:Conferences","JournalReports:Energy","JournalReports:Funds&ETFs","JournalReports:HealthCare","JournalReports:Leadership","JournalReports:Retirement","JournalReports:SmallBusiness","JournalReports:TechCompaniestoWatch","JournalReports:WealthManagement","JournalReports:Technology"].indexOf(e.type)},isNewRelicMonitoring:function(){return-1!==window.location.href.indexOf("__newrelic_pad_monitoring=true")},getUserBucket:function(e){var t,n=["2qgQ1WCa3A","ixi4E5ylqa","830nwKog3K","K8ZnHJ5Uyn","91GjW1q7Zg","rGgki1wrhs","q85AaJVP78","1p6sdUNJWD","63L1D4y2F9","HY0f8Of9M1"],r=cX.getCookie("usr_bkt"),r=n.indexOf(r);if(-1!==r)return r;if(e&&e.length){for(var c=0,s=0;s<e.length;s++)c=(c<<5)-c+e.charCodeAt(s),c|=0;t=Math.abs(c)%10}else t=Math.floor(10*Math.random());return cX.setCookie("usr_bkt",n[t],3650,"/",cX.getTopLevelDomain()),t.toString()},getAbBucket:function(){var e=cX.getCookie("ab_uuid");if(!e)return-2;for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return(Math.abs(t)%100).toString()},getOmnitureCookieValue:function(){var e=cX.getCookie("AMCV_CB68E4BA55144CAA0A4C98A5%40AdobeOrg");if(!e)return{};var t=e.split("|");if(t.length<2)return{};for(var n,r={},c=1;c<t.length-1;c+=2)r[t[c].toLowerCase()]=t[c+1];for(n in r)"none"===(r[n]||"").toLowerCase()&&delete r[n];return r},getMetaTagValue:function(e,t){if(!e)return"";t=t||"name";e=document.querySelector("meta["+t+'="'+e+'"]');return e&&e.getAttribute("content")||""},getQueryParamValue:function(e){e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(window.location.href);return e&&e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):""},getMonthName:function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(e||Date.now()).getMonth()]},displayArticleCover:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-articlecover";switch(cxdj.meta.topDomain){case"barrons.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("cb5ddcce7d042f8bf5215efb6aff7f93089bcd57",e);break;case"marketwatch.com":var t="cx-marketing-snippet";cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",t);break;case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("665e0bcdbbe895316d610f4cd72480f820a6d08e",e)}}},displayJoinTheConversationInline:function(){var e;cxdj.isNewRelicMonitoring()||(e="cx-jtc-inline","wsj.com"===cxdj.meta.topDomain&&cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("6440fe3ca63c69d41b8729648f7ed38b4d38efdc",e))},displayVideoScrim:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-scrim")&&cxenseOffers.requestCCEOffer("5cb4c11f11e5da190e12c4f0210a7eb3b824134e",e)},displayScrim:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"barrons.com":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("643fbd8f63b7439e03c41adfbe753cb75abd8d87",e):cxenseOffers.requestCCEOffer("a79051bd87db0958ee9836ac4b045614586a88cc",e);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("dd988baf5af5819704a9889728e5b9f82189f8ec",e);break;case"mansionglobal.com":cxenseOffers.requestCCEOffer("1525c3c9ed64809f70104e5300e5debd2a92605f",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("12458a7acb1868379181ba540ba8c31bcf6ffae4",e);break;case"penews.com":cxenseOffers.requestCCEOffer("139e07a3c1a5bca246465c71b424f9472584146d",e);break;case"wsj.com":switch(cxdj.meta.edition){case"naus":"Video"===cxdj.meta.section||"Video Center"===cxdj.meta.section||(cxdj.isSubscriber(cxdj.meta.subscriber)?sessionStorage.getItem("isCCSDScrimView")||cxenseOffers.requestCCEOffer("b867c58b03e06a08c6238740e80c36f44ce93a41",e):cxenseOffers.requestCCEOffer("b3e80557a3fb67b2ec6b23810f739873daa70ce9",e));break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("05c771a5f0c9be8128d8597b3fc5c43c1f7a8ada",e);break;case"asiacn":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("11fe6d28255622ce1dd6d06aa7a4cc97aafc469f",e);break;case"asiacn_hant":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("e4090803f309dc232db0b0d7d577625551571009",e)}}}},displayProScrim:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-pro-scrim")&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("410321637a47e12baa8863e677aba7a74cf81319",e)},displayProSnippet:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-pro-snippetad")&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("618da8476c015a43e028f0f026cb08d3e3a173b4",e)},displayProCandybar:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-pro-candybar")&&"wsj.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("12b72b5f423f0d0b51e1796bfd800c057765ab49",e)},displayCandyBar:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-candybar";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("15fc5810f60a3ecdf05c10bbdab82744dbc95213",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("1bf0808dac142847fced6075793fa9b37ed581f0",e);break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("69829cec87fa661ad05628f01c21d793881ddf08",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("46c976a6d4479e4ec8c96b13fb9e002f6eb68265",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("23e199122ee3c03dfcdce8447e05b51c11665f89",e);break;case"asiacn":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("49e69245fbd802cf880e0d594a1e0969dcdbc6d9",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("1c7cfe13eb4ae0e594dba0323f1864e905fb5e0a",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("d46ccfe810558f1df73280cfdd694a18165ed217",e);break;case"asiacn_hant":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("36bfed3799d02d926501c9ba4c42f0c528d9d012",e):"nonsubscriber"===cxdj.meta.subscriber?cxenseOffers.requestCCEOffer("45f5ca6fa134b605506a7668f140843ef8751248",e):"registered"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("27c2700b1edb56d254216b4ad01ab529ceb3e7dc",e)}break;case"barrons.com":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("cfb8cda0385a36bba08c7b3337eb600a6679ad3a",e):cxenseOffers.requestCCEOffer("3136cddea70289fe567e2697f7fcf7124817cdf3",e);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("1666d27019d1402232df2ea166649e4a992f83ed",e);break;case"dowjones.net":case"wsjplus.com":break;case"marketwatch.com":cxenseOffers.requestCCEOffer("28f7dc8ae583469d207401968eba8a7f811f7267",e);break;case"mansionglobal.com":cxenseOffers.requestCCEOffer("fee3e247795f8e6f14cec1654a5cd88152a84a99",e)}}},displayMGInArticle:function(){var e="cx-in-article";cxenseOffers.hasDivId(e)&&"mansionglobal.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("fd0c07d888bc2ef9b79209a6621f86a01b75bfc2",e)},displayMwTopNews:function(){if(!cxdj.isNewRelicMonitoring()&&"marketwatch.com"===cxdj.meta.topDomain){var e="cx-recommended";cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("2b64a09aac82f77d0c3896930dae048fdb5f7ddb",e)}},displayMGPoptart:function(){var e="cx-lhs-poptart";cxenseOffers.hasDivId(e)&&"mansionglobal.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("ae9cb7c837ba9f3d67b2fa4edc2a3ea5e9bb094b",e)},displayLiveCoverageTile:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-live-coverage-tile")&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("13ac1f365126d3939721ca1f978fdf559c86dc9b",e):cxenseOffers.requestCCEOffer("623d396faaf5555db465bec2ac5f137328e9360a",e))},displayExpRepRightRail:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-exp-rep-right-rail")&&cxenseOffers.requestCCEOffer("b326c1c3a82c69e6d09f3ed6d32eb5b604a43962",e)},displayExpRepArticleContent:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-content-main")&&"Experience Report"===cxdj.getUtagData().article_type&&cxenseOffers.requestCCEOffer("ac1d3b4b6acb27df1dd0049b42e2c011031dd595",e)},displayNewsletterTile:function(){if(!cxdj.isNewRelicMonitoring()){var e=cxdj.getUtagData(),t="cx-newsletter-tile";if(cxenseOffers.hasDivId(t))switch(cxdj.meta.topDomain){case"wsj.com":if("wsjpro"!==e.page_site){"naus"===cxdj.meta.edition&&("ITP"===e.page_section?cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("bbf5004c1541d0b4fd4dfd4af819fb5c18ea97f3",t):cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",t):"Experience Report"===e.page_subsection?cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("70fc3140d02b250c5cf765fef8975ddfe4a4ccb2",t):cxenseOffers.requestCCEOffer("421485868f76ecbb3cc8c06c2655516a8bc697c6",t):cxenseOffers.requestCCEOffer("e68cc07ebf7b89a142b78f1850ac786ac22aa3c7",t));break}cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("42b5c423f0c9ce0e4ea14f0ddeed23ea53fcc54b",t):cxenseOffers.requestCCEOffer("9d660f11b6dce3bba615ee946a6e8083514f94f1",t);break;case"barrons.com":if(cxenseOffers.hasDivId("webui_newsletter_inset")&&"Article"===e.page_content_type||cxdj.getMetaTagValue("keywords","name").includes("newsletteroff"))return;cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("6a905ac47f9ad184994a4e77ba5eba015e087723",t):"nonsubscriber"===cxdj.meta.subscriber&&cxenseOffers.requestCCEOffer("c141ad1193c47d3bb2d9c38abb81229917c0d1e7",t)}}},displayMembershipTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-membership-tile";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":"wsjpro"===cxdj.getUtagData().page_site?cxenseOffers.requestCCEOffer("e73119387d9c6312e6d5993fd54420b15a9c6d12",e):cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("556ce9c5384c380288f1ea527cbd712e77c333e2",e):cxenseOffers.requestCCEOffer("9e5724d5eda30e7c52430d3a5113fed1ed60d22a",e);break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("aa45e25a0ccac1c2df888c2ef19c4eae85b2f2b6",e):cxenseOffers.requestCCEOffer("44e2ad40b81445b146fa2ac43233637ecaa83695",e)}break;case"marketwatch.com":cxenseOffers.requestCCEOffer("7494fd2c425fe9b12869e87d0897dda4687f0071",e)}}},displayNotification:function(){if("staging"!==cxdj.env&&!cxdj.isNewRelicMonitoring()){var t="cx-notification";switch(cxdj.meta.topDomain){case"barrons.com":n("68781b66900d5e3f4b42ff5be1d712959ff90f4d");break;case"wsj.com":var e=document.querySelector("#breaking-news-6e96dff1d9fe");if(!cxenseOffers._isDivEmpty(e))return;cxenseOffers.hasDivId(t)&&(sessionStorage.getItem("isCCSDCandybarView")||cxenseOffers.requestCCEOffer("fdffeaef25759d5a4b278e2b045241d7cc93fb7c",t));break;case"moneyish.com":n("05065098ddbaa3ed460d7d151c1fd724ec6b03d4");break;case"huanyuju.com":case"mansionglobal.com":0===window.location.pathname.indexOf("/es/")||"/es"===window.location.pathname?n("a20344ab78eb6ea53a48817e372168b8b45e611e"):n("3726e868762f00176bf156370845f12f0e1923d0");break;case"wsjplus.com":n("d3e3c35fd9f854b03a6472811f98780968bfeae7")}}function n(e){cxdj.prepareDiv(t),cxenseOffers.requestCCEOffer(e,t)}},displaySnippet:function(){var e;if(!cxdj.isNewRelicMonitoring()&&!window.axateLoggedInStatus)switch(cxdj.meta.topDomain){case"barrons.com":cxenseOffers.hasDivId(e="cx-interstitial-snippet")&&cxenseOffers.requestCCEOffer("80c889e1149a1d949c7f0976ed3bba042569df39",e);break;case"fnlondon.com":cxenseOffers.hasDivId(e="cx-snippet")&&cxenseOffers.requestCCEOffer("9ef64dfdc06f9f3c917196cca13b2b1f9e3438b0",e);break;case"marketwatch.com":cxenseOffers.hasDivId(e="cx-marketing-snippet")&&cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",e);break;case"wsj.com":switch(cxdj.meta.edition){case"naus":"modern"===cxdj.getUtagData().page_content_type_detail?cxenseOffers.hasDivId(e="cx-snippetad")&&cxenseOffers.requestCCEOffer("5298443d3ac3faed4532071b05d7f8e6c7f516d8",e):cxenseOffers.hasDivId(e="cx-snippet-promotion")&&cxenseOffers.requestCCEOffer("7c0f421cfa9c7ff41f8607ed2a35e74618ba7a6a",e);break;case"asiajp":cxenseOffers.hasDivId(e="cx-snippet-promotion")&&cxenseOffers.requestCCEOffer("83ba16c918566642d7f7c2338d054cfa41984333",e);break;case"asiacn":cxenseOffers.hasDivId(e="cx-snippet-promotion")&&cxenseOffers.requestCCEOffer("f351b3bf7e2d2cf25f3b367f4a5989fde7e2933e",e);break;case"asiacn_hant":cxenseOffers.hasDivId(e="cx-snippet-promotion")&&cxenseOffers.requestCCEOffer("eb80b7f56087340d84371a119cb902dbd63add21",e)}}},displaySignInReminder:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-sign-in-reminder";if(cxenseOffers.hasDivId(e)&&"subnotloggedin"===cxdj.meta.subscriber&&!(-1<cxdj.getMetaTagValue("stack.name").indexOf("static"))&&"wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"naus":cxenseOffers.requestCCEOffer("e6ac7b2eeb47df18b23b5e3470ef7fe0cb5949d1",e);break;case"asiajp":cxenseOffers.requestCCEOffer("85ed5943cf5309541cdfad426b1b74b52fd85ba8",e);break;case"asiacn":cxenseOffers.requestCCEOffer("fe71f96af21230de427aa3968b0d1a49af2c9f8f",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("65343b9ea632e6fc06ca911e9c917d810d26ad1d",e)}}},displayArticleInsetSignInReminder:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-article-inset-sign-in-reminder";if(cxenseOffers.hasDivId(e)&&"subnotloggedin"===cxdj.meta.subscriber)switch(cxdj.meta.topDomain){case"wsj.com":"naus"===cxdj.meta.edition&&cxenseOffers.requestCCEOffer("13195ea4c444e717bb16238bee7fa16a3679caa6",e);break;case"barrons.com":cxenseOffers.requestCCEOffer("8c89d7da8ed8b739575848d6ef2ebfaf0511f72f",e)}}},displayCustomFooter:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-mg-footer";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"huanyuju.com":case"mansionglobal.com":cxenseOffers.requestCCEOffer("2be38a0c08a35cec08c20ba86bd650386b832ac3",e)}}},displayPoptart:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-poptart";if(cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"asiajp":cxenseOffers.requestCCEOffer("a4e5e66af9756b29d6dac6bb8c6303c26984a92f",e);break;case"asiacn":cxenseOffers.requestCCEOffer("cc586206df60d808d326be68a038339b9190e0c9",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("8c2844db17f8de6a9d833b8fc2021a9eabad71b3",e)}}},displayArticleInlineNewsletterTile:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-article-inline-newsletter-tile")&&"wsj.com"===cxdj.meta.topDomain&&"naus"===cxdj.meta.edition&&cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",e)},displayHokTests:function(){var e;cxdj.isNewRelicMonitoring()||"wsj.com"===cxdj.meta.topDomain&&(cxdj.prepareDiv(e="cx-hok48e"),cxenseOffers.requestCCEOffer("2ef2870b96cb18a4208f4bcf946286e73e3d791d",e))},callCxPianoMasterLauncher:function(){if(!cxdj.isNewRelicMonitoring()){var e,t,n,r="cx-piano";switch(cxdj.meta.topDomain){case"barrons.com":cxdj.prepareDiv(r),cxenseOffers.requestCCEOffer("2993364dab4735f2ada34803c6dbc9901b473b62",r);break;case"wsj.com":cxdj.prepareDiv(r),cxenseOffers.requestCCEOffer("cd6dfe5cad0e11d2b5b32bf63b7776a73af93c00",r);break;case"fnlondon.com":"fnlondon.com"===cxdj.meta.topDomain&&"/"===window.location.pathname?cxenseOffers.lazyLoad(e="cx-topstories",function(){cxenseOffers.requestCCEOffer("016bcad9c8f36753c18c6c1d9c1210f8538f7fc7",e)}):(cxenseOffers.hasDivId(t="cx-topstories-1")&&cxenseOffers.requestCCEOffer("c9b8590e00936bb0bec277e47f3a6d15b5213269",t),document.querySelector("body.is-continuous")&&(cxenseOffers.hasDivId(n="cx-topstories-2")?cxenseOffers.requestCCEOffer("b6978d0eb797821de133178a8d70536502de8f96",n):window.addEventListener("scroll",function e(){window.requestAnimationFrame(function(){cxenseOffers.hasDivId(n)&&(cxenseOffers.requestCCEOffer("b6978d0eb797821de133178a8d70536502de8f96",n),window.removeEventListener("scroll",e))})})))}}},displayTopRhsHeader:function(){if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId("cx-popup")&&cxenseOffers.requestCCEOffer("2de24eadb5f96a9436a375f0d2087dac83093d90","cx-popup");break;case"barrons.com":cxenseOffers.hasDivId("cx-header")&&cxenseOffers.requestCCEOffer("8beff7dca1f80abd8d6e191025ab9acfd2204aa5","cx-header");break;case"marketwatch.com":cxenseOffers.hasDivId("cx-header")&&(cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("1594cc79136361e4a4391f3b7b1ea0294f0511f3","cx-header"))}},displaySideMenu:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-sidemenu")&&"marketwatch.com"===cxdj.meta.topDomain&&(cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("48e9c719e21a2f9226b1487fba341059455dd976",e))},displayCatchUp:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-catch-up")&&cxenseOffers.requestCCEOffer("3f2954bdd14f53fc51f4c7d552bfeec1158934d5",e)},displayWhatToReadNext:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-what-to-read-next")&&cxenseOffers.lazyLoad(e,function(){if("wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"naus":cxdj.getUtagData().article_type.includes("Journal Reports")&&"full"===cxdj.getUtagData().article_template||cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e);break;case"asiajp":cxenseOffers.requestCCEOffer("4393cade519a0ab746346fc20f9e93952d3dba98",e);break;case"asiacn":cxenseOffers.requestCCEOffer("7d5fe562cf0a8a8f2d7983b2913b02f1addb36e9",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("e221afec8f77bf597b9e04d5f8e92b76c0ecc4b7",e);break;default:cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e)}})},displayNextRead:function(){var e;if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"marketwatch.com":cxenseOffers.hasDivId(e="cx-next")&&!window.matchMedia("(max-width: 1560px)").matches&&cxenseOffers.requestCCEOffer("5d3fd8776d49182b69c0291543394a9640e2d8f7",e);break;case"fnlondon.com":cxenseOffers.hasDivId(e="cx-below-article")&&cxenseOffers.requestCCEOffer("34eb52d4cdb355b0c4e26af1214cd738fc700387",e)}},displayInArticlePromotion:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-inline-promotion")&&"fnlondon.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("6a7608341f3f6ade30b35e754673f08a7318b9a3",e)},displayMostPopularArticles:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-most-popular-articles";if(cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain)switch(cxdj.meta.edition){case"asiajp":cxenseOffers.requestCCEOffer("36538210711f305d5f22951f73a1c139c52da097",e);break;case"asiacn":cxenseOffers.requestCCEOffer("0a045a34a13f5a49dd26ff72bbe83b9a738e8c8c",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("54288d90873b0e12c1cd550d6978ae19a05bfa71",e);break;default:cxenseOffers.requestCCEOffer("4c744d3013084762411b96593dcd0052cfec928c",e)}}},displayBanner:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-banner")&&"marketwatch.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("6579569e7d53b70b8a30b2807175fb14d3814fb4",e)},displayMarketData:function(){var e;cxdj.isNewRelicMonitoring()||cxenseOffers.hasDivId(e="cx-marketdata")&&"marketwatch.com"===cxdj.meta.topDomain&&cxenseOffers.requestCCEOffer("63049966a9dc2d05a429143596b6d2b771ea9555",e)},displayPreviewWidget:function(){var e,t,n=cX.library.parseUrlArgs();n.cx_previewWidget&&(e=n.cx_previewDiv||"cx-preview-div",cxdj.prepareDiv(e),t=n.cx_previewTag?{tag:n.cx_previewTag}:void 0,cxenseOffers.requestCCEOffer(n.cx_previewWidget,e,t))},getUtagData:function(){return"object"!=typeof window.utag_data?{}:window.utag_data},prepareDiv:function(e){var t=document.getElementById(e);t||(t=document.createElement("div")).setAttribute("id",e),document.body.insertBefore(t,document.body.firstChild)},normalizeUserType:function(e){return"subscriber"===e||"prosubscriber"===e?"subscriber":"nonsubscriber"===e||"regUser"===e?cX.getCookie("TR")?"subnotloggedin":"nonsubscriber":"freeRegister"===e?"registered":"default"},readPageContext:function(){var t={},e=cxdj.getUtagData();t.env=this.env,t.topDomain=cX.getTopLevelDomain();var n=e.cx_shield;if(n&&"string"==typeof n)try{n=JSON.parse(n)}catch(e){}"object"==typeof n&&(t.pwTag=n.tag,t.pwPlacement=n.placement,t.pwCampaign=n.campaign,t.pwType=n.type,"object"==typeof n.propensity&&(t.propScore=n.propensity.propensityScore,t.propQuantile=n.propensity.quantile),this.cxshield=n),this.getQueryParamValue("fb_news_token")&&("facebook_news"===this.getMetaTagValue("user.exp")?t.fbNewsUnlock="true":t.fbNewsUnlock="false");try{var r=cX.library.parseUrlArgs();r.mod&&(t.navSource=r.mod),r.reflink&&(t.reflink=r.reflink),r.trackCode&&(t.trackCode=r.trackCode);try{t.retina=cxenseOffers.isRetinaDisplay()?"y":"n"}catch(e){t.retina="u"}t.type=e.article_type,t.template=e.article_template,t.access=e.page_access,t.section=e.page_section,"default"!==e.user_exp&&(t.userExp=e.user_exp),"true"===e.sub_paused&&(t.subPaused=e.sub_paused),e.user_type?t.subscriber=cxdj.normalizeUserType(e.user_type):t.subscriber=cxdj.getMetaTagValue("user.type")||"default",t.isSubscriber=cxdj.isSubscriber(t.subscriber)?"y":"n";var c,s="na,us";s="Edition_Japan"===e.page_content_region?"asiajp":(s=-1===(c=(s=cX.getCookie("wsjregion")||"na,us").indexOf("reset"))?s:s.slice(0,c-1)).replace(/,/g,""),e.user_tags&&-1<e.user_tags.indexOf("WSJPRO-CYBER")&&(t.entitlement="wsjpro-cyber"),e.user_tags&&-1<e.user_tags.indexOf("BAR-ADVISOR")&&(t.entitlement="bar-advisor"),e.user_tags&&-1<e.user_tags.indexOf("MWPREMIUM")&&(t.entitlement="mwpremium"),t.edition=s;var a=e.user_ref||cX.getCookie("TR");a&&(0===a.indexOf("V2-")?cxdj.userId=a.substring(3):cxdj.userId=a),cxdj.sharedAccounts[cxdj.userId]&&(t.sharedAccount=cxdj.sharedAccounts[cxdj.userId],cxdj.userId=null),t.bucket=cxdj.getUserBucket(cX.getUserId()),t.ab_bucket=cxdj.getAbBucket(),t.pageContentTypeDetail=e.page_content_type_detail||"default",t.pageSiteProduct=e.page_site_product;var i=e.profiles&&e.profiles.account;i&&(t.accountEnd=i.end,t.accountMarketing=i.marketing,t.accountOffer=i.offer,t.accountRenew=i.renew);for(var o=["BARRONS-SUB","WSJ-SMARTPHONE","WSJ-PLUS","WSJ-IPAD"],d=0;d<o.length;d++){var f=o[d];if(e.user_tags&&-1<e.user_tags.indexOf(f)){t.userTags=f;break}}var u=document.querySelector("#catch-up-module-container");u&&(t.catchupmodulesection=u.dataset.catchUpSection,t.catchupmoduleslug=u.dataset.catchUpSlug,t.catchupmoduletopic=u.dataset.catchUpTopic)}catch(e){}return t},requestAllOffers:function(){var e=cxdj.getUtagData()["fbSub"];if(this.cxshield&&"object"==typeof this.cxshield){switch(this.cxshield.placement){case"cx-articlecover":cxdj.displayArticleCover(),cxdj.displayJoinTheConversationInline(),cxdj.displayArticleInlineNewsletterTile();break;case"cx-candybar":cxdj.displayCandyBar();break;case"cx-scrim":cxdj.displayScrim();break;case"cx-pro-scrim":cxdj.displayProScrim();break;case"cx-pro-snippetad":cxdj.displayProSnippet();break;case"cx-snippetad":cxdj.displaySnippet()}"barrons.com"===cxdj.meta.topDomain&&cxdj.displayCandyBar()}else"preview"===cxdj.meta.template?(cxdj.displaySnippet(),"barrons.com"===cxdj.meta.topDomain&&cxdj.displayCandyBar()):"true"!==e&&(cxdj.displayScrim(),cxdj.displayCandyBar(),cxdj.displayProCandybar());cxdj.displayNewsletterTile(),cxdj.displayCustomFooter(),cxdj.displayPoptart(),cxdj.displayTopRhsHeader(),cxdj.displaySignInReminder(),cxdj.displayArticleInsetSignInReminder(),cxdj.displayMGPoptart(),cxdj.displayMGInArticle(),cxdj.displayLiveCoverageTile(),cxdj.displayWhatToReadNext(),cxdj.displayExpRepArticleContent(),cxdj.displayMostPopularArticles(),cxdj.displaySideMenu(),cxdj.displayMembershipTile(),cxdj.displayBanner(),cxdj.displayMarketData(),cxdj.displayNextRead(),cxdj.displayInArticlePromotion(),"marketwatch.com"===cxdj.meta.topDomain&&"/"===window.location.pathname&&cxdj.displayMwTopNews(),"wsj.com"===cxdj.meta.topDomain&&0===window.location.pathname.indexOf("/graphics")&&cxenseOffers.hasDivId("cx-recommendations")&&cxTest.runCxVersion(cxdj.graphicsTestId,"cx-recommendations",{widgetId:"7ba219edc99dffa66b9542eb11b13234440982ae"})},run:function(){cxdj.initialize(),cxdj.initializationCompleted=!0,cxdj.reportEvent(null);var e=void 0!==window.grandcanyon;0===(cxdj.meta.bucket||0)&&cxdj.reportScrollDepth();var t=window.setInterval(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(e&&"wsj.com"===cxdj.meta.topDomain||cxdj.displayNotification(),e||cxdj.requestAllOffers(),window.clearInterval(t))},500);e||cxdj.callCxPianoMasterLauncher(),"barrons.com"===cxdj.meta.topDomain&&"/"===window.location.pathname&&cxdj.callCxPianoMasterLauncher(),cxdj.displayHokTests(),cxdj.displayPreviewWidget(),cxdj.trackKnownElements()},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},loadABTestLibrary:function(e){var t=document.createElement("script");t.src="https://cdn.cxense.com/cx.cce.js",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)},loadPianoScript:function(){cxdj.tpInitTime=new Date,tp=window.tp||[],tp.push(["addHandler","experienceExecute",function(e){for(var t={tpWait:((new Date-cxdj.tpInitTime)/1e3).toFixed(1),xbcCookieSize:""+(cX.getCookie("xbc")||"").length},n=e.result.events,r=0;r<n.length;++r){var c,s=n[r];"meterExpired"===s.eventType||"meterActive"===s.eventType?(t.meterEvent=s.eventType,c=s.eventParams,t.maxViews=""+c.maxViews,t.totalViews=""+c.totalViews,t.views=""+c.views,t.viewsLeft=""+c.viewsLeft):"nonSite"===s.eventType&&(t.actionModuleName=s.eventModuleParams.moduleName)}cxdj.reportInteractionEvent("tpExecute",t)}]),cX.loadScript("https://experience.tinypass.com/xbuilder/experience/load?aid=KKbgqpBlpu")}},cxdj=cxdj||cxCandyObj,cX=cX||{};function initializeCxense(){var e,n;cxdj.initialized||(cxdj.initialized=!0,e=/\.barrons\.com$/i.test(window.location.hostname),n=e?"asset.barrons.com":"asset.wsj.net",cxdj.cdnDomain=e?"asset.barrons.com":"s.wsj.net",cxdj.loadABTestLibrary(function(){cX.callQueue.push(["invoke",function(){cX.getTopLevelDomain();var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.async="async",t.src="https://"+n+"/public/md5.production-e41e7724c3.js",e.appendChild(t),window.fetch||((t=document.createElement("script")).type="text/javascript",t.async="async",t.src="https://"+cxdj.cdnDomain+"/static_html_files/fetch.min.js",e.appendChild(t)),cxTest.init(null,"wsj",cxdj.persistedQueryId,"timeSome"),cxdj.run()}])}))}cX.callQueue=cX.callQueue||[],function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.async="async",t.src="https://cdn.cxense.com/cx.js",e.appendChild(t)}(),initializeCxense();var cxenseOffers={hasDivId:function(e){return null!==document.getElementById(e)},getDisplaySection:function(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){e=e["recs-category"].split("/");if(1<e.length)return t.hasOwnProperty(e[1])?t[e[1]]:e[1]}return"WSJ"},shortenTitle:function(e,t){if(t<e.length){var n=e.charAt(t);return e=e.substr(0,t)," "!==n&&(e=e.substr(0,e.lastIndexOf(" "))),e+="..."}return e},updateCCEKValue:function(e){if(e&&e.length){for(var t=[],n=0;n<e.length;++n)e[n].adTargetingKeywords&&t.push(e[n].adTargetingKeywords);t.length&&(cxdj.meta.k=t.join(" "))}},addContextParameter:function(e,t,n){t=""+t,n=n.toLowerCase();e.context.categories[n]=t,e.context.parameters.push({key:n,value:t})},getCCEContext:function(e,t,n){var r=cxdj.meta,c={};(c=e?JSON.parse(JSON.stringify(e)):c).context||(c.context={}),c.context.categories||(c.context.categories={}),c.context.parameters||(c.context.parameters=[]),n&&(c.user=n);var s=["subscriber","edition","pwCampaign"];t&&(s=s.concat(t));for(var a,i=0;i<s.length;++i)!r.hasOwnProperty(s[i])||void 0!==r[a=s[i]]&&this.addContextParameter(c,r[a],a);return c},requestCCEOffer:function(e,t,n,r,c){var s=cxdj.meta.navSource?["navSource","bucket"]:["bucket"];c&&(s=s.concat(c)),t&&t.length&&!cxenseOffers.hasDivId(t)&&cxdj.reportMissingDiv(t),cxTest.run({widgetId:e,targetElementId:t},cxenseOffers.getCCEContext(n,s,r))},hasInsituNewsletterSignup:function(e,t,n){var r=e.creative.destinationUrl,e=function(e,t){t=t||window.location.href;e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}("sub",r);console.log("hasInsitu check ",e,". Check: ",r),e&&this.subscriberNewsletterSignup(e,t,n)},getUserRenewLink:function(f,u){u="function"==typeof u?u:function(){},fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.profile)throw Error("Invalid Profile Data");for(var t={},n=0;n<e.profile.length;++n)for(var r=e.profile[n],c=0;c<r.groups.length;++c)t[r.groups[c].group]=r.item;var s,a,i,o=t["wsj-renew-postage-indicator"],d=t["wsj-bol-renew-postage-indicator"];return o||d?(o?"c"===o?(s=t["wsj-renew-ctaurl1-1"],i=t["wsj-renew-ctaurl1-2"]||""):"m"===o&&(s=t["wsj-renew-ctaurl2-1"],i=t["wsj-renew-ctaurl2-2"]||""):d&&("c"===d?(s=t["wsj-bol-renew-ctaurl1-1"],i=t["wsj-bol-renew-ctaurl1-2"]||""):"m"===d&&(s=t["wsj-bol-renew-ctaurl2-1"],i=t["wsj-bol-renew-ctaurl2-2"]||"")),s&&i?(i=s+i,i=(i="userprofile"!==(f||"").toLowerCase()&&(a=i.match(/(.*)((\&|\?)mod=([^&]*))(.*)/))&&6<=a.length?a[1]+a[3]+"mod="+f+a[5]:i).replace(/(\?|&)ec=([^&]*)/,function(e,t,n){return t+"ec="+n.toUpperCase()}),u(null,i)):u()):u()}).catch(function(e){return u(e)})},get1stPartyData:function(c,s){fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.profile)throw Error("Invalid Profile Data");for(var t=0;t<e.profile.length;++t){var n=e.profile[t];if(n.item)for(var r=0;r<n.groups.length;++r)if(n.groups[r].group===c)return s(null,n.item)}return s()}).catch(function(e){return s(e)})},getQueryVariable:function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]===e)return r[1]}return!1},getSection:function(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){var n=e["recs-category"].split("/"),e=n[0];if(1<n.length){n=n[0]+"/"+n[1];if(t[n])return t[n]}if(t[e])return t[e];if(e.length)return e}return"WSJ"},slideUp:function(t,n,r){if(t){r="function"==typeof r?r:function(){};var e=t.clientHeight||t.offsetHeight;if(0===n)return t.style.height=0,void(t.style.display="none");n=isNaN(n)?400:n;var c=t.style.height=e,s=Math.round(25*e/n),a=new Date,i=setInterval(function(){var e=new Date;if(c<=0||n<=e-a)return clearInterval(i),t.style.height=0,t.style.display="none",r();c-=s,t.style.height=c+"px"},25)}},getSubscribedNewsletterIds:function(s){"function"==typeof s&&fetch("/newsletters/svc/signup/2",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.subscriptions)throw Error("Invalid User Subscriptions Data");for(var t=e.subscriptions,n=t.length,r=[],c=0;c<n;c++)"object"==typeof t[c]&&t[c].opt_in&&r.push(t[c].id);return s(null,r)}).catch(function(e){return s(e,[])})},signupGuestPass:function(e,t,n){var r,c;e&&t&&(r=isNaN(parseInt(t))?-1:parseInt(t),c=0===document.location.pathname.indexOf("/membership/")?"https://www.wsj.com":document.location.href,c={email:e,type:t,userId:cX.getCookie("cX_P"),url:c},fetch("/emailsignup/enroll",{method:"POST",credentials:"include",body:JSON.stringify(c),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){if(!e||e.code)throw Error(e.message);7===r?cxdj.reportInteractionEvent("GuestPass7DSuccess"):2===r&&cxdj.reportInteractionEvent("GuestPass2DSuccess"),cX.setUserProfileParameters({userEvent:"EmailOfferGrantedArticleCover"}),e&&e.url&&(window.location.href=e.url)}).catch(function(e){n&&(n.innerHTML=e||"Unable to process request"),cxdj.reportInteractionEvent("EmailOfferError",{error:e})}))},signupMemberGetMember:function(t,e,n,r,c,s){n&&(s="function"==typeof s?s:function(){},fetch("/emailthis/member-signup",{method:"POST",credentials:"include",body:JSON.stringify({to:n,"g-recaptcha-response":e}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(r,c,!0),s(),grecaptcha.reset(t)}).catch(function(e){r.style.display="none",c.innerHTML="<p>An unexpected error occurred and we were unable to send the invite</p>",cxenseOffers.fadeIn(c,0),grecaptcha.reset(t)}))},_signupNewsletterAsSub:function(t,n){var r={"wsj.com":{url:"/newsletters/svc/signup/2"},"barrons.com":{url:"/newsletters/svc/signup/30"},"marketwatch.com":{url:"/newsletters/svc/signup/114"}};if(r[cxdj.meta.topDomain])return"blogs.wsj.com"===window.location.hostname&&(url="https://www.wsj.com"+url),fetch(r[cxdj.meta.topDomain].url,{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.email)throw Error("Invalid Email Data");e={email:e.email,subscription:{}};return e.subscription[t]=n,fetch(r[cxdj.meta.topDomain].url,{method:"PATCH",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"})})},candybarSignupNewsletterAsSub:function(t,n,r,c,s,a){t&&n&&(s="function"==typeof s?s:function(){},cxenseOffers._signupNewsletterAsSub(t,!0).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers._hideElement(n),cxenseOffers.fadeIn(r,0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:t}),a=a?"_"+a:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:t,module_tracker:"cxense_module"+a}),s()}).catch(function(e){cxenseOffers._hideElement(n),cxenseOffers.fadeIn(c,0)}))},signupNewsletterAsSub:function(t,n,r,c,s){t&&n&&(c="function"==typeof c?c:function(){},cxenseOffers._signupNewsletterAsSub(t,!0).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(n,r,!0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:t}),s=s?"_"+s:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:t,module_tracker:`cxense_module${s}`}),c()}).catch(function(e){cxenseOffers.showSignupMessage(n,r,!1)}))},signupNewsletterAsNonSub:function(t,n,r,c,s,a,i){var o={"wsj.com":{url:"/newsletters/svc/signup/2/simple-signup",editionId:"WSJ-EN_US"},"barrons.com":{url:"/newsletters/svc/signup/30/simple-signup",editionId:"BARRONS-EN_US"},"marketwatch.com":{url:"/newsletters/svc/signup/114/simple-signup",editionId:"MARKETWATCH-EN_US"}};o[cxdj.meta.topDomain]&&(a="function"==typeof a?a:function(){},cxenseOffers.injectRecaptchaScript(function(){grecaptcha.ready(function(){grecaptcha.execute("6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",{action:"social"}).then(function(e){t&&n&&(e={emailAddress:t,newsletterIds:[parseInt(n)],marketing:s,returnLink:"http://www."+cxdj.meta.topDomain,editionId:o[cxdj.meta.topDomain].editionId,displayContextId:"ONE_CLICK_REGISTRATION","g-recaptcha-response":e},fetch(o[cxdj.meta.topDomain].url,{method:"POST",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(r,c,!0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:n}),i=i?"_"+i:"",utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:n,module_tracker:`cxense_module${i}`}),a()}).catch(function(e){cxenseOffers.showSignupMessage(r,c,!1)}))})})}))},signupForElectionOpenHouse:function(t){var e={url:window.location.href};fetch("/emailsignup/electionOpenhouse",{method:"POST",credentials:"include",body:JSON.stringify(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){if(!e||!e.redirectUrl)throw Error("Invalid HTTP Status Code");t(null,e.redirectUrl)}).catch(function(e){t(e)})},showSignupMessage:function(e,t,n){e&&t&&(e.style.display="none",n||(t.innerHTML='<p>We could not Subscribe you at this time.<a href="https://'+window.location.host+'/newsletters">Manage your subscription manually</a></p>'),cxenseOffers.fadeIn(t,0))},submitJobForm:function(e,t){t="function"==typeof t?t:function(){};fetch("/user/fpd/api/profile",{method:"POST",credentials:"include",body:cxenseOffers._convertDataFormat(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return cxdj.reportInteractionEvent("p13nScrim",{submitType:"successfulSubmit"}),t(null)}).catch(function(e){return t(e)})},isUserInUs:function(){var e=!1,t=document.cookie.match(/DJSESSION=([^;]*);/);return e=t?-1!==(t=decodeURIComponent(t[1])).indexOf("country=us"):e},getVxid:function(){var e=document.cookie.match(/TR=V2-([^;]*)/);return e&&1<e.length?e[1]:void 0},getCxenseId:function(){var e=document.cookie.match(/cX_P=([^;]*)/);return e&&1<e.length?e[1]:void 0},isEmailValid:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},isEmailInputValidated:function(e,t){if(!e||!t)return!1;var n="1px solid #cccccc",r="1px solid #f12b2b",c="",s="Please enter your Email",a="Please enter a valid Email",i=e.value;return""!==i&&this.isEmailValid(i)?(t.textContent=c,e.style.border=n,!0):(""===i?t.textContent=s:this.isEmailValid(i)||(t.textContent=a),e.style.border=r,!1)},handleNewsletterInputsChange:function(e,t,n,r,c){var s=!0;function a(){s?s=!1:cxenseOffers.isNewsletterInputsValidated(e,t,n)}e&&e.addEventListener("change",function(e){e.stopPropagation(),a()}),n&&n.addEventListener("change",function(e){e.stopPropagation(),a()}),r&&r.addEventListener("change",function(e){e.stopPropagation(),c&&(c.style.display=r.checked?"block":"none")})},isNewsletterInputsValidated:function(e,t,n){if(!e||!t||!n)return!1;var r="1px solid #cccccc",c="1px solid #f12b2b",s="",a="You must click the Policy Agreement checkbox & enter Email",i="Please enter your Email",o="You must click the Policy Agreement checkbox",d="Please enter a valid Email",f=e.value,n=n.checked;return""!==f&&n?this.isEmailValid(f)?(t.textContent=s,e.style.border=r,!0):(t.textContent=d,e.style.border=c,!1):(n||""!==f?n?""===f&&(t.textContent=i,e.style.border=c):(t.textContent=o,e.style.border=r):(t.textContent=a,e.style.border=c),!1)},throttle:function(e,t){var n=!1;return function(){n||(e.apply(null,arguments),n=!0,setTimeout(function(){n=!1},t))}},pageScrollDown:function(e,n,t){var r,c,s;isNaN(e)||100<e||e<0||(r=window.innerHeight,c=document.documentElement.scrollHeight||document.body.clientHeight,s=(c-r)*e/100,r<c?window.addEventListener("scroll",function t(){window.requestAnimationFrame(function(){var e=window.pageYOffset;s<=e&&"function"==typeof n&&(n(),window.removeEventListener("scroll",t))})}):"function"==typeof t&&t())},pageScroll:function(e,n,r,t){var c,s,a,i;isNaN(e)||100<e||e<0||(c=!1,s=window.innerHeight,a=document.documentElement.scrollHeight||document.body.clientHeight,i=(a-s)*e/100,s<a?window.addEventListener("scroll",cxenseOffers.throttle(function(e){var t=window.pageYOffset;i<=t&&!c?("function"==typeof n&&n(),c=!0):t<i&&c&&("function"==typeof r&&r(),c=!1)},50)):"function"==typeof t&&t())},fadeIn:function(t,e,n){t&&(e<=0&&(cxenseOffers._showElement(t),cxenseOffers._setOpacity(t,100)),n="function"==typeof n?n:function(){},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing:function(e){return e},draw:function(e){cxenseOffers._setOpacity(t,100*e),1===e&&(cxenseOffers._showElement(t),n())}}))},fadeOut:function(t,e,n){t&&(e<=0&&(cxenseOffers._hideElement(t),cxenseOffers._setOpacity(t,0)),n="function"==typeof n?n:function(){},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing:function(e){return e},draw:function(e){cxenseOffers._setOpacity(t,100*(1-e)),1===e&&(cxenseOffers._hideElement(t),n())}}))},_showElement:function(e){e.style.display="block",e.style.visibility="visible"},_hideElement:function(e){e.style.display="none",e.style.visibility="hidden"},_setOpacity:function(e,t){e.style.opacity=t/100,e.style.filter="alpha(opacity="+t+")"},_animate:function(r){var c=performance.now();requestAnimationFrame(function e(t){var n=(t-c)/r.duration,t=r.timing(n=1<n?1:n);r.draw(t),n<1&&requestAnimationFrame(e)})},injectFstDropdown:function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","https://"+cxdj.cdnDomain+"/static_html_files/cxense/fstdropdown.min.css"),document.getElementsByTagName("head")[0].appendChild(t);t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","https://"+cxdj.cdnDomain+"/static_html_files/cxense/fstdropdown.min.js"),t.onload=function(){setFstDropdown()},document.getElementsByTagName("head")[0].appendChild(t)},injectRecaptchaScript:function(e){if(e="function"==typeof e?e:function(){},"undefined"!=typeof grecaptcha)return e();var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?render=6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",t.setAttribute("async",""),t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)},_isDivEmpty:function(e){if(!e)return!0;for(var t,n,r=[e];0!==r.length;)for(var c=r.length,s=0;s<c;s++){if("object"==typeof(t=r.shift())&&"string"==typeof t.textContent&&""!==t.textContent.trim())return!1;if("object"==typeof t&&"object"==typeof t.children)for(var a=0;a<t.children.length;a++)n=t.children[a],r.push(n)}return!0},lazyLoad:function(e,t){t="function"==typeof t?t:function(){};var n,r=document.getElementById(e);r&&(n=new IntersectionObserver(function(e){e[0].isIntersecting&&(t(),n.unobserve(r))})).observe(r)},isDivVisibleInViewport:function(e){if(!e)return!1;var t=window.pageYOffset,n=t+window.innerHeight,r=e.getBoundingClientRect().top+t,e=r+(e.clientHeight||e.offsetHeight);return r<=n&&t<=r||t<=e&&e<=n},getModCode:function(e){if("string"!=typeof e||0===e.length)return"";e=e.match(/[?&]mod=([^&#]*)/);return e?e[1]:""},signupFreeregUser:function(e,t,n){if(!/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(e))return n("Invalid Email Address");fetch("/emailsignup/freereg",{method:"POST",body:JSON.stringify({email:e,type:t,url:window.location.href}),headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){return e&&e.redirectUrl?n(null,e.redirectUrl):n("Unable to Retrieve Free Article")}).catch(function(e){return n("Unable to Retrieve Free Article")})},isRetinaDisplay:function(){if("undefined"!=typeof window&&window.matchMedia){var e=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return e&&e.matches||1<window.devicePixelRatio}return!1},sendLinkText:function(r,c){if(c="function"==typeof c?c:function(){},!r)return c("Please enter your phone number.");cxenseOffers.injectRecaptchaScript(function(){grecaptcha.ready(function(){var n={"wsj.com":"88b2f8b2-9d37-4a6c-8d63-5cdc4da9210f","barrons.com":"b3c3a3a5-eff0-4ebd-a1f4-53a670e36dd5"};grecaptcha.execute("6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",{action:"social"}).then(function(e){var t="https://api.linktexting.com/sendLink?";t+="linkId="+n[cxdj.meta.topDomain]+"&number="+r,fetch(t,{method:"POST"}).then(function(e){return e.json()}).then(function(e){if(!e)throw Error(e);c(null)}).catch(function(e){c(e)})})})})},setLinkTextingConfiguration:function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","https://d22hhoe037sl7u.cloudfront.net/1.7/css/link_texting_gz.min.css"),document.getElementsByTagName("head")[0].appendChild(e);e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","https://s3.amazonaws.com/linktexting-cdn/1.7/js/link_texting_gz.min.js"),document.getElementsByTagName("head")[0].appendChild(e),window.linkTextingDefaultCountryOff=!1,window.linkTextingPreferredCountries=["us","ca"],window.linkTextingOnlyCountries=["af","al","dz","as","ad","ao","ai","ag","ar","am","aw","au","at","az","bs","bh","bd","bb","by","be","bz","bj","bm","bt","bo","ba","bw","br","io","vg","bn","bg","bf","bi","kh","cm","ca","cv","bq","ky","cf","td","cl","cn","co","km","cd","cg","ck","cr","ci","hr","cu","cw","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","et","fk","fo","fj","fi","fr","gf","pf","ga","gm","ge","de","gh","gi","gr","gl","gd","gp","gu","gt","gn","gw","gy","ht","hn","hk","hu","is","in","id","ir","iq","ie","il","it","jm","jp","jo","kz","ke","ki","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mo","mk","mg","mw","my","mv","ml","mt","mh","mq","mr","mu","mx","fm","md","mc","mn","me","ms","ma","mz","mm","na","nr","np","nl","nc","nz","ni","ne","ng","nu","nf","kp","mp","no","om","pk","pw","ps","pa","pg","py","pe","ph","pl","pt","pr","qa","re","ro","ru","rw","bl","sh","kn","lc","mf","pm","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sx","sk","si","sb","so","za","kr","ss","es","lk","sd","sr","sz","se","ch","sy","tw","tj","tz","th","tl","tg","tk","to","tt","tn","tr","tm","tc","tv","vi","ug","ua","ae","gb","us","uy","uz","vu","va","ve","vn","wf","ye","zm","zw"]},_convertDataFormat:function(e){var t,n={items:[]};for(t in e)n.items.push({field:t,value:e[t]});return JSON.stringify(n)},sendToProfile:function(e,t){t="function"==typeof t?t:function(){};fetch("user/fpd/api/cxprofile",{method:"POST",credentials:"include",body:cxenseOffers._convertDataFormat(e),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return t(null)}).catch(function(e){return t(e)})},unPauseDigitalSubscription:function(){var t={staging:"https://customercenter-newlz.s.dev.wsj.com",prod:"https://customercenter.wsj.com"},e=t[cxdj.env]+"/api/subscriptions/restartSubscription",n="https://"+("staging"===cxdj.env?"int.":"")+"accounts.wsj.com/refresh?url="+window.location.href;fetch(e,{method:"POST",credentials:"include",body:JSON.stringify({brand:"WSJ"}),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");window.location.href=n}).catch(function(e){window.location.href=t[cxdj.env]+"/public"})}};
//# sourceMappingURL=cxense-candy.js.map