define("components/sharedUI/datePicker",["FR","jquery","moment","underscore","bootstrap-datetimepicker","services/responsiveUtil"],function(e,t,a,i,d,o){var n={overlay:t(".body__overlay")},r=function(){t(".datePicker").each(s),e.$el.window.trigger("ApplicationDOM_Changed"),e.$el.window.trigger("date-pickers-ready")},s=function(){var d=0,r=t(this),s=r.find(".input-group"),l=r.find(".datePicker__sub-label"),c=s.attr("data-min-date"),p=s.attr("data-max-date"),f=s.attr("data-disabled-dates"),m=s.attr("data-enabled-dates"),u=s.attr("data-default-date"),g="true"==s.attr("data-isinline"),h="true"==s.attr("data-multi-select"),k=parseInt(s.attr("data-scroll-offset"),10)||30,D=s.attr("data-horizontal-position")||"right",b=s.attr("data-vertical-position")||"bottom",w=s.attr("data-sub-label-date-format")||"ddd, MMMM D, YYYY",v={allowInputToggle:!0,dayViewHeaderFormat:"MMMM YYYY",debug:!1,extraFormats:["MM/DD/YY"],format:"MM/DD/YYYY",icons:{previous:"icon-arrow-gallery-left",next:"icon-arrow-gallery-right"},useCurrent:!1,widgetPositioning:{horizontal:D,vertical:b},showClose:!0,focusOnShow:!0,ignoreReadonly:!0,inline:g},y=[],P=function(e){var t;s.data("DateTimePicker")&&(t=s.data("DateTimePicker").date()),t?(r.addClass("datePicker--active"),l.html(t.format(w))):(r.removeClass("datePicker--active"),l.html(""))},Y=function(){var e=s.find("input");o.isMobile()?(e.attr("readonly",!0),s.data("DateTimePicker").focusOnShow(!1)):(e.attr("readonly",!1),s.data("DateTimePicker").focusOnShow(!0))},M=function(){var e=s.find(".datepicker-days");if(!(e.length<1)){var a=e.find(".picker-switch"),i=a.html();if(0===a.find(".datePicker__month").length){var d=i.split(" "),n='<span class="datePicker__month">'+d[0]+'</span><br /><span class="datePicker__year">'+d[1]+"</span>";a.removeAttr("title").html(n).on("click",function(e){e.stopPropagation()}),e.find(".dow").each(function(){var e=t(this);e.html(e.html().substring(0,1))}),t(".bootstrap-datetimepicker-widget.bottom").css("top","77px"),o.isMobile()?t(".bootstrap-datetimepicker-widget.top").css("bottom","auto"):t(".bootstrap-datetimepicker-widget.top").css("bottom","77px"),_()}s.find(".bootstrap-datetimepicker-widget .datepicker-days table tr").each(function(){var e=t(this),a=e.find(".day.new").length;a>0&&a==e.find(".day").length&&e.hide()})}},T=function(e){i.contains(y,e)?(y.splice(t.inArray(e,y),1),s.trigger("datepicker-selected-dates-changed",{selectedDates:y,selectedDate:e,isAdded:!1})):(y.push(e),s.trigger("datepicker-selected-dates-changed",{selectedDates:y,selectedDate:e,isAdded:!0})),setTimeout(_,0)},_=function(){!0===h&&(s.find(".day").removeClass("active picked"),i.each(y,function(e){s.find('[data-day="'+e+'"]').addClass("picked")}))};c&&(v.minDate=a(c,"MM/DD/YYYY")),p&&(v.maxDate=a(p,"MM/DD/YYYY")),u&&(v.defaultDate=a(u,"MM/DD/YYYY")),f&&(v.disabledDates=f.split(",")),m&&(v.enabledDates=m.split(",")),g&&(s.find(".form-control").css("display","none"),s.find("span.input-group-addon").css("display","none")),v.minDate&&v.maxDate&&v.minDate.isAfter(v.maxDate)&&(delete v.maxDate,s.find("input").prop("disabled",!0)),s.datetimepicker(v),null===s.data("DateTimePicker").date()&&(c?s.data("DateTimePicker").date(s.data("DateTimePicker").minDate()):u&&s.data("DateTimePicker").date(s.data("DateTimePicker").defaultDate()),s.data("DateTimePicker").date(null)),s.off(),e.$el.window.trigger("ApplicationDOM_ClearEventListenerCache",{element:s}),s.data("isInitialized",!0),s.on("dp.show dp.update dp.change",M),s.on("dp.show",function(){if(s.parents(".global_modal ").length>0)setTimeout(function(){s.find(".bootstrap-datetimepicker-widget").addClass("in-modal")},0);else if(n.overlay.addClass("body__overlay--shown"),s.closest(".datePicker").addClass("datePicker--modal"),o.isMobile())d=e.$el.window.scrollTop(),e.$el.body.css("overflow","hidden"),e.$el.body.css("position","fixed"),e.$el.window.scrollTop()>0&&e.$el.window.scrollTop(0);else{var a=t(this).offset();e.$el.htmlBody.animate({scrollTop:a.top-(e.$el.mainNav.outerHeight(!0)+k)})}}),s.on("dp.hide",function(){n.overlay.removeClass("body__overlay--shown"),e.$el.body.css("overflow",""),e.$el.body.css("position",""),d&&o.isMobile()&&(e.$el.window.scrollTop(d),d=0),s.parent().removeClass("datePicker--modal")}),e.$el.window.on("resize",i.debounce(function(){s.trigger("resizeTriggered")},250)),s.on("resizeTriggered",function(){Y()}),s.on("dp.change",P),h&&(s.find(".datepicker").on("click",".day",function(e){e&&e.preventDefault(),t(this).hasClass("disabled")||T(t(this).attr("data-day")),setTimeout(M,0)}),s.on("datepicker-toggle-selected-date",function(e,t){T(t)}),s.on("datepicker-clear-selected-dates",function(){y=[],_()})),s.on("datepicker-set-disabled-dates",function(e,t){s.data("DateTimePicker").disabledDates(t.disabledDates),M()}),s.on("datepicker-go-to-date",function(e,t){s.data("DateTimePicker").date(t.newDate),M()}),g||Y(),P()};return t(function(){return r()}),{init:r,initDatePickerInstance:s}});
//# sourceMappingURL=datePicker.js.map
