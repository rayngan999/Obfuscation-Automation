define(["modules/id.core"],function(e){"use strict";e.utils.log("loading id.jumpToWithOffset.js");var t,n,o="offsetAnchor",i='<span class="id-JumpToOffsetHelper"><span id="'+o+'" class="id-JumpToOffsetHelper-inner"></span></span>';return e.event.subscribe(e.event.constants.JUMP_TO_WITH_OFFSET_JUMP,function(e){n(e)},this),n=function(t){var n=e.dom.$(e.dom.util.create(i));n.insertBefore(t),window.scrollTo(0,e.dom.$("#"+o,n).offset().top),n.remove(),e.event.publish(e.event.constants.JUMP_TO_WITH_OFFSET_JUMPED,{anchorId:t.id||""})},t=function(){this.conf={preventAnchorJumpClassNames:"idjs-simpletab-nav-item idjs-preventJumpToWithOffset"},this.findAnchors=function(t){var n=e.dom.$("a",t),o=[],i=window.location.href.split("#")[0],s=this;return n.each(function(t){""!==t.hash&&t.href&&t.href.split&&i===t.href.split("#")[0]&&(e.dom.$(t).hasClass(s.conf.preventAnchorJumpClassNames)||o.push(t))}),o},this.getTargetFromLink=function(t){var n=!1,o=t.hash.split("#")[1];return n=document.getElementById(o),n||(n=e.dom.$("[name="+o+"]")[0]),n},this.initJumpToOnClick=function(t,o){e.dom.bind(t,"click",function(e){e.preventDefault(),n(o)})},this.doJump=function(e){n(e)},this.init=function(t){var n,o,i=this.findAnchors(t),s=window.location.hash,r=i.length;for(n=0;r>n;n+=1)o=this.getTargetFromLink(i[n]),o&&this.initJumpToOnClick(i[n],o);void 0!==s&&this.doJump(e.dom.$(s))}}});