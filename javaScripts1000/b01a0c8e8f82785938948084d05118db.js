/*! 20210802-4-RELEASE */

!function(){let t=!1,e=100;function n(n=.6){if(t)return;const r=i(n);r&&(e=TRCImpl.global["distance-violation-threshold"]||e,r.containerWithShortestDistFromArticle.distance<e?t=!0:a(r.articleElement,r.containerWithShortestDistFromArticle.distance))}function i(t=.6){const{articleElement:e,taboolaContainers:n,lowestContainer:i}=TRC.ArticleDetection.detectArticle(t),s=c(e,i);if(!e)return;const l=n.filter(t=>r(t,s));let a=l.map(t=>({container:t,distance:o(t,s)}));const u=a.every(t=>t.distance<=0);u?a.forEach(t=>{t.distance=Math.abs(t.distance)}):a=a.filter(t=>t.distance>0);const f=a.sort((t,e)=>t.distance-e.distance).shift();return f?{articleElement:e,containerWithShortestDistFromArticle:f}:void 0}function r(t,e){const n=o(t),i=o(e);return!r(n,i);function r(t,e){return t.x2<e.x1||e.x2<t.x1}function o(t){const e=l(t),n=e+t.offsetWidth,i={x1:e,x2:n};return i}}function o(t,e){const n=s(e)+e.offsetHeight,i=s(t);return i-n}function c(t,e){let n;return t.contains(e)&&(n=u(t,e)),n||t}function s(t){return t.getBoundingClientRect().top+window.pageYOffset}function l(t){return t.getBoundingClientRect().left+window.pageXOffset}function a(n,i){const r={distance:i,articleClasses:n.className,articleTag:n.nodeName,threshold:e},o={event_type:"END_OF_ARTICLE_MEASUREMENT",event_state:"REPORTED",event_value:JSON.stringify(r)};TRCImpl.sendEvent("supply-feature",{d:JSON.stringify(o)},null),TRC.util.isPercentEnabled(TRCImpl.global,"take-screenshot-on-violation")&&TRC.ModuleLoader.load("screenshot-capture",TRC.screenshotCaputre,function(){TRC.screenshotCaputre.init(document.body,{keepImages:!0})}.trcBind(this)),t=!0}function u(t,e){const n=f(t,e);return d(t,n)}function f(t,e){for(let n=0;n<t.children.length;++n)if(t.children[n].contains(e))return t.children[n]}function d(t,e){let n=e.previousElementSibling;for(;n;){const t=TRC.ArticleDetection.getAllTextLengthInElement(n);if(t)return n;n=n.previousElementSibling}}TRC.DistanceFromArticle={measureAndReport:n,measure:i},window._trcIsUTactive&&(TRC.DistanceFromArticle.report=a)}();