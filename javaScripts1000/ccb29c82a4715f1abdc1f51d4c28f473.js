(self.webpackChunkweb_shell=self.webpackChunkweb_shell||[]).push([[6384],{6384:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var o=n(3003),r=n(9297),i=n.n(r),l=n(2268),a=n.n(l),s=n(40),u=n(9511),c=n(6748),f=n(4652),p=n(902),d=n(5827),h=n(4829),w=n(1563),g=n(8385),y=n.n(g),m=n(1178),b=n.n(m);const v={Chrome:"https://www.google.com/chrome/",IE:"https://www.microsoft.com/en-us/edge",Edge:"https://www.microsoft.com/en-us/edge",Firefox:"https://www.mozilla.org/en-US/firefox/new/",Safari:"https://support.apple.com/downloads/safari",Opera:"https://www.opera.com/computer",default:"https://www.google.com/chrome/"};function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(s,e);var t,n,o,r,l=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(o);if(r){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={open:!0},t}return t=s,(n=[{key:"getWarningTitle",value:function(){let e="Your web browser is out of date!";const t="undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.browserInfo;return t&&t.name&&t.version&&(e="Your web browser (".concat(t.name," ").concat(t.version,") is out of date!")),e}},{key:"getPageMessage",value:function(){const{open:e}=this.state,t=this.getWarningTitle(),n=(()=>{const e=window.__shellInternal&&window.__shellInternal.browserInfo&&window.__shellInternal.browserInfo.currentBrowser,t=e&&e.name||"default";return v[t]})();return i().createElement(y(),{title:t,type:"warn",open:e,onClose:()=>this.setState({open:!1})},i().createElement("div",{className:"message-content"},"Intuit recommends updating your browser for more security, speed and the best experience on this site.",i().createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},"Get the latest version")),i().createElement("div",{className:"do-not-show-check"},i().createElement(b(),{onChange:this.handleDoNotShowAgain},"Do not show this message again")))}},{key:"handleDoNotShowAgain",value:function(){try{"undefined"!=typeof window&&window.localStorage.setItem("showYellowBrowser",!1)}catch(e){d.Z.error("YellowBrowserMessage localStorage error",{},e)}}},{key:"render",value:function(){if("undefined"==typeof document)return;const e="yellow-browser",t=document.getElementById("app");let n;return document.getElementById(e)?n=document.getElementById(e):(n=document.createElement("div"),n.id=e),t&&t.prepend(n),a().createPortal(this.getPageMessage(),n)}}])&&_(t.prototype,n),s}(i().Component);var P=n(3856);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}let N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(a,e);var t,n,o,r,l=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(o);if(r){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=l.call(this,e)).state={shellWidget:null,trowserWidget:null,widgetSystemCallBacks:new P.t},t.shellLayout=null,t.pageWidgetHooks=null,t.appTheme=(0,p.Z8)(),t._renderShellWidgetForLayout=t._renderShellWidgetForLayout.bind(L(t)),t.widgetRef=i().createRef(),t}return t=a,(n=[{key:"getRenderedWidgetInstance",value:function(){const{current:e}=this.widgetRef;return e||null}},{key:"_renderShellWidgetForLayout",value:function(e,t,n){const{shellWidget:o,routeInfo:r,widgetSystemCallBacks:l}=this.state,{widgetClass:a,widgetProps:s,initialProps:u,widgetId:f,pluginSandbox:p,widgetDescriptor:d}=o;return i().createElement(c.Z,{systemCallbacks:l,layoutCallbacks:e,widgetContext:t,widgetDescriptor:d,pageHooks:this.pageWidgetHooks,routeInfo:r,widgetProps:s,initialProps:u,widgetId:f,pluginSandbox:p,options:n},(e=>{let{key:t}=e,n=C(e,["key"]);return i().createElement(a,S({ref:this.widgetRef,key:t},n))}))}},{key:"_renderShell",value:function(){const e=this.shellLayout,{shellWidget:t,routeInfo:n}=this.state;return e&&t?i().createElement(e,{renderWidget:this._renderShellWidgetForLayout,routeInfo:n}):null}},{key:"_renderTrowser",value:function(){const{trowserWidget:e,routeInfo:t,widgetSystemCallBacks:n}=this.state,{widgetClass:o,widgetProps:r,initialProps:l,widgetId:a,pluginSandbox:s}=e||{};return e?i().createElement(c.Z,{systemCallbacks:n,pageHooks:this.pageWidgetHooks,routeInfo:t,widgetProps:r,widgetId:a,pluginSandbox:s,initialProps:l},(e=>{let{key:t}=e,n=C(e,["key"]);return i().createElement(o,S({key:t},n))})):null}},{key:"addShellLayout",value:function(e){this.shellLayout=e||null}},{key:"shouldWidgetUnload",value:function(){const e=this.pageWidgetHooks.getWillUnloadHook();if(!e||"function"!=typeof e)return!0;const t=e();return void 0===t||t}},{key:"unMountShellWidget",value:function(e){const{shellWidget:t}=this.state;t&&t===e&&this.setState({shellWidget:null,routeInfo:null})}},{key:"shouldRenderYellowBrowserPageMessage",value:function(){if("undefined"==typeof window)return!1;let e=!1,t=!1;try{e="false"!==window.localStorage.getItem("showYellowBrowser")&&!h.Z.isExperimentApplicable("disable-yellow-browser-for-apps"),t=window.__shellInternal&&window.__shellInternal.browserInfo&&window.__shellInternal.browserInfo.isYellowBrowser}catch(e){d.Z.error("App shouldRenderYellowBrowserPageMessage localStorage error",{},e)}return e&&t}},{key:"renderShellWidget",value:function(e,t,n){this.pageWidgetHooks=new f.Z,n&&(0,w.v)();const o=(0,p.TZ)(),r=new P.t(n);this.setState({shellWidget:e,trowserWidget:null,widgetSystemCallBacks:r,routeInfo:j(j({},t),{},{navigationRoot:o})})}},{key:"renderTrowserWidget",value:function(e,t){this.pageWidgetHooks=new f.Z;const n=(0,p.TZ)();this.setState({trowserWidget:e,routeInfo:j(j({},t),{},{navigationRoot:n})})}},{key:"render",value:function(){const e=this._renderShell(),t=this._renderTrowser(),n=this.shouldRenderYellowBrowserPageMessage();return i().createElement(u.Theme,{theme:this.appTheme},i().createElement(s.ThemeProvider,{theme:this.appTheme},i().createElement("div",{id:"app",className:"app-shell"},n&&i().createElement(E,null),i().createElement("div",{className:"shell-view"},e),i().createElement("div",{className:"trowser-view"},t),i().createElement("div",{className:"portal-view",id:"portal-root"}))))}}])&&x(t.prototype,n),a}(i().Component);function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}let M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(s,e);var t,n,o,r,l=(o=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(o);if(r){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e))._managedLayouts={},t.containerNode=t.containerNode||"undefined"!=typeof document&&document.body||null,t.appComponent=null,t}return t=s,(n=[{key:"onApplicationReady",value:function(){const e=this.getLayout("shell");if(!e)throw new Error("A shell layout wasn't found.");this.renderApp(),this.appComponent.addShellLayout(e)}},{key:"getLayout",value:function(e){return this._managedLayouts[e]||null}},{key:"addLayout",value:function(e,t){if(this.getLayout(e))throw new Error("A layout already exists with the name: ".concat(e));this._managedLayouts[e]=t}},{key:"renderApp",value:function(){if("undefined"==typeof document)return;const e="___appshell";let t=document.getElementById(e);if(!t){const n=document.createElement("div");n.id=e,t=n}a().render(i().createElement(N,{ref:e=>this.appComponent=e}),this.containerNode.appendChild(t))}},{key:"getRenderedWidgetInstance",value:function(){return this.appComponent.getRenderedWidgetInstance()}},{key:"displayView",value:function(e,t){return Promise.resolve().then((()=>{if(!t||!this.appComponent)throw new Error("appComponent or layout is not available");const n=t.layout||"shell",o=e.getWidgetRenderInfo(),r=e.getRouteInfo(),i="function"==typeof e.getWidgetLifecycleCallbacks&&e.getWidgetLifecycleCallbacks()||null;try{n.indexOf("trowser")>=0?this.appComponent.renderTrowserWidget(o,r):this.appComponent.renderShellWidget(o,r,i),"function"==typeof e.updateRenderedWidget&&e.updateRenderedWidget(this.getRenderedWidgetInstance())}catch(e){throw e.message="appComponent failed to load the widget. widget=".concat(o&&o.widgetId||"unknown"," message=").concat(e.message),e}}))}},{key:"removeView",value:function(e,t){return Promise.resolve().then((()=>{if(!t||!this.appComponent)throw new Error("appComponent or layout is not available");const n=t.layout||"shell",o=e.getWidgetRenderInfo();try{n.indexOf("shell")>=0&&this.appComponent.unMountShellWidget(o)}catch(e){throw e.message="appComponent failed to unload the widget. widget=".concat(o&&o.widgetId||"unknown"," message=").concat(e.message),e}}))}},{key:"_resetLayoutsOnRouteChange",value:function(){}},{key:"readyToUnload",value:function(){let e;try{e=this.appComponent.shouldWidgetUnload()}catch(e){this._logger.error("An error occurred trying to execute willUnload page hook: ".concat(e.message))}return Promise.resolve(e)}}])&&A(t.prototype,n),s}(o.Z)},902:(e,t,n)=>{"use strict";function o(){return"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.appExperience&&window.__shellInternal.appExperience.appTheme||"intuit"}function r(){if("undefined"==typeof window)return{host:""};const{host:e}=window.location;if(window.__shellInternal&&window.__shellInternal.appExperience){const{appExpId:t,plugins:n}=window.__shellInternal.appExperience;return{appExpId:t,plugins:n,host:e}}return{host:e}}function i(){return"undefined"!=typeof window&&window.__shellInternal&&window.__shellInternal.navigationRoot||void 0}n.d(t,{Z8:()=>o,Ye:()=>r,TZ:()=>i})}}]);
//# sourceMappingURL=6384.js.map