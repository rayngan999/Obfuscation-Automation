window.cpexAAMVersion="20.08.03 - Standalone - Progress 6";var cpex_AAM_conf={publisher:"CPEx",state:"publisher",partner:"cpex",private:"",namespace:8,shortener:!0,debug:!1,behavior:{trackLinks:!0,strictGDPR:!0,waitForTCF2:!0}},e=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t,n){var i=null==e?void 0:e[t];return void 0===i?n:i}function i(e,t){if(e===t)return 0;var n=e.toString().split("."),i=t.toString().split(".");return function(e){for(var t=/^\d+$/,n=0,i=e.length;n<i;n++)if(!t.test(e[n]))return!1;return!0}(n.concat(i))?(function(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}(n,i),function(e,t){for(var n=0;n<e.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(r>i)return-1}return 0}(n,i)):NaN}function r(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function o(){function e(e,t){var n=ue(e);return n.length?n.every(function(e){return!!t[e]}):de(t)}function t(){A(S),D(J.COMPLETE),h(g.status,g.permissions),s&&p.set(g.permissions,{optInCookieDomain:c,optInStorageExpiry:l}),m.execute(Ae)}function n(e){return function(n,i){if(!fe(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return D(J.CHANGED),Object.assign(S,pe(ue(n),e)),i||t(),g}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.doesOptInApply,o=i.previousPermissions,a=i.preOptInApprovals,s=i.isOptInStorageEnabled,c=i.optInCookieDomain,l=i.optInStorageExpiry,u=i.isIabContext,d=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,f=Ce(o);be(f,"Invalid `previousPermissions`!"),be(a,"Invalid `preOptInApprovals`!");var p=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:_e,set:_e,remove:_e};var n={remove:function(){t.remove(e)},get:function(){var n=t.get(e),i={};try{i=JSON.parse(n)}catch(n){i={}}return i},set:function(i,r){r=r||{};var o=n.get(),a=Object.assign(o,i);t.set(e,JSON.stringify(a),{domain:r.optInCookieDomain||"",cookieLifetime:r.optInStorageExpiry||3419e4,expires:!0})}};return n}({cookieName:"adobeujs-optin"},{cookies:d}),g=this,h=z(g),m=ie(),y=me(f),v=me(a),I=s?p.get():{},_={},C=function(e,t){return ye(y)||t&&ye(t)?J.COMPLETE:J.PENDING}(0,I),b=function(e,t,n){var i=pe(ne,!r);return r?Object.assign({},i,e,t,n):i}(v,y,I),S=ge(b),D=function(e){return C=e},A=function(e){return b=e};g.deny=n(!1),g.approve=n(!0),g.denyAll=g.deny.bind(g,ne),g.approveAll=g.approve.bind(g,ne),g.isApproved=function(t){return e(t,g.permissions)},g.isPreApproved=function(t){return e(t,v)},g.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?g.on(J.COMPLETE,e):_e;return!r||r&&g.isComplete||a?e(g.permissions):t||m.add(Ae,function(){return e(g.permissions)}),n},g.complete=function(){g.status===J.CHANGED&&t()},g.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Oe);_[e.name]||(_[e.name]=e,e.onRegister.call(e,g))},g.execute=De(_),g.memoizeContent=function(e){Ie(e)&&p.set(e,{optInCookieDomain:c,optInStorageExpiry:l})},g.getMemoizedContent=function(e){var t=p.get();if(t)return t[e]},Object.defineProperties(g,{permissions:{get:function(){return b}},status:{get:function(){return C}},Categories:{get:function(){return $}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return g.status===J.PENDING}},isComplete:{get:function(){return g.status===J.COMPLETE}},__plugins:{get:function(){return Object.keys(_)}},isIabContext:{get:function(){return u}}})}function a(e,t){if(void 0===t)return e;var n=setTimeout(function(){n=null,e.call(e,new r("The call took longer than you wanted!"))},t);return function(){n&&(clearTimeout(n),e.apply(e,arguments))}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!0===e.vendor.consents[t],r=n.every(function(t){return!0===e.purpose.consents[t]});return i&&r}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,i=1;i<arguments.length;++i)for(t in n=arguments[i])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};var l,u,d={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},f={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},p={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},g={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},h={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},m={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},y={GLOBAL:"global"},v={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},I=function(e){function t(){}function n(t,n){var i=this;return function(){var r=e(0,t),o={};return o[t]=r,i.setStateAndPublish(o),n(r),r}}this.getMarketingCloudVisitorID=function(e){e=e||t;var i=this.findField(v.MCMID,e),r=n.call(this,v.MCMID,e);return void 0!==i?i:r()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},_=d,C=f,b={CUSTOMERIDS:"getCustomerIDs"},S=function(){function e(){}Object.keys(C).forEach(function(t){this[C[t]]=function(n){n=n||e;var i=this.findField(t,n),r=function(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(_.GETSTATE),""}}.call(this,t,n);return void 0!==i?i:r()}},this),Object.keys(b).forEach(function(t){this[b[t]]=function(){return this.findField(t,e)||{}}},this)},D=f,A=function(){Object.keys(D).forEach(function(e){this[D[e]]=function(t){this.callbackRegistry.add(e,t)}},this)},O=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)};n.getIeVersion=function(){return document.documentMode?document.documentMode:(e=navigator.appName,t=navigator.userAgent,"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0?7:null);var e,t},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var i=parseInt(e.d_ottl,10);return isNaN(i)&&(i=7200),{optOut:t,d_ottl:i}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}),k=(O.isObjectEmpty,O.isValueEmpty,O.getIeVersion,O.encodeAndBuildRequest,O.isObject,O.defineGlobalNamespace,O.pluck,O.parseOptOut,O.normalizeBoolean,function(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,i=this;return function(){i.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!O.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}),E=d,T={0:"prefix",1:"orgID",2:"state"},M=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,n){void 0!==e&&(t[T[n]]=2!==n?e:JSON.parse(e))}),t}catch(e){}},this.isInvalid=function(n){var i=this.parse(n);if(!i||Object.keys(i).length<2)return!0;var r=e!==i.orgID,o=!t||n.origin!==t,a=-1===Object.keys(E).indexOf(i.prefix);return r||o||a},this.send=function(n,i,r){var o=i+"|"+e;r&&r===Object(r)&&(o+="|"+JSON.stringify(r));try{n.postMessage(o,t)}catch(e){}}},w=d,L=function(e,t,n,i){function r(e){Object.assign(u,e)}function o(e){if(!p.isInvalid(e)){f=!1;var t=p.parse(e);u.setStateAndPublish(t.state)}}function a(e){!f&&d&&(f=!0,p.send(i,e))}function s(){r(new I(n._generateID)),u.getMarketingCloudVisitorID(),u.callbackRegistry.executeAll(u.state,!0),c.removeEventListener("message",l)}function l(e){if(!p.isInvalid(e)){var t=p.parse(e);f=!1,c.clearTimeout(u._handshakeTimeout),c.removeEventListener("message",l),r(new S(u)),c.addEventListener("message",o),u.setStateAndPublish(t.state),u.callbackRegistry.hasCallbacks()&&a(w.GETSTATE)}}var u=this,d=t.whitelistParentDomain;u.state={ALLFIELDS:{}},u.version=n.version,u.marketingCloudOrgID=e,u.cookieDomain=n.cookieDomain||"",u._instanceType="child";var f=!1,p=new M(e,d);u.callbackRegistry=k(),u.init=function(){c.s_c_in||(c.s_c_il=[],c.s_c_in=0),u._c="Visitor",u._il=c.s_c_il,u._in=c.s_c_in,u._il[u._in]=u,c.s_c_in++,Object.keys(n).forEach(function(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(u[e]=function(){})}),u.getSupplementalDataID=n.getSupplementalDataID,u.isAllowed=function(){return!0},r(new A(u)),d&&postMessage?(c.addEventListener("message",l),a(w.HANDSHAKE),u._handshakeTimeout=setTimeout(s,250)):s()},u.findField=function(e,t){if(void 0!==u.state[e])return t(u.state[e]),u.state[e]},u.messageParent=a,u.setStateAndPublish=function(e){Object.assign(u.state,e),Object.assign(u.state.ALLFIELDS,e),u.callbackRegistry.executeAll(u.state)}},P=d,R=p,x=f,j=g,N=function(e,t){function n(){var t={};return Object.keys(R).forEach(function(n){var i=R[n],r=e[i]();O.isValueEmpty(r)||(t[n]=r)}),t}function i(t){return function n(i){var r=function(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var i=j[n];t.push(i)}}),t.length?t:null}();if(r){var o=x[r[0]];e[o](n,!0)}else t()}}function r(e,i){var r=n();t.send(e,i,r)}function o(n){var i=e.setCustomerIDs;e.setCustomerIDs=function(r){i.call(e,r),t.send(n,P.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}}return function(e){t.isInvalid(e)||(t.parse(e).prefix===P.HANDSHAKE?function(e){o(e),r(e,P.HANDSHAKE)}:function(e){i(function(){r(e,P.PARENTSTATE)})()})(e.source)}},V={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},set:function(e,t,i){var r=n(i,"cookieLifetime"),o=n(i,"expires"),a=n(i,"domain"),s=n(i,"secure")?"Secure":"";if(o&&"SESSION"!==r&&"NONE"!==r){var c=""!==t?parseInt(r||0,10):-60;if(c)(o=new Date).setTime(o.getTime()+1e3*c);else if(1===o){var l=(o=new Date).getYear();o.setYear(l+2+(l<1900?1900:0))}}else o=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(o?" expires="+o.toGMTString()+";":"")+(a?" domain="+a+";":"")+s,this.get(e)===t):0},remove:function(e,t){var i=n(t,"domain");i=i?" domain="+i+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+i}},F=function(e){var t;!e&&c.location&&(e=c.location.hostname);var n,i=(t=e).split(".");for(n=i.length-2;n>=0;n--)if(t=i.slice(n).join("."),V.set("test","cookie",{domain:t}))return V.remove("test",{domain:t}),t;return""},U=function(e,t){return i(e,t)<0},q=function(e,t){return 0!==i(e,t)},H=!!c.postMessage,G=function(e,t,n){var i=1;t&&(H?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},B=function(e,t){var n;try{H&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),c.addEventListener?c[e?"addEventListener":"removeEventListener"]("message",n):c[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}},Q=function(e){var t,n,i="0123456789",r="",o="",a=8,s=10,c=10;if(1==e){for(i+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*a),r+=i.substring(n,n+1),n=Math.floor(Math.random()*a),o+=i.substring(n,n+1),a=16;return r+"-"+o}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),r+=i.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10),n=Math.floor(Math.random()*c),o+=i.substring(n,n+1),0===t&&9==n?c=3:(1==t||2==t)&&10!=c&&2>n?c=10:2<t&&(c=10);return r+o},K=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(c.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new c[this.corsMetadata.corsType]},fireCORS:function(t,n,i){var r=this;n&&(t.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=e.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void r.handleCORSError(t,null,"Response is not JSON")}catch(e){return void r.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var i=t.callback,o=c,a=0;a<i.length;a++)o=o[i[a]];o(n)}catch(e){r.handleCORSError(t,e,"Error forming callback function")}}(this.responseText)}),o.onerror=function(e){r.handleCORSError(t,e,"onerror")},o.ontimeout=function(e){r.handleCORSError(t,e,"ontimeout")},o.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,i){e.CORSErrors.push({corsData:t,error:n,description:i}),t.loadErrorHandler&&("ontimeout"===i?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},W={POST_MESSAGE_ENABLED:!!c.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},X={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},Y={getConfigNames:function(){return Object.keys(X)},getConfigs:function(){return X},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},z=function(e){var t={};return e.on=function(e,n,i){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:n,context:i})-1;return function(){t[e].splice(r,1),t[e].length||delete t[e]}},e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter(function(e){if(e.callback!==n)return e}))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach(function(e){e.callback.apply(e.context,n)})}},e.publish},J={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},$={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},Z=(t(l={},$.AAM,565),t(l,$.ECID,565),l),ee=(t(u={},$.AAM,[1,10]),t(u,$.ECID,[1,10]),u),te=["videoaa","iabConsentHash"],ne=function(e){return Object.keys(e).map(function(t){return e[t]})}($),ie=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!function(e){return"function"==typeof e||e instanceof Array&&e.length}(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var i=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(i,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=(n=void 0===n?[]:n)instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var i=e.callbacks[t].shift();"function"==typeof i?i.apply(null,n):i instanceof Array&&i[1].apply(i[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!function(e){return e===Object(e)&&0===Object.keys(e).length}(t))&&Object.keys(e.callbacks).forEach(function(n){var i=void 0!==t[n]?t[n]:"";e.execute(n,i)},e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},re=function(){},oe=function(e,t,n){return n()?function(){if(function(e){var t=window.console;return!!t&&"function"==typeof t[e]}(e)){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console[e].apply(console,[t].concat(i))}}:re},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=oe("log",e,t),this.warn=oe("warn",e,t),this.error=oe("error",e,t)},se=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n^=-1;for(var i=0;i<t.length;i++){var r=255&(n^t.charCodeAt(i));n=n>>>8^e[r]}return(n^=-1)>>>0}}(),ce=new ae("[ADOBE OPT-IN]"),le=function(t,n){return e(t)===n},ue=function(e,t){return e instanceof Array?e:le(e,"string")?[e]:t||[]},de=function(e){var t=Object.keys(e);return!!t.length&&t.every(function(t){return!0===e[t]})},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||he(e))&&ue(e).every(function(e){return ne.indexOf(e)>-1||t&&te.indexOf(e)>-1})},pe=function(e,t){return e.reduce(function(e,n){return e[n]=t,e},{})},ge=function(e){return JSON.parse(JSON.stringify(e))},he=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},me=function(e){if(Ie(e))return e;try{return JSON.parse(e)}catch(e){return{}}},ye=function(e){return void 0===e||(Ie(e)?fe(Object.keys(e),!0):ve(e))},ve=function(e){try{var t=JSON.parse(e);return!!e&&le(e,"string")&&fe(Object.keys(t),!0)}catch(e){return!1}},Ie=function(e){return null!==e&&le(e,"object")&&!1===Array.isArray(e)},_e=function(){},Ce=function(e){return le(e,"function")?e():e},be=function(e,t){ye(e)||ce.error("".concat(t))},Se=function(e){return function(e){return Object.keys(e).map(function(t){return e[t]})}(e).filter(function(e,t,n){return n.indexOf(e)===t})},De=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,i=t.params,r=void 0===i?{}:i,o=t.callback,a=void 0===o?_e:o;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),c=e[s[0]],l=s[1];if(!c||"function"!=typeof c[l])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(r,{callback:a});c[l].call(c,u)}catch(e){ce.error("[execute] Something went wrong: "+e.message)}}};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r;var Ae="fetchPermissions",Oe="[OptIn#registerPlugin] Plugin is invalid.";o.Categories=$,o.TimeoutError=r;var ke=Object.freeze({OptIn:o,IabPlugin:function(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,n=ie(),i={transparencyAndConsentData:null};e.fetchConsentData=function(e){var t=a(e.callback,e.timeout);r({callback:t})},e.isApproved=function(e){var t=e.callback,n=e.category,o=e.timeout;if(i.transparencyAndConsentData)return t(null,s(i.transparencyAndConsentData,Z[n],ee[n]));var c=a(function(e,i){t(e,s(i,Z[n],ee[n]))},o);r({category:n,callback:c})},e.onRegister=function(n){t=n;var i=Object.keys(Z);e.fetchConsentData({callback:function(e,t){!e&&t&&(i.forEach(function(e){var i=s(t,Z[e],ee[e]);n[i?"approve":"deny"](e,!0)}),n.complete())}})};var r=function(e){var r=e.callback;if(i.transparencyAndConsentData)return r(null,i.transparencyAndConsentData);n.add("FETCH_CONSENT_DATA",r),o(function(e,r){if(r){var o=ge(e),a=t.getMemoizedContent("iabConsentHash"),s=se(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=a!==s,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i[e]=t}("transparencyAndConsentData",o),t.memoizeContent({iabConsentHash:s})}n.execute("FETCH_CONSENT_DATA",[null,i.transparencyAndConsentData])})},o=function(e){var t=Se(Z),n=function(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var n={};return window.__tcfapi=function(e,i,r,o){var a=Math.random()+"",s={__tcfapiCall:{command:e,parameter:o,version:i,callId:a}};n[a]=r,t.postMessage(s,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var i=t.__tcfapiReturn;"function"==typeof n[i.callId]&&(n[i.callId](i.returnValue,i.success),delete n[i.callId])}},!1),window.__tcfapi}ce.error("__tcfapi not found")}else ce.error("__tcfapi not found")}();"function"==typeof n&&n("getTCData",2,e,t)}}}),Ee=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var i,r,o=Math.pow,a=o(2,32),s="",c=[],l=8*t.length,u=e.h=e.h||[],d=e.k=e.k||[],f=d.length,p={},g=2;f<64;g++)if(!p[g]){for(i=0;i<313;i+=g)p[i]=g;u[f]=o(g,.5)*a|0,d[f++]=o(g,1/3)*a|0}for(t+="Â";t.length%64-56;)t+="\0";for(i=0;i<t.length;i++){if((r=t.charCodeAt(i))>>8)return;c[i>>2]|=r<<(3-i)%4*8}for(c[c.length]=l/a|0,c[c.length]=l,r=0;r<c.length;){var h=c.slice(r,r+=16),m=u;for(u=u.slice(0,8),i=0;i<64;i++){var y=h[i-15],v=h[i-2],I=u[0],_=u[4],C=u[7]+(n(_,6)^n(_,11)^n(_,25))+(_&u[5]^~_&u[6])+d[i]+(h[i]=i<16?h[i]:h[i-16]+(n(y,7)^n(y,18)^y>>>3)+h[i-7]+(n(v,17)^n(v,19)^v>>>10)|0);(u=[C+((n(I,2)^n(I,13)^n(I,22))+(I&u[1]^I&u[2]^u[1]&u[2]))|0].concat(u))[4]=u[4]+C|0}for(i=0;i<8;i++)u[i]=u[i]+m[i]|0}for(i=0;i<8;i++)for(r=3;r+1;r--){var b=u[i]>>8*r&255;s+=(b<16?0:"")+b.toString(16)}return s}(e)),e},Te=function(e){return String(e).trim().toLowerCase()},Me=ke.OptIn;O.defineGlobalNamespace(),window.adobe.OptInCategories=Me.Categories;var we=function(t,n,i){function r(){v._customerIDsHashChanged=!1}function o(e){var t=e;return function(e){var n=e||D.location.href;try{var i=v._extractParamFromUri(n,t);if(i)return z.parsePipeDelimetedKeyValues(i)}catch(e){}}}function a(e){e=e||{},v._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",v._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},v._supplementalDataIDLast=e.supplementalDataIDLast||"",v._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function s(e){return function(e){return(e=e?e+="|":e)+"TS="+z.getTimestampInSeconds()}(e.reduce(function(e,t){var n=t[0],i=t[1];return null!=i&&i!==j&&(e=function(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}(n,i,e)),e},""))}function l(){return v.configs.doesOptInApply&&v.configs.isIabContext?I.optIn.isApproved(I.optIn.Categories.ECID)&&b:I.optIn.isApproved(I.optIn.Categories.ECID)}function u(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",i=v[t];v[t]=function(e){return l()&&v.isAllowed()?i.apply(v,arguments):("function"==typeof e&&v._callCallback(e,[n]),n)}})}function d(e,t){if(b=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(_=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),function(){var e=v._getAudienceManagerURLData(),t=e.url;v._loadData(E,t,null,e)}(),g()}function f(e,t){if(b=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(_=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),v.init(),g()}function p(){I.optIn.isComplete&&(I.optIn.isApproved(I.optIn.Categories.ECID)?v.configs.isIabContext?I.optIn.execute({command:"iabPlugin.fetchConsentData",callback:f}):(v.init(),g()):v.configs.isIabContext?I.optIn.execute({command:"iabPlugin.fetchConsentData",callback:d}):(u(),g()))}function g(){I.optIn.off("complete",p)}if(!i||i.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var v=this,I=window.adobe,_="",C=0,b=!1,S=!1;v.version="5.0.0";var D=c,A=D.Visitor;A.version=v.version,A.AuthState=m,A.OptOut=y,D.s_c_in||(D.s_c_il=[],D.s_c_in=0),v._c="Visitor",v._il=D.s_c_il,v._in=D.s_c_in,v._il[v._in]=v,D.s_c_in++,v._instanceType="regular",v._log={requests:[]},v.marketingCloudOrgID=t,v.cookieName="AMCV_"+t,v.sessionCookieName="AMCVS_"+t,v.cookieDomain=F(),v.loadSSL=!0,v.loadTimeout=3e4,v.CORSErrors=[],v.marketingCloudServer=v.audienceManagerServer="dpm.demdex.net",v.sdidParamExpiry=30;var k=null,E="MC",T="MCMID",w="MCIDTS",L="A",P="MCAID",R="AAM",x="MCAAMB",j="NONE",H=function(e){return!Object.prototype[e]},X=K(v);v.FIELDS=h,v.cookieRead=function(e){return V.get(e)},v.cookieWrite=function(e,t,n){var i=v.cookieLifetime?(""+v.cookieLifetime).toUpperCase():"",r=!1;return v.configs&&v.configs.secureCookie&&"https:"===location.protocol&&(r=!0),V.set(e,""+t,{expires:n,domain:v.cookieDomain,cookieLifetime:i,secure:r})},v.resetState=function(e){e?v._mergeServerState(e):a()},v._isAllowedDone=!1,v._isAllowedFlag=!1,v.isAllowed=function(){return v._isAllowedDone||(v._isAllowedDone=!0,(v.cookieRead(v.cookieName)||v.cookieWrite(v.cookieName,"T",1))&&(v._isAllowedFlag=!0)),"T"===v.cookieRead(v.cookieName)&&v._helpers.removeCookie(v.cookieName),v._isAllowedFlag},v.setMarketingCloudVisitorID=function(e){v._setMarketingCloudFields(e)},v._use1stPartyMarketingCloudServer=!1,v.getMarketingCloudVisitorID=function(e,t){v.marketingCloudServer&&v.marketingCloudServer.indexOf(".demdex.net")<0&&(v._use1stPartyMarketingCloudServer=!0);var n=v._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return v._getRemoteField(T,i,e,t,n)};v.getVisitorValues=function(e,t){var n={MCMID:{fn:v.getMarketingCloudVisitorID,args:[!0],context:v},MCOPTOUT:{fn:v.isOptedOut,args:[void 0,!0],context:v},MCAID:{fn:v.getAnalyticsVisitorID,args:[!0],context:v},MCAAMLH:{fn:v.getAudienceManagerLocationHint,args:[!0],context:v},MCAAMB:{fn:v.getAudienceManagerBlob,args:[!0],context:v}},i=t&&t.length?O.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?function(e,t){var n={};v.getMarketingCloudVisitorID(function(){t.forEach(function(e){n[e]=v._getField(e,!0)}),-1!==t.indexOf("MCOPTOUT")?v.isOptedOut(function(t){n.MCOPTOUT=t,e(n)},null,!0):e(n)},!0)}(e,t):function(e,t){function n(e){return function(n){i[e]=n,++r===o&&t(i)}}var i={},r=0,o=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=e[t];if(i.fn){var r=i.args||[];r.unshift(n(t)),i.fn.apply(i.context||null,r)}})}(i,e)},v._currentCustomerIDs={},v._customerIDsHashChanged=!1,v._newCustomerIDsHash="",v.setCustomerIDs=function(t,n){if(!v.isOptedOut()&&t){if(!O.isObject(t)||O.isObjectEmpty(t))return!1;var i,o,a,s;for(i in v._readVisitor(),t)if(H(i)&&(v._currentCustomerIDs.dataSources=v._currentCustomerIDs.dataSources||{},n=(o=t[i]).hasOwnProperty("hashType")?o.hashType:n,o))if("object"===e(o)){var c={};if(o.id){if(n){if(!(s=Ee(Te(o.id),n)))return;o.id=s,c.hashType=n}c.id=o.id}null!=o.authState&&(c.authState=o.authState),v._currentCustomerIDs.dataSources[i]=c}else if(n){if(!(s=Ee(Te(o),n)))return;v._currentCustomerIDs.dataSources[i]={id:s,hashType:n}}else v._currentCustomerIDs.dataSources[i]={id:o};var l=v.getCustomerIDs(!0),u=v._getField("MCCIDH"),d="";for(a in u||(u=0),l){var f=l[a];if(!O.isObjectEmpty(f))for(i in f)H(i)&&(d+=(d?"|":"")+i+"|"+((o=f[i]).id?o.id:"")+(o.authState?o.authState:""))}v._newCustomerIDsHash=String(v._hash(d)),v._newCustomerIDsHash!==u&&(v._customerIDsHashChanged=!0,v._mapCustomerIDs(r))}},v.syncIdentity=function(t,n){if(!v.isOptedOut()&&t){if(!O.isObject(t)||O.isObjectEmpty(t))return!1;var i,o,a,s,c;for(i in v._readVisitor(),t)if(H(i)&&(v._currentCustomerIDs.nameSpaces=v._currentCustomerIDs.nameSpaces||{},n=(o=t[i]).hasOwnProperty("hashType")?o.hashType:n,o&&"object"===e(o))){var l={};if(o.id){if(n){if(!(a=Ee(Te(o.id),n)))return;o.id=a,l.hashType=n}l.id=o.id}null!=o.authState&&(l.authState=o.authState),o.dataSource&&(v._currentCustomerIDs.dataSources=v._currentCustomerIDs.dataSources||{},s=o.dataSource,v._currentCustomerIDs.dataSources[s]=l),v._currentCustomerIDs.nameSpaces[i]=l}var u=v.getCustomerIDs(!0),d=v._getField("MCCIDH"),f="";for(c in d||(d="0"),u){var p=u[c];if(!O.isObjectEmpty(p))for(i in p)H(i)&&(f+=(f?"|":"")+i+"|"+((o=p[i]).id?o.id:"")+(o.authState?o.authState:""))}v._newCustomerIDsHash=String(v._hash(f)),v._newCustomerIDsHash!==d&&(v._customerIDsHashChanged=!0,v._mapCustomerIDs(r))}},v.getCustomerIDs=function(e){v._readVisitor();var t,n,i={dataSources:{},nameSpaces:{}},r=v._currentCustomerIDs.dataSources;for(t in r)H(t)&&((n=r[t]).id&&(i.dataSources[t]||(i.dataSources[t]={}),i.dataSources[t].id=n.id,null!=n.authState?i.dataSources[t].authState=n.authState:i.dataSources[t].authState=A.AuthState.UNKNOWN,n.hashType&&(i.dataSources[t].hashType=n.hashType)));var o=v._currentCustomerIDs.nameSpaces;for(t in o)H(t)&&((n=o[t]).id&&(i.nameSpaces[t]||(i.nameSpaces[t]={}),i.nameSpaces[t].id=n.id,null!=n.authState?i.nameSpaces[t].authState=n.authState:i.nameSpaces[t].authState=A.AuthState.UNKNOWN,n.hashType&&(i.nameSpaces[t].hashType=n.hashType)));return e?i:i.dataSources},v.setAnalyticsVisitorID=function(e){v._setAnalyticsFields(e)},v.getAnalyticsVisitorID=function(e,t,n){if(!z.isTrackingServerPopulated()&&!n)return v._callCallback(e,[""]),"";var i="";if(n||(i=v.getMarketingCloudVisitorID(function(t){v.getAnalyticsVisitorID(e,!0)})),i||n){var r=n?v.marketingCloudServer:v.trackingServer,o="";v.loadSSL&&(n?v.marketingCloudServerSecure&&(r=v.marketingCloudServerSecure):v.trackingServerSecure&&(r=v.trackingServerSecure));var a={};if(r){var s="http"+(v.loadSSL?"s":"")+"://"+r+"/id",c="d_visid_ver="+v.version+"&mcorgid="+encodeURIComponent(v.marketingCloudOrgID)+(i?"&mid="+encodeURIComponent(i):"")+(v.idSyncDisable3rdPartySyncing||v.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",v._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];o=s+"?"+c+"&callback=s_c_il%5B"+v._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",a.corsUrl=s+"?"+c,a.callback=l}return a.url=o,v._getRemoteField(n?T:P,o,e,t,a)}return""},v.getAudienceManagerLocationHint=function(e,t){if(v.getMarketingCloudVisitorID(function(t){v.getAudienceManagerLocationHint(e,!0)})){var n=v._getField(P);if(!n&&z.isTrackingServerPopulated()&&(n=v.getAnalyticsVisitorID(function(t){v.getAudienceManagerLocationHint(e,!0)})),n||!z.isTrackingServerPopulated()){var i=v._getAudienceManagerURLData(),r=i.url;return v._getRemoteField("MCAAMLH",r,e,t,i)}}return""},v.getLocationHint=v.getAudienceManagerLocationHint,v.getAudienceManagerBlob=function(e,t){if(v.getMarketingCloudVisitorID(function(t){v.getAudienceManagerBlob(e,!0)})){var n=v._getField(P);if(!n&&z.isTrackingServerPopulated()&&(n=v.getAnalyticsVisitorID(function(t){v.getAudienceManagerBlob(e,!0)})),n||!z.isTrackingServerPopulated()){var i=v._getAudienceManagerURLData(),r=i.url;return v._customerIDsHashChanged&&v._setFieldExpire(x,-1),v._getRemoteField(x,r,e,t,i)}}return""},v._supplementalDataIDCurrent="",v._supplementalDataIDCurrentConsumed={},v._supplementalDataIDLast="",v._supplementalDataIDLastConsumed={},v.getSupplementalDataID=function(e,t){v._supplementalDataIDCurrent||t||(v._supplementalDataIDCurrent=v._generateID(1));var n=v._supplementalDataIDCurrent;return v._supplementalDataIDLast&&!v._supplementalDataIDLastConsumed[e]?(n=v._supplementalDataIDLast,v._supplementalDataIDLastConsumed[e]=!0):n&&(v._supplementalDataIDCurrentConsumed[e]&&(v._supplementalDataIDLast=v._supplementalDataIDCurrent,v._supplementalDataIDLastConsumed=v._supplementalDataIDCurrentConsumed,v._supplementalDataIDCurrent=n=t?"":v._generateID(1),v._supplementalDataIDCurrentConsumed={}),n&&(v._supplementalDataIDCurrentConsumed[e]=!0)),n};var Y=!1;v._liberatedOptOut=null,v.getOptOut=function(e,t){var n=v._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;if(l())return v._getRemoteField("MCOPTOUT",i,e,t,n);if(v._registerCallback("liberatedOptOut",e),null!==v._liberatedOptOut)return v._callAllCallbacks("liberatedOptOut",[v._liberatedOptOut]),Y=!1,v._liberatedOptOut;if(Y)return null;Y=!0;var r="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[r],c[r]=function(e){if(e===Object(e)){var t,n,i=O.parseOptOut(e,t,j);t=i.optOut,n=1e3*i.d_ottl,v._liberatedOptOut=t,setTimeout(function(){v._liberatedOptOut=null},n)}v._callAllCallbacks("liberatedOptOut",[t]),Y=!1},X.fireCORS(n),null},v.isOptedOut=function(e,t,n){t||(t=A.OptOut.GLOBAL);var i=v.getOptOut(function(n){var i=n===A.OptOut.GLOBAL||n.indexOf(t)>=0;v._callCallback(e,[i])},n);return i?i===A.OptOut.GLOBAL||i.indexOf(t)>=0:null},v._fields=null,v._fieldsExpired=null,v._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},v._generateID=Q,v._generateLocalMID=function(){var e=v._generateID(0);return Z.isClientSideMarketingCloudVisitorID=!0,e},v._callbackList=null,v._callCallback=function(e,t){try{"function"==typeof e?e.apply(D,t):e[1].apply(e[0],t)}catch(e){}},v._registerCallback=function(e,t){t&&(null==v._callbackList&&(v._callbackList={}),null==v._callbackList[e]&&(v._callbackList[e]=[]),v._callbackList[e].push(t))},v._callAllCallbacks=function(e,t){if(null!=v._callbackList){var n=v._callbackList[e];if(n)for(;n.length>0;)v._callCallback(n.shift(),t)}},v._addQuerystringParam=function(e,t,n,i){var r=encodeURIComponent(t)+"="+encodeURIComponent(n),o=z.parseHash(e),a=z.hashlessUrl(e);if(-1===a.indexOf("?"))return a+"?"+r+o;var s=a.split("?"),c=s[0]+"?",l=s[1];return c+z.addQueryParamAtLocation(l,r,i)+o},v._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},v._parseAdobeMcFromUrl=o(W.ADOBE_MC),v._parseAdobeMcSdidFromUrl=o(W.ADOBE_MC_SDID),v._attemptToPopulateSdidFromUrl=function(e){var n=v._parseAdobeMcSdidFromUrl(e),i=1e9;n&&n.TS&&(i=z.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&i<v.sdidParamExpiry&&(v._supplementalDataIDCurrent=n.SDID,v._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},v._attemptToPopulateIdsFromUrl=function(){var e=v._parseAdobeMcFromUrl();if(e&&e.TS){var n=z.getTimestampInSeconds()-e.TS;if(Math.floor(n/60)>W.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;!function(e){function t(e,t,n){e&&e.match(W.VALID_VISITOR_ID_REGEX)&&(n===T&&(S=!0),t(e))}t(e[T],v.setMarketingCloudVisitorID,T),v._setFieldExpire(x,-1),t(e[P],v.setAnalyticsVisitorID)}(e)}},v._mergeServerState=function(e){if(e)try{if((e=function(e){return z.isObject(e)?e:JSON.parse(e)}(e))[v.marketingCloudOrgID]){var t=e[v.marketingCloudOrgID];!function(e){z.isObject(e)&&v.setCustomerIDs(e)}(t.customerIDs),a(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},v._timeout=null,v._loadData=function(e,t,n,i){t=v._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=v._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=v._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),Z.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===X.corsMetadata.corsType&&X.fireCORS(i,n,e)},v._clearTimeout=function(e){null!=v._timeout&&v._timeout[e]&&(clearTimeout(v._timeout[e]),v._timeout[e]=0)},v._settingsDigest=0,v._getSettingsDigest=function(){if(!v._settingsDigest){var e=v.version;v.audienceManagerServer&&(e+="|"+v.audienceManagerServer),v.audienceManagerServerSecure&&(e+="|"+v.audienceManagerServerSecure),v._settingsDigest=v._hash(e)}return v._settingsDigest},v._readVisitorDone=!1,v._readVisitor=function(){if(!v._readVisitorDone){v._readVisitorDone=!0;var e,t,n,i,r,o,a=v._getSettingsDigest(),s=!1,c=v.cookieRead(v.cookieName),l=new Date;if(c||S||v.discardTrackingServerECID||(c=v.cookieRead(W.FIRST_PARTY_SERVER_COOKIE)),null==v._fields&&(v._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==a&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)n=(t=c[e].split("-"))[0],i=c[e+1],t.length>1?(r=parseInt(t[1],10),o=t[1].indexOf("s")>0):(r=0,o=!1),s&&("MCCIDH"===n&&(i=""),r>0&&(r=l.getTime()/1e3-60)),n&&i&&(v._setField(n,i,1),r>0&&(v._fields["expire"+n]=r+(o?"s":""),(l.getTime()>=1e3*r||o&&!v.cookieRead(v.sessionCookieName))&&(v._fieldsExpired||(v._fieldsExpired={}),v._fieldsExpired[n]=!0)));!v._getField(P)&&z.isTrackingServerPopulated()&&(c=v.cookieRead("s_vi"))&&((c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(i=c[1]).indexOf("["))>=0&&(i=i.substring(0,e)),i&&i.match(W.VALID_VISITOR_ID_REGEX)&&v._setField(P,i)))}},v._appendVersionTo=function(e){var t="vVersion|"+v.version,n=e?v._getCookieVersion(e):null;return n?q(n,v.version)&&(e=e.replace(W.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},v._writeVisitor=function(){var e,t,n=v._getSettingsDigest();for(e in v._fields)H(e)&&v._fields[e]&&"expire"!==e.substring(0,6)&&(t=v._fields[e],n+=(n?"|":"")+e+(v._fields["expire"+e]?"-"+v._fields["expire"+e]:"")+"|"+t);n=v._appendVersionTo(n),v.cookieWrite(v.cookieName,n,1)},v._getField=function(e,t){return null==v._fields||!t&&v._fieldsExpired&&v._fieldsExpired[e]?null:v._fields[e]},v._setField=function(e,t,n){null==v._fields&&(v._fields={}),v._fields[e]=t,n||v._writeVisitor()},v._getFieldList=function(e,t){var n=v._getField(e,t);return n?n.split("*"):null},v._setFieldList=function(e,t,n){v._setField(e,t?t.join("*"):"",n)},v._getFieldMap=function(e,t){var n=v._getFieldList(e,t);if(n){var i,r={};for(i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r}return null},v._setFieldMap=function(e,t,n){var i,r=null;if(t)for(i in r=[],t)H(i)&&(r.push(i),r.push(t[i]));v._setFieldList(e,r,n)},v._setFieldExpire=function(e,t,n){var i=new Date;i.setTime(i.getTime()+1e3*t),null==v._fields&&(v._fields={}),v._fields["expire"+e]=Math.floor(i.getTime()/1e3)+(n?"s":""),t<0?(v._fieldsExpired||(v._fieldsExpired={}),v._fieldsExpired[e]=!0):v._fieldsExpired&&(v._fieldsExpired[e]=!1),n&&(v.cookieRead(v.sessionCookieName)||v.cookieWrite(v.sessionCookieName,"1"))},v._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=j),t&&(t===j||t.match(W.VALID_VISITOR_ID_REGEX))||(t="")),t},v._setFields=function(t,n){if(v._clearTimeout(t),null!=v._loading&&(v._loading[t]=!1),Z.fieldGroupObj[t]&&Z.setState(t,!1),t===E){!0!==Z.isClientSideMarketingCloudVisitorID&&(Z.isClientSideMarketingCloudVisitorID=!1);var i=v._getField(T);if(!i||v.overwriteCrossDomainMCIDAndAID){if(!(i="object"===e(n)&&n.mid?n.mid:v._findVisitorID(n))){if(v._use1stPartyMarketingCloudServer&&!v.tried1stPartyMarketingCloudServer)return v.tried1stPartyMarketingCloudServer=!0,void v.getAnalyticsVisitorID(null,!1,!0);i=v._generateLocalMID()}v._setField(T,i)}i&&i!==j||(i=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&v._setFields(R,n),v._use1stPartyMarketingCloudServer&&n.mid&&v._setFields(L,{id:n.id})),v._callAllCallbacks(T,[i])}if(t===R&&"object"===e(n)){var r=604800;null!=n.id_sync_ttl&&n.id_sync_ttl&&(r=parseInt(n.id_sync_ttl,10));var o=J.getRegionAndCheckIfChanged(n,r);v._callAllCallbacks("MCAAMLH",[o]);var a=v._getField(x);(n.d_blob||n.blob)&&((a=n.d_blob)||(a=n.blob),v._setFieldExpire(x,r),v._setField(x,a)),a||(a=""),v._callAllCallbacks(x,[a]),!n.error_msg&&v._newCustomerIDsHash&&v._setField("MCCIDH",v._newCustomerIDsHash)}if(t===L){var s=v._getField(P);s&&!v.overwriteCrossDomainMCIDAndAID||((s=v._findVisitorID(n))?s!==j&&v._setFieldExpire(x,-1):s=j,v._setField(P,s)),s&&s!==j||(s=""),v._callAllCallbacks(P,[s])}if(v.idSyncDisableSyncs||v.disableIdSyncs)J.idCallNotProcesssed=!0;else{J.idCallNotProcesssed=!1;var c={};c.ibs=n.ibs,c.subdomain=n.subdomain,J.processIDCallData(c)}if(n===Object(n)){var u,d;l()&&v.isAllowed()&&(u=v._getField("MCOPTOUT"));var f=O.parseOptOut(n,u,j);u=f.optOut,d=f.d_ottl,v._setFieldExpire("MCOPTOUT",d,!0),v._setField("MCOPTOUT",u),v._callAllCallbacks("MCOPTOUT",[u])}},v._loading=null,v._getRemoteField=function(e,t,n,i,r){var o,a="",s=z.isFirstPartyAnalyticsVisitorIDCall(e);if(l()&&v.isAllowed())if(v._readVisitor(),!(!(a=v._getField(e,!0==={MCAAMLH:!0,MCAAMB:!0}[e]))||v._fieldsExpired&&v._fieldsExpired[e])||v.disableThirdPartyCalls&&!s)a||(e===T?(v._registerCallback(e,n),a=v._generateLocalMID(),v.setMarketingCloudVisitorID(a)):e===P?(v._registerCallback(e,n),a="",v.setAnalyticsVisitorID(a)):(a="",i=!0));else if(e===T||"MCOPTOUT"===e?o=E:"MCAAMLH"===e||e===x?o=R:e===P&&(o=L),o)return!t||null!=v._loading&&v._loading[o]||(null==v._loading&&(v._loading={}),v._loading[o]=!0,v._loadData(o,t,function(t){if(!v._getField(e)){t&&Z.setState(o,!0);var n="";e===T?n=v._generateLocalMID():o===R&&(n={error_msg:"timeout"}),v._setFields(o,n)}},r)),v._registerCallback(e,n),a||(t||v._setFields(o,{id:j}),"");return e!==T&&e!==P||a!==j||(a="",i=!0),n&&i&&v._callCallback(n,[a]),a},v._setMarketingCloudFields=function(e){v._readVisitor(),v._setFields(E,e)},v._mapCustomerIDs=function(e){v.getAudienceManagerBlob(e,!0)},v._setAnalyticsFields=function(e){v._readVisitor(),v._setFields(L,e)},v._setAudienceManagerFields=function(e){v._readVisitor(),v._setFields(R,e)},v._getAudienceManagerURLData=function(e){var t=v.audienceManagerServer,n="",i=v._getField(T),r=v._getField(x,!0),o=v._getField(P),a=o&&o!==j?"&d_cid_ic=AVID%01"+encodeURIComponent(o):"";if(v.loadSSL&&v.audienceManagerServerSecure&&(t=v.audienceManagerServerSecure),t){var s,c,l,u=v.getCustomerIDs(!0);if(u)for(c in u){var d=u[c];if(!O.isObjectEmpty(d)){var f="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in d)H(s)&&(l=d[s],a+=f+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""))}}e||(e="_setAudienceManagerFields");var p="http"+(v.loadSSL?"s":"")+"://"+t+"/id",g="d_visid_ver="+v.version+(_&&-1!==p.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+_:"")+(C&&-1!==p.indexOf("demdex.net")?"&d_cf="+C:"")+"&d_rtbd=json&d_ver=2"+(!i&&v._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(v.marketingCloudOrgID)+"&d_nsid="+(v.idSyncContainerID||0)+(i?"&d_mid="+encodeURIComponent(i):"")+(v.idSyncDisable3rdPartySyncing||v.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===k?"&d_coop_safe=1":!1===k?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+a;C=0;var h=["s_c_il",v._in,e];return{url:n=p+"?"+g+"&d_cb=s_c_il%5B"+v._in+"%5D."+e,corsUrl:p+"?"+g,callback:h}}return{url:n}},v.appendVisitorIDsTo=function(e){try{var t=[[T,v._getField(T)],[P,v._getField(P)],["MCORGID",v.marketingCloudOrgID]];return v._addQuerystringParam(e,W.ADOBE_MC,s(t))}catch(t){return e}},v.appendSupplementalDataIDTo=function(e,t){if(!(t=t||v.getSupplementalDataID(z.generateRandomString(),!0)))return e;try{var n=s([["SDID",t],["MCORGID",v.marketingCloudOrgID]]);return v._addQuerystringParam(e,W.ADOBE_MC_SDID,n)}catch(t){return e}};var z={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var i=e.split("&");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===P&&(t||(t=v.trackingServer),n||(n=v.trackingServerSecure),!("string"!=typeof(i=v.loadSSL?n:t)||!i.length)&&i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0);var i},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){V.remove(e,{domain:v.cookieDomain})},isTrackingServerPopulated:function(){return!!v.trackingServer||!!v.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};v._helpers=z;var J=function(e,t){var n=c.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",r="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:W.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(r=n.createElement("iframe")).sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=i.id,r.name=i.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=i.url,i.newIframeCreated=!0,t(),n.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.fireIframeLoadedCallbacks(e),i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,r=n.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){r.jsonForComparison.push(t),r.jsonWaiting.push(t),r.processSyncOnPage(t)}var i,r=this;if(t===Object(t)&&t.ibs)if(i=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var o,a,s,c=!1;for(o=0,a=this.jsonForComparison.length;o<a;o++)if(s=this.jsonForComparison[o],i===JSON.stringify(s.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!W.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var l=this.jsonWaiting.shift();this.process(l),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=W.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var i=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return i?r&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r),parseInt(i,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),i=r)):(i=r)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i)),i||(i=""),i},processSyncOnPage:function(e){var t,n,i,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)(r=t[i]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,i,r,o,a=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,i=0;i<n;i++)r=t[i],o=[a("ibs"),a(r.id||""),a(r.tag||""),O.encodeAndBuildRequest(r.url||[],","),a(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(o.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,o.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,i){var r="syncOnPage"===i,o=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var a,s,c=e._getField(o),l=!1,u=!1,d=Math.ceil((new Date).getTime()/W.MILLIS_PER_DAY);c?(a=c.split("*"),l=(s=this.pruneSyncData(a,t.id,d)).dataPresent,u=s.dataValid,l&&u||this.fireSync(r,t,n,a,o,d)):(a=[],this.fireSync(r,t,n,a,o,d))},pruneSyncData:function(e,t,n){var i,r,o,a=!1,s=!1;for(r=0;r<e.length;r++)i=e[r],o=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(a=!0,n<o?s=!0:(e.splice(r,1),r--)):n>=o&&(e.splice(r,1),r--);return{dataPresent:a,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,i,r,o,a){var s=this;if(t){if("img"===n.tag){var c,l,u,d,f=n.url,p=e.loadSSL?"https:":"http:";for(c=0,l=f.length;c<l;c++){u=f[c],d=/^\/\//.test(u);var g=new Image;g.addEventListener("load",function(t,n,i,r){return function(){s.onPagePixels[t]=null,e._readVisitor();var a,c,l,u,d=e._getField(o),f=[];if(d)for(c=0,l=(a=d.split("*")).length;c<l;c++)(u=a[c]).match("^"+n.id+"-")||f.push(u);s.setSyncTrackingData(f,n,i,r)}}(this.onPagePixels.length,n,o,a)),g.src=(d?p:"")+u,this.onPagePixels.push(g)}}}else this.addMessage(i),this.setSyncTrackingData(r,n,o,a)},addMessage:function(t){var n=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((W.POST_MESSAGE_ENABLED?"":n)+t)},setSyncTrackingData:function(t,n,i,r){t.push(n.id+"-"+(r+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,n="",i=encodeURIComponent;this.regionChanged&&(n=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?W.POST_MESSAGE_ENABLED?(e=n+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){G(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>W.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){var e=this;!function t(){e.startedAttachingIframe||(n.body?e.attachIframe():setTimeout(t,30))}()}}}(v,A);v._destinationPublishing=J,v.timeoutMetricsLog=[];var $,Z={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case E:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case L:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case R:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};v.isClientSideMarketingCloudVisitorID=function(){return Z.isClientSideMarketingCloudVisitorID},v.MCIDCallTimedOut=function(){return Z.MCIDCallTimedOut},v.AnalyticsIDCallTimedOut=function(){return Z.AnalyticsIDCallTimedOut},v.AAMIDCallTimedOut=function(){return Z.AAMIDCallTimedOut},v.idSyncGetOnPageSyncInfo=function(){return v._readVisitor(),v._getField("MCSYNCSOP")},v.idSyncByURL=function(e){if(!v.isOptedOut()){var t=function(e){var t=e.minutesToLive,n="";return(v.idSyncDisableSyncs||v.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}(e||{});if(t.error)return t.error;var n,i,r=e.url,o=encodeURIComponent,a=J;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=O.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",o(e.dpid),"img",o(r),t.ttl,"",n],a.addMessage(i.join("|")),a.requestToProcess(),"Successfully queued"}},v.idSyncByDataSource=function(e){if(!v.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,v.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},function(e,t){e.publishDestinations=function(n){var i=arguments[1],r=arguments[2];try{r="function"==typeof r?r:n.callback}catch(e){r=function(){}}var o=t;if(o.readyToAttachIframePreliminary()){if("string"==typeof n){if(!n.length)return void r({error:"subdomain is not a populated string."});if(!(i instanceof Array&&i.length))return void r({error:"messages is not a populated array."});var a=!1;if(i.forEach(function(e){"string"==typeof e&&e.length&&(o.addMessage(e),a=!0)}),!a)return void r({error:"None of the messages are populated strings."})}else{if(!O.isObject(n))return void r({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void r({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void r({error:"config.urlDestinations is not a populated array."});var l=[];c.forEach(function(e){O.isObject(e)&&(e.hideReferrer?e.message&&o.addMessage(e.message):l.push(e))}),function e(){l.length&&setTimeout(function(){var t=new Image,n=l.shift();t.src=n.url,o.onPageDestinationsFired.push(n),e()},100)}()}o.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),o.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(o.subdomain=n,o.doAttachIframe=!0,o.url=o.getUrl(),o.readyToAttachIframe()?(o.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),o.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):o.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else r({error:"The destination publishing iframe is disabled in the Visitor library."})}}(v,J),v._getCookieVersion=function(e){e=e||v.cookieRead(v.cookieName);var t=W.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},v._resetAmcvCookie=function(e){var t=v._getCookieVersion();t&&!U(t,e)||z.removeCookie(v.cookieName)},v.setAsCoopSafe=function(){k=!0},v.setAsCoopUnsafe=function(){k=!1},function(){if(v.configs=Object.create(null),z.isObject(n))for(var e in n)H(e)&&(v[e]=n[e],v.configs[e]=n[e])}(),u(),v.init=function(){!(!v.configs.doesOptInApply||I.optIn.isComplete&&l())&&(I.optIn.fetchPermissions(p,!0),!I.optIn.isApproved(I.optIn.Categories.ECID))||$||($=!0,function(){if(z.isObject(n)){v.idSyncContainerID=v.idSyncContainerID||0,k="boolean"==typeof v.isCoopSafe?v.isCoopSafe:z.parseBoolean(v.isCoopSafe),v.resetBeforeVersion&&v._resetAmcvCookie(v.resetBeforeVersion),v._attemptToPopulateIdsFromUrl(),v._attemptToPopulateSdidFromUrl(),v._readVisitor();var e=v._getField(w),t=Math.ceil((new Date).getTime()/W.MILLIS_PER_DAY);v.idSyncDisableSyncs||v.disableIdSyncs||!J.canMakeSyncIDCall(e,t)||(v._setFieldExpire(x,-1),v._setField(w,t)),v.getMarketingCloudVisitorID(),v.getAudienceManagerLocationHint(),v.getAudienceManagerBlob(),v._mergeServerState(v.serverState)}else v._attemptToPopulateIdsFromUrl(),v._attemptToPopulateSdidFromUrl()}(),function(){if(!v.idSyncDisableSyncs&&!v.disableIdSyncs){J.checkDPIframeSrc();D.addEventListener("load",function(){A.windowLoaded=!0,function(){var e=J;e.readyToAttachIframe()&&e.attachIframe()}()});try{B(function(e){J.receiveMessage(e.data)},J.iframeHost)}catch(e){}}}(),v.whitelistIframeDomains&&W.POST_MESSAGE_ENABLED&&(v.whitelistIframeDomains=v.whitelistIframeDomains instanceof Array?v.whitelistIframeDomains:[v.whitelistIframeDomains],v.whitelistIframeDomains.forEach(function(e){var n=new M(t,e),i=N(v,n);B(i,e)})))}};we.config=Y,c.Visitor=we;var Le=we,Pe=ke.OptIn,Re=ke.IabPlugin;return Le.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=c.s_c_il;if(t)for(var n=0;n<t.length;n++){var i=t[n];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(n)return n;var i=function(e){if(O.isObject(e))return Object.keys(e).filter(function(t){return""!==e[t]}).reduce(function(t,n){var i=Y.normalizeConfig(e[n]),r=O.normalizeBoolean(i);return t[n]=r,t},Object.create(null))}(t);!function(e){c.adobe.optIn=c.adobe.optIn||function(){var t=O.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),n=e.optInCookieDomain||e.cookieDomain;n=(n=n||F())===window.location.hostname?"":n,t.optInCookieDomain=n;var i=new Pe(t,{cookies:V});if(t.isIabContext&&t.doesOptInApply){var r=new Re;i.registerPlugin(r)}return i}()}(i||{});var r=e.split("").reverse().join(""),o=new Le(e,null,r);O.isObject(i)&&i.cookieDomain&&(o.cookieDomain=i.cookieDomain),c.s_c_il.splice(--c.s_c_in,1);var a=O.getIeVersion();if("number"==typeof a&&a<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var s=function(){try{return c.self!==c.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)&&c.parent?new L(e,i,o,c.parent):new Le(e,i,r);return o=null,s.init(),s},function(){function e(){Le.windowLoaded=!0}c.addEventListener?c.addEventListener("load",e):c.attachEvent&&c.attachEvent("onload",e),Le.codeLoadEnd=(new Date).getTime()}(),Le}();!function(){"use strict";function e(e,t,n){var i="",r=t||"Error caught in DIL module/submodule: ";return e===Object(e)?i=r+(e.message||"err has no message"):(i=r+"err is not a valid object",e={}),e.message=i,n instanceof DIL&&(e.partner=n.api.getPartner()),DIL.errorModule.handleError(e),this.errorMessage=i}var t,n,i,r={submitUniversalAnalytics:function(e,t,n){try{var i,r,o,a,s=e.getAll()[0],c=s[n||"b"].data.keys,l={};for(i=0,r=c.length;i<r;i++)o=c[i],void 0===(a=s.get(o))||"function"==typeof a||a===Object(a)||/^_/.test(o)||/^&/.test(o)||(l[o]=a);return t.api.signals(l,"c_").submit(),l}catch(e){return"Caught error with message: "+e.message}},dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,signals:{},hasSignals:!1,handle:e,init:function(e,t,n){try{this.dil=null,this.arr=null,this.tv=null,this.errorMessage="",this.signals={},this.hasSignals=!1;var i={name:"DIL GA Module Error"},r="";t instanceof DIL?(this.dil=t,i.partner=this.dil.api.getPartner()):(r="dilInstance is not a valid instance of DIL",i.message=r,DIL.errorModule.handleError(i)),e instanceof Array&&e.length?this.arr=e:(r="gaArray is not an array or is empty",i.message=r,DIL.errorModule.handleError(i)),this.tv=this.constructTrackVars(n),this.errorMessage=r}catch(e){this.handle(e,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(e){var t,n,i,r,o,a,s=[];if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){for(a={},n=0,i=(o=this.defaultTrackVars).length;n<i;n++)a[o[n]]=!0;this.defaultTrackVarsObj=a}else a=this.defaultTrackVarsObj;if(e===Object(e)){if((t=e.names)instanceof Array&&(i=t.length))for(n=0;n<i;n++)"string"==typeof(r=t[n])&&r.length&&r in a&&s.push(r);if(s.length)return s}return this.defaultTrackVars},constructGAObj:function(e){var t,n,i,r,o,a,s={},c=e instanceof Array?e:this.arr;for(t=0,n=c.length;t<n;t++)(i=c[t])instanceof Array&&i.length&&(o=i=[],a=c[t],o instanceof Array&&a instanceof Array&&Array.prototype.push.apply(o,a),"string"==typeof(r=i.shift())&&r.length&&(s[r]instanceof Array||(s[r]=[]),s[r].push(i)));return s},addToSignals:function(e,t){return"string"==typeof e&&""!==e&&null!=t&&""!==t&&(this.signals[e]instanceof Array||(this.signals[e]=[]),this.signals[e].push(t),this.hasSignals=!0)},constructSignals:function(){var e,t,n,i,r,o,a=this.constructGAObj(),s={_setAccount:function(e){this.addToSignals("c_accountId",e)},_setCustomVar:function(e,t,n){"string"==typeof t&&t.length&&this.addToSignals("c_"+t,n)},_addItem:function(e,t,n,i,r,o){this.addToSignals("c_itemOrderId",e),this.addToSignals("c_itemSku",t),this.addToSignals("c_itemName",n),this.addToSignals("c_itemCategory",i),this.addToSignals("c_itemPrice",r),this.addToSignals("c_itemQuantity",o)},_addTrans:function(e,t,n,i,r,o,a,s){this.addToSignals("c_transOrderId",e),this.addToSignals("c_transAffiliation",t),this.addToSignals("c_transTotal",n),this.addToSignals("c_transTax",i),this.addToSignals("c_transShipping",r),this.addToSignals("c_transCity",o),this.addToSignals("c_transState",a),this.addToSignals("c_transCountry",s)},_trackSocial:function(e,t,n,i){this.addToSignals("c_socialNetwork",e),this.addToSignals("c_socialAction",t),this.addToSignals("c_socialTarget",n),this.addToSignals("c_socialPagePath",i)}},c=this.tv;for(e=0,t=c.length;e<t;e++)if(n=c[e],a.hasOwnProperty(n)&&s.hasOwnProperty(n)&&(o=a[n])instanceof Array)for(i=0,r=o.length;i<r;i++)s[n].apply(this,o[i])},submit:function(){try{return""!==this.errorMessage?this.errorMessage:(this.constructSignals(),this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)):"No signals present")}catch(e){return this.handle(e,"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:e,callback:null,v:function(){return!1},init:function(e,t,n){try{this.dil=null,this.callback=null,this.errorMessage="",e instanceof DIL?(this.dil=e,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(t)?t:"aam_ga",this.delimiter=this.v(n)?n:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(e){this.handle(e,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(e){var t,n,i,r,o,a,s,c,l,u,d,f=!1,p=1;if(e===Object(e)&&(t=e.stuff)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)if((r=t[i])&&r===Object(r)&&(o=r.cn,a=r.cv,o===this.cookieName&&this.v(a))){f=!0;break}if(f){for(s=a.split(this.delimiter),void 0===window._gaq&&(window._gaq=[]),c=window._gaq,i=0,n=s.length;i<n&&(u=(l=s[i].split("="))[0],d=l[1],this.v(u)&&this.v(d)&&c.push(["_setCustomVar",p++,u,d,1]),!(p>this.LIMIT));i++);this.errorMessage=1<p?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"==typeof this.callback)return this.callback()},submit:function(){try{var e=this;return""!==this.errorMessage?this.errorMessage:(this.dil.api.afterResult(function(t){e.process(t)}).submit(),"DIL.modules.GA.Stuffer.submit() successful")}catch(e){return this.handle(e,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}},o={dil:null,handle:e,init:function(e,t,n,i){try{var r=this,o={name:"DIL Site Catalyst Module Error"},a=function(e){return o.message=e,DIL.errorModule.handleError(o),e};if(this.options=i===Object(i)?i:{},this.dil=null,!(t instanceof DIL))return a("dilInstance is not a valid instance of DIL");if(this.dil=t,o.partner=t.api.getPartner(),e!==Object(e))return a("siteCatalystReportingSuite is not an object");var s=e;return window.AppMeasurement_Module_DIL=s.m_DIL=function(e){var t="function"==typeof e.m_i?e.m_i("DIL"):this;if(t!==Object(t))return a("m is not an object");t.trackVars=r.constructTrackVars(n),t.d=0,t.s=e,t._t=function(){var e,t,n,i,o,s,c=this,l=","+c.trackVars+",",u=c.s,d=[],f=[],p={},g=!1;if(u!==Object(u))return a("Error in m._t function: s is not an object");if(c.d){if("function"==typeof u.foreachVar)u.foreachVar(function(e,t){void 0!==t&&(p[e]=t,g=!0)},c.trackVars);else{if(!(u.va_t instanceof Array))return a("Error in m._t function: s.va_t is not an array");if(u.lightProfileID?e=(e=u.lightTrackVars)&&","+e+","+u.vl_mr+",":(u.pe||u.linkType)&&(e=u.linkTrackVars,u.pe&&(t=u.pe.substring(0,1).toUpperCase()+u.pe.substring(1),u[t]&&(e=u[t].trackVars)),e=e&&","+e+","+u.vl_l+","+u.vl_l2+","),e){for(s=0,d=e.split(",");s<d.length;s++)0<=l.indexOf(","+d[s]+",")&&f.push(d[s]);f.length&&(l=","+f.join(",")+",")}for(i=0,o=u.va_t.length;i<o;i++)n=u.va_t[i],0<=l.indexOf(","+n+",")&&void 0!==u[n]&&null!==u[n]&&""!==u[n]&&(p[n]=u[n],g=!0)}r.includeContextData(u,p).store_populated&&(g=!0),g&&c.d.api.signals(p,"c_").submit()}}},s.loadModule("DIL"),s.DIL.d=t,o.message?o.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(e){return this.handle(e,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(e){var t,n,i,r,o,a,s,c,l=[];if(e===Object(e)){if((t=e.names)instanceof Array&&(r=t.length))for(i=0;i<r;i++)"string"==typeof(o=t[i])&&o.length&&l.push(o);if((n=e.iteratedNames)instanceof Array&&(r=n.length))for(i=0;i<r;i++)if((a=n[i])===Object(a)&&(o=a.name,c=parseInt(a.maxIndex,10),"string"==typeof o&&o.length&&!isNaN(c)&&0<=c))for(s=0;s<=c;s++)l.push(o+s);if(l.length)return l.join(",")}return this.constructTrackVars({names:["pageName","channel","campaign","products","events","pe","pev1","pev2","pev3"],iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(e,t){var n={},i=!1;if(e.contextData===Object(e.contextData)){var r,o,a,s,c,l=e.contextData,u=this.options.replaceContextDataPeriodsWith,d=this.options.filterFromContextVariables,f={};if("string"==typeof u&&u.length||(u="_"),d instanceof Array)for(r=0,o=d.length;r<o;r++)a=d[r],this.dil.validators.isPopulatedString(a)&&(f[a]=!0);for(s in l)l.hasOwnProperty(s)&&!f[s]&&(!(c=l[s])&&"number"!=typeof c||(t[s=("contextData."+s).replace(/\./g,u)]=c,i=!0))}return n.store_populated=i,n}};"function"!=typeof window.DIL&&(window.DIL=function(e){var t,n,i,r,o,a,s,c,l,u,d,f,p,g,h,m,y,v,I,_,C,b=[],S={};function D(e){return void 0===e||!0===e}e!==Object(e)&&(e={}),i=e.partner,r=e.containerNSID,o=e.mappings,a=e.uuidCookie,s=!0===e.enableErrorReporting,c=e.visitorService,l=e.declaredId,u=!0===e.delayAllUntilWindowLoad,d=D(e.secureDataCollection),f="boolean"==typeof e.isCoopSafe?e.isCoopSafe:null,p=D(e.enableHrefererParam),g=D(e.enableLogging),h=D(e.enableUrlDestinations),m=D(e.enableCookieDestinations),y=!0===e.disableDefaultRequest,v=e.afterResultForDefaultRequest,I=e.visitorConstructor,_=!0===e.disableCORS,C=!0===e.ignoreHardDependencyOnVisitorAPI,s&&DIL.errorModule.activate(),C&&b.push("Warning: this instance is configured to ignore the hard dependency on the VisitorAPI service. This means that no URL destinations will be fired if the instance has no connection to VisitorAPI. If the VisitorAPI service is not instantiated, ID syncs will not be fired either.");var A=!0===window._dil_unit_tests;if((t=arguments[1])&&b.push(t+""),!i||"string"!=typeof i){var O={name:"error",message:t="DIL partner is invalid or not specified in initConfig",filename:"dil.js"};return DIL.errorModule.handleError(O),new Error(t)}if(t="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",!r&&"number"!=typeof r||(r=parseInt(r,10),!isNaN(r)&&0<=r&&(t="")),t&&(r=0,b.push(t),t=""),(n=DIL.getDil(i,r))instanceof DIL&&n.api.getPartner()===i&&n.api.getContainerNSID()===r)return n;if(!(this instanceof DIL))return new DIL(e,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+i+" and containerNSID = "+r);DIL.registerDil(this,i,r);var k={doesConsoleLogExist:window.console===Object(window.console)&&"function"==typeof window.console.log,logMemo:{},log:function(e){b.push(e),g&&this.doesConsoleLogExist&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,arguments)},logOnce:function(e){this.logMemo[e]||(this.logMemo[e]=!0,k.log(e))}},E={IS_HTTPS:d||"https:"===document.location.protocol,SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return null}()};E.IS_IE_LESS_THAN_10="number"==typeof E.IE_VERSION&&E.IE_VERSION<10;var T={stuffed:{}},M={},w={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:r+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:3e4,calledBack:!1,mid:null,noVisitorAPI:null,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(e){try{if(this.admsProcessingStarted)return;this.admsProcessingStarted=!0;var t,n,i,o=c;if("function"!=typeof e||"function"!=typeof e.getInstance)throw this.noVisitorAPI=!0,new Error("Visitor does not exist.");if(o!==Object(o)||!(t=o.namespace)||"string"!=typeof t)throw this.releaseType="no namespace",new Error("DIL.create() needs the initConfig property `visitorService`:{namespace:'<Experience Cloud Org ID>'}");if((n=e.getInstance(t,{idSyncContainerID:r}))!==Object(n)||"function"!=typeof n.isAllowed||"function"!=typeof n.getMarketingCloudVisitorID||"function"!=typeof n.getCustomerIDs||"function"!=typeof n.isOptedOut||"function"!=typeof n.publishDestinations)throw this.releaseType="invalid instance",i="Invalid Visitor instance.",n===Object(n)&&"function"!=typeof n.publishDestinations&&(i+=" In particular, visitorInstance.publishDestinations is not a function. This is needed to fire URL destinations in DIL v8.0+ and should be present in Visitor v3.3.0+ ."),new Error(i);if(this.VisitorAPI=e,!n.isAllowed())return this.releaseType="VisitorAPI is not allowed to write cookies",void this.releaseRequests();this.instance=n,this.waitForMidToReleaseRequests()}catch(e){if(!C)throw new Error("Error in processing Visitor API, which is a hard dependency for DIL v8.0+: "+e.message);this.releaseRequests()}},waitForMidToReleaseRequests:function(){var e=this;this.instance&&(this.instance.getMarketingCloudVisitorID(function(t){e.mid=t,e.releaseType="VisitorAPI",e.releaseRequests()},!0),(!F.exists||!F.isIabContext&&F.isApproved()||F.isIabContext&&B.hasGoSignal())&&setTimeout(function(){"VisitorAPI"!==e.releaseType&&(e.releaseType="timeout",e.releaseRequests())},this.getLoadTimeout()))},releaseRequests:function(){this.calledBack=!0,w.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=N.isPopulatedString,t=this.getMarketingCloudVisitorID();return e(this.mid)&&this.mid===t||(this.mid=t),e(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e!==Object(e))return"";var t,n,i,r,o="",a=[],s=[];for(t in e)e.hasOwnProperty(t)&&(n=e[s[0]=t])===Object(n)&&(s[1]=n.id||"",s[2]=n.authState||0,a.push(s),s=[]);if(r=a.length)for(i=0;i<r;i++)o+="&d_cid_ic="+V.encodeAndBuildRequest(a[i],"%01");return o},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(e){this.isOptedOut=e,this.isOptedOutCallbackCalled=!0,w.registerRequest(),F.isIabContext()&&B.checkQueryStringObject()},getLoadTimeout:function(){var e=this.instance;if(e){if("function"==typeof e.getLoadTimeout)return e.getLoadTimeout();if(void 0!==e.loadTimeout)return e.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var n=N.isPopulatedString,i=encodeURIComponent;if(e===Object(e)&&n(t)){var r=e.dpid,o=e.dpuuid,a=null;if(n(r)&&n(o))return a=i(r)+"$"+i(o),!0===this.declaredIdCombos[a]?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[a]=!0,this.declaredId[t]={dpid:r,dpuuid:o},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,t=this.declaredId.init,n=encodeURIComponent,i="";return null!==e?i="&d_dpid="+n(e.dpid)+"&d_dpuuid="+n(e.dpuuid):null!==t&&(i="&d_dpid="+n(t.dpid)+"&d_dpuuid="+n(t.dpuuid)),i}},registerRequest:function(e){var t,n=this.firingQueue;e===Object(e)&&(n.push(e),e.isDefaultRequest||(y=!0)),this.firing||!n.length||u&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(F.isApproved()||B.hasGoSignal())&&(this.adms.isOptedOutCallbackCalled=!1,(t=n.shift()).src=t.src.replace(/&d_nsid=/,"&"+this.adms.getMIDQueryString()+B.getQueryString()+"d_nsid="),N.isPopulatedString(t.corsPostData)&&(t.corsPostData=t.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+B.getQueryString()+"d_nsid=")),j.fireRequest(t),this.firstRequestHasFired||"script"!==t.tag&&"cors"!==t.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(I||window.Visitor)},getCoopQueryString:function(){var e="";return!0===f?e="&d_coop_safe=1":!1===f&&(e="&d_coop_unsafe=1"),e}};S.requestController=w;var L,P,R={sendingMessages:!1,messages:[],messagesPosted:[],destinations:[],destinationsPosted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],publishDestinationsVersion:null,requestToProcess:function(e,t){var n,i=this;function r(){i.jsonForComparison.push(e),i.jsonWaiting.push([e,t])}if(e&&!N.isEmptyObject(e))if(n=JSON.stringify(e.dests||[]),this.jsonForComparison.length){var o,a,s,c=!1;for(o=0,a=this.jsonForComparison.length;o<a;o++)if(s=this.jsonForComparison[o],n===JSON.stringify(s.dests||[])){c=!0;break}c?this.jsonDuplicates.push(e):r()}else r();if(this.jsonWaiting.length){var l=this.jsonWaiting.shift();this.process(l[0],l[1]),this.requestToProcess()}this.messages.length&&!this.sendingMessages&&this.sendMessages()},process:function(e){if(h){var t,n,i,r,o,a,s=encodeURIComponent,c=this.getPublishDestinationsVersion(),l=!1;if(-1!==c){if((t=e.dests)&&t instanceof Array&&(n=t.length)){for(i=0;i<n;i++)r=t[i],a=[s("dests"),s(r.id||""),s(r.y||""),s(r.c||"")].join("|"),this.addMessage(a),o={url:r.c,hideReferrer:void 0===r.hr||!!r.hr,message:a},this.addDestination(o),void 0!==r.hr&&(l=!0);1===c&&l&&k.logOnce("Warning: visitorInstance.publishDestinations version is old (Visitor v3.3.0 to v4.0.0). URL destinations will not have the option of being fired on page, only in the iframe.")}this.jsonProcessed.push(e)}}},addMessage:function(e){this.messages.push(e)},addDestination:function(e){this.destinations.push(e)},sendMessages:function(){this.sendingMessages||(this.sendingMessages=!0,h&&this.messages.length&&this.publishDestinations())},publishDestinations:function(){function e(e){k.log("visitor.publishDestinations() result: "+(e.error||e.message)),n.sendingMessages=!1,n.requestToProcess()}function t(){n.messages=[],n.destinations=[]}var n=this,r=w.adms.instance,o=[],a=[];return 1===this.publishDestinationsVersion?(V.extendArray(o,this.messages),V.extendArray(this.messagesPosted,this.messages),t(),r.publishDestinations(i,o,e),"Called visitor.publishDestinations() version 1"):1<this.publishDestinationsVersion?(V.extendArray(a,this.destinations),V.extendArray(this.destinationsPosted,this.destinations),t(),r.publishDestinations({subdomain:i,callback:e,urlDestinations:a}),"Called visitor.publishDestinations() version > 1"):void 0},getPublishDestinationsVersion:function(){if(null!==this.publishDestinationsVersion)return this.publishDestinationsVersion;var e=w.adms.instance,t=-1;return e.publishDestinations(null,null,function(e){if(e===Object(e)){var n=e.error;"subdomain is not a populated string."===n?t=1:"Invalid parameters passed."===n&&(t=2)}}),this.publishDestinationsVersion=t}},x={traits:function(e){return N.isValidPdata(e)&&(M.sids instanceof Array||(M.sids=[]),V.extendArray(M.sids,e)),this},pixels:function(e){return N.isValidPdata(e)&&(M.pdata instanceof Array||(M.pdata=[]),V.extendArray(M.pdata,e)),this},logs:function(e){return N.isValidLogdata(e)&&(M.logdata!==Object(M.logdata)&&(M.logdata={}),V.extendObject(M.logdata,e)),this},customQueryParams:function(e){return N.isEmptyObject(e)||V.extendObject(M,e,w.reservedKeys),this},signals:function(e,t){var n,i=e;if(!N.isEmptyObject(i)){if(t&&"string"==typeof t)for(n in i={},e)e.hasOwnProperty(n)&&(i[t+n]=e[n]);V.extendObject(M,i,w.reservedKeys)}return this},declaredId:function(e){return w.declaredId.setDeclaredId(e,"request"),this},result:function(e){return"function"==typeof e&&(M.callback=e),this},afterResult:function(e){return"function"==typeof e&&(M.postCallbackFn=e),this},useImageRequest:function(){return M.useImageRequest=!0,this},clearData:function(){return M={},this},submit:function(e){return M.isDefaultRequest=!!e,j.submitRequest(M),M={},this},getPartner:function(){return i},getContainerNSID:function(){return r},getEventLog:function(){return b},getState:function(){var t={},n={};return V.extendObject(t,w,{registerRequest:!0}),V.extendObject(n,R,{requestToProcess:!0,process:!0,sendMessages:!0}),{initConfig:e,pendingRequest:M,otherRequestInfo:t,destinationPublishingInfo:n,log:b}},idSync:function(){throw new Error("Please use the `idSyncByURL` method of the Experience Cloud ID Service (Visitor) instance")},aamIdSync:function(){throw new Error("Please use the `idSyncByDataSource` method of the Experience Cloud ID Service (Visitor) instance")},passData:function(e){return N.isEmptyObject(e)?"Error: json is empty or not an object":(j.defaultCallback(e),e)},getPlatformParams:function(){return w.platformParams},getEventCallConfigParams:function(){var e,t=w,n=t.modStatsParams,i=t.platformParams;if(!n){for(e in n={},i)i.hasOwnProperty(e)&&!t.nonModStatsParams[e]&&(n[e.replace(/^d_/,"")]=i[e]);!0===f?n.coop_safe=1:!1===f&&(n.coop_unsafe=1),t.modStatsParams=n}return n},setAsCoopSafe:function(){return f=!0,this},setAsCoopUnsafe:function(){return f=!1,this},getEventCallIabSignals:function(e){var t;return e!==Object(e)?"Error: config is not an object":"function"!=typeof e.callback?"Error: config.callback is not a function":(t=parseInt(e.timeout,10),isNaN(t)&&(t=null),void B.getQueryStringObject(e.callback,t))}},j={corsMetadata:(L="none","undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&(L="XMLHttpRequest"),{corsType:L}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){return w.registerRequest(j.createQueuedRequest(e)),!0},createQueuedRequest:function(e){var t,n,i,r,a,s=e.callback,c="img",l=e.isDefaultRequest;if(delete e.isDefaultRequest,!N.isEmptyObject(o))for(i in o)if(o.hasOwnProperty(i)){if(null==(r=o[i])||""===r)continue;if(i in e&&!(r in e)&&!(r in w.reservedKeys)){if(null==(a=e[i])||""===a)continue;e[r]=a}}return N.isValidPdata(e.sids)||(e.sids=[]),N.isValidPdata(e.pdata)||(e.pdata=[]),N.isValidLogdata(e.logdata)||(e.logdata={}),e.logdataArray=V.convertObjectToKeyValuePairs(e.logdata,"=",!0),e.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof s&&(s=this.defaultCallback),t=this.makeRequestSrcData(e),(n=this.getCORSInstance())&&!0!==e.useImageRequest&&(c="cors"),{tag:c,src:t.src,corsSrc:t.corsSrc,callbackFn:s,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:n,corsPostData:t.corsPostData,isDefaultRequest:l}},defaultCallback:function(e,t){var n,i,r,o,s,c,l,u,d;if(m&&(n=e.stuff)&&n instanceof Array&&(i=n.length))for(r=0;r<i;r++)(o=n[r])&&o===Object(o)&&(s=o.cn,c=o.cv,void 0!==(l=o.ttl)&&""!==l||(l=Math.floor(V.getMaxCookieExpiresInMinutes()/60/24)),u=o.dmn||"."+document.domain.replace(/^www\./,""),d=o.type,s&&(c||"number"==typeof c)&&("var"!==d&&(l=parseInt(l,10))&&!isNaN(l)&&V.setCookie(s,c,24*l*60,"/",u,!1),T.stuffed[s]=c));var f,p,g=e.uuid;N.isPopulatedString(g)&&(N.isEmptyObject(a)||("string"==typeof(f=a.path)&&f.length||(f="/"),p=parseInt(a.days,10),isNaN(p)&&(p=100),V.setCookie(a.name||"aam_did",g,24*p*60,f,a.domain||"."+document.domain.replace(/^www\./,""),!0===a.secure))),w.abortRequests||R.requestToProcess(e,t)},makeRequestSrcData:function(e){e.sids=N.removeEmptyArrayValues(e.sids||[]),e.pdata=N.removeEmptyArrayValues(e.pdata||[]);var t=w,n=t.platformParams,r=V.encodeAndBuildRequest(e.sids,","),o=V.encodeAndBuildRequest(e.pdata,","),a=(e.logdataArray||[]).join("&");delete e.logdataArray;var s,c,l=encodeURIComponent,u=E.IS_HTTPS?"https://":"http://",d=t.declaredId.getDeclaredIdQueryString(),f=t.adms.instance?t.adms.getCustomerIDsQueryString(t.adms.getCustomerIDs()):"",g=function(){var n,i,r,o,a=[];for(n in e)if(!(n in t.reservedKeys)&&e.hasOwnProperty(n))if(i=e[n],n=l(n),i instanceof Array)for(r=0,o=i.length;r<o;r++)a.push(n+"="+l(i[r]));else a.push(n+"="+l(i));return a.length?"&"+a.join("&"):""}(),h="d_dil_ver="+l(DIL.version),m="d_nsid="+n.d_nsid+t.getCoopQueryString()+d+f+(r.length?"&d_sid="+r:"")+(o.length?"&d_px="+o:"")+(a.length?"&d_ld="+l(a):""),y="&d_rtbd="+n.d_rtbd+"&d_jsonv="+n.d_jsonv+"&d_dst="+n.d_dst,v=p?"&h_referer="+l(location.href):"";return c=(s=u+i+".demdex.net/event")+"?"+h+"&"+m+y+g+v,{corsSrc:s+"?"+h+"&_ts="+(new Date).getTime(),src:c,corsPostData:m+y+g+v,isDeclaredIdCall:""!==d}},fireRequest:function(e){if("img"===e.tag)this.fireImage(e);else{var t=w.declaredId,n=t.declaredId.request||t.declaredId.init||{},i={dpid:n.dpid||"",dpuuid:n.dpuuid||""};this.fireCORS(e,i)}},fireImage:function(e){var n,i,r=w;r.abortRequests||(r.firing=!0,n=new Image(0,0),r.sent.push(e),n.onload=function(){r.firing=!1,r.fired.push(e),r.num_of_img_responses++,r.registerRequest()},i=function(n){t="imgAbortOrErrorHandler received the event of type "+n.type,k.log(t),r.abortRequests=!0,r.firing=!1,r.errored.push(e),r.num_of_img_errors++,r.registerRequest()},n.addEventListener("error",i),n.addEventListener("abort",i),n.src=e.src)},fireCORS:function(e,n){var r=this,o=w,a=this.corsMetadata.corsType,s=e.corsSrc,c=e.corsInstance,l=e.corsPostData,u=e.postCallbackFn,d="function"==typeof u;if(!o.abortRequests&&!_){o.firing=!0;try{c.open("post",s,!0),"XMLHttpRequest"===a&&(c.withCredentials=!0,c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(a){var s;try{if((s=JSON.parse(a))!==Object(s))return r.handleCORSError(e,n,"Response is not JSON")}catch(a){return r.handleCORSError(e,n,"Error parsing response as JSON")}try{var c=e.callbackFn;o.firing=!1,o.fired.push(e),o.num_of_cors_responses++,c(s,n),d&&u(s,n)}catch(a){a.message="DIL handleCORSResponse caught error with message "+a.message,t=a.message,k.log(t),a.filename=a.filename||"dil.js",a.partner=i,DIL.errorModule.handleError(a);try{c({error:a.name+"|"+a.message},n),d&&u({error:a.name+"|"+a.message},n)}catch(a){}}finally{o.registerRequest()}}(this.responseText)}),c.onerror=function(){r.handleCORSError(e,n,"onerror")},c.ontimeout=function(){r.handleCORSError(e,n,"ontimeout")},c.send(l)}catch(a){this.handleCORSError(e,n,"try-catch")}o.sent.push(e),o.declaredId.declaredId.request=null}},handleCORSError:function(e,t,n){w.num_of_cors_errors++,w.corsErrorSources.push(n)}},N={isValidPdata:function(e){return!!(e instanceof Array&&this.removeEmptyArrayValues(e).length)},isValidLogdata:function(e){return!this.isEmptyObject(e)},isEmptyObject:function(e){if(e!==Object(e))return!0;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(e){var t,n=0,i=e.length,r=[];for(n=0;n<i;n++)null!=(t=e[n])&&""!==t&&r.push(t);return r},isPopulatedString:function(e){return"string"==typeof e&&e.length}},V={convertObjectToKeyValuePairs:function(e,t,n){var i,r,o=[];for(i in t=t||"=",e)e.hasOwnProperty(i)&&null!=(r=e[i])&&""!==r&&o.push(i+t+(n?encodeURIComponent(r):r));return o},encodeAndBuildRequest:function(e,t){return e.map(function(e){return encodeURIComponent(e)}).join(t)},getCookie:function(e){var t,n,i,r=e+"=",o=document.cookie.split(";");for(t=0,n=o.length;t<n;t++){for(i=o[t];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(r))return decodeURIComponent(i.substring(r.length,i.length))}return null},setCookie:function(e,t,n,i,r,o){var a=new Date;n=n&&1e3*n*60,document.cookie=e+"="+encodeURIComponent(t)+(n?";expires="+new Date(a.getTime()+n).toUTCString():"")+(i?";path="+i:"")+(r?";domain="+r:"")+(o?";secure":"")},extendArray:function(e,t){return e instanceof Array&&t instanceof Array&&(Array.prototype.push.apply(e,t),!0)},extendObject:function(e,t,n){var i;if(e!==Object(e)||t!==Object(t))return!1;for(i in t)if(t.hasOwnProperty(i)){if(!N.isEmptyObject(n)&&i in n)continue;e[i]=t[i]}return!0},getMaxCookieExpiresInMinutes:function(){return E.SIX_MONTHS_IN_MINUTES},replaceMethodsWithFunction:function(e,t){var n;if(e===Object(e)&&"function"==typeof t)for(n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t)}},F=(P=S.requestController,{exists:null,instance:null,aamIsApproved:null,init:function(){var e=this;this.checkIfExists()?(this.exists=!0,this.instance=window.adobe.optIn,this.instance.fetchPermissions(function(){e.callback()},!0)):this.exists=!1},checkIfExists:function(){return window.adobe===Object(window.adobe)&&window.adobe.optIn===Object(window.adobe.optIn)},callback:function(){this.aamIsApproved=this.instance.isApproved([this.instance.Categories.AAM]),P.adms.waitForMidToReleaseRequests(),P.adms.getIsOptedOut()},isApproved:function(){return!this.isIabContext()&&!P.adms.isOptedOut&&(!this.exists||this.aamIsApproved)},isIabContext:function(){return this.instance&&this.instance.isIabContext}});S.optIn=F;var U,q,H,G,B=(q=(U=S).requestController,H=U.optIn,G={isVendorConsented:null,doesGdprApply:null,consentString:null,queryStringObjectCallbacks:[],init:function(){this.fetchConsentData()},hasGoSignal:function(){return!(!(H.isIabContext()&&this.isVendorConsented&&this.doesGdprApply&&"string"==typeof this.consentString&&this.consentString.length)||q.adms.isOptedOut)},fetchConsentData:function(e,t){var n=this,i={};"function"!=typeof e&&(e=function(){}),H.instance&&H.isIabContext()?(t&&(i.timeout=t),H.instance.execute({command:"iabPlugin.fetchConsentData",params:i,callback:function(t,i){i===Object(i)?(n.doesGdprApply=!!i.gdprApplies,n.consentString=i.consentString||""):(n.doesGdprApply=!1,n.consentString=""),n.isVendorConsented=H.instance.isApproved(H.instance.Categories.AAM),t?e({}):n.checkQueryStringObject(e),q.adms.waitForMidToReleaseRequests()}})):e({})},getQueryString:function(){return H.isIabContext()?"gdpr="+(this.doesGdprApply?1:0)+"&gdpr_consent="+this.consentString+"&":""},getQueryStringObject:function(e,t){this.fetchConsentData(e,t)},checkQueryStringObject:function(e){G.hasGoSignal()&&"function"==typeof e&&e({gdpr:this.doesGdprApply?1:0,gdpr_consent:this.consentString})}});function Q(){K||(K=!0,w.registerRequest(),W())}S.iab=B,"error"===i&&0===r&&window.addEventListener("load",function(){DIL.windowLoaded=!0});var K=!1,W=function(){setTimeout(function(){y||w.firstRequestHasFired||("function"==typeof v?x.afterResult(v).submit(!0):x.submit(!0))},DIL.constants.TIME_TO_DEFAULT_REQUEST)},X=document;"error"!==i&&(DIL.windowLoaded?Q():"complete"!==X.readyState&&"loaded"!==X.readyState?window.addEventListener("load",function(){DIL.windowLoaded=!0,Q()}):(DIL.windowLoaded=!0,Q())),w.declaredId.setDeclaredId(l,"init"),F.init(),B.init(),w.processVisitorAPI(),E.IS_IE_LESS_THAN_10&&V.replaceMethodsWithFunction(x,function(){return this}),this.api=x,this.getStuffedVariable=function(e){var t=T.stuffed[e];return t||"number"==typeof t||(t=V.getCookie(e))||"number"==typeof t||(t=""),t},this.validators=N,this.helpers=V,this.constants=E,this.log=b,this.pendingRequest=M,this.requestController=w,this.destinationPublishing=R,this.requestProcs=j,this.units=S,this.initConfig=e,this.logger=k,A&&(this.variables=T,this.callWindowLoadFunctions=Q)},DIL.extendStaticPropertiesAndMethods=function(e){var t;if(e===Object(e))for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},DIL.extendStaticPropertiesAndMethods({version:"9.4",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:500},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(){var e=arguments[0];this.windowLoaded="function"==typeof e?!!e():"boolean"!=typeof e||e},create:function(e){try{return new DIL(e)}catch(e){throw new Error("Error in attempt to create DIL instance with DIL.create(): "+e.message)}},registerDil:function(e,t,n){var i=t+"$"+n;i in this.dils||(this.dils[i]=e)},getDil:function(e,t){var n;return"string"!=typeof e&&(e=""),(n=e+"$"+(t=t||0))in this.dils?this.dils[n]:new Error("The DIL instance with partner = "+e+" and containerNSID = "+t+" was not found")},dexGetQSVars:function(e,t,n){var i=this.getDil(t,n);return i instanceof this?i.getStuffedVariable(e):""}}),DIL.errorModule=(t=DIL.create({partner:"error",containerNSID:0,ignoreHardDependencyOnVisitorAPI:!0}),i=!(n={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020}),{activate:function(){i=!0},handleError:function(e){if(!i)return"DIL error module has not been activated";e!==Object(e)&&(e={});var r=e.name?(e.name+"").toLowerCase():"",o=r in n?n[r]:n.noerrortypedefined,a=[],s={name:r,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""};return a.push(o),t.api.pixels(a).logs(s).useImageRequest().submit(),"DIL error report sent"},pixelMap:n}),DIL.tools={},DIL.modules={helpers:{}}),window.DIL&&DIL.tools&&DIL.modules&&(DIL.tools.getMetaTags=function(){var e,t,n,i,r,o={},a=document.getElementsByTagName("meta");for(e=0,n=arguments.length;e<n;e++)if(null!==(i=arguments[e]))for(t=0;t<a.length;t++)if((r=a[t]).name===i){o[i]=r.content;break}return o},DIL.tools.decomposeURI=function(e){var t,n=document.createElement("a");return n.href=e||document.referrer,{hash:n.hash,host:n.host.split(":").shift(),hostname:n.hostname,href:n.href,pathname:n.pathname.replace(/^\//,""),protocol:n.protocol,search:n.search,uriParams:(t={},n.search.replace(/^(\/|\?)?|\/$/g,"").split("&").map(function(e){var n=e.split("=");t[n.shift()]=n.shift()}),t)}},DIL.tools.getSearchReferrer=function(e,t){var n=DIL.getDil("error"),i=DIL.tools.decomposeURI(e||document.referrer),r="",o="",a={DEFAULT:{queryParam:"q"},SEARCH_ENGINES:[t===Object(t)?t:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}]},s=a.DEFAULT;return(r=a.SEARCH_ENGINES.filter(function(e){return!(!e.hasOwnProperty("hostPattern")||!i.hostname.match(e.hostPattern))}).shift())?{valid:!0,name:i.hostname,keywords:(n.helpers.extendObject(s,r),r=(""+i.search).match(s.queryPattern),o=s.queryPattern?r?r[1]:"":i.uriParams[s.queryParam],decodeURIComponent(o||"").replace(/\+|%20/g," "))}:{valid:!1,name:"",keywords:""}},DIL.modules.GA=r,DIL.modules.siteCatalyst=o,DIL.modules.helpers.handleModuleError=e)}(),function(e){var t={},n=window,i=document,r={};r.dat=e,t.version="20.08.03 - Standalone - Progress 6 - Experimental",r.noop=function(){},r.cookie={set:function(e,t,n){var i;if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toGMTString()}else i="";var o=location.hostname.split("."),a=o.pop(),s="."+o.pop()+"."+a;document.cookie=e+"="+t+i+";path=/;domain="+s},get:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""},find:function(e){var t,n=document.cookie.split(/;\s*/),i=[];for(t=0;t<n.length;t++)n[t].match(e)&&i.push(n[t]);return i}},r.merge_options=function(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n},r.hasOwnProperty=Object.prototype.hasOwnProperty,r.isEmpty=function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var t in e)if(r.hasOwnProperty.call(e,t))return!1;return!0},r.isIn=function(e,t,n){if(!r.isEmpty(e))for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(1==n&&(o="^"+o+"$"),new RegExp(o).test(e))return t[i]}return!1},r.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},r.defaults={api:"cpex_AAM",cloudID:"2C2555935C79EB590A495E90@AdobeOrg",cookie:{aamUUID:"aam_uuid",aamLast:"aam_last",aamFirst:"aam_first",aamTimeDependencyPrefix:"aam_td_",aamSlowDeployPrefix:"aam_sd_",aamSignalStoragePrefix:"aam_sig_",aamIdSync:"aam_net_ui",aamIdSyncTime:"aam_net_ts"},behavior:{shortener:!0,debug:!1,serviceCall:!0,autofire:!0,trackLinks:!0,enableReboot:!1,strictGDPR:!1},searchEngines:{hostPattern:/(search\.seznam\.cz|search\.centrum\.cz|searchatlas\.centrum\.cz|search\.volny\.cz)/,queryParam:"q"},searchQueries:["q","query","search","what","h[fraze]","txt_search"],extensions:{cpex_network:{release:"1432745643240",period:86.4,min:20,max:100}}},r.MergeRecursive=function(e,t){for(var n in t)try{t[n].constructor==Object?e[n]=r.MergeRecursive(e[n],t[n]):e[n]=t[n]}catch(i){e[n]=t[n]}return e},r.dat=r.MergeRecursive(r.defaults,r.dat),"dev"==r.cookie.get("aam_lib")&&(r.dat.behavior.debug=!0),r.notify=function(){var e=r.dat.behavior.debug||!1,t=console;r.notify.log=function(n,i){if(e)switch(i){case 1:case 2:case 3:t.log("AAM: "+n);break;case 4:t.warn("AAM: "+n);break;case 5:t.error("AAM: "+n);break;default:t.log("AAM: Notify called with incorrect priority.")}},r.notify.dir=function(n){e&&t.dir(n)},r.notify.group=function(n){e&&t.group(n)},r.notify.groupCollapsed=function(n){e&&t.groupCollapsed(n)},r.notify.groupEnd=function(){e&&t.groupEnd()},r.notify.table=function(n){e&&t.table(n)}},r.notify(),r.notify.group("Automatic Audience Manager Setter! "+t.version),r.serialize=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r.serviceCall=function(e,n){if(1==r.dat.behavior.serviceCall){var i=r.cookie.get(r.dat.cookie.aamUUID);if("object"==typeof e){var o=void 0!==e.name?e.name:"",a=void 0!==e.message?e.message:"",s=void 0!==e.lineNumber?e.lineNumber:"",c=void 0!==e.columnNumber?e.columnNumber:"";desc=o+": "+a+" - Line: "+s+" - Col: "+c}else desc=e;var l={v:"1",tid:"UA-10339556-7",cid:""!=i?i:(d=1e9,f=19e8,Math.floor(Math.random()*(f-d+1))+d),t:"event",dh:location.hostname,ec:"AAM",ea:n||"Failure",el:t.version,cd12:desc},u="https://www.google-analytics.com/collect?"+r.serialize(l);r.notify.log(u,1),(new Image).src=u}else r.notify.log("Tracking failed!",4);var d,f};try{r.decode=function(e){if(!(void 0!==e&&e.length>0))return e;try{return r.notify.log("[decoder] : Original string: "+e,1),e=(e=decodeURIComponent(unescape(unescape(e)))).replace("+"," ")}catch(t){return r.notify.log("[decoder] : String is not UTF8 valid",4),e}},r.time={cookieName:r.dat.cookie.aamLast||"aam_last",last:function(e){return""==(e=r.cookie.get(r.time.cookieName))?(cu=r.time.update(),r.notify.log("First TIME: "+cu,1),cu):(r.notify.log("LAST TIME: "+e,1),e)},current:function(){return(new Date).getTime()},update:function(e){var t=void 0===e?r.time.cookieName:e,n=r.time.current();return r.cookie.set(t,n,60),n}},r.randomIntFromInterval=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},r.loadAsyncScript=function(e,t,n){try{var i,o,a;o=!1,(i=document.createElement("script")).type="text/javascript",i.src=e,i.onload=i.onreadystatechange=function(){!t||o||this.readyState&&"complete"!=this.readyState||(o=!0,t())},i.onerror=function(){!n||o||this.readyState&&"complete"!=this.readyState||(o=!0,n())},(a=document.getElementsByTagName("script")[0]).parentNode.insertBefore(i,a)}catch(e){r.notify.log("Async load failed + "+e,4)}},r.allowTracking=!0,r.killSwitch=function(e,t){return 1==e?(r.notify.log("Tracking excluded by "+(t||"Mr Nobody")+"!",1),r.allowTracking=!1,!1):0==e?(r.notify.log((t||"Mr Nobody")+" tracking allowed!",1),!0):void 0},r.initTCF2=function(){if(void 0!==window.__tcfapi){r.notify.log("__tcfapi exist",1);var e=function(t,n){r.notify.group("SUBTASK: TCF v2.0 integration"),r.notify.dir(t,1),r.notify.log(n,1),r.notify.groupEnd(),n&&"tcloaded"===t.eventStatus||n&&"useractioncomplete"===t.eventStatus?(r.notify.log("In success branch",1),r.initSequence(),__tcfapi("removeEventListener",2,function(e){r.notify.log("Listener removed "+e,1),e&&r.notify.log("TCF v2.0 callback SUCCESS",1)},e)):r.notify.log("TCF v2.0 callback else",1)};__tcfapi("addEventListener",2,e)}else r.notify.log("__tcfapi does not exist",1)},r.initSequence=function(){r.initSelfDetection(),r.initExtensions(),r.initClickListener(),r.initTimeDependencie(),r.initEnvironmentDetector(),r.initSignals(),t.refresh=r.prepareApi,r.prepareApi()},r.initSelfDetection=function(){r.notify.group("TASK: Self detection"),void 0!==window.__cmp?(r.notify.log("__cmp exist",1),window.__cmp("getConsentData",null,function(e){r.notify.group("ASYNC SUBTASK: CMP integration LEGACY"),r.notify.dir(e),r.notify.groupEnd()}),window.__cmp("getVendorConsents",null,function(e){r.notify.group("SUBTASK: CMP vendor consent data LEGACY"),r.notify.groupCollapsed("CMP _vendorsConsent object",1),r.notify.dir(e),r.notify.groupEnd();var t=[1,2,5],n=[{id:565,name:"AAM"},{id:570,name:"CPEX"}];if("object"==typeof e)if(void 0!==e.gdprApplies&&!0===e.gdprApplies)if(void 0===e.metadata&&!1===r.dat.behavior.strictGDPR)r.notify.log("strictGDPR policy is not applied, user didn't interact with CMP!",1);else{if(!0===r.dat.behavior.strictGDPR&&r.notify.log("strictGDPR policy applied!",1),void 0!==e.purposeConsents){for(var i=e.purposeConsents,o=t.length,a=0,s=0;o>s;s++)void 0!==i[t[s]]&&!0===i[t[s]]?(r.notify.log("Allowed for purposeConsent ID: "+t[s],1),a++):r.notify.log("Not allowed for purposeConsent ID: "+t[s],4);a===o?r.notify.log("All purposeConsent requirements were met!",1):(r.notify.log("Some of purposeConsent requirements were not met! tracking is not allowed!",4),r.killSwitch(!0,"PurposeConsent requirements"))}if(void 0!==e.vendorConsents){var c=e.vendorConsents,l=n.length,u=0;for(s=0;l>s;s++)void 0!==c[n[s].id]&&!0===c[n[s].id]?(r.notify.log("Allowed for vendorConsent ID: "+n[s].id+" - "+n[s].name,1),u++):r.notify.log("Not allowed for vendorConsent ID: "+n[s].name,4);u===l?r.notify.log("All vendorConsent requirements were met!",1):(r.notify.log("Some of vendorConsent requirements were not met! tracking is not allowed!",4),r.killSwitch(!0,"VendorConsent requirements"))}}else r.notify.log("GDPR policy not applied here!",1);r.notify.groupEnd()})):r.notify.log("__cmp does not exist",1),r.notify.groupEnd()},r.SA2={},r.getSA2=function(e,t){var n=r.SA2;return void 0!==n[e]&&void 0!==n[e].v&&n[e].v},r.setSA2=function(e){var t=["v","s","r","t","p","l","o"],n="[set SA2] <- ";for(var i in e){if(e.hasOwnProperty(i)){n+=i;var o=[],a=e[i];if(void 0!==r.SA2[i]&&void 0!==r.SA2[i].o&&r.isIn("c",r.SA2[i].o))return r.notify.log(n+" - Can not be overwritten, signal canceled!",4),!1;for(var s in e[i])if(r.isIn(s,t,!0)){switch(r.notify.log("Allowed signal "+s+" "+r.isIn(s,t,!0),1),o.push(s),s){case"o":r.isIn("c",a[s])||r.notify.log("THIS SIGNAl IS UNIQUE",1),r.notify.log(a[s],1)}void 0===a[s]&&"undefined"==a[s]&&""==a[s]&&null==a[s]||("v"==s&&(r.SA2[i]={}),r.SA2[i][s]=a[s]),n+=" | "+s+" : "+a[s]}}r.notify.log(n,1)}},r.signalAnatomy={},r.set=function(e,t,n){var i=["val","private","time_last","time_ltv","owner","persistent"],o="[set] <- ";if(r.isEmpty(r.signalAnatomy[e])&&(r.signalAnatomy[e]={}),"object"!=typeof t)o+="Simple signal '"+e+"' set - '"+t+"'",r.signalAnatomy[e].val=t,"boolean"==typeof n&&(r.signalAnatomy[e].private=n);else for(var a in o+="Signal '"+e+"'",t)t.hasOwnProperty(a)&&r.isIn(a,i)&&(("impsm"==e||"persistent"==a&&1==t[a])&&(cooname=r.dat.cookie.aamSignalStoragePrefix||"aam_sig_",r.cookie.set(cooname+e,JSON.stringify(t),60)),void 0===t[a]&&"undefined"==t[a]&&""==t[a]&&null==t[a]||(r.signalAnatomy[e][a]=t[a]),o+=" | "+a+" : "+t[a]);r.notify.log(o,1),r.signalAnatomy[e].time_last=r.time.current()},r.customData=function(){r.notify.groupCollapsed("SIGNALS: DATALAYER");var e="object"==typeof aamDataLayer?aamDataLayer:{};if(r.custom)for(var t in r.custom)e[t]=r.custom[t];for(var n in e){var i="",o={};if(e.hasOwnProperty(n)){i=n;for(var a in e[n])if(e.hasOwnProperty(n)&&(void 0!==e[n].val&&(o.val=e[n].val),void 0!==e[n].private)){var s=e[n][a];"boolean"==typeof e[n][a]?o.private=s:1!==s&&0!==s||(o.private=1==s)}o.owner="dataLayer",r.set(i,o)}}r.notify.groupEnd()},r.prepareSignals=function(){r.notify.groupCollapsed("TASK: Prepare signals from signalAnatomy scheme");var e=!r.dat.shared,t=r.signalAnatomy;for(var n in t)if(t.hasOwnProperty(n)){var i="";if("boolean"==typeof t[n].private?i=" and private call is forced to: "+(e=t[n].private):e="advertiser"==r.dat.state||!r.dat.shared,r.isEmpty(t[n].val)&&"number"!=typeof t[n].val&&r.dat.shortener)r.notify.log("Prepare Stage: Signal '"+n+"' was canceled!",1);else{var o="c_"+(e?"advertiser"==r.dat.state?"a_":"p_":"")+n,a=t[n].val,s={n:o,v:a};r.notify.log("Prepare Stage: "+o+": "+a+i,1),r.signalQueue[s.n]=s.v}}r.notify.groupEnd()},r.getQueryParam=function(e){if(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(location.search))return decodeURIComponent(e[1])},r.get=function(e){var t={pagedescription:function(){if(i.getElementsByName("description").length>0)return i.getElementsByName("description")[0].getAttribute("content")},pagehostname:function(){return location.hostname},pagekeywords:function(){if(i.getElementsByName("keywords").length>0)return i.getElementsByName("keywords")[0].getAttribute("content")},pagetitle:function(){return i.title},pageurl:function(){return i.URL},referrer:function(){return i.referrer}},n="[getter] -> ";try{if("function"==typeof t[e]){var o=(0,t[e])();return"string"==typeof o&&o.length>0?(r.notify.log(n+"Requested value "+e+" is "+o,1),o):(r.notify.log(n+"Requested value "+e+" do not contain any value!",1),"")}return r.notify.log(n+"Requested value "+e+" does not exist!",4),""}catch(e){r.notify.log(n+"Error while delivering data "+e,1)}},r.dependencies={cookieNamePrefix:r.dat.cookie.aamTimeDependencyPrefix||"aam_td_",storage:{},register:function(e,t,n){r.dependencies.storage[e]={time:t,callback:n},r.notify.log("Registering time dependency "+e,1)},check:function(e){return r.dependencies.storage[e]}},r.callbacks={cpex_network:function(){r.notify.log("CPEX NETWORK callback",1);var e=864.0000000000001;var t=r.cookie.get(r.dat.cookie.aamIdSyncTime);if(""!=t){var n=parseInt(1e3*t+1),i=parseInt(r.time.current()),o=i-n;if(r.notify.log("OldTime Corrected: "+n+" - Diff in seconds: "+(n-parseInt(r.time.current()))+" - Hours"+(o<0?" to first init: ":": ")+24*Math.abs(o/864e5),1),!(n<i))return r.blockFiring=!0,r.notify.log("CPEX NETWORK BLOCKING",1),!1;o/864e5<30?(r.notify.log("Daily update mode",1),e=864e5):(r.notify.log("Weekly update mode",1),e=6048e5),r.blockFiring=!1,r.notify.log("CPEX NETWORK TRACKING",1)}else e=1;return r.dependencies.register("cpex_network",e,function(){r.notify.log("CALLBACK FOR TIME DEPENDENCY CPEC NETWORK SYNC",1),r.callbacks.cpex_networkTimeDependency(e)}),!0},cpex_networkPostProcess:function(){r.notify.log("Time syncing finished!",1)},cpex_networkError:function(){r.notify.log("Error occured",1),r.serviceCall("CPEX Network","Error occured"),r.blockFiring=!1,r.prepareApi()},cpex_networkTimeDependency:function(e){r.notify.log("TIMEDEPENDENCY CALLBACK",1),r.blockFiring=!0,n.aam_time_sync=function(e){r.notify.groupCollapsed("TASK: Cpex Network Sync Callback"),r.notify.log("Custom cpex_network post setting callback",1);try{if(isNaN(e.ts)||"number"!=typeof e.uuid&&"string"!=typeof e.uuid)throw"Bad Data";var t=r.time.current()/1e3-e.ts;r.cookie.set(r.dat.cookie.aamIdSync,e.uuid,60),r.cookie.set(r.dat.cookie.aamIdSyncTime,e.ts,60),r.notify.log(e.uuid+" : "+t+"s",1),r.callbacks.cpex_network(),r.prepareApi()}catch(e){r.serviceCall("CPEX Network","Time sync failed"+e),r.blockFiring=!1,r.prepareApi()}r.notify.groupEnd()},r.loadAsyncScript("//pixel.cpex.cz/uuid.js?jsp=aam_time_sync",r.callbacks.cpex_networkPostProcess,r.callbacks.cpex_networkError)}},r.multipleInitProtection=function(e){var t=!0;void 0!==n[r.dat.api]&&"initialized"===n[r.dat.api]().trackerState&&!0==!r.dat.behavior.enableReboot&&(t=!1,r.killSwitch(!0,"Double loader")),r.notify.log("Tracker reboot "+(!0===r.dat.behavior.enableReboot?"enabled":"disabled"),1),r.notify.log("Reinit protection '"+(e||"")+"'- "+(t?"tracker may be initilaized":"tracker init forbidden"),1)},r.slowDeploy=function(e,t,n,i,o,a){r.notify.groupCollapsed("TASK: Slow Deploy '"+e+"' ");var s=r.time.current(),c=1*t+1*n>s;if(r.notify.log((c?"Slow deploy init params: ":"Skip slow deploy: ")+" DD: "+1*t+" RMS: "+n+" FULL: "+(1*t+1*n)+" CUR: "+s+" DIFF: "+(1*t+n-s),1),c){var l=(r.dat.cookie.aamSlowDeployPrefix||"aam_sd_")+e,u="",d=o-i;u+="Range: "+(d=d<=0?1:d>=100?100:d)+" % | ";var f=s-t;u+="Diff: "+f/1e3+" s | ";var p=f/n*100;u+="Progress: "+p+" % | ";var g=100/d;u+="Piece: "+g+" % | ";var h=(p=p>=100?100:p<0?0:p)/g;u+="Relative gain: "+h+" % | ";var m=i+h;u+="Abslute gain: "+m+" % | ",r.notify.log(u,1),r.notify.log("Current scale is "+f+" ms - "+f/1e3+" s - "+f/1e3/60+" m - "+f/1e3/60/60+" h - "+f/1e3/60/60/24+" d",1);var y=100*Math.random();u="Random result is "+y+" % | ";var v=y<m;u+=v?"Is in slowDeploy :-)":"Is not in slowDeploy :-(";var I=r.cookie.get(l);r.notify.log(u,1)}else v=!0;""!=I?(r.notify.log("Register '"+e+"' through slow deploy",1),a()):1==v?(r.notify.log("Register for first time '"+e+"' through slow deploy",1),r.cookie.set(l,t,60),r.serviceCall(e,"Slow Deploy For First Time"),a()):r.notify.log("Currently excluded '"+e+"' due to slowDeploy",1),r.notify.groupEnd()},r.initExtensions=function(){if(void 0!==r.dat.extensions){r.notify.groupCollapsed("TASK: Extensions");var e=r.dat.extensions;for(var t in e)if(!(void 0===e[t].restrict||void 0!==e[t].restrict&&r.isIn(i.location.hostname,r.dat.extensions[t].restrict))||void 0!==e[t].disable&&!0===e[t].disable)r.notify.log("Feature "+t+" not allowed due restriction policy",1);else{r.notify.log("Feature "+t+" allowed",1);var n=e[t].release||r.time.current(),o=e[t].period||864e5,a=e[t].min||0,s=e[t].max||100,c=r.callbacks[t];r.slowDeploy(t,n,o,a,s,c)}r.notify.groupEnd()}},r.initClickListener=r.once(function(){if(r.notify.groupCollapsed("TASK: Event listeners"),r.dat.behavior.trackLinks){r.notify.log("Link Tracking Enabled",1);try{document.body.onclick=function(e){var n,i=function(e,t){if((t.nodeName||t.tagName).toLowerCase()===e.toLowerCase())return t;for(;t=t.parentNode;)if((t.nodeName||t.tagName).toLowerCase()===e.toLowerCase())return t;return null}("a",(e=e||event).target||e.srcElement);i&&(r.notify.log(typeof i.href,1),t.submitGeneric({clickurl:{val:i.href,private:!0},clickurltext:{val:(n=i.innerHTML,/(<([^>]+)>)/gi,n.replace(/(<([^>]+)>)/gi,"")),private:!0}}))}}catch(e){r.serviceCall(e,"Link Error")}}else r.notify.log("Link Tracking Disabled",1);r.notify.groupEnd()}),r.prepareVisitorID=function(){r.notify.groupCollapsed("TOOL: Visitor ID Service setup"),window.visitor=Visitor.getInstance(r.dat.cloudID,{doesOptInApply:!0,isIabContext:!0}),r.notify.log("VisitorID Service registered under AdobeID: "+r.dat.cloudID,1),r.notify.groupEnd()},r.prepareAAM=function(){r.prepareVisitorID(),r.notify.groupCollapsed("TOOL: Audience manager setup");for(var e=r.dat.private.split(","),n=i.location.hostname,o=0,a=e.length;o<a;o++){if(e[o]==n){r.dat.shared=!1;break}r.dat.shared=!0}r.signalQueue={},r.notify.log("Registering "+r.dat.state+" "+r.dat.publisher+" in NS "+r.dat.namespace,1),r.notify.log("Code version: "+t.version,1),r.notify.log("Data are defaultly "+(r.dat.shared?"":"NOT ")+"shared across all publishers",1);try{r.notify.log("Data Integration Layer Loaded",1);var s=r.getSA2("dpuuid"),c={partner:r.dat.partner,containerNSID:r.dat.namespace,uuidCookie:{name:r.dat.cookie.aamUUID||"aam_uuid",days:30},visitorService:{namespace:r.dat.cloudID},enableErrorReporting:r.dat.behavior.debug||!1};s?(c.declaredId={dpuuid:s,dpid:"1768"},r.notify.log("DeclaredID value set: "+s,1)):r.notify.log("DeclaredID does not exist!",1);try{r.dil=DIL.create(c),r.notify.log("DIL Initiated",1),r.dilInit=!0}catch(e){r.notify.log("DIL Initiation failed",4)}}catch(e){r.serviceCall(e,"DIL Failure")}r.dat.se=DIL.tools.getSearchReferrer(i.referrer,r.dat.searchEngines),r.dat.ikws="",r.dat.engines=r.dat.searchQueries||[];for(o=0;o<r.dat.engines.length;o++)void 0!==r.getQueryParam(r.dat.engines[o])&&(r.dat.ikws=r.getQueryParam(r.dat.engines[o]),r.notify.log("Search keyword found: "+r.dat.ikws,1));r.dat.kws=r.dat.ikws.length>0?r.dat.ikws:r.dat.se.keywords,r.set("searchengine",r.dat.se.name),r.set("searchkeywords",r.decode(r.dat.kws)),r.notify.groupEnd()},r.initTimeDependencie=function(){r.notify.groupCollapsed("TASK: Time Dependencies");var e=r.dat.cookie.aamTimeDependencyPrefix||"aam_td_",t=r.dependencies.storage;for(var n in t)if(t.hasOwnProperty(n)){r.notify.log("DEPENDENCY: '"+n+"' was found and it is processed!",1);var i=e+n,o=r.cookie.get(i),a=r.time.current();a-o>t[n].time||""==o?(r.notify.log("Dependency '"+n+"' activated and callback requested!",1),t[n].callback(),r.time.update(i)):r.notify.log("Dependency '"+n+"' not activated! Time diff: "+(a-o)/1e3+" sec; time missing: "+(a-o-t[n].time)/1e3+" sec",1)}r.time.update(),r.notify.groupEnd()},r.initEnvironmentDetector=function(){r.notify.group("SIGNALS: ENVIRONMENT DETECTOR"),r.multipleInitProtection("optimization"),function(){if("string"==typeof n.aamDeclaredID&&n.aamDeclaredID.length>0){for(var e="",t=n.aamDeclaredID.split(""),i=0;i<t.length;i+=2)e+=t[i];if("a8826f94dd25f73a6083"===e)return r.notify.log("DeclaredID has incorrect structure",1),r.serviceCall("Declared ID","Invalid DeclaredID"),!1;r.notify.log("DeclaredID has correct structure",1),r.setSA2({dpuuid:{v:n.aamDeclaredID,t:"-i",l:9e9,o:"-c"}}),r.getSA2("dpuuid")&&(r.notify.log("Tracking enabled for user with DeclaredID!",1),r.allowTracking=!0)}}(),r.notify.groupEnd()},r.initSignals=function(){r.notify.groupCollapsed("SIGNALS: BUILD IN"),r.set("pagehostname",r.get("pagehostname")),r.set("pagetitle",r.get("pagetitle")),r.set("pageurl",r.get("pageurl")),r.set("pagekeywords",r.get("pagekeywords")),r.set("pagedescription",r.get("pagedescription")),r.set("referrer",r.decode(r.get("referrer"))),r.set("publisher",r.dat.publisher,!1),r.notify.groupEnd();try{!function(){r.notify.groupCollapsed("SIGNALS: PERSISTENT COOKIES");var e=r.dat.cookie.aamSignalStoragePrefix||"aam_sig_",t=new RegExp("^"+e+"*.+="),n=r.cookie.find(t);for(sig in r.notify.log(n.length>0?n:" ARE NOT AVAILABLE NOW!",1),n)if(n.hasOwnProperty(sig)){var i=n[sig].split("="),o=i[0].substring(e.length,i[0].length);r.set(o,JSON.parse(i[1]))}r.notify.groupEnd()}()}catch(e){r.serviceCall(e,"Persistent cookies")}}}catch(e){r.serviceCall(e,"Generic Failure")}if(r.prepareApi=function(){if(r.multipleInitProtection("security"),1==r.init)return!1;if(1==!r.allowTracking||void 0!==r.blockFiring&&1==r.blockFiring)return r.notify.log("Killswitch",1),t.submitGeneric=r.noop,t.submitFacebook=r.noop,t.submitGoogle=r.noop,r.notify.groupEnd(),r.notify.groupEnd(),n[r.dat.api]=function(){return t};r.notify.log("Tracking allowed!",1),!0===r.dat.behavior.autofire&&r.prepareAAM();try{t.submitGeneric=function(e){return r.notify.group("Callback for Submit Generic"),r.custom=e,r.customData(),!0!==r.dilInit&&r.prepareAAM(),r.prepareSignals(),r.dil.api.signals(r.signalQueue),r.dil.api.submit(),r.notify.log("Servercall done!",1),r.notify.groupEnd(),!0}}catch(e){r.serviceCall(e,"Submit Generic Failure")}if(t.trackerState="initialized",t.submitFacebook=r.noop,t.submitGoogle=r.noop,"object"==typeof FB)try{FB.Event.subscribe("edge.create",function(){t.submitGeneric({action:{val:"1",private:"false"}})}),FB.Event.subscribe("comment.create",function(){t.submitGeneric({action:{val:"2",private:"false"}})})}catch(e){r.notify.log("Facebook object not found!",4)}if(1==r.dat.behavior.debug&&(r.temp=r.merge_options(r,t),window.cpex_AAM_internalLib=r.temp),r.notify.groupEnd(),r.notify.groupEnd(),1==r.dat.behavior.autofire){r.notify.log("Autofire enabled!",1);t.submitGeneric();!function(e,t){e=e||"docReady",t=t||window;var n=[],i=!1,r=!1;function o(){if(!i){i=!0;for(var e=0;e<n.length;e++)n[e].fn.call(window,n[e].ctx);n=[]}}function a(){"complete"===document.readyState&&o()}t[e]=function(e,t){i?setTimeout(function(){e(t)},1):(n.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(o,1):r||(document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",a),window.attachEvent("onload",o)),r=!0))}}("cpex_AAM_deferred",n)}else r.notify.log("Autofire disabled, expecting manual submitGeneric() request.",1);return r.init=!0,n[r.dat.api]=function(){return t}},!0===r.dat.behavior.waitForTCF2){r.notify.log("Waiting for __tcfapi",1);var o=setInterval(function(){void 0===window.__tcfapi?r.notify.log("TCF API not yet present, wait...",1):(r.notify.log("TCF API present, let's continue",1),clearInterval(o),clearTimeout(a),r.initTCF2())},500),a=setTimeout(function(){clearInterval(o),r.notify.log("Killing tracking 'cause of lack of __tcfapi'",4),r.killSwitch(!0,"__tcfapi not present")},5e3)}else r.initSequence()}(cpex_AAM_conf);
//# sourceMappingURL=cpex_universal.js.map