"IntersectionObserver"in window!=0&&"smoothscroll"in window!=0||mmLoader({src:"https://polyfill.io/v3/polyfill.js?features=IntersectionObserver%2CIntersectionObserverEntry%2Csmoothscroll",async:!0},"intersectionObserverPolyfill");var pdown_desktop_data,isAnimationAllowed=!0;function isStripAnimationAllowed(e){return document.addEventListener("child_NoBmVideoAdv",function(){console.log("[push FE] NoBmVideoAdv: "+parseInt(performance.now()-startPageTimes.performanceNow))}),document.addEventListener("child_BmVideoPlay",function(){console.log("[push FE] BmVideoPlay: "+parseInt(performance.now()-startPageTimes.performanceNow))}),document.addEventListener("child_BmVideoAdv",function(){console.log("[push FE] BmVideoAdv: "+parseInt(performance.now()-startPageTimes.performanceNow))}),!0}function initPushdown(e){if(e.data&&"initPushFlyfirst"==e.data.action){console.log("ivan listener"),e.stopImmediatePropagation(),function(e,t,o,n,a){e[n]=e[n]||function(t){(e[n].run=e[n].run||[]).push(t)};let i,r=t.getElementsByTagName(o)[0];t.getElementById(n)||((i=t.createElement(o)).id=n,i.src="https://ptp.stbm.it/pushdown/loader/av/pushdown-loader.js",i.async=1,r.parentNode.insertBefore(i,r))}(window,document,"script","AVPushLoader");var t=e.data.pushConf;t.targetElementId="flyfirst-mobile-placement",window.innerWidth>=1e3&&(t.targetElementId="flyfirst-placement"),AVPushLoader(t)}}function footerlinks(e,t){window.open(e,t,"top=150, left=150, width=500,height=600 ,toolbar=no, location=no,status=no,menubar=no,scrollbars=yes,resizable=no")}function doSubmit(e){e.preventDefault(),handleSearch.goSearch()}window.addEventListener("message",initPushdown,!1),(handleSearch=(()=>{var e=handleSearch;e.init=function(){e.querystring="",e.searchUrl="https://www.giallozafferano.it/ricerca-ricette/","en"==lang&&(e.searchUrl="https://www.giallozafferano.com/recipes-search/")},e.goSearch=function(){var t=document.getElementById("gz-header-search-input").value;if(""!=t)return t=t.trim(),e.querystring=e.cleanSearchField(t),document.location.href=e.searchUrl+e.querystring+"/",!1},e.cleanSearchField=function(e){return-1!=(e=e.toLowerCase()).indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),"+"==(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/&nbsp;/g,"+")).replace(/ /g,"+")).replace(/\-/g,"+")).replace(/_/g,"+")).replace(/%C2%A0/g,"+")).replace(/%20/g,"+")).replace(/http:\/\//g,"")).replace(/https:\/\//g,"")).replace(/\//g,"+")).charAt(0)&&(e=e.substring(1)),"+"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},e.init()}))(),(elevatorAme=function(){var e=elevatorAme;if(e.sogliaTop=85,sw<480)return!1;try{if(e.target=document.querySelector(".gz-cabin-elevator"),null==e.target)throw"[Ame Elevator] .gz-cabin-elevator non trovato"}catch(e){return!1}try{if(e.wrapperTarget=document.querySelector(".gz-cabin-elevator-wrapper"),null==e.wrapperTarget)throw"[Ame Elevator] .gz-cabin-elevator-wrapper non trovato"}catch(e){return!1}try{if(e.elevatorAmeBase=document.querySelector(".gz-elevator-ame-base"),null==e.elevatorAmeBase)throw"[Ame Elevator] .gz-elevator-ame-base non trovato"}catch(e){return!1}console.log("Init ElevatorAme"),e.firstContainer=e.wrapperTarget.parentNode,e.wrapperTarget.style.top=e.sogliaTop+"px",e.targetST=e.target.scrollTop,e.cabinElevatorObstacles=document.querySelectorAll(".gz-cabin-elevator-obstacle"),e.cabinElevatorObstaclesLength=e.cabinElevatorObstacles.length,e.isCollide=function(t,o){var n=t.getBoundingClientRect(),a=o.getBoundingClientRect();return!(n.top+n.height<a.top-e.sogliaTop||n.top>a.top+a.height||n.left+n.width<a.left||n.left>a.left+a.width)},e.checkPosition=function(){for(e.wScrollTop=window.pageYOffset||document.documentElement.scrollTop,e.targetRect=e.target.getBoundingClientRect(),e.firstContainerOT=e.firstContainer.getBoundingClientRect().top,e.targetH=e.target.offsetHeight,e.wrapperTarget.style.height=e.targetH+"px",e.firstContainerOT<=e.sogliaTop&&!e.wrapperTarget.classList.contains("gz-elevator-ame-fixed")?e.wrapperTarget.classList.add("gz-elevator-ame-fixed"):e.firstContainerOT>e.sogliaTop&&e.wrapperTarget.classList.contains("gz-elevator-ame-fixed")&&e.wrapperTarget.classList.remove("gz-elevator-ame-fixed"),e.toShow=1,i=0;i<e.cabinElevatorObstaclesLength;i++)e.isCollide(e.wrapperTarget,e.cabinElevatorObstacles[i])&&(e.activeObstacleH=e.cabinElevatorObstacles[i].offsetHeight,e.rectObstacle=e.cabinElevatorObstacles[i].getBoundingClientRect(),e.toShow=0);e.rectWrapper=e.wrapperTarget.getBoundingClientRect(),0==e.toShow?e.target.style.top=e.sogliaTop+e.rectObstacle.top+e.activeObstacleH+"px":1==e.toShow&&(e.target.style.top=e.sogliaTop+"px"),e.elevatorAmeBaseRect=e.elevatorAmeBase.getBoundingClientRect(),(e.isCollide(e.wrapperTarget,e.elevatorAmeBase)||e.rectWrapper.top>e.elevatorAmeBaseRect.top)&&(e.target.style.top=e.elevatorAmeBaseRect.top-e.targetH-e.sogliaTop+"px"),e.elevatorAmeBase.getBoundingClientRect().top-e.targetH<0||e.isCollide(e.target,e.elevatorAmeBase)?e.target.classList.contains("gz-cabin-elevator-hide")||e.target.classList.add("gz-cabin-elevator-hide"):e.target.classList.contains("gz-cabin-elevator-hide")&&e.target.classList.remove("gz-cabin-elevator-hide")},window.requestAnimationFrame(function(){e.checkPosition()}),window.addEventListener("scroll",function(){window.requestAnimationFrame(function(){e.checkPosition()})})})(),(notification=(()=>{var e=notification;e.create=function(t,o=5e3){var n=document.createElement("div");n.classList.add("gz-notification"),n.innerHTML=`<span class="gz-close-notification"></span>${t}`,document.body.appendChild(n),e.attachEvents(),setTimeout(function(){document.querySelector(".gz-notification").classList.add("visible")},500),e.closeNotification(o)},e.attachEvents=function(t){document.querySelector(".gz-close-notification").addEventListener("click",t=>{e.closeNotification()})},e.closeNotification=function(e=0){setTimeout(function(){document.querySelector(".gz-notification")&&(document.querySelector(".gz-notification").classList.remove("visible"),document.body.removeChild(document.querySelector(".gz-notification")))},e)}}))(),(modal=(()=>{var e=modal,t=".gz-modal-container";e.modals={},e.init=function(){for(var o=document.querySelectorAll(t),n=0;n<o.length;n++){var a=o[n],i=a.dataset.modalname;e.buildModalObject(i,a),e.checkOverlayModal()}const r=document.getElementsByClassName("gz-open-modal");for(const t of r)t.addEventListener("click",o=>{o.preventDefault();var n=t.dataset.modaltoopen;e.openModal(n)})},e.createModal=function(o,n,a){document.body.appendChild(e.structureModal(o,n,a)),e.buildModalObject(o,document.querySelector(t+"[data-modalname="+o+"]")),e.checkOverlayModal()},e.buildModalObject=function(o,n){e.modals[o]={target:n,open:function(){return e.openModal(o)},close:function(){return e.closeModal(o)},append:function(t){return e.appendModal(o,t)}},n.addEventListener("click",o=>{if(o.target.classList.contains("gz-close-modal")){o.preventDefault();var n=o.target.closest(t).dataset.modalname;e.closeModal(n)}if(o.target.classList.contains("gz-modal-container")){n=document.querySelector(t+".gz-open").dataset.modalname;e.closeModal(n)}})},e.checkOverlayModal=function(){if(Object.keys(e.modals).length>0&&!document.querySelector(".gz-overlay-modal")){var o=document.createElement("div");o.classList.add("gz-overlay-modal"),document.body.appendChild(o)}document.querySelector(".gz-overlay-modal").addEventListener("click",o=>{if(document.querySelector(t+".gz-open")){var n=document.querySelector(t+".gz-open").dataset.modalname;e.closeModal(n)}})},e.openModal=function(t){e.modals[t].target.classList.add("gz-open"),document.body.classList.add("gz-modal-open"),"it"==lang?ga("send","event","Modale","Aperta",t+"#"+window.location.href,{nonInteraction:!0}):gtag("event","Aperta",{event_category:"Modale",event_label:t+"#"+window.location.href,non_interaction:!0});let o=new CustomEvent("openModal");document.dispatchEvent(o)},e.closeModal=function(t){e.modals[t].target.classList.remove("gz-open"),document.body.classList.remove("gz-modal-open"),"it"==lang?ga("send","event","Modale","Chiusa",t+"#"+window.location.href,{nonInteraction:!0}):gtag("event","Chiusa",{event_category:"Modale",event_label:t+"#"+window.location.href,non_interaction:!0});let o=new CustomEvent("closeModal");document.dispatchEvent(o)},e.appendModal=function(t,o){e.modals[t].target.querySelector(":scope .gz-modal-content").innerHTML=o;let n=new CustomEvent("appendModal");document.dispatchEvent(n)},e.structureModal=function(e,t,o){var n=document.createElement("div");return n.classList.add("gz-modal-container"),n.classList.add(`gz-modal-${o}`),n.classList.add(`gz-modal-${e}`),n.setAttribute("data-modalname",e),n.innerHTML=`<div class="gz-modal">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="gz-modal-header">\n\t\t\t\t\t\t\t\t\t\t\t\t${""!==t?'<h3 class="gz-title-modal">'+t+"</h3>":""}\n\t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="gz-close-modal">Chiudi</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="gz-modal-content"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="gz-modal-footer"></div>`,n},e.init()}))(),document.querySelectorAll(".gz-description-with-more")&&(readMore=(e=>{var t=readMore;t.init=(()=>{var o=document.querySelector(e);if(o){var n=o.querySelector(":scope .inner")?o.querySelector(":scope .inner"):o,a=o.offsetHeight,i=n.offsetHeight;t.collapse(o,a,i),document.querySelector(e+" .read-more")&&document.querySelector(e+" .read-more").addEventListener("click",e=>{e.preventDefault(),o.classList.contains("opened")?t.close(o):t.open(o,i)})}}),t.collapse=function(e,t,o){if(t<o&&!e.classList.contains("collapsible")){var n=document.createElement("div");n.classList.add("read-more"),n.innerHTML=`<a data-close="${dictionary.close}" data-open="${dictionary.readModeExtended1}" href="#">${dictionary.readModeExtended1}</a></div>`,e.classList.add("collapsible"),e.appendChild(n)}},t.open=function(e,t){e.classList.add("opened"),e.querySelector(".read-more a").textContent=e.querySelector(".read-more a").dataset.close},t.close=function(e){e.classList.remove("opened"),e.querySelector(".read-more a").textContent=e.querySelector(".read-more a").dataset.open,document.querySelector(".gz-page").scrollIntoView({behavior:"smooth",block:"start"})},t.init()}))(".gz-description-with-more"),(autocompleteGZ=function(){me=autocompleteGZ,me.init=function(){me.url="https://www.giallozafferano.it/ajax/suggest.php?q=","en"==lang&&(me.url="https://www.giallozafferano.com/ajax/suggest.php?q="),me.target=document.getElementById("gz-header-search-input"),me.container=document.querySelector(".gz-header-search-container"),me.tendina=document.querySelector(".gz-tendina"),me.ul=document.createElement("ul"),me.tendina&&me.tendina.appendChild(me.ul),me.ul.addEventListener("click",function(e){if(e.stopImmediatePropagation(),e.target.matches(".gz-tendina-item")){var t=e.target,o=t.dataset.query,n="pos: "+t.dataset.position+", suggestion: "+t.dataset.string;"it"==lang?ga("send","event","autocompletition",o,n,{nonInteraction:!0}):gtag("event",o,{event_category:"autocompletition",event_label:n,non_interaction:!0})}},!1),me.onKeyUp(),me.gestioneFocus()},me.onKeyUp=function(){me.target&&me.target.addEventListener("keyup",function(){me.target.value.length>2?(me.urlToCall=me.url+encodeURIComponent(me.target.value),me.request()):(me.container.classList.remove("gz-tendina-show"),me.ul.innerHTML="")},!1)},me.gestioneFocus=function(e){me.target&&(me.target.addEventListener("blur",function(e){me.container.classList.remove("gz-tendina-show")},!1),me.target.addEventListener("focus",function(e){me.tendina.style.display="block"},!1))},me.costruisciTendina=function(){0==me.risposta.length?(me.container.classList.remove("gz-tendina-show"),me.tendina.style.display="none",me.numResultString=""):(me.container.classList.add("gz-tendina-show"),me.tendina.style.display="block"),me.htmlSting="",me.risposta.forEach((e,t)=>{var o=t+1;me.strippedString=e.term.replace(/(<([^>]+)>)/gi,""),me.htmlSting+='<li><a href="'+e.url+'" title="'+me.strippedString+'" class="gz-tendina-item" data-position="'+o+'" data-query="'+me.target.value+'" data-string="'+me.strippedString+'">'+e.term+"</a></li>"}),me.ul.innerHTML=me.htmlSting},me.request=function(){var e=new XMLHttpRequest;e.open("GET",me.urlToCall,!0),e.onload=function(){e.status>=200&&e.status<400&&(me.risposta=JSON.parse(e.responseText),me.costruisciTendina())},e.onerror=function(){},e.send()},me.init()})();var isInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};function getEventTarget(e){return(e=e||window.event).target||e.srcElement}class Musil{constructor(e){this.data={cl:"mobile",dl:document.location.href,dm:document.location.host,ds:e.ds||"web",ec:"musil",mt:"android",ts:Math.floor(Date.now()/1e3),ul:navigator.language,ve:"0.0.1",wb:e.wb},this.init()}async init(){if(this.getCookie("musil"))return console.log("[Ame Musil Dtct]","Not Today!"),!1;this.deviceType(),this.musilIs=await this.tryRequest(this.data),this.data.action={val:this.musilIs},console.log("[Ame Musil Dtct]",this.data);let e={records:[{value:this.data}]};this.setCookie("musil",1,1),console.log("[Ame Musil Dtct]","Send"),navigator.sendBeacon("https://endpoint.ets.amedigital.it/topics/musil-stream",JSON.stringify(e))}getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}setCookie(e,t,o){var n=new Date;n.setTime(n.getTime()+864e5*o),document.cookie=e+"="+t+";path=/;expires="+n.toGMTString()+";domain="+document.location.host.split(".").slice(-2).join(".")}deviceType(){const e=navigator.userAgent;/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?this.data.cl="tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?this.data.cl="mobile":this.data.cl="desktop",this.osType()}osType(){let e=navigator.userAgent||navigator.vendor||window.opera;this.data.mt="other",/android/i.test(e)&&(this.data.mt="android"),/iPad|iPhone|iPod/.test(e)&&!window.MSStream&&(this.data.mt="ios")}async tryRequest(e){try{return fetch(new Request("https://cdn.adsafeprotected.com/iasPET.1.js",{method:"HEAD",mode:"no-cors"})).then(function(e){return console.log("[Ame Musil Dtct]","No"),!1}).catch(function(e){return console.log("[Ame Musil Dtct]","SÃ¬"),!0})}catch(e){console.log(e),console.log("[Ame Musil Dtct]","Check fallito")}}}function musilStart(){new Musil({wb:"gz-site"})}gz1333_autorefresh&&(autoRefresh=(()=>{var e=autoRefresh;e.interval=6e4,e.videoStatus="",e.init=(()=>{e.isok=!0,setInterval(()=>{e.doRefresh()},e.interval),window.onfocus=function(){e.isok=!0},window.onblur=function(){e.isok=!1}}),e.doRefresh=(()=>{e.isok&&("undefined"!=typeof AVPushRunningInstances&&void 0!==AVPushRunningInstances[0].api&&(e.videoStatus=AVPushRunningInstances[0].api.getStatus().currentMode),""!=e.videoStatus&&"content-playing-hls"==e.videoStatus||window.location.reload())}),e.init()}))();
//# sourceMappingURL=common.min.js.map