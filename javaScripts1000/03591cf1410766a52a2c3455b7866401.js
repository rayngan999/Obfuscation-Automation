(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk/components/common/header/v2/loginModal"],{1076:function(t,e,a){"use strict";var i=a(2),o=a(1),n=a.n(o),s=a(24),r=a.n(s),c=a(0),l=a(684),d=a(696),p=a(873);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f=c.f.get("ENVIRONMENT"),y=c.f.get("DEFAULT.DEFAULT_AVATAR_ICON"),v={components:{OauthLogin:p.a},mixins:[d.a],props:{},data:function(){return{LoginData:{nickname:"",email:"",password:""},display:!1,boundErrorMessage:"",logNoticeMessage:""}},computed:g({validation:function(){return{isValidEmail:/^\w+((\-+\w+)|(\.\w+)|(\+\w+))*\@[A-Za-z0-9]+((\.|\-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(this.LoginModal.email),isValidPassword:/(?=.*[0-9])(?=.*[a-zA-Z]).{6,}/.test(this.LoginModal.password),hasNickname:!!this.LoginModal.nickname}},isValid:function(){var t=this.validation;return Object.keys(t).every((function(e){return t[e]}))}},Object(i.mapGetters)({LoginModal:"".concat(l.a,"/LoginModal")})),watch:{LoginModal:function(){this.copyLoginModal()}},created:function(){},mounted:function(){var t=this;n()("#".concat(t.$parent.id)).on("shown.bs.modal",(function(){t.showLoginLogs()})),t.init()},methods:g({},Object(i.mapActions)({}),{init:function(){var t=g({},this.logsData,{pageActionEvent:"LoginModal_Register_Open_Click",data:{triggerType:this.LoginModal.triggerType?this.LoginModal.triggerType:"Click"}});this.$store.dispatch("".concat(l.a,"/PressPlayLoginModalLogs"),t),this.copyLoginModal(),c.p.pageAction("launchLogin_trigger",{})},copyLoginModal:function(){this.LoginData={nickname:this.LoginModal.nickname,email:this.LoginModal.email,password:this.LoginModal.password}},register:function(){if(!this.isValid)return!1;if(n()(".oauth-bound-messsage").is(":visible")&&(this.boundErrorMessage=""),!this.LoginModal.isLoading){if(this.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!0}),this.LoginModal.email.length>200){this.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!1});var t={email:["æ±æ­ï¼ä½ ç Email å¤ªèåï¼æåçè³æåº«è£ä¸ä¸ã"]},e={data:t,type:"validation"};return Object(c.q)(!1,e,"pp-registerBox",null,null,!1,!1),!1}if(!this.isValid){this.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a=this.validation,i=a.isValidEmail,o=a.isValidPassword,s=a.hasNickname,r=this.LoginModal,d=r.email,p=r.password,u=r.nickname,g={};!i&&d&&(g.email=["é»å­ä¿¡ç®±æ ¼å¼é¯èª¤"]),d||(g.email=["è«å¡«å¯«é»å­ä¿¡ç®±"]),!o&&p&&(g.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"]),p||(g.password=["è«å¡«å¯«å¯ç¢¼"]),s||u||(g.nickname=["è«å¡«å¯«æ±ç¨±"]);var m={data:g,type:"validation"};return Object(c.q)(!1,m,"pp-registerBox",null,null,!1,!1),!1}this.registerProcess()}return!0},registerProcess:function(){this.checkThirdPartyOauthRegister()},checkThirdPartyOauthRegister:function(){var t=this,e={email:t.LoginModal.email.trim()};t.$store.dispatch("".concat(l.a,"/PressPlayMemberCheck"),e).then((function(e){t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a=e.bounds;if(!t.isBoundThirdParty(a)){var i={email:e.email,username:e.username,head_photo:e.head_photo?e.head_photo:y,box_type:"LoginAlreadyRegisterBox",type:"EmailAlreadyRegistered",password:""};t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),i)}var o={success:!1,errorCode:"has same user",triggerType:t.LoginModal.subtitle?"TimelineReadingCompleted":"Click"};c.p.pageAction("LoginModal_Register_send_click",o,!0)}),(function(){t.postRegisterInfo()})).catch((function(e){t.boundErrorHandler(e)}))},postRegisterInfo:function(){var t=this,e={nickname:t.LoginModal.nickname.trim(),email:t.LoginModal.email.trim(),password:r()(t.LoginModal.password.trim()),next_url:t.LoginModal.next_url.trim()};t.$store.dispatch("".concat(l.a,"/PressPlayMemberRegister"),e).then((function(e){t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!1}),"production"===f&&(c.w.fbq("track","CompleteRegistration",{currency:"TWD",value:"1"}),c.w.mkgEventAction("complete_registration","",{})),t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{type:"EmailRegister",box_type:"LoginSuccessBox"});var a={gtagEvent:"SignUp",pageActionEvent:"LoginModal_Register_Send_Click",data:{method:"Email",register:"Email_Member",success:!0,triggerType:t.LoginModal.triggerType?t.LoginModal.triggerType:"Click"}};t.recordProcessLogs(a)})).catch((function(e){t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a=e.errorCode,i={gtagEvent:"SignUp",pageActionEvent:"LoginModal_Register_Send_Click",data:{method:"Email",register:"Email_Member",success:!0,triggerType:t.LoginModal.triggerType?t.LoginModal.triggerType:"Click",errorCode:a}};switch(t.recordProcessLogs(i),a){case 30001:var o={email:e.email,username:e.username,head_photo:e.head_photo?e.head_photo:y,box_type:"LoginAlreadyRegisterBox",type:"EmailAlreadyRegistered",password:""};t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),o);break;case 30003:var n={nickname:["æ­¤æ±ç¨±å·²è¢«ä½¿ç¨"]},s={data:n,type:"validation"};Object(c.q)(!1,s,"pp-registerBox",null,null,!1,!1);break;case 10003:var r={global:["ç³»çµ±åµæ¸¬æ¨çemailçºè¨æå¸³èï¼ç¡æ³è¨»åï¼è¥æçåï¼è«æ´½å®¢æäººå¡ã"]},d={data:r,type:"validation"};Object(c.q)(!1,d,"pp-registerBox",null,null,!1,!1);break;default:alert("è¨»åæµç¨åºäºé»åé¡ï¼è«è¯ç¹« PressPlay å®¢æã")}}))},boundErrorHandler:function(t){if(t)throw this.boundErrorMessage=t.replace(/,/gi," æ"),t},isBoundThirdParty:function(t){if(Array.isArray(t))return!1;if(Object.keys(t).length>0){var e=Object.keys(t).filter((function(e){return!0===t[e].status}));if(e.length>0)throw e.toString()}return!1},typingCheck:function(t){var e=this.validation,a=e.isValidEmail,i=e.isValidPassword,o=this.LoginModal,n=o.email,s=o.password,r={};switch(t){case"email":!a&&n&&(r.email=["é»å­ä¿¡ç®±æ ¼å¼é¯èª¤"]);break;case"password":!i&&s&&(r.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"])}var l={data:r,type:"validation"};Object(c.q)(!1,l,"pp-registerBox",null,null,!1,!1)},displayPassword:function(){this.display=!this.display},changeComponent:function(t){this.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{box_type:t})},syncLoginData:function(){var t=this,e=["nickname","email","password"],a=!1;if(e.forEach((function(e){t.LoginData[e]!==t.LoginModal[e]&&(a=!0)})),a){var i={};e.forEach((function(e){i[e]=t.LoginData[e]})),t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSetData"),i)}},showLoginLogs:function(){var t=this,e=JSON.parse(localStorage.getItem("loginLogs"));e&&e.email&&(t.logNoticeMessage="éå°è£ç½®ä¹åæç»å¥é PressPlay å¸³èï¼å»ºè­°ä½ åå° <strong>ç»å¥</strong> é æ¥çï¼é¿åéè¤è¨»åæè³¼è²·ã",setTimeout((function(){t.logNoticeMessage=""}),4e3))}})},h=(a(882),a(5)),b=Object(h.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-registerBox",style:t.LoginModal.style,attrs:{id:"pp-registerBox"}},[t.LoginModal.subtitle?t._e():[a("div",{staticClass:"pp-modal-header"},[t._m(0),t._v(" "),a("p",[a("span",[t._v("æå·²ç¶è¨»åï¼")]),t._v(" "),a("a",{staticClass:"link--primary",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeComponent("LoginBox")}}},[t._v("ç»å¥")])])])],t._v(" "),a("div",{staticClass:"pp-modal-body"},[a("transition",{attrs:{name:"slide-fade"}},[t.boundErrorMessage?a("div",{staticClass:"oauth-bound-messsage"},[a("small",{staticClass:"text--yellow"},[a("i",{staticClass:"fas fa-star"})]),t._v("\n                éåé»å­ä¿¡ç®±å·²ç¶ä½¿ç¨ "+t._s(t.boundErrorMessage)+" è¨»åéåï¼\n                è«é»æãä½¿ç¨ "+t._s(t.boundErrorMessage)+" ç»å¥ ã\n            ")]):t._e()]),t._v(" "),a("oauth-login"),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("transition",{attrs:{name:"slide-fade"}},[t.logNoticeMessage?a("div",{staticClass:"pop-log-messsage"},[a("small",{staticClass:"text--yellow"},[a("i",{staticClass:"fas fa-star"})]),t._v("\n                    éå°è£ç½®ä¹åæç»å¥é PressPlay å¸³èï¼å»ºè­°ä½ åå° "),a("strong",[t._v("ç»å¥")]),t._v(" é æ¥çï¼é¿åéè¤è¨»åæè³¼è²·ã\n                ")]):t._e()]),t._v(" "),a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.nickname,expression:"LoginData.nickname"}],staticClass:"form-control",attrs:{id:"nickname",type:"text",name:"nickname",placeholder:"æ±ç¨±",autocomplete:"nope"},domProps:{value:t.LoginData.nickname},on:{keyup:t.syncLoginData,input:function(e){e.target.composing||t.$set(t.LoginData,"nickname",e.target.value)}}}),t._v(" "),a("small",{staticClass:"error-msg"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.email,expression:"LoginData.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",name:"email",placeholder:"é»å­ä¿¡ç®±",autocomplete:"nope"},domProps:{value:t.LoginData.email},on:{blur:function(e){return t.typingCheck("email")},keyup:t.syncLoginData,input:function(e){e.target.composing||t.$set(t.LoginData,"email",e.target.value)}}}),t._v(" "),a("small",{staticClass:"error-msg"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"position-relative"},["checkbox"==(t.display?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"6ä½ä»¥ä¸ï¼è±æ¸æ··å",autocomplete:"new-password",type:"checkbox"},domProps:{checked:Array.isArray(t.LoginData.password)?t._i(t.LoginData.password,null)>-1:t.LoginData.password},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,change:function(e){var a=t.LoginData.password,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&t.$set(t.LoginData,"password",a.concat([null])):n>-1&&t.$set(t.LoginData,"password",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.LoginData,"password",o)}}}):"radio"==(t.display?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"6ä½ä»¥ä¸ï¼è±æ¸æ··å",autocomplete:"new-password",type:"radio"},domProps:{checked:t._q(t.LoginData.password,null)},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,change:function(e){return t.$set(t.LoginData,"password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"6ä½ä»¥ä¸ï¼è±æ¸æ··å",autocomplete:"new-password",type:t.display?"text":"password"},domProps:{value:t.LoginData.password},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,input:function(e){e.target.composing||t.$set(t.LoginData,"password",e.target.value)}}}),t._v(" "),a("span",{staticClass:"state cursor-pointer text--darkgray",on:{click:t.displayPassword}},[t.display?a("i",{staticClass:"icon icon-display_off"}):a("i",{staticClass:"icon icon-read"})])]),t._v(" "),a("small",{staticClass:"error-msg"})]),t._v(" "),t._m(2)])],1),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("button",{staticClass:"btn btn-block register-button",class:[t.isValid?"btn-primary":"btn-light cursor-not-allowed"],attrs:{id:"register-button",type:"button",disabled:!t.isValid},on:{click:t.register}},[t.LoginModal.isLoading?a("span",{staticClass:"spinner spinner-sm"}):a("span",[t._v("è¨»å")])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[t.LoginModal.subtitle?a("div",{staticClass:"form-group text-center"},[a("small",{staticClass:"text--muted"},[t._v("æå·²ç¶è¨»åéäºï¼")]),t._v(" "),a("small",[a("a",{staticClass:"link--primary",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeComponent("LoginBox")}}},[t._v("ç»å¥")])])]):t._e(),t._v(" "),t._m(3)])],1)],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"pp-modal-title"},[e("span",[this._v("è¨»å")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-section"},[e("div",{staticClass:"pp-modal-hr"},[e("small",[this._v("æä½¿ç¨é»å­ä¿¡ç®±")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("small",{staticClass:"error-msg",attrs:{name:"global"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group text-center"},[e("small",{staticClass:"text--muted"},[this._v("æä¸ä½¿ç¨ãFacebookãæãè¨»åãå³è¡¨ç¤ºåæ")]),this._v(" "),e("small",[e("a",{staticClass:"link--primary",attrs:{href:"https://www.pressplay.cc/support/index/%E6%9C%8D%E5%8B%99%E6%A2%9D%E6%AC%BE/2755CAEF92E9E19AAB589BC47585F68F",target:"_blank"}},[this._v("PressPlay æåæ¢æ¬¾")])]),this._v(" "),e("small",{staticClass:"text--muted"},[this._v("è")]),this._v(" "),e("small",[e("a",{staticClass:"link--primary",attrs:{href:"https://www.pressplay.cc/support/index/%E9%9A%B1%E7%A7%81%E6%AC%8A%E6%94%BF%E7%AD%96~/privacy",target:"_blank"}},[this._v("PressPlay é±ç§æ¬æ¿ç­")])])])}],!1,null,null,null);e.a=b.exports},1078:function(t,e,a){"use strict";var i=a(2),o=a(0),n=a(684);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={components:{},mixins:[a(696).a],props:{},data:function(){return{LoginData:{nickname:"",email:"",password:""}}},computed:r({validation:function(){return{isValidEmail:/^\w+((\-+\w+)|(\.\w+)|(\+\w+))*\@[A-Za-z0-9]+((\.|\-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(this.LoginModal.email)}},isValid:function(){var t=this.validation;return Object.keys(t).every((function(e){return t[e]}))}},Object(i.mapGetters)({LoginModal:"".concat(n.a,"/LoginModal")})),watch:{},mounted:function(){this.init()},methods:r({},Object(i.mapActions)({}),{init:function(){var t=r({},this.logsData,{pageActionEvent:"LoginModal_ForgetPW_Open_Click"});this.$store.dispatch("".concat(n.a,"/PressPlayLoginModalLogs"),t),this.copyLoginModal(),o.p.pageAction("launchLogin_trigger",{})},copyLoginModal:function(){this.LoginData={nickname:this.LoginModal.nickname,email:this.LoginModal.email,password:this.LoginModal.password}},sendLink:function(){var t=this;if(!t.isValid)return!1;if(!t.LoginModal.isLoading){if(t.$store.dispatch("".concat(n.a,"/PressPlayLoginModalSet"),{isLoading:!0}),!t.isValid){t.$store.dispatch("".concat(n.a,"/PressPlayLoginModalSet"),{isLoading:!1});var e=t.validation.isValidEmail,a=t.LoginModal.email,i={};!e&&a&&(i.email=["é»å­ä¿¡ç®±æ ¼å¼é¯èª¤"]),a||(i.email=["è«å¡«å¯«é»å­ä¿¡ç®±"]);var s={data:i,type:"validation"};return Object(o.q)(!1,s,"pp-forgetPwBox",null,null,!1,!1),!1}var c={email:t.LoginModal.email.trim()};t.$store.dispatch("".concat(n.a,"/PressPlayForgetPwLetterSend"),c).then((function(e){t.$store.dispatch("".concat(n.a,"/PressPlayLoginModalSet"),{isLoading:!1}),t.$store.dispatch("".concat(n.a,"/PressPlayLoginModalSet"),{type:"ForgetPassword",box_type:"LoginSuccessBox"})})).catch((function(e){t.$store.dispatch("".concat(n.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a={};switch(e.errorCode){case 30004:a.email=["éä¿¡ç®±éæ²æè¨»ååï¼è«åè©¦è©¦çï¼"];break;case 30007:a.email=["ä½ ç¼éçæ¬¡æ¸å¤ªé »ç¹äºï¼è« 1åéå¾ åè©¦è©¦ã"]}var i={data:a,type:"validation"};Object(o.q)(!1,i,"pp-forgetPwBox",null,null,!1,!1)}));var l={pageActionEvent:"LoginModal_ForgetPW_Send_Click",data:r({},c)};t.recordProcessLogs(l)}return!0},typingCheck:function(t){var e=this.validation.isValidEmail,a=this.LoginModal.email,i={};switch(t){case"email":!e&&a&&(i.email=["é»å­ä¿¡ç®±æ ¼å¼é¯èª¤"])}var n={data:i,type:"validation"};Object(o.q)(!1,n,"pp-forgetPwBox",null,null,!1,!1)},syncLoginData:function(){var t=this,e=["nickname","email","password"],a=!1;if(e.forEach((function(e){t.LoginData[e]!==t.LoginModal[e]&&(a=!0)})),a){var i={};e.forEach((function(e){i[e]=t.LoginData[e]})),t.$store.dispatch("".concat(n.a,"/PressPlayLoginModalSetData"),i)}}})},d=a(5),p=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-forgetPwBox",style:t.LoginModal.style,attrs:{id:"pp-forgetPwBox"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.sendLink(e))}}},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"pp-modal-body"},[a("div",{staticClass:"pp-modal-section"},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"text--muted",attrs:{for:"email"}},[t._v("è«è¼¸å¥ä½ çè¨»åä¿¡ç®±")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.email,expression:"LoginData.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",name:"email",placeholder:"é»å­ä¿¡ç®±",autocomplete:"nope"},domProps:{value:t.LoginData.email},on:{blur:function(e){return t.typingCheck("email")},keyup:t.syncLoginData,input:function(e){e.target.composing||t.$set(t.LoginData,"email",e.target.value)}}}),t._v(" "),a("small",{staticClass:"error-msg"})])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("button",{staticClass:"btn btn-block forgetPw-button",class:[t.isValid?"btn-primary":"btn-light cursor-not-allowed"],attrs:{id:"forgetPw-button",type:"button",disabled:!t.isValid},on:{click:t.sendLink}},[t.LoginModal.isLoading?a("span",{staticClass:"spinner spinner-sm"}):a("span",[t._v("ç¼ééè¨­å¯ç¢¼éç¥ä¿¡")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-logo"},[e("img",{attrs:{alt:"éé ­",src:"/public/img/icon/ic-lock.png",srcset:"/public/img/icon/ic-lock@2x.png 2x, /public/img/icon/ic-lock@3x.png 3x"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-header"},[e("h4",{staticClass:"pp-modal-title"},[e("span",[this._v("å¿è¨å¯ç¢¼")])])])}],!1,null,null,null);e.a=p.exports},1079:function(t,e,a){"use strict";var i=a(2),o=a(0),n=a(24),s=a.n(n),r=a(684),c=a(696);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={components:{},filters:{capitalize:o.s.capitalize},mixins:[c.a],props:{},data:function(){return{LoginData:{nickname:"",email:"",password:""},display:!1}},computed:d({validation:function(){return{isValidPassword:/(?=.*[0-9])(?=.*[a-zA-Z]).{6,}/.test(this.LoginModal.password)}},isValid:function(){var t=this.validation;return Object.keys(t).every((function(e){return t[e]}))}},Object(i.mapGetters)({LoginModal:"".concat(r.a,"/LoginModal")})),watch:{},mounted:function(){this.init()},methods:d({},Object(i.mapActions)({}),{thirdPartyIcon:function(t){var e="";switch(t.toLowerCase()){case"facebook":e="icon icon-".concat(t.toLowerCase(),"_S");break;default:case"google":case"apple":e="fab fa-".concat(t.toLowerCase())}return e},init:function(){var t=d({},this.logsData,{pageActionEvent:"LoginModal_LoginAlreadyRegister_Open_Click"});this.$store.dispatch("".concat(r.a,"/PressPlayLoginModalLogs"),t),this.copyLoginModal(),o.p.pageAction("launchLogin_trigger",{})},copyLoginModal:function(){this.LoginData={nickname:this.LoginModal.nickname,email:this.LoginModal.email,password:this.LoginModal.password}},login:function(){var t=this;if(!t.isValid)return!1;if(!t.LoginModal.isLoading){if(t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!0}),!t.isValid){t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1});var e=t.validation.isValidPassword,a=t.LoginModal.password,i={};!e&&a&&(i.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"]),a||(i.password=["è«å¡«å¯«å¯ç¢¼"]);var n={data:i,type:"validation"};return Object(o.q)(!1,n,"pp-loginAlreadyRegisterBox",null,null,!1,!1),!1}var c={email:t.LoginModal.email.trim(),password:s()(t.LoginModal.password.trim())};"/"===window.location.pathname&&(c.current_location="index"),t.$store.dispatch("".concat(r.a,"/PressPlayMemberLogin"),c).then((function(e){t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a={gtagEvent:"Login",pageActionEvent:"LoginModal_LoginAlreadyRegister_Send_Click",data:{method:"Email",register:"Email_Member",success:!0,triggerType:t.LoginModal.triggerType?t.LoginModal.triggerType:"Click"}};t.recordProcessLogs(a);var i=e.next_location,o=t.LoginModal.next_url;if(o)window.location.href=o;else if(i)switch(i.location){case"member_index":"/"===window.location.pathname?window.location.href="/member":window.location.reload();break;default:window.location.reload()}else window.location.reload()})).catch((function(e){t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a={global:["Oh Oh! ç»å¥è³è¨ä¸æ­£ç¢º...è«åè©¦ä¸æ¬¡ã"]},i={data:a,type:"validation"};Object(o.q)(!1,i,"pp-loginBox",null,null,!1,!1);var n={gtagEvent:"Login",pageActionEvent:"LoginModal_LoginAlreadyRegister_Send_Click",data:{method:"Email",register:"Email_Member",success:!1,triggerType:t.LoginModal.triggerType?t.LoginModal.triggerType:"Click"}};t.recordProcessLogs(n)}))}return!0},thirdPartyLoginBind:function(){if(!this.isValid)return!1;if(!this.LoginModal.isLoading){if(this.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!0}),!this.isValid){this.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1});var t=this.validation.isValidPassword,e=this.LoginModal.password,a={};!t&&e&&(a.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"]),e||(a.password=["è«å¡«å¯«å¯ç¢¼"]);var i={data:a,type:"validation"};return Object(o.q)(!1,i,"pp-loginAlreadyRegisterBox",null,null,!1,!1),!1}this.thirdPartyOauthBind()}return!0},thirdPartyOauthBind:function(){var t=this,e={token:t.LoginModal.accessToken,email:t.LoginModal.email.trim(),password:s()(t.LoginModal.password.trim()),third_party:t.LoginModal.third_party};t.$store.dispatch("".concat(r.a,"/PressPlayThirdPartyOauthBind"),e).then((function(e){t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a=e.data;a.next_url&&(window.location.href=a.next_url);var i={gtagEvent:o.s.capitalize(a.method),pageActionEvent:"LoginModal_".concat(o.s.capitalize(t.LoginModal.third_party),"_").concat(o.s.capitalize(a.method),"_Click"),data:{method:o.s.capitalize(t.LoginModal.third_party),register:"".concat(o.s.capitalize(t.LoginModal.third_party),"_Member"),success:!0,triggerType:t.LoginModal.triggerType?t.LoginModal.triggerType:"Click"}};t.recordProcessLogs(i)})).catch((function(e){t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a={};a.global=[e.message];var i={data:a,type:"validation"};Object(o.q)(!1,i,"pp-loginAlreadyRegisterBox",null,null,!1,!1)}))},handleOldWebViewUser:function(){if(IS_APP&&("android"===this.PageSetting.device||"Android"===this.PageSetting.device)){var t=Cookies.getJSON();return mobile_app.setCookie({uid:t.PPUID,session:t.PHPSESSID}),!1}return!0},typingCheck:function(t){var e=this.validation.isValidPassword,a=this.LoginModal.password,i={};switch(t){case"password":!e&&a&&(i.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"])}var n={data:i,type:"validation"};Object(o.q)(!1,n,"pp-loginAlreadyRegisterBox",null,null,!1,!1)},displayPassword:function(){this.display=!this.display},changeComponet:function(t){this.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{box_type:t})},syncLoginData:function(){var t=this,e=["nickname","email","password"],a=!1;if(e.forEach((function(e){t.LoginData[e]!==t.LoginModal[e]&&(a=!0)})),a){var i={};e.forEach((function(e){i[e]=t.LoginData[e]})),t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSetData"),i)}}})},g=a(5),m=Object(g.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-loginAlreadyRegisterBox",style:t.LoginModal.style,attrs:{id:"pp-loginAlreadyRegisterBox"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.login(e))}}},[a("div",{staticClass:"pp-modal-avatar"},[a("div",{staticClass:"avatar avatar-lg shadow-sm",style:{"background-image":"url("+t.LoginModal.head_photo+")"}}),t._v(" "),a("div",{staticClass:"ml-3"},[a("p",[t._v(t._s(t.LoginModal.username))]),t._v(" "),a("p",[t._v(t._s(t.LoginModal.email))])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"pp-modal-body"},[a("div",{staticClass:"pp-modal-section"},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-group"},["EmailAlreadyRegistered"==t.LoginModal.type?a("label",{staticClass:"text--muted"},[a("span",[t._v("è«ä½¿ç¨ç¸éè³è¨ç»å¥")])]):"EmailCouldBindThirdParty"==t.LoginModal.type?a("label",{staticClass:"text--muted"},[a("span",[t._v("é»æãç¶å® "+t._s(t._f("capitalize")(t.LoginModal.third_party))+" ç»å¥ãï¼ä¸æ¬¡å°±å¯ä»¥ä½¿ç¨ "+t._s(t._f("capitalize")(t.LoginModal.third_party))+" å¿«éç»å¥åï¼")])]):t._e(),t._v(" "),a("div",{staticClass:"position-relative"},["checkbox"==(t.display?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"å¯ç¢¼",autocomplete:"new-password",type:"checkbox"},domProps:{checked:Array.isArray(t.LoginData.password)?t._i(t.LoginData.password,null)>-1:t.LoginData.password},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,change:function(e){var a=t.LoginData.password,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&t.$set(t.LoginData,"password",a.concat([null])):n>-1&&t.$set(t.LoginData,"password",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.LoginData,"password",o)}}}):"radio"==(t.display?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"å¯ç¢¼",autocomplete:"new-password",type:"radio"},domProps:{checked:t._q(t.LoginData.password,null)},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,change:function(e){return t.$set(t.LoginData,"password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"å¯ç¢¼",autocomplete:"new-password",type:t.display?"text":"password"},domProps:{value:t.LoginData.password},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,input:function(e){e.target.composing||t.$set(t.LoginData,"password",e.target.value)}}}),t._v(" "),a("span",{staticClass:"state cursor-pointer text--darkgray",on:{click:t.displayPassword}},[t.display?a("i",{staticClass:"icon icon-display_off"}):a("i",{staticClass:"icon icon-read"})])]),t._v(" "),a("small",{staticClass:"error-msg"})])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("div",{staticClass:"form-inline justify-content-between align-items-center"},[t._m(1),t._v(" "),a("small",{staticClass:"ml-auto"},[a("a",{staticClass:"link--primary",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.changeComponet("ForgetPwBox")}}},[t._v("å¿è¨å¯ç¢¼")])])])]),t._v(" "),"EmailAlreadyRegistered"==t.LoginModal.type?[a("div",{staticClass:"pp-modal-section"},[a("button",{staticClass:"btn btn-block login-button",class:[t.isValid?"btn-primary":"btn-light cursor-not-allowed"],attrs:{id:"login-button",type:"button",disabled:!t.isValid},on:{click:t.login}},[t.LoginModal.isLoading?a("span",{staticClass:"spinner spinner-sm"}):a("span",[t._v("ç»å¥")])])])]:t._e(),t._v(" "),"EmailCouldBindThirdParty"==t.LoginModal.type?[a("div",{staticClass:"pp-modal-section"},[a("button",{staticClass:"btn btn-block login-button",class:[t.isValid?"btn-outline-primary":"btn-light cursor-not-allowed"],attrs:{id:"login-button",type:"button",disabled:!t.isValid},on:{click:t.login}},[t.LoginModal.isLoading?a("span",{staticClass:"spinner spinner-sm"}):a("span",[t._v("ç´æ¥ç»å¥")])]),t._v(" "),a("button",{staticClass:"btn btn-block",class:[t.isValid?"btn-"+t.LoginModal.third_party+" "+t.LoginModal.third_party+"-button":"btn-light cursor-not-allowed"],attrs:{id:t.LoginModal.third_party+"-button",type:"button",disabled:!t.isValid},on:{click:t.thirdPartyLoginBind}},[a("i",{class:t.thirdPartyIcon(t.LoginModal.third_party)}),t._v(" "),t.LoginModal.isLoading?a("span",{staticClass:"spinner spinner-sm"}):a("span",[t._v("ç¶å® "+t._s(t._f("capitalize")(t.LoginModal.third_party))+" ç»å¥")])])])]:t._e()],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-header"},[e("h4",{staticClass:"pp-modal-title"},[e("span",[this._v("ä½ å·²ç¶è¨»åéäº")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group mb-0"},[e("small",{staticClass:"error-msg",attrs:{name:"global"}})])}],!1,null,null,null);e.a=m.exports},1080:function(t,e,a){"use strict";var i=a(2),o=a(684);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={components:{},props:{},data:function(){return{}},computed:s({},Object(i.mapGetters)({LoginModal:"".concat(o.a,"/LoginModal")}),{inLoginPage:function(){return!("member"!==window.location.pathname.split("/")[1]||-1===["login","forgetPassword"].lastIndexOf(window.location.pathname.split("/")[2]))}}),watch:{},mounted:function(){},methods:s({},Object(i.mapActions)({}),{close:function(){window.location.href="/"},ok:function(){window.location.reload()}})},l=a(5),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-loginSuccessBox",style:t.LoginModal.style,attrs:{id:"pp-loginSuccessBox"}},["EmailRegister"==t.LoginModal.type?[t._m(0),t._v(" "),a("div",{staticClass:"pp-modal-header flex-column align-items-start"},[a("h4",{staticClass:"pp-modal-title"},[a("span",[t._v("ååï¼"+t._s(t.LoginModal.nickname)+" !")])]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"pp-modal-body"},[a("div",{staticClass:"pp-modal-section"},[a("p",[t._v("æåå·²ç¶ç¼éä¸å°é©è­ä¿¡å° "),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.LoginModal.email))]),t._v(" ï¼ä½ éè¦é©è­é»å­ä¿¡ç®±æè½çè¨åè³¼è²·å°æ¡ï¼è«è¨å¾å°æ­¤ä¿¡ç®±æ¶åé©è­ä¿¡åï¼")])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:t.ok}},[a("span",[t._v("OK")])])])]:"ForgetPassword"==t.LoginModal.type?[t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"pp-modal-body"},[a("div",{staticClass:"pp-modal-section"},[a("p",[t._v("æåå·²ç¶ç¼éä¸å°éè¨­å¯ç¢¼éç¥ä¿¡å° "),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.LoginModal.email))]),t._v(" ï¼è«é»æä¿¡ä»¶ä¸­çé£çµå°±å¯ä»¥ç»å¥åï¼å¦ææ²ææ¶å°ï¼è«æª¢æ¥ä½ çåå¾éµä»¶æåè©¦ä¸æ¬¡ï¼")])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[t.inLoginPage?[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:t.close}},[a("span",[t._v("è¿åé¦é ")])])]:[t._m(4)]],2)]:"ResendVerifyEmail"==t.LoginModal.type?[t._m(5),t._v(" "),t._m(6),t._v(" "),a("div",{staticClass:"pp-modal-body"},[a("div",{staticClass:"pp-modal-section"},[a("p",[t._v("æåå·²ç¶éç¼éä¸å°é©è­ä¿¡å° "),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.LoginModal.email))]),t._v(" ï¼è«å°æ­¤ä¿¡ç®±æ¶åé©è­ä¿¡ã")])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[t.inLoginPage?[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:t.close}},[a("span",[t._v("è¿åé¦é ")])])]:[t._m(7)]],2)]:t._e()],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-logo"},[e("img",{attrs:{alt:"fireworks",src:"/public/img/icon/ic-fireworks.png",srcset:"/public/img/icon/ic-fireworks@2x.png 2x, /public/img/icon/ic-fireworks@3x.png 3x"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text--muted"},[e("span",[this._v("æ­¡è¿å å¥ PressPlay")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-logo"},[e("img",{attrs:{alt:"airplane",src:"/public/img/icon/ic-airplane.png",srcset:"/public/img/icon/ic-airplane@2x.png 2x, /public/img/icon/ic-airplane@3x.png 3x"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-header flex-column align-items-start"},[e("h4",{staticClass:"pp-modal-title"},[e("span",[this._v("è«æ¥çä½ çé»å­ä¿¡ç®±")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",[this._v("éé")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-logo"},[e("img",{attrs:{alt:"airplane",src:"/public/img/icon/ic-airplane.png",srcset:"/public/img/icon/ic-airplane@2x.png 2x, /public/img/icon/ic-airplane@3x.png 3x"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-header flex-column align-items-start"},[e("h4",{staticClass:"pp-modal-title"},[this._v("\n                è«æ¥çä½ çé»å­ä¿¡ç®±\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",[this._v("éé")])])}],!1,null,null,null);e.a=d.exports},1081:function(t,e,a){"use strict";var i=a(2),o=a(684);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={components:{},props:{},data:function(){return{errorMessage:""}},computed:s({},Object(i.mapGetters)({LoginModal:"".concat(o.a,"/LoginModal")}),{inLoginPage:function(){return!("member"!==window.location.pathname.split("/")[1]||-1===["login"].lastIndexOf(window.location.pathname.split("/")[2]))}}),watch:{LoginModal:function(){this.resendVeriftMail()}},mounted:function(){this.resendVeriftMail()},methods:s({},Object(i.mapActions)({}),{close:function(){window.location.href="/"},resendVeriftMail:function(){var t=this;t.errorMessage&&(t.errorMessage="");var e={email:t.LoginModal.email.trim()};t.$store.dispatch("".concat(o.a,"/PressPlayVerifyEmailSend"),e).then((function(e){t.$store.dispatch("".concat(o.a,"/PressPlayLoginModalSet"),{type:"ResendVerifyEmail",box_type:"LoginSuccessBox"})})).catch((function(e){switch(e.errorCode){case 30007:t.errorMessage="ä½ ç¼éçæ¬¡æ¸å¤ªé »ç¹äºï¼è« 1åéå¾ åè©¦è©¦ã";break;case 30011:t.errorMessage="é»å­ä¿¡ç®±å·²ç¶é©è­éåï¼"}}))}})},l=a(5),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-resendVerifyEmailBox",style:t.LoginModal.style,attrs:{id:"pp-resendVerifyEmailBox"}},[a("div",{staticClass:"pp-modal-logo"},[t.errorMessage?[a("img",{attrs:{alt:"mail",src:"/public/img/icon/ic-mail-multicolor.png",srcset:"/public/img/icon/ic-mail-multicolor@2x.png 2x, /public/img/icon/ic-mail-multicolor@3x.png 3x"}})]:[a("img",{attrs:{alt:"airplane",src:"/public/img/icon/ic-airplane.png",srcset:"/public/img/icon/ic-airplane@2x.png 2x, /public/img/icon/ic-airplane@3x.png 3x"}})]],2),t._v(" "),a("div",{staticClass:"pp-modal-header flex-column align-items-start"},[t.errorMessage?[a("h4",{staticClass:"pp-modal-title"},[t._v("\n                ç¼éå¤±æï¼\n            ")]),t._v(" "),a("p",{staticClass:"text--muted"},[t._v("\n                "+t._s(t.errorMessage)+"\n            ")])]:[a("h4",{staticClass:"pp-modal-title"},[t._v("\n                ç¼éä¸­...\n            ")]),t._v(" "),a("p",{staticClass:"text--muted"},[t._v("\n                å°éæ°ç¼éä¸å°é©è­ä¿¡å°æ¨è¨»åçé»å­ä¿¡ç®±ã\n            ")])]],2),t._v(" "),a("div",{staticClass:"pp-modal-body"},[t.errorMessage?t._e():a("div",{staticClass:"pp-modal-section"},[a("div",{staticClass:"pp-modal-loading"})]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[t.inLoginPage?[t.errorMessage?a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:t.close}},[a("span",[t._v("è¿åé¦é ")])]):t._e()]:[t.errorMessage?a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",[t._v("éé")])]):t._e()]],2)])])}),[],!1,null,null,null);e.a=d.exports},1082:function(t,e,a){"use strict";var i=a(2),o=a(0),n=a(24),s=a.n(n),r=a(684);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var p={components:{},mixins:[a(696).a],props:{},data:function(){return{LoginData:{password:"",confirmPassword:""},display:!1,confirmDisplay:!1,queryData:{}}},computed:l({validation:function(){return{isValidPassword:/(?=.*[0-9])(?=.*[a-zA-Z]).{6,}/.test(this.LoginModal.password),isValidConfirmPassword:/(?=.*[0-9])(?=.*[a-zA-Z]).{6,}/.test(this.LoginModal.confirmPassword)}},isValid:function(){var t=this.validation;return Object.keys(t).every((function(e){return t[e]}))}},Object(i.mapGetters)({LoginModal:"".concat(r.a,"/LoginModal")})),watch:{},mounted:function(){this.init()},methods:l({},Object(i.mapActions)({}),{init:function(){this.queryData=o.s.getJsonFromUrl(window.location.search.substr(1)),this.copyLoginModal(),o.p.pageAction("launchLogin_trigger",{})},copyLoginModal:function(){this.LoginData={password:this.LoginModal.password,confirmPassword:this.LoginModal.confirmPassword}},resetPw:function(){var t=this;if(!t.isValid)return!1;if(!t.LoginModal.isLoading){if(t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!0}),!t.isValid){t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1});var e=t.validation,a=e.isValidPassword,i=e.isValidConfirmPassword,n=t.LoginModal,c=n.password,l=n.confirmPassword,d={};!a&&c&&(d.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"]),!i&&l&&(d.confirmPassword=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"]);var p={data:d,type:"validation"};return Object(o.q)(!1,p,"pp-resetPwBox",null,null,!1,!1),!1}var u={email:t.queryData.email.trim(),verify_code:t.queryData.code.trim(),password:s()(t.LoginModal.password.trim()),confirm_password:s()(t.LoginModal.confirmPassword.trim())};t.$store.dispatch("".concat(r.a,"/PressPlayResetPw"),u).then((function(e){t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1}),window.location.href="/"})).catch((function(e){t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSet"),{isLoading:!1}),Object(o.q)(!1,e,"pp-resetPwBox",null,null,!1)}))}return!0},typingCheck:function(t){var e=this.validation,a=e.isValidPassword,i=e.isValidConfirmPassword,n=this.LoginModal,s=n.password,r=n.confirmPassword,c={};switch(t){case"password":!a&&s&&(c.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"]);break;case"confirmPassword":!i&&r&&(c.confirmPassword=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"])}var l={data:c,type:"validation"};Object(o.q)(!1,l,"pp-resetPwBox",null,null,!1,!1)},displayPassword:function(){this.display=!this.display},displayConfirmPassword:function(){this.confirmDisplay=!this.confirmDisplay},syncLoginData:function(){var t=this,e=["password","confirmPassword"],a=!1;if(e.forEach((function(e){t.LoginData[e]!==t.LoginModal[e]&&(a=!0)})),a){var i={};e.forEach((function(e){i[e]=t.LoginData[e]})),t.$store.dispatch("".concat(r.a,"/PressPlayLoginModalSetData"),i)}}})},u=a(5),g=Object(u.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-resetPwBox",style:t.LoginModal.style,attrs:{id:"pp-resetPwBox"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"pp-modal-body"},[a("div",{staticClass:"pp-modal-section"},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"text--muted",attrs:{for:"password"}},[t._v("è«è¼¸å¥ä½ çæ°å¯ç¢¼")]),t._v(" "),a("div",{staticClass:"position-relative"},["checkbox"==(t.display?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"6ä½ä»¥ä¸ï¼è±æ¸æ··å",autocomplete:"new-password",type:"checkbox"},domProps:{checked:Array.isArray(t.LoginData.password)?t._i(t.LoginData.password,null)>-1:t.LoginData.password},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,change:function(e){var a=t.LoginData.password,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&t.$set(t.LoginData,"password",a.concat([null])):n>-1&&t.$set(t.LoginData,"password",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.LoginData,"password",o)}}}):"radio"==(t.display?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"6ä½ä»¥ä¸ï¼è±æ¸æ··å",autocomplete:"new-password",type:"radio"},domProps:{checked:t._q(t.LoginData.password,null)},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,change:function(e){return t.$set(t.LoginData,"password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"6ä½ä»¥ä¸ï¼è±æ¸æ··å",autocomplete:"new-password",type:t.display?"text":"password"},domProps:{value:t.LoginData.password},on:{blur:function(e){return t.typingCheck("password")},keyup:t.syncLoginData,input:function(e){e.target.composing||t.$set(t.LoginData,"password",e.target.value)}}}),t._v(" "),a("span",{staticClass:"state cursor-pointer text--darkgray",on:{click:t.displayPassword}},[t.display?a("i",{staticClass:"icon icon-display_off"}):a("i",{staticClass:"icon icon-read"})])]),t._v(" "),a("small",{staticClass:"error-msg"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"text--muted",attrs:{for:"confirm-password"}},[t._v("è«åè¼¸å¥ä¸æ¬¡æ°å¯ç¢¼")]),t._v(" "),a("div",{staticClass:"position-relative"},["checkbox"==(t.confirmDisplay?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.confirmPassword,expression:"LoginData.confirmPassword"}],staticClass:"form-control",attrs:{id:"confirm-password",name:"confirmPassword",placeholder:"",autocomplete:"new-password",type:"checkbox"},domProps:{checked:Array.isArray(t.LoginData.confirmPassword)?t._i(t.LoginData.confirmPassword,null)>-1:t.LoginData.confirmPassword},on:{blur:function(e){return t.typingCheck("confirmPassword")},keyup:t.syncLoginData,change:function(e){var a=t.LoginData.confirmPassword,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&t.$set(t.LoginData,"confirmPassword",a.concat([null])):n>-1&&t.$set(t.LoginData,"confirmPassword",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.LoginData,"confirmPassword",o)}}}):"radio"==(t.confirmDisplay?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.confirmPassword,expression:"LoginData.confirmPassword"}],staticClass:"form-control",attrs:{id:"confirm-password",name:"confirmPassword",placeholder:"",autocomplete:"new-password",type:"radio"},domProps:{checked:t._q(t.LoginData.confirmPassword,null)},on:{blur:function(e){return t.typingCheck("confirmPassword")},keyup:t.syncLoginData,change:function(e){return t.$set(t.LoginData,"confirmPassword",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.confirmPassword,expression:"LoginData.confirmPassword"}],staticClass:"form-control",attrs:{id:"confirm-password",name:"confirmPassword",placeholder:"",autocomplete:"new-password",type:t.confirmDisplay?"text":"password"},domProps:{value:t.LoginData.confirmPassword},on:{blur:function(e){return t.typingCheck("confirmPassword")},keyup:t.syncLoginData,input:function(e){e.target.composing||t.$set(t.LoginData,"confirmPassword",e.target.value)}}}),t._v(" "),a("span",{staticClass:"state cursor-pointer text--darkgray",on:{click:t.displayConfirmPassword}},[t.confirmDisplay?a("i",{staticClass:"icon icon-display_off"}):a("i",{staticClass:"icon icon-read"})])]),t._v(" "),a("small",{staticClass:"error-msg"})])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("button",{staticClass:"btn btn-block forgetPw-button",class:[t.isValid?"btn-primary":"btn-light cursor-not-allowed"],attrs:{id:"forgetPw-button",type:"button",disabled:!t.isValid},on:{click:t.resetPw}},[t.LoginModal.isLoading?a("span",{staticClass:"spinner spinner-sm"}):a("span",[t._v("éè¨­å¯ç¢¼")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-logo"},[e("img",{attrs:{alt:"key",src:"/public/img/icon/ic-key.png",srcset:"/public/img/icon/ic-key@2x.png 2x, /public/img/icon/ic-key@3x.png 3x"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-header"},[e("h4",{staticClass:"pp-modal-title"},[e("span",[this._v("è¨­å®æ°å¯ç¢¼")])])])}],!1,null,null,null);e.a=g.exports},1107:function(t,e,a){"use strict";var i=a(710).a,o=a(5),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-loginBox",style:t.LoginModal.style,attrs:{id:"pp-loginBox"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.login(e))}}},[a("div",{staticClass:"pp-modal-header"},[t._m(0),t._v(" "),a("p",[a("span",[t._v("éæ²è¨»ååï¼")]),t._v(" "),a("a",{staticClass:"link--primary",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.changeComponent("RegisterBox")}}},[t._v("è¨»å")])])]),t._v(" "),a("div",{staticClass:"pp-modal-body"},[a("oauth-login"),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.email,expression:"LoginData.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",name:"email",placeholder:"é»å­ä¿¡ç®±",autocomplete:"username"},domProps:{value:t.LoginData.email},on:{blur:function(e){return t.typingCheck("email")},input:[function(e){e.target.composing||t.$set(t.LoginData,"email",e.target.value)},t.syncLoginData]}}),t._v(" "),a("small",{staticClass:"error-msg"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"position-relative"},["checkbox"==(t.display?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"å¯ç¢¼",autocomplete:"current-password",type:"checkbox"},domProps:{checked:Array.isArray(t.LoginData.password)?t._i(t.LoginData.password,null)>-1:t.LoginData.password},on:{blur:function(e){return t.typingCheck("password")},input:t.syncLoginData,change:function(e){var a=t.LoginData.password,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&t.$set(t.LoginData,"password",a.concat([null])):n>-1&&t.$set(t.LoginData,"password",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.LoginData,"password",o)}}}):"radio"==(t.display?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"å¯ç¢¼",autocomplete:"current-password",type:"radio"},domProps:{checked:t._q(t.LoginData.password,null)},on:{blur:function(e){return t.typingCheck("password")},input:t.syncLoginData,change:function(e){return t.$set(t.LoginData,"password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",placeholder:"å¯ç¢¼",autocomplete:"current-password",type:t.display?"text":"password"},domProps:{value:t.LoginData.password},on:{blur:function(e){return t.typingCheck("password")},input:[function(e){e.target.composing||t.$set(t.LoginData,"password",e.target.value)},t.syncLoginData]}}),t._v(" "),a("span",{staticClass:"state cursor-pointer text--darkgray",on:{click:t.displayPassword}},[t.display?a("i",{staticClass:"icon icon-display_off"}):a("i",{staticClass:"icon icon-read"})])]),t._v(" "),a("small",{staticClass:"error-msg"})])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("div",{staticClass:"form-inline justify-content-between align-items-center"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.remember,expression:"remember"}],staticClass:"custom-control-input",attrs:{id:"remember",type:"checkbox"},domProps:{checked:Array.isArray(t.remember)?t._i(t.remember,null)>-1:t.remember},on:{change:function(e){var a=t.remember,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&(t.remember=a.concat([null])):n>-1&&(t.remember=a.slice(0,n).concat(a.slice(n+1)))}else t.remember=o}}}),t._v(" "),a("label",{staticClass:"custom-control-label u-fontSize14 text--muted",attrs:{for:"remember"}},[t._v("è¨ä½æçå¸³è")])])]),t._v(" "),a("div",{staticClass:"form-inline justify-content-between align-items-center"},[t._m(2),t._v(" "),a("small",{staticClass:"ml-auto"},[a("a",{staticClass:"link--primary",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.changeComponent("ForgetPwBox")}}},[t._v("å¿è¨å¯ç¢¼")])])])]),t._v(" "),a("div",{staticClass:"pp-modal-section"},[a("button",{staticClass:"btn btn-block login-button",class:[t.isValid?"btn-primary":"btn-light cursor-not-allowed"],attrs:{id:"login-button",type:"button",disabled:!t.isValid},on:{click:t.login}},[t.LoginModal.isLoading?a("span",{staticClass:"spinner spinner-sm"}):a("span",[t._v("ç»å¥")])])])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"pp-modal-title"},[e("span",[this._v("ç»å¥")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-section"},[e("div",{staticClass:"pp-modal-hr"},[e("small",[this._v("æä½¿ç¨é»å­ä¿¡ç®±")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group mb-0"},[e("small",{staticClass:"error-msg",attrs:{name:"global"}})])}],!1,null,null,null);e.a=n.exports},260:function(t,e,a){"use strict";a.r(e);var i=a(709).a,o=a(5),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-login-modal",class:{modal:t.isModal,fade:t.isModal},attrs:{id:t.id,"data-theme":t.LoginModal.theme,tabindex:"-1",role:"dialog","data-backdrop":"static"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered justify-content-center",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t.LoginModal.subtitle?[a("img",{staticClass:"logo",attrs:{src:"/public/img/PressPlay-logo-inverse.png",alt:"PressPlay è¨é±å­¸ç¿ï¼æå»ç²¾é²",srcset:"/public/img/PressPlay-logo-inverse@2x.png 2x, /public/img/PressPlay-logo-inverse@3x.png 3x"}})]:t._e(),t._v(" "),a("button",{staticClass:"close",class:[t.isModal?"":"invisible"],style:{display:t.LoginModal.closeBtn?"":"none"},attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.closeModal}},[a("i",{staticClass:"icon icon-close"})])],2),t._v(" "),t.LoginModal.subtitle?[a("div",{staticClass:"modal-body subtitle",domProps:{innerHTML:t._s(t.LoginModal.subtitle)}})]:t._e(),t._v(" "),a("div",{staticClass:"modal-body"},[a(t.LoginModal.box_type,{tag:"component",attrs:{oauth_data:t.oauth_data}})],1),t._v(" "),t.LoginModal.isLoading?[t._m(0)]:t._e()],2)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pp-modal-loading-mask"},[e("div",{staticClass:"spinner spinner-lg"})])}],!1,null,null,null);e.default=n.exports},684:function(t,e,a){"use strict";var i=a(0),o=a(10);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r=o.a.API_CONFIG.API_HOST,c=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},o.a,{loginPressPlayMember:function(t){var e="".concat(c.API_CONFIG.API_HOST,"/login");return c.run(e,"POST",t)},registerPressPlayMember:function(t){var e="".concat(c.API_CONFIG.API_HOST,"/register");return c.run(e,"POST",t)},checkPressPlayMember:function(t){var e="".concat(c.API_CONFIG.API_HOST,"/checkMember");return c.run(e,"POST",t)},setFacebookLogin:function(t){var e="".concat(c.API_CONFIG.API_HOST,"/fbLogin");return c.run(e,"POST",t)},setPressPlayFacebookMemberBind:function(t){var e="".concat(c.API_CONFIG.API_HOST,"/fbBinding");return c.run(e,"POST",t)},sendPressPlayForgetPwLetter:function(t){var e="".concat(c.API_CONFIG.API_HOST,"/sendLoginLink");return c.run(e,"POST",t)},sendPressPlayVerifyEmail:function(t){var e="".concat(c.API_CONFIG.API_HOST,"/resendVerifyMail");return c.run(e,"POST",t)},resetPressPlayPw:function(t){var e="".concat(c.API_CONFIG.API_HOST,"/login/reset-password");return c.run(e,"PATCH",t)},thirdPartyOauthBind:function(t){var e={third_party:t.third_party},a="".concat(r,"/oauth/{third_party}/bindConfirm");return a=i.s.formatUrlByParams(a,e),delete t.third_party,c.run(a,"POST",t)}}),l=c;function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u=!!i.f.get("MemberInfo.user_id"),g={PressPlayLoginModalTriggerOpen:function(t,e){var a=t.commit,o=!1;if(!u||u&&"verifyEmail"===e.type)if(i.j.isMobileApp())"TimelineReadingCompleted"!==e.triggerType&&(i.j.openNativeLogin(),o=!0),"/member/login"===window.location.pathname&&i.j.closeWebView();else{var n=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(a,!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({triggerTime:Date.now()},e);switch(e||(e={}),e.type||(e.type=""),e.type){case"verifyEmail":n.box_type="ResendVerifyEmailBox";break;case"register":n.box_type="RegisterBox";break;case"oauthLoading":n.box_type="OauthLoadingBox";break;case"login":default:n.box_type="LoginBox"}e.triggerType||(n.triggerType=""),a("setPressPlayLoginModal",n),o=!0}else o=!1;return o},PressPlayLoginModalSet:function(t,e){(0,t.commit)("setPressPlayLoginModal",e)},PressPlayLoginModalSetData:function(t,e){(0,t.commit)("setPressPlayLoginModalData",e)},PressPlayLoginModalLogs:function(t,e){(0,t.commit)("recordPressPlayLoginModalLogs",e)},PressPlayMemberLogin:function(t,e){t.commit;return new Promise((function(t,a){l.loginPressPlayMember(e).success((function(e){t(e)})).error((function(t){a(t)}))}))},PressPlayMemberRegister:function(t,e){t.commit;return new Promise((function(t,a){l.registerPressPlayMember(e).success((function(e){t(e)})).error((function(t){a(t)}))}))},PressPlayMemberCheck:function(t,e){t.commit;return new Promise((function(t,a){l.checkPressPlayMember(e).success((function(e){t(e)})).error((function(t){a(t)}))}))},PressPlayFacebookLoginCallback:function(t,e){t.commit;return new Promise((function(t,a){l.setFacebookLogin(e).success((function(e){t(e)})).error((function(t){a(t)}))}))},PressPlayFacebookMemberBind:function(t,e){t.commit;return new Promise((function(t,a){l.setPressPlayFacebookMemberBind(e).success((function(e){t(e)})).error((function(t){a(t)}))}))},PressPlayForgetPwLetterSend:function(t,e){t.commit;return new Promise((function(t,a){l.sendPressPlayForgetPwLetter(e).success((function(e){t(e)})).error((function(t){a(t)}))}))},PressPlayVerifyEmailSend:function(t,e){t.commit;return new Promise((function(t,a){l.sendPressPlayVerifyEmail(e).success((function(e){t(e)})).error((function(t){a(t)}))}))},PressPlayResetPw:function(t,e){t.commit;return new Promise((function(t,a){l.resetPressPlayPw(e).success((function(e){t(e)})).error((function(t){a(t)}))}))},PressPlayThirdPartyOauthBind:function(t,e){t.commit;return new Promise((function(t,a){l.thirdPartyOauthBind(e).success((function(e){t(e)})).error((function(t){a(t)}))}))}};function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(a,!0).forEach((function(e){y(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function y(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={setPressPlayLoginModal:function(t,e){var a=JSON.parse(JSON.stringify(t.LoginModal));if(e.box_type){switch(e.box_type){case"RegisterBox":case"OauthLoadingBox":t.LoginModal.subtitle||e.box_type?e.style={minHeight:"467px"}:e.style={minHeight:"541px"};break;default:case"LoginBox":e.style={minHeight:"457px"}}switch(e.box_type){case"ResendVerifyEmailBox":case"OauthLoadingBox":e.closeBtn=!1;break;default:e.closeBtn=!0}}t.LoginModal=f({},a,{},e)},setPressPlayLoginModalData:function(t,e){var a=JSON.parse(JSON.stringify(t.LoginModal));t.LoginModal=f({},a,{},e)},recordPressPlayLoginModalLogs:function(t,e){var a=e.gtagEvent,o=e.pageActionEvent,n=e.data;a&&n.success&&!0===n.success&&i.w.gtag("event",a,{method:n.method,register:n.register}),(n.method||n.register)&&(delete n.method,delete n.register),o&&i.p.pageAction(o,n,!0)}};function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return w})),a.d(e,"b",(function(){return L}));var w="Common/Header/LoginModal",L={state:{LoginModal:{type:"",box_type:"",triggerTime:null,theme:"",nickname:"",email:"",password:"",confirmPassword:"",head_photo:"",next_url:"",style:{},isLoading:!1,closeBtn:!0,third_party:""}},mutations:v,actions:g,getters:{LoginModal:function(t){return t.LoginModal}},namespaced:!0};!function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(a,!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}}({module_name:w},L)},696:function(t,e,a){"use strict";var i=a(684);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.a={data:function(){return{logsData:{gtagEvent:null,pageActionEvent:null,data:{}}}},methods:{recordProcessLogs:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(a,!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.logsData,{gtagEvent:t.gtagEvent,pageActionEvent:t.pageActionEvent,data:t.data});this.$store.dispatch("".concat(i.a,"/PressPlayLoginModalLogs"),e)},onSubmit:function(t){return t.preventDefault(),!1}}}},709:function(t,e,a){"use strict";(function(t){var i=a(2),o=a(0),n=a(684),s=a(1107),r=a(1076),c=a(1078),l=a(1079),d=a(1080),p=a(1081),u=a(1082);function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(a,!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y=o.f.get("oauth_data")||!1;o.g.register([{rel:"stylesheet",type:"text/css",href:"public/[WEB_VER]/css/page/common/loginModal.css"}]),e.a={components:{LoginBox:s.a,RegisterBox:r.a,ForgetPwBox:c.a,ResendVerifyEmailBox:p.a,LoginAlreadyRegisterBox:l.a,LoginSuccessBox:d.a,ResetPwBox:u.a},props:{id:{type:String,default:"pp-login-modal"},isModal:{type:Boolean,default:!0}},data:function(){return{triggerTime:null,oauth_data:y,logsData:{gtagEvent:null,pageActionEvent:null,data:{}}}},computed:m({},Object(i.mapGetters)({LoginModal:"".concat(n.a,"/LoginModal")})),watch:{LoginModal:function(e,a){e.triggerTime!==this.triggerTime&&(this.isModal&&t("#".concat(this.id)).modal("show"),this.triggerTime=e.triggerTime)}},beforeCreate:function(){this.$store.state[n.a]||this.$store.registerModule(n.a,n.b)},mounted:function(){y||this.$emit("login-model-done")},methods:{closeModal:function(){this.$store.dispatch("".concat(n.a,"/PressPlayLoginModalSet"),{box_type:""});var t=m({},this.logsData,{pageActionEvent:"LoginModal_Close_Click"});this.$store.commit("".concat(n.a,"/recordPressPlayLoginModalLogs"),t)}}}}).call(this,a(1))},710:function(t,e,a){"use strict";(function(t){var i=a(2),o=a(24),n=a.n(o),s=a(20),r=a.n(s),c=a(0),l=a(684),d=a(696),p=a(873);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f=c.f.get("IS_APP");e.a={components:{OauthLogin:p.a},mixins:[d.a],props:{oauth_data:{type:[Object,Boolean],default:function(){return!1}}},data:function(){return{LoginData:{nickname:"",email:"",password:""},display:!1,remember:!0}},computed:g({validation:function(){return{isValidEmail:/^\w+((\-+\w+)|(\.\w+)|(\+\w+))*\@[A-Za-z0-9]+((\.|\-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(this.LoginModal.email),isValidPassword:""!==this.LoginModal.password}},isValid:function(){var t=this.validation;return Object.keys(t).every((function(e){return t[e]}))}},Object(i.mapGetters)(["PageSetting"]),{},Object(i.mapGetters)({LoginModal:"".concat(l.a,"/LoginModal")})),watch:{LoginModal:function(){this.copyLoginModal()}},created:function(){this.loginLogsAction()},mounted:function(){t("#".concat(this.$parent.id)).on("show.bs.modal",(function(){})),this.init()},methods:g({},Object(i.mapActions)({}),{init:function(){var t=g({},this.logsData,{pageActionEvent:"LoginModal_Login_Open_Click",data:{triggerType:this.LoginModal.triggerType?this.LoginModal.triggerType:"Click"}});this.$store.dispatch("".concat(l.a,"/PressPlayLoginModalLogs"),t),this.copyLoginModal(),c.p.pageAction("launchLogin_trigger",{})},copyLoginModal:function(){this.LoginData={nickname:this.LoginModal.nickname,email:this.LoginModal.email,password:this.LoginModal.password}},login:function(){var t=this;if(!t.isValid)return!1;if(!t.LoginModal.isLoading){if(t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!0}),!t.isValid){t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!1});var e=t.validation,a=e.isValidEmail,i=e.isValidPassword,o=t.LoginModal,s=o.email,r=o.password,d={};!a&&s&&(d.email=["é»å­ä¿¡ç®±æ ¼å¼é¯èª¤"]),s||(d.email=["è«å¡«å¯«é»å­ä¿¡ç®±"]),!i&&r&&(d.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"]),r||(d.password=["è«å¡«å¯«å¯ç¢¼"]);var p={data:d,type:"validation"};return Object(c.q)(!1,p,"pp-loginBox",null,null,!1,!1),!1}var u={email:t.LoginModal.email.trim(),password:n()(t.LoginModal.password.trim())};"/"===window.location.pathname&&(u.current_location="index"),t.$store.dispatch("".concat(l.a,"/PressPlayMemberLogin"),u).then((function(e){t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a={email:t.LoginModal.email.trim(),remember:t.remember};localStorage.setItem("loginLogs",JSON.stringify(a)),t.handleOldWebViewUser();var i={gtagEvent:"Login",pageActionEvent:"LoginModal_Login_Send_Click",data:{method:"Email",register:"Email_Member",success:!0,triggerType:t.LoginModal.triggerType?t.LoginModal.triggerType:"Click"}};t.recordProcessLogs(i);var o=e.next_location,n=t.LoginModal.next_url;if(n)window.location.href=n;else if(o)switch(o.location){case"member_index":"/"===window.location.pathname?window.location.href="/member":window.location.reload();break;default:window.location.reload()}else window.location.reload()})).catch((function(e){t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{isLoading:!1});var a={global:["Oh Oh! ç»å¥è³è¨ä¸æ­£ç¢º...è«åè©¦ä¸æ¬¡ã"]},i={data:a,type:"validation"};Object(c.q)(!1,i,"pp-loginBox",null,null,!1,!1);var o={gtagEvent:"Login",pageActionEvent:"LoginModal_Login_Send_Click",data:{method:"Email",register:"Email_Member",success:!1,triggerType:t.LoginModal.triggerType?t.LoginModal.triggerType:"Click"}};t.recordProcessLogs(o)}))}return!0},handleOldWebViewUser:function(){if(f&&("android"===this.PageSetting.device||"Android"===this.PageSetting.device)){var t=r.a.getJSON();return c.j.setCookie({uid:t.PPUID,session:t.PHPSESSID}),!1}return!0},typingCheck:function(t){var e=this.validation,a=e.isValidEmail,i=e.isValidPassword,o=this.LoginModal,n=o.email,s=o.password,r={};switch(t){case"email":!a&&n&&(r.email=["é»å­ä¿¡ç®±æ ¼å¼é¯èª¤"]);break;case"password":!i&&s&&(r.password=["å¯ç¢¼éåå« 6ä½ä»¥ä¸è±æãæ¸å­"])}var l={data:r,type:"validation"};Object(c.q)(!1,l,"pp-loginBox",null,null,!1,!1)},displayPassword:function(){this.display=!this.display},changeComponent:function(t){this.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSet"),{box_type:t})},syncLoginData:function(){var t=this,e=["nickname","email","password"],a=!1;if(e.forEach((function(e){t.LoginData[e]!==t.LoginModal[e]&&(a=!0)})),a){var i={};e.forEach((function(e){"email"==e&&(t.LoginData[e]=t.LoginData[e].replace("ï¼ ","@")),i[e]=t.LoginData[e]})),t.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSetData"),i)}},loginLogsAction:function(){var t=JSON.parse(localStorage.getItem("loginLogs"));t&&t.remember&&(this.remember=t.remember,this.$store.dispatch("".concat(l.a,"/PressPlayLoginModalSetData"),{email:t.email}))}})}}).call(this,a(1))},711:function(t,e,a){var i=a(883);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(61).default)("3e2085c5",i,!0,{})},873:function(t,e,a){"use strict";var i=a(2),o=a(0),n=a(684);function s(t,e,a,i,o,n,s){try{var r=t[n](s),c=r.value}catch(t){return void a(t)}r.done?e(c):Promise.resolve(c).then(i,o)}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(a,!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var d,p,u=o.f.get("THIRD_PARTY_LOGIN"),g=o.f.get("baseUrl"),m={components:{},filters:{},props:{},data:function(){return{THIRD_PARTY_LOGIN:u}},computed:c({},Object(i.mapGetters)(["PageSetting_device","PageSetting_browser"]),{},Object(i.mapGetters)({LoginModal:"".concat(n.a,"/LoginModal")}),{actionText:function(){var t="";switch(this.LoginModal.box_type){case"RegisterBox":t="è¨»å";break;case"LoginBox":default:t="ç»å¥"}return t},isSafariOrAppleDevices:function(){return!!this.PageSetting_browser.name&&"safari"===this.PageSetting_browser.name.toLowerCase()||"ios"===this.PageSetting_device.toLowerCase()}}),watch:{},created:function(){},mounted:function(){this.isSafariOrAppleDevices&&this.appleAuthInit()},updated:function(){},destroyed:function(){},methods:c({},Object(i.mapActions)({}),{},Object(i.mapMutations)({}),{thirdPartyIcon:function(t){var e="";switch(t.toLowerCase()){case"facebook":e="icon icon-".concat(t.toLowerCase(),"_S");break;default:case"google":case"apple":e="fab fa-".concat(t.toLowerCase())}return e},URL:function(t){var e=window.location.href,a=o.s.object2QueryStr({from:e});return"".concat(t,"?").concat(a)},useThirdParty:function(t,e){var a={triggerType:this.LoginModal.subtitle?"TimelineReadingCompleted":"Click"};switch(localStorage.setItem("thirdPartyLogs",JSON.stringify(a)),e.toLowerCase()){case"apple":this.isSafariOrAppleDevices?this.appleIDSignIn():window.location.href=this.URL(t);break;default:window.location.href=this.URL(t)}},appleAuthInit:function(){AppleID.auth.init({clientId:"cc.pressplay.quill.signin",scope:"name email",redirectURI:"".concat(g,"/member/callback/apple"),state:o.s.getRandomString(10),usePopup:!0})},appleIDSignIn:(d=regeneratorRuntime.mark((function t(){var e,a,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.prev=1,t.next=4,AppleID.auth.signIn();case 4:a=t.sent,i=a.authorization,o=c({},i),e.post("".concat(g,"/member/callback/apple"),o),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,this,[[1,10]])})),p=function(){var t=this,e=arguments;return new Promise((function(a,i){var o=d.apply(t,e);function n(t){s(o,a,i,n,r,"next",t)}function r(t){s(o,a,i,n,r,"throw",t)}n(void 0)}))},function(){return p.apply(this,arguments)}),post:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",i=this,o=document.createElement("form");for(var n in o.setAttribute("method",a),o.setAttribute("action",t),e)if(e.hasOwnProperty(n)){var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",n),s.setAttribute("value",e[n]),o.appendChild(s)}i.isSafariOrAppleDevices&&document.body.appendChild(o),o.submit()}})},f=a(5),y=Object(f.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pp-modal-section"},[t._l(t.THIRD_PARTY_LOGIN,(function(e,i){return[a("button",{key:i,staticClass:"btn btn-block",class:"btn-"+i.toLowerCase(),attrs:{id:i.toLowerCase()+"-button","data-safari-ios":t.isSafariOrAppleDevices},on:{click:function(a){return t.useThirdParty(e,i)}}},[a("span",{staticClass:"d-inline-flex align-items-center justify-content-center",staticStyle:{width:"21px"}},[a("i",{class:t.thirdPartyIcon(i)})]),t._v(" "),a("span",[t._v("ä½¿ç¨ "+t._s(i)+" ç»å¥")])])]}))],2)}),[],!1,null,"0769eed3",null);e.a=y.exports},882:function(t,e,a){"use strict";var i=a(711);a.n(i).a},883:function(t,e,a){(t.exports=a(60)(!1)).push([t.i,"\n.slide-fade-enter-active,\n.slide-fade-leave-active {\n    opacity: 1;\n    transition: all .3s ease;\n}\n.slide-fade-enter,\n.slide-fade-leave-to {\n    opacity: 0;\n}\n",""])}}]);