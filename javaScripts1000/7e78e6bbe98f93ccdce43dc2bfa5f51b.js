function initWidget(M,A,R){function o(e,t,n){window.module=t,window.define=n,A.generateUuid=window.uuid.noConflict();n=new i;Zoomd.Widget.events={subscribe:n.subscribe.bind(n)},R.zdEventEmiter={emit:n.emit.bind(n)},A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/zoomd.widget.logger"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,"javascript",function(){A.tryInit(function(){Zoomd.Widget.zdlogger=R.zdlogger=new zdLogger(SUPJQ||M,SUPJQ.extend({},R.injectionSettings,R.internalConfig),A,R.zdEventEmiter,R.fp),R.zdlogger.init(function(){R.logEvent=R.zdlogger.logEvent,e&&e()})})},function(){return R.internalConfig.optimized&&void 0!==window.zdLogger})}A.checkAdBlocker=async function(){let t;return void 0!==t?t:await async function(){try{return fetch(new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors"})).then(function(e){return t=!1,t}).catch(function(e){return t=!0,t})}catch(e){return console.log(e),t=!0,t}}()},A.LogError=function(e,t){A.sendLog(e,"ERROR",t)},A.sendLog=function(e,t,n){var i;e&&(i={clientId:R.injectionSettings.clientId,environment:R.internalConfig.environment,pageUrl:location.href,userAgent:navigator.userAgent||navigator.vendor||window.opera||"noAgentFound"},n&&"object"==typeof n&&(i.exception=n),M.ajax({url:Zoomd.Widget.SU_BaseUrlServiceHttp+"zoomd/SearchUi/Log",method:"POST",crossDomain:!0,data:{message:e,parameters:JSON.stringify(i),level:t},error:function(e,t,n){console.log(n)}}))},A.logActionWithParams=function(e,t){var n={timeSeconds:(new Date).getTime(),action:e};t&&t.containerType&&"string"==typeof t.containerType&&0<t.containerType.length&&(n.containerType=t.containerType),t&&(n=M.extend(n,t)),window.appInsights&&M.isFunction(window.appInsights.trackEvent)&&window.appInsights.trackEvent(e),n&&n.containerType&&logCustomParamsByContType[n.containerType]&&(n=M.extend(n,logCustomParamsByContType[n.containerType])),R.injectionSettings.Version&&(n.ver=R.injectionSettings.Version);t=!1;(t=window.Zoomd&&Zoomd.Widget&&Zoomd.Widget.zdlogger?Zoomd.Widget.zdlogger.logEvent(e,n):t)||(A.sendLog("logger missing in ECLoader","WARNING"),M.ajax({url:Zoomd.Widget.SU_BaseUrlServiceHttp+"LogClientAction",data:{clientId:R.injectionSettings.clientId,action:e,eventData:JSON.stringify(n)},type:"POST",dataType:"json",success:function(e){},error:function(e){A.sendLog("LogClientAction failed","ERROR")}}))},A.tryInit=function(e){try{e&&e()}catch(e){A.LogError("Failed to init the widget",{message:e.message,stacktrace:e.stack})}};var H,i=function(){this.events={},this.storedEvents={},this.emit=function(e,t){var n=this.events[e];n?n.forEach(function(e){e.call(null,t)}):this.storedEvents[e]=t},this.subscribe=function(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this.storedEvents[e]&&(this.emit(e,this.storedEvents[e]),delete this.storedEvents[e]),function(){this.events[e]=this.events[e].filter(function(e){return t!==e})}}},N=!1;!function(t){var n=window.module;window.module=void 0;var i=window.define;window.define=void 0,A.loadScript("https://cdnjs.cloudflare.com/ajax/libs/node-uuid/1.4.8/uuid.min.js","uuid",function(){var e;R.injectionSettings.UseFingerPrint?(e=R.injectionSettings.JsInjectFingerPrint||Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/zoomd.fingerprint"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,A.loadScript(e,"javascript",function(){R.fp=new Fingerprint({canvas:!0,ie_activex:!0,screen_resolution:!0}),o(t,n,i)})):o(t,n,i)},function(){return R.internalConfig.optimized&&void 0!==window.uuid})}(function(){var s=null,f=!1,m={zoom:-1,width:-1,height:-1},u=R.injectionSettings.SiteWidth;M.extend(R.injectionSettings,{trigger:"OnClick"});function c(e){A.loadStyleSheet(Zoomd.Widget.SU_BaseUrlContentHttp+"Content/4.0/css/zoomd.widget.autoComplete.css?v="+R.internalConfig.widgetVersion,"autoComplete css",function(){A.trace("mini discovery widget css loaded",R.internalConfig.TraceLevel.DEBUG)}),A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/zoomd.widget.autoComplete"+R.internalConfig.min+".js?v="+R.internalConfig.widgetVersion,"autoComplete",function(){A.tryInit(function(){R.ZdAutoComplete=new zdAutoComplete(M,A,R)}),e&&e()})}function n(){var e,t,n;N=!0,!R.MiniDiscovery&&R.injectionSettings.MiniDiscoverySettings&&(A.loadScript("https://fonts.googleapis.com/icon?family=Material+Icons","css",function(){}),A.loadStyleSheet(Zoomd.Widget.SU_BaseUrlContentHttp+"content/zoomd.widget.mini.discovery.css?ver="+R.internalConfig.widgetVersion,"css",function(){A.trace("mini discovery widget css loaded",R.internalConfig.TraceLevel.DEBUG)}),e=function(e,t){window.jQuery||(window.jQuery=M),A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"/common-scripts/RX2.js?v="+R.internalConfig.thirdPartyVersion,"rx",function(){window.jQuery.fn.keyupAsObservable&&!M.fn.keyupAsObservable&&(M.fn.keyupAsObservable=window.jQuery.fn.keyupAsObservable,M.fn.bindAsObservable=window.jQuery.fn.bindAsObservable),e&&e(t)})},t=function(e){A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/zoomd.widget.mini.discovery"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,"MiniDiscovery",function(){e&&e()})},n=function(){c(function(){N=!1,A.tryInit(function(){R.MiniDiscovery||(R.MiniDiscovery=new miniDiscoveryLoader(M,R,A))})})},R.injectionSettings.MiniDiscoverySettings&&R.injectionSettings.MiniDiscoverySettings.AutoComplete?C()&&y()?M(document).on("zoomdSearch:partiallyLoaded",function(){e(t,n)}):e(t,n):t(function(){N=!1,A.tryInit(function(){R.MiniDiscovery||(R.MiniDiscovery=new miniDiscoveryLoader(M,R,A))})}))}A.getBrowserIETrident=function(){var e=navigator.userAgent.match(/(Trident\/)([\d.]+)(?=;|\))/i);return e?e[2]:null},A.getBrowserVersion=function(){if("msie"==A.getBrowserName()){var e=parseInt(A.getBrowserIETrident(),10);return 7<=e?"11.0":6<=e?"10.0":5<=e?"9.0":4<=e?"8.0":"7.0"}var t,n=navigator.appName,i=navigator.userAgent,e=i.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return e&&null!=(t=i.match(/version\/([\.\d]+)/i))&&(e[2]=t[1]),(e=e?[e[1],e[2]]:[n,navigator.appVersion,"-?"])[1]},A.getElementOffset=function(e,t){var n=R.getInjectionSettings(e,"offset"),i=M(e).offset();return t&&0<M(t).length&&(i=M(e=t).offset(),n=n||R.getInjectionSettings(e,"offset")),n?(i.offsetEndParsedDiff={top:parseInt(i.top)+parseInt(n.top),left:parseInt(i.left)+parseInt(n.left)},i.top+=n.top,i.left+=n.left,i.offsetDiff=n):A.checkInputTypeSearch(e)&&(i.top-=48,i.left-=22),i};var t,i,e,o,r,a,p,h,w,d,l=A.getQueryStringParamByName("suloglevel");function g(){var e=parseInt(document.documentMode,10);if(R.internalConfig.isIE="msie"==A.getBrowserName(),R.internalConfig.isIE8=R.internalConfig.isIE&&(e<=8||isNaN(e)),R.internalConfig.isDocumentQuirksMode=R.internalConfig.isIE8&&A.getBrowserVersion()<10,R.internalConfig.isIE){e=parseInt(A.getBrowserIETrident(),10);if(isNaN(e)||e<1)return void A.trace("Device or browser is not supported",R.internalConfig.TraceLevel.ERROR)}return 4<=R.injectionSettings.Version&&(R.internalConfig.isIE&&A.getBrowserVersion()<10&&(R.injectionSettings.Version="3.0")),1}function S(){if(0<t.length){for(var e=0;e<t.length;e++)M.isFunction(t[e])&&t[e]();t=[]}}function v(e){R.ExternalContentLoader||R.internalConfig.BackedupAdPlacements||0!=M("#uciBzQikOFeX").length&&0!=M("#uciBzQikOFeX").height()||(M("#uciBzQikOFeX").length&&M("#uciBzQikOFeX").remove(),R.logEvent("AdBlockDetected"),R.injectionSettings.AdPlacementsWhenBlocked?(R.internalConfig.BackedupAdPlacements=R.injectionSettings.AdPlacements,R.injectionSettings.AdPlacements=R.injectionSettings.AdPlacementsWhenBlocked,A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/zoomd.widget.externalcontent.loader"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,"externalContentLoader",function(){R.ExternalContentLoader=new externalContentLoader(M,M.extend({},R.internalConfig,R.injectionSettings),R,A),S(),M.isFunction(e)&&(e(),e=null)})):(R.ExternalContentLoader={load:function(){return[]},isReady:function(){return!1}},S(),M.isFunction(e)&&(e(),e=null)))}async function _(e){R.ExternalContentLoader||r?M.isFunction(e)&&(t.push(e),R.ExternalContentLoader&&e()):R.injectionSettings.DisableExternalContentByCookie&&-1<document.cookie.search(R.injectionSettings.DisableExternalContentByCookie)?v(function(){e&&e(),e=null}):(r=!0,await A.checkAdBlocker()?v(function(){e&&e(),e=null}):R.ExternalContentLoader&&R.internalConfig.BackedupAdPlacements?(R.injectionSettings.AdPlacements=R.internalConfig.BackedupAdPlacements,R.ExternalContentLoader=new externalContentLoader(M,M.extend({},R.internalConfig,R.injectionSettings),R,A),S(),M.isFunction(e)&&(e(),e=null)):A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/zoomd.widget.externalcontent.loader"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,"externalContentLoader",function(){R.internalConfig.BackedupAdPlacements&&(R.injectionSettings.AdPlacements=R.internalConfig.BackedupAdPlacements),R.ExternalContentLoader=new externalContentLoader(M,M.extend({},R.internalConfig,R.injectionSettings),R,A),S(),M.isFunction(e)&&(e(),e=null)}))}function y(){var e=location.host+location.pathname,t=R.injectionSettings.Version4Settings&&R.injectionSettings.Version4Settings.SearchPageUrl&&R.injectionSettings.Version4Settings.SearchPageUrl.replace(/^https?:\/\//,"");return!(t&&e.indexOf(t)<0)}function C(){var e;return 4<=parseInt(R.injectionSettings.Version,10)&&(y()||(e=R.injectionSettings.Version4Settings&&R.injectionSettings.Version4Settings.SearchPageUrl&&R.injectionSettings.Version4Settings.SearchPageUrl.replace(/^https?:\/\//,""),Zoomd.searchPageRedirectUrl=location.protocol+"//"+e,R.onWidgetReady(function(e,t,n){var i=location.search+"#/search;skipAnimation=true;";e&&(i+="query="+e),n&&n.field&&n.values&&0<n.values.length&&(i+=";"+n.field+"Filters="+n.values.join(",")),location.href=Zoomd.searchPageRedirectUrl+i})),1)}function j(e){0<M("body").length?M.isFunction(e)&&e():setTimeout(j,100,e)}function x(){var e=M('<div id="iframe_container" class="su_w_s_hidden" title="Zoomd Search & Discover" style="filter:chromacolor=#F5FAFD; width:0; height:0; position:absolute; left: 50%; z-index:99999; overflow:hidden; scroll:noscroll;"></div>');M("body").append(e),M("#iframe_container").prepend(M('<a id="sup_focus_trapper" href="#" style="position:absolute;top:-5000px;opacity:0;">Open Search</a>')),M("#sup_focus_trapper").bind("focus",function(e){null!=s&&(A.trace("sup_focus_trapper focus",R.internalConfig.TraceLevel.DEBUG),e.preventDefault(),M("#sup_focus_trapper").attr("tabindex",-1),M("#su_w_last_element").attr("tabindex",""),M("#iframe_container").show(),s.postMessage("hoverInWidget",Zoomd.Widget.SU_BaseUrlServiceHttp))}),M("#iframe_container").append(M('<a id="su_w_last_element" href="#" style="position:absolute;top:-5000px;opacity:0;">Close Search</a>')),M("#su_w_last_element").bind("focus",function(e){z(!1),null!=s&&(A.trace("su_w_last_element focus",R.internalConfig.TraceLevel.DEBUG),e.preventDefault(),M("#su_w_last_element").attr("tabindex",-1),M("#sup_focus_trapper").attr("tabindex",""),s.postMessage("parentMinimizeWidget",Zoomd.Widget.SU_BaseUrlServiceHttp))});e=Zoomd.Widget.SU_BaseUrlServiceHttp+"zoomd/SearchUi/?clientId="+R.injectionSettings.clientId+"&baseVersion="+(R.injectionSettings.Version||R.internalConfig.baseVersion)+"&ver="+R.internalConfig.widgetVersion+"&venVer="+R.internalConfig.thirdPartyVersion+"&min="+R.internalConfig.min+"&documentSrc="+document.origin+"&contentSource="+Zoomd.Widget.SU_BaseUrlContentHttp+"&environment="+R.internalConfig.environment+"&os="+encodeURIComponent(JSON.stringify({CustomInitHtmlCssFile:"custom_invisible"}));R.injectionSettings.Platform&&(e+="&platform="+R.injectionSettings.Platform),M("#iframe_container").append('<iframe id="su_iframe" src="'+e+'" frameborder="0" width="100%" height="100%"></iframe>'),M("#su_iframe").on("load",function(){s=this.contentWindow}),M("#iframe_container").hide(),window.addEventListener?window.addEventListener("message",function(e){I(e)}):window.attachEvent("onmessage",function(e){I(e)}),M(document).ready(function(){R.logEvent("DomReady"),L(!0),B()}),(!R.internalConfig.isIE||7<=document.documentMode)&&(setTimeout(function(){M(window).trigger("resize")},3e3),M(window).on("resize load",function(e){var t=A.getZoom(),n=Math.max(document.documentElement.clientWidth,window.innerWidth||0)-10;n!=m.width&&W(-1,-1,200);var i=Math.min(document.documentElement.clientHeight,window.innerHeight||1e4)-10;n==m.width&&t==m.zoom&&i==m.height||(m.width=n,m.zoom=t,m.height=i,null!=s&&s.postMessage("zoom:"+t+"^"+n+"^"+(i-M("#iframe_container").position().top),Zoomd.Widget.SU_BaseUrlServiceHttp))}))}function I(e){var t=e.origin,n=e.data;if((t===Zoomd.Widget.SU_BaseUrlServiceHttp||t+"/"===Zoomd.Widget.SU_BaseUrlServiceHttp)&&n){if(A.trace("parent message:'"+n+"' from: '"+t+"'",R.internalConfig.TraceLevel.DEBUG),0==n.indexOf("SetSize")||0==n.indexOf("SetInitialSize"))return"opening"===R.internalConfig.curState&&(R.internalConfig.curState="opened"),void function(e){var t=e.split(","),n=220;"SetSize"==t[0]&&(n=parseInt(t[1]));e=parseInt(t[2]),t=parseInt(t[3]);W(n,e+14,t)}(n);if(0==n.indexOf("event"))try{var i=JSON.parse(n.substring(5));R.raiseEvent(i)}catch(e){}switch(n){case"destroyLoading":var o,r,a=(new Date).getTime()-R.internalConfig.WidgetStartLoadTime;M("#iframe_container.su_w_s_hidden").removeClass("su_w_s_hidden"),R.injectionSettings.LightBox&&(r=R.injectionSettings.zIndex||Math.max(b(),9999),R.internalConfig.isIE8||R.internalConfig.isDocumentQuirksMode?(o="position: absolute; width:1px; height:1px; overflow:hidden;",setTimeout(function(){U()},500),M(window).on("resize",function(e){U()})):o="position: fixed; width:100%; height:100%;",M("#iframe_container").before('<div id="su_host_overlay" style="'+o+" display:none; top:0px; left:0px; opacity:0.5; filter:alpha(opacity=50); background-color:black; z-index:"+(r+1)+'"></div>'),M("#iframe_container").css("z-index",r+2)),(s=null==s?SUPJQ("#su_iframe")[0].contentWindow:s)?((!(o=M("[lang]").attr("lang"))||o&&o.length<=0)&&(o="default"),(!(r=document.referrer)||r&&r.length<=0)&&(r="none"),s.postMessage("setTitle^"+document.title+"^"+a+"^"+R.internalConfig.widgetVersion+"^"+o+"^"+r,Zoomd.Widget.SU_BaseUrlServiceHttp),M("#su_w_s_floatingCTA").show(),void 0!==(r=A.getQueryStringParamByName("supq"))&&0<r.length&&(M("#iframe_container").show(),s.postMessage("search:"+r,Zoomd.Widget.SU_BaseUrlServiceHttp))):s=null,R.internalConfig.curState="ready",M("#iframe_container").addClass("activated"),R.onWidgetReady();break;case"collapseV3":z(!1),void 0!==M("#iframe_container").data("marginLeft-origin")&&(A.trace("back widget to initial place margin-left: "+M("#iframe_container").data("marginLeft-origin"),R.internalConfig.TraceLevel.DEBUG),M("#iframe_container").stop(!0,!1).css("margin-left",parseInt(M("#iframe_container").data("marginLeft-origin"),10))),void 0!==M("#iframe_container").data("marginRight-origin")&&(A.trace("back widget to initial place margin-right: "+M("#iframe_container").data("marginRight-origin"),R.internalConfig.TraceLevel.DEBUG),M("#iframe_container").stop(!0,!1).css("margin-right",parseInt(M("#iframe_container").data("marginRight-origin"),10))),void 0!==M("#iframe_container").data("marginTop-origin")&&(A.trace("back widget to initial place margin-top: "+M("#iframe_container").data("marginTop-origin"),R.internalConfig.TraceLevel.DEBUG),M("#iframe_container").stop(!0,!1).css("margin-top",parseInt(M("#iframe_container").data("marginTop-origin"),10))),W(-1,-1,100,function(){M("#iframe_container").hide()}),M("#sup_focus_trapper").attr("tabindex",""),M("#su_w_last_element").attr("tabindex",""),R.internalConfig.curState="ready";break;case"kill":M("#iframe_container").remove(),s=null,R.internalConfig.curState="";break;case"showOverlayV3":z(!0),f=!0;break;case"hideOverlayV3":z(!1)}}}function U(){var e=Math.max(document.body.scrollWidth,M(window).width()),t=Math.max(document.body.scrollHeight,m.height);M("#su_host_overlay").width(e).height(t)}function b(){if(R.internalConfig.IsIE8)return 2147483640;for(var e,t,n,i=document.querySelectorAll("*")||oXmlDom.documentElement.selectNodes("*"),o=i.length,r=[],a=0;a<o;a+=1)i[a].style&&(t=i[a].style.zIndex,n=i[a].style.position,t&&"static"!=n?r.push(parseInt(t,10)):(t=(e=window.getComputedStyle(i[a],null)).getPropertyValue("z-index"),n=e.getPropertyValue("position"),"auto"!=t&&"static"!==n&&r.push(parseInt(t,10))));return r.length?Math.max.apply(null,r):1}function E(n,i,o,r){var a,s;M.isArray(n)&&(s=a="",M.each(n,function(e,t){return s=(M(window).height()-parseInt(t.settings.height))/2,o<parseInt(t.settings.width)?(M("#"+t.settings.id)[0]&&M("#"+t.settings.id).remove(),!0):(a="width:"+parseInt(t.settings.width)+"px;height:"+parseInt(t.settings.height)+"px;position:absolute;overflow: hidden;",2==n.length&&(s=M(window).height()/2-parseInt(t.settings.height)),1==e&&(s+=parseInt(t.settings.height)+10),a+=i?"left:"+(o-parseInt(t.settings.width))/2+"px;top:"+s+"px;":"right:"+(o-parseInt(t.settings.width))/2+"px;top:"+s+"px",void(r?M("#"+t.settings.id):M(t.html).appendTo(M("#su_host_overlay_top"))).attr("style",a))}))}function W(i,o,e,r){try{var t=5;m.height<=0&&(m.height=Math.min(document.documentElement.clientHeight,window.innerHeight||1e4)-10),i<M(window).width()&&m.height<M(document).height()&&(t+=5),"number"==typeof R.injectionSettings.SiteWidth&&(i>R.injectionSettings.SiteWidth&&(u=i),M(window).width()>u&&(t=(M(window).width()-u)/2));var n,a,s,c,d,l,g={};M("#iframe_container").show(),0<i&&0<o?(n=M("#iframe_container").width(),a=M("#iframe_container").height(),i=M("#iframe_container").width(i).width(),o=M("#iframe_container").height(o).height(),M("#iframe_container").width(n),M("#iframe_container").height(a),g={width:i,height:o}):(M("#iframe_container").stop(!0,!0),i=M("#iframe_container").width(),o=M("#iframe_container").height()),void 0!==e&&!isNaN(e)||(e=300),A.trace("width : "+i+" height : "+o+" iframe_container left:"+M("#iframe_container").position().left+" marginLeft="+M("#iframe_container").css("marginLeft")+" marginRight="+M("#iframe_container").css("marginRight")+" marginTop="+M("#iframe_container").css("marginTop"),R.internalConfig.TraceLevel.DEBUG),0<M(window).width()&&(s=NaN,(c=0)==(c=parseInt(M("#iframe_container").css("marginRight").replace("px"),10))||isNaN(c)?(s=M("#iframe_container").offset().left,M(window).width()<s+i+t?M.extend(g,{marginLeft:"-="+(s+i+t-M(window).width())}):s<t&&M.extend(g,{marginLeft:"+="+(t-s)})):(s=M(window).width()-(M(window).width()/2+c+i),isNaN(s)||(M(window).width()<s+i+t?M.extend(g,{marginRight:"+="+(s+i+t-M(window).width())}):s<t&&M.extend(g,{marginRight:"-="+(t-s)})))),0<m.height&&(d=M("#iframe_container").offset().top-M(window).scrollTop(),m.height<o+d+5&&((l=m.height-o-5-d)+d<5&&(l=5-d),M.extend(g,{marginTop:"+="+l}))),M("#iframe_container").stop(!0,!1).animate(g,e,function(){var e,t,n;void 0===M("#iframe_container").data("marginLeft-origin")&&M("#iframe_container").data("marginLeft-origin",M("#iframe_container").css("margin-left").replace("px","")),void 0===M("#iframe_container").data("marginRight-origin")&&M("#iframe_container").data("marginRight-origin",M("#iframe_container").css("margin-right").replace("px","")),void 0===M("#iframe_container").data("marginTop-origin")&&M("#iframe_container").data("marginTop-origin",M("#iframe_container").css("margin-top").replace("px","")),A.trace("Moving finished",R.internalConfig.TraceLevel.DEBUG),A.trace(JSON.stringify(g)),A.trace("width : "+i+" height : "+o+" iframe_container left:"+M("#iframe_container").position().left+" marginLeft="+M("#iframe_container").css("marginLeft")+" marginRight="+M("#iframe_container").css("marginRight")+" marginTop="+M("#iframe_container").css("marginTop"),R.internalConfig.TraceLevel.DEBUG),R.ExternalContentLoader&&f&&(e=(n=SUPJQ("#iframe_container")).offset().left,t=M(window).width()-(e+n.outerWidth()),p?(h=R.ExternalContentLoader.load("Desktop-Left",{posibleWidth:e}),w=R.ExternalContentLoader.load("Desktop-Right",{posibleWidth:t}),(0<h.length||0<w.length)&&(M("#su_host_overlay_top").length<=0&&(n=M("#su_host_overlay").css("z-index"),M("#su_host_overlay").after('<div id="su_host_overlay_top" style="position:fixed;left:0;top:0;right:0;bottom:0;z-index:'+n+';"></div>')),R.injectionSettings&&R.injectionSettings.OverlayOpacity?M("#su_host_overlay").css({filter:"alpha(opacity="+100*R.injectionSettings.OverlayOpacity+")",opacity:R.injectionSettings.OverlayOpacity}):M("#su_host_overlay").css({filter:"alpha(opacity=75)",opacity:"0.75"})),M("#su_host_overlay_top").html(""),E(h,!0,e),E(w,!1,t),p=!1):(E(h,!0,e,!0),E(w,!1,t,!0)),f=!1),M.isFunction(r)&&r()})}catch(e){A.trace("Moving failed - "+e,R.internalConfig.TraceLevel.DEBUG)}}function B(){window.onbeforeunload=function(e){R.logEvent("leavePage"),window.appInsights&&M.isFunction(window.appInsights.trackEvent)&&window.appInsights.trackEvent("leavePage")}}function L(e){var t="click";0==M("body").height()&&(t+="mousedown"),e?M(document).on(t,T):M(document).off(t,T)}function T(e){A.trace("onDocumentClick",R.internalConfig.TraceLevel.DEBUG),(isFinite(e.clientX)&&isFinite(e.clientY)?document.elementFromPoint(e.clientX,e.clientY):e.target)!==M("#iframe_container")[0]&&"opened"===R.internalConfig.curState?(L(!1),z(!1),null!=s&&setTimeout(function(){s.postMessage("parentMinimizeWidget",Zoomd.Widget.SU_BaseUrlServiceHttp),L(!0)},100)):A.trace("skip minimize",R.internalConfig.TraceLevel.DEBUG)}function z(e){e?M("#su_host_overlay, #su_host_overlay_top").show():(M("#su_host_overlay, #su_host_overlay_top").hide(),M("#su_host_overlay").css({filter:"alpha(opacity=50)",opacity:"0.50"}),M("#su_host_overlay_top").html(""))}function P(){H=document.activeElement;var e=R.getZoomdMainElement()||document;e.off("zoomdSearch:closed"),e.on("zoomdSearch:closed",function(e){d=!0,setTimeout(function(){H&&(d=!1)},200),H&&H.focus()})}function k(e,t){var n=A.parseJSONSafe(R.getInjectionSettings(e,"filter")),i=R.getInjectionSettings(e,"forFilterInput"),o=R.getInjectionSettings(e,"forInput"),r="";return A.checkInputTypeSearch(e)?!n||!n.field||n.values||i&&0<M(i).length&&(M(i).val()||M(i).text())?(r=M(e).val(),R.internalConfig.partialyLoaded||M(e).val("")):n.values=[M(e).val()]:o&&0<M(o).length&&(r=M(o).val(),R.internalConfig.partialyLoaded||M(o).is(":hidden")||"mouseenter"==t.type&&!M(t.target).is("input")||M(o).val("")),n&&!n.values&&i&&0<M(i).length&&(n.values=[M(i).val()||M(i).text()]),{searchTerm:r,filter:n}}function D(e,t){var n;d?d=!1:(P(),n=R.getInjectionSettings(e,"forInput"),R.MiniDiscovery&&R.MiniDiscovery.close(),Z((t=k(e,t)).searchTerm,e,n,t.filter))}function O(e,t){if(!N){P();var n=R.getInjectionSettings(e,"forInput"),i=M(e).data("extra-trigger"),o=M(e).data("hold-extra-trigger");A.checkInputTypeSearch(e)&&M(e).is("#zd_search_md_input");var r=k(e,t),a=r.searchTerm,r=r.filter;if(i!=t.type||1==o){if(t)if(A.checkInputTypeSearch(e)){if(!(13!=(t.keyCode||t.which)||R.injectionSettings.MiniDiscoverySettings&&R.injectionSettings.MiniDiscoverySettings.AutoComplete))return void V(0,e,n,a,r)}else if("tap"==t.type)return void V(0,e,n,a,r);R.MiniDiscovery&&(R.MiniDiscovery.open(t,e,n)||13!==(t.keyCode||t.which)||V(0,e,n,a,r))}}}function V(e,t,n,i,o){R.MiniDiscovery&&R.MiniDiscovery.close(),Z(i,t,n,o)}function Z(e,t,n,i,o,r){(R.internalConfig.isWidgetReady||R.internalConfig.partialyLoaded)&&(o=o||R.getInjectionSettings(t,"entryPoint")||"onPageElementTrigger",M.isFunction(R.internalConfig.doOpenOrSearch)?R.internalConfig.doOpenOrSearch(e,o,i,r):R.injectionSettings.isMobile?(o="m"+o,M("#widget_shadow").addClass("zindexcl"),M("#widget_outer").addClass("zindexcl"),mWidget.openWidget(e,!0,o)):("opened"!=R.internalConfig.curState&&"opening"!=R.internalConfig.curState&&(t&&function(e,t){t=A.getElementOffset(e,t);M("#iframe_container").css("margin-left",t.left-M(window).width()/2),M("#iframe_container").data("marginLeft-origin",M("#iframe_container").css("margin-left").replace("px","")),M("#iframe_container").css("top",t.top),M("#iframe_container").css("margin-top",0),M("#iframe_container").data("marginTop-origin",M("#iframe_container").css("margin-top").replace("px","")),W(-1,-1,0)}(t,n),R.internalConfig.curState="opening",p=!0),e?("TopSearches"===o&&(e+="^^FTS^^"),M("#iframe_container").show(),s.postMessage("search:"+e+":"+o,Zoomd.Widget.SU_BaseUrlServiceHttp)):(t=!t||"OnHover"!==R.getInjectionSettings(t,"trigger"),M("#iframe_container").show(),s.postMessage((t?"hoverInWidget":"hoverInWidgetNoFocus")+":"+o,Zoomd.Widget.SU_BaseUrlServiceHttp))))}l>=R.internalConfig.TraceLevel.DEBUG&&l<=R.internalConfig.TraceLevel.ERROR&&(R.internalConfig.traceLevel=l,A.trace("entered initWidget",R.internalConfig.TraceLevel.DEBUG)),R.logEvent("pageView"),!A.IsHiddenCheck()||window.informContainer?(B(),R.raiseEvent({event:"zoomdSearch:loading"}),R.internalConfig.logger!==R.internalConfig.Loggers.Coralogix&&A.loadScript("http"+(0===location.protocol.indexOf("https")?"s":"")+"://cloudfront.loggly.com/js/loggly.tracker-2.1.min.js","loggly",function(){window._LTracker=window._LTracker||[],_LTracker.push({logglyKey:R.internalConfig.logglyKey,tag:R.internalConfig.logglyTag})},function(){return R.internalConfig.optimized&&void 0!==window._LTracker}),t=[],R.injectionSettings.CustomInitialCssLink&&0<R.injectionSettings.CustomInitialCssLink.length&&A.isValidHttpUrl(R.injectionSettings.CustomInitialCssLink)&&A.loadScript(R.injectionSettings.CustomInitialCssLink,"css"),(i=A.getQueryStringParamByName("zdq")).length<=0&&(i=null),(l=function(){var e=R.injectionSettings.PageDiscoverySettings,t=M("title").text();if(!e||!e.Widgets)return!1;for(var n=null,i=0;i<e.Widgets.length;i++)if("PageNotFound"===e.Widgets[i].Type){n=e.Widgets[i];break}return!!n&&(!!new RegExp(n.TitleRegex).test(t)&&n)}())&&(e=l,g()&&(A.loadStyleSheet(Zoomd.Widget.SU_BaseUrlContentHttp+"content/zoomd.widget.404."+(R.injectionSettings.isMobile?"mobile.":"")+"css?ver="+R.internalConfig.widgetVersion,"css",function(){A.trace("discovery widget css loaded",R.internalConfig.TraceLevel.DEBUG)}),_(function(){A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/zoomd.widget.404"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,"404",function(){A.tryInit(function(){notFoundTypeWidget.init(e,M,R,A)})})}))),_(function(){a||(a=!0,R.injectionSettings.TopSearchesSettings?(A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"Content/3.0/widget-css/zd_top.searches.css?ver="+R.internalConfig.widgetVersion,"css",function(){}),A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/zd_top.searches"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,"su_w_ts_m",function(){A.tryInit(function(){window.zdTopSearchesWidget(M,R,A).init()})})):R.injectionSettings.InjectActionsToClient&&R.injectionSettings.InjectPattern&&new RegExp(R.injectionSettings.InjectPattern).test(document.URL)&&A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/su_w_ts_m"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,"su_w_ts_m",function(){R.injectionSettings.coming_from_mobile=R.injectionSettings.isMobile,A.tryInit(function(){window.initTS(R)})})),0<=R.injectionSettings.AdPlacements.indexOf("Custom")&&A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/extra_content/zoomd.widget.externalcontent.widget"+R.internalConfig.min+".js?ver="+R.internalConfig.widgetVersion,"externalContentWidget",function(){A.tryInit(function(){new zdExternalContentWidget(M,R,A).init()})})}),R.getHighestZindex=function(){return R.injectionSettings.zIndex||Math.max(b(),9999)},R.onWidgetReady=function(e,t){R.internalConfig.isWidgetReady||(M.isFunction(e)&&(R.internalConfig.doOpenOrSearch=e),R.widgetReady(D,t,O),t?R.raiseEvent({event:"zoomdSearch:partiallyLoaded"}):R.raiseEvent({event:"zoomdSearch:loaded"}),i&&(Z(i),i=null))},g()&&(C()?function(){var e="content/"+R.injectionSettings.Version+"/",a=Zoomd.Widget.SU_BaseUrlContentHttp+e;A.loadScript("//fonts.googleapis.com/css?family=Open+Sans","css",null,function(){return R.internalConfig.optimized}),A.loadScript("//fonts.googleapis.com/icon?family=Material+Icons","css",null,function(){return R.internalConfig.optimized});var t=window.define;window.define=null,A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"widget-scripts/masonry.pkgd.min.js?v="+R.internalConfig.thirdPartyVersion,"",function(){window.define=t},function(){return R.internalConfig.optimized&&void 0!==jQuery.fn.masonry}),R.injectionSettings.isMobile||_(n);y()&&j(function(){R.injectionSettings&&R.injectionSettings.Version4Settings&&(R.injectionSettings.isMobile&&R.injectionSettings.Version4Settings.AdvancedSearch||R.injectionSettings.TopSearchesSettings)&&SUPJQ('<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">').prependTo(SUPJQ("html > head")),t=M("<zoomd-widget-root></zoomd-widget-root>"),(R.injectionSettings.Version4Settings.InlinePath&&0<M(R.injectionSettings.Version4Settings.InlinePath).length?M(R.injectionSettings.Version4Settings.InlinePath):M("body")).append(t);var e,t,n,i,o=null;function r(){0===(n-=1)&&e()}window.Zone&&(o=window.Promise),e=function(){try{"test".startWith("test")}catch(e){String.prototype.startsWith=function(e){return 0===this.indexOf(e)}}function e(){var e=!1;R.injectionSettings.isMobile&&(e=R.injectionSettings.isMobile),A.loadScript(a+"js/runtime.js?v="+R.internalConfig.widgetVersion,"runtime",function(){A.loadScript(a+"js/vendor.js?v="+R.internalConfig.widgetVersion,"vendor",function(){!M.fn.masonry&&jQuery.fn.masonry&&(M.fn.masonry=jQuery.fn.masonry),(R.injectionSettings.Version4Settings&&R.injectionSettings.Version4Settings.RemoveBaseTag||A.getQueryStringParamByName("baseUrl"))&&1<=M('base:not([href*="'+location.host+'"])').length&&M('base:not([href*="'+location.host+'"])').remove();var i=R.injectionSettings.Version4Settings&&R.injectionSettings.Version4Settings.LazyLoading;A.loadScript(a+"js/"+(e?"mobile":"main")+".js?v="+R.internalConfig.widgetVersion,"app",function(){var e=-1;"object"==typeof window.exports&&(e=window.exports,window.exports=void 0);var t=-1;void 0!==window.module&&(t=window.module,window.module=void 0);var n=-1;"function"==typeof window.define&&(n=define,window.define=void 0),A.loadScript("https://cdnjs.cloudflare.com/ajax/libs/zone.js/0.9.1/zone.min.js","zone",function(){-1!==e&&(window.exports=e),-1!==t&&(window.module=t),-1!==n&&(window.define=n),i?R.onWidgetReady(function(e){A.tryInit(function(){R.internalConfig.wasBootstrap?Zoomd.Widget.SearchOrOpen(13,e):(o&&o!==window.Promise&&(window.Promise=o),window.zoomdExports.bootstrapZoomdApplication(Zoomd.Widget.SU_BaseUrlContentHttp,Zoomd.Widget.SU_BaseUrlServiceHttp,R,M,A,e||""),R.internalConfig.wasBootstrap=!0)})},!0):A.tryInit(function(){o&&o!==window.Promise&&(window.Promise=o),window.zoomdExports.bootstrapZoomdApplication(Zoomd.Widget.SU_BaseUrlContentHttp,Zoomd.Widget.SU_BaseUrlServiceHttp,R,M,A),R.internalConfig.wasBootstrap=!0})},function(){return void 0!==window.Zone})})},function(){return R.internalConfig.optimized})},function(){return R.internalConfig.optimized&&window.zoomdExports&&void 0!==window.zoomdExports.initZoomdApplication})}!R.injectionSettings.Version4Settings||!(0<R.injectionSettings.Version4Settings.AutoComplete||0<R.injectionSettings.Version4Settings.AutoCompleteMobile)||R.injectionSettings.MiniDiscoverySettings&&0<R.injectionSettings.MiniDiscoverySettings.AutoComplete&&!R.injectionSettings.Version4Settings.AutoCompleteMobile?e():c(e)},t="http"+(0===location.protocol.indexOf("https")?"s":""),n=2,i=function(e){switch(e){case"he":case"heb":return"he";case"de":return"de-DE";case"es":return"es-ES";case"el":return"el-GR";case"ru":return"ru-RU";case"ar":return"ar-EG";case"it":return"it-it";case"tr":return"tr-tr";case"fr":return"fr-fr";case"bp":return"pt-br";case"vn":return"vi-vn";case"id":return"id-id";case"th":return"th-th";case"in":return"hi-IN";case"pl":return"pl-PL";default:return"en-US"}}((R.injectionSettings.Language||"en").substring(0,2)),A.loadScript(t+"://cdn.polyfill.io/v2/polyfill.min.js?flags=always&features=Intl,Intl.~locale."+i,"intl",r,function(){return window.Intl&&Intl.NumberFormat&&Intl.NumberFormat.supportedLocalesOf&&1===Intl.NumberFormat.supportedLocalesOf([i]).length}),A.loadScript(t+"://cdnjs.cloudflare.com/ajax/libs/core-js/2.5.1/core.min.js","core-js",function(){r()},function(){return window.Promise&&window.Symbol&&window.Reflect&&window.Reflect.getMetadata})})}():R.injectionSettings.isMobile?(o=Zoomd.Widget.SU_BaseUrlContentHttp+"/zd-mobile/src/",A.loadScript("https://fonts.googleapis.com/icon?family=Material+Icons","css",function(){}),R.internalConfig.newMobileUi?A.loadScript(R.internalConfig.mobileBaseUrl+"injector.js","mobileJs",function(){M.isFunction(window.initWidgetUI)&&A.tryInit(function(){initWidgetUI(M,A,R)})}):(A.loadScript(o+"/css/rumble_mobile_widget.css?v="+R.internalConfig.widgetVersion,"css",function(){}),A.loadScript(o+"/js/RX2.min.js?v=1","rx",function(){A.loadScript("http://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.2/masonry.pkgd.min.js","masonry",function(){window.zdClientId=R.injectionSettings.clientId,R.internalConfig.platform=R.injectionSettings.Platform,A.loadScript(o+"/js/mobile_widget"+R.internalConfig.min+".js?v="+R.internalConfig.widgetVersion,"mobileJS",function(){A.tryInit(function(){mWidgetInit(M,R)}),R.onWidgetReady(function(e){M("#widget_shadow").addClass("zindexcl"),M("#widget_outer").addClass("zindexcl"),mWidget.openWidget(e,!0,"onPageElementTrigger")})})})}))):g()&&(A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"content/su_w_s_loading.css?ver="+R.internalConfig.widgetVersion,"css",function(){A.trace("css loaded",R.internalConfig.TraceLevel.DEBUG)}),A.loadScript(Zoomd.Widget.SU_BaseUrlContentHttp+"common-scripts/jquery.tabbable.min.js","JQueryTab",function(){A.tryInit(function(){initTabPlugin(M)})}),R.injectionSettings&&R.injectionSettings.AdPlacements&&(0<=R.injectionSettings.AdPlacements.indexOf("Desktop-Left")||0<=R.injectionSettings.AdPlacements.indexOf("Desktop-Right")||0<=R.injectionSettings.AdPlacements.indexOf("MD"))&&_(n),j(x))),d=p=a=!1,A.parseJSONSafe=function(e){var t={};if(!e||"string"==typeof e&&0===e.length)return null;if("object"==typeof e)return e;try{t=JSON.parse(e)}catch(e){}return t},Zoomd.Widget.OpenOrSearch=function(e,t,n,i,o){n&&!i&&(i="TopSearches");n=null;o&&A.isJSON(o)&&o.hasOwnProperty("clientId")&&o.clientId==R.injectionSettings.clientId&&(R.injectionSettings=SUPJQ.extend(!0,{},R.injectionSettings,o),n=R.injectionSettings);o=R.getZoomdMainElement();Z(t,o,null,null,i||null,n)},Zoomd.Widget.Search=function(e){R.MiniDiscovery&&R.MiniDiscovery.close(),Zoomd.Widget.OpenOrSearch(13,e)},Zoomd.Widget.Open=Zoomd.Widget.OpenOrSearch,Zoomd.Widget.search=Zoomd.Widget.Search):A.trace("widget is hidden...",R.internalConfig.TraceLevel.WARNING)})}