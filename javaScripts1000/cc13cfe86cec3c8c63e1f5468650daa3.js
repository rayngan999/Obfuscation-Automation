ï»¿(window.webpackJsonp=window.webpackJsonp||[]).push([["evbus"],{MJEz:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return w})),n.d(e,"b",(function(){return d}));var r,o=n("4O8T"),a=n.n(o);!function(t){t.EV_GC_START="ev_gc_start",t.EV_GC_END="ev_gc_end",t.EV_PAUSED="ev_paused",t.EV_RESTARTED="ev_restarted",t.EV_NEW_HANDLER="ev_new_handler",t.EV_RM_HANDLER="ev_rm_handler",t.EV_TASK_START="ev_task_start"}(r||(r={}));var i=function(){function t(t){var e=this;void 0===t&&(t=function(){}),this._errorHandler=t,this._timerInterval=15,this._handlers=Object.create(null),this._emitter=new a.a,this._q=[],this.destroy=function(){e.pause(),clearInterval(e._gcTimer)},this.pause=function(){e._timer&&(clearTimeout(e._timer),e._timer=void 0,e._emitter.emit(r.EV_PAUSED))},this.restart=function(){e._timer||(e._next(),e._emitter.emit(r.EV_RESTARTED))},this.push=function(t){e._q.push(t),e.restart()},this.setHandler=function(t,n,o){void 0===o&&(o=!1),n.once=o,e._handlers[t]=n,e._emitter.emit(r.EV_NEW_HANDLER,t)},this.removeHandler=function(t){delete e._handlers[t],e._emitter.emit(r.EV_RM_HANDLER,t)},this._next()}return Object.defineProperty(t.prototype,"events",{get:function(){return this._emitter},enumerable:!1,configurable:!0}),t.migrate=function(e,n){void 0===n&&(n=function(){});var r=new t(n);return r.pause(),e&&e.destroy&&e._handlers&&e._q&&(e.destroy(),Object.keys(e._handlers).forEach((function(t){var n=e._handlers[t];r.setHandler(t,n,n.once)})),e._q.forEach((function(t){return r.push(t)}))),r.restart(),r},t.prototype.setupGc=function(e){this._gcTimer&&clearInterval(this._gcTimer),this._gcTimer=setInterval(this._gcTask.bind(this),e||t._gcDefaultInterval)},t.prototype._next=function(t){void 0===t&&(t=!1),this._timer=setTimeout(this._processNext.bind(this),t?0:this._timerInterval)},t.prototype._gcTask=function(){this.pause(),this._emitter.emit(r.EV_GC_START);var t=this._q.filter((function(t){return t.postponed}));this._q=this._q.filter((function(t){return!t.postponed})),this._emitter.emit(r.EV_GC_END,t),this.restart()},t.prototype._processNext=function(){var t=this,e=this._q.splice(0,1)[0];if(e){var n,o=this._handlers[e.selector];if((null==o?void 0:o.once)&&this.removeHandler(e.selector),!o)return e.postponed||(e.postponed=!0),this._q.push(e),void(this._timer&&this._next());this._emitter.emit(r.EV_TASK_START,e.selector),window._tqVerbose&&console.info("Running evbus task",e.selector);try{n=Promise.resolve(o(e))}catch(t){n=Promise.reject(t)}n.then((function(){t._next(!0)}),(function(n){t._errorHandler&&t._errorHandler(e,n),t._next(!0)}))}else this.pause()},t._gcDefaultInterval=5e3,t}(),s={click:1,mouseover:1,mouseout:1,keyup:1,keydown:1,change:1,paste:1},c=["focus"],u=function(t){return function(e){var n;if(e.type===t&&e.target&&t&&(n=e.target.nodeType===Node.TEXT_NODE?e.target.parentNode:e.target,r=n,!Object.keys(r).some((function(t){return t.startsWith("_react")||t.startsWith("__react")}))&&n.dataset)){var r,o=n.dataset["task"+(t.toUpperCase()[0]+t.slice(1))];if(!o){if("click"!==e.type)return;var a=n.closest("[data-task-click]");if(!a)return;n=a,o=a.dataset["task"+(t.toUpperCase()[0]+t.slice(1))]}return o&&(T().push({selector:o,payload:{target:n,dataAttrs:n.dataset,event:e},postponed:!1,createTime:Date.now()}),n.dataset.prevent)?(e.preventDefault(),!1):void 0}}},d=function(t,e){var n={};try{n=JSON.parse(t)}catch(e){console.error("Failed to parse JSON: ",t)}for(var r in n)n.hasOwnProperty(r)&&q().push({selector:r,payload:{target:e,data:n[r]},postponed:!1,createTime:Date.now()})},l=function(t){if(t.matches("[data-exec]")){var e=t.dataset.exec||"{}";t.removeAttribute("data-exec"),d(e,t)}},_=function(t){for(var e,n=function(n){var r="data-task-"+n;if(t.hasAttribute(r)){var o=null!==(e=t.getAttribute(r))&&void 0!==e?e:"";t.removeAttribute(r),t.addEventListener(n,(function(e){var n=T()._handlers[o];Promise.resolve(null).then((function(){return null==n?void 0:n({selector:o,payload:{dataAttrs:{},target:t,event:e},postponed:!1,createTime:Date.now()})})).catch((function(t){return console.error(t)}))}))}},r=0,o=c;r<o.length;r++){n(o[r])}},v=function(t){void 0===t&&(t=document);for(var e=0,n=t.querySelectorAll("[data-exec]");e<n.length;e++){((u=n[e])instanceof HTMLElement||u instanceof SVGElement)&&l(u)}for(var r=0,o=c;r<o.length;r++)for(var a=o[r],i=0,s=t.querySelectorAll("[data-task-"+a+"]");i<s.length;i++){var u;((u=s[i])instanceof HTMLElement||u instanceof SVGElement)&&_(u)}},f=n("HLtZ"),h=function(t,e){var n={message:"Task execution error",data:{taskName:t.selector,type:void 0===t.payload.dataAttrs?"startup_task":"interactive_task",params:JSON.stringify(void 0===t.payload.dataAttrs?t.payload.data:t.payload.dataAttrs)}};Object(f.c)(e,{environment:"task_queue",breadcrumb:n}),console.error(e)},p=function(){if(!document.head)throw new Error("Document must be loaded before queue init");return document.head},m=function(t){document.addEventListener("DOMContentLoaded",t),"interactive"!==document.readyState&&"complete"!==document.readyState||t()},E=function(){return m((function(){!function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.removeEventListener(n,e[n])}(document.body,p()._tqhl),p()._tqhl=function(t){var e={};for(var n in s)if(s.hasOwnProperty(n)){var r=u(n);t.addEventListener(n,r),e[n]=r}return e}(document.body)}))},y=function(){var t=p();t._tqs=new i(h),t._tqi=new i(h),E(),t._tq={setInteractiveHandler:function(e,n,r){return void 0===r&&(r=!1),t._tqi.setHandler(e,n,r)},setStartupHandler:function(e,n,r){void 0===r&&(r=!1),t._tqs.setHandler(e,n,r),m((function(){t._tqs.setupGc(),t._tqs.restart()}))}},m((function(){t._tqi.setupGc(),window._obs=new MutationObserver((function(t){for(var e=0,n=t;e<n.length;e++)for(var r=0,o=n[e].addedNodes;r<o.length;r++){var a=o[r];(a instanceof HTMLElement||a instanceof SVGElement)&&(l(a),_(a),v(a))}})),window._obs.observe(document,{subtree:!0,childList:!0,attributes:!0}),v(document)})),T().setHandler("Common/nav_go",(function(t){var e,n;(null===(e=t.payload.event)||void 0===e?void 0:e.target)&&window.nav.go(t.payload.event.target,t.payload.event,JSON.parse((null===(n=t.payload.dataAttrs)||void 0===n?void 0:n.options)||"{}"))}),!1),T().setHandler("Common/cur_box_hide",(function(){var t,e,n=null===(t=window._message_boxes)||void 0===t?void 0:t[null===(e=window.boxQueue)||void 0===e?void 0:e.curBox],r=(null==n?void 0:n.isVisible())?n:null;null==r||r.hide()}),!1)},g=function(){var t=p();t._tq?(t._tqi=i.migrate(t._tqi,h),t._tqs=i.migrate(t._tqs,h),E()):y()},b=function(t){return function(){var e=p();if(!e["_"+t])throw new Error(t+" not initialized");return e["_"+t]}},w=b("tq"),T=b("tqi"),q=b("tqs")}}]);try{stManager.done("dist/bundles/evbus.db620810d528de983a46.js")}catch(t){}