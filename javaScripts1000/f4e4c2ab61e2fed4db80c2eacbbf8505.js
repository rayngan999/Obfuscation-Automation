(window["webpackJsonp-global"]=window["webpackJsonp-global"]||[]).push([[33],{"7Zbj":function(t,e,n){"use strict";n.r(e);var i=n("Ytch"),r=n.n(i),a=function t(e){return t.provide(e)},o=n("QsI/"),s=n("VtSi"),c=n.n(s),u=function(){function t(){}var e=t.prototype;return e.savePageData=function(t){t.pageData},e.loadPageData=function(){},t}(),d=function(){function t(){}return t.prototype.detectDevice=function(){},t}(),p=function(){function t(){}return t.prototype.findPageSection=function(){},t}(),f=function(){function t(t){var e=void 0===t?{}:t,n=e.country,i=void 0===n?a("country"):n,r=e.pageDataRepository,o=void 0===r?a(u):r,s=e.deviceService,c=void 0===s?a(d):s,f=e.pageSectionRepository,h=void 0===f?a(p):f;this._country=i,this._pageDataRepository=o,this._deviceService=c,this._pageSectionRepository=h,this._internationalPrefix="aa"+w,this._defaultPrefix=""+i+w}var e=t.prototype;return e.buildPageKeywords=function(){var t=this,e=this._pageDataRepository.loadPageData(),n=this._deviceService.detectDevice(),i=this._pageSectionRepository.findPageSection(),r={};return Object.keys(e).filter((function(t){return"undefined"!==typeof e[t]&&"function"!==typeof e[t]&&"object"!==typeof e[t]||Array.isArray(e[t])})).forEach((function(n){return t._addValue(r,n,e[n])})),this._addValue(r,h,this._country),this._addValue(r,g,i.page),this._addValue(r,v,i.section),this._addValue(r,l,e.site),this._addValue(r,_,n.id),r},e.buildPositionKeywords=function(t){var e=void 0===t?{}:t,n=e.id,i=e.placement,r=void 0===i?"":i,a={};return this._addValue(a,y,r.replace("_","")),this._addValue(a,b,n),a},e._formattedKey=function(t){return m.has(t)?""+this._internationalPrefix+t:""+this._defaultPrefix+t},e._addValue=function(t,e,n){null!==n&&"undefined"!==typeof n&&0!==n.length&&(t[this._formattedKey(e)]=n)},t}(),h="country_code",g="page_type",v="section",l="publisher",_="supply_type",y="adformat",b="ad_position",m=new Set([h,l,_,g]),w="-sch-",S=function(){function t(){}var e=t.prototype;return e.isReady=function(){},e.clearRequest=function(){},e.defineTag=function(t){},e.getTag=function(t){},e.loadTags=function(t){},e.modifyTag=function(t,e){},e.offEvent=function(t,e){},e.onEvent=function(t,e,n){},e.refresh=function(t){},e.setPageOpts=function(t){},e.showTag=function(t){},t}(),C=n("MMYH"),D=function(){function t(t){var e=void 0===t?{}:t,n=e.member,i=void 0===n?-1:n,r=e.disablePsa,a=void 0===r||r;this._member=i,this._disablePsa=a}return Object(C.default)(t,[{key:"member",get:function(){return this._member}},{key:"disablePsa",get:function(){return this._disablePsa}}]),t}(),j=function(){function t(){}var e=t.prototype;return e.isReady=function(){},e.setConfig=function(t){t.core,t.bidderSettings},e.addAdUnits=function(t){},e.requestBids=function(){},e.removeAdUnit=function(){},t}(),k=function(){function t(){}var e=t.prototype;return e.clear=function(){},e.save=function(t){t.id},e.has=function(t){t.id},t}(),I=function(){function t(t){var e=void 0===t?{}:t,n=e.options,i=void 0===n?a(D):n,r=e.apntag,o=void 0===r?a(S):r,s=e.pbjs,c=void 0===s?a(j):s,d=e.pageDataRepository,p=void 0===d?a(u):d,h=e.segmentationService,g=void 0===h?a(f):h,v=e.positionRepository,l=void 0===v?a(k):v;this._options=i,this._apntag=o,this._pbjs=c,this._pageDataRepository=p,this._segmentationService=g,this._positionRepository=l}return t.prototype.execute=function(t){var e=t.pageData;this._positionRepository.clear(),this._pbjs.removeAdUnit(),this._apntag.clearRequest(),this._pageDataRepository.savePageData({pageData:e});var n=this._segmentationService.buildPageKeywords();this._apntag.setPageOpts({member:this._options.member,disablePsa:this._options.disablePsa,keywords:n})},t}(),z=function(){function t(t){var e=t.id,n=t.targetId,i=t.adObject,r=t.adError;this._id=e,this._targetId=n,this._adObject=i,this._adError=r}return t.adAvailable=function(e){var n=e.adObject,i=e.targetId;return new t({id:P,targetId:i,adObject:n})},t.adBadRequest=function(e){var n=e.adObject,i=e.adError,r=e.targetId;return new t({id:O,targetId:r,adObject:n,adError:i})},t.adNoBid=function(e){var n=e.adObject,i=e.targetId;return new t({id:A,targetId:i,adObject:n})},t.adRequestFailure=function(e){var n=e.adError,i=e.targetId;return new t({id:E,targetId:i,adError:n})},t.adAlreadyDefined=function(e){var n=e.targetId;return new t({id:R,targetId:n})},t.adError=function(e){var n=e.adError,i=e.adObject,r=e.targetId;return new t({id:B,targetId:r,adObject:i,adError:n})},Object(C.default)(t,[{key:"id",get:function(){return this._id}},{key:"targetId",get:function(){return this._targetId}},{key:"adError",get:function(){return this._adError}},{key:"adObject",get:function(){return this._adObject}},{key:"isAvailable",get:function(){return P===this._id}},{key:"isNoBid",get:function(){return A===this._id}},{key:"isError",get:function(){return B===this._id}},{key:"isBadRequest",get:function(){return O===this._id}},{key:"isAlreadyDefined",get:function(){return R===this._id}},{key:"isRequestFailure",get:function(){return E===this._id}}]),t}(),P="adAvailable",O="adBadRequest",A="adNoBid",E="adRequestFailure",R="adAlreadyDefined",B="adError",T=n("BFfR"),q=function(t,e){return!(!Array.isArray(t)||!Array.isArray(e)||2!==t.length||2!==e.length)&&(t[0]===e[0]&&t[1]===e[1])},x=function(){function t(){}var e=t.prototype;return e.buildBids=function(t){t.placementConfiguration,t.requestedSizes},e._sizeIndex=function(t){var e=t.configuredSizes,n=t.requestedSize;return e.findIndex((function(t){return q(t,n)}))},t}(),U=function(){function t(t){var e=t.bidder,n=t.params;this._bidder=e,this._params=n}return Object(C.default)(t,[{key:"bidder",get:function(){return this._bidder}},{key:"params",get:function(){return this._params}}]),t}(),F=function(t){function e(){return t.apply(this,arguments)||this}return Object(T.default)(e,t),e.prototype.buildBids=function(t){var e=t.placementConfiguration.bidders[M],n=e.accountId,i=e.siteId,r=e.zoneId,a=e.position,o={accountId:n,siteId:i,zoneId:r};return a&&(o.position=a),[new U({bidder:M,params:o})]},e}(x),M="rubicon",V=function(t){function e(){return t.apply(this,arguments)||this}return Object(T.default)(e,t),e.prototype.buildBids=function(t){var e,n=this,i=t.placementConfiguration,r=t.requestedSizes,a=[],o=i.sizes,s=i.bidders[K],c=s.networkId,u=s.publisherSubId;c?a.push(new U({bidder:K,params:{networkId:c,publisherSubId:u}})):r.forEach((function(t){-1!==(e=n._sizeIndex({configuredSizes:o,requestedSize:t}))&&s.zoneId[e]&&a.push(new U({bidder:K,params:{zoneId:s.zoneId[e]}}))}));return a},e}(x),K="criteo",N=function(t){function e(){return t.apply(this,arguments)||this}return Object(T.default)(e,t),e.prototype.buildBids=function(t){var e,n=this,i=t.placementConfiguration,r=t.requestedSizes,a=i.sizes,o=i.bidders[W],s=[];Array.isArray(o.formatId)?r.forEach((function(t){-1!==(e=n._sizeIndex({configuredSizes:a,requestedSize:t}))&&o.formatId[e]&&s.push(new U({bidder:W,params:{siteId:o.siteId,pageId:o.pageId,formatId:o.formatId[e]}}))})):s.push(new U({bidder:W,params:{siteId:o.siteId,pageId:o.pageId,formatId:o.formatId}}));return s},e}(x),W="smartadserver",G=function(t){function e(){return t.apply(this,arguments)||this}return Object(T.default)(e,t),e.prototype.buildBids=function(t){var e=this,n=t.placementConfiguration,i=t.requestedSizes,r=n.sizes,a=n.bidders[L],o=[];if(Array.isArray(a.pid)){var s,c=new Set;i.forEach((function(t){-1!==(s=e._sizeIndex({configuredSizes:r,requestedSize:t}))&&a.pid[s]&&c.add(a.pid[s])})),c.size>0&&o.push(new U({bidder:L,params:{pid:Array.from(c),supplyType:H}}))}else o.push(new U({bidder:L,params:{pid:a.pid,supplyType:H}}));return o},e}(x),L="richaudience",H="site",J=function(t){function e(){return t.apply(this,arguments)||this}return Object(T.default)(e,t),e.prototype.buildBids=function(t){var e,n=this,i=t.placementConfiguration,r=t.requestedSizes,a=i.sizes,o=i.bidders[Y],s=[];return r.forEach((function(t){-1!==(e=n._sizeIndex({configuredSizes:a,requestedSize:t}))&&o.siteId[e]&&s.push(new U({bidder:Y,params:{siteId:o.siteId[e],size:t}}))})),s},e}(x),Y="ix",Q=function(t){function e(){return t.apply(this,arguments)||this}return Object(T.default)(e,t),e.prototype.buildBids=function(t){var e=t.placementConfiguration.bidders[Z],n=e.placementId,i=e.pageId;return[new U({bidder:Z,params:{placementId:n,pageId:i}})]},e}(x),Z="teads",X=function(t){function e(){return t.apply(this,arguments)||this}return Object(T.default)(e,t),e.prototype.buildBids=function(t){var e,n=this,i=t.placementConfiguration,r=t.requestedSizes,a=i.sizes,o=i.bidders[$],s=[];return r.forEach((function(t){-1!==(e=n._sizeIndex({configuredSizes:a,requestedSize:t}))&&o.inventoryCode[e]&&s.push(new U({bidder:$,params:{inventoryCode:o.inventoryCode[e],size:t}}))})),s},e}(x),$="triplelift",tt=function(){function t(t){var e=(void 0===t?{}:t).networks,n=void 0===e?[new F,new V,new N,new G,new J,new Q,new X]:e;this._networks=n}var e=t.prototype;return e.getBids=function(t){var e=this,n=t.placementConfiguration,i=t.requestedSizes,r=[];return this._networks.forEach((function(t){return e._buildNetworkBids({network:t,placementConfiguration:n,requestedSizes:i}).forEach((function(t){return r.push({bidder:t.bidder,params:t.params})}))})),r},e._buildNetworkBids=function(t){var e=t.network,n=t.placementConfiguration,i=t.requestedSizes;try{return e.buildBids({placementConfiguration:n,requestedSizes:i})}catch(r){return[]}},t}(),et=function(){function t(t){var e=void 0===t?{}:t,n=e.networks,i=void 0===n?a(tt):n,r=e.placements,o=void 0===r?a("prebidPlacementsDictionary"):r;this._networks=i,this._placements=o}var e=t.prototype;return e.loadConfiguration=function(t){var e=t.id,n=t.device,i=t.section,r=t.placement,a=t.sizes,o=void 0===a?[]:a,s=n+"-"+i+"-"+r,c=n+"-"+r,u=this._placements[s]||this._placements[c];if(!u||!u.sizes||!u.bidders)return null;var d=u.sizes,p=this._getPrebidSizes({requestedSizes:o,configuredSizes:d});if(0===p.length)return null;var f=this._networks.getBids({placementConfiguration:u,requestedSizes:p});return 0===f.length?null:{code:e,mediaTypes:{banner:{sizes:[].concat(p)}},bids:f}},e._getPrebidSizes=function(t){var e=t.requestedSizes,n=t.configuredSizes;return e.filter((function(t){return n.some((function(e){return q(t,e)}))}))},t}(),nt=25,it=function(){function t(t){var e=t.country,n=t.site,i=t.device,r=t.section,a=t.page,o=t.placement;this._country=e,this._site=n,this._device=i,this._section=r,this._page=a,this._placement=o}return t.fromString=function(e){void 0===e&&(e="");var n=e.split(rt);return 6!==n.length?null:new t({country:n[0],site:n[1],device:n[2],section:n[3],page:n[4],placement:n[5]})},Object(C.default)(t,[{key:"stringCode",get:function(){return""+this._country+rt+this._site+rt+this._device+rt+this._section+rt+this._page+rt+this._placement}},{key:"country",get:function(){return this._country}},{key:"site",get:function(){return this._site}},{key:"device",get:function(){return this._device}},{key:"section",get:function(){return this._section}},{key:"page",get:function(){return this._page}},{key:"placement",get:function(){return this._placement}}]),t}(),rt="-",at=function(){function t(t){var e=this,n=void 0===t?{}:t,i=n.apntag,r=void 0===i?a(S):i,s=n.pbjs,u=void 0===s?a(j):s,d=n.segmentationService,p=void 0===d?a(f):d,h=n.prebidService,g=void 0===h?a(et):h,v=n.positionRepository,l=void 0===v?a(k):v;this._apntag=r,this._pbjs=u,this._segmentationService=p,this._prebidService=g,this._positionRepository=l,this._requestDebouncer=function(t){var e=void 0===t?{}:t,n=e.onFinish,i=e.timeout,r=void 0===i?nt:i,a=[],s=null;return function(){var t=Object(o.default)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s&&clearTimeout(s),a.push(e),s=setTimeout((function(){clearTimeout(s);var t=a;a=[],n(t)}),r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({onFinish:function(t){return e._requestAds(t)}})}var e=t.prototype;return e.execute=function(t){var e=t.id,n=t.invCode,i=t.sizes,r=t.allowedFormats,a=t.native;if(this._positionRepository.has({id:e}))return z.adAlreadyDefined({targetId:e});this._positionRepository.save({id:e});var o=it.fromString(n),s={targetId:e,invCode:n,sizes:i,keywords:this._segmentationService.buildPositionKeywords({id:e,placement:o.placement})};r&&(s.allowedFormats=r),a&&(s.native=a);var c=this._prebidService.loadConfiguration({id:e,sizes:i,placement:o.placement,section:o.section,device:o.device});c&&this._pbjs.addAdUnits(c),this._apntag.defineTag(s);var u=this._registerToApntag({targetId:e,inventoryCode:o});return this._requestDebouncer(!!c),u},e._requestAds=function(t){void 0===t&&(t=[]),t.some((function(t){return!0===t}))?this._pbjs.requestBids():this._apntag.loadTags()},e._registerToApntag=function(t){var e=this,n=t.targetId,i=t.inventoryCode;return new Promise((function(t){e._apntag.onEvent(P,n,(function(r){e._unregisterFromApntag({targetId:n}),t(z.adAvailable({adObject:r,targetId:n,inventoryCode:i}))})),e._apntag.onEvent(O,n,(function(r,a){e._unregisterFromApntag({targetId:n}),t(z.adBadRequest({adError:r,adObject:a,targetId:n,inventoryCode:i}))})),e._apntag.onEvent(B,n,(function(r,a){e._unregisterFromApntag({targetId:n}),t(z.adError({adError:r,adObject:a,targetId:n,inventoryCode:i}))})),e._apntag.onEvent(A,n,(function(r){e._unregisterFromApntag({targetId:n}),t(z.adNoBid({adObject:r,targetId:n,inventoryCode:i}))})),e._apntag.onEvent(E,n,(function(r){e._unregisterFromApntag({targetId:n}),t(z.adRequestFailure({adError:r,targetId:n,inventoryCode:i}))}))}))},e._unregisterFromApntag=function(t){var e=t.targetId;this._apntag.offEvent(P,e),this._apntag.offEvent(O,e),this._apntag.offEvent(B,e),this._apntag.offEvent(A,e),this._apntag.offEvent(E,e)},t}(),ot=function(){function t(t){var e=(void 0===t?{}:t).apntag,n=void 0===e?a(S):e;this._apntag=n}return t.prototype.execute=function(t){var e=t.id;this._apntag.showTag(e)},t}(),st=function(){function t(t){var e=void 0===t?{}:t,n=e.site,i=void 0===n?a("site"):n,r=e.country,o=void 0===r?a("country"):r,s=e.pageSectionRepository,c=void 0===s?a(p):s,u=e.deviceService,f=void 0===u?a(d):u;this._site=i,this._country=o,this._pageSectionRepository=c,this._deviceService=f}return t.prototype.loadPlacementInventoryCode=function(t){var e=t.placement,n=this._pageSectionRepository.findPageSection(),i=this._deviceService.detectDevice();return new it({country:this._country,site:this._site,device:i.id,section:n.section,page:n.page,placement:e})},t}(),ct=function(){function t(t){var e=(void 0===t?{}:t).inventoryCodeService,n=void 0===e?a(st):e;this._inventoryCodeService=n}return t.prototype.execute=function(t){var e=t.placement;return this._inventoryCodeService.loadPlacementInventoryCode({placement:e})},t}(),ut=function(){function t(t){var e=void 0===t?{}:t,n=e.apntag,i=void 0===n?a(S):n,r=e.pbjs,o=void 0===r?a(j):r;this._apntag=i,this._pbjs=o}return t.prototype.execute=function(t){var e=(void 0===t?{}:t).maxWait;return Promise.all([this._apntag.isReady({maxWait:e}),this._pbjs.isReady({maxWait:e})]).then((function(t){var e=t[0],n=t[1];return e&&n}))},t}(),dt=function(){function t(t){var e=t.userData;this._userData=e}return t.prototype.execute=function(t){return t.data===pt.USER_DATA?this._userData:void 0},t}(),pt={USER_DATA:"userData"},ft=function(){function t(t){var e=void 0===t?{}:t,n=e.setPageDataUseCase,i=void 0===n?a(I):n,r=e.isConnectorReadyUseCase,o=void 0===r?a(ut):r,s=e.getInventoryCodeUseCase,c=void 0===s?a(ct):s,u=e.definePositionUseCase,d=void 0===u?a(at):u,p=e.displayPositionUseCase,f=void 0===p?a(ot):p,h=e.getSettingsUseCase,g=void 0===h?a(dt):h;this._setPageDataUseCase=i,this._isConnectorReadyUseCase=o,this._getInventoryCodeUseCase=c,this._definePositionUseCase=d,this._displayPositionUseCase=f,this._getSettingsUseCase=g}var e=t.prototype;return e.getUserStatus=function(){var t=this._getSettingsUseCase.execute({data:pt.USER_DATA});return null==t?void 0:t.status},e.setPageData=function(t){var e=t.pageData;return this._setPageDataUseCase.execute({pageData:e})},e.isReady=function(){var t=Object(o.default)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(void 0===e?{}:e).maxWait,t.abrupt("return",this._isConnectorReadyUseCase.execute({maxWait:n}));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getInventoryCode=function(t){var e=t.placement;return this._getInventoryCodeUseCase.execute({placement:e})},e.definePosition=function(){var t=Object(o.default)(c.a.mark((function t(e){var n,i,r,a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,i=e.invCode,r=e.sizes,a=e.allowedFormats,o=e.native,t.abrupt("return",this._definePositionUseCase.execute({id:n,invCode:i,sizes:r,allowedFormats:a,native:o}));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.displayPosition=function(t){var e=t.id;return this._displayPositionUseCase.execute({id:e})},t}(),ht=n("cxan"),gt=function(t){function e(e){var n,i=void 0===e?{}:e,r=i.window,o=void 0===r?a("window"):r,s=i.addScript,c=void 0===s?a("addScript"):s,u=i.astScriptConfiguration,d=void 0===u?a("astScriptConfiguration"):u,p=i.userData,f=void 0===p?{}:p;return(n=t.call(this)||this)._window=o,n._userData=f,n._addScript=c,n._astScriptConfiguration=d,n._astScriptInitialization(),n._ast=function(t){return n._window.apntag.anq.push(t)},n._hasDefinedTags=!1,n}Object(T.default)(e,t);var n=e.prototype;return n._astScriptInitialization=function(){this._window.apntag=this._window.apntag||{anq:[]},"default"===this._astScriptConfiguration.type?this._addScriptWrapper({src:vt}):"custom"===this._astScriptConfiguration.type&&this._addScriptWrapper({src:this._astScriptConfiguration.url})},n.isReady=function(t){var e=this,n=(void 0===t?{}:t).maxWait,i=void 0===n?3e4:n;return new Promise((function(t){var n=setTimeout((function(){clearTimeout(n),t(!1)}),i);e._ast((function(){clearTimeout(n),t(!0)}))}))},n.clearRequest=function(){var t=this;this._hasDefinedTags&&(this._ast((function(){return t._window.apntag.clearRequest()})),this._hasDefinedTags=!1)},n.defineTag=function(t){var e=this;this._ast((function(){return e._window.apntag.defineTag(t)})),this._hasDefinedTags=!0},n.getTag=function(t){var e=this;this._ast((function(){return e._window.apntag.getTag(t)}))},n.loadTags=function(){var t=this;this._ast((function(){return t._window.apntag.loadTags()}))},n.modifyTag=function(t,e){var n=this;this._ast((function(){return n._window.apntag.modifyTag(t,e)}))},n.offEvent=function(t,e){var n=this;this._ast((function(){return n._window.apntag.offEvent(t,e)}))},n.onEvent=function(t,e,n){var i=this;this._ast((function(){return i._window.apntag.onEvent(t,e,n)}))},n.refresh=function(t){var e=this;this._ast((function(){return e._window.apntag.refresh(t)}))},n.setPageOpts=function(t){var e=this;void 0===t&&(t={}),this._ast((function(){var n=Object(ht.default)({},t);if(e._isCookieless()){var i=e._userData.hashedEmail;n.user={externalUid:i}}e._window.apntag.setPageOpts(n)}))},n.showTag=function(t){var e=this;this._ast((function(){return e._window.apntag.showTag(t)}))},n._addScriptWrapper=function(t){var e=t.src;this._isCookieless()?this._addScript({src:lt}):this._addScript({src:e})},n._isCookieless=function(){var t=this._userData,e=t.xandr,n=t.status;return e&&"LOGGED"===n},e}(S),vt="https://acdn.adnxs.com/ast/ast.js",lt="https://acdn.adnxs-simple.com/ast/ast.js",_t=function(t){function e(){var e;return(e=t.call(this)||this)._pageData={},e}Object(T.default)(e,t);var n=e.prototype;return n.savePageData=function(t){var e=t.pageData;this._pageData=e},n.loadPageData=function(){return this._pageData},e}(u),yt=function(){function t(t){var e=t.id;this._id=e}return t.webPhone=function(){return new t({id:bt})},t.webDesktop=function(){return new t({id:mt})},Object(C.default)(t,[{key:"id",get:function(){return this._id}},{key:"isMobile",get:function(){return bt===this._id}}]),t}(),bt="wph",mt="wde",wt=n("waNJ"),St=function(t){function e(e){var n,i=(void 0===e?{}:e).window,r=void 0===i?a("window"):i;return(n=t.call(this)||this)._window=r,n}return Object(T.default)(e,t),e.prototype.detectDevice=function(){var t=this._window.navigator.userAgent||this._window.navigator.vendor||this._window.opera;return Object(wt.a)(t).isMobile?yt.webPhone():yt.webDesktop()},e}(d),Ct=function(){function t(t){var e=t.page,n=void 0===e?Dt:e,i=t.section,r=void 0===i?jt:i;this._page=n,this._section=r}return Object(C.default)(t,[{key:"page",get:function(){return this._page}},{key:"section",get:function(){return this._section}},{key:"isDefault",get:function(){return this._page===Dt&&this._section===jt}}]),t}(),Dt="all",jt="default",kt=function(t){function e(e){var n,i=void 0===e?{}:e,r=i.pageDataRepository,o=void 0===r?a(u):r,s=i.pageSectionDictionary,c=void 0===s?a("pageSectionDictionary"):s;return(n=t.call(this)||this)._pageDataRepository=o,n._pageSectionDictionary=c,n}return Object(T.default)(e,t),e.prototype.findPageSection=function(){var t=this._pageDataRepository.loadPageData(),e=this._pageSectionDictionary.firstLevelKey,n=this._pageSectionDictionary.secondLevelKey,i=this._pageSectionDictionary.dictionary,r=i[t[e]]||i[It]||{},a=r[t[n]]||r[It]||{},o=a.page,s=a.section;return new Ct({page:o,section:s})},e}(p),It="*",zt=function(t){function e(e){var n,i=void 0===e?{}:e,r=i.pageDataRepository,o=void 0===r?a(u):r,s=i.pageSectionDictionary,c=void 0===s?a("pageSectionDictionary"):s;return(n=t.call(this)||this)._pageDataRepository=o,n._pageSectionDictionary=c,n}Object(T.default)(e,t);var n=e.prototype;return n.findPageSection=function(){var t=this._pageDataRepository.loadPageData(),e=this._getValueFromDictionary({key:this._pageSectionDictionary.page,pageData:t}),n=this._getValueFromDictionary({key:this._pageSectionDictionary.section,pageData:t});return new Ct({page:e,section:n})},n._getValueFromDictionary=function(t){var e,n=t.key,i=t.pageData;try{e=new Function("pageData","return "+n+"(pageData)")(i)}catch(r){e=void 0}return e},e}(p),Pt=function(t){function e(e){var n,i=e.userAgentDeviceService,r=void 0===i?a(St):i,o=e.isMobile;return(n=t.call(this)||this)._userAgentDeviceService=r,n._device=n._initDevice(o),n}Object(T.default)(e,t);var n=e.prototype;return n._initDevice=function(t){return void 0===t?null:t?yt.webPhone():yt.webDesktop()},n.detectDevice=function(){return null===this._device&&(this._device=this._userAgentDeviceService.detectDevice()),this._device},e}(d),Ot={standard:{adserverTargeting:[{key:"hb_bidder",val:function(t){return t.bidderCode}},{key:"hb_adid",val:function(t){return t.adId}},{key:"hb_pb",val:function(t){var e=(100*parseFloat(t.pbDg)).toFixed();return isNaN(e)?"0":e}},{key:"hb_size",val:function(t){return t.size}},{key:"hb_source",val:function(t){return t.source}},{key:"hb_format",val:function(t){return t.format}},{key:"hb_cache_id",val:function(t){return t.videoCacheKey}},{key:"hb_uuid",val:function(t){return t.videoCacheKey}},{key:"pt0",val:function(t){return t.adId}}]}},At=function(){function t(t){var e=void 0===t?{}:t,n=e.environment,i=e.site,r=e.isMobile,a=e.scripts,o=void 0===a?{}:a,s=e.placements,c=void 0===s?{}:s,u=e.headerBidding,d=void 0===u?{}:u;this._environment=n,this._site=i,this._isMobile=r,this._scripts=o,this._placements=c,this._headerBidding=d,this._checkEnvironment(),this._checkSite(),this._checkScripts(),this._checkPlacements(),this._checkHeaderBidding()}var e=t.prototype;return e._checkSite=function(){if(!this._site)throw Error("No site configuration defined")},e._checkEnvironment=function(){"pre"!==this._environment&&(this._environment="pro")},e._checkScripts=function(){this._scripts.ast=this._scripts.ast||{},this._scripts.prebid=this._scripts.prebid||{},this._checkScriptConfig({script:this._scripts.ast}),this._checkScriptConfig({script:this._scripts.prebid})},e._checkScriptConfig=function(t){var e=t.script;!e.type&&(e.type=Et),e.type===Rt&&!e.url&&(e.type=Et)},e._checkPlacements=function(){if("vertical"===this._placements.type)this._placements.vertical=this._checkVerticalPlacementConfig({vertical:this._placements.vertical});else{if("miscelanea"!==this._placements.type)throw Error("No valid placement type defined");this._placements.miscelanea=this._checkMiscelaneaPlacementConfig({miscelanea:this._placements.miscelanea})}},e._checkVerticalPlacementConfig=function(t){var e=t.vertical,n=void 0===e?{}:e;return n.firstLevelKey&&n.secondLevelKey&&n.dictionary||(n.firstLevelKey="event_name",n.secondLevelKey="ads_name_page",n.dictionary={"*":{"*":{section:"default",page:"all"}}}),n},e._checkMiscelaneaPlacementConfig=function(t){var e=t.miscelanea,n=void 0===e?{}:e;return!n.page&&(n.page="function(){return 'all'}"),!n.section&&(n.section="function(){return 'default'}"),n},e._checkHeaderBidding=function(){this._headerBidding.bidderSettings=Ot,this._headerBidding.core=this._headerBidding.core||{};var t=this._headerBidding.core;t.bidderTimeout=t.bidderTimeout||2e3,t.priceGranularity=t.priceGranularity||"dense",t.enableSendAllBids=t.enableSendAllBids||!1,t.consentManagement=t.consentManagement||{},t.consentManagement.gdpr=t.consentManagement.gdpr||{},t.consentManagement.gdpr.cmpApi=t.consentManagement.gdpr.cmpApi||"iab",t.consentManagement.gdpr.defaultGdprScope=t.consentManagement.gdpr.defaultGdprScope||!0,t.consentManagement.gdpr.timeout=t.consentManagement.gdpr.timeout||8e3,this._headerBidding.placements=this._headerBidding.placements||{}},Object(C.default)(t,[{key:"environment",get:function(){return this._environment}},{key:"isMobile",get:function(){return this.isMobile}},{key:"site",get:function(){return this._site}},{key:"scripts",get:function(){return this._scripts}},{key:"placements",get:function(){return this._placements}},{key:"headerBidding",get:function(){return this._headerBidding}}]),t}(),Et="default",Rt="custom",Bt=function(){function t(){}return t.prototype.getOptions=function(){},t}(),Tt=function(t){function e(e){var n,i=void 0===e?{}:e,r=i.window,o=void 0===r?a("window"):r,s=i.pbjsScriptConfiguration,c=void 0===s?a("pbjsScriptConfiguration"):s,u=i.bidderSettingsConfiguration,d=void 0===u?a("pbjsBidderSettingsConfiguration"):u,p=i.addScript,f=void 0===p?a("addScript"):p,h=i.apntag,g=void 0===h?a(S):h,v=i.pbjsConfigService,l=void 0===v?a(Bt):v;return(n=t.call(this)||this)._window=o,n._pbjsScriptConfiguration=c,n._bidderSettingsConfiguration=d,n._addScript=f,n._apntag=g,n._pbjsScriptInitialization(),n._pbjsConfigService=l,n.setConfig({bidderSettings:n._bidderSettingsConfiguration}),n._hasAddedUnits=!1,n}Object(T.default)(e,t);var n=e.prototype;return n._pbjsScriptInitialization=function(){this._window.pbjs=this._window.pbjs||{que:[]},"default"===this._pbjsScriptConfiguration.type?this._addScript({src:qt}):"custom"===this._pbjsScriptConfiguration.type&&this._addScript({src:this._pbjsScriptConfiguration.url})},n.isReady=function(t){var e=this,n=(void 0===t?{}:t).maxWait,i=void 0===n?3e4:n;return new Promise((function(t){var n=setTimeout((function(){clearTimeout(n),t(!1)}),i);e._pbjs((function(){clearTimeout(n),t(!0)}))}))},n.setConfig=function(t){var e=this,n=t.bidderSettings;this._pbjs((function(){e._window.pbjs.setConfig(e._pbjsConfigService.getOptions()),e._window.pbjs.bidderSettings=n}))},n.addAdUnits=function(t){var e=this;this._pbjs((function(){e._window.pbjs.addAdUnits(t)})),this._hasAddedUnits=!0},n.requestBids=function(){var t=this;this._pbjs((function(){t._window.pbjs.requestBids({timeout:xt,bidsBackHandler:function(){t._window.pbjs.setTargetingForAst(),t._apntag.loadTags()}})}))},n.removeAdUnit=function(){var t=this;this._hasAddedUnits&&(this._pbjs((function(){t._window.pbjs.removeAdUnit()})),this._hasAddedUnits=!1)},n._pbjs=function(t){this._window.pbjs.que.push(t)},e}(j),qt="https://c.dcdn.es/prebid/prebid.pro.js",xt=1e3,Ut=function(t){function e(){var e;return(e=t.call(this)||this)._positionSet=new Set,e}Object(T.default)(e,t);var n=e.prototype;return n.clear=function(){this._positionSet.clear()},n.save=function(t){var e=t.id;this._positionSet.add(e)},n.has=function(t){var e=t.id;return this._positionSet.has(e)},e}(k),Ft="id5Id",Mt=function(t){function e(e){var n,i=void 0===e?{}:e,r=i.coreConfiguration,o=void 0===r?a("pbjsCoreConfiguration"):r,s=i.userData;return(n=t.call(this)||this)._coreConfiguration=o,n._userData=s,n}Object(T.default)(e,t);var n=e.prototype;return n.getOptions=function(){var t=this._userData,e=t.prebid,n=t.status;if(!e)return this._coreConfiguration;switch(n){case"LOGGED":case"ANONYMOUS":return this._addUserSync();case"ERROR":default:return this._coreConfiguration}},n._addUserSync=function(){var t=this._userData.hashedEmail,e={name:Ft,params:{partner:519,pd:t?btoa("1="+t):""},storage:{type:"html5",name:Ft,expires:90,refreshInSeconds:28800}};return Object(ht.default)({},this._coreConfiguration,{userSync:{auctionDelay:50,userIds:[e]}})},e}(Bt),Vt=function(){function t(){}return t.initByOptions=function(t){var e=t.window,n=t.environment,i=t.site,o=t.isMobile,s=t.scripts,c=t.placements,h=t.headerBidding,g=t.userData,v=void 0===g?{}:g,l=new At({environment:n,site:i,scripts:s,placements:c,headerBidding:h});return r.a.define(a).singleton("site",(function(){return l.site})).singleton("country",(function(){return"es"})).singleton("window",(function(){return e})).singleton(I,(function(){return new I})).singleton(ut,(function(){return new ut})).singleton(ct,(function(){return new ct})).singleton(at,(function(){return new at})).singleton(ot,(function(){return new ot})).singleton(dt,(function(){return new dt({userData:v})})).singleton("addScript",(function(){return function(t){var e=(void 0===t?{}:t).window,n=void 0===e?a("window"):e;return function(t){var e=void 0===t?{}:t,i=e.src,r=e.async,a=void 0===r||r,o=n.document.createElement("script");o.type="text/javascript",o.async=a,o.src=i,n.document.head.appendChild(o)}}()})).singleton(D,(function(){return function(t){var e=t.environment;return new D({member:"pre"===(void 0===e?"pro":e)?3397:3296,disablePsa:!0})}({environment:l.environment})})).singleton("astScriptConfiguration",(function(){return l.scripts.ast})).singleton(S,(function(){return new gt({userData:v})})).singleton(u,(function(){return new _t})).singleton(k,(function(){return new Ut})).singleton(f,(function(){return new f})).singleton(st,(function(){return new st})).singleton(d,(function(){return new Pt({isMobile:o})})).singleton(St,(function(){return new St})).singleton(p,(function(){return l.placements.type===Kt?new kt:new zt})).singleton("pageSectionDictionary",(function(){return l.placements[l.placements.type]})).singleton(et,(function(){return new et})).singleton("prebidPlacementsDictionary",(function(){return l.headerBidding.placements})).singleton("pbjsCoreConfiguration",(function(){return l.headerBidding.core})).singleton("pbjsBidderSettingsConfiguration",(function(){return l.headerBidding.bidderSettings})).singleton(tt,(function(){return new tt})).singleton(j,(function(){return new Tt})).singleton("pbjsScriptConfiguration",(function(){return l.scripts.prebid})).singleton(Bt,(function(){return new Mt({userData:v})})).create(),new ft},t}(),Kt="vertical";e.default=Vt}}]);