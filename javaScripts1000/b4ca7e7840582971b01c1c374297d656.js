var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},$jscomp.arrayIterator=function(t){return{next:$jscomp.arrayIteratorImpl(t)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.Symbol=function(){var t=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+t++}}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}}),$jscomp.initSymbolIterator=function(){}},$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.asyncIterator;t||(t=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator")),$jscomp.initSymbolAsyncIterator=function(){}},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.keys",(function(t){return t||function(){return $jscomp.iteratorFromArray(this,(function(t){return t}))}}),"es6","es3"),$jscomp.polyfill("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}}),"es6","es3"),$jscomp.polyfill("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(e=e||0)&&(e=Math.max(e+i,0));e<i;e++){var r=n[e];if(r===t||Object.is(r,t))return!0}return!1}}),"es7","es3"),$jscomp.checkStringArgs=function(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.includes",(function(t){return t||function(t,e){return-1!==$jscomp.checkStringArgs(this,t,"includes").indexOf(t,e||0)}}),"es6","es3"),$jscomp.polyfill("Array.from",(function(t){return t||function(t,e,n){e=null!=e?e:function(t){return t};var i=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if("function"==typeof r){t=r.call(t);for(var o=0;!(r=t.next()).done;)i.push(e.call(n,r.value,o++))}else for(r=t.length,o=0;o<r;o++)i.push(e.call(n,t[o],o));return i}}),"es6","es3"),$jscomp.polyfill("Object.getOwnPropertySymbols",(function(t){return t||function(){return[]}}),"es6","es5"),$jscomp.polyfill("String.prototype.startsWith",(function(t){return t||function(t,e){var n=$jscomp.checkStringArgs(this,t,"startsWith");t+="";var i=n.length,r=t.length;e=Math.max(0,Math.min(0|e,n.length));for(var o=0;o<r&&e<i;)if(n[e++]!=t[o++])return!1;return o>=r}}),"es6","es3"),$jscomp.owns=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},$jscomp.assign="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)$jscomp.owns(i,r)&&(t[r]=i[r])}return t},$jscomp.polyfill("Object.assign",(function(t){return t||$jscomp.assign}),"es6","es3"),$jscomp.findInternal=function(t,e,n){t instanceof String&&(t=String(t));for(var i=t.length,r=0;r<i;r++){var o=t[r];if(e.call(n,o,r,t))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.find",(function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}}),"es6","es3"),$jscomp.polyfill("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991}),"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",(function(t){return t||function(t,e){var n=$jscomp.checkStringArgs(this,t,"endsWith");t+="",void 0===e&&(e=n.length),e=Math.max(0,Math.min(0|e,n.length));for(var i=t.length;0<i&&0<e;)if(n[--e]!=t[--i])return!1;return 0>=i}}),"es6","es3"),function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n||4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=120)}([function(t,e,n){function i(){return{errorPixels:[],impressionPixels:[],clickTracking:[],trackingEvents:{creativeView:[],start:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[],mute:[],unmute:[],pause:[],rewind:[],resume:[],fullscreen:[],exitFullscreen:[],expand:[],collapse:[],acceptInvitationLinear:[],acceptInvitation:[],closeLinear:[],skip:[],progress:[]}}}Object.defineProperty(e,"__esModule",{value:!0}),e.VAST_FIELDS=e.ORTB_RESPONSE_FIELDS=e.NO_SCORE=void 0,e.DEFAULT_AUTOPLAY_ALLOWED=e.DEFAULT_REQUIRES_MUTED=e.PLAYSINLINE=e.MP4_MIMETYPE=e.BLANK_MP4=e.FLASH_MIMES=e.HTML5_MIMES=e.DETECTED_SIZE_MATCH_SOURCE=e.VPAID_DEFAULTS=e.VIEW_MODE_NORMAL=e.KILL_STATES=e.DO_NOT_USE_WITHCREDS=e.VAST_VERSION=e.UNLOAD_DETECTION_INIT_EXCEPTION_IDX=e.PARENT_WIN=e.DOMAIN_MATCH_SOURCES=e.WINDOW_EVENTS=e.AD_PIXEL_EVENTS=e.HTML5_PIXEL_EVENTS=e.DOUBLECLICK_URLS=e.PIXEL_FORMATS=e.BID_PLATFORMS=e.IMA_NONLINEAR_SLOT_HEIGHT=e.IMA_MANAGER_EVENT_TYPES=e.IMA_MANAGER_STATES=e.POST_IMP_PROVIDER_ID_PROTECTED_MEDIA=e.POST_IMP_PROVIDER_ID_FORENSIQ=e.POST_IMP_PROVIDER_ID_WHITEOPS=e.POST_IMP_PROVIDER_ID_MOAT=e.POST_IMP_PROVIDER_ID_IAS=e.NO_TIMER=e.DEMAND_PARTNER_MACROS=e.VIEWABILITY=e.HB_BID_PRICE_MACRO=e.TRUST_BUT_VERIFY_MACROS=e.EVENT_TYPES=e.BROADCAST_EVENTS=e.BROADCAST_STATES=e.SLOT_EVENTS=e.SLOT_STATES_VAST_PENDING=e.SLOT_STATES=e.KEY_VAL_SEPARATOR=e.KEYS_SEPARATOR=e.CALL_CHAIN_VARIABLE_ID_SEPARATOR=e.CALL_CHAIN_VARIABLE_SEPARATOR=e.CALL_CHAIN_LINK_SEPARATOR=e.POSTER_SIZES=e.SIZE=e.CALL_CHAIN_IDENTIFIER_BLACKLIST=e.CALL_CHAIN_IDENTIFIERS=e.ORTB_DETAIL=e.IAS_RESIZE_AD=e.IAS_EVENTS=e.IAS_EXTRA_PARAMS=e.JSON_PIXEL_PARAMS=e.VAST_PIXEL_TYPES=e.CREATIVE_TYPES=e.BRIDGE_EVENTS=e.AUTOPLAY_STATES=e.AUTOPLAY_CHECK_STATES=e.AUTOPLAY_CHECK_EVENTS=e.FLASH_OBJECT_ID=e.FLASH_DIV_ID=e.VOLUME_EVENTS=e.RETRY_MS=e.QUARTILE_EVENTS=e.VAST_MACROS=e.VAST_ERRORCODES=e.MAX_URL_LENGTH=e.SSC_TO=e.VID_IO_PARAMS=e.VPAID_CONSTANTS=e.VIDEO_ATTRIBUTES_POSTER=e.VIDEO_ATTRIBUTES=e.ELEMENT_EVENTS=e.VIDEO_EVENTS=e.VPAID_ONCE_EVENTS=e.VPAID_FINAL_EVENTS=e.PIXEL_EVENTS=e.MANIFEST_PIXEL_EVENTS=e.VPAID_EVENTS=e.EXTRA_PIXEL_EVENTS=e.VD_ERROR_CODES=e.CALL_CHAIN_ERRORS=e.MANIFEST_PARSE_ERRORS=e.VID_IO_ONCE_EVENTS=e.VID_IO_FINAL_EVENTS=e.VID_IO_EVENTS=e.THIRD_PARTY_FEES=e.DEMAND_TYPES=e.RTMP=e.PROMOTE_PROTOCOL_NO_URL=e.ALLOW_SCRIPTS=e.DEFAULT_VOLUME=e.IMA_AD_ERROR_TRUNCATION_LENGTH=e.AD_ERROR_TRUNCATION_LENGTH=e.SHORT_UUID_LENGTH=e.MOAT_DUMMY_VALUE=e.HANDSHAKE_VERSION_2_0=e.NO_TIMEOUT=void 0,e.getDefaultVastPixels=i,e.getDefaultVastData=function(){return(0,r.default)({version:3,hbDetails:null,wrapperUrl:null,wrapperWaterfallCount:0,followAdditionalWrappers:!0,allowMultipleAds:!0,fallbackOnNoAd:!0,duration:null,media:[],jsVpaidUrl:null,flashVpaidUrl:null,xFlvMedia:[],hasPlayableMedia:!1,adParameters:"",clickThrough:null,noad:null,companions:"",icons:!1,linear:!0,skipOffset:o.NOT_IMPLEMENTED,ortb_detail:null,imaTagUrl:null},{errorPixels:[],impressionPixels:[],clickTracking:[],trackingEvents:{creativeView:[],start:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[],mute:[],unmute:[],pause:[],rewind:[],resume:[],fullscreen:[],exitFullscreen:[],expand:[],collapse:[],acceptInvitationLinear:[],acceptInvitation:[],closeLinear:[],skip:[],progress:[]}})};var r=(t=n(5))&&t.__esModule?t:{default:t};e.NO_TIMEOUT=1e9,e.HANDSHAKE_VERSION_2_0="2.0",e.MOAT_DUMMY_VALUE=1,e.SHORT_UUID_LENGTH=8,e.AD_ERROR_TRUNCATION_LENGTH=50,e.IMA_AD_ERROR_TRUNCATION_LENGTH=100,e.DEFAULT_VOLUME=1,e.ALLOW_SCRIPTS="allow-scripts",e.PROMOTE_PROTOCOL_NO_URL="PROMOTE_PROTOCOL_NO_URL",e.RTMP="rtmp",e.DEMAND_TYPES={UNKNOWN:0,FLASH_VPAID:1,JS_VPAID:2,VIDEO:3,BOTH:4,IMA:5,EMPTY_VAST:6,XHR_400_RESPONSE:7,XHR_500_RESPONSE:8,XHR_204_RESPONSE:9},e.THIRD_PARTY_FEES={AD_REQUESTS:0,IMPRESSIONS:1,PERCENT_OF_REV:3},t=e.VID_IO_EVENTS={js_opportunity:"js_opportunity",cm_req_js_opp:"cm_req_js_opp",cm_js_demand_req_resp:"cm_js_demand_req_resp",js_demand_opportunity:"js_demand_opportunity",js_demand_error:"js_demand_error",js_pixel_error:"js_pixel_error",js_demand_missed_opportunity:"js_demand_missed_opportunity",js_impression:"js_impression",js_supply_error:"js_supply_error",js_click:"js_click",js_first_quartile:"js_first_quartile",js_midpoint:"js_midpoint",js_third_quartile:"js_third_quartile",js_complete:"js_complete",js_skip:"js_skip",js_unload:"js_unload",js_volume_mismatch:"js_volume_mismatch",js_warning:"js_warning",openrtb_auction_win:"openrtb_auction_win",openrtb_bidder_error:"openrtb_bidder_error",js_tier_time:"js_tier_time",js_start:"js_start"},e.VID_IO_FINAL_EVENTS={js_complete:"js_complete",js_skip:"js_skip",js_unload:"js_unload",js_supply_error:"js_supply_error"},e.VID_IO_ONCE_EVENTS={js_opportunity:"js_opportunity",js_impression:"js_impression",js_click:"js_click",js_first_quartile:"js_first_quartile",js_midpoint:"js_midpoint",js_third_quartile:"js_third_quartile"},e.MANIFEST_PARSE_ERRORS={PIMPS:"PIMPS",UUID:"UUID",SECURE:"SECURE",AID:"AID",SUPPLY_TAG_ID:"SUPPLY_TAG_ID",TO:"TO",V:"V",COUNTRY:"COUNTRY",SSID:"SSID",WIDTH:"WIDTH",HEIGHT:"HEIGHT",DOMAIN:"DOMAIN",IMP_PXL:"IMP_PXL",TD:"TD",TS:"TS",URLPARAMS:"URLPARAMS",DTO_OBJECT:"DTO_OBJECT",DTO_KEY_STRING:"DTO_KEY_STRING",DTO_KEY_POS:"DTO_KEY_POS",DTO_VALUE_INT:"DTO_VALUE_INT",DTO_VALUE_POS:"DTO_VALUE_POS",DTO_INVALID_DTID:"DTO_INVALID_DTID",OL:"OL",OV:"OV",SSC_PV:"SSC_PV",SSC_TO:"SSC_TO",PP:"PP",DX_ARRAY:"DX_ARRAY",BROADCAST_ARRAY:"BROADCAST_ARRAY",WATERFALL_OBJECT:"WATERFALL_OBJECT",WATERFALL_ID:"WATERFALL_ID",WATERFALL_URL:"WATERFALL_URL",WATERFALL_TO:"WATERFALL_TO",WATERFALL_A_CC:"WATERFALL_A_CC",WATERFALL_TD:"WATERFALL_TD",WATERFALL_TS:"WATERFALL_TS",WATERFALL_SSC_F:"WATERFALL_SSC_F",WATERFALL_SSC_ID:"WATERFALL_SSC_ID",WATERFALL_PIXELS_OBJECT:"WATERFALL_PIXELS_OBJECT",WATERFALL_PIXELS_VPAID_EVENT:"WATERFALL_PIXELS_VPAID_EVENT",WATERFALL_PIXELS_ARRAY:"WATERFALL_PIXELS_ARRAY",WATERFALL_PIXELS_URL:"WATERFALL_PIXELS_URL",WATERFALL_CALL_CHAIN:"WATERFALL_CALL_CHAIN",WATERFALL_CALL_CHAIN_2:"WATERFALL_CALL_CHAIN_2",WATERFALL_PREDECESSORS:"WATERFALL_PREDECESSORS",WATERFALL_PREDECESSORS_2:"WATERFALL_PREDECESSORS_2",WATERFALL_OL:"WATERFALL_OL",PASSTHRU:"PASSTHRU",PIXELS_OBJECT:"PIXELS_OBJECT",PIXELS_INVALID_EVENT:"PIXELS_INVALID_EVENT",PIXELS_ARRAY:"PIXELS_ARRAY",PIXELS_URL:"PIXELS_URL",SCHAIN:"SCHAIN",PCHAIN:"PCHAIN"},e.CALL_CHAIN_ERRORS={INVALID_CALL_CHAIN:"INVALID_CALL_CHAIN",INVALID_SUPPLY_DEMAND_PAIR:"INVALID_SUPPLY_DEMAND_PAIR",NO_SUPPLY_TAG_FOUND:"NO_SUPPLY_TAG_FOUND",INVALID_CALL_CHAIN_LINK_GENERAL:"INVALID_CALL_CHAIN_LINK_GENERAL",INVALID_CALL_CHAIN_LINK:"INVALID_CALL_CHAIN_LINK",INVALID_CALL_CHAIN_ID:"INVALID_CALL_CHAIN_ID",INVALID_CALL_CHAIN_TAG:"INVALID_CALL_CHAIN_TAG",INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG:"INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG",NOT_A_VALID_CALL_CHAIN_LINK:"NOT_A_VALID_CALL_CHAIN_LINK"},e.VD_ERROR_CODES={TIMEOUT_MANAGER_INIT_ERROR:"TIMEOUT_MANAGER_INIT_ERROR",VIDEO_ELEMENT_MANAGER_INIT_ERROR:"VIDEO_ELEMENT_MANAGER_INIT_ERROR",CABINET_INITIALIZE_ERROR:"CABINET_INITIALIZE_ERROR",PROCESSOR_CREATE_ERROR:"PROCESSOR_CREATE_ERROR",JS_OPPORTUNITY_ERROR:"JS_OPPORTUNITY_ERROR",FIRE_INIT_AD_PIXELS_ERROR:"FIRE_INIT_AD_PIXELS_ERROR",PROCESSOR_INIT_ERROR:"PROCESSOR_INIT_ERROR",PROCESSOR_NEXT_BROADCAST_ERROR:"PROCESSOR_NEXT_BROADCAST_ERROR",SSC_RESULT_MANAGER_INIT_ERROR:"SSC_RESULT_MANAGER_INIT_ERROR",INIT_AD_ERROR:"INIT_AD_ERROR",PIXEL_FACTORY_SET_INIT_PARAMS:"PIXEL_FACTORY_SET_INIT_PARAMS",IFRAME_ON_ERROR:"IFRAME_ON_ERROR",AD_ERROR:"AD_ERROR",PIXEL_NO_EVENT_ERROR:"PIXEL_NO_EVENT_ERROR",HB_BID_ERROR:"HB_BID_ERROR",JSON_PARSE_ERROR:"JSON_PARSE_ERROR",JSON_PARSE_UNKNOWN_ERROR:"JSON_PARSE_UNKNOWN_ERROR",JSON_PARSE_UNKNOWN_ERROR_2:"JSON_PARSE_UNKNOWN_ERROR_2",MANIFEST_PARSE_ERROR:"MANIFEST_PARSE_ERROR",MANIFEST_PARSE_UNKNOWN_ERROR:"MANIFEST_PARSE_UNKNOWN_ERROR",MANIFEST_PARSE_UNKNOWN_ERROR_2:"MANIFEST_PARSE_UNKNOWN_ERROR_2",JSON_RESPONSE_PARSE_ERROR:"JSON_RESPONSE_PARSE_ERROR",JSON_MANIFEST_PARSE_ERROR:"JSON_MANIFEST_PARSE_ERROR",JSON_TIMEOUT:"JSON_TIMEOUT",NO_FILL:"NO_FILL",PLAY_ERROR:"PLAY_ERROR",NO_RESPONSES:"NO_RESPONSES",STOP_AD_CALLED:"STOP_AD_CALLED",SKIP_AD_CALLED:"SKIP_AD_CALLED",NO_SOURCE:"NO_SOURCE",UNKNOWN_REJECTION:"UNKNOWN_REJECTION",UNCAUGHT_AD_CONTAINER_ERROR:"UNCAUGHT_AD_CONTAINER_ERROR",VAST_ERROR_EVENT:"VAST_ERROR_EVENT",VPAID_TIMEOUT:"VPAID_TIMEOUT",VIDEO_TIMEOUT:"VIDEO_TIMEOUT",IS_PLAYING_TIMEOUT:"IS_PLAYING_TIMEOUT",NO_XHR:"NO_XHR",BAD_XHR_STATUS:"BAD_XHR_STATUS",FLASH_DISABLED:"FLASH_DISABLED",FLASH_NOT_SUPPORTED:"FLASH_NOT_SUPPORTED",UNSUPPORTED_MEDIA:"UNSUPPORTED_MEDIA",EMPTY_VAST:"EMPTY_VAST",VAST_TIMEOUT:"VAST_TIMEOUT",TOO_MANY_WRAPPERS:"TOO_MANY_WRAPPERS",WRAPPER_CHAIN_NO_TIME:"VASTS_NO_TIME",AD_STOPPED:"AD_STOPPED",AD_SKIPPED:"AD_SKIPPED",AD_TIMEOUT:"AD_TIMEOUT",XHR_ERROR:"XHR_ERROR",DEMAND_TAG_OPP_ERROR:"DEMAND_TAG_OPP_ERROR",DEMAND_TAG_ERROR:"DEMAND_TAG_ERROR",SUPPLY_TAG_TIMEOUT:"SUPPLY_TAG_TIMEOUT",DEMAND_PARTNER_TIMEOUT:"DEMAND_PARTNER_TIMEOUT",DTO_TIMEOUT:"DTO_TIMEOUT",FLASH_DISPLAY_LOAD_ERROR:"FLASH_DISPLAY_LOAD_ERROR",VAST_LOGIC_ERROR:"VAST_LOGIC_ERROR",CHILD_HANDSHAKE_ERROR:"CHILD_HANDSHAKE_ERROR",CHILD_INIT_AD_ERROR:"CHILD_INIT_AD_ERROR",CHILD_SET_VOLUME_ERROR:"CHILD_SET_VOLUME_ERROR",IMA_WRAPPER_BEGIN_ERROR:"IMA_WRAPPER_BEGIN_ERROR",IMA_MANAGER_LOAD_ERROR:"IMA_MANAGER_LOAD_ERROR",IMA_MANAGER_LOAD_TIMEOUT:"IMA_MANAGER_LOAD_TIMEOUT",VIDEO_WRAPPER_BEGIN_ERROR:"VIDEO_WRAPPER_BEGIN_ERROR",JS_VPAID_BEGIN_ERROR:"JS_VPAID_BEGIN_ERROR",UNCAUGHT_LOAD_IFRAME_ERROR:"UNCAUGHT_LOAD_IFRAME_ERROR",AD_DEAD:"AD_DEAD",CREATE_VIDEO_SLOT_ERROR:"CREATE_VIDEO_SLOT_ERROR",GET_VOLUME_ERROR:"GET_VOLUME_ERROR",ADD_CLICK_LISTENER:"ADD_CLICK_LISTENER",FOUND_SOURCE_ERROR:"FOUND_SOURCE_ERROR",ADD_EVENT_LISTENERS_ERROR:"ADD_EVENT_LISTENERS_ERROR",RESPONSE_XML_NULL:"RESPONSE_XML_NULL",DOM_PARSER_PARSE_FAILURE:"RESPONSE_PARSE_FAILURE",JS_VPAID_EMBED_FAIL:"JS_VPAID_EMBED_FAIL",AD_BRIDGE_CREATE_ERROR:"AD_BRIDGE_CREATE_ERROR",JS_VPAID_BRIDGE_LOAD_ERROR:"JS_VPAID_BRIDGE_LOAD_ERROR",JS_VPAID_BRIDGE_SUBSCRIBE_FAIL:"JS_VPAID_BRIDGE_SUBSCRIBE_FAIL",CREATE_VIDEO_SLOT_LOGIC_ERROR:"CREATE_VIDEO_SLOT_LOGIC_ERROR",VAST_IMPRESSION_PIXELS_ERROR:"VAST_IMPRESSION_PIXELS_ERROR",VAST_ERROR_PIXELS_ERROR:"VAST_ERROR_PIXELS_ERROR",VAST_IS_LINEAR_XML_ERROR:"VAST_IS_LINEAR_XML_ERROR",VAST_IS_WRAPPER_XML_ERROR:"VAST_IS_WRAPPER_XML_ERROR",VAST_NOAD_XML_ERROR:"VAST_NOAD_XML_ERROR",VAST_ERROR_ORTB_DETAIL:"VAST_ERROR_ORTB_DETAIL",VAST_ERROR_EXTENSIONS:"VAST_ERROR_EXTENSIONS",FIND_VIDEO_AD_EXCEPTION:"FIND_VIDEO_AD_EXCEPTION",CREATE_VIDEO_ELEMENT_EXCEPTION:"CREATE_VIDEO_ELEMENT_EXCEPTION",CREATE_VIDEO_ELEMENT_LOGIC_ERROR:"CREATE_VIDEO_ELEMENT_LOGIC_ERROR",CAN_PLAY_VIDEO_EXCEPTION:"CAN_PLAY_VIDEO_EXCEPTION",JS_DEMAND_RESPONSE_EXCEPTION:"JS_DEMAND_RESPONSE_EXCEPTION",VAST_ONLOAD_EXCEPTION:"VAST_ONLOAD_EXCEPTION",EXTEND_VAST_EXCEPTION:"EXTEND_VAST_EXCEPTION",VAST_GET_LINEAR_WRAPPER_XML_ERROR:"VAST_GET_LINEAR_WRAPPER_XML_ERROR",INIT_AD_STATE_INFO_ERROR:"INIT_AD_STATE_INFO_ERROR",INIT_AD_TD_MISMATCH_ERROR:"INIT_AD_TD_MISMATCH_ERROR",INIT_AD_TS_MISMATCH_ERROR:"INIT_AD_TS_MISMATCH_ERROR",INIT_AD_GET_NEW_AD_PARAMETERS_ERROR:"INIT_AD_GET_NEW_AD_PARAMETERS_ERROR",PRE_INIT_STATE_INFO_FAIL:"PRE_INIT_STATE_INFO_FAIL",PRE_INIT_TD_MISMATCH_FAIL:"PRE_INIT_TD_MISMATCH_FAIL",PRE_INIT_TS_MISMATCH_FAIL:"PRE_INIT_TS_MISMATCH_FAIL",PRE_INIT_TV_MISMATCH_FAIL:"PRE_INIT_TV_MISMATCH_FAIL",PRE_INIT_TD_MISMATCH:"PRE_INIT_TD_MISMATCH",PRE_INIT_MISSED_OPPORTUNITY_FAIL:"PRE_INIT_MISSED_OPPORTUNITY_FAIL",DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL:"DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL",AD_VAST_GET_TIMEOUT_INFO_FAIL:"AD_VAST_GET_TIMEOUT_INFO_FAIL",AD_VAST_GET_OPTIONS_FAIL:"AD_VAST_GET_OPTIONS_FAIL",AD_VAST_GET_CALL_CHAIN_VARS_FAIL:"AD_VAST_GET_CALL_CHAIN_VARS_FAIL",AD_VAST_SEND_AD_REQUEST_FAIL:"AD_VAST_SEND_AD_REQUEST_FAIL",AD_VAST_GV_FAIL:"AD_VAST_GV_FAIL",SSC_NO_XHR:"SSC_NO_XHR",SSC_TIMEOUT:"SSC_TIMEOUT",SSC_BAD_XHR_STATUS:"SSC_BAD_XHR_STATUS",SSC_JSON_PARSE_ERROR:"SSC_JSON_PARSE_ERROR",SSC_RESULT_ERROR:"SSC_RESULT_ERROR",SSC_XHR_ERROR:"SSC_XHR_ERROR",SSC_UNKNOWN_ERROR:"SSC_UNKNOWN_ERROR",SSC_UNKNOWN_ERROR_2:"SSC_UNKNOWN_ERROR_2",SSC_MAKE_DEMAND_REQUEST_ERROR:"SSC_MAKE_DEMAND_REQUEST_ERROR",SSC_MAKE_DEMAND_REQUEST_ERROR_2:"SSC_MAKE_DEMAND_REQUEST_ERROR_2",SSC_JS_VPAID_BR_ERROR:"SSC_JS_VPAID_BR_ERROR",SSC_JS_VPAID_BR_ERROR_2:"SSC_JS_VPAID_BR_ERROR_2",SSC_CALL_LOG_EVENT_ERROR:"SSC_CALL_LOG_EVENT_ERROR",NOT_JS_DEMAND_RESPONSE:"NOT_JS_DEMAND_RESPONSE",ALREADY_SENT_DEMAND_RESPONSE:"ALREADY_SENT_DEMAND_RESPONSE",NEED_SSC_RESULT_IN_AD_CONTAINER:"NEED_SSC_RESULT_IN_AD_CONTAINER",JS_VPAID_BRIDGE_BEGIN_ERROR:"JS_VPAID_BRIDGE_BEGIN_ERROR",JS_BRIDGE_MANAGER_CREATE_ERROR:"JS_BRIDGE_MANAGER_CREATE_ERROR",MAX_BROADCAST_TIMEOUT:"MAX_BROADCAST_TIMEOUT",ADS_MANAGER_LOAD_ERROR:"ADS_MANAGER_LOAD_ERROR",IMA_ADS_LOADER_EXCEPTION:"IMA_ADS_LOADER_EXCEPTION",IMA_ADS_LOADER_ERROR:"IMA_ADS_LOADER_ERROR",IMA_ADS_ERROR:"IMA_ADS_ERROR",IMA_INIT_AD_ERROR:"IMA_INIT_AD_ERROR",IMA_ADS_MANAGER_INIT_ERROR:"IMA_ADS_MANAGER_INIT_ERROR",IMA_MANAGER_CREATE_ERROR:"IMA_MANAGER_CREATE_ERROR",PROCESSOR_SUPPLY_ERROR:"PROCESSOR_SUPPLY_ERROR",AD_CONTROLLER_ERROR:"AD_CONTROLLER_ERROR",INIT_AD_ERROR_EXCEPTION:"INIT_AD_ERROR_EXCEPTION",INIT_AD_EMPTY_ERROR:"INIT_AD_EMPTY_ERROR",INIT_AD_NULL_ERROR:"INIT_AD_NULL_ERROR",RECEIVED_NULL_STRING:"RECEIVED_NULL_STRING",IMA_AD_CONTAINER_TIMEOUT:"IMA_AD_CONTAINER_TIMEOUT",HB_BID_REQUEST_TIMEOUT:"HB_BID_REQUEST_TIMEOUT",ORTB_TIMEOUT:"ORTB_TIMEOUT",AD_PIXEL_ERROR:"AD_PIXEL_ERROR",UNLOAD_DETECTION_INIT_ERROR:"UNLOAD_DETECTION_INIT_ERROR",AD_VIDEO_COMPLETE_WITHOUT_AD_IMPRESSION:"AD_VIDEO_COMPLETE_WITHOUT_AD_IMPRESSION",STOP_AD_CALLED_BEFORE_POSTINIT:"STOP_AD_CALLED_BEFORE_POSTINIT",SKIP_AD_CALLED_BEFORE_POSTINIT:"SKIP_AD_CALLED_BEFORE_POSTINIT",DO_NOT_FOLLOW_WRAPPERS:"DO_NOT_FOLLOW_WRAPPERS",UNCAUGHT_FLASH_DEMAND_REQUEST_LOAD_ERROR:"UNCAUGHT_FLASH_DEMAND_REQUEST_LOAD_ERROR",UNCAUGHT_IMA_DEMAND_REQUEST_LOAD_ERROR:"UNCAUGHT_IMA_DEMAND_REQUEST_LOAD_ERROR",UNCAUGHT_MEDIA_DEMAND_REQUEST_LOAD_ERROR:"UNCAUGHT_MEDIA_DEMAND_REQUEST_LOAD_ERROR",UNC_VPAID_DR_GET_TO:"UNC_VPAID_DR_GET_TO",UNC_VPAID_DR_LOAD_ERR:"UNC_VPAID_DR_LOAD_ERR",CREATE_IFRAME_ERROR:"CREATE_IFRAME_ERROR",UNCAUGHT_ON_BROADCAST_VAST_READY_ERROR:"UNCAUGHT_ON_BROADCAST_VAST_READY_ERROR",UNCAUGHT_NEXT_BROADCAST_ERROR:"UNCAUGHT_NEXT_BROADCAST_ERROR",HB_AJAX_FAIL:"HB_AJAX_FAIL",HB_REQUEST_FAIL:"HB_REQUEST_FAIL",HB_MISSING_BID_PARAMS:"HB_MISSING_BID_PARAMS",PIXEL_FIRE_TIMEOUT:"PIXEL_FIRE_TIMEOUT",MAX_PIXEL_TRIES_EXCEEDED:"MAX_PIXEL_TRIES_EXCEEDED",XHR_NON_500:"XHR_NON_500",PIXEL_SEND_ERROR:"PIXEL_SEND_ERROR",GET_VPAID_AD_NOT_FUNCTION:"GET_VPAID_AD_NOT_FUNCTION",NO_GET_VPAID_AD:"NO_GET_VPAID_AD",NO_CONTENT_WINDOW:"NO_CONTENT_WINDOW",NO_IFRAME:"NO_IFRAME",CREATE_IFRAME_ELEMENT_ERROR:"CREATE_IFRAME_ELEMENT_ERROR",STYLE_IFRAME_ERROR:"STYLE_IFRAME_ERROR",APPEND_IFRAME_ERROR:"APPEND_IFRAME_ERROR",IFRAME_CONTENT_WINDOW_ERROR:"IFRAME_CONTENT_WINDOW_ERROR",IFRAME_WINDOW_DOCUMENT_ERROR:"IFRAME_WINDOW_DOCUMENT_ERROR",IFRAME_WRITE_ERROR:"IFRAME_WRITE_ERROR",IFRAME_SET_FUNCTION_ERROR:"IFRAME_SET_FUNCTION_ERROR",IFRAME_CLOSE_ERROR:"IFRAME_CLOSE_ERROR",CREATE_NEW_VIDEO_SLOT_SUPPORTED_MIMES:"CREATE_NEW_VIDEO_SLOT_SUPPORTED_MIMES",ORTB_REQUEST_FAIL:"ORTB_REQUEST_FAIL",ORTB_BIDDER_NO_FILL:"ORTB_BIDDER_NO_FILL",ORTB_NO_BIDS:"ORTB_NO_BIDS",DFP_NOT_CALLED_BID_ABOVE_MAX_PRICE:"DFP_NOT_CALLED_BID_ABOVE_MAX_PRICE",HB_ERROR_PARSING_BID_RESPONSE:"HB_ERROR_PARSING_BID_RESPONSE",REQUEST_VAST_LOGIC_ERROR:"REQUEST_VAST_LOGIC_ERROR",REQUEST_VAST_INIT_FAILED:"REQUEST_VAST_INIT_FAILED",AD_CONTAINER_STOP_AD_DURING_INIT:"AD_CONTAINER_STOP_AD_DURING_INIT",AD_CONTAINER_SKIP_AD_DURING_INIT:"AD_CONTAINER_SKIP_AD_DURING_INIT",DFP_FALLBACK_INVALID_PARAMS:"DFP_FALLBACK_INVALID_PARAMS",MOAT_POST_IMP:"MOAT_POST_IMP",IAS_POST_IMP:"IAS_POST_IMP",FORENSIQ_POST_IMP:"FORENSIQ_POST_IMP",SIZEINFO_POST_IMP:"SIZEINFO_POST_IMP",SSC_POST_IMP:"SSC_POST_IMP",MOAT_SEND:"MOAT_SEND",IAS_SEND:"IAS_SEND",ORTB_BIDDER_LOST_FOR_COMPETITION:"ORTB_BIDDER_LOST_COMPETITION"},e.EXTRA_PIXEL_EVENTS={AdRequest:"AdRequest"},n=e.VPAID_EVENTS={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"},e.MANIFEST_PIXEL_EVENTS={initAd:"initAd"},e.PIXEL_EVENTS={AdStarted:"AdStarted",AdImpression:"AdImpression",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdError:"AdError",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdUserAcceptInvitation:"AdUserAcceptInvitation"},e.VPAID_FINAL_EVENTS={AdError:"AdError",AdStopped:"AdStopped",AdSkipped:"AdSkipped"},e.VPAID_ONCE_EVENTS={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete"},e.VIDEO_EVENTS={abort:"abort",canplay:"canplay",canplaythrough:"canplaythrough",click:"click",durationchange:"durationchange",emptied:"emptied",ended:"ended",error:"error",loadeddata:"loadeddata",loadedmetadata:"loadedmetadata",loadstart:"loadstart",pause:"pause",play:"play",playing:"playing",progress:"progress",ratechange:"ratechange",suspend:"suspend",seeked:"seeked",seeking:"seeking",timeupdate:"timeupdate",waiting:"waiting",volumechange:"volumechange"},e.ELEMENT_EVENTS={click:"click"},e.VIDEO_ATTRIBUTES={currentTime:"currentTime",duration:"duration",ended:"ended",paused:"paused",playbackRate:"playbackRate",src:"src",type:"type",autoplay:"autoplay"},e.VIDEO_ATTRIBUTES_POSTER="poster";var o=e.VPAID_CONSTANTS={NOT_IMPLEMENTED:-1,UNKNOWN:-2};e.VID_IO_PARAMS={batches:"batches",instanceId:"instanceId",event:"event",dtidx:"dtidx",dtnum:"dtnum",yh_id:"yh_id",ss_region:"ss_region",platform:"platform",qLength:"ql",bv:"bv",bidPrice:"bp",bidPriceActual:"bpa",bidFloor:"bf",cb:"cb",timestamp:"timestamp",id:"id",aid:"aid",d:"d",w:"w",h:"h",cc:"cc",v:"v",ol:"ol",ov:"ov",vastVersion:"vv",uuid:"uuid",short_uuid:"suuid",vastErrorCode:"vec",reason:"reason",auctionCallChain:"a_cc",parentSupplyTagId:"ps_id",callChainIndicies:"cc_i",initialStage_notnull:"i_sn",initialStage_w:"i_w",initialStage_h:"i_h",initialStageWidth:"i_sw",initialStageHeight:"i_sh",initialStageDisplayState:"i_sds",initialStateInfoExternalInterface__objectID:"i_E_o",initialStateInfoExternalInterface__available:"i_E_a",initialStateInfoExternalInterface__error__getQualifiedClassName:"i_E_e",initialNo_element:"i_ne",initialOffsetWidth:"i_ow",initialOffsetHeight:"i_oh",initialClientWidth:"i_cw",initialClientHeight:"i_ch",initialScrollWidth:"i_Sw",initialScrollHeight:"i_Sh",initialGetBoundingClientRect__left:"i_bl",initialGetBoundingClientRect__top:"i_bt",initialGetBoundingClientRect__right:"i_br",initialGetBoundingClientRect__bottom:"i_bb",initialVpaidWidth:"vw",initialVpaidHeight:"vh",initialVpaidViewMode:"i_vv",inView:"in_v",loaderInfo__swfVersion:"l_s",loaderInfo__loaderURL:"l_l",loaderInfo__actionScriptVersion:"l_a",ExternalInterface__available:"E_a",ExternalInterface__error__getQualifiedClassName:"E_e",window__top__location__href:"d_wtlh",window__location__href:"d_wlh",window__top__location:"d_wtl",window__location__ancestorOrigins:"d_wla",Security__pageDomain:"d_Sp",document__referrer:"d_dr",ancestorOrigins:"d_ao",parentHostnames:"d_ph",domain_match:"d_m",domain_match_source:"d_ms",overflow_required:"o_r",overflow_optional:"o_o",overflow_exclude:"o_e",environmentInfoError:"e_e",stage_notnull:"s_sn",stage_w:"s_w",stage_h:"s_h",stageWidth:"s_sw",stageHeight:"s_sh",stageDisplayState:"s_sds",stateInfoExternalInterface__objectID:"s_E_o",stateInfoExternalInterface__available:"s_E_a",stateInfoExternalInterface__error__getQualifiedClassName:"s_E_e",timeOnPage:"time_on_page",no_element:"s_ne",offsetWidth:"s_ow",offsetHeight:"s_oh",clientWidth:"s_cw",clientHeight:"s_ch",scrollWidth:"s_Sw",scrollHeight:"s_Sh",getBoundingClientRect__left:"s_bl",getBoundingClientRect__top:"s_bt",getBoundingClientRect__right:"s_br",getBoundingClientRect__bottom:"s_bb",vpaidWidth:"s_vw",vpaidHeight:"s_vh",vpaidViewMode:"s_vv",detected_size_width:"ds_w",detected_size_height:"ds_h",detected_size_match_source:"ds_ms",idx:"idx",adLoaded:"adl",adImpression:"adi",tierStartTime:"t_st_pt",tierIdx:"t_idx_pt",tierFirstTagRequestTime:"t_ftst_pt",tierFirstVastResponseUsedTime:"t_fvst_pt",tierNumberVastResponsesUsed:"t_nv_pt",tierDoneTime:"t_dt_pt",numBroadcastQueues:"num_bq_pt",numDemandTags:"num_dt_pt",requestTime:"request_time"},e.SSC_TO={UNKNOWN:-1,NOT_CALLED:0,TIMEOUT:1,ERROR:2,NON_ERROR:3,OTHER:4},e.MAX_URL_LENGTH=2e3,e.VAST_ERRORCODES={VAST_ERRORCODE_100:100,VAST_ERRORCODE_101:101,VAST_ERRORCODE_102:102,VAST_ERRORCODE_200:200,VAST_ERRORCODE_201:201,VAST_ERRORCODE_202:202,VAST_ERRORCODE_203:203,VAST_ERRORCODE_300:300,VAST_ERRORCODE_301:301,VAST_ERRORCODE_302:302,VAST_ERRORCODE_303:303,VAST_ERRORCODE_400:400,VAST_ERRORCODE_401:401,VAST_ERRORCODE_402:402,VAST_ERRORCODE_403:403,VAST_ERRORCODE_405:405,VAST_ERRORCODE_500:500,VAST_ERRORCODE_501:501,VAST_ERRORCODE_502:502,VAST_ERRORCODE_503:503,VAST_ERRORCODE_600:600,VAST_ERRORCODE_601:601,VAST_ERRORCODE_602:602,VAST_ERRORCODE_603:603,VAST_ERRORCODE_604:604,VAST_ERRORCODE_900:900,VAST_ERRORCODE_901:901,SS_VAST_ERRORCODE_1301:1301,SS_VEC_1302_HTTP_TIMEOUT:1302,SS_VEC_1303_HTTP_ERROR:1303,SS_VEC_1304_NO_HTTP_RESPONSE:1304,SS_VEC_1305_4XX_HTTP_STATUS:1305,SS_VEC_1306_5XX_HTTP_STATUS:1306,SS_VEC_1307_OTHER_NON_200_HTTP_STATUS:1307,SS_VEC_1308_VAST_TIMEOUT:1308,SS_VEC_1309_WRAPPER_CHAIN_TIMEOUT:1309,SS_VEC_1310_BID_BELOW_FLOOR:1310,SS_VEC_1311_MIXED_CONTENT:1311,SS_VEC_1312_INDEX_REQUEST_TIMEOUT:1312,SS_VEC_1313_HB_ERROR_REQUESTING_VAST:1313,SS_VEC_1314_HB_ERROR_MISSING_REQUEST_PARAMS:1314,SS_VEC_1315_HB_BID_REQUEST_TIMEOUT:1315,SS_VEC_1316_MAX_BROADCAST_TIMEOUT:1316,SS_VEC_1317_OPENRTB_RESPONSE_TIMEOUT:1317,SS_VEC_1318_OPENRTB_REQUEST_ERROR:1318,SS_VEC_1319_OPENRTB_NO_BIDS:1319,SS_VEC_1320_IMA_MANAGER_LOADER_ERROR:1320,SS_VEC_1321_IMA_MANAGER_LOADER_TIMEOUT:1321,SS_VEC_1322_DFP_NOT_CALLED_BID_ABOVE_MAX:1322,SS_VEC_1323_HB_ERROR_PARSING_BID_RESPONSE:1323,SS_VAST_ERRORCODE_1501:1501,SS_VAST_ERRORCODE_1502:1502,SS_VAST_ERRORCODE_1503:1503,SS_VAST_ERRORCODE_1504:1504,SS_VAST_ERRORCODE_1505:1505,SS_VAST_ERRORCODE_1506:1506,SS_VAST_ERRORCODE_1507:1507,SS_VAST_ERRORCODE_1508:1508,SS_VAST_ERRORCODE_1509:1509,SS_VAST_ERRORCODE_1510:1510,SS_VAST_ERRORCODE_1511:1511,SS_VAST_ERRORCODE_1512:1512,SS_VAST_ERRORCODE_1513:1513,SS_VAST_ERRORCODE_1514:1514,SS_VAST_ERRORCODE_1515:1515,SS_VEC_1516_SUPPLY_TAG_TIMEOUT:1516,SS_VEC_1517_DEMAND_TAG_TIMEOUT:1517,SS_VEC_1520_DEMAND_PARTNER_TIMEOUT:1520,SS_VEC_1521_IMA_ADS_LOADER_EXCEPTION:1521,SS_VEC_1522_IMA_ADS_LOADER_ERROR:1522,SS_VEC_1523_IMA_ADS_ERROR:1523,SS_VEC_1524_IMA_INIT_AD_ERROR:1524,SS_VEC_1525_IMA_ADS_MANAGER_INIT_AD_ERROR:1525,SS_VEC_1526_IMA_WRAPPER_BEGIN_ERROR:1526,SS_VEC_1527_UNCAUGHT_FLASH_DEMAND_REQUEST_LOAD_ERROR:1527,SS_VEC_1528_UNCAUGHT_IMA_DEMAND_REQUEST_LOAD_ERROR:1528,SS_VEC_1529_UNCAUGHT_MEDIA_DEMAND_REQUEST_LOAD_ERROR:1529,SS_VEC_1530_UNCAUGHT_VPAID_DEMAND_REQUEST_LOAD_ERROR:1530,SS_VEC_1531_ORTB_BIDDER_NO_FILL:1531,SS_VEC_1533_MOAT_POST_IMP:1533,SS_VEC_1534_IAS_POST_IMP:1534,SS_VEC_1535_FORENSIQ_POST_IMP:1535,SS_VEC_1536_SIZEINFO_POST_IMP:1536,SS_VEC_1537_SSC_POST_IMP:1537,SS_VEC_1538_PROTECTED_MEDIA_POST_IMP:1538,SS_VEC_1539_MOAT_SEND:1539,SS_VEC_1540_IAS_SEND:1540,SS_VEC_1541_ORTB_BIDDER_LOST_FOR_COMPETITION:1541},e.VAST_MACROS={ERRORCODE:"[ERRORCODE]",CACHEBUSTING:"[CACHEBUSTING]"},e.QUARTILE_EVENTS=[{event:n.AdVideoStart,pixel:null,value:0},{event:n.AdVideoFirstQuartile,pixel:t.js_first_quartile,value:25},{event:n.AdVideoMidpoint,pixel:t.js_midpoint,value:50},{event:n.AdVideoThirdQuartile,pixel:t.js_third_quartile,value:75}],e.RETRY_MS=200,e.VOLUME_EVENTS={AdLoaded:!0,AdStarted:!0,AdVideoStart:!0},e.FLASH_DIV_ID="vdDiv",e.FLASH_OBJECT_ID="vdObj",e.AUTOPLAY_CHECK_EVENTS={RESOLVED:"RESOLVED"},e.AUTOPLAY_CHECK_STATES={INIT:"INIT",CHECKING:"CHECKING",RESOLVED:"RESOLVED",DEAD:"DEAD"},e.AUTOPLAY_STATES={INIT:"INIT",CHECKING:"CHECKING",CLICK_TO_PLAY:"CLICK_TO_PLAY",RESOLVED:"RESOLVED",DEAD:"DEAD"},e.BRIDGE_EVENTS={EMBED_SUCCESS:"EMBED_SUCCESS",EMBED_FAIL:"EMBED_FAIL",SWF_IS_READY:"SWF_IS_READY",SWF_IS_READY_TIMEOUT:"SWF_IS_READY_TIMEOUT"},e.CREATIVE_TYPES={MEDIA:"MEDIA",JS_VPAID:"JS_VPAID",XFLV:"XFLV",FLASH_VPAID:"FLASH_VPAID",IMA:"IMA"},e.VAST_PIXEL_TYPES={VAST_ERROR:"VAST_ERROR",VAST_IMPRESSION:"VAST_IMPRESSION",VAST_CLICKTRACKING:"VAST_CLICKTRACKING",VAST_CREATIVEVIEW:"VAST_CREATIVEVIEW",VAST_START:"VAST_START",VAST_FIRSTQUARTILE:"VAST_FIRSTQUARTILE",VAST_MIDPOINT:"VAST_MIDPOINT",VAST_THIRDQUARTILE:"VAST_THIRDQUARTILE",VAST_COMPLETE:"VAST_COMPLETE",VAST_MUTE:"VAST_MUTE",VAST_UNMUTE:"VAST_UNMUTE",VAST_PAUSE:"VAST_PAUSE",VAST_REWIND:"VAST_REWIND",VAST_RESUME:"VAST_RESUME",VAST_FULLSCREEN:"VAST_FULLSCREEN",VAST_EXITFULLSCREEN:"VAST_EXITFULLSCREEN",VAST_EXPAND:"VAST_EXPAND",VAST_COLLAPSE:"VAST_COLLAPSE",VAST_ACCEPTINVITATIONLINEAR:"VAST_ACCEPTINVITATIONLINEAR",VAST_ACCEPTINVITATION:"VAST_ACCEPTINVITATION",VAST_CLOSELINEAR:"VAST_CLOSELINEAR",VAST_SKIP:"VAST_SKIP",VAST_PROGRESS:"VAST_PROGRESS"},e.JSON_PIXEL_PARAMS={url:"url",w:"w",h:"h",declaredDomain:"decl_d",declaredWidth:"decl_w",declaredHeight:"decl_h",detectedDomain:"det_d",detectedWidth:"det_w",detectedHeight:"det_h",fullUrl:"fullUrl",td:"td",ts:"ts",cb:"cb"},e.IAS_EXTRA_PARAMS={aCc:"a_cc",aId:"advId",country:"country",declaredDomain:"decl_d",declaredWidth:"decl_w",declaredHeight:"decl_h",detectedDomain:"det_d",detectedWidth:"det_w",detectedHeight:"det_h",ssId:"ssid"},e.IAS_EVENTS={AdLoaded:n.AdLoaded,AdStarted:n.AdStarted,AdStopped:n.AdStopped,AdSkipped:n.AdSkipped,AdSkippableStateChange:n.AdSkippableStateChange,AdDurationChange:n.AdDurationChange,AdVolumeChange:n.AdVolumeChange,AdImpression:n.AdImpression,AdVideoStart:n.AdVideoStart,AdVideoFirstQuartile:n.AdVideoFirstQuartile,AdVideoMidpoint:n.AdVideoMidpoint,AdVideoThirdQuartile:n.AdVideoThirdQuartile,AdVideoComplete:n.AdVideoComplete,AdClickThru:n.AdClickThru,AdPaused:n.AdPaused,AdPlaying:n.AdPlaying,AdError:n.AdError},e.IAS_RESIZE_AD="resizeAd",e.ORTB_DETAIL="ortb-detail",e.CALL_CHAIN_IDENTIFIERS={SUPPLY:"s",DEMAND:"d",ACCOUNT:"a",MOAT_USED:"mt",IAS_USED:"ias",FORENSIQ_USED:"f",PROTECTED_MEDIA_USED:"p",DIRECT_CONNECTION:"dc"},e.CALL_CHAIN_IDENTIFIER_BLACKLIST={sf:!0,a:!0},e.SIZE={XS:0,S:250,M:350,L:500,XL:800,UNKNOWN:-1},e.POSTER_SIZES={"16:9":[{width:426,height:240,filename:"426x240"},{width:640,height:360,filename:"640x360"},{width:720,height:480,filename:"720x480"},{width:1280,height:720,filename:"1280x720"},{width:1920,height:1080,filename:"1920x1080"}],"4:3":[{width:176,height:144,filename:"176x144"},{width:320,height:240,filename:"320x240"},{width:480,height:360,filename:"480x360"},{width:640,height:480,filename:"640x480"},{width:1280,height:960,filename:"1280x960"}]},e.CALL_CHAIN_LINK_SEPARATOR="_",e.CALL_CHAIN_VARIABLE_SEPARATOR="-",e.CALL_CHAIN_VARIABLE_ID_SEPARATOR=".",e.KEYS_SEPARATOR="&",e.KEY_VAL_SEPARATOR="=",n=e.SLOT_STATES={DEMAND_TAG_READY:"DEMAND_TAG_READY",REQUESTING_INIT:"REQUESTING_INIT",INITIALIZED:"INITIALIZED",INIT_FAILED:"INIT_FAILED",REQUESTING_VAST:"REQUESTING_VAST",NO_VAST:"NO_VAST",VAST_READY:"VAST_READY",REQUESTING_VPAID:"REQUESTING_VPAID",VPAID_FAILED:"VPAID_FAILED"},e.SLOT_STATES_VAST_PENDING=[n.REQUESTING_INIT,n.INITIALIZED,n.REQUESTING_VAST],n=e.SLOT_EVENTS={Initialized:"Initialized",VastDone:"VastDone"},e.BROADCAST_STATES={INIT:"INIT",REQUESTING:"REQUESTING",DONE:"DONE"};var a=e.BROADCAST_EVENTS={VastReady:"VastReady",Done:"Done",VastRequestTimerTimeout:"VastRequestTimerTimeout"};e.EVENT_TYPES={_:t,Slot:n,Broadcast:a},e.TRUST_BUT_VERIFY_MACROS={DETECTED_DOMAIN:"{{DETECTED_DOMAIN}}",DETECTED_URL:"{{DETECTED_URL}}",DETECTED_ENCODED_URL:"{{DETECTED_ENCODED_URL}}",DETECTED_DOUBLE_ENCODED_URL:"{{DETECTED_DOUBLE_ENCODED_URL}}",DETECTED_HEIGHT:"{{DETECTED_HEIGHT}}",DETECTED_WIDTH:"{{DETECTED_WIDTH}}",DETECTED_IN_VIEW:"{{IS_INVIEW}}",DETECTED_IS_VISIBLE:"{{IS_VISIBLE}}"},e.HB_BID_PRICE_MACRO="{{BID_PRICE}}",e.VIEWABILITY={UNINITIALIZED:-2,UNKNOWN:-1,NOT_VIEWABLE:0,VIEWABLE:1},e.DEMAND_PARTNER_MACROS={D_WIDTH:"{{D_WIDTH}}",D_HEIGHT:"{{D_HEIGHT}}"},e.NO_TIMER=0,e.POST_IMP_PROVIDER_ID_IAS="i",e.POST_IMP_PROVIDER_ID_MOAT="m",e.POST_IMP_PROVIDER_ID_WHITEOPS="w",e.POST_IMP_PROVIDER_ID_FORENSIQ="f",e.POST_IMP_PROVIDER_ID_PROTECTED_MEDIA="p",e.IMA_MANAGER_STATES={INIT:"INIT",REQUEST_SCRIPT:"REQUEST_SCRIPT",SCRIPT_LOADED:"SCRIPT_LOADED",LOADED:"LOADED",LOAD_ERROR:"LOAD_ERROR",DEAD:"DEAD"},e.IMA_MANAGER_EVENT_TYPES={LOADED:"LOADED",LOAD_ERROR:"LOAD_ERROR"},e.IMA_NONLINEAR_SLOT_HEIGHT=150,e.BID_PLATFORMS={conversant:"conversant",thirty_three_across:"thirty_three_across",rubicon:"rubicon",rhythmone:"rhythmone",spotx:"spotx",spotx_alpha:"spotx_alpha",stickyads:"stickyads",telaria:"telaria",appnexus:"appnexus",districtm:"districtm",brealtime:"brealtime",emx:"emx",xaxis:"xaxis",openx:"openx",index:"index",ima:"ima",synacor:"synacor",vuble:"vuble",unruly:"unruly",dfp:"dfp",beachfront:"beachfront",oath:"oath",lkqd:"lkqd",sonobi:"sonobi",pubmatic:"pubmatic",facebook:"facebook",yieldnexus:"yieldnexus",ortb:"ortb",pulsepoint:"pulsepoint",grid:"grid",onetag:"onetag",improve:"improve",ironsource:"ironsource",rise:"rise",smartadserver:"smartadserver",triplelift:"triplelift",yieldmo:"yieldmo"},e.PIXEL_FORMATS={js:"js",image:"image",iframe:"iframe"},e.DOUBLECLICK_URLS=["//googleads.g.doubleclick.net","//pubads.g.doubleclick.net"],e.HTML5_PIXEL_EVENTS={cached:"cached",error:"error",abort:"abort",load:"load"},e.AD_PIXEL_EVENTS={DONE:"DONE"},e.WINDOW_EVENTS={unload:"unload"},e.DOMAIN_MATCH_SOURCES={WINDOW_LOCATION_ANCESTORORIGINS:"d_wla",WINDOW_TOP_LOCATION:"d_wtl",WINDOW_LOCATION:"d_wl",TOP_PARENT:"d_p",DOCUMENT_REFERRER:"d_r"},e.PARENT_WIN="win",e.UNLOAD_DETECTION_INIT_EXCEPTION_IDX=-1,e.VAST_VERSION={SYNACOR:"-3.0",IMA:"-2.0",UNKNOWN:"-1.0",NOT_VAST:"0.0",_1_0:"1.0",_2_0:"2.0",_3_0:"3.0",_4_0:"4.0"},e.DO_NOT_USE_WITHCREDS=["//ads.nexage.com"],e.KILL_STATES={START:"START",KILLED:"KILLED",STOPPED:"STOPPED"},e.VIEW_MODE_NORMAL="normal",e.VPAID_DEFAULTS={getAdExpanded:!0,getAdCompanions:"",getAdDuration:o.UNKNOWN,getAdHeight:o.UNKNOWN,getAdWidth:o.UNKNOWN,getAdViewMode:o.UNKNOWN,getAdIcons:!1,getAdLinear:!0,getAdRemainingTime:o.UNKNOWN,getAdSkippableState:!1},e.DETECTED_SIZE_MATCH_SOURCE={client:"client",vpaid:"vpaid",manifest:"vpaid",none:"vpaid"},e.HTML5_MIMES="video/mp4 application/javascript video/webm video/quicktime video/ogg video/3gpp".split(" "),e.FLASH_MIMES=["video/x-flv","application/x-shockwave-flash"],e.BLANK_MP4="data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",e.MP4_MIMETYPE="video/mp4",e.PLAYSINLINE="playsinline",e.DEFAULT_REQUIRES_MUTED=!0,e.DEFAULT_AUTOPLAY_ALLOWED=!0,e.NO_SCORE=-1,e.ORTB_RESPONSE_FIELDS={vast:"v",callChain:"cc",pixelFire:"pf"},e.VAST_FIELDS={device_type_id:"device_type_id"}},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return t.substr(n||0,e.length)===e}function a(t,e,n){if(t=t+"//"+e,null===n)return t;for(var i in e=[],n)n.hasOwnProperty(i)&&e.push(i+"="+encodeURIComponent(n[i]));return t+"?"+e.join("&")}function s(t){return null!==t.getElementsByTagName("script")?t.getElementsByTagName("script")[0]:null}function u(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){};try{var r=new Image(1,1);try{r.addEventListener(P.HTML5_PIXEL_EVENTS.load,n),r.addEventListener(P.HTML5_PIXEL_EVENTS.error,i)}catch(t){n()}r.src=e,t.body.appendChild(r)}catch(o){r=t.createElement("img");try{r.addEventListener(P.HTML5_PIXEL_EVENTS.load,n),r.addEventListener(P.HTML5_PIXEL_EVENTS.error,i)}catch(t){n()}r.src=e}}function l(t,e){var n=t.createElement("script");n.type="text/javascript",n.async=!0;var i=s(t);i?i.parentNode.insertBefore(n,i):t.head.appendChild(n),n.src=e}function _(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(n&&(n='sandbox="'+n+'"'),"<iframe "+n+' id="'+t+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0px;width:0px;display:none;" scrolling="no" src="'+e+'"> </iframe>'):""}function d(t,e,n,i){t=_(t,n,i),(n=document.createElement("div")).innerHTML=t,e.body.appendChild(n.firstChild)}function c(t,e,n){return(0,I.default)(t,(function(t){return(0,T.default)(t)?(0,V.replaceDetectedMacros)(e,n,t):(t.url=(0,V.replaceDetectedMacros)(e,n,t.url),t)}))}function h(t,e){return t?"object"===(void 0===t?"undefined":O(t))?t=JSON.stringify(t):"string"!=typeof t&&(t=String(t)):t=String(t),t.length>e?t.slice(0,e):t}function p(t){return isNaN(t)||0>t?P.SIZE.UNKNOWN:t<P.SIZE.S?P.SIZE.XS:t<P.SIZE.M?P.SIZE.S:t<=P.SIZE.L?P.SIZE.M:t<P.SIZE.XL?P.SIZE.L:P.SIZE.XL}function f(t,e){return 4<3*t/e?"16:9":"4:3"}function A(t){return(0,T.default)(t)&&0===t.indexOf("www.")?t.substr(4):t}function E(t,e){return!!(0,b.default)(t,(function(t){return o(e,C+t)||o(e,w+t)}))}function R(t){try{for(var e=t,n=0;n<N;n++){var i=decodeURIComponent(e);if(i===e)break;e=i}return e}catch(e){return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.INSECURE_PROTOCOL=e.SECURE_PROTOCOL=void 0;var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getCb=function(){return Math.floor(1e7*Math.random())},e.getProtocol=function(t){return t?C:w},e.stringStartsWith=o,e.promoteProtocol=function(t,e){if(!t)throw Error(P.PROMOTE_PROTOCOL_NO_URL);return e===C&&o(t,w)?e+t.substr(w.length):t},e.getPageProtocol=function(){for(var t=null,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;e&&e!==e.parent;)try{if((t=e.location.protocol)&&(t===C||t===w))return t;e=e.parent}catch(n){try{if(e.document.referrer&&0<e.document.referrer.length){t=e.document.referrer.match(/^(https?:)\/\//)[1];break}}catch(t){break}}return null===t?w:t!==C&&t!==w?C:t},e.makeUrl=a,e.getScriptLocation=s,e.addImage=u,e.addScript=l,e.createTrackPixelIframeHtml=_,e.addIframe=d,e.firePixels=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if((0,y.default)(e))for(e=c(e,n,i),n=0;n<e.length;n++)i=e[n],(0,T.default)(i)?u(t,i):i.format===P.PIXEL_FORMATS.iframe||0<=i.url.indexOf("cdn.districtm.io/ids")?d("px_"+Math.round(1e5*Math.random()),t,i.url,"allow-scripts allow-same-origin"):i.format===P.PIXEL_FORMATS.image?u(t,i.url):i.format===P.PIXEL_FORMATS.js&&l(t,i.url)},e.checkVPAIDInterface=function(t){return t.handshakeVersion&&"function"==typeof t.handshakeVersion&&t.initAd&&"function"==typeof t.initAd&&t.startAd&&"function"==typeof t.startAd&&t.stopAd&&"function"==typeof t.stopAd&&t.skipAd&&"function"==typeof t.skipAd&&t.resizeAd&&"function"==typeof t.resizeAd&&t.pauseAd&&"function"==typeof t.pauseAd&&t.resumeAd&&"function"==typeof t.resumeAd&&t.expandAd&&"function"==typeof t.expandAd&&t.collapseAd&&"function"==typeof t.collapseAd&&t.subscribe&&"function"==typeof t.subscribe&&t.unsubscribe&&"function"==typeof t.unsubscribe&&t.getAdVolume&&"function"==typeof t.getAdVolume&&t.getAdExpanded&&"function"==typeof t.getAdExpanded&&t.getAdCompanions&&"function"==typeof t.getAdCompanions&&t.getAdDuration&&"function"==typeof t.getAdDuration&&t.getAdHeight&&"function"==typeof t.getAdHeight&&t.getAdIcons&&"function"==typeof t.getAdIcons&&t.getAdLinear&&"function"==typeof t.getAdLinear&&t.getAdRemainingTime&&"function"==typeof t.getAdRemainingTime&&t.getAdSkippableState&&"function"==typeof t.getAdSkippableState&&t.getAdWidth&&"function"==typeof t.getAdWidth},e.getRequestMethod=function(t,e){var n=new XMLHttpRequest,i=!1;if("withCredentials"in n)n.open("GET",t,!0),e&&(i=n.withCredentials=!0);else{if("undefined"==typeof XDomainRequest)return null;(n=new XDomainRequest).open("GET",t)}return{xhr:n,withCredentials:i}},e.canPlayVideo=function(t,e){return"video/3gpp"!==e.mimetype&&((t.canPlayType&&""!==t.canPlayType(e.mimetype).replace(/no/,"")||!t.canPlayType)&&(0,T.default)(e.url)&&e.url.substr(0,P.RTMP.length)!==P.RTMP)},e.getTruncatedString=h,e.getShortUuid=function(t){return h(t,P.SHORT_UUID_LENGTH)},e.getReason=function(t){if(P.VD_ERROR_CODES.hasOwnProperty(t))return t;if((0,T.default)(t)){var e=t.substr(0,P.VD_ERROR_CODES.IMA_ADS_ERROR.length)===P.VD_ERROR_CODES.IMA_ADS_ERROR||t.substr(0,P.VD_ERROR_CODES.IMA_ADS_LOADER_ERROR.length)===P.VD_ERROR_CODES.IMA_ADS_LOADER_ERROR?P.IMA_AD_ERROR_TRUNCATION_LENGTH:P.AD_ERROR_TRUNCATION_LENGTH;return h(t,e)}return"object"===(void 0===t?"undefined":O(t))?h(JSON.stringify(t),P.AD_ERROR_TRUNCATION_LENGTH):h(String(t),P.AD_ERROR_TRUNCATION_LENGTH)},e.getTimeStr=function(){var t=new Date;return"["+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()+"]"},e.getDocumentAndWindow=function(t){var e=void 0,n=void 0;try{n=(e=t.ownerDocument).defaultView||e.parentWindow}catch(t){e=document,n=window}return null!==e&&null!==n||(e=document,n=window),{document:e,window:n}},e.printError=function(t){return t.fileName+":"+t.lineNumber+" "+t.message},e.getSize=p,e.sizeMatch=function(t,e){return p(t.width)===p(e.width)},e.isOpenmarketDemandTag=function(t){return t.hasOwnProperty("ortb")&&1===t.ortb},e.getORtbElement=function(t,e,n){try{var i=t.getElementsByTagName(e)[0].textContent.trim();try{return n(i)}catch(t){return i}}catch(t){return""}},e.getBooleanAttribute=function(t,e,n){return t.hasAttribute(e)?"true"===t.getAttribute(e):n},e.getHistoryManager=function(){return{demand_events:{request:{},response:{},opportunity:{},error:{},bidderError:{},auctionWins:{}},blockedRequests:{},supplyTagOpportunities:{}}},e.identityWrapper=function(t){return t},e.forEachType=function(t,e){(0,m.default)(t,(function(t,n){(0,m.default)(t,(function(t,i){e(t,n,i)}))}))},e.getClosestAspectRatio=f,e.getPosterFilename=function(t,e){e=P.POSTER_SIZES[f(t,e)];for(var n=0;n<e.length;n++){var i=e[n];if(t<=i.width)return i.filename}return e[e.length-1].filename},e.getPoster=function(t,e,n){return a(t,e+n+".jpg",null)},e.cleanDomain=A,e.domainMatch=function(t,e){return A(t.domain)===A(e.domain_match)},e.cssreset=function(t){t.style.margin=0,t.style.padding=0,t.style.border=0,t.style.outline=0,t.style["font-size"]="100%",t.style["vertical-align"]="baseline",t.style.background="transparent"},e.styleButton=function(t){t.style.width="60px",t.style.height="30px",t.style.backgroundColor="rgba(33,33,33,.8)",t.style.color="rgba(255, 255, 255, 0.6)",t.style.display="block",t.style.position="absolute",t.innerHTML="Skip ad",t.style.bottom="10px",t.style.right="10px",t.style.border="none",t.style.borderRadius="15px",t.style.cursor="pointer"},e.isUrlPrefix=E,e.shouldUseWithCreds=function(t){return!E(P.DO_NOT_USE_WITHCREDS,t)},e.unencodeComponent=R,e.unencodeParam=function t(e){return(0,T.default)(e)?R(e):(0,v.default)(e)||(0,S.default)(e)?e:(0,y.default)(e)?(0,I.default)(e,t):"object"===(void 0===e?"undefined":O(e))?(0,g.default)(e,(function(e){return t(e)})):R(e)},e.getSizeInfo=function(t,e){var n=null;return e.environmentVars&&(n=D.getStateInfo(e.environmentVars)),n&&0<n.detectedWidth?{width:n.detectedWidth,height:n.detectedHeight,source:P.DETECTED_SIZE_MATCH_SOURCE.client}:0<e.width?{width:e.width,height:e.height,source:P.DETECTED_SIZE_MATCH_SOURCE.vpaid}:t&&0<t.width?{width:t.width,height:t.height,source:P.DETECTED_SIZE_MATCH_SOURCE.manifest}:{width:P.VPAID_CONSTANTS.UNKNOWN,height:P.VPAID_CONSTANTS.UNKNOWN,source:P.DETECTED_SIZE_MATCH_SOURCE.none}};var y=r(n(4)),v=r(n(98)),S=r(n(56)),m=r(n(3)),g=r(n(19)),I=r(n(12)),T=r(n(55)),b=r(n(99)),P=i(n(0)),D=i(n(208)),V=n(57),C=e.SECURE_PROTOCOL="https:",w=e.INSECURE_PROTOCOL="http:",N=5},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=r(t=n(39));var s=n(14),u=r(s),l=r(s=n(37)),_=r(s=n(3)),d=r(s=n(5)),c=r(s=n(61)),h=i(s=n(0)),p=r(s=n(62)),f=r(s=n(20)),A=r(s=n(38)),E=i(n=n(1));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._bidOptionalParams=t._demandTag.hasOwnProperty("bid_optional_params")?t._demandTag.bid_optional_params:{},t._bidParams=t._demandTag.hasOwnProperty("bid_params")?t._demandTag.bid_params:{},t._bidFloor=(0,l.default)(t._demandTag.hasOwnProperty("bid_floor")?t._demandTag.bid_floor:0),t._bid=null;try{t.sync()}catch(t){}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"sync",value:function(){var t=this.getUserSyncs();t&&this.shouldSync()&&this.dropPixels(t)}},{key:"getUserSyncs",value:function(){return null}},{key:"shouldSync",value:function(){return Math.random()>1-(this.cabinet.manifest.sync_percent||0)}},{key:"getSchainExtension",value:function(){var t=this.getSChain();return t?{ext:{schain:t}}:null}},{key:"getSChain",value:function(){return this._demandTag.callChain&&1===this._demandTag.callChain.length&&this._cabinet.manifest.hasOwnProperty("schain")&&!(0,c.default)(this._cabinet.manifest.schain)?this._cabinet.manifest.schain:""}},{key:"getPChain",value:function(){return 1===this._demandTag.callChain.length&&this._cabinet.manifest.hasOwnProperty("pchain")?this._cabinet.manifest.pchain:""}},{key:"getSourceWithSchainPchain",value:function(){var t={tid:this._cabinet.shortUuid,pchain:this.getPChain()},e=this.getSChain();return e&&(t.ext={schain:e}),t}},{key:"hasUserExt",value:function(){return!(0,c.default)(this.getUserExt())}},{key:"getUserExt",value:function(){var t={};return this.gdprSet()&&(t.consent=this.gdprConsentString()),t}},{key:"hasRegsExt",value:function(){return!(0,c.default)(this.getRegsExt())}},{key:"getRegsExt",value:function(){var t={};return this.gdprSet()&&(t.gdpr=this.gdprApplies()),this.ccpaUSPrivacySet()&&(t.us_privacy=this.ccpaUSPrivacy()),t}},{key:"dropPixels",value:function(t){try{E.firePixels(document,t)}catch(t){}}},{key:"dropImageUserSync",value:function(t){E.firePixels(document,[t])}},{key:"dropIframeUserSync",value:function(t){this._iframe=E.addIframe(this._cabinet.uuid,document,t,"allow-scripts allow-same-origin")}},{key:"getBestBidOpenRTBResults",value:function(t){var e=null;return(0,_.default)(t.seatbid,(function(t){(0,_.default)(t.bid,(function(t){(null===e||t.price>e.price)&&(e=t)}))})),e}},{key:"sortOpenRTBResultsByPrice",value:function(t){return t.seatbid.sort((function(t,e){return t.bid[0].price<e.bid[0].price?1:t.bid[0].price>e.bid[0].price?-1:0}))}},{key:"hasBid",value:function(){return null!==this.bid}},{key:"isValidBid",value:function(){return this.hasBid()&&this.bidMeetsFloor()}},{key:"failedBidRequest",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h.VAST_ERRORCODES.SS_VAST_ERRORCODE_1301,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h.VD_ERROR_CODES.HB_BID_ERROR;this.sendJsDemandResponse(h.VID_IO_EVENTS.cm_js_demand_req_resp,this._demandTag,(o(t={cc_i:this._demandTag.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.response,!0).join(","),response_time:this._cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),has_ad:!1,reason:n,wrapper_count:0,dtype:h.DEMAND_TYPES.UNKNOWN},h.VID_IO_PARAMS.bidPrice,this.bid),o(t,h.VID_IO_PARAMS.bidFloor,this.bidFloor),o(t,h.VID_IO_PARAMS.vastErrorCode,e),t)),this.onSlotVastDone(this._idx,null)}},{key:"failedHBVastRequest",value:function(t){this.failedBidRequest(1<arguments.length&&void 0!==arguments[1]?arguments[1]:h.VAST_ERRORCODES.SS_VEC_1313_HB_ERROR_REQUESTING_VAST,t)}},{key:"_getAdVastProcessor",value:function(t){return t=new p.default(this._cabinet,this._initParams,this._demandTag,t,this.hbDetails),this.registerSSEventListeners_(t),t}},{key:"getDNT",value:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack}},{key:"bidMeetsFloor",value:function(){return null!==this.bid&&this.bid>=this.bidFloor}},{key:"getTimeoutInfo",value:function(){return this.cabinet.timeoutManager.getTimeoutInfo(this._demandTag.waterfallIdx,new f.default(this.cabinet.timeouts.HB_BID_REQUEST_TIMEOUT,h.VD_ERROR_CODES.HB_BID_REQUEST_TIMEOUT,h.VAST_ERRORCODES.SS_VEC_1315_HB_BID_REQUEST_TIMEOUT))}},{key:"handleResponse",value:function(t,e){}},{key:"handleError",value:function(t){var e=this.demandTag.hasOwnProperty("bid_platform")?this.demandTag.bid_platform+": "+h.VD_ERROR_CODES.HB_REQUEST_FAIL:h.VD_ERROR_CODES.HB_REQUEST_FAIL;"timeout"===t?this.failedHBVastRequest(e,h.VAST_ERRORCODES.SS_VEC_1315_HB_BID_REQUEST_TIMEOUT):this.failedHBVastRequest(e)}},{key:"_ajaxIt",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"POST",r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o=this.handleResponse.bind(this),a=this.handleError.bind(this);"POST"===i&&(e=JSON.stringify(e)),t?A.default.ajax(t,this.getTimeoutInfo(),{success:function(t,e){o(t,n,e)},error:function(t){a(t)}},e,(0,d.default)(r,{method:i,withCredentials:!0})):this.failedHBVastRequest("HB_MISSING_URL")}},{key:"priceReductionAmount",get:function(){if(!this._demandTag.third_party_fee||void 0===this._demandTag.third_party_fee_metric||0>this._demandTag.third_party_fee_metric)return 0;var t=parseFloat(this._demandTag.third_party_fee)||0;return this._demandTag.third_party_fee_metric===h.THIRD_PARTY_FEES.IMPRESSIONS||this._demandTag.third_party_fee_metric===h.THIRD_PARTY_FEES.AD_REQUESTS?t:this._demandTag.third_party_fee_metric===h.THIRD_PARTY_FEES.PERCENT_OF_REV?t/100*(this.bid||0):0}},{key:"effectiveScore",get:function(){return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"effectiveScore",this)*((this.bid||0)-this.priceReductionAmount)}},{key:"isFixedScore",get:function(){return!1}},{key:"bid",get:function(){return this._bid},set:function(t){null!==t&&(t=(0,l.default)(t),(0,u.default)(t)?this._bid=null:this._bid=t)}},{key:"bidFloor",get:function(){return this._bidFloor}},{key:"hbDetails",get:function(){var t;return o(t={},h.VID_IO_PARAMS.bidPrice,this.bid),o(t,h.VID_IO_PARAMS.bidFloor,this.bidFloor),o(t,h.VID_IO_PARAMS.bidPriceActual,this.bid),t}}]),e}(t.default),e.default=n},function(t,e,n){var i=n(204),r=n(52),o=n(97),a=n(4);t.exports=function(t,e){return(a(t)?i:r)(t,o(e))}},function(t,e){t.exports=Array.isArray},function(t,e,n){e=n(42);var i=n(22),r=n(70),o=n(30),a=Object.prototype,s=a.hasOwnProperty;n=e((function(t,e){t=Object(t);var n=-1,u=e.length,l=2<u?e[2]:void 0;for(l&&r(e[0],e[1],l)&&(u=1);++n<u;){l=e[n];for(var _=o(l),d=-1,c=_.length;++d<c;){var h=_[d],p=t[h];(void 0===p||i(p,a[h])&&!s.call(t,h))&&(t[h]=l[h])}}return t})),t.exports=n},function(t,e,n){e=n(68),n="object"==typeof self&&self&&self.Object===Object&&self,e=e||n||Function("return this")(),t.exports=e},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,e,n){e=n(21);var i=n(126),r=n(127),o=e?e.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):r(t)}},function(t,e,n){var i=n(67),r=n(43);t.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var i=n(24),r=n(13),o=n(193),a=n(4);t.exports=function(t,e){return(a(t)?i:o)(t,r(e,3))}},function(t,e,n){var i=n(142),r=n(182),o=n(29),a=n(4),s=n(190);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?r(t[0],t[1]):i(t):s(t)}},function(t,e,n){var i=n(56);t.exports=function(t){return i(t)&&t!=+t}},function(t,e,n){var i=n(125),r=n(130);t.exports=function(t,e){return t=r(t,e),i(t)?t:void 0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityDetection=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e._set=function(t){u=t},e.stop=function(){u.stop()},e.init=function(t,e,n){return u=new s(t,e),n&&u.setDoneFunction(n),u.setViewRightNow(),u},e.detector=function(){return u};var r=(t=n(53))&&t.__esModule?t:{default:t},o=(t=n(209))&&t.__esModule?t:{default:t},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),s=e.ViewabilityDetection=function(){function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.slot=e,this.doc=n||document,this._isInView=a.VIEWABILITY.UNINITIALIZED,this._viewablePercent=-1,this._tabIsInView=!0,this._hasBeenDetected=!1,this._openvv=this.visibilityChangeEvent=this.hiddenAttribute=null,this._done=this.defaultDone}return i(t,[{key:"defaultDone",value:function(){this.hasBeenDetected=!0}},{key:"setDoneFunction",value:function(t){this._done=t}},{key:"setViewability",value:function(t){this._viewablePercent=100*t.percentViewable,this._isInView=t.viewable?1:0,this._done()}},{key:"setViewRightNow",value:function(){var t=this;(0,r.default)(this.slot)&&null===this._openvv&&(this._openvv=new o.default,this._openvv.measureElement(this.slot).onViewableStart((function(e){t.setViewability(e)})).onViewableStop((function(e){t.setViewability(e)})).onViewableChange((function(e){t.setViewability(e)})).onViewableComplete((function(e){t.setViewability(e)})).onUnmeasureable((function(){t._done()})).start())}},{key:"stop",value:function(){this._openvv&&this._openvv.dispose()}},{key:"hasBeenDetected",set:function(t){(this._hasBeenDetected=t)&&0>this._isInView&&(this._isInView=a.VIEWABILITY.UNKNOWN)},get:function(){return this._hasBeenDetected}},{key:"viewabilityPercent",get:function(){return this._viewablePercent}},{key:"isInView",get:function(){return this._isInView}}]),t}(),u=null},function(t,e,n){t.exports=n(139)},function(t,e,n){var i=n(27);t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var i=n(47),r=n(91),o=n(13);t.exports=function(t,e){var n={};return e=o(e,3),r(t,(function(t,r,o){i(n,r,e(t,r,o))})),n}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));t=function(){function t(e,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:r.VAST_ERRORCODES.VAST_ERRORCODE_301;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._timeout=e,this._reason=n,this._vec=i}return i(t,[{key:"timeout",get:function(){return this._timeout},set:function(t){this._timeout=t}},{key:"reason",get:function(){return this._reason},set:function(t){this._reason=t}},{key:"vec",get:function(){return this._vec},set:function(t){this._vec=t}}]),t}(),e.default=t},function(t,e,n){e=n(6).Symbol,t.exports=e},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&n.test(t))&&-1<t&&0==t%1&&t<e}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},function(t,e,n){var i=n(71),r=n(84),o=n(10);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var i=n(4),r=n(51),o=n(184),a=n(89);t.exports=function(t,e){return i(t)?t:r(t,e)?[t]:o(a(t))}},function(t,e,n){var i=n(9),r=n(7);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}},function(t,e,n){var i=n(200);t.exports=function(t){var e=(t=i(t))%1;return t==t?e?t-e:t:0}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var i=n(71),r=n(137),o=n(10);t.exports=function(t){return o(t)?i(t,!0):r(t)}},function(t,e,n){e=n(133);var i=n(7),r=(n=Object.prototype).hasOwnProperty,o=n.propertyIsEnumerable;n=e(function(){return arguments}())?e:function(t){return i(t)&&r.call(t,"callee")&&!o.call(t,"callee")},t.exports=n},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}e=n(144);var r=n(145),o=n(146),a=n(147);n=n(148),i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=o,i.prototype.has=a,i.prototype.set=n,t.exports=i},function(t,e,n){var i=n(22);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},function(t,e,n){e=n(15)(Object,"create"),t.exports=e},function(t,e,n){var i=n(162);t.exports=function(t,e){return t=t.__data__,i(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(t,e,n){var i=n(26),r=n(18);t.exports=function(t,e){for(var n=0,o=(e=i(e,t)).length;null!=t&&n<o;)t=t[r(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var i=n(201),r=n(11),o=n(27),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)&&(t="function"==typeof t.valueOf?t.valueOf():t,t=r(t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=i(t);var e=s.test(t);return e||u.test(t)?l(t.slice(2),e?2:8):a.test(t)?NaN:+t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(102),a=(t=n(3))&&t.__esModule?t:{default:t},s=(n=n(17))&&n.__esModule?n:{default:n};n=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}return r(t,null,[{key:"ajax",value:function(t,e,n,r){var u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},l=void 0,_=!1,d=u.method||(r?"POST":"GET"),c="object"===(void 0===n?"undefined":i(n))?n:{success:function(){},error:function(t){}};"function"==typeof n&&(c.success=n),XMLHttpRequest?void 0===(l=new XMLHttpRequest).responseType?_=!0:"function"==typeof l.overrideMimeType&&l.overrideMimeType("application/json"):_=!0,_?((l=new XDomainRequest).onload=function(){c.success(l.responseText,l)},l.onerror=function(){c.error("error",l)},l.ontimeout=function(){c.error("timeout",l)},l.onprogress=function(){}):l.onreadystatechange=function(){if(4===l.readyState){var t=l.status;200<=t&&300>t||304===t?c.success(l.responseText,l):c.error(l.statusText,l)}};var h=t;"GET"===d&&r&&(h=(0,o.parse)(t,u),(0,s.default)(h.search,r),h=(0,o.format)(h)),l.open(d,h);try{l.timeout=e.timeout}catch(t){}_||(u.withCredentials&&(l.withCredentials=!0),u.customHeaders&&(0,a.default)(u.customHeaders,(function(t,e){l.setRequestHeader(e,t)})),u.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Content-Type",u.contentType||"text/plain")),l.send("POST"===d&&r)}}]),t}(),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},a=i(t=n(0));t=(t=n(106))&&t.__esModule?t:{default:t};var s=n(16),u=i(s),l=i(s=n(1)),_=i(n=n(94));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdContainer",t,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._idx=n,t._demandTag=i,t._adSlotState=a.SLOT_STATES.DEMAND_TAG_READY,t._adVast=null,t._initFailReason=null,t._fullDomain=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"initialize",value:function(){this._adSlotState=a.SLOT_STATES.REQUESTING_INIT,this.onSlotInitialized(this.idx,null)}},{key:"widthToPass",value:function(t){return t&&t.width&&(this._demandTag.ts||this._cabinet.manifest.ts)?parseInt(t.width):this.cabinet.manifest.width}},{key:"gdprSet",value:function(){return this._cabinet.manifest.hasOwnProperty("passthru")&&this._cabinet.manifest.passthru.hasOwnProperty("gdpr")}},{key:"gdprApplies",value:function(){return this._cabinet.manifest.passthru&&this._cabinet.manifest.passthru.gdpr}},{key:"ccpaUSPrivacySet",value:function(){return this._cabinet.manifest.hasOwnProperty("us_privacy")}},{key:"ccpaUSPrivacy",value:function(){return this._cabinet.manifest.us_privacy}},{key:"gdprConsentString",value:function(){return this._cabinet.manifest.passthru.consent?l.unencodeComponent(this._cabinet.manifest.passthru.consent):""}},{key:"encodedGdprConsentString",value:function(){return encodeURIComponent(this.gdprConsentString())}},{key:"heightToPass",value:function(t){return t&&t.height&&(this._demandTag.ts||this._cabinet.manifest.ts)?parseInt(t.height):this.cabinet.manifest.height}},{key:"isDetectedDomain",value:function(){return this._demandTag.td||this._cabinet.manifest.td}},{key:"internalError",value:function(t,e){this._initFailReason===a.VD_ERROR_CODES.PRE_INIT_TD_MISMATCH?this.missedOpportunity(!0,!1,!1):this.on_cm_js_demand_req_resp(this._demandTag,{cc_i:this._demandTag.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.response,!0).join(","),response_time:0,wrapper_count:0,has_ad:!1,timeout:e,reason:t,dtype:this.defaultDemandType},null),this.onSlotVastDone(this._idx,null)}},{key:"missedOpportunity",value:function(t,e,n){}},{key:"sendJsDemandResponse",value:function(t,e,n){if(t!==a.VID_IO_EVENTS.cm_js_demand_req_resp)throw Error(a.VD_ERROR_CODES.NOT_JS_DEMAND_RESPONSE);this.on_cm_js_demand_req_resp(e,n)}},{key:"onSlotInitialized",value:function(t,n){this.adVpaidState.isDead||(this._initFailReason=n,this._adSlotState=null===n?a.SLOT_STATES.INITIALIZED:a.SLOT_STATES.INIT_FAILED,o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotInitialized",this).call(this,t,n))}},{key:"onSlotVastDone",value:function(t,n){this._adVast=n,this.adVpaidState.isDead||(this._adSlotState=null===n?a.SLOT_STATES.NO_VAST:a.SLOT_STATES.VAST_READY,o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotVastDone",this).call(this,t,n))}},{key:"vpaidStart",value:function(){this._adSlotState=a.SLOT_STATES.REQUESTING_VPAID}},{key:"vpaidFailed",value:function(){this._adSlotState=a.SLOT_STATES.VPAID_FAILED}},{key:"stopAd",value:function(){this.adSlotState===a.SLOT_STATES.REQUESTING_INIT?this.onSlotInitialized(this._idx,a.VD_ERROR_CODES.AD_CONTAINER_STOP_AD_DURING_INIT):this.adSlotState===a.SLOT_STATES.REQUESTING_VAST&&this.onSlotVastDone(this._idx,null),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this)}},{key:"skipAd",value:function(){this.adSlotState===a.SLOT_STATES.REQUESTING_INIT?this.onSlotInitialized(this._idx,a.VD_ERROR_CODES.AD_CONTAINER_SKIP_AD_DURING_INIT):this.adSlotState===a.SLOT_STATES.REQUESTING_VAST&&this.onSlotVastDone(this._idx,null),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this)}},{key:"_containerRequestVast",value:function(t){throw Error("must implement")}},{key:"fireDemandRequestPixel",value:function(){if(this._demandTag){var t=_.getPixelUrlsByEvent(this._demandTag,a.EXTRA_PIXEL_EVENTS.AdRequest);t&&l.firePixels(document,t,this._cabinet.locationInfo,this._cabinet.sizeInfo)}}},{key:"requestVast",value:function(t){if(this.adSlotState===a.SLOT_STATES.INITIALIZED)try{o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"requestVast",this).call(this,t),this.passesTargetingAsync(t,this.passesTargetingCallback.bind(this)),this.fireDemandRequestPixel()}catch(t){this.internalError(a.VD_ERROR_CODES.UNCAUGHT_AD_CONTAINER_ERROR,!1)}else this.adSlotState===a.SLOT_STATES.INIT_FAILED?this.internalError(a.VD_ERROR_CODES.REQUEST_VAST_INIT_FAILED,!1):this.internalError(a.VD_ERROR_CODES.REQUEST_VAST_LOGIC_ERROR,!1)}},{key:"passesTargetingCallback",value:function(t,e){if(e&&this.adVpaidState.isContinue){try{this.fireOpportunity()}catch(t){return void this.internalError(a.VD_ERROR_CODES.DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL,!1)}this._adSlotState=a.SLOT_STATES.REQUESTING_VAST,this._cabinet.timeoutManager.startTierFirstVastRequest(),this._containerRequestVast(t)}}},{key:"finishVastRequest",value:function(t){}},{key:"fireOpportunity",value:function(){var t={},e=a.VID_IO_PARAMS.requestTime,n=this._cabinet.timeoutManager.getRequestTime(this._demandTag.waterfallIdx);e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,e=this._demandTag.callChain.getSupplyTagHistory(this._cabinet.historyManager.supplyTagOpportunities),n=this._demandTag.callChain.callChainLinks;for(var i=[],r=0;r<e.length;r++){var o=e[r];0<o&&i.push(a.CALL_CHAIN_IDENTIFIERS.SUPPLY+a.CALL_CHAIN_VARIABLE_ID_SEPARATOR+n[o].supplyTagId)}0<i.length&&this.on_cm_req_js_opp(null,t,null,i.join(a.CALL_CHAIN_LINK_SEPARATOR))}},{key:"passesTargetingAsync",value:function(t,e){var n=this,i=u.detector();i&&this._demandTag.tv&&i.isInView===a.VIEWABILITY.UNINITIALIZED?setTimeout((function(){e(t,n.passesTargeting(t),!0)}),this.cabinet.timeouts.VIEWABILITY):e(t,this.passesTargeting(t),!1)}},{key:"passesTargeting",value:function(t){var e=void 0;try{e=!this._cabinet.isDomainMatch&&this._demandTag.td}catch(t){return this.internalError(a.VD_ERROR_CODES.PRE_INIT_TD_MISMATCH_FAIL,!1),!1}var n=void 0;try{n=this._demandTag.ts&&!this._cabinet.isSizeMatch(t)}catch(t){return this.internalError(a.VD_ERROR_CODES.PRE_INIT_TS_MISMATCH_FAIL,!1),!1}t=void 0;try{t=this._demandTag.tv&&u.detector().isInView!==a.VIEWABILITY.VIEWABLE}catch(t){return this.internalError(a.VD_ERROR_CODES.PRE_INIT_TV_MISMATCH_FAIL,!1),!1}try{if(e||n||t)return this.missedOpportunity(e,n,t),this.onSlotVastDone(this._idx,null),!1}catch(t){return this.internalError(a.VD_ERROR_CODES.PRE_INIT_MISSED_OPPORTUNITY_FAIL,!1),!1}return!0}},{key:"idx",get:function(){return this._idx}},{key:"effectiveScore",get:function(){return parseFloat(this._demandTag.score||1)}},{key:"isFixedScore",get:function(){return!0}},{key:"domainToPass",get:function(){return this.isDetectedDomain()?this.cabinet.locationInfo.domain_match:this.cabinet.manifest.domain}},{key:"fullDomainToPass",get:function(){if(this._fullDomain)return this._fullDomain;this.isDetectedDomain()?this._fullDomain=this.cabinet.locationInfo.url:this._fullDomain=this.cabinet.manifest.url?this.cabinet.manifest.url:this.cabinet.manifest.domain;var t=this.cabinet.pageProtocol;return 0===this._fullDomain.indexOf("//")?this._fullDomain=t+this._fullDomain:0!==this._fullDomain.indexOf("http")&&(this._fullDomain=t+"//"+this._fullDomain),this._fullDomain}},{key:"isVastPending",get:function(){return-1<a.SLOT_STATES_VAST_PENDING.indexOf(this.adSlotState)}},{key:"isRequestingVpaid",get:function(){return this.adSlotState===a.SLOT_STATES.REQUESTING_VPAID}},{key:"referrerToPass",get:function(){return this.cabinet.hasOwnProperty("locationInfo")&&this.cabinet.locationInfo.document__referrer?this.cabinet.locationInfo.document__referrer:this.fullDomainToPass}},{key:"defaultDemandType",get:function(){return a.DEMAND_TYPES.UNKNOWN}},{key:"adSlotState",get:function(){return this._adSlotState}},{key:"demandTag",get:function(){return this._demandTag}},{key:"adVast",get:function(){return this._adVast}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},u=r(n(12)),l=r(n(17)),_=r(n(5)),d=r(n(59)),c=i(n(0)),h=i(n(1));n=function(t){function e(t,n,i,r,o,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return s._creativeType=r,s._demandTag=o,s._adVast=a,s._slotListeners={},s._killState=c.KILL_STATES.START,s._hasSetAdVolume=!1,s._onKillFn=function(){s.demandError(c.VD_ERROR_CODES.AD_STOPPED,!1,c.VAST_ERRORCODES.VAST_ERRORCODE_901)},s._killAdTimeout=0,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"fireVastPixels",value:function(t,e){try{h.firePixels(document,(0,u.default)(e,(function(t){return t.replace(c.VAST_MACROS.CACHEBUSTING,h.getCb())})),this._cabinet.locationInfo,this._cabinet.sizeInfo)}catch(t){}}},{key:"fireErrorPixels",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_ERROR,(0,u.default)(this._adVast.errorPixels,(function(t){return t.replace(c.VAST_MACROS.ERRORCODE,c.VAST_ERRORCODES.VAST_ERRORCODE_901)})))}},{key:"demandError",value:function(t,e,n){h.isOpenmarketDemandTag(this._demandTag)?this.onSlotVastDone(this._demandTag.broadcastIdx,null,n,t):(this.fireErrorPixels(),this.on_js_demand_error(this._demandTag,this.getOptions(o({cc_i:this._demandTag.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.error,!0).join(","),response_time:this._cabinet.timeoutManager.getDemandTagResponseTime(this._demandTag.waterfallIdx,this._demandTag.broadcastIdx),reason:t,timeout:e,creative_type:this._creativeType},c.VID_IO_PARAMS.vastErrorCode,n)),null)),this._killState=c.KILL_STATES.STOPPED}},{key:"getOptions",value:function(t){return null!==this._adVast.ortb_detail?(0,l.default)(t,this._adVast.ortb_detail):null!==this._adVast.hbDetails?(0,l.default)(t,this._adVast.hbDetails):t}},{key:"getCreativeData",value:function(){return{AdParameters:this._adVast.adParameters}}},{key:"demandOpp",value:function(){var t=this.getCallChainIndicesDemandOpp();t&&this.on_js_demand_opportunity(this._demandTag,this.getOptions({cc_i:t,response_time:this._cabinet.timeoutManager.getDemandTagResponseTime(this._demandTag.waterfallIdx,this._demandTag.broadcastIdx),creative_type:this._creativeType}),null)}},{key:"getCallChainIndicesDemandOpp",value:function(){var t=this._cabinet.historyManager.demand_events.opportunity;return(h.isOpenmarketDemandTag(this._demandTag)?this._demandTag.callChain.getCallChainUpToPenultimateLinkReplacePenultimateLinkWithSupplyAndDemandTag():this._demandTag.callChain).getCallChainIndices(t,!1).join(",")}},{key:"killAd",value:function(t,n,i){var r=this;this.removeAllListeners();try{s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this)}catch(e){return void this.demandError(t,n,i)}this._onKillFn=function(){r._killState===c.KILL_STATES.KILLED&&r.demandError(t,n,i),clearTimeout(r._killAdTimeout)},this._killState=c.KILL_STATES.KILLED,this._killAdTimeout=setTimeout(this._onKillFn,this._cabinet.timeouts.CHILD_KILL_AD_TIMEOUT)}},{key:"load",value:function(){throw Error("DemandRequest::load must override")}},{key:"begin",value:function(t,e,n){var i=this,r=this._cabinet.timeoutManager.getDemandTagTimeoutInfo(this._demandTag.waterfallIdx,this._demandTag.broadcastIdx,null);if(0>=r.timeout)this.killAd(r.reason,!0,r.vec);else{this._ad=e,this.registerVpaidEventListeners_(this._ad),this._demandTagTimeout=setTimeout((function(){i.killAd(r.reason,!0,r.vec)}),r.timeout);try{this._ad.handshakeVersion(this._handshakeVersion)}catch(t){return void this.killAd(c.VD_ERROR_CODES.CHILD_HANDSHAKE_ERROR,!1,c.VAST_ERRORCODES.SS_VAST_ERRORCODE_1505)}try{this._ad.initAd(this._initParams.width,this._initParams.height,this._initParams.viewMode,this._initParams.desiredBitrate,t,n)}catch(t){return void this.killAd(c.VD_ERROR_CODES.CHILD_INIT_AD_ERROR,!1,c.VAST_ERRORCODES.SS_VAST_ERRORCODE_1506)}this.maybeInitializeAdVolume()}}},{key:"stopAd",value:function(){this.killAd(c.VD_ERROR_CODES.STOP_AD_CALLED,!1,c.VAST_ERRORCODES.SS_VAST_ERRORCODE_1513)}},{key:"maybeInitializeAdVolume",value:function(){try{this._ad&&this._ad.setAdVolume&&"function"==typeof this._ad.setAdVolume&&(this._hasSetAdVolume?this._ad.setAdVolume(this.getAdVolume()):(444788===this.cabinet.manifest.supplyTagId&&(this._volume=0),this._ad.setAdVolume(this._volume),this._hasSetAdVolume=!0))}catch(t){}}},{key:"onAdLoaded",value:function(){this.maybeInitializeAdVolume(),this.checkVideoSlotMutedAdNot(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdLoaded",this).call(this)}},{key:"onAdStarted",value:function(){this.maybeInitializeAdVolume(),this.checkVideoSlotMutedAdNot(),this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_CREATIVEVIEW,this._adVast.trackingEvents.creativeView),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStarted",this).call(this)}},{key:"onAdVideoStart",value:function(){this.maybeInitializeAdVolume(),this.on_js_start(this._demandTag,this.getOptions({time_on_page:this._cabinet.timeoutManager.timeOnPage,response_time:this._cabinet.timeoutManager.getDemandTagResponseTime(this._demandTag.waterfallIdx,this._demandTag.broadcastIdx),creative_type:this._creativeType,dtype:d.default.getDemandType(this._adVast),ctype:d.default.getCreativeTypeToDemandType(this._creativeType)}),null),this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_START,this._adVast.trackingEvents.start),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoStart",this).call(this)}},{key:"onAdImpression",value:function(){this.maybeInitializeAdVolume(),this.on_js_impression(this._demandTag,this.getOptions({time_on_page:this._cabinet.timeoutManager.timeOnPage,response_time:this._cabinet.timeoutManager.getDemandTagResponseTime(this._demandTag.waterfallIdx,this._demandTag.broadcastIdx),creative_type:this._creativeType,dtype:d.default.getDemandType(this._adVast),ctype:d.default.getCreativeTypeToDemandType(this._creativeType)}),null),clearTimeout(this._demandTagTimeout),this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_IMPRESSION,this._adVast.impressionPixels),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdImpression",this).call(this)}},{key:"onAdUserAcceptInvitation",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_ACCEPTINVITATION,this._adVast.trackingEvents.acceptInvitation),this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_ACCEPTINVITATIONLINEAR,this._adVast.trackingEvents.acceptInvitationLinear),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdUserAcceptInvitation",this).call(this)}},{key:"onAdUserMinimize",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_COLLAPSE,this._adVast.trackingEvents.collapse),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdUserMinimize",this).call(this)}},{key:"onAdUserClose",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_CLOSELINEAR,this._adVast.trackingEvents.closeLinear),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdUserClose",this).call(this)}},{key:"onAdClickThru",value:function(t,n,i){this.on_js_click(this._demandTag,this.getOptions({creative_type:this._creativeType}),null),this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_CLICKTRACKING,this._adVast.clickTracking),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdClickThru",this).call(this,t,n,i)}},{key:"onAdVideoFirstQuartile",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_FIRSTQUARTILE,this._adVast.trackingEvents.firstQuartile),this.on_js_first_quartile(this._demandTag,this._adVast.ortb_detail||{},null),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoFirstQuartile",this).call(this)}},{key:"onAdVideoMidpoint",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_MIDPOINT,this._adVast.trackingEvents.midpoint),this.on_js_midpoint(this._demandTag,this._adVast.ortb_detail||{},null),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoMidpoint",this).call(this)}},{key:"onAdVideoThirdQuartile",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_THIRDQUARTILE,this._adVast.trackingEvents.thirdQuartile),this.on_js_third_quartile(this._demandTag,this._adVast.ortb_detail||{},null),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoThirdQuartile",this).call(this)}},{key:"onAdVideoComplete",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_COMPLETE,this._adVast.trackingEvents.complete);var t=(0,_.default)(o({},c.VID_IO_PARAMS.adImpression,this.adVpaidState.isVpaidEvent(c.VPAID_EVENTS.AdImpression)?1:0),this._adVast.ortb_detail||{});this.on_js_complete(this._demandTag,t,null),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoComplete",this).call(this)}},{key:"onAdPaused",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_PAUSE,this._adVast.trackingEvents.pause),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdPaused",this).call(this)}},{key:"onAdPlaying",value:function(){this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_RESUME,this._adVast.trackingEvents.resume),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdPlaying",this).call(this)}},{key:"onAdVolumeChange",value:function(){var t=this.getAdVolume();this._volume===t&&this._volume===this._previousVolume||(this._volume=t,0===this._volume&&0<this._previousVolume&&this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_MUTE,this._adVast.trackingEvents.mute),0<this._volume&&0===this._previousVolume&&this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_UNMUTE,this._adVast.trackingEvents.unmute)),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVolumeChange",this).call(this),this.checkVideoSlotMutedAdNot()}},{key:"onAdStopped",value:function(){clearTimeout(this._killAdTimeout),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStopped",this).call(this),this.adVpaidState.isVpaidEvent(c.VPAID_EVENTS.AdImpression)||this._onKillFn()}},{key:"onAdSkipped",value:function(){clearTimeout(this._killAdTimeout),this.fireVastPixels(c.VAST_PIXEL_TYPES.VAST_SKIP,this._adVast.trackingEvents.skip),this.on_js_skip(this._demandTag,(0,l.default)({creative_type:this._creativeType},this._adVast.ortb_detail||{})),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdSkipped",this).call(this),this.adVpaidState.isVpaidEvent(c.VPAID_EVENTS.AdImpression)||this.demandError(c.VD_ERROR_CODES.AD_SKIPPED,!1,c.VAST_ERRORCODES.VAST_ERRORCODE_901)}},{key:"doOnAdError",value:function(t,n){clearTimeout(this._killAdTimeout),this.fireErrorPixels(),t=t||c.VD_ERROR_CODES.AD_ERROR,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this).call(this,t),this.adVpaidState.isVpaidEvent(c.VPAID_EVENTS.AdImpression)||this.demandError(t,!1,n)}},{key:"onAdError",value:function(t){this.doOnAdError(t,c.VAST_ERRORCODES.VAST_ERRORCODE_901)}},{key:"checkVideoSlotMutedAdNot",value:function(){this._adVidIoState.isVidIoEvent(c.VID_IO_EVENTS.js_volume_mismatch)||null===this._playerVolume||0!==this._playerVolume||0===this.getAdVolume()||this.on_js_volume_mismatch(this._demandTag)}}]),e}(r(n=n(60)).default),e.default=n},function(t,e,n){function i(t,e,n){var i=t.pimps;t=(i.s||{})[n]||[];var r=(i.d||{})[n]||[];n=(i.dc||{})[n]||[],i=e.supplyTagId;var a=e.demandTagId;return e=e.directConnectionId,-1<(0,o.default)(t,i)||-1<(0,o.default)(r,a)||-1<(0,o.default)(n,e)}function r(t,e,n){return t=(t.pimps.dc||{})[n]||[],e=e.directConnectionId,-1<(0,o.default)(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.shouldFireLink=i,e.shouldFireDCLink=r,e.shouldFire=function(t,e,n){e=e.callChain.callChainLinks;for(var r=0;r<e.length;r++)if(i(t,e[r],n))return!0;return!1},e.filterManifestKeys=function(t){if(t.hasOwnProperty("keys")){var e=[];return t.keys.forEach((function(n){t.passthru[n]?e.push(n+a.KEY_VAL_SEPARATOR+t.passthru[n]):e.push(n)})),e.join(a.KEYS_SEPARATOR)}return""},e.addsAppNameBundleToParams=function(t){var e={appName:"",appBundle:""};return t.hasOwnProperty("passthru")&&t.passthru&&(t.passthru.hasOwnProperty("app_name")&&(e.appName=(""+t.passthru.app_name).split(" ").join("_")),t.passthru.hasOwnProperty("app_bundle")&&(e.appBundle=(""+t.passthru.app_bundle).split(" ").join("_"))),e},e.addPostImpProviderToCallChain=function(t,e,n,o){e=e.callChain.callChainLinks;for(var s=[],u=0;u<e.length;u++){var l=e[u];i(t,l,n)?(0<u&&r(t,l,n)&&(s.pop(),s.push(e[u-1].toProviderUsedString(o))),s.push(l.toProviderUsedString(o))):s.push(l.toString())}return s.join(a.CALL_CHAIN_LINK_SEPARATOR)};var o=(t=n(63))&&t.__esModule?t:{default:t},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){var i=n(29),r=n(64),o=n(65);t.exports=function(t,e){return o(r(t,e,i),t+"")}},function(t,e){t.exports=function(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t}},function(t,e,n){t=n(72)(t);var i=n(6);n=n(134);var r=(e=e&&!e.nodeType&&e)&&"object"==typeof t&&t&&!t.nodeType&&t;i=r&&r.exports===e?i.Buffer:void 0,t.exports=(i?i.isBuffer:void 0)||n},function(t,e,n){e=n(135);var i=n(73);e=(n=(n=n(136))&&n.isTypedArray)?i(n):e,t.exports=e},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var i=n(66);t.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){e=n(15),n=e(n=n(6),"Map"),t.exports=n},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}e=n(154);var r=n(161),o=n(163),a=n(164);n=n(165),i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=o,i.prototype.has=a,i.prototype.set=n,t.exports=i},function(t,e){t.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},function(t,e,n){var i=n(4),r=n(27),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){e=n(91),n=n(195)(e),t.exports=n},function(t,e,n){var i=n(7),r=n(196);t.exports=function(t){return i(t)&&1===t.nodeType&&!r(t)}},function(t,e,n){var i=n(95),r=n(198),o=n(199);t.exports=function(t,e,n){return e==e?o(t,e,n):i(t,r,n)}},function(t,e,n){var i=n(9),r=n(4),o=n(7);t.exports=function(t){return"string"==typeof t||!r(t)&&o(t)&&"[object String]"==i(t)}},function(t,e,n){var i=n(9),r=n(7);t.exports=function(t){return"number"==typeof t||r(t)&&"[object Number]"==i(t)}},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.replaceDetectedMacros=function(t,e,n){return 0>n.indexOf("{{")?n:(null!==t&&(n=(n=(n=(n=n.replace(r.TRUST_BUT_VERIFY_MACROS.DETECTED_DOMAIN,t.domain_match)).replace(r.TRUST_BUT_VERIFY_MACROS.DETECTED_URL,encodeURIComponent(t.url))).replace(r.TRUST_BUT_VERIFY_MACROS.DETECTED_ENCODED_URL,encodeURIComponent(t.url))).replace(r.TRUST_BUT_VERIFY_MACROS.DETECTED_DOUBLE_ENCODED_URL,encodeURIComponent(encodeURIComponent(t.url)))),null!==e&&(n=(n=(n=(n=n.replace(r.TRUST_BUT_VERIFY_MACROS.DETECTED_HEIGHT,e.height)).replace(r.TRUST_BUT_VERIFY_MACROS.DETECTED_WIDTH,e.width)).replace(r.DEMAND_PARTNER_MACROS.D_HEIGHT,e.height)).replace(r.DEMAND_PARTNER_MACROS.D_WIDTH,e.width)),t=o.detector(),e=r.VIEWABILITY.UNINITIALIZED,null!==t&&(e=t.isInView),(n=(n=n.replace(r.TRUST_BUT_VERIFY_MACROS.DETECTED_IN_VIEW,e)).replace(r.TRUST_BUT_VERIFY_MACROS.DETECTED_IS_VISIBLE,e)).replace(/{{.*?}}/g,""))};var r=i(n(0)),o=i(n=n(16))},function(t,e,n){var i=n(82),r=n(211),o=n(13),a=n(4);t.exports=function(t,e){return(a(t)?i:r)(t,o(e,3))}},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=r(n(3)),s=i(n(0)),u=r(n(38)),l=i(n(1)),_=i(n(16)),d=r(n=n(20));n=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._cabinet=e,this._pixelError=this._pixelLoad=this._pixelInit=this._batchCount=0,this._eventListeners={},this._queue=[],this._flusherInterval=0,this.startFlusher()}return o(t,[{key:"startFlusher",value:function(){var t=this;this._flusherInterval=setInterval((function(){t.flush()}),this._cabinet.timeouts.PIXEL_QUEUE_FLUSH_INTERVAL_MS)}},{key:"killFlusher",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];0<this.queueLength&&t&&this.flush(),this.hasFlusher&&(clearInterval(this._flusherInterval),this._flusherInterval=0)}},{key:"enqueue",value:function(t){this._queue.push(t),this.hasFlusher||this.flush()}},{key:"flush",value:function(){var t=this;this.swapAndGetBatchAsync((function(e){e&&t.sendVidIoBatch(e)}))}},{key:"swapAndGetBatchAsync",value:function(t){var e=this,n=_.detector();n&&n.isInView===s.VIEWABILITY.UNINITIALIZED?setTimeout((function(){t(e.swapAndGetBatch(),!0)}),this._cabinet.timeouts.VIEWABILITY):t(this.swapAndGetBatch(),!1)}},{key:"swapAndGetBatch",value:function(){var t=this._swapQueue(),e=null;if(0<t.length){e=this._cabinet.pixelEventFactory.newBatch();for(var n=0;n<t.length;n++)e.addEvent(t[n])}return e}},{key:"_successFunc",value:function(){this._pixelLoad++,this.checkIsDone()}},{key:"_errorFunc",value:function(){this._pixelError++,this.checkIsDone()}},{key:"_fallBackToImages",value:function(t,e){var n=this;(0,a.default)(t.toImageUrls(),(function(t){e&&!t.includes("impression")||n.addImage(t)}))}},{key:"addImage",value:function(t){this._pixelInit++,l.addImage(document,t,this._successFunc.bind(this),this._errorFunc.bind(this))}},{key:"sendVidIoBatch",value:function(t){var e=this,n=void 0;try{n=t.toJson()}catch(e){return void this.onAjaxError(t,"UNEXPECTED_PIXEL_ERROR_CREATING_BATCH_"+e.message)}try{var i={batch:++this._batchCount};t.containsImp&&(i.imp=1);var r=t.getUrl(i),o=JSON.stringify(n);this._pixelInit++,this.callAjax(r,o,function n(r){return function(a,u){var l=t.getUrl(i,!0);e._pixelError++,a=500<=u.status&&600>u.status,r>=e._cabinet.timeouts.MAX_PIXEL_TRIES?a?e.onAjaxError(t,s.VD_ERROR_CODES.MAX_PIXEL_TRIES_EXCEEDED,!0):e.onAjaxError(t,s.VD_ERROR_CODES.MAX_PIXEL_TRIES_EXCEEDED):a?(e._pixelInit++,setTimeout((function(){try{e.callAjax(l,o,n(r+1))}catch(n){e.onAjaxError(t,n.message||s.VD_ERROR_CODES.PIXEL_SEND_ERROR)}}),e._cabinet.timeouts.PIXEL_WAIT*(r+1))):e.onAjaxError(t,s.VD_ERROR_CODES.XHR_NON_500)}}(0))}catch(e){this.onAjaxError(t,e.message||s.VD_ERROR_CODES.PIXEL_SEND_ERROR)}}},{key:"callAjax",value:function(t,e,n){u.default.ajax(t,new d.default(this._cabinet.timeouts.MAX_PIXEL_FIRE_TIMEOUT,s.VD_ERROR_CODES.PIXEL_FIRE_TIMEOUT),{success:this._successFunc.bind(this),error:n},e,{method:"POST",withCredentials:!0})}},{key:"onAjaxError",value:function(t,e){this._fallBackToImages(t,2<arguments.length&&void 0!==arguments[2]&&arguments[2]),this.addImage(t.getUrl({event:s.VID_IO_EVENTS.js_pixel_error,reason:e},!0))}},{key:"_swapQueue",value:function(){var t=this._queue;return this._queue=[],t}},{key:"checkIsDone",value:function(){this.isDone&&this.callPixelEvent(s.AD_PIXEL_EVENTS.DONE)}},{key:"callPixelEvent",value:function(t){if(this._eventListeners.hasOwnProperty(t)){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(e=0;e<this._eventListeners[t].length;e++)this._eventListeners[t][e].apply(this._eventListeners[t][e],n)}}},{key:"subscribe",value:function(t,e,n){this._eventListeners.hasOwnProperty(e)||(this._eventListeners[e]=[]),this._eventListeners[e].push(t.bind(n))}},{key:"unsubscribe",value:function(t){this._eventListeners&&this._eventListeners.hasOwnProperty(t)&&(this._eventListeners[t]=[])}},{key:"cabinet",get:function(){return this._cabinet}},{key:"hasFlusher",get:function(){return 0!==this._flusherInterval}},{key:"queueLength",get:function(){return this._queue.length}},{key:"isDone",get:function(){return 0===this.queueLength&&this._pixelInit===this._pixelLoad+this._pixelError}}],[{key:"getDemandTypeFromXhrReturnCode",value:function(t){return 204===t?s.DEMAND_TYPES.XHR_204_RESPONSE:400<=t&&500>t?s.DEMAND_TYPES.XHR_400_RESPONSE:500<=t&&600>t?s.DEMAND_TYPES.XHR_500_RESPONSE:s.DEMAND_TYPES.UNKNOWN}},{key:"getDemandType",value:function(t){return t.isJsVpaid&&t.isFlashVpaid?s.DEMAND_TYPES.BOTH:t.isJsVpaid?s.DEMAND_TYPES.JS_VPAID:t.isFlashVpaid?s.DEMAND_TYPES.FLASH_VPAID:t.isMedia||t.isXFLVMedia?s.DEMAND_TYPES.VIDEO:s.DEMAND_TYPES.UNKNOWN}},{key:"getCreativeTypeToDemandType",value:function(t){return t===s.CREATIVE_TYPES.MEDIA||t===s.CREATIVE_TYPES.XFLV?s.DEMAND_TYPES.VIDEO:t===s.CREATIVE_TYPES.FLASH_VPAID?s.DEMAND_TYPES.FLASH_VPAID:t===s.CREATIVE_TYPES.JS_VPAID?s.DEMAND_TYPES.JS_VPAID:s.DEMAND_TYPES.UNKNOWN}}]),t}(),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},u=r(t=n(3)),l=i(t=n(0)),_=i(t=n(1));t=r(t=n(224));var d=r(n(110)),c=r(n=n(230));n=function(t){function e(t,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdVd("+t+")",_.identityWrapper),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._receivedAdVidIoState=new c.default,t._adVidIoState=new c.default,t._receivedVpaidState=new d.default,t._ssEventListeners={},t._cabinet=n,t._initParams=i,t._vpaidEventQueue=[],t._vidIoEventQueue=[],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"onBroadcastVastReady",value:function(t){this.forwardSSEvent_(l.BROADCAST_EVENTS.VastReady,t)}},{key:"onBroadcastDone",value:function(){this.forwardSSEvent_(l.BROADCAST_EVENTS.Done)}},{key:"onBroadcastVastRequestTimerTimeout",value:function(){this.forwardSSEvent_(l.BROADCAST_EVENTS.VastRequestTimerTimeout)}},{key:"onSlotInitialized",value:function(t,e){this.forwardSSEvent_(l.SLOT_EVENTS.Initialized,t,e)}},{key:"onSlotVastDone",value:function(t,e){this.forwardSSEvent_(l.SLOT_EVENTS.VastDone,t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_opportunity",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_opportunity,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_cm_req_js_opp",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.cm_req_js_opp,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_cm_js_demand_req_resp",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.cm_js_demand_req_resp,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_demand_opportunity",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_demand_opportunity,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_demand_error",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_demand_error,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_pixel_error",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_pixel_error,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_demand_missed_opportunity",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_demand_missed_opportunity,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_impression",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_impression,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_supply_error",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_supply_error,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_click",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_click,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_first_quartile",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_first_quartile,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_midpoint",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_midpoint,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_third_quartile",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_third_quartile,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_complete",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_complete,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_skip",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_skip,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_unload",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_unload,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_volume_mismatch",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_volume_mismatch,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_warning",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_warning,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_openrtb_auction_win",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.openrtb_auction_win,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_openrtb_bidder_error",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.openrtb_bidder_error,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_tier_time",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_tier_time,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"on_js_start",value:function(){this.forwardVidIoEvent_(l.VID_IO_EVENTS.js_start,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"forwardSSEvent_",value:function(t){if(this._ssEventListeners.hasOwnProperty(t)){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(e=0;e<this._ssEventListeners[t].length;e++)this._ssEventListeners[t][e].apply(this._ssEventListeners[t][e],n)}}},{key:"pushVidIoEvent",value:function(t){this._vidIoEventQueue.push([t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,4<arguments.length&&void 0!==arguments[4]?arguments[4]:null]),this._receivedAdVidIoState.vidIoEventCount[t]++}},{key:"forwardVidIoEvent_",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;l.VID_IO_EVENTS.hasOwnProperty(t)&&(l.VID_IO_FINAL_EVENTS.hasOwnProperty(t)?this._receivedAdVidIoState.isVidIoDead||this.pushVidIoEvent(t,e,n,r,a):l.VID_IO_ONCE_EVENTS.hasOwnProperty(t)&&this._receivedAdVidIoState.isVidIoEvent(t)||this.pushVidIoEvent(t,e,n,r,a),e=this._vidIoEventQueue,this._vidIoEventQueue=[],(0,u.default)(e,(function(t){var e=t[0];e!==l.VID_IO_EVENTS.js_complete||i._receivedAdVidIoState.isVidIoEvent(l.VID_IO_EVENTS.js_impression)?(i._adVidIoState.vidIoEventCount[e]++,i.onForwardVidIoEvent.apply(i,o(t)),i.forwardSSEvent_.apply(i,o(t))):i._vidIoEventQueue.push(t)})))}},{key:"pushVpaidEvent",value:function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this._vpaidEventQueue.push([t].concat(n)),this._receivedVpaidState.vpaidEventCount[t]++}},{key:"forwardEvent_",value:function(t){var n=this;if(l.VPAID_EVENTS.hasOwnProperty(t)){for(var i=arguments.length,r=Array(1<i?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];l.VPAID_FINAL_EVENTS.hasOwnProperty(t)?this._receivedVpaidState.isAdDead||this.pushVpaidEvent.apply(this,[t].concat(r)):l.VPAID_ONCE_EVENTS.hasOwnProperty(t)&&this._receivedVpaidState.isVpaidEvent(t)||this.pushVpaidEvent.apply(this,[t].concat(r)),i=this._vpaidEventQueue,this._vpaidEventQueue=[],(0,u.default)(i,(function(t){var i;(i=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"forwardEvent_",n)).call.apply(i,[n].concat(o(t)))}))}}},{key:"registerSSEventListeners_",value:function(t){var e=this,n={js_opportunity:this.on_js_opportunity,cm_req_js_opp:this.on_cm_req_js_opp,cm_js_demand_req_resp:this.on_cm_js_demand_req_resp,js_demand_opportunity:this.on_js_demand_opportunity,js_demand_error:this.on_js_demand_error,js_pixel_error:this.on_js_pixel_error,js_demand_missed_opportunity:this.on_js_demand_missed_opportunity,js_impression:this.on_js_impression,js_supply_error:this.on_js_supply_error,js_click:this.on_js_click,js_first_quartile:this.on_js_first_quartile,js_midpoint:this.on_js_midpoint,js_third_quartile:this.on_js_third_quartile,js_complete:this.on_js_complete,js_skip:this.on_js_skip,js_unload:this.on_js_unload,js_volume_mismatch:this.on_js_volume_mismatch,js_warning:this.on_js_warning,openrtb_auction_win:this.on_openrtb_auction_win,openrtb_bidder_error:this.on_openrtb_bidder_error,js_tier_time:this.on_js_tier_time,js_start:this.on_js_start,Initialized:this.onSlotInitialized,VastDone:this.onSlotVastDone,VastReady:this.onBroadcastVastReady,Done:this.onBroadcastDone,VastRequestTimerTimeout:this.onBroadcastVastRequestTimerTimeout};_.forEachType(l.EVENT_TYPES,(function(i,r,o){t.subscribeSSEvent(n[o],o,e)}))}},{key:"unregisterSSEventListeners_",value:function(t){_.forEachType(l.EVENT_TYPES,(function(e,n,i){t.unsubscribeSSEvent(i)}))}},{key:"onForwardVidIoEvent",value:function(t){}},{key:"subscribeSSEvent",value:function(t,e,n){this._ssEventListeners.hasOwnProperty(e)||(this._ssEventListeners[e]=[]),this._ssEventListeners[e].push(t.bind(n))}},{key:"unsubscribeSSEvent",value:function(t){this._ssEventListeners.hasOwnProperty(t)&&(this._ssEventListeners[t]=[])}},{key:"cabinet",get:function(){return this._cabinet}},{key:"uuid",get:function(){return this._cabinet.uuid}},{key:"shortUuid",get:function(){return this._cabinet.shortUuid}},{key:"initParams",get:function(){return this._initParams}},{key:"adVidIoState",get:function(){return this._adVidIoState}}]),e}(t.default),e.default=n},function(t,e,n){var i=n(84),r=n(86),o=n(31),a=n(4),s=n(10),u=n(44),l=n(46),_=n(45),d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||_(t)||o(t)))return!t.length;var e=r(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(l(t))return!i(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=r(n(17)),u=r(n(19)),l=i(n(1)),_=i(n(0)),d=r(n(112)),c=r(n(59)),h=r(n(232)),p=i(n(57)),f=r(n(20));n=function(t){function e(t,n,i,r,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(n=(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdVastProcessor",t,n),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(n=!n||"object"!=typeof n&&"function"!=typeof n?this:n)._cabinet=t,n._demandTag=i,n._sizeInfo=r,n._hbDetails=o,n._wrapperCount=0,n._wrapperWaterfallCount=0,n._vastPixels=_.getDefaultVastPixels(),n._isOrtb=l.isOpenmarketDemandTag(i),n._ortbDetails=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"getXhr",value:function(t,e,n){var i=this,r=l.getRequestMethod(e,n);if(r){(n=r.xhr).responseType="document";try{"function"==typeof n.overrideMimeType&&n.overrideMimeType("text/xml")}catch(t){}return n.timeout=t.timeout,n.ontimeout=function(){i.demandResponseFail(!0,t.reason,_.VAST_ERRORCODES.SS_VEC_1302_HTTP_TIMEOUT)},n.onerror=function(){r.withCredentials?i.requestVast(e,!1):i.demandResponseFail(!1,_.VD_ERROR_CODES.XHR_ERROR,_.VAST_ERRORCODES.SS_VEC_1303_HTTP_ERROR)},n}this.demandResponseFail(!1,_.VD_ERROR_CODES.NO_XHR,_.VAST_ERRORCODES.SS_VEC_1304_NO_HTTP_RESPONSE)}},{key:"requestVast",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=this.getTimeoutInfo();0>=r.timeout?this.demandResponseFail(!0,r.reason,r.vec):(t=this._cabinet.replacePageProtocol(p.replaceDetectedMacros(this._cabinet.locationInfo,this._sizeInfo,null===t?this._demandTag.url:t)),r=this.getXhr(r,t,e),this.setXhrOnload(r,e,n,t,i),r.send())}},{key:"getVECNon200Status",value:function(t){return 400<=t&&500>t?_.VAST_ERRORCODES.SS_VEC_1305_4XX_HTTP_STATUS:500<=t&&600>t?_.VAST_ERRORCODES.SS_VEC_1306_5XX_HTTP_STATUS:_.VAST_ERRORCODES.SS_VEC_1307_OTHER_NON_200_HTTP_STATUS}},{key:"setXhrOnload",value:function(t,e,n,i,r){var o=this;t.onload=function(){try{if(200!==t.status)e?o.requestVast(i,!1,n):o.demandResponseFail(!1,_.VD_ERROR_CODES.BAD_XHR_STATUS+"_"+t.status,o.getVECNon200Status(t.status),c.default.getDemandTypeFromXhrReturnCode(t.status));else{var a=null;if(null!==t.responseXML)a=t.responseXML;else if("function"!=typeof t.overrideMimeType&&t.responseText)try{a=(new DOMParser).parseFromString(t.responseText,"application/xml")}catch(t){return void o.demandResponseFail(!1,_.VD_ERROR_CODES.DOM_PARSER_PARSE_FAILURE,_.VAST_ERRORCODES.VAST_ERRORCODE_100)}null===a?o.demandResponseFail(!1,_.VD_ERROR_CODES.RESPONSE_XML_NULL,_.VAST_ERRORCODES.VAST_ERRORCODE_100):o.processVast(a,i,n,r)}}catch(t){o.demandResponseFail(!1,_.VD_ERROR_CODES.VAST_ONLOAD_EXCEPTION+"_"+t.message,_.VAST_ERRORCODES.SS_VAST_ERRORCODE_1508)}}}},{key:"failOrSucceedPlayingMedia",value:function(t){t=new d.default(t);try{if(t.isJsVpaid||t.isMedia||t.isFlashVpaid||t.isXFLVMedia)if(t.isJsVpaid||t.hasPlayableMedia)this.demandResponseSuccess(t);else{var e=[];(t.isFlashVpaid||t.isXFLVMedia)&&e.push(_.VD_ERROR_CODES.FLASH_NOT_SUPPORTED),t.isMedia&&!t.hasPlayableMedia&&e.push(_.VD_ERROR_CODES.UNSUPPORTED_MEDIA),this.demandResponseFail(!1,e.join("_"),_.VAST_ERRORCODES.VAST_ERRORCODE_403,c.default.getDemandType(t),!0)}else this.demandResponseFail(!1,_.VD_ERROR_CODES.EMPTY_VAST,_.VAST_ERRORCODES.VAST_ERRORCODE_303,_.DEMAND_TYPES.EMPTY_VAST)}catch(t){this.demandResponseFail(!1,_.VD_ERROR_CODES.JS_DEMAND_RESPONSE_EXCEPTION+"_"+t.message,_.VAST_ERRORCODES.VAST_ERRORCODE_405,_.DEMAND_TYPES.UNKNOWN,!0)}}},{key:"playMedia",value:function(t){if(0<t.media.length){try{this._cabinet.autoplayVideoElementManager.videoSlot||this._cabinet.autoplayVideoElementManager.createNewVideoSlot()}catch(t){return void this.demandResponseFail(!1,_.VD_ERROR_CODES.CREATE_VIDEO_ELEMENT_EXCEPTION+"_"+t.message,_.VAST_ERRORCODES.VAST_ERRORCODE_405,_.DEMAND_TYPES.UNKNOWN,!0)}try{var e=this._cabinet.autoplayVideoElementManager.videoSlot;if(null===e)return void this.demandResponseFail(!1,_.VD_ERROR_CODES.CREATE_VIDEO_ELEMENT_LOGIC_ERROR,_.VAST_ERRORCODES.VAST_ERRORCODE_405,_.DEMAND_TYPES.UNKNOWN,!0);for(var n=0;n<t.media.length;n++)if(l.canPlayVideo(e,t.media[n])){t.hasPlayableMedia=!0;break}}catch(t){return void this.demandResponseFail(!1,_.VD_ERROR_CODES.CAN_PLAY_VIDEO_EXCEPTION+"_"+t.message,_.VAST_ERRORCODES.VAST_ERRORCODE_403,_.DEMAND_TYPES.UNKNOWN,!0)}}this.failOrSucceedPlayingMedia(t)}},{key:"processVast",value:function(t,n){var i=void 0;try{i=new h.default(this._isOrtb,n,t).findVideoAd(null===this._ortbDetails)}catch(t){return void this.demandResponseFail(!1,_.VD_ERROR_CODES.FIND_VIDEO_AD_EXCEPTION+"_"+t.message,_.VAST_ERRORCODES.SS_VAST_ERRORCODE_1511)}t=void 0;try{t=(0,s.default)({},i,e.extendPixels(this._vastPixels,i)),this._hbDetails&&(t.hbDetails=this._hbDetails),this._vastPixels.hasOwnProperty("ortb_detail")?t.ortb_detail=this._vastPixels.ortb_detail:this._ortbDetails&&(t.ortb_detail=this._ortbDetails),this._vastPixels=t}catch(t){return void this.demandResponseFail(!1,_.VD_ERROR_CODES.EXTEND_VAST_EXCEPTION+"_"+t.message,_.VAST_ERRORCODES.SS_VAST_ERRORCODE_1508)}this._isOrtb&&this.openrtbAuctionWin(t.ortb_detail),null!==t.wrapperUrl?(this._wrapperWaterfallCount+=t.wrapperWaterfallCount,this.wrapperCb(t.wrapperUrl)):this.playMedia(t)}},{key:"getTimeoutInfo",value:function(){return this._cabinet.timeoutManager.getTimeoutInfo(this._demandTag.waterfallIdx,[new f.default(this._cabinet.timeouts.WRAPPER_CHAIN_TIMEOUT-this._cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),_.VD_ERROR_CODES.WRAPPER_CHAIN_NO_TIME,_.VAST_ERRORCODES.SS_VEC_1309_WRAPPER_CHAIN_TIMEOUT),new f.default(this._cabinet.timeouts.VAST_TIMEOUT,_.VD_ERROR_CODES.VAST_TIMEOUT,_.VAST_ERRORCODES.SS_VEC_1308_VAST_TIMEOUT)])}},{key:"getCallChainIndicesDemandReqResponse",value:function(){return this._demandTag.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.response,!1).join(",")}},{key:"demandResponseFail",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:_.VAST_ERRORCODES.VAST_ERRORCODE_901,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:_.DEMAND_TYPES.UNKNOWN,r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],a=this.getCallChainIndicesDemandReqResponse();a&&this.on_cm_js_demand_req_resp(this._demandTag,(0,s.default)(o({cc_i:a,response_time:this._cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),wrapper_count:this._wrapperCount,has_ad:r,timeout:t,reason:e,dtype:i},_.VID_IO_PARAMS.vastErrorCode,n),this._hbDetails||{},this.wrapperWaterfallObj)),this.onSlotVastDone(this._demandTag.broadcastIdx,null)}},{key:"demandResponseSuccess",value:function(t){var e,n=this.getCallChainIndicesDemandReqResponse();n&&this.on_cm_js_demand_req_resp(this._demandTag,(0,s.default)((o(e={cc_i:n,response_time:this._cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),wrapper_count:this._wrapperCount,has_ad:!0,timeout:!1},_.VID_IO_PARAMS.vastVersion,t.version),o(e,"dtype",c.default.getDemandType(t)),e),t.ortb_detail||{},this._hbDetails||{},this.wrapperWaterfallObj));this.onSlotVastDone(this._demandTag.broadcastIdx,t)}},{key:"openrtbAuctionWin",value:function(t){var e=this._demandTag.callChain.getCallChainIndicesBidderEvents(this._cabinet.historyManager.demand_events.auctionWins);0<e.length&&this.on_openrtb_auction_win(this._demandTag,(0,s.default)({cc_i:e.join(",")},t))}},{key:"wrapperCb",value:function(t){this._wrapperCount++,this._wrapperCount>this._cabinet.timeouts.MAX_WRAPPERS?this.demandResponseFail(!1,_.VD_ERROR_CODES.TOO_MANY_WRAPPERS,_.VAST_ERRORCODES.VAST_ERRORCODE_302):(this._isOrtb=!1,this.requestVast(t,l.shouldUseWithCreds(t)))}},{key:"wrapperWaterfallObj",get:function(){var t={};return 0<this._wrapperWaterfallCount&&(t.wrapperWaterfalls=10<this._wrapperWaterfallCount?10:this._wrapperWaterfallCount),t}}],[{key:"extendPixels",value:function(t,e){var n={errorPixels:t.errorPixels.concat(e.errorPixels),impressionPixels:t.impressionPixels.concat(e.impressionPixels),clickTracking:t.clickTracking.concat(e.clickTracking),trackingEvents:{}};return(0,u.default)(t.trackingEvents,(function(t,i){n.trackingEvents[i]=[].concat(t,e.trackingEvents[i])})),n}}]),e}(r(n=n(107)).default),e.default=n},function(t,e,n){var i=n(54),r=n(28),o=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;return a?(0>(n=null==n?0:r(n))&&(n=o(a+n,0)),i(t,e,n)):-1}},function(t,e,n){var i=n(122),r=Math.max;t.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=r(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];for(a=-1,s=Array(e+1);++a<e;)s[a]=o[a];return s[e]=n(u),i(t,this,s)}}},function(t,e,n){e=n(123),n=n(131)(e),t.exports=n},function(t,e,n){e=n(15);t:{try{var i=e(Object,"defineProperty");i({},"",{});var r=i;break t}catch(t){}r=void 0}t.exports=r},function(t,e,n){var i=n(9),r=n(11);t.exports=function(t){return!!r(t)&&("[object Function]"==(t=i(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}},function(t,e,n){e=n(8),t.exports="object"==typeof e&&e&&e.Object===Object&&e},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}return t+""}return""}},function(t,e,n){var i=n(22),r=n(10),o=n(23),a=n(11);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?r(n)&&o(e,n.length):"string"==s&&e in n)&&i(n[e],t)}},function(t,e,n){var i=n(132),r=n(31),o=n(4),a=n(44),s=n(23),u=n(45),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n,_=o(t),d=!_&&r(t),c=!_&&!d&&a(t),h=!_&&!d&&!c&&u(t),p=(d=(_=_||d||c||h)?i(t.length,String):[]).length;for(n in t)!e&&!l.call(t,n)||_&&("length"==n||c&&("offset"==n||"parent"==n)||h&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||s(n,p))||d.push(n);return d}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var i=n(47),r=n(22),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&r(a,n)&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){function i(t){this.size=(this.__data__=new r(t)).size}var r=n(32);e=n(149);var o=n(150),a=n(151),s=n(152);n=n(153),i.prototype.clear=e,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=n,t.exports=i},function(t,e,n){var i=n(166),r=n(7);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:i(e,n,o,a,t,s))}},function(t,e,n){var i=n(78),r=n(169),o=n(79);t.exports=function(t,e,n,a,s,u){var l=1&n,_=t.length,d=e.length;if(_!=d&&!(l&&d>_))return!1;d=u.get(t);var c=u.get(e);if(d&&c)return d==e&&c==t;d=-1,c=!0;var h=2&n?new i:void 0;for(u.set(t,e),u.set(e,t);++d<_;){var p=t[d],f=e[d];if(a)var A=l?a(f,p,d,e,t,u):a(p,f,d,t,e,u);if(void 0!==A){if(A)continue;c=!1;break}if(h){if(!r(e,(function(t,e){if(!o(h,e)&&(p===t||s(p,t,n,a,u)))return h.push(e)}))){c=!1;break}}else if(p!==f&&!s(p,f,n,a,u)){c=!1;break}}return u.delete(t),u.delete(e),c}},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}var r=n(49);e=n(167),n=n(168),i.prototype.add=i.prototype.push=e,i.prototype.has=n,t.exports=i},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var i=n(50),r=n(4);t.exports=function(t,e,n){return e=e(t),r(t)?e:i(e,n(t))}},function(t,e,n){var i=n(82);e=n(83);var r=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;t.exports=o?function(t){return null==t?[]:(t=Object(t),i(o(t),(function(e){return r.call(t,e)})))}:e},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var i=n(46),r=n(176),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return r(t);var e,n=[];for(e in Object(t))o.call(t,e)&&"constructor"!=e&&n.push(e);return n}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){e=n(177);var i=n(48),r=n(178),o=n(179),a=n(180),s=n(9),u=n(69),l=u(e),_=u(i),d=u(r),c=u(o),h=u(a);n=s,(e&&"[object DataView]"!=n(new e(new ArrayBuffer(1)))||i&&"[object Map]"!=n(new i)||r&&"[object Promise]"!=n(r.resolve())||o&&"[object Set]"!=n(new o)||a&&"[object WeakMap]"!=n(new a))&&(n=function(t){var e=s(t);if(t=(t="[object Object]"==e?t.constructor:void 0)?u(t):"")switch(t){case l:return"[object DataView]";case _:return"[object Map]";case d:return"[object Promise]";case c:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=n},function(t,e,n){var i=n(11);t.exports=function(t){return t==t&&!i(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var i=n(187);t.exports=function(t){return null==t?"":i(t)}},function(t,e,n){var i=n(188),r=n(189);t.exports=function(t,e){return null!=t&&r(t,e,i)}},function(t,e,n){var i=n(92),r=n(25);t.exports=function(t,e){return t&&i(t,e,r)}},function(t,e,n){e=n(194)(),t.exports=e},function(t,e,n){e=n(85)(Object.getPrototypeOf,Object),t.exports=e},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.NO_TIMEOUT;return t.hasOwnProperty("to")&&0<t.to?t.to:e}function a(t){return!!(0,h.default)(t)||t.hasOwnProperty("url")&&(0,h.default)(t.url)&&t.hasOwnProperty("format")&&(0,u.default)(f.PIXEL_FORMATS,t.format)}Object.defineProperty(e,"__esModule",{value:!0}),e.getTimeoutFromObj=o,e.getPixelUrlsByEvent=function(t,e){if(t&&t.hasOwnProperty("pixels")&&null!==t.pixels){if(e)return t.pixels.hasOwnProperty(e)?t.pixels[e]:null;throw Error(f.VD_ERROR_CODES.PIXEL_NO_EVENT_ERROR)}return null},e.isValidPixel=a,e.parse=function(t){if(t.dbg=t.db||!1,t.hasOwnProperty("passthru")&&!(0,_.default)(t.passthru))throw Error(f.MANIFEST_PARSE_ERRORS.PASSTHRU);if(t.hasOwnProperty("urlparams")&&!(0,_.default)(t.urlparams))throw Error(f.MANIFEST_PARSE_ERRORS.URLPARAMS);if(t.hasOwnProperty("pixels")&&null!==t.pixels){if(!(0,_.default)(t.pixels))throw Error(f.MANIFEST_PARSE_ERRORS.PIXELS_OBJECT);var e,n=t.pixels;for(e in n)if(n.hasOwnProperty(e)){if(!f.MANIFEST_PIXEL_EVENTS.hasOwnProperty(e))throw Error(f.MANIFEST_PARSE_ERRORS.PIXELS_INVALID_EVENT);if(!(0,d.default)(n[e]))throw Error(f.MANIFEST_PARSE_ERRORS.PIXELS_ARRAY);for(var i=n[e],r=0;r<i.length;r++)if(!a(i[r]))throw Error(f.MANIFEST_PARSE_ERRORS.PIXELS_URL)}}if(t.hasOwnProperty("td")&&!(0,c.default)(t.td))throw Error(f.MANIFEST_PARSE_ERRORS.TD);if(t.hasOwnProperty("ts")&&!(0,c.default)(t.ts))throw Error(f.MANIFEST_PARSE_ERRORS.TS);if(!t.hasOwnProperty("uuid")||!(0,h.default)(t.uuid))throw Error(f.MANIFEST_PARSE_ERRORS.UUID);if(!t.hasOwnProperty("ssid")||!(0,h.default)(t.ssid))throw Error(f.MANIFEST_PARSE_ERRORS.SSID);if(!t.hasOwnProperty("secure")||!(0,c.default)(t.secure))throw Error(f.MANIFEST_PARSE_ERRORS.SECURE);if(!t.hasOwnProperty("aid")||!(0,p.default)(t.aid))throw Error(f.MANIFEST_PARSE_ERRORS.AID);if(!t.hasOwnProperty("country")||!(0,h.default)(t.country))throw Error(f.MANIFEST_PARSE_ERRORS.COUNTRY);if(t.hasOwnProperty("pimps")){if(!(0,_.default)(t.pimps))throw Error(f.MANIFEST_PARSE_ERRORS.PIMPS);if(t.pimps.hasOwnProperty("w_pv")&&!(0,h.default)(t.pimps.w_pv))throw Error(f.MANIFEST_PARSE_ERRORS.SSC_PV);if(t.pimps.hasOwnProperty("w_to")&&!(0,p.default)(t.pimps.w_to))throw Error(f.MANIFEST_PARSE_ERRORS.SSC_TO)}if(t.hasOwnProperty("schain")&&!(0,_.default)(t.schain))throw Error(f.MANIFEST_PARSE_ERRORS.SCHAIN);if(t.hasOwnProperty("pchain")&&!(0,h.default)(t.pchain))throw Error(f.MANIFEST_PARSE_ERRORS.PCHAIN);for(n=[],i=e=0;i<t.dx.length;i++){r=t.dx[i],n.push([]);for(var u=0;u<r.length;u++){e++;var R=r[u];if(R.hasOwnProperty("url")){if(!(0,h.default)(R.url))throw Error(f.MANIFEST_PARSE_ERRORS.WATERFALL_URL);if(A.isUrlPrefix(f.DOUBLECLICK_URLS,R.url))if(t.hasOwnProperty("ima")&&+t.ima)R.bid_platform=f.BID_PLATFORMS.ima;else{var O="http";R.url.startsWith("https")&&(O="https");var y="&type=all";0<R.url.indexOf("&type=")&&(y=R.url.substr(R.url.indexOf("&type="))),R.url=O+"://tpc.googlesyndication.com/ima3vpaid?vad_format=linear&adtagurl="+encodeURIComponent(R.url)+y}}if(A.isOpenmarketDemandTag(R)&&(R.bid_platform=f.BID_PLATFORMS.ortb),!R.hasOwnProperty("a_cc")||!(0,h.default)(R.a_cc))throw Error(f.MANIFEST_PARSE_ERRORS.WATERFALL_A_CC);for(O=new E.default(R.a_cc),y=0;y<O.callChainLinks.length;y++);if(R.hasOwnProperty("td")&&!(0,c.default)(R.td))throw Error(f.MANIFEST_PARSE_ERRORS.WATERFALL_TD);if(R.hasOwnProperty("ts")&&!(0,c.default)(R.ts))throw Error(f.MANIFEST_PARSE_ERRORS.WATERFALL_TS);if(R.hasOwnProperty("pixels")&&null!==R.pixels){if(!(0,_.default)(R.pixels))throw Error(f.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_OBJECT);for(var v in y=R.pixels)if(y.hasOwnProperty(v)){if(!f.VPAID_EVENTS.hasOwnProperty(v)&&!f.EXTRA_PIXEL_EVENTS.hasOwnProperty(v))throw Error(f.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_VPAID_EVENT);if(!(0,d.default)(y[v]))throw Error(f.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_ARRAY);for(var S=y[v],m=0;m<S.length;m++)if(!a(S[m]))throw Error(f.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_URL)}}R.hasOwnProperty("passthru")&&R.passthru.hasOwnProperty("_t1")&&0<parseInt(R.passthru._t1)?R.tier=parseInt(R.passthru._t1):R.tier=i+1,n[i].push((0,s.default)({waterfallIdx:i,broadcastIdx:u,callChain:O},R,{td:!1,ts:!1,pixels:null}))}}if(t.sync_percent=t.sync_percent||.05,t.hasOwnProperty("dto")){if(!(0,_.default)(t.dto))throw Error(f.MANIFEST_PARSE_ERRORS.DTO_OBJECT);(0,l.default)(t.dto,(function(t,e){if(!(0,h.default)(e))throw Error(f.MANIFEST_PARSE_ERRORS.DTO_KEY_STRING);if(0>=parseInt(e))throw Error(f.MANIFEST_PARSE_ERRORS.DTO_KEY_POS);if(!(0,p.default)(t))throw Error(f.MANIFEST_PARSE_ERRORS.DTO_VALUE_INT);if(0>=parseInt(t))throw Error(f.MANIFEST_PARSE_ERRORS.DTO_VALUE_POS)}))}return(0,s.default)({timeout:o(t),numWaterfalls:t.dx.length,numTags:e,dx:n,enableFlashIframe:!0},t,{pixels:null,ef:!1,td:!1,ts:!1,urlparams:null,passthru:null,pimps:{}})};var s=r(n(5)),u=r(n(197)),l=r(n(3)),_=r(n(11)),d=r(n(4)),c=r(n(98)),h=r(n(55)),p=r(n(205)),f=i(n(0)),A=i(n(1)),E=r(n=n(100))},function(t,e){t.exports=function(t,e,n,i){var r=t.length;for(n+=i?1:-1;i?n--:++n<r;)if(e(t[n],n,t))return n;return-1}},function(t,e,n){var i=n(203),r=n(25);t.exports=function(t){return null==t?[]:i(t,r(t))}},function(t,e,n){var i=n(29);t.exports=function(t){return"function"==typeof t?t:i}},function(t,e,n){var i=n(9),r=n(7);t.exports=function(t){return!0===t||!1===t||r(t)&&"[object Boolean]"==i(t)}},function(t,e,n){e=n(206),n=e(n=n(207)),t.exports=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=(t=n(210))&&t.__esModule?t:{default:t},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");if(/[^0-9a-z\-_.]/.test(e))throw Error(o.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN);this._callChainLinks=[],e=e.split(o.CALL_CHAIN_LINK_SEPARATOR);for(var n=0;n<e.length;n++){var i=e[n].split(o.CALL_CHAIN_VARIABLE_SEPARATOR);if(2>i.length)throw Error(o.CALL_CHAIN_ERRORS.NOT_A_VALID_CALL_CHAIN_LINK);for(var a,s,u=0,l=[],_=0;_<i.length;_++){if(2!==(a=i[_].split(o.CALL_CHAIN_VARIABLE_ID_SEPARATOR)).length)throw Error(o.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_LINK_GENERAL);if(s=a[0],a=parseInt(a[1]),isNaN(a)||0===a)throw Error(o.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_ID);if(/[^a-z]/.test(s)||1>s.length)throw Error(o.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_TAG);switch(s){case o.CALL_CHAIN_IDENTIFIERS.SUPPLY:u=a;break;default:l.push({id:a,tag:s})}}if(0===u)throw Error(o.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG);this._callChainLinks.push(new r.default(u,l))}}return i(t,[{key:"toString",value:function(){return this.callChainLinkStrings.join(o.CALL_CHAIN_LINK_SEPARATOR)}},{key:"toVidIoString",value:function(){return this.vidIoCallChainLinkStrings.join(o.CALL_CHAIN_LINK_SEPARATOR)}},{key:"getCurrentCallChainBySupplyTag",value:function(t,e){for(var n=0;n<this._callChainLinks.length;n++)if(this._callChainLinks[n].supplyTagId===t)return e?this.callChainLinkStrings.slice(0,n+1).join(o.CALL_CHAIN_LINK_SEPARATOR):(e=this.callChainLinkStrings.slice(0,n).join(o.CALL_CHAIN_LINK_SEPARATOR))+(0<e.length?o.CALL_CHAIN_LINK_SEPARATOR:"")+o.CALL_CHAIN_IDENTIFIERS.SUPPLY+o.CALL_CHAIN_VARIABLE_ID_SEPARATOR+t;throw Error(o.CALL_CHAIN_ERRORS.NO_SUPPLY_TAG_FOUND)}},{key:"getCallChainIndices",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=[],i=this.callChainLinks,r=i.length,o=0;o<r;o++){var a=this.getCurrentCallChainBySupplyTag(i[o].supplyTagId,!0);(!t.hasOwnProperty(a)||e&&o===r-1)&&(t[a]=!0,n.push(o))}return n}},{key:"getCallChainLastTwoIndices",value:function(){return 2>this.callChainLinks.length?[0]:[this.callChainLinks.length-2,this.callChainLinks.length-1]}},{key:"getCallChainPenultimateIndex",value:function(){return 2>this.callChainLinks.length?[0]:[this.callChainLinks.length-2]}},{key:"getCallChainUpToPenultimateLinkReplacePenultimateLinkWithSupplyAndDemandTag",value:function(){if(2>this.callChainLinks.length)return this;var e=this.callChainLinkStrings;return e.length-=2,e.push(this.callChainLinks[this.getCallChainPenultimateIndex()].toStringDemandAndSupply()),new t(e.join(o.CALL_CHAIN_LINK_SEPARATOR))}},{key:"getCallChainLastTwoLinks",value:function(){return 2>this.length?this:new t(this.callChainLinkStrings[this.getCallChainPenultimateIndex()]+"_"+this.getLastLink().toString())}},{key:"getLastLink",value:function(){return this.callChainLinks[this.callChainLinks.length-1]}},{key:"getSupplyTagHistory",value:function(t){for(var e=[],n=this.callChainLinks,i=0;i<n.length;i++){var r=this.getCurrentCallChainBySupplyTag(n[i].supplyTagId,!1);t.hasOwnProperty(r)||(t[r]=!0,e.push(i))}return e}},{key:"getCallChainIndicesBidderEvents",value:function(t){var e=this;return this.getCallChainLastTwoLinks().getCallChainIndices(t,!1).map((function(t){return t+e.length-2}))}},{key:"callChainLinks",get:function(){return this._callChainLinks}},{key:"callChainLinkStrings",get:function(){for(var t=[],e=0;e<this._callChainLinks.length;e++)t.push(this._callChainLinks[e].toString());return t}},{key:"vidIoCallChainLinkStrings",get:function(){for(var t=[],e=0;e<this._callChainLinks.length;e++)t.push(this._callChainLinks[e].toVidIoString());return t}},{key:"length",get:function(){return this.callChainLinks.length}}]),t}(),e.default=n},function(t,e){var n=Array.prototype.join;t.exports=function(t,e){return null==t?"":n.call(t,e)}},function(t,e,n){function i(t){return t?t.replace(/^\?/,"").split("&").reduce((function(t,e){e=e.split("=");var n=o(e,2);return e=n[0],n=n[1],/\[\]$/.test(e)?(t[e=e.replace("[]","")]=t[e]||[],t[e].push(n)):t[e]=n||"",t}),{}):{}}function r(t){return Object.keys(t).map((function(e){return Array.isArray(t[e])?t[e].map((function(t){return e+"[]="+t})).join("&"):e+"="+t[e]})).join("&")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.parseQS=i,e.formatQS=r,e.parse=function(t,e){var n=document.createElement("a");return n.href=e&&"noDecodeWholeURL"in e&&e.noDecodeWholeURL?t:decodeURIComponent(t),{protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:i(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},e.format=function(t){return(t.protocol||"http")+"://"+(t.host||t.hostname+(t.port?":"+t.port:""))+(t.pathname||"")+(t.search?"?"+r(t.search||""):"")+(t.hash?"#"+t.hash:"")},e.resolve=function(t,e){var n=document.getElementsByTagName("base")[0],i=n&&n.href,r=document.head||document.getElementsByTagName("head")[0]||document.body||document.getElementsByTagName("body")[0],o=n||r.appendChild(document.createElement("base")),a=document.createElement("a");return o.href=t,a.href=e,t=a.href,n?n.href=i:r.removeChild(o),t}},function(t,e,n){var i=n(214),r=n(215),o=n(13);t.exports=function(t,e){return t&&t.length?i(t,o(e,2),r):void 0}},function(t,e,n){var i=n(218);e=n(220)((function(t,e){return null==t?{}:i(t,e)})),t.exports=e},function(t,e,n){var i=n(36),r=n(219),o=n(26);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var l=e[a],_=i(t,l);n(_,l)&&r(u,o(l,t),_)}return u}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(t){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var t=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?this:t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"initialize",value:function(){}}]),e}(((t=n(107))&&t.__esModule?t:{default:t}).default),e.default=t},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(t){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var t=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?this:t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"requestVast",value:function(t){}},{key:"finishVastRequest",value:function(t){}},{key:"isVastPending",get:function(){throw Error("AdVastRequestor::isVastPending must override")}},{key:"isRequestingVpaid",get:function(){throw Error("AdVastRequestor::isRequestingVpaid must override")}}]),e}(((t=n(60))&&t.__esModule?t:{default:t}).default),e.default=t},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(n(12)),a=i(n(17));i(n(109));var s=i(n(3)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),l=i(n(110)),_=i(n=n(111));n=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._name="AdVpaid("+e+")",this._adVpaidState=new l.default,this._playerEventListeners={},this._volume=this._previousVolume=u.DEFAULT_VOLUME,this._playerVolume=null,this._handshakeVersion=u.HANDSHAKE_VERSION_2_0,this._initParams=_.default.getDefault(),this._creativeData=null,this._slotListeners={},this._videoSlotListeners={}}return r(t,[{key:"forwardEvent_",value:function(t){if(u.VPAID_EVENTS.hasOwnProperty(t)){this._adVpaidState.vpaidEventCount[t]++;for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.doForwardAndDispatchEvent.apply(this,[t].concat(n))}}},{key:"onAdStarted",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdStarted].concat(e))}},{key:"onAdStopped",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdStopped].concat(e))}},{key:"onAdSkipped",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdSkipped].concat(e))}},{key:"onAdLoaded",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdLoaded].concat(e))}},{key:"onAdLinearChange",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdLinearChange].concat(e))}},{key:"onAdSizeChange",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdSizeChange].concat(e))}},{key:"onAdExpandedChange",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdExpandedChange].concat(e))}},{key:"onAdSkippableStateChange",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdSkippableStateChange].concat(e))}},{key:"onAdDurationChange",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdDurationChange].concat(e))}},{key:"onAdRemainingTimeChange",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdRemainingTimeChange].concat(e))}},{key:"onAdVolumeChange",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdVolumeChange].concat(e))}},{key:"onAdImpression",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdImpression].concat(e))}},{key:"onAdClickThru",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdClickThru].concat(e))}},{key:"onAdInteraction",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdInteraction].concat(e))}},{key:"onAdVideoStart",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdVideoStart].concat(e))}},{key:"onAdVideoFirstQuartile",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdVideoFirstQuartile].concat(e))}},{key:"onAdVideoMidpoint",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdVideoMidpoint].concat(e))}},{key:"onAdVideoThirdQuartile",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdVideoThirdQuartile].concat(e))}},{key:"onAdVideoComplete",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdVideoComplete].concat(e))}},{key:"onAdUserAcceptInvitation",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdUserAcceptInvitation].concat(e))}},{key:"onAdUserMinimize",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdUserMinimize].concat(e))}},{key:"onAdUserClose",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdUserClose].concat(e))}},{key:"onAdPaused",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdPaused].concat(e))}},{key:"onAdPlaying",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdPlaying].concat(e))}},{key:"onAdError",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdError].concat(e))}},{key:"onAdLog",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.forwardEvent_.apply(this,[u.VPAID_EVENTS.AdLog].concat(e))}},{key:"handshakeVersion",value:function(t){try{t&&(1<(t=""+t).length&&2===parseInt(t[0])&&(this._handshakeVersion=t))}catch(t){}return this._handshakeVersion}},{key:"initAd",value:function(t,e,n,i,r,o){this._initParams.width=t,this._initParams.height=e,this._initParams.viewMode=n,this._initParams.desiredBitrate=i,this._initParams.environmentVars=o,this._creativeData=r,this._adVpaidState.isInitAd=!0}},{key:"resizeAd",value:function(t,e,n){this._initParams.width=t,this._initParams.height=e,this._initParams.viewMode=n}},{key:"startAd",value:function(){this._adVpaidState.isStartAd=!0}},{key:"stopAd",value:function(){this._adVpaidState.isStopAd=!0}},{key:"pauseAd",value:function(){}},{key:"resumeAd",value:function(){}},{key:"expandAd",value:function(){}},{key:"collapseAd",value:function(){}},{key:"skipAd",value:function(){this._adVpaidState.isSkipAd=!0}},{key:"getAdVolumeInternal",value:function(){return this._volume}},{key:"getAdVolume",value:function(){return this.getAdVolumeInternal()}},{key:"setAdVolumeInternal",value:function(t){this._previousVolume=this._volume,this._volume=t}},{key:"setAdVolume",value:function(t){this._playerVolume=t,this.setAdVolumeInternal(t)}},{key:"getAdExpanded",value:function(){return u.VPAID_DEFAULTS.getAdExpanded}},{key:"getAdCompanions",value:function(){return u.VPAID_DEFAULTS.getAdCompanions}},{key:"getAdDuration",value:function(){return u.VPAID_DEFAULTS.getAdDuration}},{key:"getAdHeight",value:function(){return this._initParams.height}},{key:"getAdWidth",value:function(){return this._initParams.width}},{key:"getAdViewMode",value:function(){return this._initParams.viewMode}},{key:"getAdIcons",value:function(){return u.VPAID_DEFAULTS.getAdIcons}},{key:"getAdLinear",value:function(){return u.VPAID_DEFAULTS.getAdLinear}},{key:"getAdRemainingTime",value:function(){return u.VPAID_DEFAULTS.getAdRemainingTime}},{key:"getAdSkippableState",value:function(){return u.VPAID_DEFAULTS.getAdSkippableState}},{key:"addSlotEventListener_",value:function(t,e){this._slotListeners.hasOwnProperty(t)||(this._slotListeners[t]=[]),this._slotListeners[t].push(e),this._initParams.environmentVars.slot.addEventListener(t,e,!1)}},{key:"removeSlotEventListener_",value:function(t,e){var n=this;this._initParams.environmentVars.slot.removeEventListener(t,e,!1),this._slotListeners.hasOwnProperty(t)&&(0,s.default)(this._slotListeners[t],(function(i,r){i===e&&n._slotListeners[t].splice(r,1)}))}},{key:"addVideoSlotEventListener_",value:function(t,e){this._videoSlotListeners.hasOwnProperty(t)||(this._videoSlotListeners[t]=[]),this._videoSlotListeners[t].push(e),this._initParams.environmentVars.videoSlot.addEventListener(t,e,!1)}},{key:"removeVideoSlotEventListener_",value:function(t,e){var n=this;this._initParams.environmentVars.videoSlot&&this._initParams.environmentVars.videoSlot.removeEventListener(t,e,!1),this._videoSlotListeners.hasOwnProperty(t)&&(0,s.default)(this._videoSlotListeners[t],(function(i,r){i===e&&n._videoSlotListeners[t].splice(r,1)}))}},{key:"removeAllListeners",value:function(){var t=this;(0,o.default)((0,a.default)({},this._videoSlotListeners),(function(e,n){(0,s.default)(e,(function(e){t.removeVideoSlotEventListener_(n,e)}))})),(0,o.default)((0,a.default)({},this._slotListeners),(function(e,n){(0,s.default)(e,(function(e){t.removeSlotEventListener_(n,e)}))}))}},{key:"registerVpaidEventListeners_",value:function(t){var e=this,n=this,i={AdStarted:function(){n.onAdStarted.apply(n,arguments)},AdStopped:function(){n.onAdStopped.apply(n,arguments)},AdSkipped:function(){n.onAdSkipped.apply(n,arguments)},AdLoaded:function(){n.onAdLoaded.apply(n,arguments)},AdLinearChange:function(){n.onAdLinearChange.apply(n,arguments)},AdSizeChange:function(){n.onAdSizeChange.apply(n,arguments)},AdExpandedChange:function(){n.onAdExpandedChange.apply(n,arguments)},AdSkippableStateChange:function(){n.onAdSkippableStateChange.apply(n,arguments)},AdDurationChange:function(){n.onAdDurationChange.apply(n,arguments)},AdRemainingTimeChange:function(){n.onAdRemainingTimeChange.apply(n,arguments)},AdVolumeChange:function(){n.onAdVolumeChange.apply(n,arguments)},AdImpression:function(){n.onAdImpression.apply(n,arguments)},AdClickThru:function(){n.onAdClickThru.apply(n,arguments)},AdInteraction:function(){n.onAdInteraction.apply(n,arguments)},AdVideoStart:function(){n.onAdVideoStart.apply(n,arguments)},AdVideoFirstQuartile:function(){n.onAdVideoFirstQuartile.apply(n,arguments)},AdVideoMidpoint:function(){n.onAdVideoMidpoint.apply(n,arguments)},AdVideoThirdQuartile:function(){n.onAdVideoThirdQuartile.apply(n,arguments)},AdVideoComplete:function(){n.onAdVideoComplete.apply(n,arguments)},AdUserAcceptInvitation:function(){n.onAdUserAcceptInvitation.apply(n,arguments)},AdUserMinimize:function(){n.onAdUserMinimize.apply(n,arguments)},AdUserClose:function(){n.onAdUserClose.apply(n,arguments)},AdPaused:function(){n.onAdPaused.apply(n,arguments)},AdPlaying:function(){n.onAdPlaying.apply(n,arguments)},AdError:function(){n.onAdError.apply(n,arguments)},AdLog:function(){n.onAdLog.apply(n,arguments)}};(0,s.default)(u.VPAID_EVENTS,(function(n){t.subscribe(i[n],n,e)}))}},{key:"unregisterVpaidEventListeners_",value:function(t){(0,s.default)(u.VPAID_EVENTS,(function(e){t.unsubscribe(e)}))}},{key:"doForwardAndDispatchEvent",value:function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.dispatchEvent.apply(this,[t].concat(n))}},{key:"dispatchEvent",value:function(t){if(this._playerEventListeners.hasOwnProperty(t)){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(e=0;e<this._playerEventListeners[t].length;e++)this._playerEventListeners[t][e].apply(this._playerEventListeners[t][e],n)}}},{key:"subscribe",value:function(t,e,n){this._playerEventListeners.hasOwnProperty(e)||(this._playerEventListeners[e]=[]),this._playerEventListeners[e].push(t.bind(n))}},{key:"unsubscribe",value:function(t){this._playerEventListeners&&this._playerEventListeners.hasOwnProperty(t)&&(this._playerEventListeners[t]=[])}},{key:"name",get:function(){return this._name}},{key:"uuid",get:function(){return null}},{key:"shortUuid",get:function(){return null}},{key:"adVpaidState",get:function(){return this._adVpaidState}}]),t}(),e.default=n},function(t,e,n){var i=n(13),r=n(225);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var o=-1,a=[],s=t.length;for(e=i(e,3);++o<s;){var u=t[o];e(u,o,t)&&(n.push(u),a.push(o))}return r(t,a),n}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=(t=n(19))&&t.__esModule?t:{default:t},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._isSkipAd=this._isStopAd=this._isStartAd=this._isInitAd=!1,this._vpaidEventCount=(0,r.default)(o.VPAID_EVENTS,(function(){return 0}))}return i(t,[{key:"isVpaidEvent",value:function(t){return this._vpaidEventCount.hasOwnProperty(t)&&0<this._vpaidEventCount[t]}},{key:"isKilledAd",get:function(){return this._isStopAd||this._isSkipAd}},{key:"isAdDead",get:function(){return this.isVpaidEvent(o.VPAID_EVENTS.AdStopped)||this.isVpaidEvent(o.VPAID_EVENTS.AdError)}},{key:"isDead",get:function(){return this.isKilledAd||this.isAdDead||this.isVpaidEvent(o.VPAID_EVENTS.AdSkipped)}},{key:"isContinue",get:function(){return!this.isDead&&!this.isVpaidEvent(o.VPAID_EVENTS.AdImpression)}},{key:"isInitAd",get:function(){return this._isInitAd},set:function(t){this._isInitAd=t}},{key:"isStartAd",get:function(){return this._isStartAd},set:function(t){this._isStartAd=t}},{key:"isStopAd",get:function(){return this._isStopAd},set:function(t){this._isStopAd=t}},{key:"isSkipAd",get:function(){return this._isSkipAd},set:function(t){this._isSkipAd=t}},{key:"vpaidEventCount",get:function(){return this._vpaidEventCount}}]),t}(),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));t=function(){function t(e,n,i,r,o){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._width=e,this._height=n,this._viewMode=i,this._desiredBitrate=r,this._environmentVars=o}return i(t,null,[{key:"getDefault",value:function(){return new t(r.VPAID_DEFAULTS.getAdWidth,r.VPAID_DEFAULTS.getAdHeight,r.VPAID_DEFAULTS.getAdViewMode,null,null)}}]),i(t,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"viewMode",get:function(){return this._viewMode},set:function(t){this._viewMode=t}},{key:"desiredBitrate",get:function(){return this._desiredBitrate},set:function(t){this._desiredBitrate=t}},{key:"environmentVars",get:function(){return this._environmentVars},set:function(t){this._environmentVars=t}}]),t}(),e.default=t},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=(t=n(231))&&t.__esModule?t:{default:t};t=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._version=e.version,this._hbDetails=e.hbDetails,this._wrapperUrl=e.wrapperUrl,this._wrapperWaterfallCount=e.wrapperWaterfallCount,this._duration=e.duration,this._media=e.media,this._jsVpaidUrl=e.jsVpaidUrl,this._flashVpaidUrl=e.flashVpaidUrl,this._xFlvMedia=e.xFlvMedia,this._hasPlayableMedia=e.hasPlayableMedia,this._adParameters=e.adParameters,this._clickThrough=e.clickThrough,this._noad=e.noad,this._companions=e.companions,this._icons=e.icons,this._linear=e.linear,this._skipOffset=e.skipOffset,this._ortb_detail=e.ortb_detail,this._imaTagUrl=e.imaTagUrl,this._errorPixels=e.errorPixels,this._impressionPixels=e.impressionPixels,this._clickTracking=e.clickTracking,this._trackingEvents=new r.default(e.trackingEvents)}return i(t,[{key:"version",get:function(){return this._version}},{key:"hbDetails",get:function(){return this._hbDetails}},{key:"wrapperUrl",get:function(){return this._wrapperUrl}},{key:"wrapperWaterfallCount",get:function(){return this._wrapperWaterfallCount}},{key:"duration",get:function(){return this._duration}},{key:"media",get:function(){return this._media}},{key:"jsVpaidUrl",get:function(){return this._jsVpaidUrl}},{key:"flashVpaidUrl",get:function(){return this._flashVpaidUrl}},{key:"xFlvMedia",get:function(){return this._xFlvMedia}},{key:"hasPlayableMedia",get:function(){return this._hasPlayableMedia}},{key:"adParameters",get:function(){return this._adParameters}},{key:"clickThrough",get:function(){return this._clickThrough}},{key:"noad",get:function(){return this._noad}},{key:"companions",get:function(){return this._companions}},{key:"icons",get:function(){return this._icons}},{key:"linear",get:function(){return this._linear}},{key:"skipOffset",get:function(){return this._skipOffset}},{key:"ortb_detail",get:function(){return this._ortb_detail}},{key:"imaTagUrl",get:function(){return this._imaTagUrl}},{key:"errorPixels",get:function(){return this._errorPixels}},{key:"impressionPixels",get:function(){return this._impressionPixels}},{key:"clickTracking",get:function(){return this._clickTracking}},{key:"trackingEvents",get:function(){return this._trackingEvents}},{key:"isIMA",get:function(){return null!==this.imaTagUrl}},{key:"isJsVpaid",get:function(){return null!==this.jsVpaidUrl}},{key:"isMedia",get:function(){return 0<this.media.length}},{key:"isFlashVpaid",get:function(){return null!==this.flashVpaidUrl}},{key:"isXFLVMedia",get:function(){return 0<this.xFlvMedia.length}},{key:"isWrapper",get:function(){return null!==this._wrapperUrl}}]),t}(),e.default=t},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.APPNEXUS_URL=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=r(t=n(14)),s=r(t=n(3)),u=r(t=n(104)),l=i(t=n(1));t=r(t=n(2));var _=i(n=n(0)),d=e.APPNEXUS_URL="https://ib.adnxs.com/ut/v3/prebid",c=["code","ext_inv_code","position","prevent_deals","keywords"],h="playback_method mimes max_duration min_duration context skippable".split(" ");n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._placementId=parseInt(t._bidParams.placementId),t._usePaymentRule="true"==t._bidParams.usePaymentRule+"",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"includeVideoParams",value:function(t){var e=(0,u.default)(this._bidOptionalParams,h);(0,s.default)(e,(function(e,n){"string"==typeof n&&(t[n]=l.unencodeParam(e))}))}},{key:"getUserSyncs",value:function(){return[{format:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]}},{key:"includeTagParams",value:function(t){var e=(0,u.default)(this._bidOptionalParams,c);(0,s.default)(e,(function(e,n){if(e=l.unencodeParam(e),"keywords"===n)if("string"==typeof e)t[n]=e;else{var i={};(0,s.default)(e,(function(t,e){i[e]="string"==typeof t&&t.includes(",")?t.split(","):t})),t[n]=i}else t[n]=e}))}},{key:"getRequestParams",value:function(t){if(null===this._placementId||(0,a.default)(this._placementId))return null;var e=this.widthToPass(t);return e={sizes:[{width:e,height:t=this.heightToPass(t)}],primary_size:{width:e,height:t},uuid:this._cabinet.uuid,id:this._placementId,reserve:this.bidFloor,use_pmt_rule:this._usePaymentRule,allow_smaller_sizes:!1,prebid:!0,disable_psa:!0,require_asset_url:!0,video:{playback_method:["auto_play_sound_off"]},video_frameworks:[1,2]},this._bidOptionalParams&&this._bidOptionalParams.hasOwnProperty("frameworks")&&Array.isArray(this._bidOptionalParams.frameworks)&&(e.video_frameworks=this._bidOptionalParams.frameworks),this.includeTagParams(e),this.includeVideoParams(e.video),e={tags:[e],sdk:{source:"pbjs",version:"4.16.0"},schain:this.getSChain()},this.gdprSet()&&(e.gdpr_consent={consent_string:this.gdprConsentString(),consent_required:1==this.gdprApplies()||"true"==this.gdprApplies()+""}),this.ccpaUSPrivacySet()&&(e.us_privacy=this.ccpaUSPrivacy()),this._cabinet.prebidReferrerDetection&&(t=this._cabinet.prebidReferrerDetection,t={rd_ref:encodeURIComponent(t.referer),rd_top:t.reachedTop,rd_ifs:t.numIframes,rd_stk:t.stack.map((function(t){return encodeURIComponent(t)})).join(",")},e.referrer_detection=t),e}},{key:"getUrl",value:function(){return d}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t)}catch(t){this.failedHBVastRequest("APPNEXUS_"+_.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){t=JSON.parse(t);try{this.bid=t.tags[0].ads[0].cpm}catch(t){return void this.failedBidRequest()}if(this.hasBid())if(this.bidMeetsFloor()){var n=null;try{n=t.tags[0].ads[0].rtb.video.asset_url}catch(t){return void this.failedBidRequest()}this._demandTag.url=n,this._getAdVastProcessor(e).requestVast(n,!0,this.hbDetails)}else this.failedBidRequest(_.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR);else this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(t){function e(t,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdStartManager("+t+")",n,i),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?this:t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"onAdLoaded",value:function(){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdLoaded",this).call(this),this.adVpaidState.isStartAd&&this.ad&&!this.ad.adVpaidState.isStartAd&&this.ad.startAd()}}]),e}(((t=n(60))&&t.__esModule?t:{default:t}).default),e.default=t},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0};t=(t=n(108))&&t.__esModule?t:{default:t};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._cabinet=n,t._adVast=i,t._expanded=!1,t._clickToPlay=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getAdExpanded",value:function(){return this._expanded}},{key:"collapseAd",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"collapseAd",this).call(this),this._expanded=!1}},{key:"expandAd",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"expandAd",this).call(this),this._expanded=!0}},{key:"_cleanup",value:function(){this._clickToPlay&&(this.removeVideoSlotEventListener_(o.VIDEO_EVENTS.click,this._clickToPlay),this._clickToPlay=null)}},{key:"stopAd",value:function(){this._cleanup(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this)}},{key:"skipAd",value:function(){this._cleanup(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this)}},{key:"onAdError",value:function(){var t;this._cleanup();for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this)).call.apply(t,[this].concat(i))}},{key:"onAdSkipped",value:function(){var t;this._cleanup();for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdSkipped",this)).call.apply(t,[this].concat(i))}},{key:"onAdStopped",value:function(){var t;this._cleanup();for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStopped",this)).call.apply(t,[this].concat(i))}},{key:"showClickToPlay",value:function(){var t=this;this._initParams.environmentVars.videoSlot&&"function"==typeof this._initParams.environmentVars.videoSlot.setAttribute&&this._initParams.environmentVars.videoSlot.setAttribute(o.VIDEO_ATTRIBUTES_POSTER,this._cabinet.getPosterUrl(this._initParams.width,this._initParams.height)),this._clickToPlay={handleEvent:function(){t.removeVideoSlotEventListener_(o.VIDEO_EVENTS.click,t._clickToPlay),t._clickToPlay=null,t.playAd()}},this.addVideoSlotEventListener_(o.VIDEO_EVENTS.click,this._clickToPlay)}},{key:"playAd",value:function(){throw Error("AdVpaidWrapper::playAd must override")}},{key:"cabinet",get:function(){return this._cabinet}},{key:"uuid",get:function(){return this._cabinet.uuid}},{key:"shortUuid",get:function(){return this._cabinet.shortUuid}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.addBlankMp4=function(t){t&&"function"==typeof t.setAttribute?(t.setAttribute(i.VIDEO_ATTRIBUTES.src,i.BLANK_MP4),t.setAttribute(i.VIDEO_ATTRIBUTES.type,i.MP4_MIMETYPE)):(t.src=i.BLANK_MP4,t.type=i.MP4_MIMETYPE)},e.removeBlankMp4=function(t){t&&"function"==typeof t.removeAttribute?(t.removeAttribute(i.VIDEO_ATTRIBUTES.src),t.removeAttribute(i.VIDEO_ATTRIBUTES.type)):(t.src=void 0,t.type=void 0)},e.isMuted=function(t){return 0===t.volume||t.muted},e.isPlaying=function(t){return!t.paused&&!t.ended};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){var i=n(6);t.exports=function(){return i.Date.now()}},function(t,e,n){var i=n(299);t.exports=function(t){var e=t.length;return e?t[i(0,e-1)]:void 0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._params={}}return i(t,[{key:"pushParam",value:function(t,e){this._params[t]=e}},{key:"build",value:function(){return this}}]),t}(),e.default=t},function(t,e,n){var i=(t=n(121))&&t.__esModule?t:{default:t};window.getVPAIDAd=function(){return new i.default("vid.springserve.com","vid-io{{REGION}}.springserve.com/vd/i","vpaid.springserve.com/production/bridge_f73eb49d.swf","vpaid.springserve.com/posters/",!0,"f73eb49d")}},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=r(t=n(5)),_=r(t=n(17)),d=r(t=n(12)),c=r(t=n(53)),h=i(t=n(94)),p=r(t=n(59)),f=r(t=n(212));t=r(t=n(114));var A=n(0),E=i(A),R=i(A=n(276)),O=i(A=n(277)),y=n(1),v=i(y),S=r(A=n(279)),m=i(A=n(280)),g=i(A=n(281)),I=i(A=n(282)),T=r(A=n(283)),b=i(A=n(41)),P=i(A=n(16)),D=r(A=n(284)),V=r(A=n(285)),C=r(A=n(286)),w=n(310),N=n(311),M=r(n=n(111));n=function(t){function e(t,n,i,r,o,a){var s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var u=(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdController",new C.default(t,n,i,r,o,a,T.default),M.default.getDefault());if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(u=!u||"object"!=typeof u&&"function"!=typeof u?this:u)._moatApiReference=null,u._iasApiReference=null,u._pixelQueue=new p.default(u._cabinet),u._unloadDetection=new D.default(u._cabinet,u._initParams,u.adVpaidState,u._adVidIoState,s,u._pixelQueue),u._heavyAds=new V.default(u._cabinet,window),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),u(e,null,[{key:"getJsonUrl",value:function(t,e,n){var i={};if(null!==t.manifest.urlparams)for(var r in t.manifest.urlparams)t.manifest.urlparams.hasOwnProperty(r)&&(i[r]=t.manifest.urlparams[r]);return i[E.JSON_PIXEL_PARAMS.declaredDomain]=t.manifest.domain,i[E.JSON_PIXEL_PARAMS.declaredWidth]=t.manifest.width,i[E.JSON_PIXEL_PARAMS.declaredHeight]=t.manifest.height,i[E.JSON_PIXEL_PARAMS.detectedDomain]=t.locationInfo.domain_match,i[E.JSON_PIXEL_PARAMS.detectedWidth]=e.width,i[E.JSON_PIXEL_PARAMS.detectedHeight]=e.height,i[E.JSON_PIXEL_PARAMS.fullUrl]=t.locationInfo.url,i[E.JSON_PIXEL_PARAMS.cb]=v.getCb(),i[E.JSON_PIXEL_PARAMS.url]=t.manifest.td?t.locationInfo.domain_match:t.manifest.domain,i[E.JSON_PIXEL_PARAMS.w]=t.manifest.ts?e.width:t.manifest.width,i[E.JSON_PIXEL_PARAMS.h]=t.manifest.ts?e.height:t.manifest.height,v.makeUrl(v.getProtocol(n),t.endpoint+"/json/"+t.manifest.supplyTagId,i)}}]),u(e,[{key:"replaceBidPriceMacro",value:function(t,e){return(0,d.default)(t,(function(t){var n=t.url;return 0<=n.indexOf("{{")?(0,l.default)({},{url:n.replace(E.HB_BID_PRICE_MACRO,e)},t):t}))}},{key:"doForwardAndDispatchEvent",value:function(t){for(var e=this,n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(E.VOLUME_EVENTS.hasOwnProperty(t)&&this.setAdVolumeInternal(this.getAdVolumeInternal()),(n=this._currentDemandTag)&&(r=h.getPixelUrlsByEvent(n,t),t===E.VPAID_EVENTS.AdImpression&&this._ad._ad.hasOwnProperty("_adVast")&&this._ad._ad._adVast&&this._ad._ad._adVast.hasOwnProperty("_hbDetails")&&this._ad._ad._adVast._hbDetails&&this._ad._ad._adVast._hbDetails.hasOwnProperty("bp")&&(r=this.replaceBidPriceMacro(r,this._ad._ad._adVast._hbDetails.bp)),v.firePixels(document,r,this._cabinet.locationInfo,this._cabinet.sizeInfo)),null!==this._moatApiReference)try{var a={type:t,adVolume:this.getAdVolumeInternal()};this._moatApiReference.dispatchEvent(a)}catch(t){var s;this.on_js_warning(n,(o(s={},E.VID_IO_PARAMS.reason,E.VD_ERROR_CODES.MOAT_SEND),o(s,E.VID_IO_PARAMS.vastErrorCode,E.VAST_ERRORCODES.SS_VEC_1539_MOAT_SEND),s))}if(E.IAS_EVENTS.hasOwnProperty(t)&&this._sendIasEvent(t,n,{}),E.VPAID_FINAL_EVENTS.hasOwnProperty(t)&&!this._pixelQueue.isDone){var u=setTimeout((function(){e._pixelQueue.unsubscribe(E.AD_PIXEL_EVENTS.DONE),e.dispatchEvent.apply(e,[t].concat(i))}),this._cabinet.timeouts.VPAID_FINAL_EVENT_TIMEOUT);this._pixelQueue.subscribe((function(){clearTimeout(u),this._pixelQueue.unsubscribe(E.AD_PIXEL_EVENTS.DONE),this.dispatchEvent.apply(this,[t].concat(i))}),E.AD_PIXEL_EVENTS.DONE,this)}else this.dispatchEvent.apply(this,[t].concat(i))}},{key:"_sendIasEvent",value:function(t,e,n){if(null!==this._iasApiReference)try{var i;i=this._initParams.environmentVars.videoSlot?this._initParams.environmentVars.videoSlot:this._initParams.environmentVars.slot;var r=(0,_.default)({ad_duration:this.getAdDuration(),ad_dimensions:this._initParams.width+"x"+this._initParams.height,player_dimensions:i.width+"x"+i.height,volume:this.getAdVolumeInternal()},n);this._iasApiReference.sendEvent(t,r)}catch(t){var a;this.on_js_warning(e,(o(a={},E.VID_IO_PARAMS.reason,E.VD_ERROR_CODES.IAS_SEND),o(a,E.VID_IO_PARAMS.vastErrorCode,E.VAST_ERRORCODES.SS_VEC_1540_IAS_SEND),a))}}},{key:"dispatchEvent",value:function(t){try{for(var n,i=arguments.length,r=Array(1<i?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];(n=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispatchEvent",this)).call.apply(n,[this,t].concat(r))}catch(t){}}},{key:"initAd",value:function(t,n,i,r,o,a){try{s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,i,r,o,a)}catch(t){return void this.initAdError(E.VD_ERROR_CODES.INIT_AD_ERROR,t)}try{this._cabinet.pixelEventFactory.setInitParams(this._initParams)}catch(t){return void this.initAdError(E.VD_ERROR_CODES.PIXEL_FACTORY_SET_INIT_PARAMS,t)}try{this._cabinet.manifest=h.parse(JSON.parse(this._creativeData.AdParameters))}catch(t){return void this.initAdError(E.VD_ERROR_CODES.MANIFEST_PARSE_ERROR,t)}try{this._unloadDetection.registerUnloads()}catch(t){return void this.initAdError(E.VD_ERROR_CODES.UNLOAD_DETECTION_INIT_ERROR,t)}var u=void 0;try{u=this._cabinet.getSizeInfo(this._initParams)}catch(t){return void this.initAdError(E.VD_ERROR_CODES.INIT_AD_STATE_INFO_ERROR,t)}var l=void 0;try{l=this._cabinet.isDomainMatch}catch(t){return void this.initAdError(E.VD_ERROR_CODES.INIT_AD_TD_MISMATCH_ERROR,t)}var _=void 0;try{_=this._cabinet.isSizeMatch(u)}catch(t){return void this.initAdError(E.VD_ERROR_CODES.INIT_AD_TS_MISMATCH_ERROR,t)}try{var d=(0,c.default)(this._initParams.environmentVars.videoSlot)?this._initParams.environmentVars.videoSlot:this._initParams.environmentVars.slot;P.init(d,document)}catch(t){}try{if(this._cabinet.manifest.td&&!l||this._cabinet.manifest.ts&&!_)return void this.getNewAdParameters(t,n,i,r,o,a,u)}catch(t){return void this.initAdError(E.VD_ERROR_CODES.INIT_AD_GET_NEW_AD_PARAMETERS_ERROR,t)}try{this.postInit(t,n,i,r,o,a)}catch(t){this.postInitError(t)}}},{key:"postInit",value:function(t,e,n,i,r,a){if(!this._adVpaidState.isDead){if(0===this._cabinet.manifest.numWaterfalls)throw Error(E.VD_ERROR_CODES.NO_RESPONSES);try{this._cabinet.initialize(a)}catch(t){throw this.on_js_opportunity(null,o({},E.VID_IO_PARAMS.reason,t),null),Error(t)}try{var s;this.on_js_opportunity(null,(o(s={},E.VID_IO_PARAMS.timeOnPage,this._cabinet.timeoutManager.initTime),o(s,E.VID_IO_PARAMS.numBroadcastQueues,this._cabinet.manifest.numWaterfalls),o(s,E.VID_IO_PARAMS.numDemandTags,this._cabinet.manifest.numTags),s),null)}catch(t){throw Error(E.VD_ERROR_CODES.JS_OPPORTUNITY_ERROR)}try{this._ad=new f.default(this._cabinet,this._initParams),this._ad.handshakeVersion(this._handshakeVersion),this.registerVpaidEventListeners_(this._ad),this.registerSSEventListeners_(this._ad),this.setAdVolume(this._volume)}catch(t){throw Error(E.VD_ERROR_CODES.PROCESSOR_CREATE_ERROR)}try{v.firePixels(document,h.getPixelUrlsByEvent(this._cabinet.manifest,E.MANIFEST_PIXEL_EVENTS.initAd),this._cabinet.locationInfo,this._cabinet.sizeInfo)}catch(t){throw Error(E.VD_ERROR_CODES.FIRE_INIT_AD_PIXELS_ERROR)}try{this._ad.initAd(t,e,n,i,r,a)}catch(t){throw Error(E.VD_ERROR_CODES.PROCESSOR_INIT_ERROR)}try{this._ad.nextBroadcast()}catch(t){throw Error(E.VD_ERROR_CODES.PROCESSOR_NEXT_BROADCAST_ERROR)}}}},{key:"resizeAd",value:function(t,n,i){this._sendIasEvent(E.IAS_RESIZE_AD,this._currentDemandTag,{width:t,height:n,viewMode:i}),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resizeAd",this).call(this,t,n,i)}},{key:"postInitError",value:function(t){this.initAdError(t&&t.message?t.message:E.VD_ERROR_CODES.AD_CONTROLLER_ERROR,t?t.error:null)}},{key:"initAdError",value:function(t,e){var n=void 0,i=void 0;try{var r="null"===t?E.VD_ERROR_CODES.RECEIVED_NULL_STRING:t;if("null"===(n=(r||E.VD_ERROR_CODES.INIT_AD_EMPTY_ERROR)+(e?"_"+e.message:""))&&(n=E.VD_ERROR_CODES.INIT_AD_NULL_ERROR),i=o({reason:n,timeout:!1},E.VID_IO_PARAMS.timeOnPage,0),null!==this._cabinet.timeoutManager&&t!==E.VD_ERROR_CODES.TIMEOUT_MANAGER_INIT_ERROR){var s=a(this._cabinet.timeoutManager.timeOnPage,1);E.VID_IO_PARAMS.timeOnPage=s[0]}}catch(t){i=o({reason:n=E.VD_ERROR_CODES.INIT_AD_ERROR_EXCEPTION,timeout:!1},E.VID_IO_PARAMS.timeOnPage,0)}this.on_js_supply_error(null,i,null),this.onAdError(n)}},{key:"supplyError",value:function(t,e){var n;this.on_js_supply_error(null,(o(n={},E.VID_IO_PARAMS.timeOnPage,this._cabinet.timeoutManager.timeOnPage),o(n,"reason",t),o(n,"timeout",e),n),null)}},{key:"stopAd",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this),this.adVpaidState.isVpaidEvent(E.VPAID_EVENTS.AdImpression)||this.supplyError(this._ad?E.VD_ERROR_CODES.STOP_AD_CALLED:E.VD_ERROR_CODES.STOP_AD_CALLED_BEFORE_POSTINIT,!0);try{P.stop()}catch(t){}}},{key:"skipAd",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this),this.adVpaidState.isVpaidEvent(E.VPAID_EVENTS.AdImpression)||this.supplyError(this._ad?E.VD_ERROR_CODES.SKIP_AD_CALLED:E.VD_ERROR_CODES.SKIP_AD_CALLED_BEFORE_POSTINIT,!0)}},{key:"setAdVolume",value:function(t){this.cabinet.autoplayVideoElementManager&&this.cabinet.autoplayVideoElementManager.onSetAdVolume(t),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setAdVolume",this).call(this,t)}},{key:"on_js_impression",value:function(t,n,i){try{O.load(document,this._cabinet.manifest,t,this._initParams.width,this._initParams.height,this._cabinet.locationInfo.domain_match,v.SECURE_PROTOCOL)}catch(e){var r;this.on_js_warning(t,(o(r={},E.VID_IO_PARAMS.reason,E.VD_ERROR_CODES.SSC_POST_IMP),o(r,E.VID_IO_PARAMS.vastErrorCode,E.VAST_ERRORCODES.SS_VEC_1537_SSC_POST_IMP),r))}try{var a=this._cabinet.getSizeInfo(this._initParams);try{this.doMoatPostImp(t,a)}catch(e){var u;this.on_js_warning(t,(o(u={},E.VID_IO_PARAMS.reason,E.VD_ERROR_CODES.MOAT_POST_IMP),o(u,E.VID_IO_PARAMS.vastErrorCode,E.VAST_ERRORCODES.SS_VEC_1533_MOAT_POST_IMP),u))}try{this.doIasPostImp(t,a)}catch(e){var l;this.on_js_warning(t,(o(l={},E.VID_IO_PARAMS.reason,E.VD_ERROR_CODES.IAS_POST_IMP),o(l,E.VID_IO_PARAMS.vastErrorCode,E.VAST_ERRORCODES.SS_VEC_1534_IAS_POST_IMP),l))}try{this.doForensiqPostImp(t,a)}catch(e){var _;this.on_js_warning(t,(o(_={},E.VID_IO_PARAMS.reason,E.VD_ERROR_CODES.FORENSIQ_POST_IMP),o(_,E.VID_IO_PARAMS.vastErrorCode,E.VAST_ERRORCODES.SS_VEC_1535_FORENSIQ_POST_IMP),_))}try{this.doProtectedMediaPostImp(t,a)}catch(e){var d;this.on_js_warning(t,(o(d={},E.VID_IO_PARAMS.reason,E.VD_ERROR_CODES.FORENSIQ_POST_IMP),o(d,E.VID_IO_PARAMS.vastErrorCode,E.VAST_ERRORCODES.SS_VEC_1538_PROTECTED_MEDIA_POST_IMP),d))}}catch(e){var c;this.on_js_warning(t,(o(c={},E.VID_IO_PARAMS.reason,E.VD_ERROR_CODES.SIZEINFO_POST_IMP),o(c,E.VID_IO_PARAMS.vastErrorCode,E.VAST_ERRORCODES.SS_VEC_1536_SIZEINFO_POST_IMP),c))}s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on_js_impression",this).call(this,t,n,i)}},{key:"onAdError",value:function(t){var n,i,r=!1;this._adVpaidState.isVpaidEvent(E.VPAID_EVENTS.AdImpression)||(t===E.VD_ERROR_CODES.SUPPLY_TAG_TIMEOUT&&(r=!0),this.on_js_supply_error(null,(o(i={},E.VID_IO_PARAMS.timeOnPage,this._cabinet&&this._cabinet.timeoutManager?this._cabinet.timeoutManager.timeOnPage:0),o(i,"reason",t),o(i,"timeout",r),i),null));r=arguments.length,i=Array(1<r?r-1:0);for(var a=1;a<r;a++)i[a-1]=arguments[a];(n=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this)).call.apply(n,[this,t].concat(i))}},{key:"onForwardVidIoEvent",value:function(t){this._pixelQueue.enqueue(this._cabinet.pixelEventFactory.build(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,4<arguments.length&&void 0!==arguments[4]?arguments[4]:null)),this._pixelQueue.hasFlusher&&(E.VID_IO_FINAL_EVENTS.hasOwnProperty(t)||t===E.VID_IO_EVENTS.js_impression)&&this._pixelQueue.killFlusher()}},{key:"getNewAdParameters",value:function(t,n,i,r,o,a,s){var u=this;if(s=v.getRequestMethod(e.getJsonUrl(this._cabinet,s,this._cabinet.forceSecure||this._cabinet.manifest.secure),!0)){var _=s.xhr;_.timeout=this._cabinet.timeouts.JSON_TIMEOUT,_.ontimeout=function(){u.initAdError(E.VD_ERROR_CODES.JSON_TIMEOUT,null)},_.onload=function(){if(200!==_.status)u.initAdError(E.VD_ERROR_CODES.BAD_XHR_STATUS+"_"+_.status,null);else{var e=void 0;try{var s=JSON.parse(_.responseText),d={dx:s.dx};s.hasOwnProperty("dto")&&(d.dto=s.dto),e=(0,l.default)(d,JSON.parse(u._creativeData.AdParameters)),u._creativeData.AdParameters=JSON.stringify(e),o.AdParameters=u._creativeData.AdParameters}catch(t){return void u.initAdError(E.VD_ERROR_CODES.JSON_RESPONSE_PARSE_ERROR,t)}try{u._cabinet.manifest=h.parse(e),u._cabinet.wasReauctioned=!0}catch(t){return void u.initAdError(E.VD_ERROR_CODES.JSON_MANIFEST_PARSE_ERROR,t)}try{u.postInit(t,n,i,r,o,a)}catch(t){u.postInitError(t)}}},_.onerror=function(){u.initAdError(E.VD_ERROR_CODES.XHR_ERROR,null)},_.send()}else this.initAdError(E.VD_ERROR_CODES.NO_XHR,null)}},{key:"doMoatPostImp",value:function(t,e){if(null===this._moatApiReference&&b.shouldFire(this._cabinet.manifest,t,E.POST_IMP_PROVIDER_ID_MOAT)){var n=b.addPostImpProviderToCallChain(this._cabinet.manifest,t,E.POST_IMP_PROVIDER_ID_MOAT,E.CALL_CHAIN_IDENTIFIERS.MOAT_USED),i=b.filterManifestKeys(this._cabinet.manifest),r=b.addsAppNameBundleToParams(this._cabinet.manifest),o=r.appName;r=r.appBundle;var a=t.callChain.getLastLink().accountId;0===a&&(a=this._cabinet.manifest.hasOwnProperty("aid")?this._cabinet.manifest.aid:0),t={level1:this._cabinet.manifest.aid,level2:this._cabinet.manifest.supplyTagId,level3:this._cabinet.manifest.domain,level4:E.MOAT_DUMMY_VALUE,slicer1:E.MOAT_DUMMY_VALUE,slicer2:n,zMoatCountry:this._cabinet.manifest.country,zMoatSSSize:this._cabinet.manifest.width+"x"+this._cabinet.manifest.height,zMoatSSDetSize:e.width+"x"+e.height,zMoatSSDetDomain:this._cabinet.locationInfo.domain_match,zMoatAppName:o,zMoatAppBundle:r,zMoatKeys:i,zMoatEndDemandTag:t.callChain.getLastLink().demandTagId,zMoatEndAccountId:a,zMoatAuctionId:this.uuid},this._cabinet.manifest.hasOwnProperty(E.VAST_FIELDS.device_type_id)&&(t.zMoatDevice=this._cabinet.manifest[E.VAST_FIELDS.device_type_id]),this._moatApiReference=R.initMoatTracking(this._initParams.environmentVars.slot,t,this.getAdDuration(),S.default.moatPartnerCode,this._initParams.environmentVars.videoSlot.src)}}},{key:"doIasPostImp",value:function(t,e){if(null===this._iasApiReference&&b.shouldFire(this._cabinet.manifest,t,E.POST_IMP_PROVIDER_ID_IAS)){t=b.addPostImpProviderToCallChain(this._cabinet.manifest,t,E.POST_IMP_PROVIDER_ID_IAS,E.CALL_CHAIN_IDENTIFIERS.IAS_USED);var n={partner:I.partner,anId:I.adNetworkId,placementId:this._cabinet.manifest.supplyTagId,impId:this.uuid},i=[];i.push(E.IAS_EXTRA_PARAMS.declaredDomain+"="+this._cabinet.manifest.domain),i.push(E.IAS_EXTRA_PARAMS.declaredWidth+"="+this._cabinet.manifest.width),i.push(E.IAS_EXTRA_PARAMS.declaredHeight+"="+this._cabinet.manifest.height),i.push(E.IAS_EXTRA_PARAMS.detectedDomain+"="+this._cabinet.locationInfo.domain_match),i.push(E.IAS_EXTRA_PARAMS.detectedWidth+"="+e.width),i.push(E.IAS_EXTRA_PARAMS.detectedHeight+"="+e.height),i.push(E.IAS_EXTRA_PARAMS.aId+"="+this._cabinet.manifest.aid),i.push(E.IAS_EXTRA_PARAMS.aCc+"="+t),i.push(E.IAS_EXTRA_PARAMS.ssId+"="+this._cabinet.manifest.ssid),i.push(E.IAS_EXTRA_PARAMS.country+"="+this._cabinet.manifest.country),n.planId=i.join("|"),.01>=Math.random()?(this._iasApiReference=new m.__IASVANS,n.anId=I.newSDKNetworkId):this._iasApiReference=new g.__IASVANS,this._iasApiReference.initCM(n,this._initParams.environmentVars.slot)}}},{key:"doForensiqPostImp",value:function(t,e){if(b.shouldFire(this._cabinet.manifest,t,E.POST_IMP_PROVIDER_ID_FORENSIQ)){var n=b.addPostImpProviderToCallChain(this._cabinet.manifest,t,E.POST_IMP_PROVIDER_ID_FORENSIQ,E.CALL_CHAIN_IDENTIFIERS.FORENSIQ_USED);t=(0,w.constructForensiqJsPixel)(t,this._cabinet,e,n),(0,y.addScript)(document,t)}}},{key:"doProtectedMediaPostImp",value:function(t,e){if(b.shouldFire(this._cabinet.manifest,t,E.POST_IMP_PROVIDER_ID_PROTECTED_MEDIA)){var n=b.addPostImpProviderToCallChain(this._cabinet.manifest,t,E.POST_IMP_PROVIDER_ID_PROTECTED_MEDIA,E.CALL_CHAIN_IDENTIFIERS.PROTECTED_MEDIA_USED);t=(0,N.constructProtectedMediaJsPixel)(t,this._cabinet,e,n),(0,y.addScript)(document,t)}}},{key:"_currentDemandTag",get:function(){return null!==this._ad&&this._ad.hasOwnProperty("_ad")&&this._ad._ad&&this._ad._ad.hasOwnProperty("_demandTag")?this._ad._ad._demandTag:null}}]),e}(t.default),e.default=n},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var i=n(124),r=n(66);e=n(29),t.exports=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:e},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var i=n(67),r=n(128),o=n(11),a=n(69),s=/^\[object .+?Constructor\]$/,u=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?u:s).test(a(t))}},function(t,e,n){e=n(21);var i=(n=Object.prototype).hasOwnProperty,r=n.toString,o=e?e.toStringTag:void 0;t.exports=function(t){var e=i.call(t,o),n=t[o];try{t[o]=void 0;var a=!0}catch(t){}var s=r.call(t);return a&&(e?t[o]=n:delete t[o]),s}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var i=n(129),r=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!r&&r in t}},function(t,e,n){e=n(6)["__core-js_shared__"],t.exports=e},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,i=0;return function(){var r=n(),o=16-(r-i);if(i=r,0<o){if(800<=++e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},function(t,e,n){var i=n(9),r=n(7);t.exports=function(t){return r(t)&&"[object Arguments]"==i(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var i=n(9),r=n(43),o=n(7),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&r(t.length)&&!!a[i(t)]}},function(t,e,n){t=n(72)(t),n=n(68);var i=e&&!e.nodeType&&e;n=(e=i&&"object"==typeof t&&t&&!t.nodeType&&t)&&e.exports===i&&n.process;t:{try{var r=e&&e.require&&e.require("util").types;if(r){var o=r;break t}o=n&&n.binding&&n.binding("util");break t}catch(t){}o=void 0}t.exports=o},function(t,e,n){var i=n(11),r=n(46),o=n(138),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return o(t);var e,n=r(t),s=[];for(e in t)("constructor"!=e||!n&&a.call(t,e))&&s.push(e);return s}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var i=n(140);e=n(141);var r=n(30);n=e((function(t,e){i(e,r(e),t)})),t.exports=n},function(t,e,n){var i=n(74),r=n(47);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],_=o?o(n[l],t[l],l,n,t):void 0;void 0===_&&(_=t[l]),a?r(n,l,_):i(n,l,_)}return n}},function(t,e,n){var i=n(42),r=n(70);t.exports=function(t){return i((function(e,n){var i=-1,o=n.length,a=1<o?n[o-1]:void 0,s=2<o?n[2]:void 0;for(a=3<t.length&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=3>o?void 0:a,o=1),e=Object(e);++i<o;)(s=n[i])&&t(e,s,i,a);return e}))}},function(t,e,n){var i=n(143),r=n(181),o=n(88);t.exports=function(t){var e=r(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}},function(t,e,n){var i=n(75),r=n(76);t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var l=n[a];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){var _=(l=n[a])[0],d=t[_],c=l[1];if(u&&l[2]){if(void 0===d&&!(_ in t))return!1}else{if(l=new i,o)var h=o(d,c,_,t,e,l);if(void 0===h?!r(c,d,3,o,l):!h)return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var i=n(33),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__;return!(0>(t=i(e,t)))&&(t==e.length-1?e.pop():r.call(e,t,1),--this.size,!0)}},function(t,e,n){var i=n(33);t.exports=function(t){var e=this.__data__;return 0>(t=i(e,t))?void 0:e[t][1]}},function(t,e,n){var i=n(33);t.exports=function(t){return-1<i(this.__data__,t)}},function(t,e,n){var i=n(33);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return 0>r?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var i=n(32);t.exports=function(){this.__data__=new i,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var i=n(32),r=n(48),o=n(49);t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||199>a.length)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var i=n(155),r=n(32),o=n(48);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(t,e,n){function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}e=n(156);var r=n(157),o=n(158),a=n(159);n=n(160),i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=o,i.prototype.has=a,i.prototype.set=n,t.exports=i},function(t,e,n){var i=n(34);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(t,e){t.exports=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t}},function(t,e,n){var i=n(34),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?"__lodash_hash_undefined__"===(t=e[t])?void 0:t:r.call(e,t)?e[t]:void 0}},function(t,e,n){var i=n(34),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},function(t,e,n){var i=n(34);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var i=n(35);t.exports=function(t){return t=i(this,t).delete(t),this.size-=t?1:0,t}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var i=n(35);t.exports=function(t){return i(this,t).get(t)}},function(t,e,n){var i=n(35);t.exports=function(t){return i(this,t).has(t)}},function(t,e,n){var i=n(35);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){var i=n(75),r=n(77),o=n(170),a=n(174),s=n(86),u=n(4),l=n(44),_=n(45),d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,c,h,p){var f=u(t),A=u(e),E=f?"[object Array]":s(t),R=A?"[object Array]":s(e),O="[object Object]"==(E="[object Arguments]"==E?"[object Object]":E);if(A="[object Object]"==(R="[object Arguments]"==R?"[object Object]":R),(R=E==R)&&l(t)){if(!l(e))return!1;f=!0,O=!1}return R&&!O?(p||(p=new i),f||_(t)?r(t,e,n,c,h,p):o(t,e,E,n,c,h,p)):1&n||(f=O&&d.call(t,"__wrapped__"),E=A&&d.call(e,"__wrapped__"),!f&&!E)?!!R&&(p||(p=new i),a(t,e,n,c,h,p)):(t=f?t.value():t,e=E?e.value():e,p||(p=new i),h(t,e,n,c,p))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){e=n(21);var i=n(171),r=n(22),o=n(77),a=n(172),s=n(173),u=(n=e?e.prototype:void 0)?n.valueOf:void 0;t.exports=function(t,e,n,l,_,d,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!d(new i(t),new i(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=a;case"[object Set]":if(h||(h=s),t.size!=e.size&&!(1&l))break;return(n=c.get(t))?n==e:(l|=2,c.set(t,e),e=o(h(t),h(e),l,_,d,c),c.delete(t),e);case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},function(t,e,n){e=n(6).Uint8Array,t.exports=e},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var i=n(175),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,l=i(t),_=l.length,d=i(e).length;if(_!=d&&!u)return!1;for(d=_;d--;){var c=l[d];if(!(u?c in e:r.call(e,c)))return!1}var h=s.get(t);if(c=s.get(e),h&&c)return h==e&&c==t;h=!0,s.set(t,e),s.set(e,t);for(var p=u;++d<_;){var f=t[c=l[d]],A=e[c];if(o)var E=u?o(A,f,c,e,t,s):o(f,A,c,t,e,s);if(void 0===E?f!==A&&!a(f,A,n,o,s):!E){h=!1;break}p||(p="constructor"==c)}return h&&!p&&((n=t.constructor)!=(o=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof o&&o instanceof o)&&(h=!1)),s.delete(t),s.delete(e),h}},function(t,e,n){var i=n(80),r=n(81),o=n(25);t.exports=function(t){return i(t,o,r)}},function(t,e,n){e=n(85)(Object.keys,Object),t.exports=e},function(t,e,n){e=n(15),n=e(n=n(6),"DataView"),t.exports=n},function(t,e,n){e=n(15),n=e(n=n(6),"Promise"),t.exports=n},function(t,e,n){e=n(15),n=e(n=n(6),"Set"),t.exports=n},function(t,e,n){e=n(15),n=e(n=n(6),"WeakMap"),t.exports=n},function(t,e,n){var i=n(87),r=n(25);t.exports=function(t){for(var e=r(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,i(a)]}return e}},function(t,e,n){var i=n(76),r=n(183),o=n(90),a=n(51),s=n(87),u=n(88),l=n(18);t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=r(n,t);return void 0===a&&a===e?o(n,t):i(e,a,3)}}},function(t,e,n){var i=n(36);t.exports=function(t,e,n){return void 0===(t=null==t?void 0:i(t,e))?n:t}},function(t,e,n){var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g;e=n(185)((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,i,o){e.push(i?o.replace(r,"$1"):n||t)})),e})),t.exports=e},function(t,e,n){var i=n(186);t.exports=function(t){var e=(t=i(t,(function(t){return 500===e.size&&e.clear(),t}))).cache;return t}},function(t,e,n){function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;return o.has(r)?o.get(r):(i=t.apply(this,i),n.cache=o.set(r,i)||o,i)};return n.cache=new(i.Cache||r),n}var r=n(49);i.Cache=r,t.exports=i},function(t,e,n){e=n(21);var i=n(24),r=n(4),o=n(27),a=1/0,s=(n=e?e.prototype:void 0)?n.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(r(e))return i(e,t)+"";if(o(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-a?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var i=n(26),r=n(31),o=n(4),a=n(23),s=n(43),u=n(18);t.exports=function(t,e,n){for(var l=-1,_=(e=i(e,t)).length,d=!1;++l<_;){var c=u(e[l]);if(!(d=null!=t&&n(t,c)))break;t=t[c]}return d||++l!=_?d:!!(_=null==t?0:t.length)&&s(_)&&a(c,_)&&(o(t)||r(t))}},function(t,e,n){var i=n(191),r=n(192),o=n(51),a=n(18);t.exports=function(t){return o(t)?i(a(t)):r(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var i=n(36);t.exports=function(t){return function(e){return i(e,t)}}},function(t,e,n){var i=n(52),r=n(10);t.exports=function(t,e){var n=-1,o=r(t)?Array(t.length):[];return i(t,(function(t,i,r){o[++n]=e(t,i,r)})),o}},function(t,e){t.exports=function(t){return function(e,n,i){for(var r=-1,o=Object(e),a=(i=i(e)).length;a--;){var s=i[t?a:++r];if(!1===n(o[s],s,o))break}return e}}},function(t,e,n){var i=n(10);t.exports=function(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}},function(t,e,n){var i=n(9),r=n(93),o=n(7),a=Function.prototype.toString,s=Object.prototype.hasOwnProperty,u=a.call(Object);t.exports=function(t){return!(!o(t)||"[object Object]"!=i(t))&&(null===(t=r(t))||"function"==typeof(t=s.call(t,"constructor")&&t.constructor)&&t instanceof t&&a.call(t)==u)}},function(t,e,n){var i=n(54),r=n(10),o=n(55),a=n(28),s=n(96),u=Math.max;t.exports=function(t,e,n,l){return t=r(t)?t:s(t),n=n&&!l?a(n):0,l=t.length,0>n&&(n=u(l+n,0)),o(t)?n<=l&&-1<t.indexOf(e,n):!!l&&-1<i(t,e,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){--n;for(var i=t.length;++n<i;)if(t[n]===e)return n;return-1}},function(t,e,n){var i=n(37);t.exports=function(t){return t?(t=i(t))===1/0||t===-1/0?17976931348623157e292*(0>t?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var i=n(202),r=/^\s+/;t.exports=function(t){return t?t.slice(0,i(t)+1).replace(r,""):t}},function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},function(t,e,n){var i=n(24);t.exports=function(t,e){return i(e,(function(e){return t[e]}))}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},function(t,e,n){var i=n(28);t.exports=function(t){return"number"==typeof t&&t==i(t)}},function(t,e,n){var i=n(13),r=n(10),o=n(25);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!r(e)){var u=i(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}return-1<(n=t(e,n,a))?s[u?e[n]:n]:void 0}}},function(t,e,n){var i=n(95),r=n(13),o=n(28),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;return s?(0>(n=null==n?0:o(n))&&(n=a(s+n,0)),i(t,r(e,3),n)):-1}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getStateInfo=void 0;var i=(t=n(53))&&t.__esModule?t:{default:t};e.getStateInfo=function(t){var e={no_element:null,offsetWidth:null,offsetHeight:null,clientWidth:null,clientHeight:null,detectedHeight:null,detectedWidth:null,detectedSizeSource:null,scrollWidth:null,scrollHeight:null,getBoundingClientRect__left:null,getBoundingClientRect__top:null,getBoundingClientRect__right:null,getBoundingClientRect__bottom:null,other:{}},n=null;try{n=t.videoSlot,e.other.videoSlotIsNull=null===n,e.other.videoSlotIsElement=(0,i.default)(n),e.other.videoSlotIsElement||(n=t.slot)}catch(t){}try{jwplayer&&(e.other.jwplayer_version=jwplayer.version),vidible&&(e.other.vidible_version=vidible.version()),videojs&&(e.other.videojs_version=videojs.VERSION),google&&google.ima&&(e.other.google_ima_version=google.ima.VERSION)}catch(t){}try{if(e.no_element=null===n,!e.no_element&&(0,i.default)(n)){e.offsetWidth=n.offsetWidth,e.offsetHeight=n.offsetHeight,e.clientWidth=n.clientWidth,e.clientHeight=n.clientHeight,e.scrollWidth=n.scrollWidth,e.scrollHeight=n.scrollHeight;var r=n.getBoundingClientRect();null!==r&&(e.getBoundingClientRect__left=r.left,e.getBoundingClientRect__top=r.top,e.getBoundingClientRect__right=r.right,e.getBoundingClientRect__bottom=r.bottom)}isNaN(parseInt(e.clientWidth))||(e.detectedWidth=parseInt(e.clientWidth)),isNaN(parseInt(e.clientHeight))||(e.detectedHeight=parseInt(e.clientHeight))}catch(t){}return e}},function(t,e,n){var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){"object"===a(e)&&void 0!==t?t.exports=n():(r=[],void 0===(o="function"==typeof(i=n)?i.apply(e,r):i)||(t.exports=o))}((function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);throw(s=Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}s=n[a]={exports:{}},e[a][0].call(s.exports,(function(t){var n=e[a][1][t];return r(n||t)}),s,s.exports,t,e,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){e.exports=function(t,e,n){if("function"==typeof Array.prototype.find)return t.find(e,n);n=n||this;var i,r=t.length;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(i=0;i<r;i++)if(e.call(n,t[i],i,t))return t[i]}},{}],2:[function(t,e,n){!function(t,e){function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect,t=(t=this.boundingClientRect).width*t.height;var e=this.intersectionRect;e=e.width*e.height,this.intersectionRatio=t?e/t:this.isIntersecting?1:0}function i(t,e){if(e=e||{},"function"!=typeof t)throw Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=function(t,e){var n=null;return function(){n||(n=setTimeout((function(){t(),n=null}),e))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function r(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){try{var e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(t,e){for(;e;){if(e==t)return!0;e=u(e)}return!1}function u(t){return(t=t.parentNode)&&11==t.nodeType&&t.host?t.host:t}if(!("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)){var l=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){return t=t||[0],Array.isArray(t)||(t=[t]),t.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||0>t||1<t)throw Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},i.prototype._parseRootMargin=function(t){return(t=(t||"0px").split(/\s+/).map((function(t){if(!(t=/^(-?\d*\.?\d+)(px|%)$/.exec(t)))throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}})))[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(t,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),i=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,s=a(o),u=this._rootContainsTarget(o),l=r.entry,_=e&&u&&this._computeTargetAndRootIntersection(o,i);r=r.entry=new n({time:t.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:i,intersectionRect:_}),l?e&&u?this._hasCrossedThreshold(l,r)&&this._queuedEntries.push(r):l&&l.isIntersecting&&this._queuedEntries.push(r):this._queuedEntries.push(r)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,i){if("none"!=t.getComputedStyle(n).display){var r=a(n);n=u(n);for(var o=!1;!o;){var s=null,l=1==n.nodeType?t.getComputedStyle(n):{};if("none"==l.display)return;if(n==this.root||n==e?(o=!0,s=i):n!=e.body&&n!=e.documentElement&&"visible"!=l.overflow&&(s=a(n)),s){l=Math.max(s.top,r.top);var _=Math.min(s.bottom,r.bottom),d=Math.max(s.left,r.left),c=_-l;if(!(r=0<=(s=(r=Math.min(s.right,r.right))-d)&&0<=c&&{top:l,bottom:_,left:d,right:r,width:s,height:c}))break}n=u(n)}return r}},i.prototype._getRootRect=function(){if(this.root)var t=a(this.root);else{t=e.documentElement;var n=e.body;t={top:0,left:0,right:t.clientWidth||n.clientWidth,width:t.clientWidth||n.clientWidth,bottom:t.clientHeight||n.clientHeight,height:t.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}));return(e={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]}).width=e.right-e.left,e.height=e.bottom-e.top,e},i.prototype._hasCrossedThreshold=function(t,e){if((t=t&&t.isIntersecting?t.intersectionRatio||0:-1)!==(e=e.isIntersecting?e.intersectionRatio||0:-1))for(var n=0;n<this.thresholds.length;n++){var i=this.thresholds[n];if(i==t||i==e||i<t!=i<e)return!0}},i.prototype._rootIsInDom=function(){return!this.root||s(e,this.root)},i.prototype._rootContainsTarget=function(t){return s(this.root||e,t)},i.prototype._registerInstance=function(){0>l.indexOf(this)&&l.push(this)},i.prototype._unregisterInstance=function(){var t=l.indexOf(this);-1!=t&&l.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=n}}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{})},{}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDetails=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{viewportWidth:Math.max(document.body.clientWidth,window.innerWidth)||-1,viewportHeight:Math.max(document.body.clientHeight,window.innerHeight)||-1,elementWidth:t.clientWidth||-1,elementHeight:t.clientHeight||-1,iframeContext:r(),focus:i()}};var i=n.isInFocus=function(){return("undefined"===document.hidden||!0!==document.hidden)&&(r()===o.CROSS_DOMAIN_IFRAME||(!window.document.hasFocus||window.top.document.hasFocus()))},r=n.iFrameContext=function(){try{if(window.top===window)return o.ON_PAGE;for(var t=window;t.parent!==t;){if(t.parent.document.domain!==t.document.domain)return o.CROSS_DOMAIN_IFRAME;t=t.parent}o.SAME_DOMAIN_IFRAME}catch(t){return o.CROSS_DOMAIN_IFRAME}},o=n.iFrameServingScenarios={ON_PAGE:"on page",SAME_DOMAIN_IFRAME:"same domain iframe",CROSS_DOMAIN_IFRAME:"cross domain iframe"}},{}],4:[function(t,e,n){t("array-find")},{"array-find":1}],5:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateStrategy=n.validateCriteria=n.validElement=n.validTechnique=void 0;var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":a(t)},r=(t=t("../Measurement/MeasurementTechniques/BaseTechnique"))&&t.__esModule?t:{default:t};n.validTechnique=function(t){return"function"==typeof t&&Object.getOwnPropertyNames(r.default).reduce((function(e,n){return n&&i(t[e])===i(r.default[e])}),!0)},n.validElement=function(t){return t&&-1<t.toString().indexOf("Element")};var o=n.validateCriteria=function(t){var e=t.inViewThreshold;t=t.timeInView;var n=!1,i=[];return("number"!=typeof e||1<e)&&(n=!0,i.push("inViewThreshold must be a number equal to or less than 1")),("number"!=typeof t||0>t)&&(n=!0,i.push("timeInView must be a number greater to or equal 0")),{invalid:n,reasons:i.join(" | ")}};n.validateStrategy=function(t){var e=t.techniques,n=t.criteria,i=!1,r=[];return"boolean"!=typeof t.autostart&&(i=!0,r.push("autostart must be boolean")),Array.isArray(e)&&0!==e.length||(i=!0,r.push("techniques must be an array containing atleast on measurement techniques")),(t=o(n)).invalid&&(i=!0,r.push(t.reasons)),{invalid:i,reasons:r.join(" | ")}}},{"../Measurement/MeasurementTechniques/BaseTechnique":8}],6:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.START="start",n.STOP="stop",n.CHANGE="change",n.COMPLETE="complete",n.UNMEASUREABLE="unmeasureable",n.INVIEW="inview",n.OUTVIEW="outview"},{}],7:[function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("../Timing/InViewTimer"),s=a&&a.__esModule?a:{default:a},u=t("./Strategies/"),l=t("../Helpers/Validators"),_=i(a=t("../Environment/Environment")),d=i(t=t("./Events"));t=function(){function t(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");if(this._listeners={start:[],stop:[],change:[],complete:[],unmeasureable:[]},this._element=e,this._strategy=r({},u.DEFAULT_STRATEGY,i),this._criteriaMet=!1,(i=(0,l.validateStrategy)(this._strategy)).invalid)throw i.reasons;(this._technique=this._selectTechnique(this._strategy.techniques))&&this._addSubscriptions(this._technique),this.unmeasureable?setTimeout((function(){return n._publish(d.UNMEASUREABLE,_.getDetails(n._element))}),0):this._strategy.autostart&&this._technique.start()}return o(t,[{key:"start",value:function(){this._technique.start()}},{key:"dispose",value:function(){this._technique&&this._technique.dispose(),this.timer&&this.timer.dispose()}},{key:"onViewableStart",value:function(t){return this._addCallback(t,d.START)}},{key:"onViewableStop",value:function(t){return this._addCallback(t,d.STOP)}},{key:"onViewableChange",value:function(t){return this._addCallback(t,d.CHANGE)}},{key:"onViewableComplete",value:function(t){return this._addCallback(t,d.COMPLETE),this.criteriaMet&&this._techniqueChange(d.COMPLETE,this._technique),this}},{key:"onUnmeasureable",value:function(t){return this._addCallback(t,d.UNMEASUREABLE),this.unmeasureable&&this._techniqueChange(d.UNMEASUREABLE),this}},{key:"_selectTechnique",value:function(t){return t.filter(l.validTechnique).map(this._instantiateTechnique.bind(this)).find((function(t){return!t.unmeasureable}))}},{key:"_instantiateTechnique",value:function(t){return new t(this._element,this._strategy.criteria)}},{key:"_addSubscriptions",value:function(t){t&&(t.onInView(this._techniqueChange.bind(this,d.INVIEW,t)),t.onChangeView(this._techniqueChange.bind(this,d.CHANGE,t)),t.onOutView(this._techniqueChange.bind(this,d.OUTVIEW,t)))}},{key:"_techniqueChange",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=void 0,i=this._appendEnvironment(e);switch(t){case d.INVIEW:this._criteriaMet||(this.timer=new s.default(this._strategy.criteria.timeInView),this.timer.elapsed(this._timerElapsed.bind(this,e)),this.timer.start(),n=d.START);break;case d.CHANGE:n=t;break;case d.COMPLETE:this._criteriaMet||(this._criteriaMet=!0,n=t);break;case d.OUTVIEW:this._criteriaMet||(this.timer&&(this.timer.stop(),delete this.timer),n=d.STOP);break;case d.UNMEASUREABLE:n=d.UNMEASUREABLE}n&&this._publish(n,i)}},{key:"_publish",value:function(t,e){Array.isArray(this._listeners[t])&&this._listeners[t].forEach((function(t){return t(e)}))}},{key:"_timerElapsed",value:function(t){this._techniqueChange(d.COMPLETE,t)}},{key:"_addCallback",value:function(t,e){if(this._listeners[e]&&"function"==typeof t)this._listeners[e].push(t);else if("function"!=typeof t)throw"Callback must be a function";return this}},{key:"_appendEnvironment",value:function(t){return r({},{percentViewable:void 0===t.percentViewable?-1:t.percentViewable,technique:t.techniqueName||-1,viewable:void 0===t.viewable?-1:t.viewable},_.getDetails(this._element))}},{key:"unmeasureable",get:function(){return!this._technique||this._technique.unmeasureable}}]),t}(),n.default=t,e.exports=n.default},{"../Environment/Environment":3,"../Helpers/Validators":5,"../Timing/InViewTimer":15,"./Events":6,"./Strategies/":12}],8:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.listeners={inView:[],outView:[],changeView:[]},this.percentViewable=0}return i(t,[{key:"onInView",value:function(t){return this.addCallback(t,"inView")}},{key:"onChangeView",value:function(t){return this.addCallback(t,"changeView")}},{key:"onOutView",value:function(t){return this.addCallback(t,"outView")}},{key:"addCallback",value:function(t,e){if("function"==typeof t&&this.listeners[e])this.listeners[e].push(t);else if("function"!=typeof t)throw"callback must be function";return this}},{key:"start",value:function(){}},{key:"dispose",value:function(){}},{key:"unmeasureable",get:function(){return!1}},{key:"viewable",get:function(){return!1}},{key:"techniqueName",get:function(){return"BaseTechnique"}}]),t}(),n.default=t,e.exports=n.default},{}],9:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=t("./BaseTechnique");r=r&&r.__esModule?r:{default:r};var o=t("../../Helpers/Validators"),s=t("../Strategies/");t=function(t){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.DEFAULT_STRATEGY.criteria;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var i=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");if(i=!i||"object"!==(void 0===i?"undefined":a(i))&&"function"!=typeof i?this:i,void 0!==n&&t)i.element=t,i.criteria=n,i.inView=!1,i.started=!1,i.notificationLevels=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],-1===i.notificationLevels.indexOf(i.criteria.inViewThreshold)&&i.notificationLevels.push(i.criteria.inViewThreshold);else if(!t)throw"element not provided";return i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"start",value:function(){this.observer=new window.IntersectionObserver(this.viewableChange.bind(this),{threshold:this.notificationLevels}),this.observer.observe(this.element)}},{key:"dispose",value:function(){this.observer&&(this.observer.unobserve(this.element),this.observer.disconnect(this.element))}},{key:"viewableChange",value:function(t){t&&t.length&&void 0!==t[0].intersectionRatio&&(this.percentViewable=t[0].intersectionRatio,t[0].intersectionRatio<this.criteria.inViewThreshold&&this.started&&this.inView&&(this.inView=!1,this.listeners.outView.forEach((function(t){return t()}))),t[0].intersectionRatio>=this.criteria.inViewThreshold&&!this.inView&&(this.inView=this.started=!0,this.listeners.inView.forEach((function(t){return t()}))),this.listeners.changeView.forEach((function(t){return t()})))}},{key:"unmeasureable",get:function(){return!window.IntersectionObserver||this.usesPolyfill||!(0,o.validElement)(this.element)}},{key:"viewable",get:function(){return this.inView}},{key:"techniqueName",get:function(){return"IntersectionObserver"}},{key:"usesPolyfill",get:function(){return"number"==typeof window.IntersectionObserver.prototype.THROTTLE_TIMEOUT}}]),e}(r.default),n.default=t,e.exports=n.default},{"../../Helpers/Validators":5,"../Strategies/":12,"./BaseTechnique":8}],10:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=t("./IntersectionObserver");r=r&&r.__esModule?r:{default:r},t("intersection-observer");var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../Environment/Environment"));t=function(t){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var t=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?this:t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"unmeasureable",get:function(){return o.iFrameContext()===o.iFrameServingScenarios.CROSS_DOMAIN_IFRAME}},{key:"techniqueName",get:function(){return"IntersectionObserverPolyFill"}}]),e}(r.default),n.default=t,e.exports=n.default},{"../../Environment/Environment":3,"./IntersectionObserver":9,"intersection-observer":2}],11:[function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("./IntersectionObserver");Object.defineProperty(n,"IntersectionObserver",{enumerable:!0,get:function(){return i(r).default}});var o=t("./IntersectionObserverPolyfill");Object.defineProperty(n,"IntersectionObserverPolyfill",{enumerable:!0,get:function(){return i(o).default}});var a=t("./BaseTechnique");Object.defineProperty(n,"BaseTechnique",{enumerable:!0,get:function(){return i(a).default}})},{"./BaseTechnique":8,"./IntersectionObserver":9,"./IntersectionObserverPolyfill":10}],12:[function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.StrategyFactory=n.DEFAULT_STRATEGY=void 0;var r=i(e=t("../../Helpers/Validators"));e=i(e=t("../MeasurementTechniques/")),t=i(t=t("../../Options/ViewabilityCriteria"));var o=n.DEFAULT_STRATEGY={autostart:!0,techniques:[e.IntersectionObserver,e.IntersectionObserverPolyfill],criteria:t.MRC_VIDEO};n.StrategyFactory=function(){var t={autostart:0<arguments.length&&void 0!==arguments[0]?arguments[0]:o.autostart,techniques:1<arguments.length&&void 0!==arguments[1]?arguments[1]:o.techniques,criteria:2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.criteria},e=r.validateStrategy(t);if(e.invalid)throw e.reasons;return t}},{"../../Helpers/Validators":5,"../../Options/ViewabilityCriteria":14,"../MeasurementTechniques/":11}],13:[function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t("./Helpers/Polyfills.js");var o=t("./Measurement/Events");o=i(o);var a=t("./Timing/InViewTimer");a=a&&a.__esModule?a:{default:a};var s=t("./Measurement/Strategies/");s=i(s);var u=t("./Environment/Environment");i(u);var l=(u=t("./Measurement/MeasurementExecutor"))&&u.__esModule?u:{default:u};u=i(u=t("./Options/ViewabilityCriteria")),t=i(t=t("./Measurement/MeasurementTechniques/"));var _=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.executors=[]}return r(t,[{key:"measureElement",value:function(t,e){return t=new l.default(t,e),this.executors.push(t),t}},{key:"dispose",value:function(){this.executors.forEach((function(t){return t.dispose()}))}}]),t}();n.default=_,_.ViewabilityCriteria=u,_.MeasurementExecutor=l.default,_.MeasurementTechniques=t,_.InViewTimer=a.default,_.Strategies=s,_.Events=o,e.exports=n.default},{"./Environment/Environment":3,"./Helpers/Polyfills.js":4,"./Measurement/Events":6,"./Measurement/MeasurementExecutor":7,"./Measurement/MeasurementTechniques/":11,"./Measurement/Strategies/":12,"./Options/ViewabilityCriteria":14,"./Timing/InViewTimer":15}],14:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MRC_VIDEO={inViewThreshold:.5,timeInView:2e3},n.MRC_DISPLAY={inViewThreshold:.5,timeInView:1e3},n.customCriteria=function(){return{inViewThreshold:0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,timeInView:1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3}}},{}],15:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.duration=e,this.listeners=[],this.completed=!1}return i(t,[{key:"timerComplete",value:function(){this.completed=!0,this.listeners.forEach((function(t){return t()}))}},{key:"elapsed",value:function(t){"function"==typeof t&&this.listeners.push(t)}},{key:"start",value:function(){this.endTimer(),this.timer=setTimeout(this.timerComplete.bind(this),this.duration)}},{key:"stop",value:function(){this.endTimer()}},{key:"endTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.listeners.length=0)}},{key:"dispose",value:function(){this.endTimer()}}]),t}(),n.default=t,e.exports=n.default},{}]},{},[13])(13)}))},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(n(12)),a=i(n(101)),s=i(n(99)),u=i(n(58)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(){function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._supplyTagId=e,this._otherTags=n}return r(t,[{key:"getFirstOtherTagId",value:function(t){var e=(0,s.default)(this._otherTags,(function(e){return e.tag===t}));return e?e.id:0}},{key:"getString",value:function(t){return t=[{id:this.supplyTagId,tag:l.CALL_CHAIN_IDENTIFIERS.SUPPLY}].concat(t),t=(0,o.default)(t,(function(t){return t.tag+l.CALL_CHAIN_VARIABLE_ID_SEPARATOR+t.id})),(0,a.default)(t,l.CALL_CHAIN_VARIABLE_SEPARATOR)}},{key:"toString",value:function(){return this.getString(this.otherTags)}},{key:"toStringDemandAndSupply",value:function(){return this.demandTagId?this.getString([{id:this.demandTagId,tag:l.CALL_CHAIN_IDENTIFIERS.DEMAND}]):this.getString([])}},{key:"toProviderUsedString",value:function(t){return this.getString(this.otherTags.concat({id:1,tag:t}))}},{key:"toVidIoString",value:function(){return this.getString((0,u.default)(this.otherTags,(function(t){return!l.CALL_CHAIN_IDENTIFIER_BLACKLIST.hasOwnProperty(t.tag)})))}},{key:"supplyTagId",get:function(){return this._supplyTagId}},{key:"demandTagId",get:function(){return this.getFirstOtherTagId(l.CALL_CHAIN_IDENTIFIERS.DEMAND)}},{key:"accountId",get:function(){return this.getFirstOtherTagId(l.CALL_CHAIN_IDENTIFIERS.ACCOUNT)}},{key:"directConnectionId",get:function(){return this.getFirstOtherTagId(l.CALL_CHAIN_IDENTIFIERS.DIRECT_CONNECTION)}},{key:"otherTags",get:function(){return this._otherTags}}]),t}(),e.default=n},function(t,e,n){var i=n(52);t.exports=function(t,e){var n=[];return i(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),s=i(t=n(213));t=i(t=n(114));var u=i(n=n(269));n=function(t){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"Processor",t,n),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._broadcastQueues=[],t._currentWaterfallIndex=-1,t._currentAdContainer=-1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"initAd",value:function(t,n,i,r,a,u){for(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,i,r,a,u),t=0;t<this._cabinet.manifest.dx.length;t++)(n=new s.default(this._cabinet,this._cabinet.manifest.dx[t],this._initParams,t)).initialize(),this._broadcastQueues.push(n)}},{key:"maybeStopDemandRequest",value:function(){if(this._ad){this.unregisterVpaidEventListeners_(this._ad),this.unregisterSSEventListeners_(this._ad);try{this._ad.stopAd()}catch(t){}}}},{key:"stopAd",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this),this.getBroadcastQueue().finishVastRequest(!1)}},{key:"skipAd",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this),this.getBroadcastQueue().finishVastRequest(!1)}},{key:"nextBroadcast",value:function(){try{if(this.maybeStopDemandRequest(),-1<this._currentWaterfallIndex){var t=this.getBroadcastQueue();t.finishVastRequest(!0),this.unregisterSSEventListeners_(t)}if(this._currentWaterfallIndex+1>=this._broadcastQueues.length)this.registerAndForwardAdError(a.VD_ERROR_CODES.NO_FILL);else{this._currentWaterfallIndex++;var e=this.getBroadcastQueue();this.registerSSEventListeners_(e),e.requestVast(this._cabinet.getSizeInfo(this._initParams))}}catch(t){this.registerAndForwardAdError(a.VD_ERROR_CODES.UNCAUGHT_NEXT_BROADCAST_ERROR+t.message)}}},{key:"getBroadcastQueue",value:function(){return this._broadcastQueues[this._currentWaterfallIndex]}},{key:"on_js_demand_error",value:function(t,n,i){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on_js_demand_error",this).call(this,t,n,i);try{this.getBroadcastQueue().getAdContainer(this._currentAdContainer).vpaidFailed()}catch(t){}this.getBroadcastQueue().nextVpaid()}},{key:"onSlotVastDone",value:function(t,e,n,i){try{this.getBroadcastQueue().getAdContainer(this._currentAdContainer).onSlotVastDone(t,e,n,i)}catch(t){}}},{key:"onBroadcastVastReady",value:function(t){try{if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onBroadcastVastReady",this).call(this,t),this.adVpaidState.isContinue){this.maybeStopDemandRequest();var n=this.getBroadcastQueue().getAdContainer(t);n.vpaidStart(),this._currentAdContainer=t,this._cabinet.timeoutManager.startVpaid(n.demandTag.waterfallIdx,n.demandTag.broadcastIdx,n.demandTag.tier),this._ad=(new u.default).build(this._cabinet,this._initParams,n.demandTag,n.adVast),this.registerVpaidEventListeners_(this._ad),this.registerSSEventListeners_(this._ad),this._ad.load()}}catch(t){this.registerAndForwardAdError(a.VD_ERROR_CODES.UNCAUGHT_ON_BROADCAST_VAST_READY_ERROR+t.message)}}},{key:"onAdImpression",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdImpression",this).call(this);try{this.getBroadcastQueue().finishVastRequest(!1)}catch(t){}}},{key:"onBroadcastDone",value:function(){!this.adVpaidState.isVpaidEvent(a.VPAID_EVENTS.AdImpression)&&0>=this._cabinet.timeoutManager.supplyTagRemaining?this.registerAndForwardAdError(a.VD_ERROR_CODES.SUPPLY_TAG_TIMEOUT):(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onBroadcastDone",this).call(this),this.adVpaidState.isContinue&&this.nextBroadcast())}},{key:"onAdSkipped",value:function(){this.adVpaidState.isVpaidEvent(a.VPAID_EVENTS.AdImpression)&&o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdSkipped",this).call(this)}},{key:"onAdStopped",value:function(){this.adVpaidState.isVpaidEvent(a.VPAID_EVENTS.AdImpression)&&o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStopped",this).call(this)}},{key:"onAdError",value:function(t){this.adVpaidState.isVpaidEvent(a.VPAID_EVENTS.AdImpression)&&this.registerAndForwardAdError(t||a.VD_ERROR_CODES.PLAY_ERROR)}},{key:"registerAndForwardAdError",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this).call(this,t)}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},a=i(n(5)),s=i(n(3)),u=i(n(103)),l=i(n(58)),_=i(n(216)),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var o=(e.__proto__||Object.getPrototypeOf(e)).call(this,"BroadcastQueue",t,i);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");(o=!o||"object"!=typeof o&&"function"!=typeof o?this:o)._waterfallIdx=r,o._adContainers=[],r=new _.default;for(var s=0;s<n.length;s++){var u=n[s];(u=r.build(t,s,u.hasOwnProperty("url")?(0,a.default)({url:o._cabinet.replacePageProtocol(u.url)},u):u,i))&&(o._adContainers.push(u),o.registerSSEventListeners_(u))}return o._vastRequestTimer=d.NO_TIMER,o._broadcastState=d.BROADCAST_STATES.INIT,o._tier=n[0].tier,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"initialize",value:function(){(0,s.default)(this._adContainers,(function(t){return t.initialize()}))}},{key:"requestVast",value:function(t){var n=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"requestVast",this).call(this,t),this._broadcastState=d.BROADCAST_STATES.REQUESTING,this._vastRequestTimer=setTimeout((function(){n.onBroadcastVastRequestTimerTimeout()}),this._cabinet.timeouts.BROADCAST_VAST_REQUEST_TIMEOUT),this._cabinet.timeoutManager.startBroadcast(this._waterfallIdx,this.tier),(0,s.default)(this._adContainers,(function(e){e.adSlotState!==d.SLOT_STATES.INITIALIZED&&e.adSlotState!==d.SLOT_STATES.INIT_FAILED||e.requestVast(t)}))}},{key:"finishVastRequest",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"finishVastRequest",this).call(this,t),(0,s.default)(this._adContainers,(function(e){e.finishVastRequest(t)})),this._broadcastState!==d.BROADCAST_STATES.DONE&&this.onBroadcastDone()}},{key:"onSlotInitialized",value:function(t,e){this._broadcastState===d.BROADCAST_STATES.REQUESTING&&this._adContainers[t].requestVast(this._cabinet.getSizeInfo(this._initParams))}},{key:"onSlotVastDone",value:function(t,e){this.nextVpaid()}},{key:"_getMaxEffectiveScoreContainer",value:function(t){return(0,u.default)(t,(function(t){return t.effectiveScore}))}},{key:"_chooseBestContainer",value:function(t){return this._getMaxEffectiveScoreContainer(t)}},{key:"_getFixedScorePendingContainers",value:function(){return(0,l.default)(this._adContainers,(function(t){return t.isFixedScore&&t.isVastPending}))}},{key:"_getVastReadyContainers",value:function(){return(0,l.default)(this._adContainers,(function(t){return t.adSlotState===d.SLOT_STATES.VAST_READY}))}},{key:"nextVpaid",value:function(){if(0>=this._cabinet.timeoutManager.supplyTagRemaining)this.onBroadcastDone();else if(this._broadcastState===d.BROADCAST_STATES.REQUESTING&&!this.isRequestingVpaid){var t=this._getVastReadyContainers(),e=this._getMaxEffectiveScoreContainer(t);e=e?e.effectiveScore:0;var n=this._getFixedScorePendingContainers();n=(n=this._getMaxEffectiveScoreContainer(n))?n.effectiveScore:0,t=this._chooseBestContainer(t),(this._isBroadcastVastRequestTimerTimeout||e>=n)&&(t?this.onBroadcastVastReady(t.idx):this.isVastPending||this.onBroadcastDone())}}},{key:"onBroadcastVastRequestTimerTimeout",value:function(){this._vastRequestTimer=d.NO_TIMER,this.nextVpaid(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onBroadcastVastRequestTimerTimeout",this).call(this)}},{key:"onBroadcastDone",value:function(){try{this._vastRequestTimer!==d.NO_TIMER&&(clearTimeout(this._vastRequestTimer),this._vastRequestTimer=d.NO_TIMER)}catch(t){}this._broadcastState=d.BROADCAST_STATES.DONE,o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onBroadcastDone",this).call(this)}},{key:"getAdContainer",value:function(t){return this._adContainers[t]}},{key:"tier",get:function(){return this._tier}},{key:"isVastPending",get:function(){for(var t=0;t<this._adContainers.length;t++)if(this._adContainers[t].isVastPending)return!0;return!1}},{key:"isRequestingVpaid",get:function(){for(var t=0;t<this._adContainers.length;t++)if(this._adContainers[t].isRequestingVpaid)return!0;return!1}},{key:"_isBroadcastVastRequestTimerTimeout",get:function(){return this._cabinet.timeoutManager.getResponseTime(this._waterfallIdx)>=this._cabinet.timeouts.BROADCAST_VAST_REQUEST_TIMEOUT}}]),e}(i(n=n(106)).default),e.default=n},function(t,e,n){var i=n(27);t.exports=function(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(void 0===u?s==s&&!i(s):n(s,u)))var u=s,l=a}return l}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=i(n(5)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),u=i(n(217)),l=i(n(234)),_=i(n(236)),d=i(n(237)),c=i(n(238)),h=i(n(113)),p=i(n(239)),f=i(n(241)),A=i(n(242)),E=i(n(243)),R=i(n(244)),O=i(n(245)),y=i(n(246)),v=i(n(247)),S=i(n(248)),m=i(n(249)),g=i(n(250)),I=i(n(251)),T=i(n(252)),b=i(n(253)),P=i(n(255)),D=i(n(256)),V=i(n(258)),C=i(n(259)),w=i(n(260)),N=i(n(261)),M=i(n(262)),k=i(n(263)),L=i(n(264)),j=i(n(265)),U=i(n(266)),x=i(n(267)),B=i(n=n(268));n=function(){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:A.default;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.DEFAULT_CONTAINER=i,this.CONTAINERS=(0,a.default)(n,(r(e={},s.BID_PLATFORMS.rubicon,_.default),r(e,s.BID_PLATFORMS.conversant,f.default),r(e,s.BID_PLATFORMS.spotx,u.default),r(e,s.BID_PLATFORMS.spotx_alpha,u.default),r(e,s.BID_PLATFORMS.stickyads,d.default),r(e,s.BID_PLATFORMS.telaria,c.default),r(e,s.BID_PLATFORMS.appnexus,h.default),r(e,s.BID_PLATFORMS.districtm,h.default),r(e,s.BID_PLATFORMS.brealtime,h.default),r(e,s.BID_PLATFORMS.emx,g.default),r(e,s.BID_PLATFORMS.xaxis,V.default),r(e,s.BID_PLATFORMS.openx,p.default),r(e,s.BID_PLATFORMS.index,l.default),r(e,s.BID_PLATFORMS.synacor,E.default),r(e,s.BID_PLATFORMS.vuble,R.default),r(e,s.BID_PLATFORMS.unruly,O.default),r(e,s.BID_PLATFORMS.beachfront,y.default),r(e,s.BID_PLATFORMS.oath,P.default),r(e,s.BID_PLATFORMS.lkqd,m.default),r(e,s.BID_PLATFORMS.sonobi,I.default),r(e,s.BID_PLATFORMS.pubmatic,v.default),r(e,s.BID_PLATFORMS.facebook,S.default),r(e,s.BID_PLATFORMS.yieldnexus,T.default),r(e,s.BID_PLATFORMS.ortb,D.default),r(e,s.BID_PLATFORMS.ima,b.default),r(e,s.BID_PLATFORMS.pulsepoint,C.default),r(e,s.BID_PLATFORMS.grid,w.default),r(e,s.BID_PLATFORMS.rhythmone,N.default),r(e,s.BID_PLATFORMS.onetag,M.default),r(e,s.BID_PLATFORMS.improve,k.default),r(e,s.BID_PLATFORMS.ironsource,L.default),r(e,s.BID_PLATFORMS.rise,L.default),r(e,s.BID_PLATFORMS.smartadserver,j.default),r(e,s.BID_PLATFORMS.triplelift,U.default),r(e,s.BID_PLATFORMS.thirty_three_across,x.default),r(e,s.BID_PLATFORMS.yieldmo,B.default),e))}return o(t,[{key:"build",value:function(t,e,n,i){var r=this.containerFor(n.bid_platform);return r?new r(t,e,n,i):null}},{key:"containerFor",value:function(t){return t?this.CONTAINERS.hasOwnProperty(t)?this.CONTAINERS[t]:null:this.DEFAULT_CONTAINER}}]),t}(),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=r(n(3)),s=i(n(0)),u=n(1),l=i(u),_=r(n(104));n=n(2);var d=["content_id","ad_mute","custom","hide_skin","autoplay"];n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._channelId=null,t._bidParams.hasOwnProperty("channel_id")&&(t._channelId=t._bidParams.channel_id),t._spotxOptions=null,t._sizeInfo=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"generateUrl",value:function(){return u.SECURE_PROTOCOL+"//search.spotxchange.com/openrtb/2.3/dados/"+this._channelId}},{key:"_handleDirectAdOsFailure",value:function(){this.failedBidRequest()}},{key:"addGdpr",value:function(t){this.hasRegsExt()&&(t.regs.ext=this.getRegsExt()),this.hasUserExt()&&(t.user.ext=this.getUserExt())}},{key:"expandCustomArrays",value:function(t){return(0,a.default)(t,(function(e,n){try{t[n]=JSON.parse(e)}catch(i){t[n]=l.unencodeParam(e)}})),t}},{key:"getExt",value:function(){var t=this,e={sdk_name:"Prebid 1+",versionOrtb:"2.3"},n=(0,_.default)(this._bidOptionalParams,d);return(0,a.default)(n,(function(n,i){!0===n&&(n=1),!1===n&&(n=0),e[i]="custom"===i?t.expandCustomArrays(n):l.unencodeParam(n)})),e}},{key:"getParams",value:function(t){var e={id:""+(new Date).getTime(),secure:this._cabinet.pageProtocol===u.SECURE_PROTOCOL?1:0,bidfloor:this.bidFloor,video:{w:this.widthToPass(t),h:this.heightToPass(t),ext:this.getExt(),mimes:["application/javascript","video/mp4","video/webm"]}},n=navigator.language?"language":"userLanguage";return t={h:this.heightToPass(t),w:this.widthToPass(t),dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,language:navigator[n].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent},e={id:this._channelId,imp:e,site:{id:"",page:this.fullDomainToPass,content:"content"},device:t,ext:{wrap_response:0},user:{ext:{}},regs:{ext:{}}},(t=this.getSChain())&&(e.source={ext:{schain:t}}),this.addGdpr(e),e}},{key:"_containerRequestVast",value:function(t){this._sizeInfo=t;var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getParams(t);n?this._ajaxIt(e,n,t):this.failedBidRequest()}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(s.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),e}(r(n).default),e.default=n},function(t,e,n){var i=n(105),r=n(90);t.exports=function(t,e){return i(t,e,(function(e,n){return r(t,n)}))}},function(t,e,n){var i=n(74),r=n(26),o=n(23),a=n(11),s=n(18);t.exports=function(t,e,n,u){if(!a(t))return t;for(var l=-1,_=(e=r(e,t)).length,d=_-1,c=t;null!=c&&++l<_;){var h=s(e[l]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)break;if(l!=d){var f=c[h];void 0===(p=u?u(f,h,c):void 0)&&(p=a(f)?f:o(e[l+1])?[]:{})}i(c,h,p),c=c[h]}return t}},function(t,e,n){var i=n(221),r=n(64),o=n(65);t.exports=function(t){return o(r(t,void 0,i),t+"")}},function(t,e,n){var i=n(222);t.exports=function(t){return null!=t&&t.length?i(t,1):[]}},function(t,e,n){var i=n(50),r=n(223);t.exports=function t(e,n,o,a,s){var u=-1,l=e.length;for(o||(o=r),s||(s=[]);++u<l;){var _=e[u];0<n&&o(_)?1<n?t(_,n-1,o,a,s):i(s,_):a||(s[s.length]=_)}return s}},function(t,e,n){e=n(21);var i=n(31),r=n(4),o=e?e.isConcatSpreadable:void 0;t.exports=function(t){return r(t)||i(t)||!!(o&&t&&t[o])}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));t=function(t){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdVpaidParent("+t+")"),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._wrapper=n,t._ad=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"handshakeVersion",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handshakeVersion",this).call(this,t);return this._ad?this._wrapper(this._ad.handshakeVersion(t)):n}},{key:"initAd",value:function(t,n,i,o,a,s){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,i,o,a,s),this._ad)return this._wrapper(this._ad.initAd(t,n,i,o,a,s))}},{key:"resizeAd",value:function(t,n,i){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resizeAd",this).call(this,t,n,i),this._ad)return this._wrapper(this._ad.resizeAd(t,n,i))}},{key:"startAd",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"startAd",this).call(this),this._ad&&this._wrapper(this._ad.startAd())}},{key:"stopAd",value:function(){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this),this._ad)return this._wrapper(this._ad.stopAd());this.onAdStopped()}},{key:"pauseAd",value:function(){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"pauseAd",this).call(this),this._ad)return this._wrapper(this._ad.pauseAd())}},{key:"resumeAd",value:function(){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resumeAd",this).call(this),this._ad)return this._wrapper(this._ad.resumeAd())}},{key:"expandAd",value:function(){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"expandAd",this).call(this),this._ad)return this._wrapper(this._ad.expandAd())}},{key:"collapseAd",value:function(){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"collapseAd",this).call(this),this._ad)return this._wrapper(this._ad.collapseAd())}},{key:"skipAd",value:function(){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this),this._ad)return this._wrapper(this._ad.skipAd());this.onAdSkipped(),this.onAdStopped()}},{key:"getAdVolumeInternal",value:function(){if(null!==this._ad){var t=this._wrapper(this._ad.getAdVolume());"number"==typeof t&&0<=t&&1>=t&&(this._volume=t)}return this._volume}},{key:"getAdVolume",value:function(){return this.getAdVolumeInternal()}},{key:"setAdVolumeInternal",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setAdVolumeInternal",this).call(this,t),this._ad&&this._wrapper(this._ad.setAdVolume(t))}},{key:"setAdVolume",value:function(t){this.setAdVolumeInternal(t)}},{key:"getAdExpanded",value:function(){return this._ad?this._wrapper(this._ad.getAdExpanded()):o.VPAID_DEFAULTS.getAdExpanded}},{key:"getAdCompanions",value:function(){var t=o.VPAID_DEFAULTS.getAdCompanions;return this._ad&&"function"==typeof this._ad.getAdCompanions&&(t=this._wrapper(this._ad.getAdCompanions())),t}},{key:"getAdDuration",value:function(){return this._ad?this._wrapper(this._ad.getAdDuration()):o.VPAID_DEFAULTS.getAdDuration}},{key:"getAdHeight",value:function(){return this._ad?this._wrapper(this._ad.getAdHeight()):this._initParams.height}},{key:"getAdWidth",value:function(){return this._ad?this._wrapper(this._ad.getAdWidth()):this._initParams.width}},{key:"getAdViewMode",value:function(){return this._ad?this._wrapper(this._ad.getAdViewMode()):this._initParams.viewMode}},{key:"getAdIcons",value:function(){return this._ad?this._wrapper(this._ad.getAdIcons()):o.VPAID_DEFAULTS.getAdIcons}},{key:"getAdLinear",value:function(){return this._ad?this._wrapper(this._ad.getAdLinear()):o.VPAID_DEFAULTS.getAdLinear}},{key:"getAdRemainingTime",value:function(){return this._ad?this._wrapper(this._ad.getAdRemainingTime()):o.VPAID_DEFAULTS.getAdRemainingTime}},{key:"getAdSkippableState",value:function(){return this._ad?this._wrapper(this._ad.getAdSkippableState()):o.VPAID_DEFAULTS.getAdSkippableState}},{key:"wrapper",get:function(){return this._wrapper}},{key:"ad",get:function(){return this._ad}}]),e}(((t=n(108))&&t.__esModule?t:{default:t}).default),e.default=t},function(t,e,n){var i=n(226),r=n(23),o=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,a=n-1;n--;){var s=e[n];if(n==a||s!==u){var u=s;r(s)?o.call(t,s,1):i(t,s)}}return t}},function(t,e,n){var i=n(26),r=n(227),o=n(228),a=n(18);t.exports=function(t,e){return e=i(e,t),null==(t=o(t,e))||delete t[a(r(e))]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var i=n(36),r=n(229);t.exports=function(t,e){return 2>e.length?t:i(t,r(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var i=-1,r=t.length;for(0>e&&(e=-e>r?0:r+e),0>(n=n>r?r:n)&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0,n=Array(r);++i<r;)n[i]=t[i+e];return n}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=(t=n(19))&&t.__esModule?t:{default:t},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._vidIoEventCount=(0,r.default)(o.VID_IO_EVENTS,(function(){return 0}))}return i(t,[{key:"isVidIoEvent",value:function(t){return this._vidIoEventCount.hasOwnProperty(t)&&0<this._vidIoEventCount[t]}},{key:"vidIoEventCount",get:function(){return this._vidIoEventCount}},{key:"isVidIoDead",get:function(){return this.isVidIoEvent(o.VID_IO_EVENTS.js_complete)||this.isVidIoEvent(o.VID_IO_EVENTS.js_skip)||this.isVidIoEvent(o.VID_IO_EVENTS.js_unload)||this.isVidIoEvent(o.VID_IO_EVENTS.js_supply_error)}}]),t}(),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._creativeView=e.creativeView,this._start=e.start,this._firstQuartile=e.firstQuartile,this._midpoint=e.midpoint,this._thirdQuartile=e.thirdQuartile,this._complete=e.complete,this._mute=e.mute,this._unmute=e.unmute,this._pause=e.pause,this._rewind=e.rewind,this._resume=e.resume,this._fullscreen=e.fullscreen,this._exitFullscreen=e.exitFullscreen,this._expand=e.expand,this._collapse=e.collapse,this._acceptInvitationLinear=e.acceptInvitationLinear,this._acceptInvitation=e.acceptInvitation,this._closeLinear=e.closeLinear,this._skip=e.skip,this._progress=e.progress}return i(t,[{key:"creativeView",get:function(){return this._creativeView}},{key:"start",get:function(){return this._start}},{key:"firstQuartile",get:function(){return this._firstQuartile}},{key:"midpoint",get:function(){return this._midpoint}},{key:"thirdQuartile",get:function(){return this._thirdQuartile}},{key:"complete",get:function(){return this._complete}},{key:"mute",get:function(){return this._mute}},{key:"unmute",get:function(){return this._unmute}},{key:"pause",get:function(){return this._pause}},{key:"rewind",get:function(){return this._rewind}},{key:"resume",get:function(){return this._resume}},{key:"fullscreen",get:function(){return this._fullscreen}},{key:"exitFullscreen",get:function(){return this._exitFullscreen}},{key:"expand",get:function(){return this._expand}},{key:"collapse",get:function(){return this._collapse}},{key:"acceptInvitationLinear",get:function(){return this._acceptInvitationLinear}},{key:"acceptInvitation",get:function(){return this._acceptInvitation}},{key:"closeLinear",get:function(){return this._closeLinear}},{key:"skip",get:function(){return this._skip}},{key:"progress",get:function(){return this._progress}}]),t}(),e.default=t},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(t=n(3))&&t.__esModule?t:{default:t},a=i(t=n(0)),s=i(t=n(1)),u=i(t=n(233)),l=n(102);n=function(){function t(e,n,i){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._isOrtb=e,this._baseUrl=n,this._vastTag=i}return r(t,[{key:"getVastVersion",value:function(){return 1!==this._vastTag.getElementsByTagName("VAST").length?1<=this._vastTag.getElementsByTagName("VideoAdServingTemplate").length?a.VAST_VERSION._1_0:a.VAST_VERSION.NOT_VAST:this._vastTag.getElementsByTagName("VAST")[0].getAttribute("version")||a.VAST_VERSION.UNKNOWN}},{key:"findVideoAd",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=a.getDefaultVastData();if(n.version=this.getVastVersion(),-1<[a.VAST_VERSION._1_0,a.VAST_VERSION.NOT_VAST].indexOf(n.version))return n;var i=this._vastTag.getElementsByTagName("Ad");if(i=0===i.length?null:i[0]){try{n.impressionPixels=this.getUnorderedUrls("Impression",i)}catch(t){throw Error(a.VD_ERROR_CODES.VAST_IMPRESSION_PIXELS_ERROR+"_"+t.message)}try{n.errorPixels=this.getUnorderedUrls("Error",i)}catch(t){throw Error(a.VD_ERROR_CODES.VAST_ERROR_PIXELS_ERROR+"_"+t.message)}}if(this._isOrtb){i=null;try{i=this._vastTag.getElementsByTagName("Extension")}catch(t){throw Error(a.VD_ERROR_CODES.VAST_ERROR_EXTENSIONS+"_"+t.message)}try{if(e)for(e=0;e<i.length;e++){var r=i[e];r.getAttribute("type")===a.ORTB_DETAIL&&(n.ortb_detail={bf:s.getORtbElement(r,"bf",parseFloat),bp:s.getORtbElement(r,"bp",parseFloat),scode:s.getORtbElement(r,"scode",parseInt),bpa:s.getORtbElement(r,"bpa",parseFloat),bid_result:s.getORtbElement(r,"bid_result",parseInt),seat_id:s.getORtbElement(r,"seat_id",(function(t){return t})),cid:s.getORtbElement(r,"cid",(function(t){return t})),crid:s.getORtbElement(r,"crid",(function(t){return t})),adomain:s.getORtbElement(r,"adomain",t.getFirstElementStringWithCommas)})}}catch(t){throw Error(a.VD_ERROR_CODES.VAST_ERROR_ORTB_DETAIL+"_"+t.message)}}e=null,r=void 0;try{var o=this._vastTag.getElementsByTagName("Wrapper");0<o.length&&(n.wrapperWaterfallCount=o.length-1,e=o[0]),r=u.getFirstElement("Linear",this._vastTag)}catch(t){throw Error(a.VD_ERROR_CODES.VAST_GET_LINEAR_WRAPPER_XML_ERROR+"_"+t.message)}if(null!==e)try{var l=u.getFirstElement("VASTAdTagURI",e);n.followAdditionalWrappers=s.getBooleanAttribute(e,"followAdditionalWrappers",!0),n.allowMultipleAds=s.getBooleanAttribute(e,"allowMultipleAds",!0),n.fallbackOnNoAd=s.getBooleanAttribute(e,"fallbackOnNoAd",!0),n.wrapperUrl=null!==l?this.getUrl(l.textContent):null,n.impressionPixels=this.getUnorderedUrls("Impression",e),n.errorPixels=this.getUnorderedUrls("Error",e);var _=u.getFirstElement("Linear",e);null!==_&&this.setTrackingEvents(n,_),n.clickTracking=this.getUnorderedUrls("ClickTracking",e)}catch(t){throw Error(a.VD_ERROR_CODES.VAST_IS_WRAPPER_XML_ERROR+"_"+t.message)}else if(null!==r)try{n.linear=!0;var d=r.getElementsByTagName("MediaFile");for(o=0;o<d.length;o++){var c=d[o];if(c.hasAttribute("type")){var h=c.getAttribute("type");"video/x-flv"===h?n.xFlvMedia.push(this.getMedia(c)):"application/javascript"===h?n.jsVpaidUrl=this.getUrl(c.textContent):"application/x-shockwave-flash"===h?n.flashVpaidUrl=this.getUrl(c.textContent):0===h.indexOf("video")&&n.media.push(this.getMedia(c))}}var p=u.getFirstElement("AdParameters",r);null!==p&&(n.adParameters=p.textContent);var f=u.getTextFromTagName("Duration",r);if(null!==f){var A=u.parseDuration(f);null!==A&&(n.duration=A)}var E=r.getAttribute("skipoffset");if(null!==E){var R=u.getSkipOffset(E,n.duration);n.skipOffset=null===R?a.VPAID_CONSTANTS.NOT_IMPLEMENTED:R}this.setTrackingEvents(n,r),n.clickTracking=this.getUnorderedUrls("ClickTracking",r),n.clickThrough=this.getUrlFromTagName("ClickThrough",r)}catch(t){throw Error(a.VD_ERROR_CODES.VAST_IS_LINEAR_XML_ERROR+"_"+t.message)}else try{n.noad=this.getUrlFromTagName("Error",this._vastTag)}catch(t){throw Error(a.VD_ERROR_CODES.VAST_NOAD_XML_ERROR+"_"+t.message)}return n}},{key:"getMedia",value:function(t){function e(t){return"true"===t}var n={mimetype:t.getAttribute("type"),url:this.getUrl(t.textContent)},i={delivery:function(t){return t},width:parseInt,height:parseInt,bitrate:parseInt,scalable:e,maintainAspectRatio:e};return(0,o.default)(i,(function(e,i){t.hasAttribute(i)&&(n[i]=e(t.getAttribute(i)))})),n}},{key:"getUrlFromTagName",value:function(t,e){return null!==(t=u.getFirstElement(t,e))?this.getUrl(t.textContent):null}},{key:"getUrl",value:function(t){if(!(t=t.trim()))return null;try{return(0,l.resolve)(this._baseUrl,t)}catch(e){return t}}},{key:"setTrackingEvents",value:function(t,e){e=e.getElementsByTagName("Tracking");for(var n=0;n<e.length;n++){var i=e[n],r=i.getAttribute("event");t.trackingEvents.hasOwnProperty(r)&&(i=this.getUrl(i.textContent))&&t.trackingEvents[r].push(i)}}},{key:"getUnorderedUrls",value:function(t,e){var n=[];for(t=e.getElementsByTagName(t),e=0;e<t.length;e++){var i=this.getUrl(t[e].textContent);null!==i&&n.push(i)}return n}}],[{key:"getFirstElementStringWithCommas",value:function(t){try{var e=t.split(",");return void 0===e||0===e.length?"":e[0]}catch(t){return""}}}]),t}(),e.default=n},function(t,e,n){function i(t,e){return 0<(t=e.getElementsByTagName(t)).length?t[0]:null}function r(t){var e=t.trim().split(":");if(3!==e.length)return null;var n=e[2].split(".");return t=parseInt(n[0]),2===n.length&&(t+=parseFloat("0."+n[1])),n=60*parseInt(e[1]),e=3600*parseInt(e[0]),isNaN(e)||isNaN(n)||isNaN(t)||3600<n||60<t?null:e+n+t}Object.defineProperty(e,"__esModule",{value:!0}),e.getFirstElement=i,e.getTextFromTagName=function(t,e){return null!==(t=i(t,e))&&""!==(t=t.textContent.trim())?t:null},e.parseDuration=r,e.getSkipOffset=function(t,e){return"%"===(t=t.trim())[t.length-1]?null!==e&&0<e?parseFloat(t)/100*e:null:r(t)}},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=r(t=n(14)),s=r(t=n(56)),u=i(t=n(1));t=r(t=n(2));var l=n(235),_=r(l),d=r(l=n(3)),c=i(n=n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).placement=0,t._bidParams.hasOwnProperty("placement")&&(t.placement=parseInt(t._bidParams.placement)||0),t._siteId=parseInt(t._bidParams.siteId),t._playbackMethod=parseInt(t._bidParams.playbackMethod||3),t._callBackId=t.cabinet.shortUuid+Math.floor(100*Math.random()).toString(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"getUserSyncs",value:function(){return[{format:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]}},{key:"getJsonPayload",value:function(t){var e=this.widthToPass(t);return t=this.heightToPass(t),e={id:this._callBackId,site:{page:this.fullDomainToPass,ref:this.referrerToPass},imp:[{id:"0",video:{mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash),minduration:0,maxduration:200,protocols:[1,2,3,4,5,6],w:e,h:t,linearity:1,api:[1,2],playbackmethod:[this._playbackMethod],startdelay:0},ext:{sid:"pr_1_1_s",custom:"videoPlayback"},bidfloor:this.bidFloor}]},(t=this.getSChain())&&(e.source={ext:{schain:t}}),0<this.placement&&(e.imp[0].video.placement=this.placement),this.gdprSet()&&(e.user={ext:{consent:this.gdprConsentString()}}),this.hasRegsExt()&&(e.regs={ext:this.getRegsExt()}),e}},{key:"getRequestParams",value:function(t){return null===this._siteId||(0,a.default)(this._siteId)?null:(t=this.getJsonPayload(t),{fn:this._callBackFnName(),v:"8.8",s:this._siteId,r:JSON.stringify(t)})}},{key:"_getBaseUrl",value:function(){return"as-sec.casalemedia.com/cygnus"}},{key:"getUrl",value:function(t){var e=this._getBaseUrl();return(t=this.getRequestParams(t))?u.makeUrl(u.SECURE_PROTOCOL,e,t):null}},{key:"_callBackFnName",value:function(){return"indexResponse"+this._callBackId}},{key:"_jsonpIt",value:function(t,e){var n=this;try{(0,_.default)(t,this._callBackFnName(),(function(t){n.handleResponse(t,e)}),(function(){n.handleTimeout()}),this.getTimeoutInfo().timeout)}catch(t){this.handleError()}}},{key:"_containerRequestVast",value:function(t){var e=this.getUrl(t);e?this._jsonpIt(e,t):this.failedBidRequest()}},{key:"handleTimeout",value:function(){this.failedBidRequest(c.VAST_ERRORCODES.SS_VEC_1312_INDEX_REQUEST_TIMEOUT,c.VD_ERROR_CODES.HB_BID_REQUEST_TIMEOUT)}},{key:"extractBid",value:function(t){try{if("string"==typeof t.ext.pricelevel){var e=t.ext.pricelevel;return"_"===e.charAt(0)&&(e=e.slice(1)),t=e/100,!(0,s.default)(t)||(0,a.default)(t)?null:t}}catch(t){return null}}},{key:"getBestBid",value:function(t){var e=this,n=null;return(0,d.default)(t.seatbid,(function(t){(0,d.default)(t.bid,(function(t){t.price=e.extractBid(t),t.price&&(null===n||t.price>n.price)&&(n=t)}))})),n}},{key:"handleResponse",value:function(t,e){var n=null;try{n=this.getBestBid(t),this.bid=n.price}catch(t){return void this.failedBidRequest()}if(this.hasBid())if(this.bidMeetsFloor()){t=null;try{t=n.ext.vasturl}catch(t){return void this.failedBidRequest()}this._getAdVastProcessor(e).requestVast(t,!0,this.hbDetails)}else this.failedBidRequest(c.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR);else this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e||"callback",i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)||function(){},r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)||function(){},o=window.setTimeout((function(){window[n]=function(){},r()}),4<arguments.length&&void 0!==arguments[4]?arguments[4]:2e3);window[n]=function(t){window.clearTimeout(o),i(t),delete window[n]};var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=t;var s=document.getElementsByTagName("head");(s=s.length?s:document.getElementsByTagName("body")).length&&(s=s[0]).insertBefore(a,s.firstChild)}},function(t,e,n){(function(t){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(14),s=r(a),u=r(a=n(19)),l=r(a=n(12)),_=n(1),d=i(_);a=r(a=n(2));var c=i(n(0));a=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).accountId=parseInt(t._bidParams.accountId),t.zoneId=parseInt(t._bidParams.zoneId),t.siteId=parseInt(t._bidParams.siteId),t.sizeId=parseInt(t._bidParams.sizeId||201),t.keywords=t._bidOptionalParams.keywords,t.inventory=t._bidOptionalParams.inventory,t.visitor=t._bidOptionalParams.visitor,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),o(n,[{key:"_getScreenResolution",value:function(){return[window.screen.width,window.screen.height].join("x")}},{key:"getSlotId",value:function(){return this._cabinet.uuid}},{key:"isInvalidParams",value:function(){return!this.siteId||(0,s.default)(this.siteId)||!this.zoneId||(0,s.default)(this.zoneId)||!this.accountId||(0,s.default)(this.accountId)||!this.sizeId||(0,s.default)(this.sizeId)}},{key:"unencodeOptionalParams",value:function(t){return t?(0,u.default)(t,(function(t){return"string"==typeof t?d.unencodeComponent(t):(0,l.default)(t,(function(t){return d.unencodeComponent(t)}))})):t}},{key:"addOptionalParams",value:function(t){this.keywords&&(t.keywords=this.keywords),this.inventory&&(t.inventory=this.unencodeOptionalParams(this.inventory)),this.visitor&&(t.visitor=this.unencodeOptionalParams(this.visitor))}},{key:"getRequestParams",value:function(e){return e={id:this._cabinet.shortUuid,test:0,cur:["USD"],source:this.getSourceWithSchainPchain(),site:{page:this.fullDomainToPass,ref:this.referrerToPass,publisher:{id:""+this.publisherId}},device:{ua:t.navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:window.screen?window.screen.height:this.heightToPass(e),w:window.screen?window.screen.width:this.widthToPass(e),geo:{},language:navigator.language},tmax:1e3,imp:[{bidfloor:this._bidFloor,exp:300,id:this._cabinet.shortUuid,secure:this._cabinet.pageProtocol===_.SECURE_PROTOCOL?1:0,ext:{rubicon:{accountId:this.accountId,siteId:this.siteId,zoneId:this.zoneId,video:{language:"en",size_id:this.sizeId}}},video:{context:203===this.sizeId?"outstream":"instream",protocols:[2,3,4,5,6],pos:0,playbackmethod:[1,3],linearity:1,api:this.cabinet.canPlayFlash?[1,2]:[2],mimes:c.HTML5_MIMES,playerSize:[this.widthToPass(e),this.heightToPass(e)],w:this.widthToPass(e),h:this.heightToPass(e)}}],ext:{prebid:{cache:{vastxml:{returnCreative:!0}},targeting:{includewinners:!0,includebidderkeys:!1}}}},this.gdprSet()&&(e.user={ext:{consent:this.gdprConsentString()}}),this.hasRegsExt()&&(e.regs={ext:this.getRegsExt()}),e}},{key:"getUrl",value:function(){return"https://prebid-server.rubiconproject.com/openrtb2/auction"}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t)}catch(t){this.failedHBVastRequest("RUBICON_"+c.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(c.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),n}(a.default),e.default=a}).call(this,n(8))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var r=n(14),o=r&&r.__esModule?r:{default:r},a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).zoneId=null,t._bidParams.hasOwnProperty("zoneId")&&(t.zoneId=parseInt(t._bidParams.zoneId)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getUrl",value:function(){return this._cabinet.pageProtocol+"//ads.stickyadstv.com/www/delivery/swfIndex.php?reqType=AdsSetup&protocolVersion=2.0&zoneId="+this.zoneId+"&loc="+this.domainToPass}},{key:"_containerRequestVast",value:function(t){(null===this.zoneId||(0,o.default)(this.zoneId))&&this.failedBidRequest("STICKY_INVALID_ZONEID"),this._ajaxIt(this.getUrl(),null,t,"GET")}},{key:"getPriceFromExtension",value:function(t){var e=void 0;try{e=t.getElementsByTagName("Extension")}catch(t){this.failedBidRequest()}for(t=0;t<e.length;t++){var n=e[t];if("StickyPricing"===n.getAttribute("type"))return e=n.getElementsByTagName("Price")[0],{bid:parseFloat(e.textContent.trim()),currency:e.getAttribute("currency")}}}},{key:"handleResponse",value:function(t,e){var n=null;try{n=(new DOMParser).parseFromString(t,"application/xml")}catch(t){return void this.failedBidRequest("STICKY_HB_VAST_PARSE_ERROR")}t=void 0;try{t=this.getPriceFromExtension(n),this.bid=t.bid}catch(t){return void this.failedBidRequest()}this.hasBid()?"USD"!==t.currency?this.failedBidRequest(a.VAST_ERRORCODES.SS_VAST_ERRORCODE_1301,"STICKY_CURRENCY_NON_USD_"+t.currency):this.bidMeetsFloor()?this._getAdVastProcessor(e).processVast(n,"",this.hbDetails):this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=i(t=n(2));var o=n(3),a=i(o),s=i(o=n(61)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).adCode=null,t.supplyCode=null,t.setParams(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"setParams",value:function(){this._bidParams.hasOwnProperty("adCode")&&(this.adCode=this._bidParams.adCode),this._bidParams.hasOwnProperty("supplyCode")&&(this.supplyCode=this._bidParams.supplyCode)}},{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(e,null,t,"GET")}catch(t){this.failedHBVastRequest("TELARIA_"+u.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"_getEncodedValIfNotEmpty",value:function(t){return t?encodeURIComponent(t):""}},{key:"_getSupplyChainAsUrlParam",value:function(t){var e=this;if((0,s.default)(t))return"";var n="&schain="+t.ver+","+t.complete;return t.nodes.forEach((function(t){n+="!",n+=e._getEncodedValIfNotEmpty(t.asi)+",",n+=e._getEncodedValIfNotEmpty(t.sid)+",",n+=e._getEncodedValIfNotEmpty(t.hp)+",",n+=e._getEncodedValIfNotEmpty(t.rid)+",",n+=e._getEncodedValIfNotEmpty(t.name)+",",n+=""+e._getEncodedValIfNotEmpty(t.domain)})),n}},{key:"generateUrl",value:function(t){if(null===this.adCode||null===this.supplyCode)return null;var e=this.widthToPass(t);t=this.heightToPass(t);var n=this._cabinet.pageProtocol+"//"+this.supplyCode+".ads.tremorhub.com/ad/tag?adCode="+this.adCode;return n+="&playerWidth="+e,n+="&playerHeight="+t,n+="&srcPageUrl="+encodeURIComponent(this.fullDomainToPass),(0,a.default)(this._bidOptionalParams,(function(t,e){n+="&"+e+"="+t})),this.gdprSet()&&(n+="&gdpr="+this.gdprApplies()+"&gdpr_consent="+this.encodedGdprConsentString()),n+=this._getSupplyChainAsUrlParam(this.getSChain()),n+="&fmt=json"}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}!n.hasOwnProperty("seatbid")||1>n.seatbid.length?this.failedBidRequest():(null!==(t=this.getBestBidOpenRTBResults(n))&&(this.bid=t.price),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(u.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest())}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),s=r(a),u=r(n(0)),l=i(n(240)),_=i(n(4)),d=i(n(5)),c=i(n(101)),h=i(n(61));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).deliveryDomain=t._bidParams.delDomain,t.auid=t._bidParams.auid,t.customParams=t._bidOptionalParams.customParams||{},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"getUserSyncs",value:function(){return[{format:"iframe",url:this.generateDefaultSyncUrl()}]}},{key:"generateDefaultSyncUrl",value:function(){var t=[];return this.gdprSet()&&(t.push("gdpr="+(this.gdprApplies()?1:0)),t.push("gdpr_consent="+encodeURIComponent(this.gdprConsentString()||""))),this.ccpaUSPrivacySet()&&t.push("us_privacy="+encodeURIComponent(this.ccpaUSPrivacy())),"https://u.openx.net/w/1.0/pd"+(0<t.length?"?"+t.join("&"):"")}},{key:"formatCustomValue",value:function(t){return(0,_.default)(t)?(0,c.default)(t,","):t}},{key:"getCustomParams",value:function(){var t=this,e={};return(0,l.default)(this.customParams,(function(n,i){e["c."+i]=encodeURIComponent(s.unencodeComponent(t.formatCustomValue(n)))})),e}},{key:"getRequestParams",value:function(t){if(!this.auid)return null;var n=this.widthToPass(t);t=this.heightToPass(t);var i={imp:[{video:{mimes:this.cabinet.supportedMimes(!1),w:n,h:t}}]};return n={auid:this.auid,url:this.fullDomainToPass,vht:t,vwd:n,openrtb:encodeURIComponent(JSON.stringify(i)),be:!0,schain:e.serializeSupplyChain(this.getSChain())},this.gdprSet()&&(n.gdpr_consent=this.gdprConsentString(),n.gdpr=this.gdprApplies()),this.ccpaUSPrivacySet()&&(n.us_privacy=this.ccpaUSPrivacy()),(0,d.default)(n,this.getCustomParams())}},{key:"getUrl",value:function(){return a.SECURE_PROTOCOL+"//"+this.deliveryDomain+"/v/1.0/avjp"}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t,"GET")}catch(t){this.failedHBVastRequest("OPENX_"+u.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){t=JSON.parse(t);try{this.bid=parseInt(t.pub_rev)/1e3}catch(t){return void this.failedBidRequest()}if(this.hasBid())if(this.bidMeetsFloor()){var n=null;try{n=t.vastUrl}catch(t){return void this.failedBidRequest()}this._demandTag.url=n,this._getAdVastProcessor(e).requestVast(n,!0,this.hbDetails)}else this.failedBidRequest(u.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR);else this.failedBidRequest()}},{key:"domainToPass",get:function(){var t=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"fullDomainToPass",this),n=this.cabinet.pageProtocol;return 0===t.indexOf("//")?n+t:0!==t.indexOf("http")?n+"//"+t:t}}],[{key:"serializeSupplyChain",value:function(t){return(0,h.default)(t)?"":t.ver+","+t.complete+"!"+e.serializeSupplyChainNodes(t.nodes)}},{key:"serializeSupplyChainNodes",value:function(t){var e="asi sid hp rid name domain".split(" ");return t.map((function(t){return e.map((function(e){return t[e]||""})).join(",")})).join("!")}}]),e}(i(n=n(2)).default),e.default=n},function(t,e,n){var i=n(92),r=n(97),o=n(30);t.exports=function(t,e){return null==t?t:i(t,r(e),o)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=n(1);n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).siteId=t._bidParams.siteId,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"isMobile",value:function(){try{return null!==document.querySelector('meta[name="viewport"][content*="width=device-width"]')?1:0}catch(t){return 0}}},{key:"getDevice",value:function(){var t=navigator.language?"language":"userLanguage";return{h:window.screen.height,w:window.screen.width,dnt:this.getDNT()?1:0,language:navigator[t].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent}}},{key:"getRequestParams",value:function(t){if(!this.siteId)return null;var e=this.widthToPass(t);return t=this.heightToPass(t),{id:this.shortUuid,user:{ext:this.getUserExt()},regs:{ext:this.getRegsExt()},site:{id:this.siteId,mobile:this.isMobile(),page:this.domainToPass},at:1,device:this.getDevice(),imp:[{video:{mimes:"video/mp4 application/javascript video/webm video/quicktime video/ogg video/3gpp".split(" "),api:[1,2],w:e,h:t},id:this.shortUuid,secure:this._cabinet.pageProtocol===o.SECURE_PROTOCOL,bidfloor:this.bidFloor,displaymanager:"SpringServe",displaymanagerver:"2.2.2"}]}}},{key:"getUrl",value:function(){return this._cabinet.pageProtocol+"//web.hb.ad.cpe.dotomi.com/s2s/header/24"}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t)}catch(t){this.failedHBVastRequest("CONVERSANT_"+r.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}!n.hasOwnProperty("seatbid")||1>n.seatbid.length?this.failedBidRequest():(null!==(t=this.getBestBidOpenRTBResults(n))&&(this.bid=t.price),this.hasBid()?this.bidMeetsFloor()?this._getAdVastProcessor(e).requestVast(t.adm,!0,this.hbDetails):this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest())}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=(t=n(62))&&t.__esModule?t:{default:t};t=(t=n(39))&&t.__esModule?t:{default:t};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?this:t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"_containerRequestVast",value:function(t){t=new r.default(this._cabinet,this._initParams,this._demandTag,t),this.registerSSEventListeners_(t),t.requestVast(null,o.shouldUseWithCreds(this._demandTag.url))}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},s=(t=n(37))&&t.__esModule?t:{default:t};t=(t=n(2))&&t.__esModule?t:{default:t};var u=n(0),l=i(u),_=i(u=n(16)),d=i(n=n(1));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).id=Math.random().toString(),t._bidResults=null,t._bidIndex=0,t._numBids=0,t._sizeInfo=null,t._firedDemandReqResponse=!1,t._contangoSectionId=null,t._bidParams.hasOwnProperty("contango_section_id")&&(t._contangoSectionId=d.unencodeParam(t._bidParams.contango_section_id)),t.seatId=t._bidParams.seat_id||"springserve",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"getUserSyncs",value:function(){return[{format:"iframe",url:"https://ad-cdn.technoratimedia.com/html/usersync.html?src=springserve"}]}},{key:"isLastBid",value:function(){return this.bidIndex>=this.numBids-1}},{key:"incrementBidIndex",value:function(){this._bidIndex+=1}},{key:"onSlotVastDone",value:function(t,n){n?a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotVastDone",this).call(this,t,n):this.isLastBid()?a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotVastDone",this).call(this,t,null):(this.incrementBidIndex(),this.processBid())}},{key:"failedBidRequest",value:function(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l.VAST_ERRORCODES.SS_VAST_ERRORCODE_1301,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l.VD_ERROR_CODES.HB_BID_ERROR;this.sendJsDemandResponse(l.VID_IO_EVENTS.cm_js_demand_req_resp,this._demandTag,(r(t={cc_i:this._demandTag.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.response,!0).join(","),response_time:this._cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),has_ad:!1,reason:i,wrapper_count:0,dtype:l.DEMAND_TYPES.UNKNOWN},l.VID_IO_PARAMS.bidPrice,this.bid),r(t,l.VID_IO_PARAMS.bidFloor,this.bidFloor),r(t,l.VID_IO_PARAMS.vastErrorCode,n),t)),this._firedDemandReqResponse=!0,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotVastDone",this).call(this,this._idx,null)}},{key:"successfulBidRequest",value:function(){var t;this.sendJsDemandResponse(l.VID_IO_EVENTS.cm_js_demand_req_resp,this._demandTag,(r(t={cc_i:this._demandTag.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.response,!0).join(","),response_time:this.cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),has_ad:!0,wrapper_count:0,dtype:l.DEMAND_TYPES.UNKNOWN},l.VID_IO_PARAMS.bidPrice,this.bid),r(t,l.VID_IO_PARAMS.bidFloor,this.bidFloor),r(t,l.VID_IO_PARAMS.vastVersion,l.VAST_VERSION.SYNACOR),t)),this._firedDemandReqResponse=!0}},{key:"getRequestParams",value:function(t,e){if(!this._contangoSectionId)return null;var n=1;return e&&e.isInView!==l.VIEWABILITY.UNINITIALIZED&&e.isInView!==l.VIEWABILITY.UNKNOWN?e.isInView===l.VIEWABILITY.NOT_VIEWABLE&&(n=3):n=0,t={id:this.id,site:{domain:this.domainToPass,page:this.fullDomainToPass,ref:this.cabinet.locationInfo.document__referrer},source:this.getSourceWithSchainPchain(),imp:[{id:this.id,bidfloor:this.bidFloor,tagid:this._contangoSectionId,video:{w:this.widthToPass(t),h:this.heightToPass(t),pos:n,linearity:1}}],device:{ua:navigator.userAgent}},this._bidOptionalParams.hasOwnProperty("minduration")&&(t.imp[0].video.minduration=this._bidOptionalParams.minduration),this._bidOptionalParams.hasOwnProperty("maxduration")&&(t.imp[0].video.maxduration=this._bidOptionalParams.maxduration),this._bidOptionalParams.hasOwnProperty("site_id")&&(t.site.id=this._bidOptionalParams.site_id),this._bidOptionalParams.hasOwnProperty("publisher_id")&&(t.site.publisher={id:this._bidOptionalParams.publisher_id}),this._bidOptionalParams.hasOwnProperty("viewability_percentage")&&!isNaN((0,s.default)(this._bidOptionalParams.viewability_percentage))&&(t.imp[0].metric=[{type:"viewability_percentage",value:(0,s.default)(this._bidOptionalParams.viewability_percentage),vendor:"EXCHANGE"}]),t}},{key:"getUrl",value:function(){return this._cabinet.pageProtocol+"//uat-net.technoratimedia.com/openrtb/bids/"+this.seatId}},{key:"_containerRequestVast",value:function(){var t=_.detector();t&&t.isInView===l.VIEWABILITY.UNINITIALIZED?this.waitForViewabilityInitAsync(t,this.requestVastPostViewabilityInit.bind(this)):this.requestVastPostViewabilityInit(t)}},{key:"waitForViewabilityInitAsync",value:function(t,e){setTimeout((function(){e(t)}),this.cabinet.timeouts.VIEWABILITY)}},{key:"requestVastPostViewabilityInit",value:function(t){var e=this.sizeInfo;if(t=this.getRequestParams(e,t))try{this._ajaxIt(this.getUrl(),t,e)}catch(t){this.failedHBVastRequest("SYNACOR_"+l.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}else this.failedBidRequest(l.VAST_ERRORCODES.SS_VEC_1314_HB_ERROR_MISSING_REQUEST_PARAMS,l.VD_ERROR_CODES.HB_MISSING_BID_PARAMS)}},{key:"handleResponse",value:function(t,e,n){try{if(204===n.status)return void this.failedBidRequest()}catch(t){}try{this._bidResults=this.sortOpenRTBResultsByPrice(JSON.parse(t))}catch(t){return void this.failedBidRequest(l.VAST_ERRORCODES.SS_VEC_1323_HB_ERROR_PARSING_BID_RESPONSE)}this._bidResults?(this._numBids=this.bidResults.length,0===this.numBids?this.failedBidRequest():this.processBid()):this.failedBidRequest(l.VAST_ERRORCODES.SS_VEC_1323_HB_ERROR_PARSING_BID_RESPONSE)}},{key:"processBid",value:function(){var t=void 0;try{t=this.bidResults[this.bidIndex].bid[0],this.bid=t.price}catch(t){return void this.onSlotVastDone(this._idx,null)}0!==this.bidIndex&&this.firedDemandReqResponse||this.successfulBidRequest(),this.hasBid()&&this.bidMeetsFloor()&&t.hasOwnProperty("nurl")?(t=t.nurl.replace(/\${AUCTION_PRICE}/g,this.bid),this._getAdVastProcessor(this.sizeInfo).requestVast(t,!0,this.hbDetails)):this.onSlotVastDone(this._idx,null)}},{key:"bidResults",get:function(){return this._bidResults}},{key:"bidIndex",get:function(){return this._bidIndex}},{key:"numBids",get:function(){return this._numBids}},{key:"sizeInfo",get:function(){return this._cabinet.getSizeInfo(this._initParams)}},{key:"firedDemandReqResponse",get:function(){return this._firedDemandReqResponse}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=n(14),a=o&&o.__esModule?o:{default:o},s=n(1).SECURE_PROTOCOL+"//player.mediabong.{ENV}/prebid/request",u=["net"];n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).env=t._bidParams.env,t.zoneId=t._bidParams.zoneId,t.pubId=parseInt(t._bidParams.pubId),t.videoContext=t._bidParams.videoContext,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"isInvalidParams",value:function(){return!this.zoneId||(0,a.default)(this.zoneId)||!this.pubId||(0,a.default)(this.pubId)||!this.env||!u.includes(this.env)||!this.videoContext}},{key:"getRequestParams",value:function(t){if(this.isInvalidParams())return null;var e=this.fullDomainToPass;return{width:this.widthToPass(t),height:this.heightToPass(t),pub_id:this.pubId,zone_id:this.zoneId,context:this.videoContext,floor_price:this.bidFloor,url:e.startsWith("http")?e:this._cabinet.pageProtocol+"//"+e,env:this.env}}},{key:"getUrl",value:function(){return s.replace("{ENV}",this.env)}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1314_HB_ERROR_MISSING_REQUEST_PARAMS,r.VD_ERROR_CODES.HB_MISSING_BID_PARAMS);else try{this._ajaxIt(this.getUrl(),e,t)}catch(t){this.failedHBVastRequest("VUBLE_"+r.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{var i=JSON.parse(t);if("ok"!==i.status)return void this.failedBidRequest();if(this.bid=i.cpm,!this.hasBid())return void this.failedBidRequest();if(!this.bidMeetsFloor())return void this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR);if(!(n=i.url))return void this.failedBidRequest()}catch(t){return void this.failedBidRequest()}this._getAdVastProcessor(e).requestVast(n,!0,this.hbDetails)}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=i(t=n(2));var o=n(38),a=i(o),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),u=i(o=n(14)),l=n(1).SECURE_PROTOCOL+"//targeting.unrulymedia.com/prebid";n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).targetingUUID=t._bidParams.targetingUUID,t.siteId=t._bidParams.siteId,t.videoContext=t._bidParams.videoContext,t.adUnitCode=Math.random().toString(),t.bidId=Math.random().toString(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"isInvalidParams",value:function(){return!this.targetingUUID||!this.siteId||(0,u.default)(this.siteId)||!this.videoContext}},{key:"getRequestParams",value:function(t){return this.isInvalidParams()?null:{bidRequests:[{params:{targetingUUID:this.targetingUUID,siteId:this.siteId},mediaTypes:{video:{context:this.videoContext}},adUnitCode:this.adUnitCode,sizes:[[this.widthToPass(t),this.heightToPass(t)]],bidId:this.bidId}]}}},{key:"getUrl",value:function(){return l}},{key:"_ajaxIt",value:function(t,e,n){var i=this.handleResponse.bind(this),r=this.handleError.bind(this);a.default.ajax(t,this.getTimeoutInfo(),{success:function(t){i(t,n)},error:function(){r()}},JSON.stringify(e),{method:"POST",withCredentials:!0,contentType:"application/json"})}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest(s.VAST_ERRORCODES.SS_VEC_1314_HB_ERROR_MISSING_REQUEST_PARAMS,s.VD_ERROR_CODES.HB_MISSING_BID_PARAMS);else try{this._ajaxIt(this.getUrl(),e,t)}catch(t){this.failedHBVastRequest("UNRULY_"+s.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{var i=JSON.parse(t).bids[0];if(this.bid=i.cpm,!this.hasBid())return void this.failedBidRequest();if(!this.bidMeetsFloor())return void this.failedBidRequest(s.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR);if(!(n=i.vastUrl))return void this.failedBidRequest()}catch(t){return void this.failedBidRequest()}this._getAdVastProcessor(e).requestVast(n,!0,this.hbDetails)}}]),e}(t.default),e.default=n},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2);r=r&&r.__esModule?r:{default:r};var o=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));r=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).appId=null,t._bidParams.hasOwnProperty("appId")&&(t.appId=t._bidParams.appId);try{t.dropIframeUserSync(t.userSyncUrl())}catch(t){}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),i(n,[{key:"userSyncUrl",value:function(){var t=this.gdprSet()?this.gdprApplies():0;return"https://sync.bfmio.com/sync_iframe?ifg=3&ifpl=5&id="+this.appId+"&gdpr="+t+"&gc="+encodeURIComponent(this.gdprConsentString())+"&gce=1"}},{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);this._ajaxIt(e,n,t)}}},{key:"isMobile",value:function(){try{return/(ios|ipod|ipad|iphone|android)/i.test(t.navigator.userAgent)}catch(t){return 2}}},{key:"isConnectedTV",value:function(){try{return/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(t.navigator.userAgent)}catch(t){return 2}}},{key:"getBeachBidFloor",value:function(){return!this.bidFloor||.01>this.bidFloor?.01:this.bidFloor}},{key:"getRequestData",value:function(e){var n=this.fullDomainToPass;return e={isPrebid:!0,appId:this.appId,domain:this.domainToPass,imp:[{video:{w:this.widthToPass(e),h:this.heightToPass(e)},bidfloor:this.getBeachBidFloor(),secure:this._cabinet.pageProtocol===o.SECURE_PROTOCOL?1:0}],site:{page:n.startsWith("http")?n:this._cabinet.pageProtocol+"//"+n,domain:this.domainToPass},device:{ua:t.navigator.userAgent,devicetype:this.isMobile()?1:this.isConnectedTV()?3:2,js:1,geo:{}},regs:{},user:{},cur:["USD"]},this.gdprSet()&&(e.regs.ext={gdpr:this.gdprApplies()},e.user.ext={consent:this.gdprConsentString()}),e}},{key:"generateUrl",value:function(){return null===this.appId?null:this._cabinet.pageProtocol+"//reachms.bfmio.com/bid.json?exchange_id="+this.appId}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&n.url&&n.bidPrice?(null!==(t=n.bidPrice)&&(this.bid=t),this.hasBid()?this.bidMeetsFloor()?this._getAdVastProcessor(e).requestVast(n.url,!0,this.hbDetails):this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),n}(r.default),e.default=r}).call(this,n(8))},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2);r=r&&r.__esModule?r:{default:r};var o=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));r=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).publisherId=null,t.adSlot="",t.placement=0,t.startdelay=0,t.skippable=0,t.minduration=-1,t.maxduration=-1,t._bidParams.hasOwnProperty("publisherId")&&(t.publisherId=t._bidParams.publisherId),t._bidParams.hasOwnProperty("adSlot")&&(t.adSlot=t._bidParams.adSlot),t._bidParams.hasOwnProperty("linearity")&&(t.linearity=parseInt(t._bidParams.linearity)),t._bidParams.hasOwnProperty("placement")&&(t.placement=parseInt(t._bidParams.placement)||0),t._bidParams.hasOwnProperty("startdelay")&&(t.startdelay=parseInt(t._bidParams.startdelay)||0),t._bidParams.hasOwnProperty("skippable")&&(t.skippable=parseInt(t._bidParams.skippable)||0),t._bidOptionalParams.hasOwnProperty("minduration")&&(t.minduration=parseInt(t._bidOptionalParams.minduration)||-1),t._bidOptionalParams.hasOwnProperty("maxduration")&&(t.maxduration=parseInt(t._bidOptionalParams.maxduration)||-1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),i(n,[{key:"getUserSyncs",value:function(){return[{format:"iframe",url:this.generateDefaultSyncUrl()}]}},{key:"generateDefaultSyncUrl",value:function(){var t="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+this.publisherId,e=[];return this.gdprSet()&&(e.push("gdpr="+(this.gdprApplies()?1:0)),e.push("gdpr_consent="+encodeURIComponent(this.gdprConsentString()||""))),this.ccpaUSPrivacySet()&&e.push("us_privacy="+encodeURIComponent(this.ccpaUSPrivacy())),""+t+(0<e.length?e.join("&"):"")}},{key:"parseAdSlot",value:function(){if(!this.adSlot)return!1;try{this.adSlotId=this.adSlot.split(":")[0].split("@")[0]}catch(t){return!1}return!0}},{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);n?this._ajaxIt(e,n,t):this.failedBidRequest()}}},{key:"addOptionalParams",value:function(t){0<this.placement&&(t.imp[0].video.placement=this.placement),-1<this.minduration&&(t.imp[0].video.minduration=this.minduration),-1<this.maxduration&&(t.imp[0].video.maxduration=this.maxduration)}},{key:"addSchain",value:function(t){var e=this.getSChain();e&&""!==e&&(t.source={ext:{schain:e}})}},{key:"getRequestData",value:function(e){if(this.parseAdSlot())return e={at:1,id:""+(new Date).getTime(),user:{geo:{},ext:this.getUserExt()},regs:{ext:this.getRegsExt()},site:{page:this.fullDomainToPass,ref:this.referrerToPass,publisher:{id:""+this.publisherId}},device:{ua:t.navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:window.screen?window.screen.height:this.heightToPass(e),w:window.screen?window.screen.width:this.widthToPass(e),geo:{},language:navigator.language},ext:{wrapper:{wv:"prebid_prebid_1.16.0",wp:"pbjs",transactionId:this._cabinet.uuid}},imp:[{id:this._cabinet.shortUuid,tagid:this.adSlotId,secure:this._cabinet.pageProtocol===o.SECURE_PROTOCOL?1:0,video:{startdelay:this.startdelay,skippable:this.skippable,protocols:[2,3,4,5,6],playbackmethod:[1,3],linearity:this.linearity,api:this.cabinet.canPlayFlash?[1,2]:[2],mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash),w:this.widthToPass(e),h:this.heightToPass(e)},ext:{},bidfloor:this.bidFloor}],cur:["USD"]},this.addOptionalParams(e),this.addSchain(e),e}},{key:"generateUrl",value:function(){return"https://hbopenbid.pubmatic.com/translator?source=prebid-client"}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),n}(r.default),e.default=r}).call(this,n(8))},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(t=n(14));t=i(t=n(2));var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),s=i(n=n(103));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._placementId=t._bidParams.placementId,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"getRequestParams",value:function(t){return null===this._placementId||(0,o.default)(this._placementId)?null:(this.heightUsed=this.heightToPass(t),this.widthUsed=this.widthToPass(t),this.domainUsed=encodeURIComponent(this.fullDomainToPass),"placementids[]="+this._placementId+"&sdk=&adformats[]=video&playerheight="+this.heightUsed+"&playerwidth="+this.widthUsed+"&requestids[]="+this._cabinet.uuid+"&pageurl="+this.domainUsed)}},{key:"getUrl",value:function(t){return"https://an.facebook.com/v2/placementbid.json?"+this.getRequestParams(t)}},{key:"_containerRequestVast",value:function(t){if(null===this.getRequestParams(t))this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),null,t,"GET")}catch(t){this.failedHBVastRequest("FB_"+a.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"formatVastURL",value:function(t,e){return"https://an.facebook.com/v1/instream/vast.xml?placementid="+t+"&pageurl="+this.domainUsed+"&playerwidth="+this.widthUsed+"&playerheight="+this.heightUsed+"&bidid="+e}},{key:"handleResponse",value:function(t,e){var n=JSON.parse(t);t=void 0;try{t=(0,s.default)(n.bids[this._placementId],(function(t){return t.bid_price_cents}))}catch(t){return void this.failedBidRequest()}if(t){try{this.bid=t.bid_price_cents/100}catch(t){return void this.failedBidRequest()}if(this.hasBid())if(this.bidMeetsFloor()){n=null;try{n=this.formatVastURL(t.placement_id,t.bid_id)}catch(t){return void this.failedBidRequest()}this._demandTag.url=n,this._getAdVastProcessor(e).requestVast(n,!0,this.hbDetails)}else this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR);else this.failedBidRequest()}else this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2);r=r&&r.__esModule?r:{default:r};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));r=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).publisherId=null,t.siteId=null,t._bidParams.hasOwnProperty("publisherId")&&(t.publisherId=t._bidParams.publisherId),t._bidParams.hasOwnProperty("siteId")&&(t.siteId=t._bidParams.siteId),t._bidParams.hasOwnProperty("ip")&&(t.ipAddress=t._bidParams.ip),t.outputFormat=t._bidParams.output||"vastvpaid",t.appName=null,t.appBundle=null,t._cabinet.manifest.hasOwnProperty("passthru")&&(t.appName=t._cabinet.manifest.passthru.app_name,t.appBundle=t._cabinet.manifest.passthru.app_bundle),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),i(n,[{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);n?this._ajaxIt(e,n,t,"GET"):this.failedBidRequest()}}},{key:"addGdpr",value:function(t){this.gdprSet()&&(t.gdprcs=this.gdprConsentString(),t.gdpr=this.gdprApplies())}},{key:"getRequestData",value:function(e){var n={pid:this.publisherId,sid:this.siteId,prebid:!0,output:this.outputFormat,execution:"any",support:"html5",playinit:"auto",volume:"100",width:this.widthToPass(e),height:this.heightToPass(e),pageurl:encodeURIComponent(this.fullDomainToPass),ua:encodeURIComponent(t.navigator.userAgent),dnt:this.getDNT()?1:0};return n.rnd=Math.floor(999999999*Math.random()),n.bidId=this._cabinet.uuid,n.bidWidth=this.widthToPass(e),n.bidHeight=this.heightToPass(e),this.appName&&(n.appname=this.appName),this.ipAddress&&(n.ip=this.ipAddress),this.appBundle&&(n.bundleid=this.appBundle),this.addGdpr(n),n}},{key:"generateUrl",value:function(){return this._cabinet.pageProtocol+"//ssp.lkqd.net/ad"}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=(new DOMParser).parseFromString(t,"application/xml")}catch(t){return void this.failedBidRequest()}if(n&&0===n.getElementsByTagName("parsererror").length){try{this.bid=parseFloat(n.getElementsByTagName("Pricing")[0].textContent)}catch(t){return void this.failedBidRequest()}this.hasBid()?this.bidMeetsFloor()?this._getAdVastProcessor(e).processVast(n,"",this.hbDetails):this.failedBidRequest(o.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()}else this.failedBidRequest()}}]),n}(r.default),e.default=r}).call(this,n(8))},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2);r=r&&r.__esModule?r:{default:r};var o=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));r=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).tagId=null,t.skippable=null,t.maxduration=90,t.minduration=-1,t._bidParams.hasOwnProperty("tag_id")&&(t.tagId=t._bidParams.tag_id),t._bidOptionalParams.hasOwnProperty("skippable")&&(t.skippable="true"==t._bidOptionalParams.skippable),t._bidOptionalParams.hasOwnProperty("maxduration")&&(t.maxduration=parseInt(t._bidOptionalParams.maxduration)),t._bidOptionalParams.hasOwnProperty("minduration")&&(t.minduration=parseInt(t._bidOptionalParams.minduration)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),i(n,[{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);n?this._ajaxIt(e,n,t):this.failedBidRequest()}}},{key:"addGdpr",value:function(t){this.gdprSet()&&(t.user.ext.consent=this.gdprConsentString(),t.regs.ext.gdpr=this.gdprApplies())}},{key:"addOptionalParams",value:function(t){0<this.placement&&(t.imp[0].video.placement=this.placement),-1<this.minduration&&(t.imp[0].video.minduration=this.minduration),-1<this.maxduration&&(t.imp[0].video.maxduration=this.maxduration)}},{key:"getRequestData",value:function(e){return e={at:1,id:""+(new Date).getTime(),user:{geo:{},ext:{}},regs:{ext:{}},site:{page:this.fullDomainToPass,ref:this.referrerToPass,publisher:{id:""+this.cp}},app:null,bcat:null,badv:null,source:this.getSchainExtension(),device:{ua:t.navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:window.screen?window.screen.height:this.heightToPass(e),w:window.screen?window.screen.width:this.widthToPass(e),geo:{},language:navigator.language},imp:[{id:this._cabinet.shortUuid,tid:this._cabinet.uuid,tagid:this.tagId,secure:this._cabinet.pageProtocol===o.SECURE_PROTOCOL?1:0,banner:null,video:{battr:[1,3],pos:3,protocols:[2,3,4,5,6],playbackmethod:[1,3],startdelay:0,skippable:this.skippable,api:[2],mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash),w:this.widthToPass(e),h:this.heightToPass(e)},bidfloor:this.bidFloor,bidfloorcur:"USD"}],version:"4.24.0",cur:["USD"]},this.addOptionalParams(e),this.addGdpr(e),e}},{key:"generateUrl",value:function(){return"https://hb.emxdgt.com?t=&ts="+Date.now()+"&src=pbjs"}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),n}(r.default),e.default=r}).call(this,n(8))},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var o=n(1),a=i(o),s=(o=n(12))&&o.__esModule?o:{default:o},u=i(n=n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).placementId=null,t._bidParams.hasOwnProperty("placementId")&&(t.placementId=t._bidParams.placementId),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"_containerRequestVast",value:function(t){var e=this.generateUrl();if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);n?this._ajaxIt(e,n,t,"GET"):this.failedBidRequest()}}},{key:"addGdpr",value:function(t){this.gdprSet()&&(t.consent_string=this.gdprConsentString(),t.gdpr=this.gdprApplies()?"true":"false")}},{key:"addSchain",value:function(t){var e=this.getSChain();e&&(t.schain=JSON.stringify(e))}},{key:"getKeyMaker",value:function(t){var e={},n=this._cabinet.shortUuid;return t=this.placementId+"|"+[this.widthToPass(t),this.heightToPass(t)].join("x")+"|f="+this.bidFloor,n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},{key:"_isInbounds",value:function(){return function(){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return window.innerWidth>=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)&&window.innerWidth<t}}},{key:"_getPlatform",value:function(){var t=this._isInbounds();return t(0,768)?"mobile":t(768,992)?"tablet":"desktop"}},{key:"getRequestData",value:function(t){var e=a.unencodeComponent(this.fullDomainToPass);return t={key_maker:JSON.stringify(this.getKeyMaker(t)),ref:encodeURIComponent(e.startsWith("http")?e:this._cabinet.pageProtocol+"//"+e),s:this._cabinet.uuid,pv:this._cabinet.uuid,vp:this._getPlatform(),lib_name:"prebid",lib_v:"pbjs_lite_v1.25.0",us:0},this.addGdpr(t),this.addSchain(t),t}},{key:"getVideoUrl",value:function(t,e){var n=this.fullDomainToPass;return n=n.startsWith("http")?n:this._cabinet.pageProtocol+"//"+n,"https://"+t+"apex.go.sonobi.com/vast.xml?vid="+e+"&ref="+encodeURIComponent(n)}},{key:"generateUrl",value:function(){return"https://apex.go.sonobi.com/trinity.json"}},{key:"_fireSonobiPixels",value:function(t){t&&(t=(0,s.default)(t,(function(t){return{url:t.url,format:t.type}})),this.dropPixels(t))}},{key:"handleResponse",value:function(t,e){var n={},i=null;try{(n=JSON.parse(t)).hasOwnProperty("sbi_px")&&this._fireSonobiPixels(n.sbi_px)}catch(t){return void this.failedBidRequest()}try{i=n.slots[this._cabinet.shortUuid]}catch(t){return void this.failedBidRequest()}if(i&&n.sbi_dc&&i.sbi_mouse&&i.sbi_aid){try{this.bid=parseFloat(i.sbi_mouse)}catch(t){return void this.failedBidRequest()}this.hasBid()?this.bidMeetsFloor()?(t=this._getAdVastProcessor(e),n=this.getVideoUrl(n.sbi_dc,i.sbi_aid),t.requestVast(n,!0,this.hbDetails)):this.failedBidRequest(u.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()}else this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2);r=r&&r.__esModule?r:{default:r};var o=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));r=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).spid=null,t.adpos=void 0,t.instl=void 0,t.spid=t._bidParams.spid,t.adpos=t._bidParams.adpos,t.instl=parseInt(t._bidParams.instl),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),i(n,[{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);n?this._ajaxIt(e,n,t):this.failedBidRequest()}}},{key:"addGdpr",value:function(t){this.gdprSet()&&(t.ext.gdpr_consent={consent_string:this.gdprConsentString(),consent_required:this.gdprApplies()})}},{key:"getTopFrame",value:function(){try{return window.top===window?1:0}catch(t){return 0}}},{key:"getRequestData",value:function(e){if(this.spid){var n=this.fullDomainToPass;return e={at:1,id:""+(new Date).getTime(),user:{geo:{},ext:{}},regs:{ext:{}},site:{domain:this.domainToPass,page:this.fullDomainToPass,ref:n.startsWith("http")?n:this._cabinet.pageProtocol+"//"+n},device:{ua:t.navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:window.screen?window.screen.height:this.heightToPass(e),w:window.screen?window.screen.width:this.widthToPass(e),geo:{},language:navigator.language},ext:{},imp:[{id:this._cabinet.shortUuid,instl:this.instl?this.instl:0,tagid:this.adSlotId,secure:this._cabinet.pageProtocol===o.SECURE_PROTOCOL?1:0,video:{protocols:[2,3,4,5,6],playbackmethod:[1,3],linearity:this.linearity,api:this.cabinet.canPlayFlash?[1,2]:[2],pos:this.adpos||0,mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash),w:this.widthToPass(e),h:this.heightToPass(e),topFrame:this.getTopFrame()},ext:{},bidfloor:this.bidFloor}],cur:["USD"]},this.addGdpr(e),e}}},{key:"generateUrl",value:function(){return"https://ssp.ynxs.io/r/"+this.spid+"/bidr?bidder=prebid&rformat=open_rtb&reqformat=rtb_json"}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),n}(r.default),e.default=r}).call(this,n(8))},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(t=n(5)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),s=i(t=n(112));t=i(t=n(254));var u=i(n=n(20));n=function(t){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var t=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?this:t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"_containerRequestVast",value:function(t){this.cabinet.timeoutManager.getTimeoutInfo(this._demandTag.waterfallIdx,new u.default(this._cabinet.timeouts.IMA_TIMEOUT,a.VD_ERROR_CODES.IMA_AD_CONTAINER_TIMEOUT)),this.cabinet.imaManager.state===a.IMA_MANAGER_STATES.LOAD_ERROR?this.onLOAD_ERROR():this.cabinet.imaManager.state===a.IMA_MANAGER_STATES.LOADED?this.onLOADED():this.cabinet.imaManager.state===a.IMA_MANAGER_STATES.INIT?(this.registerImaManagerEventListeners(),this.cabinet.timeoutManager.startImaLoad(),this.cabinet.imaManager.loadAndStartIma()):this.registerImaManagerEventListeners()}},{key:"onLOAD_ERROR",value:function(){this.sendJsDemandResponse(a.VID_IO_EVENTS.cm_js_demand_req_resp,this._demandTag,{cc_i:this._demandTag.callChain.getCallChainIndices(this.cabinet.historyManager.demand_events.response,!0).join(","),response_time:this.cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),wrapper_count:0,has_ad:!1,timeout:!1,reason:a.VD_ERROR_CODES.IMA_MANAGER_LOAD_ERROR,dtype:a.DEMAND_TYPES.IMA}),this.adVpaidState.isContinue&&this.onSlotVastDone(this._idx,null)}},{key:"onLOADED",value:function(){this.sendJsDemandResponse(a.VID_IO_EVENTS.cm_js_demand_req_resp,this._demandTag,{cc_i:this._demandTag.callChain.getCallChainIndices(this.cabinet.historyManager.demand_events.response,!0).join(","),response_time:this.cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),wrapper_count:0,has_ad:!0,timeout:!1,vv:a.VAST_VERSION.IMA,dtype:a.DEMAND_TYPES.IMA}),this.adVpaidState.isContinue&&this.onSlotVastDone(this._idx,new s.default((0,o.default)({imaTagUrl:this._demandTag.url},a.getDefaultVastData())))}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));t=function(t){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var t=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?this:t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"finishVastRequest",value:function(t){this.cabinet.imaManager.finishVastRequest(t),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"finishVastRequest",this).call(this,t)}},{key:"registerImaManagerEventListeners",value:function(){this.cabinet.imaManager.subscribeImaManagerEvent(this.onLOADED,r.IMA_MANAGER_EVENT_TYPES.LOADED,this),this.cabinet.imaManager.subscribeImaManagerEvent(this.onLOAD_ERROR,r.IMA_MANAGER_EVENT_TYPES.LOAD_ERROR,this)}},{key:"unregisterImaManagerEventListeners",value:function(){this.cabinet.imaManager.unsubscribeImaManagerEvent(r.IMA_MANAGER_EVENT_TYPES.LOADED,this.onLOADED),this.cabinet.imaManager.unsubscribeImaManagerEvent(r.IMA_MANAGER_EVENT_TYPES.LOAD_ERROR,this.onLOAD_ERROR)}},{key:"defaultDemandType",get:function(){return r.DEMAND_TYPES.IMA}}]),e}(((t=n(39))&&t.__esModule?t:{default:t}).default),e.default=t},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2);r=r&&r.__esModule?r:{default:r};var o=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));r=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).pubId=null,t.siteId=t._bidParams.siteId,t.placement=t._bidParams.placement,t.rewarded=null,t._bidParams.hasOwnProperty("rewarded")&&(t.rewarded=parseInt(t._bidParams.rewarded)),t._bidParams.hasOwnProperty("pubId")&&(t.pubId=t._bidParams.pubId),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),i(n,[{key:"getUserSyncs",value:function(){var t=this.gdprApplies(),e=this.gdprConsentString();return[{format:"image",url:"https://pixel.advertising.com/ups/57304/sync?gdpr=&gdpr_consent=&_origin=0&redir=true"},{format:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr="+(t?1:0)+"&gdpr_consent="+e+"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0"+encodeURI("&gdpr="+(t?1:0)+"&gdpr_consent="+e)},{format:"image",url:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1"}]}},{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);this._ajaxIt(e,n,t,"POST")}}},{key:"isMobile",value:function(){try{return/(ios|ipod|ipad|iphone|android)/i.test(t.navigator.userAgent)}catch(t){return 2}}},{key:"isConnectedTV",value:function(){try{return/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(t.navigator.userAgent)}catch(t){return 2}}},{key:"getBeachBidFloor",value:function(){return!this.bidFloor||.01>this.bidFloor?.01:this.bidFloor}},{key:"getRequestData",value:function(e){var n=this.fullDomainToPass;return e={at:2,id:this._cabinet.shortUuid,domain:this.domainToPass,source:this.getSourceWithSchainPchain(),imp:[{video:{w:this.widthToPass(e),h:this.heightToPass(e),linearity:1,api:[2],delivery:[2],protocols:[2,3,4,5,6],mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash)},id:1,bidfloor:this.getBeachBidFloor(),secure:this._cabinet.pageProtocol===o.SECURE_PROTOCOL?1:0,ext:{}}],site:{page:n.startsWith("http")?n:this._cabinet.pageProtocol+"//"+n,domain:this.domainToPass,ref:this.referrerToPass,id:this.siteId},device:{ua:t.navigator.userAgent,devicetype:this.isMobile()?1:this.isConnectedTV()?3:2,js:1,geo:{}},regs:{},user:{},cur:["USD"],tmax:200},this.placement&&(e.imp[0].ext.inventoryid=this.placement),this.rewarded&&(e.imp[0].ext.rewarded=this.rewarded),this.gdprSet()&&(e.user.ext={consent:this.gdprConsentString()}),this.hasRegsExt()&&(e.regs.ext=this.getRegsExt()),e}},{key:"generateUrl",value:function(){return null===this.pubId?null:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id="+this.pubId}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n?(null!==(t=this.getBestBidOpenRTBResults(n))&&(this.bid=t.price),this.hasBid()?this.bidMeetsFloor()?(e=this._getAdVastProcessor(e),t.adm?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),e.processVast(t,"",this.hbDetails)):t.nurl?e.requestVast(t.nurl,!0,this.hbDetails):this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1323_HB_ERROR_PARSING_BID_RESPONSE)):this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),n}(r.default),e.default=r}).call(this,n(8))},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0};t=i(t=n(39));var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),u=n(20),l=i(u),_=i(u=n(100)),d=i(u=n(257)),c=i(u=n(38)),h=n(1);n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._ortbIndex=0,t._ortbNumBids=null,t._ortbResponse=null,t._sizeInfo=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"isLastBid",value:function(){return this.ortbBidIndex===this.ortbNumBids-1}},{key:"incrementOrtbBidIndex",value:function(){this._ortbIndex++}},{key:"onSlotVastDone",value:function(t,n,i,r){n?a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotVastDone",this).call(this,t,n):this.ortbResponse?this.isLastBid()?(this.openrtbBidderError(i,r),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotVastDone",this).call(this,t,null)):(this.openrtbBidderError(i,r),this.incrementOrtbBidIndex(),this.processBid()):a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotVastDone",this).call(this,t,null)}},{key:"failedOrtbRequest",value:function(){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.VAST_ERRORCODES.SS_VEC_1319_OPENRTB_NO_BIDS,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.VD_ERROR_CODES.ORTB_NO_BIDS,i=this._demandTag.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.response,!1).join(",");i&&this.sendJsDemandResponse(s.VID_IO_EVENTS.cm_js_demand_req_resp,this._demandTag,r({cc_i:i,response_time:this.cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),has_ad:!1,reason:n,wrapper_count:0,dtype:s.DEMAND_TYPES.UNKNOWN},s.VID_IO_PARAMS.vastErrorCode,t)),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onSlotVastDone",this).call(this,this._idx,null)}},{key:"successfulOrtbRequest",value:function(){this.sendJsDemandResponse(s.VID_IO_EVENTS.cm_js_demand_req_resp,this._demandTag,{cc_i:this._demandTag.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.response,!1).join(","),response_time:this.cabinet.timeoutManager.getResponseTime(this._demandTag.waterfallIdx),has_ad:!0,wrapper_count:0,dtype:s.DEMAND_TYPES.UNKNOWN})}},{key:"openrtbBidderError",value:function(t,e){var n=this._demandTag.callChain.getCallChainIndicesBidderEvents(this._cabinet.historyManager.demand_events.bidderError);0<n.length&&this.on_openrtb_bidder_error(this._demandTag,{vec:t||s.VAST_ERRORCODES.SS_VEC_1531_ORTB_BIDDER_NO_FILL,reason:e||s.VD_ERROR_CODES.ORTB_BIDDER_NO_FILL,cc_i:n.join(",")})}},{key:"getTimeoutInfo",value:function(){return this.cabinet.timeoutManager.getTimeoutInfo(this._demandTag.waterfallIdx,new l.default(this.cabinet.timeouts.VAST_TIMEOUT,s.VD_ERROR_CODES.ORTB_TIMEOUT,s.VAST_ERRORCODES.SS_VEC_1317_OPENRTB_RESPONSE_TIMEOUT))}},{key:"_ajaxIt",value:function(t,e,n){var i=this.handleResponse.bind(this),r=this.handleError.bind(this);c.default.ajax(t,this.getTimeoutInfo(),{success:function(t){i(t,n)},error:function(t){r(t)}})}},{key:"_getOrtbUrlWithDetDomainSize",value:function(t){return this._demandTag.url+"&"+s.JSON_PIXEL_PARAMS.detectedDomain+"="+this.cabinet.locationInfo.domain_match+"&"+s.JSON_PIXEL_PARAMS.detectedWidth+"="+t.width}},{key:"_containerRequestVast",value:function(t){this._sizeInfo=t;var e=this._getOrtbUrlWithDetDomainSize(t);try{this._ajaxIt(e,t)}catch(t){this.failedOrtbRequest()}}},{key:"_getOrtbAdVastProcessor",value:function(t,e){return t=new d.default(this._cabinet,this._initParams,this._demandTag,t,e),this.registerSSEventListeners_(t),t}},{key:"handleError",value:function(t){this.failedOrtbRequest("timeout"===t,s.VAST_ERRORCODES.SS_VEC_1318_OPENRTB_REQUEST_ERROR,s.VD_ERROR_CODES.ORTB_REQUEST_FAIL)}},{key:"handleResponse",value:function(t){try{this._ortbResponse=JSON.parse(t).responses}catch(t){this.failedOrtbRequest()}this._ortbResponse?(this._ortbNumBids=this.ortbResponse.length,0===this.ortbNumBids?this.failedOrtbRequest():(this.successfulOrtbRequest(),this.processBid())):this.failedOrtbRequest()}},{key:"fireWinNotice",value:function(t){(0,h.addImage)(document,t[s.ORTB_RESPONSE_FIELDS.pixelFire])}},{key:"processBid",value:function(){var t=this.ortbResponse[this.ortbBidIndex];if(t.hasOwnProperty(s.ORTB_RESPONSE_FIELDS.vast)&&t.hasOwnProperty(s.ORTB_RESPONSE_FIELDS.callChain)){var n=(new DOMParser).parseFromString(t.v,"application/xml"),i=t.cc;try{var r=new _.default(i);this._demandTag.callChain=r,this._demandTag.a_cc=i}catch(t){return void this.onSlotVastDone(this._idx,null)}t.hasOwnProperty(s.ORTB_RESPONSE_FIELDS.pixelFire)&&this.fireWinNotice(t),this._getOrtbAdVastProcessor(this.sizeInfo,e.getOrtbDetails(t)).processVast(n,"")}else this.onSlotVastDone(this._idx,null)}},{key:"ortbBidIndex",get:function(){return this._ortbIndex}},{key:"ortbResponse",get:function(){return this._ortbResponse}},{key:"ortbNumBids",get:function(){return this._ortbNumBids}},{key:"sizeInfo",get:function(){return this._sizeInfo}}],[{key:"getOrtbDetails",value:function(t){return t.hasOwnProperty("bp")?{bf:parseFloat(t.bf),bp:parseFloat(t.bp),scode:parseInt(t.scode),bpa:parseFloat(t.bpa),bid_result:parseInt(t.bid_result),seat_id:t.seat_id,cid:t.cid,crid:t.crid,adomain:t.hasOwnProperty("adomain")?t.adomain[0]:null}:null}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(t){function e(t,n,i,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r,null);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(a=!a||"object"!=typeof a&&"function"!=typeof a?this:a)._isOrtb=!0,a._ortbDetails=o,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"demandResponseFail",value:function(){this.onSlotVastDone(this._demandTag.broadcastIdx,null)}},{key:"demandResponseSuccess",value:function(t){this.onSlotVastDone(this._demandTag.broadcastIdx,t)}}]),e}(((t=n(62))&&t.__esModule?t:{default:t}).default),e.default=t},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?this:t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"handleResponse",value:function(t,e){t=JSON.parse(t);try{t.tags[0].ads[0].rtb.video.asset_url&&(this.bid=this.bidFloor)}catch(t){return void this.failedBidRequest()}this.hasBid()?(t=t.tags[0].ads[0].rtb.video.asset_url,this._demandTag.url=t,this._getAdVastProcessor(e).requestVast(t,!0,this.hbDetails)):this.failedBidRequest()}}]),e}(((t=n(113))&&t.__esModule?t:{default:t}).default),e.default=t},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2);r=r&&r.__esModule?r:{default:r};var o=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));r=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).cp=null,t.ct="",t.placement=0,t.minduration=-1,t.maxduration=-1,t._bidParams.hasOwnProperty("cp")&&(t.cp=t._bidParams.cp),t._bidParams.hasOwnProperty("ct")&&(t.ct=t._bidParams.ct),t._bidParams.hasOwnProperty("placement")&&(t.placement=parseInt(t._bidParams.placement)||0),t._bidOptionalParams.hasOwnProperty("minduration")&&(t.minduration=parseInt(t._bidOptionalParams.minduration)||-1),t._bidOptionalParams.hasOwnProperty("maxduration")&&(t.maxduration=parseInt(t._bidOptionalParams.maxduration)||-1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),i(n,[{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);n?this._ajaxIt(e,n,t):this.failedBidRequest()}}},{key:"addGdpr",value:function(t){this.gdprSet()&&(t.user.ext.consent=this.gdprConsentString(),t.regs.ext.gdpr=this.gdprApplies())}},{key:"addOptionalParams",value:function(t){0<this.placement&&(t.imp[0].video.placement=this.placement),-1<this.minduration&&(t.imp[0].video.minduration=this.minduration),-1<this.maxduration&&(t.imp[0].video.maxduration=this.maxduration)}},{key:"getRequestData",value:function(e){return e={at:1,id:""+(new Date).getTime(),user:{geo:{},ext:{}},regs:{ext:{}},site:{page:this.fullDomainToPass,ref:this.referrerToPass,publisher:{id:""+this.cp}},app:null,bcat:null,badv:null,source:this.getSchainExtension(),device:{ua:t.navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:window.screen?window.screen.height:this.heightToPass(e),w:window.screen?window.screen.width:this.widthToPass(e),geo:{},language:navigator.language},imp:[{id:this._cabinet.shortUuid,tagid:this.ct+"",secure:this._cabinet.pageProtocol===o.SECURE_PROTOCOL?1:0,banner:null,video:{battr:[1,3],pos:3,protocols:[2,3,4,5,6],playbackmethod:[1,3],startdelay:0,api:[2],mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash),w:this.widthToPass(e),h:this.heightToPass(e)},ext:{ct:this.ct,cp:this.cp,battr:[1,3]},bidfloor:this.bidFloor}],cur:["USD"]},this.addOptionalParams(e),this.addGdpr(e),e}},{key:"generateUrl",value:function(){return"https://bid.contextweb.com/header/ortb?src=prebid"}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(a.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),n}(r.default),e.default=r}).call(this,n(8))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));t=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).uid=t._bidParams.uid;try{t.dropImageUserSync(t.getUserSyncPixel())}catch(t){}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getUserSyncPixel",value:function(){var t=0,e="";return this.gdprSet()&&(t=this.gdprApplies(),e=this.gdprConsentString()),"https://x.bidswitch.net/sync?ssp=themediagrid&gdpr="+t+"&gdpr_consent="+e}},{key:"getRequestParams",value:function(t){if(!this.uid)return null;var e=this.widthToPass(t);return t=this.heightToPass(t),e={auids:this.uid,sizes:e+"x"+t,r:this._cabinet.uuid,wrapperType:"springserve_js",u:encodeURIComponent(this.fullDomainToPass)},this.gdprSet()&&(e.gdpr_consent=this.gdprConsentString(),e.gdpr_applies=this.gdprApplies()),this.ccpaUSPrivacySet()&&(e.us_privacy=this.ccpaUSPrivacy()),e}},{key:"getUrl",value:function(){return"https://grid.bidswitch.net/hb"}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t,"GET")}catch(t){this.failedHBVastRequest("GRID_"+r.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}},{key:"fullDomainToPass",get:function(){var t=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"fullDomainToPass",this),n=this.cabinet.pageProtocol;return 0===t.indexOf("//")?n+t:0!==t.indexOf("http")?n+"//"+t:t}}]),e}(((t=n(2))&&t.__esModule?t:{default:t}).default),e.default=t},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1);t=(t=n(2))&&t.__esModule?t:{default:t};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).zone=t._bidParams.zone||"1r",t.path=t._bidParams.path||"mvo",t.placementId=t._bidParams.placementId,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getSlotId",value:function(){return this._cabinet.uuid}},{key:"getRequestParams",value:function(t){return t={id:this._cabinet.shortUuid,test:0,cur:["USD"],site:{page:this.fullDomainToPass,ref:this.referrerToPass,domain:this.domainToPass},device:{ua:navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:window.screen?window.screen.height:this.heightToPass(t),w:window.screen?window.screen.width:this.widthToPass(t),geo:{},language:navigator.language},tmax:1e3,at:1,imp:[{bidfloor:this._bidFloor,exp:300,id:this._cabinet.shortUuid,secure:this._cabinet.pageProtocol===r.SECURE_PROTOCOL?1:0,ext:{bidder:{placementId:this.placementId,path:this.path,zone:this.zone}},video:{protocols:[2,3,4,5,6],pos:0,playbackmethod:[1,2],linearity:1,api:this.cabinet.canPlayFlash?[1,2]:[2],mimes:o.HTML5_MIMES,playerSize:[this.widthToPass(t),this.heightToPass(t)],w:this.widthToPass(t),h:this.heightToPass(t),startdelay:0}}],ext:{},source:this.getSchainExtension()},this.gdprSet()&&(t.user={ext:{consent:this.gdprConsentString()}}),this.hasRegsExt()&&(t.regs={ext:this.getRegsExt()}),t}},{key:"getUrl",value:function(){return"https://tag.1rx.io/rmp/"+this.placementId+"/0/"+this.path+"?z="+this.zone}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t)}catch(t){this.failedHBVastRequest("R1_"+o.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=t.nurl.replace(/\${AUCTION_PRICE}/g,this.bid),this._demandTag.url=t,this._getAdVastProcessor(e).requestVast(t,!0,this.hbDetails)):this.failedBidRequest(o.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(t=n(5)),a=i(t=n(3));t=i(t=n(2));var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).pubId=t._bidParams.pubId,t.context="instream",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"getBids",value:function(t){return{auctionId:this._cabinet.shortUuid,bidId:this._cabinet.uuid,pubId:this.pubId,context:this.context,mimes:s.HTML5_MIMES,playerSize:{width:this.widthToPass(t),height:this.heightToPass(t)},protocols:[2,3,4,5,6],api:[2],type:"video"}}},{key:"getRequestParams",value:function(){var t={bids:[this.getBids()]},e=this.getPageInfo();return t=(0,o.default)(t,e),this.gdprSet()&&(t.gdprConsent={consentString:this.gdprConsentString(),consentRequired:this.gdprApplies()}),this.ccpaUSPrivacySet()&&(t.usPrivacy=this.ccpaUSPrivacy()),t}},{key:"getUrl",value:function(){return"https://onetag-sys.com/prebid-request"}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams();if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t)}catch(t){this.failedHBVastRequest("RUBICON_"+s.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"getBestBid",value:function(t){var e=null;return(0,a.default)(t.bids,(function(t){(null===e||t.cpm>e.cpm)&&(e=t)})),e}},{key:"adjustBids",value:function(t){for(var e=0;e<t.bids.length;e++){var n=t.bids[e];n.currency&&"EUR"==n.currency&&(n.cpm*=1.19)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}if(n&&n.bids){try{this.adjustBids(n)}catch(t){}(t=this.getBestBid(n))?(null!==(n=t.cpm)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.ad,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(s.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}else this.failedBidRequest()}},{key:"getPageInfo",value:function(){var t,e=void 0,n=window,i=n.document,r=i.location.href;i=i.referrer;var o=0,a=encodeURIComponent,s=new Date;for(t=screen;n!==n.parent;)try{r=(e=n.parent).location.href,i=e.document.referrer,n=e}catch(t){o=top!==n.parent?2:1;break}var u=e=void 0,l=void 0;try{e=void 0!==n.document.hidden?n.document.hidden:void 0!==n.document.msHidden?n.document.msHidden:void 0!==n.document.webkitHidden?n.document.webkitHidden:null}catch(t){e=null}try{u=n.pageXOffset,l=n.pageYOffset}catch(t){l=u=null}return{location:a(r),referrer:a(i)||"0",masked:o,wWidth:n.innerWidth,wHeight:n.innerHeight,oWidth:n.outerWidth,oHeight:n.outerHeight,sWidth:t.width,sHeight:t.height,aWidth:t.availWidth,aHeight:t.availHeight,sLeft:"screenLeft"in n?n.screenLeft:n.screenX,sTop:"screenTop"in n?n.screenTop:n.screenY,xOffset:u,yOffset:l,docHidden:e,hLength:history.length,date:s.toUTCString(),timeOffset:s.getTimezoneOffset()}}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=(n=n(3))&&n.__esModule?n:{default:n};n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).placementId=parseInt(t._bidParams.placementId),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getRequestParams",value:function(t){t={id:this._cabinet.shortUuid,version:"7.0.0-JS-6.3.0",domain:this.domainToPass,page:this.fullDomainToPass,referrer:this.referrerToPass,secure:1,imp:[{currency:"USD",pid:this.placementId,bidfloor:this._bidFloor,ad_types:["video"],id:this._cabinet.shortUuid,banner:{}}]},this.gdprSet()&&(t.gdpr=this.gdprConsentString()||this.gdprApplies()),this.ccpaUSPrivacySet()&&(t.us_privacy=this.ccpaUSPrivacy());var e=this.getSChain();return e&&(t.schain=e),t}},{key:"getRequestParamsJsonP",value:function(t){return null===(t=this.getRequestParams(t))?null:{jsonp:encodeURIComponent(JSON.stringify({bid_request:t}))}}},{key:"getUrl",value:function(){return"https://ice.360yield.com/hb"}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParamsJsonP(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t,"GET")}catch(t){this.failedHBVastRequest("IMPROVE_"+r.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"getBestBidResultsImprove",value:function(t){var e=null;return(0,o.default)(t.bid,(function(t){(null===e||t.price>e.price)&&(e=t)})),e}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidResultsImprove(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).isOrg=t._bidParams.isOrg,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"serializeSupplyChain",value:function(){var t=this.getSChain();if(!t||!t.nodes)return null;var e="asi sid hp rid name domain".split(" ");return t.ver+","+t.complete+"!"+t.nodes.map((function(t){return e.map((function(e){return t[e]?encodeURIComponent(t[e]):""})).join(",")})).join("!")}},{key:"getRequestParams",value:function(t){return t={auction_start:(new Date).getTime(),ad_unit_code:"adUnit",tmax:3e3,width:this.widthToPass(t),height:this.heightToPass(t),publisher_id:this.isOrg,floor_price:this.bidFloor,ua:navigator.userAgent,bid_id:this._cabinet.shortUuid,bidder_request_id:this._cabinet.shortUuid,transaction_id:this._cabinet.shortUuid,session_id:this._cabinet.shortUuid,publisher_name:this.domainToPass,site_domain:this.domainToPass,bidder_version:"4.0.0",cs_method:"iframe"},this.ccpaUSPrivacySet()&&(t.us_privacy=this.ccpaUSPrivacy()),this.gdprSet()&&(t.gdpr=1==this.gdprApplies()||"true"==this.gdprApplies()+"",t.gdpr_consent=this.gdprConsentString()),this.getSChain()&&(t.schain=this.serializeSupplyChain()),t.referrer=this.fullDomainToPass,t.page_url=this.fullDomainToPass,t}},{key:"getUrl",value:function(){return"https://hb.yellowblue.io/hb"}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t,"GET")}catch(t){this.failedHBVastRequest("IRONSOURCE_"+r.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"tryUserSync",value:function(t){if(t.hasOwnProperty("userSyncURL"))try{this.dropIframeUserSync(t.userSyncURL)}catch(t){}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n?(this.tryUserSync(n),null!==(t=n.cpm)&&(this.bid=t),this.hasBid()?this.bidMeetsFloor()?(n=(new DOMParser).parseFromString(n.vastXml,"application/xml"),this._getAdVastProcessor(e).processVast(n,"",this.hbDetails)):this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).siteId=parseInt(t._bidParams.siteId),t.pageId=parseInt(t._bidParams.pageId),t.formatId=parseInt(t._bidParams.formatId),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"serializeSupplyChain",value:function(){var t=this.getSChain();if(!t||!t.nodes)return null;var e="asi sid hp rid name domain".split(" ");return t.ver+","+t.complete+"!"+t.nodes.map((function(t){return e.map((function(e){return t[e]?encodeURIComponent(t[e]):""})).join(",")})).join("!")}},{key:"getRequestParams",value:function(t){var e={siteid:this.siteId,pageid:this.pageId,formatid:this.formatId,currencyCode:"USD",bidfloor:this._bidFloor,targeting:void 0,buid:void 0,appname:void 0,ckid:0,tagId:this._cabinet.shortUuid,pageDomain:this.fullDomainToPass,transactionId:this._cabinet.shortUuid,timeout:3e3,bidId:this._cabinet.shortUuid,prebidVersion:"3.24.0",schain:this.serializeSupplyChain(),isVideo:!0};return e.videoData={videoProtocol:6,playerWidth:this.widthToPass(t),playerHeight:this.heightToPass(t),adBreak:1},this.gdprSet()&&(e.gdpr_consent=this.gdprConsentString(),e.gdpr=this.gdprApplies()),this.ccpaUSPrivacySet()&&(e.us_privacy=this.ccpaUSPrivacy()),e}},{key:"getUrl",value:function(){return"https://prg.smartadserver.com/prebid/v1"}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.getUrl(),e,t)}catch(t){this.failedHBVastRequest("SMART_"+r.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n?(null!==(t=n.cpm)&&(this.bid=t),this.hasBid()?this.bidMeetsFloor()?(n=(new DOMParser).parseFromString(n.ad,"application/xml"),this._getAdVastProcessor(e).processVast(n,"",this.hbDetails)):this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PARTNER_NAME=e.ENDPOINT=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),o=e.ENDPOINT="https://tlx.3lift.com/header/auction?",a=e.PARTNER_NAME="TRIPLELIFT",s=["placement","startdelay","minduration","maxduration","linearity"];n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).inventoryCode=t._bidParams.inventoryCode,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"isInvalidParams",value:function(){return!this.inventoryCode}},{key:"getRequestParams",value:function(t){var e=this;if(this.isInvalidParams())return null;var n={imp:[{id:this._cabinet.shortUuid,floor:this._bidFloor,tagid:this.inventoryCode,video:{w:this.widthToPass(t),h:this.heightToPass(t),mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash),protocols:[2,3,4,5,6],api:this.cabinet.canPlayFlash?[1,2]:[2]}}]};return s.forEach((function(t){e._bidOptionalParams.hasOwnProperty(t)&&(n.imp[0].video[t]=Number(e._bidOptionalParams[t]))})),n}},{key:"generateUrl",value:function(){var t=o+"lib=prebid&referrer="+this.referrerToPass;return this.gdprSet()&&(t+="&gdpr="+this.gdprApplies()+"&cmp_cs="+this.gdprConsentString()),this.ccpaUSPrivacySet()&&(t+="&us_privacy="+this.ccpaUSPrivacy()),t}},{key:"_containerRequestVast",value:function(t){var e=this.getRequestParams(t);if(null===e)this.failedBidRequest();else try{this._ajaxIt(this.generateUrl(),e,t)}catch(t){this.failedHBVastRequest(a+"_"+r.VD_ERROR_CODES.HB_AJAX_FAIL+" "+t.message)}}},{key:"handleResponse",value:function(t,e){var n=void 0;try{var i=JSON.parse(t).bids[0];if(this.bid=i.cpm,!this.hasBid())return void this.failedBidRequest();if(!this.bidMeetsFloor())return void this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR);if(!(n=i.ad))return void this.failedBidRequest()}catch(t){return void this.failedBidRequest()}t=(new DOMParser).parseFromString(n,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)}}]),e}(t.default),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t=(t=n(2))&&t.__esModule?t:{default:t};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).siteId=null,t.videoContext="instream",t.minduration=-1,t.maxduration=-1,t._bidOptionalParams.hasOwnProperty("minduration")&&(t.minduration=parseInt(t._bidOptionalParams.minduration)||-1),t._bidOptionalParams.hasOwnProperty("maxduration")&&(t.maxduration=parseInt(t._bidOptionalParams.maxduration)||-1),t._bidParams.hasOwnProperty("siteId")&&(t.siteId=t._bidParams.siteId),t._bidParams.hasOwnProperty("videoContext")&&(t.videoContext=t._bidParams.videoContext),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"getUserSyncs",value:function(){var t=this.ccpaUSPrivacySet()?this.ccpaUSPrivacy():"",e=this.gdprApplies()?1:0;return[{format:"iframe",url:"https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb&id="+this.siteId+"&gdpr_consent="+encodeURIComponent(this.gdprConsentString())+"&us_privacy="+encodeURIComponent(t)+"&gdpr="+e}]}},{key:"_containerRequestVast",value:function(t){var e=this.generateUrl(t);if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);n?this._ajaxIt(e,n,t):this.failedBidRequest()}}},{key:"addGdpr",value:function(t){t.regs.ext.gdpr=0,t.regs.ext.us_privacy=null,this.gdprSet()&&(t.user.ext.consent=this.gdprConsentString(),t.regs.ext.gdpr=this.gdprApplies()),this.ccpaUSPrivacySet()&&(t.regs.ext.us_privacy=this.ccpaUSPrivacy())}},{key:"addOptionalParams",value:function(t){-1<this.minduration&&(t.imp[0].video.minduration=this.minduration),-1<this.maxduration&&(t.imp[0].video.maxduration=this.maxduration)}},{key:"getRequestData",value:function(t){t={id:""+(new Date).getTime(),user:{geo:{},ext:{}},regs:{ext:{}},site:{id:this.siteId,page:this.fullDomainToPass},imp:[{ext:{ttx:{prod:this.videoContext,bidfloors:[this.bidFloor]}},video:{pos:3,placement:"instream"===this.videoContext?1:2,protocols:[2,3,4,5,6],startdelay:0,mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash),w:this.widthToPass(t),h:this.heightToPass(t)}}],ext:{ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"4.26.0"}]}}};var e=this.getSchainExtension();return e&&(t.source=e),this.addOptionalParams(t),this.addGdpr(t),t}},{key:"generateUrl",value:function(){return"https://ssc.33across.com/api/v1/hb?guid="+this.siteId}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(r.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),e}(t.default),e.default=n},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(2);r=r&&r.__esModule?r:{default:r};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),a="startdelay placement skipafter maxduration minduration pos skip".split(" ");r=function(e){function n(t,e,i,r){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t).placementId=t._bidParams.placement_id,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),i(n,[{key:"_containerRequestVast",value:function(t){var e=this.getUrl();if(null===e)this.failedBidRequest();else{var n=this.getRequestData(t);n?this._ajaxIt(e,n,t):this.failedBidRequest()}}},{key:"getRequestData",value:function(e){var n=this,i={at:1,id:""+(new Date).getTime(),device:{language:navigator.language,ua:t.navigator.userAgent},imp:[{id:this._cabinet.shortUuid,tagid:this.adSlotId,video:{protocols:[2,3,4,5,6],playbackmethod:[1,3],api:this.cabinet.canPlayFlash?[1,2]:[2],mimes:this.cabinet.supportedMimes(this.cabinet.canPlayFlash),w:this.widthToPass(e),h:this.heightToPass(e)},ext:{placement_id:this.placementId},bidfloor:this.bidFloor,site:{page:this.fullDomainToPass}}]};return a.forEach((function(t){n._bidOptionalParams.hasOwnProperty(t)&&(i.imp[0].video[t]=Number(n._bidOptionalParams[t]))})),i}},{key:"getUrl",value:function(){return"https://ads.yieldmo.com/exchange/prebidvideo"}},{key:"handleResponse",value:function(t,e){var n=void 0;try{n=JSON.parse(t)}catch(t){return void this.failedBidRequest()}n&&(t=this.getBestBidOpenRTBResults(n))?(null!==(n=t.price)&&(this.bid=n),this.hasBid()?this.bidMeetsFloor()?(t=(new DOMParser).parseFromString(t.adm,"application/xml"),this._getAdVastProcessor(e).processVast(t,"",this.hbDetails)):this.failedBidRequest(o.VAST_ERRORCODES.SS_VEC_1310_BID_BELOW_FLOOR):this.failedBidRequest()):this.failedBidRequest()}}]),n}(r.default),e.default=r}).call(this,n(8))},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),s=i(n(5)),u=i(n(270)),l=i(n(272)),_=i(n(274)),d=i(n=n(40));n=function(){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d.default;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.DEFAULT_DEMAND_REQUEST=i,this.DEMAND_REQUESTS=(0,s.default)(n,(r(e={},a.CREATIVE_TYPES.IMA,u.default),r(e,a.CREATIVE_TYPES.MEDIA,l.default),r(e,a.CREATIVE_TYPES.JS_VPAID,_.default),e))}return o(t,[{key:"build",value:function(e,n,i,r){var o=t.getCreativeType(r);return new(this.demandRequestFor(o))(e,n,o,i,r)}},{key:"demandRequestFor",value:function(t){return t&&this.DEMAND_REQUESTS.hasOwnProperty(t)?this.DEMAND_REQUESTS[t]:this.DEFAULT_DEMAND_REQUEST}}],[{key:"getCreativeType",value:function(t){return t.isIMA?a.CREATIVE_TYPES.IMA:t.hasPlayableMedia?a.CREATIVE_TYPES.MEDIA:t.isJsVpaid?a.CREATIVE_TYPES.JS_VPAID:t.isFlashVpaid?a.CREATIVE_TYPES.FLASH_VPAID:null}}]),t}(),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(t=n(0)),a=(t=n(271))&&t.__esModule?t:{default:t};t=(t=n(40))&&t.__esModule?t:{default:t},i(n=n(1)),n=function(t){function e(t,n,i,r,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"ImaDemandRequest",t,n,i,r,o),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._imaWrapper=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"createImaWrapper",value:function(){this._imaWrapper=new a.default(this._cabinet,this._adVast)}},{key:"beginImaWrapper",value:function(){try{this.begin(this.getCreativeData(),this._imaWrapper,this._initParams.environmentVars)}catch(t){try{this.stopAd()}catch(t){}this.demandError(o.VD_ERROR_CODES.IMA_WRAPPER_BEGIN_ERROR,!1,o.VAST_ERRORCODES.SS_VEC_1526_IMA_WRAPPER_BEGIN_ERROR)}}},{key:"load",value:function(){try{this.demandOpp()}catch(t){return void this.demandError(o.VD_ERROR_CODES.DEMAND_TAG_OPP_ERROR,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1512)}try{this.createImaWrapper(),this.beginImaWrapper()}catch(t){this.demandError(o.VD_ERROR_CODES.UNCAUGHT_IMA_DEMAND_REQUEST_LOAD_ERROR+t.message,!1,o.VAST_ERRORCODES.SS_VEC_1528_UNCAUGHT_IMA_DEMAND_REQUEST_LOAD_ERROR)}}},{key:"onAdError",value:function(t){var e=void 0,n=void 0;try{e=t.msg,n=t.vec}catch(t){}e=e||o.VD_ERROR_CODES.AD_ERROR,n=n||o.VAST_ERRORCODES.VAST_ERRORCODE_901,this.doOnAdError(e,n)}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},a=i(t=n(0)),s=i(t=n(57));t=(t=n(115))&&t.__esModule?t:{default:t};var u=(n=n(63))&&n.__esModule?n:{default:n},l=["video/mp4","video/webm","video/mpeg","application/javascript"],_=!1;try{!function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(_=!0)}(navigator.userAgent||navigator.vendor||window.opera)}catch(t){}n=function(t){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(n=(e.__proto__||Object.getPrototypeOf(e)).call(this,"VpaidImaWrapper",t,n),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(n=!n||"object"!=typeof n&&"function"!=typeof n?this:n)._imaVersion=t&&t.manifest&&t.manifest.ima||1,n._adsManager=null,n._currentAd=null,n._isDestroyAd=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"initAd",value:function(t,n,i,r,u,l){var _=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,i,r,u,l);try{this._cabinet.imaManager.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this._cabinet.imaManager.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerAdError.bind(this),!1),l.videoSlot.onended=function(){_._cabinet.imaManager.doContentComplete()}}catch(t){return void this.onAdError({msg:a.VD_ERROR_CODES.IMA_INIT_AD_ERROR,vec:a.VAST_ERRORCODES.SS_VEC_1525_IMA_ADS_MANAGER_INIT_AD_ERROR})}try{var d=new google.ima.AdsRequest,c=this._cabinet.replacePageProtocol(s.replaceDetectedMacros(this._cabinet.locationInfo,this._cabinet.getSizeInfo(this._initParams),this._adVast.imaTagUrl));d.adTagUrl=c,d.linearAdSlotWidth=t,d.linearAdSlotHeight=n,d.nonLinearAdSlotWidth=t,d.nonLinearAdSlotHeight=a.IMA_NONLINEAR_SLOT_HEIGHT,this.isImaVersion(6)?d.vastLoadTimeout=23e3:d.vastLoadTimeout=this._cabinet.timeouts.VAST_TIMEOUT,this.isImaVersion(9)?d.setAdWillAutoPlay(!0):d.setAdWillAutoPlay(this._cabinet.autoplayVideoElementManager.autoplayAllowed),this.isImaVersionIn([7,9])?d.setAdWillPlayMuted(!0):d.setAdWillPlayMuted(this._cabinet.autoplayVideoElementManager.autoplayRequiresMuted),this.isImaVersion(8)&&d.setContinuousPlayback(!0),this._cabinet.imaManager.adsLoader.requestAds(d)}catch(t){this.onAdError({msg:a.VD_ERROR_CODES.IMA_ADS_LOADER_EXCEPTION,vec:a.VAST_ERRORCODES.SS_VEC_1521_IMA_ADS_LOADER_EXCEPTION})}}},{key:"isMobileOrTablet",value:function(){return _}},{key:"isImaVersion",value:function(t){return this._imaVersion==t}},{key:"isImaVersionIn",value:function(t){return-1<(0,u.default)(t,this._imaVersion)}},{key:"isAndroid",value:function(){try{return!!window.navigator.userAgent.match(/Android/i)}catch(t){return!1}}},{key:"getMimes",value:function(){return this.cabinet.manifest.mimes?this.cabinet.manifest.mimes:-1<(0,u.default)([4,2],this._imaVersion)?null:this.isImaVersion(3)?l:this.isImaVersion(5)?this.isMobileOrTablet()?this.isAndroid()?["video/mp4","video/webm"]:["video/mp4"]:null:l}},{key:"onAdsManagerLoaded",value:function(t){var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.isImaVersion(9)&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0);var n=this.getMimes();n&&(e.mimeTypes=n),this.isImaVersion(6)&&(e.loadVideoTimeout=18e3),this._adsManager=t.getAdsManager(this._initParams.environmentVars.videoSlot,e),this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onIMAAdError.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,(function(){})),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_METADATA,(function(){})),this._adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onIMAClick.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,(function(){})),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(){})),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(){})),this._adsManager.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,this.onIMADurationChange.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,this.onIMAFirstQuartile.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,this.onIMAImpression.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.INTERACTION,this.onIMAInteraction.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LINEAR_CHANGED,this.onIMALinearChanged.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onIMALoaded.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onIMALog.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,this.onIMAMidpoint.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onIMAPaused.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onIMAResumed.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.onIMASkippableStateChanged.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onIMASkipped.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onIMAStarted.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,this.onIMAThirdQuartile.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,this.onIMAUserClose.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,this.onIMAVolumeChanged.bind(this)),this._adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,this.onIMAVolumeMuted.bind(this)),this.onAdLoaded()}},{key:"onAdsManagerAdError",value:function(t){t=e.getMsg(a.VD_ERROR_CODES.IMA_ADS_LOADER_ERROR,t),this.destroyAd(),this.onAdError({msg:t,vec:a.VAST_ERRORCODES.SS_VEC_1522_IMA_ADS_LOADER_ERROR})}},{key:"onIMAAdError",value:function(t){t=e.getMsg(a.VD_ERROR_CODES.IMA_ADS_ERROR,t),this.destroyAd(),this.onAdError({msg:t,vec:a.VAST_ERRORCODES.SS_VEC_1523_IMA_ADS_ERROR})}},{key:"destroyAd",value:function(){this._isDestroyAd=!0,this._adsManager&&(this._adsManager.destroy(),this._adsManager=null),this._cabinet.imaManager.doContentComplete(),this._cabinet.imaManager.contentComplete=!1}},{key:"onAllAdsCompleted",value:function(){this._isDestroyAd||this.destroyAd(),this.onAdVideoComplete(),this.onAdStopped()}},{key:"onIMAClick",value:function(t){this.onAdClickThru("",t.getAd().getAdId(),!1)}},{key:"onIMADurationChange",value:function(){this.onAdDurationChange()}},{key:"onIMAFirstQuartile",value:function(){this.onAdVideoFirstQuartile()}},{key:"onIMAImpression",value:function(){this.onAdImpression()}},{key:"onIMAInteraction",value:function(){this.onAdInteraction()}},{key:"onIMALinearChanged",value:function(){this.onAdLinearChange()}},{key:"onIMALoaded",value:function(t){this._currentAd=t.getAd()}},{key:"onIMALog",value:function(t){(t=t.getAdData()).hasOwnProperty("adError")?this.onAdLog(t.adError.getMessage()):this.onAdLog("IMA Ad Log")}},{key:"onIMAMidpoint",value:function(){this.onAdVideoMidpoint()}},{key:"onIMAPaused",value:function(){this.onAdPaused()}},{key:"onIMAResumed",value:function(){this.onAdPlaying()}},{key:"onIMASkippableStateChanged",value:function(){this.onAdSkippableStateChange()}},{key:"onIMASkipped",value:function(){this._isDestroyAd||this.destroyAd(),this.onAdSkipped(),this.onAdStopped()}},{key:"onIMAStarted",value:function(){this.onAdStarted(),this.onAdVideoStart()}},{key:"onIMAThirdQuartile",value:function(){this.onAdVideoThirdQuartile()}},{key:"onIMAUserClose",value:function(){this.onAdUserClose()}},{key:"onIMAVolumeChanged",value:function(){this.onAdVolumeChange()}},{key:"onIMAVolumeMuted",value:function(){this.onAdVolumeChange()}},{key:"startAd",value:function(){this.adVpaidState.isDead||this._isDestroyAd||(this._cabinet.autoplayVideoElementManager.autoplayAllowed||this._cabinet.imaManager.adDisplayContainerInitialized?this.playAd():this.showClickToPlay())}},{key:"playAd",value:function(){this._cabinet.imaManager.maybeInitializeAdDisplayContainer();try{this._adsManager.init(this._initParams.width,this._initParams.height,this._initParams.viewMode),this._adsManager.start()}catch(t){this.destroyAd(),this.onAdError({msg:a.VD_ERROR_CODES.IMA_ADS_MANAGER_INIT_ERROR,vec:a.VAST_ERRORCODES.SS_VEC_1524_IMA_INIT_AD_ERROR})}}},{key:"getAdRemainingTime",value:function(){return this._adsManager?this._adsManager.getRemainingTime():a.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdDuration",value:function(){return this._currentAd?this._currentAd.getDuration():a.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdCompanions",value:function(){return this._currentAd?this._currentAd.getCompanionAds(this.width,this.height):[]}},{key:"getAdIcons",value:function(){return""}},{key:"getAdLinear",value:function(){return!this._currentAd||this._currentAd.isLinear()}},{key:"collapseAd",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"collapseAd",this).call(this),this._adsManager&&this._adsManager.collapse()}},{key:"expandAd",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"expandAd",this).call(this),this._adsManager&&this._adsManager.expand()}},{key:"getAdSkippableState",value:function(){return!!this._adsManager&&this._adsManager.getAdSkippableState()}},{key:"skipAd",value:function(){this._adsManager?this._adsManager.skip():(this._isSkipAd=!0,this.onAdSkipped(),this.onAdStopped())}},{key:"getAdVolume",value:function(){return this._adsManager&&(this._volume=this._adsManager.getVolume()),this._volume}},{key:"shouldForceMute",value:function(){return-1<(0,u.default)([1,4,6,7,8],this._imaVersion)}},{key:"setAdVolume",value:function(t){this.shouldForceMute()&&this._cabinet.autoplayVideoElementManager.autoplayRequiresMuted&&(t=0);var e=t!==this._volume;this._adsManager?this._adsManager.setVolume(t):e&&this.onAdVolumeChange(),this._volume=t}},{key:"resumeAd",value:function(){this.isPaused_=!1,this._adsManager?this._adsManager.resume():this.onAdPlaying()}},{key:"pauseAd",value:function(){this.isPaused_=!0,this._adsManager?this._adsManager.pause():this.onAdPaused()}},{key:"resizeAd",value:function(t,n,i){var r=this._initParams.width!==t||this._initParams.height!==n||this._initParams.viewMode!==i;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resizeAd",this).call(this,t,n,i),this._adsManager?this._adsManager.resize(t,n,i):r&&this.onAdSizeChange()}},{key:"stopAd",value:function(){this._adsManager?this._adsManager.stop():(this._isStopAd=!0,this.onAdStopped())}}],[{key:"getMsg",value:function(t,e){return t+"_"+(e=e.getError()).getErrorCode()+"_"+e.getType()+"_"+e.getInnerError()}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(t=n(0));t=(t=n(40))&&t.__esModule?t:{default:t};var a=n(273),s=a&&a.__esModule?a:{default:a};i(n=n(1)),n=function(t){function e(t,n,i,r,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"MediaDemandRequest",t,n,i,r,o),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._vpaidVideoWrapper=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"createVideoWrapper",value:function(){this._vpaidVideoWrapper=new s.default(this._cabinet,this._adVast)}},{key:"beginVideoWrapper",value:function(){var t=this;try{this.addSlotEventListener_(o.ELEMENT_EVENTS.click,{handleEvent:function(e){t._vpaidVideoWrapper.adClicked()}}),this.begin(this.getCreativeData(),this._vpaidVideoWrapper,this._initParams.environmentVars)}catch(t){try{this.stopAd()}catch(t){}this.demandError(o.VD_ERROR_CODES.VIDEO_WRAPPER_BEGIN_ERROR,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1504)}}},{key:"load",value:function(){try{this.demandOpp()}catch(t){return void this.demandError(o.VD_ERROR_CODES.DEMAND_TAG_OPP_ERROR,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1512)}try{this.createVideoWrapper(),this.beginVideoWrapper()}catch(t){this.demandError(o.VD_ERROR_CODES.UNCAUGHT_MEDIA_DEMAND_REQUEST_LOAD_ERROR+t.message,!1,o.VAST_ERRORCODES.SS_VEC_1529_UNCAUGHT_MEDIA_DEMAND_REQUEST_LOAD_ERROR)}}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0},a=i(n(0)),s=i(n(1)),u=i(n(116));n=function(t){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"VpaidVideoWrapper",t,n),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._lastQuartileIndex=0,t._isPaused=!1,t._clickCounter=0,t._requiresMuted=!1,t._autoplayState=a.AUTOPLAY_STATES.INIT,t._turnedOffAutoplay=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"removeVideoSlotAutoPlayElement",value:function(){var t=this._initParams.environmentVars.videoSlot;a.VIDEO_ATTRIBUTES.autoplay in t&&t.autoplay&&(t&&"function"==typeof t.removeAttribute&&t.removeAttribute(a.VIDEO_ATTRIBUTES.autoplay),this._turnedOffAutoplay=!0)}},{key:"resetVideoSlotAutoplay",value:function(){this._turnedOffAutoplay&&this._initParams.environmentVars.videoSlot&&"function"==typeof this._initParams.environmentVars.videoSlot.setAttribute&&this._initParams.environmentVars.videoSlot.setAttribute(a.VIDEO_ATTRIBUTES.autoplay,!0)}},{key:"initAd",value:function(t,n,i,r,u,l){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,i,r,u,l);try{if(!this._cabinet.autoplayVideoElementManager.environmentVarsHasVideoSlot){if(null===this._cabinet.autoplayVideoElementManager.newVideoSlot)return void this.onAdError(a.VD_ERROR_CODES.CREATE_VIDEO_SLOT_LOGIC_ERROR);this._cabinet.autoplayVideoElementManager.appendVideoSlot()}}catch(t){this.onAdError(a.VD_ERROR_CODES.CREATE_VIDEO_SLOT_ERROR)}this._setSource=!1;try{for(t=0;t<this._adVast.media.length;t++){var _=this._adVast.media[t];if(s.canPlayVideo(this._initParams.environmentVars.videoSlot,_)){this._initParams.environmentVars.videoSlot.setAttribute(a.VIDEO_ATTRIBUTES.src,_.url),this._initParams.environmentVars.videoSlot.setAttribute(a.VIDEO_ATTRIBUTES.type,_.mimetype),this.removeVideoSlotAutoPlayElement(),this._setSource=!0;break}}}catch(t){return void this.onAdError(a.VD_ERROR_CODES.FOUND_SOURCE_ERROR)}if(this._setSource){try{this.setAdVolumeInternal(this._initParams.environmentVars.videoSlot.volume),this._volume!==this._previousVolume&&this.onAdVolumeChange()}catch(t){return void this.onAdError(a.VD_ERROR_CODES.GET_VOLUME_ERROR)}this.onAdLoaded()}else this.onAdError(a.VD_ERROR_CODES.NO_SOURCE)}},{key:"onAdError",value:function(t){this.removeAllListeners(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this).call(this,t)}},{key:"onAdStopped",value:function(){this.removeAllListeners(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStopped",this).call(this)}},{key:"onAdSkipped",value:function(){this.removeAllListeners(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdSkipped",this).call(this)}},{key:"onAdStarted",value:function(){this.adVpaidState.isDead||o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStarted",this).call(this)}},{key:"startAd",value:function(){var t=this;if(this.adVpaidState.isVpaidEvent(a.VPAID_EVENTS.AdLoaded)&&!this.adVpaidState.isDead){this.resetVideoSlotAutoplay(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"startAd",this).call(this);try{var n={handleEvent:function(){if(t._lastQuartileIndex>=a.QUARTILE_EVENTS.length)t.removeVideoSlotEventListener_(a.VIDEO_EVENTS.timeupdate,n);else if(t.onAdImpression(),t.getAdSkippableState()&&!t.skipButton&&(t.addSkipButton(),t.onAdSkippableStateChange()),null!==t.duration&&null!==t.currentTime)for(var e=100*t.currentTime/t.duration;e>=a.QUARTILE_EVENTS[t._lastQuartileIndex].value;){switch(a.QUARTILE_EVENTS[t._lastQuartileIndex].event){case a.VPAID_EVENTS.AdVideoStart:t.onAdVideoStart();break;case a.VPAID_EVENTS.AdVideoFirstQuartile:t.onAdVideoFirstQuartile();break;case a.VPAID_EVENTS.AdVideoMidpoint:t.onAdVideoMidpoint();break;case a.VPAID_EVENTS.AdVideoThirdQuartile:t.onAdVideoThirdQuartile()}if(t._lastQuartileIndex+=1,t._lastQuartileIndex>=a.QUARTILE_EVENTS.length){t.removeVideoSlotEventListener_(a.VIDEO_EVENTS.timeupdate,n);break}}}};this.addVideoSlotEventListener_(a.VIDEO_EVENTS.timeupdate,n),this.addVideoSlotEventListener_(a.VIDEO_EVENTS.ended,{handleEvent:function(){t.adVpaidState.isVpaidEvent(a.VPAID_EVENTS.AdImpression)&&t._lastQuartileIndex>=a.QUARTILE_EVENTS.length&&t.onAdVideoComplete(),setTimeout(t.onAdStopped.bind(t),t._cabinet.timeouts.VPAID_FINAL_EVENT_TIMEOUT)}}),this.addVideoSlotEventListener_(a.VIDEO_EVENTS.volumechange,{handleEvent:function(){t._autoplayState===a.AUTOPLAY_STATES.CHECKING&&t.onAdVolumeChange()}})}catch(t){return void this.onAdError(a.VD_ERROR_CODES.ADD_EVENT_LISTENERS_ERROR)}this.onAdStarted(),0===this._adVast.skipOffset&&(this.addSkipButton(),this.onAdSkippableStateChange()),setTimeout(this._doStartAd.bind(this),0)}}},{key:"_doStartAd",value:function(){var t=this,e=u.isMuted(this._initParams.environmentVars.videoSlot),n=this._initParams.environmentVars.videoSlot.play();this._autoplayState=a.AUTOPLAY_CHECK_STATES.CHECKING,void 0!==n?n.then(this._onAutoplayWithSoundSuccess.bind(this)).catch((function(n){t.adVpaidState.isContinue&&!e?t._checkMutedAutoplaySupport():t._onAutoplayFailed()})):this._onNoSoundPlayPromise()}},{key:"_onAutoplayWithSoundSuccess",value:function(){this._autoplayState=a.AUTOPLAY_STATES.RESOLVED,this.onAdImpression()}},{key:"_onNoSoundPlayPromise",value:function(){this._autoplayState=a.AUTOPLAY_STATES.RESOLVED,this.onAdImpression()}},{key:"_onAutoplayFailed",value:function(){this._autoplayState=a.AUTOPLAY_STATES.CLICK_TO_PLAY,this.showClickToPlay()}},{key:"_checkMutedAutoplaySupport",value:function(){this._initParams.environmentVars.videoSlot.volume=0,this._initParams.environmentVars.videoSlot.muted=!0;var t=this._initParams.environmentVars.videoSlot.play();void 0!==t?t.then(this._onMutedAutoplaySuccess.bind(this)).catch(this._onMutedAutoplayFail.bind(this)):this._onNoMutedPlayPromise()}},{key:"_onMutedAutoplaySuccess",value:function(){this._requiresMuted=!0,this._autoplayState=a.AUTOPLAY_STATES.RESOLVED,this.onAdImpression()}},{key:"_onMutedAutoplayFail",value:function(t){this._initParams.environmentVars.videoSlot.volume=this._volume,this._initParams.environmentVars.videoSlot.muted=!1,this._onAutoplayFailed()}},{key:"_onNoMutedPlayPromise",value:function(){this._autoplayState=a.AUTOPLAY_STATES.RESOLVED,this.onAdImpression()}},{key:"playAd",value:function(){this._initParams.environmentVars.videoSlot.play()}},{key:"onAdImpression",value:function(){var t=this;if(this.adVpaidState.isContinue&&this.hasPlayed){try{this.addVideoSlotEventListener_(a.VIDEO_EVENTS.click,{handleEvent:function(e){t.adClicked()}})}catch(t){return void this.onAdError(a.VD_ERROR_CODES.ADD_CLICK_LISTENER)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdImpression",this).call(this)}}},{key:"getAdRemainingTime",value:function(){return null!==this.duration?null!==this.currentTime?this.duration-Math.min(this.currentTime,this.duration):this.duration:a.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdDuration",value:function(){return null!==this.duration?this.duration:null!==this._adVast.duration?this._adVast.duration:a.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdCompanions",value:function(){return this._adVast.companions}},{key:"getAdIcons",value:function(){return this._adVast.icons}},{key:"getAdLinear",value:function(){return this._adVast.linear}},{key:"collapseAd",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"collapseAd",this).call(this),this.onAdExpandedChange()}},{key:"expandAd",value:function(){this._initParams.environmentVars.videoSlot.requestFullscreen?this._initParams.environmentVars.videoSlot.requestFullscreen():this._initParams.environmentVars.videoSlot.msRequestFullscreen?this._initParams.environmentVars.videoSlot.msRequestFullscreen():this._initParams.environmentVars.videoSlot.mozRequestFullScreen?this._initParams.environmentVars.videoSlot.mozRequestFullScreen():this._initParams.environmentVars.videoSlot.webkitRequestFullscreen&&this._initParams.environmentVars.videoSlot.webkitRequestFullscreen(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"expandAd",this).call(this),this.onAdExpandedChange()}},{key:"getAdSkippableState",value:function(){return this._adVast.skipOffset!==a.VPAID_CONSTANTS.NOT_IMPLEMENTED&&this.currentTime>=this._adVast.skipOffset}},{key:"skipAd",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this),setTimeout((function(){t.onAdSkipped(),t.onAdStopped()}),0)}},{key:"getAdVolume",value:function(){return this.adVpaidState.isVpaidEvent(a.VPAID_EVENTS.AdLoaded)&&this._autoplayState!==a.AUTOPLAY_STATES.CHECKING?this._initParams.environmentVars.videoSlot.volume:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAdVolume",this).call(this)}},{key:"setAdVolume",value:function(t){if(this._volume!==t&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setAdVolume",this).call(this,t),null!==this._initParams.environmentVars.videoSlot&&this._autoplayState!==a.AUTOPLAY_STATES.CHECKING))try{this._initParams.environmentVars.videoSlot.muted=0>=t,this._initParams.environmentVars.videoSlot.volume=1<t?.01*t:t}catch(t){}this.onAdVolumeChange()}},{key:"resumeAd",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resumeAd",this).call(this),this._isPaused=!1,this._initParams.environmentVars.videoSlot.play(),this.onAdPlaying()}},{key:"pauseAd",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"pauseAd",this).call(this),this._isPaused=!0,this._initParams.environmentVars.videoSlot.pause(),this.onAdPaused()}},{key:"resizeAd",value:function(t,n,i){var r=this._initParams.width!==t||this._initParams.height!==n||this._initParams.viewMode!==i;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resizeAd",this).call(this,t,n,i),r&&("fullscreen"===i?(this._initParams.environmentVars.videoSlot.style.width="100%",this._initParams.environmentVars.videoSlot.style.height="100%"):(this._initParams.environmentVars.videoSlot.style.width=t+"px",this._initParams.environmentVars.videoSlot.style.height=n+"px")),this.onAdSizeChange()}},{key:"_cleanup",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_cleanup",this).call(this);try{var t=this._initParams.environmentVars.videoSlot;this._autoplayState===a.AUTOPLAY_CHECK_STATES.CHECKING&&t.pause(),this._setSource&&(t.removeAttribute(a.VIDEO_ATTRIBUTES.src),t.removeAttribute(a.VIDEO_ATTRIBUTES.type))}catch(t){}this.removeSkipButton()}},{key:"stopAd",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this),setTimeout((function(){t.onAdStopped()}),0)}},{key:"adClicked",value:function(){!this.adVpaidState.isSkipAd&&this._adVast.clickThrough&&(!1===this._isPaused?(this.pauseAd(),this.onAdClickThru(this._adVast.clickThrough,"adClickId-"+this._clickCounter++,!1),window.open(this._adVast.clickThrough,"_blank")):this.resumeAd())}},{key:"addSkipButton",value:function(){var t=s.getDocumentAndWindow(this._initParams.environmentVars.slot).document.createElement("BUTTON");t.id=this.skipAdId,s.styleButton(t),t.addEventListener("click",this.skipAd.bind(this),!1),this._initParams.environmentVars.slot.appendChild(t)}},{key:"removeSkipButton",value:function(){var t=s.getDocumentAndWindow(this._initParams.environmentVars.slot).document.getElementById(this.skipAdId);t&&this._initParams.environmentVars.slot.removeChild(t)}},{key:"autoplayState",get:function(){return this._autoplayState}},{key:"skipAdId",get:function(){return this.shortUuid+"skipAd"}},{key:"hasPlayed",get:function(){return null!==this.currentTime&&0<this.currentTime}},{key:"currentTime",get:function(){return null!==this._initParams.environmentVars.videoSlot?this._initParams.environmentVars.videoSlot.currentTime:null}},{key:"duration",get:function(){return null!==this._initParams.environmentVars.videoSlot&&0<this._initParams.environmentVars.videoSlot.duration?this._initParams.environmentVars.videoSlot.duration:null}},{key:"skipButton",get:function(){return s.getDocumentAndWindow(this._initParams.environmentVars.slot).document.getElementById(this.skipAdId)}}]),e}(((n=n(115))&&n.__esModule?n:{default:n}).default),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(t=n(0));t=(t=n(40))&&t.__esModule?t:{default:t};var a=n(275),s=a&&a.__esModule?a:{default:a},u=n(1);i(u),n=function(t){function e(t,n,i,r,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(t=(e.__proto__||Object.getPrototypeOf(e)).call(this,"VpaidDemandRequest",t,n,i,r,o),!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(t=!t||"object"!=typeof t&&"function"!=typeof t?this:t)._iframe=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"demandError",value:function(t,n,i){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"demandError",this).call(this,t,n,i),this._iframe&&(this._iframe.parentNode.removeChild(this._iframe),this._iframe=null)}},{key:"loadIframeFunc",value:function(){var t=this;return function(e){try{if(!t.adVpaidState.isDead)if(e)if(e.contentWindow)if(e.contentWindow.getVPAIDAd)if("function"!=typeof e.contentWindow.getVPAIDAd)t.demandError(o.VD_ERROR_CODES.GET_VPAID_AD_NOT_FUNCTION,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1509);else try{t.begin(t.getCreativeData(),e.contentWindow.getVPAIDAd(),t._initParams.environmentVars)}catch(e){try{t.stopAd()}catch(t){}t.demandError(o.VD_ERROR_CODES.JS_VPAID_BEGIN_ERROR,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1509)}else t.demandError(o.VD_ERROR_CODES.NO_GET_VPAID_AD,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1509);else t.demandError(o.VD_ERROR_CODES.NO_CONTENT_WINDOW,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1509);else t.demandError(o.VD_ERROR_CODES.NO_IFRAME,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1509)}catch(e){t.demandError(o.VD_ERROR_CODES.UNCAUGHT_LOAD_IFRAME_ERROR+e.message,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1509)}}}},{key:"getErrorFunc",value:function(){var t=this;return function(){var e=o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1509;t.cabinet.pageProtocol===u.SECURE_PROTOCOL&&t._adVast.jsVpaidUrl.substr(0,u.INSECURE_PROTOCOL.length)===u.INSECURE_PROTOCOL&&(e=o.VAST_ERRORCODES.SS_VEC_1311_MIXED_CONTENT),t.demandError(o.VD_ERROR_CODES.IFRAME_ON_ERROR,!1,e)}}},{key:"getTimeoutInfo",value:function(){return this._cabinet.timeoutManager.getDemandTagTimeoutInfo(this._demandTag.waterfallIdx,this._demandTag.broadcastIdx,[{timeout:this._cabinet.timeouts.VPAID_SCRIPT_TIMEOUT,reason:o.VD_ERROR_CODES.VPAID_TIMEOUT}])}},{key:"load",value:function(){var t=this;try{this.demandOpp()}catch(t){return void this.demandError(o.VD_ERROR_CODES.DEMAND_TAG_OPP_ERROR,!1,o.VAST_ERRORCODES.SS_VAST_ERRORCODE_1512)}var e=void 0;try{e=this.getTimeoutInfo()}catch(t){this.demandError(o.VD_ERROR_CODES.UNC_VPAID_DR_GET_TO+t.message,!1,o.VAST_ERRORCODES.SS_VEC_1530_UNCAUGHT_VPAID_DEMAND_REQUEST_LOAD_ERROR)}var n=void 0,i=void 0,r=void 0,a=void 0;try{n=this._cabinet.manifest.enableFlashIframe?null:o.ALLOW_SCRIPTS,i=function(){t.demandError(e.reason,!0,e.vec)},r=this.loadIframeFunc(),a=this.getErrorFunc()}catch(t){this.demandError(o.VD_ERROR_CODES.UNC_VPAID_DR_LOAD_ERR+t.message,!1,o.VAST_ERRORCODES.SS_VEC_1530_UNCAUGHT_VPAID_DEMAND_REQUEST_LOAD_ERROR)}try{this._iframe=s.default.createIframe(this._cabinet.uuid,document,n,this._adVast.jsVpaidUrl,e.timeout,i,r,a)}catch(t){this.demandError(t.message,!1,o.VAST_ERRORCODES.SS_VEC_1530_UNCAUGHT_VPAID_DEMAND_REQUEST_LOAD_ERROR)}}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(n(0));i(n=n(1)),n=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}return r(t,null,[{key:"createIframe",value:function(t,e,n,i,r,a,s,u){function l(t){return function(){_||(_=!0,u())}}var _=!1,d=void 0;try{d=e.createElement("iframe")}catch(t){throw Error(o.VD_ERROR_CODES.CREATE_IFRAME_ELEMENT_ERROR+t.message)}d.id="iframe-"+t,null!==n&&(d.sandbox=n);try{var c=d.frameElement||d;c.style.border="0px",c.style.width="100%",c.style.height="100%",c.style.position="relative",c.style.overflow="hidden",c.scrolling="no"}catch(t){throw Error(o.VD_ERROR_CODES.STYLE_IFRAME_ERROR+t.message)}d.src="javascript:false";try{e.body.appendChild(d)}catch(t){throw Error(o.VD_ERROR_CODES.APPEND_IFRAME_ERROR+t.message)}t=l(),e=l(),n=l(),c=void 0;try{c=d.contentWindow||d.contentDocument.parentWindow}catch(t){throw Error(o.VD_ERROR_CODES.IFRAME_CONTENT_WINDOW_ERROR+t.message)}var h=void 0;try{d.contentDocument?h=d.contentDocument:d.contentWindow&&(h=d.contentWindow.document)}catch(t){throw Error(o.VD_ERROR_CODES.IFRAME_WINDOW_DOCUMENT_ERROR+t.message)}try{h.open().write("<body onload=\"var js = document.createElement('script');js.src = '"+i+"';js.addEventListener('load', function() { window.onLoadFn(); });js.addEventListener('error', function() { window.onErrorFn(); });js.addEventListener('abort', function() { window.onAbortFn(); });js.addEventListener('beforeunload', function() { window.onBeforeunloadFn(); delete window.onBeforeunloadFn; delete window.onErrorFn; delete window.onAbortFn; delete window.onLoadFn;  });document.body.appendChild(js);\">")}catch(t){throw Error(o.VD_ERROR_CODES.IFRAME_WRITE_ERROR+t.message)}try{c.onLoadFn=function(){_||(_=!0,s(d))},c.onErrorFn=t,c.onAbortFn=e,c.onBeforeunloadFn=n}catch(t){throw Error(o.VD_ERROR_CODES.IFRAME_SET_FUNCTION_ERROR+t.message)}try{h.close()}catch(t){throw Error(o.VD_ERROR_CODES.IFRAME_CLOSE_ERROR+t.message)}return setTimeout((function(){_||(_=!0,a())}),r),d}}]),t}(),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.initMoatTracking=function(t,e,n,i,r){return function(t,e,n,i,r){var o=document.createElement("script"),a=[];e={adData:{ids:e,duration:n,url:r},dispatchEvent:function(t){this.sendEvent?(a&&(a.push(t),t=a,a=!1),this.sendEvent(t)):a.push(t)}},n="_moatApi"+Math.floor(1e8*Math.random());var s=r=void 0;try{s=(r=t.ownerDocument).defaultView||r.parentWindow}catch(t){r=document,s=window}return s[n]=e,o.type="text/javascript",t&&t.insertBefore(o,t.childNodes[0]||null),o.src="https://z.moatads.com/"+i+"/moatvideo.js#"+n,e}(t,e,n,i,r)}},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e,n,i,r,o,s){return e={pp:o,ai:o,si:e.supplyTagId,sr:"springserve.com",ac:e.demandTagId,dm:n+"x"+i,di:t.domain,de:null!=t.w_de?t.w_de:2,md:2,c1:r,ui:t.ssid,r1:s.toString(),ti:t.uuid,gt:t.country,dt:u.default.dt},t.hasOwnProperty("pimps")&&(t.pimps.hasOwnProperty("w_pv")&&""!==t.pimps.w_pv&&(e.pv=t.pimps.w_pv),t.pimps.hasOwnProperty("w_to")&&t.pimps.w_to>a.SSC_TO.UNKNOWN&&(e.to=t.pimps.w_to),t.passthru&&t.passthru.app_bundle&&(e.ap=t.passthru.app_bundle)),e}function o(t,e,n,i,o){for(var s=[],u=e.callChain.callChainLinks,_=0;_<u.length;_++){var d=u[_];if(l.shouldFireLink(t,d,a.POST_IMP_PROVIDER_ID_WHITEOPS)){var c=0===_?t.aid:d.getFirstOtherTagId(a.CALL_CHAIN_IDENTIFIERS.ACCOUNT);s.push(r(t,d,n,i,o,c,e.callChain))}}return s}Object.defineProperty(e,"__esModule",{value:!0}),e.getDatas=o,e.load=function(t,e,n,i,r,a,l){for(e=o(e,n,i,r,a),n=0;n<e.length;n++)s.addScript(t,s.makeUrl(l,u.default.url,e[n]));return e};var a=i(t=n(0)),s=i(t=n(1)),u=(t=n(278))&&t.__esModule?t:{default:t},l=i(n=n(41))},function(t){t.exports=JSON.parse('{"url":"s.update.morgdog.springserve.com/2/465673/analytics.js","dt":"4656731475874383737000"}')},function(t){t.exports=JSON.parse('{"moatPartnerCode":"yellowhammerflashint188671193078"}')},function(t,e,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__IASVANS=function(t){var e=function(){var t,e=function(){var t=function(t){return void 0!==t},e=function(){var e="u";try{t(window.opera)&&t(window.opera.buildNumber)?e="o":t(window.mozInnerScreenY)?e="g":t(window.chrome)&&t(window.chrome.csi)?e="c":t(window.msWriteProfilerMark)&&t(window.crypto)?e="e":t(window.attachEvent)||t(window.msCrypto)?e="i":t(window.WebKitPoint)&&(e="w")}catch(t){}return e}(),n=function(){var e=function(){var e={g:"",q:""};try{e.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(o){var n,i=o.message;if(i=i.substring(i.lastIndexOf("<")+1,i.lastIndexOf(">")),(n=t(i))&&(n=!1,t(window.navigator)&&t(window.navigator.userAgent))){var r=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==r&&2==r.length&&(r=r[1].split("."),3==parseInt(r[0],10)&&6>=parseInt(r[1],10)&&(3==r.length?13>=parseInt(r[2],10)&&(n=!0):n=!0))}n&&(e.g=i)}return e},n={};try{n.a=encodeURIComponent(top.location.href)}catch(t){}try{n.b=encodeURIComponent(parent.location.href)}catch(t){}if(window!=top){try{n.c=encodeURIComponent(parent.document.referrer)}catch(t){}try{n.e=encodeURIComponent(window.document.referrer)}catch(t){}}try{n.d=encodeURIComponent(window.location.href)}catch(t){}try{var i=e();n.g=encodeURIComponent(i.g),n.q=encodeURIComponent(i.q)}catch(t){}for(var r in n=function(e){var n,i,r={};for(i in e)e.hasOwnProperty(i)&&(n=e[i],t(r[n])?r[n]+=i:r[n]=i);for(i in e={},r)r.hasOwnProperty(i)&&(e[n=r[i]]=i);return e}(n=function(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];""!==i&&"null"!==i&&"undefined"!==i&&null!==i&&t(i)||delete e[n]}return e}(n)),e=[],n)n.hasOwnProperty(r)&&e.push({key:r,val:n[r]});return e.sort((function(t,e){return t.val.length>e.val.length?1:t.val.length<e.val.length?-1:0})),e}();return{br:e,urls:n}},n=function(t,e,n){var i=["//"+f.getFwServerDomain(),"/db2/video/",e+"/",n+"/","skeleton.js?videoId=",s.getVideoId()].join("");e=function(t){i=[i,"&adsafe_url=",t.val,"&adsafe_type=",t.key].join("")};try{t.urls.forEach(e),i=[i,"&adsafe_jsinfo=br:",t.br].join("")}catch(t){o.report(d.DIAGNOSTIC.BUILD_VIDEOAPI_URL,t)}return i},i=function(){if(this.readyState==d.XHR.READY_STATE.DONE)if(this.status==d.HTTP.STATUS_CODE.OK)try{t("failed"===JSON.parse(this.responseText).action?d.BLOCKING_RESPONSE.BLOCK:d.BLOCKING_RESPONSE.SAFE)}catch(t){o.report(d.DIAGNOSTIC.BLOCK_AD,t)}else o.report(d.DIAGNOSTIC.BLOCKING_URL_REQUEST_ERR,{message:this.status})};return{init:function(r,o,a){var s=e();r=n(s,r,o),t=a,f.sendUrlRequest(r,i)}}}(),n=function(){var t=window;return{getWin:function(){return t},setWin:function(e){(e=e&&e.ownerDocument)&&e.defaultView?t=e.defaultView:e&&e.parentWindow?t=e.parentWindow:o.report(d.DIAGNOSTIC.SET_CONTEXT,{message:""})},getDoc:function(){return t.document}}}(),r=function(){var t,e=[],n=!1,i=function(t){var e="";return Object.keys(t).forEach((function(n){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(n)&&(e+="&"+n+"="+t[n])})),e},u=function(n){var a;if(s.isEstablished())try{(a=f.stringify(n))&&("AdImpression"===n.messageType?f.getWindow()[t](a):f.getWindow().postMessage(a,"*"))}catch(t){o.report(d.DIAGNOSTIC.DISPATCH_MESSAGE,t)}else if(s.canNeverBeEstablished()){a=f.getFwServerDomain();var u=r.config;try{"AdImpression"===n.messageType&&(r.isCmTag?f.sendUrlRequest(["//"+a,"/mon?",i(u)].join("")):r.isFwTag&&f.sendUrlRequest(["//"+a,"/rfw/st/",u.advEntityId+"/"+u.pubEntityId,"/skeleton.js"].join("")))}catch(t){o.report(d.DIAGNOSTIC.DISPATCH_MESSAGE,t)}}else try{e.push(n)}catch(t){o.report(d.DIAGNOSTIC.CACHE_MESSAGE,t)}},l=function(t,e){f.sendMonitoringDebugPixel(d.MONITORING.AD_STOPPED,r.monitoringQS()),_(t,e)},_=function(t,e){try{u({messageType:t,id:s.getVideoId(),time:f.now(),partner:a.getPartnerCode(),eventData:e})}catch(t){o.report(d.DIAGNOSTIC.SEND_EVENT,t)}},c={AdImpression:function(t,e){var i=p.getInjector();n||(e&&(e.ext_passthrough=r.passThroughObj),n=!0,f.sendMonitoringDebugPixel(d.MONITORING.AD_IMPRESSION,r.monitoringQS()),i.onInjectionResolution((function(){_(t,e)})),i.resolveInjection())},AdStopped:l,AdVideoComplete:l,AdError:function(t,e){f.sendMonitoringDebugPixel(d.MONITORING.AD_ERROR,r.monitoringQS()),_(t,e)}};return{sendEvent:function(t,e){var n=c[t]||_;p.vans.hasBegun()&&n(t,e)},setImpressionCallback:function(e){t=e},flushUnsentEvents:function(){try{e.forEach(u)}catch(t){o.report(d.DIAGNOSTIC.FLUSH_UNSENT_EVENTS,t)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){n=!1,e.length=0}}}(),o=function(){var t={};return{report:function(e,n,i){if(!t[e])try{t[e]=!0;var r="//"+f.getFwServerDomain()+"/jsdiagnostic?code:vans-js_"+encodeURIComponent(a.getPartnerCode())+"_"+e+"&err:"+encodeURIComponent(n.message);i&&(r+="&config:"+encodeURIComponent(JSON.stringify(i))),f.sendUrlRequest(r)}catch(t){}}}}(),a={initCM:function(t,e){c.initCM(t,e)},initFW:function(t,e,n){c.initFW(t,e,n)},getPartnerCode:function(){return p.get().partnerCode},getPassThroughObj:function(){return p.get().passThroughObj},getAltMonDomain:function(){return p.get().monDomain},hasDebugEnabled:function(){return p.get().debugEnabled}},s=function(){var t,e=!1,n=!1,i=function(t,n){return t==a()&&(e=!0,r.setImpressionCallback(n),f.sendMonitoringDebugPixel(d.MONITORING.HANDSHAKE_SUCCESS,r.monitoringQS()),r.flushUnsentEvents()),e?d.VIDEO_CHANNEL:null},a=function(){return t||(t=f.generateUID()),t};return{getVideoId:a,setNodeInterface:function(t){var e=a();try{var n="IASid"+e,r="blockAd"+e,s="getIasVidBridgeVersion"+e;t.className+=" integral-vid-"+e,t[r]=f.noop,t[n]=i,t[s]=function(){return"2"},t.getVersion=function(){return d.INTERNAL_VERSION}}catch(t){o.report(d.DIAGNOSTIC.SET_NODE_INTERFACE,t)}},isEstablished:function(){return e},canNeverBeEstablished:function(){return n},giveUpOnHandshaking:function(){n=!0,r.flushUnsentEvents()},resetHandshake:function(){n=e=!1}}}(),u=function(){var t=function(){var t=[];return{addCallback:function(e,n){var i=0;n=n||Number.MAX_VALUE,t.push((function(){i<n&&(i++,e.apply({},arguments))}))},executeCallbacks:function(){var e=arguments;t.forEach((function(t){t.apply({},e)}))}}}();return{addCallback:function(e){t.addCallback(e,1)},executeCallbacks:t.executeCallbacks}},l=function(t){var e=!1,n=!1,r=new u,a=!1,l=function(t,e){var n=f.getFwServerDomain();try{var i=["//",n,t,"?videoId=",s.getVideoId(),function(t){var e="";return Object.keys(t).forEach((function(n){"advEntityId"!=n&&"pubEntityId"!=n&&"partner"!=n&&(e+="&"+n+"="+t[n])})),e}(e)].join("")}catch(t){o.report(d.DIAGNOSTIC.BUILD_SRC_URL,t)}return i},_=function(i){var o,u=function(){!e&&t.parentNode?(t.parentNode.appendChild(i),clearInterval(o),n=e=!0,f.sendMonitoringDebugPixel(d.MONITORING.FWJS_INJECTED,h.buildMonitoringQS())):a&&(n=!0,clearInterval(o),s.giveUpOnHandshaking()),n&&r.executeCallbacks()};u(),e||(o=setInterval(u,200))},c=function(){var e=t&&t.ownerDocument,n=e&&e.parentWindow;return!!(e&&e.defaultView||n)};return{injectTagScript:function(t,e){var i=f.getDocument();if(c()){try{var r=i.createElement("script");r.src=l(t,e),r.addEventListener("load",(function(t){f.sendMonitoringDebugPixel(d.MONITORING.FWJS_LOAD_SUCCESS,h.buildMonitoringQS())})),r.addEventListener("error",(function(t){s.giveUpOnHandshaking(),f.sendMonitoringDebugPixel(d.MONITORING.FWJS_LOAD_ERROR,h.buildMonitoringQS())})),_(r)}catch(t){s.giveUpOnHandshaking(),f.sendMonitoringPixel(d.MONITORING.INJECTION_ERR)}}else n=!0,s.giveUpOnHandshaking()},sendInjectionDiagnostics:function(){var e=t&&t.ownerDocument,n=t&&t.parentNode,r=e&&(e.defaultView||e.parentWindow),o=d.MONITORING.AD_NODE_TYPE+"_"+(t?t.constructor.name||t.nodeName||(void 0===t?"undefined":i(t)):"null");t||f.sendMonitoringDebugPixel(d.MONITORING.AD_NODE_NULL,h.buildMonitoringQS()),t&&!n&&f.sendMonitoringDebugPixel(d.MONITORING.AD_NODE_DETACHED,h.buildMonitoringQS()),t&&!e&&f.sendMonitoringDebugPixel(d.MONITORING.AD_NODE_NO_DOC,h.buildMonitoringQS()),e&&!r&&f.sendMonitoringDebugPixel(d.MONITORING.AD_NODE_NO_WINDOW,h.buildMonitoringQS()),f.sendMonitoringDebugPixel(o,h.buildMonitoringQS())},onInjectionResolution:function(t){r.addCallback(t),n&&r.executeCallbacks()},resolveInjection:function(){a=!0}}},_=function(){var t,e=!1,n=function e(n){var i=!1;try{var r=JSON.parse(n.data);i="unloadComplete"===r.msg&&r.id==s.getVideoId()}catch(t){}i&&(t(),f.getWindow().removeEventListener("message",e))};return{registerMeasurementCompleteHandler:function(i){t=i,e||(f.getWindow().addEventListener("message",n),e=!0)}}},d={INTERNAL_VERSION:"3.6.0",VIDEO_CHANNEL:"jv3",PROD_DOMAIN:"pixel.adsafeprotected.com",DIAGNOSTIC_MONITORING_DOMAIN:"spixel.adsafeprotected.com",S4_ITERATIONS:8,EVENTS:{AD_IMPRESSION:"AdImpression"},PSUEDO_IMPRESSION_ID_PREFIX:"vidId_",DIAGNOSTIC:{INIT_FW:"ifw",INIT_CM:"icm",FLUSH_UNSENT_EVENTS:"fue",CACHE_MESSAGE:"cm",SEND_EVENT:"se",BLOCK_AD:"ba",SEND_MONITORING_PIXEL:"smp",SET_NODE_INTERFACE:"sni",BUILD_SRC_URL:"bsurl",BUILD_VIDEOAPI_URL:"bvu",BLOCKING_URL_REQUEST_ERR:"blk_url_req_err",DISPATCH_MESSAGE:"dm",SET_CONTEXT:"sc",STRINGIFY_EVENT_ERROR:"ser"},MONITORING:{INJECTION_ERR:"inj_err",VANS_INITIALIZED:"init",HANDSHAKE_SUCCESS:"hs",AD_IMPRESSION:"ai",DEFERRED_INTERFACE:"vans_defer",AD_STOPPED:"adstop",AD_ERROR:"aderr",AD_NODE_NULL:"adnode_null",AD_NODE_DETACHED:"adnode_detached",AD_NODE_NO_DOC:"adnode_nodoc",AD_NODE_NO_WINDOW:"adnode_nowin",AD_NODE_TYPE:"adnode_type",FWJS_INJECTED:"fwjsinj",FWJS_LOAD_SUCCESS:"fwjsload",FWJS_LOAD_ERROR:"fwjsload_err",IMPRESSION_DOMAIN_BLOCKING:"impblock"},HTTP:{VERBS:{GET:"GET"},STATUS_CODE:{OK:200}},BLOCKING_RESPONSE:{BLOCK:"block",SAFE:"safe"},XHR:{READY_STATE:{DONE:4}}},c=function(){var t=function(t,e,n,i){s.setNodeInterface(n),"function"==typeof e.onMeasurementComplete&&(new _).registerMeasurementCompleteHandler(e.onMeasurementComplete);var r={};Object.getOwnPropertyNames(e).forEach((function(t){"debug"!==t&&"onMeasurementComplete"!==t&&(r[t]=e[t])})),i.injectTagScript(t,r)};return{initCM:function(e,i){if(!p.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");n.setWin(i),p.setPreErrorConfig(e,"cm");try{if(!e.anId)throw Error("Missing anId");p.vans.begin();var r=new l(i);p.setInjector(r),p.setConfig(e),f.sendMonitoringDebugPixel(d.MONITORING.VANS_INITIALIZED,h.buildMonitoringQS()),f.sendMonitoringDebugPixel(d.MONITORING.IMPRESSION_DOMAIN_BLOCKING,h.buildMonitoringQS(),f.getFwServerDomain()),r.sendInjectionDiagnostics(),t("/jsvid",e,i,r)}catch(t){o.report(d.DIAGNOSTIC.INIT_CM,t)}}},initFW:function(i,r,a){if(!p.vans.hasBegun()){if(!i||!i.partner)throw Error("Missing partner code");n.setWin(r),p.setPreErrorConfig(i,"fw");try{if(!i.advEntityId||!i.pubEntityId)throw Error("Missing client id: advEntityId: "+i.advEntityId+" ,pubEntityId: "+i.pubEntityId);p.vans.begin();var s=new l(r);p.setInjector(s),p.setConfig(i),f.sendMonitoringDebugPixel(d.MONITORING.VANS_INITIALIZED,h.buildMonitoringQS()),f.sendMonitoringDebugPixel(d.MONITORING.IMPRESSION_DOMAIN_BLOCKING,h.buildMonitoringQS(),f.getFwServerDomain()),s.sendInjectionDiagnostics(),a&&e.init(i.advEntityId,i.pubEntityId,a);var u="/fwjsvid/st/"+i.advEntityId+"/"+i.pubEntityId+"/skeleton.js";t(u,i,r,s)}catch(t){o.report(d.DIAGNOSTIC.INIT_FW,t)}}}}}(),h={buildMonitoringQS:function(){var t=d.PSUEDO_IMPRESSION_ID_PREFIX+s.getVideoId(),e=p.getInfoParams();return["&chanId="+e.anId,"planId="+e.advEntityId,"placementId="+e.pubEntityId,"advId="+e.campId,"pubOrder="+e.placementId,"pubCreative="+e.creativeId,"impId="+(e.impId||t),"ts="+Date.now(),"custom="+d.INTERNAL_VERSION,"custom2=jv3&custom3="+p.get().tagType,"adsafe_par"].join("&")}},p=function(){var t,e={},n=!1,i={};return{vans:{hasBegun:function(){return n},begin:function(){n=!0}},setInjector:function(e){t=e},getInjector:function(){return t},setPreErrorConfig:function(t,n){e.tagType=n;n="string"==typeof(n=t.partner)?n.replace(/[^\w-.]/g,""):n,e.partnerCode=n,e.debugEnabled=t.debug&&t.debug.enabled,e.debugEnabled&&(e.monDomain=t.debug.monDomain)},setConfig:function(t){!function(t){"impId creativeId campId placementId advEntityId pubEntityId anId".split(" ").forEach((function(e){i[e]=t[e]})),i.monDomain=e.monDomain}(t),e.passThroughObj={vv:d.INTERNAL_VERSION,vanstag:e.tagType,xcamp:i.campId,xplac:i.placementId,xcreat:i.creativeId,ximp:i.impId,xpc:e.partnerCode},e.config=t,function(t){r.monitoringQS=h.buildMonitoringQS,r.passThroughObj=e.passThroughObj,Object.keys(t).forEach((function(e){r[e]=t[e]}))}({isFwTag:"fw"===e.tagType,isCmTag:"cm"===e.tagType,config:t})},getInfoParams:function(){return i},get:function(){return e}}}(),f={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(t){try{this.sendUrlRequest(["//"+f.getFwServerDomain(),"/mon?anId=10173&campId=",encodeURIComponent(a.getPartnerCode()),"&pubId=",encodeURIComponent("vans-js_"+t)].join(""))}catch(t){o.report(d.DIAGNOSTIC.SEND_MONITORING_PIXEL,t)}},sendMonitoringDebugPixel:function(){var t=[d.MONITORING.AD_STOPPED],e={};return function(n,i,r){var s=a.hasDebugEnabled(),u=-1<t.indexOf(n)&&e[n];if(s&&!u)try{var l=d.DIAGNOSTIC_MONITORING_DOMAIN,_=a.getAltMonDomain();_=(r=r||_||l)===_?"925116":"10173";var c=f.addProtocolToDomain(r),h=encodeURIComponent(n),p=encodeURIComponent(a.getPartnerCode()),A=i.replace(/=undefined&/g,"=&");f.sendUrlRequest(c+"/mon?anId="+_+"&campId="+p+"&pubId="+h+A),e[n]=!0}catch(t){o.report(d.DIAGNOSTIC.SEND_MONITORING_PIXEL,t)}}}(),sendUrlRequest:function(t,e){if(t){var n=this.getWindow();try{var i=new n.XMLHttpRequest;e&&(i.onreadystatechange=e),i.open(d.HTTP.VERBS.GET,t),i.send()}catch(t){}}},stringify:function(t){if("AdImpression"!==t.messageType)return JSON.stringify(t);var e={};e.passthroughObj=a.getPassThroughObj();var n="";try{n=JSON.stringify(t)}catch(t){return void o.report(d.DIAGNOSTIC.STRINGIFY_EVENT_ERROR,t,e)}return n},addProtocolToDomain:function(t){return t.match(/^[a-zA-Z]+:\/\//)?t:"https://"+t},getWindow:function(){return n.getWin()},getDocument:function(){return n.getDoc()},generateUID:function(){var t,e="";try{for(t=0;t<d.S4_ITERATIONS;t++)e=[e,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(t){}return e},getFwServerDomain:function(){return t||d.PROD_DOMAIN},noop:function(){}};return{initFW:a.initFW,initCM:a.initCM,sendEvent:r.sendEvent}}},function(t,e,n){e.__IASVANS=function(t){var e={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(t){try{this.sendUrlRequest(["//pixel.adsafeprotected.com/mon?anId=10173&campId=",encodeURIComponent(a.getPartnerId()),"&pubId=",encodeURIComponent("vans-js_"+t)].join(""))}catch(t){n.report("smp",t)}},sendMonitoringDebugPixel:function(){var t=["adstop"],i={};return function(r,o){var s=a.hasDebugEnabled(),u=-1<t.indexOf(r)&&i[r];if(s&&!u)try{var l=a.getAltMonDomain(),_=e.addProtocolToDomain("spixel.adsafeprotected.com")+"/mon?anId=10173&campId="+encodeURIComponent(a.getPartnerId())+"&pubId=",d=e.addProtocolToDomain(l)+"/mon?anId=925116&campId="+encodeURIComponent(a.getPartnerId())+"&pubId=",c=encodeURIComponent(r),h=o.replace(/=undefined&/g,"=&");this.sendUrlRequest([_,c,h].join("")),this.sendUrlRequest([d,c,h].join("")),i[r]=!0}catch(t){n.report("smp",t)}}}(),sendUrlRequest:function(t,e){if(t){var n=this.getWindow();try{var i=new n.XMLHttpRequest;e&&(i.onreadystatechange=e),i.open("GET",t),i.send()}catch(t){}}},stringify:function(t){if("AdImpression"!==t.messageType)return JSON.stringify(t);var e={};e.passthroughObj=a.getPassThroughObj();var i="";try{i=JSON.stringify(t)}catch(t){return void n.report("ser",t,e)}return i},addProtocolToDomain:function(t){return t.match(/^[a-zA-Z]+:\/\//)?t:"https://"+t},getWindow:function(){return s.getWin()},getDocument:function(){return s.getDoc()},generateUID:function(){var t,e="";try{for(t=0;8>t;t++)e=[e,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(t){}return e},noop:function(){}},n=function(){var t={};return{report:function(n,i,r){if(!t[n])try{t[n]=!0;var o="//pixel.adsafeprotected.com/jsdiagnostic?code:vans-js_"+encodeURIComponent(a.getPartnerId())+"_"+n+"&err:"+encodeURIComponent(i.message);r&&(o+="&config:"+encodeURIComponent(JSON.stringify(r))),e.sendUrlRequest(o)}catch(t){}}}}(),i=function(){var t,i=!1,r=function(t,n){return t==a()&&(i=!0,o.setImpressionCallback(n),e.sendMonitoringDebugPixel("hs",o.monitoringQS()),o.flushUnsentEvents()),i?"jv3":null},a=function(){return t||(t=e.generateUID()),t};return{getVideoId:a,setNodeInterface:function(t){var i=a();try{var o="IASid"+i,s="blockAd"+i,u="getIasVidBridgeVersion"+i;t.className+=" integral-vid-"+i,t[s]=e.noop,t[o]=r,t[u]=function(){return"2"},t.getVersion=function(){return"3.5.0"}}catch(t){n.report("sni",t)}},isEstablished:function(){return i},resetHandshake:function(){i=!1}}}(),r=function(){var t,r=function(){var t=function(t){return void 0!==t},e=function(){var e="u";try{t(window.opera)&&t(window.opera.buildNumber)?e="o":t(window.mozInnerScreenY)?e="g":t(window.chrome)&&t(window.chrome.csi)?e="c":t(window.msWriteProfilerMark)&&t(window.crypto)?e="e":t(window.attachEvent)||t(window.msCrypto)?e="i":t(window.WebKitPoint)&&(e="w")}catch(t){}return e}(),n=function(){var e=function(){var e={g:"",q:""};try{e.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(o){var n,i=o.message;if(i=i.substring(i.lastIndexOf("<")+1,i.lastIndexOf(">")),(n=t(i))&&(n=!1,t(window.navigator)&&t(window.navigator.userAgent))){var r=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==r&&2==r.length&&(r=r[1].split("."),3==parseInt(r[0],10)&&6>=parseInt(r[1],10)&&(3==r.length?13>=parseInt(r[2],10)&&(n=!0):n=!0))}n&&(e.g=i)}return e},n={};try{n.a=encodeURIComponent(top.location.href)}catch(t){}try{n.b=encodeURIComponent(window.parent.location.href)}catch(t){}if(window!=top){try{n.c=encodeURIComponent(window.parent.document.referrer)}catch(t){}try{n.e=encodeURIComponent(window.document.referrer)}catch(t){}}try{n.d=encodeURIComponent(window.location.href)}catch(t){}try{var i=e();n.g=encodeURIComponent(i.g),n.q=encodeURIComponent(i.q)}catch(t){}for(var r in n=function(e){var n,i,r={};for(i in e)e.hasOwnProperty(i)&&(n=e[i],t(r[n])?r[n]+=i:r[n]=i);for(i in e={},r)r.hasOwnProperty(i)&&(e[n=r[i]]=i);return e}(n=function(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];""!==i&&"null"!==i&&"undefined"!==i&&null!==i&&t(i)||delete e[n]}return e}(n)),e=[],n)n.hasOwnProperty(r)&&e.push({key:r,val:n[r]});return e.sort((function(t,e){return t.val.length>e.val.length?1:t.val.length<e.val.length?-1:0})),e}();return{br:e,urls:n}},o=function(t,e,r){var o=["//pixel.adsafeprotected.com/db2/video/",e,"/",r,"/skeleton.js?videoId=",i.getVideoId()].join("");e=function(t){o=[o,"&adsafe_url=",t.val,"&adsafe_type=",t.key].join("")};try{t.urls.forEach(e),o=[o,"&adsafe_jsinfo=br:",t.br].join("")}catch(t){n.report("bvu",t)}return o},a=function(){if(4==this.readyState)if(200==this.status)try{t("failed"===JSON.parse(this.responseText).action?"block":"safe")}catch(t){n.report("ba",t)}else n.report("blk_url_req_err",{message:this.status})};return{init:function(n,i,s){var u=r();n=o(u,n,i),t=s,e.sendUrlRequest(n,a)}}}(),o=function(){var r,s=[],u=!1,l=function(t){var e="";return Object.keys(t).forEach((function(n){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(n)&&(e+="&"+n+"="+t[n])})),e},_=function(a){var u;if(i.isEstablished())try{(u=e.stringify(a))&&("AdImpression"===a.messageType?e.getWindow()[r](u):e.getWindow().postMessage(u,"*"))}catch(t){n.report("dm",t)}else if(o.nodeProvided)try{s.push(a)}catch(t){n.report("cm",t)}else{u=t||"pixel.adsafeprotected.com";var _=o.config;try{e.stringify(a),"AdImpression"===a.messageType&&(o.isCmTag?e.sendUrlRequest(["//"+u,"/mon?",l(_)].join("")):o.isFwTag&&e.sendUrlRequest(["//"+u,"/rfw/st/",_.advEntityId+"/"+_.pubEntityId,"/skeleton.js"].join("")))}catch(t){n.report("dm",t)}}};return{sendEvent:function(t,r){if("AdImpression"===t){if(u)return;r&&(r.ext_passthrough=o.passThroughObj),u=!0,e.sendMonitoringDebugPixel("ai",o.monitoringQS())}else"AdStopped"===t||"AdVideoComplete"===t?e.sendMonitoringDebugPixel("adstop",o.monitoringQS()):"AdError"===t&&e.sendMonitoringDebugPixel("aderr",o.monitoringQS());try{_({messageType:t,id:i.getVideoId(),time:e.now(),partner:a.getPartnerId(),eventData:r})}catch(t){n.report("se",t)}},setImpressionCallback:function(t){r=t},flushUnsentEvents:function(){try{s.forEach(_)}catch(t){n.report("fue",t)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){u=!1,s.length=0}}}(),a=function(){var a,u,l,_={},d={},c="impId creativeId campId placementId advEntityId pubEntityId chanId".split(" "),h=function(e,r){var o=t||"pixel.adsafeprotected.com";try{var a=["//",o,e,"?videoId=",i.getVideoId(),function(t){var e="";return Object.keys(t).forEach((function(n){"advEntityId"!=n&&"pubEntityId"!=n&&"partner"!=n&&(e+="&"+n+"="+t[n])})),e}(r)].join("")}catch(t){n.report("bsurl",t)}return a},p=function(t,n,i){var r=e.getDocument();try{var o=r.createElement("script");o.src=h(t,n),o.addEventListener("load",(function(t){e.sendMonitoringDebugPixel("fwjsload",E())})),o.addEventListener("error",(function(t){e.sendMonitoringDebugPixel("fwjsload_err",E())})),function(t,n){var i,r=!1,o=function(){!r&&t.parentNode&&(t.parentNode.appendChild(n),clearInterval(i),r=!0,e.sendMonitoringDebugPixel("fwjsinj",E()))};o(),r||(i=setInterval(o,200))}(i,o)}catch(t){e.sendMonitoringPixel("inj_err")}},f=function(t,e,n){i.setNodeInterface(n);var r={};Object.getOwnPropertyNames(e).forEach((function(t){"debug"!==t&&(r[t]=e[t])})),p(t,r,n)},A=function(t){c.forEach((function(e){_[e]=t[e]})),l&&(_.monDomain=t.debug.monDomain)},E=function(){return"&chanId="+_.chanId+"&planId="+_.advEntityId+"&placementId="+_.pubEntityId+"&advId="+_.campId+"&pubOrder="+_.placementId+"&pubCreative="+_.creativeId+"&impId="+_.impId+"&ts="+Date.now()+"&custom=3.5.0&custom2=jv3&custom3="+u+"&adsafe_par"},R=function(t){var n=t&&t.ownerDocument,i=t&&t.parentNode,r=n&&(n.defaultView||n.parentWindow),o="adnode_type_"+(t?t.constructor.name||t.nodeName:"null");t||e.sendMonitoringDebugPixel("adnode_null",E()),t&&!i&&e.sendMonitoringDebugPixel("adnode_detached",E()),t&&!n&&e.sendMonitoringDebugPixel("adnode_nodoc",E()),n&&!r&&e.sendMonitoringDebugPixel("adnode_nowin",E()),e.sendMonitoringDebugPixel(o,E())},O=function(){d.vv="3.5.0",d.vanstag=u,d.xcamp=_.campId,d.xplac=_.placementId,d.xcreat=_.creativeId,d.ximp=_.impId},y=function(t){t.monitoringQS=E,t.passThroughObj=d,Object.keys(t).forEach((function(e){o[e]=t[e]}))},v=function(t){var e=(t=t&&t.ownerDocument)&&t.parentWindow;return!!(t&&t.defaultView||e)};return{initCM:function(t,i){var r=v(i);if(!t||!t.partner)throw Error("Missing partnerId");s.setWin(i),a=t.partner,l=t.debug&&t.debug.enabled,u="cm";try{if(!t.anId)throw Error("Missing anId");A(t),O(),y({isFwTag:!1,isCmTag:!0,nodeProvided:r,config:t}),e.sendMonitoringDebugPixel("init",E()),R(i),r&&f("/jsvid",t,i)}catch(t){n.report("icm",t)}},initFW:function(t,i,o){var _,d=v(i);if(!t||!t.partner)throw Error("Missing partnerId");s.setWin(i),a=t.partner,l=t.debug&&t.debug.enabled,u="fw";try{if(!t.advEntityId||!t.pubEntityId)throw Error("Missing client id: advEntityId: "+t.advEntityId+" ,pubEntityId: "+t.pubEntityId);A(t),O(),y({isFwTag:!0,isCmTag:!1,nodeProvided:d,config:t}),e.sendMonitoringDebugPixel("init",E()),R(i),o&&r.init(t.advEntityId,t.pubEntityId,o),d&&(_="/fwjsvid/st/"+t.advEntityId+"/"+t.pubEntityId+"/skeleton.js",f(_,t,i))}catch(t){n.report("ifw",t)}},getPartnerId:function(){return a},getPassThroughObj:function(){return d},getAltMonDomain:function(){return _.monDomain},hasDebugEnabled:function(){return l}}}(),s=function(){var t=window;return{getWin:function(){return t},setWin:function(e){(e=e&&e.ownerDocument)&&e.defaultView?t=e.defaultView:e&&e.parentWindow?t=e.parentWindow:n.report("sc",{message:""})},getDoc:function(){return t.document}}}();return{initFW:a.initFW,initCM:a.initCM,sendEvent:o.sendEvent}}},function(t){t.exports=JSON.parse('{"adNetworkId":"926608","partner":"springserve","newSDKNetworkId":"930164"}')},function(t){t.exports=JSON.parse('{"MAX_WRAPPERS":10,"VAST_TIMEOUT":3000,"WRAPPER_CHAIN_TIMEOUT":5000,"CHILD_KILL_AD_TIMEOUT":1000,"VPAID_SCRIPT_TIMEOUT":5000,"VPAID_FINAL_EVENT_TIMEOUT":1000,"JSON_TIMEOUT":20000,"DEFAULT_DEMAND_TAG_TIMEOUT":20000,"SSC_TIMEOUT":20000,"BROADCAST_VAST_REQUEST_TIMEOUT":1000,"IMA_TIMEOUT":5000,"MAX_BROADCAST_TIMEOUT":5000,"MAX_PIXEL_FIRE_TIMEOUT":5000,"PIXEL_QUEUE_FLUSH_INTERVAL_MS":3000,"VIEWABILITY":150,"MAX_PIXEL_TRIES":3,"PIXEL_WAIT":200,"HB_BID_REQUEST_TIMEOUT":1000,"AUTOPLAY_CHECK_TIMEOUT":1000,"AUTOPLAY_POLL_TIMEOUT":50,"MAX_POLL_COUNT":2}')},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=(t=n(3))&&t.__esModule?t:{default:t},s=i(t=n(0)),u=i(n=n(16));n=function(){function t(e,n,i,r,o,a){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._cabinet=e,this._initParams=n,this._adVpaidState=i,this._adVidIoState=r,this._sendBeacon=o,this._pixelQueue=a,this._unloadFunctions={}}return o(t,[{key:"registerUnloads",value:function(){var t=this;(0,a.default)(this._cabinet.locationInfo.parents.slice(0,1),(function(e,n){e.hasOwnProperty(s.PARENT_WIN)&&t.registerUnload(e[s.PARENT_WIN],n)}))}},{key:"registerUnload",value:function(t,e){var n=this;try{if(t&&"function"==typeof t.addEventListener){var i,o=function(){try{u.stop()}catch(t){}if(!n._adVidIoState.isVidIoEvent(s.VID_IO_EVENTS.js_impression)&&!n._adVidIoState.isVidIoDead){var i,o=(r(i={},s.VID_IO_PARAMS.idx,e),r(i,s.VID_IO_PARAMS.adLoaded,n._adVpaidState.isVpaidEvent(s.VPAID_EVENTS.AdLoaded)?1:0),i);n._cabinet.timeoutManager&&(o[s.VID_IO_PARAMS.timeOnPage]=n._cabinet.timeoutManager.timeOnPage),n._pixelQueue.enqueue(n._cabinet.pixelEventFactory.build(s.VID_IO_EVENTS.js_unload,null,o))}i=t.navigator&&t.navigator.sendBeacon,n._sendBeacon||i?(i=n._pixelQueue.swapAndGetBatch(),n._pixelQueue.killFlusher(!1),i&&(o=i.getUrl({batch:"unload"}),n._sendBeacon?n._sendBeacon(o,JSON.stringify(i.toJson())):t.navigator.sendBeacon(o,JSON.stringify(i.toJson())))):n._pixelQueue.killFlusher(),n.unregisterUnload(e)};t.addEventListener(s.WINDOW_EVENTS.unload,o,!1),this._unloadFunctions[e]=(r(i={},s.PARENT_WIN,t),r(i,"fn",o),i)}}catch(t){}}},{key:"unregisterUnload",value:function(t){var e=this._unloadFunctions[t];e&&(e.win&&"function"==typeof e.win.removeEventListener&&e.win.removeEventListener(s.WINDOW_EVENTS.unload,e.fn,!1),delete this._unloadFunctions[t])}}]),t}(),e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(n(0)),t=function(){function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.window=n||window,this._observer=null,this._cabinet=e,this.register()}return i(t,[{key:"_send",value:function(t,e){this.window.navigator.sendBeacon(t,JSON.stringify(e))}},{key:"send",value:function(t,e){if(t&&0<t.length){e=this._cabinet.pixelEventFactory.build("js_heavy_ads",null),(t=this._cabinet.pixelEventFactory.newBatch()).addEvent(e),e=t.getUrl({batch:"heavy_ads"});try{this._send(e,t.toJson())}catch(t){}}}},{key:"register",value:function(){var t=this;try{this._observer=new ReportingObserver((function(e,n){t.send(e,!1)}),{buffered:!0}),this._observer.observe(),this.window.addEventListener("pagehide",(function(e){e=t._observer.takeRecords(),t.send(e,!0)}))}catch(t){}}}]),t}(),e.default=t},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=r(n(58)),s=r(n(117)),u=r(n(287)),l=r(n(288)),_=r(n(290)),d=i(n(1)),c=i(n(0)),h=r(n(292)),p=r(n(293)),f=i(n=n(309));n=function(){function t(e,n,i,r,o,a,u){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._endpoint=e,this._pixelUrl=n,this._flashBridgeUrl=i,this._posterUrl=r,this._forceSecure=o,this._version=a,this._timeouts=u,this._historyManager=d.getHistoryManager(),this._locationInfo=new h.default(window,document),this._referrerDetection=f.getRefererInfo(),this._pixelEventFactory=new p.default(this._locationInfo,this._pixelUrl),this._pageProtocol=d.getPageProtocol(),this._timeoutManager=this._autoplayVideoElementManager=this._manifest=this._environmentVars=this._imaManager=null,this._wasReauctioned=!1,this._html5mimes=this._canPlayFlash=null,this._startTime=(0,s.default)(),this._sizeInfo=null}return o(t,[{key:"initialize",value:function(t){this._environmentVars=t;try{this._timeoutManager=new u.default(this._timeouts,s.default,this.startTime),this._timeoutManager.setManifest(this.manifest)}catch(t){throw Error(c.VD_ERROR_CODES.TIMEOUT_MANAGER_INIT_ERROR)}try{this._autoplayVideoElementManager=new l.default(this.uuid,t,this._timeouts)}catch(t){throw Error(c.VD_ERROR_CODES.VIDEO_ELEMENT_MANAGER_INIT_ERROR)}try{this._imaManager=new _.default(this.uuid,this.pageProtocol,this.autoplayVideoElementManager,t)}catch(t){throw Error(c.VD_ERROR_CODES.IMA_MANAGER_CREATE_ERROR)}}},{key:"getSizeInfo",value:function(t){return this._sizeInfo=d.getSizeInfo(this._manifest,t)}},{key:"isSizeMatch",value:function(t){return this.wasReauctioned||d.sizeMatch(this.manifest,t)}},{key:"replacePageProtocol",value:function(t){return d.promoteProtocol(t,this.pageProtocol)}},{key:"getPosterUrl",value:function(t,e){return d.getPoster(this._pageProtocol,this._posterUrl,d.getPosterFilename(t,e))}},{key:"supportedMimes",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.autoplayVideoElementManager.videoSlot||this.autoplayVideoElementManager.createNewVideoSlot(),this._html5mimes||(this._html5mimes=(0,a.default)(c.HTML5_MIMES,(function(e){return"application/javascript"===e||d.canPlayVideo(t.autoplayVideoElementManager.videoSlot,{mimetype:e,url:""})}))),e?this._html5mimes.concat(c.FLASH_MIMES):this._html5mimes}},{key:"prebidReferrerDetection",get:function(){return this._referrerDetection}},{key:"endpoint",get:function(){return this._endpoint}},{key:"pixelUrl",get:function(){return this._pixelUrl}},{key:"flashBridgeUrl",get:function(){return this._flashBridgeUrl}},{key:"posterUrl",get:function(){return this._posterUrl}},{key:"forceSecure",get:function(){return this._forceSecure}},{key:"version",get:function(){return this._version}},{key:"historyManager",get:function(){return this._historyManager}},{key:"pixelEventFactory",get:function(){return this._pixelEventFactory}},{key:"manifest",get:function(){return this._manifest},set:function(t){this._manifest=t,this._pixelEventFactory.manifest=t}},{key:"wasReauctioned",get:function(){return this._wasReauctioned},set:function(t){this._wasReauctioned=t}},{key:"startTime",get:function(){return this._startTime}},{key:"pageProtocol",get:function(){return this._pageProtocol}},{key:"imaManager",get:function(){return this._imaManager}},{key:"timeoutManager",get:function(){return this._timeoutManager}},{key:"autoplayVideoElementManager",get:function(){return this._autoplayVideoElementManager}},{key:"locationInfo",get:function(){return this._locationInfo}},{key:"timeouts",get:function(){return this._timeouts}},{key:"uuid",get:function(){return this.manifest?this.manifest.uuid:null}},{key:"shortUuid",get:function(){return this.uuid?d.getShortUuid(this.uuid):""}},{key:"isDomainMatch",get:function(){return this.wasReauctioned||d.domainMatch(this.manifest,this.locationInfo)}},{key:"sizeInfo",get:function(){return null===this._sizeInfo&&this.getSizeInfo(),this._sizeInfo}},{key:"canPlayFlash",get:function(){return!1}}]),t}(),e.default=n},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=null,n=0;n<t.length;n++){var i=t[n];(null===e||i.timeout<e.timeout)&&(e=i)}return e}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=i(n(19)),s=i(n(17)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),l=i(n=n(20));n=function(){function t(e,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:n();if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._timeouts=e,this._now=n,this._startInit=i,this._start=n(),this._manifest=this._supplyTagTimeout=null,this._responseStarts={},this._vpaidStarts={},this._tierFirstVpaidStartTime=this._tierStartTime=this._imaLoadStartTime=this._dtoTime=null,this._currentTier=-1,this._updateVastRequestStartTime=this._updateVpaidStartTime=!1,this._numVastResponsesUsed=0,this._tierFirstVastRequestStartTime=null}return o(t,[{key:"setManifest",value:function(t){for(this._manifest=t,this._supplyTagTimeout=this._manifest.timeout,this._manifest.dto&&(this._dtoTime=(0,a.default)(this._manifest.dto,(function(){return 0}))),t=0;t<this._manifest.numWaterfalls;t++)this._vpaidStarts[t]={}}},{key:"getDtoTime",value:function(t){return this._dtoTime[t]}},{key:"startTier",value:function(t){t!==this._currentTier&&(this._tierStartTime=this.timeOnPage,this._updateVastRequestStartTime=this._updateVpaidStartTime=!0,this._currentTier=t,this._numVastResponsesUsed=0)}},{key:"startTierFirstVastRequest",value:function(){this._updateVastRequestStartTime&&(this._tierFirstVastRequestStartTime=this.timeOnPage,this._updateVastRequestStartTime=!1)}},{key:"startTierFirstVpaid",value:function(){this._updateVpaidStartTime&&(this._tierFirstVpaidStartTime=this.timeOnPage,this._updateVpaidStartTime=!1)}},{key:"startBroadcast",value:function(t,e){if(0<t&&null!==this._dtoTime)for(var n=t-1,i=0;i<this._manifest.dx[n].length;i++)for(var r=this.getDemandTagResponseTime(n,i),o=this.getDemandTagDtoKeys(n,i),a=0;a<o.length;a++)this._dtoTime[o[a]]+=r;this.startTier(e),this._responseStarts[t]=this._now()}},{key:"startVpaid",value:function(t,e,n){this._updateVpaidStartTime&&this.startTierFirstVpaid(),n===this._currentTier&&(this._numVastResponsesUsed+=1),this._vpaidStarts[t][e]=this._now()}},{key:"getRequestTime",value:function(t){return this.getResponseStart(t)-this._start}},{key:"getResponseTime",value:function(t){return this._now()-this.getResponseStart(t)}},{key:"getDemandTagResponseTime",value:function(t,e){return this._now()-this.getVpaidStart(t,e)}},{key:"getTimeoutInfo",value:function(t,e){var n=[];return n.push(new l.default(this.supplyTagRemaining,u.VD_ERROR_CODES.SUPPLY_TAG_TIMEOUT,u.VAST_ERRORCODES.SS_VEC_1516_SUPPLY_TAG_TIMEOUT),new l.default(this._timeouts.MAX_BROADCAST_TIMEOUT-this.getResponseTime(t),u.VD_ERROR_CODES.MAX_BROADCAST_TIMEOUT,u.VAST_ERRORCODES.SS_VEC_1316_MAX_BROADCAST_TIMEOUT)),r(null!==e?n.concat(e):n)}},{key:"getDemandTagTimeoutInfo",value:function(t,e,n){var i=[new l.default(this.supplyTagRemaining,u.VD_ERROR_CODES.SUPPLY_TAG_TIMEOUT,u.VAST_ERRORCODES.SS_VEC_1516_SUPPLY_TAG_TIMEOUT)],o=null;if(null!==this._dtoTime&&(o=this.getDemandTagDtoKeys(t,e)),null!==this._dtoTime&&0!==o.length||i.push(new l.default(this._timeouts.DEFAULT_DEMAND_TAG_TIMEOUT-this.getDemandTagResponseTime(t,e),u.VD_ERROR_CODES.DEMAND_PARTNER_TIMEOUT,u.VAST_ERRORCODES.SS_VEC_1520_DEMAND_PARTNER_TIMEOUT)),null!==this._dtoTime)for(var a=0;a<o.length;a++){var s=o[a];i.push(new l.default(this._manifest.dto[s]-this._dtoTime[s]-this.getDemandTagResponseTime(t,e),u.VD_ERROR_CODES.DTO_TIMEOUT,u.VAST_ERRORCODES.SS_VEC_1517_DEMAND_TAG_TIMEOUT))}return r(null!==n?i.concat(n):i)}},{key:"getResponseStart",value:function(t){return this._responseStarts[t]}},{key:"getVpaidStart",value:function(t,e){return this._vpaidStarts[t][e]}},{key:"getDemandTags",value:function(t){return this._manifest.dx[t]}},{key:"getDemandTag",value:function(t,e){return this.getDemandTags(t)[e]}},{key:"getDtids",value:function(t,e){var n={};for(t=this.getDemandTag(t,e).callChain.callChainLinks,e=0;e<t.length;e++){var i=t[e].demandTagId;0!==i&&(n[i]=!0)}return n}},{key:"getDtoKeyList",value:function(t){var e,n=[];for(e in this._dtoTime)this._dtoTime.hasOwnProperty(e)&&t.hasOwnProperty(e)&&n.push(e);return n}},{key:"getDtoKeys",value:function(t){for(var e={},n=0;n<this._manifest.dx[t].length;n++)(0,s.default)(e,this.getDtids(t,n));return this.getDtoKeyList(e)}},{key:"getDemandTagDtoKeys",value:function(t,e){return this.getDtoKeyList(this.getDtids(t,e))}},{key:"startImaLoad",value:function(){this._imaLoadStartTime=this._now()}},{key:"getImaLoadingTime",value:function(){return this._now()-this._imaLoadStartTime}},{key:"start",get:function(){return this._start}},{key:"supplyTagTimeout",get:function(){return this._supplyTagTimeout}},{key:"supplyTagRemaining",get:function(){return this._supplyTagTimeout-this.timeOnPage}},{key:"timeOnPage",get:function(){return this._now()-this._start}},{key:"initTime",get:function(){return this._now()-this._startInit}},{key:"tierStartTime",get:function(){return this._tierStartTime}},{key:"tierFirstVastRequestStartTime",get:function(){return this._tierFirstVastRequestStartTime}},{key:"tierFirstVpaidStartTime",get:function(){return this._tierFirstVpaidStartTime}},{key:"numVastResponsesUsed",get:function(){return this._numVastResponsesUsed}}]),t}(),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(t=n(3))&&t.__esModule?t:{default:t};t=(t=n(289))&&t.__esModule?t:{default:t};var a=n(0),s=i(a);i(a=n(1));var u=i(n=n(116));n=function(t){function e(t,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r._timeouts=i,r._autoplayAllowed=s.DEFAULT_AUTOPLAY_ALLOWED,r._autoplayRequiresMuted=s.DEFAULT_REQUIRES_MUTED,r._timeoutId=0,r._listeners={},(0,o.default)(s.AUTOPLAY_CHECK_EVENTS,(function(t){r._listeners[t]=[]})),r._state=s.AUTOPLAY_CHECK_STATES.INIT,r._addedBlankMp4=!1,r._pollTimeout=s.NO_TIMER,r._pollCount=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"addBlankMp4",value:function(){u.addBlankMp4(this.videoSlot)}},{key:"removeBlankMp4",value:function(){u.removeBlankMp4(this.videoSlot)}},{key:"onSetAdVolume",value:function(t){this.state===s.AUTOPLAY_CHECK_STATES.CHECKING&&(this._volume=t)}},{key:"finishVastRequest",value:function(t){t||(this._pollTimeout!==s.NO_TIMER&&(clearTimeout(this._pollTimeout),this._pollTimeout=s.NO_TIMER),this._state=s.AUTOPLAY_CHECK_STATES.DEAD)}},{key:"_playPoll",value:function(){var t=u.isPlaying(this.videoSlot);this.state===s.AUTOPLAY_CHECK_STATES.DEAD?this._onAutoplayChecksResolved():t?this._pollCount<this._timeouts.MAX_POLL_COUNT?(this._pollCount++,this._pollTimeout=setTimeout(this._playPoll.bind(this),this._timeouts.AUTOPLAY_POLL_TIMEOUT)):this._onAutoplayChecksResolved():this._checkAutoPlay()}},{key:"_checkAutoPlay",value:function(){var t=this;if(this._state=s.AUTOPLAY_CHECK_STATES.CHECKING,this._volume=this.videoSlot.volume,this._muted=this.videoSlot.muted)this._autoplayAllowed=!0,this._autoplayRequiresMuted=s.DEFAULT_REQUIRES_MUTED,this._onAutoplayChecksResolved();else{this.videoSlot.src||(this._addedBlankMp4=!0,this.addBlankMp4()),this.videoSlot.volume=1,this.videoSlot.muted=!1,this._timeoutId=setTimeout((function(){t.videoSlot.pause(),t._autoplayAllowed=!0,t._autoplayRequiresMuted=s.DEFAULT_REQUIRES_MUTED,t._onAutoplayChecksResolved()}),this._timeouts.AUTOPLAY_CHECK_TIMEOUT);var e=this.videoSlot.play();e?e.then(this._onAutoplayWithSoundSuccess.bind(this)).catch(this._onAutoplayWithSoundFail.bind(this)):(this.videoSlot.pause(),this._autoplayAllowed=!0,this._autoplayRequiresMuted=s.DEFAULT_REQUIRES_MUTED,this._onAutoplayChecksResolved())}}},{key:"checkAutoplaySupport",value:function(){this._playPoll()}},{key:"_onAutoplayWithSoundSuccess",value:function(){this._state===s.AUTOPLAY_CHECK_STATES.CHECKING&&(this.videoSlot.pause(),this.videoSlot.volume=this._volume,this.videoSlot.muted=this._muted,this._autoplayAllowed=!0,this._autoplayRequiresMuted=!1,this._onAutoplayChecksResolved())}},{key:"_onAutoplayWithSoundFail",value:function(){this._state===s.AUTOPLAY_CHECK_STATES.CHECKING&&this._checkMutedAutoplaySupport()}},{key:"_checkMutedAutoplaySupport",value:function(){var t=this;if(this._state===s.AUTOPLAY_CHECK_STATES.CHECKING){0<this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout((function(){t.videoSlot.pause(),t._autoplayAllowed=!0,t._autoplayRequiresMuted=!0,t._onAutoplayChecksResolved()}),this._timeouts.AUTOPLAY_CHECK_TIMEOUT),this.videoSlot.volume=0,this.videoSlot.muted=!0;var e=this.videoSlot.play();e?e.then(this._onMutedAutoplaySuccess.bind(this)).catch(this._onMutedAutoplayFail.bind(this)):this._onNoMutedPlayPromise()}}},{key:"_onMutedAutoplaySuccess",value:function(){this._state===s.AUTOPLAY_CHECK_STATES.CHECKING&&(this.videoSlot.pause(),this._autoplayRequiresMuted=this._autoplayAllowed=!0,this._onAutoplayChecksResolved())}},{key:"_onMutedAutoplayFail",value:function(){this._state===s.AUTOPLAY_CHECK_STATES.CHECKING&&(this.videoSlot.volume=this._volume,this.videoSlot.muted=this._muted,this._autoplayRequiresMuted=this._autoplayAllowed=!1,this._onAutoplayChecksResolved())}},{key:"_onNoMutedPlayPromise",value:function(){this._state===s.AUTOPLAY_CHECK_STATES.CHECKING&&(this.videoSlot.pause(),this.videoSlot.volume=this._volume,this.videoSlot.muted=this._muted,this._autoplayRequiresMuted=this._autoplayAllowed=!0,this._onAutoplayChecksResolved())}},{key:"subscribeAutoplayChecksResolved",value:function(t,e,n){s.AUTOPLAY_CHECK_EVENTS.hasOwnProperty(e)&&this._listeners[e].push(t.bind(n))}},{key:"unsubscribeAutoplayChecksResolved",value:function(t){s.AUTOPLAY_CHECK_EVENTS.hasOwnProperty(t)&&(this._listeners[t]=[])}},{key:"_onAutoplayChecksResolved",value:function(){this._addedBlankMp4&&(this._addedBlankMp4=!1,this.removeBlankMp4()),0<this._timeoutId&&clearTimeout(this._timeoutId),this.state!==s.AUTOPLAY_CHECK_STATES.DEAD&&(this._state=s.AUTOPLAY_CHECK_STATES.RESOLVED),(0,o.default)(this._listeners[s.AUTOPLAY_CHECK_EVENTS.RESOLVED],(function(t){t.apply(t,[])}))}},{key:"autoplayAllowed",get:function(){return this._autoplayAllowed}},{key:"autoplayRequiresMuted",get:function(){return this._autoplayRequiresMuted}},{key:"state",get:function(){return this._state}},{key:"autoplayChecksResolved",get:function(){return this._state===s.AUTOPLAY_CHECK_STATES.RESOLVED}}]),e}(t.default),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=i(n(1)),a=i(n=n(0));n=function(){function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._uuid=e,this._environmentVars=n,this._newVideoSlot=null}return r(t,[{key:"maybeCreateAndAppendVideoSlot",value:function(){this.environmentVarsHasVideoSlot||(null===this.newVideoSlot&&this.createNewVideoSlot(),this.appendVideoSlot())}},{key:"createNewVideoSlot",value:function(){this._newVideoSlot=o.getDocumentAndWindow(this._environmentVars.slot).document.createElement("video"),this._newVideoSlot.style.width="100%",this._newVideoSlot.style.height="100%",this._newVideoSlot.setAttribute(a.PLAYSINLINE,a.PLAYSINLINE)}},{key:"appendVideoSlot",value:function(){this._environmentVars.videoSlot=this.newVideoSlot,this._environmentVars.slot.appendChild(this.newVideoSlot)}},{key:"uuid",get:function(){return this._uuid}},{key:"shortUuid",get:function(){return o.getShortUuid(this.uuid)}},{key:"environmentVarsHasVideoSlot",get:function(){return this._environmentVars.hasOwnProperty("videoSlot")&&null!==this._environmentVars.videoSlot}},{key:"newVideoSlot",get:function(){return this._newVideoSlot}},{key:"videoSlot",get:function(){return this.environmentVarsHasVideoSlot?this._environmentVars.videoSlot:this.newVideoSlot}}]),t}(),e.default=n},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(t=n(109))&&t.__esModule?t:{default:t},a=(t=n(291))&&t.__esModule?t:{default:t},s=i(t=n(0)),u=i(n=n(1));n=function(){function t(e,n,i,r){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._uuid=e,this._pageProtocol=n,this._autoplayVideoElementManager=i,this._environmentVars=r,this._state=s.IMA_MANAGER_STATES.INIT,this._adsLoader=this._adDisplayContainer=null,this._imaManagerEventListeners={},this._adDisplayContainerInitialized=this._contentComplete=!1}return r(t,[{key:"loadIma",value:function(t){var e=this;this._state!==s.IMA_MANAGER_STATES.DEAD&&(this._state=s.IMA_MANAGER_STATES.REQUEST_SCRIPT,(0,a.default)(this._pageProtocol+this.imaUrl,(function(){e._state!==s.IMA_MANAGER_STATES.DEAD&&(e._state=s.IMA_MANAGER_STATES.SCRIPT_LOADED,t())}),!0))}},{key:"setUpIMA",value:function(){var t=this;if(this._state!==s.IMA_MANAGER_STATES.DEAD){try{this._autoplayVideoElementManager.maybeCreateAndAppendVideoSlot()}catch(t){return this._state=s.IMA_MANAGER_STATES.LOAD_ERROR,void this.callImaManagerEvent(s.IMA_MANAGER_EVENT_TYPES.LOAD_ERROR)}this._adDisplayContainer=new google.ima.AdDisplayContainer(this._environmentVars.slot,this._environmentVars.videoSlot),this._adsLoader=new google.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this._autoplayVideoElementManager.autoplayChecksResolved?(this._state=s.IMA_MANAGER_STATES.LOADED,this.callImaManagerEvent(s.IMA_MANAGER_EVENT_TYPES.LOADED)):(this._autoplayVideoElementManager.subscribeAutoplayChecksResolved((function(){t._state!==s.IMA_MANAGER_STATES.DEAD&&(t._state=s.IMA_MANAGER_STATES.LOADED,t.callImaManagerEvent(s.IMA_MANAGER_EVENT_TYPES.LOADED)),t._autoplayVideoElementManager.unsubscribeAutoplayChecksResolved(s.AUTOPLAY_CHECK_EVENTS.RESOLVED)}),s.AUTOPLAY_CHECK_EVENTS.RESOLVED,this),this._autoplayVideoElementManager.state===s.AUTOPLAY_CHECK_STATES.INIT&&this._autoplayVideoElementManager.checkAutoplaySupport())}}},{key:"doContentComplete",value:function(){this._adsLoader&&!this._contentComplete&&(this._adsLoader.contentComplete(),this._contentComplete=!0)}},{key:"loadAndStartIma",value:function(){this.state!==s.IMA_MANAGER_STATES.DEAD&&this.loadIma(this.setUpIMA.bind(this))}},{key:"maybeInitializeAdDisplayContainer",value:function(){this._adDisplayContainerInitialized||(this._adDisplayContainer.initialize(),this._adDisplayContainerInitialized=!0)}},{key:"finishVastRequest",value:function(t){this._autoplayVideoElementManager.finishVastRequest(t),t||(this._state=s.IMA_MANAGER_STATES.DEAD)}},{key:"callImaManagerEvent",value:function(t){if(this._imaManagerEventListeners.hasOwnProperty(t)){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(e=0;e<this._imaManagerEventListeners[t].length;e++)this._imaManagerEventListeners[t][e].apply(this._imaManagerEventListeners[t][e],n)}}},{key:"subscribeImaManagerEvent",value:function(t,e,n){this._imaManagerEventListeners.hasOwnProperty(e)||(this._imaManagerEventListeners[e]=[]),this._imaManagerEventListeners[e].push(t.bind(n))}},{key:"unsubscribeImaManagerEvent",value:function(t,e){this._imaManagerEventListeners.hasOwnProperty(t)&&(0,o.default)(this._imaManagerEventListeners[t],(function(t){return t===e}))}},{key:"uuid",get:function(){return this._uuid}},{key:"shortUuid",get:function(){return u.getShortUuid(this.uuid)}},{key:"imaUrl",get:function(){return"//imasdk.googleapis.com/js/sdkloader/ima3.js"}},{key:"contentComplete",get:function(){return this._contentComplete},set:function(t){this._contentComplete=t}},{key:"adsLoader",get:function(){return this._adsLoader}},{key:"state",get:function(){return this._state}},{key:"adDisplayContainerInitialized",get:function(){return this._adDisplayContainerInitialized}}]),t}(),e.default=n},function(t,e,n){function i(t,e){var n=document.createElement("script");n.type="text/javascript",n.async=!0,e&&"function"==typeof e&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,e())}:n.onload=function(){e()}),n.src=t,(t=(t=document.getElementsByTagName("head")).length?t:document.getElementsByTagName("body")).length&&(t=t[0]).insertBefore(n,t.firstChild)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){t&&(n?r[t]?e&&"function"==typeof e&&(r[t].loaded?e():r[t].callbacks.push(e)):(r[t]={loaded:!1,callbacks:[]},e&&"function"==typeof e&&r[t].callbacks.push(e),i(t,(function(){r[t].loaded=!0;try{for(var e=0;e<r[t].callbacks.length;e++)r[t].callbacks[e]()}catch(t){}}))):i(t,e))};var r={}},function(t,e,n){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));t=function(){function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._win=e,this._doc=n,this._ampUrl=this._topAncestorOriginHostname=this._topAncestorOrigin=this._window__location__ancestorOrigins__hostnames=this._window__location__ancestorOrigins=this._document__referrer__hostname=this._document__referrer=this._window__top__location__origin=this._window__location__origin=this._window__top__location__hostname=this._window__location__hostname=this._window__top__location__href=this._window__location__href=null,this._parents=[],this._parent_location_href=[],this._top_parent_location_href=null,this._parent_hostnames=[],this._domain_match_source=this._domain_match=this._url=this._top_parent_hostname=null,this._top_idx_domain=this._iframeHeight=-1,this._getVars(),this._url=this._getUrl(),e=this._getDomainMatchSource(),this._domain_match=e.domain_match,this._domain_match_source=e.domain_match_source}return r(t,[{key:"_getAmpUrl",value:function(e){var n=(e=e.replace(".cdn.ampproject.org","")).lastIndexOf("-");return 0<=n?(e=e.substring(0,n)+"."+e.substring(n+1),t.getHostname(e)):null}},{key:"_getVars",value:function(){try{this._window__location__href=this._win.location.href}catch(t){}try{this._window__top__location__href=this._win.top.location.href}catch(t){}try{this._window__location__hostname=this._win.location.hostname}catch(t){}try{this._window__top__location__hostname=this._win.top.location.hostname}catch(t){}try{this._window__location__origin=this._win.location.origin}catch(t){}try{this._window__top__location__origin=this._win.top.location.origin}catch(t){}try{this._document__referrer=this._doc.referrer,this._document__referrer__hostname=t.getHostname(this._document__referrer)}catch(t){}try{this._window__location__ancestorOrigins=[],this._window__location__ancestorOrigins__hostnames=[];for(var e=0;e<this._win.location.ancestorOrigins.length;e++){var n=this._win.location.ancestorOrigins[e];this._window__location__ancestorOrigins.push(n);var r=t.getHostname(n);this._window__location__ancestorOrigins__hostnames.push(r),n.endsWith(".cdn.ampproject.org")&&(this._ampUrl=this._getAmpUrl(n))}}catch(t){}null!==this._window__location__ancestorOrigins&&0<this._window__location__ancestorOrigins.length&&(this._topAncestorOrigin=this._window__location__ancestorOrigins[this._window__location__ancestorOrigins.length-1]),null!==this._window__location__ancestorOrigins__hostnames&&0<this._window__location__ancestorOrigins__hostnames.length&&(this._topAncestorOriginHostname=this._window__location__ancestorOrigins__hostnames[this._window__location__ancestorOrigins__hostnames.length-1]);try{var a=this._win;this._iframeHeight=0;do{try{this._parents.push(i({},o.PARENT_WIN,a))}catch(t){this._parents.push({error:t})}try{this._parent_location_href.push({url:a.location.href}),this._top_parent_location_href=a.location.href}catch(t){this._parent_location_href.push({error:t})}try{this._parent_hostnames.push({url:a.location.hostname}),this._top_parent_hostname=a.location.hostname,this._top_idx_domain=this._iframeHeight+1}catch(t){this._parent_hostnames.push({error:t})}a=a.parent,this._iframeHeight++}while(a!==this._win.top&&a!==a.parent&&50>this._iframeHeight)}catch(t){}}},{key:"_getDomainMatchSource",value:function(){if(null!==this._topAncestorOriginHostname&&""!==this._topAncestorOriginHostname)return{domain_match:this._topAncestorOriginHostname,domain_match_source:o.DOMAIN_MATCH_SOURCES.WINDOW_LOCATION_ANCESTORORIGINS};if(null!==this._window__top__location__hostname&&""!==this._window__top__location__hostname)return{domain_match:this._window__top__location__hostname,domain_match_source:o.DOMAIN_MATCH_SOURCES.WINDOW_TOP_LOCATION};if(!(1>=this._iframeHeight)){if(!(2===this._iframeHeight||2>=this._top_idx_domain)&&null!==this._top_parent_hostname&&""!==this._top_parent_hostname)return{domain_match:this._top_parent_hostname,domain_match_source:o.DOMAIN_MATCH_SOURCES.TOP_PARENT+this._top_idx_domain};if(null!==this._document__referrer__hostname&&""!==this._document__referrer__hostname)return{domain_match:this._document__referrer__hostname,domain_match_source:o.DOMAIN_MATCH_SOURCES.DOCUMENT_REFERRER}}return null!==this._window__location__hostname&&""!==this._window__location__hostname?{domain_match:this._window__location__hostname,domain_match_source:o.DOMAIN_MATCH_SOURCES.WINDOW_LOCATION}:{domain_match:null,domain_match_source:null}}},{key:"_getUrl",value:function(){if(null!==this._window__top__location__href&&""!==this._window__top__location__href)return this._window__top__location__href;if(!(1>=this._iframeHeight)){if(!(2===this._iframeHeight||2>=this._top_idx_domain)&&null!==this._top_parent_location_href&&""!==this._top_parent_location_href)return this._top_parent_location_href;if(null!==this._document__referrer&&""!==this._document__referrer)return this._document__referrer}return null!==this._window__location__href&&""!==this._window__location__href?this._window__location__href:null!==this._topAncestorOrigin&&""!==this._topAncestorOrigin?this._topAncestorOrigin:null}},{key:"url",get:function(){return this._url}},{key:"domain_match",get:function(){return null!=this._ampUrl?this._ampUrl:this.url&&this.url.startsWith("https://www.google.com/amp/s/")?t.getHostname(this.url.replace("https://www.google.com/amp/s/","")):this._domain_match}},{key:"domain_match_source",get:function(){return this._domain_match_source}},{key:"parents",get:function(){return this._parents}}],[{key:"getHostname",value:function(t){try{return new URL(t).hostname}catch(n){try{var e=/(?:https?:\/\/)?(?:w+:\/)?[^:?#/s]*?([^.s]+.(?:[a-z]{2,}|co.uk|org.uk|ac.uk|org.au|com.au))(?:[:?#/]|$)/gi.exec(t);return e?e[1]:null}catch(t){return null}}}}]),t}(),e.default=t},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=(t=n(294))&&t.__esModule?t:{default:t},a=(n=n(308))&&n.__esModule?n:{default:n};n=function(){function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._locationInfo=e,this._pixelUrl=n,this._initParams=this._manifest=null}return i(t,[{key:"setInitParams",value:function(t){this._initParams=t}},{key:"build",value:function(t){return new a.default(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,4<arguments.length&&void 0!==arguments[4]?arguments[4]:null).build()}},{key:"newBatch",value:function(){return new o.default(this._pixelUrl,this._manifest,this._locationInfo,this._initParams).build()}},{key:"shortUuid",get:function(){return this._manifest&&this._manifest.uuid?r.getShortUuid(this._manifest.uuid):""}},{key:"manifest",get:function(){return this._manifest},set:function(t){this._manifest=t}}]),t}(),e.default=n},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=r(n(0)),u=i(n(117)),l=i(n(295)),_=i(n(63)),d=i(n(5)),c=i(n(12)),h=i(n(298)),p=i(n(301)),f=i(n(306)),A=r(n(1)),E=r(n(16));n=n(119);var R=["iad","iad","dub","sin","cle"],O="iad dub sin cle staging special1 special2 special3 special4 special5 special6".split(" ");n=function(t){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var o=(e.__proto__||Object.getPrototypeOf(e)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(o=!o||"object"!=typeof o&&"function"!=typeof o?this:o)._pixelUrl=t,o._manifest=n,o._locationInfo=i,o._initParams=r,o._batches=[],o._contains_imp=!1,o._regionStr=o._manifest&&o._manifest._ssreg?o._manifest._ssreg:null,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"build",value:function(){this.pushParam(s.VID_IO_PARAMS.timestamp,(0,u.default)());try{this._manifest&&(this._addPassthroughs(),this._addManifestParams()),this._locationInfo&&this._addLocationInfoParams(),this._initParams&&this._addInitParams(),this._addViewability()}catch(t){this.pushParam(s.VID_IO_PARAMS.reason,t.message)}return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"build",this).call(this)}},{key:"_addViewability",value:function(){var t=E.detector();t&&this.pushParam(s.VID_IO_PARAMS.inView,t.isInView)}},{key:"_addPassthroughs",value:function(){if(this._manifest.passthru)for(var t in this._manifest.passthru)this._manifest.passthru.hasOwnProperty(t)&&this.pushParam(t,this._manifest.passthru[t])}},{key:"_addManifestParams",value:function(){this.pushParam(s.VID_IO_PARAMS.d,this._manifest.domain),this.pushParam(s.VID_IO_PARAMS.w,this._manifest.width),this.pushParam(s.VID_IO_PARAMS.h,this._manifest.height),this.pushParam(s.VID_IO_PARAMS.cc,this._manifest.country),this.pushParam(s.VID_IO_PARAMS.uuid,this._manifest.uuid),this.pushParam(s.VID_IO_PARAMS.dtnum,this._manifest.numWaterfalls),this.pushParam(s.VID_IO_PARAMS.ss_region,this._regionStr),0<this._manifest.ol&&this.pushParam(s.VID_IO_PARAMS.ol,this._manifest.ol),0<this._manifest.ov&&this.pushParam(s.VID_IO_PARAMS.ov,this._manifest.ov),this.pushParam(s.VID_IO_PARAMS.parentSupplyTagId,this._manifest.supplyTagId),this.pushParam(s.VID_IO_PARAMS.auctionCallChain,s.CALL_CHAIN_IDENTIFIERS.SUPPLY+"."+this._manifest.supplyTagId)}},{key:"_addInitParams",value:function(){var t={width:this._initParams.width,height:this._initParams.height,source:s.DETECTED_SIZE_MATCH_SOURCE.vpaid};if(this._manifest)try{t=this._getSizeInfo()}catch(t){}this.pushParam(s.VID_IO_PARAMS.detected_size_width,(0,f.default)(t.width)),this.pushParam(s.VID_IO_PARAMS.detected_size_height,(0,f.default)(t.height)),this.pushParam(s.VID_IO_PARAMS.detected_size_match_source,t.source)}},{key:"_getSizeInfo",value:function(){return A.getSizeInfo(this._manifest,this._initParams)}},{key:"_addLocationInfoParams",value:function(){this.pushParam(s.VID_IO_PARAMS.domain_match,this._locationInfo.domain_match),this.pushParam(s.VID_IO_PARAMS.domain_match_source,this._locationInfo.domain_match_source)}},{key:"toJson",value:function(){var t=(0,c.default)(this._batches,(function(t){return t.toJson()}));return(0,d.default)({},o({},s.VID_IO_PARAMS.batches,t),this._params)}},{key:"addEvent",value:function(t){this._batches.push(t),t.eventType===s.VID_IO_EVENTS.js_impression&&(this._contains_imp=!0)}},{key:"batchSize",value:function(){return this._batches.length}},{key:"toUrlParams",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.MAX_URL_LENGTH;return(0,c.default)(this._batches,(function(n){var i=0;return n=(0,d.default)({},n.toJson(),t._params),(0,l.default)(n,(function(t,n){return(i+=n.length+encodeURIComponent(t).length+1)<=e}))}))}},{key:"toImageUrls",value:function(){var t=this,e=s.MAX_URL_LENGTH-this.getUrl({},!0).length;return e=this.toUrlParams(e),(0,c.default)(e,(function(e){return t.getUrl((0,d.default)(e,{cb:A.getCb()}),!0)}))}},{key:"fallbackRegion",value:function(t){return(0,h.default)((0,p.default)(R,t))}},{key:"isValidRegion",value:function(t){return-1<(0,_.default)(O,t)}},{key:"regionFallBackUrl",value:function(){return this._pixelUrl.replace("{{REGION}}","-"+this.fallbackRegion(this._regionStr))}},{key:"regionizeUrl",value:function(t){return t?this.regionFallBackUrl():this._regionStr?this.isValidRegion(this._regionStr)?this._pixelUrl.replace("{{REGION}}","-"+this._regionStr):this.regionFallBackUrl():this._pixelUrl.replace("{{REGION}}","")}},{key:"getUrl",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=A.SECURE_PROTOCOL,i=this.regionizeUrl(1<arguments.length&&void 0!==arguments[1]&&arguments[1]);return A.makeUrl(n,i,(0,d.default)((o(t={},s.VID_IO_PARAMS.short_uuid,this.shortUuid),o(t,s.VID_IO_PARAMS.parentSupplyTagId,this.supplyTagId),t),e))}},{key:"shortUuid",get:function(){return this._manifest&&this._manifest.uuid?A.getShortUuid(this._manifest.uuid):""}},{key:"supplyTagId",get:function(){return this._manifest?this._manifest.supplyTagId:-1}},{key:"containsImp",get:function(){return this._contains_imp}}]),e}(i(n).default),e.default=n},function(t,e,n){var i=n(24),r=n(13),o=n(105),a=n(296);t.exports=function(t,e){if(null==t)return{};var n=i(a(t),(function(t){return[t]}));return e=r(e),o(t,n,(function(t,n){return e(t,n[0])}))}},function(t,e,n){var i=n(80),r=n(297),o=n(30);t.exports=function(t){return i(t,o,r)}},function(t,e,n){var i=n(50),r=n(93),o=n(81);e=n(83),t.exports=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,o(t)),t=r(t);return e}:e},function(t,e,n){var i=n(118),r=n(300),o=n(4);t.exports=function(t){return(o(t)?i:r)(t)}},function(t,e){var n=Math.floor,i=Math.random;t.exports=function(t,e){return t+n(i()*(e-t+1))}},function(t,e,n){var i=n(118),r=n(96);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(302);e=n(42);var r=n(305);n=e((function(t,e){return r(t)?i(t,e):[]})),t.exports=n},function(t,e,n){var i=n(78),r=n(303),o=n(304),a=n(24),s=n(73),u=n(79);t.exports=function(t,e,n,l){var _=-1,d=r,c=!0,h=t.length,p=[],f=e.length;if(!h)return p;n&&(e=a(e,s(n))),l?(d=o,c=!1):200<=e.length&&(d=u,c=!1,e=new i(e));t:for(;++_<h;){var A=t[_],E=null==n?A:n(A);if(A=l||0!==A?A:0,c&&E==E){for(var R=f;R--;)if(e[R]===E)continue t;p.push(A)}else d(e,E,l)||p.push(A)}return p}},function(t,e,n){var i=n(54);t.exports=function(t,e){return!(null==t||!t.length)&&-1<i(t,e,0)}},function(t,e){t.exports=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}},function(t,e,n){var i=n(10),r=n(7);t.exports=function(t){return r(t)&&i(t)}},function(t,e,n){e=n(307)("round"),t.exports=e},function(t,e,n){e=n(6);var i=n(28),r=n(37),o=n(89),a=e.isFinite,s=Math.min;t.exports=function(t){var e=Math[t];return function(t,n){return t=r(t),(n=null==n?0:s(i(n),292))&&a(t)?(t=(o(t)+"e").split("e"),t=e(t[0]+"e"+(+t[1]+n)),+((t=(o(t)+"e").split("e"))[0]+"e"+(+t[1]-n))):e(t)}}},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=(t=n(3))&&t.__esModule?t:{default:t},a=i(t=n(0)),s=i(t=n(1));n=function(t){function e(t,n,i,r,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=(e.__proto__||Object.getPrototypeOf(e)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return(a=!a||"object"!=typeof a&&"function"!=typeof a?this:a)._demandTag=n,a._supplyTagId=r,a._supplyTagIds=o,a._options=i,a._eventType=t,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"build",value:function(){return this._eventType&&this.pushParam(a.VID_IO_PARAMS.event,this._eventType),this._addCallChain(),this._addOptions(),this._addOtherThings(),this._addPassthru(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);return void 0!==r?"value"in r?r.value:void 0===(n=r.get)?void 0:n.call(i):null!==(e=Object.getPrototypeOf(e))?t(e,n,i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"build",this).call(this)}},{key:"_addOtherThings",value:function(){this._demandTag&&this._demandTag.hasOwnProperty("ol")&&0<this._demandTag.ol&&this.pushParam(a.VID_IO_PARAMS.ol,this._demandTag.ol)}},{key:"_addPassthru",value:function(){try{if(this._demandTag&&this._demandTag.hasOwnProperty("passthru"))for(var t in this._demandTag.passthru)this._demandTag.passthru.hasOwnProperty(t)&&this.pushParam(t,this._demandTag.passthru[t])}catch(t){}}},{key:"_addCallChain",value:function(){try{this._demandTag?(this.pushParam(a.VID_IO_PARAMS.auctionCallChain,this._demandTag.a_cc),this.pushParam(a.VID_IO_PARAMS.dtidx,this._demandTag.waterfallIdx+1)):this._supplyTagIds?this.pushParam(a.VID_IO_PARAMS.auctionCallChain,this._supplyTagIds):this._supplyTagId&&this.pushParam(a.VID_IO_PARAMS.auctionCallChain,a.CALL_CHAIN_IDENTIFIERS.SUPPLY+"."+this._supplyTagId)}catch(t){}}},{key:"_addOptions",value:function(){var t=this;try{this._options&&(0,o.default)(this._options,(function(e,n){var i=e;"reason"===n&&(i=s.getReason(e)),t.pushParam(n,i)}))}catch(t){}}},{key:"toJson",value:function(){return this._params}},{key:"eventType",get:function(){return this._eventType}}]),e}(((n=n(119))&&n.__esModule?n:{default:n}).default),e.default=n},function(t,e,n){function i(t){return function(){var e=[];t:{try{if(!t.location.ancestorOrigins){var n=void 0;break t}n=t.location.ancestorOrigins;break t}catch(t){}n=void 0}var i=void 0,r=void 0,o=void 0,a=!1,s=0,u=!1,l=!1;do{var _=i,d=l,c=void 0,h=!1,p=null;l=!1,i=i?i.parent:t;try{c=i.location.href||null}catch(t){h=!0}if(h)if(d){_=_.context;try{r=p=_.sourceUrl,u=!0,i===t.top&&(a=!0),_.canonicalUrl&&(o=_.canonicalUrl)}catch(t){}}else{try{var f=_.document.referrer;f&&(p=f,i===t.top&&(a=!0))}catch(t){}!p&&n&&n[s-1]&&(p=n[s-1]),p&&!u&&(r=p)}else{if(c&&(r=p=c,u=!1,i===t.top)){a=!0;t:{try{var A=i.document.querySelector("link[rel='canonical']");if(null!==A){var E=A.href;break t}}catch(t){}E=null}E&&(o=E)}i.context&&i.context.sourceUrl&&(l=!0)}e.push(p),s++}while(i!==t.top);return e.reverse(),{referer:r||null,reachedTop:a,isAmp:u,numIframes:s-1,stack:e,canonicalUrl:o||null}}}Object.defineProperty(e,"__esModule",{value:!0}),e.detectReferer=i,t={},"undefined"!=typeof window&&(t=window),e.getRefererInfo=i(t)},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.constructForensiqJsPixel=function(t,e,n,i){var u=a.addsAppNameBundleToParams(e.manifest),l=u.appBundle;u=u.appName,t={org:"aNXEbtGdhFkK5O3LJlhE",p:t.callChain.callChainLinks[0].supplyTagId,rt:"display",fmt:"video",s1:1,s:o.getCb(),cmp:t.callChain.callChainLinks[0].demandTagId,rd:e.manifest.domain,app:l,c1:e.manifest.aid,adw:n.width,adh:n.height,c2:i,c3:e.locationInfo.domain_match,c4:u},e.manifest.hasOwnProperty("passthru")&&e.manifest.passthru&&e.manifest.passthru.hasOwnProperty("did")&&(t.gid=e.manifest.passthru.did,t.aid=e.manifest.passthru.did);var _=[];return(0,r.default)(t,(function(t,e){_.push(e+"="+encodeURIComponent(t))})),s+_.join("&")};var r=(t=n(3))&&t.__esModule?t:{default:t},o=i(t=n(1)),a=i(n=n(41)),s="https://new.fqtag.com/implement.js?"},function(t,e,n){function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.constructProtectedMediaJsPixel=function(t,e,n,i){n=s;var l=u.desktop;e.manifest.hasOwnProperty("env")&&u.hasOwnProperty(e.manifest.env)&&(l=u[e.manifest.env]),n=n.replace("ENV",l);var _=o.addsAppNameBundleToParams(e.manifest),d=_.appBundle;t={l1:t.callChain.callChainLinks[0].supplyTagId,l2:t.callChain.callChainLinks[0].demandTagId,l3:e.manifest.aid,l4:d||e.locationInfo.domain_match,l5:_.appName,l6:i,utid:e.uuid,ref:e.locationInfo.document__referrer,pub_app:d,pub_domain:e.locationInfo.domain_match,cb:r.getCb()},e.manifest.hasOwnProperty("passthru")&&e.manifest.passthru&&e.manifest.passthru.hasOwnProperty("did")&&(t.uid=e.manifest.passthru.did),l!==u.in_app&&(t.l7=e.manifest.domain);var c=[];return(0,a.default)(t,(function(t,e){c.push(e+"="+encodeURIComponent(t))})),n+c.join("&")};var r=i(n(1)),o=i(n(41)),a=(n=n(3))&&n.__esModule?n:{default:n},s="https://js.ad-score.com/score.min.js?pid=1000426&tt=if#tid=SpringServe_JS_ENV&",u={desktop:"DT",in_app:"IA",mobile_web:"MW"}}]);