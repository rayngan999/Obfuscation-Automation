!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define("@ali/gmod-pop-drogue",["React"],t):"object"==typeof exports?exports["@ali/gmod-pop-drogue"]=t(require("React")):e["@ali/gmod-pop-drogue"]=t(e.React)}(this,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(t,n){t.exports=e},function(e,t,n){"use strict";var o=n(0);t.__esModule=!0,t.default=void 0;var r=o(n(3)),i=o(n(4)),a="postMessage"in window;function l(e,t,n){var o="";if(arguments.length<2?o="target error - target and name are both required":"object"!=typeof e?o="target error - target itself must be window object":"string"!=typeof t&&(o="target error - target name must be string type"),o)throw new Error(o);this.target=e,this.name=t,this.prefix=n}function u(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}l.prototype.send=a?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},u.prototype.addTarget=function(e,t){var n=new l(e,t,this.prefix);this.targets[t]=n},u.prototype.initListen=function(){var e=this,t=function(t){if("object"==typeof t&&t.data&&t.data.indexOf&&t.data.indexOf("__Messenger__")>=0)for(var n=(t=t.data).split("__Messenger__"),o=(t=n[1],n[0].split("|")),r=o[0],i=o[1],a=0;a<e.listenFunc.length;a++)r+i===e.prefix+e.name&&e.listenFunc[a](t)};a?"addEventListener"in document?window.addEventListener("message",t,!1):"attachEvent"in document&&window.attachEvent("onmessage",t):window.navigator[this.prefix+this.name]=t},u.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,o=!1;t<n;t++)if(this.listenFunc[t]==e){o=!0;break}o||this.listenFunc.push(e)},u.prototype.clear=function(){this.listenFunc=[]},u.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)};var p=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),s=p.substr(p.indexOf("?")),d={};s&&s.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,t,n,o){return d[t]=decodeURIComponent(o),""}));var c,f=null;function g(e){f.send(JSON.stringify(e))}function h(e,t){void 0===e&&(e={});var n=e.__poplayer_preserve_uuid||d.__poplayer_preserve_uuid;n&&((f=new u(n,void 0)).addTarget(window.top,(e.__poplayer_preserve_uuid||d.__poplayer_preserve_uuid)+"parent"),function(e){window.addEventListener("load",(function(){g({type:"load",extend:null!=e?e:{}})}))}(t)),c={show:function(e){g({type:"show",extend:null!=e?e:{}})},link:function(e,t){g({type:"link",payload:e,extend:null!=t?t:{}})},close:function(e){g({type:"close",extend:null!=e?e:{}})},addTime:function(e,t){void 0===e&&(e=1),g({type:"addTime",payload:e,extend:null!=t?t:{}})},resizeTo:function(e,t){g({type:"resizeWidthPosition",payload:{width:e.width,height:e.height,left:e.left,right:e.right,top:e.top,bottom:e.bottom},extend:null!=t?t:{}})},init:h,callApp:function(e,t){var n=e.callAppUrl,o=e.targetUrl,a=e.pageCode,l=e.needRedirect,u=e.isAutoCall,p=e.spm,s=e.pageId,d=(0,i.default)(e,["callAppUrl","targetUrl","pageCode","needRedirect","isAutoCall","spm","pageId"]);g({type:"callApp",payload:(0,r.default)({callAppUrl:n,targetUrl:o,pageCode:a,needRedirect:l,isAutoCall:u,spm:p,pageId:s},d),extend:null!=t?t:{}})}}}h();var m=c;t.default=m},function(e,t,n){"use strict";function o(){return e.exports=o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,o.apply(this,arguments)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";e.exports=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function o(e){var t=Object.keys(e.params).map((function(t){return t+"="+e.params[t]})).join("&");window.goldlog&&window.goldlog.record(e.path,e.event,"st_page_id=".concat(window.dmtrack_pageid,"&").concat(t),"POST")}function r(e){try{window.goldlog?e():(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["goldlogReady",function(){e()}]})}catch(e){}}t.__esModule=!0,t.getPageId=function(){return new Promise((function(e){r((function(){e()}))})).then((function(){return window.dmtrack_pageid}))},t.click=function(e){r((function(){o({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}))},t.exposure=function(e){r((function(){o({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}))}},,,,function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";var o=n(0);t.__esModule=!0,t.default=void 0;var r=n(1),i=o(n(2)),a=n(5),l=o(n(11)).default,u=function(e){var t=e.uuid,n=e.parentSpmB,o=void 0===n?"0":n,u=e.popInfo,p=void 0===u?{}:u,s=(0,r.useState)(null),d=s[0],c=s[1];(0,r.useEffect)((function(){i.default.init({__poplayer_preserve_uuid:t});var e=(null==p?void 0:p.params)||{};Object.keys(e).length?(c(e),i.default.show(),i.default.addTime()):(0,a.exposure)({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:"a2g0o."+o+".poplayer.notexpose",popType:"smallImage",houyiTrack:null==e?void 0:e.track,exp_page:location.href,notexposeType:"nodata",exp_type:"poplayer",clientType:"pc"})}),[]);var f=(0,r.useCallback)((function(){i.default.close(),i.default.addTime(-1)}),[]),g=(0,r.useCallback)((function(e){e&&(i.default.link(e),i.default.close())}),[]);return d?(0,r.createElement)("div",{className:"drogue-poplayer-modal",style:l["drogue-poplayer-modal"]},(0,r.createElement)("img",{className:"close-btn",onClick:f,src:"https://img.alicdn.com/tfs/TB1tH8.d3gP7K4jSZFqXXamhVXa-52-52.png",style:l["close-btn"]}),(0,r.createElement)("img",{className:"pop-picture",onClick:function(){g(d.linkUrl)},src:d.imgUrl,style:l["pop-picture"]})):null};t.default=u},function(e,t){e.exports={"drogue-poplayer-modal":{width:120,height:152,position:"fixed",bottom:"20%",left:"4%",zIndex:1e4,display:"flex",flexDirection:"column",alignItems:"flex-end"},"close-btn":{width:"26px",height:"26px",marginBottom:"4px"},"pop-picture":{display:"block",width:"120px",height:"120px",borderWidth:"none",borderColor:null,overflow:"hidden",outline:"none !important",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}}}]).default}));