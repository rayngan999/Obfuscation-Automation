jQuery("html").hasClass("no-js")&&jQuery("html").removeClass("no-js").addClass("js");var App=function(n,a){return n.options=a.extend({},n.options,{classNames:{active:"active"},cycle:{activePagerClass:"active",containerResize:0,fx:"fade",pagerAnchorBuilder:function(t){return'<li class="image-replace"><a href="#'+t+'">'+t+"</a></li>"},pause:1,speed:600,timeout:8e3},spin:{className:"spinner",lines:12,length:5,opacity:.5,width:3,radius:7,color:"#4b4b4b",speed:1,trail:50,shadow:!1},simpleModal:{autoResize:!0,maxHeight:"90%",maxWidth:"90%",onClose:function(t){n.helpers.animModalOut(t)},onOpen:function(t){n.helpers.animModalIn(t)},overlayClose:!0,persist:!0}}),n.helpers=a.extend({},n.helpers,{mobileQuery:"screen and (max-width : 767px)",tabletQuery:"only screen and (min-device-width : 768px) and (max-device-width : 1024px) and (orientation : portrait), only screen and (min-device-width : 768px) and (max-device-width : 1024px) and (orientation : landscape)",desktopQuery:"screen and (min-width : 768px) and (min-device-aspect-ratio : 1/1)",mobileAndTabletQuery:"screen and (max-width : 1000px)",tabletAndDesktopQuery:"screen and (min-width : 768px)",tempDesktopQuery:"screen and (min-width : 1001px)",tempTabletQuery:"screen and (min-width : 768px) and (max-width : 999px)",scrollToElem:function(t,e,n,i){e=e||0,n=n||1e3;var o=null!==a(t).offset()?a(t).offset().top+e:0;a("html, body").animate({scrollTop:o},{duration:n,queue:!1,complete:function(){"body"===this.tagName.toLowerCase()&&a.isFunction(i)&&i.apply(this)}})},switchTab:function(t){var e=t.prev();e.parent().find("dt").removeClass("active preactive postactive"),e.addClass("active"),e.prev().prev().addClass("preactive"),e.next().next().addClass("postactive"),t.siblings("dd").hide(),t.show()},checkImagesLoaded:function(t,e){0===t.length&&e.call();function n(){++r>=t.length&&e.call()}function i(){++r>=t.length&&e.call(),window.console&&window.console.log&&console.log("image path failed")}for(var o=t.slice(0),a=[],r=0,c=o.length-1;0<=c;c--)a[c]=new Image,a[c].onload=n,a[c].onerror=i,a[c].src=o[c]},openChatWindow:function(){$zopim(function(){$zopim.livechat.window.show()})},animModalIn:function(t){(t=t||a.modal.impl.d).overlay.fadeIn("fast",function(){t.data.show(),t.container.fadeIn("fast"),a.modal.setContainerDimensions(),a.modal.setPosition()})},animModalOut:function(t){t.container.fadeOut("fast",function(){a.modal.close()})},diffDays:function(t,e){var n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((i-n)/864e5)},positionCaret:function(t,e){(e=e||0,t.createTextRange)?t.createTextRange().move("character",e):t.setSelectionRange&&t.setSelectionRange(e,e)},modalYTVideo:function(t){var e=a.extend(n.options.simpleModal,{containerId:a(t).data("modalid")});a.modal('<iframe width="640" height="360" src="//www.youtube.com/embed/'+t.href.split("/").pop()+'?autoplay=1&amp;rel=0&amp;showinfo=0" frameborder="0" allowfullscreen>',e)}}),n}("object"==typeof App?App:{},jQuery),tooltips=function(a){function t(t,e){var n=(e=e||!1)?".tooltip:not(#features .tooltip)":".tooltip",i=e?"click.mobileTooltip":"click.desktopTooltip";e&&a("#features").on("click.mobFeatures",".tooltip",function(){a(this).parent().siblings().removeClass("active").end().toggleClass("active")}),t.on(i,n,function(t){t.preventDefault();var e=a(this),n=e.find(".tooltip-content").length?e.find(".tooltip-content"):a("<div>").append(e.attr("title")),i=void 0!==e.data("modalid")?e.data("modalid"):"simplemodal-container",o=a.extend(App.options.simpleModal,{containerId:i});n.modal(o)})}return{init:function(){enquire.register(App.helpers.mobileQuery,{match:function(){t(a(document.body),!0)},unmatch:function(){a("#features").off("click.mobFeatures"),a(document.body).off("click.mobileTooltip")}}).register(App.helpers.tabletAndDesktopQuery,{match:function(){t(a(document.body))},unmatch:function(){a(document.body).off("click.desktopTooltip"),a("#simplemodal-data").removeAttr("style")}}).listen()}}}(jQuery),namescoTabs=function(e){return{init:function(){e("#wrap").on("click.tabs",".tabs > dt, .tabbed-nav > dt",function(t){t.preventDefault(),App.helpers.switchTab(e(this).next("dd"))})}}}(jQuery),vatToggle=function(e){var n;return{init:function(t){n=!1,e(t).find("a.switch").on("click",function(t){t.preventDefault(),n||(n=!0,async.call({url:this.href,success:function(){window.location.reload()},error:function(){e.modal("<div>We apologise but something appears to have gone wrong.</div>")}}))})}}}(jQuery),externalScriptManager=function(i,t){"use strict";var o,n=["names","register365","lcn"],e="cookiePrefs",r=14,a=t&&void 0!==t.parentDomain?t.parentDomain:window.location.hostname.split(".").reduce(function(t,e){return""===t?n.includes(e)?e:t:t+"."+e},""),c="//www."+a.replace(/^\./,""),s={updated:!1,categories:{analytics:!1,ads:!0}},l=null,u=-1<window.location.href.search(/\/embed\//);function d(t){if(void 0!==t.target.value){var e=t.target.value.split("-"),n=e[0],i=e[1];if("manage"===i)return h(l.querySelector(".step1"),"hidden"),void m(l.querySelector(".step2"),"hidden");"accept"===i&&function(t,e){o.categories[t]=e}(n,!0),l.remove(),m(document.querySelector("body"),"cookie"),p(),o.updated=!0,f(o)}}function p(){var t={},e={analytics:"analytics_storage",ads:"ad_storage"};for(var n in o.categories){if(o.categories[n]===s.categories[n])break;t[e[n]]=!0===o.categories[n]?"granted":"denied"}0!==Object.keys(t).length&&i("consent","update",t)}function h(t,e){t.setAttribute("class",t.className+" "+e)}function m(t,e){t.setAttribute("class",t.className.replace(e,""))}function f(t){return function(t,e,n){var i={expires:null===e?-1:r};if("number"==typeof(n=Object.assign({},i,n)).expires){var o=n.expires,a=n.expires=new Date;a.setDate(a.getDate()+o)}return document.cookie=[encodeURIComponent(t),"=",encodeURIComponent(JSON.stringify(e)),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}(e,t,{expires:r,domain:a,path:"/"})}function v(t){for(var e=document.cookie.split("; "),n=0,i=e.length;n<i;n++){var o=e[n].split("=");if(g(o.shift())===t){var a=g(o.join(""));return JSON.parse(a)}}}function g(t){return decodeURIComponent(t.replace(/\+/g," "))}return{init:function(){if(void 0!==i)if(function(){var t;try{v(e)||f(s),t=v(e)}catch(t){console.error("Could not load "+e+" cookie",t)}o=t}(),void 0!==o){if(!1===o.updated&&!u){if(function(){var t='\t\t\t<aside id="cookie-popup" class="js-cookie-manager-controls">\t\t\t\t<div class="container">\t\t\t\t\t<div class="step1">\t\t\t\t\t\t<div>\t\t\t\t\t\t\t<p class="title">Our cookies</p>\t\t\t\t\t\t\t<p>\t\t\t\t\t\t\t\tThis website uses cookies to help improve your experience. By using our website you accept our\t\t\t\t\t\t\t\t<a href="'+c+'/info/terms/privacy-policy" title="View our privacy policy" target="_blank">Privacy Policy</a> and use of\t\t\t\t\t\t\t\t<a href="'+c+'/info/terms/cookies" title="View our cookie policy" target="_blank">cookies</a>.\t\t\t\t\t\t\t</p>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div>\t\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t\t<li><button value="analytics-accept" class="btn" title="Accept cookies">Accept</button></li>\t\t\t\t\t\t\t\t<li><button value="ui-manage" class="btn btn-outline" title="Manage cookies">Manage</button></li>\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="step2 hidden">\t\t\t\t\t\t<div>\t\t\t\t\t\t\t<p class="title">Manage cookies</p>\t\t\t\t\t\t\t<p>\t\t\t\t\t\t\t\tManage analytical cookies so we can better understand how people use our website.\t\t\t\t\t\t\t</p>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div>\t\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t\t<li><button value="analytics-decline" class="btn btn-outline" title="Decline analytical cookies">Decline</button></li>\t\t\t\t\t\t\t\t<li><button value="analytics-accept" class="btn" title="Accept analytical cookies">Accept</button></li>\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</aside>';document.body.appendChild(function(t){var e=document.createDocumentFragment(),n=document.createElement("div");n.innerHTML=t;for(;n.firstChild;)e.appendChild(n.firstChild);return e}(t)),h(document.querySelector("body"),"cookie"),l=document.querySelector(".js-cookie-manager-controls")}(),!l)return void console.error("Error, cookie manager UI not created");l.addEventListener("click",d)}!0===o.updated&&p()}else console.error("Error, could not load cookie preferences");else console.error("Error, gtag API not available")}}}(window.gtag,window.appState),responsiveZopim=function(){function t(t){$zopim(function(){"show"===t?$zopim.livechat.button.show():($zopim.livechat.button.hide(),$zopim.livechat.window.hide())})}return{init:function(){enquire.register(App.helpers.desktopQuery,{match:function(){t("show")},unmatch:function(){t("hide")}}).register(App.helpers.mobileAndTabletQuery,{match:function(){t("hide")},unmatch:function(){t("show")}}).listen()}}}(jQuery),offCanvasNav=function(n,t){var i=n("#js-main-nav");function e(t){switch(t){case"offCanvas":n("#js-main-nav-btn").on("click.mainNav",function(t){t.preventDefault();var e=n(this).hasClass("active")?n("#wrap").scrollTop():n(window).scrollTop();n(this).hasClass("active")?(n("html").one(function(){n(".main-nav-link").removeClass("active")}),setTimeout(function(){n(window).scrollTop(e)},0)):setTimeout(function(){n("#wrap").scrollTop(e)},0),n(this).toggleClass("active"),n("html").toggleClass("off-canvas-left")}),i.on("click.mainNav",".main-nav-link",function(t){n(this).data("dropdown")&&(t.preventDefault(),n(this).hasClass("active")&&n.each(n(this).next("ul").find(".main-nav-link"),function(){n(this).data("dropdown")&&n(this).removeClass("active")}),n(this).toggleClass("active"))});break;case"horizontalClick":i.on("click.mainNav",".main-nav-link",function(t){n(this).data("dropdown")&&(t.preventDefault(),n(this).parent().hasClass("active")?(n(this).parent().children(".main-nav-tertiary").length&&n(this).closest("ul").removeAttr("style"),n(document).off("click.mainNav")):(n(document).on("click.mainNav",function(t){n(t.target).closest(".main-nav").length||(n(".main-nav").find(".active").removeClass("active"),n(".main-nav").find("ul").removeAttr("style"),n(document).off("click.mainNav"))}),n(this).parent().children(".main-nav-tertiary").length&&n(this).parent().children(".main-nav-tertiary").length&&n(this).parent().children(".main-nav-tertiary").height()>n(this).closest("ul").height()&&n(this).closest("ul").height(n(this).parent().children(".main-nav-tertiary").height())),n(this).parent().toggleClass("active").siblings().removeClass("active"))});break;case"horizontalHover":default:var e={childElem:".main-nav-item",timeout:40,interval:100,out:r,over:a};i.children().hoverIntent(e)}}function o(t){switch(t){case"offCanvas":n("#js-main-nav-btn").off("click.mainNav"),n("html").removeClass("off-canvas-left"),n(".main-nav-link").removeClass("active");case"horizontalClick":i.off("click.mainNav"),n(document).on("click.mainNav");break;case"horizontalHover":default:i.children().unbind("mouseenter").unbind("mouseleave").removeProp("hoverIntent_t").removeProp("hoverIntent_s")}}function a(){n(this).children(".main-nav-link").data("dropdown")&&(n(this).children(".main-nav-tertiary").length&&n(this).children(".main-nav-tertiary").height()>n(this).closest("ul").height()&&n(this).closest("ul").height(n(this).children(".main-nav-tertiary").height()),n(this).addClass("active").siblings().removeClass("active"))}function r(){n(this).children(".main-nav-link").data("dropdown")&&(n(this).removeClass("active"),n(this).closest("ul").removeAttr("style"))}return{init:function(){t.register(App.helpers.desktopQuery,{match:function(){e("horizontalHover")},unmatch:function(){o("horizontalHover")}}).register(App.helpers.tabletQuery,{match:function(){e("horizontalClick")},unmatch:function(){o("horizontalClick")}}).register(App.helpers.mobileQuery,{match:function(){e("offCanvas")},unmatch:function(){o("offCanvas")}}).listen()}}}(jQuery,enquire,jQuery.hoverintent),renewalsDueBadge=function(){var e,a=0,n=5,t=appState.rest.root,i=appState.rest.key;function o(){if(void 0===e)throw new Error("Renewals due API request requires authentication");return jQuery.ajax(t+"/packages/?customerId="+appState.customerId,{type:"HEAD",headers:{"X-APIKEY":i,"X-APITIME":Date.now(),Authorization:"Bearer "+e},dataType:"json"}).then(function(t,e,n){var i=n.getAllResponseHeaders().split(/\n/),o={};jQuery(i).each(function(t,e){if(""!==e){var n=e.split(":");o[n[0]]=parseInt(n[1],10)}}),void(a=0)===o["X-Renewals-Due"]||isNaN(Number(o["X-Renewals-Due"]))||(a=o["X-Renewals-Due"])})}function r(){a&&jQuery("#user-renewals").find(".notify").text(a).removeClass("hidden")}return{init:function(){jQuery.cookie("renewalsDue")?(a=Number(jQuery.cookie("renewalsDue")),r()):jQuery.ajax(t+"/tokens",{type:"POST",headers:{"X-APIKEY":i,"X-APITIME":Date.now(),Authorization:"XSC "+jQuery.cookie("xsc")},dataType:"json"}).then(function(t){e=t.token},function(t){appState.devMode&&console.log(t)}).then(o).then(function(){e=void 0,r(),function(){var t=new Date;t.setTime(t.getTime()+60*n*1e3),jQuery.cookie("renewalsDue",a.toString(),{expires:t,path:"/",domain:null})}()})}}}(),copyToClipboard=function(t){return{init:function(){t(".clipboard-copy-btn").on("click",function(t){window.getSelection().removeAllRanges();var e=document.querySelector(".clipboard-copy"),n=document.createRange();document.getElementById("voucherTooltip").innerHTML="Copied",n.selectNode(e),window.getSelection().addRange(n);try{var i=document.execCommand("copy")?"successful":"unsuccessful";console.log("Copy was "+i),$("#voucherTooltip").addClass("success").fadeIn().delay(2e3).fadeOut()}catch(t){console.log("Oops, unable to copy")}window.getSelection().removeAllRanges()})}}}(jQuery);jQuery(document).ready(function(){offCanvasNav.init(),vatToggle.init("#vat-toggle,#vat-bus-con,#set-currency"),tooltips.init(),namescoTabs.init(),externalScriptManager.init(),copyToClipboard.init(),"function"==typeof $zopim&&responsiveZopim.init(),appState.customerId&&renewalsDueBadge.init(),jQuery(".js-video-link").on("click",function(t){t.preventDefault(),App.helpers.modalYTVideo(this)})});