(window.klaviyoOnsiteJSONP=window.klaviyoOnsiteJSONP||[]).push([[14],{"../component-library/src/Components/Icon/index.ts":function(e,t,n){"use strict";n("../../node_modules/core-js/modules/es6.object.assign.js"),n("../../node_modules/core-js/modules/es6.symbol.js"),n("../../node_modules/core-js/modules/web.dom.iterable.js"),n("../../node_modules/core-js/modules/es6.array.iterator.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/core-js/modules/es6.object.keys.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../react-utils/src/Hooks/useComponentUsageTrackingOnsite.ts");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=Object(o.c)((function(e){var t=e.className,n=e.iconName,o=(e.iconSize,e.display,e.prefix),u=void 0===o?"kl":o,l=e.rotate,s=void 0===l?0:l,f=(e.color,a(e,["className","iconName","iconSize","display","prefix","rotate","color"]));Object(i.a)("Icon");var d=0!==s?"".concat(u,"-rotate-").concat(s):"",p="".concat(t," ").concat(u," ").concat(u,"-").concat(n," ").concat(d).trim();return r.default.createElement("i",c({role:"img",className:p},f))})).withConfig({displayName:"Icon__StyledIcon",componentId:"t6tzq9-0"})(["&:before{font-size:",";display:",";",";}"],(function(e){return e.iconSize||e.theme.klFontMedium}),(function(e){return e.display||"inline-block"}),(function(e){var t=e.color,n=e.theme;return t?"color: ".concat(n[t]):""}));t.a=u},"../component-library/src/Components/Link/Link.tsx":function(e,t,n){"use strict";n("../../node_modules/core-js/modules/es6.object.assign.js"),n("../../node_modules/core-js/modules/es6.symbol.js"),n("../../node_modules/core-js/modules/web.dom.iterable.js"),n("../../node_modules/core-js/modules/es6.array.iterator.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/core-js/modules/es6.object.keys.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../react-utils/src/Hooks/useComponentUsageTrackingOnsite.ts"),c={baseStyle:function(e){var t=e.theme,n=e.disabled;return Object(o.b)(["cursor:",";font-family:",";text-decoration:none;:hover{text-decoration:",";}"],n?"default":"pointer",t.klFontFamily,!n&&"underline")},variants:{default:function(e){var t=e.theme,n=e.disabled;return Object(o.b)(["color:",";font-size:",";font-weight:",";"],n?t.klGray:t.klPrimary,t.klFontMedium,t.fontWeightNormal)},dataTable:function(e){var t=e.theme,n=e.disabled;return Object(o.b)(["color:",";font-size:",";font-weight:",";"],n?t.klGray:t.klPrimary,t.klFontMedium,t.fontWeightSemibold)},dataTableSubdued:function(e){var t=e.theme,n=e.disabled;return Object(o.b)(["color:",";font-size:",";font-weight:",";:hover{color:",";}"],n?t.klGray:t.klGrayDarkest,t.klFontMedium,t.fontWeightSemibold,!n&&t.klGrayDarkest)},caption:function(e){var t=e.theme,n=e.disabled;return Object(o.b)(["color:",";font-size:",";font-weight:",";"],n?t.klGray:t.klPrimary,t.klFontSmall,t.fontWeightNormal)},captionDanger:function(e){var t=e.theme,n=e.disabled;return Object(o.b)(["color:",";font-size:",";font-weight:",";:hover{color:",";}"],n?t.klGray:t.klDanger,t.klFontSmall,t.fontWeightNormal,t.klDanger)}}};function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.c.a.withConfig({displayName:"Link__StyledLink",componentId:"sc-16x1a8g-0"})(["",";",";"],c.baseStyle,(function(e){var t=e.type;return c.variants[void 0===t?"default":t]}));t.a=function(e){var t=e.disabled,n=e.href,o=e.onClick,c=u(e,["disabled","href","onClick"]);return Object(i.a)("Link"),r.default.createElement(l,a({href:t?void 0:n,onClick:t?void 0:o,disabled:t},c))}},"../forms/src/Client/Components/FormComponents/Label.tsx":function(e,t,n){"use strict";n("../../node_modules/core-js/modules/es6.symbol.js"),n("../../node_modules/core-js/modules/web.dom.iterable.js"),n("../../node_modules/core-js/modules/es6.array.iterator.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/core-js/modules/es6.object.keys.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../forms/src/Client/Components/ResetElements/index.tsx");function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=Object(o.c)(i.g).withConfig({displayName:"Label__StyledLabel",componentId:"blhs2o-0"})(["&&{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;padding-bottom:6px;}"],(function(e){return e.theme.inputStyles.textStyles.color}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.labelFontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}));t.a=function(e){var t=e.children,n=c(e,["children"]);return t?r.default.createElement(a,n," ",t):null}},"../forms/src/Client/Components/FormComponents/ValidationMessage.tsx":function(e,t,n){"use strict";n("../../node_modules/core-js/modules/es6.string.starts-with.js"),n("../../node_modules/core-js/modules/es6.regexp.replace.js"),n("../../node_modules/core-js/modules/es6.array.find.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../forms/node_modules/react-redux/es/index.js"),c=n("../forms/src/Client/Components/ResetElements/index.tsx"),a=n("../forms/src/Client/formValidation/isRequired.ts"),u=n("../forms/src/Client/formValidation/email.ts"),l=n("../forms/src/Client/formValidation/date.ts"),s=n("../forms/src/Client/formValidation/phoneNumber.ts"),f=n("../forms/src/Constants/components.ts"),d=n("../forms/src/NewStore/index.ts"),p=Object(o.c)(c.b).withConfig({displayName:"ValidationMessage__Container",componentId:"sc-1qcstff-0"})(["&&{width:100%;position:relative;}"]),m=Object(o.c)(c.b).withConfig({displayName:"ValidationMessage__ValidationContainer",componentId:"sc-1qcstff-1"})(["&&{border-radius:4px;box-shadow:1px 1px 4px 0 rgba(0,0,0,0.26);border:1px solid ",";background-color:rgb(248,236,233);&:after,&:before{content:'';display:block;position:absolute;width:0;height:0;border-style:solid;}&:after{",";left:8px;border-width:8px;}&:before{border-width:9px;left:7px;",";}}"],(function(e){return e.theme.inputStyles.textStyles.errorColor}),(function(e){return e.validateTop?"\n        bottom: -15px;\n        border-color: rgb(248, 236, 233) transparent transparent transparent;\n      ":"\n        top: -15px;\n        border-color: transparent transparent rgb(248, 236, 233) transparent;\n    "}),(function(e){var t=e.validateTop,n=e.theme;return t?"\n        bottom: -17px;\n        border-color: ".concat(n.inputStyles.textStyles.errorColor," transparent transparent transparent;\n      "):"\n        top: -17px;\n        border-color: transparent transparent ".concat(n.inputStyles.textStyles.errorColor," transparent;\n    ")})),b=Object(o.c)(c.b).withConfig({displayName:"ValidationMessage__ValidationContainerOuter",componentId:"sc-1qcstff-2"})(["&&{background-color:white;position:absolute;z-index:1;",";right:0;border-radius:4px;-webkit-animation:fadein 0.4s;-moz-animation:fadein 0.4s;-ms-animation:fadein 0.4s;-o-animation:fadein 0.4s;animation:fadein 0.4s;@keyframes fadein{from{opacity:0;}to{opacity:1;}}@-moz-keyframes fadein{from{opacity:0;}to{opacity:1;}}@-webkit-keyframes fadein{from{opacity:0;}to{opacity:1;}}@-ms-keyframes fadein{from{opacity:0;}to{opacity:1;}}}"],(function(e){return e.validateTop?"bottom: 47px":"top: 9px"})),y=Object(o.c)(c.i).withConfig({displayName:"ValidationMessage__FormStyledValidationMessage",componentId:"sc-1qcstff-3"})(["&&{font-size:14px;padding:8px;font-family:",";color:",";}"],(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.errorColor}));t.a=function(e){var t=e.formVersionCId,n=e.componentInstance,o=e.componentAriaID,c=Object(i.c)((function(e){return d.h.getFormVersionFormTypeDirection(e,d.k.getOpenFormVersionFormVersionId(e,t))})),h=!!(null==c?void 0:c.startsWith("BOTTOM"));return r.default.createElement(p,null,(null==n?void 0:n.validationErrorType)&&r.default.createElement(b,{validateTop:h},r.default.createElement(m,{validateTop:h},r.default.createElement(y,{role:"alert",id:o},function(e){var t,n=e.validationErrorType,r=e.metadata;switch(n){case a.b:return"This field is required";case u.b:return"Please enter a valid email address";case l.b:return"Please enter a valid date format (".concat(null===(t=f.e.find((function(e){var t=e.value;return JSON.stringify(t)===JSON.stringify(null==r?void 0:r.format)})))||void 0===t?void 0:t.label.replace(/ /g,(null==r?void 0:r.delimiter)||"/"),")");case s.b:return"Please enter a valid phone number";default:return""}}(n)))))}},"../forms/src/Client/Components/ResetElements/CleaveInput.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("../../node_modules/core-js/modules/es6.object.assign.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../forms/src/Constants/components.ts");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=r.default.lazy((function(){return n.e(7).then(n.t.bind(null,"../../node_modules/cleave.js/react.js",7))})),a=function(e){return r.default.createElement(r.Suspense,{fallback:r.default.createElement("div",null)},r.default.createElement(c,i({},e,{className:"needsclick ".concat(e.className," ").concat(o.o)})))}},"../forms/src/Client/Components/View/View.tsx":function(e,t,n){"use strict";n.r(t);n("../../node_modules/core-js/modules/es6.promise.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/core-js/modules/es6.object.assign.js"),n("../forms/node_modules/regenerator-runtime/runtime.js"),n("../../node_modules/core-js/modules/es6.array.find.js"),n("../../node_modules/core-js/modules/es7.array.includes.js"),n("../../node_modules/core-js/modules/es6.string.includes.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../forms/node_modules/react-redux/es/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("../forms/src/NewStore/store.ts"),a=n("../forms/src/NewStore/index.ts"),u=(n("../../node_modules/core-js/modules/es7.symbol.async-iterator.js"),n("../../node_modules/core-js/modules/es6.symbol.js"),n("../../node_modules/core-js/modules/web.dom.iterable.js"),n("../../node_modules/core-js/modules/es6.array.iterator.js"),n("../../node_modules/core-js/modules/es6.object.keys.js"),n("../../node_modules/core-js/modules/es6.regexp.to-string.js"),n("../../node_modules/core-js/modules/es6.reflect.construct.js"),n("../forms/src/Constants/actions.ts")),l=n("../forms/src/Utils/debug.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n=t.formVersionCId,r=t.actionId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentHandlerStep="INSTANTIATED",this.formActionType=void 0,this.actionId=void 0,this.formVersionCId=void 0,this.formAction=void 0,this.formId=void 0,this.companyId=void 0,this.actionId=r,this.formVersionCId=n,this.formAction=a.a.actionSelectById(c.c.getState(),r);var o=c.c.getState();this.formId=a.k.getOpenFormVersionFormId(o,n),this.companyId=a.b.getKlaviyoCompanyId(o)}var t,n,r;return t=e,(n=[{key:"runAction",value:function(){var e=this;return this.currentHandlerStep="PREHANDLER",new Promise((function(e){return e()})).then((function(t){return e.__preHandler(t)})).then((function(t){return e.currentHandlerStep="HANDLER",t})).then((function(t){return e.__handler(t)})).then((function(t){return e.currentHandlerStep="POSTHANDLER",t})).then((function(t){return e.__postHandler(t)})).catch((function(t){return e.__errorHandler(t)}))}},{key:"__preHandler",value:function(e){}},{key:"__handler",value:function(e){}},{key:"__postHandler",value:function(e){}},{key:"__errorHandler",value:function(e){Object(l.a)(e.toString(),{formActionType:this.formActionType,currentHandlerStep:this.currentHandlerStep})}}])&&s(t.prototype,n),r&&s(t,r),e}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=y(i);function i(e){var t,n=e.isSubmit,r=p(e,["isSubmit"]);return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,r)).isSubmit=void 0,t.isSubmit=n,t.formActionType=u.a,t}return t=i,(n=[{key:"__handler",value:function(){return c.c.dispatch(a.k.closeForm({formVersionCId:this.formVersionCId,logMetric:!this.isSubmit}))}}])&&m(t.prototype,n),r&&m(t,r),i}(f);v.formActionType=u.a;var O,j=v,w=(n("../../node_modules/core-js/modules/es7.object.get-own-property-descriptors.js"),n("../forms/src/Utils/errorTypes.ts")),S=n("../forms/src/Utils/promise.ts"),I=n("../forms/src/Utils/onsiteApi/learnq.ts"),x=n("../forms/src/NewStore/logMetricAsync/actions.ts"),_=n("../component-library/src/Components/Link/Link.tsx"),C=n("../component-library/src/Components/Icon/index.ts");function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(i.c)((function(e){return r.default.createElement(C.a,e)})).withConfig({displayName:"validations__LinkIcon",componentId:"zviler-0"})(["&&{padding-left:",";}"],(function(e){return e.theme.spacingXXSmall})),P=(k(O={},"SNIPPET_EXISTS",{className:"heap-signup-forms heap-check-install-success",message:function(){return"Signup forms are successfully installed on your site"},variant:"success"}),k(O,"SNIPPET_MISSING",{className:"heap-signup-forms heap-check-install-fail",message:function(){return r.default.createElement(r.default.Fragment,null,"Unable to detect that signup forms are successfully installed on your site. Please view the"," ",r.default.createElement(_.a,{href:"https://help.klaviyo.com/hc/en-us/articles/360002035871",target:"_blank"},"installation documentation"),".")},variant:"error"}),k(O,"PASSWORD_PROTECTED",{className:"heap-signup-forms heap-check-install-password-protected",message:function(){return"Due to the password lock on your site, Klaviyo is unable to detect the signup form code on your site."},variant:"warning"}),k(O,"SUBMIT_VALIDATION",{className:"heap-signup-forms heap-missing-submit",message:function(){return"An input field and a submit button are required for a visitor to submit the form. Consider changing the button action."},variant:"error"}),k(O,"SMS_CONSENT_GUIDELINES",{className:"heap-signup-forms heap-sms-consent-guidelines",message:function(){return r.default.createElement(r.default.Fragment,null,"According to TCPA guidelines, you must make it clear to visitors what they are signing up for by providing SMS consent. Learn more about"," ",r.default.createElement(_.a,{href:"https://help.klaviyo.com/hc/en-us/articles/360035055312",target:"_blank"},"SMS consent best practices",r.default.createElement(E,{iconName:"external-link",iconSize:"small"})),".")},variant:"warning"}),k(O,"ALL_CHECKS_SUCCESSFUL",{className:"heap-signup-forms heap-check-install-success",message:function(){return"All checks passed!"},variant:"success"}),n("../forms/src/Constants/metrics.ts")),A=n("../../node_modules/unfetch/dist/unfetch.mjs"),T=n("../config/lib/client.json"),V="".concat(T.API.url).concat(T.API.submitToListPath),R=n("../../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),F=n("../forms/src/Sentry.tsx"),D=n("../forms/src/Utils/camelizeKeys.ts"),N="".concat(T.API.url,"/ajax/sms/subscribe_unique_id");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(l,e);var t,n,r,o,i,u=q(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=u.call(this,e)).hiddenFieldsComponentId=void 0,t.composedFields=void 0;var n=c.c.getState();return t.hiddenFieldsComponentId=a.d.getComponentIdByActionId(n,e.actionId),t.composedFields=a.k.getComposedFields(n,t.formVersionCId,t.hiddenFieldsComponentId),t}return t=l,(n=[{key:"__preHandler",value:(o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.c.dispatch(a.k.validateOpenFormVersion({formVersionCId:this.formVersionCId}));case 2:if(t=e.sent,!Object(R.g)(t)){e.next=7;break}if(!t.payload.components.some((function(e){return!e.valid}))){e.next=7;break}throw new w.c({type:"form"});case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function c(e){z(i,n,r,c,a,"next",e)}function a(e){z(i,n,r,c,a,"throw",e)}c(void 0)}))},function(){return i.apply(this,arguments)})},{key:"__requestUniqueID",value:function(){(function(e){var t={method:"POST",headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(Object(D.b)(e))};return Object(A.a)(N,t).then((function(e){if(e.status>=500)throw Error("Error sending request: ".concat(e.url));return e})).then((function(e){return e.json()})).then((function(e){return Object(D.a)(e)}))})({companyId:this.companyId,form_id:this.formId,email:this.composedFields.$email}).then((function(e){var t=e.data.uniqueId;void 0!==t&&c.c.dispatch(a.b.slice.actions.setSmsSubscriptionUniqueId(t))})).catch((function(){}))}},{key:"__errorHandler",value:function(e){var t=this.composedFields,n=this.formId,r=this.companyId,o=this.formAction;if(f.prototype.__errorHandler.call(this,e),function(e){return[w.a,w.c].some((function(t){return e instanceof t}))}(e))throw e;c.c.dispatch(a.k.updateCurrentView({id:this.formVersionCId,changes:{showErrorView:!0}})),c.c.dispatch(Object(x.a)({metric:P.c,formId:n,companyId:r,submittedFields:t,listId:null==o?void 0:o.listId})),F.a.captureException(e,{tags:{onSubmit:!0},extra:{submitAction:!0,formId:this.formId,companyId:this.companyId}})}}])&&H(t.prototype,n),r&&H(t,r),l}(f);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(i,e);var t,n,r,o=Z(i);function i(){return Y(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__handler",value:function(){var e=c.c.getState();Object(I.a)(this.composedFields);var t=a.k.getSubscriptionOnlyComponentData(e,this.formVersionCId);return this.composedFields=G(G({},this.composedFields),t||{}),a.d.anyComponentHasSubscribeToSMSAction(e,a.k.getOpenFormVersionFormVersionId(e,this.formVersionCId))&&this.__requestUniqueID(),this.__submitToList()}},{key:"__submitHandlerCheck",value:function(e){var t=e.success,n=e.errors,r=void 0===n?[]:n,o=this.composedFields,i=this.formId,u=this.companyId,l=this.formAction;if(!t&&"List does not exist."!==r[0])throw c.c.dispatch(a.k.updateCurrentView({id:this.formVersionCId,changes:{showErrorView:!0}})),c.c.dispatch(Object(x.a)({metric:P.c,formId:i,companyId:u,submittedFields:o,listId:l.listId})),new w.a(r.join(" | "))}},{key:"__submitToList",value:function(){var e=this,t=this.composedFields,n=this.formId,r=this.companyId;return function(e){return Object(A.a)(V,{method:"POST",headers:{"Access-Control-Allow-Headers":"*","Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:e.toString()})}(this.__makePOSTBody({composedFields:t})).then((function(e){return e.json()})).then((function(o){return o.success&&e.formAction.actionType?(c.c.dispatch(a.e.slice.actions.successForm({formId:n,successActionType:e.formAction.actionType})),Object(S.c)(200,c.c.dispatch(Object(x.a)({metric:P.h,logCustomEvent:!0,formId:n,companyId:r,submittedFields:t,action_type:"Submit Form"}))).then((function(){return o})).catch((function(){return o}))):o}))}},{key:"__makePOSTBody",value:function(e){var t=e.composedFields,n=new Date,r=G(G({},t),"object"===J(window.Shopify)&&window.Shopify.shop?{services:JSON.stringify({shopify:{source:"form"}})}:{}),o=G({g:this.formAction.listId,$fields:Object.keys(r).toString(),$list_fields:Object.keys(r).filter((function(e){return Array.isArray(r[e])})).toString(),$timezone_offset:-n.getTimezoneOffset()/60},r),i=new URLSearchParams;return Object.keys(o).forEach((function(e){var t=o[e];return Array.isArray(t)?t.forEach((function(t){return i.append(e,t)})):i.set(e,t)})),i}}])&&X(t.prototype,n),r&&X(t,r),i}(B);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,r,o=ae(i);function i(){return oe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__postHandler",value:function(e){var t=e.success,n=e.errors,r=void 0===n?[]:n;return a.k.openFormVersionSelectIds(c.c.getState()).includes(this.formVersionCId)&&this.formAction.viewId?(this.__submitHandlerCheck({success:t,errors:r}),c.c.dispatch(a.k.updateCurrentView({id:this.formVersionCId,changes:{currentViewId:this.formAction.viewId}}))):null}}])&&ie(t.prototype,n),r&&ie(t,r),i}(ne);se.formActionType=u.f;var fe=se;n("../../node_modules/core-js/modules/es6.regexp.replace.js");function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(i,e);var t,n,r,o=ye(i);function i(e){var t,n,r,c=e.isSubmit,a=pe(e,["isSubmit"]);return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,a)).redirectUrl=void 0,r.newWindow=void 0,r.isSubmit=void 0,r.redirectUrl=(null===(t=r.formAction.data)||void 0===t?void 0:t.redirectUrl)||"about:blank",r.newWindow=!!(null===(n=r.formAction.data)||void 0===n?void 0:n.newWindow)&&r.formAction.actionType===u.b,r.isSubmit=!!c,r.formActionType=u.b,r}return t=i,(n=[{key:"__redirectUrl",value:function(){var e=this.redirectUrl.replace(/^javascript:/,"");if(this.newWindow&&this.formAction.actionType===u.b){var t=window.open(e,"_blank");null==t||t.focus()}else window.location.assign(e)}},{key:"__handler",value:function(){var e=this,t=this.formId,n=this.newWindow;this.formAction.actionType===u.b&&c.c.dispatch(a.e.slice.actions.successForm({formId:t,successActionType:u.b}));var r=c.c.dispatch(Object(x.a)({metric:P.g,logTelemetric:!this.isSubmit,logCustomEvent:!0,formId:this.formId,companyId:this.companyId,action_type:"Go to URL",destination_url:this.redirectUrl}));return n?(this.__redirectUrl(),r):Object(S.c)(200,r).then((function(){return e.__redirectUrl()})).catch((function(){return e.__redirectUrl()}))}}])&&me(t.prototype,n),r&&me(t,r),i}(f);ve.formActionType=u.b;var Oe=ve;function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(i,e);var t,n,r,o=xe(i);function i(){return we(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__postHandler",value:function(e){var t=e.success,n=e.errors,r=void 0===n?[]:n;this.__submitHandlerCheck({success:t,errors:r});var o=this.formVersionCId,i=this.actionId;return new Oe({formVersionCId:o,actionId:i,isSubmit:!0}).runAction()}}])&&Se(t.prototype,n),r&&Se(t,r),i}(ne);ke.formActionType=u.e;var Ee=ke;function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(i,e);var t,n,r,o=Re(i);function i(){return Ae(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__postHandler",value:function(e){var t=e.success,n=e.errors,r=void 0===n?[]:n;this.__submitHandlerCheck({success:t,errors:r});var o=this.formVersionCId,i=this.actionId;return new j({formVersionCId:o,actionId:i,isSubmit:!0}).runAction()}}])&&Te(t.prototype,n),r&&Te(t,r),i}(ne);Ne.formActionType=u.d;var Me=Ne,ze=function(e){return"This form is now set to display on Mobile devices only and subscribers will be routed to the list set on the "+"".concat(e.toLowerCase()," keyword.")},He=function(e){return"".concat(e," Keyword")},We=function(e){return"".concat(e," Message")};ze("Opt-in"),He("Opt-in"),We("Opt-in"),ze("Subscribe"),He("Subscribe"),We("Subscribe"),"".concat("subscribe-via-sms-","opt-in-keyword"),"".concat("subscribe-via-sms-","opt-in-message");function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var o=Ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(i,e);var t,n,r,o=Be(i);function i(e){var t,n,r,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,e)).toPhoneNumber=void 0,c.optInMessage=void 0,c.optInKeyword=void 0,c.toPhoneNumber=null===(t=c.formAction.data)||void 0===t?void 0:t.toPhoneNumber,c.optInMessage=(null===(n=c.formAction.data)||void 0===n?void 0:n.optInMessage)||"Send this text to subscribe to SMS updates!",c.optInKeyword=(null===(r=c.formAction.data)||void 0===r?void 0:r.optInKeyword)||"JOIN",c.formActionType=u.g,c}return t=i,(n=[{key:"__handler",value:function(){var e=a.b.getSmsSubscriptionUniqueId(c.c.getState()),t=function(e){return e&&6===e.length}(e)?"".concat(this.optInKeyword,":").concat(e):this.optInKeyword,n="sms:".concat(this.toPhoneNumber,"?&body=").concat(encodeURIComponent("".concat(this.optInMessage," (ref:").concat(t,")")));c.c.dispatch(a.k.closeForm({formVersionCId:this.formVersionCId}));var r=c.c.dispatch(Object(x.a)({metric:P.i,logCustomEvent:!0,formId:this.formId,companyId:this.companyId,action_type:"Subscribe Via SMS",sms_keyword:this.optInKeyword,destination_url:n}));return Object(S.c)(200,r).then((function(){return window.location.assign(n)})).catch((function(){return window.location.assign(n)}))}}])&&Le(t.prototype,n),r&&Le(t,r),i}(f);Ge.formActionType=u.g;var $e=Ge;function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(i,e);var t,n,r,o=et(i);function i(){return Xe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__handler",value:function(){var e,t=c.c.getState();return a.k.openFormVersionSelectIds(t).includes(this.formVersionCId)&&(null===(e=this.formAction)||void 0===e?void 0:e.viewId)?(Object(I.a)(this.composedFields),a.d.anyComponentHasSubscribeToSMSAction(t,a.k.getOpenFormVersionFormVersionId(t,this.formVersionCId))&&this.__requestUniqueID(),c.c.dispatch(a.k.updateCurrentView({id:this.formVersionCId,changes:{currentViewId:this.formAction.viewId}}))):null}}])&&Qe(t.prototype,n),r&&Qe(t,r),i}(B);rt.formActionType=u.h;var ot,it=rt;function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=(ct(ot={},j.formActionType,j),ct(ot,fe.formActionType,fe),ct(ot,it.formActionType,it),ct(ot,Oe.formActionType,Oe),ct(ot,Me.formActionType,Me),ct(ot,Ee.formActionType,Ee),ct(ot,$e.formActionType,$e),ot),ut=function(e){var t=e.actionId,n=c.c.getState(),r=a.a.getActionType(n,t),o=a.j.getViewIdFromActionId(n,t),i=a.d.anyComponentHasIdentifyingInput(n,o);return r!==fe.formActionType||i?at[r]:it},lt=n("../forms/src/Constants/views.ts"),st=n("../forms/src/Constants/formTypes.ts"),ft=(n("../../node_modules/core-js/modules/es6.string.iterator.js"),n("../../node_modules/core-js/modules/es6.array.from.js"),n("../../node_modules/core-js/modules/es6.function.name.js"),n("../forms/src/Client/Components/ResetElements/index.tsx")),dt=n("../forms/src/Constants/dragAndDrop.ts"),pt=n("../../node_modules/lodash-es/merge.js"),mt=n("../forms/src/Constants/components.ts"),bt=n("../forms/src/Constants/defaultTheme/formComponent.ts");function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var jt=function(e){var t=e.children,n=e.actionId,i=e.formVersionCId,c=Ot(e,["children","actionId","formVersionCId"]),l=gt(Object(r.useState)(!1),2),s=l[0],f=l[1],d=Object(o.c)((function(e){return n?a.a.getAriaPropsFromFormAction(e,n):{}}));return t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onClick:n?function(){if(n){var e=ut({actionId:n}),t=new e({actionId:n,formVersionCId:i});u.c.has(e.formActionType)&&f(!0),t.runAction().catch((function(){f(!1);var e=document.querySelector(".klaviyo-form-version-cid_".concat(i,' [aria-invalid="true"]'));e&&e.focus()}))}}:void 0,handlingFormAction:s,ariaProps:d},c))},wt=function(e){var t=e.showSpinner,n=e.showOverlay;return t?"\n      ".concat(n?"&:before {\n              content: '';\n              display: block;\n              top: 0;\n              left: 0;\n              position: absolute;\n              background-color: black;\n              width: 100%;\n              height: 100%;\n              opacity: 0.5;\n              }":"","\n      &:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 20px;\n        height: 20px;\n        margin-top: -10px;\n        margin-left: -10px;\n        border-radius: 50%;\n        border: 3px solid transparent;\n        border-top-color: #fff;\n        border-left-color: #fff;\n        animation: spinner 1s linear infinite;\n      }\n\n      @keyframes spinner {\n        to {transform: rotate(360deg);}\n      }\n      "):""};function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var xt=function(){return null},_t=Object(i.c)((function(e){e.width;var t=e.hasAction,n=It(e,["width","hasAction"]);return t?r.default.createElement(ft.d,n):r.default.createElement(ft.e,n)})).withConfig({displayName:"Image__ImageContent",componentId:"sc-1v9htui-0"})(["&&{&,img{max-width:100%;width:",";height:",";cursor:",";}&:focus{box-shadow:0 0 5px ",";}}"],(function(e){var t=e.width;return"".concat(t,"px")}),(function(e){var t=e.imageRatio,n=e.width;return n?"auto":"".concat(n*t,"px")}),(function(e){return e.showCursor?"pointer":"initial"}),(function(e){return e.theme.focusColor})),Ct=Object(i.c)(ft.b).withConfig({displayName:"Image__SpinnerContainer",componentId:"sc-1v9htui-1"})(["&&{position:relative;display:flex;align-items:center;width:100%;height:auto;",";}"],wt),kt=Object(i.c)(ft.b).withConfig({displayName:"Image__ImageContainer",componentId:"sc-1v9htui-2"})(["&&{display:flex;align-items:center;width:100%;height:auto;}"]),Et=function(e){var t=e.formVersionCId,n=e.componentId,i=Object(o.c)(a.b.isDesignWorkflow),c=Object(o.c)((function(e){return a.d.getComponentStyling(e,n)})),u=Object(o.c)((function(e){return a.d.getComponentImage(e,n)})),l=Object(o.c)((function(e){return a.d.getComponentAltText(e,n)})),s=Object(o.c)((function(e){return a.d.getComponentActionId(e,n)}));return r.default.createElement(kt,null,i&&!u?r.default.createElement(xt,null):u&&r.default.createElement(jt,{actionId:s,formVersionCId:t},(function(e){var t=e.onClick,n=e.handlingFormAction,o=e.ariaProps;return r.default.createElement(Ct,{onClick:t,showSpinner:n},r.default.createElement(_t,St({imageRatio:u.height/u.width,width:c.width||100,src:u.url,alt:l,showCursor:!!t,hasAction:!!s,tabIndex:i||!s?-1:0},o)))})))},Pt=n("../../node_modules/parchment/dist/parchment.js"),At=n.n(Pt),Tt=n("../../node_modules/quill/core.js"),Vt=n("../../node_modules/quill/formats/size.js"),Rt=n("../../node_modules/quill/formats/font.js"),Ft=n("../../node_modules/quill/formats/color.js"),Dt=n("../../node_modules/quill/formats/background.js"),Nt=n("../../node_modules/quill/formats/align.js"),Mt=n("../../node_modules/quill/formats/bold.js"),zt=n("../../node_modules/quill/formats/italic.js"),Ht=n("../../node_modules/quill/formats/strike.js"),Wt=n("../../node_modules/quill/formats/underline.js"),qt=n("../../node_modules/quill/formats/link.js"),Lt=n("../../node_modules/quill/formats/list.js"),Ut=n("../forms/src/Constants/fonts.ts");n("../../node_modules/core-js/modules/es6.reflect.get.js");function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return(Gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zt=function(e){var t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(i,e);var t,n,r,o=Yt(i);function i(){return Jt(this,i),o.apply(this,arguments)}return t=i,r=[{key:"create",value:function(e){var t=e.alt,n=e.url,r=e.width,o=e.height,c=Gt(Qt(i),"create",this).call(this);return c.setAttribute("alt",t),c.setAttribute("src",n),c.setAttribute("width",r),c.setAttribute("height",o),c.setAttribute("style","width:".concat(r,"; height:").concat(o,";")),c}},{key:"value",value:function(e){return{alt:e.getAttribute("alt"),url:e.getAttribute("src"),width:e.getAttribute("width"),height:e.getAttribute("height")}}}],(n=null)&&Kt(t.prototype,n),r&&Kt(t,r),i}(e.Embed);return t.blotName="image",t.tagName="img",t};n("../forms/src/Client/Components/FormComponents/RichText/editorCSS.scss");Vt.a.whitelist=Ut.b,Rt.a.whitelist=void 0,Tt.a.register(Vt.a),Tt.a.register(Rt.a),Tt.a.register(Mt.a),Tt.a.register(zt.a),Tt.a.register(qt.a),Tt.a.register(Wt.a),Tt.a.register(Ht.a),Tt.a.register(Ft.b),Tt.a.register(Dt.a),Tt.a.register(Nt.b),Tt.a.register(Lt.b),Tt.a.register(Lt.a),Tt.a.register(Zt(At.a),!0);var en=i.c.div.withConfig({displayName:"RichText__StyledQuillContainer",componentId:"ar3bfm-0"})(["&&{&&&&{width:100%;.ql-editor{align-self:flex-start;padding:0;}.ql-container{border:none;p,a{font-size:14px;}}.ql-clipboard{display:none;}}}"]),tn=function(e){var t=e.componentId,n=Object(r.useRef)(!1),i=Object(o.c)((function(e){return a.d.getComponentQuillDelta(e,t)})),c=Object(r.useRef)(null);return Object(r.useEffect)((function(){c.current&&c.current.setContents(i||[])}),[i]),r.default.createElement(en,{className:"".concat(mt.o," ").concat(mt.l)},r.default.createElement("div",{className:"ql-snow",ref:function(e){var t;n.current||(n.current=!0,c.current=new Tt.a(e,{readOnly:!0,debug:"error"}),null===(t=c.current)||void 0===t||t.setContents(i||[]))}}))},nn=n("../../node_modules/lodash-es/uniqueId.js"),rn=n("../forms/src/Client/Components/ResetElements/CleaveInput.tsx"),on=n("../forms/src/Client/Components/FormComponents/Label.tsx"),cn=n("../forms/src/Client/Components/FormComponents/ValidationMessage.tsx");function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var sn=Object(i.c)((function(e){var t=e.componentType,n=ln(e,["componentType"]);return t===mt.c?r.default.createElement(rn.a,n):r.default.createElement(ft.f,n)})).withConfig({displayName:"TextInput__FormStyledTextInput",componentId:"j8u27t-0"})(["&&{&&&{box-sizing:border-box;border-radius:2px;padding-left:16px;padding-right:0px;padding-top:0px;padding-bottom:0px;height:","px;text-align:left;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;background-color:",";border:1px solid;border-color:",";&:hover{border-color:",";}&:focus{border:1px solid ",";box-shadow:0 0 5px ",";}::placeholder{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;}::-moz-placeholder{line-height:","px;}::-moz-placeholder{line-height:","px;}}}"],(function(e){return e.theme.inputStyles.textStyles.height}),(function(e){return e.theme.inputStyles.textStyles.formInputTextColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}),(function(e){return e.theme.inputStyles.inputBackgroundColor}),(function(e){var t=e.valid;return e.theme.inputStyles.border[t?"defaultColor":"errorColor"]}),(function(e){return e.theme.inputStyles.border.activeColor}),(function(e){var t=e.valid;return e.theme.inputStyles.border[t?"activeColor":"errorColor"]}),(function(e){return e.theme.focusColor}),(function(e){return e.theme.inputStyles.textStyles.placeholderColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}),(function(e){return e.theme.inputStyles.textStyles.height}),(function(e){return e.theme.inputStyles.textStyles.height})),fn=Object(i.c)(ft.b).withConfig({displayName:"TextInput__StyledInputContainer",componentId:"j8u27t-1"})(["&&{display:flex;flex-grow:1;flex-direction:column;align-self:flex-end;}"]),dn=function(e){var t,n=e.formVersionCId,i=e.componentId,c=Object(o.c)(a.b.isDesignWorkflow),u=Object(o.c)((function(e){return a.k.getOpenFormVersionComponentInstance(e,n,i)})),l=Object(o.c)((function(e){return a.d.getComponentLabel(e,i)})),s=Object(o.c)((function(e){return a.d.getComponentPlaceholder(e,i)})),f=Object(o.c)((function(e){return a.d.getComponentType(e,i)})),d=Object(o.c)((function(e){return a.d.getComponentStyling(e,i)})),p=Object(o.c)((function(e){return a.d.getComponentFormat(e,i)})),m=Object(o.c)((function(e){return a.d.getComponentDelimiter(e,i)})),b=Object(o.c)((function(e){return a.d.getComponentPrefill(e,i)})),y=Object(o.b)(),h=Object(r.useRef)(Object(nn.a)("klaviyo_ariaid_")).current,g=an(Object(r.useState)(!1),2),v=g[0],O=g[1],j=an(Object(r.useState)(!1),2),w=j[0],S=j[1],x=an(Object(r.useState)(),2),_=x[0],C=x[1],k=function(e){var t,r=e.value,o=e.validate,c=e.hasChangedSinceLastValidation,u=void 0!==r?r:"";C(u),O(!1),S(!!c),y(a.k.validateOpenFormVersionComponent({formVersionCId:n,componentId:i,value:f===mt.c?null===(t=mt.e.find((function(e){var t=e.value;return JSON.stringify(t)===JSON.stringify(p)})))||void 0===t?void 0:t.convertValue(u,m):u,validate:o}))};Object(r.useEffect)((function(){var e=Object(I.b)();if(b&&e&&f===mt.g&&!c){var t=e.$email;k({value:t,validate:!1})}}),[]);var E,P=w||!1==!c||!u||void 0===u.valid||u.valid,A=f!==mt.c||s&&!v?s:null===(t=mt.e.find((function(e){var t=e.value;return JSON.stringify(t)===JSON.stringify(p)})))||void 0===t?void 0:t.label.replace(/ /g,m);return r.default.createElement(fn,null,r.default.createElement(on.a,null,l),r.default.createElement(sn,{type:function(e){switch(e){case mt.g:return"email";case mt.k:return"tel";default:return"text"}}(f),name:f===mt.g?"email":null,tabIndex:c?-1:0,styling:d,componentType:f,placeholder:A,"aria-label":(E=f===mt.c?"date":f===mt.g?"email":"text",l||s||E),"aria-invalid":!P,"aria-describedby":P?void 0:h,onBlur:function(e){return k({value:e.target.value,validate:!0,hasChangedSinceLastValidation:!1})},onChange:function(e){return k({value:e.target.value,validate:!1,hasChangedSinceLastValidation:!0})},onFocus:function(){return O(!0)},valid:P?1:0,options:f===mt.c?{date:!0,datePattern:p,delimiter:m}:{delimiter:""},value:_||""}),!c&&!w&&r.default.createElement(cn.a,{formVersionCId:n,componentAriaID:h,componentInstance:u}))},pn=n("../forms/src/Constants/defaultTheme/button.ts").a.THEME_KEY,mn=Object(i.c)(ft.a).withConfig({displayName:"Button__FormStyledButton",componentId:"sc-19apo9r-0"})(["&&{&&&{position:relative;"," background:",";border-radius:","px;border-style:",";border-color:",";border-width:","px;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;line-height:1;white-space:normal;padding-top:11px;padding-bottom:11px;text-align:center;word-break:break-word;align-self:flex-end;cursor:pointer;&:focus{box-shadow:0 0 5px ",";}"," ","}}"],(function(e){return e.theme[pn].fullWidth?"width: 100%;":"padding-left: 10px; padding-right: 10px;"}),(function(e){return e.theme[pn].backgroundColor}),(function(e){return e.theme[pn].borderRadius}),(function(e){return e.theme[pn].borderStyle}),(function(e){return e.theme[pn].borderColor}),(function(e){return e.theme[pn].borderWidth}),(function(e){return e.theme[pn].textStyles.color}),(function(e){return e.theme[pn].textStyles.fontFamily}),(function(e){return e.theme[pn].textStyles.fontSize}),(function(e){return e.theme[pn].textStyles.fontWeight}),(function(e){return e.theme[pn].textStyles.letterSpacing}),(function(e){return e.theme.focusColor}),(function(e){var t=e.theme;return!1!==t[pn].specifyHoverBackgroundColor&&"\n    &:hover {\n      background-color: ".concat(t[pn].hoverBackgroundColor,";\n      color: ").concat(t[pn].hoverTextColor||t[pn].textColor,";\n    }\n  }")}),(function(e){var t=e.showSpinner;return wt({showSpinner:t})})),bn=function(e){var t=e.componentId,n=e.formVersionCId,i=Object(o.c)((function(e){return a.d.componentSelectById(e,t)})),c=Object(o.c)((function(e){return a.d.getComponentActionId(e,t)})),u=Object(o.c)(a.b.isDesignWorkflow);return r.default.createElement(jt,{formVersionCId:n,actionId:c},(function(e){var t=e.onClick,n=e.handlingFormAction;return r.default.createElement(mn,{type:"button",onClick:t,showSpinner:n,tabIndex:u?-1:0},i.data.content)}))};function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var gn=function(e){var t=e.fillColor;return r.default.createElement("g",{id:"checkboxInner",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"checkbox_on",transform:"translate(3.000000, 4.000000)",fill:"#303B43"},r.default.createElement("polygon",{id:"Shape",fill:t,points:"4.45454545 9.20149254 1.11363636 5.75373134 0 6.90298507 4.45454545 11.5 14 1.64925373 12.8863636 0.5"})))},vn=function(e){var t=e.fillColor;return r.default.createElement("g",{id:"radioInner",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Group-17-Copy",transform:"translate(4.000000, 4.000000)",fill:"#303B43"},r.default.createElement("circle",{fill:t,id:"Oval-Copy",cx:"6",cy:"6",r:"5.55555556"})))},On=Object(i.c)((function(e){var t=e.selectorType,n=e.fillColor,o=hn(e,["selectorType","fillColor"]);return r.default.createElement("svg",yn({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},o),r.default.createElement("defs",null),"radio"===t?r.default.createElement(vn,{fillColor:n}):r.default.createElement(gn,{fillColor:n}))})).attrs((function(e){return{fillColor:e.theme.inputStyles.textStyles.formInputTextColor}})).withConfig({displayName:"SelectorInner__StyledInner",componentId:"sc-1vygx6p-0"})(["&&{input[type='radio']:checked + label > &&&,input[type='checkbox']:checked + label > &&&{display:inline-block;}&&&{display:none;position:absolute;margin:0px;}}"]);function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Sn=function(e){var t=e.backgroundColor;return r.default.createElement("g",null,r.default.createElement("g",null,r.default.createElement("rect",{strokeWidth:"1",x:"0.5",y:"0.5",width:"19",height:"19",rx:"2.22222222",fill:t})))},In=function(e){var t=e.backgroundColor;return r.default.createElement("g",null,r.default.createElement("g",null,r.default.createElement("circle",{strokeWidth:"1",cx:"10",cy:"10",r:"9.5",fill:t})))},xn=Object(i.c)((function(e){var t=e.selectorType,n=(e.valid,e.backgroundColor),o=wn(e,["selectorType","valid","backgroundColor"]);return r.default.createElement("svg",jn({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},o),"radio"===t?r.default.createElement(In,{backgroundColor:n}):r.default.createElement(Sn,{backgroundColor:n}))})).attrs((function(e){return{backgroundColor:e.theme.inputStyles.inputBackgroundColor}})).withConfig({displayName:"SelectorOuter__StyledOuter",componentId:"sc-1ayn8jp-0"})(["&&{stroke:",";input:focus + label > &{filter:",";stroke:",";}margin-right:8px;min-width:20px;width:auto;height:auto;}"],(function(e){var t=e.theme;return e.valid?t.inputStyles.border.defaultColor:t.inputStyles.border.errorColor}),(function(e){var t=e.theme;return"drop-shadow( 0px 0px 2px ".concat(t.focusColor,")")}),(function(e){return e.theme.inputStyles.border.activeColor})),_n=Object(i.c)(ft.b).withConfig({displayName:"MultiInputField__Text",componentId:"abznf3-0"})(["&&{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;margin-right:24px;display:flex;position:relative;top:1px;}"],(function(e){return e.theme.inputStyles.textStyles.color}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing})),Cn=Object(i.c)(ft.g).withConfig({displayName:"MultiInputField__OptionContainer",componentId:"abznf3-1"})(["&&{display:flex;align-items:center;flex:",";padding-bottom:8px;cursor:pointer;word-break:break-word;max-width:100%;cursor:pointer;> *{cursor:pointer;}}"],(function(e){return e.theme.inputStyles.arrangement===mt.a?" 1 0 100%":" 0 0 auto"})),kn=function(e){var t=e.name,n=e.label,o=e.isValid,i=e.componentAriaID,c=e.componentType,a=e.onChange,u=e.tabIndex,l=Object(r.useRef)(Object(nn.a)("".concat(t,"__"))).current,s=c===mt.m?"radio":"checkbox";return r.default.createElement(r.default.Fragment,null,r.default.createElement(ft.f,{style:{position:"absolute",width:0,opacity:0},tabIndex:u,type:s,id:l,name:t,onChange:a,"aria-invalid":!o,"aria-label":n,"aria-describedby":i}),r.default.createElement(Cn,{htmlFor:l},r.default.createElement(xn,{valid:o,selectorType:s,"aria-hidden":"true"}),r.default.createElement(On,{selectorType:s,"aria-hidden":"true"}),r.default.createElement(_n,null,n)))};function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Rn,Fn=Object(i.c)(on.a).withConfig({displayName:"MultiInput__StyledLabel",componentId:"sc-1t60mck-0"})(["&&{margin-right:8px;margin-bottom:8px;}"]),Dn=Object(i.c)(ft.b).withConfig({displayName:"MultiInput__Container",componentId:"sc-1t60mck-1"})(["&&{align-self:flex-end;",";}"],(function(e){return e.theme.inputStyles.arrangement===mt.a?"\n  display: block;\n":"\n  flex-direction: column;\n  flex-wrap: wrap;\n"})),Nn=Object(i.c)(ft.b).withConfig({displayName:"MultiInput__AllOptionsContainer",componentId:"sc-1t60mck-2"})(["&&{"," input:focus + label > svg circle,input:focus + label > svg rect{stroke:",";}}"],(function(e){return e.theme.inputStyles.arrangement===mt.a?"\n        display: block;\n      ":"\n      display: inline-flex;\n      justify-content: flex-start;\n      flex-wrap: wrap;\n      "}),(function(e){return e.theme.inputStyles.activeBorderColor})),Mn=function(e){var t=e.options,n=e.componentType,r=e.toggledOptionIndex;return t.reduce((function(e,t,o){var i=t.selected,c=t.id,a=t.label,u=Vn(t,["selected","id","label"]),l=n!==mt.m&&i;return r===o&&(l=!l),e.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selected:l,label:a,id:c||Object(nn.a)("".concat(a,"__"))},u)),e}),[])},zn=function(e){var t=e.formVersionCId,n=e.componentId,i=Object(o.c)(a.b.isDesignWorkflow),c=Object(o.c)((function(e){return a.k.getOpenFormVersionComponentInstance(e,t,n)})),u=Object(o.c)((function(e){return a.d.getComponentType(e,n)})),l=Object(o.c)((function(e){return a.d.getComponentDropdownOptions(e,n)})),s=Object(o.c)((function(e){return a.d.getComponentFieldId(e,n)})),f=Object(o.c)((function(e){return a.d.getComponentLabel(e,n)})),d=Object(o.b)(),p=En(Object(r.useState)([]),2),m=p[0],b=p[1];Object(r.useEffect)((function(){b(Mn({options:l,componentType:u}))}),[l]);var y=Object(r.useMemo)((function(){var e=Object(nn.a)("".concat(s,"__"));return{inputName:e,labelId:"kl_".concat(e,"_label")}}),[]),h=y.inputName,g=y.labelId,v=i||!c||void 0===c.valid||c.valid;return r.default.createElement(Dn,null,r.default.createElement(Fn,{id:g},f),r.default.createElement(Nn,{role:u===mt.m?"radiogroup":"group","aria-labelledby":g},m.map((function(e,o){var c=e.label,l=e.id;return r.default.createElement(kn,{key:l,name:h,label:c,isValid:v,componentType:u,componentAriaID:g,onChange:function(){return function(e){var r=Mn({options:m,componentType:u,toggledOptionIndex:e});b(r);var o=function(e){return e.filter((function(e){return e.selected})).map((function(e){return e.value||e.label}))}(r);d(a.k.validateOpenFormVersionComponent({formVersionCId:t,componentId:n,value:o.toString()}))}(o)},tabIndex:i?-1:0})}))),!i&&r.default.createElement(cn.a,{formVersionCId:t,componentAriaID:g,componentInstance:c}))};function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return r.default.createElement(r.default.Fragment,null)};function n(n){var o=Ln(r.default.useState(0),2),i=o[0],c=o[1],a=r.default.useCallback((function(){return c((function(e){return e<5?e+1:e}))}),[]),u=r.default.useMemo((function(){return r.default.lazy((function(){return e().catch((function(){return{default:function(){return a(),r.default.createElement(r.default.Fragment,null)}}}))}))}),[e,i]);return r.default.createElement(r.default.Suspense,{fallback:r.default.createElement(t,null)},r.default.createElement(u,n))}return n.displayName="LazyLoader",n}var Jn=function(e){return e.children},Kn={outer:{right:"0 0 0 auto",left:"0 auto 0 0",center:"0 auto"},inner:{right:"flex-end",left:"flex-start",center:"center"}},Gn=(qn(Rn={},mt.h,Et),qn(Rn,mt.p,tn),qn(Rn,mt.q,dn),qn(Rn,mt.g,dn),qn(Rn,mt.k,Bn((function(){return Promise.all([n.e(2),n.e(5),n.e(12)]).then(n.bind(null,"../forms/src/Client/Components/FormComponents/PhoneNumberInput/index.ts"))}))),qn(Rn,mt.b,bn),qn(Rn,mt.j,zn),qn(Rn,mt.m,zn),qn(Rn,mt.c,dn),qn(Rn,mt.f,Bn((function(){return Promise.all([n.e(2),n.e(10)]).then(n.bind(null,"../forms/src/Client/Components/FormComponents/Dropdown/index.ts"))}))),Rn),$n=Object(i.c)(ft.b).withConfig({displayName:"FormComponent__StyledFormComponentWrapper",componentId:"sc-15knat2-0"})(["&&{display:flex;justify-content:",";",";position:relative;",";"," flex:",";",";}"],(function(e){var t=e.innerAlignment;return Kn.inner[t]||"flex-start"}),(function(e){var t=e.theme[bt.a.THEME_KEY].padding,n=t.top,r=t.right,o=t.bottom,i=t.left;return"\n  padding: ".concat(n||0,"px ").concat(r||0,"px ").concat(o||0,"px ").concat(i||0,"px;\n  ")}),(function(e){var t=e.theme[bt.a.THEME_KEY].blockBackgroundColor;return t?"background-color: ".concat(t,";"):""}),(function(e){return e.isHovering&&"cursor: pointer;"}),(function(e){return!1!==e.fullWidth?"1 0 0":"0 1 auto"}),(function(e){var t=e.alignment;return!1===e.fullWidth&&"margin: ".concat(t&&Kn.outer[t]||"")})),Yn=function(e){var t=e.componentId,n=e.componentPosition,c=e.formVersionCId,u=e.rowDroppableHover,l=e.setDragState,s=e.dragFinished,f=Ln(Object(r.useState)(!1),2),d=f[0],p=f[1],m=Object(r.useRef)(null),b=Object(o.b)(),y=Object(o.c)((function(e){return a.d.componentSelectById(e,t)}),(function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),h=Object(o.c)(a.b.isDesignWorkflow),g=Object(o.c)(a.f.getActiveComponentId),v=Object(o.c)((function(e){return a.k.openFormVersionSelectById(e,c)})).currentViewId,O=Object(o.c)((function(e){return a.d.getComponentTheme(e,t,v)}),(function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),j=Gn[y.componentType],w=g===y.componentId,S=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({component:y,fullWidth:y.data.styling.fullWidth,alignment:y.data.styling.alignment,innerAlignment:y.data.styling.innerAlignment},h?{active:w,isHovering:d,onClick:function(){b(a.f.slice.actions.unsetActiveColumn()),b(a.f.slice.actions.setActiveComponent(t))},onMouseOver:function(){s?l(!1):p(!0)},onMouseLeave:function(){return p(!1)},onDragStart:function(){return p(!1)},onDragEnd:function(){l(!0)},ref:m}:{});return r.default.createElement(i.a,{theme:function(e){return Object(pt.a)({},e,O,qn({},bt.a.THEME_KEY,y.data.styling))}},r.default.createElement($n,Hn({},S,{"data-testid":"form-component",className:"notranslate"}),h?r.default.createElement(Jn,{active:w,componentId:t,componentPosition:n,componentRef:m.current,formVersionCId:c,isHovering:d,rowDroppableHover:u,setIsHovering:p},r.default.createElement(j,{componentId:t,formVersionCId:c})):r.default.createElement(j,{componentId:t,formVersionCId:c})))};function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zn=Object(i.c)(ft.b).withConfig({displayName:"Row__FormRow",componentId:"sc-178phst-1"})(["&&{display:flex;flex-direction:row;align-items:stretch;position:relative;",";}"],(function(e){return e.hoverDirection?"\n    border-".concat(e.hoverDirection,": 2px;\n    border-").concat(e.hoverDirection,"-style: solid;\n    border-").concat(e.hoverDirection,"-color: ").concat(e.theme.klPrimary,";\n    margin-").concat(e.hoverDirection,": -2px;\n  "):""})),er=function(e){var t=e.rowId,n=e.formVersionCId,i=Object(o.c)((function(e){return a.l.getRowComponentIds(e,t)})),c=Xn(Object(r.useState)(!1),2),u=c[0],l=c[1],s=Xn(Object(r.useState)(!1),2),f=s[0],d=s[1],p=Xn(Object(r.useState)(!1),2),m=p[0],b=p[1],y=u&&dt.c||f&&dt.a||!1;return i.length?r.default.createElement(Zn,{hoverDirection:y,"data-testid":"form-row"},i.map((function(e,t){return r.default.createElement(Yn,{key:e,componentId:e,componentPosition:t,formVersionCId:n,rowDroppableHover:function(e,t){e===dt.c?l(t):d(t)},setDragState:function(e){return b(e)},dragFinished:m})})),null):null},tr=n("../forms/src/Utils/isMobile.ts");function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ar=function(){return null},ur=Object(i.c)(ft.b).withConfig({displayName:"Column__HoverTab",componentId:"bzq082-0"})(["&&{position:absolute;width:76px;margin-top:-24px;height:22px;margin-bottom:-22px;margin-left:-2px;background-color:",";border-radius:4px 4px 0 0;color:",";font-size:12px;line-height:22px;text-align:center;}"],(function(e){var t=e.theme;return e.isSelected?t.klPrimary:t.klGrayDark}),(function(e){return e.theme.klWhite})),lr=Object(i.c)(ft.b).withConfig({displayName:"Column__HoverFrame",componentId:"bzq082-1"})(["&&{position:absolute;width:",";"," ",";border-radius:0px 4px 4px 4px;}"],(function(e){var t=e.width;return"".concat(t,"px")}),(function(e){var t=e.viewBorderWidth;return"height: calc(100% - ".concat(2*t,"px);")}),(function(e){var t=e.theme,n=e.isSelected;return"box-shadow: 0 0 0 2px ".concat(n?t.klPrimary:t.klGrayDark)})),sr=Object(i.c)(ft.b).withConfig({displayName:"Column__FormColumn",componentId:"bzq082-2"})(["&&{display:flex;flex-direction:column;"," "," ",";width:",";"," margin-top:","px;margin-bottom:","px;margin-left:","px;margin-right:","px;"," background-color:",";","}"],(function(e){return e.isHovering&&"cursor: pointer;"}),(function(e){return e.isHovering&&"> * {cursor: pointer;}"}),(function(e){var t=e.minWidth;return t?"min-width: ".concat(t,"px"):""}),(function(e){var t=e.minWidth;return t?"".concat(null==t?void 0:t.toString(),"px"):"100%"}),(function(e){var t=e.columnMargin;return"\n  margin-top: ".concat(t.top,"px;\n  margin-bottom: ").concat(t.bottom,"px;\n  margin-left: ").concat(t.left,"px;\n  margin-right: ").concat(t.right,"px;\n  ")}),(function(e){return e.columnMargin.top}),(function(e){return e.columnMargin.bottom}),(function(e){return e.columnMargin.left}),(function(e){return e.columnMargin.right}),(function(e){var t=e.columnPadding;return"\n  padding-top: ".concat(t.top,"px;\n  padding-bottom: ").concat(t.bottom,"px;\n  padding-left: ").concat(t.left,"px;\n  padding-right: ").concat(t.right,"px;\n  ")}),(function(e){return e.backgroundColor}),(function(e){return e.backgroundImage?"\n      background-image: ".concat(e.backgroundImage&&"url(".concat(e.backgroundImage.url,")"),";\n      background-repeat: no-repeat;\n      background-size: ").concat(e.backgroundImage&&("custom"===e.backgroundImage.position?"".concat(e.backgroundImage.customWidth,"px;"):e.backgroundImage.position),";\n      background-position-x: ").concat(e.backgroundImage&&e.backgroundImage.alignment,";\n      background-position-y: ").concat(e.backgroundImage&&e.backgroundImage.verticalAlignment||"center","; "):""})),fr=function(e){var t,n,i,c,u,l,s=e.columnId,f=e.formVersionCId,d=e.formVersionId,p=e.viewId,m=e.sideImageExistsAndHidden,b=Object(o.b)(),y=Object(r.useRef)(null),h=ir(Object(r.useState)(!1),2),g=h[0],v=h[1],O=Object(o.c)(a.b.isDesignWorkflow),j=Object(o.c)((function(e){return a.h.getFormVersionSideImage(e,d)})),w=Object(o.c)((function(e){return a.c.getColumnRowIds(e,s)})),S=Object(o.c)((function(e){return a.c.columnSelectById(e,s)})),I=Object(o.c)((function(e){return a.n.getViewTheme(e,p)})),x=Object(o.c)((function(e){return a.f.getActiveColumnId(e)})),_=I.padding,C=j&&j.position===S.position,k=function(e,t,n,r){var o={top:0,left:0,right:0,bottom:0},i={top:0,left:0,right:0,bottom:0};return r||void 0!==n&&(e?(o.top=t&&t.top?-1*t.top:0,o.bottom=t&&t.bottom?-1*t.bottom:0,0===n?o.left=t&&t.left?-1*t.left:0:1===n&&(o.right=t&&t.right?-1*t.right:0)):0===n?i.left=(null==t?void 0:t.left)||0:1===n&&(i.right=(null==t?void 0:t.right)||0)),{columnMargin:o,columnPadding:i}}(C,_,null==j?void 0:j.position,m),E=k.columnMargin,P=k.columnPadding,A=null==S||null===(t=S.data)||void 0===t||null===(n=t.styling)||void 0===n?void 0:n.sizeMultiplier,T=null==I?void 0:I.size,V=A&&T?function(e,t,n){var r=e/(e+1)*t;return n?r:t-r}(A,T,C):0,R=null==S||null===(i=S.data)||void 0===i||null===(c=i.styling)||void 0===c?void 0:c.backgroundImage,F=null==S||null===(u=S.data)||void 0===u||null===(l=u.styling)||void 0===l?void 0:l.backgroundColor,D=x===S.columnId,N=(null==I?void 0:I.borderStyle)&&"none"!==(null==I?void 0:I.borderStyle)&&(null==I?void 0:I.borderWidth)||0,M=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},O&&C?{minWidth:V,isHovering:g,onClick:function(){b(a.f.slice.actions.unsetActiveComponent()),b(a.f.slice.actions.setActiveColumn(s))},onMouseOver:function(){v(!0)},onMouseLeave:function(){return v(!1)},ref:y}:{});return function(e,t,n){var r,o,i,c,a,u=(null===(r=e.rows)||void 0===r?void 0:r.length)>0,l=(null==e||null===(o=e.data)||void 0===o||null===(i=o.styling)||void 0===i?void 0:i.backgroundImage)||(null==e||null===(c=e.data)||void 0===c||null===(a=c.styling)||void 0===a?void 0:a.backgroundColor);return n||u||l&&(!Object(tr.a)()||t)}(S,(null==j?void 0:j.displayOnMobile)||!1,O)?r.default.createElement(r.default.Fragment,null,r.default.createElement(sr,nr({minWidth:V,backgroundImage:R,backgroundColor:F,columnMargin:E,columnPadding:P},(null==R?void 0:R.altText)?{title:null==R?void 0:R.altText}:{},M),O&&(g||D)&&C?r.default.createElement(r.default.Fragment,null,r.default.createElement(ur,{columnWidth:T-V,columnPosition:S.position,isSelected:D},"Side Image"),r.default.createElement(lr,{width:V,isSelected:D,viewBorderWidth:N})):null,O&&!R&&!F&&C?r.default.createElement(ar,{isSideImage:!0}):null==w?void 0:w.map((function(e){return r.default.createElement(er,{key:e,rowId:e,formVersionCId:f})})))):null},dr=n("../forms/src/Utils/calculateSideImageSize.ts");function pr(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function mr(){return(mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var br={left:"float: left",center:"margin: 0 auto",right:"float: right"},yr=Object(i.c)(ft.c).withConfig({displayName:"View__FormView",componentId:"sc-110l249-0"})(["&&{display:flex;flex-direction:row;box-sizing:border-box;overflow:hidden;"," border-radius:","px;border-style:",";border-width:","px;border-color:",";background-color:",";background-image:",";background-repeat:no-repeat;background-size:",";background-position-x:",";background-position-y:",";",";}"],(function(e){var t=e.theme,n=t.size,r=t.isMaxWidth,o=t.embedAlignment,i=e.isEmbed,c=e.sizeOverride;return i?"width: 100%;\n        ".concat(r?"max-width: ".concat(n,"px;"):"","\n        ").concat(o?"".concat(br[o],";"):"","\n        "):"\n        width: ".concat(c||n,"px;\n        min-width: ").concat(lt.b,"px;\n        max-width: ").concat(lt.a,"px;\n        ")}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.borderStyle}),(function(e){return e.theme.borderWidth||0}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.backgroundColor}),(function(e){var t=e.theme;return t.backgroundImage&&"url(".concat(t.backgroundImage.url,")")}),(function(e){var t=e.theme;return t.backgroundImage&&("custom"===t.backgroundImage.position?"".concat(t.backgroundImage.customWidth,"px;"):t.backgroundImage.position)}),(function(e){var t=e.theme;return t.backgroundImage&&t.backgroundImage.alignment}),(function(e){var t;return(null===(t=e.theme.backgroundImage)||void 0===t?void 0:t.verticalAlignment)||"center"}),(function(e){var t=e.theme.padding,n=t.top,r=t.right,o=t.bottom,i=t.left;return"\n  padding-top: ".concat(n,"px;\n  padding-right: ").concat(r,"px;\n  padding-bottom: ").concat(o,"px;\n  padding-left: ").concat(i,"px;\n  ")})),hr=Object(i.c)((function(e){return r.default.createElement(ft.f,mr({type:"submit",tabIndex:"-1",value:"Submit"},e))})).withConfig({displayName:"View__HiddenSubmit",componentId:"sc-110l249-1"})(["&&{&&&{display:none;}}"]);t.default=function(e){var t,n,c=e.viewId,u=e.isEmbed,l=e.formVersionId,s=e.formVersionCId,f=Object(o.c)((function(e){return a.h.formVersionSelectById(e,l)})),d=Object(o.c)((function(e){return a.n.getViewColumnIds(e,c)})),p=Object(o.c)((function(e){return a.c.columnSelectAll(e)})).filter((function(e){return d.includes(e.columnId)})).sort((function(e,t){return e.position-t.position})),m=Object(o.c)((function(e){return a.d.getSubmitFormActionsFromView(e,c)})),b=Object(o.c)((function(e){return a.n.getViewTheme(e,c)})),y=Object(o.c)((function(e){return a.h.getFormVersionSideImage(e,l)})),h=null==y||null===(t=y.data)||void 0===t||null===(n=t.styling)||void 0===n?void 0:n.sizeMultiplier,g=h?Object(dr.a)(h,b.size):0,v=Object(o.c)((function(e){return a.c.getViewColumns(e,c)})).find((function(e){return e.position===(null==y?void 0:y.position)})),O=Object(o.c)(a.b.isDesignWorkflow),j=function(e,t,n,r){var o,i,c,a,u=!n&&Object(tr.a)();return e&&!t&&(u||!((null==r||null===(o=r.data)||void 0===o||null===(i=o.styling)||void 0===i?void 0:i.backgroundImage)||(null==r||null===(c=r.data)||void 0===c||null===(a=c.styling)||void 0===a?void 0:a.backgroundColor)))}(!!y,O,null==y?void 0:y.displayOnMobile,v),w=j?b.size-g:void 0,S=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=S.current;f.formType===st.c&&e&&e.focus()}),[S]),r.default.createElement(i.a,{theme:b},r.default.createElement(yr,{className:"klaviyo-form-version-cid_".concat(s),noValidate:!0,isEmbed:u,ref:S,tabIndex:-1,sizeOverride:w,onSubmit:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),1===m.length){e.next=3;break}return e.abrupt("return",!1);case 3:return n=m[0].actionId,r=ut({actionId:n}),e.next=7,new r({actionId:n,formVersionCId:s}).runAction();case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){pr(i,r,o,c,a,"next",e)}function a(e){pr(i,r,o,c,a,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()},p.map((function(e){return r.default.createElement(fr,{key:e.columnId,columnId:e.columnId,formVersionCId:s,formVersionId:l,viewId:c,sideImageExistsAndHidden:j})})),r.default.createElement(hr,null)))}},"../react-utils/src/Hooks/useComponentUsageTrackingOnsite.ts":function(e,t,n){"use strict";t.a=function(){}}}]);
