/*!
 * GEClient.WelcomeManager v1.0.3
 * www.global-e.com
 *
 * Copyright (c) Global-E 
 *
 * GEClient.WelcomeManager extends the empty object defined in the static GEClient class GEClient.WelcomeManager
 * exposes all the functionality needed in order to show a skinable, localized welcome popup, to the merchant customers
 *
 * Authors        Eden Zaharoni
 */
GlobalE.WelcomeManager.Base.MerchantID=705;GlobalE.WelcomeManager.Base.MobileDetectionEnabled=!0;GlobalE.WelcomeManager.WelcomeContent='<div class="gePopupsContainer ltr en-GB"><div class="CustomWelcomePopup"><div class="glDefaultPopupContainer"><div class="glPopupContent glPopupContentSide"><span class="glClose" data-action="Close" onclick="GlobalE.WelcomeManager.CloseWelcome(event);"><\/span><div class="gleheader" data-key="dynamic"><div data-filter-country="ROW" class="glTitle" data-key="NowShipping">It\'s Now Easier to Shop in Hong Kong<\/div><\/div><div class="texts" data-key="dynamic"><div data-filter-country="HK" class="glMainContent uniqueCountryText" data-key="customResource" data-key-data="Forever21.welcome.content.HK"><ul><li>Prices are inclusive of duties and taxes. That means no hidden fees at checkout!<\/li><li>Enjoy low-cost Express shipping<\/li><\/ul><\/div><\/div><div class="glControls" data-key="dynamic"><div data-filter-country="HK,TW,MO"><input type="button" class="backToShop glDefaultBtn " data-key="continueShop" data-key-type="value" data-action="Close" value="Shop now" onclick="GlobalE.WelcomeManager.CloseWelcome(event);"><a class="changeShipping" data-key="customResource" data-key-data="welcome.ChangeShippingCountry.USA" href="#" data-action="ShippingSwitcher" onclick="return GlobalE.WelcomeManager.NotShippingTo(event);">Change your shipping Country/Region<\/a><\/div><\/div><\/div><div class="glModelSide"><\/div><\/div><\/div><\/div>';GlobalE.WelcomeManager.WelcomeCSS='.globale_overlay{background-color:#888;opacity:0;filter:alpha(opacity=0);position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000001}.globale_popup_wrapper{z-index:100001100;position:fixed;top:0;right:0;left:0;bottom:0}#globale_popup{position:absolute;top:50%;left:50%;z-index:1000000000;font-family:Arial;text-align:left}#globale_csc_popup{position:absolute;top:50%;left:50%;text-align:left;z-index:1000001;font-family:Arial;background-color:#fff;visibility:hidden;display:block}.globale_noShadow{box-shadow:none!important}.gePopupsContainer .CustomSwitcherPopup .dropDownRow .dropdown{position:relative}#ge_currencyrow[data-show=\'false\']{display:none}#ge_currencyrow[data-show=\'true\']{display:block}#globale_csc_popup{background:transparent}.gle_desktop .CustomWelcomePopup .glDefaultPopupContainer{display:table-row}button.UnitedStatesRedirection.backToShop.glDefaultBtn{background:#fff700;color:#000;padding:8px 15px!important;margin-bottom:15px;font-size:12px;white-space:break-spaces;width:100%!important}.CustomControlsForRedirection .backToShop{width:100%!important}.ltr .glMainContent.uniqueCountryText{text-align:left}.rtl .glMainContent.uniqueCountryText{text-align:right}.glMainContent.uniqueCountryText span{font-weight:bold;text-decoration:underline;font-size:18px;margin-bottom:8px}button.UnitedStatesRedirection.backToShop.glDefaultBtn a{color:#fff}select::-ms-expand{display:none}.globale_overlay{background-color:#000;opacity:.7!important}.gePopupsContainer{}.CustomWelcomePopup{background:#fff;border:2px solid #fff700;width:750px;height:auto;font-family:"Helvetica Neue",Helvetica,Arial,"Verdana","Geneva",sans-serif;border-radius:10px;display:table}.CustomSwitcherPopup{background:#fff;border:2px solid #fff700;width:550px;height:auto;font-family:"Helvetica Neue",Helvetica,Arial,"Verdana","Geneva",sans-serif;border-radius:10px}.glPopupContentSide,.glModelSide{width:50%;display:table-cell;position:relative}.glModelSide{background:url(https://s3.global-e.com/merchantscontent/forever21/Model-March-2020.jpg) center no-repeat;background-size:cover}span.glClose{background-image:url(https://globale-prod.s3-eu-west-1.amazonaws.com/merchantscontent/forever21/icon_close.webp);width:15px;background-repeat:no-repeat;height:15px;background-size:contain;position:absolute;right:25px;top:25px;cursor:pointer}.glPopupContent{padding:80px 30px}.gleheader{margin:0 auto;text-align:center;margin-bottom:25px}.glTitle{text-transform:uppercase;font-size:21px;line-height:1.5;font-family:"Helvetica Neue",Helvetica,Arial,"Verdana","Geneva",sans-serif;color:#000;font-weight:600}.CustomSwitcherPopup .glTitle{font-weight:600;margin-bottom:20px}.glTitle span.marked-text{display:block;font-weight:700}.glMainContent{font-size:16px;text-transform:none;text-align:center;line-height:1.5;font-family:"Helvetica Neue",Helvetica,Arial,"Verdana","Geneva",sans-serif;color:#000}.CustomSwitcherPopup .glMainContent{margin:0 auto 35px;width:60%}.glMainContent ul{list-style:disc!important;padding:0;margin:0;list-style-position:inside!important}.glMainContent.mobile{display:none}.texts{margin-bottom:35px}.gle_desktop .CustomWelcomePopup .backToShop,.gle_desktop .CustomSwitcherPopup .glCancelBtn{min-width:80%;width:100%!important}.CustomWelcomePopup .backToShop,.CustomSwitcherPopup .glCancelBtn{display:block;margin:0 auto;background:#000!important;color:#fff;border:none;font-weight:normal;height:auto!important;text-transform:uppercase;width:unset;font-size:14px!important;margin-bottom:25px;font-family:"Helvetica Neue",Helvetica,Arial,"Verdana","Geneva",sans-serif;padding:8px 15px!important;-webkit-appearance:none!important;-webkit-border-radius:0;cursor:pointer!important;min-width:80%!important;position:static!important}.glControls{text-align:center;margin-bottom:0}.CustomWelcomePopup .changeShipping,.CustomSwitcherPopup .Backtoshop{text-transform:none;color:#000;font-size:14px;background:none;border:none;text-decoration:underline;margin-bottom:0;font-family:"Helvetica Neue",Helvetica,Arial,"Verdana","Geneva",sans-serif;margin-top:0;margin-right:0;-webkit-appearance:none;-webkit-border-radius:0;cursor:pointer;font-weight:600}.CustomSwitcherPopup .glCancelBtn{width:100%;padding:8px 15px;font-size:12px}.CustomSwitcherPopup .glControls{width:60%;margin:0 auto}.gePopupsContainer .CustomSwitcherPopup .dropDownRow .dropdown select{width:100%;display:block;height:40px;padding:0 5px;font-family:"Helvetica Neue",Helvetica,Arial,"Verdana","Geneva",sans-serif;margin-bottom:25px;border:1px solid #ddd;font-size:14px;background:url(https://s3.global-e.com/merchantscontent/general/DropdownArrow.png) 90% no-repeat #fff;background-size:10px;color:#000;border-radius:4px;direction:ltr;-webkit-appearance:none;-moz-appearance:none;appearance:none}.dropDownRow.currenciesArray select{margin-bottom:0!important}.dropDownRow .caption{color:#000;font-size:16px;text-transform:none;margin:10px 0;text-align:left;font-family:"Helvetica Neue",Helvetica,Arial,"Verdana","Geneva",sans-serif;letter-spacing:.5px;line-height:1.5;font-style:italic}.CustomSwitcherPopup,.CustomWelcomePopup{position:relative}.rtl .dropDownRow .caption{text-align:right}.gle_mobile{display:flex;justify-content:center;width:100%;left:0!important;background-color:transparent!important;padding:10px;top:0!important}.gle_mobile .gePopupsContainer{width:100%;max-width:500px;margin:0 auto}.gle_mobile .glDefaultPopupContainer{width:100%}.gle_mobile .headerContainer{height:25px;width:140px;margin-bottom:15px}.gle_mobile .glTitle{font-size:18px}.gle_mobile .gleheader{margin-bottom:25px}.gle_mobile .glMainContent{font-size:14px}.gle_mobile .texts{margin:0;padding:0;background:transparent;margin-bottom:20px}.gle_mobile .dropDownRow{margin-bottom:15px}.gle_mobile .dropDownRow .caption{margin:5px 0}.gle_mobile .gePopupsContainer .CustomSwitcherPopup .dropDownRow .dropdown select{margin-bottom:0}.gle_mobile .CustomWelcomePopup .backToShop{padding:10px;margin-bottom:20px;font-size:12px;width:100%}.gle_mobile .CustomWelcomePopup .changeShipping{display:inline-block;font-size:14px;text-transform:none;text-decoration:underline;font-weight:bold;padding:0;background:none;color:#000;text-align:center;margin:0 auto}.gle_mobile .glControls{margin:0 auto;text-align:center;padding:0;width:80%}.gle_mobile .glPopupContent{padding:40px 50px}.gle_mobile .CustomSwitcherPopup .glMainContent{display:block;width:80%}.CustomSwitcherPopup .glPopupContent{padding:40px 80px}.gle_mobile .ru .glTitle{font-size:16px}.rtl .glMainContent ul{direction:rtl}.gle_mobile .glMainContent.mobile{display:block;text-transform:none}.gle_mobile .glClose{top:15px;right:15px;height:15px;width:15px}.gle_mobile .glTitle span.marked-text{display:inline-block}.gePopupsContainer.rtl{direction:rtl}.glMainContent ul,.glMainContent li{margin:0;padding:0}.glMainContent li{line-height:40px}.ru .CustomWelcomePopup .backToShop{padding:15px 40px;max-width:100%}.paymentMethod{text-align:center;background:transparent;margin:15px -25px 0}.glPayment{height:30px;width:50px;margin:6px;display:inline-block;background-repeat:no-repeat;background-size:contain;background-position:center;line-height:60px;vertical-align:middle}.glPayment.glPaymentUnionPay{background-image:url("https://s3.global-e.com/merchantscontent/astleyclarke/icons/UnionPay.png")}.glPaymentVisa{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_1.png")}.glPaymentKlarna{background-image:url(https://s3.global-e.com/Images/PaymentMethods/Klarna.png)}.glPaymentMastercard{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_2.png")}.glPaymentPayPal{background-image:url("https://s3.global-e.com/merchantscontent/astleyclarke/icons/paypal.png");background-size:75%}.glPaymentMaestro{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_23.png")}.glPaymentAMEX{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_3.png")}.glPaymentPOLiPay{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_24.png")}.glPaymentSofortuberweisung{background-image:url("https://s3.global-e.com/merchantscontent/astleyclarke/icons/sofort.png")}.glPaymentGiroPay{background-image:url("https://s3.global-e.com/merchantscontent/astleyclarke/icons/Giropay.png")}.glPaymentCashU{background-image:url("https://s3.global-e.com/merchantscontent/astleyclarke/icons/cashu.png")}.glPaymentAlipay{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_14.png")}.glPaymentTenpay{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_30.png")}.glPaymentQiwiWallet{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_6.png")}.glPayment_eNETS{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_32.png")}.glPaymentJCB{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/pm_33.png")}.glPaymentCcIcon{background-image:url("https://globale-prod.s3.amazonaws.com/Images/PaymentMethods/ccIcon.png");height:60px}.glPaymentSafetyPay{background-image:url(https://s3.global-e.com/Images/PaymentMethods/safetypay.png)}.glPaymentMisterCash{background-image:url(https://s3.global-e.com/Images/PaymentMethods/Bancontact.png)}.glPaymentWeChat{background-image:url(https://s3.global-e.com/Images/PaymentMethods/Wechat.png)}.glPaymentTrustly{background-image:url(https://s3.global-e.com/Images/PaymentMethods/trustly.png)}.glPaymentIdeal{background-image:url(https://s3.global-e.com/Images/PaymentMethods/ideal.png)}.glPaymentPrezelewy24{background-image:url(https://s3.global-e.com/Images/PaymentMethods/Przelewy24.png)}.glPaymentDotPay{background-image:url(https://s3.global-e.com/Images/PaymentMethods/DotPay.png)}.glPaymentMulibanco{background-image:url(https://s3.global-e.com/Images/PaymentMethods/Multibanco.png)}.glPaymenteNETS{background-image:url(https://s3.global-e.com/Images/PaymentMethods/pm_32.png)}.glPaymentEPS{background-image:url(https://s3.global-e.com/Images/PaymentMethods/EPS.png)}.glPaymentEBanking{background-image:url(https://s3.global-e.com/Images/PaymentMethods/E-banking.png)}.glPaymentApplePay{background-image:url(https://s3.global-e.com/Images/PaymentMethods/ApAy.png)}.gle_mobile .glModelSide{display:none}.gle_mobile .CustomWelcomePopup{max-width:550px;width:90%;margin:0 auto}@media screen and (max-width:800px){.CustomWelcomePopup .glModelSide{display:none}.CustomWelcomePopup{}}@media screen and (max-width:600px){.CustomSwitcherPopup{width:90%;margin:0 auto;max-width:500px;padding:25px}.gle_mobile .glPopupContent{padding:25px}.gle_mobile .glClose{top:10px;right:10px}.glMainContent li{line-height:20px}}';GlobalE.WelcomeManager.WidgetsCSS="";GlobalE.SwitcherRawData="";GlobalE.WelcomeManager.IsHideForCountry=!1;GlobalE.WelcomeManager.UpdateWelcomeScript="{0}Merchant/UpdateWelcome?merchantid={1}&country={2}&culture={3}&currency={4}";GlobalE.WelcomeManager.PopupWrapperID="globalePopupWrapper";GlobalE.WelcomeManager.OnBeforeLoadScript=function(){return!1};var overlay=null;GlobalE.WelcomeManager.CreateOverlay=function(n){var i=this,t=document.createElement("div");t.className="globale_overlay fadeIn";t.setAttribute("id","globale_overlay");document.getElementsByTagName("body")[0].appendChild(t);this.Base.FadeFX?this.Base.Fade("globale_overlay",0,this.Base.PopupOpacity,500,n):this.Base.SetOpacity("globale_overlay",this.Base.PopupOpacity);overlay=t;t.onclick=function(){i.CloseWelcome(null,!1,!0,{button:"Overlay"})}};GlobalE.WelcomeManager.CloseOverlay=function(n){var t=document.getElementById("globale_overlay");this.Base.IsUndefined(t)||t==null||(this.Base.FadeFX?this.Base.Fade("globale_overlay",this.Base.PopupOpacity,0,500,function(){document.getElementsByTagName("body")[0].removeChild(document.getElementById("globale_overlay"));n&&n()}):(document.getElementsByTagName("body")[0].removeChild(document.getElementById("globale_overlay")),n&&n()))};GlobalE.WelcomeManager.CloseModalPopup=function(){document.getElementsByTagName("body")[0].removeChild(this.GetModalPopupWrapper())};GlobalE.WelcomeManager.GetModalPopup=function(){return document.getElementById("globale_popup")};GlobalE.WelcomeManager.GetModalPopupWrapper=function(){return document.getElementById(this.PopupWrapperID)};GlobalE.WelcomeManager.CreateModalPopup=function(n){var t=this;this.Base.ShowPopupOverlay&&this.CreateOverlay();setTimeout(function(){var r=document.createElement("div"),u=t.Base.IsTabletMode(),i;r.className=t.Base.IsMobileMode()?"gle_mobile":u?"gle_mobile gle_tablet":"gle_desktop";r.setAttribute("id","globale_popup");r.innerHTML=n;i=document.createElement("div");i.className="globale_popup_wrapper";i.setAttribute("id",t.PopupWrapperID);i.appendChild(r);i.onclick=function(n){n.target.id==t.PopupWrapperID&&t.CloseWelcome(null,!1,!0,{button:"Overlay"})};document.getElementsByTagName("body")[0].appendChild(i);t.AddDynamicContent();t.Base.SetRepositioner(t.PopupReposition,t);t.Base.InvokePopupReposition(r);t.IsShown=!0;t.IsHidden=!1;t.Base.OnWelcomeShownCallback!=null&&t.Base.FireStack(t.Base.OnWelcomeShownCallback)},200)};GlobalE.WelcomeManager.PopupReposition=function(n){var i=this.Base.IsTabletMode(),r=n.offsetWidth,t=n.offsetHeight;n.style.margin=i?"-"+t/2+"px 0 0 0":"-"+(t/2+20)+"px 0 0 -"+r/2+"px"};GlobalE.WelcomeManager.UpdateWelcome=function(n){var t=this.GetModalPopup();t.innerHTML="";t.innerHTML=n;this.AddDynamicContent()};GlobalE.WelcomeManager.IsShowWelcome=function(){if(GlobalE.WelcomeManager.IsHideForCountry)return!1;var n=this.Base.GetCookie(this.Base.GE_DATA_WELCOME_COOKIE,!0);return n==null||this.Base.IsUndefined(n.showWelcome)?!0:n.showWelcome};GlobalE.WelcomeManager.AddDynamicContent=function(){var n,t;if(this.Base.DynContent.welcome!=null)for(n=0;n<this.Base.DynContent.welcome.length;n++)t=document.getElementById(this.Base.DynContent.welcome[n].key),t&&(t.innerHTML=this.Base.DynContent.welcome[n].value)};GlobalE.WelcomeManager.CheckAndDisplayWelcome=function(){var n,t;this.IsShowWelcome()&&(this.Welcome(),n=this.Base.GetCookie(this.Base.GE_DATA_WELCOME_COOKIE,!0),n==null?n={showWelcome:!1}:n.showWelcome=!1,t=this.Base.GetCookie(this.Base.GE_DATA_COOKIE,!0),t==null?t={cultureCode:this.Base.Culture,cToken:"",coStep:1}:t.cultureCode=this.Base.Culture,this.Base.SetCookie(this.Base.GE_DATA_WELCOME_COOKIE,n,this.Base.GE_DATA_COOKIE_EXP,!0),this.Base.SetCookie(this.Base.GE_DATA_COOKIE,t,this.Base.GE_DATA_COOKIE_EXP,!0))};GlobalE.WelcomeManager.Welcome=function(){GlobalE.WelcomeManager.OnBeforeLoadScript.apply(this.Base,[]);this.Base.ShowWelcome&&(this.Base.AddStyleString("glePopup",this.WidgetsCSS+this.WelcomeCSS),this.CreateModalPopup(this.WelcomeContent),this.Base.Track(this.Base.WelcomeUrl,!0))};GlobalE.WelcomeManager.CloseWelcome=function(n,t,i,r){var u,f,e;if(i=this.Base.IsUndefined(i)?!0:i,t=this.Base.IsUndefined(t)?!1:t,t?document.getElementById(this.PopupWrapperID).style.display="none":(this.CloseModalPopup(),i&&this.CloseOverlay()),this.IsShown=!1,this.Base.OnWelcomePopupClosedCallback!=null&&this.Base.OnWelcomePopupClosedCallback.length>0){u="Undefined";try{f=n.target||n.srcElement;u=f.getAttribute("data-key")!=null&&f.getAttribute("data-key")=="continueShop"?"ContinueToShop":"Close"}catch(o){}this.Base.IsUndefined(r)||(u=r.button);e=this.Base.FireStack(this.Base.OnWelcomePopupClosedCallback,{buttonClicked:u})}};GlobalE.WelcomeManager.ReadyStateChanged=function(n){n.data=="SwitherPopup"&&(document.body.style.cursor="default",GlobalE.WelcomeManager.IsShown&&GlobalE.WelcomeManager.CloseWelcome(null,!1,!1,{button:"ChangeCountry"}))};GlobalE.WelcomeManager.ShowShippingSwitcher=function(){var n=this;GlobalE.ShippingSwitcher?n.Base.CultureChanged?GlobalE.ShippingSwitcher.UpdateContent(function(){GlobalE.ShippingSwitcher.Show()}):GlobalE.ShippingSwitcher.Show():this.Base.LoadShippingSwitcher(n.Base.Country,n.Base.Culture,n.Base.Currency,!0,null)};GlobalE.WelcomeManager.NotShippingTo=function(){document.body.style.cursor="progress";var n=this;return GlobalE.AttachEvent("readystatechange",document.getElementsByTagName("body")[0],GlobalE.WelcomeManager.ReadyStateChanged),this.Base.RegisterOnBeforePopup("switcher",this.Base.Country,this.Base.Culture,this.Base.Currency,function(){n.ShowShippingSwitcher()}),n.Base.OnChangeShippingCountryClickedCallback!=null&&n.Base.FireStack(n.Base.OnChangeShippingCountryClickedCallback),!1};GlobalE.WelcomeManager.OnWindowLoad=function(){GlobalE.DBG?GlobalE.WelcomeManager.Welcome():GlobalE.WelcomeManager.CheckAndDisplayWelcome()};GlobalE.WelcomeManager.OnLanguageComboChanged=function(n,t,i){var r=this,u,f;u=i=="combo"?n.options[n.selectedIndex].getAttribute("data-culturecode"):n;t&&this.Base.RegisterOnBeforePopup("welcome",this.Base.Country,u,this.Base.Currency,function(){var n=r.UpdateWelcomeScript.format(r.Base.GEBaseURL,r.Base.MerchantID,r.Base.Country,u,r.Base.Currency);r.Base.AddScript(n)});f=this.Base.GetCookie(this.Base.GE_DATA_COOKIE,!0);f!=null&&(f.cultureCode=u,this.Base.SetCookie(this.Base.GE_DATA_COOKIE,f,this.Base.GE_DATA_COOKIE_EXP,!0));this.Base.Culture=u;this.Base.CultureChanged=!0};GlobalE.Country="HK";GlobalE.Currency="HKD";GlobalE.Culture="en-GB";GlobalE.PopupOpacity="90";GlobalE.WindowLoaded?GlobalE.WelcomeManager.OnWindowLoad():GlobalE.AttachEvent("load",window,function(){GlobalE.WelcomeManager.OnWindowLoad()});GlobalE.WelcomeManager.Initiated=!0