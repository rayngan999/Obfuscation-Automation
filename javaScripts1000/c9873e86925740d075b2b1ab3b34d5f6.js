!function(e){var t,l,n,s="s-photoGallery",r=s.charAt(0),i=s.replace(r+"-",""),o=!1,d=[],m=[],p=[],u=[],v=window.Rexus.modal,h=window.Rexus.flexTiles,g=32,_=13,f=!!this.Rexus&&this.Rexus;function C(){if(t=document.getElementsByClassName(s)){var l;for(a=t.length-1;a>=0;a--){(l=t[a]).id="photoGallery"+a;var r=l.getElementsByClassName("l-flexTiles")[0];u.push(r);var i=l.getElementsByClassName("c-photoGalleryCard"),o={trigger:i,deactivateClose:!0,darkmode:!0,hasEscBtn:!0},d=v.createModal(o);l.appendChild(d),E(i),w(d);var c,m=d.getElementsByClassName(s+"__slider")[0];for(m.dataset.sid="slick"+a,b=i.length-1;b>=0;b--)(c=i[b]).dataset.sid=m.dataset.sid,c.setAttribute("tabindex","0"),c.addEventListener("click",y),c.addEventListener("keypress",y)}n={maxWidth:"512",runEvent:function(){var t;for(a=u.length-1;a>=0;a--){(t=u[a]).classList.contains("l-flexTiles")&&t.classList.remove("l-flexTiles");var l=k(t,s),n=l.getElementsByClassName(s+"__controls__left")[0],r=l.getElementsByClassName(s+"__controls__right")[0];L(e(t).slick({slidesToScroll:1,infinite:!0,lazyLoad:"progressive",dots:!0,prevArrow:n,nextArrow:r}))}h.update()},killEvent:function(){for(a=t.length-1;a>=0;a--){var l=t[a].getElementsByClassName("slick-slider");l.length>0&&(l[0].classList.add("l-flexTiles"),e(l[0]).slick("unslick"))}h.update()}},x(),window.addEventListener("resize",T)}}function y(t){var a;"keypress"==t.type?t.keyCode!=g&&t.keyCode!=_||(a=t.currentTarget):a=this;var l=a.dataset.sid,n=document.querySelector("."+s+'__slider[data-sid="'+l+'"]');e(n).slick("slickGoTo",a.dataset.num)}function E(e){var t,a;for(b=e.length-1;b>=0;b--){(t=e[b]).dataset.num=b;var l=t.getElementsByTagName("img")[0].alt,n=t.dataset.modalphoto,s=t.getElementsByClassName("c-photoGalleryCard__title")[0],r=t.getElementsByClassName("c-photoGalleryCard__description")[0],i={img:n,alt:l,title:s=s?s.innerHTML:null,description:r=r?r.innerHTML:null};m.push(i)}for(b=m.length-1;b>=0;b--)a=m[b],p.push(a)}function L(e){d.push(e)}function w(t){var a=document.createElement("div");a.classList.add(s+"__slider","u-list-unstyled");var l=t.getElementsByClassName("c-modal__content")[0];l.appendChild(a);var n=document.createElement("div");n.classList.add(s+"__overlayControls"),l.appendChild(n);var r=document.createElement("button"),i=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-label","Previous Slide"),i.setAttribute("viewBox","0 0 13.3 22.2"),i.innerHTML='<path d="M11.2.3L.5 11l10.7 10.7 1.6-1.5L3.6 11l9.2-9.2z" />',r.appendChild(i),n.appendChild(r);var o=document.createElement("div");o.classList.add(s+"__overlayControls__content"),n.appendChild(o);var d=document.createElement("button"),u=document.createElementNS("http://www.w3.org/2000/svg","svg");for(d.setAttribute("aria-label","Next Slide"),u.setAttribute("viewBox","0 0 13.3 22.2"),u.innerHTML='<path d="M2.1 21.7L12.8 11 2.1.3.5 1.9l9.2 9.2-9.2 9.1z" />',d.appendChild(u),n.appendChild(d),c=m.length-1;c>=0;c--){var v=document.createElement("div");v.classList.add(s+"__slider__imgWrap"),a.appendChild(v);var h=document.createElement("img");h.src=m[c].img,h.alt=m[c].alt,v.appendChild(h)}var g=document.createElement("p");g.classList.add(s+"__overlayControls__content__captionTitle"),o.appendChild(g);var _=document.createElement("p");_.classList.add(s+"__overlayControls__content__captionDescription"),o.appendChild(_),L(e(a).slick({slidesToScroll:1,infinite:!0,lazyLoad:"progressive",dots:!1,prevArrow:r,nextArrow:d}));var f=a.getElementsByClassName(s+"__slider__imgWrap");for(c=f.length-1;c>=0;c--){var C=f[c].parentNode,y=e(C).contents();e(C).replaceWith(y)}e(a).on("beforeChange",(function(){e(o).addClass("fade")})),e(a).on("afterChange",(function(){e(o).removeClass("fade");var t=e(this).slick("slickCurrentSlide"),a=p[t].title,l=p[t].description;g.innerHTML=a,_.innerHTML=l}))}function k(e,t){for(;!e.classList.contains(t);)if(!(e=e.parentNode))return null;return e}function T(){l&&clearTimeout(l),l=setTimeout(x,250)}function x(){var e=window.innerWidth;!n.active&&e<n.maxWidth?(n.runEvent(),n.active=!0):n.active&&e>n.maxWidth&&(n.active=!1,n.killEvent&&n.killEvent())}f?(C.prototype.toggleRTL=function(){for(o=!o,a=d.length-1;a>=0;a--)d[a].slick("slickSetOption",{rtl:o,refresh:!0})},f[i]=new C):console.error('Rexus Manager needs to be preloaded for the "'+s+'" to work')}(jQuery);