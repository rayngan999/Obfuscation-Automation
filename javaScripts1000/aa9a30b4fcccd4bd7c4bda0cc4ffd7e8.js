!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["initialize_sparkle/initialize_sparkle.js"]=r():e["initialize_sparkle/initialize_sparkle.js"]=r()}(this,(function(){return function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=215)}({126:function(e,r,n){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var r=Object.prototype.toString.call(e);return"[object RegExp]"===r||"[object Date]"===r||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,r){return!1!==r.clone&&r.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,r):e;var n}function u(e,r,n){return e.concat(r).map((function(e){return i(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(r){return e.propertyIsEnumerable(r)})):[]}(e))}function c(e,r){try{return r in e}catch(e){return!1}}function s(e,r,n){var t={};return n.isMergeableObject(e)&&a(e).forEach((function(r){t[r]=i(e[r],n)})),a(r).forEach((function(o){(function(e,r){return c(e,r)&&!(Object.hasOwnProperty.call(e,r)&&Object.propertyIsEnumerable.call(e,r))})(e,o)||(c(e,o)&&n.isMergeableObject(r[o])?t[o]=function(e,r){if(!r.customMerge)return l;var n=r.customMerge(e);return"function"==typeof n?n:l}(o,n)(e[o],r[o],n):t[o]=i(r[o],n))})),t}function l(e,r,n){(n=n||{}).arrayMerge=n.arrayMerge||u,n.isMergeableObject=n.isMergeableObject||t,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(r);return o===Array.isArray(e)?o?n.arrayMerge(e,r,n):s(e,r,n):i(r,n)}l.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,r)}),{})};var b=l;e.exports=b},135:function(e,r){e.exports=function(e,r){try{return JSON.parse(e)}catch(e){return r}}},152:function(e,r){e.exports=function(){var e=window.location.search,r={},n=new RegExp("([^?=&]+)(=([^&]*))?","g");return e.replace(n,(function(e,n,t,o){r[n]=o})),r}},215:function(e,r,n){e.exports=n(216)},216:function(e,r,n){var t=n(217),o=n(152),i=n(218),u=n(219),a=n(220).BLOOMBERG_AD_NETWORK_ID,c=n(126),s={query:{enabled:!1,values:{}},superburst:{enabled:!1,srnd:null}};function l(e){return s.superburst.enabled&&(e.srnd=s.superburst.srnd),e}function b(e){return s.query.enabled?c(e,s.query.values):e}function d(e){u((function(r){if(!r.isBlocked||!r.isUsingOverlay){var n=i(r);!function(e,r){var n=document.getElementById(e);if(!n)return console.warn("Could not locate ad target element!"),Promise.reject();var o=function(e){var r=t(".params",e);r||console.error("Could not find ad parameters:",e,"Error:",error);return r.targetingModifiers=[window.__bloomberg__.byzantium.getTags,window.__bloomberg__.byzantium.getAdRecommendations,l,b],c({targeting:{url:window.location.pathname}},r)}(n),i=t("#page-level-ad-config-".concat(o.pageId),document,{}),u={targeting:r},a=c.all([i,o,u]);window.Sparkle.cmd.push((function(){window.Sparkle.createAd(a).then((function(e){e.onRender((function(){n.setAttribute("data-ad-status","rendered"),window.__bloomberg__.eventBus.publish("hub-ad-render",{element:n,config:a})})),e.onEmpty((function(){n.setAttribute("data-ad-status","empty"),window.__bloomberg__.eventBus.publish("hub-ad-empty",{element:n,config:a})}))})).catch((function(r){console.error("Could not instantiate ad:",e,"Error:",r)}))}))}(e,n)}}))}function f(e){if(e)for(var r=e.querySelectorAll(".page-ad"),n=0,t=r.length;n<t;++n)d(r[n].id)}function p(){s.query={enabled:!1,values:{}}}function w(){for(var e=document.getElementsByClassName("ad"),r=0;r<e.length;++r)e[r].setAttribute("debug",!0);window.Sparkle.cmd.push((function(){window.Sparkle.showDebugInformation(),window.Sparkle.showDebugInformationOnRender()}))}!function(){window.Sparkle.cmd.push((function(){var e;window.Sparkle.init({networkCode:a,breakpoints:{mobile:0,tablet:760,small_desktop:1020,large_desktop:1280},adBlockerShouldBeBlocked:(e=document.getElementsByTagName("html")[0].getAttribute("lang")||"en","ja"!==e)}),window.__bloomberg__.ads.renderAdsInElement=f,window.__bloomberg__.ads.updateCorrelator=window.Sparkle.updateCorrelator.bind(window.Sparkle),window.__bloomberg__.ads.disableRenderByQuery=p,window.showMeTheMoney=w})),document.querySelector(".superburst-container")&&(window.__bloomberg__.fetchSuperBurstParam=new Promise((function(e){window.addEventListener("message",(function r(n){n.data.hasOwnProperty("srnd")&&(s.superburst={enabled:!0,srnd:n.data.srnd},window.removeEventListener("message",r),e(n.data))}))})));(function(){var e=o();e.debugAds&&w();s.query={enabled:!0,values:e}})(),window.__bloomberg__.ads.queue.forEach(d),window.__bloomberg__.ads.queue=[],window.__bloomberg__.ads.enqueue=d,f(document),window.__bloomberg__.eventBus.subscribe("zones-lazy-loaded",(function(e){f(e.container)}),{replay:!1})}()},217:function(e,r,n){var t=n(135);e.exports=function(e,r,n){r||(r=document);var o=r.querySelector(e);return o?t(o.textContent,n):n}},218:function(e,r){e.exports=function(e){var r=e.userState,n=void 0===r?{}:r,t=e.isBlocked;return n.isTerminalSubscriber?{subscriber:"term"}:n.isBBGSubscriber?{subscriber:"yes"}:t?{subscriber:"wall"}:{subscriber:"no"}}},219:function(e,r){function n(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function t(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}e.exports=function(e){window.__bloomberg__.eventBus.subscribe("user-sign-in-status",(function r(n){var o=n.isBBGSubscriber,i=n.isTerminalSubscriber,u={isBBGSubscriber:Boolean(o),isTerminalSubscriber:Boolean(i)};!function(e,r){if(!window._fence)return void e({});window._fence.ready((function(){window._fence.isBlockedPromise.then((function(n){n.isFortressEnabled||e(t(t({},n),{},{userState:r}))}))}))}(e,u),function(e,r){var n=function n(t){var o=t.result,i=t.details.isUsingOverlay;e({isBlocked:"block"===o,isUsingOverlay:i,userState:r}),window.__bloomberg__.eventBus.unsubscribe("fortress-decision",n)};window.__bloomberg__.eventBus.subscribe("fortress-decision",n)}(e,u),window.__bloomberg__.eventBus.unsubscribe("user-sign-in-status",r)}))}},220:function(e,r){e.exports={BLOOMBERG_AD_NETWORK_ID:"5262"}}})}));