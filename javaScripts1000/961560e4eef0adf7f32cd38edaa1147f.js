if (self.CavalryLogger) { CavalryLogger.start_js(["EaoJo3M"]); }

__d("SUICloseButton.react",["cx","fbt","KeyStatus","Locale","SUITheme","VirtualCursorStatus","joinClasses","prop-types","react","withSUITheme"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a={label:i._("\u0110\u00f3ng"),shade:"dark",size:"small"};b=function(a){babelHelpers.inheritsLoose(b,a);b.getHeightForSize=function(a,b){return a.SUICloseButton.iconSize[b]};function b(b,c){var e;e=a.call(this,b,c)||this;e.buttonRef=j.createRef();e.$1=function(a){e.setState({showFocusRing:!1})};e.$2=function(a){(d("KeyStatus").isKeyDown()||d("VirtualCursorStatus").isVirtualCursorTriggered())&&e.setState({showFocusRing:!0})};e.$3=function(a){e.setState({showFocusRing:!1})};e.$4=function(){e.setState({isHovering:!0})};e.$5=function(){e.setState({isHovering:!1})};e.state={isHovering:!1,showFocusRing:!1};return e}var e=b.prototype;e.render=function(){var a=this.props,b=a.className_DEPRECATED,e=a.label,f=a.layerCancel,g=a.margin,h=a.size,i=a.shade,k=a.style,l=a.theme;a=babelHelpers.objectWithoutPropertiesLoose(a,["className_DEPRECATED","label","layerCancel","margin","size","shade","style","theme"]);void l;l=c("SUITheme").get(this).SUICloseButton;i=l[i][h];l=l.iconSize[h];h="-"+Math.floor(l/2)+"px";k=this.props.useLegacyPadding===!0?babelHelpers["extends"]({},k):babelHelpers["extends"]({},k,{height:l,width:l});var m=this.props.disabled===!0;a=a;Object.keys(k).length>0&&(a=babelHelpers["extends"]({},a,{style:k}));k=(k=a["data-tooltip-content"])!=null?k:e;return j.jsxs("button",babelHelpers["extends"]({},a,{className:c("joinClasses")((this.state.showFocusRing?"":"_42d_")+(this.props.useLegacyPadding?" _2aq4":"")+" _32qq"+(m?"":" _3n5r")+(f?" layerCancel":""),b,g),onBlur:this.$1,onFocus:this.$2,onMouseDown:this.$3,onMouseEnter:this.$4,onMouseLeave:this.$5,ref:this.buttonRef,type:"button",children:[j.jsx("span",{className:"accessible_elem",children:k}),j.jsx("span",{"aria-hidden":!0,className:"_3n5s",style:(e={},e[d("Locale").isRTL()?"marginRight":"marginLeft"]=h,e.marginTop=h,e),children:j.jsx(i,{disabled:m,hover:this.state.isHovering,size:l})})]}))};e.focus=function(){this.buttonRef.current!=null&&this.buttonRef.current.focus()};return b}(j.PureComponent);b.defaultProps=a;b.propTypes={disabled:c("prop-types").bool,label:c("prop-types").node,layerCancel:c("prop-types").bool,margin:c("prop-types").string,onClick:c("prop-types").func,onFocus:c("prop-types").func,onMouseDown:c("prop-types").func,onMouseUp:c("prop-types").func,shade:c("prop-types").oneOf(["dark","light"]),size:c("prop-types").oneOf(["small","large"]),theme:c("prop-types").instanceOf(c("SUITheme"))};e=c("withSUITheme")(b);g["default"]=e}),98);
__d("getSUICloseButtonUniform.fds",["ix","SUIGlyphIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return{dark:{large:function(a){return i.jsx(c("SUIGlyphIcon.react"),babelHelpers["extends"]({},a,{srcDefault:h("499680"),srcDisabled:h("490191"),srcHover:h("499681")}))},small:function(a){return i.jsx(c("SUIGlyphIcon.react"),babelHelpers["extends"]({},a,{srcDefault:h("499672"),srcDisabled:h("490190"),srcHover:h("499673")}))}},light:{large:function(a){return i.jsx(c("SUIGlyphIcon.react"),babelHelpers["extends"]({},a,{srcDefault:h("489948"),srcDisabled:h("499675"),srcHover:h("499674")}))},small:function(a){return i.jsx(c("SUIGlyphIcon.react"),babelHelpers["extends"]({},a,{srcDefault:h("489947"),srcDisabled:h("499667"),srcHover:h("499666")}))}},iconSize:{large:16,small:12}}}g["default"]=a}),98);
__d("SUICloseButtonUniform.fds",["getSUICloseButtonUniform.fds"],(function(a,b,c,d,e,f,g){"use strict";a=c("getSUICloseButtonUniform.fds")();g["default"]=a}),98);
__d("makeSUIFDSPrivateTheme",["SUITheme"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return new(c("SUITheme"))({id:a,components:b})}g["default"]=a}),98);
__d("FDSCloseButton.react",["fbt","SUICloseButton.react","SUICloseButtonUniform.fds","makeFDSStandardComponent","makeSUIFDSPrivateTheme","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("makeSUIFDSPrivateTheme")("FDSCloseButton",{SUICloseButton:c("SUICloseButtonUniform.fds")});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props;return i.jsx(c("SUICloseButton.react"),{"data-hover":a.tooltipContent!==null&&a.tooltipContent!==void 0?"tooltip":null,"data-testid":void 0,"data-tooltip-alignh":a.tooltipAlignH,"data-tooltip-content":a.tooltipContent,"data-tooltip-position":a.tooltipPosition,disabled:a.isDisabled,id:a.id,label:a.label,layerCancel:a.layerCancel,margin:a.margin,onClick:a.onClick,onFocus:a.onFocus,onMouseDown:a.onMouseDown,onMouseUp:a.onMouseUp,shade:a.shade,size:a.size,theme:j})};return b}(i.PureComponent);a.defaultProps={isDisabled:!1,label:h._("\u0110\u00f3ng"),shade:"dark",size:"small"};b=c("makeFDSStandardComponent")("FDSCloseButton",a);g["default"]=b}),98);
__d("FDSPrivateSizeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b}),98);
__d("FDSBaseTextInput.react",["cx","AbstractTextInput.react","FDSCloseButton.react","FDSFormUtils","FDSMultiElementLayoutContext","FDSPrivateDisabledContext","FDSPrivateInputSelectors","FDSPrivateSizeContext","FDSPrivateThemeContext.react","FDSPrivateThemeUtils","Image.react","emptyFunction","isStringNullOrEmpty","makeFDSStandardComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isFocused:!1},c.$1=i.createRef(),c.$2=function(a){a=a.target.value;c.props.onChange(a)},c.$3=function(a){if(c.props.onEnter){var b=a.currentTarget.value;c.props.onEnter(b,a)}},c.$4=function(a){c.setState({isFocused:!1}),c.props.onBlur&&c.props.onBlur(a)},c.$5=function(a){c.setState({isFocused:!0}),c.props.onFocus&&c.props.onFocus(a)},c.$6=function(){c.props.onClear&&c.props.onClear(),c.focus()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$7=function(a,b){return!c("isStringNullOrEmpty")(a)&&b!=null?i.jsx(c("FDSCloseButton.react"),{"data-testid":void 0,onClick:this.$6,size:"large"}):null};e.$8=function(a,b,e){if(b)return b;b=d("FDSFormUtils").getIconSrc(a,null,e);return b!=null?i.jsx(c("Image.react"),{src:b}):null};e.focus=function(){this.$1.current&&this.$1.current.focusInput()};e.blur=function(){this.$1.current&&this.$1.current.blurInput()};e.select=function(){this.$1.current&&this.$1.current.selectInput()};e.render=function(){var a=this,b=this.props,e=b.autoComplete,f=b.busyIndicator,g=b.describedBy,h=b.dir,j=b.errorMessageId,k=b.hasError,l=b.hasWarning,m=b.htmlForTargetId,n=b.icon,o=b.inputRef,p=b.isEdited,q=b.isValid,r=b.labelledBy,s=b.maxLength,t=b.name,u=b.onClear,v=b.onKeyDown,w=b.onKeyUp,x=b.onPaste,y=b.placeholder,z=b.rightContent,A=b.type,B=b.value,C;k?C="error":l?C="warning":q===!0&&(C="validated");var D=this.state.isFocused||this.props.isHighlighted===!0;return i.jsx(c("FDSMultiElementLayoutContext").Consumer,{children:function(b){var E=b.getLayout;return i.jsx(c("FDSPrivateSizeContext").Consumer,{children:function(b){return i.jsx(c("FDSPrivateDisabledContext").Consumer,{children:function(F){return i.jsx(c("FDSPrivateThemeContext.react").Consumer,{children:function(G){var H=F!=null?F:a.props.isDisabled,I=b!=null?b:a.props.size,J=d("FDSPrivateThemeUtils").isGeo(G),K=E!=null?E(D):void 0;I=d("FDSPrivateInputSelectors").getInputStyle({isFocused:D,isDisabled:H,size:I,hasError:k,hasWarning:l,isValid:q,isEdited:p,atoms:G});return i.jsxs("span",{className:"_2gn0"+(J?" _8o2t":""),style:babelHelpers["extends"]({},I,K,{"--background-color":I.backgroundColor}),children:[i.jsx(c("AbstractTextInput.react"),{"aria-busy":f!=null?!0:void 0,"aria-describedby":g,"aria-errormessage":j,"aria-invalid":j?"true":"false","aria-labelledby":r,autoComplete:e,className:"_2gnb"+(!H&&u?" _7_n4":""),"data-testid":void 0,dir:h,disabled:H,id:m,inputRef:o,maxLength:s,name:t,onBlur:a.$4,onChange:a.$2,onClick:a.props.onClick,onEnter:a.$3,onFocus:a.$5,onKeyDown:v,onKeyUp:w,onPaste:x,placeholder:y,ref:a.$1,type:A,useLabel:!1,value:B}),z,f,!H&&a.$7(B,u),a.$8(C,n,J)]})}})}})}})}})};return b}(i.PureComponent);a.defaultProps={hasError:!1,hasWarning:!1,isDisabled:!1,isEdited:!1,isValid:null,onChange:c("emptyFunction"),size:"large",type:"text"};b=c("makeFDSStandardComponent")("FDSBaseTextInput",a);g["default"]=b}),98);
__d("FDSTextInput.react",["FDSBaseTextInput.react","FDSFormInputLayout.react","FDSPrivateFormCounter.react","emptyFunction","makeFDSStandardComponent","react","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={innerValue:(b=e.props.value)!=null?b:"",value:e.props.value},e.$1=h.createRef(),e.$2=c("uniqueID")(),e.focus=function(){e.$1.current&&e.$1.current.focus()},e.blur=function(){e.$1.current&&e.$1.current.blur()},e.$3=function(a){e.setState({innerValue:a}),e.props.onChange(a)},e.$4=function(){e.setState({innerValue:""}),e.props.onClear&&e.props.onClear()},d)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a,b){if(b.value!==a.value){return{innerValue:(b=a.value)!=null?b:"",value:a.value}}return null};var d=b.prototype;d.select=function(){this.$1.current&&this.$1.current.select()};d.render=function(){var a=this,b=this.props,d=b.autoComplete,e=b.busyIndicator,f=b["data-clear-testid"],g=b["data-counter-testid"];g=b["data-testid"];g=b.describedBy;var i=b.description,j=b.dir,k=b.disabledMessage,l=b.errorMessage,m=b.icon,n=b.inputRef,o=b.isDisabled,p=b.isEdited,q=b.isHighlighted,r=b.isOptional,s=b.isValid,t=b.label,u=b.labelIsHidden,v=b.maxLength,w=b.name,x=b.onBlur,y=b.onClear,z=b.onClick,A=b.onEnter,B=b.onFocus,C=b.onKeyDown,D=b.onKeyUp,E=b.onPaste,F=b.placeholder,G=b.rightContent,H=b.size,I=b.tooltipText,J=b.type,K=b.warningMessage,L=(b=this.props.value)!=null?b:this.state.innerValue;b=v!=null?h.jsx(c("FDSPrivateFormCounter.react"),{count:L.length,"data-testid":void 0,limit:v}):null;return h.jsx(c("FDSFormInputLayout.react"),{describedBy:g,description:i,disabledMessage:k,errorMessage:l,infoTooltipText:I,inputId:this.$2,isDisabled:o,isOptional:r,label:t,labelIsHidden:u,labelSupplementaryContent:b,warningMessage:K,children:function(b){var g=b.labelledBy,i=b.describedBy;b=b.errorMessageId;return h.jsx(c("FDSBaseTextInput.react"),{autoComplete:d,busyIndicator:e,"data-clear-testid":f,"data-testid":void 0,describedBy:i,dir:j,errorMessageId:b,hasError:!!l,hasWarning:!!K,htmlForTargetId:a.$2,icon:m,inputRef:n,isDisabled:o,isEdited:p,isHighlighted:q,isValid:s,labelledBy:g,maxLength:v,name:w,onBlur:x,onChange:a.$3,onClear:y&&a.$4,onClick:z,onEnter:A,onFocus:B,onKeyDown:C,onKeyUp:D,onPaste:E,placeholder:F,ref:a.$1,rightContent:G,size:H,type:J,value:L})}})};return b}(h.PureComponent);a.defaultProps={isDisabled:!1,isEdited:!1,isValid:null,labelIsHidden:!1,onChange:c("emptyFunction"),size:"large",type:"text"};b=c("makeFDSStandardComponent")("FDSTextInput",a);g["default"]=b}),98);
__d("CIWebmailValidator",["AsyncRequest","URI"],(function(a,b,c,d,e,f,g){var h,i=!1,j=!1,k=[];function l(a){var b=a.tokens;delete a.tokens;for(var c in a){var d=a[c];for(var e in b){if(!Object.prototype.hasOwnProperty.call(b,e))continue;var f=e.replace(/([.?*+\^$\[\]\\(){}\-])/g,"\\$1");f=new RegExp(f,"g");d=d.replace(f,b[e])}a[c]=d}h=a;i=!0;while(k.length>0)k.shift()()}var m=null,n=null;function a(){return i}function b(b,a,c){!i&&!j&&(h=b),this.flow=a,this.useCase=c}function d(a){var b=new RegExp(/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);return b.test(a)}function e(a){a=a.split("@");return a[0]}function f(a){a=a.split("@");return a[1]}function o(a){var b=["msft","yahoo","gmail","yahoo_jp","ezweb_jp","mailru","other"];a=a.split(/\./);for(var c=0;c<a.length-1;c++){var d=a.slice(c).join(".");d="|"+d.toLowerCase();for(var e=0;e<b.length;e++){var f=b[e];if(h[f].indexOf(d)!=-1)return f}}return null}function p(a){return this.getDomainImporterName(this.getDomain(a))}function q(a){return this.getImporterName(a)=="gmail"}function r(a){a=this.getDomainImporterName(this.getDomain(a));return a!=null}function s(a){if(i){a&&a();return}a&&k.push(a);a=new(c("URI"))("/contact_importer/ajax/get_domains.php").addQueryData({flow:this.flow,use_case:this.useCase});j||(j=!0,new(c("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();l(a)}).send())}function t(a){l(a)}g.flow=m;g.useCase=n;g.hasFullMapping=a;g.init=b;g.isValidEmail=d;g.getLocal=e;g.getDomain=f;g.getDomainImporterName=o;g.getImporterName=p;g.isGmailDomain=q;g.isSupportedDomain=r;g.downloadDomainMapping=s;g.setDomainMapping=t}),98);
__d("ChatPluginSetupFlowE2ETestUtils",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=8959;c=8960;d=9233;e=9339;var g="chat-plugin-setup-flow-container",h="create-code-button",aa="setup-modal",i="locale-selector",j="setup-modal-next-button",k="setup-modal-add-domain-button",l="setup-modal-new-domain-input",m="setup-modal-copy-code-button",n="setup-modal-email-instructions-link",o="setup-modal-email-recipients-input",p="setup-modal-send-email-next-button",ba="no-domains-main-panel-error",ca="domains-list-text",da="edit-domains-modal",q="edit-domains-button",r="edit-domains-save-button",s="automation-section",t="automation-section-container",u="automation-welcome-message-toggle",v="automation-welcome-message-input",w="automation-welcome-message-edit-button",x="automation-welcome-message-collapse-button",y="automation-faq-toggle",z="automation-faq-entry-question-input-",A="automation-faq-entry-response-input-",B="automation-faq-entry-edit-button-",C="automation-faq-entry-collapse-button-",D="automation-faq-entry-delete-button-",E="automation-faq-add-button",F="customization-section",G="customization-section-container",H="customization-greeting-edit-button",I="customization-greeting-collapse-button",J="customization-greeting-input",K="customization-guest-mode-toggle",L="customization-theme-color-toggle",M="customization-theme-color-list-item",N="customization-theme-color-input",ea="customization-theme-color-warning-notice",O="customization-alignment-selector",P="customization-desktop-bottom-spacing-input",Q="customization-mobile-bottom-spacing-input",R="customization-desktop-side-spacing-input",S="customization-mobile-side-spacing-input",T="customization-auto-expand-toggle",U="customization-mobile-optin",V="publish-button",fa="publish-toast",ga="preview-tab-desktop-button",ha="preview-tab-mobile-button",ia="preview-desktop-frame",ja="preview-mobile-frame",ka="preview-messenger-icon-button",la="preview-desktop-thread-page-container",ma="preview-thread-page-close-button",na="preview-mobile-thread-page-container",oa="preview-desktop-welcome-page-modal-container",pa="preview-desktop-welcome-page-modal-close-button",qa="preview-mobile-welcome-page-modal-container",ra="preview-mobile-welcome-page-modal-close-button",W="nux-welcome-modal-container",X="nux-step-setup-container",Y="nux-step-automation-container",Z="nux-step-customization-container",$="nux-step-publish-container",sa="wordpress-setup-page-selector",ta="wordpress-setup-continue-button",ua=function(a){return"wordpress-setup-page-selector-option-"+a},va="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eu felis eget nulla scelerisque sodales. Sed orci dolor, laoreet dictum neque vel, scelerisque ullamcorper nibh. Curabitur interdum mauris sit amet mauris tempor fringilla. Vestibulum semper lorem vitae libero sagittis pulvinar. Donec at arcu at sem euismod convallis. Aenean vitae dui vitae eros laoreet interdum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed porttitor dignissim nibh vitae condimentum.",wa=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(za(a));case 2:case"end":return c.stop()}},null,this)},xa="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eu felis eget nulla scelerisque sodales. Sed orci dolor, laoreet dictum neque vel, scelerisque ullamcorper nibh. Curabitur interdum mauris sit amet mauris tempor fringilla. Vestibulum semper lorem vitae libero sagittis pulvinar. Donec at arcu at sem euismod convallis. Aenean vitae dui vitae eros laoreet interdum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed porttitor dignissim nibh vit",ya="Lorem ipsum dolor sit amet, consectetur adipi",za=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e2e.navigate("/latest/inbox/chat_plugin?asset_id="+a,{subdomain:"business"}));case 2:case"end":return c.stop()}},null,this)},Aa=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e2e.navigate("/"+a+"/inbox"));case 2:c.next=4;return b("regeneratorRuntime").awrap(e2e.switchContext({selector:"iframe",target:"iframe"}));case 4:c.next=6;return b("regeneratorRuntime").awrap(e2e.click('[data-testid="chat_plugin_card"]'));case 6:case"end":return c.stop()}},null,this)},Ba=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e2e.navigate("/"+a+"/settings/?tab=messaging"));case 2:c.next=4;return b("regeneratorRuntime").awrap(e2e.switchContext({selector:"iframe",target:"iframe"}));case 4:c.next=6;return b("regeneratorRuntime").awrap(e2e.click('PresmaSettingsActionButton:text("Get Started")'));case 6:case"end":return c.stop()}},null,this)},Ca=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e2e.navigate("/customer_chat/dialog/?domain=https://facebook.com"));case 2:c.next=4;return b("regeneratorRuntime").awrap(e2e.click(sa));case 4:c.next=6;return b("regeneratorRuntime").awrap(e2e.click(ua(a)));case 6:c.next=8;return b("regeneratorRuntime").awrap(e2e.click(ta));case 8:case"end":return c.stop()}},null,this)},Da=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(e2e.click(F));case 2:a.next=4;return b("regeneratorRuntime").awrap(expect(G).not.toBePresent());case 4:a.next=6;return b("regeneratorRuntime").awrap(expect(t).toBePresent());case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click(s));case 8:a.next=10;return b("regeneratorRuntime").awrap(expect(G).not.toBePresent());case 10:a.next=12;return b("regeneratorRuntime").awrap(expect(t).toBePresent());case 12:case"end":return a.stop()}},null,this)},Ea=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(e2e.click(F));case 2:a.next=4;return b("regeneratorRuntime").awrap(expect(G).toBePresent());case 4:a.next=6;return b("regeneratorRuntime").awrap(expect(t).not.toBePresent());case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click(s));case 8:a.next=10;return b("regeneratorRuntime").awrap(expect(G).toBePresent());case 10:a.next=12;return b("regeneratorRuntime").awrap(expect(t).not.toBePresent());case 12:case"end":return a.stop()}},null,this)},Fa=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(e2e.click(F));case 2:a.next=4;return b("regeneratorRuntime").awrap(expect(G).toBePresent());case 4:a.next=6;return b("regeneratorRuntime").awrap(expect(t).not.toBePresent());case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click(s));case 8:a.next=10;return b("regeneratorRuntime").awrap(expect(G).not.toBePresent());case 10:a.next=12;return b("regeneratorRuntime").awrap(expect(t).toBePresent());case 12:case"end":return a.stop()}},null,this)},Ga=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(expect(g).toBePresent());case 2:a.next=4;return b("regeneratorRuntime").awrap(e2e.click(h));case 4:a.next=6;return b("regeneratorRuntime").awrap(e2e.click(i));case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click('div:text("Afrikaans")'));case 8:a.next=10;return b("regeneratorRuntime").awrap(e2e.click(j));case 10:a.next=12;return b("regeneratorRuntime").awrap(e2e.type(l,"https://facebook.com"));case 12:a.next=14;return b("regeneratorRuntime").awrap(e2e.keyboard.press("Enter",l));case 14:a.next=16;return b("regeneratorRuntime").awrap(e2e.click(k));case 16:a.next=18;return b("regeneratorRuntime").awrap(e2e.type(l,"https://messenger.com"));case 18:a.next=20;return b("regeneratorRuntime").awrap(e2e.keyboard.press("Enter",l));case 20:a.next=22;return b("regeneratorRuntime").awrap(e2e.click(j));case 22:a.next=24;return b("regeneratorRuntime").awrap(e2e.click(n));case 24:a.next=26;return b("regeneratorRuntime").awrap(e2e.click(o));case 26:a.next=28;return b("regeneratorRuntime").awrap(e2e.type(o,"doesntexist@facebook.com"));case 28:a.next=30;return b("regeneratorRuntime").awrap(e2e.keyboard.press("Enter",o+" input"));case 30:a.next=32;return b("regeneratorRuntime").awrap(e2e.click(p));case 32:a.next=34;return b("regeneratorRuntime").awrap(e2e.click(p));case 34:a.next=36;return b("regeneratorRuntime").awrap(e2e.click(m));case 36:a.next=38;return b("regeneratorRuntime").awrap(e2e.click(j));case 38:a.next=40;return b("regeneratorRuntime").awrap(e2e.click(j));case 40:a.next=42;return b("regeneratorRuntime").awrap(e2e.click(j));case 42:a.next=44;return b("regeneratorRuntime").awrap(e2e.click(q));case 44:a.next=46;return b("regeneratorRuntime").awrap(e2e.click(k));case 46:a.next=48;return b("regeneratorRuntime").awrap(e2e.type(l,"https://instagram.com"));case 48:a.next=50;return b("regeneratorRuntime").awrap(e2e.keyboard.press("Enter",l));case 50:a.next=52;return b("regeneratorRuntime").awrap(e2e.click(r));case 52:case"end":return a.stop()}},null,this)},Ha=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(expect(g).toBePresent());case 2:a.next=4;return b("regeneratorRuntime").awrap(e2e.click(u));case 4:a.next=6;return b("regeneratorRuntime").awrap(e2e.click(u));case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.type(v,"test"));case 8:a.next=10;return b("regeneratorRuntime").awrap(e2e.click(x));case 10:a.next=12;return b("regeneratorRuntime").awrap(e2e.click(w));case 12:a.next=14;return b("regeneratorRuntime").awrap(e2e.click(E));case 14:a.next=16;return b("regeneratorRuntime").awrap(e2e.type(z+"0","Question 0"));case 16:a.next=18;return b("regeneratorRuntime").awrap(e2e.type(A+"0","Response 0"));case 18:a.next=20;return b("regeneratorRuntime").awrap(e2e.click(C+"0"));case 20:a.next=22;return b("regeneratorRuntime").awrap(e2e.click(B+"0"));case 22:a.next=24;return b("regeneratorRuntime").awrap(e2e.click(D+"0"));case 24:a.next=26;return b("regeneratorRuntime").awrap(e2e.click(E));case 26:a.next=28;return b("regeneratorRuntime").awrap(e2e.type(z+"0","Question 0"));case 28:a.next=30;return b("regeneratorRuntime").awrap(e2e.type(A+"0","Response 0"));case 30:a.next=32;return b("regeneratorRuntime").awrap(e2e.click(E));case 32:a.next=34;return b("regeneratorRuntime").awrap(e2e.type(z+"1","Question 1"));case 34:a.next=36;return b("regeneratorRuntime").awrap(e2e.type(A+"1","Response 1"));case 36:a.next=38;return b("regeneratorRuntime").awrap(e2e.click(y));case 38:a.next=40;return b("regeneratorRuntime").awrap(e2e.click(y));case 40:a.next=42;return b("regeneratorRuntime").awrap(e2e.click(V));case 42:case"end":return a.stop()}},null,this)},Ia=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(expect(g).toBePresent());case 2:a.next=4;return b("regeneratorRuntime").awrap(e2e.click(F));case 4:a.next=6;return b("regeneratorRuntime").awrap(e2e.click(H));case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.type(J,"test"));case 8:a.next=10;return b("regeneratorRuntime").awrap(e2e.click(I));case 10:a.next=12;return b("regeneratorRuntime").awrap(e2e.click(K));case 12:a.next=14;return b("regeneratorRuntime").awrap(e2e.click(L));case 14:a.next=16;return b("regeneratorRuntime").awrap(e2e.click(M));case 16:a.next=18;return b("regeneratorRuntime").awrap(e2e.clear(N));case 18:a.next=20;return b("regeneratorRuntime").awrap(e2e.type(N,"#000000"));case 20:a.next=22;return b("regeneratorRuntime").awrap(e2e.click(O));case 22:a.next=24;return b("regeneratorRuntime").awrap(e2e.click('div:text("Left")'));case 24:a.next=26;return b("regeneratorRuntime").awrap(e2e.clear(P));case 26:a.next=28;return b("regeneratorRuntime").awrap(e2e.type(P,"0"));case 28:a.next=30;return b("regeneratorRuntime").awrap(e2e.clear(Q));case 30:a.next=32;return b("regeneratorRuntime").awrap(e2e.type(Q,"0"));case 32:a.next=34;return b("regeneratorRuntime").awrap(e2e.clear(R));case 34:a.next=36;return b("regeneratorRuntime").awrap(e2e.type(R,"0"));case 36:a.next=38;return b("regeneratorRuntime").awrap(e2e.clear(S));case 38:a.next=40;return b("regeneratorRuntime").awrap(e2e.type(S,"0"));case 40:a.next=42;return b("regeneratorRuntime").awrap(e2e.click(T));case 42:a.next=44;return b("regeneratorRuntime").awrap(e2e.click(U));case 44:a.next=46;return b("regeneratorRuntime").awrap(e2e.click('div:text("Stay in the Chat Tab")'));case 46:a.next=48;return b("regeneratorRuntime").awrap(e2e.click(V));case 48:case"end":return a.stop()}},null,this)},Ja=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(expect(W).toBePresent());case 2:a.next=4;return b("regeneratorRuntime").awrap(e2e.click('em:text("Next")'));case 4:a.next=6;return b("regeneratorRuntime").awrap(expect(X).toBePresent());case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click(X+' div:text("Next")'));case 8:a.next=10;return b("regeneratorRuntime").awrap(expect(Y).toBePresent());case 10:a.next=12;return b("regeneratorRuntime").awrap(e2e.click(Y+' div:text("Next")'));case 12:a.next=14;return b("regeneratorRuntime").awrap(expect(Z).toBePresent());case 14:a.next=16;return b("regeneratorRuntime").awrap(e2e.click(Z+' div:text("Next")'));case 16:a.next=18;return b("regeneratorRuntime").awrap(expect($).toBePresent());case 18:a.next=20;return b("regeneratorRuntime").awrap(e2e.click($+' div:text("Done")'));case 20:a.next=22;return b("regeneratorRuntime").awrap(expect(W).not.toBePresent());case 22:a.next=24;return b("regeneratorRuntime").awrap(expect(X).not.toBePresent());case 24:a.next=26;return b("regeneratorRuntime").awrap(expect(Y).not.toBePresent());case 26:a.next=28;return b("regeneratorRuntime").awrap(expect(Z).not.toBePresent());case 28:a.next=30;return b("regeneratorRuntime").awrap(expect($).not.toBePresent());case 30:case"end":return a.stop()}},null,this)};f.FBNUX_ID_PAGE_INBOX=a;f.FBNUX_ID_PAGE_SETTINGS=c;f.FBNUX_ID_WORDPRESS=d;f.FBNUX_ID_FBE_FBS_MV=e;f.SETUP_FLOW_CONTAINER_TEST_ID=g;f.CREATE_CODE_BUTTON_TEST_ID=h;f.SETUP_MODAL_TEST_ID=aa;f.LOCALE_SELECTOR_TEST_ID=i;f.SETUP_MODAL_NEXT_BUTTON_TEST_ID=j;f.SETUP_MODAL_ADD_DOMAIN_BUTTON_TEST_ID=k;f.SETUP_MODAL_NEW_DOMAIN_INPUT_TEST_ID=l;f.SETUP_MODAL_COPY_CODE_BUTTON_TEST_ID=m;f.SETUP_MODAL_EMAIL_INSTRUCTIONS_LINK_TEST_ID=n;f.SETUP_MODAL_EMAIL_RECIPIENTS_INPUT_TEST_ID=o;f.SETUP_MODAL_SEND_EMAIL_NEXT_BUTTON_TEST_ID=p;f.NO_DOMAINS_MAIN_PANEL_ERROR_TEST_ID=ba;f.DOMAINS_LIST_TEXT_TEST_ID=ca;f.EDIT_DOMAINS_MODAL_TEST_ID=da;f.EDIT_DOMAINS_BUTTON_TEST_ID=q;f.EDIT_DOMAINS_SAVE_BUTTON_TEST_ID=r;f.AUTOMATION_SECTION_TEST_ID=s;f.AUTOMATION_SECTION_CONTAINER_TEST_ID=t;f.AUTOMATION_WELCOME_MESSAGE_TOGGLE_TEST_ID=u;f.AUTOMATION_WELCOME_MESSAGE_INPUT_TEST_ID=v;f.AUTOMATION_WELCOME_MESSAGE_EDIT_BUTTON_TEST_ID=w;f.AUTOMATION_WELCOME_MESSAGE_COLLAPSE_BUTTON_TEST_ID=x;f.AUTOMATION_FAQ_TOGGLE_TEST_ID=y;f.AUTOMATION_FAQ_ENTRY_QUESTION_INPUT_TEST_ID_PREFIX=z;f.AUTOMATION_FAQ_ENTRY_RESPONSE_INPUT_TEST_ID_PREFIX=A;f.AUTOMATION_FAQ_ENTRY_EDIT_BUTTON_TEST_ID_PREFIX=B;f.AUTOMATION_FAQ_ENTRY_COLLAPSE_BUTTON_TEST_ID_PREFIX=C;f.AUTOMATION_FAQ_ENTRY_DELETE_BUTTON_TEST_ID_PREFIX=D;f.AUTOMATION_FAQ_ADD_BUTTON_TEST_ID=E;f.CUSTOMIZATION_SECTION_TEST_ID=F;f.CUSTOMIZATION_SECTION_CONTAINER_TEST_ID=G;f.CUSTOMIZATION_GREETING_EDIT_BUTTON_TEST_ID=H;f.CUSTOMIZATION_GREETING_COLLAPSE_BUTTON_TEST_ID=I;f.CUSTOMIZATION_GREETING_INPUT_TEST_ID=J;f.CUSTOMIZATION_GUEST_MODE_TOGGLE_TEST_ID=K;f.CUSTOMIZATION_THEME_COLOR_TOGGLE_TEST_ID=L;f.CUSTOMIZATION_THEME_COLOR_LIST_ITEM_TEST_ID=M;f.CUSTOMIZATION_THEME_COLOR_INPUT_TEST_ID=N;f.CUSTOMIZATION_THEME_COLOR_WARNING_NOTICE_TEST_ID=ea;f.CUSTOMIZATION_ALIGNMENT_SELECTOR_TEST_ID=O;f.CUSTOMIZATION_DESKTOP_BOTTOM_SPACING_INPUT_TEST_ID=P;f.CUSTOMIZATION_MOBILE_BOTTOM_SPACING_INPUT_TEST_ID=Q;f.CUSTOMIZATION_DESKTOP_SIDE_SPACING_INPUT_TEST_ID=R;f.CUSTOMIZATION_MOBILE_SIDE_SPACING_INPUT_TEST_ID=S;f.CUSTOMIZATION_AUTO_EXPAND_TOGGLE_TEST_ID=T;f.CUSTOMIZATION_MOBILE_OPTIN_TEST_ID=U;f.PUBLISH_BUTTON_TEST_ID=V;f.PUBLISH_TOAST_TEST_ID=fa;f.PREVIEW_TAB_DESKTOP_BUTTON_TEST_ID=ga;f.PREVIEW_TAB_MOBILE_BUTTON_TEST_ID=ha;f.PREVIEW_DESKTOP_FRAME_TEST_ID=ia;f.PREVIEW_MOBILE_FRAME_TEST_ID=ja;f.PREVIEW_MESSENGER_ICON_BUTTON_TEST_ID=ka;f.PREVIEW_DESKTOP_THREAD_PAGE_CONTAINER_TEST_ID=la;f.PREVIEW_THREAD_PAGE_CLOSE_BUTTON_TEST_ID=ma;f.PREVIEW_MOBILE_THREAD_PAGE_CONTAINER_TEST_ID=na;f.PREVIEW_DESKTOP_WELCOME_PAGE_MODAL_CONTAINER_TEST_ID=oa;f.PREVIEW_DESKTOP_WELCOME_PAGE_MODAL_CLOSE_BUTTON_TEST_ID=pa;f.PREVIEW_MOBILE_WELCOME_PAGE_MODAL_CONTAINER_TEST_ID=qa;f.PREVIEW_MOBILE_WELCOME_PAGE_MODAL_CLOSE_BUTTON_TEST_ID=ra;f.NUX_WELCOME_MODAL_CONTAINER_TEST_ID=W;f.NUX_STEP_SETUP_CONTAINER_TEST_ID=X;f.NUX_STEP_AUTOMATION_CONTAINER_TEST_ID=Y;f.NUX_STEP_CUSTOMIZATION_CONTAINER_TEST_ID=Z;f.NUX_STEP_PUBLISH_CONTAINER_TEST_ID=$;f.WORDPRESS_SETUP_PAGE_SELECTOR_TEST_ID=sa;f.WORDPRESS_SETUP_CONTINUE_BUTTON_TEST_ID=ta;f.getWordpressSetupPageSelectorOptionTestID=ua;f.LONG_TEXT=va;f.navigateToTestSite=wa;f.LONG_TEXT_500_CHAR=xa;f.LONG_TEXT_45_CHAR=ya;f.navigateToChatPluginSetupBusinessInbox=za;f.navigateToChatPluginSetupPageInbox=Aa;f.navigateToChatPluginSetupPageSettings=Ba;f.navigateToChatPluginSetupWordpress=Ca;f.verifyAutomationSectionToggleIsDisabled=Da;f.verifyCustomizationSectionToggleIsDisabled=Ea;f.verifySectionsCanBeToggled=Fa;f.performDomainSetupFlow=Ga;f.performAutomationSetupFlow=Ha;f.performCustomizationSetupFlow=Ia;f.performNUXFlow=Ja}),66);
__d("MessagingPluginDesktopProfilePicture.react",["cx","Image.react","MPNConstants","MessagingPluginContext","PrivacyTransparentOverlay.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.context.state,b=a.pageProfilePictureUri;a=a.isBusinessActive;var e=this.props,f=e.className;e=e.greenDotSize;e=e===d("MPNConstants").MPNGreenDotSize.LARGE?"_95lb _97p-":"_95lb _97ot";return i.jsxs(c("PrivacyTransparentOverlay.react"),{children:[i.jsx(c("Image.react"),{className:(f=f)!=null?f:"_95la",src:b}),a?i.jsx("div",{className:e}):null]})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginGuestUserEmailCollection.react",["cx","ix","CIWebmailValidator","FDSText.react","FDSTextInput.react","FlexLayout.react","Image.react","MPNConstants","MPNIdentity","MPNLocalState","MPNNavigation","MPNStorage","MPNXDMessageManager","MessagingPluginContext","MessagingPluginDesktopProfilePicture.react","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useContext,l=b.useEffect,m=b.useState;function a(a){var b=k(c("MessagingPluginContext")),e=b.state,f=e.alignment,g=e.pageName;e=e.threadCSSColor;var h=m(null),n=h[0],o=h[1];h=m(null);var p=h[0],q=h[1];h=m(!0);var r=h[0],s=h[1],t="Please enter your email to chat with "+g;h=m(t);g=h[0];var u=h[1];l(function(){n==null||n===""?(s(!0),q(null),u(t)):!d("CIWebmailValidator").isValidEmail(n)?(s(!0),q("Please enter a valid email"),u(null)):(s(!1),q(null),u(t))},[n,t]);var v=function(){var e=b.state.isSanitizedEpd3pdRequest;if(e){e=c("MPNStorage").getFBStorageState();e!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},e,{rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}));c("MPNXDMessageManager").reloadPlugin(!0)}else d("MPNNavigation").navigateToRoute(a.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),a.ActionDelegate&&a.ActionDelegate.onContinueAsGuest(function(){})};h=function(){d("MPNIdentity").MPNIdentity.performUIAction(v,function(){var a=c("MPNStorage").getFBStorageState();a==null?a={requestID:c("MPNStorage").requestID,currentPath:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,userID:"0",chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,accessToken:null,expirationTimestamp:null,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}:a=babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION});c("MPNStorage").setFBStorageState(a);c("MPNXDMessageManager").reloadPlugin()},function(){var a=b.dispatchAction;a({type:"UPDATE_COOKIE_ACCESS_DENIED",cookieAccessDenied:!0});v()})};return j.jsx("div",{className:"_9wnk"+(f==="left"?" _9pmu":"")+(f==="right"?" _9pmv":""),role:"none",children:j.jsxs("div",{className:"_9wnl",children:[j.jsxs(c("FlexLayout.react"),{direction:"horizontal",align:"center",style:{marginBottom:"12px"},children:[j.jsx(c("MessagingPluginDesktopProfilePicture.react"),{className:"_9096",greenDotSize:d("MPNConstants").MPNGreenDotSize.LARGE}),j.jsx("div",{style:{marginLeft:"16px"},children:j.jsx(c("FDSText.react"),{color:"primary",size:"header3",children:"Enter your email to chat and receive a coupon code to get 20% off \ud83d\udd25 and free shipping \u2764\ufe0f on all items! \ud83e\udd73"})})]}),j.jsxs(c("FlexLayout.react"),{direction:"horizontal",align:"center",style:{marginBottom:"12px"},children:[j.jsx(c("Image.react"),{style:{paddingBottom:"12px",marginRight:"12px"},src:i("1248548")}),j.jsx(c("FDSTextInput.react"),{description:g,label:"",errorMessage:p,onChange:o,onClear:function(){return o(null)},onEnter:function(){},placeholder:"email@email.com",value:n,size:"large"})]}),j.jsxs(c("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"all",children:[j.jsx(c("ShimButton.react"),{className:"_9wnm",style:{backgroundColor:"#E0E0E0",color:"black"},children:j.jsx("div",{style:{marginTop:"7px"},children:"Back"})}),j.jsx(c("ShimButton.react"),{className:"_9wnm",style:{backgroundColor:r?"#E0E0E0":e,color:r?"white":"white"},onClick:r?function(){}:h,children:j.jsx("div",{style:{marginTop:"7px"},children:"Chat"})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNBlockedPageComposer.react",["cx","fbt","MessagingPluginContext","MessagingPluginThreadActions","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(){var a=k(c("MessagingPluginContext"));return j.jsx("div",{className:"_94wl",children:j.jsxs("div",{className:"_94wm",children:[j.jsx("div",{children:i._("B\u1ea1n \u0111\u00e3 t\u1eaft tin nh\u1eafn cho {pageName}",[i._param("pageName",a.state.pageName)])}),i._("B\u1ea1n kh\u00f4ng th\u1ec3 nh\u1eafn tin cho h\u1ecd v\u00e0 c\u0169ng kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn c\u1ee7a h\u1ecd."),j.jsx(c("ShimButton.react"),{className:"_94wo",onClick:function(){d("MessagingPluginThreadActions").blockOrUnblockPage(a)},children:j.jsx("div",{className:"_94wp",children:i._("B\u1eadt tin nh\u1eafn")})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopBotMenuDialog.react",["cx","CometMenu.react","CometMenuItem.react","LiveChatPluginLoggerUtil","MNCommercePostbackCTADataManager","MPNIdentity","MercuryIDs","MessagingPluginContext","URI","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.state={navigationPath:[]};b.$1=d("LiveChatPluginLoggerUtil").getAttributionTags();b.$2=d("MercuryIDs").getThreadIDFromUserID(b.context.state.pageID);b.$3=d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB;return b}var e=b.prototype;e.render=function(){var a=this,b=[],d=this.props.menuItems;for(var e=0;e<this.state.navigationPath.length;e++){var f=this.state.navigationPath[e];d!=null&&(d=d[f].nested_ctas)}d&&d.map(function(d,c){switch(d.action_type){case 4:a.$4(d,b);break;case 2:a.$5(d,b);break;case 11:a.$6(d,c,b);break;default:b.push({menuItemProps:{primaryText:d.title||""}});break}});return i.jsx("div",{className:"_968x",children:i.jsx(c("CometMenu.react"),{size:"full",withArrow:!0,children:b.map(function(b,a){return i.createElement(c("CometMenuItem.react"),babelHelpers["extends"]({},b.menuItemProps,{key:a}))})})})};e.$5=function(a,b){var e=this.context.state.pageID,f=function(b){c("URI").goURIOnNewWindow(a.action_link||"");b=d("MPNIdentity").MPNIdentity.currentUserID();d("LiveChatPluginLoggerUtil").logActionUsingFalco(b,e,d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab","customer_chat_bot_menu_url_redirect_clicked")};b.push({menuItemProps:{onClick:f,primaryText:a.title||""}})};e.$6=function(a,b,c){var d=this,e=function(a){d.setState(function(a){return{navigationPath:a.navigationPath.concat(b)}})};c.push({menuItemProps:{onClick:e,primaryText:a.title||""}})};e.$4=function(a,b){var e=this,f=this.context.state.pageID,g=function(b){b=d("MPNIdentity").MPNIdentity.currentUserState();if(b!==d("MPNIdentity").MPNIdentityState.GUEST&&b!==d("MPNIdentity").MPNIdentityState.FB)return;else if(b===d("MPNIdentity").MPNIdentityState.FB&&!c("gkx")("1422"))c("MNCommercePostbackCTADataManager").sendAndConfirm(a.id||"",a.title||"",e.$2,null,null,null,e.$1,null,null,"source:discovery:customer_chat_plugin");else{b=e.context.state.messageStore;b=b.sendQueue;if(!b)return;b.enqueueAndSend(a.title||"",e.$3,b.makePlatformTokenForPostbackCTA(a.id||""))}b=d("MPNIdentity").MPNIdentity.currentUserID();d("LiveChatPluginLoggerUtil").logActionUsingFalco(b,f,d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab","customer_chat_bot_menu_postback_clicked")};b.push({menuItemProps:{onClick:g,primaryText:a.title||""}})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopBotMenuButton.react",["cx","fbt","AsyncRequest","BasePopoverTrigger.react","CometPressable.react","LiveChatPluginConstants","LiveChatPluginGuestPersistentMenuQuery","LiveChatPluginLoggerUtil","LiveChatPluginSendButtonSVG.react","MPNBotMenuButtonSVG.react","MPNDesktopBotMenuDialog.react","MPNIdentity","MPNLocalState","MPNStorage","MessagingPluginContext","XMessengerBotsMenuController","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={menuItems:null},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.UNSAFE_componentWillMount=function(){this.state.menuItems==null&&this.$2()};e.componentDidUpdate=function(){this.state.menuItems==null&&this.context.state.accessToken&&this.$2()};e.componentWillUnmount=function(){this.$1&&(this.$1.abort(),this.$1=null),this.setState(this.$3(!1))};e.render=function(){var a=this,b=this.context.state,e=b.hasActiveAutomation,f=b.hasPersistentMenu,g=b.threadCSSColor;return e||!f||!this.state.menuItems||this.state.menuItems.length===0?j.jsx("div",{className:" _95jk _95ms",children:j.jsx(c("LiveChatPluginSendButtonSVG.react"),{threadColor:d("LiveChatPluginConstants").GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT})}):j.jsx(c("BasePopoverTrigger.react"),{popover:c("MPNDesktopBotMenuDialog.react"),popoverProps:{menuItems:this.state.menuItems},children:function(b,d){return j.jsx("div",{ref:b,children:j.jsx("div",{className:"_94vq _9r2w",children:j.jsx(c("CometPressable.react"),{overlayRadius:50,"aria-label":i._("Menu c\u1ed1 \u0111\u1ecbnh"),onPress:function(){a.$4(),d()},children:j.jsx(c("MPNBotMenuButtonSVG.react"),{threadColor:g})})})})}})};e.$2=function(){var a=this,b=this.context,e=b.state,f=b.dispatchAction;b=e.pageID;e=c("MPNStorage").getFBStorageState();if(!e||e.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED)return;e=d("MPNIdentity").MPNIdentity.currentUserState();switch(e){case d("MPNIdentity").MPNIdentityState.GUEST:e=(e=d("MPNIdentity").MPNIdentity.currentUser())==null?void 0:e.accessToken;if(e==null)return;d("LiveChatPluginGuestPersistentMenuQuery").fetch(b,e,function(b){b!=null&&b.length>0?(a.setState({menuItems:b}),f({type:"TOGGLE_HAS_PERSISTENT_MENU",hasPersistentMenu:!0})):(a.setState({menuItems:[]}),f({type:"TOGGLE_HAS_PERSISTENT_MENU",hasPersistentMenu:!1}))});break;case d("MPNIdentity").MPNIdentityState.FB:e=c("XMessengerBotsMenuController").getURIBuilder().setString("page_id",b).setBool("should_flatten",!0).getURI();this.$1=new(c("AsyncRequest"))().setURI(e).setHandler(function(b){a.setState({menuItems:b.payload.menu})}).setErrorHandler(function(b){a.setState({menuItems:[]})});this.$1.send();break;default:return}};e.$4=function(){this.setState(this.$3(!0)),this.props.onClick()};e.$3=function(a){var b=this.context.state.pageID,c=d("MPNIdentity").MPNIdentity.currentUserID();d("LiveChatPluginLoggerUtil").logActionUsingFalco(c,b,d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab",a?"customer_chat_bot_menu_opened":"customer_chat_bot_menu_closed")};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopThreadMenu.react",["cx","fbt","CometMenu.react","CometMenuItem.react","CometSeparatorMenuItem.react","MPNIdentity","MessagingPluginContext","MessagingPluginThreadActions","ODS","URI","gkx","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){var b,e=k(c("MessagingPluginContext")),f=e.state,g=f.pageID,h=f.isPageBlocked,l=f.locale,m=f.showUpgradeUpsellPrompt,n=f.isPageInEU;f=f.isLightswitchEnabledForGuest;var o=d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.GUEST,p=!0;b=(b=e.state.threadExists)!=null?b:!1;!o?p=c("gkx")("1830721"):p=f!==!0;p=p&&!n&&b;p||(o&&f===!0&&d("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_frx_entry_point_blocked_eu_guest"),!o&&!c("gkx")("1830721")&&d("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_frx_entry_point_blocked_eu_fb_user"),n&&d("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_frx_entry_point_blocked_eu_page"));return j.jsx("div",{className:"_968x",children:j.jsxs(c("CometMenu.react"),{size:"full",withArrow:!0,children:[o&&m?j.jsx(c("CometMenuItem.react"),{icon:{src:"/images/web_messenger/app-messenger_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){return a.onUpgrade()},primaryText:i._("Ti\u1ebfp t\u1ee5c trong Messenger")}):null,j.jsx(c("CometMenuItem.react"),{icon:{src:"/images/web_messenger/cross-circle_32-4x.png",style:"square"},onClick:function(){e.dispatchAction({type:"TOGGLE_END_CHAT",showEndChat:!0})},primaryText:i._("K\u1ebft th\u00fac \u0111o\u1ea1n chat")}),!o&&h!=null?j.jsx(c("CometMenuItem.react"),{icon:{src:"/images/web_messenger/message-cross_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){d("MessagingPluginThreadActions").blockOrUnblockPage(e)},primaryText:h?i._("B\u1eadt tin nh\u1eafn"):i._("T\u1eaft tin nh\u1eafn")}):null,o?null:j.jsx(c("CometMenuItem.react"),{icon:a.isMuted?{src:"/images/web_messenger/bell-cross_32-4x.png",style:"square"}:{src:"/images/web_messenger/bell_32-4x.png",style:"square"},iconStyle:"normal",onClick:a.onClickMuteOrUnmute,primaryText:a.isMuted?i._("Unmute Conversation"):i._("T\u1eaft th\u00f4ng b\u00e1o v\u1ec1 cu\u1ed9c tr\u00f2 chuy\u1ec7n")}),p?j.jsx(c("CometMenuItem.react"),{icon:{src:"/images/web_messenger/caution-triangle_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){d("MessagingPluginThreadActions").openFRXPrompt(g,l)},primaryText:i._("C\u00f3 g\u00ec \u0111\u00f3 kh\u00f4ng \u1ed5n")}):null,j.jsx(c("CometSeparatorMenuItem.react"),{}),j.jsx(c("CometMenuItem.react"),{onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/"+g)},primaryText:i._("Truy c\u1eadp Trang Facebook")}),j.jsx(c("CometMenuItem.react"),{onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},primaryText:i._("Th\u00eam Messenger v\u00e0o trang web c\u1ee7a b\u1ea1n")})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopDialogHeader.react",["cx","fbt","Arbiter","BasePopoverTrigger.react","FlexLayout.react","LineClamp.react","LiveChatPluginLoggerUtil","MPNConstants","MPNHeaderActionButton.react","MPNMinusButtonSVG.react","MPNMoreInfoButtonSVG.react","MPNVerifiedBadge.react","MessagingPluginContext","MessagingPluginDesktopProfilePicture.react","MessagingPluginDesktopThreadMenu.react","MessagingPluginThreadActions","QE2Logger","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");c("stylex").inject(".qmqpeqxj{border-top-left-radius:50%}",1,".qmqpeqxj{border-top-right-radius:50%}");c("stylex").inject(".e7u6y3za{border-top-right-radius:50%}",1,".e7u6y3za{border-top-left-radius:50%}");c("stylex").inject(".qwcclf47{border-bottom-right-radius:50%}",1,".qwcclf47{border-bottom-left-radius:50%}");c("stylex").inject(".nmlomj2f{border-bottom-left-radius:50%}",1,".nmlomj2f{border-bottom-right-radius:50%}");c("stylex").inject(".qmqpeqxj{border-top-left-radius:50%}",1,".qmqpeqxj{border-top-right-radius:50%}");c("stylex").inject(".e7u6y3za{border-top-right-radius:50%}",1,".e7u6y3za{border-top-left-radius:50%}");c("stylex").inject(".qwcclf47{border-bottom-right-radius:50%}",1,".qwcclf47{border-bottom-left-radius:50%}");c("stylex").inject(".nmlomj2f{border-bottom-left-radius:50%}",1,".nmlomj2f{border-bottom-right-radius:50%}");c("stylex").inject(".j9a9igkc{width:50px}",1);c("stylex").inject(".hpj0pwwo{font-size:1.0625rem}",1);c("stylex").inject(".igjjae4c{font-weight:bold}",1);c("stylex").inject(".frx9we7d{word-break:break-all}",1);c("stylex").inject(".mov749r8{color:var(--fds-black-alpha-50)}",1);c("stylex").inject(".nfkogyam{font-size:0.8125rem}",1);c("stylex").inject(".lcfup58g{padding-left:4px}",1,".lcfup58g{padding-right:4px}");c("stylex").inject(".om3e55n1{position:relative}",1);c("stylex").inject(".iy1nols1{top:-1px}",1);c("stylex").inject(".ngbj85sm{padding-top:2px}",1);a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=null,c.state={isMuted:c.context.state.isMuted},c.$3=function(){var a=c.context.state,b=a.guestID;a=a.pageID;c.$1=d("MessagingPluginThreadActions").launchUpgradeFlowDesktop(c.context,c.props.history,d("MPNConstants").MPNUpgradePrompt.CONTINUE_IN_MESSENGER);d("LiveChatPluginLoggerUtil").logActionUsingFalco(b,a,"guest_chat_tab",d("MPNConstants").MPNUpgradePrompt.CONTINUE_IN_MESSENGER)},c.$2=function(){var a=c.state.isMuted;d("MessagingPluginThreadActions").muteOrUnmutePage(c.context.state.pageID,a);c.setState({isMuted:!a})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentWillUnmount=function(){this.$1&&c("Arbiter").unsubscribe(this.$1)};e.componentDidMount=function(){var a=this.context.state,b=a.pageID;a=a.pageResponsiveness;a!=null&&d("QE2Logger").logExposureForPage("chat_plugin_thread_header_responsiveness_text",b.toString())};e.render=function(){var a=this,b=this.context.state,e=b.pageName,f=b.pageVerifiedStatus,g=b.pageResponsiveness,h=b.showGuestUpgradePopover;b=b.shouldShowThreadHeaderResponsivenessText;var k=this.props.menuEnabled!==!1,l=this.context.state.optimisticStorageState.showUpgradePrompt!=null&&this.context.state.optimisticStorageState.showUpgradePrompt!==d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN;b=g!=null&&b===!0;return j.jsxs("div",{className:(b?"":"_9dxj")+(b?" _9u6j":"")+(!l&&!h?" _9gop":""),children:[b?j.jsx("div",{className:"j9a9igkc nmlomj2f qwcclf47 e7u6y3za qmqpeqxj",children:j.jsx(c("MessagingPluginDesktopProfilePicture.react"),{className:"_9u5v"})}):j.jsx("div",{className:"nmlomj2f qwcclf47 e7u6y3za qmqpeqxj",children:j.jsx(c("MessagingPluginDesktopProfilePicture.react"),{})}),j.jsxs("div",{className:"_9dxi",children:[j.jsxs(c("FlexLayout.react"),{align:"center",children:[j.jsx(c("LineClamp.react"),{className:"frx9we7d igjjae4c hpj0pwwo",lines:1,children:j.jsx("strong",{children:e})}),f&&f!=="not_verified"?j.jsx("span",{className:"iy1nols1 om3e55n1 lcfup58g",children:j.jsx(c("MPNVerifiedBadge.react"),{verificationStatus:f,size:14})}):null]}),j.jsx(c("LineClamp.react"),{className:"nfkogyam mov749r8",lines:1,children:i._("Do Messenger cung c\u1ea5p")}),b?j.jsx(c("LineClamp.react"),{className:"nfkogyam mov749r8 ngbj85sm",lines:1,children:g}):null]}),j.jsx("div",{className:"_9dxh"}),j.jsxs("div",{className:"_9dzn",children:[k&&j.jsx(c("BasePopoverTrigger.react"),{popover:c("MessagingPluginDesktopThreadMenu.react"),popoverProps:{history:this.props.history,isMuted:this.state.isMuted,onClickMuteOrUnmute:this.$2,onUpgrade:this.$3},children:function(a,b){return j.jsx("div",{className:"_9r2w",ref:a,children:j.jsx(c("MPNHeaderActionButton.react"),{label:i._("Xem th\u00eam"),onPress:b,children:j.jsx(c("MPNMoreInfoButtonSVG.react"),{})})})}}),j.jsx(c("MPNHeaderActionButton.react"),{label:i._("\u0111\u00f3ng"),onPress:function(){var b;return(b=a.props.ActionDelegate)==null?void 0:b.minimize()},children:j.jsx(c("MPNMinusButtonSVG.react"),{})})]})]})};return b}(j.PureComponent);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopGuestAttachmentButton.react",["cx","MPNConstants","MPNPaperclipIconSVG.react","MPNStorage","MessagingPluginContext","ShimButton.react","Tooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.context.dispatchAction;return i.jsx(c("Tooltip.react"),{tooltip:"Attach Files",children:i.jsx(c("ShimButton.react"),{"data-testid":void 0,className:"_95jj _9jru",onClick:function(){c("MPNStorage").setShowUpgradePrompt(d("MPNConstants").MPNUpgradePrompt.ATTACHMENT_UPSELL),a({type:"UPDATE_UPGRADE_UPSELL_PROMPT",upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.ATTACHMENT_UPSELL})},children:i.jsx(c("MPNPaperclipIconSVG.react"),{color:this.context.state.threadCSSColor})})})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopGuestUpgradeUpsellPrompt.react",["cx","fbt","ix","Arbiter","ChatPluginMessengerBlurpleLogoSVG.react","Image.react","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","MPNConstants","MPNGuestUpgradeFBTStrings","MPNSharedGuestUpgradePromptV2.react","MPNStorage","MessagingPluginContext","MessagingPluginThreadActions","gkx","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentWillUnmount=function(){this.$1&&c("Arbiter").unsubscribe(this.$1)};e.componentDidMount=function(){var a=this.context.state,b=a.pageID;a=a.guestID;d("LiveChatPluginLoggerUtil").logImpressionUsingFalco(b,"upgrade_prompt",null,null,null,null,a,null,this.props.prompt)};e.render=function(){var a=this,b=this.context.state,e=b.useNewUpgradeTriggersWithNewDesign;b=b.useNewUpgradeDesignWithOldTriggers;if(e||b)return k.jsx(c("MPNSharedGuestUpgradePromptV2.react"),{color:this.props.color,prompt:this.props.prompt,history:this.props.history});var f=this.props.prompt;e=d("MPNGuestUpgradeFBTStrings").getPromptTitle(f);b=d("MPNGuestUpgradeFBTStrings").getPromptSubtitle(f,this.context);var g=c("gkx")("1740404");g=g?k.jsx(c("ChatPluginMessengerBlurpleLogoSVG.react"),{height:24,width:24}):k.jsx(c("Image.react"),{className:"messengerIcon",src:j("1273954")});return k.jsxs("div",{className:"_95to _9j_q",children:[k.jsxs("div",{className:"promptHeaderContainer",children:[k.jsx("div",{className:"_95tx",children:g}),k.jsxs("div",{className:"_95tr",children:[k.jsx("div",{className:"_95ty",children:e}),k.jsx("div",{className:"_95tz",children:b})]})]}),k.jsxs("div",{className:"promptFooterContainer",children:[k.jsx("div",{className:"dismissButton footerButton",children:k.jsx(c("LiveChatPluginPromptButton.react"),{color:"rgba(0, 0, 0, .05)",hasIcon:!1,onClick:function(){c("MPNStorage").setShowUpgradePrompt(d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN),a.$2()},text:i._("L\u00fac kh\u00e1c")})}),k.jsx("div",{className:"continueButton footerButton",children:k.jsx(c("LiveChatPluginPromptButton.react"),{color:this.props.color,hasIcon:!0,onClick:function(){a.$1=d("MessagingPluginThreadActions").launchUpgradeFlowDesktop(a.context,a.props.history,f),a.$3()},text:i._("Ti\u1ebfp t\u1ee5c")})})]})]})};e.$3=function(){var a=this.context.state,b=a.guestID;a=a.pageID;d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",b,a,"upgrade_prompt",{button_name:"upgrade_prompt_continue",prompt_type:this.props.prompt})};e.$2=function(){var a=this.context,b=a.dispatchAction;a=a.state;var c=a.guestID;a=a.pageID;b({type:"UPDATE_UPGRADE_UPSELL_PROMPT",upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",c,a,"upgrade_prompt",{button_name:"upgrade_prompt_not_now",prompt_type:this.props.prompt})};return b}(k.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopSwitchAccountDropDownMenu.react",["cx","fbt","MessagingPluginContext","MessagingPluginThreadActions","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){var b=k(c("MessagingPluginContext"));return j.jsx("div",{"data-testid":void 0,className:"_9r5q _9r5r",children:j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:function(){d("MessagingPluginThreadActions").switchAccount(b)},className:"_9r5s",children:i._("Chuy\u1ec3n t\u00e0i kho\u1ea3n")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EllipsisText.react",["cx","DOMContainer.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.children instanceof Node?i.jsx(c("DOMContainer.react"),{children:a.children}):a.children;return i.jsx("span",{id:a.id,className:c("joinClasses")(a.className,"_6i6a"),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XChatPluginDesktopIncognitoLoginPopupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/chat/incognito_login/",{})}),null);
__d("XChatPluginProfilePlusVoiceSwitchPopupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/chat/voice_switch/",{})}),null);
__d("MPNDesktopWelcomePageBottomButtons.react",["cx","fbt","EllipsisText.react","LineClamp.react","LiveChatPluginLoggerUtil","MPNConstants","MPNIdentity","MPNLocalState","MPNMessengerIconSVG.react","MPNNavigation","MPNStorage","MPNXDMessageManager","MessagingPluginContext","MessagingPluginThreadActions","PopupWindow","ShimButton.react","XChatPluginDesktopIncognitoLoginPopupController","XChatPluginProfilePlusVoiceSwitchPopupController","gkx","performanceAbsoluteNow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=250;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$3=function(){var a=e.context,b=a.state,f=a.dispatchAction;a=b.pageID;var g=b.hasGuestMode,h=b.pagePassesSentryTest,i=b.hasMessagingPermission,j=b.isSanitizedEpd3pdRequest;b=d("MPNIdentity").MPNIdentity.currentUserState();var l=d("MPNIdentity").MPNIdentity.currentUserID();f({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});if(b==d("MPNIdentity").MPNIdentityState.FB&&l!=null){if(!h&&!i){(b=e.props.ActionDelegate)==null?void 0:b.openThreadWithInterstitial(function(){var a;(a=e.props.ActionDelegate)==null?void 0:a.openThreadWithCurrentFBUser();d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);f({type:"UPDATE_BLOCK_STATUS",isPageBlocked:!1})});return}d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);(l=e.props.ActionDelegate)==null?void 0:l.openThreadWithCurrentFBUser();d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"});return}d("MPNIdentity").MPNIdentity.performUIAction(function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){if(j){c("MPNXDMessageManager").reloadPlugin(!0);return}return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();if(a!=null){c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}));b={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};c("MPNStorage").setThirdPartyStorageState(b)}},k);if(d("MPNIdentity").MPNIdentity.isProfilePlusUserUncached()){d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});var a=c("XChatPluginProfilePlusVoiceSwitchPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)}else d("MessagingPluginThreadActions").presentPluginOptIn(e.context,!1,!1)},function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){c("MPNXDMessageManager").reloadPlugin(!0);return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}))},k);if(d("MPNIdentity").MPNIdentity.isProfilePlusUserUncached()){d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});var a=c("XChatPluginProfilePlusVoiceSwitchPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)}else d("MessagingPluginThreadActions").presentPluginOptIn(e.context,!1,!1)},function(){var a=c("XChatPluginDesktopIncognitoLoginPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"log_in_messenger"})},e.$1=function(){if(c("gkx")("716")){d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.EMAIL);return}var a=e.context,b=a.state;a=a.dispatchAction;b=b.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});d("MPNIdentity").MPNIdentity.performUIAction(e.$5,function(){var a=c("MPNStorage").getFBStorageState();a==null?a={requestID:c("MPNStorage").requestID,currentPath:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,userID:"0",chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,accessToken:null,expirationTimestamp:null,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}:a=babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION});c("MPNStorage").setFBStorageState(a);c("MPNXDMessageManager").reloadPlugin()},function(){var a=e.context.dispatchAction;a({type:"UPDATE_COOKIE_ACCESS_DENIED",cookieAccessDenied:!0});e.$5()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},e.$5=function(){var a=e.context.state.isSanitizedEpd3pdRequest;if(a){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}));c("MPNXDMessageManager").reloadPlugin(!0)}else d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),e.props.ActionDelegate&&e.props.ActionDelegate.onContinueAsGuest(function(){})},e.$2=function(){var a=e.context,b=a.state;a=a.dispatchAction;b=b.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});d("MPNIdentity").MPNIdentity.performUIAction(function(){d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW)},function(){d("MPNIdentity").MPNIdentity.clearUserChangesSubscription(),c("MPNStorage").setPath(d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),c("MPNXDMessageManager").reloadPlugin()},function(){c("MPNStorage").clearThirdPartyStorageState(),c("MPNXDMessageManager").reloadPlugin()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b,"itp_page",{button_name:"continue"})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.context.state,b=a.hasGuestMode;a=a.threadCSSColor;var e=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;e=c("gkx")("1189683");e=!b&&!e;b=b?j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:this.$1,className:"_909e",children:j.jsx(c("LineClamp.react"),{lines:1,children:i._("Ti\u1ebfp t\u1ee5c v\u1edbi vai tr\u00f2 kh\u00e1ch")})}):null;return this.props.useITPContinueButton?j.jsx("div",{className:"_909c",children:j.jsx(c("ShimButton.react"),{onClick:this.$2,className:"_909d",style:{backgroundColor:a},children:j.jsx(c("LineClamp.react"),{className:"continueText",lines:1,children:i._("Ti\u1ebfp t\u1ee5c")})})}):j.jsxs("div",{className:(e?"":"_909c")+(e?" _9ihg":""),children:[j.jsxs(c("ShimButton.react"),{"data-testid":void 0,onClick:this.$3,className:"_909d",style:{backgroundColor:a},children:[j.jsx(c("MPNMessengerIconSVG.react"),{}),j.jsx(c("EllipsisText.react"),{className:"continueText _4mr9",children:this.$4()})]}),b]})};e.$4=function(){var a,b=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;a=(a=d("MPNIdentity").MPNIdentity.currentUser())==null?void 0:a.shortName;if(!b)if(this.context.state.shouldUseChatInMessengerCTA)return i._("Chat trong Messenger");else return i._("\u0110\u0103ng nh\u1eadp v\u00e0o Messenger");return a!==null?i._("Ti\u1ebfp t\u1ee5c d\u01b0\u1edbi t\u00ean {first name}",[i._param("first name",a)]):i._("Ti\u1ebfp t\u1ee5c")};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopInformationDropDownMenu.react",["cx","fbt","MessagingPluginContext","ShimButton.react","URI","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){a=k(c("MessagingPluginContext"));var b=a.state.pageID;return j.jsxs("div",{"data-testid":void 0,className:"_9r5q _9r8t",children:[j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/"+b)},className:"_9r5s",children:i._("Truy c\u1eadp Trang Facebook")}),j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},className:"_9r5s",children:i._("Th\u00eam Messenger v\u00e0o trang web c\u1ee7a b\u1ea1n")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopWelcomePageModalView.react",["cx","fbt","ix","BasePopoverTrigger.react","ChatPluginSetupFlowE2ETestUtils","CometPressable.react","FlexLayout.react","Image.react","LineClamp.react","LiveChatPluginConstants","LiveChatPluginFbts","MPNConstants","MPNDesktopSwitchAccountDropDownMenu.react","MPNDesktopWelcomePageBottomButtons.react","MPNHeaderActionButton.react","MPNIdentity","MPNMinusButtonSVG.react","MPNMoreInfoButtonSVG.react","MPNPrivacyText.react","MPNVerifiedBadge.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginDesktopInformationDropDownMenu.react","MessagingPluginDesktopProfilePicture.react","ReactDOM","XCookiesPolicyControllerRouteBuilder","XDataPolicyController","XTermsController","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");c("stylex").inject(".lcfup58g{padding-left:4px}",1,".lcfup58g{padding-right:4px}");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.modalSheetRef=k.createRef(),c.$2=function(a){a.stopPropagation()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this,b=this.context.state.hasGuestMode;window.setTimeout(function(){return a.$1(b)},0)};e.render=function(){var a=this,b=this.context.state;b.hasGuestMode;var e=b.pageVerifiedStatus,f=b.alignment;b=b.uiPolishEnabled;var g=this.context.state,h=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;c("gkx")("1189683");c("XTermsController").getURIBuilder().getURI().toString();c("XDataPolicyController").getURIBuilder().getURI().toString();c("XCookiesPolicyControllerRouteBuilder").buildURL({});var l=i._("Chat v\u1edbi {pageName}",[i._param("pageName",g.pageName)]);return k.jsx("div",{"data-testid":void 0,ref:this.modalSheetRef,className:"_94vf"+(b&&f==="left"?" _9pmu":"")+(b&&f==="right"?" _9pmv":""),onClick:this.$2,role:"none",children:k.jsxs("div",{className:"welcomePageModalSheetContent",children:[k.jsxs("div",{className:"_9095",children:[k.jsx(c("MessagingPluginDesktopProfilePicture.react"),{className:"_9096",greenDotSize:d("MPNConstants").MPNGreenDotSize.LARGE}),k.jsx("div",{className:"_9dxh"}),k.jsxs("div",{className:"_9dzn",children:[h?k.jsx(c("BasePopoverTrigger.react"),{align:"middle",popover:c("MPNDesktopSwitchAccountDropDownMenu.react"),popoverProps:{},children:function(a,b){return k.jsx("div",{ref:a,className:"_97lh",children:k.jsxs(c("CometPressable.react"),{testid:void 0,onPress:b,overlayRadius:6,children:[k.jsx(c("Image.react"),{className:"_95lg _97lg",src:g.viewerProfilePicureUri}),k.jsx(c("Image.react"),{className:"_97lc",src:j("481882")})]})})}}):null,k.jsx(c("BasePopoverTrigger.react"),{popover:c("MessagingPluginDesktopInformationDropDownMenu.react"),popoverProps:{},children:function(a,b){return k.jsx("div",{ref:a,children:k.jsx(c("MPNHeaderActionButton.react"),{label:i._("Xem th\u00eam"),onPress:b,children:k.jsx(c("MPNMoreInfoButtonSVG.react"),{})})})}}),k.jsx("div",{"data-testid":void 0,className:"_9q4i",children:k.jsx(c("MPNHeaderActionButton.react"),{label:i._("\u0111\u00f3ng"),onPress:function(){var b;return(b=a.props.ActionDelegate)==null?void 0:b.minimize()},children:k.jsx(c("MPNMinusButtonSVG.react"),{})})})]})]}),k.jsxs(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_9099",children:[k.jsx(c("LineClamp.react"),{lines:1,children:k.jsx("strong",{children:l})}),e&&e!=="not_verified"?k.jsx("span",{className:"lcfup58g",children:k.jsx(c("MPNVerifiedBadge.react"),{verificationStatus:e,size:18})}):null]}),k.jsx(c("LineClamp.react"),{className:"_909a",lines:1,children:g.pageResponsiveness}),k.jsx(c("LineClamp.react"),{className:"_909b",lines:3,children:h?g.loggedInGreeting:(b=g.loggedOutGreeting)!=null?b:d("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()}),k.jsx(c("MPNDesktopWelcomePageBottomButtons.react"),babelHelpers["extends"]({},this.props)),k.jsx(c("MPNPrivacyText.react"),{useITPContinueButton:this.props.useITPContinueButton})]})})};e.$1=function(a){var b=d("ReactDOM").findDOMNode(this.modalSheetRef.current);a=a?d("LiveChatPluginConstants").WELCOME_PAGE_GUEST_FALLBACK_HEIGHT:d("LiveChatPluginConstants").WELCOME_PAGE_NO_GUEST_FALLBACK_HEIGHT;b instanceof HTMLElement&&(a=b.offsetHeight);b=a+d("LiveChatPluginConstants").WELCOME_PAGE_PADDING_HEIGHT;c("MPNXDMessageManager").resizeIframe(b)};return b}(k.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopWelcomePageModal.react",["cx","BootloaderResource","JSResource","MPNDesktopWelcomePageModalView.react","MessagingPluginContext","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){return i.jsx("div",{children:i.jsx("div",{role:"none",onMouseEnter:function(){d("BootloaderResource").preload(c("JSResource")("MessagingPluginDialogBody.react").__setRef("MPNDesktopWelcomePageModal.react"))},className:"_94ve",children:i.jsx(c("MPNDesktopWelcomePageModalView.react"),babelHelpers["extends"]({},this.props))})})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopITPContinuePage.react",["LiveChatPluginLoggerUtil","MPNDesktopWelcomePageModal.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=this.context.state,b=a.alignment,e=a.bottomSpacing,f=a.sideSpacing,g=a.pageID,h=a.pluginMountTime;a=a.shouldIconDelay;c("MPNXDMessageManager").setupDesktopIframe(b,e,f,d("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE,a);d("LiveChatPluginLoggerUtil").logImpressionUsingFalco(g,"itp_page",h,["continue"])};e.render=function(){try{return h.jsx(c("MPNDesktopWelcomePageModal.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,useITPContinueButton:!0})}catch(a){d("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",this.context.state.pageID,"itp_page",a.name,a.message,a.stack)}};return b}(h.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopIcon.react",["ClickableArea.react","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginLoggerUtil","LiveChatPluginMessengerIconSVGWithColor.react","MPNConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={visibility:c.props.initialVisibility,disabled:!1},c.$2=function(a){a=((a=a.data.params)==null?void 0:a.is_dialog_hidden)==!0?d("MPNConstants").MPNVisibility.HIDDEN:d("MPNConstants").MPNVisibility.NOT_HIDDEN;c.setState({visibility:a})},c.$1=function(){if(c.state.disabled==!0)return;else c.props.actionDelegate.togglePluginVisibility(),c.setState({disabled:!0}),window.setTimeout(function(){c.setState({disabled:!1})},350)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){d("LiveChatPluginLoggerUtil").logImpressionUsingXController(this.props.pageID,"plugin_icon",this.props.pluginRequestTime,null,null,null,null,this.props.clientRequestTime)};e.render=function(){return h.jsx(c("ClickableArea.react"),{"data-testid":void 0,onClick:this.$1,children:h.jsx("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60",cursor:"pointer",children:this.props.threadColor!=null?h.jsx(c("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:this.props.threadColor}):h.jsx(c("LiveChatPluginDefaultMessengerIconSVG.react"),{})})})};return b}(h.Component);g["default"]=a}),98);
__d("LiveChatPluginMessageComposerAttachmentItem.react",["cx","ix","Image.react","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props.attachment;if(a.type.startsWith("image/"))return[j.jsx("div",{className:"_3l_i",style:{backgroundImage:a.thumbnail_url}},this.props.uploadID+"item"),j.jsx(c("ShimButton.react"),{className:"_3l_j _3l_k",onClick:this.props.removeAttachment},this.props.uploadID+"removeButton")];var b=j.jsx("div",{className:"_3l_l",style:{backgroundColor:this.props.threadColor},children:j.jsx(c("Image.react"),{src:a.type.startsWith("video/")?i("359148"):i("359146")})});a=a.name;var d=a.split(".").pop().toUpperCase();return j.jsxs("div",{className:"_3l_m",children:[b,j.jsxs("div",{className:"_3l_n",children:[j.jsx("div",{className:"_3l_o",children:d}),j.jsx("div",{className:"_3l_p",children:a})]}),j.jsx(c("ShimButton.react"),{className:"_3l_j _3l_q",onClick:this.props.removeAttachment})]})};return b}(j.PureComponent);g["default"]=a}),98);
__d("LiveChatPluginMessageComposerAttachmentShelf.react",["cx","fbt","LiveChatPluginAttachmentUploadError","LiveChatPluginMessageComposerAttachmentItem.react","XUISpinner.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$1=new Map();return b}var d=b.prototype;d.render=function(){var a=this;if(this.props.attachments.size===0&&this.props.error===c("LiveChatPluginAttachmentUploadError").NO_ERROR)return null;this.props.attachments.forEach(function(b,c){a.$1.has(c)||a.$1.set(c,b)});this.$1.forEach(function(b,c){a.props.attachments.has(c)||a.$1["delete"](c)});var b=Array.from(this.$1).map(function(b){var d=b[0];b=b[1];return j.jsxs("div",{className:"_1i5v",children:[j.jsx(c("LiveChatPluginMessageComposerAttachmentItem.react"),{attachment:b,removeAttachment:function(){a.props.removeAttachment(d)},threadColor:a.props.threadColor,uploadID:d}),a.props.uploadingAttachments.has(d)?j.jsx(c("XUISpinner.react"),{className:"_1i63",background:"dark",size:"large"}):null]},d)});return j.jsxs("div",{className:"_1i69",children:[this.$2(),j.jsx("div",{className:"_2l9u",children:b})]})};d.$2=function(){var a;switch(this.props.error){case c("LiveChatPluginAttachmentUploadError").EXCEEDED_MAX_FILES:a=i._("Upload no more than 5 files at once. Please try again.");break;case c("LiveChatPluginAttachmentUploadError").EXCEEDED_FILE_MAX_SIZE:a=i._("This file exceeds the size limit of 25MB.");break;case c("LiveChatPluginAttachmentUploadError").UPLOAD_FAILED:a=i._("Kh\u00f4ng t\u1ea3i \u0111\u01b0\u1ee3c file n\u00e0y l\u00ean. Vui l\u00f2ng th\u1eed l\u1ea1i.");break;case c("LiveChatPluginAttachmentUploadError").NO_ERROR:default:return null}return j.jsx("div",{className:"_2l9v",children:a})};return b}(j.PureComponent);g["default"]=a}),98);
__d("MPNDesktopMessageComposer.react",["cx","fbt","AbstractTextInput.react","JSResource","Keys","LiveChatPluginAttachmentUploadError","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposerAttachmentShelf.react","LiveChatPluginSendButtonSVG.react","MPNDesktopBotMenuButton.react","MPNDesktopGuestAttachmentButton.react","MPNIdentity","MPNLocalState","MPNPaperclipIconSVG.react","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MessagingPluginContext","ShimButton.react","Tooltip.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResource")("MPNAttachmentInput.react").__setRef("MPNDesktopMessageComposer.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;f=a.call(this,b,e)||this;f.state={attachmentsDataMap:new Map(),error:c("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:"",uploadingAttachments:new Set()};f.$18=function(a){f.props.onChange(),f.setState({error:c("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:a.target.value})};f.$19=function(a){a.keyCode===c("Keys").RETURN&&(a.preventDefault(),f.$17())};f.$17=function(){var a=d("MPNIdentity").MPNIdentity.currentUserState();a===d("MPNIdentity").MPNIdentityState.FB?f.$20():a===d("MPNIdentity").MPNIdentityState.GUEST&&f.$21();f.context.state.hasActiveAutomation&&d("LiveChatPluginLoggerUtil").logAction("automation_freeform_message_sent",d("MPNIdentity").MPNIdentity.currentUserID(),f.context.state.pageID)};f.$11=function(a){f.$2&&f.$2.removeAttachment(a)};f.$15=function(a){f.setState({error:a})};f.$16=function(a,b,d,e,g,h){d&&(f.$1=d),e&&(f.$3=e),g&&(f.$4=g),h&&(f.$10=h),f.setState({attachmentsDataMap:new Map(a),error:c("LiveChatPluginAttachmentUploadError").NO_ERROR,uploadingAttachments:new Set(b)}),f.focus()};b=f.context.state.pageID;e=d("MPNIdentity").MPNIdentity.currentUserID();if(e==null)return babelHelpers.assertThisInitialized(f);f.$6=c("MercuryMessageActions").getForFBID(e);f.$7=c("MercuryMessageObject").getForFBID(e);f.$8=d("MercuryIDs").getThreadIDFromUserID(b);f.$9=d("LiveChatPluginLoggerUtil").getAttributionTags();f.$1=[];f.$3=[];f.$4=[];f.$10=[];return f}var e=b.prototype;e.componentDidMount=function(){this.focus()};e.render=function(){return j.jsxs("div",{className:(this.context.state.isComposerDisabled?"_664i":"")+" _94vs",children:[j.jsx(c("LiveChatPluginMessageComposerAttachmentShelf.react"),{attachments:this.state.attachmentsDataMap,error:this.state.error,removeAttachment:this.$11,threadColor:this.context.state.threadColor,uploadingAttachments:this.state.uploadingAttachments}),j.jsxs("div",{className:"_94vt",children:[this.$12(),this.$13(),this.$14()]})]})};e.$12=function(){var a=this,b=this.context.state,e=b.isComposerDisabled,f=b.optimisticStorageState;b=b.showUpgradeUpsellPrompt;if(e||f.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED)return null;if(d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.GUEST)if(b===!0)return j.jsx(c("MPNDesktopGuestAttachmentButton.react"),{threadColor:this.context.state.threadCSSColor});else return null;e=d("MPNIdentity").MPNIdentity.currentUserID();return e==null?null:j.jsx(j.Suspense,{fallback:j.jsx("div",{className:"_95jj",children:j.jsx(c("MPNPaperclipIconSVG.react"),{color:this.context.state.threadCSSColor})}),children:j.jsx(k,{pageID:this.context.state.pageID,ref:function(b){a.$2=b},setComposerAttachmentError:this.$15,updateComposerAttachmentsAndIDs:this.$16,viewerID:e,isMobile:!1})})};e.$14=function(){var a=this.context.state,b=a.isComposerDisabled;a=a.threadCSSColor;var d=this.state.inputValue.trim();d=d.length===0&&this.state.attachmentsDataMap.size===0;return d||b?j.jsx(c("MPNDesktopBotMenuButton.react"),{onClick:this.props.onClick}):j.jsx(c("Tooltip.react"),{tooltip:"Send",children:j.jsx(c("ShimButton.react"),{"aria-label":i._("G\u1eedi"),className:"_4bqf _95jk _9jru","data-testid":void 0,onClick:this.$17,children:j.jsx(c("LiveChatPluginSendButtonSVG.react"),{threadColor:a})})})};e.$13=function(){var a=this,b=this.context.state.isComposerDisabled,d=i._("T\u00ednh n\u0103ng nh\u1eadp b\u1ecb v\u00f4 hi\u1ec7u h\u00f3a \u0111\u1ed1i v\u1edbi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y.");return b?j.jsx("div",{className:"_664k",children:d}):j.jsx("div",{className:"_94vv",children:j.jsx(c("AbstractTextInput.react"),{"data-testid":void 0,onBlur:this.props.onBlur,onChange:this.$18,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:this.$19,ref:function(b){a.$5=b},placeholder:i._("B\u1ea1n h\u1ecfi g\u00ec \u0111i...").toString(),value:this.state.inputValue})})};e.$21=function(){var a=this.context.state;if(!a.messageStore||!a.messageStore.sendQueue)return;var b=a.messageStore.sendQueue,c=this.state.inputValue.trim();c&&c.length>0&&b.enqueueAndSend(c,!1,null);this.setState({inputValue:""});d("LiveChatPluginLoggerUtil").logActionUsingFalco(a.guestID,a.pageID,"guest_chat_tab","message_send")};e.$20=function(){var a=this.context.state.pageID,b=d("MPNIdentity").MPNIdentity.currentUserID();if(this.state.uploadingAttachments.size!==0)return;var c=this.state.inputValue.trim();if(c&&c.length>0||this.state.attachmentsDataMap.size>0){c=this.$7.constructUserGeneratedMessageObject(c,"source:discovery:customer_chat_plugin",this.$8,null,null,this.$9);this.$4.length>0&&(c.has_attachment=!0,c.image_ids=this.$4);this.$1.length>0&&(c.has_attachment=!0,c.gif_ids=this.$1);this.$10.length>0&&(c.has_attachment=!0,c.video_ids=this.$10);this.$3.length>0&&(c.has_attachment=!0,c.file_ids=this.$3);this.$6.send(c);this.setState({inputValue:""});this.$22();d("LiveChatPluginLoggerUtil").logAction("customer_chat_message_sent",b,a,this.state.attachmentsDataMap.size>0?JSON.stringify({attachments:Array.from(this.state.attachmentsDataMap.keys())}):null);d("LiveChatPluginLoggerUtil").logActionUsingFalco((c=b)!=null?c:"",this.context.state.pageID,"logged_in_chat_tab","message_send")}};e.$22=function(){this.$2&&this.$2.removeAllAttachments()};e.focus=function(){this.$5&&this.$5.focusInput()};return b}(j.PureComponent);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNEmailPopover",["cx","CIWebmailValidator","FDSTextInput.react","MessagingPluginContext","ShimButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;c("stylex").inject(".bdao358l{box-sizing:border-box}",1);c("stylex").inject(".q70soi0s{min-width:100px}",1);c("stylex").inject(".pytsy3co{height:100%}",1);c("stylex").inject(".g6da2mms{border-top-left-radius:var(--card-corner-radius)}",1,".g6da2mms{border-top-right-radius:var(--card-corner-radius)}");c("stylex").inject(".yn3a2qjl{border-top-right-radius:var(--card-corner-radius)}",1,".yn3a2qjl{border-top-left-radius:var(--card-corner-radius)}");c("stylex").inject(".b52o6v01{border-bottom-right-radius:var(--card-corner-radius)}",1,".b52o6v01{border-bottom-left-radius:var(--card-corner-radius)}");c("stylex").inject(".a96hb305{border-bottom-left-radius:var(--card-corner-radius)}",1,".a96hb305{border-bottom-right-radius:var(--card-corner-radius)}");c("stylex").inject(".q566lc25{--T68779821:2px 2px 28px 0 var(--shadow-2),0 2px 4px 0 var(--shadow-1),inset 0 0 0 1px var(--shadow-inset);-webkit-box-shadow:var(--T68779821);box-shadow:2px 2px 28px 0 var(--shadow-2),0 2px 4px 0 var(--shadow-1),inset 0 0 0 1px var(--shadow-inset)}",1,".q566lc25{--T68779821:-2px 2px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1), inset 0 0 0 1px var(--shadow-inset);-webkit-box-shadow:var(--T68779821);box-shadow:-2px 2px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1), inset 0 0 0 1px var(--shadow-inset)}");c("stylex").inject(".oidp0d8r{height:120px}",1);c("stylex").inject(".om3e55n1{position:relative}",1);c("stylex").inject(".alzwoclg{display:flex}",1);c("stylex").inject(".rbcf3a04{margin-bottom:10px}",1);c("stylex").inject(".m1sz59gt{width:230px}",1);c("stylex").inject(".jvc6uz2b{height:36px}",1);c("stylex").inject(".i2mu9gw5{margin-left:16px}",1);c("stylex").inject(".fzsidkae{margin-top:2px}",1);c("stylex").inject(".dmdr2h6l{height:20px}",1);c("stylex").inject(".g4qalytl{padding-top:16px}",1);c("stylex").inject(".r227ecj6{padding-right:16px}",1,".r227ecj6{padding-left:16px}");c("stylex").inject(".rl78xhln{padding-bottom:0}",1);c("stylex").inject(".gt60zsk1{padding-left:16px}",1,".gt60zsk1{padding-right:16px}");c("stylex").inject(".gwsd3lvj{margin-right:36px}",1);c("stylex").inject(".k1z55t6l{font-size:0.9375rem}",1);c("stylex").inject(".dd2714hp{letter-spacing:-0.24px}",1);c("stylex").inject(".bq6qj4t2{color:#050505}",1);({showEmailPopover:!0});function a(a){var b=j(c("MessagingPluginContext")),e=m(""),f=e[0],g=e[1];e=m(null);var h=e[0],n=e[1];e=m(!0);var o=e[0],p=e[1];e=m(!0);var q=e[0],r=e[1];e=b.state.threadCSSColor;b=l(null);var s="Please enter your email",t=m(s),u=t[0],v=t[1];t=i.jsxs("div",{className:"q566lc25 a96hb305 b52o6v01 yn3a2qjl g6da2mms pytsy3co q70soi0s bdao358l",children:[i.jsx("div",{className:"bq6qj4t2 dd2714hp k1z55t6l gwsd3lvj gt60zsk1 rl78xhln r227ecj6 g4qalytl dmdr2h6l",style:{lineHeight:"15px"},children:"Leave your email. You will receive 10% off!\ud83d\udd25 "}),i.jsxs("div",{className:"rbcf3a04 alzwoclg",children:[i.jsx("div",{className:"fzsidkae i2mu9gw5 jvc6uz2b m1sz59gt",children:i.jsx(c("FDSTextInput.react"),{description:u,label:"",errorMessage:h,onChange:g,onClear:function(){return g("")},onEnter:function(){},placeholder:"email@email.com",value:f,size:"large"})}),i.jsx(c("ShimButton.react"),{style:{flex:"1",background:e,height:"36px",marginRight:"16px",borderRadius:"5px",cursor:"pointer",display:"flex",fontSize:"14px",justifyContent:"center",width:"165px",backgroundColor:q?"#E0E0E0":e},className:"_9jru _9u1x",onClick:function(){q||p(!1)},children:i.jsx("div",{style:{color:"white"},children:"Submit"})})]})]});k(function(){f==null||f===""?(r(!0),n(null),v(s)):!d("CIWebmailValidator").isValidEmail(f)?(r(!0),n("Please enter a valid email"),v(null)):(r(!1),n(null),v(s))},[f,s]);u=0;h=0;e="translate("+u+"px, "+h+"px)";return o?i.jsx("div",{className:"om3e55n1 oidp0d8r",style:{transform:e,marginLeft:a.isMobile===!0?"25%":"0%",width:a.isMobile===!0?"73%":"375px"},ref:b,children:t}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopThreadPage.react",["cx","JSResource","LiveChatPluginConstants","LiveChatPluginLoggerUtil","MPNBlockedPageComposer.react","MPNConstants","MPNDesktopDialogHeader.react","MPNDesktopGuestUpgradeUpsellPrompt.react","MPNDesktopMessageComposer.react","MPNEmailPopover","MPNEndChatPrompt.react","MPNEndChatPromptV2.react","MPNIdentity","MPNLocalState","MPNUpgradePopover.react","MPNXDMessageManager","MessagingPluginContext","MessengerSpinner.react","MessengerState.bs","gkx","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("lazyLoadComponent")(c("JSResource")("MessagingPluginDialogBody.react").__setRef("MPNDesktopThreadPage.react")),j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogBodyHeight:-1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=d("LiveChatPluginConstants").THREAD_PAGE_HEIGHT+d("LiveChatPluginConstants").THREAD_PAGE_PADDING_HEIGHT;c("MPNXDMessageManager").resizeIframe(a)};e.render=function(){var a=this,b=this.context.state,e=b.optimisticStorageState,f=b.pageID,g=b.isPageBlocked,h=b.showUpgradeUpsellPrompt;b=b.useNewUpgradeTriggersWithNewDesign;var k=d("MPNIdentity").MPNIdentity.currentUserID(),l=d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.GUEST;try{return j.jsx("div",{role:"none",className:"_94vg",children:j.jsx("div",{className:e.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED?"_91hz":"",children:j.jsxs("div",{className:"_94vh",children:[j.jsx(c("MPNDesktopDialogHeader.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history}),c("gkx")("1896")&&l===!0?j.jsx(c("MPNEmailPopover"),{}):j.jsx(c("MPNUpgradePopover.react"),{}),j.jsxs("div",{className:"_424s",children:[e.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED&&j.jsx("div",{className:"spinner",children:j.jsx(c("MessengerSpinner.react"),{color:"blue",size:c("MessengerSpinner.react").large_size})}),j.jsx(j.Suspense,{fallback:j.jsx("div",{className:"spinner",children:j.jsx(c("MessengerSpinner.react"),{color:"blue",size:c("MessengerSpinner.react").large_size})}),children:e.chatState!==d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED&&j.jsx(d("MessengerState.bs").jsComponent,{fbid:k,children:function(b){return j.jsx(i,{deliveryReceipt:d("MessengerState.bs").deliveryReceipts(b),dialogBodyHeight:a.state.dialogBodyHeight,messengerState:b,readReceipt:null,sendRef:function(){}})}})})]}),e.showUpgradePrompt==null||e.showUpgradePrompt===d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN||!h?null:j.jsx(c("MPNDesktopGuestUpgradeUpsellPrompt.react"),{color:this.context.state.threadCSSColor,prompt:this.context.state.optimisticStorageState.showUpgradePrompt,history:this.props.history}),b===!0&&l===!0&&h?j.jsx(c("MPNEndChatPromptV2.react"),{isGuest:l,history:this.props.history,shouldMinimize:!1}):j.jsx(c("MPNEndChatPrompt.react"),{isGuest:l,history:this.props.history,shouldMinimize:!1}),g&&e.chatState===d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED?j.jsx(c("MPNBlockedPageComposer.react"),{}):j.jsx(c("MPNDesktopMessageComposer.react"),{onBlur:function(){},onChange:function(){},onClick:function(){},onFocus:function(){},ref:function(b){return a.$1=b}})]},"dialog_container")})})}catch(a){d("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",f,d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab",a.name,a.message,a.stack)}};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopWelcomePage.react",["LiveChatPluginLoggerUtil","MPNDesktopWelcomePageModal.react","MPNIdentity","MessagingPluginContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=this.context.state,b=a.pageID,c=a.pluginMountTime;a=a.hasGuestMode;var e=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;d("LiveChatPluginLoggerUtil").logImpressionUsingFalco(b,a?"welcome_page_with_guest_option":"welcome_page",c,a?[e?"continue_as":"chat_in_messenger","continue_as_guest"]:["chat_in_messenger"])};e.render=function(){try{return h.jsx(c("MPNDesktopWelcomePageModal.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,useITPContinueButton:!1})}catch(c){var a=this.context.state,b=a.pageID;a=a.hasGuestMode;d("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",b,a?"welcome_page_with_guest_option":"welcome_page",c.name,c.message,c.stack)}};return b}(h.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopWelcomeMessagePage.react",["cx","Arbiter","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNConstants","MPNLocalState","MPNNavigation","MPNWelcomeMessageMinusButtonSVG.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","ShimButton.react","react","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=j(c("MessagingPluginContext")),e=b.state,f=e.alignment,g=e.bottomSpacing,h=e.sideSpacing,n=e.loggedInGreeting,o=e.pageID,p=e.serverTime,q=e.clientRequestTime;e=m(!1);var r=e[0],s=e[1];e=l(null);var t=c("useResizeObserver")(function(a,b){a=b.clientHeight+12;c("MPNXDMessageManager").resizeIframe(a)});k(function(){var a=c("Arbiter").subscribe(d("LiveChatPluginConstants").NAVIGATE_TO_WELCOME_PAGE,function(a){s(!0),v()});return function(){a&&a.unsubscribe()}});k(function(){d("LiveChatPluginLoggerUtil").logImpressionUsingXController(o,"bubble",p,null,null,null,null,q)},[o,q,p]);var u=function(){a.ActionDelegate&&a.ActionDelegate.minimize(),window.setTimeout(function(){var e;d("MPNNavigation").navigateToRoute(a.history,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);c("MPNXDMessageManager").setupDesktopIframe((e=f)!=null?e:"right",(e=g)!=null?e:0,(e=h)!=null?e:0,d("MessagingPluginPathUtils").MPN_PATH.WELCOME,!1);e={path:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.HIDDEN};b.dispatchAction({type:"START_CHAT",optimisticStorageState:e})},100)},v=function(){window.setTimeout(function(){var e;d("MPNNavigation").navigateToRoute(a.history,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);c("MPNXDMessageManager").setupDesktopIframe((e=f)!=null?e:"right",(e=g)!=null?e:0,(e=h)!=null?e:0,d("MessagingPluginPathUtils").MPN_PATH.WELCOME,!0);e={path:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};b.dispatchAction({type:"START_CHAT",optimisticStorageState:e})},100)},w=f==="left"?"_9ptl":"_9ptk",x=f==="left"?"_9ptn":"_9ptm",y=f==="left"?"_9ptp":"_9pto";r=r?"_9po3":"_9po2";return i.jsxs("div",{className:r,ref:e,children:[i.jsx(c("ShimButton.react"),{onClick:function(){v(),d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b.state.pageID,"plugin_icon",{opened_tab:"bubble"})},children:i.jsx("div",{"data-testid":void 0,className:w,ref:t,children:i.jsx("div",{className:x,children:n!=null?n:d("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()})})}),i.jsx("div",{className:y,children:i.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:u,className:"_9pti",children:i.jsx(c("MPNWelcomeMessageMinusButtonSVG.react"),{})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopRoute.react",["ChatPluginGuestUserEmailCollection.react","MPNDesktopITPContinuePage.react","MPNDesktopThreadPage.react","MPNDesktopWelcomePage.react","MessagingPluginDesktopWelcomeMessagePage.react","MessagingPluginPathUtils","ReactRouterDOM","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){var b=a.path,e=a.ActionDelegate;return h.jsx(d("ReactRouterDOM").BrowserRouter,{children:h.jsxs(d("ReactRouterDOM").Switch,{children:[h.jsx(d("ReactRouterDOM").Route,{render:function(a){return h.jsx(c("MPNDesktopWelcomePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.WELCOME}),h.jsx(d("ReactRouterDOM").Route,{render:function(a){return h.jsx(c("MPNDesktopITPContinuePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE}),h.jsx(d("ReactRouterDOM").Route,{render:function(a){return h.jsx(c("MPNDesktopThreadPage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.THREAD}),h.jsx(d("ReactRouterDOM").Route,{render:function(a){return h.jsx(c("MessagingPluginDesktopWelcomeMessagePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.BUBBLE}),h.jsx(d("ReactRouterDOM").Route,{render:function(a){return h.jsx(c("ChatPluginGuestUserEmailCollection.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.EMAIL}),h.jsx(d("ReactRouterDOM").Redirect,{to:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopWrapper.react",["Arbiter","Bootloader","CreateCustomerChatPluginGuestUserMutation","LiveChatMqttClient","LiveChatPluginConstants","LiveChatPluginLoggerUtil","LiveChatPluginMessengerIconSVGWithColor.react","MPNConstants","MPNDesktopIcon.react","MPNDesktopRoute.react","MPNIdentity","MPNLocalState","MPNNavigation","MPNStorage","MPNUnreadCountBadge.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginGuestUpgradeActions","MessagingPluginPathUtils","MessagingPluginSDKActionUtil","MessagingPluginThreadActions","ReactDOM","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={NONE:0,CREATE_GUEST_SESSION:1,START_NEW_THREAD:2,GUEST_UPGRADE:3,GUEST_UPGRADE_SWITCH_ACCOUNT:4};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.actionOnInit=i.NONE;c.iconIframeLoaded=!1;c.unreadCountIframeLoaded=!1;c.$2=null;c.initialPath=c.$5();if(c.props.redirectCommand!=null)switch(c.props.redirectCommand){case d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION:c.actionOnInit=i.CREATE_GUEST_SESSION;break;case d("MPNConstants").MPNRedirect.FB_LOG_IN:c.actionOnInit=i.START_NEW_THREAD;break;case d("MPNConstants").MPNRedirect.GUEST_UPGRADE:c.actionOnInit=i.GUEST_UPGRADE;break;case d("MPNConstants").MPNRedirect.GUEST_UPGRADE_SWITCH_ACCOUNT:c.actionOnInit=i.GUEST_UPGRADE_SWITCH_ACCOUNT;break;default:break}c.ActionDelegate={onContinueAsGuest:c.onContinueAsGuest.bind(babelHelpers.assertThisInitialized(c)),openThreadWithCurrentFBUser:function(){d("MessagingPluginThreadActions").openThreadWithCurrentFBUser(c.context)},openThreadWithInterstitial:function(a){d("MessagingPluginThreadActions").openThreadWithInterstitial(c.context,a)},onChatInMessenger:function(){},minimize:function(){d("MPNNavigation").minimizePlugin(c.context,!1)},maximize:function(){d("MPNNavigation").maximizePlugin(c.context,!1)},togglePluginVisibility:c.togglePluginVisibility.bind(babelHelpers.assertThisInitialized(c))};c.$1=window.name;return c}var e=b.prototype;e.$5=function(){var a=this.props.redirectCommand;return a===d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION||a===d("MPNConstants").MPNRedirect.FB_LOG_IN?d("MessagingPluginPathUtils").MPN_PATH.THREAD:this.props.path};e.componentDidMount=function(){var a=this.context.state,b=a.alignment,e=a.bottomSpacing,f=a.sideSpacing,g=a.shouldIconDelay,h=a.optimisticStorageState;a=a.isSDKRewriteEnabled;var i=this.initialPath===d("MessagingPluginPathUtils").MPN_PATH.BUBBLE||h.visibility==d("MPNConstants").MPNVisibility.NOT_HIDDEN;this.$6();c("MPNXDMessageManager").setupDesktopIframe(b,e,f,this.initialPath,a?i:h.visibility==d("MPNConstants").MPNVisibility.NOT_HIDDEN,g);this.initialPath===d("MessagingPluginPathUtils").MPN_PATH.BUBBLE&&(c("MPNStorage").setVisibility(d("MPNConstants").MPNVisibility.NOT_HIDDEN),this.context.dispatchAction({type:"UPDATE_DIALOG_VISIBILITY",dialogVisibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN}));this.$7();this.$8()};e.componentWillUnmount=function(){this.$3&&window.clearTimeout(this.$3),this.$4&&window.clearTimeout(this.$4)};e.componentDidUpdate=function(){this.$8()};e.$8=function(){var a=this,b=this.context.state,e=b.optimisticStorageState,f=b.pageID,g=b.pageName,h=b.accessToken;b=b.loggedInAccessToken;var i=d("MPNIdentity").MPNIdentity.currentUserID();if(this.$2==i||e.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED||i==null)return;e=d("MPNIdentity").MPNIdentity.currentUserState();e===d("MPNIdentity").MPNIdentityState.FB&&(c("LiveChatMqttClient").setUp(f,i,null,function(){return a.$2=i},b),c("Bootloader").loadModules(["LiveChatPluginAlerts","MercurySyncDeltaHandler"],function(a,b){a.init(i,f,g,new Map(),!1,0),b.getForFBID(i),c("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:i,seqID:0})},"MPNDesktopWrapper.react"));e===d("MPNIdentity").MPNIdentityState.GUEST&&(h!=null&&(c("LiveChatMqttClient").setUp(f,i,null,null,h),this.$2=i))};e.$6=function(){var a=this,b=this.context.state,e=b.alignment,f=b.bottomSpacing,g=b.sideSpacing;b=b.uiPolishEnabled;var i=this.context.state,j=h.jsx(c("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:i.threadCSSColor});c("MPNXDMessageManager").setupIconIframe(this.$1,e,f,g,j,b,this.$9());c("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","bubbleFrameLoaded",function(b){try{if(b.data.frameName!=null&&!a.iconIframeLoaded){var e=h.jsx(c("MPNDesktopIcon.react"),{threadColor:i.threadCSSColor,actionDelegate:a.ActionDelegate,pageID:i.pageID,pluginRequestTime:i.serverTime,initialVisibility:i.optimisticStorageState.visibility,clientRequestTime:i.clientRequestTime}),f=parent.frames[b.data.frameName].document.body;d("ReactDOM").render(e,f);a.iconIframeLoaded=!0}if(b.data.unreadCountFrameName!=null){e=h.jsx(c("MPNUnreadCountBadge.react"),{});f=parent.frames[b.data.unreadCountFrameName].document.body;d("ReactDOM").render(e,f);a.unreadCountIframeLoaded=!0}a.$10()}catch(c){d("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",a.context.state.pageID,"plugin_icon",c.name,c.message,c.stack,JSON.stringify({eventData:b.data,unreadCountIframeLoaded:a.unreadCountIframeLoaded,iconIframeLoaded:a.iconIframeLoaded}))}})};e.$9=function(){var a=this.context.state,b=a.shouldIconDelay;a=a.optimisticStorageState;if(a.visibility===d("MPNConstants").MPNVisibility.NOT_HIDDEN)return a.path===d("MPNLocalState").MPNLocalStatePath.BUBBLE&&b;else return b};e.$10=function(){var a=this,b=this.context.state,c=b.greetingDialogDelay,e=b.greetingDialogDisplay;b=b.isInitialLoad;if(!b)return;b=!1;var f=0,g=c;switch(e){case"show":case"unset":b=c>0;break;case"fade":b=c>0;g=c;f=d("LiveChatPluginConstants").PLUGIN_FADE_DELAY;break;case"hide":b=!1;break;default:break}if(!b)return;this.$3=window.setTimeout(function(){a.$11(f)},g)};e.$11=function(a){var b=this,c=this.context.state.optimisticStorageState;c.visibility===d("MPNConstants").MPNVisibility.HIDDEN&&(d("MPNNavigation").maximizePlugin(this.context,!1),a&&(this.$4=window.setTimeout(function(){c.visibility!==d("MPNConstants").MPNVisibility.HIDDEN&&d("MPNNavigation").minimizePlugin(b.context,!1)},a)))};e.$7=function(){var a=this;c("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.SDK.Called",function(b){d("MessagingPluginSDKActionUtil").logSDKCalls(a.context,b)});c("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","updateCustomerChat",function(b){d("MessagingPluginSDKActionUtil").updateGreetingTextAndRefParam(a.context,b)});c("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.isDialogHidden",function(b){d("MessagingPluginSDKActionUtil").updateDialogVisibility(a.context,b)})};e.render=function(){switch(this.actionOnInit){case i.CREATE_GUEST_SESSION:this.actionOnInit=i.NONE;this.onContinueAsGuest(function(){c("MPNStorage").clearRedirectCommand()});break;case i.START_NEW_THREAD:this.actionOnInit=i.NONE;c("MPNStorage").clearRedirectCommand();d("MessagingPluginThreadActions").openThreadWithCurrentFBUser(this.context);break;case i.GUEST_UPGRADE:this.actionOnInit=i.NONE;c("MPNStorage").clearRedirectCommand();d("MessagingPluginGuestUpgradeActions").clearGuestStorage(this.context);d("MessagingPluginGuestUpgradeActions").setPluginStateToUpgradedThread(this.context);break;case i.GUEST_UPGRADE_SWITCH_ACCOUNT:this.actionOnInit=i.NONE;c("MPNStorage").clearRedirectCommand();d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.GUEST_UPGRADE}));c("MPNXDMessageManager").reloadPlugin()},250);break;default:break}return this.context.state.optimisticStorageState.visibility==d("MPNConstants").MPNVisibility.NOT_HIDDEN||this.iconIframeLoaded?h.jsx(c("MPNDesktopRoute.react"),{path:this.initialPath,ActionDelegate:this.ActionDelegate}):null};e.onContinueAsGuest=function(a){var b=this,e=this.context.state,f=e.pageID;e=e.locale;d("CreateCustomerChatPluginGuestUserMutation").commit({input:{page_id:f,locale:e}},{onSuccess:function(c){c=c.create_customer_chat_plugin_guest_user;var e=c==null?void 0:c.session_key,f=c==null?void 0:c.fbid,g=c==null?void 0:c.access_token;c=c==null?void 0:c.is_lightswitch_enabled;e!=null&&f!=null&&g!=null&&c!=null&&(d("MessagingPluginThreadActions").startChatAsGuest(b.context,g,f,c),a(f,g))},onFailure:function(a){c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState(),c("MPNXDMessageManager").reloadPlugin(),d("LiveChatPluginLoggerUtil").logNewAction("guest_session_create_failure",null,f,"guest_chat_tab")}})};e.togglePluginVisibility=function(){var a=this.context.state.optimisticStorageState;if(a.path==d("MPNLocalState").MPNLocalStatePath.BUBBLE){d("MPNNavigation").maximizePlugin(this.context,!1);return}a.visibility===d("MPNConstants").MPNVisibility.NOT_HIDDEN?d("MPNNavigation").minimizePlugin(this.context,!1):a.visibility===d("MPNConstants").MPNVisibility.HIDDEN&&d("MPNNavigation").maximizePlugin(this.context,!1)};return b}(h.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopRoot",["cx","CometBlueBridgeKeyCommandListener.react","LiveChatPluginErrorBoundary.react","MPNCacheVersioning","MPNConstants","MPNDesktopWrapper.react","MPNIdentity","MPNLocalState","MPNStorage","MPNXDMessageManager","MessagingPluginPathUtils","MessagingPluginStateProvider","ReactDOM","URI","performanceAbsoluteNow","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(){function a(a){var b=a.alignment,c=a.pageID,d=a.container,e=a.serverTime,f=a.clientRequestTime,g=a.pagePassesSentryTest,h=a.hasMessagingPermission,i=a.isMuted,j=a.isPageBlocked,k=a.isBusinessActive,l=a.requestID,m=a.refererUri,n=a.originDomain,o=a.soundURLs,p=a.hasGuestMode,q=a.showUpgradeUpsellPrompt,r=a.hasAutomation,s=a.appSwitchUri,t=a.upgradeAppSwitchUri,u=a.storedStates,v=a.isComposerDisabled,w=a.hasPersistentMenu,x=a.pageName,y=a.pageProfilePictureUri,z=a.viewerProfilePicureUri,A=a.pageResponsiveness,B=a.isInstantlyResponsive,C=a.refParam,D=a.pageVerifiedStatus,E=a.greetingDialogDelay,F=a.greetingDialogDisplay,G=a.loggedInGreeting,H=a.loggedOutGreeting,I=a.threadCSSColor,J=a.locale,K=a.icebreakers,L=a.icebreakerCtas,M=a.bottomSpacing,N=a.sideSpacing,O=a.isPageInEU,P=a.threadExists,Q=a.uiPolishEnabled,R=a.shouldShowWelcomeMessageBubble,S=a.shouldIconDelay,T=a.loggedInAccessToken,U=a.isSanitizedEpd3pdRequest,V=a.useNewUpgradeTriggersWithNewDesign,W=a.useNewUpgradeDesignWithOldTriggers,X=a.shouldShowThreadHeaderResponsivenessText,aa=a.isSDKRewriteEnabled;a=a.is1PInboxImprovementEnabled;try{this.$1(b,c,d,e,f,g,h,i,j,k,l,m,n,o,s,t,p,q,r,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,aa,a)}catch(a){}}var b=a.prototype;b.$1=function(a,b,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,aa,ba,ca,da){var ea=this;c("MPNXDMessageManager").setIsSDKRewriteEnabled(ca);var fa=!1;c("MPNStorage").initialize(p,b,n);d("MPNIdentity").MPNIdentity.hasStorageAccess(function(ga){d("MPNIdentity").MPNIdentity.init(ga,W);var ha=n,Y=w;Y&&(d("MPNCacheVersioning").isLatestVersion(Y.v)||(c("MPNStorage").clearThirdPartyStorageState(),Y=null));Y||(Y=ea.$2(H,G,T),c("MPNStorage").setThirdPartyStorageState(Y));var ia=!1,ja,ka,la=Y.visibility;if(ga){var Z,$=c("MPNStorage").getFBStorageState();Z=(Z=$)==null?void 0:Z.rdr;Z==null&&!d("MPNCacheVersioning").isLatestVersion((Z=$)==null?void 0:Z.v)&&(c("MPNStorage").clearFBStorageState(),$=c("MPNStorage").getFBStorageState());c("MPNStorage").isAccessTokenExpired()&&(c("MPNStorage").clearFBStorageState(),Y=ea.$2(H,G,T),c("MPNStorage").setThirdPartyStorageState(Y));if($!=null&&$.requestID!=null&&$.requestID!=""){Z=$.requestID;($.rdr===d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION||$.rdr===d("MPNConstants").MPNRedirect.ITP_CONTINUE_SESSION)&&(ha=Z,c("MPNStorage").initialize(p,b,Z))}fa=c("MPNStorage").setInitialStateIfNecessary(!1,la,H,T);$=c("MPNStorage").getFBStorageState();if($!=null){ia=$.chatState!=d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED;ja=$.accessToken;ka=$.userID;la=$.visibility;Y=babelHelpers["extends"]({},Y,{path:$.currentPath,chatState:$.chatState,visibility:$.visibility,showUpgradePrompt:(Z=$.showUpgradePrompt)!=null?Z:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN});c("MPNStorage").setThirdPartyStorageState(Y)}}$=ea.$3(ga,Y);ca||(la===d("MPNConstants").MPNVisibility.HIDDEN&&$!=d("MessagingPluginPathUtils").MPN_PATH.BUBBLE&&c("MPNXDMessageManager").updateAppearance(!0,!0,"false","false",null,a,$,!0),$===d("MessagingPluginPathUtils").MPN_PATH.BUBBLE&&c("MPNXDMessageManager").updateAppearance(!0,!1,"false","false",null,a,$,!0));d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});Z={alignment:a,pageID:b,pageName:z,pagePassesSentryTest:h,hasMessagingPermission:j,isMuted:k,isPageBlocked:l,pageProfilePictureUri:A,viewerProfilePicureUri:B,threadCSSColor:K,pageResponsiveness:C,isInstantlyResponsive:D,isComposerDisabled:x,hasActiveAutomation:!1,hasPersistentMenu:y,greetingDialogDelay:G,greetingDialogDisplay:H,loggedInGreeting:I,loggedOutGreeting:J,refParam:E,refererUri:o,originDomain:p,appSwitchUri:r,upgradeAppSwitchUri:s,locale:L,isBusinessActive:m,icebreakers:M,icebreakerCtas:N,pageVerifiedStatus:F,initialRequestUri:c("URI").getRequestURI(),requestID:ha,bottomSpacing:O,sideSpacing:P,chatStarted:ia,accessToken:ja,guestID:ka,optimisticStorageState:Y,soundURLs:q,isInitialLoad:fa,hasGuestMode:t,showUpgradeUpsellPrompt:u,pluginMountTime:c("performanceAbsoluteNow")(),serverTime:f,clientRequestTime:g,upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,messageCount:null,cookieAccessDenied:!1,hasAutomation:v&&!Q,isPageInEU:Q,threadExists:R,uiPolishEnabled:S,shouldIconDelay:U,isLightswitchEnabledForGuest:!1,loggedInAccessToken:V,isSanitizedEpd3pdRequest:W,useNewUpgradeTriggersWithNewDesign:X,useNewUpgradeDesignWithOldTriggers:aa,shouldShowThreadHeaderResponsivenessText:ba,isSDKRewriteEnabled:ca,is1PInboxImprovementEnabled:da};d("ReactDOM").render(i.jsx(c("LiveChatPluginErrorBoundary.react"),{pageID:b,children:i.jsx(c("CometBlueBridgeKeyCommandListener.react"),{children:i.jsx(c("MessagingPluginStateProvider"),{initialState:Z,children:i.jsx("div",{className:"_95ry",children:i.jsx(c("MPNDesktopWrapper.react"),{path:$,redirectCommand:c("MPNStorage").getRedirectCommand()})})})})}),e)})};b.$2=function(a,b,c){if(c&&a==="hide")return{path:d("MPNLocalState").MPNLocalStatePath.BUBBLE,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};c=a==="hide"||a==="icon"||b>0;return{path:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:c?d("MPNConstants").MPNVisibility.HIDDEN:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN}};b.$3=function(a,b){var e=d("MessagingPluginPathUtils").MPN_PATH.WELCOME;if(a){a=c("MPNStorage").getFBStorageState();a!=null&&a.currentPath!=null?d("MPNIdentity").MPNIdentity.isITPUserAgent()&&a.currentPath===d("MPNLocalState").MPNLocalStatePath.BUBBLE?(e=d("MessagingPluginPathUtils").MPN_PATH.WELCOME,c("MPNXDMessageManager").storeThirdPartyState(d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,a.chatState)):(e=d("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(a.currentPath),c("MPNXDMessageManager").storeThirdPartyState(a.currentPath,a.chatState)):b!=null&&a==null&&c("MPNXDMessageManager").removeThirdPartyState()}else b!=null&&b.path!=null&&(e=d("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(b.path)),e==d("MessagingPluginPathUtils").MPN_PATH.THREAD&&(e=d("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE);return e};return a}();g["default"]=a}),98);