(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{680:function(e,r,a){"use strict";var l=a(708),o={getGlobalPlayerStatus:function(e){e.commit;return new Promise((function(e,r){l.a.getGlobalPlayerStatus().success((function(r){"success"===r.status&&e(r)})).error((function(e){r(e)}))}))},getGlobalPlayerQueueLoadMore:function(e,r){var a=e.commit,o=e.state,t=e.getters;return new Promise((function(e,n){if("prev"===r&&t.globalPlayerQueue_can_load_more_prev&&!t.autoLoadMoreForceStopPrev||"next"===r&&t.globalPlayerQueue_can_load_more_next&&!t.autoLoadMoreForceStopNext){var u=o.globalPlayerQueue[0].queue_index-1;"next"===r&&(u=o.globalPlayerQueue[o.globalPlayerQueue.length-1].queue_index+1);var c={queue_id:o.globalPlayerQueue_id,direction:r,start_index:u};l.a.getGlobalPlayerQueueLoadMore(c).success((function(l){a("appendGlobalPlayerQueueList",{direction:r,tracks:l.data.tracks}),e(l)})).error((function(e){n(e)}))}else n({direction:r,tracks:[]})}))},getGlobalPlayerRecommend:function(e){var r=e.commit;return new Promise((function(e,a){l.a.getGlobalPlayerRecommend().success((function(a){"success"===a.status&&r("setGlobalPlayerRecommend",a.data),e(a)})).error((function(e){a(e)}))}))},clearGlobalPlayerQueue:function(e,r){var a=e.commit;return new Promise((function(e,o){l.a.clearGlobalPlayerQueue(r).success((function(r){a("reloadGlobalPlayerQueueTrigger",null,{root:!0}),e()})).error((function(e){a("reloadGlobalPlayerQueueTrigger",null,{root:!0}),o(e)}))}))},updateIndexFromPlayQueueList:function(e,r){e.commit;return new Promise((function(e,a){var o={queue_id:r.queue_id||"",play_index:r.play_index||0};l.a.updateIndexFromPlayQueueList(o).success((function(r){e(r)})).error((function(e){a(e)}))}))},removeTrackFromMyListIndex:function(e,r){e.commit;return new Promise((function(e,a){var o={playlist_id:r.playlist_id||"",index:r.index||0};l.a.removeTrackFromMyListIndex(o).success((function(r){e(r)})).error((function(e){a(e)}))}))}};function t(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,l)}return a}function n(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var u={changeGlobalPlayerBoxOpen:function(e,r){e.globalPlayerBoxOpen!==r&&(e.globalPlayerBoxOpen=!!r)},changeGlobalPlayerInfoProcessReciprocal:function(e,r){void 0===r?e.globalPlayerInfoProcessReciprocal=!e.globalPlayerInfoProcessReciprocal:e.globalPlayerInfoProcessReciprocal!==r&&(e.globalPlayerInfoProcessReciprocal=!!r)},setGlobalPlayerInfoPlaySpeed:function(e,r){e.globalPlayerInfoPlaySpeed=r},changeGlobalPlayerStatus:function(e,r){var a="control";switch(r){case"collect":a="collect";break;case"queue":a="queue";break;case"control":default:a="control"}e.globalPlayerStatus=a},changeGlobalPlayerLoopType:function(e,r){var a=e.loopTypeList;if(r)a[r]&&(e.globalPlayerLoopType=r);else{var l=e.globalPlayerLoopType,o=Object.keys(a),t=o.indexOf(l)+1;t>=o.length&&(t=0),e.globalPlayerLoopType=o[t]}},setGlobalPlayerId:function(e,r){e.globalPlayerId=r},setLSGlobalPlayerId:function(e,r){e.LSGlobalPlayerId=r},triggerMiniPlayerNextTrack:function(e){e.miniPlayerNextTrack=(new Date).getTime()},setGlobalPlayerInfo:function(e,r){var a=JSON.parse(JSON.stringify(e.globalPlayerInfo));a=function(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(a,!0).forEach((function(r){n(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(a).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}({},a,{},r),e.globalPlayerInfo=a},setGlobalPlayerPlayIndex:function(e,r){e.globalPlayerQueue_player_index=r},setGlobalPlayerInfoPlayStatus:function(e,r){var a=r.force,l=r.status;if(l){switch(l){case"play":l="play";break;case"pause":l="pause";break;default:case"stop":l="stop"}e.globalPlayerInfoStatus!==l&&(e.globalPlayerInfoStatus=l)}!0===a&&(e.globalPlayerInfoCurrentTimeForce=!0)},setGlobalPlayerInfoCurrentTime:function(e,r){if(Number.isFinite(r)||!1===r?e.globalPlayerInfoCurrentTime=r:e.globalPlayerInfoCurrentTime=0,e.globalPlayerInfo.file_key){var a={file_key:e.globalPlayerInfo.file_key,last_time_second:r};this.commit("setPPGlobalPlayerAttachLastTimeSecond",a,{root:!0})}},setGlobalPlayerInfoCurrentTimeForce:function(e,r){e.globalPlayerInfoCurrentTimeForce=r},setGlobalPlayerInfoDuration:function(e,r){Number.isFinite(r)?e.globalPlayerInfoDuration=r:e.globalPlayerInfoDuration=0},setGlobalPlayerQueuePlayerIndex:function(e,r){e.globalPlayerQueue_player_index=r},setGlobalPlayerQueueInfo:function(e,r){var a=[],l=r.tracks.map((function(e){var r=e,l=r.attach;return r.file_key=l.file_key,a.push(l),delete r.attach,r}));this.commit("setPPGlobalPlayerAttachList",a,{root:!0}),e.globalPlayerQueue_id=r.id,e.globalPlayerQueue=l,e.globalPlayerQueue_player_index=r.play_index,e.globalPlayerQueue_last_update_time=r.last_updated_time,e.globalPlayerQueue_play_now=r.play_now,e.globalPlayerQueue_source_url=r.source_url,e.globalPlayerQueue_total_count=r.total_count,e.globalPlayerQueue_have_tracks_before=r.have_tracks_before,e.globalPlayerQueue_have_tracks_after=r.have_tracks_after,e.autoLoadMoreForceStopPrev=!1,e.autoLoadMoreForceStopNext=!1,e.globalPlayerReady=!0,l.length>0&&(e.globalPlayerRecommend=[])},appendGlobalPlayerQueueList:function(e,r){var a=JSON.parse(JSON.stringify(e.globalPlayerQueue)),l=[],o=r.tracks.map((function(e){var r=e,a=r.attach;return r.file_key=a.file_key,l.push(a),delete r.attach,r}));if(this.commit("setPPGlobalPlayerAttachList",l,{root:!0}),o.length>0)switch(r.direction){case"prev":a=o.concat(a);break;case"next":a=a.concat(o)}else switch(r.direction){case"prev":e.autoLoadMoreForceStopPrev=!0;break;case"next":e.autoLoadMoreForceStopNext=!0}e.globalPlayerQueue=a},setGlobalPlayerRecommend:function(e,r){var a=[],l=r.audios.map((function(e){var r=e,l=r.attach;return r.file_key=l.file_key,a.push(l),delete r.attach,r}));this.commit("setPPGlobalPlayerAttachList",a,{root:!0}),e.globalPlayerRecommend=l},setGlobalPlayerInfoTrackIndex:function(e,r){switch(r.type){case"nextTrackIndex":e.globalPlayerInfo_nextTrackIndex=r.value;break;case"prevTrackIndex":e.globalPlayerInfo_prevTrackIndex=r.value}}};a.d(r,"a",(function(){return c})),a.d(r,"b",(function(){return i}));var c="Common/GlobalPlayer",i={state:function(){return{LocalStorage_DEFAULT:{globalPlayerOpen:"globalPlayerOpen",globalPlayerId:"globalPlayerId",globalPlayerInfoStatus:"globalPlayerInfoStatus",globalPlayerQueueInfo:"globalPlayerQueueInfo",globalPlayerDurationInfo:"globalPlayerDurationInfo",globalPlayerLoopType:"globalPlayerLoopType",globalPlayerProcessReciprocal:"globalPlayerProcessReciprocal",globalPlayerInfoPlaySpeed:"globalPlayerInfoPlaySpeed",globalPlayerErrorUrl:"globalPlayerErrorUrl"},loopTypeList:{normal:{title:"æ­£åºæ­æ¾",icon:"icon-sound_autoplay_forward"},single_loop:{title:"å®æ²å¾ªç°",icon:"icon-sound_autoplay_loop"},once:{title:"æ­æ¾ä¸æ¬¡",icon:"icon-sound_autoplay_none"}},globalPlayerId:"",LSGlobalPlayerId:"",miniPlayerNextTrack:!1,globalPlayerBoxOpen:!1,globalPlayerStatus:"control",globalPlayerReady:!1,globalPlayerLoopType:"normal",globalPlayerInfo:{timeline_key:"",album_id:"",head_title:"",head_title_url:"",track_title:"",track_title_url:"",has_description:!1,cover_url:"",track_type:"",track_source:"",is_collected:"",can_play:!1,project_id:"",file_key:""},globalPlayerInfoStatus:"stop",globalPlayerInfoCurrentTime:!1,globalPlayerInfoCurrentTimeForce:!1,globalPlayerInfoDuration:0,globalPlayerInfoProcessReciprocal:!1,globalPlayerInfoPlaySpeed:1,globalPlayerInfo_nextTrackIndex:-1,globalPlayerInfo_prevTrackIndex:-1,globalPlayerQueue_id:"",globalPlayerQueue_player_index:0,globalPlayerQueue_last_update_time:"",globalPlayerQueue_play_now:"",globalPlayerQueue_source_url:"",globalPlayerQueue:[],globalPlayerQueue_total_count:0,globalPlayerQueue_have_tracks_before:!1,globalPlayerQueue_have_tracks_after:!1,autoLoadMoreForceStopNext:!1,autoLoadMoreForceStopPrev:!1,globalPlayerRecommend:[]}},mutations:u,actions:o,getters:{LocalStorage_DEFAULT:function(e){return e.LocalStorage_DEFAULT},globalPlayerId:function(e){return e.globalPlayerId},LSGlobalPlayerId:function(e){return e.LSGlobalPlayerId},loopTypeList:function(e){return e.loopTypeList},globalPlayerLoopType:function(e){return e.globalPlayerLoopType},miniPlayerNextTrack:function(e){return e.miniPlayerNextTrack},globalPlayerBoxOpen:function(e){return e.globalPlayerBoxOpen},globalPlayerStatus:function(e){return e.globalPlayerStatus},globalPlayerReady:function(e){return e.globalPlayerReady},globalPlayerInfo:function(e){return e.globalPlayerInfo},globalPlayerInfoLite:function(e){var r={};return["project_id","channel_id","album_id","timeline_key","file_key","track_source","track_type"].forEach((function(a){r[a]=e.globalPlayerInfo[a]})),r},globalPlayerInfoStatus:function(e){return e.globalPlayerInfoStatus},globalPlayerInfoCurrentTime:function(e){return e.globalPlayerInfoCurrentTime},globalPlayerInfoCurrentTimeForce:function(e){return e.globalPlayerInfoCurrentTimeForce},globalPlayerInfoDuration:function(e){return e.globalPlayerInfoDuration},globalPlayerInfoProcessReciprocal:function(e){return e.globalPlayerInfoProcessReciprocal},globalPlayerInfoPlaySpeed:function(e){return e.globalPlayerInfoPlaySpeed},globalPlayerQueue_id:function(e){return e.globalPlayerQueue_id},globalPlayerQueue_player_index:function(e){return e.globalPlayerQueue_player_index},globalPlayerQueue_source_url:function(e){return e.globalPlayerQueue_source_url},globalPlayerQueue:function(e){return e.globalPlayerQueue},globalPlayerQueueIndexToArrayIndexMapping:function(e){var r={};return e.globalPlayerQueue.forEach((function(e,a){r[e.queue_index]=a})),r},globalPlayerQueue_can_load_more_prev:function(e){return 0!==e.globalPlayerQueue[0].queue_index},globalPlayerQueue_can_load_more_next:function(e){return e.globalPlayerQueue[e.globalPlayerQueue.length-1].queue_index!==e.globalPlayerQueue_total_count-1},autoLoadMoreForceStopPrev:function(e){return e.autoLoadMoreForceStopPrev},autoLoadMoreForceStopNext:function(e){return e.autoLoadMoreForceStopNext},globalPlayerQueue_have_tracks_before:function(e){return e.globalPlayerQueue_have_tracks_before},globalPlayerQueue_have_tracks_after:function(e){return e.globalPlayerQueue_have_tracks_after},globalPlayerQueue_total_count:function(e){return e.globalPlayerQueue_total_count},globalPlayerInfo_nextTrackIndex:function(e){return e.globalPlayerInfo_nextTrackIndex},globalPlayerInfo_prevTrackIndex:function(e){return e.globalPlayerInfo_prevTrackIndex},globalPlayerQueueInfoLite:function(e){return{id:e.globalPlayerQueue_id,player_index:e.globalPlayerQueue_player_index,track_count:e.globalPlayerQueue.length}},globalPlayerRecommend:function(e){return e.globalPlayerRecommend}},namespaced:!0}},708:function(e,r,a){"use strict";var l=a(10),o=a(0);function t(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,l)}return a}function n(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var u=l.a.API_CONFIG.API_HOST,c=l.a.API_CONFIG.API_GO_HOST,i=function(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(a,!0).forEach((function(r){n(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(a).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}({},l.a,{getGlobalPlayerStatus:function(e){var r="".concat(c,"/player/status");return i.run(r,"GET",e)},getGlobalPlayerQueueLoadMore:function(e){var r="".concat(u,"/player/queue/{queue_id}");return r=o.s.formatUrlByParams(r,e),i.run(r,"GET")},getGlobalPlayerRecommend:function(e){var r="".concat(u,"/playlist/recommends");return i.run(r,"GET",e)},clearGlobalPlayerQueue:function(e){var r={queue_id:e.queue_id||""},a="".concat(u,"/player/queue/{queue_id}/clean");return a=o.s.formatUrlByParams(a,r),i.run(a,"PATCH")},getGlobalPlayerAlbumTrackInfo:function(e){var r="".concat(u,"/channel/track/timeline/{timeline_key}");return r=o.s.formatUrlByParams(r,e),i.run(r,"GET",e)},getGlobalPlayerTrackInfo:function(e){var r="".concat(c,"/player/track/{file_key}/info");return r=o.s.formatUrlByParams(r,e),i.run(r,"GET",e)},updateIndexFromPlayQueueList:function(e){var r={queue_id:e.queue_id},a="".concat(u,"/player/queue/{queue_id}");return a=o.s.formatUrlByParams(a,r),delete e.queue_id,i.run(a,"PATCH",e)}}),y=i;function P(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,l)}return a}function s(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var b=l.a.API_CONFIG.API_HOST,f=function(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?P(a,!0).forEach((function(r){s(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}({},l.a,{getGlobalPlayerMyLists:function(e){var r={},a="".concat(b,"/playlist/lists");return e&&e.file_key&&(r.file_key=e.file_key,a="".concat(b,"/playlist/lists/{file_key}")),a=o.s.formatUrlByParams(a,r),f.run(a,"GET")},getGlobalPlayerMyListInfo:function(e){var r={playlist_id:e.playlist_id||""},a="".concat(b,"/playlist/{playlist_id}");return a=o.s.formatUrlByParams(a,r),f.run(a,"GET")},getGlobalPlayerHistoryInfo:function(){var e="".concat(b,"/player/history");return e=o.s.formatUrlByParams(e),f.run(e,"GET")},getGlobalPlayerCollectionLists:function(){var e="".concat(b,"/player/collections");return f.run(e,"GET")},getGlobalPlayerCollectionAlbumListInfo:function(e){var r={album_id:e.album_id||""};e.start_index&&(r.start_index=e.start_index);var a="".concat(b,"/player/collections/album/{album_id}");return a=o.s.formatUrlByParams(a,r),f.run(a,"GET")},getGlobalPlayerCollectionProjectListInfo:function(e){var r={project_id:e.project_id||""};e.start_index&&(r.start_index=e.start_index);var a="".concat(b,"/player/collections/project/{project_id}");return a=o.s.formatUrlByParams(a,r),f.run(a,"GET")},removeTrackFromMyListIndex:function(e){var r="".concat(b,"/playlist/{playlist_id}/track/{index}");return r=o.s.formatUrlByParams(r,e),f.run(r,"DELETE",e)}}),g=f;function p(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,l)}return a}function _(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var d=function(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?p(a,!0).forEach((function(r){_(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}({},l.a,{},y,{},g);r.a=d}}]);