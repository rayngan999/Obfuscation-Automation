(window.wpJsonpCambly=window.wpJsonpCambly||[]).push([[6],{1140:function(t,e,n){"use strict";n.r(e),n.d(e,"Shift",(function(){return p})),n.d(e,"Shifts",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"shifts"}}],(n=[{key:"getMissedCallDescriptions",value:function(t){return this.$get("get_missed_call_descriptions",{viewAs:t})}}])&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},1158:function(t,e,n){"use strict";n.r(e),n.d(e,"Relationship",(function(){return y})),n.d(e,"Relationships",(function(){return d}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){a(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,[{key:"update",value:function(t){return this.$post("update",{csv:t})}}],[{key:"collection",value:function(){return"relationships"}},{key:"create",value:function(t,e,n){return this.$create({userId:t,relationship:e,csvJSON:n},{scrub:!0})}}]),n}(r.b),d=function(t){a(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"fetchByAdminId",value:function(t){return this.fetchQuery({adminId:t})}}]),n}(r.a);d.register(y)},146:function(t,e,n){"use strict";n.r(e),n.d(e,"Session",(function(){return O})),n.d(e,"Sessions",(function(){return S}));var r=n(27),o=n(10),u=n.n(o),i=n(3),c=n(15);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v,m,g,O=function(t){p(n,t);var e=d(n);function n(){return f(this,n),e.apply(this,arguments)}return s(n,[{key:"isActive",value:function(){return this.active&&this.moment("expires")>u.a.utc()}},{key:"refreshIfNecessary",value:function(){this.isActive()&&this.moment("expires")<u.a.utc().add(3,"days")&&this.refresh()}},{key:"refresh",value:function(){return n.$create({camblyToken:this.token},{scrub:!0})}},{key:"logout",value:function(){return this.$delete()}},{key:"isHelperMode",value:function(){return this.method===c.default.CAMBLY_ADMIN}}],[{key:"collection",value:function(){return"sessions"}},{key:"create",value:function(t){return this.$create(t,{scrub:!0})}}]),n}(i.b),S=function(t){p(n,t);var e=d(n);function n(){return f(this,n),e.apply(this,arguments)}return s(n,null,[{key:"current",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CURRENT_SESSION":return e.session;case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":return e.documents.has(null==t?void 0:t.id)?e.documents.get(t.id):e.current?e.documents.values().next().value:t;default:return t}}}]),n}(i.a);v=S,m="reducers",g=Object(r.combineReducers)({all:S.all,current:S.current}),m in v?Object.defineProperty(v,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[m]=g,S.register(O)},15:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,"default",(function(){return o})),n.d(e,"getHumanReadableRole",(function(){return u}));var o=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};function u(t){var e={student:"Student",parent:"Parent",kid:"Kid",tutor:"Tutor",tutorapproved:"Tutor Approved",tutorapplicant:"Tutor Applicant",studentsignup:"Student Signup",administrator:"Administrator",support:"Support",supportupdateemail:"Support Update Email",expertsupport:"Expert Support",tutorapprover:"Tutor Approver",tutorqa:"Tutor QA",chatreviewer:"Chat Reviewer",accountant:"Accountant",analyst:"Analyst",curriculumdeveloper:"Curriculum Developer",ambassador:"Ambassador",ambassadorsignup:"Ambassador Signup",camblyadmin:"Cambly Admin",superadmin:"Super Admin",productlocaleadmin:"Product Locale Admin",payoutapprover:"Payout Approver",tutorsignup:"Tutor Signup",pricing:"Pricing",pricingupdate:"Pricing Update",pricinginstallmentupdate:"Pricing Installment Update",helpermode:"Helper Mode"};return t in e?e[t]:t}r(o,"STUDENT","student"),r(o,"PARENT","parent"),r(o,"KID","kid"),r(o,"TUTOR","tutor"),r(o,"TUTOR_APPROVED","tutorapproved"),r(o,"TUTOR_APPLICANT","tutorapplicant"),r(o,"STUDENT_SIGNUP","studentsignup"),r(o,"AMBASSADOR","ambassador"),r(o,"AMBASSADOR_SIGNUP","ambassadorsignup"),r(o,"SUPER_ADMIN","superadmin"),r(o,"PRODUCT_LOCALE_ADMIN","productlocaleadmin"),r(o,"CAMBLY_ADMIN","camblyadmin"),r(o,"ADMINISTRATOR","administrator"),r(o,"ACCOUNTANT","accountant"),r(o,"ANALYST","analyst"),r(o,"CHAT_REVIEWER","chatreviewer"),r(o,"CURRICULUM_DEVELOPER","curriculumdeveloper"),r(o,"EXPERT_SUPPORT","expertsupport"),r(o,"PAYOUT_APPROVER","payoutapprover"),r(o,"SUPPORT","support"),r(o,"TUTOR_APPROVER","tutorapprover"),r(o,"TUTOR_QA","tutorqa"),r(o,"TUTOR_SIGNUP","tutorsignup"),r(o,"PRICING","pricing"),r(o,"PRICING_UPDATE","pricingupdate"),r(o,"PRICING_INSTALLMENT_UPDATE","pricinginstallmentupdate"),r(o,"SUPPORT_UPDATE_EMAIL","supportupdateemail"),r(o,"HELPER_MODE","helpermode"),r(o,"ADMIN_SEARCH",[o.CAMBLY_ADMIN,o.SUPPORT,o.TUTOR_APPROVER,o.TUTOR_QA,o.CHAT_REVIEWER]),r(o,"ADMIN_APP","adminapp"),r(o,"NONE","")},207:function(t,e,n){"use strict";n.r(e),n.d(e,"ReservationSlotType",(function(){return v})),n.d(e,"ReservationSlot",(function(){return m})),n.d(e,"ReservationSlots",(function(){return g}));var r=n(10),o=n.n(r),u=n(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v={ADULTS:"adults",KIDS:"kids",USER_GROUP:"user_group"},m=function(t){p(n,t);var e=d(n);function n(){return f(this,n),e.apply(this,arguments)}return s(n,[{key:"utcEnd",value:function(){return o.a.utc(this.utcStart()).add(n._length())}},{key:"continues",value:function(t){return this.type===t.type&&(this.groupId===t.groupId&&!!this.utcStart().isSame(t.utcEnd(),"minutes"))}}],[{key:"collection",value:function(){return"reservation_slots"}},{key:"_length",value:function(){return o.a.duration(15,"minutes")}},{key:"create",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.$create({language:"en",userId:t,start:{$date:e.valueOf()},type:n,groupId:r},{scrub:!0})}}]),n}(u.b),g=function(t){p(n,t);var e=d(n);function n(){return f(this,n),e.apply(this,arguments)}return s(n,null,[{key:"fetchForUser",value:function(t){return this.fetch({language:"en",userId:t})}},{key:"getForUser",value:function(t,e){return c(t.values()).filter((function(t){return t&&t.userId===e}))}},{key:"sorted",value:function(t){return t.slice().sort((function(t,e){return t.utcStart().diff(e.utcStart())}))}},{key:"inRange",value:function(t,e,r){return n.sorted(t).filter((function(t){return n=t.moment("startTime"),(!e||n.isSameOrAfter(o()(e)))&&function(t){return!r||t.isSameOrBefore(o()(r))}(t.moment("endTime"));var n}))}},{key:"generateSlotsForRange",value:function(t,e){for(var n=[],r=o.a.utc(t),u=o.a.utc(e),i=o()(r);i.isBefore(u);)n=n.concat(i),i=o()(i).add(m._length());return n}}]),n}(u.a);g.register(m)},209:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ReservationType",(function(){return E})),n.d(e,"Reservation",(function(){return T})),n.d(e,"Reservations",(function(){return k}));var r=n(3),o=n(210),u=n(10),i=n.n(u),c=n(107),a=n(24),f=n(1183),l=n(48),s=n(27);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function m(t,e,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R,j,P,E={ADULTS:"adults",KIDS:"kids"},T=function(e){g(o,e);var n=S(o);function o(){return h(this,o),n.apply(this,arguments)}return v(o,[{key:"getType",value:function(){return"reservation"}},{key:"confirm",value:function(t){return this.$post("confirm",{role:t})}},{key:"cancel",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.$post("cancel",{cancelledBy:t,cancelMessage:n,tutorCancelReason:r}).done((function(){return e._remove_from_redux()}))}},{key:"creator",value:function(){return this.tentative||!this.tutorConfirmed&&!this.studentConfirmed?null:!this.tutorConfirmed&&this.studentConfirmed?"student":!this.studentConfirmed&&this.tutorConfirmed?"tutor":i()(this.studentConfirmed.$date).isBefore(this.tutorConfirmed.$date)?"student":"tutor"}},{key:"confirmed",value:function(){return this.tutorConfirmed&&this.studentConfirmed}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.a.dispatch({type:"EDIT_DOCUMENT",collection:this.constructor.collectionClass,editableObj:this.$mutable()}),t&&history.pushState){var e=window.location.pathname.split("schedule")[0]+"schedule",n=window.location.origin+e+"/".concat(this.id);window.history.pushState({path:n},"",n)}}},{key:"stopEditing",value:function(){this.tentative&&this._remove_from_redux(),a.a.dispatch({type:"EDIT_DOCUMENT",collection:this.constructor.collectionClass,editableObj:null})}},{key:"markNoShowAcknowledgement",value:function(){this.$post("mark_no_show_acknowledgement")}}],[{key:"collection",value:function(){return"reservations"}},{key:"create",value:function(e,n,r,o){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return t.logUIEvent("reservationBooked",{minutes:o}),this.$create(Object.assign({language:"en",studentId:e,tutorId:n,start:{$date:r.valueOf()},minutes:o},u),{scrub:!0}).done((function(t){var e=t.doc;if(e.failed){var n=(e.error||{}).customMessage||c.a.t("Unable to reserve the selected time due to a scheduling conflict.");alert(n),e._remove_from_redux()}}))}},{key:"createTentative",value:function(e,n,u,c){t.logUIEvent("intentToCreateReservation",{source:"web-schedule-page"});var a=new r.c({scrub:!0,loadedBy:"mem-reservation"}),f=new o({language:"en",student:e,tutor:n,startTime:{$date:u.valueOf()},endTime:{$date:i.a.utc(u.valueOf()).add(c,"minutes").valueOf()},minutes:c,id:"".concat(e).concat(n).concat(u.valueOf()),tentative:!0},{metadata:a});return f._send_to_redux(),f}},{key:"load",value:function(t){return m(w(o),"load",this).call(this,t).done((function(t){var e=t.result;l.User.load(e.tutor),l.User.load(e.student)}))}}]),o}(o.LegacyLesson),k=function(t){g(n,t);var e=S(n);function n(){return h(this,n),e.apply(this,arguments)}return v(n,null,[{key:"fetchForTutor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u={tutorId:t,language:r,cancelled:o};return u.start=e?i()(e).valueOf():i.a.utc().subtract(2,"hours").valueOf(),n&&(u.end=i()(n).valueOf()),this.fetch(u)}},{key:"fetchForStudent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u={studentId:t,language:r,cancelled:o};return u.start=e?i()(e).valueOf():i.a.utc().subtract(2,"hours").valueOf(),n&&(u.end=i()(n).valueOf()),this.fetch(u)}},{key:"getForTutor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a.getState().model.reservations.all;return y(e.values()).filter((function(e){return e&&e.tutor===t&&!e.cancelled}))}},{key:"getCurrent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a.getState().model.reservations.all;return n.getForTutor(t,e).find((function(t){return t.isCurrent()}))}},{key:"getUpcoming",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a.getState().model.reservations.all;return n.getForTutor(t,e).filter((function(t){return t.isCurrent()||t.startsSoon()}))}},{key:"editing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"EDIT_DOCUMENT":return e.editableObj;default:return t}}}]),n}(o.LegacyLessons);R=k,j="reducers",P=Object(s.combineReducers)({all:r.a.all,metadata:r.a.metadata,byDay:o.LegacyLessons.byDay,editing:k.editing}),j in R?Object.defineProperty(R,j,{value:P,enumerable:!0,configurable:!0,writable:!0}):R[j]=P,k.register(T,f.a)}.call(this,n(45).default)},259:function(t,e,n){"use strict";n.r(e),n.d(e,"Tutor",(function(){return w})),n.d(e,"AlgoliaTutor",(function(){return R})),n.d(e,"LegacyTutor",(function(){return j})),n.d(e,"ReservableTutor",(function(){return P})),n.d(e,"AfterChatActionsTutor",(function(){return E})),n.d(e,"Tutors",(function(){return T}));var r=n(134),o=n(27),u=n(1134),i=n(24),c=n(3),a=n(48);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){m(n,t);var e=O(n);function n(){return h(this,n),e.apply(this,arguments)}return v(n,[{key:"setWarmup",value:function(){return i.a.dispatch(Object(u.f)(!1)),this.$post("set_warmup")}},{key:"spokenLanguage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return(this.spoken_languages||[]).find((function(e){return e&&e.language===t}))}},{key:"accent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.spokenLanguage(t)||{};return e?n.dialect_specific||n.dialect||"other":n.dialect||"other"}},{key:"isNorthAmerican",value:function(){return this.accent().startsWith("uscanada")}},{key:"saveTutorCertificate",value:function(t){return this.$get("sign_s3_tutor_certificate",{fileType:t})}},{key:"setAdvanceNoticeHours",value:function(t){this.$post("set_advance_notice_hours",{advanceNoticeHours:t}).fail((function(){return alert("Oops, something went wrong.")}))}},{key:"accentStringId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"tutor.accentText."+this.accent(t,e)}},{key:"englishAccentLocationStringId",value:function(){return"tutor.accentLocation."+this.accent("en",!1)}},{key:"sliceText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return t&&t.length>e?t.slice(0,e)+"...":t}},{key:"accentFlag",value:function(){var t=this.accent();return t?T.flags[t]||T.flags[t.split("_")[0]]:T.flags.other}},{key:"flagImg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.accentFlag();return e?t?("082-united-nations"===e?e="united-nations":"055-scotland"===e&&(e="scotland"),"/static/images/country-flag-icons/roundFlags/".concat(e,".png")):"/static/images/country-flag-icons/".concat(e,".png"):null}},{key:"flagImgText",value:function(){var t=this.accentFlag();return t?"flag of ".concat(T.flagText[t]):""}},{key:"badges",value:function(){var t=this.tutor_badges||[],e=this.tutor_certificates||[];return[t.indexOf("1k_chats")>-1?"1k_chats":null,t.indexOf("500_chats")>-1?"500_chats":null,e.length>0?"certified":null].filter((function(t){return t})).map((function(t){return T.badges[t]}))}},{key:"kidsBadges",value:function(){var t=this.tutor_badges||[];return[t.indexOf("1k_chats")>-1?"1k_chats":null,t.indexOf("500_chats")>-1?"500_chats":null].filter((function(t){return t})).map((function(t){return T.badges[t]}))}},{key:"isKidsApproved",value:function(){return!!this.account.tutor&&this.account.tutor.kids}},{key:"isCompatibleWith",value:function(t){return!t.locked&&((!t.genderLock||t.genderLock===this.gender)&&!((t.tutorLock||[]).indexOf(this.id)>=0))}},{key:"needsWarmup",value:function(){return this.$get("needs_warmup")}},{key:"getReferrals",value:function(){return this.$get("get_referrals")}},{key:"sendTutorInviteEmails",value:function(t,e){return this.$post("send_tutor_invite_emails",{inviteUrl:t,recipientEmails:e})}}],[{key:"collection",value:function(){return"tutors"}},{key:"isTutorSupportedBrowser",value:function(){var t=new r.UAParser,e=t.getBrowser();return!["iOS","Android","Windows Phone","Windows Mobile"].includes(t.getOS().name)&&"Chrome"===e.name&&parseInt(e.version,10)>=44}}]),n}(a.User),R=function(t){m(n,t);var e=O(n);function n(t,r){h(this,n);var o=new c.c({viewAs:r,loadedBy:"algolia-tutor"}),u=t._id;return e.call(this,y(y({},t),{},{_id:{$oid:u},id:u}),{metadata:o})}return n}(w),j=function(t){m(n,t);var e=O(n);function n(t,r){h(this,n);var o=new c.c({viewAs:r,loadedBy:"legacy-tutor"});return e.call(this,t,{metadata:o})}return n}(w),P=function(t){m(n,t);var e=O(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(j),E=function(t){m(n,t);var e=O(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(j),T=function(t){m(n,t);var e=O(n);function n(){return h(this,n),e.apply(this,arguments)}return v(n,null,[{key:"getAccentFlagImg",value:function(t){var e=n.flags[t];return e?"/static/images/country-flag-icons/".concat(e,".png"):null}},{key:"fetchKidsApproved",value:function(){return n.fetch({language:"en",kidsEnabled:!0})}},{key:"kids",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(l(t));return e.documents.forEach((function(t){t.isKidsApproved()?n.set(t.id,t):n.delete(t.id)})),n;default:return t}}}]),n}(a.Users);d(T,"flags",{uscanada:"US",uscanada_canada:"CA",uk:"GB",uk_ireland:"IE",uk_scotland:"055-scotland",uk_southafrica:"ZA",australianewzealand:"AU",australianewzealand_nz:"NZ",other:"082-united-nations"}),d(T,"flagText",{US:"The United States",CA:"Canada",GB:"Great Britain",IE:"Ireland","055-scotland":"Scotland",ZA:"South Africa",AU:"Australia",NZ:"New Zealand","082-united-nations":"The United Nations"}),d(T,"badges",{"1k_chats":{label:"tutor.badges.1k_chats"},"500_chats":{label:"tutor.badges.500_chats"},certified:{label:"tutor.badges.certified"}}),d(T,"reducers",Object(o.combineReducers)({all:a.Users.all,metadata:a.Users.metadata,kids:T.kids,byUserlink:a.Users.byUserlink})),T.register(w)},278:function(t,e,n){"use strict";n.r(e),n.d(e,"Purchase",(function(){return O})),n.d(e,"LegacyPurchase",(function(){return S})),n.d(e,"Purchases",(function(){return _}));var r=n(10),o=n.n(r),u=n(3),i=n(462),c=n(15),a=n(711),f=n(89);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){h(a,t);var e,n,r,u=v(a);function a(){return y(this,a),u.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"purchases"}},{key:"pending",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t.id&&(t=t.id),e.originalProduct&&(e=e.originalProduct),!n)throw new Error("Missing Processor");return a.$create({user:t,originalProduct:e,processor:n,productArgs:r},{scrub:!0})}}],(n=[{key:"getRecipientId",value:function(){return(this.productArgs||{}).recipientId||this.userId}},{key:"setReason",value:function(t){return this.$mutable().$set("reason",t).$save()}},{key:"complete",value:function(){var t=this;return new Promise((function(e,n){t.$post("complete").done((function(t){var r=t.doc;"complete"===r.status?e(r):n(r)})).catch((function(t){return n(t)}))}))}},{key:"execute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.STUDENT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return 0===this.price.charge?this.complete():this.addCharge(t,null,n,r).then((function(t){var n=t.doc;return i.Charge.fetchById(n.lastChargeId(),{viewAs:e})})).then((function(e){var n=e.doc;return o?n.generateIntentAndComplete(t):n.modelComplete(t)}))}},{key:"addCharge",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(u,i){t.$post("add_charge",{payment:e,processor:n,camblyInstallments:r,thirdPartyInstallments:o}).done((function(t){return u(t)})).catch(i)}))}},{key:"refund",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.end,o=void 0===r?null:r,u=n.amount,i=void 0===u?null:u,c=n.installmentId,a=void 0===c?null:c,f=n.chargeId,l=void 0===f?null:f,s=n.credit,p=void 0===s?null:s,y=n.fraud,d=void 0===y?null:y,h={admin:t};return null!==o&&(h.end=o),null!==i&&(h.amount=i),null!==a&&(h.installmentId=a),null!==l&&(h.chargeId=l),null!==p&&(h.credit=p),null!==d&&(h.fraud=d),new Promise((function(t,n){e.$post("admin_refund",h).done((function(e){return t(e)})).catch((function(t){return n(t)}))}))}},{key:"getRefundAmount",value:function(t){var e=this;return new Promise((function(n,r){e.$get("refund_amount",{end:t}).done((function(t){return n(t)})).catch((function(t){return r(t)}))}))}},{key:"getInstallmentOptions",value:function(){var t=this;return new Promise((function(e,n){t.$get("get_installment_options",{}).done((function(t){return e(t)})).catch(n)}))}},{key:"lastChargeId",value:function(){return this.chargeIds?this.chargeIds[this.chargeIds.length-1]:null}},{key:"fetchCharges",value:function(){i.Charges.fetchByKey(this.chargeIds,{viewAs:c.default.SUPPORT})}},{key:"nextSetSnooze",value:function(){return s(this.snoozes||[]).filter((function(t){return!t.deleted&&o.a.utc(t.end.$date).isAfter(o.a.utc())})).sort((function(t,e){return t.start.$date-e.start.$date})).shift()}},{key:"snoozeAvailableUtc",value:function(){return this.dateSnoozeAvailable?o.a.utc(this.dateSnoozeAvailable.$date):null}},{key:"nextSnoozeStart",value:function(){var t=this.nextSetSnooze();return t?o.a.utc(t.start.$date):null}},{key:"nextSnoozeEnd",value:function(){var t=this.nextSetSnooze();return t?o.a.utc(t.end.$date):null}},{key:"addRedirectParameters",value:function(t){var e,n={a:f.a.includes(this.price.currency)?this.price.amount:Math.trunc(this.price.amount/100),c:this.price.currency,m:(null===(e=this.product)||void 0===e?void 0:e.months)||0,con:this.conversion||!1,trackConversion:!0},r=Object.keys(n).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&");return"".concat(t,"?").concat(r)}}])&&d(e.prototype,n),r&&d(e,r),a}(a._Purchase),S=function(t){h(n,t);var e=v(n);function n(t,r){y(this,n);var o=new u.c({scrub:r,loadedBy:"model-purchase"});return e.call(this,t,{metadata:o})}return n}(O),_=function(t){h(n,t);var e=v(n);function n(){return y(this,n),e.apply(this,arguments)}return n}(a._Purchases);_.register(O)},298:function(t,e,n){"use strict";n.r(e),n.d(e,"PuffinMessage",(function(){return p})),n.d(e,"PuffinMessages",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"puffin_messages"}}],(n=[{key:"getSnippet",value:function(){var t=this.messageParts.filter((function(t){return"text"===t.type}));return t.length>0?t[0].text.substring(0,60):""}},{key:"translate",value:function(t){return this.$post("translate",{targetLanguage:t})}},{key:"getTranslation",value:function(t){var e,n;return null===(e=this.translation)||void 0===e||null===(n=e.find((function(e){return e.targetLanguage===t})))||void 0===n?void 0:n.translation}}])&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},415:function(t,e,n){"use strict";n.r(e),n.d(e,"Subscription",(function(){return O})),n.d(e,"Subscriptions",(function(){return S}));var r=n(27),o=n(3),u=n(592);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v,m,g,O=function(t){p(n,t);var e=d(n);function n(){return f(this,n),e.apply(this,arguments)}return s(n,[{key:"setAutoRenew",value:function(t,e){return this.$post("set_auto_renew",{value:t,reason:e})}},{key:"getPlanChangesDisabled",value:function(){return this.$get("plan_changes_disabled")}}],[{key:"collection",value:function(){return"subscriptions"}}]),n}(u._Subscription),S=function(t){p(n,t);var e=d(n);function n(){return f(this,n),e.apply(this,arguments)}return s(n,null,[{key:"forRecipient",value:function(t,e){return this.fetchQuery({recipientId:t},{viewAs:e})}},{key:"byRecipient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(c(t));return e.documents.forEach((function(t){n.set(t.recipientId,t)})),n;default:return t}}}]),n}(u._Subscriptions);v=S,m="reducers",g=Object(r.combineReducers)({all:o.a.all,metadata:o.a.metadata,byRecipient:S.byRecipient}),m in v?Object.defineProperty(v,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[m]=g,S.register(O)},421:function(t,e,n){"use strict";n.r(e),n.d(e,"ReservationAvailability",(function(){return S})),n.d(e,"ReservationAvailabilities",(function(){return _}));var r=n(3),o=n(10),u=n.n(o),i=n(207),c=n(1184),a=n(24);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){h(n,t);var e=v(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.metadata,i=void 0===u?null:u;return p(this,n),(r=e.call(this,t,{metadata:i})).slots=[t],r.endTime={$date:t.utcEnd().valueOf()},m(r,g(r))}return d(n,[{key:"extend",value:function(t){this.endTime={$date:t.utcEnd().valueOf()},this.slots.push(t),this.id+="".concat(this.slots.length)}},{key:"endsAtMidnight",value:function(){var t=this.tzEnd();if(window.location.pathname.startsWith("/en/admin")){var e=a.a.getState().adminInterfaceTimeZone;t=e?u.a.tz(this.endTime.$date,e):this.utcEnd()}return 0===t.hours()&&0===t.minutes()}},{key:"delete",value:function(){var t=[];if(this.slots.forEach((function(e){e.isFuture()?e.$delete():t=t.concat(e)})),t.length){this.slots=t;var e=t[t.length-1];return this.endTime={$date:e.utcEnd().valueOf()},this._send_to_redux(),this}return this._remove_from_redux(),null}},{key:"insideRange",value:function(t,e){var n=u.a.utc(t),r=u.a.utc(e);return this.utcStart().isSameOrAfter(n)&&this.utcEnd().isSameOrBefore(r)}},{key:"groupObj",value:function(){return this.groupId?a.a.getState().model.user_groups.all.get(this.groupId):null}},{key:"date",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?u.a.tz(this.startTime.$date,t).startOf("date"):this.utcStart().startOf("date")}},{key:"totalDuration",value:function(){return u.a.duration(this.utcEnd()-this.utcStart())}}],[{key:"collection",value:function(){return"reservation_availabilities"}},{key:"create",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=new Map,a=i.ReservationSlots.generateSlotsForRange(e,n).filter((function(t){return u.a.duration(u.a.utc()-t).asMinutes()<15}));a.forEach((function(e){i.ReservationSlot.create(t,e,r,o).done((function(t){var e=t.doc;if(c.set(e.id,e),c.size===a.length){var n=i.ReservationSlots.sorted(l(c.values()));_.createFromSlots(n).forEach((function(t){t._send_to_redux()}))}}))}))}}]),n}(r.b),_=function(t){h(n,t);var e=v(n);function n(){return p(this,n),e.apply(this,arguments)}return d(n,null,[{key:"fetchForUser",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u={language:"en",userId:t};return r&&(u.start=r),o&&(u.end=o),i.ReservationSlots.fetch(u).done((function(t){var r=i.ReservationSlots.sorted(l(t.documents.values())),o=n.createFromSlots(r).reduce((function(t,e){return t.set(e.id,e)}),new Map);a.a.dispatch({type:"RECEIVE_DOCUMENTS",collection:e,documents:o})}))}},{key:"getForUser",value:function(t,e){return l(e.values()).filter((function(e){return e&&e.userId===t}))}},{key:"createFromSlots",value:function(t){var e=[],n=null;return t.forEach((function(t){n?t.continues(n)?n.extend(t):(e.push(n),n=new S(t)):n=new S(t),n&&n.endsAtMidnight()&&(e.push(n),n=null)})),n&&e.push(n),e}}]),n}(r.a);_.register(S,c.a)},424:function(t,e,n){"use strict";n.r(e),n.d(e,"RedirectTracking",(function(){return p})),n.d(e,"RedirectTrackings",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"redirect_trackings"}},{key:"addClickTrackingEntry",value:function(t){return this.$create(t,{scrub:!0})}}],(n=null)&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},608:function(t,e,n){"use strict";n.r(e),n.d(e,"OffensiveReport",(function(){return d})),n.d(e,"OffensiveReports",(function(){return h}));var r=n(3),o=n(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){f(n,t);var e=s(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"collection",value:function(){return"reports"}},{key:"addAttribution",value:function(t){return this.$create({data:t},{scrub:!0})}}]),n}(r.b),h=function(t){f(n,t);var e=s(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,null,[{key:"fetchByStudent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.viewAs,r=void 0===n?o.default.SUPPORT:n,u={student:t};return this.fetchQuery(u,{viewAs:r})}}]),n}(r.a);h.register(d)},773:function(t,e,n){"use strict";n.r(e),n.d(e,"StripePaymentIntent",(function(){return d})),n.d(e,"StripePaymentIntents",(function(){return h}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){c(a,t);var e,n,r,o=f(a);function a(){var t;u(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(s(t=o.call.apply(o,[this].concat(n))),"handleNextAction",(function(){return new Promise((function(e,n){var r=Stripe("pk_live_BEsxEpC0kOypUtskgjl9bQCC");if("requires_source_action"!==t.status)return e();r.handleCardAction(t.client_secret).then((function(t){return t.error?n(t.error.message):e()}))}))})),t}return e=a,r=[{key:"collection",value:function(){return"stripe_payment_intents"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),a}(r.b),h=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);h.register(d)},775:function(t,e,n){"use strict";n.r(e),n.d(e,"ReservationBlock",(function(){return s})),n.d(e,"ReservationBlocks",(function(){return p}));var r=n(712);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ReservationBlock),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._ReservationBlocks);p.register(s)},776:function(t,e,n){"use strict";n.r(e),n.d(e,"ShiftBlock",(function(){return d})),n.d(e,"ShiftBlocks",(function(){return h}));var r=n(10),o=n.n(r),u=n(715);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){f(i,t);var e,n,r,u=s(i);function i(){return c(this,i),u.apply(this,arguments)}return e=i,(n=[{key:"unblock_time",value:function(){var t;return this.restored?this.restoredTime?this.restoredTime.$date:new Date(1970):null===(t=this.endTime)||void 0===t?void 0:t.$date}},{key:"is_blocking",value:function(){return!this.unblock_time()||this.unblock_time()>o.a.utc().valueOf()}}])&&a(e.prototype,n),r&&a(e,r),i}(u._ShiftBlock),h=function(t){f(n,t);var e=s(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(u._ShiftBlocks);h.register(d)},777:function(t,e,n){"use strict";n.r(e),n.d(e,"Student",(function(){return s})),n.d(e,"Students",(function(){return p}));var r=n(717);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._Student),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._Students);p.register(s)},778:function(t,e,n){"use strict";n.r(e),n.d(e,"StudentProfile",(function(){return m})),n.d(e,"StudentProfiles",(function(){return g}));var r=n(27),o=n(590);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h,b,v,m=function(t){l(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(o._StudentProfile),g=function(t){l(u,t);var e,n,r,o=p(u);function u(){return f(this,u),o.apply(this,arguments)}return e=u,r=[{key:"byUser",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(i(t));return e.documents.forEach((function(t){n.set(t.userId,t)})),n;default:return t}}}],(n=null)&&a(e.prototype,n),r&&a(e,r),u}(o._StudentProfiles);h=g,b="reducers",v=Object(r.combineReducers)({all:g.all,metadata:g.metadata,byUser:g.byUser}),b in h?Object.defineProperty(h,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[b]=v,g.register(m)},779:function(t,e,n){"use strict";n.r(e),n.d(e,"StudentTestimonial",(function(){return b})),n.d(e,"StudentTestimonials",(function(){return v}));var r=n(27),o=n(591);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){s(n,t);var e=y(n);function n(){return l(this,n),e.apply(this,arguments)}return n}(o._StudentTestimonial),v=function(t){s(u,t);var e,n,r,o=y(u);function u(){return l(this,u),o.apply(this,arguments)}return e=u,r=[{key:"yearInReview",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=i(e.documents.values());return u.reduceTestimonials(n,10);default:return t}}},{key:"byTutor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(i(t));return e.documents.forEach((function(t){var e=i(n.get(t.tutorId)||[]),r=e.findIndex((function(e){return e.id===t.id}));r>=0?e[r]=t:e.push(t),n.set(t.tutorId,e)})),n;default:return t}}}],(n=null)&&a(e.prototype,n),r&&a(e,r),u}(o._StudentTestimonials);f(v,"reduceTestimonials",(function(t,e){var n={};t.forEach((function(t){t.studentId in n?n[t.studentId].push(t):n[t.studentId]=[t]}));var r={};Object.keys(n).forEach((function(t){r[t]=i(n[t]).sort((function(t,e){return t.id<e.id?1:-1}))}));for(var o=[];o.length<e&&0!==Object.keys(r).length;)Object.keys(r).forEach((function(t){o.push(r[t].pop()),0===r[t].length&&delete r[t]}));return o.sort((function(t,e){return t.id<e.id?1:-1}))})),f(v,"reducers",Object(r.combineReducers)({all:v.all,metadata:v.metadata,yearInReview:v.yearInReview,byTutor:v.byTutor})),v.register(b)},780:function(t,e,n){"use strict";n.r(e),n.d(e,"TutorAcquisition",(function(){return s})),n.d(e,"TutorAcquisitions",(function(){return p}));var r=n(593);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._TutorAcquisition),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._TutorAcquisitions);p.register(s)},781:function(t,e,n){"use strict";n.r(e),n.d(e,"TutorAgreement",(function(){return s})),n.d(e,"TutorAgreements",(function(){return p}));var r=n(594);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._TutorAgreement),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._TutorAgreements);p.register(s)},782:function(t,e,n){"use strict";n.r(e),n.d(e,"TutorAmbassadorCode",(function(){return s})),n.d(e,"TutorAmbassadorCodes",(function(){return p}));var r=n(595);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._TutorAmbassadorCode),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._TutorAmbassadorCodes);p.register(s)},783:function(t,e,n){"use strict";n.r(e),n.d(e,"TutorCertificate",(function(){return O})),n.d(e,"TutorCertificates",(function(){return S}));var r=n(27),o=n(596),u=n(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v,m,g,O=function(t){p(n,t);var e=d(n);function n(){return f(this,n),e.apply(this,arguments)}return s(n,[{key:"uploadS3",value:function(t){var e=this;return new Promise((function(n,r){e.$get("sign_s3").done((function(e){var o=e.result,u=new XMLHttpRequest;u.open("POST",o.url);var i=new FormData;Object.keys(o.fields).forEach((function(t){i.append(t,o.fields[t])})),i.append("file",t),u.onreadystatechange=function(){4===u.readyState&&(200===u.status||204===u.status?n():r())},u.send(i)})).catch(r)}))}}]),n}(o._TutorCertificate),S=function(t){p(n,t);var e=d(n);function n(){return f(this,n),e.apply(this,arguments)}return s(n,null,[{key:"byTutor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(c(t));return e.documents.forEach((function(t){if(t.fileName&&t.certificateType&&!t.deleted){var e=c(n.get(t.userId)||[]).filter((function(e){return e.id!==t.id})),r=[].concat(c(e),[t]);n.set(t.userId,r)}})),n;case"DELETE_DOCUMENTS":var r=new Map(c(t));return e.documents.forEach((function(t){var e=r.get(t.userId)||[];e=e.filter((function(e){return e.id!==t.id})),r.set(t.userId,e)})),r;default:return t}}}]),n}(o._TutorCertificates);v=S,m="reducers",g=Object(r.combineReducers)({all:u.a.all,metadata:u.a.metadata,byTutor:S.byTutor}),m in v?Object.defineProperty(v,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[m]=g,S.register(O)},784:function(t,e,n){"use strict";n.r(e),n.d(e,"TutorCurriculum",(function(){return S})),n.d(e,"TutorCurriculums",(function(){return _}));var r=n(27),o=n(15),u=n(3),i=n(597);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m,g,O,S=function(t){y(n,t);var e=h(n);function n(){return l(this,n),e.apply(this,arguments)}return p(n,[{key:"optOut",value:function(){return this.$delete()}}],[{key:"collection",value:function(){return"tutor_curriculums"}}]),n}(i._TutorCurriculum),_=function(t){y(n,t);var e=h(n);function n(){return l(this,n),e.apply(this,arguments)}return p(n,null,[{key:"forTutorCurriculum",value:function(t,e){return n.fetchQuery({tutorId:t,curriculumId:e},{viewAs:o.default.TUTOR})}},{key:"byCurriculum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(a(t));return e.documents.forEach((function(t){n.set(t.curriculumId,t)})),n;case"DELETE_DOCUMENTS":var r=new Map(a(t));return e.documents.forEach((function(t){r.delete(t.curriculumId)})),r;default:return t}}},{key:"byTutor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(a(t));return e.documents.forEach((function(t){var e=n.get(t.tutorId)||[];e.every((function(e){return e.curriculumId!==t.curriculumId}))&&e.push(t),n.set(t.tutorId,e)})),n;case"DELETE_DOCUMENTS":var r=new Map(a(t));return e.documents.forEach((function(t){var e=r.get(t.tutorId)||[];e=e.filter((function(e){return e.curriculumId!==t.curriculumId})),r.set(t.tutorId,e)})),r;default:return t}}}]),n}(i._TutorCurriculums);m=_,g="reducers",O=Object(r.combineReducers)({all:u.a.all,metadata:u.a.metadata,byCurriculum:_.byCurriculum,byTutor:_.byTutor}),g in m?Object.defineProperty(m,g,{value:O,enumerable:!0,configurable:!0,writable:!0}):m[g]=O,_.register(S)},787:function(t,e,n){"use strict";n.r(e),n.d(e,"Settlement",(function(){return p})),n.d(e,"Settlements",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"settlements"}}],(n=[{key:"setNetUsd",value:function(t){return this.$post("set_net_usd",{amount:t})}}])&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},788:function(t,e,n){"use strict";n.r(e),n.d(e,"TransactionReport",(function(){return p})),n.d(e,"TransactionReports",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"transaction_reports"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},896:function(t,e,n){"use strict";n.r(e),n.d(e,"PuffinUpload",(function(){return p})),n.d(e,"PuffinUploads",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"puffin_uploads"}}],(n=[{key:"uploadS3",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onProgress,o=void 0===r?null:r;return new Promise((function(n,r){e.$get("sign_s3").done((function(e){var u=e.result,i=new XMLHttpRequest;i.open("POST",u.url);var c=new FormData;Object.keys(u.fields).forEach((function(t){c.append(t,u.fields[t])})),c.append("file",t),i.onreadystatechange=function(){4===i.readyState&&(200===i.status||204===i.status?n():r())},o&&i.upload.addEventListener("progress",(function(t){if(t.lengthComputable){var e=Math.round(100*t.loaded/t.total);o(e)}}),!1),i.send(c)}))}))}}])&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},926:function(t,e,n){"use strict";n.r(e),n.d(e,"STUDENT_EVENT",(function(){return s})),n.d(e,"StudentEvent",(function(){return p})),n.d(e,"StudentEvents",(function(){return y}));var r=n(718);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s={lesson:"lesson",testimonial:"student_testimonial",test:"proficiency_test"},p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._StudentEvent),y=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._StudentEvents);y.register(p)},938:function(t,e,n){"use strict";n.r(e),n.d(e,"PushCampaign",(function(){return y})),n.d(e,"PushCampaigns",(function(){return d}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){a(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"collection",value:function(){return"push_campaigns"}}]),n}(r.b),d=function(t){a(n,t);var e=l(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,null,[{key:"fetchQueued",value:function(){return this.fetchQuery({status:"queued",sort:"1"},{scrub:!1})}}]),n}(r.a);d.register(y)},939:function(t,e,n){"use strict";n.r(e),n.d(e,"SavedLink",(function(){return s})),n.d(e,"SavedLinks",(function(){return p}));var r=n(713);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._SavedLink),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._SavedLinks);p.register(s)},940:function(t,e,n){"use strict";n.r(e),n.d(e,"ScheduledInstallment",(function(){return g})),n.d(e,"ScheduledInstallments",(function(){return O}));var r=n(27),o=n(3),u=n(714);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b,v,m,g=function(t){s(n,t);var e=y(n);function n(){return l(this,n),e.apply(this,arguments)}return n}(u._ScheduledInstallment),O=function(t){s(u,t);var e,n,r,o=y(u);function u(){return l(this,u),o.apply(this,arguments)}return e=u,r=[{key:"byPurchase",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_DOCUMENTS":case"UPDATE_DOCUMENTS":var n=new Map(c(t));return e.documents.forEach((function(t){var e=c(n.get(t.purchaseId)||[]),r=e.findIndex((function(e){return e.id===t.id}));r>=0?e[r]=t:e.push(t),n.set(t.purchaseId,e)})),n;default:return t}}}],(n=null)&&f(e.prototype,n),r&&f(e,r),u}(u._ScheduledInstallments);b=O,v="reducers",m=Object(r.combineReducers)({all:o.a.all,metadata:o.a.metadata,byPurchase:O.byPurchase}),v in b?Object.defineProperty(b,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):b[v]=m,O.register(g)},941:function(t,e,n){"use strict";n.r(e),n.d(e,"ScriptExecution",(function(){return p})),n.d(e,"ScriptExecutions",(function(){return y}));var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){c(a,t);var e,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return e=a,r=[{key:"collection",value:function(){return"script_executions"}}],(n=null)&&i(e.prototype,n),r&&i(e,r),a}(r.b),y=function(t){c(n,t);var e=f(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r.a);y.register(p)},942:function(t,e,n){"use strict";n.r(e),n.d(e,"StripeCharge",(function(){return s})),n.d(e,"StripeCharges",(function(){return p}));var r=n(716);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._StripeCharge),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._StripeCharges);p.register(s)},943:function(t,e,n){"use strict";n.r(e),n.d(e,"StudentLeaderboard",(function(){return s})),n.d(e,"StudentLeaderboards",(function(){return p}));var r=n(719);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._StudentLeaderboard),p=function(t){i(n,t);var e=a(n);function n(){return u(this,n),e.apply(this,arguments)}return n}(r._StudentLeaderboards);p.register(s)}}]);