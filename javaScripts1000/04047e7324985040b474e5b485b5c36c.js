(self.webpackChunkthd_analytics_core=self.webpackChunkthd_analytics_core||[]).push([["daMap"],{234:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{nodes:()=>nodes});__webpack_require__(5306),__webpack_require__(3948);var utilities=__webpack_require__(8354),config=__webpack_require__(6716),stash=__webpack_require__(3955),stripComma=function(str){return"string"==typeof(str="number"==typeof(str=void 0!==str?str:"")?str.toString():str)&&(str=str.replace(/,/g,"")),str},getFulfillString=function(prodArray){var aProd,aProdInfo,aProdMethod,aFulfil,product,fulfillStr,dti=digitalData.transaction.item,dci=digitalData.cart.item,itemArray=prodArray||(dti&&dti.length?dti:dci&&dci.length?dci:[]),fulfillData={STH:"n","BOPIS/BOSS":"n",APPL:"n",BODFS:"n"},ddoFound=!1;for(product in itemArray)if(itemArray.hasOwnProperty(product)){if(aProdInfo=(aProd=itemArray[product]).productInfo,void 0===(aFulfil=aProd.fulfillment?aProd.fulfillment:{}).method&&(aProd.fulfillmentMethod?aFulfil.method=aProd.fulfillmentMethod:aProdInfo&&aProdInfo.fulfillmentMethod?aFulfil.method=aProdInfo.fulfillmentMethod:aFulfil.method=0),0===(aProdMethod="string"==typeof aFulfil.method?aFulfil.method.toUpperCase():aFulfil.method))continue;fulfillData[aProdMethod="BOPIS"===aProdMethod||"BOSS"===aProdMethod?"BOPIS/BOSS":aProdMethod]="y",ddoFound=!0}return ddoFound&&(fulfillStr=JSON.stringify(fulfillData).replace(/[{}"]/g,"").replace(/,/g,"|")),fulfillStr},formatATCLocation=function(ddo,locObj){var result="",pt=ddo&&ddo.page&&ddo.page.pageInfo&&ddo.page.pageInfo.pageType?ddo.page.pageInfo.pageType:"n/a";return void 0!==locObj&&(result=(locObj.pageType?locObj.pageType:pt)+">"+(locObj.sharedSection?locObj.sharedSection:"n/a")+">"+(locObj.section?locObj.section:"n/a")+">"+(locObj.component?locObj.component:"n/a")+">"+(locObj.target?locObj.target:"n/a")+">n/a"),result},formatPodClick=function(podClickObj){var result="",prodSponsored=podClickObj.sponsoredProduct&&"boolean"==typeof podClickObj.sponsoredProduct?podClickObj.sponsoredProduct.toString():"";return void 0!==podClickObj&&(result=(void 0!==podClickObj.podPageNumber?podClickObj.podPageNumber:"n/a")+"-"+(void 0!==podClickObj.podPosition?podClickObj.podPosition:"n/a")+(""!==prodSponsored?">sponsored:"+prodSponsored:">sponsored:false")),result},getContentSku=function(ddo){for(var contentSku=void 0!==ddo&&ddo.content&&ddo.content.product?ddo.content.product:[],skuList=[],i=0;i<24;i++)i<contentSku.length?skuList.push(contentSku[i].productInfo.sku):skuList.push("");return skuList.join("|")},appData=__webpack_require__(3010),_normalizeFulfillment=function(item){var fulfillment=(item="object"==typeof item?item:{}).fulfillment?item.fulfillment:{},prodInfo=item.productInfo?item.productInfo:item;return void 0===fulfillment.method&&(item.fulfillmentMethod?fulfillment.method=item.fulfillmentMethod:prodInfo.fulfillmentMethod&&(fulfillment.method=prodInfo.fulfillmentMethod)),void 0===fulfillment.store&&item.fulfillmentStore?fulfillment.store=item.fulfillmentStore:prodInfo.fulfillmentStore&&(fulfillment.store=prodInfo.fulfillmentStore),void 0===fulfillment.zip&&item.fulfillmentZip?fulfillment.zip=item.fulfillmentZip:prodInfo.fulfillmentZip&&(fulfillment.zip=prodInfo.fulfillmentZip),fulfillment},_normalizePrice=function(item){var price=(item="object"==typeof item?item:{}).price&&"object"==typeof item.price?item.price:item.price&&"string"==typeof item.price||"number"==typeof item.price?{basePrice:item.price}:{};return void 0===price.priceType&&item.priceType&&(price.priceType=item.priceType),price},_normalizeRecommendation=function(item){return(item="object"==typeof item?item:{}).recommendation?item.recommendation:item.productInfo&&item.productInfo.recommendation?item.productInfo.recommendation:{}},isValidDate=function(dateString){if("string"!=typeof dateString)return!1;if(!dateString.match(/^\d{4}-\d{2}-\d{2}$/))return!1;var d=new Date(dateString);return!!d.getTime()&&d.toISOString().slice(0,10)===dateString},_getETAString=function(etaObj){if(etaObj="object"==typeof etaObj?etaObj:{},!utilities.jJ(etaObj))return"";var i,myList=["sth","boss","appl","bodfs"],etaArray=[],results="",eta="";for(i=0;i<myList.length;i++){var etaStart=isValidDate(etaObj[myList[i]+"StartDate"])?etaObj[myList[i]+"StartDate"]:"",etaEnd=isValidDate(etaObj[myList[i]+"EndDate"])?etaObj[myList[i]+"EndDate"]:"";etaStart&&(eta=myList[i]+"-start:"+etaStart,etaArray.push(eta)),etaEnd&&(eta=myList[i]+"-end:"+etaEnd,etaArray.push(eta)),etaArray.length>0&&(results+=etaArray.join("_")+">",etaArray=[])}return results},_getETADiff=function(etaObj){var now=_currentNow();if(etaObj="object"==typeof etaObj?etaObj:{},!utilities.jJ(etaObj))return"";var i,month,year,myList=["sth","boss","appl","bodfs"],etaArray=[],results="",eta="";for(i=0;i<myList.length;i++){var etaStart=isValidDate(etaObj[myList[i]+"StartDate"])?etaObj[myList[i]+"StartDate"]:"",etaEnd=isValidDate(etaObj[myList[i]+"EndDate"])?etaObj[myList[i]+"EndDate"]:"",startDay=etaStart?parseInt(etaStart.split("-")[2]):"n/a",endDay=etaEnd?parseInt(etaEnd.split("-")[2]):"n/a",startMonth=etaStart?parseInt(etaStart.split("-")[1]):"",endMonth=etaEnd?parseInt(etaEnd.split("-")[1]):"",currentDay=parseInt(now.split("-")[2]),currentMonth=parseInt(now.split("-")[1]),currentDaysInMonth=(month=parseInt(now.split("-")[1]),year=parseInt(now.split("-")[0]),new Date(year,month,0).getDate());""===etaStart&&""===etaEnd||("n/a"===endDay?startMonth!==currentMonth?(eta=myList[i]+":"+(startDay+currentDaysInMonth-currentDay)+"-NA days",etaArray.push(eta)):(eta=myList[i]+":"+(startDay-currentDay)+"-NA days",etaArray.push(eta)):"n/a"===startDay?endMonth!==currentMonth?(eta=myList[i]+":NA-"+(endDay+currentDaysInMonth-currentDay)+" days",etaArray.push(eta)):(eta=myList[i]+":NA-"+(endDay-currentDay)+" days",etaArray.push(eta)):etaStart===etaEnd?startMonth!==currentMonth?(eta=myList[i]+":"+(startDay+currentDaysInMonth-currentDay)+" days",etaArray.push(eta)):(eta=myList[i]+":"+(startDay-currentDay)+" days",etaArray.push(eta)):etaStart!==etaEnd&&(startMonth!==currentMonth&&endMonth!==currentMonth?(eta=myList[i]+":"+(startDay+currentDaysInMonth-currentDay)+"-"+(endDay+currentDaysInMonth-currentDay)+" days",etaArray.push(eta)):startMonth!==currentMonth?(eta=myList[i]+":"+(startDay+currentDaysInMonth-currentDay)+"-"+(endDay-currentDay)+" days",etaArray.push(eta)):endMonth!==currentMonth?(eta=myList[i]+":"+(startDay-currentDay)+"-"+(endDay+currentDaysInMonth-currentDay)+" days",etaArray.push(eta)):(eta=myList[i]+":"+(startDay-currentDay)+"-"+(endDay-currentDay)+" days",etaArray.push(eta))),results=etaArray.length>1?etaArray.join(">"):etaArray[0])}return results},_currentNow=function(){var today,utcyyyy,utcmm,utcdd;return today=new Date,utcyyyy=today.getUTCFullYear(),utcmm=today.getUTCMonth()+1,(utcdd=today.getUTCDate())<10&&(utcdd="0"+utcdd),utcmm<10&&(utcmm="0"+utcmm),utcyyyy+"-"+utcmm+"-"+utcdd},_getETAObj=function(items,sku){var etaObj=items.filter((function(eta){return(eta.sku?eta.sku:"")===sku}));return etaObj.length&&etaObj[0].eta?etaObj[0].eta:{}},_getRecObj=function(items,sku){var recObj=items.filter((function(rec){var recSku=rec.productInfo&&rec.productInfo.sku?rec.productInfo.sku:"";return rec.recommendation&&(rec.recommendation.displayPosition=rec.displayPosition?rec.displayPosition:rec.recommendation.displayPosition?rec.recommendation.displayPosition:""),recSku.toString()===sku.toString()}));return recObj.length&&recObj[0].recommendation?recObj[0].recommendation:{}},_setV67=function(recObj){recObj=void 0!==recObj?recObj:{};let result=[];return result.push(recObj.recommendationType?recObj.recommendationType:"n/a"),result.push(recObj.pageType?recObj.pageType:"n/a"),result.push(recObj.displayPosition?recObj.displayPosition:"n/a"),result.push(recObj.anchorProductSku?recObj.anchorProductSku:"n/a"),result.push("n/a"),result.push(recObj.strategy?recObj.strategy:"n/a"),result.push(recObj.recommendationVersion?recObj.recommendationVersion:"n/a"),result.push(recObj.featureVersion?recObj.featureVersion:"n/a"),result.push(recObj.interval?recObj.interval:"n/a"),result=result.join(":"),"n/a:n/a:n/a:n/a:n/a:n/a:n/a:n/a:n/a"!==result.toLowerCase()?result:""},_setV104=function(recstring){let parts=(recstring="string"==typeof recstring?recstring:"").split(":");return parts.length>1?parts[0]+":"+parts[1]:""},_setATCLoc=function(atcLocation,stashATCLoc,ddo){var result="",dcType="";return atcLocation?("string"==typeof atcLocation?(result=atcLocation,dcType="s"):Array.isArray(atcLocation)&&atcLocation[0]?(result=atcLocation[0],dcType="a"):(result=formatATCLocation(ddo,atcLocation),dcType="o"),s.prop37=utilities.yE("ATC Location set by DC ("+dcType+")",s.prop37)):stashATCLoc?(result=stashATCLoc,s.prop37=utilities.yE("ATC Location set by Stash",s.prop37)):void 0!==ddo&&ddo.page&&ddo.page.pageInfo&&ddo.page.pageInfo.pageType&&(result=ddo.page.pageInfo.pageType,s.prop37=utilities.yE("ATC Location defaulted to pageType",s.prop37)),result},_setAttachedLabor=function(itemArray){itemArray=Array.isArray(itemArray)?itemArray:[];var i,result={installFound:!1,installAnchorSku:"",proreferralFound:!1,proreferralAnchorSku:"",sellableAssemblyFound:!1,sellableAssemblyAnchorSku:[]},obj={};for(i=0;i<itemArray.length;i++)(obj=itemArray[i]).productInfo&&((obj.productInfo.installationDisplayed||"installation"===obj.productInfo.laborType)&&(result.installFound=!0,result.installAnchorSku=obj.productInfo.anchorSku?obj.productInfo.anchorSku:""),(obj.productInfo.proReferralDisplayed||"proreferral"===obj.productInfo.laborType)&&(result.proreferralFound=!0,obj.productInfo.anchorSku?result.proreferralAnchorSku=obj.productInfo.anchorSku:result.proreferralAnchorSku=obj.productInfo.sku?obj.productInfo.sku:""),"sellable assembly"===obj.productInfo.laborType&&(result.sellableAssemblyFound=!0,obj.productInfo.anchorSku&&result.sellableAssemblyAnchorSku.push(obj.productInfo.anchorSku)));return result},_setBadgeData=function(badgeObj,pageType="",key="type"){let pt=pageType?pageType+">":"";return badgeObj.map((function(elem){return(elem[key]?elem[key]:"n/a")+">"+pt+(elem.recommendationStrategy?elem.recommendationStrategy:"n/a")+">"+(elem.recommendationVersion?elem.recommendationVersion:"n/a")})).join("|")};let _setBadgeTypeAndNameData=function(badgeObj){return badgeObj.map((function(elem){if(elem.type&&elem.name)return elem.type+">"+elem.name})).join(":")};var _setV136=function(productInfo,widget,pageType){return widget.map((function(elem){return(elem.type?elem.type:"n/a")+":"+(elem.value?elem.value:"n/a")+":"+(pageType||"n/a")+":"+(productInfo.compatibility?productInfo.compatibility:"n/a")})).toString()},skuOnly=function(itemArray){var prodStr=";",prodSku="",item={},prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(prodSku=(prodInfo=(item=itemArray[index]).productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;;");return";"===prodStr?"":prodStr},productView=function(productArray,options){options=void 0!==options?options:{};var attachedLabor=_setAttachedLabor(productArray),attachedLaborEventAndEvar="",eVarArray=[],eventArray=[],pageType=options.pageType?options.pageType:"",prodStr=";",prodSku="",product={},prodInfo={},prodInfoClass="",prodInfoDepartment="",prodInfoManufacturer="",prodInfoSubclass="",productStatus="",recommendation={},shippingStatus="",customProduct="",backOrder="",stashBadgeClickThrough=options.badgeClickThrough?options.badgeClickThrough:"",stashCollectionsProductClick=options.collectionsProductClick?options.collectionsProductClick:"",stashPodClick=options.podclick?options.podclick:"",stashRecObj=options.recobj?options.recobj:"",stashRecommendation={},stashSolverPath=options.solverpath?options.solverpath:"",storeStatus="",v67="",v104="",v112="",v165="",widget=options.widget?options.widget:[],badges=options.badges?options.badges:[];for(var index in productArray)productArray.hasOwnProperty(index)&&(attachedLaborEventAndEvar="",eVarArray=[],eventArray=[],prodInfoClass="string"==typeof(prodInfo=(product=productArray[index]).productInfo?product.productInfo:product).class&&prodInfo.class.length<=3?prodInfo.class.padStart(3,"0"):"na",prodInfoDepartment="string"==typeof prodInfo.department&&prodInfo.department.length<=3?prodInfo.department.padStart(3,"0"):"na",prodInfoManufacturer="string"==typeof prodInfo.manufacturer?prodInfo.manufacturer.toLowerCase():"na",prodInfoSubclass="string"==typeof prodInfo.subclass&&prodInfo.subclass.length<=3?prodInfo.subclass.padStart(3,"0"):"na",prodSku=function(pi){let sku=pi.sku?pi.sku:"";return sku&&"proreferral"===pi.laborType?"".concat(sku,"-pro"):sku}(prodInfo),prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;",customProduct=prodInfo.customProduct?prodInfo.customProduct:"",backOrder=prodInfo&&prodInfo.availabilityStatus&&prodInfo.availabilityStatus.backOrder?prodInfo.availabilityStatus.backOrder.toString().toLowerCase():"",recommendation=_normalizeRecommendation(product),shippingStatus=(productStatus=prodInfo&&prodInfo.availabilityStatus?prodInfo.availabilityStatus:"").shipping?productStatus.shipping:"",storeStatus=productStatus.store?productStatus.store:"",stashRecommendation=Array.isArray(stashRecObj)?_getRecObj(stashRecObj,prodSku):stashRecObj,v67="",v104="",v112="",v165="",utilities.jJ(recommendation)&&(v67=_setV67(recommendation))&&eVarArray.push("eVar102="+v67),utilities.jJ(stashRecommendation)&&(v67=_setV67(stashRecommendation))&&("rv"===stashRecommendation.recommendationType?eVarArray.push("eVar64="+v67):"sp"===stashRecommendation.recommendationType?eVarArray.push("eVar67="+v67):eVarArray.push("eVar102="+v67)),v67&&(v104=_setV104(v67))&&eVarArray.push("eVar104="+v104),utilities.jJ(prodInfo.eta)&&(v112=_getETAString(prodInfo.eta),v165=_getETADiff(prodInfo.eta),v112&&eVarArray.push("eVar112="+v112),v165&&eVarArray.push("eVar165="+v165),eVarArray.push("eVar166="+_currentNow())),Array.isArray(prodInfo.badge)&&prodInfo.badge.length&&eVarArray.push("eVar114="+_setBadgeData(prodInfo.badge)),utilities.jJ(prodInfo.eta)&&void 0!==prodInfo.eta.deta&&eVarArray.push(prodInfo.eta.deta?"eVar127=deta:y":"eVar127=deta:n"),stashBadgeClickThrough&&eVarArray.push("eVar185="+stashBadgeClickThrough),stashCollectionsProductClick&&eVarArray.push("eVar119="+stashCollectionsProductClick),stashSolverPath&&eVarArray.push("eVar122="+stashSolverPath),"yes"===backOrder&&eventArray.push("event125"),customProduct&&eVarArray.push("eVar174="+customProduct),(attachedLabor.installFound&&"0"===index||prodInfo.installationDisplayed||"installation"===prodInfo.laborType)&&(eventArray.push("event193"),eVarArray.push("eVar131=installation"),attachedLaborEventAndEvar="event193;eVar131=installation"),attachedLabor.proreferralFound&&(eventArray.push("event193"),eVarArray.push("eVar131=proreferral"),attachedLaborEventAndEvar="event193;eVar131=proreferral"),(attachedLabor.sellableAssemblyFound||"sellable assembly"===prodInfo.laborType)&&(eventArray.push("event193"),eVarArray.push("eVar131=sellable assembly"),attachedLaborEventAndEvar="event193;eVar131=sellable assembly"),shippingStatus&&shippingStatus.sth&&("oos"===shippingStatus.sth?eventArray.push("event56"):"available"===shippingStatus.sth&&eventArray.push("event204")),storeStatus&&storeStatus.bopis&&("oos"===storeStatus.bopis?eventArray.push("event195"):"available"===storeStatus.bopis&&eventArray.push("event205")),shippingStatus&&shippingStatus.bodfs&&"displayed"===shippingStatus.bodfs&&eventArray.push("event206"),storeStatus&&storeStatus.boss&&("oos"===storeStatus.boss?eventArray.push("event198"):"available"===storeStatus.boss&&eventArray.push("event207")),prodInfo.assembly&&"in store"===prodInfo.assembly.toString().toLowerCase()&&eventArray.push("event271"),prodInfo.availabilityStatus&&prodInfo.availabilityStatus.type&&eVarArray.push("eVar133="+prodInfo.availabilityStatus.type+">online-"+(prodInfo.availabilityStatus.shipping&&prodInfo.availabilityStatus.shipping.skuStatus?prodInfo.availabilityStatus.shipping.skuStatus:"")+":store-"+(prodInfo.availabilityStatus.store&&prodInfo.availabilityStatus.store.skuStatus?prodInfo.availabilityStatus.store.skuStatus:"")),prodInfo.storeType&&eVarArray.push("eVar134="+prodInfo.storeType),widget[0]&&(widget[0].type||widget[0].value)&&eVarArray.push("eVar136="+_setV136(prodInfo,widget,pageType)),Array.isArray(badges)&&badges.length&&eVarArray.push("eVar149="+_setBadgeTypeAndNameData(badges)),stashPodClick&&eVarArray.push("eVar160="+formatPodClick(stashPodClick)),eVarArray.push("eVar187=".concat(prodInfoDepartment,"-").concat(prodInfoClass,"-").concat(prodInfoSubclass,"-").concat(prodInfoManufacturer)),prodStr=prodStr+(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):"")+(prodInfo.proReferralDisplayed?",;"+prodSku+"-pro;;;"+attachedLaborEventAndEvar:""));return";"===prodStr?"":prodStr},productImpression=function(itemArray,options){var collectionID=(options=void 0!==options?options:{}).collectionID?options.collectionID:"",prodStr=";",prodSku="",prodSponsored="",item={},eVarArray=[],eventArray=[],prodInfo={},productStatus="",shippingStatus="",storeStatus="",customProduct="",pageNumber=options.pageNumber?options.pageNumber:"",pageType=options.pageType?options.pageType:"",widget=options.widget?options.widget:[];for(var index in itemArray)itemArray.hasOwnProperty(index)&&(eVarArray=[],eventArray=[],prodSku=(prodInfo=(item=itemArray[index]).productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodSponsored=prodInfo.sponsored&&"boolean"==typeof prodInfo.sponsored?prodInfo.sponsored.toString():"",prodStr+=prodStr.length>5?",;":"",shippingStatus=(productStatus=prodInfo&&prodInfo.availabilityStatus?prodInfo.availabilityStatus:"").shipping?productStatus.shipping:"",storeStatus=productStatus.store?productStatus.store:"",customProduct=prodInfo.customProduct?prodInfo.customProduct:"",(collectionID||item.curationID)&&eVarArray.push("eVar119="+(collectionID||"n/a")+">"+(item.curationID?item.curationID:"n/a")),prodInfo.storeType&&eVarArray.push("eVar134="+prodInfo.storeType),prodInfo.availabilityStatus&&prodInfo.availabilityStatus.type&&eVarArray.push("eVar133="+prodInfo.availabilityStatus.type+">online-"+(prodInfo.availabilityStatus.shipping&&prodInfo.availabilityStatus.shipping.skuStatus?prodInfo.availabilityStatus.shipping.skuStatus:"")+":store-"+(prodInfo.availabilityStatus.store&&prodInfo.availabilityStatus.store.skuStatus?prodInfo.availabilityStatus.store.skuStatus:"")),widget[0]&&(widget[0].type||widget[0].value)&&eVarArray.push("eVar136="+_setV136(prodInfo,widget,pageType)),Array.isArray(prodInfo.badge)&&prodInfo.badge.length&&(eVarArray.push("eVar149="+_setBadgeTypeAndNameData(prodInfo.badge)),eVarArray.push("eVar185="+_setBadgeData(prodInfo.badge,pageType,"name"))),pageNumber&&eVarArray.push("eVar160="+(pageNumber||"")+"-"+(1*index+1)+(prodSponsored?">sponsored:"+prodSponsored:">sponsored:false")),customProduct&&eVarArray.push("eVar174="+customProduct),shippingStatus&&shippingStatus.sth&&("oos"===shippingStatus.sth?eventArray.push("event56"):"available"===shippingStatus.sth&&eventArray.push("event204")),storeStatus&&storeStatus.bopis&&("oos"===storeStatus.bopis?eventArray.push("event195"):"available"===storeStatus.bopis&&eventArray.push("event205")),shippingStatus&&shippingStatus.bodfs&&"displayed"===shippingStatus.bodfs&&eventArray.push("event206"),storeStatus&&storeStatus.boss&&("oos"===storeStatus.boss?eventArray.push("event198"):"available"===storeStatus.boss&&eventArray.push("event207")),prodStr=prodStr+prodSku+";;;"+(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):""));return";"===prodStr?"":prodStr},cartAdd=function(itemArray,ddo,options){var prodStr=";",prodSku="",item={},eVarArray=[],eventArray=[],eventAndEVarStr="",fulfillment={},price={},prodInfo={},prodInfoAvailability={},recommendation={},stashCustomProduct=(options=void 0!==options?options:{}).customProduct?options.customProduct:"",stashBadgeClickThrough=options.badgeClickThrough?options.badgeClickThrough:"",stashRecObj=options.recobj?options.recobj:"",stashATCLoc=options.atcloc?options.atcloc:"",stashCheckFulfillmentAvailability=options.checkfulfillobj?options.checkfulfillobj:"",stashEta=options.etaobj?options.etaobj:"",stashPodClick=options.podclick?options.podclick:"",stashSolverPath=options.solverpath?options.solverpath:"",v104="",v165="";for(var index in itemArray)if(itemArray.hasOwnProperty(index)){if(item=itemArray[index],eVarArray=[],eventArray=[],eventAndEVarStr="",fulfillment=_normalizeFulfillment(item),price=_normalizePrice(item),(prodInfo=item.productInfo?item.productInfo:item).option?prodInfo.option:{},prodInfoAvailability=prodInfo.availabilityStatus?prodInfo.availabilityStatus:{},prodSku=prodInfo.sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",recommendation=_normalizeRecommendation(item),recommendation=Array.isArray(stashRecObj)?_getRecObj(stashRecObj,prodSku):!utilities.jJ(recommendation)&&stashRecObj?stashRecObj:recommendation,v104="",v165="",eventArray.push("event2="+stripComma(item.quantity)),eventArray.push("event4="+stripComma(price.basePrice)),eventArray.push("event192=1"),(fulfillment&&fulfillment.backOrder&&"yes"===fulfillment.backOrder.toString().toLowerCase()||prodInfoAvailability&&prodInfoAvailability.backOrder&&"true"===prodInfoAvailability.backOrder.toString().toLowerCase())&&eventArray.push("event125"),prodStr=prodStr+prodSku+(prodInfo.proReferralSelected?"-pro":"")+";;;"+(Array.isArray(eventArray)?eventArray.join("|"):"")+";",utilities.jJ(recommendation)&&(recommendation=_setV67(recommendation))&&(recommendation.indexOf("rv:")>-1?eVarArray.push("eVar64="+recommendation):recommendation.indexOf("sp:")>-1?eVarArray.push("eVar67="+recommendation):eVarArray.push("eVar102="+recommendation),v104=_setV104(recommendation)),fulfillment.method&&(fulfillment.method="shiptohome"===fulfillment.method.toLowerCase()?"sth":fulfillment.method&&"shiptostore"===fulfillment.method.toLowerCase()?"boss":fulfillment.method&&"deliverfromstore"===fulfillment.method.toLowerCase()?"bodfs":fulfillment.method,eVarArray.push("eVar36="+fulfillment.method)),eVarArray.push("eVar53="+_setATCLoc(item.atcLocation,stashATCLoc,ddo)),stashCheckFulfillmentAvailability&&eVarArray.push("eVar7="+stashCheckFulfillmentAvailability),v104&&eVarArray.push("eVar104="+v104),stashEta&&(eventAndEVarStr=_getETAString(_getETAObj(stashEta,prodSku)))&&(eVarArray.push("eVar112="+eventAndEVarStr),(v165=_getETADiff(_getETAObj(stashEta,prodSku)))&&eVarArray.push("eVar165="+v165),eVarArray.push("eVar166="+_currentNow())),!eventAndEVarStr&&utilities.jJ(prodInfo.eta)&&(eventAndEVarStr=_getETAString(prodInfo.eta))&&(eVarArray.push("eVar112="+eventAndEVarStr),(v165=_getETADiff(prodInfo.eta))&&eVarArray.push("eVar165="+v165),eVarArray.push("eVar166="+_currentNow())),item.subscription&&item.subscription.frequency&&eVarArray.push("eVar115="+item.subscription.frequency),stashSolverPath)if(Array.isArray(stashSolverPath)){let solverPathIndex=stashSolverPath.findIndex((product=>product.productID===prodSku));-1!==solverPathIndex&&stashSolverPath[solverPathIndex].solverPath&&eVarArray.push("eVar122="+stashSolverPath[solverPathIndex].solverPath)}else eVarArray.push("eVar122="+stashSolverPath);stashPodClick&&eVarArray.push("eVar160="+formatPodClick(stashPodClick)),stashCustomProduct&&eVarArray.push("eVar174="+stashCustomProduct),stashBadgeClickThrough&&eVarArray.push("eVar185="+stashBadgeClickThrough),prodStr+=Array.isArray(eVarArray)?eVarArray.join("|"):"",prodInfo.proReferralSelected&&1===itemArray.length&&(prodStr=prodStr+",;"+prodSku+";;;;")}return";"===prodStr?"":prodStr},cartView=function(itemArray,ddo,options){var addRevenueEvents=(options=void 0!==options?options:{}).addrevenueevents?options.addrevenueevents:"",attachedLabor=_setAttachedLabor(itemArray),attachedLaborEventAndEvar="",content=options.content?options.content:"",privateLabelSku="",prodStr=";",prodSku="",item={},eVarArray=[],eventArray=[],fulfillment={},price={},prodInfo={},customProduct="",stashATCLoc=options.atcloc?options.atcloc:"",v112="",v165="";for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],attachedLaborEventAndEvar="",eVarArray=[],eventArray=[],fulfillment=_normalizeFulfillment(item),price=_normalizePrice(item),customProduct=(prodInfo=item.productInfo?item.productInfo:item).customProduct?prodInfo.customProduct:"",prodInfo.option?prodInfo.option:{},prodSku=prodInfo.sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",v112="",v165="",stashATCLoc&&(eventArray.push("event2="+stripComma(item.quantity)),eventArray.push("event4="+stripComma(price.basePrice)),eventArray.push("event192=1")),fulfillment.method&&eVarArray.push("eVar36="+fulfillment.method),fulfillment.store&&eVarArray.push("eVar52="+fulfillment.store),stashATCLoc&&eVarArray.push("eVar53="+_setATCLoc(item.atcLocation,stashATCLoc,ddo)),utilities.jJ(prodInfo.eta)&&(v112=_getETAString(prodInfo.eta),v165=_getETADiff(prodInfo.eta),v112&&eVarArray.push("eVar112="+v112),v165&&eVarArray.push("eVar165="+v165),eVarArray.push("eVar166="+_currentNow())),item.subscription&&item.subscription.frequency&&eVarArray.push("eVar115="+item.subscription.frequency),fulfillment.previousMethod&&eVarArray.push("eVar121="+fulfillment.previousMethod+">"+(fulfillment.method?fulfillment.method:"")),fulfillment&&fulfillment.backOrder&&"yes"===fulfillment.backOrder.toString().toLowerCase()&&eventArray.push("event125"),customProduct&&eVarArray.push("eVar174="+customProduct),(attachedLabor.installFound&&attachedLabor.installAnchorSku===prodSku||prodInfo.installationDisplayed||"installation"===prodInfo.laborType)&&(eventArray.push("event193"),eVarArray.push("eVar131=installation"),attachedLaborEventAndEvar="event193;eVar131=installation"),(attachedLabor.proreferralFound&&attachedLabor.proreferralAnchorSku===prodSku||prodInfo.proReferralDisplayed)&&(eventArray.push("event193"),eVarArray.push("eVar131=proreferral"),attachedLaborEventAndEvar="event193;eVar131=proreferral"),"sellable assembly"!==prodInfo.laborType&&-1==attachedLabor.sellableAssemblyAnchorSku.indexOf(prodSku)||(eventArray.push("event193"),eVarArray.push("eVar131=sellable assembly"),attachedLaborEventAndEvar="event193;eVar131=sellable assembly"),addRevenueEvents&&(eventArray.push("event260=1"),eventArray.push("event261="+stripComma(item.quantity)),eventArray.push("event262="+stripComma(price.basePrice))),prodStr+=prodSku,prodStr=prodInfo.proReferralSelected||prodInfo.proReferralDisplayed||prodInfo.installationDisplayed?prodStr+(prodInfo.proReferralSelected||prodInfo.proReferralDisplayed?"-pro;;;":";;;")+attachedLaborEventAndEvar:prodStr+";;;"+(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):""));return content&&Array.isArray(content.image)&&content.image[0]&&content.image[0].type&&content.image[0].name&&(privateLabelSku="image>"+content.image[0].type+">"+content.image[0].name,prodStr=(";"===prodStr?prodStr+privateLabelSku:prodStr+",;"+privateLabelSku)+";;;;"),";"===prodStr?"":prodStr},cartCheckout=function(itemArray){var item={},prevProdStr="",prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(prevProdStr=prodStr,prodSku=(prodInfo=(item=itemArray[index]).productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",prodStr=prodInfo.proReferralDisplayed?prevProdStr:prodStr+prodSku+(prodInfo.proReferralSelected?"-pro":"")+";;;;");return";"===prodStr?"":prodStr},opc=function(itemArray){var prodStr=";",prodSku="",item={},eVarArray=[],fulfillment={},prodInfo={},v112="",v165="";for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],fulfillment=_normalizeFulfillment(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",v112="",v165="",fulfillment.method&&eVarArray.push("eVar36="+fulfillment.method),utilities.jJ(prodInfo.eta)&&(v112=_getETAString(prodInfo.eta),v165=_getETADiff(prodInfo.eta),v112&&eVarArray.push("eVar112="+v112),v165&&eVarArray.push("eVar165="+v165),eVarArray.push("eVar166="+_currentNow())),item.subscription&&item.subscription.frequency&&eVarArray.push("eVar115="+item.subscription.frequency),prodStr=prodStr+prodSku+";;;;"+(Array.isArray(eVarArray)?eVarArray.join("|"):""));return";"===prodStr?"":prodStr},cancelSuccess=function(itemArray){var prodStr=";",prodSku="",item={},eVarArray=[],eventArray=[],fulfillment={},price={},prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],eventArray=[],fulfillment=_normalizeFulfillment(item),price=_normalizePrice(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",eventArray.push("event147="+stripComma(price.basePrice)),eventArray.push("event148="+stripComma(item.quantity)),fulfillment.method&&eVarArray.push("eVar36="+fulfillment.method),prodStr=prodStr+prodSku+";;;"+(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):""));return";"===prodStr?"":prodStr},myListCreate=function(itemArray){var prodStr=";",prodSku="",item={},eVarArray=[],price={},prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],price=_normalizePrice(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;event52|event101="+(price.basePrice?price.basePrice:"")+";",item.listLocation&&eVarArray.push("eVar81="+item.listLocation),prodStr+=Array.isArray(eVarArray)?eVarArray.join("|"):"");return";"===prodStr?"":prodStr},myListAddRemove=function(itemArray,type){var eventStr="add"===(type="string"==typeof type?type.toLowerCase():"")?"event100=":"remove"===type?"event102=":"",item={},prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(prodSku=(prodInfo=(item=itemArray[index]).productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;"+(eventStr?eventStr+stripComma(item.quantity):"")+";");return";"===prodStr?"":prodStr};var installationSku=function(itemArray){var attachedLabor=_setAttachedLabor(itemArray),eventAndEVarStr="",eVarArray=[],eventArray=[],item={},prodInfo={},prodStr=";",prodSku="";for(var index in itemArray)itemArray.hasOwnProperty(index)&&(eVarArray=[],eventArray=[],prodSku=(prodInfo=(item=itemArray[index]).productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",(attachedLabor.installFound&&"0"===index||prodInfo.installationDisplayed||"installation"===prodInfo.laborType)&&(eventArray.push("event193"),eVarArray.push("eVar131=installation")),(attachedLabor.sellableAssemblyFound||"sellable assembly"===prodInfo.laborType)&&(eventArray.push("event193"),eVarArray.push("eVar131=sellable assembly")),prodStr=prodStr+prodSku+";;;"+(eventAndEVarStr=(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):""))+(prodInfo.anchorSku?",;"+prodInfo.anchorSku+";;;"+eventAndEVarStr:""));return";"===prodStr?"":prodStr},proreferralSku=function(itemArray){let attachedLabor=_setAttachedLabor(itemArray),eventAndEVarStr="",eVarArray=[],eventArray=[],item={},prodInfo={},prodStr=";",prodSku="";for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],eventArray=[],prodInfo=item.productInfo?item.productInfo:item,prodSku=function(pi){let sku=pi.sku?pi.sku:"";return sku&&"proreferral"===pi.laborType?"".concat(sku,"-pro"):sku}(prodInfo),prodStr+=prodStr.length>5?",;":"",attachedLabor.proreferralFound&&(eventArray.push("event193"),eVarArray.push("eVar131=proreferral")),eventAndEVarStr=(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):""),prodStr=prodStr+prodSku+";;;"+eventAndEVarStr+(prodInfo.proReferralDisplayed?",;"+prodSku+"-pro;;;"+eventAndEVarStr:""));return";"===prodStr?"":prodStr},productPod=function(itemArray,podClick){podClick=void 0!==podClick?podClick:"";var item={},eVarArray=[],prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(eVarArray=[],prodSku=(prodInfo=(item=itemArray[index]).productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",podClick&&eVarArray.push("eVar160="+formatPodClick(podClick)),prodStr=prodStr+prodSku+";;;;"+eVarArray.join("|"));return";"===prodStr?"":prodStr};let couponApplicationChange=function(eventItemArray){let prodStr=";";if(Array.isArray(eventItemArray))for(const eventItem of eventItemArray){let fulfillment=_normalizeFulfillment(eventItem),eventArray=[],eVarArray=[],eventAndEVarStr="",prodSku=eventItem.productInfo&&eventItem.productInfo.sku?eventItem.productInfo.sku:"na",discountAmount=eventItem.price&&eventItem.price.discountAmount?eventItem.price.discountAmount:"0.00",discountCode=eventItem.price&&eventItem.price.discountCode?eventItem.price.discountCode:"na";eventArray.push("event57="+discountAmount),eVarArray.push("eVar20="+discountCode),fulfillment.method&&(fulfillment.method="shiptohome"===fulfillment.method.toLowerCase()?"sth":"shiptostore"===fulfillment.method.toLowerCase()?"boss":"deliverfromstore"===fulfillment.method.toLowerCase()?"bodfs":fulfillment.method,eVarArray.push("eVar36="+fulfillment.method)),fulfillment.store&&eVarArray.push("eVar52="+fulfillment.store),prodStr+=prodStr.length>5?",;":"",eventAndEVarStr=(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):""),prodStr=prodStr+prodSku+";;;"+eventAndEVarStr}return";"===prodStr?"":prodStr};window._T.deployments.core.versions.daMap="6.6.0";var mapMethods={setErrorMessage:function(ddo,eventIndex){s.events=utilities.yE("event49"),s.prop27=(ddo.event[eventIndex].eventInfo.errorType?ddo.event[eventIndex].eventInfo.errorType:ddo.page&&ddo.page.error&&ddo.page.error.errorMessage?ddo.page.error.errorMessage:ddo.page.pageInfo.pageName?ddo.page.pageInfo.pageName:"unknown")+": "+ddo.event[eventIndex].eventInfo.errorMessage,s.linkTrackEvents=utilities.yE("event49",s.linkTrackEvents),s.linkTrackVars=utilities.yE("prop27",s.linkTrackVars)},setBrowseSort:function(){var thdca=s.c_r("x-thd-canaveral-assignment").toLowerCase();return-1!==thdca.indexOf("browsesort:9:0")?"event131":-1!==thdca.indexOf("browsesort:9:1")?"event132":""},setSearchAlgorithm:function(){var fable=s.c_r("x-thd-canaveral-assignment").toLowerCase();return-1!==fable.indexOf("fable:a")?"event256":-1!==fable.indexOf("fable:b")?"event257":""},setSearchTypeAheadImpression:function(data){var result="",first="";return data=void 0!==data?data:"",Array.isArray(data)&&data.length&&(first=data[0],result=data.map((function(term){return 0!==term.toString().indexOf(" in ")?term:first+"~"+term})).join("|")),result},findRecType:function(checkRecObj){return(checkRecObj=void 0!==checkRecObj?checkRecObj:{})&&checkRecObj.recobj&&checkRecObj.recobj.recommendationType?checkRecObj.recobj.recommendationType:""},canSetEvent33:function(pObj,rObj){var prodObj=pObj,recStashedData=rObj,haveRecObj=!1;return(prodObj.recommendation&&utilities.jJ(prodObj.recommendation)||prodObj.productInfo&&prodObj.productInfo.recommendation&&utilities.jJ(prodObj.productInfo.recommendation)||utilities.jJ(recStashedData)||s.eVar6.indexOf("irg")>-1)&&(haveRecObj=!0),haveRecObj},getSemanticToken:function(v40){var parts=(v40="string"==typeof v40?v40:"").split(" "),index=parts.indexOf(">");return index>0?parts[index-1]:""},setEvar132:function(ddo){var stashedData=stash.Jd(),searchTerm="";return stashedData.searchTerm?searchTerm=stashedData.searchTerm:ddo.page.onsiteSearchInfo.searchTerm&&(searchTerm=ddo.page.onsiteSearchInfo.searchTerm),searchTerm||"non search"},setEvar144:function(ddo,eventIndex,evt){var eventObj=ddo.event[eventIndex],data=eventObj&&eventObj.content&&Array.isArray(eventObj.content.module)?eventObj.content.module:[];s.eVar144=function(dataArr){var result="",data=Array.isArray(dataArr)&&dataArr[dataArr.length-1]?dataArr[dataArr.length-1]:"";return data&&(result+=(data.name?data.name:"n/a")+">",result+=(data.feature?data.feature:"n/a")+">",result+=data.type?data.type:"n/a",s.events=utilities.yE(evt)),result}(data),s.linkTrackEvents=utilities.yE(evt,s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar144",s.linkTrackVars)},setProp23:function(ddo){let result=[],visualCategoryIdArray=ddo.page.onsiteSearchInfo.visualCategoryId;if(Array.isArray(visualCategoryIdArray)&&visualCategoryIdArray.length){result.push("imp");for(let index=0;index<visualCategoryIdArray.length;index+=1)result.push(visualCategoryIdArray[index]&&visualCategoryIdArray[index].slot?1*index+1+"-"+visualCategoryIdArray[index].slot:"")}return result.join("|")},setProp69:function(ddo,stshData){var index,visualCategoryIdLength,result=[],stashedData=stshData;if(void 0!==stashedData.podPosition){for(visualCategoryIdLength=void 0!==stashedData.visualCategoryIdLength?stashedData.visualCategoryIdLength:0,result.push("clk"),index=1;index<=visualCategoryIdLength;index++)result.push(index===stashedData.podPosition&&stashedData.categoryId?index+"-"+stashedData.categoryId:"");s.events=utilities.yE("event190")}return result.join("|")},setRedirect:function(ddo){var semanticBits,fifthBit,stashedData=stash.Jd(),searchTerm=function(){var searchTerm="",searchRedirect=s.getQueryParam("searchRedirect");return stashedData.searchTerm?searchTerm=stashedData.searchTerm:ddo.page.onsiteSearchInfo.searchTerm?searchTerm=ddo.page.onsiteSearchInfo.searchTerm:""!==searchRedirect&&(searchTerm=searchRedirect),searchTerm}();if(s.eVar40=ddo.page.onsiteSearchInfo.semanticSearchTokens?ddo.page.onsiteSearchInfo.semanticSearchTokens:s.Util.getQueryParam("semanticToken",document.URL)?s.Util.getQueryParam("semanticToken",document.URL):"",s.eVar39=mapMethods.getSemanticToken(s.eVar40),searchTerm&&(ddo.page.onsiteSearchInfo.semanticSearchTokens||""!==s.getQueryParam("searchRedirect")&&""!==s.getQueryParam("semanticToken"))&&(s.events=utilities.yE("event15",s.events),s.prop4=s.getQueryParam("searchRedirect")?s.getQueryParam("searchRedirect"):ddo.page.onsiteSearchInfo.searchTerm,s.eVar5=s.prop4,s.eVar12="text",s.eVar63="category redirect",5===(semanticBits=s.getQueryParam("semanticToken").split(" ",1))[0].length))switch(fifthBit=semanticBits.toString().slice(-1),parseInt(fifthBit)){case 0:s.eVar63="non redirect";break;case 1:s.eVar12="redirect",s.eVar63="search config redirect";break;case 2:s.eVar12="redirect";break;case 3:s.eVar12="redirect",s.eVar63="rental redirect"}},productFindingMethod:function(ddo,eventIndex,stashObj){var pageInfo=ddo.page&&ddo.page.pageInfo?ddo.page.pageInfo:"",pageType=pageInfo.pageType?pageInfo.pageType:"",pageName=pageInfo.pageName?pageInfo.pageName:"",prodArray=Array.isArray(ddo.product)&&ddo.product.length?ddo.product[0]:"",recObj=prodArray&&prodArray.recommendation?prodArray.recommendation:"",priCat=ddo.page&&ddo.page.category&&ddo.page.category.primaryCategory?ddo.page.category.primaryCategory:"",urlFlag=s.getQueryParam("icid"),linkFlag=!1,toolType=pageType&&pageType.indexOf(":")&&pageType.split(":")[1]?pageType.split(":")[1]:pageType||"",headerEvent=stash.yO("headerEvent"),eventCat=headerEvent&&headerEvent.category&&headerEvent.category.primaryCategory?headerEvent.category.primaryCategory:"",eventName=headerEvent&&headerEvent.eventInfo&&headerEvent.eventInfo.eventName?headerEvent.eventInfo.eventName:"";if(document.referrer){var filters=s.split(s.linkInternalFilters,","),docRef=s.split(document.referrer,"/");for(var f in docRef=docRef[2],filters)docRef.indexOf(filters[f])>-1&&(linkFlag=!0)}if(s.campaign&&!headerEvent)s.eVar2="non-internal campaign",s.eVar4="paid external campaign",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="paid external campaign",s.eVar132="non search",s.eVar162=s.eVar4;else if(s.campaign||linkFlag||!document.referrer)if(!s.campaign&&s.events&&s.events.indexOf("event15")>-1)s.eVar2="non-internal campaign",s.eVar4="internal search",s.eVar6="non-cross sell",s.eVar31="non-browse",s.eVar130="internal search",s.eVar162=s.eVar4;else if(urlFlag)s.eVar2=urlFlag,s.eVar4="internal campaign",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="internal campaign",s.eVar132="non search",s.eVar162=s.eVar4;else if("my account"===priCat&&"maml:list details"===pageType)s.eVar2="non-internal campaign",s.eVar4="my list",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="my list",s.eVar132="non search",s.eVar162=s.eVar4;else if("my account"===priCat&&"maml:list details"!==pageType||"my account"===priCat&&"maml:list index"!==pageType)s.eVar2="non-internal campaign",s.eVar4="my account",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="my account",s.eVar132="non search",s.eVar162=s.eVar4;else if("maml:buy it again"===pageType)s.eVar2="non-internal campaign",s.eVar4="product recommendation",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="buy it again page",s.eVar132="non search",s.eVar162=s.eVar4;else if(["paintcolor","showerdoorinstallation","pest-weed-control","installation services and repair","shoplocal","product rental","garden club","apron blog","crm text offers"," mulch-calculator","cashstar","rebate center","plant-tags","measure and install","topsoil-calculator"].indexOf(toolType)>-1)s.eVar2="non-internal campaign",s.eVar4="finders/tools",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130=toolType,s.eVar132="non search",s.eVar162=s.eVar4;else if(["collections:brand","collections:space","collections:integrated","collections:patio","collections:list view","collections:shop the look","collections:shop by room","clp"].indexOf(pageType)>-1)s.eVar2="non-internal campaign",s.eVar4="collections",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130=toolType,s.eVar132="non search",s.eVar162=s.eVar4;else if("special buy"===pageType)s.eVar2="non-internal campaign",s.eVar4="sbotd",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="sbotd",s.eVar132="non search",s.eVar162=s.eVar4;else if(pageType.indexOf("article")>-1&&stash.yO("articleEvar175Value"))s.eVar2="non-internal campaign",s.eVar4="content",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="article recommendation";else if("stash"===eventCat&&"header click"===eventName)s.eVar2="non-internal campaign",s.eVar4="browse",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31=pageName,s.eVar130="browse",s.eVar132="non search",s.eVar162=s.eVar4;else if(s.eVar86){var stashRecVal="string"==typeof s.eVar86&&s.eVar86.split(":")[0]?s.eVar86.split(":")[0]:"";s.eVar2="non-internal campaign",s.eVar4="category recommendation",s.eVar5="non-search",s.eVar6=stashRecVal,s.eVar12="non-search",s.eVar31="non-browse",s.eVar130=stashRecVal,s.eVar132="non search",s.eVar162=s.eVar4}else{if(!(stashObj||recObj||s.eVar6))return"";var productRec=recObj&&recObj.stash&&recObj.stash.recommendation&&recObj.stash.recommendation.recommendationType?recObj.stash.recommendation.recommendationType:"",urlRecType="string"==typeof s.eVar6&&s.eVar6.split(":")?s.eVar6.split(":"):"";s.eVar2="non-internal campaign",s.eVar4="product recommendation",s.eVar5="non-search",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="product recommendation",s.eVar132="non search",s.eVar162=s.eVar4,productRec?(s.eVar6=productRec,s.eVar130=productRec):stashObj?(s.eVar6=stashObj,s.eVar130=stashObj):urlRecType&&"rec"===urlRecType[0].toLowerCase()&&(s.eVar6=urlRecType.length>1&&urlRecType[1].slice(0,3)?urlRecType[1].slice(0,3):"","pip"===s.eVar6.toLowerCase()&&(s.eVar6="rec"),s.eVar130=s.eVar6)}else s.eVar2="non-internal campaign",s.eVar4="non-paid external campaign",s.eVar5="non-search",s.eVar6="non-cross sell",s.eVar12="non-search",s.eVar31="non-browse",s.eVar130="non-paid external campaign",s.eVar132="non search",s.eVar162=s.eVar4;if(s.eVar4){if((!s.products||s.products&&s.products.indexOf(";productmerch")>-1||"true"===s.newProduct)&&1===s.p_fo("onemerch")){s.c_r("productnum")?s.productNum=parseInt(s.c_r("productnum"))+1:s.productNum=1,s.products=";productmerch"+s.productNum;var e=new Date;e.setTime(e.getTime()+2592e6),s.c_w("productnum",s.productNum,e)}s.events=utilities.yE("event10",s.events?s.events:"")}},productFindingMethodGCC:function(ddo){var isProductPage=function(ddo){var pageInfo=ddo.page&&ddo.page.pageInfo?ddo.page.pageInfo:{},pageType="string"==typeof pageInfo.pageType?pageInfo.pageType.toLowerCase():"";return"product detail"===pageType||"product configuration"===pageType}(ddo),isInternalLink=function(){if(document.referrer){var filters=s.split(s.linkInternalFilters,","),docRef=s.split(document.referrer,"/");for(var f in docRef=docRef[2],filters)if(docRef.indexOf(filters[f])>-1)return!0}return!1}();if(s.campaign&&!isInternalLink)s.eVar4="paid campaign",s.eVar5="non-search",s.eVar12="non-search";else if(s.campaign||isInternalLink)if(s.eVar5)s.eVar4="internal search";else{if(!(ddo.content&&Array.isArray(ddo.content.product)&&ddo.content.product.length))return"";s.eVar4="browse",s.eVar5="non-search",s.eVar12="non-search"}else s.eVar4="non-paid campaign",s.eVar5="non-search",s.eVar12="non-search";if(s.eVar4){if(!isProductPage&&(!s.products||s.products&&s.products.indexOf(";productmerch")>-1||"true"===s.newProduct)&&1===s.p_fo("onemerch")){s.c_r("productnum")?s.productNum=parseInt(s.c_r("productnum"))+1:s.productNum=1,s.products=";productmerch"+s.productNum;var e=new Date;e.setTime(e.getTime()+2592e6),s.c_w("productnum",s.productNum,e)}s.events=utilities.yE(s.events?s.events:"","event10")}},setInitialLoadSearchNucleus:function(ddo){let searchTerm=ddo.page.onsiteSearchInfo.searchTerm?ddo.page.onsiteSearchInfo.searchTerm:"";const pageNumber=ddo.page.displayAttributes&&void 0!==ddo.page.displayAttributes.pageNumber?ddo.page.displayAttributes.pageNumber:"",stashedData=stash.Jd(),searchMedium=function(){let searchMedium="";return stashedData.searchMedium?searchMedium=stashedData.searchMedium:ddo.page.onsiteSearchInfo.searchMedium&&(searchMedium=ddo.page.onsiteSearchInfo.searchMedium),searchMedium}(),sl_token=s.getQueryParam("sl_token"),refinements=function(pageobj){let result="";if(Array.isArray(pageobj.filter)&&pageobj.filter.length>0){let arrLength=pageobj.filter.length;for(let index=0;index<arrLength;index+=1)result+=pageobj.filter[index].position+","+pageobj.filter[index].type+":"+pageobj.filter[index].value,pageobj.filter[index].selectionMethod&&(result+=","+pageobj.filter[index].selectionMethod),index<arrLength-1&&(result+="|");s.events=utilities.yE("event14")}return result}(ddo.page);searchTerm=function(){let searchTerm="";return stashedData.searchTerm?searchTerm=stashedData.searchTerm:ddo.page.onsiteSearchInfo.searchTerm&&(searchTerm=ddo.page.onsiteSearchInfo.searchTerm),searchTerm}(),s.events=function(ddo){let _evtStr=utilities.yE("event15");return"type ahead"===stashedData.searchMedium&&(_evtStr=utilities.yE("event21",_evtStr)),"0"===ddo.page.onsiteSearchInfo.numberOfResults&&(_evtStr=utilities.yE("event32",_evtStr)),"recent searches"===stashedData.searchTypeAheadType&&(_evtStr=utilities.yE("event34",_evtStr)),_evtStr}(ddo),s.prop4=searchTerm,s.prop6=stashedData.searchTermSuggestion?stashedData.searchTermSuggestion:ddo.page.onsiteSearchInfo.correctedTerm,s.prop7=pageNumber,s.prop8="0"!==ddo.page.onsiteSearchInfo.numberOfResults?ddo.page.onsiteSearchInfo.numberOfResults:"zero",s.prop16=refinements&&!stashedData.refinements?"D=v29":"",s.prop21=utilities.q("s_sess","s_pv_pName"),s.prop23=mapMethods.setProp23(ddo),s.prop64=stashedData.searchTermOrigin?stashedData.searchTermOrigin:"","b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.prop62=ddo.page.pageInfo.pageTemplate),s.prop69=mapMethods.setProp69(ddo,stashedData),s.prop74=sl_token||"",s.eVar5=searchTerm,s.eVar8=ddo.page.pageInfo.pageType,s.eVar12=function(ddo){let searchType="";return ddo.page.onsiteSearchInfo.relatedSearch&&s.getQueryParam("relatedSearch")&&(searchType="related Search"),ddo.page.onsiteSearchInfo.relatedCategory&&s.getQueryParam("relatedSearch")&&(searchType="related category"),""!==s.getQueryParam("searchRedirect")&&(searchType="redirect"),searchTerm&&(searchType=ddo.page.onsiteSearchInfo.correctedTerm&&"spell correction"===ddo.page.onsiteSearchInfo.resultsType?ddo.page.onsiteSearchInfo.resultsType:"0"===ddo.page.onsiteSearchInfo.numberOfResults?"null":"text"),searchMedium&&(searchType=searchMedium),sl_token&&(searchType="image search"),"0"===ddo.page.onsiteSearchInfo.numberOfResults&&(searchType=searchMedium+"|"+ddo.page.onsiteSearchInfo.resultsType),searchType}(ddo),s.eVar21=function(pageobj){let result="";return pageobj.displayAttributes&&(pageobj.displayAttributes.viewType||pageobj.displayAttributes.sortBy||pageobj.displayAttributes.productsAvailability)&&(result+=pageobj.displayAttributes.viewType?pageobj.displayAttributes.viewType:"",result+="|",result+=pageobj.displayAttributes.sortBy?pageobj.displayAttributes.sortBy:"",result+="|",result+=pageobj.displayAttributes.productsAvailability?pageobj.displayAttributes.productsAvailability:"",s.events=utilities.yE("event14")),result}(ddo.page),s.eVar29=refinements,s.eVar32=mapMethods.setSearchTypeAheadImpression(stashedData.searchTypeAheadImp),s.eVar40=ddo.page.onsiteSearchInfo.semanticSearchTokens?ddo.page.onsiteSearchInfo.semanticSearchTokens:s.Util.getQueryParam("semanticToken",document.URL)?s.Util.getQueryParam("semanticToken",document.URL):"",s.eVar39=mapMethods.getSemanticToken(s.eVar40),s.eVar63=function(){let result="",searchIntent="string"==typeof ddo.page.onsiteSearchInfo.searchIntent?ddo.page.onsiteSearchInfo.searchIntent.toLowerCase():"";return result=stashedData.searchTypeAheadType?stashedData.searchTypeAheadType:stashedData.searchMedium?stashedData.searchMedium:sl_token?"image search":ddo.page.onsiteSearchInfo.resultsCategory,result="rental intent"===searchIntent?searchIntent:result,result}(),s.eVar78=function(){let searchTypeAheadBits="";return stashedData.searchTypeAheadBits?searchTypeAheadBits=stashedData.searchTypeAheadBits:ddo.page.onsiteSearchInfo.searchTypeAheadBit&&(searchTypeAheadBits=ddo.page.onsiteSearchInfo.searchTypeAheadBit),searchTypeAheadBits}(),s.eVar103=getContentSku(ddo),""===s.eVar103&&void 0===s.eVar103||(s.events=utilities.yE("event118")),"b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.eVar82=ddo.page.pageInfo.pageTemplate),mapMethods.productFindingMethod(ddo),stashedData.filterby&&(s.events=utilities.yE("event37"))},setInitialLoadSearch:function(ddo,eventIndex){var result,searchTypeAheadBits,stashedData=stash.Jd(),searchTerm=function(){var searchTerm="";return stashedData.searchTerm?searchTerm=stashedData.searchTerm:ddo.page.onsiteSearchInfo.searchTerm&&(searchTerm=ddo.page.onsiteSearchInfo.searchTerm),searchTerm}(),searchMedium=function(){var searchMedium="";return stashedData.searchMedium?searchMedium=stashedData.searchMedium:ddo.page.onsiteSearchInfo.searchMedium&&(searchMedium=ddo.page.onsiteSearchInfo.searchMedium),searchMedium}(),sl_token=s.getQueryParam("sl_token"),refinements=function(ddo,eventIndex){var result="";if(ddo.event[eventIndex].filter&&ddo.event[eventIndex].filter.length>0){for(var arrLength=ddo.event[eventIndex].filter.length,index=0;index<arrLength;index+=1)result+=ddo.event[eventIndex].filter[index].position+","+ddo.event[eventIndex].filter[index].type+":"+ddo.event[eventIndex].filter[index].value,ddo.event[eventIndex].filter[index].selectionMethod&&(result+=","+ddo.event[eventIndex].filter[index].selectionMethod),index<arrLength-1&&(result+="|");s.events=utilities.yE("event14")}return result}(ddo,eventIndex);s.events=function(ddo){var _evtStr=utilities.yE("event15");return"type ahead"===stashedData.searchMedium&&(_evtStr=utilities.yE("event21",_evtStr)),"0"===ddo.page.onsiteSearchInfo.numberOfResults&&(_evtStr=utilities.yE("event32",_evtStr)),"recent searches"===stashedData.searchTypeAheadType&&(_evtStr=utilities.yE("event34",_evtStr)),_evtStr}(ddo),s.prop4=searchTerm,s.prop6=stashedData.searchTermSuggestion?stashedData.searchTermSuggestion:ddo.page.onsiteSearchInfo.correctedTerm,s.prop7=(result="",ddo.event[eventIndex].displayAttributes&&(result=ddo.event[eventIndex].displayAttributes.pageNumber),result),s.prop8="0"!==ddo.page.onsiteSearchInfo.numberOfResults?ddo.page.onsiteSearchInfo.numberOfResults:"zero",s.prop16=function(){var result="";return refinements&&!stashedData.refinements&&(result="D=v29"),result}(),s.prop21=utilities.q("s_sess","s_pv_pName"),s.prop23=mapMethods.setProp23(ddo),s.prop64=stashedData.searchTermOrigin?stashedData.searchTermOrigin:"","b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.prop62=ddo.page.pageInfo.pageTemplate),s.prop69=mapMethods.setProp69(ddo,stashedData),s.prop74=sl_token||"",s.eVar5=searchTerm,s.eVar8=ddo.page.pageInfo.pageType,s.eVar12=function(ddo){var searchType="";return ddo.page.onsiteSearchInfo.relatedSearch&&s.getQueryParam("relatedSearch")&&(searchType="related Search"),ddo.page.onsiteSearchInfo.relatedCategory&&s.getQueryParam("relatedSearch")&&(searchType="related category"),""!==s.getQueryParam("searchRedirect")&&(searchType="redirect"),searchTerm&&(searchType=ddo.page.onsiteSearchInfo.correctedTerm&&"spell correction"===ddo.page.onsiteSearchInfo.resultsType?ddo.page.onsiteSearchInfo.resultsType:"0"===ddo.page.onsiteSearchInfo.numberOfResults?"null":"text"),searchMedium&&(searchType=searchMedium),sl_token&&(searchType="image search"),"0"===ddo.page.onsiteSearchInfo.numberOfResults&&(searchType=searchMedium+"|"+ddo.page.onsiteSearchInfo.resultsType),searchType}(ddo),s.eVar21=function(ddo,eventIndex){var result="";return(ddo.event[eventIndex].displayAttributes.viewType||ddo.event[eventIndex].displayAttributes.sortBy||ddo.event[eventIndex].displayAttributes.productsAvailability)&&(result+=ddo.event[eventIndex].displayAttributes.viewType?ddo.event[eventIndex].displayAttributes.viewType:"",result+="|",result+=ddo.event[eventIndex].displayAttributes.sortBy?ddo.event[eventIndex].displayAttributes.sortBy:"",result+="|",result+=ddo.event[eventIndex].displayAttributes.productsAvailability?ddo.event[eventIndex].displayAttributes.productsAvailability:"",s.events=utilities.yE("event14")),result}(ddo,eventIndex),s.eVar29=refinements,s.eVar32=mapMethods.setSearchTypeAheadImpression(stashedData.searchTypeAheadImp),s.eVar40=ddo.page.onsiteSearchInfo.semanticSearchTokens?ddo.page.onsiteSearchInfo.semanticSearchTokens:s.Util.getQueryParam("semanticToken",document.URL)?s.Util.getQueryParam("semanticToken",document.URL):"",s.eVar39=mapMethods.getSemanticToken(s.eVar40),s.eVar63=function(){var result="",searchIntent="string"==typeof ddo.page.onsiteSearchInfo.searchIntent?ddo.page.onsiteSearchInfo.searchIntent.toLowerCase():"";return result=stashedData.searchTypeAheadType?stashedData.searchTypeAheadType:stashedData.searchMedium?stashedData.searchMedium:sl_token?"image search":ddo.page.onsiteSearchInfo.resultsCategory,result="rental intent"===searchIntent?searchIntent:result}(),s.eVar78=(searchTypeAheadBits="",stashedData.searchTypeAheadBits?searchTypeAheadBits=stashedData.searchTypeAheadBits:ddo.page.onsiteSearchInfo.searchTypeAheadBit&&(searchTypeAheadBits=ddo.page.onsiteSearchInfo.searchTypeAheadBit),searchTypeAheadBits),s.eVar103=getContentSku(ddo),""===s.eVar103&&void 0===s.eVar103||(s.events=utilities.yE("event118")),"b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.eVar82=ddo.page.pageInfo.pageTemplate),mapMethods.productFindingMethod(ddo,eventIndex),stashedData.filterby&&(s.events=utilities.yE("event37"))},setInitialLoadBrowse:function(ddo,eventIndex){var result,stashedData=stash.Jd();stashedData.searchTerm&&(s.events=utilities.yE("event15",s.events),"type ahead"===stashedData.searchMedium&&(s.events=utilities.yE("event21",s.events)),"recent searches"===stashedData.searchTypeAheadType&&(s.events=utilities.yE("event34",s.events)),s.prop4=stashedData.searchTerm,s.prop6=stashedData.searchTermSuggestion?stashedData.searchTermSuggestion:"",s.prop64=stashedData.searchTermOrigin?stashedData.searchTermOrigin:"",s.eVar40=ddo.page.onsiteSearchInfo.semanticSearchTokens?ddo.page.onsiteSearchInfo.semanticSearchTokens:s.Util.getQueryParam("semanticToken",document.URL)?s.Util.getQueryParam("semanticToken",document.URL):"",s.eVar39=mapMethods.getSemanticToken(s.eVar40),s.eVar5=stashedData.searchTerm,s.eVar12=function(ddo){var searchType="",sl_token=s.getQueryParam("sl_token");return ddo.page.onsiteSearchInfo.relatedSearch&&s.getQueryParam("relatedSearch")&&(searchType="related Search"),ddo.page.onsiteSearchInfo.relatedCategory&&s.getQueryParam("relatedSearch")&&(searchType="related category"),""!==s.getQueryParam("searchRedirect")&&(searchType="redirect"),stashedData.searchMedium&&(searchType=stashedData.searchMedium),sl_token&&(searchType="image search"),searchType}(ddo),s.eVar32=mapMethods.setSearchTypeAheadImpression(stashedData.searchTypeAheadImp),s.eVar63=(result="",stashedData.searchTypeAheadType?result=stashedData.searchTypeAheadType:stashedData.searchMedium&&(result=stashedData.searchMedium),result),s.eVar78=stashedData.searchTypeAheadBits),s.prop7=function(){var result="";return ddo.event[eventIndex].displayAttributes&&(result=ddo.event[eventIndex].displayAttributes.pageNumber),result}(),s.prop23=mapMethods.setProp23(ddo),s.prop69=mapMethods.setProp69(ddo,stashedData),s.prop8="0"!==ddo.page.onsiteSearchInfo.numberOfResults?ddo.page.onsiteSearchInfo.numberOfResults:"zero",s.prop21=utilities.q("s_sess","s_pv_pName"),mapMethods.productFindingMethod(ddo,eventIndex),s.prop16="D=v29","b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.prop62=ddo.page.pageInfo.pageTemplate),s.eVar21=function(ddo,eventIndex){var result="";return"number"==typeof eventIndex&&(ddo.event[eventIndex].displayAttributes.viewType||ddo.event[eventIndex].displayAttributes.sortBy||ddo.event[eventIndex].displayAttributes.productsAvailability)&&(result+=ddo.event[eventIndex].displayAttributes.viewType?ddo.event[eventIndex].displayAttributes.viewType:"",result+="|",result+=ddo.event[eventIndex].displayAttributes.sortBy?ddo.event[eventIndex].displayAttributes.sortBy:"",result+="|",result+=ddo.event[eventIndex].displayAttributes.productsAvailability?ddo.event[eventIndex].displayAttributes.productsAvailability:"",s.events=utilities.yE("event14")),result}(ddo,eventIndex),s.eVar29=function(ddo,eventIndex){var result="";if("number"==typeof eventIndex&&ddo.event[eventIndex].filter&&ddo.event[eventIndex].filter.length>0){for(var arrLength=ddo.event[eventIndex].filter.length,index=0;index<arrLength;index+=1)result+=ddo.event[eventIndex].filter[index].position+","+ddo.event[eventIndex].filter[index].type+":"+ddo.event[eventIndex].filter[index].value,ddo.event[eventIndex].filter[index].selectionMethod&&(result+=","+ddo.event[eventIndex].filter[index].selectionMethod),index<arrLength-1&&(result+="|");s.events=utilities.yE("event14")}return result}(ddo,eventIndex),s.eVar103=getContentSku(ddo),""===s.eVar103&&void 0===s.eVar103||(s.events=utilities.yE("event118")),"b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.eVar82=ddo.page.pageInfo.pageTemplate),"0"===ddo.page.onsiteSearchInfo.numberOfResults&&"no search results"===ddo.page.pageInfo.pageName&&(s.events=utilities.yE("event32")),stashedData.filterby&&(s.events=utilities.yE("event37"))},setInitialLoadBrowseNucleus:function(ddo,eventIndex){const stashedData=stash.Jd();stashedData.searchTerm&&(s.events=utilities.yE("event15",s.events),"type ahead"===stashedData.searchMedium&&(s.events=utilities.yE("event21",s.events)),"recent searches"===stashedData.searchTypeAheadType&&(s.events=utilities.yE("event34",s.events)),s.prop4=stashedData.searchTerm,s.prop6=stashedData.searchTermSuggestion?stashedData.searchTermSuggestion:"",s.prop64=stashedData.searchTermOrigin?stashedData.searchTermOrigin:"",s.eVar40=ddo.page.onsiteSearchInfo.semanticSearchTokens?ddo.page.onsiteSearchInfo.semanticSearchTokens:s.Util.getQueryParam("semanticToken",document.URL)?s.Util.getQueryParam("semanticToken",document.URL):"",s.eVar39=mapMethods.getSemanticToken(s.eVar40),s.eVar5=stashedData.searchTerm,s.eVar12=function(ddo){let searchType="",sl_token=s.getQueryParam("sl_token");return ddo.page.onsiteSearchInfo.relatedSearch&&s.getQueryParam("relatedSearch")&&(searchType="related Search"),ddo.page.onsiteSearchInfo.relatedCategory&&s.getQueryParam("relatedSearch")&&(searchType="related category"),""!==s.getQueryParam("searchRedirect")&&(searchType="redirect"),stashedData.searchMedium&&(searchType=stashedData.searchMedium),sl_token&&(searchType="image search"),searchType}(ddo),s.eVar32=mapMethods.setSearchTypeAheadImpression(stashedData.searchTypeAheadImp),s.eVar63=function(){let result="";return stashedData.searchTypeAheadType?result=stashedData.searchTypeAheadType:stashedData.searchMedium&&(result=stashedData.searchMedium),result}(),s.eVar78=stashedData.searchTypeAheadBits),s.prop7=ddo.page.displayAttributes&&void 0!==ddo.page.displayAttributes.pageNumber?ddo.page.displayAttributes.pageNumber:"",s.prop23=mapMethods.setProp23(ddo),s.prop69=mapMethods.setProp69(ddo,stashedData),s.prop8="0"!==ddo.page.onsiteSearchInfo.numberOfResults?ddo.page.onsiteSearchInfo.numberOfResults:"zero",s.prop21=utilities.q("s_sess","s_pv_pName"),mapMethods.productFindingMethod(ddo,eventIndex),s.prop16="D=v29","b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.prop62=ddo.page.pageInfo.pageTemplate),s.eVar21=function(pageobj){let result="";return pageobj.displayAttributes&&(pageobj.displayAttributes.viewType||pageobj.displayAttributes.sortBy||pageobj.displayAttributes.productsAvailability)&&(result+=pageobj.displayAttributes.viewType?pageobj.displayAttributes.viewType:"",result+="|",result+=pageobj.displayAttributes.sortBy?pageobj.displayAttributes.sortBy:"",result+="|",result+=pageobj.displayAttributes.productsAvailability?pageobj.displayAttributes.productsAvailability:"",s.events=utilities.yE("event14")),result}(ddo.page),s.eVar29=function(pageobj){let result="";if(Array.isArray(pageobj.filter)&&pageobj.filter.length>0){let arrLength=pageobj.filter.length;for(var index=0;index<arrLength;index+=1)result+=pageobj.filter[index].position+","+pageobj.filter[index].type+":"+pageobj.filter[index].value,pageobj.filter[index].selectionMethod&&(result+=","+pageobj.filter[index].selectionMethod),index<arrLength-1&&(result+="|");s.events=utilities.yE("event14")}return result}(ddo.page),s.eVar103=getContentSku(ddo),""===s.eVar103&&void 0===s.eVar103||(s.events=utilities.yE("event118")),"b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.eVar82=ddo.page.pageInfo.pageTemplate),"0"===ddo.page.onsiteSearchInfo.numberOfResults&&"no search results"===ddo.page.pageInfo.pageName&&(s.events=utilities.yE("event32")),stashedData.filterby&&(s.events=utilities.yE("event37"))},setFilterBy:function(ddo,eventIndex){var index=0;s.pageName=ddo.page.pageInfo.pageName+">"+ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.events=utilities.yE("event37"),s.prop4=ddo.page.onsiteSearchInfo.searchTerm,s.prop6=ddo.page.onsiteSearchInfo.correctedTerm,s.prop7=ddo.page.onsiteSearchInfo.pageNum,s.prop8=ddo.page.onsiteSearchInfo.numberOfResults,s.prop16=function(ddo,eventIndex){var result="";if(ddo.event[eventIndex].filter&&ddo.event[eventIndex].filter.length>0){var lastIndex=ddo.event[eventIndex].filter.length-1;result+=ddo.event[eventIndex].filter[lastIndex].position+","+ddo.event[eventIndex].filter[lastIndex].type+":"+ddo.event[eventIndex].filter[lastIndex].value,ddo.event[eventIndex].filter[lastIndex].selectionMethod&&(result+=","+ddo.event[eventIndex].filter[lastIndex].selectionMethod)}return result}(ddo,eventIndex),s.prop21=utilities.q("s_sess","s_pv_pName"),s.prop30=ddo.page.pageInfo.pageType,s.prop36=ddo.page.onsiteSearchInfo.searchTerm,s.eVar29=function(ddo,eventIndex){var result="";if(ddo.event[eventIndex].filter&&ddo.event[eventIndex].filter.length>0)for(var arrLength=ddo.event[eventIndex].filter.length;index<arrLength;index+=1)result+=ddo.event[eventIndex].filter[index].position+","+ddo.event[eventIndex].filter[index].type+":"+ddo.event[eventIndex].filter[index].value,index<arrLength-1&&(result+="|");return result}(ddo,eventIndex),s.eVar63=ddo.page.onsiteSearchInfo.resultsCategory,s.eVar103=getContentSku(ddo),""===s.eVar103&&void 0===s.eVar103||(s.events=utilities.yE("event118")),ddo.content&&Array.isArray(ddo.content.product)&&ddo.content.product.length&&(s.events=utilities.yE("event119"),s.products=productImpression(ddo.content.product,{pageNumber:mapMethods.getImpressionPageNumber(ddo.event[eventIndex])}),s.eVar132=mapMethods.setEvar132(ddo)),s.linkTrackEvents=utilities.yE("event37,event118,event119",s.linkTrackEvents),s.linkTrackVars=utilities.yE("prop4,prop6,prop7,prop8,prop16,prop21,prop30,prop36,eVar4,eVar29,eVar63,eVar103,eVar132,products",s.linkTrackVars)},setPagination:function(ddo,eventIndex){var result;s.pageName=ddo.page.pageInfo.pageName+">"+ddo.event[eventIndex].eventInfo.eventName,s.prop7=(result="",ddo.event[eventIndex].displayAttributes&&(result=ddo.event[eventIndex].displayAttributes.pageNumber),result),s.prop62=ddo.page.pageInfo.pageTemplate,s.eVar82=ddo.page.pageInfo.pageTemplate,s.eVar103=getContentSku(ddo),""===s.eVar103&&void 0===s.eVar103||(s.events=utilities.yE("event118")),ddo.content&&Array.isArray(ddo.content.product)&&ddo.content.product.length&&(s.events=utilities.yE("event119"),s.products=productImpression(ddo.content.product,{pageNumber:mapMethods.getImpressionPageNumber(ddo.event[eventIndex])}),s.eVar132=mapMethods.setEvar132(ddo)),"browse"!==ddo.event[eventIndex].category.primaryCategory&&"search"!==ddo.event[eventIndex].category.primaryCategory||(s.prop8="0"!==ddo.page.onsiteSearchInfo.numberOfResults?ddo.page.onsiteSearchInfo.numberOfResults:"zero",s.prop16="D=v29",s.eVar29=function(ddo,eventIndex){let result="";if(ddo.event[eventIndex].filter&&ddo.event[eventIndex].filter.length>0)for(var arrLength=ddo.event[eventIndex].filter.length,index=0;index<arrLength;index+=1)result+=ddo.event[eventIndex].filter[index].position+","+ddo.event[eventIndex].filter[index].type+":"+ddo.event[eventIndex].filter[index].value,ddo.event[eventIndex].filter[index].selectionMethod&&(result+=","+ddo.event[eventIndex].filter[index].selectionMethod),index<arrLength-1&&(result+="|");return result}(ddo,eventIndex))},setSortBy:function(ddo,eventIndex){s.pageName=ddo.page.pageInfo.pageName+">"+ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.events=utilities.yE("event37"),s.prop30=ddo.page.pageInfo.pageType,s.eVar21="|"+ddo.event[eventIndex].displayAttributes.sortBy+"|",s.eVar103=getContentSku(ddo),""===s.eVar103&&void 0===s.eVar103||(s.events=utilities.yE("event118")),ddo.content&&Array.isArray(ddo.content.product)&&ddo.content.product.length&&(s.events=utilities.yE("event119"),s.products=productImpression(ddo.content.product,{pageNumber:mapMethods.getImpressionPageNumber(ddo.event[eventIndex])}),s.eVar132=mapMethods.setEvar132(ddo)),s.linkTrackEvents=utilities.yE("event37,event118,event119",s.linkTrackEvents),s.linkTrackVars=utilities.yE("prop30,eVar21,eVar103,eVar132,products",s.linkTrackVars)},setCommonTypeBy:function(ddo,eventIndex){s.pageName=ddo.page.pageInfo.pageName+">"+ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.events=utilities.yE("event37"),s.products=productImpression(ddo.content.product,{pageNumber:mapMethods.getImpressionPageNumber(ddo.event[eventIndex])}),s.linkTrackEvents=utilities.yE("event37",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar21,products",s.linkTrackVars)},setEvar85:function(addressBookObj){var settings=void 0!==addressBookObj&&addressBookObj.settings?addressBookObj.settings:{};return(settings.default?settings.default:"")+":"+(settings.phoneForm?settings.phoneForm:"")+":"+(settings.apartmentForm?settings.apartmentForm:"")+":"+(settings.quantity?settings.quantity:"")},setCartAdd:function(ddo,eventIndex){var stashRecAddLoc=stash.p4("recCartAddLoc"),stashATCLoc=stashRecAddLoc||stash.p4("cart add location"),stashRecCartAdd=stash.p4("recommendationCartAdd"),stashCheckFulfillmentAvailability=stash.p4("check fulfillment availability"),stashEta=stash.p4("checkFulfillmentAvailabilityEta"),stashBadgeClickThrough=stash.p4("atcBadgeClickThrough"),stashPodClick=mapMethods.getPodClick(),stashCustomProduct=Array.isArray(stashRecCartAdd)&&stashRecCartAdd.length>=1&&stashRecCartAdd[0].productInfo&&stashRecCartAdd[0].productInfo.customProduct?stashRecCartAdd[0].productInfo.customProduct:"",stashSolverPathPersisted=stash.yO("solverPath"),stashSolverPath=stashSolverPathPersisted||stash.p4("solverPath");s.channel="cart add",s.events=function(ddo){var scOpenString="",_evtStr=utilities.yE("scAdd,event2,event4,event98,event192"),_cartID=ddo.cart&&ddo.cart.cartID?ddo.cart.cartID:ddo.legacy&&ddo.legacy.cartID?ddo.legacy.cartID:"",evtObj=ddo.event[eventIndex]&&ddo.event[eventIndex].item&&ddo.event[eventIndex].item[0]?ddo.event[eventIndex].item[0]:"",fulMethod=evtObj.fulfillment&&"string"==typeof evtObj.fulfillment.method?evtObj.fulfillment.method.toLowerCase():"",fulMethodType=evtObj.fulfillment&&"string"==typeof evtObj.fulfillment.changeType?evtObj.fulfillment.changeType.toLowerCase():"",fulPrevMethod=evtObj.fulfillment&&"string"==typeof evtObj.fulfillment.previousMethod?evtObj.fulfillment.previousMethod.toLowerCase():"",fulBackOrder=evtObj&&evtObj.fulfillment&&"string"==typeof evtObj.fulfillment.backOrder?evtObj.fulfillment.backOrder.toLowerCase():"",applianceBackOrder=evtObj&&evtObj.productInfo&&evtObj.productInfo.availabilityStatus&&evtObj.productInfo.availabilityStatus.backOrder&&"string"==typeof evtObj.productInfo.availabilityStatus.backOrder.toString()?evtObj.productInfo.availabilityStatus.backOrder.toString().toLowerCase():"";return _cartID&&(scOpenString="scOpen:"+_cartID,_evtStr=utilities.yE(scOpenString,_evtStr)),ddo.event[eventIndex]&&ddo.event[eventIndex].item&&ddo.event[eventIndex].item[0]&&ddo.event[eventIndex].item[0].subscription&&ddo.event[eventIndex].item[0].subscription.frequency&&(_evtStr=utilities.yE("event82",_evtStr)),"yes"!==fulBackOrder&&"true"!==applianceBackOrder||(_evtStr=utilities.yE("event125",_evtStr)),"boss"===fulMethod&&"bopis"===fulPrevMethod&&(_evtStr=utilities.yE("event263",_evtStr)),"inventory"===fulMethodType&&(_evtStr=utilities.yE("event263",_evtStr)),stashBadgeClickThrough&&(_evtStr=utilities.yE("event185",_evtStr)),_evtStr}(ddo),s.events=utilities.BU(s.events,"event258");let productStringCartAddOptions={atcloc:stashATCLoc,recobj:stashRecCartAdd,checkfulfillobj:stashCheckFulfillmentAvailability,badgeClickThrough:stashBadgeClickThrough,etaobj:stashEta,podclick:stashPodClick,customProduct:stashCustomProduct};var selCat,selCol,result;productStringCartAddOptions.solverpath=stashSolverPath,s.products=cartAdd(ddo.event[eventIndex].item,ddo,productStringCartAddOptions),stash._k("cart add location"),stash._k("recommendationCartAdd"),stash._k("recCartAddLoc"),stash._k("check fulfillment availability"),stash._k("atcBadgeClickThrough"),stash._k("solverPath"),stash.wj("solverPath"),stash.wj("podClick"),stash._k("atcPodClick"),s.prop15=ddo.page.pageInfo.pageName,s.prop17=ddo.page.pageInfo.pageType,s.prop30="cart add overlay",s.prop33=ddo.event[eventIndex].eventInfo.abTest?ddo.event[eventIndex].eventInfo.abTest:s.prop33?s.prop33:"",s.eVar8="cart add overlay",s.eVar63=appData.TK("pageLoadeVar63"),s.eVar89=ddo.event[eventIndex].cart&&ddo.event[eventIndex].cart.cartID?ddo.event[eventIndex].cart.cartID:"",s.eVar96=s.prop15?s.prop15:"",s.eVar97=ddo.page.pageInfo.pageType,s.eVar144="",s.eVar158=(result="",selCat=stash.p4("selectedCategory"),selCol=stash.p4("selectedColor"),""!==selCat&&""!==selCol&&(result="clk|buy sample|"+selCat+"|"+selCol),result),stash._k("selectedCategory"),stash._k("selectedColor"),-1!==config.lz.indexOf("b2")&&(s.pageName="cart add",s.prop62="",s.eVar82="")},setProductView:function(ddo){var isRedirect=!1,stashedData=stash.Jd(),keyword=s.Util.getQueryParam("keyword"),attachedLabor=mapMethods.getAttachedLabor(ddo.product),semanticToken=s.Util.getQueryParam("semanticToken",document.URL),stashSolverPath=stash.yO("solverPath"),widgetArray=ddo.content&&Array.isArray(ddo.content.widget)?ddo.content.widget:[],widgetInteractionClick=stash.yO("widgetInteractionClick");stash.ld("solverPath",stashSolverPath);var recentlyViewed,recPipLoad,merch,recStashedData=(recentlyViewed=stash.yO("recRecentlyViewedPipLoad"),recPipLoad=stash.yO("recommendationPipLoad"),merch=s.Util.getQueryParam("MERCH",document.URL),recentlyViewed||recPipLoad||(merch&&0===merch.toLowerCase().indexOf("rec-_-")?function(val){let arr=val.split("-_-");return{recommendationType:arr.length>2?arr[1]:"",pageType:utilities.q("s_sess","s_pv_pType"),anchorProductSku:"",strategy:"",recommendationVersion:"",featureVersion:"",interval:""}}(merch):{})),stashBadgeClickThrough=stash.yO("badgeClickThrough");let badges=ddo.content&&ddo.content.product&&ddo.content.product.productInfo&&Array.isArray(ddo.content.product.productInfo.badge)?ddo.content.product.productInfo.badge:[];var collectionsProductClick=stash.yO("collectionsProductClick"),stashPodClick=mapMethods.getPodClick(),moduleResult=s.eVar144?s.eVar144:"",searchTerm=function(){var searchTerm="";return stashedData.searchTerm?searchTerm=stashedData.searchTerm:keyword?searchTerm=decodeURIComponent(keyword):ddo.product[0].productInfo.sku&&(searchTerm=ddo.product[0].productInfo.sku),searchTerm}();(keyword&&-1===document.referrer.indexOf("/webapp/catalog/servlet/Search")||stashedData.searchTerm)&&(isRedirect=!0),isRedirect&&(s.prop4=searchTerm,s.prop8="1",s.prop64=stashedData.searchTermOrigin?stashedData.searchTermOrigin:"",s.eVar5=searchTerm,s.eVar12=stashedData.searchMedium?stashedData.searchMedium:"text",s.eVar63=stashedData.searchTypeAheadType?stashedData.searchTypeAheadType:"search all");let productStringProductViewOptions={recobj:recStashedData,badgeClickThrough:stashBadgeClickThrough,collectionsProductClick,podclick:stashPodClick};var selCat,selCol,result;productStringProductViewOptions.pageType=ddo.page.pageInfo.pageType,productStringProductViewOptions.solverpath=stashSolverPath,productStringProductViewOptions.widget=widgetArray,productStringProductViewOptions.badges=badges,ddo.content&&ddo.content.feature&&"string"==typeof ddo.content.feature.instantCheckoutDisplayed&&"y"===ddo.content.feature.instantCheckoutDisplayed.toLowerCase()&&(s.events=utilities.yE("event80")),s.products=productView(ddo.product,productStringProductViewOptions),s.events=function(ddo){var evtStr=utilities.yE("prodView,event16",s.events?s.events:"");if(Array.isArray(ddo.product)&&ddo.product.length){var prodObj=ddo.product[0],productStatus=prodObj.productInfo&&prodObj.productInfo.availabilityStatus?prodObj.productInfo.availabilityStatus:"",productAssembly=prodObj.productInfo&&prodObj.productInfo.assembly?prodObj.productInfo.assembly.toString().toLowerCase():"",shippingStatus=productStatus.shipping?productStatus.shipping:"",storeStatus=productStatus.store?productStatus.store:"",backOrder=productStatus.backOrder?productStatus.backOrder.toString().toLowerCase():"",laborType=prodObj.productInfo&&prodObj.productInfo.laborType?prodObj.productInfo.laborType.toString().toLowerCase():"";mapMethods.canSetEvent33(prodObj,recStashedData)&&(evtStr=utilities.yE(evtStr,"event33")),isRedirect&&(evtStr=utilities.yE(evtStr,"event15")),"in store"===productAssembly&&(evtStr=utilities.yE("event271",evtStr)),shippingStatus&&shippingStatus.sth&&("oos"===shippingStatus.sth?evtStr=utilities.yE("event56",evtStr):"available"===shippingStatus.sth&&(evtStr=utilities.yE("event204",evtStr))),storeStatus&&storeStatus.bopis&&("oos"===storeStatus.bopis?evtStr=utilities.yE("event195",evtStr):"available"===storeStatus.bopis&&(evtStr=utilities.yE("event205",evtStr))),shippingStatus&&shippingStatus.bodfs&&"displayed"===shippingStatus.bodfs&&(evtStr=utilities.yE("event206",evtStr)),storeStatus&&storeStatus.boss&&("oos"===storeStatus.boss?evtStr=utilities.yE("event198",evtStr):"available"===storeStatus.boss&&(evtStr=utilities.yE("event207",evtStr))),laborType&&"proreferral"===laborType&&(evtStr=utilities.yE("event193",evtStr)),prodObj.productInfo&&prodObj.productInfo.availabilityStatus&&void 0!==prodObj.productInfo.availabilityStatus.subscription&&!0===prodObj.productInfo.availabilityStatus.subscription&&(evtStr=utilities.yE(evtStr,"event81")),"yes"===backOrder&&(evtStr=utilities.yE("event125",evtStr)),"string"==typeof s.products&&s.products.toLowerCase().indexOf("evar112")>-1&&(evtStr=utilities.yE("event127",evtStr)),prodObj.productInfo&&prodObj.productInfo.sskuInteraction&&(evtStr=utilities.yE("event247",evtStr))}return"type ahead"===stashedData.searchMedium&&(evtStr=utilities.yE("event21",evtStr)),stashBadgeClickThrough&&(evtStr=utilities.yE("event185",evtStr)),utilities.jJ(attachedLabor)&&(evtStr=utilities.yE("event193",evtStr)),widgetArray[0]&&(widgetArray[0].type||widgetArray[0].value)&&(evtStr=utilities.yE("event233",evtStr)),widgetInteractionClick&&(evtStr=utilities.yE("event234",evtStr),stash.wj("widgetInteractionClick")),prodObj.productInfo&&!0===prodObj.productInfo.superDuperSkuInteraction&&(evtStr=utilities.yE("event252",evtStr)),prodObj.productInfo&&!0===prodObj.productInfo.collectionInteraction&&(evtStr=utilities.yE("event255",evtStr)),moduleResult&&moduleResult.toLowerCase().match(/buy box>bogo>cta/)&&(evtStr=utilities.yE("event268",evtStr)),moduleResult&&moduleResult.toLowerCase().match(/buy box>multi-sku bulk>cta/)&&(evtStr=utilities.yE("event94",evtStr)),moduleResult&&moduleResult.toLowerCase().match(/buy box>buy more save more>cta/)&&(evtStr=utilities.yE("event92",evtStr)),evtStr}(ddo),s.eVar8=ddo.page.pageInfo.pageType,s.prop62="",s.prop62=ddo.page.pageInfo.pageTemplate,s.eVar78=stashedData.searchTypeAheadBits?stashedData.searchTypeAheadBits:"",s.eVar82=ddo.page.pageInfo.pageTemplate,s.eVar40=ddo.page.onsiteSearchInfo.semanticSearchTokens?ddo.page.onsiteSearchInfo.semanticSearchTokens:semanticToken||"",s.eVar39=mapMethods.getSemanticToken(s.eVar40),s.eVar108=function(){var cmMCId=s.Util.getQueryParam("cm_mmc",document.URL);if(cmMCId&&0===cmMCId.toString().toLowerCase().indexOf("shopping")|0===cmMCId.toString().toLowerCase().indexOf("pla")&&ddo.product&&Array.isArray(ddo.product)&&ddo.product.length)return ddo.product[0].productInfo&&ddo.product[0].productInfo.sku?ddo.product[0].productInfo.sku.toString():""}(),s.eVar158=(result="",selCat=stash.yO("selectedCategory"),selCol=stash.yO("selectedColor"),""!==selCat&&""!==selCol&&(result="clk|buy paint|"+selCat+"|"+selCol),result),stash.wj("podClick"),stash.wj("selectedCategory"),stash.wj("selectedColor")},setEvar26:function(ddo){return ddo.user.profile.authenticationStatus?ddo.user.profile.authenticationStatus:""},setWidgetTracking:function(eventData){var result="",widget=eventData&&eventData.content&&eventData.content.widgets&&eventData.content.widgets[0]?eventData.content.widgets[0]:"";return widget&&(result+=(widget.id?widget.id:"n/a")+"|",result+=(widget.name?widget.name:"n/a")+"|",result+=(widget.templates?widget.templates:"n/a")+"|",result+=(widget.component?widget.component:"n/a")+"|",result+=(widget.campaign?widget.campaign:"n/a")+"|",result+=(widget.action?widget.action:"n/a")+"|",result+=(eventData.pageType?eventData.pageType:"n/a")+"|",result+=widget.element?widget.element:"n/a",s.eVar129=result,s.events=utilities.yE("event194")),result},getAttachedLabor:function(products){var i=0,product={};for(products=Array.isArray(products)?products:[],i=0;i<products.length;i++){if((product=products[i]).productInfo&&product.productInfo.installationDisplayed)return{type:"installation",productInfo:product.productInfo};if(product.productInfo&&(product.productInfo.proReferralDisplayed||"proreferral"===product.productInfo.laborType))return{type:"proreferral",productInfo:product.productInfo};if(product.productInfo&&"sellable assembly"===product.productInfo.laborType)return{type:"sellable assembly",productInfo:product.productInfo}}return{}},getPodClick:function(){var stashDataObj=stash.yO("podClick");return stashDataObj||(stashDataObj=stash.p4("atcPodClick")),stashDataObj},getImpressionPageNumber:function(evtObj,pageObj){let pageNumber="";return void 0!==evtObj&&evtObj.displayAttributes&&evtObj.displayAttributes.pageNumber?pageNumber=evtObj.displayAttributes.pageNumber:void 0!==pageObj&&pageObj.displayAttributes&&pageObj.displayAttributes.pageNumber&&(pageNumber=pageObj.displayAttributes.pageNumber),pageNumber},setPaintMetrics:function(eventObj){var colorExplore=void 0!==eventObj&&eventObj.colorExplore?eventObj.colorExplore:"",v137="",v138="";colorExplore&&(v137+=(colorExplore.color?colorExplore.color:"n/a")+"|",v137+=(colorExplore.colorID?colorExplore.colorID:"n/a")+"|",v137+=(colorExplore.colorFamily?colorExplore.colorFamily:"n/a")+"|",v137+=(colorExplore.colorHue?colorExplore.colorHue:"n/a")+"|",v137+=colorExplore.colorAnchor?colorExplore.colorAnchor:"n/a",s.eVar137=v137,v138+=(colorExplore.cem?colorExplore.cem:"n/a")+"|",v138+=(colorExplore.pageType?colorExplore.pageType:"n/a")+"|",v138+=(colorExplore.colorFilter?colorExplore.colorFilter:"n/a")+"|",v138+=colorExplore.brandFilter?colorExplore.brandFilter:"n/a",s.eVar138=v138)},setLaborDisplayed:function(ddo,eventIndex){var installLabor=mapMethods.getAttachedLabor(ddo.product),installationStatus=utilities.jJ(installLabor)&&installLabor?installLabor:"";s.events=utilities.yE("event193"),s.eVar131="sellable assembly",s.products=installationSku(ddo.event[eventIndex].item),installationStatus&&(s.products=installationSku(ddo.product)),s.linkTrackEvents=utilities.yE("event193",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar131",s.linkTrackVars)},setLaborDisplayedNucleus:function(ddo,eventIndex){let itemArray=ddo.event[eventIndex].item,attachedLaborData=mapMethods.getAttachedLabor(itemArray),laborType=attachedLaborData.type?attachedLaborData.type:"";s.events=utilities.yE("event193"),s.eVar131=laborType,s.products=function(itemArray,laborType){let attachedLabor=_setAttachedLabor(itemArray),anchorSku="",eventAndEVarStr="",eVarArray=[],eventArray=[],item={},prodInfo={},prodStr=";",prodSku="";for(let index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],anchorSku="",eVarArray=[],eventArray=[],prodInfo=item.productInfo?item.productInfo:item,prodSku=prodInfo.sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",(attachedLabor.installFound||attachedLabor.proreferralFound||attachedLabor.sellableAssemblyFound)&&(eventArray.push("event193"),eVarArray.push("eVar131="+laborType),anchorSku=function(attachedLabor){let result="";return attachedLabor.installAnchorSku?result=attachedLabor.installAnchorSku:attachedLabor.proreferralAnchorSku?result=attachedLabor.proreferralAnchorSku+"-pro":attachedLabor.sellableAssemblyAnchorSku.length>0&&(result=attachedLabor.sellableAssemblyAnchorSku[0]),result}(attachedLabor)),eventAndEVarStr=(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):""),prodStr=prodStr+prodSku+";;;"+eventAndEVarStr+(anchorSku?",;"+anchorSku+";;;"+eventAndEVarStr:""));return";"===prodStr?"":prodStr}(itemArray,laborType),s.linkTrackEvents=utilities.yE("event193",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar131",s.linkTrackVars)}},nodes={universal:{forcePageView:!1,reportingType:"t",setMetrics:function(ddo,eventIndex){var btstrap,stashDataObj,result,widgetObj,pgName;s.pageURL=document.URL,document.location.href.indexOf("&krypto")>-1&&(s.pageURL=document.location.href.replace(/&krypto=[\w+%]+/,"")),s.pageName=ddo.page.pageInfo.pageName,s.events=function(ddo){return s.events=utilities.yE(mapMethods.setBrowseSort()),s.events=utilities.yE(mapMethods.setSearchAlgorithm()),"b2consumer-mobile"!==config.lz&&"b2business-mobile"!==config.lz&&"b2x-mobile"!==config.lz||!ddo.user.localization.isMethodChanged||(s.events=utilities.yE("event40")),s.events}(ddo),s.prop5=utilities.q("s_sess","s_pv_pType"),s.prop13=s.getNewRepeat(365),s.prop24="am="+s.version+"|visitor="+Visitor.version+"|build=b2consumer-desktop|version=6.6.0|ts=2021-07-26T17:43:37.147Z|host="+utilities.nl(),s.prop29=function(){let instoreCheck=s.c_r("THD_INTERNAL"),instoreNumber=s.c_r("IN_STORE_USER_NUMBER");return""!==instoreCheck&&""!==instoreNumber?"0"===instoreCheck&&"Not In Store"!==instoreNumber?"instore-public|"+instoreNumber:"1"===instoreCheck&&"Not In Store"!==instoreNumber?"instore-internal|"+instoreNumber:"":""}(),s.prop33=ddo.page.pageInfo.abTest&&document.cookie.indexOf("E4%3DCNative")>-1?"mobile web view|"+ddo.page.pageInfo.abTest:document.cookie.indexOf("E4%3DCNative")>-1?"mobile web view":ddo.page.pageInfo.abTest?ddo.page.pageInfo.abTest:void 0,s.prop34=utilities.Qb(),s.prop38="undefined"!=typeof Visitor?"VisitorAPI Present":"VisitorAPI Missing",s.prop44=ddo.site.siteID,s.prop46="D=g",s.eVar145=window.location&&location.protocol&&location.pathname&&location.host?location.protocol+"//"+location.host+location.pathname:"",s.eVar146="D=g",s.eVar147=s.Util.getQueryParam("ecc_ord",document.URL),s.prop56=appData.r0("defaultBeacon")?"fail-safe":appData.r0("preIgnition")?"preignition":appData.r0("pageDataPushFail")?"misfire":appData.r0("pageUnloadEvent")?"unload":"standard",s.prop63=stash.yO("globalMyAccountSettings"),s.prop67=ddo.page.pageInfo.platform?ddo.page.pageInfo.platform:"",stash.wj("globalMyAccountSettings"),s.eVar15=ddo.site.betaSite,s.eVar17="D=pageName",s.eVar25=(btstrap=config.s3(),document.cookie.indexOf("E4%3DCNative")>-1?"consumer app":"homedepot"===btstrap?"desktop":"homedepotmobile"===btstrap?"mobile":btstrap),s.eVar26=function(ddo){var result=mapMethods.setEvar26(ddo);return"sign in"!==ddo.user.profile.action&&"register"!==ddo.user.profile.action||(s.events="register"===ddo.user.profile.action?utilities.yE("event1,event25"):utilities.yE("event25"),result="authenticated"),result}(ddo),s.eVar27="string"==typeof ddo.user.localization.storeNumber&&-1===ddo.user.localization.storeNumber.indexOf("@")?ddo.user.localization.storeNumber:"",s.eVar30=function(ddo){var result="";return ddo.legacy&&ddo.legacy.profileID&&(ddo.legacy.profileID.toString().match(/[^0-9]/)?s.prop37=utilities.yE("v30 not set [numeric check failed]",s.prop37):result=ddo.legacy.profileID),result}(ddo),s.eVar47=s.Util.getQueryParam("em_id",document.URL),s.eVar48=ddo.site.siteID,("b2consumer-mobile"===config.lz||"b2business-mobile"===config.lz||"b2x-mobile"===config.lz)&&window.navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("tc70")>-1&&(s.eVar51="first phone"),"b2consumer-mobile"!==config.lz&&"b2business-mobile"!==config.lz&&"b2x-mobile"!==config.lz||(s.eVar59=utilities.Yt()),s.eVar60=function(){if(window.QuantumMetricAPI){let getUser="function"==typeof window.QuantumMetricAPI.getUserID?window.QuantumMetricAPI.getUserID():void 0,getSession="function"==typeof window.QuantumMetricAPI.getSessionID?window.QuantumMetricAPI.getSessionID():void 0;return("string"==typeof getUser?getUser:"na")+"|"+("string"==typeof getSession?getSession:"na")}}(),s.eVar61=window.mboxFactoryDefault&&"function"==typeof window.mboxFactoryDefault.getPCId?window.mboxFactoryDefault.getPCId().getId():"",s.eVar69=function(){let value=s.getDaysSinceLastVisit();return"New Visitor"===value?"first visit":value}(),s.eVar86=function(){var stashDataObj=stash.yO("categoryRecommendation"),result="";if(stashDataObj){var collectionID=ddo.content&&ddo.content.collection&&ddo.content.collection.collectionID?ddo.content.collection.collectionID:"";result+=(stashDataObj.categoryRecommendationType?stashDataObj.categoryRecommendationType:"n/a")+"-",result+=s.prop5+"-",result+=(ddo.page&&ddo.page.category&&ddo.page.category.subCategory2?ddo.page.category.subCategory2:"n/a")+"-",result+=(stashDataObj.displayPosition?stashDataObj.displayPosition:"n/a")+"-",result+=(stashDataObj.anchorSku?stashDataObj.anchorSku:"n/a")+"-",result+=(stashDataObj.anchorCollectionID?stashDataObj.anchorCollectionID:"n/a")+"-",result+=(collectionID||"n/a")+"-",result+=(stashDataObj.version?stashDataObj.version:"n/a")+"-",result+=stashDataObj.strategy?stashDataObj.strategy:"n/a"}return result&&(s.events=utilities.yE("event87",s.events)),result}(),s.eVar89=function(ddo,cartID){return(cartID=void 0!==cartID?cartID.toString():ddo.cart&&ddo.cart.cartID?ddo.cart.cartID.toString():"")&&cartID.substring(0,1)&&0===cartID.substring(0,1).toLowerCase().indexOf("w")&&(cartID=cartID.toString().replace(/w/,"")),cartID}(ddo,ddo.cart.cartID),s.eVar92=_T.pxbs?_T.pxbs:"",s.list3=_T.pxEnrich?_T.pxEnrich:"",s.eVar94=function(ddo){var result="";return ddo.user.profile.profileInfo.profileID&&(ddo.user.profile.profileInfo.profileID.toString().match(/[^0-9]/)?result=ddo.user.profile.profileInfo.profileID:s.prop37=utilities.yE("v94 not set [alphanum check failed]",s.prop37)),result}(ddo),s.eVar99="D=mid",s.eVar100=function(){let tmxValue=stash.yO("tmxPolicyDetails");return tmxValue||(tmxValue=stash.p4("tmxPolicyDetailsErrorCase")),stash.wj("tmxPolicyDetails"),stash._k("tmxPolicyDetailsErrorCase"),tmxValue}(),s.eVar110=s.Util.getQueryParam("mtc",document.URL),s.eVar156=function(ddo){var result="";if(ddo.appExperience&&ddo.appExperience.length)for(var index=0;index<ddo.appExperience.length;index+=1)result+=(ddo.appExperience[index].name?ddo.appExperience[index].name:"n/a")+">"+(ddo.appExperience[index].version?ddo.appExperience[index].version:"n/a"),index<ddo.appExperience.length-1&&(result+="|");return result}(ddo),s.eVar129=(stashDataObj=stash.yO("contentModuleClick"),result="",(widgetObj=stashDataObj&&stashDataObj.content&&stashDataObj.content.widgets&&stashDataObj.content.widgets[0]?stashDataObj.content.widgets[0]:"")&&(result+=(widgetObj.id?widgetObj.id:"n/a")+"|",result+=(widgetObj.name?widgetObj.name:"n/a")+"|",result+=(widgetObj.templates?widgetObj.templates:"n/a")+"|",result+=(widgetObj.component?widgetObj.component:"n/a")+"|",result+=(widgetObj.campaign?widgetObj.campaign:"n/a")+"|",result+=(widgetObj.action?widgetObj.action:"n/a")+"|",result+=stashDataObj.pageType?stashDataObj.pageType:"n/a",s.events=utilities.yE("event194")),result),s.eVar118=function(){var stashDataObj=stash.yO("collectionsLinkInteraction"),result="",collectionsObj=stashDataObj&&stashDataObj.collection?stashDataObj.collection:"";return collectionsObj&&(result+=(collectionsObj.collectionID?collectionsObj.collectionID:"n/a")+":",result+=(collectionsObj.section?collectionsObj.section:"n/a")+":",result+=(collectionsObj.component?collectionsObj.component:"n/a")+":",result+=collectionsObj.target?collectionsObj.target:"n/a",s.events=utilities.yE("event202")),result}(),mapMethods.setWidgetTracking(stash.yO("contentModuleClick")),s.eVar150=ddo.site.businessType?ddo.site.businessType.toString().toLowerCase():"b2c","b2b"!==ddo.site.businessType.toString().toLowerCase()&&"b2x"!==ddo.site.businessType.toString().toLowerCase()||(s.eVar151=ddo.user.b2bProfile.userType,s.eVar152=ddo.user.b2bProfile.userID,s.eVar153=ddo.user.b2bProfile.accountID,s.eVar154=ddo.user.b2bProfile.shipToID,s.eVar155=ddo.user.b2bProfile.userTradeType),s.eVar140=function(){var recObj=stash.yO("contentRecommendation"),prevPageType=utilities.q("s_sess","s_pv_pType"),result="";return recObj&&utilities.jJ(recObj)&&(result+=(recObj.categoryRecommendationType?recObj.categoryRecommendationType:"n/a")+"|",result+=(prevPageType||"n/a")+"|",result+=(recObj.anchorSku?recObj.anchorSku:"n/a")+"|",result+=(recObj.displayPosition?recObj.displayPosition:"n/a")+"|",result+=(recObj.guideType?recObj.guideType:"n/a")+"|",result+=(recObj.contentID?recObj.contentID:"n/a")+"|",result+=(recObj.strategy?recObj.strategy:"n/a")+"|",result+=recObj.version?recObj.version:"n/a",stash.wj("contentRecommendation")),result}(),s.eVar142=function(){var experience=stash.yO("experience"),result="";return"string"==typeof experience&&experience&&(result="hd home"===(experience=experience.toLowerCase())?experience:"na",stash.wj("experience")),result}(),s.eVar157=(pgName=ddo.page.pageInfo.pageName)&&pgName.toString().match(/article>9ba/)?pgName:"",s.eVar161=config.vR("siteSpect")&&window.ss_watts?window.ss_watts:"",s.eVar163=s.Util.getQueryParam("neweng",document.URL)?s.Util.getQueryParam("neweng",document.URL):s.Util.getQueryParam("bzid",document.URL)?s.Util.getQueryParam("bzid",document.URL):"",s.eVar171=function(){var result="";return result=ddo.user.b2bProfile.perks.enrollment?ddo.user.b2bProfile.perks.enrollment:"n/a",result+=",",result+=ddo.user.b2bProfile.perks.program?ddo.user.b2bProfile.perks.program:"n/a",result+=",",result+=ddo.user.b2bProfile.perks.tier?ddo.user.b2bProfile.perks.tier:"n/a"}(),s.eVar172=function(){var result="";return result=ddo.user.b2bProfile.preferredPricing.enrollment?ddo.user.b2bProfile.preferredPricing.enrollment:"n/a",result+=",",result+=ddo.user.b2bProfile.preferredPricing.program?ddo.user.b2bProfile.preferredPricing.program:"n/a",result+=",",result+=ddo.user.b2bProfile.preferredPricing.tier?ddo.user.b2bProfile.preferredPricing.tier:"n/a"}(),s.eVar173=function(){let pxCookie=utilities.ij("pxdefender");return""!==pxCookie?(s.events=pxCookie&&"true"===pxCookie.toString()?utilities.yE("event266"):utilities.yE("event267"),"extension"):""}(),s.eVar177=function(){let mrId=s.c_r("ajs_anonymous_id");return mrId?(mrId=mrId.replace(/\"/g,""),mrId=mrId.replace(/\\/g,""),mrId):""}(),mapMethods.setRedirect(ddo),!appData.r0("sentImpressionTracking")&&ddo.content&&Array.isArray(ddo.content.product)&&ddo.content.product.length&&(appData.VG({category:{primaryCategory:"content display"},eventInfo:{eventName:"product impression"}}),appData.P0("sentImpressionTracking",!0)),s.campaign=function(){var result="",temp=s.getQueryParam("cm_mmc,cid","","f","ET_CID");temp||(temp="true"===s.getQueryParam("cj","","f","ET_CID")?"cj-_-cj-_-cj-_-cj":""),(temp||(temp=(temp=s.getQueryParam("cm_ven,cm_cat,cm_pla,cm_ite","-_-","f"))||s.getQueryParam("cm_ven,cm_cat,cm_pla,cm_ite","-_-",decodeURI(window.location.href))))&&(result=temp=decodeURI(temp));var u=(s.pageURL?s.pageURL:window.location)+"";if(!result&&u.indexOf("&cj=true")>-1&&(result="cj-_-omtr_auto_append"),s.exec<1){var k=s.c_r("s_cmpnm");s.c_w("s_cmpnm",result),result===k&&(result=""),s.exec+=1}return result}();var recentlyViewed,recPipLoad,stashedData=(recentlyViewed=stash.yO("recRecentlyViewedPipLoad"),recPipLoad=stash.yO("recommendationPipLoad"),recentlyViewed||recPipLoad||{});mapMethods.productFindingMethod(ddo,eventIndex,mapMethods.findRecType({recobj:stashedData})),s.eVar175=function(){let articleRecValue=stash.yO("articleEvar175Value");return stash.wj("articleEvar175Value"),articleRecValue?(s.events=utilities.yE("event269"),articleRecValue):""}(),s.eVar176=function(ddo){let previousPageType=utilities.q("s_sess","s_pv_pType"),previousPageName=utilities.q("s_sess","s_pv_pName"),articleRecPageTypeValue=stash.yO("articleEvar176Value");if(stash.wj("articleEvar176Value"),s.eVar157&&-1===document.cookie.indexOf("CNative")){if(s.eVar175&&articleRecPageTypeValue)return articleRecPageTypeValue;if(document.URL.indexOf("searchRedirect")>-1)return"internal search";if(-1===document.referrer.indexOf("homedepot.com")||""===document.referrer&&-1===document.URL.indexOf("searchRedirect")||s.Util.getQueryParam("cm_mmc",document.URL))return"external: external";if(previousPageType){let prePgTyLow=previousPageType.toLowerCase();if("article>alp"===prePgTyLow){let artText=ddo.page.category.subCategory2?ddo.page.category.subCategory2.match(">.*>"):"undefined";return Array.isArray(artText)?(artText=artText[0].slice(1,-1),"alp: "+(artText?"".concat(artText," : ").concat(previousPageName):"")):"alp: "}return"homepage"===prePgTyLow?"page referral: homepage : ".concat(previousPageName):"search results"===prePgTyLow?"page referral: search results : ".concat(previousPageName):"plp"===prePgTyLow?"page referral: plp : ".concat(previousPageName):"category"===prePgTyLow?"page referral: category : ".concat(previousPageName):"pip"===prePgTyLow||"expanded view overlay"===prePgTyLow?"page referral: pip : ".concat(previousPageName):"pep"===prePgTyLow?"page referral: pep : ".concat(previousPageName):"content"===prePgTyLow?"page referral: content : ".concat(previousPageName):"article"===prePgTyLow?"page referral: article : ".concat(previousPageName):"page referral: other : ".concat(previousPageName)}}}(ddo),s.eVar188=function(ddo){if("article>alp"===ddo.page.pageInfo.pageType&&ddo.page.filter&&Array.isArray(ddo.page.filter)){let formattedArray=[];for(const filterRec of ddo.page.filter){let filterType=function(filterRec){if("string"==typeof filterRec.type){let lcFilterType=filterRec.type.toLowerCase();return"information type"===lcFilterType?"IA":"home area"===lcFilterType?"HA":"keyword"===lcFilterType?"KW":"video"===lcFilterType?"VD":"na"}return"na"}(filterRec),filterValue=filterRec.value?filterRec.value:"na";formattedArray.push("".concat(filterType,":").concat(filterValue))}if(formattedArray.length>0)return formattedArray.join(">")}return""}(ddo),s.eVar184=ddo.user.localization.userZip?ddo.user.localization.userZip.toString():"na"}},t:{setMetrics:function(ddo,eventIndex){var result,stashDataObj;s.channel=ddo.page.category.primaryCategory,s.prop1=ddo.page.category.subCategory1,s.prop2=ddo.page.category.subCategory2,s.prop9="D=v14",s.c_r("aam_uuid")&&(s.eVar169=s.c_r("aam_uuid").toString()),stash.yO("signInSuccess")&&(s.events=utilities.yE("event25"),stash.wj("signInSuccess")),("function"==typeof window.getAtPerformance?window.getAtPerformance():[]).forEach((vital=>{vital.LLL&&(s.events=utilities.yE("event280=".concat(vital.LLL))),vital.TNC&&(s.events=utilities.yE("event281=".concat(vital.TNC))),vital.ATRS&&(s.events=utilities.yE("event282=".concat(vital.ATRS))),vital.ATRF&&(s.events=utilities.yE("event283=".concat(vital.ATRF))),vital.ATCS&&(s.events=utilities.yE("event284=".concat(vital.ATCS))),vital.ATCF&&(s.events=utilities.yE("event285 =".concat(vital.ATCF)))})),s.prop14||(s.prop14=s.Util.getQueryParam("MP_QueryString")),s.prop27=function(ddo){var p27=s.prop27?s.prop27:"";return ddo.page.error&&ddo.page.error.errorMessage&&(s.linkTrackVars="prop27,events",s.linkTrackEvents="event49",s.events="event49",p27=(ddo.page.pageInfo.pageName?ddo.page.pageInfo.pageName:"unknown")+": "+ddo.page.error.errorMessage),p27}(ddo),s.prop30=ddo.page.pageInfo.pageType,s.prop41=ddo.user.localization.gpsPermission,s.prop42||(s.prop42=s.Util.getQueryParam("pid")),s.prop43=utilities.q("s_sess","s_pv_pVer"),s.prop52=utilities.q("s_sess","s_pv_pName"),s.prop61=ddo.page.category.headerCrumb?ddo.page.category.headerCrumb:"","b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.prop62="no template"),s.prop65=ddo.page.pageInfo.catalog?ddo.page.pageInfo.catalog:"",s.prop75=stash.yO("headerClick"),s.eVar2||(s.eVar2=s.Util.getQueryParam("icid")?s.Util.getQueryParam("icid"):s.Util.getQueryParam("itc")?s.Util.getQueryParam("itc"):""),s.eVar3||(s.eVar3=s.Util.getQueryParam("cm_sp")),s.eVar6||(s.eVar6=s.getQueryParam("merch").replace(/-_-/g,":")),s.eVar6&&"string"==typeof s.eVar6&&-1!==s.eVar6.toLowerCase().indexOf("rv:")&&(s.eVar64=s.eVar6),s.eVar8=s.prop30?s.prop30:"",s.eVar14=ddo.user.localization.method?ddo.user.localization.method:"value not populated",s.eVar46||(s.eVar46=s.Util.getQueryParam("et_rid",document.URL)),s.eVar101=(result="",(stashDataObj=mapMethods.getPodClick())&&(result+=(stashDataObj.podPageNumber?stashDataObj.podPageNumber:"")+"|",result+=(stashDataObj.podPageResults?stashDataObj.podPageResults:"")+"|",result+=(stashDataObj.podPosition?stashDataObj.podPosition:"")+"|",result+=(stashDataObj.podType?stashDataObj.podType:"")+"|",result+=(stashDataObj.podAction?stashDataObj.podAction:"")+"|",result+=stashDataObj.podAnchorSku?stashDataObj.podAnchorSku:"",s.events=utilities.yE("event123="+(stashDataObj.podInteractionNumber?stashDataObj.podInteractionNumber:""))),result),s.eVar74=s.Util.getQueryParam("mid",document.URL),s.eVar84=s.getQueryParam("k_clickid"),s.eVar107=s.Util.getQueryParam("gclid",document.URL),s.eVar144=function(){let resultArr=[],result="",contentModule=ddo.content&&Array.isArray(ddo.content.module)&&ddo.content.module.length>0?ddo.content.module:"",stashContentModuleValue=stash.yO("stashContenModuleImpressionValue");if(stash.wj("stashContenModuleImpressionValue"),stashContentModuleValue&&resultArr.push(stashContentModuleValue),contentModule)for(let i=0;i<contentModule.length;i++)contentModule[i].name&&contentModule[i].feature&&contentModule[i].type&&resultArr.push(contentModule[i].name+">"+contentModule[i].feature+">"+contentModule[i].type);return result=resultArr.join("|"),result.indexOf("plcc")>-1&&(s.events=utilities.yE("event258",s.events)),result}();let target=ddo.page.target;target&&(target.experienceNameA?s.eVar140=target.experienceNameA:target.experienceNameB&&(s.eVar141=target.experienceNameB));var oref=s.Util.getQueryParam("orig_ref",document.URL),utmref=s.Util.getQueryParam("utm_referrer",document.URL);(oref=oref||(utmref||""))&&(0===oref.indexOf("http%")||0===oref.indexOf("https%")?s.referrer=unescape(oref):s.referrer=oref);var a="",ref=s.referrer?s.referrer:document.referrer,prevcamp=utilities.q("s_sess","s_pv_cmpgn"),tYmal=s.getQueryParam("merch");ref=ref.toLowerCase(),tYmal&&""!==tYmal&&(a=(a=s.split(tYmal,"-_-"))[2]),s.campaign||!ref||!/homedepot.com.buy\//.test(ref)||!a&&prevcamp&&/altruik/.test(prevcamp)||(s.campaign="seo|altruik"+(a?"|"+a:"")),s.campaign&&(s.eVar43=s.campaign),s.list2=function(ddo){var list2="";if(Array.isArray(ddo.page.error)){var errors=ddo.page.error,result=[],_left=function(str,count){return count=void 0!==count?count:2,(str=void 0!==str?str:"").substr(0,count)};errors.forEach((function(error,index){error.isReported||(error.isReported=!0,digitalData.page.error[index].isReported=!0,result.push(_left(error.type)+":"+_left(error.displayType)+":"+(error.pageSection?error.pageSection:"")+":"+(error.message?error.message:"")+":"+(error.code?error.code:"")))})),list2=result.join("|")}return list2&&(s.events=utilities.yE("event49")),list2}(ddo),"b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.eVar82="no template"),s.eVar180=s.getQueryParam("itc",document.URL),s.eVar180&&(s.eVar178=s.getQueryParam("rev_cid",document.URL)?s.getQueryParam("rev_cid",document.URL):"no revjet ids",s.events=utilities.yE("event209",s.events));var _shopByPinImageCount=stash.p4("shopByPinImageCount");""!==_shopByPinImageCount&&(s.events=utilities.yE("event242="+_shopByPinImageCount),stash._k("shopByPinImageCount"));var _pinterest=ddo.content&&ddo.content.pinterest?ddo.content.pinterest:{};void 0!==_pinterest.totalProductsDisplayed&&(s.events=utilities.yE("event243="+_pinterest.totalProductsDisplayed)),void 0!==_pinterest.totalCategoriesDisplayed&&(s.events=utilities.yE("event244="+_pinterest.totalCategoriesDisplayed));var _shopByPinCategory=stash.p4("shopByPinCategory");utilities.jJ(_shopByPinCategory)&&(void 0!==_shopByPinCategory.totalProductsSelected&&(s.events=utilities.yE("event245="+_shopByPinCategory.totalProductsSelected)),void 0!==_shopByPinCategory.totalCategoriesSelected&&(s.events=utilities.yE("event246="+_shopByPinCategory.totalCategoriesSelected)),stash._k("shopByPinCategory"))}},tl:{setMetrics:function(){s.prop35="D=pageName",s.linkTrackEvents=utilities.yE("event40"),s.linkTrackVars=utilities.yE("pageName,events,prop5,prop13,prop24,prop29,prop33,prop34,prop35,prop37,prop38,prop44,prop46,prop55,prop56,prop57,prop63,prop67,eVar15,eVar17,eVar25,eVar26,eVar27,eVar30,eVar35,eVar37,eVar47,eVar48,eVar61,eVar69,eVar89,eVar94,eVar99,eVar100,eVar145,eVar146,eVar147,eVar150,eVar151,eVar152,eVar153,eVar154,eVar155,eVar161,eVar183",s.linkTrackVars)}},final:{setMetrics:function(ddo){0}},blinds_customizer_page:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.products=skuOnly(ddo.product),s.events=utilities.yE("event155,event184")}},blinds_samples_cart:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event163"),s.products=cartView(ddo.cart.item)}},blinds_shipping_page:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event165,event71"),s.products=cartView(ddo.cart.item)}},blinds_payment_and_billing_page:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event166,event54"),s.products=cartView(ddo.cart.item)}},blinds_offline_order_confirmation:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.eVar55=ddo.referral&&ddo.referral.type?ddo.referral.type:""}},blinds_paypal_shipping_page:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event174,event191"),s.products=cartView(ddo.cart.item)}},blinds_my_account_checkout_page:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(){s.events=utilities.yE("event24,event28")}},"button_submission*item_config_update":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"item config update",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("scAdd,event2,event4,event98,event156,event157,event192"),s.products=cartAdd(ddo.event[eventIndex].item,ddo),s.linkTrackEvents=utilities.yE("scAdd,event2,event4,event98,event156,event157,event192",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"button_submission*blinds_delete_saved_cart":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"delete saved cart",setMetrics:function(){s.events=utilities.yE("event159"),s.linkTrackEvents=utilities.yE("event159",s.linkTrackEvents)}},"button_submission*blinds_email_saved_cart":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"email saved cart",setMetrics:function(){s.events=utilities.yE("event160"),s.linkTrackEvents=utilities.yE("event160",s.linkTrackEvents)}},"button_submission*blinds_paypal_cart":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"blinds paypal cart",setMetrics:function(){s.events=utilities.yE("scCheckout,event167,event189"),s.linkTrackEvents=utilities.yE("scCheckout,event167,event189",s.linkTrackEvents)}},"button_submission*blinds_paypal_shipping":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"blinds paypal shipping",setMetrics:function(){s.events=utilities.yE("event168,event190"),s.linkTrackEvents=utilities.yE("event168,event190",s.linkTrackEvents)}},"button_submission*blinds_order_update":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"blinds order update",setMetrics:function(){s.events=utilities.yE("event105"),s.linkTrackEvents=utilities.yE("event105",s.linkTrackEvents)}},"button_submission*design_save":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design save",setMetrics:function(){s.events=utilities.yE("event210"),s.linkTrackEvents=utilities.yE("event210",s.linkTrackEvents)}},"button_submission*design_delete":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design delete",setMetrics:function(){s.events=utilities.yE("event211"),s.linkTrackEvents=utilities.yE("event211",s.linkTrackEvents)}},"button_submission*design_duplicate":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design duplicate",setMetrics:function(){s.events=utilities.yE("event212"),s.linkTrackEvents=utilities.yE("event212",s.linkTrackEvents)}},"button_submission*design_shop_products":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design shop products",setMetrics:function(){s.events=utilities.yE("event213"),s.linkTrackEvents=utilities.yE("event213",s.linkTrackEvents)}},"button_submission*design_add_product":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design add product",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event214"),s.products=skuOnly(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event214",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"button_submission*design_remove_product":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design remove product",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event215"),s.products=skuOnly(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event215",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"button_submission*design_swap_products":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design swap products",setMetrics:function(){s.events=utilities.yE("event216"),s.linkTrackEvents=utilities.yE("event216",s.linkTrackEvents)}},"button_submission*design_item_config_update":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design item config update",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event217"),s.products=skuOnly(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event217",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"button_submission*design_copy_style":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"design copy style",setMetrics:function(){s.events=utilities.yE("event218"),s.linkTrackEvents=utilities.yE("event218",s.linkTrackEvents)}},"button_submission*video_start":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"video start",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event13"),s.eVar168=ddo.event&&ddo.event[eventIndex]&&ddo.event[eventIndex].video&&ddo.event[eventIndex].video.id?ddo.event[eventIndex].video.id:"",s.linkTrackEvents=utilities.yE("event13",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar168",s.linkTrackVars)}},"button_submission*video_complete":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"video complete",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event270"),s.eVar168=ddo.event&&ddo.event[eventIndex]&&ddo.event[eventIndex].video&&ddo.event[eventIndex].video.id?ddo.event[eventIndex].video.id:"",s.linkTrackEvents=utilities.yE("event270",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar168",s.linkTrackVars)}},category_plp:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){utilities.t1(ddo.page.pageInfo.platform,ddo.appExperience,window.experienceMetadata)&&mapMethods.setInitialLoadBrowseNucleus(ddo)}},browse_results:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){mapMethods.setInitialLoadBrowseNucleus(ddo)}},search_results:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){let searchTerm=ddo.page.onsiteSearchInfo.searchTerm?ddo.page.onsiteSearchInfo.searchTerm:"";s.events=utilities.yE("event15"),s.prop4=searchTerm,s.prop8=ddo.page.onsiteSearchInfo.numberOfResults?ddo.page.onsiteSearchInfo.numberOfResults:"",s.prop21=utilities.q("s_sess","s_pv_pName"),s.eVar5=searchTerm,s.eVar12=ddo.page.onsiteSearchInfo.resultsType?ddo.page.onsiteSearchInfo.resultsType:"",utilities.t1(ddo.page.pageInfo.platform,ddo.appExperience,window.experienceMetadata)&&mapMethods.setInitialLoadSearchNucleus(ddo)}},pagination:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){const pageNumber=ddo.page.displayAttributes&&void 0!==ddo.page.displayAttributes.pageNumber?ddo.page.displayAttributes.pageNumber:"";s.pageName=ddo.page.pageInfo.pageName+">pagination",s.prop7=pageNumber,s.prop8="0"!==ddo.page.onsiteSearchInfo.numberOfResults?ddo.page.onsiteSearchInfo.numberOfResults:"zero",s.prop16="D=v29",s.prop62=ddo.page.pageInfo.pageTemplate,s.eVar29=function(pageobj){let result="";if(Array.isArray(pageobj.filter)&&pageobj.filter.length>0){let arrLength=pageobj.filter.length;for(let index=0;index<arrLength;index+=1)result+=pageobj.filter[index].position+","+pageobj.filter[index].type+":"+pageobj.filter[index].value,pageobj.filter[index].selectionMethod&&(result+=","+pageobj.filter[index].selectionMethod),index<arrLength-1&&(result+="|")}return result}(ddo.page),s.eVar82=ddo.page.pageInfo.pageTemplate,s.eVar103=getContentSku(ddo),""===s.eVar103&&void 0===s.eVar103||(s.events=utilities.yE("event118")),ddo.content&&Array.isArray(ddo.content.product)&&ddo.content.product.length&&(s.events=utilities.yE("event119"),s.products=productImpression(ddo.content.product,{pageNumber}),s.eVar132=mapMethods.setEvar132(ddo))}},cart_view:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){var _eVar62,attachedLabor=mapMethods.getAttachedLabor(ddo.cart.item),optimalFlag=!1,cartItems=ddo.cart.item?ddo.cart.item:[];s.events=utilities.yE("scView,event69,event169"),ddo.content&&ddo.content.feature&&"string"==typeof ddo.content.feature.instantCheckoutDisplayed&&"y"===ddo.content.feature.instantCheckoutDisplayed.toLowerCase()&&(s.events=utilities.yE("event80"));for(let i=0;i<cartItems.length;i++)if(cartItems[i].fulfillment&&cartItems[i].fulfillment.changeType&&"optimal"===cartItems[i].fulfillment.changeType.toString().toLowerCase()){optimalFlag=!0;break}optimalFlag&&(s.events=utilities.yE("event265")),utilities.jJ(attachedLabor)&&attachedLabor.type&&(s.events=utilities.yE("event193")),s.products=cartView(ddo.cart.item,ddo,{content:ddo.content,addrevenueevents:!0}),s.eVar62=((!(_eVar62=utilities.ij("eVar62"))||_eVar62&&-1===_eVar62.indexOf(">"))&&(_eVar62=getFulfillString()),utilities.cW("eVar62",_eVar62),_eVar62),s.eVar125=ddo.cart.sharedCartID?ddo.cart.sharedCartID:"",s.eVar125?(s.events=function(ddo){var scOpenString="",_evtStr=utilities.yE("scAdd,event2,event4,event98,event192"),_cartID=ddo.cart&&ddo.cart.cartID?ddo.cart.cartID:ddo.legacy&&ddo.legacy.cartID?ddo.legacy.cartID:"";return _cartID&&(scOpenString="scOpen:"+_cartID,_evtStr=utilities.yE(scOpenString,_evtStr)),_evtStr=utilities.yE("event236",_evtStr)}(ddo),s.products=cartView(ddo.cart.item,ddo,{atcloc:"checkout<n/a<shared cart<n/a<atc<n/a",content:ddo.content})):s.events=utilities.yE("event260,event261,event262");for(let i=0;i<cartItems.length;i++)if(cartItems[i].fulfillment&&cartItems[i].fulfillment.backOrder&&"yes"===cartItems[i].fulfillment.backOrder.toString().toLowerCase())return s.events=utilities.yE("event125"),!0}},empty_cart:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(){s.events=utilities.yE("scView")}},checkout_sign_in:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event70,event170"),s.products=cartView(ddo.cart.item)}},request_a_quote:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event112"),s.eVar24=ddo.page&&ddo.page.form&&ddo.page.form.formName?ddo.page.form.formName:""}},paypal_order_review:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event73,event173"),s.eVar33="ppl",ddo.cart.attributes&&ddo.cart.attributes.poJobName&&(s.eVar159=ddo.cart.attributes.poJobName),s.products=cartView(ddo.cart.item),s.transactionID=ddo.cart&&ddo.cart.cartID?ddo.cart.cartID:ddo.legacy&&ddo.legacy.cartID?ddo.legacy.cartID:"","b2consumer-desktop"!==config.lz&&"b2business-desktop"!==config.lz&&"b2x-desktop"!==config.lz||(s.eVar62=getFulfillString()+">ppe-cart")}},focused_product:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){var content,result,focusedProducts=(content=ddo.content,result=[],void 0!==content&&Array.isArray(content.product)&&content.product.length&&(result=content.product.filter((function(obj){return obj.productInfo&&obj.productInfo.focused}))),result);s.events=utilities.yE("prodView,event186"),focusedProducts.length&&(s.products=skuOnly(focusedProducts))}},product_view:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setProductView(ddo,eventIndex)}},pep_view:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setProductView(ddo,eventIndex),utilities.t1(ddo.page.pageInfo.platform,ddo.appExperience,window.experienceMetadata)&&(mapMethods.setInitialLoadSearchNucleus(ddo),s.events=utilities.BU(s.events,"event15"))}},product_comparison:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event12"),s.products=skuOnly(ddo.product),s.prop11=utilities.Hj("productInfo.sku",ddo.product)}},installation_form_start:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){var formObj=ddo.page.form?ddo.page.form:{};s.events=utilities.yE("event74"),s.eVar24=formObj.formName?formObj.formName:""}},installation_form_complete:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){var formObj=ddo.page.form?ddo.page.form:{};s.events=utilities.yE("event9"),s.eVar24=formObj.formName?formObj.formName:"",s.eVar72=formObj.universalLeadID?formObj.universalLeadID:formObj.leadID?formObj.leadID:"",s.eVar73=formObj.zip?formObj.zip:"",s.eVar186=formObj.livePersonID?formObj.livePersonID:""}},"hdpp_content*hdpp_display":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){(function(ddo,eventIndex){var ev=ddo.event[eventIndex]?ddo.event[eventIndex]:{};return ev.componentInfo&&ev.componentInfo.displayedProtectionPlan||function(ev){if(ev.item)for(var i=0;i<ev.item.length;i++)if(ev.item[i].productInfo&&ev.item[i].productInfo.displayedProtectionPlan)return!0;return!1}(ev)})(ddo,eventIndex)&&(s.events=utilities.yE("event108"))}},"button_submission*filter":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"filter",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event128"),s.eVar120=function(){for(var filter=void 0!==ddo&&ddo.event&&ddo.event[eventIndex].filter?ddo.event[eventIndex].filter:[],resultHere=[],i=0;i<filter.length;i++)resultHere.push((filter[i].name?filter[i].name:"")+":"+(Array.isArray(filter[i].values)?filter[i].values.join(","):""));return resultHere.join("|")}(),s.linkTrackEvents=utilities.yE("event128",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar120",s.linkTrackVars)}},"button_submission*paypal_express":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"paypal-checkout",setMetrics:function(ddo){s.events=utilities.yE("scCheckout,event53,event54,event129,event153,event154"),s.products=skuOnly(ddo.cart.item),s.eVar62=getFulfillString()+">ppe-cart",s.linkTrackEvents=utilities.yE("scCheckout,event53,event54,event129,event153,event154",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar62,products",s.linkTrackVars)}},"button_submission*paypal_express_pip":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"paypal express pip",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("scAdd,scCheckout,event2,event4,event53,event54,event98,event129,event153,event154,event192"),s.products=cartAdd(ddo.event[eventIndex].item,ddo),void 0!==ddo.cart.price.paymentMethod&&Array.isArray(ddo.cart.price.paymentMethod)&&ddo.cart.price.paymentMethod.length?s.eVar33=ddo.cart.price.paymentMethod.join("|"):s.eVar33=ddo.cart.price.paymentMethod?ddo.cart.price.paymentMethod:"ppl",s.eVar62=getFulfillString(ddo.event[eventIndex].item)+">ppe-pip",s.linkTrackEvents=utilities.yE("scAdd,scCheckout,event2,event4,event53,event54,event98,event129,event153,event154,event192",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar33,eVar62,products",s.linkTrackVars)}},"button_submission*paypal_order_submission":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"submit order",setMetrics:function(ddo){s.events=utilities.yE("event76,event77,event176,event177"),s.products=opc(ddo.cart.item),s.eVar33="ppl",s.eVar62=getFulfillString(),s.linkTrackEvents=utilities.yE("event76,event77,event176,event177",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar33,evar62,products",s.linkTrackVars)}},"button_submission*order_submission":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"submit order",setMetrics:function(ddo,eventIndex){var isQuote=s.getQueryParam("isQuote",document.URL);s.eVar26=function(ddo){var result=mapMethods.setEvar26(ddo);return"register"===ddo.user.profile.action&&(s.events=utilities.yE("event1,event25"),result="authenticated"),result}(ddo),s.eVar167=function(ddo,eventIndex){let result="",event=ddo.event[eventIndex];if(event&&Array.isArray(event.addressValidation)){let addressValidation=JSON.parse(JSON.stringify(event.addressValidation)).pop();addressValidation&&(result=(addressValidation.type?addressValidation.type:"n/a")+">"+(addressValidation.overlay?addressValidation.overlay:"n/a")+">"+(addressValidation.address?addressValidation.address:"n/a"))}return result}(ddo,eventIndex),void 0!==ddo.cart.price.paymentMethod&&Array.isArray(ddo.cart.price.paymentMethod)&&ddo.cart.price.paymentMethod.length?s.eVar33=ddo.cart.price.paymentMethod.join("|"):s.eVar33=ddo.cart.price.paymentMethod?ddo.cart.price.paymentMethod:"",s.eVar62=getFulfillString()+("true"===isQuote?">quote":">opc"),s.products=opc(ddo.cart.item),s.events=function(ddo){var _evtStr=utilities.yE("event76,event176");return void 0!==ddo.cart.price&&void 0!==ddo.cart.price.paymentMethod&&"ppl"===ddo.cart.price.paymentMethod&&(_evtStr=utilities.yE("event77,event177",_evtStr)),_evtStr}(ddo),s.transactionID=ddo.cart&&ddo.cart.cartID?ddo.cart.cartID:"",s.linkTrackEvents=utilities.yE("event1,event25,event76,event77,event176,event177",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar26,eVar33,eVar62,eVar167,products,transactionID",s.linkTrackVars)}},"button_submission*cart_checkout":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"cart checkout",setMetrics:function(ddo){s.events=utilities.yE("scCheckout,event129"),s.products=cartCheckout(ddo.cart.item),s.eVar62=getFulfillString(),s.linkTrackEvents=utilities.yE("scCheckout,event129",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar62,products",s.linkTrackVars)}},"button_submission*instant_checkout":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"instant checkout",setMetrics:function(ddo){s.events=utilities.yE("scCheckout,event129,event30,event76,event176"),s.products=cartCheckout(ddo.cart.item),void 0!==ddo.cart.price.paymentMethod&&Array.isArray(ddo.cart.price.paymentMethod)&&ddo.cart.price.paymentMethod.length?s.eVar33=ddo.cart.price.paymentMethod.join("|"):s.eVar33=ddo.cart.price.paymentMethod?ddo.cart.price.paymentMethod:"",s.eVar62=getFulfillString()+">instant-checkout",s.linkTrackEvents=utilities.yE("scCheckout,event30,event76,event129,event176",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar33,eVar62,products",s.linkTrackVars)}},"button_submission*curbside_pickup":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"curbside pickup",setMetrics:function(){s.events=utilities.yE("event22"),s.linkTrackEvents=utilities.yE("event22",s.linkTrackEvents)}},"button_submission*share_cart":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"share cart",setMetrics:function(){s.events=utilities.yE("event235"),s.linkTrackEvents=utilities.yE("event235",s.linkTrackEvents)}},"button_submission*registration":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"account sign in",setMetrics:function(ddo){s.events=utilities.yE("event1,event25"),s.eVar26=mapMethods.setEvar26(ddo),s.linkTrackEvents=utilities.yE("event1,event25",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar26",s.linkTrackVars)}},"button_submission*sign_in_success":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"sign in",setMetrics:function(ddo){s.events=utilities.yE("event25"),s.eVar8=ddo.page.pageInfo.pageType,s.eVar26=mapMethods.setEvar26(ddo),s.linkTrackEvents=utilities.yE("event25",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar8,eVar26",s.linkTrackVars)}},"button_submission*pro_xtra_registration_success":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"pro registration",setMetrics:function(){s.events=utilities.yE("event7"),s.linkTrackEvents=utilities.yE("event7",s.linkTrackEvents)}},"button_submission*pro_xtra_account_create_success":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"pro xtra account create",setMetrics:function(){s.events=utilities.yE("event7"),s.linkTrackEvents=utilities.yE("event7",s.linkTrackEvents)}},"button_submission*link_account_success":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"link account",setMetrics:function(){return!0}},"button_submission*successful_appliance_reschedule":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"successful appliance delivery",setMetrics:function(ddo){s.events=utilities.yE("event93"),s.channel=ddo.page.category.primaryCategory,s.prop1=ddo.page.category.subCategory1,s.prop2=ddo.page.category.subCategory2,s.prop30=ddo.page.pageInfo.pageType,s.prop33=ddo.page.pageInfo.abTest?ddo.page.pageInfo.abTest:"",s.eVar8=ddo.page.pageInfo.pageType,s.linkTrackEvents=utilities.yE("event93",s.linkTrackEvents),s.linkTrackVars=utilities.yE("channel,prop1,prop2,prop30,prop33,eVar8",s.linkTrackVars)}},"button_submission*make_this_my_store":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"make this my store",setMetrics:function(ddo){s.events=utilities.yE("event20"),s.prop9="D=v14",s.prop41=ddo.user.localization.gpsPermission?ddo.user.localization.gpsPermission:"",s.eVar14=ddo.user.localization.method?ddo.user.localization.method:"value not populated",s.linkTrackEvents=utilities.yE("event20",s.linkTrackEvents),s.linkTrackVars=utilities.yE("prop9,prop41,eVar14",s.linkTrackVars)}},"button_submission*localization_method_changed":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"localization method changed",setMetrics:function(ddo){s.events=utilities.yE("event40"),s.prop9="D=v14",s.prop41=ddo.user.localization.gpsPermission,s.eVar14=ddo.user.localization.method?ddo.user.localization.method:"value not populated",s.eVar27="string"==typeof ddo.user.localization.storeNumber&&-1===ddo.user.localization.storeNumber.indexOf("@")?ddo.user.localization.storeNumber:"",s.linkTrackEvents=utilities.yE("event40",s.linkTrackEvents),s.linkTrackVars=utilities.yE("prop9,prop41,eVar14,eVar27",s.linkTrackVars)}},"button_submission*bopis_cancellation_success":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"successful bopis cancellation",setMetrics:function(ddo){s.events=utilities.yE("event97"),s.prop30=ddo.page.pageInfo.pageType,s.eVar8=ddo.page.pageInfo.pageType,s.linkTrackEvents=utilities.yE("event97",s.linkTrackEvents),s.linkTrackVars=utilities.yE("prop30,eVar8",s.linkTrackVars)}},"button_submission*cancel_success":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"cancel success",setMetrics:function(ddo,eventIndex){let postOrderInfo=ddo.event[eventIndex].postOrder?ddo.event[eventIndex].postOrder:{},postOrderInfoItem=Array.isArray(postOrderInfo.item)&&postOrderInfo.item.length?postOrderInfo.item:[];s.events=utilities.yE("event146,event147,event148"),s.products=cancelSuccess(postOrderInfoItem),s.prop63=postOrderInfo.cancelReason?postOrderInfo.cancelReason:"",s.linkTrackEvents=utilities.yE("event146,event147,event148",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,prop63",s.linkTrackVars)}},"button_submission*find_a_list_search":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"find a list search",setMetrics:function(){s.events=utilities.yE("event104"),s.linkTrackEvents=utilities.yE("event104",s.linkTrackEvents)}},"button_submission*delete_list":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"delete list",setMetrics:function(){s.events=utilities.yE("event103"),s.linkTrackEvents=utilities.yE("event103",s.linkTrackEvents)}},"button_submission*list_add":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"add to list",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex];s.events=utilities.yE("event52,event101"),s.eVar135=evtObj.content&&evtObj.content.collection&&void 0!==evtObj.content.collection.collectionID?evtObj.content.collection.collectionID:"",s.products=myListCreate(evtObj.item),s.linkTrackEvents=utilities.yE("event52,event101",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar135",s.linkTrackVars)}},"button_submission*mix_and_match_list_add":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"add to list",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex];s.events=utilities.yE("event52,event100,event101"),s.products=function(itemArray){var prodStr=";",prodSku="",item={},eVarArray=[],price={},prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],price=_normalizePrice(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;event52|event100="+(item.quantity?stripComma(item.quantity):"")+"|event101="+(price.basePrice?stripComma(price.basePrice):"")+";",item.listLocation&&eVarArray.push("eVar81="+item.listLocation),item.solverPath&&eVarArray.push("eVar122="+item.solverPath),prodStr+=Array.isArray(eVarArray)?eVarArray.join("|"):"");return";"===prodStr?"":prodStr}(evtObj.item),s.linkTrackEvents=utilities.yE("event52,event100,event101",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar122",s.linkTrackVars)}},"button_submission*mix_and_match_list_remove":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"add to list",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex];s.events=utilities.yE("event102,event133,136"),s.products=function(itemArray){var item={},prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)if(itemArray.hasOwnProperty(index)){let event102Val=(item=itemArray[index]).quantity?stripComma(item.quantity):"",event136Val=item.price&&item.price.basePrice?stripComma(item.price.basePrice):"",eVar81Val=item.listLocation?item.listLocation:"",eVar122Val=item.solverPath?item.solverPath:"";prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;event102="+event102Val+"|event133|event136="+event136Val+";eVar81="+eVar81Val+"|eVar122="+eVar122Val}return";"===prodStr?"":prodStr}(evtObj.item),s.linkTrackEvents=utilities.yE("event102,event133,136",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar122",s.linkTrackVars)}},"button_submission*new_address_created":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"new address created",setMetrics:function(ddo,eventIndex){s.eVar85=mapMethods.setEvar85(ddo.event[eventIndex].addressBook),s.events=utilities.yE("event120"),s.linkTrackEvents=utilities.yE("event120",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar85",s.linkTrackVars)}},"button_submission*address_edited":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"address edited",setMetrics:function(ddo,eventIndex){s.eVar85=mapMethods.setEvar85(ddo.event[eventIndex].addressBook),s.events=utilities.yE("event122"),s.linkTrackEvents=utilities.yE("event122",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar85",s.linkTrackVars)}},"button_submission*address_deleted":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"address deleted",setMetrics:function(){s.events=utilities.yE("event121"),s.linkTrackEvents=utilities.yE("event121",s.linkTrackEvents)}},"button_submission*my_account_settings":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"my account settings",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex],myacct=evtObj&&evtObj.myAccount?evtObj.myAccount:{};s.prop63=myacct.settings?myacct.settings:"",s.eVar91=myacct.searchBy&&myacct.searchTerm?myacct.searchBy+">"+myacct.searchTerm:"",s.linkTrackVars=utilities.yE("prop63,eVar91",s.linkTrackVars)}},"button_submission*3ds_failure":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"3ds failure",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex],threeDSTime=evtObj.time?evtObj.time:{};s.eVar87=threeDSTime.bankAuthentication?threeDSTime.bankAuthentication:"",s.eVar88=threeDSTime.paymentProcessing?threeDSTime.paymentProcessing:"",s.eVar100=evtObj.overlayType?evtObj.overlayType:"",s.linkTrackVars=utilities.yE("eVar87,eVar88,eVar100",s.linkTrackVars)}},"button_submission*request_a_quote":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"request a quote",setMetrics:function(ddo,eventIndex){s.eVar24=ddo.event[eventIndex].form&&ddo.event[eventIndex].form.formName?ddo.event[eventIndex].form.formName:"",s.events=utilities.yE("event112"),s.linkTrackEvents=utilities.yE("event112",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar24",s.linkTrackVars)}},"button_submission*check_fulfillment_availability":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"check fulfillment availability",setMetrics:function(ddo,eventIndex){if(s.events=utilities.yE("event31"),Array.isArray(ddo.event[eventIndex].item)&&ddo.event[eventIndex].item.length){var eventObj=ddo.event[eventIndex].item[0],backOrder=eventObj.productInfo&&eventObj.productInfo.availabilityStatus&&eventObj.productInfo.availabilityStatus.backOrder?eventObj.productInfo.availabilityStatus.backOrder.toString().toLowerCase():"",applStock=eventObj.productInfo&&eventObj.productInfo.availabilityStatus?eventObj.productInfo.availabilityStatus:"";"true"===backOrder&&(s.events=utilities.yE("event125"),s.linkTrackEvents=utilities.yE("event125",s.linkTrackEvents)),void 0!==applStock.inStockAppl&&"false"===applStock.inStockAppl.toString()&&(s.events=utilities.yE("event197"),s.linkTrackEvents=utilities.yE("event197",s.linkTrackEvents))}s.products=function(itemArray,pageType){pageType="string"==typeof pageType?pageType:"";var item={},eVarArray=[],eventArray=[],eventAndEVarStr="",fulfillment={},prodStr=";",prodSku="",prodInfo={},prodInfoAvailability={},v165="";for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],eventArray=[],fulfillment=_normalizeFulfillment(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",v165="",prodInfoAvailability=prodInfo.availabilityStatus?prodInfo.availabilityStatus:{},eVarArray.push("eVar7="+(fulfillment.method?fulfillment.method:"")+">"+pageType+">"+(fulfillment.zip?fulfillment.zip:"")),utilities.jJ(prodInfo.eta)&&(eventAndEVarStr=_getETAString(prodInfo.eta))&&(eVarArray.push("eVar112="+eventAndEVarStr),(v165=_getETADiff(prodInfo.eta))&&eVarArray.push("eVar165="+v165),eVarArray.push("eVar166="+_currentNow())),prodInfoAvailability&&prodInfoAvailability.backOrder&&"true"===prodInfoAvailability.backOrder.toString().toLowerCase()&&eventArray.push("event125"),prodStr=prodStr+prodSku+";;;"+(Array.isArray(eventArray)?eventArray.join("|"):"")+";"+eVarArray.join("|"));return";"===prodStr?"":prodStr}(ddo.event[eventIndex].item,ddo.page.pageInfo.pageType),s.linkTrackEvents=utilities.yE("event31",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"button_submission*ps_overlay_attributes":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"ps overlay attributes",setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];s.events=utilities.yE("event126"),s.products=function(attributeArray){var item={},tempArray=[],prodStr=";",prodSku="";for(var index in attributeArray=void 0!==attributeArray?attributeArray:[],Array.isArray(attributeArray)||(tempArray.push(attributeArray),attributeArray=tempArray),attributeArray)attributeArray.hasOwnProperty(index)&&(prodSku=(item=attributeArray[index].psOverlay?attributeArray[index].psOverlay:{}).anchorSku?item.anchorSku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;;evar126=install:"+(void 0!==item.installOption?item.installOption:"")+">parts:"+(void 0!==item.partsOption?item.partsOption:"")+">haul:"+(void 0!==item.haulOption?item.haulOption:"")+">hdpp:"+(void 0!==item.hdppOption?item.hdppOption:""));return";"===prodStr?"":prodStr}(eventObj.attributes?eventObj.attributes:[]),s.linkTrackEvents=utilities.yE("event126",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"button_submission*oos_notification":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"oos notification",setMetrics:function(){s.events=utilities.yE("event59"),s.linkTrackEvents=utilities.yE("event59",s.linkTrackEvents)}},"content_view*engage_coupon_delivered":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"engage coupon delivered",setMetrics:function(){s.events=utilities.yE("event272"),s.linkTrackEvents=utilities.yE("event272",s.linkTrackEvents)}},"expansion*my_account>online_orders":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"my account>online orders",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex];s.prop63=evtObj&&evtObj.myAccount&&evtObj.myAccount.settings?evtObj.myAccount.settings:"",s.linkTrackVars=utilities.yE("prop63",s.linkTrackVars)}},"expansion*track_your_order>online_orders":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"track your order>online orders",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex];s.prop63=evtObj&&evtObj.myAccount&&evtObj.myAccount.settings?evtObj.myAccount.settings:"",s.linkTrackVars=utilities.yE("prop63",s.linkTrackVars)}},"interaction*pip_sub-content":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"sub-content interaction",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event3"),s.products=skuOnly(ddo.product),s.eVar38=function(ddo,eventIndex){var subContent=ddo.event[eventIndex]&&ddo.event[eventIndex].subContent?ddo.event[eventIndex].subContent:"",result="";return subContent&&(result=subContent.section+"|"+subContent.component+"|"+subContent.target+(subContent.position&&"n/a"!==subContent.position?":"+subContent.position:"")),result}(ddo,eventIndex),s.linkTrackEvents=utilities.yE("event3",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar38,products",s.linkTrackVars)}},"interaction*product_options":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"product options interaction",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event119"),s.products=productImpression(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event119",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"interaction*create_list":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"new list created",setMetrics:function(ddo,eventIndex){var items=function(ddo,idx){var de_evI,de_evItms;return ddo.event&&void 0!==idx&&(de_evItms=(de_evI=ddo.event[idx])?de_evI.item?de_evI.item:de_evI.eventInfo?de_evI.eventInfo.items:[]:[]),de_evItms||void 0}(ddo,eventIndex);items&&(s.events=utilities.yE("event52,event101"),s.products=myListCreate(items),s.linkTrackEvents=utilities.yE("event52,event101",s.linkTrackEvents)),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"interaction*email_list":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"email list",setMetrics:function(){s.prop66="email list",s.linkTrackVars=utilities.yE("prop66",s.linkTrackVars)}},"interaction*print_list":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"print list",setMetrics:function(){s.prop66="print list",s.linkTrackVars=utilities.yE("prop66",s.linkTrackVars)}},"interaction*export_list":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"export list",setMetrics:function(){s.prop66="export list",s.linkTrackVars=utilities.yE("prop66",s.linkTrackVars)}},"interaction*ssku_pod_click":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"ssku pod click",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event247");var sku=ddo.event[eventIndex]&&ddo.event[eventIndex].sskuPodSku?ddo.event[eventIndex].sskuPodSku:"";s.products=skuOnly([{productInfo:{sku}}]),s.linkTrackEvents=utilities.yE("event247",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"interaction*compare_color_click":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"compare color click",setMetrics:function(){s.events=utilities.yE("event264"),s.linkTrackEvents=utilities.yE("event264",s.linkTrackEvents)}},"cart_view_modification*cart_add":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"cart update",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex]&&ddo.event[eventIndex].item&&ddo.event[eventIndex].item[0]?ddo.event[eventIndex].item[0]:"";s.events=utilities.yE("scAdd,event2,event4,event98"),evtObj&&evtObj.subscription&&evtObj.subscription.frequency&&(s.events=utilities.yE("event82")),s.events=utilities.yE("event192");var stashATCLoc=stash.p4("cart add location");s.products=cartAdd(ddo.event[eventIndex].item,ddo,{atcloc:stashATCLoc}),stash._k("cart add location"),s.linkTrackEvents=utilities.yE("scAdd,event2,event4,event82,event98,event157,event192",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,prop37,eVar115",s.linkTrackVars)}},"cart_view_modification*cart_remove":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"cart remove",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex]&&ddo.event[eventIndex].item&&ddo.event[eventIndex].item[0]?ddo.event[eventIndex].item[0]:"";s.eVar95=ddo.event[eventIndex]&&ddo.event[eventIndex].removeLocation?ddo.event[eventIndex].removeLocation:"",s.events=utilities.yE("scRemove,event17,event18"),evtObj&&evtObj.subscription&&evtObj.subscription.frequency&&(s.events=utilities.yE("event83")),s.products=function(itemArray,options){var prodStr=";",prodSku="",item={},eVarArray=[],eventArray=[],price={},prodInfo={},v95=(options=void 0!==options?options:{}).v95?options.v95:"";for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],eventArray=[],price=_normalizePrice(item),(prodInfo=item.productInfo?item.productInfo:item).option&&prodInfo.option,prodSku=prodInfo.sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",eventArray.push("event17="+stripComma(item.quantity)),eventArray.push("event18="+stripComma(price.basePrice)),v95&&eVarArray.push("eVar95="+v95),item.subscription&&item.subscription.frequency&&eVarArray.push("eVar115="+item.subscription.frequency),prodStr=prodStr+prodSku+(prodInfo.proReferralSelected?"-pro":"")+";;;"+(Array.isArray(eventArray)?eventArray.join("|"):"")+";",prodStr+=Array.isArray(eVarArray)?eVarArray.join("|"):"",prodInfo.proReferralSelected&&(prodStr=prodStr+",;"+prodSku+";;;;"));return";"===prodStr?"":prodStr}(ddo.event[eventIndex].item,{v95:s.eVar95}),s.linkTrackEvents=utilities.yE("scRemove,event17,event18,event175,event83",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar95,eVar115",s.linkTrackVars)}},"cart_view_modification*cart_fulfillment_change":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"cart fulfillment change",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex]&&ddo.event[eventIndex].item&&ddo.event[eventIndex].item[0]?ddo.event[eventIndex].item[0]:"",fulMethod=evtObj.fulfillment&&"string"==typeof evtObj.fulfillment.method?evtObj.fulfillment.method.toLowerCase():"",fulPrevMethod=evtObj.fulfillment&&"string"==typeof evtObj.fulfillment.previousMethod?evtObj.fulfillment.previousMethod.toLowerCase():"";evtObj&&evtObj.subscription&&evtObj.subscription.status&&"add"===evtObj.subscription.status?s.events=utilities.yE("event82"):evtObj&&evtObj.subscription&&evtObj.subscription.status&&"remove"===evtObj.subscription.status&&(s.events=utilities.yE("event83")),"boss"===fulMethod&&"bopis"===fulPrevMethod&&(s.events=utilities.yE("event263")),s.events=utilities.yE("event134"),s.products=cartView(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event82,event83,event134,event263",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"cart_view_modification*save_for_later":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"save for later",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event137,event138,event139"),s.products=function(itemArray){var item={},price={},prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],price=_normalizePrice(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;event138="+stripComma(item.quantity)+"|event139="+stripComma(price.basePrice)+";");return";"===prodStr?"":prodStr}(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event137,event138,event139",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,prop37",s.linkTrackVars)}},"cart_view_modification*cart_re-add":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"cart re-add",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event140,event141,event142"),s.products=function(itemArray){var item={},price={},prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],price=_normalizePrice(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;event141="+stripComma(item.quantity)+"|event142="+stripComma(price.basePrice)+";");return";"===prodStr?"":prodStr}(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event140,event141,event142",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,prop37",s.linkTrackVars)}},"cart_view_modification*optimal_fulfillment_change":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"optimal fulfillment change",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event265"),s.products=function(itemArray){var item={},prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(prodSku=(prodInfo=(item=itemArray[index]).productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr=(prodStr+=prodStr.length>5?",;":"")+prodSku+";;;;eVar36="+(item.fulfillment&&item.fulfillment.method?item.fulfillment.method:"")+"|eVar121="+(item.fulfillment&&item.fulfillment.method&&item.fulfillment.previousMethod?item.fulfillment.previousMethod+">"+item.fulfillment.method:"")+";");return";"===prodStr?"":prodStr}(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event265",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"list_view_modification*list_add":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"list add",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event100"),s.products=myListAddRemove(ddo.event[eventIndex].item,"add"),s.linkTrackEvents=utilities.yE("event100",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},"list_view_modification*list_remove":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"list remove",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex];s.events=utilities.yE("event102"),s.eVar135=evtObj.content&&evtObj.content.collection&&void 0!==evtObj.content.collection.collectionID?evtObj.content.collection.collectionID:"",s.products=myListAddRemove(evtObj.item,"remove"),s.linkTrackEvents=utilities.yE("event102",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar135",s.linkTrackVars)}},"checkout_view_modification*checkout_fulfillment_change":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"checkout fulfillment change",setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex];s.events=utilities.yE("event134"),s.eVar62=getFulfillString()+">opc",s.eVar113=evtObj&&evtObj.fulfillment&&evtObj.fulfillment.changeType?evtObj.fulfillment.changeType:"",s.products=cartView(evtObj.item),s.linkTrackEvents=utilities.yE("event134",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar62,eVar113,products",s.linkTrackVars)}},overlay:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){s.pageName=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop15=ddo.page.pageInfo.pageName,s.prop17=ddo.page.pageInfo.pageType,s.prop30=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop33=ddo.event[eventIndex].eventInfo.abTest?ddo.event[eventIndex].eventInfo.abTest:s.prop33?s.prop33:"",s.prop35="D=pageName",s.eVar8=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.eVar96=s.prop15?s.prop15:"",s.eVar97=ddo.page.pageInfo.pageType,s.eVar178="",s.eVar180="",s.events=utilities.BU(s.events,"event209")}},"overlay*bss":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){try{var podClickObj=mapMethods.getPodClick();s.products=function(itemArray,pageType,podClick){pageType="string"==typeof pageType?pageType:"",podClick=void 0!==podClick?podClick:"";var item={},eVarArray=[],fulfillment={},prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],fulfillment=_normalizeFulfillment(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",eVarArray.push("eVar7="+(fulfillment.method?fulfillment.method:"")+">"+pageType),podClick&&eVarArray.push("eVar160="+formatPodClick(podClick)),prodStr=prodStr+prodSku+";;;;"+eVarArray.join("|"));return";"===prodStr?"":prodStr}(ddo.event[eventIndex].item,ddo.page.pageInfo.pageType,podClickObj),s.events=utilities.yE("event31"),s.eVar63=appData.TK("pageLoadeVar63")}catch(e){}}},"overlay*instant_rebate_details":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){s.prop2=ddo.page.category.subCategory2+">"+ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.products=productView(ddo.product)}},"overlay*instant_rebate_checkout":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){s.prop2=ddo.page.category.subCategory2+">"+ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory}},"overlay*pro_xtra_account_created":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(){s.events=utilities.yE("event7")}},"overlay*compare_color":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex];s.eVar158=evtObj&&evtObj.colorExplore&&Array.isArray(evtObj.colorExplore.color)&&evtObj.colorExplore.color.length?"imp|"+evtObj.colorExplore.color.join("|"):""}},"check_zip*shipping_options":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"DETA Check Zip Code",setMetrics:function(ddo,eventIndex){s.pageName=ddo.page.pageInfo.pageName+">"+ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.events=utilities.yE("event31"),s.eVar7=ddo.page.pageInfo.pageType+":"+(ddo.event[eventIndex].item&&ddo.event[eventIndex].item[0].fulfillmentMethod?ddo.event[eventIndex].item[0].fulfillmentMethod:""),s.linkTrackEvents=utilities.yE("event31",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar7",s.linkTrackVars)}},"search*initial_load_search":{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setInitialLoadSearch(ddo,eventIndex)}},"search*initial_load_browse":{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setInitialLoadBrowse(ddo,eventIndex)}},"search*filter_by":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"change filter values",setMetrics:function(ddo,eventIndex){mapMethods.setFilterBy(ddo,eventIndex)}},"search*pagination":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setPagination(ddo,eventIndex)}},"browse*pagination":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setPagination(ddo,eventIndex)}},"plp_module*pagination":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setPagination(ddo,eventIndex),s.events=utilities.yE("event253"),s.eVar143=function(evtObj){var displayAttributes=(evtObj=void 0!==evtObj?evtObj:{}).category&&evtObj.category.displayAttributes?evtObj.category.displayAttributes:{},filter=Array.isArray(evtObj.filter)?evtObj.filter:[],index=0,result="";for(index=0;index<filter.length;index++)result+=(filter[index].selectionMethod?filter[index].selectionMethod:"n/a")+">",result+=(filter[index].type?filter[index].type:"n/a")+">",result+=(filter[index].value?filter[index].value:"n/a")+">",result+=(filter[index].position?filter[index].position:"n/a")+">",result+=(displayAttributes.pageNumber?displayAttributes.pageNumber:"n/a")+">",result+=(displayAttributes.sortBy?displayAttributes.sortBy:"n/a")+">",result+=displayAttributes.viewType?displayAttributes.viewType:"n/a";return result}(ddo.event[eventIndex])}},"browse*initial_load_search":{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setInitialLoadSearch(ddo,eventIndex)}},"browse*initial_load_browse":{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setInitialLoadBrowse(ddo,eventIndex)}},"browse*filter_by":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"change filter values",setMetrics:function(ddo,eventIndex){mapMethods.setFilterBy(ddo,eventIndex)}},"search*sort_by":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"change display attributes",setMetrics:function(ddo,eventIndex){mapMethods.setSortBy(ddo,eventIndex)}},"browse*sort_by":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"change display attributes",setMetrics:function(ddo,eventIndex){mapMethods.setSortBy(ddo,eventIndex)}},"search*view_type_by":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"change display attributes",setMetrics:function(ddo,eventIndex){s.eVar21=ddo.event[eventIndex].displayAttributes.viewType+"||",mapMethods.setCommonTypeBy(ddo,eventIndex)}},"browse*view_type_by":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"change display attributes",setMetrics:function(ddo,eventIndex){s.eVar21=ddo.event[eventIndex].displayAttributes.viewType+"||",mapMethods.setCommonTypeBy(ddo,eventIndex)}},"search*product_availability_by":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"change display attributes",setMetrics:function(ddo,eventIndex){s.eVar21="||"+ddo.event[eventIndex].displayAttributes.productsAvailability,mapMethods.setCommonTypeBy(ddo,eventIndex)}},"browse*product_availability_by":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"change display attributes",setMetrics:function(ddo,eventIndex){s.eVar21="||"+ddo.event[eventIndex].displayAttributes.productsAvailability,mapMethods.setCommonTypeBy(ddo,eventIndex)}},"content_display*product_impression":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"product impression tracking",setMetrics:function(ddo){s.events="event119",s.prop30=ddo.page&&ddo.page.pageInfo&&ddo.page.pageInfo.pageType?ddo.page.pageInfo.pageType:"";var collectionID=ddo.content&&ddo.content.collection&&ddo.content.collection.collectionID?ddo.content.collection.collectionID:"",widgetArray=ddo.content&&Array.isArray(ddo.content.widget)?ddo.content.widget:[],widgetInteractionClick=stash.yO("widgetInteractionClick");widgetArray[0]&&(widgetArray[0].type||widgetArray[0].value)&&(s.events=utilities.yE("event233")),widgetInteractionClick&&(s.events=utilities.yE("event234"),stash.wj("widgetInteractionClick")),ddo.content&&ddo.content.feature&&"string"==typeof ddo.content.feature.plpModule&&"y"===ddo.content.feature.plpModule.toLowerCase()&&(s.events=utilities.yE("event254")),s.products=productImpression(ddo.content.product,{collectionID,pageNumber:mapMethods.getImpressionPageNumber(ddo.event[0],ddo.page),pageType:ddo.page.pageInfo.pageType,widget:widgetArray}),s.eVar132=mapMethods.setEvar132(ddo),s.linkTrackEvents=utilities.yE("event119,event124,event233,event234,event254",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar132,eVar160,prop30",s.linkTrackVars)}},"content_display*piq_impression":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){_T.PUB_SUB.publish("thdcoreanalytics|piq_impression",{trigger:"content_display*piq_impression",eventData:ddo.event[eventIndex],pageInfo:ddo.page.pageInfo})}},"interaction*category_click":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"product impression tracking",setMetrics:function(ddo,eventIndex){s.events="event119",s.prop30=ddo.page&&ddo.page.pageInfo&&ddo.page.pageInfo.pageType?ddo.page.pageInfo.pageType:"";var collectionID=ddo.content&&ddo.content.collection&&ddo.content.collection.collectionID?ddo.content.collection.collectionID:"",widgetArray=ddo.content&&Array.isArray(ddo.content.widget)?ddo.content.widget:[],widgetInteractionClick=stash.yO("widgetInteractionClick");widgetArray[0]&&(widgetArray[0].type||widgetArray[0].value)&&(s.events=utilities.yE("event233")),widgetInteractionClick&&(s.events=utilities.yE("event234"),stash.wj("widgetInteractionClick")),ddo.content&&ddo.content.feature&&"string"==typeof ddo.content.feature.plpModule&&"y"===ddo.content.feature.plpModule.toLowerCase()&&(s.events=utilities.yE("event254")),s.products=productImpression(ddo.event[eventIndex].content.product,{collectionID,pageNumber:mapMethods.getImpressionPageNumber(ddo.event[eventIndex]),pageType:ddo.page.pageInfo.pageType,widget:widgetArray}),s.eVar132=mapMethods.setEvar132(ddo),s.linkTrackEvents=utilities.yE("event119,event124,event233,event234,event254",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar132,eVar160,prop30",s.linkTrackVars)}},"interaction*perimeterx_defender":{forcePageView:!0,reportingType:"tl",runUniversal:!0,trackLinkName:"perimeterx defender",setMetrics:function(ddo,eventIndex){let eventData=ddo.event[eventIndex].eventData;s.eVar173="extension",s.events=eventData&&"true"===eventData.toString()?"event266":"event267",s.linkTrackEvents=utilities.yE("event266,event267",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar173",s.linkTrackVars)}},"workshop*form_start":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"workshop form start",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event65"),s.eVar66=ddo.event[eventIndex].form.formType&&ddo.event[eventIndex].form.formName?ddo.event[eventIndex].form.formType+": "+ddo.event[eventIndex].form.formName:"",s.linkTrackEvents=utilities.yE("event65",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar66",s.linkTrackVars)}},"workshop*form_complete":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"workshop form complete",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event66"),s.eVar66=ddo.event[eventIndex].form.formType&&ddo.event[eventIndex].form.formName?ddo.event[eventIndex].form.formType+": "+ddo.event[eventIndex].form.formName:"",s.linkTrackEvents=utilities.yE("event66",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar66",s.linkTrackVars)}},"installation_services_and_repair*form_start":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"web installation services form start",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event74"),s.eVar24=ddo.event[eventIndex].form&&ddo.event[eventIndex].form.formName?ddo.event[eventIndex].form.formName:"",s.linkTrackEvents=utilities.yE("event74",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar24",s.linkTrackVars)}},"installation_services_and_repair*form_complete":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"web installation services form complete",setMetrics:function(ddo,eventIndex){var formObj=ddo.event[eventIndex].form?ddo.event[eventIndex].form:{};s.events=utilities.yE("event9"),s.eVar24=formObj.formName?formObj.formName:"",s.eVar72=formObj.universalLeadID?formObj.universalLeadID:formObj.leadID?formObj.leadID:"",s.eVar73=formObj.zip?formObj.zip:"",s.eVar186=formObj.livePersonID?formObj.livePersonID:"",s.transactionID=formObj.leadID?formObj.leadID:"",s.linkTrackEvents=utilities.yE("event9",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar24,eVar72,eVar73,eVar186,transactionID",s.linkTrackVars)}},tooltip:{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:function(ddo,eventIndex){return ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory},setMetrics:function(ddo,eventIndex){s.pageName=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.products=appData.TK("pageLoadProdString"),s.linkTrackVars=utilities.yE(s.linkTrackVars,"products")}},"tooltip*shipping_options":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"shipping options tooltip",setMetrics:function(ddo){utilities.Tl(ddo.page.pageInfo.pageName)&&(s.products=skuOnly(ddo.product)),s.linkTrackVars=utilities.yE(s.linkTrackVars,"products")}},"error*error":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"error message",setMetrics:function(ddo,eventIndex){mapMethods.setErrorMessage(ddo,eventIndex)}},"sys_msg*error":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"error message",setMetrics:function(ddo,eventIndex){mapMethods.setErrorMessage(ddo,eventIndex)}},"error*post_page_error":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"error",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event49"),s.list2=function(ddo,eventIndex){var list2="";if(Array.isArray(ddo.event[eventIndex].eventInfo.error)){var errors=ddo.event[eventIndex].eventInfo.error,result=[],_left=function(str,count){return count=void 0!==count?count:2,(str=void 0!==str?str:"").substr(0,count)};for(var error in errors)errors.hasOwnProperty(error)&&result.push(_left(errors[error].type)+":"+_left(errors[error].displayType)+":"+(errors[error].pageSection?errors[error].pageSection:"")+":"+(errors[error].message?errors[error].message:"")+":"+(errors[error].code?errors[error].code:""));list2=result.join("|")}return list2}(ddo,eventIndex),s.linkTrackEvents=utilities.yE("event49",s.linkTrackEvents),s.linkTrackVars=utilities.yE("list2,events,products",s.linkTrackVars)}},"stash*cart_add_location":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],data=formatATCLocation(ddo,eventObj.stash);stash.ld(eventObj.eventInfo.eventName,data)}},"stash*opc_order_attributes":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash?eventObj.stash:{},data="pickup:"+stashData.pickupOption+"|text:"+stashData.textOrder+"|loc:"+stashData.pickupLocation+"|exempt:"+stashData.taxExemptId+"|promo:"+stashData.promoCode;stash.rF(eventObj.eventInfo.eventName,data),stashData.time&&stash.rF("3ds-time",stashData.time),stashData.overlayType&&stash.rF("3ds-overlay",stashData.overlayType)}},"stash*type_ahead":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var stashData=ddo.event[eventIndex].stash;stash.rF("searchMedium",stashData.searchMedium),stash.rF("searchTerm",stashData.searchTerm),stash.rF("searchTermOrigin",stashData.searchTermOrigin),stash.rF("searchTermSuggestion",stashData.searchTermSuggestion),stash.rF("searchTypeAheadBits",stashData.searchTypeAheadBits),stash.rF("searchTypeAheadType",stashData.searchTypeAheadType),stash.rF("searchTypeAheadImp",stashData.searchTypeAheadImp)}},"stash*related_term":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var stashData=ddo.event[eventIndex].stash;stash.rF("searchTerm",stashData.searchTerm),stash.rF("searchMedium",stashData.searchMedium)}},"stash*header_click":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];stash.rF("headerClick",eventObj.stash.clickInfo),stash.rF("headerEvent",eventObj)}},"stash*sponsored_recommendation_pip_load":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];stash.rF("recommendationPipLoad",eventObj.stash.recommendation)}},"stash*sponsored_recommendation_cart_addition":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],data=formatATCLocation(ddo,eventObj.stash);stash.ld("recCartAddLoc",data),stash.ld("recommendationCartAdd",eventObj.stash.recommendation)}},"stash*category_recommendation":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];stash.rF("categoryRecommendation",eventObj.stash.recommendation)}},"stash*content_recommendation":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];stash.rF("contentRecommendation",eventObj.stash.recommendation)}},"stash*recommendation_pip_load":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];stash.rF("recommendationPipLoad",eventObj.stash.recommendation)}},"stash*recommendation_cart_addition":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],data=formatATCLocation(ddo,eventObj.stash),stashObj=eventObj.stash?eventObj.stash:{},recObj=stashObj.recommendation?stashObj.recommendation:Array.isArray(stashObj.item)?stashObj.item:"";stash.ld("recCartAddLoc",data),stash.ld("recommendationCartAdd",recObj)}},"stash*cart_addition_info":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],data=formatATCLocation(ddo,eventObj.stash);stash.ld("recCartAddLoc",data),stash.ld("recommendationCartAdd",eventObj.stash.item)}},"stash*recently_viewed_pip_load":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];stash.rF("recRecentlyViewedPipLoad",eventObj.stash.recommendation)}},"stash*visual_nav_click":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var stashData=ddo.event[eventIndex].stash,visualCategoryIdArray=ddo.page.onsiteSearchInfo.visualCategoryId,visualCategoryIdLength=Array.isArray(visualCategoryIdArray)&&visualCategoryIdArray.length?visualCategoryIdArray.length:0,clickInfo=stashData&&stashData.clickInfo?stashData.clickInfo:{};stash.rF("categoryId",clickInfo.categoryId),stash.rF("podPosition",clickInfo.podPosition),stash.rF("visualCategoryIdLength",visualCategoryIdLength),stash.rF("experience",clickInfo.experience)}},"stash*product_pod_click":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var stashData=ddo.event[eventIndex].stash;stash.rF("podClick",stashData),stash.ld("atcPodClick",stashData)}},"stash*widget_interaction":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(){stash.rF("widgetInteractionClick",!0)}},"stash*check_fulfillment_availability":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash?eventObj.stash:{},result="",data=[],fulfillmentObj={},prodInfoEta=[];utilities.jJ(stashData)&&(Array.isArray(stashData.item)&&stashData.item[0]&&(fulfillmentObj=stashData.item[0].fulfillment?stashData.item[0].fulfillment:fulfillmentObj,stashData.item.map((function(obj){obj.productInfo&&obj.productInfo.eta&&utilities.jJ(obj.productInfo.eta)&&prodInfoEta.push(obj.productInfo)}))),data.push(fulfillmentObj.method?fulfillmentObj.method:"n/a"),data.push(stashData.pageType?stashData.pageType:"n/a"),data.push(fulfillmentObj.zip?fulfillmentObj.zip:"n/a"),result=data.join(">")),stash.ld(eventObj.eventInfo.eventName,result),prodInfoEta.length&&stash.ld("checkFulfillmentAvailabilityEta",prodInfoEta)}},"stash*content_module_click":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash?eventObj.stash:{};stash.rF("contentModuleClick",stashData)}},"stash*badge_clickthrough":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash&&Array.isArray(eventObj.stash.badge)?eventObj.stash.badge:[];stashData=stashData.map((function(elem){return(elem.type?elem.type:"n/a")+">"+(elem.pageType?elem.pageType:"n/a")+">"+(elem.recommendationStrategy?elem.recommendationStrategy:"n/a")+">"+(elem.recommendationVersion?elem.recommendationVersion:"n/a")})).join("|"),stash.rF("badgeClickThrough",stashData),stash.ld("atcBadgeClickThrough",stashData)}},"stash*collections_product_click":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash?eventObj.stash:{},result=[];utilities.jJ(stashData)&&(result.push(stashData.collection&&stashData.collection.collectionID?stashData.collection.collectionID:"n/a"),result.push(Array.isArray(stashData.product)&&stashData.product[0]&&stashData.product[0].curationID?stashData.product[0].curationID:"n/a"),stashData.collection&&stashData.collection.pageLocation&&result.push(stashData.collection.pageLocation),stash.rF("collectionsProductClick",result.join(">")))}},"stash*collections_link_interaction":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash?eventObj.stash:{};stash.rF("collectionsLinkInteraction",stashData)}},"stash*shop_by_pin_image":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash&&eventObj.stash.pinterest&&void 0!==eventObj.stash.pinterest.imageCount?eventObj.stash.pinterest.imageCount:"";stash.ld("shopByPinImageCount",stashData)}},"stash*shop_by_pin_category":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash&&eventObj.stash.pinterest?eventObj.stash.pinterest:{};stash.ld("shopByPinCategory",stashData)}},"stash*my_account_settings":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex],stashData=evtObj&&evtObj.stash&&evtObj.stash.myAccount&&evtObj.stash.myAccount.settings?evtObj.stash.myAccount.settings:"";stash.Sl("myAccountSettings",stashData),stash.rF("globalMyAccountSettings",stashData)}},"stash*solver_pip_load":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],solver={};eventObj.stash&&Array.isArray(eventObj.stash.item)&&eventObj.stash.item[0]&&eventObj.stash.item[0].solverPath&&(solver=eventObj.stash.item[0].solverPath),stash.rF("solverPath",solver)}},"stash*solver_cart_addition":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],atcLoc=formatATCLocation(ddo,eventObj.stash),solver=[];eventObj.stash&&Array.isArray(eventObj.stash.item)&&eventObj.stash.item.length>0&&eventObj.stash.item[0].solverPath&&(solver=eventObj.stash.item),stash.ld("cart add location",atcLoc),stash.ld("solverPath",solver)}},"stash*buy_sample":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex],stashData=evtObj&&evtObj.stash&&evtObj.stash.colorExplore?evtObj.stash.colorExplore:{};stash.ld("selectedColor",stashData.selectedColor),stash.ld("selectedCategory",stashData.selectedCategory)}},"stash*buy_paint":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var evtObj=ddo.event[eventIndex],stashData=evtObj&&evtObj.stash&&evtObj.stash.colorExplore?evtObj.stash.colorExplore:{};stash.rF("selectedColor",stashData.selectedColor),stash.rF("selectedCategory",stashData.selectedCategory)}},"stash*article_recommendations":{forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashDataRec=eventObj.stash&&eventObj.stash.recommendation?eventObj.stash.recommendation:{},guid=stashDataRec.guid?stashDataRec.guid.toString():"na",pageType=stashDataRec.pageType?stashDataRec.pageType.toString():"na",articleRecType=stashDataRec.articleRecommendationType?stashDataRec.articleRecommendationType.toString():"na",article_evar175_value="ar>".concat(guid,">").concat(pageType,">").concat(articleRecType),article_evar176_value="recommendations: ".concat(pageType);stash.rF("articleEvar175Value",article_evar175_value),stash.rF("articleEvar176Value",article_evar176_value)}},opc_view:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){var isQuote=s.getQueryParam("isQuote",document.URL),opcSavedCard=ddo.page&&ddo.page.myAccount&&ddo.page.myAccount.savedPaymentMethod&&"string"==typeof ddo.page.myAccount.savedPaymentMethod?ddo.page.myAccount.savedPaymentMethod.toLowerCase():"",fulfillmentFlag=!1,cartItems=ddo.cart&&ddo.cart.item&&ddo.cart.item.length>0?ddo.cart.item:"";if(s.events=utilities.yE("event90,event109"),ddo.content&&ddo.content.feature&&ddo.content.feature.suppressedFields&&"cvv"===ddo.content.feature.suppressedFields&&(s.events=utilities.yE("event89")),cartItems)for(var i=0;i<cartItems.length;i++)if(cartItems[i].fulfillment&&cartItems[i].fulfillment.deliveryNotice&&"yes"===cartItems[i].fulfillment.deliveryNotice.toString().toLowerCase()){fulfillmentFlag=!0;break}fulfillmentFlag&&(s.events=utilities.yE("event135")),ddo.cart.attributes&&ddo.cart.attributes.poJobName&&(s.eVar159=ddo.cart.attributes.poJobName),s.products=opc(ddo.cart.item),s.eVar62=getFulfillString()+("true"===isQuote?">quote":">opc"),opcSavedCard&&(s.prop63="opc: saved card "+opcSavedCard)}},purchase:{delay:3e3,forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){let threeDSOverlay=stash.yO("3ds-overlay"),threeDSTime=stash.yO("3ds-time");threeDSTime&&(s.eVar87=threeDSTime.bankAuthentication?threeDSTime.bankAuthentication:"",s.eVar88=threeDSTime.paymentProcessing?threeDSTime.paymentProcessing:""),s.eVar90=ddo.transaction&&ddo.transaction.transactionID?ddo.transaction.transactionID:"",s.eVar100=threeDSOverlay||"",s.purchaseID=function(ddo){let purchaseID="",purchIdSource="";return ddo.transaction&&ddo.transaction.transactionID?(purchaseID=ddo.transaction.transactionID,purchIdSource="ddo purchase id"):(purchIdSource="queryParam\tpurchase id",purchaseID=s.Util.getQueryParam("orderId",document.URL)),s.prop37=utilities.yE(purchIdSource,s.prop37),purchaseID}(ddo),s.transactionID="string"==typeof s.purchaseID?s.purchaseID.toLowerCase():"",s.state=ddo.transaction.profile.address.stateProvince,s.zip=ddo.transaction.profile.address.postalCode,s.events=utilities.yE("purchase,event5="+stripComma(ddo.transaction.price.tax)+",event6="+(ddo.transaction.price.shipping?stripComma(ddo.transaction.price.shipping):"")),ddo.content&&ddo.content.feature&&"string"==typeof ddo.content.feature.instantCheckoutEnroll&&"y"===ddo.content.feature.instantCheckoutEnroll.toLowerCase()&&(s.events=utilities.yE("event64")),s.events=utilities.yE("event228"),s.products=function(itemArray){var prodStr=";",prodSku="",item={},eVarArray=[],eventArray=[],fulfillment={},price={},prodInfo={},customProduct="";for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],eventArray=[],fulfillment=_normalizeFulfillment(item),price=_normalizePrice(item),customProduct=(prodInfo=item.productInfo?item.productInfo:item).customProduct?prodInfo.customProduct:"",prodInfo.option&&prodInfo.option,prodSku=prodInfo.sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",price.discountAmount&&eventArray.push("event57="+stripComma(price.discountAmount)),fulfillment&&"string"==typeof fulfillment.backOrder&&"yes"===fulfillment.backOrder.toLowerCase()&&eventArray.push("event125"),customProduct&&eVarArray.push("eVar174="+customProduct),eventArray.push("event228=1"),prodInfo.assembly&&"in store"===prodInfo.assembly.toString().toLowerCase()&&eventArray.push("event271"),prodStr=prodStr+prodSku+(prodInfo.proReferralSelected?"-pro":"")+";"+stripComma(item.quantity)+";"+stripComma(price.basePrice)+";"+eventArray.join("|")+";",fulfillment.method&&eVarArray.push("eVar36="+fulfillment.method),fulfillment.store&&eVarArray.push("eVar52="+fulfillment.store),fulfillment.serviceLevel&&eVarArray.push("eVar57="+fulfillment.serviceLevel),fulfillment.deliveryWindow&&eVarArray.push("eVar58="+fulfillment.deliveryWindow),fulfillment.pickupOption&&eVarArray.push("eVar182="+fulfillment.pickupOption),price.discountCode&&eVarArray.push("eVar20="+price.discountCode),item.subscription&&item.subscription.frequency&&eVarArray.push("eVar115="+item.subscription.frequency),function(pi){let idmArr=[],_v187="";["department","class","subclass","manufacturer"].forEach((key=>{idmArr.push("string"==typeof pi[key]&&""!==pi[key]?pi[key].toString().padStart(3,"0"):"na")})),_v187=idmArr.join("-"),_v187&&"na-na-na-na"!==_v187&&eVarArray.push("eVar187="+_v187)}(prodInfo),prodStr+=Array.isArray(eVarArray)?eVarArray.join("|"):"");return";"===prodStr?"":prodStr}(ddo.transaction.item);{"string"==typeof s.products&&s.products.toLowerCase().indexOf("event57")>-1&&(s.events=utilities.yE("event57"));let transactions=Array.isArray(ddo.transaction.item)?ddo.transaction.item:[];for(let i=0;i<transactions.length;i++)transactions[i].fulfillment&&transactions[i].fulfillment.backOrder&&"yes"===transactions[i].fulfillment.backOrder.toString().toLowerCase()&&(s.events=utilities.yE("event125")),transactions[i].productInfo&&transactions[i].productInfo.assembly&&"in store"===transactions[i].productInfo.assembly.toString().toLowerCase()&&(s.events=utilities.yE("event271"));ddo.transaction.attributes&&ddo.transaction.attributes.poJobName&&(s.eVar159=ddo.transaction.attributes.poJobName)}}},cashstar_purchase:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event143:"+(ddo.transaction&&ddo.transaction.transactionID?ddo.transaction.transactionID:"")+",event144,event145"),s.products=function(itemArray){var item={},eVarArray=[],fulfillment={},price={},prodStr=";",prodSku="",prodInfo={};for(var index in itemArray)itemArray.hasOwnProperty(index)&&(item=itemArray[index],eVarArray=[],fulfillment=_normalizeFulfillment(item),price=_normalizePrice(item),prodSku=(prodInfo=item.productInfo?item.productInfo:item).sku?prodInfo.sku:"",prodStr+=prodStr.length>5?",;":"",fulfillment.method&&eVarArray.push("eVar36="+fulfillment.method),prodStr=prodStr+prodSku+";;;event144="+stripComma(item.quantity)+"|event145="+stripComma(price.basePrice)+";"+(Array.isArray(eVarArray)?eVarArray.join("|"):""));return";"===prodStr?"":prodStr}(ddo.transaction.item)}},"button_submission*find_a_store":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"find a store",setMetrics:function(){s.events=utilities.yE("event38"),s.linkTrackEvents=utilities.yE("event38",s.linkTrackEvents)}},"button_submission*pay_in_store":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"pay in store",setMetrics:function(){s.events=utilities.yE("event39"),s.linkTrackEvents=utilities.yE("event39",s.linkTrackEvents)}},cancel_success:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.events=utilities.yE("event146,event147,event148"),s.products=cancelSuccess(ddo.postOrder.item)}},"interaction*opc_card_number_field":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"opc card number field interaction",setMetrics:function(){s.events=utilities.yE("event91,event111"),s.linkTrackEvents=utilities.yE("event91,event111",s.linkTrackEvents)}},"content_display*bodfs_fulfillment_change":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"bodfs fulfillment change",setMetrics:function(){s.events=utilities.yE("event133"),s.linkTrackEvents=utilities.yE("event133",s.linkTrackEvents)}},"content_display*instant_checkout_impression":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"instant checkout impression",setMetrics:function(){s.events=utilities.yE("event80"),s.linkTrackEvents=utilities.yE("event80",s.linkTrackEvents)}},"content_display*installation_displayed":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"installation displayed",setMetrics:function(ddo,eventIndex){var installLabor=mapMethods.getAttachedLabor(ddo.product),installationStatus=utilities.jJ(installLabor)&&installLabor?installLabor:"";s.events=utilities.yE("event193"),s.eVar131="installation",s.products=installationSku(ddo.event[eventIndex].item),installationStatus&&(s.products=installationSku(ddo.product)),s.linkTrackEvents=utilities.yE("event193",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar131",s.linkTrackVars)}},"content_display*labor_displayed":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"labor displayed",setMetrics:function(ddo,eventIndex){utilities.t1(ddo.page.pageInfo.platform,ddo.appExperience,window.experienceMetadata)?mapMethods.setLaborDisplayedNucleus(ddo,eventIndex):mapMethods.setLaborDisplayed(ddo,eventIndex)}},"content_display*proreferral_displayed":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"proreferral displayed",setMetrics:function(ddo,eventIndex){var proReferralLabor=mapMethods.getAttachedLabor(ddo.product),proStatus=utilities.jJ(proReferralLabor)&&proReferralLabor?proReferralLabor:"";s.events=utilities.yE("event193"),s.eVar131="proreferral",s.products=proreferralSku(ddo.event[eventIndex].item),proStatus&&(s.products=proreferralSku(ddo.product)),s.linkTrackEvents=utilities.yE("event193",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar131",s.linkTrackVars)}},"content_display*target_experience_displayed":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"target experience displayed",setMetrics:function(ddo,eventIndex){let target=ddo.event[eventIndex].target;target&&(target.experienceNameA?(s.eVar140=target.experienceNameA,s.linkTrackVars=utilities.yE("products,eVar140",s.linkTrackVars)):target.experienceNameB&&(s.eVar141=target.experienceNameB,s.linkTrackVars=utilities.yE("products,eVar141",s.linkTrackVars)))}},"overlay*change_delivery_zip":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.prop2=ddo.page.pageInfo.pageType}},"overlay*view_delivery_faqs":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"view delivery faqs",setMetrics:function(ddo,eventIndex){var productStatus=Array.isArray(ddo.event[eventIndex].item)&&ddo.event[eventIndex].item.length&&ddo.event[eventIndex].item[0].productInfo&&ddo.event[eventIndex].item[0].productInfo.availabilityStatus?ddo.event[eventIndex].item[0].productInfo.availabilityStatus:"";"oos"===(productStatus.shipping?productStatus.shipping:"").bodfs&&(s.events=utilities.yE("event196",s.events)),s.linkTrackEvents=utilities.yE("event196",s.linkTrackEvents)}},"overlay*appliance_protection_plan":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){s.pageName="checkout>appliance parts services>protection plan",s.channel="appliances",s.prop2=ddo.page.category.subCategory2+">"+ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop35=""}},"overlay*my_account>online_orders>order_details>bopis_cancellation_request":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(){}},"overlay*mini_cart":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){var _eVar62;s.events=utilities.yE("scView,event69,event169"),s.products=cartView(ddo.cart.item),s.eVar62=((!(_eVar62=utilities.ij("eVar62"))||_eVar62&&-1===_eVar62.indexOf(">"))&&(_eVar62=getFulfillString()),utilities.cW("eVar62",_eVar62),_eVar62)}},"overlay*parts_services_and_hdpp_cart_add":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setCartAdd(ddo,eventIndex),s.events=utilities.yE("event31"),s.pageName=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop30=s.pageName,s.eVar8=s.pageName}},"overlay*bundle_parts_services_and_hdpp_cart_add":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setCartAdd(ddo,eventIndex),s.events=utilities.yE("event31"),s.pageName=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop30=s.pageName,s.eVar8=s.pageName}},"overlay*package_parts_services_and_hdpp_cart_add":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setCartAdd(ddo,eventIndex),s.events=utilities.yE("event31"),s.pageName=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop30=s.pageName,s.eVar8=s.pageName}},"overlay*cart_add":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setCartAdd(ddo,eventIndex)}},"add_to_cart_click*cart_add":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setCartAdd(ddo,eventIndex)}},"button_submission*instant_cart_add":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setCartAdd(ddo,eventIndex),s.events=utilities.yE("scCheckout,event129,event30")}},"overlay*instant_checkout_review_order":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setCartAdd(ddo,eventIndex),s.pageName=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop30=s.pageName,s.eVar8=s.pageName}},"type_ahead*suggestion_displayed":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"suggestion displayed",setMetrics:function(ddo){s.pageName=ddo.page.pageInfo.pageName}},"type_ahead*suggestion_tapped":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"suggestion tapped",setMetrics:function(ddo){s.pageName=ddo.page.pageInfo.pageName}},find_a_store:{forcePageView:!1,reportingType:"t",runUniversal:!0,setMetrics:function(){s.events=utilities.yE("event38")}},expansion:{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){s.pageName=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop30=ddo.event[eventIndex].category.primaryCategory,s.prop35="D=pageName",s.eVar8=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory}},"in-line_product_details*collection_expanded_view":{forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){s.pageName=ddo.event[eventIndex].eventInfo.eventName+" "+ddo.event[eventIndex].category.primaryCategory,s.prop15=ddo.page.pageInfo.pageName,s.prop30=ddo.event[eventIndex].category.primaryCategory,s.prop35="D=pageName",s.eVar8=ddo.event[eventIndex].category.primaryCategory,s.events=utilities.yE("prodView,event16"),s.products=productView(ddo.product)}},"button_submission*content_module_click":{forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"content module click",setMetrics:function(ddo,eventIndex){let evtObj=void 0!==ddo.event[eventIndex]?ddo.event[eventIndex]:{};mapMethods.setWidgetTracking(ddo.event[eventIndex]),s.prop30=ddo.page.pageInfo.pageType,s.eVar105=evtObj.content&&void 0!==evtObj.content.slmCandidateID?evtObj.content.slmCandidateID:"",s.linkTrackEvents=utilities.yE("event194",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar5,eVar105,eVar129,prop4,prop30",s.linkTrackVars)}}};nodes["overlay*available_rebates"]={forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){var podClickObj=mapMethods.getPodClick();s.products=productPod(ddo.event[eventIndex].item,podClickObj)}},nodes["overlay*slm_candidate_profile_modal"]={forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){let evtObj=void 0!==ddo.event[eventIndex]?ddo.event[eventIndex]:{};s.eVar105=evtObj.content&&void 0!==evtObj.content.slmCandidateID?evtObj.content.slmCandidateID:""}},nodes["button_submission*text_me"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"text me",setMetrics:function(){}},nodes["button_submission*text_me_coupon"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"text me coupon",setMetrics:function(){}},nodes["cart_view_modification*add_subscription"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"add subscription",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event82"),s.products=cartView(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event82",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar115,products",s.linkTrackVars)}},nodes["cart_view_modification*remove_subscription"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"remove subscription",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event83"),s.products=cartView(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event83",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar115,products",s.linkTrackVars)}},nodes["tooltip*map_disclosure"]={forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(){}},nodes["button_submission*phone_verification_success"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"phone verification success",setMetrics:function(){s.events=utilities.yE("event96"),s.linkTrackEvents=utilities.yE("event96",s.linkTrackEvents)}},nodes["browse*solver_abandon"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"solver abandon",setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];s.eVar122=eventObj.eventInfo&&eventObj.eventInfo.solverPath?eventObj.eventInfo.solverPath:"",s.linkTrackVars=utilities.yE("eVar122",s.linkTrackVars)}},nodes["button_submission*scan_credit_card"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"scan credit card",setMetrics:function(){s.events=utilities.yE("event279"),s.linkTrackEvents=utilities.yE("event279",s.linkTrackEvents)}},nodes["button_submission*instant_checkout_enrolled"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"instant checkout enrolled",setMetrics:function(){s.events=utilities.yE("event64"),s.linkTrackEvents=utilities.yE("event64",s.linkTrackEvents)}},nodes["button_submission*ugc_click"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"ugc click",setMetrics:function(ddo,eventIndex){var sku,ugcResult,eventObj=ddo.event[eventIndex],ugc=eventObj&&eventObj.content&&Array.isArray(eventObj.content.ugc)?eventObj.content.ugc:[];s.events=utilities.yE("event152"),ddo.product&&Array.isArray(ddo.product)&&ddo.product.length&&(sku=ddo.product[0].productInfo&&ddo.product[0].productInfo.sku?ddo.product[0].productInfo.sku.toString():""),ugcResult=function(ugcArr){var result="",ugc=Array.isArray(ugcArr)&&ugcArr[ugcArr.length-1]?ugcArr[ugcArr.length-1]:"";return ugc&&(result+=(ugc.module?ugc.module:"n/a")+">",result+=(ugc.component?ugc.component:"n/a")+">",result+=ugc.element?ugc.element:"n/a"),result}(ugc),s.products=";"+sku+";;;;eVar128="+ugcResult,s.linkTrackEvents=utilities.yE("event152",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,eVar128",s.linkTrackVars)}},nodes["button_submission*email_sign_up"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"email sign up",setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex];s.events=utilities.yE("event251"),s.eVar139=eventObj&&eventObj.category&&eventObj.category.emailListType?eventObj.category.emailListType:"",s.linkTrackEvents=utilities.yE("event251",s.linkTrackEvents),s.linkTrackVars=utilities.yE("eVar139",s.linkTrackVars)}},nodes["button_submission*content_module_interaction"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"content module interaction",setMetrics:function(ddo,eventIndex){mapMethods.setEvar144(ddo,eventIndex,"event259")}},nodes["interaction*configurator_click"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"configurator click",setMetrics:function(ddo,eventIndex){mapMethods.setEvar144(ddo,eventIndex,"event60")}},nodes["button_submission*plp_pod_new_tab"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"plp pod new tab",setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],pod=eventObj&&eventObj.pod?eventObj.pod:{},itemArray=[{productInfo:{sku:pod.podAnchorSku?pod.podAnchorSku:""}}];s.prop30=ddo.page.pageInfo.pageType;var podData,result,podDataStr=(result="",(podData=pod)&&(result+=(podData.podPageNumber?podData.podPageNumber:"")+"|",result+=(podData.podPageResults?podData.podPageResults:"")+"|",result+=(podData.podPosition?podData.podPosition:"")+"|",result+=(podData.podType?podData.podType:"")+"|",result+=podData.podAction?podData.podAction:""),result);s.eVar101=function(podDataStr,podData){var result="";return podDataStr&&podData&&(result+=podDataStr+"|"+(podData.podAnchorSku?podData.podAnchorSku:""),s.events=utilities.yE("event123="+(podData.podInteractionNumber?podData.podInteractionNumber:""))),result}(podDataStr,pod),s.products=productPod(itemArray,pod),s.linkTrackEvents=utilities.yE("event62,event123,event191",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products,prop30,eVar101,eVar160",s.linkTrackVars)}},nodes["stash*filter_by"]={forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(){stash.rF("filterby",!0)}},nodes["stash*sign_in_success"]={forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(){stash.rF("signInSuccess",!0)}},nodes["stash*tmx_policy"]={forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){var eventObj=ddo.event[eventIndex],stashData=eventObj.stash?eventObj.stash:{},data=stashData.tmxPolicyDetails?stashData.tmxPolicyDetails:"";stash.rF("tmxPolicyDetails",data),stash.ld("tmxPolicyDetailsErrorCase",data)}},nodes["cart_view_modification*coupon_application"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"cart coupon application",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event277"),s.products=couponApplicationChange(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event277",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},nodes["cart_view_modification*coupon_remove"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"cart coupon removal",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event278"),s.products=couponApplicationChange(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event278",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},nodes["checkout_view_modification*coupon_application"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"checkout coupon application",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event277"),s.products=couponApplicationChange(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event277",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},nodes["checkout_view_modification*coupon_remove"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"checkout coupon removal",setMetrics:function(ddo,eventIndex){s.events=utilities.yE("event278"),s.products=couponApplicationChange(ddo.event[eventIndex].item),s.linkTrackEvents=utilities.yE("event278",s.linkTrackEvents),s.linkTrackVars=utilities.yE("products",s.linkTrackVars)}},nodes["button_submission*two_factor_authentication_success"]={forcePageView:!1,reportingType:"tl",runUniversal:!0,trackLinkName:"two factor authentication success",setMetrics:function(){s.events=utilities.yE("event229"),s.linkTrackEvents=utilities.yE("event229",s.linkTrackEvents)}},nodes.order_view={forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.prop63=ddo.page.myAccount.settings?ddo.page.myAccount.settings:stash.yO("myAccountSettings")}},nodes["overlay*verify_your_phone_number_-_code_entry"]={forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo){s.prop63=ddo.page.myAccount.settings?ddo.page.myAccount.settings:stash.p4("myAccountSettings"),stash._k("myAccountSettings")}},nodes["overlay*paint_family"]={forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setPaintMetrics(ddo.event[eventIndex])}},nodes["overlay*paint_details"]={forcePageView:!0,reportingType:"t",runUniversal:!0,setMetrics:function(ddo,eventIndex){mapMethods.setPaintMetrics(ddo.event[eventIndex])}},nodes["stash*content_module_impression"]={forcePageView:!1,reportingType:"non-reporting",runUniversal:!1,setMetrics:function(ddo,eventIndex){let eventObj=ddo.event[eventIndex],stshContModArray=eventObj.stash&&eventObj.stash.content&&Array.isArray(eventObj.stash.content.module)?eventObj.stash.content.module:[],stash_content_module_impression="",plccArray=[];for(const moduleIndex in stshContModArray){let name=stshContModArray[moduleIndex].name?stshContModArray[moduleIndex].name.toString():"",feature=stshContModArray[moduleIndex].feature?stshContModArray[moduleIndex].feature.toString():"",type=stshContModArray[moduleIndex].type?stshContModArray[moduleIndex].type.toString():"";name&&type&&feature&&"plcc"===feature.substring(0,4).toLowerCase()&&plccArray.push("".concat(name,">").concat(feature,">").concat(type))}stash_content_module_impression=plccArray.join("|"),stash.rF("stashContenModuleImpressionValue",stash_content_module_impression)}}}}]);
//# sourceMappingURL=daMap.core.js.map