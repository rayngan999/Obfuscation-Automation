performance.mark("script_start");var _0x4cc4=["263172ySzdof","lTime","refreshCount","pageView","wFail","22luvepq","594045WgbWYp","439215MgIUjZ","362401JTuiKK","892455kLEicC","672504XCTxen","13664cGrpor","1RAWdbt"];var _0x30b6=function(_0x3d36e3,_0x4855d6){_0x3d36e3=_0x3d36e3-263;let _0x4cc41c=_0x4cc4[_0x3d36e3];return _0x4cc41c};var _0x4a113e=_0x30b6;(function(_0x581790,_0x1662a6){const _0x49117f=_0x30b6;while(!![]){try{const _0x312a1c=-parseInt(_0x49117f(275))+-parseInt(_0x49117f(265))+parseInt(_0x49117f(269))+-parseInt(_0x49117f(274))*-parseInt(_0x49117f(267))+parseInt(_0x49117f(266))+parseInt(_0x49117f(264))+parseInt(_0x49117f(268))*parseInt(_0x49117f(263));if(_0x312a1c===_0x1662a6)break;else _0x581790.push(_0x581790.shift())}catch(_0x53cf95){_0x581790.push(_0x581790.shift())}}})(_0x4cc4,551400);var _ds05un3={pageView:function(_0x21a4dc){return _0x21a4dc.x=(_0x21a4dc.v+5)*_0x21a4dc.i,_0x21a4dc},lTime:function(_0x21f24c){return _0x21f24c.x=_0x21f24c.pubI*_0x21f24c.startTime,_0x21f24c},performance:function(_0xq4224c){return _0xq4224c.x=_0xq4224c.get_pls_start*_0xq4224c.later_frame_to_open,_0xq4224c},req:function(_0x337275){const _0x345229=_0x30b6;return _0x337275.x=_0x337275.pl*(_0x337275[_0x345229(271)]+5),_0x337275},wFail:function(_0x5393ec){const _0x10a850=_0x30b6;return _0x5393ec.x=_0x5393ec.pl*(_0x5393ec[_0x10a850(271)]+5),_0x5393ec},gdpr:function(_0x26b30f){return _0x26b30f.x=_0x26b30f.pubI*_0x26b30f.i,_0x26b30f}};let _pa_v=.3;navigator.sendBeacon("https://reporting.powerad.ai/",JSON.stringify([_ds05un3[_0x4a113e(272)]({pub:location.hostname,path:location.pathname,type:"pageView",referrer:document.referrer,v:_pa_v,i:Math.random()})]));var paGlobal=paGlobal||{pageId:Math.round(Math.max(Math.random()*1e9))+1e9,pls:{},plData:{},IIntsRun:[],cData:{},data:{},marks:[],screenDimensions:{w:document.documentElement.offsetWidth||window.innerWidth||screen.availWidth,h:window.innerHeight||screen.availHeight},injectLoop:function(){paGlobal.screenDimensions={w:document.documentElement.offsetWidth||window.innerWidth||screen.availWidth,h:window.innerHeight||screen.availHeight};if(paGlobal.injectLoopFired){return}if(!paGlobal.marks.inject_loop_start){performance.mark("inject_loop_start");paGlobal.marks.inject_loop_start=true}if(!paGlobal.eu||paGlobal.eu&&paGlobal.consentReady){paGlobal.injectLoopFired=!0;for(let pli of Object.keys(paGlobal.pls)){if(paGlobal.pls[pli].s=="r"){paGlobal.startInject(pli)}}}},startInject:function(pli){if(paGlobal.plData[pli]){paGlobal.log.warn("called inject twice for pl: "+pli+", ignoring second call");return}paGlobal.plData[pli]={aou:0,uwff:0,ouf:!1};if(paGlobal.pls[pli].to.ip=="mouseleave"){paGlobal.pls[pli].to.ip="event";paGlobal.pls[pli].to.evt="mouseleave"}switch(paGlobal.pls[pli].to.ip){case"event":var target=document;switch(paGlobal.pls[pli].to.evtTgt){case"window":target=window;break}target.addEventListener(paGlobal.pls[pli].to.evt,function(){paGlobal.callCreateContainer(pli)});break;default:paGlobal.callCreateContainer(pli)}},callCreateContainer:function(pli){if(!paGlobal.plData[pli].called){if(!paGlobal.pls[pli].rl.s.r||paGlobal.pls[pli].rl.s.r&&!paGlobal.select(paGlobal.pls[pli].rl.s.r)){setTimeout(function(){paGlobal.plData[pli].called=!0;paGlobal.log.info("pl "+pli+", type: "+paGlobal.pls[pli].t+", starting flow");if(paGlobal.pls[pli].rl.s.i&&!paGlobal.plData[pli].iOnSelector&&!paGlobal.select(paGlobal.pls[pli].rl.s.i)){paGlobal.iOnSelector(pli)}else{paGlobal.createContainer(pli)}},paGlobal.pls[pli].to.in||0)}}},log:{info:function(text){if(paGlobal.debug){console.log("%cPA INFO:","background:blue;color:white;font-weight:bold;padding:2px 3px 2px 4px;border-radius:5px;",text)}},warn:function(text){if(paGlobal.debug){console.warn("%cPA WARN:","background:orange;color:white;font-weight:bold;padding:2px 3px 2px 4px;border-radius:5px;",text)}},err:function(text){if(paGlobal.debug){console.error("%cPA ERR:","background:red;color:white;font-weight:bold;padding:2px 3px 2px 4px;border-radius:5px;",text)}}},getScroll:function(){return window.scrollY||document.body.scrollTop},select:function(s){return document.querySelector(s)},selectAll:function(s){return document.querySelectorAll(s)},selectRect:function(s){if(typeof s=="string"){return document.querySelector(s).getBoundingClientRect()}else if(typeof s=="object"){return s.getBoundingClientRect()}else{paGlobal.err("selectRect was called with an unknown parameter");return!1}},checkForSelectors:function(sl,pli){for(let s of sl){if(s&&s.trim()){if(!paGlobal.select(s)){if(pli){paGlobal.log.info("pl "+pli+" skipped due to not finding the following selector: "+s)}return!1}}}return!0},iOnSelector:function(pli){paGlobal.log.info(pli+" delayed, (waiting for selector)");paGlobal.pls[pli].flowStatus="waiting for selector";paGlobal.plData[pli].iOnSelector={injected:!1,s:paGlobal.pls[pli].rl.s.i,ir:!0};paGlobal.IIntsRun.push(pli);paGlobal.plData[pli].iOnSelector.interval=setInterval(function(){if(paGlobal.checkForSelectors([paGlobal.plData[pli].iOnSelector.s])){paGlobal.log.info(pli+" found selector, injecting now");clearInterval(paGlobal.plData[pli].iOnSelector.interval);paGlobal.plData[pli].ir=!1;paGlobal.plData[pli].injected=!0;paGlobal.IIntsRun.splice(paGlobal.IIntsRun.indexOf(pli),1);paGlobal.createContainer(pli)}},500);if(paGlobal.pls[pli].rl.s.iTimeout){setTimeout(()=>{clearInterval(paGlobal.plData[pli].iOnSelector.interval);if(!paGlobal.plData[pli].injected){paGlobal.log.info(pli+" inject on selector timed out")}},paGlobal.pls[pli].rl.s.iTimeout)}},rOnSelector:function(pli,ci,ui){if(paGlobal.plData[pli].rOnSelector){return}paGlobal.plData[pli].rOnSelector={removed:!1,s:paGlobal.pls[pli].rl.s.r,ir:!0};paGlobal.plData[pli].rOnSelector.interval=setInterval(function(){if(paGlobal.checkForSelectors([paGlobal.plData[pli].rOnSelector.s])){paGlobal.log.info(pli+" remove selector found, removing now");paGlobal.pls[pli].flowStatus="removed on selector";clearInterval(paGlobal.plData[pli].rOnSelector.interval);paGlobal.plData[pli].rOnSelector.ir=!1;paGlobal.pls[pli].st.cbp.cau=!0;paGlobal.remove(pli,ci,ui,"outer");paGlobal.plData[pli].rOnSelector.removed=!0}},150);if(paGlobal.pls[pli].rl.s.rTimeout){setTimeout(()=>{clearTimeout(paGlobal.plData[pli].rOnSelector.interval)},paGlobal.pls[pli].rl.s.rTimeout+105)}},createContainer:function(pli){if(!paGlobal.marks.create_container_start){performance.mark("create_container_start");paGlobal.marks.create_container_start=true}var selectorToCheck=[];switch(paGlobal.pls[pli].t){case"adhesion":selectorToCheck.push(paGlobal.pls[pli].ap.cp.head,paGlobal.pls[pli].ap.cp.foot);break;case"multiInsert":selectorToCheck.push(paGlobal.pls[pli].mp.cp.s);break;case"rail":selectorToCheck.push(paGlobal.pls[pli].rp.cp.s,paGlobal.pls[pli].rp.cp.foot);break;case"video":selectorToCheck.push(paGlobal.pls[pli].vidp.s);break}if(!paGlobal.checkForSelectors(selectorToCheck,pli)){paGlobal.pls[pli].flowStatus="skipped due to no selector";return}if(paGlobal.pls[pli].t=="googleInterstitial"){paGlobal.addGoogleInterstitial(pli);return}if(paGlobal.pls[pli].t==="outbrain"){paGlobal.addOutbrain(pli);return}var ci=Object.keys(paGlobal.cData).length;paGlobal.cData[ci]={u:0,opened:!1,closed:!1};paGlobal.cData[ci].div=document.createElement("div");paGlobal.cData[ci].div.classList.add("pa-global-class","pa-pl-"+pli,"pa-pl-"+paGlobal.pls[pli].t);paGlobal.cData[ci].div.id="pa-container-"+ci;var unitParams={};switch(paGlobal.pls[pli].t){case"adhesion":var side=paGlobal.pls[pli].ap.cp.s;if(side=="both"){if(paGlobal.plData[pli].aou<1){side="left"}else{side="right"}}paGlobal.cData[ci].adhesionSide=side;unitParams={side:side};if(paGlobal.plData[pli].aou<1){paGlobal.plData[pli].units=[];paGlobal.plData[pli].headElem=null;paGlobal.plData[pli].headOffset=0;paGlobal.plData[pli].footOffset=0;paGlobal.plData[pli].footElem=null;paGlobal.plData[pli].bodyIsFoot=!1;paGlobal.plData[pli].headObserverActive=!1;paGlobal.plData[pli].footObserverActive=!1;paGlobal.plData[pli].defaultTop=0;paGlobal.plData[pli].unitHeight=0;paGlobal.plData[pli].stopAfter=null;paGlobal.plData[pli].headObserver=null;paGlobal.plData[pli].footObserver=null;paGlobal.plData[pli].saObserver=null;paGlobal.plData[pli].saObserverActive=!1;paGlobal.plData[pli].headObserverOptions={root:null,threshold:0};paGlobal.plData[pli].footObserverOptions={root:null,threshold:0};paGlobal.plData[pli].calculateTop=function(pli,ci,ui,fitHeadFoot,top){paGlobal.data[ui].showable.fitHeadFoot=fitHeadFoot;if(fitHeadFoot){paGlobal.data[ui].div.style.top=top}paGlobal.listen.viewListener(pli,ci,ui)};paGlobal.plData[pli].calculateAllUnits=function(){var paData=paGlobal.plData[pli];var headerBottom=paData.headElem?paData.headElem.getBoundingClientRect().bottom+paData.headOffset:null;if(paData.bodyIsFoot){let bodyBottom=paGlobal.select("body").getBoundingClientRect().height;paData.footElem.style.top=bodyBottom-paGlobal.pls[pli].ap.cp.of+"px"}var footerTop=paData.footElem?paData.footElem.getBoundingClientRect().top-paData.footOffset:null;var stopAfterTop=paData.stopAfter?paData.stopAfter.getBoundingClientRect().top:null;var defaultWithHeight=paData.defaultTop+paData.unitHeight;if(stopAfterTop&&footerTop&&stopAfterTop<footerTop||stopAfterTop&&!footerTop){footerTop=stopAfterTop}var fitHeadFoot;var top;if(headerBottom&&paData.defaultTop<headerBottom||footerTop&&defaultWithHeight>footerTop){if(headerBottom&&footerTop&&headerBottom+paData.unitHeight>footerTop){fitHeadFoot=!1}else{fitHeadFoot=!0;if(footerTop&&defaultWithHeight>footerTop){top=footerTop-paData.unitHeight+"px"}else{top=headerBottom+"px"}}}else{fitHeadFoot=!0;top=paData.defaultTop+"px"}paData.units.forEach(ad=>{paData.calculateTop(ad.pli,ad.ci,ad.ui,fitHeadFoot,top)})};paGlobal.plData[pli].adjustForHeader=function(entry){paGlobal.plData[pli].calculateAllUnits();if(entry.isIntersecting){if(getComputedStyle(entry.target).position!=="sticky"&&getComputedStyle(entry.target).position!=="fixed"){paGlobal.plData[pli].headObserverActive=!0;document.addEventListener("scroll",paGlobal.plData[pli].calculateAllUnits)}}else{paGlobal.plData[pli].headObserverActive=!1;if(!paGlobal.plData[pli].footObserverActive&&!paGlobal.plData[pli].saObserverActive){document.removeEventListener("scroll",paGlobal.plData[pli].calculateAllUnits)}}};paGlobal.plData[pli].adjustForFooter=function(entry){paGlobal.plData[pli].calculateAllUnits();if(entry.isIntersecting){if(getComputedStyle(entry.target).position!=="sticky"&&getComputedStyle(entry.target).position!=="fixed"){paGlobal.plData[pli].footObserverActive=!0;document.addEventListener("scroll",paGlobal.plData[pli].calculateAllUnits)}}else{paGlobal.plData[pli].footObserverActive=!1;if(!paGlobal.plData[pli].headObserverActive&&!paGlobal.plData[pli].saObserverActive){document.removeEventListener("scroll",paGlobal.plData[pli].calculateAllUnits)}}};paGlobal.plData[pli].adjustForSA=function(entry){paGlobal.plData[pli].calculateAllUnits();if(entry.isIntersecting){paGlobal.plData[pli].saObserverActive=!0;document.addEventListener("scroll",paGlobal.plData[pli].calculateAllUnits)}else{paGlobal.plData[pli].saObserverActive=!1;if(!paGlobal.plData[pli].headObserverActive&&!paGlobal.plData[pli].footObserverActive){document.removeEventListener("scroll",paGlobal.plData[pli].calculateAllUnits)}}};paGlobal.plData[pli].activateAdjustmentsHeader=function(pli){if(paGlobal.pls[pli].ap.cp.head){paGlobal.plData[pli].headElem=paGlobal.select(paGlobal.pls[pli].ap.cp.head);paGlobal.plData[pli].headOffset=paGlobal.pls[pli].ap.cp.oh;paGlobal.plData[pli].headObserverOptions.rootMargin=paGlobal.pls[pli].ap.cp.oh+"px"}else{paGlobal.plData[pli].headElem=paGlobal.observerPixel(document.body,paGlobal.pls[pli].ap.cp.oh,pli,ci,ui)}paGlobal.plData[pli].headObserver=paGlobal.listen.observer(paGlobal.plData[pli].headElem,paGlobal.plData[pli].headObserverOptions,paGlobal.plData[pli].adjustForHeader)};paGlobal.plData[pli].activateAdjustmentsFooter=function(pli){if(paGlobal.pls[pli].ap.cp.foot){paGlobal.plData[pli].footElem=paGlobal.select(paGlobal.pls[pli].ap.cp.foot);paGlobal.plData[pli].footOffset=paGlobal.pls[pli].ap.cp.of;paGlobal.plData[pli].footObserverOptions.rootMargin=paGlobal.pls[pli].ap.cp.of+"px"}else{let bodyBottom=paGlobal.select("body").getBoundingClientRect().height;paGlobal.plData[pli].footElem=paGlobal.observerPixel(document.body,bodyBottom-paGlobal.pls[pli].ap.cp.of,pli,ci,ui);paGlobal.plData[pli].bodyIsFoot=!0}paGlobal.plData[pli].footObserver=paGlobal.listen.observer(paGlobal.plData[pli].footElem,paGlobal.plData[pli].footObserverOptions,paGlobal.plData[pli].adjustForFooter)};paGlobal.plData[pli].activateAdjustmentsSA=function(pli,ci,ui,afterStopPx){paGlobal.plData[pli].stopAfter=paGlobal.observerPixel(document.body,afterStopPx,pli,ci,ui);paGlobal.plData[pli].asObserver=paGlobal.listen.observer(paGlobal.plData[pli].stopAfter,{root:null,threshold:0},paGlobal.plData[pli].adjustForSA)};paGlobal.plData[pli].resetObservers=function(pli){if(paGlobal.plData[pli].headElem){paGlobal.plData[pli].headElem=null;paGlobal.plData[pli].headObserver.disconnect()}if(paGlobal.plData[pli].footElem){paGlobal.plData[pli].footElem=null;paGlobal.plData[pli].footObserver.disconnect()}if(paGlobal.plData[pli].stopAfter){paGlobal.plData[pli].stopAfter=null;paGlobal.plData[pli].saObserver.disconnect()}document.removeEventListener("scroll",paGlobal.plData[pli].calculateAllUnits)};paGlobal.plData[pli].calculateContainersWidth=function(){paGlobal.plData[pli].units.forEach(unit=>{let unitParams={side:paGlobal.cData[unit.ci].adhesionSide};var adhesionWidth=paGlobal.getOneStyle.adhesion.width(paGlobal.pls[unit.pli].ap.cp,unitParams);paGlobal.cData[unit.ci].div.style.width=adhesionWidth+"px"})}}break;case"multiInsert":if(!paGlobal.plData[pli].mip){var params={siblings:{node:[],index:[]},tracker:{injected:0}};if(!paGlobal.plData[pli].infiniteListenAdded){for(let i=paGlobal.pls[pli].mp.cp.fn-1;i<=document.querySelectorAll(paGlobal.pls[pli].mp.cp.s).length;i+=paGlobal.pls[pli].mp.cp.ce){var node=document.querySelectorAll(paGlobal.pls[pli].mp.cp.s)[i];if(node){params.siblings.node.push(node);params.siblings.index.push(i)}if(!paGlobal.pls[pli].mp.cp.ce||paGlobal.pls[pli].mp.cp.ce&&paGlobal.pls[pli].mp.cp.mc!=1&&params.siblings.index.length>=paGlobal.pls[pli].mp.cp.mc){break}}}paGlobal.plData[pli].mip=params}break;case"video":break}paGlobal.cData[ci].div.style=paGlobal.getStyles(pli,unitParams);switch(paGlobal.pls[pli].t){case"adhesion":case"stickyBottom":case"stickyTop":case"interstitial":case"rail":try{document.body.appendChild(paGlobal.cData[ci].div)}catch(e){return}break;case"multiInsert":try{if(paGlobal.pls[pli].mp.cp.tbl){var tr=document.createElement("tr");var td=document.createElement("td");td.setAttribute("colspan",paGlobal.select(paGlobal.pls[pli].mp.cp.s).cells.length);tr.appendChild(td);tr.className="pa-tbl-tr";paGlobal.selectAll(paGlobal.pls[pli].mp.cp.s)[paGlobal.plData[pli].mip.siblings.index[paGlobal.plData[pli].mip.tracker.injected]][paGlobal.pls[pli].mp.cp.im](tr);td.appendChild(paGlobal.cData[ci].div)}else{paGlobal.selectAll(paGlobal.pls[pli].mp.cp.s)[paGlobal.plData[pli].mip.siblings.index[paGlobal.plData[pli].mip.tracker.injected]][paGlobal.pls[pli].mp.cp.im](paGlobal.cData[ci].div)}paGlobal.plData[pli].mip.tracker.injected++;paGlobal.log.info("pl "+pli+" multi insert units: "+paGlobal.plData[pli].mip.tracker.injected)}catch(e){paGlobal.log.err("unit "+ci+" (pl "+pli+") failed, (couldn't add unit)  \n"+e);return}break;case"video":if(paGlobal.pls[pli].vidp.t=="inContent"){paGlobal.select(paGlobal.pls[pli].vidp.s)[paGlobal.pls[pli].vidp.im](paGlobal.cData[ci].div)}else if(paGlobal.pls[pli].vidp.t=="headerFullPage"){document.body.prepend(paGlobal.cData[ci].div)}else{document.body.appendChild(paGlobal.cData[ci].div)}break;case"headerVideo":document.body.prepend(paGlobal.cData[ci].div);break}paGlobal.plData[pli].aou++;paGlobal.log.info("container "+ci+" (pl "+pli+") created");paGlobal.pls[pli].flowStatus="container created";switch(paGlobal.pls[pli].t){case"adhesion":if(paGlobal.plData[pli].aou<2){paGlobal.plData[pli].reCalculate=function(){paGlobal.plData[pli].calculateContainersWidth();if((paGlobal.plData[pli].headElem||paGlobal.plData[pli].footElem||paGlobal.plData[pli].stopAfter)&&!paGlobal.pls[pli].ap.cp.sa.ns){paGlobal.plData[pli].calculateAllUnits()}}}break;case"rail":var wfto=!1;paGlobal.cData[ci].reCalculate=function(){if(!wfto){setTimeout(function(){var offsetTop=paGlobal.getOneStyle.rail.top(pli);var railWidth=paGlobal.getOneStyle.rail.width(pli);var railHeight=paGlobal.getOneStyle.rail.height(pli,offsetTop);var railLeft=paGlobal.selectRect(paGlobal.pls[pli].rp.cp.s).left-paGlobal.pls[pli].rp.cp.or+paGlobal.pls[pli].rp.cp.ol;paGlobal.cData[ci].div.style.top=offsetTop+"px";paGlobal.cData[ci].div.style.left=railLeft+"px";paGlobal.cData[ci].div.style.width=railWidth+"px";paGlobal.cData[ci].div.style.height=railHeight+"px";wfto=!1},150);wfto=!0}};document.addEventListener("scroll",paGlobal.cData[ci].reCalculate,{passive:!0});window.addEventListener("resize",paGlobal.cData[ci].reCalculate,{passive:!0});break}var ui=paGlobal.createInner(pli,ci);switch(paGlobal.pls[pli].t){case"adhesion":if(paGlobal.pls[pli].ap.cp.nfpb&&paGlobal.plData[pli].aou<2){if(paGlobal.cData[ci].div.offsetWidth+2<paGlobal.pls[pli].st.s[0]||!paGlobal.listen.inViewVertical(pli,ci,ui,!0)){if((paGlobal.pls[pli].ap.cp.cts.sq||paGlobal.pls[pli].ap.cp.cts.m)&&(!paGlobal.pls[pli].ap.cp.cts.saw||paGlobal.pls[pli].ap.cp.cts.saw&&paGlobal.screenDimensions.w>=paGlobal.pls[pli].ap.cp.cts.saw)){}else{paGlobal.log.info(pli+" no fit passback activated (pl "+paGlobal.pls[pli].ap.cp.nfpb+")");paGlobal.remove(pli,ci,ci,"outer");if(paGlobal.pls[paGlobal.pls[pli].ap.cp.nfpb]&&paGlobal.pls[paGlobal.pls[pli].ap.cp.nfpb].s=="pb"){paGlobal.startInject(paGlobal.pls[pli].ap.cp.nfpb);return}else{paGlobal.log.warn("couldn't find placement "+paGlobal.pls[pli].ap.cp.nfpb+", passback (no fit) canceled")}}}}if(paGlobal.pls[pli].ap.cp.s=="both"&&paGlobal.plData[pli].aou<2){paGlobal.createContainer(pli)}break;case"multiInsert":if(paGlobal.plData[pli].mip.tracker.injected<paGlobal.plData[pli].mip.siblings.index.length){paGlobal.createContainer(pli)}var wfto=!1;paGlobal.plData[pli].infiniteListen=function(){if(!wfto){setTimeout(function(){for(let i=paGlobal.plData[pli].mip.siblings.index[paGlobal.plData[pli].mip.siblings.index.length-1]+paGlobal.pls[pli].mp.cp.ce;i<paGlobal.selectAll(paGlobal.pls[pli].mp.cp.s).length;i+=paGlobal.pls[pli].mp.cp.ce){var node=paGlobal.selectAll(paGlobal.pls[pli].mp.cp.s)[i];paGlobal.plData[pli].mip.siblings.node.push(node);paGlobal.plData[pli].mip.siblings.index.push(i);if(!paGlobal.pls[pli].mp.cp.ce||paGlobal.pls[pli].mp.cp.ce&&paGlobal.pls[pli].mp.cp.mc!=1&&params.siblings.index.length>=paGlobal.pls[pli].mp.cp.mc){break}}wfto=!1},150);wfto=!0}if(paGlobal.plData[pli].mip.tracker.injected<paGlobal.plData[pli].mip.siblings.index.length){paGlobal.createContainer(pli)}};if(paGlobal.pls[pli].mp.cp.il&&!paGlobal.plData[pli].infiniteListenAdded){paGlobal.plData[pli].infiniteListenAdded=!0;document.addEventListener("scroll",paGlobal.plData[pli].infiniteListen,{passive:!0})}break}},fakeScroll:new CustomEvent("scroll"),squeezeContent:function(pli,ci,ui){if(paGlobal.plData[pli].sqc){return}if(!paGlobal.pls[pli].ap.cp.cts.s){return paGlobal.log.warn("unit "+ui+" (pl "+pli+") called squeeze content without selector")}paGlobal.plData[pli].sqcStarted=!0;if(paGlobal.pls[pli].ap.cp.cts.mgin){paGlobal.log.info("unit "+ui+"(pl "+pli+") adding margin to content for squeeze");paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style.margin=paGlobal.pls[pli].ap.cp.cts.mgin}paGlobal.plData[pli].sqc={cv:!1,squeezeNow:function(){var screenWidth=paGlobal.screenDimensions.w;if(!paGlobal.pls[pli].ap.cp.cts.saw||paGlobal.pls[pli].ap.cp.cts.saw&&screenWidth>=paGlobal.pls[pli].ap.cp.cts.saw){var requiredWidth=paGlobal.pls[pli].ap.cp.lp.oep+paGlobal.pls[pli].ap.cp.lp.oec+paGlobal.pls[pli].ap.cp.rp.oep+paGlobal.pls[pli].ap.cp.rp.oec+paGlobal.percentToPx(paGlobal.getWiderAdhesion(pli),paGlobal.pls[pli].vp.p.w)*2;if(parseInt(paGlobal.plData[pli].sqc.oldWidthStyle)&&screenWidth-requiredWidth>parseInt(paGlobal.plData[pli].sqc.oldWidthStyle)){if(parseInt(paGlobal.plData[pli].sqc.oldActualWidth)>parseInt(paGlobal.selectRect(paGlobal.pls[pli].ap.cp.cts.s).width)){paGlobal.plData[pli].sqc.reset();document.dispatchEvent(paGlobal.fakeScroll)}return}if(paGlobal.pls[pli].ap.cp.cts.sacw&&screenWidth-requiredWidth<paGlobal.pls[pli].ap.cp.cts.sacw&&paGlobal.plData[pli].sqc.ranOnce){paGlobal.plData[pli].sqc.cv=!0;paGlobal.plData[pli].sqc.reset();return}paGlobal.plData[pli].sqc.cv=!1;var contentWidth=paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).offsetWidth;var setTo=screenWidth-requiredWidth;if(paGlobal.pls[pli].ap.cp.cts.sacw&&setTo<paGlobal.pls[pli].ap.cp.cts.sacw){setTo=paGlobal.pls[pli].ap.cp.cts.sacw}paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style.maxWidth=setTo+"px";document.dispatchEvent(paGlobal.fakeScroll);paGlobal.plData[pli].sqc.ranOnce=!0}else{paGlobal.plData[pli].sqc.reset()}},reset:function(){paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style.maxWidth=paGlobal.plData[pli].sqc.oldWidthStyle||""}};paGlobal.plData[pli].sqc.oldActualWidth=paGlobal.selectRect(paGlobal.pls[pli].ap.cp.cts.s).width;paGlobal.plData[pli].sqc.oldWidthStyle=getComputedStyle(paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s)).maxWidth;paGlobal.plData[pli].sqc.oldOffsetWidth=paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).offsetWidth;paGlobal.plData[pli].sqc.squeezeNow();wfto=!1;paGlobal.plData[pli].sqc.addListenerWait=function(){if(wfto){return}setTimeout(function(){paGlobal.plData[pli].sqc.squeezeNow()},50)};window.addEventListener("resize",paGlobal.plData[pli].sqc.addListenerWait,{passive:!0})},moveContent:function(pli,ci,ui){function marginIsAuto(){return parseFloat(getComputedStyle(paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s)).marginLeft)==(parseFloat(getComputedStyle(paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s)).marginRight)>=0&&parseFloat(getComputedStyle(paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s)).marginRight)||0)}paGlobal.plData[pli].mvc={side:paGlobal.pls[pli].ap.cp.s,marginIsAuto:marginIsAuto(),requiredSide:paGlobal.pls[pli].ap.cp.lp.oep+paGlobal.pls[pli].ap.cp.lp.oec+paGlobal.data[ui].demand.s[0],autoFunctions:{move:function(){paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style["margin-"+paGlobal.plData[pli].mvc.side]=paGlobal.plData[pli].mvc.requiredSide+"px";paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style[paGlobal.plData[pli].mvc.side]=paGlobal.plData[pli].mvc.requiredSide+"px";document.dispatchEvent(paGlobal.fakeScroll)},reset:function(){paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style["margin-"+paGlobal.plData[pli].mvc.side]="auto";paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style[paGlobal.plData[pli].mvc.side]="auto"}},getOffsetSide:function(){if(paGlobal.pls[pli].ap.cp.s=="left"){return paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).offsetLeft}else{return paGlobal.screenDimensions.w-(paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).offsetLeft+paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).offsetWidth)}},notAutoFunctions:{move:function(){paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style["margin-"+paGlobal.plData[pli].mvc.side]=paGlobal.plData[pli].mvc.requiredSide+"px";paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style[paGlobal.plData[pli].mvc.side]=paGlobal.plData[pli].mvc.requiredSide+"px";document.dispatchEvent(paGlobal.fakeScroll)},reset:function(){paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style["margin-"+paGlobal.plData[pli].mvc.side]=paGlobal.plData[pli].mvc.oldMarginSide||"auto";paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).style[paGlobal.plData[pli].mvc.side]=paGlobal.plData[pli].mvc.oldSide||""},checkNow:function(){if(paGlobal.plData[pli].mvc.getOffsetSide()<paGlobal.plData[pli].mvc.requiredSide){paGlobal.plData[pli].mvc.notAutoFunctions.move();document.dispatchEvent(paGlobal.fakeScroll)}},checkWhenDone:function(){if(wfto){return}wfto=!0;var currentWidth=paGlobal.screenDimensions.w;function checkResize(){function checkNow(){if(currentWidth==paGlobal.screenDimensions.w){wfto=!1;paGlobal.plData[pli].mvc.notAutoFunctions.checkNow()}else{currentWidth=paGlobal.screenDimensions.w;setTimeout(function(){checkNow()},250)}}setTimeout(function(){checkNow()},250)}checkResize()}}};paGlobal.plData[pli].mvc.autoFunction=function(){var requiredWidth=paGlobal.select(paGlobal.pls[pli].ap.cp.cts.s).offsetWidth+paGlobal.plData[pli].mvc.requiredSide*2;if(paGlobal.screenDimensions.w<requiredWidth){paGlobal.plData[pli].mvc.autoFunctions.move()}else{paGlobal.plData[pli].mvc.autoFunctions.reset()}};if(paGlobal.plData[pli].mvc.marginIsAuto){paGlobal.plData[pli].mvc.autoFunction();window.addEventListener("resize",paGlobal.plData[pli].mvc.autoFunction,{passive:!0})}else{paGlobal.plData[pli].mvc.oldMarginSide=getComputedStyle(document.querySelector(paGlobal.pls[pli].ap.cp.cts.s))["margin-"+paGlobal.plData[pli].mvc.side];paGlobal.plData[pli].mvc.oldLeft=getComputedStyle(document.querySelector(paGlobal.pls[pli].ap.cp.cts.s))[paGlobal.plData[pli].mvc.side];var wfto=!1;paGlobal.plData[pli].mvc.notAutoFunctions.checkNow();window.addEventListener("resize",paGlobal.plData[pli].mvc.notAutoFunctions.checkWhenDone,{passive:!0})}},createInner:function(pli,ci){if(!paGlobal.marks.create_inner_start){performance.mark("create_inner_start");paGlobal.marks.create_inner_start=true}var ui=Object.keys(paGlobal.data).length;paGlobal.data[ui]={vidInDisp:{count:0},pli:parseInt(pli),ci:parseInt(ci),opened:!1,closed:!1,fv:!1,showable:{},demand:{cb:"",s:[paGlobal.pls[pli].st.s[0],paGlobal.pls[pli].st.s[1]],tn:0,skipIndex:{}},refresh:{started:!1,running:!1},listenFired:!1,refCount:0,googleImp:function(info){if(!paGlobal.data[ui].listenFired){paGlobal.data[ui].listenFired=!0;if(info.size&&info.size[0]==0&&info.slot&&info.slot&&info.slot.getSizes().includes("fluid")){paGlobal.data[ui].demand.fluid=!0}else{paGlobal.data[ui].demand.fluid=!1}if(info.isEmpty==!1){top.paGlobal.data[ui].impListener(!0)}else{top.paGlobal.data[ui].impListener(!1)}}},hbFunctions:{changeHeight:function(){function editHeights(){paGlobal.cData[ci].div.style.width="100%";paGlobal.cData[ci].div.style.maxWidth="100%";paGlobal.cData[ci].div.style.height="auto";paGlobal.data[ui].div.style.width="100%";paGlobal.data[ui].div.style.height="auto";try{var height;if(paGlobal.data[ui].frame.contentDocument.querySelector("iframe")){height=paGlobal.data[ui].frame.contentDocument.querySelector("iframe").contentDocument.querySelector("html").offsetHeight+"px"}else{height=paGlobal.data[ui].frame.contentDocument.querySelector("html").offsetHeight+"px"}paGlobal.data[ui].frame.style.height=height;paGlobal.data[ui].frame.contentDocument.querySelector("iframe").style.height="100%";paGlobal.data[ui].frame.contentDocument.querySelector("iframe").style.width="100%"}catch(e){console.error("apAds_line failed!!")}}var intervalRun=setInterval(function(){editHeights()},100);setTimeout(function(){clearInterval(intervalRun)},1500)},removeAd:function(){if(paGlobal.pls[pli].t=="adhesion"){paGlobal.pls[pli].st.cbp.cau=!0}paGlobal.remove(pli,ci,ui,"outer")},stopRefresh:function(){paGlobal.refresh.stop(pli,ci,ui)},hideAd:function(){setTimeout(function(){console.log("hideAd called");if(paGlobal.pls[paGlobal.data[ui].pli].t!="adhesion"){paGlobal.data[ui].div.style.height=0}paGlobal.cData[ci].div.style.visibility="hidden";paGlobal.data[ui].hbHide=!0},50)},newDiv:function(code){for(let i of paGlobal.selectAll("#pa-container-"+ci+" .pa-unit-global.pa-pl-"+pli)){var ui=i.id.split("-")[i.id.split("-").length-1];try{paGlobal.data[ui].div.style.display="none"}catch(e){}if(paGlobal.data[ui].refresh.running){paGlobal.refresh.stop(pli,ci,ui)}}var newDiv=document.createElement("div");newDiv.id=code;try{paGlobal.cData[ci].div.appendChild(newDiv);paGlobal.cData[ci].div.style.height="auto";paGlobal.cData[ci].div.style.width="auto";paGlobal.cData[ci].div.style.padding="";paGlobal.cData[ci].div.style["max-width"]="100%";paGlobal.cData[ci].div.style["max-height"]="100%"}catch(e){}}},impListener:function(imp){let cDemand;if(paGlobal.data[ui].vidInDisp.onVid){cDemand={name:"video",partner:"video"}}else if(paGlobal.pls[pli].d.live&&!paGlobal.data[ui].vidInDisp.onVid&&paGlobal.pls[pli].t!=="video"){cDemand=paGlobal.pls[pli].d.live[paGlobal.data[ui].demand.tn]}else{cDemand={partner:"video"}}if(paGlobal.pls[pli].d.type=="live"&&!paGlobal.data[ui].demand.cad&&!paGlobal.data[ui].vidInDisp.onVid&&paGlobal.pls[pli].t!=="video"&&paGlobal.pls[pli].t!=="headerVideo"){paGlobal.sendReport(paGlobal.x({type:"req",pl:parseInt(pli),partnerName:cDemand.name||cDemand.partner,refreshCount:paGlobal.data[ui].refCount,imp:imp?1:0,linkNumber:cDemand.linkNumber,hbTagName:cDemand.hbTagName,hbSizes:cDemand.hbSizes,unitName:cDemand.unitName}))}paGlobal.data[ui].eosnf=false;if(imp){if(paGlobal.pls[pli].t=="headerVideo"){if(!paGlobal.cData[ci].impWaiting){paGlobal.log.info("header video waiting for second impression");paGlobal.cData[ci].impWaiting=!0;return}if(paGlobal.data[ui].vidInfo){paGlobal.data[ui-1].impListener(!0)}}if(paGlobal.bl&&!paGlobal.checkBl(paGlobal.data[ui].frame)){paGlobal.log.info("unit "+ui+" (pl "+pli+") fill blocked due to blacklist");return paGlobal.data[ui].impListener(!1)}paGlobal.log.info("unit "+ui+" (pl "+pli+") impression from: "+paGlobal.data[ui].demand.cb);paGlobal.pls[pli].flowStatus="got impression";paGlobal.plData[pli].ouf=!0;paGlobal.plData[pli].uwff--;paGlobal.data[ui].hbHide=!1;paGlobal.data[ui].opened=!0;if(paGlobal.pls[pli].d.type=="live"&&!paGlobal.data[ui].demand.cad&&cDemand.skipRefresh){paGlobal.data[ui].demand.skipIndex[paGlobal.data[ui].demand.tn]=!0}if(paGlobal.pls[pli].st.cb){paGlobal.addClsBtn(pli,ci,ui)}if(paGlobal.pls[pli].vao.adh.on&&(!paGlobal.pls[pli].d.live||paGlobal.pls[pli].d.live&&!paGlobal.data[ui].demand.cad&&cDemand.name!=="adsense")){paGlobal.addAdHeading(pli,ci,ui)}if(paGlobal.pls[pli].vao.lg.on&&(!paGlobal.pls[pli].d.live||paGlobal.pls[pli].d.live&&!paGlobal.data[ui].demand.cad&&cDemand.name!=="adsense")){paGlobal.addLogo(pli,ci,ui)}if(paGlobal.pls[pli].t=="multiInsert"&&paGlobal.pls[pli].mp.cp.stk){if(!paGlobal.cData[ci].stickyWasSet){if(paGlobal.data[ui].viewability&&!Object.values(paGlobal.data[ui].showable).includes(!1)){paGlobal.setTimedSticky(pli,ci,ui)}else{paGlobal.cData[ci].timesdStickyWaiting=!0}}}if(paGlobal.data[ui].op){paGlobal.data[ui].div.removeEventListener("mouseover",paGlobal.data[ui].op.of);paGlobal.cData[ci].div.removeEventListener("mouseleave",paGlobal.data[ui].op.op)}paGlobal.data[ui].demand.cs=paGlobal.data[ui].demand.s;if(paGlobal.pls[pli].t=="adhesion"){if(paGlobal.pls[pli].ap.cp.cts.m&&paGlobal.pls[pli].ap.cp.s!="both"){if(!paGlobal.pls[pli].ap.cp.cts.s){paGlobal.pls[pli].ap.cp.cts.s=paGlobal.pls[pli].ap.cp.cs}paGlobal.moveContent(pli,ci,ui)}if(paGlobal.pls[pli].ap.cp.cts.sq){if(!paGlobal.pls[pli].ap.cp.cts.s){paGlobal.pls[pli].ap.cp.cts.s=paGlobal.pls[pli].ap.cp.cs}paGlobal.squeezeContent(pli,ci,ui);var fakeResize=new Event("resize");window.dispatchEvent(fakeResize)}if(paGlobal.pls[pli].ap.cp.mvtc.on){if(paGlobal.data[ui].demand.s[0]==paGlobal.pls[pli].ap.cp.mvtc.ios[0]&&paGlobal.data[ui].demand.s[1]==paGlobal.pls[pli].ap.cp.mvtc.ios[1]){if(typeof paGlobal.plData[pli].oldDefault=="undefined"||paGlobal.plData[pli].oldDefault==null){paGlobal.plData[pli].oldDefault=parseInt(paGlobal.data[ui].div.style.top);paGlobal.log.info("adhesion units of (pl "+pli+") Initiating move to corner");paGlobal.plData[pli].units.forEach(unit=>{var ui=unit.ui;var pli=unit.pli;var ci=unit.ci;paGlobal.data[ui].div.style.right=null;paGlobal.data[ui].div.style.left=null;paGlobal.data[ui].div.style[paGlobal.cData[ci].adhesionSide]=paGlobal.pls[pli].ap.cp.mvtc.os.a+paGlobal.pls[pli].ap.cp.mvtc.os.t});var offsetPx=paGlobal.pls[pli].ap.cp.mvtc.ob.t=="px"?paGlobal.pls[pli].ap.cp.mvtc.ob.a:paGlobal.percentToPx(paGlobal.screenDimensions.h,paGlobal.pls[pli].ap.cp.mvtc.ob.a);paGlobal.plData[pli].defaultTop=paGlobal.getOneStyle.adhesion.inner.top({pt:"bottom",pa:offsetPx},paGlobal.pls[pli].st.s[1]);paGlobal.plData[pli].calculateAllUnits()}}else if(typeof paGlobal.plData[pli].oldDefault!="undefined"||paGlobal.plData[pli].oldDefault!=null){paGlobal.plData[pli].units.forEach(unit=>{var ui=unit.ui;paGlobal.data[ui].div.style.right=0;paGlobal.data[ui].div.style.left=0});paGlobal.plData[pli].defaultTop=paGlobal.plData[pli].oldDefault;paGlobal.plData[pli].oldDefault=null;paGlobal.plData[pli].calculateAllUnits()}}}paGlobal.openAd(pli,ci,ui);paGlobal.cData[ci].div.style.visibility="unset";if(!paGlobal.data[ui].fi){paGlobal.data[ui].fi=!0;if(paGlobal.pls[pli].to.rem){setTimeout(function(){paGlobal.remove(pli,ci,ui,"outer")},paGlobal.pls[pli].to.rem)}}try{paGlobal.data[ui].div.querySelector("iframe.current-frame").remove()}catch(e){}paGlobal.data[ui].frame.className="current-frame";paGlobal.data[ui].frame.style.display="block";if(paGlobal.pls[pli].t=="adhesion"){if(paGlobal.cData[ci].adhesionSide&&paGlobal.cData[ci].adhesionSide=="left"){try{var frameDoc=paGlobal.data[ui].frame.contentDocument;frameDoc.querySelector("img").style.position="absolute";frameDoc.querySelector("img").style.right=0}catch(e){try{frameDoc.querySelector("iframe").style.position="absolute";frameDoc.querySelector("iframe").style.right=0}catch(e){try{frameDoc.querySelector("div").style.position="absolute";frameDoc.querySelector("div").style.right=0}catch(e){}}try{frameDoc.querySelector("iframe").contentDocument.querySelector("html").style.position="absolute";frameDoc.querySelector("iframe").contentDocument.querySelector("html").style.right=0}catch(e){}}}}if(paGlobal.pls[pli].to.r&&!paGlobal.data[ui].demand.cad){paGlobal.refresh.start(pli,ci,ui,paGlobal.pls[pli].to.r)}switch(paGlobal.pls[pli].t){case"interstitial":paGlobal.cData[ci].div.style.height="100%";break;case"multiInsert":if(paGlobal.pls[pli].mp.cp.fold&&paGlobal.pls[pli].d.type=="direct"){if(!paGlobal.data[ui].foldCalled){paGlobal.data[ui].foldCalled=!0;paGlobal.foldingAd(pli,ui)}}if(paGlobal.pls[pli].mp.cp.st.p){paGlobal.cData[ci].div.style.padding=paGlobal.pls[pli].mp.cp.st.p}if(paGlobal.pls[pli].mp.cp.st.m&&!paGlobal.cData[ci].isSticking){paGlobal.cData[ci].div.style.margin=paGlobal.pls[pli].mp.cp.st.m}if(paGlobal.pls[pli].mp.ip.m){paGlobal.data[ui].div.style.margin=paGlobal.pls[pli].mp.ip.m}if(paGlobal.pls[pli].mp.cp.st.b){paGlobal.cData[ci].div.style.border=paGlobal.pls[pli].mp.cp.st.b}if(paGlobal.pls[pli].mp.cp.st.br.a){paGlobal.cData[ci].div.style["border-radius"]=paGlobal.pls[pli].mp.cp.st.br.a+paGlobal.pls[pli].mp.cp.st.br.t}break;case"adhesion":break;case"stickyBottom":if(!paGlobal.data[ui].fha&&paGlobal.pls[pli].sbp.cp.afh&&paGlobal.select(paGlobal.pls[pli].sbp.cp.afh)){paGlobal.data[ui].fha=!0;paGlobal.select(paGlobal.pls[pli].sbp.cp.afh).style.height=paGlobal.select(paGlobal.pls[pli].sbp.cp.afh).offsetHeight+(paGlobal.data[ui].demand.cs[1]+paGlobal.pls[pli].sbp.cp.afha)+"px"}if(paGlobal.pls[pli].sbp.cp.pd){paGlobal.cData[ci].div.style.paddingTop=paGlobal.pls[pli].sbp.cp.pd+"px"}break;case"stickyTop":if(paGlobal.pls[pli].stp.cp.pd){paGlobal.cData[ci].div.style.paddingBottom=paGlobal.pls[pli].stp.cp.pd+"px"}if(paGlobal.pls[pli].stp.cp.bodyMarginTop){document.body.style.transition=getComputedStyle(document.body).transition+", margin-top 0.5s";paGlobal.oldBodyMarginTop=document.body.style.marginTop||getComputedStyle(document.body).marginTop;document.body.style.marginTop=paGlobal.pls[pli].stp.cp.bodyMarginTop+"px"}break}if(paGlobal.data[ui].demand.cad){paGlobal.data[ui].demand.cad=!1}paGlobal.data[ui].gotImp=true}else{paGlobal.log.info("unit "+ui+" (pl "+pli+") no impression from: "+paGlobal.data[ui].demand.cb);if(paGlobal.pls[pli].d.type=="live"&&!paGlobal.data[ui].demand.cad&&cDemand.skipRefresh&&!cDemand.skipRefreshImpOnly){paGlobal.data[ui].demand.skipIndex[paGlobal.data[ui].demand.tn]=!0}paGlobal.data[ui].demand.tn++;if(paGlobal.pls[pli].d.type=="live"&&!paGlobal.data[ui].demand.cad&&paGlobal.data[ui].demand.tn<paGlobal.pls[pli].d.live.length){setTimeout(()=>{paGlobal.writeDoc(pli,ci,ui)},0)}else{paGlobal.log.info("unit "+ui+" (pl "+pli+") end of stack with no fill");paGlobal.plData[pli].uwff--;paGlobal.data[ui].eosnf=true;paGlobal.data[ui].frame.remove();if(paGlobal.pls[pli].d.eospb&&!paGlobal.plData[pli].ouf&&!paGlobal.pls[pli].d.deos){if(!paGlobal.plData[pli].uwff){paGlobal.log.info(pli+" no impression passback activated");paGlobal.pls[pli].st.cbp.cau=!0;paGlobal.remove(pli,ci,ui,"outer");if(paGlobal.pls[paGlobal.pls[pli].d.eospb]&&paGlobal.pls[paGlobal.pls[pli].d.eospb].s=="pb"){paGlobal.log.info(pli+" all units removed, no impression passback calling "+paGlobal.pls[pli].d.eospb);paGlobal.startInject(paGlobal.pls[pli].d.eospb)}else{paGlobal.log.warn("couldn't find placement "+paGlobal.pls[pli].d.eospb+", passback canceled")}}return}if(paGlobal.pls[pli].d.deos){paGlobal.data[ui].demand.cad=!0;paGlobal.log.info("unit: "+ui+"(pl "+pli+") running direct at end of stack");paGlobal.pls[pli].flowStatus="direct end of stack";setTimeout(()=>{paGlobal.writeDoc(pli,ci,ui)},0)}if(paGlobal.pls[pli].to.nir){paGlobal.refresh.start(pli,ci,ui,paGlobal.pls[pli].to.nir)}else if(!paGlobal.pls[pli].to.roio&&paGlobal.pls[pli].to.r){paGlobal.refresh.start(pli,ci,ui,paGlobal.pls[pli].to.r)}}}paGlobal.data[ui].refCount++}};paGlobal.data[ui].div=document.createElement("div");paGlobal.data[ui].div.classList.add("pa-unit-global","pa-pl-"+pli);paGlobal.data[ui].div.id="pa-unit-"+ui;paGlobal.data[ui].div.style=paGlobal.getInnerStyles(pli,ci,ui);if(paGlobal.pls[pli].t!=="interstitial"&&paGlobal.pls[pli].t!=="stickyBottom"&&paGlobal.pls[pli].t!=="stickyTop"){paGlobal.data[ui].observerPx=paGlobal.observerPixel(paGlobal.data[ui].div)}paGlobal.cData[ci].div.appendChild(paGlobal.data[ui].div);switch(paGlobal.pls[pli].t){case"adhesion":paGlobal.data[ui].observerPx.style.height=paGlobal.pls[pli].st.s[1]+"px";paGlobal.data[ui].observerPx.style.width="1px";if(paGlobal.cData[ci].adhesionSide==="right"){paGlobal.data[ui].observerPx.style.left="-1px"}paGlobal.plData[pli].units.push({pli:pli,ci:ci,ui:ui});if(paGlobal.plData[pli].aou<2){paGlobal.plData[pli].defaultTop=paGlobal.getOneStyle.adhesion.inner.top(paGlobal.pls[pli].ap.ip,paGlobal.pls[pli].st.s[1]);paGlobal.plData[pli].unitHeight=paGlobal.getHeight(paGlobal.pls[pli].st.s[1],pli);if(!paGlobal.pls[pli].ap.cp.sa.ns){if(paGlobal.pls[pli].ap.cp.head||paGlobal.pls[pli].ap.cp.oh){paGlobal.plData[pli].activateAdjustmentsHeader(pli)}if(paGlobal.pls[pli].ap.cp.foot||paGlobal.pls[pli].ap.cp.of){paGlobal.plData[pli].activateAdjustmentsFooter(pli)}if(paGlobal.pls[pli].ap.cp.sa.px){paGlobal.plData[pli].activateAdjustmentsSA(pli,ci,ui,paGlobal.pls[pli].ap.cp.sa.px+paGlobal.plData[pli].defaultTop)}if(paGlobal.pls[pli].ap.cp.sa.t){paGlobal.plData[pli].keepAtPx=function(){var containerTop=window.pageYOffset;paGlobal.plData[pli].units.forEach(unit=>{paGlobal.cData[unit.ci].div.style.position="absolute";paGlobal.cData[unit.ci].div.style.top=containerTop+"px"})};setTimeout(function(){paGlobal.plData[pli].resetObservers(pli);paGlobal.plData[pli].keepAtPx()},paGlobal.pls[pli].ap.cp.sa.t)}}}paGlobal.plData[pli].calculateAllUnits();break;case"stickyBottom":var wfto=!1;paGlobal.data[ui].reCalculate=function(){if(!wfto){setTimeout(function(){paGlobal.data[ui].div.style["margin-left"]=paGlobal.selectRect(paGlobal.pls[pli].sbp.ip.ctn).left+paGlobal.selectRect(paGlobal.pls[pli].sbp.ip.ctn).width/2-(paGlobal.data[ui].demand.cs&&paGlobal.data[ui].demand.cs[0]||paGlobal.pls[pli].st.s[0])/2+"px";wfto=!1},150);wfto=!0}};if(paGlobal.pls[pli].sbp.ip.ctn&&paGlobal.select(paGlobal.pls[pli].sbp.ip.ctn)){window.addEventListener("resize",paGlobal.data[ui].reCalculate,{passive:!0})}if(paGlobal.pls[pli].sbp.cp.on){var wfto2=!1;paGlobal.data[ui].reCalculateOffset=function(){if(!wfto2){setTimeout(function(){if(paGlobal.select(paGlobal.pls[pli].sbp.cp.on)&&parseInt(paGlobal.selectRect(paGlobal.pls[pli].sbp.cp.on).bottom/10,10)*10==parseInt(paGlobal.screenDimensions.h/10,10)*10){paGlobal.cData[ci].div.style.bottom=paGlobal.selectRect(paGlobal.pls[pli].sbp.cp.on).height+"px"}else{paGlobal.cData[ci].div.style.bottom=paGlobal.pls[pli].sbp.cp.oh+"px"}wfto2=!1},75);wfto2=!0}};document.addEventListener("scroll",paGlobal.data[ui].reCalculateOffset,{passive:!0})}break;case"stickyTop":var wfto=!1;paGlobal.data[ui].reCalculate=function(){if(!wfto){setTimeout(function(){paGlobal.data[ui].div.style["margin-left"]=paGlobal.selectRect(paGlobal.pls[pli].stp.ip.ctn).left+paGlobal.selectRect(paGlobal.pls[pli].stp.ip.ctn).width/2-(paGlobal.data[ui].demand.cs&&paGlobal.data[ui].demand.cs[0]||paGlobal.pls[pli].st.s[0])/2+"px";wfto=!1},150);wfto=!0}};if(paGlobal.pls[pli].stp.ip.ctn&&paGlobal.select(paGlobal.pls[pli].stp.ip.ctn)){window.addEventListener("resize",paGlobal.data[ui].reCalculate,{passive:!0})}if(paGlobal.pls[pli].stp.cp.on){var wfto2=!1;paGlobal.data[ui].reCalculateOffset=function(){if(!wfto2){setTimeout(function(){if(paGlobal.select(paGlobal.pls[pli].stp.cp.on)&&parseInt(paGlobal.selectRect(paGlobal.pls[pli].stp.cp.on).top/10,10)*10<5&&parseInt(paGlobal.selectRect(paGlobal.pls[pli].stp.cp.on).top/10,10)*10>-5){paGlobal.cData[ci].div.style.top=paGlobal.selectRect(paGlobal.pls[pli].stp.cp.on).height+"px"}else{paGlobal.cData[ci].div.style.top=paGlobal.pls[pli].stp.cp.oh+"px"}wfto2=!1},75);wfto2=!0}};document.addEventListener("scroll",paGlobal.data[ui].reCalculateOffset,{passive:!0})}break;case"rail":var wfto=!1;paGlobal.data[ui].reCalculate=function(){if(!wfto){setTimeout(function(){paGlobal.data[ui].div.style.maxHeight=paGlobal.cData[ci].div.offsetHeight+"px";wfto=!1},1500);wfto=!0}};document.addEventListener("scroll",paGlobal.data[ui].reCalculate,{passive:!0});break;case"video":paGlobal.data[ui].vidInfo={vid:null,width:paGlobal.pls[pli].vidp.mxw+paGlobal.pls[pli].vidp.mxwt,tags:paGlobal.pls[pli].vidp.tags,maxVids:paGlobal.pls[pli].vidp.maxVids};if(paGlobal.pls[pli].vidp.t=="headerFullPage"){var scrollNoteDiv=document.createElement("div");paGlobal.data[ui].div.appendChild(scrollNoteDiv);scrollNoteDiv.style="display: flex;transition: top 0.5s, height 1.5s ease; position: fixed;top: 0;left: 0;right: 0;width: 100%;height: 0;overflow: hidden;z-index:3;font-size: 25px;font-family: cursive;align-items: center;justify-content:center;background: radial-gradient(circle at 50% 100%, lightgrey, transparent);";scrollNoteDiv.innerHTML="<span>&#x21e3; Scroll for content &#x21e3;</span>";paGlobal.data[ui].vidInfo.scrollNoteDiv=scrollNoteDiv}break;case"headerVideo":if(paGlobal.cData[ci].u==1){paGlobal.data[ui].vidInfo={vid:null,tags:paGlobal.pls[pli].hvidp.tags,maxVids:paGlobal.pls[pli].hvidp.maxVids||1,width:paGlobal.data[ui].div.offsetWidth,height:paGlobal.data[ui].div.offsetHeight}}break}paGlobal.log.info("unit "+ui+" (pl "+pli+") inner div created");paGlobal.pls[pli].flowStatus="unit created";if(paGlobal.atvc){document.addEventListener("visibilitychange",()=>{paGlobal.plUnits.forEach(u=>paGlobal.listen.viewListener(u.pli,u.ci,u.ui))})}if(paGlobal.pls[pli].t!="video"||paGlobal.vidFunctions.stats){paGlobal.plUnits.push({pli:pli,ci:ci,ui:ui});paGlobal.listen.view(parseInt(pli),ci,ui)}else{if(paGlobal.pls[pli].vidp.t=="headerFullPage"){paGlobal.plUnits.push({pli:pli,ci:ci,ui:ui});paGlobal.listen.view(parseInt(pli),ci,ui)}else{paGlobal.video(pli,ci,ui)}}if(paGlobal.pls[pli].rl.s.r){paGlobal.rOnSelector(pli,ci,ui)}paGlobal.cData[ci].u++;if(paGlobal.pls[pli].t=="multiInsert"){if(paGlobal.pls[pli].mp.ip.multi&&paGlobal.cData[ci].u<paGlobal.pls[pli].mp.ip.multi){var totalWidth=0;for(let i=0;i<paGlobal.cData[ci].u;i++){totalWidth+=paGlobal.pls[pli].st.s[0]+5}if(totalWidth+paGlobal.pls[pli].st.s[0]+5<paGlobal.cData[ci].div.offsetWidth){paGlobal.createInner(pli,ci)}}}if(paGlobal.pls[pli].t=="headerVideo"){if(paGlobal.cData[ci].u<2){paGlobal.createInner(pli,ci)}}return ui},addGoogleInterstitial:function(pli){paGlobal.log.info("pl "+pli+" Adding Google Interstitial");if(!paGlobal.pls[pli].gip.code){paGlobal.log.err("Can't add google interstitial without unit code!");return}if(!paGlobal.select('script[src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"]')){var googIntS=document.createElement("script");googIntS.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js";googIntS.async=!0;document.querySelector("head").appendChild(googIntS)}window.googletag=window.googletag||{cmd:[]};googletag.cmd.push(function(){var GAM_CODE="/90814396/";if(paGlobal.pls[pli].gip.code.startsWith(",")){GAM_CODE="/90814396"}int=googletag.defineOutOfPageSlot(GAM_CODE+paGlobal.pls[pli].gip.code,googletag.enums.OutOfPageFormat.INTERSTITIAL);if(int){int.addService(googletag.pubads());googletag.pubads().addEventListener("slotRenderEnded",info=>{if(info.slot==int){if(!info.isEmpty){paGlobal.log.info("pl "+pli+" (Google Interstitial) Impression Ready")}else{paGlobal.log.info("pl "+pli+" (Google Interstitial) No Impression")}document.querySelector("#pa-goog-int-oop").style.display="none"}});googletag.defineSlot("/90814396/interstitial_oop_1x1",[1,1],"pa-goog-int-oop").addService(googletag.pubads());googletag.pubads().enableSingleRequest();googletag.enableServices();googletag.display(int);if(googletag.pubads().isInitialLoadDisabled()){googletag.pubads().refresh([int])}}else{paGlobal.log.err("pl "+pli+" Failed to add Google Interstitial (failed by google)")}});var div=document.createElement("div");div.id="pa-goog-int-oop";div.style.display="none";var script=document.createElement("script");script.innerHTML='googletag.cmd.push(function(){googletag.display("pa-goog-int-oop");});';document.querySelector("body").appendChild(div);div.appendChild(script)},addOutbrain:function(pli){paGlobal.log.info("pl "+pli+"Adding outbrain");if(!paGlobal.select(paGlobal.pls[pli].obp.s)){paGlobal.log.warn("can't add outbrain widget, selector not found");return}var div=document.createElement("div");div.classList.add("OUTBRAIN");div.setAttribute("data-src",window.location.href);div.setAttribute("data-widget-id",paGlobal.pls[pli].obp.wId);var script=document.createElement("script");script.src="//widgets.outbrain.com/outbrain.js";script.setAttribute("async","async");paGlobal.select(paGlobal.pls[pli].obp.s)[paGlobal.pls[pli].obp.im](div);div.after(script)},addLogo:function(pli,ci,ui){if(paGlobal.pls[pli].vao.lg.loc==="container"&&paGlobal.cData[ci].logoAdded){return}if(paGlobal.pls[pli].vao.lg.loc==="inner"&&paGlobal.data[ui].logoAdded){return}paGlobal.data[ui].logo=document.createElement("a");paGlobal.data[ui].logo.href="https://nextmillennium.io/";paGlobal.data[ui].logo.target="blank";paGlobal.data[ui].logo.classList.add("nmm-logo");const svgBackground=`background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' width='87.912px' height='87.912px' viewBox='0 0 87.912 87.912'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpolygon fill='%23EB4B4F' points='8.323,11.869 34.38,48.059 8.323,84.249 16.15,84.249 22.378,75.597 38.293,53.495 42.206,48.059 38.293,42.624 22.378,20.52 16.15,11.869'/%3E%3Cpolygon fill='%2358595B' points='47.979,29.17 39.94,40.336 43.853,45.773 55.807,29.17'/%3E%3Cpolygon fill='%2358595B' points='56.583,68.025 43.853,50.346 39.94,55.782 48.756,68.025'/%3E%3C/g%3E%3C/g%3E%3Cg%3E%3Cpolygon fill='%2358595B' points='46.822,69.853 47.401,69.853 49.249,72.62 51.095,69.853 51.675,69.853 51.675,74.922 51.103,74.922 51.103,70.817 49.256,73.533 49.227,73.533 47.38,70.824 47.38,74.922 46.822,74.922 46.822,69.853'/%3E%3Cpolygon fill='%23EB4B4F' points='51.964,69.853 52.543,69.853 54.39,72.62 56.236,69.853 56.815,69.853 56.815,74.922 56.243,74.922 56.243,70.817 54.397,73.533 54.368,73.533 52.521,70.824 52.521,74.922 51.964,74.922 51.964,69.853'/%3E%3Cpolygon fill='%23EB4B4F' points='42.085,69.853 42.91,69.853 45.626,73.359 45.626,69.853 46.503,69.853 46.503,74.923 45.757,74.923 42.961,71.316 42.961,74.923 42.085,74.923'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");`;paGlobal.data[ui].logo.style="display: block; background-color: #fff; transform-origin: bottom left; transition: transform 0.4s; position: absolute;"+svgBackground+"background-size: contain; background-repeat: no-repeat; left: 0px; bottom: 0px; border-radius: 0 100% 0 0; opacity: 0.8; z-index: 2; width:"+paGlobal.pls[pli].vao.lg.w+"px; height:"+paGlobal.pls[pli].vao.lg.w+"px";if(!paGlobal.logoHoverStyleAdd){const styleRules=document.createElement("style");styleRules.innerHTML=".nmm-logo:hover{transform: scale(1.3); opacity:1}";document.head.appendChild(styleRules)}if(paGlobal.pls[pli].vao.lg.loc==="inner"){paGlobal.data[ui].div.appendChild(paGlobal.data[ui].logo)}else{if(paGlobal.pls[pli].t==="multiInsert"){paGlobal.data[ui].logo.style.margin=paGlobal.pls[pli].mp.cp.st.p}if(paGlobal.pls[pli].t==="stickyTop"){paGlobal.data[ui].logo.style.marginBottom=paGlobal.pls[pli].stp.cp.pd+"px"}paGlobal.cData[ci].div.appendChild(paGlobal.data[ui].logo)}paGlobal.logoHoverStyleAdd=!0;paGlobal.cData[ci].logoAdded=!0;paGlobal.data[ui].logoAdded=!0},addAdHeading:function(pli,ci,ui){if(paGlobal.plData[pli].adHeadingAdded){return}let selector;if(paGlobal.pls[pli].t==="multiInsert"){selector=".pa-global-class.pa-pl-"+pli}else{selector=".pa-unit-global.pa-pl-"+pli}const styleRules=document.createElement("style");styleRules.innerHTML=selector+"::before { content: 'ADVERTISEMENT';width: 100%;height: 25px;display: block;text-align: center;line-height: 23px;opacity: 0.7;font-family: sans-serif;font-size: 11px;color:"+paGlobal.pls[pli].vao.adh.c+"}";document.head.appendChild(styleRules);paGlobal.plData[pli].adHeadingAdded=!0},setTimedSticky(pli,ci,ui){paGlobal.cData[ci].resetTimedSticky=(pli,ci,ui)=>{document.removeEventListener("scroll",paGlobal.cData[ci].reCalculateOffset);paGlobal.cData[ci].div.style.top="";paGlobal.cData[ci].div.style.removeProperty("top");paGlobal.cData[ci].div.style.left="";paGlobal.cData[ci].div.style.removeProperty("left");paGlobal.cData[ci].div.style.margin=paGlobal.pls[pli].mp.cp.st.m;paGlobal.cData[ci].div.style.background=paGlobal.pls[pli].st.contBck;paGlobal.cData[ci].div.style.zIndex=paGlobal.pls[pli].st.zi;paGlobal.cData[ci].div.style.width=paGlobal.pls[pli].mp.cp.st.w.a?paGlobal.pls[pli].mp.cp.st.w.a+paGlobal.pls[pli].mp.cp.st.w.t:"";paGlobal.cData[ci].stickObsPx.style.height="0px";paGlobal.cData[ci].stickObsPx.style.width="1px";paGlobal.cData[ci].stickObsPx.style.margin="0px";paGlobal.cData[ci].div.style.position=paGlobal.pls[pli].mp.cp.p;paGlobal.cData[ci].isSticking=!1};paGlobal.cData[ci].stickObsPx=paGlobal.observerPixel(paGlobal.cData[ci].div,0,"","","","beforebegin");paGlobal.cData[ci].stickObsPx.style.position="static";paGlobal.cData[ci].stickObsPx.style.width="1px";paGlobal.cData[ci].stickyObs=paGlobal.listen.observer(paGlobal.cData[ci].stickObsPx,{threshold:1,rootMargin:"0px"},e=>{if(!paGlobal.cData[ci].obsOnce){paGlobal.cData[ci].obsOnce=!0;return}if(e.isIntersecting){if(paGlobal.cData[ci].isSticking){paGlobal.cData[ci].resetTimedSticky(pli,ci,ui)}}else if(!paGlobal.pls[pli].mp.cp.stkp.nb||e.boundingClientRect.y<0){paGlobal.cData[ci].div.style.top=paGlobal.pls[pli].mp.cp.stkp.ot+"px";paGlobal.cData[ci].div.style.background=paGlobal.pls[pli].mp.cp.stkp.b;paGlobal.cData[ci].stickObsPx.style.height=paGlobal.cData[ci].div.offsetHeight+"px";paGlobal.cData[ci].stickObsPx.style.width=paGlobal.cData[ci].div.offsetWidth+"px";paGlobal.cData[ci].stickObsPx.style.margin=paGlobal.pls[pli].mp.cp.st.m;paGlobal.cData[ci].div.style.position="fixed";paGlobal.cData[ci].div.style.margin=`0px ${paGlobal.pls[pli].mp.cp.stkp.m||""}`;paGlobal.cData[ci].isSticking=!0;if(paGlobal.pls[pli].mp.cp.stkp.w){paGlobal.cData[ci].div.style.width="100vw";paGlobal.cData[ci].div.style.left="0px"}if(paGlobal.pls[pli].mp.cp.stkp.zi){paGlobal.cData[ci].div.style.zIndex=paGlobal.pls[pli].mp.cp.stkp.zi}if(paGlobal.pls[pli].mp.cp.stkp.on&&paGlobal.select(paGlobal.pls[pli].mp.cp.stkp.on)){var wfto2=!1;paGlobal.cData[ci].reCalculateOffset=function(){if(!wfto2){setTimeout(function(){if(paGlobal.select(paGlobal.pls[pli].mp.cp.stkp.on)&&parseInt(paGlobal.selectRect(paGlobal.pls[pli].mp.cp.stkp.on).top/10,10)*10<5&&parseInt(paGlobal.selectRect(paGlobal.pls[pli].mp.cp.stkp.on).top/10,10)*10>-5){paGlobal.cData[ci].div.style.top=paGlobal.selectRect(paGlobal.pls[pli].mp.cp.stkp.on).height+"px"}else{paGlobal.cData[ci].div.style.top=paGlobal.pls[pli].mp.cp.stkp.ot+"px"}wfto2=!1},75);wfto2=!0}};document.addEventListener("scroll",paGlobal.cData[ci].reCalculateOffset,{passive:!0})}}});setTimeout(()=>{paGlobal.cData[ci].resetTimedSticky(pli,ci,ui);paGlobal.cData[ci].stickyObs.disconnect()},paGlobal.pls[pli].mp.cp.stkp.d*1e3);paGlobal.cData[ci].stickyWasSet=!0},addClsBtn:function(pli,ci,ui){if(paGlobal.pls[pli].st.cbp.p.d!="inner"&&paGlobal.cData[ci].clsBtnAdded){return}if(paGlobal.pls[pli].st.cbp.p.d=="inner"&&paGlobal.data[ui].clsBtnAdded){return}paGlobal.cData[ci].clsBtnAdded=!0;paGlobal.data[ui].clsBtnAdded=!0;paGlobal.data[ui].clsBtn=document.createElement("div");paGlobal.data[ui].clsBtn.style="text-align:center;position:"+paGlobal.pls[pli].st.cbp.p.p+";border-radius:"+paGlobal.pls[pli].st.cbp.br+paGlobal.pls[pli].st.cbp.brt+";background:"+paGlobal.pls[pli].st.cbp.bg+";color:"+paGlobal.pls[pli].st.cbp.c+";"+paGlobal.pls[pli].st.cbp.p.os.hp+":"+paGlobal.pls[pli].st.cbp.p.os.ho+paGlobal.pls[pli].st.cbp.p.os.hot+";"+paGlobal.pls[pli].st.cbp.p.os.vp+":"+paGlobal.pls[pli].st.cbp.p.os.vo+paGlobal.pls[pli].st.cbp.p.os.vot+";width:"+paGlobal.pls[pli].st.cbp.s[0].a+paGlobal.pls[pli].st.cbp.s[0].t+";height:"+paGlobal.pls[pli].st.cbp.s[1].a+paGlobal.pls[pli].st.cbp.s[1].t+";font-size:"+paGlobal.pls[pli].st.cbp.fs+"px;"+"font-weight:"+paGlobal.pls[pli].st.cbp.fw+";padding:"+paGlobal.pls[pli].st.cbp.pd+"px;font-family:"+paGlobal.pls[pli].st.cbp.ff+";z-index:"+paGlobal.pls[pli].st.cbp.zi+";cursor:pointer;overflow: hidden;pointer-events:auto;";paGlobal.data[ui].clsBtn.className="cls-btn";var appendToDiv;if(paGlobal.pls[pli].st.cbp.p.d=="inner"){appendToDiv=paGlobal.data[ui].div}else{appendToDiv=paGlobal.cData[ci].div}setTimeout(function(){appendToDiv.appendChild(paGlobal.data[ui].clsBtn);paGlobal.data[ui].activeSafeDiv=function(){if(paGlobal.data[ui].op){paGlobal.data[ui].op.safeActive=!0}};paGlobal.data[ui].deactiveSafeDiv=function(){if(paGlobal.data[ui].op){paGlobal.data[ui].op.safeActive=!1}};if(paGlobal.pls[pli].st.cbp.cbsd.on){appendSafeDiv()}if(paGlobal.pls[pli].vp.op&&paGlobal.pls[pli].vp.op.on){if(paGlobal.data[ui].op){paGlobal.data[ui].op.safeActive=!1}paGlobal.data[ui].clsBtn.addEventListener("mouseover",paGlobal.data[ui].activeSafeDiv);paGlobal.data[ui].clsBtn.addEventListener("mouseleave",paGlobal.data[ui].deactiveSafeDiv)}var lineHeightSet=setInterval(function(){paGlobal.data[ui].clsBtn.style.lineHeight=paGlobal.data[ui].clsBtn.offsetHeight-parseFloat(paGlobal.data[ui].clsBtn.style.padding.split("px")[0])*2+"px"},50);setTimeout(function(){clearTimeout(lineHeightSet)},600);var cbt=document.createElement("div");cbt.style="position: absolute;top: 0;bottom: 0;right: 0;width: 100%;background: rgb(0,0,0,0.5);";paGlobal.data[ui].clsBtn.appendChild(cbt);var cbtNum=document.createElement("span");cbtNum.style="color:"+paGlobal.pls[pli].st.cbp.cdc+";position:absolute;right:0;left:0;top:0;bottom:0;height:100%;width:100%;";paGlobal.data[ui].clsBtn.appendChild(cbtNum);var cltNumber=paGlobal.pls[pli].st.cbp.cd/1e3;var cltPercentJumps=100/cltNumber;var cltPercent=100;cbtNum.innerText=cltNumber;var cltInt=setInterval(function(){cltPercent-=cltPercentJumps;cbt.style.width=cltPercent+"%";cltNumber--;cbtNum.innerHTML=cltNumber},1e3);setTimeout(function(){paGlobal.data[ui].clsBtn.innerHTML="X";clearInterval(cltInt);try{cbtNum.remove();cbt.remove()}catch(e){}paGlobal.data[ui].clsBtn.addEventListener("click",function(){paGlobal.remove(pli,ci,ui)})},paGlobal.pls[pli].st.cbp.cd)},paGlobal.pls[pli].st.cbp.d);function appendSafeDiv(){paGlobal.data[ui].div.style.overflow="visible";paGlobal.cData[ci].div.style.overflow="visible";paGlobal.data[ui].safeDiv=document.createElement("div");paGlobal.data[ui].clsBtn.before(paGlobal.data[ui].safeDiv);paGlobal.data[ui].safeDiv.style="position:absolute;"+paGlobal.pls[pli].st.cbp.cbsd.hp+":"+paGlobal.pls[pli].st.cbp.cbsd.ho+paGlobal.pls[pli].st.cbp.cbsd.hot+";"+paGlobal.pls[pli].st.cbp.cbsd.vp+":"+paGlobal.pls[pli].st.cbp.cbsd.vo+paGlobal.pls[pli].st.cbp.cbsd.vot+";width: "+paGlobal.pls[pli].st.cbp.cbsd.s[0].a+paGlobal.pls[pli].st.cbp.cbsd.s[0].t+";height:"+paGlobal.pls[pli].st.cbp.cbsd.s[1].a+paGlobal.pls[pli].st.cbp.cbsd.s[1].t+";z-index:"+paGlobal.pls[pli].st.cbp.cbsd.zi+";";paGlobal.data[ui].safeDiv.className="cls-btn-safe-div";if(paGlobal.pls[pli].vp.op&&paGlobal.pls[pli].vp.op.on){paGlobal.data[ui].safeDiv.addEventListener("mouseover",paGlobal.data[ui].activeSafeDiv);paGlobal.data[ui].safeDiv.addEventListener("mouseleave",paGlobal.data[ui].deactiveSafeDiv)}}},getLoweredSize:function(os,w,t){if(t=="px"){return w}else{return paGlobal.percentToPx(os,w)}},openPart:function(pli,ci,ui){if(paGlobal.pls[pli].vp.op.a||paGlobal.pls[pli].st.a){paGlobal.data[ui].div.style.transition="height 0.5s, width 0.5s"}if(paGlobal.pls[pli].vp.op.sp=="part"){paGlobal.data[ui].div.style.width=paGlobal.getLoweredSize(paGlobal.data[ui].demand.s[0],paGlobal.pls[pli].vp.op.lw.a,paGlobal.pls[pli].vp.op.lw.t)+"px";let loweredSize=paGlobal.getLoweredSize(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.op.lh.a,paGlobal.pls[pli].vp.op.lh.t);paGlobal.data[ui].div.style.height=paGlobal.getHeight(loweredSize,pli)+"px";paGlobal.data[ui].demand.opcl=!0}else{paGlobal.data[ui].div.style.width=paGlobal.data[ui].demand.s[0]+"px";paGlobal.data[ui].div.style.height=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)+"px";paGlobal.data[ui].demand.opcl=!1}if(paGlobal.pls[pli].vp.op.f){function applyAfterStyles(){if(paGlobal.pls[pli].vp.op.sp=="part"){paGlobal.data[ui].div.style.width=paGlobal.data[ui].demand.s[0]+"px";paGlobal.data[ui].div.style.height=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)+"px";paGlobal.data[ui].demand.opcl=!1}else{paGlobal.data[ui].div.style.width=paGlobal.getLoweredSize(paGlobal.data[ui].demand.s[0],paGlobal.pls[pli].vp.op.lw.a,paGlobal.pls[pli].vp.op.lw.t)+"px";let loweredSize=paGlobal.getLoweredSize(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.op.lh.a,paGlobal.pls[pli].vp.op.lh.t);paGlobal.data[ui].div.style.height=paGlobal.getHeight(loweredSize,pli)+"px";paGlobal.data[ui].demand.opcl=!0}}if(paGlobal.data[ui].gotImp){applyAfterStyles()}else{setTimeout(applyAfterStyles,paGlobal.pls[pli].vp.op.f*1e3)}}if(paGlobal.pls[pli].vp.op.eoh){paGlobal.data[ui].op={of:function(){setTimeout(function(){if(!paGlobal.data[ui].op.safeActive){if(paGlobal.pls[pli].vp.op.a||paGlobal.pls[pli].st.a){paGlobal.data[ui].div.style.transition="height 0.5s, width 0.5s"}paGlobal.data[ui].div.style.width=paGlobal.data[ui].demand.s[0]+"px";paGlobal.data[ui].div.style.height=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)+"px";paGlobal.largeCloseBtn(pli,ci,ui)}},10)},op:function(){if(paGlobal.data[ui].demand.opcl){paGlobal.data[ui].div.style.width=paGlobal.getLoweredSize(paGlobal.data[ui].demand.s[0],paGlobal.pls[pli].vp.op.lw.a,paGlobal.pls[pli].vp.op.lw.t)+"px";let loweredSize=paGlobal.getLoweredSize(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.op.lh.a,paGlobal.pls[pli].vp.op.lh.t);paGlobal.data[ui].div.style.height=paGlobal.getHeight(loweredSize,pli)+"px";paGlobal.smallCloseBtn(pli,ci,ui)}}};paGlobal.data[ui].div.addEventListener("mouseover",paGlobal.data[ui].op.of);paGlobal.cData[ci].div.addEventListener("mouseleave",paGlobal.data[ui].op.op)}},largeCloseBtn:function(pli,ci,ui){paGlobal.data[ui].clsBtnLineHeight=paGlobal.data[ui].clsBtnLineHeight||paGlobal.data[ui].clsBtn.style.lineHeight;var styles={borderRadius:"50%",height:"50px",width:"50px",lineHeight:"50px",fontSize:"20px"};styles[paGlobal.pls[pli].st.cbp.p.os.vp]="-20px";if(paGlobal.pls[pli].st.cbp.p.d=="inner"){styles[paGlobal.pls[pli].st.cbp.p.os.hp]="-20px"}paGlobal.data[ui].div.style.overflow="visible";paGlobal.cData[ci].div.style.overflow="visible";paGlobal.data[ui].clsBtn.style.transition="height 0.7s, width 0.7s, top 0.7s, right 0.7s, left 0.7s, font-size 0.7s, line-height 0.7s, border-radius 0.7s";for(let s of Object.keys(styles)){paGlobal.data[ui].clsBtn.style[s]=styles[s]}},smallCloseBtn:function(pli,ci,ui){var styles={borderRadius:paGlobal.pls[pli].st.cbp.br+paGlobal.pls[pli].st.cbp.brt,height:paGlobal.pls[pli].st.cbp.s[1].a+paGlobal.pls[pli].st.cbp.s[1].t,width:paGlobal.pls[pli].st.cbp.s[0].a+paGlobal.pls[pli].st.cbp.s[0].t,fontSize:paGlobal.pls[pli].st.cbp.fs+"px",lineHeight:paGlobal.data[ui].clsBtnLineHeight};styles[paGlobal.pls[pli].st.cbp.p.os.hp]=paGlobal.pls[pli].st.cbp.p.os.ho+paGlobal.pls[pli].st.cbp.p.os.hot;styles[paGlobal.pls[pli].st.cbp.p.os.vp]=paGlobal.pls[pli].st.cbp.p.os.vo+paGlobal.pls[pli].st.cbp.p.os.vot;for(let s of Object.keys(styles)){paGlobal.data[ui].clsBtn.style[s]=styles[s]}},remove:function(pli,ci,ui,removeDiv){if(paGlobal.pls[pli].t=="video"&&paGlobal.pls[pli].vidp.t!=="headerFullPage"){paGlobal.vidFunctions.xButton();return}switch(paGlobal.pls[pli].t){case"adhesion":document.removeEventListener("scroll",paGlobal.cData[ci].reCalculate);window.removeEventListener("resize",paGlobal.cData[ci].reCalculate);if(paGlobal.plData[pli].sqc&&document.querySelectorAll(".pa-global-class.pa-pl-"+pli).length<2){window.removeEventListener("resize",paGlobal.plData[pli].sqc.addListenerWait);paGlobal.plData[pli].sqc.reset()}if(paGlobal.plData[pli].mvc){if(paGlobal.plData[pli].mvc.marginIsAuto){window.removeEventListener("resize",paGlobal.plData[pli].mvc.autoFunction);paGlobal.plData[pli].mvc.autoFunctions.reset()}else{window.removeEventListener("resize",paGlobal.plData[pli].mvc.notAutoFunctions.checkWhenDone);paGlobal.plData[pli].mvc.notAutoFunctions.reset()}}if(paGlobal.pls[pli].ap.cp.cts.m){if(paGlobal.cData[ci].moveContent){window.removeEventListener("resize",paGlobal.cData[ci].moveContent)}}break;case"stickyTop":window.removeEventListener("resize",paGlobal.data[ui].reCalculate);if(paGlobal.pls[pli].stp.cp.on){document.removeEventListener("scroll",paGlobal.data[ui].reCalculateOffset)}if(paGlobal.pls[pli].stp.cp.bodyMarginTop){document.body.style.marginTop=paGlobal.oldBodyMarginTop||"0"}break;case"stickyBottom":window.removeEventListener("resize",paGlobal.data[ui].reCalculate);if(paGlobal.pls[pli].sbp.cp.on){document.removeEventListener("scroll",paGlobal.data[ui].reCalculateOffset)}break;case"multiInsert":if(paGlobal.pls[pli].mp.cp.fold){if(paGlobal.data[ui].positionFolds){document.removeEventListener("scroll",paGlobal.data[ui].positionFolds)}}if(paGlobal.pls[pli].mp.cp.sb&&paGlobal.data[ui].smallerBoxChange){document.removeEventListener("scroll",paGlobal.data[ui].smallerBoxChange)}break;case"rail":document.removeEventListener("scroll",paGlobal.cData[ci].reCalculate);window.removeEventListener("resize",paGlobal.cData[ci].reCalculate);document.removeEventListener("scroll",paGlobal.data[ui].reCalculate);break}if(paGlobal.pls[pli].st.cbp.cau&&!paGlobal.data[ui].closed){paGlobal.log.info("unit "+ui+" (pl "+pli+") called remove for all units");paGlobal.data[ui].closed=!0;paGlobal.data[ci].closed=!0;for(let i of document.querySelectorAll("."+paGlobal.cData[ci].div.classList[1])){var ci2=parseInt(i.id.split("-")[i.id.split("-").length-1]);paGlobal.cData[ci2].closed=!0;for(let a of document.querySelectorAll("#"+i.id+" > div.pa-unit-global")){var ui2=parseInt(a.id.split("-")[a.id.split("-").length-1]);paGlobal.data[ui2].closed=!0;paGlobal.remove(pli,ci2,ui2,"outer")}}}else{if(paGlobal.plData[pli].rOnSelector){clearInterval(paGlobal.plData[pli].rOnSelector.interval)}paGlobal.log.info("unit "+ui+" (pl "+pli+") removed");paGlobal.data[ui].closed=!0;if(paGlobal.pls[pli].st.a){paGlobal.data[ui].div.style.transition="height 0.5s";paGlobal.data[ui].div.style.height=0;setTimeout(function(){paGlobal.data[ui].div.remove()},500)}else{paGlobal.data[ui].div.remove()}paGlobal.cData[ci].u--;if(paGlobal.cData[ci].u<1){if(paGlobal.pls[pli].st.a){setTimeout(function(){paGlobal.cData[ci].div.remove()},500)}else{paGlobal.cData[ci].div.remove()}}else{if(removeDiv=="outer"){for(let nextUnit of document.querySelectorAll("."+paGlobal.cData[ci].div.classList[1]+"[id^=pa-unit-]")){paGlobal.remove(pli,ci,parseInt(nextUnit.id.split("-")[2]))}}}if(paGlobal.data[ui].refresh&&(paGlobal.data[ui].refresh.started||paGlobal.data[ui].refresh.running)){paGlobal.refresh.stop(pli,ci,ui)}}},getOneStyle:{adhesion:{top:function(oh,head){if(head){return oh+paGlobal.selectRect(head).height+(paGlobal.selectRect(head).top+paGlobal.getScroll())}else{return oh}},sideOffset:function(cp,unitParams){if(unitParams.side=="left"){return cp.lp.oep}else{return cp.rp.oep}},width:function(cp,unitParams){var adhesionWidth=0;var sideOffsetsSelect="lp";if(unitParams.side=="right"){sideOffsetsSelect="rp"}if(cp.cs&&paGlobal.select(cp.cs)){if(unitParams.side=="left"){adhesionWidth=paGlobal.selectRect(cp.cs).left-cp[sideOffsetsSelect].oec-cp[sideOffsetsSelect].oep}else{adhesionWidth=paGlobal.screenDimensions.w-paGlobal.selectRect(cp.cs).right-(cp[sideOffsetsSelect].oec+cp[sideOffsetsSelect].oep)*2}}else{adhesionWidth=(paGlobal.screenDimensions.w-cp.cw)/2-cp[sideOffsetsSelect].oec-cp[sideOffsetsSelect].oep}if(adhesionWidth<=0){adhesionWidth=0}return adhesionWidth},height:function(cp,top){var adhesionHeight=0;if(cp.foot){adhesionHeight=paGlobal.select(cp.foot).offsetTop-top-cp.of}else{adhesionHeight=document.body.getBoundingClientRect().height-top-cp.of}if(adhesionHeight<0){adhesionHeight=0}if(cp.sa.px){if(adhesionHeight>cp.sa.px){adhesionHeight=cp.sa.px}}return adhesionHeight},inner:{top:function(ip,height){switch(ip.pt){case"center":return paGlobal.screenDimensions.h/2-height/2;break;case"top":return ip.pa||0;break;case"bottom":return paGlobal.screenDimensions.h-height-(ip.pa||0);break}},width:function(ui){return paGlobal.data[ui].demand.s[0]}}},rail:{top:function(pli){if(paGlobal.pls[pli].rp.cp.s){return paGlobal.pls[pli].rp.cp.oh+paGlobal.selectRect(paGlobal.pls[pli].rp.cp.s).height+(paGlobal.selectRect(paGlobal.pls[pli].rp.cp.s).top+paGlobal.getScroll())}else{return paGlobal.pls[pli].rp.cp.oh}},width:function(pli){return paGlobal.selectRect(paGlobal.pls[pli].rp.cp.s).width+paGlobal.pls[pli].rp.cp.ol-paGlobal.pls[pli].rp.cp.or},height:function(pli,top){var result;if(paGlobal.pls[pli].rp.cp.foot){result=paGlobal.selectRect(paGlobal.pls[pli].rp.cp.foot).top+paGlobal.getScroll()-top-paGlobal.pls[pli].rp.cp.of}else{result=paGlobal.selectRect("body").height-top-paGlobal.pls[pli].rp.cp.of}if(result<0){result=0}return result},inner:{top:function(ip,height){switch(ip.pt){case"center":return paGlobal.screenDimensions.h/2-height/2;break;case"top":return ip.pa;break;case"bottom":return paGlobal.screenDimensions.h-height-ip.pa;break}}}}},getStyles:function(pli,unitParams){var styles={};if(paGlobal.pls[pli].st.zi){styles["z-index"]=paGlobal.pls[pli].st.zi}if(paGlobal.pls[pli].st.contBck){styles.background=paGlobal.pls[pli].st.contBck}if(paGlobal.pls[pli].st.a){styles.transition="height 0.5s"}var plSStyles={};switch(paGlobal.pls[pli].t){case"adhesion":if(paGlobal.pls[pli].ap.cp.head&&paGlobal.select(paGlobal.pls[pli].ap.cp.head)){var headElem=paGlobal.select(paGlobal.pls[pli].ap.cp.head);if(getComputedStyle(headElem).position==="sticky"||getComputedStyle(headElem).position==="fixed"){paGlobal.pls[pli].ap.cp.oh+=paGlobal.selectRect(headElem).height;paGlobal.pls[pli].ap.cp.head=""}}var offsetTop=paGlobal.getOneStyle.adhesion.top(paGlobal.pls[pli].ap.cp.oh,paGlobal.pls[pli].ap.cp.head);var side=unitParams.side;var offsetSide=paGlobal.getOneStyle.adhesion.sideOffset(paGlobal.pls[pli].ap.cp,unitParams);var adhesionWidth=paGlobal.getOneStyle.adhesion.width(paGlobal.pls[pli].ap.cp,unitParams);var adhesionHeight=paGlobal.getOneStyle.adhesion.height(paGlobal.pls[pli].ap.cp,offsetTop);if(paGlobal.pls[pli].ap.cp.sa.ns){plSStyles={position:"absolute",top:offsetTop+"px",[side]:offsetSide+"px",width:adhesionWidth+"px",height:"100vh"}}else{plSStyles={position:"fixed",top:0+"px",[side]:offsetSide+"px",width:adhesionWidth+"px",height:"100vh"};document.documentElement.style.cssText+="height:auto !important"}break;case"stickyBottom":plSStyles={position:"fixed",bottom:(paGlobal.pls[pli].sbp.cp.oh||0)+"px",width:"100%",overflow:paGlobal.pls[pli].st.ovf||"hidden"};if(!paGlobal.pls[pli].sbp.ip.ctn||paGlobal.pls[pli].sbp.ip.ctn&&!paGlobal.select(paGlobal.pls[pli].sbp.ip.ctn)){plSStyles.margin="0 auto";plSStyles.left=0;plSStyles.right=0}if(paGlobal.pls[pli].sbp.cp.on&&paGlobal.select(paGlobal.pls[pli].sbp.cp.on)&&parseInt(paGlobal.selectRect(paGlobal.pls[pli].sbp.cp.on).bottom/10,10)*10==parseInt(paGlobal.screenDimensions.h/10,10)*10){plSStyles.bottom=paGlobal.selectRect(paGlobal.pls[pli].sbp.cp.on).height+"px"}if(paGlobal.pls[pli].sbp.cp.mxw){plSStyles["max-width"]=paGlobal.pls[pli].sbp.cp.mxw+paGlobal.pls[pli].sbp.cp.mxwt;delete plSStyles.overflow}break;case"stickyTop":plSStyles={position:"fixed",top:paGlobal.pls[pli].stp.cp.oh+"px",width:"100%",overflow:paGlobal.pls[pli].st.ovf||"hidden"};if(paGlobal.pls[pli].stp.cp.on&&paGlobal.select(paGlobal.pls[pli].stp.cp.on)&&parseInt(paGlobal.selectRect(paGlobal.pls[pli].stp.cp.on).top/10,10)*10<5&&parseInt(paGlobal.selectRect(paGlobal.pls[pli].stp.cp.on).top/10,10)*10>-5){plSStyles.top=paGlobal.selectRect(paGlobal.pls[pli].stp.cp.on).height+"px"}if(!paGlobal.pls[pli].stp.ip.ctn||paGlobal.pls[pli].stp.ip.ctn&&!paGlobal.select(paGlobal.pls[pli].stp.ip.ctn)){plSStyles.margin="0 auto";plSStyles.left=0;plSStyles.right=0}if(paGlobal.pls[pli].stp.cp.mxw){plSStyles["max-width"]=paGlobal.pls[pli].stp.cp.mxw+paGlobal.pls[pli].stp.cp.mxwt;delete plSStyles.overflow}break;case"multiInsert":plSStyles={"max-width":paGlobal.pls[pli].mp.cp.st.mw.a+paGlobal.pls[pli].mp.cp.st.mw.t,display:paGlobal.pls[pli].mp.cp.st.d,position:paGlobal.pls[pli].mp.cp.p};if(paGlobal.pls[pli].mp.cp.st.w&&paGlobal.pls[pli].mp.cp.st.w.a){plSStyles.width=paGlobal.pls[pli].mp.cp.st.w.a+paGlobal.pls[pli].mp.cp.st.w.t}if(paGlobal.pls[pli].mp.cp.st.im){plSStyles.margin=paGlobal.pls[pli].mp.cp.st.im}if(paGlobal.pls[pli].mp.cp.st.f){if(paGlobal.pls[pli].mp.cp.st.f=="clear"){plSStyles.clear="both"}else{plSStyles.float=paGlobal.pls[pli].mp.cp.st.f}}if(paGlobal.pls[pli].mp.cp.st.d=="inline-block"){plSStyles.width=paGlobal.pls[pli].mp.cp.st.mw.a+paGlobal.pls[pli].mp.cp.st.mw.t}if(paGlobal.pls[pli].mp.cp.st.d=="inline"){plSStyles.maxWidth=paGlobal.pls[pli].mp.cp.st.mw.a+paGlobal.pls[pli].mp.cp.st.mw.t;plSStyles.width=paGlobal.pls[pli].mp.cp.st.mw.a+paGlobal.pls[pli].mp.cp.st.mw.t}if(paGlobal.pls[pli].mp.cp.st.d=="flex"){plSStyles["justify-content"]="space-evenly";plSStyles["flex-wrap"]="wrap"}break;case"rail":var offsetTop=paGlobal.getOneStyle.rail.top(pli);var railWidth=paGlobal.getOneStyle.rail.width(pli);var railHeight=paGlobal.getOneStyle.rail.height(pli,offsetTop);var railLeft=paGlobal.selectRect(paGlobal.pls[pli].rp.cp.s).left-paGlobal.pls[pli].rp.cp.or+paGlobal.pls[pli].rp.cp.ol;plSStyles={position:"absolute",top:offsetTop+"px",left:railLeft+"px",width:railWidth+"px",height:railHeight+"px"};document.body.parentElement.style.cssText+="overflow:unset !important";document.body.style.cssText+="overflow-y:unset !important";break;case"interstitial":plSStyles={position:"fixed",top:0,bottom:0,right:0,left:0,width:"100%",height:0,background:"rgb(0,0,0,0.9)"};break;case"video":var position=paGlobal.pls[pli].vidp.p;if(paGlobal.pls[pli].vidp.t=="interstitial"){position="fixed"}else if(paGlobal.pls[pli].vidp.fas=="relative"){position="relative"}if(paGlobal.pls[pli].vidp.t=="inContent"){plSStyles={"max-height":0,margin:paGlobal.pls[pli].vidp.m||"0 auto",overflow:paGlobal.pls[pli].st.ovf||"hidden","text-align":"center",position:position,"max-width":paGlobal.pls[pli].vidp.mxw+paGlobal.pls[pli].vidp.mxwt};if(paGlobal.pls[pli].vidp.p=="fixed"&&paGlobal.pls[pli].vidp.fas=="fixed"){plSStyles["max-width"]=paGlobal.pls[pli].vidp.mxwf+paGlobal.pls[pli].vidp.mxwft;plSStyles.width=paGlobal.pls[pli].vidp.mxwf+paGlobal.pls[pli].vidp.mxwft}if(paGlobal.pls[pli].vidp.p=="fixed"&&paGlobal.pls[pli].vidp.fas=="fixed"&&paGlobal.pls[pli].vidp.t!="interstitial"){plSStyles[paGlobal.pls[pli].vidp.vp]=paGlobal.pls[pli].vidp.vpo+paGlobal.pls[pli].vidp.vpot;plSStyles[paGlobal.pls[pli].vidp.hp]=paGlobal.pls[pli].vidp.hpo+paGlobal.pls[pli].vidp.hpot}}else if(paGlobal.pls[pli].vidp.t=="headerFullPage"){plSStyles={"max-height":0,margin:"0 auto",overflow:paGlobal.pls[pli].st.ovf||"hidden","text-align":"center",position:position,width:"100%",height:0}}else{plSStyles={position:"fixed"}}if(paGlobal.pls[pli].st.a){plSStyles.transition="max-height 500ms ease-out"}break;case"headerVideo":plSStyles={"max-height":0,height:0,margin:"0 auto",overflow:paGlobal.pls[pli].st.ovf||"hidden","text-align":"center",position:"relative",width:"100%",display:"flex","align-items":"center"};break}if(paGlobal.pls[pli].st.ora){switch(paGlobal.pls[pli].t){case"multiInsert":if(paGlobal.pls[pli].mp.cp.st.p){styles.padding=paGlobal.pls[pli].mp.cp.st.p}plSStyles.margin=paGlobal.pls[pli].mp.cp.st.m;break;case"stickyBottom":case"stickyTop":var t="sbp";var s="top";if(paGlobal.pls[pli].t=="stickyTop"){t="stp";s="bottom"}if(paGlobal.pls[pli][t].cp.pd){styles["padding-"+s]=paGlobal.pls[pli][t].cp.pd+"px"}break}}if(paGlobal.pls[pli].t!=="interstitial")plSStyles["pointer-events"]="none";return paGlobal.convertStyles(styles,plSStyles)},getInnerStyles:function(pli,ci,ui){var styles={"z-index":1,height:0};if(paGlobal.pls[pli].st.bck){styles.background=paGlobal.pls[pli].st.bck}if(paGlobal.pls[pli].st.a){styles.transition="height 0.5s, margin 0.5s";if(paGlobal.pls[pli].t=="video"){styles.transition="height 0.1s, margin 0.5s"}}if(paGlobal.pls[pli].st.ora){styles.width=paGlobal.pls[pli].st.s[0]+"px";styles.height=paGlobal.pls[pli].st.s[1]+"px"}var plSStyles={};switch(paGlobal.pls[pli].t){case"adhesion":var adhesionAdTop=paGlobal.getOneStyle.adhesion.inner.top(paGlobal.pls[pli].ap.ip,paGlobal.pls[pli].st.s[1]);var adhesionAdWidth=paGlobal.getOneStyle.adhesion.inner.width(ui);plSStyles={position:"absolute",height:paGlobal.pls[pli].st.s[1]+"px",top:adhesionAdTop+"px",width:adhesionAdWidth+"px","max-width":"100%",right:0,left:0};var side="left";var otherSide="right";if(paGlobal.cData[ci].adhesionSide=="right"){side="right";otherSide="left"}var sideMargin="auto";var otherSideMargin="auto";if(paGlobal.pls[pli].ap.ip.is){switch(paGlobal.pls[pli].ap.ip.is){case"center":sideMargin="auto";otherSideMargin="auto";break;case"end":sideMargin=0;otherSideMargin="auto";break;case"content":sideMargin="auto";otherSideMargin=0;break}}plSStyles["margin-"+side]=sideMargin;plSStyles["margin-"+otherSide]=otherSideMargin;if(!paGlobal.pls[pli].st.ora){plSStyles.width=0}break;case"stickyBottom":plSStyles={position:"relative",overflow:paGlobal.pls[pli].st.ovf||"hidden"};if(!paGlobal.pls[pli].sbp.ip.ctn||paGlobal.pls[pli].sbp.ip.ctn&&!paGlobal.select(paGlobal.pls[pli].sbp.ip.ctn)){plSStyles.margin="0 auto";plSStyles.left=0;plSStyles.right=0}if(paGlobal.pls[pli].sbp.ip.ctn&&paGlobal.select(paGlobal.pls[pli].sbp.ip.ctn)){plSStyles["margin-left"]=paGlobal.selectRect(paGlobal.pls[pli].sbp.ip.ctn).left+paGlobal.selectRect(paGlobal.pls[pli].sbp.ip.ctn).width/2-paGlobal.pls[pli].st.s[0]/2+"px;"}break;case"stickyTop":plSStyles={position:"relative",overflow:paGlobal.pls[pli].st.ovf||"hidden"};if(!paGlobal.pls[pli].stp.ip.ctn||paGlobal.pls[pli].stp.ip.ctn&&!paGlobal.select(paGlobal.pls[pli].stp.ip.ctn)){plSStyles.margin="0 auto";plSStyles.left=0;plSStyles.right=0}if(paGlobal.pls[pli].stp.ip.ctn&&paGlobal.select(paGlobal.pls[pli].stp.ip.ctn)){plSStyles["margin-left"]=paGlobal.selectRect(paGlobal.pls[pli].stp.ip.ctn).left+paGlobal.selectRect(paGlobal.pls[pli].stp.ip.ctn).width/2-paGlobal.pls[pli].st.s[0]/2+"px;"}break;case"multiInsert":plSStyles={position:"relative"};if(paGlobal.pls[pli].st.ora){if(paGlobal.pls[pli].mp.cp.sb){styles.height=paGlobal.pls[pli].mp.cp.sbp.h+"px"}styles.margin=paGlobal.pls[pli].mp.ip.m}break;case"rail":var railAdTop=paGlobal.getOneStyle.rail.inner.top(paGlobal.pls[pli].rp.ip,paGlobal.pls[pli].st.s[1]);plSStyles={position:"sticky",position:"sticky",top:railAdTop+"px",margin:"0 auto","max-width":"100%",overflow:"hidden"};break;case"interstitial":plSStyles={top:paGlobal.screenDimensions.h/2-paGlobal.pls[pli].st.s[1]/2+"px",margin:"0 auto",position:"relative",overflow:paGlobal.pls[pli].st.ovf||"hidden"};break;case"video":plSStyles={position:"relative",display:"inherit",height:"inherit",width:"inherit","max-height":"inherit","max-width":"inherit",overflow:"hidden",margin:"0 auto"};if(paGlobal.pls[pli].vidp.p=="fixed"){if(paGlobal.pls[pli].vidp.fas=="fixed"){plSStyles.width="100%",plSStyles["max-width"]="100%"}else{plSStyles["max-width"]=paGlobal.pls[pli].vidp.mxw+paGlobal.pls[pli].vidp.mxwt}}if(paGlobal.pls[pli].vidp.t=="headerFullPage"){plSStyles.position="absolute";plSStyles.margin="0 auto";plSStyles.left=0;plSStyles.right=0;var heightClip=paGlobal.pls[pli].vidp.relHeight=="fullPage"?"100vh":"min(calc(100vw * 0.5625), 100vh)";plSStyles.clip="rect(0px, 100vw, "+heightClip+", 0px)",plSStyles.overflow="hidden";plSStyles.width=paGlobal.pls[pli].vidp.mxw+paGlobal.pls[pli].vidp.mxwt}break;case"headerVideo":if(paGlobal.cData[ci].u==0){plSStyles={position:"relative",display:"inherit",height:"inherit",width:paGlobal.pls[pli].hvidp.dispWidth+paGlobal.pls[pli].hvidp.dispWidthType,"max-height":"inherit","max-width":"inherit",overflow:"hidden",margin:paGlobal.pls[pli].hvidp.dispMargin||"0"}}else{plSStyles={position:"relative",display:"inherit",height:"inherit",width:paGlobal.pls[pli].hvidp.vidWidth+paGlobal.pls[pli].hvidp.vidWidthType,"max-height":"inherit","max-width":"inherit",overflow:"hidden",[paGlobal.pls[pli].hvidp.vs]:0,position:"absolute",margin:paGlobal.pls[pli].hvidp.vidMargin||"0"}}break}return paGlobal.convertStyles(styles,plSStyles)},multipleStyles:{sticky:"sticky;position:-webkit-sticky"},convertStyles:function(styles,specificStyles){var result="";for(let i of Object.keys(styles)){result+=i+":"+(paGlobal.multipleStyles[styles[i]]||styles[i])+";"}for(let i of Object.keys(specificStyles)){result+=i+":"+(paGlobal.multipleStyles[specificStyles[i]]||specificStyles[i])+";"}return result},addFrame:function(pli,ci,ui){if(!paGlobal.marks.first_add_frame){performance.mark("first_add_frame");paGlobal.marks.first_add_frame=true}if(paGlobal.fivePassed&&!paGlobal.marks.later_add_frame){performance.mark("later_add_frame");paGlobal.marks.later_add_frame=true}paGlobal.data[ui].frame=document.createElement("iframe");paGlobal.data[ui].frame.src="about:blank";paGlobal.data[ui].frame.setAttribute("frameborder","0");paGlobal.data[ui].frame.setAttribute("marginwidth","0");paGlobal.data[ui].frame.setAttribute("marginheight","0");paGlobal.data[ui].frame.setAttribute("scrolling","no");paGlobal.data[ui].frame.style.width="inherit";paGlobal.data[ui].frame.style.height="inherit";paGlobal.data[ui].frame.style.display="none";paGlobal.data[ui].frame.style.maxWidth="100%";paGlobal.data[ui].frame.style.margin=0;paGlobal.data[ui].div.appendChild(paGlobal.data[ui].frame);setTimeout(()=>{paGlobal.writeDoc(pli,ci,ui)},0)},getDirectImgs:function(pli,link,ui){if(paGlobal.pls[pli].t==="multiInsert"&&paGlobal.pls[pli].mp.cp.fold){return`<div class="folding-unit-wrap">${Array.from({length:paGlobal.data[ui].segmentCount}).map((x,i)=>`<div class="folding-segment-wrap"><div id="img-segment-wrap-${i+1}" class="img-segment-wrap"><img id="img-segment-${i+1}"  class="img-segment" src="${link}" ${i===0?'onload="imp()"':""}></div></div>`).join("")}</div>`}else{return'<img onload="imp()" src='+link+">"}},setFluidHeight:function(pli,ci,ui){var cHeight=paGlobal.pls[pli].st.fMinH||paGlobal.pls[pli].st.s[1];function getNextFrame(frameD){if(frameD){frame=frameD.querySelector("iframe");return frame}else{return null}}function getDiv(){var frame=paGlobal.data[ui].frame;function tryDiv(frame){var frameD=frame.contentDocument;if(frameD.querySelector('[id^="/90814396/"]')){return frameD.querySelector('[id^="/90814396/"]')}else{var nextFrame=getNextFrame(frameD);if(nextFrame){return tryDiv(nextFrame)}else{return frame}}}return tryDiv(frame)}div=getDiv();var tries=0;var maxTries=5;if(div.offsetHeight){setHeight()}else{tryAgain()}function trySettingHeight(){if(div.offsetHeight){setHeight()}else{setTimeout(()=>{trySettingHeight()},50*tries)}}function tryAgain(){if(tries<maxTries){trySettingHeight()}else{tryAgain()}tries++}function setHeight(){paGlobal.data[ui].demand.s=[paGlobal.data[ui].div.offsetWidth,Math.max(cHeight,div.offsetHeight||0)];paGlobal.data[ui].demand.cs=paGlobal.data[ui].demand.s;paGlobal.data[ui].div.style.height=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)+"px"}},setAmazonHeight:function(pli,ci,ui){paGlobal.data[ui].div.style.width="100%";var plHeight=paGlobal.data[ui].demand.s&&paGlobal.data[ui].demand.s[1]||paGlobal.pls[pli].st.s[1];var frameBody=paGlobal.data[ui].frame.contentDocument&&paGlobal.data[ui].frame.contentDocument.body;var tries=0;var maxTries=10;if(frameBody.offsetHeight){setHeight()}else{tryAgain()}function tryAgain(){if(tries<maxTries){trySettingHeight()}tries++}function trySettingHeight(){if(frameBody.offsetHeight){setHeight()}else{setTimeout(()=>{tryAgain()},50*tries)}}function setHeight(){paGlobal.data[ui].demand.s=[paGlobal.data[ui].div.offsetWidth,Math.max(frameBody.offsetHeight,plHeight)];paGlobal.data[ui].demand.cs=paGlobal.data[ui].demand.s;paGlobal.data[ui].div.style.height=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)+"px"}},openAd:function(pli,ci,ui){if(!paGlobal.marks.first_open_ad){performance.mark("first_open_ad");paGlobal.marks.first_open_ad=true;performance.measure("first_frame_to_open","first_add_frame","first_open_ad")}if(!paGlobal.marks.later_open_ad&&paGlobal.marks.later_add_frame){performance.mark("later_open_ad");performance.measure("later_frame_to_open","later_add_frame","later_open_ad");paGlobal.marks.later_open_ad=true;const marks={type:"performance",pubI:paGlobal.pubI};performance.getEntries().filter(e=>Object.keys(paGlobal.marks).includes(e.name)||["first_frame_to_open","later_frame_to_open","script_start","pls_retrieved"].includes(e.name)||/(localhost\/)([0-9]+\/)?(script)/.test(e.name)||/(powerad.ai\/)([0-9]+\/)?(script)/.test(e.name)||e.entryType==="first-input").forEach(e=>{if(e.entryType==="first-input"){marks.fid=e.processingStart-e.startTime;marks.first_input_start=e.startTime;return}if(e.entryType==="measure"){marks[e.name]=e.duration;return}if(e.entryType==="resource"){if(window.__paC&&window.__pa){if(e.name.endsWith("script.js"))return}marks.script_load_start=e.startTime;marks.script_duration=e.duration;return}marks[e.name]=e.startTime});if(!marks.fid){marks.fid=0}paGlobal.sendReport(paGlobal.x(marks))}paGlobal.data[ui].demand.cs=paGlobal.data[ui].demand.cs||paGlobal.data[ui].demand.s||paGlobal.pls[pli].st.s;if(paGlobal.pls[pli].vp.op.on){if(paGlobal.pls[pli].vp.op.aos){if(paGlobal.data[ui].demand.s[0]>=paGlobal.pls[pli].vp.op.aosp[0]&&paGlobal.data[ui].demand.s[1]>=paGlobal.pls[pli].vp.op.aosp[1]){paGlobal.openPart(pli,ci,ui)}else{paGlobal.data[ui].div.style.width=paGlobal.data[ui].demand.s[0]+"px";paGlobal.data[ui].div.style.height=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)+"px"}}else{paGlobal.openPart(pli,ci,ui)}}else if(paGlobal.pls[pli].t=="multiInsert"&&paGlobal.pls[pli].mp.cp.sb){if(!paGlobal.pls[pli].mp.cp.sbp.aos||paGlobal.pls[pli].mp.cp.sbp.aos&&paGlobal.data[ui].demand.s[1]>=paGlobal.pls[pli].mp.cp.sbp.aos){paGlobal.smallerBox(pli,ci,ui)}else{if(paGlobal.pls[pli].t=="multiInsert"&&paGlobal.pls[pli].mp.cp.sb){paGlobal.cleanSmallerBox(pli,ci,ui)}paGlobal.data[ui].div.style.width=paGlobal.data[ui].demand.s[0]+"px";paGlobal.data[ui].div.style.height=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)+"px"}}else{if(paGlobal.data[ui].demand.fluid||paGlobal.data[ui].demand.cb=="otherFluid"){var maxWidth="";if(paGlobal.pls[pli].st.fmw){maxWidth=", "+paGlobal.pls[pli].st.fmw+"px"}paGlobal.data[ui].div.style.width="Min(100%"+maxWidth+")"}else{if(paGlobal.pls[pli].t=="video"){}else{if(paGlobal.pls[pli].t=="headerVideo"){paGlobal.cData[ci].div.style.height="auto";paGlobal.cData[ci].div.style.maxHeight="100%";paGlobal.data[ui].frame.style.width="100%";if(paGlobal.data[ui].vidInfo){paGlobal.data[ui].div.style.width=paGlobal.data[ui].vidInfo.width}else{paGlobal.data[ui].frame.style.width=paGlobal.data[ui].demand.s[0]+"px";paGlobal.data[ui].frame.style.margin=paGlobal.pls[pli].hvidp.dispMargin}}else{paGlobal.data[ui].div.style.width=paGlobal.data[ui].demand.s[0]+"px"}}}if(paGlobal.pls[pli].t=="stickyBottom"&&paGlobal.pls[pli].sbp.ip.ctn&&paGlobal.select(paGlobal.pls[pli].sbp.ip.ctn)){if(paGlobal.data[ui].demand.cs[0]<950){paGlobal.data[ui].div.style.marginLeft=paGlobal.selectRect(paGlobal.pls[pli].sbp.ip.ctn).left+paGlobal.selectRect(paGlobal.pls[pli].sbp.ip.ctn).width/2-paGlobal.data[ui].demand.cs[0]/2+"px"}else{paGlobal.data[ui].div.style.margin="0 auto";paGlobal.data[ui].div.style.left=0;paGlobal.data[ui].div.style.right=0}}if(paGlobal.pls[pli].t=="video"){if(paGlobal.pls[pli].vidp.t=="headerFullPage"){paGlobal.cData[ci].div.style.transition="height 0.5s";paGlobal.data[ui].vidInfo.scrollNoteDiv.style.height="35px";if(paGlobal.pls[pli].vidp.relHeight=="fullPage"){paGlobal.data[ui].vidInfo.scrollNoteDiv.style.top="";paGlobal.data[ui].vidInfo.scrollNoteDiv.style.removeProperty("top");paGlobal.data[ui].vidInfo.scrollNoteDiv.style.bottom="0"}else{paGlobal.data[ui].vidInfo.scrollNoteDiv.style.top="min(calc(56.25vw - 35px), calc(100vh - 35px))"}paGlobal.cData[ci].div.style.maxHeight="100%";paGlobal.cData[ci].div.style.height=paGlobal.pls[pli].vidp.relHeight=="fullPage"?"100vh":"min(calc(100vw * 0.5625), 100vh)";paGlobal.data[ui].frame.style.position="fixed"}}else if(paGlobal.pls[pli].t=="headervideo"){if(paGlobal.data[ui].vidInfo){paGlobal.data[ui].height=paGlobal.data[ui].vidInfo.height}else{paGlobal.data[ui].div.style.height=paGlobal.data[ui].demand.s[1]+"px"}}else{if(paGlobal.data[ui].vidInDisp.onVid&&paGlobal.pls[pli].vidInDisp.oph){var openHeight=paGlobal.getHeight(paGlobal.pls[pli].st.s[1],pli)}else{var openHeight=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)}if(paGlobal.data[ui].demand.fluid||paGlobal.data[ui].demand.cb=="otherFluid"){if(paGlobal.data[ui].demand.cb=="otherFluid"){paGlobal.setAmazonHeight(pli,ci,ui)}else{paGlobal.setFluidHeight(pli,ci,ui)}}else if(paGlobal.pls[pli].t!=="video"){paGlobal.data[ui].div.style.height=openHeight+"px"}}if(paGlobal.data[ui].vidInDisp.onVid&&paGlobal.pls[pli].vidInDisp.contMaxH){paGlobal.cData[ci].div.style.maxHeight=paGlobal.pls[pli].vidInDisp.contMaxH+"px";paGlobal.cData[ci].div.style.overflow="visible";if(paGlobal.pls[pli].t==="stickyBottom"&&paGlobal.pls[pli].vidInDisp.contMaxH<openHeight){paGlobal.data[ui].frame.style.marginTop=paGlobal.pls[pli].vidInDisp.contMaxH-openHeight+"px"}}}if(paGlobal.pls[pli].t=="multiInsert"&&paGlobal.pls[pli].mp.cp.fe){paGlobal.flipEffect(pli,ci,ui)}paGlobal.data[ui].div.style.pointerEvents="auto"},compileDoc:function(pli,ci,ui){var result="<html><head><title>Yukshy Inject Frame</title><script>parent.clearTimeout(parent.paGlobal.data["+ui+"].fallbackTimeout)<\/script><script>function imp(){top.paGlobal.data["+ui+"].impListener(true);};function noImp(){top.paGlobal.data["+ui+"].impListener(false)};<\/script>";if((paGlobal.pls[pli].d.type=="direct"||paGlobal.data[ui].demand.cad)&&!paGlobal.data[ui].vidInDisp.onVid&&paGlobal.pls[pli].t!=="video"&&(paGlobal.pls[pli].t!=="headerVideo"||paGlobal.pls[pli].t==="headerVideo"&&!paGlobal.data[ui].vidInfo)){paGlobal.data[ui].demand.cb="direct";if(paGlobal.pls[pli].t==="multiInsert"&&paGlobal.pls[pli].mp.cp.fold){const fSegH=paGlobal.pls[pli].mp.cp.foldParams.fSegHeight>=0?paGlobal.pls[pli].mp.cp.foldParams.fSegHeight:50;paGlobal.data[ui].segmentCount=Math.ceil(paGlobal.pls[pli].st.s[1]/50);if(fSegH===0){paGlobal.data[ui].segmentCount++}if(fSegH>50){paGlobal.data[ui].segmentCount-=Math.floor(fSegH/50)}result+=`<style>div.folding-segment-wrap{width:100%;margin:0 auto;perspective:500px;padding:0}.folding-segment-wrap:first-child{max-height:${fSegH}}.img-segment-wrap,img.img-segment{width:100%;height:50px;object-fit:cover;margin:0;mix-blend-mode:color;background-size:100% 200%;background-repeat:no-repeat;}.folding-segment-wrap:nth-child(even)>.img-segment-wrap{background-image:linear-gradient(transparent 50%,#0000006b)}.folding-segment-wrap:nth-child(odd)>.img-segment-wrap{background-image:linear-gradient(#0000006b,transparent 50%);background-position:0% 100%;margin-top:-1px}.folding-segment-wrap:first-child>.img-segment-wrap,#img-segment-1{background-image:none;margin-top: 0px;height:${fSegH}px}#img-segment-1{object-position:0% 0%}${Array.from({length:paGlobal.data[ui].segmentCount},(_,i)=>i+2).map((x,i)=>`#img-segment-${x}{object-position:0% -${fSegH+50*i}px}`).join("")}.folding-segment-wrap:last-child .img-segment{object-position:0% 100% !important}</style>`}var clickThrough="";let creative;if(paGlobal.pls[pli].d.rc){creative=paGlobal.pls[pli].d.c[Math.floor(Math.random()/(1/paGlobal.pls[pli].d.c.length))]}else{creative=paGlobal.pls[pli].d.c}if(creative.ct){clickThrough='href="'+creative.ct+'"'}result+='</head><body><a target="_blank" '+clickThrough+">"+paGlobal.getDirectImgs(pli,creative.l,ui)+"</a></body></html>";return result}else{if(paGlobal.data[ui].vidInDisp.onVid){var cDemand={s:paGlobal.data[ui].vidInDisp.s,partner:"vid-in-disp"}}else if(paGlobal.pls[pli].t!=="video"&&paGlobal.pls[pli].t!=="headerVideo"){var cDemand=paGlobal.pls[pli].d.live[paGlobal.data[ui].demand.tn]||{}}else{var cDemand={partner:"video",s:paGlobal.data[ui].demand.s}}paGlobal.data[ui].demand.s=cDemand.s||paGlobal.pls[pli].st.s;if(typeof paGlobal.data[ui].demand.s[0]=="string"){paGlobal.data[ui].demand.s[0]=parseInt(paGlobal.data[ui].demand.s[0])||paGlobal.pls[pli].st.s[0];paGlobal.data[ui].demand.s[1]=parseInt(paGlobal.data[ui].demand.s[1])||paGlobal.pls[pli].st.s[1]}cDemand.s=paGlobal.data[ui].demand.s;paGlobal.data[ui].demand.cb=cDemand.name||cDemand.partner||"Unknown";var rn=Math.floor(Math.random()*50);var runAdLight=false;if(paGlobal.adLight&&!cDemand.adLightOff){runAdLight=Math.floor(Math.random()/(1/paGlobal.adLightPace))===0}switch(cDemand.partner){case"video":result+=`<style>body{display: flex; justify-content: center; align-items: center;} .video-container {position: relative; margin: auto; padding: 0;}</style></head><body><div class='video-container'></div><script>var vid = new parent.paVid.Video(document.querySelector('div.video-container'),parent.paGlobal.data[${ui}].vidInfo.tags,parent.paGlobal.data[${ui}].vidInfo.maxVids || 1,null,parent.paGlobal.device || 'desktop',{pli:${pli},pauseOOV:false,toggleMute: true,width: ${paGlobal.data[ui].div.offsetWidth},height: ${paGlobal.data[ui].vidInfo.height||paGlobal.data[ui].div.offsetWidth*.5625},autoResize: true,refCountStart: ${paGlobal.data[ui].refCount}});impCalled = false;vid.on('impression',()=>{if(impCalled){return};setTimeout(()=>{parent.document.dispatchEvent(parent.paGlobal.fakeScroll);},500);impCalled = true;imp()});vid.on('error',()=>{if(impCalled){return};impCalled = true;noImp()});vid.on('complete',()=>{if(parent.paGlobal.pls[${pli}].t == 'headerVideo'){if(parent.paGlobal.pls[${pli}].hvidp.closeOnComplete){parent.paGlobal.remove(${pli},${ci},${ui},'outer');} else {parent.paGlobal.remove(${pli},${ci},${ui});}} else if(parent.paGlobal.pls[${pli}].t == 'video'){parent.paGlobal.cData[${ci}].div.style.height = 0;parent.paGlobal.remove(${pli},${ci},${ui});};});parent.paGlobal.data[${ui}].vidInfo.vid = vid;</script></script></body></html>`;break;case"vid-in-disp":result+=`<style>.video-container {width: 100%;height: 100%;margin: 0;padding: 0;}</style></head><body><div class="video-container"></div><script>var vid = new parent.paVid.Video(document.querySelector('div.video-container'), parent.paGlobal.pls[${pli}].vidInDisp.tags, parent.paGlobal.pls[${pli}].vidInDisp.vidTimes || 1, null, parent.paGlobal.device || 'desktop',{pli:${pli},pauseOOV:true,toggleMute: true,width: parent.paGlobal.data[${ui}].vidInDisp.s[0],height: parent.paGlobal.data[${ui}].vidInDisp.s[1],refCountStart: ${paGlobal.data[ui].refCount||0}});impCalled = false;vid.on('impression',()=>{if(impCalled){return};impCalled = true;imp()});vid.on('error',()=>{parent.paGlobal.vidInDispVidComplete(${pli},${ci},${ui},true);});vid.on('nextVid',()=>{if(vid.is.vid > 0){parent.paGlobal.data[${ui}].vidInDisp.count++;parent.paGlobal.data[${ui}].refCount++;}});vid.on('complete',()=>{parent.paGlobal.vidInDispVidComplete(${pli},${ci},${ui});});parent.paGlobal.data[${ui}].vidInDisp.vid = vid;</script></body></html>`;break;case"other":result+="<script>"+top.paGlobal.__uspapiString+top.paGlobal.__gdpr+"</scr"+"ipt>";result+="<script>var impTimeout = setTimeout(function(){imp()},"+cDemand.timeout+");var noImpression=new Event('noImpression');document.addEventListener('noImpression',function(){noImp()})<\/script>";result+=cDemand.headTag+"</head><body>"+cDemand.bodyTag+"</body></html>";break;case"google":if(paGlobal.adLight&&!cDemand.adLightOff){result+='<script src="https://tagan.adlightning.com/nextmillenium/op.js"><\/script>'}result+="<script>"+top.paGlobal.__uspapiString+top.paGlobal.__gdpr+"</scr"+"ipt>";result+=`<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script><script>var googletag = googletag || {};googletag.cmd = googletag.cmd || [];googletag.cmd.push(function() {googletag.defineSlot('/90814396/${cDemand.unitName}', [${cDemand.s}], 'inject-google-slot-id-${rn}').addService(googletag.pubads());googletag.pubads().enableSingleRequest();googletag.enableServices();});googletag.cmd.push(function(){googletag.pubads().addEventListener('slotRenderEnded',top.paGlobal.data[${ui}].googleImp);});</script></head><body><div id='inject-google-slot-id-${rn}'><script>googletag.cmd.push(function(){googletag.display('inject-google-slot-id-${rn}');});</script></div></body></html>`;break;case"hb":var pSizes=[];var hbSizes=cDemand&&cDemand.hbSizes||[];for(let size of hbSizes){paGlobal.data[ui].demand.s=size;if(paGlobal.listen.inViewHorizontal(pli,ci,ui)){pSizes.push(size)}}if(hbSizes[0]&&!pSizes[0]){paGlobal.log.info("unit "+ui+" (pl "+pli+") skipping demand "+(paGlobal.data[ui].demand.tn+1)+" ("+paGlobal.data[ui].demand.cb+") as no fitting size found");return paGlobal.data[ui].impListener(!1)}var keyValues=[["refresh",paGlobal.data[ui].refCount],["url",window.location.href]];if(!paGlobal.refSent){paGlobal.refSent=true;keyValues.push(["referrer",document.referrer])}keyValues=keyValues.concat(paGlobal.keyValues);result=`<html><head><script>parent.clearTimeout(parent.paGlobal.data[${ui}].fallbackTimeout);</script></head><body><\/body><script>var frame = document.createElement('iframe');frame.src='about:blank';frame.setAttribute('frameborder','0');frame.setAttribute('marginwidth','0');frame.setAttribute('marginheight','0');frame.setAttribute('scrolling','no');frame.style.width='100%';frame.style.height='100%';document.body.appendChild(frame);var jsonCall = new XMLHttpRequest();jsonCall.open('get','https://hb.brainlyads.com/json-parts/${cDemand.linkNumber}/?ver=1.0&pageId=${paGlobal.pageId}&sizes=${JSON.stringify(pSizes)}&winbidder=${JSON.stringify(top.hb_win&&top.hb_win[cDemand.linkNumber])||""}&keyValues=${JSON.stringify(keyValues)}');jsonCall.send();jsonCall.onreadystatechange = function(){if(this.status == 200 && this.readyState == 4){var parts = JSON.parse(this.response);if(parts.skipDFP){frame.id = 'google_ads_iframe_/90814396/'+(parts.code||'')+'_0';};frame.contentDocument.open();frame.contentDocument.write(\`<html><head><script>${top.paGlobal.__uspapiString}${top.paGlobal.__gdpr}<\\/script>${runAdLight?'<script src="https://tagan.adlightning.com/nextmillenium/op.js"><\\/script>':""}\${parts.head}${cDemand.blockThrough?'<script src="https://btloader.com/tag?o=5759505104109568&upapi=true" async><\\/script>':""}<script>var prebidSize, amzSize, sizeFired;pbjs.que.push(function(){pbjs.onEvent('bidWon',function(data){if(window.pbjsAuctionId && data.auctionId && window.pbjsAuctionId !== data.auctionId){return};prebidSize = [data.width,data.height];if(sizeFired){top.paGlobal.data[${ui}].demand.s = prebidSize;top.paGlobal.data[${ui}].demand.cs = prebidSize;top.paGlobal.openAd(${pli},${ci},${ui});}});});googletag.cmd.push(function(){googletag.pubads().addEventListener('slotRenderEnded',function(info){if(info.creativeId === 138340605220){info.isEmpty = true;parent.parent.paGlobal.log.info('unit ${ui} (pl ${pli}) recieved FP impression');};if(info.isEmpty==!1){if(info.size && info.size[0] == 0 && info.slot && info.slot && info.slot.getSizes().includes("fluid")){parent.parent.paGlobal.data[${ui}].demand.fluid = true}else{parent.parent.paGlobal.data[${ui}].demand.fluid = false};if(${pSizes&&pSizes[0]}){var amzn_win;var cDoc=document.querySelector('iframe')&&document.querySelector('iframe').contentWindow;for(let a=0;a<5;a++){if(cDoc&&cDoc.amzn_win){amzn_win=cDoc.amzn_win;break;};try{cDoc=cDoc.document.querySelector('iframe').contentWindow}catch(e){break;}};if(amzn_win){if((amzn_win.amzSize && amzn_win.amzSize[0])||(amzn_win.adUnitSize && amzn_win.adUnitSize[0])){amzSize=amzn_win.amzSize||amzn_win.adUnitSize}try{var f = document.querySelector('iframe[id^="google_ads_iframe_/"]');var fSize=[parseInt(f.width),parseInt(f.height)];if(fSize[0]&&fSize[0] != 0){amzSize = fSize;}}catch(e){}};top.paGlobal.data[${ui}].demand.s = prebidSize||amzSize||info.size;sizeFired = true;};top.paGlobal.data[${ui}].impListener(true);}else if(info.isEmpty==!0){top.paGlobal.data[${ui}].impListener(false);}})});document.addEventListener('apAds',function(){console.log('pa info apAds event now fired');top.paGlobal.data[${ui}].hbFunctions.stopRefresh();});document.addEventListener('apAds_line',function(){console.log('pa info: apAds_line event now fired');top.paGlobal.data[${ui}].hbFunctions.changeHeight();});document.addEventListener('apAds_x',function(){console.log('pa info apAds_x event now fired');top.paGlobal.data[${ui}].hbFunctions.removeAd();});document.addEventListener('apAds_hide',function(){console.log('pa info apAds_hide event now fired');top.paGlobal.data[${ui}].hbFunctions.hideAd();});document.addEventListener('apAds_div',function(info){console.log('pa info apAds_div event now fired');console.log(info.detail);top.paGlobal.data[${ui}].hbFunctions.newDiv(info.detail);});<\\/script></head><body>\${parts.body}</body></html>\`);frame.contentDocument.close()}};</script></html>`;break;case"amazon":if(runAdLight){result+='<script src="https://tagan.adlightning.com/nextmillenium/op.js"><\/script>'}result+=`<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script><script>var googletag=googletag||{};googletag.cmd=googletag.cmd||[];googletag.cmd.push(function(){googletag.defineSlot('/90814396/${cDemand.unitName}',[[${cDemand.s[1]},${cDemand.s[0]}]],'inject-amazon-slot-id-1').addService(googletag.pubads());googletag.pubads().disableInitialLoad();googletag.pubads().enableSingleRequest();googletag.enableServices()});</script><script type='text/javascript'>!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");apstag.init({pubID:'79e40b05-e673-4b6c-85f9-79252a7f96a5',adServer:'googletag',bidTimeout:2e3});apstag.fetchBids({slots:[{slotID:'inject-amazon-slot-id-1',slotName:'/90814396/${cDemand.unitName}',sizes:[${cDemand.s[0]},${cDemand.s[1]}]}]},function(bids){googletag.cmd.push(function(){apstag.setDisplayBids();googletag.pubads().refresh()})});googletag.cmd.push(function(){googletag.pubads().addEventListener('slotRenderEnded',top.paGlobal.data[${ui}].googleImp);})</script></head><body><div id='inject-amazon-slot-id-1'><script>googletag.cmd.push(function(){googletag.display('inject-amazon-slot-id-1')});</script></div></body></html>`;break}return result}},vidInDisp:function(pli,ci,ui){if(paGlobal.data[ui].vidInDisp.called){return!1}paGlobal.data[ui].vidInDisp.called=!0;if(!paGlobal.pls[pli].vidInDisp||!paGlobal.pls[pli].vidInDisp.dispTimes||!paGlobal.pls[pli].vidInDisp.dispTimes||!paGlobal.pls[pli].vidInDisp.tags){return!1}var firstOne="dispTimes";var secondOne="vidTimes";if(paGlobal.pls[pli].vidInDisp.sp=="video"){firstOne="vidTimes";secondOne="dispTimes"}var returner={dispTimes:!1,vidTimes:!0};if(paGlobal.data[ui].vidInDisp.count<paGlobal.pls[pli].vidInDisp[firstOne]){paGlobal.data[ui].vidInDisp.count++;return returner[firstOne]}else{paGlobal.data[ui].vidInDisp.count++;if(paGlobal.data[ui].vidInDisp.count>=paGlobal.pls[pli].vidInDisp[firstOne]+paGlobal.pls[pli].vidInDisp[secondOne]){paGlobal.data[ui].vidInDisp.count=0}return returner[secondOne]}},vidInDispVidComplete:function(pli,ci,ui,vidErrored){if(vidErrored){paGlobal.data[ui].refCount++}if(paGlobal.pls[pli].vidInDisp.sp=="display"){paGlobal.data[ui].vidInDisp.count=0}else if(paGlobal.data[ui].vidInDisp.count<paGlobal.pls[pli].vidInDisp.vidTimes){paGlobal.data[ui].vidInDisp.count=paGlobal.pls[pli].vidInDisp.vidTimes}paGlobal.refresh.finished(pli,ci,ui)},writeDoc:function(pli,ci,ui){paGlobal.data[ui].vidInDisp.onVid=!1;var writeNow=!0;if(!paGlobal.data[ui].demand.cad&&paGlobal.vidInDisp(pli,ci,ui)){if(!window.paVid){writeNow=!1}paGlobal.data[ui].vidInDisp.onVid=!0;var maxWidth=Math.min(paGlobal.data[ui].demand.cs&&paGlobal.data[ui].demand.cs[0]||paGlobal.pls[pli].st.s[0])||paGlobal.data[ui].div.offsetWidth;var maxHeight=paGlobal.data[ui].div.offsetHeight||paGlobal.data[ui].demand.cs&&paGlobal.data[ui].demand.cs[1]||paGlobal.pls[pli].st.s[1];var width=Math.min(maxWidth,maxHeight/.5625);var height=Math.min(maxHeight,width*.5625);width=Math.min(width,height/.5625);if(paGlobal.pls[pli].vidInDisp.minH){height=paGlobal.pls[pli].vidInDisp.minH;width=height/.5625}var cDemand={s:[width,height],name:"video-in-display",partner:"video-in-display"};paGlobal.data[ui].demand.cb="video-in-display";paGlobal.data[ui].vidInDisp.s=cDemand.s}else if(paGlobal.pls[pli].d.type=="live"&&!paGlobal.data[ui].demand.cad){var cDemand=paGlobal.pls[pli].d.live[paGlobal.data[ui].demand.tn];paGlobal.data[ui].demand.s=cDemand.s||paGlobal.pls[pli].st.s;if(paGlobal.data[ui].demand.s[0]=="string"){paGlobal.data[ui].demand.s[0]=parseInt(paGlobal.data[ui].demand.s[0])||paGlobal.pls[pli].st.s[0];paGlobal.data[ui].demand.s[1]=parseInt(paGlobal.data[ui].demand.s[1])||paGlobal.pls[pli].st.s[1]}paGlobal.data[ui].demand.cb=cDemand.name||cDemand.partner||"Unknown"}else if(paGlobal.pls[pli].t!=="video"&&paGlobal.pls[pli].t!=="headerVideo"){paGlobal.data[ui].demand.s=paGlobal.pls[pli].st.s;paGlobal.data[ui].demand.cb="Direct"}else{if(!window.paVid){writeNow=!1}}if(!paGlobal.listen.inViewHorizontal(pli,ci,ui)){paGlobal.log.info("unit "+ui+" (pl "+pli+") skipping demand "+(paGlobal.data[ui].demand.tn+1)+" ("+paGlobal.data[ui].demand.cb+") as it doesn't fit (percent view)");return paGlobal.data[ui].impListener(!1)}if(paGlobal.data[ui].demand.skipIndex[paGlobal.data[ui].demand.tn]){paGlobal.log.info("unit "+ui+" (pl "+pli+") skipping demand "+(paGlobal.data[ui].demand.tn+1)+" ("+paGlobal.data[ui].demand.cb+") as skip on refresh is active");return paGlobal.data[ui].impListener(!1)}paGlobal.data[ui].newFrame=paGlobal.data[ui].frame.cloneNode();paGlobal.data[ui].frame.remove();paGlobal.data[ui].frame=paGlobal.data[ui].newFrame;paGlobal.data[ui].div.appendChild(paGlobal.data[ui].frame);var frameDoc=paGlobal.data[ui].frame.contentDocument;paGlobal.log.info("unit "+ui+" (pl "+pli+") calling: "+paGlobal.data[ui].demand.cb+" ("+(paGlobal.data[ui].demand.tn+1)+")");paGlobal.data[ui].listenFired=!1;if(paGlobal.data[ui].fallbackTimeout){clearTimeout(paGlobal.data[ui].fallbackTimeout)}paGlobal.data[ui].fallbackTimeout=setTimeout(()=>{paGlobal.log.warn("Fallback timeout expired for unit "+ui+" (pl "+pli+")");paGlobal.data[ui].impListener(!1);paGlobal.sendReport(paGlobal.x({type:"wFail",pl:parseInt(pli),partnerName:cDemand.name||cDemand.partner,refreshCount:paGlobal.data[ui].refCount,linkNumber:cDemand.linkNumber,hbTagName:cDemand.hbTagName,unitName:cDemand.unitName}))},2e3);if(writeNow){frameDoc.open();frameDoc.write(paGlobal.compileDoc(pli,ci,ui));frameDoc.close()}else{if(!window.paVid){var vidScript=document.createElement("script");vidScript.src="https://powerad.ai/vid_script.js";document.head.appendChild(vidScript);vidScript.addEventListener("load",()=>{frameDoc.open();frameDoc.write(paGlobal.compileDoc(pli,ci,ui));frameDoc.close()})}else{frameDoc.open();frameDoc.write(paGlobal.compileDoc(pli,ci,ui));frameDoc.close()}}},getHeight:function(height,pli){if(paGlobal.pls[pli].vao.adh.on&&paGlobal.pls[pli].t!=="multiInsert"){return height+25}else{return height}},smallerBox:function(pli,ci,ui,frame){let height=paGlobal.pls[pli].mp.cp.sbp.h;if(paGlobal.pls[pli].vao.adh.on)height+=25;paGlobal.cData[ci].div.style.height=height+"px";paGlobal.data[ui].div.style.height=paGlobal.pls[pli].mp.cp.sbp.h+"px";paGlobal.data[ui].div.style.width=paGlobal.data[ui].demand.s[0]+"px";paGlobal.data[ui].frame.style.height=paGlobal.data[ui].demand.s[1]+"px";paGlobal.data[ui].frame.style.cssText+="max-height: 100vh !important";if(paGlobal.pls[pli].mp.cp.sbp.sft){paGlobal.cData[ci].div.style.cssText+="overflow-y: hidden !important";paGlobal.data[ui].div.style.cssText+="overflow-y: hidden !important";var totalScroll=paGlobal.data[ui].demand.s[1]-paGlobal.pls[pli].mp.cp.sbp.h;paGlobal.data[ui].smallerBoxChange=function(){var maxTop=paGlobal.screenDimensions.h-paGlobal.pls[pli].mp.cp.sbp.h-paGlobal.pls[pli].mp.cp.sbp.osb;var osTop=paGlobal.data[ui].div.getBoundingClientRect().top;if(osTop<0&&osTop>=-paGlobal.pls[pli].mp.cp.sbp.h){paGlobal.data[ui].frame.style.transform="translateY(-"+totalScroll+"px)"}if(osTop>=0&&osTop<=maxTop){var transY=totalScroll-paGlobal.percentToPx(totalScroll,osTop/maxTop*100);paGlobal.data[ui].frame.style.transform="translateY(-"+transY+"px)"}};paGlobal.data[ui].smallerBoxChange();document.addEventListener("scroll",paGlobal.data[ui].smallerBoxChange,{passive:!0})}else{paGlobal.data[ui].div.style.cssText+="position: absolute !important";let top=0;if(paGlobal.pls[pli].vao.adh.on)top=25;paGlobal.data[ui].div.style.top=top+"px";paGlobal.data[ui].div.style.left=0;paGlobal.data[ui].div.style.right=0;paGlobal.data[ui].div.style.clip="rect(0px, "+paGlobal.data[ui].demand.s[0]+"px, "+paGlobal.pls[pli].mp.cp.sbp.h+"px, 0px)";paGlobal.data[ui].div.style.clipPath="polygon(0px 0px, 100% 0px, 100% "+paGlobal.pls[pli].mp.cp.sbp.h+"px, 0px "+paGlobal.pls[pli].mp.cp.sbp.h+"px)";paGlobal.data[ui].frame.style.position="fixed";paGlobal.data[ui].frame.style.top=paGlobal.screenDimensions.h/2-paGlobal.data[ui].demand.s[1]/2+"px";if(paGlobal.pls[pli].mp.cp.sbp.soa=="stick"){paGlobal.data[ui].smallerBoxChange=function(){var maxToTop=paGlobal.screenDimensions.h/2-paGlobal.data[ui].demand.s[1]/2;var maxFromTop=maxToTop+paGlobal.data[ui].demand.s[1]-paGlobal.pls[pli].mp.cp.sbp.h;if(paGlobal.selectRect(paGlobal.data[ui].div).top<=maxToTop){paGlobal.data[ui].frame.style.position="absolute";paGlobal.data[ui].frame.style.top=0}else if(paGlobal.selectRect(paGlobal.data[ui].div).top>=maxFromTop){paGlobal.data[ui].frame.style.position="absolute";paGlobal.data[ui].frame.style.top=paGlobal.pls[pli].mp.cp.sbp.h-paGlobal.data[ui].demand.s[1]+"px";paGlobal.data[ui].frame.style.bottom=0}else{paGlobal.data[ui].frame.style.position="fixed";paGlobal.data[ui].frame.style.top=paGlobal.screenDimensions.h/2-paGlobal.data[ui].demand.s[1]/2+"px"}};document.addEventListener("scroll",paGlobal.data[ui].smallerBoxChange,{passive:!0})}}},cleanSmallerBox:function(pli,ci,ui){if(paGlobal.data[ui].smallerBoxChange){document.removeEventListener("scroll",paGlobal.data[ui].smallerBoxChange)}paGlobal.cData[ci].div.style.removeProperty("height");paGlobal.data[ui].div.style.removeProperty("width");paGlobal.data[ui].div.style.removeProperty("top");paGlobal.data[ui].div.style.removeProperty("right");paGlobal.data[ui].div.style.removeProperty("left");paGlobal.data[ui].div.style.removeProperty("clip");paGlobal.data[ui].div.style.removeProperty("clip-path");paGlobal.data[ui].div.style.position="relative";if(paGlobal.data[ui].op){paGlobal.data[ui].div.removeEventListener("mouseover",paGlobal.data[ui].op.of);paGlobal.cData[ci].div.removeEventListener("mouseleave",paGlobal.data[ui].op.op)}},foldingAd:function(pli,ui){const closeFoldBottom=paGlobal.pls[pli].mp.cp.foldParams.closeFoldBottom||0;const activeHeight=paGlobal.screenDimensions.h-closeFoldBottom;const fullyOpenAtTop=paGlobal.percentToPx(paGlobal.screenDimensions.h,paGlobal.pls[pli].mp.cp.foldParams.openFoldTop);const fullyOpenAtBottom=paGlobal.percentToPx(paGlobal.screenDimensions.h,paGlobal.pls[pli].mp.cp.foldParams.openFoldBottom);const fSegH=paGlobal.pls[pli].mp.cp.foldParams.fSegHeight>=0?paGlobal.pls[pli].mp.cp.foldParams.fSegHeight:50;paGlobal.data[ui].foldingWrap=paGlobal.data[ui].frame.contentDocument.querySelector("div.folding-unit-wrap");paGlobal.data[ui].foldingSegmantWraps=paGlobal.data[ui].frame.contentDocument.querySelectorAll("div.folding-segment-wrap");paGlobal.data[ui].imgSegmantWraps=paGlobal.data[ui].frame.contentDocument.querySelectorAll("div.img-segment-wrap");paGlobal.data[ui].adjustFold=function(){const top=paGlobal.data[ui].div.getBoundingClientRect().top;const outOfView=top<=0||top>activeHeight-fSegH;const topOfView=top>0&&top<fullyOpenAtTop;const inView=top>fullyOpenAtTop&&top<paGlobal.screenDimensions.h-fullyOpenAtBottom-fSegH;const bottomOfView=top>paGlobal.screenDimensions.h-fullyOpenAtBottom-fSegH&&top<activeHeight-fSegH;if(outOfView){if(paGlobal.data[ui].fullyClosed)return;paGlobal.data[ui].fodingAnimArr.forEach(a=>{a.currentTime=99});paGlobal.data[ui].fodingAnimArr2.forEach(a=>{a.currentTime=99});paGlobal.data[ui].div.style.height=fSegH+"px";paGlobal.data[ui].fullyOpen=false;paGlobal.data[ui].fullyClosed=true}if(topOfView){const animationStage=100-top/(fullyOpenAtTop/100);paGlobal.data[ui].fodingAnimArr.forEach(a=>{a.currentTime=animationStage});paGlobal.data[ui].fodingAnimArr2.forEach(a=>{a.currentTime=animationStage});paGlobal.data[ui].div.style.height=paGlobal.data[ui].foldingWrap.getBoundingClientRect().height+20+"px";paGlobal.data[ui].fullyOpen=false;paGlobal.data[ui].fullyClosed=false}if(inView){if(paGlobal.data[ui].fullyOpen)return;paGlobal.data[ui].fodingAnimArr.forEach(a=>{a.currentTime=0});paGlobal.data[ui].fodingAnimArr2.forEach(a=>{a.currentTime=0});paGlobal.data[ui].div.style.height=paGlobal.data[ui].demand.cs[1]+"px";paGlobal.data[ui].fullyOpen=true;paGlobal.data[ui].fullyClosed=false}if(bottomOfView){const animationStage=100-(activeHeight-top-fSegH)/((fullyOpenAtBottom-closeFoldBottom)/100);paGlobal.data[ui].fodingAnimArr.forEach(a=>{a.currentTime=animationStage});paGlobal.data[ui].fodingAnimArr2.forEach(a=>{a.currentTime=animationStage});paGlobal.data[ui].div.style.height=paGlobal.data[ui].foldingWrap.getBoundingClientRect().height+20+"px";paGlobal.data[ui].fullyOpen=false;paGlobal.data[ui].fullyClosed=false}};const animOptions={duration:100,iterations:Infinity};paGlobal.data[ui].fodingAnimArr=[];paGlobal.data[ui].imgSegmantWraps.forEach((e,i)=>{if(i===0){const fSegH=paGlobal.pls[pli].mp.cp.foldParams.fSegHeight>=0?paGlobal.pls[pli].mp.cp.foldParams.fSegHeight:50;paGlobal.data[ui].fodingAnimArr[i]=e.animate([{marginBottom:0},{marginBottom:`-${25}px`}],animOptions)}else{paGlobal.data[ui].fodingAnimArr[i]=e.animate([{transform:"rotateX(0deg)",backgroundPosition:i/2%1===0?"0 100%":"0 0%"},{transform:i/2%1===0?"rotateX(90deg)":"rotateX(-90deg)",backgroundPosition:i/2%1===0?"0 0%":"0 100%"}],animOptions)}paGlobal.data[ui].fodingAnimArr[i].pause()});paGlobal.data[ui].fodingAnimArr2=[];paGlobal.data[ui].foldingSegmantWraps.forEach((e,i)=>{if(i===0)return;{paGlobal.data[ui].fodingAnimArr2[i]=e.animate([{height:"50px",transform:"scaleX(1)",marginBottom:"0px"},{height:"22px",transform:"scaleX(.965)",marginBottom:"12px"},{height:"0px",transform:"scaleX(0.97)",marginBottom:"0px"}],animOptions)}paGlobal.data[ui].fodingAnimArr2[i].pause()});paGlobal.listen.observer(paGlobal.data[ui].div,undefined,e=>{if(e.isIntersecting){document.addEventListener("scroll",paGlobal.data[ui].adjustFold,{passive:true})}else{document.removeEventListener("scroll",paGlobal.data[ui].adjustFold)}});paGlobal.data[ui].adjustFold()},flipEffect(pli,ci,ui){paGlobal.cData[ci].div.style.perspective="1000px";paGlobal.data[ui].div.style.transition="all 0.1s";paGlobal.cData[ci].observer=new IntersectionObserver((ent,obs)=>{ent.forEach(e=>{if(e.boundingClientRect.y<300){paGlobal.data[ui].div.style.transformOrigin="bottom";paGlobal.data[ui].div.style.transform=`rotateX(${93-e.intersectionRatio*100*.93}deg)`;paGlobal.data[ui].div.style.filter=`drop-shadow(${10-e.intersectionRatio*10}px ${100-e.intersectionRatio*100}px ${26-e.intersectionRatio*26}px #00000075)`}else{paGlobal.data[ui].div.style.transformOrigin="top";paGlobal.data[ui].div.style.transform=`rotateX(${-83+e.intersectionRatio*100*.83}deg)`;paGlobal.data[ui].div.style.filter=`drop-shadow(-${10-e.intersectionRatio*10}px ${100-e.intersectionRatio*100}px ${26-e.intersectionRatio*26}px #00000075)`}})},{rootMargin:"-50px 0px",threshold:[0,.5,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1]});paGlobal.cData[ci].observer.observe(paGlobal.cData[ci].div)},percentToPx(dimension,percent){return percent/100*dimension},refresh:{start:function(pli,ci,ui,time){if(paGlobal.data[ui].vidInDisp.onVid){return}if(paGlobal.data[ui].refresh.finished){return}if(!time||time<5e3){time=5e3}if(paGlobal.pls[pli].to.mr&&paGlobal.data[ui].refCount>=paGlobal.pls[pli].to.mr){paGlobal.log.info("unit "+ui+" (pl "+pli+") max refresh reached");return}paGlobal.data[ui].refresh.timer=setTimeout(function(){paGlobal.refresh.finished(pli,ci,ui)},time);paGlobal.log.info("unit "+ui+" (pl "+pli+") refresh started for "+time/1e3+" seconds");paGlobal.data[ui].refresh.startTs=Date.now();paGlobal.data[ui].refresh.started=!0;paGlobal.data[ui].refresh.running=!0;paGlobal.data[ui].refresh.ran=0;paGlobal.data[ui].refresh.currentRunningTime=time;paGlobal.data[ui].div.onmouseenter=function(){if(paGlobal.pls[pli].vp.rtnv){paGlobal.data[ui].currentlyHovered=true}paGlobal.refresh.pause(pli,ci,ui,time)};paGlobal.data[ui].div.onmouseleave=function(){paGlobal.refresh.resume(pli,ci,ui,time);if(paGlobal.pls[pli].vp.rtnv){paGlobal.data[ui].currentlyHovered=false;if(paGlobal.data[ui].waitingForMouseLeave){paGlobal.data[ui].waitingForMouseLeave=false;paGlobal.refresh.finished(pli,ci,ui)}}};if(paGlobal.pls[pli].vp.rtnv){paGlobal.data[ui].inViewCount=0;paGlobal.data[ui].inViewTS=Date.now()}if(!paGlobal.data[ui].viewability){paGlobal.refresh.pause(pli,ci,ui)}},pause:function(pli,ci,ui,time){if(paGlobal.data[ui].vidInDisp.onVid){return}if(!paGlobal.data[ui].refresh.running){return}if(paGlobal.pls[pli].vp.rtnv&&!paGlobal.data[ui].finishedNoView){if(paGlobal.pls[pli].vp.miv){paGlobal.data[ui].inViewCount+=Date.now()-paGlobal.data[ui].inViewTS}return}paGlobal.data[ui].refresh.running=!1;var ran=Date.now()-paGlobal.data[ui].refresh.startTs;paGlobal.data[ui].refresh.ran+=ran;clearTimeout(paGlobal.data[ui].refresh.timer);paGlobal.log.info("unit "+ui+" (pl "+pli+") paused refresh")},resume:function(pli,ci,ui,time){if(paGlobal.data[ui].vidInDisp.onVid){return}if(paGlobal.data[ui].refresh.finished||paGlobal.data[ui].refresh.running&&!paGlobal.pls[pli].vp.rtnv){return}var leftToRun=time-paGlobal.data[ui].refresh.ran;paGlobal.data[ui].refresh.startTs=Date.now();paGlobal.data[ui].refresh.timer=setTimeout(function(){paGlobal.refresh.finished(pli,ci,ui)},leftToRun);paGlobal.data[ui].refresh.running=!0;if(paGlobal.pls[pli].vp.rtnv){paGlobal.data[ui].inViewTS=Date.now();return}paGlobal.log.info("unit "+ui+" (pl "+pli+") resumed refresh")},stop:function(pli,ci,ui,time){paGlobal.log.info("unit "+ui+" (pl "+pli+") stopped refresh");clearTimeout(paGlobal.data[ui].refresh.timer);paGlobal.data[ui].refresh={started:!0,running:!1,finished:!0}},finished:function(pli,ci,ui){clearTimeout(paGlobal.data[ui].refresh.timer);if(paGlobal.data[ui].closed){return}if(paGlobal.data[ui].refresh.finished){return}if(!paGlobal.data[ui].viewability||document.visibilityState==="hidden"){if(paGlobal.pls[pli].vp.rtnv){paGlobal.data[ui].finishedNoView=true}paGlobal.refresh.pause(pli,ci,ui);return}if(paGlobal.pls[pli].vp.rtnv){paGlobal.data[ui].finishedNoView=false;if(paGlobal.data[ui].currentlyHovered){paGlobal.data[ui].waitingForMouseLeave=true;paGlobal.log.info(`unit ${ui} (pl ${pli}) refresh finished while hovered, will refresh on mouseleave`);return}}if(paGlobal.pls[pli].vp.rtnv&&paGlobal.pls[pli].vp.miv&&!paGlobal.data[ui].eosnf){paGlobal.data[ui].inViewCount+=Date.now()-paGlobal.data[ui].inViewTS;if(paGlobal.data[ui].inViewCount<paGlobal.pls[pli].vp.miv*1e3){paGlobal.data[ui].refresh.ran=paGlobal.data[ui].inViewCount;paGlobal.log.info(`unit ${ui} (pl ${pli}) refresh finished before minimum in-view, will delay refresh for ${paGlobal.pls[pli].vp.miv-paGlobal.data[ui].inViewCount/1e3} seconds`);paGlobal.refresh.resume(pli,ci,ui,paGlobal.pls[pli].vp.miv*1e3);return}}paGlobal.data[ui].demand.tn=0;try{delete paGlobal.data[ui].frame}catch(e){}paGlobal.data[ui].vidInDisp.called=!1;paGlobal.addFrame(pli,ci,ui);paGlobal.data[ui].refresh={started:!1,running:!1}}},honPls:[],plUnits:[],checkMinMaxView:function(pli,ci,ui){if(paGlobal.pls[pli].vp.sd.mn.w&&paGlobal.screenDimensions.w<paGlobal.pls[pli].vp.sd.mn.w||paGlobal.pls[pli].vp.sd.mn.h&&paGlobal.screenDimensions.h<paGlobal.pls[pli].vp.sd.mn.h||paGlobal.pls[pli].vp.sd.mx.w&&paGlobal.screenDimensions.w>paGlobal.pls[pli].vp.sd.mx.w||paGlobal.pls[pli].vp.sd.mx.h&&paGlobal.screenDimensions.h>paGlobal.pls[pli].vp.sd.mx.h){return!1}else{return!0}},checkFitable:function(pli,ci,ui){if(paGlobal.pls[pli].t=="interstitial"){const clsBtnAddHeight=paGlobal.pls[pli].st.cb&&paGlobal.pls[pli].st.cbp.p.os.vo<0?paGlobal.pls[pli].st.cbp.p.os.vo*-1+paGlobal.pls[pli].st.cbp.s[1].a+paGlobal.pls[pli].st.cbp.pd:0;return paGlobal.screenDimensions.w>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[0],paGlobal.pls[pli].vp.p.w)&&paGlobal.screenDimensions.h>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.p.h)+clsBtnAddHeight}if(paGlobal.pls[pli].t=="adhesion"){if((paGlobal.pls[pli].ap.cp.cts.sq||paGlobal.pls[pli].ap.cp.cts.m)&&(!paGlobal.pls[pli].ap.cp.cts.saw||paGlobal.pls[pli].ap.cp.cts.saw&&paGlobal.screenDimensions.w>=paGlobal.pls[pli].ap.cp.cts.saw)){if(!paGlobal.plData[pli].sqcStarted||!paGlobal.plData[pli].sqc.cv){return!0}}}return paGlobal.cData[ci].div.offsetWidth+2>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[0],paGlobal.pls[pli].vp.p.w)},listen:{inViewVertical:function(pli,ci,ui,nfpb){if(paGlobal.pls[pli].vp.lbv&&!paGlobal.data[ui].fv&&paGlobal.selectRect(paGlobal.data[ui].div).top-paGlobal.screenDimensions.h<paGlobal.pls[pli].vp.lbv&&paGlobal.selectRect(paGlobal.data[ui].div).top+paGlobal.data[ui].demand.s[1]+paGlobal.pls[pli].vp.lbv>=0){return!0}switch(paGlobal.pls[pli].t){case"multiInsert":case"video":return paGlobal.selectRect(paGlobal.data[ui].div).top+paGlobal.data[ui].demand.s[1]>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.p.h)&&paGlobal.screenDimensions.h-paGlobal.selectRect(paGlobal.data[ui].div).top>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.p.h);break;case"stickyBottom":case"stickyTop":case"interstitial":return!0;break;case"rail":case"adhesion":return paGlobal.selectRect(paGlobal.data[ui].div).top+paGlobal.data[ui].demand.s[1]>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.p.h)&&paGlobal.screenDimensions.h-paGlobal.selectRect(paGlobal.data[ui].div).top>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.p.h)&&paGlobal.cData[ci].div.offsetHeight>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.p.h);break}},inViewHorizontal:function(pli,ci,ui){if(paGlobal.pls[pli].t=="interstitial"){const clsBtnAddHeight=paGlobal.pls[pli].st.cb&&paGlobal.pls[pli].st.cbp.p.os.vo<0?paGlobal.pls[pli].st.cbp.p.os.vo*-1+paGlobal.pls[pli].st.cbp.s[1].a+paGlobal.pls[pli].st.cbp.pd:0;return paGlobal.screenDimensions.w>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[0],paGlobal.pls[pli].vp.p.w)&&paGlobal.screenDimensions.h>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.p.h)+clsBtnAddHeight}else{if(paGlobal.pls[pli].t=="adhesion"){if((paGlobal.pls[pli].ap.cp.cts.sq||paGlobal.pls[pli].ap.cp.cts.m)&&(!paGlobal.pls[pli].ap.cp.cts.saw||paGlobal.pls[pli].ap.cp.cts.saw&&paGlobal.screenDimensions.w>=paGlobal.pls[pli].ap.cp.cts.saw)){if(!paGlobal.plData[pli].sqcStarted||!paGlobal.plData[pli].sqc.cv){return!0}else{}}}return paGlobal.cData[ci].div.offsetWidth+2>=paGlobal.percentToPx(paGlobal.data[ui].demand.s[0],paGlobal.pls[pli].vp.p.w)}},checkLBV:function(pli,ci,ui){if(paGlobal.pls[pli].vp.lbv&&!paGlobal.data[ui].fv&&paGlobal.selectRect(paGlobal.data[ui].div).top-paGlobal.screenDimensions.h<paGlobal.pls[pli].vp.lbv&&paGlobal.selectRect(paGlobal.data[ui].div).top+paGlobal.data[ui].demand.s[1]+paGlobal.pls[pli].vp.lbv>=0){return!0}else{return!1}},checkHON:function(pli,ci,ui){if(!paGlobal.data[ui].demand.cs){paGlobal.data[ui].demand.cs=paGlobal.data[ui].demand.s}var hide=!1;paGlobal.selectAll(paGlobal.pls[pli].vp.hon).forEach(i=>{if(paGlobal.selectRect(paGlobal.data[ui].div).top+paGlobal.data[ui].demand.cs[1]>=paGlobal.selectRect(i).top&&paGlobal.selectRect(paGlobal.data[ui].div).bottom<=paGlobal.selectRect(i).top+paGlobal.selectRect(i).height+paGlobal.data[ui].demand.cs[1]&&paGlobal.selectRect(paGlobal.data[ui].div).left<=paGlobal.selectRect(i).left+paGlobal.selectRect(i).width&&paGlobal.selectRect(paGlobal.data[ui].div).left+paGlobal.data[ui].demand.cs[0]>=paGlobal.selectRect(i).left){paGlobal.data[ui].showable.honShow=!1;hide=!0}});if(!hide){paGlobal.data[ui].showable.honShow=!0}paGlobal.listen.viewListener(pli,ci,ui)},view:function(pli,ci,ui){if(!paGlobal.marks.view_start){performance.mark("view_start");paGlobal.marks.view_start=true}paGlobal.data[ui].showable.minMaxView=paGlobal.checkMinMaxView(pli,ci,ui);paGlobal.data[ui].showable.fitable=paGlobal.checkFitable(pli,ci,ui);if(paGlobal.pls[pli].vp.s.s){paGlobal.data[ui].showable.scrollShow=!1;paGlobal.data[ui].showObs=paGlobal.listen.observer(paGlobal.observerPixel(document.body,paGlobal.pls[pli].vp.s.s,pli,ci,ui),{threshold:0,rootMargin:"0px"},paGlobal.toggleScrollShow)}if(paGlobal.pls[pli].vp.s.h){paGlobal.data[ui].showable.scrollHide=!1;paGlobal.data[ui].hideObs=paGlobal.listen.observer(paGlobal.observerPixel(document.body,paGlobal.pls[pli].vp.s.h,pli,ci,ui),{threshold:0,rootMargin:"0px"},paGlobal.toggleScrollHide)}if(paGlobal.pls[pli].vp.lbv){if(paGlobal.listen.checkLBV(pli,ci,ui)){paGlobal.data[ui].closeToView=!0}else{if(paGlobal.cData[ci].lbvObs){paGlobal.cData[ci].uis.push(ui)}else{paGlobal.cData[ci].uis=[ui];paGlobal.cData[ci].lbvObs=paGlobal.listen.observer(paGlobal.observerPixel(paGlobal.cData[ci].div,paGlobal.pls[pli].vp.s.h,pli,ci,ui),{threshold:0,rootMargin:`${paGlobal.pls[pli].vp.lbv}px 0px ${paGlobal.pls[pli].vp.lbv+paGlobal.pls[pli].st.s[1]}px`},e=>{if(e.isIntersecting){paGlobal.cData[ci].uis.forEach(u=>{paGlobal.data[u].closeToView=!0;paGlobal.listen.viewListener(pli,ci,u)});paGlobal.cData[ci].lbvObs.disconnect()}})}}}if(paGlobal.pls[pli].vp.hon){paGlobal.honPls.push({pli:pli,ci:ci,ui:ui});paGlobal.listen.checkHON(pli,ci,ui);if(!paGlobal.honListenerSet){paGlobal.honListenerSet=!0;document.addEventListener("scroll",()=>paGlobal.honPls.forEach(pl=>paGlobal.listen.checkHON(pl.pli,pl.ui,pl.ci)))}}if(paGlobal.pls[pli].t=="adhesion"){paGlobal.plData[pli].calculateAllUnits()}if(paGlobal.pls[pli].t!=="interstitial"&&paGlobal.pls[pli].t!=="stickyBottom"&&paGlobal.pls[pli].t!=="stickyTop"){paGlobal.addViewableObserver(pli,ci,ui)}else{paGlobal.data[ui].viewability=!0;paGlobal.listen.viewListener(pli,ci,ui)}},observer:function(elem,options,cb){var o=new IntersectionObserver((ent,obs)=>{ent.forEach(e=>cb(e))},options);o.observe(elem);return o},viewListener:function(pli,ci,ui){if((paGlobal.data[ui].viewability||!paGlobal.data[ui].fv&&(paGlobal.pls[pli].vp.lra||paGlobal.pls[pli].vp.lbv&&paGlobal.data[ui].closeToView))&&!Object.values(paGlobal.data[ui].showable).includes(!1)&&document.visibilityState!=="hidden"){if(!paGlobal.data[ui].fv){paGlobal.data[ui].fv=!0;paGlobal.addFrame(pli,ci,ui);paGlobal.plData[pli].uwff++}if(paGlobal.cData[ci].timesdStickyWaiting){paGlobal.cData[ci].timesdStickyWaiting=!1;paGlobal.setTimedSticky(pli,ci,ui)}if(!paGlobal.data[ui].hbHide){paGlobal.cData[ci].div.style.visibility="unset"}if(paGlobal.data[ui].opened){if(paGlobal.pls[pli].st.a){if(paGlobal.pls[pli].t==="adhesion"){paGlobal.data[ui].div.style.transition="width 0.5s, opacity 0.4"}else if(paGlobal.pls[pli].t!=="multiInsert"||paGlobal.pls[pli].t==="multiInsert"&&!paGlobal.pls[pli].mp.cp.fold){paGlobal.data[ui].div.style.transition="height 0.5s, opacity 0.4s"}}if(paGlobal.pls[pli].t!=="adhesion"&&paGlobal.pls[pli].t!=="video"&&(paGlobal.pls[pli].t!=="multiInsert"||paGlobal.pls[pli].t==="multiInsert"&&!paGlobal.pls[pli].mp.cp.fold&&!paGlobal.pls[pli].mp.cp.sb)){if(!paGlobal.pls[pli].vp.op.on){paGlobal.data[ui].div.style.height=paGlobal.getHeight(paGlobal.data[ui].demand.s[1],pli)+"px"}else{let loweredSize=paGlobal.getLoweredSize(paGlobal.data[ui].demand.s[1],paGlobal.pls[pli].vp.op.lh.a,paGlobal.pls[pli].vp.op.lh.t);paGlobal.data[ui].div.style.height=paGlobal.getHeight(loweredSize,pli)+"px"}}else if(paGlobal.pls[pli].t==="adhesion"){paGlobal.data[ui].div.style.width=paGlobal.data[ui].demand.cs[0]+"px"}else if(paGlobal.pls[pli].t!=="video"&&!paGlobal.pls[pli].mp.cp.fold){paGlobal.data[ui].div.style.height=paGlobal.data[ui].demand.cs[1]+"px"}paGlobal.data[ui].div.style.pointerEvents="auto";if(paGlobal.data[ui].refresh.started){paGlobal.refresh.resume(pli,ci,ui,paGlobal.data[ui].refresh.currentRunningTime)}}if(paGlobal.pls[pli].t=="headerVideo"||paGlobal.pls[pli].t=="video"&&paGlobal.pls[pli].vidp.t=="headerFullPage"){if(paGlobal.data[ui].vidInfo&&paGlobal.data[ui].vidInfo.vid){setTimeout(()=>{if(paGlobal.pls[pli].vidp.jumpToFixed){if(paGlobal.data[ui].vidInfo.jumpedToContent){return}paGlobal.data[ui].vidInfo.jumpedToContent=true;paGlobal.data[ui].vidInfo.jumpedToFixed=false;var heightClip=paGlobal.pls[pli].vidp.relHeight=="fullPage"?"100vh":"min(calc(100vw * 0.5625), 100vh)";paGlobal.data[ui].div.style.clip="rect(0px, 100vw, "+heightClip+", 0px)";paGlobal.data[ui].vidInfo.scrollNoteDiv.style.display="block";var frame=paGlobal.data[ui].frame;frame.style.maxWidth="100%";frame.style.maxHeight="100%";frame.style.maxHeight="";paGlobal.data[ui].frame.style.removeProperty(paGlobal.pls[pli].vidp.videoHeaderJumpToFixedXPos);frame.style.right="";paGlobal.data[ui].frame.style.removeProperty(paGlobal.pls[pli].vidp.videoHeaderJumpToFixedYPos);frame.style.bottom="";paGlobal.data[ui].vidInfo.vid.resize(frame.offsetWidth)}else{paGlobal.data[ui].vidInfo.vid.resume()}},1)}}}else{if(paGlobal.data[ui].opened&&paGlobal.data[ui].refresh.started){paGlobal.refresh.pause(pli,ci,ui,paGlobal.data[ui].refresh.currentRunningTime)}if((paGlobal.data[ui].viewability||!paGlobal.data[ui].viewability&&paGlobal.pls[pli].t==="adhesion")&&document.visibilityState!=="hidden"){if(paGlobal.pls[pli].st.a){if(paGlobal.pls[pli].t==="adhesion"){paGlobal.data[ui].div.style.transition="width 0.5s, opacity 0.7s"}else{paGlobal.data[ui].div.style.transition="height 0.5s, opacity 0.7s"}}if(paGlobal.pls[pli].t!=="adhesion"){paGlobal.data[ui].div.style.height=0;paGlobal.data[ui].div.style.pointerEvents="none"}else{paGlobal.data[ui].div.style.width=0}paGlobal.cData[ci].div.style.visibility="hidden"}}if(paGlobal.pls[pli].t=="headerVideo"||paGlobal.pls[pli].t=="video"&&paGlobal.pls[pli].vidp.t=="headerFullPage"){if(paGlobal.data[ui].vidInfo&&paGlobal.data[ui].vidInfo.vid){if(paGlobal.pls[pli].vidp.jumpToFixed){if(paGlobal.data[ui].vidInfo.jumpedToFixed){return}paGlobal.data[ui].vidInfo.jumpedToFixed=true;paGlobal.data[ui].vidInfo.jumpedToContent=false;paGlobal.data[ui].vidInfo.scrollNoteDiv.style.display="none";paGlobal.data[ui].div.style.clip="";var frame=paGlobal.data[ui].frame;frame.style.maxWidth=paGlobal.pls[pli].vidp.videoHeaderJumpToFixedMaxWidth+paGlobal.pls[pli].vidp.videoHeaderJumpToFixedMaxWidthType;frame.style.maxHeight=frame.offsetWidth*.5625+"px";frame.style[paGlobal.pls[pli].vidp.videoHeaderJumpToFixedXPos]=paGlobal.pls[pli].vidp.videoHeaderJumpToFixedXOffset+paGlobal.pls[pli].vidp.videoHeaderJumpToFixedXOffsetType;frame.style[paGlobal.pls[pli].vidp.videoHeaderJumpToFixedYPos]=paGlobal.pls[pli].vidp.videoHeaderJumpToFixedYOffset+paGlobal.pls[pli].vidp.videoHeaderJumpToFixedYOffsetType;paGlobal.data[ui].vidInfo.vid.resize(frame.offsetWidth)}else{paGlobal.data[ui].vidInfo.vid.pause()}}}}},addViewableObserver:function(pli,ci,ui){var options={threshold:Math.max(paGlobal.pls[pli].vp.p.w/100,0),rootMargin:`${paGlobal.pls[pli].st.s[1]-paGlobal.percentToPx(paGlobal.pls[pli].st.s[1],paGlobal.pls[pli].vp.p.h)}px 0px ${paGlobal.percentToPx(paGlobal.pls[pli].st.s[1],paGlobal.pls[pli].vp.p.h)*-1}px`};if(paGlobal.pls[pli].t==="adhesion"){options={threshold:Math.max(paGlobal.pls[pli].vp.p.h/100,0),rootMargin:`0px 350px`}}paGlobal.data[ui].observer=paGlobal.listen.observer(paGlobal.data[ui].observerPx,options,e=>{if(e.isIntersecting){paGlobal.data[ui].viewability=!0}else{paGlobal.data[ui].viewability=!1}paGlobal.listen.viewListener(pli,ci,ui)})},observerPixel:function(elem,top,pli,ci,ui,insert){var px=document.createElement("div");px.style=`height:0px;width:100%;background:transparent;position:absolute;left:0;top:${top||0}px;pointer-events:none`;if(pli&&ui>-1&&ci>-1){px.dataset.ui=ui;px.dataset.ci=ci;px.dataset.pli=pli}elem.insertAdjacentElement(insert||"beforeend",px);return px},toggleScrollShow:function(e){let unitData=e.target.dataset;if(!e.isIntersecting&&e.boundingClientRect.y<0){paGlobal.data[unitData.ui].showable.scrollShow=!0;if(paGlobal.data[unitData.ui].viewability)paGlobal.listen.viewListener(unitData.pli,unitData.ci,unitData.ui)}else{paGlobal.data[unitData.ui].showable.scrollShow=!1;if(paGlobal.data[unitData.ui].viewability)paGlobal.listen.viewListener(unitData.pli,unitData.ci,unitData.ui)}},toggleScrollHide:function(e){let unitData=e.target.dataset;if(!e.isIntersecting&&e.boundingClientRect.y<0){paGlobal.data[unitData.ui].showable.scrollHide=!1;if(paGlobal.data[unitData.ui].viewability)paGlobal.listen.viewListener(unitData.pli,unitData.ci,unitData.ui)}else{paGlobal.data[unitData.ui].showable.scrollHide=!0;if(paGlobal.data[unitData.ui].viewability)paGlobal.listen.viewListener(unitData.pli,unitData.ci,unitData.ui)}},getWiderAdhesion:function(pli){if(document.querySelector(".pa-global-class.pa-pl-"+pli)){var ad=document.querySelector(".pa-unit-global.pa-pl-"+pli);return paGlobal.data[ad.id.split("-")[ad.id.split("-").length-1]].demand.s[0]}var uis=[];for(let i of document.querySelectorAll(".pa-unit-global.pa-pl-"+pli)){uis.push(parseInt(i.id.split("-")[i.id.split("-").length-1]))}return Math.max(paGlobal.data[uis[0]].demand.s[0],paGlobal.data[uis[1]].demand.s[0])},vidFunctions:{xButton:function(){if(paGlobal.vidFunctions.stats.position=="fixed"&&paGlobal.pls[vidPli].vidp.xftr){paGlobal.pls[vidPli].vidp.p="relative";paGlobal.pls[vidPli].vidp.asa="pause";paGlobal.vidFunctions.togglePosition.inContent()}else{paGlobal.vidFunctions.remove();paGlobal.vidFunctions.close()}},inView:function(){if(paGlobal.vidFunctions.vidParams.position=="fixed"||paGlobal.vidFunctions.vidParams.type=="interstitial"){if((paGlobal.vidFunctions.vidParams.atSelector=="relative"||!vidCont)&&paGlobal.vidFunctions.vidParams.type!="interstitial"){if(!vidCont){paGlobal.log.warn("can't find selector to change video relative to")}else{if(vidCont.getBoundingClientRect().top>paGlobal.screenDimensions.h-vidCont.offsetHeight/2){paGlobal.vidFunctions.togglePosition.fixed();setTimeout(function(){paGlobal.vidFunctions.togglePosition.fixed()},50)}else if(vidCont.getBoundingClientRect().top+vidCont.offsetHeight/2<0){paGlobal.vidFunctions.togglePosition.fixed()}else{paGlobal.vidFunctions.togglePosition.inContent()}}}else{}return!0}else{if(paGlobal.pls[vidPli].vidp.asa=="pause"){return vidDiv.getBoundingClientRect().top+paGlobal.vidFunctions.getHeight(vidDiv)/2>=0&&vidDiv.getBoundingClientRect().top+paGlobal.vidFunctions.getHeight(vidDiv)/2<=paGlobal.screenDimensions.h}else if(paGlobal.pls[vidPli].vidp.asa=="move"){if(vidDiv.getBoundingClientRect().top+paGlobal.vidFunctions.getHeight(vidDiv)/2<=paGlobal.screenDimensions.h){if(vidCont.getBoundingClientRect().top+paGlobal.vidFunctions.getHeight(vidDiv)/2>=0){paGlobal.vidFunctions.togglePosition.inContent()}else{paGlobal.vidFunctions.togglePosition.fixed()}return!0}else{return!1}}}paGlobal.log.warn("can't determine if video is in view with current position and scroll action");return!1},addVideo:function(){paGlobal.vidFunctions.stats.added=!0;if(paGlobal.pls[vidPli].vidp.powerad){let checkForVidVar=window.paVid;if(paGlobal.pls[vidPli].vidp.newVidScript){checkForVidVar=window.PowerPlayer}if(!checkForVidVar){var vidScript=document.createElement("script");if(paGlobal.pls[vidPli].vidp.newVidScript){vidScript.src="https://video.brainlyads.com/player/power-player.js";const l=document.createElement("link");l.rel="stylesheet";l.href="https://video.brainlyads.com/player/power-player.css";document.head.appendChild(l)}else{vidScript.src="https://powerad.ai/vid_script.js"}document.head.appendChild(vidScript);vidScript.addEventListener("load",()=>{start()})}else{start()}function start(){if(paGlobal.pls[vidPli].vidp.newVidScript){const vidOptions={target:paGlobal.data[vidUi].div,autoplay:true,width:"100%",height:"auto",muted:true,plugins:{ad:{listeners:paGlobal.vidFunctions.listen.newVidEvts,autoplay:true,maxVideos:paGlobal.pls[vidPli].vidp.maxVids,device:paGlobal.device,tags:paGlobal.pls[vidPli].vidp.tags,hideCloseButton:true,hideCentralPlay:true,hideSeekBar:true,hideBottomControls:true,hideSoundIcon:false,hideBottomPlay:true,hideBottomTiming:true,hideBottomFullscreen:true}}};if(paGlobal.pls[vidPli].vidp.newVidScriptClsBtn){vidOptions.plugins.ad.hideCloseButton=false}if(paGlobal.pls[vidPli].vidp.contentLink){if(paGlobal.pls[vidPli].vidp.contentLink.startsWith("http")){vidOptions.src=paGlobal.pls[vidPli].vidp.contentLink}else{vidOptions.plugins.playlist=paGlobal.pls[vidPli].vidp.contentLink}}paGlobal.data[vidUi].vidInfo.player=new window.PowerPlayer(vidOptions);paGlobal.data[vidUi].vidInfo.player.resize(vidDiv.offsetWidth);paGlobal.data[vidUi].vidInfo.player.on("close",paGlobal.vidFunctions.listen.newVidEvts.close)}else{vid.api.on("ready",function(){paGlobal.vidFunctions.listen.imp();if(!paGlobal.vidFunctions.vidParams.clickToPlay){vid.api.mute()}});vid.api.resize(vidDiv.offsetWidth);vid.api.request(vidDiv,paGlobal.pls[vidPli].vidp.tags,paGlobal.pls[vidPli].vidp.maxVids||1,null,paGlobal.device,vidPli,paGlobal.pls[vidPli].vidp.resumeOnReload)}}}else{var jwScript=document.createElement("script");jwScript.src=paGlobal.pls[vidPli].vidp.pl;jwScript.id="jw-library-script";vidDiv.appendChild(jwScript);var vidElement=document.createElement("div");vidElement.id="pa-jw-player";vidDiv.appendChild(vidElement);jwScript.addEventListener("load",function(){paGlobal.vidFunctions.playerInstance=jwplayer("pa-jw-player");var playerInstance=paGlobal.vidFunctions.playerInstance;paGlobal.vidFunctions.playerInstance.setup({file:paGlobal.pls[vidPli].vidp.vl,image:paGlobal.pls[vidPli].vidp.img});paGlobal.vidFunctions.playerInstance.on("ready",function(){paGlobal.vidFunctions.listen.imp();if(!paGlobal.vidFunctions.vidParams.clickToPlay){paGlobal.vidFunctions.playerInstance.setMute(!0);paGlobal.vidFunctions.playerInstance.play()}})})}},togglePosition:{fixed:function(){if(paGlobal.vidFunctions.stats.position!="fixed"){if(paGlobal.vidFunctions.stats.opened&&!paGlobal.vidFunctions.stats.removed){paGlobal.vidFunctions.stats.position="fixed";vidDiv.style.position="fixed";vidDiv.style.width=paGlobal.pls[vidPli].vidp.mxwf+paGlobal.pls[vidPli].vidp.mxwft;vidDiv.style.maxWidth=paGlobal.pls[vidPli].vidp.mxwf+paGlobal.pls[vidPli].vidp.mxwft;vidDiv.style.zIndex=paGlobal.pls[vidPli].vidp.zif||1e6;vidDiv.style.height=paGlobal.vidFunctions.getHeight(vidDiv)+"px";vidDiv.style.maxHeight=paGlobal.vidFunctions.getHeight(vidDiv)+"px";vidDiv.style[paGlobal.pls[vidPli].vidp.vp]=paGlobal.pls[vidPli].vidp.vpo+paGlobal.pls[vidPli].vidp.vpot;vidDiv.style[paGlobal.pls[vidPli].vidp.hp]=paGlobal.pls[vidPli].vidp.hpo+paGlobal.pls[vidPli].vidp.hpot;if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.resize(vidDiv.offsetWidth,vidDiv.offsetHeight)}else{vid.api.resize(vidDiv.offsetWidth,vidDiv.offsetHeight)}}}else{}}if(paGlobal.pls[vidPli].vidp.hxf&&paGlobal.pls[vidPli].st.cb){try{vidCont.querySelector(".cls-btn").style.display="none"}catch(e){}}else if(paGlobal.pls[vidPli].st.cb){try{vidCont.querySelector(".cls-btn").style.display="block"}catch(e){}}},inContent:function(){vidDiv.style.transition="";if(paGlobal.vidFunctions.stats.position=="fixed"&&vidCont&&vidDiv){paGlobal.vidFunctions.stats.position="inContent";vidDiv.style.position=paGlobal.vidFunctions.vidParams.atSelector=="relative"?"relative":paGlobal.vidFunctions.vidParams.position;vidDiv.style[paGlobal.pls[vidPli].vidp.vp]=0;vidDiv.style[paGlobal.pls[vidPli].vidp.hp]=0;vidDiv.style.width="inherit";vidDiv.style.maxWidth="inherit";vidDiv.style.height=paGlobal.vidFunctions.getHeight(vidDiv)+"px";vidDiv.style.maxHeight=paGlobal.vidFunctions.getHeight(vidDiv)+"px";vidCont.style.height=paGlobal.vidFunctions.getHeight(vidDiv)+"px";vidCont.style.maxHeight=paGlobal.vidFunctions.getHeight(vidDiv)+"px";if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.resize(vidDiv.offsetWidth,vidDiv.offsetHeight)}else{vid.api.resize(vidDiv.offsetWidth,vidDiv.offsetHeight)}}}if(paGlobal.pls[vidPli].vidp.hxr&&paGlobal.pls[vidPli].st.cb){try{vidCont.querySelector(".cls-btn").style.display="none"}catch(e){}}else if(paGlobal.pls[vidPli].st.cb){try{vidCont.querySelector(".cls-btn").style.display="block"}catch(e){}}}},imp:function(){if(paGlobal.pls[vidPli].st.cb){paGlobal.addClsBtn(vidPli,vidCi,vidUi);if(paGlobal.pls[vidPli].hxf&&paGlobal.vidFunctions.stats.position=="fixed"){try{vidCont.querySelector(".cls-btn").style.display="none"}catch(e){}}else if(paGlobal.pls[vidPli].hxr&&paGlobal.vidFunctions.stats.position=="inContent"){try{vidCont.querySelector(".cls-btn").style.display="none"}catch(e){}}}if(paGlobal.pls[vidPli].vao.adh.on&&(!paGlobal.pls[vidPli].d.live||paGlobal.pls[vidPli].d.live&&paGlobal.pls[vidPli].d.live[paGlobal.data[vidUi].demand.tn].name!=="adsense")){paGlobal.addAdHeading(vidPli,vidCi,vidUi)}if(paGlobal.pls[vidPli].vao.lg.on&&(!paGlobal.pls[vidPli].d.live||paGlobal.pls[vidPli].d.live&&paGlobal.pls[vidPli].d.live[paGlobal.data[vidUi].demand.tn].name!=="adsense")){paGlobal.addLogo(vidPli,vidCi,vidUi)}paGlobal.vidFunctions.open();if(!paGlobal.vidFunctions.vidParams.clickToPlay){paGlobal.vidFunctions.play()}else{if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.muted=false}else{vid.api.unmute()}}else{paGlobal.vidFunctions.playerInstance.setMute(!1)}vidDiv.addEventListener("click",togglePlaying);function togglePlaying(){paGlobal.vidFunctions.stats.started=!0;paGlobal.vidFunctions.stats.playing=!0;vidDiv.removeEventListener("click",togglePlaying);if(paGlobal.pls[vidPli].vidp.powerad){}}}if(paGlobal.pls[vidPli].vidp.powerad){function complete(){if(!paGlobal.vidFunctions.vidParams.clickToPlay){paGlobal.vidFunctions.finished()}else{paGlobal.vidFunctions.finished()}}if(paGlobal.pls[vidPli].vidp.newVidScript){}else{vid.api.on("complete",complete);vid.api.on("skipped",complete)}}else{paGlobal.vidFunctions.playerInstance.on("complete adComplete adSkipped",function(){if(!paGlobal.vidFunctions.vidParams.clickToPlay){paGlobal.vidFunctions.finished()}if(paGlobal.pls[vidPli].vidp.live){paGlobal.vidFunctions.playerInstance.on("firstFrame",function(){paGlobal.vidFunctions.finished()})}})}},noImp:function(){paGlobal.log.info("no fill for video");if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){console.warn("new vid script doesn't have stop method")}else{vid.api.stop()}}else{paGlobal.vidFunctions.playerInstance.stop()}if(!paGlobal.vidFunctions.vidParams.clickToPlay){paGlobal.vidFunctions.remove()}if(paGlobal.vidFunctions.vidParams.recall>paGlobal.vidFunctions.stats.recalled){paGlobal.vidFunctions.recall()}else if(paGlobal.pls[vidPli].vidp.nip){paGlobal.vidFunctions.remove();if(paGlobal.pls[paGlobal.pls[vidPli].vidp.nip]&&paGlobal.pls[paGlobal.pls[vidPli].vidp.nip].s=="pb"){paGlobal.startInject(paGlobal.pls[vidPli].vidp.nip);return}else{paGlobal.log.warn("couldn't find placement "+paGlobal.pls[vidPli].vidp.nip+", passback (no fit) canceled")}}else if(paGlobal.pls[vidPli].vidp.prebid){paGlobal.vidFunctions.prebid()}else if(paGlobal.vidFunctions.vidParams.type=="interstitial"){paGlobal.vidFunctions.close()}},playContent:function(){[...vidDiv.children].forEach(i=>{try{if(i!=paGlobal.data[vidUi].clsBtn){i.remove()}}catch(e){}});if(true){var contentVideo=document.createElement("video");contentVideo.style="width: 100%; height: 100%; margin: auto;";contentVideo.setAttribute("autoplay","");contentVideo.setAttribute("controls","");contentVideo.setAttribute("controlsList","nodownload");contentVideo.setAttribute("volume","0");contentVideo.setAttribute("muted","");contentVideo.muted=true;contentVideo.autoplay=true;contentVideo.src=paGlobal.pls[vidPli].vidp.contentLink;vidDiv.appendChild(contentVideo);paGlobal.plData[vidPli].vid=contentVideo;contentVideo.onplay=function(){if(!paGlobal.vidFunctions.stats.contentStarted){paGlobal.vidFunctions.stats.contentStarted=true}paGlobal.vidFunctions.stats.contentPlaying=true};contentVideo.onComplete=function(){paGlobal.vidFunctions.stats.contentFinished=true}}else{var contentFrame=document.createElement("iframe");contentFrame.setAttribute("frameborder","0");contentFrame.setAttribute("marginwidth","0");contentFrame.setAttribute("marginheight","0");contentFrame.setAttribute("scrolling","no");contentFrame.setAttribute("allowfullscreen","");contentFrame.style="width: 100%; height: 100%; margin: auto;";contentFrame.src=paGlobal.pls[vidPli].vidp.contentLink;var autoPlayString="autoplay=1&mute=1";if(contentFrame.src.includes("?")){contentFrame.src+="&"+autoPlayString}else{contentFrame.src+="?"+autoPlayString}vidDiv.appendChild(contentFrame)}},finished:function(){paGlobal.vidFunctions.remove();if(paGlobal.pls[vidPli].vidp.newVidScript){return}if(paGlobal.pls[vidPli].vidp.contentLink){paGlobal.vidFunctions.playContent();return}if(!paGlobal.pls[vidPli].vidp.ko||paGlobal.vidFunctions.vidParams.type=="interstitial"){paGlobal.vidFunctions.close()}else if(paGlobal.pls[vidPli].vidp.dp){paGlobal.vidFunctions.callDisplay()}},remove:function(){try{var vidFinishedEvt=new Event("vidFinished");document.dispatchEvent(vidFinishedEvt)}catch(e){console.warn("failed to fire video finished event!\n"+e)}paGlobal.vidFunctions.stats.removed=!0;if(paGlobal.pls[vidPli].vidp.contentLink&&!paGlobal.pls[vidPli].vidp.newVidScript){return}vidDiv.style.maxHeight=0;paGlobal.cData[vidCi].div.style.maxHeight=0;setTimeout(function(){vidDiv.remove()},500);if(!paGlobal.pls[vidPli].vidp.powerad){try{document.querySelector("#jw-library-script").remove();document.querySelector("#pa-jw-player").remove()}catch(e){}}document.removeEventListener("scroll",paGlobal.vidFunctions.listen.view);paGlobal.log.info("video removed")},getHeight:function(vidDiv){return vidDiv.offsetWidth*.5625},open:function(){if(paGlobal.vidFunctions.vidParams.type=="interstitial"){vidCont.style.transition="max-height 0.5s";vidCont.style.height="100%";vidCont.style.maxHeight="100%";vidCont.style.width="100%";vidCont.style.maxWidth="100%";vidCont.style.background="rgb(0,0,0,0.8)";vidCont.style.top=0;vidCont.style.bottom=0;vidCont.style.right=0;vidCont.style.left=0;vidDiv.style.zIndex=paGlobal.pls[vidPli].st.zi||1e5;vidDiv.style.transition="height: 0.5s";vidDiv.style.maxWidth=paGlobal.pls[vidPli].vidp.mxw+paGlobal.pls[vidPli].vidp.mxwt;vidDiv.style.maxHeight=paGlobal.vidFunctions.getHeight(vidDiv)+"px";vidDiv.style.position="absolute";vidDiv.style.margin="0px auto";vidDiv.style.left=0;vidDiv.style.right=0;vidDiv.style.top=paGlobal.screenDimensions.h/2-paGlobal.vidFunctions.getHeight(vidDiv)/2+"px";if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.resize(vidDiv.offsetWidth,vidDiv.offsetHeight)}else{vid.api.resize(vidDiv.offsetWidth,vidDiv.offsetHeight)}}}else{if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.resize(vidDiv.offsetWidth);vidCont.style.maxHeight=paGlobal.data[vidUi].vidInfo.player.height+"px";vidCont.style.height=paGlobal.data[vidUi].vidInfo.player.height+"px"}else{vid.api.resize(vidDiv.offsetWidth);vidCont.style.maxHeight=vid.api.getHeight()+"px";vidCont.style.height=vid.api.getHeight()+"px"}}else{vidCont.style.maxHeight=paGlobal.vidFunctions.getHeight(vidDiv)+"px";vidCont.style.height=paGlobal.vidFunctions.getHeight(vidDiv)+"px"}}paGlobal.vidFunctions.stats.opened=!0},play:function(){paGlobal.vidFunctions.stats.started=!0;paGlobal.vidFunctions.stats.playing=!0;if(paGlobal.vidFunctions.vidParams.type=="interstitial"){if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.muted=false}else{vid.api.unmute()}}else{paGlobal.vidFunctions.playerInstance.setMute(!1)}}else{if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.muted=true}else{vid.api.mute()}}else{paGlobal.vidFunctions.playerInstance.setMute(!0)}}paGlobal.vidFunctions.listen.mouse();if(!paGlobal.vidFunctions.vidParams.clickToPlay){if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.play()}else{vid.api.play()}}else{paGlobal.vidFunctions.playerInstance.play()}}},pause:function(){paGlobal.vidFunctions.stats.playing=!1;if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.pause()}else{vid.api.pause()}}else{paGlobal.vidFunctions.playerInstance.pause()}},close:function(){if(!vidCont){paGlobal.log.warn("can't close video container, not found");return}paGlobal.vidFunctions.stats.closed=!0;vidCont.style.maxHeight=0;setTimeout(function(){vidCont.remove()},500);paGlobal.log.info("video closed")},recall:function(){paGlobal.vidFunctions.stats.recalled++;paGlobal.vidFunctions.addVideo();paGlobal.log.info("video recalled (#"+paGlobal.vidFunctions.stats.recalled+")")},prebid:function(){paGlobal.log.info("video calling prebid");if(paGlobal.pls[vidPli].vidp.pr.ns){try{var insertMode=paGlobal.pls[vidPli].vidp.im;paGlobal.select(paGlobal.pls[vidPli].vidp.pr.ns)[insertMode](vidCont);paGlobal.log.info("moved prebid video to new selector")}catch(e){paGlobal.log.err("failed to move the prebid video to new selector: "+e)}}var googScript=document.createElement("script");googScript.setAttribute("async","async");googScript.src="https://www.googletagservices.com/tag/js/gpt.js";vidCont.appendChild(googScript);var preScript=document.createElement("script");preScript.src="https://acdn.adnxs.com/prebid/not-for-prod/1/prebid.js";vidCont.appendChild(preScript);var bidders=[];if(paGlobal.pls[vidPli].vidp.pr.teads){bidders.push({pageId:paGlobal.pls[vidPli].vidp.pr.teadsp.pageId,placementId:paGlobal.pls[vidPli].vidp.pr.teadsp.placementId})}if(paGlobal.pls[vidPli].vidp.pr.teads){bidders.push({targetingUUID:paGlobal.pls[vidPli].vidp.pr.unrulyp.targetingUUID,siteId:paGlobal.pls[vidPli].vidp.pr.unrulyp.siteId})}top.vidPreUnits=[{code:"pa-vid-pre-slot",mediaTypes:{video:{context:"outstream",playerSize:[640,480]}},bids:bidders}];top.googletag=top.googletag||{};top.googletag.cmd=top.googletag.cmd||[];top.googletag.cmd.push(function(){top.googletag.pubads().disableInitialLoad()});top.pbjs=top.pbjs||{};top.pbjs.que=top.pbjs.que||[];top.pbjs.que.push(function(){top.pbjs.addAdUnits(vidPreUnits);top.pbjs.requestBids({bidsBackHandler:initAdserver,timeout:1e3})});function initAdserver(){if(top.pbjs.initAdserverSet)return;top.pbjs.initAdserverSet=!0;top.googletag.cmd.push(function(){top.pbjs.que.push(function(){top.pbjs.setTargetingForGPTAsync();top.googletag.pubads().refresh()})})}setTimeout(function(){initAdserver()},3e3);top.googletag.cmd.push(function(){top.googletag.defineSlot("/90814396/"+paGlobal.pls[vidPli].vidp.pr.code,[1,1],"pa-vid-pre-slot").addService(googletag.pubads());top.googletag.pubads().enableSingleRequest();top.googletag.enableServices()});googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(info){if(paGlobal.vidFunctions.stats.prebidSlotRenderRec){return}paGlobal.vidFunctions.stats.prebidSlotRenderRec=!0;if(info.isEmpty==!1){vidCont.style.maxHeight="auto";vidCont.style.maxHeight="";vidCont.style.height="auto";vidCont.style.position="relative";paGlobal.log.info("recieved fill for prebid video")}else if(info.isEmpty==!0){paGlobal.log.info("no fill for prebid video")}})});var preVidDiv=document.createElement("div");preVidDiv.id="pa-vid-pre-slot";var preVidDivScript=document.createElement("script");preVidDivScript.innerHTML=`googletag.cmd.push(function(){googletag.display('pa-vid-pre-slot');})`;try{vidCont.appendChild(preVidDiv);preVidDiv.appendChild(preVidDivScript)}catch(e){paGlobal.log.err("failed to add prebid video div to page: "+e)}},callDisplay:function(){if(paGlobal.vidFunctions.stats.displayCalled){return}paGlobal.log.info("calling display after video");paGlobal.vidFunctions.stats.displayCalled=!0;paGlobal.createInner(vidPli,vidCi)},listen:{newVidEvts:{impression:()=>{paGlobal.vidFunctions.stats.filled=!0;paGlobal.vidFunctions.imp();try{document.dispatchEvent(paGlobal.fakeScroll)}catch(e){}},error:()=>{console.log("error fired");paGlobal.vidFunctions.noImp()},complete:()=>{vidDiv.onmouseenter=null;if(!paGlobal.pls[vidPli].vidp.contentLink){paGlobal.vidFunctions.finished()}},close:()=>{paGlobal.remove(parseInt(vidPli),vidCi,vidUi)}},imp:function(){if(paGlobal.pls[vidPli].vidp.live){if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){}else{vid.api.on("impression",function(){paGlobal.vidFunctions.stats.filled=!0;paGlobal.vidFunctions.imp();try{document.dispatchEvent(paGlobal.fakeScroll)}catch(e){}});vid.api.on("error",function(){paGlobal.vidFunctions.noImp()})}}else{var playerInstance=paGlobal.vidFunctions.playerInstance;paGlobal.vidFunctions.playerInstance.on("adImpression",function(){paGlobal.vidFunctions.stats.filled=!0;paGlobal.vidFunctions.imp()});paGlobal.vidFunctions.playerInstance.on("adError error",function(){paGlobal.vidFunctions.noImp()})}}else{if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){console.warn("you can't run video without live demand connected")}else{paGlobal.log.err("Powerad can't run direct video's yet, sorry");vid.api.removeAllEvts()}}else{paGlobal.vidFunctions.imp();paGlobal.vidFunctions.playerInstance.on("error adError",function(){paGlobal.vidFunctions.noImp()})}}},mouse:function(){vidDiv.onmouseenter=function(){if(paGlobal.vidFunctions.vidParams.userClicked){if(paGlobal.pls[vidPli].vidp.powerad){if(paGlobal.pls[vidPli].vidp.newVidScript){paGlobal.data[vidUi].vidInfo.player.muted=false}else{vid.api.unmute()}}else{paGlobal.vidFunctions.playerInstance.setMute(!1)}}}},view:function(){if(paGlobal.vidFunctions.inView()&&document.visibilityState!=="hidden"){if(!paGlobal.vidFunctions.stats.added){paGlobal.vidFunctions.addVideo()}else{if(paGlobal.vidFunctions.stats.started){if(paGlobal.vidFunctions.stats.playing){}else{if(!paGlobal.vidFunctions.stats.finished){if(!paGlobal.vidFunctions.vidParams.clickToPlay){paGlobal.vidFunctions.play()}}}}if(paGlobal.vidFunctions.stats.contentStarted&&!paGlobal.vidFunctions.stats.contentPlaying){paGlobal.vidFunctions.resumeContent()}}}else{if(paGlobal.vidFunctions.stats.opened&&!paGlobal.vidFunctions.stats.removed){if(paGlobal.vidFunctions.stats.started){if(paGlobal.vidFunctions.stats.playing){paGlobal.vidFunctions.pause()}}}if(paGlobal.vidFunctions.stats.contentStarted&&paGlobal.vidFunctions.stats.contentPlaying){paGlobal.vidFunctions.pauseContent()}}}},pauseContent:function(){paGlobal.vidFunctions.stats.contentPlaying=false;paGlobal.log.info("pause video content");paGlobal.plData[vidPli].vid.pause()},resumeContent:function(){if(!paGlobal.vidFunctions.stats.contentFinished){paGlobal.vidFunctions.stats.contentPlaying=true;paGlobal.log.info("play video content");paGlobal.plData[vidPli].vid.play()}}},video:function(pli,ci,ui){vidPli=pli;vidCont=paGlobal.cData[ci].div;vidCi=ci;vidDiv=paGlobal.data[ui].div;vidUi=ui;paGlobal.vidFunctions.stats={vidCalled:!0,position:"inContent",innerAdded:!1,opened:!1,started:!1,playing:!1,videoClosed:!1,recalled:0,removed:!1,mute:!0},paGlobal.vidFunctions.vidParams={type:paGlobal.pls[vidPli].vidp.t,position:paGlobal.pls[vidPli].vidp.p,atSelector:paGlobal.pls[vidPli].vidp.fas,maxRecall:paGlobal.pls[vidPli].vidp.nor,keepOpen:paGlobal.pls[vidPli].vidp.ko,displayAfter:paGlobal.pls[vidPli].vidp.dp,userClicked:!1,prebid:paGlobal.pls[vidPli].vidp.prebid,clickToPlay:paGlobal.pls[vidPli].vidp.ctp};if(paGlobal.pls[vidPli].vidp.prebid){paGlobal.vidFunctions.vidParams.prebidParams=paGlobal.pls[vidPli].vidp.prebidParams}if(paGlobal.pls[vidPli].vidp.t=="interstitial"){paGlobal.vidFunctions.stats.position="interstitial"}function toggleUserClicked(){paGlobal.vidFunctions.vidParams.userClicked=!0;document.removeEventListener("click",toggleUserClicked)}document.addEventListener("click",toggleUserClicked);if(!vidCont){paGlobal.log.warn("cant add video, as container wasn't fount");return}paGlobal.vidFunctions.listen.view(paGlobal.pls[vidPli],vidCont,vidDiv);document.addEventListener("scroll",paGlobal.vidFunctions.listen.view,{passive:!0});document.addEventListener("visibilitychange",paGlobal.vidFunctions.listen.view)},urlChangeListener:function(){var wftfuc=!1;currentUrl=location.href;setInterval(function(){if(currentUrl!=location.href){urlChanged()}function urlChanged(){if(wftfuc){return}paGlobal.log.info("url change detected");currentUrl=location.href;wftfuc=!0;try{for(let i of top.document.querySelectorAll("[id^=ad_is]")){try{i.remove()}catch(e){}}}catch(e){}try{top.document.querySelector(".ut_container").remove()}catch(e){}for(let div of paGlobal.selectAll(".pa-unit-global")){var pli=parseInt(div.classList[1].split("-")[div.classList[1].split("-").length-1]);var ci=parseInt(div.parentElement.id.split("-")[div.id.split("-").length-1]);var ui=parseInt(div.id.split("-")[div.id.split("-").length-1]);paGlobal.remove(pli,ci,ui,"inner")}for(let pli of paGlobal.IIntsRun){clearInterval(paGlobal.plData[pli].iOnSelector.interval)}paGlobal.plData={};paGlobal.IIntsRun=[];try{delete paGlobal.vidFunctions.stats}catch(e){paGlobal.vidFunctions.stats={}}paGlobal.pageId=Math.round(Math.max(Math.random()*1e9))+1e9;paGlobal.injectLoopFired=!1;paGlobal.sendReport(paGlobal.x({pub:location.hostname,path:location.pathname,type:"pageView",referrer:document.referrer,v:_pa_v,i:Math.random()}));paGlobal.getPlacements();wftfuc=!1}},paGlobal.urlCLTo||500)},callHBPbjs:function(){if(window.pa_pbjs_fw){(paGlobal.pbjsFrame||document.querySelector("#pa-pbjs-frame")||{remove:()=>{}}).remove()}paGlobal.pbjsFrame=document.createElement("iframe");paGlobal.pbjsFrame.src="about:blank";paGlobal.pbjsFrame.setAttribute("frameborder","0");paGlobal.pbjsFrame.setAttribute("marginwidth","0");paGlobal.pbjsFrame.setAttribute("marginheight","0");paGlobal.pbjsFrame.setAttribute("scrolling","no");paGlobal.pbjsFrame.style.display="none";paGlobal.pbjsFrame.id="pa-pbjs-frame";document.body.appendChild(paGlobal.pbjsFrame);var pbjsFrameD=paGlobal.pbjsFrame.contentDocument;pbjsFrameD.open();pbjsFrameD.write('<html><head><script src="https://hb.brainlyads.com/pbjs_wrapper.v1.0.js"><\/script><script>var PWT = {};var pbjs = pbjs || {};pbjs.que = pbjs.que || [];var prebidLoaded = false;PWT.isLoaded = function(){loadPrebid();};var loadPrebid = function(){if (!prebidLoaded) {prebidLoaded = true;var pbs = document.createElement("script");pbs.type = "text/javascript";pbs.async = true;pbs.src = "https://hb.brainlyads.com/prebid.js";document.head.appendChild(pbs);}};setTimeout(loadPrebid, 100);(function() {var purl = window.location.href;var url = "//ads.pubmatic.com/AdServer/js/pwt/157577/2378/";var profileVersionId = "";if(purl.indexOf("pwtv=")>0){var regexp = /pwtv=(.*?)(&|$)/g;var matches = regexp.exec(purl);if(matches.length >= 2 && matches[1].length > 0){profileVersionId = "/"+matches[1];}}var wtads = document.createElement("script");wtads.async = true;wtads.type = "text/javascript";wtads.src = url+profileVersionId+"/pwt.js";var node = document.getElementsByTagName("script")[0];node.parentNode.insertBefore(wtads, node);})();<\/script></head><body></body></html>');pbjsFrameD.close();window.pa_pbjs_fw=paGlobal.pbjsFrame.contentWindow},keyValues:[],getVarFromObject:function(obj,str){if(!obj){return null}if(!str.includes(".")){return obj[str]}var dotIndex=str.indexOf(".");return paGlobal.getVarFromObject(obj[str.substring(0,dotIndex)],str.substr(dotIndex+1))},addKeyValues:function(kvs){Object.entries(kvs).forEach(kv=>{var soFar;if(!kv[0].includes(".")){soFar=window[kv[0]]}else{soFar=window;for(let x of kv[0].split(".")){if(soFar[x]){soFar=soFar[x]}else{soFar=null;break}}}if(soFar){paGlobal.keyValues.push([kv[1],soFar])}})},getRefCatKV:function(){var referrerCategoryList={google:"Search","search.yahoo":"Search",yandex:"Search",bing:"Search",duckduckgo:"Search",ecosia:"Search",youtube:"Social",twitter:"Social",facebook:"Social",instagram:"Social",reddit:"Social"};var referrerCategory="";var ref=document.referrer.toLowerCase();if(!ref){return"Direct"}for(let refCat of Object.entries(referrerCategoryList)){if(ref.includes(refCat[0])){return refCat[1]}}var domain=document.domain;domain=domain.replace("://www.","://").replace("https://","").replace("http://","");var domainReg=new RegExp(domain);var refDomain=ref.replace("://www.","://").replace("https://","").replace("http://","").split("/")[0];var refDomainReg=new RegExp(refDomain);if(domainReg.test(refDomain)||refDomainReg.test(domain)){return"Domain"}return"Referral"},getPlacements:function(){if(!paGlobal.marks.get_pls_start){performance.mark("get_pls_start");paGlobal.marks.get_pls_start=true}if(document.readyState=="loading"){document.addEventListener("DOMContentLoaded",paGlobal.callHBPbjs)}else{paGlobal.callHBPbjs()}var plReq=new XMLHttpRequest;plReq.open("GET","https://powerad.ai/pubPls/?width="+paGlobal.screenDimensions.w+"&url="+encodeURIComponent(top.window.location.href),!0);plReq.withCredentials=!0;plReq.send();plReq.onreadystatechange=function(){if(plReq.readyState==4){if(!paGlobal.fLoad){paGlobal.fLoad=!0}try{var pls=JSON.parse(plReq.response)}catch(e){paGlobal.log.err("failed to parse pls\n"+e);paGlobal.successRes=!1;return}if(!paGlobal.debug&&pls.debug){paGlobal.debug=pls.debug}if(pls.err){paGlobal.log.warn("recieved an error: "+pls.err);paGlobal.pubPlsErr=pls.err;paGlobal.successRes=!1;return}paGlobal.pubI=parseInt(pls.pubI);paGlobal.pls=pls.pls;paGlobal.successRes=!0;if(pls.adLight){paGlobal.adLight=!0;paGlobal.adLightPace=pls.adLightPace||1}paGlobal.device=pls.device;if(pls.cmp){pls.cmp.split(",").forEach(c=>{var s=document.createElement("script");s.src=c.trim();document.querySelector("head").appendChild(s)})}if(pls.gatID){var gatS=document.createElement("script");gatS.src="https://www.googletagmanager.com/gtag/js?id="+pls.gatID;document.head.appendChild(gatS);window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config",pls.gatID)}if(pls.customJS){const s=document.createElement("script");s.innerHTML=pls.customJS;document.head.appendChild(s)}if(pls.bl){paGlobal.bl=pls.bl}if(pls.fPls){paGlobal.fPls=pls.fPls}if(pls.debug){var rs=[],pbs=[],ms=[];for(let pli of Object.keys(paGlobal.pls)){switch(paGlobal.pls[pli].s){case"r":rs.push(pli);break;case"pb":pbs.push(pli);break;case"m":ms.push(pli);break}}paGlobal.log.info("recieved pls: \nActive: "+rs.join(", ")+"\nPB: "+pbs.join(", ")+"\nM: "+ms.join(", ")+"\n"+(pls.geoInfo||""))}paGlobal.atvc=pls.atvc||!1;paGlobal.us_p="1---";paGlobal.__gdpr="";if(pls.ca){paGlobal.checkCCPA(pls)}top.paGlobal.__uspapiString="window.__uspapi = top.window.__uspapi || function(c,v,cb){switch(c.toLowerCase()){case 'getuspdata':try{cb({uspString:'"+(top.paGlobal.us_p||"")+"',version:1},true)}catch(e){return;}break;default:try{cb({uspString:'"+(top.paGlobal.us_p||"")+"',version:1},true)} catch(e){return;}return;}};";if(pls.eu){paGlobal.eu=!0;if(pls.cmpDelay>-1){paGlobal.cmpDelay=pls.cmpDelay}}if(paGlobal.eu){paGlobal.log.info(`In EEU, attempting to access consent string. Will attempt for ${paGlobal.cmpDelay>-1?paGlobal.cmpDelay:20} seconds`);paGlobal.checkGDPR()}if(paGlobal.keyValues[0]&&paGlobal.keyValues[0][0]=="referrerCategory"){paGlobal.keyValues[0]=["referrerCategory",paGlobal.getRefCatKV()||"Unknown"]}else if(!paGlobal.keyValues[0]){paGlobal.keyValues.push(["referrerCategory",paGlobal.getRefCatKV()]||"Unknown")}else{console.error("would have to find the referrerCategory in the KV's, not defined")}if(pls.keyValues){paGlobal.addKeyValues(pls.keyValues)}var readyToInjectTS=Date.now();performance.mark("pls_retrieved");const startTime=performance.getEntriesByName("start_time");const plsRetrieved=performance.getEntriesByName("pls_retrieved");paGlobal.sendReport(paGlobal.x({type:"lTime",pubI:paGlobal.pubI||0,startTime:startTime.startTime,loadTime:plsRetrieved.startTime-startTime}));if(document.readyState=="loading"){document.addEventListener("DOMContentLoaded",function(){paGlobal.log.info("lost for body wait: "+(Date.now()-readyToInjectTS));paGlobal.injectLoop()})}else{paGlobal.injectLoop()}if(pls.urlCL&&!paGlobal.urlChangeListenerAdded){paGlobal.urlChangeListenerAdded=!0;paGlobal.urlChangeListener()}}};window.addEventListener("resize",()=>{paGlobal.screenDimensions={w:document.documentElement.offsetWidth||window.innerWidth||screen.availWidth,h:window.innerHeight||screen.availHeight};paGlobal.plUnits.forEach(u=>{if(paGlobal.pls[u.pli].t=="adhesion"){paGlobal.plData[u.pli].reCalculate()}let prevShow=paGlobal.data[u.ui].showable.minMaxView;let prevFit=paGlobal.data[u.ui].showable.fitable;paGlobal.data[u.ui].showable.minMaxView=paGlobal.checkMinMaxView(u.pli,u.ci,u.ui);paGlobal.data[u.ui].showable.fitable=paGlobal.checkFitable(u.pli,u.ci,u.ui);if(prevShow!==paGlobal.data[u.ui].showable.minMaxView||prevFit!==paGlobal.data[u.ui].showable.fitable){paGlobal.listen.viewListener(u.pli,u.ci,u.ui)}})},{passive:!0});setTimeout(()=>{paGlobal.fivePassed=true},5e3)},reports:[],sendReport:function(data){navigator.sendBeacon(`https://reporting.powerad.ai/`,JSON.stringify([data]))},x:function(z){return _ds05un3[z.type](z)},checkCCPA:function(pls){paGlobal.log.info("In California, CCPA functions in effect");if(pls.ccpaAutoOut){paGlobal.us_p="1NYN";paGlobal.log.info("Pub set to CCPA Auto Opt-Out.")}else{function getCCPAMan(){paGlobal.us_p=paGlobal.getCookie("usprivacy")||paGlobal.getCookie("us_privacy")||"1---"}if(top.window.__uspapi){paGlobal.log.info("Found IAB CCPA Framework functions on page from pub");try{top.window.__uspapi("getUSPData",1,function(us_p,s){if(s){paGlobal.us_p=us_p&&us_p.uspString.toUpperCase()||"1---"}else{getCCPAMan()}})}catch(e){getCCPAMan()}}else{paGlobal.log.info("Couldn't find IAB CCPA Framework functions on page from Pub, will try to get cookie manually");getCCPAMan()}}},checkGDPR:function(){var tcfapiFound=!1;var continueCalled=!1;function continueInject(logMsg){if(!continueCalled){continueCalled=!0;clearInterval(consentInterval);paGlobal.consentReady=!0;paGlobal.injectLoop();paGlobal.log.info(logMsg)}}setTimeout(()=>{if(!paGlobal.consentReady){continueInject("Couldn't get consent string, starting inject");paGlobal.sendReport(paGlobal.x({type:"gdpr",pubI:paGlobal.pubI,i:Math.random()}))}},paGlobal.cmpDelay>-1?paGlobal.cmpDelay*1e3:2e4);const consentInterval=setInterval(()=>{if(window.__tcfapi){if(!tcfapiFound){paGlobal.log.info("__tcfapi found, waiting for consent string");tcfapiFound=!0}__tcfapi("getTCData",2,(tcData,success)=>{if(success&&tcData.tcString){continueInject("Consent string ready, starting inject")}},[1,2,3])}},50);paGlobal.__gdpr="if(top.window.__tcfapi){__tcfapi = (p1, p2, p3) => top.window.__tcfapi(p1, p2, p3);}"},checkBl:function(f){if(!paGlobal.bl){return!0}if(f.contentDocument&&f.contentDocument.documentElement){for(let i of paGlobal.bl){if(f.contentDocument.documentElement.innerHTML.toLowerCase().indexOf(i.toLowerCase())!=-1){return!1}}for(let fr of f.contentDocument.querySelectorAll("iframe")){if(!paGlobal.checkBl(fr)){return!1}}return!0}},getCookie:function(name){var result="";var name=name+"=";var cookieArray=document.cookie.split(";");for(let i of cookieArray){paGlobal.removeSpaces(i);if(i.indexOf(name)==0){result=i.substring(name.length,i.length);break}}return result},removeSpaces:function(t){for(let a=0;a<100;a++){if(t.charAt(0)==" "){t=t.substring(1)}else{break}}return t}};function callUnitMan(pli){console.log("call unit manually ("+pli+")");if(paGlobal.successRes){if(paGlobal.pls[pli]&&paGlobal.pls[pli].s=="m"){paGlobal.startInject(pli)}else{console.warn("couldn't find placement: "+pli+" in manual placement list")}}else{console.warn("called placement (pl "+pli+") before placements were received, will call again once placements are recieved");var callManAdAfterLoadInt=setInterval(function(){if(paGlobal.successRes){if(paGlobal.pls[pli]&&paGlobal.pls[pli].s=="m"){paGlobal.startInject(pli);clearInterval(callManAdAfterLoadInt)}}},50);setTimeout(function(){clearInterval(callManAdAfterLoadInt);if(paGlobal.successRes){if(!paGlobal.plData[pli]){if(paGlobal.pls[pli]&&paGlobal.pls[pli].s=="m"){paGlobal.startInject(pli)}else{console.warn("couldn't find placement: "+pli+" in manual placement list")}}}else{console.warn("failed to get placements within timeout for manual call, canceling")}},1500)}}paGlobal.getPlacements();