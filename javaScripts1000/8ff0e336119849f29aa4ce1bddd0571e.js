var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_10001_img_hotarea/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_10001_img_hotarea/pc/index"],{WlJ8:function(module,exports){module.exports='{#if dataMap && dataMap.content && dataMap.content.info && dataMap.content.info.image}\n{#if bgWidth && bgHeight}\n<div class="m-zoneimage"> <div class="item"> <div style="height:{bgHeight}px;"> <div class="imgwrap" ref="imgBg" data-bg-fix="{dataMap.content.info.image|thumbnail:bgWidth,bgHeight}" data-src-background="{dataMap.content.info.image|thumbnail:bgWidth,bgHeight}" style="width:{imgWrapWidth}px;margin-left:-{marginLeft}px;background-size:{bgWidth}px {bgHeight}px;{imgBgFix}"></div> </div> <div style=" top: {dataMap.content.attachedInfo.trueTop}px; left: {dataMap.content.attachedInfo.trueLeft}px; " class="attachedImg"> <img style=" width: {dataMap.content.attachedInfo.trueWidth}px; height: {dataMap.content.attachedInfo.trueHeight}px; " src={dataMap.content.attachedInfo.image}/> </div> {#if dataMap.content.settings} {#list dataMap.content.settings as x} {#if x.type == 1 && x.redeemCode} <div class="hotarea c-hotarea" on-click={this.onGetCoupon(x,extendMap,x_index+1)} style="top:{x.topPer*100}%;left:{x.leftPer*100}%;width:{x.widthPer*100}%;height:{x.heightPer*100}%;"> {#if this.getCouponStamp(x)} <img src="{this.getCouponStamp(x)}" class="stamp"/> {/if} </div> {#elseif x.type == 0 && x.link} <a class="hotarea" href={this.addTrackLink({ link: x.link, source: extendMap.source, pageId: extendMap.pageId, rIdForStatis: extendMap.rIdForStatis, scm: scm, index: x_index+1 })} target="{x.target == 1 ? \'_blank\' : \'_self\'}" style="top:{x.topPer*100}%;left:{x.leftPer*100}%;width:{x.widthPer*100}%;height:{x.heightPer*100}%;"></a> {#elseif x.type == 2 && x.goodsId} <a class="hotarea" href={this.addTrackLink({ link: this.getBaseGoodsLink(x.goodsId), source: extendMap.source, pageId: extendMap.pageId, rIdForStatis: extendMap.rIdForStatis, scm: scm, index: x_index+1 })} target="_blank" style="top:{x.topPer*100}%;left:{x.leftPer*100}%;width:{x.widthPer*100}%;height:{x.heightPer*100}%;"></a> {#elseif x.type == 5 && x.newFrontId} <div class="hotarea c-hotarea" on-click={this.onGetRedPacket(x,extendMap,x_index+1)} style="top:{x.topPer*100}%;left:{x.leftPer*100}%;width:{x.widthPer*100}%;height:{x.heightPer*100}%;"> {#if this.setRedPacketStamp(x)} <img src="{this.setRedPacketStamp(x)}" class="stamp"/> {/if} </div> {#elseif x.type == 6 && x.frontId} <div class="hotarea c-hotarea" on-click={this.onGetGiftPacket(x,extendMap,x_index+1)} style="top:{x.topPer*100}%;left:{x.leftPer*100}%;width:{x.widthPer*100}%;height:{x.heightPer*100}%;"> {#if this.setGiftPacketStamp(x)} <img src="{this.setGiftPacketStamp(x)}" class="stamp"/> {/if} </div> {/if} {/list} {/if} </div>\n</div>\n{/if}\n{/if}'},XBMP:function(module,exports,__webpack_require__){},qkhN:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _assign2=_interopRequireDefault(__webpack_require__("P2sY"));__webpack_require__("XBMP");var _regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_view2=_interopRequireDefault(__webpack_require__("WlJ8")),_tools=__webpack_require__("l5k9"),_index=__webpack_require__("ojq5");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var COUPON_PACKAGE_COMMON_GET="https://kaola-haitao.oss.kaolacdn.com/398cdfec-0b3d-4d9f-a378-916fc060ac0a_82_82.png",COUPON_PACKAGE_COMMON_NONE="https://kaola-haitao.oss.kaolacdn.com/e254caf5-0890-4a0b-b7a9-ff3d088c9e44_108_108.png",COUPON_PACKAGE_COMMON_THE_NONE="https://kaola-haitao.oss.kaolacdn.com/7ebeb875-4ee8-49bc-ad5e-bb1866b19d26_108_108.png",PCImgHotArea=_regionBaseComp2.default.extend({template:_view2.default,config:function(data){var _this=this;if(this.supr(data),!(data=_tools.util.defaults(data,{})).isRegionNotValid){var dataMap=data.dataMap,content=dataMap.content||{};content.info=content.pcImgInfo||{},content.settings=content.pcSettings||[],data.imgBgFix="",data.bgWidth=content.info.width,data.bgHeight=content.info.height,this.setBgDimension(),content.attachedInfo=content.pcAttachedImgInfo||{};var trueTop=0,trueLeft=0,trueWidth=content.attachedInfo.width,trueHeight=content.attachedInfo.height;content.info.width>1e3?(trueTop=content.info.height*content.attachedInfo.topPer,trueLeft=data.imgWrapWidth*content.attachedInfo.leftPer-(data.imgWrapWidth-1e3)/2,trueWidth=data.imgWrapWidth/content.info.width*content.attachedInfo.width):(trueTop=content.info.height*content.attachedInfo.topPer,trueLeft=content.info.width*content.attachedInfo.leftPer),(0,_assign2.default)(content.attachedInfo,{trueTop:trueTop,trueLeft:trueLeft,trueWidth:trueWidth,trueHeight:trueHeight}),dataMap.statistic&&dataMap.statistic.scm&&(data.scm=dataMap.statistic.scm),this.$on("$inject",(function(){var $imgBg=_this.$refs&&_this.$refs.imgBg||{},bgSrc="function"===_tools.util.typeOf($imgBg.getAttribute)?$imgBg.getAttribute("data-bg-fix"):"";window.addEventListener("resize",_tools.util.throttle((function(){bgSrc&&!_this.data.imgBgFix&&(_this.data.imgBgFix="background-image:url('"+bgSrc+"');"),_this.setBgDimension(!0)}),100))}))}},setBgDimension:function(){var forceUpdate=arguments.length>0&&void 0!==arguments[0]&&arguments[0],data=this.data,content=data.dataMap.content,info=content.info||{};info.width>1e3?data.imgWrapWidth=document.body.clientWidth||window.innerWidth:data.imgWrapWidth=info.width,data.marginLeft=data.imgWrapWidth/2,forceUpdate&&this.$update()},getRegionNotValid:function(data){return!(data&&data.dataMap&&data.dataMap.content&&data.dataMap.content.pcImgInfo&&data.dataMap.content.pcImgInfo.image)},onGetCoupon:function(coupon,extendMap,index){if((coupon||{}).redeemCode){var redeemCode=coupon.redeemCode,couponSessionId="";coupon&&1==coupon.distributeWay&&(couponSessionId=coupon.couponSessionId);var hasCouponLink=this.checkLink(coupon.couponLink);if(hasCouponLink){var source=extendMap.source,pageId=extendMap.pageId,rIdForStatis=extendMap.rIdForStatis;coupon.couponLink=this.addTrackLink({link:coupon.couponLink,source:source,pageId:pageId,rIdForStatis:rIdForStatis,scm:this.data.scm,index:index}),_index.couponModule.$onGetCoupon({redeemCode:redeemCode,hasCouponLink:hasCouponLink,couponSessionId:couponSessionId,cbGetCoupon:this.cbGetCoupon.bind(this,coupon)})}else _index.couponModule.$onGetCoupon({redeemCode:redeemCode,couponSessionId:couponSessionId})}},getCouponStamp:function(content){return!!content.couponStatusStamp&&(!content.owner||1!=content.distributeWay&&content.canExchange?3!=content.couponStatus||content.nextSessionOpenTime?!(3!=content.couponStatus||!content.nextSessionOpenTime)&&COUPON_PACKAGE_COMMON_THE_NONE:COUPON_PACKAGE_COMMON_NONE:COUPON_PACKAGE_COMMON_GET)},cbGetCoupon:function(coupon,res){res&&-12==res.code&&(window.location.href=coupon.couponLink)},onGetRedPacket:function(x,extendMap,index){if((x||{}).newFrontId){var redeemCode=x.newFrontId,hasRedLink=this.checkLink(x.redLink),source=extendMap.source,pageId=extendMap.pageId,rIdForStatis=extendMap.rIdForStatis,regionId=extendMap.regionId,dailyAccountLimit=x.dailyAccountLimit,dailyAccountTimes=x.dailyAccountTimes,totalAccountLimit=x.totalAccountLimit,totalAccountTimes=x.totalAccountTimes;hasRedLink&&(x.redLink=this.addTrackLink({link:x.redLink,source:source,pageId:pageId,rIdForStatis:rIdForStatis,scm:this.data.scm,index:index})),(0,_index.redEnvelopeModule)({frontId:redeemCode,channel:"1_"+pageId+"_"+regionId}).then((function(res){406==(res=res||{}).dispatchCode||407==res.dispatchCode?x.owner=!0:408==res.dispatchCode||409==res.dispatchCode?x.giftStatus=3:200==res.dispatchCode&&(totalAccountTimes+=1,dailyAccountTimes+=1,(totalAccountLimit>0&&totalAccountTimes>=totalAccountLimit||dailyAccountLimit>0&&dailyAccountTimes>=dailyAccountLimit)&&(x.owner=!0))}))}},cbGetRedPacket:function(red,res){red&&red.redLink&&res&&(406==res.code||407==res.code)&&(window.location.href=red.redLink)},setRedPacketStamp:function(x){return x.redStatusStamp?x.owner?COUPON_PACKAGE_COMMON_GET:3==x.redStatus?COUPON_PACKAGE_COMMON_NONE:"":""},onGetGiftPacket:function(x,extendMap,index){if((x||{}).frontId){var redeemCode=x.frontId,dailyAccountLimit=x.dailyAccountLimit,dailyAccountTimes=x.dailyAccountTimes,totalAccountLimit=x.totalAccountLimit,totalAccountTimes=x.totalAccountTimes;if(this.checkLink(x.giftLink)){var source=extendMap.source,pageId=extendMap.pageId,rIdForStatis=extendMap.rIdForStatis;x.giftLink=this.addTrackLink({link:x.giftLink,source:source,pageId:pageId,rIdForStatis:rIdForStatis,scm:this.data.scm,index:index})}_index.giftPacketModule.$onGetGiftPacket({redeemCode:redeemCode,cbGetGiftPacket:this.cbGetGiftPacket.bind(this,x)}).then((function(res){!res||406!=res.code&&407!=res.code?408==res.code||409==res.code?x.giftStatus=3:res&&200==res.code&&(totalAccountTimes+=1,dailyAccountTimes+=1,(null!=totalAccountLimit&&totalAccountLimit>0&&totalAccountTimes>=totalAccountLimit||null!=dailyAccountLimit&&dailyAccountLimit>0&&dailyAccountTimes>=dailyAccountLimit)&&(x.owner=!0)):x.owner=!0}))}},cbGetGiftPacket:function(gift,res){gift&&gift.giftLink&&res&&(406==res.code||407==res.code)&&(window.location.href=gift.giftLink)},setGiftPacketStamp:function(x){return x.giftStatusStamp?x.owner?COUPON_PACKAGE_COMMON_GET:3==x.giftStatus?COUPON_PACKAGE_COMMON_NONE:"":""},checkLink:function(link){if(link)return link.split(/\/([^/]*)\.(html|shtml)/)[1]!=location.href.split(/\/([^/]*)\.(html|shtml)/)[1]}});exports.default=PCImgHotArea}},[["qkhN","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60027_modal/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60027_modal/pc/index"],{"1IGp":function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _util2=_interopRequireDefault(__webpack_require__("xFze")),_BaseComponent2=_interopRequireDefault(__webpack_require__("eiEM")),_element2=_interopRequireDefault(__webpack_require__("fmCo"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Dialog=_BaseComponent2.default.extend({config:function(data){_util2.default.extend(data,{active:!0}),this.supr(data)},onok:function(){this.data.active=!1,setTimeout(function(){this.destroy()}._$bind(this),350),this.$update()},onclose:function(){this.data.active=!1,setTimeout(function(){this.destroy()}._$bind(this),350),this.$update()}});Dialog.directive("animate",(function(ele){_element2.default._$addClassName(ele,"iDialogAnimate5"),_element2.default._$addClassName(ele,"iDialogAniCore"),this.$watch("active",(function(val){val?setTimeout((function(){_element2.default._$delClassName(ele,"iDialogAnimate5")}),100):_element2.default._$addClassName(ele,"iDialogAnimate5")}))})),exports.default=Dialog},"6djx":function(module,exports){module.exports='<table class="m-modaltbl"> <tbody> <tr> <td class="cell"> <div class="modal iDialogContent {modalName||\'\'} iDialogAniCore iDialogAnimate5" ref="modal" style="width: {width||640}px;"> <div class="modal-row"> <div class="modal-dialog modal-cell"> <div class="modal-content"> <div class="iDialogHead"> <h4 class="modal-title" id="myModalLabel">{title || \'Modal title\'} {#if subTitle}<span class="modalSubTitle">({subTitle})</span>{/if} </h4> {#if !hideCloseBtn}<a class="iDialogClose" href="javascript:void(0);" on-click={this.close()}></a>{/if} </div> <div class="modal-body"> {#include content ||this.content } </div> </div> </div> </div> </div> </td> </tr> </tbody>\n</table>\n<div class="m-modalmask">\n</div>'},"6gPX":function(module,exports,__webpack_require__){__webpack_require__("Q/gb"),module.exports=__webpack_require__("WEpk").Object.isExtensible},CQbt:function(module,exports){module.exports='{#if !!appDownloadBanner}\n<article class="m-appbanner" id="j-appbanner" style="display:none;"> <a href="{appDownloadBanner.siteUrl||\'\'}" target="_blank"> <img src="{(appDownloadBanner.imageUrl||\'\')|noProtocol}" /> </a> <i class="close"></i>\n</article>\n{/if}\n{#if !!appDownloadBanner2}\n<article class="m-appbanner2" id="j-appbanner2" style="display:none;"> <div class="cont"> <a href="{appDownloadBanner2.siteUrl||\'\'}" target="_blank"> <img src="{(appDownloadBanner2.imageUrl||\'\')|noProtocol}" /> </a> <i class="close"></i> </div>\n</article>\n{/if}'},CWql:function(module,exports){module.exports=""},Cau4:function(module,exports,__webpack_require__){},D1W9:function(module,exports){module.exports='<div ref="mdialog" class="m-dialog {clazz}" animate r-class="{{\'align\':useTrans}}" r-style="{style}"> <div class="head"> <h1>{title || \'æç¤º\'}<span class="subtitle">{subTitle || \'\'}</span></h1> </div> <a class="close" hidefocus="true" href="javascript:;" on-click="{this.onclose()}"></a> <div class="body"> <div class="message"> {#include msg} </div> {#if hideOkBtn != true} <a href="javascript:;" class="btn u-btn u-btn-ok u-btn-medium" on-click="{this.onok()}"> <span r-html="{txtOk || \'ç¡®è®¤\'}"></span> </a> {/if} {#if hideCCBtn != true} <a href="javascript:;" class="btn u-btn u-btn-cancel u-btn-medium" on-click="{this.cancel()}" r-html="{txtCC || \'åæ¶\'}"></a> {/if} </div>\n</div>\n<div class="u-mask" style="z-index:10000;"></div>'},JMjt:function(module,exports,__webpack_require__){"use strict";var _isExtensible2=_interopRequireDefault2(__webpack_require__("JjoW")),_keys2=_interopRequireDefault2(__webpack_require__("GQeE")),_defineProperty2=_interopRequireDefault2(__webpack_require__("SEkw")),_create2=_interopRequireDefault2(__webpack_require__("AyUB")),_iterator2=_interopRequireDefault2(__webpack_require__("F+2o")),_typeof4=_interopRequireDefault2(__webpack_require__("EJiy")),_symbol2=_interopRequireDefault2(__webpack_require__("+JPL"));function _interopRequireDefault2(obj){return obj&&obj.__esModule?obj:{default:obj}}var obj,_typeof="function"==typeof _symbol2.default&&"symbol"===(0,_typeof4.default)(_iterator2.default)?function(obj){return void 0===obj?"undefined":(0,_typeof4.default)(obj)}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":void 0===obj?"undefined":(0,_typeof4.default)(obj)},_axios=__webpack_require__("vDqi"),_axios2=(obj=_axios)&&obj.__esModule?obj:{default:obj};var DA=__webpack_require__("+xWz").DA,UA="pc";/Android|webOS|iPhone|iPod|Windows Phone|SymbianOS|BlackBerry/i.test(navigator.userAgent)&&_assign__("UA","mobile");var pcCss=".proto-mask{width:100%;height:100%;background-color:#999;position: fixed;top: 0;left: 0;z-index:12998 !important}.proto-modal{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:640px;height:348px;background-color:#FFF;z-index:12999 !important}.proto-modal-header{height:52px;font-size:16px;color:#9e9e9e;line-height:52px;border-bottom:1px dashed #eaeaea;padding-left:30px}.proto-modal-body ul{margin:30px;font-size:16px;color:#666;line-height:30px;padding-inline-start:0}.proto-modal-body ul li{list-style:none}.proto-modal-body .policy{color:#59baf3;text-decoration: none}.proto-modal-body button{width:158px;height:40px;font-size:14px;color:#666;line-height:40px;margin:0;padding:0;border:1px solid transparent;outline:0;border-radius:2px;cursor:pointer}.proto-modal-body .button-wrap{text-align:center}.proto-modal-body .agree-proto{color:#666;background:#FFF;border:1px solid #CCC}.proto-modal-body .refuse-proto{margin-left:24px;color:#FFF;background:#e41335}",mobileCss=".proto-mask{width:100%;height:100%;background-color:#999;position: fixed;top: 0;left: 0;z-index:12998 !important}.proto-modal{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:274px;height:290px;background-color:#FFF;z-index:12999 !important;border-radius:6px}.proto-modal-header{padding-top:12px;font-size:16px;font-weight:700;color:#333;text-align:center}.proto-modal-body{padding:20px;font-size:12px;font-weight:700;color:#252525;letter-spacing:0;line-height:20px}.proto-modal-body .policy{color:#59BAF3;text-decoration:none}.proto-modal-body button{width:122px;height:35px;font-size:15px;line-height:35px;margin:0;padding:0;border:1px solid transparent;outline:0;border-radius:35px;cursor:pointer;letter-spacing:3px}.proto-modal-body .button-wrap{text-align:center;width:274px;margin:10px 0 0 -20px}.proto-modal-body .agree-proto{color:#9B9B9B;background:#FFF;border:1px solid #CCC}.proto-modal-body .refuse-proto{margin-left:8px;color:#FFF;background:#E41335}",pcHtml='\n    <div class="proto-modal-header">éç§æ¿ç­æ´æ°</div>\n    <div class="proto-modal-body">\n        <ul>\n            <li>æ¬¢è¿ä½¿ç¨èææµ·è´­ã</li>\n            <li>ä¸ºäºå å¼ºå¯¹æ¨ä¸ªäººä¿¡æ¯çä¿æ¤ï¼æ ¹æ®ææ°æ³å¾æ³è§è¦æ±ï¼æä»¬æ´æ°äºéç§æ¿ç­ï¼ä»¥åæ¨è¯´ææä»¬å¨æ¶éåä½¿ç¨æ¨ç¸å³ä¸ªäººä¿¡æ¯æ¶çå¤çè§åã</li>\n            <li>è¯·æ¨ä»ç»éè¯»å¹¶ç¡®è®¤â\n                <a class="policy" href="https://you.kaola.com/common/page.html?key=Privacy_policy" target="_blank">éç§æç¸å³æ¿ç­</a>\n                âï¼ç¹å«æ¯å ç²æä¸åçº¿æ æ³¨çåå®¹ï¼ï¼æä»¬å°ä¸¥æ ¼æç§æ¿ç­åå®¹ä½¿ç¨åä¿æ¤æ¨çä¸ªäººä¿¡æ¯ï¼ä¸ºæ¨æä¾æ´å¥½çæå¡ã\n            </li>\n        </ul>\n        <div class="button-wrap">\n            <button id="agreeProto" onclick="logout()" class="agree-proto">ä¸åæï¼éåºç»å½</button>\n            <button id="refuseProto" onclick="agree()" class="refuse-proto">åæï¼ç»§ç»­ä½¿ç¨</button>\n        </div>\n    </div>',mobileHtml='\n    <div class="proto-modal-header">éç§æ¿ç­æ´æ°</div>\n    <div class="proto-modal-body">\n        æ¬¢è¿ä½¿ç¨èææµ·è´­ã<br/>\n        ä¸ºäºå å¼ºå¯¹æ¨ä¸ªäººä¿¡æ¯çä¿æ¤ï¼æ ¹æ®ææ°æ³å¾æ³è§è¦æ±ï¼æä»¬æ´æ°äºéç§æ¿ç­ï¼ä»¥åæ¨è¯´ææä»¬å¨æ¶éåä½¿ç¨æ¨ç¸å³ä¸ªäººä¿¡æ¯æ¶çå¤çè§åã<br/>\n        è¯·æ¨ä»ç»éè¯»å¹¶ç¡®è®¤â\n        <a class="policy" href="https://you.kaola.com/common/page.html?key=Privacy_policy" target="_blank">éç§æç¸å³æ¿ç­</a>âï¼ç¹å«æ¯å ç²æä¸åçº¿æ æ³¨çåå®¹ï¼ï¼æä»¬å°ä¸¥æ ¼æç§æ¿ç­åå®¹ä½¿ç¨åä¿æ¤æ¨çä¸ªäººä¿¡æ¯ï¼ä¸ºæ¨æä¾æ´å¥½çæå¡ã\n        <div class="button-wrap">\n            <button id="agreeProto" onclick="logout()" class="agree-proto">ä¸åæ</button>\n            <button id="refuseProto" onclick="agree()" class="refuse-proto">åæ</button>\n        </div>\n    </div>';function logout(){_get__("DA").da({type:"click",kpm:{c:"éç§æ¿ç­æ´æ°å¼¹çª",d:"ä¸åæ"}},{attributes:{actionType:"ç¹å»"}}),location.href="https://account.kaola.com/wap/logout.html?url="+encodeURIComponent(location.href)}function agree(){_get__("DA").da({type:"click",kpm:{c:"éç§æ¿ç­æ´æ°å¼¹çª",d:"åæ"}},{attributes:{actionType:"ç¹å»"}}),_get__("axios").get("https://m-user.kaola.com/account/accept/privacy.html",{withCredentials:!0}).then((function(res){res&&res.data&&200===res.data.code&&(document.getElementsByClassName("proto-modal")[0].style.display="none",document.getElementsByClassName("proto-mask")[0].style.display="none",location.reload())})).catch((function(error){console.log(error)}))}function loadModal(){var head=document.head||document.getElementsByTagName("head")[0],body=document.body||document.getElementsByTagName("body")[0],style=document.createElement("style"),modal=document.createElement("div"),mask=document.createElement("div");modal.className="proto-modal",mask.className="proto-mask",style.type="text/css",window.agree=_get__("agree"),window.logout=_get__("logout"),"pc"===_get__("UA")?(style.innerHTML=_get__("pcCss"),modal.innerHTML=_get__("pcHtml")):(style.innerHTML=_get__("mobileCss"),modal.innerHTML=_get__("mobileHtml")),_get__("axios").get("https://m-user.kaola.com/account/check.html",{withCredentials:!0}).then((function(res){res&&res.data&&res.data.data&&1===res.data.data.action?(head.appendChild(style),body.appendChild(mask),body.appendChild(modal)):res&&res.data&&res.data.data&&2===res.data.data.action&&"mobile"===_get__("UA")&&(location.href="https://account.kaola.com/wap/personal/redirectBind.html?target="+encodeURIComponent(location.href))})).catch((function(error){console.log(error)}))}module.exports=_get__("loadModal");var _RewiredData__=(0,_create2.default)(null),INTENTIONAL_UNDEFINED="__INTENTIONAL_UNDEFINED__",_RewireAPI__={};function _get__(variableName){if(void 0===_RewiredData__||void 0===_RewiredData__[variableName])return function(variableName){switch(variableName){case"UA":return UA;case"DA":return DA;case"axios":return _axios2.default;case"agree":return agree;case"logout":return logout;case"pcCss":return pcCss;case"pcHtml":return pcHtml;case"mobileCss":return mobileCss;case"mobileHtml":return mobileHtml;case"loadModal":return loadModal}return}(variableName);var value=_RewiredData__[variableName];return value===INTENTIONAL_UNDEFINED?void 0:value}function _assign__(variableName,value){return void 0===_RewiredData__||void 0===_RewiredData__[variableName]?function(variableName,_value){switch(variableName){case"UA":return UA=_value}return}(variableName,value):_RewiredData__[variableName]=value}function _set__(variableName,value){if("object"!==(void 0===variableName?"undefined":_typeof(variableName)))return _RewiredData__[variableName]=void 0===value?INTENTIONAL_UNDEFINED:value,function(){_reset__(variableName)};(0,_keys2.default)(variableName).forEach((function(name){_RewiredData__[name]=variableName[name]}))}function _reset__(variableName){delete _RewiredData__[variableName]}function _with__(object){var rewiredVariableNames=(0,_keys2.default)(object),previousValues={};function reset(){rewiredVariableNames.forEach((function(variableName){_RewiredData__[variableName]=previousValues[variableName]}))}return function(callback){rewiredVariableNames.forEach((function(variableName){previousValues[variableName]=_RewiredData__[variableName],_RewiredData__[variableName]=object[variableName]}));var result=callback();return result&&"function"==typeof result.then?result.then(reset).catch(reset):reset(),result}}!function(){function addPropertyToAPIObject(name,value){(0,_defineProperty2.default)(_RewireAPI__,name,{value:value,enumerable:!1,configurable:!0})}addPropertyToAPIObject("__get__",_get__),addPropertyToAPIObject("__GetDependency__",_get__),addPropertyToAPIObject("__Rewire__",_set__),addPropertyToAPIObject("__set__",_set__),addPropertyToAPIObject("__reset__",_reset__),addPropertyToAPIObject("__ResetDependency__",_reset__),addPropertyToAPIObject("__with__",_with__)}();var _typeOfOriginalExport=_typeof(module.exports);function addNonEnumerableProperty(name,value){(0,_defineProperty2.default)(module.exports,name,{value:value,enumerable:!1,configurable:!0})}"object"!==_typeOfOriginalExport&&"function"!==_typeOfOriginalExport||!(0,_isExtensible2.default)(module.exports)||(addNonEnumerableProperty("__get__",_get__),addNonEnumerableProperty("__GetDependency__",_get__),addNonEnumerableProperty("__Rewire__",_set__),addNonEnumerableProperty("__set__",_set__),addNonEnumerableProperty("__reset__",_reset__),addNonEnumerableProperty("__ResetDependency__",_reset__),addNonEnumerableProperty("__with__",_with__),addNonEnumerableProperty("__RewireAPI__",_RewireAPI__))},JjoW:function(module,exports,__webpack_require__){module.exports={default:__webpack_require__("6gPX"),__esModule:!0}},PzNz:function(module,exports,__webpack_require__){},"Q/gb":function(module,exports,__webpack_require__){var isObject=__webpack_require__("93I4");__webpack_require__("zn7N")("isExtensible",(function($isExtensible){return function(it){return!!isObject(it)&&(!$isExtensible||$isExtensible(it))}}))},Sflc:function(module,exports){module.exports='<div class="cntbox"> <div class="cntbox-inner" on-click={this.gotoAward()}> {#if popup.isNewUserPopWindowInfo === 1} <img src="{popup.newUserPic}" alt=""> {#else} <img src="{popup.oldUserPic}" alt=""> {/if} <div class="u-close" on-click={this.close($event)}></div> </div>\n</div>'},jFCy:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__("lKpd");var _util2=_interopRequireDefault(__webpack_require__("xFze")),_element2=_interopRequireDefault(__webpack_require__("fmCo")),_event2=_interopRequireDefault(__webpack_require__("Re21")),CONST=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__("UUIx")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_request2=_interopRequireDefault(__webpack_require__("9ACE")),_view2=_interopRequireDefault(__webpack_require__("CWql")),_tools=__webpack_require__("l5k9"),_appDownloadBanner2=_interopRequireDefault(__webpack_require__("o24F")),_newusermodal2=_interopRequireDefault(__webpack_require__("w7Ua")),_core2=_interopRequireDefault(__webpack_require__("JMjt"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var wwwDomain=window.isDevelopment?"":"//"+CONST.DOMAIN_ELEMENT_PC,IndexModal=_regionBaseComp2.default.extend({template:_util2.default.compressHtml(_view2.default),config:function(data){this.supr(data),data.isRegionNotValid||(data.__isMail=window.location.href.indexOf("indexIframe")>=0)},getRegionNotValid:function(){return!1},init:function(){this.supr(),this.__staticizeDisplayCtrl(),(0,_core2.default)()},__staticizeDisplayCtrl:function(){this.data.__isMail||this.__getPopupDivs()},$request:_request2.default,__getPopupDivs:function(){var _this=this,hasBlock="block"in _tools.util.query2obj(location.search.replace(/^\?/,"")),bindAccount=_tools.cookie._$cookie("KAOLA_NEW_USER");this.$request(wwwDomain+"/indexPageBridge/getPopupDivs.html",{method:"POST",type:"json",norest:!0,data:{block:hasBlock?1:0,hasNav:_element2.default._$get("js_bottomnav")?1:0,popupNewer:bindAccount?0:1},onload:function(_json){var json=_json||{},retcode=json.retcode||-1,body=json.body||{};200==retcode&&((body.appDownloadBanner||body.appDownloadBanner2)&&new _appDownloadBanner2.default({data:{appDownloadBanner:body.appDownloadBanner,appDownloadBanner2:body.appDownloadBanner2}}).$inject(document.body),1===body.isNewUserPopWindowInfo?1===body.newUserGiftPopup&&body.newUserPic&&body.newUserPicLink&&(_this.__IsShowWin__=1):0===body.isNewUserPopWindowInfo?body.oldUserPic&&(body.oldUserPicLink||body.oldUserPicCouponSchemeIdAes)&&(_this.__IsShowWin__=1):_this.__IsShowWin__=0,_this.__popupData__=body),_this.__showWin(),_this.__initMobileAppBanner()}})},__getMailPopupDivs:function(){},__initMobileAppBanner:function(){var appbanner=_element2.default._$get("j-appbanner");if(appbanner){var indexappbanner=_tools.cookie._$cookie("NTES_KAOLA_INDEXAPPBANNER");indexappbanner&&"-1"==indexappbanner||(appbanner.style.display="block");var list=_element2.default._$getByClassName(appbanner,"close");list.length&&_event2.default._$addEvent(list[0],"click",function(){appbanner.style.display="none",_tools.cookie._$cookie("NTES_KAOLA_INDEXAPPBANNER",{value:"-1",path:"/",domain:"kaola.com",expires:365})}._$bind(this))}var _appbanner2=_element2.default._$get("j-appbanner2");if(_appbanner2){var _list=_element2.default._$getByClassName(_appbanner2,"close");_list.length&&_event2.default._$addEvent(_list[0],"click",function(){_appbanner2.style.display="none",_tools.cookie._$cookie("NTES_KAOLA_INDEXAPPBANNER2",{value:+new Date,path:"/",domain:"kaola.com",expires:1})}._$bind(this))}},__showWin:function(){this.__showPopup(function(){if(!this.__hasShowWin){var _appbanner2=_element2.default._$get("j-appbanner2"),_indexappbanner2=_tools.cookie._$cookie("NTES_KAOLA_INDEXAPPBANNER2");if(_indexappbanner2){var now=new Date,date=now.getDate(),month=now.getMonth(),preCloseDay=new Date(parseInt(_indexappbanner2)),preCloseDate=preCloseDay.getDate(),preCloseMonth=preCloseDay.getMonth();(preCloseDate!=date||preCloseMonth!=month&&preCloseDate==date)&&_appbanner2?_appbanner2.style.display="block":this.__checkPageAd()}else _appbanner2?_appbanner2.style.display="block":this.__checkPageAd()}}._$bind(this))},__preloadImage:function(src,callback){var image=new Image;image.onload=function(){callback()},image.src=src},__showPopup:function(callback){var src=void 0;this.__IsShowWin__&&!this.__hasShowWin&&(src=1===this.__popupData__.isNewUserPopWindowInfo?this.__popupData__.newUserPic:this.__popupData__.oldUserPic,this.__preloadImage(src,function(){new _newusermodal2.default({data:{popup:this.__popupData__}}),this.__hasShowWin=1,callback&&callback()}._$bind(this)))},__initMailFootBanner:function(){},__checkPageAd:function(){return!1},__showPOPWin:function(opt){}});exports.default=IndexModal},lKpd:function(module,exports,__webpack_require__){},lzzo:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _confirm2=_interopRequireDefault(__webpack_require__("D1W9")),_animate2=_interopRequireDefault(__webpack_require__("1IGp")),_util2=_interopRequireDefault(__webpack_require__("xFze")),_event2=_interopRequireDefault(__webpack_require__("Re21"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Dialog=_animate2.default.extend({template:_confirm2.default,config:function(data){_util2.default.extend(data,{width:520}),data.style={height:"auto","margin-top":"0",width:"number"==typeof data.width?data.width+"px":data.width,"margin-left":"0","z-index":10001,left:"50%",top:"50%"},this.__autoHeight(),this.__bindEscEvent(),this.supr(data),data.timeout&&this.$timeout(function(){this.onclose()}._$bind(this),data.timeout)},onok:function(){this.supr(),this.data.onok&&this.data.onok()},onclose:function(){this.supr(),this.data.onclose&&this.data.onclose()},cancel:function(){var _callback=this.data.oncancel,c=void 0;_callback&&(c=_callback()),!1!==c&&this.onclose()},__autoHeight:function(){var self=this,data=self.data;data.height&&(data.style.height=data.height),data.useTrans=!0,"ie"==nej.p._$KERNEL.browser&&nej.p._$KERNEL.version<=9&&self.$on("inject",(function(){data.useTrans=!1,self.__calcH(),self.$on("refresh",(function(){self.__calcH()})),self.$update()}))},__calcH:function(){var rect,data=this.data,$mdialog=this.$refs.mdialog;$mdialog&&(rect=_util2.default.getOffset($mdialog),data.style["margin-top"]=-rect.height/2+"px",data.style["margin-left"]=-rect.width/2+"px")},__bindEscEvent:function(){var self=this;_event2.default._$addEvent(document,"keydown",(function keydownCb(event){27==(event||window.event).keyCode&&(self.onclose(),self.$update(),_event2.default._$delEvent(document,"keydown",keydownCb))}))}}).use("timeout");Dialog.directive("countdown",(function(ele,val){if(val&&!isNaN(val)){val/=1;var timerId=setInterval(function(){!val&&!clearInterval(timerId)&&this.onclose(),ele.innerHTML=val--}._$bind(this),1e3)}})),exports.default=Dialog},n4GD:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _element2=_interopRequireDefault(__webpack_require__("fmCo")),_event2=_interopRequireDefault(__webpack_require__("Re21")),_BaseComponent2=_interopRequireDefault(__webpack_require__("eiEM")),_modal2=_interopRequireDefault(__webpack_require__("6djx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__("Cau4");var Modal=_BaseComponent2.default.extend({template:_modal2.default,init:function(){this.supr();var destroy=this.destroy._$bind(this);_event2.default._$addEvent(document,"keydown",(function keydownCb(event){27==(event=event||window.event).keyCode&&(destroy(),_event2.default._$delEvent(document,"keydown",keydownCb))})),this.$root==this&&this.$inject(document.body),setTimeout(function(){_element2.default._$delClassName(this.$refs.modal,"iDialogAnimate5")}._$bind(this),10)},confirm:function(){this.$emit("confirm",this.data),this.destroy()},close:function(){this.$emit("close",this.data),this.destroy()},timeout:function(_timeout){this.destroyTimeout=setTimeout(function(){this.$emit("close",this.data),this.destroy()}._$bind(this),_timeout)},destroy:function(){if(this.$refs){this.$refs.modal&&_element2.default._$addClassName(this.$refs.modal,"iDialogAnimate5"),this.destroyTimeout&&(clearTimeout(this.destroyTimeout),this.destroyTimeout=null);var destroy=this.supr;setTimeout(function(){destroy.apply(this)}._$bind(this),300)}}});exports.default=Modal},o24F:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__("PzNz");var _BaseComponent2=_interopRequireDefault(__webpack_require__("eiEM")),_util2=_interopRequireDefault(__webpack_require__("xFze")),_appDownloadBanner2=_interopRequireDefault(__webpack_require__("CQbt"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var appDownloadBanner=_BaseComponent2.default.extend({template:_util2.default.compressHtml(_appDownloadBanner2.default),config:function(data){_util2.default.extend(data,{})},init:function(){this.supr()}});exports.default=appDownloadBanner},w7Ua:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _util2=_interopRequireDefault(__webpack_require__("xFze")),_newusermodal2=_interopRequireDefault(__webpack_require__("Sflc")),_modal2=_interopRequireDefault(__webpack_require__("n4GD")),_confirm2=_interopRequireDefault(__webpack_require__("lzzo"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NewUserModal=_modal2.default.extend({content:_newusermodal2.default,data:{width:1090,modalName:"m-onlyimgwin m-newerwin"},computed:{userLabel:function(){return 1===this.data.popup.isNewUserPopWindowInfo?"æ°äºº":"éæ°äºº"}},init:function(){this.supr(),_util2.default.daEvent("PCé¦é¡µæ°äººå¼¹æ¡","æå",this.data.userLabel)},close:function($event){$event.stopPropagation(),_util2.default.daEvent("PCé¦é¡µæ°äººå¼¹æ¡","ç¹å»","å³é­æé®"),this.supr()},gotoAward:function(){if(1===this.data.popup.isNewUserPopWindowInfo)return _util2.default.daEvent("PCé¦é¡µæ°äººå¼¹æ¡","ç¹å»","å¾çåºå"),void(window.location.href=this.data.popup.newUserPicLink);if(0===this.data.popup.isNewUserPopWindowInfo){if(!this.data.popup.isOldUserReceiveCoupon)return _util2.default.daEvent("PCé¦é¡µæ°äººå¼¹æ¡","ç¹å»","å¾çåºå"),void(window.location.href=this.data.popup.oldUserPicLink);this.getCoupon()}},getCoupon:function(){this.$request("//element.kaola.com/pc/index/pop_window/coupon/receive.html",{method:"GET",norest:!0,type:"json",cookie:!0,query:{schemeId:this.data.popup.oldUserPicCouponSchemeIdAes},onload:function(_json){!0===_json.success&&200===_json.retCode?(this.destroy(),this.showConfirmWin('<b class="icon success icon-check-circle"></b>æ­åæ¨ï¼é¢åæåï¼<br/><a href="//you.kaola.com/personal/my_coupon.html" class="link" target="_blank">æ¥çæçä¼æ å¸</a>'),_util2.default.daEvent("PCé¦é¡µæ°äººå¼¹æ¡","ç¹å»","é¢åæå")):this.showConfirmWin(_json.desc||'<i class="warning">&#xe609;</i>å ä¸ºç½ç»ç­åå ï¼æªè½æåé¢åæ°äººå¤§ç¤¼åï¼ç¦è¯·ç¨åéè¯ï¼')}._$bind(this),onerror:function(){this.showConfirmWin('<i class="warning">&#xe609;</i>å ä¸ºç½ç»ç­åå ï¼æªè½æåé¢åæ°äººå¤§ç¤¼åï¼ç¦è¯·ç¨åéè¯ï¼')}._$bind(this)})},showConfirmWin:function(msg){this.__win&&(this.__win.destroy(),this.__win=null),this.__win=new _confirm2.default({data:{title:"æç¤º",clazz:"m-dialog-index-page",msg:msg,hideOkBtn:!1,hideCCBtn:!0}}).$inject(document.body)}});exports.default=NewUserModal}},[["jFCy","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60021_goods_floor/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60021_goods_floor/pc/index"],{GWHO:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _event2=_interopRequireDefault(__webpack_require__("Re21")),_element2=_interopRequireDefault(__webpack_require__("fmCo")),_util2=_interopRequireDefault(__webpack_require__("xFze")),_chainable2=_interopRequireDefault(__webpack_require__("HpfO")),_slide2=_interopRequireDefault(__webpack_require__("Rm56")),_followBrand2=_interopRequireDefault(__webpack_require__("Ruzh")),_view2=_interopRequireDefault(__webpack_require__("SxSk")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_tools=__webpack_require__("l5k9");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__("Vz1B");var ZoneFloor=_regionBaseComp2.default.extend({template:_util2.default.compressHtml(_view2.default),config:function(data){if(this.supr(data),!data.isRegionNotValid){var content=data&&data.dataMap&&data.dataMap.content||{},_content$composeData=content.composeData,composeData=void 0===_content$composeData?{}:_content$composeData,_content$configData=content.configData,configData=void 0===_content$configData?{}:_content$configData;configData=configData||{};var arr,num,len,groupNum,keywordList=this.getKeyWordList(configData),rtCorner={cornerLink:configData.rightUpTitleLink||"",cornerLinkTxt:configData.rightUpTitle||""},subCategoryList=this.getSubCategoryList(configData),activityModelList=this.getActivityModelList(configData),brandList=this.getBrandList(configData),goodsList=composeData||[],goodsGroup=(num=4,len=(arr=goodsList).length,groupNum=Math.ceil(len/num),Array(groupNum).join("m").split("m").reduce((function(acc,val,index){var i=index*num;return acc.push(arr.slice(i,i+num)),acc}),[]));_util2.default.extend(data,{configData:configData,composeData:composeData,floorId:configData.categoryId||"",floorTitle:configData.floorTitle||"",floorOrder:configData.categoryId||"",keywordList:keywordList,rtCorner:rtCorner,subCategoryList:subCategoryList,activityModelList:activityModelList,goodsList:goodsList,goodsGroup:goodsGroup||[],brandList:brandList}),this.navSync()}},navSync:function(){var _this=this,timer=null,retryTime=0;_tools.eventEmitter.$on("$navDataSyncFinish",(function(item){var moduleId=_this.data.detailMap&&_this.data.detailMap.moduleId;item.id==moduleId&&clearInterval(timer)})),timer=setInterval((function(){_tools.eventEmitter.$emit("$navDataSync",{title:_this.data.floorTitle,id:_this.data.detailMap&&_this.data.detailMap.moduleId,type:"floor"}),10==++retryTime&&clearInterval(timer)}),800)},init:function(){this.supr(),this.initSlider(),this.initBrandFollow()},initSlider:function(){var prolist=this.$refs.prolist,list=_element2.default._$getByClassName(prolist,"itemgroup");if(list&&!(list.length<2)){var indexIcons=_element2.default._$getByClassName(prolist,"idxicon");_slide2.default._$allocate({list:list,icons:indexIcons})}},_$replaceUserAccountPH:function(){(0,_chainable2.default)("a[onclick]")._$forEach((function(_node){var onclick=_node.getAttribute("onclick");"string"==typeof onclick&&_node.setAttribute("onclick",onclick.replace(/(\'userAccount\'\:\')\'/g,"$1"+window.account+"'").replace(/(\'userId\'\:\')\'/g,"$1"+window.account+"'"))}))},_$refreshTopbar:function(){window.commonNavs&&window.commonNavs.refresh(),this._$replaceUserAccountPH()},initBrandFollow:function(){var followlist=(0,_chainable2.default)(this.$refs.brandlist)._$children(".follow",!0);0!==followlist.length&&followlist._$on("click",function(event){_event2.default._$stop(event);var target=_event2.default._$getElement(event),bid=_element2.default._$attr(target,"data-bid");_followBrand2.default.addFav(event,bid,target,this)}._$bind(this))},daEvent:function(label,custom){var data=this.data;_util2.default.daEvent("é¦é¡µ","æ¥¼å±"+data.floorOrder+"&"+data.floorTitle,label||"",{customData:custom||""})},getKeyWordList:function(configData){for(var keyWordList=[],i=1;i<9;i++)configData["hotSearchWord"+i]&&keyWordList.push({key:configData["hotSearchWord"+i],siteUrl:configData["hotSearchWordLink"+i]||"",color:configData["hotSearchWordColor"+i]||"#666"});return keyWordList},getSubCategoryList:function(configData){for(var subCategoryList=[],i=1;i<7;i++)configData["secondCategory"+i]&&subCategoryList.push({categoryName:configData["secondCategory"+i],siteUrl:configData["secondCategoryLink"+i]||""});return subCategoryList},getActivityModelList:function(configData){for(var activityModelList=[],i=1;i<5;i++)configData["activityTitle"+i]&&activityModelList.push({decription:configData["sellPoint"+i],imageUrl:configData["activityImage"+i],siteUrl:configData["activityImageLink"+i],title:configData["activityTitle"+i]});return activityModelList},getBrandList:function(configData){for(var brandList=[],i=1;i<6;i++)configData["hotSaleBrandId"+i]&&brandList.push({logoUrl:configData["hotSaleBrandImg"+i],siteUrl:configData["hotSaleBrandLink"+i]||"",brandId:configData["hotSaleBrandId"+i]||""});return brandList},getRegionNotValid:function(data){return!(data&&data.dataMap&&data.dataMap.content&&data.dataMap.content.composeData&&data.dataMap.content.configData)}});function encode(str){return encodeURIComponent(str)}function splitUrlByHash(url,flag){return flag=flag||0,(url=url||"").split("#")[flag]||""}ZoneFloor.filter({keywordUrl:function(keyword){return keyword.siteUrl?keyword.siteUrl||"":"//search.kaola.com/search.html?key="+encode(encode(keyword.key||""))},goodsLink:function(goods){return"//goods.kaola.com/product/"+goods.goodsId+".html"},jointTjQuery:function(urlstr,zp){var data=this.data,hash=splitUrlByHash(urlstr,1);return""!==hash&&(hash="#"+hash),"ri=home&zid="+data.floorId+"&zp="+data.floorTitle+"-"+zp+"&zn=cat&zl="+data.floorOrder+hash},imgThumbnailUrl:_util2.default.imgThumbnailUrl,splitUrlByHash:splitUrlByHash}),exports.default=ZoneFloor},Ruzh:function(module,exports,__webpack_require__){var request=__webpack_require__("9ACE"),LoginWindow=__webpack_require__("4QQf"),PromptWin=__webpack_require__("iC0C"),_q=__webpack_require__("HpfO"),_t0=__webpack_require__("7OSQ"),that=void 0,followbrand={addFav:function(_event,bid,target,loginObj){if(target&&!this.sending){this.sending=1,request("//element.kaola.com/indexPageBridge/brand/follow.html",{method:"POST",data:{id:bid,status:1},type:"json",norest:!0,onload:function(json){200==json.retcode?(this.toast("æåå³æ³¨",target,-44),this.__changeFavStatus(target)):461==json.retcode?(this.__loginWin=LoginWindow._$allocate({logincallback:this.__getLoginOK2._$bind(this,bid,target,loginObj)})._$show(),this.sending=0):491==json.retcode?(this.toast("å·²å³æ³¨",target),this.__changeFavStatus(target)):488==json.retcode?this.toast("è®¿é®ç¨æ·è¿å¤ï¼è¯·ç¨ååè¯ï¼",target,-44):this.toast("å³æ³¨å¤±è´¥",target,-44)}._$bind(this),onerror:function(){PromptWin._$allocate({message:"ç³»ç»éè¯¯"})._$show(),this.sending=0}._$bind(this)})}},__changeFavStatus:function(target){target.className="follow followed"},__getLoginOK2:function(bid,target,loginObj,_state){0==_state&&(this.addFav(null,bid,target,loginObj),loginObj._$refreshTopbar())},toast:function(){function Toast(){this.cnt=1}Toast.prototype.getOpacityCSSText=function(opacity){var list=["opacity:"+opacity];return list.push("filter:alpha(opacity="+100*opacity+")"),list.join(";")},Toast.prototype.animate=function(_toast,_from,_to){_t0._$$AnimEaseIn._$allocate({from:{offset:_from},to:{offset:_to},duration:500,onupdate:function(_event){_toast.style.cssText=this.getOpacityCSSText(_event.offset)}._$bind(this),onstop:function(){this._$recycle()}})._$play()},Toast.prototype.show=function(text,target,marginLeft){if(target&&!this.loading){this.loading=1;var toast=_q(target)._$next(".toast")[0];toast.innerHTML=text,marginLeft&&(toast.style.marginLeft=marginLeft+"px"),this.animate(toast,0,.75),setTimeout(function(){this.animate(toast,.75,0),this.loading=0,that.sending=0}._$bind(this),2e3)}};var toast=new Toast;return function(text,target,marginLeft){that||(that=this),toast.show(text,target,marginLeft)}}._$bind(void 0)()};module.exports=followbrand},SxSk:function(module,exports){module.exports='{#if configData && composeData}\n<article id="{@(floorId)}" class="m-productfloor pc-index-module" data-floorname="{@(floorTitle)}"> <div class="w-tit1 w-tit1-1 clearfix w-title-line"> <h2 class="tit"> {#if floorTitle} <span class="big">{@(floorTitle)}</span> {/if} </h2> {#if keywordList.length > 0} <ul class="w-taglist clearfix"> <li class="first">ç­æè¯ï¼</li> {#list keywordList as keyword} <li class="last"> <a r-class={{itm: true}} on-click={this.daEvent( \'å³é®è¯\', (keyword|keywordUrl)+\'|\'+(keyword.key||\'\') )} href="{@( keyword|keywordUrl|splitUrlByHash )}" data-param="{@( keyword|keywordUrl|jointTjQuery:\'up-\'+(keyword_index+1) )}" target="_blank" style="color: {keyword.color}" title="{@( keyword.key||\'\' )}"> {@( keyword.key||\'\' )} </a> </li> {/list} </ul> {/if} {#if rtCorner.cornerLinkTxt} {#if rtCorner.cornerLink} <a class="u-btn-more" href="{@( rtCorner.cornerLink|splitUrlByHash )}" data-param="{@( rtCorner.cornerLink|jointTjQuery:\'more-1\' )}" target="_blank"> {@( rtCorner.cornerLinkTxt )}<i class="iconfont">&#xe61f;</i> </a> {#else} <a class="u-btn-more" href="javascript:;" target="_blank">{@( rtCorner.cornerLinkTxt )}<i class="iconfont">&#xe61f;</i> </a> {/if} {/if} </div> <div class="cont clearfix"> <div class="partl"> <a on-click={this.daEvent( \'èµæºä½\', configData.floorImageLink )} class="pic picl" href="{@( configData.floorImageLink|splitUrlByHash )}" data-param="{@( configData.floorImageLink|jointTjQuery:\'left-0\' )}" target="_blank"> <img class="img-lazyload opacity1" src="//kaola-haitao.oss.kaolacdn.com/7ec017b7-65a1-4e7d-9d55-814672667c8d_1_1.gif" data-src="{ @(configData.floorImage|imgThumbnailUrl:330,0,95) }" data-width="330px" data-height="541px" alt="" title="" width="330px" height="541px"/> </a> {#if subCategoryList.length>0} <ul class="w-secondlist clearfix"> {#list subCategoryList as subCategory} <li> <a on-click={this.daEvent( \'èµæºä½_ç±»ç®\'+(subCategory_index+1)+\'&\'+subCategory.categoryName, subCategory.siteUrl )} class="itm" href="{@( subCategory.siteUrl|splitUrlByHash )}" data-param="{@( subCategory.siteUrl|jointTjQuery:\'left-\'+(subCategory_index+1) )}" target="_blank" title="{@( subCategory.categoryName||\'\' )}"> <span class="txt">{@( subCategory.categoryName||\'\' )}</span> </a> </li> {/list} </ul> {/if} </div> <div class="partm"> {#if activityModelList.length>0 } <ul class="w-activlist clearfix"> {#list activityModelList as activityModel} <li class="itm{@( activityModel_index+1 )}"> <a on-click={this.daEvent( \'æ´»å¨ä¸»é¢_\'+( activityModel_index+1 ), activityModel.siteUrl )} class="pic" href="{@( activityModel.siteUrl|splitUrlByHash )}" data-param="{@( activityModel.siteUrl|jointTjQuery:\'mid-\'+(activityModel_index+1) )}" target="_blank" title="{@( activityModel.title||\'\' )}"> <h3 class="tit">{@( activityModel.title||\'\' )}</h3> <p class="desc s-fc2">{@( activityModel.decription||\'\' )}</p> <img class="img-lazyload" src="//kaola-haitao.oss.kaolacdn.com/7ec017b7-65a1-4e7d-9d55-814672667c8d_1_1.gif" data-src="{@( activityModel.imageUrl|imgThumbnailUrl:180,0,95 )}" data-width="180px" data-height="144px" alt="" width="180px" height="144px"/> </a> </li> {/list} </ul> {/if} </div> <div ref="prolist" class="party m-prolist"> <h3 class="title">{@( configData.rankListTitle )} <table class="img_pagebox" cellspacing="0" cellpadding="0" border="0" style="z-index:11;"> <tbody> <tr class="img_page"> <td class="pageBox"> {#list goodsGroup as goodsChunk} <a r-class={{\'idxicon\':true, \'active\':goodsChunk_index===0}} href="javascript:void(0)"> {@(goodsChunk_index)} </a> {/list} </td> </tr> </tbody> </table> </h3> {#if goodsList.length>0 } <div class="prolist"> {#list goodsGroup as goodsChunk} <div r-class={{\'itemgroup\':true, \'hide\':goodsChunk_index!==0}}> {#list goodsChunk as goods} <div r-class={{\'itemsale\':true, \'clearfix\':true, \'itemsale-last\':goods_index===goodsChunk.length-1}}> <a on-click={this.daEvent( \'ç­åæè¡_\'+(goodsChunk_index*4+goods_index+1), (goods|goodsLink) )} class="pic" title="{@( goods.title||\'\' )}" href="{@( goods|goodsLink )}" data-param="{@( goods|goodsLink|jointTjQuery:\'right-\'+(goodsChunk_index*4+goods_index+1) )}" target="_blank"> <img src="{@( goods.imageUrl|imgThumbnailUrl:75,0,95 )}" data-width="75px" data-height="75px" alt="{@( goods.title||\'\' )}" title="{@( goods.title||\'\' )}" width="75px" height="75px"/> {#if goods.actualStorageStatus==0} <span class="w-icon w-icon-13 w-icon-13-2">å·²æ¢å</span> {/if} </a> <div class="proinfo"> <h3 class="tit"> <a on-click={this.daEvent( \'ç­åæè¡_\'+(goodsChunk_index*4+goods_index+1), (goods|goodsLink) )} class="protitle" title="{@( goods.title||\'\' )}" href="{@( goods|goodsLink )}" data-param="{@( goods|goodsLink|jointTjQuery:\'right-\'+(goodsChunk_index*4+goods_index+1) )}" target="_blank"> {@( goods.title||\'\' )} </a> </h3> <p class="curprice"> <span class="symbol">Â¥</span> <strong>{@( goods.actualCurrentPrice||\'\' )}</strong> <span class="item2"> Â¥<del>{@( goods.marketPrice||\'\' )}</del> </span> </p> </div> </div> {/list} </div> {/list} </div> {/if} </div> </div> {#if brandList.length>0} <div ref="brandlist" class="w-logolist clearfix coverMarginBottom"> <div class="txt">ç­ååç</div> <div class=\'brandListContainer\'> {#list brandList.slice(0,5) as brand} <a on-click={this.daEvent( \'ç­ååçåº\', brand.siteUrl )} class="pic" href="{@( brand.siteUrl|splitUrlByHash )}" data-param="{@( brand.siteUrl|jointTjQuery:\'below-\'+(brand_index+1) )}" target="_blank"> <img class="img-lazyload opacity1" src="//kaola-haitao.oss.kaolacdn.com/7ec017b7-65a1-4e7d-9d55-814672667c8d_1_1.gif" data-src="{@( brand.logoUrl|imgThumbnailUrl:120,0,95 )}" data-width="120px" data-height="120px" alt="" width="120px" height="120px"/> <span class="follow" data-bid="{@( brand.brandId||\'\' )}"></span> <span class="toast">å·²å³æ³¨</span> </a> {/list} </div> </div> {/if}\n</article>\n{/if}'},Vz1B:function(module,exports,__webpack_require__){}},[["GWHO","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60025_nav/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60025_nav/pc/index"],{"0QLo":function(module,exports){module.exports='<aside id="indexleft" class="m-indexleft" r-style="{{ opacity: isReady ? 1 : 0, display: __isMail ? \'none\' : \'block\'\n}}"> {#if slideImage != \'\'} <a class="topImg" href="{@(slideImageLink)}" target="_blank"> <img src="{@(slideImage)}"> </a> {/if} {#if channelList.length && showSpecialFloor} <ul class="channel"> {#list channelList as channel} {#if channel.name} <li><a href="javascript:;" class=\'j-floor\' data-id="{@(channel.id)}">{(channel.name)}</a></li> {/if} {/list} </ul> {/if} {#if floorList.length && showCategoryFloor} <ul class="floor"> {#list floorList as floor} {#if floor.name} <li><a href="javascript:;" class=\'j-floor\' data-id="{@(floor.id)}">{(floor.name)}</a></li> {/if} {/list} </ul> {/if} {#if slideBottomImage != \'\'} <a class="bottomImg" href="{@(slideBottomImageLink)}" target="_blank"> <img src="{@(slideBottomImage)}"> </a> {/if}\n</aside>'},"8PAj":function(module,exports,__webpack_require__){var _k=__webpack_require__("n9tM"),_ut=__webpack_require__("qE4b"),_t=__webpack_require__("iNeD"),_e=(__webpack_require__("Re21"),__webpack_require__("fmCo")),Bezier=__webpack_require__("CVAk"),_p={},_pro={};_p._$$ScrollTo=_k._$klass(),(_pro=_p._$$ScrollTo._$extend(_t._$$EventTarget)).__reset=function(_options){this.__super(_options),this._scrollTo=_options.scrollTo,this._offset=+_options.offset||0,this._duration=+_options.duration||500,this._timing=_options.timing||"easeinout",this._onEnd=_options.onEnd,this._scrollTo&&this.__startAni(_options)},_pro.__startAni=function(){var self=this,scrollTop=document.body.scrollTop||document.documentElement.scrollTop,destination=_e._$offset(this._scrollTo).y+this._offset;scrollTop!=destination?Bezier._$$AnimBezier._$allocate({from:{offset:scrollTop},to:{offset:destination},duration:this._duration,timing:this._timing,onupdate:function(_event){window.scrollTo(0,_event.offset)},onstop:function(){self.__callback(),this._$recycle()}})._$play():this.__callback()},_pro.__callback=function(){this._onEnd&&_ut._$isFunction(this._onEnd)&&this._onEnd()},module.exports=_p._$$ScrollTo},K1zq:function(module,exports,__webpack_require__){var isIEOrderVer,_k=__webpack_require__("n9tM"),_t=__webpack_require__("iNeD"),_e=__webpack_require__("fmCo"),_v=__webpack_require__("Re21"),_h=__webpack_require__("xFze"),_pt=__webpack_require__("I72P"),_p={},_pro={};_p._$$RightBar=_k._$klass(),(_pro=_p._$$RightBar._$extend(_t._$$EventTarget)).__reset=function(_options){this.__super(_options),this.__setContainerStyle(),this.__leftBar=_e._$get("indexleft"),this.__banner=document.querySelector('[data-moduletype="60026"]'),this.__fixTop=66,this.__bannerHeight=this.__banner?this.__banner.getBoundingClientRect().height:505,this.__abTop=this.__bannerHeight+20,this.__leftBar&&window.screen.width<=1280&&(this.__leftBar.style.marginLeft="-642px"),this.__anchorNode=this.__getAnchorNode(),this.__getOffsetABTop(),this.__isIEOldVer()||(_v._$addEvent(window,"scroll",this.__checkRightBar._$bind(this)),this.__checkRightBar())},_pro.__getOffsetABTop=function(){this.__offsetABTop=_e._$offset(this.__anchorNode).y+this.__bannerHeight},_pro._$refreshRightBar=function(opt){opt=opt||{},_h.extend(this,opt,!0),this.__checkRightBar()},_pro.__checkRightBar=function(){this.__offsetABTop-(document.body.scrollTop||document.documentElement.scrollTop)<40?this.__leftBar&&(this.__leftBar.style.position="fixed",this.__leftBar.style.top=this.__fixTop+"px"):this.__leftBar&&(this.__leftBar.style.position="absolute",this.__leftBar.style.top=this.__abTop+"px")},_pro.__getAnchorNode=function(){return _e._$get("j-box")||_e._$get("topTabBox")||_e._$get("docHead")},_pro.__setContainerStyle=function(){_e._$get("j-box").style.position="relative"},_pro.__isIEOldVer=(isIEOrderVer="ie"==_pt._$KERNEL.browser&&_pt._$KERNEL.release<="3.0",function(){return isIEOrderVer}),module.exports=_p._$$RightBar},w1LE:function(module,exports,__webpack_require__){},zXK9:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__("w1LE");var _util2=_interopRequireDefault(__webpack_require__("xFze")),_scrollTo2=_interopRequireDefault(__webpack_require__("8PAj")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_view2=_interopRequireDefault(__webpack_require__("0QLo")),_event2=_interopRequireDefault(__webpack_require__("Re21")),_element2=_interopRequireDefault(__webpack_require__("fmCo")),_chainable2=_interopRequireDefault(__webpack_require__("HpfO")),_leftbar2=_interopRequireDefault(__webpack_require__("K1zq")),_tools=__webpack_require__("l5k9");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Nav=_regionBaseComp2.default.extend({template:_util2.default.compressHtml(_view2.default),config:function(data){var _this=this;if(this.supr(data),data.__isMail=window.location.href.indexOf("indexIframe")>=0,!data.isRegionNotValid){var _content$configData=(data&&data.dataMap&&data.dataMap.content||{}).configData,configData=void 0===_content$configData?{}:_content$configData;this.data.readyMap={};var slideImage=configData.slideImage,slideImageLink=configData.slideImageLink,showSpecialFloor=configData.showSpecialFloor,showCategoryFloor=configData.showCategoryFloor,slideBottomImage=configData.slideBottomImage,slideBottomImageLink=configData.slideBottomImageLink,_fetchData=this._fetchData(),channelList=_fetchData.channelList,floorList=_fetchData.floorList;_util2.default.extend(data,{isReady:!1,slideImage:slideImage,slideImageLink:slideImageLink||"javascript:;",showSpecialFloor:showSpecialFloor,showCategoryFloor:showCategoryFloor,slideBottomImage:slideBottomImage,slideBottomImageLink:slideBottomImageLink||"javascript:;",channelList:channelList,floorList:floorList}),this.$watch("readyMap",(function(){setTimeout((function(){_this.data.isReady=!0,_this.$update()}),1e3)}))}},init:function(){var _this2=this;this.supr(),this.__leftNavEvent(),this.$on("$inject",(function(){_leftbar2.default._$allocate()})),_tools.eventEmitter.$on("$navDataSync",(function(item){var arr=_this2.data[item.type+"List"],index=arr.findIndex((function(e){return e.id=="module_"+item.id}));index>=0&&(arr[index].name=item.title),_this2.data.readyMap[item.id]=!0,_tools.eventEmitter.$emit("$navDataSyncFinish",{id:item.id}),_this2.$update()}))},_fetchData:function(){var _this3=this,floorList=[],channelList=[],originModuleList=[];try{originModuleList=window._ACT_.frameData.moduleList}catch(e){console.log(e)}return originModuleList.forEach((function(e){var moduleType=e.moduleType;60019!=moduleType&&60020!=moduleType&&60023!=moduleType||channelList.push(_this3._processOrigin(e)),60021==moduleType&&floorList.push(_this3._processOrigin(e))})),{floorList:floorList,channelList:channelList}},_processOrigin:function(item){return this.data.readyMap[item.id]=!1,{id:"module_"+item.id,name:""}},__leftNavEvent:function(){(0,_chainable2.default)("body")._$on("click #indexleft .j-floor",(function(e){var target=_event2.default._$getElement(e),moduleId=_element2.default._$attr(target,"data-id"),module=_element2.default._$get(moduleId);module&&_scrollTo2.default._$allocate({scrollTo:module,offset:-50,duration:500,timing:"easeinout"})}))}});Nav.filter({}),exports.default=Nav}},[["zXK9","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60026_slider/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60026_slider/pc/index"],{"/85p":function(module,exports,__webpack_require__){},B8Hu:function(module,exports,__webpack_require__){var _k=__webpack_require__("n9tM"),_ut=__webpack_require__("qE4b"),_t=__webpack_require__("iNeD"),_v=__webpack_require__("Re21"),Bezier=(__webpack_require__("fmCo"),__webpack_require__("CVAk")),_p={},_pro={};_p._$$Announce=_k._$klass(),(_pro=_p._$$Announce._$extend(_t._$$EventTarget)).__reset=function(_options){this.__super(_options),this._list=_options.list||[],this._offset=_options.offset||0,this._duration=_options.duration||5e3,this._aniDuration=_options.aniDuration||500,this._timing=_options.timing||"easeinout",this._onChange=_options.onChange,this._mouseEvent=!!_options.mouseEvent||!0,this._timer=null,!this._list||this._list.length<=1||0==this._offset||(this._wrap=_options.wrap||this._list[0].parentNode,this.__startAnnounce(),this._mouseEvent&&this.__bindMouseEvent())},_pro.__startAnnounce=function(){this._timer=setInterval(this.__changeAnnounce._$bind(this),this._duration)},_pro.__changeAnnounce=function(){var self=this,firstNode=this._list[0];Bezier._$$AnimBezier._$allocate({from:{offset:0},to:{offset:this._offset},duration:this._aniDuration,timing:this._timing,onupdate:function(_event){firstNode.style.marginTop=-_event.offset+"px"},onstop:function(){firstNode.style.marginTop=0,firstNode.parentNode.appendChild(firstNode),self.__callback(),this._$recycle()}})._$play()},_pro.__callback=function(){this._onChange&&_ut._$isFunction(this._onChange)&&this._onChange()},_pro.__bindMouseEvent=function(){_v._$addEvent(this._wrap,"mouseenter",this.__onWrapMouseEnter._$bind(this)),_v._$addEvent(this._wrap,"mouseleave",this.__onWrapMouseLeave._$bind(this))},_pro.__onWrapMouseEnter=function(){window.clearInterval(this._timer)},_pro.__onWrapMouseLeave=function(){this.__startAnnounce()},module.exports=_p._$$Announce},MQNn:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _util2=_interopRequireDefault(__webpack_require__("xFze")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_element2=_interopRequireDefault(__webpack_require__("fmCo")),_hover2=_interopRequireDefault(__webpack_require__("TWY8")),_slide2=_interopRequireDefault(__webpack_require__("Rm56")),_tools=__webpack_require__("l5k9"),_announce2=_interopRequireDefault(__webpack_require__("B8Hu")),_view2=_interopRequireDefault(__webpack_require__("oulq"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__("/85p");var urlstr=function(banner){return(banner=banner||{}).siteUrl||""},origin=_regionBaseComp2.default.extend({template:_view2.default,config:function(data){this.supr(data),this.data.title="æ°ç¨æ·ä¸è½½APP",this.data.subTitle="é¢10åæ é¨æ§å¸",data.isRegionNotValid},init:function(){this.initSlider(),this.initUserRedPackets()},initUserRedPackets:function(){var _this=this;_tools.fetchUtil.$request("https://gw.kaola.com/gw/marketactivities/nucb/obtainUserRedPackets?version=1.0",{method:"POST",type:"json",norest:!1,headers:{"gw-request-type":"wap"},body:{requestPage:5}}).then((function(resp){if(0===resp.code&&resp.body){var body=resp.body;_this.data.title=body.title||"æ°ç¨æ·ä¸è½½APP",_this.data.subTitle=body.subTitle||"é¢10åæ é¨æ§å¸",_this.$update()}}))},initSlider:function(){var _this2=this;_tools.fetchUtil.$cacheRequest("//gw.kaola.com/gw/indexPageBridge/banner?version=1.0",{method:"POST",headers:{"gw-request-type":"web"}}).then((function(_json){var json=_json||{},data=json.body&&json.body.composeData||{};if(0===json.code){var _ref=data||{},_ref$indexHeadImgExch=_ref.indexHeadImgExchangeVOList,indexHeadImgExchangeVOList=void 0===_ref$indexHeadImgExch?[]:_ref$indexHeadImgExch,_ref$topNoticeVOList=_ref.topNoticeVOList,topNoticeVOList=void 0===_ref$topNoticeVOList?[]:_ref$topNoticeVOList;_util2.default.extend(_this2.data,{bannerList:indexHeadImgExchangeVOList,topNotice:topNoticeVOList,len:indexHeadImgExchangeVOList&&indexHeadImgExchangeVOList.length||0}),_this2.$update(),_this2.__bindSlide(indexHeadImgExchangeVOList)}var slideWrap=document.getElementById("show_pic");(function(enableWebkit){void 0===enableWebkit&&(enableWebkit=!1);var el=document.createElement("div");el.style.cssText=(enableWebkit?"-webkit-":"")+"filter: blur(2px)";var test1=0!=el.style.length,test2=void 0===document.documentMode||document.documentMode>9;return test1&&test2})()&&slideWrap&&(slideWrap.className+=" not-support-filter")}))},daEvent:function(banner,index){_util2.default.daEvent("é¦é¡µ","banner",index+1,{customData:urlstr(banner)})},__bindSlide:function(){var slideBox=_element2.default._$get("picBox"),list=_element2.default._$getChildren(_element2.default._$get("show_pic"))||[];if(list&&!(list.length<2)){var indexIcons=_element2.default._$getByClassName(slideBox,"idxicon"),btns=_element2.default._$getByClassName(slideBox,"cons");_hover2.default._$hover(slideBox,"j-sliderBoxhover"),_slide2.default._$allocate({box:slideBox,list:list,icons:indexIcons,preBtn:btns[0],nextBtn:btns[1]}),this.initAnnounce(),this.initDocFoot()}},initAnnounce:function(){var announce=_element2.default._$get("j-announce");announce&&_announce2.default._$allocate({list:announce.getElementsByTagName("li"),offset:18})},jointTjQuery2:function(){var url=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",referName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",paraValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",referName2=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",paraValue2=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",referName3=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",paraValue3=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",referName4=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",paraValue4=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",referName5=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",paraValue5=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"",urlHash="",retUrl="";return(url=url||"").includes("#")&&(urlHash=url.split("#")[1]),referName&&(retUrl=referName+"="+paraValue,referName2&&(retUrl=retUrl+"&"+referName2+"="+paraValue2,referName3&&(retUrl=retUrl+"&"+referName3+"="+paraValue3,referName4&&(retUrl=retUrl+"&"+referName4+"="+paraValue4,referName5&&(retUrl=retUrl+"&"+referName5+"="+paraValue5))))),urlHash&&(retUrl=retUrl+"#"+urlHash),retUrl},initDocFoot:function(){var docFoot=document.getElementById("docFoot");docFoot&&(docFoot.style.margin="0")},getRegionNotValid:function(){return!1}});origin.filter({dataParam:function(banner,index){var hash=urlstr(banner=banner||{}).split("#")[1];return"ri=home&zp=banner-"+(index+1)+"&recid="+(banner.recreason||"")+"&zn=banner"+(hash?"#"+hash:"")},removeHash:function(url){return(url=url||"").split("#")[0]},urlstr:urlstr,imgThumbnailUrl:_util2.default.imgThumbnailUrl}),exports.default=origin},TWY8:function(module,exports,__webpack_require__){(function(){var NEJ=__webpack_require__("j8Ga"),_e=__webpack_require__("fmCo"),_x=__webpack_require__("VHiT"),_u=__webpack_require__("qE4b"),_h=__webpack_require__("gfTw"),_p={};_p._$hover=function(_element,_clazz){_u._$isArray(_element)?_u._$forEach(_element,(function(_node){_p._$hover(_node,_clazz)})):(_element=_e._$get(_element))&&(_e._$id(_element),_h.__hoverElement(_element,_clazz||_e._$dataset(_element,"hover")||"js-hover"))},_p._$unhover=function(_element){if(_u._$isArray(_element))_u._$forEach(_element,(function(_node){_p._$unhover(_node)}));else{var _id=_e._$id(_element);_id&&_h.__unhoverElement(_id)}},_x._$merge(_p),NEJ.copy(NEJ.P("nej.e"),_p),module.exports=_p}).call(window)},gfTw:function(module,exports){(function(){var _p={};_p.__hoverElement=function(){},_p.__unhoverElement=function(_id){},module.exports=_p}).call(window)},oulq:function(module,exports){module.exports='<div class="wrap topBgWrapPos" style="z-index:10;"> <article class="topBgWrap clearfix"> {# if len > 0} <div class="imgBox"> <section id="picBox" class="sliderBox sliderBox2"> <ul id="show_pic"> {# list bannerList as banner} <li> <a class="itm" target="_blank" href="{banner|urlstr|removeHash}" on-click={this.daEvent(banner, banner_index)} data-param="{banner|dataParam:index}"> <img class="showImg" src="{(banner.imageUrl||\'\')|imgThumbnailUrl:1920,0,90}" width="1920px" height="400px" /> {#if banner.imageUrlSmall!=""} <img class="logoImg" src="{(banner.imageUrlSmall||\'\')|noProtocol}" /> {/if} {#if banner.linkId===1} <b class="adTag">å¹¿å</b> {/if} <div class="blur-img-wrap"> <img class="showImg" src="{(banner.imageUrl||\'\')|imgThumbnailUrl:1920,0,90}" width="1920px" height="400px" /> </div> </a> </li> {/list} </ul> <table class="img_pagebox" cellspacing="0" cellpadding="0" border="0" style="z-index: 11;"> <tbody> <tr class="img_page"> <td id="icon_num" class="pageBox"> <span class="w-slbtn"> <span class="partr"> {#list 1..len as num} <a class="idxicon" r-class="{{\'first active\':num==1, \'last\':num==len}}" href="javascript:void(0)"><i class="dot"></i><span class="num">{num}</span> </a> {/list} </span> </span> </td> </tr> </tbody> </table> <div class="control" style="z-index: 11;"> <div> <a href="javascript:void(0)" class="cons prev ani"></a> <a href="javascript:void(0)" class="cons next ani"></a> </div> </div> </section> </div> {/if} </article> <article class="m-sellpoint"> <section class="m-contentwrap f-cb"> <div class="sellpoint f-cb"> <a class="itm" href="//pages.kaola.com/pages/activity/0b4317da69e04c6ea6babc88b1917876.shtml" target="_blank"><i class="iconfont">&#xe675;</i><span class="txt">èæèªè¥</span></a> <a class="itm" href="//pages.kaola.com/pages/activity/0b4317da69e04c6ea6babc88b1917876.shtml" target="_blank"><i class="iconfont">&#xe672;</i><span class="txt">å¨çç´é</span></a> <a class="itm" href="//pages.kaola.com/pages/activity/0b4317da69e04c6ea6babc88b1917876.shtml" target="_blank"><i class="iconfont">&#xe674;</i><span class="txt">åä¸èµå</span></a> <a class="itm" href="//pages.kaola.com/pages/activity/0b4317da69e04c6ea6babc88b1917876.shtml" target="_blank"><i class="iconfont">&#xe673;</i><span class="txt">å®åæ å¿§</span></a> </div> {# if topNotice && topNotice.length > 0 } <div class="notice"> <ul id="j-announce" class="cnt"> {# list topNotice as notice } <li><i class="speaker iconfont">&#xe62e;</i><a href="{ notice.siteUrl || \'javascript:;\'}" target="_blank" title="{notice.title || \'\'}" data-param="{this.jointTjQuery2(notice.siteUrl,\'ri\',\'home\',\'zp\',\'notice-\'+(notice_index+1),\'zn\',\'notice\')}">{notice.title || \'\'}</a></li> {/list} </ul> </div> {#else} <div class="download"><i class="phone"></i><a href="//app.kaola.com/" target="_blank">{title}ï¼{subTitle}</a></div> {/if} </section> </article>\n</div>'}},[["MQNn","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60035_ec_rules/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60035_ec_rules/pc/index"],{"8AGE":function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _util2=_interopRequireDefault(__webpack_require__("xFze")),_element2=_interopRequireDefault(__webpack_require__("fmCo")),_linear3=_interopRequireDefault(__webpack_require__("TGiJ")),_view2=_interopRequireDefault(__webpack_require__("JIvD")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_request2=_interopRequireDefault(__webpack_require__("9ACE"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__("nNFp");var EcRule=_regionBaseComp2.default.extend({template:_util2.default.compressHtml(_view2.default),config:function(data){this.supr(data),data.isRegionNotValid||this.getCarouselBarrage()},getRegionNotValid:function(){return!1},$request:_request2.default,getCarouselBarrage:function(){this.$request("//element.kaola.com/rule_center/getCarouselBarrage.html",{method:"GET",type:"json",norest:!0,onload:function(json){this.barrageInterval(json&&json.data||[])}.bind(this),onerror:function(){}})},barrageInterval:function(barrage){var _this=this;if(barrage.length<=1)return this.data.barrage=barrage,void this.$update();barrage.push(barrage[0]),this.data.barrage=barrage,this.$update();var i=0,len=(this.data.barrage||[]).length;setInterval((function(){var node=_element2.default._$get("j-barrage");_this.doAnima(node,i,i+40,(function(){i=(i+40)%(40*(len-1))}))}),5e3)},doAnima:function(node,start,end,done){_linear3.default._$$AnimLinear._$allocate({from:{offset:start},to:{offset:end},duration:500,onupdate:function(_event){node.style.top="-"+_event.offset+"px"},onstop:function(){done&&done()}})._$play()}});exports.default=EcRule},JIvD:function(module,exports){module.exports='{#if barrage && barrage.length > 0}\n<div class="m-barrage"> <div class="box-barrage"> <i class="u-icon u-loudspeaker"></i> <ul class="barrage-list" id="j-barrage"> {#list barrage as item} <li> <a href="//activity.kaola.com/footer/ecRule/{item.firstAndSecondCateFlagId}/{item.ruleId}.html" class="box-txt"> <span class="txt-noticeName">{item.noticeName}</span> <span class="txt-summarize">{item.summarize}</span> <i class="u-icon u-arrow-right"></i> </a> </li> {/list} </ul> </div>\n</div>\n{/if}'},TGiJ:function(module,exports,__webpack_require__){(function(){var NEJ=__webpack_require__("j8Ga"),_k=__webpack_require__("n9tM"),_u=__webpack_require__("qE4b"),_t0=__webpack_require__("CVAk"),_p={};_p._$$AnimLinear=_k._$klass(),_p._$$AnimLinear._$extend(_t0._$$AnimBezier).__reset=function(_options){(_options=_u._$merge({},_options)).timing="linear",this.__super(_options)},NEJ.copy(NEJ.P("nej.ut"),_p),module.exports=_p}).call(window)},nNFp:function(module,exports,__webpack_require__){}},[["8AGE","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60028_recommend/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60028_recommend/pc/index"],{"9KIh":function(module,exports,__webpack_require__){var _=__webpack_require__("xFze"),_ut=__webpack_require__("qE4b"),BaseComponent=__webpack_require__("eiEM");__webpack_require__("clPF");var ListComponent=BaseComponent.extend({watchedAttr:["current"],config:function(data){_.extend(data,{total:1,current:1,limit:10,list:[]}),this.$watch(this.watchedAttr,(function(){this.shouldUpdateList()&&this.__getList()}))},init:function(){this.$on("updatelist",this.__getList.bind(this))},shouldUpdateList:function(){return!0},getExtraParam:function(){return this.data.condition},refresh:function(_data){this.data.current=1,this.data.condition=_data,this.$emit("updatelist")},getListParam:function(){var data=this.data;return _.extend({limit:data.limit,offset:data.limit*(data.current-1),lastId:data.lastId},this.getExtraParam(data))},__bodyResolver:function(json){var result=json.body,list=result.list||[];_.mergeList(list,this.data.list,this.data.key||"id"),this.data.total=result.total,this.data.list=list},__getList:function(){var option={progress:!0,data:this.getListParam(),onload:function(json){this.__bodyResolver(json)}._$bind(this),onerror:function(json){var _handle=this.__errorHandler;_handle&&_handle(json)}};this.xdrOption&&_.extend(option,this.xdrOption),option.norest&&!_ut._$isString(option.data)&&(option.data=_ut._$object2query(option.data)),"GET"==option.method.toUpperCase()&&(option.query=option.data),this.$request(this.url,option)}});module.exports=ListComponent},F0dV:function(module,exports){module.exports='<div id="guess" class="newRecomWrap indexNewRecomWrap pc-index-module"> </div>'},JgOv:function(module,exports){module.exports="{#if total > 1}<ul class=\"m-pagination f-cb\" r-hide=\"!total\"><li on-click={ this.nav(current-1)} r-hide=\"hidePre\" class='pageprv {current==1? \"disabled\": \"\"}'><a href='javascript:void(0);' >ä¸ä¸é¡µ</a></li>{#if total - 5 > show * 2}<li on-click={ this.nav(1)} class={current==1? 'active': ''}><a href='javascript:void(0);'>1</a></li>{#if begin > 2}<li><a>...</a></li>{/if}{#list begin..end as i}<li on-mouseenter={this.onEnter(i)} on-click={ this.nav(i)} class={current==i? 'active': ''}><a href='javascript:void(0);'>{i}</a></li>{/list}{#if (end < total-1)}<li><a>...</a></li>{/if}<li on-click={ this.nav(total)} class={current==total? 'active': ''}><a href='javascript:void(0);'>{total}</a></li>{#else}{#list 1..total as i}<li on-mouseenter={this.onEnter(i)} on-click={ this.nav(i)} class={current==i? 'active': ''}><a href='javascript:void(0);'>{i}</a></li>{/list}{/if}<li on-click={ this.nav(current + 1)} r-hide=\"hideNext\" class='pagenxt {current==total? \"disabled\": \"\"}'><a href='javascript:void(0);' >ä¸ä¸é¡µ</a></li></ul>{/if}"},V5kZ:function(module,exports,__webpack_require__){__webpack_require__("l8kS"),__webpack_require__("qE4b");var _v=__webpack_require__("Re21"),ListComponent=(__webpack_require__("xFze"),__webpack_require__("9KIh")),_=__webpack_require__("xFze"),List=ListComponent.extend({init:function(){this.supr(),this._thro=_.throttle(this.onBodyScrollCheck._$bind(this),100),_v._$addEvent(window,"scroll",this._thro)},destroy:function(){_v._$delEvent(window,"scroll",this._thro),this.supr()}});ListComponent.filter({encode:function(str){return str?window.encodeURIComponent(str):""}}),module.exports=List},awdz:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _util2=_interopRequireDefault(__webpack_require__("xFze")),_element2=_interopRequireDefault(__webpack_require__("fmCo")),_listguess2=_interopRequireDefault(__webpack_require__("eFWK")),_view2=_interopRequireDefault(__webpack_require__("F0dV")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__("iz5r");var recommend=_regionBaseComp2.default.extend({template:_util2.default.compressHtml(_view2.default),config:function(data){this.supr(data),data.isRegionNotValid},init:function(){setTimeout(this.initGuessModule.bind(this),0)},initGuessModule:function(){var recommondData={strategy:"fav",limit:4,account:window.account||"",ver:2,from:"pc",tongji:{category:"æ¨èåºåå±ç¤º",action:"é¦é¡µ",lable:"çä½ åæ¬¢",position:"é¦é¡µï¼çä½ åæ¬¢",from:"homecnxh",query:"rp=home&zp=cnxh&zn=rec&recId="}};new _listguess2.default({data:{url:"//gw.kaola.com/gw/indexPageBridge/getRecommendGoods?version=1.0",condition:recommondData,option:{norest:!1,headers:{"gw-request-type":"web"}},formatResponse:function(json){return 0===json.code?json.body||{}:json},dapushParam:{id:"guess",page:"é¦é¡µ",module:"çä½ åæ¬¢"}}}).$inject(_element2.default._$get("guess"))},getRegionNotValid:function(){return!1}});exports.default=recommend},b6qB:function(module,exports){module.exports='{#if list.length!=0} <h4 class="newRecomTitle">çä½ åæ¬¢<b>æ ¹æ®ä½ çæµè§è®°å½æ¨èçåå</b> </h4> <div class="m-reclst clearfix"> {#list list as item} <div class="newRecomItemWrap newRecomItemWrap-{item_index+1}" on-click={this.clickRecommendTj(item_index,item.goodsId,condition.tongji.from)}> {#if item.memberCount && item.memberCount>0} <a class="itemImg" target="_blank" href="//goods.kaola.com/product/{item.goodsId}.html?{condition.tongji.query}{item.reason|encode}&istext=0"> <img border="0" title="{item.memberCount}{item.memberUnitName || \'ä»¶\'}è£ | {item.title}" alt="{item.memberCount}{item.memberUnitName || \'ä»¶\'}è£ | {item.title}" src="{(item.imageUrlFor430||item.imageUrl)|noProtocol}" style="opacity: 1;"> </a> <p {#if !!item.saleShow}class="itemTitle hasPromotion"{#else}class="itemTitle"{/if}> <a class="protitle" href="//goods.kaola.com/product/{item.goodsId}.html?{condition.tongji.query}{item.reason|encode}&istext=1" title="{item.memberCount}{item.memberUnitName || \'ä»¶\'}è£ | {item.title}" target="_blank"><b>{item.memberCount}{item.memberUnitName || \'ä»¶\'}è£</b>&nbsp;|&nbsp;{item.title}</a> </p> {#else} <a class="itemImg" target="_blank" href="//goods.kaola.com/product/{item.goodsId}.html?{condition.tongji.query}{item.reason|encode}&istext=0"> <img border="0" title="{item.title}" alt="{item.title}" src="{(item.imageUrlFor430||item.imageUrl)|noProtocol}" style="opacity: 1;"> </a> <p {#if !!item.saleShow}class="itemTitle hasPromotion"{#else}class="itemTitle"{/if}> <a class="protitle" href="//goods.kaola.com/product/{item.goodsId}.html?{condition.tongji.query}{item.reason|encode}&istext=1" title="{item.title}" target="_blank">{item.title}</a> </p> {/if} {#if !!item.saleShow} <p class="promotion"><span title="{item.saleShow||\'\'}">{item.saleShow||\'\'}</span></p> {/if} <div class="itemInfo clearfix"> <p class="price"><span class="symbol">Â¥</span>{item.actualCurrentPrice}<span class="marprice">Â¥<del>{item.marketPrice}</del></span></p> <a href="//goods.kaola.com/product/{item.goodsId}.html?{condition.tongji.query}{item.reason|encode}&istext=2#mainBtmWrap" target="_blank" class="comment">{item.commentCount} äººå·²è¯ä»·</a> </div> </div> {/list} </div>\n{/if}'},clPF:function(module,exports,__webpack_require__){var tpl=__webpack_require__("JgOv"),Pager=__webpack_require__("eiEM").extend({name:"pager",template:tpl,config:function(data){var show=data.show=Math.floor(2.5);data.current=parseInt(data.current||1),data.total=parseInt(data.total||1),this.$watch(["current","total"],(function(current){data.begin=current-show,data.end=current+show,data.begin<2&&(data.begin=2),data.end>data.total-1&&(data.end=data.total-1),current-data.begin<=1&&(data.end=data.end+show+data.begin-current),data.end-current<=1&&(data.begin=data.begin-show-current+data.end)}))},onEnter:function(page){this.data.mouseenter&&(this.$emit("enter",page),this.nav(page))},nav:function(page){var data=this.data;page<1||page>data.total||page!==data.current&&(data.current=page,this.$emit("nav",page))}});module.exports=Pager},eFWK:function(module,exports,__webpack_require__){var config=__webpack_require__("l8kS"),_ut=__webpack_require__("qE4b"),_e=__webpack_require__("fmCo"),tpl=__webpack_require__("b6qB"),ListComponent=__webpack_require__("V5kZ"),_=__webpack_require__("xFze"),ScrollPush=__webpack_require__("ntsr"),List=ListComponent.extend({template:tpl,data:{list:[]},getListParam:function(){var param=_.extend({},this.getExtraParam(this.data));return delete param.tongji,param},url:config.domainUrl+"recommend/getRecommendGoods.html",xdrOption:{method:"POST",norest:!0,type:"json"},onBodyScrollCheck:function(){var offset=_e._$offset(this.$root.parentNode,document.body),pageBox=_e._$getPageBox();if(pageBox.scrollTop+pageBox.clientHeight>offset.y&&!this.data.recommendSent){this.daPush(),this.data.recommendSent=!0;var itemsArr=[];_ut._$forEach(this.data.list,(function(item){itemsArr.push('{"id":'+(item.goodsId||"")+',"recType":"'+(item.recType||"")+'","reason":"'+(item.reason||"")+'","weight":"'+(item.weight||"")+'"}')}))}},daPush:function(){_.daEvent(this.data.condition.tongji.category||"æ¨èåºåå±ç¤º",this.data.condition.tongji.action||"æçä¼æ å¸",this.data.condition.tongji.lable||"çä½ åæ¬¢")},clickRecommendTj:function(index,goodsId,from){"homecnxh"===from&&window._dapush&&window._dapush("_trackEvent","é¦é¡µ","çä½ åæ¬¢",index+1,{userAccount:window.account||"",userId:window.account||"",customData:"//goods.kaola.com/product/"+goodsId+".html"});var evt=this.data.$event;this.data.list[index];evt.target.getAttribute("hasClick")||evt.target.setAttribute("hasClick",1)},refresh:function(){this.__getList()},__getList:function(){var data=this.data,option={data:this.getListParam(),onload:function(json){if(this.data.formatResponse&&this.data.formatResponse.call&&(json=this.data.formatResponse(json)),200==json.retcode){var result=json,list=result.list||[];_.mergeList(list,data.list,data.key||"id"),data.total=result.totalCount,data.list=list,data.refreshIcon="&#xe61a;",0==list.length&&this.__setParentHide()}else this.__setParentHide()},onerror:function(){this.__setParentHide()}};_.extend(option,this.data.option||{}),this.xdrOption&&_.extend(option,this.xdrOption),option.norest&&!_ut._$isString(option.data)&&(option.data=_ut._$object2query(option.data)),"GET"==option.method.toUpperCase()&&(option.query=option.data),this.$request(this.data.url||this.url,option)},__setParentHide:function(){this.parentNode.style.display="none"},__bindDaPush:function(){var data=this.data,dapushParam=data.dapushParam;if(dapushParam&&dapushParam.page){var spec={param:function(){for(var i=0,list=[],l=data.list.length;i<l;i++)list.push(data.list[i].goodsId);return list}};_.extend(spec,dapushParam),ScrollPush._$allocate(spec)}},config:function(data){_.extend(data,{total:1,current:1,limit:20,list:[]}),this.data.condition.tongji||(this.data.condition.tongji={category:"",action:"",lable:"",position:"",from:"",query:""}),this.__bindDaPush(),this.$watch(this.watchedAttr,(function(){this.shouldUpdateList()&&this.__getList()}))}});module.exports=List},iz5r:function(module,exports,__webpack_require__){},ntsr:function(module,exports,__webpack_require__){var obj,_stringify=__webpack_require__("gDS+"),_stringify2=(obj=_stringify)&&obj.__esModule?obj:{default:obj};var _pro,_k=__webpack_require__("n9tM"),_ut=__webpack_require__("qE4b"),_t=__webpack_require__("iNeD"),_v=__webpack_require__("Re21"),_e=__webpack_require__("fmCo"),_p=(__webpack_require__("HpfO"),{});_p._$$ScrollTo=_k._$klass(),(_pro=_p._$$ScrollTo._$extend(_t._$$EventTarget)).__init=function(_options){this.__super(_options)},_pro.__reset=function(_options){this.__super(_options),this._elem=_options.elem||_e._$get(_options.id||""),this._page="åçæç¹^_^"+(_options.page||""),this._module=_options.module||"",this._param=_options.param||(_ut._$isArray(_options.param)?[]:{}),this._waitMills=_options.waitMills||1e3,this._area=_options.area||{},this._elem&&_options.page&&_options.module&&(this._hasCalled=!1,this._blocking=!1,this._sto=void 0,_v._$addEvent(window,"scroll",this.__cbFn._$bind(this)),_v._$addEvent(window,"resize",this.__cbFn._$bind(this)),this.__cbFn._$bind(this)())},_pro.__cbFn=function(){var self=this,area=self._area,waitMills=self._waitMills;if(self._elem.getBoundingClientRect&&!self._hasCalled){var rect=self._elem.getBoundingClientRect(),top=rect.top||0,bottom=rect.bottom||0,viewportH=document.documentElement.clientHeight,minH=area.top||0,maxH=viewportH-(area.bottom||0);if(top>minH&&top<maxH||bottom>minH&&bottom<maxH||top<minH&&bottom>maxH){if(self._blocking)return;self._blocking=!0,self._sto=setTimeout((function(){self._blocking=!1,self.__sendDaPush()}),waitMills)}else self._blocking=!1,self._sto&&(clearTimeout(self._sto),self._sto=void 0)}},_pro.__sendDaPush=function(){var _param=this._param;this._hasCalled=!0,"function"==typeof _param&&(_param=_param.apply(window)),window._dapush&&window._dapush("_trackEvent",this._page,this._module,(0,_stringify2.default)(_param)||"",{userAccount:window.account,userId:window.account})},module.exports=_p._$$ScrollTo}},[["awdz","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60020_daily_new/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60020_daily_new/pc/index"],{UkX3:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _assign2=_interopRequireDefault(__webpack_require__("P2sY")),_util2=_interopRequireDefault(__webpack_require__("xFze")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_view2=_interopRequireDefault(__webpack_require__("iudf"));__webpack_require__("YR5o");var _tools=__webpack_require__("l5k9");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ZoneDailyNew=_regionBaseComp2.default.extend({template:_util2.default.compressHtml(_view2.default),config:function(data){if(this.supr(data),!data.isRegionNotValid){var content=data&&data.dataMap&&data.dataMap.content||{},_content$composeData=content.composeData,composeData=void 0===_content$composeData?{}:_content$composeData,_content$configData=content.configData,configData=void 0===_content$configData?{}:_content$configData;configData=configData||{};var zoneData=(composeData=composeData||{})&&composeData.recBrand||{},recomData=(composeData.recGoods||[]).map((function(v,index){var item=v;return index<6&&((0,_assign2.default)(v,v.goods||{},{recReason:v.recItem&&v.recItem.reason||""}),delete item.goods),item})),dateMs=(zoneData.fixedEntrance||{}).dateMs||0,dataObj=new Date(dateMs),month=dataObj.getMonth()+1,day=dataObj.getDate();_util2.default.extend(data,{zoneData:zoneData,recomData:recomData,month:this.fill0(month),day:this.fill0(day),actMonth:!1,actDay:!1,zoneId:zoneData.id||"",mainTilte:configData.floorTitle||"ä»æ¥ä¸æ°",subTitle:configData.subTitle||"å¨ä¸çå¥½ç©ï¼0ç¹æ´æ°",dailyTitle:configData.rightUpTitle||"è¿å¥æ°åé¢é",dailyNewUrl:configData.rightUpTitleLink||"//activity.kaola.com/activity/newArrival.html",floorImage:configData.rightDownImage||"//kaola-haitao.oss.kaolacdn.com/bc09ae3f-5604-44ed-b527-e0c2f763223a.jpg",floorImageLink:configData.rightDownImageLink||"//activity.kaola.com/activity/newArrival.html"}),this.navSync()}},navSync:function(){var _this=this,timer=null,retryTime=0;_tools.eventEmitter.$on("$navDataSyncFinish",(function(item){var moduleId=_this.data.detailMap&&_this.data.detailMap.moduleId;item.id==moduleId&&clearInterval(timer)})),timer=setInterval((function(){_tools.eventEmitter.$emit("$navDataSync",{title:_this.data.mainTilte,id:_this.data.detailMap&&_this.data.detailMap.moduleId,type:"channel"}),10==++retryTime&&clearInterval(timer)}),800)},init:function(){this.supr(),this.setDate()},fill0:function(num){return("0"+num).slice(-2)},setDate:function(){setTimeout(function(){this.$update({actMonth:!0})}._$bind(this),800),setTimeout(function(){this.$update({actDay:!0})}._$bind(this),1600)},getRegionNotValid:function(data){return!(data&&data.dataMap&&data.dataMap.content&&data.dataMap.content.composeData&&data.dataMap.content.configData)}});ZoneDailyNew.filter({brandProfit:function(zoneData){var brandProfit=zoneData.fixedBrand.brandProfit||"";return brandProfit.replace(/(\d+)/g,"<i>$1</i>")},dataParam:function(zp,recReason){return"ri=home&zid="+this.data.zoneId+"&zp="+zp+"&zn=worldNew"+(recReason?"&recId="+recReason:"")},imgThumbnailUrl:_util2.default.imgThumbnailUrl}),exports.default=ZoneDailyNew},YR5o:function(module,exports,__webpack_require__){},iudf:function(module,exports){module.exports='{#if recomData}\n<article class="m-recomds-new pc-index-module" id="{@(zoneId)}"> <h2 class="w-tit1 w-tit1-1 w-title-line"> <span class="big">{@(mainTilte)}</span>{@(subTitle)} <a class="more" href="{@(dailyNewUrl)}" target="_blank" data-param="{@(\'worldNew-up\'|dataParam)}">{@(dailyTitle)}&gt;</a> </h2> <div class="itmBox"> <ul class="f-cb itmWrap"> <li class="itm item-brand-new"> <a href="{@(\'//search.kaola.com/brand/\'+zoneData.fixedBrand.brandId+\'.html\')}" data-param="{@(\'worldNew-brand\'|dataParam)}" title="{@(zoneData.fixedBrand.brandName||\'\')}" target="_blank"> <div class="good-info"> <div class="image-wrap"> <img class="f-hover" r-class={{"img-offset":imageMove,"img":true}} src="{@(zoneData.fixedGoods.imageUrl|imgThumbnailUrl:260)}" alt="{@(zoneData.fixedBrand.brandName||\'\')}"> </div> <div class="recomds-brand-mask"> <p class="desc">{@(zoneData.fixedBrand.brandDesc||\'\')}</p> <p class="profix"> <span r-html={@(zoneData|brandProfit)}></span> </p> </div> </div> <div class="brand-info"> <div class="image-wrap"> <img class="logo" src="{@(zoneData.fixedBrand.brandLogo|imgThumbnailUrl:260,0,90)}" alt="{@(zoneData.fixedBrand.brandDesc||\'\')}"> </div> <p class="brand-name"><span>{@(zoneData.fixedBrand.brandName||\'\')}</span></p> </div> </a> </li> {#list recomData.slice(0,6) as goods} <li class="itm itm-goods"> <a class="pic" target="_blank" title="{@(goods.title||\'\')}" href="//goods.kaola.com/product/{@(goods.goodsId||\'\')}.html" data-param="{@((\'worldNew-goods-\'+(goods_index+1))|dataParam:goods.recReason)}"> <img src="{@(goods.imageUrl|imgThumbnailUrl:180)}" alt="{@(goods.title||\'\')}"> </a> <a class="tit" target="_blank" title="{@(goods.title||\'\')}" href="//goods.kaola.com/product/{@(goods.goodsId||\'\')}.html" data-param="{@((\'worldNew-goods-\'+(goods_index+1))|dataParam:goods.recReason)}"> {@(goods.title||\'\')} </a> <p class="price"> <span class="cur">Â¥<b>{@(goods.actualCurrentPrice||\'\')}</b></span> <span class="mkt">Â¥<del>{@(goods.marketPrice||\'\')}</del></span> </p> </li> {/list} <li class="itm itm-entra"> <a class=\'itmEntraImg\' target="_blank" href="{@(floorImageLink)}" data-param="{@(\'worldNew-more\'|dataParam)}" style="background:#fff url({@(floorImage|imgThumbnailUrl:260,260,90)}) no-repeat left center;"> <span class="date"> <b r-class={{\'month\':true,\'f-act\':actMonth}}>{@(month)}<br>00</b> <i>.</i> <b r-class={{\'day\':true,\'f-act\':actDay}}>{@(day)}<br>00</b> </span> </a> <a href="{@(floorImageLink)}" target="_blank" data-param="{@(\'worldNew-more\'|dataParam)}" class=\'itemEntraIntro\'> <span class="date"> <b r-class={{\'month\':true,\'f-act\':actMonth}}>{@(month)}<br>00</b> <i class=\'datePointer\'>.</i> <b r-class={{\'day\':true,\'f-act\':actDay}}>{@(day)}<br>00</b> </span> <span class=\'itemEntraDesc\'>|&nbsp;æ¯æ¥ä¸æ°æ°å</span> </a> </li> </ul> </div>\n</article>\n{/if}'}},[["UkX3","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60023_hot_brand/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60023_hot_brand/pc/index"],{BKkM:function(module,exports,__webpack_require__){},HWlt:function(module,exports,__webpack_require__){var _=__webpack_require__("xFze"),User=__webpack_require__("YwMD"),_u=__webpack_require__("pf1K"),UserInfo=__webpack_require__("uMXc"),g={gtmCollect:function(obj){window.dataLayer=window.dataLayer||[],window.dataLayer.push(obj)},gtmTrigger:function(triggerName){triggerName=triggerName||"gtmReady",window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:triggerName})},gtmReady:function(obj){g.gtmGo(obj,User.getUserType())},gtmReadyAsync:function(obj){setTimeout((function(){if(void 0===window.isLogin){var userInfo=new UserInfo;userInfo.$on("logined",(function(user){var userType=User.getUserTypeInUser(window.isLogin,user);g.gtmGo(obj,userType),userInfo=userInfo.destroy()}))}else{var userType=User.getUserTypeInUser(window.isLogin,window.user);g.gtmGo(obj,userType)}}),2e3)},gtmGo:function(obj,userType){var account=User.getAccountFromCookie(),data=_.merge({com_data:{user_type:userType,account:account,account_md5:_u._$md52hex(account)}},obj);g.gtmCollect(data),g.gtmTrigger("gtmReady")}};module.exports=g},"fFW+":function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _element2=_interopRequireDefault(__webpack_require__("fmCo")),_util2=_interopRequireDefault(__webpack_require__("xFze")),_NodeList2=_interopRequireDefault(__webpack_require__("siyG")),_view2=_interopRequireDefault(__webpack_require__("vUlm")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_slide2=_interopRequireDefault(__webpack_require__("Rm56")),_loginWindow2=_interopRequireDefault(__webpack_require__("4QQf")),_dialogs2=_interopRequireDefault(__webpack_require__("5zn9")),_bezier2=_interopRequireDefault(__webpack_require__("CVAk")),_gtm2=_interopRequireDefault(__webpack_require__("HWlt")),_regularjs2=_interopRequireDefault(__webpack_require__("mrZb")),_request2=_interopRequireDefault(__webpack_require__("9ACE")),_tools=__webpack_require__("l5k9");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__("BKkM");var ZonePopBrand=_regionBaseComp2.default.extend({template:_util2.default.compressHtml(_view2.default),config:function(data){if(this.supr(data),!data.isRegionNotValid){var content=data&&data.dataMap&&data.dataMap.content||{},_content$composeData=content.composeData,composeData=void 0===_content$composeData?[]:_content$composeData,_content$configData=content.configData,configData=void 0===_content$configData?{}:_content$configData;configData=configData||{};var recomData=composeData||[],activityBrandList=recomData.splice(0,3),recomDataCache=[_util2.default.clone(recomData)];_util2.default.extend(data,{zoneId:"pcBrandModuleId",mainTilte:configData.floorTitle||"ç­é¨åç",subTitle:configData.subTitle||"å¨çç²¾éï¼ä¸ç½æå°½",recomData:recomData,requesting:!1,pageNo:0,recomDataCache:recomDataCache,fixedBrandIndex:0,fixedBrandList:activityBrandList}),this.navSync()}},navSync:function(){var _this=this,timer=null,retryTime=0;_tools.eventEmitter.$on("$navDataSyncFinish",(function(item){var moduleId=_this.data.detailMap&&_this.data.detailMap.moduleId;item.id==moduleId&&clearInterval(timer)})),timer=setInterval((function(){_tools.eventEmitter.$emit("$navDataSync",{title:_this.data.mainTilte,id:_this.data.detailMap&&_this.data.detailMap.moduleId,type:"channel"}),10==++retryTime&&clearInterval(timer)}),800)},init:function(){this.supr();var _content$composeData2=(this.data&&this.data.dataMap&&this.data.dataMap.content||{}).composeData,composeData=void 0===_content$composeData2?[]:_content$composeData2;composeData&&composeData.length>0&&this.initSlide(),this.__gtmCollect(),this.$emit("brand-rotate-out")},initSlide:function(){var self=this,wrap=this.$refs.fixedBrandWrap,list=_element2.default._$getByClassName(wrap,"itm"),btns=_element2.default._$getByClassName(wrap,"arrow");_slide2.default._$allocate({list:list,preBtn:btns&&btns[0],nextBtn:btns&&btns[1],onchange:function(status){self.$update({fixedBrandIndex:status.newIndex})}}),function(enableWebkit){void 0===enableWebkit&&(enableWebkit=!1);var el=document.createElement("div");el.style.cssText=(enableWebkit?"-webkit-":"")+"filter: blur(2px)";var test1=0!=el.style.length,test2=void 0===document.documentMode||document.documentMode>9;return test1&&test2}()&&(this.$refs.fixedBrandWrap.className+=" not-support-filter")},change:function(){var data=this.data;if(!data.requesting){data.requesting=!0,_util2.default.daEvent("é¦é¡µ","æ¢ä¸æ¹","ä½ çä¸å±åç"),data.pageNo++;var cache=data.recomDataCache[data.pageNo%5];cache?this.dealRecom(cache):this.fetchRecom()}},$request:_request2.default,fetchRecom:function(){var data=this.data,index=data.pageNo%5;this.$request("//element.kaola.com/indexPageBridge/exclusiveBrand.html",{data:{limit:10,change:!0,pageNum:index+1},method:"POST",norest:!1,onload:function(_json){var json=_json||{};json.success?(data.recomDataCache[index]=json.data,this.dealRecom(json.data)):_dialogs2.default.errorDialog(json.retdesc)}._$bind(this),onerror:function(){_dialogs2.default.errorDialog(),data.requesting=!1}})},dealRecom:function(list){var self=this,recomBrand=(0,_NodeList2.default)(this.$refs.recomBrand),items=recomBrand._$children(),itemsCount=items.length;function getInfoNode(parent){return(0,_NodeList2.default)(parent)._$children(".info")[0]}function allDone(){self.$update({requesting:!1})}items._$forEach((function(item,index){var info=getInfoNode(item),brand=list[index]||{};setTimeout((function(){doAnima(info,100,0,(function(){self.data.recomData[index]=brand,self.$update(),doAnima(info=getInfoNode(recomBrand._$children()[index]),0,100,itemsCount-1===index?allDone:null)}))}),function(index){return index<4?100*index:index<7?(index+1)%4*100:400}(index))}))},follow:function(brand){if(!brand.followed){this.$request("//element.kaola.com/indexPageBridge/brand/follow.html",{data:{id:brand.brandId,status:1},method:"POST",norest:!0,onload:function(json){200==json.retcode||491==json.retcode?this.followSuccess(brand):461==json.retcode?_loginWindow2.default._$allocate({logincallback:this.follow._$bind(this,brand)})._$show():_dialogs2.default.errorDialog(json.retdesc)}._$bind(this),onerror:_dialogs2.default.errorDialog._$bind(null,"")}),_util2.default.daEvent("é¦é¡µ","å³æ³¨","ä½ çä¸å±åç")}},followSuccess:function(brand){brand.followed=!0,brand.focusCount+=1,this.$update()},__gtmCollect:function(){_gtm2.default.gtmReadyAsync({com_data:{page_type:"home"}})},getRegionNotValid:function(data){return!data||!data.dataMap||!data.dataMap.content||!data.dataMap.content.composeData||data.dataMap.content.composeData.length<1}});function doAnima(node,start,end,done){_bezier2.default._$$AnimBezier._$allocate({from:{offset:start},to:{offset:end},duration:200,timing:"linear",onupdate:function(_event){_element2.default._$style(node,{width:_event.offset+"%"})},onstop:function(){done&&done()}})._$play()}ZonePopBrand.filter({dataParam:function(zp,recReason){return"ri=home&zid="+this.data.zoneId+"&zp="+zp+"&zn=zspp"+(recReason?"&recId="+recReason:"")},imgThumbnailUrl:_util2.default.imgThumbnailUrl}),_regularjs2.default.animation("brand-rotate",(function(obj){var param=obj.param,element=obj.element,rotateIn="in"===param,start=rotateIn?100:0,end=rotateIn?0:100;return function(done){doAnima(element,start,end,done)}})),exports.default=ZonePopBrand},fUe8:function(module,exports){module.exports='{#if isLogin}\næ¨å¥½ï¼<span id="user163Box">{user.account}</span><span class="sep">|</span><a href="//account.kaola.com/logout.html?url={encodeURIComponent(location.href)}" data-param="zn=top">éåº</a>\n{#else}\n<span class="f-hkdn f-hkdnact">èææ¬¢è¿ä½ ï¼</span><a class="login" href="//account.kaola.com/login.html?target={encodeURIComponent(location.href)}" data-param="zn=top">ç»å½</a><span class="sep">|</span><a target="_blank" href="//account.kaola.com/login.html?target={encodeURIComponent(location.href)}&clfrom=userreg" data-param="zn=top">åè´¹æ³¨å</a>\n{/if}'},uMXc:function(module,exports,__webpack_require__){var config=__webpack_require__("l8kS"),domainConfig=__webpack_require__("ZZ1s"),_=__webpack_require__("xFze"),tpl=__webpack_require__("fUe8"),BaseComponent=__webpack_require__("eiEM"),isHkDomain=location.hostname.match(/\.kaola\.com\.hk$/),UserInfo=BaseComponent.extend({name:"UserInfo",template:tpl,data:{domain:isHkDomain?config.hkDomainUrl:config.domainUrl,isLogin:!1,location:location},config:function(){this.getUserName()},refresh:function(){this.getUserName()},getUserName:function(){this.$request(domainConfig.apis.user+"/getUserName.html",{method:"GET",norest:!0,type:"json",onload:function(_json){_json&&461==_json.retcode?(this.data.isLogin=!1,window.isLogin=!1):((_json=_json||{}).result=_json.result||{},this.data.isLogin=!0,this.data.user=_.clone(_json.result),this.data.user.account=_json.result.nickname||_json.result.account,window.account=_json.result.account,window.user=_json.result,window.isLogin=!0),this.$emit("logined",window.user)}})}});module.exports=UserInfo},vUlm:function(module,exports){module.exports='{# if recomData}\n<article class="m-popbrands coverMarginBottom pc-index-module" id="{@(zoneId)}"> <h2 class="w-tit1 w-tit1-1 w-title-line"> <span class="big">{@(mainTilte)}</span>{@(subTitle)} <a href="javascript:;" class="change" on-click={this.change($event)} r-animation="on:click;emit:rotateZ;on:mouseenter;emit:rotateZ;"> æ¢ä¸æ¹ <b class="iconfont icon-refresh" r-animation="on:rotateZ;class:rotate,2;"></b> </a> </h2> <section class="cnt f-cb"> <div class="fixedBrandWrap" ref="fixedBrandWrap"> <ul class="fixedBrand f-cb"> {#list fixedBrandList as brand} {#if brand_index < 3} <li class="itm"> <a href="{@(\'//search.kaola.com/brand/\'+brand.brandId+\'.html\')}" data-param="{@((\'zsppfixed-\'+(brand_index+1))|dataParam)}" title="{@(brand.name||\'\')}" target="_blank"> <img class="img" src="{@(brand.h5ImageUrl|imgThumbnailUrl:181,0,90)}" alt="{@(brand.name||\'\')}"> <div class="blur-img-wrap"> <img class="img" src="{@(brand.h5ImageUrl|imgThumbnailUrl:181,0,90)}" alt="{@(brand.name||\'\')}"> </div> <div class="txt"> <p class="name">{@(brand.name||\'\')}</p> <p class="desc">{@(brand.sellPoint||\'\')}</p> </div> </a> </li> {/if} {/list} </ul> <ul class="line f-cb"> {#list 1..3 as i} <li class="step"></li> {/list} <li class="progress" r-style={{width:fixedBrandIndex*74+72+\'px\'}}></li> </ul> <a href="javascript:;" class="iconfont arrow arrow-left icon-arrow-left"></a> <a href="javascript:;" class="iconfont arrow arrow-right icon-arrow-right"></a> </div> <ul ref="recomBrand" class="recomBrand f-cb"> {#list recomData.slice(0,8) as brand} <li class="itm"> <div class="info" r-animation="on:brand-rotate-out;brand-rotate:out;"> <img class="img" src="{@(brand.logoPic|imgThumbnailUrl:120,0,90)}" alt="{@(brand.name||\'\')}"> <p class="desc">{@(brand.sellPoint||\'\')}</p> </div> <div class="actions"> <a r-class={{"follow":true,"followed":brand.followed}} href="javascript:;" on-click={this.follow(brand)}> {!!brand.followed?\'å·²å³æ³¨\':\'+å³æ³¨\'} </a> <p class="followers">{brand.focusCount||\'\'}äººå³æ³¨è¯¥åç</p> <a class="enter" target="_blank" href="{@(\'//search.kaola.com/brand/\'+brand.brandId+\'.html\')}" data-param="{@((\'zspp-\'+(brand_index+1))|dataParam:brand.recReason)}"> è¿å¥åç </a> </div> </li> {/list} </ul> </section>\n</article>\n{/if}'}},[["fFW+","base/runtime","base/vendor","base/common","base/libarary"]]]);var _ACT_="object"==typeof _ACT_?_ACT_:{};_ACT_.components=_ACT_.components||{},_ACT_.components["components/reg_60029_sidebar/pc/index"]=(window.webpackJsonp=window.webpackJsonp||[]).push([["components/reg_60029_sidebar/pc/index"],{"5lOW":function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var _typeof3=_interopRequireDefault(__webpack_require__("EJiy")),_util2=_interopRequireDefault(__webpack_require__("xFze")),_element2=_interopRequireDefault(__webpack_require__("fmCo")),_chainable2=_interopRequireDefault(__webpack_require__("HpfO")),_util4=_interopRequireDefault(__webpack_require__("qE4b")),_event2=_interopRequireDefault(__webpack_require__("Re21")),_view2=_interopRequireDefault(__webpack_require__("Wvch")),_regionBaseComp2=_interopRequireDefault(__webpack_require__("WC4N")),_request2=_interopRequireDefault(__webpack_require__("9ACE")),_tools=__webpack_require__("l5k9");__webpack_require__("rinI");var _util6=_interopRequireDefault(__webpack_require__("aEOE")),_rightbar2=_interopRequireDefault(__webpack_require__("wP/u")),CONST=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__("UUIx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Sidebar=_regionBaseComp2.default.extend({template:_util2.default.compressHtml(_view2.default),config:function(data){var _this=this;this.supr(data),data.__isMail=window.location.href.indexOf("indexIframe")>=0,data.DOMAIN_CART=CONST.DOMAIN_CART,data.isRegionNotValid||this.$on("$inject",(function(){_this.__initUserCheckIn(),_this.updateNewUserTitle(),"object"===(0,_typeof3.default)(window.commonNavs)&&window.commonNavs.cart.followUpdate&&window.commonNavs.cart.followUpdate((function(num){_this.updateCartNum(num)}))}))},updateNewUserTitle:function(){_tools.fetchUtil.$request("https://gw.kaola.com/gw/marketactivities/nucb/obtainUserRedPackets?version=1.0",{method:"POST",type:"json",norest:!1,headers:{"gw-request-type":"wap"},body:{requestPage:5}}).then((function(resp){if(0===resp.code&&resp.body){var body=resp.body;body.totalAmount>3&&body.latestExpireAfter&&body.linkPc?body.showInfo=!0:body.showInfo=!1,_rightbar2.default._$allocate({data:resp.body||{}})}}))},updateCartNum:function(num){var rightBar=_element2.default._$get("rightBarNew"),numNode=_element2.default._$getByClassName(rightBar,"num");0==(num=(num=num||0)<=0?0:num<=99?num:"99+")?numNode&&numNode.length>0&&(numNode[0].style.visibility="hidden"):numNode&&numNode.length>0&&(numNode[0].style.visibility="visible",numNode[0].innerText=num)},getRegionNotValid:function(){return!1},$request:_request2.default,__initUserCheckIn:function(){var checkinBtn=(0,_chainable2.default)("#rightBarNew .checkin");checkinBtn.length&&_util4.default._$forEach(checkinBtn,function(_item,_index,_list){var _url="https://bean.kaola.com/personal/my_point/index.html?",_from=_element2.default._$attr(_list[_index],"data-from");_from&&(_url+="zn="+_from),_event2.default._$addEvent(_list[_index],"click",function(){_util6.default.afterLogin(function(){this.__reqCheckIn(_url)}._$bind(this))}._$bind(this))}._$bind(this))},__reqCheckIn:function(_url){var _callback=function(){setTimeout((function(){window.location.href=_url}),800)};this.$request("/personal/my_sign.html",{method:"GET",type:"json",norest:!0,onload:_callback,onerror:_callback})}});exports.default=Sidebar},Wvch:function(module,exports){module.exports='<div id="rightBarNew" class="m-rightbar m-rightbarnew f-hkdn" r-style="{{ display: __isMail ? \'none\' : \'block\'\n}}"> <ul class="clearfix"> <li> <a class="checkin" href="javascript:;" rel="nofollow" data-from="Sidebar"> <i class="right-bar-icon"></i><span class="txt">ç­¾å°</span> <span class="m-notice m-notice-1"> <span class="text">æ¯æ¥ç­¾å°<br />èµ¢èæè±</span> <span class="arrow"> <span class="arr"></span> <span class="arr1"></span> </span> </span> </a> </li> <li> <a class="shopcart" href="//{DOMAIN_CART}/cart.html?zn=Sidebar" target="_blank" rel="nofollow"><i class="right-bar-icon"></i><span class="txt">è´­ç©è½¦</span><span class="num" style="visibility:hidden;">0</span></a> </li> <li> <a class="m-app2 m-app2-1" href="//app.kaola.com?zn=Sidebar" id="j-right-bar-app" target="_blank" rel="nofollow"> <i class="right-bar-icon"></i><span class="txt">APP<i id="j-app-bubble" class="app-bubble">çº¢å</i></span> <span class="qrcode" id="j-qrcode-wap"> <img id="j-righ_bar_download_qr_code" class="u-img" src="https://kaola-haitao.oss.kaolacdn.com/9c6b0d6c-4a71-4018-8fb6-46496f51caff.png"> <p class="txt" style="color:#000;" id="j-right_bar_new_user_title"></p> </span> <div class="qrcode-more" id="j-qrcode-more-wap"> <P class="msg">ä½ ççº¢å</P> <p><span class="money" id="j-red-packet-total-amount"></span><span class="money-yuan">å</span></p> <div class="date" id="j-last-date"></div> <div class="img-box"> <img id="j-righ_bar_download_qr_code_more" src="" alt="" class="img"> </div> <p class="to-use">æ«ç å»APPä½¿ç¨çº¢å</p> </div> </a> </li> <li> <a class="srcolltop" id="scrollTop" href="#" rel="nofollow"><i class="right-bar-icon"></i><span class="txt">TOP</span></a> </li> </ul>\n</div>'},aEOE:function(module,exports,__webpack_require__){var request=__webpack_require__("9ACE"),_j=__webpack_require__("jJV8"),LoginWindow=__webpack_require__("4QQf"),PromptWin=__webpack_require__("iC0C"),domainConfig=__webpack_require__("ZZ1s"),util={parseJSON:function(data){return data=data.replace(/("|')\\?\/Date\((-?[0-9+]+)\)\\?\/\1/g,"new Date($2)"),new Function("return "+data)()},isLogin:function(callback){var _url=domainConfig.apis.user+"/getUserName.html",_opts={method:"get",norest:!0,type:"json",onload:function(_json){_json&&461==_json.retcode?callback(0):callback(1)}._$bind(this),onerror:function(){callback(0)}._$bind(this)};request(_url,_opts)},afterLogin:function(callback){this.isLogin((function(islogin){islogin?callback():LoginWindow._$allocate({logincallback:callback})._$show()}))},scrollTo:function(to,callback,duration){var requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)};!function(to,callback,duration){var start=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,change=to-start,currentTime=0;duration=void 0===duration?500:duration,function animateScroll(){var t,b,c,amount,val=(t=currentTime+=20,b=start,c=change,(t/=duration/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b);amount=val,document.documentElement.scrollTop=amount,document.body.parentNode.scrollTop=amount,document.body.scrollTop=amount,currentTime<duration?requestAnimFrame(animateScroll):callback&&"function"==typeof callback&&callback()}()}(to,callback,duration)},showErrorTip:function(_msg){var msg=_msg||"ohï¼æå¡å¨åèæç§å¥äºï¼è¯·éè¯",_win=PromptWin._$allocate({title:"æç¤º",clazz:"m-window-3",message:'<div class="dialogStyle" style="display:flex;text-align:left"><i class="alert">&#xe609;</i><div style="font-size: 20px;margin-top: 4px">'+msg+"</div></div>",btntext:"ç¡®å®"})._$show();setTimeout((function(){_win._$hide()}),3e3)},showMsgTip:function(_msg,_callback){var msg=_msg||"",_win=PromptWin._$allocate({title:"æç¤º",clazz:"m-window-3",message:'<div class="m-dialog-result"><i class="succ">&#xe612;</i>'+msg+"</div>",btntext:"ç¡®å®",onok:function(){_callback()},onclose:function(){_callback()}})._$show();setTimeout((function(){_callback(),_win._$hide()}),3e3)},getUserInfoFromCookie:function(site,_returnName){var name="163"===site||_j._$cookie("S_INFO")||!_j._$cookie("S_OINFO")?"P_INFO":"P_OINFO";if(_returnName)return name;var arr=(_j._$cookie(name)||"").replace(/"|'/g,"").split("|");if(arr.length>1&&/^.+@.+$/.test(arr[0])){var alias=arr[arr.length-1];return{base:arr[0],alias:/^1\d{10}@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(alias)?alias:arr[0]}}}};module.exports=util},rinI:function(module,exports,__webpack_require__){},"wP/u":function(module,exports,__webpack_require__){var isIEOrderVer,_index=__webpack_require__("oAHd"),_k=__webpack_require__("n9tM"),_t=__webpack_require__("iNeD"),_e=__webpack_require__("fmCo"),_v=__webpack_require__("Re21"),_h=__webpack_require__("xFze"),_pt=__webpack_require__("I72P"),_p={},_pro={};_p._$$RightBar=_k._$klass(),(_pro=_p._$$RightBar._$extend(_t._$$EventTarget)).__reset=function(_options){if(this.__super(_options),this.__setContainerStyle(),this.__rightBar=_e._$get("rightBarNew"),this.__banner=document.querySelector('[data-moduletype="60026"]'),this.__fixTop=66,this.__bannerHeight=this.__banner?this.__banner.getBoundingClientRect().height:505,this.__abTop=this.__bannerHeight+20,this.__rightBar){var data=_options.data,el=document.getElementById("j-right_bar_new_user_title");data.title=data.title||"ä¸è½½APP",data.subTitle=data.subTitle||"é¢1000åæ°äººç¤¼å",el&&(el.innerHTML='<p class="msg">'+data.title+'</p><p class="red">'+data.subTitle+"</p>"),this.__autoShow(data),this.__ShowDate(data),this.__anchorNode=this.__getAnchorNode(),this.__width=this.__anchorNode.clientWidth;var right=(document.body.clientWidth-this.__width)/2-68;this.__rightBar.style.right=right+"px",this.__getOffsetABTop(),this.__rightBar.style.display="block",this.__isIEOldVer()?(this.__rightBar.style.position="absolute",this.__rightBar.style.top="0px"):(_v._$addEvent(window,"scroll",this.__checkRightBar._$bind(this)),this.__checkRightBar())}},_pro.__autoShow=function(data){document.getElementById(data.showInfo?"j-qrcode-more-wap":"j-qrcode-wap").style["margin-left"]="0",document.getElementById(data.showInfo?"j-qrcode-more-wap":"j-qrcode-wap").style.display="block",new _index.CountDown({data:{leftTime:3e3,intervalTime:1e3}}).$on("onUpdate",(function(timeObj){timeObj.s>0||(document.getElementById(data.showInfo?"j-qrcode-more-wap":"j-qrcode-wap").style.display="")}))},_pro.__ShowDate=function(data){if(data.showInfo){document.getElementById("j-app-bubble").style.display="block",document.getElementById("j-qrcode-more-wap").style["margin-left"]="0",document.getElementById("j-red-packet-total-amount").textContent=data.totalAmount;var lastDate=document.getElementById("j-last-date"),countdown=new _index.CountDown({data:{leftTime:data.latestExpireAfter-1e3,intervalTime:1e3}});document.getElementById("j-right-bar-app").href=data.linkPc,countdown.$on("onUpdate",(function(timeObj){lastDate.textContent=timeObj.d>0||timeObj.h>23?(timeObj.d>0?timeObj.d:1)+"å¤©åå¤±æ":"é¨åäº"+timeObj.hh+":"+timeObj.mm+":"+timeObj.ss+"åå¤±æ",0===timeObj.d&&0===timeObj.h&&0===timeObj.m&&0===timeObj.s&&0===timeObj.ms&&(document.getElementById("j-qrcode-more-wap").style["margin-left"]="100000px",document.getElementById("j-qrcode-wap").style["margin-left"]="0",document.getElementById("j-app-bubble").style.display="none")}))}else document.getElementById("j-qrcode-wap").style["margin-left"]="0";var qrCodeEl=document.getElementById("j-righ_bar_download_qr_code"),qrCodeMoreEl=document.getElementById("j-righ_bar_download_qr_code_more");qrCodeEl&&qrCodeMoreEl&&data.qrCode&&(qrCodeEl.src=data.qrCode,qrCodeMoreEl.src=data.qrCode)},_pro.__getOffsetABTop=function(){this.__offsetABTop=_e._$offset(this.__anchorNode).y+this.__bannerHeight},_pro._$refreshRightBar=function(opt){opt=opt||{},_h.extend(this,opt,!0),this.__checkRightBar()},_pro.__checkRightBar=function(){this.__offsetABTop-(document.body.scrollTop||document.documentElement.scrollTop)<40?(this.__rightBar.style.top=this.__fixTop+"px",this.__rightBar.style.position="fixed"):(this.__rightBar.style.position="absolute",this.__rightBar.style.top=this.__abTop+"px")},_pro.__getAnchorNode=function(){return _e._$get("j-box")||_e._$get("topTabBox")||_e._$get("docHead")},_pro.__setContainerStyle=function(){_e._$get("j-box").style.position="relative"},_pro.__isIEOldVer=(isIEOrderVer="ie"==_pt._$KERNEL.browser&&_pt._$KERNEL.release<="3.0",function(){return isIEOrderVer}),module.exports=_p._$$RightBar}},[["5lOW","base/runtime","base/vendor","base/common","base/libarary"]]]);