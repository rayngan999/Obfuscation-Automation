(function($){$(document).ready(function(){var MEGANAVIGATOR=$(".js-meganavigator");var TAB_BAR=$(".js-meganavigator-tab-bar");var TAB_SELECTOR=".js-meganavigator-tab";var TAB_CONTENTS_SELECTOR=".js-meganavigator-tab-contents";var PANEL_SELECTOR=".js-meganavigator-panel";var PANEL_CONTENTS_SELECTOR=".js-meganavigator-panel-contents";var VEIL=$(".js-meganavigator-veil");var FLYOUT_LINKS_SELECTOR=".js-meganavigator-flyout-links";var FLYOUT_LINK_SELECTOR=".js-meganavigator-flyout-link";var FLYOUT_CONTENT_SELECTOR=".js-meganavigator-flyout-content";var REDUCED_NAVIGATION_PLACEHOLDER_SELECTOR=".js-meganavigator-reduced-navigation-placeholder";var REDUCED_NAVIGATION_CONTENT_SELECTOR=".js-meganavigator-reduced-navigation-content";var TAB_WITHOUT_CHILDREN_CLASS_SELECTOR=".js-meganavigator-tab-without-children";var FOCUSED_INPUT_SELECTOR="input:focus";var HEADER_MAIN=$(".header-main");var HEADER_TOP=$(".header-top");var TAB_WITHOUT_CHILDREN_CLASS="js-meganavigator-tab-without-children";var PANEL_FLYOUT_CLASS="js-meganavigator-tab-with-flyout";var FLYOUT_LINK_WITH_PANEL_CLASS="js-meganavigator-flyout-link-with-panel";var DATA_TAB_ID="data-meganavigator-tab-id";var DATA_PANEL_ID="data-meganavigator-panel-id";var DATA_FLYOUT_LINK_ID="data-meganavigator-flyout-link-id";var DATA_FLYOUT_CONTENT_ID="data-meganavigator-flyout-content-id";var OPEN_CLASS="meganavigator-open";var TAB_OPEN_CLASS="meganavigator-tab-open";var PANEL_SHOW_CLASS="meganavigator-panel-show";var FLYOUT_COLUMN_SHOW_CLASS="meganavigator-flyout-single-column-show";var FLYOUT_SHOW_CLASS="meganavigator-flyout-show";var FLYOUT_OPEN_CLASS="meganavigator-flyout-open";var FLYOUT_LINK_SELECTED="meganavigator-flyout-link-selected";var positionVeil=function(){VEIL.css("left","0");var leftOffset=VEIL.offset().left;VEIL.css("left","-"+leftOffset+"px")};positionVeil();var flyoutHeight=null;var determineFlyoutHeight=function(){if(flyoutHeight===null){var currentMaxHeight=0;$(FLYOUT_CONTENT_SELECTOR).addClass(FLYOUT_SHOW_CLASS);var allFlyoutContents=$(FLYOUT_CONTENT_SELECTOR);for(var i=0;i<allFlyoutContents.length;i++){currentMaxHeight=Math.max(currentMaxHeight,$(allFlyoutContents[i]).height())}$(FLYOUT_CONTENT_SELECTOR).removeClass(FLYOUT_SHOW_CLASS);flyoutHeight=Math.max(currentMaxHeight,$(FLYOUT_LINKS_SELECTOR).height())+60}return flyoutHeight};var flyoutWidth=null;var determineFlyoutWidth=function(){if(flyoutWidth===null){flyoutWidth=$(FLYOUT_LINKS_SELECTOR).outerWidth()+1}return flyoutWidth};var closeMeganavigatorFlyouts=function(){$(FLYOUT_LINK_SELECTOR).removeClass(FLYOUT_LINK_SELECTED);$(FLYOUT_CONTENT_SELECTOR).removeClass(FLYOUT_SHOW_CLASS);$(PANEL_SELECTOR).removeClass(FLYOUT_OPEN_CLASS+" "+FLYOUT_COLUMN_SHOW_CLASS)};var resetMeganavigatorFlyoutWidth=function($me){$me.parents(PANEL_SELECTOR).addClass(FLYOUT_COLUMN_SHOW_CLASS);$me.parents(PANEL_SELECTOR).css("width",determineFlyoutWidth()+"px")};var closeMeganavigatorContent=function(){TAB_BAR.removeClass(OPEN_CLASS);$(TAB_SELECTOR).removeClass(TAB_OPEN_CLASS);$(PANEL_SELECTOR).removeClass(PANEL_SHOW_CLASS);$(PANEL_SELECTOR).css("left","0");VEIL.removeClass(OPEN_CLASS);closeMeganavigatorFlyouts()};var focusedInputElementSelection=$(FOCUSED_INPUT_SELECTOR);var meganavigatorIsOpen=false;var closeMeganavigator=function(){closeMeganavigatorContent();if(focusedInputElementSelection&&focusedInputElementSelection.length>0){focusedInputElementSelection.focus()}meganavigatorIsOpen=false};$(window).resize(function(){if(meganavigatorIsOpen){closeMeganavigator()}$(PANEL_CONTENTS_SELECTOR).css("width","100vw");$(PANEL_CONTENTS_SELECTOR).css("height","auto");flyoutWidth=null;flyoutHeight=null;positionVeil()});var openOnTabInteraction=function($me){closeMeganavigatorContent();if(!meganavigatorIsOpen){focusedInputElementSelection=$(FOCUSED_INPUT_SELECTOR);if(focusedInputElementSelection&&focusedInputElementSelection.length>0){focusedInputElementSelection.blur()}}$me.addClass(TAB_OPEN_CLASS);var panelId=$me.attr(DATA_TAB_ID);var $panel=$(PANEL_SELECTOR+"["+DATA_PANEL_ID+"="+panelId+"]");$panel.addClass(PANEL_SHOW_CLASS);if(!$me.hasClass(TAB_WITHOUT_CHILDREN_CLASS)){TAB_BAR.addClass(OPEN_CLASS);VEIL.addClass(OPEN_CLASS);var windowScrollLeft=$(window).scrollLeft();if(windowScrollLeft>0){$panel.css("left",+windowScrollLeft+"px")}else{var offset=$panel.offset().left;$panel.css("left","-"+offset+"px")}if($me.hasClass(PANEL_FLYOUT_CLASS)){var $panelContents=$panel.find(PANEL_CONTENTS_SELECTOR);var tabBarLeft=TAB_BAR.offset().left;$panelContents.css("left",tabBarLeft);var height=determineFlyoutHeight();$panel.css("height",height+"px");$panelContents.css("height",height+"px");var width=determineFlyoutWidth();$panel.css("width",width+"px");$panelContents.css("width",width+"px");$panel.addClass(FLYOUT_COLUMN_SHOW_CLASS)}}meganavigatorIsOpen=true};var openOnFlyoutLinkInteraction=function($me){closeMeganavigatorFlyouts();var flyoutId=$me.attr(DATA_FLYOUT_LINK_ID);var hasPanel=$me.hasClass(FLYOUT_LINK_WITH_PANEL_CLASS);$me.addClass(FLYOUT_LINK_SELECTED);if(hasPanel){var $flyoutContent=$(FLYOUT_CONTENT_SELECTOR+"["+DATA_FLYOUT_CONTENT_ID+"="+flyoutId+"]");$flyoutContent.addClass(FLYOUT_SHOW_CLASS);$me.parents(PANEL_SELECTOR).addClass(FLYOUT_OPEN_CLASS);$me.parents(PANEL_SELECTOR).css("width","100vw");$me.parents(PANEL_CONTENTS_SELECTOR).css("width","auto")}else{resetMeganavigatorFlyoutWidth($me)}};var hoverDelayMouseOutHandler=function(event){if(!event.relatedTarget||event.relatedTarget.className&&typeof event.relatedTarget.className.includes==="function"&&!(event.relatedTarget.className.includes("js-meganavigator-tab")||event.relatedTarget.className.includes("js-meganavigator-panel"))){closeMeganavigator()}};$(TAB_SELECTOR).hoverDelay({over:function(){openOnTabInteraction($(this))},out:function(e){hoverDelayMouseOutHandler(e)},delayOver:200});$(TAB_SELECTOR+" a").hoverDelay({over:function(){openOnTabInteraction($(this).parents(TAB_SELECTOR))},out:function(e){hoverDelayMouseOutHandler(e)},delayOver:200});$(FLYOUT_LINK_SELECTOR).hoverDelay({over:function(){openOnFlyoutLinkInteraction($(this))},delayOver:200});$(FLYOUT_LINK_SELECTOR+"a").hoverDelay({over:function(){openOnFlyoutLinkInteraction($(this).parents(FLYOUT_LINK_SELECTOR))},delayOver:200});$(TAB_SELECTOR).on("click",function(){$(this).find("a")[0].click()});$(TAB_CONTENTS_SELECTOR).on("click",function(){$(this).find("a")[0].click()});$(TAB_CONTENTS_SELECTOR+" a").on("click",function(e){if(!$(this).closest(TAB_SELECTOR).hasClass(TAB_WITHOUT_CHILDREN_CLASS)&&!$(this).closest(TAB_SELECTOR).hasClass(TAB_OPEN_CLASS)){e.preventDefault()}});$(FLYOUT_LINK_SELECTOR).on("click",function(e){if($(this).closest(FLYOUT_LINK_SELECTOR).hasClass(FLYOUT_LINK_WITH_PANEL_CLASS)&&!$(this).closest(FLYOUT_LINK_SELECTOR).hasClass(FLYOUT_LINK_SELECTED)){e.preventDefault()}});$(FLYOUT_LINK_SELECTOR+" a").on("click",function(e){if($(this).closest(FLYOUT_LINK_SELECTOR).hasClass(FLYOUT_LINK_WITH_PANEL_CLASS)&&!$(this).closest(FLYOUT_LINK_SELECTOR).hasClass(FLYOUT_LINK_SELECTED)){e.preventDefault()}});$(TAB_WITHOUT_CHILDREN_CLASS_SELECTOR).on("mouseleave",function(){closeMeganavigator()});MEGANAVIGATOR.on("mouseleave",function(){closeMeganavigator()});VEIL.on("click",function(){closeMeganavigator()});HEADER_MAIN.on("mouseenter",function(){closeMeganavigator()});HEADER_TOP.on("mouseenter",function(){closeMeganavigator()});var moveReducedNavigation=function(){$(REDUCED_NAVIGATION_PLACEHOLDER_SELECTOR).html($(REDUCED_NAVIGATION_CONTENT_SELECTOR))};moveReducedNavigation()})})(jQuery);
//# sourceMappingURL=//cms.cdn.vpsvc.com/vistacore/js/Navigation/Meganavigator_min.js-hc774bc7b6ce33fb39fe371fd56ef87b31.map