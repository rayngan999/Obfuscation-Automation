/*! jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,g=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.4.1",k=function(e,t){return new k.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:f,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){b(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(d(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(d(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,k="sizzle"+1*new Date,m=n.document,S=0,r=0,p=ue(),x=ue(),N=ue(),A=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",$=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",F=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp($),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:m)!==C&&T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!A[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&U.test(t)){(s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=k),o=(l=h(t)).length;while(o--)l[o]="#"+s+" "+xe(l[o]);c=l.join(","),f=ee.test(t)&&ye(e.parentNode)||e}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){A(t,!0)}finally{s===k&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[k]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:m;return r!==C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),m!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+k+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||v.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",$)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===m&&y(m,e)?-1:t===C||t.ownerDocument===m&&y(m,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]===m?-1:s[r]===m?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),d.matchesSelector&&E&&!A[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(F," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[S,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[k]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[k]&&(v=Ce(v)),y&&!y[k]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=N[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[k]?i.push(a):o.push(a);(a=N(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument===C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(S=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(S=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=k.split("").sort(D).join("")===k,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);k.find=h,k.expr=h.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains,k.escapeSelector=h.escape;var T=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=k.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&N.test(e)?k(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),D.test(r[1])&&k.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,q=k(E);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return"undefined"!=typeof e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(O[r]||k.uniqueSort(n),H.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\x20\t\r\n\f]+/g;function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(R)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){k.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return k.each(arguments,function(e,t){var n;while(-1<(n=k.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<k.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,M,s),l(u,o,I,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,I,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==I&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:M)),o[2][3].add(l(0,e,m(n)?n:I))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(W(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)W(i[t],a(t),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&$.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var F=k.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return F.then(e)["catch"](function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||F.resolveWith(E,[k])}}),k.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(k(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(U,X)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(R)||[]).length;while(n--)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:K.test(i)?JSON.parse(i):i)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=V(r.slice(5)),ee(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){J.set(this,n)}):_(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=J.get(o,n))?t:void 0!==(t=ee(o,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Q.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=E.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},u=s(),l=n&&n[3]||(k.cssNumber[t]?"":"px"),c=e.nodeType&&(k.cssNumber[t]||"px"!==l&&+u)&&ne.exec(k.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)k.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ce={};function fe(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Q.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&se(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ce[s])||(o=a.body.appendChild(a.createElement(s)),u=k.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ce[s]=u)))):"none"!==n&&(l[c]="none",Q.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?k(this).show():k(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?k.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,xe,be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))k.merge(p,o.nodeType?[o]:o);else if(be.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(l=oe(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}me=E.createDocumentFragment().appendChild(E.createElement("div")),(xe=E.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),me.appendChild(xe),y.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Se(){return!1}function Ne(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function De(e,i,o){o?(Q.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Q.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Q.set(this,i,r),t=o(this,i),this[i](),r!==(n=Q.get(this,i))||t?Q.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Q.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,i)&&k.event.add(e,i,ke)}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(t);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(ie,i),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;while(l--)d=g=(s=Ee.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(R)||[""]).length;while(l--)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=k.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)k.event.remove(e,d+t[l],n,r,!0);k.isEmptyObject(u)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){a=k.event.handlers.call(this,s,l),t=0;while((i=a[t++])&&!s.isPropagationStopped()){s.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!s.isImmediatePropagationStopped())s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click",ke),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return De(this,e,Ne),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){k.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)k.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=k.extend({},s),J.set(t,u))}}function Ie(n,r,i,o){r=g.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Le.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Ie(t,r,i,o)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(ve(e,"script"),Pe)).length;c<f;c++)u=e,c!==p&&(u=k.clone(u,!0,!0),s&&k.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Re),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Q.access(u,"globalEval")&&k.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):b(u.textContent.replace(He,""),u,l))}return n}function We(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Me(o[r],a[r]);else Me(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return _(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ie(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var $e=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Be=new RegExp(re.join("|"),"i");function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=k.style(e,t)),!y.pixelBoxStyles()&&$e.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(s).appendChild(u);var e=C.getComputedStyle(u);n="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),ie.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s=E.createElement("div"),u=E.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i}}))}();var Ue=["Webkit","Moz","ms"],Xe=E.createElement("div").style,Ve={};function Ge(e){var t=k.cssProps[e]||Ve[e];return t||(e in Xe?e:Ve[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;while(n--)if((e=Ue[n]+t)in Xe)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=k.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=k.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=k.css(e,"border"+re[a]+"Width",!0,i))):(u+=k.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=k.css(e,"border"+re[a]+"Width",!0,i):s+=k.css(e,"border"+re[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function tt(e,t,n){var r=Fe(e),i=(!y.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,a=_e(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(i?"border":"content"),o,r,a)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=Qe.test(t),l=e.style;if(u||(t=Ge(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return Qe.test(t)||(t=Ge(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,u){k.cssHooks[u]={get:function(e,t,n){if(t)return!Ye.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,u,n):ue(e,Je,function(){return tt(e,u,n)})},set:function(e,t,n){var r,i=Fe(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===k.css(e,"boxSizing",!1,i),s=n?et(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-et(e,u,"border",!1,i)-.5)),s&&(r=ne.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=k.css(e,u)),Ze(0,t,s)}}}),k.cssHooks.marginLeft=ze(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_e(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=Ze)}),k.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=nt).prototype={constructor:nt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=nt.prototype.init,k.fx.step={};var rt,it,ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){it&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(lt):C.setTimeout(lt,k.fx.interval),k.fx.tick())}function ct(){return C.setTimeout(function(){rt=void 0}),rt=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(o,e,t){var n,a,r=0,i=dt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=rt||ct(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:rt||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=dt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,pt,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(R);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,"display")),"none"===(c=k.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=k.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Q.remove(e,"fxshow"),d)k.style(e,r,d[r])})),u=pt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=dt(this,k.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=Q.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Q.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ft(r,!0),e,t,n)}}),k.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),rt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,lt())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ot=E.createElement("input"),at=E.createElement("select").appendChild(E.createElement("option")),ot.type="checkbox",y.checkOn=""!==ot.value,y.optSelected=at.selected,(ot=E.createElement("input")).value="t",ot.type="radio",y.radioValue="t"===ot.value;var ht,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return _(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=gt[o],gt[o]=r,r=null!=a(e,t,n)?o:null,gt[o]=i),r}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function mt(e){return(e.match(R)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}k.fn.extend({prop:function(e,t){return _(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,xt(this)))});if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=k(this),r=bt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=xt(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+mt(xt(n))+" ").indexOf(t))return!0;return!1}});var wt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(wt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:mt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=k.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var Tt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(d+k.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[k.expando]?e:new k.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,Tt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Q.get(o,"events")||{})[e.type]&&Q.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&G(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Ct),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Ct),k.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){k.event.simulate(r,e.target,k.event.fix(e))};k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Q.access(e,r);t||e.addEventListener(n,i,!0),Q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Q.access(e,r)-1;t?Q.access(e,r,t):(e.removeEventListener(n,i,!0),Q.remove(e,r))}}});var Et=C.location,kt=Date.now(),St=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var Nt=/\[\]$/,At=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function qt(n,e,r,i){var t;if(Array.isArray(e))k.each(e,function(e,t){r||Nt.test(n)?i(n,t):qt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)qt(n+"["+t+"]",e[t],r,i)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)qt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Lt=/%20/g,Ht=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Ft=E.createElement("a");function Bt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(R)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function _t(t,i,o,a){var s={},u=t===Wt;function l(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Ft.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,k.ajaxSettings),t):zt(k.ajaxSettings,e)},ajaxPrefilter:Bt(It),ajaxTransport:Bt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=k.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?k(y):k.event,x=k.Deferred(),b=k.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Pt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace(Mt,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(R)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Ft.protocol+"//"+Ft.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=k.param(v.data,v.traditional)),_t(It,v,t,T),h)return T;for(i in(g=k.event&&v.global)&&0==k.active++&&k.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Rt.test(v.type),f=v.url.replace(Ht,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Lt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(St.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Ot,"$1"),o=(St.test(f)?"&":"?")+"_="+kt+++o),v.url=f+o),v.ifModified&&(k.lastModified[f]&&T.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&T.setRequestHeader("If-None-Match",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+$t+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=_t(Wt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(k.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Xt=k.ajaxSettings.xhr();y.cors=!!Xt&&"withCredentials"in Xt,y.ajax=Xt=!!Xt,k.ajaxTransport(function(i){var o,a;if(y.cors||Xt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Ut[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Vt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||k.expando+"_"+kt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?k(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Vt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=mt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=k.css(e,"position"),c=k(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=k.css(e,"top"),u=k.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===k.css(e,"position"))e=e.offsetParent;return e||ie})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return _(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=ze(y.pixelPosition,function(e,t){if(t)return t=_e(e,n),$e.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return _(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=m,k.isWindow=x,k.camelCase=V,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var Qt=C.jQuery,Jt=C.$;return k.noConflict=function(e){return C.$===k&&(C.$=Jt),e&&C.jQuery===k&&(C.jQuery=Qt),k},e||(C.jQuery=C.$=k),k});;
/*! jQuery Migrate v3.1.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window):t(jQuery,window)}(function(s,n){"use strict";function e(e){return 0<=function(e,t){for(var r=/^(\d+)\.(\d+)\.(\d+)/,n=r.exec(e)||[],o=r.exec(t)||[],i=1;i<=3;i++){if(+n[i]>+o[i])return 1;if(+n[i]<+o[i])return-1}return 0}(s.fn.jquery,e)}s.migrateVersion="3.1.0",n.console&&n.console.log&&(s&&e("3.0.0")||n.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),s.migrateWarnings&&n.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),n.console.log("JQMIGRATE: Migrate is installed"+(s.migrateMute?"":" with logging active")+", version "+s.migrateVersion));var r={};function u(e){var t=n.console;r[e]||(r[e]=!0,s.migrateWarnings.push(e),t&&t.warn&&!s.migrateMute&&(t.warn("JQMIGRATE: "+e),s.migrateTrace&&t.trace&&t.trace()))}function t(e,t,r,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return u(n),r},set:function(e){u(n),r=e}})}function o(e,t,r,n){e[t]=function(){return u(n),r.apply(this,arguments)}}s.migrateWarnings=[],void 0===s.migrateTrace&&(s.migrateTrace=!0),s.migrateReset=function(){r={},s.migrateWarnings.length=0},"BackCompat"===n.document.compatMode&&u("jQuery is not compatible with Quirks Mode");var i,a=s.fn.init,c=s.isNumeric,d=s.find,l=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,p=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;for(i in s.fn.init=function(e){var t=Array.prototype.slice.call(arguments);return"string"==typeof e&&"#"===e&&(u("jQuery( '#' ) is not a valid selector"),t[0]=[]),a.apply(this,t)},s.fn.init.prototype=s.fn,s.find=function(t){var r=Array.prototype.slice.call(arguments);if("string"==typeof t&&l.test(t))try{n.document.querySelector(t)}catch(e){t=t.replace(p,function(e,t,r,n){return"["+t+r+'"'+n+'"]'});try{n.document.querySelector(t),u("Attribute selector with '#' must be quoted: "+r[0]),r[0]=t}catch(e){u("Attribute selector with '#' was not fixed: "+r[0])}}return d.apply(this,r)},d)Object.prototype.hasOwnProperty.call(d,i)&&(s.find[i]=d[i]);s.fn.size=function(){return u("jQuery.fn.size() is deprecated and removed; use the .length property"),this.length},s.parseJSON=function(){return u("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},s.isNumeric=function(e){var t,r,n=c(e),o=(r=(t=e)&&t.toString(),!s.isArray(t)&&0<=r-parseFloat(r)+1);return n!==o&&u("jQuery.isNumeric() should not be called on constructed objects"),o},e("3.3.0")&&o(s,"isWindow",function(e){return null!=e&&e===e.window},"jQuery.isWindow() is deprecated"),o(s,"holdReady",s.holdReady,"jQuery.holdReady is deprecated"),o(s,"unique",s.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),t(s.expr,"filters",s.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),t(s.expr,":",s.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),e("3.2.0")&&o(s,"nodeName",s.nodeName,"jQuery.nodeName is deprecated");var f=s.ajax;s.ajax=function(){var e=f.apply(this,arguments);return e.promise&&(o(e,"success",e.done,"jQXHR.success is deprecated and removed"),o(e,"error",e.fail,"jQXHR.error is deprecated and removed"),o(e,"complete",e.always,"jQXHR.complete is deprecated and removed")),e};var y=s.fn.removeAttr,m=s.fn.toggleClass,h=/\S+/g;s.fn.removeAttr=function(e){var r=this;return s.each(e.match(h),function(e,t){s.expr.match.bool.test(t)&&(u("jQuery.fn.removeAttr no longer sets boolean properties: "+t),r.prop(t,!1))}),y.apply(this,arguments)};var g=!(s.fn.toggleClass=function(t){return void 0!==t&&"boolean"!=typeof t?m.apply(this,arguments):(u("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var e=this.getAttribute&&this.getAttribute("class")||"";e&&s.data(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":s.data(this,"__className__")||"")}))});s.swap&&s.each(["height","width","reliableMarginRight"],function(e,t){var r=s.cssHooks[t]&&s.cssHooks[t].get;r&&(s.cssHooks[t].get=function(){var e;return g=!0,e=r.apply(this,arguments),g=!1,e})}),s.swap=function(e,t,r,n){var o,i,a={};for(i in g||u("jQuery.swap() is undocumented and deprecated"),t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=r.apply(e,n||[]),t)e.style[i]=a[i];return o};var v=s.data;s.data=function(e,t,r){var n;if(t&&"object"==typeof t&&2===arguments.length){n=s.hasData(e)&&v.call(this,e);var o={};for(var i in t)i!==s.camelCase(i)?(u("jQuery.data() always sets/gets camelCased names: "+i),n[i]=t[i]):o[i]=t[i];return v.call(this,e,o),t}return t&&"string"==typeof t&&t!==s.camelCase(t)&&(n=s.hasData(e)&&v.call(this,e))&&t in n?(u("jQuery.data() always sets/gets camelCased names: "+t),2<arguments.length&&(n[t]=r),n[t]):v.apply(this,arguments)};function j(e){return e}var Q=s.Tween.prototype.run;s.Tween.prototype.run=function(){1<s.easing[this.easing].length&&(u("'jQuery.easing."+this.easing.toString()+"' should use only one argument"),s.easing[this.easing]=j),Q.apply(this,arguments)};var w=s.fx.interval||13,b="jQuery.fx.interval is deprecated";n.requestAnimationFrame&&Object.defineProperty(s.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return n.document.hidden||u(b),w},set:function(e){u(b),w=e}});var x=s.fn.load,k=s.event.add,A=s.event.fix;s.event.props=[],s.event.fixHooks={},t(s.event.props,"concat",s.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),s.event.fix=function(e){var t,r=e.type,n=this.fixHooks[r],o=s.event.props;if(o.length){u("jQuery.event.props are deprecated and removed: "+o.join());while(o.length)s.event.addProp(o.pop())}if(n&&!n._migrated_&&(n._migrated_=!0,u("jQuery.event.fixHooks are deprecated and removed: "+r),(o=n.props)&&o.length))while(o.length)s.event.addProp(o.pop());return t=A.call(this,e),n&&n.filter?n.filter(t,e):t},s.event.add=function(e,t){return e===n&&"load"===t&&"complete"===n.document.readyState&&u("jQuery(window).on('load'...) called after load event occurred"),k.apply(this,arguments)},s.each(["load","unload","error"],function(e,t){s.fn[t]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===t&&"string"==typeof e[0]?x.apply(this,e):(u("jQuery.fn."+t+"() is deprecated"),e.splice(0,0,t),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){s.fn[r]=function(e,t){return u("jQuery.fn."+r+"() event shorthand is deprecated"),0<arguments.length?this.on(r,null,e,t):this.trigger(r)}}),s(function(){s(n.document).triggerHandler("ready")}),s.event.special.ready={setup:function(){this===n.document&&u("'ready' event is deprecated")}},s.fn.extend({bind:function(e,t,r){return u("jQuery.fn.bind() is deprecated"),this.on(e,null,t,r)},unbind:function(e,t){return u("jQuery.fn.unbind() is deprecated"),this.off(e,null,t)},delegate:function(e,t,r,n){return u("jQuery.fn.delegate() is deprecated"),this.on(t,e,r,n)},undelegate:function(e,t,r){return u("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return u("jQuery.fn.hover() is deprecated"),this.on("mouseenter",e).on("mouseleave",t||e)}});var S=s.fn.offset;s.fn.offset=function(){var e,t=this[0],r={top:0,left:0};return t&&t.nodeType?(e=(t.ownerDocument||n.document).documentElement,s.contains(e,t)?S.apply(this,arguments):(u("jQuery.fn.offset() requires an element connected to a document"),r)):(u("jQuery.fn.offset() requires a valid DOM element"),r)};var q=s.param;s.param=function(e,t){var r=s.ajaxSettings&&s.ajaxSettings.traditional;return void 0===t&&r&&(u("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),t=r),q.call(this,e,t)};var C=s.fn.andSelf||s.fn.addBack;s.fn.andSelf=function(){return u("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),C.apply(this,arguments)};var M=s.Deferred,R=[["resolve","done",s.Callbacks("once memory"),s.Callbacks("once memory"),"resolved"],["reject","fail",s.Callbacks("once memory"),s.Callbacks("once memory"),"rejected"],["notify","progress",s.Callbacks("memory"),s.Callbacks("memory")]];return s.Deferred=function(e){var i=M(),a=i.promise();return i.pipe=a.pipe=function(){var o=arguments;return u("deferred.pipe() is deprecated"),s.Deferred(function(n){s.each(R,function(e,t){var r=s.isFunction(o[e])&&o[e];i[t[1]](function(){var e=r&&r.apply(this,arguments);e&&s.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t[0]+"With"](this===a?n.promise():this,r?[e]:arguments)})}),o=null}).promise()},e&&e.call(i,i),i},s.Deferred.exceptionHook=M.exceptionHook,s});;var EPSON;if(typeof EPSON!=='object'){EPSON={};}
if(!EPSON.i18n){EPSON.i18n={};}
if(!EPSON.config){EPSON.config={};}
if(!EPSON.user){EPSON.user={};}
(function(epson){'use strict';var constants={},noop=function(){return;};function typeOf(o){var type=typeof o;if(type==='object'){if(o===null){type='null';}else if(o===undefined){type='undefined';}else if(Array.isArray(o)){type='array';}else if(typeof o.nodeName==='string'&&typeof o.nodeType==='number'){type='element';}}
return type;}
function extendObject(source,extra){var prop='',owns=Object.prototype.hasOwnProperty;for(prop in extra){if(owns.call(extra,prop)){source[prop]=extra[prop];}}
return source;}
function isDefined(key){return Object.prototype.hasOwnProperty.call(constants,key);}
epson.mixinObject=function(source,mixin,preserveOriginal){Object.keys(mixin).forEach(function(prop){var type=typeOf(mixin[prop]);if(!preserveOriginal||(preserveOriginal&&!source[prop])){if(type==='array'){source[prop]=mixin[prop].concat();}else if(type==='object'){source[prop]=extendObject({},mixin[prop]);}else{source[prop]=mixin[prop];}}});};epson.createClass=function(Base,proto){var B=noop;function F(){this.init.apply(this,arguments);}
if(!proto){proto=Base;Base=Object;}else{F.parent=Base.prototype;}
B.prototype=Base.prototype;F.prototype=new B();F.prototype.toString=function(){return this.init.toString();};F.toString=function(){return proto.init.toString();};extendObject(F.prototype,proto);F.prototype.constructor=F;if(typeof F.prototype.init!=='function'){F.prototype.init=noop;}
return F;};epson.extendObject=extendObject;epson.defineConstant=function(key,value){if(isDefined(key)){throw new Error('Cannot redefine "'+key+'" constant');}
constants[key]=value;};epson.getConstant=function(key){return isDefined(key)?constants[key]:undefined;};epson.getAllConstants=function(){return epson.extendObject({},constants);};epson.isDefined=isDefined;}(EPSON));;
/*! modernizr 3.5.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-adownload-ambientlight-animation-apng-appearance-applicationcache-atobbtoa-audio-audioloop-audiopreload-backdropfilter-backgroundblendmode-backgroundcliptext-backgroundsize-batteryapi-bdi-beacon-bgpositionshorthand-bgpositionxy-bgrepeatspace_bgrepeatround-bgsizecover-blobconstructor-bloburls-blobworkers-borderimage-borderradius-boxshadow-boxsizing-canvas-canvasblending-canvastext-canvaswinding-capture-checked-classlist-contains-contenteditable-contextmenu-cookies-cors-cryptography-cssall-cssanimations-csscalc-csschunit-csscolumns-cssescape-cssexunit-cssfilters-cssgradients-cssgrid_cssgridlegacy-csshyphens_softhyphens_softhyphensfind-cssinvalid-cssmask-csspointerevents-csspositionsticky-csspseudoanimations-csspseudotransitions-cssreflections-cssremunit-cssresize-cssscrollbar-csstransforms-csstransforms3d-csstransitions-cssvalid-cssvhunit-cssvmaxunit-cssvminunit-cssvwunit-cubicbezierrange-customelements-customevent-customprotocolhandler-dart-datachannel-datalistelem-dataset-datauri-dataview-dataworkers-details-devicemotion_deviceorientation-directory-display_runin-displaytable-documentfragment-ellipsis-emoji-es5-es5array-es5date-es5function-es5object-es5string-es5syntax-es5undefined-es6array-es6collections-es6math-es6number-es6object-es6string-eventlistener-eventsource-exiforientation-fetch-fileinput-filereader-filesystem-flash-flexbox-flexboxlegacy-flexboxtweener-flexwrap-fontface-forcetouch-formattribute-formvalidation-framed-fullscreen-gamepads-generatedcontent-generators-geolocation-getrandomvalues-getusermedia-hairline-hashchange-hidden-hiddenscroll-history-hsla-htmlimports-ie8compat-imgcrossorigin-indexeddb-indexeddbblob-inlinesvg-input-inputformaction-inputformenctype-inputformmethod-inputformtarget-inputtypes-intl-jpeg2000-jpegxr-json-lastchild-ligatures-localizednumber-localstorage-lowbandwidth-lowbattery-matchmedia-mathml-mediaqueries-microdata-multiplebgs-mutationobserver-notification-nthchild-objectfit-olreversed-oninput-opacity-outputelem-overflowscrolling-pagevisibility-peerconnection-performance-picture-placeholder-pointerevents-pointerlock-postmessage-preserve3d-progressbar_meter-promises-proximity-queryselector-quotamanagement-regions-requestanimationframe-requestautocomplete-rgba-ruby-sandbox-scriptasync-scriptdefer-scrollsnappoints-seamless-search-serviceworker-sessionstorage-shapes-sharedworkers-siblinggeneral-sizes-smil-speechrecognition-speechsynthesis-srcdoc-srcset-strictmode-stylescoped-subpixelfont-supports-svg-svgasimg-svgclippaths-svgfilters-svgforeignobject-target-template-templatestrings-textalignlast-textareamaxlength-textshadow-texttrackapi_track-time-todataurljpeg_todataurlpng_todataurlwebp-touchevents-transferables-typedarrays-unicode-unicoderange-unknownelements-urlparser-urlsearchparams-userdata-userselect-vibrate-video-videoautoplay-videocrossorigin-videoloop-videopreload-vml-webaudio-webgl-webglextensions-webintents-webp-webpalpha-webpanimation-websockets-websocketsbinary-websqldatabase-webworkers-willchange-wrapflow-xdomainrequest-xhr2-xhrresponsetype-xhrresponsetypearraybuffer-xhrresponsetypeblob-xhrresponsetypedocument-xhrresponsetypejson-xhrresponsetypetext-addtest-atrule-domprefixes-hasevent-mq-prefixed-prefixedcss-prefixedcssvalue-prefixes-setclasses-shiv-testallprops-testprop-teststyles !*/
!function(window,document,undefined){function is(A,e){return typeof A===e}function testRunner(){var A,e,t,r,n,o,i;for(var d in tests)if(tests.hasOwnProperty(d)){if(A=[],e=tests[d],e.name&&(A.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(t=0;t<e.options.aliases.length;t++)A.push(e.options.aliases[t].toLowerCase());for(r=is(e.fn,"function")?e.fn():e.fn,n=0;n<A.length;n++)o=A[n],i=o.split("."),1===i.length?Modernizr[i[0]]=r:(!Modernizr[i[0]]||Modernizr[i[0]]instanceof Boolean||(Modernizr[i[0]]=new Boolean(Modernizr[i[0]])),Modernizr[i[0]][i[1]]=r),classes.push((r?"":"no-")+i.join("-"))}}function setClasses(A){var e=docElement.className,t=Modernizr._config.classPrefix||"";if(isSVG&&(e=e.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");e=e.replace(r,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(e+=" "+t+A.join(" "+t),isSVG?docElement.className.baseVal=e:docElement.className=e)}function addTest(A,e){if("object"==typeof A)for(var t in A)hasOwnProp(A,t)&&addTest(t,A[t]);else{A=A.toLowerCase();var r=A.split("."),n=Modernizr[r[0]];if(2==r.length&&(n=n[r[1]]),"undefined"!=typeof n)return Modernizr;e="function"==typeof e?e():e,1==r.length?Modernizr[r[0]]=e:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=e),setClasses([(e&&0!=e?"":"no-")+r.join("-")]),Modernizr._trigger(A,e)}return Modernizr}function createElement(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}function cssToDOM(A){return A.replace(/([a-z])-([a-z])/g,function(A,e,t){return e+t.toUpperCase()}).replace(/^-/,"")}function domToCSS(A){return A.replace(/([A-Z])/g,function(A,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function getBody(){var A=document.body;return A||(A=createElement(isSVG?"svg":"body"),A.fake=!0),A}function injectElementWithStyles(A,e,t,r){var n,o,i,d,a="modernizr",s=createElement("div"),l=getBody();if(parseInt(t,10))for(;t--;)i=createElement("div"),i.id=r?r[t]:a+(t+1),s.appendChild(i);return n=createElement("style"),n.type="text/css",n.id="s"+a,(l.fake?l:s).appendChild(n),l.appendChild(s),n.styleSheet?n.styleSheet.cssText=A:n.appendChild(document.createTextNode(A)),s.id=a,l.fake&&(l.style.background="",l.style.overflow="hidden",d=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(l)),o=e(s,A),l.fake?(l.parentNode.removeChild(l),docElement.style.overflow=d,docElement.offsetHeight):s.parentNode.removeChild(s),!!o}function contains(A,e){return!!~(""+A).indexOf(e)}function computedStyle(A,e,t){var r;if("getComputedStyle"in window){r=getComputedStyle.call(window,A,e);var n=window.console;if(null!==r)t&&(r=r.getPropertyValue(t));else if(n){var o=n.error?"error":"log";n[o].call(n,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else r=!e&&A.currentStyle&&A.currentStyle[t];return r}function roundedEquals(A,e){return A-1===e||A===e||A+1===e}function nativeTestProps(A,e){var t=A.length;if("CSS"in window&&"supports"in window.CSS){for(;t--;)if(window.CSS.supports(domToCSS(A[t]),e))return!0;return!1}if("CSSSupportsRule"in window){for(var r=[];t--;)r.push("("+domToCSS(A[t])+":"+e+")");return r=r.join(" or "),injectElementWithStyles("@supports ("+r+") { #modernizr { position: absolute; } }",function(A){return"absolute"==computedStyle(A,null,"position")})}return undefined}function testProps(A,e,t,r){function n(){i&&(delete mStyle.style,delete mStyle.modElem)}if(r=is(r,"undefined")?!1:r,!is(t,"undefined")){var o=nativeTestProps(A,t);if(!is(o,"undefined"))return o}for(var i,d,a,s,l,c=["modernizr","tspan","samp"];!mStyle.style&&c.length;)i=!0,mStyle.modElem=createElement(c.shift()),mStyle.style=mStyle.modElem.style;for(a=A.length,d=0;a>d;d++)if(s=A[d],l=mStyle.style[s],contains(s,"-")&&(s=cssToDOM(s)),mStyle.style[s]!==undefined){if(r||is(t,"undefined"))return n(),"pfx"==e?s:!0;try{mStyle.style[s]=t}catch(u){}if(mStyle.style[s]!=l)return n(),"pfx"==e?s:!0}return n(),!1}function fnBind(A,e){return function(){return A.apply(e,arguments)}}function testDOMProps(A,e,t){var r;for(var n in A)if(A[n]in e)return t===!1?A[n]:(r=e[A[n]],is(r,"function")?fnBind(r,t||e):r);return!1}function testPropsAll(A,e,t,r,n){var o=A.charAt(0).toUpperCase()+A.slice(1),i=(A+" "+cssomPrefixes.join(o+" ")+o).split(" ");return is(e,"string")||is(e,"undefined")?testProps(i,e,r,n):(i=(A+" "+domPrefixes.join(o+" ")+o).split(" "),testDOMProps(i,e,t))}function detectDeleteDatabase(A,e){var t=A.deleteDatabase(e);t.onsuccess=function(){addTest("indexeddb.deletedatabase",!0)},t.onerror=function(){addTest("indexeddb.deletedatabase",!1)}}function testAllProps(A,e,t){return testPropsAll(A,undefined,undefined,e,t)}var classes=[],tests=[],ModernizrProto={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(A,e){var t=this;setTimeout(function(){e(t[A])},0)},addTest:function(A,e,t){tests.push({name:A,fn:e,options:t})},addAsyncTest:function(A){tests.push({name:null,fn:A})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr,Modernizr.addTest("applicationcache","applicationCache"in window),Modernizr.addTest("blobconstructor",function(){try{return!!new Blob}catch(A){return!1}},{aliases:["blob-constructor"]}),Modernizr.addTest("cookies",function(){try{document.cookie="cookietest=1";var A=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",A}catch(e){return!1}}),Modernizr.addTest("cors","XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest),Modernizr.addTest("customprotocolhandler",function(){if(!navigator.registerProtocolHandler)return!1;try{navigator.registerProtocolHandler("thisShouldFail")}catch(A){return A instanceof TypeError}return!1}),Modernizr.addTest("customevent","CustomEvent"in window&&"function"==typeof window.CustomEvent),Modernizr.addTest("dataview","undefined"!=typeof DataView&&"getFloat64"in DataView.prototype),Modernizr.addTest("eventlistener","addEventListener"in window),Modernizr.addTest("geolocation","geolocation"in navigator),Modernizr.addTest("history",function(){var A=navigator.userAgent;return-1===A.indexOf("Android 2.")&&-1===A.indexOf("Android 4.0")||-1===A.indexOf("Mobile Safari")||-1!==A.indexOf("Chrome")||-1!==A.indexOf("Windows Phone")||"file:"===location.protocol?window.history&&"pushState"in window.history:!1}),Modernizr.addTest("ie8compat",!window.addEventListener&&!!document.documentMode&&7===document.documentMode),Modernizr.addTest("customelements","customElements"in window),Modernizr.addTest("json","JSON"in window&&"parse"in JSON&&"stringify"in JSON),Modernizr.addTest("notification",function(){if(!window.Notification||!window.Notification.requestPermission)return!1;if("granted"===window.Notification.permission)return!0;try{new window.Notification("")}catch(A){if("TypeError"===A.name)return!1}return!0}),Modernizr.addTest("postmessage","postMessage"in window),Modernizr.addTest("queryselector","querySelector"in document&&"querySelectorAll"in document),Modernizr.addTest("serviceworker","serviceWorker"in navigator),Modernizr.addTest("svg",!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),Modernizr.addTest("templatestrings",function(){var supports;try{eval("``"),supports=!0}catch(e){}return!!supports}),Modernizr.addTest("typedarrays","ArrayBuffer"in window);var supports=!1;try{supports="WebSocket"in window&&2===window.WebSocket.CLOSING}catch(e){}Modernizr.addTest("websockets",supports),Modernizr.addTest("xdomainrequest","XDomainRequest"in window),Modernizr.addTest("webaudio",function(){var A="webkitAudioContext"in window,e="AudioContext"in window;return Modernizr._config.usePrefixes?A||e:e});var CSS=window.CSS;Modernizr.addTest("cssescape",CSS?"function"==typeof CSS.escape:!1);var newSyntax="CSS"in window&&"supports"in window.CSS,oldSyntax="supportsCSS"in window;Modernizr.addTest("supports",newSyntax||oldSyntax),Modernizr.addTest("target",function(){var A=window.document;if(!("querySelectorAll"in A))return!1;try{return A.querySelectorAll(":target"),!0}catch(e){return!1}}),Modernizr.addTest("microdata","getItems"in document),Modernizr.addTest("mutationobserver",!!window.MutationObserver||!!window.WebKitMutationObserver),Modernizr.addTest("picture","HTMLPictureElement"in window),Modernizr.addTest("es5array",function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)}),Modernizr.addTest("es5date",function(){var A="2013-04-12T06:06:37.307Z",e=!1;try{e=!!Date.parse(A)}catch(t){}return!!(Date.now&&Date.prototype&&Date.prototype.toISOString&&Date.prototype.toJSON&&e)}),Modernizr.addTest("es5function",function(){return!(!Function.prototype||!Function.prototype.bind)}),Modernizr.addTest("es5object",function(){return!!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)}),Modernizr.addTest("strictmode",function(){"use strict";return!this}()),Modernizr.addTest("es5string",function(){return!(!String.prototype||!String.prototype.trim)}),Modernizr.addTest("es5syntax",function(){var value,obj,stringAccess,getter,setter,reservedWords,zeroWidthChars;try{return stringAccess=eval('"foobar"[3] === "b"'),getter=eval("({ get x(){ return 1 } }).x === 1"),eval("({ set x(v){ value = v; } }).x = 1"),setter=1===value,eval("obj = ({ if: 1 })"),reservedWords=1===obj["if"],zeroWidthChars=eval("_ = true"),stringAccess&&getter&&setter&&reservedWords&&zeroWidthChars}catch(ignore){return!1}}),Modernizr.addTest("es5undefined",function(){var A,e;try{e=window.undefined,window.undefined=12345,A="undefined"==typeof window.undefined,window.undefined=e}catch(t){return!1}return A}),Modernizr.addTest("es5",function(){return!!(Modernizr.es5array&&Modernizr.es5date&&Modernizr.es5function&&Modernizr.es5object&&Modernizr.strictmode&&Modernizr.es5string&&Modernizr.json&&Modernizr.es5syntax&&Modernizr.es5undefined)}),Modernizr.addTest("es6array",!!(Array.prototype&&Array.prototype.copyWithin&&Array.prototype.fill&&Array.prototype.find&&Array.prototype.findIndex&&Array.prototype.keys&&Array.prototype.entries&&Array.prototype.values&&Array.from&&Array.of)),Modernizr.addTest("es6collections",!!(window.Map&&window.Set&&window.WeakMap&&window.WeakSet)),Modernizr.addTest("generators",function(){try{new Function("function* test() {}")()}catch(A){return!1}return!0}),Modernizr.addTest("es6math",!!(Math&&Math.clz32&&Math.cbrt&&Math.imul&&Math.sign&&Math.log10&&Math.log2&&Math.log1p&&Math.expm1&&Math.cosh&&Math.sinh&&Math.tanh&&Math.acosh&&Math.asinh&&Math.atanh&&Math.hypot&&Math.trunc&&Math.fround)),Modernizr.addTest("es6number",!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON))),Modernizr.addTest("es6object",!!(Object.assign&&Object.is&&Object.setPrototypeOf)),Modernizr.addTest("promises",function(){return"Promise"in window&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&function(){var A;return new window.Promise(function(e){A=e}),"function"==typeof A}()}),Modernizr.addTest("es6string",!!(String.fromCodePoint&&String.raw&&String.prototype.codePointAt&&String.prototype.repeat&&String.prototype.startsWith&&String.prototype.endsWith&&String.prototype.includes)),Modernizr.addTest("devicemotion","DeviceMotionEvent"in window),Modernizr.addTest("deviceorientation","DeviceOrientationEvent"in window),Modernizr.addTest("filereader",!!(window.File&&window.FileList&&window.FileReader)),Modernizr.addTest("beacon","sendBeacon"in navigator),Modernizr.addTest("lowbandwidth",function(){var A=navigator.connection||{type:0};return 3==A.type||4==A.type||/^[23]g$/.test(A.type)}),Modernizr.addTest("eventsource","EventSource"in window),Modernizr.addTest("fetch","fetch"in window),Modernizr.addTest("xhrresponsetype",function(){if("undefined"==typeof XMLHttpRequest)return!1;var A=new XMLHttpRequest;return A.open("get","/",!0),"response"in A}()),Modernizr.addTest("xhr2","XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest),Modernizr.addTest("localstorage",function(){var A="modernizr";try{return localStorage.setItem(A,A),localStorage.removeItem(A),!0}catch(e){return!1}}),Modernizr.addTest("sessionstorage",function(){var A="modernizr";try{return sessionStorage.setItem(A,A),sessionStorage.removeItem(A),!0}catch(e){return!1}}),Modernizr.addTest("speechsynthesis","SpeechSynthesisUtterance"in window),Modernizr.addTest("websqldatabase","openDatabase"in window),Modernizr.addTest("svgfilters",function(){var A=!1;try{A="SVGFEColorMatrixElement"in window&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(e){}return A}),Modernizr.addTest("urlparser",function(){var A;try{return A=new URL("http://modernizr.com/"),"http://modernizr.com/"===A.href}catch(e){return!1}}),Modernizr.addTest("urlsearchparams","URLSearchParams"in window),Modernizr.addTest("websocketsbinary",function(){var A,e="https:"==location.protocol?"wss":"ws";if("WebSocket"in window){if(A="binaryType"in WebSocket.prototype)return A;try{return!!new WebSocket(e+"://.").binaryType}catch(t){}}return!1}),Modernizr.addTest("atobbtoa","atob"in window&&"btoa"in window,{aliases:["atob-btoa"]}),Modernizr.addTest("framed",window.location!=top.location),Modernizr.addTest("sharedworkers","SharedWorker"in window),Modernizr.addTest("webworkers","Worker"in window);var prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];ModernizrProto._prefixes=prefixes,Modernizr.addTest("contains",is(String.prototype.contains,"function"));var docElement=document.documentElement;Modernizr.addTest("contextmenu","contextMenu"in docElement&&"HTMLMenuItemElement"in window),Modernizr.addTest("cssall","all"in docElement.style),Modernizr.addTest("willchange","willChange"in docElement.style),Modernizr.addTest("classlist","classList"in docElement),Modernizr.addTest("documentfragment",function(){return"createDocumentFragment"in document&&"appendChild"in docElement});var isSVG="svg"===docElement.nodeName.toLowerCase(),html5;isSVG||!function(A,e){function t(A,e){var t=A.createElement("p"),r=A.getElementsByTagName("head")[0]||A.documentElement;return t.innerHTML="x<style>"+e+"</style>",r.insertBefore(t.lastChild,r.firstChild)}function r(){var A=h.elements;return"string"==typeof A?A.split(" "):A}function n(A,e){var t=h.elements;"string"!=typeof t&&(t=t.join(" ")),"string"!=typeof A&&(A=A.join(" ")),h.elements=t+" "+A,s(e)}function o(A){var e=E[A[f]];return e||(e={},g++,A[f]=g,E[g]=e),e}function i(A,t,r){if(t||(t=e),c)return t.createElement(A);r||(r=o(t));var n;return n=r.cache[A]?r.cache[A].cloneNode():m.test(A)?(r.cache[A]=r.createElem(A)).cloneNode():r.createElem(A),!n.canHaveChildren||w.test(A)||n.tagUrn?n:r.frag.appendChild(n)}function d(A,t){if(A||(A=e),c)return A.createDocumentFragment();t=t||o(A);for(var n=t.frag.cloneNode(),i=0,d=r(),a=d.length;a>i;i++)n.createElement(d[i]);return n}function a(A,e){e.cache||(e.cache={},e.createElem=A.createElement,e.createFrag=A.createDocumentFragment,e.frag=e.createFrag()),A.createElement=function(t){return h.shivMethods?i(t,A,e):e.createElem(t)},A.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-:]+/g,function(A){return e.createElem(A),e.frag.createElement(A),'c("'+A+'")'})+");return n}")(h,e.frag)}function s(A){A||(A=e);var r=o(A);return!h.shivCSS||l||r.hasCSS||(r.hasCSS=!!t(A,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||a(A,r),A}var l,c,u="3.7.3",p=A.html5||{},w=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",g=0,E={};!function(){try{var A=e.createElement("a");A.innerHTML="<xyz></xyz>",l="hidden"in A,c=1==A.childNodes.length||function(){e.createElement("a");var A=e.createDocumentFragment();return"undefined"==typeof A.cloneNode||"undefined"==typeof A.createDocumentFragment||"undefined"==typeof A.createElement}()}catch(t){l=!0,c=!0}}();var h={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:u,shivCSS:p.shivCSS!==!1,supportsUnknownElements:c,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:s,createElement:i,createDocumentFragment:d,addElements:n};A.html5=h,s(e),"object"==typeof module&&module.exports&&(module.exports=h)}("undefined"!=typeof window?window:this,document);var omPrefixes="Moz O ms Webkit",domPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(" "):[];ModernizrProto._domPrefixes=domPrefixes;var hasOwnProp;!function(){var A={}.hasOwnProperty;hasOwnProp=is(A,"undefined")||is(A.call,"undefined")?function(A,e){return e in A&&is(A.constructor.prototype[e],"undefined")}:function(e,t){return A.call(e,t)}}(),ModernizrProto._l={},ModernizrProto.on=function(A,e){this._l[A]||(this._l[A]=[]),this._l[A].push(e),Modernizr.hasOwnProperty(A)&&setTimeout(function(){Modernizr._trigger(A,Modernizr[A])},0)},ModernizrProto._trigger=function(A,e){if(this._l[A]){var t=this._l[A];setTimeout(function(){var A,r;for(A=0;A<t.length;A++)(r=t[A])(e)},0),delete this._l[A]}},Modernizr._q.push(function(){ModernizrProto.addTest=addTest}),Modernizr.addAsyncTest(function(){var A=new Image;A.onerror=function(){addTest("exiforientation",!1,{aliases:["exif-orientation"]})},A.onload=function(){addTest("exiforientation",2!==A.width,{aliases:["exif-orientation"]})},A.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}),Modernizr.addAsyncTest(function(){function A(){clearTimeout(e),window.removeEventListener("deviceproximity",A),addTest("proximity",!0)}var e,t=300;"ondeviceproximity"in window&&"onuserproximity"in window?(window.addEventListener("deviceproximity",A),e=setTimeout(function(){window.removeEventListener("deviceproximity",A),addTest("proximity",!1)},t)):addTest("proximity",!1)}),Modernizr.addAsyncTest(function(){var A=new Image;A.onload=A.onerror=function(){addTest("jpeg2000",1==A.width)},A.src="data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB/1IADAAAAAEAAAQEAAH/XAAEQED/ZAAlAAFDcmVhdGVkIGJ5IE9wZW5KUEVHIHZlcnNpb24gMi4wLjD/kAAKAAAAAABYAAH/UwAJAQAABAQAAf9dAAUBQED/UwAJAgAABAQAAf9dAAUCQED/UwAJAwAABAQAAf9dAAUDQED/k8+kEAGvz6QQAa/PpBABr994EAk//9k="}),Modernizr.addAsyncTest(function(){var A=new Image;A.onload=A.onerror=function(){addTest("jpegxr",1==A.width,{aliases:["jpeg-xr"]})},A.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="}),Modernizr.addAsyncTest(function(){var A=new Image;A.onerror=function(){addTest("webpalpha",!1,{aliases:["webp-alpha"]})},A.onload=function(){addTest("webpalpha",1==A.width,{aliases:["webp-alpha"]})},A.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="}),Modernizr.addAsyncTest(function(){var A=new Image;A.onerror=function(){addTest("webpanimation",!1,{aliases:["webp-animation"]})},A.onload=function(){addTest("webpanimation",1==A.width,{aliases:["webp-animation"]})},A.src="data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}),Modernizr.addAsyncTest(function(){function A(A,e,t){function r(e){var r=e&&"load"===e.type?1==n.width:!1,o="webp"===A;addTest(A,o&&r?new Boolean(r):r),t&&t(e)}var n=new Image;n.onerror=r,n.onload=r,n.src=e}var e=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],t=e.shift();A(t.name,t.uri,function(t){if(t&&"load"===t.type)for(var r=0;r<e.length;r++)A(e[r].name,e[r].uri)})}),Modernizr.addTest("svgasimg",document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")),Modernizr.addAsyncTest(function(){function A(){var A=new Image;A.onerror=function(){addTest("datauri",!0),Modernizr.datauri=new Boolean(!0),Modernizr.datauri.over32kb=!1},A.onload=function(){addTest("datauri",!0),Modernizr.datauri=new Boolean(!0),Modernizr.datauri.over32kb=1==A.width&&1==A.height};for(var e="R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.length<33e3;)e="\r\n"+e;A.src="data:image/gif;base64,"+e}-1!==navigator.userAgent.indexOf("MSIE 7.")&&setTimeout(function(){addTest("datauri",!1)},10);var e=new Image;e.onerror=function(){addTest("datauri",!1)},e.onload=function(){1==e.width&&1==e.height?A():addTest("datauri",!1)},e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}),Modernizr.addAsyncTest(function(){function A(){addTest("blobworkers",!1),e()}function e(){d&&r.revokeObjectURL(d),i&&i.terminate(),a&&clearTimeout(a)}try{var t=window.BlobBuilder,r=window.URL;Modernizr._config.usePrefix&&(t=t||window.MozBlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.OBlobBuilder,r=r||window.MozURL||window.webkitURL||window.MSURL||window.OURL);var n,o,i,d,a,s="Modernizr",l="this.onmessage=function(e){postMessage(e.data)}";try{n=new Blob([l],{type:"text/javascript"})}catch(c){}n||(o=new t,o.append(l),n=o.getBlob()),d=r.createObjectURL(n),i=new Worker(d),i.onmessage=function(A){addTest("blobworkers",s===A.data),e()},i.onerror=A,a=setTimeout(A,200),i.postMessage(s)}catch(c){A()}}),Modernizr.addAsyncTest(function(){try{var A="Modernizr",e=new Worker("data:text/javascript;base64,dGhpcy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cG9zdE1lc3NhZ2UoZS5kYXRhKX0=");e.onmessage=function(t){e.terminate(),addTest("dataworkers",A===t.data),e=null},e.onerror=function(){addTest("dataworkers",!1),e=null},setTimeout(function(){addTest("dataworkers",!1)},200),e.postMessage(A)}catch(t){setTimeout(function(){addTest("dataworkers",!1)},0)}});var cssomPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.split(" "):[];ModernizrProto._cssomPrefixes=cssomPrefixes;var atRule=function(A){var e,t=prefixes.length,r=window.CSSRule;if("undefined"==typeof r)return undefined;if(!A)return!1;if(A=A.replace(/^@/,""),e=A.replace(/-/g,"_").toUpperCase()+"_RULE",e in r)return"@"+A;for(var n=0;t>n;n++){var o=prefixes[n],i=o.toUpperCase()+"_"+e;if(i in r)return"@-"+o.toLowerCase()+"-"+A}return!1};ModernizrProto.atRule=atRule;var hasEvent=function(){function A(A,t){var r;return A?(t&&"string"!=typeof t||(t=createElement(t||"div")),A="on"+A,r=A in t,!r&&e&&(t.setAttribute||(t=createElement("div")),t.setAttribute(A,""),r="function"==typeof t[A],t[A]!==undefined&&(t[A]=undefined),t.removeAttribute(A)),r):!1}var e=!("onblur"in document.documentElement);return A}();ModernizrProto.hasEvent=hasEvent,Modernizr.addTest("ambientlight",hasEvent("devicelight",window)),Modernizr.addTest("hashchange",function(){return hasEvent("hashchange",window)===!1?!1:document.documentMode===undefined||document.documentMode>7}),Modernizr.addTest("inputsearchevent",hasEvent("search")),Modernizr.addTest("pointerevents",function(){var A=!1,e=domPrefixes.length;for(A=Modernizr.hasEvent("pointerdown");e--&&!A;)hasEvent(domPrefixes[e]+"pointerdown")&&(A=!0);return A});var prefixedCSSValue=function(A,e){var t=!1,r=createElement("div"),n=r.style;if(A in n){var o=domPrefixes.length;for(n[A]=e,t=n[A];o--&&!t;)n[A]="-"+domPrefixes[o]+"-"+e,t=n[A]}return""===t&&(t=!1),t};ModernizrProto.prefixedCSSValue=prefixedCSSValue,Modernizr.addTest("audio",function(){var A=createElement("audio"),e=!1;try{e=!!A.canPlayType,e&&(e=new Boolean(e),e.ogg=A.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),e.mp3=A.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),e.opus=A.canPlayType('audio/ogg; codecs="opus"')||A.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),e.wav=A.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),e.m4a=(A.canPlayType("audio/x-m4a;")||A.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return e}),Modernizr.addTest("canvas",function(){var A=createElement("canvas");return!(!A.getContext||!A.getContext("2d"))}),Modernizr.addTest("canvastext",function(){return Modernizr.canvas===!1?!1:"function"==typeof createElement("canvas").getContext("2d").fillText}),Modernizr.addTest("contenteditable",function(){if("contentEditable"in docElement){var A=createElement("div");return A.contentEditable=!0,"true"===A.contentEditable}}),Modernizr.addTest("emoji",function(){if(!Modernizr.canvastext)return!1;var A=window.devicePixelRatio||1,e=12*A,t=createElement("canvas"),r=t.getContext("2d");return r.fillStyle="#f00",r.textBaseline="top",r.font="32px Arial",r.fillText("",0,0),0!==r.getImageData(e,e,1,1).data[0]}),addTest("htmlimports","import"in createElement("link")),Modernizr.addTest("olreversed","reversed"in createElement("ol")),Modernizr.addTest("userdata",!!createElement("div").addBehavior),Modernizr.addTest("video",function(){var A=createElement("video"),e=!1;try{e=!!A.canPlayType,e&&(e=new Boolean(e),e.ogg=A.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),e.h264=A.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),e.webm=A.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),e.vp9=A.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),e.hls=A.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(t){}return e}),Modernizr.addTest("vml",function(){var A,e=createElement("div"),t=!1;return isSVG||(e.innerHTML='<v:shape id="vml_flag1" adj="1" />',A=e.firstChild,"style"in A&&(A.style.behavior="url(#default#VML)"),t=A?"object"==typeof A.adj:!0),t}),Modernizr.addTest("webanimations","animate"in createElement("div")),Modernizr.addTest("webgl",function(){var A=createElement("canvas"),e="probablySupportsContext"in A?"probablySupportsContext":"supportsContext";return e in A?A[e]("webgl")||A[e]("experimental-webgl"):"WebGLRenderingContext"in window}),Modernizr.addTest("adownload",!window.externalHost&&"download"in createElement("a")),Modernizr.addTest("audioloop","loop"in createElement("audio")),Modernizr.addAsyncTest(function(){function A(t){clearTimeout(e);var n=t!==undefined&&"loadeddata"===t.type?!0:!1;r.removeEventListener("loadeddata",A,!1),addTest("audiopreload",n),r.parentNode.removeChild(r)}var e,t=300,r=createElement("audio"),n=r.style;if(!(Modernizr.audio&&"preload"in r))return void addTest("audiopreload",!1);n.position="absolute",n.height=0,n.width=0;try{if(Modernizr.audio.mp3)r.src="data:audio/mpeg;base64,//MUxAAB6AXgAAAAAPP+c6nf//yi/6f3//MUxAMAAAIAAAjEcH//0fTX6C9Lf//0//MUxA4BeAIAAAAAAKX2/6zv//+IlR4f//MUxBMCMAH8AAAAABYWalVMQU1FMy45//MUxBUB0AH0AAAAADkuM1VVVVVVVVVV//MUxBgBUATowAAAAFVVVVVVVVVVVVVV";else if(Modernizr.audio.m4a)r.src="data:audio/x-m4a;base64,AAAAGGZ0eXBNNEEgAAACAGlzb21pc28yAAAACGZyZWUAAAAfbWRhdN4EAABsaWJmYWFjIDEuMjgAAAFoAQBHAAACiG1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAYAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAG0dHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAYAAAAAAAAAAAAAAAAAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAABUG1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAArEQAAAQAVcQAAAAAAC1oZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU291bmRIYW5kbGVyAAAAAPttaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAL9zdGJsAAAAW3N0c2QAAAAAAAAAAQAAAEttcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAACdlc2RzAAAAAAMZAAEABBFAFQAAAAABftAAAAAABQISCAYBAgAAABhzdHRzAAAAAAAAAAEAAAABAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAXAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAoAAAAYHVkdGEAAABYbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAraWxzdAAAACOpdG9vAAAAG2RhdGEAAAABAAAAAExhdmY1Mi42NC4y";else if(Modernizr.audio.ogg)r.src="data:audio/ogg;base64,T2dnUwACAAAAAAAAAAD/QwAAAAAAAM2LVKsBHgF2b3JiaXMAAAAAAUSsAAAAAAAAgLsAAAAAAAC4AU9nZ1MAAAAAAAAAAAAA/0MAAAEAAADmvOe6Dy3/////////////////MgN2b3JiaXMdAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAwNzA2MjIAAAAAAQV2b3JiaXMfQkNWAQAAAQAYY1QpRplS0kqJGXOUMUaZYpJKiaWEFkJInXMUU6k515xrrLm1IIQQGlNQKQWZUo5SaRljkCkFmVIQS0kldBI6J51jEFtJwdaYa4tBthyEDZpSTCnElFKKQggZU4wpxZRSSkIHJXQOOuYcU45KKEG4nHOrtZaWY4updJJK5yRkTEJIKYWSSgelU05CSDWW1lIpHXNSUmpB6CCEEEK2IIQNgtCQVQAAAQDAQBAasgoAUAAAEIqhGIoChIasAgAyAAAEoCiO4iiOIzmSY0kWEBqyCgAAAgAQAADAcBRJkRTJsSRL0ixL00RRVX3VNlVV9nVd13Vd13UgNGQVAAABAEBIp5mlGiDCDGQYCA1ZBQAgAAAARijCEANCQ1YBAAABAABiKDmIJrTmfHOOg2Y5aCrF5nRwItXmSW4q5uacc845J5tzxjjnnHOKcmYxaCa05pxzEoNmKWgmtOacc57E5kFrqrTmnHPGOaeDcUYY55xzmrTmQWo21uaccxa0pjlqLsXmnHMi5eZJbS7V5pxzzjnnnHPOOeecc6oXp3NwTjjnnHOi9uZabkIX55xzPhmne3NCOOecc84555xzzjnnnHOC0JBVAAAQAABBGDaGcacgSJ+jgRhFiGnIpAfdo8MkaAxyCqlHo6ORUuoglFTGSSmdIDRkFQAACAAAIYQUUkghhRRSSCGFFFKIIYYYYsgpp5yCCiqppKKKMsoss8wyyyyzzDLrsLPOOuwwxBBDDK20EktNtdVYY62555xrDtJaaa211koppZRSSikIDVkFAIAAABAIGWSQQUYhhRRSiCGmnHLKKaigAkJDVgEAgAAAAgAAADzJc0RHdERHdERHdERHdETHczxHlERJlERJtEzL1ExPFVXVlV1b1mXd9m1hF3bd93Xf93Xj14VhWZZlWZZlWZZlWZZlWZZlWYLQkFUAAAgAAIAQQgghhRRSSCGlGGPMMeegk1BCIDRkFQAACAAgAAAAwFEcxXEkR3IkyZIsSZM0S7M8zdM8TfREURRN01RFV3RF3bRF2ZRN13RN2XRVWbVdWbZt2dZtX5Zt3/d93/d93/d93/d93/d1HQgNWQUASAAA6EiOpEiKpEiO4ziSJAGhIasAABkAAAEAKIqjOI7jSJIkSZakSZ7lWaJmaqZneqqoAqEhqwAAQAAAAQAAAAAAKJriKabiKaLiOaIjSqJlWqKmaq4om7Lruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7rui4QGrIKAJAAANCRHMmRHEmRFEmRHMkBQkNWAQAyAAACAHAMx5AUybEsS9M8zdM8TfRET/RMTxVd0QVCQ1YBAIAAAAIAAAAAADAkw1IsR3M0SZRUS7VUTbVUSxVVT1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTVN0zRNIDRkJQAABADAYo3B5SAhJSXl3hDCEJOeMSYhtV4hBJGS3jEGFYOeMqIMct5C4xCDHggNWREARAEAAMYgxxBzyDlHqZMSOeeodJQa5xyljlJnKcWYYs0oldhSrI1zjlJHraOUYiwtdpRSjanGAgAAAhwAAAIshEJDVgQAUQAAhDFIKaQUYow5p5xDjCnnmHOGMeYcc44556B0UirnnHROSsQYc445p5xzUjonlXNOSiehAACAAAcAgAALodCQFQFAnACAQZI8T/I0UZQ0TxRFU3RdUTRd1/I81fRMU1U90VRVU1Vt2VRVWZY8zzQ901RVzzRV1VRVWTZVVZZFVdVt03V123RV3ZZt2/ddWxZ2UVVt3VRd2zdV1/Zd2fZ9WdZ1Y/I8VfVM03U903Rl1XVtW3VdXfdMU5ZN15Vl03Vt25VlXXdl2fc103Rd01Vl2XRd2XZlV7ddWfZ903WF35VlX1dlWRh2XfeFW9eV5XRd3VdlVzdWWfZ9W9eF4dZ1YZk8T1U903RdzzRdV3VdX1dd19Y105Rl03Vt2VRdWXZl2fddV9Z1zzRl2XRd2zZdV5ZdWfZ9V5Z13XRdX1dlWfhVV/Z1WdeV4dZt4Tdd1/dVWfaFV5Z14dZ1Ybl1XRg+VfV9U3aF4XRl39eF31luXTiW0XV9YZVt4VhlWTl+4ViW3feVZXRdX1ht2RhWWRaGX/id5fZ943h1XRlu3efMuu8Mx++k+8rT1W1jmX3dWWZfd47hGDq/8OOpqq+brisMpywLv+3rxrP7vrKMruv7qiwLvyrbwrHrvvP8vrAso+z6wmrLwrDatjHcvm4sv3Acy2vryjHrvlG2dXxfeArD83R1XXlmXcf2dXTjRzh+ygAAgAEHAIAAE8pAoSErAoA4AQCPJImiZFmiKFmWKIqm6LqiaLqupGmmqWmeaVqaZ5qmaaqyKZquLGmaaVqeZpqap5mmaJqua5qmrIqmKcumasqyaZqy7LqybbuubNuiacqyaZqybJqmLLuyq9uu7Oq6pFmmqXmeaWqeZ5qmasqyaZquq3meanqeaKqeKKqqaqqqraqqLFueZ5qa6KmmJ4qqaqqmrZqqKsumqtqyaaq2bKqqbbuq7Pqybeu6aaqybaqmLZuqatuu7OqyLNu6L2maaWqeZ5qa55mmaZqybJqqK1uep5qeKKqq5ommaqqqLJumqsqW55mqJ4qq6omea5qqKsumatqqaZq2bKqqLZumKsuubfu+68qybqqqbJuqauumasqybMu+78qq7oqmKcumqtqyaaqyLduy78uyrPuiacqyaaqybaqqLsuybRuzbPu6aJqybaqmLZuqKtuyLfu6LNu678qub6uqrOuyLfu67vqucOu6MLyybPuqrPq6K9u6b+sy2/Z9RNOUZVM1bdtUVVl2Zdn2Zdv2fdE0bVtVVVs2TdW2ZVn2fVm2bWE0Tdk2VVXWTdW0bVmWbWG2ZeF2Zdm3ZVv2ddeVdV/XfePXZd3murLty7Kt+6qr+rbu+8Jw667wCgAAGHAAAAgwoQwUGrISAIgCAACMYYwxCI1SzjkHoVHKOecgZM5BCCGVzDkIIZSSOQehlJQy5yCUklIIoZSUWgshlJRSawUAABQ4AAAE2KApsThAoSErAYBUAACD41iW55miatqyY0meJ4qqqaq27UiW54miaaqqbVueJ4qmqaqu6+ua54miaaqq6+q6aJqmqaqu67q6Lpqiqaqq67qyrpumqqquK7uy7Oumqqqq68quLPvCqrquK8uybevCsKqu68qybNu2b9y6ruu+7/vCka3rui78wjEMRwEA4AkOAEAFNqyOcFI0FlhoyEoAIAMAgDAGIYMQQgYhhJBSSiGllBIAADDgAAAQYEIZKDRkRQAQJwAAGEMppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkgppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkqppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoplVJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSCgCQinAAkHowoQwUGrISAEgFAACMUUopxpyDEDHmGGPQSSgpYsw5xhyUklLlHIQQUmktt8o5CCGk1FJtmXNSWosx5hgz56SkFFvNOYdSUoux5ppr7qS0VmuuNedaWqs115xzzbm0FmuuOdecc8sx15xzzjnnGHPOOeecc84FAOA0OACAHtiwOsJJ0VhgoSErAYBUAAACGaUYc8456BBSjDnnHIQQIoUYc845CCFUjDnnHHQQQqgYc8w5CCGEkDnnHIQQQgghcw466CCEEEIHHYQQQgihlM5BCCGEEEooIYQQQgghhBA6CCGEEEIIIYQQQgghhFJKCCGEEEIJoZRQAABggQMAQIANqyOcFI0FFhqyEgAAAgCAHJagUs6EQY5Bjw1BylEzDUJMOdGZYk5qMxVTkDkQnXQSGWpB2V4yCwAAgCAAIMAEEBggKPhCCIgxAABBiMwQCYVVsMCgDBoc5gHAA0SERACQmKBIu7iALgNc0MVdB0IIQhCCWBxAAQk4OOGGJ97whBucoFNU6iAAAAAAAAwA4AEA4KAAIiKaq7C4wMjQ2ODo8AgAAAAAABYA+AAAOD6AiIjmKiwuMDI0Njg6PAIAAAAAAAAAAICAgAAAAAAAQAAAAICAT2dnUwAE7AwAAAAAAAD/QwAAAgAAADuydfsFAQEBAQEACg4ODg==";else{if(!Modernizr.audio.wav)return void addTest("audiopreload",!1);r.src="data:audio/wav;base64,UklGRvwZAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YdgZAAAAAAEA/v8CAP//AAABAP////8DAPz/BAD9/wEAAAAAAAAAAAABAP7/AgD//wAAAQD//wAAAQD//wAAAQD+/wIA//8AAAAAAAD//wIA/v8BAAAA//8BAAAA//8BAP//AQAAAP//AQD//wEAAAD//wEA//8BAP//AQD//wEA//8BAP//AQD+/wMA/f8DAP3/AgD+/wIA/////wMA/f8CAP7/AgD+/wMA/f8CAP7/AgD//wAAAAAAAAAAAQD+/wIA/v8CAP7/AwD9/wIA/v8BAAEA/v8CAP7/AQAAAAAAAAD//wEAAAD//wIA/f8DAP7/AQD//wEAAAD//wEA//8CAP7/AQD//wIA/v8CAP7/AQAAAAAAAAD//wEAAAAAAAAA//8BAP//AgD9/wQA+/8FAPz/AgAAAP//AgD+/wEAAAD//wIA/v8CAP3/BAD8/wQA/P8DAP7/AwD8/wQA/P8DAP7/AQAAAAAA//8BAP//AgD+/wEAAAD//wIA/v8BAP//AQD//wEAAAD//wEA//8BAAAAAAAAAP//AgD+/wEAAAAAAAAAAAD//wEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AgD+/wIA/v8BAP//AQABAP7/AQD//wIA/v8CAP3/AwD/////AgD9/wMA/v8BAP//AQAAAP//AQD//wEA//8BAP//AAABAP//AAABAP//AQD//wAAAAACAP3/AwD9/wIA//8BAP//AQD//wEA//8BAP//AgD9/wMA/v8AAAIA/f8CAAAA/v8EAPv/BAD9/wIAAAD+/wQA+v8HAPr/BAD+/wEAAAD//wIA/f8EAPz/BAD7/wUA/P8EAPz/AwD+/wEAAAD//wEAAAAAAP//AgD8/wUA+/8FAPz/AwD9/wIA//8AAAEA/v8CAP//AQD//wAAAAABAP//AgD9/wMA/f8EAPz/AwD+/wAAAwD7/wUA/P8DAP7/AQAAAP//AgD+/wEAAQD+/wIA/v8BAAEA/v8CAP7/AQAAAP//AgD9/wMA/f8DAP7/AgD+/wEAAAAAAAEA//8AAAEA/v8DAP3/AgD//wEA//8BAP7/AwD9/wMA/v8BAP//AQAAAP//AgD9/wMA/v8BAP//AQAAAP//AgD+/wEAAQD+/wIA/////wIA//8AAAEA/f8DAP//AAABAP////8DAP3/AwD+/wEA//8BAP//AQAAAAAA//8BAP//AQD//wEA//8BAP//AAAAAAEA//8BAP7/AgD//wEA//8AAAAAAAAAAAAAAAD//wIA/v8BAAAA//8BAAEA/v8BAAAA//8DAPz/AwD+/wIA/v8CAP3/AwD+/wEAAAD//wEA//8BAAAA//8BAAAA/v8EAPv/BAD+/wAAAAABAP7/AgD//wAAAAABAP7/AgD//wAAAAAAAAAAAAABAP3/BAD8/wQA/f8BAAAAAAABAP7/AgD+/wIA/v8CAP7/AgD+/wIA/v8BAAAAAAD//wIA/f8DAP7/AAABAP//AAACAPz/BAD9/wIA//8AAP//AwD9/wMA/P8EAP3/AwD9/wIA//8BAP//AQD+/wMA/f8DAP7/AAABAP//AQAAAP//AQD//wIA/f8DAP7/AQAAAP//AQAAAAAA//8CAP7/AQABAP7/AgD+/wEAAQD+/wIA/v8CAP////8CAP7/AgD//wAAAAABAP7/AwD9/wIAAAD+/wMA/f8CAP//AQD+/wMA/f8CAP//AAACAPz/BQD6/wUA/v///wIA/v8CAP3/BAD7/wYA+v8FAPz/AwD/////AgD+/wEAAAD//wEAAAD//wIA/f8DAP7/AQAAAP//AgD//wAA//8BAAAAAAAAAP//AQD//wEA//8AAAIA/f8DAP3/AgAAAP//AQD//wEA//8AAAEA//8BAP////8CAP//AAABAP3/BAD9/wIA/v8BAAEA//8BAP7/AgD//wEA//8AAAEA//8BAP//AAAAAAEA//8BAP7/AgD//wEA//8AAAAAAQD+/wIA/v8BAAAAAAD//wIA/v8BAAAAAAAAAAAAAQD+/wMA/f8CAP//AQD//wIA/f8DAP7/AQD//wEA//8CAP7/AAABAP7/AwD9/wMA/v8AAAEA//8BAAAAAAD//wIA/v8BAAAA//8CAP7/AgD+/wEA//8CAP7/AgD//wAAAAAAAAAAAQD//wEA/v8DAPz/BQD8/wIA//8AAAEAAAD//wEA//8BAP//AQAAAAAA//8BAP//AgD+/wEAAAAAAP//AQD+/wMA/////wEA/v8CAP//AQD//wEA//8AAAEA//8BAAAA/v8EAPz/AwD+/wEAAAAAAAAA//8CAP7/AQD//wEA//8BAP//AAABAP7/AwD9/wIA//8BAP//AQD//wEA//8AAAEA/v8EAPv/BAD9/wIA//8BAP7/AwD9/wIA//8AAAEA//8BAP//AQD//wAAAQD//wEAAAD+/wMA/v8AAAIA/f8DAP7/AQD//wAAAQD+/wMA/f8CAP//AAABAP7/AgD+/wMA/f8CAP7/AQABAP7/AgD+/wIA/v8CAP7/AwD8/wMA//8AAAEA//8AAAAAAAABAP//AQD//wAAAQD//wIA/f8DAP3/AwD+/wAAAgD9/wIA//8AAAEAAAD+/wMA/P8FAPv/BAD9/wIA//8AAP//AgD+/wIA/v8BAAAAAAD//wEAAAAAAP//AQD//wEA//8BAP//AAABAP7/AwD9/wIA//8BAP//AAABAP//AQD//wAAAQD//wEA//8BAP//AAABAAAA//8BAP7/AwD9/wMA/f8DAP3/AgD//wEA//8BAP7/AgD//wAAAgD8/wQA/f8CAP//AQD+/wMA/f8CAP7/AgD//wAAAAAAAAAAAAABAP7/AwD9/wIA/v8DAP3/AwD9/wIA/v8DAPz/BQD7/wQA/f8CAP7/AwD9/wMA/f8CAP//AQAAAP7/AwD+/wEA//8AAAEAAAAAAP//AAABAP//AQAAAP7/AwD9/wMA/f8CAP//AQD//wEA//8AAAIA/f8CAAAA//8BAAAA//8BAAAA/v8EAPv/BAD9/wIA//8AAAEA/v8CAP//AAABAP//AAABAP//AAABAP7/AwD8/wQA/f8CAAAA/v8DAP3/AwD9/wMA/v8BAAAA//8BAAAA//8CAP7/AQAAAAAAAAAAAAAA//8CAP7/AgD+/wIA/v8CAP7/AgD//wAAAQD//wAAAQD//wAAAQD//wAAAQD+/wIA//8AAAAAAQD+/wMA/f8CAP//AQD//wEA//8AAAEA/v8DAP3/AgD//wAAAAABAP7/AwD9/wIA//8AAAEA/v8DAP3/AgD//wAAAAABAP7/AwD8/wMA/v8CAP//AAD//wIA/v8CAP7/AQABAP7/AQAAAP//AgD/////AQD//wEAAAD//wEA/v8EAPv/BAD9/wMA/v8BAAAA//8BAAEA/P8GAPr/BQD8/wMA/v8BAAAA//8CAP7/AQABAP3/BAD7/wYA+/8EAPz/AwD//wEA//8BAP7/BAD8/wMA/v8AAAIA/v8BAAAA//8BAAAA//8BAAAA//8CAP3/AwD+/wAAAgD8/wUA/P8DAP7/AAABAAAAAAD//wEAAAD//wIA/f8DAP7/AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAEA/f8EAPz/AwD/////AgD+/wIA/f8DAP7/AgD+/wEA//8CAP7/AQD//wEAAAAAAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAP//AQAAAP//AAACAP3/BAD7/wQA/v8BAAAA//8BAP//AQAAAP//AQAAAP7/BAD7/wUA+/8EAP3/AgD//wAAAQD+/wIA//8AAAEA/v8CAP//AQD+/wEAAAAAAAAAAAD//wEA//8CAP3/AwD9/wIA//8AAAAAAAAAAAAA//8BAP//AgD+/wEA//8CAP7/AQAAAP//AgD/////AgD/////AgD+/wIA//8AAP//AQABAP7/AgD9/wMA/v8CAP////8BAAAAAAAAAAAA//8CAP////8DAPz/AwD+/wEAAAAAAP//AQD//wEAAAD//wEAAAD+/wQA+/8FAPz/AgAAAP//AgD9/wMA/v8BAAAAAAD//wEAAAD//wIA/v8BAAAAAAD//wIA/v8BAAAA//8BAAAA//8CAP7/AQD//wEA//8BAAAA//8BAP//AAABAP//AQAAAP7/AgD//wEA//8AAAAAAQD+/wMA/P8EAP7///8DAPz/BQD8/wEAAQD+/wMA/v8AAAEA//8BAP//AQD//wEA/v8CAP//AQD//wAAAAABAAAA//8BAP//AQAAAAAA//8BAP//AgD+/wAAAQD//wIA/f8CAP//AQAAAP7/AwD9/wMA/v8BAP//AAABAP//AgD9/wIA//8BAAAA//8BAAAA//8CAP3/AwD+/wEAAAD+/wQA/P8DAP7/AAACAP7/AQAAAP//AQAAAP//AQAAAP//AgD9/wIAAAD//wIA/f8DAP7/AQD//wEA//8CAP7/AQD//wAAAQD//wEA//8AAAAAAQD//wEAAAD9/wUA+/8FAPz/AgD//wAAAQD//wAAAQD+/wMA/f8BAAEA/v8CAP7/AgD+/wIA/v8BAAAAAAAAAAAAAAD//wIA/v8CAP////8CAP7/AgD+/wIA/v8CAP7/AQAAAP//AQAAAP//AQD//wAAAQD//wAAAQD+/wMA/f8CAAAA/v8DAP3/AgAAAP//AQAAAP7/AwD9/wMA/v8BAP//AQD//wEAAAD+/wMA/f8CAAAA/v8CAP//AAAAAAEA//8AAAEA/v8DAP3/AwD9/wIA//8BAP//AgD8/wQA/v8BAAAA/v8CAP//AQD//wAAAAAAAAEA/f8EAPz/BAD9/wIA//8AAAAAAAABAP//AAAAAAAAAAABAP3/BAD9/wIA/v8BAAEA//8AAAAA//8CAP7/AgD9/wQA+/8FAPv/BQD8/wMA/f8DAP3/AwD+/wAAAgD9/wMA/f8CAAAA/v8EAPv/BQD7/wUA/P8DAP///v8DAP3/BAD8/wMA/f8DAP7/AQD//wEAAAD//wEA/v8CAAAA/v8CAP7/AgD//wAAAAAAAAAAAQD+/wIA//8AAAEA/v8DAPz/BAD9/wIA//8AAP//AgD//wEA/v8BAAAAAQD//wAAAAAAAAEA//8AAAEA//8BAP//AAABAP//AQD+/wIA/v8DAPz/BAD8/wQA/f8BAAAAAQD+/wMA/P8DAP//AAAAAAAAAAD//wMA+/8FAP3/AQABAP3/BAD8/wMA/v8BAAAA//8CAP3/AwD+/wEAAQD9/wMA/f8EAPz/BAD7/wQA/v8BAAEA/f8DAP7/AQAAAP//AgD+/wEAAAD//wIA/v8CAP7/AgD+/wEAAQD//wEA/v8CAP7/BAD7/wQA/f8CAAAA//8AAAAAAAABAP//AQD+/wEAAQD+/wMA/f8BAAEA/v8DAPz/AwD/////AwD8/wQA/P8DAP7/AgD//wAA//8BAAAAAAAAAP//AgD+/wEAAAD//wIA/v8BAAAA//8CAP3/AgD//wAAAQD+/wIA/v8BAAAA//8CAP7/AgD+/wEA//8CAP3/BAD7/wQA/v8BAAAA//8AAAEAAAD//wIA/f8DAP7/AgD+/wIA/v8CAP7/AgD+/wEAAAAAAP//AgD9/wMA/v8BAP//AgD9/wMA/v8AAAEA//8BAP//AQD//wEA//8AAAEA/v8EAPz/AgD//wAAAQAAAP//AAABAP//AQD//wEAAAD//wEA//8BAAEA/f8DAP7/AQABAP3/AwD+/wIA/////wEAAAAAAAAAAAD//wIA/v8CAP////8CAP7/AgD//wAA//8CAP3/BAD9/wAAAgD9/wMA/v8BAP//AQAAAP//AQAAAP//AgD9/wMA/f8EAPz/AwD+/wEAAAAAAAAAAAD//wIA/f8EAP3/AAABAAAA//8CAP7/AQAAAP//AQAAAAAA//8BAP//AQAAAP//AQAAAP//AQAAAP//AgD9/wMA/v8BAP//AQAAAP//AQD//wIA/v8CAP3/BAD9/wEAAAD//wEAAQD9/wMA/f8CAAAA/v8DAP3/AgD//wAAAQD+/wIA/v8CAP7/AQAAAP//AgD+/wEAAAAAAP//AwD7/wUA/f8BAAEA/v8BAAEA/v8DAP3/AgD//wEA//8BAP//AQD//wEA//8CAP3/BAD7/wQA/////wIA/v8AAAIA/v8CAP3/BAD7/wUA/P8DAP3/AwD9/wMA/v8AAAIA/v8CAP7/AgD+/wIA//8AAAEA/v8CAP7/AgD//wAAAAD//wEAAAAAAAAA//8BAP7/BAD7/wUA/P8CAAAA//8BAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAAAA//8CAP3/AwD+/wEA//8CAP3/AwD+/wAAAwD8/wIAAAD//wIA/////wIA/v8CAP7/AgD+/wEAAAAAAAAAAAAAAP//AgD+/wIA//8AAAAA//8CAP7/AgD+/wEA//8CAP3/AwD9/wMA/v8BAP7/AwD9/wMA/f8CAP//AQD+/wIA//8BAP//AQD+/wMA/v8BAAAA//8BAAAA//8CAP7/AQAAAP//AgD+/wIA/v8CAP//AAAAAAEA//8BAP//AAABAAAA//8BAP//AQD//wEA//8BAP//AQAAAP//AQD//wEAAAD//wIA/f8CAAAA//8BAAAA//8BAP//AAABAP//AQD//wAAAAAAAAEA/v8CAP//AQD//wAAAAABAP7/AwD9/wIAAAD+/wIA//8BAP//AgD9/wMA/f8DAP7/AgD+/wEAAAAAAAEA/v8CAP7/AgD//wAAAAAAAAAAAAAAAP//AgD/////AgD9/wQA/f8BAAAAAAAAAAEA/f8DAP////8DAP3/AQABAP7/AgD//wAAAQD+/wMA/f8CAP7/AQABAP7/AwD7/wYA+v8FAP3/AQABAP7/AgD+/wMA/f8CAP7/AwD+/wEA//8BAP//AQAAAP7/BQD5/wcA+v8FAPz/AwD+/wIA/v8BAAAA//8DAPv/BQD8/wMA/////wEAAAAAAAAAAAD//wIA/f8DAP7/AQAAAP//AQAAAP//AgD+/wIA/v8BAAEA/f8EAPz/AwD+/wEA//8CAP7/AQD//wEA//8CAP7/AQAAAP//AgD+/wEAAAAAAAAAAAAAAAAAAAD//wIA/f8EAPz/AwD+/wEA//8CAP7/AgD+/wEAAQD+/wEAAQD+/wIA/////wIA//8AAAAAAAAAAAAAAAD//wEAAAAAAP//AgD9/wMA/v8BAP//AQAAAP//AQD//wEA//8BAP//AQD//wEA//8BAP//AQAAAP7/AwD9/wMA/v8BAP7/AwD9/wMA/v8BAP//AAABAP//AQD//wAAAAABAP//AAAAAAAAAQD//wEA/v8CAAAA/v8EAPv/BAD9/wIAAAD+/wMA/P8DAP//AAAAAP//AQD//wIA/f8DAP3/AwD9/wMA/v8BAAAA//8BAAAA//8CAP3/AwD9/wQA+/8FAPv/BQD8/wMA/v8BAAAA//8BAP//AgD+/wEAAAD//wIA/v8BAAEA/f8DAP3/AgAAAP//AQD//wAAAQD//wEA//8BAP//AQD//wEA/v8DAP3/AgAAAP7/AwD9/wIAAAD//wEAAAD//wIA/f8DAP7/AgD9/wQA+/8FAPz/AgAAAP//AgD9/wIA//8BAP//AQD//wEA//8BAP//AQD//wIA/f8DAP3/AgD//wAAAQD+/wIA/v8BAAEA/v8CAP7/AgD+/wMA/P8DAP//AAABAP7/AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEA/v8CAP3/BAD8/wMA/v8BAAAAAAD//wEAAAAAAAAAAAD//wEAAAAAAAAA//8BAP//AgD+/wEA//8CAP3/AwD9/wMA/f8EAPv/BAD+/wAAAQD//wEA//8BAP//AAABAP//AQD//wEAAAD//wEA//8BAP//AgD9/wMA/v8AAAIA/f8DAP7/AAACAP3/AwD+/wEA//8BAP//AQAAAP//AQAAAP7/AwD9/wMA/v8AAAEA//8BAP//AAAAAAEA//8AAAEA/v8CAP//AAAAAAEA/v8DAPz/BAD9/wEAAQD+/wEAAQD9/wQA/P8DAP7/AQAAAAAAAAAAAAAAAAAAAAAAAQD+/wIA/////wIA/v8BAAAA//8BAP//AQD//wEA//8BAAAA/v8EAPz/AwD///7/BAD8/wMA/////wIA/v8CAP////8CAP7/AgD+/wIA/v8CAP////8CAP7/AwD9/wIA/v8CAP//AAABAP7/AwD9/wEAAQD+/wMA/f8CAP//AAAAAAEA/v8DAPz/BAD9/wIA/v8CAP7/AgD//wAAAAD//wIA/v8CAP7/AQAAAAAA//8CAP7/AgD+/wIA/v8CAP7/AwD8/wUA+v8GAPv/AwD//wAAAAAAAAAA//8DAPv/BQD9/wAAAgD9/wMA/v8BAP//AQAAAP//AgD9/wMA/v8BAAAA//8BAAAAAAAAAP//AQAAAAAAAAD//wEA//8CAP3/AwD+/wAAAgD+/wEAAAD//wIA/v8CAP7/AgD/////AwD8/wUA/P8CAP//AQD//wIA/f8DAP3/AwD+/wAAAQD+/wMA/f8DAP3/AgD//wAAAQD//wEA//8BAP7/AwD+/wEA//8AAAEA//8CAPz/BAD9/wIA//8AAAEA/v8DAPz/BAD9/wIA//8AAAEA/v8CAP7/AgD//wEA/f8EAPz/BAD+////AgD//wAAAQD//wAAAQD//wEA//8BAP7/AwD+/wEA"}}catch(o){return void addTest("audiopreload",!1)}r.setAttribute("preload","auto"),r.style.cssText="display:none",docElement.appendChild(r),setTimeout(function(){r.addEventListener("loadeddata",A,!1),e=setTimeout(A,t)},0)}),Modernizr.addTest("canvasblending",function(){if(Modernizr.canvas===!1)return!1;var A=createElement("canvas").getContext("2d");try{A.globalCompositeOperation="screen"}catch(e){}return"screen"===A.globalCompositeOperation});var canvas=createElement("canvas");Modernizr.addTest("todataurljpeg",function(){return!!Modernizr.canvas&&0===canvas.toDataURL("image/jpeg").indexOf("data:image/jpeg")}),Modernizr.addTest("todataurlpng",function(){return!!Modernizr.canvas&&0===canvas.toDataURL("image/png").indexOf("data:image/png")}),Modernizr.addTest("todataurlwebp",function(){var A=!1;try{A=!!Modernizr.canvas&&0===canvas.toDataURL("image/webp").indexOf("data:image/webp")}catch(e){}return A}),Modernizr.addTest("canvaswinding",function(){if(Modernizr.canvas===!1)return!1;var A=createElement("canvas").getContext("2d");return A.rect(0,0,10,10),A.rect(2,2,6,6),A.isPointInPath(5,5,"evenodd")===!1}),Modernizr.addTest("bgpositionshorthand",function(){var A=createElement("a"),e=A.style,t="right 10px bottom 10px";return e.cssText="background-position: "+t+";",e.backgroundPosition===t}),Modernizr.addTest("csscalc",function(){var A="width:",e="calc(10px);",t=createElement("a");return t.style.cssText=A+prefixes.join(e+A),!!t.style.length}),Modernizr.addTest("cubicbezierrange",function(){var A=createElement("a");return A.style.cssText=prefixes.join("transition-timing-function:cubic-bezier(1,0,0,1.1); "),!!A.style.length}),Modernizr.addTest("cssgradients",function(){for(var A,e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",r="",n=0,o=prefixes.length-1;o>n;n++)A=0===n?"to ":"",r+=e+prefixes[n]+"linear-gradient("+A+"left top, #9f9, white);";Modernizr._config.usePrefixes&&(r+=e+"-webkit-"+t);var i=createElement("a"),d=i.style;return d.cssText=r,(""+d.backgroundImage).indexOf("gradient")>-1}),Modernizr.addTest("multiplebgs",function(){var A=createElement("a").style;return A.cssText="background:url(https://),url(https://),red url(https://)",/(url\s*\(.*?){3}/.test(A.background)}),Modernizr.addTest("opacity",function(){var A=createElement("a").style;return A.cssText=prefixes.join("opacity:.55;"),/^0.55$/.test(A.opacity)}),Modernizr.addTest("csspointerevents",function(){var A=createElement("a").style;return A.cssText="pointer-events:auto","auto"===A.pointerEvents}),Modernizr.addTest("csspositionsticky",function(){var A="position:",e="sticky",t=createElement("a"),r=t.style;return r.cssText=A+prefixes.join(e+";"+A).slice(0,-A.length),-1!==r.position.indexOf(e)}),Modernizr.addTest("cssremunit",function(){var A=createElement("a").style;try{A.fontSize="3rem"}catch(e){}return/rem/.test(A.fontSize)}),Modernizr.addTest("rgba",function(){var A=createElement("a").style;return A.cssText="background-color:rgba(150,255,150,.5)",(""+A.backgroundColor).indexOf("rgba")>-1}),Modernizr.addTest("preserve3d",function(){var A,e,t=window.CSS,r=!1;return t&&t.supports&&t.supports("(transform-style: preserve-3d)")?!0:(A=createElement("a"),e=createElement("a"),A.style.cssText="display: block; transform-style: preserve-3d; transform-origin: right; transform: rotateY(40deg);",e.style.cssText="display: block; width: 9px; height: 1px; background: #000; transform-origin: right; transform: rotateY(40deg);",A.appendChild(e),docElement.appendChild(A),r=e.getBoundingClientRect(),docElement.removeChild(A),r=r.width&&r.width<4)}),Modernizr.addTest("dataset",function(){var A=createElement("div");return A.setAttribute("data-a-b","c"),!(!A.dataset||"c"!==A.dataset.aB)}),Modernizr.addTest("hidden","hidden"in createElement("a")),Modernizr.addTest("outputelem","value"in createElement("output")),Modernizr.addTest("progressbar",createElement("progress").max!==undefined),Modernizr.addTest("meter",createElement("meter").max!==undefined),Modernizr.addTest("ruby",function(){function A(A,e){var t;return window.getComputedStyle?t=document.defaultView.getComputedStyle(A,null).getPropertyValue(e):A.currentStyle&&(t=A.currentStyle[e]),t}function e(){docElement.removeChild(t),t=null,r=null,n=null}var t=createElement("ruby"),r=createElement("rt"),n=createElement("rp"),o="display",i="fontSize";return t.appendChild(n),t.appendChild(r),docElement.appendChild(t),"none"==A(n,o)||"ruby"==A(t,o)&&"ruby-text"==A(r,o)||"6pt"==A(n,i)&&"6pt"==A(r,i)?(e(),!0):(e(),!1)}),Modernizr.addTest("template","content"in createElement("template")),Modernizr.addTest("time","valueAsDate"in createElement("time")),Modernizr.addTest("texttrackapi","function"==typeof createElement("video").addTextTrack),Modernizr.addTest("track","kind"in createElement("track")),Modernizr.addTest("unknownelements",function(){var A=createElement("a");return A.innerHTML="<xyz></xyz>",1===A.childNodes.length}),Modernizr.addTest("capture","capture"in createElement("input")),Modernizr.addTest("fileinput",function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var A=createElement("input");return A.type="file",!A.disabled}),Modernizr.addTest("fileinputdirectory",function(){var A=createElement("input"),e="directory";if(A.type="file",e in A)return!0;for(var t=0,r=domPrefixes.length;r>t;t++)if(domPrefixes[t]+e in A)return!0;return!1}),Modernizr.addTest("formattribute",function(){var A,e=createElement("form"),t=createElement("input"),r=createElement("div"),n="formtest"+(new Date).getTime(),o=!1;e.id=n;try{t.setAttribute("form",n)}catch(i){document.createAttribute&&(A=document.createAttribute("form"),A.nodeValue=n,t.setAttributeNode(A))}return r.appendChild(e),r.appendChild(t),docElement.appendChild(r),o=e.elements&&1===e.elements.length&&t.form==e,r.parentNode.removeChild(r),o}),Modernizr.addTest("placeholder","placeholder"in createElement("input")&&"placeholder"in createElement("textarea")),Modernizr.addTest("sandbox","sandbox"in createElement("iframe")),Modernizr.addTest("seamless","seamless"in createElement("iframe")),Modernizr.addTest("srcdoc","srcdoc"in createElement("iframe")),Modernizr.addAsyncTest(function(){if(!Modernizr.canvas)return!1;var A=new Image,e=createElement("canvas"),t=e.getContext("2d");A.onload=function(){addTest("apng",function(){return"undefined"==typeof e.getContext?!1:(t.drawImage(A,0,0),0===t.getImageData(0,0,1,1).data[3])})},A.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="}),Modernizr.addTest("imgcrossorigin","crossOrigin"in createElement("img")),Modernizr.addAsyncTest(function(){var A,e,t,r=createElement("img"),n="sizes"in r;!n&&"srcset"in r?(e="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",A="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",t=function(){addTest("sizes",2==r.width)},r.onload=t,r.onerror=t,r.setAttribute("sizes","9px"),r.srcset=A+" 1w,"+e+" 8w",r.src=A):addTest("sizes",n)}),Modernizr.addTest("srcset","srcset"in createElement("img")),Modernizr.addTest("inputformaction",!!("formAction"in createElement("input")),{aliases:["input-formaction"]}),Modernizr.addTest("inputformenctype",!!("formEnctype"in createElement("input")),{aliases:["input-formenctype"]}),Modernizr.addTest("inputformmethod",!!("formMethod"in createElement("input"))),Modernizr.addTest("inputformtarget",!!("formtarget"in createElement("input")),{aliases:["input-formtarget"]}),Modernizr.addTest("scriptasync","async"in createElement("script")),Modernizr.addTest("scriptdefer","defer"in createElement("script")),Modernizr.addTest("stylescoped","scoped"in createElement("style")),Modernizr.addTest("inlinesvg",function(){var A=createElement("div");return A.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&A.firstChild&&A.firstChild.namespaceURI)}),Modernizr.addTest("textareamaxlength",!!("maxLength"in createElement("textarea"))),Modernizr.addAsyncTest(function(){function A(i){n++,clearTimeout(e);var d=i&&"playing"===i.type||0!==o.currentTime;return!d&&r>n?void(e=setTimeout(A,t)):(o.removeEventListener("playing",A,!1),addTest("videoautoplay",d),void(o.parentNode&&o.parentNode.removeChild(o)))}var e,t=200,r=5,n=0,o=createElement("video"),i=o.style;if(!(Modernizr.video&&"autoplay"in o))return void addTest("videoautoplay",!1);i.position="absolute",i.height=0,i.width=0;try{if(Modernizr.video.ogg)o.src="data:video/ogg;base64,T2dnUwACAAAAAAAAAABmnCATAAAAAHDEixYBKoB0aGVvcmEDAgEAAQABAAAQAAAQAAAAAAAFAAAAAQAAAAAAAAAAAGIAYE9nZ1MAAAAAAAAAAAAAZpwgEwEAAAACrA7TDlj///////////////+QgXRoZW9yYSsAAABYaXBoLk9yZyBsaWJ0aGVvcmEgMS4xIDIwMDkwODIyIChUaHVzbmVsZGEpAQAAABoAAABFTkNPREVSPWZmbXBlZzJ0aGVvcmEtMC4yOYJ0aGVvcmG+zSj3uc1rGLWpSUoQc5zmMYxSlKQhCDGMYhCEIQhAAAAAAAAAAAAAEW2uU2eSyPxWEvx4OVts5ir1aKtUKBMpJFoQ/nk5m41mUwl4slUpk4kkghkIfDwdjgajQYC8VioUCQRiIQh8PBwMhgLBQIg4FRba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgUCw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDAwPEhQUFQ0NDhESFRUUDg4PEhQVFRUOEBETFBUVFRARFBUVFRUVEhMUFRUVFRUUFRUVFRUVFRUVFRUVFRUVEAwLEBQZGxwNDQ4SFRwcGw4NEBQZHBwcDhATFhsdHRwRExkcHB4eHRQYGxwdHh4dGxwdHR4eHh4dHR0dHh4eHRALChAYKDM9DAwOExo6PDcODRAYKDlFOA4RFh0zV1A+EhYlOkRtZ00YIzdAUWhxXDFATldneXhlSFxfYnBkZ2MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEhIVGRoaGhoSFBYaGhoaGhUWGRoaGhoaGRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhESFh8kJCQkEhQYIiQkJCQWGCEkJCQkJB8iJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQREhgvY2NjYxIVGkJjY2NjGBo4Y2NjY2MvQmNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRISEhUXGBkbEhIVFxgZGxwSFRcYGRscHRUXGBkbHB0dFxgZGxwdHR0YGRscHR0dHhkbHB0dHR4eGxwdHR0eHh4REREUFxocIBERFBcaHCAiERQXGhwgIiUUFxocICIlJRcaHCAiJSUlGhwgIiUlJSkcICIlJSUpKiAiJSUlKSoqEBAQFBgcICgQEBQYHCAoMBAUGBwgKDBAFBgcICgwQEAYHCAoMEBAQBwgKDBAQEBgICgwQEBAYIAoMEBAQGCAgAfF5cdH1e3Ow/L66wGmYnfIUbwdUTe3LMRbqON8B+5RJEvcGxkvrVUjTMrsXYhAnIwe0dTJfOYbWrDYyqUrz7dw/JO4hpmV2LsQQvkUeGq1BsZLx+cu5iV0e0eScJ91VIQYrmqfdVSK7GgjOU0oPaPOu5IcDK1mNvnD+K8LwS87f8Jx2mHtHnUkTGAurWZlNQa74ZLSFH9oF6FPGxzLsjQO5Qe0edcpttd7BXBSqMCL4k/4tFrHIPuEQ7m1/uIWkbDMWVoDdOSuRQ9286kvVUlQjzOE6VrNguN4oRXYGkgcnih7t13/9kxvLYKQezwLTrO44sVmMPgMqORo1E0sm1/9SludkcWHwfJwTSybR4LeAz6ugWVgRaY8mV/9SluQmtHrzsBtRF/wPY+X0JuYTs+ltgrXAmlk10xQHmTu9VSIAk1+vcvU4ml2oNzrNhEtQ3CysNP8UeR35wqpKUBdGdZMSjX4WVi8nJpdpHnbhzEIdx7mwf6W1FKAiucMXrWUWVjyRf23chNtR9mIzDoT/6ZLYailAjhFlZuvPtSeZ+2oREubDoWmT3TguY+JHPdRVSLKxfKH3vgNqJ/9emeEYikGXDFNzaLjvTeGAL61mogOoeG3y6oU4rW55ydoj0lUTSR/mmRhPmF86uwIfzp3FtiufQCmppaHDlGE0r2iTzXIw3zBq5hvaTldjG4CPb9wdxAme0SyedVKczJ9AtYbgPOzYKJvZZImsN7ecrxWZg5dR6ZLj/j4qpWsIA+vYwE+Tca9ounMIsrXMB4Stiib2SPQtZv+FVIpfEbzv8ncZoLBXc3YBqTG1HsskTTotZOYTG+oVUjLk6zhP8bg4RhMUNtfZdO7FdpBuXzhJ5Fh8IKlJG7wtD9ik8rWOJxy6iQ3NwzBpQ219mlyv+FLicYs2iJGSE0u2txzed++D61ZWCiHD/cZdQVCqkO2gJpdpNaObhnDfAPrT89RxdWFZ5hO3MseBSIlANppdZNIV/Rwe5eLTDvkfWKzFnH+QJ7m9QWV1KdwnuIwTNtZdJMoXBf74OhRnh2t+OTGL+AVUnIkyYY+QG7g9itHXyF3OIygG2s2kud679ZWKqSFa9n3IHD6MeLv1lZ0XyduRhiDRtrNnKoyiFVLcBm0ba5Yy3fQkDh4XsFE34isVpOzpa9nR8iCpS4HoxG2rJpnRhf3YboVa1PcRouh5LIJv/uQcPNd095ickTaiGBnWLKVWRc0OnYTSyex/n2FofEPnDG8y3PztHrzOLK1xo6RAml2k9owKajOC0Wr4D5x+3nA0UEhK2m198wuBHF3zlWWVKWLN1CHzLClUfuoYBcx4b1llpeBKmbayaR58njtE9onD66lUcsg0Spm2snsb+8HaJRn4dYcLbCuBuYwziB8/5U1C1DOOz2gZjSZtrLJk6vrLF3hwY4Io9xuT/ruUFRSBkNtUzTOWhjh26irLEPx4jPZL3Fo3QrReoGTTM21xYTT9oFdhTUIvjqTkfkvt0bzgVUjq/hOYY8j60IaO/0AzRBtqkTS6R5ellZd5uKdzzhb8BFlDdAcrwkE0rbXTOPB+7Y0FlZO96qFL4Ykg21StJs8qIW7h16H5hGiv8V2Cflau7QVDepTAHa6Lgt6feiEvJDM21StJsmOH/hynURrKxvUpQ8BH0JF7BiyG2qZpnL/7AOU66gt+reLEXY8pVOCQvSsBtqZTNM8bk9ohRcwD18o/WVkbvrceVKRb9I59IEKysjBeTMmmbA21xu/6iHadLRxuIzkLpi8wZYmmbbWi32RVAUjruxWlJ//iFxE38FI9hNKOoCdhwf5fDe4xZ81lgREhK2m1j78vW1CqkuMu/AjBNK210kzRUX/B+69cMMUG5bYrIeZxVSEZISmkzbXOi9yxwIfPgdsov7R71xuJ7rFcACjG/9PzApqFq7wEgzNJm2suWESPuwrQvejj7cbnQxMkxpm21lUYJL0fKmogPPqywn7e3FvB/FCNxPJ85iVUkCE9/tLKx31G4CgNtWTTPFhMvlu8G4/TrgaZttTChljfNJGgOT2X6EqpETy2tYd9cCBI4lIXJ1/3uVUllZEJz4baqGF64yxaZ+zPLYwde8Uqn1oKANtUrSaTOPHkhvuQP3bBlEJ/LFe4pqQOHUI8T8q7AXx3fLVBgSCVpMba55YxN3rv8U1Dv51bAPSOLlZWebkL8vSMGI21lJmmeVxPRwFlZF1CpqCN8uLwymaZyjbXHCRytogPN3o/n74CNykfT+qqRv5AQlHcRxYrC5KvGmbbUwmZY/29BvF6C1/93x4WVglXDLFpmbapmF89HKTogRwqqSlGbu+oiAkcWFbklC6Zhf+NtTLFpn8oWz+HsNRVSgIxZWON+yVyJlE5tq/+GWLTMutYX9ekTySEQPLVNQQ3OfycwJBM0zNtZcse7CvcKI0V/zh16Dr9OSA21MpmmcrHC+6pTAPHPwoit3LHHqs7jhFNRD6W8+EBGoSEoaZttTCZljfduH/fFisn+dRBGAZYtMzbVMwvul/T/crK1NQh8gN0SRRa9cOux6clC0/mDLFpmbarmF8/e6CopeOLCNW6S/IUUg3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkbxkkMRAOB0GODPItnX3Jnxro/25Ud+llbyVVSN4ySGIgHA6DHBnkWzr7kz410f7cqO/Syt5KqpFVJwn6gBEvBM0zNtZcpGOEPiysW8vvRd2R0f7gtjhqUvXL+gWVwHm4XJDBiMpmmZtrLfPwd/IugP5+fKVSysH1EXreFAcEhelGmbbUmZY4Xdo1vQWVnK19P4RuEnbf0gQnR+lDCZlivNM22t1ESmopPIgfT0duOfQrsjgG4tPxli0zJmF5trdL1JDUIUT1ZXSqQDeR4B8mX3TrRro/2McGeUvLtwo6jIEKMkCUXWsLyZROd9P/rFYNtXPBli0z398iVUlVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIU9nZ1MABAwAAAAAAAAAZpwgEwIAAABhp658BScAAAAAAADnUFBQXIDGXLhwtttNHDhw5OcpQRMETBEwRPduylKVB0HRdF0A";else{if(!Modernizr.video.h264)return void addTest("videoautoplay",!1);o.src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ=="}}catch(d){return void addTest("videoautoplay",!1)}o.setAttribute("autoplay",""),o.style.cssText="display:none",docElement.appendChild(o),setTimeout(function(){o.addEventListener("playing",A,!1),e=setTimeout(A,t)},0)}),Modernizr.addTest("videocrossorigin","crossOrigin"in createElement("video")),Modernizr.addTest("videoloop","loop"in createElement("video")),Modernizr.addTest("videopreload","preload"in createElement("video")),Modernizr.addAsyncTest(function(){if(Modernizr.webglextensions=!1,Modernizr.webgl){var A,e,t;try{A=createElement("canvas"),e=A.getContext("webgl")||A.getContext("experimental-webgl"),t=e.getSupportedExtensions()}catch(r){return}e!==undefined&&(Modernizr.webglextensions=new Boolean(!0));for(var n=-1,o=t.length;++n<o;)Modernizr.webglextensions[t[n]]=!0;A=undefined}}),Modernizr.addAsyncTest(function(){var A,e,t=function(A){docElement.contains(A)||docElement.appendChild(A)},r=function(A){A.fake&&A.parentNode&&A.parentNode.removeChild(A)},n=function(A,e){var t=!!A;if(t&&(t=new Boolean(t),t.blocked="blocked"===A),addTest("flash",function(){return t}),e&&s.contains(e)){for(;e.parentNode!==s;)e=e.parentNode;s.removeChild(e)}};try{e="ActiveXObject"in window&&"Pan"in new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(o){}if(A=!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||e),A||isSVG)n(!1);else{var i,d,a=createElement("embed"),s=getBody();if(a.type="application/x-shockwave-flash",s.appendChild(a),!("Pan"in a||e))return t(s),n("blocked",a),void r(s);i=function(){return t(s),docElement.contains(s)?(docElement.contains(a)?(d=a.style.cssText,""!==d?n("blocked",a):n(!0,a)):n("blocked"),void r(s)):(s=document.body||s,a=createElement("embed"),a.type="application/x-shockwave-flash",s.appendChild(a),setTimeout(i,1e3))},setTimeout(i,10)}});var mq=function(){var A=window.matchMedia||window.msMatchMedia;return A?function(e){var t=A(e);return t&&t.matches||!1}:function(A){var e=!1;return injectElementWithStyles("@media "+A+" { #modernizr { position: absolute; } }",function(A){e="absolute"==(window.getComputedStyle?window.getComputedStyle(A,null):A.currentStyle).position}),e}}();ModernizrProto.mq=mq,Modernizr.addTest("mediaqueries",mq("only all"));var testStyles=ModernizrProto.testStyles=injectElementWithStyles;Modernizr.addTest("hiddenscroll",function(){return testStyles("#modernizr {width:100px;height:100px;overflow:scroll}",function(A){return A.offsetWidth===A.clientWidth})}),Modernizr.addTest("mathml",function(){var A;return testStyles("#modernizr{position:absolute;display:inline-block}",function(e){e.innerHTML+="<math><mfrac><mi>xx</mi><mi>yy</mi></mfrac></math>",A=e.offsetHeight>e.offsetWidth}),A}),Modernizr.addTest("touchevents",function(){var A;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)A=!0;else{var e=["@media (",prefixes.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");testStyles(e,function(e){A=9===e.offsetTop})}return A}),Modernizr.addTest("unicoderange",function(){return Modernizr.testStyles('@font-face{font-family:"unicodeRange";src:local("Arial");unicode-range:U+0020,U+002E}#modernizr span{font-size:20px;display:inline-block;font-family:"unicodeRange",monospace}#modernizr .mono{font-family:monospace}',function(A){for(var e=[".",".","m","m"],t=0;t<e.length;t++){var r=createElement("span");r.innerHTML=e[t],r.className=t%2?"mono":"",A.appendChild(r),e[t]=r.clientWidth}return e[0]!==e[1]&&e[2]===e[3]})}),Modernizr.addTest("unicode",function(){var A,e=createElement("span"),t=createElement("span");return testStyles("#modernizr{font-family:Arial,sans;font-size:300em;}",function(r){e.innerHTML=isSVG?"":"&#5987;",t.innerHTML=isSVG?"":"&#9734;",r.appendChild(e),r.appendChild(t),A="offsetWidth"in e&&e.offsetWidth!==t.offsetWidth}),A}),Modernizr.addTest("checked",function(){return testStyles("#modernizr {position:absolute} #modernizr input {margin-left:10px} #modernizr :checked {margin-left:20px;display:block}",function(A){var e=createElement("input");return e.setAttribute("type","checkbox"),e.setAttribute("checked","checked"),A.appendChild(e),20===e.offsetLeft})}),testStyles("#modernizr{display: table; direction: ltr}#modernizr div{display: table-cell; padding: 10px}",function(A){var e,t=A.childNodes;e=t[0].offsetLeft<t[1].offsetLeft,Modernizr.addTest("displaytable",e,{aliases:["display-table"]})},2);var blacklist=function(){var A=navigator.userAgent,e=A.match(/w(eb)?osbrowser/gi),t=A.match(/windows phone/gi)&&A.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9;return e||t}();blacklist?Modernizr.addTest("fontface",!1):testStyles('@font-face {font-family:"font";src:url("https://")}',function(A,e){var t=document.getElementById("smodernizr"),r=t.sheet||t.styleSheet,n=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"",o=/src/i.test(n)&&0===n.indexOf(e.split(" ")[0]);Modernizr.addTest("fontface",o)}),testStyles('#modernizr{font:0/0 a}#modernizr:after{content:":)";visibility:hidden;font:7px/1 a}',function(A){Modernizr.addTest("generatedcontent",A.offsetHeight>=6)}),Modernizr.addTest("hairline",function(){return testStyles("#modernizr {border:.5px solid transparent}",function(A){return 1===A.offsetHeight})}),Modernizr.addTest("cssinvalid",function(){return testStyles("#modernizr input{height:0;border:0;padding:0;margin:0;width:10px} #modernizr input:invalid{width:50px}",function(A){var e=createElement("input");return e.required=!0,A.appendChild(e),e.clientWidth>10})}),testStyles("#modernizr div {width:100px} #modernizr :last-child{width:200px;display:block}",function(A){Modernizr.addTest("lastchild",A.lastChild.offsetWidth>A.firstChild.offsetWidth)},2),testStyles("#modernizr div {width:1px} #modernizr div:nth-child(2n) {width:2px;}",function(A){for(var e=A.getElementsByTagName("div"),t=!0,r=0;5>r;r++)t=t&&e[r].offsetWidth===r%2+1;Modernizr.addTest("nthchild",t)},5),testStyles("#modernizr{overflow: scroll; width: 40px; height: 40px; }#"+prefixes.join("scrollbar{width:10px} #modernizr::").split("#").slice(1).join("#")+"scrollbar{width:10px}",function(A){Modernizr.addTest("cssscrollbar","scrollWidth"in A&&30==A.scrollWidth)}),Modernizr.addTest("siblinggeneral",function(){return testStyles("#modernizr div {width:100px} #modernizr div ~ div {width:200px;display:block}",function(A){return 200==A.lastChild.offsetWidth},2)}),testStyles("#modernizr{position: absolute; top: -10em; visibility:hidden; font: normal 10px arial;}#subpixel{float: left; font-size: 33.3333%;}",function(A){var e=A.firstChild;e.innerHTML="This is a text written in Arial",Modernizr.addTest("subpixelfont",window.getComputedStyle?"44px"!==window.getComputedStyle(e,null).getPropertyValue("width"):!1)},1,["subpixel"]),Modernizr.addTest("cssvalid",function(){return testStyles("#modernizr input{height:0;border:0;padding:0;margin:0;width:10px} #modernizr input:valid{width:50px}",function(A){var e=createElement("input");return A.appendChild(e),e.clientWidth>10})}),Modernizr.addTest("details",function(){var A,e=createElement("details");return"open"in e?(testStyles("#modernizr details{display:block}",function(t){t.appendChild(e),e.innerHTML="<summary>a</summary>b",A=e.offsetHeight,e.open=!0,A=A!=e.offsetHeight}),A):!1}),Modernizr.addTest("oninput",function(){var A,e=createElement("input");if(e.setAttribute("oninput","return"),hasEvent("oninput",docElement)||"function"==typeof e.oninput)return!0;try{var t=document.createEvent("KeyboardEvent");A=!1;var r=function(e){A=!0,e.preventDefault(),e.stopPropagation()};t.initKeyEvent("keypress",!0,!0,window,!1,!1,!1,!1,0,"e".charCodeAt(0)),docElement.appendChild(e),e.addEventListener("input",r,!1),e.focus(),e.dispatchEvent(t),e.removeEventListener("input",r,!1),docElement.removeChild(e)}catch(n){A=!1}return A}),Modernizr.addTest("formvalidation",function(){var A=createElement("form");if(!("checkValidity"in A&&"addEventListener"in A))return!1;if("reportValidity"in A)return!0;var e,t=!1;return Modernizr.formvalidationapi=!0,A.addEventListener("submit",function(A){(!window.opera||window.operamini)&&A.preventDefault(),A.stopPropagation()},!1),A.innerHTML='<input name="modTest" required="required" /><button></button>',testStyles("#modernizr form{position:absolute;top:-99999em}",function(r){r.appendChild(A),e=A.getElementsByTagName("input")[0],e.addEventListener("invalid",function(A){t=!0,A.preventDefault(),A.stopPropagation()},!1),Modernizr.formvalidationmessage=!!e.validationMessage,A.getElementsByTagName("button")[0].click()}),t});var inputElem=createElement("input"),inputattrs="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),attrs={};Modernizr.input=function(A){for(var e=0,t=A.length;t>e;e++)attrs[A[e]]=!!(A[e]in inputElem);return attrs.list&&(attrs.list=!(!createElement("datalist")||!window.HTMLDataListElement)),attrs}(inputattrs),Modernizr.addTest("datalistelem",Modernizr.input.list);var inputtypes="search tel url email datetime date month week time datetime-local number range color".split(" "),inputs={};Modernizr.inputtypes=function(A){for(var e,t,r,n=A.length,o="1)",i=0;n>i;i++)inputElem.setAttribute("type",e=A[i]),r="text"!==inputElem.type&&"style"in inputElem,r&&(inputElem.value=o,inputElem.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&inputElem.style.WebkitAppearance!==undefined?(docElement.appendChild(inputElem),t=document.defaultView,r=t.getComputedStyle&&"textfield"!==t.getComputedStyle(inputElem,null).WebkitAppearance&&0!==inputElem.offsetHeight,docElement.removeChild(inputElem)):/^(search|tel)$/.test(e)||(r=/^(url|email)$/.test(e)?inputElem.checkValidity&&inputElem.checkValidity()===!1:inputElem.value!=o)),inputs[A[i]]=!!r;return inputs}(inputtypes),Modernizr.addTest("localizednumber",function(){if(!Modernizr.inputtypes.number)return!1;if(!Modernizr.formvalidation)return!1;var A,e=createElement("div"),t=getBody(),r=function(){return docElement.insertBefore(t,docElement.firstElementChild||docElement.firstChild)}();e.innerHTML='<input type="number" value="1.0" step="0.1"/>';var n=e.childNodes[0];r.appendChild(e),n.focus();try{document.execCommand("SelectAll",!1),document.execCommand("InsertText",!1,"1,1")}catch(o){}return A="number"===n.type&&1.1===n.valueAsNumber&&n.checkValidity(),r.removeChild(e),t.fake&&r.parentNode.removeChild(r),A});var modElem={elem:createElement("modernizr")};Modernizr._q.push(function(){delete modElem.elem}),Modernizr.addTest("csschunit",function(){var A,e=modElem.elem.style;try{e.fontSize="3ch",A=-1!==e.fontSize.indexOf("ch")}catch(t){A=!1}return A}),Modernizr.addTest("cssexunit",function(){var A,e=modElem.elem.style;try{e.fontSize="3ex",A=-1!==e.fontSize.indexOf("ex")}catch(t){A=!1}return A}),Modernizr.addTest("hsla",function(){var A=createElement("a").style;return A.cssText="background-color:hsla(120,40%,100%,.5)",contains(A.backgroundColor,"rgba")||contains(A.backgroundColor,"hsla")}),testStyles("#modernizr { height: 50vh; }",function(A){var e=parseInt(window.innerHeight/2,10),t=parseInt(computedStyle(A,null,"height"),10);Modernizr.addTest("cssvhunit",t==e)}),testStyles("#modernizr { width: 50vw; }",function(A){var e=parseInt(window.innerWidth/2,10),t=parseInt(computedStyle(A,null,"width"),10);Modernizr.addTest("cssvwunit",t==e)}),Modernizr.addTest("bdi",function(){var A=createElement("div"),e=createElement("bdi");e.innerHTML="&#1573;",A.appendChild(e),docElement.appendChild(A);var t="rtl"===computedStyle(e,null,"direction");return docElement.removeChild(A),t}),testStyles("#modernizr1{width: 50vmax}#modernizr2{width:50px;height:50px;overflow:scroll}#modernizr3{position:fixed;top:0;left:0;bottom:0;right:0}",function(A){var e=A.childNodes[2],t=A.childNodes[1],r=A.childNodes[0],n=parseInt((t.offsetWidth-t.clientWidth)/2,10),o=r.clientWidth/100,i=r.clientHeight/100,d=parseInt(50*Math.max(o,i),10),a=parseInt(computedStyle(e,null,"width"),10);Modernizr.addTest("cssvmaxunit",roundedEquals(d,a)||roundedEquals(d,a-n))},3),testStyles("#modernizr1{width: 50vm;width:50vmin}#modernizr2{width:50px;height:50px;overflow:scroll}#modernizr3{position:fixed;top:0;left:0;bottom:0;right:0}",function(A){var e=A.childNodes[2],t=A.childNodes[1],r=A.childNodes[0],n=parseInt((t.offsetWidth-t.clientWidth)/2,10),o=r.clientWidth/100,i=r.clientHeight/100,d=parseInt(50*Math.min(o,i),10),a=parseInt(computedStyle(e,null,"width"),10);Modernizr.addTest("cssvminunit",roundedEquals(d,a)||roundedEquals(d,a-n))},3);var testXhrType=function(A){if("undefined"==typeof XMLHttpRequest)return!1;var e=new XMLHttpRequest;e.open("get","/",!0);try{e.responseType=A}catch(t){return!1}return"response"in e&&e.responseType==A};Modernizr.addTest("xhrresponsetypearraybuffer",testXhrType("arraybuffer")),Modernizr.addTest("xhrresponsetypeblob",testXhrType("blob")),Modernizr.addTest("xhrresponsetypedocument",testXhrType("document")),Modernizr.addTest("xhrresponsetypejson",testXhrType("json")),Modernizr.addTest("xhrresponsetypetext",testXhrType("text"));var toStringFn={}.toString;Modernizr.addTest("svgclippaths",function(){return!!document.createElementNS&&/SVGClipPath/.test(toStringFn.call(document.createElementNS("http://www.w3.org/2000/svg","clipPath")))}),Modernizr.addTest("svgforeignobject",function(){return!!document.createElementNS&&/SVGForeignObject/.test(toStringFn.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}),Modernizr.addTest("smil",function(){return!!document.createElementNS&&/SVGAnimate/.test(toStringFn.call(document.createElementNS("http://www.w3.org/2000/svg","animate")))});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style});var testProp=ModernizrProto.testProp=function(A,e,t){return testProps([A],undefined,e,t)};Modernizr.addTest("textshadow",testProp("textShadow","1px 1px")),ModernizrProto.testAllProps=testPropsAll;var prefixed=ModernizrProto.prefixed=function(A,e,t){return 0===A.indexOf("@")?atRule(A):(-1!=A.indexOf("-")&&(A=cssToDOM(A)),e?testPropsAll(A,e,t):testPropsAll(A,"pfx"))},prefixedCSS=ModernizrProto.prefixedCSS=function(A){var e=prefixed(A);return e&&domToCSS(e)};Modernizr.addTest("batteryapi",!!prefixed("battery",navigator),{aliases:["battery-api"]});var crypto=prefixed("crypto",window);Modernizr.addTest("crypto",!!prefixed("subtle",crypto)),Modernizr.addTest("dart",!!prefixed("startDart",navigator)),Modernizr.addTest("forcetouch",function(){return hasEvent(prefixed("mouseforcewillbegin",window,!1),window)?MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN&&MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN:!1}),Modernizr.addTest("fullscreen",!(!prefixed("exitFullscreen",document,!1)&&!prefixed("cancelFullScreen",document,!1))),Modernizr.addTest("gamepads",!!prefixed("getGamepads",navigator)),Modernizr.addAsyncTest(function(){var A;try{A=prefixed("indexedDB",window)}catch(e){}if(A){var t="modernizr-"+Math.random(),r=A.open(t);r.onerror=function(){r.error&&"InvalidStateError"===r.error.name?addTest("indexeddb",!1):(addTest("indexeddb",!0),detectDeleteDatabase(A,t))},r.onsuccess=function(){addTest("indexeddb",!0),detectDeleteDatabase(A,t)}}else addTest("indexeddb",!1)}),Modernizr.addAsyncTest(function(){var A,e,t,r,n="detect-blob-support",o=!1;try{A=prefixed("indexedDB",window)}catch(i){}if(!Modernizr.indexeddb||!Modernizr.indexeddb.deletedatabase)return!1;try{A.deleteDatabase(n).onsuccess=function(){e=A.open(n,1),e.onupgradeneeded=function(){e.result.createObjectStore("store")},e.onsuccess=function(){t=e.result;try{r=t.transaction("store","readwrite").objectStore("store").put(new Blob,"key"),r.onsuccess=function(){o=!0},r.onerror=function(){o=!1}}catch(i){o=!1}finally{addTest("indexeddbblob",o),t.close(),A.deleteDatabase(n)}}}}catch(i){addTest("indexeddbblob",!1)}}),Modernizr.addTest("intl",!!prefixed("Intl",window)),Modernizr.addTest("pagevisibility",!!prefixed("hidden",document,!1)),Modernizr.addTest("performance",!!prefixed("performance",window)),Modernizr.addTest("pointerlock",!!prefixed("exitPointerLock",document)),Modernizr.addTest("quotamanagement",function(){var A=prefixed("temporaryStorage",navigator),e=prefixed("persistentStorage",navigator);return!(!A||!e)}),Modernizr.addTest("requestanimationframe",!!prefixed("requestAnimationFrame",window),{aliases:["raf"]}),Modernizr.addTest("vibrate",!!prefixed("vibrate",navigator)),Modernizr.addTest("webintents",!!prefixed("startActivity",navigator)),Modernizr.addTest("lowbattery",function(){var A=.2,e=prefixed("battery",navigator);return!!(e&&!e.charging&&e.level<=A)});var crypto=prefixed("crypto",window),supportsGetRandomValues;if(crypto&&"getRandomValues"in crypto&&"Uint32Array"in window){var array=new Uint32Array(10),values=crypto.getRandomValues(array);supportsGetRandomValues=values&&is(values[0],"number")}Modernizr.addTest("getrandomvalues",!!supportsGetRandomValues),Modernizr.addTest("backgroundblendmode",prefixed("backgroundBlendMode","text")),Modernizr.addTest("objectfit",!!prefixed("objectFit"),{aliases:["object-fit"]}),Modernizr.addTest("regions",function(){if(isSVG)return!1;var A=prefixed("flowFrom"),e=prefixed("flowInto"),t=!1;if(!A||!e)return t;var r=createElement("iframe"),n=createElement("div"),o=createElement("div"),i=createElement("div"),d="modernizr_flow_for_regions_check";o.innerText="M",n.style.cssText="top: 150px; left: 150px; padding: 0px;",i.style.cssText="width: 50px; height: 50px; padding: 42px;",i.style[A]=d,n.appendChild(o),n.appendChild(i),docElement.appendChild(n);var a,s,l=o.getBoundingClientRect();return o.style[e]=d,a=o.getBoundingClientRect(),s=parseInt(a.left-l.left,10),docElement.removeChild(n),42==s?t=!0:(docElement.appendChild(r),l=r.getBoundingClientRect(),r.style[e]=d,a=r.getBoundingClientRect(),l.height>0&&l.height!==a.height&&0===a.height&&(t=!0)),o=i=n=r=undefined,t}),Modernizr.addTest("wrapflow",function(){var A=prefixed("wrapFlow");if(!A||isSVG)return!1;var e=A.replace(/([A-Z])/g,function(A,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"),t=createElement("div"),r=createElement("div"),n=createElement("span");r.style.cssText="position: absolute; left: 50px; width: 100px; height: 20px;"+e+":end;",n.innerText="X",t.appendChild(r),t.appendChild(n),docElement.appendChild(t);var o=n.offsetLeft;return docElement.removeChild(t),r=n=t=undefined,150==o}),Modernizr.addTest("filesystem",!!prefixed("requestFileSystem",window)),Modernizr.addTest("requestautocomplete",!!prefixed("requestAutocomplete",createElement("form"))),Modernizr.addTest("speechrecognition",!!prefixed("SpeechRecognition",window));var url=prefixed("URL",window,!1);url=url&&window[url],Modernizr.addTest("bloburls",url&&"revokeObjectURL"in url&&"createObjectURL"in url),Modernizr.addAsyncTest(function(){function A(){addTest("transferables",!1),e()}function e(){d&&URL.revokeObjectURL(d),a&&a.terminate(),n&&clearTimeout(n)}var t=!!(Modernizr.blobconstructor&&Modernizr.bloburls&&Modernizr.webworkers&&Modernizr.typedarrays);if(!t)return addTest("transferables",!1);try{var r,n,o='var hello = "world"',i=new Blob([o],{type:"text/javascript"}),d=URL.createObjectURL(i),a=new Worker(d);a.onerror=A,n=setTimeout(A,200),r=new ArrayBuffer(1),a.postMessage(r,[r]),addTest("transferables",0===r.byteLength),e()}catch(s){A()}}),Modernizr.addTest("getusermedia",!!prefixed("getUserMedia",navigator)),Modernizr.addTest("peerconnection",!!prefixed("RTCPeerConnection",window)),Modernizr.addTest("datachannel",function(){if(!Modernizr.peerconnection)return!1;for(var A=0,e=domPrefixes.length;e>A;A++){var t=window[domPrefixes[A]+"RTCPeerConnection"];if(t){var r=new t(null);return"createDataChannel"in r}}return!1}),Modernizr.addTest("matchmedia",!!prefixed("matchMedia",window)),ModernizrProto.testAllProps=testAllProps,Modernizr.addTest("ligatures",testAllProps("fontFeatureSettings",'"liga" 1')),Modernizr.addTest("cssanimations",testAllProps("animationName","a",!0)),Modernizr.addTest("csspseudoanimations",function(){var A=!1;if(!Modernizr.cssanimations||!window.getComputedStyle)return A;var e=["@",Modernizr._prefixes.join("keyframes csspseudoanimations { from { font-size: 10px; } }@").replace(/\@$/,""),'#modernizr:before { content:" "; font-size:5px;',Modernizr._prefixes.join("animation:csspseudoanimations 1ms infinite;"),"}"].join("");return Modernizr.testStyles(e,function(e){A="10px"===window.getComputedStyle(e,":before").getPropertyValue("font-size")}),A}),Modernizr.addTest("appearance",testAllProps("appearance")),Modernizr.addTest("backdropfilter",testAllProps("backdropFilter")),Modernizr.addTest("backgroundcliptext",function(){return testAllProps("backgroundClip","text")}),Modernizr.addTest("bgpositionxy",function(){return testAllProps("backgroundPositionX","3px",!0)&&testAllProps("backgroundPositionY","5px",!0)}),Modernizr.addTest("bgrepeatround",testAllProps("backgroundRepeat","round")),Modernizr.addTest("bgrepeatspace",testAllProps("backgroundRepeat","space")),Modernizr.addTest("backgroundsize",testAllProps("backgroundSize","100%",!0)),Modernizr.addTest("bgsizecover",testAllProps("backgroundSize","cover")),Modernizr.addTest("borderimage",testAllProps("borderImage","url() 1",!0)),Modernizr.addTest("borderradius",testAllProps("borderRadius","0px",!0)),Modernizr.addTest("boxshadow",testAllProps("boxShadow","1px 1px",!0)),Modernizr.addTest("boxsizing",testAllProps("boxSizing","border-box",!0)&&(document.documentMode===undefined||document.documentMode>7)),function(){Modernizr.addTest("csscolumns",function(){var A=!1,e=testAllProps("columnCount");try{A=!!e,A&&(A=new Boolean(A))}catch(t){}return A});for(var A,e,t=["Width","Span","Fill","Gap","Rule","RuleColor","RuleStyle","RuleWidth","BreakBefore","BreakAfter","BreakInside"],r=0;r<t.length;r++)A=t[r].toLowerCase(),e=testAllProps("column"+t[r]),("breakbefore"===A||"breakafter"===A||"breakinside"==A)&&(e=e||testAllProps(t[r])),Modernizr.addTest("csscolumns."+A,e)}(),Modernizr.addTest("cssgridlegacy",testAllProps("grid-columns","10px",!0)),Modernizr.addTest("cssgrid",testAllProps("grid-template-rows","none",!0)),Modernizr.addTest("displayrunin",testAllProps("display","run-in"),{aliases:["display-runin"]}),Modernizr.addTest("ellipsis",testAllProps("textOverflow","ellipsis")),Modernizr.addTest("cssfilters",function(){if(Modernizr.supports)return testAllProps("filter","blur(2px)");var A=createElement("a");return A.style.cssText=prefixes.join("filter:blur(2px); "),!!A.style.length&&(document.documentMode===undefined||document.documentMode>9)}),Modernizr.addTest("flexbox",testAllProps("flexBasis","1px",!0)),Modernizr.addTest("flexboxlegacy",testAllProps("boxDirection","reverse",!0)),Modernizr.addTest("flexboxtweener",testAllProps("flexAlign","end",!0)),Modernizr.addTest("flexwrap",testAllProps("flexWrap","wrap",!0)),Modernizr.addAsyncTest(function(){function A(){function t(){try{var A=createElement("div"),e=createElement("span"),t=A.style,r=0,n=0,o=!1,i=document.body.firstElementChild||document.body.firstChild;return A.appendChild(e),e.innerHTML="Bacon ipsum dolor sit amet jerky velit in culpa hamburger et. Laborum dolor proident, enim dolore duis commodo et strip steak. Salami anim et, veniam consectetur dolore qui tenderloin jowl velit sirloin. Et ad culpa, fatback cillum jowl ball tip ham hock nulla short ribs pariatur aute. Pig pancetta ham bresaola, ut boudin nostrud commodo flank esse cow tongue culpa. Pork belly bresaola enim pig, ea consectetur nisi. Fugiat officia turkey, ea cow jowl pariatur ullamco proident do laborum velit sausage. Magna biltong sint tri-tip commodo sed bacon, esse proident aliquip. Ullamco ham sint fugiat, velit in enim sed mollit nulla cow ut adipisicing nostrud consectetur. Proident dolore beef ribs, laborum nostrud meatball ea laboris rump cupidatat labore culpa. Shankle minim beef, velit sint cupidatat fugiat tenderloin pig et ball tip. Ut cow fatback salami, bacon ball tip et in shank strip steak bresaola. In ut pork belly sed mollit tri-tip magna culpa veniam, short ribs qui in andouille ham consequat. Dolore bacon t-bone, velit short ribs enim strip steak nulla. Voluptate labore ut, biltong swine irure jerky. Cupidatat excepteur aliquip salami dolore. Ball tip strip steak in pork dolor. Ad in esse biltong. Dolore tenderloin exercitation ad pork loin t-bone, dolore in chicken ball tip qui pig. Ut culpa tongue, sint ribeye dolore ex shank voluptate hamburger. Jowl et tempor, boudin pork chop labore ham hock drumstick consectetur tri-tip elit swine meatball chicken ground round. Proident shankle mollit dolore. Shoulder ut duis t-bone quis reprehenderit. Meatloaf dolore minim strip steak, laboris ea aute bacon beef ribs elit shank in veniam drumstick qui. Ex laboris meatball cow tongue pork belly. Ea ball tip reprehenderit pig, sed fatback boudin dolore flank aliquip laboris eu quis. Beef ribs duis beef, cow corned beef adipisicing commodo nisi deserunt exercitation. Cillum dolor t-bone spare ribs, ham hock est sirloin. Brisket irure meatloaf in, boudin pork belly sirloin ball tip. Sirloin sint irure nisi nostrud aliqua. Nostrud nulla aute, enim officia culpa ham hock. Aliqua reprehenderit dolore sunt nostrud sausage, ea boudin pork loin ut t-bone ham tempor. Tri-tip et pancetta drumstick laborum. Ham hock magna do nostrud in proident. Ex ground round fatback, venison non ribeye in.",document.body.insertBefore(A,i),t.cssText="position:absolute;top:0;left:0;width:5em;text-align:justify;text-justification:newspaper;",r=e.offsetHeight,n=e.offsetWidth,t.cssText="position:absolute;top:0;left:0;width:5em;text-align:justify;text-justification:newspaper;"+prefixes.join("hyphens:auto; "),o=e.offsetHeight!=r||e.offsetWidth!=n,document.body.removeChild(A),A.removeChild(e),o}catch(d){return!1}}function r(A,e){try{var t=createElement("div"),r=createElement("span"),n=t.style,o=0,i=!1,d=!1,a=!1,s=document.body.firstElementChild||document.body.firstChild;return n.cssText="position:absolute;top:0;left:0;overflow:visible;width:1.25em;",t.appendChild(r),document.body.insertBefore(t,s),r.innerHTML="mm",o=r.offsetHeight,r.innerHTML="m"+A+"m",d=r.offsetHeight>o,e?(r.innerHTML="m<br />m",o=r.offsetWidth,r.innerHTML="m"+A+"m",a=r.offsetWidth>o):a=!0,d===!0&&a===!0&&(i=!0),document.body.removeChild(t),t.removeChild(r),i}catch(l){return!1}}function n(A){try{var e,t=createElement("input"),r=createElement("div"),n="lebowski",o=!1,i=document.body.firstElementChild||document.body.firstChild;r.innerHTML=n+A+n,document.body.insertBefore(r,i),document.body.insertBefore(t,r),t.setSelectionRange?(t.focus(),t.setSelectionRange(0,0)):t.createTextRange&&(e=t.createTextRange(),e.collapse(!0),e.moveEnd("character",0),e.moveStart("character",0),e.select());try{window.find?o=window.find(n+n):(e=window.self.document.body.createTextRange(),o=e.findText(n+n))}catch(d){o=!1}return document.body.removeChild(r),document.body.removeChild(t),o}catch(d){return!1}}return document.body||document.getElementsByTagName("body")[0]?(addTest("csshyphens",function(){if(!testAllProps("hyphens","auto",!0))return!1;try{return t()}catch(A){return!1}}),addTest("softhyphens",function(){try{return r("&#173;",!0)&&r("&#8203;",!1)}catch(A){return!1}}),void addTest("softhyphensfind",function(){try{return n("&#173;")&&n("&#8203;")}catch(A){return!1}})):void setTimeout(A,e)}var e=300;setTimeout(A,e)}),Modernizr.addTest("cssmask",testAllProps("maskRepeat","repeat-x",!0)),Modernizr.addTest("overflowscrolling",testAllProps("overflowScrolling","touch",!0)),Modernizr.addTest("cssreflections",testAllProps("boxReflect","above",!0)),Modernizr.addTest("cssresize",testAllProps("resize","both",!0)),Modernizr.addTest("scrollsnappoints",testAllProps("scrollSnapType")),Modernizr.addTest("shapes",testAllProps("shapeOutside","content-box",!0)),Modernizr.addTest("textalignlast",testAllProps("textAlignLast")),Modernizr.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&testAllProps("transform","scale(1)",!0)}),Modernizr.addTest("csstransforms3d",function(){var A=!!testAllProps("perspective","1px",!0),e=Modernizr._config.usePrefixes;if(A&&(!e||"webkitPerspective"in docElement.style)){var t,r="#modernizr{width:0;height:0}";Modernizr.supports?t="@supports (perspective: 1px)":(t="@media (transform-3d)",e&&(t+=",(-webkit-transform-3d)")),t+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",testStyles(r+t,function(e){A=7===e.offsetWidth&&18===e.offsetHeight})}return A}),Modernizr.addTest("csstransitions",testAllProps("transition","all",!0)),Modernizr.addTest("csspseudotransitions",function(){var A=!1;if(!Modernizr.csstransitions||!window.getComputedStyle)return A;var e='#modernizr:before { content:" "; font-size:5px;'+Modernizr._prefixes.join("transition:0s 100s;")+"}#modernizr.trigger:before { font-size:10px; }";return Modernizr.testStyles(e,function(e){window.getComputedStyle(e,":before").getPropertyValue("font-size"),e.className+="trigger",A="5px"===window.getComputedStyle(e,":before").getPropertyValue("font-size")}),A}),Modernizr.addTest("userselect",testAllProps("userSelect","none",!0)),testRunner(),setClasses(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();window.Modernizr=Modernizr}(window,document);;var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=Base64._utf8_encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}else if(isNaN(chr3)){enc4=64;}
output=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);}
return output;},decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=this._keyStr.indexOf(input.charAt(i++));enc2=this._keyStr.indexOf(input.charAt(i++));enc3=this._keyStr.indexOf(input.charAt(i++));enc4=this._keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2);}
if(enc4!=64){output=output+String.fromCharCode(chr3);}}
output=Base64._utf8_decode(output);return output;},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}
else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}
else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}
return utftext;},_utf8_decode:function(utftext){var string="";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++;}
else if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}
else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}
return string;}};var arrayUtil=(function(){"use strict";var utils={};var identity=function(x){return x;};var arrayFrom=Array.from||function(array,map,context){if(typeof map!=="function"){map=identity;}
return Array.prototype.map.call(array,map,context);};function arrayUnique(array){return arrayFrom(array).reduce(function(prev,curr){if(prev.indexOf(curr)<0){prev.push(curr);}
return prev;},[]);}
function arrayDiff(array1){var arrays=Array.prototype.slice.call(arguments,1);return arrayUnique(arrays.reduce(function(arr1,arr2){var array=arrayFrom(arr2);return arrayFrom(arr1).filter(function(entry){return array.indexOf(entry)<0;});},arrayFrom(array1)));}
function arrayCommon(array1){var arrays=Array.prototype.slice.call(arguments,1);return arrayUnique(arrays.reduce(function(arr1,arr2){var array=arrayFrom(arr2);return arrayFrom(arr1).filter(function(entry){return array.indexOf(entry)>-1;});},arrayFrom(array1)));}
function pushUnique(array){Array.prototype.slice.call(arguments,1).forEach(function(item){if(array.indexOf(item)<0){array.push(item);}});return array.length;}
function pluck(array){var properties=Array.prototype.slice.call(arguments,1);return arrayFrom(array,function(object){return properties.map(function(property){return object[property];});});}
utils.from=arrayFrom;utils.unique=arrayUnique;utils.diff=arrayDiff;utils.common=arrayCommon;utils.pushUnique=pushUnique;utils.pluck=pluck;return utils;}());;(function(t){var e=function(){try{return!!Symbol.iterator}catch(e){return false}};var r=e();var n=function(t){var e={next:function(){var e=t.shift();return{done:e===void 0,value:e}}};if(r){e[Symbol.iterator]=function(){return e}}return e};var i=function(e){return encodeURIComponent(e).replace(/%20/g,"+")};var o=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};var a=function(){var a=function(e){Object.defineProperty(this,"_entries",{writable:true,value:{}});var t=typeof e;if(t==="undefined"){}else if(t==="string"){if(e!==""){this._fromString(e)}}else if(e instanceof a){var r=this;e.forEach(function(e,t){r.append(t,e)})}else if(e!==null&&t==="object"){if(Object.prototype.toString.call(e)==="[object Array]"){for(var n=0;n<e.length;n++){var i=e[n];if(Object.prototype.toString.call(i)==="[object Array]"||i.length!==2){this.append(i[0],i[1])}else{throw new TypeError("Expected [string, any] as entry at index "+n+" of URLSearchParams's input")}}}else{for(var o in e){if(e.hasOwnProperty(o)){this.append(o,e[o])}}}}else{throw new TypeError("Unsupported input's type for URLSearchParams")}};var e=a.prototype;e.append=function(e,t){if(e in this._entries){this._entries[e].push(String(t))}else{this._entries[e]=[String(t)]}};e.delete=function(e){delete this._entries[e]};e.get=function(e){return e in this._entries?this._entries[e][0]:null};e.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]};e.has=function(e){return e in this._entries};e.set=function(e,t){this._entries[e]=[String(t)]};e.forEach=function(e,t){var r;for(var n in this._entries){if(this._entries.hasOwnProperty(n)){r=this._entries[n];for(var i=0;i<r.length;i++){e.call(t,r[i],n,this)}}}};e.keys=function(){var r=[];this.forEach(function(e,t){r.push(t)});return n(r)};e.values=function(){var t=[];this.forEach(function(e){t.push(e)});return n(t)};e.entries=function(){var r=[];this.forEach(function(e,t){r.push([t,e])});return n(r)};if(r){e[Symbol.iterator]=e.entries}e.toString=function(){var r=[];this.forEach(function(e,t){r.push(i(t)+"="+i(e))});return r.join("&")};t.URLSearchParams=a};var s=function(){try{var e=t.URLSearchParams;return new e("?a=1").toString()==="a=1"&&typeof e.prototype.set==="function"}catch(e){return false}};if(!s()){a()}var f=t.URLSearchParams.prototype;if(typeof f.sort!=="function"){f.sort=function(){var r=this;var n=[];this.forEach(function(e,t){n.push([t,e]);if(!r._entries){r.delete(t)}});n.sort(function(e,t){if(e[0]<t[0]){return-1}else if(e[0]>t[0]){return+1}else{return 0}});if(r._entries){r._entries={}}for(var e=0;e<n.length;e++){this.append(n[e][0],n[e][1])}}}if(typeof f._fromString!=="function"){Object.defineProperty(f,"_fromString",{enumerable:false,configurable:false,writable:false,value:function(e){if(this._entries){this._entries={}}else{var r=[];this.forEach(function(e,t){r.push(t)});for(var t=0;t<r.length;t++){this.delete(r[t])}}e=e.replace(/^\?/,"");var n=e.split("&");var i;for(var t=0;t<n.length;t++){i=n[t].split("=");this.append(o(i[0]),i.length>1?o(i[1]):"")}}})}})(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:this);(function(h){var e=function(){try{var e=new h.URL("b","http://a");e.pathname="c d";return e.href==="http://a/c%20d"&&e.searchParams}catch(e){return false}};var t=function(){var t=h.URL;var e=function(e,t){if(typeof e!=="string")e=String(e);var r=document,n;if(t&&(h.location===void 0||t!==h.location.href)){r=document.implementation.createHTMLDocument("");n=r.createElement("base");n.href=t;r.head.appendChild(n);try{if(n.href.indexOf(t)!==0)throw new Error(n.href)}catch(e){throw new Error("URL unable to set base "+t+" due to "+e)}}var i=r.createElement("a");i.href=e;if(n){r.body.appendChild(i);i.href=i.href}if(i.protocol===":"||!/:/.test(i.href)){throw new TypeError("Invalid URL")}Object.defineProperty(this,"_anchorElement",{value:i});var o=new h.URLSearchParams(this.search);var a=true;var s=true;var f=this;["append","delete","set"].forEach(function(e){var t=o[e];o[e]=function(){t.apply(o,arguments);if(a){s=false;f.search=o.toString();s=true}}});Object.defineProperty(this,"searchParams",{value:o,enumerable:true});var c=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:false,configurable:false,writable:false,value:function(){if(this.search!==c){c=this.search;if(s){a=false;this.searchParams._fromString(this.search);a=true}}}})};var r=e.prototype;var n=function(t){Object.defineProperty(r,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:true})};["hash","host","hostname","port","protocol"].forEach(function(e){n(e)});Object.defineProperty(r,"search",{get:function(){return this._anchorElement["search"]},set:function(e){this._anchorElement["search"]=e;this._updateSearchParams()},enumerable:true});Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e;this._updateSearchParams()},enumerable:true},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:true},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol];var t=this._anchorElement.port!=e&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:true},password:{get:function(){return""},set:function(e){},enumerable:true},username:{get:function(){return""},set:function(e){},enumerable:true}});e.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)};e.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)};h.URL=e};if(!e()){t()}if(h.location!==void 0&&!("origin"in h.location)){var r=function(){return h.location.protocol+"//"+h.location.hostname+(h.location.port?":"+h.location.port:"")};try{Object.defineProperty(h.location,"origin",{get:r,enumerable:true})}catch(e){setInterval(function(){h.location.origin=r()},100)}}})(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:this);;EPSON.cookie=(function(){'use strict';var defaults={expires:null,path:'/',domain:null,secure:false},owns=Object.prototype.hasOwnProperty;function resolveOptions(options){var resolved=EPSON.extendObject({},defaults),expires=null;if(options){if(options.expires instanceof Date){resolved.expires=options.expires;}else if(typeof options.hours==='number'&&options.hours>0){expires=new Date();expires.setTime(expires.getTime()+(options.hours*60*60*1000));resolved.expires=expires;}
if(typeof options.path==='string'&&options.path.trim()!==''){resolved.path=options.path;}
if(typeof options.domain==='string'&&options.domain.trim()!==''){resolved.domain=options.domain;}
if(options.secure){resolved.secure=true;}}
return resolved;}
function assembleOptions(options){var resolved=resolveOptions(options),assembled='';if(resolved.expires instanceof Date){assembled+='; expires='+resolved.expires.toGMTString();}
assembled+='; path='+resolved.path;if(typeof resolved.domain==='string'){assembled+='; domain='+resolved.domain;}
if(resolved.secure){assembled+='; secure';}
return assembled;}
function parseCookies(){var cookies={};document.cookie.split(';').forEach(function(cookieString){var parts=cookieString.split('='),name=parts[0].trim(),value='',parsed='';try{value=decodeURIComponent(parts[1]);}catch(ex){value=parts[1];}
try{parsed=JSON.parse(value);value=parsed;}catch(ignore){}
cookies[name]=value;});return cookies;}
return{create:function(name,value,options){var opts=typeof options==='object'&&options!==null?options:{},val=value;if(val===undefined||val===null){val='';options.hours=-8760;}else if(typeof val!=='string'){val=JSON.stringify(val);}
document.cookie=name+'='+encodeURIComponent(val)+
assembleOptions(options);},read:function(name){var cookies=parseCookies();return owns.call(cookies,name)?cookies[name]:null;},erase:function(name){if(this.isSet(name)){this.create(name,'',{hours:-1});}},isSet:function(name){var cookies=parseCookies();return owns.call(cookies,name);}};}());;(function(epson){'use strict';var dummy=document.createElement('style'),head=document.head||document.getElementsByTagName('head')[0],inst=null,Style=epson.createClass({init:function(appendTo){this.parent=appendTo;this.styles={};this.getSheet(Style.media.screen);},createSheet:function(media){var element=document.createElement('style');element.setAttribute('media',media);element.type='text/css';this.parent.appendChild(element);return element;},makeSheet:function(media){var sheet=this.createSheet(media);return{element:sheet,instance:Style.getInstance(sheet)};},getSheet:function(media){var sheet=this.styles[media];if(!sheet){sheet=this.styles[media]=this.makeSheet(media);}
return sheet;},addRule:function(settings){var sheet=this.getSheet(settings.media||Style.media.screen),index=settings.index,rules=Array.isArray(settings.rules)?settings.rules.join(';'):settings.rules,rule=settings.selector+'{'+rules+'}';if(typeof index==='number'){this.removeRule(settings);}else{index=sheet.instance.cssRules.length;}
sheet.instance.insertRule(rule,index);return index;},removeRule:function(settings){var sheet=this.getSheet(settings.media||Style.media.screen);sheet.instance.deleteRule(settings.index);}});epson.extendObject(Style,{media:{screen:'screen',print:'print',gt_desktop:'screen and (min-width: 1152px)',desktop:'screen and (min-width: 960px)',lt_desktop:'screen and (max-width: 959px)',gt_tablet:'screen and (min-width: 768px)',tablet:'screen and (min-width: 768px) and (max-width: 959px)',lt_tablet:'screen and (max-width: 767px)',gt_smallTablet:'screen and (min-width: 600px)',smallTablet:'screen and (min-width: 600px) and (max-width: 767px)',lt_smallTablet:'screen and (max-width: 599px)',gt_mobileLandscape:'screen and (min-width: 600px)',mobileLandscape:'screen and (min-width: 480px) and (max-width: 599px)',gt_mobilePortrait:'screen and (min-width: 480px)',mobilePortrait:'screen and (max-width: 479px)'},getIndex:function(sheet){return Array.prototype.map.call(document.styleSheets,function(sheet){return sheet.ownerNode||sheet.owningElement;}).indexOf(sheet);},getInstance:function(sheet){var index=Style.getIndex(sheet);return index>=0?document.styleSheets[index]:null;}});epson.extendObject(epson,{Style:Style,initStyles:function(){var head=document.head,instance=epson.styleInstance;if(!instance){if(!head){head=document.getElementsByTagName('head')[0];}
instance=epson.styleInstance=new epson.Style(head);}
return instance;},addStyles:function(settings){return epson.initStyles().addRule(settings);},removeStyles:function(settings){return epson.initStyles().removeRule(settings);}});head.appendChild(dummy);inst=Style.getInstance(dummy);if(typeof inst.insertRule!=='function'){Style.prototype.addRule=function(settings){var sheet=this.getSheet(settings.media||Style.media.screen),index=settings.index,rules=Array.isArray(settings.rules)?settings.rules.join(';'):settings.rules;if(typeof index==='number'){this.removeRule(settings);}else{index=sheet.instance.rules.length;}
sheet.instance.addRule(settings.selector,rules,index);return index;};Style.prototype.removeRule=function(settings){var sheet=this.getSheet(settings.media||Style.media.screen);sheet.instance.removeRule(settings.index);};}
head.removeChild(dummy);}(EPSON));;(function(){'use strict';var topics={},PubSub=null;PubSub=EPSON.createClass({init:function(id,flags){var callbacks=null;this.id=id;if(!Object.prototype.hasOwnProperty.call(topics,id)){callbacks=$.Callbacks(flags);topics[id]={pub:callbacks.fire,sub:callbacks.add,unsub:callbacks.remove};}},publish:function(){return topics[this.id].pub.apply(this,arguments);},subscribe:function(handler){topics[this.id].sub(handler);},unsubscribe:function(handler){topics[this.id].unsub(handler);}});PubSub.getIDs=function(){return Object.keys(topics);};EPSON.PubSub=PubSub;}());;(function(){'use strict';var keys=[],data=[];EPSON.Key=EPSON.createClass({init:function(key){var index=keys.indexOf(key);if(index<0){index=keys.push(key)-1;data[index]={};}
this.index=index;},getData:function(prop){var keyData=data[this.index];if(typeof prop==='string'){keyData=keyData[prop];}
return keyData;},addData:function(prop,data){var keyData=this.getData();keyData[prop]=data;}});}());;EPSON.Field=(function(){'use strict';var config={CSS_NOCHANGE:'no-change',CSS_INVISIBLE:'is-invisible',CSS_DISABLED:'is-disabled',VAL_TIMEOUT:125},MutationObserver=window.MutationObserver||(function(){var prefixes=['Ms','O','Moz','Webkit'],i=0,il=prefixes.length,Obs=null,temp=null;while(i<il){temp=window[prefixes[i]+'MutationObserver'];if(typeof temp==='function'){Obs=temp;break;}
i+=1;}
return Obs;}()),watchDisabled=(function(){var watch=function(element,callback){var state=element.disabled,poll=function(){if(element.disabled!==state){state=element.disabled;callback();}
setTimeout(poll,config.VAL_TIMEOUT);};poll();};if(typeof MutationObserver==='function'){watch=function(element,callback){var observer=new MutationObserver(function(mutations){var i=0,il=mutations.length;while(i<il){if(mutations[i].type==='attributes'&&mutations[i].attributeName==='disabled'){callback();break;}
i+=1;}});observer.observe(element,{attributes:true,childList:true,characterData:true});};}
return watch;}()),addClass=function(element,className){element.classList.add(className);},removeClass=function(element,className){element.classList.remove(className);};if(typeof document.createElement('_').classList!=='object'){addClass=function(element,className){var classes=element.className.split(/\s+/),index=classes.indexOf(className);if(index<0){classes.push(className);element.className=classes.join(' ');}};removeClass=function(element,className){var classes=element.className.split(/\s+/),index=classes.indexOf(className);if(index>-1){classes.splice(index,1);element.className=classes.join(' ');}};}
return EPSON.createClass({init:function(element){var jQelement=$(element);this.element=element;this.jQelement=jQelement;if(element&&!(jQelement.data('epsonfield')instanceof EPSON.Field)&&!jQelement.hasClass(config.CSS_NOCHANGE)){this.prerun();jQelement.data('epsonfield',this);if(typeof this.run==='function'){this.run();}
this.hideElement();}},prerun:function(){this.findLabel();this.findForm();this.addDisabledCheck();},hideElement:function(){this.jQelement.addClass(config.CSS_INVISIBLE);},findLabel:function(){var label=null,jQfield=this.jQelement,jQlabel=jQfield.closest('label'),id=jQfield.attr('id'),isParent=false;if(jQlabel.length){label=jQlabel[0];isParent=true}else if(id){jQlabel=$('label[for="'+id+'"]');if(jQlabel.length){label=jQlabel[0];}}
this.label=label;this.isLabelParent=isParent;},findForm:function(){var form=this.jQelement.closest('form')[0];this.form=form||null;},addDisabledCheck:function(){var that=this;watchDisabled(that.element,function(){that.setDisabled();});},disable:function(){addClass(this.render,config.CSS_DISABLED);},enable:function(){removeClass(this.render,config.CSS_DISABLED);},setDisabled:function(){this[this.checkDisabled()?'disable':'enable']();},checkDisabled:function(){return this.element.disabled;}});}());;EPSON.FieldSelect=(function(){'use strict';var config={CSS_OPEN:'is-open',CSS_HOVER:'is-hover',CSS_ACTIVE:'is-active',CSS_WRAPPER:'select',CSS_DISPLAY:'select_display',CSS_ARROW:'select_arrow',CSS_LIST:'select_list',CSS_BACKGROUND:'select_background',EVT_OPEN:'opendropdown',EVT_CLOSE:'closedropdown',HTML_SELECT:'<div class="select">'+'<div class="select_display"><\/div>'+'<div class="select_arrow"><span><\/span><\/div>'+'<ul class="l-bulletless select_list" tabindex="-1"><\/ul>'+'<\/div>'+'<div class="select_background"><\/div>',HTML_OPTION:'<li><\/li>',SEL_OPTION:'li',VAL_MINWIDTH:40,VAL_POLL:125,VAL_ADDITONAL:5};var isIosFixed=false;return EPSON.createClass(EPSON.Field,{run:function(){this.isOpen=false;this.patchIos();this.draw();this.drawOptions();this.addHandlers();this.setText();this.setDisabled();},patchIos:function(){var deviceInfo=null;var deviceType="";if(!isIosFixed){isIosFixed=true;deviceInfo=window.navigator.userAgent.match(/iPad|iPhone|Android|BlackBerry/i);if(deviceInfo&&typeof deviceInfo[0]==="string"){deviceType=deviceInfo[0];}
if(deviceType==="iPhone"||deviceType==="iPad"){$("body").addClass("ios-only");}}},draw:function(){var select=this.element,jQrender=null,display=null,arrow=null,list=null,background=null;jQrender=$(config.HTML_SELECT).insertAfter(select).filter('.'+config.CSS_WRAPPER).attr('data-select-name',select.name);display=$('.'+config.CSS_DISPLAY,jQrender)[0];arrow=$('.'+config.CSS_ARROW,jQrender)[0];list=$('.'+config.CSS_LIST,jQrender)[0];background=jQrender.nextAll('.'+config.CSS_BACKGROUND)[0];jQrender.css('min-width',Math.max(config.VAL_MINWIDTH,$(this.element).outerWidth()+config.VAL_ADDITONAL));this.jQrender=jQrender;this.render=jQrender[0];this.display=display;this.arrow=arrow;this.list=list;this.background=background;$(select).attr(EPSON.getConstant('ATTR_ERRORELEM'),'.'+config.CSS_WRAPPER).attr(EPSON.getConstant('ATTR_AFTERSIBLING'),'.'+config.CSS_WRAPPER);this.options=this.element.getElementsByTagName('option');},drawOptions:function(){var frag=document.createDocumentFragment();$('option',this.element).each(function(){var jQoption=$(config.HTML_OPTION),text=$(this).text(),value=this.hasAttribute('value')?$(this).attr('value'):text;if(this.hasAttribute('hidden')){jQoption.hide();}
jQoption.text(text).attr('data-value',value);frag.appendChild(jQoption[0]);});$(this.list).empty().append(frag);},getFocusedElement:function(){var active;try{active=document.activeElement;}catch(ignore){}
return active;},addHandlers:function(){var that=this;that.jQelement.on({change:function(e){that.update(this.value);},focus:function(){that.highlight();},blur:function(){that.unhighlight();}});$(that.list).on('mousedown',config.SEL_OPTION,function(){that.change($(this));});$(that.background).on('click',function(){that.close();});$(that.arrow).on('click',function(){that.element.focus();});$(that.display).on('click',function(){that.element.focus();});$(that.element).on('focus',function(){that.toggle();});$(that.element).on('blur',function(){setTimeout(function(){var active=that.getFocusedElement();if([that.element,that.list].indexOf(active)<0){that.close();}},100);});that.bindKeyPress();if(that.label){$(that.label).on({mouseenter:function(){that.highlight();},mouseleave:function(){that.unhighlight();}});}
if(that.form){$(that.form).on('reset',function(){setTimeout(function(){that.change();},15);});}},bindKeyPress:function(){var that=this,controlKeys=[38,40,13,27],listItems=$(that.list).find('li').get();if(!that.keyIndex)that.keyIndex=-1;$(that.element).on('keydown',function(e){if(controlKeys.indexOf(e.which)>-1){if(!that.isOpen)that.open();switch(e.which){case 13:if($(that.list).find('li.is-hover').length){that.change($(that.list).find('li.is-hover'));}
if(that.isOpen)that.close();break;case 27:that.close();break;case 38:case 40:if(e.which==38)that.keyIndex--;if(e.which==40)that.keyIndex++;if(that.keyIndex<0)that.keyIndex=0;if(that.keyIndex>=listItems.length)that.keyIndex=listItems.length-1;$(that.list).find('li').removeClass('is-hover');$(that.list).find('li').eq(that.keyIndex).addClass('is-hover');var listItemHeight=$(that.list).find('li').outerHeight(),activePosition=listItemHeight*that.keyIndex;$(that.list).scrollTop(activePosition);break;}
return false;}});},checkOptions:function(){var that=this,options=that.options,length=options.length,values=that.stringifyOptions();if(typeof that.optionsLength!=='number'){that.optionsLength=length;that.optionsString=values;}
if(that.optionsLength!==length||that.optionsString!==values){that.optionsLength=length;that.optionsString=values;that.drawOptions();}},stringifyOptions:function(){return Array.prototype.map.call(this.options,function(option){return option.value;}).join('-');},update:function(value){var current=this.value,jQelement=this.jQelement;if(value!==current){this.value=value;this.element.value=value;this.setText();}
if(this.isOpen){var that=this;$(this.list).find('li').removeClass('is-hover').each(function(index){if($(this).attr('data-value')==that.value){$(this).addClass('is-hover');that.keyIndex=index;}});}
return current!==this.value;},setText:function(){if(this.elemText){$(this.display).text(this.elemText);this.elemText=false;}
else{var jQselected=$('option',this.element).filter(':selected');$(this.display).text(jQselected.text());}},change:function(value){if(value){this.elemText=$(value).text();value=$(value).attr('data-value');}
if(this.update(value)){this.jQelement.trigger('change');}
if(this.elemText){$(this.display).text(this.elemText);this.elemText=false;}
this.close();},open:function(){if(!this.checkDisabled()){this.checkOptions();this.jQrender.addClass(config.CSS_OPEN);this.jQelement.trigger(config.EVT_OPEN);this.isOpen=true;this.keyIndex=-1;}},close:function(){this.jQrender.removeClass(config.CSS_OPEN);this.jQelement.trigger(config.EVT_CLOSE);this.isOpen=false;$(this.list).find('li').removeClass('is-hover');},toggle:function(){this[this.isOpen?'close':'open']();},highlight:function(){if(!this.checkDisabled()){this.jQrender.addClass(config.CSS_HOVER);}},unhighlight:function(){this.jQrender.removeClass(config.CSS_HOVER);}});}());(function(proto){'use strict';var config={CSS_IE9:'ie9',CSS_IE9BUG:'select-ie9bug',SEL_PARENTS:'.popup'},draw=proto.draw,html=document.documentElement;if(html.className.split(/\s+/).indexOf(config.CSS_IE9)>-1){proto.draw=function(){draw.apply(this,arguments);if(!this.jQrender.closest(config.SEL_PARENTS).length){this.jQrender.addClass(config.CSS_IE9BUG);}};}}(EPSON.FieldSelect.prototype));;EPSON.FieldMarket=(function(){'use strict';var config={HTML_OPTION:'<li><\/li>',HTML_PART:'<span>{part}<\/span>'},cache={},FieldMarket=null;FieldMarket=EPSON.createClass(EPSON.FieldSelect,{drawOptions:function(){var frag=document.createDocumentFragment();$('option',this.element).each(function(){var jQoption=$(config.HTML_OPTION),text=$(this).text(),html=FieldMarket.adjust(text),value=this.hasAttribute('value')?$(this).attr('value'):text;jQoption.html(html).attr('data-value',value);frag.appendChild(jQoption[0]);});$(this.list).empty().append(frag);},setText:function(){var jQselected=$('option',this.element).filter(':selected');$(this.display).html(FieldMarket.adjust(jQselected.text()));}});FieldMarket.map=function(part){return EPSON.supplant(config.HTML_PART,{part:part});};FieldMarket.adjust=function(text){var cached=cache[text];if(!cached){cached=text.split(/\s*\/\s*/).map(FieldMarket.map).join(' / ');cache[text]=cached;}
return cached;};return FieldMarket;}());;EPSON.FieldCheck=(function(){'use strict';var config={CSS_HOVER:'is-hover',CSS_NOCHANGE:'no-change',CSS_RENDER:'checkbox',DATA_FIELD:'epsonfield',EVT_NAMESPACE:'epsonfield',HTML_CHECKBOX:'<div class="checkbox">'+'<div class="checkbox_render"><\/div>'+'<\/div>'},supported=null,checks=[':checked',':focus'],FieldCheck=null;function checkSupport(){var supports=checks.map(EPSON.supportsSelector);supported=supports.indexOf(false)<0;return supported;}
FieldCheck=EPSON.createClass({init:function(elem){this.element=elem;if(typeof supported!=='boolean'){checkSupport();}
if(supported&&this.checkSupport()){this.jQelement=$(elem);this.findLabel();this.draw();this.addHandlers();this.jQelement.data(config.DATA_FIELD,this);}},checkSupport:function(){var jQelem=$(this.element),field=config.DATA_FIELD;return!jQelem.hasClass(config.CSS_NOCHANGE)&&!(jQelem.data(field)instanceof EPSON.FieldCheck);},findLabel:function(){var label=null,jQfield=this.jQelement,jQlabel=jQfield.closest('label'),id=jQfield.attr('id');if(jQlabel.length){label=jQlabel[0];}else if(id){jQlabel=$('label[for="'+id+'"]');if(jQlabel.length){label=jQlabel[0];}}
this.label=label;},draw:function(){var jQrender=$(config.HTML_CHECKBOX).insertAfter(this.element);jQrender.prepend(this.element);this.jQrender=jQrender;this.jQelement.attr(EPSON.getConstant('ATTR_AFTERPARENT'),'.'+config.CSS_RENDER);},addHandlers:function(){var jQelem=this.jQelement,label=this.label,events={};if(label){events['mouseenter.'+config.EVT_NAMESPACE]=function(){jQelem.addClass(config.CSS_HOVER);};events['mouseleave.'+config.EVT_NAMESPACE]=function(){jQelem.removeClass(config.CSS_HOVER);};$(label).on(events);}},destroy:function(){this.jQelement.insertBefore(this.jQrender);this.jQrender.remove();if(this.label){$(this.label).off('.'+config.EVT_NAMESPACE);}
this.jQelement.removeData(config.DATA_FIELD);}});return FieldCheck;}());;EPSON.FieldRadio=(function(){'use strict';var config={CSS_LEGACY:'radio',CSS_RADIO:'checkbox-radio'};return EPSON.createClass(EPSON.FieldCheck,{draw:function(){EPSON.FieldRadio.parent.draw.call(this);this.jQrender.addClass(config.CSS_RADIO+' '+config.CSS_LEGACY);}});}());;(function(epson){'use strict';var config={ATTR_TEXT:'data-text',CSS_RENDER:'radiofilter',CSS_NOCHANGE:'no-change',CSS_CHECKED:'is-checked',CSS_HOVER:'is-hover',CSS_ACTIVE:'is-active',HTML_RENDER:'<div class="radiofilter"><\/div>'},FieldFilterCheck=null,FieldFilterRadio=null,groups={};function addToGroups(instance){var name=instance.element.name;if(name){if(!Array.isArray(groups[name])){groups[name]=[];}
if(groups[name].indexOf(instance)<0){groups[name].push(instance);}}}
function getRelated(instance){var group=groups[instance.element.name],index=-1,related=[];if(Array.isArray(group)){related=group.concat();index=group.indexOf(instance);if(index>-1){related.splice(index,1);}}
return related;}
FieldFilterCheck=epson.createClass(epson.Field,{init:function(element){this.value=element.value;$(element).removeClass(config.CSS_NOCHANGE);epson.Field.prototype.init.call(this,element);},findLabel:function(){return;},run:function(){this.draw();this.addHandlers();this.setChecked();this.setDisabled();},draw:function(){var text=this.value,jQelem=this.jQelement,data=jQelem.attr(config.ATTR_TEXT),jQrender=null;if(data!==undefined){text=data;}
jQrender=$(config.HTML_RENDER).insertAfter(jQelem).text(text);this.jQrender=jQrender;this.render=jQrender[0];},addHandlers:function(){var that=this;that.jQelement.on({change:function(){that.setChecked();},focus:function(){that.highlight();},blur:function(){that.unhighlight();}});if(!that.isLabelParent){that.jQrender.on('click',function(){that.element.click();});}},isChecked:function(){return this.element.checked;},setChecked:function(){this[this.isChecked()?'check':'uncheck']();},check:function(){this.jQrender.addClass(config.CSS_CHECKED);},uncheck:function(){this.jQrender.removeClass(config.CSS_CHECKED);},highlight:function(){this.jQrender.addClass(config.CSS_HOVER);},unhighlight:function(){this.jQrender.removeClass(config.CSS_HOVER);}});FieldFilterRadio=epson.createClass(FieldFilterCheck,{run:function(){epson.FieldFilterRadio.parent.run.call(this);addToGroups(this);},setChecked:function(){if(this.isChecked()){this.check();getRelated(this).forEach(function(instance){instance.uncheck();});}else{this.uncheck();}}});epson.FieldFilterCheck=FieldFilterCheck;epson.FieldFilterRadio=FieldFilterRadio;}(EPSON));;(function(epson){'use strict';function getCSSInt(elem,prop){return parseInt($(elem).css(prop),10)||0;}
function equalHeights(selector){var height=0;if(!selector.jquery){selector=$(selector);}
selector.each(function(){height=Math.max(height,$(this).height());});return height;}
epson.equalHeights=function(){Array.prototype.forEach.call(arguments,function(selector){$(selector).height(equalHeights(selector));});};epson.equalOuterHeights=function(){$.each(arguments,function(){var jQelem=$(this),height=0;jQelem.each(function(){height=Math.max($(this).outerHeight(true),height);});jQelem.each(function(){var margin=getCSSInt(this,'margin-top')+
getCSSInt(this,'margin-bottom'),padding=getCSSInt(this,'padding-top')+
getCSSInt(this,'padding-bottom'),border=getCSSInt(this,'border-top')+
getCSSInt(this,'border-bottom');$(this).height(height-margin-padding-border);});});};epson.persistentEqualHeights=function(){var args=Array.prototype.slice.call(arguments),disclude=[],objects=[],heights={},isArray=Array.isArray;function resizeObjects(){var size=EPSON.size;if(disclude.indexOf(size)<0){if(!isArray(heights[size])){heights[size]=objects.map(function(jQobj){jQobj.height('');return equalHeights(jQobj);});}
objects.forEach(function(jQobj,i){jQobj.height(heights[size][i]);});}else{objects.forEach(function(jQobj){jQobj.height('');});}}
if(isArray(args[args.length-1])){disclude=args[args.length-1];args=args.slice(0,-1);}
objects=args.map(function(selector){return $(selector);});EPSON.onsizechange(resizeObjects);resizeObjects();};}(EPSON));;$(function(){"use strict";var footer_collapsibles_t8=new EPSON.Collapsible(".footer-can-collapse",{trigger:"h4",close_others:true}),row_sizes={960:4,768:3,600:3,480:2,300:1},rows,sections;function chunkArray(array,size){var loopMax=Math.ceil(array.length/size),i=0,chunks=[];for(i=0;i<loopMax;i+=1){chunks.push(array.slice(i*size,(i*size)+size));}
return chunks;}
$(window).on("sizechange.para load",function(e,size){$(".t8-block p, .t8-block h4").removeAttr("style");sections=$(".t8-row");if(EPSON.size===300){return false;}
$.each(sections,function(){rows=chunkArray($(".t8-block",this),row_sizes[EPSON.size]);$.each(rows,function(i,row){$(row).attr("data-row",i);EPSON.equalHeights("[data-row="+i+"] h4");EPSON.equalHeights("[data-row="+i+"] p");$(row).removeAttr("data-row");});});});$(".t8-block p, .t8-block h4").removeAttr("style");});;$(function(){"use strict";var accord=$(".t9-accordion-items li").length?new EPSON.imageAccordion(".t9-accordion-items li"):undefined,success=new EPSON.Popup($("#signup-success")[0]),fail=new EPSON.Popup($("#signup-error")[0]),params=EPSON.getURLParams();$(window).on("load.accord sizechange.accord",function(e,size){if(accord)accord.updateHeights();});var signupForm=$('.t9-signup > form');if(typeof signupMessages!='undefined'){signupForm.validate({rules:{Title:'required',FirstName:'required',LastName:'required',Email:{required:true,email:true}},messages:{Title:EPSON.i18n.requiredFieldError,FirstName:EPSON.i18n.requiredFieldError,LastName:EPSON.i18n.requiredFieldError,Email:{required:EPSON.i18n.requiredFieldError,email:EPSON.i18n.invalidEmailError}},focusInvalid:false,submitHandler:function(form){form.submit();}});}
if(parseInt(params["signup"],10)===1){success.handleOpen();}else if(parseInt(params["signup"],10)===0){fail.handleOpen();}
$(window).on("load.study sizechange.study orientationchange",function(){var content,img,learnmore;if($(".t9-case-study").length&&EPSON.size>300){$.each($(".t9-case-study"),function(){content=$(this).find(".t9-content");img=$(this).find(".t9-img img");learnmore=$(this).find(".t9-learnmore");content.removeAttr("style");if(content.height()<img.height()){content.height(img.height()-learnmore.height());}
if(!content.find("ul").length){content.addClass("is-textonly");}});}else{$.each($(".t9-case-study"),function(){content=$(this).find(".t9-content");content.removeAttr("style");});}});});(function(){'use strict';var cache={};EPSON.supportsSelector=function(selector){var supported=false,style=null,rules=[];if(cache.hasOwnProperty(selector)){supported=cache[selector];}else{style=document.createElement('style');style.setAttribute('type','text\/css');document.body.appendChild(style);if(style.styleSheet){style.styleSheet.cssText=selector+'{}';rules=style.styleSheet.rules;supported=!!(rules&&rules[0]&&rules[0].selectorText&&typeof rules[0].selectorText==='string'&&rules[0].selectorText.toLowerCase().indexOf('unknown')<0);}else{style.appendChild(document.createTextNode(selector+'{}'));document.body.appendChild(style);supported=!!style.sheet.cssRules.length;}
document.body.removeChild(style);style=null;cache[selector]=supported;}
return supported;};}());;EPSON.defineConstant('SCREEN_MOBILE_PORTRAIT',300);EPSON.defineConstant('SCREEN_MOBILE_LANDSCAPE',480);EPSON.defineConstant('SCREEN_SMALL_TABLET',600);EPSON.defineConstant('SCREEN_TABLET',768);EPSON.defineConstant('SCREEN_DESKTOP',960);EPSON.defineConstant('EVENT_SIZECHANGE','sizechange');(function(){'use strict';var getConstant=EPSON.getConstant,breakPoints=[getConstant('SCREEN_MOBILE_PORTRAIT'),getConstant('SCREEN_MOBILE_LANDSCAPE'),getConstant('SCREEN_SMALL_TABLET'),getConstant('SCREEN_TABLET'),getConstant('SCREEN_DESKTOP')],currentPoint=-1,jQwindow=$(window),onsizechange=getConstant('EVENT_SIZECHANGE'),getWidth=null;function getSizeIndex(width){var i=breakPoints.length;do{i-=1;}while(width<breakPoints[i]&&i>0);return i;}
function createGetWidth(){var innerGetWidth=function(){return window.innerWidth;},html=document.documentElement,winInner=window.innerWidth,htmlClient=html.clientWidth,body=null,div=null;if(typeof winInner!=='number'){innerGetWidth=function(){return html.clientWidth;};}else if(winInner!==htmlClient){body=document.createElement('body');body.id='vpw-test-b';body.style.cssText='overflow:scroll';div=document.createElement('div');div.id='vpw-test-d';div.style.cssText='position:absolute;top:-1000px;';div.innerHTML='<style>@media(width:'+htmlClient+'px){'+'body#'+body.id+' div#'+div.id+'{'+'width:7px!important}}<\/style>';body.appendChild(div);html.insertBefore(body,document.head);if(div.offsetWidth===7){innerGetWidth=function(){return html.clientWidth;};}
html.removeChild(body);}
getWidth=innerGetWidth;EPSON.getWidth=innerGetWidth;}
function checkSize(width){var index=getSizeIndex(width);if(index!==currentPoint){currentPoint=index;EPSON.size=breakPoints[currentPoint];jQwindow.trigger(onsizechange,[breakPoints[currentPoint]]);}}
function handleResize(){if(typeof getWidth!=='function'){createGetWidth();}
checkSize(getWidth());}
jQwindow.on('resize orientationchange',function(){handleResize();});$(function(){handleResize();});EPSON.onsizechange=function(fn){jQwindow.on(onsizechange,fn);};EPSON.offsizechange=function(fn){jQwindow.off(onsizechange,fn);};}(document));;(function(root,factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{if(root.jQuery){factory(root.jQuery);}else{factory(root.Zepto);}}}(this,function($,undefined){$.fn.jPlayer=function(options){var name="jPlayer";var isMethodCall=typeof options==="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.extend.apply(null,[true,options].concat(args)):options;if(isMethodCall&&options.charAt(0)==="_"){return returnValue;}
if(isMethodCall){this.each(function(){var instance=$(this).data(name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue;return false;}});}else{this.each(function(){var instance=$(this).data(name);if(instance){instance.option(options||{});}else{$(this).data(name,new $.jPlayer(options,this));}});}
return returnValue;};$.jPlayer=function(options,element){if(arguments.length){this.element=$(element);this.options=$.extend(true,{},this.options,options);var self=this;this.element.on("remove.jPlayer",function(){self.destroy();});this._init();}};if(typeof $.fn.stop!=='function'){$.fn.stop=function(){};}
$.jPlayer.emulateMethods="load play pause";$.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";$.jPlayer.emulateOptions="muted volume";$.jPlayer.reservedEvent="ready flashreset resize repeat error warning";$.jPlayer.event={};$.each(['ready','flashreset','resize','repeat','click','error','warning','loadstart','progress','suspend','abort','emptied','stalled','play','pause','loadedmetadata','loadeddata','waiting','playing','canplay','canplaythrough','seeking','seeked','timeupdate','ended','ratechange','durationchange','volumechange'],function(){$.jPlayer.event[this]='jPlayer_'+this;});$.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","ratechange"];$.jPlayer.pause=function(){$.each($.jPlayer.prototype.instances,function(i,element){if(element.data("jPlayer").status.srcSet){element.jPlayer("pause");}});};$.jPlayer.timeFormat={showHour:false,showMin:true,showSec:true,padHour:false,padMin:true,padSec:true,sepHour:":",sepMin:":",sepSec:""};var ConvertTime=function(){this.init();};ConvertTime.prototype={init:function(){this.options={timeFormat:$.jPlayer.timeFormat};},time:function(s){s=(s&&typeof s==='number')?s:0;var myTime=new Date(s*1000),hour=myTime.getUTCHours(),min=this.options.timeFormat.showHour?myTime.getUTCMinutes():myTime.getUTCMinutes()+hour*60,sec=this.options.timeFormat.showMin?myTime.getUTCSeconds():myTime.getUTCSeconds()+min*60,strHour=(this.options.timeFormat.padHour&&hour<10)?"0"+hour:hour,strMin=(this.options.timeFormat.padMin&&min<10)?"0"+min:min,strSec=(this.options.timeFormat.padSec&&sec<10)?"0"+sec:sec,strTime="";strTime+=this.options.timeFormat.showHour?strHour+this.options.timeFormat.sepHour:"";strTime+=this.options.timeFormat.showMin?strMin+this.options.timeFormat.sepMin:"";strTime+=this.options.timeFormat.showSec?strSec+this.options.timeFormat.sepSec:"";return strTime;}};var myConvertTime=new ConvertTime();$.jPlayer.convertTime=function(s){return myConvertTime.time(s);};$.jPlayer.uaBrowser=function(userAgent){var ua=userAgent.toLowerCase();var rwebkit=/(webkit)[ \/]([\w.]+)/;var ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/;var rmsie=/(msie) ([\w.]+)/;var rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/;var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};};$.jPlayer.uaPlatform=function(userAgent){var ua=userAgent.toLowerCase();var rplatform=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/;var rtablet=/(ipad|playbook)/;var randroid=/(android)/;var rmobile=/(mobile)/;var platform=rplatform.exec(ua)||[];var tablet=rtablet.exec(ua)||!rmobile.exec(ua)&&randroid.exec(ua)||[];if(platform[1]){platform[1]=platform[1].replace(/\s/g,"_");}
return{platform:platform[1]||"",tablet:tablet[1]||""};};$.jPlayer.browser={};$.jPlayer.platform={};var browserMatch=$.jPlayer.uaBrowser(navigator.userAgent);if(browserMatch.browser){$.jPlayer.browser[browserMatch.browser]=true;$.jPlayer.browser.version=browserMatch.version;}
var platformMatch=$.jPlayer.uaPlatform(navigator.userAgent);if(platformMatch.platform){$.jPlayer.platform[platformMatch.platform]=true;$.jPlayer.platform.mobile=!platformMatch.tablet;$.jPlayer.platform.tablet=!!platformMatch.tablet;}
$.jPlayer.getDocMode=function(){var docMode;if($.jPlayer.browser.msie){if(document.documentMode){docMode=document.documentMode;}else{docMode=5;if(document.compatMode){if(document.compatMode==="CSS1Compat"){docMode=7;}}}}
return docMode;};$.jPlayer.browser.documentMode=$.jPlayer.getDocMode();$.jPlayer.nativeFeatures={init:function(){var d=document,v=d.createElement('video'),spec={w3c:['fullscreenEnabled','fullscreenElement','requestFullscreen','exitFullscreen','fullscreenchange','fullscreenerror'],moz:['mozFullScreenEnabled','mozFullScreenElement','mozRequestFullScreen','mozCancelFullScreen','mozfullscreenchange','mozfullscreenerror'],webkit:['','webkitCurrentFullScreenElement','webkitRequestFullScreen','webkitCancelFullScreen','webkitfullscreenchange',''],webkitVideo:['webkitSupportsFullscreen','webkitDisplayingFullscreen','webkitEnterFullscreen','webkitExitFullscreen','','']},specOrder=['w3c','moz','webkit','webkitVideo'],fs,i,il;this.fullscreen=fs={support:{w3c:!!d[spec.w3c[0]],moz:!!d[spec.moz[0]],webkit:typeof d[spec.webkit[3]]==='function',webkitVideo:typeof v[spec.webkitVideo[2]]==='function'},used:{}};for(i=0,il=specOrder.length;i<il;i++){var n=specOrder[i];if(fs.support[n]){fs.spec=n;fs.used[n]=true;break;}}
if(fs.spec){var s=spec[fs.spec];fs.api={fullscreenEnabled:true,fullscreenElement:function(elem){elem=elem?elem:d;return elem[s[1]];},requestFullscreen:function(elem){return elem[s[2]]();},exitFullscreen:function(elem){elem=elem?elem:d;return elem[s[3]]();}};fs.event={fullscreenchange:s[4],fullscreenerror:s[5]};}else{fs.api={fullscreenEnabled:false,fullscreenElement:function(){return null;},requestFullscreen:function(){},exitFullscreen:function(){}};fs.event={};}}};$.jPlayer.nativeFeatures.init();$.jPlayer.focus=null;$.jPlayer.keyIgnoreElementNames="INPUT TEXTAREA";var keyBindings=function(event){var f=$.jPlayer.focus,ignoreKey;if(f){$.each($.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(i,name){if(event.target.nodeName.toUpperCase()===name.toUpperCase()){ignoreKey=true;return false;}});if(!ignoreKey){$.each(f.options.keyBindings,function(action,binding){if(binding&&event.which===binding.key&&$.isFunction(binding.fn)){event.preventDefault();binding.fn(f);return false;}});}}};$.jPlayer.keys=function(en){var event="keydown.jPlayer";$(document.documentElement).off(event);if(en){$(document.documentElement).on(event,keyBindings);}};$.jPlayer.keys(true);$.jPlayer.prototype={count:0,version:{script:"2.4.0",needFlash:"2.4.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:'metadata',volume:0.8,muted:false,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},smoothPlayBar:false,fullScreen:false,fullWindow:false,autohide:{restored:false,full:true,fadeIn:200,fadeOut:600,hold:1000},loop:false,repeat:function(event){if(event.jPlayer.options.loop){$(this).off(".jPlayerRepeat").on($.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){$(this).jPlayer("play");});}else{$(this).off(".jPlayerRepeat");}},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:false,audioFullScreen:false,keyBindings:{play:{key:32,fn:function(f){if(f.status.paused){f.play();}else{f.pause();}}},fullScreen:{key:13,fn:function(f){if(f.status.video||f.options.audioFullScreen){f._setOption("fullScreen",!f.options.fullScreen);}}},muted:{key:8,fn:function(f){f._muted(!f.options.muted);}},volumeUp:{key:38,fn:function(f){f.volume(f.options.volume+0.1);}},volumeDown:{key:40,fn:function(f){f.volume(f.options.volume-0.1);}}},verticalVolume:false,idPrefix:"jp",noConflict:"jQuery",emulateHtml:false,errorAlerts:false,warningAlerts:false},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:true,format:{},formatType:"",waitForPlay:true,waitForLoad:true,srcSet:false,video:false,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:false},solution:{html:true,flash:true},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:true,media:'audio'},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:true,media:'audio'},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:false,media:'audio'},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:false,media:'audio'},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:false,media:'audio'},fla:{codec:'audio/x-flv',flashCanPlay:true,media:'audio'},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:true,media:'audio'},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:true,media:'video'},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:false,media:'video'},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:false,media:'video'},flv:{codec:'video/x-flv',flashCanPlay:true,media:'video'},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:true,media:'video'}},_init:function(){var self=this;this.element.empty();this.status=$.extend({},this.status);this.internal=$.extend({},this.internal);this.options.timeFormat=$.extend({},$.jPlayer.timeFormat,this.options.timeFormat);this.internal.cmdsIgnored=$.jPlayer.platform.ipad||$.jPlayer.platform.iphone||$.jPlayer.platform.ipod;this.internal.domNode=this.element.get(0);if(this.options.keyEnabled&&!$.jPlayer.focus){$.jPlayer.focus=this;}
this.formats=[];this.solutions=[];this.require={};this.htmlElement={};this.html={};this.html.audio={};this.html.video={};this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);$.each(this.options.supplied.toLowerCase().split(","),function(index1,value1){var format=value1.replace(/^\s+|\s+$/g,"");if(self.format[format]){var dupFound=false;$.each(self.formats,function(index2,value2){if(format===value2){dupFound=true;return false;}});if(!dupFound){self.formats.push(format);}}});$.each(this.options.solution.toLowerCase().split(","),function(index1,value1){var solution=value1.replace(/^\s+|\s+$/g,"");if(self.solution[solution]){var dupFound=false;$.each(self.solutions,function(index2,value2){if(solution===value2){dupFound=true;return false;}});if(!dupFound){self.solutions.push(solution);}}});this.internal.instance="jp_"+this.count;this.instances[this.internal.instance]=this.element;if(!this.element.attr("id")){this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count);}
this.internal.self=$.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=$.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:undefined});this.internal.video=$.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:undefined});this.internal.flash=$.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:undefined,swf:this.options.swfPath+(this.options.swfPath.toLowerCase().slice(-4)!==".swf"?(this.options.swfPath&&this.options.swfPath.slice(-1)!=="/"?"/":"")+"Jplayer.swf":"")});this.internal.poster=$.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:undefined});$.each($.jPlayer.event,function(eventName,eventType){if(self.options[eventName]!==undefined){self.element.on(eventType+".jPlayer",self.options[eventName]);self.options[eventName]=undefined;}});this.require.audio=false;this.require.video=false;$.each(this.formats,function(priority,format){self.require[self.format[format].media]=true;});if(this.require.video){this.options=$.extend(true,{},this.optionsVideo,this.options);}else{this.options=$.extend(true,{},this.optionsAudio,this.options);}
this._setSize();this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this.status.noVolume=this._uaBlocklist(this.options.noVolume);if($.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled){this._fullscreenAddEventListeners();}
this._restrictNativeVideoControls();this.htmlElement.poster=document.createElement('img');this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){if(!self.status.video||self.status.waitForPlay){self.internal.poster.jq.show();}};this.element.append(this.htmlElement.poster);this.internal.poster.jq=$("#"+this.internal.poster.id);this.internal.poster.jq.css({'width':this.status.width,'height':this.status.height});this.internal.poster.jq.hide();this.internal.poster.jq.on("click.jPlayer",function(){self._trigger($.jPlayer.event.click);});this.html.audio.available=false;if(this.require.audio){this.htmlElement.audio=document.createElement('audio');this.htmlElement.audio.id=this.internal.audio.id;this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio);}
this.html.video.available=false;if(this.require.video){this.htmlElement.video=document.createElement('video');this.htmlElement.video.id=this.internal.video.id;this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video);}
this.flash.available=this._checkForFlash(10.1);this.html.canPlay={};this.flash.canPlay={};$.each(this.formats,function(priority,format){self.html.canPlay[format]=self.html[self.format[format].media].available&&""!==self.htmlElement[self.format[format].media].canPlayType(self.format[format].codec);self.flash.canPlay[format]=self.format[format].flashCanPlay&&self.flash.available;});this.html.desired=false;this.flash.desired=false;$.each(this.solutions,function(solutionPriority,solution){if(solutionPriority===0){self[solution].desired=true;}else{var audioCanPlay=false;var videoCanPlay=false;$.each(self.formats,function(formatPriority,format){if(self[self.solutions[0]].canPlay[format]){if(self.format[format].media==='video'){videoCanPlay=true;}else{audioCanPlay=true;}}});self[solution].desired=(self.require.audio&&!audioCanPlay)||(self.require.video&&!videoCanPlay);}});this.html.support={};this.flash.support={};$.each(this.formats,function(priority,format){self.html.support[format]=self.html.canPlay[format]&&self.html.desired;self.flash.support[format]=self.flash.canPlay[format]&&self.flash.desired;});this.html.used=false;this.flash.used=false;$.each(this.solutions,function(solutionPriority,solution){$.each(self.formats,function(formatPriority,format){if(self[solution].support[format]){self[solution].used=true;return false;}});});this._resetActive();this._resetGate();this._cssSelectorAncestor(this.options.cssSelectorAncestor);if(!(this.html.used||this.flash.used)){this._error({type:$.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:$.jPlayer.errorMsg.NO_SOLUTION,hint:$.jPlayer.errorHint.NO_SOLUTION});if(this.css.jq.noSolution.length){this.css.jq.noSolution.show();}}else{if(this.css.jq.noSolution.length){this.css.jq.noSolution.hide();}}
if(this.flash.used){var htmlObj,flashVars='jQuery='+encodeURI(this.options.noConflict)+'&id='+encodeURI(this.internal.self.id)+'&vol='+this.options.volume+'&muted='+this.options.muted;if($.jPlayer.browser.msie&&(Number($.jPlayer.browser.version)<9||$.jPlayer.browser.documentMode<9)){var objStr='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>';var paramStr=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+flashVars+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];htmlObj=document.createElement(objStr);for(var i=0;i<paramStr.length;i++){htmlObj.appendChild(document.createElement(paramStr[i]));}}else{var createParam=function(el,n,v){var p=document.createElement("param");p.setAttribute("name",n);p.setAttribute("value",v);el.appendChild(p);};htmlObj=document.createElement("object");htmlObj.setAttribute("id",this.internal.flash.id);htmlObj.setAttribute("name",this.internal.flash.id);htmlObj.setAttribute("data",this.internal.flash.swf);htmlObj.setAttribute("type","application/x-shockwave-flash");htmlObj.setAttribute("width","1");htmlObj.setAttribute("height","1");htmlObj.setAttribute("tabindex","-1");createParam(htmlObj,"flashvars",flashVars);createParam(htmlObj,"allowscriptaccess","always");createParam(htmlObj,"bgcolor",this.options.backgroundColor);createParam(htmlObj,"wmode",this.options.wmode);}
this.element.append(htmlObj);this.internal.flash.jq=$(htmlObj);}
if(this.html.used){if(this.html.audio.available){this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio);this.element.append(this.htmlElement.audio);this.internal.audio.jq=$("#"+this.internal.audio.id);}
if(this.html.video.available){this._addHtmlEventListeners(this.htmlElement.video,this.html.video);this.element.append(this.htmlElement.video);this.internal.video.jq=$("#"+this.internal.video.id);if(this.status.nativeVideoControls){this.internal.video.jq.css({'width':this.status.width,'height':this.status.height});}else{this.internal.video.jq.css({'width':'0px','height':'0px'});}
this.internal.video.jq.on("click.jPlayer",function(){self._trigger($.jPlayer.event.click);});}}
if(this.options.emulateHtml){this._emulateHtmlBridge();}
if(this.html.used&&!this.flash.used){setTimeout(function(){self.internal.ready=true;self.version.flash="n/a";self._trigger($.jPlayer.event.repeat);self._trigger($.jPlayer.event.ready);},100);}
this._updateNativeVideoControls();if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide();}
$.jPlayer.prototype.count++;},destroy:function(){this.clearMedia();this._removeUiClass();if(this.css.jq.currentTime.length){this.css.jq.currentTime.text("");}
if(this.css.jq.duration.length){this.css.jq.duration.text("");}
$.each(this.css.jq,function(fn,jq){if(jq.length){jq.off(".jPlayer");}});this.internal.poster.jq.off(".jPlayer");if(this.internal.video.jq){this.internal.video.jq.off(".jPlayer");}
this._fullscreenRemoveEventListeners();if(this===$.jPlayer.focus){$.jPlayer.focus=null;}
if(this.options.emulateHtml){this._destroyHtmlBridge();}
this.element.removeData("jPlayer");this.element.off(".jPlayer");this.element.empty();delete this.instances[this.internal.instance];},enable:function(){},disable:function(){},_testCanPlayType:function(elem){try{elem.canPlayType(this.format.mp3.codec);return true;}catch(err){return false;}},_uaBlocklist:function(list){var ua=navigator.userAgent.toLowerCase(),block=false;$.each(list,function(p,re){if(re&&re.test(ua)){block=true;return false;}});return block;},_restrictNativeVideoControls:function(){if(this.require.audio){if(this.status.nativeVideoControls){this.status.nativeVideoControls=false;this.status.noFullWindow=true;}}},_updateNativeVideoControls:function(){if(this.html.video.available&&this.html.used){this.htmlElement.video.controls=this.status.nativeVideoControls;this._updateAutohide();if(this.status.nativeVideoControls&&this.require.video){this.internal.poster.jq.hide();this.internal.video.jq.css({'width':this.status.width,'height':this.status.height});}else if(this.status.waitForPlay&&this.status.video){this.internal.poster.jq.show();this.internal.video.jq.css({'width':'0px','height':'0px'});}}},_addHtmlEventListeners:function(mediaElement,entity){var self=this;mediaElement.preload=this.options.preload;mediaElement.muted=this.options.muted;mediaElement.volume=this.options.volume;mediaElement.addEventListener("progress",function(){if(entity.gate){if(self.internal.cmdsIgnored&&this.readyState>0){self.internal.cmdsIgnored=false;}
self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayer.event.progress);}},false);mediaElement.addEventListener("timeupdate",function(){if(entity.gate){self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayer.event.timeupdate);}},false);mediaElement.addEventListener("durationchange",function(){if(entity.gate){self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayer.event.durationchange);}},false);mediaElement.addEventListener("play",function(){if(entity.gate){self._updateButtons(true);self._html_checkWaitForPlay();self._trigger($.jPlayer.event.play);}},false);mediaElement.addEventListener("playing",function(){if(entity.gate){self._updateButtons(true);self._seeked();self._trigger($.jPlayer.event.playing);}},false);mediaElement.addEventListener("pause",function(){if(entity.gate){self._updateButtons(false);self._trigger($.jPlayer.event.pause);}},false);mediaElement.addEventListener("waiting",function(){if(entity.gate){self._seeking();self._trigger($.jPlayer.event.waiting);}},false);mediaElement.addEventListener("seeking",function(){if(entity.gate){self._seeking();self._trigger($.jPlayer.event.seeking);}},false);mediaElement.addEventListener("seeked",function(){if(entity.gate){self._seeked();self._trigger($.jPlayer.event.seeked);}},false);mediaElement.addEventListener("volumechange",function(){if(entity.gate){self.options.volume=mediaElement.volume;self.options.muted=mediaElement.muted;self._updateMute();self._updateVolume();self._trigger($.jPlayer.event.volumechange);}},false);mediaElement.addEventListener("suspend",function(){if(entity.gate){self._seeked();self._trigger($.jPlayer.event.suspend);}},false);mediaElement.addEventListener("ended",function(){if(entity.gate){if(!$.jPlayer.browser.webkit){self.htmlElement.media.currentTime=0;}
self.htmlElement.media.pause();self._updateButtons(false);self._getHtmlStatus(mediaElement,true);self._updateInterface();self._trigger($.jPlayer.event.ended);}},false);mediaElement.addEventListener("error",function(){if(entity.gate){self._updateButtons(false);self._seeked();if(self.status.srcSet){clearTimeout(self.internal.htmlDlyCmdId);self.status.waitForLoad=true;self.status.waitForPlay=true;if(self.status.video&&!self.status.nativeVideoControls){self.internal.video.jq.css({'width':'0px','height':'0px'});}
if(self._validString(self.status.media.poster)&&!self.status.nativeVideoControls){self.internal.poster.jq.show();}
if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.show();}
self._error({type:$.jPlayer.error.URL,context:self.status.src,message:$.jPlayer.errorMsg.URL,hint:$.jPlayer.errorHint.URL});}}},false);$.each($.jPlayer.htmlEvent,function(i,eventType){mediaElement.addEventListener(this,function(){if(entity.gate){self._trigger($.jPlayer.event[eventType]);}},false);});},_getHtmlStatus:function(media,override){var ct=0,cpa=0,sp=0,cpr=0;if(isFinite(media.duration)){this.status.duration=media.duration;}
ct=media.currentTime;cpa=(this.status.duration>0)?100*ct/this.status.duration:0;if((typeof media.seekable==="object")&&(media.seekable.length>0)){sp=(this.status.duration>0)?100*media.seekable.end(media.seekable.length-1)/this.status.duration:100;cpr=(this.status.duration>0)?100*media.currentTime/media.seekable.end(media.seekable.length-1):0;}else{sp=100;cpr=cpa;}
if(override){ct=0;cpr=0;cpa=0;}
this.status.seekPercent=sp;this.status.currentPercentRelative=cpr;this.status.currentPercentAbsolute=cpa;this.status.currentTime=ct;this.status.videoWidth=media.videoWidth;this.status.videoHeight=media.videoHeight;this.status.readyState=media.readyState;this.status.networkState=media.networkState;this.status.playbackRate=media.playbackRate;this.status.ended=media.ended;},_resetStatus:function(){this.status=$.extend({},this.status,$.jPlayer.prototype.status);},_trigger:function(eventType,error,warning){var event=$.Event(eventType);event.jPlayer={};event.jPlayer.version=$.extend({},this.version);event.jPlayer.options=$.extend(true,{},this.options);event.jPlayer.status=$.extend(true,{},this.status);event.jPlayer.html=$.extend(true,{},this.html);event.jPlayer.flash=$.extend(true,{},this.flash);if(error){event.jPlayer.error=$.extend({},error);}
if(warning){event.jPlayer.warning=$.extend({},warning);}
this.element.trigger(event);},jPlayerFlashEvent:function(eventType,status){if(eventType===$.jPlayer.event.ready){if(!this.internal.ready){this.internal.ready=true;this.internal.flash.jq.css({'width':'0px','height':'0px'});this.version.flash=status.version;if(this.version.needFlash!==this.version.flash){this._error({type:$.jPlayer.error.VERSION,context:this.version.flash,message:$.jPlayer.errorMsg.VERSION+this.version.flash,hint:$.jPlayer.errorHint.VERSION});}
this._trigger($.jPlayer.event.repeat);this._trigger(eventType);}else{if(this.flash.gate){if(this.status.srcSet){var currentTime=this.status.currentTime,paused=this.status.paused;this.setMedia(this.status.media);if(currentTime>0){if(paused){this.pause(currentTime);}else{this.play(currentTime);}}}
this._trigger($.jPlayer.event.flashreset);}}}
if(this.flash.gate){switch(eventType){case $.jPlayer.event.progress:this._getFlashStatus(status);this._updateInterface();this._trigger(eventType);break;case $.jPlayer.event.timeupdate:this._getFlashStatus(status);this._updateInterface();this._trigger(eventType);break;case $.jPlayer.event.play:this._seeked();this._updateButtons(true);this._trigger(eventType);break;case $.jPlayer.event.pause:this._updateButtons(false);this._trigger(eventType);break;case $.jPlayer.event.ended:this._updateButtons(false);this._trigger(eventType);break;case $.jPlayer.event.click:this._trigger(eventType);break;case $.jPlayer.event.error:this.status.waitForLoad=true;this.status.waitForPlay=true;if(this.status.video){this.internal.flash.jq.css({'width':'0px','height':'0px'});}
if(this._validString(this.status.media.poster)){this.internal.poster.jq.show();}
if(this.css.jq.videoPlay.length&&this.status.video){this.css.jq.videoPlay.show();}
if(this.status.video){this._flash_setVideo(this.status.media);}else{this._flash_setAudio(this.status.media);}
this._updateButtons(false);this._error({type:$.jPlayer.error.URL,context:status.src,message:$.jPlayer.errorMsg.URL,hint:$.jPlayer.errorHint.URL});break;case $.jPlayer.event.seeking:this._seeking();this._trigger(eventType);break;case $.jPlayer.event.seeked:this._seeked();this._trigger(eventType);break;case $.jPlayer.event.ready:break;default:this._trigger(eventType);}}
return false;},_getFlashStatus:function(status){this.status.seekPercent=status.seekPercent;this.status.currentPercentRelative=status.currentPercentRelative;this.status.currentPercentAbsolute=status.currentPercentAbsolute;this.status.currentTime=status.currentTime;this.status.duration=status.duration;this.status.videoWidth=status.videoWidth;this.status.videoHeight=status.videoHeight;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=false;},_updateButtons:function(playing){if(playing===undefined){playing=!this.status.paused;}else{this.status.paused=!playing;}
if(this.css.jq.play.length&&this.css.jq.pause.length){if(playing){this.css.jq.play.hide();this.css.jq.pause.show();}else{this.css.jq.play.show();this.css.jq.pause.hide();}}
if(this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length){if(this.status.noFullWindow){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.hide();}else if(this.options.fullWindow){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.show();}else{this.css.jq.fullScreen.show();this.css.jq.restoreScreen.hide();}}
if(this.css.jq.repeat.length&&this.css.jq.repeatOff.length){if(this.options.loop){this.css.jq.repeat.hide();this.css.jq.repeatOff.show();}else{this.css.jq.repeat.show();this.css.jq.repeatOff.hide();}}},_updateInterface:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.width(this.status.seekPercent+"%");}
if(this.css.jq.playBar.length){if(this.options.smoothPlayBar){this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear");}else{this.css.jq.playBar.width(this.status.currentPercentRelative+"%");}}
if(this.css.jq.currentTime.length){this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));}
if(this.css.jq.duration.length){this.css.jq.duration.text(this._convertTime(this.status.duration));}},_convertTime:ConvertTime.prototype.time,_seeking:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.addClass("jp-seeking-bg");}},_seeked:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.removeClass("jp-seeking-bg");}},_resetGate:function(){this.html.audio.gate=false;this.html.video.gate=false;this.flash.gate=false;},_resetActive:function(){this.html.active=false;this.flash.active=false;},setMedia:function(media){var self=this,supported=false,posterChanged=this.status.media.poster!==media.poster;this._resetMedia();this._resetGate();this._resetActive();$.each(this.formats,function(formatPriority,format){var isVideo=self.format[format].media==='video';$.each(self.solutions,function(solutionPriority,solution){if(self[solution].support[format]&&self._validString(media[format])){var isHtml=solution==='html';if(isVideo){if(isHtml){self.html.video.gate=true;self._html_setVideo(media);self.html.active=true;}else{self.flash.gate=true;self._flash_setVideo(media);self.flash.active=true;}
if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.show();}
self.status.video=true;}else{if(isHtml){self.html.audio.gate=true;self._html_setAudio(media);self.html.active=true;}else{self.flash.gate=true;self._flash_setAudio(media);self.flash.active=true;}
if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.hide();}
self.status.video=false;}
supported=true;return false;}});if(supported){return false;}});if(supported){if(!(this.status.nativeVideoControls&&this.html.video.gate)){if(this._validString(media.poster)){if(posterChanged){this.htmlElement.poster.src=media.poster;}else{this.internal.poster.jq.show();}}}
this.status.srcSet=true;this.status.media=$.extend({},media);this._updateButtons(false);this._updateInterface();}else{this._error({type:$.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:$.jPlayer.errorMsg.NO_SUPPORT,hint:$.jPlayer.errorHint.NO_SUPPORT});}},_resetMedia:function(){this._resetStatus();this._updateButtons(false);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);if(this.html.active){this._html_resetMedia();}else if(this.flash.active){this._flash_resetMedia();}},clearMedia:function(){this._resetMedia();if(this.html.active){this._html_clearMedia();}else if(this.flash.active){this._flash_clearMedia();}
this._resetGate();this._resetActive();},load:function(){if(this.status.srcSet){if(this.html.active){this._html_load();}else if(this.flash.active){this._flash_load();}}else{this._urlNotSetError("load");}},focus:function(){if(this.options.keyEnabled){$.jPlayer.focus=this;}},play:function(time){time=(typeof time==="number")?time:NaN;if(this.status.srcSet){this.focus();if(this.html.active){this._html_play(time);}else if(this.flash.active){this._flash_play(time);}}else{this._urlNotSetError("play");}},videoPlay:function(){this.play();},pause:function(time){time=(typeof time==="number")?time:NaN;if(this.status.srcSet){if(this.html.active){this._html_pause(time);}else if(this.flash.active){this._flash_pause(time);}}else{this._urlNotSetError("pause");}},pauseOthers:function(){var self=this;$.each(this.instances,function(i,element){if(self.element!==element){if(element.data("jPlayer").status.srcSet){element.jPlayer("pause");}}});},stop:function(){if(this.status.srcSet){if(this.html.active){this._html_pause(0);}else if(this.flash.active){this._flash_pause(0);}}else{this._urlNotSetError("stop");}},playHead:function(p){p=this._limitValue(p,0,100);if(this.status.srcSet){if(this.html.active){this._html_playHead(p);}else if(this.flash.active){this._flash_playHead(p);}}else{this._urlNotSetError("playHead");}},_muted:function(muted){this.options.muted=muted;if(this.html.used){this._html_mute(muted);}
if(this.flash.used){this._flash_mute(muted);}
if(!this.html.video.gate&&!this.html.audio.gate){this._updateMute(muted);this._updateVolume(this.options.volume);this._trigger($.jPlayer.event.volumechange);}},mute:function(mute){mute=mute===undefined?true:!!mute;this._muted(mute);},unmute:function(unmute){unmute=unmute===undefined?true:!!unmute;this._muted(!unmute);},_updateMute:function(mute){if(mute===undefined){mute=this.options.muted;}
if(this.css.jq.mute.length&&this.css.jq.unmute.length){if(this.status.noVolume){this.css.jq.mute.hide();this.css.jq.unmute.hide();}else if(mute){this.css.jq.mute.hide();this.css.jq.unmute.show();}else{this.css.jq.mute.show();this.css.jq.unmute.hide();}}},volume:function(v){v=this._limitValue(v,0,1);this.options.volume=v;if(this.html.used){this._html_volume(v);}
if(this.flash.used){this._flash_volume(v);}
if(!this.html.video.gate&&!this.html.audio.gate){this._updateVolume(v);this._trigger($.jPlayer.event.volumechange);}},volumeBar:function(e){if(this.css.jq.volumeBar.length){var $bar=$(e.currentTarget),offset=$bar.offset(),x=e.pageX-offset.left,w=$bar.width(),y=$bar.height()-e.pageY+offset.top,h=$bar.height();if(this.options.verticalVolume){this.volume(y/h);}else{this.volume(x/w);}}
if(this.options.muted){this._muted(false);}},volumeBarValue:function(){},_updateVolume:function(v){if(v===undefined){v=this.options.volume;}
v=this.options.muted?0:v;if(this.status.noVolume){if(this.css.jq.volumeBar.length){this.css.jq.volumeBar.hide();}
if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.hide();}
if(this.css.jq.volumeMax.length){this.css.jq.volumeMax.hide();}}else{if(this.css.jq.volumeBar.length){this.css.jq.volumeBar.show();}
if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.show();this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"]((v*100)+"%");}
if(this.css.jq.volumeMax.length){this.css.jq.volumeMax.show();}}},volumeMax:function(){this.volume(1);if(this.options.muted){this._muted(false);}},_cssSelectorAncestor:function(ancestor){var self=this;this.options.cssSelectorAncestor=ancestor;this._removeUiClass();this.ancestorJq=ancestor?$(ancestor):[];if(ancestor&&this.ancestorJq.length!==1){this._warning({type:$.jPlayer.warning.CSS_SELECTOR_COUNT,context:ancestor,message:$.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:$.jPlayer.warningHint.CSS_SELECTOR_COUNT});}
this._addUiClass();$.each(this.options.cssSelector,function(fn,cssSel){self._cssSelector(fn,cssSel);});this._updateInterface();this._updateButtons();this._updateAutohide();this._updateVolume();this._updateMute();},_cssSelector:function(fn,cssSel){var self=this;if(typeof cssSel==='string'){if($.jPlayer.prototype.options.cssSelector[fn]){if(this.css.jq[fn]&&this.css.jq[fn].length){this.css.jq[fn].off(".jPlayer");}
this.options.cssSelector[fn]=cssSel;this.css.cs[fn]=this.options.cssSelectorAncestor+" "+cssSel;if(cssSel){this.css.jq[fn]=$(this.css.cs[fn]);}else{this.css.jq[fn]=[];}
if(this.css.jq[fn].length){var handler=function(e){e.preventDefault();self[fn](e);$(this).blur();};this.css.jq[fn].on("click.jPlayer",handler);}
if(cssSel&&this.css.jq[fn].length!==1){this._warning({type:$.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[fn],message:$.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[fn].length+" found for "+fn+" method.",hint:$.jPlayer.warningHint.CSS_SELECTOR_COUNT});}}else{this._warning({type:$.jPlayer.warning.CSS_SELECTOR_METHOD,context:fn,message:$.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:$.jPlayer.warningHint.CSS_SELECTOR_METHOD});}}else{this._warning({type:$.jPlayer.warning.CSS_SELECTOR_STRING,context:cssSel,message:$.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:$.jPlayer.warningHint.CSS_SELECTOR_STRING});}},seekBar:function(e){if(this.css.jq.seekBar.length){var $bar=$(e.currentTarget),offset=$bar.offset(),x=e.pageX-offset.left,w=$bar.width(),p=100*x/w;this.playHead(p);}},playBar:function(){},repeat:function(){this._loop(true);},repeatOff:function(){this._loop(false);},_loop:function(loop){if(this.options.loop!==loop){this.options.loop=loop;this._updateButtons();this._trigger($.jPlayer.event.repeat);}},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(key,value){var options=key;if(arguments.length===0){return $.extend(true,{},this.options);}
if(typeof key==="string"){var keys=key.split(".");if(value===undefined){var opt=$.extend(true,{},this.options);for(var i=0;i<keys.length;i++){if(opt[keys[i]]!==undefined){opt=opt[keys[i]];}else{this._warning({type:$.jPlayer.warning.OPTION_KEY,context:key,message:$.jPlayer.warningMsg.OPTION_KEY,hint:$.jPlayer.warningHint.OPTION_KEY});return undefined;}}
return opt;}
options={};var opts=options;for(var j=0;j<keys.length;j++){if(j<keys.length-1){opts[keys[j]]={};opts=opts[keys[j]];}else{opts[keys[j]]=value;}}}
this._setOptions(options);return this;},_setOptions:function(options){var self=this;$.each(options,function(key,value){self._setOption(key,value);});return this;},_setOption:function(key,value){var self=this;switch(key){case"volume":this.volume(value);break;case"muted":this._muted(value);break;case"cssSelectorAncestor":this._cssSelectorAncestor(value);break;case"cssSelector":$.each(value,function(fn,cssSel){self._cssSelector(fn,cssSel);});break;case"fullScreen":if(this.options[key]!==value){var wkv=$.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;if(!wkv||wkv&&!this.status.waitForPlay){if(!wkv){this.options[key]=value;}
if(value){this._requestFullscreen();}else{this._exitFullscreen();}
if(!wkv){this._setOption("fullWindow",value);}}}
break;case"fullWindow":if(this.options[key]!==value){this._removeUiClass();this.options[key]=value;this._refreshSize();}
break;case"size":if(!this.options.fullWindow&&this.options[key].cssClass!==value.cssClass){this._removeUiClass();}
this.options[key]=$.extend({},this.options[key],value);this._refreshSize();break;case"sizeFull":if(this.options.fullWindow&&this.options[key].cssClass!==value.cssClass){this._removeUiClass();}
this.options[key]=$.extend({},this.options[key],value);this._refreshSize();break;case"autohide":this.options[key]=$.extend({},this.options[key],value);this._updateAutohide();break;case"loop":this._loop(value);break;case"nativeVideoControls":this.options[key]=$.extend({},this.options[key],value);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case"noFullWindow":this.options[key]=$.extend({},this.options[key],value);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this._restrictNativeVideoControls();this._updateButtons();break;case"noVolume":this.options[key]=$.extend({},this.options[key],value);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case"emulateHtml":if(this.options[key]!==value){this.options[key]=value;if(value){this._emulateHtmlBridge();}else{this._destroyHtmlBridge();}}
break;case"timeFormat":this.options[key]=$.extend({},this.options[key],value);break;case"keyEnabled":this.options[key]=value;if(!value&&this===$.jPlayer.focus){$.jPlayer.focus=null;}
break;case"keyBindings":this.options[key]=$.extend(true,{},this.options[key],value);break;case"audioFullScreen":this.options[key]=value;break;}
return this;},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger($.jPlayer.event.resize);},_setSize:function(){if(this.options.fullWindow){this.status.width=this.options.sizeFull.width;this.status.height=this.options.sizeFull.height;this.status.cssClass=this.options.sizeFull.cssClass;}else{this.status.width=this.options.size.width;this.status.height=this.options.size.height;this.status.cssClass=this.options.size.cssClass;}
this.element.css({'width':this.status.width,'height':this.status.height});},_addUiClass:function(){if(this.ancestorJq.length){this.ancestorJq.addClass(this.status.cssClass);}},_removeUiClass:function(){if(this.ancestorJq.length){this.ancestorJq.removeClass(this.status.cssClass);}},_updateSize:function(){this.internal.poster.jq.css({'width':this.status.width,'height':this.status.height});if(!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls){this.internal.video.jq.css({'width':this.status.width,'height':this.status.height});}
else if(!this.status.waitForPlay&&this.flash.active&&this.status.video){this.internal.flash.jq.css({'width':this.status.width,'height':this.status.height});}},_updateAutohide:function(){var self=this,event="mousemove.jPlayer",namespace=".jPlayerAutohide",eventType=event+namespace,handler=function(){self.css.jq.gui.fadeIn(self.options.autohide.fadeIn,function(){clearTimeout(self.internal.autohideId);self.internal.autohideId=setTimeout(function(){self.css.jq.gui.fadeOut(self.options.autohide.fadeOut);},self.options.autohide.hold);});};if(this.css.jq.gui.length){this.css.jq.gui.stop(true,true);clearTimeout(this.internal.autohideId);this.element.off(namespace);this.css.jq.gui.off(namespace);if(!this.status.nativeVideoControls){if(this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored){this.element.on(eventType,handler);this.css.jq.gui.on(eventType,handler);this.css.jq.gui.hide();}else{this.css.jq.gui.show();}}else{this.css.jq.gui.hide();}}},fullScreen:function(){this._setOption("fullScreen",true);},restoreScreen:function(){this._setOption("fullScreen",false);},_fullscreenAddEventListeners:function(){var self=this,fs=$.jPlayer.nativeFeatures.fullscreen;if(fs.api.fullscreenEnabled){if(fs.event.fullscreenchange){if(typeof this.internal.fullscreenchangeHandler!=='function'){this.internal.fullscreenchangeHandler=function(){self._fullscreenchange();};}
document.addEventListener(fs.event.fullscreenchange,this.internal.fullscreenchangeHandler,false);}}},_fullscreenRemoveEventListeners:function(){var fs=$.jPlayer.nativeFeatures.fullscreen;if(this.internal.fullscreenchangeHandler){document.addEventListener(fs.event.fullscreenchange,this.internal.fullscreenchangeHandler,false);}},_fullscreenchange:function(){if(this.options.fullScreen&&!$.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()){this._setOption("fullScreen",false);}},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],fs=$.jPlayer.nativeFeatures.fullscreen;if(fs.used.webkitVideo){e=this.htmlElement.video;}
if(fs.api.fullscreenEnabled){fs.api.requestFullscreen(e);}},_exitFullscreen:function(){var fs=$.jPlayer.nativeFeatures.fullscreen,e;if(fs.used.webkitVideo){e=this.htmlElement.video;}
if(fs.api.fullscreenEnabled){fs.api.exitFullscreen(e);}},_html_initMedia:function(media){var $media=$(this.htmlElement.media).empty();$.each(media.track||[],function(i,v){var track=document.createElement('track');track.setAttribute("kind",v.kind?v.kind:"");track.setAttribute("src",v.src?v.src:"");track.setAttribute("srclang",v.srclang?v.srclang:"");track.setAttribute("label",v.label?v.label:"");if(v.def){track.setAttribute("default",v.def);}
$media.append(track);});this.htmlElement.media.src=this.status.src;if(this.options.preload!=='none'){this._html_load();}
this._trigger($.jPlayer.event.timeupdate);},_html_setFormat:function(media){var self=this;$.each(this.formats,function(priority,format){if(self.html.support[format]&&media[format]){self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false;}});},_html_setAudio:function(media){this._html_setFormat(media);this.htmlElement.media=this.htmlElement.audio;this._html_initMedia(media);},_html_setVideo:function(media){this._html_setFormat(media);if(this.status.nativeVideoControls){this.htmlElement.video.poster=this._validString(media.poster)?media.poster:"";}
this.htmlElement.media=this.htmlElement.video;this._html_initMedia(media);},_html_resetMedia:function(){if(this.htmlElement.media){if(this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls){this.internal.video.jq.css({'width':'0px','height':'0px'});}
this.htmlElement.media.pause();}},_html_clearMedia:function(){if(this.htmlElement.media){this.htmlElement.media.src="about:blank";this.htmlElement.media.load();}},_html_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=false;this.htmlElement.media.load();}
clearTimeout(this.internal.htmlDlyCmdId);},_html_play:function(time){var self=this,media=this.htmlElement.media;this._html_load();if(!isNaN(time)){if(this.internal.cmdsIgnored){media.play();}
try{if(!media.seekable||typeof media.seekable==="object"&&media.seekable.length>0){media.currentTime=time;media.play();}else{throw 1;}}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.play(time);},250);return;}}else{media.play();}
this._html_checkWaitForPlay();},_html_pause:function(time){var self=this,media=this.htmlElement.media;if(time>0){this._html_load();}else{clearTimeout(this.internal.htmlDlyCmdId);}
media.pause();if(!isNaN(time)){try{if(!media.seekable||typeof media.seekable==="object"&&media.seekable.length>0){media.currentTime=time;}else{throw 1;}}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.pause(time);},250);return;}}
if(time>0){this._html_checkWaitForPlay();}},_html_playHead:function(percent){var self=this,media=this.htmlElement.media;this._html_load();try{if(typeof media.seekable==="object"&&media.seekable.length>0){media.currentTime=percent*media.seekable.end(media.seekable.length-1)/100;}else if(media.duration>0&&!isNaN(media.duration)){media.currentTime=percent*media.duration/100;}else{throw"e";}}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.playHead(percent);},250);return;}
if(!this.status.waitForLoad){this._html_checkWaitForPlay();}},_html_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide();}
if(this.status.video){this.internal.poster.jq.hide();this.internal.video.jq.css({'width':this.status.width,'height':this.status.height});}}},_html_volume:function(v){if(this.html.audio.available){this.htmlElement.audio.volume=v;}
if(this.html.video.available){this.htmlElement.video.volume=v;}},_html_mute:function(m){if(this.html.audio.available){this.htmlElement.audio.muted=m;}
if(this.html.video.available){this.htmlElement.video.muted=m;}},_flash_setAudio:function(media){var self=this;try{$.each(this.formats,function(priority,format){if(self.flash.support[format]&&media[format]){switch(format){case"m4a":case"fla":self._getMovie().fl_setAudio_m4a(media[format]);break;case"mp3":self._getMovie().fl_setAudio_mp3(media[format]);break;case"rtmpa":self._getMovie().fl_setAudio_rtmp(media[format]);break;}
self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false;}});if(this.options.preload==='auto'){this._flash_load();this.status.waitForLoad=false;}}catch(err){this._flashError(err);}},_flash_setVideo:function(media){var self=this;try{$.each(this.formats,function(priority,format){if(self.flash.support[format]&&media[format]){switch(format){case"m4v":case"flv":self._getMovie().fl_setVideo_m4v(media[format]);break;case"rtmpv":self._getMovie().fl_setVideo_rtmp(media[format]);break;}
self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false;}});if(this.options.preload==='auto'){this._flash_load();this.status.waitForLoad=false;}}catch(err){this._flashError(err);}},_flash_resetMedia:function(){this.internal.flash.jq.css({'width':'0px','height':'0px'});this._flash_pause(NaN);},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia();}catch(err){this._flashError(err);}},_flash_load:function(){try{this._getMovie().fl_load();}catch(err){this._flashError(err);}
this.status.waitForLoad=false;},_flash_play:function(time){try{this._getMovie().fl_play(time);}catch(err){this._flashError(err);}
this.status.waitForLoad=false;this._flash_checkWaitForPlay();},_flash_pause:function(time){try{this._getMovie().fl_pause(time);}catch(err){this._flashError(err);}
if(time>0){this.status.waitForLoad=false;this._flash_checkWaitForPlay();}},_flash_playHead:function(p){try{this._getMovie().fl_play_head(p);}catch(err){this._flashError(err);}
if(!this.status.waitForLoad){this._flash_checkWaitForPlay();}},_flash_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide();}
if(this.status.video){this.internal.poster.jq.hide();this.internal.flash.jq.css({'width':this.status.width,'height':this.status.height});}}},_flash_volume:function(v){try{this._getMovie().fl_volume(v);}catch(err){this._flashError(err);}},_flash_mute:function(m){try{this._getMovie().fl_mute(m);}catch(err){this._flashError(err);}},_getMovie:function(){return document[this.internal.flash.id];},_getFlashPluginVersion:function(){var version=0,flash;if(window.ActiveXObject){try{flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(flash){var v=flash.GetVariable("$version");if(v){v=v.split(" ")[1].split(",");version=parseInt(v[0],10)+"."+parseInt(v[1],10);}}}catch(e){}}
else if(navigator.plugins&&navigator.mimeTypes.length>0){flash=navigator.plugins["Shockwave Flash"];if(flash){version=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");}}
return version*1;},_checkForFlash:function(version){var flashOk=false;if(this._getFlashPluginVersion()>=version){flashOk=true;}
return flashOk;},_validString:function(url){return(url&&typeof url==="string");},_limitValue:function(value,min,max){return(value<min)?min:((value>max)?max:value);},_urlNotSetError:function(context){this._error({type:$.jPlayer.error.URL_NOT_SET,context:context,message:$.jPlayer.errorMsg.URL_NOT_SET,hint:$.jPlayer.errorHint.URL_NOT_SET});},_flashError:function(error){var errorType;if(!this.internal.ready){errorType="FLASH";}else{errorType="FLASH_DISABLED";}
this._error({type:$.jPlayer.error[errorType],context:this.internal.flash.swf,message:$.jPlayer.errorMsg[errorType]+error.message,hint:$.jPlayer.errorHint[errorType]});this.internal.flash.jq.css({'width':'1px','height':'1px'});},_error:function(error){this._trigger($.jPlayer.event.error,error);if(this.options.errorAlerts){this._alert("Error!"+(error.message?"\n\n"+error.message:"")+(error.hint?"\n\n"+error.hint:"")+"\n\nContext: "+error.context);}},_warning:function(warning){this._trigger($.jPlayer.event.warning,undefined,warning);if(this.options.warningAlerts){this._alert("Warning!"+(warning.message?"\n\n"+warning.message:"")+(warning.hint?"\n\n"+warning.hint:"")+"\n\nContext: "+warning.context);}},_alert:function(message){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+message);},_emulateHtmlBridge:function(){var self=this;$.each($.jPlayer.emulateMethods.split(/\s+/g),function(i,name){self.internal.domNode[name]=function(arg){self[name](arg);};});$.each($.jPlayer.event,function(eventName,eventType){var nativeEvent=true;$.each($.jPlayer.reservedEvent.split(/\s+/g),function(i,name){if(name===eventName){nativeEvent=false;return false;}});if(nativeEvent){self.element.on(eventType+".jPlayer.jPlayerHtml",function(){self._emulateHtmlUpdate();var domEvent=document.createEvent("Event");domEvent.initEvent(eventName,false,true);self.internal.domNode.dispatchEvent(domEvent);});}});},_emulateHtmlUpdate:function(){var self=this;$.each($.jPlayer.emulateStatus.split(/\s+/g),function(i,name){self.internal.domNode[name]=self.status[name];});$.each($.jPlayer.emulateOptions.split(/\s+/g),function(i,name){self.internal.domNode[name]=self.options[name];});},_destroyHtmlBridge:function(){var self=this;this.element.off(".jPlayerHtml");var emulated=$.jPlayer.emulateMethods+" "+$.jPlayer.emulateStatus+" "+$.jPlayer.emulateOptions;$.each(emulated.split(/\s+/g),function(i,name){delete self.internal.domNode[name];});}};$.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};$.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+$.jPlayer.prototype.version.script+" needs Jplayer.swf version "+$.jPlayer.prototype.version.needFlash+" but found "};$.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};$.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};$.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};$.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."};}));;EPSON.imageAccordion=(function(){"use strict";var config={IMG_CLASS:".accordion-img",VIDEO_CLASS:".content-video",IMG_ACTIVE_CLASS:"is-active-img",CLASS_OPEN:"is-open",TRIGGER:"h3",CONTENT:".accordion-content"};return new EPSON.createClass({init:function(selector){this.selectorString=selector;this.elements=[];this.currentOpenElement=null;this.findElements();this.findImages();this.applyBindings();this.selectElement(0);$(this.elements[0].el).find(config.IMG_CLASS).css({"z-index":2});},findElements:function(){var parent=this,i=0;$.each(document.querySelectorAll(this.selectorString),function(){if(this.tagName){parent.elements.push({el:this,trigger:$(this).find("h3"),index:i});}
$(this).attr("data-accord",i);i+=1;});},dataFromElement:function(element){var returnVal=false;$.each(this.elements,function(i,data){if(data.el===element){returnVal=i;}});return this.elements[returnVal];},dataByIndex:function(index){var returnVal=false;if(typeof index!=="number"){index=parseInt(index,10);}
$.each(this.elements,function(i,data){if(data.index===index){returnVal=i;}});return this.elements[returnVal];},findImages:function(){$.each(this.elements,function(){var el=this.el,hasImg=$(el).find(config.IMG_CLASS+" img").length>0||$(el).find(config.IMG_CLASS+config.VIDEO_CLASS).length>0;this.hasImg=hasImg;this.img=$(el).find(config.IMG_CLASS)[0];if(!hasImg){$(el).addClass("no-img");}});},applyBindings:function(){var that=this;$.each(this.elements,function(){$(this.trigger).on("click",function(e){that.handleClick(e);});});$(window).on("sizechange",function(){that.selectElement(that.currentOpenElement,true);});},handleClick:function(e){e.preventDefault();var targetEl=$(e.target).parents("li");this.selectElement($(targetEl).attr("data-accord"));},selectElement:function(index,forceOpen){var triggerHeight,selectedElement=this.dataByIndex(index),that=this,hasImg=$(selectedElement.el).find("img").length>0;this.currentOpenElement=index;if(!hasImg){$("."+config.CLASS_OPEN).addClass(config.IMG_ACTIVE_CLASS);}else{$("."+config.IMG_ACTIVE_CLASS).find(config.IMG_CLASS).css("z-index",1);$("."+config.IMG_ACTIVE_CLASS).removeClass(config.IMG_ACTIVE_CLASS);$("."+config.CLASS_OPEN).find(config.IMG_CLASS).css("z-index",1);$(selectedElement.el).find(config.IMG_CLASS).css("z-index",3);}
$("."+config.CLASS_OPEN).find(".jp-jplayer").jPlayer("pause");if(!$(selectedElement.el).hasClass(config.CLASS_OPEN)||forceOpen){$("."+config.CLASS_OPEN).removeClass(config.CLASS_OPEN);$(selectedElement.el).addClass(config.CLASS_OPEN);$.each(this.elements,function(i,elementData){if(!$(elementData.el).hasClass(config.CLASS_OPEN)){that.closeElement(elementData.el);}else{that.openElement(elementData.el);}});}else if(EPSON.size<=600&&$(selectedElement.el).hasClass(config.CLASS_OPEN)){that.closeElement(selectedElement.el);}},closeElement:function(el){var jQel=$(el),elementData=this.dataFromElement(el),triggerHeight;triggerHeight=$(elementData.trigger).outerHeight(true);jQel.css("max-height",triggerHeight).removeClass("is-open");},openElement:function(el){var jQel=$(el),elementData=this.dataFromElement(el),triggerHeight=$(elementData.el).find(config.TRIGGER).outerHeight(true),windowSize=EPSON.size,text=jQel.find(config.CONTENT).find("p"),img=jQel.find(config.IMG_CLASS).outerHeight(true),hasImg=jQel.find(config.IMG_CLASS).find("img").length>0;if(windowSize>600){jQel.css("max-height",text.outerHeight(true)+triggerHeight);}else if(windowSize===600||windowSize===480){jQel.css("max-height",Math.max(text.outerHeight(true),img)+triggerHeight);}else{jQel.css("max-height",text.outerHeight(true)+img+triggerHeight);}},toggleHeight:function(element){if($(element).hasClass(config.CLASS_OPEN)){if(Modernizr.csstransitions){$(element).css({"max-height":$(element).attr("data-max")+"px"});}else{$(element).animate({"max-height":$(element).attr("data-max")},500);}}else{if(Modernizr.csstransitions){$(element).css({"max-height":$(element).attr("data-min")+"px"});}else{$(element).animate({"max-height":$(element).attr("data-min")},500);}}},updateHeights:function(){var that=this;$.each(this.elements,function(){that.toggleHeight(this.el);});}});}());;$(function(){var previousOrders=$(".section_previousorders"),recentlyViewed=$(".section_recentlyviewed"),classes=[],resetTo,initialWidth=$(window).innerWidth(),_infoboxcollapse,storeSearch;EPSON.StoreScripts="Version 1.0.0";recentlyViewed.find("h2").on("click",function(){if(previousOrders.hasClass("is-open")){previousOrders.find("h2").trigger("click");}});previousOrders.find("h2").on("click",function(){if(recentlyViewed.hasClass("is-open")){recentlyViewed.find("h2").trigger("click");}});var StoreMenu=new EPSON.StoreMenu(".l-storemenu");$(window).on("load sizechange",function(e,data){EPSON.persistentEqualHeights(".store-img-wrap > a");$.each($(".products_other"),function(){var unique=+new Date();$(this).attr("data-unique",unique);EPSON.persistentEqualHeights("[data-unique='"+unique+"'] h3");})
if($(window).innerWidth()<=600&&!$(".infobox-store").hasClass(".infobox_collapsible")){$(".infobox-store").not(".whybuy").addClass("infobox_collapsible");if(_infoboxcollapse===undefined){_infoboxcollapse=new EPSON.Collapsible(".infobox_collapsible",{trigger:"h2"});}}else{$(".infobox-store").removeClass("infobox_collapsible");$(".l-storemenu").removeAttr("style");}});if($("html").hasClass("ie8")){$.each($(".l-storesub"),function(i,el){$(el).find("li").last().addClass("js-last");$(el).find("li").eq(2).addClass("js-third");});}
$(".store-nav_wrap").on("focus",function(e){e.preventDefault();});$(window).on("sizechange",function(e,size){if(EPSON.size===768){}else{$(".infobox, .infobox-text, .infobox-store:not('.whybuy')").removeAttr("style");}});});EPSON.StoreMenu=(function(){'use strict';var config={SMALL_CLASS:"l-smalldevices",BACK_TRIGGER_CLASS:"l-menureset",MAIN_CAT_LINK:"l-parent",SUBMENU_CLASS:"l-storesub",MENU_ACTIVE_CLASS:"level-1",MENU_CLASS:"l-storemenu",PRIMARY_CONTAINER:"store-nav_main",SECONDARY_CONTAINER:"store-nav_secondary",CONTAINER:"store-nav-container",OPEN_CLASS:"store_menu",OPEN_SUBCLASS:"do-storemenu",MENU_WRAP:"store_menu"};return EPSON.createClass({init:function(element){this.element=element;this.items=$(element).find("li").not("."+config.BACK_TRIGGER_CLASS),this.backItems=$(element).find("."+config.BACK_TRIGGER_CLASS),this.links=this.items.find("a"),this.backLinks=this.backItems.find("a");this.previouslyStored='';this.applyAttributes();this.openButtonBindings();this.iPadClassBindings();this.smallDeviceClassBindings();this.applyBackBindings();this.addGenericHandlers();},iPadClassBindings:function(){var linkInstances=[],isIpadTablet,el='',parent=this,changer;$.each(parent.links,function(i,link){el=$(link);if(!parent.isInSubMenu(link)&&!el.parent("li").hasClass(config.BACK_TRIGGER_CLASS)){$(el).on("click",function(e){var hasChild=$(this).parents("li").first().find("ul").length>0;if(Modernizr.mq("only screen and (max-width: 960px)")&&hasChild){e.preventDefault();$(el).parent("li").toggleClass("is-active");$(el.parents("ul").first()).toggleClass(config.MENU_ACTIVE_CLASS);$($("."+config.PRIMARY_CONTAINER)).toggleClass(config.MENU_ACTIVE_CLASS);}})}})},smallDeviceClassBindings:function(){var el,parent=this;$.each(this.links,function(i,link){el=$(link);$(link).on("click",function(){var hasChild=$(this).parents("li").first().find("ul").length>0;if(!parent.isInSubMenu(link)&&Modernizr.mq("only screen and (max-width: 960px)")&&hasChild){parent.returnToSender();var mySubMenu=$(link).parent("li").find("."+config.SUBMENU_CLASS)||$(link).parent("li").find("ul"),container=$("."+config.SECONDARY_CONTAINER);mySubMenu.attr("data-parent",$(link).parent("li").attr("data-id"));mySubMenu.appendTo(container);}})})},applyBackBindings:function(){var backInstances=[],parent=this;$.each(this.backLinks,function(i,link){$(link).on("click",function(e){e.preventDefault();$("."+config.MENU_CLASS).toggleClass(config.MENU_ACTIVE_CLASS);$(document).bind("transitionend.menu",function(){$(parent.element).find(".is-active").toggleClass("is-active");$(document).unbind("transitionend.menu")})})})
$("."+config.SECONDARY_CONTAINER).on("click","a",function(){if($(this).parent("li").hasClass(config.BACK_TRIGGER_CLASS)){$("."+config.PRIMARY_CONTAINER).toggleClass(config.MENU_ACTIVE_CLASS);}})},openButtonBindings:function(){$("."+config.OPEN_CLASS).on("click","."+config.OPEN_SUBCLASS,function(){$(this).toggleClass("is-active");$(".store-nav_wrap, ."+config.CONTAINER).toggleClass("is-hidden");$(".l-storemenu").toggleClass("l-smalldevices").toggleClass("is-hidden");$("."+config.SECONDARY_CONTAINER).toggleClass("is-hidden");var targetSelector=".store-nav_wrap, .store-nav-container, .l-smalldevices",targetHeight=$(".l-smalldevices").outerHeight(true);if(parseInt($(targetSelector).css("height"),10)!==targetHeight&&$(".l-storemenu").hasClass("l-smalldevices")){EPSON.addStyles({selector:targetSelector,rules:['height: '+targetHeight+"px"],media:EPSON.Style.media.lt_smallTablet});}})},applyAttributes:function(){$.each(this.items,function(i,el){$(el).attr("data-id",i);var backTrigger=$(el).find("ul").children("."+config.BACK_TRIGGER_CLASS),anchor=$(el).find("a").first(),newLi=$("<li class='l-parent'><a href='"+anchor.attr("href")+"'>"+anchor.text()+"</a></li>");newLi.insertAfter(backTrigger);});},addGenericHandlers:function(){var parent=this;$(window).on("sizechange.menu",function(e,size){if(size==960){if($("."+config.SECONDARY_CONTAINER).find("ul").length){parent.previouslyStored=$("."+config.SECONDARY_CONTAINER).find("ul").attr("data-parent");}
parent.returnToSender();}
if(!$("."+config.SECONDARY_CONTAINER).find("ul").length&&$("."+config.PRIMARY_CONTAINER).hasClass(config.MENU_ACTIVE_CLASS)){$("."+config.PRIMARY_CONTAINER).removeClass(config.MENU_ACTIVE_CLASS);}});$("nav."+config.OPEN_CLASS).on("click",".trigger, h2",function(e){e.stopPropagation();e.preventDefault();var width=$(window).innerWidth();if(width<768){$(".do-storemenu").trigger("click");}})},returnToSender:function(callback){var container=$("."+config.SECONDARY_CONTAINER),currentChildren=container.find("ul"),index,oldIndex,parent=this;$.each(currentChildren,function(index,child){var oldIndex=$(child).attr("data-parent"),oldParent=parent.items.eq(oldIndex),initialItems=parent.items;$(child).appendTo(initialItems.eq(oldIndex));})},widthLessThan:function(width){if(Modernizr.mq("only screen and (max-width: "+width+"px)")){return true;}else{return false;}},WidthGreaterThan:function(width){if(Modernizr.mq("only screen and (min-width: "+width+"px)")){return true;}else{return false;}},widthBetween:function(min,max){if(Modernizr.mq("only screen and (min-width: "+min+"px) and (max-width: "+max+"px)")){return true;}else{return false;}},isInSubMenu:function(el){var el=$(el);if(el.parents("ul").first().hasClass(config.SUBMENU_CLASS)){return true;}else{return false;}}});}());;EPSON.Collapsible=(function(){"use strict";var base_config={trigger:"h2",active_class:"is-open",event_name:"collapsible_event",reviews_section:"product_rating",close_others:false,NO_TRANSITION:"is-no-transition",LINK_ONLY_CLASS:"driver_link",mainSelectorString:".product_section-collapsible",MEDIA_CLASS:".product_section_media"};return new EPSON.createClass({init:function(selector,config){this.config=$.extend(base_config,config);this.selectorString=selector;this.elements=[];this.opened=0;this.findElements();this.addHandlers();this.checkTriggerHeights();},findElements:function(){this.elements=[];var nodeList=document.querySelectorAll(this.selectorString),_parent=this,nodeData,children,trigger,_targetSelector=this.config.trigger,_targetClassName=_targetSelector.substr(1,_targetSelector.length-1);$.each(nodeList,function(){children=this.childNodes;$.each(children,function(){if(this.tagName===_targetSelector.toUpperCase()){trigger=this;}else if(this.id===_targetClassName){trigger=this;}else if(this.className===_targetClassName){trigger=this;}});if(!trigger){trigger=$(this).find(_targetSelector)[0];}
if(!trigger){trigger=$(this).find('h2')[0];}
nodeData={"el":this,"trigger":trigger};if(!$(this).children("."+_parent.config.LINK_ONLY_CLASS).length){_parent.elements.push(nodeData);$(this).data('epson-accord',_parent);}});this.checkTriggers();},checkTriggers:function(){var that=this;$.each(this.elements,function(){var element=this.el,jQel=$(this.el);this.trigger=jQel.find(that.config.trigger)[0];if(!this.trigger)this.trigger=jQel.find('h2')[0];});},checkTriggerHeights:function(){var that=this;$.each(this.elements,function(){if(!$(this.el).hasClass(that.config.active_class)){$(this.el).css("max-height",$(this.trigger).outerHeight(true));}});},addHandlers:function(){var trigger,_parent=this,_mySelector=_parent.selectorString.substring(1,this.selectorString.length);$.each(this.elements,function(i){trigger=_parent.elements[i].trigger;$(trigger).attr("data-collapse",i);$(trigger).on("click",function(e){if($(this).parents().hasClass(_mySelector)){_parent.toggleHeight({target:$(this)[0]});_parent.toggleClass({target:$(this)[0]});}});});},findElementData:function(element){var ret;$.each(this.elements,function(){if(this.el===element||this.trigger===element){ret=this;}});return ret;},toggleHeight:function(eventData,forceExpand,forceContract,suppressAnimations){var elementData=this.findElementData(eventData.target)||this.findElementData(eventData),children=elementData?elementData.el.childNodes:[],triggerHeight=elementData?$(elementData.trigger).outerHeight(true):0,isOpen=elementData&&$(elementData.el).hasClass(this.config.active_class)?true:false,height=0,contentHeight,actionType,that=this;if(elementData&&!$(elementData.el).hasClass(this.config.active_class)){$(elementData.el).css("overflow","hidden");$(document).unbind("transitionend.accord");}
if(!elementData){return false;}
$.each(children,function(){if(this.tagName){if($(this).css("float")==="none"||EPSON.size===300){height=height+parseInt($(this).outerHeight(true),10);contentHeight=height;}else{$(this).outerHeight(true)>height?height=parseInt($(this).outerHeight(true),10):height;contentHeight=height;}}});height=height+triggerHeight;if((isOpen||forceContract)&&!forceExpand){$(elementData.el).css("max-height",triggerHeight);that.opened>0?that.opened=that.opened-1:that.opened=0;actionType="close";}else{if(suppressAnimations){this.suppressAnimations($(elementData.el));}
$(elementData.el).css("max-height",height);if(!suppressAnimations){that.opened<that.elements.length?that.opened=that.opened+1:that.opened=that.length;}
actionType="open";}
if(Modernizr.csstransitions&&actionType==="open"){$(document).on("transitionend.accord",function(){$(elementData.el).css("overflow","visible");$(document).unbind("transitionend.accord");});}else if(actionType==="open"){$(elementData.el).css("overflow","visible");}else{$(document).unbind("transitionend.accord");$(elementData.el).css("overflow","hidden");}
setTimeout(function(){that.checkOverflows();$(document).trigger("collapsible_change");},500);that.checkNested(elementData.el,contentHeight,triggerHeight,actionType);that.triggerOpenedEvent();},checkNested:function(element,height,triggerHeight,actionContext){var isNested=$(element).parents(this.selectorString).length||$(element).parents(this.config.mainSelectorString).length?true:false,parentAccordion={height:null},that=this;if(isNested){parentAccordion.element=$(element).parents(this.selectorString);if(!parentAccordion.element.length){parentAccordion.element=$(element).parents(that.config.mainSelectorString).first();}
parentAccordion.height=parseInt(parentAccordion.element.css("max-height"))||parentAccordion.element.outerHeight(true);if(actionContext==="open"){parentAccordion.element.css("max-height",parentAccordion.height+height);}
if(actionContext==="close"){parentAccordion.element.css("max-height",parentAccordion.height-height);}}},suppressAnimations:function(element){var that=this;$(element).addClass(this.config.NO_TRANSITION);setTimeout(function(){$(element).removeClass(that.config.NO_TRANSITION);},200);},toggleClass:function(eventData,forceApply,forceRemove){var accordionIndex=$(eventData.target).attr("data-collapse"),accordionData=this.elements[accordionIndex],trigger=accordionData.el,classes=trigger.className.split(" "),newClasses=[],active_class=this.config.active_class;if(forceApply===undefined){forceApply=false;}
if(($(trigger).hasClass(active_class)&&forceApply===false)||forceRemove===true){$.each(classes,function(){if(this.toString()!==active_class.toString()){newClasses.push(this);}});}else{newClasses=classes;newClasses.push(active_class);}
trigger.className=newClasses.join(" ");},updateHeight:function(trigger){this.toggleHeight({target:trigger},true);},openAll:function(exclude){var that=this,giveUp=false;$.each(this.elements,function(e,accordion){$.each(exclude,function(i,className){if($(accordion.el).hasClass(className)){giveUp=true;}});if(!giveUp){that.toggleHeight({target:this.trigger},true,false,false);that.toggleClass({target:this.trigger},true,false,false);}});},closeAll:function(exclude){var that=this,giveUp=false;$.each(this.elements,function(e,accordion){$.each(exclude,function(i,className){if($(accordion.el).hasClass(className)){giveUp=true;}});if(!giveUp){that.toggleHeight({target:this.trigger},false,true);that.toggleClass({target:this.trigger},false,true);}});},forceOpen:function(selectors){var that=this;$.each(selectors,function(i,selector){var jqSelector=$(selector);$.each(jqSelector,function(){that.toggleHeight({target:this},true,false,true);});});},closeIfNotOpen:function(selectors){if(!selectors){selectors=document.querySelectorAll(this.config.selectorString);}
var that=this;Array.prototype.forEach.call(selectors,function(selector){$.each($(selector),function(i,el){if(!$(el).hasClass(that.config.active_class)){that.toggleHeight({target:$(el)[0]},false,true,true);}else{that.toggleHeight({target:$(el)[0]},true,false,true);}});});},triggerOpenedEvent:function(){$(document).trigger(this.config.event_name,this.opened);},checkOverflows:function(){var that=this;$.each(this.elements,function(i,data){if($(data.el).hasClass(that.config.active_class)){$(data.el).css("overflow","visible");}else{$(data.el).css("overflow","hidden");}});}});}());;EPSON.LocaleChanger=(function(){'use strict';var config={COUNTRY:"cc",LANG:"lc"};return EPSON.createClass({init:function(container){if(typeof container==="object"){this.container=container;}else{this.container=$(container)[0];}
this.findElements();this.bindChange();this.loadChange();},findElements:function(){var cont=$(this.container);this.countrySelect=cont.find("select[name="+config.COUNTRY+"]");this.langSelect=cont.find("select[name="+config.LANG+"]");},bindChange:function(){var that=this;this.countrySelect.on("change",function(){that.updateLanguages($(this).val());});},loadChange:function(){var that=this;if(EPSON.config.cc!=that.countrySelect.val()){var realCC=EPSON.config.cc.toUpperCase();$(that.countrySelect).val(realCC);$(that.countrySelect).data('epsonfield').drawOptions();$(that.countrySelect).data('epsonfield').setText();that.updateLanguages(realCC);}},updateLanguages:function(locale){var that=this;$(that.langSelect).empty();$.each(CountryLanguageMap[locale],function(i,lang){$(that.langSelect).append('<option value="'+lang.code+'">'+lang.name+'</option>');});$(that.langSelect).find('option[value="'+EPSON.config.lc+'"]').attr('selected',true);$(that.langSelect).data('epsonfield').drawOptions();$(that.langSelect).data('epsonfield').setText();}});}());;(function(){"use strict";EPSON.getURLParams=function(){var urlParams={};(function(){var match,pl=/\+/g,search=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s.replace(pl," "));},query=window.location.search.substring(1);while(match=search.exec(query))
urlParams[decode(match[1])]=decode(match[2]);})();return urlParams;}}());;(function(epson){'use strict';var config={CSS_CLOSE:'do-close',CSS_CLOSE_RELOAD:'do-close-reload',CSS_MAKER:'popup_maker',CSS_HIDE:'is-invisible',CSS_CONTENT:'popup_content',EVT_PRESHOW:'preshow',EVT_SHOW:'show',EVT_PREHIDE:'prehide',EVT_HIDE:'hide',HTML_OVERLAY:'<div class="overlay is-invisible"><\/div>'},popupInstances={};epson.getPopupInstance=function(id){return popupInstances.hasOwnProperty(id)?popupInstances[id]:null;};epson.getPopupIds=function(){return Object.keys(popupInstances);};epson.Popup=epson.createClass({init:function(element,modal){var jQelem=$(element);if(element){this.element=element;this.id=jQelem.attr('id');this.isOpen=!jQelem.hasClass(config.CSS_HIDE);this.canShow=true;this.canHide=true;this.enableFocus();this.register();this.createOverlay();this.addHandlers(modal);if($(element).hasClass('is-open')){this.handleOpen();}}},enableFocus:function(){var popup=this.element,focusElement=$('.'+config.CSS_CONTENT,popup)[0]||popup;focusElement.tabIndex=-1;this.focusElement=focusElement;},register:function(){popupInstances[this.id]=this;$(this.element).data('popup',this);},createOverlay:function(){this.overlay=$(config.HTML_OVERLAY).appendTo(document.body)[0];},moveElement:function(){$(this.element).appendTo(document.body);},addHandlers:function(modal){var that=this,url=window.location.href,opener='a[href="#'+that.id+'"].'+config.CSS_MAKER;$('.'+config.CSS_CLOSE,that.element).on('click',function(e){that.handleClose($.proxy(e.preventDefault,e));});$('.'+config.CSS_CLOSE_RELOAD,that.element).on('click',function(e){that.handleClose($.proxy(e.preventDefault,e));url=url.replace(/campaign=1/,"campaign=0");document.location.href=url;});$(that.overlay).on({click:function(){if(!modal)that.handleClose();},touchmove:function(e){}});$(document.body).on('click',opener,function(e){that.handleOpen($.proxy(e.preventDefault,e));});$(document).on('keyup',function(e){that.checkKey(e.which);});$(that.element).on(config.EVT_SHOW,function(){that.gainFocus();}).on(config.EVT_HIDE,function(){that.loseFocus();window.setTimeout(function(){document.body.className=document.body.className;},100);});EPSON.onsizechange(function(){that.adjustHeight();});},checkKey:function(keycode){if(keycode===27){this.handleClose();}},handleClose:function(preventDefault){if(typeof preventDefault==='function'){preventDefault();}
this.preHide();},handleOpen:function(preventDefault){if(typeof preventDefault==='function'){preventDefault();}
this.preShow();},gainFocus:function(){var that=this;if(!that.lastFocus){that.lastFocus=document.activeElement;if(Modernizr.csstransitions){$(that.element).one('transitionend',function(){that.focusElement.focus();$(document).trigger('epson.popup.opened',[that.element]);});}else{that.focusElement.focus();$(document).trigger('epson.popup.opened',[that.element]);}}},loseFocus:function(){if(this.lastFocus){this.lastFocus.focus();this.lastFocus=null;}else{this.focusElement.blur();}},show:function(){$(this.overlay).removeClass(config.CSS_HIDE);$(this.element).removeClass(config.CSS_HIDE).trigger(config.EVT_SHOW);this.adjustHeight();this.isOpen=true;},adjustHeight:function(){var that=this;if($(that.element).find('img').length>0){$(that.element).removeAttr('style');}else if(EPSON.size>=768){if($(that.element).attr('id')=='address-lookup'){$(that.element).outerHeight(540);}else{var newHeight=Math.ceil(parseInt($(that.element).outerHeight())/2)*2;$(that.element).outerHeight(newHeight);}
if($(window).height()>$(that.element).height()&&$(that.element).find('.l-bulletless.select_list').length>0&&$(that.element).height()>=$(that.element).find('.popup_content').outerHeight()){var windowHeight=$(window).height();var makeVisible=true;$(that.element).find('.l-bulletless.select_list').each(function(){if(($(this).parent().offset().top-$(window).scrollTop())+$(this).outerHeight()>windowHeight){makeVisible=false;}});if(makeVisible){$(that.element).css('overflow','visible');}}}else{$(that.element).removeAttr('style');}},hide:function(){$(this.overlay).addClass(config.CSS_HIDE);$(this.element).addClass(config.CSS_HIDE).trigger(config.EVT_HIDE).removeAttr('style');this.isOpen=false;},preShow:function(){var that=this;if(!this.isOpen){$(this.element).trigger(config.EVT_PRESHOW,[$.proxy(this.cancelShow,this)]);if(this.canShow){this.show();}else{this.canShow=true;}}},preHide:function(){if(this.isOpen){$(this.element).trigger(config.EVT_PREHIDE,[$.proxy(this.cancelHide,this)]);if(this.canHide){this.hide();}else{this.canHide=true;}}},cancelShow:function(){this.canShow=false;},cancelHide:function(){this.canHide=false;},bindShow:function(func){$(this.element).on(config.EVT_SHOW,func);},bindPreShow:function(func){$(this.element).on(config.EVT_PRESHOW,func);},bindHide:function(func){$(this.element).on(config.EVT_HIDE,func);},bindPreHide:function(func){$(this.element).on(config.EVT_PREHIDE,func);}});}(EPSON));;(function(){'use strict';var expando=0;EPSON.Observer=EPSON.createClass({init:function(){this.privateEvents=new EPSON.Key(this);},createEvent:function(eventName){var name=eventName+expando;expando+=1;this.privateEvents.addData(eventName,new EPSON.PubSub(name));return this.privateEvents.getData(eventName);},getEvent:function(eventName){var ret=null;if(typeof eventName==='string'){ret=this.privateEvents.getData(eventName)||this.createEvent(eventName);}
return ret;},on:function(eventName,handler){this.getEvent(eventName).subscribe(handler);},off:function(eventName,handler){this.getEvent(eventName).unsubscribe(handler);},trigger:function(eventName,args){var event=this.getEvent(eventName);if(event){event.publish.apply(event,args||[]);}}});}());;(function(epson){'use strict';epson.supplant=function(string,map){return string.replace(/\{\{?(\w+)\}\}?/g,function($0,$1){var replace=map[$1];return typeof replace==='string'||typeof replace==='number'?replace:$0;});};}(EPSON));;EPSON.PL_resultsSidebar=(function(){'use strict';var config={SIDEBAR:'#sidebarFilters'};return EPSON.createClass({init:function(results){this.results=results;this.alwaysDisabled=[];this.checkedFilters=[];this.firstIteration=true;this.reEvaluate=false;this.defaultFiltered=[];if(EPSON.productsData.query_string.filter_count>0){var ignoreIt=['current','filter','filter_count','limit','offset','sort','type'];for(var key in EPSON.productsData.query_string){if(ignoreIt.indexOf(key)>-1||!EPSON.productsData.query_string.hasOwnProperty(key))continue;this.defaultFiltered.push(key);}}
this.initSidebar();this.addHandlers();},addHandlers:function(){var that=this;$(config.SIDEBAR).on('change','input',function(){that.handleFilter(this);});},drawSidebar:function(){var that=this,template=$('#templateSidebarFilter').html(),output='';var hasFilter=EPSON.productsData.query_string.hasOwnProperty('filter')&&EPSON.productsData.query_string.filter_count==0;if(EPSON.productsData.facets){if(EPSON.productsData.query_string.filter_count==0||that.reEvaluate){that.alwaysDisabled=[];}
var sortable=[],i=100000;$.each(EPSON.productsData.facets,function(key,value){var config=EPSON.productsData.facet_config.hasOwnProperty(key)?EPSON.productsData.facet_config[key]:false;if(config&&config.hasOwnProperty('priority')){var priority=parseInt(config.priority);}else{var priority=i;i++;}
sortable.push([key,priority]);});sortable.sort(function(a,b){return a[1]-b[1]});var facets={};for(var i=0;i<sortable.length;i++){var key=sortable[i][0];facets[key]=EPSON.productsData.facets[key];}
var firstExpanded=false;$.each(facets,function(group_name,group_options){if(['type','classification','device'].indexOf(group_name)>-1||!EPSON.productsData.facet_config[group_name]){return true;}
var data=new Object();var allFilters=[],disabledFilters=[],checkedFilters=[];var facet_config=EPSON.productsData.facet_config[group_name];data.label=facet_config.label;data.collapseState=facet_config.state;if(facet_config.display=='radio'){data.displayAllFilter=true;data.displayAllFilterName=group_name;}
function newGroupFilter(filter_name){if(!group_options.hasOwnProperty(filter_name))return true;var group_filter=new Object();group_filter.type=facet_config.display;group_filter.name=group_name;group_filter.value=filter_name;group_filter.count=group_options[filter_name];group_filter.checked=that.checkIfChecked(group_filter);if(group_filter.count==0&&group_filter.checked===false){group_filter.disabled=true;}
if(group_name=='category'&&group_filter.disabled&&!that.firstIteration&&!hasFilter){group_filter.disabled=false;}
group_filter.label=(facet_config.values)?facet_config.values[filter_name]:filter_name;if(!group_filter.label)return false;if((that.firstIteration||EPSON.productsData.query_string.filter_count==0)&&group_filter.disabled){that.alwaysDisabled.push(group_filter.name+':'+group_filter.value);}
if(group_filter.checked){checkedFilters.push(group_filter);}
if(EPSON.productsData.query_string.filter_count>0&&EPSON.productsData.query_string.hasOwnProperty(group_name)&&!that.firstIteration&&group_filter.type=='checkbox'){group_filter.disabled=false;}
if((EPSON.productsData.query_string.filter_count>0&&that.alwaysDisabled.indexOf(group_filter.name+':'+group_filter.value)<0)||(that.reEvaluate&&EPSON.productsData.query_string.filter_count!=0)||(EPSON.productsData.query_string.filter_count==0&&!group_filter.disabled)){allFilters.push(group_filter);if(group_filter.disabled)disabledFilters.push(group_filter);}}
if(facet_config.hasOwnProperty('orders')){for(var i=0;i<facet_config.orders.length;i++){if(!newGroupFilter(facet_config.orders[i]))continue;}}
else{for(var filter_name in group_options){if(!newGroupFilter(filter_name))continue;}}
if(checkedFilters.length>0||(allFilters.length>1&&allFilters.length>disabledFilters.length)){data.filters=allFilters;if(!firstExpanded){firstExpanded=true;data.collapseState='open';}
output+=Mustache.to_html(template,data);}});$(config.SIDEBAR).html(output);that.initCollapsibles();}
that.firstIteration=false;that.reEvaluate=false;},checkIfChecked:function(filter){for(var key in EPSON.productsData.query_string){if(EPSON.productsData.query_string.hasOwnProperty(key)){if(key==filter.name){var values=EPSON.productsData.query_string[key].split(',');for(var i=0;i<values.length;i++){if(values[i]==filter.value){return true;}}}}}
return false;},handleFilter:function(filter){var that=this,name=$(filter).attr('name'),type=$(filter).attr('type'),val=$(filter).val();if(val=='all'){delete EPSON.productsData.query_string[name];}
else if(type!='checkbox'){EPSON.productsData.query_string[name]=val;}
else if(type=='checkbox'){if(EPSON.productsData.query_string[name]){var values=EPSON.productsData.query_string[name].split(',');if(filter.checked===true){values.push(val);}else{values=that.removeFromArray(values,val);}
if(!values.length){delete EPSON.productsData.query_string[name];}else{EPSON.productsData.query_string[name]=values.join(',');}}else{if(filter.checked===true){EPSON.productsData.query_string[name]=val;}else{delete EPSON.productsData.query_string[name];}}}
EPSON.productScripts.wasChecked=filter.checked;EPSON.productScripts.lastFilter={name:name,type:type,val:val};if(that.defaultFiltered.length&&that.defaultFiltered.indexOf(name)!=-1&&!filter.checked){that.reEvaluate=true;}
$(that.results).trigger('sidebarupdated');},removeFromArray:function(arr){var what,a=arguments,L=a.length,ax;while(L>1&&arr.length){what=a[--L];while((ax=arr.indexOf(what))!==-1){arr.splice(ax,1);}}
return arr;},initCollapsibles:function(){$('#sidebarFilters .filter-collapsible').each(function(){var isOpen=$(this).data('collapse-state')=='open'?true:false;if($(this).find('input[value!="all"]:checked').length>0)isOpen=true;new EPSON.collapsibleToggle($(this),'h4','.filter-options','',isOpen);});},initSidebar:function(){var productSidebar=$('.search-results__sidebar');if(productSidebar.length){if(EPSON.size<EPSON.getConstant('SCREEN_TABLET')){productSidebar.addClass('filter-sidebar');}
EPSON.onsizechange(function(){if(EPSON.size<768&&!productSidebar.hasClass('filter-sidebar')){productSidebar.addClass('filter-sidebar');for(var i=0;i<sidebarFilters.length;i++){sidebarFilters[i].toggleHide();}}else if(EPSON.size>600&&productSidebar.hasClass('filter-sidebar')){productSidebar.removeClass('filter-sidebar');for(var i=0;i<sidebarFilters.length;i++){sidebarFilters[i].toggleShow();}}});new EPSON.collapsibleToggle(productSidebar,'h3','.sidebar-options','is-sidebar-open',false);}}})}());;EPSON.PL_productListingVisuals=(function(){'use strict';return EPSON.createClass({init:function(config){this.config=config;},fixImages:function(parent){var attr=this.config.ATTR_SRC;$('img['+attr+']',parent).each(function(){var jQthis=$(this),image=new Image();image.onload=function(){jQthis.attr('src',this.src).removeAttr(attr);};image.src=jQthis.attr(attr);});},removeHeights:function(parent){$(this.config.CSS_RESULT,parent).find('.product--desc').height('');$(this.config.CSS_RESULT,parent).find('.product--price').height('');$(this.config.CSS_RESULT,parent).find('h3').height('');},equalHeights:function(parent){var columnsPerRow=3,minPriceHeight=140,size=EPSON.size;if(size<960){columnsPerRow=2;minPriceHeight=90;}
if(size<600){return false;}
var rows=this.makeArrays($(this.config.CSS_RESULT,parent).get(),columnsPerRow);rows.forEach(function(row){var maxHeightDesc=0,maxHeightPrices=minPriceHeight,maxHeightH3=0;$(row).each(function(){maxHeightH3=Math.max(maxHeightH3,$(this).find('h3').height());});$(row[0]).find('h3').height(maxHeightH3);$(row[1]).find('h3').height(maxHeightH3);$(row[2]).find('h3').height(maxHeightH3);$(row).each(function(){maxHeightDesc=Math.max(maxHeightDesc,$(this).find('.product--desc').outerHeight());maxHeightPrices=Math.max(maxHeightPrices,$(this).find('.product--price').outerHeight());});$(row[0]).find('.product--desc').outerHeight(maxHeightDesc);$(row[1]).find('.product--desc').outerHeight(maxHeightDesc);$(row[2]).find('.product--desc').outerHeight(maxHeightDesc);$(row[0]).find('.product--price').outerHeight(maxHeightPrices);$(row[1]).find('.product--price').outerHeight(maxHeightPrices);$(row[2]).find('.product--price').outerHeight(maxHeightPrices);});},resetHeights:function(parent,viewType){this.removeHeights(parent);if(viewType=='grid'){this.equalHeights(parent);}},makeArrays:function(full,limit){var arrays=[],copy=arrays.slice.call(full);while(copy.length){arrays.push(copy.splice(0,limit));}
return arrays;}});}());;EPSON.PL_Caching=(function(){return EPSON.createClass({init:function(paginating,viewType){this.paginating=paginating;this.viewType=viewType;this.loadViewType();},save:function(){EPSON.cookie.create('filter-settings',EPSON.productsData.query_string);EPSON.cookie.create('filter-type',EPSON.productsData.query_string.type);},loadViewType:function(){var viewType=EPSON.cookie.read('filter-viewtype');if(viewType){this.viewType=viewType;}},setViewType:function(){EPSON.cookie.create('filter-viewtype',this.viewType);},getViewType:function(){if(!this.viewType)
this.viewType='grid';return this.viewType;},});}(EPSON));;EPSON.PL_Compare=(function(){'use strict';var config={VAL_COOKIENAME:'product-compare',VAL_MAXCOMPARE:4};return EPSON.createClass({init:function(){this.data=this.load()||{};},contains:function(id){return Object.keys(this.data).map(Number).indexOf(+id)>-1;},addData:function(id,cat,name,image,url){var datum={};if(!this.contains(id)){datum.productId=id;datum.productCat=cat;datum.productName=name;datum.imageURL=image;datum.productURL=url;this.data[id]=datum;this.save();}},removeData:function(id){if(this.contains(id)){delete this.data[id];this.save();}},getData:function(){return this.data;},getDataLength:function(){return Object.keys(this.data).length;},save:function(){EPSON.cookie.create(config.VAL_COOKIENAME,this.data);},load:function(){return EPSON.cookie.read(config.VAL_COOKIENAME);},canAdd:function(){return Object.keys(this.data).length<config.VAL_MAXCOMPARE;}});}());;EPSON.PL_CompareWindow=(function(){'use strict';var config={CSS_COMPARE:'compare-window',HTML_RENDER_CONTAINER:'#compareProducts',HTML_RENDER:'<li class="compare-product" data-id="{id}">'+'<a href="#" class="remove-compare do-remove" title="{del}">{del}</a>'+'<a href="{url}">'+'<div class="image"><img src="{src}" alt="{name}"></div>'+'<h4>{name}</h4>'+'</a>'+'</li>',COMPARE_COUNT:'.compare-count > span',COMPARE_URL:'{cclc}viewcon/corporatesite/products/mainunits/comparison/'};return EPSON.createClass({run:function(){this.products={};EPSON.PL_CompareWindow.parent.run.call(this);},setProducts:function(prods){this.products=prods;this.drawOptions();},updateLinkURL:function(){var prods=this.products,URL='',id,count=0;for(id in prods){if(count>0){URL+=',';}
URL+=id;count++;}
var newURL=config.COMPARE_URL+URL;newURL=newURL.replace('{cclc}',EPSON.config.cclc);$('.'+config.CSS_COMPARE).find('.compare-button').attr('href',newURL);},windowButtonPosition:function(){var chatLinkWidth=($('.chat-toggle-link').outerWidth()+15)*-1;$('.'+config.CSS_COMPARE).css('margin-top',chatLinkWidth);},enableWindow:function(){if(!$('.'+config.CSS_COMPARE).hasClass('is-open')){$('.'+config.CSS_COMPARE).addClass('is-open');}},disableWindow:function(){if($('.'+config.CSS_COMPARE).hasClass('is-open')){$('.'+config.CSS_COMPARE).removeClass('is-open is-active');}},drawOptions:function(){var frag=document.createDocumentFragment(),id='',prods=this.products,prod=null,prodCount=0;for(id in prods){if(prods.hasOwnProperty(id)){prod=prods[id];frag.appendChild($(EPSON.supplant(config.HTML_RENDER,{id:id,url:prod.productURL,src:prod.imageURL,name:prod.productName,del:EPSON.i18n.delbutton}))[0]);prodCount++;}}
if(id>0){if(EPSON.size>767){this.windowButtonPosition();}
this.enableWindow();}else{this.disableWindow();}
$(config.COMPARE_COUNT).text(prodCount);$(config.HTML_RENDER_CONTAINER).empty().append(frag);}});}());;EPSON.PL_Comparing=(function(){'use strict';var config={ATTR_ID:'data-id',ATTR_CAT:'data-category',ATTR_SRC:'data-src',CSS_COMPARE:'compare',CSS_COMPAREBTN:'compare-button',CSS_DISABLED:'is-disabled',CSS_REMOVE:'do-remove',CSS_REMOVELINK:'is-remove',CSS_RESULT:'result',CSS_RESULTURL:'image',CSS_THUMBNAIL:'select_thumbnail',HTML_SELECT:'<select><option value="">{noprods}<\/option><\/select>',SEL_IMAGE:'.image img',SEL_NAME:'h3 > a',SEL_LISTNAME:'.select_details > p:first-child',URL_COMPARE:'/{cc}/{lc}/viewcon/corporatesite/products/mainunits/'+'comparison/{ids}',VAL_MINCOMPARE:2,COMPARE_WINDOW:'compare-window',COMPARE_WINDOW_TOGGLE:'compare-do-toggle'};return EPSON.createClass(EPSON.Observer,{init:function(){EPSON.PL_Comparing.parent.init.call(this);this.findElements();this.addObjects();this.addHandlers();this.setButtonDisabled();},findElements:function(){this.button=$('.'+config.CSS_COMPAREBTN)[0];},addObjects:function(){this.compare=new EPSON.PL_Compare();this.compareWindow=new EPSON.PL_CompareWindow($('.'+config.COMPARE_WINDOW));this.compareWindow.setProducts(this.compare.getData());this.compareWindow.updateLinkURL();},addHandlers:function(){var that=this;$(that.compareWindow.render+', .'+config.COMPARE_WINDOW).on('click','.'+config.CSS_REMOVE,function(e){that.handleCompare(this,e.preventDefault.bind(e));});that.on('productchange',function(){that.setButtonDisabled();});$('.'+config.COMPARE_WINDOW_TOGGLE).on('click',function(e){e.preventDefault();$('.'+config.COMPARE_WINDOW).toggleClass('is-active');});$(document).mouseup(function(e){var compareWindow=$('.'+config.COMPARE_WINDOW);var compareLink=$('.'+config.COMPARE_WINDOW_TOGGLE+', .'+config.CSS_COMPARE);if(!compareWindow.is(e.target)&&compareWindow.has(e.target).length===0&&!compareLink.is(e.target)&&compareLink.has(e.target).length===0&&compareWindow.hasClass('is-active')){compareWindow.removeClass('is-active');}});EPSON.onsizechange(function(){that.compareWindow.windowButtonPosition();});},handleCompare:function(link,preventDefault){if(typeof preventDefault==='function'){preventDefault();}
this.toggleProduct(link);this.trigger('productchange');},getLinkData:function(link){var jQlink=$(link),data=jQlink.data('productinfo'),jQparent=null,jQimage=null,id=0,cat='',name='',image='',url='';if(!data){jQparent=jQlink.closest('li');id=+jQparent.attr(config.ATTR_ID);cat=jQparent.attr(config.ATTR_CAT);jQimage=jQparent.find(config.SEL_IMAGE);name=jQparent.find(config.SEL_NAME).text();image=jQimage.attr(config.ATTR_SRC)||jQimage.attr('src');url=jQparent.find('.'+config.CSS_RESULTURL).attr('href');data={id:id,cat:cat,url:url,name:name,image:image};jQlink.data('productinfo',data);}
return data;},toggleProduct:function(link){var compare=this.compare,data=this.getLinkData(link);if(compare.contains(data.id)){compare.removeData(data.id);}else if(compare.canAdd()&&!$(link).hasClass('is-disabled')){compare.addData(data.id,data.cat,data.name,data.image,data.url);}else{this.trigger('comparefull',[link]);}
this.compareWindow.setProducts(compare.getData());this.compareWindow.updateLinkURL();this.setLinkText(link);this.setDisabledLinks();},removeProduct:function(link){this.compare.removeData(this.getLinkData(link).id);this.setLinkText(link);this.setDisabledLinks();},setLinkText:function(link){var jQlink=$(link),i18n=EPSON.i18n,className=config.CSS_REMOVELINK;if(jQlink.hasClass(config.CSS_COMPARE)){if(this.compare.contains(this.getLinkData(link).id)){jQlink.html('<span class="checkbox"></span>'+i18n.removecompare).addClass(className);}else{jQlink.html('<span class="checkbox"></span>'+i18n.addcompare).removeClass(className);}}},setDisabledLinks:function(){var data=this.compare.getData();$('a.'+config.CSS_COMPARE).removeClass('is-disabled');if(Object.keys(data).length>0){var category=data[Object.keys(data)[0]].productCat;if(category){$('a.'+config.CSS_COMPARE).each(function(){if($(this).attr('data-category')!=category){$(this).addClass('is-disabled');}});}}},gotoCompare:function(preventDefault){preventDefault();window.location=EPSON.supplant(config.URL_COMPARE,{cc:EPSON.config.cc,lc:EPSON.config.lc,ids:Object.keys(this.compare.getData()).join(',')});},setButtonDisabled:function(){var method=this.compare.getDataLength()<config.VAL_MINCOMPARE?'disableButton':'enableButton';this[method](this.button);},disableButton:function(link){$(link).attr('disabled','disabled').addClass(config.CSS_DISABLED);},enableButton:function(link){$(link).removeAttr('disabled').removeClass(config.CSS_DISABLED);},isFull:function(){return!this.compare.canAdd();},isRemoveLink:function(link){return $(link).hasClass(config.CSS_REMOVELINK);}});}());;(function(){'use strict';var config={CSS_SHOWING:'search-results__count',CSS_PAGES:'results-pagination',HTML_PAGELIST:'<ul class="pagination-pages">{links}'+'<\/ul>',HTML_PAGE:'<li><a href="#" '+'data-page="{page}">{render}<\/a><\/li>',HTML_CURRENT:'<li><a href="#" class="is-checked">'+'{render}<\/a><\/li>',HTML_GAP:'<li>&hellip;<\/li>',HTML_PREV:'<li><a href="#" data-page="-1">'+'&lt;<\/a><\/li>',HTML_NEXT:'<li><a href="#" data-page="+1">'+'&gt;<\/a><\/li>',HTML_NOPREV:'<li><a href="#" class="is-disabled" '+'data-page="-1">&lt;<\/a><\/li>',HTML_NONEXT:'<li><a href="#" class="is-disabled" '+'data-page="+1">&gt;<\/a><\/li>',HTML_SHOWALL:'<a href="#" class="btn pagination-showall">'+'{all}</a>',VAL_DISPLAY:3,VAL_EDGES:1};EPSON.PL_PaginationRender=EPSON.createClass({init:function(){this.findElements();},findElements:function(){this.showing=$('.'+config.CSS_SHOWING).get();this.pages=$('.'+config.CSS_PAGES).get();},render:function(data){this.data=data;this.renderShowing();this.renderPages();},renderShowing:function(){var pagination=this.pagination,range=this.data.perPage,startPage=(this.data.page*range)+1,endPage=(this.data.page*range)+range;startPage=startPage>this.data.total?this.data.total:startPage;endPage=endPage>this.data.total?this.data.total:endPage;if(this.data.page<0){startPage=1;endPage=this.data.total;}
$(this.showing).html(EPSON.supplant(EPSON.i18n.nowshowing,{startPage:'<strong>'+startPage+'</strong>',endPage:'<strong>'+endPage+'</strong>',totalCount:this.data.total}));},renderPages:function(){var prev='',next='',pages='';if(!this.data.isShowAll){prev=this.data.page===0?config.HTML_NOPREV:config.HTML_PREV;pages=this.getPages();next=this.data.page===this.getMaxPages()-1?config.HTML_NONEXT:config.HTML_NEXT;}
$(this.pages).html(EPSON.supplant(config.HTML_PAGELIST,{links:[prev,pages,next].join('')})+this.getShowAll());},getInterval:function(){var current=this.data.page,display=config.VAL_DISPLAY,half=display/2,total=this.getMaxPages();return{start:Math.ceil(current>half?Math.max(Math.min(current-half,total-display),0):0),end:Math.ceil(current>half?Math.min(current+half,total):Math.min(display,total))};},generatePages:function(){var i=0,end=0,begin=0,interval=this.getInterval(),links=[],edges=config.VAL_EDGES,pages=this.getAllPages(),total=this.getMaxPages();if(interval.start>0&&edges>0){end=Math.min(edges,interval.start);for(i=0;i<end;i+=1){links.push(pages[i]);}
if(edges<interval.start&&(interval.start-edges!==1)){links.push(-1);}else if(interval.start-edges===1){links.push(pages[edges]);}}
for(i=interval.start;i<interval.end;i+=1){links.push(pages[i]);}
if(interval.end<total&&edges>0){if(total-edges>interval.end&&total-edges-interval.end!==1){links.push(-1);}else if(total-edges-interval.end===1){links.push(pages[interval.end]);interval.end+=1;}
begin=Math.max(total-edges,interval.end);for(i=begin;i<total;i+=1){links.push(pages[i]);}}
return links;},getPages:function(){var current=this.data.page;return this.generatePages().map(function(page){var html=config.HTML_GAP,base=page===current?config.HTML_CURRENT:config.HTML_PAGE;if(page>=0){html=EPSON.supplant(base,{page:page,render:page+1});}
return html;}).join('');},getShowAll:function(){var showAll='',text=this.data.page<0?'showless':'showall';if(this.getMaxPages()>1){showAll=EPSON.supplant(config.HTML_SHOWALL,{all:EPSON.i18n[text]});$('.search-results__info .pagination-showall').text(EPSON.i18n[text]);}else{$('.search-results__info .pagination-showall').hide();}
return showAll;},getMaxPages:function(){return Math.ceil(this.data.total/this.data.perPage);},getAllPages:function(){var pages=[],total=this.getMaxPages(),i=0;while(i<total){pages.push(i);i+=1;}
return pages;},});}());;EPSON.PL_Paginating=(function(){'use strict';var config={ATTR_PAGE:'data-page',CSS_CHECKED:'is-checked',CSS_DISABLED:'is-disabled',CSS_SHOWALL:'pagination-showall',SEL_PAGINATION:'.results-pagination',VAL_PERPAGE:12,};return EPSON.createClass(EPSON.Observer,{init:function(){if(EPSON.productsData.query_string.limit==12){this.page=EPSON.productsData.query_string.offset/EPSON.productsData.query_string.limit;}else{this.page=-1;}
this.perPage=config.VAL_PERPAGE;this.total=EPSON.productsData.total;EPSON.PL_Paginating.parent.init.call(this);this.addObjects();this.addHandlers();},addObjects:function(){var pageRender=new EPSON.PL_PaginationRender();this.pageRender=pageRender;},addHandlers:function(){var that=this;$(config.SEL_PAGINATION).on('click','a',function(e){that.handlePageClick(this,e.preventDefault.bind(e));});$('.search-results__info').on('click','.'+config.CSS_SHOWALL,function(e){that.handlePageClick(this,e.preventDefault.bind(e));});},handlePageClick:function(link,preventDefault){var jQlink=$(link),attr='',first='',amount=0,noclick='.'+config.CSS_CHECKED+',.'+config.CSS_DISABLED;preventDefault();window.scrollTo(0,0);if(jQlink.hasClass(config.CSS_SHOWALL)){this.page=this.page<0?0:-1;EPSON.productsData.query_string.offset=0;EPSON.productsData.query_string.limit=this.page<0?EPSON.productsData.total:config.VAL_PERPAGE;this.trigger('ready');}else if(!jQlink.is(noclick)){attr=jQlink.attr(config.ATTR_PAGE);first=attr[0]||attr.charAt(0);amount=+attr.slice(1);if(first==='+'){this.page=this.page+amount;}else if(first==='-'){this.page=this.page-amount;}else if(!isNaN(first)){this.page=+attr;}
var offset=this.page*this.perPage;offset=offset>EPSON.productsData.total?EPSON.productsData.total:offset;EPSON.productsData.query_string.offset=offset;this.trigger('ready');}},render:function(){var data={};data.page=this.page;if(EPSON.productsData.query_string.limit&&EPSON.productsData.total==EPSON.productsData.query_string.limit){data.page=-1;}
data.perPage=this.perPage;data.total=EPSON.productsData.total;data.isShowAll=(data.page===-1);this.pageRender.render(data);}});}());;EPSON.productScripts=(function(){'use strict';var config={ATTR_SRC:'data-src',CSS_COMPARE:'compare',CONTAINER:'.product-results-container',RESULTS:'#plpResultsLoop',SIDEBAR:'#sidebarFilters',CSS_RESULT:'li[data-id]',VIEW_TYPE:'view-type',SORT_BY:'#productSort'};return EPSON.createClass({init:function(){if(this.findElements()&&this.results.length<2){EPSON.cookie.erase('product-compare');this.addObjects();this.addHandlers();this.ready();}},findElements:function(){this.results=$(config.RESULTS).get();return this.results.length>0;},addObjects:function(){this.visual=new EPSON.PL_productListingVisuals(config);if(EPSON.productsData.facet_total>0){this.sidebar=new EPSON.PL_resultsSidebar(this.results);}
this.paginating=new EPSON.PL_Paginating();this.comparing=new EPSON.PL_Comparing();this.caching=new EPSON.PL_Caching(this.paginating,this.viewType);},addHandlers:function(){var that=this;$(that.results).on('resultsupdated',function(){that.visual.fixImages(this);that.visual.resetHeights(this,that.viewType);that.setButtons(this);$(config.CONTAINER).removeClass('is-loading');}).on('sidebarupdated',function(){if(that.paginating.page>0){EPSON.productsData.query_string.offset=0;EPSON.productsData.query_string.limit=12;that.paginating.page=0;}
that.caching.save();that.solrRequest();}).on('click','.'+config.CSS_COMPARE,function(e){that.handleCompare(this,e.preventDefault.bind(e));}).on('mouseout','.'+config.CSS_COMPARE,function(){if($(this).hasClass('has-tooltip')){$(this).removeClass('has-tooltip is-active').find('.tooltip').remove();}});that.paginating.on('ready',function(){that.pageChange=true;that.caching.save();that.solrRequest();});that.comparing.on('productchange',function(){that.setButtons(that.results);});$('a.'+config.VIEW_TYPE).on('click',function(e){e.preventDefault();that.viewType=$(this).attr('href').substring(1);that.updateViewType();that.saveViewType();});$('select'+config.SORT_BY).on('change',function(){EPSON.productsData.query_string.sort=this.value;if(that.paginating.page>0){EPSON.productsData.query_string.offset=0;EPSON.productsData.query_string.limit=12;that.paginating.page=0;}
that.pageChange=true;that.caching.save();that.solrRequest();});EPSON.onsizechange(function(){that.visual.resetHeights(that.results,that.viewType);});},solrRequest:function(){var that=this;if(typeof(that.sidebar)!=='undefined'&&that.sidebar.filter_count==0){that.sidebar.filter_count++;}
$(config.CONTAINER).addClass('is-loading');$.ajax({url:EPSON.config.cclc+'viewcon/corporatesite/search/ajax',type:'GET',timeout:60000,data:EPSON.productsData.query_string,}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data.total<1){that.revertFilter(data.query_string);that.pageChange=false;}else{EPSON.productsData=data;that.redraw();}}).fail(function(){document.location.reload();}).always(function(){});},revertFilter:function(data){var that=this,exclude=['current','filter','filter_count','limit','offset','sort','type','category'];if(EPSON.productScripts.wasChecked){if(EPSON.productsData.query_string.hasOwnProperty(EPSON.productScripts.lastFilter.name)){var selection=EPSON.productsData.query_string[EPSON.productScripts.lastFilter.name];var values=selection.split(',');if(values.length<2){delete EPSON.productsData.query_string[EPSON.productScripts.lastFilter.name];}else{for(var i=0;i<values.length;i++){if(values[i]==EPSON.productScripts.lastFilter.val){values=values.splice(i,1);break;}}
EPSON.productsData.query_string[EPSON.productScripts.lastFilter.name]=values.join(',');}}}
if(!EPSON.productScripts.wasChecked){for(var key in data){if(exclude.indexOf(key)<0)delete data[key];}
EPSON.productsData.query_string=data;}
$(that.results).trigger('sidebarupdated');},ready:function(){this.viewType=this.caching.getViewType();this.updateViewType();this.redraw();},saveViewType:function(){this.caching.viewType=this.viewType;this.caching.setViewType();},redraw:function(){this.repaginate();this.drawResults();if(this.pageChange!==true){if(this.sidebar)this.sidebar.drawSidebar();this.pageChange=false;}},repaginate:function(){this.paginating.render();},drawResults:function(){var output='',template=$('#templateLoopProduct').html();if(EPSON.productsData.results){$.each(EPSON.productsData.results,function(key,value){var data=value;data.id_i=parseInt(data.id.match(/[0-9]+/g)[0]);data.image_b=(data.image_s&&data.image_s!=="false");data.headline_b=(data.headline_s!=="false");if(data.rrp_f){data.rrp_b=EPSON.uncurrency(data.rrp_f)>0;}else{data.rrp_b=false;}
if(data.was_rrp_f){data.promoPRICE_b=true;}
var promoArray=['promotion1_type_s','promotion2_type_s','promotion3_type_s','promotion4_type_s'];for(var i=0;i<promoArray.length;i++){if(data.hasOwnProperty(promoArray[i])){var promoType=data[promoArray[i]];if(promoType=='TEXT'){data.promoTEXT_b=true;}
if(promoType=='PING'){data.promoPING_b=true;}
if(promoType=='BOTH'){data.promoTEXT_b=true;data.promoPING_b=true;}}}
output+=Mustache.to_html(template,data);});$(config.RESULTS).html(output);$(this.results).trigger('resultsupdated');}},handleCompare:function(link,preventDefault){var comparing=this.comparing;$('.'+config.CSS_COMPARE).removeClass('has-tooltip is-active').find('.tooltip').remove();if(comparing.isFull()&&!comparing.isRemoveLink(link)){preventDefault();if(!$(link).hasClass('has-tooltip')){$('<div class="tooltip">'+EPSON.i18n.comparefull+'</div>').appendTo(link);$(link).addClass('has-tooltip is-active');}}else{comparing.handleCompare(link,preventDefault);}},setButtons:function(parent){var comparing=this.comparing,setLinkText=comparing.setLinkText.bind(comparing);$('.'+config.CSS_COMPARE,parent).each(function(){setLinkText(this);});comparing.setDisabledLinks();},updateViewType:function(){var that=this;$(config.RESULTS).attr('class','product-loop product-loop__'+that.viewType);$('a.'+config.VIEW_TYPE).removeClass('is-active');$('a.'+config.VIEW_TYPE+'__'+that.viewType).addClass('is-active');that.visual.resetHeights(that.results,that.viewType);}});}());$(function(){new EPSON.productScripts();});;EPSON.tabbedProductList=(function(){'use strict';var config={ATTR_SRC:'data-src',TAB_CONTAINER:'.tab-panel',TAB_CONTAINER_ACTIVE:'.is-open',RESULTS_CONTAINER:'.product-results-container',RESULTS:'.solr-loop',CSS_RESULT:'li[data-id]',VIEW_TYPE:'view-type',SORT_BY:'.productSort',OBSERVER_CONFIG:{attributeFilter:['aria-hidden'],attributeOldValue:true}}
return EPSON.createClass(EPSON.Observer,{init:function(){if(this.findElements()){this.addObjects()
this.addHandlers()
this.ready();}},findElements:function(){this.results=$(config.RESULTS).get();this.tabs=$(config.TAB_CONTAINER).get();return this.results.length>0;},addObjects:function(){var that=this;this.paginating=[];this.visual=new EPSON.PL_productListingVisuals(config);this.observer=new MutationObserver(function(mutations,observer){$(that).trigger("tabchange");});$(config.TAB_CONTAINER).each(function(index){var pagination=new EPSON.Tabbed_PL_Paginating(index);that.paginating.push(pagination);});},addHandlers:function(){var that=this;$(that.results).on('resultsupdated',function(){that.visual.fixImages(this);that.visual.resetHeights(this,that.viewType);$(config.RESULTS_CONTAINER).removeClass('is-loading');});$('select'+config.SORT_BY).on('change',function(){var panel=$(this).closest('.tab-panel');var tabId=panel.attr('data-result-id');EPSON.productsData[tabId].query_string.sort=this.value;if(that.paginating[tabId].page>0){EPSON.productsData[tabId].query_string.offset=0;EPSON.productsData[tabId].query_string.limit=12;that.paginating[tabId].page=0;}
that.solrRequest(tabId);});$.each(that.paginating,function(i){this.on('ready'+i,function(){that.pageChange=true;that.solrRequest(i);console.log('ready '+i);});});},ready:function(){this.drawTabs();},drawTabs:function(){var that=this;for(var i=0;i<this.paginating.length;i++){this.paginating[i].render();}
$(config.TAB_CONTAINER).each(function(){that.drawTab($(this));});},drawTab:function(tab){var that=this;var output='',template=$('#templateLoopProduct').html();var tabId=tab.attr('data-result-id');var tabData=EPSON.productsData[tabId];this.paginating[tabId].render();if(tabData.results){$.each(tabData.results,function(key,value){var data=value;data.id_i=parseInt(data.id.match(/[0-9]+/g)[0]);data.image_b=(data.image_s&&data.image_s!=="false");data.headline_b=(data.headline_s!=="false");if(data.rrp_f){data.rrp_b=EPSON.uncurrency(data.rrp_f)>0;}else{data.rrp_b=false;}
if(data.was_rrp_f){data.promoPRICE_b=true;}
var promoArray=['promotion1_type_s','promotion2_type_s','promotion3_type_s','promotion4_type_s'];for(var i=0;i<promoArray.length;i++){if(data.hasOwnProperty(promoArray[i])){var promoType=data[promoArray[i]];if(promoType=='TEXT'){data.promoTEXT_b=true;}
if(promoType=='PING'){data.promoPING_b=true;}
if(promoType=='BOTH'){data.promoTEXT_b=true;data.promoPING_b=true;}}}
output+=Mustache.to_html(template,data);});$(this.results[tabId]).html(output).trigger('resultsupdated');}},solrRequest:function(tabId){var that=this;$(this.tabs[tabId]).find(config.RESULTS_CONTAINER).addClass('is-loading');$.ajax({url:EPSON.config.cclc+'viewcon/corporatesite/modules/promo_skus/productconfig/'+EPSON.productsData[tabId].query_string.config_id,type:'GET',timeout:25000,data:EPSON.productsData[tabId].query_string}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data.total<1){that.revertFilter(data.query_string);that.pageChange=false;}else{EPSON.productsData[tabId]=data;that.drawTab($(that.tabs[tabId]));}}).fail(function(){document.location.reload();}).always(function(){});}})}());;EPSON.Tabbed_PL_Paginating=(function(){'use strict';var config={ATTR_PAGE:'data-page',CSS_CHECKED:'is-checked',CSS_DISABLED:'is-disabled',CSS_SHOWALL:'pagination-showall',SEL_PAGINATION:'.results-pagination',VAL_PERPAGE:12,};return EPSON.createClass(EPSON.Observer,{init:function(tabID){this.tabID=tabID;var productsData=EPSON.productsData[tabID]
if(productsData.query_string.limit==12){this.page=productsData.query_string.offset/productsData.query_string.limit;}else{this.page=-1;}
this.perPage=config.VAL_PERPAGE;this.total=productsData.total;EPSON.Tabbed_PL_Paginating.parent.init.call(this);this.addObjects();this.addHandlers();},addObjects:function(){var pageRender=new EPSON.Tabbed_PL_PaginationRender(this.tabID);this.pageRender=pageRender;},addHandlers:function(){var that=this;$(config.SEL_PAGINATION).on('click','a',function(e){that.handlePageClick(this,e.preventDefault.bind(e));});$('.search-results__info').on('click','.'+config.CSS_SHOWALL,function(e){that.handlePageClick(this,e.preventDefault.bind(e));});},handlePageClick:function(link,preventDefault){var tabID=this.tabID;if($('#tab'+tabID).find(link).length>0){var jQlink=$(link),attr='',first='',amount=0,noclick='.'+config.CSS_CHECKED+',.'+config.CSS_DISABLED;preventDefault();window.scrollTo(0,0);if(jQlink.hasClass(config.CSS_SHOWALL)){this.page=this.page<0?0:-1;EPSON.productsData[tabID].query_string.offset=0;EPSON.productsData[tabID].query_string.limit=this.page<0?EPSON.productsData[tabID].total:config.VAL_PERPAGE;this.trigger('ready'+tabID);}else if(!jQlink.is(noclick)){attr=jQlink.attr(config.ATTR_PAGE);first=attr[0]||attr.charAt(0);amount=+attr.slice(1);if(first==='+'){this.page=this.page+amount;}else if(first==='-'){this.page=this.page-amount;}else if(!isNaN(first)){this.page=+attr;}
var offset=this.page*this.perPage;offset=offset>EPSON.productsData[tabID].total?EPSON.productsData[tabID].total:offset;EPSON.productsData[tabID].query_string.offset=offset;this.trigger('ready'+tabID);}}},render:function(){var data={};var tabID=this.tabID;data.page=this.page;data.tabID=this.tabID;if(EPSON.productsData[tabID].query_string.limit&&EPSON.productsData[tabID].total==EPSON.productsData[tabID].query_string.limit){data.page=-1;}
data.perPage=this.perPage;data.total=EPSON.productsData[tabID].total;data.isShowAll=(data.page===-1);this.pageRender.render(data);}});}());;(function(){'use strict';var config={CSS_SHOWING:'search-results__count',CSS_PAGES:'results-pagination',HTML_PAGELIST:'<ul class="pagination-pages">{links}'+'<\/ul>',HTML_PAGE:'<li><a href="#" '+'data-page="{page}">{render}<\/a><\/li>',HTML_CURRENT:'<li><a href="#" class="is-checked">'+'{render}<\/a><\/li>',HTML_GAP:'<li>&hellip;<\/li>',HTML_PREV:'<li><a href="#" data-page="-1">'+'&lt;<\/a><\/li>',HTML_NEXT:'<li><a href="#" data-page="+1">'+'&gt;<\/a><\/li>',HTML_NOPREV:'<li><a href="#" class="is-disabled" '+'data-page="-1">&lt;<\/a><\/li>',HTML_NONEXT:'<li><a href="#" class="is-disabled" '+'data-page="+1">&gt;<\/a><\/li>',HTML_SHOWALL:'<a href="#" class="btn pagination-showall">'+'{all}</a>',VAL_DISPLAY:3,VAL_EDGES:1};EPSON.Tabbed_PL_PaginationRender=EPSON.createClass({init:function(tab){if(typeof tab!=undefined){this.tab=tab;}
this.findElements();},findElements:function(){var showing=$('.'+config.CSS_SHOWING)
var pages=$('.'+config.CSS_PAGES)
showing=this.filterElements(showing)
pages=this.filterElements(pages)
this.showing=showing.get();this.pages=pages.get();},filterElements:function(elements){var that=this;return elements.filter(function(){var attr="[data-result-id='"+that.tab+"']"
return $(this).closest(attr).length>0});},render:function(data){this.data=data;this.renderShowing();this.renderPages();},renderShowing:function(){var pagination=this.pagination,range=this.data.perPage,startPage=(this.data.page*range)+1,endPage=(this.data.page*range)+range;startPage=startPage>this.data.total?this.data.total:startPage;endPage=endPage>this.data.total?this.data.total:endPage;if(this.data.page<0){startPage=1;endPage=this.data.total;}
$(this.showing).html(EPSON.supplant(EPSON.i18n.nowshowing,{startPage:'<strong>'+startPage+'</strong>',endPage:'<strong>'+endPage+'</strong>',totalCount:this.data.total}));},renderPages:function(){var prev='',next='',pages='';if(!this.data.isShowAll){prev=this.data.page===0?config.HTML_NOPREV:config.HTML_PREV;pages=this.getPages();next=this.data.page===this.getMaxPages()-1?config.HTML_NONEXT:config.HTML_NEXT;}
$(this.pages).html(EPSON.supplant(config.HTML_PAGELIST,{links:[prev,pages,next].join('')})+this.getShowAll());},getInterval:function(){var current=this.data.page,display=config.VAL_DISPLAY,half=display/2,total=this.getMaxPages();return{start:Math.ceil(current>half?Math.max(Math.min(current-half,total-display),0):0),end:Math.ceil(current>half?Math.min(current+half,total):Math.min(display,total))};},generatePages:function(){var i=0,end=0,begin=0,interval=this.getInterval(),links=[],edges=config.VAL_EDGES,pages=this.getAllPages(),total=this.getMaxPages();if(interval.start>0&&edges>0){end=Math.min(edges,interval.start);for(i=0;i<end;i+=1){links.push(pages[i]);}
if(edges<interval.start&&(interval.start-edges!==1)){links.push(-1);}else if(interval.start-edges===1){links.push(pages[edges]);}}
for(i=interval.start;i<interval.end;i+=1){links.push(pages[i]);}
if(interval.end<total&&edges>0){if(total-edges>interval.end&&total-edges-interval.end!==1){links.push(-1);}else if(total-edges-interval.end===1){links.push(pages[interval.end]);interval.end+=1;}
begin=Math.max(total-edges,interval.end);for(i=begin;i<total;i+=1){links.push(pages[i]);}}
return links;},getPages:function(){var current=this.data.page;return this.generatePages().map(function(page){var html=config.HTML_GAP,base=page===current?config.HTML_CURRENT:config.HTML_PAGE;if(page>=0){html=EPSON.supplant(base,{page:page,render:page+1});}
return html;}).join('');},getShowAll:function(){var showAll='',text=this.data.page<0?'showless':'showall';if(this.getMaxPages()>1){showAll=EPSON.supplant(config.HTML_SHOWALL,{all:EPSON.i18n[text]});$('.search-results__info .pagination-showall').text(EPSON.i18n[text]);}else{$('.search-results__info .pagination-showall').hide();}
return showAll;},getMaxPages:function(){return Math.ceil(this.data.total/this.data.perPage);},getAllPages:function(){var pages=[],total=this.getMaxPages(),i=0;while(i<total){pages.push(i);i+=1;}
return pages;},});}());;EPSON.paginateList=(function(){'use strict';var config={WRAPPER:'.pagination-wrap',ATTR_PAGE:'data-page',CSS_CHECKED:'is-checked',CSS_DISABLED:'is-disabled',CSS_SHOWALL:'pagination-showall',VAL_PERPAGE:7};var renderConfig={CSS_SHOWING:'pagination-count',CSS_PAGES:'pagination-results',HTML_PAGELIST:'<ul class="pagination-pages">{links}'+'<\/ul>',HTML_PAGE:'<li><a href="#" '+'data-page="{page}">{render}<\/a><\/li>',HTML_CURRENT:'<li><a href="#" class="is-checked">'+'{render}<\/a><\/li>',HTML_GAP:'<li>&hellip;<\/li>',HTML_PREV:'<li><a href="#" data-page="-1">'+'&lt;<\/a><\/li>',HTML_NEXT:'<li><a href="#" data-page="+1">'+'&gt;<\/a><\/li>',HTML_NOPREV:'<li><a href="#" class="is-disabled" '+'data-page="-1">&lt;<\/a><\/li>',HTML_NONEXT:'<li><a href="#" class="is-disabled" '+'data-page="+1">&gt;<\/a><\/li>',HTML_SHOWALL:'<a href="#" class="btn pagination-showall">'+'{all}</a>',VAL_DISPLAY:3,VAL_EDGES:1};return EPSON.createClass({init:function(list,count,type,paginationType){this.list=list;this.count=count?count:config.VAL_PERPAGE;this.wrapper=$(this.list).next(config.WRAPPER);this.type=type?type:null;this.paginationType=paginationType?paginationType:null;if(this.type=='insights'){this.wrapper=$(this.list).next('.solr-loop-nav').find(config.WRAPPER);}
this.draw();this.addHandlers();},draw:function(count){if(this.findList()){$(this.list).hide();if(typeof this.data==='undefined'){this.data={};}
this.data.results=this.getListItems();this.data.perPage=count?count:this.count;this.data.total=this.data.results.length;this.data.page=this.data.isShowAll?-1:0;this.showing=$(this.wrapper).find('.'+renderConfig.CSS_SHOWING).get();this.pages=$(this.wrapper).find('.'+renderConfig.CSS_PAGES).get();if(this.type=='resources'||this.type=='hubs'||this.type=='pre-loop'){this.wrapper2=$(this.list).prev('.pre-loop');this.showing2=$(this.wrapper2).find('.'+renderConfig.CSS_SHOWING).get();this.showall=$(this.wrapper2).find('.'+renderConfig.CSS_PAGES).get();}
if(this.type=='insights'){this.wrapper2=$(this.list).prev('.solr-loop-nav');this.showing2=$(this.wrapper2).find('.'+renderConfig.CSS_SHOWING).get();this.showall=$(this.wrapper2).find('.'+renderConfig.CSS_PAGES).get();}
this.render();}},findList:function(){return $(this.list).get().length>0;},getListItems:function(){var list=new Array();$(this.list).find('li').each(function(){if(!$(this).hasClass('is-hidden')){list.push($(this).html());}})
return list;},addHandlers:function(){var that=this;$(this.wrapper).on('click','.pagination-results a',function(e){e.preventDefault();that.handlePageClick(this);});if(this.wrapper2){$(this.wrapper2).on('click','.pagination-results a',function(e){e.preventDefault();that.handlePageClick(this);});}},handlePageClick:function(link){var jQlink=$(link),attr='',first='',amount=0,noclick='.'+config.CSS_CHECKED+',.'+config.CSS_DISABLED,$pagWrap=$(this.wrapper).find('.'+renderConfig.CSS_PAGES);window.scrollTo(0,jQlink.closest('section').offset().top);if(jQlink.hasClass(config.CSS_SHOWALL)){this.data.page=this.data.page<0?0:-1;this.render();}else if(!jQlink.is(noclick)){attr=jQlink.attr(config.ATTR_PAGE);first=attr[0]||attr.charAt(0);amount=+attr.slice(1);if(first==='+'){this.data.page=this.data.page+amount;}else if(first==='-'){this.data.page=this.data.page-amount;}else if(!isNaN(first)){this.data.page=+attr;}
this.render();}},render:function(){this.data.isShowAll=this.data.page===-1?true:false;this.renderList();this.renderShowing();this.renderPages();$(this.list).trigger('render');},renderList:function(){var range=this.data.perPage,startPage=(this.data.page*range)+1,endPage=(this.data.page*range)+range;startPage=startPage>this.data.total?this.data.total:startPage;endPage=endPage>this.data.total?this.data.total:endPage;if(this.data.page<0){startPage=1;endPage=this.data.total;}
startPage--;if(this.data.total>0){$(this.list).html('');for(var i=startPage;i<endPage;i++){$(this.list).append('<li>'+this.data.results[i]+'</li>');}}
$(this.list).show();},renderShowing:function(){if(!this.data.total){$(this.showing).html('');if(this.showing2)$(this.showing2).html('');return false;}
var pagination=this.pagination,range=this.data.perPage,startPage=(this.data.page*range)+1,endPage=(this.data.page*range)+range;startPage=startPage>this.data.total?this.data.total:startPage;endPage=endPage>this.data.total?this.data.total:endPage;if(this.data.page<0){startPage=1;endPage=this.data.total;}
var translationKey=EPSON.i18n.nowshowing;var typeSet=this.paginationType;switch(typeSet){case'resources':translationKey=EPSON.i18n.nowshowingresources;break;case'hubs':translationKey=EPSON.i18n.nowshowingpromotions;break;case'insights':translationKey=EPSON.i18n.nowshowinginsights;break;case'careers':translationKey=EPSON.i18n.nowshowingcareers;break;default:translationKey=EPSON.i18n.nowshowing;break;}
var translatedCount=EPSON.supplant(translationKey,{startPage:'<strong>'+startPage+'</strong>',endPage:'<strong>'+endPage+'</strong>',totalCount:this.data.total});$(this.showing).html(translatedCount);if(this.showing2){$(this.showing2).html(translatedCount);}},renderPages:function(){if(!this.data.total){$(this.pages).html('');$(this.showall).html('');return false;}
var prev='',next='',pages='';if(!this.data.isShowAll){prev=this.data.page===0?renderConfig.HTML_NOPREV:renderConfig.HTML_PREV;pages=this.getPages();next=this.data.page===this.getMaxPages()-1?renderConfig.HTML_NONEXT:renderConfig.HTML_NEXT;}
$(this.pages).html(EPSON.supplant(renderConfig.HTML_PAGELIST,{links:[prev,pages,next].join('')})+this.getShowAll());if(this.showall){$(this.showall).html(this.getShowAll());}},getInterval:function(){var current=this.data.page,display=renderConfig.VAL_DISPLAY,half=display/2,total=this.getMaxPages();return{start:Math.ceil(current>half?Math.max(Math.min(current-half,total-display),0):0),end:Math.ceil(current>half?Math.min(current+half,total):Math.min(display,total))};},generatePages:function(){var i=0,end=0,begin=0,interval=this.getInterval(),links=[],edges=renderConfig.VAL_EDGES,pages=this.getAllPages(),total=this.getMaxPages();if(interval.start>0&&edges>0){end=Math.min(edges,interval.start);for(i=0;i<end;i+=1){links.push(pages[i]);}
if(edges<interval.start&&(interval.start-edges!==1)){links.push(-1);}else if(interval.start-edges===1){links.push(pages[edges]);}}
for(i=interval.start;i<interval.end;i+=1){links.push(pages[i]);}
if(interval.end<total&&edges>0){if(total-edges>interval.end&&total-edges-interval.end!==1){links.push(-1);}else if(total-edges-interval.end===1){links.push(pages[interval.end]);interval.end+=1;}
begin=Math.max(total-edges,interval.end);for(i=begin;i<total;i+=1){links.push(pages[i]);}}
return links;},getPages:function(){var current=this.data.page;return this.generatePages().map(function(page){var html=renderConfig.HTML_GAP,base=page===current?renderConfig.HTML_CURRENT:renderConfig.HTML_PAGE;if(page>=0){html=EPSON.supplant(base,{page:page,render:page+1});}
return html;}).join('');},getShowAll:function(){var showAll='',text=this.data.page<0?'showless':'showall';if(this.getMaxPages()>1){showAll=EPSON.supplant(renderConfig.HTML_SHOWALL,{all:EPSON.i18n[text]});}
return showAll;},getMaxPages:function(){return Math.ceil(this.data.total/this.data.perPage);},getAllPages:function(){var pages=[],total=this.getMaxPages(),i=0;while(i<total){pages.push(i);i+=1;}
return pages;},});}());;EPSON.productCollapsible=(function(){'use strict';var config={LIST:'.collapsible-list',TOGGLE:'h3',CONTENT:'.inner-content',EXPAND:'.do-expand-all'};return EPSON.createClass({init:function(section,i){this.section=section;this.expanded=false;this.collapsibles=$(this.section).find(config.LIST+' > li').get();this.addHandlers();if(i>0){this.openAll();}},addHandlers:function(){var that=this;$(that.section).on('click',config.LIST+' '+config.TOGGLE,function(){that.triggerToggle(this);});$(that.section).on('click',config.EXPAND,function(e){e.preventDefault();var list=$(that.section).find(config.LIST+' > li').get();for(var i=0;i<list.length;i++){if(that.expanded===false){that.triggerShow($(list[i]).find(config.TOGGLE));}else{that.triggerHide($(list[i]).find(config.TOGGLE));}}
that.expanded=(that.expanded===false)?true:false;var newText=(that.expanded===false)?'show-text':'hide-text';$(this).text($(this).data(newText));$(this).blur();});},triggerToggle:function(link){if($(link).parent().hasClass('is-open')){this.triggerHide(link);}else{this.triggerShow(link);}
this.checkExpandState();},triggerShow:function(link){$(link).next(config.CONTENT).stop(true,true).slideDown('fast',function(){if(Waypoint)Waypoint.refreshAll();});$(link).parent().addClass('is-open');},triggerHide:function(link){$(link).next(config.CONTENT).stop(true,true).slideUp('fast',function(){if(Waypoint)Waypoint.refreshAll();});$(link).parent().removeClass('is-open');},checkExpandState:function(){var closed=0,open=0;for(var i=0;i<this.collapsibles.length;i++){if($(this.collapsibles[i]).hasClass('is-open')){open++;}else{closed++;}}
if(closed==this.collapsibles.length){this.expanded=false;$(this.section).find(config.EXPAND).text($(this.section).find(config.EXPAND).data('show-text'));}
else if(open==this.collapsibles.length){this.expanded=true;$(this.section).find(config.EXPAND).text($(this.section).find(config.EXPAND).data('hide-text'));}},openAll:function(){var that=this,list=$(this.section).find(config.LIST+' > li').get();for(var i=0;i<list.length;i++){that.triggerShow($(list[i]).find(config.TOGGLE));}},});}());;eval(function(m,a,g,i,c,k){c=function(e){return(e<a?'':c(parseInt(e/a)))+((e=e%a)>35?String.fromCharCode(e+29):e.toString(36))};if(!''.replace(/^/,String)){while(g--){k[c(g)]=i[g]||c(g)}i=[function(e){return k[e]}];c=function(){return'\\w+'};g=1};while(g--){if(i[g]){m=m.replace(new RegExp('\\b'+c(g)+'\\b','g'),i[g])}}return m}('1j.8P=(17(){1c w,y;w=y=(17(){1c S={4q:"fx.3-b3-8-fy",eC:0,7J:{},$aH:17(W){1a(W.$5U||(W.$5U=++M.eC))},9v:17(W){1a(M.7J[W]||(M.7J[W]={}))},$F:17(){},$1n:17(){1a 1n},$1r:17(){1a 1r},es:"dD-"+1o.6e(1o.6O()*1t a5().eo()),3o:17(W){1a(2D!=W)},aF:17(X,W){1a(2D!=X)?X:W},8X:17(W){1a!!(W)},1P:17(W){if(!M.3o(W)){1a 1n}if(W.$4G){1a W.$4G}if(!!W.5M){if(1==W.5M){1a"5Z"}if(3==W.5M){1a"ek"}}if(W.1I&&W.eK){1a"fb"}if(W.1I&&W.9N){1a"29"}if((W 5g 1j.eM||W 5g 1j.bC)&&W.57===M.3y){1a"3M"}if(W 5g 1j.69){1a"4b"}if(W 5g 1j.bC){1a"17"}if(W 5g 1j.5W){1a"1O"}if(M.1e.4K){if(M.3o(W.cd)){1a"1z"}}1k{if(W===1j.1z||W.57==1j.1u||W.57==1j.eb||W.57==1j.dJ||W.57==1j.fj||W.57==1j.fh){1a"1z"}}if(W 5g 1j.a5){1a"eP"}if(W 5g 1j.dd){1a"fe"}if(W===1j){1a"1j"}if(W===1m){1a"1m"}1a 93(W)},1X:17(ab,aa){if(!(ab 5g 1j.69)){ab=[ab]}if(!aa){1a ab[0]}1S(1c Z=0,X=ab.1I;Z<X;Z++){if(!M.3o(ab)){7G}1S(1c Y in aa){if(!eM.2w.41.2b(aa,Y)){7G}3x{ab[Z][Y]=aa[Y]}3R(W){}}}1a ab[0]},9U:17(aa,Z){if(!(aa 5g 1j.69)){aa=[aa]}1S(1c Y=0,W=aa.1I;Y<W;Y++){if(!M.3o(aa[Y])){7G}if(!aa[Y].2w){7G}1S(1c X in(Z||{})){if(!aa[Y].2w[X]){aa[Y].2w[X]=Z[X]}}}1a aa[0]},em:17(Y,X){if(!M.3o(Y)){1a Y}1S(1c W in(X||{})){if(!Y[W]){Y[W]=X[W]}}1a Y},$3x:17(){1S(1c X=0,W=29.1I;X<W;X++){3x{1a 29[X]()}3R(Y){}}1a 1h},$A:17(Y){if(!M.3o(Y)){1a M.$([])}if(Y.eL){1a M.$(Y.eL())}if(Y.eK){1c X=Y.1I||0,W=1t 69(X);5l(X--){W[X]=Y[X]}1a M.$(W)}1a M.$(69.2w.ao.2b(Y))},6q:17(){1a 1t a5().eo()},4a:17(aa){1c Y;4r(M.1P(aa)){1B"8O":Y={};1S(1c Z in aa){Y[Z]=M.4a(aa[Z])}1G;1B"4b":Y=[];1S(1c X=0,W=aa.1I;X<W;X++){Y[X]=M.4a(aa[X])}1G;1R:1a aa}1a M.$(Y)},$:17(Y){1c W=1r;if(!M.3o(Y)){1a 1h}if(Y.$aL){1a Y}4r(M.1P(Y)){1B"4b":Y=M.em(Y,M.1X(M.69,{$aL:M.$F}));Y.36=Y.ds;1a Y;1G;1B"1O":1c X=1m.cW(Y);if(M.3o(X)){1a M.$(X)}1a 1h;1G;1B"1j":1B"1m":M.$aH(Y);Y=M.1X(Y,M.3v);1G;1B"5Z":M.$aH(Y);Y=M.1X(Y,M.3Y);1G;1B"1z":Y=M.1X(Y,M.1u);1G;1B"ek":1B"17":1B"4b":1B"eP":1R:W=1n;1G}if(W){1a M.1X(Y,{$aL:M.$F})}1k{1a Y}},$1t:17(W,Y,X){1a M.$(M.cv.7L(W)).bK(Y||{}).1x(X||{})},76:17(X,Z,ad){1c aa,Y,ab,ac=[],W=-1;ad||(ad=M.es);aa=M.$(ad)||M.$1t("2l",{id:ad,1y:"9T/6M"}).1Z((1m.fO||1m.3H),"1H");Y=aa.f8||aa.eV;if("1O"!=M.1P(Z)){1S(1c ab in Z){ac.38(ab+":"+Z[ab])}Z=ac.6Y(";")}if(Y.eO){W=Y.eO(X+" {"+Z+"}",Y.fL.1I)}1k{W=Y.fP(X,Z)}1a W},fE:17(Z,W){1c Y,X;Y=M.$(Z);if("5Z"!==M.1P(Y)){1a}X=Y.f8||Y.eV;if(X.f2){X.f2(W)}1k{if(X.eY){X.eY(W)}}},fX:17(){1a"fd-fv-fq-fi-fo".4v(/[g7]/g,17(Y){1c X=1o.6O()*16|0,W=Y=="x"?X:(X&3|8);1a W.8p(16)}).9b()},6b:(17(){1c W;1a 17(X){if(!W){W=1m.7L("a")}W.3T("6K",X);1a("!!"+W.6K).4v("!!","")}})(),fY:17(Y){1c Z=0,W=Y.1I;1S(1c X=0;X<W;++X){Z=31*Z+Y.ex(X);Z%=fV}1a Z}};1c M=S;1c N=S.$;if(!1j.dG){1j.dG=S;1j.$dD=S.$}M.69={$4G:"4b",6a:17(Z,aa){1c W=13.1I;1S(1c X=13.1I,Y=(aa<0)?1o.1V(0,X+aa):aa||0;Y<X;Y++){if(13[Y]===Z){1a Y}}1a-1},5F:17(W,X){1a 13.6a(W,X)!=-1},ds:17(W,Z){1S(1c Y=0,X=13.1I;Y<X;Y++){if(Y in 13){W.2b(Z,13[Y],Y,13)}}},2V:17(W,ab){1c aa=[];1S(1c Z=0,X=13.1I;Z<X;Z++){if(Z in 13){1c Y=13[Z];if(W.2b(ab,13[Z],Z,13)){aa.38(Y)}}}1a aa},fJ:17(W,aa){1c Z=[];1S(1c Y=0,X=13.1I;Y<X;Y++){if(Y in 13){Z[Y]=W.2b(aa,13[Y],Y,13)}}1a Z}};M.9U(5W,{$4G:"1O",4X:17(){1a 13.4v(/^\\s+|\\s+$/g,"")},eq:17(W,X){1a(X||1n)?(13.8p()===W.8p()):(13.5u().8p()===W.5u().8p())},5A:17(){1a 13.4v(/-\\D/g,17(W){1a W.9g(1).9b()})},9Z:17(){1a 13.4v(/[A-Z]/g,17(W){1a("-"+W.9g(0).5u())})},fU:17(W){1a 5D(13,W||10)},fM:17(){1a 2F(13)},cS:17(){1a!13.4v(/1r/i,"").4X()},4F:17(X,W){W=W||"";1a(W+13+W).6a(W+X+W)>-1}});S.9U(bC,{$4G:"17",1E:17(){1c X=M.$A(29),W=13,Y=X.6Q();1a 17(){1a W.6i(Y||1h,X.5E(M.$A(29)))}},2E:17(){1c X=M.$A(29),W=13,Y=X.6Q();1a 17(Z){1a W.6i(Y||1h,M.$([Z||(M.1e.2n?1j.1z:1h)]).5E(X))}},2y:17(){1c X=M.$A(29),W=13,Y=X.6Q();1a 1j.4D(17(){1a W.6i(W,X)},Y||0)},cB:17(){1c X=M.$A(29),W=13;1a 17(){1a W.2y.6i(W,X)}},c7:17(){1c X=M.$A(29),W=13,Y=X.6Q();1a 1j.f6(17(){1a W.6i(W,X)},Y||0)}});1c T={},L=2H.fN.5u(),K=L.3s(/(3W|5K|4K|bF)\\/(\\d+\\.?\\d*)/i),P=L.3s(/(fQ|ap)\\/(\\d+\\.?\\d*)/i)||L.3s(/(eu|4l|8L|dV|6h|ap)\\/(\\d+\\.?\\d*)/i),R=L.3s(/4q\\/(\\d+\\.?\\d*)/i),G=1m.6k.2l;17 H(X){1c W=X.9g(0).9b()+X.ao(1);1a X in G||("er"+W)in G||("ev"+W)in G||("7D"+W)in G||("O"+W)in G}M.1e={2L:{fK:!!(1m.fD),fC:!!(1j.et),bl:!!(1m.ei),4Z:!!(1m.fF||1m.fG||1m.9K||1m.eN||1m.fI||1m.fH||1m.fR||1m.fS||1m.g2),cl:!!(1j.g1)&&!!(1j.g3)&&(1j.8K&&"g6"in 1t 8K),1Y:H("1Y"),2g:H("2g"),8V:H("8V"),ef:H("ef"),4Y:1n,eW:1n,8q:1n,75:(17(){1a 1m.g0.fZ("bU://bV.b1.b8/fB/fT/fW#f9","1.1")})()},cY:17(){1a"fa"in 1j||(1j.dY&&1m 5g dY)}(),3t:L.3s(/(6y|bb\\d+|fu).+|fp|fs\\/|fr|fw|fm|ft|fA|fc|fg|ip(dr|df|ad)|ff|hQ|hj |hi|hh|hf|3t.+dV|hg|6h m(hk|in)i|hp( ho)?|e9|p(hn|hd)\\/|h1|h2|h9|hq(4|6)0|g8|hr|hL\\.(1e|43)|hP|hN|hM (ce|e9)|hw|hs/)?1r:1n,7n:(K&&K[1])?K[1].5u():(1j.6h)?"bF":!!(1j.h0)?"4K":(2D!==1m.gp||1h!=1j.go)?"5K":(1h!==1j.gt||!2H.gx)?"3W":"gw",4q:(K&&K[2])?2F(K[2]):0,3B:(P&&P[1])?P[1].5u():"",7l:(P&&P[2])?2F(P[2]):0,8a:"",aw:"",4W:"",2n:0,4N:L.3s(/ip(?:ad|df|dr)/)?"8R":(L.3s(/(?:gv|6y)/)||2H.4N.3s(/gm|8Y|gl/i)||["gd"])[0].5u(),ej:1m.8U&&"dI"==1m.8U.5u(),f1:0,49:17(){1a(1m.8U&&"dI"==1m.8U.5u())?1m.3H:1m.6k},4Y:1j.4Y||1j.gc||1j.gb||1j.g9||1j.ge||2D,9s:1j.9s||1j.eU||1j.eU||1j.gf||1j.gk||1j.gj||2D,2i:1n,7p:17(){if(M.1e.2i){1a}1c Z,Y;M.1e.2i=1r;M.3H=M.$(1m.3H);M.8Y=M.$(1j);3x{1c X=M.$1t("2Y").1x({1f:2N,1g:2N,5d:"5O",2e:"5C",1H:-gi}).1Z(1m.3H);M.1e.f1=X.d8-X.cZ;X.2P()}3R(W){}3x{Z=M.$1t("2Y");Y=Z.2l;Y.eQ="eR:2d(a8://),2d(a8://),gg 2d(a8://)";M.1e.2L.eW=(/(2d\\s*\\(.*?){3}/).3e(Y.eR);Y=1h;Z=1h}3R(W){}if(!M.1e.7v){M.1e.7v=M.9Q("2g").9Z()}3x{Z=M.$1t("2Y");Z.2l.eQ=M.9Q("2V").9Z()+":5e(gh);";M.1e.2L.8q=!!Z.2l.1I&&(!M.1e.2n||M.1e.2n>9);Z=1h}3R(W){}if(!M.1e.2L.8q){M.$(1m.6k).1A("6E-gz-3p")}if(2D===1j.gS&&2D!==1j.gQ){T.2S="gO"}M.3v.2U.2b(M.$(1m),"9z")}};(17(){1c aa=[],Z,Y,X;17 W(){1a!!(29.9N.bT)}4r(M.1e.7n){1B"4K":if(!M.1e.4q){M.1e.4q=!!(1j.8K)?3:2}1G;1B"5K":M.1e.4q=(P&&P[2])?2F(P[2]):0;1G}M.1e[M.1e.7n]=1r;if(P&&"eu"===P[1]){M.1e.3B="4l"}if(!!1j.4l){M.1e.4l=1r}if(P&&"ap"===P[1]){M.1e.3B="6h";M.1e.6h=1r}if("8L"===M.1e.3B&&(R&&R[1])){M.1e.7l=2F(R[1])}if("6y"==M.1e.4N&&M.1e.3W&&(R&&R[1])){M.1e.6u=1r}Z=({5K:["-ew-","ev","ew"],3W:["-3W-","er","3W"],4K:["-7D-","7D","7D"],bF:["-o-","O","o"]})[M.1e.7n]||["","",""];M.1e.8a=Z[0];M.1e.aw=Z[1];M.1e.4W=Z[2];M.1e.2n=(!M.1e.4K)?2D:(1m.ep)?1m.ep:17(){1c ab=0;if(M.1e.ej){1a 5}4r(M.1e.4q){1B 2:ab=6;1G;1B 3:ab=7;1G}1a ab}();aa.38(M.1e.4N+"-3p");if(M.1e.3t){aa.38("3t-3p")}if(M.1e.6u){aa.38("6y-1e-3p")}if(M.1e.2n){M.1e.3B="ie";M.1e.7l=M.1e.2n;aa.38("ie"+M.1e.2n+"-3p");1S(Y=11;Y>M.1e.2n;Y--){aa.38("gY-ie"+Y+"-3p")}}if(M.1e.3W&&M.1e.4q<gX){M.1e.2L.4Z=1n}if(M.1e.4Y){M.1e.4Y.2b(1j,17(){M.1e.2L.4Y=1r})}if(M.1e.2L.75){aa.38("75-3p")}1k{aa.38("6E-75-3p")}X=(1m.6k.5L||"").3s(/\\S+/g)||[];1m.6k.5L=M.$(X).5E(aa).6Y(" ");if(M.1e.2n&&M.1e.2n<9){1m.7L("8c");1m.7L("dE")}})();(17(){M.1e.4Z={9w:M.1e.2L.4Z,5p:17(){1a!!(1m.gW||1m[M.1e.4W+"gV"]||1m.4Z||1m.gN||1m[M.1e.4W+"gM"])},bH:17(W,X){X||(X={});if(13.9w){M.$(1m).1C(13.aT,13.ez=17(Y){if(13.5p()){X.bE&&X.bE()}1k{M.$(1m).1N(13.aT,13.ez);X.bB&&X.bB()}}.2E(13));M.$(1m).1C(13.b2,13.5S=17(Y){X.8y&&X.8y();M.$(1m).1N(13.b2,13.5S)}.2E(13));(W[M.1e.4W+"gE"]||W[M.1e.4W+"gD"]||W.gC||17(){}).2b(W)}1k{if(X.8y){X.8y()}}},dL:(1m.9K||1m.eN||1m[M.1e.4W+"gB"]||1m[M.1e.4W+"gF"]||17(){}).1E(1m),aT:1m.eE?"gG":(1m.9K?"":M.1e.4W)+"gK",b2:1m.eE?"gH":(1m.9K?"":M.1e.4W)+"gI",gJ:M.1e.4W,gL:1h}})();1c V=/\\S+/g,J=/^(3G(c2|c0|bY|d9)gA)|((78|7X)(c2|c0|bY|d9))$/,O={"gU":("2D"===93(G.cO))?"gT":"cO"},Q={dH:1r,gP:1r,2r:1r,dF:1r,1l:1r},I=(1j.cP)?17(Y,W){1c X=1j.cP(Y,1h);1a X?X.gR(W)||X[W]:1h}:17(Z,X){1c Y=Z.gy,W=1h;W=Y?Y[X]:1h;if(1h==W&&Z.2l&&Z.2l[X]){W=Z.2l[X]}1a W};17 U(Y){1c W,X;X=(M.1e.3W&&"2V"==Y)?1n:(Y in G);if(!X){W=M.1e.aw+Y.9g(0).9b()+Y.ao(1);if(W in G){1a W}}1a Y}M.9Q=U;M.3Y={cG:17(W){1a!(W||"").4F(" ")&&(13.5L||"").4F(W," ")},1A:17(aa){1c X=(13.5L||"").3s(V)||[],Z=(aa||"").3s(V)||[],W=Z.1I,Y=0;1S(;Y<W;Y++){if(!M.$(X).5F(Z[Y])){X.38(Z[Y])}}13.5L=X.6Y(" ");1a 13},1T:17(ab){1c X=(13.5L||"").3s(V)||[],aa=(ab||"").3s(V)||[],W=aa.1I,Z=0,Y;1S(;Z<W;Z++){if((Y=M.$(X).6a(aa[Z]))>-1){X.9X(Y,1)}}13.5L=ab?X.6Y(" "):"";1a 13},ga:17(W){1a 13.cG(W)?13.1T(W):13.1A(W)},3K:17(X){1c Y=X.5A(),W=1h;X=O[Y]||(O[Y]=U(Y));W=I(13,X);if("2t"===W){W=1h}if(1h!==W){if("2r"==X){1a M.3o(W)?2F(W):1}if(J.3e(X)){W=5D(W,10)?W:"5Q"}}1a W},3F:17(X,W){1c Z=X.5A();3x{if("2r"==X){13.cH(W);1a 13}X=O[Z]||(O[Z]=U(Z));13.2l[X]=W+(("63"==M.1P(W)&&!Q[Z])?"2v":"")}3R(Y){}1a 13},1x:17(X){1S(1c W in X){13.3F(W,X[W])}1a 13},gu:17(){1c W={};M.$A(29).36(17(X){W[X]=13.3K(X)},13);1a W},cH:17(Y,W){1c X;W=W||1n;13.2l.2r=Y;Y=5D(2F(Y)*2N);if(W){if(0===Y){if("3f"!=13.2l.5a){13.2l.5a="3f"}}1k{if("6n"!=13.2l.5a){13.2l.5a="6n"}}}if(M.1e.2n&&M.1e.2n<9){if(!9x(Y)){if(!~13.2l.2V.6a("bw")){13.2l.2V+=" cK:cT.d4.bw(8B="+Y+")"}1k{13.2l.2V=13.2l.2V.4v(/8B=\\d*/i,"8B="+Y)}}1k{13.2l.2V=13.2l.2V.4v(/cK:cT.d4.bw\\(8B=\\d*\\)/i,"").4X();if(""===13.2l.2V){13.2l.5B("2V")}}}1a 13},bK:17(W){1S(1c X in W){if("3M"===X){13.1A(""+W[X])}1k{13.3T(X,""+W[X])}}1a 13},4i:17(){1a 13.1x({7A:"3k",5a:"3f"})},5q:17(){1a 13.1x({7A:"",5a:"6n"})},1F:17(){1a{1f:13.d8,1g:13.gs}},8u:17(X){1c W=13.1F();W.1f-=(2F(13.3K("3G-1M-1f")||0)+2F(13.3K("3G-2R-1f")||0));W.1g-=(2F(13.3K("3G-1H-1f")||0)+2F(13.3K("3G-2Q-1f")||0));if(!X){W.1f-=(2F(13.3K("78-1M")||0)+2F(13.3K("78-2R")||0));W.1g-=(2F(13.3K("78-1H")||0)+2F(13.3K("78-2Q")||0))}1a W},6X:17(){1a{1H:13.7W,1M:13.80}},gn:17(){1c W=13,X={1H:0,1M:0};do{X.1M+=W.80||0;X.1H+=W.7W||0;W=W.4H}5l(W);1a X},8b:17(){1c aa=13,X=0,Z=0;if(M.3o(1m.6k.7I)){1c W=13.7I(),Y=M.$(1m).6X(),ab=M.1e.49();1a{1H:W.1H+Y.y-ab.gq,1M:W.1M+Y.x-ab.gr}}do{X+=aa.gZ||0;Z+=aa.hz||0;aa=aa.hA}5l(aa&&!(/^(?:3H|hB)$/i).3e(aa.a9));1a{1H:Z,1M:X}},7S:17(){1c X=13.8b();1c W=13.1F();1a{1H:X.1H,2Q:X.1H+W.1g,1M:X.1M,2R:X.1M+W.1f}},5k:17(X){3x{13.hC=X}3R(W){13.hy=X}1a 13},2P:17(){1a(13.4H)?13.4H.ak(13):13},5i:17(){M.$A(13.hx).36(17(W){if(3==W.5M||8==W.5M){1a}M.$(W).5i()});13.2P();13.bo();if(13.$5U){M.7J[13.$5U]=1h;4P M.7J[13.$5U]}1a 1h},3n:17(Y,X){X=X||"2Q";1c W=13.4h;("1H"==X&&W)?13.ht(Y,W):13.b5(Y);1a 13},1Z:17(Y,X){1c W=M.$(Y).3n(13,X);1a 13},eg:17(W){13.3n(W.4H.b0(13,W));1a 13},9O:17(W){if("5Z"!==M.1P("1O"==M.1P(W)?W=1m.cW(W):W)){1a 1n}1a(13==W)?1n:(13.5F&&!(M.1e.d0))?(13.5F(W)):(13.cX)?!!(13.cX(W)&16):M.$A(13.7T(W.a9)).5F(W)}};M.3Y.hu=M.3Y.3K;M.3Y.hv=M.3Y.1x;if(!1j.3Y){1j.3Y=M.$F;if(M.1e.7n.3W){1j.1m.7L("hD")}1j.3Y.2w=(M.1e.7n.3W)?1j["[[hE.2w]]"]:{}}M.9U(1j.3Y,{$4G:"5Z"});M.3v={1F:17(){if(M.1e.cY||M.1e.hO||M.1e.d0){1a{1f:1j.5f,1g:1j.4J}}1a{1f:M.1e.49().cZ,1g:M.1e.49().hK}},6X:17(){1a{x:1j.hG||M.1e.49().80,y:1j.hF||M.1e.49().7W}},hH:17(){1c W=13.1F();1a{1f:1o.1V(M.1e.49().hI,W.1f),1g:1o.1V(M.1e.49().hJ,W.1g)}}};M.1X(1m,{$4G:"1m"});M.1X(1j,{$4G:"1j"});M.1X([M.3Y,M.3v],{26:17(Z,X){1c W=M.9v(13.$5U),Y=W[Z];if(2D!==X&&2D===Y){Y=W[Z]=X}1a(M.3o(Y)?Y:1h)},34:17(Y,X){1c W=M.9v(13.$5U);W[Y]=X;1a 13},2X:17(X){1c W=M.9v(13.$5U);4P W[X];1a 13}});if(!(1j.aS&&1j.aS.2w&&1j.aS.2w.bj)){M.1X([M.3Y,M.3v],{bj:17(W){1a M.$A(13.9p("*")).2V(17(Y){3x{1a(1==Y.5M&&Y.5L.4F(W," "))}3R(X){}})}})}M.1X([M.3Y,M.3v],{9u:17(){1a 13.bj(29[0])},7T:17(){1a 13.9p(29[0])}});if(M.1e.4Z.9w&&!1m.cD){M.3Y.cD=17(){M.1e.4Z.bH(13)}}M.1u={$4G:"1z",62:M.$1n,2a:17(){1a 13.5c().3z()},5c:17(){if(13.cC){13.cC()}1k{13.cd=1r}1a 13},3z:17(){if(13.ch){13.ch()}1k{13.h8=1n}1a 13},4I:17(){13.62=M.$1r;1a 13},7K:17(){1c X,W;X=((/3A/i).3e(13.1y))?13.2C[0]:13;1a(!M.3o(X))?{x:0,y:0}:{x:X.2O,y:X.2K}},6j:17(){1c X,W;X=((/3A/i).3e(13.1y))?13.2C[0]:13;1a(!M.3o(X))?{x:0,y:0}:{x:X.5n||X.2O+M.1e.49().80,y:X.5o||X.2K+M.1e.49().7W}},bf:17(){1c W=13.4e||13.ha;5l(W&&3==W.5M){W=W.4H}1a W},7Y:17(){1c X=1h;4r(13.1y){1B"7x":1B"hb":1B"hc":X=13.9D||13.h7;1G;1B"8k":1B"ba":1B"ee":X=13.9D||13.h6;1G;1R:1a X}3x{5l(X&&3==X.5M){X=X.4H}}3R(W){X=1h}1a X},6D:17(){if(!13.cj&&13.2o!==2D){1a(13.2o&1?1:(13.2o&2?3:(13.2o&4?2:0)))}1a 13.cj},h3:17(){1a(13.2k&&("3A"===13.2k||13.2k===13.59))||(/3A/i).3e(13.1y)},h4:17(){1a 13.2k?(("3A"===13.2k||13.59===13.2k)&&13.9Y):1===13.2C.1I&&(13.6d.1I?13.6d[0].3D==13.2C[0].3D:1r)}};M.bd="ci";M.bk="h5";M.9q="";if(!1m.ci){M.bd="he";M.bk="hm";M.9q="8f"}M.1u.1w={1y:"",x:1h,y:1h,2I:1h,2o:1h,4e:1h,9D:1h,$4G:"1z.4k",62:M.$1n,5G:M.$([]),4d:17(W){1c X=W;13.5G.38(X)},2a:17(){1a 13.5c().3z()},5c:17(){13.5G.36(17(X){3x{X.5c()}3R(W){}});1a 13},3z:17(){13.5G.36(17(X){3x{X.3z()}3R(W){}});1a 13},4I:17(){13.62=M.$1r;1a 13},7K:17(){1a{x:13.2O,y:13.2K}},6j:17(){1a{x:13.x,y:13.y}},bf:17(){1a 13.4e},7Y:17(){1a 13.9D},6D:17(){1a 13.2o},e3:17(){1a 13.5G.1I>0?13.5G[0].bf():2D}};M.1X([M.3Y,M.3v],{1C:17(Y,aa,ab,ae){1c ad,W,Z,ac,X;if("1O"==M.1P(Y)){X=Y.7H(" ");if(X.1I>1){Y=X}}if(M.1P(Y)=="4b"){M.$(Y).36(13.1C.2E(13,aa,ab,ae));1a 13}if(!Y||!aa||M.1P(Y)!="1O"||M.1P(aa)!="17"){1a 13}if(Y=="9z"&&M.1e.2i){aa.2b(13);1a 13}Y=T[Y]||Y;ab=5D(ab||50);if(!aa.$9C){aa.$9C=1o.6e(1o.6O()*M.6q())}ad=M.3v.26.2b(13,"8l",{});W=ad[Y];if(!W){ad[Y]=W=M.$([]);Z=13;if(M.1u.1w[Y]){M.1u.1w[Y].1K.5m.2b(13,ae)}1k{W.3j=17(af){af=M.1X(af||1j.e,{$4G:"1z"});M.3v.2U.2b(Z,Y,M.$(af))};13[M.bd](M.9q+Y,W.3j,1n)}}ac={1y:Y,fn:aa,bc:ab,cc:aa.$9C};W.38(ac);W.hl(17(ag,af){1a ag.bc-af.bc});1a 13},1N:17(ac){1c aa=M.3v.26.2b(13,"8l",{}),Y,W,X,ad,ab,Z;ab=29.1I>1?29[1]:-2N;if("1O"==M.1P(ac)){Z=ac.7H(" ");if(Z.1I>1){ac=Z}}if(M.1P(ac)=="4b"){M.$(ac).36(13.1N.2E(13,ab));1a 13}ac=T[ac]||ac;if(!ac||M.1P(ac)!="1O"||!aa||!aa[ac]){1a 13}Y=aa[ac]||[];1S(X=0;X<Y.1I;X++){W=Y[X];if(-2N==ab||!!ab&&ab.$9C===W.cc){ad=Y.9X(X--,1)}}if(0===Y.1I){if(M.1u.1w[ac]){M.1u.1w[ac].1K.2P.2b(13)}1k{13[M.bk](M.9q+ac,Y.3j,1n)}4P aa[ac]}1a 13},2U:17(aa,ac){1c Z=M.3v.26.2b(13,"8l",{}),Y,W,X;aa=T[aa]||aa;if(!aa||M.1P(aa)!="1O"||!Z||!Z[aa]){1a 13}3x{ac=M.1X(ac||{},{1y:aa})}3R(ab){}if(2D===ac.2I){ac.2I=M.6q()}Y=Z[aa]||[];1S(X=0;X<Y.1I&&!(ac.62&&ac.62());X++){Y[X].fn.2b(13,ac)}},bt:17(X,W){1c aa=("9z"==X)?1n:1r,Z=13,Y;X=T[X]||X;if(!aa){M.3v.2U.2b(13,X);1a 13}if(Z===1m&&1m.9M&&!Z.aG){Z=1m.6k}if(1m.9M){Y=1m.9M(X);Y.5T(W,1r,1r)}1k{Y=1m.fz();Y.9R=X}if(1m.9M){Z.aG(Y)}1k{Z.fl("8f"+W,Y)}1a Y},bo:17(){1c X=M.3v.26.2b(13,"8l");if(!X){1a 13}1S(1c W in X){M.3v.1N.2b(13,W)}M.3v.2X.2b(13,"8l");1a 13}});(17(W){if("8j"===1m.8m){1a W.1e.7p.2y(1)}if(W.1e.3W&&W.1e.4q<fk){(17(){(W.$(["2f","8j"]).5F(1m.8m))?W.1e.7p():29.9N.2y(50)})()}1k{if(W.1e.4K&&W.1e.2n<9&&1j==1H){(17(){(W.$3x(17(){W.1e.49().g5("1M");1a 1r}))?W.1e.7p():29.9N.2y(50)})()}1k{W.3v.1C.2b(W.$(1m),"g4",W.1e.7p);W.3v.1C.2b(W.$(1j),"5X",W.1e.7p)}}})(S);M.3y=17(){1c aa=1h,X=M.$A(29);if("3M"==M.1P(X[0])){aa=X.6Q()}1c W=17(){1S(1c ad in 13){13[ad]=M.4a(13[ad])}if(13.57.$3I){13.$3I={};1c af=13.57.$3I;1S(1c ae in af){1c ac=af[ae];4r(M.1P(ac)){1B"17":13.$3I[ae]=M.3y.cy(13,ac);1G;1B"8O":13.$3I[ae]=M.4a(ac);1G;1B"4b":13.$3I[ae]=M.4a(ac);1G}}}1c ab=(13.3J)?13.3J.6i(13,29):13;4P 13.bT;1a ab};if(!W.2w.3J){W.2w.3J=M.$F}if(aa){1c Z=17(){};Z.2w=aa.2w;W.2w=1t Z;W.$3I={};1S(1c Y in aa.2w){W.$3I[Y]=aa.2w[Y]}}1k{W.$3I=1h}W.57=M.3y;W.2w.57=W;M.1X(W.2w,X[0]);M.1X(W,{$4G:"3M"});1a W};S.3y.cy=17(W,X){1a 17(){1c Z=13.bT;1c Y=X.6i(W,29);1a Y}};(17(Z){1c Y=Z.$;1c W=5,X=aZ;Z.1u.1w.1Q=1t Z.3y(Z.1X(Z.1u.1w,{1y:"1Q",3J:17(ac,ab){1c aa=ab.6j();13.x=aa.x;13.y=aa.y;13.2O=ab.2O;13.2K=ab.2K;13.2I=ab.2I;13.2o=ab.6D();13.4e=ac;13.4d(ab)}}));Z.1u.1w.1Q.1K={1v:{7e:X,2o:1},5m:17(aa){13.34("1z:1Q:1v",Z.1X(Z.4a(Z.1u.1w.1Q.1K.1v),aa||{}));13.1C("6B",Z.1u.1w.1Q.1K.3j,1);13.1C("5Y",Z.1u.1w.1Q.1K.3j,1);13.1C("2W",Z.1u.1w.1Q.1K.bz,1);if(Z.1e.4K&&Z.1e.2n<9){13.1C("9a",Z.1u.1w.1Q.1K.3j,1)}},2P:17(){13.1N("6B",Z.1u.1w.1Q.1K.3j);13.1N("5Y",Z.1u.1w.1Q.1K.3j);13.1N("2W",Z.1u.1w.1Q.1K.bz);if(Z.1e.4K&&Z.1e.2n<9){13.1N("9a",Z.1u.1w.1Q.1K.3j)}},bz:17(aa){aa.3z()},3j:17(ad){1c ac,aa,ab;aa=13.26("1z:1Q:1v");if(ad.1y!="9a"&&ad.6D()!=aa.2o){1a}if(13.26("1z:1Q:ax")){13.2X("1z:1Q:ax");1a}if("6B"==ad.1y){ac=1t Z.1u.1w.1Q(13,ad);13.34("1z:1Q:9y",ac)}1k{if("5Y"==ad.1y){ac=13.26("1z:1Q:9y");if(!ac){1a}ab=ad.6j();13.2X("1z:1Q:9y");ac.4d(ad);if(ad.2I-ac.2I<=aa.7e&&1o.8z(1o.4z(ab.x-ac.x,2)+1o.4z(ab.y-ac.y,2))<=W){13.2U("1Q",ac)}1m.2U("5Y",ad)}1k{if(ad.1y=="9a"){ac=1t Z.1u.1w.1Q(13,ad);13.2U("1Q",ac)}}}}}})(S);(17(X){1c W=X.$;X.1u.1w.2J=1t X.3y(X.1X(X.1u.1w,{1y:"2J",2m:"3E",6l:1n,3J:17(ab,aa,Z){1c Y=aa.6j();13.x=Y.x;13.y=Y.y;13.2O=aa.2O;13.2K=aa.2K;13.2I=aa.2I;13.2o=aa.6D();13.4e=ab;13.4d(aa);13.2m=Z}}));X.1u.1w.2J.1K={5m:17(){1c Z=X.1u.1w.2J.1K.cu.2E(13),Y=X.1u.1w.2J.1K.92.2E(13);13.1C("6B",X.1u.1w.2J.1K.bG,1);13.1C("5Y",X.1u.1w.2J.1K.92,1);1m.1C("7E",Z,1);1m.1C("5Y",Y,1);13.34("1z:2J:4t:1m:5s",Z);13.34("1z:2J:4t:1m:7j",Y)},2P:17(){13.1N("6B",X.1u.1w.2J.1K.bG);13.1N("5Y",X.1u.1w.2J.1K.92);W(1m).1N("7E",13.26("1z:2J:4t:1m:5s")||X.$F);W(1m).1N("5Y",13.26("1z:2J:4t:1m:7j")||X.$F);13.2X("1z:2J:4t:1m:5s");13.2X("1z:2J:4t:1m:7j")},bG:17(Z){1c Y;if(1!=Z.6D()){1a}Z.3z();Y=1t X.1u.1w.2J(13,Z,"3E");13.34("1z:2J:3E",Y)},92:17(Z){1c Y;Y=13.26("1z:2J:3E");if(!Y){1a}Z.3z();Y=1t X.1u.1w.2J(13,Z,"9I");13.2X("1z:2J:3E");13.2U("2J",Y)},cu:17(Z){1c Y;Y=13.26("1z:2J:3E");if(!Y){1a}Z.3z();if(!Y.6l){Y.6l=1r;13.2U("2J",Y)}Y=1t X.1u.1w.2J(13,Z,"cs");13.2U("2J",Y)}}})(S);(17(X){1c W=X.$;X.1u.1w.4f=1t X.3y(X.1X(X.1u.1w,{1y:"4f",7d:1n,73:1h,3J:17(aa,Z){1c Y=Z.6j();13.x=Y.x;13.y=Y.y;13.2O=Z.2O;13.2K=Z.2K;13.2I=Z.2I;13.2o=Z.6D();13.4e=aa;13.4d(Z)}}));X.1u.1w.4f.1K={1v:{7e:7s},5m:17(Y){13.34("1z:4f:1v",X.1X(X.4a(X.1u.1w.4f.1K.1v),Y||{}));13.1C("1Q",X.1u.1w.4f.1K.3j,1)},2P:17(){13.1N("1Q",X.1u.1w.4f.1K.3j)},3j:17(aa){1c Z,Y;Z=13.26("1z:4f:1z");Y=13.26("1z:4f:1v");if(!Z){Z=1t X.1u.1w.4f(13,aa);Z.73=4D(17(){Z.7d=1r;aa.62=X.$1n;13.2U("1Q",aa);13.2X("1z:4f:1z")}.1E(13),Y.7e+10);13.34("1z:4f:1z",Z);aa.4I()}1k{3P(Z.73);13.2X("1z:4f:1z");if(!Z.7d){Z.4d(aa);aa.4I().2a();13.2U("4f",Z)}1k{}}}}})(S);(17(ac){1c ab=ac.$;17 W(ad){1a ad.2k?(("3A"===ad.2k||ad.59===ad.2k)&&ad.9Y):1===ad.2C.1I&&(ad.6d.1I?ad.6d[0].3D==ad.2C[0].3D:1r)}17 Y(ad){if(ad.2k){1a("3A"===ad.2k||ad.59===ad.2k)?ad.9J:1h}1k{1a ad.2C[0].3D}}17 Z(ad){if(ad.2k){1a("3A"===ad.2k||ad.59===ad.2k)?ad:1h}1k{1a ad.2C[0]}}ac.1u.1w.21=1t ac.3y(ac.1X(ac.1u.1w,{1y:"21",id:1h,3J:17(ae,ad){1c af=Z(ad);13.id=af.9J||af.3D;13.x=af.5n;13.y=af.5o;13.5n=af.5n;13.5o=af.5o;13.2O=af.2O;13.2K=af.2K;13.2I=ad.2I;13.2o=0;13.4e=ae;13.4d(ad)}}));1c X=10,aa=7s;ac.1u.1w.21.1K={5m:17(ad){13.1C(["51",1j.2H.3b?"7Q":"7R"],ac.1u.1w.21.1K.72,1);13.1C(["5R",1j.2H.3b?"6o":"6v"],ac.1u.1w.21.1K.6T,1);13.1C("2W",ac.1u.1w.21.1K.az,1)},2P:17(){13.1N(["51",1j.2H.3b?"7Q":"7R"],ac.1u.1w.21.1K.72);13.1N(["5R",1j.2H.3b?"6o":"6v"],ac.1u.1w.21.1K.6T);13.1N("2W",ac.1u.1w.21.1K.az)},az:17(ad){ad.3z()},72:17(ad){if(!W(ad)){13.2X("1z:21:1z");1a}13.34("1z:21:1z",1t ac.1u.1w.21(13,ad));13.34("1z:1Q:ax",1r)},6T:17(ag){1c ae=ac.6q(),af=13.26("1z:21:1z"),ad=13.26("1z:21:1v");if(!af||!W(ag)){1a}13.2X("1z:21:1z");if(af.id==Y(ag)&&ag.2I-af.2I<=aa&&1o.8z(1o.4z(Z(ag).5n-af.x,2)+1o.4z(Z(ag).5o-af.y,2))<=X){13.2X("1z:1Q:9y");ag.2a();af.4d(ag);13.2U("21",af)}}}})(S);M.1u.1w.3q=1t M.3y(M.1X(M.1u.1w,{1y:"3q",7d:1n,73:1h,3J:17(X,W){13.x=W.x;13.y=W.y;13.2O=W.2O;13.2K=W.2K;13.2I=W.2I;13.2o=0;13.4e=X;13.4d(W)}}));M.1u.1w.3q.1K={1v:{7e:aZ},5m:17(W){13.34("1z:3q:1v",M.1X(M.4a(M.1u.1w.3q.1K.1v),W||{}));13.1C("21",M.1u.1w.3q.1K.3j,1)},2P:17(){13.1N("21",M.1u.1w.3q.1K.3j)},3j:17(Y){1c X,W;X=13.26("1z:3q:1z");W=13.26("1z:3q:1v");if(!X){X=1t M.1u.1w.3q(13,Y);X.73=4D(17(){X.7d=1r;Y.62=M.$1n;13.2U("21",Y)}.1E(13),W.7e+10);13.34("1z:3q:1z",X);Y.4I()}1k{3P(X.73);13.2X("1z:3q:1z");if(!X.7d){X.4d(Y);Y.4I().2a();13.2U("3q",X)}1k{}}}};(17(ab){1c aa=ab.$;17 W(ac){1a ac.2k?(("3A"===ac.2k||ac.59===ac.2k)&&ac.9Y):1===ac.2C.1I&&(ac.6d.1I?ac.6d[0].3D==ac.2C[0].3D:1r)}17 Y(ac){if(ac.2k){1a("3A"===ac.2k||ac.59===ac.2k)?ac.9J:1h}1k{1a ac.2C[0].3D}}17 Z(ac){if(ac.2k){1a("3A"===ac.2k||ac.59===ac.2k)?ac:1h}1k{1a ac.2C[0]}}1c X=10;ab.1u.1w.2p=1t ab.3y(ab.1X(ab.1u.1w,{1y:"2p",2m:"3E",id:1h,6l:1n,3J:17(ae,ad,ac){1c af=Z(ad);13.id=af.9J||af.3D;13.2O=af.2O;13.2K=af.2K;13.5n=af.5n;13.5o=af.5o;13.x=af.5n;13.y=af.5o;13.2I=ad.2I;13.2o=0;13.4e=ae;13.4d(ad);13.2m=ac}}));ab.1u.1w.2p.1K={5m:17(){1c ad=ab.1u.1w.2p.1K.9G.1E(13),ac=ab.1u.1w.2p.1K.6T.1E(13);13.1C(["51",1j.2H.3b?"7Q":"7R"],ab.1u.1w.2p.1K.72,1);13.1C(["5R",1j.2H.3b?"6o":"6v"],ab.1u.1w.2p.1K.6T,1);13.1C(["7N",1j.2H.3b?"6r":"7h"],ab.1u.1w.2p.1K.9G,1);13.34("1z:2p:4t:1m:5s",ad);13.34("1z:2p:4t:1m:7j",ac);aa(1m).1C(1j.2H.3b?"6r":"7h",ad,1);aa(1m).1C(1j.2H.3b?"6o":"6v",ac,1)},2P:17(){13.1N(["51",1j.2H.3b?"7Q":"7R"],ab.1u.1w.2p.1K.72);13.1N(["5R",1j.2H.3b?"6o":"6v"],ab.1u.1w.2p.1K.6T);13.1N(["7N",1j.2H.3b?"6r":"7h"],ab.1u.1w.2p.1K.9G);aa(1m).1N(1j.2H.3b?"6r":"7h",13.26("1z:2p:4t:1m:5s")||ab.$F,1);aa(1m).1N(1j.2H.3b?"6o":"6v",13.26("1z:2p:4t:1m:7j")||ab.$F,1);13.2X("1z:2p:4t:1m:5s");13.2X("1z:2p:4t:1m:7j")},72:17(ad){1c ac;if(!W(ad)){1a}ac=1t ab.1u.1w.2p(13,ad,"3E");13.34("1z:2p:3E",ac)},6T:17(ad){1c ac;ac=13.26("1z:2p:3E");if(!ac||!ac.6l||ac.id!=Y(ad)){1a}ac=1t ab.1u.1w.2p(13,ad,"9I");13.2X("1z:2p:3E");13.2U("2p",ac)},9G:17(ad){1c ac;ac=13.26("1z:2p:3E");if(!ac||!W(ad)){1a}if(ac.id!=Y(ad)){13.2X("1z:2p:3E");1a}if(!ac.6l&&1o.8z(1o.4z(Z(ad).5n-ac.x,2)+1o.4z(Z(ad).5o-ac.y,2))>X){ac.6l=1r;13.2U("2p",ac)}if(!ac.6l){1a}ac=1t ab.1u.1w.2p(13,ad,"cs");13.2U("2p",ac)}}})(S);M.1u.1w.3Z=1t M.3y(M.1X(M.1u.1w,{1y:"3Z",4c:1,a7:1,cq:1,2m:"iH",3J:17(X,W){13.2I=W.2I;13.2o=0;13.4e=X;13.x=W.4o[0].2O+(W.4o[1].2O-W.4o[0].2O)/2;13.y=W.4o[0].2K+(W.4o[1].2K-W.4o[0].2K)/2;13.ct=1o.8z(1o.4z(W.4o[0].2O-W.4o[1].2O,2)+1o.4z(W.4o[0].2K-W.4o[1].2K,2));13.4d(W)},40:17(W){1c X;13.2m="jW";if(W.2C[0].3D!=13.5G[0].4o[0].3D||W.2C[1].3D!=13.5G[0].4o[1].3D){1a}X=1o.8z(1o.4z(W.2C[0].2O-W.2C[1].2O,2)+1o.4z(W.2C[0].2K-W.2C[1].2K,2));13.a7=13.4c;13.4c=X/13.ct;13.cq=13.4c/13.a7;13.x=W.2C[0].2O+(W.2C[1].2O-W.2C[0].2O)/2;13.y=W.2C[0].2K+(W.2C[1].2K-W.2C[0].2K)/2;13.4d(W)}}));M.1u.1w.3Z.1K={5m:17(){13.1C("51",M.1u.1w.3Z.1K.a1,1);13.1C("5R",M.1u.1w.3Z.1K.aJ,1);13.1C("7N",M.1u.1w.3Z.1K.aD,1)},2P:17(){13.1N("51",M.1u.1w.3Z.1K.a1);13.1N("5R",M.1u.1w.3Z.1K.aJ);13.1N("7N",M.1u.1w.3Z.1K.aD)},a1:17(X){1c W;if(X.4o.1I!=2){1a}X.3z();W=1t M.1u.1w.3Z(13,X);13.34("1z:3Z:1z",W)},aJ:17(X){1c W;W=13.26("1z:3Z:1z");if(!W){1a}X.3z();13.2X("1z:3Z:1z")},aD:17(X){1c W;W=13.26("1z:3Z:1z");if(!W){1a}X.3z();W.40(X);13.2U("3Z",W)}};(17(ab){1c Z=ab.$;ab.1u.1w.4x=1t ab.3y(ab.1X(ab.1u.1w,{1y:"4x",3J:17(ah,ag,aj,ad,ac,ai,ae){1c af=ag.6j();13.x=af.x;13.y=af.y;13.2I=ag.2I;13.4e=ah;13.jX=aj||0;13.as=ad||0;13.7V=ac||0;13.jY=ai||0;13.jV=ae||0;13.bD=ag.bD||0;13.aX=1n;13.4d(ag)}}));1c aa,X;17 W(){aa=1h}17 Y(ac,ad){1a(ac>50)||(1===ad&&!("8Y"==ab.1e.4N&&ac<1))||(0===ac%12)||(0==ac%4.jU)}ab.1u.1w.4x.1K={9R:"jQ"in 1m||ab.1e.2n>8?"jR":"jS",5m:17(){13.1C(ab.1u.1w.4x.1K.9R,ab.1u.1w.4x.1K.3j,1)},2P:17(){13.1N(ab.1u.1w.4x.1K.9R,ab.1u.1w.4x.1K.3j,1)},3j:17(ah){1c ai=0,af=0,ad=0,ac=0,ag,ae;if(ah.cp){ad=ah.cp*-1}if(ah.cm!==2D){ad=ah.cm}if(ah.cn!==2D){ad=ah.cn}if(ah.co!==2D){af=ah.co*-1}if(ah.7V){ad=-1*ah.7V}if(ah.as){af=ah.as}if(0===ad&&0===af){1a}ai=0===ad?af:ad;ac=1o.1V(1o.3w(ad),1o.3w(af));if(!aa||ac<aa){aa=ac}ag=ai>0?"6e":"3N";ai=1o[ag](ai/aa);af=1o[ag](af/aa);ad=1o[ag](ad/aa);if(X){3P(X)}X=4D(W,7s);ae=1t ab.1u.1w.4x(13,ah,ai,af,ad,0,aa);ae.aX=Y(aa,ah.bD||0);13.2U("4x",ae)}}})(S);M.8Y=M.$(1j);M.cv=M.$(1m);1a S})();(17(I){if(!I){67"6I 6H 6G"}1c H=I.$;1c G=1j.jT||1j.jZ||1h;w.a6=1t I.3y({24:1h,2i:1n,1v:{9j:I.$F,6c:I.$F,by:I.$F,5S:I.$F,7a:I.$F,cw:I.$F,9P:1n,cA:1r},1D:1h,8i:1h,bu:0,7k:{9j:17(J){if(J.4e&&(7s===J.4e.9W||cx===J.4e.9W)&&J.k0){13.1v.9j.1E(1h,(J.2f-(13.1v.cA?13.bu:0))/J.k7).2y(1);13.bu=J.2f}},6c:17(J){if(J){H(J).2a()}13.8h();if(13.2i){1a}13.2i=1r;13.81();!13.1v.9P&&13.1v.9j.1E(1h,1).2y(1);13.1v.6c.1E(1h,13).2y(1);13.1v.7a.1E(1h,13).2y(1)},by:17(J){if(J){H(J).2a()}13.8h();13.2i=1n;13.81();13.1v.by.1E(1h,13).2y(1);13.1v.7a.1E(1h,13).2y(1)},5S:17(J){if(J){H(J).2a()}13.8h();13.2i=1n;13.81();13.1v.5S.1E(1h,13).2y(1);13.1v.7a.1E(1h,13).2y(1)}},9L:17(){H(["5X","bM","cz"]).36(17(J){13.24.1C(J,13.7k["8f"+J].2E(13).cB(1))},13)},8h:17(){if(13.8i){3x{3P(13.8i)}3R(J){}13.8i=1h}H(["5X","bM","cz"]).36(17(K){13.24.1N(K)},13)},81:17(){13.1F();if(13.24.26("1t")){1c J=13.24.4H;13.24.2P().2X("1t").1x({2e:"k8",1H:"2t"});J.5i()}},ck:17(K){1c L=1t 8K(),J;H(["bM","k9"]).36(17(M){L["8f"+M]=H(17(N){13.7k["8f"+M].2b(13,N)}).1E(13)},13);L.5S=H(17(){13.1v.cw.1E(1h,13).2y(1);13.1v.9P=1n;13.9L();13.24.1U=K}).1E(13);L.6c=H(17(){if(7s!==L.9W&&cx!==L.9W){13.7k.5S.2b(13);1a}J=L.k6;13.9L();if(G&&!I.1e.4K&&!("8R"===I.1e.4N&&I.1e.4q<k5)){13.24.3T("1U",G.k1(J))}1k{13.24.1U=K}}).1E(13);L.a4("k2",K);L.k3="k4";L.jP()},3J:17(K,J){13.1v=I.1X(13.1v,J);13.24=H(K)||I.$1t("24",{},{"1V-1f":"3k","1V-1g":"3k"}).1Z(I.$1t("2Y").1A("3p-at-24").1x({2e:"5C",1H:-dA,1f:10,1g:10,5d:"3f"}).1Z(1m.3H)).34("1t",1r);if(I.1e.2L.cl&&13.1v.9P&&"1O"==I.1P(K)){13.ck(K);1a}1c L=17(){if(13.ca()){13.7k.6c.2b(13)}1k{13.7k.5S.2b(13)}L=1h}.1E(13);13.9L();if("1O"==I.1P(K)){13.24.1U=K}1k{if(I.1e.4K&&5==I.1e.4q&&I.1e.2n<9){13.24.c9=17(){if(/2f|8j/.3e(13.24.8m)){13.24.c9=1h;L&&L()}}.1E(13)}13.24.1U=K.2q("1U")}13.24&&13.24.8j&&L&&(13.8i=L.2y(2N))},jO:17(){13.8h();13.81();13.2i=1n;1a 13},ca:17(){1c J=13.24;1a(J.9r)?(J.9r>0):(J.8m)?("8j"==J.8m):J.1f>0},1F:17(){1a 13.1D||(13.1D={1f:13.24.9r||13.24.1f,1g:13.24.c1||13.24.1g})}})})(w);(17(H){if(!H){67"6I 6H 6G"}if(H.5w){1a}1c G=H.$;H.5w=1t H.3y({3J:17(J,I){1c K;13.el=H.$(J);13.1v=H.1X(13.1v,I);13.5t=1n;13.7f=13.br;K=H.5w.7P[13.1v.1Y]||13.1v.1Y;if("17"===H.1P(K)){13.7f=K}1k{13.5J=13.8w(K)||13.8w("66")}if("1O"==H.1P(13.1v.71)){13.1v.71="jz"===13.1v.71?6m:5D(13.1v.71)||1}},1v:{c3:60,5z:8g,1Y:"66",71:1,4U:"jA",c8:H.$F,7m:H.$F,bR:H.$F,c6:H.$F,9A:1n,jB:1n},4g:1h,5J:1h,7f:1h,jC:17(I){13.1v.1Y=I;I=H.5w.7P[13.1v.1Y]||13.1v.1Y;if("17"===H.1P(I)){13.7f=I}1k{13.7f=13.br;13.5J=13.8w(I)||13.8w("66")}},4V:17(K){1c I=/\\%$/,J;13.4g=K;13.bi=0;13.2m=0;13.jy=0;13.8T={};13.7y="7y"===13.1v.4U||"7y-4p"===13.1v.4U;13.7w="7w"===13.1v.4U||"7w-4p"===13.1v.4U;1S(J in 13.4g){I.3e(13.4g[J][0])&&(13.8T[J]=1r);if("4p"===13.1v.4U||"7y-4p"===13.1v.4U||"7w-4p"===13.1v.4U){13.4g[J].4p()}}13.bm=H.6q();13.c5=13.bm+13.1v.5z;13.1v.c8.2b();if(0===13.1v.5z){13.6p(1);13.1v.7m.2b()}1k{13.9H=13.c4.1E(13);if(!13.1v.9A&&H.1e.2L.4Y){13.5t=H.1e.4Y.2b(1j,13.9H)}1k{13.5t=13.9H.c7(1o.5y(jx/13.1v.c3))}}1a 13},bn:17(){if(13.5t){if(!13.1v.9A&&H.1e.2L.4Y&&H.1e.9s){H.1e.9s.2b(1j,13.5t)}1k{dM(13.5t)}13.5t=1n}},2a:17(I){I=H.3o(I)?I:1n;13.bn();if(I){13.6p(1);13.1v.7m.2y(10)}1a 13},b9:17(K,J,I){K=2F(K);J=2F(J);1a(J-K)*I+K},c4:17(){1c J=H.6q(),I=(J-13.bm)/13.1v.5z,K=1o.6e(I);if(J>=13.c5&&K>=13.1v.71){13.bn();13.6p(1);13.1v.7m.2y(10);1a 13}if(13.7y&&13.bi<K){1S(1c L in 13.4g){13.4g[L].4p()}}13.bi=K;if(!13.1v.9A&&H.1e.2L.4Y){13.5t=H.1e.4Y.2b(1j,13.9H)}13.6p((13.7w?K:0)+13.7f(I%1))},6p:17(I){1c J={},L=I;1S(1c K in 13.4g){if("2r"===K){J[K]=1o.5y(13.b9(13.4g[K][0],13.4g[K][1],I)*2N)/2N}1k{J[K]=13.b9(13.4g[K][0],13.4g[K][1],I);13.8T[K]&&(J[K]+="%")}}13.1v.bR(J,13.el);13.7g(J);13.1v.c6(J,13.el)},7g:17(I){1a 13.el.1x(I)},8w:17(I){1c J,K=1h;if("1O"!==H.1P(I)){1a 1h}4r(I){1B"8D":K=G([0,0,1,1]);1G;1B"66":K=G([0.25,0.1,0.25,1]);1G;1B"66-in":K=G([0.42,0,1,1]);1G;1B"66-cb":K=G([0,0,0.58,1]);1G;1B"66-in-cb":K=G([0.42,0,0.58,1]);1G;1B"d1":K=G([0.47,0,0.jt,0.ju]);1G;1B"d2":K=G([0.39,0.jv,0.kb,1]);1G;1B"jw":K=G([0.jD,0.aQ,0.55,0.95]);1G;1B"d5":K=G([0.55,0.jE,0.68,0.53]);1G;1B"d3":K=G([0.25,0.46,0.45,0.94]);1G;1B"jL":K=G([0.jM,0.cf,0.jN,0.jK]);1G;1B"cU":K=G([0.55,0.jJ,0.jF,0.19]);1G;1B"cJ":K=G([0.jG,0.61,0.cg,1]);1G;1B"jI":K=G([0.ka,0.9V,0.cg,1]);1G;1B"kf":K=G([0.e1,0.cf,0.ed,0.22]);1G;1B"kB":K=G([0.cV,0.84,0.44,1]);1G;1B"kA":K=G([0.77,0,0.88,1]);1G;1B"kz":K=G([0.kC,0.aQ,0.kx,0.ki]);1G;1B"kj":K=G([0.23,1,0.32,1]);1G;1B"kk":K=G([0.86,0,0.kl,1]);1G;1B"d7":K=G([0.95,0.aQ,0.kh,0.kg]);1G;1B"d6":K=G([0.19,1,0.22,1]);1G;1B"kd":K=G([1,0,0,1]);1G;1B"ke":K=G([0.6,0.ky,0.98,0.km]);1G;1B"kn":K=G([0.ku,0.82,0.cV,1]);1G;1B"kw":K=G([0.kt,0.ks,0.15,0.86]);1G;1B"cI":K=G([0.6,-0.28,0.aW,0.9V]);1G;1B"cE":K=G([0.88,0.9c,0.32,1.ay]);1G;1B"kp":K=G([0.68,-0.55,0.kq,1.55]);1G;1R:I=I.4v(/\\s/g,"");if(I.3s(/^4S-4T\\((?:-?[0-9\\.]{0,}[0-9]{1,},){3}(?:-?[0-9\\.]{0,}[0-9]{1,})\\)$/)){K=I.4v(/^4S-4T\\s*\\(|\\)$/g,"").7H(",");1S(J=K.1I-1;J>=0;J--){K[J]=2F(K[J])}}}1a G(K)},br:17(U){1c I=0,T=0,Q=0,V=0,S=0,O=0,P=13.1v.5z;17 N(W){1a((I*W+T)*W+Q)*W}17 M(W){1a((V*W+S)*W+O)*W}17 K(W){1a(3*I*W+2*T)*W+Q}17 R(W){1a 1/(7s*W)}17 J(W,X){1a M(L(W,X))}17 L(ad,ae){1c ac,ab,aa,X,W,Z;17 Y(af){if(af>=0){1a af}1k{1a 0-af}}1S(aa=ad,Z=0;Z<8;Z++){X=N(aa)-ad;if(Y(X)<ae){1a aa}W=K(aa);if(Y(W)<0.be){1G}aa=aa-X/W}ac=0;ab=1;aa=ad;if(aa<ac){1a ac}if(aa>ab){1a ab}5l(ac<ab){X=N(aa);if(Y(X-ad)<ae){1a aa}if(ad>X){ac=aa}1k{ab=aa}aa=(ab-ac)*0.5+ac}1a aa}Q=3*13.5J[0];T=3*(13.5J[2]-13.5J[0])-Q;I=1-Q-T;O=3*13.5J[1];S=3*(13.5J[3]-13.5J[1])-O;V=1-O-S;1a J(U,R(P))}});H.5w.7P={8D:"8D",jr:"d1",ir:"d2",is:"d7",it:"d6",iu:"d5",iq:"d3",io:"cU",ij:"cJ",ik:"cI",il:"cE",cF:17(J,I){I=I||[];1a 1o.4z(2,10*--J)*1o.eB(20*J*1o.eG*(I[0]||1)/3)},im:17(J,I){1a 1-H.5w.7P.cF(1-J,I)},cL:17(K){1S(1c J=0,I=1;1;J+=I,I/=2){if(K>=(7-4*J)/11){1a I*I-1o.4z((11-6*J-11*K)/4,2)}}},iv:17(I){1a 1-H.5w.7P.cL(1-I)},3k:17(I){1a 0}}})(w);(17(H){if(!H){67"6I 6H 6G"}if(H.8E){1a}1c G=H.$;H.8E=1t H.3y(H.5w,{3J:17(I,J){13.an=I;13.1v=H.1X(13.1v,J);13.5t=1n;13.$3I.3J()},4V:17(M){1c I=/\\%$/,L,K,J=M.1I;13.aq=M;13.8W=1t 69(J);1S(K=0;K<J;K++){13.8W[K]={};1S(L in M[K]){I.3e(M[K][L][0])&&(13.8W[K][L]=1r);if("4p"===13.1v.4U||"7y-4p"===13.1v.4U||"7w-4p"===13.1v.4U){13.aq[K][L].4p()}}}13.$3I.4V([]);1a 13},6p:17(I){1S(1c J=0;J<13.an.1I;J++){13.el=H.$(13.an[J]);13.4g=13.aq[J];13.8T=13.8W[J];13.$3I.6p(I)}}})})(w);(17(H){if(!H){67"6I 6H 6G";1a}if(H.ar){1a}1c G=H.$;H.ar=17(J,K){1c I=13.74=H.$1t("2Y",1h,{2e:"5C","z-8J":cM}).1A("iD");H.$(J).1C("7x",17(){I.1Z(1m.3H)});H.$(J).1C("8k",17(){I.2P()});H.$(J).1C("7E",17(P){1c R=20,O=H.$(P).6j(),N=I.1F(),M=H.$(1j).1F(),Q=H.$(1j).6X();17 L(U,S,T){1a(T<(U-S)/2)?T:((T>(U+S)/2)?(T-S):(U-S)/2)}I.1x({1M:Q.x+L(M.1f,N.1f+2*R,O.x-Q.x)+R,1H:Q.y+L(M.1g,N.1g+2*R,O.y-Q.y)+R})});13.9T(K)};H.ar.2w.9T=17(I){13.74.4h&&13.74.ak(13.74.4h);13.74.3n(1m.bx(I))}})(w);(17(H){if(!H){67"6I 6H 6G";1a}if(H.iE){1a}1c G=H.$;H.8M=17(L,K,J,I){13.8G=1h;13.52=H.$1t("bQ",1h,{2e:"5C","z-8J":cM,5a:"3f",2r:0.8}).1A(I||"").1Z(J||1m.3H);13.cR(L);13.5q(K)};H.8M.2w.5q=17(I){13.52.5q();13.8G=13.4i.1E(13).2y(H.aF(I,iF))};H.8M.2w.4i=17(I){3P(13.8G);13.8G=1h;if(13.52&&!13.av){13.av=1t w.5w(13.52,{5z:H.aF(I,eD),7m:17(){13.52.5i();4P 13.52;13.av=1h}.1E(13)}).4V({2r:[13.52.3K("2r"),0]})}};H.8M.2w.cR=17(I){13.52.4h&&13.74.ak(13.52.4h);13.52.3n(1m.bx(I))}})(w);(17(H){if(!H){67"6I 6H 6G"}if(H.7c){1a}1c K=H.$,G=1h,O={"3u":1,4b:2,63:3,"17":4,1O:2N},I={"3u":17(R,Q,P){if("3u"!=H.1P(Q)){if(P||"1O"!=H.1P(Q)){1a 1n}1k{if(!/^(1r|1n)$/.3e(Q)){1a 1n}1k{Q=Q.cS()}}}if(R.41("2u")&&!K(R["2u"]).5F(Q)){1a 1n}G=Q;1a 1r},1O:17(R,Q,P){if("1O"!==H.1P(Q)){1a 1n}1k{if(R.41("2u")&&!K(R["2u"]).5F(Q)){1a 1n}1k{G=""+Q;1a 1r}}},63:17(S,R,Q){1c P=1n,U=/%$/,T=(H.1P(R)=="1O"&&U.3e(R));if(Q&&!"63"==93 R){1a 1n}R=2F(R);if(9x(R)){1a 1n}if(9x(S.7r)){S.7r=cQ.iC}if(9x(S.aC)){S.aC=cQ.js}if(S.41("2u")&&!K(S["2u"]).5F(R)){1a 1n}if(S.7r>R||R>S.aC){1a 1n}G=T?(R+"%"):R;1a 1r},4b:17(S,Q,P){if("1O"===H.1P(Q)){3x{Q=1j.iB.ix(Q)}3R(R){1a 1n}}if(H.1P(Q)==="4b"){G=Q;1a 1r}1k{1a 1n}},"17":17(R,Q,P){if(H.1P(Q)==="17"){G=Q;1a 1r}1k{1a 1n}}},J=17(U,T,Q){1c S;S=U.41("33")?U.33:[U];if("4b"!=H.1P(S)){1a 1n}1S(1c R=0,P=S.1I-1;R<=P;R++){if(I[S[R].1y](S[R],T,Q)){1a 1r}}1a 1n},M=17(U){1c S,R,T,P,Q;if(U.41("33")){P=U.33.1I;1S(S=0;S<P;S++){1S(R=S+1;R<P;R++){if(O[U.33[S]["1y"]]>O[U.33[R].1y]){Q=U.33[S];U.33[S]=U.33[R];U.33[R]=Q}}}}1a U},N=17(S){1c R;R=S.41("33")?S.33:[S];if("4b"!=H.1P(R)){1a 1n}1S(1c Q=R.1I-1;Q>=0;Q--){if(!R[Q].1y||!O.41(R[Q].1y)){1a 1n}if(H.3o(R[Q]["2u"])){if("4b"!==H.1P(R[Q]["2u"])){1a 1n}1S(1c P=R[Q]["2u"].1I-1;P>=0;P--){if(!I[R[Q].1y]({1y:R[Q].1y},R[Q]["2u"][P],1r)){1a 1n}}}}if(S.41("1R")&&!J(S,S["1R"],1r)){1a 1n}1a 1r},L=17(P){13.4B={};13.1v={};13.cN(P)};H.1X(L.2w,{cN:17(R){1c Q,P,S;1S(Q in R){if(!R.41(Q)){7G}P=(Q+"").4X().5A();if(!13.4B.41(P)){13.4B[P]=M(R[Q]);if(!N(13.4B[P])){67"iy iz iA ii \'"+Q+"\' ih in "+R}13.1v[P]=2D}}},7g:17(Q,P){Q=(Q+"").4X().5A();if(H.1P(P)=="1O"){P=P.4X()}if(13.4B.41(Q)){G=P;if(J(13.4B[Q],P)){13.1v[Q]=G}G=1h}},eZ:17(P){P=(P+"").4X().5A();if(13.4B.41(P)){1a H.3o(13.1v[P])?13.1v[P]:13.4B[P]["1R"]}},7M:17(Q){1S(1c P in Q){13.7g(P,Q[P])}},eX:17(){1c Q=H.1X({},13.1v);1S(1c P in Q){if(2D===Q[P]&&2D!==13.4B[P]["1R"]){Q[P]=13.4B[P]["1R"]}}1a Q},8S:17(P){K(P.7H(";")).36(K(17(Q){Q=Q.7H(":");13.7g(Q.6Q().4X(),Q.6Y(":"))}).1E(13))},8X:17(P){P=(P+"").4X().5A();1a 13.4B.41(P)},hY:17(P){P=(P+"").4X().5A();1a 13.8X(P)&&H.3o(13.1v[P])},2P:17(P){P=(P+"").4X().5A();if(13.8X(P)){4P 13.1v[P];4P 13.4B[P]}}});H.7c=L}(w));(17(K){if(!K){67"6I 6H 6G";1a}1c J=K.$;if(K.8Z){1a}1c I="bU://bV.b1.b8/hZ/75",H="bU://bV.b1.b8/i0/i1";1c G=17(L){13.6t={};13.7i=J(L);13.7C=J(1m.9S(I,"75"));13.7C.3T("1f",13.7i.9r||13.7i.1f);13.7C.3T("1g",13.7i.c1||13.7i.1g);13.1i=J(1m.9S(I,"1i"));13.1i.hX(H,"6K",13.7i.2q("1U"));13.1i.3T("1f","2N%");13.1i.3T("1g","2N%");13.1i.1Z(13.7C)};G.2w.6C=17(){1a 13.7C};G.2w.5e=17(L){if(1o.5y(L)<1){1a}if(!13.6t.5e){13.6t.5e=J(1m.9S(I,"2V"));13.6t.5e.3T("id","bX");13.6t.5e.b5(J(1m.9S(I,"hW")).bK({"in":"hS",bZ:L}));13.6t.5e.1Z(13.7C);13.1i.3T("2V","2d(#bX)")}1k{13.6t.5e.4h.3T("bZ",L)}1a 13};K.8Z=G}(w));1c r=(17(I){1c H=I.$;1c G=17(K,J){13.3h={8a:"3p",3r:"7Z",2e:"2Q",1D:{hT:"2v",1f:"2t",1g:"2t"},hU:["1g","1f"]};13.3I=K;13.4u=1h;13.6S=1h;13.2G=1h;13.2M={};13.eF=[];13.5P=1h;13.aK=1h;13.5H=1h;13.3h=I.1X(13.3h,J);13.3g=13.3h.8a+"-aP";13.8n=13.3h.8a+"-6N";13.ec()};G.2w={ec:17(){13.4u=I.$1t("2Y").1A(13.3g).1A(13.3g+"-"+13.3h.3r).1x({5a:"3f"});13.6S=I.$1t("2Y").1A(13.3g+"-6S").1Z(13.4u);13.4u.1Z(13.3I);H(["4C","4y"]).36(17(J){13.2M[J]=I.$1t("2o").1A(13.3g+"-2o").1A(13.3g+"-2o-"+J).1Z(13.4u).1C("1Q 21",(17(L,K){H(L).5G[0].2a().4I();H(L).5c();13.5O(K)}).2E(13,J))}.1E(13));13.2M.4C.1A(13.3g+"-2o-4O");13.2G=I.$1t("hV").1C("1Q 21",17(J){J.2a()})},dS:17(K){1c J=I.$1t("i2").1A(13.8n).3n(K).1Z(13.2G);1t I.a6(K,{7a:13.9B.1E(13)});13.eF.38(J);1a J},dk:17(K){1c J=13.5P||13.2G.9u(13.8n+"-6L")[0];if(J){H(J).1T(13.8n+"-6L")}13.5P=H(K);if(!13.5P){1a}13.5P.1A(13.8n+"-6L");13.5O(13.5P)},bP:17(){if(13.6S!==13.2G.4H){H(13.2G).1Z(13.6S);13.eA();H(1j).1C("7t",13.5H=13.9B.1E(13));13.bP.1E(13).2y(1);1a}1c J=13.3I.1F();if(J.1g>0&&J.1g>J.1f){13.7O("4Q")}1k{13.7O("7Z")}13.9B();13.4u.1x({5a:""})},2a:17(){if(13.5H){H(1j).1N("7t",13.5H)}13.4u.5i()},5O:17(W,M){1c O={x:0,y:0},Z="4Q"==13.3h.3r?"1H":"1M",R="4Q"==13.3h.3r?"1g":"1f",N="4Q"==13.3h.3r?"y":"x",V=13.2G.4H.1F()[R],S=13.2G.4H.8b(),L=13.2G.1F()[R],U,J,Y,P,K,T,Q,X=[];if(13.aK){13.aK.2a()}1k{13.2G.1x("1Y",I.1e.7v+5W.79(32)+"6Z")}if(2D===M){M=8g}U=13.2G.8b();if("1O"==I.1P(W)){O[N]=("4y"==W)?1o.1V(U[Z]-S[Z]-V,V-L):1o.2h(U[Z]-S[Z]+V,0)}1k{if("5Z"==I.1P(W)){J=W.1F();Y=W.8b();O[N]=1o.2h(0,1o.1V(V-L,U[Z]+V/2-Y[Z]-J[R]/2))}1k{1a}}if(I.1e.5K&&"6y"==I.1e.4N||I.1e.2n&&I.1e.2n<10){if("1O"==I.1P(W)&&O[N]==U[Z]-S[Z]){U[Z]+=0===U[Z]-S[Z]?30:-30}O["7X-"+Z]=[((L<=V)?0:(U[Z]-S[Z])),O[N]];4P O.x;4P O.y;if(!13.bA){13.bA=1t I.8E([13.2G],{5z:eD})}X.38(O);13.bA.4V(X);Q=O["7X-"+Z][1]}1k{13.2G.1x({1Y:I.1e.7v+5W.79(32)+M+"7D 66",2g:"4m("+O.x+"2v, "+O.y+"2v, 0)"});Q=O[N]}if(Q>=0){13.2M.4C.1A(13.3g+"-2o-4O")}1k{13.2M.4C.1T(13.3g+"-2o-4O")}if(Q<=V-L){13.2M.4y.1A(13.3g+"-2o-4O")}1k{13.2M.4y.1T(13.3g+"-2o-4O")}Q=1h},eA:17(){1c L,K,M,T,S,V,N,R,Q,U,aa,X,Y,W={x:0,y:0},J,P,O=aZ,Z=17(ad){1c ac,ab=0;1S(ac=1.5;ac<=90;ac+=1.5){ab+=(ad*1o.eB(ac/1o.eG/2))}(T<0)&&(ab*=(-1));1a ab};S=H(17(ab){W={x:0,y:0};J="4Q"==13.3h.3r?"1H":"1M";P="4Q"==13.3h.3r?"1g":"1f";L="4Q"==13.3h.3r?"y":"x";X=13.2G.4H.1F()[P];aa=13.2G.1F()[P];M=X-aa;if(M>=0){1a}if(ab.2m=="3E"){if(2D===Y){Y=0}13.2G.3F("1Y",I.1e.7v+5W.79(32)+"e5");V=ab[L];Q=ab.y;R=ab.x;U=1n}1k{if("9I"==ab.2m){if(U){1a}N=Z(1o.3w(T));Y+=N;(Y<=M)&&(Y=M);(Y>=0)&&(Y=0);W[L]=Y;13.2G.3F("1Y",I.1e.7v+5W.79(32)+O+"7D  4S-4T(.0, .0, .0, 1)");13.2G.3F("2g","4m("+W.x+"2v, "+W.y+"2v, 5Q)");T=0}1k{if(U){1a}if("7Z"==13.3h.3r&&1o.3w(ab.x-R)>1o.3w(ab.y-Q)||"4Q"==13.3h.3r&&1o.3w(ab.x-R)<1o.3w(ab.y-Q)){ab.2a();T=ab[L]-V;Y+=T;W[L]=Y;13.2G.3F("2g","4m("+W.x+"2v, "+W.y+"2v, 5Q)");if(Y>=0){13.2M.4C.1A(13.3g+"-2o-4O")}1k{13.2M.4C.1T(13.3g+"-2o-4O")}if(Y<=M){13.2M.4y.1A(13.3g+"-2o-4O")}1k{13.2M.4y.1T(13.3g+"-2o-4O")}}1k{U=1r}}V=ab[L]}}).1E(13);13.2G.1C("2p",S)},9B:17(){1c M,L,J,K=13.3I.1F();if(K.1g>0&&K.1g>K.1f){13.7O("4Q")}1k{13.7O("7Z")}M="4Q"==13.3h.3r?"1g":"1f";L=13.2G.1F()[M];J=13.4u.1F()[M];if(L<=J){13.4u.1A("6E-2M");13.2G.3F("1Y","").1F();13.2G.3F("2g","4m(0,0,0)");13.2M.4C.1A(13.3g+"-2o-4O");13.2M.4y.1T(13.3g+"-2o-4O")}1k{13.4u.1T("6E-2M")}if(13.5P){13.5O(13.5P,0)}},7O:17(J){if("4Q"!==J&&"7Z"!==J||J==13.3h.3r){1a}13.4u.1T(13.3g+"-"+13.3h.3r);13.3h.3r=J;13.4u.1A(13.3g+"-"+13.3h.3r);13.2G.3F("1Y","3k").1F();13.2G.3F("2g","").3F("7X","")}};1a G})(w);1c h=y.$;if(!y.1e.87){y.1e.87=y.9Q("2g").9Z()}1c o={4A:{1y:"1O","2u":["2W","7z"],"1R":"7z"},3O:{33:[{1y:"1O","2u":["1l","2B","48","3L"],"1R":"1l"},{1y:"3u","2u":[1n]}],"1R":"1l"},eh:{33:[{1y:"1O","2u":["2t"]},{1y:"63",7r:1}],"1R":"2t"},dh:{33:[{1y:"1O","2u":["2t"]},{1y:"63",7r:1}],"1R":"2t"},91:{1y:"1O","1R":"2R"},ib:{1y:"63",7r:0,"1R":15},7F:{33:[{1y:"1O","2u":["2Q","1H","3L"],"1R":"3L"},{1y:"3u","2u":[1n]}],"1R":"3L"},2A:{33:[{1y:"1O","2u":["1j","dq","3L"]},{1y:"3u","2u":[1n]}],"1R":"1j"},65:{33:[{1y:"1O","2u":["1l","2B","3L"],"1R":"1l"},{1y:"3u","2u":[1n]}],"1R":"1l"},3V:{1y:"1O","2u":["2W","3i"],"1R":"2W"},3X:{1y:"3u","1R":1r},e8:{1y:"3u","1R":1r},3a:{33:[{1y:"1O","2u":["aM","3i","3L"]},{1y:"3u","2u":[1n]}],"1R":"aM"},e2:{1y:"3u","1R":1r},e0:{1y:"3u","1R":1n},9f:{1y:"3u","1R":1n},a2:{1y:"3u","1R":1r},dz:{1y:"3u","1R":1n},dp:{1y:"3u","1R":1r},aV:{1y:"1O","2u":["2W","7z"],"1R":"2W"},5x:{1y:"1O"},bO:{1y:"1O","1R":"ic 6F 1l"},8H:{1y:"1O","1R":"eJ 6F 1l"},8Q:{1y:"1O","1R":"eJ 6F 2A"},ig:{1y:"1O","1R":"i9"},i8:{1y:"1O","1R":"i4"},i5:{1y:"1O","1R":"i6"}};1c l={3O:{33:[{1y:"1O","2u":["1l","2B","3L"],"1R":"1l"},{1y:"3u","2u":[1n]}],"1R":"1l"},3V:{1y:"1O","2u":["2W"],"1R":"2W"},8Q:{1y:"1O","1R":"hR 6F 2A"},bO:{1y:"1O","1R":"i7 6F 1l"},8H:{1y:"1O","1R":"iG 21 6F 1l"}};1c n="8P",B="1q",b=20,z=["db","de","dP","dO","e7","dl"];1c t,p={},D=h([]),F,e=1j.jc||1,E,x=1r,f=y.1e.2L.8V?"4m(":"9d(",A=y.1e.2L.8V?",0)":")",m=1h;1c q=(17(){1c H,K,J,I,G;1a G})();17 v(I){1c H,G;H="";1S(G=0;G<I.1I;G++){H+=5W.79(14^I.ex(G))}1a H}17 i(I){1c H=[],G=1h;(I&&(G=h(I)))&&(H=D.2V(17(J){1a J.3U===G}));1a H.1I?H[0]:1h}17 a(I){1c H=h(1j).1F(),G=h(1j).6X();I=I||0;1a{1M:I,2R:H.1f-I,1H:I,2Q:H.1g-I,x:G.x,y:G.y}}17 c(G){1a(G.2k&&("3A"===G.2k||G.2k===G.59))||(/3A/i).3e(G.1y)}17 g(G){1a G.2k?(("3A"===G.2k||G.59===G.2k)&&G.9Y):1===G.2C.1I&&(G.6d.1I?G.6d[0].3D==G.2C[0].3D:1r)}17 s(){1c I=y.$A(29),H=I.6Q(),G=p[H];if(G){1S(1c J=0;J<G.1I;J++){G[J].6i(1h,I)}}}17 C(){1c K=29[0],G,J,H=[];3x{do{J=K.a9;if(/^[A-am-z]*$/.3e(J)){if(G=K.2q("id")){if(/^[A-am-z][-A-am-je-jf]*/.3e(G)){J+="#"+G}}H.38(J)}K=K.4H}5l(K&&K!==1m.6k);H=H.4p();y.76(H.6Y(" ")+"> .1q-8c > 24",{1f:"2N% !2s;"},"1q-et-6M",1r)}3R(I){}}17 u(){1c H=1h,I=1h,G=17(){1j.jb(1m.3H.80,1m.3H.7W);1j.aG(1t 1u("7t"))};I=f6(17(){1c L=1j.3r==90||1j.3r==-90,K=1j.4J,J=(L?f5.ja:f5.j6)*0.85;if((H==1h||H==1n)&&((L&&K<J)||(!L&&K<J))){H=1r;G()}1k{if((H==1h||H==1r)&&((L&&K>J)||(!L&&K>J))){H=1n;G()}}},j7);1a I}17 d(){y.76(".3p-3f-6S, .3p-at-24",{7A:"eS !2s","2h-1g":"0 !2s","2h-1f":"0 !2s","1V-1g":"3k !2s","1V-1f":"3k !2s",1f:"f4 !2s",1g:"f4 !2s",2e:"5C !2s",1H:"-a3 !2s",1M:"0 !2s",5d:"3f !2s","-3W-2g":"3k !2s",2g:"3k !2s","-3W-1Y":"3k !2s",1Y:"3k !2s"},"9o-8C-6M");y.76(".3p-at-24 24",{7A:"dC-eS !2s",3G:"0 !2s",78:"0 !2s","2h-1g":"0 !2s","2h-1f":"0 !2s","1V-1g":"3k !2s","1V-1f":"3k !2s","-3W-2g":"3k !2s",2g:"3k !2s","-3W-1Y":"3k !2s",1Y:"3k !2s"},"9o-8C-6M");if(y.1e.6u){y.76(".3t-3p .1q-2A .1q-2A-bg",{7A:"3k !2s"},"9o-8C-6M")}if(y.1e.6u&&("4l"!==y.1e.3B||44==y.1e.7l)){y.76(".3t-3p .1q-1l-1j.1q-2B, .3t-3p .1q-1l-1j.1q-2B:j8",{"3G-j9":"0 !2s"},"9o-8C-6M")}}1c k=17(J,K,H,I,G){13.1J={1U:1h,2d:1h,64:1,1d:1h,2m:0,1D:{1f:0,1g:0},2f:1n};13.1l={1U:1h,2d:1h,64:1,1d:1h,2m:0,1D:{1f:0,1g:0},2f:1n};if("8O"==y.1P(J)){13.1J=J}1k{if("1O"==y.1P(J)){13.1J.2d=y.6b(J)}}if("8O"==y.1P(K)){13.1l=K}1k{if("1O"==y.1P(K)){13.1l.2d=y.6b(K)}}13.3m=H;13.1v=I;13.4n=G;13.7b=1h;13.43=1h;13.1d=1h};k.2w={9t:17(I,H,G){1c J=I.7T("24")[0];if(G){13.1J.1d=J||y.$1t("24").1Z(I)}if(e>1){13.1J.2d=I.2q("3Q-1i-2x");if(13.1J.2d){13.1J.64=2}13.1l.2d=I.2q("3Q-1l-1i-2x");if(13.1l.2d){13.1l.64=2}}13.1J.1U=I.2q("3Q-1i")||I.2q("jg")||(J?J.2q("1U"):1h);if(13.1J.1U){13.1J.1U=y.6b(13.1J.1U)}13.1J.2d=13.1J.2d||13.1J.1U;if(13.1J.2d){13.1J.2d=y.6b(13.1J.2d)}13.1l.1U=I.2q("3Q-1l-1i")||I.2q("6K");if(13.1l.1U){13.1l.1U=y.6b(13.1l.1U)}13.1l.2d=13.1l.2d||13.1l.1U;if(13.1l.2d){13.1l.2d=y.6b(13.1l.2d)}13.3m=I.2q("3Q-3m")||I.2q("8x")||H;13.43=I.2q("3Q-43");13.4n=I;1a 13},aI:17(G){1c H=1h;if(29.1I>1&&"17"===y.1P(29[1])){H=29[1]}if(0!==13[G].2m){if(13[G].2f){13.6c(H)}1a}if(13[G].2d&&13[G].1d&&!13[G].1d.2q("1U")&&!13[G].1d.2q("jh")){13[G].1d.3T("1U",13[G].2d)}13[G].2m=1;1t y.a6(13[G].1d||13[G].2d,{7a:h(17(I){13[G].2f=1r;13[G].2m=I.2i?2:-1;if(I.2i){13[G].1D=I.1F();if(!13[G].1d){13[G].1d=h(I.24);13[G].1d.2q("2l");13[G].1d.5B("2l");13[G].1D.1f/=13[G].64;13[G].1D.1g/=13[G].64}1k{13[G].1d.1x({"1V-1f":13[G].1D.1f,"1V-1g":13[G].1D.1g});if(13[G].1d.9m&&13[G].1d.9m!=13[G].1d.1U){13[G].2d=13[G].1d.9m}1k{if(y.6b(13[G].1d.2q("1U")||"")!=13[G].2d){13[G].1d.3T("1U",13[G].2d)}}}}13.6c(H)}).1E(13)})},9e:17(){13.aI("1J",29[0])},bJ:17(){13.aI("1l",29[0])},5X:17(){13.7b=1h;if(29.1I>0&&"17"===y.1P(29[0])){13.7b=29[0]}13.9e();13.bJ()},6c:17(G){if(G){G.2b(1h,13)}if(13.7b&&13.1J.2f&&13.1l.2f){13.7b.2b(1h,13);13.7b=1h;1a}},2f:17(){1a(13.1J.2f&&13.1l.2f)},2i:17(){1a(2===13.1J.2m&&2===13.1l.2m)},8v:17(H){1c G="1J"==H?"1l":"1J";if(!13[H].2f||(13[H].2f&&2===13[H].2m)){1a 13[H].2d}1k{if(!13[G].2f||(13[G].2f&&2===13[G].2m)){1a 13[G].2d}1k{1a 1h}}},6C:17(H){1c G="1J"==H?"1l":"1J";if(!13[H].2f||(13[H].2f&&2===13[H].2m)){1a 13[H].1d}1k{if(!13[G].2f||(13[G].2f&&2===13[G].2m)){1a 13[G].1d}1k{1a 1h}}},1F:17(H){1c G="1J"==H?"1l":"1J";if(!13[H].2f||(13[H].2f&&2===13[H].2m)){1a 13[H].1D}1k{if(!13[G].2f||(13[G].2f&&2===13[G].2m)){1a 13[G].1D}1k{1a{1f:0,1g:0}}}},jo:17(H){1c G="1J"==H?"1l":"1J";if(!13[H].2f||(13[H].2f&&2===13[H].2m)){1a 13[H].64}1k{if(!13[G].2f||(13[G].2f&&2===13[G].2m)){1a 13[G].64}1k{1a 1}}},6z:17(G){13.1d=13.6C(G)}};1c j=17(H,G){13.1v=1t y.7c(o);13.1p=h(17(){if(29.1I>1){1a 13.7g(29[0],29[1])}1k{1a 13.eZ(29[0])}}).1E(13.1v);13.f0=1t y.7c(l);13.3C=[];13.1i=1h;13.6P=1h;13.3U=h(H).1C("3E jp 2W",17(I){I.2a()});13.id=1h;13.1d=1h;13.6W=1h;13.9k=1h;13.6x=1h;13.7q={1f:0,1g:0};13.1D={1f:0,1g:0};13.2c={1f:0,1g:0};13.3d={1f:0,1g:0};13.2j={1H:0,1M:0,2Q:0,2R:0};13.2i=1n;13.1L=1n;13.5I=1h;13.aA=1h;13.5H=h(17(){if(13.1L){13.1i.1d.1x({"1V-1g":1o.2h(13.1i.1F("1l").1g,13.6A())});13.1i.1d.1x({"1V-1f":1o.2h(13.1i.1F("1l").1f,13.7B())})}13.bh(29[0])}).1E(13);13.bp=h(17(I){3P(13.aA);13.aA=h(13.5H).2y(10,"5O"===I.1y)}).2E(13);13.1s=1h;13.1b=1h;13.3a=1h;13.bq=1h;13.6U=0;13.bW=1r;13.6g=1h;13.5r=1h;13.6N=1h;13.3c=1h;13.3S=1h;13.3X=1h;13.5h=1h;13.8r=1h;13.4R=1h;13.8t=1h;13.56=1h;13.4j=1h;13.4L=[];13.2M={};13.4V(G)};j.2w={eT:17(G){13.1v.7M(1j[B+"7c"]||{});13.1v.8S(13.3U.2q("3Q-1v")||"");if(y.1e.3t){13.1v.7M(13.f0.eX());13.1v.7M(1j[B+"jq"]||{});13.1v.8S(13.3U.2q("3Q-3t-1v")||"")}if("1O"==y.1P(G)){13.1v.8S(G||"")}1k{13.1v.7M(G||{})}if(13.1p("5x")){13.1p("5x",13.1p("5x").4v(","," "))}if(1n===13.1p("7F")){13.1p("7F","3L")}if(1n===13.1p("3a")){13.1p("3a","3L")}4r(13.1p("3a")){1B"3L":13.6U=0;1G;1B"aM":13.6U=2;1G;1B"3i":13.6U=6m;1G}if("3L"===13.1p("3O")){13.1p("3O",1n)}if("3L"===13.1p("2A")){13.1p("2A",1n)}if("3L"===13.1p("65")){13.1p("65",1n)}if(E){if("1l"==13.1p("3O")){13.1p("91","2z")}}if(y.1e.3t&&"1l"==13.1p("3O")&&"2z"==13.1p("91")){if(13.1p("2A")){13.1p("3O",1n)}1k{13.1p("4A","2W")}}},4V:17(H){1c G;13.eT(H);if(x&&!13.1p("a2")){1a}13.id=13.3U.2q("id")||"1q-"+1o.6e(1o.6O()*y.6q());13.3U.3T("id",13.id);13.1d=y.$1t("8c").1A("1q-8c");C(13.3U);13.6W=13.3U.ei("24");13.9k=13.6W?13.6W.2q("1U"):1h;13.6x=h(13.3U).2q("8x");h(13.3U).5B("8x");13.6P=1t k().9t(13.3U,13.6x,1r);13.1i=13.6P;13.1d.eg(13.1i.1J.1d).1A(13.1p("5x"));if(1r!==13.1p("dz")){13.1d.1C("jn",17(I){I.2a();1a 1n})}13.1d.1A("1q-"+13.1p("4A")+"-1l");if(!13.1p("2A")){13.1d.1A("1q-6E-2A")}13.1s={1d:y.$1t("2Y",{"3M":"1q-1s"},{1H:0}).1Z(13.1d),1i:y.$1t("24",{1U:"3Q:1i/dw;dv,dt/du="},{2e:"5C",1H:0,1M:0}),1f:0,1g:0,2Z:{x:0,y:0},5v:{x:0,y:0},1D:{1f:0,1g:0},3G:{x:0,y:0},dx:0,dy:0,5N:1n,4i:17(){if(y.1e.2L.2g){13.1d.1x({2g:"9d(-a3,-a3)"})}1k{13.1d.1x({1H:-dA})}}};13.1s.4i();13.1s.1d.3n(13.1s.1i);13.1b={1d:y.$1t("2Y",{"3M":"1q-1l-1j"},{1H:-dB}).1A(13.1p("5x")).1Z(F),1i:y.$1t("24",{1U:"3Q:1i/dw;dv,dt/du="},{2e:"5C"}),a0:0,1f:0,1g:0,5f:0,4J:0,1D:{1f:"2t",6R:"2v",1g:"2t",6w:"2v"},1W:13.1p("3O"),2e:13.1p("91"),4k:1n,2T:1n,3l:1n,5p:1n,6J:h(17(){13.1b.5p=1n!==29[0];13.1d[13.1b.5p?"1T":"1A"]("1q-6E-1l")}).1E(13),4i:h(17(){1c I=h(13.1d).26("cr");13.1b.1d.1N("2S");13.1b.1d.1x({1H:-dB}).1Z(F);13.1b.1d.1T("1q-9F 1q-p-"+("1l"==13.1b.1W?13.1b.2e:13.1b.1W));if(!13.1L&&I){I.2P()}13.1b.1i.2q("2l");13.1b.1i.5B("2l")}).1E(13),9h:h(17(I){13.1d[1n===I?"1A":"1T"]("1q-6E-1l");13.1d["2B"==I?"1A":"1T"]("1q-2B-1l");13.1b.1d["2B"==I?"1A":"1T"]("1q-2B");13.1b.1d["48"==I?"1A":"1T"]("1q-48");if("1l"!=I){13.1d.1T("1q-2z-1l");13.1b.1d.1T("1q-2z")}13.1b.1W=I;if(1n===I){13.1b.6J(1n)}1k{if("48"===I){13.1b.6J(1r)}}}).1E(13)};13.1b.1d.3n(13.1b.1i);13.1b.9h(13.1p("3O"));13.1b.1i.5B("1f");13.1b.1i.5B("1g");if("2D"!==93(q)){h(13.1d).34("cr",y.$1t(((1o.6e(1o.6O()*bN)+1)%2)?"bQ":"2Y").1x({7A:"dC",5d:"3f",5a:"6n",jm:q[1],ji:q[2],dH:q[3],jj:"jk-jl",2e:"5C",1H:8,1M:8,7X:"2t",1f:"2t",j5:"2R","j4-1g":"iO",dF:iP}).5k(v(q[0])));if(h(h(13.1d).26("cr")).7T("a")[0]){h(h(h(13.1d).26("cr")).7T("a")[0]).1C("21 1Q",17(I){I.5c();1j.a4(13.6K)})}}if((G=(""+13.1p("eh")).3s(/^([0-9]+)?(2v|%)?$/))){13.1b.1D.6R=G[2]||"2v";13.1b.1D.1f=(2F(G[1])||"2t")}if((G=(""+13.1p("dh")).3s(/^([0-9]+)?(2v|%)?$/))){13.1b.1D.6w=G[2]||"2v";13.1b.1D.1g=(2F(G[1])||"2t")}if("2B"==13.1b.1W){13.1d.1A("1q-2B-1l");13.1b.1d.1A("1q-2B");if("2t"===13.1b.1D.1f){13.1b.1D.6R="%";13.1b.1D.1f=70}if("2t"===13.1b.1D.1g){13.1b.1D.6w="%"}}1k{if(13.1p("1l-2e").3s(/^#/)){if(13.1b.4k=h(13.1p("1l-2e").4v(/^#/,""))){if(h(13.1b.4k).1F().1g>50){if("2t"===13.1b.1D.1f){13.1b.1D.6R="%";13.1b.1D.1f=2N}if("2t"===13.1b.1D.1g){13.1b.1D.6w="%";13.1b.1D.1g=2N}}}1k{13.1p("1l-2e","2R")}}if("48"==13.1b.1W){if("2t"===13.1b.1D.1f){13.1b.1D.6R="2v"}if("2t"===13.1b.1D.1g){13.1b.1D.6w="2v"}}if("1l"==13.1b.1W){if("2t"===13.1b.1D.1f||"2z"==13.1p("1l-2e")){13.1b.1D.6R="%";13.1b.1D.1f=2N}if("2t"===13.1b.1D.1g||"2z"==13.1p("1l-2e")){13.1b.1D.6w="%";13.1b.1D.1g=2N}}if("2z"==13.1p("1l-2e")){13.1d.1A("1q-2z-1l")}}13.1b.2e=13.1b.4k?"4k":13.1p("1l-2e");13.1s.3G.x=2F(13.1s.1d.3K("3G-1M-1f")||"0");13.1s.3G.y=2F(13.1s.1d.3K("3G-1H-1f")||"0");13.1i.9e(17(){if(2!==13.1i.1J.2m){1a}13.1i.6z("1J");13.1D=13.1i.1d.1F();13.ea();13.2i=1r;if(1r===13.1p("9f")){13.6V()}}.1E(13));if(1r!==13.1p("9f")||"3i"==13.1p("4A")){13.1i.5X(h(17(I){13.7o(I,1r)}).1E(13));13.5r=h(13.8o).1E(13).2y(8d)}13.dc()},2a:17(){13.dR();if(13.1b){13.1b.1d.5i()}if(13.4j){13.4j.2a();13.4j=1h}if(13.3c){13.3c.5i()}if(13.1L){h(y.1e.49()).1x({5d:""})}h(13.3C).36(17(G){h(G.4n).1T("1q-6N-6L").1T(13.1p("5x")||"1q-$iQ-6M-3M-6F-2P$")},13);if(13.6W){13.3U.3n(13.6W);if(13.9k){13.6W.3T("1U",13.9k)}}if(13.6x){13.3U.3T("8x",13.6x)}if(13.1d){13.1d.5i()}},7o:17(I,J){1c H=13.5T,G=13.1i;13.5T=1h;if(2!==I.1l.2m){13.1i=I;13.2i=1r;13.1b.6J(1n);1a}13.1i=I;13.1i.6z(13.1L?"1l":"1J");13.1b.1i.1U=13.1i.8v("1l");13.1b.1d.1T("1q-48");13.1b.1i.2q("2l");13.1b.1i.5B("2l");13.1b.1d.1F();4D(h(17(){1c L=13.1b.1i.1F(),K;13.3d=13.1i.1F("1l");if(L.1f*L.1g>1&&L.1f*L.1g<13.3d.1f*13.3d.1g){13.3d=L}13.2c=y.4a(13.3d);if("48"==13.1b.1W){13.1b.1d.1A("1q-48")}13.da();13.1s.1i.1U=13.1i.1d.9m||13.1i.1d.1U;13.1b.6J(13.1b.1W&&!(13.1L&&"48"==13.1b.1W));13.2i=1r;13.5I=1h;13.5H();13.1d.1A("1q-2i");13.aY();if(G!==13.1i){s("de",13.id,G.4n,13.1i.4n);if(13.9n){K=13.9n;13.9n=1h;13.40(K.1i,K.dj)}}1k{s("db",13.id)}if(H){13.1d.2U(H.1y,H)}1k{if(13.1L&&"3i"==13.1p("3V")){13.4w()}1k{if(!!J){13.6V()}}}}).1E(13),iR)},dc:17(){1c H=13.id,G,I;I=1t dd("1l\\\\-id(\\\\s+)?:(\\\\s+)?"+H+"($|;)");if(y.1e.2L.bl){G=y.$A(1m.b7(\'[3Q-1l-id="\'+13.id+\'"]\'));G=h(G).5E(y.$A(1m.b7(\'[aO*="1l-id"]\')).2V(17(J){1a I.3e(J.2q("aO")||"")}))}1k{G=y.$A(1m.9p("A")).2V(17(J){1a H==J.2q("3Q-1l-id")||I.3e(J.2q("aO")||"")})}h(G).36(17(K){1c J,L;h(K).1C("2W",17(M){M.3z()});J=1t k().9t(K,13.6x);if(13.1i.1l.1U.4F(J.1l.1U)&&13.1i.1J.1U.4F(J.1J.1U)){h(J.4n).1A("1q-6N-6L");J=13.1i;J.4n=K}if(!J.43&&13.1i.43){J.43=13.1i.43}L=h(17(){13.40(J)}).1E(13);h(K).1C("6B",17(M){if("di"in M){M.di()}},5);h(K).1C("21 "+("7z"==13.1p("aV")?"7x 8k":"1Q"),h(17(N,M){if(13.5V){3P(13.5V)}13.5V=1n;if("7x"==N.1y){13.5V=h(L).2y(M)}1k{if("21"==N.1y||"1Q"==N.1y){L()}}}).2E(13,60)).1A(13.1p("5x")).1A("1q-6N");J.9e();if(1r!==13.1p("9f")){J.bJ()}13.3C.38(J)},13)},40:17(G,H){if(!13.2i){13.9n={1i:G,dj:H};1a}if(!G||G===13.1i){1a 1n}13.4E(1h,1r);13.2i=1n;13.1d.1T("1q-2i");13.5r=h(13.8o).1E(13).2y(8d);G.5X(h(17(O){1c I,P,N,K,J,M,L=(y.1e.2n<10)?"1F":"7I";13.aY();O.6z("1J");if(!O.1d){13.2i=1r;13.1d.1A("1q-2i");1a}13.8I(O);I=13.1i.1d[L]();if(13.1L){O.6z("1l");N=y.$1t("2Y").1A("1q-2A-bg");if(y.1e.2L.8q||y.1e.2n<10){N.3n(y.$1t("24",{1U:O.8v("1l")}).1x({2r:0}))}1k{N.3n(1t y.8Z(O.1d).5e(b).6C().1x({2r:0}))}h(N).1x({"z-8J":-99}).1Z(13.3c)}if(13.1L&&"1l"===13.1b.1W&&"3i"===13.1p("3V")){h(O.1d).1x({2r:0}).1Z(13.1d);P=I;J=[O.1d,13.1i.1d];M=[{2r:[0,1]},{2r:[1,0]}];h(O.1d).1x({"1V-1f":1o.2h(O.1F("1l").1f,13.7B()),"1V-1g":1o.2h(O.1F("1l").1g,13.6A())})}1k{13.1d.1x({1g:13.1d[L]().1g});13.1i.1d.1x({2e:"5C",1H:0,1M:0,2Q:0,2R:0,1f:"2N%",1g:"2N%","1V-1f":"","1V-1g":""});h(O.1d).1x({"1V-1f":1o.2h(O.1F(13.1L?"1l":"1J").1f,13.1L?13.7B():6m),"1V-1g":1o.2h(O.1F(13.1L?"1l":"1J").1g,13.1L?13.6A():6m),2e:"iN",1H:0,1M:0,2r:0,2g:""}).1Z(13.1d);P=h(O.1d)[L]();if(!H){h(O.1d).1x({"2h-1f":I.1f,1g:I.1g,"1V-1f":I.1f,"1V-1g":""})}13.1d.1x({1g:"",5d:""}).1F();h(O.1d).1F();J=[O.1d,13.1i.1d];M=[y.1X({2r:[0,1]},H?{4c:[0.6,1]}:{"2h-1f":[I.1f,P.1f],"1V-1f":[I.1f,P.1f],1g:[I.1g,P.1g]}),{2r:[1,0]}]}if(13.1L){if(13.3S.4h&&N.4h){K=h(13.3S.4h).3K("2r");if(y.1e.5K){J=J.5E([N.4h]);M=M.5E([{2r:[0.bS,K]}])}1k{J=J.5E([N.4h,13.3S.4h]);M=M.5E([{2r:[0.bS,K]},{2r:[K,0.bS]}])}}}1t y.8E(J,{5z:(H||13.1p("dp"))?H?8d:iM:0,1Y:H?"4S-4T(0.88, 0.9c, 0.aB, 1.ay)":(I.1f==P.1f)?"8D":"4S-4T(0.25, .1, .1, 1)",7m:h(17(){13.1i.1d.2P().2q("2l");13.1i.1d.5B("2l");h(O.1d).1x(13.1L?{1f:"2t",1g:"2t"}:{1f:"",1g:""}).1x({"2h-1f":"","2h-1g":"",2r:"","1V-1f":1o.2h(O.1F(13.1L?"1l":"1J").1f,13.1L?13.7B():6m),"1V-1g":1o.2h(O.1F(13.1L?"1l":"1J").1g,13.1L?13.6A():6m)});if(13.1L){13.3S.2P();13.3S=2D;13.3S=N.3F("z-8J",-2N);h(13.3S.4h).1x({2r:""});if(13.3X){if(O.3m){if(O.43){13.3X.5k("").3n(y.$1t("a",{6K:O.43}).1C("21 1Q",13.8N.1E(13)).5k(O.3m))}1k{13.3X.5k(O.3m).1A("1q-5q")}}1k{13.3X.1T("1q-5q")}}}13.7o(O)}).1E(13),bR:h(17(Q,R){if(2D!==Q.4c){R.3F("2g","4c("+Q.4c+")")}})}).4V(M)}).1E(13))},8I:17(H){1c G=1n;h(13.3C).36(17(I){h(I.4n).1T("1q-6N-6L");if(I===H){G=1r}});if(G&&H.4n){h(H.4n).1A("1q-6N-6L")}if(13.4j){13.4j.dk(H.dT)}},da:17(G){if(13.1i.3m&&"3L"!==13.1p("7F")&&"2B"!==13.1b.1W){if(!13.1b.3m){13.1b.3m=y.$1t("2Y",{"3M":"1q-3m"}).1Z(13.1b.1d.1A("3m-"+13.1p("7F")))}13.1b.3m.5k(13.1i.3m)}},6V:17(G,I){1c H;if(!13.1L){if(13.6U<=0){1a}13.6U--}if(2D===I){if(!13.1b.2T&&!13.1b.3l){if(13.1p("3O")){if("7z"==13.1p("4A")){I=13.1p("bO")}1k{if("2W"==13.1p("4A")){I=13.1p("8H")}}}1k{I=13.1p("2A")?13.1p("8Q"):""}}1k{I=13.1p("2A")?13.1p("8Q"):""}}if(!I){13.b4();1a}H=13.1d;if(!13.3a){13.3a=y.$1t("2Y",{"3M":"1q-3a"});13.bq=y.$1t("bQ",{"3M":"1q-3a-iI"}).3n(1m.bx(I)).1Z(13.3a);h(13.3a).1Z(13.1d)}1k{h(13.bq).5k(I)}13.3a.1x({"1Y-dK":""}).1T("1q-3a-3f");if(13.1L){H=13.4R}1k{if((13.1b.2T||13.1b.3l)&&"2B"!==13.1b.1W&&"2z"==13.1b.2e){H=13.1b.1d}}if(1r===G){4D(h(17(){13.3a.1A("1q-3a-3f")}).1E(13),16)}13.3a.1Z(H)},b4:17(){if(13.3a){13.3a.1x({"1Y-dK":"e5"}).1A("1q-3a-3f")}},8o:17(){if(!13.6g){13.6g=y.$1t("2Y",{"3M":"1q-iJ"});13.1d.3n(13.6g);13.6g.1F()}13.6g.1A("e4")},aY:17(){3P(13.5r);13.5r=1h;if(13.6g){h(13.6g).1T("e4")}},7u:17(I,M){1c L=y.4a(13.1b.1D),K=(!13.1L&&13.1b.4k)?h(13.1b.4k).1F():{1f:0,1g:0},H,G,J=13.1D,N={x:0,y:0};M=M||13.1b.2e;13.7q=13.1i.1d.1F();13.1D=13.1i.1d.1F();13.2j=13.1i.1d.7I();if(!K.1g){K=13.1D}if(1n===13.1p("e2")||1n===13.1b.1W||"48"===13.1b.1W){I=1n}if("48"==13.1b.1W){if("2t"===L.1f){L.1f=13.3d.1f}if("2t"===L.1g){L.1g=13.3d.1g}}if(13.1L&&"2B"==13.1b.1W){L.1f=70;L.1g="2t"}if("2B"==13.1b.1W&&"2t"===L.1g){13.1b.1f=2F(L.1f/2N)*1o.2h(K.1f,K.1g);13.1b.1g=13.1b.1f}1k{if("1l"==13.1b.1W&&"2z"==M){13.1D=13.1d.1F();K=13.1D;13.2j=13.1d.7I();13.1b.1f=K.1f;13.1b.1g=K.1g}1k{13.1b.1f=("%"===L.6R)?2F(L.1f/2N)*K.1f:5D(L.1f);13.1b.1g=("%"===L.6w)?2F(L.1g/2N)*K.1g:5D(L.1g)}}if("48"==13.1b.1W){G=1o.2h(1o.2h(13.1b.1f/13.3d.1f,13.1b.1g/13.3d.1g),1);13.1b.1f=13.3d.1f*G;13.1b.1g=13.3d.1g*G}13.1b.1f=1o.3N(13.1b.1f);13.1b.1g=1o.3N(13.1b.1g);13.1b.a0=13.1b.1f/13.1b.1g;13.1b.1d.1x({1f:13.1b.1f,1g:13.1b.1g});if(I){K=13.1L?13.3c.1F():13.1b.1d.1F();if(!13.1L&&(13.7q.1f*13.7q.1g)/(13.3d.1f*13.3d.1g)>0.8){13.2c.1f=1.5*13.3d.1f;13.2c.1g=1.5*13.3d.1g}1k{13.2c=y.4a(13.3d)}}if(1n!==13.1b.1W&&!13.1b.2T&&!(13.1L&&"3i"==13.1p("3V"))){if((13.7q.1f*13.7q.1g)/(13.2c.1f*13.2c.1g)>0.8){13.2c=y.4a(13.3d);13.1b.6J(1n)}1k{13.1b.6J(1r)}}13.1b.1i.1x({1f:13.2c.1f,1g:13.2c.1g});H=13.1b.1d.8u();13.1b.5f=1o.3N(H.1f);13.1b.4J=1o.3N(H.1g);13.1s.1f=1o.3N(13.1b.5f/(13.2c.1f/13.1D.1f));13.1s.1g=1o.3N(13.1b.4J/(13.2c.1g/13.1D.1g));13.1s.1d.1x({1f:13.1s.1f,1g:13.1s.1g});13.1s.1i.1x(13.1D);y.1X(13.1s,13.1s.1d.1F());if(13.1b.2T){3P(13.4M);13.4M=1h;if(13.1s.5N){13.1s.2Z.x*=(13.1D.1f/J.1f);13.1s.2Z.y*=(13.1D.1g/J.1g);N.x=13.1s.5v.x;N.y=13.1s.5v.y}1k{N.x=13.2j.1M+13.1s.1f/2+(13.1s.2Z.x*(13.1D.1f/J.1f));N.y=13.2j.1H+13.1s.1g/2+(13.1s.2Z.y*(13.1D.1g/J.1g))}13.7U(1h,N)}},bh:17(K){1c N,M,G,L,J,I,H=h(13.1d).26("cr");G=a(5);J=13.1b.2e;L=13.1L?"2z":13.1b.4k?"4k":13.1p("1l-2e");I=13.1L&&"1l"==13.1b.1W?13.3c:1m.3H;if(13.1L){G.y=0;G.x=0}if(!K){13.7u(1r,L)}if(!13.1b.3l&&!13.1b.2T){1a}N=13.2j.1H;if("2B"!==13.1b.1W){if(K){13.7u(1n);1a}4r(L){1B"2z":1B"4k":N=0;M=0;1G;1B"1H":N=13.2j.1H-13.1b.1g-13.1p("1l-5b");if(G.1H>N){N=13.2j.2Q+13.1p("1l-5b");L="2Q"}M=13.2j.1M;1G;1B"2Q":N=13.2j.2Q+13.1p("1l-5b");if(G.2Q<N+13.1b.1g){N=13.2j.1H-13.1b.1g-13.1p("1l-5b");L="1H"}M=13.2j.1M;1G;1B"1M":M=13.2j.1M-13.1b.1f-13.1p("1l-5b");if(G.1M>M&&G.2R>=13.2j.2R+13.1p("1l-5b")+13.1b.1f){M=13.2j.2R+13.1p("1l-5b");L="2R"}1G;1B"2R":1R:M=13.2j.2R+13.1p("1l-5b");if(G.2R<M+13.1b.1f&&G.1M<=13.2j.1M-13.1b.1f-13.1p("1l-5b")){M=13.2j.1M-13.1b.1f-13.1p("1l-5b");L="1M"}1G}4r(13.1p("1l-2e")){1B"1H":1B"2Q":if(G.1H>N||G.2Q<N+13.1b.1g){L="2z"}1G;1B"1M":1B"2R":if(G.1M>M||G.2R<M+13.1b.1f){L="2z"}1G}13.1b.2e=L;13.7u(1n);if(K){1a}if("4k"==L){I=13.1b.4k;G.y=0;G.x=0}if("2z"==L){if("48"!==13.1b.1W){13.1b.1d.1A("1q-2z");13.1d.1A("1q-2z-1l")}13.1s.4i();N=13.2j.1H+G.y;M=13.2j.1M+G.x;if(!13.1L&&y.1e.2n&&y.1e.2n<11){N=0;M=0;I=13.1d}}1k{N+=G.y;M+=G.x;13.1d.1T("1q-2z-1l");13.1b.1d.1T("1q-2z")}13.1b.1d.1x({1H:N,1M:M})}1k{13.7u(1n);if(y.1e.2n&&y.1e.2n<11){I=13.1d}}13.1b.1d[13.1L?"1A":"1T"]("1q-1L");if(!13.1L&&H){H.1Z("1l"==13.1b.1W&&"2z"==L?13.1b.1d:13.1d,((1o.6e(1o.6O()*bN)+1)%2)?"1H":"2Q")}13.1b.1d.1Z(I)},dQ:17(M){1c I,G,K,J,L=1n,H=M.aX?5:3/54;h(M).2a();H=(2N+H*1o.3w(M.7V))/2N;if(M.7V<0){H=1/H}if("2B"==13.1b.1W){G=1o.1V(2N,1o.5y(13.1b.1f*H));G=1o.2h(G,13.1D.1f*0.9);K=G/13.1b.a0;13.1b.1f=1o.3N(G);13.1b.1g=1o.3N(K);13.1b.1d.1x({1f:13.1b.1f,1g:13.1b.1g});I=13.1b.1d.8u();13.1b.5f=1o.3N(I.1f);13.1b.4J=1o.3N(I.1g);L=1r}1k{if(!13.1L&&"1l"==13.1b.1W){G=1o.1V(50,1o.5y(13.1s.1f*H));G=1o.2h(G,13.1D.1f*0.9);K=G/13.1b.a0;13.2c.1f=1o.3N((13.1b.5f/G)*13.1D.1f);13.2c.1g=1o.3N((13.1b.4J/K)*13.1D.1g);13.1b.1i.1x({1f:13.2c.1f,1g:13.2c.1g})}1k{1a}}J=h(1j).6X();13.1s.1f=1o.3N(13.1b.5f/(13.2c.1f/13.1D.1f));13.1s.1g=1o.3N(13.1b.4J/(13.2c.1g/13.1D.1g));13.1s.1d.1x({1f:13.1s.1f,1g:13.1s.1g});y.1X(13.1s,13.1s.1d.1F());if(13.1b.2T){3P(13.4M);13.4M=1h;if(L){13.4M=1r}13.7U(1h,{x:M.x-J.x,y:M.y-J.y});if(L){13.4M=1h}}},9i:17(I){1c H,G=I?"3q 1Q":"51"+(!y.1e.3t?(1j.2H.3b?" 6r":1j.2H.b6?" 7h":" 7E"):""),J=13.1d.26("1q:5j:4w:fn",(!I)?h(17(K){H=(y.1e.2n<9)?y.1X({},K):K;if(!13.5I){3P(13.5I);13.5I=4D(h(17(){13.4w(H)}).1E(13),iK)}}).2E(13):h(13.4w).2E(13));13.1d.34("1q:5j:4w:1z",G).1C(G,J,10)},bv:17(H){1c G=13.1d.26("1q:5j:4w:1z"),I=13.1d.26("1q:5j:4w:fn");13.1d.1N(G,I);13.1d.2X("1q:5j:4w:fn")},9l:17(H){1c G=H?"3q 1Q":"5R"+(!y.1e.3t?(1j.2H.3b?" ba":1j.2H.b6?" ee":" 8k"):""),I=13.1d.26("1q:5j:4E:fn",h(17(J){if(c(J)&&!g(J)){1a}if(13.1b.1d!==J.7Y()&&!(("2z"==13.1b.2e||"2B"==13.1b.1W)&&13.1b.1d.9O(J.7Y()))&&!13.1d.9O(J.7Y())){13.4E(J)}}).2E(13));13.1d.34("1q:5j:4E:1z",G).1C(G,I,20)},bs:17(){1c G=13.1d.26("1q:5j:4E:1z"),H=13.1d.26("1q:5j:4E:fn");13.1d.1N(G,H);13.1d.2X("1q:5j:4E:fn")},ea:17(){13.dW=13.5s.1E(13);13.1d.1C(["51",1j.2H.3b?"7Q":"7R"],h(17(G){if((y.1e.6u||"6y"===y.1e.4N&&y.1e.5K)&&13.1p("3O")&&"2W"!==13.1p("4A")&&"51"===G.1y){G.3z();if(y.1e.5K){G.5c()}}if(!13.1b.2T){1a}if("2z"===13.1b.2e){13.1s.5v=G.7K()}}).2E(13),10);13.1d.1C(["5R",1j.2H.3b?"6o":"6v"],h(17(G){if(c(G)&&g(G)){13.1s.9E=1n}}).2E(13),10);13.1d.1C("7N "+("6y"===y.1e.4N?"":1j.2H.3b?"6r":1j.2H.b6?"7h":"7E"),h(13.7U).2E(13));if(13.1p("3O")){13.9i("2W"===13.1p("4A"));13.9l("2W"===13.1p("4A")&&!13.1p("2A"))}13.1d.1C("6B",17(G){G.5c()},10).1C("1Q",h(17(G){13.1d.bt("eb","2W");if(13.1L){13.3c.2U("1Q",G)}}).1E(13),15);if(13.1p("2A")){13.1d.1C("21 1Q",h(13.2A).2E(13),15)}1k{13.1d.1C("21 1Q",h(13.8N).2E(13),15)}if(13.3C.1I>1){13.bL()}if(!y.1e.3t&&13.1p("e0")){13.1d.1C("4x",13.dQ.2E(13))}h(1j).1C("7t 5O",13.bp)},dR:17(){if(13.1d){13.1d.1N("4x")}h(1j).1N("7t 5O",13.bp);h(13.3C).36(17(G){h(G.4n).bo()})},4w:17(M){1c N,L,J,K,G,H=0,I=0;if(!13.2i||!13.1b.5p||13.1b.2T||13.1b.3l){if(!13.1i.2f()){if(M){13.5T=y.1X({},M);M.4I()}13.1i.5X(13.7o.1E(13));if(!13.5r){13.5r=h(13.8o).1E(13).2y(8d)}}1a}if(M&&"6r"==M.1y&&"3A"==M.2k){1a}if(!13.1p("3O")&&13.1p("2A")&&!13.1L){13.1b.2T=1r;1a}13.1b.3l=1r;if(13.1L&&"1l"==13.1b.1W){K=13.1i.1d.7S();13.5h.1A("1q-1l-in");G=13.4R.7S();I=((K.1M+K.2R)/2-(G.1M+G.2R)/2);H=((K.1H+K.2Q)/2-(G.1H+G.2Q)/2)}13.1b.1i.1N("2S");13.1b.1d.1T("1q-9F").1N("2S");13.1b.1d.1A("1q-3l");13.1d.1A("1q-3l");13.bh();L=("1l"==13.1b.1W)?13.1b.2e:13.1b.1W;if(y.1e.2L.1Y&&!(13.1L&&"3i"==13.1p("3V"))){if("2z"==L){J=13.1i.1d.1F();13.1b.1i.1x({2g:"4m(0,"+H+"2v, 0) 4c("+J.1f/13.2c.1f+", "+J.1g/13.2c.1g+")"}).1F();13.1b.1i.1C("2S",h(17(){13.1b.1i.1N("2S");13.1b.1d.1T("1q-3l 1q-p-"+L);13.1b.3l=1n;13.1b.2T=1r}).1E(13));13.1b.1d.1A("1q-p-"+L).1F();if(!y.1e.3t&&y.1e.4l&&("4l"===y.1e.3B||"6h"===y.1e.3B)){13.1b.3l=1n;13.1b.2T=1r}}1k{13.1b.1d.1C("2S",h(17(){13.1b.1d.1N("2S");13.1b.1d.1T("1q-3l 1q-p-"+L)}).1E(13));13.1b.1d.1A("1q-p-"+L).1F();13.1b.1d.1T("1q-p-"+L);13.1b.3l=1n;13.1b.2T=1r}}1k{13.1b.1d.1T("1q-3l");13.1b.3l=1n;13.1b.2T=1r}if(!13.1L){13.6V(1r)}if(M){M.2a().4I();N=M.7K();if("2B"==13.1b.1W&&(/21/i).3e(M.1y)){N.y-=13.1b.1g/2+10}if("2z"==L&&((/21/i).3e(M.1y)||c(M))){13.1s.2Z={x:0,y:0};N.x=-(N.x-13.2j.1M-13.1D.1f/2)*(13.2c.1f/13.1D.1f);N.y=-(N.y-13.2j.1H-13.1D.1g/2)*(13.2c.1g/13.1D.1g)}}1k{N={x:13.2j.1M+(13.2j.2R-13.2j.1M)/2,y:13.2j.1H+(13.2j.2Q-13.2j.1H)/2}}13.1d.1T("1q-3l").1A("1q-2T");N.x+=-I;N.y+=-H;13.1s.5v={x:0,y:0};13.1s.dx=0;13.1s.dy=0;13.7U(M,N,1r);s("dP",13.id)},4E:17(I,N){1c L,J,G,H,K=0,M=0,O=13.1b.2T;13.5T=1h;if(!13.2i){1a}if(I&&"ba"==I.1y&&"3A"==I.2k){1a}3P(13.4M);13.4M=1h;3P(13.5I);13.5I=1h;13.1b.3l=1n;13.1b.2T=1n;if(1r!==N&&!13.1L){if(O){13.6V()}}if(!13.1b.5p){1a}if(I){I.2a()}13.1b.1i.1N("2S");13.1b.1d.1T("1q-3l").1N("2S");if(13.1L){H=13.4R.7S();if("3i"!==13.1p("3V")){13.5h.1T("1q-1l-in")}13.1i.1d.1x({"1V-1g":13.6A()});G=13.1i.1d.7S();M=((G.1M+G.2R)/2-(H.1M+H.2R)/2);K=((G.1H+G.2Q)/2-(H.1H+H.2Q)/2)}L=("1l"==13.1b.1W)?13.1b.2e:13.1b.1W;if(y.1e.2L.1Y&&I&&!(13.1L&&"3i"==13.1p("3V"))){if("2z"==L){13.1b.1i.1C("2S",h(17(){13.1b.1i.1N("2S");13.1d.1T("1q-2T");4D(h(17(){13.1b.4i()}).1E(13),32)}).1E(13));J=13.1i.1d.1F();13.1b.1d.1A("1q-9F 1q-p-"+L).1F();13.1b.1i.1x({2g:"4m(0,"+K+"2v,0) 4c("+J.1f/13.2c.1f+", "+J.1g/13.2c.1g+")"})}1k{13.1b.1d.1C("2S",h(17(){13.1b.4i();13.1d.1T("1q-2T")}).1E(13));13.1b.1d.3K("2r");13.1b.1d.1A("1q-9F 1q-p-"+L);13.1d.1T("1q-2T")}}1k{13.1b.4i();13.1d.1T("1q-2T")}13.1s.dx=0;13.1s.dy=0;13.1s.5v={x:0,y:0};13.1s.4i();if(O){s("dO",13.id)}},7U:17(Q,P,O){1c I=P,K,J,M=0,H,L=0,G,R,N=1n;if(13.5T&&!13.1i.2f()){13.5T=Q}if(!13.1b.2T&&!O){1a}if(Q){h(Q).3z().5c();if(c(Q)&&!g(Q)){1a}N=(/21/i).3e(Q.1y)||c(Q);if(N&&!13.1s.9E){13.1s.9E=N}if(!I){I=Q.7K()}}if("48"==13.1b.1W){1a}if("1l"==13.1b.1W&&"2z"===13.1b.2e&&(Q&&N||!Q&&13.1s.5N)){13.1s.5N=1r;K=13.1s.2Z.x+(I.x-13.1s.5v.x);J=13.1s.2Z.y+(I.y-13.1s.5v.y);13.1s.5v=I;M=1o.2h(0,13.1b.5f-13.2c.1f)/2;H=-M;L=1o.2h(0,13.1b.4J-13.2c.1g)/2;G=-L}1k{13.1s.5N=1n;K=I.x-13.2j.1M;J=I.y-13.2j.1H;H=13.1D.1f-13.1s.1f;G=13.1D.1g-13.1s.1g;K-=13.1s.1f/2;J-=13.1s.1g/2}if("2B"!==13.1b.1W){K=1o.1V(M,1o.2h(K,H));J=1o.1V(L,1o.2h(J,G))}13.1s.2Z.x=K=1o.5y(K);13.1s.2Z.y=J=1o.5y(J);if("1l"==13.1b.1W&&"2z"!=13.1b.2e){if(y.1e.2L.2g){13.1s.1d.1x({2g:"9d("+13.1s.2Z.x+"2v,"+13.1s.2Z.y+"2v)"});13.1s.1i.1x({2g:"9d("+-(13.1s.2Z.x+13.1s.3G.x)+"2v, "+-(13.1s.2Z.y+13.1s.3G.y)+"2v)"})}1k{13.1s.1d.1x({1H:13.1s.2Z.y,1M:13.1s.2Z.x});13.1s.1i.1x({1H:-(13.1s.2Z.y+13.1s.3G.y),1M:-(13.1s.2Z.x+13.1s.3G.x)})}}if("2B"==13.1b.1W){if(13.1s.9E&&!(Q&&"3q"==Q.1y)){I.y-=13.1b.1g/2+10}R=h(1j).6X();13.1b.1d.1x((y.1e.2n&&y.1e.2n<11)?{1H:I.y-13.2j.1H-13.1b.1g/2,1M:I.x-13.2j.1M-13.1b.1f/2}:{1H:I.y+R.y-13.1b.1g/2,1M:I.x+R.x-13.1b.1f/2})}if(!13.4M){13.1s.dx=0;13.1s.dy=0;13.5s(1)}},5s:17(I){1c H,G;if(!j0(I)){I=13.1s.5N?0.2:0.1}H=((13.1s.2Z.x-13.1s.dx)*I);G=((13.1s.2Z.y-13.1s.dy)*I);13.1s.dx+=H;13.1s.dy+=G;if(!13.4M||1o.3w(H)>0.be||1o.3w(G)>0.be){13.1b.1i.1x(y.1e.2L.2g?{2g:f+(13.1s.5N?13.1s.dx:-(13.1s.dx*(13.2c.1f/13.1D.1f)-1o.1V(0,13.2c.1f-13.1b.5f)/2))+"2v,"+(13.1s.5N?13.1s.dy:-(13.1s.dy*(13.2c.1g/13.1D.1g)-1o.1V(0,13.2c.1g-13.1b.4J)/2))+"2v"+A+" 4c(1)"}:{1M:-(13.1s.dx*(13.2c.1f/13.1D.1f)+1o.2h(0,13.2c.1f-13.1b.5f)/2),1H:-(13.1s.dy*(13.2c.1g/13.1D.1g)+1o.2h(0,13.2c.1g-13.1b.4J)/2)})}if("2B"==13.1b.1W){1a}13.4M=4D(13.dW,16)},bL:17(){1c S,I,N=30,K=j3,P,Q="",H={},G,M,R=0,T={1Y:y.1e.87+5W.79(32)+"dX 4S-4T(.18,.35,.58,1)"},J,O,L=h(17(U){if(!13.2i||13.1b.2T){1a}if(U.2m=="3E"){3P(13.5I);13.5I=1h;R=0;H={x:U.x,y:U.y,dg:U.2I};S=13.1D.1f;I=S/2;13.1i.1d.1N("2S");13.1i.1d.3F("1Y","");13.1i.1d.3F("2g","4m(0, 0, 0)");O=1h}1k{G=(U.x-H.x);M={x:0,y:0,z:0};if(1h===O){O=(1o.3w(U.x-H.x)<1o.3w(U.y-H.y))}if(O){1a}U.2a();if("9I"==U.2m){R=0;J=1h;P=U.2I-H.dg;if(1o.3w(G)>I||(P<K&&1o.3w(G)>N)){if((Q=(G>0)?"dU":(G<=0)?"iW":"")){if(Q=="dU"){J=13.83();R+=S*10}1k{J=13.89();R-=S*10}}}M.x=R;M.dZ=-90*(M.x/S);13.1i.1d.1C("2S",h(17(V){13.1i.1d.1N("2S");13.1i.1d.3F("1Y","");if(J){13.1i.1d.1x({2g:"4m("+M.x+"2v, 5Q, 5Q)"});13.40(J,1r)}}).1E(13));13.1i.1d.1x(T);13.1i.1d.1x({"1Y-5z":M.x?"iX":"dX",2r:1-0.7*1o.3w(M.x/S),2g:"4m("+M.x+"2v, 5Q, 5Q)"});G=0;1a}M.x=G;M.z=-50*1o.3w(M.x/I);M.dZ=-60*(M.x/I);13.1i.1d.1x({2r:1-0.7*1o.3w(M.x/I),2g:"4m("+M.x+"2v, 5Q, "+M.z+"2v)"})}}).1E(13);13.1d.1C("2p",L)},dn:17(){1c H,G;if(13.3C.1I){13.4L=13.3C}1k{H=13.3U.2q("3Q-aU");if(H){if(y.1e.2L.bl){G=y.$A(1m.b7(\'.8P[3Q-aU="\'+H+\'"]\'))}1k{G=y.$A(1m.9p("A")).2V(17(I){1a H==I.2q("3Q-aU")})}h(G).36(17(J){1c I,K;I=i(J);if(I&&I.3C.1I>0){1a}if(I){K=1t k(I.1i.1J.2d,I.1i.1l.2d,I.1i.3m,1h,I.1i.4n)}1k{K=1t k().9t(J,I?I.6x:1h)}if(13.1i.1l.1U.4F(K.1l.1U)&&13.1i.1J.1U.4F(K.1J.1U)){K=13.1i}13.4L.38(K)},13);13.6P=13.1i}}if(13.4L.1I>1){13.5h.1A("dN-aP");13.56=y.$1t("2Y",{"3M":"1q-2A-iV"}).1Z(13.5h);13.4j=1t r(13.56);h(13.4L).36(17(I){1c J=h(17(K){13.8I(I);13.40(I)}).1E(13);I.dT=13.4j.dS(y.$1t("24",{1U:I.8v("1J")}).1C("21 1Q",17(K){K.2a()}).1C("21 "+("7z"==13.1p("aV")?"7x 8k":"1Q"),h(17(L,K){if(13.5V){3P(13.5V)}13.5V=1n;if("7x"==L.1y){13.5V=h(J).2y(K)}1k{if("21"==L.1y||"1Q"==L.1y){J()}}}).2E(13,60)))},13);13.2M.4y.5q();13.2M.4C.5q()}1k{13.5h.1T("dN-aP");13.2M.4y.4i();13.2M.4C.4i()}},e6:17(){1c G;if(13.4j){13.4j.2a();13.4j=1h}if(13.56){13.56.2P();13.56=1h}if(13.4L.1I>1&&!13.3C.1I){13.1d.1N("2p");13.1i.1d.2P().2q("2l");13.1i.1d.5B("2l");13.6P.1d.1Z(13.1d);13.7o(13.6P);5l(G=13.4L.iU()){if(G!==13.6P){if(G.1J.1d){G.1J.1d.5i();G.1J.1d=1h}if(G.1l.1d){G.1l.1d.5i();G.1l.1d=1h}G=1h}}}13.4L=[]},6f:17(){if(!13.2i||!13.1L){1a}if("8R"==y.1e.4N&&"8L"==y.1e.3B&&7==5D(y.1e.7l)){dM(m);m=1h}h(1m).1N("bI",13.8F);13.4E(1h,1r);13.2i=1n;if(w.1e.4Z.9w&&w.1e.4Z.5p()){w.1e.4Z.dL()}1k{if(y.1e.2L.1Y){13.1d.1N("2S").1x({1Y:""});13.1d.1C("2S",13.8A);if(y.1e.4l&&("4l"===y.1e.3B||"6h"===y.1e.3B)){4D(h(17(){13.8A()}).1E(13),8g)}13.3S.1N("2S").1x({1Y:""});13.3S.1x({1Y:"aR 0.6s 4S-4T(0.e1, 0.iY, 0.ed, 0.iZ) 0.6Z"}).1F();if(y.1e.6u&&"4l"!==y.1e.3B){13.1d.1x({1Y:"aR .4s 4S-4T(0.8g, 0, 0.aW, 0.9V) 6Z"}).1F()}1k{13.1d.1x({1Y:"aR .4s 4S-4T(0.8g, -0.j2, 0.aW, 0.9V) 6Z"}).1F()}if("3i"==13.1p("3V")&&"2B"!==13.1p("65")){13.1i.1d.1x({"1V-1g":13.1i.1F("1l").1g});13.1i.1d.1x({"1V-1f":13.1i.1F("1l").1f})}13.3S.1x({2r:0.4});13.1d.1x({2r:0.j1,2g:"4c(0.4)"})}1k{13.8A()}}},2A:17(I){if(!13.1i.2f()||!13.2i||13.1L){if(!13.1i.2f()){if(I){13.5T=y.1X({},I);I.4I()}13.1i.5X(13.7o.1E(13));if(!13.5r){13.5r=h(13.8o).1E(13).2y(8d)}}1a}if(I){I.4I()}1c G=h(13.1d).26("cr"),H=1m.iT();13.b4();13.6U--;13.4E(1h,1r);13.bv();13.bs();13.2i=1n;if(!13.3c){13.3c=y.$1t("2Y").1A("1q-2A").1A(13.1p("5x")).1x({2r:0});13.5h=y.$1t("2Y").1A("1q-2A-dm").1Z(13.3c);13.8t=y.$1t("2Y").1A("1q-2A-iS").1Z(13.5h);h(["4C","4y","6f"]).36(17(K){1c J="1q-2o";13.2M[K]=y.$1t("2o",{8x:13.1p("9T-iL-"+K)}).1A(J).1A(J+"-"+K);H.b5(13.2M[K]);4r(K){1B"4C":13.2M[K].1C("21 1Q",17(L){L.2a();13.40(13.83())}.2E(13));1G;1B"4y":13.2M[K].1C("21 1Q",17(L){L.2a();13.40(13.89())}.2E(13));1G;1B"6f":13.2M[K].1C("21 1Q",17(L){L.2a();13.6f()}.2E(13));1G}},13);13.8t.3n(H);13.3c.1C("4x 51 3q",h(17(J){h(J).2a()}));if(13.1p("e8")){13.3c.1C("21 1Q",17(J){if("3i"!==13.1p("3V")&&13.1d.9O(J.e3())){1a}J.2a();13.6f()}.2E(13))}13.8F=h(17(K){1c J=1h;if(27!==K.8s&&37!==K.8s&&39!==K.8s){1a}h(K).2a();if(27===K.8s){13.6f()}1k{J=(37===K.8s)?13.83():13.89();if(J){13.40(J)}}}).2E(13);13.8e=h(17(){1c J;13.1d.1N("2S").1x({1Y:"",2g:"4m(0,0,0)"});if(13.1L){1a}13.1L=1r;13.3c.1x({2r:1});13.1b.9h(13.1p("65"));13.2c=y.4a(13.3d);13.5H();if(13.3X&&13.1i.3m){if(13.1i.43){13.3X.3n(y.$1t("a",{6K:13.1i.43}).1C("21 1Q",13.8N.1E(13)).5k(13.1i.3m))}1k{13.3X.5k(13.1i.3m)}13.3X.1A("1q-5q")}if("3i"!==13.1p("3V")){13.9i(1r);13.9l(1r)}13.2i=1r;if("3i"===13.1p("3V")){13.4w()}if(y.1e.3t&&13.bW&&13.1b.5p){13.6V(1r,13.1p("8H"));13.bW=1n}13.8t.1T("1q-3f").1A("1q-97 1q-6n");13.56&&13.56.1T("1q-3f").1A("1q-97 1q-6n");if(13.4j){13.4j.bP();13.8I(13.1i)}if(G){G.1Z(13.3c,((1o.6e(1o.6O()*bN)+1)%2)?"1H":"2Q")}if(13.4L.1I&&!13.3C.1I){13.bL()}h(1m).1C("bI",13.8F);if("8R"==y.1e.4N&&"8L"==y.1e.3B&&7==5D(y.1e.7l)){m=u()}s("e7",13.id)}).1E(13);13.8A=h(17(){13.1d.1N("2S");if(!13.1L){1a}if(13.1L){h(1m).1N("bI",13.8F);13.4E(1h,1r)}13.e6();13.1L=1n;13.1b.9h(13.1p("3O"));13.1d.b0(13.1i.6C("1J"),13.1i.1d);13.1i.6z("1J");h(13.1i.1d).1x({1f:"",1g:"","1V-1f":1o.2h(13.1i.1F("1J").1f),"1V-1g":1o.2h(13.1i.1F("1J").1g)});13.1d.1x({2r:"",1Y:""});13.1d.1x({2g:"4m(0,0,0)"});13.1d.1Z(13.3U);13.7u(1r);if(13.3X){13.3X.2P();13.3X=1h}13.bv();13.bs();if("3i"==13.1p("4A")){13.4w()}1k{if(1n!==13.1p("3O")){13.9i("2W"===13.1p("4A"));13.9l("2W"===13.1p("4A")&&!13.1p("2A"))}}13.6V();13.3S.1N("2S");13.3c.2P();13.3S.2P();13.3S=1h;h(y.1e.49()).1x({5d:""});h(1m.3H).1x({5d:""});13.2i=1r;if(y.1e.2n<10){13.5H()}1k{h(1j).bt("dJ","7t")}s("dl",13.id)}).1E(13);13.8r=y.$1t("2Y",{"3M":"1q-1i-dm"}).1Z(13.5h);13.4R=y.$1t("8c").1Z(13.8r)}13.dn();h(y.1e.49()).1x({5d:"3f"});h(1m.3H).1x({5d:"3f"}).1F();if("dq"==13.1p("2A")){13.aE();w.1e.4Z.bH(13.3c,{bE:h(17(){13.8e()}).1E(13),bB:13.8A,8y:h(17(){13.aN()}).1E(13)})}1k{4D(h(17(){13.aN()}).1E(13),96)}},aE:17(){1c G;G=y.$1t("24",{1U:13.1i.8v("1l")});13.3S=y.$1t("2Y").1A("1q-2A-bg").3n((y.1e.2L.8q||y.1e.2n<10)?G:1t y.8Z(G).5e(b).6C()).1Z(13.3c);if("3i"===13.1p("3V")){13.5h.1A("1q-3i-1l"+("1l"===13.1p("65")?" 1q-1l-in":"")).1F()}13.1d.b0(13.1i.6C("1l"),13.1i.1d);13.1i.6z("1l");13.3c.1Z(1m.3H);13.7B=17(){1c H=13.8r;if(h(13.4R).1F().1f>50){H=13.4R}1a 17(){1a"3i"==13.1p("3V")&&"2B"!==13.1p("65")?6m:1o.5y(h(H).8u().1f)}}.2b(13);13.6A=17(){1c H=13.8r;if(h(13.4R).1F().1g>50){H=13.4R}1a 17(){1a"3i"==13.1p("3V")&&"2B"!==13.1p("65")?6m:1o.5y(h(H).8u().1g)}}.2b(13);13.8t.1T("1q-97 1q-6n").1A("1q-3f");13.56&&13.56.1T("1q-97 1q-6n").1A("1q-3f");13.1i.1d.1x({"1V-1g":1o.2h(13.1i.1F("1l").1g,13.6A())});13.1i.1d.1x({"1V-1f":1o.2h(13.1i.1F("1l").1f,13.7B())});13.4R.3n(13.1d);if(13.1p("3X")){13.3X=y.$1t("dE",{"3M":"1q-3m"}).1Z(13.4R)}},aN:17(){13.aE();13.1d.1x({1Y:""});13.1d.1x({2g:"4c(0.6)"}).1F();if(y.1e.6u&&"4l"!==y.1e.3B){13.1d.1x({1Y:y.1e.87+" 0.6s 4S-4T(0.88, 0.9c, 0.aB, 1) 6Z"})}1k{13.1d.1x({1Y:y.1e.87+" 0.6s 4S-4T(0.88, 0.9c, 0.aB, 1.ay) 6Z"})}if(y.1e.2L.1Y){13.1d.1C("2S",13.8e);if(y.1e.4l&&("4l"===y.1e.3B||"6h"===y.1e.3B)){4D(h(17(){13.8e()}).1E(13),jd)}}1k{13.8e.2y(16,13)}13.3c.1x({2r:1});13.1d.1x({2g:"4c(1)"})},8N:17(){if(13.1i.43){1j.a4(13.1i.43,"ia")}},89:17(){1c G=(13.1L?13.4L:13.3C).2V(17(J){1a(-1!==J.1J.2m||-1!==J.1l.2m)}),H=G.1I,I=h(G).6a(13.1i)+1;1a(1>=H)?1h:G[(I>=H)?0:I]},83:17(){1c G=(13.1L?13.4L:13.3C).2V(17(J){1a(-1!==J.1J.2m||-1!==J.1l.2m)}),H=G.1I,I=h(G).6a(13.1i)-1;1a(1>=H)?1h:G[(I<0)?H-1:I]},f3:17(H,I){1c G=13.3C.2V(17(J){1a((J.1l.1U.4F(H)||J.1l.2d.4F(H))&&(J.1J.1U.4F(I)||J.1J.2d.4F(I)))})||[];1a G[0]||((I&&H&&"1O"===y.1P(I)&&"1O"===y.1P(H))?1t k(I,H):1h)},au:17(H){1c G=13.3C.2V(17(I){1a(I.4n===H)})||[];1a G[0]},f7:17(G){1a 13.3C[G]}};t={4q:"i3.0.8",4V:17(J,H){1c I=1h,G=[];y.$A((J?[h(J)]:y.$A(1m.9u("8P")).5E(y.$A(1m.9u("al"))))).36((17(K){if(h(K)){if(!i(K)){I=1t j(K,H);if(x&&!I.1p("a2")){I.2a();I=1h}1k{D.38(I);G.38(I)}}}}).1E(13));1a J?G[0]:G},2a:17(J){1c H,I,G;if(J){(I=i(J))&&(I=D.9X(D.6a(I),1))&&I[0].2a()&&(4P I[0]);1a}5l(H=D.1I){I=D.9X(H-1,1);I[0].2a();4P I[0]}},iw:17(G){13.2a(G);1a 13.4V(G)},40:17(L,K,J,H){1c I=i(L),G;if(I){G="5Z"===y.1P(K)?I.au(K):I.f3(K,J);if(G){I.40(G)}}},kr:17(J,I){1c H=i(J),G;if(H){4r(y.1P(I)){1B"5Z":G=H.au(I);1G;1B"63":G=H.f7(I);1G;1R:}if(G){H.40(G)}}},4C:17(H){1c G;(G=i(H))&&G.40(G.83())},4y:17(H){1c G;(G=i(H))&&G.40(G.89())},ko:17(H){1c G;(G=i(H))&&G.4w()},kv:17(H){1c G;(G=i(H))&&G.4E()},2A:17(H){1c G;(G=i(H))&&G.2A()},6f:17(H){1c G;(G=i(H))&&G.6f()},eH:17(G,H){if(!p[G]){p[G]=[]}if("17"==y.1P(H)){p[G].38(H)}},kc:17(G){1a!!i(G)}};h(1m).1C("9z",17(){1c H=1j[B+"7c"]||{};d();F=y.$1t("2Y",{"3M":"3p-3f-6S"}).1Z(1m.3H);E=(y.1e.3t&&1j.en&&1j.en("(1V-ey-1f: eI), (1V-ey-1g: eI)").jH);if(y.1e.3t){y.1X(o,l)}1S(1c G=0;G<z.1I;G++){if(H[z[G]]&&y.$F!==H[z[G]]){t.eH(z[G],H[z[G]])}}t.4V();x=1n});1j.al=1j.al||{};1a t})();',62,1279,'|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||this||||function|||return|zoomBox|var|node|jBrowser|width|height|null|image|window|else|zoom|document|false|Math|option|mz|true|lens|new|Event|options|Custom|jSetCss|type|event|jAddClass|case|jAddEvent|size|jBind|jGetSize|break|top|length|small|handler|expanded|left|jRemoveEvent|string|jTypeOf|btnclick|default|for|jRemoveClass|src|max|mode|extend|transition|jAppendTo||tap|||img||jFetch|||arguments|stop|call|zoomSize|url|position|loaded|transform|min|ready|boundaries|pointerType|style|state|ieMode|button|touchdrag|getAttribute|opacity|important|auto|enum|px|prototype||jDelay|inner|expand|magnifier|changedTouches|undefined|jBindAsEvent|parseFloat|context|navigator|timeStamp|mousedrag|clientY|features|buttons|100|clientX|jRemove|bottom|right|transitionend|active|jCallEvent|filter|click|jDel|div|pos||||oneOf|jStore||jEach||push||hint|pointerEnabled|expandBox|zoomSizeOrigin|test|hidden|rootCSS|settings|always|handle|none|activating|caption|append|defined|magic|dbltap|orientation|match|mobile|boolean|Doc|abs|try|Class|stopDefaults|touch|uaName|additionalImages|identifier|dragstart|jSetCssProp|border|body|parent|init|jGetCss|off|class|ceil|zoomMode|clearTimeout|data|catch|expandBg|setAttribute|placeholder|expandZoomOn|webkit|expandCaption|Element|touchpinch|update|hasOwnProperty||link|||||preview|getDoc|detach|array|scale|pushToEvents|target|dblbtnclick|styles|firstChild|hide|expandThumbs|custom|chrome|translate3d|origin|touches|reverse|version|switch||listeners|root|replace|activate|mousescroll|next|pow|zoomOn|schema|prev|setTimeout|deactivate|has|J_TYPE|parentNode|stopQueue|innerHeight|trident|expandGallery|moveTimer|platform|disabled|delete|vertical|expandFigure|cubic|bezier|direction|start|domPrefix|jTrim|requestAnimationFrame|fullScreen||touchstart|messageBox||||expandNav|constructor||MSPOINTER_TYPE_TOUCH|visibility|distance|stopDistribution|overflow|blur|innerWidth|instanceof|expandStage|kill|handlers|changeContent|while|add|pageX|pageY|enabled|show|loadTimer|move|timer|toLowerCase|spos|FX|cssClass|round|duration|jCamelize|removeAttribute|absolute|parseInt|concat|contains|events|resizeCallback|activateTimer|cubicBezier|gecko|className|nodeType|innertouch|scroll|selectedItem|0px|touchend|onerror|initEvent|J_UUID|updateTimer|String|load|mouseup|element|||isQueueStopped|number|dppx|expandZoomMode|ease|throw||Array|indexOf|getAbsoluteURL|onload|targetTouches|floor|close|loadingBox|opera|apply|jGetPageXY|documentElement|dragged|Infinity|visible|pointerup|render|now|pointermove||filters|androidBrowser|MSPointerUp|hunits|originalTitle|android|setCurNode|expandMaxHeight|mousedown|getNode|getButton|no|to|found|not|MagicJS|enable|href|selected|css|thumb|random|primaryImage|shift|wunits|wrapper|onTouchEnd|hintRuns|showHint|originalImg|jGetScroll|join|0s||cycles|onTouchStart|tm|tooltip|svg|addCSS||padding|fromCharCode|oncomplete|callback|Options|timedout|threshold|easeFn|set|MSPointerMove|originalImage|end|_handlers|uaVersion|onComplete|engine|setupZoom|onready|normalSize|minimum|200|resize|setSize|cssTransformProp|continuous|mouseover|alternate|hover|display|expandMaxWidth|canvas|ms|mousemove|zoomCaption|continue|split|getBoundingClientRect|storage|getClientXY|createElement|fromJSON|touchmove|setOrientation|Transition|pointerdown|MSPointerDown|jGetRect|byTag|animate|deltaY|scrollTop|margin|getRelated|horizontal|scrollLeft|_cleanup||getPrev||||cssTransform|175|getNext|cssPrefix|jGetPosition|figure|400|onExpand|on|600|_unbind|_timer|complete|mouseout|_EVENTS_|readyState|itemCSS|showLoading|toString|cssFilters|expandImageStage|keyCode|expandControls|getInnerSize|getURL|parseCubicBezier|title|fallback|sqrt|onClose|Opacity|reset|linear|PFX|keyboardCallback|hideTimer|textClickZoomHint|setActiveThumb|index|XMLHttpRequest|safari|Message|openLink|object|MagicZoom|textExpandHint|ios|fromString|pStyles|compatMode|perspective|pStyles_arr|exists|win|SVGImage||zoomPosition|handleMouseUp|typeof||||fade|||dblclick|toUpperCase|885|translate|loadSmall|lazyZoom|charAt|setMode|registerActivateEvent|onprogress|originalImgSrc|registerDeactivateEvent|currentSrc|nextImage|magiczoom|getElementsByTagName|_event_prefix_|naturalWidth|cancelAnimationFrame|parseNode|byClass|getStorage|capable|isNaN|btnclickEvent|domready|forceAnimation|reflow|J_EUID|relatedTarget|touchmovement|deactivating|onTouchMove|loopBind|dragend|pointerId|exitFullscreen|_bind|createEvent|callee|hasChild|xhr|normalizeCSS|eventType|createElementNS|text|implement|045|status|splice|isPrimary|dashize|aspectRatio|handleTouchStart|autostart|10000px|open|Date|ImageLoader|previousScale|https|tagName|||||||||||removeChild|MagicZoomPlus|Za|el_arr|slice|opr|styles_arr|Tooltip|deltaX|temporary|imageByOrigin|hideFX|cssDomPrefix|ignore|275|onClick|resizeTimer|320|maximum|handleTouchMove|prepareExpandedView|ifndef|dispatchEvent|uuid|loadImg|handleTouchEnd|scrollFX|J_EXT|once|expandToWindow|rel|thumbs|05|all|HTMLElement|changeEventName|gallery|selectorTrigger|735|isMouse|hideLoading|300|replaceChild|w3|errorEventName||hideHint|appendChild|msPointerEnabled|querySelectorAll|org|calc|pointerout||priority|_event_add_|000001|getTarget||reflowZoom|cycle|getElementsByClassName|_event_del_|query|startTime|stopAnimation|jClearEvents|onResize|hintMessage|cubicBezierAtTime|unregisterDeactivateEvent|jRaiseEvent|loadedBytes|unregisterActivateEvent|Alpha|createTextNode|onabort|onclick|selectorsMoveFX|onExit|Function|deltaMode|onEnter|presto|handleMouseDown|request|keydown|loadZoom|setProps|swipe|abort|101|textHoverZoomHint|run|span|onBeforeRender|0001|caller|http|www|mobileZoomHint|filterBlur|Left|stdDeviation|Bottom|naturalHeight|Top|fps|loop|finishTime|onAfterRender|interval|onStart|onreadystatechange|isReady|out|euid|cancelBubble||03|355|preventDefault|addEventListener|which|loadBlob|xhr2|wheelDelta|wheelDeltaY|wheelDeltaX|detail|curScale||dragmove|_initialDistance|handleMouseMove|doc|onxhrerror|304|wrap|error|progressiveLoad|jDefer|stopPropagation|requestFullScreen|easeOutBack|elasticIn|jHasClass|jSetOpacity|easeInBack|easeOutCubic|progid|bounceIn|999|parseSchema|styleFloat|getComputedStyle|Number|setMessage|jToBool|DXImageTransform|easeInCubic|165|getElementById|compareDocumentPosition|touchScreen|clientWidth|webkit419|easeInSine|easeOutSine|easeOutQuad|Microsoft|easeInQuad|easeOutExpo|easeInExpo|offsetWidth|Right|setCaption|onZoomReady|setupSelectors|RegExp|onUpdate|od|ts|zoomHeight|stopImmediatePropagation|onswipe|selectItem|onExpandClose|stage|setupExpandGallery||transitionEffect|fullscreen|hone|forEach|R0lGODlhAQABAAD|ACwAAAAAAQABAAACADs|base64|gif|||rightClick|10000|100000|inline|mjs|figcaption|zIndex|magicJS|fontWeight|backcompat|UIEvent|delay|cancel|clearInterval|with|onZoomOut|onZoomIn|changeZoomLevel|unregisterEvents|addItem|selector|backward|firefox|moveBind|300ms|DocumentTouch|deg|variableZoom|895|upscale|getOriginalTarget|shown|0ms|destroyExpandGallery|onExpandOpen|closeOnClickOutside|phone|registerEvents|MouseEvent|setupContent|685|MSPointerOut|animation|enclose|zoomWidth|querySelector|backCompat|textnode||nativize|matchMedia|getTime|documentMode||Webkit|stylesId|runtime|crios|Moz|moz|charCodeAt|device|onchange|initDrag|cos|UUID|500|msExitFullscreen|items|PI|registerCallback|767px|Click|item|toArray|Object|cancelFullScreen|insertRule|date|cssText|background|block|loadOptions|mozCancelAnimationFrame|styleSheet|multibackground|getJSON|removeRule|get|touchOptions|scrollbarsWidth|deleteRule|imageByURL|10px|screen|setInterval|imageByIndex|sheet|Image|ontouchstart|collection|hiptop|xxxxxxxx|regexp|iris|iemobile|KeyEvent|yxxx|KeyboardEvent|420|fireEvent|compal||xxxxxxxxxxxx|avantgo|4xxx|blackberry|bada|elaine|meego|xxxx|blazer|v3|g4bc9bfe|createEventObject|fennec|TR|air|evaluate|removeCSS|fullscreenEnabled|msFullscreenEnabled|webkitCancelFullScreen|webkitexitFullscreen|map|xpath|cssRules|toFloat|userAgent|head|addRule|edge|mozCancelFullScreen|oCancelFullScreen|SVG11|jToInt|4294967296|feature|generateUUID|getHashCode|hasFeature|implementation|ProgressEvent|msCancelFullScreen|FormData|DOMContentLoaded|doScroll|withCredentials|xy|symbian|oRequestAnimationFrame|jToggleClass|webkitRequestAnimationFrame|mozRequestAnimationFrame|other|msRequestAnimationFrame|oCancelAnimationFrame|red|2px|9999|webkitCancelRequestAnimationFrame|msCancelAnimationFrame|linux|mac|jGetFullScroll|mozInnerScreenY|getBoxObjectFor|clientTop|clientLeft|offsetHeight|WebKitPoint|jGetStyles|webos|unknown|taintEnabled|currentStyle|cssfilters|Width|ExitFullscreen|requestFullscreen|RequestFullScreen|RequestFullscreen|CancelFullScreen|MSFullscreenChange|MSFullscreenError|fullscreenerror|prefix|fullscreenchange|activeElement|FullScreen|webkitIsFullScreen|webkitTransitionEnd|lineHeight|WebKitTransitionEvent|getPropertyValue|TransitionEvent|cssFloat|float|FullscreenElement|fullscreenElement|536|lt|offsetLeft|ActiveXObject|plucker|pocket|isTouchEvent|isPrimaryTouch|removeEventListener|toElement|fromElement|returnValue|psp|srcElement|pointerover|MSPointerOver|re|attachEvent|mmp|netfront|midp|maemo|lge|ob|sort|detachEvent|ixi|os|palm|series|treo|xiino|insertBefore|jGetStyle|jSetStyle|xda|childNodes|innerText|offsetTop|offsetParent|html|innerHTML|iframe|DOMElement|pageYOffset|pageXOffset|jGetFullSize|scrollWidth|scrollHeight|clientHeight|up|windows|wap|presto925|vodafone|kindle|Tap|SourceGraphic|units|sides|ul|feGaussianBlur|setAttributeNS|isset|2000|1999|xlink|li|v5|Next|textBtnPrev|Previous|Touch|textBtnNext|Close|_self|zoomDistance|Hover||||textBtnClose|parameter|the|cubicOut|backIn|backOut|elasticOut||cubicIn||quadOut|sineOut|expoIn|expoOut|quadIn|bounceOut|refresh|parse|Incorrect|definition|of|JSON|NEGATIVE_INFINITY|MagicToolboxTooltip|MessageBox|5000|Double|pinchstart|message|loading|120|btn|350|relative|2em|2147483647|dummy|256|controls|createDocumentFragment|pop|thumbnails|forward|100ms|030|220|isFinite|01|280|201|line|textAlign|availHeight|250|before|radius|availWidth|scrollTo|devicePixelRatio|800|z0|9_|rev|srcset|fontSize|fontFamily|sans|serif|color|contextmenu|getRatio|selectstart|MobileOptions|sineIn|POSITIVE_INFINITY|745|715|575|easeInOutSine|1000|curFrame|infinite|normal|roundCss|setTransition|445|085|675|215|matches|easeInOutCubic|055|955|easeInOutQuad|455|515|destroy|send|onwheel|wheel|mousewheel|URL|000244140625|deltaFactor|pinchupdate|delta|deltaZ|webkitURL|lengthComputable|createObjectURL|GET|responseType|blob|537|response|total|static|progress|645|565|running|easeInOutExpo|easeInCirc|easeInQuart|035|795|06|easeOutQuint|easeInOutQuint|07|335|easeOutCirc|zoomIn|easeInOutBack|265|switchTo|135|785|075|zoomOut|easeInOutCirc|855|04|easeInQuint|easeInOutQuart|easeOutQuart|755'.split('|'),0,{}));EPSON.productGallery=(function(){'use strict';var config={HEROTABS:'.product-hero',GALLERY_WRAP:'.product-gallery',GALLERY:'#productGallery',IMAGE_SLIDER:'#imageSlider',THUMB_CAROUSEL:'#imageCarousel',VIDEO_CONTAINER:'#videoContainer',VIDEO_POPUP:'.popup_video',DEFAULT:'#images'};return EPSON.createClass({init:function(){if(this.findElement()){this.clickState=false;this.findSections();this.addHandlers();this.ready();}},findElement:function(){return $(config.GALLERY_WRAP).get().length>0;},findSections:function(){this.sections=$(config.GALLERY_WRAP).find('.gallery-navbar a').get();},addHandlers:function(){var that=this;$(config.GALLERY_WRAP).on('click','.gallery-navbar a',function(e){e.preventDefault();that.clickState=true;that.handleChange(this);});$(config.HEROTABS).on('click','.hero-tab-change a',function(e){e.preventDefault();that.clickState=true;that.handleChange(this);});$('body').on('click','.popup_video .do-close',function(e){if($('.video-link').length&&$('.video-link').attr('data-video-count').length){e.preventDefault();that.clickState=true;that.handleChange($('.gallery-videos-link').get(0));location.href="#videos";$('html, body').animate({scrollTop:$(window).scrollTop()-95});}});$(config.GALLERY_WRAP).on('click','.gallery-images '+config.THUMB_CAROUSEL+' .thumb',function(e){e.preventDefault();var thumbIndex=$(this).closest('.slick-slide').index();that.imageSlider.slick('slickGoTo',thumbIndex);});$(config.GALLERY_WRAP).on('click','.gallery-videos '+config.THUMB_CAROUSEL+' .thumb',function(e){e.preventDefault();that.changeVideo(this);});if(typeof threeSixtyhtml5!=='undefined'){if(!threeSixtyhtml5){Modernizr.on('flash',function(result){if(!result){var view360='360-view';for(var i=0;i<that.sections.length;i++){if(that.sections[i].hash==view360)delete that.sections[i];}
$(config.GALLERY_WRAP).find('.gallery-navbar a[href="#'+view360+'"]').parent('li').remove();$(config.GALLERY+' .gallery-360').remove();}});}}},ready:function(){var hash=window.location.hash?window.location.hash:config.DEFAULT;var link=this.hashInArray(hash);if(link===false){link=this.getSectionHash();link='a[href="'+link+'"]';}
if(link!==false){this.handleChange(link);}},handleChange:function(link){var that=this,section=$(link).attr('href');if(section){section=section.slice(1);}else{return;}
if(section==='video_0'){section="videos";}
var template=$('#templateGallery'+section).html();if(that.activeSection==section){return false;}
that.activeSection=section;$(config.GALLERY_WRAP).find('a.MagicZoom').each(function(){MagicZoom.zoomOut(this);});$(config.GALLERY_WRAP).find('.gallery-navbar a').parent().removeClass('is-active');$(link).parent().addClass('is-active');var html=Mustache.to_html(template);$(config.GALLERY).html(html).trigger('galleryupdate');if(that.clickState===true){history.pushState(null,section,'#'+section);}
switch(that.activeSection){case'images':that.initImageSlider();that.initThumbCarousel();MagicZoom.start();break;case'360-view':that.init360();break;case'videos':that.initVideos();that.initThumbCarousel();break;}
that.clickState=false;if(Waypoint)Waypoint.refreshAll();},hashInArray:function(hash){for(var i=0;i<this.sections.length;i++){if(this.sections[i].hash==hash){return this.sections[i];}}
return false;},getSectionHash:function(){for(var i=0;i<this.sections.length;i++){return this.sections[i].hash;}
return false;},initImageSlider:function(){var that=this,carouselSlides=$(config.THUMB_CAROUSEL).find('.thumb').get();that.imageSlider=$(config.IMAGE_SLIDER).slick({infinite:false,speed:600,slidesToShow:1,slidesToScroll:1,arrows:true});if($('body').hasClass('rtl')){that.imageSlider.slick('slickSetOption','rtl',true);}
that.imageSlider.on('beforeChange',function(event,slick,currentSlide,nextSlide){MagicZoom.zoomOut($(slick.$slides[currentSlide]).find('a').attr('id'));});that.imageSlider.on('afterChange',function(slider,slide){$(config.THUMB_CAROUSEL).find('.thumb').removeClass('is-active');$(config.THUMB_CAROUSEL).find('.thumb:eq('+slide.currentSlide+')').addClass('is-active');if(that.imageCarousel){that.imageCarousel.slick('slickGoTo',slide.currentSlide);}});},init360:function(){$(function(){if($('#productGallery .gallery-360').attr('data-360')){VIEW360.initialize(VIEW360,window);var stage=$('#productGallery .gallery-360')[0];var view360=VIEW360.createView360({product:$('#productGallery .gallery-360').attr('data-360'),stage:stage,});window.onresize=function(){view360.stageUpdate();};}});},initVideos:function(){var firstVideo=$(config.THUMB_CAROUSEL).find('.thumb').first().get();this.changeVideo(firstVideo);},changeVideo:function(video){var that=this;if(!$(video).hasClass('is-active')){var src=$(video).data('src'),videoElement=document.getElementById(config.VIDEO_CONTAINER.substring(1));$(config.VIDEO_CONTAINER).fadeTo('fast',0,function(){videoElement.pause();if(src){$(config.VIDEO_CONTAINER).find('source').attr('src',src);}
videoElement.load();videoElement.addEventListener('loadeddata',function(){$(config.VIDEO_CONTAINER).fadeTo('fast',1);},false);});$(config.THUMB_CAROUSEL).find('a').removeClass('is-active');$(video).addClass('is-active');}},initThumbCarousel:function(){var that=this,carouselSlides=$(config.THUMB_CAROUSEL).find('.thumb').get();function carouselSlidesToShow(){switch(EPSON.size){case 960:return 6;break;case 768:return 5;break;case 600:return 4;break;case 480:return 3;break;case 300:return 3;break;}}
function initCarousel(){that.imageCarousel=$(config.THUMB_CAROUSEL).slick({infinite:false,speed:600,slidesToShow:carouselSlidesToShow(),slidesToScroll:carouselSlidesToShow(),arrows:true});if($('body').hasClass('rtl')){that.imageCarousel.slick('slickSetOption','rtl',true);}}
if(carouselSlides.length>carouselSlidesToShow()){initCarousel();}
if(that.activeSection=='images'||that.activeSection=='videos'){EPSON.onsizechange(function(){if(that.imageCarousel){that.imageCarousel.slick('slickSetOption','slidesToShow',carouselSlidesToShow(),true);that.imageCarousel.slick('slickSetOption','slidesToScroll',carouselSlidesToShow(),false);}
if(carouselSlides.length>carouselSlidesToShow()&&!that.imageCarousel){initCarousel();}
else if(carouselSlides.length<=carouselSlidesToShow()&&that.imageCarousel){that.imageCarousel.slick('unslick');delete that.imageCarousel;that.imageSlider.slick('slickSetOption','asNavFor','',true);}});}},});}());;EPSON.productSupport=(function(){'use strict';var config={SUPPORT_WRAP:'.product-support',SUPPORT:'#productSupport',DEFAULT:'#faqs'};return EPSON.createClass({init:function(ID){if(this.findElement()){this.productID=ID;this.startingOS=$('#currentOS').attr('data-os');this.clickState=false;this.findSections();this.addHandlers();this.ready();if($('.legacy-collapsibles').length){this.initCollapsibles();}}},findElement:function(){return $(config.SUPPORT_WRAP).get().length>0;},findSections:function(){this.sections=$(config.SUPPORT_WRAP).find('.product-navbar a').get();},addHandlers:function(){var that=this;$(config.SUPPORT_WRAP).on('click','.product-navbar a',function(e){var href=$(this).attr('href');if(href.substring(0,1)=='#'){e.preventDefault();that.clickState=true;that.handleChange(this);}});$('body').on('click','#firmwareAcceptBtn',function(){if($('input.acceptlicenceterms:checked').length){$('input.acceptlicenceterms').removeClass('error');return true;}
else{$('input.acceptlicenceterms').addClass('error');return false;}});$(config.SUPPORT_WRAP).on('change','#f_selectos',function(){if(that.activeSection=='drivers'||that.activeSection=='manuals'||that.activeSection=='faqs'){that.handleOSChange(this);}});},ready:function(){var hash=window.location.hash?window.location.hash:config.DEFAULT;var link=this.hashInArray(hash);if(link===false){link=this.getSectionHash();link='a[href="'+link+'"]';}
if(link!==false){this.handleChange(link);}},handleChange:function(link){if($(link).attr('href')===undefined)return false;var that=this,section=$(link).attr('href').slice(1),template=$('#templateProductSupport'+section).html();that.activeSection=section;$(config.SUPPORT_WRAP).find('.product-navbar a').parent().removeClass('is-active');$(link).parent().addClass('is-active');var html=Mustache.to_html(template);$(config.SUPPORT).html(html);if(that.clickState===true){history.pushState(null,section,'#'+section);}
var $select=$(config.SUPPORT_WRAP).find('.operating-system select');if(!$select.data('epsonfield'))new EPSON.FieldSelect($select[0]);if($select.val()!=that.startingOS&&(that.activeSection=='drivers'||that.activeSection=='manuals')){that.handleOSChange($('#f_selectos'));}
switch(that.activeSection){case'downloads':$(config.SUPPORT_WRAP).find('.operating-system').hide();that.initCollapsibles();break;case'drivers':$(config.SUPPORT_WRAP).find('.operating-system').show();that.initCollapsibles();$('.popup-firmware').each(function(){new EPSON.Popup(this);});break;case'faqs':$(config.SUPPORT_WRAP).find('.operating-system').show();$('.paginate-list').each(function(){var pagination=new EPSON.paginateList(this);var categoryFilter=new EPSON.CategoryFilter(".drivers-faq-categories",pagination);var disclose=new EPSON.Disclose(document.getElementById("faq-categories"));$(this).data({pagination:pagination,categoryFilter:categoryFilter,disclose:disclose});});break;case'manuals':$(config.SUPPORT_WRAP).find('.operating-system').show();break;case'repair-services':$(config.SUPPORT_WRAP).find('.operating-system').hide();break;}
if(Waypoint)Waypoint.refreshAll();},handleOSChange:function(select){var that=this,value=$(select).val(),template=$('#templateProductSupport'+that.activeSection+'OS').html();$(config.SUPPORT).attr('data-state','loading');$(select).prop('disabled',true);if(that.activeSection=='faqs'){$.ajax({type:"GET",timeout:10000,url:EPSON.config.cclc+'viewcon/corporatesite/modules/faq_results/search/?product_id='+that.productID+'&os='+value+'&limit=-1',success:function(returnedData){if(typeof returnedData==='string'){returnedData=JSON.parse(returnedData);}
if(returnedData.status!=="failed"){var html=Mustache.to_html(template,returnedData);$(config.SUPPORT).html(html);$(config.SUPPORT).find('.paginate-list').each(function(){var pagination=new EPSON.paginateList(this);var categoryFilter=new EPSON.CategoryFilter(".drivers-faq-categories",pagination);var disclose=new EPSON.Disclose(document.getElementById("faq-categories"));$(this).data({pagination:pagination,categoryFilter:categoryFilter,disclose:disclose});});}},complete:function(){$(config.SUPPORT).attr('data-state','ready');$(select).prop('disabled',false);}});}
else{$.ajax({type:"GET",timeout:10000,url:EPSON.config.cclc+'viewcon/corporatesite/modules/drivers_and_manuals/get_for_product/'+that.productID+'/'+value+'?ajax=1',success:function(returnedData){if(typeof returnedData==='string'){returnedData=JSON.parse(returnedData);}
if(returnedData.status!=="failed"){for(var i=returnedData.manuals.sections.manuals.items.length-1;i>=0;i--){var obj=returnedData.manuals.sections.manuals.items[i];obj['file_extension_'+obj.file_extension]=true;};var html=Mustache.to_html(template,returnedData);$(config.SUPPORT).html(html);var popups=$.parseHTML(returnedData.licence_agreement_popup);$('body').append(popups);if(that.activeSection=='drivers'){that.initCollapsibles();$('.popup-firmware').each(function(){new EPSON.Popup(this);});}}},complete:function(){$(config.SUPPORT).attr('data-state','ready');$(select).prop('disabled',false);}});}},initCollapsibles:function(){$(config.SUPPORT).find('.section-collapsible').each(function(){new EPSON.collapsibleToggle($(this),'h3','.parent-content','',false);});if(!$(config.SUPPORT).find('.collapsible-inner').hasClass('no-children')){$(config.SUPPORT).find('.collapsible-inner').each(function(){new EPSON.collapsibleToggle($(this),'h4','.child-content','',false);});}},hashInArray:function(hash){for(var i=0;i<this.sections.length;i++){if(this.sections[i].hash==hash){return this.sections[i];}}
return false;},getSectionHash:function(){for(var i=0;i<this.sections.length;i++){return this.sections[i].hash;}
return false;},});}());;EPSON.productConsumables=(function(){'use strict';var config={CLASS:'collapsible-range-active',TABLE:'.ink-table'}
return EPSON.createClass({init:function(wrapper){this.wrap=wrapper;this.ranges=this.countRanges();if(this.ranges>4){this.addHandlers();this.ready();}},countRanges:function(){return $(this.wrap).find('.ink-range').get().length;},addHandlers:function(){var that=this;$(that.wrap).on('click','.ink-range > h4',function(e){e.preventDefault();that.triggerToggle(this);});},triggerToggle:function(link){if($(link).parent().hasClass('is-open')){this.triggerHide(link);}else{this.triggerShow(link);}},triggerShow:function(link){$(link).next(config.TABLE).stop(true,true).slideDown('fast');$(link).parent().addClass('is-open');},triggerHide:function(link){$(link).next(config.TABLE).stop(true,true).slideUp('fast');$(link).parent().removeClass('is-open');},ready:function(){$(this.wrap).addClass(config.CLASS);$(this.wrap).find('.ink-table').hide();var firstRange=$(this.wrap).find('.ink-range:first');firstRange.find(config.TABLE).show();firstRange.addClass('is-open');},})}());;EPSON.productDisplay=(function(){'use strict';var config={COLLAPSIBLE_WRAP:'.collapsible-wrap',COLLAPSIBLE_SECTION:'.collapsible-section',BASKET:'.miniBasket',BASKET_WRAP:'.miniBasket-wrapper'};return EPSON.createClass({init:function(){if(this.findElement()){this.addObjects();this.addHandlers();this.initCarousels();var that=this;}},findElement:function(){return $('.page-product-display').get().length>0;},addObjects:function(){this.productID=$('#productID').attr('data-productid');this.gallery=new EPSON.productGallery();$(config.COLLAPSIBLE_WRAP).find(config.COLLAPSIBLE_SECTION).each(function(i,v){new EPSON.productCollapsible(this,i);});this.support=new EPSON.productSupport(this.productID);$(config.COLLAPSIBLE_WRAP).find('.collapsable-ranges').each(function(){new EPSON.productConsumables(this);});new EPSON.Popup($('#stock_notify')[0]);var searchPopup;$('#dealer-list').each(function(){searchPopup=new EPSON.Popup(this);});$(".popup_content").on("click",'a[href^="#"]',function(e){searchPopup.handleClose();var hash=this.hash;});$('.hatch-buy').on('click',function(e){console.log('Hatch-buy clicked');e.preventDefault();var that=this;var id=$(this).data("productid");var submit=$("#storebutton");var data=submit.serialize();var url='/viewcon/corporatesite/products/mainunits/hatch/'+id;$.ajax({type:'POST',url:url,data:data,dataType:'json',success:function(data){if(data.success){$(that).next(".hatch-popup").trigger("click");}else{$("#storebutton").trigger("submit");}},error:function(data){$("#storebutton").trigger("submit");}});});$('.hatch-popup-buy').on('click',function(){$("#storebutton").trigger("submit");})
if($(config.BASKET_WRAP).length&&$(config.BASKET_WRAP).is(':visible')){new Waypoint.Sticky({element:$(config.BASKET_WRAP)[0]});}
$('a[href="#productReviews"]').on('click',function(e){e.preventDefault();var link=this;$(link.hash).slideToggle('fast',function(){if($(this).is(':visible')){$(link).html($(link).attr('data-hide'));}else{$(link).html($(link).attr('data-show'));}});});},addHandlers:function(){var that=this;if($('.bundleblock').length){that.initBundleCarousel();EPSON.onsizechange(function(){that.initBundleCarousel();});}
$(config.BASKET_WRAP).on('click','.do-toggle',function(e){e.preventDefault();that.toggleBundle(this);return false;});that.addConsumablesPage();},initBundleCarousel:function(){if(EPSON.size<768&&!this.bundleCarousel){$('.product_bundles_container').slick({dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,adaptiveHeight:true});this.bundleCarousel=true;}else{if(this.bundleCarousel==true){$('.product_bundles_container').slick('unslick');this.bundleCarousel=false;}}},initCarousels:function(){if($('.awards.slick-carousel').length){$('.awards.slick-carousel').slick({dots:false,infinite:false,speed:500,slidesToShow:5,swipeToSlide:true,responsive:[{breakpoint:959,settings:{slidesToShow:4}},{breakpoint:599,settings:{slidesToShow:3}}]});}},toggleBundle:function(bundle){var $this=$(bundle);$this.toggleClass('is-open');$this.next('.do-expand').stop(true,false).slideToggle('fast');},addConsumablesPage:function(){$('.consumables-content').on('click','a[href^="#"]',function(e){e.preventDefault();var hash=this.hash;$('html,body').animate({scrollTop:$(hash).offset().top},400);});$('.consumables-options').find('ul.collapsible-list > li').each(function(){new EPSON.collapsibleToggle($(this),'h3','.inner-content','',true);$(this).find('.ink-range').each(function(i,v){if($(this).find('h4')&&$(this).find('.ranges-wrapper')){new EPSON.collapsibleToggle($(this),'h4','.ranges-wrapper','',i==0);}});});},});}());$(function(){if($(".epson-product-hatch").length){$(".popup_dealerlist").addClass("epson-exists");$(".reccomend-stores-title").addClass("epson-exists");}});$(function(){window.productDisplay=new EPSON.productDisplay();});;if(typeof VIEW360!=='object'){VIEW360={};}
VIEW360.initialize=function(VIEW360,window,undefined){"use strict";window.requestAnimationFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(f){return window.setTimeout(f,1000/60);};}());window.cancelRequestAnimationFrame=(function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||function(id){window.clearTimeout(id);};}());var
document=window.document,getXMLHttpRequestObject=function(){var ref=null;if(window.XMLHttpRequest){ref=new XMLHttpRequest();}else if(window.ActiveXObject){try{ref=new ActiveXObject("Msxml2.XMLHTTP.6.0");}catch(e){try{ref=new ActiveXObject("Msxml2.XMLHTTP.3.0");}catch(e1){ref=new ActiveXObject("Microsoft.XMLHTTP");}}}
return ref;},ajax=function(url,callback,errorCallBack){var xmlhttprequest=getXMLHttpRequestObject();xmlhttprequest.open("GET",url,true);try{xmlhttprequest.send();}catch(e){if(errorCallBack){errorCallBack(e);}
return;}
xmlhttprequest.onreadystatechange=function(){if(xmlhttprequest.readyState==4){callback(xmlhttprequest.responseText);}};xmlhttprequest.onerror=function(e){if(errorCallBack){errorCallBack(e);}};};VIEW360.ajax=ajax;var
setStyleVender=function(style,name,value){var name2=name.charAt(0).toUpperCase()+name.slice(1);style["o"+name2]=value;style["ms"+name2]=value;style["moz"+name2]=value;style["webkit"+name2]=value;style[name]=value;};var
addTap=function(el){if(!("ontouchstart"in window)){el.addEventListener("click",function(e){var event=document.createEvent("MouseEvents");event.initMouseEvent("tap",e.canBubble,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);el.dispatchEvent(event);},false);return;}
var
x=0,y=0,touchstart=function(e){x=e.touches[0].pageX;y=e.touches[0].pageX;el.removeEventListener("touchstart",touchstart);document.addEventListener("touchmove",touchmove,false);document.addEventListener("touchend",touchend,false);},touchmove=function(e){if(Math.abs(x-e.touches[0].pageX)>15||Math.abs(y-e.touches[0].pageY)>15){document.removeEventListener("touchmove",touchmove);document.removeEventListener("touchend",touchend);el.addEventListener("touchstart",touchstart,false);}},touchend=function(e){var event=document.createEvent("MouseEvents");event.initMouseEvent("tap",e.canBubble,e.cancelable,e.view,e.detail,e.changedTouches[0].screenX,e.changedTouches[0].screenY,e.changedTouches[0].clientX,e.changedTouches[0].clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);el.dispatchEvent(event);document.removeEventListener("touchmove",touchmove);document.removeEventListener("touchend",touchend);el.addEventListener("touchstart",touchstart,false);};el.addEventListener("touchstart",touchstart,false);};VIEW360.addTap=addTap;var createLoading=function(dom){var
that={},_visible=true,domUpdate=function(stagerect){var rect=dom.getBoundingClientRect();dom.style.left=stagerect.width/2-rect.width/2+"px";dom.style.top=stagerect.height/2-rect.height/2+"px";},visible=function(bln){if(bln===true){_visible=true;dom.style.display="block";dom.style.opacity=1;}else if(bln===false){_visible=false;dom.style.display="none";dom.style.opacity=0;}
return _visible;};that.domUpdate=domUpdate;that.visible=visible;return that;};VIEW360.createLoading=createLoading;var
createImageList=function(imageUrls){var
that={},onload=function(){var i;if("onOneLoad"in that){that.onOneLoad();}
for(i=that.length-1;i>=0;i--){if(!that.imageList[i].loadComplete){return;}}
that.isLoading=false;that.loadComplete=true;if("onload"in that){that.onload(that);}},load=function(min,max){var i;min=min||0;max=max||that.length-1;if(that.loadComplete){onload();return;}
that.isLoading=true;if(that.imageList===undefined){that.imageList=[];for(i=0;i<that.length;i++){that.imageList[i]=createImage(imageUrls[i]);that.imageList[i].onload=onload;if(min<=i&&i<=max){that.imageList[i].load();}}}else{for(i=min;i<=max;i++){that.imageList[i].load();}}},cancel=function(){if(that.isLoading){that.isLoading=false;for(var i=that.length-1;i>=0;i--){that.imageList[i].cancel();}}else if(that.loadComplete){return;}},getItem=function(i){if(that.imageList[i]){return that.imageList[i].item;}else{return;}};that.length=imageUrls.length;that.onload=undefined;that.imageList=undefined;that.getItem=getItem;that.isLoading=false;that.loadComplete=false;that.load=load;that.cancel=cancel;that.urls=imageUrls;return that;},createImage=function(url){var
that={},onload=function(){that.item.onload=undefined;that.item.onerror=undefined;that.isLoading=false;that.loadComplete=true;if("onload"in that){that.onload(that);}},onerror=function(){that.item.onload=undefined;that.item.onerror=undefined;},load=function(){if(that.loadComplete){onload();return;}
that.isLoading=true;if(that.item!==undefined){that.item.onload=undefined;that.item.onerror=undefined;}
that.item=new Image();that.item.onload=onload;that.item.onerror=onerror;that.item.src=url;},cancel=function(){if(that.isLoading){that.isLoading=false;that.item.onload=undefined;that.item.onerror=undefined;that.item.removeAttribute("src");}else if(that.loadComplete){}};that.onload=undefined;that.isLoading=false;that.loadComplete=false;that.item=undefined;that.url=url;that.load=load;that.cancel=cancel;return that;};VIEW360.createImageList=createImageList;VIEW360.createImage=createImage;var
DATA=[1.62,1.638,1.655,1.672,1.69,1.707,1.725,1.742,1.76,1.777,1.794,1.811,1.828,1.846,1.863,1.88,1.898,1.915,1.932,1.949,1.967,1.984,2.001,2.018,2.035,2.052,2.069,2.086,2.103,2.12,2.137,2.154,2.171,2.189,2.206,2.223,2.239,2.257,2.273,2.29,2.307,2.324,2.341,2.358,2.375,2.392,2.408,2.425,2.442,2.459,2.476,2.492,2.509,2.526,2.543,2.559,2.576,2.593,2.61,2.626,2.643,2.66,2.676,2.693,2.71,2.726,2.743,2.76,2.777,2.793,2.81,2.826,2.843,2.86,2.876,2.893,2.91,2.926,2.943,2.959,2.976,2.993,3.009,3.026,3.042,3.059,3.075,3.092,3.109,3.125,3.142,3.158,3.175,3.191,3.208,3.225,3.241,3.258,3.274,3.291,3.308,3.324,3.341,3.357,3.374,3.391,3.407,3.424,3.441,3.457,3.474,3.49,3.507,3.524,3.54,3.557,3.574,3.59,3.607,3.623,3.64,3.657,3.674,3.69,3.707,3.724,3.741,3.757,3.774,3.791,3.808,3.824,3.841,3.858,3.875,3.892,3.908,3.925,3.942,3.959,3.976,3.993,4.01,4.026,4.044,4.06,4.077,4.094,4.111,4.128,4.145,4.162,4.179,4.196,4.213,4.23,4.248,4.265,4.282,4.299,4.316,4.333,4.35,4.367,4.384,4.402,4.419,4.436,4.453,4.47,4.488,4.505,4.522,4.539,4.557,4.574,4.591,4.609,4.626,4.644,4.661,4.679,4.696,4.714,4.731,4.749,4.766,4.784,4.801,4.819,4.836,4.854,4.871,4.89,4.907,4.924,4.942,4.96,4.977,4.995,5.013,5.031,5.048,5.067,5.084,5.102,5.12,5.138,5.156,5.174,5.192,5.21,5.227,5.245,5.263,5.282,5.3,5.317,5.336,5.353,5.372,5.39,5.408,5.426,5.444,5.462,5.48,5.498,5.516,5.535,5.553,5.571,5.589,5.607,5.625,5.643,5.662,5.68,5.698,5.716,5.734,5.753,5.771,5.789,5.807,5.826,5.844,5.862,5.88,5.898,5.917,5.935,5.953,5.972,5.99,6.008,6.027,6.045,6.063,6.082,6.1,6.118,6.136,6.155,6.173,6.192,6.21,6.228,6.246,6.265,6.283,0.018,0.037,0.055,0.073,0.091,0.11,0.128,0.147,0.165,0.183,0.201,0.22,0.238,0.256,0.275,0.293,0.311,0.329,0.348,0.366,0.384,0.402,0.421,0.439,0.457,0.475,0.494,0.512,0.53,0.548,0.566,0.585,0.603,0.621,0.639,0.658,0.676,0.694,0.712,0.73,0.748,0.766,0.784,0.802,0.82,0.838,0.857,0.874,0.892,0.91,0.929,0.946,0.965,0.982,1,1.018,1.036,1.054,1.072,1.09,1.108,1.125,1.143,1.161,1.179,1.197,1.214,1.233,1.25,1.268,1.286,1.304,1.322,1.339,1.357,1.374,1.392,1.41,1.427,1.445,1.463,1.48,1.498,1.516,1.533,1.551,1.568,1.586,1.603],COUNT=0,createCirclePoint=function(pointDom,data,px,py,pw,ph,totalFrames,orbit){var
that={},imageDom=pointDom.children[0],baloonDom=pointDom.children[1],frame,isFront,visibleArea,touchstart=function(){document.addEventListener("touchend",touchend,false);},mousedown=function(){document.addEventListener("mouseup",mouseup,false);},touchend=function(){document.removeEventListener("touchend",touchend);if(that.hasOwnProperty("onfeatureclick")&&that.isSpecial){that.onfeatureclick(data);}},mouseup=function(){document.removeEventListener("mouseup",mouseup);if(that.hasOwnProperty("onfeatureclick")&&that.isSpecial){that.onfeatureclick(data);}},toSpecial=function(){that.isSpecial=true;var
baloonRect=baloonDom.getBoundingClientRect(),iStyle=imageDom.style,bStyle=baloonDom.style;iStyle.left=bStyle.left;iStyle.top=bStyle.top;iStyle.width=baloonRect.width+"px";iStyle.height=baloonRect.height+"px";setStyleVender(iStyle,"transitionDelay","0.0s");setStyleVender(iStyle,"animationName",undefined);setStyleVender(iStyle,"animationDuration",undefined);setStyleVender(iStyle,"animationIterationCount",undefined);setStyleVender(iStyle,"animationDirection",undefined);bStyle.opacity=1;bStyle.pointerEvents="auto";setStyleVender(bStyle,"transitionDelay","0.3s");setStyleVender(bStyle,"animationName","b");pointDom.style.zIndex=1000+(COUNT++);if(VIEW360.HAS_TOUCH){baloonDom.addEventListener("touchstart",touchstart,false);}else{baloonDom.addEventListener('mousedown',mousedown,false);}},toNormal=function(){that.isSpecial=false;var
iStyle=imageDom.style,bStyle=baloonDom.style;iStyle.left="-7.5px";iStyle.top="-7.5px";iStyle.width="15px";iStyle.height="15px";setStyleVender(iStyle,"transitionDelay","0.3s");setStyleVender(iStyle,"animationName","b");setStyleVender(iStyle,"animationDuration","1.2s");setStyleVender(iStyle,"animationIterationCount","infinite");setStyleVender(iStyle,"animationDirection","linear");bStyle.opacity=0;bStyle.pointerEvents="none";setStyleVender(bStyle,"transitionDelay","0.0s");setStyleVender(bStyle,"animationName",undefined);baloonDom.removeEventListener("touchstart",touchstart);baloonDom.removeEventListener('mousedown',mousedown);},pauseAnime=function(){setStyleVender(imageDom.style,"animationName",undefined);imageDom.style.opacity="0.5";setStyleVender(baloonDom.style,"animationName",undefined);},playAnime=function(){setStyleVender(imageDom.style,"animationName","b");imageDom.style.opacity="0.7";if(that.isSpecial){setStyleVender(baloonDom.style,"animationName","b");}},drawTo=function(domX,domY,scale){pointDom.style.left=domX+that.x*scale+"px";pointDom.style.top=domY+that.y*scale+"px";if(that.visible){pointDom.style.visibility="visible";pointDom.style.pointerEvents="auto";}else{pointDom.style.visibility="hidden";pointDom.style.pointerEvents="none";}},getDistanceBy=function(x2,y2){return(that.x-x2)*(that.x-x2)+(that.y-y2)*(that.y-y2);},getFrame=function(){return frame;},setFrame=function(value){value+=1;var
rot=changeRot(((value-1)*360/totalFrames+90+orbit)/180*Math.PI);frame=value-1;that.x=Math.sin(rot)*pw/2+pw/2+px;that.y=Math.cos(rot)*ph/2+ph/2+py;if(isFront){that.visible=!(visibleArea<value&&value<totalFrames-visibleArea);}else{that.visible=totalFrames/2-visibleArea<value&&value<totalFrames/2+visibleArea;}},changeRot=function(rot){rot-=Math.PI/2;while(rot<0){rot+=2*Math.PI;}
rot=rot%(2*Math.PI);return DATA[Math.floor(rot*180/Math.PI)];},getPointData=function(){return data;},initialize=function(){while(orbit<0){orbit+=360;}
orbit=orbit%360;isFront=orbit>180;visibleArea=totalFrames/12+1;baloonDom.innerHTML=data.text["#text"]||data.text;var baloonRect=baloonDom.getBoundingClientRect();baloonDom.style.left=-baloonRect.width/2+"px";baloonDom.style.top=-baloonRect.height/2+"px";toNormal();};initialize();that.isSpecial=false;that.toSpecial=toSpecial;that.toNormal=toNormal;that.playAnime=playAnime;that.pauseAnime=pauseAnime;that.getFrame=getFrame;that.setFrame=setFrame;that.drawTo=drawTo;that.getPointData=getPointData;return that;};VIEW360.createCirclePoint=createCirclePoint;var
Z_INDEX=10002,createMovie=function(spec,my){my=my||{};var
that={},frameList,imageIsPngList,imageList,slideshow,slidesec,setCanvas=function(canvas,canvas2){my.canvas=canvas;my.existCanvas2=canvas2!==undefined;my.canvas2=canvas2||canvas;my.ctx=my.canvas.getContext("2d");my.ctx2=my.canvas2.getContext("2d");check();},check=function(){if(my.canvas&&imageList&&imageList.loadComplete){that.width=my.canvas.width=my.canvas2.width=imageList.getItem(0).width;that.height=my.canvas.height=my.canvas2.height=imageList.getItem(0).height;}},initialize=function(){frameList=spec.frame;slideshow=spec.slideshow==="true"||spec.slideshow===true;if(slideshow){slidesec=(spec.slidesec||1)+5/30;}else{slidesec=0;}
my.frameNumber=0;imageIsPngList=[];frameList.forEach(function(v,i){try{var ary=v.split("."),ext=ary[ary.length-1].slice(0,3).toLowerCase();imageIsPngList[i]="png"==ext;}catch(e){imageIsPngList[i]=true;}});my.animationId=-1;},loadCancel=function(){imageList.cancel();},load=function(onComplete){var onload=function(){that.totalFrames=imageList.length;check();if(onComplete){onComplete();}};if(imageList===undefined){imageList=VIEW360.createImageList(frameList);imageList.onload=onload;imageList.load();}else if(imageList.isLoading===true){imageList.onload=onload;}else if(imageList.loadComplete===true){if(onComplete){onComplete();}}else{imageList.load();}},fixedRect=function(x1,y1,scopeWidth,scopeHeight){var
width,height,top,left;if(scopeWidth/scopeHeight>my.canvas.width/my.canvas.height){width=my.canvas.width*scopeHeight/my.canvas.height;height=scopeHeight;top=y1;left=x1+(scopeWidth-width)/2;}else{width=scopeWidth;height=my.canvas.height*scopeWidth/my.canvas.width;top=y1+(scopeHeight-height)/2;left=x1;}
my.canvas.style.width=my.canvas2.style.width=width+"px";my.canvas.style.height=my.canvas2.style.height=height+"px";my.canvas.style.top=my.canvas2.style.top=top+"px";my.canvas.style.left=my.canvas2.style.left=left+"px";},gotoAndPlay=function(frameNumber){my.frameNumber=frameNumber;play();},gotoAndStop=function(frameNumber){my.frameNumber=frameNumber;stop();draw(frameNumber);},getImage=function(){return imageList.getItem(my.frameNumber);},play=function(){stop();draw(my.frameNumber);if(!slideshow){my.animationId=window.requestAnimationFrame(animation);}else{my.animationId=setTimeout(animation,slidesec*1000+1000);}
that.isPlaying=true;},stop=function(){that.isPlaying=false;clearTimeout(my.animationId);},animation=function(){if(draw(my.frameNumber+1)){if(!slideshow){my.animationId=window.requestAnimationFrame(animation);}else{my.animationId=setTimeout(animation,slidesec*1000*1.2);}}else{that.isPlaying=false;if("onendanime"in that){that.onendanime();}}},clear=function(){my.frameNumber=0;stop();if(my.ctx2!==my.ctx){my.ctx2.clearRect(0,0,my.canvas.width,my.canvas.height);}
my.ctx.clearRect(0,0,my.canvas.width,my.canvas.height);setStyleVender(my.canvas2.style,"transitionDuration","0s");setStyleVender(my.canvas.style,"transitionDuration","0s");my.canvas2.style.opacity=my.canvas.style.opacity=1;my.canvas=my.canvas2=undefined;my.ctx=my.ctx2=undefined;imageList.cancel();},drawImg=function(frame){if(frame===undefined||my.ctx===undefined){return false;}
if(frame.width!==that.width||frame.height!==that.height){that.width=my.canvas.width=my.canvas2.width=frame.width;that.height=my.canvas.height=my.canvas2.height=frame.height;}
var
nowCanvas=my.canvas,nowCtx=my.ctx;if(imageIsPngList[my.frameNumber]){nowCtx.clearRect(0,0,nowCanvas.width,nowCanvas.height);}
nowCtx.drawImage(frame,0,0);if(my.existCanvas2&&slideshow){my.ctx=my.ctx2;my.ctx2=nowCtx;my.canvas=my.canvas2;my.canvas2=nowCanvas;setStyleVender(my.canvas.style,"transitionDuration",slidesec/2.9+"s");setStyleVender(my.canvas2.style,"transitionDuration","0s");my.canvas.style.opacity=0;my.canvas.style.zIndex=Z_INDEX+1;my.canvas2.style.opacity=1;my.canvas2.style.zIndex=Z_INDEX;}
return true;},draw=function(frameNumber){my.frameNumber=frameNumber;return drawImg(imageList.getItem(frameNumber));},getCurrentFrame=function(){return my.frameNumber;};initialize();that.loadCancel=loadCancel;that.isPlaying=false;that.setCanvas=setCanvas;that.fixedRect=fixedRect;that.load=load;that.gotoAndPlay=gotoAndPlay;that.gotoAndStop=gotoAndStop;that.play=play;that.stop=stop;that.drawImg=drawImg;that.clear=clear;that.getCurrentFrame=getCurrentFrame;return that;};VIEW360.createMovie=createMovie;var
createMovie360=function(spec){var
that={},movieIsReady=false,circlePoints,featureList,tick,dom,canvasDom,pointsDom,featureDom,arrowDom,movie,rotate=0,pointIsShown=true,initialize=function(spec){dom=spec.dom;var featureText=spec.main.advice.text["#text"]||spec.main.advice.text||"";dom.innerHTML='<canvas></canvas><div class="points select"></div><span class="feature select">'+featureText+'</span><div class="arrow"></div>';featureList=spec.featureList;canvasDom=dom.children[0];canvasDom.style.position="absolute";pointsDom=dom.children[1];featureDom=dom.children[2];featureDom.style.display="none";featureDom.style.position="absolute";VIEW360.addTap(featureDom);var func=function(){if(pointIsShown){pointIsShown=false;pointsDom.className="points";featureDom.className="feature";}else{pointIsShown=true;pointsDom.className="points select";featureDom.className="feature select";}};featureDom.addEventListener("tap",func,false);arrowDom=dom.getElementsByClassName("arrow")[0];movie=spec.mainMovie;canvasDom.style.opacity="0";movie.setCanvas(canvasDom);movie.load(function(){domWidth=dom.clientWidth;domHeight=dom.clientHeight;domUpdate();setFeature(featureList,movie.totalFrames);tick=dom.clientWidth/movie.totalFrames*2;VIEW360.loading.visible(false);movie.gotoAndStop(movie.totalFrames-1);rot=rotate=movie.getCurrentFrame();movieIsReady=true;movie.onendanime=undefined;arrowDom.style.opacity="1";resetTouchEvent();if(circlePoints.length>0){featureDom.style.display="block";}});},updateId=-1,domWidth=0,domHeight=0,domX=0,domY=0,domUpdate=function(rect){if(rect){domWidth=dom.clientWidth;domHeight=dom.clientHeight;domX=0;domY=0;tick=dom.clientWidth/movie.totalFrames*2;if(movieIsReady){resetTouchEvent();}}
if(movie){window.cancelRequestAnimationFrame(updateId);updateId=window.requestAnimationFrame(function(){movie.fixedRect(domX,domY,domWidth,domHeight);drawPoints();canvasDom.style.opacity="1";});}},setFeature=function(featureList,imageLength){var
i,pointStr="",onfeatureclick=function(data){if(that.hasOwnProperty("onfeatureclick")){that.onfeatureclick(data);}};circlePoints=[];if(featureList===undefined){return;}
for(i=0;i<featureList.length;i++){pointStr+="<span class='point'><span class='pointImage'></span><span class='pointBaloon'></span></span>";}
pointsDom.innerHTML=pointStr;for(i=0;i<featureList.length;i++){var pt=featureList[i].point,circlePoint=VIEW360.createCirclePoint(pointsDom.children[i],featureList[i],pt.x,pt.y,pt.width,pt.height,imageLength,pt.radian);circlePoint.onfeatureclick=onfeatureclick;circlePoints.push(circlePoint);}},drawId=-1,rot,draw=function(rot_){rot=Math.floor(rot_);window.cancelRequestAnimationFrame(drawId);drawId=window.requestAnimationFrame(_draw);},_draw=function(){movie.gotoAndStop(rot);drawPoints();},drawPoints=function(){if(circlePoints===undefined){return;}
var i,canvasRect=canvasDom.getBoundingClientRect(),domRect=dom.getBoundingClientRect(),scale=canvasRect.width/canvasDom.width;for(i=0;i<circlePoints.length;i++){var circlePoint=circlePoints[i];circlePoint.setFrame(rot);circlePoint.drawTo(canvasRect.left-domRect.left,canvasRect.top-domRect.top,scale);}},firstX,firstY,tmpX,tmp2X,tickD=0,touchId=-1,canceled=false,cancelEvent=function(event){canceled=true;event.preventDefault();event.cancelBubble=true;event.stopPropagation();},touchstart=function(event){if(event.target.className==="pointBaloon"){return;}
if(event.touches.length>1&&canceled===false){document.removeEventListener("touchend",touchend,false);document.removeEventListener("touchmove",touchmove,false);return;}
canceled=false;var touch=event.touches[event.touches.length-1];touchId=touch.identifier;start(touch.pageX,touch.pageY);document.addEventListener("touchend",touchend,false);document.addEventListener("touchmove",touchmove,false);},touchmove=function(event){cancelEvent(event);var touch=event.changedTouches[0];if(touch.identifier==touchId&&Math.round(tmpX)!==Math.round(event.pageX)){move(touch.pageX);}},touchend=function(event){cancelEvent(event);var touch=event.changedTouches[0];if(touch.identifier!=touchId){return;}
if(event.touches.length>0){touchId=event.touches[event.touches.length-1].identifier;}else{document.removeEventListener("touchend",touchend);document.removeEventListener("touchmove",touchmove);end(touch.pageX);}},mousedown=function(event){cancelEvent(event);if(event.target.className==="pointBaloon"){return;}
start(event.pageX,event.pageY);dom.removeEventListener("mousedown",mousedown);document.addEventListener("mouseup",mouseup,false);document.addEventListener("mousemove",mousemove,false);},mousemove=function(event){cancelEvent(event);if(tmpX!==event.pageX){move(event.pageX);}},mouseup=function(event){cancelEvent(event);document.removeEventListener("mouseup",mouseup);document.removeEventListener("mousemove",mousemove);dom.addEventListener('mousedown',mousedown,false);end(event.pageX);},touchCirclePoint,start=function(firstX_,firstY_){arrowDom.style.opacity=0;setTimeout(function(){arrowDom.style.display="none";},1000);tickD=0;tmp2X=tmpX=firstX=firstX_;firstY=firstY_;if(touchCirclePoint){touchCirclePoint.toNormal();touchCirclePoint=undefined;}
if(pointIsShown){var
crect=canvasDom.getBoundingClientRect(),canvasscale=960/(crect.right-crect.left),fx=(firstX_-(crect.left+window.scrollX))*canvasscale,fy=(firstY_-(crect.top+window.scrollY))*canvasscale,tmpd=4000,i,d,cp;for(i=0;i<circlePoints.length;i++){cp=circlePoints[i];if(cp.visible===true){d=(fx-cp.x)*(fx-cp.x)+(fy-cp.y)*(fy-cp.y);if(d<tmpd){tmpd=d;touchCirclePoint=cp;}}}
if(touchCirclePoint){touchCirclePoint.toSpecial();}
if(touchCirclePoint!==undefined&&that.hasOwnProperty("onfeaturedown")){that.onfeaturedown(touchCirclePoint.getPointData());}
window.requestAnimationFrame(pauseCircleAnime);}
draw(rotate);},move=function(newX){var
d=Math.max(-tick,Math.min(tick,newX-tmpX)),newrotate=rotate+d/tick;if(newrotate>movie.totalFrames){newrotate-=movie.totalFrames;}if(newrotate<0){newrotate+=movie.totalFrames;}
if(Math.floor(newrotate)!==Math.floor(rotate)){if(touchCirclePoint!==undefined){if(that.hasOwnProperty("onfeatureout")){that.onfeatureout(touchCirclePoint.getPointData());}
touchCirclePoint.toNormal();touchCirclePoint=undefined;}
draw(newrotate);}
rotate=newrotate;tmp2X=tmpX;tmpX=newX;},end=function(newX){var dx;if(newX===tmpX){dx=(newX-tmp2X)/2;}else{dx=newX-tmpX;}
tickD=Math.max(-tick,Math.min(tick,dx));window.requestAnimationFrame(inerta);inerta();},pauseCircleAnime=function(){for(var i=0;i<circlePoints.length;i++){circlePoints[i].pauseAnime();}},playCircleAnime=function(){for(var i=0;i<circlePoints.length;i++){circlePoints[i].playAnime();}},inerta=function(){if(tickD===0){playCircleAnime();return;}
move(tmpX+tickD);tickD*=0.95;if(!(tickD<0.5&&tickD>-0.5)){window.requestAnimationFrame(inerta);}else{playCircleAnime();}},deleteTouchEvent=function(){dom.removeEventListener('touchstart',touchstart);dom.removeEventListener('mousedown',mousedown);document.removeEventListener("mouseup",mouseup);document.removeEventListener("mousemove",mousemove);document.removeEventListener("touchmove",touchmove);document.removeEventListener("touchend",touchend);},resetTouchEvent=function(){deleteTouchEvent();if(VIEW360.HAS_TOUCH){dom.addEventListener("touchstart",touchstart,false);}else{dom.addEventListener('mousedown',mousedown,false);}};initialize(spec);that.domUpdate=domUpdate;that.pauseCircleAnime=pauseCircleAnime;that.playCircleAnime=playCircleAnime;return that;};VIEW360.createMovie360=createMovie360;VIEW360.HAS_TOUCH="ontouchstart"in window;var
createView360=function(spec){var
that={},productId,data,stage,movie360dom,movie360,captionDom,movieClasses,movieFirstUrls,view360captionDom,textParentDom,titleDom,textDom,imageParentDom,canvasDom,canvas2Dom,nowCaptionMovie,stageUpdate=function(){if(movie360){var rect=stage.getBoundingClientRect();movie360.domUpdate(rect);VIEW360.loading.domUpdate(rect);}
onresize();},initialize=function(spec){productId=spec.product;stage=spec.stage;stage.innerHTML='<div class="threesixty_window"><div></div><div class="caption"><div class="caption_1"><div class="captionTexts"><div class="captionTitle"></div><div class="captionText"></div></div><div class="captionImg"><canvas class="captionImg_1"></canvas><canvas class="captionImg_1"></canvas></div></div></div><span class="log"></span><div class="loading"><div class="circle c_1"></div><div class="circle c_2"></div><div class="circle c_3"></div></div></div>';VIEW360.stage=stage=stage.children[0];VIEW360.loading=VIEW360.createLoading(stage.getElementsByClassName("loading")[0]);movie360dom=stage.children[0];movie360dom.style.margin="0 auto";movie360dom.style.width="100%";movie360dom.style.height="100%";movie360dom.style.position="absolute";movie360dom.style.overflow="hidden";captionDom=stage.children[1];captionDom.style.display="none";view360captionDom=captionDom.getElementsByClassName("caption_1")[0];textParentDom=captionDom.getElementsByClassName("captionTexts")[0];titleDom=captionDom.getElementsByClassName("captionTitle")[0];textDom=captionDom.getElementsByClassName("captionText")[0];imageParentDom=captionDom.getElementsByClassName("captionImg")[0];canvasDom=captionDom.getElementsByClassName("captionImg_1")[0];canvas2Dom=captionDom.getElementsByClassName("captionImg_1")[1];stageUpdate();VIEW360.loading.visible(true);VIEW360.ajax(productId+"Product.json",function(d){var i,movieFirstUrlList=[];movieClasses={};movieFirstUrls={};d=d.split("./images/").join(productId+"images/");try{data=JSON.parse(d).data;}catch(e){return false;}
if(data.movieClass!==undefined&&!(data.movieClass instanceof Array)){data.movieClass=[data.movieClass];}
if(data.feature!==undefined&&!(data.feature instanceof Array)){data.feature=[data.feature];}
for(i=0;i<data.movieClass.length;i++){var movieSpec=data.movieClass[i];if(movieSpec.frame!==undefined&&!(movieSpec.frame instanceof Array)){movieSpec.frame=[movieSpec.frame];}
movieFirstUrlList.push(movieSpec.frame[0]);movieFirstUrls[data.movieClass[i].classname]=i;movieClasses[data.movieClass[i].classname]=VIEW360.createMovie(movieSpec);}
var firstImageList=VIEW360.createImageList(movieFirstUrlList);firstImageList.onload=function(){for(var label in movieFirstUrls){movieFirstUrls[label]=firstImageList.getItem(movieFirstUrls[label]);movieClasses[label].width=movieFirstUrls[label].width;movieClasses[label].height=movieFirstUrls[label].height;}
movie360=VIEW360.createMovie360({dom:movie360dom,main:data.main,featureList:data.feature,mainMovie:movieClasses[data.main.movie]});movie360.onfeaturedown=onFeatureDown;movie360.onfeatureout=onFeatureOut;movie360.onfeatureclick=onFeatureClick;stageUpdate();};firstImageList.load();});},onFeatureDown=function(feature){var movieId=feature.caption.movie["#text"]||feature.caption.movie||"";movieClasses[movieId].load();},onFeatureOut=function(feature){var movieId=feature.caption.movie["#text"]||feature.caption.movie||"";movieClasses[movieId].loadCancel();},onFeatureClick=function(feature){VIEW360.loading.visible(true);view360captionDom.style.opacity="1";var
title=feature.text["#text"]||feature.text||"",caption=feature.caption.text["#text"]||feature.caption.text||"",movieId=feature.caption.movie["#text"]||feature.caption.movie||"";nowCaptionMovie=movieClasses[movieId];VIEW360.addTap(captionDom);captionDom.style.display="block";captionDom.addEventListener("tap",onFeatureClose,false);titleDom.innerHTML=title;textDom.innerHTML=caption;nowCaptionMovie.setCanvas(canvasDom,canvas2Dom);nowCaptionMovie.load(function(){VIEW360.loading.visible(false);if(nowCaptionMovie){nowCaptionMovie.gotoAndPlay(0);}
onresize();});nowCaptionMovie.drawImg(movieFirstUrls[movieId]);window.requestAnimationFrame(onresize);window.requestAnimationFrame(movie360.pauseCircleAnime);},onresize=function(){if(nowCaptionMovie===undefined){return;}
var
parentRect=captionDom.getBoundingClientRect(),textHeight=textParentDom.getBoundingClientRect().height,newImgHeight=Math.min(parentRect.height*0.8-20-textHeight,(parentRect.width*0.8-20)*nowCaptionMovie.height/nowCaptionMovie.width),newImgWidth=newImgHeight*nowCaptionMovie.width/nowCaptionMovie.height,newDomHeight=newImgHeight+textHeight+20,areaWidth=imageParentDom.getBoundingClientRect().width+20;imageParentDom.style.height=newImgHeight+"px";view360captionDom.style.height=newDomHeight+"px";view360captionDom.style.top=(parentRect.height-newDomHeight)/2+"px";canvasDom.style.height=canvas2Dom.style.height=newImgHeight+"px";canvasDom.style.width=canvas2Dom.style.width=newImgWidth+"px";canvasDom.style.left=canvas2Dom.style.left=(areaWidth-newImgWidth)/2+"px";},onFeatureClose=function(event){captionDom.removeEventListener("tap",onFeatureClose);view360captionDom.style.opacity="0";captionDom.style.display="none";VIEW360.loading.visible(false);if(nowCaptionMovie){nowCaptionMovie.clear();nowCaptionMovie=undefined;}
window.requestAnimationFrame(movie360.playCircleAnime);};initialize(spec);that.stageUpdate=stageUpdate;return that;};VIEW360.createView360=createView360;};;"use strict";EPSON.ContactForm=(function(){var form=EPSON.createClass({init:function(form){this.$form=jQuery(form);this.els=this.$form.find('[required]').get();this.errors=[];if(!this.$form.length)return false;this.addHandlers();},addHandlers:function(){var self=this;self.$form.on('submit',function(e){if(!self.formValidation())e.preventDefault();}).on('change keyup','[required]',function(){var invalid=self.fieldValidation(this.value,this.type),errorIndex=self.errors.indexOf(this.name);if(errorIndex>-1&&!invalid){this.className='';self.errors.splice(errorIndex,1);}
else if(errorIndex<0&&invalid){this.className='error';self.errors.push(this.name);}});},formValidation:function(){var self=this;self.errors=[];for(var i=0;i<self.els.length;i++){var field=self.els[i];if(self.fieldValidation(field.value,field.type)){field.className='error';self.errors.push(field.name);}}
self.$form.find('button:focus').blur();return!self.errors.length;},fieldValidation:function(value,type){var self=this,value=value.trim();switch(type){case'email':return!self.validateEmail(value);break;case'number':return!value.length||value==0;break;default:return!value.length;break;}},validateEmail:function(email){var re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email);}});return form;}());;
/*!
 * jQuery Validation Plugin v1.19.1
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2019 Jrn Zaefferer
 * Released under the MIT license
 */
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else if(typeof module==="object"&&module.exports){module.exports=factory(require("jquery"));}else{factory(jQuery);}}(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.");}
return;}
var validator=$.data(this[0],"validator");if(validator){return validator;}
this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.on("click.validate",":submit",function(event){validator.submitButton=event.currentTarget;if($(this).hasClass("cancel")){validator.cancelSubmit=true;}
if($(this).attr("formnovalidate")!==undefined){validator.cancelSubmit=true;}});this.on("submit.validate",function(event){if(validator.settings.debug){event.preventDefault();}
function handle(){var hidden,result;if(validator.submitButton&&(validator.settings.submitHandler||validator.formSubmitted)){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);}
if(validator.settings.submitHandler&&!validator.settings.debug){result=validator.settings.submitHandler.call(validator,validator.currentForm,event);if(hidden){hidden.remove();}
if(result!==undefined){return result;}
return false;}
return true;}
if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}
if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}
return handle();}else{validator.focusInvalid();return false;}});}
return validator;},valid:function(){var valid,validator,errorList;if($(this[0]).is("form")){valid=this.validate().form();}else{errorList=[];valid=true;validator=$(this[0].form).validate();this.each(function(){valid=validator.element(this)&&valid;if(!valid){errorList=errorList.concat(validator.errorList);}});validator.errorList=errorList;}
return valid;},rules:function(command,argument){var element=this[0],isContentEditable=typeof this.attr("contenteditable")!=="undefined"&&this.attr("contenteditable")!=="false",settings,staticRules,existingRules,data,param,filtered;if(element==null){return;}
if(!element.form&&isContentEditable){element.form=this.closest("form")[0];element.name=this.attr("name");}
if(element.form==null){return;}
if(command){settings=$.data(element.form,"validator").settings;staticRules=settings.rules;existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));delete existingRules.messages;staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);}
break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}
filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}
data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){param=data.required;delete data.required;data=$.extend({required:param},data);}
if(data.remote){param=data.remote;delete data.remote;data=$.extend(data,{remote:param});}
return data;}});$.extend($.expr.pseudos||$.expr[":"],{blank:function(a){return!$.trim(""+$(a).val());},filled:function(a){var val=$(a).val();return val!==null&&!!$.trim(""+val);},unchecked:function(a){return!$(a).prop("checked");}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};}
if(params===undefined){return source;}
if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1);}
if(params.constructor!==Array){params=[params];}
$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n;});});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);}
this.hideThese(this.errorsFor(element));}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element,event){var excludedKeys=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(event.which===9&&this.elementValue(element)===""||$.inArray(event.keyCode,excludedKeys)!==-1){return;}else if(element.name in this.submitted||element.name in this.invalid){this.element(element);}},onclick:function(element){if(element.name in this.submitted){this.element(element);}else if(element.parentNode.name in this.submitted){this.element(element.parentNode);}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass);}else{$(element).addClass(errorClass).removeClass(validClass);}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass);}else{$(element).removeClass(errorClass).addClass(validClass);}}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}."),step:$.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var currentForm=this.currentForm,groups=(this.groups={}),rules;$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/);}
$.each(value,function(index,name){groups[name]=key;});});rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var isContentEditable=typeof $(this).attr("contenteditable")!=="undefined"&&$(this).attr("contenteditable")!=="false";if(!this.form&&isContentEditable){this.form=$(this).closest("form")[0];this.name=$(this).attr("name");}
if(currentForm!==this.form){return;}
var validator=$.data(this.form,"validator"),eventType="on"+event.type.replace(/^validate/,""),settings=validator.settings;if(settings[eventType]&&!$(this).is(settings.ignore)){settings[eventType].call(validator,this,event);}}
$(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], "+"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], "+"[type='radio'], [type='checkbox'], [contenteditable], [type='button']",delegate).on("click.validate","select, option, [type='radio'], [type='checkbox']",delegate);if(this.settings.invalidHandler){$(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler);}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this]);}
this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}
return this.valid();},element:function(element){var cleanElement=this.clean(element),checkElement=this.validationTargetFor(cleanElement),v=this,result=true,rs,group;if(checkElement===undefined){delete this.invalid[cleanElement.name];}else{this.prepareElement(checkElement);this.currentElements=$(checkElement);group=this.groups[checkElement.name];if(group){$.each(this.groups,function(name,testgroup){if(testgroup===group&&name!==checkElement.name){cleanElement=v.validationTargetFor(v.clean(v.findByName(name)));if(cleanElement&&cleanElement.name in v.invalid){v.currentElements.push(cleanElement);result=v.check(cleanElement)&&result;}}});}
rs=this.check(checkElement)!==false;result=result&&rs;if(rs){this.invalid[checkElement.name]=false;}else{this.invalid[checkElement.name]=true;}
if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}
this.showErrors();$(element).attr("aria-invalid",!rs);}
return result;},showErrors:function(errors){if(errors){var validator=this;$.extend(this.errorMap,errors);this.errorList=$.map(this.errorMap,function(message,name){return{message:message,element:validator.findByName(name)[0]};});this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}
if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList);}else{this.defaultShowErrors();}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm();}
this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var elements=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(elements);},resetElements:function(elements){var i;if(this.settings.unhighlight){for(i=0;elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,"");this.findByName(elements[i].name).removeClass(this.settings.validClass);}}else{elements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass);}},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0,i;for(i in obj){if(obj[i]!==undefined&&obj[i]!==null&&obj[i]!==false){count++;}}
return count;},hideErrors:function(){this.hideThese(this.toHide);},hideThese:function(errors){errors.not(this.containers).text("");this.addWrapper(errors).hide();},valid:function(){return this.size()===0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name;}).length===1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var name=this.name||$(this).attr("name");var isContentEditable=typeof $(this).attr("contenteditable")!=="undefined"&&$(this).attr("contenteditable")!=="false";if(!name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this);}
if(isContentEditable){this.form=$(this).closest("form")[0];this.name=name;}
if(this.form!==validator.currentForm){return false;}
if(name in rulesCache||!validator.objectLength($(this).rules())){return false;}
rulesCache[name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){var errorClass=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+errorClass,this.errorContext);},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);},reset:function(){this.resetInternals();this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},elementValue:function(element){var $element=$(element),type=element.type,isContentEditable=typeof $element.attr("contenteditable")!=="undefined"&&$element.attr("contenteditable")!=="false",val,idx;if(type==="radio"||type==="checkbox"){return this.findByName(element.name).filter(":checked").val();}else if(type==="number"&&typeof element.validity!=="undefined"){return element.validity.badInput?"NaN":$element.val();}
if(isContentEditable){val=$element.text();}else{val=$element.val();}
if(type==="file"){if(val.substr(0,12)==="C:\\fakepath\\"){return val.substr(12);}
idx=val.lastIndexOf("/");if(idx>=0){return val.substr(idx+1);}
idx=val.lastIndexOf("\\");if(idx>=0){return val.substr(idx+1);}
return val;}
if(typeof val==="string"){return val.replace(/\r/g,"");}
return val;},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules(),rulesCount=$.map(rules,function(n,i){return i;}).length,dependencyMismatch=false,val=this.elementValue(element),result,method,rule,normalizer;if(typeof rules.normalizer==="function"){normalizer=rules.normalizer;}else if(typeof this.settings.normalizer==="function"){normalizer=this.settings.normalizer;}
if(normalizer){val=normalizer.call(element,val);delete rules.normalizer;}
for(method in rules){rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"&&rulesCount===1){dependencyMismatch=true;continue;}
dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}
if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e);}
if(e instanceof TypeError){e.message+=".  Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.";}
throw e;}}
if(dependencyMismatch){return;}
if(this.objectLength(rules)){this.successList.push(element);}
return true;},customDataMessage:function(element,method){return $(element).data("msg"+method.charAt(0).toUpperCase()+
method.substring(1).toLowerCase())||$(element).data("msg");},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i];}}
return undefined;},defaultMessage:function(element,rule){if(typeof rule==="string"){rule={method:rule};}
var message=this.findDefined(this.customMessage(element.name,rule.method),this.customDataMessage(element,rule.method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[rule.method],"<strong>Warning: No message defined for "+element.name+"</strong>"),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element);}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters);}
return message;},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule);this.errorList.push({message:message,element:element,method:rule.method});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));}
return toToggle;},defaultShowErrors:function(){var i,elements,error;for(i=0;this.errorList[i];i++){error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);}
this.showLabel(error.element,error.message);}
if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}
if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}
if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}
this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var place,group,errorID,v,error=this.errorsFor(element),elementID=this.idOrName(element),describedBy=$(element).attr("aria-describedby");if(error.length){error.removeClass(this.settings.validClass).addClass(this.settings.errorClass);error.html(message);}else{error=$("<"+this.settings.errorElement+">").attr("id",elementID+"-error").addClass(this.settings.errorClass).html(message||"");place=error;if(this.settings.wrapper){place=error.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}
if(this.labelContainer.length){this.labelContainer.append(place);}else if(this.settings.errorPlacement){this.settings.errorPlacement.call(this,place,$(element));}else{place.insertAfter(element);}
if(error.is("label")){error.attr("for",elementID);}else if(error.parents("label[for='"+this.escapeCssMeta(elementID)+"']").length===0){errorID=error.attr("id");if(!describedBy){describedBy=errorID;}else if(!describedBy.match(new RegExp("\\b"+this.escapeCssMeta(errorID)+"\\b"))){describedBy+=" "+errorID;}
$(element).attr("aria-describedby",describedBy);group=this.groups[element.name];if(group){v=this;$.each(v.groups,function(name,testgroup){if(testgroup===group){$("[name='"+v.escapeCssMeta(name)+"']",v.currentForm).attr("aria-describedby",error.attr("id"));}});}}}
if(!message&&this.settings.success){error.text("");if(typeof this.settings.success==="string"){error.addClass(this.settings.success);}else{this.settings.success(error,element);}}
this.toShow=this.toShow.add(error);},errorsFor:function(element){var name=this.escapeCssMeta(this.idOrName(element)),describer=$(element).attr("aria-describedby"),selector="label[for='"+name+"'], label[for='"+name+"'] *";if(describer){selector=selector+", #"+this.escapeCssMeta(describer).replace(/\s+/g,", #");}
return this.errors().filter(selector);},escapeCssMeta:function(string){return string.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1");},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name);}
return $(element).not(this.settings.ignore)[0];},checkable:function(element){return(/radio|checkbox/i).test(element.type);},findByName:function(name){return $(this.currentForm).find("[name='"+this.escapeCssMeta(name)+"']");},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length;}}
return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;$(element).addClass(this.settings.pendingClass);this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0;}
delete this.pending[element.name];$(element).removeClass(this.settings.pendingClass);if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();if(this.submitButton){$("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove();}
this.formSubmitted=false;}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}},previousValue:function(element,method){method=typeof method==="string"&&method||"remote";return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,{method:method})});},destroy:function(){this.resetForm();$(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur");}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules;}else{$.extend(this.classRuleSettings,className);}},classRules:function(element){var rules={},classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});}
return rules;},normalizeAttributeRule:function(rules,type,method,value){if(/min|max|step/.test(method)&&(type===null||/number|range|text/.test(type))){value=Number(value);if(isNaN(value)){value=undefined;}}
if(value||value===0){rules[method]=value;}else if(type===method&&type!=="range"){rules[method]=true;}},attributeRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){if(method==="required"){value=element.getAttribute(method);if(value===""){value=true;}
value=!!value;}else{value=$element.attr(method);}
this.normalizeAttributeRule(rules,type,method,value);}
if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}
return rules;},dataRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){value=$element.data("rule"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase());if(value===""){value=true;}
this.normalizeAttributeRule(rules,type,method,value);}
return rules;},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}
return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}
if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}
if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{$.data(element.form,"validator").resetElements($(element));delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)&&rule!=="normalizer"?parameter(element):parameter;});$.each(["minlength","maxlength"],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(["rangelength","range"],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}else if(typeof rules[this]==="string"){parts=rules[this].replace(/[\[\]]/g,"").split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])];}}});if($.validator.autoCreateRanges){if(rules.min!=null&&rules.max!=null){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}
if(rules.minlength!=null&&rules.maxlength!=null){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}
return rules;},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}
return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch";}
if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0;}
if(this.checkable(element)){return this.getLength(value,element)>0;}
return value!==undefined&&value!==null&&value.length>0;},email:function(value,element){return this.optional(element)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);},url:function(value,element){return this.optional(element)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value);},date:(function(){var called=false;return function(value,element){if(!called){called=true;if(this.settings.debug&&window.console){console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\n"+"Please don't use it, since it relies on the Date constructor, which\n"+"behaves very differently across browsers and locales. Use `dateISO`\n"+"instead or one of the locale specific methods in `localizations/`\n"+"and `additional-methods.js`.");}}
return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString());};}()),dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);},number:function(value,element){return this.optional(element)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param;},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length<=param;},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},step:function(value,element,param){var type=$(element).attr("type"),errorMessage="Step attribute on input type "+type+" is not supported.",supportedTypes=["text","number","range"],re=new RegExp("\\b"+type+"\\b"),notSupported=type&&!re.test(supportedTypes.join()),decimalPlaces=function(num){var match=(""+num).match(/(?:\.(\d+))?$/);if(!match){return 0;}
return match[1]?match[1].length:0;},toInt=function(num){return Math.round(num*Math.pow(10,decimals));},valid=true,decimals;if(notSupported){throw new Error(errorMessage);}
decimals=decimalPlaces(param);if(decimalPlaces(value)>decimals||toInt(value)%toInt(param)!==0){valid=false;}
return this.optional(element)||valid;},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-equalTo-blur").length){target.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){$(element).valid();});}
return value===target.val();},remote:function(value,element,param,method){if(this.optional(element)){return"dependency-mismatch";}
method=typeof method==="string"&&method||"remote";var previous=this.previousValue(element,method),validator,data,optionDataString;if(!this.settings.messages[element.name]){this.settings.messages[element.name]={};}
previous.originalMessage=previous.originalMessage||this.settings.messages[element.name][method];this.settings.messages[element.name][method]=previous.message;param=typeof param==="string"&&{url:param}||param;optionDataString=$.param($.extend({data:value},param.data));if(previous.old===optionDataString){return previous.valid;}
previous.old=optionDataString;validator=this;this.startRequest(element);data={};data[element.name]=value;$.ajax($.extend(true,{mode:"abort",port:"validate"+element.name,dataType:"json",data:data,context:validator.currentForm,success:function(response){var valid=response===true||response==="true",errors,message,submitted;validator.settings.messages[element.name][method]=previous.originalMessage;if(valid){submitted=validator.formSubmitted;validator.resetInternals();validator.toHide=validator.errorsFor(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.invalid[element.name]=false;validator.showErrors();}else{errors={};message=response||validator.defaultMessage(element,{method:method,parameters:value});errors[element.name]=previous.message=message;validator.invalid[element.name]=true;validator.showErrors(errors);}
previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";}}});var pendingRequests={},ajax;if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}
pendingRequests[port]=xhr;}});}else{ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}
pendingRequests[port]=ajax.apply(this,arguments);return pendingRequests[port];}
return ajax.apply(this,arguments);};}
return $;}));(function(validator){"use strict";var defaults=validator.defaults;var highlight=defaults.highlight;var unhighlight=defaults.unhighlight;validator.setDefaults({highlight:function(element,errorClass,validClass){highlight.call(this,element,errorClass,validClass);$(element).trigger("form-invalid");},unhighlight:function(element,errorClass,validClass){unhighlight.call(this,element,errorClass,validClass);$(element).trigger("form-valid");}});}($.validator));;(function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)})(function(i){"use strict";var e=window.Slick||{};e=function(){function e(e,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(e),appendDots:i(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(e).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,"undefined"!=typeof document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=t++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}var t=0;return e}(),e.prototype.activateADA=function(){var i=this;i.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):o===!0?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(e=-e),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),s.options.vertical===!1?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),s.options.vertical===!1?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this,o=t.getNavTarget();null!==o&&"object"==typeof o&&o.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};e.options.fade===!1?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(i.options.infinite===!1&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1===0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(o.options.dots===!0&&o.slideCount>o.options.slidesToShow){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),e.options.centerMode!==!0&&e.options.swipeToSlide!==!0||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>0){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(r.originalSettings.mobileFirst===!1?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,e===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||l===!1||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!==0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t,o=this;if(e=o.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var s in e){if(i<e[s]){i=t;break}t=e[s]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),e.options.accessibility===!0&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),e.options.accessibility===!0&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),e.options.accessibility===!0&&e.$list.off("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>0&&(i=e.$slides.children().children(),i.removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){var e=this;e.shouldClick===!1&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;t.cssTransitions===!1?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;e.cssTransitions===!1?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick","*",function(t){var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&o.is(":focus")&&(e.focussed=!0,e.autoPlay())},0)}).on("blur.slick","*",function(t){i(this);e.options.pauseOnFocus&&(e.focussed=!1,e.autoPlay())})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var i=this;return i.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(i.options.infinite===!0)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(i.options.centerMode===!0)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),n.options.infinite===!0?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,n.options.vertical===!0&&n.options.centerMode===!0&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!==0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),n.options.centerMode===!0&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:n.options.centerMode===!0&&n.options.infinite===!0?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:n.options.centerMode===!0&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=n.options.vertical===!1?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,n.options.variableWidth===!0&&(o=n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=n.options.rtl===!0?o[0]?(n.$slideTrack.width()-o[0].offsetLeft-o.width())*-1:0:o[0]?o[0].offsetLeft*-1:0,n.options.centerMode===!0&&(o=n.slideCount<=n.options.slidesToShow||n.options.infinite===!1?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=n.options.rtl===!0?o[0]?(n.$slideTrack.width()-o[0].offsetLeft-o.width())*-1:0:o[0]?o[0].offsetLeft*-1:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){var e=this;return e.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(e.options.infinite===!1?i=e.slideCount:(t=e.options.slidesToScroll*-1,o=e.options.slidesToScroll*-1,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o,s,n=this;return s=n.options.centerMode===!0?Math.floor(n.$list.width()/2):0,o=n.swipeLeft*-1+s,n.options.swipeToSlide===!0?(n.$slideTrack.find(".slick-slide").each(function(e,s){var r,l,d;if(r=i(s).outerWidth(),l=s.offsetLeft,n.options.centerMode!==!0&&(l+=r/2),d=l+r,o<d)return t=s,!1}),e=Math.abs(i(t).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){var t=this;t.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),t.options.accessibility===!0&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);if(i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),s!==-1){var n="slick-slide-control"+e.instanceUid+s;i("#"+n).length&&i(this).attr({"aria-describedby":n})}}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.options.focusOnChange?e.$slides.eq(s).attr({tabindex:"0"}):e.$slides.eq(s).removeAttr("tabindex");e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),i.options.accessibility===!0&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.accessibility===!0&&e.$dots.on("keydown.slick",e.keyHandler)),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.slideCount>e.options.slidesToShow&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:e.options.rtl===!0?"next":"previous"}}):39===i.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:e.options.rtl===!0?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||r.$slider.attr("data-sizes"),n=document.createElement("img");n.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,t])})},n.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,t])},n.src=t})}var t,o,s,n,r=this;if(r.options.centerMode===!0?r.options.infinite===!0?(s=r.currentSlide+(r.options.slidesToShow/2+1),n=s+r.options.slidesToShow+2):(s=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),n=2+(r.options.slidesToShow/2+1)+r.currentSlide):(s=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,n=Math.ceil(s+r.options.slidesToShow),r.options.fade===!0&&(s>0&&s--,n<=r.slideCount&&n++)),t=r.$slider.find(".slick-slide").slice(s,n),"anticipated"===r.options.lazyLoad)for(var l=s-1,d=n,a=r.$slider.find(".slick-slide"),c=0;c<r.options.slidesToScroll;c++)l<0&&(l=r.slideCount-1),t=t.add(a.eq(l)),t=t.add(a.eq(d)),l--,d++;e(t),r.slideCount<=r.options.slidesToShow?(o=r.$slider.find(".slick-slide"),e(o)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(o=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),e(o)):0===r.currentSlide&&(o=r.$slider.find(".slick-cloned").slice(r.options.slidesToShow*-1),e(o))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var i=this;i.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;if(!t.unslicked&&(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&(t.initADA(),t.options.focusOnChange))){var o=i(t.$slides.get(t.currentSlide));o.attr("tabindex",0).focus()}},e.prototype.prev=e.prototype.slickPrev=function(){var i=this;i.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),r=document.createElement("img"),r.onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),l.options.adaptiveHeight===!0&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;return"boolean"==typeof i?(e=i,i=e===!0?0:o.slideCount-1):i=e===!0?--i:i,!(o.slideCount<1||i<0||i>o.slideCount-1)&&(o.unload(),t===!0?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},e.prototype.setCSS=function(i){var e,t,o=this,s={};o.options.rtl===!0&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,o.transformsEnabled===!1?o.$slideTrack.css(s):(s={},o.cssTransitions===!1?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;i.options.vertical===!1?i.options.centerMode===!0&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),i.options.centerMode===!0&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),i.options.vertical===!1&&i.options.variableWidth===!1?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):i.options.variableWidth===!0?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();i.options.variableWidth===!1&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,t.options.rtl===!0?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":"undefined"!=typeof arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),i.options.fade===!1?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=i.options.vertical===!0?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||i.options.useCSS===!0&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&i.animType!==!1&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&i.animType!==!1},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),n.options.centerMode===!0){var r=n.options.slidesToShow%2===0?1:0;e=Math.floor(n.options.slidesToShow/2),n.options.infinite===!0&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=n.options.infinite===!0?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));return s||(s=0),t.slideCount<=t.options.slidesToShow?void t.slideHandler(s,!1,!0):void t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(a.animating===!0&&a.options.waitForAnimate===!0||a.options.fade===!0&&a.currentSlide===i))return e===!1&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,a.options.infinite===!1&&a.options.centerMode===!1&&(i<0||i>a.getDotCount()*a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o))):a.options.infinite===!1&&a.options.centerMode===!0&&(i<0||i>a.slideCount-a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o))):(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!==0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!==0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=a.getNavTarget(),l=l.slick("getSlick"),l.slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide)),a.updateDots(),a.updateArrows(),a.options.fade===!0?(t!==!0?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight()):void(t!==!0&&a.slideCount>a.options.slidesToShow?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)))},e.prototype.startLoad=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),o=Math.round(180*t/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0?s.options.rtl===!1?"left":"right":o<=360&&o>=315?s.options.rtl===!1?"left":"right":o>=135&&o<=225?s.options.rtl===!1?"right":"left":s.options.verticalSwiping===!0?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(o.touchObject.edgeHit===!0&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&i.type.indexOf("mouse")!==-1))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(l.options.verticalSwiping===!0&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(l.options.rtl===!1?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),l.options.verticalSwiping===!0&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,l.options.infinite===!1&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),l.options.vertical===!1?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,l.options.verticalSwiping===!0&&(l.swipeLeft=e+o*s),l.options.fade!==!0&&l.options.touchMove!==!1&&(l.animating===!0?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;return t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,void(t.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i,e=this;i=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||"undefined"==typeof s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),"undefined"!=typeof t)return t;return o},window.Slick=e});jQuery.fn.realSlick=jQuery.fn.slick;jQuery.fn.slick=function(){var e=Array.prototype.slice.call(arguments),t=e[0];return $.isPlainObject(t)&&Object.prototype.hasOwnProperty.call(t,"slide")&&(delete(t=$.extend({},t)).slide,e[0]=t,console.warn("SLICK was upgraded on Epson and the 'slide' setting is now being mis-used. We automatically remove it to correct the rendering. To include it, use $().realSlick()")),this.realSlick.apply(this,e)};;(function defineMustache(global,factory){if(typeof exports==="object"&&exports&&typeof exports.nodeName!=="string"){factory(exports)}else if(typeof define==="function"&&define.amd){define(["exports"],factory)}else{global.Mustache={};factory(global.Mustache)}})(this,function mustacheFactory(mustache){var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)==="[object Array]"};function isFunction(object){return typeof object==="function"}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return obj!=null&&typeof obj==="object"&&propName in obj}function primitiveHasOwnProperty(primitive,propName){return primitive!=null&&typeof primitive!=="object"&&primitive.hasOwnProperty&&primitive.hasOwnProperty(propName)}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,function fromEntityMap(s){return entityMap[s]})}var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)delete tokens[spaces.pop()]}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile==="string")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*");closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push(["text",chr,start,start+1]);start+=1;if(chr==="\n")stripSpace()}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type==="{"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){openSection=sections.pop();if(!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){compileTags(value)}}openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===""};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,intermediateValue,names,index,lookupHit=false;while(context){if(name.indexOf(".")>0){intermediateValue=context.view;names=name.split(".");index=0;while(intermediateValue!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(intermediateValue,names[index])||primitiveHasOwnProperty(intermediateValue,names[index]);intermediateValue=intermediateValue[names[index++]]}}else{intermediateValue=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit){value=intermediateValue;break}context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.cache={}}Writer.prototype.clearCache=function clearCache(){this.cache={}};Writer.prototype.parse=function parse(template,tags){var cache=this.cache;var cacheKey=template+":"+(tags||mustache.tags).join(":");var tokens=cache[cacheKey];if(tokens==null)tokens=cache[cacheKey]=parseTemplate(template,tags);return tokens};Writer.prototype.render=function render(template,view,partials,tags){var tokens=this.parse(template,tags);var context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template,tags)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate,tags){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==="#")value=this.renderSection(token,context,partials,originalTemplate);else if(symbol==="^")value=this.renderInverted(token,context,partials,originalTemplate);else if(symbol===">")value=this.renderPartial(token,context,partials,tags);else if(symbol==="&")value=this.unescapedValue(token,context);else if(symbol==="name")value=this.escapedValue(token,context);else if(symbol==="text")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate)}}else if(typeof value==="object"||typeof value==="string"||typeof value==="number"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate)}else if(isFunction(value)){if(typeof originalTemplate!=="string")throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate)};Writer.prototype.renderPartial=function renderPartial(token,context,partials,tags){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null)return this.renderTokens(this.parse(value,tags),context,partials,value)};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return mustache.escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};mustache.name="mustache.js";mustache.version="3.0.1";mustache.tags=["{{","}}"];var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials,tags){if(typeof template!=="string"){throw new TypeError('Invalid template! Template should be a "string" '+'but "'+typeStr(template)+'" was given as the first '+"argument for mustache#render(template, view, partials)")}return defaultWriter.render(template,view,partials,tags)};mustache.to_html=function to_html(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result)}else{return result}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;return mustache});;
/*!
Waypoints - 4.0.1
Copyright  2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,n.windowContext||(n.windowContext=!0,n.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];if(null!==a.triggerPoint){var l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=Math.floor(y+l-f),h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();!function(){"use strict";function t(s){this.options=e.extend({},i.defaults,t.defaults,s),this.element=this.options.element,this.$element=e(this.element),this.createWrapper(),this.createWaypoint()}var e=window.jQuery,i=window.Waypoint;t.prototype.createWaypoint=function(){var t=this.options.handler;this.waypoint=new i(e.extend({},this.options,{element:this.wrapper,handler:e.proxy(function(e){var i=this.options.direction.indexOf(e)>-1,s=i?this.$element.outerHeight(!0):"";this.$wrapper.height(s),this.$element.toggleClass(this.options.stuckClass,i),t&&t.call(this,e)},this)}))},t.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},t.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},t.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},i.Sticky=t}();;
/*!
 * Masonry PACKAGED v3.3.1
 * Cascading grid layout library
  * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c("object"==typeof exports?require("jquery"):a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:e.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){}function d(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function e(c){function e(){if(!m){m=!0;var d=a.getComputedStyle;if(j=function(){var a=d?function(a){return d(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||f("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}}(),k=c("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[k]="border-box";var g=document.body||document.documentElement;g.appendChild(e);var h=j(e);l=200===b(h.width),g.removeChild(e)}}}function h(a){if(e(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var c=j(a);if("none"===c.display)return d();var f={};f.width=a.offsetWidth,f.height=a.offsetHeight;for(var h=f.isBorderBox=!(!k||!c[k]||"border-box"!==c[k]),m=0,n=g.length;n>m;m++){var o=g[m],p=c[o];p=i(a,p);var q=parseFloat(p);f[o]=isNaN(q)?0:q}var r=f.paddingLeft+f.paddingRight,s=f.paddingTop+f.paddingBottom,t=f.marginLeft+f.marginRight,u=f.marginTop+f.marginBottom,v=f.borderLeftWidth+f.borderRightWidth,w=f.borderTopWidth+f.borderBottomWidth,x=h&&l,y=b(c.width);y!==!1&&(f.width=y+(x?0:r+v));var z=b(c.height);return z!==!1&&(f.height=z+(x?0:s+w)),f.innerWidth=f.width-(r+v),f.innerHeight=f.height-(s+w),f.outerWidth=f.width+t,f.outerHeight=f.height+u,f}}function i(b,c){if(a.getComputedStyle||-1===c.indexOf("%"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var j,k,l,m=!1;return h}var f="undefined"==typeof console?c:function(a){console.error(a)},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):a.getSize=e(a.getStyleProperty)}(window),function(a){function b(a){"function"==typeof a&&(b.isReady?a():g.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==f.readyState;b.isReady||c||d()}function d(){b.isReady=!0;for(var a=0,c=g.length;c>a;a++){var d=g[a];d()}}function e(e){return"complete"===f.readyState?d():(e.bind(f,"DOMContentLoaded",c),e.bind(f,"readystatechange",c),e.bind(a,"load",c)),b}var f=a.document,g=[];b.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):a.docReady=e(a.eventie)}(window),function(a){function b(a,b){return a[g](b)}function c(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function d(a,b){c(a);for(var d=a.parentNode.querySelectorAll(b),e=0,f=d.length;f>e;e++)if(d[e]===a)return!0;return!1}function e(a,d){return c(a),b(a,d)}var f,g=function(){if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0,d=b.length;d>c;c++){var e=b[c],f=e+"MatchesSelector";if(a[f])return f}}();if(g){var h=document.createElement("div"),i=b(h,"div");f=i?b:e}else f=d;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return f}):"object"==typeof exports?module.exports=f:window.matchesSelector=f}(Element.prototype),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("doc-ready"),require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.docReady,a.matchesSelector)}(window,function(a,b,c){var d={};d.extend=function(a,b){for(var c in b)a[c]=b[c];return a},d.modulo=function(a,b){return(a%b+b)%b};var e=Object.prototype.toString;d.isArray=function(a){return"[object Array]"==e.call(a)},d.makeArray=function(a){var b=[];if(d.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b},d.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},d.removeFrom=function(a,b){var c=d.indexOf(a,b);-1!=c&&a.splice(c,1)},d.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1==a.nodeType&&"string"==typeof a.nodeName},d.setText=function(){function a(a,c){b=b||(void 0!==document.documentElement.textContent?"textContent":"innerText"),a[b]=c}var b;return a}(),d.getParent=function(a,b){for(;a!=document.body;)if(a=a.parentNode,c(a,b))return a},d.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},d.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},d.filterFindElements=function(a,b){a=d.makeArray(a);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(d.isElement(h))if(b){c(h,b)&&e.push(h);for(var i=h.querySelectorAll(b),j=0,k=i.length;k>j;j++)e.push(i[j])}else e.push(h)}return e},d.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},d.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var f=a.console;return d.htmlInit=function(c,e){b(function(){for(var b=d.toDashed(e),g=document.querySelectorAll(".js-"+b),h="data-"+b+"-options",i=0,j=g.length;j>i;i++){var k,l=g[i],m=l.getAttribute(h);try{k=m&&JSON.parse(m)}catch(n){f&&f.error("Error parsing "+h+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+n);continue}var o=new c(l,k),p=a.jQuery;p&&p.data(l,e,o)}})},d}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EventEmitter,a.getSize,a.getStyleProperty,a.fizzyUIUtils))}(window,function(a,b,c,d,e){function f(a){for(var b in a)return!1;return b=null,!0}function g(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}function h(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}var i=a.getComputedStyle,j=i?function(a){return i(a,null)}:function(a){return a.currentStyle},k=d("transition"),l=d("transform"),m=k&&l,n=!!d("perspective"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[k],p=["transform","transition","transitionDuration","transitionProperty"],q=function(){for(var a={},b=0,c=p.length;c>b;b++){var e=p[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();e.extend(g.prototype,b.prototype),g.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.getSize=function(){this.size=c(this.element)},g.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=q[c]||c;b[d]=a[c]}},g.prototype.getPosition=function(){var a=j(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=a[c?"left":"right"],f=a[d?"top":"bottom"],g=parseInt(e,10),h=parseInt(f,10),i=this.layout.size;g=-1!=e.indexOf("%")?g/100*i.width:g,h=-1!=f.indexOf("%")?h/100*i.height:h,g=isNaN(g)?0:g,h=isNaN(h)?0:h,g-=c?i.paddingLeft:i.paddingRight,h-=d?i.paddingTop:i.paddingBottom,this.position.x=g,this.position.y=h},g.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={},d=b.isOriginLeft?"paddingLeft":"paddingRight",e=b.isOriginLeft?"left":"right",f=b.isOriginLeft?"right":"left",g=this.position.x+a[d];c[e]=this.getXValue(g),c[f]="";var h=b.isOriginTop?"paddingTop":"paddingBottom",i=b.isOriginTop?"top":"bottom",j=b.isOriginTop?"bottom":"top",k=this.position.y+a[h];c[i]=this.getYValue(k),c[j]="",this.css(c),this.emitEvent("layout",[this])},g.prototype.getXValue=function(a){var b=this.layout.options;return b.percentPosition&&!b.isHorizontal?a/this.layout.size.width*100+"%":a+"px"},g.prototype.getYValue=function(a){var b=this.layout.options;return b.percentPosition&&b.isHorizontal?a/this.layout.size.height*100+"%":a+"px"},g.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={};j.transform=this.getTranslate(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},g.prototype.getTranslate=function(a,b){var c=this.layout.options;return a=c.isOriginLeft?a:-a,b=c.isOriginTop?b:-b,a=this.getXValue(a),b=this.getYValue(b),n?"translate3d("+a+", "+b+", 0)":"translate("+a+", "+b+")"},g.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},g.prototype.moveTo=m?g.prototype._transitionTo:g.prototype.goTo,g.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},g.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},g.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var r="opacity,"+h(q.transform||"transform");g.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:r,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(o,this,!1))},g.prototype.transition=g.prototype[k?"_transition":"_nonTransition"],g.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},g.prototype.onotransitionend=function(a){this.ontransitionend(a)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};g.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=s[a.propertyName]||a.propertyName;if(delete b.ingProperties[c],f(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent("transitionEnd",[this])}},g.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},g.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var t={transitionProperty:"",transitionDuration:""};return g.prototype.removeTransitionStyles=function(){this.css(t)},g.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},g.prototype.remove=function(){if(!k||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.once("transitionEnd",function(){a.removeElem()}),this.hide()},g.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},g.prototype.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},g.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},g.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},g}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f,g){return b(a,c,d,e,f,g)}):"object"==typeof exports?module.exports=b(a,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.eventie,a.EventEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e,f){function g(a,b){var c=e.getQueryElement(a);if(!c)return void(h&&h.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c,i&&(this.$element=i(this.element)),this.options=e.extend({},this.constructor.defaults),this.option(b);var d=++k;this.element.outlayerGUID=d,l[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var h=a.console,i=a.jQuery,j=function(){},k=0,l={};return g.namespace="outlayer",g.Item=f,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e.extend(g.prototype,c.prototype),g.prototype.option=function(a){e.extend(this.options,a)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},g.prototype._filterFindItemElements=function(a){return e.filterFindElements(a,this.options.itemSelector)},g.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=d(this.element)},g.prototype._getMeasurement=function(a,b){var c,f=this.options[a];f?("string"==typeof f?c=this.element.querySelector(f):e.isElement(f)&&(c=f),this[a]=c?d(c)[b]:f):this[a]=0},g.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},g.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},g.prototype._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f,g.isInstant=b||f.isLayoutInstant,c.push(g)}this._processLayoutQueue(c)}},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},g.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},g.prototype._getContainerSize=j,g.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},g.prototype._emitCompleteOnItems=function(a,b){function c(){e.dispatchEvent(a+"Complete",null,[b])}function d(){g++,g===f&&c()}var e=this,f=b.length;if(!b||!f)return void c();for(var g=0,h=0,i=b.length;i>h;h++){var j=b[h];j.once(a,d)}},g.prototype.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),i)if(this.$element=this.$element||i(this.element),b){var e=i.Event(b);e.type=a,this.$element.trigger(e,c)}else this.$element.trigger(a,c)},g.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},g.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},g.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},g.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e.removeFrom(this.stamps,d),this.unignore(d)}},g.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=e.makeArray(a)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},g.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},g.prototype._manageStamp=j,g.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,e=d(a),f={left:b.left-c.left-e.marginLeft,top:b.top-c.top-e.marginTop,right:c.right-b.right-e.marginRight,bottom:c.bottom-b.bottom-e.marginBottom};return f},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.bindResize=function(){this.isResizeBound||(b.bind(a,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&b.unbind(a,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var a=d(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},g.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},g.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},g.prototype.reveal=function(a){this._emitCompleteOnItems("reveal",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.reveal()}},g.prototype.hide=function(a){this._emitCompleteOnItems("hide",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.hide()}},g.prototype.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},g.prototype.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},g.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},g.prototype.getItems=function(a){a=e.makeArray(a);for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c],g=this.getItem(f);g&&b.push(g)}return b},g.prototype.remove=function(a){var b=this.getItems(a);if(this._emitCompleteOnItems("remove",b),b&&b.length)for(var c=0,d=b.length;d>c;c++){var f=b[c];f.remove(),e.removeFrom(this.items,f)}},g.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize();var e=this.element.outlayerGUID;delete l[e],delete this.element.outlayerGUID,i&&i.removeData(this.element,this.constructor.namespace)},g.data=function(a){a=e.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&l[b]},g.create=function(a,b){function c(){g.apply(this,arguments)}return Object.create?c.prototype=Object.create(g.prototype):e.extend(c.prototype,g.prototype),c.prototype.constructor=c,c.defaults=e.extend({},g.defaults),e.extend(c.defaults,b),c.prototype.settings={},c.namespace=a,c.data=g.data,c.Item=function(){f.apply(this,arguments)},c.Item.prototype=new f,e.htmlInit(c,a),i&&i.bridget&&i.bridget(a,c),c},g.Item=f,g}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],b):"object"==typeof exports?module.exports=b(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):a.Masonry=b(a.Outlayer,a.getSize,a.fizzyUIUtils)}(window,function(a,b,c){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&1>g?"round":"floor";f=Math[h](f),this.cols=Math.max(f,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c.indexOf(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d});;
/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function f(e){this.img=e}function c(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var f=r[o];this.addImage(f)}}},s.prototype.addImage=function(e){var t=new f(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),f.prototype=new t,f.prototype.check=function(){var e=v[this.img.src]||new c(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},f.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});;
/*! Picturefill - v2.3.1 - 2015-04-09
 * https://scottjehl.github.io/picturefill
* Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){"use strict";function d(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b:"function"==typeof define&&define.amd&&define("picturefill",function(){return b}),"object"==typeof a&&(a.picturefill=b)}function e(a){var b,c,d,e,f,i=a||{};b=i.elements||g.getAllElements();for(var j=0,k=b.length;k>j;j++)if(c=b[j],d=c.parentNode,e=void 0,f=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[g.ns]||(c[g.ns]={}),i.reevaluate||!c[g.ns].evaluated)){if(d&&"PICTURE"===d.nodeName.toUpperCase()){if(g.removeVideoShim(d),e=g.getMatch(c,d),e===!1)continue}else e=void 0;(d&&"PICTURE"===d.nodeName.toUpperCase()||!g.sizesSupported&&c.srcset&&h.test(c.srcset))&&g.dodgeSrcset(c),e?(f=g.processSourceSet(e),g.applyBestCandidate(f,c)):(f=g.processSourceSet(c),(void 0===c.srcset||c[g.ns].srcset)&&g.applyBestCandidate(f,c)),c[g.ns].evaluated=!0}}function f(){function c(){clearTimeout(d),d=setTimeout(h,60)}g.initTypeDetects(),e();var d,f=setInterval(function(){return e(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(f):void 0},250),h=function(){e({reevaluate:!0})};a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void d(function(){});b.createElement("picture");var g=a.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;g.ns="picturefill",function(){g.srcsetSupported="srcset"in c,g.sizesSupported="sizes"in c,g.curSrcSupported="currentSrc"in c}(),g.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},g.makeUrl=function(){var a=b.createElement("a");return function(b){return a.href=b,a.href}}(),g.restrictsMixedContent=function(){return"https:"===a.location.protocol},g.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},g.getDpr=function(){return a.devicePixelRatio||1},g.getWidthFromLength=function(a){var c;if(!a||a.indexOf("%")>-1!=!1||!(parseFloat(a)>0||a.indexOf("calc(")>-1))return!1;a=a.replace("vw","%"),g.lengthEl||(g.lengthEl=b.createElement("div"),g.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",g.lengthEl.className="helper-from-picturefill-js"),g.lengthEl.style.width="0px";try{g.lengthEl.style.width=a}catch(d){}return b.body.appendChild(g.lengthEl),c=g.lengthEl.offsetWidth,0>=c&&(c=!1),b.body.removeChild(g.lengthEl),c},g.detectTypeSupport=function(b,c){var d=new a.Image;return d.onerror=function(){g.types[b]=!1,e()},d.onload=function(){g.types[b]=1===d.width,e()},d.src=c,"pending"},g.types=g.types||{},g.initTypeDetects=function(){g.types["image/jpeg"]=!0,g.types["image/gif"]=!0,g.types["image/png"]=!0,g.types["image/svg+xml"]=b.implementation.hasFeature("https://www.w3.org/TR/SVG11/feature#Image","1.1"),g.types["image/webp"]=g.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},g.verifyTypeSupport=function(a){var b=a.getAttribute("type");if(null===b||""===b)return!0;var c=g.types[b];return"string"==typeof c&&"pending"!==c?(g.types[b]=g.detectTypeSupport(b,c),"pending"):"function"==typeof c?(c(),"pending"):c},g.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},g.findWidthFromSourceSize=function(c){for(var d,e=g.trim(c).split(/\s*,\s*/),f=0,h=e.length;h>f;f++){var i=e[f],j=g.parseSize(i),k=j.length,l=j.media;if(k&&(!l||g.matchesMedia(l))&&(d=g.getWidthFromLength(k)))break}return d||Math.max(a.innerWidth||0,b.documentElement.clientWidth)},g.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},g.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),f=g.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||g.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/f)}return c||1},g.getCandidatesFromSourceSet=function(a,b){for(var c=g.parseSrcset(a),d=[],e=0,f=c.length;f>e;e++){var h=c[e];d.push({url:h.url,resolution:g.parseDescriptor(h.descriptor,b)})}return d},g.dodgeSrcset=function(a){a.srcset&&(a[g.ns].srcset=a.srcset,a.srcset="",a.setAttribute("data-pfsrcset",a[g.ns].srcset))},g.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[g.ns]&&a[g.ns].srcset&&(b=a[g.ns].srcset),b&&(d=g.getCandidatesFromSourceSet(b,c)),d},g.backfaceVisibilityFix=function(a){var b=a.style||{},c="webkitBackfaceVisibility"in b,d=b.zoom;c&&(b.zoom=".999",c=a.offsetWidth,b.zoom=d)},g.setIntrinsicSize=function(){var c={},d=function(a,b,c){b&&a.setAttribute("width",parseInt(b/c,10))};return function(e,f){var h;e[g.ns]&&!a.pfStopIntrinsicSize&&(void 0===e[g.ns].dims&&(e[g.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[g.ns].dims||(f.url in c?d(e,c[f.url],f.resolution):(h=b.createElement("img"),h.onload=function(){if(c[f.url]=h.width,!c[f.url])try{b.body.appendChild(h),c[f.url]=h.width||h.offsetWidth,b.body.removeChild(h)}catch(a){}e.src===f.url&&d(e,c[f.url],f.resolution),e=null,h.onload=null,h=null},h.src=f.url)))}}(),g.applyBestCandidate=function(a,b){var c,d,e;a.sort(g.ascendingSort),d=a.length,e=a[d-1];for(var f=0;d>f;f++)if(c=a[f],c.resolution>=g.getDpr()){e=c;break}e&&(e.url=g.makeUrl(e.url),b.src!==e.url&&(g.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+e.url):(b.src=e.url,g.curSrcSupported||(b.currentSrc=b.src),g.backfaceVisibilityFix(b))),g.setIntrinsicSize(b,e))},g.ascendingSort=function(a,b){return a.resolution-b.resolution},g.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},g.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var f=c[d];("PICTURE"===f.parentNode.nodeName.toUpperCase()||null!==f.getAttribute("srcset")||f[g.ns]&&null!==f[g.ns].srcset)&&a.push(f)}return a},g.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,f=d.length;f>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||g.matchesMedia(i))){var j=g.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},f(),e._=g,d(e)}(window,window.document,new window.Image);;EPSON.repairCentreMap=(function(){'use strict';var isIE11=!!navigator.userAgent.match(/Trident.*rv\:11\./);var config={SEARCH_URL:'viewcon/corporatesite/search/ajax?limit=1&type=product&device=1&search=',DEALER_URL:'viewcon/corporatesite/modules/find_repair_center/search?',ICON:(isIE11)?'/viewcon/common/assets/images/gmap-icon.png':'/viewcon/common/assets/images/gmap-icon.svg',ICON_ACTIVE:(isIE11)?'/viewcon/common/assets/images/gmap-icon-active.png':'/viewcon/common/assets/images/gmap-icon-active.svg',};var repairCentre=EPSON.createClass({init:function(block){this.block=block;this.form=$(this.block).find('form');this.searchBox=$(this.form).find('input[name="product"]');this.dealerSearch=$(this.block).attr('data-dealer-only')=="true";this.markers=[];this.infoWindows=[];this.map;this.newLatLng;this.pag_PerPage=5;this.pag_CurrentPage=1;this.totalResults=parseInt($(block).attr('data-results'));this.addHandlers();this.validateForm();if(this.totalResults>0){this.pag_MaxPages=Math.ceil(this.totalResults/this.pag_PerPage);this.mapInit();}}});repairCentre.prototype.addHandlers=function(){var that=this;$(that.form).on('click','.product-result',function(e){e.preventDefault();$(that.form).find('input[name="product_id"]').val($(this).data('id'));$(that.searchBox).val($(this).data('value'));$(that.form).find('.product_query-results').addClass('is-hidden');});$('.repair-centre-results').on('click','.do-toggle',function(e){e.preventDefault();var $link=$(this);$('.results-table').stop(true,false).slideToggle(400,function(){if($(this).is(':visible')){$link.text($link.attr('data-hide-text'));}else{$link.text($link.attr('data-show-text'));}});});$('.repair-centre-results').on('click','#resultsTablePagination a',function(e){e.preventDefault();return($(this).hasClass('prev'))?that.pagination('previous'):that.pagination('next');}).on('click','#resultsTableData .inner-row',function(){if(!$(this).hasClass('is-active')){$('.results-table .inner-row').removeClass('is-active');$(this).addClass('is-active');that.openInfoWindow($(this).data('count'));}});};repairCentre.prototype.validateForm=function(){var that=this,rules={},messages={};that.formElem={};$(that.form).find('input, select').each(function(){that.formElem[$(this).attr('name')]=$(this);rules[$(this).attr('name')]="required";messages[$(this).attr('name')]=$(this).data('label');});if(!that.dealerSearch){rules.product={required:function(element){return $(that.formElem.product_type).val()=='';}};rules.product_type={required:function(element){return $(that.formElem.product).val()=='';}};}
$(that.form).validate({rules:rules,messages:messages,errorPlacement:function(error,element){element.addClass('error');if(element.attr("name")=="looking"||element.attr("name")=="product_type"||element.attr("name")=="country"){element.parent().append(error);}else{error.insertAfter(element);}},submitHandler:function(form,event){that.ajaxEvent('loading');that.productID=$(that.formElem.product_id).val();that.countryBoxValue=$(that.formElem.country).length?$(that.formElem.country).val():false;var productName=false;if($(that.formElem.product).length){productName=$(that.formElem.product).val().length;}
if(that.productID==0&&productName){that.getProductID();}
else if(that.productID>0||$(that.formElem.product_type).val()){that.formSubmit();}
else{that.getProductID();}}});};repairCentre.prototype.getProductID=function(){var that=this,cclc=that.countryBoxValue?'/'+that.countryBoxValue+'/':EPSON.config.cclc;$.ajax({type:"GET",url:cclc+config.SEARCH_URL+that.searchBox.val(),success:function(data){data=typeof data==='string'?JSON.parse(data):data;if(data.total<1){that.ajaxEvent('no-results');that.ajaxEvent('complete');}else{var productID=data.results[0].id;productID=parseInt(productID.match(/[0-9]+/g)[0]);that.productID=productID;that.searchBox.val(data.results[0].name_s);that.formSubmit();}},error:function(){that.ajaxEvent('no-results');that.ajaxEvent('complete');}});};repairCentre.prototype.formSubmit=function(){var that=this,params={};if(that.productID>0&&!that.dealerSearch)
params.productID=that.productID;if(that.productID==0&&$(that.formElem.product_type).val().length)
params.product_type=$(that.formElem.product_type).val();if($(that.formElem.looking).val().length)
params.looking=$(that.formElem.looking).val();if($(that.formElem.location).val().length)
params.location=$(that.formElem.location).val();if(that.countryBoxValue)
params.country=that.countryBoxValue;var str=jQuery.param(params);str=encodeURI(str);var hash='#find_repair_center';if(that.dealerSearch){hash='#find-dealer';}
var newURL=location.href.split('#')[0];location.href=newURL.split('?')[0]+'?'+str+hash;};repairCentre.prototype.ajaxEvent=function(eventName){var that=this;switch(eventName){case'loading':$(that.searchBox).addClass('is-form-loading');$(that.form).find('input, select, button').prop('disabled',true);$(that.form).find('.form-error').remove();break;case'complete':$(that.searchBox).removeClass('is-form-loading');$(that.form).find('input, select, button').prop('disabled',false);break;case'no-results':$('<label class="form-error">'+$(that.form).data('no-results')+'</label>').insertAfter($(that.form).find('button'));break;}};repairCentre.prototype.pagination=function(direction){var that=this;switch(direction){case'previous':if(that.pag_CurrentPage<=1){return false;}
that.pag_CurrentPage--;break;case'next':if(that.pag_CurrentPage>=that.pag_MaxPages){return false;}
that.pag_CurrentPage++;break;}
var startPoint=(that.pag_CurrentPage*this.pag_PerPage)-this.pag_PerPage,endPoint=that.pag_CurrentPage*this.pag_PerPage;endPoint=(endPoint>that.totalResults)?that.totalResults:endPoint;that.buildTable(startPoint,endPoint);that.clearMarkers();that.markers=[];that.setMarkers(startPoint,endPoint);that.openInfoWindow(0);};repairCentre.prototype.buildTable=function(startPoint,endPoint){var that=this,template=$('#templateMapTable').html(),pageData=new Object(),count=0,data=EPSON.repairCentreData;pageData.results=new Array();endPoint=(endPoint>that.totalResults)?that.totalResults:endPoint;for(var i=startPoint;i<endPoint;i++){var distance=parseFloat(data[i].distance);data[i].distance=distance.toFixed(1);if(isNaN(data[i].distance)){data[i].distance='--';}
data[i].count=count;count++;pageData.results.push(data[i]);}
var html=Mustache.to_html(template,pageData);$('#resultsTableData').html(html);$('#resultsTablePagination #mapPageCurrent').html(that.pag_CurrentPage);};repairCentre.prototype.mapInit=function(){var that=this,locationMap=document.getElementById("locationMap");that.newLatLng=new google.maps.LatLng(51.5072,0.1275);var mapOptions={zoom:4,center:that.newLatLng,scrollwheel:false};that.map=new google.maps.Map(locationMap,mapOptions);google.maps.event.addDomListener(window,'resize',function(){that.map.setCenter(that.newLatLng);});that.buildTable(0,5);that.setMarkers(0,5);that.openInfoWindow(0);};repairCentre.prototype.setMarkers=function(startPoint,endPoint){var that=this;that.bounds=new google.maps.LatLngBounds();endPoint=(endPoint>parent.totalResults)?that.totalResults:endPoint;for(var i=startPoint;i<endPoint;i++){if(EPSON.repairCentreData.hasOwnProperty(i)){that.createMarker(EPSON.repairCentreData[i]);}}};repairCentre.prototype.createMarker=function(pin){var that=this;var markerIcon={url:config.ICON,size:new google.maps.Size(23,37)};var myLatLng=new google.maps.LatLng(parseFloat(pin.latitude),parseFloat(pin.longitude));var marker=new google.maps.Marker({position:myLatLng,map:that.map,icon:markerIcon,title:pin.name,zIndex:parseInt(pin.companyid)});var infoWindowContent=Mustache.to_html($('#templateMapWindow').html(),pin);var infoWindow=new google.maps.InfoWindow({content:infoWindowContent});google.maps.event.addListener(marker,'click',function(){that.closeInfoWindows();infoWindow.open(that.map,marker);that.resetMarkers();that.resetTable();$('.results-table .inner-row').each(function(){if($(this).data('id')==pin.id){$(this).addClass('is-active');return false;}});marker.setIcon(config.ICON_ACTIVE);that.panMap(marker);});google.maps.event.addListener(infoWindow,'closeclick',function(){that.resetMarkers();that.resetTable();});that.bounds.extend(myLatLng);that.map.fitBounds(that.bounds);that.markers.push(marker);that.infoWindows.push(infoWindow);return marker;};repairCentre.prototype.openInfoWindow=function(ID){var that=this;that.resetMarkers();google.maps.event.trigger(that.markers[ID],'click');that.markers[ID].setIcon(config.ICON_ACTIVE);that.panMap(that.markers[ID]);};repairCentre.prototype.resetMarkers=function(){var that=this;for(var key in that.markers){that.markers[key].setIcon(config.ICON);}};repairCentre.prototype.resetTable=function(){$('.results-table .inner-row').removeClass('is-active');};repairCentre.prototype.panMap=function(marker){var that=this;that.newLatLng=new google.maps.LatLng(marker.position.lat(),marker.position.lng());that.map.panTo(that.newLatLng);};repairCentre.prototype.closeInfoWindows=function(){var that=this;for(var i=0;i<that.infoWindows.length;i++){that.infoWindows[i].close();}};repairCentre.prototype.clearMarkers=function(){var that=this;for(var i=0;i<that.markers.length;i++){that.markers[i].setMap(null);}};return repairCentre;}());$(function(){$('.locate-repair-center').each(function(){new EPSON.repairCentreMap(this);});});;EPSON.miniBasket=(function(){'use strict';var config={totalNum:'#miniBasketTotal',container:'#miniBasketContainer',deleteItem:'.deleteItemButton',bundleToggle:'.do-toggle',consumableForm:'form.consumableForm',consumableMiniBasket:'.miniBasket-wrapper',};var ajax={basketInfo:'/checkout/basketinfo',update:'/checkout/updateitembasketjson',del:'/checkout/deleteitembasketjson',buynow:'/checkout/buynow',};var MiniBasket=EPSON.createClass({init:function(){this.altMiniBasket=$(config.consumableMiniBasket).length>0;this.addHandlers();},addHandlers:function(){var that=this;$(config.consumableForm).on('submit',function(e){e.preventDefault();that.handleSubmit(this);});$(config.container).on('click',config.deleteItem,function(e){e.preventDefault();that.deleteItem(this);}).on('click',config.bundleToggle,function(e){e.preventDefault();that.toggleBundle(this);}).on('change','select',function(){that.updateQty(this);});$('#basketForm').on('click',config.bundleToggle,function(e){e.preventDefault();that.toggleBundle(this);});$(".checkout-wrap").on('click',config.bundleToggle,function(e)
{e.preventDefault();that.toggleBundle(this);});$('.basket-wrap > a').on('click',function(e){if($(window).width()>767){e.preventDefault();$('.header-links .has-child, .header-search').removeClass('is-active');$(this).parent().toggleClass('is-active');}});$(document).on('click',function(e){var container=$(config.container);if(!container.is(e.target)&&container.has(e.target).length===0){container.removeClass('is-active');}});}});MiniBasket.prototype.updateBasket=function(data){if(data.totalNum<1)$(config.container).addClass('empty-basket');if(data.totalNum>0)$(config.container).removeClass('empty-basket');$(config.totalNum).text(data.totalNum);$(config.container).find('h5').text(data.basketHeader);data.basketHTML=Base64.decode(data.basketHTML);$(config.container).find('.basket-content').html(data.basketHTML);$(config.container).find('select').each(function(){new EPSON.FieldSelect(this);});this.ajaxEvent('complete');};MiniBasket.prototype.handleQuantities=function(form,data){if(!form){var form=$('select[name="buynow['+data.itemid+']"]').parent('form');}
var $select=$(form).find('select');if($select.length>0){$select.empty();for(var i=1;i<=data.qtyLeft;i++){$select.append('<option value="'+i+'">'+i+'</option>');}
$select.val(1);$select.data('epsonfield').drawOptions();$select.data('epsonfield').update(1);}
if(data.disable===true){$(form).find('select, button').prop('disabled',true);}else{$(form).find('select, button').prop('disabled',false);}};MiniBasket.prototype.handleSubmit=function(form){var that=this,data=new Object();if($(form).attr('data-radio-form')=="true"){var input=$(form).find('input[name="buynow"]:checked');data['buynow['+input.val()+']']=1;}else{var input=$(form).find('[name^="buynow"]');data[input.attr('name')]=input.val();}
$(config.consumableForm).addClass('is-loading');$(form).removeClass('is-loading').find('button').addClass('btn-loading');$(form).find('select, button, input').prop('disabled',true);that.ajaxEvent('loading');if(that.altMiniBasket)data.consumableMiniBasket=true;$.ajax({url:ajax.buynow,type:'POST',data:data}).done(function(returnedData)
{if(typeof returnedData==='string')
{returnedData=JSON.parse(returnedData);}
if(returnedData.error===true)
{document.location.reload();}
else
{that.triggerPopup(returnedData.item);that.handleQuantities(form,returnedData);that.updateBasket(returnedData.data);if(returnedData.cmb_data)that.updateCMB(returnedData.cmb_data);$(config.consumableForm).removeClass('is-loading');$(form).find('button').removeClass('btn-loading');if(returnedData.disable!==true)
$(form).find('select, button, input').prop('disabled',false);}}).fail(function(jqXHR,textStatus){document.location.reload();});};MiniBasket.prototype.updateQty=function(select){var that=this;that.ajaxEvent('loading');if($(select).val()==='0'){that.deleteItem($(select).parent().find(config.deleteItem));}
else{var data=$(select).serialize();if(that.altMiniBasket)data=data+'&consumableMiniBasket=true';$.ajax({url:ajax.update,type:'POST',data:data}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data===false){document.location.reload();}else{that.handleQuantities(false,data);that.updateBasket(data.data);if(data.cmb_data)that.updateCMB(data.cmb_data);}}).fail(function(){document.location.reload();});}};MiniBasket.prototype.deleteItem=function(link){var that=this,dataLink=$(link).attr('data_link');that.ajaxEvent('loading');var CMB=that.altMiniBasket;$.ajax({url:ajax.del,type:'POST',data:{link:dataLink,consumableMiniBasket:CMB}}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data===false){document.location.reload();}else{that.handleQuantities(false,data);that.updateBasket(data.data);if(data.cmb_data)that.updateCMB(data.cmb_data);}}).fail(function(){document.location.reload();});};MiniBasket.prototype.toggleBundle=function(bundle){var $this=$(bundle),openText=$this.data('open'),closeText=$this.data('close');$this.next('.do-expand').stop(true,true).slideToggle('fast',function(){if($(this).is(':visible')){$this.html(closeText+' <span class="icon minus"></span>');}else{$this.html(openText+' <span class="icon"></span>');}});};MiniBasket.prototype.triggerPopup=function(item){if(!this.popup){this.popup=new EPSON.Popup($('.popup.popup_addconsumable')[0]);}
$('.popup.popup_addconsumable').find('img').attr('src',item.image);$('.popup.popup_addconsumable').find('h3').html(item.name);if(item.closenessqualifier)$('.popup.popup_addconsumable #closeness-qualifier-container').css('display','block').html(Base64.decode(item.closenessqualifier));else $('.popup.popup_addconsumable #closeness-qualifier-container').css('display','none');if(item.upsell)$('.popup.popup_addconsumable #promotion-upsell-container').css('display','block').html(Base64.decode(item.upsell));else $('.popup.popup_addconsumable #promotion-upsell-container').css('display','none');this.popup.handleOpen();};MiniBasket.prototype.ajaxEvent=function(type){switch(type){case'loading':$(config.container).attr('data-state','loading');break;case'complete':$(config.container).attr('data-state','ready');break;}};MiniBasket.prototype.updateCMB=function(data){var that=this;data=Base64.decode(data);$(config.consumableMiniBasket).html(data);};return MiniBasket;}());var miniBasket;$(function(){miniBasket=new EPSON.miniBasket();});;EPSON.addressLookup=(function(){'use strict';var config={AJAX_SEARCH_URL:'viewcon/corporatesite/myepson/searchaddress/'};return EPSON.createClass({init:function(form,addressSearchPopup){this.form=form;this.formData='';this.fieldPrefix='';this.addressSearchPopup=addressSearchPopup;this.bindEvents();},runLookupAjax:function(){var parent=this;var formdata=parent.formData+'&lookup=1&fieldprefix='+parent.fieldPrefix;$.post(EPSON.config.cclc+config.AJAX_SEARCH_URL,formdata,function(data){parent.processLookupResults(data);},"json");},processLookupResults:function(data){var parent=this;if(data.errorMsg){$('#addressList').html(data.errorMsg);}
else{$(parent.form).find('input[name="'+parent.fieldPrefix+'searchaddress"]').val('');$(parent.form).find('.search-address').removeClass('is-ready');var $addressList=$('<ul class="address-list">');var addresses=new Array();$.each(data,function(key,value){var split=value.split(",");split[0]='<strong>'+split[0]+'</strong>';value=split.join(',');addresses.push('<li><input type="radio" name="address" id="address_'+key+'" value="'+key+'"><label for="address_'+key+'"><span class="icon"></span> '+value+'</label></li>');});$addressList.append(addresses.join(''));$addressList.append('</ul>');$('#addressList').html($addressList);$('#addressList').append('<a class="btn btn-blue" href="#">'+EPSON.i18n.nextStep+'</a>');}},updateForm:function(moniker){var that=this;$.post(EPSON.config.cclc+config.AJAX_SEARCH_URL,{'moniker':moniker},function(data){$.each(data,function(id,value){$(that.form).find("input[name='"+that.fieldPrefix+id+"']").val(value);});that.addressSearchPopup.handleClose();$('.overlay').addClass('is-invisible');},"json");},bindEvents:function(){var parent=this;$(parent.form).on('click touchend','.search-address.is-ready',function(e){e.preventDefault();var str=$(parent.form).find('input[name="searchaddress"]').val();var zipcode=str.replace(/ /g,'+');parent.formData='searchaddress='+zipcode;parent.fieldPrefix=$(parent.form).data('fieldprefix');if(!parent.fieldPrefix){parent.fieldPrefix='';}
parent.runLookupAjax();});$('#address-lookup').on('change','input',function(){if($(window).width()>600){var moniker=$('#address-lookup').find('input:checked').val();parent.updateForm(moniker);}});$('#address-lookup').on('click','.btn',function(e){e.preventDefault();var moniker=$('#address-lookup').find('input:checked').val();if(moniker){parent.updateForm(moniker);}});}});}());;var xhr;EPSON.productSearch=(function(){'use strict';var config={CONTAINER:'.product_query-results',HIDE_CLASS:'is-hidden',FOCUS_CLASS:'is-focus',AJAX_URL:'viewcon/corporatesite/search/ajax',};return EPSON.createClass({init:function(element){this.queryBox=$(element);this.query=$(element).val();this.isVisible=false;this.currentlySelected=-1;this.cache={};this.regOpen=false;this.hideEmpty=this.queryBox.attr('data-search-hideEmpty')?true:false;this.anchor=this.queryBox.attr('data-search-anchor')?this.queryBox.data('search-anchor'):false;this.phrases={};this.phrases['ink for ']='#accessories';this.buildSearch();this.setFilters();this.bindKeyPress();this.addHandlers();},buildSearch:function(){this.queryBox.addClass('autoloader').attr('autocomplete','off');$('<span class="loading-spinner"></span>').insertAfter(this.queryBox);var newNode=document.createElement('ul');newNode.className='product_query-results is-hidden l-bulletless';this.container=$(newNode);this.container.appendTo(this.queryBox.parent());},setFilters:function(){this.searchType=this.queryBox.attr('data-searchType')?this.queryBox.attr('data-searchType'):'';this.filters=new Object();this.filters.type='product,inksymbol,inkcart,searchkeyword,site,casestudy,press,asset';if(this.queryBox.attr('data-search-deviceOnly')){this.filters.type='product';}
if(this.queryBox.attr('data-search-support')){this.filters.type='esupport';}
this.filters.limit=99999;if(this.searchType){if(this.searchType!='registered'){this.filters.category=this.searchType;this.filters.consumabletype=this.searchType;}}},addHandlers:function(){var that=this;$(that.container).on('click','.registered-products-toggle',function(){that.regOpen=!that.regOpen;$(this).toggleClass('is-open');$(that.container).find('.registered-products > ul').stop(true,true).slideToggle('fast');})},captureInput:function(query){var that=this;if(that.queryBox.val().length>2||(that.queryBox.val().length==2&&$.isNumeric(that.queryBox.val()))){that.query=query;var phraseFound=false;for(var key in that.phrases){if(that.phrases.hasOwnProperty(key)){if(that.query.indexOf(key)>=0){that.query=that.query.substr(that.query.indexOf(key)+key.length);that.phraseaddition=that.phrases[key];that.phraseused=key;phraseFound=true;break;}}}
if(!phraseFound){that.phraseaddition=null;that.phraseused=null;}
if(that.query.length>2||(that.query.length==2&&$.isNumeric(that.query))){if(that.cache.query===that.query){that.processResults(that.cache.data);}else{that.runSearch();}}}},runSearch:function(){var that=this;that.ajaxEvent('loading');that.filters.search=that.query;if(xhr&&xhr.readystate!=4){xhr.abort();}
that.filters.typeahead=1;xhr=$.ajax({url:EPSON.config.cclc+config.AJAX_URL,type:'GET',timeout:20000,data:that.filters}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
that.cache.query=that.query;that.cache.data=data;that.ajaxEvent('success',data);}).fail(function(xhr,text_status,error_thrown){if(text_status!=='abort'){that.ajaxEvent('error');}});},ajaxEvent:function(state,data){switch(state){case'loading':this.queryBox.addClass('is-loading');break;case'success':this.queryBox.removeClass('is-loading');this.processResults(data);break;case'error':this.queryBox.removeClass('is-loading');this.container.html('<li class="no-results">'+EPSON.i18n.comservicenotavailable+'</li>');break;}},processResult:function(result,product){var that=this;var localOutput="";if(!result.hasOwnProperty('link_s'))return null;var link=result.type_s=='vanityurl'?result.link_s:EPSON.config.cclc+result.link_s.substring(1);localOutput+='<li class="product_query-result grouped_search-item';if(product)localOutput+=' grouped_search-product';localOutput+='">';localOutput+='<a href="'+link+'?search=';if(that.phraseused){localOutput+=that.phraseused;}
localOutput+=that.query;if(that.phraseaddition&&result.type_s=='product'){localOutput+=that.phraseaddition;}
if(that.anchor&&result.device_b==true){localOutput+=that.anchor;}
localOutput+='" class="product-result" data-id="'+parseInt(result.id.match(/[0-9]+/g)[0])+'" data-value="'+result.name_s+'" data-sku="'+result.sku_s+'">';if(result.image_s&&result.image_s!=='false'){localOutput+='<div class="image"><img src="'+result.image_s+'"/></div>';}
localOutput+='<div class="product-name" title="'+result.name_s+'">'+result.name_s+'</div>';localOutput+='</a>';localOutput+='</li>';return localOutput;},processResults:function(data){var that=this;var output='';if((that.searchType!='header'&&that.filters.type=="product"&&data.products.total>0)||((that.searchType=='inkcart'||that.searchType=='lasercon'||that.searchType=='ribbon'||that.searchType=='tape')&&data.products.total>0)){for(var i=0;i<data.products.results.length;i++){var result=data.products.results[i],link=result.type_s=='vanityurl'?result.link_s:EPSON.config.cclc+result.link_s.substring(1);output+='<li class="product_query-result">';output+='<a href="'+link+'" class="product-result" data-id="'+parseInt(result.id.match(/[0-9]+/g)[0])+'" data-value="'+result.name_s+'" data-sku="'+result.sku_s+'">';if(result.image_s&&result.image_s!=='false'){output+='<div class="image"><img src="'+result.image_s+'"/></div>';}
output+='<div class="product-name" title="'+result.name_s+'">'+result.name_s+'</div>';output+='</a>';output+='</li>';}
if(data.products.additionalresults&&data.products.additionalresults.length>0){output+='<li class="product_query-result grouped_search-header additionalresults">'+EPSON.i18n.relatedproducts+' ('+data.products.additionalcount+')</li>';for(var i=0;i<4;i++){var result=data.products.additionalresults[i];if(result){output+=this.processResult(result,true);}}}
that.container.html(output);if(data.products.total>5){that.container.append('<li class="product_query-result all-results"><a href="'+EPSON.config.cclc+'viewcon/corporatesite/search/products/?search='+that.query+'" class="btn btn-info">'+EPSON.i18n.showallresults+'</a></li>');}}
else if(data.products.total>0||data.content.total>0||data.resources.total>0||data.insights.total>0){var contentAdded=false;if(that.searchType=='header'){output+='<li class="search-header">'+EPSON.i18n.searchresults+'</li>';}
if(data.products.total>0){contentAdded=true;for(var i=0;i<data.products.results.length;i++){var result=data.products.results[i];output+=this.processResult(result,true);}}
if(data.products.additionalresults&&data.products.additionalresults.length>0){output+='<li class="product_query-result grouped_search-header additionalresults">'+EPSON.i18n.relatedproducts+' ('+data.products.additionalcount+')</li>';for(var i=0;i<4;i++){var result=data.products.additionalresults[i];if(result){output+=this.processResult(result,true);}}}
that.container.html(output);if(data.products.total>5||data.content.total>5||data.resources.total>5||data.insights.total>5||data.products.additionalcount>5){if($('.facetIDs')){that.container.append('<li class="product_query-result all-results"><a href="'+EPSON.config.cclc+'viewcon/corporatesite/search/products/?'+$.param(data.query_string)+'" class="btn btn-info">'+EPSON.i18n.showallresults+'</a></li>');}else{that.container.append('<li class="product_query-result all-results"><a href="'+EPSON.config.cclc+'viewcon/corporatesite/search/products/?search='+that.query+'" class="btn btn-info">'+EPSON.i18n.showallresults+'</a></li>');}}}
else{if(that.hideEmpty)return false;that.container.html('<li class="no-results">'+EPSON.i18n.noresults+'</li>');}
if(that.searchType!='header'){that.container.prepend('<li><h3>'+EPSON.i18n.searchresults+'</h3></li>');}
if(that.searchType=='registered'&&EPSON.config.currentDevices){if(!that.registered){that.registeredProducts();}
that.container.prepend(that.registered);}
that.trigger('show');},registeredProducts:function(){var that=this,output='';output+='<li><h3 class="registered-products-toggle">'+EPSON.i18n.regresults+'</h3></li>';output+='<li class="registered-products"><ul style="display:none;">';var devices=EPSON.config.currentDevices;for(var i=0;i<devices.length;i++){var result=devices[i];output+='<li class="product_query-result">';output+='<a href="/viewcon/corporatesite/products/mainunits/overview/'+result.id+'" class="product-result" data-id="'+result.id+'" data-value="'+result.name+'">';if(result.image&&result.image!=='false'){output+='<div class="image"><img src="'+result.image+'"></div>';}
output+='<div class="product-name" title="'+result.name+'">'+result.name+'</div>';output+='</div>';output+='</li>';};output+='</ul></li>';that.registered=output;},bindKeyPress:function(){var that=this,controlKeys=[38,40,27];function handleKeyDown(e,value){if(controlKeys.indexOf(e.which)>-1){e.preventDefault();that.handleCommandKey(e.which);return false;}}
that.queryBox.on('keydown',function(e){handleKeyDown(e,this.value);});that.container.on('keydown',function(e){handleKeyDown(e,this.value);});var timeoutCapture;that.queryBox.on('keyup',function(e){var value=e.target.value;value=value.trim();if(controlKeys.indexOf(e.which)<0&&value!=that.query){if(value.length>1){clearTimeout(timeoutCapture);timeoutCapture=setTimeout(function(){that.captureInput(value)},300);}
else{that.trigger('hide');}}
return false;});that.queryBox.on('focus',function(e){if(that.isVisible===false){var value=e.target.value;value=value.trim();clearTimeout(timeoutCapture);timeoutCapture=setTimeout(function(){that.captureInput(value)},300);}
else{that.currentlySelected=-1;}});$(document).on('click',function(e){var input=that.queryBox,container=that.container;if(!container.is(e.target)&&container.has(e.target).length===0&&!input.is(e.target)&&input.has(e.target).length===0){that.trigger('hide');}});},trigger:function(action){switch(action){case'show':this.container.removeClass(config.HIDE_CLASS);this.isVisible=true;break;case'hide':this.container.html('').addClass(config.HIDE_CLASS);this.isVisible=false;this.currentlySelected=-1;break;}},handleCommandKey:function(keyCode){switch(keyCode){case 27:this.queryBox.trigger('blur');this.trigger('hide');break;case 38:this.focusPrevItem();break;case 40:this.focusNextItem();break;}},focusNextItem:function(){if(this.currentlySelected!==this.container.find('li.product_query-result').length-1){this.currentlySelected+=1;}
this.container.find('li.product_query-result').eq(this.currentlySelected).find('a').trigger('focus');},focusPrevItem:function(){if(this.currentlySelected>0){this.currentlySelected-=1;this.container.find('li.product_query-result').eq(this.currentlySelected).find('a').trigger('focus');}
else if(this.currentlySelected!==-1){this.currentlySelected=-1;this.queryBox.trigger('focus');}},});}());$(function(){function removeHeights(element){$(element).find('.price-wrap').height('');$(element).find('> p').height('');}
function equalHeights(element){removeHeights(element);var rows=this.makeArrays($(element).get(),4);rows.forEach(function(row){var maxPriceHeight=0;var maxParaHeight=0;$(row).each(function(){maxPriceHeight=Math.max(maxPriceHeight,$(this).find('.price-wrap').height());maxParaHeight=Math.max(maxParaHeight,$(this).find('> p').height());});for(var i=0;i<4;i++){$(row[i]).find('.price-wrap').first().height(maxPriceHeight);$(row[i]).find('> p').first().height(maxParaHeight);}});}
equalHeights('#product-detail-loop .compare-product');var compareCount=$('.compare-sidebar .current-product-inner .sidebar-product').length;var currentSelected=[];var currentSelectedStatic=[];$('.compare-sidebar .current-product-inner .sidebar-product').each(function(){currentSelected.push($(this).attr('data-id'));})
$('.compare-product-loop .compare-product').each(function(){currentSelectedStatic.push($(this).attr('data-id'));})
function checkCompareCount(){compareCount=$('.compare-sidebar .current-product-inner .sidebar-product').length;if(compareCount<2){$('.compare-sidebar #compare-selected-product').hide();}else{$('.compare-sidebar #compare-selected-product').show();}
$('.compare-sidebar .selected-count .count').text(compareCount);if(compareCount<4){$('.compare-sidebar .new-product-inner').removeClass('disabled');}else{$('.compare-sidebar .new-product-inner').addClass('disabled');}}
if($('.compare-products-wrap').length>0){var n;var ele;$('.compare-product-loop').each(function(){ele=$(this).find("li");n=ele.length;$("#details_compare_section .table-title").attr('colspan',n);if(n===1){$(this).find("li").css("width","100%");$(".product-close").css("display","none");$(".compare-products-wrap td[colspan='1']").css("width","100%");$(".compare-products-wrap .overflow-scroll-section>.container").css("min-width","auto");}
if(n===2){$(".compare-product").css("width","50%");$(".compare-products-wrap td[colspan='1']").css("width","50%");$(".compare-products-wrap td[colspan='2']").css("width","100%");$(".compare-products-wrap .overflow-scroll-section>.container").css("min-width","400px");}
if(n===3){$(".compare-product").css("width","33.3%");$(".compare-products-wrap td[colspan='1']").css("width","33.3%");$(".compare-products-wrap td[colspan='2']").css("width","66.6%");$(".compare-products-wrap td[colspan='3']").css("width","100%");$(".compare-products-wrap .overflow-scroll-section>.container").css("min-width","600px");}
if(n===4){$(".compare-product").css("width","25%");$(".compare-products-wrap td[colspan='1']").css("width","25%");$(".compare-products-wrap td[colspan='2']").css("width","50%");$(".compare-products-wrap td[colspan='3']").css("width","75%");$(".compare-products-wrap td[colspan='4']").css("width","100%");$(".compare-products-wrap .overflow-scroll-section>.container").css("min-width","800px");}});function getCurrentCompare(){var currentCompare=JSON.parse(localStorage.getItem("products_compare")),currentCompareEle='',title,img,id;$.each(currentCompare,function(i,v){id=v.id;title=v.name;img=v.image;currentCompareEle+='<div class="sidebar-product" data-id="'+id+'"><a href="javascript:void(0)" class="delete-compare-product"></a><div class="image"><img src="'+img+'" alt=""></div><h3>'+title+'</h3></div>';});$('.compare-sidebar .product-section').replaceWith(currentCompareEle);}
function getNewCompare(filter){var productListData="/viewcon/corporatesite/search/ajax?limit=999&type=product&filter="+filter,newEle='',title,img,id,checked;$.getJSON(productListData,{format:"json"}).done(function(data){$.each(data['results'],function(i,v){id=v.id.replace('product','');title=v.name_s;img=v.image_s;checked='';if(currentSelected.indexOf(id)>-1){checked=' checked';}
newEle+='<div class="sidebar-product'+checked+'" data-id="'+id+'"><div class="image"><img src="'+img+'" alt=""></div><h3>'+title+'</h3></div>';});$('.compare-sidebar .new-product-inner').append(newEle);$('.compare-sidebar .loading').hide();});}
$("#sidebar-open").on("click",function(){$(".compare-sidebar").toggleClass("open");checkCompareCount();});$(".close-icon-compare").on("click",function(){$(".compare-sidebar").toggleClass("open");});var url=window.location.pathname;$(".product-close").on("click",function(){var pidcompare=$(this).data('id');if(url.indexOf(pidcompare)>=0){var newurl=url.replace(pidcompare,"");$(".product-close").attr('href',newurl);}});$('.section-control-links a').on('click',function(e){e.preventDefault();var el=$(this);var elData=el.attr('data-event');if(elData=="open"){$('.collapsibles .is-collapsible').addClass('is-open');$('.collapsibles .is-collapsible .is-content').slideDown();}else{$('.collapsibles .is-collapsible').removeClass('is-open');$('.collapsibles .is-collapsible .is-content').slideUp();}});$('.highlight-button input').on('click',function(e){$('.diffrent-data').toggleClass('highlight-row');});(function(){var target=$(".overflow-scroll-section");target.on("scroll",function(){target.prop("scrollTop",this.scrollTop).prop("scrollLeft",this.scrollLeft);$('.section-title').css('padding-left',20+this.scrollLeft);$('.table-title').css('padding-left',20+this.scrollLeft);});})();var elPosMaster=$('#add-sticky-compare').offset().top;$(window).on('resize',function(){if($('#add-sticky-compare').offset().top<=300){elPosMaster=$('#add-sticky-compare').offset().top;}
equalHeights('#product-detail-loop .compare-product');});$(window).on("scroll",function(e){var el=$('#add-sticky-compare');var scrollTop=$(window).scrollTop();if(scrollTop>=elPosMaster){$('#add-sticky-compare').addClass('top-compare-sticky');$('body').css('padding-top',$('#add-sticky-compare').height());}else{$('#add-sticky-compare').removeClass('top-compare-sticky');$('body').css('padding-top','0');}});$(".compare-product .product-close").on('click',function(){$('.compare-page-loading').show();});$('#compare-selected-product').on('click',function(){$('.compare-page-loading').show();var compUrl='/products/comparison/';$('.compare-sidebar .product-section .current-product-inner .sidebar-product').each(function(e){compUrl+=$(this).attr('data-id')+',';});window.location.href=window.location.protocol+'//'+window.location.hostname+compUrl;});$('.compare-sidebar').on('click','.delete-compare-product',function(){$(this).parent().remove();checkCompareCount();currentSelected.splice(currentSelected.indexOf($(this).parent().attr('data-id')),1);});$('.compare-sidebar .new-product-inner').on('click','.sidebar-product',function(){if(currentSelected.indexOf($(this).attr('data-id'))<0){checkCompareCount();if(compareCount<4){$('.compare-sidebar .new-product-inner').removeClass('disabled');var clonedContent=$(this).clone().appendTo('.product-section .current-product-inner');clonedContent.prepend('<a href="javascript:void(0)" class="delete-compare-product"></a>');currentSelected.push($(this).attr('data-id'));checkCompareCount();$(this).addClass('checked');if(currentSelectedStatic.indexOf($(this).attr('data-id'))<0){$('#compare-selected-product').addClass('btn-orange');$('#compare-selected-product').removeClass('btn-grey');}}}else{$(this).removeClass('checked');currentSelected.splice(currentSelected.indexOf($(this).attr('data-id')),1)
$('.current-product-inner [data-id="'+$(this).attr('data-id')+'"]').remove();checkCompareCount();}});$('.compare-sidebar').on('click','#compare-add-product',function(){$(this).hide();$('.compare-sidebar .current-product-inner').hide();if($('.compare-sidebar .new-product-cat .sidebar-product').length>0){$('.compare-sidebar .new-product-cat').show();}else{$('.compare-sidebar .new-product-inner').show();$('.compare-sidebar .loading').show();getNewCompare($('.compare-products-wrap').attr('data-filter'));checkCompareCount();}});$('.compare-sidebar .new-product-cat').on('click','.sidebar-back',function(){$('#compare-add-product').show();$('.compare-sidebar .current-product-inner').show();$('.compare-sidebar .new-product-cat').hide();});$('.compare-sidebar .new-product-cat').on('click','.sidebar-product',function(){$('.compare-sidebar .new-product-cat').hide();$('.compare-sidebar .new-product-inner').show();$('.compare-sidebar .loading').show();getNewCompare($(this).attr('data-filter'));checkCompareCount();});$('.compare-sidebar .new-product-inner').on('click','.sidebar-back',function(){$('.compare-sidebar .new-product-inner .sidebar-product').remove();if($('.compare-sidebar .new-product-cat .sidebar-product').length>0){$('.compare-sidebar .new-product-inner').hide();$('.compare-sidebar .new-product-cat').show();}else{$('#compare-add-product').show();$('.compare-sidebar .new-product-inner').hide();$('.compare-sidebar .current-product-inner').show();}});}});;EPSON.collapsibleToggle=(function(){'use strict';var config={TOGGLE_LINK:'h4',TOGGLE_AREA:'.filter-options',DEFAULT_STATE:false,SLIDE_SPEED:'fast',TOGGLE_CLASS:'is-open'};var collapsible=null;collapsible=EPSON.createClass({init:function(element,toggleLink,toggleArea,toggleClass,isOpenDefault){if(element.length){this.element=element;this.toggleLink=(arguments[1].length)?arguments[1]:config.TOGGLE_LINK;this.toggleArea=(arguments[2].length)?arguments[2]:config.TOGGLE_AREA;this.toggleClass=(arguments[3].length)?arguments[3]:config.TOGGLE_CLASS;this.isOpenDefault=(arguments[4])?arguments[4]:config.DEFAULT_STATE;this.addHandlers();if(this.isOpenDefault===true){this.toggleShow();}else if(this.element.hasClass('is-open')){this.toggleShow();}else{this.toggleHide();}}},});collapsible.prototype.addHandlers=function(){var that=this;$(that.element).on('click',that.toggleLink,function(e){e.preventDefault();that.triggerToggle();});};collapsible.prototype.slideShow=function(){var that=this;$(this.element).addClass(this.toggleClass).trigger("collapse-start");$(this.element).find(this.toggleArea).first().stop(true,true).slideDown(config.SLIDE_SPEED,function(){$(that.element).trigger("collapse-end");});};collapsible.prototype.toggleShow=function(){var that=this;$(this.element).addClass(this.toggleClass).trigger("collapse-start");$(this.element).find(this.toggleArea).first().show();};collapsible.prototype.slideHide=function(){var that=this;$(this.element).removeClass(this.toggleClass).trigger("collapse-start");$(this.element).find(this.toggleArea).first().stop(true,true).slideUp(config.SLIDE_SPEED,function(){$(that.element).trigger("collapse-end");});};collapsible.prototype.toggleHide=function(){var that=this;$(this.element).removeClass(this.toggleClass).trigger("collapse-start");$(this.element).find(this.toggleArea).first().hide().height('');};collapsible.prototype.triggerToggle=function(){if($(this.element).hasClass(this.toggleClass)){this.slideHide();}else{this.slideShow();}};return collapsible;}());;
/*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
  * https://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
(function($){$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var cfg={interval:100,sensitivity:6,timeout:0};if(typeof handlerIn==="object"){cfg=$.extend(cfg,handlerIn);}else if($.isFunction(handlerOut)){cfg=$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector});}else{cfg=$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});}
var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if(Math.sqrt((pX-cX)*(pX-cX)+(pY-cY)*(pY-cY))<cfg.sensitivity){$(ob).off("mousemove.hoverIntent",track);ob.hoverIntent_s=true;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=false;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var ev=$.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}
if(e.type==="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove.hoverIntent",track);if(!ob.hoverIntent_s){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).off("mousemove.hoverIntent",track);if(ob.hoverIntent_s){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.on({'mouseenter.hoverIntent':handleHover,'mouseleave.hoverIntent':handleHover},cfg.selector);};})(jQuery);;(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);;var videoInstances=new Object();$(function(){$('select').each(function(){new EPSON.FieldSelect(this);});$('.languageSelectForm').each(function(){new EPSON.LocaleChanger($(this));});document.createElement("picture");$('[data-search="true"]').each(function(){new EPSON.productSearch(this);});$('.is-collapsible').each(function(){var isOpen=$(this).hasClass('is-open');new EPSON.collapsibleToggle($(this),'.is-toggle','.is-content','is-open',isOpen);});if(!EPSON.Main_Collapsibles){EPSON.Main_Collapsibles=new EPSON.Collapsible(".product_section-collapsible");}
$('.popup_video').each(function(){new EPSON.Popup(this);});$('.video_maker').each(function(){var id=$(this).attr('href').substring(1);videoInstances[id]=new EPSON.Video(this);});var tooltipState=0;if(!navigator.msMaxTouchPoints){$('.has-tooltip').on({mouseenter:function(){tooltipState=0;$(this).addClass('is-active');},mouseleave:function(){if(tooltipState<1){$(this).removeClass('is-active');}}});}
$('.has-tooltip').on('click touchend',function(e){e.preventDefault();tooltipState=1;$(this).toggleClass('is-active');});$(document).on('click',function(e){var tooltip=$('.has-tooltip');if(!tooltip.is(e.target)&&tooltip.has(e.target).length===0){tooltip.removeClass('is-active');tooltipState=0;}});$('.hero_slider_paginator').find('input[type="radio"]').each(function(){new EPSON.FieldCheck(this);});$('.enhancedFilter_products').find('input[type="radio"]').each(function(){new EPSON.FieldRadio(this);});$('.popup#hero_ps_video_popup').each(function(){new EPSON.Popup(this);})
$('[id^=gallery_]').each(function(){var popups=[];popups.push(new EPSON.Gallery(this));$(this).on("hide",function(){$.each($(this).find(".jp-jplayer-video"),function(i,video){$(video).jPlayer("pause");});});});breadcrumbHeight();$(window).on('resize',$.throttle(250,breadcrumbHeight));$('a[href="#chat"]').on('click',function(e){e.preventDefault();$('.chat-window, .chat-toggle-link').toggleClass('is-active');});if(window.location.hash=='#chat')$('.chat-window, .chat-toggle-link').addClass('is-active');$('.full-width-teaser-wrap').each(function(){if($(this).find('.full-width').length>1){$(this).slick({infinite:true,speed:800,autoplay:true,autoplaySpeed:6000,slidesToShow:1,slidesToScroll:1,arrows:true,dots:true,rtl:($('body').hasClass('rtl'))?true:false});}});if(contactForm=document.getElementById('generalContactForm'))new EPSON.ContactForm(contactForm);});var breadcrumbChange=false;function breadcrumbHeight(){var bcHeight=$('.breadcrumb').height();if($('.breadcrumb').length&&$('.breadcrumb-adjustable-elem').length){var newHeight=bcHeight+20;if(newHeight>70)$('.breadcrumb-adjustable-elem').css('padding-top',newHeight);}
if($('.breadcrumb').length){var heroElements=['.hero_main-para','.para.para-ds','.ink-para','.t8-hero','.pro3d-hero-wrap .para','.surepress__hero .para'];var tmpbcHeight;for(var i=heroElements.length-1;i>=0;i--){if($(heroElements[i]).length){tmpbcHeight=bcHeight;if(heroElements[i]=='.para.para-ds'){tmpbcHeight+=10;}else if(heroElements[i]=='.ink-para'){tmpbcHeight-=50;}else if(heroElements[i]=='.t8-hero'){tmpbcHeight+=20;}else if(heroElements[i]=='.pro3d-hero-wrap .para'){tmpbcHeight+=14;}else if(heroElements[i]=='.surepress__hero .para'){tmpbcHeight-=40;}
var paraMarginTop=$(heroElements[i]).css('margin-top');paraMarginTop=parseInt(paraMarginTop);if((paraMarginTop<tmpbcHeight)||breadcrumbChange){$(heroElements[i]).css('margin-top',tmpbcHeight);breadcrumbChange=true;}}}}}
function removeHeights(element,page){if(!page){page='other';}
if(page=='insights'){$(element).find('h3').height('');$(element).find('h4').height('');$(element).find('p').height('');}else if(page=='eol'){$(element).find('.product-listing').height('');}else if(page=='events'){$(element).find('.thumbnail').height('');$(element).find('.content').height('');}else{$(element).find('h3').height('');$(element).find('h4').height('');$(element).find('.description').height('');$(element).find('.meta').height('');$(element).find('p').height('');}}
function equalHeights(element,page){if(!page){page='other';}
removeHeights(element);$(element).each(function(){var exists=$(this).find(".pricing").length
if(exists===1){}else if(exists===0){$(this).find(".buy-button").css("position","absolute");}});var minPriceHeight=140,size=EPSON.size;if(size<960){minPriceHeight=90;}
if(size<548){return false;}
var rows=discoverRows(element);rows.forEach(function(row){var maxHeightDesc=0,maxHeightPrices=0,maxHeightH3=0,maxHeightH4=0,maxHeightThumb=0;maxProdListing=0;maxHeightPara=0;maxHeightThumb=0;maxHeightContent=0;caseStudyContent=$('.events-casestudies');$(row).each(function(){maxHeightH3=Math.max(maxHeightH3,$(this).find('h3').height());maxHeightH4=Math.max(maxHeightH4,$(this).find('h4').height());maxHeightDesc=Math.max(maxHeightDesc,$(this).find('.meta').outerHeight());maxHeightPrices=Math.max(maxHeightPrices,$(this).find('div.description').outerHeight());maxProdListing=Math.max(maxProdListing,$(this).find('.product-listing').outerHeight());maxHeightPara=Math.max(maxHeightPara,$(this).find('p').height());maxHeightThumb=Math.max(maxHeightThumb,$(this).find('.thumbnail img').height());if($(this).find('.thumbnail .youtube')){maxHeightThumb=Math.max(maxHeightThumb,$(this).find('.thumbnail .youtube').height());}
maxHeightContent=Math.max(maxHeightContent,$(this).find('.content').height());});if(page=='eol'){var detectEOL=$(window).width();for(var i=0;i<4;i++){if(detectEOL>767){$(row[i]).find('.product-listing').height(maxProdListing);}else{$(element).find('.product-listing').height('');}}}else{for(var i=0;i<3;i++){if(page=='insights'){$(row[i]).find('h3').height(maxHeightH3);$(row[i]).find('h4').height(maxHeightH4);$(row[i]).find('p').outerHeight(maxHeightPara);}else if(page=='events'){$(row[i]).find('.thumbnail').height(maxHeightThumb);$(row[i]).find('.content').height(maxHeightContent);if(caseStudyContent.length){$('.events-casestudies .row').each(function(){var highestBox=0;$('.thumbnail',this).each(function(){if($(this).height()>highestBox){highestBox=$(this).height();}});$('.thumbnail',this).height(highestBox);});}}else{$(row[i]).find('h3').height(maxHeightH3);$(row[i]).find('.meta').outerHeight(maxHeightDesc);$(row[i]).find('.description').first().outerHeight(maxHeightPrices);}}}});}
function discoverRows(elements){var values=Object.values||function(object){return Object.keys(object).map(function(key){return object[key];});};var tops={};$(elements).each(function(){var top=$(this).offset().top;if(!tops[top]){tops[top]=[];}
tops[top].push(this);});return values(tops);}
function makeArrays(full,limit){var arrays=[],copy=arrays.slice.call(full);while(copy.length){arrays.push(copy.splice(0,limit));}
return arrays;}
jQuery.fn.extend({live:function(types,data,fn){if(window.console&&console.warn){console.warn("jQuery.live is deprecated. Use jQuery.on instead.");}
jQuery(this.context).on(types,this.selector,data,fn);return this;}});;if(window.Slick&&window.Slick.prototype&&window.Slick.prototype.refresh){window.Slick.prototype._refresh=window.Slick.prototype.refresh;window.Slick.prototype.refresh=function(){this._refresh();this.$slider.trigger("slickRefresh",[this])};}
$(document).on("click",".slick-slide",function(e){var jQslide=$(this);var jQanchor=jQslide.find("a[data-target]:not([data-target-dummy])");var jQslider=jQslide.closest(".slick-slider");if(!jQanchor.length||!jQslider.length||!(/\b(?:mwd_redesign\-\w+_caroussel|product__range\-\-carousel)\b/).test(jQslider[0].className)){return;}
var target=jQanchor.data("target");var jQdummy=jQslider.find("a.slick-slide[data-target=\""+target+"\"]");if(!jQdummy.length){jQdummy=$("<a/>",{"class":"slick-slide is-invisible","data-target":target,"data-target-dummy":true}).appendTo(jQslider);}
jQslider.find(".slick-slide.is-selected").removeClass("is-selected");jQdummy.trigger("click");jQslide.addClass("is-selected");}).on("click",".slick-slide a",function(e){var className=$(this).closest(".slick-slider").attr("class");var inputSelector="[type=\"checkbox\"],[type=\"radio\"],label[for]";if((/\bmwd_redesign\-\w+_caroussel\b/).test(className)||(/\bproduct__range\-\-carousel\b/).test(className)){if($(e.target).is(inputSelector)){e.stopPropagation();}else{e.preventDefault();}}}).on("init",".slick-slider",function(){if(!(/\bmwd_redesign\-\w+_caroussel\b/).test(this.className)&&!(/\bproduct__range\-\-carousel\b/).test(this.className)){return;}
$(".slick-slide",this).removeClass("is-selected").first().addClass("is-selected");}).on("slickRefresh",".slick-slider",function(){var jQrange=$(this).closest(".mwd_redesign-range");var jQproduct=jQrange.find(".mwd_redesign-range_product.is-selected[data-product]");if(!(/\bmwd_redesign\-\w+_caroussel\b/).test(this.className)||!jQrange.length||!jQproduct.length){return;}
jQrange.find("a[data-target=\""+jQproduct.data("product")+"\"]").closest(".slick-slide").addClass("is-selected");});$(function(){if(EPSON.WhirlWind){EPSON.WhirlWind.prototype.positionControls=function(){var imageHeight=($(".hs__whirlwind__image").filter(":visible").height()||0)
var wrapperHeight=($(".hs__whirlwind__tab-wrapper").height()||0);this.controlsContainer.css({top:imageHeight+wrapperHeight+30})}}
window.setTimeout(function(){$("body").off("click",".enhancedFilter_feature:visible input");},50);});;$(function(){var loginPopup;$('#login').each(function(){loginPopup=new EPSON.Popup(this);});$('#register').each(function(){var regPopup=new EPSON.Popup(this);});$(document).on('epson.popup.opened',function(event,popup){if($(popup).attr('id')=='login'){$(popup).find('input#username').trigger('focus');}
if($(popup).attr('id')=='mobile_search'){$(popup).find('input[name="search"]').trigger('focus');}});$('a[href="#register"]').on('click',function(){loginPopup.handleClose();});$('.popup#mobile_language_selection').each(function(){new EPSON.Popup(this);});$('.header-links .has-child > a').on('click',function(){$('.header-nav li, .store-nav__main > li').removeClass('is-active');if($(this).parent().hasClass('is-active')){$('.header-links li, .header-search').removeClass('is-active');}else{$('.header-links li, .header-search').removeClass('is-active');$(this).parent().addClass('is-active');}
return false;});if($('#storeNav').length>0){$('.breadcrumb').remove().appendTo($('#storeNav > .container')).addClass('body-breadcrumb');}
$('#qltoggle').on('click',function(){if($('#quicklinks-menu').hasClass('hidden')&&$(window).width()>767){$('#quicklinks-menu').removeClass('hidden');$('#quicklinks-menu').stop(true,true).slideDown('fast');$('#quicklinks-menu').addClass('active');$('#qltoggle').removeClass('icon-s');$('#qltoggle').addClass('icon-c');$('#overlay-nav').addClass('active');}else if($('#quicklinks-menu').hasClass('active')&&$(window).width()>767){$('#quicklinks-menu').removeClass('active');$('#quicklinks-menu').stop(true,true).slideUp('fast');$('#quicklinks-menu').addClass('hidden');$('#qltoggle').removeClass('icon-c');$('#qltoggle').addClass('icon-s');$('#overlay-nav').removeClass('active');}else if($('#quicklinks-menu').hasClass('hidden')&&$(window).width()<767){$('#quicklinks-menu').removeClass('hidden');$('#quicklinks-menu').stop(true,true).slideDown('fast');$('#quicklinks-menu').addClass('active');}});$('#qltoggle-close').on('click',function(){if($('#quicklinks-menu').hasClass('hidden')){$('#quicklinks-menu').removeClass('hidden');$('#quicklinks-menu').stop(true,true).slideDown('fast');$('#quicklinks-menu').addClass('active');}else if($('#quicklinks-menu').hasClass('active')){$('#quicklinks-menu').removeClass('active');$('#quicklinks-menu').stop(true,true).slideUp('fast');$('#quicklinks-menu').addClass('hidden');$('#qltoggle').removeClass('icon-c');$('#qltoggle').addClass('icon-s');$('#overlay-nav').removeClass('active');}});if($('#quicklinks-menu').hasClass('no-items')){$('#ql-li').addClass('no-items');}
var headerform=$("#header_form");$('#header_form select[name=EnquiryType]').on('change',function(){var val=$(this).val();if(val=='Technical support'){var pop=new EPSON.Popup($('#autoscoringhead-success')[0]);$('#autoscoringhead-success #status_header').text(EPSON.i18n.redirecttitle);$('#autoscoringhead-success button').text(EPSON.i18n.cancel);$('#autoscoringhead-success button').addClass('redirect-cancel');$('.overlay').first().addClass('is-invisible');$('#headercontact').addClass('is-invisible');pop.handleOpen();var redirect=setTimeout(function(){window.location.href='/viewcon/corporatesite/misc/contact/index/technical';},3000);$('#autoscoringhead-success button.redirect-cancel').on('click',function(){$(this).removeClass('redirect-cancel');clearTimeout(redirect);pop.handleClose();$('.overlay').first().removeClass('is-invisible');$('#headercontact').removeClass('is-invisible');});if(!$('#autoscoringhead-success').hasClass('is-invisible')){$('.overlay').on('click',function(e){clearTimeout(redirect);pop.handleClose();$('.overlay').first().removeClass('is-invisible');$('#headercontact').removeClass('is-invisible');});}}});var sn1=Math.round(Math.random()*10+1),sn2=Math.round(Math.random()*10+1);sa=sn1+sn2;saText=sn1+' + '+sn2;$('#SecruityCheckText').html(saText);$('.headercontactlink').on('click',function(e){e.preventDefault();$('.overlay').first().removeClass('is-invisible');$('#headercontact').removeClass('is-invisible');});$('#headercontact .do-close').on('click',function(e){e.preventDefault();$('.overlay').addClass('is-invisible');$('#headercontact').addClass('is-invisible');});$('.overlay').on('click',function(e){$('.overlay').addClass('is-invisible');$('#headercontact').addClass('is-invisible');});$('#header_form').validate({rules:{EnquiryType:"required",FirstName:"required",LastName:"required",Email:"required",CompanyName:"required",JobPositionID:"required",Telephone:"required",AgeCheck:"required",securityCheck:{required:true,range:[sa,sa]}},messages:{securityCheck:{required:EPSON.i18n.secruityCheckValid,range:''}},errorPlacement:function(error,element){if(element.attr("name")=="EnquiryType"){error.insertAfter(".enquire .select");}else if(element.attr("name")=="JobPositionID"){error.insertAfter(".jobposition .select");}else if(element.attr("name")=="AgeCheck"){error.insertAfter(".agecheck");}else{error.insertAfter(element);}},submitHandler:function(form){form.submit();}});$("#header_form").on("submit",function(e){e.preventDefault();headerform.valid();});});;$(function(){$('.hamburger-menu').on('click',function(e){e.preventDefault();$(window).scrollTop(0);$(this).toggleClass('is-mm-active');$('body').toggleClass('no-scroll');$('.header-nav').stop().slideToggle('fast').toggleClass('is-m-active');$('.header-nav').find('li').removeClass('is-active');$('.header-nav').find('ul').stop(true,true).slideUp('fast');if($('.store-nav').length){$('.store-nav__toggle, .store-nav__main').removeClass('is-open');}});$('.header-nav').on('click','.has-child > a',function(e){e.preventDefault();$('.header-links li, .store-nav__main > li').removeClass('is-active');if($(window).width()>768||!$('.header-nav').hasClass('is-m-active')){return false;}
$parent=$(this).parent('li');$parent.siblings('li').removeClass('is-active');$parent.siblings('li').find('li').removeClass('is-active');$parent.siblings('li').find('ul').stop(true,true).slideUp('fast');if($parent.hasClass('is-active')){$parent.removeClass('is-active');$parent.find('li').removeClass('is-active');$parent.find('ul').stop(true,true).slideUp('fast');}else{$parent.addClass('is-active');$parent.find('ul:first').stop(true,true).slideDown('fast');$('.header-nav').scrollTop($parent.index()*50);}});$headerNav=$('.header-nav');var headerNavHalf=$('.header-nav').width()/2;function calcNavDimensions(){$('.header-nav .second-level').each(function(){if(window.innerWidth<768){return false;}
$this=$(this);$this.removeAttr('style');$this.find('.third-level').removeAttr('style');if($this.has('.third-level').length){$(this).find('.third-level').each(function(){var iconCount=0;$(this).find('.icon').each(function(){if($(this).html()){iconCount++;}});if(iconCount==0){$(this).addClass('no-icons');}});if($('body').hasClass('rtl')){var headerNavOffset=$headerNav.offset().left;var elemOffset=$this.offset().left;var TLWidth=elemOffset-headerNavOffset;}else{var headerNavOffset=$headerNav.offset().left;var elemOffset=$this.offset().left;var leftAlign=elemOffset-headerNavOffset;var TLWidth=$headerNav.outerWidth()-leftAlign-210;}
if(TLWidth<275){if($('body').hasClass('rtl')){$this.css('left','0px');$this.parent('.header-nav__sub').css('left',TLWidth+'px');$this.parent('.header-nav__sub').addClass('header-nav__sub-reverse');}else{$this.css('right','0px');$this.parent('.header-nav__sub').css('right',TLWidth+'px');$this.parent('.header-nav__sub').addClass('header-nav__sub-reverse');}
TLWidth=550-TLWidth;}
$this.find('.third-level').outerWidth(TLWidth);TLHeights=$this.find('.third-level').map(function(){return $(this).outerHeight();}).get();var TLmaxHeight=Math.max.apply(null,TLHeights);var SLHeight=$this.outerHeight();var NewNavHeight=TLmaxHeight>SLHeight?TLmaxHeight:SLHeight;$this.parent('.header-nav__sub').height(NewNavHeight).width(TLWidth+210);$this.height(NewNavHeight).find('.third-level').outerHeight(NewNavHeight);if($this.find('li.is-active').length>0){$this.find('li.is-active').find('.third-level.no-icons').trigger('click');}}
else{$this.addClass('second-level--no-children');}});}
calcNavDimensions();$(window).on('resize',function(){if(window.innerWidth>767){$('.header-nav .second-level, .header-nav .third-level, .header-nav__sub').removeAttr('style').removeClass('header-nav__sub-reverse');}
calcNavDimensions();});$(window).on('orientationchange',function(){if(window.innerWidth>767){$('.header-nav .second-level, .header-nav .third-level, .header-nav__sub').removeAttr('style').removeClass('header-nav__sub-reverse');}
calcNavDimensions();});$headerNav.on('click','> .has-child > a',function(e){if($headerNav.hasClass('is-m-active')){return false;}
$parentLi=$(this).parent('li');$parentLi.siblings('li').removeClass('is-active');$parentLi.toggleClass('is-active');$parentLi.parent('ul').addClass('is-active');$('.header-nav__sub').each(function(){if(!$(this).find('.second-level li:first-child').hasClass('has-child')){$(this).addClass('is-closed');}else{$(this).css('width',$(this).find('.second-level li:first-child .third-level').outerWidth()+210);$(this).css('height',$(this).find('.second-level li:first-child .third-level').css('height'));if($(this).find('.second-level li:first-child .third-level').hasClass('no-icons')){$(this).addClass('no-icons');}else{$(this).removeClass('no-icons');}
$(this).removeClass('is-closed');}});$headerNav.find('.second-level li').removeClass('is-active');if(!$parentLi.find('.second-level li').first().hasClass('is-active')&&$parentLi.find('.second-level li').first().hasClass('has-child')){$parentLi.find('.second-level li').first().addClass('is-active is-first');}
e.preventDefault();});$(document).on('click',function(e){var header=$('.header-nav');var headerNav=$('.header-nav .is-active');var headerLinks=$('.header-links .is-active');var storeNav=$('.store-nav .is-active');if(!headerNav.is(e.target)&&headerNav.has(e.target).length===0&&$(window).width()>599){header.removeClass('is-active');headerNav.removeClass('is-active');$('.header-nav__sub').each(function(){if(!$(this).find('.second-level li:first-child').hasClass('has-child')){$(this).addClass('is-closed');}else{$(this).removeClass('is-closed');}});}
if(!headerLinks.is(e.target)&&headerLinks.has(e.target).length===0&&$(window).width()>599){if(headerLinks.hasClass('header-search')){$('.header-search .do-toggle').trigger('click');}
headerLinks.removeClass('is-active');}
if(!storeNav.is(e.target)&&storeNav.has(e.target).length===0&&$(window).width()>599){storeNav.removeClass('is-active');}});if(window.innerWidth>1024){$(".header-nav .second-level > li").hoverIntent(function(){if(!$headerNav.hasClass('is-m-active')){$this=$(this);$this.siblings('li').removeClass('is-active is-first');if($this.hasClass('has-child')){$(this).closest('.header-nav__sub').removeClass('is-closed');$(this).closest('.header-nav__sub').css('width',$(this).find('.third-level').outerWidth()+210);$(this).closest('.header-nav__sub').css('height',$(this).find('.third-level').css('height'));if($(this).find('.third-level').hasClass('no-icons')){$(this).closest('.header-nav__sub').addClass('no-icons');}else{$(this).closest('.header-nav__sub').removeClass('no-icons');}
$this.addClass('is-active');}else{$(this).closest('.header-nav__sub').addClass('is-closed');}}},{interval:20});}else{$('.header-nav .second-level > li').on('mouseover click',function(){if(!$headerNav.hasClass('is-m-active')){$this=$(this);$this.siblings('li').removeClass('is-active is-first');if($this.hasClass('has-child')){$(this).closest('.header-nav__sub').removeClass('is-closed');$(this).closest('.header-nav__sub').css('width',$(this).find('.third-level').outerWidth()+210);$(this).closest('.header-nav__sub').css('height',$(this).find('.third-level').css('height'));if($(this).find('.third-level').hasClass('no-icons')){$(this).closest('.header-nav__sub').addClass('no-icons');}else{$(this).closest('.header-nav__sub').removeClass('no-icons');}
$this.addClass('is-active');}else{$(this).closest('.header-nav__sub').addClass('is-closed');}}});}
$('.header-nav__sub').each(function(){if(!$(this).find('.second-level li:first-child').hasClass('has-child')){$(this).addClass('is-closed');}});var resizeComplete=window.innerWidth<768?2:1;$(window).on('resize',$.throttle(250,function(){if(window.innerWidth<768&&resizeComplete!=2){$('.header-nav .second-level, .header-nav .third-level, .header-nav__sub').removeAttr('style');resizeComplete=2;}
if(window.innerWidth>767&&resizeComplete!=1){if($('.header-nav').hasClass('is-m-active')){$('.hamburger-menu').trigger('click');}
$('.header-nav').find('li').removeClass('is-active');resizeComplete=1;}}));$('.store-nav__main > li.has-child > a').on('click',function(e){e.preventDefault();$('.header-nav li, .header-links li').removeClass('is-active');$('.store-nav__main > li.has-child > a').not($(this)).parent('li').removeClass('is-active');$(this).parent('li').toggleClass('is-active');});$('.store-nav__toggle').on('click',function(e){$('.store-nav__main').toggleClass('is-open');if($('.store-nav__main').hasClass('is-open')){$(this).addClass('is-open');}else{$(this).removeClass('is-open');}});});;$(function(){$('.footer-nav').on('click','h4',function(){if($(window).width()<600){$(this).toggleClass('is-active');$(this).next('ul').stop().slideToggle('fast');}});$('.chat-do-toggle').on('click',function(e){e.preventDefault();$('.chat-window, .chat-toggle-link').toggleClass('is-active');});$(document).on('mouseup',function(e){var chatWindow=$('.chat-window');var chatLink=$('.chat-do-toggle');if(!chatWindow.is(e.target)&&chatWindow.has(e.target).length===0&&!chatLink.is(e.target)&&chatLink.has(e.target).length===0&&chatWindow.hasClass('is-active')){chatWindow.removeClass('is-active');$('.chat-toggle-link').removeClass('is-active');}});var ToP=$('.do-top-of-page');var bodyHeight=$('body').height();$(window).on('scroll',function(){if($(window).scrollTop()>299){if(ToP.is(':hidden')){ToP.stop().fadeIn(300);}}else{if(ToP.is(':visible')){ToP.stop().fadeOut(300);}}});$('body').on('click','.do-top-of-page',function(e){e.preventDefault();$('html, body').animate({scrollTop:0},600);});if($('form#chat_popup').length){$('form#chat_popup').validate({rules:{LoginName:'required',portid:'required',privacyprotection:'required'},errorPlacement:function(error,element){return true;},submitHandler:function(form){form.submit();}});}
if($(".footer_form").length){jQuery.validator.addMethod("checkEmail",function(value,element){var pattern=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return pattern.test(value);});$(".footer_form").validate({rules:{Email:{required:true,checkEmail:true}},highlight:function(element,errorClass,validClass){$('.footer_form').addClass(errorClass).removeClass(validClass).trigger("form-invalid");},unhighlight:function(element,errorClass,validClass){$('.footer_form').addClass(validClass).removeClass(errorClass).trigger("form-valid");},submitHandler:function(form){var expires=new Date(),minutes=5;expires.setTime(expires.getTime()+(minutes*60*1000));document.cookie="signupEmail="+encodeURIComponent($(form).find("[name=Email]").val())+";expires="+expires.toString()+";domain="+window.location.host+";path=/";form.submit();}})}});;function validateCaptcha(token)
{$(".register-form").trigger('submit');}
$(function(){if($(".signin-form").length){$(".signin-form").validate({rules:{username:"required",password:"required"},messages:{username:$(".signin-form").find('input[name="username"]').data('label'),password:$(".signin-form").find('input[name="password"]').data('label')},submitHandler:function(form){$(form).find('.error-msg').remove();$(form).addClass('is-validating');var data=$(form).serialize();$.ajax({url:$(form).attr('action')+'?ajax=1',type:'POST',data:data}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data.success==true){form.submit();}
else{$(form).removeClass('is-validating');$('<div class="error-msg">'+data.error+'</div>').prependTo($(form));}}).fail(function(XMLHttpRequest,textStatus,errorThrown){form.submit();});}})}
if($(".register-form").length){$(".register-form").on('submit',function(e){var form=this;var messages={foa:$(".register-form").find('select[name="foa"]').data('label'),firstname:$(".register-form").find('input[name="firstname"]').data('label'),lastname:$(".register-form").find('input[name="lastname"]').data('label'),firstlastname:$(".register-form").find('.error--firstlastname').data('label'),firstnamecontainsnumber:$(".register-form").find('.error--firstnamecontainsnumber').data('label'),lastnamecontainsnumber:$(".register-form").find('.error--lastnamecontainsnumber').data('label'),firstnamecontainshttp:$(".register-form").find('.error--firstnamecontainshttp').data('label'),lastnamecontainshttp:$(".register-form").find('.error--lastnamecontainshttp').data('label'),email:$(".register-form").find('input[name="email"]').data('label'),email2:$(".register-form").find('input[name="email2"]').data('label'),password:$(".register-form").find('input[name="password"]').data('label'),password2:$(".register-form").find('input[name="password2"]').data('label'),businesscustomer:$(".register-form").find('.error--businesscustomer').data('label'),agb:$(".register-form").find('.error--agb_privacy').data('label'),privacy:$(".register-form").find('.error--agb_privacy').data('label'),company:$(".register-form").find('input[name="company"]').data('label'),ontopusername:$(".register-form").find('input[name="ontopusername"]').data('label'),taxnumber:$(".register-form").find('input[name="taxnumber"]').data('label')};$(form).addClass('is-validating');$('label.error').remove();$('p.error').html('');$('.error--businesscustomer, .error--agb_privacy').html('');var data=$(form).serialize();$.ajax({url:EPSON.config.cclc+'viewcon/corporatesite/myepson/registrationValidation',type:'POST',data:data}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data.success==true){form.submit();}
else{grecaptcha.reset();$(form).removeClass('is-validating');$(form).find('label.error').remove();for(var error in data.errors){if(data.errors.hasOwnProperty(error)){switch(error){case'businesscustomer':$('.error--businesscustomer').html(messages[error]);break;case'agb':case'privacy':$('.error--agb_privacy').html(messages[error]);break;case'firstlastname':$('.error--firstlastname').html(messages[error]);break;case'firstnamecontainsnumber':$('.error--firstnamecontainsnumber').html(messages[error]);break;case'lastnamecontainsnumber':$('.error--lastnamecontainsnumber').html(messages[error]);break;case'firstnamecontainshttp':$('.error--firstnamecontainshttp').html(messages[error]);break;case'lastnamecontainshttp':$('.error--lastnamecontainshttp').html(messages[error]);break;case'email_exists':var element=$(".register-form").find('input[name="email"]'),elementID=element.attr('id'),message=element.data('label-exists');$('<label for="'+elementID+'" class="error">'+message+'</label>').insertAfter(element);break;case'password_confirm':var element=$(".register-form").find('input[name="password2"]'),elementID=element.attr('id'),message=element.data('label-confirm'),passwordConfirm=true;$('<label for="'+elementID+'" class="error">'+message+'</label>').insertAfter(element);break;case'email_confirm':var element=$(".register-form").find('input[name="email2"]'),elementID=element.attr('id'),message=element.data('label-confirm'),emailConfirm=true;$('<label for="'+elementID+'" class="error">'+message+'</label>').insertAfter(element);break;default:if(error=='password2'&&passwordConfirm){}
else{var element=$(".register-form").find('[name="'+error+'"]'),elementID=element.attr('id'),message=messages[error];$('<label for="'+elementID+'" class="error">'+message+'</label>').insertAfter(element);}
break;}}}}}).fail(function(XMLHttpRequest,textStatus,errorThrown){console.log('Register form - AJAX error');$(form).removeClass('is-validating');});return false;});$(".register-form").on('change','input[name="businesscustomer"]',function(){if(this.value==1){$(".register-form").find('.do-company-toggle').stop().slideDown('fast');}else{$(".register-form").find('.do-company-toggle').stop().slideUp('fast');}});$(".register-form").validate({rules:{email2:{equalTo:"#rf_email"}},messages:{email:$(".register-form").find('input[name="email"]').data('label'),email2:$(".register-form").find('input[name="email2"]').data('label-confirm')}});}
if($(".signin-form").length||$(".register-form").length){$('.popup_signin, .popup_register').on('hide',function(){$(this).find('form').validate().resetForm();});}});;$(function(){var initialSlide=0;if(EPSON.user.customer_type){switch(EPSON.user.customer_type){case"business":$('.hero-slider .slider .slide').each(function(i,obj){if($(this).data('customer-type')=='business'){initialSlide=i;return false;}});break;case"consumer":$('.hero-slider .slider .slide').each(function(i,obj){if($(this).data('customer-type')=='consumer'){initialSlide=i;return false;}});break;}}
$('.hero-slider .slider').on('init',function(event,slick,currentSlide,nextSlide){if(slick.slideCount===null)return;if(slick.slideCount>1&&!initialSlide>1){$(slick.$slides[0]).addClass('slick-transition slick-transition--first');}else if(initialSlide>=1){$(slick.$slides[initialSlide]).addClass('slick-transition slick-transition--first');}else{$(slick.$slides[0]).addClass('slick-static');}});var autoPlaySpeed=6000;var $firstSlide=$('.hero-slider .slider').find('.slide').first();if($firstSlide.length){var $slideSpeedSetter=$firstSlide.find('div[data-slide-speed]');if($slideSpeedSetter.length){var speed=parseInt($slideSpeedSetter.attr('data-slide-speed'));if(speed>0)autoPlaySpeed=speed;}}
var slideCount=parseInt($('.hero-slider .slider').find('.slide').get().length);if(slideCount==1){$('.hero-slider .slider').find('.slide').addClass('slick-static');}else{var singleSlider=$('.hero-slider .slider').slick({infinite:true,speed:800,autoplay:true,autoplaySpeed:autoPlaySpeed,slidesToShow:1,slidesToScroll:1,arrows:true,dots:true,initialSlide:initialSlide,rtl:($('body').hasClass('rtl'))?true:false});singleSlider.on('beforeChange',function(event,slick,currentSlide,nextSlide){for(var key in heroVideos){if(heroVideos[key].isOpen)heroVideos[key].closeVideo();}
var slideSpeed=6000;var $slideSpeedSetter=$(slick.$slides[nextSlide]).find('div[data-slide-speed]');if($slideSpeedSetter.length){var speed=parseInt($slideSpeedSetter.attr('data-slide-speed'));if(speed>0)slideSpeed=speed;}
singleSlider.slick('slickSetOption','autoplaySpeed',slideSpeed,false);$(slick.$slides).each(function(){$(this).removeClass('slick-transition slick-transition--first');});$(slick.$slides[nextSlide]).addClass('slick-transition');});}
if($(".product-hero-a1").css("height")>"800px"){$(".product-hero-a1").css("background-size","2000px 800px");}});;$(function(){var slidesToShow=3;var $slides=$('.product-series-carousel .slide');if($slides.length>1&&$slides.length<=slidesToShow){var $slide;$slides.each(function(){$slide=$(this).clone(true).insertAfter($slide||$slides.last()).addClass('slick-cloned-2').attr('id','');});}
var relatedCarousel=$('.related_carousel');relatedCarousel.each(function(i,carousel){$(this).slick({centerMode:true,centerPadding:'10px',infinite:true,speed:800,slidesToShow:slidesToShow,slidesToScroll:1,dots:false,arrows:true,adaptiveHeight:false,rtl:($('body').hasClass('rtl'))?true:false,responsive:[{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1,}},]});});relatedCarousel.on('beforeChange',function(event,slick,currentSlide,nextSlide){if((currentSlide>nextSlide&&(nextSlide!==0||currentSlide===1))||(currentSlide===0&&nextSlide===slick.slideCount-1)){if(currentSlide==0){relatedCarousel.find("[data-slick-index=\""+(currentSlide-1)+"\"] .slide").addClass("slick-clone-anim")}}
else{if(nextSlide==0){relatedCarousel.find("[data-slick-index=\""+(currentSlide+1)+"\"] .slide").addClass("slick-clone-anim")}}});relatedCarousel.on('afterChange',function(event,slick,currentSlide,nextSlide){relatedCarousel.find(".slick-clone-anim").removeClass("slick-clone-anim");relatedCarousel.height(Math.max(relatedCarousel.height(),relatedCarousel.find(".slick-current").height()));});$(window).on("resize",function(){relatedCarousel.height("");});});;var youtubeInit;EPSON.HeroVideo=(function(){"use strict";var Video=EPSON.createClass({init:function(link){if(!$(link).attr('data-target'))return false;EPSON.HeroVideo.instances=(EPSON.HeroVideo.instances||0)+1;this.instance=EPSON.HeroVideo.instances;this.link=link;this.videoHref=$(link).attr('href');this.isOpen=false;this.isYoutube=$(link).data('youtube')?true:false;this.target=$(link).parents('.slide');if(!this.videoHref){throw new Error('Video Maker needs a href of the video to play.');}
this.draw();this.addHandlers();},});Video.prototype.addHandlers=function(){var that=this;$(that.link).on('click',function(e){e.preventDefault();that.isOpen==false?that.openVideo():that.closeVideo();});$(that.target).on('click','.do-close-video',function(e){e.preventDefault();that.isOpen==false?that.openVideo():that.closeVideo();});};Video.prototype.draw=function(){var that=this,videoContainer=$('<div class="video-container"><a href="#" class="do-close-video"></a></div>');if(that.isYoutube){var video='<div id="video'+that.instance+'"></div>';}
else{var video='<video id="video'+that.instance+'" controls><source src="'+that.videoHref+'"></video>';}
$(video).appendTo(videoContainer);$(videoContainer).appendTo($(that.target));that.videoContainer=$('.video-container');if(!that.isYoutube){that.video=document.getElementById('video'+that.instance);}};Video.prototype.youtubeInstance=function(){if(!this.video){this.video=new YT.Player('video'+this.instance,{height:'500',width:'1000',videoId:$(this.link).data('youtube'),events:{'onReady':this.playYoutube,}});}};Video.prototype.playYoutube=function(event){event.target.playVideo();};Video.prototype.videoPlay=function(){if(this.isYoutube){if(!this.video){this.youtubeInstance();}else{this.video.playVideo();}}else{this.video.play();}};Video.prototype.videoPause=function(){if(this.isYoutube){this.video.pauseVideo();}else{this.video.pause();}};Video.prototype.openVideo=function(){$(this.videoContainer).addClass('is-open');$('.breadcrumb').fadeOut('fast');$('.slick-slider').slick('slickPause');$('.slick-slider').slick('setOption','autoplay',false,false);this.videoPlay();this.isOpen=true;};Video.prototype.closeVideo=function(){$(this.videoContainer).removeClass('is-open');$('.breadcrumb').fadeIn('fast');$('.slick-slider').slick('slickPlay');$('.slick-slider').slick('setOption','autoplay',true,false);this.videoPause();this.isOpen=false;};return Video;}());var heroVideos={};$(function(){$('.hero_video').each(function(i,v){heroVideos[i]=new EPSON.HeroVideo(this);});});;$(function(){var productCarousel=$('.slick-product-carousel').slick({infinite:false,speed:800,slidesToShow:1,slidesToScroll:1,prevArrow:'.carousel-nav.prev',nextArrow:'.carousel-nav.next',dots:true});var jfyCarousel=$('.slick-jfy-carousel').slick({infinite:true,speed:800,slidesToShow:1,slidesToScroll:1,prevArrow:'.jfy-carousel-wrap .carousel-nav.prev',nextArrow:'.jfy-carousel-wrap .carousel-nav.next',dots:false});var recentlyViewedCarousel=$('.slick-recentlyviewed-carousel').slick({infinite:true,speed:800,slidesToShow:1,slidesToScroll:1,prevArrow:'.recentlyviewed-carousel-wrap .carousel-nav.prev',nextArrow:'.recentlyviewed-carousel-wrap .carousel-nav.next',dots:false});var consumablesCarousel=$('.slick-consumables-carousel').slick({infinite:false,speed:800,slidesToShow:1,slidesToScroll:1,prevArrow:'.carousel-nav.prev',nextArrow:'.carousel-nav.next',dots:true});var lnewsCarousel=$('.slick-lnews-carousel').slick({infinite:true,speed:800,slidesToShow:4,slidesToScroll:4,prevArrow:'.carousel-nav.prevlnews',nextArrow:'.carousel-nav.nextlnews',dots:true});productCarousel.on('afterChange swipe',function(event){event.stopImmediatePropagation();});lnewsCarousel.on('afterChange swipe',function(event){event.stopImmediatePropagation();});var storeCarousel=$('.slick-store-carousel');storeCarousel.each(function(i,carousel){$(this).slick({infinite:false,speed:800,slidesToShow:4,slidesToScroll:4,dots:false,arrows:true,adaptiveHeight:true,rtl:($('body').hasClass('rtl'))?true:false,responsive:[{breakpoint:959,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:550,settings:{slidesToShow:1,slidesToScroll:1}}]});});storeCarousel.each(function(){var maxHeight=Math.max.apply(null,$(this).find('h4').map(function(){return $(this).height();}).get());$(this).find('h4').css('min-height',maxHeight+'px');});var pgSlider=$('.pg-slider').slick({infinite:true,speed:600,fade:true,arrows:false,slidesToShow:1,slidesToScroll:1,dots:true});pgSlider.on('afterChange swipe',function(event){event.stopImmediatePropagation();});var fwSlider=$('.full-width--slider').slick({infinite:false,slidesToShow:1,slidesToScroll:1,arrows:true,dots:true});var tsCarousel=$('.top-sellers-carousel').slick({infinite:false,slidesToShow:4,slidesToScroll:4,arrows:true,dots:true,responsive:[{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:479,settings:{slidesToShow:2,slidesToScroll:2}}]});var historyCarousel=$('.history-slider');historyCarousel.each(function(i,carousel){$(this).slick({infinite:false,speed:800,slidesToShow:2,slidesToScroll:2,dots:false,arrows:true,adaptiveHeight:false,rtl:($('body').hasClass('rtl'))?true:false,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,}},{breakpoint:479,settings:{slidesToShow:1,slidesToScroll:1,}}]});});var contentSlider=$('.content-slider .slider').slick({infinite:true,speed:800,autoplay:true,autoplaySpeed:6000,slidesToShow:1,slidesToScroll:1,arrows:true,dots:true,rtl:($('body').hasClass('rtl'))?true:false});var caseStudyCarousel=$('.slick-casestudy-carousel');caseStudyCarousel.each(function(i,carousel){$(this).slick({infinite:false,speed:800,slidesToShow:3,slidesToScroll:3,dots:false,arrows:true,adaptiveHeight:true,rtl:($('body').hasClass('rtl'))?true:false,responsive:[{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:550,settings:{slidesToShow:1,slidesToScroll:1}}]});});var eventNonProductCarousel=$('.slick-nonproduct-carousel');eventNonProductCarousel.each(function(i,carousel){$(this).slick({infinite:true,speed:800,slidesToShow:3,slidesToScroll:3,dots:false,arrows:true,adaptiveHeight:true,rtl:($('body').hasClass('rtl'))?true:false,responsive:[{breakpoint:959,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:550,settings:{slidesToShow:1,slidesToScroll:1}}]});});function getSliderSettings(data){return $.extend({},{infinite:false,speed:800,slidesToShow:3,slidesToScroll:3,dots:false,arrows:true,adaptiveHeight:true,rtl:($('body').hasClass('rtl'))?true:false,responsive:[{breakpoint:959,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:550,settings:{slidesToShow:1,slidesToScroll:1}}]},data);}
var filteredSection=$('.filtered_slick');filteredSection.each(function(i,carousel){$(this).slick(getSliderSettings($(this).data()));});if($('body').hasClass('rtl')){$(productCarousel).slick('slickSetOption','rtl',true);$(jfyCarousel).slick('slickSetOption','rtl',true);$(recentlyViewedCarousel).slick('slickSetOption','rtl',true);$(consumablesCarousel).slick('slickSetOption','rtl',true);$(lnewsCarousel).slick('slickSetOption','rtl',true);$(pgSlider).slick('slickSetOption','rtl',true);$(fwSlider).slick('slickSetOption','rtl',true);$(tsCarousel).slick('slickSetOption','rtl',true);}});;$(function(){function jfyProductDisplay(){$(".jfy-slide").each(function(){if($(this).parent().parent().hasClass("slick-active")){$(this).addClass("slick-active");var id=$(this).attr("productid");$(".consumbales-container").each(function(){if($(this).attr("id")==id){$(this).removeClass("is-invisible");$(this).append("<div class='jfy-btn-wrap'><a href='#' class='btn btn-blue'>"+EPSON.i18n.commproductviewallinks+"</a></div>")
var row=$(this).find(".table-row");$(row).each(function(i){$(this).removeClass("hide");i+1;if(i==4){return false;}});$(".jfy-btn-wrap").on("click",function(e){e.preventDefault();$(row).each(function(i){if($(this).hasClass("hide")){$(this).slideDown();}});$(this).remove();});}else{}});}else{}});}
$(".jfy-slide a").on("click",function(e){if($(this).parent().hasClass("slick-active")){}else{e.preventDefault();}});$(".recentlyviewed-slide a").on("click",function(e){if($(this).parent().hasClass("slick-active")){}else{e.preventDefault();}});$(".ink-table .table-row").addClass("hide");jfyProductDisplay();$('.slick-jfy-carousel').on('beforeChange',function(event,slick,currentSlide,nextSlide){$(".consumbales-container").addClass("darken");$(".jfy-slide").removeClass("slick-active");});$('.slick-jfy-carousel').on('afterChange',function(event,slick,currentSlide,nextSlide){$(".consumbales-container").addClass("is-invisible");$(".ink-table .table-row").attr("style","");$(".ink-table .table-row").addClass("hide");$(".consumbales-container").removeClass("darken");$(".jfy-btn-wrap").remove();jfyProductDisplay();});});;$(function(){var elem=document.querySelector('.full-width .description');i=2;if(elem){while(elem.scrollHeight>elem.clientHeight&&i<7){elem.classList.remove('description--'+(i-1));elem.classList.add('description--'+i);elem.offsetWidth;i+=1;}}});;(function(epson){var config={CSS_VIDEO_MAKER:'video_maker',CSS_HIDE:'is-hidden',CSS_CLOSE:'do-close-video'};var youtubeInit;epson.Video=epson.createClass({init:function(element){var jQelem=$(element);if(element&&jQelem.attr('href')){this.element=element;this.id=jQelem.attr('href');this.video=document.getElementById(this.id.substring(1));this.isYoutube=!$(this.id).data('youtube')?false:true;this.isOpen=$(this.video).parent().hasClass(config.CSS_HIDE)?false:true;this.youtubeID=null;this.youtubePlayer=null;if(this.isYoutube===true){this.youtubeID=$(this.id).data('youtube');this.YoutubeInit();}
this.handlePopupClose();this.addHandlers();}},YoutubeInit:function(){if(youtubeInit!==true){var tag=document.createElement('script');tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);youtubeInit=true;}},YoutubeInstance:function(){if(!this.youtubePlayer){this.youtubePlayer=new YT.Player(this.id.substring(1),{height:'500',width:'1000',videoId:this.youtubeID,events:{'onReady':this.playYoutube,}});}},playYoutube:function(event){event.target.playVideo();},pauseYoutube:function(event){if(event.data==YT.PlayerState.PLAYING&&!done){event.target.pauseVideo();done=true;}},showVideo:function(preventDefault){if(typeof preventDefault==='function'){preventDefault();}
$(this.id).parent().removeClass(config.CSS_HIDE);$('.breadcrumb').fadeOut('fast');$('.slick-slider').slick('slickPause');$('.slick-slider').slick('setOption','autoplay',false,false);this.isOpen=true;this.playVideo();},closeVideo:function(preventDefault){if(typeof preventDefault==='function'){preventDefault();}
if(this.isOpen===true){$(this.id).parent().addClass(config.CSS_HIDE);$('.breadcrumb').fadeIn('fast');$('.slick-slider').slick('slickPlay');$('.slick-slider').slick('setOption','autoplay',true,false);this.isOpen=false;this.pauseVideo();}},playVideo:function(){if(this.isYoutube===true){if(!this.youtubePlayer){this.YoutubeInstance();}else{this.youtubePlayer.playVideo();}}else{this.video.play();}},pauseVideo:function(){if(this.isYoutube===true&&this.youtubePlayer){this.youtubePlayer.pauseVideo();}else{this.video.pause();}},handlePopupClose:function(){window.onYouTubeIframeAPIReady=function(){var youtubePopupVideo=new YT.Player($(".youtube-player")[0]);$('.popup_video').on('hide',function(){youtubePopupVideo.pauseVideo();});};},addHandlers:function(){var that=this,opener='a[href="'+that.id+'"].'+config.CSS_VIDEO_MAKER;$('.'+config.CSS_CLOSE).on('click',function(e){that.closeVideo($.proxy(e.preventDefault,e));});$(document.body).on('click',opener,function(e){e.preventDefault();that.showVideo($.proxy(e.preventDefault,e));});},});}(EPSON));;$(function(){var promoGrid=$('.promo-grid'),promoGridSlider=$('.promo-grid__slider');initialGrid=$('.promo-grid__tabs > a.is-active').index();if(promoGrid.length){var promoGridMsnry=promoGrid.masonry({itemSelector:'.promo-grid__item',columnWidth:'.grid-sizer',gutter:0,containerStyle:null,percentPosition:true,transitionDuration:0,isOriginLeft:($('body').hasClass('rtl'))?false:true});$(document).on({mouseenter:function(){if($(this).find('.pg-overlay').length&&$(this).find('.pg-overlay').css('visibility')!='hidden'){$(this).addClass('hide-layer-1');}},mouseleave:function(){if($(this).find('.pg-overlay').length){$(this).removeClass('hide-layer-1');}}},".promo-grid__item");promoGrid.imagesLoaded().progress(function(){promoGridMsnry.masonry('layout');});$(document).one('layoutComplete',promoGridMsnry,function(e,items){if(promoGridSlider.length){promoGridSlider.on('afterChange',function(e,slick,direction){$('.promo-grid__tabs > a').removeClass('is-active').eq(slick.currentSlide).addClass('is-active');});promoGridSlider.slick({swipe:false,infinite:false,arrows:false,dots:false,fade:true,draggable:false,rtl:($('body').hasClass('rtl'))?true:false,appendArrows:$('.promo-grid__arrows'),waitForAnimate:false,initialSlide:initialGrid,responsive:[{breakpoint:600,settings:{arrows:true}}]});$(document).on('click','.promo-grid__tabs > a',function(e){e.preventDefault();$('.promo-grid__tabs > a').removeClass('is-active');$(this).addClass('is-active');promoGridSlider.slick('slickGoTo',$(this).index());});promoGridSlider.on('init afterChange',function(e,slick,direction){promoGridMsnry.masonry('layout');});}});var tabbedSlider=$('.tabbed-slider'),tabbedSliderContent=$('.tabbed-slider__content');if(tabbedSlider.length){tabbedSliderContent.on('afterChange',function(e,slick,direction){$('.tabbed-slider__tabs > a').removeClass('is-active').eq(slick.currentSlide).addClass('is-active');});tabbedSliderContent.slick({swipe:false,infinite:false,arrows:false,dots:false,fade:true,draggable:false,adaptiveHeight:true,rtl:($('body').hasClass('rtl'))?true:false,appendArrows:$('.tabbed-slider__arrows'),waitForAnimate:false,initialSlide:initialGrid,responsive:[{breakpoint:600,settings:{arrows:true}}]});$(document).on('click','.tabbed-slider__tabs > a',function(e){e.preventDefault();$('.tabbed-slider__tabs > a').removeClass('is-active');$(this).addClass('is-active');tabbedSliderContent.slick('slickGoTo',$(this).index());});}}
window.onYouTubeIframeAPIReady=function(){$('.popup_video').on('hide',function(){$('.youtube-player').each(function(){this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');});});};});;EPSON.AnchorBar=(function(){'use strict';var config={STICKY:'.is-sticky',LINK:'a.anchor-link',NAV:'.page-nav'};return EPSON.createClass({init:function(){this.isActive=false;if(this.findElement()){this.isActive=true;this.slider=false;this.timeout=false;this.findAnchors();this.addHandlers();this.initWayPoints();}},findElement:function(){this.nav=$(config.NAV).find('li').get();return this.nav.length>0;},findAnchors:function(){var that=this;that.anchors=new Array;for(var i=0;i<that.nav.length;i++){that.anchors.push($(that.nav[i]).find('a').attr('href'));};},initWayPoints:function(){this.sticky=new Waypoint.Sticky({element:$(config.STICKY)[0]});if(EPSON.size<=480&&this.nav.length>=4){this.initSlider();}},initSlider:function(){var navItems=$(config.NAV+' ul').find('li').length;this.slider=$(config.NAV+' ul').slick({infinite:false,speed:500,autoplay:false,slidesToShow:navItems,slidesToScroll:1,arrows:false,dots:false,centerMode:true,centerPadding:'12%',rtl:($('body').hasClass('rtl'))?true:false});},addHandlers:function(){var that=this;$(window).on('load',function(){that.moveSection(window.location.hash,0);that.consistentNavItemHeight();});$(config.STICKY+' a').on('click',function(e){if(!$(this).hasClass('non-anchor')&&$(this).attr('href').indexOf('#')>-1){that.moveSection(this.hash);e.preventDefault();}});$('input').on('focus blur',function(){$(config.NAV).show();});var timeOut;for(var i=0;i<that.anchors.length;i++){if($('a[name="'+that.anchors[i].slice(1)+'"]').length){new Waypoint({element:$('a[name="'+that.anchors[i].slice(1)+'"]')[0],handler:function(direction){var anchorIndex=that.anchors.indexOf('#'+this.element.name);if(direction=='up')anchorIndex--;$(config.STICKY+' a').removeClass('is-active');if(anchorIndex>=0){$(config.STICKY+' a[href="'+that.anchors[anchorIndex]+'"]').addClass('is-active');if(that.slider){timeOut=window.setTimeout(function(){that.slider.slick('slickGoTo',anchorIndex,true);},100);}}
if(direction=='up'&&anchorIndex<0){$(config.STICKY+' a').removeClass('is-active');}},offset:($(config.NAV).outerHeight()+5)});}else{delete that.anchors[i];}}
EPSON.onsizechange(function(){if(EPSON.size<=480){that.initSlider();}else{if(that.slider){that.slider.slick('unslick');that.slider=false;}
if($('.page-nav__product').length){that.consistentNavItemHeight();}}});onElementHeightChange(document.body,function(){Waypoint.refreshAll();});if($('.page-nav__product').length){onElementHeightChange(document.getElementsByClassName('page-nav__product')[0],function(){that.consistentNavItemHeight();});}
$(window).on('resize',$.throttle(250,that.refreshWaypoints));},moveSection:function(hash,speed){var scrollSpeed=speed==0?100:400;var additionalOffset=0;if(navigator.userAgent.toLowerCase().indexOf('firefox')>-1||EPSON.size<768){additionalOffset=35;}
if(hash&&this.anchors.indexOf(hash)!==-1){$('html,body').animate({scrollTop:$('a[name="'+hash.slice(1)+'"]').offset().top-($(config.NAV).outerHeight()-5)+additionalOffset},scrollSpeed);if(history.pushState){history.pushState(null,null,hash);}
else{location.hash=hash;}
return false;}
else{if($('[name="'+hash.slice(1)+'"]').length){$('html,body').animate({scrollTop:$('[name="'+hash.slice(1)+'"]').offset().top-($(config.NAV).outerHeight()-5)+additionalOffset},scrollSpeed);}}},refreshWaypoints:function(){Waypoint.refreshAll();},consistentNavItemHeight:function(){var that=this;if(that.findElement()){$(config.NAV+' ul').find('li').css({'height':'auto'});var tallestItem=95;$(config.NAV+' ul').find('li').css({'height':tallestItem+'px'});$(config.NAV+' .product-info').css({'height':tallestItem+'px'});$(config.NAV+' .anchor-info').css({'height':tallestItem+'px'});}}});}());var navMaxHeight=114;var navMaxFontSize=16;function fixPageNavHeight(element){if(element.height()>navMaxHeight&&element.find('.product-info').css('display')=='inline-block'){var fontSize=parseInt(element.find('.product-info h4').css('font-size'));fontSize=fontSize-1+"px";element.find('.product-info h4').css({'font-size':fontSize});fixPageNavHeight(element);}}
function onElementHeightChange(elm,callback){var lastHeight=elm.clientHeight,newHeight;(function run(){newHeight=elm.clientHeight;if(lastHeight!=newHeight)
callback();lastHeight=newHeight;if(elm.onElementHeightChangeTimer)
clearTimeout(elm.onElementHeightChangeTimer);elm.onElementHeightChangeTimer=setTimeout(run,2000);})();}
var anchorBar;$(function(){$('#consumable .page-nav__product').each(function(){var element=$(this);fixPageNavHeight(element);var resizeTimer;$(window).on('resize',function(e){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){fixPageNavHeight(element);},250);});});$('.consumables_product_button').on('click',function(){$('.page-nav a[href="#products"]').trigger('click');});$('a.anchor-link').on('click',function(e){var hash=this.hash,outerHeight=0;if($('[name="'+hash.slice(1)+'"]').length){if($('.page-nav').length)
outerHeight=$('.page-nav').outerHeight()-5;$('html,body').animate({scrollTop:$('[name="'+hash.slice(1)+'"]').offset().top-outerHeight},400);}
e.preventDefault();});anchorBar=new EPSON.AnchorBar();});;EPSON.Tabs=(function(){'use strict';var Tabs=EPSON.createClass({init:function(tabs){this.elem=tabs;this.target=null;this.addHandlers();if(typeof startingTab!=="undefined"){this.show(startingTab);}
else if(this.targets.indexOf(window.location.hash)!==-1){this.update();}
else{this.show();}}});Tabs.prototype.addHandlers=function(){var that=this;that.tabs=$(that.elem).find('.tab').on('click',function(){if($(this).hasClass('is-active'))return false;that.target=$(this.hash).removeAttr('id');if(location.hash===this.hash){setTimeout(that.update());}}).attr('tabindex','0');that.targets=that.tabs.map(function(){return this.hash;}).get();that.panels=$(that.targets.join(',')).each(function(){$(this).data('old-id',this.id);});window.addEventListener('hashchange',function(){that.update();});};Tabs.prototype.update=function(that){if(this.target){this.target.attr('id',this.target.data('old-id'));this.target=null;}
var hash=window.location.hash;if(this.targets.indexOf(hash)!==-1){return this.show(hash);}
if(!hash)this.show();};Tabs.prototype.show=function(id){if(!id)id=this.targets[0];this.tabs.removeClass('is-active').attr('aria-selected','false').filter(function(){return(this.hash===id);}).addClass('is-active').attr('aria-selected','true');this.panels.removeClass('is-open').attr('aria-hidden','true').filter(id).addClass('is-open').attr('aria-hidden','false');};return Tabs;}());$(function(){$('.tabs-list').each(function(){new EPSON.Tabs(this);});});;$(function(){jQuery.fn.reverse=[].reverse;if($(".newsletter-signup-form").length){jQuery.validator.addMethod("checkEmail",function(value,element){var pattern=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return pattern.test(value);});$(".newsletter-signup-form").validate({rules:{Email:{required:true,checkEmail:true}},submitHandler:function(form){var expires=new Date(),minutes=5;expires.setTime(expires.getTime()+(minutes*60*1000));document.cookie="signupName="+encodeURIComponent($(form).find("[name=FirstName]").val())+";expires="+expires.toString()+";domain="+window.location.host+";path=/";$('input[name="DateOfBirth"]').val(function(){var dob="";$('.dob').reverse().each(function(){var dob_val=$(this).find(":selected").val();dob+=dob_val;})
return(dob.length==8)?dob:"";});form.submit();}})}
$('select#own_prod').on('change',function(){if($(this).val()==='Y'){$('.find-product-toggle').stop().slideDown('fast');}else{$('.find-product-toggle').stop().slideUp('fast');}});$('.find-product-toggle').on('click','.product-result',function(e){e.preventDefault();$('.find-product-toggle').find('input[name="ProductName"]').val($(this).data('value'));$('.find-product-toggle').find('.product_query-results').toggleClass('is-hidden');});$('ul.b2boptions input[type=checkbox]').on('click',function(e){var b2b=false;$('ul.b2boptions input[type=checkbox]').each(function(i,checkbox){if($(this).prop('checked'))b2b=true;})
if(b2b==true){$('input.b2boptions').val(1);}else{$('input.b2boptions').val(0);}})});;$(function(){$('.hotline-form-wrap').on('click','.product-result',function(e){e.preventDefault();var sku=$(this).data('sku')
$('input[name="hotlineaddname"]').val($(this).data('value'));$('input[name="hotlineaddsku"]').val(sku.toUpperCase());$('.hotline-form-wrap').find('.product_query-results').toggleClass('is-hidden');});});;$(function(){if($('#basketForm').length>0){$("#basketForm").find("select[name^='quantities'], input[name='shippingoption']").on("change",function(){$("#basketForm").trigger("submit");});$('.voucher-code').on('click','a',function(e){e.preventDefault();$('.do-voucher-form-toggle').stop().slideToggle('fast');});$('.btn-checkout-link').on('click',function(){var shippingOption=$('#basketForm').find('input[name="shippingoption"]:checked');if(shippingOption.length<1){$('.shipping-option-msg').show();$('html,body').animate({scrollTop:$('#shippingMethods').offset().top},400);return false;}});}
$('.basket-btn-wrap').on('click','.btn-checkout-link',function(){$('.basket-btn-wrap').addClass('is-loading');});});;$(function(){$('body').find('.ink-search-form input').each(function(){new EPSON.productSearch(this,$(this).parent()[0],'all','basic');});});;EPSON.myEpson1ProductsCarousel=(function(){'use strict';return EPSON.createClass({init:function(){var that=this;var doCenterMode=($('.me--products__carousel').find('.product-slide').length<3)?false:true;var doArrows=($('.me--products__carousel').find('.product-slide').length<2)?false:true;if(doArrows===false){$('.pc-nav').hide();}
$('.me--products__carousel').on('init',function(event,slick){that.activeID=$(slick.$slides[0]).data('id');$(slick.$slides[0]).addClass('slick-inview');});var carousel=$('.me--products__carousel').slick({infinite:true,speed:800,centerMode:doCenterMode,centerPadding:'25%',slidesToShow:1,slidesToScroll:1,arrows:doArrows,prevArrow:'.pc-nav.prev',nextArrow:'.pc-nav.next',dots:false,rtl:($('body').hasClass('rtl'))?true:false,responsive:[{breakpoint:960,settings:{centerPadding:'0%',}}]});carousel.on('beforeChange',function(event,slick,currentSlide,nextSlide){$(slick.$slides).each(function(){$(this).removeClass('slick-inview');});});carousel.on('afterChange',function(event,slick,currentSlide,nextSlide){$(slick.$slides[currentSlide]).addClass('slick-inview');that.handleChange($(slick.$slides[currentSlide]).data('id'),$(slick.$slides[currentSlide]).data('name'));});},handleChange:function(id,name){$('.productName').html(name);$('a[data-product-link]').each(function(){var href=$(this).attr('href'),oldID=$(this).attr('data-product-link');href=href.replace(oldID,id);$(this).attr({href:href,'data-product-link':id});});}});}());EPSON.passwordChange=(function(){'use strict';var config={AJAX_SUBMIT_URL:'viewcon/corporatesite/myepson/profile/'};return EPSON.createClass({init:function(form){this.form=form;this.formData='';this.formValidate();},formSubmission:function(){var parent=this;parent.formData=$(parent.form).serialize();var formdata=parent.formData+'&ajax=1';$.post(EPSON.config.cclc+config.AJAX_SUBMIT_URL,formdata,function(data){if(data.response!=='success'){alert(data.response);}else{$('.mp-content').slideDown(400);$('.mp-overlay').slideUp(400,function(){$(parent.form).trigger("reset");$('.mp-overlay input').removeClass('error');});}},"json");},formValidate:function(){var parent=this;$(parent.form).validate({rules:{oldpassword:"required",password:"required",password2:"required"},submitHandler:function(form){parent.formSubmission();}});}});}());EPSON.myEpson1Profile=(function(){'use strict';var config={FORM_VALIDATE:'/myepson/formValidation'};var MyProfile=EPSON.createClass({init:function(wrap){this.wrap=wrap;this.overview=$(this.wrap).find('#overview');this.overlay=$(this.wrap).find('#overlay');this.addHandlers();}});MyProfile.prototype.addHandlers=function(){var that=this;$(that.wrap).on('click','.do-template',function(e){e.preventDefault();var templateID=this.hash;if($(templateID).length){var data=EPSON.user;if($(this).data('edit')){data=EPSON.MyEpsonAddresses[$(this).data('edit')];}
var template=$(templateID).html(),html=Mustache.to_html(template,data);$(that.overlay).html(html);$('select[name="countrycode"]').val(data.countrycode);that.initFeatures(templateID);that.toggleOverlay();}}).on('click','.do-overlay-close',function(e){e.preventDefault();that.toggleOverlay();}).on('click','.delete-address',function(){var text=$(this).attr('data-confirm');return confirm(text);});$(that.wrap).on('change','input[name="businesscustomer"]',function(){if(this.value==1){$('.bc-yes-fields').show();$('.bc-no-fields').hide();}else{$('.bc-yes-fields').hide();$('.bc-no-fields').show();}});$('.popup-address-lookup').each(function(){that.addressSearchPopup=new EPSON.Popup(this);});$(that.wrap).on('keyup','form[name="address-form"] .address-lookup input',function(){var value=this.value;if(value.length>0){$(this).siblings('.popup_maker').addClass('is-ready');}
else{$(this).siblings('.popup_maker').removeClass('is-ready');}});$(that.wrap).on('click','form[name="address-form"] .address-lookup .popup_maker',function(){if(!$(this).hasClass('is-ready')){return false;}});};MyProfile.prototype.initFeatures=function(template){$(this.overlay).find('select').each(function(){new EPSON.FieldSelect(this);});switch(template){case'#templateMyepsonProfile-address':this.formValidation('form[name="address-form"]');this.addressEvents();break;case'#templateMyepsonProfile-profile':this.formValidation('form[name="details-form"]');break;case'#templateMyepsonProfile-password':this.formValidation('form[name="password-form"]');break;}};MyProfile.prototype.addressEvents=function(){new EPSON.addressLookup('form.has-address-lookup',this.addressSearchPopup);var $searchInput=$('form.has-address-lookup .address-lookup input');if($searchInput.length&&$searchInput.val().length>0){$searchInput.siblings('.popup_maker').addClass('is-ready');}
if($('form[name="address-form"]').find('input[name="businesscustomer"]:checked').val()==1){$('.bc-yes-fields').show();$('.bc-no-fields').hide();}else{$('.bc-yes-fields').hide();$('.bc-no-fields').show();}};MyProfile.prototype.toggleOverlay=function(){var that=this;if(!that.isAnimating){that.isAnimating=true;$(that.wrap).toggleClass('overlay-open');if($(that.wrap).hasClass('overlay-open')){$(that.overview).stop(true,false).slideUp('fast');$(that.overlay).stop(true,false).slideDown('fast');}
else{$(that.overview).stop(true,false).slideDown('fast');$(that.overlay).stop(true,false).slideUp('fast',function(){$(this).empty();});}
$(':animated').promise().done(function(){that.isAnimating=false;});}};MyProfile.prototype.formValidation=function(formElem){var that=this;$(formElem).on('submit',function(){var form=this;if(!that.formSubmit){$(form).attr('data-state','loading');$.ajax({url:config.FORM_VALIDATE,type:'POST',data:$(form).serialize(),}).done(function(data){if(typeof data==='string')data=JSON.parse(data);$(form).find('label.error').remove();$(form).find('.validate-icons-wrap').removeClass('error');if(data.success==true){that.formSubmit=true;$(form).trigger("submit");}
else{for(var i=0;i<data.errors.length;i++){var passwordLength=false;if(data.errors[i]=='password_length'){passwordLength=true;data.errors[i]='password';}
if(data.errors[i]=='password2_length'){passwordLength=true;data.errors[i]='password2';}
var element=$(form).find('[name="'+data.errors[i]+'"]');if(element){$(element).next('.validate-icons-wrap').addClass('error');var error=passwordLength?$(element).data('error-length'):$(element).data('error'),errorLabel=$('<label class="error" for="'+data.errors[i]+'">'+error+'</label>');$(element).siblings('label.error').remove();errorLabel.appendTo($(element).parent());}};$(form).attr('data-state','ready').find('button').blur();}}).fail(function(){console.log("Form Validation Error");});return false;}});};return MyProfile;}());$(function(){new EPSON.myEpson1ProductsCarousel();new EPSON.myEpson1Profile('#myepsonProfile');var ordersCurrentPage=1;$('.orders-table-wrap').on('click','.do-showall',function(e){e.preventDefault();var ordersMaxPages=$(this).attr('data-max-pages'),$this=$(this);if(ordersCurrentPage<ordersMaxPages){ordersCurrentPage++;var $orders=$this.parent().parent().find('.orders-table');$orders.find('li[data-page="'+ordersCurrentPage+'"]').show();}
if(ordersCurrentPage>=ordersMaxPages){$this.hide();}
$(this).blur();});});;EPSON.VideoPopup=(function(){'use strict';var config={CSS_MAKER:'popup_maker',HTML_POPUP:'<section class="popup popup_video is-invisible" id="video_{id}">'+'<div class="popup_content">'+'<div class="popup_close">'+'<a href="#" class="do-close">{close}</a>'+'</div>'+'<h3>{title}</h3>'+'<div class="video-container"></div>'+'</div>'+'</section>',HTML_POPUP_FULLSCREEN:'<section class="popup popup-fullscreen popup_video is-invisible" id="video_{id}">'+'<div class="popup_content">'+'<div class="popup_close">'+'<a href="#" class="do-close">{close}</a>'+'</div>'+'<div class="video-container"></div>'+'</div>'+'</section>',VAL_FADETIME:200},jQpageCont=null,count=0;return EPSON.createClass({init:function(elem){this.elem=elem;this.jQelem=$(this.elem);this.videoHREF=this.jQelem.attr('data-video-popup');this.popupType=this.jQelem.attr('data-video-mode');this.count=count;count+=1;this.run();},run:function(){this.adjustElem();this.makePopup();this.addHandlers();},adjustElem:function(){var jQelem=this.jQelem;jQelem.addClass(config.CSS_MAKER).data('id',this.count).attr('href','#video_'+jQelem.data('id'));if(!jQelem.data('title'))jQelem.data('title','');},makePopup:function(){var html;if(this.popupType=='fullscreen'){html=EPSON.supplant(config.HTML_POPUP_FULLSCREEN,{id:this.jQelem.data('id'),close:EPSON.i18n.close,title:this.jQelem.data('title')});}else{html=EPSON.supplant(config.HTML_POPUP,{id:this.jQelem.data('id'),close:EPSON.i18n.close,title:this.jQelem.data('title')});}
var jQpopup=$(html);if(!jQpageCont){jQpageCont=$('body');}
jQpopup.appendTo(jQpageCont);this.jQpopup=jQpopup;this.popupInst=new EPSON.Popup(this.jQpopup[0]);},buildVideo:function(that){if(that.jQelem.attr('data-video-type')=='text'){if(this.popupType=='fullscreen'&&that.jQelem.attr('data-youtube')){var fullscreenVideo=document.createElement('div');fullscreenVideo.setAttribute('id','video-container_'+that.count);that.videoHolder=fullscreenVideo;}
else if(!that.iframe){var iframe=document.createElement('iframe');iframe.setAttribute('id','youtube_video_'+that.count);iframe.src=encodeURI(that.videoHREF+'?autoplay=1&enablejsapi=1');that.iframe=iframe;that.videoHolder=iframe;}}
else{that.videoHolder='<video autoplay controls><source src="'+that.videoHREF+'">Your browser does not support the video tag.</video>'}
that.jQpopup.find('.video-container').html(that.videoHolder);if(this.popupType=='fullscreen'){if(this.jQelem.attr('data-video-type')=='text'){that.player=new YT.Player('video-container_'+that.count,{videoId:that.jQelem.attr('data-youtube'),events:{'onReady':that.onPlayerReadyFullscreen,'onStateChange':that.onPlayerStateChangeFullscreen}});}
else{$('#video_'+that.count+' video').on("ended",function(){that.popupInst.handleClose();that.jQpopup.find('.video-container').html('');});}}},onPlayerReadyFullscreen:function(event){event.target.playVideo();},onPlayerStateChangeFullscreen:function(event){var that=this;switch(event.data){case 0:that.popupInst.handleClose();that.jQpopup.find('.video-container').html('');break;}},addHandlers:function(){var that=this;that.popupInst.bindShow(function(){that.buildVideo(that);});that.popupInst.bindHide(function(){that.jQpopup.find('.video-container').html('');});}});}());$(function(){$('a[data-video-popup]').each(function(){new EPSON.VideoPopup(this);})});;EPSON.checkoutAddress=(function(){'use strict';var config={SECTION_CLASS:'.checkout-step',SECTION_STEP_CLASS:'.step-section',ADDR_TOGGLE:'.do-addr-overlay',ADDR_TOGGLE_CLOSE:'.do-addr-overlay-close',ADDR_DELETE:'.do-delete-addr',ADDR_INPUT:'li.address-list-item > input'};var objectValues=Object.values||function(object){return Object.keys(object).map(function(key){return object[key];});};return EPSON.createClass({init:function(addressSearchPopup){this.formIsProcessing=false;this.addHandlers();this.addressSearchPopup=addressSearchPopup;},addHandlers:function(){var that=this;$(config.SECTION_CLASS).on('addressFormProcess','form',function(){if(that.formIsProcessing===false){that.form=this;that.addressFormAjax();}});$(config.SECTION_CLASS).on('click',config.ADDR_TOGGLE,function(e){e.preventDefault();$('.addressinput').slideDown();that.addressFormOverlay(this);});$(function(){$(document).on('click','#step'+EPSON.checkoutData.currentStep+' .btn-show-address',function(e){$('#step'+EPSON.checkoutData.currentStep+' .addressinput').slideDown();});});$(config.SECTION_CLASS).on('click',config.ADDR_TOGGLE_CLOSE,function(e){e.preventDefault();that.addressFormOverlayClose();});$(config.SECTION_CLASS).on('click',config.ADDR_DELETE,function(e){if(!confirm($(this).data('confirm')))return false;e.preventDefault();if(that.formIsProcessing===false){that.addressFormDelete(this);}});},ajaxEvent:function(eventName,returnedData){var that=this;switch(eventName){case'success':if(returnedData.success===false){$(that.form).find('.form-error-ajax').remove();if(returnedData.message)
$(that.form).prepend('<p class="form-error-ajax">'+returnedData.message+'</p>');$(that.form).find('.validate-icons-wrap').removeClass('error');$(that.form).find('label.error').remove();if(returnedData.errors){var errors=returnedData.errors;for(var error in errors){if(errors.hasOwnProperty(error)){var element=$(that.form).find('[name="'+error+'"]');if(element){if($(element).attr('type')=='radio'){var parent=$(element).parent().parent();}else{var parent=$(element).parent().find('.validate-icons-wrap');parent.addClass('error');}
var errorLabel=$('<label class="error" for="'+error+'">'+errors[error]+'</label>');parent.next('label.error').remove();errorLabel.insertAfter(parent);}}}}
$('html, body').animate({scrollTop:($('.error').first().offset().top-200)},200);}else{that.processResultsAddress(returnedData);}
break;case'error':alert('AJAX ERROR');break;case'loading':that.formIsProcessing=true;$(that.form).addClass('is-disabled');break;case'complete':that.formIsProcessing=false;$(that.form).removeClass('is-disabled');$(that.form).find('.form-error-ajax').remove();break;}},processResultsAddress:function(data){var that=this,step=EPSON.checkoutData.currentStep;EPSON.checkoutData.addresses=objectValues(data.addresses);if(data.delivery_address)EPSON.checkoutData.delivery_address=data.delivery_address;var template=$('#templateCheckoutStep'+step+'User').html(),html=Mustache.to_html(template,EPSON.checkoutData);$(config.SECTION_CLASS+'#step'+step).find(config.SECTION_STEP_CLASS).html(html);switch(EPSON.checkoutData.currentStep){case 2:that.formValidation('.checkout-form-step2');if(EPSON.checkoutData.delivery_id!=0){$(config.SECTION_CLASS+'#step2').find('input[name="delivery_address"]').filter('[value="'+EPSON.checkoutData.delivery_id+'"]').prop('checked',true);}else if(data.delivery_address&&data.delivery_address.hasOwnProperty('id')){$(config.SECTION_CLASS+'#step2').find('input[name="delivery_address"]').filter('[value="'+data.delivery_address.id+'"]').prop('checked',true);}
if(!$(config.SECTION_CLASS+'#step2').find('input[name="delivery_address"]').is(':checked')){$(config.SECTION_CLASS+'#step2').find('input[name="delivery_address"]').first().prop('checked',true);}
break;case 3:that.formValidation('.checkout-form-step3');if(EPSON.checkoutData.billing_id!=0){$(config.SECTION_CLASS+'#step3').find('input[name="billing_address"]').filter('[value="'+EPSON.checkoutData.billing_id+'"]').prop('checked',true);}else if(data.billing_address&&data.billing_address.hasOwnProperty('id')){$(config.SECTION_CLASS+'#step2').find('input[name="billing_address"]').filter('[value="'+data.billing_address.id+'"]').prop('checked',true);}
if(!$(config.SECTION_CLASS+'#step3').find('input[name="billing_address"]').is(':checked')){$(config.SECTION_CLASS+'#step3').find('input[name="billing_address"]').first().prop('checked',true);}
break;}
that.addressFormOverlayClose();},addressFormAjax:function(form){var that=this,formURL=$(that.form).attr('action'),formMethod=$(that.form).attr('method');that.ajaxEvent('loading');$.ajax({url:formURL,type:formMethod,data:$(that.form).serialize(),}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
that.ajaxEvent('success',data);}).fail(function(){that.ajaxEvent('error');}).always(function(){that.ajaxEvent('complete');});},addressFormDelete:function(link){var that=this,deleteID=$(link).data('address-id'),addrListItem=$(link).parents('.address-list-item'),parentForm=$(link).parents('form'),addrListContainer=$(link).parents('.address-list');that.formIsProcessing=true;parentForm.addClass('is-disabled');addrListItem.addClass('is-loading');var preChecks=that.deletePreChecks(link,deleteID);if(preChecks!==true){addrListItem.removeClass('is-loading');that.formIsProcessing=false;parentForm.removeClass('is-disabled');$(config.SECTION_CLASS).find('.form-error-ajax').remove();$('<p class="form-error-ajax">'+preChecks+'</p>').insertAfter(addrListContainer.find('h3'));}else{$(config.SECTION_CLASS).find('.form-error-ajax').remove();$.ajax({url:EPSON.config.cclc+'viewcon/corporatesite/checkout/',type:'POST',data:{action:'delete',deleteID:deleteID}}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
EPSON.checkoutData.addresses=objectValues(data.addresses);addrListItem.fadeOut('fast',function(){$(this).remove();});}).fail(function(){that.ajaxEvent('error');addrListItem.removeClass('is-loading');}).always(function(){that.formIsProcessing=false;parentForm.removeClass('is-disabled');});}},deletePreChecks:function(link,deleteID){if(Object.size(EPSON.checkoutData.addresses)<2){return $(link).data('error-only-address');}
if(EPSON.checkoutData.del_address&&deleteID==EPSON.checkoutData.del_address.d_id){return $(link).data('error-used-address');}
return true;},addressFormOverlay:function(link){var addrID=$(link).data('address-id'),addrType=addrID==0?'new':'edit',template=$('#templateCheckoutAddress').html(),data={},step=EPSON.checkoutData.currentStep,robot=EPSON.checkoutData.basket.hasrobot,that=this;if(addrType=='edit'){data=this.getAddress(addrID);}
switch(addrType){case'new':data.addrTypeNew=true;break;case'edit':data.addrTypeEdit=true;break;}
switch(step){case 2:data.address_type='delivery';data.type_delivery=true;break;case 3:data.address_type='billing';data.type_billing=true;data.businesscustomer_b=(data.businesscustomer_b?data.businesscustomer_b:robot);data.robot_b=robot;break;}
if(!robot){data["countrycode"+EPSON.config.cc.toUpperCase()]=true;}
var html=Mustache.to_html(template,data);$(link).parents(config.SECTION_CLASS).find(config.SECTION_STEP_CLASS).slideUp(400);$(link).parents(config.SECTION_CLASS).find('.address-overlay__'+addrType).html(html).slideDown(400);this.formValidation('.address-form-element');$(config.SECTION_CLASS).find('.address-overlay__'+addrType+' select').each(function(){new EPSON.FieldSelect(this);});$('form.has-address-lookup').each(function(){new EPSON.addressLookup(this,that.addressSearchPopup);});if(EPSON.checkoutData.basket.hasrobot){var $select=$(config.SECTION_CLASS+' .address-overlay__'+addrType).find('select[name="countrycode"]');$select.val(data.countrycode);$select.data('epsonfield').update(data.countrycode);}
if($(config.SECTION_CLASS).find('input[name="businesscustomer"]:checked').val()=='1'){$(config.SECTION_CLASS+' .columns.bc-no-fields').hide();$(config.SECTION_CLASS+' .columns.bc-yes-fields').show();}
if($(config.SECTION_CLASS).find('select.countrycodeDynamicSelect').length>0){var realValue=data.length&&data.countrycode.length?data.countrycode:false;that.handleRegions($(config.SECTION_CLASS).find('select.countrycodeDynamicSelect'),realValue);}
if(EPSON.checkoutData.basket.hasrobot&&$(config.SECTION_CLASS).find('.dynamicIdentificationField').length>0){that.handleIdentification(data);}},addressFormOverlayClose:function(){var step=EPSON.checkoutData.currentStep;$(config.SECTION_CLASS+'#step'+step).find(config.SECTION_STEP_CLASS).slideDown(400);$(config.SECTION_CLASS+'#step'+step).find('.address-overlay').slideUp(400,function(){$(this).html('');});if(step==2){if(EPSON.checkoutData.user.birthdate_day){$(config.SECTION_CLASS+'#step'+step).find('select[name="birthdate_day"]').val(EPSON.checkoutData.user.birthdate_day);}
if(EPSON.checkoutData.user.birthdate_month){$(config.SECTION_CLASS+'#step'+step).find('select[name="birthdate_month"]').val(EPSON.checkoutData.user.birthdate_month);}
if(EPSON.checkoutData.user.birthdate_year){$(config.SECTION_CLASS+'#step'+step).find('select[name="birthdate_year"]').val(EPSON.checkoutData.user.birthdate_year);}
if(EPSON.checkoutData.user.telephone){$(config.SECTION_CLASS+'#step'+step).find('input[name="telephone"]').val(EPSON.checkoutData.user.telephone);}
if(EPSON.checkoutData.user.mobile){$(config.SECTION_CLASS+'#step'+step).find('input[name="mobile"]').val(EPSON.checkoutData.user.mobile);}
if(EPSON.checkoutData.user.login_email_address){$(config.SECTION_CLASS+'#step'+step).find('input[name="email"]').val(EPSON.checkoutData.user.login_email_address);}}
$(config.SECTION_CLASS+'#step'+step).find('select').each(function(){new EPSON.FieldSelect(this);});},amendAddress:function(address){var addresses=EPSON.checkoutData.addresses;for(var i=0;i<addresses.length;i++){if(addresses[i]&&addresses[i].address_id==address.address_id){address.is_selected_delivery=addresses[i].is_selected_delivery;address.is_selected_billing=addresses[i].is_selected_billing;addresses[i]=address;return true;}}},getAddress:function(addrID){var addresses=EPSON.checkoutData.addresses;for(var i=0;i<addresses.length;i++){if(addresses[i]&&addresses[i].address_id==addrID){return addresses[i];}}
return false;},formValidation:function(formElem){$(formElem).on('submit',function(e){e.preventDefault();if($(this).hasClass('address-form-element')){$(this).trigger('addressFormProcess');}else{$(this).trigger('formProcess');}});},handleRegions:function(select,value){if(Object.size(EPSON.checkoutRegionData)>0&&$('.address-form-element .regionDynamicSelect').length>0){var that=this,val=value?value:$(select).val(),countries=['IT','ES','PT'],$region=$('.address-form-element .regionDynamicSelect'),wrap=$region.parent().parent();$region.empty();if(countries.indexOf(val)<0||!EPSON.checkoutRegionData.hasOwnProperty(val)){$(wrap).hide();}
else{for(var key in EPSON.checkoutRegionData[val]){$region.append('<option value="'+key+'">'+EPSON.checkoutRegionData[val][key]+'</option>');}
$region.data('epsonfield').drawOptions();$region.data('epsonfield').update($region.attr('data-selected'));$(wrap).show();}}},handleIdentification:function(data){var $element=$(config.SECTION_CLASS).find('.dynamicIdentificationField');if(['IT','ES','PT'].indexOf(data.countrycode)>-1){$.each($element,function(){var el=$(this);var cc=el.data('robotcc');if(cc.indexOf(value)>-1){el.show();}else{el.hide();}});}
else{$element.hide().removeClass('bc-no-fields');}}});}());;EPSON.UPSAccessPoint=(function(){'use strict';var config={POPUP:'.popup#ups-access-point',CONTENT:'#upsaccesspointaddress'};return EPSON.createClass({init:function(){if(this.findElement()){this.popup=new EPSON.Popup($(config.POPUP));UPSPopup=this.popup;this.form=$(this.input).parents('form');this.toggle=$(this.input).next('a');this.url=$(this.form).find('input[name="UPS_URL"]').val();this.addHandlers();}},findElement:function(){if($(document).find('#upsaccesspointzipcode').length>0){this.input=$(document).find('#upsaccesspointzipcode');return true;}
return false;},addHandlers:function(){var that=this;$(that.toggle).on('click',function(){if(!$(this).hasClass('is-ready'))return false;var postalcode=$(that.input).val(),chooserurl=that.url;chooserurl=chooserurl.replace("POSTALCODE",encodeURIComponent(postalcode));var ifrm=document.createElement('IFRAME');ifrm.setAttribute('src',chooserurl);$(that.popup.focusElement).find(config.CONTENT).html(ifrm);});}});}());;EPSON.checkout=(function(){'use strict';var config={SECTION_CLASS:'.checkout-step',SECTION_STEP_CLASS:'.step-section',SECTION_ADDR_CLASS:'.address-overlay',SECTION_BOTH_CLASS:'.step-section, .address-overlay',isOpenClass:'is-open',PAYMENT_CONTAINER:'#paymentMethodsContainer',EDIT_LINK_HTML:'<a href="#step{step}" class="edit-link"></a>'};if($(config.SECTION_CLASS))
window.addEventListener('popstate',function(e){$(config.SECTION_CLASS).removeClass(config.isOpenClass).find(config.SECTION_STEP_CLASS).stop().slideUp('fast');if(e.state==null&&EPSON.checkoutData&&EPSON.checkoutData.user.has_password==="user"){window.history.back();}else if(e.state==null||e.state=='step1'){$('#step1').addClass(config.isOpenClass).find(config.SECTION_STEP_CLASS).stop().slideDown('fast');}else if(e.state=='step2'){$('#step2').addClass(config.isOpenClass).find(config.SECTION_STEP_CLASS).stop().slideDown('fast');}else if(e.state=='step3'){$('#step3').addClass(config.isOpenClass).find(config.SECTION_STEP_CLASS).stop().slideDown('fast');}else if(e.state=='step4'){$('#step4').addClass(config.isOpenClass).find(config.SECTION_STEP_CLASS).stop().slideDown('fast');}});$(document).on('click','.btn-show-address',function(e){$('.addressinput').slideDown();$(this).removeClass('btn-blue');$(this).addClass('btn-grey');});var Checkout=EPSON.createClass({init:function(){if($(config.SECTION_CLASS).length&&!$('#checkoutConfirmationScreen').length){this.formIsProcessing=false;this.addObjects();this.addHandlers();this.stickyHeader();this.ready();history.pushState('step'+EPSON.checkoutData.currentStep,null,'#step'+EPSON.checkoutData.currentStep);}},addObjects:function(){var that=this;$('.popup-address-lookup').each(function(){that.addressSearchPopup=new EPSON.Popup(this);});that.addresses=new EPSON.checkoutAddress(that.addressSearchPopup);},addHandlers:function(){var that=this;$(config.SECTION_CLASS).on('formProcess','form',function(){if(that.formIsProcessing===false){that.form=this;that.formData=$(that.form).serializeArray();EPSON.checkoutData.currentStep=$(this).data('step');that.formAjax();}});$(config.SECTION_CLASS).on('click','.edit-link',function(e){e.preventDefault();var step=$(this).attr('href');EPSON.checkoutData.currentStep=parseInt(step.substring(step.length-1));that.outputSection();that.toggleSection();});$(function(){$(document).on('click','#step'+EPSON.checkoutData.currentStep+' .btn-show-address',function(e){$('#step'+EPSON.checkoutData.currentStep+' .addressinput').slideDown();});});$(config.SECTION_CLASS).on('change','input[name="has_password"]:checked',function(){that.triggerPassword($(this).val());});$(config.SECTION_CLASS).on('keyup','.address-lookup input',function(){var value=this.value;if(value.length>0){$(config.SECTION_CLASS).find('.popup_maker').addClass('is-ready');}
else{$(config.SECTION_CLASS).find('.popup_maker').removeClass('is-ready');}});$(config.SECTION_CLASS).on('click','.address-lookup .popup_maker',function(){if(!$(this).hasClass('is-ready')){return false;}});$('#addressList').on('click','.address-list label',function(){$('#step'+EPSON.checkoutData.currentStep+' .addressinput').slideDown();$('#step'+EPSON.checkoutData.currentStep+' .btn-show-address').removeClass('btn-blue');$('#step'+EPSON.checkoutData.currentStep+' .btn-show-address').addClass('btn-grey');});$(config.SECTION_CLASS).on('change','select.countrycodeDynamicSelect',function(){that.handleRegions(this,true);if(EPSON.checkoutData.basket.hasrobot&&$(config.SECTION_CLASS).find('.dynamicIdentificationField').length>0){var businessCustomer=$(config.SECTION_CLASS).find('input[name="businesscustomer"]:checked').val();that.handleIdentification(this.value,1);}});$(config.SECTION_CLASS).on('change','select[name="birthdate_day"], select[name="birthdate_month"], select[name="birthdate_year"], input[name="telephone"], input[name="mobile"], input[name="email"]',function(){var name=$(this).attr('name');name=name=='email'?'login_email_address':name;EPSON.checkoutData.user[name]=$(this).val();});if($(config.SECTION_CLASS).find('input[name="businesscustomer"]:checked').val()=='1'){$(config.SECTION_CLASS+' .columns.bc-no-fields').hide();$(config.SECTION_CLASS+' .columns.bc-yes-fields').show();}
$(config.SECTION_BOTH_CLASS).on('change','input[name="businesscustomer"]:checked',function(){that.triggerBusinessCustomer($(this).val());});$(config.SECTION_STEP_CLASS).on('change','input[name="terms"]',function(){if($(this).is(':checked')){var parent=$(this).parent().find('.validate-icons-wrap');parent.removeClass('error');parent.parent().find('label.error').remove();}
if($(config.SECTION_STEP_CLASS).find('input[name="terms"]').is(':checked')){that.triggerCCTypeSelect('enable');}
else{that.triggerCCTypeSelect('disable');}});$(config.SECTION_STEP_CLASS).on('click','select[name="cc_type"]:disabled + .select',function(){$(config.SECTION_STEP_CLASS).find('input[name="terms"]').each(function(){var parent=$(this).parent().find('.validate-icons-wrap');parent.removeClass('error');parent.parent().find('label.error').remove();if(!$(this).is(':checked')){parent.addClass('error');var errorLabel=$('<label class="error" for="'+$(this).attr('id')+'">'+$(this).data('error')+'</label>');errorLabel.insertAfter(parent);var jQheader=$(".site-header__checkout");var height=jQheader.hasClass("stuck")?jQheader.height():0;$("html,body").animate({scrollTop:$(this).closest(".terms-conditions").offset().top-height});}});});$(config.SECTION_STEP_CLASS).on('accordionopen','[data-id="CC"]',function(){if(!$(this).find("iframe").length){that.triggerHostedCheckoutIframe();}});function deleteToken(){$("a.delete_token").each(function()
{var id=$(this).attr("data-id"),section=$("#deletetoken"+id),popup=new EPSON.Popup(section,true);section.find(".token_cancel").on("click",function(){popup.hide();return false;});section.find(".token_confirm").on("click",function()
{popup.hide();var row=$("#cc_tokens tr.token_row[data-id="+id+"]");if(row.length==1)
{row.remove();if(!$("#cc_tokens input:checked").length)$($("#cc_tokens input")[0]).trigger("click");if($("#cc_tokens tr.token_row").length==0)$("#cc_tokens_table, #cc_button_pay_with_token").remove();$.ajax("/checkout/payment?delete_token="+id);}
return false;});});setInterval(function(){$(".popup_delete_token").css("max-width","460px");},1000);};$(config.SECTION_STEP_CLASS).on('click','.payment-accordion h5',function(){that.triggerPaymentAccordion($(this));deleteToken();});$(config.SECTION_STEP_CLASS).on("change",'input[name="cc_remember"]',function()
{var on=($(this)[0]&&$(this)[0].checked);$.ajax("/checkout/payment?set_cc_remember="+(on?1:0));});var last_clicked_button=null;$(config.SECTION_STEP_CLASS).on("click","button",function(){last_clicked_button=$(this).attr("id");});$(config.SECTION_STEP_CLASS).on('submit validationcheck','.checkout-form-step4',function(e)
{var errors=0;var jQfirstError;$(config.SECTION_STEP_CLASS).find('input[name="terms"], input[name="data_protection"]').each(function(){var parent=$(this).parent().find('.validate-icons-wrap');parent.removeClass('error');parent.parent().find('label.error').remove();if(!$(this).is(':checked')&&$(this).val()!='1'){parent.addClass('error');var errorLabel=$('<label class="error" for="'+$(this).attr('id')+'">'+$(this).data('error')+'</label>');errorLabel.insertAfter(parent);if(!jQfirstError){jQfirstError=$(this);}
errors++;}});if(!errors&&last_clicked_button=="cc_button_new_card"){$("#cc_tokens").hide(500);$("#cc_new_card").show(500);return false;}
if(!errors&&last_clicked_button=="cc_button_pay_with_token")$("#cc_button_new_card").remove();last_clicked_button=null;if(errors>0){if(jQfirstError){$("html,body").animate({scrollTop:(jQfirstError.offset().top
-jQfirstError.height()
-$(".site-header__checkout").height())});}
return false;}else if(e.type==="submit"){$(this).addClass('is-disabled');}});},stickyHeader:function(){if($('.site-header__checkout').length){var sticky=new Waypoint.Sticky({element:$('.site-header__checkout')[0]});}},ready:function(){this.outputSection();$(config.SECTION_CLASS+'#step'+EPSON.checkoutData.currentStep).addClass(config.isOpenClass).find(config.SECTION_STEP_CLASS).show();}});Checkout.prototype.formAjax=function(form){var that=this,formURL=$(that.form).attr('action'),formMethod=$(that.form).attr('method');that.ajaxEvent('loading');$.ajax({url:formURL,type:formMethod,data:$(that.form).serialize(),}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
that.ajaxEvent('complete');that.ajaxEvent('success',data);}).fail(function(){that.ajaxEvent('complete');that.ajaxEvent('error');});};Checkout.prototype.ajaxEvent=function(eventName,returnedData){var that=this,triggerName='formProcessAjax'+eventName.substr(0,1).toUpperCase()+eventName.slice(1);switch(eventName){case'success':if(returnedData.success===false){if(returnedData.redirectURI){window.location.href=returnedData.redirectURI;return false;}
if($(that.form).find('.address-list-wrap').length){var non_address_fields=['identification','telephone','mobile','email','birthdate_day','birthdate_month','birthdate_year'],proceed=true;for(var i=0;i<non_address_fields.length;i++){if(returnedData.errors.hasOwnProperty(non_address_fields[i])&&$('.checkout-form-step'+EPSON.checkoutData.currentStep).find('input[name="'+non_address_fields[i]+'"]').length){proceed=false;}}
if(proceed){var address_id=0;for(var i=0;i<that.formData.length;i++){if(that.formData[i].name=='delivery_address'||that.formData[i].name=='billing_address'){address_id=parseInt(that.formData[i].value);break;}}
if(address_id!=0){$(config.SECTION_CLASS+'.is-open').find('a.do-addr-overlay[data-address-id="'+address_id+'"]').trigger('click');that.form=$(config.SECTION_CLASS+'.is-open').find('form.address-form-element');}}}
$(that.form).find('.form-error-ajax').remove();if(returnedData.message)
$(that.form).prepend('<p class="form-error-ajax">'+returnedData.message+'</p>');if(returnedData.toggle_password){$(config.SECTION_CLASS).find('input[name="has_password"]#user').prop('checked',true);that.triggerPassword('user');}
$(that.form).find('.validate-icons-wrap').removeClass('error');$(that.form).find('label.error').remove();if(returnedData.errors){$(window).scrollTop($('a[name="step'+EPSON.checkoutData.currentStep+'top"]').offset().top-$('.site-header').height()-10);var errors=returnedData.errors;for(var error in errors)
{if(errors.hasOwnProperty(error))
{var element=$(that.form).find('[name="'+error+'"]');if(element&&$(element).attr('type')!='hidden'){if($(element).attr('type')=='radio'){var parent=$(element).parent().parent();}else if(error=='upsaccesspointzipcode'){var parent=$(element).parent().next('.validate-icons-wrap');parent.addClass('error');}else if(error=='restrict'){alert(errors[error]);this.ajaxEvent(eventName,$.extend({},returnedData,{errors:null,success:true}));return;}else{var parent=$(element).parent().find('.validate-icons-wrap');parent.addClass('error');}
var errorLabel=$('<label class="error" for="'+error+'">'+errors[error]+'</label>');parent.next('label.error').remove();errorLabel.insertAfter(parent);}
$('.addressinput').slideDown();$('.address-list-item').each(function()
{$(this).find('label.error').remove();$(this).find('[name="delivery_address"]:checked').each(function()
{var readOnlyElement=$(this).parent().find('address');if(readOnlyElement.length!=0)
{var errorLabel=$('<label class="error">'+errors[error]+'</label>');errorLabel.insertAfter(readOnlyElement);}});});$('.ups-address-info').each(function()
{var errorLabel=$('<label class="error">'+errors[error]+'</label>');errorLabel.appendTo($(this));});}}}
$('html, body').animate({scrollTop:($('.error').first().offset().top-200)},200);}
else if(returnedData.success===true){that.returnedData=returnedData;that.form='.checkout-form-step'+EPSON.checkoutData.currentStep;switch(EPSON.checkoutData.currentStep){case 1:that.processResultsStep1();history.pushState('step2',null,'#step2');break;case 2:that.processResultsStep2();history.pushState('step3',null,'#step3');break;case 3:that.processResultsStep3();history.pushState('step4',null,'#step4');break;}}
if(returnedData.redirectURI){window.location.href=returnedData.redirectURI;return false;}
break;case'error':alert('AJAX ERROR');break;case'loading':that.formIsProcessing=true;$(that.form).addClass('is-disabled');break;case'complete':that.formIsProcessing=false;$(that.form).removeClass('is-disabled');break;}
$(that.form).trigger(triggerName,returnedData);};Checkout.prototype.processResultsStep1=function(){var that=this,isUser=that.formData[2]['value']=='user'?true:false;var templateType=(that.returnedData.addresses.length>0)?'User':'Guest';if(isUser===false&&EPSON.config.cc=='it'){templateType='Guest';}
if(!EPSON.checkoutData.delivery_id)
EPSON.checkoutData.delivery_id=0;EPSON.checkoutData.currentStep++;EPSON.checkoutData.addresses=that.returnedData.addresses;EPSON.checkoutData.user=that.returnedData.user;EPSON.checkoutData.basket=that.returnedData.basket;EPSON.checkoutData.paymentMethods=that.returnedData.paymentMethods;var obj=EPSON.checkoutData.paymentMethods,key,countPM=0;for(key in obj){if(obj.hasOwnProperty(key)&&obj[key]===true)countPM++;}
EPSON.checkoutData.paymentMethodsMultiple=countPM>1;EPSON.checkoutData.isUser=isUser;EPSON.checkoutData.journey=templateType;if(that.returnedData.del_address){EPSON.checkoutData.del_address=that.returnedData.del_address;}
delete EPSON.checkoutData.delivery_id;delete EPSON.checkoutData.billing_id;delete EPSON.checkoutData.inv_address;if(that.returnedData.delivery_address.length&&that.returnedData.delivery_address.ups_id){EPSON.checkoutData.delivery_id=that.returnedData.delivery_address.ups_id;EPSON.checkoutData.delivery_address=that.returnedData.delivery_address;}
that.outputSection();that.toggleSection();that.formData=null;that.returnedData=null;};Checkout.prototype.processResultsStep2=function(){var that=this;EPSON.checkoutData.currentStep++;if(that.returnedData.delivery_address.id){EPSON.checkoutData.delivery_id=parseInt(that.returnedData.delivery_address.id);}
if(that.returnedData.delivery_address.ups_id){EPSON.checkoutData.delivery_id=that.returnedData.delivery_address.ups_id;}
EPSON.checkoutData.user=that.returnedData.user;EPSON.checkoutData.addresses=that.returnedData.addresses;EPSON.checkoutData.delivery_address=that.returnedData.delivery_address;EPSON.checkoutData.del_address=that.returnedData.del_address;if(EPSON.checkoutData.journey=='Guest'&&EPSON.config.cc!='it'){EPSON.checkoutData.journey='User';}
that.redrawBasketContents();that.formData=null;that.returnedData=null;};Checkout.prototype.processResultsStep3=function(){var that=this;EPSON.checkoutData.currentStep++;if(that.returnedData.billing_id){EPSON.checkoutData.billing_id=parseInt(that.returnedData.billing_id);}
EPSON.checkoutData.inv_address=that.returnedData.inv_address;EPSON.checkoutData.addresses=that.returnedData.addresses;that.redrawBasketContents();that.formData=null;that.returnedData=null;};Checkout.prototype.preOutputChecks=function(){if(!EPSON.checkoutData.journey)
EPSON.checkoutData.journey=EPSON.checkoutData.addresses.length>0?'User':'Guest';switch(EPSON.checkoutData.currentStep){case 1:EPSON.checkoutData.journey=(EPSON.checkoutData.isUser)?'User':'Guest';break;case 2:if(EPSON.checkoutData.allAddresses){EPSON.checkoutData.addresses=EPSON.checkoutData.allAddresses;}
EPSON.checkoutData.journey=EPSON.checkoutData.addresses.length>0?'User':'Guest';if(EPSON.checkoutData.journey=='User'&&EPSON.checkoutData.delivery_id>0){var addresses=EPSON.checkoutData.addresses;for(var i=0;i<addresses.length;i++){if(addresses[i].hasOwnProperty('address_id')){var address_id=parseInt(addresses[i].address_id);if(address_id==EPSON.checkoutData.delivery_id){var delAddr=EPSON.checkoutData.delivery_address;if(addresses[i].hasOwnProperty('nickname'))delAddr.nickname=addresses[i].nickname;addresses[i]=delAddr;break;}}}
EPSON.checkoutData.addresses=addresses;}
break;case 3:EPSON.checkoutData.journey=EPSON.checkoutData.addresses.length>0?'User':'Guest';if(EPSON.checkoutData.basket.hasrobot&&EPSON.checkoutData.user.SAP){EPSON.checkoutData.allAddresses=EPSON.checkoutData.addresses;EPSON.checkoutData.addresses=EPSON.checkoutData.addresses.filter(function(address){return address.is_default_billing;});}
break;}
this.toggleEditLink();};Checkout.prototype.postOutputChecks=function(){var that=this;switch(EPSON.checkoutData.currentStep){case 1:break;case 2:if(EPSON.checkoutData.user.header_text){that.amendHeaderText();}
if(EPSON.checkoutData.delivery_id!=0){$(config.SECTION_CLASS+'#step2').find('input[name="delivery_address"]').filter('[value="'+EPSON.checkoutData.delivery_id+'"]').prop('checked',true);}
if(!$(config.SECTION_CLASS+'#step2').find('input[name="delivery_address"]').is(':checked')){$(config.SECTION_CLASS+'#step2').find('input[name="delivery_address"]').first().prop('checked',true);}
if(EPSON.checkoutData.user.birthdate_day){$(config.SECTION_CLASS+'#step2').find('select[name="birthdate_day"]').val(EPSON.checkoutData.user.birthdate_day);}
if(EPSON.checkoutData.user.birthdate_month){$(config.SECTION_CLASS+'#step2').find('select[name="birthdate_month"]').val(EPSON.checkoutData.user.birthdate_month);}
if(EPSON.checkoutData.user.birthdate_year){$(config.SECTION_CLASS+'#step2').find('select[name="birthdate_year"]').val(EPSON.checkoutData.user.birthdate_year);}
if(EPSON.checkoutData.basket.accesspoint){that.upsAccess=new EPSON.UPSAccessPoint();var addrLookup=$(config.SECTION_CLASS).find('.address-lookup input');if(addrLookup.length>0&&addrLookup.val().length>0)
$(config.SECTION_CLASS).find('.popup_maker').addClass('is-ready');}
if(EPSON.checkoutData.basket.hasrobot){if(EPSON.checkoutData.del_address.d_countrycode){$(config.SECTION_CLASS+'#step2').find('select[name="countrycode"]').val(EPSON.checkoutData.del_address.d_countrycode);}}
if(EPSON.checkoutData.isUser&&EPSON.checkoutData.journey=="Guest"){if($(config.SECTION_CLASS).find('input[name="businesscustomer"]:checked').val()=='1'){$(config.SECTION_CLASS+' .columns.bc-no-fields').hide();$(config.SECTION_CLASS+' .columns.bc-yes-fields').show();}}
if(EPSON.checkoutData.del_address){if(EPSON.checkoutData.del_address.telephone){$(config.SECTION_CLASS+'#step2').find('input[name="telephone"]').val(EPSON.checkoutData.del_address.telephone);}
if(EPSON.checkoutData.del_address.mobile){$(config.SECTION_CLASS+'#step2').find('input[name="mobile"]').val(EPSON.checkoutData.del_address.mobile);}
var dateparts=(EPSON.checkoutData.del_address.birthdate||"").match(/(\d{4})(\d{2})(\d{2})/);if(dateparts&&dateparts.length){$(config.SECTION_CLASS+'#step2').find('select[name="birthdate_year"]').val(dateparts[1]);$(config.SECTION_CLASS+'#step2').find('select[name="birthdate_month"]').val(dateparts[2]);$(config.SECTION_CLASS+'#step2').find('select[name="birthdate_day"]').val(dateparts[3]);}}
break;case 3:if(EPSON.checkoutData.billing_id!=0){$(config.SECTION_CLASS+'#step3').find('input[name="billing_address"]').filter('[value="'+EPSON.checkoutData.billing_id+'"]').prop('checked',true);}
if(!$(config.SECTION_CLASS+'#step3').find('input[name="billing_address"]').is(':checked')){$(config.SECTION_CLASS+'#step3').find('input[name="billing_address"]').first().prop('checked',true);}
break;case 4:if($('#double-your-order').length&&EPSON.checkoutData.user.isCUG==false){setTimeout(function(){$('#double-your-order').removeClass('is-invisible');$('<div class="double-order-overlay overlay"></div>').insertAfter('#double-your-order');},400);}
if($(config.SECTION_STEP_CLASS).find('input[name="terms"]').val()=='1'&&$(config.SECTION_STEP_CLASS).find('input[name="data_protection"]').val()=='1'){that.triggerCCTypeSelect('enable');}
else{that.triggerCCTypeSelect('disable');}
if(that.newBasketContents)
$(config.SECTION_STEP_CLASS).find('#checkoutBasket').html(that.newBasketHTML);break;}
$('form.has-address-lookup').each(function(){new EPSON.addressLookup(this,that.addressSearchPopup);});$(config.SECTION_CLASS+'#step'+EPSON.checkoutData.currentStep).find('select').each(function(){new EPSON.FieldSelect(this);});if($(config.SECTION_CLASS).find('select.countrycodeDynamicSelect').length>0){that.handleRegions($(config.SECTION_CLASS).find('select.countrycodeDynamicSelect'),false);}};Checkout.prototype.outputSection=function(){var append='';this.preOutputChecks();if(EPSON.checkoutData.currentStep==2&&EPSON.checkoutData.basket.packstation){EPSON.checkoutData.journey='Guest';append='DE';}
if(EPSON.checkoutData.currentStep==2&&EPSON.checkoutData.basket.accesspoint){EPSON.checkoutData.journey='Guest';append='UPS';}
var template=$('#templateCheckoutStep'+EPSON.checkoutData.currentStep+EPSON.checkoutData.journey+append).html();if(EPSON.checkoutData.currentStep==4){template=$('#templateCheckoutStep4').html();}
var html=Mustache.to_html(template,EPSON.checkoutData);$(config.SECTION_CLASS+'#step'+EPSON.checkoutData.currentStep).find(config.SECTION_STEP_CLASS).html(html);this.postOutputChecks();this.triggerFormValidation();this.checkoutNavigation();};Checkout.prototype.checkoutNavigation=function(){var nav=$('.checkout-nav');nav.find('li').removeClass('is-active is-complete');nav.find('li[data-step="'+EPSON.checkoutData.currentStep+'"]').addClass('is-active');if(EPSON.checkoutData.user){nav.find('li[data-step="1"]').addClass('is-complete');}
if(EPSON.checkoutData.delivery_id&&EPSON.checkoutData.delivery_id!=0){nav.find('li[data-step="2"]').addClass('is-complete');}
if(EPSON.checkoutData.billing_id&&EPSON.checkoutData.billing_id!=0){nav.find('li[data-step="3"]').addClass('is-complete');}};Checkout.prototype.triggerPassword=function(value){if(value=='user'){$('.do-toggle-password').stop().slideDown('fast',function(){$(this).find('input#password').trigger('focus');});}else{$('.do-toggle-password').stop().slideUp('fast');}};Checkout.prototype.triggerBusinessCustomer=function(value){if(value=='1'){$(config.SECTION_BOTH_CLASS).find('.columns.bc-no-fields').hide();$(config.SECTION_BOTH_CLASS).find('.columns.bc-yes-fields').show();}else{$(config.SECTION_BOTH_CLASS).find('.columns.bc-no-fields').show();$(config.SECTION_BOTH_CLASS).find('.columns.bc-yes-fields').hide();}
if(EPSON.checkoutData.basket.hasrobot&&$(config.SECTION_CLASS).find('.dynamicIdentificationField').length>0){var businessCustomer=$(config.SECTION_CLASS).find('input[name="businesscustomer"]:checked').val();this.handleIdentification();}};Checkout.prototype.triggerPaymentAccordion=function(selected){if($(selected).hasClass('is-active'))return false;var step=$(config.SECTION_STEP_CLASS);step.find('.checkout-form-step4').trigger("validationcheck");if(step.parent().parent().find("label.error").length){return;}
step.find('.accordion-content').stop(true,true).slideUp('fast',function(){$(this).trigger('accordionclose');});step.find('h5').removeClass('is-active');$(selected).addClass('is-active').next('.accordion-content').stop(true,true).slideDown('fast',function(){$(this).trigger('accordionopen');});};Checkout.prototype.toggleSection=function(){$(config.SECTION_CLASS).removeClass(config.isOpenClass).find(config.SECTION_STEP_CLASS).stop().slideUp('fast').find("label.error").remove();$(config.SECTION_CLASS).find('.address-overlay').slideUp(400,function(){$(this).html('');});$(config.SECTION_CLASS+'#step'+EPSON.checkoutData.currentStep).addClass(config.isOpenClass).find(config.SECTION_STEP_CLASS).stop().slideDown('fast',function(){$(window).scrollTop($(config.SECTION_CLASS+'#step'+EPSON.checkoutData.currentStep).offset().top-$('.site-header').height()-10);});};Checkout.prototype.toggleEditLink=function(){$(config.SECTION_CLASS+'#step1,'
+config.SECTION_CLASS+'#step2,'
+config.SECTION_CLASS+'#step3,'
+config.SECTION_CLASS+'#step4').find('h2 .edit-link').remove();if(EPSON.checkoutData.currentStep==1&&EPSON.checkoutData.isUser==true){$(config.SECTION_CLASS+'#step2').find('h2').append(EPSON.supplant(config.EDIT_LINK_HTML,{step:2}));if(EPSON.checkoutData.delivery_id&&EPSON.checkoutData.delivery_id!=0){$(config.SECTION_CLASS+'#step3').find('h2').append(EPSON.supplant(config.EDIT_LINK_HTML,{step:3}));}
if(EPSON.checkoutData.billing_id&&EPSON.checkoutData.billing_id!=0){$(config.SECTION_CLASS+'#step4').find('h2').append(EPSON.supplant(config.EDIT_LINK_HTML,{step:4}));}}
if(EPSON.checkoutData.currentStep>1){$(config.SECTION_CLASS+'#step1').find('h2').append(EPSON.supplant(config.EDIT_LINK_HTML,{step:1}));}
if(EPSON.checkoutData.currentStep>2){$(config.SECTION_CLASS+'#step2').find('h2').append(EPSON.supplant(config.EDIT_LINK_HTML,{step:2}));}
if(EPSON.checkoutData.currentStep>3){$(config.SECTION_CLASS+'#step3').find('h2').append(EPSON.supplant(config.EDIT_LINK_HTML,{step:3}));}};Checkout.prototype.triggerCCTypeSelect=function(action){var ccType=$(config.SECTION_STEP_CLASS).find('select[name="cc_type"]');switch(action){case'enable':if(ccType.is(':disabled')){ccType.prop('disabled',false);if(ccType.val()){}}
break;case'disable':if(!ccType.is(':disabled')){ccType.prop('disabled',true);$('#paymentIframe').html('');}
break;}};Checkout.prototype.triggerHostedCheckoutIframe=function(){$.ajax({url:EPSON.config.rlc+'/checkout/payment',type:'POST',data:{'paymentmethod[hc]':'1'}}).done(function(data){if(typeof data==='string'){try{data=JSON.parse(data);}catch(ignore){console.warn("Checkout#triggerHostedCheckoutIframe() Failed to parse response as JSON. Given response:\n%o",data);data={};}}
if(data.hasOwnProperty('redirect')){document.location=data.redirect;return false;}
if(data.hasOwnProperty('iframe')){$('<iframe>',{src:data.iframe}).appendTo('#hostedCheckoutIframe');}}).fail(function(){$('#loadHostedCheckout').removeClass('is-loading');});}
Checkout.prototype.triggerFormValidation=function(){switch(EPSON.checkoutData.currentStep){case 1:this.formValidation('.checkout-form-step1');break;case 2:if(EPSON.checkoutData.journey=='User'){this.formValidation('.checkout-form-step2');}else{this.formValidation('.checkout-form-step2-guest');var bCustomerChecked=(EPSON.checkoutData.del_address)?EPSON.checkoutData.del_address.businesscustomer:0;if(EPSON.checkoutData.del_address&&EPSON.checkoutData.del_address.d_businesscustomer_b)bCustomerChecked=1;this.triggerBusinessCustomer(bCustomerChecked);}
break;case 3:if(EPSON.checkoutData.journey=='User'){this.formValidation('.checkout-form-step3');}else{this.formValidation('.checkout-form-step3-guest');var bCustomerChecked=(EPSON.checkoutData.inv_address)?EPSON.checkoutData.inv_address.businesscustomer:0;this.triggerBusinessCustomer(bCustomerChecked);}
break;}};Checkout.prototype.formValidation=function(formElem){$(formElem).on('submit',function(e){e.preventDefault();if($(this).hasClass('address-form-element')){$(this).trigger('addressFormProcess');}else{$(this).trigger('formProcess');}});};Checkout.prototype.redrawBasketContents=function(){var that=this;that.formIsProcessing=true;$(that.form).addClass('is-disabled');$.get(EPSON.config.rlc+'/checkout/basketDisplay',function(data){that.newBasketContents=true;that.newBasketHTML=data;that.formIsProcessing=false;$(that.form).removeClass('is-disabled');that.outputSection();that.toggleSection();});};Checkout.prototype.handleRegions=function(select,hasChanged){if(Object.size(EPSON.checkoutRegionData)>0&&$('.regionDynamicSelect').length>0){var that=this,val=$(select).val(),countries=['IT','ES','PT'],$region=$('.regionDynamicSelect'),wrap=$region.parent().parent();$region.empty();if(countries.indexOf(val)<0||!EPSON.checkoutRegionData.hasOwnProperty(val)){$(wrap).hide();}
else{for(var key in EPSON.checkoutRegionData[val]){$region.append('<option value="'+key+'">'+EPSON.checkoutRegionData[val][key]+'</option>');}
if(hasChanged)$region.attr('data-selected','');$region.data('epsonfield').drawOptions();$region.data('epsonfield').update($region.attr('data-selected'));$(wrap).show();}}};Checkout.prototype.handleIdentification=function(value,BC){var $element=$(config.SECTION_CLASS).find('.dynamicIdentificationField');if(['IT','ES','PT'].indexOf(value)>-1){$.each($element,function(){var el=$(this);var cc=el.data('robotcc');if(cc.indexOf(value)>-1){el.show();}else{el.hide();}});}
else{$element.hide();}};Checkout.prototype.amendHeaderText=function(){var text=EPSON.checkoutData.user.header_text;if(!$('.checkout__header').find('.user-name').length)$(text).appendTo('.checkout__header');};return Checkout;}());Object.size=function(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key))size++;}
return size;};var UPSPopup;$(function(){var checkoutClass=new EPSON.checkout();});;$(function(){if($(".create-account-form").length){var currentEmail=$(".create-account-form").find('input[name="email"]').val();$(".create-account-form").on('submit',function(e){var form=this;var messages={password:$(".create-account-form").find('input[name="password"]').data('error'),password2:$(".create-account-form").find('input[name="password2"]').data('error')};$(form).addClass('is-validating');$('label.error').remove();$('p.error').html('');var data=$(form).serialize();$.ajax({url:EPSON.config.cclc+'viewcon/corporatesite/myepson/registrationvalidationshort',type:'POST',data:data}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data.success==true){form.submit();}
else{$(form).removeClass('is-validating');for(var error in data.errors){if(data.errors.hasOwnProperty(error)){switch(error){case'password_confirm':var element=$(".create-account-form").find('input[name="password2"]'),elementID=element.attr('id'),message=element.data('error'),passwordConfirm=true;$('<label for="'+elementID+'" class="error">'+message+'</label>').insertAfter(element);break;case'email_confirm':var element=$(".create-account-form").find('input[name="email2"]'),elementID=element.attr('id'),message=element.data('error-confirm'),emailConfirm=true;if(!$('#'+elementID+'-error').length){$('<label for="'+elementID+'" class="error">'+message+'</label>').insertAfter(element);}
break;case'over16':case'privacy':var element=$(".create-account-form").find('input[name="'+error+'"]')
elementID=element.attr('id'),message=element.data('error'),$('p.privacy--error').html(message);break;default:if(error=='password2'&&passwordConfirm){}
else{var element=$(".create-account-form").find('[name="'+error+'"]'),elementID=element.attr('id'),message=messages[error];$('<label for="'+elementID+'" class="error">'+message+'</label>').insertAfter(element);}
break;}}}}}).fail(function(XMLHttpRequest,textStatus,errorThrown){console.log('Register form - AJAX error');$(form).removeClass('is-validating');});return false;});$(".create-account-form").validate({rules:{email:{equalTo:"#email_original",email:true,required:true},email2:{equalTo:"#email"}},messages:{email:{email:$(".create-account-form").find('input[name="email"]').data('error'),equalTo:$(".create-account-form").find('input[name="email"]').data('error-changed'),required:$(".create-account-form").find('input[name="email"]').data('error-required'),},email2:$(".create-account-form").find('input[name="email2"]').data('error-confirm')}});$('.create-account-form input[name="email"]').on('keyup',function(){$(this).valid()});}});;EPSON.resourcesPaginating=(function(){'use strict';var config={ATTR_PAGE:'data-page',CSS_CHECKED:'is-checked',CSS_DISABLED:'is-disabled',CSS_SHOWALL:'pagination-showall',SEL_PAGINATION:'.pagination-results',VAL_PERPAGE:12,};return EPSON.createClass(EPSON.Observer,{init:function(){if(EPSON.resourcesData.query_string.limit==12){this.page=EPSON.resourcesData.query_string.offset/EPSON.resourcesData.query_string.limit;}else{this.page=-1;}
this.perPage=config.VAL_PERPAGE;this.total=EPSON.resourcesData.total;EPSON.resourcesPaginating.parent.init.call(this);this.addObjects();this.addHandlers();},addObjects:function(){var pageRender=new EPSON.resourcesPaginationRender();this.pageRender=pageRender;},addHandlers:function(){var that=this;$(config.SEL_PAGINATION).on('click','a',function(e){that.handlePageClick(this,e.preventDefault.bind(e));});$('.search-results__info').on('click','.'+config.CSS_SHOWALL,function(e){that.handlePageClick(this,e.preventDefault.bind(e));});},handlePageClick:function(link,preventDefault){var jQlink=$(link),attr='',first='',amount=0,noclick='.'+config.CSS_CHECKED+',.'+config.CSS_DISABLED;preventDefault();window.scrollTo(0,jQlink.closest('section').offset().top-100);if(jQlink.hasClass(config.CSS_SHOWALL)){this.page=this.page<0?0:-1;EPSON.resourcesData.query_string.offset=0;EPSON.resourcesData.query_string.limit=this.page<0?EPSON.resourcesData.total:config.VAL_PERPAGE;this.trigger('ready');}else if(!jQlink.is(noclick)){attr=jQlink.attr(config.ATTR_PAGE);first=attr[0]||attr.charAt(0);amount=+attr.slice(1);if(first==='+'){this.page=this.page+amount;}else if(first==='-'){this.page=this.page-amount;}else if(!isNaN(first)){this.page=+attr;}
var offset=this.page*this.perPage;offset=offset>EPSON.resourcesData.total?EPSON.resourcesData.total:offset;EPSON.resourcesData.query_string.offset=offset;this.trigger('ready');}},render:function(){var data={};data.page=this.page;if(EPSON.resourcesData.query_string.limit&&EPSON.resourcesData.total==EPSON.resourcesData.query_string.limit){data.page=-1;}
data.perPage=this.perPage;data.total=EPSON.resourcesData.total;data.isShowAll=(data.page===-1);this.pageRender.render(data);}});}());;(function(){'use strict';var config={CSS_SHOWING:'pagination-count',CSS_PAGES:'pagination-results',HTML_PAGELIST:'<ul class="pagination-pages">{links}'+'<\/ul>',HTML_PAGE:'<li><a href="#" '+'data-page="{page}">{render}<\/a><\/li>',HTML_CURRENT:'<li><a href="#" class="is-checked">'+'{render}<\/a><\/li>',HTML_GAP:'<li>&hellip;<\/li>',HTML_PREV:'<li><a href="#" data-page="-1">'+'&lt;<\/a><\/li>',HTML_NEXT:'<li><a href="#" data-page="+1">'+'&gt;<\/a><\/li>',HTML_NOPREV:'<li><a href="#" class="is-disabled" '+'data-page="-1">&lt;<\/a><\/li>',HTML_NONEXT:'<li><a href="#" class="is-disabled" '+'data-page="+1">&gt;<\/a><\/li>',HTML_SHOWALL:'<a href="#" class="btn pagination-showall">'+'{all}</a>',VAL_DISPLAY:3,VAL_EDGES:1};EPSON.resourcesPaginationRender=EPSON.createClass({init:function(){this.findElements();},findElements:function(){this.showing=$('.'+config.CSS_SHOWING).get();this.pages=$('.'+config.CSS_PAGES).get();},render:function(data){this.data=data;this.renderShowing();this.renderPages();},renderShowing:function(){var pagination=this.pagination,range=this.data.perPage,startPage=(this.data.page*range)+1,endPage=(this.data.page*range)+range;startPage=startPage>this.data.total?this.data.total:startPage;endPage=endPage>this.data.total?this.data.total:endPage;if(this.data.page<0){startPage=1;endPage=this.data.total;}
$(this.showing).html(EPSON.supplant(EPSON.i18n.nowshowing,{startPage:'<strong>'+startPage+'</strong>',endPage:'<strong>'+endPage+'</strong>',totalCount:this.data.total}));},renderPages:function(){var prev='',next='',pages='';if(!this.data.isShowAll){prev=this.data.page===0?config.HTML_NOPREV:config.HTML_PREV;pages=this.getPages();next=this.data.page===this.getMaxPages()-1?config.HTML_NONEXT:config.HTML_NEXT;}
$(this.pages).html(EPSON.supplant(config.HTML_PAGELIST,{links:[prev,pages,next].join('')})+this.getShowAll());},getInterval:function(){var current=this.data.page,display=config.VAL_DISPLAY,half=display/2,total=this.getMaxPages();return{start:Math.ceil(current>half?Math.max(Math.min(current-half,total-display),0):0),end:Math.ceil(current>half?Math.min(current+half,total):Math.min(display,total))};},generatePages:function(){var i=0,end=0,begin=0,interval=this.getInterval(),links=[],edges=config.VAL_EDGES,pages=this.getAllPages(),total=this.getMaxPages();if(interval.start>0&&edges>0){end=Math.min(edges,interval.start);for(i=0;i<end;i+=1){links.push(pages[i]);}
if(edges<interval.start&&(interval.start-edges!==1)){links.push(-1);}else if(interval.start-edges===1){links.push(pages[edges]);}}
for(i=interval.start;i<interval.end;i+=1){links.push(pages[i]);}
if(interval.end<total&&edges>0){if(total-edges>interval.end&&total-edges-interval.end!==1){links.push(-1);}else if(total-edges-interval.end===1){links.push(pages[interval.end]);interval.end+=1;}
begin=Math.max(total-edges,interval.end);for(i=begin;i<total;i+=1){links.push(pages[i]);}}
return links;},getPages:function(){var current=this.data.page;return this.generatePages().map(function(page){var html=config.HTML_GAP,base=page===current?config.HTML_CURRENT:config.HTML_PAGE;if(page>=0){html=EPSON.supplant(base,{page:page,render:page+1});}
return html;}).join('');},getShowAll:function(){var showAll='',text=this.data.page<0?'showless':'showall';if(this.getMaxPages()>1){showAll=EPSON.supplant(config.HTML_SHOWALL,{all:EPSON.i18n[text]});$('.search-results__info .pagination-showall').text(EPSON.i18n[text]);}else{$('.search-results__info .pagination-showall').hide();}
return showAll;},getMaxPages:function(){return Math.ceil(this.data.total/this.data.perPage);},getAllPages:function(){var pages=[],total=this.getMaxPages(),i=0;while(i<total){pages.push(i);i+=1;}
return pages;},});}());;EPSON.resourcesLoop=(function(){return EPSON.createClass({init:function(element){this.container=element;this.addHandlers();},addHandlers:function(){var that=this;},draw:function(){var template=$('#resourcesTemplateResult').html(),output='';var i=0;while(i<EPSON.resourcesData.results.length){EPSON.resourcesData.results[i].thumbnail_b=(EPSON.resourcesData.results[i].thumbnail_s!="false");EPSON.resourcesData.results[i][EPSON.resourcesData.results[i].asset_type_s+'_b']=true;output+=Mustache.to_html(template,EPSON.resourcesData.results[i]);i++;}
$(this.container).html(output);},});}());EPSON.imagegalleryLoop=(function(){return EPSON.createClass({init:function(element){this.container=element;this.addHandlers();},addHandlers:function(){var that=this;},draw:function(){var template=$('#imagegalleryTemplateResult').html(),output='';var i=0;while(i<EPSON.ImagesData.results.length){EPSON.ImagesData.results[i].thumbnail_b=(EPSON.ImagesData.results[i].thumbnail_s!="false");EPSON.ImagesData.results[i][EPSON.ImagesData.results[i].asset_type_s+'_b']=true;output+=Mustache.to_html(template,EPSON.ImagesData.results[i]);i++;}
$(this.container).html(output);},});}());;EPSON.resourcesSidebar=(function(){return EPSON.createClass({init:function(element){this.sidebar=element;this.alwaysDisabled=new Array();this.firstGroupSelectedFilters=new Array();this.firstGroupFilters=new Array();this.addHandlers();},addHandlers:function(){var that=this;$(that.sidebar).on('change','input',function(){that.handleFilter(this);});},draw:function(){if(EPSON.resourcesData.facets){var that=this,template=$('#resourcesTemplateSidebar').html(),output='';var sortable=[],i=100000;$.each(EPSON.resourcesData.facets,function(key,value){var config=EPSON.resourcesData.facet_config.hasOwnProperty(key)?EPSON.resourcesData.facet_config[key]:false;if(config&&config.hasOwnProperty('priority')){var priority=parseInt(config.priority);}else{var priority=i;i++;}
sortable.push([key,priority]);});sortable.sort(function(a,b){return a[1]-b[1]});var facets={};for(var i=0;i<sortable.length;i++){var key=sortable[i][0];facets[key]=EPSON.resourcesData.facets[key];}
$.each(facets,function(key,info){if(key=='type'||key=='classification'||key=='device')return true;var data=new Object(),allFilters=[],disabledFilters=[],checkedFilters=[],facet_config=EPSON.resourcesData.facet_config[key];if(facet_config&&!that.isDisabledFacetLabel(key)){data.label=facet_config.label;data.display=facet_config.display;data.displayAllFilterChecked=!EPSON.resourcesData.query_string[key];data.displayAllFilter=true;data.displayAllFilterName=key;for(var key2 in info){if(info.hasOwnProperty(key2)){var filter=new Object();filter.type=facet_config.display;filter.name=key;if(facet_config.type=='boolean'){filter.value=key2==0?1:0;}else{filter.value=key2;}
filter.count=info[key2];filter.checked=that.checkIfChecked(filter.type,filter.name,filter.value);if(that.firstGroupSelectedFilters.indexOf(filter.value)==-1){if((filter.count==0&&filter.checked===false)){filter.disabled=true;}}
filter.label=(facet_config.values)?facet_config.values[key2]:key2;if(filter.label){if(EPSON.resourcesData.query_string.filter_count==0&&filter.disabled){that.alwaysDisabled.push(filter.name+':'+filter.value);}
if(filter.checked){checkedFilters.push(filter);}
if((EPSON.resourcesData.query_string.filter_count>0&&that.alwaysDisabled.indexOf(filter.name+':'+filter.value)<0)||(EPSON.resourcesData.query_string.filter_count==0&&!filter.disabled)){allFilters.push(filter);}}}}
if(checkedFilters.length>1||(allFilters.length>1&&allFilters.length>disabledFilters.length)){data.filters=allFilters;output+=Mustache.to_html(template,data);}}});$(this.sidebar).html(output);this.sidebarFilters();}},handleFilter:function(filter){var that=this,name=$(filter).attr('name'),type=$(filter).attr('type'),val=$(filter).val();this.firstGroupSelectedFilters=new Array();if(val=='all'){delete EPSON.resourcesData.query_string[name];this.firstGroupFilters=new Array();$('input[value="'+val+'"]').parents('.filter-options').find('input[value!="all"]').prop("checked",false);$('input[name="'+name+'"]').parents('.filter-options').find('input[type="checkbox"]').map(function(){if(this.value=='all'){return true;}
that.firstGroupFilters=that.removeFromArray(that.firstGroupFilters,this.value);}).get();}
else if(type!='checkbox'){$('input[value="'+val+'"]').parents('.filter-options').find('input[value="all"]').prop("checked",false);EPSON.resourcesData.query_string[name]=val;}
else if(type=='checkbox'){$('input[value="'+val+'"]').parents('.filter-options').find('input[value="all"]').prop("checked",false);if(EPSON.resourcesData.query_string[name]){var values=EPSON.resourcesData.query_string[name].split(',');if(filter.checked===true){values.push(val);that.firstGroupFilters.push(val);}else{values=that.removeFromArray(values,val);that.firstGroupFilters=that.removeFromArray(that.firstGroupFilters,val);}
if(!values.length){delete EPSON.resourcesData.query_string[name];}else{EPSON.resourcesData.query_string[name]=values.join(',');}}else{if(filter.checked===true){EPSON.resourcesData.query_string[name]=val;that.firstGroupFilters.push(val);}else{delete EPSON.resourcesData.query_string[name];that.firstGroupFilters=that.removeFromArray(that.firstGroupFilters,val);}}}
if(that.firstGroupFilters.length){$('input[value="'+that.firstGroupFilters[0]+'"]').parents('.filter-options').find('input[type="checkbox"]').map(function(){if(this.value=='all'){return true;}
that.firstGroupSelectedFilters.push(this.value);}).get();}
EPSON.resources.wasChecked=filter.checked;EPSON.resources.lastFilter={name:name,type:type,val:val};if(!$('input[name="'+name+'"]').parents('.filter-options').find('input[type="checkbox"]:checked').length){$('input[name="'+name+'"]').parents('.filter-options').find('input[value="all"]').prop("checked",true);}
$(that.sidebar).trigger('sidebarupdated');},removeFromArray:function(arr){var what,a=arguments,L=a.length,ax;while(L>1&&arr.length){what=a[--L];while((ax=arr.indexOf(what))!==-1){arr.splice(ax,1);}}
return arr;},sidebarFilters:function(){var that=this;var resourceItemActive=localStorage.getItem("resourceItemActive");that.collapsibles=new Array();$(this.sidebar).find('.filter-collapsible').each(function(){that.collapsibles.push(new EPSON.collapsibleToggle($(this),'h4','.filter-options','',false));var timeout;var jQelement=$(this);jQelement.on({"collapse-start":function(){if($('#resourcesSidebar .filter-collapsible.is-open').length>0){$('#resourcesSidebar').removeClass('no-height');}
$('#resourcesSidebar .filter-collapsible').not($(jQelement)).removeClass('is-open');$('#resourcesSidebar .filter-collapsible').not($(jQelement)).find('.filter-options').hide();timeout=window.setInterval(function(){jQelement.closest("#resourcesSidebar").height(jQelement.find(".filter-options").outerHeight()+jQelement.find("h4").outerHeight())},100);},"collapse-end":function(){localStorage.setItem("resourceItemActive",$('#resourcesSidebar .filter-collapsible.is-open').index());if($('#resourcesSidebar .filter-collapsible.is-open').length<1){$('#resourcesSidebar').addClass('no-height');}
setTimeout(function(){window.clearInterval(timeout);},100);}})});$('#resourcesSidebar .filter-collapsible').eq(resourceItemActive).addClass('is-open');$('#resourcesSidebar .filter-collapsible').eq(resourceItemActive).find('.filter-options').show();$("#resourcesSidebar").height($('#resourcesSidebar').find(".is-open .filter-options").outerHeight()+$('#resourcesSidebar .is-open').find("h4").outerHeight());},checkIfChecked:function(type,name,value){for(var key in EPSON.resourcesData.query_string){if(EPSON.resourcesData.query_string.hasOwnProperty(key)){if(key==name){var values=EPSON.resourcesData.query_string[key].split(',');for(var i=0;i<values.length;i++){if(values[i]==value){return true;}}}}}
return false;},closeCollapsibles:function(){var that=this;for(var i=0;i<that.collapsibles.length;i++){that.collapsibles[i].toggleHide();}},showCollapsibles:function(){var that=this;for(var i=0;i<that.collapsibles.length;i++){that.collapsibles[i].toggleShow();}},isDisabledFacetLabel:function(facetKey){var disabledFacetKeys=['end_user_roles','departments','topics'];var included=false;for(var i=0;i<disabledFacetKeys.length;i++){if(disabledFacetKeys[i]===facetKey)included=true;}
return included;}});}());;EPSON.ResourceTracker=(function(){"use strict";var STORAGE_KEY="resources-popup-data";var util={pair:function(object){return Object.keys(object).map(function(key){return[key,object[key]];});},flatten:function(array){return Array.prototype.concat.apply([],array);},flattenObject:function(object){return util.flatten(util.pair(object));}};var trackingPromise=$.Deferred(function pollFunction(defer){if(!pollFunction.count){pollFunction.count=0;}
if(window.dcsMultiTrack){defer.resolve(window.dcsMultiTrack);}else if(pollFunction.count<1000){window.setTimeout(function(){pollFunction.count+=1;pollFunction(defer);},15);}else{defer.reject("Cannot find global dcsMultiTrack function");}});var Tracker=EPSON.createClass({init:function(){this.trackForms();this.trackSubmission();},trackForms:function(){var that=this;$(document).on("submithandler","form",function(){that.store($(this).closest(".popup").find("h1,h2,h3,h4,h5,h6").eq(0).text().trim());});},store:function(title){localStorage.setItem(STORAGE_KEY,JSON.stringify({"DCS.dcsuri":window.location.pathname,"WT.ti":title||document.title,"WT.dl":"20"}));},trackSubmission:function(){var data=localStorage.getItem(STORAGE_KEY);if(data){this.sendData(JSON.parse(data));localStorage.removeItem(STORAGE_KEY);}},sendData:function(data){trackingPromise.then(function(tracker){tracker.apply(window,util.flattenObject(data));},function(error){throw new ReferenceError(error);});}});return Tracker;}());;EPSON.resources=(function(){'use strict';var config={BODY_CLASS:'page-resources',LOOP:'#resourcesLoop',SIDEBAR:'#resourcesSidebar',SORT_BY:'#resultsSort'};var Resources=EPSON.createClass({init:function(){if($('body.'+config.BODY_CLASS).get().length>0){this.container=$('body.'+config.BODY_CLASS).get();this.addObjects();this.draw();this.addHandlers();this.contactForm();this.upcomingEvents();this.newsletterForm();}},addObjects:function(){this.paginating=new EPSON.resourcesPaginating();this.loop=new EPSON.resourcesLoop(config.LOOP);this.sidebar=new EPSON.resourcesSidebar(config.SIDEBAR);this.tracker=new EPSON.ResourceTracker();},addHandlers:function(){var that=this;that.formPopup=new EPSON.Popup($('#resourcesForm')[0]);that.videoPopup=new EPSON.Popup($('#resourcesVideo')[0]);that.formPopupValidation();$(config.LOOP).on('click','a.popup-link',function(){var hash=$(this).attr('href').slice(1);switch(hash){case'resourcesForm':that.handleFormPopup(this);break;case'resourcesVideo':that.handleVideoPopup(this);break;}
return false;});$('select'+config.SORT_BY).on('change',function(){if(this.value==''){delete EPSON.resourcesData.query_string.sort;}else{EPSON.resourcesData.query_string.sort=this.value;}
if(that.paginating.page>0){EPSON.resourcesData.query_string.offset=0;EPSON.resourcesData.query_string.limit=12;that.paginating.page=0;}
that.pageChange=true;that.cache();that.solrRequest();});if(EPSON.resourcesData.query_string.sort){$('select'+config.SORT_BY).val(EPSON.resourcesData.query_string.sort).data('epsonfield').update(EPSON.resourcesData.query_string.sort);}
$(that.container).on('sidebarupdated',function(){if(that.paginating.page>0){EPSON.resourcesData.query_string.offset=0;EPSON.resourcesData.query_string.limit=12;that.paginating.page=0;}
that.cache();that.solrRequest();});that.paginating.on('ready',function(){that.pageChange=true;that.cache();that.solrRequest();});},solrRequest:function(){var that=this;$(config.LOOP).addClass('is-loading');$.ajax({url:EPSON.config.cclc+'viewcon/corporatesite/search/ajax',type:'GET',timeout:25000,data:EPSON.resourcesData.query_string,}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data.total<1){that.revertFilter(data.query_string);that.pageChange=false;}else{EPSON.resourcesData=data;that.draw();}}).fail(function(){document.location.reload();}).always(function(){});},revertFilter:function(data){var that=this,exclude=['current','filter','filter_count','limit','offset','sort','type','category'];if(EPSON.resources.wasChecked){if(EPSON.resourcesData.query_string.hasOwnProperty(EPSON.resources.lastFilter.name)){var selection=EPSON.resourcesData.query_string[EPSON.resources.lastFilter.name];var values=selection.split(',');if(values.length<2){delete EPSON.resourcesData.query_string[EPSON.resources.lastFilter.name];}else{for(var i=0;i<values.length;i++){if(values[i]==EPSON.resources.lastFilter.val){values=values.splice(i,1);break;}}
EPSON.resourcesData.query_string[EPSON.resources.lastFilter.name]=values.join(',');}}}
if(!EPSON.resources.wasChecked){for(var key in data){if(exclude.indexOf(key)<0)delete data[key];}
EPSON.resourcesData.query_string=data;}
$(that.container).trigger('sidebarupdated');},draw:function(){this.paginating.render();this.loop.draw();if(this.pageChange!==true){if(this.sidebar)this.sidebar.draw();this.pageChange=false;}
$(config.LOOP).removeClass('is-loading');},cache:function(){EPSON.cookie.create('filter-type',EPSON.resourcesData.query_string.type);EPSON.cookie.create('filter-settings',EPSON.resourcesData.query_string);}});Resources.prototype.handleFormPopup=function(link){if(!this.formResourceID||this.formResourceID!=$(link).data('id')){this.formResourceID=$(link).data('id');var resourceData=this.getResourceData(this.formResourceID);if(!resourceData){return false;}
this.downloadLink=resourceData.filename_s;$(this.formPopup.element).find('.resources-header').prev('h3').html(resourceData.name_s);var $img=$(this.formPopup.element).find('.resources-header img');$img.attr({'src':resourceData.thumbnail_s,'alt':resourceData.name_s});if(EPSON.resourcesData.query_string.market_segments!==undefined){var interests=EPSON.resourcesData.query_string.market_segments;interests=interests.split(','),interest=new Array(),interest_IDs={corporate:'331',education:'322',finance:'302',healthcare:'310',legal:'316',public:'306',retail:'325',transport:'464'};for(var i=0;i<interests.length;i++){interest.push(interest_IDs[interests[i]]);};var interestIDs=interest.join(',');$(this.formPopup.element).find('input[name="Interest_ID]').val(interestIDs);}
this.formPopup.handleOpen();}
else if(this.formResourceID==$(link).data('id')){this.formPopup.handleOpen();}};Resources.prototype.getResourceData=function(id){for(var i=0;i<EPSON.resourcesData.results.length;i++){if(EPSON.resourcesData.results[i].id==id){return EPSON.resourcesData.results[i];}};return false;};Resources.prototype.handleVideoPopup=function(link){this.videoURL=$(link).data('video');this.videoTitle=$(link).data('videotitle');$('#resourcesVideo').find('#videoContainer').attr('src',this.videoURL);$('#resourcesVideo').find('.popup_content h3').text(this.videoTitle);this.videoPopup.handleOpen();};Resources.prototype.formPopupValidation=function(){var that=this,form=$('.protected-file-form');form.validate({rules:{FirstName:"required",LastName:"required",Email:{required:true,email:true},CompanyName:"required",JobPositionID:"required"},messages:{FirstName:form.find('input[name="FirstName"]').length?form.find('input[name="FirstName"]').data('error'):'',LastName:form.find('input[name="LastName"]').length?form.find('input[name="LastName"]').data('error'):'',Email:form.find('input[name="Email"]').length?form.find('input[name="Email"]').data('error'):'',CompanyName:form.find('input[name="CompanyName"]').length?form.find('input[name="CompanyName"]').data('error'):'',JobPositionID:form.find('select[name="JobPositionID"]').length?form.find('select[name="JobPositionID"]').data('error'):''},submitHandler:function(form){var expires=new Date(),minutes=5;expires.setTime(expires.getTime()+(minutes*60*1000));document.cookie="resourceDownload="+encodeURIComponent(that.downloadLink)+";expires="+expires.toString()+";domain="+window.location.host+";path=/";that.downloadLink=false;$(form).addClass('is-validating');form.submit();$(form).trigger("submithandler");}});};Resources.prototype.upcomingEvents=function(){$('.collapsible-list li').each(function(){new EPSON.collapsibleToggle($(this),'h3','.inner-content','',false);});};Resources.prototype.newsletterForm=function(){var form=$('form[name="resources-newsletter-form"]');form.validate({rules:{Email:{required:true,email:true}},messages:{Email:form.find('input[name="Email"]').length?form.find('input[name="Email"]').data('error'):'',},submitHandler:function(form){form.submit();}});};Resources.prototype.contactForm=function(){new EPSON.Popup($('.popup-contact-form')[0]);var form=$('.contact-us-form');form.validate({rules:{first_name:"required",last_name:"required",company:"required",email:{required:true,email:true},telephone:"required",captcha:"required",important:"required"},messages:{first_name:form.find('input[name="first_name"]').length?form.find('input[name="first_name"]').data('error'):'',last_name:form.find('input[name="last_name"]').length?form.find('input[name="last_name"]').data('error'):'',company:form.find('input[name="company"]').length?form.find('input[name="company"]').data('error'):'',email:form.find('input[name="email"]').length?form.find('input[name="email"]').data('error'):'',telephone:form.find('input[name="telephone"]').length?form.find('input[name="telephone"]').data('error'):'',captcha:form.find('input[name="captcha"]').length?form.find('input[name="captcha"]').data('error'):'',},errorPlacement:function(error,element){if($(element).is(":radio")){$('.important-radios').find('.radio-error').show();}else{error.insertAfter(element);}},unhighlight:function(element){if($(element).is(":radio")){$('.important-radios').find('.radio-error').hide();}},submitHandler:function(form){form.submit();}});};return Resources;}());EPSON.imagegallery=(function(){'use strict';var config_one={BODY_CLASS:'page-resources',LOOP:'#imagegalleryLoop',SIDEBAR:'#imagegallerySidebar',SORT_BY:'#imagegalleryresultsSort'};var Imagegallery=EPSON.createClass({init:function(){if($('body.'+config_one.BODY_CLASS).get().length>0){this.container=$('body.'+config_one.BODY_CLASS).get();this.addObjects();this.draw();this.addHandlers();}},addObjects:function(){this.loop=new EPSON.imagegalleryLoop(config_one.LOOP);},addHandlers:function(){var that=this;},solrRequest:function(){var that=this;$(config_one.LOOP).addClass('is-loading');$.ajax({url:EPSON.config_one.cclc+'viewcon/corporatesite/modules/resource_images/ajax',type:'GET',timeout:25000,data:EPSON.ImagesData.query_string,}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data.total>0){EPSON.ImagesData=data;that.draw();}}).fail(function(){document.location.reload();}).always(function(){});},revertFilter:function(data){var that=this,exclude=['current','filter','filter_count','limit','offset','sort','type','category'];if(EPSON.imagegallery.wasChecked){if(EPSON.ImagesData.query_string.hasOwnProperty(EPSON.imagegallery.lastFilter.name)){var selection=EPSON.ImagesData.query_string[EPSON.imagegallery.lastFilter.name];var values=selection.split(',');if(values.length<2){delete EPSON.ImagesData.query_string[EPSON.imagegallery.lastFilter.name];}else{for(var i=0;i<values.length;i++){if(values[i]==EPSON.imagegallery.lastFilter.val){values=values.splice(i,1);break;}}
EPSON.ImagesData.query_string[EPSON.imagegallery.lastFilter.name]=values.join(',');}}}
if(!EPSON.imagegallery.wasChecked){for(var key in data){if(exclude.indexOf(key)<0)delete data[key];}
EPSON.ImagesData.query_string=data;}
$(that.container).trigger('sidebarupdated');},draw:function(){this.loop.draw();$(config_one.LOOP).removeClass('is-loading');},cache:function(){}});return Imagegallery;}());$(function(){var resourcesTab=$("section.resources");if($(resourcesTab).length){EPSON.resourcesInstance=new EPSON.resources();}});;EPSON.pressReleases=(function(){'use strict';var config={SECTION_CLASS:'resources',LOOP:'#pressLoop',SIDEBAR:'#pressSidebar',SORT_BY:'#resultsSort'};return EPSON.createClass({init:function(){if($('section.'+config.SECTION_CLASS).get().length>0){this.container=$('section.'+config.SECTION_CLASS).get();this.addObjects();this.draw();this.addHandlers();}},addObjects:function(){this.paginating=new EPSON.resourcesPaginating();this.loop=new EPSON.pressLoop(config.LOOP);this.sidebar=new EPSON.pressSidebar(config.SIDEBAR);},addHandlers:function(){var that=this;$('select'+config.SORT_BY).on('change',function(){if(this.value==''){delete EPSON.resourcesData.query_string.sort;}else{EPSON.resourcesData.query_string.sort=this.value;}
if(that.paginating.page>0){EPSON.resourcesData.query_string.offset=0;EPSON.resourcesData.query_string.limit=12;that.paginating.page=0;}
that.pageChange=true;that.cache();that.solrRequest();});if(EPSON.resourcesData.query_string.sort){$('select'+config.SORT_BY).val(EPSON.resourcesData.query_string.sort).data('epsonfield').update(EPSON.resourcesData.query_string.sort);}
$(that.container).on('sidebarupdated',function(){if(that.paginating.page>0){EPSON.resourcesData.query_string.offset=0;EPSON.resourcesData.query_string.limit=12;that.paginating.page=0;}
that.cache();that.solrRequest();});that.paginating.on('ready',function(){that.pageChange=true;that.cache();that.solrRequest();});},solrRequest:function(){var that=this;$(config.LOOP).addClass('is-loading');$.ajax({url:EPSON.config.cclc+'viewcon/corporatesite/search/ajax',type:'GET',timeout:25000,data:EPSON.resourcesData.query_string,}).done(function(data){if(typeof data==='string'){data=JSON.parse(data);}
if(data.total<1){that.revertFilter(data.query_string);that.pageChange=false;}else{EPSON.resourcesData=data;that.draw();}}).fail(function(){document.location.reload();}).always(function(){});},revertFilter:function(data){var that=this,exclude=['current','filter','filter_count','limit','offset','sort','type','category'];if(EPSON.pressReleases.wasChecked){if(EPSON.resourcesData.query_string.hasOwnProperty(EPSON.resources.lastFilter.name)){var selection=EPSON.resourcesData.query_string[EPSON.resources.lastFilter.name];var values=selection.split(',');if(values.length<2){delete EPSON.resourcesData.query_string[EPSON.resources.lastFilter.name];}else{for(var i=0;i<values.length;i++){if(values[i]==EPSON.resources.lastFilter.val){values=values.splice(i,1);break;}}
EPSON.resourcesData.query_string[EPSON.resources.lastFilter.name]=values.join(',');}}}
if(!EPSON.pressReleases.wasChecked){for(var key in data){if(exclude.indexOf(key)<0)delete data[key];}
EPSON.resourcesData.query_string=data;}
$(that.container).trigger('sidebarupdated');},draw:function(){this.paginating.render();this.loop.draw();if(this.pageChange!==true){if(this.sidebar)this.sidebar.draw();this.pageChange=false;}
$(config.LOOP).removeClass('is-loading');},cache:function(){EPSON.cookie.create('filter-type',EPSON.resourcesData.query_string.type);EPSON.cookie.create('filter-settings',EPSON.resourcesData.query_string);}});}());$(function(){new EPSON.pressReleases();});;EPSON.pressSidebar=(function(){return EPSON.createClass({init:function(element){this.sidebar=element;this.alwaysDisabled=new Array();this.addHandlers();},addHandlers:function(){var that=this;$(that.sidebar).on('change','input',function(){that.handleFilter(this);});},draw:function(){if(EPSON.resourcesData.facets){var that=this,template=$('#pressTemplateSidebar').html()||"",output='';$.each(EPSON.resourcesData.facets,function(key,info){if(key=='type'||key=='classification'||key=='device')return true;var data=new Object(),allFilters=[],disabledFilters=[],checkedFilters=[],facet_config=EPSON.resourcesData.facet_config[key];if(facet_config){data.label=facet_config.label;data.display=facet_config.display;data.displayAllFilterChecked=!EPSON.resourcesData.query_string[key];data.displayAllFilter=true;data.displayAllFilterName=key;for(var key2 in info){if(info.hasOwnProperty(key2)){var filter=new Object();filter.type=facet_config.display;filter.name=key;if(facet_config.type=='boolean'){filter.value=key2==0?1:0;}else{filter.value=key2;}
filter.count=info[key2];filter.checked=that.checkIfChecked(filter.type,filter.name,filter.value);if((filter.count==0&&filter.checked===false)){filter.disabled=true;}
filter.label=(facet_config.values)?facet_config.values[key2]:key2;if(filter.label){if(EPSON.resourcesData.query_string.filter_count==0&&filter.disabled){that.alwaysDisabled.push(filter.name+':'+filter.value);}
if(filter.checked){checkedFilters.push(filter);}
if(EPSON.resourcesData.query_string.filter_count>0&&EPSON.resourcesData.query_string.hasOwnProperty(key)&&!that.firstIteration&&filter.type=='checkbox'){filter.disabled=false;}
if((EPSON.resourcesData.query_string.filter_count>0&&that.alwaysDisabled.indexOf(filter.name+':'+filter.value)<0)||(EPSON.resourcesData.query_string.filter_count==0&&!filter.disabled)){allFilters.push(filter);if(filter.disabled)disabledFilters.push(filter);}}}}
if(checkedFilters.length>1||(allFilters.length>1&&allFilters.length>disabledFilters.length)){data.filters=allFilters;output+=Mustache.to_html(template,data);}}});$(this.sidebar).html(output);this.sidebarFilters();}},handleFilter:function(filter){var that=this,name=$(filter).attr('name'),type=$(filter).attr('type'),val=$(filter).val();if(val=='all'){delete EPSON.resourcesData.query_string[name];}
else if(type!='checkbox'){EPSON.resourcesData.query_string[name]=val;}
else if(type=='checkbox'){if(EPSON.resourcesData.query_string[name]){var values=EPSON.resourcesData.query_string[name].split(',');if(filter.checked===true){values.push(val);}else{values=that.removeFromArray(values,val);}
if(!values.length){delete EPSON.resourcesData.query_string[name];}else{EPSON.resourcesData.query_string[name]=values.join(',');}}else{if(filter.checked===true){EPSON.resourcesData.query_string[name]=val;}else{delete EPSON.resourcesData.query_string[name];}}}
EPSON.resources.wasChecked=filter.checked;EPSON.resources.lastFilter={name:name,type:type,val:val};$(that.sidebar).trigger('sidebarupdated');},removeFromArray:function(arr){var what,a=arguments,L=a.length,ax;while(L>1&&arr.length){what=a[--L];while((ax=arr.indexOf(what))!==-1){arr.splice(ax,1);}}
return arr;},sidebarFilters:function(){var that=this;that.collapsibles=new Array();$(this.sidebar).find('.filter-collapsible').each(function(){var isOpenDefault=(EPSON.size<768)?false:true;that.collapsibles.push(new EPSON.collapsibleToggle($(this),'h4','.filter-options','',isOpenDefault));});EPSON.onsizechange(function(){if(EPSON.size<768){for(var i=0;i<that.collapsibles.length;i++){that.collapsibles[i].toggleHide();}}
else if(EPSON.size>600){for(var i=0;i<that.collapsibles.length;i++){that.collapsibles[i].toggleShow();}}});},checkIfChecked:function(type,name,value){for(var key in EPSON.resourcesData.query_string){if(EPSON.resourcesData.query_string.hasOwnProperty(key)){if(key==name){var values=EPSON.resourcesData.query_string[key].split(',');for(var i=0;i<values.length;i++){if(values[i]==value){return true;}}}}}
return false;},closeCollapsibles:function(){var that=this;for(var i=0;i<that.collapsibles.length;i++){that.collapsibles[i].toggleHide();}},showCollapsibles:function(){var that=this;for(var i=0;i<that.collapsibles.length;i++){that.collapsibles[i].toggleShow();}}});}());;EPSON.pressLoop=(function(){return EPSON.createClass({init:function(element){this.container=element;this.addHandlers();},addHandlers:function(){var that=this;},draw:function(){var template=$('#resourcesTemplateResult').html(),output='';var i=0;while(i<EPSON.resourcesData.results.length){EPSON.resourcesData.results[i].thumbnail_b=('thumbnail_s'in EPSON.resourcesData.results[i]&&EPSON.resourcesData.results[i].thumbnail_s.length>0);output+=Mustache.to_html(template,EPSON.resourcesData.results[i]);i++;}
$(this.container).html(output);},});}());;EPSON.coverPlus=(function(){'use strict';var coverPlus=EPSON.createClass({init:function(block){this.block=block;this.form=$(this.block).find('form');this.addHandlers();}});coverPlus.prototype.addHandlers=function(){var that=this;$(that.form).on('submit',function(e){e.preventDefault();that.download=$(this).find('select[name="download"]').val();if(that.download!=0){window.open(that.download,'_blank');}});};return coverPlus;}());$(function(){$('.support-block#coverplus').each(function(){new EPSON.coverPlus(this);});});;EPSON.CategoryFilter=EPSON.createClass({init:function(filtersContainer,pagination){var that=this;var jQcontainer=$(filtersContainer);that.jQcontainer=jQcontainer;that.pagination=pagination;this.filters=jQcontainer.find("input[type=\"checkbox\"]").toArray();jQcontainer.off(".categoryfilter").on("change.categoryfilter","input[type=\"checkbox\"]",function(){that.filterResults();});},checkedFilters:function(){return this.filters.filter(function(filter){return filter.checked;});},activeFilters:function(){return this.checkedFilters().map(function(filter){return filter.dataset.id;});},isAllChecked:function(){return this.checkedFilters().length===this.filters.length;},filterResults:function(){var that=this;var pagination=that.pagination;var active=that.activeFilters();var jQlist=$(pagination.list);jQlist.html(this.getFullList());if(!this.isAllChecked()&&this.checkedFilters().length){jQlist.find("li").filter(function(){return!that.isActive(this,active);}).addClass("is-hidden");}
pagination.draw();},getFullList:function(){if(!this.fullList){this.fullList=this.pagination.data.results.reduce(function(html,result){return html+"<li>"+result+"</li>";},"");}
return this.fullList;},getCategories:function(result){return String($("a",result).data("categories")||"").split(",");},isActive:function(result,active){if(!active){active=this.activeFilters();}
return this.getCategories(result).some(function(category){return active.indexOf(category)>-1;});}});;EPSON.Disclose=EPSON.createClass({init:function(content,triggers){var that=this;that.jQcontent=$(content);that.jQtriggers=$(triggers||that.findTriggers()).on("click.disclose",function(){that.toggle();});},findTriggers:function(){return document.querySelectorAll("[aria-controls~=\""+(this.jQcontent.attr("id")||"")+"\"]");},toggle:function(forceState){var isOpen=this.isOpen();if(forceState!==true&&forceState!==false){forceState=!isOpen;}
if(forceState===isOpen){return;}
this.jQtriggers.attr("aria-expanded",!isOpen);this.jQcontent.attr("aria-visible",!isOpen).trigger(isOpen?"close.disclose":"open.disclose");},open:function(){return this.toggle(true);},close:function(){return this.toggle(false);},isOpen:function(){return this.jQcontent.attr("aria-visible")!=="false";}});;EPSON.supportBlock=(function(){"use strict";var config={SEARCH_URL:'viewcon/corporatesite/search/ajax?limit=1&type=product&device=1&search=',SERIAL_URL:'viewcon/corporatesite/modules/warranty_details/search?ajax=true&serial=',FAQ_URL:'viewcon/corporatesite/modules/faq_results/search?limit=-1'}
var support=EPSON.createClass({init:function(block,type){this.block=block;this.type=type;this.form=$(this.block).find('form');this.searchBox=type=='faqs'?$(this.form).find('input[name="searchKey"]'):$(this.form).find('input[name="product"]');this.addHandlers();this.validateForm();this.initFeatures();}});support.prototype.addHandlers=function(){var that=this;$(that.form).on('click','.product-result',function(e){e.preventDefault();$(that.form).find('input[name="product_id"]').val($(this).data('id'));$(that.searchBox).val($(this).data('value'));$(that.form).find('.product_query-results').addClass('is-hidden');$(that.form).trigger("submit");});};support.prototype.validateForm=function(){var that=this;$(that.form).validate({ignore:"",rules:{searchKey:{required:function(element){return($(element).length>0);}},product:{required:function(element){return($(element).length>0);}},language:{required:function(element){return($(element).length>0);}}},messages:{searchKey:$(that.form).find('input[name="searchKey"]').data('label'),product:$(that.form).find('input[name="product"]').data('label'),language:$(that.form).find('select[name="language"]').data('label')},errorPlacement:function(error,element){$(that.form).addClass('validate-error');element.parent('.input-wrap').append(error);$(that.form).find('label.form-error').html('');},unhighlight:function(){$(that.form).removeClass('validate-error').trigger("form-valid");},highlight:function(){$(that.form).addClass('validate-error').trigger("form-invalid");},submitHandler:function(form,event){$(that.form).find('label.form-error').html('');that.ajaxEvent('loading');that.countryBoxValue=$(that.form).find('select[name="country"]').length?$(that.form).find('select[name="country"]').val():false;that.languageBoxValue=$(that.form).find('select[name="language"]').length?$(that.form).find('select[name="language"]').val():false;that.productID=$(that.form).find('input[name="product_id"]').val();that.searchKey=$(that.form).find('input[name="searchKey"]').val();that.warranty=$(that.form).find('input[name="warranty"]').val();var formId=$(that.form).attr("id");if(formId==="product_search"){if($(that.form).find('input[name="product"]').val().length>9&&$(that.form).find('input[name="product"]').val().length<12){var sourceLocation="product_search";that.getSerial(sourceLocation);}
else if(that.productID==0){that.getProductID();}
else if(that.productID>0){that.formSubmit();}}else if(formId==="product_faqs"){if(typeof(that.searchKey)!="undefined"&&that.searchKey!==null){that.faqSearch();}}else if(formId==="product_warranty"){if($(that.form).find('input[name="warranty"]').val().length>9&&$(that.form).find('input[name="warranty"]').val().length<12){var sourceLocation="product_warranty";that.getSerial(sourceLocation);}else{that.ajaxEvent('unregistered');that.ajaxEvent('complete');}}}});};support.prototype.formSubmit=function(){var that=this,params={};if(that.productID>0){params.productID=that.productID;}
if(that.serialNumber){params.serial=that.serialNumber;}
if(that.countryBoxValue){params.country=that.countryBoxValue;}
if(that.languageBoxValue){params.language=that.languageBoxValue;}
var str=jQuery.param(params);str=encodeURI(str);var newURL=location.href.split('#')[0];var hash='#';switch(that.type){case'drivers':hash+='product_search';break;case'faqs':hash+='faq_search';break;case'warranty':hash+='check_warranty';break;}
location.href=newURL.split('?')[0]+'?'+str+hash;that.ajaxEvent('complete');};support.prototype.getSerial=function(sourceLocation){var that=this,cclc=that.countryBoxValue?'/'+that.countryBoxValue+'/':EPSON.config.cclc;var url;var warrantySerial="";if(sourceLocation==="product_search"){warrantySerial=$(that.form).find('input[name="product"]').val();}else if(sourceLocation==="product_warranty"){warrantySerial=$(that.form).find('input[name="warranty"]').val();}
if(that.countryBoxValue){url=cclc+config.SERIAL_URL+warrantySerial+'&country='+that.countryBoxValue;}else{url=cclc+config.SERIAL_URL+warrantySerial}
$.ajax({type:"GET",url:url,success:function(data){data=typeof data==='string'?JSON.parse(data):data;if(data.status!=="failed"){if(data.status=='unregistered'){that.ajaxEvent('unregistered')
that.ajaxEvent('complete');}else{that.serialNumber=data.data.serial_number;that.searchBox.val(that.serialNumber);that.productID=parseInt(data.data.product_id);that.formSubmit();}}else{that.getProductID();}},error:function(){that.getProductID();}});};support.prototype.getProductID=function(){var that=this,cclc=that.countryBoxValue?'/'+that.countryBoxValue+'/':EPSON.config.cclc;$.ajax({type:"GET",url:cclc+config.SEARCH_URL+that.searchBox.val(),success:function(data){data=typeof data==='string'?JSON.parse(data):data;if(data.total<1){if(that.type=='faqs'){that.faqSearch();}
else{that.ajaxEvent('no-results');that.ajaxEvent('complete');}}else{var productID=data.results[0].id;productID=parseInt(productID.match(/[0-9]+/g)[0]);that.productID=productID;that.searchBox.val(data.results[0].name_s);that.formSubmit();}},error:function(){that.ajaxEvent('no-results');that.ajaxEvent('complete');}});};support.prototype.faqSearch=function(){var that=this,cclc=that.countryBoxValue?'/'+that.countryBoxValue+'/':EPSON.config.cclc,searchtext='&text='+that.searchBox.val(),productid='&productid='+that.productID;$('#productFaqs').attr('data-state','loading');$.ajax({type:"GET",url:cclc+config.FAQ_URL+productid+searchtext,success:function(data){data=typeof data==='string'?JSON.parse(data):data;if(data.status!=="failed"&&data.total_results>0){that.renderFAQs(data);}
else{that.ajaxEvent('no-results');that.ajaxEvent('complete');}},error:function(){that.ajaxEvent('no-results');that.ajaxEvent('complete');}});};support.prototype.renderFAQs=function(data){var that=this,target='#faq_results',template=$('#templateProductSupportfaqsOS').html();var html=Mustache.render(template,data);$(target).html(html);if(!$(target).is(':visible')){$(target).slideDown(400);}else{$(target).show();}
that.pagination=new EPSON.paginateList(".drivers-faq,.product-faqs",7);that.categoryFilter=new EPSON.CategoryFilter(".drivers-faq-categories",that.pagination);that.ajaxEvent('complete');};support.prototype.ajaxEvent=function(eventName){var that=this;switch(eventName){case'loading':$(that.searchBox).addClass('is-form-loading');$(that.form).find('input, button').prop('disabled',true);$(that.form).find('label.error').remove();$(that.form).find('label.form-error').html('');break;case'complete':$(that.searchBox).removeClass('is-form-loading');$(that.form).find('input, button').prop('disabled',false);$('#productFaqs').attr('data-state','ready');break;case'no-results':$(that.form).addClass('validate-error').find('label.form-error').html($(that.form).data('no-results'));break;case'unregistered':$(that.form).addClass('validate-error').find('label.form-error').html($(that.form).data('unregistered'));break;}};support.prototype.initFeatures=function(){switch(this.type){case'drivers':$('.section-collapsible').each(function(){new EPSON.collapsibleToggle($(this),'h3','.parent-content','',false);});$('.popup-firmware').each(function(){new EPSON.Popup(this);});$('#firmwareAcceptBtn').on('click',function(){if($(this).siblings('input.acceptlicenceterms:checked').length){$(this).siblings('input.acceptlicenceterms').removeClass('error');return true;}
else{$(this).siblings('input.acceptlicenceterms').addClass('error');return false;}});$('.download-tabs').find('.tabs-init').each(function(){new EPSON.Tabs(this);});break;case'faqs':this.pagination=new EPSON.paginateList('.drivers-faq',7);this.categoryFilter=new EPSON.CategoryFilter(".drivers-faq-categories",this.pagination);this.disclose=new EPSON.Disclose(document.getElementById("faq-categories"));break;}
$('select[name^="operating_system"]').on('change',function(e){var paramName='os',paramValue=this.value,url=window.location.href;var hash=location.hash;url=url.replace(hash,'');if($(this).attr('data-section')!==undefined){hash='#'+$(this).attr('data-section');}
if(url.indexOf(paramName+"=")>=0){var prefix=url.substring(0,url.indexOf(paramName));var suffix=url.substring(url.indexOf(paramName));suffix=suffix.substring(suffix.indexOf("=")+1);suffix=(suffix.indexOf("&")>=0)?suffix.substring(suffix.indexOf("&")):"";url=prefix+paramName+"="+paramValue+suffix;}
else{if(url.indexOf("?")<0)
url+="?"+paramName+"="+paramValue;else
url+="&"+paramName+"="+paramValue;}
location.href=url+hash;});};return support;}());$(function(){$('[data-support-block]').each(function(){new EPSON.supportBlock(this,$(this).attr('data-support-block'));});});;EPSON.modelFinder=(function(){"use strict";var config={TOGGLE:'a[href="#supportSidebar"]',SEARCH_URL:'/viewcon/corporatesite/search/ajax?limit=50&type=product'};var drilldown={BACK:'a.back-link',LINK:'a.drilldown-link',PRODUCT:'a.product',SUBMENU_TOGGLE:'has-submenu',SUBMENU:'ul.submenu'};var Model=EPSON.createClass({init:function(sidebar){this.sidebar=sidebar;this.drilldown=$(sidebar).find('#productTree');this.newProductsData=null;this.cache={};this.addHandlers();this.headingText=$(sidebar).find('h2').text();}});Model.prototype.addHandlers=function(){var that=this;$(config.TOGGLE).on('click',function(e){e.preventDefault();$(that.sidebar).toggleClass('is-active');});$(that.drilldown).on('click',drilldown.LINK,function(e){e.preventDefault();$(that.sidebar).find('.overflow-wrap').scrollTop(0);if($(this).hasClass(drilldown.SUBMENU_TOGGLE)){$(this).next(drilldown.SUBMENU).addClass('is-active');}else{that.performFirstSearch(this);}}).on('click',drilldown.BACK,function(e){e.preventDefault();$(that.sidebar).find('.overflow-wrap').scrollTop(0);$(this).parent().parent(drilldown.SUBMENU).removeClass('is-active');if($(this).hasClass('change-header')){$(that.sidebar).find('h2').text(that.headingText);that._setHeight('#productResultsLoop');}else{$(that.drilldown).css('height','auto');}}).on('click',drilldown.PRODUCT,function(e){e.preventDefault();$(that.sidebar).find('.overflow-wrap').scrollTop(0);$(that.drilldown).css('height','auto');var data={};data.id=$(this).attr('data-product-id');data.name=$(this).attr('data-product-name');data.image=$(this).attr('data-product-image');that.individualProduct(data);}).on('click','a.do-load-more',function(e){e.preventDefault();$(this).addClass('btn-loading');var filtersParam='&filter='+that.filters,offset=that.cache[that.filters].data.length;$.ajax({url:config.SEARCH_URL+filtersParam+'&offset='+offset}).done(function(data){data=typeof data==='string'?JSON.parse(data):data;var products=[];for(var i=0;i<data.results.length;i++){var dataRow=data.results[i],newRow={};newRow.id=parseInt(dataRow.id.match(/[0-9]+/g)[0]);newRow.image=dataRow.image_s=="false"?false:dataRow.image_s;newRow.name=dataRow.name_s;products.push(newRow);}
that.cache[that.filters].data=$.merge(that.cache[that.filters].data,products);that.appendResults(offset,false);});});};Model.prototype.performFirstSearch=function(link){var that=this;if($(link).data('filters')){that.filters=$(link).data('filters');}
if(that.filters in that.cache){that.appendResults(0,true);}
else{$(that.drilldown).attr('data-state','loading');var filtersParam='&filter='+that.filters;$.ajax({url:config.SEARCH_URL+filtersParam}).done(function(data){data=typeof data==='string'?JSON.parse(data):data;that.buildProductsData(data);}).fail(function(){console.log('Ajax request error - modelFinder.js 84');});}};Model.prototype.buildProductsData=function(data){var products=[];$(this.drilldown).attr('data-state','ready');for(var i=0;i<data.results.length;i++){var dataRow=data.results[i],newRow={};newRow.id=parseInt(dataRow.id.match(/[0-9]+/g)[0]);newRow.image=dataRow.image_s=="false"?false:dataRow.image_s;newRow.name=dataRow.name_s;products.push(newRow);}
this.cache[this.filters]={data:products,total:data.total};this.appendResults(0,true);};Model.prototype.appendResults=function(offset,clear){var target='#productResultsLoop',template=$('#supportSidebarProducts').html(),output='';if(this.cache[this.filters].total<1){output='<li><p>'+EPSON.i18n.prodconsumablesnotfound+'</p></li>';}
else{for(var i=offset;i<this.cache[this.filters].data.length;i++){output+=Mustache.render(template,this.cache[this.filters].data[i]);}
if(this.cache[this.filters].data.length<this.cache[this.filters].total){output+='<li class="load-more"><a href="#" class="btn btn-grey do-load-more">Load More</a></li>';}}
if(clear){$(target).find('li').not('.back-li').remove();}
$(target).find('li.load-more').remove();$(target).append(output);this._setHeight(target);$(this.drilldown).find('li.product-results '+drilldown.SUBMENU).addClass('is-active');};Model.prototype.individualProduct=function(prod){$(this.sidebar).find('h2').text(prod.name);var target='#productIndividual',template=$('#supportSidebarProduct').html(),html=Mustache.render(template,prod);$(target).html(html);$(this.drilldown).find('li.product-individual '+drilldown.SUBMENU).addClass('is-active');};Model.prototype._setHeight=function(target){var height=0;$(target).find('li').each(function(){height+=$(this).outerHeight();});if(height>$(this.drilldown).outerHeight()){$(this.drilldown).css('height',height+'px');}};return Model;}());$(function(){$('#supportSidebar').each(function(){new EPSON.modelFinder(this);});});;EPSON.naturalLanguage=(function(){'use strict';var config={LABEL_DISPLAY:'.label-display',LIST:'.section-list'};var Natural=EPSON.createClass({init:function(module){this.module=module;this.ID=parseInt($(this.module).data('module-id'));this.form=$(this.module).find('form');this.data=EPSON.naturalLanguageData[this.ID];this.sections=$(this.form).find(config.LIST).get().length;this.checkStep();this.addHandlers();},});Natural.prototype.checkStep=function(){var that=this;var step=0;$(that.form).find('.search-section input').each(function(index){if($(this).val()>0){step++;that.filterDownSteps(step);}});that.step=step;};Natural.prototype.filterDownSteps=function(step){var that=this;if(step==that.sections)step--;that.formValues={};$(that.form).find('.search-section input').each(function(index){if(index<step){that.formValues[$(this).data('id')]=$(this).val();}});that.teaserArrays=[];for(var section in that.formValues){if(!that.formValues.hasOwnProperty(section)||that.formValues[section]==0)continue;var selected=that.formValues[section];that.teaserArrays.push(that.data[section].values[selected].teaserIDs);}
that.results=[];if(that.teaserArrays.length>0){that.results=arrayUtil.common.apply(this,that.teaserArrays);}
that.filterNextStep(step);};Natural.prototype.getFormValues=function(){var that=this;that.formValues={};$(this.form).find('.search-section input').each(function(index){if(index>that.step){var $label=$(this).prev(),text=$label.find(config.LIST+' > li[data-value="0"]').text();$(this).val(0);$label.find(config.LIST+' > li').removeClass('is-disabled');$label.find(config.LABEL_DISPLAY).addClass('is-disabled').text(text);}else{that.formValues[$(this).data('id')]=$(this).val();}});};Natural.prototype.getValues=function(){var that=this;that.getFormValues();that.teaserArrays=[];for(var section in that.formValues){if(!that.formValues.hasOwnProperty(section)||that.formValues[section]==0)continue;var selected=that.formValues[section];that.teaserArrays.push(that.data[section].values[selected].teaserIDs);}
that.results=[];if(that.teaserArrays.length>0){that.results=arrayUtil.common.apply(this,that.teaserArrays);}
$(that.form).find('input[name="teaserIDs"]').val(that.results.join(','));$(that.form).find('button').prop('disabled',that.results.length<1);};Natural.prototype.filterNextStep=function(step){var that=this;if(that.teaserArrays.length<1)return false;var teaserArray=that.teaserArrays,sectionKey=0;for(var i in that.data){if(that.data[i].order==step){var section=that.data[i],sectionKey=i;break;}}
if(sectionKey>0){$(that.form).find('.section-list[data-id="'+sectionKey+'"] > li').removeClass('is-disabled');for(var id in section.values){if(!section.values.hasOwnProperty(id))continue;var item=section.values[id];var results=[];if(item['teaserIDs'].length){teaserArray.push(item.teaserIDs);results=arrayUtil.common.apply(item['teaserIDs'],teaserArray);teaserArray.pop();}
if(results.length<1){$(that.form).find('.section-list[data-id="'+sectionKey+'"] > li[data-value="'+id+'"]').addClass('is-disabled');}}
$(that.form).find(config.LABEL_DISPLAY+':eq('+step+')').removeClass('is-disabled');}};Natural.prototype.addHandlers=function(){var that=this;$(that.form).on('click',config.LABEL_DISPLAY,function(){if(!$(this).hasClass('is-disabled')){var label=$(this).parent('label');that.toggleDropdown(label);return false;}}).on('click',config.LIST+' > li',function(){var $input=$(this).parent().parent().next('input'),step=$(this).parents().eq(2).data('step'),val=$(this).data('value');if($input.val()!=val){$(this).parent().prev(config.LABEL_DISPLAY).text($(this).text());$input.val(val);}
if(val==0&&step>0)step--;that.step=step;that.getValues();if(that.sections>(that.step+1)){that.filterNextStep(that.step+1);}
that.hideAllDropdowns();});$(document).on('click',function(event){var dropdown=config.LIST,labelLink='.natural-language label';if(!$(event.target).closest(dropdown).length&&!$(event.target).is(dropdown)&&!$(event.target).closest(labelLink).length&&!$(event.target).is(labelLink)){that.hideAllDropdowns();}});};Natural.prototype.toggleDropdown=function(label){if($(label).hasClass('is-open')){$(label).removeClass('is-open');}else{$(this.form).find('label').removeClass('is-open');$(label).addClass('is-open');}};Natural.prototype.hideAllDropdowns=function(){$(this.form).find('label').removeClass('is-open');};return Natural;}());$(function(){$('.naturalLanguageModule').each(function(){new EPSON.naturalLanguage(this);})});$(window).on('load',function(){var hash=window.location.hash;if(hash&&$('[name="'+hash.slice(1)+'"]').length){$('html,body').animate({scrollTop:$('[name="'+hash.slice(1)+'"]').offset().top},100);}});;EPSON.NewsRoom=(function(){"use strict";var NewsRoom=EPSON.createClass({init:function(){this.insights=$('#insightsList').length?new EPSON.InsightsList('#insightsList'):null;this.sidebar='#newsroomSidebar';this.addHandlers();},addHandlers:function(){var self=this;$('.do-sidebar-show').on('click',function(e){e.preventDefault();if(!$(self.sidebar).data('isOpen')){$(self.sidebar).addClass('is-active').data('isOpen',!$(self.sidebar).data('isOpen'));}
if(this.hash.slice(1)=='search'){$(that.sidebar).find('input[name="search"]').trigger('focus');}});$(self.sidebar).on('click','.do-close',function(e){e.preventDefault();$(self.sidebar).removeClass('is-active').data('isOpen',false);});}});NewsRoom.prototype.disableFilters=function(){var that=this;$(that.sidebar).find('.filters input').prop('disabled',false);for(var key in that.filters){if(!that.filters.hasOwnProperty(key))continue;var group=that.filters[key];for(var filter in group){if(!group.hasOwnProperty(filter))continue;if(!group[filter]&&filter!='all'){var inputType=$(that.sidebar).find('.filters div[data-group="'+key+'"] input[value="'+filter+'"]').attr('type');if(inputType=='radio')continue;var disabled=true;articles:for(var i=0;i<that.articles.length;i++){var filters=$(that.articles[i]).data(key),allChange=false;if(!filters)continue;filters=filters.toString();if(filters.indexOf(',')>-1)filters=filters.split(',');if(!$.isArray(filters))filters=[filters];if(filters.indexOf(filter)>-1){if(that.filters[key].all==true){allChange=true;that.filters[key].all=false;}
that.filters[key][filter]=true;if(that.getResults({key:key,filter:filter}).length>0){disabled=false;}
if(allChange)that.filters[key].all=true;that.filters[key][filter]=false;if(disabled==false){break articles;}}}
if(disabled){$(that.sidebar).find('.filters div[data-group="'+key+'"] input[value="'+filter+'"]').prop('disabled',true);}}}}};return NewsRoom;}());EPSON.InsightsList=(function(){'use strict';var Insight=EPSON.createClass({init:function(wrap){this.wrap=wrap;this.sidebar=$('[data-sidebar]');this.loop=$(this.wrap).find('[data-results]');this.data=$(this.loop).find('li').clone();this.noResults=$(this.loop).data('no-results');this.perPage=parseInt($(this.wrap).attr('data-count'))||6;this.filters=EPSON.InsightsFilters||{};this.addHandlers();this.paginate=new EPSON.paginateList(this.loop[0],this.perPage,'insights');this.doPreDefinedFilters();}});Insight.prototype.doPreDefinedFilters=function(){var self=this,defined=false,typeDefined=false;$(self.sidebar).find('input').each(function(){if(this.value!=='all'&&this.checked){var group=this.attributes['name'].value,value=this.value;if(group.indexOf('[')>-1)group=group.substr(0,group.indexOf('['));if(group=='type')typeDefined=true;defined=true;self.filters[group][value]=this.checked;}})
if(typeDefined)self.filterFilters();if(defined)self.renderList();}
Insight.prototype.renderList=function(){var self=this;var sortBy=$(self.wrap).find('#resultsSort').val().split(':');self.doSort(sortBy[0],sortBy[1]);var filterGroups=self.getObject(self.filters,'keys'),filterDataActive={};for(var i=0;i<filterGroups.length;i++){var group=filterGroups[i];filterDataActive[group]=[];for(var k in self.filters[group]){var val=self.filters[group][k];if(val===true&&k!=='all')filterDataActive[group].push(k);}}
var output=[];self.data.map(function(index,item){var $insight=$(item).find('.insight-block').first();var include=true;for(var i=0;i<filterGroups.length;i++){var group=filterGroups[i];var dataGroup=['businessproducts','businessindustries','consumerproducts','consumerapplications'].indexOf(group)>-1?'subcategory':group;if(filterDataActive[group].length>0&&(i==0||include===true)){var el_group=$insight.attr('data-'+dataGroup)||'';if(el_group.length>0){var el_arr=el_group.split(',');for(var ii=0;ii<el_arr.length;ii++){include=filterDataActive[group].indexOf(el_arr[ii])>-1;if(include==true)break;}}else{include=false;}}}
if(include){var list_item=document.createElement('li');list_item.innerHTML=item.innerHTML;output.push(list_item);}});if(!output.length){var no_results=document.createElement('p');no_results.className='no-results';no_results.innerHTML=self.noResults;output.push(no_results);}
$(self.loop).html('');for(var i=0;i<output.length;i++){$(self.loop).append(output[i]);}
self.paginate.draw();if($('.solr-loop').attr('data-view')=="list"){removeHeights('ul.solr-loop > li','insights');}else{setTimeout(function(){equalHeights('ul.solr-loop > li');},100);}};Insight.prototype.getObject=function(obj,type){var keys=[],values=[];for(var k in obj){keys.push(k);values.push(obj[k]);}
return type=='keys'?keys:values;};Insight.prototype.removeAuthorProfile=function(){var authorProfile=document.getElementById('author-profile');if(authorProfile)authorProfile.remove();var title=$('.newsroom-section').find('h2').first();title.html($('.newsroom-section').attr('data-default-title'));};Insight.prototype.filterChange=function(filter){var self=this,group=filter.attributes['name'].value,value=filter.value,checked=filter.checked;if(group.indexOf('[')>-1)group=group.substr(0,group.indexOf('['));if(group=='author')self.removeAuthorProfile();if(value=='all'&&checked||filter.attributes['type'].value=='radio'){for(var filter in self.filters[group]){if(filter==value)continue;self.filters[group][filter]=false;$(self.sidebar).find('[data-group="'+group+'"] input[value="'+filter+'"]').prop('checked',false);}}
else if(value!='all'&&checked){self.filters[group].all=false;$(self.sidebar).find('[data-group="'+group+'"] input[value="all"]').prop('checked',false);}
else if(!checked){var setAll=true;for(var filter in self.filters[group]){if(self.filters[group][filter]&&filter!=value&&self.filters[group][filter]===true){setAll=false;break;}}
if(setAll){self.filters[group].all=true;if(value=='all')checked=true;$(self.sidebar).find('.filters div[data-group="'+group+'"] input[value="all"]').prop('checked',true);}}
self.filters[group][value]=checked;if(group=='type')self.filterFilters();self.renderList();};Insight.prototype.filterFilters=function(){var self=this,selectedType=null;for(var type in self.filters.type){if(self.filters.type[type]===true)selectedType=type;}
$(self.sidebar).find('input').prop('disabled',false);for(var group in self.filters){if(group=='type')continue;for(var val in self.filters[group]){self.filters[group][val]=false;;}
self.filters[group].all=true;}
if($(self.sidebar).find('.filters').hasClass('filtered')){$(self.sidebar).find('.filters').removeClass('filtered')}
else{$(self.sidebar).find('.filters input[type="checkbox"]').filter('[value!="all"]').prop('checked',false);$(self.sidebar).find('.filters input[type="checkbox"]').filter('[value="all"]').prop('checked',true);}
if(selectedType=='all'){$(self.sidebar).find('label').show();return false;}
$(self.sidebar).find('input[type="checkbox"]').each(function(){if(this.value=='all')return true;var areas=$(this).attr('data-areas')||'';var areasArr=areas.split(',');if(areasArr.indexOf(selectedType)>-1){$(this).next('label').show();}else{$(this).next('label').hide();}});}
Insight.prototype.addHandlers=function(){var self=this;$(self.wrap).on('click','a.view-type',function(e){e.preventDefault();if(!$(this).hasClass('is-active')){var type=this.hash.slice(1);$(self.loop).attr('data-view',type);$(this).siblings().removeClass('is-active');$(this).addClass('is-active');}
if($('.solr-loop').attr('data-view')=="list"){removeHeights('ul.solr-loop > li','insights');}else{setTimeout(function(){equalHeights('ul.solr-loop > li');},100);}});$(self.sidebar).on('change','input',function(){if(self.manualCheck)self.manualCheck=false;self.filterChange(this);self.syncFilters(this);});$(self.loop).on('render',function(){var attr='data-src';$(self.loop).find('img['+attr+']').each(function(){$(this).attr('src',$(this).attr(attr)).removeAttr(attr);});if($('.solr-loop').attr('data-view')=="list"){removeHeights('ul.solr-loop > li','insights');}else{setTimeout(function(){equalHeights('ul.solr-loop > li');},100);}});$(self.wrap).on('change','#resultsSort',function(){self.renderList();});var authorProfile=document.getElementById('author-profile');if(authorProfile)$('a[href="#newsroom_search"]').addClass('non-anchor');$('a[href="#newsroom_search"]').on('click',function(e){if(authorProfile){location.href='/insights#newsroom_search';return false;}});};Insight.prototype.syncFilters=function(filter){var self=this,filterName=filter.attributes['name'].value,value=filter.value,checked=filter.checked;$(self.sidebar).find('[name="'+filterName+'"]').each(function(){if(this.value==value&&this.checked!==checked){self.manualCheck=true;this.checked=true;}});};Insight.prototype.doSort=function(type,method){var self=this;switch(type){case'date':self.data.sort(function(a,b){var timestampA=$(a).children('.insight-block').data('timestamp');var timestampB=$(b).children('.insight-block').data('timestamp');if(timestampA==timestampB){var idA=$(a).children('.insight-block').data('identity');var idB=$(b).children('.insight-block').data('identity');if(idA<idB)return method=='desc'?1:-1;if(idA>idB)return method=='desc'?-1:1;}
if(timestampA<timestampB)
return method=='desc'?1:-1;if(timestampA>timestampB)
return method=='desc'?-1:1;return 0;});break;case'name':self.data.sort(function(a,b){var titleA=$(a).find('h3').text().toUpperCase().trim().replace(/\W/g,'');var titleB=$(b).find('h3').text().toUpperCase().trim().replace(/\W/g,'');if(titleA<titleB)
return method=='desc'?1:-1;if(titleA>titleB)
return method=='desc'?-1:1;return 0;});break;}};return Insight;}());EPSON.ArticlePage=(function(){"use strict";var ArticlePage=EPSON.createClass({init:function(){this.addHandlers();},addHandlers:function(){var that=this;that.popups={};$('.popup-infographic').each(function(){that.popups[$(this).attr('id')]=new EPSON.Popup(this);});that.formPopup=new EPSON.Popup($('#resourcesForm')[0]);that.formPopupValidation();$('.insight-article').on('click','a.popup_maker',function(){var hash=$(this).attr('href').slice(1);switch(hash){case'resourcesForm':that.handleFormPopup(this);break;default:that.popups[hash].handleOpen();break;}
return false;});}});ArticlePage.prototype.handleFormPopup=function(link){var self=this;this.downloadLink=$(link).data('link');$(this.formPopup.element).find('.resources-header').prev('h3').html($(link).data('name'));var $img=$(this.formPopup.element).find('.resources-header img');$img.attr({'src':$(link).data('image'),'alt':$(link).data('name')});this.formPopup.handleOpen();};ArticlePage.prototype.formPopupValidation=function(){var that=this,form=$('.protected-file-form');form.validate({rules:{FirstName:"required",LastName:"required",Email:{required:true,email:true},CompanyName:"required",JobPositionID:"required"},messages:{FirstName:form.find('input[name="FirstName"]').length?form.find('input[name="FirstName"]').data('error'):'',LastName:form.find('input[name="LastName"]').length?form.find('input[name="LastName"]').data('error'):'',Email:form.find('input[name="Email"]').length?form.find('input[name="Email"]').data('error'):'',CompanyName:form.find('input[name="CompanyName"]').length?form.find('input[name="CompanyName"]').data('error'):'',JobPositionID:form.find('select[name="JobPositionID"]').length?form.find('select[name="JobPositionID"]').data('error'):''},submitHandler:function(form){var expires=new Date(),minutes=5;expires.setTime(expires.getTime()+(minutes*60*1000));document.cookie="resourceDownload="+encodeURIComponent(that.downloadLink)+";expires="+expires.toString()+";domain="+window.location.host+";path=/";that.downloadLink=false;$(form).addClass('is-validating');form.submit();$(form).trigger("submithandler");}});};return ArticlePage;}());$(function(){$(".newsroom-section .solr-loop li").slice(0,6).show();$(".newsroom-section .solr-loadmore").on('click',function(e){e.preventDefault();$(".newsroom-section .solr-loop li:hidden").slice(0,3).slideDown();if($(".newsroom-section .solr-loop li:hidden").length==0){$(".newsroom-section .solr-loadmore").fadeOut('slow');}
$('html,body').animate({scrollTop:$(this).offset().top-125},1500);});if($(".newsroom-section .solr-loop li").length<=5){$(".newsroom-section .solr-loadmore").hide();}
if($('.page-newsroom').length){var Newsroom=new EPSON.NewsRoom();}
setTimeout(function(){equalHeights('.newsroom-section ul.solr-loop > li','insights');},100);$(window).on('resize',function(){equalHeights('.newsroom-section ul.solr-loop > li','insights');});if($('.insight-article').length){var ArticlePage=new EPSON.ArticlePage();}});EPSON.Hubs=(function(){"use strict";var config={WRAP:'#HubListings',SIDEBAR:'#HubListings .listing-sidebar',LOOP:'#HubListings .listing-loop',PRE_LOOP:'#HubListings .listing-preLoop',GROUPS:'#HubListings .filter-group'};var Hubs=EPSON.createClass({init:function(){this.results=$(config.LOOP).find('.hub').get();this.visibleResults=this.results;this.trackFilterOrder=new Array();this.discoverFilterGroups();this.storeResultsFilters();this.getFilters();this.drawSidebar();this.drawLoop();this.addHandlers();$(config.WRAP).attr('data-state','ready');this.initialized=true;},discoverFilterGroups:function(){var groups=[];$(config.GROUPS).each(function(i){groups.push($("input",this).not("[value=\"all\"]").toArray().map(function(input){return input.value;}));$("input[value=\"all\"]",this).each(function(){$(this).data("epson.hubs.index",i);});});this.groups=groups;},storeResultsFilters:function(){var resultsFilters={};this.results.forEach(function(result){result.dataset.filters.split(",").forEach(function(filter){if(!resultsFilters[filter]){resultsFilters[filter]=[];}
resultsFilters[filter].push(result);});});this.resultsFilters=resultsFilters;},addHandlers:function(){var that=this;$(config.SIDEBAR).on('change','input[name="filter"]',function(){if(this.disabled){return false;}
else if(this.value=='all'&&!this.checked){this.checked=true;return false;}
else{that.handleFilter(this);}});$(config.PRE_LOOP).on('change','select[name="sort"]',function(){that.handleSort(this.value);});$(config.LOOP).on('render',function(){that.equalHeights();});EPSON.onsizechange(function(){that.equalHeights();});},});Hubs.prototype.drawSidebar=function(){var that=this,disableFilters=new Array();$(config.SIDEBAR).find('input[name="filter"]').prop('disabled',false);for(var i=0;i<that.filters.length;i++){var filter=that.filters[i];if(!that.firstGroupCheckedFilters.length){if(that.resultsFilters[filter]===undefined){$(config.SIDEBAR).find('input[value="'+filter+'"]').prop('disabled',true);$(config.SIDEBAR).find('input[value="'+filter+'"]').prop('checked',false);}}else if(that.firstGroupCheckedFilters.indexOf(filter)==-1){if(that.resultsFilters[filter]===undefined){$(config.SIDEBAR).find('input[value="'+filter+'"]').prop('disabled',true);$(config.SIDEBAR).find('input[value="'+filter+'"]').prop('checked',false);}else if(!that.checkProductFilter(filter)){if(!that.initialized){$(config.SIDEBAR).find('input[value="'+filter+'"], label[for="filter_'+filter+'"]').remove();}
else{$(config.SIDEBAR).find('input[value="'+filter+'"]').prop('disabled',true);if(filter!="all"){$(config.SIDEBAR).find('input[value="'+filter+'"]').prop('checked',false);}}}}};if(!that.initialized){$(config.SIDEBAR).find('.filter-group').each(function(){if($(this).find('input[name="filter"]').not('input[value="all"]').length<1){$(this).remove();}});}},Hubs.prototype.getVisibleFromChecked=function(checkedFilters){var groups=this.groups;var resultsFilters=this.resultsFilters;var groupedResults=checkedFilters.reduce(function(grouped,checked){var index=groups.findIndex(function(group){return group.indexOf(checked)>-1;});if(!grouped[index]){grouped[index]=[];}
arrayUtil.pushUnique.apply(undefined,[grouped[index]].concat(resultsFilters[checked]));return grouped;},[]);return arrayUtil.common.apply(undefined,groupedResults.filter(function(result){return result;}));};Hubs.prototype.drawLoop=function(){this.visibleResults=this.checkedFilters.length?this.getVisibleFromChecked(this.checkedFilters):this.results;this.renderResults();},Hubs.prototype.renderResults=function(){$(config.LOOP).empty();for(var i=0;i<this.visibleResults.length;i++){$('<li>'+$(this.visibleResults[i])[0].outerHTML+'</li>').appendTo($(config.LOOP));};if(!this.paginate){var paginateType=$(config.WRAP).attr('data-pagination');this.paginate=new EPSON.paginateList(config.LOOP,6,'hubs',paginateType);}else{this.paginate.draw();}
this.equalHeights();},Hubs.prototype.getCheckedFilterElements=function(){return this.checkedFilters.map(function(filter){return this[filter]||[];},this.resultsFilters);},Hubs.prototype.getCommonCheckedFilterElements=function(){return arrayUtil.common.apply(undefined,this.getCheckedFilterElements());},Hubs.prototype.checkProductFilter=function(filter){var firstGroupFiltersTemp={},tempResults=new Array(),that=this;tempResults=this.getVisibleFromChecked(this.firstGroupCheckedFilters);tempResults.forEach(function(result){result.dataset.filters.split(",").forEach(function(filter){if(!firstGroupFiltersTemp[filter]){firstGroupFiltersTemp[filter]=[];}
if(that.firstGroupFilters.indexOf(filter)){firstGroupFiltersTemp[filter].push(result);}});});if(that.firstGroupFilters.indexOf(filter)==-1){if(firstGroupFiltersTemp[filter]===undefined||!firstGroupFiltersTemp[filter].length){return false;}else{return true;}}else{return true;}},Hubs.prototype.getFilters=function(){var that=this,filters=new Array(),checkedFilters=new Array(),firstGroupCheckedFilters=new Array(),firstGroupFilters=new Array();$(config.SIDEBAR).find('input[name="filter"]').map(function(){if(this.value=='all'){return true;}
filters.push(this.value);if(this.checked){checkedFilters.push(this.value);}else{if(that.trackFilterOrder.indexOf(this.value)>-1){var filterToDelete=that.trackFilterOrder.indexOf(this.value);that.trackFilterOrder.splice(filterToDelete,1);}}}).get();if(this.trackFilterOrder.length){$('input[value="'+this.trackFilterOrder[0]+'"]').parents('.filter-group').find('input[name="filter"]').map(function(){if(this.value=='all'){return true;}
if(this.checked){firstGroupCheckedFilters.push(this.value);firstGroupFilters.push(this.value);}else{firstGroupFilters.push(this.value);}}).get();}
this.filters=filters;this.checkedFilters=checkedFilters;this.firstGroupCheckedFilters=firstGroupCheckedFilters;this.firstGroupFilters=firstGroupFilters;},Hubs.prototype.handleFilter=function(check){if(check.value=='all'&&check.checked){$(check).parent().find('input[value!="all"]').prop('checked',false);}
else if(check.value=='all'&&!check.checked){$(check).prop('checked',true);}
else if(check.value!='all'&&!check.checked){if($(check).parent().find('input[name="filter"]:checked').length<1){$(check).parent().find('input[value="all"]').prop('checked',true);}}
else if(check.value!='all'&&check.checked){$(check).parent().find('input[value="all"]').prop('checked',false);}
if(this.trackFilterOrder.indexOf(check.value)==-1){if(check.value!="all"){this.trackFilterOrder.push(check.value);}}
this.getFilters();this.drawSidebar();this.drawLoop();},Hubs.prototype.handleSort=function(sort){var that=this,sort=sort.split(':');that.visibleResults.sort(function(a,b){if($(a).data('cms-order')>$(b).data('cms-order'))return 1;if($(a).data('cms-order')<$(b).data('cms-order'))return-1;});switch(sort[0]){case'date':that.visibleResults.sort(function(a,b){if(sort[1]=='desc'){if($(a).data('date')<$(b).data('date'))return 1;if($(a).data('date')>$(b).data('date'))return-1;}
if(sort[1]=='asc'){if($(a).data('date')>$(b).data('date'))return 1;if($(a).data('date')<$(b).data('date'))return-1;}
return 0;});break;case'name':var mapped=that.visibleResults.map(function(el,i){return{index:i,value:$(el).find('h3').text().toLowerCase()};});mapped.sort(function(a,b){if(sort[1]=='desc'){return+(a.value<b.value)||+(a.value===b.value)-1;}
if(sort[1]=='asc'){return+(a.value>b.value)||+(a.value===b.value)-1;}});var result=mapped.map(function(el){return that.visibleResults[el.index];});that.visibleResults=result;break;}
that.renderResults();},Hubs.prototype.equalHeights=function(){var loop=$(config.LOOP).find('.hub'),columns=EPSON.size<=480?2:3,maxHeight=0,hubs=new Array();function adjustHeight(){$.map(hubs,function(item,index){$(item).css('padding-bottom',maxHeight).find('.buttons').height(maxHeight);});maxHeight=0;hubs=new Array();}
for(var i=0;i<loop.length;i++){hubs.push(loop[i]);var height=$(loop[i]).find('.buttons').outerHeight();maxHeight=height>maxHeight?height:maxHeight;if(((i+1)%columns)==0&&maxHeight>0){adjustHeight();}};if(hubs.length){adjustHeight();}}
return Hubs;}());$(function(){$("#HubListings").each(function(){$(this).data("epson.hubs",new EPSON.Hubs());});});;$.fn.equalHeights=function(){var maxHeight=0,$this=$(this);$this.each(function(){var height=$(this).innerHeight();if(height>maxHeight){maxHeight=height;}});return $this.css('height',maxHeight);};$('[data-equal]').each(function(){var $this=$(this),target=$this.data('equal');$this.find(target).equalHeights();});setTimeout(function(){$('.product-thumbnail').equalHeights();$('.product-thumbnail h4').equalHeights();},3000);$(window).on('resize',function(){if($(window).width()>767){$('.product-thumbnail').css('height','auto');$('.product-thumbnail').equalHeights();$('.product-thumbnail h4').css('height','auto');$('.product-thumbnail h4').equalHeights();}else{$('.product-thumbnail h4').css('height','auto');$('.product-thumbnail h4').equalHeights();$('.product-thumbnail').css('height','auto');$('.product-thumbnail').equalHeights();}});;EPSON.onAdobeReady=(function(){"use strict";var promiseCounter=1000;var promise=$.Deferred(function promisePoll(defer){if(EPSON.adobe){defer.resolve(EPSON.adobe);}else if(promiseCounter){promiseCounter-=1;window.requestAnimationFrame(function(){promisePoll(defer);});}else{defer.reject(new ReferenceError("EPSON.adobe was not created."));}}).promise();return function(callback){promise.done(callback).fail(function(err){console.error(err);});};}());;