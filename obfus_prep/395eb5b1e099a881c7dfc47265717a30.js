var innogamesUtils={ConfigurationValidator:function(){this.validateConfiguration=function(context){var valid=!0,error="";if(void 0===context&&(valid=!(error="Configuration obj not valid")),void 0===context.schemaVersion&&(error+="- schema version not set -",valid=!1),void 0===context.eventType&&(error+="- event type not set -",valid=!1),void 0===context.systemType&&(error+="- system type not set -",valid=!1),void 0===context.systemName&&(error+="- system name not set -",valid=!1),void 0===context.gameId&&(error+="- game ID not set -",valid=!1),void 0===context.marketId&&(error+="- market ID not set -",valid=!1),void 0===context.partnerPrefix&&(error+="- partnerPrefix not set -",valid=!1),void 0===context.campaignId&&(error+="- campaign ID not set -",valid=!1),void 0===context.bannerId&&(error+="- banner ID not set -",valid=!1),void 0===context.creativeId&&(error+="- creative ID not set -",valid=!1),void 0===context.publisherId&&(error+="- publisher ID not set -",valid=!1),void 0===context.metricsUrl&&(error+="- metricsUrl not set -",valid=!1),void 0===context.fileName&&(error+="- fileName not set -",valid=!1),void 0===context.category&&(error+="- Category not set -",valid=!1),!valid)throw"Metrics Configuration obj not valid: "+error}},UniqueIdentifierGenerator:function(){this.generateUid=function(){for(var bth=[],htb={},i=0;i<256;i++)bth[i]=(i+256).toString(16).substr(1),htb[bth[i]]=i;var r=function(){for(var r,randoms=new Array(16),i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),randoms[i]=r>>>((3&i)<<3)&255;return randoms}();r[6]=15&r[6]|64,r[8]=63&r[8]|128;var pos=0;return bth[r[pos++]]+bth[r[pos++]]+bth[r[pos++]]+bth[r[pos++]]+"-"+bth[r[pos++]]+bth[r[pos++]]+"-"+bth[r[pos++]]+bth[r[pos++]]+"-"+bth[r[pos++]]+bth[r[pos++]]+"-"+bth[r[pos++]]+bth[r[pos++]]+bth[r[pos++]]+bth[r[pos++]]+bth[r[pos++]]+bth[r[pos++]]}},CookieHandler:function(generator,cookieName){var _idGenerator=generator,_cookieName=cookieName;this.getCookie=function(){for(var name=_cookieName+"=",allCookies=document.cookie.split(";"),ret=null,i=0;i<allCookies.length;i++){for(var cookie=allCookies[i];" "===cookie.charAt(0);)cookie=cookie.substring(1);-1!==cookie.indexOf(name)&&(ret=cookie.substring(name.length,cookie.length))}return null===ret&&(ret=_idGenerator.generateUid(),this.setCookie(ret)),ret},this.setCookie=function(value){var d=new Date;d.setTime(d.getTime()+2592e6);var expires="expires="+d.toUTCString(),domain="domain="+function(){var domain=location.host;2==(domain.match(/\./g)||[]).length&&(domain=domain.substring(domain.indexOf(".")+1));return domain}();document.cookie=_cookieName+"="+value+"; "+expires+"; "+domain+"; path=/; SameSite=None; Secure"}},FlashDetector:function(){this.getFlashAvailability=function(browser,plugins){if("Chrome"===browser){for(var i=0;i<plugins.length;i++)if(-1!==plugins[i].name.indexOf("Shockwave Flash"))return!0;return!1}return null}}};"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=innogamesUtils),function(window){"use strict";var ready=function(callback){registerOrRunCallback(callback),bindReady()},document=window.document,readyBound=!1,callbackQueue=[],registerOrRunCallback=function(callback){"function"==typeof callback&&callbackQueue.push(callback)},DOMContentLoaded=function(){document.addEventListener?document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1):document.detachEvent("onreadystatechange",DOMContentLoaded),DOMReady()},DOMReady=function(){if(!ready.isReady){if(!document.body)return setTimeout(DOMReady,1);ready.isReady=!0,function(){for(;callbackQueue.length;)callbackQueue.shift()();registerOrRunCallback=function(callback){callback()}}()}},bindReady=function(){var toplevel=!1;if(!readyBound)if(readyBound=!0,"loading"!==document.readyState&&DOMReady(),document.addEventListener)document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1),window.addEventListener("load",DOMContentLoaded,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded),window.attachEvent("onload",DOMContentLoaded);try{toplevel=null==window.frameElement}catch(e){}document.documentElement.doScroll&&toplevel&&doScrollCheck()}},doScrollCheck=function(){if(!ready.isReady){try{document.documentElement.doScroll("left")}catch(error){return void setTimeout(doScrollCheck,1)}DOMReady()}};ready.isReady=!1,window.ready=ready}(window);var B64={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),encode:function(s){var nan0,nan1,nan2,buffer=B64.toUtf8(s),position=-1,len=buffer.length,enc=[,,,];if(B64.ie){for(var result=[];++position<len;)nan0=buffer[position],nan1=buffer[++position],enc[0]=nan0>>2,enc[1]=(3&nan0)<<4|nan1>>4,isNaN(nan1)?enc[2]=enc[3]=64:(nan2=buffer[++position],enc[2]=(15&nan1)<<2|nan2>>6,enc[3]=isNaN(nan2)?64:63&nan2),result.push(B64.alphabet.charAt(enc[0]),B64.alphabet.charAt(enc[1]),B64.alphabet.charAt(enc[2]),B64.alphabet.charAt(enc[3]));return result.join("")}for(result="";++position<len;)nan0=buffer[position],nan1=buffer[++position],enc[0]=nan0>>2,enc[1]=(3&nan0)<<4|nan1>>4,isNaN(nan1)?enc[2]=enc[3]=64:(nan2=buffer[++position],enc[2]=(15&nan1)<<2|nan2>>6,enc[3]=isNaN(nan2)?64:63&nan2),result+=B64.alphabet[enc[0]]+B64.alphabet[enc[1]]+B64.alphabet[enc[2]]+B64.alphabet[enc[3]];return result},decode:function(s){if(s.length%4)throw new Error("InvalidCharacterError: 'B64.decode' failed: The string to be decoded is not correctly encoded.");var buffer=B64.fromUtf8(s),position=0,len=buffer.length;if(B64.ieo){for(var result=[];position<len;)buffer[position]<128?result.push(String.fromCharCode(buffer[position++])):191<buffer[position]&&buffer[position]<224?result.push(String.fromCharCode((31&buffer[position++])<<6|63&buffer[position++])):result.push(String.fromCharCode((15&buffer[position++])<<12|(63&buffer[position++])<<6|63&buffer[position++]));return result.join("")}for(result="";position<len;)buffer[position]<128?result+=String.fromCharCode(buffer[position++]):191<buffer[position]&&buffer[position]<224?result+=String.fromCharCode((31&buffer[position++])<<6|63&buffer[position++]):result+=String.fromCharCode((15&buffer[position++])<<12|(63&buffer[position++])<<6|63&buffer[position++]);return result},toUtf8:function(s){var chr,position=-1,len=s.length,buffer=[];if(/^[\x00-\x7f]*$/.test(s))for(;++position<len;)buffer.push(s.charCodeAt(position));else for(;++position<len;)(chr=s.charCodeAt(position))<128?buffer.push(chr):chr<2048?buffer.push(chr>>6|192,63&chr|128):buffer.push(chr>>12|224,chr>>6&63|128,63&chr|128);return buffer},fromUtf8:function(s){var len,position=-1,buffer=[],enc=[,,,];if(!B64.lookup){for(len=B64.alphabet.length,B64.lookup={};++position<len;)B64.lookup[B64.alphabet.charAt(position)]=position;position=-1}for(len=s.length;++position<len&&(enc[0]=B64.lookup[s.charAt(position)],enc[1]=B64.lookup[s.charAt(++position)],buffer.push(enc[0]<<2|enc[1]>>4),enc[2]=B64.lookup[s.charAt(++position)],64!=enc[2])&&(buffer.push((15&enc[1])<<4|enc[2]>>2),enc[3]=B64.lookup[s.charAt(++position)],64!=enc[3]);)buffer.push((3&enc[2])<<6|enc[3]);return buffer}};"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=B64),function(name,context,definition){"undefined"!=typeof module&&module.exports?module.exports=definition():"function"==typeof define&&define.amd?define(definition):context.Fingerprint=definition()}(0,this,function(){"use strict";var Fingerprint=function(options){var nativeForEach,nativeMap;nativeForEach=Array.prototype.forEach,nativeMap=Array.prototype.map,this.each=function(obj,iterator,context){if(null!==obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++)if(iterator.call(context,obj[i],i,obj)==={})return}else for(var key in obj)if(obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj)==={})return},this.map=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(this.each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),results)},"object"==typeof options?(this.hasher=options.hasher,this.screen_resolution=options.screen_resolution,this.screen_orientation=options.screen_orientation,this.canvas=options.canvas,this.ie_activex=options.ie_activex):"function"==typeof options&&(this.hasher=options)};return Fingerprint.prototype={get:function(){var keys=[];if(keys.push(navigator.userAgent),keys.push(navigator.language),keys.push(screen.colorDepth),this.screen_resolution){var resolution=this.getScreenResolution();void 0!==resolution&&keys.push(resolution.join("x"))}return keys.push((new Date).getTimezoneOffset()),keys.push(this.hasSessionStorage()),keys.push(this.hasLocalStorage()),keys.push(this.hasIndexDb()),document.body?keys.push(typeof document.body.addBehavior):keys.push("undefined"),keys.push(typeof window.openDatabase),keys.push(navigator.cpuClass),keys.push(navigator.platform),keys.push(navigator.doNotTrack),keys.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&keys.push(this.getCanvasFingerprint()),this.hasher?this.hasher(keys.join("###"),31):this.murmurhash3_32_gc(keys.join("###"),31)},murmurhash3_32_gc:function(key,seed){var remainder,bytes,h1,h1b,c1,c2,k1,i;for(remainder=3&key.length,bytes=key.length-remainder,h1=seed,c1=3432918353,c2=461845907,i=0;i<bytes;)k1=255&key.charCodeAt(i)|(255&key.charCodeAt(++i))<<8|(255&key.charCodeAt(++i))<<16|(255&key.charCodeAt(++i))<<24,++i,h1=27492+(65535&(h1b=5*(65535&(h1=(h1^=k1=(65535&(k1=(k1=(65535&k1)*c1+(((k1>>>16)*c1&65535)<<16)&4294967295)<<15|k1>>>17))*c2+(((k1>>>16)*c2&65535)<<16)&4294967295)<<13|h1>>>19))+((5*(h1>>>16)&65535)<<16)&4294967295))+((58964+(h1b>>>16)&65535)<<16);switch(k1=0,remainder){case 3:k1^=(255&key.charCodeAt(i+2))<<16;case 2:k1^=(255&key.charCodeAt(i+1))<<8;case 1:h1^=k1=(65535&(k1=(k1=(65535&(k1^=255&key.charCodeAt(i)))*c1+(((k1>>>16)*c1&65535)<<16)&4294967295)<<15|k1>>>17))*c2+(((k1>>>16)*c2&65535)<<16)&4294967295}return h1^=key.length,h1=2246822507*(65535&(h1^=h1>>>16))+((2246822507*(h1>>>16)&65535)<<16)&4294967295,h1=3266489909*(65535&(h1^=h1>>>13))+((3266489909*(h1>>>16)&65535)<<16)&4294967295,(h1^=h1>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasIndexDb:function(){try{return!!window.indexedDB}catch(e){return!0}},isCanvasSupported:function(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(p){var mimeTypes=this.map(p,function(mt){return[mt.type,mt.suffixes].join("~")}).join(",");return[p.name,p.description,mimeTypes].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(name){try{return new ActiveXObject(name),name}catch(e){return null}}).join(";")}return""},getScreenResolution:function(){return this.screen_orientation?screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]:[screen.height,screen.width]},getCanvasFingerprint:function(){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),txt="http://valve.github.io";return ctx.textBaseline="top",ctx.font="14px 'Arial'",ctx.textBaseline="alphabetic",ctx.fillStyle="#f60",ctx.fillRect(125,1,62,20),ctx.fillStyle="#069",ctx.fillText(txt,2,15),ctx.fillStyle="rgba(102, 204, 0, 0.7)",ctx.fillText(txt,4,17),canvas.toDataURL()}},Fingerprint}),Date.prototype.toISOString||function(){function pad(number){return number<10?"0"+number:number}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1)+"-"+pad(this.getUTCDate())+"T"+pad(this.getUTCHours())+":"+pad(this.getUTCMinutes())+":"+pad(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}();var innogames={Metrics:function(){var _context,_b64Encoder,_fingerprint,_contextValidator,_idGenerator,_cookieHandler,_fileName,_endPoint,_flashAvailable,_init=!1,_userIpPlaceHolder="###USER_IP###",_osType="browser",_timerId=null,_clickMetricsCollected=!1;function registerListener(target,eventType,listener){target.addEventListener?target.addEventListener(eventType,listener,!1):target.attachEvent&&(eventType="on"+eventType,target.attachEvent(eventType,listener))}function collectOnFocusMetrics(event){var element=this!==window?this:event.srcElement,obj={event_name:"page-input",event_scope:"user",data:{state:"begin",field_name:resolveElementName(element),value:element.value.length}};addContext(obj,null),collectMetric(obj)}function collectOnBlurMetrics(event){var element=this!==window?this:event.srcElement,type=resolveElementName(element),valueLength=element.value.length;void 0!==element.type&&"checkbox"===element.type.toLowerCase()&&(valueLength=3,element.checked&&(valueLength=2));var obj={event_name:"page-input",event_scope:"user",data:{state:"end",field_name:type,value:valueLength}};addContext(obj,null),collectMetric(obj)}function collectOnClickMetrics(event){if(!0!==_clickMetricsCollected){var isExternalLink,element=void 0!==event.target?event.target:event.srcElement,obj={event_name:"page-interaction",event_scope:"user",data:{interaction_type:"click",element_id:resolveElementName(element),coordinates:{x_coord:event.clientX,y_coord:event.clientY}}},href=element.getAttribute("href");void 0!==href&&null!=href&&-1==href.indexOf("#")&&0<href.length&&"_blank"!==element.getAttribute("target")&&(isExternalLink=!0);var callBackFunction=!1;isExternalLink&&(event.preventDefault?event.preventDefault():event.returnValue=!1,_clickMetricsCollected=!0,callBackFunction=function(){if("function"==typeof Event)var clickEvent=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});else(clickEvent=document.createEvent("MouseEvent")).initEvent("click",!0,!0,{view:window});element.dispatchEvent(clickEvent)}),addContext(obj,null),collectMetric(obj,callBackFunction)}}function collectOnScrollMetrics(event){if(null===_timerId){var elementId=null,element=this!==window?this:event.srcElement;this!==window&&(elementId=resolveElementName(element));var timeout=300;void 0!==_context.onScrollTimeout&&(timeout=_context.onScrollTimeout);var coorX=0,coorY=0;void 0!==event&&(coorX=event.clientX?event.clientX:0,coorY=event.clientY?event.clientY:0);var obj={event_name:"page-interaction",event_scope:"user",data:{interaction_type:"scroll",element_id:elementId,coordinates:{x_coord:coorX,y_coord:coorY},scroll_depth:{x:Math.round(window.pageXOffset||("CSS1Compat"===document.compatMode?document.documentElement.scrollLeft:document.body.scrollLeft)),y:Math.round(window.pageYOffset||("CSS1Compat"===document.compatMode?document.documentElement.scrollTop:document.body.scrollTop))}}};addContext(obj,null),collectMetric(obj),_timerId=setTimeout(function(){_timerId=null},timeout)}}function collectPageUnloadMetrics(){var obj={event_name:"page-unload",event_scope:"user",data:{}};addPerformanceTiming(obj),addContext(obj,null),collectMetric(obj)}function collectPageLoadedMetrics(){var obj={event_name:"page-loaded",event_scope:"system",data:{}};addPerformanceTiming(obj),addContext(obj,null),collectMetric(obj)}function collectPageReadyMetrics(){var resolution={width:parseInt(window.screen.width),height:parseInt(window.screen.height)},obj={event_type:_context.eventType,event_name:"page-ready",event_scope:"system",data:{resolution:resolution,flash_available:_flashAvailable}};addPerformanceTiming(obj),addContext(obj,null),collectMetric(obj)}function resolveElementName(elm){if(void 0!==elm&&elm.getAttribute){if(elm.getAttribute("id"))return elm.getAttribute("id");if(elm.getAttribute("class"))return elm.getAttribute("class")}return null}function addPerformanceTiming(obj){try{var timing=JSON.parse(JSON.stringify(window.performance.timing));for(key in timing)timing[key]=parseInt(timing[key]);var duration=null,timingEndAttribute=null,timingBeginAttribute=null;switch(obj.event_name){case"page-loaded":timingEndAttribute=timing.loadEventStart,timingBeginAttribute=timing.navigationStart;break;case"page-ready":timingEndAttribute=timing.domInteractive,timingBeginAttribute=timing.navigationStart;break;case"page-unload":timingEndAttribute=window.performance.now(),timingBeginAttribute=timing.domInteractive-timing.navigationStart;break;default:timingEndAttribute=timingBeginAttribute=null}null!==timingEndAttribute&&null!==timingBeginAttribute&&(duration=timingEndAttribute-timingBeginAttribute),obj.data||(obj.data={}),obj.data.timing=timing,obj.data.duration=duration}catch(e){}return obj}function addContext(obj,playerId){var date=(new Date).toISOString(),vid=_cookieHandler.getCookie(),userAgent=navigator.userAgent?navigator.userAgent:null,w=parseInt(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth||0),h=parseInt(window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight||0),viewport=null;return w&&0<=w&&h&&0<=h&&(viewport={width:w,height:h}),obj.schema_version=_context.schemaVersion,obj.event_id="###UUID###",obj.system_type=_context.systemType?_context.systemType:null,obj.system_name=_context.systemName?_context.systemName:null,obj.game=_context.gameId?_context.gameId:null,obj.market=_context.marketId?_context.marketId:null,obj.player_id=playerId?parseInt(playerId):null,obj.event_type=_context.eventType?_context.eventType:null,obj.created_at=date,obj.received_at=null,obj.hostname=window.location.hostname,obj.context={category:_context.category?_context.category:null,visitor_id:vid||null,fingerprint:_fingerprint||null,user_ip:_userIpPlaceHolder,os_type:_osType,user_agent:userAgent,landing_page_id:_context.landingPageId?_context.landingPageId:null,partner_prefix:_context.partnerPrefix?_context.partnerPrefix:null,campaign_id:_context.campaignId?_context.campaignId:null,banner_id:_context.bannerId?_context.bannerId:null,creative_id:_context.creativeId?_context.creativeId:null,publisher_id:_context.publisherId?_context.publisherId:null,viewport:viewport},_context.backend_request_event_id&&(obj.context.backend_request_event_id=_context.backend_request_event_id),obj}function collectMetric(envelopedData,fn){if(!_init)throw"collectMetric: Metrics was not initialized.";var param=function(obj){var ret=null;try{ret=JSON.stringify(obj),ret=_b64Encoder.encode(ret)}catch(e){return}return ret}(envelopedData);param&&function(parameter,fn){if(parameter instanceof String)return debug("metrics.loadPixel: parameter is not a String!");var img=new Image;if(img.src=_endPoint+"/"+_fileName+".gif?data="+parameter,img.style.display="none",fn){var pixelTimer=window.setTimeout(function(){fn&&fn.call()},300);img.onload=function(){document.body.appendChild(img),window.clearTimeout(pixelTimer),fn&&fn.call()}}else document.body.appendChild(img)}(param,fn)}this.init=function(context,b64Encoder,fingerprintGenerator){(_contextValidator=new innogamesUtils.ConfigurationValidator).validateConfiguration(context),_context=context,_idGenerator=new innogamesUtils.UniqueIdentifierGenerator,(_cookieHandler=new innogamesUtils.CookieHandler(_idGenerator,"metricsUvId")).getCookie();var _fingerprintGenerator=fingerprintGenerator;(_b64Encoder=b64Encoder)&&_fingerprintGenerator||(_b64Encoder=B64,_fingerprintGenerator=new Fingerprint({canvas:!0})),_init=!0,_fingerprint=_fingerprintGenerator.get(function(result){}),_fileName=_context.fileName,_endPoint=_context.metricsUrl,void 0!==_context.browser?(_flashDetector=new innogamesUtils.FlashDetector,_flashAvailable=_flashDetector.getFlashAvailability(_context.browser,navigator.plugins)):_flashAvailable=null},this.changeContext=function(context){for(p in context)_context[p]=context[p];_contextValidator.validateConfiguration(_context)},this.bindPageReadyEvent=function(){ready(collectPageReadyMetrics)},this.bindPageLoadedEvent=function(){registerListener(window,"load",collectPageLoadedMetrics)},this.bindUnloadEvent=function(){registerListener(window,"unload",collectPageUnloadMetrics)},this.bindOnScrollEvent=function(){registerListener(window,"scroll",collectOnScrollMetrics)},this.bindOnFocusEvent=function(target){registerListener(target,"focus",collectOnFocusMetrics)},this.bindOnBlurEvent=function(target){registerListener(target,"blur",collectOnBlurMetrics)},this.bindOnBlurEventOnClick=function(target){registerListener(target,"click",collectOnBlurMetrics)},this.bindOnClickEvent=function(target){registerListener(target,"click",collectOnClickMetrics)},this.collectErrorMetrics=function(elementId,valueLength,errorCode){if(void 0===errorCode||void 0===elementId||void 0===valueLength)throw"collectErrorMetrics: neither errorCode nor elementId nor valueLength were provided";var obj={event_name:"page-input",event_scope:"user",data:{state:"error",field_name:elementId,value:valueLength,error_code:errorCode||null}};addContext(obj,null),collectMetric(obj)},this.collectValidationSuccessMetrics=function(elementId,valueLength){if(void 0===elementId||void 0===valueLength)throw"collectValidationSuccessMetrics: neither elementId nor valueLength were not provided";var obj={event_name:"page-input",event_scope:"user",data:{state:"successful",field_name:elementId,value:valueLength}};addContext(obj,null),collectMetric(obj)},this.collectRegisterSuccessMetrics=function(playerId){if(!playerId)throw"collectRegisterSuccessMetrics: playerId has to be set";var obj={event_name:"conversion-registration",event_scope:"user",data:{player_id:parseInt(playerId),flash_available:_flashAvailable}};addContext(obj,playerId),collectMetric(obj)},this.collectSSOMetrics=function(playerId,redirectUrl){if(!playerId||!redirectUrl)throw"collectSSOMetrics: playerId and redirectUrl must be set";var obj={event_name:"conversion-sso",event_scope:"system",data:{player_id:parseInt(playerId),url:redirectUrl}};addContext(obj,playerId),collectMetric(obj)},this.collectAccountLoginMetrics=function(playerId,redirectUrl){if(!playerId||!redirectUrl)throw"collectAccountLoginMetrics: playerId and redirectUrl must be set";var obj={event_name:"conversion-account-login",event_scope:"user",data:{player_id:parseInt(playerId),url:redirectUrl}};addContext(obj,playerId),collectMetric(obj)},this.collectNoScriptPageErrorMetrics=function(){var obj={event_name:"page-error",event_scope:"system",data:{error_type:"noscript",error_message:"Javascript deactivated on browser"}};addContext(obj,null);var pageErrorEvent=JSON.stringify(obj);pageErrorEvent=_b64Encoder.encode(pageErrorEvent);try{console.log(pageErrorEvent)}catch(e){}},this.collectNoCookiesPageErrorMetrics=function(){var obj={event_name:"page-error",event_scope:"system",data:{error_type:"cookies",error_message:"Cookies deactivated on browser"}};addContext(obj,null),collectMetric(obj)}}};"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=innogames.Metrics);